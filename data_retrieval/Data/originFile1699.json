{"items":[{"tags":["java","many-to-many"],"comments":[{"owner":{"account_id":20173270,"reputation":850,"user_id":14795595,"display_name":"0xRyN"},"score":0,"creation_date":1641674159,"post_id":70635836,"comment_id":124868270,"body_markdown":"This is unclear. Can you clarify a bit ?","body":"This is unclear. Can you clarify a bit ?"},{"owner":{"account_id":21914217,"reputation":21,"user_id":16198322,"display_name":"Aizen-ofc"},"score":0,"creation_date":1641730657,"post_id":70635836,"comment_id":124877093,"body_markdown":"Well . The problem here is how to write in code the relationship between class Hotel and Client as shown in the picture . Client here can reserve many time and so on the hotel can have many client but the arrow in the relationship there is saying that hotel shouldn&#39;t have an inctence of client (undirectionnel relationship) so I&#39;m confused how to apply all that in my code .And to mention that I can&#39;t use SQl in this situation just arrayLists or victor","body":"Well . The problem here is how to write in code the relationship between class Hotel and Client as shown in the picture . Client here can reserve many time and so on the hotel can have many client but the arrow in the relationship there is saying that hotel shouldn&#39;t have an inctence of client (undirectionnel relationship) so I&#39;m confused how to apply all that in my code .And to mention that I can&#39;t use SQl in this situation just arrayLists or victor"}],"owner":{"account_id":21914217,"reputation":21,"user_id":16198322,"display_name":"Aizen-ofc"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641674868,"creation_date":1641671070,"question_id":70635836,"body_markdown":"I made a UML diagram and started my code but i don&#39;t know how to present undirectional many to many relationship in my java code . As I looked for it I found that in this situation I need to create an arrayList but the issue here is I don&#39;t know if I should create 2 arrayLists in both client class and hotel class (shown in the picture) or just one arrayliste in client.\r\n\r\nI have to mention that this one is an exercise so i can&#39;t change the uml diagram. \r\n\r\nAny ideas ?\r\n\r\n\r\n[![https://i.stack.imgur.com/47MiY.png][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/47MiY.png","title":"Undirectional many to many in Java","body":"<p>I made a UML diagram and started my code but i don't know how to present undirectional many to many relationship in my java code . As I looked for it I found that in this situation I need to create an arrayList but the issue here is I don't know if I should create 2 arrayLists in both client class and hotel class (shown in the picture) or just one arrayliste in client.</p>\n<p>I have to mention that this one is an exercise so i can't change the uml diagram.</p>\n<p>Any ideas ?</p>\n<p><a href=\"https://i.stack.imgur.com/47MiY.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/47MiY.png\" alt=\"https://i.stack.imgur.com/47MiY.png\" /></a></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1641672138,"post_id":70635946,"comment_id":124867819,"body_markdown":"What is blocking you from adding a method to `Animal` and `Owner` that increases the age by one?","body":"What is blocking you from adding a method to <code>Animal</code> and <code>Owner</code> that increases the age by one?"},{"owner":{"account_id":6522844,"reputation":2162,"user_id":10919349,"display_name":"Richard K Yu"},"score":0,"creation_date":1641673354,"post_id":70635946,"comment_id":124868076,"body_markdown":"I don&#39;t know much about serialization but don&#39;t we need the UID in the classes too.","body":"I don&#39;t know much about serialization but don&#39;t we need the UID in the classes too."}],"answers":[{"tags":[],"owner":{"account_id":19019346,"reputation":23,"user_id":13883711,"display_name":"Bastitron"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641674315,"creation_date":1641673435,"answer_id":70636131,"question_id":70635946,"body_markdown":"Create getter and setter for the age and owner in the animal class.\r\nThen add the same getter and setter for the age to the owner class.   \r\n\r\n    public Owner getOwner() {\r\n        return this.owner;\r\n    }\r\n\r\n    public void setOwner(Owner owner) {\r\n        this.owner = owner;\r\n    }\r\n\r\n    public int getAge() {\r\n        return this.age;\r\n    }\r\n   \r\n    public void setAge(int age) {\r\n        this.age = age;\r\n    }\r\n\r\nNow you can create some where this method to increase the age by a value like one.\r\n\r\n    public static void increaseBothAges(Animal animal, int value) {\r\n        animal.setAge(animal.getAge() + value);\r\n        Owner owner = animal.getOwner();\r\n        owner.setAge(owner.getAge() + value);\r\n    }","title":"Java method for increasing all animal and owner objects age by 1","body":"<p>Create getter and setter for the age and owner in the animal class.\nThen add the same getter and setter for the age to the owner class.</p>\n<pre><code>public Owner getOwner() {\n    return this.owner;\n}\n\npublic void setOwner(Owner owner) {\n    this.owner = owner;\n}\n\npublic int getAge() {\n    return this.age;\n}\n\npublic void setAge(int age) {\n    this.age = age;\n}\n</code></pre>\n<p>Now you can create some where this method to increase the age by a value like one.</p>\n<pre><code>public static void increaseBothAges(Animal animal, int value) {\n    animal.setAge(animal.getAge() + value);\n    Owner owner = animal.getOwner();\n    owner.setAge(owner.getAge() + value);\n}\n</code></pre>\n"}],"owner":{"account_id":23872855,"reputation":1,"user_id":17874340,"display_name":"Marcin Bocis"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":161,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1641674315,"creation_date":1641671863,"question_id":70635946,"body_markdown":"Hi im working with my friends on a school project of animal garden. We have animal class, dog, cat and turtle class that inherit from animal class. I also have owner class.  I can`t solve method to increase all animals and owners by age 1. The metod would be initiated in menu class \r\nowner class\r\n  \r\n    import java.io.Serializable;\r\n    \r\n  \r\n    public class Owner implements Serializable {\r\n        private String name, surname; \r\n        private char gender; \r\n        private int age;\r\n  \r\n        @Override public String toString() {\r\n            return name + &quot; &quot;+ surname + &quot;, &quot;+ gender+ &quot;, &quot;+age;\r\n        }\r\n    \r\n  \r\n \r\nanimal class \r\n\r\n    import java.io.Serializable;\r\n    \r\n   \r\n    public class Animal  implements Serializable {\r\n        protected String name; \r\n        protected char gender; \r\n        protected int age; \r\n        protected Point actualPosition;\r\n        protected Owner owner;\r\n      \r\n        public Animal(){\r\n            this.actualPosition = new Point(0,0);\r\n        }\r\n        \r\n        public boolean move(int x, int y){\r\n    \r\n            this.actualPosition.x += x; \r\n            this.actualPosition.y += y; \r\n    \r\n          \r\n            return true;\r\n        }\r\n    ","title":"Java method for increasing all animal and owner objects age by 1","body":"<p>Hi im working with my friends on a school project of animal garden. We have animal class, dog, cat and turtle class that inherit from animal class. I also have owner class.  I can`t solve method to increase all animals and owners by age 1. The metod would be initiated in menu class\nowner class</p>\n<pre><code>import java.io.Serializable;\n\n\npublic class Owner implements Serializable {\n    private String name, surname; \n    private char gender; \n    private int age;\n\n    @Override public String toString() {\n        return name + &quot; &quot;+ surname + &quot;, &quot;+ gender+ &quot;, &quot;+age;\n    }\n</code></pre>\n<p>animal class</p>\n<pre><code>import java.io.Serializable;\n\n\npublic class Animal  implements Serializable {\n    protected String name; \n    protected char gender; \n    protected int age; \n    protected Point actualPosition;\n    protected Owner owner;\n  \n    public Animal(){\n        this.actualPosition = new Point(0,0);\n    }\n    \n    public boolean move(int x, int y){\n\n        this.actualPosition.x += x; \n        this.actualPosition.y += y; \n\n      \n        return true;\n    }\n</code></pre>\n"},{"tags":["java","hibernate","spring-data-jpa"],"owner":{"account_id":18211039,"reputation":1140,"user_id":13253563,"display_name":"Denys_newbie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1641665821,"answer_count":0,"score":1,"last_activity_date":1641674150,"creation_date":1641656774,"question_id":70633916,"body_markdown":"I am using Spring Data JPA with Hibernate inside and PostgreSQL and RDBMS. And I created `User` class and `Role` class. `User` can have multiple roles. I want to delete `Role` which related to deleted `User` so I used\r\n`@ManyToMany(cascade = CascadeType.ALL)` , but when I delete `user1` in `DBInit` related role has not been deleted and I don&#39;t know why. `Role` class is the owner of relation, so `Role` as subordinate class should be deleted too as I use `@ManyToMany(cascade = CascadeType.ALL)`. After `run()` method in `DBInit` executed I have empty `users` table and empty `users_roles` table as I expected, but `roles` table has still has record. So why is that and to to remove cascade `Role` when I delete `User`? The relation is unidirectional, so I don&#39;t need to synchronize anything.\r\n\r\nEdit: I use `@ManyToMany` relation so using `orphanRemoval=true` is not my case. `@ManyToMany` annotation doesn&#39;t even have `orphanRemoval` parameter.\r\n\r\nroles table\r\n\r\n| id | roles |\r\n|----|-------|\r\n|1   |User   |\r\n\r\nUser.java\r\n```java\r\n@Entity\r\n@Table(name = &quot;users&quot;)\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\npublic class User\r\n{\r\n    @Id\r\n    @Getter\r\n    @Setter\r\n    private String email;\r\n    \r\n    @Getter\r\n    @Setter\r\n    @ManyToMany(cascade = CascadeType.ALL)\r\n    private List&lt;Role&gt; roles;\r\n}\r\n```\r\nRole.java\r\n```java\r\n@Entity\r\n@Table(name = &quot;roles&quot;)\r\n@NoArgsConstructor\r\npublic class Role\r\n{\r\n    @Id\r\n    @GeneratedValue\r\n    @Getter\r\n    @Setter\r\n    private int id;\r\n    \r\n    @Getter\r\n    @Setter\r\n    String roleName;\r\n    \r\n    public Role(String roleName)\r\n    {\r\n        this.roleName = roleName;\r\n    }\r\n}\r\n```\r\nUserRepository\r\n```java\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;User, String&gt;\r\n{\r\n}\r\n```\r\nRoleRepository\r\n```java\r\n@Service\r\npublic interface RoleRepository extends JpaRepository&lt;Role, Integer&gt;\r\n{\r\n}\r\n```\r\nDBInit.java\r\n```java\r\n@Service\r\npublic class DBInit implements CommandLineRunner\r\n{\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n    \r\n    @Override\r\n    public void run(String[] args)\r\n    {\r\n        List&lt;Role&gt; roles1 = new ArrayList&lt;&gt;();\r\n        roles1.add(new Role(&quot;User&quot;));\r\n        User user1 = new User(&quot;email1@email.com&quot;, roles1);\r\n        \r\n        userRepository.save(user1);\r\n        userRepository.delete(user1);\r\n    }\r\n}\r\n```\r\nThis is my last 3 hibernate queries, so hibernate tried to delete a record from `roles`, but something goes wrong\r\n```\r\nHibernate: \r\n    delete \r\n    from\r\n        users_roles \r\n    where\r\n        user_email=?\r\nHibernate: \r\n    delete \r\n    from\r\n        roles \r\n    where\r\n        id=?\r\nHibernate: \r\n    delete \r\n    from\r\n        users \r\n    where\r\n        email=?\r\n```","title":"I used @ManyToMany(cascade = CascadeType.ALL) but inverse side of relation doesn&#39;t get deleted","body":"<p>I am using Spring Data JPA with Hibernate inside and PostgreSQL and RDBMS. And I created <code>User</code> class and <code>Role</code> class. <code>User</code> can have multiple roles. I want to delete <code>Role</code> which related to deleted <code>User</code> so I used\n<code>@ManyToMany(cascade = CascadeType.ALL)</code> , but when I delete <code>user1</code> in <code>DBInit</code> related role has not been deleted and I don't know why. <code>Role</code> class is the owner of relation, so <code>Role</code> as subordinate class should be deleted too as I use <code>@ManyToMany(cascade = CascadeType.ALL)</code>. After <code>run()</code> method in <code>DBInit</code> executed I have empty <code>users</code> table and empty <code>users_roles</code> table as I expected, but <code>roles</code> table has still has record. So why is that and to to remove cascade <code>Role</code> when I delete <code>User</code>? The relation is unidirectional, so I don't need to synchronize anything.</p>\n<p>Edit: I use <code>@ManyToMany</code> relation so using <code>orphanRemoval=true</code> is not my case. <code>@ManyToMany</code> annotation doesn't even have <code>orphanRemoval</code> parameter.</p>\n<p>roles table</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>roles</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>User</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>User.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;users&quot;)\n@NoArgsConstructor\n@AllArgsConstructor\npublic class User\n{\n    @Id\n    @Getter\n    @Setter\n    private String email;\n    \n    @Getter\n    @Setter\n    @ManyToMany(cascade = CascadeType.ALL)\n    private List&lt;Role&gt; roles;\n}\n</code></pre>\n<p>Role.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;roles&quot;)\n@NoArgsConstructor\npublic class Role\n{\n    @Id\n    @GeneratedValue\n    @Getter\n    @Setter\n    private int id;\n    \n    @Getter\n    @Setter\n    String roleName;\n    \n    public Role(String roleName)\n    {\n        this.roleName = roleName;\n    }\n}\n</code></pre>\n<p>UserRepository</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface UserRepository extends JpaRepository&lt;User, String&gt;\n{\n}\n</code></pre>\n<p>RoleRepository</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic interface RoleRepository extends JpaRepository&lt;Role, Integer&gt;\n{\n}\n</code></pre>\n<p>DBInit.java</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class DBInit implements CommandLineRunner\n{\n    @Autowired\n    private UserRepository userRepository;\n    \n    @Override\n    public void run(String[] args)\n    {\n        List&lt;Role&gt; roles1 = new ArrayList&lt;&gt;();\n        roles1.add(new Role(&quot;User&quot;));\n        User user1 = new User(&quot;email1@email.com&quot;, roles1);\n        \n        userRepository.save(user1);\n        userRepository.delete(user1);\n    }\n}\n</code></pre>\n<p>This is my last 3 hibernate queries, so hibernate tried to delete a record from <code>roles</code>, but something goes wrong</p>\n<pre><code>Hibernate: \n    delete \n    from\n        users_roles \n    where\n        user_email=?\nHibernate: \n    delete \n    from\n        roles \n    where\n        id=?\nHibernate: \n    delete \n    from\n        users \n    where\n        email=?\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":18361187,"reputation":686,"user_id":13373270,"display_name":"codebod"},"score":1,"creation_date":1641676144,"post_id":70636204,"comment_id":124868767,"body_markdown":"`first.next` is assigned at the first execution of the line `oldLast.next = last`, because in this unique case `first` is equal to `last`.","body":"<code>first.next</code> is assigned at the first execution of the line <code>oldLast.next = last</code>, because in this unique case <code>first</code> is equal to <code>last</code>."},{"owner":{"account_id":23667337,"reputation":1467,"user_id":17694626,"display_name":"Cheng Thao"},"score":0,"creation_date":1641678962,"post_id":70636204,"comment_id":124869308,"body_markdown":"Are you required to implement LinkedList?  If not, you can use java.util.LinkedList.  Then, your queue is just a wrapper class that uses a LinkedList..","body":"Are you required to implement LinkedList?  If not, you can use java.util.LinkedList.  Then, your queue is just a wrapper class that uses a LinkedList.."},{"owner":{"account_id":23797419,"reputation":31,"user_id":17808089,"display_name":"jeffma"},"score":0,"creation_date":1641690195,"post_id":70636204,"comment_id":124871199,"body_markdown":"@codebod I think I know what you mean. Is it: after the first execution of `enqueue`, `last` and `first` share the same address, whereas in the second execution, line `Node oldLast = last` makes `last`, `first`, `oldLast` share the same address, therefore `first` is actually the same as `oldLast`?","body":"@codebod I think I know what you mean. Is it: after the first execution of <code>enqueue</code>, <code>last</code> and <code>first</code> share the same address, whereas in the second execution, line <code>Node oldLast = last</code> makes <code>last</code>, <code>first</code>, <code>oldLast</code> share the same address, therefore <code>first</code> is actually the same as <code>oldLast</code>?"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1641853621,"post_id":70636204,"comment_id":124911553,"body_markdown":"`last` wouldn&#39;t share the same address in the second execution as it is a new node(2) and the line `oldlast.next=last` assigns `first.next` to the node with 2 in this case.","body":"<code>last</code> wouldn&#39;t share the same address in the second execution as it is a new node(2) and the line <code>oldlast.next=last</code> assigns <code>first.next</code> to the node with 2 in this case."}],"owner":{"account_id":23797419,"reputation":31,"user_id":17808089,"display_name":"jeffma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":447,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1641674024,"creation_date":1641674024,"question_id":70636204,"body_markdown":"I am learning Queue in Data Structure, here is the code:\r\n\r\n    public class LinkedListQueue {\r\n        Node first, last;\r\n    \r\n        private class Node {\r\n            String value;\r\n            Node next;\r\n        }\r\n    \r\n        public boolean isEmpty() {\r\n            return first == null;\r\n        }\r\n    \r\n        public void enqueue(String v) {\r\n            Node oldLast = last;\r\n            last = new Node();\r\n            last.value = v;\r\n            last.next = null;\r\n            if(this.isEmpty()){\r\n                System.out.println(&quot;first is null&quot;);\r\n                first = last;\r\n                System.out.println(&quot;first is &quot; + first.value);\r\n            }else{\r\n                oldLast.next = last;\r\n                System.out.println(&quot;first is &quot; + first.value);\r\n                System.out.println(&quot;first.next is &quot; + first.next.value);\r\n            }\r\n    \r\n        }\r\n        public static void main(String[] args){\r\n            LinkedListQueue lsq = new LinkedListQueue();\r\n            lsq.enqueue(&quot;1&quot;);\r\n            lsq.enqueue(&quot;2&quot;);\r\n            lsq.enqueue(&quot;3&quot;);\r\n    }\r\n\r\nAnd the output is like this:\r\n\r\n    first is null\r\n    first is 1\r\n    first is 1\r\n    first.next is 2\r\n    first is 1\r\n    first.next is 2\r\n\r\nIt works but I don&#39;t know where `first.next` is assigned(`dequeue` method is not used and is omitted). It appears to me that after `lsq.enqueue(&quot;1&quot;)` , the  `first` Node should be `value = &quot;1&quot;, next = null` and this remained unchanged because the queue is no longer empty and `first` is never changed in the code. How come `first.next` is 2, or even when I dequeue once, it becomes 3?","title":"Using Linked List to Implement Queue","body":"<p>I am learning Queue in Data Structure, here is the code:</p>\n<pre><code>public class LinkedListQueue {\n    Node first, last;\n\n    private class Node {\n        String value;\n        Node next;\n    }\n\n    public boolean isEmpty() {\n        return first == null;\n    }\n\n    public void enqueue(String v) {\n        Node oldLast = last;\n        last = new Node();\n        last.value = v;\n        last.next = null;\n        if(this.isEmpty()){\n            System.out.println(&quot;first is null&quot;);\n            first = last;\n            System.out.println(&quot;first is &quot; + first.value);\n        }else{\n            oldLast.next = last;\n            System.out.println(&quot;first is &quot; + first.value);\n            System.out.println(&quot;first.next is &quot; + first.next.value);\n        }\n\n    }\n    public static void main(String[] args){\n        LinkedListQueue lsq = new LinkedListQueue();\n        lsq.enqueue(&quot;1&quot;);\n        lsq.enqueue(&quot;2&quot;);\n        lsq.enqueue(&quot;3&quot;);\n}\n</code></pre>\n<p>And the output is like this:</p>\n<pre><code>first is null\nfirst is 1\nfirst is 1\nfirst.next is 2\nfirst is 1\nfirst.next is 2\n</code></pre>\n<p>It works but I don't know where <code>first.next</code> is assigned(<code>dequeue</code> method is not used and is omitted). It appears to me that after <code>lsq.enqueue(&quot;1&quot;)</code> , the  <code>first</code> Node should be <code>value = &quot;1&quot;, next = null</code> and this remained unchanged because the queue is no longer empty and <code>first</code> is never changed in the code. How come <code>first.next</code> is 2, or even when I dequeue once, it becomes 3?</p>\n"},{"tags":["java","spring-mvc","exceptionhandler"],"answers":[{"tags":[],"owner":{"account_id":8131790,"reputation":4798,"user_id":6124796,"accept_rate":69,"display_name":"Mayday"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459249778,"creation_date":1459249778,"answer_id":36282614,"question_id":36282042,"body_markdown":"You can check if that RuntimeException is instance of Exception1.class and call the method directly:\r\n\r\n     private void handleRuntimeException( final RuntimeException e, final HttpServletResponse response ) throws Throwable\r\n    {\r\n        if (e instanceof Exception1) handleAnException(e,response);\r\n        else throw e.getCause(); // Can be of many types\r\n    }","title":"Throwing an exception from @ExceptionHandler to get caught by another handler","body":"<p>You can check if that RuntimeException is instance of Exception1.class and call the method directly:</p>\n\n<pre><code> private void handleRuntimeException( final RuntimeException e, final HttpServletResponse response ) throws Throwable\n{\n    if (e instanceof Exception1) handleAnException(e,response);\n    else throw e.getCause(); // Can be of many types\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13011085,"reputation":959,"user_id":9404093,"display_name":"Charly"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641674002,"creation_date":1641674002,"answer_id":70636200,"question_id":36282042,"body_markdown":"Few years late on this.. but just ran into a need for this in dealing with `@Async` services - when throwing an exception, they get wrapped in the `ExecutionException.class` and wanted my controller advice to direct them to their proper handler, an identical situation you were in.\r\n\r\nUsing reflection, can gather all the methods on the controller advice, sift for the matching `@ExceptionHandler` annotation for `e.getCause().getClass()` then invoke the first found method.\r\n\r\n```\r\n@ControllerAdvice\r\npublic class ExceptionHandlingAdvice\r\n{\r\n    @ExceptionHandler( RuntimeException.class )\r\n    private void handleRuntimeException( final RuntimeException e, final HttpServletResponse response )\r\n    {\r\n        if (e.getCause() != null) {\r\n            Optional&lt;Method&gt; method = Arrays.stream(Rest.Advice.class.getMethods())\r\n                    .filter(m -&gt; {\r\n                        // Get annotation\r\n                        ExceptionHandler annotation = m.getAnnotation(ExceptionHandler.class);\r\n                        // Annotation exists on method and contains cause class\r\n                        return annotation != null &amp;&amp; Arrays.asList(annotation.value()).contains(e.getCause().getClass());\r\n                    })\r\n                    .findFirst();\r\n\r\n            if (method.isPresent()) {\r\n                try {\r\n                    method.get().invoke(this, e.getCause(), response);\r\n                } catch (IllegalAccessException | InvocationTargetException ex) {\r\n                    // Heard you like exceptions on your exceptions while excepting\r\n                    ex.printStackTrace();\r\n                }\r\n            }\r\n        }\r\n        \r\n        // Handle if not sent to another\r\n    }\r\n\r\n    ... other handlers\r\n}\r\n```\r\n\r\nDidn&#39;t test with `void` -- Personally, I return `ResponseEntity&lt;MyStandardErrorResponse&gt;` from my handlers, so my invoke line looks like:\r\n\r\n```\r\nreturn (ResponseEntity&lt;MyStandardErrorResponse&gt;) method.get().invoke(this, e.getCause(), request);\r\n```","title":"Throwing an exception from @ExceptionHandler to get caught by another handler","body":"<p>Few years late on this.. but just ran into a need for this in dealing with <code>@Async</code> services - when throwing an exception, they get wrapped in the <code>ExecutionException.class</code> and wanted my controller advice to direct them to their proper handler, an identical situation you were in.</p>\n<p>Using reflection, can gather all the methods on the controller advice, sift for the matching <code>@ExceptionHandler</code> annotation for <code>e.getCause().getClass()</code> then invoke the first found method.</p>\n<pre><code>@ControllerAdvice\npublic class ExceptionHandlingAdvice\n{\n    @ExceptionHandler( RuntimeException.class )\n    private void handleRuntimeException( final RuntimeException e, final HttpServletResponse response )\n    {\n        if (e.getCause() != null) {\n            Optional&lt;Method&gt; method = Arrays.stream(Rest.Advice.class.getMethods())\n                    .filter(m -&gt; {\n                        // Get annotation\n                        ExceptionHandler annotation = m.getAnnotation(ExceptionHandler.class);\n                        // Annotation exists on method and contains cause class\n                        return annotation != null &amp;&amp; Arrays.asList(annotation.value()).contains(e.getCause().getClass());\n                    })\n                    .findFirst();\n\n            if (method.isPresent()) {\n                try {\n                    method.get().invoke(this, e.getCause(), response);\n                } catch (IllegalAccessException | InvocationTargetException ex) {\n                    // Heard you like exceptions on your exceptions while excepting\n                    ex.printStackTrace();\n                }\n            }\n        }\n        \n        // Handle if not sent to another\n    }\n\n    ... other handlers\n}\n</code></pre>\n<p>Didn't test with <code>void</code> -- Personally, I return <code>ResponseEntity&lt;MyStandardErrorResponse&gt;</code> from my handlers, so my invoke line looks like:</p>\n<pre><code>return (ResponseEntity&lt;MyStandardErrorResponse&gt;) method.get().invoke(this, e.getCause(), request);\n</code></pre>\n"}],"owner":{"account_id":443010,"reputation":3543,"user_id":833982,"accept_rate":57,"display_name":"agentgonzo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3692,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1641674002,"creation_date":1459248183,"question_id":36282042,"body_markdown":"I have a `@ControllerAdvice` class to handle exceptions from my SpringMVC controllers. I would like to catch an exception of a known type (RuntimeException) in an `@ExceptionHandler` method then throw the `e.getCause()` exception and have this exception caught by the same @ControllerAdvice class.\r\n\r\nSample code:\r\n\r\n    @ControllerAdvice\r\n    public class ExceptionHandlingAdvice\r\n    {\r\n        @ExceptionHandler( RuntimeException.class )\r\n        private void handleRuntimeException( final RuntimeException e, final HttpServletResponse response ) throws Throwable\r\n        {\r\n            throw e.getCause(); // Can be of many types\r\n        }\r\n\r\n        // I want any Exception1 exception thrown by the above handler to be caught in this handler\r\n        @ExceptionHandler( Exception1.class )\r\n        private void handleAnException( final Exception1 e, final HttpServletResponse response ) throws Throwable\r\n        {\r\n            // handle exception\r\n        }\r\n    }\r\n\r\nIs this possible?","title":"Throwing an exception from @ExceptionHandler to get caught by another handler","body":"<p>I have a <code>@ControllerAdvice</code> class to handle exceptions from my SpringMVC controllers. I would like to catch an exception of a known type (RuntimeException) in an <code>@ExceptionHandler</code> method then throw the <code>e.getCause()</code> exception and have this exception caught by the same @ControllerAdvice class.</p>\n\n<p>Sample code:</p>\n\n<pre><code>@ControllerAdvice\npublic class ExceptionHandlingAdvice\n{\n    @ExceptionHandler( RuntimeException.class )\n    private void handleRuntimeException( final RuntimeException e, final HttpServletResponse response ) throws Throwable\n    {\n        throw e.getCause(); // Can be of many types\n    }\n\n    // I want any Exception1 exception thrown by the above handler to be caught in this handler\n    @ExceptionHandler( Exception1.class )\n    private void handleAnException( final Exception1 e, final HttpServletResponse response ) throws Throwable\n    {\n        // handle exception\n    }\n}\n</code></pre>\n\n<p>Is this possible?</p>\n"},{"tags":["java","arm64","raspberry-pi4","java-17","sdkman"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1641739557,"post_id":70635587,"comment_id":124879289,"body_markdown":"You should better edit your question and include all the command you used for installing Java 17. May be one command was wrong and you only think that the installation had succeeded.","body":"You should better edit your question and include all the command you used for installing Java 17. May be one command was wrong and you only think that the installation had succeeded."}],"answers":[{"tags":[],"owner":{"account_id":12707078,"reputation":1,"user_id":14758964,"display_name":"lanparty"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641673980,"creation_date":1641671134,"answer_id":70635846,"question_id":70635587,"body_markdown":"Please install Java using the official website, not some unheard of 3rd party program like SDKMan.\r\n\r\nRemember to:\r\n\r\nAdd to $PATH variable by executing the following command line:\r\n```\r\nexport $PATH=$PATH:&quot;yo/new/path&quot; # note the colon is the delimiter\r\necho $PATH                       # to check if it worked \r\n```\r\nThis process is called &quot;adding Java to your local enviro vars&quot;\r\n\r\nNote: make sure you download Java from the official Java website(Oracle) for less hastle, not through your API or choice of working environment software/program.","title":"Raspberry Pi not able to find java installation","body":"<p>Please install Java using the official website, not some unheard of 3rd party program like SDKMan.</p>\n<p>Remember to:</p>\n<p>Add to $PATH variable by executing the following command line:</p>\n<pre><code>export $PATH=$PATH:&quot;yo/new/path&quot; # note the colon is the delimiter\necho $PATH                       # to check if it worked \n</code></pre>\n<p>This process is called &quot;adding Java to your local enviro vars&quot;</p>\n<p>Note: make sure you download Java from the official Java website(Oracle) for less hastle, not through your API or choice of working environment software/program.</p>\n"}],"owner":{"account_id":20886652,"reputation":1,"user_id":15343095,"display_name":"Staubtornado"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":502,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641673980,"creation_date":1641669276,"question_id":70635587,"body_markdown":"I am trying to install Java 17 on my raspberry pi with SDK man. After the installation succeeds, I am not able to use java -version in the terminal and I get this error:\r\n\r\n    -bash: /home/pi/.sdkman/candidates/java/current/bin/java: No such file or directory\r\nI have the raspberry pi 4 B with 8 GB ram. It has aarch64 as architecture. This happens with every Java 17 installation.","title":"Raspberry Pi not able to find java installation","body":"<p>I am trying to install Java 17 on my raspberry pi with SDK man. After the installation succeeds, I am not able to use java -version in the terminal and I get this error:</p>\n<pre><code>-bash: /home/pi/.sdkman/candidates/java/current/bin/java: No such file or directory\n</code></pre>\n<p>I have the raspberry pi 4 B with 8 GB ram. It has aarch64 as architecture. This happens with every Java 17 installation.</p>\n"},{"tags":["java","api","bots","discord","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":4150363,"reputation":1083,"user_id":3403011,"accept_rate":100,"display_name":"Thibstars"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1555422337,"creation_date":1555404500,"answer_id":55704094,"question_id":54015424,"body_markdown":"Adding a role to the mentioned members in a message can be done as follows:\r\n\r\n    Role role = event.getGuild().getRolesByName(&quot;Suspended&quot;, false).get(0);\r\n    List&lt;Member&gt; mentionedMembers = message.getMentionedMembers();\r\n    for (Member mentionedMember : mentionedMembers) {\r\n        event.getGuild().getController().addRolesToMember(mentionedMember, role).queue();\r\n    }\r\nNote that your bot will need the `MANAGE_ROLES` permission to add roles.","title":"Adding roles to a mentioned user in JDA","body":"<p>Adding a role to the mentioned members in a message can be done as follows:</p>\n\n<pre><code>Role role = event.getGuild().getRolesByName(\"Suspended\", false).get(0);\nList&lt;Member&gt; mentionedMembers = message.getMentionedMembers();\nfor (Member mentionedMember : mentionedMembers) {\n    event.getGuild().getController().addRolesToMember(mentionedMember, role).queue();\n}\n</code></pre>\n\n<p>Note that your bot will need the <code>MANAGE_ROLES</code> permission to add roles.</p>\n"},{"tags":[],"owner":{"account_id":19020290,"reputation":353,"user_id":13884492,"display_name":"david-so"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1604435740,"creation_date":1604433054,"answer_id":64669662,"question_id":54015424,"body_markdown":"You can do this: &#128077;\r\n```Java\r\nevent.getGuild().addRoleToMember(memberId, jda.getRoleById(yourRole));\r\n```","title":"Adding roles to a mentioned user in JDA","body":"<p>You can do this: 👍</p>\n<pre><code>event.getGuild().addRoleToMember(memberId, jda.getRoleById(yourRole));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22673118,"reputation":113,"user_id":16844578,"display_name":"Filler"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641673891,"creation_date":1641656870,"answer_id":70633933,"question_id":54015424,"body_markdown":"```\r\nevent.getGuild().addRoleToMember(member, event.getGuild().getRoleById(yourRole)).queue();\r\n```","title":"Adding roles to a mentioned user in JDA","body":"<pre><code>event.getGuild().addRoleToMember(member, event.getGuild().getRoleById(yourRole)).queue();\n</code></pre>\n"}],"owner":{"account_id":14496081,"reputation":9,"user_id":10470612,"display_name":"Mason"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1641673891,"creation_date":1546480486,"question_id":54015424,"body_markdown":"I want to be able to run a command that begins with !suspend, mentions a user, then determines a time length and adds a role named &#39;Suspended&#39; to the mentioned user for the specified time length. \r\n\r\n        Message message = event.getMessage(); //Sets the message equal to the variable type &#39;Message&#39; so it can be modified within the program.\r\n\t\tString content = message.getContentRaw(); //Gets the raw content of the message and sets it equal to a string (best way to convert types Message to String).\r\n\t\tMessageChannel channel = event.getChannel(); //Gets the channel the message was sent in (useful for sending error messages).\r\n\t\tGuild guild = event.getGuild();\r\n\t\t//Role group = content.matches(&quot;((Suspended))&quot;) ? guild.getRolesByName(&quot;Suspended&quot;, true).get(0) : null;\r\n\t\t\r\n\t\tif(content.startsWith(&quot;!suspend&quot;))//Pretty self explanatory. Enters the loop if the message begins with !suspend.\r\n\t\t{\r\n\t\t\tString[] spliced = content.split(&quot;\\\\s+&quot;); //Splits the message into an array based on the spaces in the message.\r\n\t\t\tTextChannel textChannel = event.getGuild().getTextChannelsByName(&quot;ranked-ms_punishments&quot;,true).get(0); //If there is a channel called ranked-ms_punishments which there should be set the value of it equal to the variable.\r\n\t\t\t\r\n\t\t\tint length = spliced.length;//Sets &#39;length&#39; equal to the number of items in the array.\r\n\t\t\t\r\n\t\t\tif(length == 3)//If the number of items in the array is 3 then...\r\n\t\t\t{\r\n\t\t\t\tif(spliced[1].startsWith(&quot;&lt;&quot;))\r\n\t\t\t\t{\r\n\t\t\t\t\tlist.add(spliced[1]);\r\n\t\t\t\t\tString tempuser = spliced[1];\r\n\t\t\t\t\ttextChannel.sendMessage(tempuser + &quot; you have been suspended for &quot; + spliced[2] + &quot; days.&quot;).queue();//Sends the message in the quotations.\r\n\t\t\t\t\t//add role to the member\r\n\t\t\t\t}\r\n\t\t\t}else {\r\n\t\t\t\tchannel.sendMessage(&quot;Please use the following format for suspending a user: &#39;!suspend&#39; &lt;@user&gt; (length)&quot;).queue(); //If length doesn&#39;t equal 3 then it sends the message in quotations.\r\n\t\t\t}\r\n\t\t}\r\n\r\nNot sure how to do this, as I&#39;m too unfamiliar with JDA to make it work. I have everything working except for the actual addition of the role named &#39;Suspended&#39;.\r\n\r\n","title":"Adding roles to a mentioned user in JDA","body":"<p>I want to be able to run a command that begins with !suspend, mentions a user, then determines a time length and adds a role named 'Suspended' to the mentioned user for the specified time length. </p>\n\n<pre><code>    Message message = event.getMessage(); //Sets the message equal to the variable type 'Message' so it can be modified within the program.\n    String content = message.getContentRaw(); //Gets the raw content of the message and sets it equal to a string (best way to convert types Message to String).\n    MessageChannel channel = event.getChannel(); //Gets the channel the message was sent in (useful for sending error messages).\n    Guild guild = event.getGuild();\n    //Role group = content.matches(\"((Suspended))\") ? guild.getRolesByName(\"Suspended\", true).get(0) : null;\n\n    if(content.startsWith(\"!suspend\"))//Pretty self explanatory. Enters the loop if the message begins with !suspend.\n    {\n        String[] spliced = content.split(\"\\\\s+\"); //Splits the message into an array based on the spaces in the message.\n        TextChannel textChannel = event.getGuild().getTextChannelsByName(\"ranked-ms_punishments\",true).get(0); //If there is a channel called ranked-ms_punishments which there should be set the value of it equal to the variable.\n\n        int length = spliced.length;//Sets 'length' equal to the number of items in the array.\n\n        if(length == 3)//If the number of items in the array is 3 then...\n        {\n            if(spliced[1].startsWith(\"&lt;\"))\n            {\n                list.add(spliced[1]);\n                String tempuser = spliced[1];\n                textChannel.sendMessage(tempuser + \" you have been suspended for \" + spliced[2] + \" days.\").queue();//Sends the message in the quotations.\n                //add role to the member\n            }\n        }else {\n            channel.sendMessage(\"Please use the following format for suspending a user: '!suspend' &lt;@user&gt; (length)\").queue(); //If length doesn't equal 3 then it sends the message in quotations.\n        }\n    }\n</code></pre>\n\n<p>Not sure how to do this, as I'm too unfamiliar with JDA to make it work. I have everything working except for the actual addition of the role named 'Suspended'.</p>\n"},{"tags":["java","hadoop"],"comments":[{"owner":{"account_id":2562003,"reputation":84,"user_id":3872569,"display_name":"Pavan Kate"},"score":0,"creation_date":1535122963,"post_id":52007073,"comment_id":90964429,"body_markdown":"while setting path did you miss &quot;$&quot;? or in case of windows it is &quot;%JAVA_HOME%&quot;\nSetinng JAVA_HOME in your &quot;PATH environment variable like &quot;%JAVA_HOME%&quot; does it.\nto check this do : echo &quot;%JAVA_HOME%&quot;","body":"while setting path did you miss &quot;$&quot;? or in case of windows it is &quot;%JAVA_HOME%&quot; Setinng JAVA_HOME in your &quot;PATH environment variable like &quot;%JAVA_HOME%&quot; does it. to check this do : echo &quot;%JAVA_HOME%&quot;"},{"owner":{"account_id":4457093,"reputation":79,"user_id":3626985,"accept_rate":80,"display_name":"Analyzer"},"score":0,"creation_date":1535125653,"post_id":52007073,"comment_id":90966053,"body_markdown":"Do you want to say, I need to put &quot;%&quot; symbol before and after &quot;JAVA_HOME&quot; ?","body":"Do you want to say, I need to put &quot;%&quot; symbol before and after &quot;JAVA_HOME&quot; ?"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1535140963,"creation_date":1535140963,"answer_id":52011024,"question_id":52007073,"body_markdown":"On Windows, you need to `JAVA_HOME` (you typed `JAVE_HOME`) in the Environment Variables from Control Panel. \r\n\r\nYou should not need to edit any Hadoop scripts otherwise, but in scripts, it would be `%JAVA_HOME%`. So, in the `PATH` variable, you can have something like \r\n\r\n    %JAVA_HOME%\\bin:%HADOOP_HOME%\\bin\r\n\r\n\r\n\r\n---\r\n\r\nIf you want to use Hadoop 2.7.x, then it should be (currently) 2.7.7 to catch bug fixes + patches","title":"Hadoop Error in windows","body":"<p>On Windows, you need to <code>JAVA_HOME</code> (you typed <code>JAVE_HOME</code>) in the Environment Variables from Control Panel. </p>\n\n<p>You should not need to edit any Hadoop scripts otherwise, but in scripts, it would be <code>%JAVA_HOME%</code>. So, in the <code>PATH</code> variable, you can have something like </p>\n\n<pre><code>%JAVA_HOME%\\bin:%HADOOP_HOME%\\bin\n</code></pre>\n\n<hr>\n\n<p>If you want to use Hadoop 2.7.x, then it should be (currently) 2.7.7 to catch bug fixes + patches</p>\n"}],"owner":{"account_id":4457093,"reputation":79,"user_id":3626985,"accept_rate":80,"display_name":"Analyzer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":246,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641673841,"creation_date":1535122531,"question_id":52007073,"body_markdown":"I have successfully installed hadoop. However, when I run hadoop commands, it prompts following error: \r\n   \r\n     C:\\&gt;hadoop version\r\n    &#39;JAVA_HOME&#39; is not recognized as an internal or external command,\r\n     operable program or batch file.\r\n     Hadoop 2.7.3\r\n     Subversion https://git-wip-us.apache.org/repos/asf/hadoop.git -r \r\n     baa91f7c6bc9cb92be5982de4719c1c8af91ccff Compiled by root on 2016- \r\n     0818T01:41ZCompiled with protoc 2.5.0 From source with checksum \r\n     2e4ce5f957ea4db193bce3734ff29ff4 This command was run using /C:/hadoop- \r\n     2.7.3/share/hadoop/common/hadoop-common-2.7.3.jar\r\nI checked and fixed my Environment variables for JAVE_HOME and PATH. I found no issues with path, but above error persists while running hadoop commands or connecting to HDFS. Following is output when I run javac command. \r\n\r\n\r\n    C:\\&gt;javac\r\n    Usage: javac &lt;options&gt; &lt;source files&gt;\r\n    where possible options include:\r\n    -g                         Generate all debugging info\r\n    -g:none                    Generate no debugging info\r\n    -g:{lines,vars,source}     Generate only some debugging info\r\n    -nowarn                    Generate no warnings\r\n    -verbose                   Output messages about what the compiler is doing\r\n    -deprecation               Output source locations where deprecated APIs are \r\nHow can I fix this? ","title":"Hadoop Error in windows","body":"<p>I have successfully installed hadoop. However, when I run hadoop commands, it prompts following error: </p>\n\n<pre><code> C:\\&gt;hadoop version\n'JAVA_HOME' is not recognized as an internal or external command,\n operable program or batch file.\n Hadoop 2.7.3\n Subversion https://git-wip-us.apache.org/repos/asf/hadoop.git -r \n baa91f7c6bc9cb92be5982de4719c1c8af91ccff Compiled by root on 2016- \n 0818T01:41ZCompiled with protoc 2.5.0 From source with checksum \n 2e4ce5f957ea4db193bce3734ff29ff4 This command was run using /C:/hadoop- \n 2.7.3/share/hadoop/common/hadoop-common-2.7.3.jar\n</code></pre>\n\n<p>I checked and fixed my Environment variables for JAVE_HOME and PATH. I found no issues with path, but above error persists while running hadoop commands or connecting to HDFS. Following is output when I run javac command. </p>\n\n<pre><code>C:\\&gt;javac\nUsage: javac &lt;options&gt; &lt;source files&gt;\nwhere possible options include:\n-g                         Generate all debugging info\n-g:none                    Generate no debugging info\n-g:{lines,vars,source}     Generate only some debugging info\n-nowarn                    Generate no warnings\n-verbose                   Output messages about what the compiler is doing\n-deprecation               Output source locations where deprecated APIs are \n</code></pre>\n\n<p>How can I fix this? </p>\n"},{"tags":["java","rest","http-compression"],"comments":[{"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"score":0,"creation_date":1641673569,"post_id":70636103,"comment_id":124868120,"body_markdown":"Does this answer your question? [Handling HTTP ContentEncoding &quot;deflate&quot;](https://stackoverflow.com/questions/3932117/handling-http-contentencoding-deflate)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/3932117/handling-http-contentencoding-deflate\">Handling HTTP ContentEncoding &quot;deflate&quot;</a>"},{"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"score":0,"creation_date":1641673668,"post_id":70636103,"comment_id":124868140,"body_markdown":"BTW, while you _could_ handle this yourself, it&#39;s more common to a pub web server, such as Nginx or Apache in front of the app as a reverse proxy, and let the proxy handle it.","body":"BTW, while you <i>could</i> handle this yourself, it&#39;s more common to a pub web server, such as Nginx or Apache in front of the app as a reverse proxy, and let the proxy handle it."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1641739903,"post_id":70636103,"comment_id":124879368,"body_markdown":"Does your REST framework not handle this already?  What behavior are you seeing that indicates a problem?","body":"Does your REST framework not handle this already?  What behavior are you seeing that indicates a problem?"}],"owner":{"account_id":15658679,"reputation":37,"user_id":11298119,"display_name":"Siva Samraj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641673244,"creation_date":1641673244,"question_id":70636103,"body_markdown":"I am receiving the request in my Rest API with headers as &quot;Content-Encoding&quot; as deflate.\r\nHow to parse the request and make it a String in Java? \r\n\r\nPlease share any code reference to do the same.\r\n\r\nheaders: &#39;Accept-Encoding&#39;: &#39;deflate&#39;,\r\n  &#39;Content-Encoding&#39;: &#39;deflate&#39;","title":"HTTP Request parse the data Content-Encoding &quot;deflate&quot;","body":"<p>I am receiving the request in my Rest API with headers as &quot;Content-Encoding&quot; as deflate.\nHow to parse the request and make it a String in Java?</p>\n<p>Please share any code reference to do the same.</p>\n<p>headers: 'Accept-Encoding': 'deflate',\n'Content-Encoding': 'deflate'</p>\n"},{"tags":["java","mysql","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":16657879,"reputation":2625,"user_id":12038714,"display_name":"J Asgarov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641672361,"creation_date":1641653956,"answer_id":70633524,"question_id":70633443,"body_markdown":"You have an issue that you need two different datasources. You should define them as 2 different beans and autowire them seperately. For clarity it&#39;s advisable to also use 2 different properties files.\r\n\r\nYou can create a Configuration class and use specific properties file to populate fields like so:\r\n\r\n    @Configuration\r\n    @PropertySource(&quot;classpath:db.properties&quot;)\r\n    public class Config {\r\n    \r\n      @Value(&quot;${db.driverClassName}&quot;)\r\n    String driverClassName;\r\n    \r\n      @Value(&quot;${db.url}&quot;)\r\n    String url;\r\n    \r\n      @Value(&quot;${db.username}&quot;)\r\n    String username;\r\n    \r\n      @Value(&quot;${db.password}&quot;)\r\n    String password;\r\n    \r\n    \r\n      @Bean(&quot;datasourceId&quot;)\r\n      public DataSource dataSource() {\r\n        var dataSource = new DriverManagerDataSource();\r\n        dataSource.setDriverClassName(driverClassName);\r\n        dataSource.setUrl(url);\r\n        dataSource.setUsername(username);\r\n        dataSource.setPassword(password);\r\n        return dataSource;\r\n      }\r\n    \r\n    \r\n    \r\n      @Bean\r\n      public LocalSessionFactoryBean sessionFactory() {\r\n            LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\r\n        sessionFactory.setDataSource(dataSource());\r\n        sessionFactory.setPackagesToScan(\r\n          { &quot;com.foo.bar&quot; });\r\n        sessionFactory.setHibernateProperties(hibernateProperties());\r\n    \r\n        return sessionFactory;\r\n      }\r\n    \r\n      private final Properties hibernateProperties() {\r\n            Properties hibernateProperties = new Properties();\r\n        hibernateProperties.setProperty(\r\n          &quot;hibernate.hbm2ddl.auto&quot;, &quot;create-drop&quot;);    \r\n        return hibernateProperties;\r\n      }\r\n    }\r\n\r\n","title":"JPA: 2 databases: one &quot;update&quot;, the other &quot;create&quot;","body":"<p>You have an issue that you need two different datasources. You should define them as 2 different beans and autowire them seperately. For clarity it's advisable to also use 2 different properties files.</p>\n<p>You can create a Configuration class and use specific properties file to populate fields like so:</p>\n<pre><code>@Configuration\n@PropertySource(&quot;classpath:db.properties&quot;)\npublic class Config {\n\n  @Value(&quot;${db.driverClassName}&quot;)\nString driverClassName;\n\n  @Value(&quot;${db.url}&quot;)\nString url;\n\n  @Value(&quot;${db.username}&quot;)\nString username;\n\n  @Value(&quot;${db.password}&quot;)\nString password;\n\n\n  @Bean(&quot;datasourceId&quot;)\n  public DataSource dataSource() {\n    var dataSource = new DriverManagerDataSource();\n    dataSource.setDriverClassName(driverClassName);\n    dataSource.setUrl(url);\n    dataSource.setUsername(username);\n    dataSource.setPassword(password);\n    return dataSource;\n  }\n\n\n\n  @Bean\n  public LocalSessionFactoryBean sessionFactory() {\n        LocalSessionFactoryBean sessionFactory = new LocalSessionFactoryBean();\n    sessionFactory.setDataSource(dataSource());\n    sessionFactory.setPackagesToScan(\n      { &quot;com.foo.bar&quot; });\n    sessionFactory.setHibernateProperties(hibernateProperties());\n\n    return sessionFactory;\n  }\n\n  private final Properties hibernateProperties() {\n        Properties hibernateProperties = new Properties();\n    hibernateProperties.setProperty(\n      &quot;hibernate.hbm2ddl.auto&quot;, &quot;create-drop&quot;);    \n    return hibernateProperties;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":13539583,"reputation":131,"user_id":12493818,"display_name":"alexhak"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70633524,"answer_count":1,"score":0,"last_activity_date":1641672361,"creation_date":1641653344,"question_id":70633443,"body_markdown":"I want to use **two database schemas**: **one with static data** (which cannot be changed), the **other with dynamic data** (which will change constantly during the execution of the Spring application).\r\n\r\nIn `application.properties` I have prescribed the following:\r\n\r\n    spring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:3306/XXXXXX\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root\r\n    \r\n    spring.second-datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:3306/YYYYYY\r\n    spring.second-datasource.username=root\r\n    spring.second-datasource.password=root\r\n\r\nBut what should I do now with the `spring.jpa.hibernate.ddl-auto` parameter?\r\n\r\nFor **one** scheme I want to install:\r\n\r\n    spring.jpa.hibernate.ddl-auto=create\r\n\r\nAnd for the **other** (where the data is always static):\r\n\r\n    spring.jpa.hibernate.ddl-auto=update\r\n\r\nor\r\n\r\n    spring.jpa.hibernate.ddl-auto=none","title":"JPA: 2 databases: one &quot;update&quot;, the other &quot;create&quot;","body":"<p>I want to use <strong>two database schemas</strong>: <strong>one with static data</strong> (which cannot be changed), the <strong>other with dynamic data</strong> (which will change constantly during the execution of the Spring application).</p>\n<p>In <code>application.properties</code> I have prescribed the following:</p>\n<pre><code>spring.datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:3306/XXXXXX\nspring.datasource.username=root\nspring.datasource.password=root\n\nspring.second-datasource.url=jdbc:mysql://${MYSQL_HOST:localhost}:3306/YYYYYY\nspring.second-datasource.username=root\nspring.second-datasource.password=root\n</code></pre>\n<p>But what should I do now with the <code>spring.jpa.hibernate.ddl-auto</code> parameter?</p>\n<p>For <strong>one</strong> scheme I want to install:</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=create\n</code></pre>\n<p>And for the <strong>other</strong> (where the data is always static):</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\n</code></pre>\n<p>or</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=none\n</code></pre>\n"},{"tags":["java","arrays","arraylist","indexoutofboundsexception"],"answers":[{"tags":[],"owner":{"display_name":"user177800"},"down_vote_count":6,"up_vote_count":13,"is_accepted":true,"score":7,"last_activity_date":1641672173,"creation_date":1442243619,"answer_id":32568266,"question_id":32568261,"body_markdown":"## What is java.lang.ArrayIndexOutOfBoundsException / java.lang.IndexOutOfBoundsException?\r\n\r\nThe [JavaDoc][1] curtly states:\r\n\r\n&gt; Thrown to indicate that an array has been accessed with an illegal\r\n&gt; index. The index is either negative or greater than or equal to the\r\n&gt; size of the array.\r\n\r\n## What causes it to happen?\r\n\r\n&gt; This exception means that you have tried to access an index in an\r\n&gt; array or array backed list and that index does not exist.\r\n&gt;\r\n&gt; Java uses `0` based indexes. That means all indexes start with `0` as\r\n&gt; the index of the first element if it contains any elements.\r\n&gt;\r\n\r\nThe `IndexOutOfBoundsException` message is very explicit, and it usually takes the form of:\r\n\r\n`java.lang.IndexOutOfBoundsException: Index: 1, Size: 1`\r\n\r\nWhere `Index` is the index that you requested that does not exist and `Size` is the length of the structure you were indexing into.\r\n\r\nAs you can see a `Size: 1` means the only valid index is `0` and you were asking for what was at index `1`.\r\n\r\n&gt; For example, if you have an raw `Array` of objects or primitive types\r\n&gt; the valid indexes are `0` to `.length - 1`, in the following example the valid indexes would be `0, 1, 2, 3,`.\r\n\r\n    final String days[] { &quot;Sunday&quot;, &quot;Monday&quot;, &quot;Tuesday&quot; }\r\n    System.out.println(days.length); // 3\r\n    System.out.println(days[0]); // Sunday\r\n    System.out.println(days[1]); // Monday\r\n    System.out.println(days[2]); // Tuesday\r\n    System.out.println(days[3]); // java.lang.ArrayIndexOutOfBoundsException\r\n\r\nThis also applies to `ArrayList` as well as any other `Collection` classes that may be backed by an `Array` and allow direct access to the the index.\r\n\r\n## How to avoid the `java.lang.ArrayIndexOutOfBoundsException` / `java.lang.IndexOutOfBoundsException`?\r\n\r\n### When accessing directly by index:\r\n\r\n&gt; This uses [Guava][2] to convert the raw primitive `int[]` array to an\r\n&gt; [`ImmutableList&lt;Integer&gt;`][3]. Then it uses the `Iterables` class to safely\r\n&gt; get the value at a particular index and provides a default value when\r\n&gt; that index does not exist. Here I chose `-1` to indicate an invalid\r\n&gt; index value.\r\n\r\n    final List&lt;Integer&gt; toTen = ImmutableList.copyOf(Ints.asList(ints));\r\n    System.out.println(Iterables.get(toTen, 0, -1));\r\n    System.out.println(Iterables.get(toTen, 100, -1));\r\n\r\nIf you can&#39;t use Guava for some reason it is easy to roll your own function to do this same thing.\r\n\r\n    private static &lt;T&gt; T get(@Nonnull final Iterable&lt;T&gt; iterable, final int index, @Nonnull final T missing)\r\n    {\r\n        if (index &lt; 0) { return missing; }\r\n        if (iterable instanceof List)\r\n        {\r\n            final List&lt;T&gt; l = List.class.cast(iterable);\r\n            return l.size() &lt;= index ? l.get(index) : missing;\r\n        }\r\n        else\r\n        {\r\n            final Iterator&lt;T&gt; iterator = iterable.iterator();\r\n            for (int i = 0; iterator.hasNext(); i++)\r\n            {\r\n                final T o = iterator.next();\r\n                if (i == index) { return o; }\r\n            }\r\n            return missing;\r\n        }\r\n    }\r\n\r\n### When iterating:\r\n\r\n&gt; Here is the idiomatic ways to iterate over a raw `Array` if you need\r\n&gt; to know the index and the value:\r\n&gt;\r\n&gt; This is susceptible to *one off errors* which are the primary causes\r\n&gt; of an `java.lang.ArrayIndexOutOfBoundsException`:\r\n\r\n#### Using a traditional *for*-*next* loop:\r\n\r\n    final int ints[] = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };\r\n    for (int i = 0; i &lt; ints.length; i++)\r\n    {\r\n        System.out.format(&quot;index %d = %d&quot;, i, ints[i]);\r\n    }\r\n\r\n### Using an enhanced *for-each* loop:\r\n\r\n&gt; Here is the idiomatic way to iterate over a raw `Array` with the\r\n&gt; *enhanced for loop* if you do not need to know the actual index:\r\n\r\n    for (final int i : ints)\r\n    {\r\n        System.out.format(&quot;%d&quot;, i);\r\n        System.out.println();\r\n    }\r\n\r\n## Using a type safe Iterator&amp;lt;T&gt;:\r\n\r\n&gt; Here is the safe way to iterate over a raw `Array` with the *enhanced\r\n&gt; for loop* and track the current index and avoids the possibility of\r\n&gt; encountering an `java.lang.ArrayIndexOutOfBoundsException`.\r\n&gt;\r\n&gt; This uses Guava to easily convert the `int[]` to something `Iterable`\r\n&gt; every project should include it.\r\n\r\n    final Iterator&lt;Integer&gt; it = Ints.asList(ints).iterator();\r\n    for (int i = 0; it.hasNext(); i++)\r\n    {\r\n        System.out.format(&quot;index %d = %d&quot;, i, it.next());\r\n    }\r\n\r\nIf you can not use Guava or your `int[]` is huge you can roll your own `ImmutableIntArrayIterator` as such:\r\n\r\n    public class ImmutableIntArrayIterator implements Iterator&lt;Integer&gt;\r\n    {\r\n        private final int[] ba;\r\n        private int currentIndex;\r\n\r\n        public ImmutableIntArrayIterator(@Nonnull final int[] ba)\r\n        {\r\n            this.ba = ba;\r\n            if (this.ba.length &gt; 0) { this.currentIndex = 0; }\r\n            else { currentIndex = -1; }\r\n        }\r\n\r\n        @Override\r\n        public boolean hasNext() { return this.currentIndex &gt;= 0 &amp;&amp; this.currentIndex + 1 &lt; this.ba.length; }\r\n\r\n        @Override\r\n        public Integer next()\r\n        {\r\n            this.currentIndex++;\r\n            return this.ba[this.currentIndex];\r\n        }\r\n\r\n        @Override\r\n        public void remove() { throw new UnsupportedOperationException(); }\r\n    }\r\n\r\nAnd use the same code as you would with Guava.\r\n\r\nIf you absolutely **must have the ordinal** of the item the following is the safest way to do it.\r\n\r\n    // Assume &#39;los&#39; is a list of Strings\r\n    final Iterator&lt;String&gt; it = los.iterator();\r\n    for (int i = 0; it.hasNext(); i++)\r\n    {\r\n        System.out.format(&quot;index %d = %s&quot;, i, it.next());\r\n    }\r\n\r\nThis technique works for all *Iterables*. It is not an *index* parse, but it does give you the current position in the iteration even for things that do not have a native *index*.\r\n\r\n### The safest way:\r\n\r\n&gt; The best way is to always use [ImmutableLists][3]/[Set][4]/[Maps][5] from Guava as\r\n&gt; well:\r\n\r\n    final List&lt;Integer&gt; ili = ImmutableList.copyOf(Ints.asList(ints));\r\n    final Iterator&lt;Integer&gt; iit = ili.iterator();\r\n    for (int i = 0; iit.hasNext(); i++)\r\n    {\r\n        System.out.format(&quot;index %d = %d&quot;, i, iit.next());\r\n    }\r\n\r\n## Summary:\r\n\r\n 1. Using raw arrays are difficult to work with and should be avoided in most cases. They are susceptible to sometimes subtle [*one-off errors*][6] which have plague new programmers even back to the days of [BASIC][7]\r\n\r\n 2. Modern Java idioms use proper type safe *collections* and avoid using raw *array* structures if at all possible.\r\n\r\n 3. Immutable types are preferred in almost all cases now.\r\n\r\n 4. Guava is an indispensable toolkit for modern Java development.\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/ArrayIndexOutOfBoundsException.html\r\n  [2]: https://code.google.com/p/guava-libraries/\r\n  [3]: http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/collect/ImmutableList.html\r\n  [4]: http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/collect/ImmutableSet.html\r\n  [5]: http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/collect/ImmutableMap.html\r\n  [6]: https://en.wikipedia.org/wiki/Off-by-one_error\r\n  [7]: https://en.wikipedia.org/wiki/BASIC\r\n\r\n\r\n","title":"How can I avoid ArrayIndexOutOfBoundsException or IndexOutOfBoundsException?","body":"<h2>What is java.lang.ArrayIndexOutOfBoundsException / java.lang.IndexOutOfBoundsException?</h2>\n<p>The <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/ArrayIndexOutOfBoundsException.html\" rel=\"nofollow noreferrer\">JavaDoc</a> curtly states:</p>\n<blockquote>\n<p>Thrown to indicate that an array has been accessed with an illegal\nindex. The index is either negative or greater than or equal to the\nsize of the array.</p>\n</blockquote>\n<h2>What causes it to happen?</h2>\n<blockquote>\n<p>This exception means that you have tried to access an index in an\narray or array backed list and that index does not exist.</p>\n<p>Java uses <code>0</code> based indexes. That means all indexes start with <code>0</code> as\nthe index of the first element if it contains any elements.</p>\n</blockquote>\n<p>The <code>IndexOutOfBoundsException</code> message is very explicit, and it usually takes the form of:</p>\n<p><code>java.lang.IndexOutOfBoundsException: Index: 1, Size: 1</code></p>\n<p>Where <code>Index</code> is the index that you requested that does not exist and <code>Size</code> is the length of the structure you were indexing into.</p>\n<p>As you can see a <code>Size: 1</code> means the only valid index is <code>0</code> and you were asking for what was at index <code>1</code>.</p>\n<blockquote>\n<p>For example, if you have an raw <code>Array</code> of objects or primitive types\nthe valid indexes are <code>0</code> to <code>.length - 1</code>, in the following example the valid indexes would be <code>0, 1, 2, 3,</code>.</p>\n</blockquote>\n<pre><code>final String days[] { &quot;Sunday&quot;, &quot;Monday&quot;, &quot;Tuesday&quot; }\nSystem.out.println(days.length); // 3\nSystem.out.println(days[0]); // Sunday\nSystem.out.println(days[1]); // Monday\nSystem.out.println(days[2]); // Tuesday\nSystem.out.println(days[3]); // java.lang.ArrayIndexOutOfBoundsException\n</code></pre>\n<p>This also applies to <code>ArrayList</code> as well as any other <code>Collection</code> classes that may be backed by an <code>Array</code> and allow direct access to the the index.</p>\n<h2>How to avoid the <code>java.lang.ArrayIndexOutOfBoundsException</code> / <code>java.lang.IndexOutOfBoundsException</code>?</h2>\n<h3>When accessing directly by index:</h3>\n<blockquote>\n<p>This uses <a href=\"https://code.google.com/p/guava-libraries/\" rel=\"nofollow noreferrer\">Guava</a> to convert the raw primitive <code>int[]</code> array to an\n<a href=\"http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/collect/ImmutableList.html\" rel=\"nofollow noreferrer\"><code>ImmutableList&lt;Integer&gt;</code></a>. Then it uses the <code>Iterables</code> class to safely\nget the value at a particular index and provides a default value when\nthat index does not exist. Here I chose <code>-1</code> to indicate an invalid\nindex value.</p>\n</blockquote>\n<pre><code>final List&lt;Integer&gt; toTen = ImmutableList.copyOf(Ints.asList(ints));\nSystem.out.println(Iterables.get(toTen, 0, -1));\nSystem.out.println(Iterables.get(toTen, 100, -1));\n</code></pre>\n<p>If you can't use Guava for some reason it is easy to roll your own function to do this same thing.</p>\n<pre><code>private static &lt;T&gt; T get(@Nonnull final Iterable&lt;T&gt; iterable, final int index, @Nonnull final T missing)\n{\n    if (index &lt; 0) { return missing; }\n    if (iterable instanceof List)\n    {\n        final List&lt;T&gt; l = List.class.cast(iterable);\n        return l.size() &lt;= index ? l.get(index) : missing;\n    }\n    else\n    {\n        final Iterator&lt;T&gt; iterator = iterable.iterator();\n        for (int i = 0; iterator.hasNext(); i++)\n        {\n            final T o = iterator.next();\n            if (i == index) { return o; }\n        }\n        return missing;\n    }\n}\n</code></pre>\n<h3>When iterating:</h3>\n<blockquote>\n<p>Here is the idiomatic ways to iterate over a raw <code>Array</code> if you need\nto know the index and the value:</p>\n<p>This is susceptible to <em>one off errors</em> which are the primary causes\nof an <code>java.lang.ArrayIndexOutOfBoundsException</code>:</p>\n</blockquote>\n<h4>Using a traditional <em>for</em>-<em>next</em> loop:</h4>\n<pre><code>final int ints[] = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };\nfor (int i = 0; i &lt; ints.length; i++)\n{\n    System.out.format(&quot;index %d = %d&quot;, i, ints[i]);\n}\n</code></pre>\n<h3>Using an enhanced <em>for-each</em> loop:</h3>\n<blockquote>\n<p>Here is the idiomatic way to iterate over a raw <code>Array</code> with the\n<em>enhanced for loop</em> if you do not need to know the actual index:</p>\n</blockquote>\n<pre><code>for (final int i : ints)\n{\n    System.out.format(&quot;%d&quot;, i);\n    System.out.println();\n}\n</code></pre>\n<h2>Using a type safe Iterator&lt;T&gt;:</h2>\n<blockquote>\n<p>Here is the safe way to iterate over a raw <code>Array</code> with the <em>enhanced\nfor loop</em> and track the current index and avoids the possibility of\nencountering an <code>java.lang.ArrayIndexOutOfBoundsException</code>.</p>\n<p>This uses Guava to easily convert the <code>int[]</code> to something <code>Iterable</code>\nevery project should include it.</p>\n</blockquote>\n<pre><code>final Iterator&lt;Integer&gt; it = Ints.asList(ints).iterator();\nfor (int i = 0; it.hasNext(); i++)\n{\n    System.out.format(&quot;index %d = %d&quot;, i, it.next());\n}\n</code></pre>\n<p>If you can not use Guava or your <code>int[]</code> is huge you can roll your own <code>ImmutableIntArrayIterator</code> as such:</p>\n<pre><code>public class ImmutableIntArrayIterator implements Iterator&lt;Integer&gt;\n{\n    private final int[] ba;\n    private int currentIndex;\n\n    public ImmutableIntArrayIterator(@Nonnull final int[] ba)\n    {\n        this.ba = ba;\n        if (this.ba.length &gt; 0) { this.currentIndex = 0; }\n        else { currentIndex = -1; }\n    }\n\n    @Override\n    public boolean hasNext() { return this.currentIndex &gt;= 0 &amp;&amp; this.currentIndex + 1 &lt; this.ba.length; }\n\n    @Override\n    public Integer next()\n    {\n        this.currentIndex++;\n        return this.ba[this.currentIndex];\n    }\n\n    @Override\n    public void remove() { throw new UnsupportedOperationException(); }\n}\n</code></pre>\n<p>And use the same code as you would with Guava.</p>\n<p>If you absolutely <strong>must have the ordinal</strong> of the item the following is the safest way to do it.</p>\n<pre><code>// Assume 'los' is a list of Strings\nfinal Iterator&lt;String&gt; it = los.iterator();\nfor (int i = 0; it.hasNext(); i++)\n{\n    System.out.format(&quot;index %d = %s&quot;, i, it.next());\n}\n</code></pre>\n<p>This technique works for all <em>Iterables</em>. It is not an <em>index</em> parse, but it does give you the current position in the iteration even for things that do not have a native <em>index</em>.</p>\n<h3>The safest way:</h3>\n<blockquote>\n<p>The best way is to always use <a href=\"http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/collect/ImmutableList.html\" rel=\"nofollow noreferrer\">ImmutableLists</a>/<a href=\"http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/collect/ImmutableSet.html\" rel=\"nofollow noreferrer\">Set</a>/<a href=\"http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/collect/ImmutableMap.html\" rel=\"nofollow noreferrer\">Maps</a> from Guava as\nwell:</p>\n</blockquote>\n<pre><code>final List&lt;Integer&gt; ili = ImmutableList.copyOf(Ints.asList(ints));\nfinal Iterator&lt;Integer&gt; iit = ili.iterator();\nfor (int i = 0; iit.hasNext(); i++)\n{\n    System.out.format(&quot;index %d = %d&quot;, i, iit.next());\n}\n</code></pre>\n<h2>Summary:</h2>\n<ol>\n<li><p>Using raw arrays are difficult to work with and should be avoided in most cases. They are susceptible to sometimes subtle <a href=\"https://en.wikipedia.org/wiki/Off-by-one_error\" rel=\"nofollow noreferrer\"><em>one-off errors</em></a> which have plague new programmers even back to the days of <a href=\"https://en.wikipedia.org/wiki/BASIC\" rel=\"nofollow noreferrer\">BASIC</a></p>\n</li>\n<li><p>Modern Java idioms use proper type safe <em>collections</em> and avoid using raw <em>array</em> structures if at all possible.</p>\n</li>\n<li><p>Immutable types are preferred in almost all cases now.</p>\n</li>\n<li><p>Guava is an indispensable toolkit for modern Java development.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1159293,"reputation":315,"user_id":1139145,"accept_rate":29,"display_name":"g5thomas"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1641671780,"creation_date":1452270610,"answer_id":34681724,"question_id":32568261,"body_markdown":"Referring to the Java documentation for *[class ArrayIndexOutOfBoundsException][1]*, this exception is thrown when you try to access an element that is either negative, or greater than the size of the array. \r\n\r\nConsider the case you have 10 items in the array.  You can ask the system for the first to the tenth item within the array.  If you try to ask for the -1 item or the 100th item in the array, Java would respond with the above exception.\r\n\r\nNow keep in mind that an array in Java is [zero-based][2].  Therefore, you can only pass an index value of 0 to 9 inclusive. Any number not in this range will throw the specific error mentioned above.  \r\n\r\nTo avoid this exception, let&#39;s go back to the concept of computer science [101][3], and review the concept of a [loop invariant][4].  This is a condition to make sure that the variable you use to store the index must meet a particular condition.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/lang/ArrayIndexOutOfBoundsException.html\r\n  [2]: https://en.wikipedia.org/wiki/Array_data_type#Index_origin\r\n  [3]: https://en.wiktionary.org/wiki/101#Adjective\r\n  [4]: https://en.wikipedia.org/wiki/Loop_invariant\r\n","title":"How can I avoid ArrayIndexOutOfBoundsException or IndexOutOfBoundsException?","body":"<p>Referring to the Java documentation for <em><a href=\"https://docs.oracle.com/javase/7/docs/api/java/lang/ArrayIndexOutOfBoundsException.html\" rel=\"nofollow noreferrer\">class ArrayIndexOutOfBoundsException</a></em>, this exception is thrown when you try to access an element that is either negative, or greater than the size of the array.</p>\n<p>Consider the case you have 10 items in the array.  You can ask the system for the first to the tenth item within the array.  If you try to ask for the -1 item or the 100th item in the array, Java would respond with the above exception.</p>\n<p>Now keep in mind that an array in Java is <a href=\"https://en.wikipedia.org/wiki/Array_data_type#Index_origin\" rel=\"nofollow noreferrer\">zero-based</a>.  Therefore, you can only pass an index value of 0 to 9 inclusive. Any number not in this range will throw the specific error mentioned above.</p>\n<p>To avoid this exception, let's go back to the concept of computer science <a href=\"https://en.wiktionary.org/wiki/101#Adjective\" rel=\"nofollow noreferrer\">101</a>, and review the concept of a <a href=\"https://en.wikipedia.org/wiki/Loop_invariant\" rel=\"nofollow noreferrer\">loop invariant</a>.  This is a condition to make sure that the variable you use to store the index must meet a particular condition.</p>\n"}],"owner":{"display_name":"user177800"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59415,"favorite_count":0,"down_vote_count":23,"up_vote_count":20,"closed_date":1455755276,"accepted_answer_id":32568266,"answer_count":2,"score":-3,"last_activity_date":1641672173,"creation_date":1442243602,"question_id":32568261,"body_markdown":"If your question is *I am getting a `java.lang.ArrayIndexOutOfBoundsException` in my code and I do not understand why it is happening, what does it mean and how can I avoid it?*\r\n\r\n&gt; This is meant to be the most comprehensive [canonical][1] collection of information on this\r\n&gt; `java.lang.ArrayIndexOutOfBoundsException` topic as well as the `java.lang.IndexOutOfBoundsException`.\r\n\r\nThere are many questions like this and all of them have either vague no-code answers, or mostly they are extremely specific and localized to the question at hand and do not address the root cause which is exactly the same in all cases.\r\n\r\n-----\r\n\r\n&gt; *If you see one that falls under this general case, rather than answer it with more duplicate specialized content, mark it as a duplicate of this one.*\r\n\r\n  [1]: https://meta.stackoverflow.com/a/291994/177800\r\n\r\n\r\n\r\n","title":"How can I avoid ArrayIndexOutOfBoundsException or IndexOutOfBoundsException?","body":"<p>If your question is <em>I am getting a <code>java.lang.ArrayIndexOutOfBoundsException</code> in my code and I do not understand why it is happening, what does it mean and how can I avoid it?</em></p>\n<blockquote>\n<p>This is meant to be the most comprehensive <a href=\"https://meta.stackoverflow.com/a/291994/177800\">canonical</a> collection of information on this\n<code>java.lang.ArrayIndexOutOfBoundsException</code> topic as well as the <code>java.lang.IndexOutOfBoundsException</code>.</p>\n</blockquote>\n<p>There are many questions like this and all of them have either vague no-code answers, or mostly they are extremely specific and localized to the question at hand and do not address the root cause which is exactly the same in all cases.</p>\n<hr />\n<blockquote>\n<p><em>If you see one that falls under this general case, rather than answer it with more duplicate specialized content, mark it as a duplicate of this one.</em></p>\n</blockquote>\n"},{"tags":["java","picocli"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1641525531,"post_id":70615620,"comment_id":124832497,"body_markdown":"Isn&#39;t that a matter of the shell? Under Unix the shell does word splitting and the Java program only sees multiple strings. Unless you tell the shell to not split, by using quotes.","body":"Isn&#39;t that a matter of the shell? Under Unix the shell does word splitting and the Java program only sees multiple strings. Unless you tell the shell to not split, by using quotes."},{"owner":{"account_id":1555751,"reputation":35615,"user_id":1446916,"display_name":"Remko Popma"},"score":0,"creation_date":1645432231,"post_id":70615620,"comment_id":125860747,"body_markdown":"@zappee Can you create an issue on the [picocli issue tracker](https://github.com/remkop/picocli/issues) to `trim` the values that result from `split`-ting the argument?","body":"@zappee Can you create an issue on the <a href=\"https://github.com/remkop/picocli/issues\" rel=\"nofollow noreferrer\">picocli issue tracker</a> to <code>trim</code> the values that result from <code>split</code>-ting the argument?"}],"answers":[{"tags":[],"owner":{"account_id":2492679,"reputation":20748,"user_id":2169845,"accept_rate":91,"display_name":"zappee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641672092,"creation_date":1641672092,"answer_id":70635971,"question_id":70615620,"body_markdown":"Solution: [Custom Type Converters][1]\r\n\r\n    public class HeaderConverter implements CommandLine.ITypeConverter&lt;List&lt;Header&gt;&gt; {\r\n    \r\n        @Override\r\n        public List&lt;Header&gt; convert(String s) throws Exception {\r\n            List&lt;Header&gt; headers = new ArrayList&lt;&gt;();\r\n            var params = s.split(&quot;,&quot;);\r\n            Arrays.stream(params).forEach(x -&gt; headers.add(Header.valueOf(x.trim())));\r\n            return headers;\r\n        }\r\n    }\r\n\r\n\r\nThis works fine, but that would be great if picocli could show candidates properly, based on the `split` parameter.\r\n\r\n  [1]: https://picocli.info/#_custom_type_converters","title":"@Option with enum List does not accept candidates that ${COMPLETION-CANDIDATES} shows","body":"<p>Solution: <a href=\"https://picocli.info/#_custom_type_converters\" rel=\"nofollow noreferrer\">Custom Type Converters</a></p>\n<pre><code>public class HeaderConverter implements CommandLine.ITypeConverter&lt;List&lt;Header&gt;&gt; {\n\n    @Override\n    public List&lt;Header&gt; convert(String s) throws Exception {\n        List&lt;Header&gt; headers = new ArrayList&lt;&gt;();\n        var params = s.split(&quot;,&quot;);\n        Arrays.stream(params).forEach(x -&gt; headers.add(Header.valueOf(x.trim())));\n        return headers;\n    }\n}\n</code></pre>\n<p>This works fine, but that would be great if picocli could show candidates properly, based on the <code>split</code> parameter.</p>\n"}],"owner":{"account_id":2492679,"reputation":20748,"user_id":2169845,"accept_rate":91,"display_name":"zappee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":698,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70635971,"answer_count":1,"score":0,"last_activity_date":1641672092,"creation_date":1641519366,"question_id":70615620,"body_markdown":"I have an `@Option` with an enum `java.util.List` and [picocli][1] just does not accept candidates that the `${COMPLETION-CANDIDATES}` shows. \r\n\r\nThe way how `picocli` shows and accepts values does not align with each other.\r\n\r\n**Code:**\r\n\r\n    @CommandLine.Option(\r\n    \tnames = {&quot;-c&quot;, &quot;--columns-to-hide&quot;},\r\n        description = &quot;Comma separated list of column names that won&#39;t be displayed&quot;\r\n                + &quot;%nCandidates: ${COMPLETION-CANDIDATES}&quot;,\r\n        split = &quot;,&quot;)\r\n    final List&lt;Header&gt; columnsToHide = new ArrayList&lt;&gt;();\r\n\r\n**Rendered help:**\r\n\r\n    -c, --columns-to-hide   Comma separated list of column names that won&#39;t be displayed\r\n                            Candidates: PORTFOLIO, TICKER, TYPE, CREATED, VOLUME, PRICE, FEE, TRANSFER_ID\r\n\r\n\r\nThe following error appears when I try to use multiply candidates as it was shown in the help:\r\n\r\n**Command:**\r\n\r\n    java -jar my.jar ... -i &quot;PORTFOLIO, TICKER, TYPE&quot;\r\n\r\n**Error:**\r\n\r\n    Invalid value for option &#39;--columns-to-hide&#39; (&lt;columnsToHide&gt;): expected one of [PORTFOLIO, TICKER, TYPE, CREATED, VOLUME, PRICE, FEE, TRANSFER_ID] (case-sensitive) but was &#39; TICKER&#39;\r\n\r\n\r\nThe issue is that the rendered help shows a `comma + space` separated list but the picocli parser only accepts a comma separated list without space.\r\n\r\n**This is accepted:**\r\n\r\n    -i &quot;PORTFOLIO,TICKER,TYPE&quot;\r\n\r\n**This one shows an error:**\r\n\r\n    -i &quot;PORTFOLIO, TICKER, TYPE&quot;\r\n\r\nMy requirement is to accept candidate list with AND without space as well and this bug confuses my users.\r\n\r\nAs a workaround, I can use a String as a type instead of List and `split + trim` the provided String but this makes my code not as elegant as it can be without this bug. Plus I need to check whether or not the provided list contains only valid enum values.\r\n\r\nHave you ever faced this bug?\r\n\r\nCan I instruct picocli somehow to use the value from the`split`when it renders the options? \r\n\r\n  [1]: https://picocli.info/\r\n\r\n\r\n\r\n","title":"@Option with enum List does not accept candidates that ${COMPLETION-CANDIDATES} shows","body":"<p>I have an <code>@Option</code> with an enum <code>java.util.List</code> and <a href=\"https://picocli.info/\" rel=\"nofollow noreferrer\">picocli</a> just does not accept candidates that the <code>${COMPLETION-CANDIDATES}</code> shows.</p>\n<p>The way how <code>picocli</code> shows and accepts values does not align with each other.</p>\n<p><strong>Code:</strong></p>\n<pre><code>@CommandLine.Option(\n    names = {&quot;-c&quot;, &quot;--columns-to-hide&quot;},\n    description = &quot;Comma separated list of column names that won't be displayed&quot;\n            + &quot;%nCandidates: ${COMPLETION-CANDIDATES}&quot;,\n    split = &quot;,&quot;)\nfinal List&lt;Header&gt; columnsToHide = new ArrayList&lt;&gt;();\n</code></pre>\n<p><strong>Rendered help:</strong></p>\n<pre><code>-c, --columns-to-hide   Comma separated list of column names that won't be displayed\n                        Candidates: PORTFOLIO, TICKER, TYPE, CREATED, VOLUME, PRICE, FEE, TRANSFER_ID\n</code></pre>\n<p>The following error appears when I try to use multiply candidates as it was shown in the help:</p>\n<p><strong>Command:</strong></p>\n<pre><code>java -jar my.jar ... -i &quot;PORTFOLIO, TICKER, TYPE&quot;\n</code></pre>\n<p><strong>Error:</strong></p>\n<pre><code>Invalid value for option '--columns-to-hide' (&lt;columnsToHide&gt;): expected one of [PORTFOLIO, TICKER, TYPE, CREATED, VOLUME, PRICE, FEE, TRANSFER_ID] (case-sensitive) but was ' TICKER'\n</code></pre>\n<p>The issue is that the rendered help shows a <code>comma + space</code> separated list but the picocli parser only accepts a comma separated list without space.</p>\n<p><strong>This is accepted:</strong></p>\n<pre><code>-i &quot;PORTFOLIO,TICKER,TYPE&quot;\n</code></pre>\n<p><strong>This one shows an error:</strong></p>\n<pre><code>-i &quot;PORTFOLIO, TICKER, TYPE&quot;\n</code></pre>\n<p>My requirement is to accept candidate list with AND without space as well and this bug confuses my users.</p>\n<p>As a workaround, I can use a String as a type instead of List and <code>split + trim</code> the provided String but this makes my code not as elegant as it can be without this bug. Plus I need to check whether or not the provided list contains only valid enum values.</p>\n<p>Have you ever faced this bug?</p>\n<p>Can I instruct picocli somehow to use the value from the<code>split</code>when it renders the options?</p>\n"},{"tags":["java","spring","spring-data-jpa","spring-data"],"answers":[{"tags":[],"owner":{"account_id":20318127,"reputation":41,"user_id":14903504,"display_name":"Ingvar Kokorin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641671641,"creation_date":1641671641,"answer_id":70635918,"question_id":70634855,"body_markdown":"Ok, I found a solution:\r\n\r\n    private static Specification&lt;Player&gt; getPlayerByBefore(final Long before) {\r\n        return ((root, query, criteriaBuilder) -&gt;\r\n                criteriaBuilder.lessThanOrEqualTo(root.get(&quot;birthday&quot;), new Date(before)));\r\n    }","title":"How to return Spring Specification&lt;T&gt; if requested object and field object have different classes?","body":"<p>Ok, I found a solution:</p>\n<pre><code>private static Specification&lt;Player&gt; getPlayerByBefore(final Long before) {\n    return ((root, query, criteriaBuilder) -&gt;\n            criteriaBuilder.lessThanOrEqualTo(root.get(&quot;birthday&quot;), new Date(before)));\n}\n</code></pre>\n"}],"owner":{"account_id":20318127,"reputation":41,"user_id":14903504,"display_name":"Ingvar Kokorin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":367,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641671641,"creation_date":1641663618,"question_id":70634855,"body_markdown":"@Entity Player has field: **Date birthday**.\r\n\r\nController has method:\r\n\r\n     @GetMapping(&quot;/rest/players&quot;)\r\n    public ResponseEntity&lt;List&lt;Player&gt;&gt; findAll(@RequestParam(required = false) Long after) {\r\n        //response\r\n    }\r\n\r\nI want to create method which returns players Specification&lt;Player&gt; whose birthday after some date, which is coming as Long:\r\n\r\n    private static Specification&lt;Player&gt; getPlayerByAfter(final Long after) {\r\n        return ((root, query, criteriaBuilder) -&gt;\r\n                criteriaBuilder.greaterThan(criteriaBuilder.lower(root.get(&quot;birthday&quot;)), ));\r\n    }\r\n\r\n**How can I do it?** I&#39;m not familiar with Spring at all, just start to learning it. I have tried to google it, but examples always comes with some **@RequestParam String** and I can&#39;t find anything with some other objects and especially if they have different classes.\r\n\r\nThank you :)","title":"How to return Spring Specification&lt;T&gt; if requested object and field object have different classes?","body":"<p>@Entity Player has field: <strong>Date birthday</strong>.</p>\n<p>Controller has method:</p>\n<pre><code> @GetMapping(&quot;/rest/players&quot;)\npublic ResponseEntity&lt;List&lt;Player&gt;&gt; findAll(@RequestParam(required = false) Long after) {\n    //response\n}\n</code></pre>\n<p>I want to create method which returns players Specification whose birthday after some date, which is coming as Long:</p>\n<pre><code>private static Specification&lt;Player&gt; getPlayerByAfter(final Long after) {\n    return ((root, query, criteriaBuilder) -&gt;\n            criteriaBuilder.greaterThan(criteriaBuilder.lower(root.get(&quot;birthday&quot;)), ));\n}\n</code></pre>\n<p><strong>How can I do it?</strong> I'm not familiar with Spring at all, just start to learning it. I have tried to google it, but examples always comes with some <strong>@RequestParam String</strong> and I can't find anything with some other objects and especially if they have different classes.</p>\n<p>Thank you :)</p>\n"},{"tags":["java","intellij-idea","owl","owl-api","owlready"],"comments":[{"owner":{"account_id":6077505,"reputation":8407,"user_id":4744359,"display_name":"UninformedUser"},"score":0,"creation_date":1641453777,"post_id":70593249,"comment_id":124809604,"body_markdown":"not sure if I understand, because you first said &quot;I cannot for the life of me solve the dependency issues to set up the environment&quot; and then you said &quot; have managed to get explanations for unsatisfiability and inconsistency in my setup.&quot; - that is confusing. Are you able to use the API or not? If not, what kind of exception to you get?","body":"not sure if I understand, because you first said &quot;I cannot for the life of me solve the dependency issues to set up the environment&quot; and then you said &quot; have managed to get explanations for unsatisfiability and inconsistency in my setup.&quot; - that is confusing. Are you able to use the API or not? If not, what kind of exception to you get?"},{"owner":{"account_id":6077505,"reputation":8407,"user_id":4744359,"display_name":"UninformedUser"},"score":0,"creation_date":1641456820,"post_id":70593249,"comment_id":124810394,"body_markdown":"Note, I tried it in a local Java project with the current Github code built and installed via Maven, then used as the dependency - works as expected for an arbitrary axiom provided as entailment.","body":"Note, I tried it in a local Java project with the current Github code built and installed via Maven, then used as the dependency - works as expected for an arbitrary axiom provided as entailment."},{"owner":{"account_id":529247,"reputation":10544,"user_id":1197045,"display_name":"Ignazio"},"score":0,"creation_date":1641465681,"post_id":70593249,"comment_id":124813305,"body_markdown":"Which HermiT version? Some older releases include OWLAPI 3 classes and that creates plenty of conflicts.","body":"Which HermiT version? Some older releases include OWLAPI 3 classes and that creates plenty of conflicts."},{"owner":{"account_id":11492330,"reputation":65,"user_id":8422847,"display_name":"SteliosKts"},"score":0,"creation_date":1641493181,"post_id":70593249,"comment_id":124824108,"body_markdown":"Sorry for the missing info, I edited my answer. @Ignazio HermiT version must be 1.3.8 downloaded [here](http://www.hermit-reasoner.com/download.html). @UninformedUser I have managed to use the OWL API through HermiT but not for all I want. I can&#39;t solve the dependencies for the `owlexplanation` project. Is it the `owlexplanation` code you used successfully?","body":"Sorry for the missing info, I edited my answer. @Ignazio HermiT version must be 1.3.8 downloaded <a href=\"http://www.hermit-reasoner.com/download.html\" rel=\"nofollow noreferrer\">here</a>. @UninformedUser I have managed to use the OWL API through HermiT but not for all I want. I can&#39;t solve the dependencies for the <code>owlexplanation</code> project. Is it the <code>owlexplanation</code> code you used successfully?"},{"owner":{"account_id":529247,"reputation":10544,"user_id":1197045,"display_name":"Ignazio"},"score":0,"creation_date":1641580885,"post_id":70593249,"comment_id":124850199,"body_markdown":"That HermiT version includes old OWLAPI classes, meaning it would be hard to make it work with the owlexplanation project","body":"That HermiT version includes old OWLAPI classes, meaning it would be hard to make it work with the owlexplanation project"},{"owner":{"account_id":11492330,"reputation":65,"user_id":8422847,"display_name":"SteliosKts"},"score":0,"creation_date":1641582439,"post_id":70593249,"comment_id":124850666,"body_markdown":"Thanks for the tip @Ignazio. This is a point of failure I hadn&#39;t reached yet. I wasn&#39;t even aware of this, it seems www.hermit-reasoner.com isn&#39;t up to date. What version would you suggest me use, supposing I manage to make `owlexplanation` run? I found [here](https://mvnrepository.com/artifact/net.sourceforge.owlapi/org.semanticweb.hermit) version 1.4.5. This is the latest, I guess.","body":"Thanks for the tip @Ignazio. This is a point of failure I hadn&#39;t reached yet. I wasn&#39;t even aware of this, it seems www.hermit-reasoner.com isn&#39;t up to date. What version would you suggest me use, supposing I manage to make <code>owlexplanation</code> run? I found <a href=\"https://mvnrepository.com/artifact/net.sourceforge.owlapi/org.semanticweb.hermit\" rel=\"nofollow noreferrer\">here</a> version 1.4.5. This is the latest, I guess."},{"owner":{"account_id":529247,"reputation":10544,"user_id":1197045,"display_name":"Ignazio"},"score":0,"creation_date":1641663041,"post_id":70593249,"comment_id":124865741,"body_markdown":"NullPointerException at that point is most likely a file in the wrong place. Always add the code and a stack trace when asking about the reason for an exception, though, otherwise we&#39;re just guessing.","body":"NullPointerException at that point is most likely a file in the wrong place. Always add the code and a stack trace when asking about the reason for an exception, though, otherwise we&#39;re just guessing."},{"owner":{"account_id":11492330,"reputation":65,"user_id":8422847,"display_name":"SteliosKts"},"score":0,"creation_date":1641671152,"post_id":70593249,"comment_id":124867591,"body_markdown":"I &quot;solved&quot; the NullPointer one, and finally decided to use a more native Java approach based on your insight. I have updated my post accordingly. Thanks for your help @Ignazio, you are awesome ;)","body":"I &quot;solved&quot; the NullPointer one, and finally decided to use a more native Java approach based on your insight. I have updated my post accordingly. Thanks for your help @Ignazio, you are awesome ;)"},{"owner":{"account_id":132602,"reputation":2286,"user_id":333403,"accept_rate":67,"display_name":"cknoll"},"score":0,"creation_date":1643182692,"post_id":70593249,"comment_id":125268821,"body_markdown":"Now that you have a working solution, it would be nice to publish it, e.g. as a github project. I think it would be a good thing to add to the list https://github.com/pysemtec/semantic-python-overview as it (probably) demonstrates how solve a nontrivial semantic problem (getting explanations for a consistent ontology) by calling java code from python.","body":"Now that you have a working solution, it would be nice to publish it, e.g. as a github project. I think it would be a good thing to add to the list <a href=\"https://github.com/pysemtec/semantic-python-overview\" rel=\"nofollow noreferrer\">github.com/pysemtec/semantic-python-overview</a> as it (probably) demonstrates how solve a nontrivial semantic problem (getting explanations for a consistent ontology) by calling java code from python."},{"owner":{"account_id":11492330,"reputation":65,"user_id":8422847,"display_name":"SteliosKts"},"score":1,"creation_date":1643198860,"post_id":70593249,"comment_id":125274802,"body_markdown":"Thanks for the suggestion @cknoll, duly noted! As I still work on my projects now, I can certainly look into this prospect in the next months. I&#39;d love to give back to the community a working package, that&#39;s for sure.","body":"Thanks for the suggestion @cknoll, duly noted! As I still work on my projects now, I can certainly look into this prospect in the next months. I&#39;d love to give back to the community a working package, that&#39;s for sure."}],"answers":[{"tags":[],"owner":{"account_id":529247,"reputation":10544,"user_id":1197045,"display_name":"Ignazio"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641588775,"creation_date":1641588775,"answer_id":70627048,"question_id":70593249,"body_markdown":"You&#39;re not just using the projects but actually building them from scratch, which requires more setup than using the published artifacts.\r\n\r\nShortcut that uses Maven available jars (via Maven Central, although other public repositories should do just as well)\r\n\r\nJava code:\r\n\r\n        import java.io.File;\r\n        import java.util.Set;\r\n        import java.util.function.Supplier;\r\n        \r\n        import org.junit.Test;\r\n        import org.semanticweb.HermiT.ReasonerFactory;\r\n        import org.semanticweb.owl.explanation.api.Explanation;\r\n        import org.semanticweb.owl.explanation.api.ExplanationGenerator;\r\n        import org.semanticweb.owl.explanation.api.ExplanationGeneratorFactory;\r\n        import org.semanticweb.owl.explanation.api.ExplanationProgressMonitor;\r\n        import org.semanticweb.owl.explanation.impl.blackbox.Configuration;\r\n        import org.semanticweb.owl.explanation.impl.blackbox.DivideAndConquerContractionStrategy;\r\n        import org.semanticweb.owl.explanation.impl.blackbox.EntailmentCheckerFactory;\r\n        import org.semanticweb.owl.explanation.impl.blackbox.InitialEntailmentCheckStrategy;\r\n        import org.semanticweb.owl.explanation.impl.blackbox.StructuralTypePriorityExpansionStrategy;\r\n        import org.semanticweb.owl.explanation.impl.blackbox.checker.BlackBoxExplanationGeneratorFactory;\r\n        import org.semanticweb.owl.explanation.impl.blackbox.checker.SatisfiabilityEntailmentCheckerFactory;\r\n        import org.semanticweb.owlapi.apibinding.OWLManager;\r\n        import org.semanticweb.owlapi.model.OWLAxiom;\r\n        import org.semanticweb.owlapi.model.OWLOntology;\r\n        import org.semanticweb.owlapi.model.OWLOntologyManager;\r\n        import org.semanticweb.owlapi.reasoner.OWLReasonerFactory;\r\n        \r\n        public class CheckOntology {\r\n        \r\n            @Test\r\n            public void should() throws Exception {\r\n        \r\n                OWLOntologyManager m = OWLManager.createOWLOntologyManager();\r\n                OWLOntology o = m.loadOntologyFromOntologyDocument(new File(&quot;pizza.owl&quot;));\r\n        \r\n                OWLReasonerFactory rf = new ReasonerFactory(); // Get hold of a reasoner factory\r\n        \r\n                // Create the explanation generator factory which uses reasoners provided by the specified\r\n                // reasoner factory\r\n        \r\n                ExplanationGeneratorFactory&lt;OWLAxiom&gt; genFac =\r\n                    createExplanationGeneratorFactory(rf, null, OWLManager::createOWLOntologyManager);\r\n        \r\n                // Now create the actual explanation generator for our ontology\r\n                ExplanationGenerator&lt;OWLAxiom&gt; gen = genFac.createExplanationGenerator(o);\r\n        \r\n        \r\n                // Ask for explanations for some entailment\r\n                // Get a reference to the axiom that represents the entailment that we want explanation for\r\n                \r\n                // this will just run the explanations for all axioms\r\n                o.logicalAxioms().forEach(e -&gt; explain(e, gen));\r\n            }\r\n        \r\n            void explain(OWLAxiom entailment, ExplanationGenerator&lt;OWLAxiom&gt; gen) {\r\n                // Get our explanations. Ask for a maximum of 5.\r\n                try {\r\n                    Set&lt;Explanation&lt;OWLAxiom&gt;&gt; expl = gen.getExplanations(entailment, 5);\r\n                    System.out.println(&quot;CheckOntology.explain() &quot; + entailment);\r\n                    expl.forEach(System.out::println);\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        // this method replicates code existing in the owlexplanation project; it&#39;s needed because the factories in owlexplanation do not set InitialEntailmentCheckStrategy correctly\r\n            public static ExplanationGeneratorFactory&lt;OWLAxiom&gt; createExplanationGeneratorFactory(\r\n                OWLReasonerFactory reasonerFactory, ExplanationProgressMonitor&lt;OWLAxiom&gt; progressMonitor,\r\n                Supplier&lt;OWLOntologyManager&gt; m) {\r\n                EntailmentCheckerFactory&lt;OWLAxiom&gt; checker =\r\n                    new SatisfiabilityEntailmentCheckerFactory(reasonerFactory, m);\r\n                Configuration&lt;OWLAxiom&gt; config = new Configuration&lt;&gt;(checker,\r\n                    new StructuralTypePriorityExpansionStrategy&lt;OWLAxiom&gt;(\r\n                        InitialEntailmentCheckStrategy.PERFORM, m),\r\n                    new DivideAndConquerContractionStrategy&lt;OWLAxiom&gt;(), progressMonitor, m);\r\n                return new BlackBoxExplanationGeneratorFactory&lt;&gt;(config);\r\n            }\r\n        }\r\n\r\n\r\nMaven configuration:\r\n\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\nxsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;blah&lt;/groupId&gt;\r\n  &lt;artifactId&gt;blah&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;name&gt;blah&lt;/name&gt;\r\n  &lt;dependencies&gt;\r\n  \t&lt;dependency&gt;\r\n  \t\t&lt;groupId&gt;junit&lt;/groupId&gt;\r\n  \t\t&lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n  \t\t&lt;version&gt;4.12&lt;/version&gt;\r\n  \t&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;net.sourceforge.owlapi&lt;/groupId&gt;\r\n  &lt;artifactId&gt;org.semanticweb.hermit&lt;/artifactId&gt;\r\n  &lt;version&gt;1.4.5.519&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;net.sourceforge.owlapi&lt;/groupId&gt;\r\n  &lt;artifactId&gt;owlexplanation&lt;/artifactId&gt;\r\n  &lt;version&gt;5.0.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n\r\nHermiT is available on Maven Central via release builds I&#39;ve made - the patch version refers to the OWLAPI version it was built with. Here 1.4.5.519 means HermiT was built with OWLAPI 5.1.9. owlexplanation 5.0.0 was built with OWLAPI 5, so it&#39;s the same major OWLAPI version for the project.\r\n\r\nThis code sample doesn&#39;t do a lot because it just looks for explanations of asserted axioms. Often the explanation is just the axiom itself, as it&#39;s asserted. Varying the chosen axiom, or using axioms not asserted in the ontology, should give you the explanations you are after.","title":"Explanations in Consistent OWL Ontologies","body":"<p>You're not just using the projects but actually building them from scratch, which requires more setup than using the published artifacts.</p>\n<p>Shortcut that uses Maven available jars (via Maven Central, although other public repositories should do just as well)</p>\n<p>Java code:</p>\n<pre><code>    import java.io.File;\n    import java.util.Set;\n    import java.util.function.Supplier;\n    \n    import org.junit.Test;\n    import org.semanticweb.HermiT.ReasonerFactory;\n    import org.semanticweb.owl.explanation.api.Explanation;\n    import org.semanticweb.owl.explanation.api.ExplanationGenerator;\n    import org.semanticweb.owl.explanation.api.ExplanationGeneratorFactory;\n    import org.semanticweb.owl.explanation.api.ExplanationProgressMonitor;\n    import org.semanticweb.owl.explanation.impl.blackbox.Configuration;\n    import org.semanticweb.owl.explanation.impl.blackbox.DivideAndConquerContractionStrategy;\n    import org.semanticweb.owl.explanation.impl.blackbox.EntailmentCheckerFactory;\n    import org.semanticweb.owl.explanation.impl.blackbox.InitialEntailmentCheckStrategy;\n    import org.semanticweb.owl.explanation.impl.blackbox.StructuralTypePriorityExpansionStrategy;\n    import org.semanticweb.owl.explanation.impl.blackbox.checker.BlackBoxExplanationGeneratorFactory;\n    import org.semanticweb.owl.explanation.impl.blackbox.checker.SatisfiabilityEntailmentCheckerFactory;\n    import org.semanticweb.owlapi.apibinding.OWLManager;\n    import org.semanticweb.owlapi.model.OWLAxiom;\n    import org.semanticweb.owlapi.model.OWLOntology;\n    import org.semanticweb.owlapi.model.OWLOntologyManager;\n    import org.semanticweb.owlapi.reasoner.OWLReasonerFactory;\n    \n    public class CheckOntology {\n    \n        @Test\n        public void should() throws Exception {\n    \n            OWLOntologyManager m = OWLManager.createOWLOntologyManager();\n            OWLOntology o = m.loadOntologyFromOntologyDocument(new File(&quot;pizza.owl&quot;));\n    \n            OWLReasonerFactory rf = new ReasonerFactory(); // Get hold of a reasoner factory\n    \n            // Create the explanation generator factory which uses reasoners provided by the specified\n            // reasoner factory\n    \n            ExplanationGeneratorFactory&lt;OWLAxiom&gt; genFac =\n                createExplanationGeneratorFactory(rf, null, OWLManager::createOWLOntologyManager);\n    \n            // Now create the actual explanation generator for our ontology\n            ExplanationGenerator&lt;OWLAxiom&gt; gen = genFac.createExplanationGenerator(o);\n    \n    \n            // Ask for explanations for some entailment\n            // Get a reference to the axiom that represents the entailment that we want explanation for\n            \n            // this will just run the explanations for all axioms\n            o.logicalAxioms().forEach(e -&gt; explain(e, gen));\n        }\n    \n        void explain(OWLAxiom entailment, ExplanationGenerator&lt;OWLAxiom&gt; gen) {\n            // Get our explanations. Ask for a maximum of 5.\n            try {\n                Set&lt;Explanation&lt;OWLAxiom&gt;&gt; expl = gen.getExplanations(entailment, 5);\n                System.out.println(&quot;CheckOntology.explain() &quot; + entailment);\n                expl.forEach(System.out::println);\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    // this method replicates code existing in the owlexplanation project; it's needed because the factories in owlexplanation do not set InitialEntailmentCheckStrategy correctly\n        public static ExplanationGeneratorFactory&lt;OWLAxiom&gt; createExplanationGeneratorFactory(\n            OWLReasonerFactory reasonerFactory, ExplanationProgressMonitor&lt;OWLAxiom&gt; progressMonitor,\n            Supplier&lt;OWLOntologyManager&gt; m) {\n            EntailmentCheckerFactory&lt;OWLAxiom&gt; checker =\n                new SatisfiabilityEntailmentCheckerFactory(reasonerFactory, m);\n            Configuration&lt;OWLAxiom&gt; config = new Configuration&lt;&gt;(checker,\n                new StructuralTypePriorityExpansionStrategy&lt;OWLAxiom&gt;(\n                    InitialEntailmentCheckStrategy.PERFORM, m),\n                new DivideAndConquerContractionStrategy&lt;OWLAxiom&gt;(), progressMonitor, m);\n            return new BlackBoxExplanationGeneratorFactory&lt;&gt;(config);\n        }\n    }\n</code></pre>\n<p>Maven configuration:</p>\n<p>\n4.0.0\nblah\nblah\n0.0.1-SNAPSHOT\nblah\n\n\njunit\njunit\n4.12\n\n\nnet.sourceforge.owlapi\norg.semanticweb.hermit\n1.4.5.519\n\n\nnet.sourceforge.owlapi\nowlexplanation\n5.0.0\n\n\n</p>\n<p>HermiT is available on Maven Central via release builds I've made - the patch version refers to the OWLAPI version it was built with. Here 1.4.5.519 means HermiT was built with OWLAPI 5.1.9. owlexplanation 5.0.0 was built with OWLAPI 5, so it's the same major OWLAPI version for the project.</p>\n<p>This code sample doesn't do a lot because it just looks for explanations of asserted axioms. Often the explanation is just the axiom itself, as it's asserted. Varying the chosen axiom, or using axioms not asserted in the ontology, should give you the explanations you are after.</p>\n"}],"owner":{"account_id":11492330,"reputation":65,"user_id":8422847,"display_name":"SteliosKts"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":229,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":70627048,"answer_count":1,"score":1,"last_activity_date":1641671027,"creation_date":1641387396,"question_id":70593249,"body_markdown":"I want to programmatically get explanations for inferred axioms in **consistent** ontologies, in a similar manner that one can do in the Prot&#233;g&#233; UI. I cannot find any straightforward way. I have found the [owlexplanation repo][1], but I cannot for the life of me solve the dependency issues to set up the `owlexplanation` environment. I have also browsed the [javadoc][2] of owlapi regarding explanations (to avoid the other repo altogether), but I don&#39;t see anything useful beyond what I can already see browsing the Java source code.\r\n\r\nI have thought of simply negating the inferred axiom, to get explanations through inconsistencies, but I would prefer something cleaner, and I am not sure this approach is correct anyway.\r\n\r\nOther (possibly) useful context:\r\n\r\n - I had used some Java years ago, but I now primarily use Python (I try to use OWL API with JPype and OWL in general with Owlready2).\r\n - I am using HermiT reasoner (again through JPype) (according to build.xml file, &lt;s&gt;latest stable&lt;/s&gt; version 1.3.8).\r\n - I have managed to get explanations for unsatisfiability and inconsistency in my setup, without `owlexplanation`, following [this](https://github.com/phillord/hermit-reasoner/blob/master/examples/org/semanticweb/HermiT/examples/Explanations.java) example from the  HermiT source code.\r\n - I fell in the rabbit hole wanting to make a usable `.jar` file for `owlexplanation`, in order to add it in my JPype classpath. My plan went sideways when I couldn&#39;t get the Java project to build in the first place.\r\n - I am using Intellij IDE.\r\n\r\nI would appreciate any insight or tips.\r\n\r\n**UPDATE Jan 6, 2022:**\r\n\r\nI decided to try once more with the `owlexplanation` code with a clean head so here is where I am at:\r\n\r\n - Downloaded the source code from github and extracted the zip.\r\n - Started IntelliJ and instead from &quot;Creating a project from Existing sources&quot;, I clicked &quot;Open&quot; and selected the extracted directory.\r\n - I built the project and it did successfully.\r\n - From Maven tools, I run clean, validate, compile and test succesfully.\r\n - If I run &quot;package&quot; Maven action, it throws as error that &quot;The environment variable JAVA_HOME is not correctly set&quot;. The thing is that if I go File&gt;Project Structure, I see that SDK is set to 11, it&#39;s not empty.\r\n - Additionally, from the `pom.xml` file I get these problems:\r\n   - `Plugin &#39;org.apache.maven.plugins:maven-gpg-plugin:1.5&#39; not found`\r\n   - `Plugin &#39;org.sonatype.plugins:nexus-staging-maven-plugin:1.6.6&#39; not found`\r\n\r\n**UPDATE Jan 8, 2022**: *(Trying @Ignazio&#39;s answer)*\r\n\r\nI created a new IntelliJ project, and added the Maven dependencies @Ignazio mentioned (plus some others like `slf4j` etc) and I got a working example (I think). Moving to my main project (using JPype), I had to manually download some .jars to include in the classpath (as maven can&#39;t be used here). These are the ones downloaded so far: \r\n```\r\ncaffeine-3.0.5.jar         hppcrt-0.7.5.jar    org.semanticweb.hermit-1.4.5.519.jar  slf4j-api-1.7.32.jar\r\ncommons-rdf-api-0.5.0.jar  javax.inject-1.jar  owlapi-distribution-5.1.9.jar         slf4j-nop-1.7.32.jar\r\ngoogle-collect-1.0.jar     owlexplanation-5.0.0.jar\r\n```\r\nNext, a `NullPointerException` is thrown when trying to use `loadOntologyFromOntologyDocument()`. I have tried re-downloading the jars as proposed [here](https://github.com/owlcs/owlapi/issues/807#issuecomment-442095448), but the Exception remains. Could it be that some .jar is missing? I downloaded them based on the thrown `NoClassDefFoundError` that would occur. \r\n\r\nThis occurs with a common `pizza.owl` file that it is otherwise fully working.\r\n\r\n**EDIT**: I used `mvn dependency:copy-dependencies -DoutputDirectory=OUTPUT_DIR` to get the dependencies and by using OUTPUT_DIR as the classpath, the `NullPointerException` is gone, so it seems I was indeed missing some .jar file.\r\n\r\nFor the record, I then got other issues (`gen.getExplanations()` was throwing a `NoSuchMethodError` error), but I have no more time for debugging this. I will ditch JPype, however convenient it is, and simply call Java from Python with `subprocess`. These are (I guess) Jpype problems, so I am accepting Ignazio&#39;s answer as it solved my Java/OWL API/owlexplanation side of things.\r\n\r\n  [1]: https://github.com/matthewhorridge/owlexplanation\r\n  [2]: https://owlcs.github.io/owlapi/apidocs_5/index.html","title":"Explanations in Consistent OWL Ontologies","body":"<p>I want to programmatically get explanations for inferred axioms in <strong>consistent</strong> ontologies, in a similar manner that one can do in the Protégé UI. I cannot find any straightforward way. I have found the <a href=\"https://github.com/matthewhorridge/owlexplanation\" rel=\"nofollow noreferrer\">owlexplanation repo</a>, but I cannot for the life of me solve the dependency issues to set up the <code>owlexplanation</code> environment. I have also browsed the <a href=\"https://owlcs.github.io/owlapi/apidocs_5/index.html\" rel=\"nofollow noreferrer\">javadoc</a> of owlapi regarding explanations (to avoid the other repo altogether), but I don't see anything useful beyond what I can already see browsing the Java source code.</p>\n<p>I have thought of simply negating the inferred axiom, to get explanations through inconsistencies, but I would prefer something cleaner, and I am not sure this approach is correct anyway.</p>\n<p>Other (possibly) useful context:</p>\n<ul>\n<li>I had used some Java years ago, but I now primarily use Python (I try to use OWL API with JPype and OWL in general with Owlready2).</li>\n<li>I am using HermiT reasoner (again through JPype) (according to build.xml file, <s>latest stable</s> version 1.3.8).</li>\n<li>I have managed to get explanations for unsatisfiability and inconsistency in my setup, without <code>owlexplanation</code>, following <a href=\"https://github.com/phillord/hermit-reasoner/blob/master/examples/org/semanticweb/HermiT/examples/Explanations.java\" rel=\"nofollow noreferrer\">this</a> example from the  HermiT source code.</li>\n<li>I fell in the rabbit hole wanting to make a usable <code>.jar</code> file for <code>owlexplanation</code>, in order to add it in my JPype classpath. My plan went sideways when I couldn't get the Java project to build in the first place.</li>\n<li>I am using Intellij IDE.</li>\n</ul>\n<p>I would appreciate any insight or tips.</p>\n<p><strong>UPDATE Jan 6, 2022:</strong></p>\n<p>I decided to try once more with the <code>owlexplanation</code> code with a clean head so here is where I am at:</p>\n<ul>\n<li>Downloaded the source code from github and extracted the zip.</li>\n<li>Started IntelliJ and instead from &quot;Creating a project from Existing sources&quot;, I clicked &quot;Open&quot; and selected the extracted directory.</li>\n<li>I built the project and it did successfully.</li>\n<li>From Maven tools, I run clean, validate, compile and test succesfully.</li>\n<li>If I run &quot;package&quot; Maven action, it throws as error that &quot;The environment variable JAVA_HOME is not correctly set&quot;. The thing is that if I go File&gt;Project Structure, I see that SDK is set to 11, it's not empty.</li>\n<li>Additionally, from the <code>pom.xml</code> file I get these problems:\n<ul>\n<li><code>Plugin 'org.apache.maven.plugins:maven-gpg-plugin:1.5' not found</code></li>\n<li><code>Plugin 'org.sonatype.plugins:nexus-staging-maven-plugin:1.6.6' not found</code></li>\n</ul>\n</li>\n</ul>\n<p><strong>UPDATE Jan 8, 2022</strong>: <em>(Trying @Ignazio's answer)</em></p>\n<p>I created a new IntelliJ project, and added the Maven dependencies @Ignazio mentioned (plus some others like <code>slf4j</code> etc) and I got a working example (I think). Moving to my main project (using JPype), I had to manually download some .jars to include in the classpath (as maven can't be used here). These are the ones downloaded so far:</p>\n<pre><code>caffeine-3.0.5.jar         hppcrt-0.7.5.jar    org.semanticweb.hermit-1.4.5.519.jar  slf4j-api-1.7.32.jar\ncommons-rdf-api-0.5.0.jar  javax.inject-1.jar  owlapi-distribution-5.1.9.jar         slf4j-nop-1.7.32.jar\ngoogle-collect-1.0.jar     owlexplanation-5.0.0.jar\n</code></pre>\n<p>Next, a <code>NullPointerException</code> is thrown when trying to use <code>loadOntologyFromOntologyDocument()</code>. I have tried re-downloading the jars as proposed <a href=\"https://github.com/owlcs/owlapi/issues/807#issuecomment-442095448\" rel=\"nofollow noreferrer\">here</a>, but the Exception remains. Could it be that some .jar is missing? I downloaded them based on the thrown <code>NoClassDefFoundError</code> that would occur.</p>\n<p>This occurs with a common <code>pizza.owl</code> file that it is otherwise fully working.</p>\n<p><strong>EDIT</strong>: I used <code>mvn dependency:copy-dependencies -DoutputDirectory=OUTPUT_DIR</code> to get the dependencies and by using OUTPUT_DIR as the classpath, the <code>NullPointerException</code> is gone, so it seems I was indeed missing some .jar file.</p>\n<p>For the record, I then got other issues (<code>gen.getExplanations()</code> was throwing a <code>NoSuchMethodError</code> error), but I have no more time for debugging this. I will ditch JPype, however convenient it is, and simply call Java from Python with <code>subprocess</code>. These are (I guess) Jpype problems, so I am accepting Ignazio's answer as it solved my Java/OWL API/owlexplanation side of things.</p>\n"},{"tags":["java","netbeans"],"comments":[{"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"score":0,"creation_date":1641669490,"post_id":70635407,"comment_id":124867263,"body_markdown":"try this: Right click on the Project -&gt; Properties -&gt; Sources -&gt; Change the Source/Binary Format from JDK 6 to newer version.","body":"try this: Right click on the Project -&gt; Properties -&gt; Sources -&gt; Change the Source/Binary Format from JDK 6 to newer version."},{"owner":{"account_id":23053678,"reputation":71,"user_id":17170065,"display_name":"aleptian"},"score":1,"creation_date":1641670911,"post_id":70635407,"comment_id":124867553,"body_markdown":"@sittsering yes that worked great. could you post this comment as an answer so i can accept it? thank you very much.","body":"@sittsering yes that worked great. could you post this comment as an answer so i can accept it? thank you very much."},{"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"score":0,"creation_date":1641671097,"post_id":70635407,"comment_id":124867584,"body_markdown":"sure, no problem","body":"sure, no problem"}],"answers":[{"tags":[],"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641670949,"creation_date":1641670949,"answer_id":70635815,"question_id":70635407,"body_markdown":"try this: &lt;br&gt;\r\nRight click on the Project -&gt; Properties -&gt; Sources -&gt; Change the Source/Binary Format from JDK 6 to newer version.","title":"Netbeans project won&#39;t run","body":"<p>try this: <br>\nRight click on the Project -&gt; Properties -&gt; Sources -&gt; Change the Source/Binary Format from JDK 6 to newer version.</p>\n"}],"owner":{"account_id":23053678,"reputation":71,"user_id":17170065,"display_name":"aleptian"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":736,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70635815,"answer_count":1,"score":0,"last_activity_date":1641670949,"creation_date":1641667880,"question_id":70635407,"body_markdown":"I enrolled myself in the University of Helsinki&#39;s Java course. To follow along with this course, I had to install the NetBeans IDE and complete their exercise through this IDE. \r\n\r\nHowever, when running a simple Hello World program: \r\n\r\n[![Hello World][1]][1]\r\n\r\n\r\nI receive this error: \r\n\r\n[![Error Message][2]][2]\r\n\r\n\r\nDoes anyone know how to fix this error? If it helps, I was asked to download this as well: \r\n\r\n[![Temurin][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/70gsQ.png\r\n  [2]: https://i.stack.imgur.com/uIfa4.png\r\n  [3]: https://i.stack.imgur.com/Fw2jO.png\r\n\r\nAnd I installed NetBeans from this link: https://download.mooc.fi/tmcbeans/installers/tmcbeans_1.4.0_installer.dmg which was provided to me by the website. \r\n\r\nThank you in advance. ","title":"Netbeans project won&#39;t run","body":"<p>I enrolled myself in the University of Helsinki's Java course. To follow along with this course, I had to install the NetBeans IDE and complete their exercise through this IDE.</p>\n<p>However, when running a simple Hello World program:</p>\n<p><a href=\"https://i.stack.imgur.com/70gsQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/70gsQ.png\" alt=\"Hello World\" /></a></p>\n<p>I receive this error:</p>\n<p><a href=\"https://i.stack.imgur.com/uIfa4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uIfa4.png\" alt=\"Error Message\" /></a></p>\n<p>Does anyone know how to fix this error? If it helps, I was asked to download this as well:</p>\n<p><a href=\"https://i.stack.imgur.com/Fw2jO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fw2jO.png\" alt=\"Temurin\" /></a></p>\n<p>And I installed NetBeans from this link: <a href=\"https://download.mooc.fi/tmcbeans/installers/tmcbeans_1.4.0_installer.dmg\" rel=\"nofollow noreferrer\">https://download.mooc.fi/tmcbeans/installers/tmcbeans_1.4.0_installer.dmg</a> which was provided to me by the website.</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","quarkus","reactive","quarkus-panache","hibernate-reactive"],"comments":[{"owner":{"account_id":7215228,"reputation":1692,"user_id":5507961,"accept_rate":75,"display_name":"Javier Toja"},"score":0,"creation_date":1625208837,"post_id":68186431,"comment_id":120571260,"body_markdown":"What version of quarkus are you using ?","body":"What version of quarkus are you using ?"},{"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"score":0,"creation_date":1655837558,"post_id":68186431,"comment_id":128424961,"body_markdown":"Which dependencies are you using?","body":"Which dependencies are you using?"}],"answers":[{"tags":[],"owner":{"account_id":11990984,"reputation":39,"user_id":8774113,"display_name":"thiago rodrigues de santana"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1628038374,"creation_date":1628038374,"answer_id":68644216,"question_id":68186431,"body_markdown":"In my case, i was trying to use H2 Db and i got the same problem. I resolved this problem using a map based approach like the exemple:\r\n\r\nFrom:\r\n\r\n    quarkus.datasource.db-kind=h2 \r\n    quarkus.datasource.jdbc.url=jdbc:h2:mem:guitars\r\n    quarkus.hibernate-orm.database.generation=drop-and-create \r\n    quarkus.hibernate-orm.packages=package br.com.mp.product.models\r\n\r\nTo:\r\n\r\n    quarkus.datasource.&quot;guitars&quot;.db-kind=h2\r\n    quarkus.datasource.&quot;guitars&quot;.jdbc.url=jdbc:h2:mem:guitars\r\n    quarkus.hibernate-orm.&quot;guitars&quot;.database.generation=drop-and-create \r\n    quarkus.hibernate-orm.&quot;guitars&quot;.packages=package br.com.mp.product.models\r\n\r\nIn this way the hibernate can find the specified class from map, but i didn&#39;t try with MySql Db like is your case.\r\n\r\nI saw this example in this link: https://quarkus.io/guides/hibernate-orm\r\n","title":"Quarkus Hibernate Reactive panache mysql","body":"<p>In my case, i was trying to use H2 Db and i got the same problem. I resolved this problem using a map based approach like the exemple:</p>\n<p>From:</p>\n<pre><code>quarkus.datasource.db-kind=h2 \nquarkus.datasource.jdbc.url=jdbc:h2:mem:guitars\nquarkus.hibernate-orm.database.generation=drop-and-create \nquarkus.hibernate-orm.packages=package br.com.mp.product.models\n</code></pre>\n<p>To:</p>\n<pre><code>quarkus.datasource.&quot;guitars&quot;.db-kind=h2\nquarkus.datasource.&quot;guitars&quot;.jdbc.url=jdbc:h2:mem:guitars\nquarkus.hibernate-orm.&quot;guitars&quot;.database.generation=drop-and-create \nquarkus.hibernate-orm.&quot;guitars&quot;.packages=package br.com.mp.product.models\n</code></pre>\n<p>In this way the hibernate can find the specified class from map, but i didn't try with MySql Db like is your case.</p>\n<p>I saw this example in this link: <a href=\"https://quarkus.io/guides/hibernate-orm\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/hibernate-orm</a></p>\n"},{"tags":[],"owner":{"account_id":23870864,"reputation":69,"user_id":17872579,"display_name":"user17872579"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1641670616,"creation_date":1641655512,"answer_id":70633773,"question_id":68186431,"body_markdown":"I resolved this problem by adding below snip into pom.xml dependencies:\r\n```xml\r\n&lt;!-- JDBC driver dependencies --&gt;\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n  &lt;artifactId&gt;quarkus-reactive-pg-client&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"Quarkus Hibernate Reactive panache mysql","body":"<p>I resolved this problem by adding below snip into pom.xml dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- JDBC driver dependencies --&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n  &lt;artifactId&gt;quarkus-reactive-pg-client&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":15239193,"reputation":91,"user_id":10995983,"display_name":"ajith kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3483,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1641670616,"creation_date":1625006239,"question_id":68186431,"body_markdown":"I am trying to build a small app with Reactive jackson hibernate panache mysql as DB.\r\n\r\nI am getting the below error.\r\n\r\n&gt; &quot;stackTrace&quot;: &quot;java.lang.IllegalStateException: No pool has been\r\n&gt; defined for persistence unit default-reactive\\n\\tat\r\n&gt; io.quarkus.hibernate.reactive.runtime.FastBootHibernateReactivePersistenceProvider.registerVertxAndPool(FastBootHibernateReactivePersistenceProvider.java:233)\\n\\tat\r\n&gt; io.quarkus.hibernate.reactive.runtime.FastBootHibernateReactivePersistenceProvider.rewireMetadataAndExtractServiceRegistry(FastBootHibernateReactivePersistenceProvider.java:180)\\n\\tat\r\n&gt; io.quarkus.hibernate.reactive.runtime.FastBootHibernateReactivePersistenceProvider.getEntityManagerFactoryBuilderOrNull(FastBootHibernateReactivePersistenceProvider.java:156)\\n\\tat\r\n&gt; io.quarkus.hibernate.reactive.runtime.FastBootHibernateReactivePersistenceProvider.createEntityManagerFactory(FastBootHibernateReactivePersistenceProvider.java:82)\\n\\tat\r\n&gt; javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:80)\\n\\tat\r\n&gt; javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\\n\\tat\r\n&gt; io.quarkus.hibernate.orm.runtime.JPAConfig$LazyPersistenceUnit.get(JPAConfig.java:118)\\n\\tat\r\n&gt; io.quarkus.hibernate.orm.runtime.JPAConfig.startAll(JPAConfig.java:42)\\n\\tat\r\n&gt; io.quarkus.hibernate.orm.runtime.JPAConfig_Subclass.startAll$$superaccessor5(JPAConfig_Subclass.zig:769)\\n\\tat\r\n&gt; io.quarkus.hibernate.orm.runtime.JPAConfig_Subclass$$function$$5.apply(JPAConfig_Subclass$$function$$5.zig:29)\\n\\tat\r\n&gt; io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:54)\\n\\tat\r\n&gt; io.quarkus.arc.runtime.devconsole.InvocationInterceptor.proceed(InvocationInterceptor.java:62)\\n\\tat\r\n&gt; io.quarkus.arc.runtime.devconsole.InvocationInterceptor.monitor(InvocationInterceptor.java:51)\\n\\tat\r\n&gt; io.quarkus.arc.runtime.devconsole.InvocationInterceptor_Bean.intercept(InvocationInterceptor_Bean.zig:521)\\n\\tat\r\n&gt; io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:41)\\n\\tat\r\n&gt; io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:41)\\n\\tat\r\n&gt; io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:32)\\n\\tat\r\n&gt; io.quarkus.hibernate.orm.runtime.JPAConfig_Subclass.startAll(JPAConfig_Subclass.zig:727)\\n\\tat\r\n&gt; io.quarkus.hibernate.orm.runtime.HibernateOrmRecorder.startAllPersistenceUnits(HibernateOrmRecorder.java:88)\\n\\tat\r\n&gt; io.quarkus.deployment.steps.HibernateOrmProcessor$startPersistenceUnits951856026.deploy_0(HibernateOrmProcessor$startPersistenceUnits951856026.zig:74)\\n\\tat\r\n&gt; io.quarkus.deployment.steps.HibernateOrmProcessor$startPersistenceUnits951856026.deploy(HibernateOrmProcessor$startPersistenceUnits951856026.zig:40)\\n\\tat\r\n&gt; io.quarkus.runner.ApplicationImpl.doStart(ApplicationImpl.zig:751)\\n\\tat\r\n&gt; io.quarkus.runtime.Application.start(Application.java:90)\\n\\tat\r\n&gt; io.quarkus.runtime.ApplicationLifecycleManager.run(ApplicationLifecycleManager.java:100)\\n\\tat\r\n&gt; io.quarkus.runtime.Quarkus.run(Quarkus.java:66)\\n\\tat\r\n&gt; io.quarkus.runtime.Quarkus.run(Quarkus.java:42)\\n\\tat\r\n&gt; io.quarkus.runtime.Quarkus.run(Quarkus.java:119)\\n\\tat\r\n&gt; io.quarkus.runner.GeneratedMain.main(GeneratedMain.zig:29)\\n\\tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\r\n&gt; Method)\\n\\tat\r\n&gt; java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\\n\\tat\r\n&gt; java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat\r\n&gt; java.base/java.lang.reflect.Method.invoke(Method.java:567)\\n\\tat\r\n&gt; io.quarkus.runner.bootstrap.StartupActionImpl$3.run(StartupActionImpl.java:134)\\n\\tat\r\n&gt; java.base/java.lang.Thread.run(Thread.java:831)\\n&quot;\r\n\r\nAny idea What am missing?.\r\n\r\nI have models\r\n\r\n    @Entity\r\n    public class Nation extends PanacheEntity {\r\n    \r\n        @Column\r\n        public String country;\r\n    \r\n        public Nation(String country, List&lt;State&gt; states) {\r\n            this.country = country;\r\n            this.states = states;\r\n        }\r\n    \r\n        @OneToMany(cascade = {CascadeType.ALL})\r\n        public List&lt;State&gt; states = new ArrayList&lt;&gt;();\r\n    \r\n        public Nation() {\r\n    \r\n        }\r\n    }\r\n    \r\n    @Entity\r\n    public class State extends PanacheEntity {\r\n    \r\n        public State(String state, List&lt;District&gt; districts) {\r\n            this.state = state;\r\n            this.districts = districts;\r\n        }\r\n    \r\n        @Column\r\n        public String state;\r\n    \r\n        @OneToMany\r\n        public List&lt;District&gt; districts = new ArrayList&lt;&gt;();\r\n    \r\n        public State() {\r\n    \r\n        }\r\n    }\r\n    \r\n    \r\n    @Entity\r\n    public class District extends PanacheEntity {\r\n    \r\n        public District(String district, List&lt;Village&gt; villages) {\r\n            this.district = district;\r\n            this.villages = villages;\r\n        }\r\n    \r\n        @Column\r\n        public String district;\r\n    \r\n        @OneToMany\r\n        public List&lt;Village&gt; villages = new ArrayList&lt;&gt;();\r\n    \r\n        public District() {\r\n    \r\n        }\r\n    }\r\n    \r\n    \r\n    @Entity\r\n    public class Village extends PanacheEntity {\r\n    \r\n        @Column\r\n        public String village;\r\n    \r\n        public Village(String village) {\r\n            this.village = village;\r\n        }\r\n    \r\n        public Village() {\r\n    \r\n        }\r\n    }\r\n    \r\n    \r\n    @Path(&quot;/nation&quot;)\r\n    @Produces(MediaType.APPLICATION_JSON)\r\n    @Consumes(MediaType.APPLICATION_JSON)\r\n    @ApplicationScoped\r\n    public class NationResource {\r\n    \r\n        @Inject\r\n        NationRepository nationRepository;\r\n    \r\n       /* @Inject\r\n        public NationResource(NationRepository nationRepository) {\r\n            this.nationRepository = nationRepository;\r\n        }*/\r\n    \r\n        @POST\r\n        @Path(&quot;save&quot;)\r\n        public Uni&lt;Void&gt; saveNation(Nation nation) {\r\n            return nationRepository.persist(nation);\r\n        }\r\n    \r\n        @GET\r\n        public Uni&lt;List&lt;Nation&gt;&gt; getNations() {\r\n            return nationRepository.listAll();\r\n        }\r\n    \r\n        @GET\r\n        @Path(&quot;{id}&quot;)\r\n        public Uni&lt;Nation&gt; getNation(@PathParam(&quot;id&quot;) Long id) {\r\n            return nationRepository.findById(id);\r\n        }\r\n    }\r\n    \r\n    \r\n    quarkus:\r\n      http:\r\n        port: 4754\r\n      log:\r\n        console:\r\n          json:\r\n            pretty-print: true\r\n            date-format: &quot;YYYY-MM-dd HH:mm:ss&quot;\r\n            exception-output-type: &quot;detailed-and-formatted&quot;\r\n      # configure your datasource\r\n      datasource:\r\n        db-kind: mysql\r\n        username: root\r\n        password: root\r\n        reactive:\r\n          url: vertx-reactive:mysql://localhost:3306/garrsolutions\r\n      # drop and create the database at startup (use `update` to only update the schema)\r\n      hibernate-orm:\r\n        database:\r\n          generation: drop-and-create","title":"Quarkus Hibernate Reactive panache mysql","body":"<p>I am trying to build a small app with Reactive jackson hibernate panache mysql as DB.</p>\n<p>I am getting the below error.</p>\n<blockquote>\n<p>&quot;stackTrace&quot;: &quot;java.lang.IllegalStateException: No pool has been\ndefined for persistence unit default-reactive\\n\\tat\nio.quarkus.hibernate.reactive.runtime.FastBootHibernateReactivePersistenceProvider.registerVertxAndPool(FastBootHibernateReactivePersistenceProvider.java:233)\\n\\tat\nio.quarkus.hibernate.reactive.runtime.FastBootHibernateReactivePersistenceProvider.rewireMetadataAndExtractServiceRegistry(FastBootHibernateReactivePersistenceProvider.java:180)\\n\\tat\nio.quarkus.hibernate.reactive.runtime.FastBootHibernateReactivePersistenceProvider.getEntityManagerFactoryBuilderOrNull(FastBootHibernateReactivePersistenceProvider.java:156)\\n\\tat\nio.quarkus.hibernate.reactive.runtime.FastBootHibernateReactivePersistenceProvider.createEntityManagerFactory(FastBootHibernateReactivePersistenceProvider.java:82)\\n\\tat\njavax.persistence.Persistence.createEntityManagerFactory(Persistence.java:80)\\n\\tat\njavax.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\\n\\tat\nio.quarkus.hibernate.orm.runtime.JPAConfig$LazyPersistenceUnit.get(JPAConfig.java:118)\\n\\tat\nio.quarkus.hibernate.orm.runtime.JPAConfig.startAll(JPAConfig.java:42)\\n\\tat\nio.quarkus.hibernate.orm.runtime.JPAConfig_Subclass.startAll$$superaccessor5(JPAConfig_Subclass.zig:769)\\n\\tat\nio.quarkus.hibernate.orm.runtime.JPAConfig_Subclass$$function$$5.apply(JPAConfig_Subclass$$function$$5.zig:29)\\n\\tat\nio.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:54)\\n\\tat\nio.quarkus.arc.runtime.devconsole.InvocationInterceptor.proceed(InvocationInterceptor.java:62)\\n\\tat\nio.quarkus.arc.runtime.devconsole.InvocationInterceptor.monitor(InvocationInterceptor.java:51)\\n\\tat\nio.quarkus.arc.runtime.devconsole.InvocationInterceptor_Bean.intercept(InvocationInterceptor_Bean.zig:521)\\n\\tat\nio.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:41)\\n\\tat\nio.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:41)\\n\\tat\nio.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:32)\\n\\tat\nio.quarkus.hibernate.orm.runtime.JPAConfig_Subclass.startAll(JPAConfig_Subclass.zig:727)\\n\\tat\nio.quarkus.hibernate.orm.runtime.HibernateOrmRecorder.startAllPersistenceUnits(HibernateOrmRecorder.java:88)\\n\\tat\nio.quarkus.deployment.steps.HibernateOrmProcessor$startPersistenceUnits951856026.deploy_0(HibernateOrmProcessor$startPersistenceUnits951856026.zig:74)\\n\\tat\nio.quarkus.deployment.steps.HibernateOrmProcessor$startPersistenceUnits951856026.deploy(HibernateOrmProcessor$startPersistenceUnits951856026.zig:40)\\n\\tat\nio.quarkus.runner.ApplicationImpl.doStart(ApplicationImpl.zig:751)\\n\\tat\nio.quarkus.runtime.Application.start(Application.java:90)\\n\\tat\nio.quarkus.runtime.ApplicationLifecycleManager.run(ApplicationLifecycleManager.java:100)\\n\\tat\nio.quarkus.runtime.Quarkus.run(Quarkus.java:66)\\n\\tat\nio.quarkus.runtime.Quarkus.run(Quarkus.java:42)\\n\\tat\nio.quarkus.runtime.Quarkus.run(Quarkus.java:119)\\n\\tat\nio.quarkus.runner.GeneratedMain.main(GeneratedMain.zig:29)\\n\\tat\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native\nMethod)\\n\\tat\njava.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\\n\\tat\njava.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\\n\\tat\njava.base/java.lang.reflect.Method.invoke(Method.java:567)\\n\\tat\nio.quarkus.runner.bootstrap.StartupActionImpl$3.run(StartupActionImpl.java:134)\\n\\tat\njava.base/java.lang.Thread.run(Thread.java:831)\\n&quot;</p>\n</blockquote>\n<p>Any idea What am missing?.</p>\n<p>I have models</p>\n<pre><code>@Entity\npublic class Nation extends PanacheEntity {\n\n    @Column\n    public String country;\n\n    public Nation(String country, List&lt;State&gt; states) {\n        this.country = country;\n        this.states = states;\n    }\n\n    @OneToMany(cascade = {CascadeType.ALL})\n    public List&lt;State&gt; states = new ArrayList&lt;&gt;();\n\n    public Nation() {\n\n    }\n}\n\n@Entity\npublic class State extends PanacheEntity {\n\n    public State(String state, List&lt;District&gt; districts) {\n        this.state = state;\n        this.districts = districts;\n    }\n\n    @Column\n    public String state;\n\n    @OneToMany\n    public List&lt;District&gt; districts = new ArrayList&lt;&gt;();\n\n    public State() {\n\n    }\n}\n\n\n@Entity\npublic class District extends PanacheEntity {\n\n    public District(String district, List&lt;Village&gt; villages) {\n        this.district = district;\n        this.villages = villages;\n    }\n\n    @Column\n    public String district;\n\n    @OneToMany\n    public List&lt;Village&gt; villages = new ArrayList&lt;&gt;();\n\n    public District() {\n\n    }\n}\n\n\n@Entity\npublic class Village extends PanacheEntity {\n\n    @Column\n    public String village;\n\n    public Village(String village) {\n        this.village = village;\n    }\n\n    public Village() {\n\n    }\n}\n\n\n@Path(&quot;/nation&quot;)\n@Produces(MediaType.APPLICATION_JSON)\n@Consumes(MediaType.APPLICATION_JSON)\n@ApplicationScoped\npublic class NationResource {\n\n    @Inject\n    NationRepository nationRepository;\n\n   /* @Inject\n    public NationResource(NationRepository nationRepository) {\n        this.nationRepository = nationRepository;\n    }*/\n\n    @POST\n    @Path(&quot;save&quot;)\n    public Uni&lt;Void&gt; saveNation(Nation nation) {\n        return nationRepository.persist(nation);\n    }\n\n    @GET\n    public Uni&lt;List&lt;Nation&gt;&gt; getNations() {\n        return nationRepository.listAll();\n    }\n\n    @GET\n    @Path(&quot;{id}&quot;)\n    public Uni&lt;Nation&gt; getNation(@PathParam(&quot;id&quot;) Long id) {\n        return nationRepository.findById(id);\n    }\n}\n\n\nquarkus:\n  http:\n    port: 4754\n  log:\n    console:\n      json:\n        pretty-print: true\n        date-format: &quot;YYYY-MM-dd HH:mm:ss&quot;\n        exception-output-type: &quot;detailed-and-formatted&quot;\n  # configure your datasource\n  datasource:\n    db-kind: mysql\n    username: root\n    password: root\n    reactive:\n      url: vertx-reactive:mysql://localhost:3306/garrsolutions\n  # drop and create the database at startup (use `update` to only update the schema)\n  hibernate-orm:\n    database:\n      generation: drop-and-create\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1641670355,"post_id":70635708,"comment_id":124867450,"body_markdown":"`sendBroadcast(deleteIntent);` – Get rid of that line. That&#39;s what the `PendingIntent` is for; so that `sendBroadcast()` call can be made later, when you click the button.","body":"<code>sendBroadcast(deleteIntent);</code> – Get rid of that line. That&#39;s what the <code>PendingIntent</code> is for; so that <code>sendBroadcast()</code> call can be made later, when you click the button."},{"owner":{"account_id":17561910,"reputation":65,"user_id":12739733,"display_name":"mr-woodapple"},"score":0,"creation_date":1641671143,"post_id":70635708,"comment_id":124867588,"body_markdown":"@MikeM. Hmm okay, I removed that line before. Nothing happens then (which is good). But where do I need to implement that sendBroadcast() then?","body":"@MikeM. Hmm okay, I removed that line before. Nothing happens then (which is good). But where do I need to implement that sendBroadcast() then?"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":1,"creation_date":1641671300,"post_id":70635708,"comment_id":124867631,"body_markdown":"You don&#39;t need to. Basically, the system will handle it when you click the button. That&#39;s what the `PendingIntent` does. It&#39;s kind of like a request for someone else to execute the `sendBroadcast()` call for you when the time comes. Does that make sense?","body":"You don&#39;t need to. Basically, the system will handle it when you click the button. That&#39;s what the <code>PendingIntent</code> does. It&#39;s kind of like a request for someone else to execute the <code>sendBroadcast()</code> call for you when the time comes. Does that make sense?"},{"owner":{"account_id":17561910,"reputation":65,"user_id":12739733,"display_name":"mr-woodapple"},"score":0,"creation_date":1641671687,"post_id":70635708,"comment_id":124867708,"body_markdown":"Not really. I mean yes, that was how I thought it would work before I implemented it. But if I remove the `sendBroadcast()`, the notification won&#39;t remove. That&#39;s because the notificationId that gets handed over to the `BroadcastReceiver` is &quot;null&quot;. Which absolutely doesn&#39;t make any sense to me...","body":"Not really. I mean yes, that was how I thought it would work before I implemented it. But if I remove the <code>sendBroadcast()</code>, the notification won&#39;t remove. That&#39;s because the notificationId that gets handed over to the <code>BroadcastReceiver</code> is &quot;null&quot;. Which absolutely doesn&#39;t make any sense to me..."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1641672982,"post_id":70635708,"comment_id":124867991,"body_markdown":"Hang on a second. I think I misunderstood your description of the behavior. If the immediate `sendBroadcast()` is working to remove the notification, then the issue is likely that the `PendingIntent` is not updating as you expect. If you plan to allow multiple notifications at once, you can ensure a distinct one for each ID by passing `notificationId` instead of `0` in the `getBroadcast()` call, and amending the flags to `PendingIntent.FLAG_IMMUTABLE | PendingIntent.FLAG_UPDATE_CURRENT`.","body":"Hang on a second. I think I misunderstood your description of the behavior. If the immediate <code>sendBroadcast()</code> is working to remove the notification, then the issue is likely that the <code>PendingIntent</code> is not updating as you expect. If you plan to allow multiple notifications at once, you can ensure a distinct one for each ID by passing <code>notificationId</code> instead of <code>0</code> in the <code>getBroadcast()</code> call, and amending the flags to <code>PendingIntent.FLAG_IMMUTABLE | PendingIntent.FLAG_UPDATE_CURRENT</code>."},{"owner":{"account_id":17561910,"reputation":65,"user_id":12739733,"display_name":"mr-woodapple"},"score":0,"creation_date":1641673267,"post_id":70635708,"comment_id":124868054,"body_markdown":"Ahhh, I didn&#39;t understood that the 0 was the id of the notification. Changed that, now it&#39;s working like a charm! Many thanks Mike, much appreciated!","body":"Ahhh, I didn&#39;t understood that the 0 was the id of the notification. Changed that, now it&#39;s working like a charm! Many thanks Mike, much appreciated!"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1641673293,"post_id":70635708,"comment_id":124868060,"body_markdown":"Yeah, that really sounds like `PendingIntent`s just not working intuitively. The system only creates those when absolutely necessary, and doesn&#39;t allow copies. However, the system doesn&#39;t consider extras on the `Intent` when determining equal `PendingIntent`s, so you have to force it to update.","body":"Yeah, that really sounds like <code>PendingIntent</code>s just not working intuitively. The system only creates those when absolutely necessary, and doesn&#39;t allow copies. However, the system doesn&#39;t consider extras on the <code>Intent</code> when determining equal <code>PendingIntent</code>s, so you have to force it to update."},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1641673319,"post_id":70635708,"comment_id":124868070,"body_markdown":"Got it? Cool. No problem. Glad to help. Cheers!","body":"Got it? Cool. No problem. Glad to help. Cheers!"}],"owner":{"account_id":17561910,"reputation":65,"user_id":12739733,"display_name":"mr-woodapple"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641670169,"creation_date":1641670169,"question_id":70635708,"body_markdown":"I&#39;m new to developing in Android. I&#39;m currently working on an app that allows you to put a reminder in the notifications (basically just triggers a notification with user inputed content). \r\n\r\nHowever, I want to add a &quot;Delete&quot; button to the notification, I need that for a feature that I want to implement later. I went ahead and implemented a working system with a PendingIntent and a &quot;normal&quot; intent which forwards data to the BroadcastReceiver I set up. \r\n\r\n\r\n**The problem I&#39;m facing:** If I create a notification using the triggerNotification(View view) method is, that it instantly calls the NotificationReceiver and therefore deletes the notification I just created. But why on earth does it that?\r\n\r\nFrom my understanding, the PendingIntent should only be finished when a user taps on the &quot;Delete&quot; message in the notification - or am I wrong?\r\nI attached the files I&#39;m working in right now, hopefully they&#39;ll help. :)\r\n\r\n\r\n\r\n*MainActivity.java*\r\n\r\n    public void triggerNotification(View view) {\r\n    \r\n            // Create a notificationId for everything that&#39;s coming\r\n            generateNotificationId();\r\n    \r\n    \r\n            // Get user input from the text inputs, clear after user has input his text\r\n            EditText editNotificationTitle = findViewById(R.id.inputNotificationTitle);\r\n            EditText editNotificationText = findViewById(R.id.inputNotificationText);\r\n    \r\n            String notificationTitle = editNotificationTitle.getText().toString();\r\n            String notificationText = editNotificationText.getText().toString();\r\n    \r\n            editNotificationTitle.getText().clear();\r\n            editNotificationText.getText().clear();\r\n    \r\n    \r\n            // Creates an intent to communicate with the BroadcastReceiver (NotificationReceiver) and\r\n            // adds the notificationId to it\r\n            Intent deleteIntent = new Intent(this, NotificationReceiver.class);\r\n            deleteIntent.setAction(&quot;ACTION_DELETE_NOTIFICATION&quot;);\r\n            deleteIntent.putExtra(&quot;ID&quot;, notificationId);\r\n            sendBroadcast(deleteIntent);\r\n            PendingIntent deletePendingIntent = PendingIntent.getBroadcast(this, 0, deleteIntent, PendingIntent.FLAG_IMMUTABLE);\r\n    \r\n    \r\n            // This is where the notification gets created\r\n            NotificationCompat.Builder builder = new NotificationCompat.Builder(MainActivity.this, &quot;defaultNotificationChannel&quot;)\r\n                    .setSmallIcon(R.mipmap.ic_launcher_notify_round)\r\n                    .setContentTitle(notificationTitle)\r\n                    .setContentText(notificationText)\r\n                    .setStyle(new NotificationCompat.BigTextStyle()\r\n                            .bigText(notificationText))\r\n                    .setPriority(NotificationCompat.PRIORITY_DEFAULT)\r\n                    .addAction(R.drawable.ic_info_24, getString(R.string.delete), deletePendingIntent);\r\n    \r\n    \r\n            // Sends the notification\r\n            NotificationManagerCompat managerCompat = NotificationManagerCompat.from(MainActivity.this);\r\n            managerCompat.notify(notificationId, builder.build());\r\n    \r\n    \r\n            // Add snackbar to give the user feedback that the notification was created\r\n            Snackbar.make(view, R.string.snackbar_notificationCreated, Snackbar.LENGTH_LONG)\r\n                    .show();\r\n    \r\n        }\r\n\r\n*NotificationReveiver.java*\r\n\r\n    package com.example.notificationreminder;\r\n    \r\n    import android.app.NotificationManager;\r\n    import android.content.BroadcastReceiver;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    \r\n    \r\n    public class NotificationReceiver extends BroadcastReceiver {\r\n    \r\n        /**\r\n         * Allows the user to delete the notification from an addAction in the notification.\r\n         *\r\n         * Grabs the generated notificationId, creates a NotificationManager and then cancels\r\n         * the notification with the given id.\r\n         *\r\n         * @param context\r\n         * @param intent\r\n         */\r\n        @Override\r\n        public void onReceive(Context context, Intent intent) {\r\n    \r\n            int id = intent.getIntExtra(&quot;ID&quot;, 0);\r\n    \r\n            NotificationManager notificationManager = (NotificationManager) context.getSystemService(NotificationManager.class);\r\n            notificationManager.cancel(id);\r\n    \r\n        }\r\n    \r\n    \r\n    }\r\n\r\n*AndroidManifest.xml*\r\n\r\n    &lt;receiver android:name=&quot;.NotificationReceiver&quot; android:exported=&quot;false&quot;&gt;\r\n          &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;ACTION_DELETE_NOTIFICATION&quot;&gt;\r\n    \r\n                 &lt;/action&gt;\r\n            &lt;/intent-filter&gt;\r\n    &lt;/receiver&gt;","title":"Android Notification PendingIntent action is executed instantly (but it shouldn&#39;t)","body":"<p>I'm new to developing in Android. I'm currently working on an app that allows you to put a reminder in the notifications (basically just triggers a notification with user inputed content).</p>\n<p>However, I want to add a &quot;Delete&quot; button to the notification, I need that for a feature that I want to implement later. I went ahead and implemented a working system with a PendingIntent and a &quot;normal&quot; intent which forwards data to the BroadcastReceiver I set up.</p>\n<p><strong>The problem I'm facing:</strong> If I create a notification using the triggerNotification(View view) method is, that it instantly calls the NotificationReceiver and therefore deletes the notification I just created. But why on earth does it that?</p>\n<p>From my understanding, the PendingIntent should only be finished when a user taps on the &quot;Delete&quot; message in the notification - or am I wrong?\nI attached the files I'm working in right now, hopefully they'll help. :)</p>\n<p><em>MainActivity.java</em></p>\n<pre><code>public void triggerNotification(View view) {\n\n        // Create a notificationId for everything that's coming\n        generateNotificationId();\n\n\n        // Get user input from the text inputs, clear after user has input his text\n        EditText editNotificationTitle = findViewById(R.id.inputNotificationTitle);\n        EditText editNotificationText = findViewById(R.id.inputNotificationText);\n\n        String notificationTitle = editNotificationTitle.getText().toString();\n        String notificationText = editNotificationText.getText().toString();\n\n        editNotificationTitle.getText().clear();\n        editNotificationText.getText().clear();\n\n\n        // Creates an intent to communicate with the BroadcastReceiver (NotificationReceiver) and\n        // adds the notificationId to it\n        Intent deleteIntent = new Intent(this, NotificationReceiver.class);\n        deleteIntent.setAction(&quot;ACTION_DELETE_NOTIFICATION&quot;);\n        deleteIntent.putExtra(&quot;ID&quot;, notificationId);\n        sendBroadcast(deleteIntent);\n        PendingIntent deletePendingIntent = PendingIntent.getBroadcast(this, 0, deleteIntent, PendingIntent.FLAG_IMMUTABLE);\n\n\n        // This is where the notification gets created\n        NotificationCompat.Builder builder = new NotificationCompat.Builder(MainActivity.this, &quot;defaultNotificationChannel&quot;)\n                .setSmallIcon(R.mipmap.ic_launcher_notify_round)\n                .setContentTitle(notificationTitle)\n                .setContentText(notificationText)\n                .setStyle(new NotificationCompat.BigTextStyle()\n                        .bigText(notificationText))\n                .setPriority(NotificationCompat.PRIORITY_DEFAULT)\n                .addAction(R.drawable.ic_info_24, getString(R.string.delete), deletePendingIntent);\n\n\n        // Sends the notification\n        NotificationManagerCompat managerCompat = NotificationManagerCompat.from(MainActivity.this);\n        managerCompat.notify(notificationId, builder.build());\n\n\n        // Add snackbar to give the user feedback that the notification was created\n        Snackbar.make(view, R.string.snackbar_notificationCreated, Snackbar.LENGTH_LONG)\n                .show();\n\n    }\n</code></pre>\n<p><em>NotificationReveiver.java</em></p>\n<pre><code>package com.example.notificationreminder;\n\nimport android.app.NotificationManager;\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\n\n\npublic class NotificationReceiver extends BroadcastReceiver {\n\n    /**\n     * Allows the user to delete the notification from an addAction in the notification.\n     *\n     * Grabs the generated notificationId, creates a NotificationManager and then cancels\n     * the notification with the given id.\n     *\n     * @param context\n     * @param intent\n     */\n    @Override\n    public void onReceive(Context context, Intent intent) {\n\n        int id = intent.getIntExtra(&quot;ID&quot;, 0);\n\n        NotificationManager notificationManager = (NotificationManager) context.getSystemService(NotificationManager.class);\n        notificationManager.cancel(id);\n\n    }\n\n\n}\n</code></pre>\n<p><em>AndroidManifest.xml</em></p>\n<pre><code>&lt;receiver android:name=&quot;.NotificationReceiver&quot; android:exported=&quot;false&quot;&gt;\n      &lt;intent-filter&gt;\n            &lt;action android:name=&quot;ACTION_DELETE_NOTIFICATION&quot;&gt;\n\n             &lt;/action&gt;\n        &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre>\n"},{"tags":["java","json","jackson","jackson-databind"],"answers":[{"tags":[],"owner":{"account_id":7668980,"reputation":2584,"user_id":5811874,"display_name":"Hanchen Jiang"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1641668532,"creation_date":1641666920,"answer_id":70635283,"question_id":70635222,"body_markdown":"You can change the variable name to `players` to match the JSON, since that is what the error is complaining\r\n```java\r\npublic class PlayersWrapper {\r\n    List&lt;PlayerBan&gt; players = new ArrayList&lt;PlayerBan&gt;();\r\n}\r\n```","title":"How do I use Jackson Databind to deserialize the following JSON?","body":"<p>You can change the variable name to <code>players</code> to match the JSON, since that is what the error is complaining</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PlayersWrapper {\n    List&lt;PlayerBan&gt; players = new ArrayList&lt;PlayerBan&gt;();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641668980,"creation_date":1641668121,"answer_id":70635444,"question_id":70635222,"body_markdown":"There are a few problems with your code, your exception does not tell everything, since Jackson stops at the first problem.\r\n\r\nThe first obviously is that the json file has a array named `players`, but in your class you are naming your list `playerBans`. This can be solved in multiple ways: you either rename your `List&lt;PlayerBan&gt; playerBans` variable to `players`, or you annotate the variable with `@JsonProperty`:\r\n\r\n```\r\n@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)\r\npublic class PlayersWrapper {\r\n    @JsonProperty(&quot;players&quot;)\r\n    private List&lt;PlayerBan&gt; playerBans;\r\n}\r\n```\r\n\r\nYou may have noticed the `@JsonAutoDetect` annotation. This will be a problem, mainly in your `PlayerBan` class, since all of the member variables are private. You can tell Jackson to recognize private members by annotating your class with `@JsonAutoDetect`.\r\n\r\nMoreover, the `PlayerBan` class will has similar problems, as the `PlayersWrapper` class, meaning that some members have different naming compared to what appears in the json file. You can use `@JsonProperty` there as well, or you can rename the member variables.\r\n\r\nExplanation for the `@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)`:\r\n\r\nThe reason we need this that Jackson does not autodetect private members of a class by default. The minimum visibility of auto-detection  depends on the context (usually Jackson automatically detects public members), but we can adjust to be wider, meaning that protected and private fields will be detected as well. For other visibility options, see the [`JsonAutoDetect.Visibility` docs](https://fasterxml.github.io/jackson-annotations/javadoc/2.5/com/fasterxml/jackson/annotation/JsonAutoDetect.Visibility.html#DEFAULT).","title":"How do I use Jackson Databind to deserialize the following JSON?","body":"<p>There are a few problems with your code, your exception does not tell everything, since Jackson stops at the first problem.</p>\n<p>The first obviously is that the json file has a array named <code>players</code>, but in your class you are naming your list <code>playerBans</code>. This can be solved in multiple ways: you either rename your <code>List&lt;PlayerBan&gt; playerBans</code> variable to <code>players</code>, or you annotate the variable with <code>@JsonProperty</code>:</p>\n<pre><code>@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)\npublic class PlayersWrapper {\n    @JsonProperty(&quot;players&quot;)\n    private List&lt;PlayerBan&gt; playerBans;\n}\n</code></pre>\n<p>You may have noticed the <code>@JsonAutoDetect</code> annotation. This will be a problem, mainly in your <code>PlayerBan</code> class, since all of the member variables are private. You can tell Jackson to recognize private members by annotating your class with <code>@JsonAutoDetect</code>.</p>\n<p>Moreover, the <code>PlayerBan</code> class will has similar problems, as the <code>PlayersWrapper</code> class, meaning that some members have different naming compared to what appears in the json file. You can use <code>@JsonProperty</code> there as well, or you can rename the member variables.</p>\n<p>Explanation for the <code>@JsonAutoDetect(fieldVisibility = JsonAutoDetect.Visibility.ANY)</code>:</p>\n<p>The reason we need this that Jackson does not autodetect private members of a class by default. The minimum visibility of auto-detection  depends on the context (usually Jackson automatically detects public members), but we can adjust to be wider, meaning that protected and private fields will be detected as well. For other visibility options, see the <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.5/com/fasterxml/jackson/annotation/JsonAutoDetect.Visibility.html#DEFAULT\" rel=\"nofollow noreferrer\"><code>JsonAutoDetect.Visibility</code> docs</a>.</p>\n"}],"owner":{"account_id":8354350,"reputation":283,"user_id":13041346,"display_name":"NoName123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":854,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70635444,"answer_count":2,"score":0,"last_activity_date":1641668980,"creation_date":1641666424,"question_id":70635222,"body_markdown":"The **JSON** looks like this and can have **none**, **one** or **more** elements in the array.\r\n```\r\n{\r\n   &quot;players&quot;:[\r\n      {\r\n         &quot;SteamId&quot;:&quot;hidden&quot;,\r\n         &quot;CommunityBanned&quot;:false,\r\n         &quot;VACBanned&quot;:false,\r\n         &quot;NumberOfVACBans&quot;:0,\r\n         &quot;DaysSinceLastBan&quot;:0,\r\n         &quot;NumberOfGameBans&quot;:0,\r\n         &quot;EconomyBan&quot;:&quot;none&quot;\r\n      },\r\n      {\r\n         &quot;SteamId&quot;:&quot;hidden&quot;,\r\n         &quot;CommunityBanned&quot;:false,\r\n         &quot;VACBanned&quot;:false,\r\n         &quot;NumberOfVACBans&quot;:0,\r\n         &quot;DaysSinceLastBan&quot;:0,\r\n         &quot;NumberOfGameBans&quot;:0,\r\n         &quot;EconomyBan&quot;:&quot;none&quot;\r\n      }\r\n   ]\r\n}\r\n```\r\nThis is what I have tried so far without any success, I just end up catching exception(s).\r\n```java\r\n// I fetch the JSON from a specific API through an HTTP request.\r\nHttpClient client = HttpClient.newHttpClient();\r\nHttpRequest request = HttpRequest.newBuilder()\r\n          .GET()\r\n          .header(&quot;accept&quot;, &quot;application/json&quot;)\r\n          .uri(URI.create(URL))\r\n          .build();\r\nHttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\r\n\r\n// ... and try to deserialize it\r\nObjectMapper mapper = new ObjectMapper();\r\nPlayersWrapper players = mapper.readValue(response.body(), PlayersWrapper.class); // &lt;-- fails here.\r\nplayers.getPlayerBans().forEach(System.out::println);\r\n```\r\n**PlayersWrapper.java**\r\nAfter some Googling I saw some solution that used wrapper classes in some fancy way, the JSON it was used for was somewhat more complex than mine though with two-three levels of nesting. Mine is more simple.\r\n```java\r\n...\r\n\r\npublic class PlayersWrapper {\r\n    List&lt;PlayerBan&gt; players = new ArrayList&lt;PlayerBan&gt;();\r\n}\r\n\r\n```\r\n**PlayerBan.java**\r\n```java\r\n...\r\n\r\npublic class PlayerBan {\r\n    private String SteamId;\r\n    private boolean CommunityBanned;\r\n    private boolean VACBanned;\r\n    private int NumberOfVACBans;\r\n    private int DaysSinceLastBan;\r\n    private int NumberOfGameBans;\r\n    private String EconomyBan;\r\n}\r\n\r\n```\r\n\r\n**Stacktrace**\r\n```java\r\ncom.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;players&quot; (class com.domain.steamfinder.model.PlayersWrapper), not marked as ignorable (one known property: &quot;playerBans&quot;])\r\n at [Source: (String)&quot;{&quot;players&quot;:[{&quot;SteamId&quot;:&quot;hidden&quot;,&quot;CommunityBanned&quot;:false,&quot;VACBanned&quot;:false,&quot;NumberOfVACBans&quot;:0,&quot;DaysSinceLastBan&quot;:0,&quot;NumberOfGameBans&quot;:0,&quot;EconomyBan&quot;:&quot;none&quot;}]}&quot;; line: 1, column: 13] (through reference chain: com.domain.steamfinder.model.PlayersWrapper[&quot;players&quot;])\r\n        at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)\r\n        at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1127)\r\n        at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:1989)\r\n        at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1700)\r\n        at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1678)\r\n        at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:319)\r\n        at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:176)\r\n        at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:322)\r\n        at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674)\r\n        at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3629)\r\n        at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3597)\r\n        at com.domain.steamfinder.finder.FinderService.findUser(FinderService.java:48)\r\n        at com.domain.steamfinder.finder.FinderController.find(FinderController.java:27)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\r\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\r\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\r\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\r\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\r\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\r\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\r\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\r\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\r\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\r\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\r\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\r\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\r\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\r\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\n\r\n```\r\n\r\n**EDIT:** Original problem fixed thanks to answers pointing out the incorrect naming in the wrapper class. A new problem has emerged, see updated code above and see new stacktrace below.\r\n\r\n**Stacktrace**\r\n```\r\n`Unrecognized field &quot;SteamId&quot; (class com.domain.steamfinder.model.PlayerBan), not marked as ignorable \r\n(7 known properties: &quot;economyBan&quot;, &quot;numberOfGameBans&quot;, &quot;communityBanned&quot;, &quot;steamId&quot;, &quot;numberOfVACBans&quot;, &quot;daysSinceLastBan&quot;, &quot;vacbanned&quot;]) \r\n\r\n... \r\n\r\n(through reference chain: com.domain.steamfinder.model.PlayersWrapper[&quot;players&quot;]-&gt;java.util.ArrayList[0]-&gt;com.domain.steamfinder.model.PlayerBan[&quot;SteamId&quot;])`\r\n```","title":"How do I use Jackson Databind to deserialize the following JSON?","body":"<p>The <strong>JSON</strong> looks like this and can have <strong>none</strong>, <strong>one</strong> or <strong>more</strong> elements in the array.</p>\n<pre><code>{\n   &quot;players&quot;:[\n      {\n         &quot;SteamId&quot;:&quot;hidden&quot;,\n         &quot;CommunityBanned&quot;:false,\n         &quot;VACBanned&quot;:false,\n         &quot;NumberOfVACBans&quot;:0,\n         &quot;DaysSinceLastBan&quot;:0,\n         &quot;NumberOfGameBans&quot;:0,\n         &quot;EconomyBan&quot;:&quot;none&quot;\n      },\n      {\n         &quot;SteamId&quot;:&quot;hidden&quot;,\n         &quot;CommunityBanned&quot;:false,\n         &quot;VACBanned&quot;:false,\n         &quot;NumberOfVACBans&quot;:0,\n         &quot;DaysSinceLastBan&quot;:0,\n         &quot;NumberOfGameBans&quot;:0,\n         &quot;EconomyBan&quot;:&quot;none&quot;\n      }\n   ]\n}\n</code></pre>\n<p>This is what I have tried so far without any success, I just end up catching exception(s).</p>\n<pre class=\"lang-java prettyprint-override\"><code>// I fetch the JSON from a specific API through an HTTP request.\nHttpClient client = HttpClient.newHttpClient();\nHttpRequest request = HttpRequest.newBuilder()\n          .GET()\n          .header(&quot;accept&quot;, &quot;application/json&quot;)\n          .uri(URI.create(URL))\n          .build();\nHttpResponse&lt;String&gt; response = client.send(request, HttpResponse.BodyHandlers.ofString());\n\n// ... and try to deserialize it\nObjectMapper mapper = new ObjectMapper();\nPlayersWrapper players = mapper.readValue(response.body(), PlayersWrapper.class); // &lt;-- fails here.\nplayers.getPlayerBans().forEach(System.out::println);\n</code></pre>\n<p><strong>PlayersWrapper.java</strong>\nAfter some Googling I saw some solution that used wrapper classes in some fancy way, the JSON it was used for was somewhat more complex than mine though with two-three levels of nesting. Mine is more simple.</p>\n<pre class=\"lang-java prettyprint-override\"><code>...\n\npublic class PlayersWrapper {\n    List&lt;PlayerBan&gt; players = new ArrayList&lt;PlayerBan&gt;();\n}\n\n</code></pre>\n<p><strong>PlayerBan.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>...\n\npublic class PlayerBan {\n    private String SteamId;\n    private boolean CommunityBanned;\n    private boolean VACBanned;\n    private int NumberOfVACBans;\n    private int DaysSinceLastBan;\n    private int NumberOfGameBans;\n    private String EconomyBan;\n}\n\n</code></pre>\n<p><strong>Stacktrace</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException: Unrecognized field &quot;players&quot; (class com.domain.steamfinder.model.PlayersWrapper), not marked as ignorable (one known property: &quot;playerBans&quot;])\n at [Source: (String)&quot;{&quot;players&quot;:[{&quot;SteamId&quot;:&quot;hidden&quot;,&quot;CommunityBanned&quot;:false,&quot;VACBanned&quot;:false,&quot;NumberOfVACBans&quot;:0,&quot;DaysSinceLastBan&quot;:0,&quot;NumberOfGameBans&quot;:0,&quot;EconomyBan&quot;:&quot;none&quot;}]}&quot;; line: 1, column: 13] (through reference chain: com.domain.steamfinder.model.PlayersWrapper[&quot;players&quot;])\n        at com.fasterxml.jackson.databind.exc.UnrecognizedPropertyException.from(UnrecognizedPropertyException.java:61)\n        at com.fasterxml.jackson.databind.DeserializationContext.handleUnknownProperty(DeserializationContext.java:1127)\n        at com.fasterxml.jackson.databind.deser.std.StdDeserializer.handleUnknownProperty(StdDeserializer.java:1989)\n        at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownProperty(BeanDeserializerBase.java:1700)\n        at com.fasterxml.jackson.databind.deser.BeanDeserializerBase.handleUnknownVanilla(BeanDeserializerBase.java:1678)\n        at com.fasterxml.jackson.databind.deser.BeanDeserializer.vanillaDeserialize(BeanDeserializer.java:319)\n        at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:176)\n        at com.fasterxml.jackson.databind.deser.DefaultDeserializationContext.readRootValue(DefaultDeserializationContext.java:322)\n        at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4674)\n        at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3629)\n        at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3597)\n        at com.domain.steamfinder.finder.FinderService.findUser(FinderService.java:48)\n        at com.domain.steamfinder.finder.FinderController.find(FinderController.java:27)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:205)\n        at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:150)\n        at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:117)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:895)\n        at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)\n        at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)\n        at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1067)\n        at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:963)\n        at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n        at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\n        at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)\n        at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:197)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:540)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:135)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n        at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n\n</code></pre>\n<p><strong>EDIT:</strong> Original problem fixed thanks to answers pointing out the incorrect naming in the wrapper class. A new problem has emerged, see updated code above and see new stacktrace below.</p>\n<p><strong>Stacktrace</strong></p>\n<pre><code>`Unrecognized field &quot;SteamId&quot; (class com.domain.steamfinder.model.PlayerBan), not marked as ignorable \n(7 known properties: &quot;economyBan&quot;, &quot;numberOfGameBans&quot;, &quot;communityBanned&quot;, &quot;steamId&quot;, &quot;numberOfVACBans&quot;, &quot;daysSinceLastBan&quot;, &quot;vacbanned&quot;]) \n\n... \n\n(through reference chain: com.domain.steamfinder.model.PlayersWrapper[&quot;players&quot;]-&gt;java.util.ArrayList[0]-&gt;com.domain.steamfinder.model.PlayerBan[&quot;SteamId&quot;])`\n</code></pre>\n"},{"tags":["java","selenium","windows-terminal"],"answers":[{"tags":[],"owner":{"account_id":9512067,"reputation":49,"user_id":7069700,"display_name":"Blu3Rat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641668830,"creation_date":1641668830,"answer_id":70635547,"question_id":69664027,"body_markdown":"So I found out what was wrong and I am posting the answer in case somebody else had similar problems: \r\n\r\nIt turns out there was nothing wrong with Selenium or Windows Terminal, we had to start using the latest stable release of Selenium Grid (we were still using 3.x.x version because it was  the only one supported for a long time and only recently they released 4.x.x version) + change the scripts, because Selenium developers decided to change the switches in between versions, so the old scripts (posted in the question itself) will not work, and had to be updated like this:\r\n\r\n```\r\n@echo off\r\nstart java -jar selenium-server-standalone-4.1.1.jar hub\r\nstart java -Dwebdriver.chrome.driver=&quot;D:\\drivers\\chromedriver.exe&quot; -jar selenium-server-standalone-4.1.1.jar node --hub http://localhost:4444/grid/register --port 4546\r\nstart java -Dwebdriver.ie.driver=&quot;D:\\drivers\\IEDriverServer.exe&quot; -jar selenium-server-standalone-4.1.1.jar node --hub http://localhost:4444/grid/register --port 4547\r\n```\r\n\r\nand similarly for Windows Terminal:\r\n\r\n```\r\nwt -d d:\\Programs\\SeleniumStandaloneServer\\ java -jar selenium-server-standalone-4.1.1.jar hub; sp -d d:\\Programs\\SeleniumStandaloneServer\\ java -Dwebdriver.chrome.driver=&quot;D:\\drivers\\chromedriver.exe&quot; -jar selenium-server-standalone-4.1.1.jar node --hub http://localhost:4444/grid/register --port 4546; sp -H -d d:\\Programs\\SeleniumStandaloneServer\\ java -Dwebdriver.ie.driver=&quot;D:\\Praca\\Automation\\drivers\\IEDriverServer.exe&quot; -jar selenium-server-standalone-4.1.1.jar node --hub http://localhost:4444/grid/register --port 4547\r\n```\r\n\r\nNow the Grid is working correctly with both of those scripts.\r\n","title":"Selenium Grid (Java) does not work correctly with new Windows Terminal","body":"<p>So I found out what was wrong and I am posting the answer in case somebody else had similar problems:</p>\n<p>It turns out there was nothing wrong with Selenium or Windows Terminal, we had to start using the latest stable release of Selenium Grid (we were still using 3.x.x version because it was  the only one supported for a long time and only recently they released 4.x.x version) + change the scripts, because Selenium developers decided to change the switches in between versions, so the old scripts (posted in the question itself) will not work, and had to be updated like this:</p>\n<pre><code>@echo off\nstart java -jar selenium-server-standalone-4.1.1.jar hub\nstart java -Dwebdriver.chrome.driver=&quot;D:\\drivers\\chromedriver.exe&quot; -jar selenium-server-standalone-4.1.1.jar node --hub http://localhost:4444/grid/register --port 4546\nstart java -Dwebdriver.ie.driver=&quot;D:\\drivers\\IEDriverServer.exe&quot; -jar selenium-server-standalone-4.1.1.jar node --hub http://localhost:4444/grid/register --port 4547\n</code></pre>\n<p>and similarly for Windows Terminal:</p>\n<pre><code>wt -d d:\\Programs\\SeleniumStandaloneServer\\ java -jar selenium-server-standalone-4.1.1.jar hub; sp -d d:\\Programs\\SeleniumStandaloneServer\\ java -Dwebdriver.chrome.driver=&quot;D:\\drivers\\chromedriver.exe&quot; -jar selenium-server-standalone-4.1.1.jar node --hub http://localhost:4444/grid/register --port 4546; sp -H -d d:\\Programs\\SeleniumStandaloneServer\\ java -Dwebdriver.ie.driver=&quot;D:\\Praca\\Automation\\drivers\\IEDriverServer.exe&quot; -jar selenium-server-standalone-4.1.1.jar node --hub http://localhost:4444/grid/register --port 4547\n</code></pre>\n<p>Now the Grid is working correctly with both of those scripts.</p>\n"}],"owner":{"account_id":9512067,"reputation":49,"user_id":7069700,"display_name":"Blu3Rat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70635547,"answer_count":1,"score":0,"last_activity_date":1641668830,"creation_date":1634827362,"question_id":69664027,"body_markdown":"We are using in our project Selenium (Java) for testing and we have Selenium Grid (basically a hub with various browsers) successfully running.\r\n\r\nThe script for running Selenium Grid for Windows CLI is this one, stored in a .bat file:\r\n``` @echo off\r\nstart java -jar selenium-server-standalone-3.141.59.jar -role hub\r\nstart java -Dwebdriver.chrome.driver=&quot;D:\\drivers\\chromedriver.exe&quot; -jar selenium-server-standalone-3.141.59.jar -role webdriver -hub http://localhost:4444/grid/register -port 4546\r\nstart java -Dwebdriver.ie.driver=&quot;D:\\drivers\\IEDriverServer.exe&quot; -jar selenium-server-standalone-3.141.59.jar -role webdriver -hub http://localhost:4444/grid/register -port 4547\r\n```\r\n\r\nThis script is working all the time, but it ones 3 separate windows in windows, making a bit clunky.\r\n\r\nRecently, Windows has released a Windows Terminal (WT) - and one of its new features is option to run several tabs in only one window. Therefore, I have rewritten the former script to one utilizing Windows Terminal so my taskbar wouldn&#180;t be cluttered, and it looks like this:\r\n\r\n\r\n``` wt -d d:\\Programs\\SeleniumStandaloneServer\\ java -jar selenium-server-standalone-3.141.59.jar -role hub; sp -d d:\\Programs\\SeleniumStandaloneServer\\ java -Dwebdriver.chrome.driver=&#39;D:\\drivers\\chromedriver.exe&#39; -jar selenium-server-standalone-3.141.59.jar -role webdriver -hub http://localhost:4444/grid/register -port 4546; sp -H -d d:\\Programs\\HIE\\SeleniumStandaloneServer\\ java -Dwebdriver.ie.driver=&#39;D:\\drivers\\IEDriverServer.exe&#39; -jar selenium-server-standalone-3.141.59.jar -role webdriver -hub http://localhost:4444/grid/register -port 4547 ```\r\n\r\nProblem is, that whenever I run this WT script instead of the former one, it works only every second time.\r\nBefore you gonna ask, yes, I checked with notepad++ for differences in letters or possible unwanted spaces after transcribing, human errors - the script itself is fine.\r\n\r\nThe former script works every time (every time the browser is launched and our test(s) completed correctly), this one works every second (even) time, every first one (odd) it leaves an error message in our IntteliJ console:\r\n\r\nCan somebody help me with this one? I have no idea what might be wrong.\r\n\r\n``` Oct 21, 2021 4:10:31 PM org.openqa.selenium.remote.DesiredCapabilities chrome\r\nINFO: Using `new ChromeOptions()` is preferred to `DesiredCapabilities.chrome()`\r\norg.openqa.selenium.SessionNotCreatedException: Unable to create new service: ChromeDriverService\r\nBuild info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:25:53&#39;\r\nSystem info: host: &#39;DESKTOP-B4ED459&#39;, ip: &#39;192.168.56.1&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;11.0.8&#39;\r\nDriver info: driver.version: unknown\r\nCommand duration or timeout: 185 milliseconds\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\r\n\tat org.openqa.selenium.remote.ErrorHandler.createThrowable(ErrorHandler.java:214)\r\n\tat org.openqa.selenium.remote.ErrorHandler.throwIfResponseFailed(ErrorHandler.java:166)\r\n\tat org.openqa.selenium.remote.JsonWireProtocolResponse.lambda$errorHandler$0(JsonWireProtocolResponse.java:54)\r\n\tat org.openqa.selenium.remote.HandshakeResponse.lambda$getResponseFunction$0(HandshakeResponse.java:30)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.lambda$createSession$0(ProtocolHandshake.java:126)\r\n\tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n\tat java.base/java.util.Spliterators$ArraySpliterator.tryAdvance(Spliterators.java:958)\r\n\tat java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:127)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:502)\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:488)\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.base/java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:150)\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.base/java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:543)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:128)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:74)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:136)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:213)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:131)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:144)\r\n\tat com.browsersoft.selenium.core.SeleniumRunner.run(SeleniumRunner.java:44)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\r\n\tat groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1260)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1027)\r\n\tat groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:814)\r\n\tat groovy.lang.GroovyObject.invokeMethod(GroovyObject.java:39)\r\n\tat com.browsersoft.selenium.SeleniumManager.executeTest(SeleniumManager.java:42)\r\n\tat com.browsersoft.config.core.scenario.Scenario.executeSeleniumStep(Scenario.java:223)\r\n\tat com.browsersoft.config.core.scenario.Scenario.executeStep(Scenario.java:189)\r\n\tat com.browsersoft.config.gui.document.scenario.ScenarioStepPanel$4.run(ScenarioStepPanel.java:224)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\nCaused by: org.openqa.selenium.SessionNotCreatedException: Unable to create new service: ChromeDriverService\r\nBuild info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:25:53&#39;\r\nSystem info: host: &#39;DESKTOP-B4ED459&#39;, ip: &#39;192.168.56.1&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;11.0.8&#39;\r\nDriver info: driver.version: unknown\r\nBuild info: version: &#39;unknown&#39;, revision: &#39;unknown&#39;, time: &#39;unknown&#39;\r\nSystem info: host: &#39;DESKTOP-B4ED459&#39;, ip: &#39;192.168.56.1&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;11.0.8&#39;\r\nDriver info: driver.version: unknown\r\n\tat org.openqa.selenium.grid.session.remote.ServicedSession$Factory.lambda$get$0(ServicedSession.java:135)\r\n\tat org.openqa.selenium.grid.session.remote.ServicedSession$Factory.apply(ServicedSession.java:152)\r\n\tat org.openqa.selenium.remote.server.ActiveSessionFactory.lambda$apply$12(ActiveSessionFactory.java:180)\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n\tat java.util.stream.ReferencePipeline$11$1.accept(ReferencePipeline.java:442)\r\n\tat java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n\tat java.util.Spliterators$ArraySpliterator.tryAdvance(Spliterators.java:958)\r\n\tat java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:127)\r\n\tat java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:502)\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:488)\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:150)\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:543)\r\n\tat org.openqa.selenium.remote.server.ActiveSessionFactory.apply(ActiveSessionFactory.java:183)\r\n\tat org.openqa.selenium.remote.server.NewSessionPipeline.lambda$null$2(NewSessionPipeline.java:66)\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n\tat java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n\tat java.util.Collections$2.tryAdvance(Collections.java:4747)\r\n\tat java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:127)\r\n\tat java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:502)\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:488)\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:150)\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:543)\r\n\tat org.openqa.selenium.remote.server.NewSessionPipeline.lambda$createNewSession$3(NewSessionPipeline.java:69)\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n\tat java.util.stream.DistinctOps$1$2.accept(DistinctOps.java:175)\r\n\tat java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\r\n\tat java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\r\n\tat java.util.stream.Streams$StreamBuilderImpl.tryAdvance(Streams.java:397)\r\n\tat java.util.stream.Streams$ConcatSpliterator.tryAdvance(Streams.java:720)\r\n\tat java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:127)\r\n\tat java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:502)\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:488)\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n\tat java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:150)\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:543)\r\n\tat org.openqa.selenium.remote.server.NewSessionPipeline.createNewSession(NewSessionPipeline.java:72)\r\n\tat org.openqa.selenium.remote.server.commandhandler.BeginSession.execute(BeginSession.java:65)\r\n\tat org.openqa.selenium.remote.server.WebDriverServlet.lambda$handle$0(WebDriverServlet.java:235)\r\n\tat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\tat java.lang.Thread.run(Thread.java:834) \r\n```\r\n\r\n\r\nThis is the contents of WT console windows after the unsuccessful run:\r\n\r\n``` 16:09:30.512 INFO [GridLauncherV3.parse] - Selenium server version: 3.141.59, revision: e82be7d358\r\n16:09:30.589 INFO [GridLauncherV3.lambda$buildLaunchers$5] - Launching Selenium Grid hub on port 4444\r\n2021-10-21 16:09:30.985:INFO::main: Logging initialized @744ms to org.seleniumhq.jetty9.util.log.StdErrLog\r\n16:09:31.670 INFO [Hub.start] - Selenium Grid hub is up and running\r\n16:09:31.672 INFO [Hub.start] - Nodes should register to http://172.30.1.4:4444/grid/register/\r\n16:09:31.673 INFO [Hub.start] - Clients should connect to http://172.30.1.4:4444/wd/hub\r\n16:09:32.615 INFO [DefaultGridRegistry.add] - Registered a node http://172.30.1.4:4546\r\n16:09:32.616 INFO [DefaultGridRegistry.add] - Registered a node http://172.30.1.4:4547\r\n16:10:32.120 INFO [RequestHandler.process] - Got a request to create a new session: Capabilities {browserName: chrome, goog:chromeOptions: {args: [], extensions: []}, version: }\r\n16:10:32.124 INFO [TestSlot.getNewSession] - Trying to create a new session on test slot {server:CONFIG_UUID=63e678db-5111-42b8-ba59-bb9780f21e47, seleniumProtocol=WebDriver, browserName=chrome, maxInstances=5, platformName=WIN10, platform=WIN10} \r\n```\r\n\r\n``` 16:09:30.577 INFO [GridLauncherV3.parse] - Selenium server version: 3.141.59, revision: e82be7d358\r\n16:09:30.653 INFO [GridLauncherV3.lambda$buildLaunchers$7] - Launching a Selenium Grid node on port 4546\r\n2021-10-21 16:09:31.510:INFO::main: Logging initialized @1210ms to org.seleniumhq.jetty9.util.log.StdErrLog\r\n16:09:31.721 INFO [WebDriverServlet.&lt;init&gt;] - Initialising WebDriverServlet\r\n16:09:31.800 INFO [SeleniumServer.boot] - Selenium Server is up and running on port 4546\r\n16:09:31.801 INFO [GridLauncherV3.lambda$buildLaunchers$7] - Selenium Grid node is up and ready to register to the hub\r\n16:09:32.082 INFO [SelfRegisteringRemote$1.run] - Starting auto registration thread. Will try to register every 5000 ms.\r\n16:09:32.341 INFO [SelfRegisteringRemote.registerToHub] - Registering the node to the hub: http://localhost:4444/grid/register\r\n16:09:32.616 INFO [SelfRegisteringRemote.registerToHub] - The node is registered to the hub and ready to use\r\n16:10:32.191 INFO [ActiveSessionFactory.apply] - Capabilities are: {\r\n  &quot;browserName&quot;: &quot;chrome&quot;,\r\n  &quot;goog:chromeOptions&quot;: {\r\n    &quot;args&quot;: [\r\n    ],\r\n    &quot;extensions&quot;: [\r\n    ]\r\n  },\r\n  &quot;version&quot;: &quot;&quot;\r\n}\r\n16:10:32.193 INFO [ActiveSessionFactory.lambda$apply$11] - Matched factory org.openqa.selenium.grid.session.remote.ServicedSession$Factory (provider: org.openqa.selenium.chrome.ChromeDriverService)\r\n ```\r\n\r\n``` 16:09:30.635 INFO [GridLauncherV3.parse] - Selenium server version: 3.141.59, revision: e82be7d358\r\n16:09:30.704 INFO [GridLauncherV3.lambda$buildLaunchers$7] - Launching a Selenium Grid node on port 4547\r\n2021-10-21 16:09:31.577:INFO::main: Logging initialized @1216ms to org.seleniumhq.jetty9.util.log.StdErrLog\r\n16:09:31.780 INFO [WebDriverServlet.&lt;init&gt;] - Initialising WebDriverServlet\r\n16:09:31.862 INFO [SeleniumServer.boot] - Selenium Server is up and running on port 4547\r\n16:09:31.862 INFO [GridLauncherV3.lambda$buildLaunchers$7] - Selenium Grid node is up and ready to register to the hub\r\n16:09:32.135 INFO [SelfRegisteringRemote$1.run] - Starting auto registration thread. Will try to register every 5000 ms.\r\n16:09:32.340 INFO [SelfRegisteringRemote.registerToHub] - Registering the node to the hub: http://localhost:4444/grid/register\r\n16:09:32.616 INFO [SelfRegisteringRemote.registerToHub] - The node is registered to the hub and ready to use\r\n ```","title":"Selenium Grid (Java) does not work correctly with new Windows Terminal","body":"<p>We are using in our project Selenium (Java) for testing and we have Selenium Grid (basically a hub with various browsers) successfully running.</p>\n<p>The script for running Selenium Grid for Windows CLI is this one, stored in a .bat file:</p>\n<pre><code>start java -jar selenium-server-standalone-3.141.59.jar -role hub\nstart java -Dwebdriver.chrome.driver=&quot;D:\\drivers\\chromedriver.exe&quot; -jar selenium-server-standalone-3.141.59.jar -role webdriver -hub http://localhost:4444/grid/register -port 4546\nstart java -Dwebdriver.ie.driver=&quot;D:\\drivers\\IEDriverServer.exe&quot; -jar selenium-server-standalone-3.141.59.jar -role webdriver -hub http://localhost:4444/grid/register -port 4547\n</code></pre>\n<p>This script is working all the time, but it ones 3 separate windows in windows, making a bit clunky.</p>\n<p>Recently, Windows has released a Windows Terminal (WT) - and one of its new features is option to run several tabs in only one window. Therefore, I have rewritten the former script to one utilizing Windows Terminal so my taskbar wouldn´t be cluttered, and it looks like this:</p>\n<p><code>wt -d d:\\Programs\\SeleniumStandaloneServer\\ java -jar selenium-server-standalone-3.141.59.jar -role hub; sp -d d:\\Programs\\SeleniumStandaloneServer\\ java -Dwebdriver.chrome.driver='D:\\drivers\\chromedriver.exe' -jar selenium-server-standalone-3.141.59.jar -role webdriver -hub http://localhost:4444/grid/register -port 4546; sp -H -d d:\\Programs\\HIE\\SeleniumStandaloneServer\\ java -Dwebdriver.ie.driver='D:\\drivers\\IEDriverServer.exe' -jar selenium-server-standalone-3.141.59.jar -role webdriver -hub http://localhost:4444/grid/register -port 4547</code></p>\n<p>Problem is, that whenever I run this WT script instead of the former one, it works only every second time.\nBefore you gonna ask, yes, I checked with notepad++ for differences in letters or possible unwanted spaces after transcribing, human errors - the script itself is fine.</p>\n<p>The former script works every time (every time the browser is launched and our test(s) completed correctly), this one works every second (even) time, every first one (odd) it leaves an error message in our IntteliJ console:</p>\n<p>Can somebody help me with this one? I have no idea what might be wrong.</p>\n<pre><code>INFO: Using `new ChromeOptions()` is preferred to `DesiredCapabilities.chrome()`\norg.openqa.selenium.SessionNotCreatedException: Unable to create new service: ChromeDriverService\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:25:53'\nSystem info: host: 'DESKTOP-B4ED459', ip: '192.168.56.1', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '11.0.8'\nDriver info: driver.version: unknown\nCommand duration or timeout: 185 milliseconds\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490)\n    at org.openqa.selenium.remote.ErrorHandler.createThrowable(ErrorHandler.java:214)\n    at org.openqa.selenium.remote.ErrorHandler.throwIfResponseFailed(ErrorHandler.java:166)\n    at org.openqa.selenium.remote.JsonWireProtocolResponse.lambda$errorHandler$0(JsonWireProtocolResponse.java:54)\n    at org.openqa.selenium.remote.HandshakeResponse.lambda$getResponseFunction$0(HandshakeResponse.java:30)\n    at org.openqa.selenium.remote.ProtocolHandshake.lambda$createSession$0(ProtocolHandshake.java:126)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.base/java.util.Spliterators$ArraySpliterator.tryAdvance(Spliterators.java:958)\n    at java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:127)\n    at java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:502)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:488)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:150)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:543)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:128)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:74)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:136)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:213)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:131)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:144)\n    at com.browsersoft.selenium.core.SeleniumRunner.run(SeleniumRunner.java:44)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:107)\n    at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:323)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1260)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1027)\n    at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:814)\n    at groovy.lang.GroovyObject.invokeMethod(GroovyObject.java:39)\n    at com.browsersoft.selenium.SeleniumManager.executeTest(SeleniumManager.java:42)\n    at com.browsersoft.config.core.scenario.Scenario.executeSeleniumStep(Scenario.java:223)\n    at com.browsersoft.config.core.scenario.Scenario.executeStep(Scenario.java:189)\n    at com.browsersoft.config.gui.document.scenario.ScenarioStepPanel$4.run(ScenarioStepPanel.java:224)\n    at java.base/java.lang.Thread.run(Thread.java:834)\nCaused by: org.openqa.selenium.SessionNotCreatedException: Unable to create new service: ChromeDriverService\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:25:53'\nSystem info: host: 'DESKTOP-B4ED459', ip: '192.168.56.1', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '11.0.8'\nDriver info: driver.version: unknown\nBuild info: version: 'unknown', revision: 'unknown', time: 'unknown'\nSystem info: host: 'DESKTOP-B4ED459', ip: '192.168.56.1', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '11.0.8'\nDriver info: driver.version: unknown\n    at org.openqa.selenium.grid.session.remote.ServicedSession$Factory.lambda$get$0(ServicedSession.java:135)\n    at org.openqa.selenium.grid.session.remote.ServicedSession$Factory.apply(ServicedSession.java:152)\n    at org.openqa.selenium.remote.server.ActiveSessionFactory.lambda$apply$12(ActiveSessionFactory.java:180)\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.util.stream.ReferencePipeline$11$1.accept(ReferencePipeline.java:442)\n    at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\n    at java.util.Spliterators$ArraySpliterator.tryAdvance(Spliterators.java:958)\n    at java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:127)\n    at java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:502)\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:488)\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:150)\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:543)\n    at org.openqa.selenium.remote.server.ActiveSessionFactory.apply(ActiveSessionFactory.java:183)\n    at org.openqa.selenium.remote.server.NewSessionPipeline.lambda$null$2(NewSessionPipeline.java:66)\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\n    at java.util.Collections$2.tryAdvance(Collections.java:4747)\n    at java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:127)\n    at java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:502)\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:488)\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:150)\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:543)\n    at org.openqa.selenium.remote.server.NewSessionPipeline.lambda$createNewSession$3(NewSessionPipeline.java:69)\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.util.stream.DistinctOps$1$2.accept(DistinctOps.java:175)\n    at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:195)\n    at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:177)\n    at java.util.stream.Streams$StreamBuilderImpl.tryAdvance(Streams.java:397)\n    at java.util.stream.Streams$ConcatSpliterator.tryAdvance(Streams.java:720)\n    at java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:127)\n    at java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:502)\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:488)\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:150)\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:543)\n    at org.openqa.selenium.remote.server.NewSessionPipeline.createNewSession(NewSessionPipeline.java:72)\n    at org.openqa.selenium.remote.server.commandhandler.BeginSession.execute(BeginSession.java:65)\n    at org.openqa.selenium.remote.server.WebDriverServlet.lambda$handle$0(WebDriverServlet.java:235)\n    at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at java.lang.Thread.run(Thread.java:834) \n</code></pre>\n<p>This is the contents of WT console windows after the unsuccessful run:</p>\n<pre><code>16:09:30.589 INFO [GridLauncherV3.lambda$buildLaunchers$5] - Launching Selenium Grid hub on port 4444\n2021-10-21 16:09:30.985:INFO::main: Logging initialized @744ms to org.seleniumhq.jetty9.util.log.StdErrLog\n16:09:31.670 INFO [Hub.start] - Selenium Grid hub is up and running\n16:09:31.672 INFO [Hub.start] - Nodes should register to http://172.30.1.4:4444/grid/register/\n16:09:31.673 INFO [Hub.start] - Clients should connect to http://172.30.1.4:4444/wd/hub\n16:09:32.615 INFO [DefaultGridRegistry.add] - Registered a node http://172.30.1.4:4546\n16:09:32.616 INFO [DefaultGridRegistry.add] - Registered a node http://172.30.1.4:4547\n16:10:32.120 INFO [RequestHandler.process] - Got a request to create a new session: Capabilities {browserName: chrome, goog:chromeOptions: {args: [], extensions: []}, version: }\n16:10:32.124 INFO [TestSlot.getNewSession] - Trying to create a new session on test slot {server:CONFIG_UUID=63e678db-5111-42b8-ba59-bb9780f21e47, seleniumProtocol=WebDriver, browserName=chrome, maxInstances=5, platformName=WIN10, platform=WIN10} \n</code></pre>\n<pre><code>16:09:30.653 INFO [GridLauncherV3.lambda$buildLaunchers$7] - Launching a Selenium Grid node on port 4546\n2021-10-21 16:09:31.510:INFO::main: Logging initialized @1210ms to org.seleniumhq.jetty9.util.log.StdErrLog\n16:09:31.721 INFO [WebDriverServlet.&lt;init&gt;] - Initialising WebDriverServlet\n16:09:31.800 INFO [SeleniumServer.boot] - Selenium Server is up and running on port 4546\n16:09:31.801 INFO [GridLauncherV3.lambda$buildLaunchers$7] - Selenium Grid node is up and ready to register to the hub\n16:09:32.082 INFO [SelfRegisteringRemote$1.run] - Starting auto registration thread. Will try to register every 5000 ms.\n16:09:32.341 INFO [SelfRegisteringRemote.registerToHub] - Registering the node to the hub: http://localhost:4444/grid/register\n16:09:32.616 INFO [SelfRegisteringRemote.registerToHub] - The node is registered to the hub and ready to use\n16:10:32.191 INFO [ActiveSessionFactory.apply] - Capabilities are: {\n  &quot;browserName&quot;: &quot;chrome&quot;,\n  &quot;goog:chromeOptions&quot;: {\n    &quot;args&quot;: [\n    ],\n    &quot;extensions&quot;: [\n    ]\n  },\n  &quot;version&quot;: &quot;&quot;\n}\n16:10:32.193 INFO [ActiveSessionFactory.lambda$apply$11] - Matched factory org.openqa.selenium.grid.session.remote.ServicedSession$Factory (provider: org.openqa.selenium.chrome.ChromeDriverService)\n</code></pre>\n<pre><code>16:09:30.704 INFO [GridLauncherV3.lambda$buildLaunchers$7] - Launching a Selenium Grid node on port 4547\n2021-10-21 16:09:31.577:INFO::main: Logging initialized @1216ms to org.seleniumhq.jetty9.util.log.StdErrLog\n16:09:31.780 INFO [WebDriverServlet.&lt;init&gt;] - Initialising WebDriverServlet\n16:09:31.862 INFO [SeleniumServer.boot] - Selenium Server is up and running on port 4547\n16:09:31.862 INFO [GridLauncherV3.lambda$buildLaunchers$7] - Selenium Grid node is up and ready to register to the hub\n16:09:32.135 INFO [SelfRegisteringRemote$1.run] - Starting auto registration thread. Will try to register every 5000 ms.\n16:09:32.340 INFO [SelfRegisteringRemote.registerToHub] - Registering the node to the hub: http://localhost:4444/grid/register\n16:09:32.616 INFO [SelfRegisteringRemote.registerToHub] - The node is registered to the hub and ready to use\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":132559,"reputation":984,"user_id":333325,"display_name":"Jadent"},"score":0,"creation_date":1597944780,"post_id":36353856,"comment_id":112305213,"body_markdown":"Do you also need to implement the `onSetVolumeTo` method, as shown in this similar post https://stackoverflow.com/questions/39957817/android-mediarouter-volume-events","body":"Do you also need to implement the <code>onSetVolumeTo</code> method, as shown in this similar post <a href=\"https://stackoverflow.com/questions/39957817/android-mediarouter-volume-events\" title=\"android mediarouter volume events\">stackoverflow.com/questions/39957817/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":9066455,"reputation":726,"user_id":6751083,"display_name":"Mohammad Reza Khahani"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641668698,"creation_date":1641668698,"answer_id":70635528,"question_id":36353856,"body_markdown":"Using the Activity’s setVolumeControlStream method—typically within its onCreate method—\r\nallows you to specify which audio stream should be controlled by the volume keys while the current\r\nActivity is active:\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n       super.onCreate(savedInstanceState);\r\n       setContentView(R.layout.audioplayer);\r\n\r\n       setVolumeControlStream(AudioManager.STREAM_MUSIC);\r\n    }\r\n\r\nYou can specify any of the available audio streams, but when using the Media Player, you should\r\nspecify the STREAM_MUSIC stream to make it the focus of the volume keys.","title":"How to handle changes from MediaSession remote volume overlay?","body":"<p>Using the Activity’s setVolumeControlStream method—typically within its onCreate method—\nallows you to specify which audio stream should be controlled by the volume keys while the current\nActivity is active:</p>\n<pre><code>@Override\npublic void onCreate(Bundle savedInstanceState) {\n   super.onCreate(savedInstanceState);\n   setContentView(R.layout.audioplayer);\n\n   setVolumeControlStream(AudioManager.STREAM_MUSIC);\n}\n</code></pre>\n<p>You can specify any of the available audio streams, but when using the Media Player, you should\nspecify the STREAM_MUSIC stream to make it the focus of the volume keys.</p>\n"}],"owner":{"account_id":1682675,"reputation":794,"user_id":1546593,"display_name":"Sascha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1799,"favorite_count":0,"down_vote_count":0,"up_vote_count":65,"answer_count":1,"score":65,"last_activity_date":1641668698,"creation_date":1459506207,"question_id":36353856,"body_markdown":"I am trying to implement a remote volume control. It already works to control the volume with the hardware volume keys but when I try to move the slider in the MediaSession remote volume overlay, the `VolumeProviderCompat.onAdjustVolume(..)` callback is not called. I also tried other callbacks like `MediaSessionCompat.Callback.onMediaButtonEvent(..)` or `VolumeProviderCompat.onSetVolumeTo(..)` but they are not called at all.\r\n\r\nIf you don&#39;t know what I mean with the &quot;MediaSession remote volume overlay&quot;, here is a screenshot:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI created a demo project which you can download here: &lt;https://github.com/SaschaZ/VolumeProviderDemo&gt;.\r\n\r\nHere are the related parts of my `DemoActivity`:\r\n\r\n    public class DemoActivity extends AppCompatActivity {\r\n\r\n        ...\r\n\r\n        private Notification createNotification(@NonNull final DemoVolumeController demoVolumeController) {\r\n            Log.d(TAG, &quot;createNotification()&quot;);\r\n\r\n            final NotificationCompat.Builder builder = new NotificationCompat.Builder(this)\r\n                .setVisibility(NotificationCompat.VISIBILITY_PUBLIC)\r\n                .setPriority(NotificationCompat.PRIORITY_HIGH)\r\n                .setSmallIcon(R.mipmap.ic_launcher);\r\n\r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n                if (session != null) {\r\n                    session.release();\r\n                }\r\n                session = new MediaSessionCompat(this, &quot;demoMediaSession&quot;);\r\n                session.setPlaybackState(new PlaybackStateCompat.Builder()\r\n                    .setState(PlaybackStateCompat.STATE_PLAYING, 1, 1.0f)\r\n                    .build());\r\n                session.setPlaybackToRemote(createVolumeProvider(demoVolumeController));\r\n                session.setActive(true);\r\n            }\r\n\r\n            return builder.build();\r\n        }\r\n\r\n        private VolumeProviderCompat createVolumeProvider(@NonNull final DemoVolumeController demoVolumeController) {\r\n            // I don&#39;t use this callback directly, but I need to set it or my VolumeProvider will not work. (sounds\r\n            // strange but I tried it several times)\r\n            session.setCallback(new MediaSessionCompat.Callback() {\r\n                @Override\r\n                public boolean onMediaButtonEvent(final Intent mediaButtonEvent) {\r\n                    Log.d(TAG, &quot;onMediaButtonEvent() called with: &quot; + &quot;mediaButtonEvent = [&quot; + mediaButtonEvent + &quot;]&quot;);\r\n                    return super.onMediaButtonEvent(mediaButtonEvent);\r\n                }\r\n            });\r\n\r\n            return new VolumeProviderCompat(VolumeProviderCompat.VOLUME_CONTROL_RELATIVE,\r\n                100,\r\n                demoVolumeController.getVolume()) {\r\n                @Override\r\n                public void onAdjustVolume(final int direction) {\r\n                    final int volume = demoVolumeController.setVolumeRelative(direction);\r\n                    showVolume(volume);\r\n\r\n                    Log.d(TAG, &quot;onAdjustVolume() called with: &quot; + &quot;direction = [&quot; + direction + &quot;] - &quot; +\r\n                        &quot;new volume=&quot; + volume);\r\n\r\n                    // Nasty hack to get sync with the volume overlay of Android. setCurrentVolume does not work :(\r\n                    session.setPlaybackToRemote(createVolumeProvider(demoVolumeController));\r\n                }\r\n            };\r\n        }\r\n\r\n        ...\r\n    }\r\n\r\nAny hints?\r\nThank you in advance!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sJBOd.png","title":"How to handle changes from MediaSession remote volume overlay?","body":"<p>I am trying to implement a remote volume control. It already works to control the volume with the hardware volume keys but when I try to move the slider in the MediaSession remote volume overlay, the <code>VolumeProviderCompat.onAdjustVolume(..)</code> callback is not called. I also tried other callbacks like <code>MediaSessionCompat.Callback.onMediaButtonEvent(..)</code> or <code>VolumeProviderCompat.onSetVolumeTo(..)</code> but they are not called at all.</p>\n\n<p>If you don't know what I mean with the \"MediaSession remote volume overlay\", here is a screenshot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/sJBOd.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sJBOd.png\" alt=\"enter image description here\"></a></p>\n\n<p>I created a demo project which you can download here: <a href=\"https://github.com/SaschaZ/VolumeProviderDemo\" rel=\"noreferrer\">https://github.com/SaschaZ/VolumeProviderDemo</a>.</p>\n\n<p>Here are the related parts of my <code>DemoActivity</code>:</p>\n\n<pre><code>public class DemoActivity extends AppCompatActivity {\n\n    ...\n\n    private Notification createNotification(@NonNull final DemoVolumeController demoVolumeController) {\n        Log.d(TAG, \"createNotification()\");\n\n        final NotificationCompat.Builder builder = new NotificationCompat.Builder(this)\n            .setVisibility(NotificationCompat.VISIBILITY_PUBLIC)\n            .setPriority(NotificationCompat.PRIORITY_HIGH)\n            .setSmallIcon(R.mipmap.ic_launcher);\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n            if (session != null) {\n                session.release();\n            }\n            session = new MediaSessionCompat(this, \"demoMediaSession\");\n            session.setPlaybackState(new PlaybackStateCompat.Builder()\n                .setState(PlaybackStateCompat.STATE_PLAYING, 1, 1.0f)\n                .build());\n            session.setPlaybackToRemote(createVolumeProvider(demoVolumeController));\n            session.setActive(true);\n        }\n\n        return builder.build();\n    }\n\n    private VolumeProviderCompat createVolumeProvider(@NonNull final DemoVolumeController demoVolumeController) {\n        // I don't use this callback directly, but I need to set it or my VolumeProvider will not work. (sounds\n        // strange but I tried it several times)\n        session.setCallback(new MediaSessionCompat.Callback() {\n            @Override\n            public boolean onMediaButtonEvent(final Intent mediaButtonEvent) {\n                Log.d(TAG, \"onMediaButtonEvent() called with: \" + \"mediaButtonEvent = [\" + mediaButtonEvent + \"]\");\n                return super.onMediaButtonEvent(mediaButtonEvent);\n            }\n        });\n\n        return new VolumeProviderCompat(VolumeProviderCompat.VOLUME_CONTROL_RELATIVE,\n            100,\n            demoVolumeController.getVolume()) {\n            @Override\n            public void onAdjustVolume(final int direction) {\n                final int volume = demoVolumeController.setVolumeRelative(direction);\n                showVolume(volume);\n\n                Log.d(TAG, \"onAdjustVolume() called with: \" + \"direction = [\" + direction + \"] - \" +\n                    \"new volume=\" + volume);\n\n                // Nasty hack to get sync with the volume overlay of Android. setCurrentVolume does not work :(\n                session.setPlaybackToRemote(createVolumeProvider(demoVolumeController));\n            }\n        };\n    }\n\n    ...\n}\n</code></pre>\n\n<p>Any hints?\nThank you in advance!</p>\n"},{"tags":["java","exception","overriding"],"comments":[{"owner":{"account_id":1866073,"reputation":448,"user_id":1689608,"display_name":"dshelya"},"score":0,"creation_date":1641668214,"post_id":70634975,"comment_id":124866965,"body_markdown":"_&quot;When interfaces are involved, more than one method declaration may be overridden by a single overriding declaration. In this case, the overriding declaration must have a throws clause that is compatible with all the overridden declarations&quot;. ([JLS 11.2](https://docs.oracle.com/javase/specs/jls/se8/html/jls-11.html#jls-11.2))._ Meaning that if a class implements more than one interface (or an interface extends others) and they declare a method with a matching signature - the overridden method&#39;s signature needs to fit all of them at once.","body":"<i>&quot;When interfaces are involved, more than one method declaration may be overridden by a single overriding declaration. In this case, the overriding declaration must have a throws clause that is compatible with all the overridden declarations&quot;. (<a href=\"https://docs.oracle.com/javase/specs/jls/se8/html/jls-11.html#jls-11.2\" rel=\"nofollow noreferrer\">JLS 11.2</a>).</i> Meaning that if a class implements more than one interface (or an interface extends others) and they declare a method with a matching signature - the overridden method&#39;s signature needs to fit all of them at once."}],"answers":[{"tags":[],"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641668608,"creation_date":1641668608,"answer_id":70635519,"question_id":70634975,"body_markdown":"You&#39;re correct.\r\n\r\nLet&#39;s say we have classes\r\n\r\n    public class Parent {\r\n        public void doit() throws IOException {\r\n            throw new IOException();\r\n        }\r\n    }\r\n\r\n    public class Child extends Parent {\r\n        public void doit() throws FileNotFoundException {\r\n             throw new FileNotFoundException();\r\n        }\r\n    }\r\n\r\n**Checked exceptions are the ones that you&#39;re required to handle.** If `Child` were to throw a checked exception that is not an `IOException` (`FileNotFoundException` is an `IOException`, so it&#39;s okay as written), that would mean that this code lets this checked exception roam free:\r\n\r\n    Parent object = new Child();\r\n    try {\r\n        object.doit();\r\n    } catch (IOException ex) {\r\n        // thoughtful and careful handling\r\n    }\r\n\r\nThis would create a situation when a method threw a checked exception that is not declared in its `throws` list and defeat the definition and purpose of checked exceptions. Therefore language designers prohibited this.","title":"Thumb rules for exceptions (&quot;throws &lt;some-exception&gt;&quot;) in overridden methods","body":"<p>You're correct.</p>\n<p>Let's say we have classes</p>\n<pre><code>public class Parent {\n    public void doit() throws IOException {\n        throw new IOException();\n    }\n}\n\npublic class Child extends Parent {\n    public void doit() throws FileNotFoundException {\n         throw new FileNotFoundException();\n    }\n}\n</code></pre>\n<p><strong>Checked exceptions are the ones that you're required to handle.</strong> If <code>Child</code> were to throw a checked exception that is not an <code>IOException</code> (<code>FileNotFoundException</code> is an <code>IOException</code>, so it's okay as written), that would mean that this code lets this checked exception roam free:</p>\n<pre><code>Parent object = new Child();\ntry {\n    object.doit();\n} catch (IOException ex) {\n    // thoughtful and careful handling\n}\n</code></pre>\n<p>This would create a situation when a method threw a checked exception that is not declared in its <code>throws</code> list and defeat the definition and purpose of checked exceptions. Therefore language designers prohibited this.</p>\n"}],"owner":{"display_name":"user12421682"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1641668608,"creation_date":1641664578,"question_id":70634975,"body_markdown":"I&#39;m trying to come up with some simple rules to remember regarding exceptions in overridden methods in Java 8.\r\n\r\nI&#39;ve seen some posts explaining this in a kind of long way or not so clear to me.\r\n\r\nAssume when saying &quot;Checked exception&quot; it means the method has `throws &lt;checked-exception&gt;` in its signature etc.\r\n\r\n1. Checked exceptions can stay the same or be narrowed, even to not throwing at all.\r\n2. Unchecked exceptions (runtime exceptions) have no rules (can be narrowed or widened or neither).\r\n\r\nTo keep the statement simple assume that narrowing &quot;not throwing at all&quot; is &quot;not throwing at all&quot; and widening &quot;not throwing at all&quot; is to throw any exception (corresponding to checked/unchecked case)\r\n\r\nSummarizing this to:\r\n\r\n1. checked `&gt;=` overriding-checked\r\n2. unchecked, overriding-unchecked are independent\r\n\r\nIs this all (and correct?) or are there some cases missing?","title":"Thumb rules for exceptions (&quot;throws &lt;some-exception&gt;&quot;) in overridden methods","body":"<p>I'm trying to come up with some simple rules to remember regarding exceptions in overridden methods in Java 8.</p>\n<p>I've seen some posts explaining this in a kind of long way or not so clear to me.</p>\n<p>Assume when saying &quot;Checked exception&quot; it means the method has <code>throws &lt;checked-exception&gt;</code> in its signature etc.</p>\n<ol>\n<li>Checked exceptions can stay the same or be narrowed, even to not throwing at all.</li>\n<li>Unchecked exceptions (runtime exceptions) have no rules (can be narrowed or widened or neither).</li>\n</ol>\n<p>To keep the statement simple assume that narrowing &quot;not throwing at all&quot; is &quot;not throwing at all&quot; and widening &quot;not throwing at all&quot; is to throw any exception (corresponding to checked/unchecked case)</p>\n<p>Summarizing this to:</p>\n<ol>\n<li>checked <code>&gt;=</code> overriding-checked</li>\n<li>unchecked, overriding-unchecked are independent</li>\n</ol>\n<p>Is this all (and correct?) or are there some cases missing?</p>\n"},{"tags":["java","spring-boot","java-8","exceptionhandler"],"comments":[{"owner":{"account_id":16900,"reputation":24039,"user_id":37298,"accept_rate":88,"display_name":"Shervin Asgari"},"score":0,"creation_date":1494831372,"post_id":43973040,"comment_id":74976080,"body_markdown":"Why do you have both Controller and RestController? Have you tried putting the exceptionHandlers in its own Component class?","body":"Why do you have both Controller and RestController? Have you tried putting the exceptionHandlers in its own Component class?"},{"owner":{"account_id":3849657,"reputation":389,"user_id":3190140,"accept_rate":38,"display_name":"KerenSi"},"score":0,"creation_date":1494832773,"post_id":43973040,"comment_id":74976747,"body_markdown":"@Shervin Asgari, I want to have the ExceptionHandler inside the controller. I have only 1 controller and no need to use different class.","body":"@Shervin Asgari, I want to have the ExceptionHandler inside the controller. I have only 1 controller and no need to use different class."},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1494837935,"post_id":43973040,"comment_id":74979565,"body_markdown":"what is *the actual error* you see when you have 500?","body":"what is <i>the actual error</i> you see when you have 500?"},{"owner":{"account_id":6505000,"reputation":1823,"user_id":5034289,"display_name":"Ilya Novoseltsev"},"score":0,"creation_date":1494844670,"post_id":43973040,"comment_id":74983886,"body_markdown":"The code looks correct, barring redundant `@Controller` and `@ResponeBody`. Perhaps the issue is at build stage? Try `mvn clean` before building with Java8.","body":"The code looks correct, barring redundant <code>@Controller</code> and <code>@ResponeBody</code>. Perhaps the issue is at build stage? Try <code>mvn clean</code> before building with Java8."},{"owner":{"account_id":3849657,"reputation":389,"user_id":3190140,"accept_rate":38,"display_name":"KerenSi"},"score":0,"creation_date":1494863800,"post_id":43973040,"comment_id":74996959,"body_markdown":"@Eugene - yes, 500","body":"@Eugene - yes, 500"},{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":0,"creation_date":1494863866,"post_id":43973040,"comment_id":74997007,"body_markdown":"@KerenSi that&#39;s an `error code` not an `error message`. What is the error from the logs that you get","body":"@KerenSi that&#39;s an <code>error code</code> not an <code>error message</code>. What is the error from the logs that you get"},{"owner":{"account_id":3849657,"reputation":389,"user_id":3190140,"accept_rate":38,"display_name":"KerenSi"},"score":0,"creation_date":1494864402,"post_id":43973040,"comment_id":74997392,"body_markdown":"@Eugene, I added the message into the question","body":"@Eugene, I added the message into the question"}],"answers":[{"tags":[],"owner":{"account_id":10876012,"reputation":665,"user_id":7996404,"display_name":"balag3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494843411,"creation_date":1494841859,"answer_id":43976349,"question_id":43973040,"body_markdown":"For Spring Boot to pick up your handler you have to put it in a separate class and annotate it properly. \r\n\r\n    @RestControllerAdvice\r\n    @EnableWebMvc\r\n    public class GlobalControllerExceptionHandler {\r\n    \r\n        @ExceptionHandler(value = { NoHandlerFoundException.class })\r\n        @ResponseStatus(HttpStatus.NOT_FOUND)\r\n        public ApiErrorResponse noHandlerFoundException(Exception ex) {\r\n            return new ApiErrorResponse(404, 4041, ex.getMessage());\r\n        }\r\n    }\r\n\r\nAlso I don&#39;t think it is a valid option to annotate your controller class with `@RestController` and `@Controller` as well. Choose one or another and annotate your exception handler class accordingly`(@RestControllerAdvice` or `@ControllerAdvice`)","title":"Spring-boot @ExceptionHandler in Java8 is not reached out","body":"<p>For Spring Boot to pick up your handler you have to put it in a separate class and annotate it properly. </p>\n\n<pre><code>@RestControllerAdvice\n@EnableWebMvc\npublic class GlobalControllerExceptionHandler {\n\n    @ExceptionHandler(value = { NoHandlerFoundException.class })\n    @ResponseStatus(HttpStatus.NOT_FOUND)\n    public ApiErrorResponse noHandlerFoundException(Exception ex) {\n        return new ApiErrorResponse(404, 4041, ex.getMessage());\n    }\n}\n</code></pre>\n\n<p>Also I don't think it is a valid option to annotate your controller class with <code>@RestController</code> and <code>@Controller</code> as well. Choose one or another and annotate your exception handler class accordingly<code>(@RestControllerAdvice</code> or <code>@ControllerAdvice</code>)</p>\n"},{"tags":[],"owner":{"account_id":3849657,"reputation":389,"user_id":3190140,"accept_rate":38,"display_name":"KerenSi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1510582569,"creation_date":1510582569,"answer_id":47266395,"question_id":43973040,"body_markdown":"The issue was importing the wrong `HttpServletRequest` class:\r\n\r\n    import org.apache.catalina.servlet4preview.http.HttpServletRequest;\r\n\r\nThe import should be:\r\n\r\n    import javax.servlet.http.HttpServletRequest;\r\n\r\nWhen I changed the import, the `@ExceptionHandler` methods worked.\r\n\r\n","title":"Spring-boot @ExceptionHandler in Java8 is not reached out","body":"<p>The issue was importing the wrong <code>HttpServletRequest</code> class:</p>\n\n<pre><code>import org.apache.catalina.servlet4preview.http.HttpServletRequest;\n</code></pre>\n\n<p>The import should be:</p>\n\n<pre><code>import javax.servlet.http.HttpServletRequest;\n</code></pre>\n\n<p>When I changed the import, the <code>@ExceptionHandler</code> methods worked.</p>\n"}],"owner":{"account_id":3849657,"reputation":389,"user_id":3190140,"accept_rate":38,"display_name":"KerenSi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":47266395,"answer_count":2,"score":0,"last_activity_date":1641667609,"creation_date":1494830817,"question_id":43973040,"body_markdown":"I am using `@ExcpetionHandler` in my Java8 app. I&#39;m unable to reach out to this function. Upon all exceptions, the HTTP response is always 500 (with the message I inserted into the exception), and it ignores the `@ExceptionHandler` methods.\r\n\r\nWhen my colleague runs the app with java 7 compiler, it works. \r\n\r\nAny reason why @ExceptionHandler annotation fails to be reached out with Java 8?\r\n\r\nController:\r\n\r\n`validateInput()` is throwing `InputParameterException`. `InputParameterException` is caught in the try/catch, which throws it again.\r\n\r\n\r\n    import org.apache.catalina.servlet4preview.http.HttpServletRequest;\r\n    import org.springframework.http.HttpStatus;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.ExceptionHandler;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.ResponseBody;\r\n    import org.springframework.web.bind.annotation.ResponseStatus;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import vce.exception.InputParameterException;\r\n    \r\n    \r\n    @Controller\r\n    @RestController\r\n    public class VRestController {\r\n    \r\n    \r\n        @Resource(name=&quot;aManager&quot;)\r\n        AManager aManager;\r\n    \r\n        public void setAManager(AManager aManager) {\r\n            this.aManager = aManager;\r\n        }\r\n    \r\n    \r\n    \t@RequestMapping(value =&quot;/authentication/signature&quot;, method = RequestMethod.PUT)\r\n        public ResponseEntity&lt;Object&gt; signature(@RequestBody final Signature signature) {\r\n    \r\n    \t\treturn handle(Marker.UseCases.SIGNATURE, new Supplier&lt;Integer&gt;() {\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic Integer get() {\r\n    \t\t\t\tvalidateInput(signature);\r\n    \t\t\t\taManager.doSomething(signature);\r\n    \t\t\t\treturn 0;\r\n    \t\t\t}\r\n    \t\t\t\t\r\n    \t\t});\r\n    \t}\r\n    \r\n    \t\r\n    \tprivate ResponseEntity&lt;ErrorResponse&gt; handle(UseCases useCase, Supplier&lt;Integer&gt; supplier) {\r\n    \r\n    \t\tfinal Marker marker = Marker.REQUEST_MARKER.get();\r\n    \t\tmarker.startUseCase().setUseCase(useCase.name()).setStartTime(DateTime.now());\r\n    \t\ttry{\r\n    \t\t\tmarker.setSerializationId(serializationID);\r\n    \t\t\t\r\n    \t\t\tsupplier.get();\r\n    \t\t}\r\n    \r\n    \t\tcatch (Exception e) {\r\n    \t\t\tmarker.setException(e);\r\n    \r\n    \t\t\tthrow e;\r\n    \t\t}\r\n    \r\n    \t\tfinally {\r\n    \t\t  ......\r\n    \t\t}\r\n    \r\n    \t\treturn ResponseEntity.ok(new ErrorResponse(200,0,&quot;Success&quot;));\r\n    \t}\r\n    \r\n    \t\r\n    \tprivate static void validateInput(Signature signature) {\r\n    \t\tfinal String missingErr = &quot;The request is missing the following parameter: &quot;;\r\n    \r\n    \t\tif(signature.getData()==null) {\r\n    \t\t\tthrow new InputParameterException(missingErr+VConstants.DATA_FIELD_NAME, VErrorCodeEnum.MISSING_FIELD);\r\n    \t\t}\r\n    \r\n    \t\tif(signature.getSignature()==null) {\r\n    \t\t\tthrow new InputParameterException(missingErr+VConstants.SIGNATURE_FIELD_NAME, VErrorCodeEnum.MISSING_FIELD);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t\r\n    \t@ExceptionHandler(InputParameterException.class)\r\n    \t@ResponseStatus(value= HttpStatus.BAD_REQUEST)\r\n    \t@ResponseBody\r\n    \tpublic ErrorResponse handleInputParameterException(HttpServletRequest req, InputParameterException e) {\r\n    \t\t.....\r\n    \t\treturn new ErrorResponse(HttpStatus.BAD_REQUEST.value(), e.getErrorCode().getCode(), e.getMessage());\r\n    \t}\r\n    \r\n    \t\r\n    \t@ExceptionHandler(Exception.class)\r\n    \t@ResponseStatus(value= HttpStatus.INTERNAL_SERVER_ERROR, reason=&quot;Internal Server Error - Any Exception&quot;)\r\n    \tpublic void handleAnyException(HttpServletRequest req, Exception e) {\r\n    \r\n    \t\t.....\r\n    \t}\r\n    \t\r\n    \tstatic class ErrorResponse {\r\n    \r\n    \t\tpublic int statusCode;\r\n    \t\tpublic int errorCode;\r\n    \t\tpublic String message;\r\n    \r\n    \t\tpublic ErrorResponse(int statusCode, int errorCode, String message) {\r\n    \t\t\tthis.statusCode = statusCode;\r\n    \t\t\tthis.errorCode = errorCode;\r\n    \t\t\tthis.message = message;\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nRelevant part from pom.xml:\r\n\r\n    &lt;dependencyManagement&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;1.4.1.RELEASE&lt;/version&gt;\r\n    \t\t\t&lt;type&gt;pom&lt;/type&gt;\r\n    \t\t\t&lt;scope&gt;import&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    &lt;/dependencyManagement&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;exclusions&gt;\r\n    \t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n    \t\t\t&lt;/exclusion&gt;\r\n    \t\t&lt;/exclusions&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;\r\n    \t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nThis code fails to reach out to `@ExceptionHandler` with Java8. When switching to Java7, without any code changes, it works.\r\n\r\n**Update:**\r\n\r\n\r\nThe error message I receive is:\r\n\r\n    {\r\n      &quot;timestamp&quot;: 1494863566131,\r\n      &quot;status&quot;: 500,\r\n      &quot;error&quot;: &quot;Internal Server Error&quot;,\r\n      &quot;exception&quot;: &quot;com.nds.ch.vge.vaus.exception.InputParameterException&quot;,\r\n      &quot;message&quot;: &quot;org.springframework.web.util.NestedServletException: Request processing failed; nested exception is com.nds.ch.vge.vaus.exception.InputParameterException: The request is missing the following parameter: data&quot;,\r\n      &quot;path&quot;: &quot;/authentication/signature&quot;\r\n    }\r\n\r\nI removed `@Controller` annotation and I also tried to use resolver, but it didn&#39;t work.\r\n\r\nCode of the resolver, in the same package as the rest controller class:\r\n\r\n    @RestControllerAdvice\r\n    @EnableWebMvc\r\n    public class GlobalControllerExceptionHandler {\r\n    \r\n        \t\r\n        \t@ExceptionHandler(InputParameterException.class)\r\n        \t@ResponseStatus(value= HttpStatus.BAD_REQUEST)\r\n        \tpublic ErrorResponse handleInputParameterException(HttpServletRequest req, InputParameterException e) {\r\n        \t\t.....\r\n        \t\treturn new ErrorResponse(HttpStatus.BAD_REQUEST.value(), e.getErrorCode().getCode(), e.getMessage());\r\n        \t}\r\n        \r\n        \t\r\n        \t@ExceptionHandler(Exception.class)\r\n        \t@ResponseStatus(value= HttpStatus.INTERNAL_SERVER_ERROR, reason=&quot;Internal Server Error - Any Exception&quot;)\r\n        \tpublic void handleAnyException(HttpServletRequest req, Exception e) {\r\n        \r\n        \t\t.....\r\n        \t}\r\n    }\r\n\r\n","title":"Spring-boot @ExceptionHandler in Java8 is not reached out","body":"<p>I am using <code>@ExcpetionHandler</code> in my Java8 app. I'm unable to reach out to this function. Upon all exceptions, the HTTP response is always 500 (with the message I inserted into the exception), and it ignores the <code>@ExceptionHandler</code> methods.</p>\n\n<p>When my colleague runs the app with java 7 compiler, it works. </p>\n\n<p>Any reason why @ExceptionHandler annotation fails to be reached out with Java 8?</p>\n\n<p>Controller:</p>\n\n<p><code>validateInput()</code> is throwing <code>InputParameterException</code>. <code>InputParameterException</code> is caught in the try/catch, which throws it again.</p>\n\n<pre><code>import org.apache.catalina.servlet4preview.http.HttpServletRequest;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.ExceptionHandler;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.ResponseBody;\nimport org.springframework.web.bind.annotation.ResponseStatus;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport vce.exception.InputParameterException;\n\n\n@Controller\n@RestController\npublic class VRestController {\n\n\n    @Resource(name=\"aManager\")\n    AManager aManager;\n\n    public void setAManager(AManager aManager) {\n        this.aManager = aManager;\n    }\n\n\n    @RequestMapping(value =\"/authentication/signature\", method = RequestMethod.PUT)\n    public ResponseEntity&lt;Object&gt; signature(@RequestBody final Signature signature) {\n\n        return handle(Marker.UseCases.SIGNATURE, new Supplier&lt;Integer&gt;() {\n\n            @Override\n            public Integer get() {\n                validateInput(signature);\n                aManager.doSomething(signature);\n                return 0;\n            }\n\n        });\n    }\n\n\n    private ResponseEntity&lt;ErrorResponse&gt; handle(UseCases useCase, Supplier&lt;Integer&gt; supplier) {\n\n        final Marker marker = Marker.REQUEST_MARKER.get();\n        marker.startUseCase().setUseCase(useCase.name()).setStartTime(DateTime.now());\n        try{\n            marker.setSerializationId(serializationID);\n\n            supplier.get();\n        }\n\n        catch (Exception e) {\n            marker.setException(e);\n\n            throw e;\n        }\n\n        finally {\n          ......\n        }\n\n        return ResponseEntity.ok(new ErrorResponse(200,0,\"Success\"));\n    }\n\n\n    private static void validateInput(Signature signature) {\n        final String missingErr = \"The request is missing the following parameter: \";\n\n        if(signature.getData()==null) {\n            throw new InputParameterException(missingErr+VConstants.DATA_FIELD_NAME, VErrorCodeEnum.MISSING_FIELD);\n        }\n\n        if(signature.getSignature()==null) {\n            throw new InputParameterException(missingErr+VConstants.SIGNATURE_FIELD_NAME, VErrorCodeEnum.MISSING_FIELD);\n        }\n    }\n\n\n    @ExceptionHandler(InputParameterException.class)\n    @ResponseStatus(value= HttpStatus.BAD_REQUEST)\n    @ResponseBody\n    public ErrorResponse handleInputParameterException(HttpServletRequest req, InputParameterException e) {\n        .....\n        return new ErrorResponse(HttpStatus.BAD_REQUEST.value(), e.getErrorCode().getCode(), e.getMessage());\n    }\n\n\n    @ExceptionHandler(Exception.class)\n    @ResponseStatus(value= HttpStatus.INTERNAL_SERVER_ERROR, reason=\"Internal Server Error - Any Exception\")\n    public void handleAnyException(HttpServletRequest req, Exception e) {\n\n        .....\n    }\n\n    static class ErrorResponse {\n\n        public int statusCode;\n        public int errorCode;\n        public String message;\n\n        public ErrorResponse(int statusCode, int errorCode, String message) {\n            this.statusCode = statusCode;\n            this.errorCode = errorCode;\n            this.message = message;\n        }\n    }\n}\n</code></pre>\n\n<p>Relevant part from pom.xml:</p>\n\n<pre><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;\n            &lt;version&gt;1.4.1.RELEASE&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-jetty&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>This code fails to reach out to <code>@ExceptionHandler</code> with Java8. When switching to Java7, without any code changes, it works.</p>\n\n<p><strong>Update:</strong></p>\n\n<p>The error message I receive is:</p>\n\n<pre><code>{\n  \"timestamp\": 1494863566131,\n  \"status\": 500,\n  \"error\": \"Internal Server Error\",\n  \"exception\": \"com.nds.ch.vge.vaus.exception.InputParameterException\",\n  \"message\": \"org.springframework.web.util.NestedServletException: Request processing failed; nested exception is com.nds.ch.vge.vaus.exception.InputParameterException: The request is missing the following parameter: data\",\n  \"path\": \"/authentication/signature\"\n}\n</code></pre>\n\n<p>I removed <code>@Controller</code> annotation and I also tried to use resolver, but it didn't work.</p>\n\n<p>Code of the resolver, in the same package as the rest controller class:</p>\n\n<pre><code>@RestControllerAdvice\n@EnableWebMvc\npublic class GlobalControllerExceptionHandler {\n\n\n        @ExceptionHandler(InputParameterException.class)\n        @ResponseStatus(value= HttpStatus.BAD_REQUEST)\n        public ErrorResponse handleInputParameterException(HttpServletRequest req, InputParameterException e) {\n            .....\n            return new ErrorResponse(HttpStatus.BAD_REQUEST.value(), e.getErrorCode().getCode(), e.getMessage());\n        }\n\n\n        @ExceptionHandler(Exception.class)\n        @ResponseStatus(value= HttpStatus.INTERNAL_SERVER_ERROR, reason=\"Internal Server Error - Any Exception\")\n        public void handleAnyException(HttpServletRequest req, Exception e) {\n\n            .....\n        }\n}\n</code></pre>\n"},{"tags":["java","maven","classnotfoundexception"],"comments":[{"owner":{"account_id":7951510,"reputation":584,"user_id":6002202,"accept_rate":42,"display_name":"subbu royal"},"score":0,"creation_date":1458809368,"post_id":36196086,"comment_id":60026026,"body_markdown":"add `servlet-api.jar` in your dependencies","body":"add <code>servlet-api.jar</code> in your dependencies"}],"answers":[{"tags":[],"owner":{"account_id":5470123,"reputation":392,"user_id":4349761,"accept_rate":29,"display_name":"Girish Bhat M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458809456,"creation_date":1458809456,"answer_id":36196223,"question_id":36196086,"body_markdown":"include maven dependency for javax.servlet api, something like this\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\nRefer [this][1] for more\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1979957/maven-dependency-for-servlet-3-0-api","title":"java.lang.ClassNotFoundException: javax.servlet.http.HttpSessionIdListener","body":"<p>include maven dependency for javax.servlet api, something like this</p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n&lt;version&gt;3.0&lt;/version&gt;\n&lt;scope&gt;provided&lt;/scope&gt;\n</code></pre>\n\n<p></p>\n\n<p>Refer <a href=\"https://stackoverflow.com/questions/1979957/maven-dependency-for-servlet-3-0-api\">this</a> for more</p>\n"},{"tags":[],"owner":{"account_id":1803882,"reputation":487,"user_id":1641461,"display_name":"Denis Yakovlev"},"down_vote_count":1,"up_vote_count":22,"is_accepted":false,"score":21,"last_activity_date":1463517714,"creation_date":1463517714,"answer_id":37285891,"question_id":36196086,"body_markdown":"    &lt;!-- http://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nnote to \r\n&gt; javax.servlet-api\r\n\r\ninstead of \r\n&gt; servlet-api\r\n\r\n","title":"java.lang.ClassNotFoundException: javax.servlet.http.HttpSessionIdListener","body":"<pre><code>&lt;!-- http://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n    &lt;version&gt;3.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>note to </p>\n\n<blockquote>\n  <p>javax.servlet-api</p>\n</blockquote>\n\n<p>instead of </p>\n\n<blockquote>\n  <p>servlet-api</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":12766164,"reputation":467,"user_id":10789874,"display_name":"Shivam Papat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641667266,"creation_date":1629653469,"answer_id":68883656,"question_id":36196086,"body_markdown":"After spending 4 hours on this thing, finally found the solution.\r\nThe thing is since Servlet API 5.0, the API moved from the package **javax.servlet** to **jakarta.servlet**\r\nSo instead of adding dependency of javax , add dependency of jakarta in pom of the project\r\n\r\n \r\n\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\r\n          &lt;version&gt;5.0.0&lt;/version&gt;\r\n       &lt;/dependency&gt;","title":"java.lang.ClassNotFoundException: javax.servlet.http.HttpSessionIdListener","body":"<p>After spending 4 hours on this thing, finally found the solution.\nThe thing is since Servlet API 5.0, the API moved from the package <strong>javax.servlet</strong> to <strong>jakarta.servlet</strong>\nSo instead of adding dependency of javax , add dependency of jakarta in pom of the project</p>\n<pre><code>   &lt;dependency&gt;\n      &lt;groupId&gt;jakarta.servlet&lt;/groupId&gt;\n      &lt;artifactId&gt;jakarta.servlet-api&lt;/artifactId&gt;\n      &lt;version&gt;5.0.0&lt;/version&gt;\n   &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":6920070,"reputation":474,"user_id":5313017,"accept_rate":20,"display_name":"Saim Doruklu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40008,"favorite_count":0,"down_vote_count":2,"up_vote_count":12,"answer_count":3,"score":10,"last_activity_date":1641667266,"creation_date":1458808937,"question_id":36196086,"body_markdown":"I have two projects that run correctly by themselves but when I include MailSender in TradingFramework I get this NoClassDefFoundError:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/servlet/http/HttpSessionIdListener\r\n    \tat org.eclipse.jetty.server.session.SessionHandler.&lt;clinit&gt;(SessionHandler.java:54)\r\n    \tat org.eclipse.jetty.servlet.ServletContextHandler.newSessionHandler(ServletContextHandler.java:298)\r\n    \tat org.eclipse.jetty.servlet.ServletContextHandler.getSessionHandler(ServletContextHandler.java:393)\r\n    \tat org.eclipse.jetty.servlet.ServletContextHandler.relinkHandlers(ServletContextHandler.java:181)\r\n    \tat org.eclipse.jetty.servlet.ServletContextHandler.&lt;init&gt;(ServletContextHandler.java:168)\r\n    \tat org.eclipse.jetty.servlet.ServletContextHandler.&lt;init&gt;(ServletContextHandler.java:124)\r\n    \tat org.eclipse.jetty.servlet.ServletContextHandler.&lt;init&gt;(ServletContextHandler.java:112)\r\n    \tat com.destek.utils.websocket.WebSocketServer.createWebSocketHandler(WebSocketServer.java:102)\r\n    \tat com.destek.utils.websocket.WebSocketServer.createContextHandler(WebSocketServer.java:82)\r\n    \tat com.destek.utils.websocket.WebSocketServer.start(WebSocketServer.java:51)\r\n    \tat com.destek.onlinetradingfwk.service.websocket.WebSocketServerMain.runServer(WebSocketServerMain.java:25)\r\n    \tat client.TradeGateway.main(TradeGateway.java:174)\r\n    Caused by: java.lang.ClassNotFoundException: javax.servlet.http.HttpSessionIdListener\r\n    \tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n    \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\r\n    \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n    \t... 12 more\r\n\r\nI have excluded the conflicting jars but still it is the same. Here are the pom.xml files:\r\n\r\nTrading Framework:\r\n  \r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.destek&lt;/groupId&gt;\r\n      &lt;artifactId&gt;metaman-java-wrapper&lt;/artifactId&gt;\r\n      &lt;version&gt;2.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.destek&lt;/groupId&gt;\r\n      &lt;artifactId&gt;json-over-fix-adapter&lt;/artifactId&gt;\r\n      &lt;version&gt;0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.destek.tools&lt;/groupId&gt;\r\n      &lt;artifactId&gt;web-socket-server&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n      &lt;version&gt;3.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\r\n      &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\r\n      &lt;version&gt;1.9.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.12&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0.31-beta&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.destek&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quickfixj-all&lt;/artifactId&gt;\r\n      &lt;version&gt;1.4.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.mina&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mina-core&lt;/artifactId&gt;\r\n      &lt;version&gt;1.1.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n      &lt;version&gt;1.7.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n      &lt;version&gt;1.7.7&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2.17&lt;/version&gt;\r\n      &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;apache-log4j-extras&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2.17&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;javax.websocket&lt;/groupId&gt;\r\n      &lt;artifactId&gt;javax.websocket-api&lt;/artifactId&gt;\r\n      &lt;version&gt;1.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\r\n      &lt;artifactId&gt;nimbus-jose-jwt&lt;/artifactId&gt;\r\n      &lt;version&gt;4.4&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n      &lt;version&gt;5.1.6&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\r\n      &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\r\n      &lt;version&gt;2.4.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt; \r\n        &lt;groupId&gt;com&lt;/groupId&gt; \r\n        &lt;artifactId&gt;MailSender&lt;/artifactId&gt; \r\n        &lt;version&gt;1.0&lt;/version&gt; \r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\r\n                &lt;artifactId&gt;asm-debug-all&lt;/artifactId&gt;\r\n            &lt;/exclusion&gt;\r\n            &lt;exclusion&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nMailSender:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.test-framework.providers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-test-framework-provider-grizzly2&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-media-multipart&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\r\n            &lt;artifactId&gt;bcprov-jdk16&lt;/artifactId&gt;\r\n            &lt;version&gt;1.46&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- slf4j log --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.12&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.12&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.17&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;junit&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n            &lt;version&gt;4.10&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n            &lt;version&gt;1.6&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.1&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0&lt;/version&gt;\r\n            &lt;type&gt;jar&lt;/type&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n            &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n            &lt;version&gt;20140107&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.lingala.zip4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;zip4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n       ","title":"java.lang.ClassNotFoundException: javax.servlet.http.HttpSessionIdListener","body":"<p>I have two projects that run correctly by themselves but when I include MailSender in TradingFramework I get this NoClassDefFoundError:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: javax/servlet/http/HttpSessionIdListener\n    at org.eclipse.jetty.server.session.SessionHandler.&lt;clinit&gt;(SessionHandler.java:54)\n    at org.eclipse.jetty.servlet.ServletContextHandler.newSessionHandler(ServletContextHandler.java:298)\n    at org.eclipse.jetty.servlet.ServletContextHandler.getSessionHandler(ServletContextHandler.java:393)\n    at org.eclipse.jetty.servlet.ServletContextHandler.relinkHandlers(ServletContextHandler.java:181)\n    at org.eclipse.jetty.servlet.ServletContextHandler.&lt;init&gt;(ServletContextHandler.java:168)\n    at org.eclipse.jetty.servlet.ServletContextHandler.&lt;init&gt;(ServletContextHandler.java:124)\n    at org.eclipse.jetty.servlet.ServletContextHandler.&lt;init&gt;(ServletContextHandler.java:112)\n    at com.destek.utils.websocket.WebSocketServer.createWebSocketHandler(WebSocketServer.java:102)\n    at com.destek.utils.websocket.WebSocketServer.createContextHandler(WebSocketServer.java:82)\n    at com.destek.utils.websocket.WebSocketServer.start(WebSocketServer.java:51)\n    at com.destek.onlinetradingfwk.service.websocket.WebSocketServerMain.runServer(WebSocketServerMain.java:25)\n    at client.TradeGateway.main(TradeGateway.java:174)\nCaused by: java.lang.ClassNotFoundException: javax.servlet.http.HttpSessionIdListener\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:331)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n    ... 12 more\n</code></pre>\n\n<p>I have excluded the conflicting jars but still it is the same. Here are the pom.xml files:</p>\n\n<p>Trading Framework:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.destek&lt;/groupId&gt;\n  &lt;artifactId&gt;metaman-java-wrapper&lt;/artifactId&gt;\n  &lt;version&gt;2.4&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.destek&lt;/groupId&gt;\n  &lt;artifactId&gt;json-over-fix-adapter&lt;/artifactId&gt;\n  &lt;version&gt;0.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.destek.tools&lt;/groupId&gt;\n  &lt;artifactId&gt;web-socket-server&lt;/artifactId&gt;\n  &lt;version&gt;1.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n  &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n  &lt;version&gt;3.4&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;commons-beanutils&lt;/groupId&gt;\n  &lt;artifactId&gt;commons-beanutils&lt;/artifactId&gt;\n  &lt;version&gt;1.9.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;junit&lt;/groupId&gt;\n  &lt;artifactId&gt;junit&lt;/artifactId&gt;\n  &lt;version&gt;4.12&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n  &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n  &lt;version&gt;2.0.31-beta&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;com.destek&lt;/groupId&gt;\n  &lt;artifactId&gt;quickfixj-all&lt;/artifactId&gt;\n  &lt;version&gt;1.4.1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.mina&lt;/groupId&gt;\n  &lt;artifactId&gt;mina-core&lt;/artifactId&gt;\n  &lt;version&gt;1.1.7&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n  &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n  &lt;version&gt;1.7.7&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n  &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n  &lt;version&gt;1.7.7&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;log4j&lt;/groupId&gt;\n  &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n  &lt;version&gt;1.2.17&lt;/version&gt;\n  &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;log4j&lt;/groupId&gt;\n  &lt;artifactId&gt;apache-log4j-extras&lt;/artifactId&gt;\n  &lt;version&gt;1.2.17&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;javax.websocket&lt;/groupId&gt;\n  &lt;artifactId&gt;javax.websocket-api&lt;/artifactId&gt;\n  &lt;version&gt;1.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\n  &lt;artifactId&gt;nimbus-jose-jwt&lt;/artifactId&gt;\n  &lt;version&gt;4.4&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;mysql&lt;/groupId&gt;\n  &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n  &lt;version&gt;5.1.6&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;com.zaxxer&lt;/groupId&gt;\n  &lt;artifactId&gt;HikariCP&lt;/artifactId&gt;\n  &lt;version&gt;2.4.3&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt; \n    &lt;groupId&gt;com&lt;/groupId&gt; \n    &lt;artifactId&gt;MailSender&lt;/artifactId&gt; \n    &lt;version&gt;1.0&lt;/version&gt; \n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\n            &lt;artifactId&gt;asm-debug-all&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n        &lt;exclusion&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>MailSender:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.test-framework.providers&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-test-framework-provider-grizzly2&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-media-multipart&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n        &lt;version&gt;2.17&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.bouncycastle&lt;/groupId&gt;\n        &lt;artifactId&gt;bcprov-jdk16&lt;/artifactId&gt;\n        &lt;version&gt;1.46&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n        &lt;artifactId&gt;mail&lt;/artifactId&gt;\n        &lt;version&gt;1.4.7&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- slf4j log --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.7.12&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n        &lt;version&gt;1.7.12&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.17&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;junit&lt;/groupId&gt;\n        &lt;artifactId&gt;junit&lt;/artifactId&gt;\n        &lt;version&gt;4.10&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n        &lt;version&gt;1.6&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.codehaus.jackson&lt;/groupId&gt;\n        &lt;artifactId&gt;jackson-mapper-asl&lt;/artifactId&gt;\n        &lt;version&gt;1.7.1&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax&lt;/groupId&gt;\n        &lt;artifactId&gt;javaee-web-api&lt;/artifactId&gt;\n        &lt;version&gt;7.0&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.json&lt;/groupId&gt;\n        &lt;artifactId&gt;json&lt;/artifactId&gt;\n        &lt;version&gt;20140107&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;net.lingala.zip4j&lt;/groupId&gt;\n        &lt;artifactId&gt;zip4j&lt;/artifactId&gt;\n        &lt;version&gt;1.2.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n        &lt;version&gt;1.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","android","api","https"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1641658696,"post_id":70634126,"comment_id":124864643,"body_markdown":"`AsyncTask` has been deprecated for a few years. Please use something else, such as the OkHttp and Retrofit options that you mentioned, as they provide simple background thread options. Beyond that, what does &quot;it didn&#39;t work&quot; mean? What are your specific symptoms?","body":"<code>AsyncTask</code> has been deprecated for a few years. Please use something else, such as the OkHttp and Retrofit options that you mentioned, as they provide simple background thread options. Beyond that, what does &quot;it didn&#39;t work&quot; mean? What are your specific symptoms?"},{"owner":{"account_id":16690811,"reputation":64,"user_id":12063473,"display_name":"NamNgo-2810"},"score":0,"creation_date":1641694828,"post_id":70634126,"comment_id":124871777,"body_markdown":"I mean, I got the data, the progressDialog loaded and dismissed totally as expected, but after that there&#39;s no data on the screen","body":"I mean, I got the data, the progressDialog loaded and dismissed totally as expected, but after that there&#39;s no data on the screen"}],"answers":[{"tags":[],"owner":{"account_id":23242407,"reputation":99,"user_id":17331488,"display_name":"dani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641664509,"creation_date":1641664509,"answer_id":70634966,"question_id":70634126,"body_markdown":"I think the DataGetter class need to executed first than you can set adapter \r\ni test this code and it works\r\n\r\n  \r\n\r\n    @SuppressLint(&quot;NotifyDataSetChanged&quot;)\r\n    @Override\r\n    protected void onPostExecute(Void unused) {\r\n         super.onPostExecute(unused);\r\n         progressDialog.dismiss();\r\n    \r\n         userAdapter = new UserAdapter(userList, MainActivity.this);\r\n         recyclerView.setAdapter(userAdapter);\r\n    }","title":"Get API data to RecyclerView in AsyncTask","body":"<p>I think the DataGetter class need to executed first than you can set adapter\ni test this code and it works</p>\n<pre><code>@SuppressLint(&quot;NotifyDataSetChanged&quot;)\n@Override\nprotected void onPostExecute(Void unused) {\n     super.onPostExecute(unused);\n     progressDialog.dismiss();\n\n     userAdapter = new UserAdapter(userList, MainActivity.this);\n     recyclerView.setAdapter(userAdapter);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6493537,"reputation":284,"user_id":5026806,"display_name":"Javier Refuerzo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641666551,"creation_date":1641666136,"answer_id":70635184,"question_id":70634126,"body_markdown":"As mentioned in comments you should be using something other than depreciated classes.  Below is an example of using runnable, simply add your parser and adapter \r\n\r\nThis should be moved to android view model.\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private final String LOG_TAG = MainActivity.class.getSimpleName();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        Log.v(LOG_TAG, &quot;on Create&quot;);\r\n        String apiUrl = &quot;https://lebavui.github.io/jsons/users.json&quot;;\r\n        getUsers(apiUrl);\r\n    }\r\n\r\n    //return interface\r\n    public  interface Completion{\r\n        void onCompletion(List&lt;String&gt; list);\r\n    }\r\n\r\n    //calls a function which call Completion.onCompletion interface off of main thread\r\n    public void getUsers(String apiUrl){\r\n        getAsyncData(apiUrl, this::setListDataOnMain);\r\n    }\r\n\r\n    //bring back to main thread\r\n    //This should be in Android View model for application context instead of this.getMainLooper\r\n    private void setListDataOnMain(List&lt;String&gt; list){\r\n        Handler mainHandler = new Handler(this.getMainLooper());\r\n        Runnable myRunnable = () -&gt; {\r\n            //Set local object &quot;list&quot; to your global variable\r\n            //Then notify adapter change\r\n            //only logging here as example\r\n            Log.v(LOG_TAG, &quot;List: &quot; + list);\r\n        };\r\n        mainHandler.post(myRunnable);\r\n    }\r\n\r\n\r\n    //make async\r\n    public void  getAsyncData(String apiUrl, Completion completion) {\r\n        Runnable runnable = () -&gt; {\r\n            List&lt;String&gt; userList = makeRequest(apiUrl);\r\n            completion.onCompletion(userList);\r\n        };\r\n        Thread thread = new Thread(runnable);\r\n        thread.start();\r\n    }\r\n\r\n\r\n    //This is not async calling this func from main thread will crash\r\n    public List&lt;String&gt; makeRequest(String apiUrl )  {\r\n        List&lt;String&gt; userList = new ArrayList&lt;&gt;();\r\n        StringBuilder response = new StringBuilder();\r\n        URL url;\r\n        HttpsURLConnection urlConnection = null;\r\n        try {\r\n            url = new URL(apiUrl);\r\n            urlConnection = (HttpsURLConnection) url.openConnection();\r\n            InputStream is = urlConnection.getInputStream();\r\n            InputStreamReader isr = new InputStreamReader(is);\r\n            int data = isr.read();\r\n\r\n            while (data != -1) {\r\n                response.append((char) data);\r\n                data = isr.read();\r\n            }\r\n\r\n            JSONArray jsonArray = new JSONArray(response.toString());\r\n            for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n                //your json parsing here\r\n                userList.add(String.valueOf(i));\r\n            }\r\n\r\n        }\r\n        catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        finally {\r\n            if (urlConnection != null) {\r\n                urlConnection.disconnect();\r\n            }\r\n        }\r\n        return userList;\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n}\r\n```","title":"Get API data to RecyclerView in AsyncTask","body":"<p>As mentioned in comments you should be using something other than depreciated classes.  Below is an example of using runnable, simply add your parser and adapter</p>\n<p>This should be moved to android view model.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    private final String LOG_TAG = MainActivity.class.getSimpleName();\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        Log.v(LOG_TAG, &quot;on Create&quot;);\n        String apiUrl = &quot;https://lebavui.github.io/jsons/users.json&quot;;\n        getUsers(apiUrl);\n    }\n\n    //return interface\n    public  interface Completion{\n        void onCompletion(List&lt;String&gt; list);\n    }\n\n    //calls a function which call Completion.onCompletion interface off of main thread\n    public void getUsers(String apiUrl){\n        getAsyncData(apiUrl, this::setListDataOnMain);\n    }\n\n    //bring back to main thread\n    //This should be in Android View model for application context instead of this.getMainLooper\n    private void setListDataOnMain(List&lt;String&gt; list){\n        Handler mainHandler = new Handler(this.getMainLooper());\n        Runnable myRunnable = () -&gt; {\n            //Set local object &quot;list&quot; to your global variable\n            //Then notify adapter change\n            //only logging here as example\n            Log.v(LOG_TAG, &quot;List: &quot; + list);\n        };\n        mainHandler.post(myRunnable);\n    }\n\n\n    //make async\n    public void  getAsyncData(String apiUrl, Completion completion) {\n        Runnable runnable = () -&gt; {\n            List&lt;String&gt; userList = makeRequest(apiUrl);\n            completion.onCompletion(userList);\n        };\n        Thread thread = new Thread(runnable);\n        thread.start();\n    }\n\n\n    //This is not async calling this func from main thread will crash\n    public List&lt;String&gt; makeRequest(String apiUrl )  {\n        List&lt;String&gt; userList = new ArrayList&lt;&gt;();\n        StringBuilder response = new StringBuilder();\n        URL url;\n        HttpsURLConnection urlConnection = null;\n        try {\n            url = new URL(apiUrl);\n            urlConnection = (HttpsURLConnection) url.openConnection();\n            InputStream is = urlConnection.getInputStream();\n            InputStreamReader isr = new InputStreamReader(is);\n            int data = isr.read();\n\n            while (data != -1) {\n                response.append((char) data);\n                data = isr.read();\n            }\n\n            JSONArray jsonArray = new JSONArray(response.toString());\n            for (int i = 0; i &lt; jsonArray.length(); i++) {\n                //your json parsing here\n                userList.add(String.valueOf(i));\n            }\n\n        }\n        catch (Exception e) {\n            e.printStackTrace();\n        }\n        finally {\n            if (urlConnection != null) {\n                urlConnection.disconnect();\n            }\n        }\n        return userList;\n\n    }\n\n\n\n\n}\n</code></pre>\n"}],"owner":{"account_id":16690811,"reputation":64,"user_id":12063473,"display_name":"NamNgo-2810"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":287,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641666551,"creation_date":1641658213,"question_id":70634126,"body_markdown":"I&#39;m writing a simple Android app to get a JSON array into RecyclerView with AsyncTask. I know  that I can use libraries as Retrofit or OKHTTP, but this time I tried to write the connection IO from scratch. The connection succeeded and data has been parsed and added to ArrayList. I do all of these in ```doInBackground()```, and in ```onPostExecute()``` I just call ```notifyDataSetChanged()``` to the adapter, but it didn&#39;t work. I tried several ways such as move ```setAdapter()``` to ```onPostExecute()```, or move all the AsyncTask to Adapter class and they didn&#39;t help anything. Can someone tell me what I miss, if I cannot fix it in 2 or 3 days, I think I will use Retrofit instead.\\\r\nThis is my Main class, I think the bug is only here, but if you need to see my adapter please leave a comment, thanks a lot.\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    RecyclerView recyclerView;\r\n    ProgressDialog progressDialog;\r\n    String apiUrl;\r\n    Gson gson;\r\n    List&lt;User&gt; userList;\r\n    UserAdapter userAdapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        recyclerView = findViewById(R.id.recycle_view);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(MainActivity.this));\r\n\r\n        apiUrl = &quot;https://lebavui.github.io/jsons/users.json&quot;;\r\n        gson = new Gson();\r\n        userList = new ArrayList&lt;&gt;();\r\n\r\n        userAdapter = new UserAdapter(userList, MainActivity.this);\r\n        recyclerView.setAdapter(userAdapter);\r\n\r\n        DataGetter dataGetter = new DataGetter();\r\n        dataGetter.execute();\r\n\r\n    }\r\n\r\n    private class DataGetter extends AsyncTask&lt;Void, Void, Void&gt; {\r\n\r\n        @Override\r\n        protected void onPreExecute() {\r\n            super.onPreExecute();\r\n\r\n            progressDialog = new ProgressDialog(MainActivity.this);\r\n            progressDialog.setMessage(&quot;Loading...&quot;);\r\n            progressDialog.setCancelable(false);\r\n            progressDialog.show();\r\n        }\r\n\r\n        @Override\r\n        protected Void doInBackground(Void... voids) {\r\n            StringBuilder response = new StringBuilder();\r\n            URL url;\r\n            HttpsURLConnection urlConnection = null;\r\n            try {\r\n                url = new URL(apiUrl);\r\n                urlConnection = (HttpsURLConnection) url.openConnection();\r\n                InputStream is = urlConnection.getInputStream();\r\n                InputStreamReader isr = new InputStreamReader(is);\r\n                int data = isr.read();\r\n\r\n                while (data != -1) {\r\n                    response.append((char) data);\r\n                    data = isr.read();\r\n                }\r\n\r\n                JSONArray jsonArray = new JSONArray(response.toString());\r\n                for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n                    userList.add(gson.fromJson(jsonArray.getJSONObject(i).toString(), User.class));\r\n                }\r\n\r\n            }\r\n            catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n            finally {\r\n                if (urlConnection != null) {\r\n                    urlConnection.disconnect();\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n\r\n        @SuppressLint(&quot;NotifyDataSetChanged&quot;)\r\n        @Override\r\n        protected void onPostExecute(Void unused) {\r\n            super.onPostExecute(unused);\r\n            progressDialog.dismiss();\r\n\r\n            userAdapter.notifyDataSetChanged();\r\n        }\r\n    }\r\n}\r\n```","title":"Get API data to RecyclerView in AsyncTask","body":"<p>I'm writing a simple Android app to get a JSON array into RecyclerView with AsyncTask. I know  that I can use libraries as Retrofit or OKHTTP, but this time I tried to write the connection IO from scratch. The connection succeeded and data has been parsed and added to ArrayList. I do all of these in <code>doInBackground()</code>, and in <code>onPostExecute()</code> I just call <code>notifyDataSetChanged()</code> to the adapter, but it didn't work. I tried several ways such as move <code>setAdapter()</code> to <code>onPostExecute()</code>, or move all the AsyncTask to Adapter class and they didn't help anything. Can someone tell me what I miss, if I cannot fix it in 2 or 3 days, I think I will use Retrofit instead.<br />\nThis is my Main class, I think the bug is only here, but if you need to see my adapter please leave a comment, thanks a lot.</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    RecyclerView recyclerView;\n    ProgressDialog progressDialog;\n    String apiUrl;\n    Gson gson;\n    List&lt;User&gt; userList;\n    UserAdapter userAdapter;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        recyclerView = findViewById(R.id.recycle_view);\n        recyclerView.setLayoutManager(new LinearLayoutManager(MainActivity.this));\n\n        apiUrl = &quot;https://lebavui.github.io/jsons/users.json&quot;;\n        gson = new Gson();\n        userList = new ArrayList&lt;&gt;();\n\n        userAdapter = new UserAdapter(userList, MainActivity.this);\n        recyclerView.setAdapter(userAdapter);\n\n        DataGetter dataGetter = new DataGetter();\n        dataGetter.execute();\n\n    }\n\n    private class DataGetter extends AsyncTask&lt;Void, Void, Void&gt; {\n\n        @Override\n        protected void onPreExecute() {\n            super.onPreExecute();\n\n            progressDialog = new ProgressDialog(MainActivity.this);\n            progressDialog.setMessage(&quot;Loading...&quot;);\n            progressDialog.setCancelable(false);\n            progressDialog.show();\n        }\n\n        @Override\n        protected Void doInBackground(Void... voids) {\n            StringBuilder response = new StringBuilder();\n            URL url;\n            HttpsURLConnection urlConnection = null;\n            try {\n                url = new URL(apiUrl);\n                urlConnection = (HttpsURLConnection) url.openConnection();\n                InputStream is = urlConnection.getInputStream();\n                InputStreamReader isr = new InputStreamReader(is);\n                int data = isr.read();\n\n                while (data != -1) {\n                    response.append((char) data);\n                    data = isr.read();\n                }\n\n                JSONArray jsonArray = new JSONArray(response.toString());\n                for (int i = 0; i &lt; jsonArray.length(); i++) {\n                    userList.add(gson.fromJson(jsonArray.getJSONObject(i).toString(), User.class));\n                }\n\n            }\n            catch (Exception e) {\n                e.printStackTrace();\n            }\n            finally {\n                if (urlConnection != null) {\n                    urlConnection.disconnect();\n                }\n            }\n            return null;\n        }\n\n        @SuppressLint(&quot;NotifyDataSetChanged&quot;)\n        @Override\n        protected void onPostExecute(Void unused) {\n            super.onPostExecute(unused);\n            progressDialog.dismiss();\n\n            userAdapter.notifyDataSetChanged();\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","swing","jpanel","jlist"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1637159223,"post_id":70000338,"comment_id":123751233,"body_markdown":"The tutorial does not do a good job of separating the application model from the Swing view code and the ListCellRenderer controller code.  The author of the tutorial shows you what he&#39;s doing, but does a poor job of explaining why he does things the way he does.  His code will be difficult to extend.","body":"The tutorial does not do a good job of separating the application model from the Swing view code and the ListCellRenderer controller code.  The author of the tutorial shows you what he&#39;s doing, but does a poor job of explaining why he does things the way he does.  His code will be difficult to extend."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1637164705,"post_id":70000338,"comment_id":123753920,"body_markdown":"Don&#39;t do I/O in a renderer. Rendering logic should be fast and efficient since it is called multiple times as you interact with the GUI. The images should be a property of your Country class and loaded when you create your Country class.","body":"Don&#39;t do I/O in a renderer. Rendering logic should be fast and efficient since it is called multiple times as you interact with the GUI. The images should be a property of your Country class and loaded when you create your Country class."}],"answers":[{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637164419,"creation_date":1637164419,"answer_id":70007594,"question_id":70000338,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing][1].  Skip the Netbeans section.\r\n\r\nIt turns out that you can&#39;t use a `JPanel` to hold a `JList` selection.  You have to use a `JLabel`.\r\n\r\nSo, I designed a slightly different GUI.  I copied the icons from the tutorial that you used.  The icons are located in the source code zip file.\r\n\r\n[![JList example][2]][2]\r\n\r\nThe first thing I did differently was to add the image to the `Country` class.  I also made all the class fields final, since they don&#39;t change.\r\n\r\n\tpublic class Country {\r\n\t\t\r\n\t\tprivate final Image image;\r\n\t     \r\n\t    private final String name;\r\n\t    private final String code;\r\n\t \r\n\t    public Country(String name, String code) {\r\n\t        this.name = name;\r\n\t        this.code = code;\r\n\t        this.image = getImage(code);\r\n\t    }\r\n\t    \r\n\t\tprivate Image getImage(String code) {\r\n\t\t\tImage image = null;\r\n\t\t\ttry {\r\n\t\t\t\tURL url = getClass().getResource(&quot;/images/&quot; + code + &quot;.png&quot;);\r\n\t\t\t\timage = ImageIO.read(url);\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t\treturn image;\r\n\t\t}\r\n\t \r\n\t    public String getName() {\r\n\t        return name;\r\n\t    }\r\n\t \r\n\t    public String getCode() {\r\n\t        return code;\r\n\t    }\r\n\t    \r\n\t    public Image getImage() {\r\n\t\t\treturn image;\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t    public String toString() {\r\n\t        return name;\r\n\t    }\r\n\t    \r\n\t} \r\n\r\nNext, I created a `CountryModel` class to hold the `ListModel`.\r\n\r\n\tpublic class CountryModel {\r\n\r\n\t\tprivate final DefaultListModel&lt;Country&gt; listModel;\r\n\r\n\t\tpublic CountryModel() {\r\n\t\t\tCountry us = new Country(&quot;USA&quot;, &quot;us&quot;);\r\n\t\t\tCountry in = new Country(&quot;India&quot;, &quot;in&quot;);\r\n\t\t\tCountry vn = new Country(&quot;Vietnam&quot;, &quot;vn&quot;);\r\n\t\t\tCountry ca = new Country(&quot;Canada&quot;, &quot;ca&quot;);\r\n\t\t\tCountry de = new Country(&quot;Denmark&quot;, &quot;de&quot;);\r\n\t\t\tCountry fr = new Country(&quot;France&quot;, &quot;fr&quot;);\r\n\t\t\tCountry gb = new Country(&quot;Great Britain&quot;, &quot;gb&quot;);\r\n\t\t\tCountry jp = new Country(&quot;Japan&quot;, &quot;jp&quot;);\r\n\r\n\t\t\t// create the model and add elements\r\n\t\t\tlistModel = new DefaultListModel&lt;&gt;();\r\n\t\t\tlistModel.addElement(us);\r\n\t\t\tlistModel.addElement(in);\r\n\t\t\tlistModel.addElement(vn);\r\n\t\t\tlistModel.addElement(ca);\r\n\t\t\tlistModel.addElement(de);\r\n\t\t\tlistModel.addElement(fr);\r\n\t\t\tlistModel.addElement(gb);\r\n\t\t\tlistModel.addElement(jp);\r\n\t\t}\r\n\r\n\t\tpublic DefaultListModel&lt;Country&gt; getListModel() {\r\n\t\t\treturn listModel;\r\n\t\t}\r\n\r\n\t}\r\n\r\nThis simplified the `JListCustomRendererExample` view class.  I create the country model, create the `JFrame`, create a `JList` `JPanel` and a `JButton` `JPanel`.\r\n\r\nCreating separate methods for the `JFrame` and `JPanels` helps to keep like code together and unlike code separated into methods.  This makes the code easier to read and modify.\r\n\r\nThe `JButton` `JPanel` allows you to create an `ActionListener` that will process the `JList` selection or selections.\r\n\r\n    public class JListCustomRendererExample implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new JListCustomRendererExample());\r\n    \t}\r\n    \t\r\n    \tprivate final CountryModel model;\r\n    \t\r\n    \tpublic JListCustomRendererExample() {\r\n    \t\tthis.model = new CountryModel();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;JList Renderer Example&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tframe.add(createMainPanel(model), BorderLayout.CENTER);\r\n    \t\tframe.add(createButtonPanel(), BorderLayout.SOUTH);\r\n    \t\t\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationRelativeTo(null);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \t\r\n    \tprivate JPanel createMainPanel(CountryModel model) {\r\n    \t\tJPanel panel = new JPanel(new BorderLayout());\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\r\n    \t\t\r\n    \t\tJList&lt;Country&gt; countryList = new JList&lt;&gt;(model.getListModel());\r\n    \t\tcountryList.setCellRenderer(new CountryRenderer());\r\n            panel.add(new JScrollPane(countryList), BorderLayout.CENTER);\r\n    \t\t\r\n    \t\treturn panel;\r\n    \t}\r\n    \t\r\n    \tprivate JPanel createButtonPanel() {\r\n    \t\tJPanel panel = new JPanel(new BorderLayout());\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\r\n    \t\t\r\n    \t\tJButton button = new JButton(&quot;Select Countries&quot;);\r\n    \t\tpanel.add(button, BorderLayout.CENTER);\r\n    \t\t\r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    }\r\n\r\nFinally, we have the `ListCellRenderer` class.\r\n\r\n\tpublic class CountryRenderer implements ListCellRenderer&lt;Country&gt; {\r\n\r\n\t\tprivate final JLabel label;\r\n\t\t\r\n\t\tpublic CountryRenderer() {\r\n\t\t\tthis.label = new JLabel();\r\n\t\t    label.setOpaque(true);\r\n\t\t}\r\n\r\n\t\t@Override\r\n\t\tpublic Component getListCellRendererComponent(JList&lt;? extends Country&gt; list, \r\n\t\t\t\tCountry country, int index, boolean isSelected, boolean cellHasFocus) {\r\n\r\n\t\t\tlabel.setIcon(new ImageIcon(country.getImage()));\r\n\t\t\tlabel.setText(country.getName());\r\n\r\n\t\t\tif (isSelected) {\r\n\t\t\t\tlabel.setBackground(list.getSelectionBackground());\r\n\t\t\t\tlabel.setForeground(list.getSelectionForeground());\r\n\t\t\t} else {\r\n\t\t\t\tlabel.setBackground(list.getBackground());\r\n\t\t\t\tlabel.setForeground(list.getForeground());\r\n\t\t\t}\r\n\r\n\t\t\treturn label;\r\n\t\t}\r\n\t}\r\n\r\nHere&#39;s the complete runnable code.  I made the additional classes inner classes so I can post the code as one block.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Component;\r\n    import java.awt.Image;\r\n    import java.io.IOException;\r\n    import java.net.URL;\r\n    \r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.DefaultListModel;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JList;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.ListCellRenderer;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class JListCustomRendererExample implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new JListCustomRendererExample());\r\n    \t}\r\n    \t\r\n    \tprivate final CountryModel model;\r\n    \t\r\n    \tpublic JListCustomRendererExample() {\r\n    \t\tthis.model = new CountryModel();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;JList Renderer Example&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tframe.add(createMainPanel(model), BorderLayout.CENTER);\r\n    \t\tframe.add(createButtonPanel(), BorderLayout.SOUTH);\r\n    \t\t\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationRelativeTo(null);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \t\r\n    \tprivate JPanel createMainPanel(CountryModel model) {\r\n    \t\tJPanel panel = new JPanel(new BorderLayout());\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\r\n    \t\t\r\n    \t\tJList&lt;Country&gt; countryList = new JList&lt;&gt;(model.getListModel());\r\n    \t\tcountryList.setCellRenderer(new CountryRenderer());\r\n            panel.add(new JScrollPane(countryList), BorderLayout.CENTER);\r\n    \t\t\r\n    \t\treturn panel;\r\n    \t}\r\n    \t\r\n    \tprivate JPanel createButtonPanel() {\r\n    \t\tJPanel panel = new JPanel(new BorderLayout());\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\r\n    \t\t\r\n    \t\tJButton button = new JButton(&quot;Select Countries&quot;);\r\n    \t\tpanel.add(button, BorderLayout.CENTER);\r\n    \t\t\r\n    \t\treturn panel;\r\n    \t}\r\n    \t\r\n    \tpublic class CountryRenderer implements ListCellRenderer&lt;Country&gt; {\r\n    \r\n    \t\tprivate final JLabel label;\r\n    \t\t\r\n    \t\tpublic CountryRenderer() {\r\n    \t\t\tthis.label = new JLabel();\r\n    \t\t    label.setOpaque(true);\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t\tpublic Component getListCellRendererComponent(JList&lt;? extends Country&gt; list, \r\n    \t\t\t\tCountry country, int index, boolean isSelected, boolean cellHasFocus) {\r\n    \r\n    \t\t\tlabel.setIcon(new ImageIcon(country.getImage()));\r\n    \t\t\tlabel.setText(country.getName());\r\n    \r\n    \t\t\tif (isSelected) {\r\n    \t\t\t\tlabel.setBackground(list.getSelectionBackground());\r\n    \t\t\t\tlabel.setForeground(list.getSelectionForeground());\r\n    \t\t\t} else {\r\n    \t\t\t\tlabel.setBackground(list.getBackground());\r\n    \t\t\t\tlabel.setForeground(list.getForeground());\r\n    \t\t\t}\r\n    \r\n    \t\t\treturn label;\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic class CountryModel {\r\n    \r\n    \t\tprivate final DefaultListModel&lt;Country&gt; listModel;\r\n    \r\n    \t\tpublic CountryModel() {\r\n    \t\t\tCountry us = new Country(&quot;USA&quot;, &quot;us&quot;);\r\n    \t\t\tCountry in = new Country(&quot;India&quot;, &quot;in&quot;);\r\n    \t\t\tCountry vn = new Country(&quot;Vietnam&quot;, &quot;vn&quot;);\r\n    \t\t\tCountry ca = new Country(&quot;Canada&quot;, &quot;ca&quot;);\r\n    \t\t\tCountry de = new Country(&quot;Denmark&quot;, &quot;de&quot;);\r\n    \t\t\tCountry fr = new Country(&quot;France&quot;, &quot;fr&quot;);\r\n    \t\t\tCountry gb = new Country(&quot;Great Britain&quot;, &quot;gb&quot;);\r\n    \t\t\tCountry jp = new Country(&quot;Japan&quot;, &quot;jp&quot;);\r\n    \r\n    \t\t\t// create the model and add elements\r\n    \t\t\tlistModel = new DefaultListModel&lt;&gt;();\r\n    \t\t\tlistModel.addElement(us);\r\n    \t\t\tlistModel.addElement(in);\r\n    \t\t\tlistModel.addElement(vn);\r\n    \t\t\tlistModel.addElement(ca);\r\n    \t\t\tlistModel.addElement(de);\r\n    \t\t\tlistModel.addElement(fr);\r\n    \t\t\tlistModel.addElement(gb);\r\n    \t\t\tlistModel.addElement(jp);\r\n    \t\t}\r\n    \r\n    \t\tpublic DefaultListModel&lt;Country&gt; getListModel() {\r\n    \t\t\treturn listModel;\r\n    \t\t}\r\n    \r\n    \t}\r\n    \t\r\n    \tpublic class Country {\r\n    \t\t\r\n    \t\tprivate final Image image;\r\n    \t     \r\n    \t    private final String name;\r\n    \t    private final String code;\r\n    \t \r\n    \t    public Country(String name, String code) {\r\n    \t        this.name = name;\r\n    \t        this.code = code;\r\n    \t        this.image = getImage(code);\r\n    \t    }\r\n    \t    \r\n    \t\tprivate Image getImage(String code) {\r\n    \t\t\tImage image = null;\r\n    \t\t\ttry {\r\n    \t\t\t\tURL url = getClass().getResource(&quot;/images/&quot; + code + &quot;.png&quot;);\r\n    \t\t\t\timage = ImageIO.read(url);\r\n    \t\t\t} catch (IOException e) {\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t\treturn image;\r\n    \t\t}\r\n    \t \r\n    \t    public String getName() {\r\n    \t        return name;\r\n    \t    }\r\n    \t \r\n    \t    public String getCode() {\r\n    \t        return code;\r\n    \t    }\r\n    \t    \r\n    \t    public Image getImage() {\r\n    \t\t\treturn image;\r\n    \t\t}\r\n    \r\n    \t\t@Override\r\n    \t    public String toString() {\r\n    \t        return name;\r\n    \t    }\r\n    \t    \r\n    \t} \r\n    \r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/index.html\r\n  [2]: https://i.stack.imgur.com/Lakj7.png","title":"Custom Render JPanel in a JList","body":"<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Netbeans section.</p>\n<p>It turns out that you can't use a <code>JPanel</code> to hold a <code>JList</code> selection.  You have to use a <code>JLabel</code>.</p>\n<p>So, I designed a slightly different GUI.  I copied the icons from the tutorial that you used.  The icons are located in the source code zip file.</p>\n<p><a href=\"https://i.stack.imgur.com/Lakj7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Lakj7.png\" alt=\"JList example\" /></a></p>\n<p>The first thing I did differently was to add the image to the <code>Country</code> class.  I also made all the class fields final, since they don't change.</p>\n<pre><code>public class Country {\n    \n    private final Image image;\n     \n    private final String name;\n    private final String code;\n \n    public Country(String name, String code) {\n        this.name = name;\n        this.code = code;\n        this.image = getImage(code);\n    }\n    \n    private Image getImage(String code) {\n        Image image = null;\n        try {\n            URL url = getClass().getResource(&quot;/images/&quot; + code + &quot;.png&quot;);\n            image = ImageIO.read(url);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        return image;\n    }\n \n    public String getName() {\n        return name;\n    }\n \n    public String getCode() {\n        return code;\n    }\n    \n    public Image getImage() {\n        return image;\n    }\n\n    @Override\n    public String toString() {\n        return name;\n    }\n    \n} \n</code></pre>\n<p>Next, I created a <code>CountryModel</code> class to hold the <code>ListModel</code>.</p>\n<pre><code>public class CountryModel {\n\n    private final DefaultListModel&lt;Country&gt; listModel;\n\n    public CountryModel() {\n        Country us = new Country(&quot;USA&quot;, &quot;us&quot;);\n        Country in = new Country(&quot;India&quot;, &quot;in&quot;);\n        Country vn = new Country(&quot;Vietnam&quot;, &quot;vn&quot;);\n        Country ca = new Country(&quot;Canada&quot;, &quot;ca&quot;);\n        Country de = new Country(&quot;Denmark&quot;, &quot;de&quot;);\n        Country fr = new Country(&quot;France&quot;, &quot;fr&quot;);\n        Country gb = new Country(&quot;Great Britain&quot;, &quot;gb&quot;);\n        Country jp = new Country(&quot;Japan&quot;, &quot;jp&quot;);\n\n        // create the model and add elements\n        listModel = new DefaultListModel&lt;&gt;();\n        listModel.addElement(us);\n        listModel.addElement(in);\n        listModel.addElement(vn);\n        listModel.addElement(ca);\n        listModel.addElement(de);\n        listModel.addElement(fr);\n        listModel.addElement(gb);\n        listModel.addElement(jp);\n    }\n\n    public DefaultListModel&lt;Country&gt; getListModel() {\n        return listModel;\n    }\n\n}\n</code></pre>\n<p>This simplified the <code>JListCustomRendererExample</code> view class.  I create the country model, create the <code>JFrame</code>, create a <code>JList</code> <code>JPanel</code> and a <code>JButton</code> <code>JPanel</code>.</p>\n<p>Creating separate methods for the <code>JFrame</code> and <code>JPanels</code> helps to keep like code together and unlike code separated into methods.  This makes the code easier to read and modify.</p>\n<p>The <code>JButton</code> <code>JPanel</code> allows you to create an <code>ActionListener</code> that will process the <code>JList</code> selection or selections.</p>\n<pre><code>public class JListCustomRendererExample implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new JListCustomRendererExample());\n    }\n    \n    private final CountryModel model;\n    \n    public JListCustomRendererExample() {\n        this.model = new CountryModel();\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;JList Renderer Example&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        frame.add(createMainPanel(model), BorderLayout.CENTER);\n        frame.add(createButtonPanel(), BorderLayout.SOUTH);\n        \n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n    \n    private JPanel createMainPanel(CountryModel model) {\n        JPanel panel = new JPanel(new BorderLayout());\n        panel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\n        \n        JList&lt;Country&gt; countryList = new JList&lt;&gt;(model.getListModel());\n        countryList.setCellRenderer(new CountryRenderer());\n        panel.add(new JScrollPane(countryList), BorderLayout.CENTER);\n        \n        return panel;\n    }\n    \n    private JPanel createButtonPanel() {\n        JPanel panel = new JPanel(new BorderLayout());\n        panel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\n        \n        JButton button = new JButton(&quot;Select Countries&quot;);\n        panel.add(button, BorderLayout.CENTER);\n        \n        return panel;\n    }\n\n}\n</code></pre>\n<p>Finally, we have the <code>ListCellRenderer</code> class.</p>\n<pre><code>public class CountryRenderer implements ListCellRenderer&lt;Country&gt; {\n\n    private final JLabel label;\n    \n    public CountryRenderer() {\n        this.label = new JLabel();\n        label.setOpaque(true);\n    }\n\n    @Override\n    public Component getListCellRendererComponent(JList&lt;? extends Country&gt; list, \n            Country country, int index, boolean isSelected, boolean cellHasFocus) {\n\n        label.setIcon(new ImageIcon(country.getImage()));\n        label.setText(country.getName());\n\n        if (isSelected) {\n            label.setBackground(list.getSelectionBackground());\n            label.setForeground(list.getSelectionForeground());\n        } else {\n            label.setBackground(list.getBackground());\n            label.setForeground(list.getForeground());\n        }\n\n        return label;\n    }\n}\n</code></pre>\n<p>Here's the complete runnable code.  I made the additional classes inner classes so I can post the code as one block.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Component;\nimport java.awt.Image;\nimport java.io.IOException;\nimport java.net.URL;\n\nimport javax.imageio.ImageIO;\nimport javax.swing.BorderFactory;\nimport javax.swing.DefaultListModel;\nimport javax.swing.ImageIcon;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JList;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextField;\nimport javax.swing.ListCellRenderer;\nimport javax.swing.SwingUtilities;\n\npublic class JListCustomRendererExample implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new JListCustomRendererExample());\n    }\n    \n    private final CountryModel model;\n    \n    public JListCustomRendererExample() {\n        this.model = new CountryModel();\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;JList Renderer Example&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        frame.add(createMainPanel(model), BorderLayout.CENTER);\n        frame.add(createButtonPanel(), BorderLayout.SOUTH);\n        \n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n    \n    private JPanel createMainPanel(CountryModel model) {\n        JPanel panel = new JPanel(new BorderLayout());\n        panel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\n        \n        JList&lt;Country&gt; countryList = new JList&lt;&gt;(model.getListModel());\n        countryList.setCellRenderer(new CountryRenderer());\n        panel.add(new JScrollPane(countryList), BorderLayout.CENTER);\n        \n        return panel;\n    }\n    \n    private JPanel createButtonPanel() {\n        JPanel panel = new JPanel(new BorderLayout());\n        panel.setBorder(BorderFactory.createEmptyBorder(5, 5, 5, 5));\n        \n        JButton button = new JButton(&quot;Select Countries&quot;);\n        panel.add(button, BorderLayout.CENTER);\n        \n        return panel;\n    }\n    \n    public class CountryRenderer implements ListCellRenderer&lt;Country&gt; {\n\n        private final JLabel label;\n        \n        public CountryRenderer() {\n            this.label = new JLabel();\n            label.setOpaque(true);\n        }\n\n        @Override\n        public Component getListCellRendererComponent(JList&lt;? extends Country&gt; list, \n                Country country, int index, boolean isSelected, boolean cellHasFocus) {\n\n            label.setIcon(new ImageIcon(country.getImage()));\n            label.setText(country.getName());\n\n            if (isSelected) {\n                label.setBackground(list.getSelectionBackground());\n                label.setForeground(list.getSelectionForeground());\n            } else {\n                label.setBackground(list.getBackground());\n                label.setForeground(list.getForeground());\n            }\n\n            return label;\n        }\n    }\n    \n    public class CountryModel {\n\n        private final DefaultListModel&lt;Country&gt; listModel;\n\n        public CountryModel() {\n            Country us = new Country(&quot;USA&quot;, &quot;us&quot;);\n            Country in = new Country(&quot;India&quot;, &quot;in&quot;);\n            Country vn = new Country(&quot;Vietnam&quot;, &quot;vn&quot;);\n            Country ca = new Country(&quot;Canada&quot;, &quot;ca&quot;);\n            Country de = new Country(&quot;Denmark&quot;, &quot;de&quot;);\n            Country fr = new Country(&quot;France&quot;, &quot;fr&quot;);\n            Country gb = new Country(&quot;Great Britain&quot;, &quot;gb&quot;);\n            Country jp = new Country(&quot;Japan&quot;, &quot;jp&quot;);\n\n            // create the model and add elements\n            listModel = new DefaultListModel&lt;&gt;();\n            listModel.addElement(us);\n            listModel.addElement(in);\n            listModel.addElement(vn);\n            listModel.addElement(ca);\n            listModel.addElement(de);\n            listModel.addElement(fr);\n            listModel.addElement(gb);\n            listModel.addElement(jp);\n        }\n\n        public DefaultListModel&lt;Country&gt; getListModel() {\n            return listModel;\n        }\n\n    }\n    \n    public class Country {\n        \n        private final Image image;\n         \n        private final String name;\n        private final String code;\n     \n        public Country(String name, String code) {\n            this.name = name;\n            this.code = code;\n            this.image = getImage(code);\n        }\n        \n        private Image getImage(String code) {\n            Image image = null;\n            try {\n                URL url = getClass().getResource(&quot;/images/&quot; + code + &quot;.png&quot;);\n                image = ImageIO.read(url);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n            return image;\n        }\n     \n        public String getName() {\n            return name;\n        }\n     \n        public String getCode() {\n            return code;\n        }\n        \n        public Image getImage() {\n            return image;\n        }\n\n        @Override\n        public String toString() {\n            return name;\n        }\n        \n    } \n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19448399,"reputation":177,"user_id":14225385,"display_name":"Madar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641666019,"creation_date":1641666019,"answer_id":70635175,"question_id":70000338,"body_markdown":"Well I managed to solve myself by creating a JPanel with listener so it was like a JList but I can put the object I wanted in it so it even work better. \r\n\r\n","title":"Custom Render JPanel in a JList","body":"<p>Well I managed to solve myself by creating a JPanel with listener so it was like a JList but I can put the object I wanted in it so it even work better.</p>\n"}],"owner":{"account_id":19448399,"reputation":177,"user_id":14225385,"display_name":"Madar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":802,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70635175,"answer_count":2,"score":0,"last_activity_date":1641666019,"creation_date":1637133967,"question_id":70000338,"body_markdown":"I&#39;m trying to display Panel in a JList by modifying the render. \r\n\r\nI tried an example with JLabel (https://www.codejava.net/java-se/swing/jlist-custom-renderer-example) and it&#39;s works perfectly (see picture)\r\n\r\n[![Render JLabel][1]][1]\r\n\r\nSo I tried to adapt it for JPanel (instead of JLabel) but I got an interesting problem and I really don&#39;t know how to solve it.\r\n[![Render JPanel][2]][2]\r\n\r\nAs you can see, instead of appearing only one time, every country and his associated image are displayed on every line and I can&#39;t understand why. (There are 8 lines because there are 8 countries) \r\n\r\nHere is the code I made : \r\n\r\nCountryRenderer.java\r\n\r\n    import java.awt.*;\r\n    import java.io.IOException; \r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.*;\r\n\r\n    public class CountryRenderer extends JPanel implements ListCellRenderer&lt;Country&gt; {\r\n\r\n        @Override\r\n        public Component getListCellRendererComponent(JList&lt;? extends Country&gt; list, Country country, int index,\r\n            boolean isSelected, boolean cellHasFocus) {\r\n              \r\n            String code = country.getCode();\r\n            \r\n            // to load and resize the image \r\n    \t\tImage imgSettings = null;\r\n    \t\ttry {\r\n    \t\t\timgSettings = ImageIO.read(getClass().getResource(&quot;./images/&quot; + code + &quot;1.png&quot;));\r\n    \t\t} catch (IOException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\timgSettings = imgSettings.getScaledInstance(25, 25, imgSettings.SCALE_SMOOTH); \r\n             \r\n    \t\t// create the button and put the image on it\r\n            JButton buttontest = new JButton() ; \r\n            buttontest.setIcon(new ImageIcon(imgSettings));\r\n            add(buttontest); \r\n            \r\n            // create the text (name of the country) \r\n            JTextField txtest = new JTextField(); \r\n            txtest.setText(country.getName());\r\n            add(txtest); \r\n           \r\n            return this;\r\n        }\r\n    }\r\n\r\nand in case you need the 2 other files to make this run, they are on the link I put above or here : \r\n\r\nCountry.java \r\n\r\n    public class Country {\r\n    \t \r\n        private String name;\r\n        private String code;\r\n     \r\n        public Country(String name, String code) {\r\n            this.name = name;\r\n            this.code = code;\r\n        }\r\n     \r\n        public String getName() {\r\n            return name;\r\n        }\r\n     \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n     \r\n        public String getCode() {\r\n            return code;\r\n        }\r\n     \r\n        public void setCode(String code) {\r\n            this.code = code;\r\n        }\r\n        \r\n        @Override\r\n        public String toString() {\r\n            return name;\r\n        }\r\n    } \r\n\r\nAnd here is the file you can run : \r\nJListCustomRendererExample.java\r\n\r\n    import javax.swing.*;\r\n     \r\n    public class JListCustomRendererExample extends JFrame {\r\n     \r\n        public JListCustomRendererExample() {\r\n            Country us = new Country(&quot;USA&quot;, &quot;1&quot;);\r\n            Country in = new Country(&quot;India&quot;, &quot;2&quot;);\r\n            Country vn = new Country(&quot;Vietnam&quot;, &quot;3&quot;);\r\n            Country ca = new Country(&quot;Canada&quot;, &quot;4&quot;);\r\n            Country de = new Country(&quot;Denmark&quot;, &quot;5&quot;);\r\n            Country fr = new Country(&quot;France&quot;, &quot;6&quot;);\r\n            Country gb = new Country(&quot;Great Britain&quot;, &quot;7&quot;);\r\n            Country jp = new Country(&quot;Japan&quot;, &quot;8&quot;);\r\n     \r\n            //create the model and add elements\r\n            DefaultListModel&lt;Country&gt; listModel = new DefaultListModel&lt;&gt;();\r\n            listModel.addElement(us);\r\n            listModel.addElement(in);\r\n            listModel.addElement(vn);\r\n            listModel.addElement(ca);\r\n            listModel.addElement(de);\r\n            listModel.addElement(fr);\r\n            listModel.addElement(gb);\r\n            listModel.addElement(jp);\r\n     \r\n            //create the list\r\n            JList&lt;Country&gt; countryList = new JList&lt;&gt;(listModel);\r\n            add(new JScrollPane(countryList));\r\n     \r\n            this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            this.setTitle(&quot;JList Renderer Example&quot;);\r\n            this.setSize(200, 200);\r\n            this.setLocationRelativeTo(null);\r\n            this.setVisible(true);\r\n            \r\n            countryList.setCellRenderer(new CountryRenderer());\r\n        }\r\n     \r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    new JListCustomRendererExample();\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n**EDIT**\r\n\r\nI tried with the answer of @Gilbert le blanc but I still have a problem, I tried to add new element to this label, like a button and I wanted these button to have the same text on it that the name of the country row it&#39;s on. \r\nExample : on the row USA, I want the button to have &quot;USA&quot; on it. \r\n\r\nSo I added these 4 lines in the  `public Component getListCellRendererComponent` : \r\n\r\n    label.setLayout(null);\r\n    JButton test = new JButton(country.getName()); \r\n    test.setBounds(10,10,50,50);\r\n    label.add(test); \r\n\r\nAnd I got this : \r\n\r\n[![weird JButton][3]][3]\r\n\r\nThat&#39;s not what was expected and that&#39;s kinda the same problem that I had with the first question, do you know why ? And is there a solution ? \r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DoqRv.png\r\n  [2]: https://i.stack.imgur.com/uQJEe.jpg\r\n  [3]: https://i.stack.imgur.com/u7m1k.png","title":"Custom Render JPanel in a JList","body":"<p>I'm trying to display Panel in a JList by modifying the render.</p>\n<p>I tried an example with JLabel (<a href=\"https://www.codejava.net/java-se/swing/jlist-custom-renderer-example\" rel=\"nofollow noreferrer\">https://www.codejava.net/java-se/swing/jlist-custom-renderer-example</a>) and it's works perfectly (see picture)</p>\n<p><a href=\"https://i.stack.imgur.com/DoqRv.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DoqRv.png\" alt=\"Render JLabel\" /></a></p>\n<p>So I tried to adapt it for JPanel (instead of JLabel) but I got an interesting problem and I really don't know how to solve it.\n<a href=\"https://i.stack.imgur.com/uQJEe.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uQJEe.jpg\" alt=\"Render JPanel\" /></a></p>\n<p>As you can see, instead of appearing only one time, every country and his associated image are displayed on every line and I can't understand why. (There are 8 lines because there are 8 countries)</p>\n<p>Here is the code I made :</p>\n<p>CountryRenderer.java</p>\n<pre><code>import java.awt.*;\nimport java.io.IOException; \nimport javax.imageio.ImageIO;\nimport javax.swing.*;\n\npublic class CountryRenderer extends JPanel implements ListCellRenderer&lt;Country&gt; {\n\n    @Override\n    public Component getListCellRendererComponent(JList&lt;? extends Country&gt; list, Country country, int index,\n        boolean isSelected, boolean cellHasFocus) {\n          \n        String code = country.getCode();\n        \n        // to load and resize the image \n        Image imgSettings = null;\n        try {\n            imgSettings = ImageIO.read(getClass().getResource(&quot;./images/&quot; + code + &quot;1.png&quot;));\n        } catch (IOException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        imgSettings = imgSettings.getScaledInstance(25, 25, imgSettings.SCALE_SMOOTH); \n         \n        // create the button and put the image on it\n        JButton buttontest = new JButton() ; \n        buttontest.setIcon(new ImageIcon(imgSettings));\n        add(buttontest); \n        \n        // create the text (name of the country) \n        JTextField txtest = new JTextField(); \n        txtest.setText(country.getName());\n        add(txtest); \n       \n        return this;\n    }\n}\n</code></pre>\n<p>and in case you need the 2 other files to make this run, they are on the link I put above or here :</p>\n<p>Country.java</p>\n<pre><code>public class Country {\n     \n    private String name;\n    private String code;\n \n    public Country(String name, String code) {\n        this.name = name;\n        this.code = code;\n    }\n \n    public String getName() {\n        return name;\n    }\n \n    public void setName(String name) {\n        this.name = name;\n    }\n \n    public String getCode() {\n        return code;\n    }\n \n    public void setCode(String code) {\n        this.code = code;\n    }\n    \n    @Override\n    public String toString() {\n        return name;\n    }\n} \n</code></pre>\n<p>And here is the file you can run :\nJListCustomRendererExample.java</p>\n<pre><code>import javax.swing.*;\n \npublic class JListCustomRendererExample extends JFrame {\n \n    public JListCustomRendererExample() {\n        Country us = new Country(&quot;USA&quot;, &quot;1&quot;);\n        Country in = new Country(&quot;India&quot;, &quot;2&quot;);\n        Country vn = new Country(&quot;Vietnam&quot;, &quot;3&quot;);\n        Country ca = new Country(&quot;Canada&quot;, &quot;4&quot;);\n        Country de = new Country(&quot;Denmark&quot;, &quot;5&quot;);\n        Country fr = new Country(&quot;France&quot;, &quot;6&quot;);\n        Country gb = new Country(&quot;Great Britain&quot;, &quot;7&quot;);\n        Country jp = new Country(&quot;Japan&quot;, &quot;8&quot;);\n \n        //create the model and add elements\n        DefaultListModel&lt;Country&gt; listModel = new DefaultListModel&lt;&gt;();\n        listModel.addElement(us);\n        listModel.addElement(in);\n        listModel.addElement(vn);\n        listModel.addElement(ca);\n        listModel.addElement(de);\n        listModel.addElement(fr);\n        listModel.addElement(gb);\n        listModel.addElement(jp);\n \n        //create the list\n        JList&lt;Country&gt; countryList = new JList&lt;&gt;(listModel);\n        add(new JScrollPane(countryList));\n \n        this.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        this.setTitle(&quot;JList Renderer Example&quot;);\n        this.setSize(200, 200);\n        this.setLocationRelativeTo(null);\n        this.setVisible(true);\n        \n        countryList.setCellRenderer(new CountryRenderer());\n    }\n \n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                new JListCustomRendererExample();\n            }\n        });\n    }\n}\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p>I tried with the answer of @Gilbert le blanc but I still have a problem, I tried to add new element to this label, like a button and I wanted these button to have the same text on it that the name of the country row it's on.\nExample : on the row USA, I want the button to have &quot;USA&quot; on it.</p>\n<p>So I added these 4 lines in the  <code>public Component getListCellRendererComponent</code> :</p>\n<pre><code>label.setLayout(null);\nJButton test = new JButton(country.getName()); \ntest.setBounds(10,10,50,50);\nlabel.add(test); \n</code></pre>\n<p>And I got this :</p>\n<p><a href=\"https://i.stack.imgur.com/u7m1k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/u7m1k.png\" alt=\"weird JButton\" /></a></p>\n<p>That's not what was expected and that's kinda the same problem that I had with the first question, do you know why ? And is there a solution ?</p>\n"},{"tags":["java","swing","jtextpane"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1641662840,"post_id":70634742,"comment_id":124865702,"body_markdown":"Your adding a decent [mre] code post to this question would help, I believe","body":"Your adding a decent <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> code post to this question would help, I believe"},{"owner":{"account_id":19448399,"reputation":177,"user_id":14225385,"display_name":"Madar"},"score":0,"creation_date":1641663296,"post_id":70634742,"comment_id":124865800,"body_markdown":"@HovercraftFullOfEels done mate :) Mybad haha I forgot","body":"@HovercraftFullOfEels done mate :) Mybad haha I forgot"},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1641663683,"post_id":70634742,"comment_id":124865904,"body_markdown":"You can either pad your blue `Strings` with spaces, or you can use a `JList` of individual `JPanels`, each with its own `JTextArea`.","body":"You can either pad your blue <code>Strings</code> with spaces, or you can use a <code>JList</code> of individual <code>JPanels</code>, each with its own <code>JTextArea</code>."},{"owner":{"account_id":19448399,"reputation":177,"user_id":14225385,"display_name":"Madar"},"score":0,"creation_date":1641663902,"post_id":70634742,"comment_id":124865958,"body_markdown":"Well @GilbertLeBlanc if I put spaces then the blue (or gray) parts will be blue in back with nothing in front but the result will be the same. \n\nAnd about the the second solution, I&#39;ll loose the responsive so can&#39;t use this one","body":"Well @GilbertLeBlanc if I put spaces then the blue (or gray) parts will be blue in back with nothing in front but the result will be the same.   And about the the second solution, I&#39;ll loose the responsive so can&#39;t use this one"}],"answers":[{"tags":[],"owner":{"account_id":19448399,"reputation":177,"user_id":14225385,"display_name":"Madar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641665802,"creation_date":1641665802,"answer_id":70635146,"question_id":70634742,"body_markdown":"Well, after some research, I had the solution in front of my eyes all this time, the only thing I needed to do was to add left indent to the message that start at the right of the screen and right indent to the message that start at the left of the screen. \r\nHere is the example : \r\n\r\n    \r\n            StyleConstants.setLeftIndent(rightO, 100);","title":"Java Swing StyleConstants and JTextPane maximum width","body":"<p>Well, after some research, I had the solution in front of my eyes all this time, the only thing I needed to do was to add left indent to the message that start at the right of the screen and right indent to the message that start at the left of the screen.\nHere is the example :</p>\n<pre><code>        StyleConstants.setLeftIndent(rightO, 100);\n</code></pre>\n"}],"owner":{"account_id":19448399,"reputation":177,"user_id":14225385,"display_name":"Madar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641665802,"creation_date":1641662753,"question_id":70634742,"body_markdown":"So I&#39;m building a chat GUI in java, and I tried to use JTextPane with StyleConstants et SimpleAttributeSet. \r\nThe result I got is almost 100% what I want, I only got 1 minor issue. \r\n\r\nSo here is what I got for now : \r\n[![enter image description here][1]][1]\r\n\r\nThe thing is, with small text, the result is pretty good looking, but with longer text, the blue (or gray) message extends too much and they arrive at the same place the other color begin. \r\n\r\nSo, I want to &quot;delete&quot; the red parts, and by deleting I mean forcing this to be one line below and have a blank space where the red parts are. \r\n\r\n[![enter image description here][2]][2]\r\n\r\nWhat I want is more like this : \r\n[![enter image description here][3]][3] \r\n\r\nAs you can see, even with long text, there is a small difference between where the blue text extends and where the gray text begin. And I&#39;ll like to &quot;force&quot; that, with something like a maximum width or something but I can&#39;t find how. \r\n\r\n\r\nHere is the code to reproduce this : \r\n\r\n\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Color;\r\n    import java.awt.ComponentOrientation;\r\n    import java.awt.Font;\r\n    import java.awt.GridBagConstraints;\r\n    import java.awt.GridBagLayout;\r\n    import java.awt.Insets;\r\n    import java.awt.event.ActionEvent;\r\n    import java.awt.event.ActionListener;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JEditorPane;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextArea;\r\n    import javax.swing.JTextField;\r\n    import javax.swing.JTextPane;\r\n    import javax.swing.SwingUtilities;\r\n    import javax.swing.UIManager;\r\n    import javax.swing.text.BadLocationException;\r\n    import javax.swing.text.Document;\r\n    import javax.swing.text.SimpleAttributeSet;\r\n    import javax.swing.text.StyleConstants;\r\n    import javax.swing.text.StyledDocument;\r\n    \r\n    public class MainGUI {\r\n    \r\n        String      appName     = &quot;Colt Chat v0.1&quot;;\r\n        MainGUI     mainGUI;\r\n        JFrame      newFrame    = new JFrame(appName);\r\n        JButton     sendMessage;\r\n        JTextField  messageBox;\r\n        JTextPane   chatBox;\r\n        JTextField  usernameChooser;\r\n        JFrame      preFrame;\r\n    \r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        UIManager.setLookAndFeel(UIManager\r\n                                .getSystemLookAndFeelClassName());\r\n                    } catch (Exception e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                    MainGUI mainGUI = new MainGUI();\r\n                    mainGUI.display();\r\n                }\r\n            });\r\n        }\r\n\r\n    \r\n        public void display() {\r\n            JPanel mainPanel = new JPanel();\r\n            mainPanel.setLayout(new BorderLayout());\r\n    \r\n            JPanel southPanel = new JPanel();\r\n            southPanel.setBackground(Color.BLUE);\r\n            southPanel.setLayout(new GridBagLayout());\r\n    \r\n            messageBox = new JTextField(30);\r\n            messageBox.requestFocusInWindow();\r\n    \r\n            sendMessage = new JButton(&quot;Send Message&quot;);\r\n            sendMessage.addActionListener(new sendMessageButtonListener());\r\n    \r\n            chatBox = new JTextPane();\r\n            chatBox.setEditable(false);\r\n            chatBox.setFont(new Font(&quot;Serif&quot;, Font.PLAIN, 15)) ; \r\n            //chatBox.setLineWrap(true);\r\n    \r\n    \r\n            JScrollPane scrollPane = new JScrollPane(chatBox);\r\n            mainPanel.add(scrollPane, BorderLayout.CENTER);\r\n            \r\n            textPane = new JTextPane();\r\n            scrollPane.setRowHeaderView(textPane);\r\n    \r\n            GridBagConstraints left = new GridBagConstraints();\r\n            left.insets = new Insets(0, 0, 0, 5);\r\n            left.gridx = 0;\r\n            left.gridy = 0;\r\n            left.anchor = GridBagConstraints.LINE_START;\r\n            left.fill = GridBagConstraints.HORIZONTAL;\r\n            left.weightx = 512.0D;\r\n            left.weighty = 1.0D;\r\n    \r\n            GridBagConstraints right = new GridBagConstraints();\r\n            right.gridx = 2;\r\n            right.gridy = 0;\r\n            right.insets = new Insets(0, 10, 0, 0);\r\n            right.anchor = GridBagConstraints.LINE_END;\r\n            right.fill = GridBagConstraints.NONE;\r\n            right.weightx = 1.0D;\r\n            right.weighty = 1.0D;\r\n    \r\n            southPanel.add(messageBox, left);\r\n            \r\n            btnNewButton = new JButton(&quot;New button&quot;);\r\n            btnNewButton.addActionListener(new sendMessageButtonListener2());\r\n    \r\n            \r\n            GridBagConstraints gbc_btnNewButton = new GridBagConstraints();\r\n            gbc_btnNewButton.insets = new Insets(0, 0, 0, 5);\r\n            gbc_btnNewButton.gridx = 1;\r\n            gbc_btnNewButton.gridy = 0;\r\n            southPanel.add(btnNewButton, gbc_btnNewButton);\r\n            southPanel.add(sendMessage, right);\r\n    \r\n            mainPanel.add(BorderLayout.SOUTH, southPanel);\r\n    \r\n            \r\n            \r\n            newFrame.getContentPane().add(mainPanel);\r\n            newFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            newFrame.setSize(470, 300);\r\n            newFrame.setVisible(true);\r\n        }\r\n    \r\n        class sendMessageButtonListener implements ActionListener {\r\n            public void actionPerformed(ActionEvent event) {\r\n            \t\r\n            \tStyledDocument doc = chatBox.getStyledDocument();  \r\n                SimpleAttributeSet rightO = new SimpleAttributeSet();\r\n                StyleConstants.setAlignment(rightO, StyleConstants.ALIGN_RIGHT);\r\n                StyleConstants.setBackground(rightO, Color.RED);\r\n                StyleConstants.setBackground(rightO, new Color(59,130,247));\r\n                StyleConstants.setForeground(rightO, new Color(255,255,255)); \r\n                StyleConstants.setRightIndent(rightO, 10);\r\n            \tif (messageBox.getText().length() &lt; 1) {\r\n                    // do nothing\r\n                } else if (messageBox.getText().equals(&quot;.clear&quot;)) {\r\n                    chatBox.setText(&quot;Cleared all messages\\n&quot;);\r\n                    messageBox.setText(&quot;&quot;);\r\n                } else {\r\n                \t//chatBox.setComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);\r\n                    \r\n                    //chatBox.append(&quot;&lt;&quot; + username + &quot;&gt;:  &quot; + messageBox.getText() + &quot;\\n&quot;);\r\n                    try {\r\n                    \tint length = doc.getLength();\r\n    \r\n                    \tchatBox.getDocument().insertString(doc.getLength(), &quot;\\n\\n&quot;+messageBox.getText(), rightO);\r\n                \t    chatBox.setParagraphAttributes(rightO, false);\r\n                \t    \r\n    \t\t\t\t} catch (BadLocationException e) {\r\n    \t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n                    messageBox.setText(&quot;&quot;);\r\n                }\r\n                messageBox.requestFocusInWindow();\r\n            }\r\n        }\r\n        \r\n        class sendMessageButtonListener2 implements ActionListener {\r\n        \t public void actionPerformed(ActionEvent event) {\r\n             \t\r\n                 StyledDocument doc = chatBox.getStyledDocument();  \r\n                 SimpleAttributeSet leftO = new SimpleAttributeSet();\r\n                 StyleConstants.setAlignment(leftO, StyleConstants.ALIGN_LEFT);\r\n                 StyleConstants.setBackground(leftO, new Color(60,60,60));\r\n                 StyleConstants.setForeground(leftO, new Color(255,255,255));\r\n                 StyleConstants.setLeftIndent(leftO, 10);\r\n             \t\r\n                 if (messageBox.getText().length() &lt; 1) {\r\n                     // do nothing\r\n                 } else if (messageBox.getText().equals(&quot;.clear&quot;)) {\r\n                     chatBox.setText(&quot;Cleared all messages\\n&quot;);\r\n                     messageBox.setText(&quot;&quot;);\r\n                 } else {\r\n                 \t//chatBox.setComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);\r\n                     \r\n                     //chatBox.append(&quot;&lt;&quot; + username + &quot;&gt;:  &quot; + messageBox.getText() + &quot;\\n&quot;);\r\n                     try {\r\n                     \t\r\n                     \tint length = doc.getLength();\r\n                     \tchatBox.getDocument().insertString(doc.getLength(), &quot;\\n\\n&quot;+messageBox.getText(), leftO);\r\n                 \t    chatBox.setParagraphAttributes(leftO, false);\r\n                 \t   \r\n     \t\t\t\t} catch (BadLocationException e) {\r\n     \t\t\t\t\t// TODO Auto-generated catch block\r\n     \t\t\t\t\te.printStackTrace();\r\n     \t\t\t\t}\r\n                     messageBox.setText(&quot;&quot;);\r\n                 }\r\n                 messageBox.requestFocusInWindow();\r\n             }\r\n        }\r\n    \r\n        String  username;\r\n        private JButton btnNewButton;\r\n        private JTextPane textPane;\r\n    \r\n        class enterServerButtonListener implements ActionListener {\r\n            public void actionPerformed(ActionEvent event) {\r\n                username = usernameChooser.getText();\r\n                if (username.length() &lt; 1) {\r\n                    System.out.println(&quot;No!&quot;);\r\n                } else {\r\n                    preFrame.setVisible(false);\r\n                    display();\r\n                }\r\n            }\r\n    \r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hdKz7.png\r\n  [2]: https://i.stack.imgur.com/ZX5lM.png\r\n  [3]: https://i.stack.imgur.com/qzKBm.png","title":"Java Swing StyleConstants and JTextPane maximum width","body":"<p>So I'm building a chat GUI in java, and I tried to use JTextPane with StyleConstants et SimpleAttributeSet.\nThe result I got is almost 100% what I want, I only got 1 minor issue.</p>\n<p>So here is what I got for now :\n<a href=\"https://i.stack.imgur.com/hdKz7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hdKz7.png\" alt=\"enter image description here\" /></a></p>\n<p>The thing is, with small text, the result is pretty good looking, but with longer text, the blue (or gray) message extends too much and they arrive at the same place the other color begin.</p>\n<p>So, I want to &quot;delete&quot; the red parts, and by deleting I mean forcing this to be one line below and have a blank space where the red parts are.</p>\n<p><a href=\"https://i.stack.imgur.com/ZX5lM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZX5lM.png\" alt=\"enter image description here\" /></a></p>\n<p>What I want is more like this :\n<a href=\"https://i.stack.imgur.com/qzKBm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qzKBm.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see, even with long text, there is a small difference between where the blue text extends and where the gray text begin. And I'll like to &quot;force&quot; that, with something like a maximum width or something but I can't find how.</p>\n<p>Here is the code to reproduce this :</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.ComponentOrientation;\nimport java.awt.Font;\nimport java.awt.GridBagConstraints;\nimport java.awt.GridBagLayout;\nimport java.awt.Insets;\nimport java.awt.event.ActionEvent;\nimport java.awt.event.ActionListener;\nimport javax.swing.JButton;\nimport javax.swing.JEditorPane;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\nimport javax.swing.JTextField;\nimport javax.swing.JTextPane;\nimport javax.swing.SwingUtilities;\nimport javax.swing.UIManager;\nimport javax.swing.text.BadLocationException;\nimport javax.swing.text.Document;\nimport javax.swing.text.SimpleAttributeSet;\nimport javax.swing.text.StyleConstants;\nimport javax.swing.text.StyledDocument;\n\npublic class MainGUI {\n\n    String      appName     = &quot;Colt Chat v0.1&quot;;\n    MainGUI     mainGUI;\n    JFrame      newFrame    = new JFrame(appName);\n    JButton     sendMessage;\n    JTextField  messageBox;\n    JTextPane   chatBox;\n    JTextField  usernameChooser;\n    JFrame      preFrame;\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    UIManager.setLookAndFeel(UIManager\n                            .getSystemLookAndFeelClassName());\n                } catch (Exception e) {\n                    e.printStackTrace();\n                }\n                MainGUI mainGUI = new MainGUI();\n                mainGUI.display();\n            }\n        });\n    }\n\n\n    public void display() {\n        JPanel mainPanel = new JPanel();\n        mainPanel.setLayout(new BorderLayout());\n\n        JPanel southPanel = new JPanel();\n        southPanel.setBackground(Color.BLUE);\n        southPanel.setLayout(new GridBagLayout());\n\n        messageBox = new JTextField(30);\n        messageBox.requestFocusInWindow();\n\n        sendMessage = new JButton(&quot;Send Message&quot;);\n        sendMessage.addActionListener(new sendMessageButtonListener());\n\n        chatBox = new JTextPane();\n        chatBox.setEditable(false);\n        chatBox.setFont(new Font(&quot;Serif&quot;, Font.PLAIN, 15)) ; \n        //chatBox.setLineWrap(true);\n\n\n        JScrollPane scrollPane = new JScrollPane(chatBox);\n        mainPanel.add(scrollPane, BorderLayout.CENTER);\n        \n        textPane = new JTextPane();\n        scrollPane.setRowHeaderView(textPane);\n\n        GridBagConstraints left = new GridBagConstraints();\n        left.insets = new Insets(0, 0, 0, 5);\n        left.gridx = 0;\n        left.gridy = 0;\n        left.anchor = GridBagConstraints.LINE_START;\n        left.fill = GridBagConstraints.HORIZONTAL;\n        left.weightx = 512.0D;\n        left.weighty = 1.0D;\n\n        GridBagConstraints right = new GridBagConstraints();\n        right.gridx = 2;\n        right.gridy = 0;\n        right.insets = new Insets(0, 10, 0, 0);\n        right.anchor = GridBagConstraints.LINE_END;\n        right.fill = GridBagConstraints.NONE;\n        right.weightx = 1.0D;\n        right.weighty = 1.0D;\n\n        southPanel.add(messageBox, left);\n        \n        btnNewButton = new JButton(&quot;New button&quot;);\n        btnNewButton.addActionListener(new sendMessageButtonListener2());\n\n        \n        GridBagConstraints gbc_btnNewButton = new GridBagConstraints();\n        gbc_btnNewButton.insets = new Insets(0, 0, 0, 5);\n        gbc_btnNewButton.gridx = 1;\n        gbc_btnNewButton.gridy = 0;\n        southPanel.add(btnNewButton, gbc_btnNewButton);\n        southPanel.add(sendMessage, right);\n\n        mainPanel.add(BorderLayout.SOUTH, southPanel);\n\n        \n        \n        newFrame.getContentPane().add(mainPanel);\n        newFrame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        newFrame.setSize(470, 300);\n        newFrame.setVisible(true);\n    }\n\n    class sendMessageButtonListener implements ActionListener {\n        public void actionPerformed(ActionEvent event) {\n            \n            StyledDocument doc = chatBox.getStyledDocument();  \n            SimpleAttributeSet rightO = new SimpleAttributeSet();\n            StyleConstants.setAlignment(rightO, StyleConstants.ALIGN_RIGHT);\n            StyleConstants.setBackground(rightO, Color.RED);\n            StyleConstants.setBackground(rightO, new Color(59,130,247));\n            StyleConstants.setForeground(rightO, new Color(255,255,255)); \n            StyleConstants.setRightIndent(rightO, 10);\n            if (messageBox.getText().length() &lt; 1) {\n                // do nothing\n            } else if (messageBox.getText().equals(&quot;.clear&quot;)) {\n                chatBox.setText(&quot;Cleared all messages\\n&quot;);\n                messageBox.setText(&quot;&quot;);\n            } else {\n                //chatBox.setComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);\n                \n                //chatBox.append(&quot;&lt;&quot; + username + &quot;&gt;:  &quot; + messageBox.getText() + &quot;\\n&quot;);\n                try {\n                    int length = doc.getLength();\n\n                    chatBox.getDocument().insertString(doc.getLength(), &quot;\\n\\n&quot;+messageBox.getText(), rightO);\n                    chatBox.setParagraphAttributes(rightO, false);\n                    \n                } catch (BadLocationException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n                messageBox.setText(&quot;&quot;);\n            }\n            messageBox.requestFocusInWindow();\n        }\n    }\n    \n    class sendMessageButtonListener2 implements ActionListener {\n         public void actionPerformed(ActionEvent event) {\n            \n             StyledDocument doc = chatBox.getStyledDocument();  \n             SimpleAttributeSet leftO = new SimpleAttributeSet();\n             StyleConstants.setAlignment(leftO, StyleConstants.ALIGN_LEFT);\n             StyleConstants.setBackground(leftO, new Color(60,60,60));\n             StyleConstants.setForeground(leftO, new Color(255,255,255));\n             StyleConstants.setLeftIndent(leftO, 10);\n            \n             if (messageBox.getText().length() &lt; 1) {\n                 // do nothing\n             } else if (messageBox.getText().equals(&quot;.clear&quot;)) {\n                 chatBox.setText(&quot;Cleared all messages\\n&quot;);\n                 messageBox.setText(&quot;&quot;);\n             } else {\n                //chatBox.setComponentOrientation(ComponentOrientation.RIGHT_TO_LEFT);\n                 \n                 //chatBox.append(&quot;&lt;&quot; + username + &quot;&gt;:  &quot; + messageBox.getText() + &quot;\\n&quot;);\n                 try {\n                    \n                    int length = doc.getLength();\n                    chatBox.getDocument().insertString(doc.getLength(), &quot;\\n\\n&quot;+messageBox.getText(), leftO);\n                    chatBox.setParagraphAttributes(leftO, false);\n                   \n                } catch (BadLocationException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n                 messageBox.setText(&quot;&quot;);\n             }\n             messageBox.requestFocusInWindow();\n         }\n    }\n\n    String  username;\n    private JButton btnNewButton;\n    private JTextPane textPane;\n\n    class enterServerButtonListener implements ActionListener {\n        public void actionPerformed(ActionEvent event) {\n            username = usernameChooser.getText();\n            if (username.length() &lt; 1) {\n                System.out.println(&quot;No!&quot;);\n            } else {\n                preFrame.setVisible(false);\n                display();\n            }\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-security","ldap"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":1,"creation_date":1564575492,"post_id":57289620,"comment_id":101075581,"body_markdown":"Your are using Active Directory, so you have to use `ActiveDirectoryLdapAuthenticationProvider`, see [Spring Security Reference](https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#ldap-active-directory).","body":"Your are using Active Directory, so you have to use <code>ActiveDirectoryLdapAuthenticationProvider</code>, see <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/htmlsingle/#ldap-active-directory\" rel=\"nofollow noreferrer\">Spring Security Reference</a>."},{"owner":{"account_id":2979716,"reputation":12923,"user_id":2529954,"display_name":"EricLavault"},"score":0,"creation_date":1564592264,"post_id":57289620,"comment_id":101085567,"body_markdown":"Assuming *&quot;password and username is correct&quot;* refers to the manager account used for ldap binding, and that your application use case is about authenticating actual users (not that technical account), and that the *&quot;Bad credentials&quot;* refers to one of this actual users - We need to know what does a generic user dn looks like, I mean a &quot;user base&quot; is probably missing behind `CN={0}` (eg.`CN={0},ou=Users`) in `auth.ldapAuthentication().userDnPatterns(&quot;CN={0}&quot;)`. See this [post](https://stackoverflow.com/a/56076765/2529954) for more info.","body":"Assuming <i>&quot;password and username is correct&quot;</i> refers to the manager account used for ldap binding, and that your application use case is about authenticating actual users (not that technical account), and that the <i>&quot;Bad credentials&quot;</i> refers to one of this actual users - We need to know what does a generic user dn looks like, I mean a &quot;user base&quot; is probably missing behind <code>CN={0}</code> (eg.<code>CN={0},ou=Users</code>) in <code>auth.ldapAuthentication().userDnPatterns(&quot;CN={0}&quot;)</code>. See this <a href=\"https://stackoverflow.com/a/56076765/2529954\">post</a> for more info."},{"owner":{"account_id":427236,"reputation":2707,"user_id":808891,"accept_rate":97,"display_name":"Somebody"},"score":0,"creation_date":1573570870,"post_id":57289620,"comment_id":103919520,"body_markdown":"See: https://stackoverflow.com/questions/35208404/spring-boot-ldap-authentication-always-get-bad-credentials/58821231#58821231","body":"See: <a href=\"https://stackoverflow.com/questions/35208404/spring-boot-ldap-authentication-always-get-bad-credentials/58821231#58821231\" title=\"spring boot ldap authentication always get bad credentials\">stackoverflow.com/questions/35208404/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10484074,"reputation":1,"user_id":7728222,"display_name":"Rafael Barrientos Holder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641665767,"creation_date":1641665056,"answer_id":70635040,"question_id":57289620,"body_markdown":"Try this found for my:\r\n\r\n  \r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @RestController\r\n    public class AutentificacionLdap extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Value(&quot;${config.url_ldap}&quot;)\r\n        String url_ldap;\r\n        @Value(&quot;${config.usuario_ldap}&quot;)\r\n        String usuario_ldap;\r\n        @Value(&quot;${config.password_ldap}&quot;)\r\n        String password_ldap;\r\n        @Value(&quot;${config.userSearchFilter}&quot;)\r\n        String userSearchFilter;\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n            httpSecurity\r\n                    .authorizeRequests()\r\n                    .antMatchers(HttpMethod.GET, &quot;/**&quot;).permitAll()\r\n                    .antMatchers(&quot;/users/login/**&quot;).permitAll()\r\n                    .antMatchers(&quot;/datawatcher/&quot;).authenticated()\r\n                    .anyRequest()\r\n                    .authenticated()\r\n                    .and()\r\n                    .httpBasic();\r\n        }\r\n    \r\n    \r\n        @Override\r\n        protected void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n    \r\n            authenticationManagerBuilder\r\n                    .ldapAuthentication()\r\n                    .contextSource()\r\n                    .url(url_ldap)\r\n                    .managerDn(usuario_ldap)\r\n                    .managerPassword(password_ldap)\r\n                    .and()\r\n                    .userSearchFilter(userSearchFilter);\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nUse .httpBasic();\r\n\r\nAnd put in application.properties (but if you want put in class)\r\n\r\n  \r\n     #Conectar y Autentificar con LDAP\r\n    config.url_ldap=ldap://localhost:3268/dc=javadev,dc=com\r\n    config.usuario_ldap=CN=userforConnect,CN=Users,DC=javadev,DC=com\r\n    config.password_ldap=password\r\n    config.userSearchFilter=CN={0}","title":"Bad credentials when using ldap in spring boot","body":"<p>Try this found for my:</p>\n<pre><code>@Configuration\n@EnableWebSecurity\n@RestController\npublic class AutentificacionLdap extends WebSecurityConfigurerAdapter {\n\n    @Value(&quot;${config.url_ldap}&quot;)\n    String url_ldap;\n    @Value(&quot;${config.usuario_ldap}&quot;)\n    String usuario_ldap;\n    @Value(&quot;${config.password_ldap}&quot;)\n    String password_ldap;\n    @Value(&quot;${config.userSearchFilter}&quot;)\n    String userSearchFilter;\n\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity\n                .authorizeRequests()\n                .antMatchers(HttpMethod.GET, &quot;/**&quot;).permitAll()\n                .antMatchers(&quot;/users/login/**&quot;).permitAll()\n                .antMatchers(&quot;/datawatcher/&quot;).authenticated()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .httpBasic();\n    }\n\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n\n        authenticationManagerBuilder\n                .ldapAuthentication()\n                .contextSource()\n                .url(url_ldap)\n                .managerDn(usuario_ldap)\n                .managerPassword(password_ldap)\n                .and()\n                .userSearchFilter(userSearchFilter);\n\n    }\n\n}\n</code></pre>\n<p>Use .httpBasic();</p>\n<p>And put in application.properties (but if you want put in class)</p>\n<pre><code> #Conectar y Autentificar con LDAP\nconfig.url_ldap=ldap://localhost:3268/dc=javadev,dc=com\nconfig.usuario_ldap=CN=userforConnect,CN=Users,DC=javadev,DC=com\nconfig.password_ldap=password\nconfig.userSearchFilter=CN={0}\n</code></pre>\n"}],"owner":{"account_id":10636523,"reputation":198,"user_id":7833063,"display_name":"seyed ali ziaei"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":794,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641665767,"creation_date":1564572153,"question_id":57289620,"body_markdown":"I&#39;m using Spring-Security and ldap for authentication.My frontend is Angular.\r\n\r\nWhen i will test ldap authentication ,login page show \r\n\r\n\r\n&gt; Bad credentials\r\n\r\n[![enter image description here][1]][1]\r\n\r\nbut my password and username is correct\r\n\r\nplease help me.\r\n\r\n    @Configuration\r\n    public class WebSecurityConfig extends WebSecurityConfigurerAdapter {\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.authorizeRequests().anyRequest().fullyAuthenticated().and().formLogin();\r\n        }\r\n    \r\n        @Override\r\n        public void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.ldapAuthentication().userDnPatterns(&quot;CN={0}&quot;)\r\n                    .contextSource().url(&quot;ldap://dc.msv.net:389/dc=msv,dc=net&quot;)\r\n                    .managerDn(&quot;CN=automation,CN=Users,DC=msv,DC=net&quot;).managerPassword(&quot;Y@sin@72&quot;);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/09UHG.jpg","title":"Bad credentials when using ldap in spring boot","body":"<p>I'm using Spring-Security and ldap for authentication.My frontend is Angular.</p>\n\n<p>When i will test ldap authentication ,login page show </p>\n\n<blockquote>\n  <p>Bad credentials</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/09UHG.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/09UHG.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>but my password and username is correct</p>\n\n<p>please help me.</p>\n\n<pre><code>@Configuration\npublic class WebSecurityConfig extends WebSecurityConfigurerAdapter {\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests().anyRequest().fullyAuthenticated().and().formLogin();\n    }\n\n    @Override\n    public void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.ldapAuthentication().userDnPatterns(\"CN={0}\")\n                .contextSource().url(\"ldap://dc.msv.net:389/dc=msv,dc=net\")\n                .managerDn(\"CN=automation,CN=Users,DC=msv,DC=net\").managerPassword(\"Y@sin@72\");\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","java.util.concurrent"],"owner":{"account_id":7498629,"reputation":149,"user_id":5697889,"display_name":"Amandeep"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1641665694,"creation_date":1641665694,"question_id":70635128,"body_markdown":"i am trying to implement a cache between parallel/concurrent web requests where second web request comes while first request is still collecting data say from database and within predefined time interval of first request. In this case second request should use the same data fetched by first request and wait for first request to completely get it. Cache is no longer valid if first request completes. For any request after that this will again repeat. One solution in mind is to use an instance variable in Controller of type CompletableFuture \r\n\r\nto keep things simple ignore race conditions and how first time it will be created in the snippets\r\n```\r\npublic class RequestController {\r\nInstant cacheCreatedAt;\r\nCompletableFuture&lt;Data&gt; cache;\r\nlong cacheValidForMS; //configurable say 2000ms\r\n@GetMapping(&quot;data&quot;)\r\npublic Data getData() {\r\n\r\nif (//request comes and checks if request time and cacheCreatedAt falls with in cacheValidForMS)\r\nreturn cache.get()\r\n\r\n//else create a CompletableFuture\r\ncache = new CompletableFuture&lt;&gt;();\r\ncacheCreatedAt = Instant.now()\r\nData data = getData();\r\ncache.complete(data);\r\nreturn data;\r\n\r\n\r\n}\r\n\r\n\r\n}\r\n\r\n```","title":"parallel GET web request cache","body":"<p>i am trying to implement a cache between parallel/concurrent web requests where second web request comes while first request is still collecting data say from database and within predefined time interval of first request. In this case second request should use the same data fetched by first request and wait for first request to completely get it. Cache is no longer valid if first request completes. For any request after that this will again repeat. One solution in mind is to use an instance variable in Controller of type CompletableFuture</p>\n<p>to keep things simple ignore race conditions and how first time it will be created in the snippets</p>\n<pre><code>public class RequestController {\nInstant cacheCreatedAt;\nCompletableFuture&lt;Data&gt; cache;\nlong cacheValidForMS; //configurable say 2000ms\n@GetMapping(&quot;data&quot;)\npublic Data getData() {\n\nif (//request comes and checks if request time and cacheCreatedAt falls with in cacheValidForMS)\nreturn cache.get()\n\n//else create a CompletableFuture\ncache = new CompletableFuture&lt;&gt;();\ncacheCreatedAt = Instant.now()\nData data = getData();\ncache.complete(data);\nreturn data;\n\n\n}\n\n\n}\n\n</code></pre>\n"},{"tags":["java","simpledateformat"],"comments":[{"owner":{"account_id":3618847,"reputation":867,"user_id":17695211,"display_name":"Alexey Veleshko"},"score":0,"creation_date":1641666101,"post_id":70634871,"comment_id":124866519,"body_markdown":"People this use `Date`?","body":"People this use <code>Date</code>?"}],"answers":[{"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1641664008,"creation_date":1641664008,"answer_id":70634901,"question_id":70634871,"body_markdown":"`d`, not `D` for the day of the month. `D` is the day in the year, so 8 is the 8 of January.\r\n\r\n    String date_str = &quot;Tue Mar 08 09:44:55 EST 2022&quot;;\r\n      \r\n    Date date = new SimpleDateFormat(&quot;EEE MMM d HH:mm:ss z yyyy&quot;).parse(date_str);\r\n                                           // ^---Here\r\n\r\n    // Output: Tue Mar 08 15:44:55 CET 2022\r\n\r\nCheck the full list of patterns [here](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/SimpleDateFormat.html).","title":"SimpleDateFormat returning the wrong date in Java","body":"<p><code>d</code>, not <code>D</code> for the day of the month. <code>D</code> is the day in the year, so 8 is the 8 of January.</p>\n<pre><code>String date_str = &quot;Tue Mar 08 09:44:55 EST 2022&quot;;\n  \nDate date = new SimpleDateFormat(&quot;EEE MMM d HH:mm:ss z yyyy&quot;).parse(date_str);\n                                       // ^---Here\n\n// Output: Tue Mar 08 15:44:55 CET 2022\n</code></pre>\n<p>Check the full list of patterns <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":16457616,"reputation":13,"user_id":11889467,"display_name":"debosmebo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70634901,"answer_count":1,"score":1,"last_activity_date":1641664721,"creation_date":1641663736,"question_id":70634871,"body_markdown":"I&#39;m having an issue with SimpleDateFormat in Java. My code is returning the wrong date.  Help please.\r\n\r\n    String date_str = &quot;Tue Mar 08 09:44:55 EST 2022&quot;;\r\n      \r\n    Date date = new SimpleDateFormat(&quot;EEE MMM D HH:mm:ss z yyyy&quot;).parse(date_str);\r\n\r\n    // Output: Sat Jan 08 14:44:55 GMT 2022","title":"SimpleDateFormat returning the wrong date in Java","body":"<p>I'm having an issue with SimpleDateFormat in Java. My code is returning the wrong date.  Help please.</p>\n<pre><code>String date_str = &quot;Tue Mar 08 09:44:55 EST 2022&quot;;\n  \nDate date = new SimpleDateFormat(&quot;EEE MMM D HH:mm:ss z yyyy&quot;).parse(date_str);\n\n// Output: Sat Jan 08 14:44:55 GMT 2022\n</code></pre>\n"},{"tags":["java","sparql","rdf","jena","tdb"],"comments":[{"owner":{"account_id":394579,"reputation":16420,"user_id":757100,"display_name":"AndyS"},"score":0,"creation_date":1641569225,"post_id":70620462,"comment_id":124845355,"body_markdown":"Could you turn it into a minimal example please? One line of data; minimal query. And TDB1 or TDB2? &quot;in_memory_server&quot; -- so this is TDB in-memory? JIRA for Jena at https://issues.apache.org/jira/issues/ - if you could create a ticket and add the files there that would be great.","body":"Could you turn it into a minimal example please? One line of data; minimal query. And TDB1 or TDB2? &quot;in_memory_server&quot; -- so this is TDB in-memory? JIRA for Jena at <a href=\"https://issues.apache.org/jira/issues/\" rel=\"nofollow noreferrer\">issues.apache.org/jira/issues</a> - if you could create a ticket and add the files there that would be great."},{"owner":{"account_id":394579,"reputation":16420,"user_id":757100,"display_name":"AndyS"},"score":0,"creation_date":1641569585,"post_id":70620462,"comment_id":124845500,"body_markdown":"The plain SPARQL query is different - it matches the asserted statement, not the quoted triple.","body":"The plain SPARQL query is different - it matches the asserted statement, not the quoted triple."},{"owner":{"account_id":394579,"reputation":16420,"user_id":757100,"display_name":"AndyS"},"score":0,"creation_date":1641569601,"post_id":70620462,"comment_id":124845509,"body_markdown":"PS (unrelated) `QueryExecutionHTTP.service(endpointURL).query(&quot;...&quot;).select();` will do the query call in one line.","body":"PS (unrelated) <code>QueryExecutionHTTP.service(endpointURL).query(&quot;...&quot;).select(&zwnj;&#8203;);</code> will do the query call in one line."},{"owner":{"account_id":7120536,"reputation":358,"user_id":5445329,"accept_rate":58,"display_name":"Greenfish"},"score":0,"creation_date":1641580623,"post_id":70620462,"comment_id":124850102,"body_markdown":"just made an update to this issue","body":"just made an update to this issue"},{"owner":{"account_id":394579,"reputation":16420,"user_id":757100,"display_name":"AndyS"},"score":0,"creation_date":1641595618,"post_id":70620462,"comment_id":124854267,"body_markdown":"How did you load the data into the server? Is the server Fuseki?","body":"How did you load the data into the server? Is the server Fuseki?"},{"owner":{"account_id":7120536,"reputation":358,"user_id":5445329,"accept_rate":58,"display_name":"Greenfish"},"score":0,"creation_date":1641654931,"post_id":70620462,"comment_id":124863750,"body_markdown":"with the TDBLoader. But the problem I identified now is the encoding of this string in the dataset itself.","body":"with the TDBLoader. But the problem I identified now is the encoding of this string in the dataset itself."},{"owner":{"account_id":394579,"reputation":16420,"user_id":757100,"display_name":"AndyS"},"score":0,"creation_date":1641746867,"post_id":70620462,"comment_id":124881303,"body_markdown":"But still it should load and query without crashing unless tdbloader fails (it is not transactional) on a parse error. So if you have the part of the data that cause the problem, that would be helpful.","body":"But still it should load and query without crashing unless tdbloader fails (it is not transactional) on a parse error. So if you have the part of the data that cause the problem, that would be helpful."}],"answers":[{"tags":[],"owner":{"account_id":7120536,"reputation":358,"user_id":5445329,"accept_rate":58,"display_name":"Greenfish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641664426,"creation_date":1641664426,"answer_id":70634958,"question_id":70620462,"body_markdown":"The problem seems not to be related to the Java Jena API but to python&#39;s rdflib. I will open another question about the specific issue with rdflib.","title":"Illegal escape sequence value when executing a SPARQL against Jena TDB query via Jena&#39;s Java API","body":"<p>The problem seems not to be related to the Java Jena API but to python's rdflib. I will open another question about the specific issue with rdflib.</p>\n"}],"owner":{"account_id":7120536,"reputation":358,"user_id":5445329,"accept_rate":58,"display_name":"Greenfish"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":134,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641664426,"creation_date":1641554404,"question_id":70620462,"body_markdown":"I am running an SPARQL* query against Jena&#39;s TDB where the result set (DBPedia logs) contains escpace characters. To run the query I use org.apache.jena.query.QueryExecution like the following:\r\n\r\n    query = &quot;SELECT  *\r\n    WHERE\r\n      { &lt;&lt; ?s &lt;http://dbpedia.org/property/cover&gt; ?o &gt;&gt;\r\n                  vers:valid_from   ?valid_from ;\r\n                  vers:valid_until  ?valid_until\r\n        BIND(&quot;2022-01-05T21:42:11.803+02:00&quot;^^xsd:dateTime AS ?TimeOfExecution)\r\n        FILTER ( ( ?valid_from &lt;= ?TimeOfExecution ) &amp;&amp; ( ?TimeOfExecution &lt; ?valid_until ) )\r\n      }&quot;\r\n    conn = RDFConnection.connect(String.format(&quot;http://localhost:%d/in_memory_server/sparql&quot;, server.getHttpPort()));\r\n    QueryExecution qExec = conn.query(query);\r\n\r\nand I get the following exception:\r\n\r\n\r\n    \r\n    Exception in thread &quot;main&quot; org.apache.jena.atlas.json.JsonParseException: illegal escape sequence value: f (0x66)\r\n    \tat org.apache.jena.atlas.json.io.parser.TokenizerJSON.exception(TokenizerJSON.java:757)\r\n    \tat org.apache.jena.atlas.json.io.parser.TokenizerJSON.exception(TokenizerJSON.java:749)\r\n    \tat org.apache.jena.atlas.json.io.parser.TokenizerJSON.readLiteralEscape(TokenizerJSON.java:669)\r\n    \tat org.apache.jena.atlas.json.io.parser.TokenizerJSON.allBetween(TokenizerJSON.java:559)\r\n    \tat org.apache.jena.atlas.json.io.parser.TokenizerJSON.parseToken(TokenizerJSON.java:138)\r\n    \tat org.apache.jena.atlas.json.io.parser.TokenizerJSON.hasNext(TokenizerJSON.java:75)\r\n    \tat org.apache.jena.atlas.iterator.PeekIterator.fill(PeekIterator.java:50)\r\n    \tat org.apache.jena.atlas.iterator.PeekIterator.next(PeekIterator.java:92)\r\n    \tat org.apache.jena.atlas.json.io.parser.JSONParserBase.nextToken(JSONParserBase.java:102)\r\n    \tat org.apache.jena.atlas.json.io.parser.JSONP.parseObject(JSONP.java:75)\r\n    \tat org.apache.jena.atlas.json.io.parser.JSONP.parseAny(JSONP.java:97)\r\n    \tat org.apache.jena.atlas.json.io.parser.JSONP.parseObject(JSONP.java:79)\r\n    \tat org.apache.jena.atlas.json.io.parser.JSONP.parseAny(JSONP.java:97)\r\n    \tat org.apache.jena.atlas.json.io.parser.JSONP.parseArray(JSONP.java:143)\r\n    \tat org.apache.jena.atlas.json.io.parser.JSONP.parseAny(JSONP.java:98)\r\n    \tat org.apache.jena.atlas.json.io.parser.JSONP.parseObject(JSONP.java:79)\r\n    \tat org.apache.jena.atlas.json.io.parser.JSONP.parseAny(JSONP.java:97)\r\n    \tat org.apache.jena.atlas.json.io.parser.JSONP.parseObject(JSONP.java:79)\r\n    \tat org.apache.jena.atlas.json.io.parser.JSONP.parse(JSONP.java:50)\r\n    \tat org.apache.jena.atlas.json.io.parser.JSONParser.parse(JSONParser.java:58)\r\n    \tat org.apache.jena.atlas.json.io.parser.JSONParser.parse(JSONParser.java:40)\r\n    \tat org.apache.jena.atlas.json.JSON._parse(JSON.java:126)\r\n    \tat org.apache.jena.atlas.json.JSON.parse(JSON.java:38)\r\n    \tat org.apache.jena.riot.resultset.rw.ResultSetReaderJSON$RS_JSON.parse(ResultSetReaderJSON.java:103)\r\n    \tat org.apache.jena.riot.resultset.rw.ResultSetReaderJSON.process(ResultSetReaderJSON.java:74)\r\n    \tat org.apache.jena.riot.resultset.rw.ResultSetReaderJSON.readAny(ResultSetReaderJSON.java:67)\r\n    \tat org.apache.jena.riot.resultset.rw.ResultsReader.readAny(ResultsReader.java:167)\r\n    \tat org.apache.jena.riot.resultset.rw.ResultsReader.readAny(ResultsReader.java:152)\r\n    \tat org.apache.jena.riot.ResultSetMgr.readAny(ResultSetMgr.java:191)\r\n    \tat org.apache.jena.riot.ResultSetMgr.read(ResultSetMgr.java:113)\r\n    \tat org.apache.jena.sparql.exec.http.QueryExecHTTP.execRowSet(QueryExecHTTP.java:195)\r\n    \tat org.apache.jena.sparql.exec.http.QueryExecHTTP.select(QueryExecHTTP.java:156)\r\n    \tat org.apache.jena.sparql.exec.QueryExecutionAdapter.execSelect(QueryExecutionAdapter.java:117)\r\n    \tat org.apache.jena.sparql.exec.QueryExecutionCompat.execSelect(QueryExecutionCompat.java:97)\r\n    \tat org.ai.wu.ac.at.tdbArchive.core.JenaTDBArchive_TB_star_f.materializeQuery(JenaTDBArchive_TB_star_f.java:295)\r\n    \tat org.ai.wu.ac.at.tdbArchive.core.JenaTDBArchive_TB_star_f.bulkAllMatQuerying(JenaTDBArchive_TB_star_f.java:258)\r\n    \tat org.ai.wu.ac.at.tdbArchive.tools.JenaTDBArchive_query.main(JenaTDBArchive_query.java:266)\r\n\r\nThe ?o of one row contains following problematic string:\r\n\r\n    &quot;{\\\r\n    tf1\\ansi\\ansicpg1252{\\onttbl}\r\n    {\\colortbl;\\\r\n    ed255\\green255\\lue255;&quot;@en\r\n\r\nIs there any property I can set to circumvent these escape characters or to tell Jena or ARQ to use a different parser? \r\n\r\nFor some reason I do not have this problem when it is a SPARQL and not a SPARQL* query. Can this make a difference? E.g. when I run following SPARQL query, which delivers exactly the same result, just from a .ng RDF dataset (quads), I get no exception:\r\n\r\n    Select * WHERE\r\n      { GRAPH &lt;http://example.org/versions&gt;\r\n          { ?graph  &lt;http://www.w3.org/2002/07/owl#versionInfo&gt;  92 }\r\n        GRAPH ?graph\r\n          { ?s  &lt;http://dbpedia.org/property/cover&gt;  ?o }\r\n      }\r\n\r\n\r\n**UPDATE 1:**\r\nThe issues lies within the RDF dataset serialized as .ttl. To create the RDF dataset I use python. The script takes an initial snapshot and changesets as input and builds a new RDF dataset with all the changes/versions included. I use following snippet to parse and serialize the changesets:\r\n\r\nfrom rdflib import Graph\r\n\r\ncs_add = Graph()\r\ncs_add.parse(&quot;path_to_changeset&quot;)\r\n\r\nThe issue seems to be in the parser. The string that gets parsed is: \r\n\r\n    &quot;{\\\\rtf1\\\\ansi\\\\ansicpg1252{\\\\fonttbl}\\n{\\\\colortbl;\\\\red255\\\\green255\\\\blue255;&quot;@en\r\n\r\nNow I want to serialize this string AS-IS. I want to preserve all the special characters and they should not be escaped. This is what I get when i iterate through the triples and print the object Literal:\r\n\r\n    for s, p, o in cs_add:\r\n        if &quot;ansicpg1252&quot; in o: # just to catch the string\r\n            print(o.encode(&#39;utf-8&#39;))\r\n            print()\r\n            print(o.n3())\r\n\r\nOutput\r\n \r\n\r\n       \r\n    b&#39;{\\\\\\rtf1\\\\ansi\\\\ansicpg1252{\\\\\\x0conttbl}\\n{\\\\colortbl;\\\\\\red255\\\\green255\\\\\\x08lue255;&#39;\r\n        \r\n    &quot;&quot;&quot;{\\\\\\rtf1\\\\ansi\\\\ansicpg1252{\\\\onttbl}\r\n    {\\\\colortbl;\\\\\\red255\\\\green255\\lue255;&quot;&quot;&quot;@en\r\n\r\nSo we see that e.g. a third backslash is added. Now I would need to find an encoding that somehow preserves the string as it is.","title":"Illegal escape sequence value when executing a SPARQL against Jena TDB query via Jena&#39;s Java API","body":"<p>I am running an SPARQL* query against Jena's TDB where the result set (DBPedia logs) contains escpace characters. To run the query I use org.apache.jena.query.QueryExecution like the following:</p>\n<pre><code>query = &quot;SELECT  *\nWHERE\n  { &lt;&lt; ?s &lt;http://dbpedia.org/property/cover&gt; ?o &gt;&gt;\n              vers:valid_from   ?valid_from ;\n              vers:valid_until  ?valid_until\n    BIND(&quot;2022-01-05T21:42:11.803+02:00&quot;^^xsd:dateTime AS ?TimeOfExecution)\n    FILTER ( ( ?valid_from &lt;= ?TimeOfExecution ) &amp;&amp; ( ?TimeOfExecution &lt; ?valid_until ) )\n  }&quot;\nconn = RDFConnection.connect(String.format(&quot;http://localhost:%d/in_memory_server/sparql&quot;, server.getHttpPort()));\nQueryExecution qExec = conn.query(query);\n</code></pre>\n<p>and I get the following exception:</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.jena.atlas.json.JsonParseException: illegal escape sequence value: f (0x66)\n    at org.apache.jena.atlas.json.io.parser.TokenizerJSON.exception(TokenizerJSON.java:757)\n    at org.apache.jena.atlas.json.io.parser.TokenizerJSON.exception(TokenizerJSON.java:749)\n    at org.apache.jena.atlas.json.io.parser.TokenizerJSON.readLiteralEscape(TokenizerJSON.java:669)\n    at org.apache.jena.atlas.json.io.parser.TokenizerJSON.allBetween(TokenizerJSON.java:559)\n    at org.apache.jena.atlas.json.io.parser.TokenizerJSON.parseToken(TokenizerJSON.java:138)\n    at org.apache.jena.atlas.json.io.parser.TokenizerJSON.hasNext(TokenizerJSON.java:75)\n    at org.apache.jena.atlas.iterator.PeekIterator.fill(PeekIterator.java:50)\n    at org.apache.jena.atlas.iterator.PeekIterator.next(PeekIterator.java:92)\n    at org.apache.jena.atlas.json.io.parser.JSONParserBase.nextToken(JSONParserBase.java:102)\n    at org.apache.jena.atlas.json.io.parser.JSONP.parseObject(JSONP.java:75)\n    at org.apache.jena.atlas.json.io.parser.JSONP.parseAny(JSONP.java:97)\n    at org.apache.jena.atlas.json.io.parser.JSONP.parseObject(JSONP.java:79)\n    at org.apache.jena.atlas.json.io.parser.JSONP.parseAny(JSONP.java:97)\n    at org.apache.jena.atlas.json.io.parser.JSONP.parseArray(JSONP.java:143)\n    at org.apache.jena.atlas.json.io.parser.JSONP.parseAny(JSONP.java:98)\n    at org.apache.jena.atlas.json.io.parser.JSONP.parseObject(JSONP.java:79)\n    at org.apache.jena.atlas.json.io.parser.JSONP.parseAny(JSONP.java:97)\n    at org.apache.jena.atlas.json.io.parser.JSONP.parseObject(JSONP.java:79)\n    at org.apache.jena.atlas.json.io.parser.JSONP.parse(JSONP.java:50)\n    at org.apache.jena.atlas.json.io.parser.JSONParser.parse(JSONParser.java:58)\n    at org.apache.jena.atlas.json.io.parser.JSONParser.parse(JSONParser.java:40)\n    at org.apache.jena.atlas.json.JSON._parse(JSON.java:126)\n    at org.apache.jena.atlas.json.JSON.parse(JSON.java:38)\n    at org.apache.jena.riot.resultset.rw.ResultSetReaderJSON$RS_JSON.parse(ResultSetReaderJSON.java:103)\n    at org.apache.jena.riot.resultset.rw.ResultSetReaderJSON.process(ResultSetReaderJSON.java:74)\n    at org.apache.jena.riot.resultset.rw.ResultSetReaderJSON.readAny(ResultSetReaderJSON.java:67)\n    at org.apache.jena.riot.resultset.rw.ResultsReader.readAny(ResultsReader.java:167)\n    at org.apache.jena.riot.resultset.rw.ResultsReader.readAny(ResultsReader.java:152)\n    at org.apache.jena.riot.ResultSetMgr.readAny(ResultSetMgr.java:191)\n    at org.apache.jena.riot.ResultSetMgr.read(ResultSetMgr.java:113)\n    at org.apache.jena.sparql.exec.http.QueryExecHTTP.execRowSet(QueryExecHTTP.java:195)\n    at org.apache.jena.sparql.exec.http.QueryExecHTTP.select(QueryExecHTTP.java:156)\n    at org.apache.jena.sparql.exec.QueryExecutionAdapter.execSelect(QueryExecutionAdapter.java:117)\n    at org.apache.jena.sparql.exec.QueryExecutionCompat.execSelect(QueryExecutionCompat.java:97)\n    at org.ai.wu.ac.at.tdbArchive.core.JenaTDBArchive_TB_star_f.materializeQuery(JenaTDBArchive_TB_star_f.java:295)\n    at org.ai.wu.ac.at.tdbArchive.core.JenaTDBArchive_TB_star_f.bulkAllMatQuerying(JenaTDBArchive_TB_star_f.java:258)\n    at org.ai.wu.ac.at.tdbArchive.tools.JenaTDBArchive_query.main(JenaTDBArchive_query.java:266)\n</code></pre>\n<p>The ?o of one row contains following problematic string:</p>\n<pre><code>&quot;{\\\ntf1\\ansi\\ansicpg1252{\\onttbl}\n{\\colortbl;\\\ned255\\green255\\lue255;&quot;@en\n</code></pre>\n<p>Is there any property I can set to circumvent these escape characters or to tell Jena or ARQ to use a different parser?</p>\n<p>For some reason I do not have this problem when it is a SPARQL and not a SPARQL* query. Can this make a difference? E.g. when I run following SPARQL query, which delivers exactly the same result, just from a .ng RDF dataset (quads), I get no exception:</p>\n<pre><code>Select * WHERE\n  { GRAPH &lt;http://example.org/versions&gt;\n      { ?graph  &lt;http://www.w3.org/2002/07/owl#versionInfo&gt;  92 }\n    GRAPH ?graph\n      { ?s  &lt;http://dbpedia.org/property/cover&gt;  ?o }\n  }\n</code></pre>\n<p><strong>UPDATE 1:</strong>\nThe issues lies within the RDF dataset serialized as .ttl. To create the RDF dataset I use python. The script takes an initial snapshot and changesets as input and builds a new RDF dataset with all the changes/versions included. I use following snippet to parse and serialize the changesets:</p>\n<p>from rdflib import Graph</p>\n<p>cs_add = Graph()\ncs_add.parse(&quot;path_to_changeset&quot;)</p>\n<p>The issue seems to be in the parser. The string that gets parsed is:</p>\n<pre><code>&quot;{\\\\rtf1\\\\ansi\\\\ansicpg1252{\\\\fonttbl}\\n{\\\\colortbl;\\\\red255\\\\green255\\\\blue255;&quot;@en\n</code></pre>\n<p>Now I want to serialize this string AS-IS. I want to preserve all the special characters and they should not be escaped. This is what I get when i iterate through the triples and print the object Literal:</p>\n<pre><code>for s, p, o in cs_add:\n    if &quot;ansicpg1252&quot; in o: # just to catch the string\n        print(o.encode('utf-8'))\n        print()\n        print(o.n3())\n</code></pre>\n<p>Output</p>\n<pre><code>b'{\\\\\\rtf1\\\\ansi\\\\ansicpg1252{\\\\\\x0conttbl}\\n{\\\\colortbl;\\\\\\red255\\\\green255\\\\\\x08lue255;'\n    \n&quot;&quot;&quot;{\\\\\\rtf1\\\\ansi\\\\ansicpg1252{\\\\onttbl}\n{\\\\colortbl;\\\\\\red255\\\\green255\\lue255;&quot;&quot;&quot;@en\n</code></pre>\n<p>So we see that e.g. a third backslash is added. Now I would need to find an encoding that somehow preserves the string as it is.</p>\n"},{"tags":["java","swing","jbutton"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1641619980,"post_id":70629847,"comment_id":124857348,"body_markdown":"Why are you overriding getX/Y? You don’t seem to understand the responsibilities of the layout manager","body":"Why are you overriding getX/Y? You don’t seem to understand the responsibilities of the layout manager"},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1641620220,"post_id":70629847,"comment_id":124857374,"body_markdown":"The layout manager is setting the “frame” (location/size) of the button via setBounds and/or setLocation, but your getX/Y are returning what ever you’ve previously set - they have no relation to the super properties","body":"The layout manager is setting the “frame” (location/size) of the button via setBounds and/or setLocation, but your getX/Y are returning what ever you’ve previously set - they have no relation to the super properties"}],"owner":{"account_id":23866694,"reputation":11,"user_id":17868932,"display_name":"Santiago Cueva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641663661,"creation_date":1641619813,"question_id":70629847,"body_markdown":"I&#39;m trying to create a JPanel that shows buttons forming a square of X size. I want to have the coordinates in a class that extends `JButton`, but when doing the extension some serious visual problems appear in the frame. If I remove it and use a normal `JButton` it doesn&#39;t happen.\r\n \r\nI didn&#39;t find another public question with a similar problem. Can someone help me please?\r\n\r\n**Edit:** Thanks to the comments noticed that I accidentally overridden the &#39;getX&#39; and &#39;getY&#39; methods of the Container superclass with my extension, that caused problems when it came to locating the JButtons and displaying them in the frame. Thanks.\r\n\r\n```\r\nimport java.awt.GridLayout;\r\nimport javax.swing.*;\r\n\r\npublic class mainclass extends JFrame{\r\n\tprivate int size= 10;\r\n\t\r\n\tprivate class Button extends JButton{\r\n\t\tprivate int x;\r\n\t\tprivate int y;\r\n\t\t\r\n\t\tpublic Button(int x, int y) {\r\n\t\t\tsuper();\r\n\t\t\tthis.x= x;\r\n\t\t\tthis.y= y;\r\n\t\t}\r\n\r\n\t\tpublic int getX() {\r\n\t\t\treturn x;\r\n\t\t}\r\n\r\n\t\tpublic void setX(int x) {\r\n\t\t\tthis.x = x;\r\n\t\t}\r\n\r\n\t\tpublic int getY() {\r\n\t\t\treturn y;\r\n\t\t}\r\n\r\n\t\tpublic void setY(int y) {\r\n\t\t\tthis.y = y;\r\n\t\t}\r\n\t}\r\n\r\n\tpublic mainclass(){\r\n\t\tGridLayout gl= new GridLayout(size,size);\r\n\t\tJPanel buttonsPane= new JPanel(gl);\r\n\t\tfor (int row = 0; row &lt; size; row++) {\r\n\t         for (int col = 0; col &lt; size; col++) {\r\n\t            Button temp= new Button(row,col);\r\n\t            temp.setVisible(true);\r\n\t            buttonsPane.add(temp);\r\n\t            buttonsPane.revalidate();\r\n\t    \t\tbuttonsPane.repaint();\r\n\t         }\r\n\t     }\r\n\t\t\r\n\t\tbuttonsPane.setVisible(true);\r\n\t\t\r\n\t\tgetContentPane().add(buttonsPane);\r\n\t\tsetSize(700,700);\r\n\t\tsetLocationRelativeTo(null);\r\n\t\tsetDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\r\n\t\tsetTitle(&quot;Buscaminas&quot;);\r\n\t\tthis.setVisible(true);\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tmainclass mc = new mainclass();\r\n\t\tmc.setVisible(true);\r\n\t}\r\n\r\n}\r\n```","title":"Why does this JButton extension cause visual problems in the frame?","body":"<p>I'm trying to create a JPanel that shows buttons forming a square of X size. I want to have the coordinates in a class that extends <code>JButton</code>, but when doing the extension some serious visual problems appear in the frame. If I remove it and use a normal <code>JButton</code> it doesn't happen.</p>\n<p>I didn't find another public question with a similar problem. Can someone help me please?</p>\n<p><strong>Edit:</strong> Thanks to the comments noticed that I accidentally overridden the 'getX' and 'getY' methods of the Container superclass with my extension, that caused problems when it came to locating the JButtons and displaying them in the frame. Thanks.</p>\n<pre><code>import java.awt.GridLayout;\nimport javax.swing.*;\n\npublic class mainclass extends JFrame{\n    private int size= 10;\n    \n    private class Button extends JButton{\n        private int x;\n        private int y;\n        \n        public Button(int x, int y) {\n            super();\n            this.x= x;\n            this.y= y;\n        }\n\n        public int getX() {\n            return x;\n        }\n\n        public void setX(int x) {\n            this.x = x;\n        }\n\n        public int getY() {\n            return y;\n        }\n\n        public void setY(int y) {\n            this.y = y;\n        }\n    }\n\n    public mainclass(){\n        GridLayout gl= new GridLayout(size,size);\n        JPanel buttonsPane= new JPanel(gl);\n        for (int row = 0; row &lt; size; row++) {\n             for (int col = 0; col &lt; size; col++) {\n                Button temp= new Button(row,col);\n                temp.setVisible(true);\n                buttonsPane.add(temp);\n                buttonsPane.revalidate();\n                buttonsPane.repaint();\n             }\n         }\n        \n        buttonsPane.setVisible(true);\n        \n        getContentPane().add(buttonsPane);\n        setSize(700,700);\n        setLocationRelativeTo(null);\n        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);\n        setTitle(&quot;Buscaminas&quot;);\n        this.setVisible(true);\n    }\n    \n    public static void main(String[] args) {\n        mainclass mc = new mainclass();\n        mc.setVisible(true);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","firebase-realtime-database","android-livedata","android-viewmodel"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1641657756,"post_id":70633740,"comment_id":124864412,"body_markdown":"I think this article, [How to read data from Firebase Realtime Database using get()?](https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5) might help.","body":"I think this article, <a href=\"https://medium.com/firebase-tips-tricks/how-to-read-data-from-firebase-realtime-database-using-get-269ef3e179c5\" rel=\"nofollow noreferrer\">How to read data from Firebase Realtime Database using get()?</a> might help."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1641660632,"post_id":70633740,"comment_id":124865130,"body_markdown":"@Alex Mamo: Thanks for the comment Alex. Unfortunately the article explains everything in KOTLIN and I don&#39;t understand KOTLIN. So it is not helpful for me.","body":"@Alex Mamo: Thanks for the comment Alex. Unfortunately the article explains everything in KOTLIN and I don&#39;t understand KOTLIN. So it is not helpful for me."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1641660817,"post_id":70633740,"comment_id":124865191,"body_markdown":"Futher, I would like to use a Recyclerview in Android with the Data of the Firebase Database such that the entries are automatically updated when new data is stored in the Firebase Database. This is why I posted my example where I would like to apply the LiveData approach explained in the official blog of Firebase Database to a recyclerview. Unfortunately the query always returns no elements altough there are elements in the Firebase Database and I would like to know what goes wrong. Do you have any idea?","body":"Futher, I would like to use a Recyclerview in Android with the Data of the Firebase Database such that the entries are automatically updated when new data is stored in the Firebase Database. This is why I posted my example where I would like to apply the LiveData approach explained in the official blog of Firebase Database to a recyclerview. Unfortunately the query always returns no elements altough there are elements in the Firebase Database and I would like to know what goes wrong. Do you have any idea?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1641662319,"post_id":70633740,"comment_id":124865563,"body_markdown":"Then you should listen for real-time updates.","body":"Then you should listen for real-time updates."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1641662727,"post_id":70633740,"comment_id":124865679,"body_markdown":"@AlexMamo: Thanks for your comment. What do you mean by &quot;real-time updates&quot;? As far as I understand the purpose of LiveData in Android is that it gets automatically updated if something changes. In the article of the official Firebase blog it is also mentioned, that LiveData listens to changes in the Database. So actually the approach from the article should be suitable for my purposes as it should listen the changes in the Firebase Database and update the LiveData when changes occur (which then should trigger the Recyclerview to be built again)","body":"@AlexMamo: Thanks for your comment. What do you mean by &quot;real-time updates&quot;? As far as I understand the purpose of LiveData in Android is that it gets automatically updated if something changes. In the article of the official Firebase blog it is also mentioned, that LiveData listens to changes in the Database. So actually the approach from the article should be suitable for my purposes as it should listen the changes in the Firebase Database and update the LiveData when changes occur (which then should trigger the Recyclerview to be built again)"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1641679141,"post_id":70633740,"comment_id":124869344,"body_markdown":"I don&#39;t see you [notify the `RecyclerView` that your list has changed](https://stackoverflow.com/a/5092426/16653700) anywhere in your code: You need to use the `Adapter` to update your list or notify that the list&#39;s contents have changed using  `notifyDataSetChanged()`.","body":"I don&#39;t see you <a href=\"https://stackoverflow.com/a/5092426/16653700\">notify the <code>RecyclerView</code> that your list has changed</a> anywhere in your code: You need to use the <code>Adapter</code> to update your list or notify that the list&#39;s contents have changed using  <code>notifyDataSetChanged()</code>."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1641744423,"post_id":70633740,"comment_id":124880621,"body_markdown":"@AliasCartellano: Thanks Alias for your hint. I now notify the recyclerview and the items are displayed in them. However I have 2 comments. 1) In contrast to what is said in the article of the official Firebase Database blog, the elements are not updated automatically when something in the database changes. This is weird because I use Livedata that should observe the changes in the database. Can you think about a reason as to why this is happening?","body":"@AliasCartellano: Thanks Alias for your hint. I now notify the recyclerview and the items are displayed in them. However I have 2 comments. 1) In contrast to what is said in the article of the official Firebase Database blog, the elements are not updated automatically when something in the database changes. This is weird because I use Livedata that should observe the changes in the database. Can you think about a reason as to why this is happening?"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1641744458,"post_id":70633740,"comment_id":124880633,"body_markdown":"2) At the moment the code is just returns the whole content of the sub-database. I actually don&#39;t see where I could specify a query to just retrun specific elements based on a firebase query. Do you know how and where to do this?","body":"2) At the moment the code is just returns the whole content of the sub-database. I actually don&#39;t see where I could specify a query to just retrun specific elements based on a firebase query. Do you know how and where to do this?"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1641838183,"post_id":70633740,"comment_id":124906703,"body_markdown":"@AlexMamo: Do you have any idea why the view is not updated automatically when new data is inserted into the Firebase Database? I followed the approach from the article in the offical blog of Firebase and I use LiveData. So actually the liveData should listen to changes in the Firebase Database. Further, do you know where I can specify a query to not get all data from Firebase Database but just some specific data?","body":"@AlexMamo: Do you have any idea why the view is not updated automatically when new data is inserted into the Firebase Database? I followed the approach from the article in the offical blog of Firebase and I use LiveData. So actually the liveData should listen to changes in the Firebase Database. Further, do you know where I can specify a query to not get all data from Firebase Database but just some specific data?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1641846201,"post_id":70633740,"comment_id":124909376,"body_markdown":"To get only specific data you have to create a Query. Regarding the first issue, you should isolate the problem and see if it works for only a few documents.","body":"To get only specific data you have to create a Query. Regarding the first issue, you should isolate the problem and see if it works for only a few documents."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1641848262,"post_id":70633740,"comment_id":124910012,"body_markdown":"Thanks Alex for your comment. Where exactly do I have to specify the query? In the Fragment class, in the Livedata class or in the Viewmodel class? I see that a query is used in the Livedata class but it seems that it is not really defined with the code `this.query = query;`. Normally you should have something like ` Query query = rootRef.child(&quot;databasetable&quot;).orderByChild(&quot;attribute1&quot;).equalTo(value);` but where shall I put this? Regarding the 1st issue what do you mean by &quot;isolating&quot; the problem? What I want is that the fragment gets updated whenever something changes in firebase database","body":"Thanks Alex for your comment. Where exactly do I have to specify the query? In the Fragment class, in the Livedata class or in the Viewmodel class? I see that a query is used in the Livedata class but it seems that it is not really defined with the code <code>this.query = query;</code>. Normally you should have something like ` Query query = rootRef.child(&quot;databasetable&quot;).orderByChild(&quot;attribute1&quot;).eq&zwnj;&#8203;ualTo(value);` but where shall I put this? Regarding the 1st issue what do you mean by &quot;isolating&quot; the problem? What I want is that the fragment gets updated whenever something changes in firebase database"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1641854083,"post_id":70633740,"comment_id":124911694,"body_markdown":"Can you use the usual [`ValueEventListeners`](https://firebase.google.com/docs/database/admin/retrieve-data)? With the aforementioned you can [add listeners by queries](https://firebase.google.com/docs/database/admin/retrieve-data#section-queries).","body":"Can you use the usual <a href=\"https://firebase.google.com/docs/database/admin/retrieve-data\" rel=\"nofollow noreferrer\"><code>ValueEventListeners</code></a>? With the aforementioned you can <a href=\"https://firebase.google.com/docs/database/admin/retrieve-data#section-queries\" rel=\"nofollow noreferrer\">add listeners by queries</a>."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1641854313,"post_id":70633740,"comment_id":124911765,"body_markdown":"According to the link you posted for `LiveData` you would pass your query to `LiveData_FirebaseOrder` in your `LiveData` class.","body":"According to the link you posted for <code>LiveData</code> you would pass your query to <code>LiveData_FirebaseOrder</code> in your <code>LiveData</code> class."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1642091178,"post_id":70633740,"comment_id":124984967,"body_markdown":"@AliasCartellano: I am already using the ValueEventListener `private class MyValueEventListener implements ValueEventListener ` as an inner class in the class `LiveData_FirebaseOrder `. But still it does not update anything. What do you mean by &quot;you would pass your query to LiveData_FirebaseOrder in your LiveData class.&quot;. Where exactly can I specify the query and how can I do that (I know how a query can be designed for the Firebase database but I don&#39;t see how and where I can do this in my example","body":"@AliasCartellano: I am already using the ValueEventListener <code>private class MyValueEventListener implements ValueEventListener </code> as an inner class in the class <code>LiveData_FirebaseOrder </code>. But still it does not update anything. What do you mean by &quot;you would pass your query to LiveData_FirebaseOrder in your LiveData class.&quot;. Where exactly can I specify the query and how can I do that (I know how a query can be designed for the Firebase database but I don&#39;t see how and where I can do this in my example"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1642098565,"post_id":70633740,"comment_id":124987867,"body_markdown":"I now managed to solve the updating issue (it is now updating autmatically :-). However, I have still problems with the query. Actually I don&#39;t know how and where to implement the query. Especially I would like to adjust the query based on some parameters (toggle Buttons) in the UI (Fragment class). So I need to pass information from the fragment class to the LiveData and ViewModel class and according to this information a query needs to be specified. Any idea how I can do that? I&#39;ll appreciate any further comments.","body":"I now managed to solve the updating issue (it is now updating autmatically :-). However, I have still problems with the query. Actually I don&#39;t know how and where to implement the query. Especially I would like to adjust the query based on some parameters (toggle Buttons) in the UI (Fragment class). So I need to pass information from the fragment class to the LiveData and ViewModel class and according to this information a query needs to be specified. Any idea how I can do that? I&#39;ll appreciate any further comments."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1642099494,"post_id":70633740,"comment_id":124988235,"body_markdown":"As I tried to say before, your `LiveData` class has a method, `LiveData_FirebaseOrder` where you can pass in queries such as `Query query = rootRef.child(&quot;databasetable&quot;).orderByChild(&quot;attribute1&quot;).equalTo(value);`. eg. `LiveData_FirebaseOrder(query)`. Replace this line `private static final DatabaseReference ORDERS_REF =\n            FirebaseDatabase.getInstance(&quot;https://....firebasedatabase.app&quot;).getReference(&quot;/Orders&quot;);` with your query in your `ViewModel` and it should work.","body":"As I tried to say before, your <code>LiveData</code> class has a method, <code>LiveData_FirebaseOrder</code> where you can pass in queries such as <code>Query query = rootRef.child(&quot;databasetable&quot;).orderByChild(&quot;attribute1&quot;).eq&zwnj;&#8203;ualTo(value);</code>. eg. <code>LiveData_FirebaseOrder(query)</code>. Replace this line <code>private static final DatabaseReference ORDERS_REF =             FirebaseDatabase.getInstance(&quot;https:&#47;&#47;....firebasedatabase.a&zwnj;&#8203;pp&quot;).getReference(&quot;&#47;&zwnj;&#8203;Orders&quot;);</code> with your query in your <code>ViewModel</code> and it should work."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1642099944,"post_id":70633740,"comment_id":124988399,"body_markdown":"*I mean&#39;t the constructor for `LiveData`.","body":"*I mean&#39;t the constructor for <code>LiveData</code>."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1642100357,"post_id":70633740,"comment_id":124988548,"body_markdown":"Thanks a lot Alias for your comment and effort. I really appreciate it. I will try what you suggested. But as written before, I would like to adjust the query based on some toggle button status in the UI. So I have to make a dynamic link (because the status of the toggle buttons can change after an user iteraction) between the UI (fragment class) and LiveData or ViewModel class. How can I do that?","body":"Thanks a lot Alias for your comment and effort. I really appreciate it. I will try what you suggested. But as written before, I would like to adjust the query based on some toggle button status in the UI. So I have to make a dynamic link (because the status of the toggle buttons can change after an user iteraction) between the UI (fragment class) and LiveData or ViewModel class. How can I do that?"},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1642184389,"post_id":70633740,"comment_id":125012148,"body_markdown":"@AliasCartellano: Thanks for your comment and effort. Basically the query works now. I did as you suggested. However, I still have no clue as to how to adjust the query based on some toggle button status in the UI. So I have to make a dynamic link (because the status of the toggle buttons can change after an user iteraction) between the UI (fragment class) and LiveData or ViewModel class. How can I do that?","body":"@AliasCartellano: Thanks for your comment and effort. Basically the query works now. I did as you suggested. However, I still have no clue as to how to adjust the query based on some toggle button status in the UI. So I have to make a dynamic link (because the status of the toggle buttons can change after an user iteraction) between the UI (fragment class) and LiveData or ViewModel class. How can I do that?"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1642189572,"post_id":70633740,"comment_id":125013873,"body_markdown":"Since your `LiveData` fields are final you would need to make a new `LiveData` object and stop the old one everytime you want to change the query. The `ViewModel` also keeps the reference/query field final. One workaround is to add a new method `changeQuery`(in `LiveData`) that accepts a new `Query` and stops(and writes over) the old one( `private final Query query;`(you&#39;d have to remove `final`)) and call observe again in some method.","body":"Since your <code>LiveData</code> fields are final you would need to make a new <code>LiveData</code> object and stop the old one everytime you want to change the query. The <code>ViewModel</code> also keeps the reference/query field final. One workaround is to add a new method <code>changeQuery</code>(in <code>LiveData</code>) that accepts a new <code>Query</code> and stops(and writes over) the old one( <code>private final Query query;</code>(you&#39;d have to remove <code>final</code>)) and call observe again in some method."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1642189921,"post_id":70633740,"comment_id":125013977,"body_markdown":"There&#39;s too many comments on this post, so I suggest you open a new post with your updated code and new question as your old one has been answered and there may be others who can help there.","body":"There&#39;s too many comments on this post, so I suggest you open a new post with your updated code and new question as your old one has been answered and there may be others who can help there."},{"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"score":0,"creation_date":1642240626,"post_id":70633740,"comment_id":125021848,"body_markdown":"@AliasCartellano: Thanks for your answer and effort. I really appreciate it. Actually the update works (whenever new data to a query is available, the Firebase Database returns updated data). I have a problem and question. How can I trigger an update on the db from the Fragment class? At the moment, the database just returns something, when there is an update in the database. However, based on some selected buttons, I would like to trigger an update of the realtime database. Actually nothing changes in the db but the way I handle the information in the LiveData part of the fragment changes.","body":"@AliasCartellano: Thanks for your answer and effort. I really appreciate it. Actually the update works (whenever new data to a query is available, the Firebase Database returns updated data). I have a problem and question. How can I trigger an update on the db from the Fragment class? At the moment, the database just returns something, when there is an update in the database. However, based on some selected buttons, I would like to trigger an update of the realtime database. Actually nothing changes in the db but the way I handle the information in the LiveData part of the fragment changes."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1642271843,"post_id":70633740,"comment_id":125028688,"body_markdown":"Let&#39;s [continue this in a chatroom](https://chat.stackoverflow.com/rooms/241092/firebase-database-query-with-livedata-and-viewmodel-returns-nothing-altough-data).","body":"Let&#39;s <a href=\"https://chat.stackoverflow.com/rooms/241092/firebase-database-query-with-livedata-and-viewmodel-returns-nothing-altough-data\">continue this in a chatroom</a>."}],"owner":{"account_id":13060317,"reputation":580,"user_id":9437740,"display_name":"VanessaF"},"comment_count":23,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":772,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641663359,"creation_date":1641655280,"question_id":70633740,"body_markdown":"I have an Android Fragment (in Java) that displays recyclerview. Now I would like to read the data for the items in the recyclerview from a firebase database. They should be stored into an array list `orderList`. For this purpose, I would like to use LiveData and a ViewModel because I read several times that this is the recommended way of implementing it. Further, I would like the Fragment to update the recyclerview automatically whenever new data is stored in the firebase database. \r\n\r\nI tried to follow the steps that are described in the offical Firebase Blog (https://firebase.googleblog.com/2017/12/using-android-architecture-components.html) but unfortunately the result is always an empty list. No elements are being displayed altough there are some relevant entries in the database that should be returned and displayed. The implementation of the recyclerview itself is correct (I checked that by manually adding items into the recylcerview).\r\n\r\nHere is my Fragment that holds the recyclerview:\r\n\r\n\r\n    \r\n    \r\n    public class FR_Orders extends Fragment  {\r\n    \r\n    \r\n        private FragmentOrdersBinding binding;\r\n    \r\n        //Define variables for the RecyclerView\r\n        private RecyclerView recyclerView_Order;\r\n        private RV_Adapter_Orders adapter_Order;\r\n        private RecyclerView.LayoutManager layoutManager_Order;\r\n        private ArrayList&lt;RV_Item_Order&gt; orderList;\r\n    \r\n        public FR_Orders() {\r\n            // Required empty public constructor\r\n        }\r\n    \r\n    \r\n        public static FR_Orders newInstance(String param1, String param2) {\r\n            FR_Orders fragment = new FR_Orders();\r\n            Bundle args = new Bundle();\r\n            fragment.setArguments(args);\r\n            return fragment;\r\n        }\r\n    \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            orderList = new ArrayList&lt;RV_Item_Order&gt;();\r\n    \r\n            // Obtain a new or prior instance of ViewModel_FR_Orders from the ViewModelProviders utility class.\r\n            ViewModel_FR_Orders viewModel = new ViewModelProvider(this).get(ViewModel_FR_Orders.class);\r\n    \r\n            LiveData&lt;DataSnapshot&gt; liveData = viewModel.getDataSnapshotLiveData();\r\n    \r\n            liveData.observe(this, new Observer&lt;DataSnapshot&gt;() {\r\n                @Override\r\n                public void onChanged(@Nullable DataSnapshot dataSnapshot) {\r\n                    for(DataSnapshot ds: dataSnapshot.getChildren()) {\r\n    \r\n                        if (dataSnapshot != null) {\r\n    \r\n                            String drinkName  = &quot;&quot;;\r\n                            String drinkSize = &quot;&quot;;\r\n                            String orderDate = &quot;&quot;;\r\n                            String orderStatus = &quot;&quot;;\r\n                            int orderDateInMilliseconds = 0;\r\n                            int orderID = 0;\r\n                            int quantity = 0;\r\n                            int tableNumber = 0;\r\n    \r\n                            // update the UI here with values in the snapshot\r\n    \r\n                            if( dataSnapshot.child(&quot;drinkName&quot;).getValue(String.class)!=null) {\r\n                                drinkName = dataSnapshot.child(&quot;drinkName&quot;).getValue(String.class);\r\n                            }\r\n                            if(dataSnapshot.child(&quot;drinkSize&quot;).getValue(String.class)!=null) {\r\n                                drinkSize = dataSnapshot.child(&quot;drinkSize&quot;).getValue(String.class);\r\n                            }\r\n    \r\n                            if(dataSnapshot.child(&quot;orderDate&quot;).getValue(String.class)!=null) {\r\n                                orderDate = dataSnapshot.child(&quot;orderDate&quot;).getValue(String.class);\r\n                            }\r\n    \r\n                            if(dataSnapshot.child(&quot;orderStatus&quot;).getValue(String.class)!=null) {\r\n                                orderStatus = dataSnapshot.child(&quot;orderStatus&quot;).getValue(String.class);\r\n                            }\r\n                            if(dataSnapshot.child(&quot;orderDateInMilliseconds&quot;).getValue(Integer.class)!=null) {\r\n                                orderDateInMilliseconds = dataSnapshot.child(&quot;orderDateInMilliseconds&quot;).getValue(Integer.class);\r\n                            }\r\n                            if(dataSnapshot.child(&quot;quantity&quot;).getValue(Integer.class)!=null) {\r\n                                quantity = dataSnapshot.child(&quot;quantity&quot;).getValue(Integer.class);\r\n                            }\r\n                            if(dataSnapshot.child(&quot;orderID&quot;).getValue(Integer.class)!=null) {\r\n                                orderID = dataSnapshot.child(&quot;orderID&quot;).getValue(Integer.class);\r\n                            }\r\n                            if(dataSnapshot.child(&quot;tableNumber&quot;).getValue(Integer.class)!=null) {\r\n                                tableNumber = dataSnapshot.child(&quot;tableNumber&quot;).getValue(Integer.class);\r\n                            }\r\n    \r\n                            orderList.add(new RV_Item_Order(drinkName, drinkSize, orderDateInMilliseconds, orderDate, tableNumber, orderStatus, quantity, orderID));\r\n    ;\r\n                        }\r\n                    }\r\n    \r\n                }\r\n            });\r\n    \r\n        }// end onCreate\r\n    \r\n    \r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            binding = FragmentOrdersBinding.inflate(inflater, container, false);\r\n    \r\n            buildRecyclerView();\r\n    \r\n            return binding.getRoot();\r\n        }\r\n    \r\n    \r\n        public void buildRecyclerView() {\r\n            recyclerView_Order = binding.rvDrinksToBeDisplayed;\r\n            recyclerView_Order.setHasFixedSize(true);\r\n            layoutManager_Order = new LinearLayoutManager(this.getContext());\r\n            adapter_Order = new RV_Adapter_Orders(orderList);\r\n    \r\n            recyclerView_Order.setLayoutManager(layoutManager_Order);\r\n            recyclerView_Order.setAdapter(adapter_Order);\r\n    \r\n            adapter_Order.setOnItemClickListener(new RV_Adapter_Orders.OnItemClickListener() {\r\n    \r\n                /*\r\n            Define what happens when clicking on an item in the RecyclerView\r\n             */\r\n                @Override\r\n                public void onItemClick(int position) {\r\n    \r\n    \r\n                }\r\n    \r\n            });\r\n    \r\n        }//end build recyclerView\r\n    \r\n    \r\n    \r\n    }//End class\r\n\r\n\r\nHere is the LiveData class\r\n\r\n    public class LiveData_FirebaseOrder extends LiveData&lt;DataSnapshot&gt; {\r\n        private static final String LOG_TAG = &quot;LiveData_FirebaseOrder&quot;;\r\n    \r\n        private final Query query;\r\n        private final MyValueEventListener listener = new MyValueEventListener();\r\n    \r\n        public LiveData_FirebaseOrder(Query query) {\r\n            this.query = query;\r\n        }\r\n    \r\n        public LiveData_FirebaseOrder(DatabaseReference ref) {\r\n            this.query = ref;\r\n        }\r\n    \r\n        @Override\r\n        protected void onActive() {\r\n            Log.d(LOG_TAG, &quot;onActive&quot;);\r\n            query.addValueEventListener(listener);\r\n        }\r\n    \r\n        @Override\r\n        protected void onInactive() {\r\n            Log.d(LOG_TAG, &quot;onInactive&quot;);\r\n            query.removeEventListener(listener);\r\n        }\r\n    \r\n        private class MyValueEventListener implements ValueEventListener {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                setValue(dataSnapshot);\r\n            }\r\n    \r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n                Log.e(LOG_TAG, &quot;Can&#39;t listen to query &quot; + query, databaseError.toException());\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nHere is the ViewModel class (the full name of the database is not given because of privacy issues).\r\n\r\n\r\n\r\n    public class ViewModel_FR_Orders extends ViewModel {\r\n        private static final DatabaseReference ORDERS_REF =\r\n                FirebaseDatabase.getInstance(&quot;https://....firebasedatabase.app&quot;).getReference(&quot;/Orders&quot;);\r\n    \r\n    \r\n        private final LiveData_FirebaseOrder liveData = new LiveData_FirebaseOrder(ORDERS_REF);\r\n    \r\n        @NonNull\r\n        public LiveData&lt;DataSnapshot&gt; getDataSnapshotLiveData() {\r\n            return liveData;\r\n        }\r\n    }\r\n\r\nAnd here is a screenshot of the Firebase Database that shows that there are some entries in the node `Orders` that should be returned\r\n\r\nDoes anyone have an idea what I am making wrong? I tried to stick exactly to the instructions of the offical Firebase Blog.\r\n\r\n[![Firebase Database][1]][1]\r\n\r\n\r\n**Update**: I found out that the query itself returns the correct datasnapshots but the recyclerview is not built and updated. \r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1r8PQ.png","title":"Firebase Database query with LiveData and ViewModel returns nothing altough data exists","body":"<p>I have an Android Fragment (in Java) that displays recyclerview. Now I would like to read the data for the items in the recyclerview from a firebase database. They should be stored into an array list <code>orderList</code>. For this purpose, I would like to use LiveData and a ViewModel because I read several times that this is the recommended way of implementing it. Further, I would like the Fragment to update the recyclerview automatically whenever new data is stored in the firebase database.</p>\n<p>I tried to follow the steps that are described in the offical Firebase Blog (<a href=\"https://firebase.googleblog.com/2017/12/using-android-architecture-components.html\" rel=\"nofollow noreferrer\">https://firebase.googleblog.com/2017/12/using-android-architecture-components.html</a>) but unfortunately the result is always an empty list. No elements are being displayed altough there are some relevant entries in the database that should be returned and displayed. The implementation of the recyclerview itself is correct (I checked that by manually adding items into the recylcerview).</p>\n<p>Here is my Fragment that holds the recyclerview:</p>\n<pre><code>public class FR_Orders extends Fragment  {\n\n\n    private FragmentOrdersBinding binding;\n\n    //Define variables for the RecyclerView\n    private RecyclerView recyclerView_Order;\n    private RV_Adapter_Orders adapter_Order;\n    private RecyclerView.LayoutManager layoutManager_Order;\n    private ArrayList&lt;RV_Item_Order&gt; orderList;\n\n    public FR_Orders() {\n        // Required empty public constructor\n    }\n\n\n    public static FR_Orders newInstance(String param1, String param2) {\n        FR_Orders fragment = new FR_Orders();\n        Bundle args = new Bundle();\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        orderList = new ArrayList&lt;RV_Item_Order&gt;();\n\n        // Obtain a new or prior instance of ViewModel_FR_Orders from the ViewModelProviders utility class.\n        ViewModel_FR_Orders viewModel = new ViewModelProvider(this).get(ViewModel_FR_Orders.class);\n\n        LiveData&lt;DataSnapshot&gt; liveData = viewModel.getDataSnapshotLiveData();\n\n        liveData.observe(this, new Observer&lt;DataSnapshot&gt;() {\n            @Override\n            public void onChanged(@Nullable DataSnapshot dataSnapshot) {\n                for(DataSnapshot ds: dataSnapshot.getChildren()) {\n\n                    if (dataSnapshot != null) {\n\n                        String drinkName  = &quot;&quot;;\n                        String drinkSize = &quot;&quot;;\n                        String orderDate = &quot;&quot;;\n                        String orderStatus = &quot;&quot;;\n                        int orderDateInMilliseconds = 0;\n                        int orderID = 0;\n                        int quantity = 0;\n                        int tableNumber = 0;\n\n                        // update the UI here with values in the snapshot\n\n                        if( dataSnapshot.child(&quot;drinkName&quot;).getValue(String.class)!=null) {\n                            drinkName = dataSnapshot.child(&quot;drinkName&quot;).getValue(String.class);\n                        }\n                        if(dataSnapshot.child(&quot;drinkSize&quot;).getValue(String.class)!=null) {\n                            drinkSize = dataSnapshot.child(&quot;drinkSize&quot;).getValue(String.class);\n                        }\n\n                        if(dataSnapshot.child(&quot;orderDate&quot;).getValue(String.class)!=null) {\n                            orderDate = dataSnapshot.child(&quot;orderDate&quot;).getValue(String.class);\n                        }\n\n                        if(dataSnapshot.child(&quot;orderStatus&quot;).getValue(String.class)!=null) {\n                            orderStatus = dataSnapshot.child(&quot;orderStatus&quot;).getValue(String.class);\n                        }\n                        if(dataSnapshot.child(&quot;orderDateInMilliseconds&quot;).getValue(Integer.class)!=null) {\n                            orderDateInMilliseconds = dataSnapshot.child(&quot;orderDateInMilliseconds&quot;).getValue(Integer.class);\n                        }\n                        if(dataSnapshot.child(&quot;quantity&quot;).getValue(Integer.class)!=null) {\n                            quantity = dataSnapshot.child(&quot;quantity&quot;).getValue(Integer.class);\n                        }\n                        if(dataSnapshot.child(&quot;orderID&quot;).getValue(Integer.class)!=null) {\n                            orderID = dataSnapshot.child(&quot;orderID&quot;).getValue(Integer.class);\n                        }\n                        if(dataSnapshot.child(&quot;tableNumber&quot;).getValue(Integer.class)!=null) {\n                            tableNumber = dataSnapshot.child(&quot;tableNumber&quot;).getValue(Integer.class);\n                        }\n\n                        orderList.add(new RV_Item_Order(drinkName, drinkSize, orderDateInMilliseconds, orderDate, tableNumber, orderStatus, quantity, orderID));\n;\n                    }\n                }\n\n            }\n        });\n\n    }// end onCreate\n\n\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        binding = FragmentOrdersBinding.inflate(inflater, container, false);\n\n        buildRecyclerView();\n\n        return binding.getRoot();\n    }\n\n\n    public void buildRecyclerView() {\n        recyclerView_Order = binding.rvDrinksToBeDisplayed;\n        recyclerView_Order.setHasFixedSize(true);\n        layoutManager_Order = new LinearLayoutManager(this.getContext());\n        adapter_Order = new RV_Adapter_Orders(orderList);\n\n        recyclerView_Order.setLayoutManager(layoutManager_Order);\n        recyclerView_Order.setAdapter(adapter_Order);\n\n        adapter_Order.setOnItemClickListener(new RV_Adapter_Orders.OnItemClickListener() {\n\n            /*\n        Define what happens when clicking on an item in the RecyclerView\n         */\n            @Override\n            public void onItemClick(int position) {\n\n\n            }\n\n        });\n\n    }//end build recyclerView\n\n\n\n}//End class\n</code></pre>\n<p>Here is the LiveData class</p>\n<pre><code>public class LiveData_FirebaseOrder extends LiveData&lt;DataSnapshot&gt; {\n    private static final String LOG_TAG = &quot;LiveData_FirebaseOrder&quot;;\n\n    private final Query query;\n    private final MyValueEventListener listener = new MyValueEventListener();\n\n    public LiveData_FirebaseOrder(Query query) {\n        this.query = query;\n    }\n\n    public LiveData_FirebaseOrder(DatabaseReference ref) {\n        this.query = ref;\n    }\n\n    @Override\n    protected void onActive() {\n        Log.d(LOG_TAG, &quot;onActive&quot;);\n        query.addValueEventListener(listener);\n    }\n\n    @Override\n    protected void onInactive() {\n        Log.d(LOG_TAG, &quot;onInactive&quot;);\n        query.removeEventListener(listener);\n    }\n\n    private class MyValueEventListener implements ValueEventListener {\n        @Override\n        public void onDataChange(DataSnapshot dataSnapshot) {\n            setValue(dataSnapshot);\n        }\n\n        @Override\n        public void onCancelled(DatabaseError databaseError) {\n            Log.e(LOG_TAG, &quot;Can't listen to query &quot; + query, databaseError.toException());\n        }\n    }\n}\n</code></pre>\n<p>Here is the ViewModel class (the full name of the database is not given because of privacy issues).</p>\n<pre><code>public class ViewModel_FR_Orders extends ViewModel {\n    private static final DatabaseReference ORDERS_REF =\n            FirebaseDatabase.getInstance(&quot;https://....firebasedatabase.app&quot;).getReference(&quot;/Orders&quot;);\n\n\n    private final LiveData_FirebaseOrder liveData = new LiveData_FirebaseOrder(ORDERS_REF);\n\n    @NonNull\n    public LiveData&lt;DataSnapshot&gt; getDataSnapshotLiveData() {\n        return liveData;\n    }\n}\n</code></pre>\n<p>And here is a screenshot of the Firebase Database that shows that there are some entries in the node <code>Orders</code> that should be returned</p>\n<p>Does anyone have an idea what I am making wrong? I tried to stick exactly to the instructions of the offical Firebase Blog.</p>\n<p><a href=\"https://i.stack.imgur.com/1r8PQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1r8PQ.png\" alt=\"Firebase Database\" /></a></p>\n<p><strong>Update</strong>: I found out that the query itself returns the correct datasnapshots but the recyclerview is not built and updated.</p>\n"},{"tags":["java","kotlin","jvm"],"comments":[{"owner":{"account_id":12721843,"reputation":16013,"user_id":9241978,"display_name":"Pawel"},"score":3,"creation_date":1641661193,"post_id":70634451,"comment_id":124865292,"body_markdown":"Interoperation with Java is made for that purpose, you can add new code or migrate old one to Kotlin at your own pace.","body":"Interoperation with Java is made for that purpose, you can add new code or migrate old one to Kotlin at your own pace."},{"owner":{"account_id":19921655,"reputation":21,"user_id":14597352,"display_name":"Offline"},"score":0,"creation_date":1641661410,"post_id":70634451,"comment_id":124865349,"body_markdown":"So there&#39;s not issue with doing so? It&#39;s not looked down upon?","body":"So there&#39;s not issue with doing so? It&#39;s not looked down upon?"},{"owner":{"account_id":2789789,"reputation":372,"user_id":2400234,"display_name":"Ventrue"},"score":1,"creation_date":1641661578,"post_id":70634451,"comment_id":124865397,"body_markdown":"There is nothing wrong and no one should look down upon it. What you should ask yourself is: do you need to mix them? Why do you want to mix them? Is for the purpose of just learning on how to? If so, go ahead. If not, you need to have a good reason of doing so.","body":"There is nothing wrong and no one should look down upon it. What you should ask yourself is: do you need to mix them? Why do you want to mix them? Is for the purpose of just learning on how to? If so, go ahead. If not, you need to have a good reason of doing so."},{"owner":{"account_id":19921655,"reputation":21,"user_id":14597352,"display_name":"Offline"},"score":0,"creation_date":1641662096,"post_id":70634451,"comment_id":124865511,"body_markdown":"Alright, thanks!\nOne more thing, is there a reason why the question got downvoted? (I&#39;m new to stack overflow and I thought it was a valid question.)","body":"Alright, thanks! One more thing, is there a reason why the question got downvoted? (I&#39;m new to stack overflow and I thought it was a valid question.)"},{"owner":{"account_id":4749863,"reputation":27187,"user_id":3840170,"display_name":"user3840170"},"score":2,"creation_date":1641662217,"post_id":70634451,"comment_id":124865545,"body_markdown":"The question looks a little too opinion-based to fit here; SO is mostly for how-to questions. https://softwareengineering.stackexchange.com might be a better fit for architecture/design questions like this one.","body":"The question looks a little too opinion-based to fit here; SO is mostly for how-to questions. <a href=\"https://softwareengineering.stackexchange.com\">softwareengineering.stackexchange.com</a> might be a better fit for architecture/design questions like this one."},{"owner":{"account_id":18463410,"reputation":18363,"user_id":13598222,"display_name":"cactustictacs"},"score":0,"creation_date":1641669058,"post_id":70634451,"comment_id":124867173,"body_markdown":"Definitely doesn&#39;t *hurt* to know both and how to make them interoperate! Even though Kotlin&#39;s the recommended language for Android, there are a lot of existing projects that were developed in Java, and if they want to migrate it&#39;ll be a bit-by-bit process like you&#39;re doing now. It&#39;s a real-world scenario, y&#39;know?","body":"Definitely doesn&#39;t <i>hurt</i> to know both and how to make them interoperate! Even though Kotlin&#39;s the recommended language for Android, there are a lot of existing projects that were developed in Java, and if they want to migrate it&#39;ll be a bit-by-bit process like you&#39;re doing now. It&#39;s a real-world scenario, y&#39;know?"}],"answers":[{"tags":[],"owner":{"account_id":13722742,"reputation":16978,"user_id":10134209,"display_name":"gidds"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641663311,"creation_date":1641663311,"answer_id":70634815,"question_id":70634451,"body_markdown":"Objectively, we can say that compatibility with Java was one of Kotlin&#39;s main objectives, according to [the official docs](https://kotlinlang.org/docs/faq.html#is-kotlin-compatible-with-the-java-programming-language):\r\n\r\n&gt; Kotlin is 100% interoperable with the Java programming language and major emphasis has been placed on making sure that your existing codebase can interact properly with Kotlin. You can easily call Kotlin code from Java and Java code from Kotlin. This makes adoption much easier and lower-risk. There’s also an automated Java-to-Kotlin converter built into the IDE that simplifies migration of existing code.\r\n\r\nMany features are designed specifically to ease [calling Java from Kotlin](https://kotlinlang.org/docs/java-interop.html) or [vice versa](https://kotlinlang.org/docs/java-to-kotlin-interop.html): for example, the fact that property accessors are implemented in the same way as normal Java accessor methods, and the ability to implement SAM interfaces; and where Kotlin implements things differently, there are often annotations or other ways to use a Java-style implementation.\r\n\r\nAnd in my own experience, there are no issues with mixing Java and Kotlin classes. Many of our projects have both (new classes written in Kotlin, a few old ones converted but many still in Java), and I&#39;m not aware of any significant problems. I also converted a major project from Java to Kotlin, one class at a time — and after each one, everything still compiled and tested and ran perfectly.\r\n\r\nOf course, new projects can be written in Kotlin from the start; but if you already know Java, mixing in some Kotlin is absolutely an option, and may be the easiest approach. You can convert parts to Kotlin piecemeal, when convenient, or leave them in Java long-term; pretty much everything just works, and you benefit from the parts that _are_ in Kotlin. (You might even find that the way you write Java code benefits from knowing Kotlin!)","title":"Is mixing Java and Kotlin a bad idea?","body":"<p>Objectively, we can say that compatibility with Java was one of Kotlin's main objectives, according to <a href=\"https://kotlinlang.org/docs/faq.html#is-kotlin-compatible-with-the-java-programming-language\" rel=\"nofollow noreferrer\">the official docs</a>:</p>\n<blockquote>\n<p>Kotlin is 100% interoperable with the Java programming language and major emphasis has been placed on making sure that your existing codebase can interact properly with Kotlin. You can easily call Kotlin code from Java and Java code from Kotlin. This makes adoption much easier and lower-risk. There’s also an automated Java-to-Kotlin converter built into the IDE that simplifies migration of existing code.</p>\n</blockquote>\n<p>Many features are designed specifically to ease <a href=\"https://kotlinlang.org/docs/java-interop.html\" rel=\"nofollow noreferrer\">calling Java from Kotlin</a> or <a href=\"https://kotlinlang.org/docs/java-to-kotlin-interop.html\" rel=\"nofollow noreferrer\">vice versa</a>: for example, the fact that property accessors are implemented in the same way as normal Java accessor methods, and the ability to implement SAM interfaces; and where Kotlin implements things differently, there are often annotations or other ways to use a Java-style implementation.</p>\n<p>And in my own experience, there are no issues with mixing Java and Kotlin classes. Many of our projects have both (new classes written in Kotlin, a few old ones converted but many still in Java), and I'm not aware of any significant problems. I also converted a major project from Java to Kotlin, one class at a time — and after each one, everything still compiled and tested and ran perfectly.</p>\n<p>Of course, new projects can be written in Kotlin from the start; but if you already know Java, mixing in some Kotlin is absolutely an option, and may be the easiest approach. You can convert parts to Kotlin piecemeal, when convenient, or leave them in Java long-term; pretty much everything just works, and you benefit from the parts that <em>are</em> in Kotlin. (You might even find that the way you write Java code benefits from knowing Kotlin!)</p>\n"}],"owner":{"account_id":19921655,"reputation":21,"user_id":14597352,"display_name":"Offline"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1987,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1641729928,"accepted_answer_id":70634815,"answer_count":1,"score":0,"last_activity_date":1641663311,"creation_date":1641660648,"question_id":70634451,"body_markdown":"I&#39;ve been trying to learn Kotlin but I find it to be a lot easier to learn when I can slowly apply it to things I&#39;m working on in Java. Is it a bad idea to mix Java and Kotlin in production? \r\n\r\nI know the overall goal is to use one or the other but is there anything wrong with the latter?","title":"Is mixing Java and Kotlin a bad idea?","body":"<p>I've been trying to learn Kotlin but I find it to be a lot easier to learn when I can slowly apply it to things I'm working on in Java. Is it a bad idea to mix Java and Kotlin in production?</p>\n<p>I know the overall goal is to use one or the other but is there anything wrong with the latter?</p>\n"},{"tags":["java"],"owner":{"account_id":23871834,"reputation":1,"user_id":17873433,"display_name":"Shawn Harmond"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1641663458,"answer_count":0,"score":-1,"last_activity_date":1641663211,"creation_date":1641663211,"question_id":70634805,"body_markdown":"So I have to:\r\n\r\n 1. Create a dog class in a new file. \r\n 2. Then create a no return type (void) method called &#39;greeting&#39; with a print statement that states &quot;I am in dog&quot;.\r\n 3. Next go back to the main class and create a print statement saying Hello World!.\r\n 4. Now create a dog object from the Dog class.\r\n 5. Finally call the new greeting method from the new dog object.\r\n\r\nSample output:\r\nHello World!\r\nI am in dog\r\n\r\nThis is what I got so far:\r\n\r\n    class Main {\r\n\r\n    public static void main(String[] args) {\r\n    System.out.println(&quot;Hello World!&quot;);\r\n    Main dog = new Main();\r\n    dog.greeting();\r\n     }\r\n    }\r\nHere goes my Dog.java file\r\n\r\n    public class Dog {\r\n    public static void greeting() {\r\n    System.out.println(&quot;I am in dog&quot;);\r\n     }\r\n    }\r\n","title":"How to call method from a different file in Java","body":"<p>So I have to:</p>\n<ol>\n<li>Create a dog class in a new file.</li>\n<li>Then create a no return type (void) method called 'greeting' with a print statement that states &quot;I am in dog&quot;.</li>\n<li>Next go back to the main class and create a print statement saying Hello World!.</li>\n<li>Now create a dog object from the Dog class.</li>\n<li>Finally call the new greeting method from the new dog object.</li>\n</ol>\n<p>Sample output:\nHello World!\nI am in dog</p>\n<p>This is what I got so far:</p>\n<pre><code>class Main {\n\npublic static void main(String[] args) {\nSystem.out.println(&quot;Hello World!&quot;);\nMain dog = new Main();\ndog.greeting();\n }\n}\n</code></pre>\n<p>Here goes my Dog.java file</p>\n<pre><code>public class Dog {\npublic static void greeting() {\nSystem.out.println(&quot;I am in dog&quot;);\n }\n}\n</code></pre>\n"},{"tags":["java","jpa"],"comments":[{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1641585494,"post_id":70625508,"comment_id":124851593,"body_markdown":"Do you have different classes for you json and JPA entities? In almost every framework, it&#39;s desired to use different classes for these two concerns so each can evolve independently of each other as your problem shows.","body":"Do you have different classes for you json and JPA entities? In almost every framework, it&#39;s desired to use different classes for these two concerns so each can evolve independently of each other as your problem shows."},{"owner":{"account_id":20240869,"reputation":89,"user_id":14844785,"display_name":"The problem with other minds"},"score":0,"creation_date":1641650777,"post_id":70625508,"comment_id":124862666,"body_markdown":"No, for the time being the controller receives the user entity object directly. Are you suggesting the controller receives a different kind of object that gets later converted to entity?","body":"No, for the time being the controller receives the user entity object directly. Are you suggesting the controller receives a different kind of object that gets later converted to entity?"},{"owner":{"account_id":301230,"reputation":28997,"user_id":608820,"accept_rate":89,"display_name":"Augusto"},"score":0,"creation_date":1641665537,"post_id":70625508,"comment_id":124866374,"body_markdown":"Hi Alessio! Sebastian answer below is on spot. I would recommend you to read about [Model-View-Controller](https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller) to understand the separation and why it&#39;s desirable. In the case of APIs you can take the View as the JSON representation (or object). I would also recommend you to read the book [Implementing Domain-Driven Design](https://www.goodreads.com/book/show/15756865) as it goes quite deep (and with plenty of examples) into how to design apps","body":"Hi Alessio! Sebastian answer below is on spot. I would recommend you to read about <a href=\"https://en.wikipedia.org/wiki/Model%E2%80%93view%E2%80%93controller\" rel=\"nofollow noreferrer\">Model-View-Controller</a> to understand the separation and why it&#39;s desirable. In the case of APIs you can take the View as the JSON representation (or object). I would also recommend you to read the book <a href=\"https://www.goodreads.com/book/show/15756865\" rel=\"nofollow noreferrer\">Implementing Domain-Driven Design</a> as it goes quite deep (and with plenty of examples) into how to design apps"},{"owner":{"account_id":20240869,"reputation":89,"user_id":14844785,"display_name":"The problem with other minds"},"score":0,"creation_date":1641732071,"post_id":70625508,"comment_id":124877384,"body_markdown":"Thanks for the book suggestion. I will definetely put it in my whishlist. I&#39;m not new at MVC btw (all my rest apis are realized through that framework) and I completely understand why separation is necessary. The problem is to translate this to an entity-framework based application, if you know what I mean. But thanks to your, and Sebastian&#39;s, answer I&#39;m making steps forward. \nThanks really","body":"Thanks for the book suggestion. I will definetely put it in my whishlist. I&#39;m not new at MVC btw (all my rest apis are realized through that framework) and I completely understand why separation is necessary. The problem is to translate this to an entity-framework based application, if you know what I mean. But thanks to your, and Sebastian&#39;s, answer I&#39;m making steps forward.  Thanks really"}],"answers":[{"tags":[],"owner":{"account_id":48638,"reputation":5943,"user_id":144578,"accept_rate":79,"display_name":"Sebastiaan van den Broek"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1641656382,"creation_date":1641655877,"answer_id":70633811,"question_id":70625508,"body_markdown":"In general, don&#39;t let users post your Entity directly. This will lead to all kinds of different problems in the future anyway. In your example alone, it would be uncommon if a user client can set the database id. And if you ever let a user update their own account, you probably don&#39;t want them to be able to set a role.\r\n\r\nI would create some DTO objects and either manually map or use some mapper to map these to the JPA entities.\r\n\r\nThere are some different approaches in https://stackoverflow.com/questions/47843039/how-to-properly-convert-domain-entities-to-dtos-while-considering-scalability/50322681#50322681 (although this is about the opposite direction as your case), I am linking to my own answer there but there are various alternatives.","title":"How to avoid updating or creating subentities when not required","body":"<p>In general, don't let users post your Entity directly. This will lead to all kinds of different problems in the future anyway. In your example alone, it would be uncommon if a user client can set the database id. And if you ever let a user update their own account, you probably don't want them to be able to set a role.</p>\n<p>I would create some DTO objects and either manually map or use some mapper to map these to the JPA entities.</p>\n<p>There are some different approaches in <a href=\"https://stackoverflow.com/questions/47843039/how-to-properly-convert-domain-entities-to-dtos-while-considering-scalability/50322681#50322681\">How to properly convert domain entities to DTOs while considering scalability &amp; testability</a> (although this is about the opposite direction as your case), I am linking to my own answer there but there are various alternatives.</p>\n"}],"owner":{"account_id":20240869,"reputation":89,"user_id":14844785,"display_name":"The problem with other minds"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":153,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70633811,"answer_count":1,"score":1,"last_activity_date":1641663198,"creation_date":1641579319,"question_id":70625508,"body_markdown":"\r\nI&#39;m new at entity frameworks, so pardon me if this seems silly. \r\n\r\nConsider the following json object:\r\n\r\n\r\n&lt;!-- language: lang-json --&gt;\r\n\r\n    {\r\n        &quot;id&quot;: &quot;8850a2d2-230e-8ecb-cbb8-06068df136aa&quot;,\r\n        &quot;fiscalCode&quot;: &quot;QHNMPN27E68F765S&quot;,\r\n        &quot;role&quot;: {\r\n            &quot;id&quot;: &quot;MED&quot;,\r\n            &quot;name&quot;: &quot;Medico di base&quot;\r\n        },\r\n        &quot;enabled&quot;: true,\r\n        &quot;name&quot;: &quot;Alessio&quot;,\r\n        &quot;surname&quot;: &quot;De Padova&quot;,\r\n        &quot;contacts&quot;: [],\r\n        &quot;specs&quot;: [\r\n            {\r\n                &quot;name&quot;: &quot;Fisiatria&quot;,\r\n                &quot;id&quot;: &quot;FISIA&quot;\r\n            },\r\n             {\r\n                &quot;name&quot;: &quot;Cardiologia&quot;,\r\n                &quot;id&quot;: &quot;CARD&quot;\r\n            }\r\n        ],\r\n        &quot;account&quot;: {\r\n            &quot;id&quot;: &quot;5541&quot;,\r\n            &quot;email&quot;: &quot;alessandro.spaghetti@gmail.com&quot;\r\n        },\r\n        &quot;submit&quot;: null\r\n    }\r\n\r\nLet&#39;s assume we are sending it as a request body in order to update it in the database. It is a user which has subentities as shown here below:\r\n\r\n    @Id\r\n    @Column(name = &quot;user_id&quot;)\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private String id;\r\n\r\n    @Column(name = &quot;name&quot;)\r\n    @NotNull(message = &quot;Name cannot be null&quot;)\r\n    @Size(min = 1, message = &quot;Name is not long enough&quot;)\r\n    private String name;\r\n\r\n    @Column(name = &quot;fiscal_code&quot;)\r\n    @NotNull(message = &quot;Fiscal code cannot be null&quot;)\r\n    @Size(min=16, max=16, message = &quot;Fiscal code has to be 16 chars long&quot;)\r\n    private String fiscalCode;\r\n\r\n    @Column(name = &quot;enabled&quot;)\r\n    private Boolean enabled;\r\n\r\n    @Column(name = &quot;surname&quot;)\r\n    @Size(min = 1, message = &quot;Surname is not long enough&quot;)\r\n    @NotNull(message = &quot;Surname cannot be null&quot;)\r\n    private String surname;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;account_id&quot;)\r\n    private AccountEntity account;\r\n\r\n    @OneToOne(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;role_id&quot;)\r\n    private RoleEntity role;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL)\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private Set&lt;ContactEntity&gt; contacts;\r\n\r\n    @OneToMany(cascade = CascadeType.ALL)\r\n    @JoinTable(\r\n            name = &quot;users_specs&quot;,\r\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;),\r\n            inverseJoinColumns = @JoinColumn(name = &quot;spec_id&quot;)\r\n    )\r\n    private Set&lt;SpecEntity&gt; specs;\r\n\r\n\r\nNow, here comes the problem. Whereas I want the userentity to be able to create a new account (or contact) or update an existing one (as it is happening right now), I don&#39;t want the same to happen with specs. A user can only add or remove specs, it has not the right to create new ones or change specs&#39; properties. \r\n\r\nWhat is the right way to configure this kind of behavior? \r\n\r\nThe following code shows what I would like to do using mainly the configuration: \r\n\r\n      userEntity.setSpecs(\r\n                userEntity\r\n                        .getSpecs()\r\n                        .stream()\r\n                        .map(spec -&gt; specSvc.get(spec.getId()))\r\n                        .collect(Collectors.toSet())\r\n        );\r\n\r\nWhat I am doing right there is &quot;correcting&quot; each spec entity that is sent by the client. By correcting, I mean preventing name (or any other kind of property) change so that the user can only add or remove specs. But cannot update them or create them. If the server receives a spec not containing an id, it will throw an error ","title":"How to avoid updating or creating subentities when not required","body":"<p>I'm new at entity frameworks, so pardon me if this seems silly.</p>\n<p>Consider the following json object:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;id&quot;: &quot;8850a2d2-230e-8ecb-cbb8-06068df136aa&quot;,\n    &quot;fiscalCode&quot;: &quot;QHNMPN27E68F765S&quot;,\n    &quot;role&quot;: {\n        &quot;id&quot;: &quot;MED&quot;,\n        &quot;name&quot;: &quot;Medico di base&quot;\n    },\n    &quot;enabled&quot;: true,\n    &quot;name&quot;: &quot;Alessio&quot;,\n    &quot;surname&quot;: &quot;De Padova&quot;,\n    &quot;contacts&quot;: [],\n    &quot;specs&quot;: [\n        {\n            &quot;name&quot;: &quot;Fisiatria&quot;,\n            &quot;id&quot;: &quot;FISIA&quot;\n        },\n         {\n            &quot;name&quot;: &quot;Cardiologia&quot;,\n            &quot;id&quot;: &quot;CARD&quot;\n        }\n    ],\n    &quot;account&quot;: {\n        &quot;id&quot;: &quot;5541&quot;,\n        &quot;email&quot;: &quot;alessandro.spaghetti@gmail.com&quot;\n    },\n    &quot;submit&quot;: null\n}\n</code></pre>\n<p>Let's assume we are sending it as a request body in order to update it in the database. It is a user which has subentities as shown here below:</p>\n<pre><code>@Id\n@Column(name = &quot;user_id&quot;)\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate String id;\n\n@Column(name = &quot;name&quot;)\n@NotNull(message = &quot;Name cannot be null&quot;)\n@Size(min = 1, message = &quot;Name is not long enough&quot;)\nprivate String name;\n\n@Column(name = &quot;fiscal_code&quot;)\n@NotNull(message = &quot;Fiscal code cannot be null&quot;)\n@Size(min=16, max=16, message = &quot;Fiscal code has to be 16 chars long&quot;)\nprivate String fiscalCode;\n\n@Column(name = &quot;enabled&quot;)\nprivate Boolean enabled;\n\n@Column(name = &quot;surname&quot;)\n@Size(min = 1, message = &quot;Surname is not long enough&quot;)\n@NotNull(message = &quot;Surname cannot be null&quot;)\nprivate String surname;\n\n@OneToOne(cascade = CascadeType.ALL)\n@JoinColumn(name = &quot;account_id&quot;)\nprivate AccountEntity account;\n\n@OneToOne(cascade = CascadeType.ALL)\n@JoinColumn(name = &quot;role_id&quot;)\nprivate RoleEntity role;\n\n@OneToMany(cascade = CascadeType.ALL)\n@JoinColumn(name = &quot;user_id&quot;)\nprivate Set&lt;ContactEntity&gt; contacts;\n\n@OneToMany(cascade = CascadeType.ALL)\n@JoinTable(\n        name = &quot;users_specs&quot;,\n        joinColumns = @JoinColumn(name = &quot;user_id&quot;),\n        inverseJoinColumns = @JoinColumn(name = &quot;spec_id&quot;)\n)\nprivate Set&lt;SpecEntity&gt; specs;\n</code></pre>\n<p>Now, here comes the problem. Whereas I want the userentity to be able to create a new account (or contact) or update an existing one (as it is happening right now), I don't want the same to happen with specs. A user can only add or remove specs, it has not the right to create new ones or change specs' properties.</p>\n<p>What is the right way to configure this kind of behavior?</p>\n<p>The following code shows what I would like to do using mainly the configuration:</p>\n<pre><code>  userEntity.setSpecs(\n            userEntity\n                    .getSpecs()\n                    .stream()\n                    .map(spec -&gt; specSvc.get(spec.getId()))\n                    .collect(Collectors.toSet())\n    );\n</code></pre>\n<p>What I am doing right there is &quot;correcting&quot; each spec entity that is sent by the client. By correcting, I mean preventing name (or any other kind of property) change so that the user can only add or remove specs. But cannot update them or create them. If the server receives a spec not containing an id, it will throw an error</p>\n"},{"tags":["java","arrays","json","gson"],"comments":[{"owner":{"account_id":1441481,"reputation":10825,"user_id":1361506,"display_name":"azurefrog"},"score":0,"creation_date":1575499886,"post_id":59185635,"comment_id":104591680,"body_markdown":"`actors` is a `personne[]`, but you&#39;re assigning the `toString()` output of an empty `personne` to each location?  I can&#39;t figure out how this even compiles.","body":"<code>actors</code> is a <code>personne[]</code>, but you&#39;re assigning the <code>toString()</code> output of an empty <code>personne</code> to each location?  I can&#39;t figure out how this even compiles."},{"owner":{"account_id":14803645,"reputation":9,"user_id":10691248,"display_name":"Nyessin"},"score":0,"creation_date":1575500073,"post_id":59185635,"comment_id":104591738,"body_markdown":"me either , i am runnig out time, what you suggest as a solution !!","body":"me either , i am runnig out time, what you suggest as a solution !!"},{"owner":{"account_id":4370300,"reputation":1338,"user_id":3564882,"accept_rate":77,"display_name":"Gavi"},"score":1,"creation_date":1575500138,"post_id":59185635,"comment_id":104591765,"body_markdown":"Reading some JSON is a general purpose task well performed by some libraries. In the last project I&#39;ve used &lt;https://en.wikipedia.org/wiki/Jackson_(API)&gt;","body":"Reading some JSON is a general purpose task well performed by some libraries. In the last project I&#39;ve used &lt;<a href=\"https://en.wikipedia.org/wiki/Jackson_(API)\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Jackson_(API)</a>&gt;"},{"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"score":0,"creation_date":1575501742,"post_id":59185635,"comment_id":104592137,"body_markdown":"Try to use [jsonschema2pojo](http://www.jsonschema2pojo.org/) to generate model for given `JSON` payload and after that [gson](https://github.com/google/gson) to deserialise it. Related questions: [Array of JSON Object to Java POJO](https://stackoverflow.com/questions/55248523/array-of-json-object-to-java-pojo), [GSON can be an array of string or an array of object](https://stackoverflow.com/questions/56011652/gson-can-be-an-array-of-string-or-an-array-of-object).","body":"Try to use <a href=\"http://www.jsonschema2pojo.org/\" rel=\"nofollow noreferrer\">jsonschema2pojo</a> to generate model for given <code>JSON</code> payload and after that <a href=\"https://github.com/google/gson\" rel=\"nofollow noreferrer\">gson</a> to deserialise it. Related questions: <a href=\"https://stackoverflow.com/questions/55248523/array-of-json-object-to-java-pojo\">Array of JSON Object to Java POJO</a>, <a href=\"https://stackoverflow.com/questions/56011652/gson-can-be-an-array-of-string-or-an-array-of-object\">GSON can be an array of string or an array of object</a>."},{"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"score":1,"creation_date":1575535261,"post_id":59185635,"comment_id":104601454,"body_markdown":"I strongly recommend you to leverage JSON libraries for deserialization such as `Jackson`, `Gson` or `org.json` which are the most popular ones.","body":"I strongly recommend you to leverage JSON libraries for deserialization such as <code>Jackson</code>, <code>Gson</code> or <code>org.json</code> which are the most popular ones."}],"answers":[{"tags":[],"owner":{"account_id":13570906,"reputation":432,"user_id":9789673,"display_name":"randypaq13"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1575503197,"creation_date":1575503197,"answer_id":59186200,"question_id":59185635,"body_markdown":"In your `for` loop, you need to create a new personne object for each actor in the JSON array. You can do this exactly the same way that you created the director and then instead of `Film.setDirector(director);` you can call: `actors[i++]=actor` where `actor` is the personne you just made. Hope this helps","title":"array of objects with java json","body":"<p>In your <code>for</code> loop, you need to create a new personne object for each actor in the JSON array. You can do this exactly the same way that you created the director and then instead of <code>Film.setDirector(director);</code> you can call: <code>actors[i++]=actor</code> where <code>actor</code> is the personne you just made. Hope this helps</p>\n"}],"owner":{"account_id":14803645,"reputation":9,"user_id":10691248,"display_name":"Nyessin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1754,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641663091,"creation_date":1575499319,"question_id":59185635,"body_markdown":"I&#39;ve been trying to read an array of object json using java. \r\n\r\nhere&#39;s my json file:\r\n```\r\n {\r\n\t&quot;title&quot;: &quot;The Social network&quot;,\r\n\t&quot;summary&quot;: &quot;On a fall night in 2003,Havard undergrad and \\n programming genius Mark Zuckerberg sits down at his \\n computer and heatedly begins working on a new idea.(...)&quot;,\r\n\t&quot;year&quot;: 2010,\r\n\t&quot;director&quot;: {\r\n\t\t&quot;last_name&quot;: &quot;fincher&quot;,\r\n\t\t&quot;first_name&quot;: &quot;David&quot;\r\n\t},\r\n\t&quot;actors&quot;: [{\r\n\t\t\t&quot;first_name&quot;: &quot;Jesse&quot;,\r\n\t\t\t&quot;last_name&quot;: &quot;Eisenberg&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\t&quot;first_name&quot;: &quot;Roney&quot;,\r\n\t\t\t&quot;last_name&quot;: &quot;Mara&quot;\r\n\t\t}\r\n\t]\r\n}\r\n```\r\n\r\nI&#39;ve made two classes \r\n```\r\npublic class film {\r\nprivate String title;\r\nprivate String summary;\r\nprivate int year;\r\nprivate personne director;\r\nprivate personne[] actors;\r\n```\r\n\r\nand the personne class, both with getters and setters and simple tostring method \r\n\r\nand here my main in which I try to read \r\n```\r\npublic class FilmJsonReader {\r\n\r\n\tpublic static final String JSON_FILE=&quot;C:\\\\Users\\\\hp\\\\Desktop\\\\JSON project\\\\FILM.txt&quot;;\r\n\t\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\t\r\n\t\tInputStream fis = new FileInputStream(JSON_FILE);\r\n\t\t\r\n\t\t//create JsonReader object\r\n\t\tJsonReader jsonReader = Json.createReader(fis);\r\n\t\t\r\n\t\t//get JsonObject from JsonReader\r\n\t\tJsonObject jsonObject = jsonReader.readObject();\r\n\t\t\r\n\t\t//we can close IO resource and JsonReader now\r\n\t\tjsonReader.close();\r\n\t\tfis.close();\r\n\t\t\r\n\t\t//Retrieve data from JsonObject and create Employee bean\r\n\t    film Film = new film();\r\n\t\t\r\n\t\tFilm.setTitle(jsonObject.getString(&quot;title&quot;));\r\n\t\tFilm.setSummary(jsonObject.getString(&quot;summary&quot;));\r\n\t\tFilm.setYear(jsonObject.getInt(&quot;year&quot;));\r\n\t\t\r\n\t\t//reading inner object from json object\r\n\t\t\t\tJsonObject innerJsonObject = jsonObject.getJsonObject(&quot;address&quot;);\r\n\t\t\t\tpersonne director = new personne();\r\n\t\t\t\tdirector.setFirst_name(innerJsonObject.getString(&quot;first_name&quot;));\r\n\t\t\t\tdirector.setLast_name(innerJsonObject.getString(&quot;last_name&quot;));\r\n\t\t\t\tFilm.setDirector(director);\r\n\t\t\r\n\t\t\t\t//reading arrays from json\r\n\t\tJsonArray jsonArray = jsonObject.getJsonArray(&quot;actors&quot;);\r\n\t\tpersonne[] actors = new personne[jsonArray.size()];\r\n\t\tpersonne p = new personne();\r\n\t\tint i = 0;\r\n\t\tfor(JsonValue value : jsonArray){\r\n\t\t\tactors[i++]=p.toString(value.toString());\r\n\t\t}\r\n\t\tFilm.setActors(actors);\r\n\t\t\r\n\t\t//print employee bean information\r\n\t\tSystem.out.println(Film);\r\n\t\t\r\n\t}\r\n\r\n}\r\n```\r\n\r\nbut here&#39;s the output, I am having problems reading the object inside of the array \r\n```\r\n--------------------------------------\r\n--------------------------------------\r\ntitle=The Social network&lt;br /&gt;\r\nsummary=On a fall night in 2003,Havard undergrad and (...)&lt;br /&gt;\r\nyear=2010&lt;br /&gt;\r\ndirector=fincher, David&lt;br /&gt;\r\n **actors= null null  **&lt;br /&gt;\r\n--------------------------------------\r\n--------------------------------------\r\n```","title":"array of objects with java json","body":"<p>I've been trying to read an array of object json using java.</p>\n<p>here's my json file:</p>\n<pre><code> {\n    &quot;title&quot;: &quot;The Social network&quot;,\n    &quot;summary&quot;: &quot;On a fall night in 2003,Havard undergrad and \\n programming genius Mark Zuckerberg sits down at his \\n computer and heatedly begins working on a new idea.(...)&quot;,\n    &quot;year&quot;: 2010,\n    &quot;director&quot;: {\n        &quot;last_name&quot;: &quot;fincher&quot;,\n        &quot;first_name&quot;: &quot;David&quot;\n    },\n    &quot;actors&quot;: [{\n            &quot;first_name&quot;: &quot;Jesse&quot;,\n            &quot;last_name&quot;: &quot;Eisenberg&quot;\n        },\n        {\n            &quot;first_name&quot;: &quot;Roney&quot;,\n            &quot;last_name&quot;: &quot;Mara&quot;\n        }\n    ]\n}\n</code></pre>\n<p>I've made two classes</p>\n<pre><code>public class film {\nprivate String title;\nprivate String summary;\nprivate int year;\nprivate personne director;\nprivate personne[] actors;\n</code></pre>\n<p>and the personne class, both with getters and setters and simple tostring method</p>\n<p>and here my main in which I try to read</p>\n<pre><code>public class FilmJsonReader {\n\n    public static final String JSON_FILE=&quot;C:\\\\Users\\\\hp\\\\Desktop\\\\JSON project\\\\FILM.txt&quot;;\n    \n    public static void main(String[] args) throws IOException {\n        \n        InputStream fis = new FileInputStream(JSON_FILE);\n        \n        //create JsonReader object\n        JsonReader jsonReader = Json.createReader(fis);\n        \n        //get JsonObject from JsonReader\n        JsonObject jsonObject = jsonReader.readObject();\n        \n        //we can close IO resource and JsonReader now\n        jsonReader.close();\n        fis.close();\n        \n        //Retrieve data from JsonObject and create Employee bean\n        film Film = new film();\n        \n        Film.setTitle(jsonObject.getString(&quot;title&quot;));\n        Film.setSummary(jsonObject.getString(&quot;summary&quot;));\n        Film.setYear(jsonObject.getInt(&quot;year&quot;));\n        \n        //reading inner object from json object\n                JsonObject innerJsonObject = jsonObject.getJsonObject(&quot;address&quot;);\n                personne director = new personne();\n                director.setFirst_name(innerJsonObject.getString(&quot;first_name&quot;));\n                director.setLast_name(innerJsonObject.getString(&quot;last_name&quot;));\n                Film.setDirector(director);\n        \n                //reading arrays from json\n        JsonArray jsonArray = jsonObject.getJsonArray(&quot;actors&quot;);\n        personne[] actors = new personne[jsonArray.size()];\n        personne p = new personne();\n        int i = 0;\n        for(JsonValue value : jsonArray){\n            actors[i++]=p.toString(value.toString());\n        }\n        Film.setActors(actors);\n        \n        //print employee bean information\n        System.out.println(Film);\n        \n    }\n\n}\n</code></pre>\n<p>but here's the output, I am having problems reading the object inside of the array</p>\n<pre><code>--------------------------------------\n--------------------------------------\ntitle=The Social network&lt;br /&gt;\nsummary=On a fall night in 2003,Havard undergrad and (...)&lt;br /&gt;\nyear=2010&lt;br /&gt;\ndirector=fincher, David&lt;br /&gt;\n **actors= null null  **&lt;br /&gt;\n--------------------------------------\n--------------------------------------\n</code></pre>\n"},{"tags":["java","inputstream"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1641630311,"post_id":70630637,"comment_id":124858588,"body_markdown":"Not related to your question, but I highly recommend that you learn how to use [try-with-resources](https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html) to simplify your code and prevent resource leaks that are possible in your current code.","body":"Not related to your question, but I highly recommend that you learn how to use <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow noreferrer\">try-with-resources</a> to simplify your code and prevent resource leaks that are possible in your current code."},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1641630562,"post_id":70630637,"comment_id":124858634,"body_markdown":"1 significant difference: &quot;standalone java&quot; app doesn&#39;t sound like &quot;multi-threading&quot;!? what happens when you (by accident) &quot;hit the button twice&quot;!? (in the same &quot;session&quot; ..without changing `viewPdfPath`) ... there will be two threads trying to read from the same file!","body":"1 significant difference: &quot;standalone java&quot; app doesn&#39;t sound like &quot;multi-threading&quot;!? what happens when you (by accident) &quot;hit the button twice&quot;!? (in the same &quot;session&quot; ..without changing <code>viewPdfPath</code>) ... there will be two threads trying to read from the same file!"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1641630795,"post_id":70630637,"comment_id":124858677,"body_markdown":"Every time method `doGet` is invoked, it runs in a separate thread. Try creating multiple threads in your standalone Java program where each thread tries to read the same PDF file and see if that blocks.","body":"Every time method <code>doGet</code> is invoked, it runs in a separate thread. Try creating multiple threads in your standalone Java program where each thread tries to read the same PDF file and see if that blocks."},{"owner":{"account_id":4096887,"reputation":826,"user_id":3363386,"display_name":"polo-language"},"score":2,"creation_date":1641631683,"post_id":70630637,"comment_id":124858825,"body_markdown":"@xerx593 Why would [concurrent reads of the same file](https://stackoverflow.com/questions/9543984/is-it-safe-to-access-the-same-file-by-several-fileinputstream) cause indefinite blocking?","body":"@xerx593 Why would <a href=\"https://stackoverflow.com/questions/9543984/is-it-safe-to-access-the-same-file-by-several-fileinputstream\">concurrent reads of the same file</a> cause indefinite blocking?"},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1641637004,"post_id":70630637,"comment_id":124859762,"body_markdown":"Use `Files.copy(Path.of(pdfPath), oos)` instead of all that verbose code. How have you confirmed that `pdfPath` read is blocked? Get a thread dump of the app server (`kill -QUIT pid`) and also see open file handles of same server (`lsof |grep pid`).","body":"Use <code>Files.copy(Path.of(pdfPath), oos)</code> instead of all that verbose code. How have you confirmed that <code>pdfPath</code> read is blocked? Get a thread dump of the app server (<code>kill -QUIT pid</code>) and also see open file handles of same server (<code>lsof |grep pid</code>)."},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1641638758,"post_id":70630637,"comment_id":124860074,"body_markdown":"By the way the loop condition ought to be `&gt;= 0`","body":"By the way the loop condition ought to be <code>&gt;= 0</code>"},{"owner":{"account_id":23867470,"reputation":11,"user_id":17869627,"display_name":"user17869627"},"score":0,"creation_date":1641796188,"post_id":70630637,"comment_id":124890802,"body_markdown":"@DuncG We also tried with Files.copy(Path.of(pdfPath), oos) but still the same issue was there.  In order to check that the read is blocked, we printed the count inside the while loop to check the number of times it got called for that PDF and found that the result (max count * 8192) was less than the PDF size. Also, we have put the logger in finally block and found that while reading it was not getting called for those PDF.","body":"@DuncG We also tried with Files.copy(Path.of(pdfPath), oos) but still the same issue was there.  In order to check that the read is blocked, we printed the count inside the while loop to check the number of times it got called for that PDF and found that the result (max count * 8192) was less than the PDF size. Also, we have put the logger in finally block and found that while reading it was not getting called for those PDF."},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1641803940,"post_id":70630637,"comment_id":124892797,"body_markdown":"The block may be the writer to servlet output. How big is this PDF? Are there servlet filters in the chain? You need to see stack trace of the VM to confirm FIS read is locked, as my comment above (try also jstack).","body":"The block may be the writer to servlet output. How big is this PDF? Are there servlet filters in the chain? You need to see stack trace of the VM to confirm FIS read is locked, as my comment above (try also jstack)."}],"answers":[{"tags":[],"owner":{"account_id":4096887,"reputation":826,"user_id":3363386,"display_name":"polo-language"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641630210,"creation_date":1641630210,"answer_id":70630699,"question_id":70630637,"body_markdown":"According to the [Javadoc][1], `FileInputStream::read` is a blocking operation:\r\n\r\n&gt; Reads up to len bytes of data from this input stream into an array of bytes. If len is not zero, the method blocks until some input is available\r\n\r\nWhen reading files locally from the same machine, it&#39;s likely that the read operation completes very quickly, but that does not mean that in theory it is not blocking for some milliseconds waiting for the OS, disk, etc. While reading from a remote machine, it is more likely that the blocking time is long enough for you to notice.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/io/FileInputStream.html#read-byte:A-int-int-","title":"InputStream read method blocking while reading the PDF","body":"<p>According to the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/FileInputStream.html#read-byte:A-int-int-\" rel=\"nofollow noreferrer\">Javadoc</a>, <code>FileInputStream::read</code> is a blocking operation:</p>\n<blockquote>\n<p>Reads up to len bytes of data from this input stream into an array of bytes. If len is not zero, the method blocks until some input is available</p>\n</blockquote>\n<p>When reading files locally from the same machine, it's likely that the read operation completes very quickly, but that does not mean that in theory it is not blocking for some milliseconds waiting for the OS, disk, etc. While reading from a remote machine, it is more likely that the blocking time is long enough for you to notice.</p>\n"}],"owner":{"account_id":23867470,"reputation":11,"user_id":17869627,"display_name":"user17869627"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":261,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1641663059,"creation_date":1641629438,"question_id":70630637,"body_markdown":"I&#39;m using below code inside a servlet for reading and writing PDF in application, but the read() method is getting blocked for some PDFs after reading some bytes:\r\n\r\n    public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException{\r\n\t\tInputStream is = null;\r\n\t\tOutputStream oos = null;\r\n\t\ttry {\r\n\t\t\t String pdfPath = (String) request.getSession().getAttribute(&quot;viewPdfPath&quot;);\r\n\t\t\t \r\n\t\t\t File file=new File(pdfPath);\r\n\t\t\t \r\n\t\t     oos = response.getOutputStream();\r\n\t\t     response.setContentType(&quot;application/pdf&quot;);\r\n\t\t     byte[] buf = new byte[8192];\r\n\t\t\r\n\t\t     is= new FileInputStream(file);\r\n\t\t     int c = 0;\r\n\t\t     while ((c = is.read(buf, 0, buf.length)) &gt; 0) { **//blocking after reading some bytes**\r\n\t\t         oos.write(buf, 0, c);\r\n\t\t         oos.flush();\r\n\t\t     }\r\n\t\t\r\n\t\t     oos.flush();\r\n\t\t } catch (FileNotFoundException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t}catch(Exception e){\r\n\t\t\te.printStackTrace();\r\n\t\t} finally {\r\n\t\t\tif(oos != null)\r\n\t\t\t\toos.close();\r\n\t\t\tif(is != null)\r\n\t\t\t\tis.close();\r\n\t\t}\r\n\t}\r\n\r\nThe above code when executed from terminal as part of the standalone java class was successfully reading all bytes of the same PDF on the same Linux server where the application is currently hosted.\r\n\r\nWhy the InputStream read() method is getting blocked as part of application, but same code when executed from the same Linux server as part of the standalone java class was successfully reading without blocking?\r\n","title":"InputStream read method blocking while reading the PDF","body":"<p>I'm using below code inside a servlet for reading and writing PDF in application, but the read() method is getting blocked for some PDFs after reading some bytes:</p>\n<pre><code>public void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException{\n    InputStream is = null;\n    OutputStream oos = null;\n    try {\n         String pdfPath = (String) request.getSession().getAttribute(&quot;viewPdfPath&quot;);\n         \n         File file=new File(pdfPath);\n         \n         oos = response.getOutputStream();\n         response.setContentType(&quot;application/pdf&quot;);\n         byte[] buf = new byte[8192];\n    \n         is= new FileInputStream(file);\n         int c = 0;\n         while ((c = is.read(buf, 0, buf.length)) &gt; 0) { **//blocking after reading some bytes**\n             oos.write(buf, 0, c);\n             oos.flush();\n         }\n    \n         oos.flush();\n     } catch (FileNotFoundException e) {\n            e.printStackTrace();\n    }catch(Exception e){\n        e.printStackTrace();\n    } finally {\n        if(oos != null)\n            oos.close();\n        if(is != null)\n            is.close();\n    }\n}\n</code></pre>\n<p>The above code when executed from terminal as part of the standalone java class was successfully reading all bytes of the same PDF on the same Linux server where the application is currently hosted.</p>\n<p>Why the InputStream read() method is getting blocked as part of application, but same code when executed from the same Linux server as part of the standalone java class was successfully reading without blocking?</p>\n"},{"tags":["java","mongodb","spring-data","spring-data-mongodb"],"comments":[{"owner":{"account_id":2633828,"reputation":493,"user_id":2279072,"accept_rate":58,"display_name":"Maryo"},"score":0,"creation_date":1454286382,"post_id":34838320,"comment_id":57963131,"body_markdown":"my Entity has :     @GeoSpatialIndexed\n    private double[] location;","body":"my Entity has :     @GeoSpatialIndexed     private double[] location;"}],"answers":[{"tags":[],"owner":{"account_id":3597514,"reputation":117142,"user_id":3001761,"display_name":"jonrsharpe"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1453034459,"creation_date":1453034459,"answer_id":34838421,"question_id":34838320,"body_markdown":"I had some problems with a near query recently, which I solved as follows:\n\n    mongoTemplate.indexOps(MyClass.class).ensureIndex(new GeospatialIndex(&quot;attribute.holding.coordinates&quot;));\n    NearQuery nearQuery = NearQuery.near(x, y);\n    final GeoResults&lt;MyClass&gt; geoResults = mongoTemplate.geoNear(nearQuery, MyClass.class);\n    return geoResults.getContent().stream().map(GeoResult::getContent).collect(Collectors.toList());\n  \nThis explicitly applies a geospatial index, then uses it to lookup nearby objects. ","title":"Spring Data Mongodb Near Query not works","body":"<p>I had some problems with a near query recently, which I solved as follows:</p>\n\n<pre><code>mongoTemplate.indexOps(MyClass.class).ensureIndex(new GeospatialIndex(\"attribute.holding.coordinates\"));\nNearQuery nearQuery = NearQuery.near(x, y);\nfinal GeoResults&lt;MyClass&gt; geoResults = mongoTemplate.geoNear(nearQuery, MyClass.class);\nreturn geoResults.getContent().stream().map(GeoResult::getContent).collect(Collectors.toList());\n</code></pre>\n\n<p>This explicitly applies a geospatial index, then uses it to lookup nearby objects. </p>\n"},{"tags":[],"owner":{"account_id":12545853,"reputation":111,"user_id":9129204,"display_name":"Abdessamad ABOUKDIR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1513903817,"creation_date":1513903817,"answer_id":47934614,"question_id":34838320,"body_markdown":"You can just use the simple `@Query` annotation.\r\nIndex your location attribute by running in your mongod command line : `db.yourCollection.createIndex( { location : &quot;2dsphere&quot; } )`.\r\nThen use the query annotation in your MongoRepository : \r\n\r\n        @Repository\r\n    public interface ShopRepository extends MongoRepository&lt;Shop, String&gt;{\r\n    \r\n        @Query(value = &quot;{\\&quot;location\\&quot;:\\n&quot; +\r\n    &quot;       { $near :\\n&quot; +\r\n    &quot;          {\\n&quot; +\r\n    &quot;            $geometry : {\\n&quot; +\r\n    &quot;               type : \\&quot;Point\\&quot; ,\\n&quot; +\r\n    &quot;               coordinates : [ ?0, ?1] }\\n&quot; +\r\n    &quot;          }\\n&quot; +\r\n    &quot;       }}&quot;)\r\n        public List&lt;Shop&gt; nearByShops(double longitude, double latitude);\r\n        \r\n    }","title":"Spring Data Mongodb Near Query not works","body":"<p>You can just use the simple <code>@Query</code> annotation.\nIndex your location attribute by running in your mongod command line : <code>db.yourCollection.createIndex( { location : \"2dsphere\" } )</code>.\nThen use the query annotation in your MongoRepository : </p>\n\n<pre><code>    @Repository\npublic interface ShopRepository extends MongoRepository&lt;Shop, String&gt;{\n\n    @Query(value = \"{\\\"location\\\":\\n\" +\n\"       { $near :\\n\" +\n\"          {\\n\" +\n\"            $geometry : {\\n\" +\n\"               type : \\\"Point\\\" ,\\n\" +\n\"               coordinates : [ ?0, ?1] }\\n\" +\n\"          }\\n\" +\n\"       }}\")\n    public List&lt;Shop&gt; nearByShops(double longitude, double latitude);\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19134692,"reputation":1,"user_id":13975888,"display_name":"Maryan Basarab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598452626,"creation_date":1598443157,"answer_id":63597169,"question_id":34838320,"body_markdown":"To use near by first create an index `2dsphere` like this:\r\n\r\n    db.places.createIndex( { location: &quot;2dsphere&quot; } )","title":"Spring Data Mongodb Near Query not works","body":"<p>To use near by first create an index <code>2dsphere</code> like this:</p>\n<pre><code>db.places.createIndex( { location: &quot;2dsphere&quot; } )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8672866,"reputation":1726,"user_id":6491200,"display_name":"Caio Santos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641662960,"creation_date":1641662960,"answer_id":70634783,"question_id":34838320,"body_markdown":"Please, read MongoDB docs\r\nhttps://docs.mongodb.com/manual/geospatial-queries/\r\n\r\nYou need:\r\n\r\n1) Store the location data like this:\r\n\r\n    location: {\r\n          type: &quot;Point&quot;,\r\n          coordinates: [-73.846077, 40.828447]\r\n    }\r\n\r\n2) Create a geo index\r\n\r\n    db.collection.createIndex( { location : &quot;2dsphere&quot; } )\r\n\r\n\r\nYou can make SpringData work for you, using this in your entity:\r\n\r\n    @GeoSpatialIndexed(type = GeoSpatialIndexType.GEO_2DSPHERE)\r\n    private MongodbLocation location;\r\n\r\nAnd enabling index creation in the properties file:\r\n\r\n    data.mongodb.auto-index-creation: true\r\n\r\nAn example of POJO for the location object:\r\n\r\n    public class MongodbLocation {\r\n        List&lt;Double&gt; coordinates;\r\n        String type;\r\n    }\r\n\r\nAnd don&#39;t forget: Point object and coordinates list need longitude first, then latitude.\r\n\r\nThen... you can use something like this:\r\n\r\n    public interface AdRepository extends MongoRepository&lt;AdEntity, String&gt; {\r\n        GeoResults&lt;AdEntity&gt; findByAddressLocationNear(Point p, Distance d);\r\n    \r\n        GeoPage&lt;AdEntity&gt; findByAddressLocationNear(Point p, Distance d, Pageable pageable);\r\n    }","title":"Spring Data Mongodb Near Query not works","body":"<p>Please, read MongoDB docs\n<a href=\"https://docs.mongodb.com/manual/geospatial-queries/\" rel=\"nofollow noreferrer\">https://docs.mongodb.com/manual/geospatial-queries/</a></p>\n<p>You need:</p>\n<ol>\n<li><p>Store the location data like this:</p>\n<p>location: {\ntype: &quot;Point&quot;,\ncoordinates: [-73.846077, 40.828447]\n}</p>\n</li>\n<li><p>Create a geo index</p>\n<p>db.collection.createIndex( { location : &quot;2dsphere&quot; } )</p>\n</li>\n</ol>\n<p>You can make SpringData work for you, using this in your entity:</p>\n<pre><code>@GeoSpatialIndexed(type = GeoSpatialIndexType.GEO_2DSPHERE)\nprivate MongodbLocation location;\n</code></pre>\n<p>And enabling index creation in the properties file:</p>\n<pre><code>data.mongodb.auto-index-creation: true\n</code></pre>\n<p>An example of POJO for the location object:</p>\n<pre><code>public class MongodbLocation {\n    List&lt;Double&gt; coordinates;\n    String type;\n}\n</code></pre>\n<p>And don't forget: Point object and coordinates list need longitude first, then latitude.</p>\n<p>Then... you can use something like this:</p>\n<pre><code>public interface AdRepository extends MongoRepository&lt;AdEntity, String&gt; {\n    GeoResults&lt;AdEntity&gt; findByAddressLocationNear(Point p, Distance d);\n\n    GeoPage&lt;AdEntity&gt; findByAddressLocationNear(Point p, Distance d, Pageable pageable);\n}\n</code></pre>\n"}],"owner":{"account_id":2633828,"reputation":493,"user_id":2279072,"accept_rate":58,"display_name":"Maryo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4274,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1641662960,"creation_date":1453033871,"question_id":34838320,"body_markdown":"I would like to find the nearest shop. So I wrote this code: \r\n\r\n    public class ShopRepositoryImpl extends GenericRepositoryImpl&lt;ShopEntity, String&gt; implements ShopRepositoryCustom {\r\n    \r\n        @Autowired\r\n        protected MongoTemplate template;\r\n    \r\n        @Override\r\n        public GeoResult&lt;ShopEntity&gt; findNearest(Point location) {\r\n            List&lt;GeoResult&lt;ShopEntity&gt;&gt; result = template.geoNear(\r\n                    NearQuery.near(location).maxDistance(new Distance(70, Metrics.KILOMETERS))\r\n                            .query(new Query(Criteria.where(&quot;location&quot;)).limit(1)),\r\n                    ShopEntity.class).getContent();\r\n            if (result.isEmpty())  {\r\n                return null;\r\n            } else {\r\n                return result.get(0);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n\r\nIn tomcat console there is : \r\n\r\n    2016-01-17 12:13:26.151  WARN 645 --- [nio-8080-exec-2]     o.s.data.mongodb.core.MongoTemplate      : Command execution of \r\n    { &quot;geoNear&quot; : &quot;shop&quot; , &quot;query&quot; : { &quot;location&quot; : { }} , &quot;maxDistance&quot; : 0.010974991600211786 , &quot;distanceMultiplier&quot; : 6378.137 , &quot;num&quot; : 1 , &quot;near&quot; : [ 48.8703939 , 2.0] , &quot;spherical&quot; : true} \r\n    failed: no geo indices for geoNear\r\n\r\n\r\nAnd I tried this : \r\n\r\n    public interface ShopRepository extends GenericRepository&lt;ShopEntity, String&gt;, ShopRepositoryCustom {\r\n        GeoResults&lt;ShopEntity&gt; findByLocationNear(Point location, Distance distance);\r\n    }\r\n\r\n\r\nNo result\r\n\r\n\r\nIn my database I have one element : \r\n\r\n\n      {\r\n        &quot;name&quot;: &quot;A shop&quot;,\r\n        &quot;street&quot;: &quot;149 Rue Montmartre&quot;,\r\n        &quot;city&quot;: &quot;Paris&quot;,\r\n        &quot;zip&quot;: &quot;75002&quot;,\r\n        &quot;country&quot;: &quot;France&quot;,\r\n        &quot;location&quot;: {\r\n          &quot;x&quot;: 48.8703937,\r\n          &quot;y&quot;: 2.3422999\r\n        }\r\n      }","title":"Spring Data Mongodb Near Query not works","body":"<p>I would like to find the nearest shop. So I wrote this code: </p>\n\n<pre><code>public class ShopRepositoryImpl extends GenericRepositoryImpl&lt;ShopEntity, String&gt; implements ShopRepositoryCustom {\n\n    @Autowired\n    protected MongoTemplate template;\n\n    @Override\n    public GeoResult&lt;ShopEntity&gt; findNearest(Point location) {\n        List&lt;GeoResult&lt;ShopEntity&gt;&gt; result = template.geoNear(\n                NearQuery.near(location).maxDistance(new Distance(70, Metrics.KILOMETERS))\n                        .query(new Query(Criteria.where(\"location\")).limit(1)),\n                ShopEntity.class).getContent();\n        if (result.isEmpty())  {\n            return null;\n        } else {\n            return result.get(0);\n        }\n    }\n}\n</code></pre>\n\n<p>In tomcat console there is : </p>\n\n<pre><code>2016-01-17 12:13:26.151  WARN 645 --- [nio-8080-exec-2]     o.s.data.mongodb.core.MongoTemplate      : Command execution of \n{ \"geoNear\" : \"shop\" , \"query\" : { \"location\" : { }} , \"maxDistance\" : 0.010974991600211786 , \"distanceMultiplier\" : 6378.137 , \"num\" : 1 , \"near\" : [ 48.8703939 , 2.0] , \"spherical\" : true} \nfailed: no geo indices for geoNear\n</code></pre>\n\n<p>And I tried this : </p>\n\n<pre><code>public interface ShopRepository extends GenericRepository&lt;ShopEntity, String&gt;, ShopRepositoryCustom {\n    GeoResults&lt;ShopEntity&gt; findByLocationNear(Point location, Distance distance);\n}\n</code></pre>\n\n<p>No result</p>\n\n<p>In my database I have one element : </p>\n\n<pre><code>  {\n    \"name\": \"A shop\",\n    \"street\": \"149 Rue Montmartre\",\n    \"city\": \"Paris\",\n    \"zip\": \"75002\",\n    \"country\": \"France\",\n    \"location\": {\n      \"x\": 48.8703937,\n      \"y\": 2.3422999\n    }\n  }\n</code></pre>\n"},{"tags":["java","spring","sap-commerce-cloud","impex"],"comments":[{"owner":{"account_id":20642777,"reputation":1380,"user_id":15155030,"display_name":"Yoni"},"score":0,"creation_date":1641677894,"post_id":70634114,"comment_id":124869114,"body_markdown":"Did you ever create the branchOffice property as type &quot;Basestore&quot; before? going by the error, your system thinks it needs to be a basestore. Mosty likely you forgot to run an update system?","body":"Did you ever create the branchOffice property as type &quot;Basestore&quot; before? going by the error, your system thinks it needs to be a basestore. Mosty likely you forgot to run an update system?"},{"owner":{"account_id":23416796,"reputation":25,"user_id":17477626,"display_name":"mike"},"score":0,"creation_date":1641730535,"post_id":70634114,"comment_id":124877072,"body_markdown":"@Yoni I not ever create branchOffice like type &quot;BaseStore&quot; and I run update system and also initialize but nothing change.","body":"@Yoni I not ever create branchOffice like type &quot;BaseStore&quot; and I run update system and also initialize but nothing change."},{"owner":{"account_id":20642777,"reputation":1380,"user_id":15155030,"display_name":"Yoni"},"score":0,"creation_date":1641732986,"post_id":70634114,"comment_id":124877585,"body_markdown":"Try to check through backoffice -&gt; types -&gt; search for your PlanogramStore, and check what the type of the property branchOffice is","body":"Try to check through backoffice -&gt; types -&gt; search for your PlanogramStore, and check what the type of the property branchOffice is"},{"owner":{"account_id":23416796,"reputation":25,"user_id":17477626,"display_name":"mike"},"score":0,"creation_date":1641734245,"post_id":70634114,"comment_id":124877864,"body_markdown":"@Yoni Ok I&#39;ve check and type of property is java.lang.String","body":"@Yoni Ok I&#39;ve check and type of property is java.lang.String"},{"owner":{"account_id":23416796,"reputation":25,"user_id":17477626,"display_name":"mike"},"score":0,"creation_date":1641736332,"post_id":70634114,"comment_id":124878430,"body_markdown":"@Yoni could the problem be related to the typegroup? For these 4 entities I declared a typegroup named &quot;Assortment&quot;. An impex related to the PlanogramCategoryAnag entity is imported correctly, the problem is only on the impex PlanogramStore.","body":"@Yoni could the problem be related to the typegroup? For these 4 entities I declared a typegroup named &quot;Assortment&quot;. An impex related to the PlanogramCategoryAnag entity is imported correctly, the problem is only on the impex PlanogramStore."},{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1641811063,"post_id":70634114,"comment_id":124895279,"body_markdown":"please check is there any orphaned type system,if it&#39;s there please clean it and execute.\nIf it&#39;s not there just do simple restart and execute the impex","body":"please check is there any orphaned type system,if it&#39;s there please clean it and execute. If it&#39;s not there just do simple restart and execute the impex"},{"owner":{"account_id":23416796,"reputation":25,"user_id":17477626,"display_name":"mike"},"score":0,"creation_date":1641812301,"post_id":70634114,"comment_id":124895795,"body_markdown":"@RaushanKumar how can I do? can you explain to me in more detail please? Thanks","body":"@RaushanKumar how can I do? can you explain to me in more detail please? Thanks"},{"owner":{"account_id":5879019,"reputation":1195,"user_id":4629025,"display_name":"Raushan Kumar"},"score":0,"creation_date":1641813885,"post_id":70634114,"comment_id":124896408,"body_markdown":"hac--&gt;maintenance--&gt;Type System If there any orphan types please clean it","body":"hac--&gt;maintenance--&gt;Type System If there any orphan types please clean it"},{"owner":{"account_id":23416796,"reputation":25,"user_id":17477626,"display_name":"mike"},"score":0,"creation_date":1641825803,"post_id":70634114,"comment_id":124901080,"body_markdown":"@RaushanKumar nothing change. Same issue","body":"@RaushanKumar nothing change. Same issue"},{"owner":{"account_id":20642777,"reputation":1380,"user_id":15155030,"display_name":"Yoni"},"score":0,"creation_date":1641859843,"post_id":70634114,"comment_id":124912956,"body_markdown":"To be sure it&#39;s not old data, you could try and use a different typecode in the deployment? (requires an update system after changing it)","body":"To be sure it&#39;s not old data, you could try and use a different typecode in the deployment? (requires an update system after changing it)"},{"owner":{"account_id":23416796,"reputation":25,"user_id":17477626,"display_name":"mike"},"score":0,"creation_date":1642414775,"post_id":70634114,"comment_id":125055854,"body_markdown":"I resolve it, I have stash the change and run ant all initialize, I re-write the code and run again ant all initialize and it work","body":"I resolve it, I have stash the change and run ant all initialize, I re-write the code and run again ant all initialize and it work"}],"owner":{"account_id":23416796,"reputation":25,"user_id":17477626,"display_name":"mike"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2204,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641661998,"creation_date":1641658148,"question_id":70634114,"body_markdown":"I&#39;have an issues when import an impex on console administration HAC of SAP, issues is the below:\r\n\r\n    INSERT_UPDATE PlanogramStore;planogramCode[unique=true];storeRef[unique=true];branchOffice;endValidity[dateformat=&#39;dd-MM-yyyy&#39;, unique=true]\r\n    ,,,,Exception : line 4: cannot create PlanogramStore with values ItemAttributeMap[ registry:  null, type: &lt;null&gt;, data: {storeref=952, branchoffice=1, endvalidity=null, planogramcode=15713} ] due to Argument mismatch trying to set value &#39;1&#39; for attribute de.hybris.platform.jalo.GenericItem.branchOffice (got java.lang.String, expected de.hybris.platform.store.BaseStore)., transaction rolled back because it has been marked as  rollback-only, Exception : line..\r\n\r\nthe item-core is this:\r\n\r\n    &lt;itemtype code=&quot;PlanogramStore&quot; autocreate=&quot;true&quot; generate=&quot;false&quot;&gt;\r\n\t\t\t\t&lt;deployment table=&quot;PlanogramStore&quot; typecode=&quot;21076&quot;/&gt;\r\n\t\t\t\t&lt;attributes&gt;\r\n\t\t\t\t\t&lt;attribute type=&quot;java.lang.Integer&quot; qualifier=&quot;planogramCode&quot;&gt;\r\n\t\t\t\t\t\t&lt;modifiers/&gt;\r\n\t\t\t\t\t\t&lt;persistence type=&quot;property&quot;/&gt;\r\n\t\t\t\t\t&lt;/attribute&gt;\r\n\t\t\t\t\t\r\n\t\t\t\t\t&lt;attribute type=&quot;java.lang.String&quot; qualifier=&quot;storeRef&quot;&gt;\r\n\t\t\t\t\t\t&lt;modifiers/&gt;\r\n\t\t\t\t\t\t&lt;persistence type=&quot;property&quot;/&gt;\r\n\t\t\t\t\t&lt;/attribute&gt;\r\n\t\t\t\t\r\n\t\t\t\t\t&lt;attribute type=&quot;java.lang.String&quot; qualifier=&quot;branchOffice&quot;&gt;\r\n\t\t\t\t\t\t&lt;modifiers/&gt;\r\n\t\t\t\t\t\t&lt;persistence type=&quot;property&quot;/&gt;\r\n\t\t\t\t\t&lt;/attribute&gt;\r\n\t\t\t\t\t&lt;attribute type=&quot;java.util.Date&quot; qualifier=&quot;endValidity&quot;&gt;\r\n\t\t\t\t\t\t&lt;modifiers/&gt;\r\n\t\t\t\t\t\t&lt;persistence type=&quot;property&quot;/&gt;\r\n\t\t\t\t\t&lt;/attribute&gt;\r\n\t\t\t\t&lt;/attributes&gt;\r\n\t\t\t\t&lt;indexes&gt;\r\n\t\t\t\t\t&lt;index name=&quot;PlanogramStoreIndex&quot;&gt;\r\n\t\t\t\t\t\t&lt;key attribute=&quot;endValidity&quot;/&gt;\r\n\t\t\t\t\t\t&lt;key attribute=&quot;planogramCode&quot;/&gt;\r\n\t\t\t\t\t\t&lt;key attribute=&quot;storeRef&quot;/&gt;\r\n\t\t\t\t\t&lt;/index&gt;\r\n\t\t\t\t&lt;/indexes&gt;\r\n\t\t\t&lt;/itemtype&gt;\r\n\r\nImpex is below:\r\n\r\n    INSERT_UPDATE PlanogramStore;planogramCode[unique=true];storeRef[unique=true];branchOffice;endValidity[dateformat=&#39;dd-MM-yyyy&#39;, unique=true]\r\n    ;15713;244;1\r\n    ;15713;814;1\r\n    ;15713;952;1\r\n\r\nHow is the problem? And how resolve it? Thanks.\r\n\r\n\r\n\r\n\r\n","title":"SAP Hybris impex import issues","body":"<p>I'have an issues when import an impex on console administration HAC of SAP, issues is the below:</p>\n<pre><code>INSERT_UPDATE PlanogramStore;planogramCode[unique=true];storeRef[unique=true];branchOffice;endValidity[dateformat='dd-MM-yyyy', unique=true]\n,,,,Exception : line 4: cannot create PlanogramStore with values ItemAttributeMap[ registry:  null, type: &lt;null&gt;, data: {storeref=952, branchoffice=1, endvalidity=null, planogramcode=15713} ] due to Argument mismatch trying to set value '1' for attribute de.hybris.platform.jalo.GenericItem.branchOffice (got java.lang.String, expected de.hybris.platform.store.BaseStore)., transaction rolled back because it has been marked as  rollback-only, Exception : line..\n</code></pre>\n<p>the item-core is this:</p>\n<pre><code>&lt;itemtype code=&quot;PlanogramStore&quot; autocreate=&quot;true&quot; generate=&quot;false&quot;&gt;\n            &lt;deployment table=&quot;PlanogramStore&quot; typecode=&quot;21076&quot;/&gt;\n            &lt;attributes&gt;\n                &lt;attribute type=&quot;java.lang.Integer&quot; qualifier=&quot;planogramCode&quot;&gt;\n                    &lt;modifiers/&gt;\n                    &lt;persistence type=&quot;property&quot;/&gt;\n                &lt;/attribute&gt;\n                \n                &lt;attribute type=&quot;java.lang.String&quot; qualifier=&quot;storeRef&quot;&gt;\n                    &lt;modifiers/&gt;\n                    &lt;persistence type=&quot;property&quot;/&gt;\n                &lt;/attribute&gt;\n            \n                &lt;attribute type=&quot;java.lang.String&quot; qualifier=&quot;branchOffice&quot;&gt;\n                    &lt;modifiers/&gt;\n                    &lt;persistence type=&quot;property&quot;/&gt;\n                &lt;/attribute&gt;\n                &lt;attribute type=&quot;java.util.Date&quot; qualifier=&quot;endValidity&quot;&gt;\n                    &lt;modifiers/&gt;\n                    &lt;persistence type=&quot;property&quot;/&gt;\n                &lt;/attribute&gt;\n            &lt;/attributes&gt;\n            &lt;indexes&gt;\n                &lt;index name=&quot;PlanogramStoreIndex&quot;&gt;\n                    &lt;key attribute=&quot;endValidity&quot;/&gt;\n                    &lt;key attribute=&quot;planogramCode&quot;/&gt;\n                    &lt;key attribute=&quot;storeRef&quot;/&gt;\n                &lt;/index&gt;\n            &lt;/indexes&gt;\n        &lt;/itemtype&gt;\n</code></pre>\n<p>Impex is below:</p>\n<pre><code>INSERT_UPDATE PlanogramStore;planogramCode[unique=true];storeRef[unique=true];branchOffice;endValidity[dateformat='dd-MM-yyyy', unique=true]\n;15713;244;1\n;15713;814;1\n;15713;952;1\n</code></pre>\n<p>How is the problem? And how resolve it? Thanks.</p>\n"},{"tags":["java","android","kotlin","camera","photo-gallery"],"answers":[{"tags":[],"owner":{"account_id":1174345,"reputation":33174,"user_id":1150712,"accept_rate":72,"display_name":"zhangxaochen"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1632445124,"creation_date":1614649618,"answer_id":66432111,"question_id":66432095,"body_markdown":"Since API level 30, there have been changes in the package visibility. https://developer.android.com/about/versions/11/privacy/package-visibility\r\n\r\nFor your package manager to work properly, you need to declare `&lt;queries&gt;` in your `AndroidManifest.xml`:\r\n\r\nCode:\r\n\r\n```\r\n&lt;manifest package=&quot;your.package.name&quot;&gt;\r\n&lt;queries&gt;\r\n    &lt;intent&gt;\r\n        &lt;action android:name=&quot;android.media.action.IMAGE_CAPTURE&quot; /&gt;\r\n    &lt;/intent&gt;\r\n&lt;/queries&gt;\r\n&lt;/manifest&gt;\r\n```\r\n\r\nThis works only for the default camera apps. If your app is using some 3rd party camera, you can find some info [here](https://commonsware.com/blog/2020/08/16/action-image-capture-android-r.html).","title":"Capture photo from camera is not working in Android 11","body":"<p>Since API level 30, there have been changes in the package visibility. <a href=\"https://developer.android.com/about/versions/11/privacy/package-visibility\" rel=\"nofollow noreferrer\">https://developer.android.com/about/versions/11/privacy/package-visibility</a></p>\n<p>For your package manager to work properly, you need to declare <code>&lt;queries&gt;</code> in your <code>AndroidManifest.xml</code>:</p>\n<p>Code:</p>\n<pre><code>&lt;manifest package=&quot;your.package.name&quot;&gt;\n&lt;queries&gt;\n    &lt;intent&gt;\n        &lt;action android:name=&quot;android.media.action.IMAGE_CAPTURE&quot; /&gt;\n    &lt;/intent&gt;\n&lt;/queries&gt;\n&lt;/manifest&gt;\n</code></pre>\n<p>This works only for the default camera apps. If your app is using some 3rd party camera, you can find some info <a href=\"https://commonsware.com/blog/2020/08/16/action-image-capture-android-r.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":15279543,"reputation":545,"user_id":11024344,"display_name":"Bhavesh Chand"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1639055269,"creation_date":1639055269,"answer_id":70290468,"question_id":66432095,"body_markdown":"You need to change\r\n\r\n**File sd_directory = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES);**\r\n\r\nto\r\n\r\n**File sd_directory = getExternalFilesDir(Environment.DIRECTORY_PICTURES);**\r\n\r\n","title":"Capture photo from camera is not working in Android 11","body":"<p>You need to change</p>\n<p><strong>File sd_directory = Environment.getExternalStoragePublicDirectory(Environment.DIRECTORY_PICTURES);</strong></p>\n<p>to</p>\n<p><strong>File sd_directory = getExternalFilesDir(Environment.DIRECTORY_PICTURES);</strong></p>\n"},{"tags":[],"owner":{"account_id":7217968,"reputation":13,"user_id":5509663,"display_name":"pavan patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640864171,"creation_date":1640864171,"answer_id":70531081,"question_id":66432095,"body_markdown":"Add this to your manifest outside the application tag, I hope it will resolve your issue\r\n\r\n    &lt;queries&gt;\r\n            &lt;intent&gt;\r\n                &lt;action android:name=&quot;android.media.action.IMAGE_CAPTURE&quot; /&gt;\r\n            &lt;/intent&gt;\r\n            &lt;intent&gt;\r\n                &lt;action android:name=&quot;android.intent.action.PICK&quot; /&gt;\r\n                &lt;data android:mimeType=&quot;vnd.android.cursor.dir/image&quot; /&gt;\r\n            &lt;/intent&gt;\r\n    &lt;/queries&gt;\r\n\r\n","title":"Capture photo from camera is not working in Android 11","body":"<p>Add this to your manifest outside the application tag, I hope it will resolve your issue</p>\n<pre><code>&lt;queries&gt;\n        &lt;intent&gt;\n            &lt;action android:name=&quot;android.media.action.IMAGE_CAPTURE&quot; /&gt;\n        &lt;/intent&gt;\n        &lt;intent&gt;\n            &lt;action android:name=&quot;android.intent.action.PICK&quot; /&gt;\n            &lt;data android:mimeType=&quot;vnd.android.cursor.dir/image&quot; /&gt;\n        &lt;/intent&gt;\n&lt;/queries&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7522309,"reputation":21,"user_id":5713747,"display_name":"Roshan kumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641661904,"creation_date":1641661904,"answer_id":70634620,"question_id":66432095,"body_markdown":"Android 11 has Storage update. So When using SDK &gt;= 29 must set URI instead of File path. \r\n\r\n    URI uri = null;   // set this uri in camera Intent\r\n            if (Environment.getExternalStorageState().equals(Environment.MEDIA_MOUNTED))\r\n            {\r\n               uri =  getApplicationContext().getContentResolver().insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, new ContentValues());\r\n            }\r\n            else\r\n            {\r\n                uri =   getApplicationContext().getContentResolver().insert(MediaStore.Images.Media.INTERNAL_CONTENT_URI, new ContentValues());\r\n            }\r\n        }\r\n\r\n ","title":"Capture photo from camera is not working in Android 11","body":"<p>Android 11 has Storage update. So When using SDK &gt;= 29 must set URI instead of File path.</p>\n<pre><code>URI uri = null;   // set this uri in camera Intent\n        if (Environment.getExternalStorageState().equals(Environment.MEDIA_MOUNTED))\n        {\n           uri =  getApplicationContext().getContentResolver().insert(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, new ContentValues());\n        }\n        else\n        {\n            uri =   getApplicationContext().getContentResolver().insert(MediaStore.Images.Media.INTERNAL_CONTENT_URI, new ContentValues());\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":19862158,"reputation":111,"user_id":14550303,"display_name":"Sahil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13292,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":4,"score":10,"last_activity_date":1641661904,"creation_date":1614649418,"question_id":66432095,"body_markdown":"I used default camera of device for capture photo in my app. When I used android 10 and below version everything is working fine. but when I used camera in android 11 then not working in app. Can you help me to solve this problem.","title":"Capture photo from camera is not working in Android 11","body":"<p>I used default camera of device for capture photo in my app. When I used android 10 and below version everything is working fine. but when I used camera in android 11 then not working in app. Can you help me to solve this problem.</p>\n"},{"tags":["java","kotlin","java-time"],"comments":[{"owner":{"account_id":13722742,"reputation":16978,"user_id":10134209,"display_name":"gidds"},"score":1,"creation_date":1641663672,"post_id":70634399,"comment_id":124865902,"body_markdown":"As an aside, a format like `mm:ss:SSS` is non-[standard](https://en.wikipedia.org/wiki/ISO_8601#Times) and likely to be confusing; milliseconds are normally preceded by a `.`, and so times in this format could be easily mistaken for `HH:mm:ss`. Of course, this may be a fixed requirement; but if not, you might consider changing it.","body":"As an aside, a format like <code>mm:ss:SSS</code> is non-<a href=\"https://en.wikipedia.org/wiki/ISO_8601#Times\" rel=\"nofollow noreferrer\">standard</a> and likely to be confusing; milliseconds are normally preceded by a <code>.</code>, and so times in this format could be easily mistaken for <code>HH:mm:ss</code>. Of course, this may be a fixed requirement; but if not, you might consider changing it."},{"owner":{"account_id":12488457,"reputation":3000,"user_id":9090880,"display_name":"kaulex"},"score":0,"creation_date":1641664385,"post_id":70634399,"comment_id":124866084,"body_markdown":"Yes I already considered that. Anyway it is a fixed requirement. Thank you for the input.","body":"Yes I already considered that. Anyway it is a fixed requirement. Thank you for the input."},{"owner":{"account_id":13722742,"reputation":16978,"user_id":10134209,"display_name":"gidds"},"score":1,"creation_date":1641664462,"post_id":70634399,"comment_id":124866106,"body_markdown":"I guessed you had — but felt it was worth mentioning as a warning to anyone else reading this question :-)","body":"I guessed you had — but felt it was worth mentioning as a warning to anyone else reading this question :-)"}],"answers":[{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1641661356,"creation_date":1641661356,"answer_id":70634563,"question_id":70634399,"body_markdown":"The problem is that you have no definition of the hour. This means you have to build a smarter formatter, telling it which hour should be the default:\r\n```kotlin\r\nfun main(args: Array&lt;String&gt;) {\r\n    val time = &quot;03:02:111&quot;\r\n    val formatter = DateTimeFormatterBuilder()\r\n        .appendPattern(&quot;mm:ss:SSS&quot;)\r\n        .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\r\n        .toFormatter()\r\n    val convertedTime = LocalTime.parse(time, formatter)\r\n    print(convertedTime.toString())\r\n}\r\n```\r\n\r\nOf course, this will only work as long as the minutes are smaller than 60. If you don&#39;t have this guarantee, then you would need another approach.","title":"String of type mm:ss:SSS to LocalTime Kotlin/Java","body":"<p>The problem is that you have no definition of the hour. This means you have to build a smarter formatter, telling it which hour should be the default:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun main(args: Array&lt;String&gt;) {\n    val time = &quot;03:02:111&quot;\n    val formatter = DateTimeFormatterBuilder()\n        .appendPattern(&quot;mm:ss:SSS&quot;)\n        .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\n        .toFormatter()\n    val convertedTime = LocalTime.parse(time, formatter)\n    print(convertedTime.toString())\n}\n</code></pre>\n<p>Of course, this will only work as long as the minutes are smaller than 60. If you don't have this guarantee, then you would need another approach.</p>\n"}],"owner":{"account_id":12488457,"reputation":3000,"user_id":9090880,"display_name":"kaulex"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70634563,"answer_count":1,"score":1,"last_activity_date":1641661356,"creation_date":1641660300,"question_id":70634399,"body_markdown":"I have a time string `03:02:111` which is of pattern `mm:ss:SSS`. I would like to transform this into a LocalTime object.\r\n\r\n*mm -&gt; minutes*\r\n\r\n*ss -&gt; seconds*\r\n\r\n*SSS -&gt; mills*\r\n\r\n**Simple example:**\r\n```kotlin\r\nval time = &quot;03:02:111&quot;\r\nval formatter = DateTimeFormatter.ofPattern(&quot;mm:ss:SSS&quot;)\r\nval convertedTime = LocalTime.parse(time, formatter)\r\nprint(convertedTime.toString())\r\n```\r\n\r\nI get the following exception:\r\n\r\n&gt; java.time.format.DateTimeParseException: Text &#39;03:02:111&#39; could not be\r\n&gt; parsed: Unable to obtain LocalTime from TemporalAccessor:\r\n&gt; {MicroOfSecond=111000, MilliOfSecond=111, NanoOfSecond=111000000,\r\n&gt; SecondOfMinute=2, MinuteOfHour=3},ISO of type java.time.format.Parsed\r\n\r\n\r\nCan someone explain why this is not working? I also checked the pattern twice. ","title":"String of type mm:ss:SSS to LocalTime Kotlin/Java","body":"<p>I have a time string <code>03:02:111</code> which is of pattern <code>mm:ss:SSS</code>. I would like to transform this into a LocalTime object.</p>\n<p><em>mm -&gt; minutes</em></p>\n<p><em>ss -&gt; seconds</em></p>\n<p><em>SSS -&gt; mills</em></p>\n<p><strong>Simple example:</strong></p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val time = &quot;03:02:111&quot;\nval formatter = DateTimeFormatter.ofPattern(&quot;mm:ss:SSS&quot;)\nval convertedTime = LocalTime.parse(time, formatter)\nprint(convertedTime.toString())\n</code></pre>\n<p>I get the following exception:</p>\n<blockquote>\n<p>java.time.format.DateTimeParseException: Text '03:02:111' could not be\nparsed: Unable to obtain LocalTime from TemporalAccessor:\n{MicroOfSecond=111000, MilliOfSecond=111, NanoOfSecond=111000000,\nSecondOfMinute=2, MinuteOfHour=3},ISO of type java.time.format.Parsed</p>\n</blockquote>\n<p>Can someone explain why this is not working? I also checked the pattern twice.</p>\n"},{"tags":["java","tensorflow","garbage-collection","java-native-interface","classloader"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1641478853,"post_id":70607774,"comment_id":124818126,"body_markdown":"You should use a `PhantomReference` and `ReferenceQueue` to find out whether and when the `URLClassLoader` has been collected, rather than making guesswork like calling `System.gc()` ten times. This works best when refactoring the duplicated code into a method. Then, you don’t need to set any variable to `null`. Use `try(…) {}` to safely close the class loader but return a `PhantomReference` encapsulating the loader to the caller. The caller then may `poll()` the reference queue and call `System.gc()` until `poll()` returned the reference.","body":"You should use a <code>PhantomReference</code> and <code>ReferenceQueue</code> to find out whether and when the <code>URLClassLoader</code> has been collected, rather than making guesswork like calling <code>System.gc()</code> ten times. This works best when refactoring the duplicated code into a method. Then, you don’t need to set any variable to <code>null</code>. Use <code>try(…) {}</code> to safely close the class loader but return a <code>PhantomReference</code> encapsulating the loader to the caller. The caller then may <code>poll()</code> the reference queue and call <code>System.gc()</code> until <code>poll()</code> returned the reference."},{"owner":{"account_id":11686699,"reputation":56,"user_id":8556267,"display_name":"CARLOS"},"score":0,"creation_date":1641585827,"post_id":70607774,"comment_id":124851698,"body_markdown":"Thank you for your answer @Hoger . Just a couple of questions as I am not very familiar with this. By using `try(...){}` you mean something like `try(URLClassLoader cl = new URLClassLoader(...)){}`? ANd then, should the `PhantomReference` be inside the method with the duplicated code?","body":"Thank you for your answer @Hoger . Just a couple of questions as I am not very familiar with this. By using <code>try(...){}</code> you mean something like <code>try(URLClassLoader cl = new URLClassLoader(...)){}</code>? ANd then, should the <code>PhantomReference</code> be inside the method with the duplicated code?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1641827015,"post_id":70607774,"comment_id":124901690,"body_markdown":"Yes, something like `try(URLClassLoader cl = new URLClassLoader(...)){ /* use cl */ return new PhantomReference(cl, queue); }`. The caller provides the queue as parameter and receives the phantom reference. It may then do something like `while(queue.poll() != reference) System.gc();` to wait until the loader has been collected.","body":"Yes, something like <code>try(URLClassLoader cl = new URLClassLoader(...)){ &#47;* use cl *&#47; return new PhantomReference(cl, queue); }</code>. The caller provides the queue as parameter and receives the phantom reference. It may then do something like <code>while(queue.poll() != reference) System.gc();</code> to wait until the loader has been collected."},{"owner":{"account_id":11686699,"reputation":56,"user_id":8556267,"display_name":"CARLOS"},"score":0,"creation_date":1641856293,"post_id":70607774,"comment_id":124912237,"body_markdown":"Great, thank you! It works fine in Windows. However when I try the same thing in Linux it does not work. But I think the issue might be on the native libraries because I have also tried directly dlopen and dlclose on the .so files and I got the same error.","body":"Great, thank you! It works fine in Windows. However when I try the same thing in Linux it does not work. But I think the issue might be on the native libraries because I have also tried directly dlopen and dlclose on the .so files and I got the same error."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1641997859,"post_id":70607774,"comment_id":124955291,"body_markdown":"Note that one point of this refactoring was that now, all these `… = null` assignments are unnecessary. When you use JDK&#160;9 or newer, calling `referenceFromQueue.clear();` is not necessary as well.","body":"Note that one point of this refactoring was that now, all these <code>… = null</code> assignments are unnecessary. When you use JDK 9 or newer, calling <code>referenceFromQueue.clear();</code> is not necessary as well."},{"owner":{"account_id":11686699,"reputation":56,"user_id":8556267,"display_name":"CARLOS"},"score":0,"creation_date":1642006202,"post_id":70607774,"comment_id":124959389,"body_markdown":"Yes, sorry about that it was double comprobation just in case haha! However I am still not able to unload certain libraries... https://stackoverflow.com/questions/70682562/jni-native-library-avoids-garbage-collection-and-unloading","body":"Yes, sorry about that it was double comprobation just in case haha! However I am still not able to unload certain libraries... <a href=\"https://stackoverflow.com/questions/70682562/jni-native-library-avoids-garbage-collection-and-unloading\" title=\"jni native library avoids garbage collection and unloading\">stackoverflow.com/questions/70682562/&hellip;</a>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1642006556,"post_id":70607774,"comment_id":124959555,"body_markdown":"That’s why I posted comments, rather than an answer. These steps did not guaranty to solve the problem, but were only to ensure that the problem is not on your side. It’s possible that a native library prevents objects from garbage collection. The next step is creating a heap dump and checking, which paths to root references exists.","body":"That’s why I posted comments, rather than an answer. These steps did not guaranty to solve the problem, but were only to ensure that the problem is not on your side. It’s possible that a native library prevents objects from garbage collection. The next step is creating a heap dump and checking, which paths to root references exists."},{"owner":{"account_id":11686699,"reputation":56,"user_id":8556267,"display_name":"CARLOS"},"score":0,"creation_date":1642007492,"post_id":70607774,"comment_id":124959964,"body_markdown":"Thanks a lot for your kind answers sir! Just out of ignorance, after identifying the problem with the heap dump, will I be able to solve the issue on the JAva side, or should I tackle it from the C++ side?","body":"Thanks a lot for your kind answers sir! Just out of ignorance, after identifying the problem with the heap dump, will I be able to solve the issue on the JAva side, or should I tackle it from the C++ side?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1642007607,"post_id":70607774,"comment_id":124960023,"body_markdown":"That depends on the result of the analysis. It’s impossible to predict beforehand.","body":"That depends on the result of the analysis. It’s impossible to predict beforehand."}],"owner":{"account_id":11686699,"reputation":56,"user_id":8556267,"display_name":"CARLOS"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":505,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641661150,"creation_date":1641475415,"question_id":70607774,"body_markdown":"I am developing an application and I want to be able to load and unload different versions of a native library, more specifically Tensorflow and Pytorch.\r\nIn principle, Garbage collecting the classloader that loaded the class that called System.load(native_library).\r\nHowever, it might not seem to be the case for either Tensorflow or Pytorch.\r\nHere is a sample program I made to try to load two different Tensorflow versions:\r\n```\r\nimport java.io.File;\r\nimport java.lang.reflect.Field;\r\nimport java.lang.reflect.Method;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\nimport java.net.URLClassLoader;\r\nimport java.util.Vector;\r\n\r\npublic class ForceUnload2 {\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\t// Create ClassLoader with wanted JARs\r\n\t\tString file1 = &quot;/home/carlos/Documents/test/tensorflow_0.3.3_linux_cpu/&quot;;\r\n\t\tURLClassLoader cl1 = new URLClassLoader(getURLs(file1));\r\n\t\t// Load native library of Tensorflow\r\n        Class&lt;?&gt; ca1 = cl1.loadClass(&quot;org.bytedeco.javacpp.Loader&quot;);\r\n        Class&lt;?&gt; ca3 = cl1.loadClass(&quot;org.tensorflow.internal.c_api.global.tensorflow&quot;);\r\n        Method mm1 = ca1.getMethod(&quot;load&quot;, Class.class);\r\n        mm1.invoke(null, ca3);\r\n        // REmove references and try to garbage collect\r\n        ca1 = null;\r\n        mm1 = null;\r\n        cl1.close();\r\n        cl1 = null;\r\n        for (int i = 0; i &lt; 10; i++)\r\n        \tSystem.gc();\r\n\r\n        System.gc();\r\n\r\n\t\t// Create ClassLoader for the second Tensorflow version\r\n\t\tString file = &quot;/home/carlos/Documents/test/tensorflow_0.2.0_linux_cpu&quot;;\r\n\t\tURLClassLoader cl = new URLClassLoader(getURLs(file));\r\n        // Load the second native library\r\n        Class&lt;?&gt; ca = cl.loadClass(&quot;org.bytedeco.javacpp.Loader&quot;);\r\n        Class&lt;?&gt; ca2 = cl.loadClass(&quot;org.tensorflow.internal.c_api.global.tensorflow&quot;);\r\n        Method mm = ca.getMethod(&quot;load&quot;, Class.class);\r\n        mm.invoke(null, ca2);\r\n        // REmove all references to garbage collect\r\n        ca2 = null;\r\n        ca = null;\r\n        mm = null;\r\n        cl.close();\r\n        cl = null;\r\n        for (int i = 0; i &lt; 10; i++)\r\n        \tSystem.gc();\r\n\t}\r\n\t\r\n\tpublic static URL[] getURLs(String file) throws MalformedURLException {\r\n\t\tFile[] fs = new File(file).listFiles();\r\n\t\tURL[] urls = new URL[fs.length];\r\n\t\tint c = 0;\r\n\t\tfor (File f : fs) {\r\n\t\t\turls[c ++] = f.toURI().toURL();\r\n\t\t}\r\n\t\treturn urls;\r\n\t}\r\n}\r\n\r\n```\r\nwhere file1 and file are the directories containing the needed JARs to load the native library.\r\nI have also tried to force unload the native libraries with the following:\r\n```\r\nField field = ClassLoader.class.getDeclaredField(&quot;nativeLibraries&quot;);\r\n\t    field.setAccessible(true);\r\n\t    Object lib = field.get(cls1);\r\n\t    Vector libs = (Vector) field.get(cls1);\r\n\t    for (Object o : libs) {\r\n\t\t    Method finalize = o.getClass().getDeclaredMethod(&quot;finalize&quot;, new Class[0]);\r\n\t\t    finalize.setAccessible(true);\r\n\t\t    finalize.invoke(o, new Object[0]);\r\n\t    }\r\n```\r\nThis trick (I know it is very bad practice) allows the classloader to be garbage collected, but still loading the second version of the same native library causes an error, the same as if the native library had not been unloaded (the native library has not been unloaded then??).\r\n\r\n**EDIT:**\r\n\r\nAs per @Holger answer I have done a couple of changes in the code addig a PhantomReference (which honestly I don&#39;t know if I have done it correctly). It seems that the URLClassLoader is not even queued for garbage collection. Here is the edited code:\r\n\r\n```\r\nimport java.io.File;\r\nimport java.lang.ref.Reference;\r\nimport java.lang.ref.ReferenceQueue;\r\nimport java.lang.reflect.Method;\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\nimport java.net.URLClassLoader;\r\n\r\npublic class ForceUnload2 {\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\t// Create ClassLoader with wanted JARs\r\n\t\tString dir1 = &quot;/home/carlos/Documents/test/tensorflow_0.3.3_linux_cpu/&quot;;\r\n\t\tReferenceQueue&lt;URLClassLoader&gt; referenceQueue = new ReferenceQueue&lt;&gt;();\r\n        LargeObjectFinalizer phantomRefClassloader = load(dir1, referenceQueue);\r\n        \r\n        System.out.println(phantomRefClassloader.isEnqueued());\r\n\r\n    \tReference&lt;?&gt; referenceFromQueue;\r\n    \t// Call System.gc() until the rederence is poll()\r\n\t\twhile((referenceFromQueue = referenceQueue.poll()) == null) {\r\n    \t\tSystem.gc();\r\n        \tSystem.runFinalization();\r\n    \t}\r\n\t\t((LargeObjectFinalizer)referenceFromQueue).finalizeResources();\r\n\t    referenceFromQueue.clear();\r\n\t    referenceQueue = null;\r\n\t    phantomRefClassloader = null;;\r\n\t    referenceFromQueue = null;\r\n        System.gc();\r\n        \r\n\r\n\t\t// Create ClassLoader for the second Tensorflow version\r\n\t\tString dir2 = &quot;/home/carlos/Documents/test/tensorflow_0.2.0_linux_cpu&quot;;\r\n\t\tReferenceQueue&lt;URLClassLoader&gt; referenceQueue2 = new ReferenceQueue&lt;&gt;();\r\n\t\tload(dir2, referenceQueue2);\r\n\t}\r\n\t\r\n\tpublic static LargeObjectFinalizer load(String file1, ReferenceQueue&lt;URLClassLoader&gt; referenceQueue) throws Exception {\r\n\t\tLargeObjectFinalizer ref;\r\n\t\ttry (URLClassLoader cls1 = new URLClassLoader(getURLs(file1))) {\r\n\t\t\t// Load native library of Tensorflow\r\n\t        Class&lt;?&gt; ca1 = cls1.loadClass(&quot;org.bytedeco.javacpp.Loader&quot;);\r\n\t        Class&lt;?&gt; ca3 = cls1.loadClass(&quot;org.tensorflow.internal.c_api.global.tensorflow&quot;);\r\n\t        Method mm1 = ca1.getMethod(&quot;load&quot;, Class.class);\r\n\t        mm1.invoke(null, ca3);\r\n\t        // Create phantom ref\r\n\t        ref = new LargeObjectFinalizer(cls1, referenceQueue);\r\n\t        cls1.close();\r\n\t        System.out.println(ref.isEnqueued());\r\n\t        // REmove references and try to garbage collect\r\n\t        ca1 = null;\r\n\t        ca3 = null;\r\n\t        mm1 = null;\r\n\t\t}\r\n        System.out.println(ref.isEnqueued());\r\n        return ref;\r\n\t}\r\n\t\r\n\tpublic static URL[] getURLs(String file) throws MalformedURLException {\r\n\t\tFile[] fs = new File(file).listFiles();\r\n\t\tURL[] urls = new URL[fs.length];\r\n\t\tint c = 0;\r\n\t\tfor (File f : fs) {\r\n\t\t\turls[c ++] = f.toURI().toURL();\r\n\t\t}\r\n\t\treturn urls;\r\n\t}\r\n}\r\n\r\n```\r\n\r\nAnd here is the code for the LargeObjectFinalizer.I copied it from https://www.baeldung.com/java-phantom-reference\r\n\r\n```\r\nimport java.lang.ref.PhantomReference;\r\nimport java.lang.ref.ReferenceQueue;\r\nimport java.net.URLClassLoader;\r\n\r\npublic class LargeObjectFinalizer extends PhantomReference&lt;URLClassLoader&gt; {\r\n\r\n    public LargeObjectFinalizer(\r\n    \t\tURLClassLoader referent, ReferenceQueue&lt;? super URLClassLoader&gt; q) {\r\n        super(referent, q);\r\n    }\r\n\r\n    public void finalizeResources() {\r\n        // free resources\r\n        System.out.println(&quot;clearing ...&quot;);\r\n    }\r\n}\r\n```\r\n\r\n\r\nRegards,\r\nCarlos","title":"Unload ClassLoader to unload native library","body":"<p>I am developing an application and I want to be able to load and unload different versions of a native library, more specifically Tensorflow and Pytorch.\nIn principle, Garbage collecting the classloader that loaded the class that called System.load(native_library).\nHowever, it might not seem to be the case for either Tensorflow or Pytorch.\nHere is a sample program I made to try to load two different Tensorflow versions:</p>\n<pre><code>import java.io.File;\nimport java.lang.reflect.Field;\nimport java.lang.reflect.Method;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.net.URLClassLoader;\nimport java.util.Vector;\n\npublic class ForceUnload2 {\n\n    public static void main(String[] args) throws Exception {\n        // Create ClassLoader with wanted JARs\n        String file1 = &quot;/home/carlos/Documents/test/tensorflow_0.3.3_linux_cpu/&quot;;\n        URLClassLoader cl1 = new URLClassLoader(getURLs(file1));\n        // Load native library of Tensorflow\n        Class&lt;?&gt; ca1 = cl1.loadClass(&quot;org.bytedeco.javacpp.Loader&quot;);\n        Class&lt;?&gt; ca3 = cl1.loadClass(&quot;org.tensorflow.internal.c_api.global.tensorflow&quot;);\n        Method mm1 = ca1.getMethod(&quot;load&quot;, Class.class);\n        mm1.invoke(null, ca3);\n        // REmove references and try to garbage collect\n        ca1 = null;\n        mm1 = null;\n        cl1.close();\n        cl1 = null;\n        for (int i = 0; i &lt; 10; i++)\n            System.gc();\n\n        System.gc();\n\n        // Create ClassLoader for the second Tensorflow version\n        String file = &quot;/home/carlos/Documents/test/tensorflow_0.2.0_linux_cpu&quot;;\n        URLClassLoader cl = new URLClassLoader(getURLs(file));\n        // Load the second native library\n        Class&lt;?&gt; ca = cl.loadClass(&quot;org.bytedeco.javacpp.Loader&quot;);\n        Class&lt;?&gt; ca2 = cl.loadClass(&quot;org.tensorflow.internal.c_api.global.tensorflow&quot;);\n        Method mm = ca.getMethod(&quot;load&quot;, Class.class);\n        mm.invoke(null, ca2);\n        // REmove all references to garbage collect\n        ca2 = null;\n        ca = null;\n        mm = null;\n        cl.close();\n        cl = null;\n        for (int i = 0; i &lt; 10; i++)\n            System.gc();\n    }\n    \n    public static URL[] getURLs(String file) throws MalformedURLException {\n        File[] fs = new File(file).listFiles();\n        URL[] urls = new URL[fs.length];\n        int c = 0;\n        for (File f : fs) {\n            urls[c ++] = f.toURI().toURL();\n        }\n        return urls;\n    }\n}\n\n</code></pre>\n<p>where file1 and file are the directories containing the needed JARs to load the native library.\nI have also tried to force unload the native libraries with the following:</p>\n<pre><code>Field field = ClassLoader.class.getDeclaredField(&quot;nativeLibraries&quot;);\n        field.setAccessible(true);\n        Object lib = field.get(cls1);\n        Vector libs = (Vector) field.get(cls1);\n        for (Object o : libs) {\n            Method finalize = o.getClass().getDeclaredMethod(&quot;finalize&quot;, new Class[0]);\n            finalize.setAccessible(true);\n            finalize.invoke(o, new Object[0]);\n        }\n</code></pre>\n<p>This trick (I know it is very bad practice) allows the classloader to be garbage collected, but still loading the second version of the same native library causes an error, the same as if the native library had not been unloaded (the native library has not been unloaded then??).</p>\n<p><strong>EDIT:</strong></p>\n<p>As per @Holger answer I have done a couple of changes in the code addig a PhantomReference (which honestly I don't know if I have done it correctly). It seems that the URLClassLoader is not even queued for garbage collection. Here is the edited code:</p>\n<pre><code>import java.io.File;\nimport java.lang.ref.Reference;\nimport java.lang.ref.ReferenceQueue;\nimport java.lang.reflect.Method;\nimport java.net.MalformedURLException;\nimport java.net.URL;\nimport java.net.URLClassLoader;\n\npublic class ForceUnload2 {\n\n    public static void main(String[] args) throws Exception {\n        // Create ClassLoader with wanted JARs\n        String dir1 = &quot;/home/carlos/Documents/test/tensorflow_0.3.3_linux_cpu/&quot;;\n        ReferenceQueue&lt;URLClassLoader&gt; referenceQueue = new ReferenceQueue&lt;&gt;();\n        LargeObjectFinalizer phantomRefClassloader = load(dir1, referenceQueue);\n        \n        System.out.println(phantomRefClassloader.isEnqueued());\n\n        Reference&lt;?&gt; referenceFromQueue;\n        // Call System.gc() until the rederence is poll()\n        while((referenceFromQueue = referenceQueue.poll()) == null) {\n            System.gc();\n            System.runFinalization();\n        }\n        ((LargeObjectFinalizer)referenceFromQueue).finalizeResources();\n        referenceFromQueue.clear();\n        referenceQueue = null;\n        phantomRefClassloader = null;;\n        referenceFromQueue = null;\n        System.gc();\n        \n\n        // Create ClassLoader for the second Tensorflow version\n        String dir2 = &quot;/home/carlos/Documents/test/tensorflow_0.2.0_linux_cpu&quot;;\n        ReferenceQueue&lt;URLClassLoader&gt; referenceQueue2 = new ReferenceQueue&lt;&gt;();\n        load(dir2, referenceQueue2);\n    }\n    \n    public static LargeObjectFinalizer load(String file1, ReferenceQueue&lt;URLClassLoader&gt; referenceQueue) throws Exception {\n        LargeObjectFinalizer ref;\n        try (URLClassLoader cls1 = new URLClassLoader(getURLs(file1))) {\n            // Load native library of Tensorflow\n            Class&lt;?&gt; ca1 = cls1.loadClass(&quot;org.bytedeco.javacpp.Loader&quot;);\n            Class&lt;?&gt; ca3 = cls1.loadClass(&quot;org.tensorflow.internal.c_api.global.tensorflow&quot;);\n            Method mm1 = ca1.getMethod(&quot;load&quot;, Class.class);\n            mm1.invoke(null, ca3);\n            // Create phantom ref\n            ref = new LargeObjectFinalizer(cls1, referenceQueue);\n            cls1.close();\n            System.out.println(ref.isEnqueued());\n            // REmove references and try to garbage collect\n            ca1 = null;\n            ca3 = null;\n            mm1 = null;\n        }\n        System.out.println(ref.isEnqueued());\n        return ref;\n    }\n    \n    public static URL[] getURLs(String file) throws MalformedURLException {\n        File[] fs = new File(file).listFiles();\n        URL[] urls = new URL[fs.length];\n        int c = 0;\n        for (File f : fs) {\n            urls[c ++] = f.toURI().toURL();\n        }\n        return urls;\n    }\n}\n\n</code></pre>\n<p>And here is the code for the LargeObjectFinalizer.I copied it from <a href=\"https://www.baeldung.com/java-phantom-reference\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-phantom-reference</a></p>\n<pre><code>import java.lang.ref.PhantomReference;\nimport java.lang.ref.ReferenceQueue;\nimport java.net.URLClassLoader;\n\npublic class LargeObjectFinalizer extends PhantomReference&lt;URLClassLoader&gt; {\n\n    public LargeObjectFinalizer(\n            URLClassLoader referent, ReferenceQueue&lt;? super URLClassLoader&gt; q) {\n        super(referent, q);\n    }\n\n    public void finalizeResources() {\n        // free resources\n        System.out.println(&quot;clearing ...&quot;);\n    }\n}\n</code></pre>\n<p>Regards,\nCarlos</p>\n"},{"tags":["java","spring","spring-boot","api"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1641658911,"post_id":70634157,"comment_id":124864693,"body_markdown":"Why do you not want to code this in the controller (or service)? When it is done in a controller- (or service-) method, it is obvious (as in: has a lower cognitive complexity), easy to find and testable.","body":"Why do you not want to code this in the controller (or service)? When it is done in a controller- (or service-) method, it is obvious (as in: has a lower cognitive complexity), easy to find and testable."},{"owner":{"account_id":11503332,"reputation":741,"user_id":8430441,"display_name":"Nick"},"score":0,"creation_date":1641659094,"post_id":70634157,"comment_id":124864748,"body_markdown":"Well, when I use mongoose we can use `.pre() ` that actually does this kind of thing, I was just trying to relate? If possible. &#128517;","body":"Well, when I use mongoose we can use <code>.pre() </code> that actually does this kind of thing, I was just trying to relate? If possible. 😅"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1641659213,"post_id":70634157,"comment_id":124864783,"body_markdown":"There is something similiar in JPA, called [JPA entity lifecycle hooks (`baeldung.com`)](https://www.baeldung.com/jpa-entity-lifecycle-events). For the use case described, we most probably want to use `@PrePersist` (and possibly `@PreUpdate`). But again: I think that a dedicated method in a service is &quot;cleaner&quot;.","body":"There is something similiar in JPA, called <a href=\"https://www.baeldung.com/jpa-entity-lifecycle-events\" rel=\"nofollow noreferrer\">JPA entity lifecycle hooks (<code>baeldung.com</code>)</a>. For the use case described, we most probably want to use <code>@PrePersist</code> (and possibly <code>@PreUpdate</code>). But again: I think that a dedicated method in a service is &quot;cleaner&quot;."}],"answers":[{"tags":[],"owner":{"account_id":2465079,"reputation":2962,"user_id":2148365,"display_name":"Michiel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1641659282,"creation_date":1641659282,"answer_id":70634260,"question_id":70634157,"body_markdown":"You could make use of the `@PrePersist` and `@PreUpdate` annotations to set up  methods that are invoked before an entity is saved or updated. Use `@EntityListeners` if you want to move the logic to a separate class.\r\n\r\n```\r\n@Entity\r\n@Table(name = &quot;tbl_user&quot;)\r\npublic class UserModel {\r\n  // ...\r\n\r\n  @PrePersist\r\n  private void prePersist() {\r\n\r\n    // simple example without null check, etc\r\n    username = username.toLowerCase();\r\n  }\r\n}\r\n```\r\n\r\nSome examples:\r\n- https://nullbeans.com/how-to-use-prepersist-and-preupdate-in-jpa-hibernate/\r\n- https://vladmihalcea.com/how-to-audit-entity-modifications-using-the-jpa-entitylisteners-embedded-and-embeddable-annotations/\r\n","title":"Auto value generation for spring boot","body":"<p>You could make use of the <code>@PrePersist</code> and <code>@PreUpdate</code> annotations to set up  methods that are invoked before an entity is saved or updated. Use <code>@EntityListeners</code> if you want to move the logic to a separate class.</p>\n<pre><code>@Entity\n@Table(name = &quot;tbl_user&quot;)\npublic class UserModel {\n  // ...\n\n  @PrePersist\n  private void prePersist() {\n\n    // simple example without null check, etc\n    username = username.toLowerCase();\n  }\n}\n</code></pre>\n<p>Some examples:</p>\n<ul>\n<li><a href=\"https://nullbeans.com/how-to-use-prepersist-and-preupdate-in-jpa-hibernate/\" rel=\"nofollow noreferrer\">https://nullbeans.com/how-to-use-prepersist-and-preupdate-in-jpa-hibernate/</a></li>\n<li><a href=\"https://vladmihalcea.com/how-to-audit-entity-modifications-using-the-jpa-entitylisteners-embedded-and-embeddable-annotations/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/how-to-audit-entity-modifications-using-the-jpa-entitylisteners-embedded-and-embeddable-annotations/</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23739788,"reputation":63,"user_id":17757971,"display_name":"Waleed"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641660261,"creation_date":1641659492,"answer_id":70634295,"question_id":70634157,"body_markdown":"In hibernate, there is way. Try below:\r\n\r\n    @Column(name = &quot;userName&quot;)\r\n    @ColumnTransformer(write = &quot;LOWER(userName)&quot;)\r\n    private String userName;","title":"Auto value generation for spring boot","body":"<p>In hibernate, there is way. Try below:</p>\n<pre><code>@Column(name = &quot;userName&quot;)\n@ColumnTransformer(write = &quot;LOWER(userName)&quot;)\nprivate String userName;\n</code></pre>\n"}],"owner":{"account_id":11503332,"reputation":741,"user_id":8430441,"display_name":"Nick"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":658,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70634260,"answer_count":2,"score":1,"last_activity_date":1641660261,"creation_date":1641658542,"question_id":70634157,"body_markdown":"I am a NodeJS backend Dev, started learning spring boot, I was just wandering if it&#39;s possible to generate a field value with existing values for different field. \r\n\r\nlet me clear my request. Let&#39;s suppose its my model,\r\n    \r\n    import javax.persistence.*;\r\n    import java.util.Date;\r\n    import java.util.UUID;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;tbl_user&quot;)\r\n    public class UserModel {\r\n    \r\n        @Id\r\n        @GenericGenerator(name = &quot;UUIDGenerator&quot;, strategy = &quot;uuid2&quot;)\r\n        @GeneratedValue(generator = &quot;UUIDGenerator&quot;)\r\n        @Column(name = &quot;uuid&quot;, updatable = false, nullable = false)\r\n        private UUID uuid;\r\n    \r\n        @Column(name = &quot;userName&quot;, updatable = true, nullable = false)\r\n        private String userName;\r\n    \r\n        @Column(name = &quot;userNameToLower&quot;, updatable = true, nullable = false)\r\n        private String userNameToLower;\r\n    \r\n        public String getUserName() {\r\n            return userName;\r\n        }\r\n    \r\n        public void setUserName(String userName) {\r\n            this.userName = userName;\r\n        }\r\n    \r\n        public String getUserNameToLower() {\r\n            return userNameToLower;\r\n        }\r\n    \r\n        public void setUserNameToLower(String userNameToLower) {\r\n            this.userNameToLower = userNameToLower;\r\n        }\r\n    }\r\n\r\n On basis of `userName`(will be taken from request body, can I generate `userNameToLower` at the time of pushing it to DB, without coding it explicitly on controller.\r\n\r\nplease let me know. It will be a great help.\r\n\r\nThanks in advance. ","title":"Auto value generation for spring boot","body":"<p>I am a NodeJS backend Dev, started learning spring boot, I was just wandering if it's possible to generate a field value with existing values for different field.</p>\n<p>let me clear my request. Let's suppose its my model,</p>\n<pre><code>import javax.persistence.*;\nimport java.util.Date;\nimport java.util.UUID;\n\n@Entity\n@Table(name = &quot;tbl_user&quot;)\npublic class UserModel {\n\n    @Id\n    @GenericGenerator(name = &quot;UUIDGenerator&quot;, strategy = &quot;uuid2&quot;)\n    @GeneratedValue(generator = &quot;UUIDGenerator&quot;)\n    @Column(name = &quot;uuid&quot;, updatable = false, nullable = false)\n    private UUID uuid;\n\n    @Column(name = &quot;userName&quot;, updatable = true, nullable = false)\n    private String userName;\n\n    @Column(name = &quot;userNameToLower&quot;, updatable = true, nullable = false)\n    private String userNameToLower;\n\n    public String getUserName() {\n        return userName;\n    }\n\n    public void setUserName(String userName) {\n        this.userName = userName;\n    }\n\n    public String getUserNameToLower() {\n        return userNameToLower;\n    }\n\n    public void setUserNameToLower(String userNameToLower) {\n        this.userNameToLower = userNameToLower;\n    }\n}\n</code></pre>\n<p>On basis of <code>userName</code>(will be taken from request body, can I generate <code>userNameToLower</code> at the time of pushing it to DB, without coding it explicitly on controller.</p>\n<p>please let me know. It will be a great help.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","scala","scala-collections"],"answers":[{"tags":[],"owner":{"account_id":25352,"reputation":19367,"user_id":65133,"display_name":"James Iry"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1237833407,"creation_date":1237833407,"answer_id":674680,"question_id":674545,"body_markdown":"There are two parts to the answer.  The first part is that Scala variable argument methods that take a T* are a sugaring over methods taking Seq[T].  You tell Scala to treat a Seq[T] as a list of arguments instead of a single argument using &quot;seq : _*&quot;. \r\n\r\nThe second part is converting a Collection[T] to a Seq[T].  There&#39;s no general built in way to do in Scala&#39;s standard libraries just yet, but one very easy (if not necessarily efficient) way to do it is by calling toArray.  Here&#39;s a complete example.\r\n\r\n\r\n    scala&gt; val lst : java.util.Collection[String] = new java.util.ArrayList\r\n    lst: java.util.Collection[String] = []\r\n\r\n    scala&gt; lst add &quot;hello&quot;\r\n    res0: Boolean = true\r\n\r\n    scala&gt; lst add &quot;world&quot;\r\n    res1: Boolean = true\r\n\r\n    scala&gt; Set(lst.toArray : _*)\r\n    res2: scala.collection.immutable.Set[java.lang.Object] = Set(hello, world)\r\n\r\n\r\n\r\nNote the scala.Predef.Set and scala.collection.immutable.HashSet are synonyms.","title":"Scala equivalent of new HashSet(Collection)","body":"<p>There are two parts to the answer.  The first part is that Scala variable argument methods that take a T* are a sugaring over methods taking Seq[T].  You tell Scala to treat a Seq[T] as a list of arguments instead of a single argument using \"seq : _*\". </p>\n\n<p>The second part is converting a Collection[T] to a Seq[T].  There's no general built in way to do in Scala's standard libraries just yet, but one very easy (if not necessarily efficient) way to do it is by calling toArray.  Here's a complete example.</p>\n\n<pre><code>scala&gt; val lst : java.util.Collection[String] = new java.util.ArrayList\nlst: java.util.Collection[String] = []\n\nscala&gt; lst add \"hello\"\nres0: Boolean = true\n\nscala&gt; lst add \"world\"\nres1: Boolean = true\n\nscala&gt; Set(lst.toArray : _*)\nres2: scala.collection.immutable.Set[java.lang.Object] = Set(hello, world)\n</code></pre>\n\n<p>Note the scala.Predef.Set and scala.collection.immutable.HashSet are synonyms.</p>\n"},{"tags":[],"owner":{"account_id":9757,"reputation":45128,"user_id":18154,"accept_rate":100,"display_name":"Fabian Steeg"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1237833736,"creation_date":1237833736,"answer_id":674701,"question_id":674545,"body_markdown":"The most concise way to do this is probably to use the `++` operator:\r\n\r\n    import scala.collection.immutable.HashSet\r\n    val list = List(1,2,3)\r\n    val set = HashSet() ++ list","title":"Scala equivalent of new HashSet(Collection)","body":"<p>The most concise way to do this is probably to use the <code>++</code> operator:</p>\n\n<pre><code>import scala.collection.immutable.HashSet\nval list = List(1,2,3)\nval set = HashSet() ++ list\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23865158,"reputation":11,"user_id":17867587,"display_name":"Nils"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641660255,"creation_date":1641598467,"answer_id":70628312,"question_id":674545,"body_markdown":"From Scala 2.13 use the companion object\r\n\r\n``` lang-scala\r\nimport scala.collection.immutable.HashSet\r\nval list = List(1,2,3)\r\nval set = HashSet.from(list)\r\n```","title":"Scala equivalent of new HashSet(Collection)","body":"<p>From Scala 2.13 use the companion object</p>\n<pre class=\"lang-scala prettyprint-override\"><code>import scala.collection.immutable.HashSet\nval list = List(1,2,3)\nval set = HashSet.from(list)\n</code></pre>\n"}],"owner":{"account_id":9178,"reputation":133593,"user_id":16853,"accept_rate":90,"display_name":"oxbow_lakes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13234,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":674680,"answer_count":3,"score":10,"last_activity_date":1641660255,"creation_date":1237831527,"question_id":674545,"body_markdown":"What is the equivalent Scala constructor (to create an **immutable** `HashSet`) to the Java\r\n\r\n    new HashSet&lt;T&gt;(c)\r\n\r\nwhere `c` is of type `Collection&lt;? extends T&gt;`?.\r\n\r\nAll I can find in the `HashSet` *Object* is `apply`.\r\n","title":"Scala equivalent of new HashSet(Collection)","body":"<p>What is the equivalent Scala constructor (to create an <strong>immutable</strong> <code>HashSet</code>) to the Java</p>\n\n<pre><code>new HashSet&lt;T&gt;(c)\n</code></pre>\n\n<p>where <code>c</code> is of type <code>Collection&lt;? extends T&gt;</code>?.</p>\n\n<p>All I can find in the <code>HashSet</code> <em>Object</em> is <code>apply</code>.</p>\n"},{"tags":["java","lambda"],"comments":[{"owner":{"account_id":6593416,"reputation":27460,"user_id":5093961,"display_name":"Steven Spungin"},"score":3,"creation_date":1641639032,"post_id":70631501,"comment_id":124860126,"body_markdown":"You should use `int i=attToSortBy.length-1;i&gt;=0` to hit valid indexes","body":"You should use <code>int i=attToSortBy.length-1;i&gt;=0</code> to hit valid indexes"}],"answers":[{"tags":[],"owner":{"account_id":6593416,"reputation":27460,"user_id":5093961,"display_name":"Steven Spungin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641639326,"creation_date":1641639326,"answer_id":70631648,"question_id":70631501,"body_markdown":"You can store the attribute in a closure outside the lambda. You don&#39;t need to create the `final` copy.  And make sure your loop indexes correctly.\r\n\r\n```\r\nfor (int i=attToSortBy.length-1;i&gt;=0;i--){\r\n                String attr = attToSortBy[i]\r\n                Comparator&lt;myObject&gt; comp=(myObject a, myObject b) -&gt; \r\n                    {return (int)(a.get(attr))-(int)(b.get(attr));};\r\n}\r\n```","title":"Using an array in lambda (java)","body":"<p>You can store the attribute in a closure outside the lambda. You don't need to create the <code>final</code> copy.  And make sure your loop indexes correctly.</p>\n<pre><code>for (int i=attToSortBy.length-1;i&gt;=0;i--){\n                String attr = attToSortBy[i]\n                Comparator&lt;myObject&gt; comp=(myObject a, myObject b) -&gt; \n                    {return (int)(a.get(attr))-(int)(b.get(attr));};\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1222742,"reputation":44,"user_id":1189042,"display_name":"william0754"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641660161,"creation_date":1641643627,"answer_id":70632154,"question_id":70631501,"body_markdown":"It&#39;s the variable i that cause the error, declare `int j = i` in the loop, then use j as index can avoid the error. And I think is much more appropriate to put the comparision loop in Comparator, sample sort code like: \r\n```\r\nCollections.sort(list, (myArray1, myArray2) -&gt; {\r\n    int compareResult = 0;\r\n    for (int i = 0; i &lt; myArray1.attrToSortBy.length; i++) {\r\n//        if (myArray1.attrToSortBy[i] &gt; myArray2.attrToSortBy[i]) {\r\n//            compareResult = 1;\r\n//        } else if (myArray1.attrToSortBy[i] == myArray2.attrToSortBy[i]) {\r\n//            compareResult = 0;\r\n//        } else {\r\n//            compareResult = -1;\r\n//        }\r\n        compareResult = Integer.compare(myArray1.get(myArray1.attrToSortBy[i]), myArray2.get(myArray2.attrToSortBy[i]));\r\n        //return compare result if it&#39;s not equal\r\n        if (compareResult != 0) return compareResult; \r\n    }\r\n    return compareResult;\r\n});\r\n```","title":"Using an array in lambda (java)","body":"<p>It's the variable i that cause the error, declare <code>int j = i</code> in the loop, then use j as index can avoid the error. And I think is much more appropriate to put the comparision loop in Comparator, sample sort code like:</p>\n<pre><code>Collections.sort(list, (myArray1, myArray2) -&gt; {\n    int compareResult = 0;\n    for (int i = 0; i &lt; myArray1.attrToSortBy.length; i++) {\n//        if (myArray1.attrToSortBy[i] &gt; myArray2.attrToSortBy[i]) {\n//            compareResult = 1;\n//        } else if (myArray1.attrToSortBy[i] == myArray2.attrToSortBy[i]) {\n//            compareResult = 0;\n//        } else {\n//            compareResult = -1;\n//        }\n        compareResult = Integer.compare(myArray1.get(myArray1.attrToSortBy[i]), myArray2.get(myArray2.attrToSortBy[i]));\n        //return compare result if it's not equal\n        if (compareResult != 0) return compareResult; \n    }\n    return compareResult;\n});\n</code></pre>\n"}],"owner":{"account_id":19947282,"reputation":7,"user_id":14617660,"display_name":"blazspaca"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70631648,"answer_count":2,"score":-1,"last_activity_date":1641660161,"creation_date":1641638131,"question_id":70631501,"body_markdown":"I need to sort an array of objects ```myArray``` based on their attributes. The attributes to sort by are given by the user so I store them in an ```int [] attToSortBy```. \r\nThen I use a for loop to go through the attributes in ```attToSortBy``` in which I use a lambda to create a comparator for each of them and then sort ```myArray``` with it.\r\nThe problem is that I need the ```attToSortBy``` to get the right attribute from my object so I need to use it in the lambda. I don&#39;t change the ```attToSortBy``` after I fill it with user&#39;s input but the compiler threw the *variables in lambda must be effectively final* error. So then I tried this: \r\n\r\n```final int[] attToSortByFinal=attToSortBy;```\r\n\r\nand it still throws the same error. How can I get the ```attToSortBy``` into my lambda? Below is the for loop and the lambda:\r\n\r\n    for (int i=attToSortBy.length;i&gt;0;i--){\r\n    \t\t\t\tComparator&lt;myObject&gt; comp=(myObject a, myObject b) -&gt; \r\n    \t\t\t\t\t{return (int)(a.get(attToSortByFinal[i]))-(int)(b.get(attToSortByFinal[i]));};\r\n    }\r\n","title":"Using an array in lambda (java)","body":"<p>I need to sort an array of objects <code>myArray</code> based on their attributes. The attributes to sort by are given by the user so I store them in an <code>int [] attToSortBy</code>.\nThen I use a for loop to go through the attributes in <code>attToSortBy</code> in which I use a lambda to create a comparator for each of them and then sort <code>myArray</code> with it.\nThe problem is that I need the <code>attToSortBy</code> to get the right attribute from my object so I need to use it in the lambda. I don't change the <code>attToSortBy</code> after I fill it with user's input but the compiler threw the <em>variables in lambda must be effectively final</em> error. So then I tried this:</p>\n<p><code>final int[] attToSortByFinal=attToSortBy;</code></p>\n<p>and it still throws the same error. How can I get the <code>attToSortBy</code> into my lambda? Below is the for loop and the lambda:</p>\n<pre><code>for (int i=attToSortBy.length;i&gt;0;i--){\n                Comparator&lt;myObject&gt; comp=(myObject a, myObject b) -&gt; \n                    {return (int)(a.get(attToSortByFinal[i]))-(int)(b.get(attToSortByFinal[i]));};\n}\n</code></pre>\n"},{"tags":["java","swing","jlabel"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1641658857,"post_id":70634086,"comment_id":124864679,"body_markdown":"1) For better help sooner, [edit] to add a [mre]. 2) A `JLabel` supports (very basic) HTML. It seems an ordered list (`&lt;ol&gt;`) would suit this well. 3) *&quot;..inside html tags. I&#39;ve tried and no solutions I got.&quot;* Well, apparently the HTML used was .. incorrect. See point (1).","body":"1) For better help sooner, <a href=\"https://stackoverflow.com/posts/70634086/edit\">edit</a> to add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. 2) A <code>JLabel</code> supports (very basic) HTML. It seems an ordered list (<code>&lt;ol&gt;</code>) would suit this well. 3) <i>&quot;..inside html tags. I&#39;ve tried and no solutions I got.&quot;</i> Well, apparently the HTML used was .. incorrect. See point (1)."}],"answers":[{"tags":[],"owner":{"account_id":23668620,"reputation":21,"user_id":17695731,"display_name":"Ivan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641659136,"creation_date":1641658906,"answer_id":70634205,"question_id":70634086,"body_markdown":"After a more few minutes searching for a solution, I found it:\r\n\r\n    private void terminarEquiposActionPerformed(java.awt.event.ActionEvent evt) {   \r\n        if(listadoEquipos.size() &lt; numEquipos){\r\n            this.aviso.setText(&quot;Faltan &quot; + (numEquipos-listadoEquipos.size()) + &quot; equipos.&quot;);\r\n        }else{\r\n            this.jDialogEquipos.setVisible(false);\r\n            this.jPanel1.setVisible(true);\r\n            String lista = &quot;&lt;html&gt;&lt;pre&gt;&quot;;\r\n            for(int i = 0; i &lt; listadoEquipos.size(); i++){\r\n                lista += (i+1) + &quot; : &quot; +  listadoEquipos.get(i).getNombre() + &quot;\\n&quot;;   //TODO saltos de linea en jLabel\r\n            }\r\n            lista += &quot;&lt;/pre&gt;&lt;/html&gt;&quot;;\r\n            this.imagenUEFA.setText(lista);\r\n            contador = 0;\r\n        }\r\n    }\r\n\r\nI added the tag `&lt;pre&gt;` between the HTML ones so the run seems like this:\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/tVN0l.png&quot;&gt;\r\n\r\n  [1]: https://i.stack.imgur.com/tVN0l.png","title":"Java Swing - &quot;\\n&quot; does not work in my jLabel content","body":"<p>After a more few minutes searching for a solution, I found it:</p>\n<pre><code>private void terminarEquiposActionPerformed(java.awt.event.ActionEvent evt) {   \n    if(listadoEquipos.size() &lt; numEquipos){\n        this.aviso.setText(&quot;Faltan &quot; + (numEquipos-listadoEquipos.size()) + &quot; equipos.&quot;);\n    }else{\n        this.jDialogEquipos.setVisible(false);\n        this.jPanel1.setVisible(true);\n        String lista = &quot;&lt;html&gt;&lt;pre&gt;&quot;;\n        for(int i = 0; i &lt; listadoEquipos.size(); i++){\n            lista += (i+1) + &quot; : &quot; +  listadoEquipos.get(i).getNombre() + &quot;\\n&quot;;   //TODO saltos de linea en jLabel\n        }\n        lista += &quot;&lt;/pre&gt;&lt;/html&gt;&quot;;\n        this.imagenUEFA.setText(lista);\n        contador = 0;\n    }\n}\n</code></pre>\n<p>I added the tag <code>&lt;pre&gt;</code> between the HTML ones so the run seems like this:</p>\n<img src=\"https://i.stack.imgur.com/tVN0l.png\">\n"}],"owner":{"account_id":23668620,"reputation":21,"user_id":17695731,"display_name":"Ivan"},"comment_count":1,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"closed_date":1641658980,"answer_count":1,"score":-1,"last_activity_date":1641659136,"creation_date":1641657996,"question_id":70634086,"body_markdown":"I need to print a list of teams in a `JLabel`, so I&#39;d like to order each of them in a different lane but when I try my code it seems like the &quot;\\n&quot; part if the code doesn&#39;t work. I&#39;ve been reading a bit and many solutions show that it needs to be inside HTML tags. I&#39;ve tried and no solutions I got.\r\n\r\n    private void terminarEquiposActionPerformed(java.awt.event.ActionEvent evt) {                                                \r\n        if(listadoEquipos.size() &lt; numEquipos){\r\n            this.aviso.setText(&quot;Faltan &quot; + (numEquipos-listadoEquipos.size()) + &quot; equipos.&quot;);\r\n        }else{\r\n            this.jDialogEquipos.setVisible(false);\r\n            this.jPanel1.setVisible(true);\r\n            String lista = &quot;&quot;;\r\n            for(int i = 0; i &lt; listadoEquipos.size(); i++){\r\n                lista += (i+1) + &quot; : &quot; +  listadoEquipos.get(i).getNombre() + &#39;\\n&#39;;   //TODO saltos de linea en jLabel\r\n            }\r\n            this.imagenUEFA.setText(lista);\r\n            contador = 0;\r\n        }\r\n    }\r\n\r\nThe `ArrayList` `listadoEquipo` contains the names I need to show and I use the `String` `lista` for building the result I want to show in the label `imagenUEFA`.\r\n\r\nI&#39;m not allowed to share png yet but when I run I got this:\r\n\r\nAt the left of the picture there&#39;s the label to show the name of the teams and the rest of picture are buttons for the activity\r\n\r\n&lt;img src=&quot;https://i.stack.imgur.com/PrlLO.png&quot;&gt;\r\n","title":"Java Swing - &quot;\\n&quot; does not work in my jLabel content","body":"<p>I need to print a list of teams in a <code>JLabel</code>, so I'd like to order each of them in a different lane but when I try my code it seems like the &quot;\\n&quot; part if the code doesn't work. I've been reading a bit and many solutions show that it needs to be inside HTML tags. I've tried and no solutions I got.</p>\n<pre><code>private void terminarEquiposActionPerformed(java.awt.event.ActionEvent evt) {                                                \n    if(listadoEquipos.size() &lt; numEquipos){\n        this.aviso.setText(&quot;Faltan &quot; + (numEquipos-listadoEquipos.size()) + &quot; equipos.&quot;);\n    }else{\n        this.jDialogEquipos.setVisible(false);\n        this.jPanel1.setVisible(true);\n        String lista = &quot;&quot;;\n        for(int i = 0; i &lt; listadoEquipos.size(); i++){\n            lista += (i+1) + &quot; : &quot; +  listadoEquipos.get(i).getNombre() + '\\n';   //TODO saltos de linea en jLabel\n        }\n        this.imagenUEFA.setText(lista);\n        contador = 0;\n    }\n}\n</code></pre>\n<p>The <code>ArrayList</code> <code>listadoEquipo</code> contains the names I need to show and I use the <code>String</code> <code>lista</code> for building the result I want to show in the label <code>imagenUEFA</code>.</p>\n<p>I'm not allowed to share png yet but when I run I got this:</p>\n<p>At the left of the picture there's the label to show the name of the teams and the rest of picture are buttons for the activity</p>\n<img src=\"https://i.stack.imgur.com/PrlLO.png\">\n"},{"tags":["java","android","github"],"answers":[{"tags":[],"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641649572,"creation_date":1641649164,"answer_id":70632852,"question_id":70632763,"body_markdown":"Try adding this to your project&#39;s build.gradle(the one you showed in the first):\r\n\r\nallprojects​&#160;{ repositories&#160;{ google() mavenCentral() jcenter() } ​}![enter image description here](https://i.stack.imgur.com/Vc558.jpg)\r\n\r\nEdit: Just checked the library you were asking about. It asks you to add that maven { url ....} in the repositories section of allprojects as well:![enter image description here](https://i.stack.imgur.com/qC0Ja.jpg)","title":"Material Search Bar from github not working","body":"<p>Try adding this to your project's build.gradle(the one you showed in the first):</p>\n<p>allprojects​ { repositories { google() mavenCentral() jcenter() } ​}<img src=\"https://i.stack.imgur.com/Vc558.jpg\" alt=\"enter image description here\" /></p>\n<p>Edit: Just checked the library you were asking about. It asks you to add that maven { url ....} in the repositories section of allprojects as well:<img src=\"https://i.stack.imgur.com/qC0Ja.jpg\" alt=\"enter image description here\" /></p>\n"},{"tags":[],"owner":{"account_id":20094764,"reputation":2497,"user_id":14734532,"display_name":"DrHowdyDoo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641658935,"creation_date":1641658935,"answer_id":70634208,"question_id":70632763,"body_markdown":"Try adding `maven { url &quot;https://jitpack.io&quot; }` in your `settings.gradle` file:\r\n\r\n**settings.gradle (Project Settings)**\r\n\r\n    dependencyResolutionManagement {\r\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        jcenter() // Warning: this repository is going to shut down soon\r\n        maven { url &quot;https://jitpack.io&quot; }  &lt;-- here\r\n       }\r\n     }\r\n     rootProject.name = &quot;StackOverflow&quot;\r\n     include &#39;:app&#39;\r\n\r\nI think this happens because Build is configured to prefer `settings repositories` over `project repositories`","title":"Material Search Bar from github not working","body":"<p>Try adding <code>maven { url &quot;https://jitpack.io&quot; }</code> in your <code>settings.gradle</code> file:</p>\n<p><strong>settings.gradle (Project Settings)</strong></p>\n<pre><code>dependencyResolutionManagement {\nrepositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\nrepositories {\n    google()\n    mavenCentral()\n    jcenter() // Warning: this repository is going to shut down soon\n    maven { url &quot;https://jitpack.io&quot; }  &lt;-- here\n   }\n }\n rootProject.name = &quot;StackOverflow&quot;\n include ':app'\n</code></pre>\n<p>I think this happens because Build is configured to prefer <code>settings repositories</code> over <code>project repositories</code></p>\n"}],"owner":{"account_id":23764161,"reputation":1,"user_id":17779142,"display_name":"tofu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":480,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1641658935,"creation_date":1641648500,"question_id":70632763,"body_markdown":"I get an error saying &quot;Failed to resolve: com.github.mancj:MaterialSearchBar:0.8.5&quot;\r\nany ideas on how to fix this?\r\n\r\nmy build gradle proj\r\n\r\n\r\n ```\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        maven { url &quot;https://jitpack.io&quot; }\r\n    }\r\n    dependencies {\r\n        classpath &quot;com.android.tools.build:gradle:7.0.3&quot;\r\n        classpath &#39;com.google.gms:google-services:4.3.10&#39;\r\n    }\r\n}\r\n\r\ntask clean(type: Delete) {\r\n    delete rootProject.buildDir\r\n} \r\n ```\r\n\r\nbuild gradle app:\r\n\r\n ```\r\n\r\ndependencies {\r\n\r\n   .....\r\n    implementation &#39;com.github.mancj:MaterialSearchBar:0.8.5&#39;\r\n\r\n\r\n\r\n} ```","title":"Material Search Bar from github not working","body":"<p>I get an error saying &quot;Failed to resolve: com.github.mancj:MaterialSearchBar:0.8.5&quot;\nany ideas on how to fix this?</p>\n<p>my build gradle proj</p>\n<pre><code>buildscript {\n   repositories {\n       google()\n       mavenCentral()\n       maven { url &quot;https://jitpack.io&quot; }\n   }\n   dependencies {\n       classpath &quot;com.android.tools.build:gradle:7.0.3&quot;\n       classpath 'com.google.gms:google-services:4.3.10'\n   }\n}\n\ntask clean(type: Delete) {\n   delete rootProject.buildDir\n} \n</code></pre>\n<p>build gradle app:</p>\n<pre><code>\ndependencies {\n\n  .....\n   implementation 'com.github.mancj:MaterialSearchBar:0.8.5'\n\n\n\n} ```\n</code></pre>\n"},{"tags":["java","tomcat","netbeans"],"owner":{"account_id":1039237,"reputation":817,"user_id":1045680,"accept_rate":43,"display_name":"user1045680"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":0,"score":-1,"last_activity_date":1641658894,"creation_date":1641658894,"question_id":70634202,"body_markdown":"I have netbeans 12.6 on Ubuntu (and netbeans says it is up to date). I open an old project, and it says the tomcat server is missing. I click on Resolve Missing Server, go through the steps to let netbeans know where my tomcat 7 server is located, and click finish. I end up back at the same place - &quot;the target server has not been set or has been removed.&quot; If I go to the Services tab, click on Apache Tomcat, and then start, tomcat starts. I still can&#39;t get the project to associate with Tomcat. I remove the tomcat instance from Services, restart netbeans, go through the sames steps as before, and the same thing happens. How do I get out of this endless and unproductive loop? I tried using the project run properties, but the server list is not populated with any items, so I can&#39;t select one.","title":"Can&#39;t clear &quot;the target server has not been set&quot; error message","body":"<p>I have netbeans 12.6 on Ubuntu (and netbeans says it is up to date). I open an old project, and it says the tomcat server is missing. I click on Resolve Missing Server, go through the steps to let netbeans know where my tomcat 7 server is located, and click finish. I end up back at the same place - &quot;the target server has not been set or has been removed.&quot; If I go to the Services tab, click on Apache Tomcat, and then start, tomcat starts. I still can't get the project to associate with Tomcat. I remove the tomcat instance from Services, restart netbeans, go through the sames steps as before, and the same thing happens. How do I get out of this endless and unproductive loop? I tried using the project run properties, but the server list is not populated with any items, so I can't select one.</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":1,"creation_date":1418613475,"post_id":27476845,"comment_id":43387781,"body_markdown":"You can have a zero-length array -- contains no elements.  You can have a null array reference -- the reference is null, meaning that no array actually exists.  You can have an array with elements that are all set to null -- this is the default for an array of references when it&#39;s initially created.","body":"You can have a zero-length array -- contains no elements.  You can have a null array reference -- the reference is null, meaning that no array actually exists.  You can have an array with elements that are all set to null -- this is the default for an array of references when it&#39;s initially created."}],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1418613432,"creation_date":1418613432,"answer_id":27476866,"question_id":27476845,"body_markdown":"&gt;If the individual elements of an int array are not initialized, what is stored in them by default?\r\n\r\n`0`\r\n\r\n\r\nempty array is array with 0 elements\r\n\r\nI haven&#39;t heard about `null` array but it is probably an array with non zero element reference which are `null`\r\n\r\n","title":"What is the difference between a null array and an empty array?","body":"<blockquote>\n  <p>If the individual elements of an int array are not initialized, what is stored in them by default?</p>\n</blockquote>\n\n<p><code>0</code></p>\n\n<p>empty array is array with 0 elements</p>\n\n<p>I haven't heard about <code>null</code> array but it is probably an array with non zero element reference which are <code>null</code></p>\n"},{"tags":[],"owner":{"account_id":3437237,"reputation":300,"user_id":2880064,"accept_rate":80,"display_name":"Jigar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1418613498,"creation_date":1418613498,"answer_id":27476879,"question_id":27476845,"body_markdown":"By default java initialized the array according to type declared. It is int then it is initialized to 0. If it is of type object like array of object then it is initialized to null.","title":"What is the difference between a null array and an empty array?","body":"<p>By default java initialized the array according to type declared. It is int then it is initialized to 0. If it is of type object like array of object then it is initialized to null.</p>\n"},{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1641658849,"creation_date":1418613550,"answer_id":27476881,"question_id":27476845,"body_markdown":"An array has its members initialized to their default values. For `int` the default is 0. For an `Object` it&#39;s `null`. A `null` array is a [`null` Array Reference](http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#d5e23921) (since arrays are reference types in Java).\r\n\r\n[JLS-4.12.5 Initial Values of Variables](http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.5) says in part\r\n\r\n&gt; For type int, the default value is zero, that is, 0. \r\n\r\nand\r\n\r\n&gt; For all reference types (&#167;4.3), the default value is null.\r\n\r\n","title":"What is the difference between a null array and an empty array?","body":"<p>An array has its members initialized to their default values. For <code>int</code> the default is 0. For an <code>Object</code> it's <code>null</code>. A <code>null</code> array is a <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#d5e23921\" rel=\"nofollow noreferrer\"><code>null</code> Array Reference</a> (since arrays are reference types in Java).</p>\n<p><a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.12.5\" rel=\"nofollow noreferrer\">JLS-4.12.5 Initial Values of Variables</a> says in part</p>\n<blockquote>\n<p>For type int, the default value is zero, that is, 0.</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>For all reference types (§4.3), the default value is null.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":953149,"reputation":177303,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1418613595,"creation_date":1418613595,"answer_id":27476886,"question_id":27476845,"body_markdown":"Technically speaking, there&#39;s no such thing as a *null array*; but since arrays are objects, array types are reference types (that is: array variables just hold *references* to arrays), and this means that an array variable can be `null` rather than actually pointing to an array:\r\n\r\n    int[] notAnArray = null;\r\n\r\nAn *empty* array is an array of length zero; it has no elements:\r\n\r\n    int[] emptyArray = new int[0];\r\n\r\n(and can *never* have elements, because an array&#39;s length never changes after it&#39;s created).\r\n\r\nWhen you create a *non*-empty array without specifying values for its elements, they default to zero-like values &amp;mdash; `0` for an integer array, `null` for an array of an object type, etc.; so, this:\r\n\r\n    int[] arrayOfThreeZeroes = new int[3];\r\n\r\nis the same as this:\r\n\r\n    int[] arrayOfThreeZeroes = { 0, 0, 0 };\r\n\r\n(though these values can be re-assigned afterward; the array&#39;s length cannot change, but its elements can change).","title":"What is the difference between a null array and an empty array?","body":"<p>Technically speaking, there's no such thing as a <em>null array</em>; but since arrays are objects, array types are reference types (that is: array variables just hold <em>references</em> to arrays), and this means that an array variable can be <code>null</code> rather than actually pointing to an array:</p>\n\n<pre><code>int[] notAnArray = null;\n</code></pre>\n\n<p>An <em>empty</em> array is an array of length zero; it has no elements:</p>\n\n<pre><code>int[] emptyArray = new int[0];\n</code></pre>\n\n<p>(and can <em>never</em> have elements, because an array's length never changes after it's created).</p>\n\n<p>When you create a <em>non</em>-empty array without specifying values for its elements, they default to zero-like values &mdash; <code>0</code> for an integer array, <code>null</code> for an array of an object type, etc.; so, this:</p>\n\n<pre><code>int[] arrayOfThreeZeroes = new int[3];\n</code></pre>\n\n<p>is the same as this:</p>\n\n<pre><code>int[] arrayOfThreeZeroes = { 0, 0, 0 };\n</code></pre>\n\n<p>(though these values can be re-assigned afterward; the array's length cannot change, but its elements can change).</p>\n"}],"owner":{"display_name":"user4360892"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125669,"favorite_count":0,"down_vote_count":1,"up_vote_count":29,"accepted_answer_id":27476886,"answer_count":4,"score":28,"last_activity_date":1641658849,"creation_date":1418613313,"question_id":27476845,"body_markdown":"If the individual elements of an int array are not initialized, what is stored in them by default? I apparently found that there is something like an empty array or a null array. What is the difference, and which one applies to my first question?","title":"What is the difference between a null array and an empty array?","body":"<p>If the individual elements of an int array are not initialized, what is stored in them by default? I apparently found that there is something like an empty array or a null array. What is the difference, and which one applies to my first question?</p>\n"},{"tags":["java","android","rx-java","rx-java2","rx-android"],"answers":[{"tags":[],"owner":{"account_id":18105612,"reputation":171,"user_id":13162956,"display_name":"StackerSapper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641658797,"creation_date":1641658797,"answer_id":70634188,"question_id":70581418,"body_markdown":"If it helps anyone...\r\nI didn&#39;t find an rxjava way to solve it so I solved in an on old java fashion way...\r\nI have created a builder class and added an observable to my main observable and at the end I returned everything.\r\nsomething like that:\r\n\r\n    public class DisposableBuilder {\r\n        Observable&lt;Boolean&gt; observable;\r\n    \r\n        public DisposableBuilder() {\r\n        }\r\n    \r\n        public void build(String ip) {\r\n            observable = currentUsedAdapter.connect(host);\r\n            if (adaptersNames != null) {\r\n                for (int i = 1; i &lt; adaptersNames.size(); i++) { // skip first adapter (currentUsedAdapter adapter)\r\n                    this.append(AdapterFactory.getAdapter(context, adaptersNames.get(i)));\r\n                }\r\n            }\r\n        }\r\n    \r\n        public void append(CustomAdapter adapter) {\r\n            observable = observable\r\n                    .delay(200, TimeUnit.MILLISECONDS)\r\n                    .concatMap(fallbackAdapter(adapter));\r\n        }\r\n    \r\n        public Observable&lt;Boolean&gt; getObservable() {\r\n            return observable;\r\n        }\r\n    }\r\n\r\nand then I used it like so:\r\n\r\n    disposableBuilder.build(ip);\r\n    this.disposable = disposableBuilder.getObservable()\r\n            .observeOn(AndroidSchedulers.mainThread())\r\n            .subscribeWith(connectionSubscriber);","title":"rxjava chain observalbes dynamiclly","body":"<p>If it helps anyone...\nI didn't find an rxjava way to solve it so I solved in an on old java fashion way...\nI have created a builder class and added an observable to my main observable and at the end I returned everything.\nsomething like that:</p>\n<pre><code>public class DisposableBuilder {\n    Observable&lt;Boolean&gt; observable;\n\n    public DisposableBuilder() {\n    }\n\n    public void build(String ip) {\n        observable = currentUsedAdapter.connect(host);\n        if (adaptersNames != null) {\n            for (int i = 1; i &lt; adaptersNames.size(); i++) { // skip first adapter (currentUsedAdapter adapter)\n                this.append(AdapterFactory.getAdapter(context, adaptersNames.get(i)));\n            }\n        }\n    }\n\n    public void append(CustomAdapter adapter) {\n        observable = observable\n                .delay(200, TimeUnit.MILLISECONDS)\n                .concatMap(fallbackAdapter(adapter));\n    }\n\n    public Observable&lt;Boolean&gt; getObservable() {\n        return observable;\n    }\n}\n</code></pre>\n<p>and then I used it like so:</p>\n<pre><code>disposableBuilder.build(ip);\nthis.disposable = disposableBuilder.getObservable()\n        .observeOn(AndroidSchedulers.mainThread())\n        .subscribeWith(connectionSubscriber);\n</code></pre>\n"}],"owner":{"account_id":18105612,"reputation":171,"user_id":13162956,"display_name":"StackerSapper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70634188,"answer_count":1,"score":2,"last_activity_date":1641658797,"creation_date":1641311142,"question_id":70581418,"body_markdown":"I have a chained observable that I created like this:\r\n\r\n    Disposable disposable = currentUsedAdapter.connect(ip)\r\n            .observeOn(AndroidSchedulers.mainThread())\r\n            .concatMap(fallbackAdapter(ProtocolType.V2))\r\n            .delay(500, TimeUnit.MILLISECONDS)\r\n            .concatMap(fallbackAdapter(ProtocolType.V1))\r\n            .subscribeWith(connectionSubscriber);\r\n\r\nand this is the method `fallbackAdapter`:\r\n\r\n    private Function&lt;Boolean, Observable&lt;Boolean&gt;&gt; fallbackAdapter(ProtocolType protocolType) {\r\n        return new Function&lt;Boolean, Observable&lt;Boolean&gt;&gt;() {\r\n            @Override\r\n            public Observable&lt;Boolean&gt; apply(@NonNull Boolean isConnected) throws Exception {\r\n                if (isConnected) {\r\n                    return Observable.just(true);\r\n                } else {\r\n                    TempAdapter adapter = new TempAdapter(context, protocolType);\r\n                    return currentUsedAdapter.connect(ipAddress);\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\ncurrently this is done staticlly, and it&#39;s working fine.\r\nThough I want to create a list of those `fallbackAdapter(ProtocolType.*)` because I only know the amount of fallbacks during runtime.\r\n\r\nSo I created this:\r\n\r\n    ArrayList&lt;Function&lt;Boolean, Observable&lt;Boolean&gt;&gt;&gt; adaptersList = new ArrayList&lt;&gt;();\r\n    adaptersList.add(fallbackAdapter(ProtocolType.V2));\r\n    ...\r\n    adaptersList.add(fallbackAdapter(ProtocolType.V9));\r\n\r\n    Disposable disposable = Observable.fromIterable(adaptersList)\r\n            .concatMap(adapter -&gt;\r\n                    adapter.apply(true))\r\n            .observeOn(AndroidSchedulers.mainThread())\r\n            .subscribeWith(connectionSubscriber);\r\n\r\nI have created a list that I can update dynamiclly.\r\nBUT, I am not sure how I can pass the value of `isConnected` from one adapter to another. I currently pass `true` to everyone, but some of them should return `false`, but I&#39;m not sure how I can pass this value from one emitter to another using the `Observable.fromIterable`.\r\n\r\n**So my question is how should I change this `.concatMap(adapter -&gt; adapter.apply(true))` so that I won&#39;t always send `true` but rather I will send the value that been processed by the previous adapter?**\r\n\r\nthank you","title":"rxjava chain observalbes dynamiclly","body":"<p>I have a chained observable that I created like this:</p>\n<pre><code>Disposable disposable = currentUsedAdapter.connect(ip)\n        .observeOn(AndroidSchedulers.mainThread())\n        .concatMap(fallbackAdapter(ProtocolType.V2))\n        .delay(500, TimeUnit.MILLISECONDS)\n        .concatMap(fallbackAdapter(ProtocolType.V1))\n        .subscribeWith(connectionSubscriber);\n</code></pre>\n<p>and this is the method <code>fallbackAdapter</code>:</p>\n<pre><code>private Function&lt;Boolean, Observable&lt;Boolean&gt;&gt; fallbackAdapter(ProtocolType protocolType) {\n    return new Function&lt;Boolean, Observable&lt;Boolean&gt;&gt;() {\n        @Override\n        public Observable&lt;Boolean&gt; apply(@NonNull Boolean isConnected) throws Exception {\n            if (isConnected) {\n                return Observable.just(true);\n            } else {\n                TempAdapter adapter = new TempAdapter(context, protocolType);\n                return currentUsedAdapter.connect(ipAddress);\n            }\n        }\n    };\n}\n</code></pre>\n<p>currently this is done staticlly, and it's working fine.\nThough I want to create a list of those <code>fallbackAdapter(ProtocolType.*)</code> because I only know the amount of fallbacks during runtime.</p>\n<p>So I created this:</p>\n<pre><code>ArrayList&lt;Function&lt;Boolean, Observable&lt;Boolean&gt;&gt;&gt; adaptersList = new ArrayList&lt;&gt;();\nadaptersList.add(fallbackAdapter(ProtocolType.V2));\n...\nadaptersList.add(fallbackAdapter(ProtocolType.V9));\n\nDisposable disposable = Observable.fromIterable(adaptersList)\n        .concatMap(adapter -&gt;\n                adapter.apply(true))\n        .observeOn(AndroidSchedulers.mainThread())\n        .subscribeWith(connectionSubscriber);\n</code></pre>\n<p>I have created a list that I can update dynamiclly.\nBUT, I am not sure how I can pass the value of <code>isConnected</code> from one adapter to another. I currently pass <code>true</code> to everyone, but some of them should return <code>false</code>, but I'm not sure how I can pass this value from one emitter to another using the <code>Observable.fromIterable</code>.</p>\n<p><strong>So my question is how should I change this <code>.concatMap(adapter -&gt; adapter.apply(true))</code> so that I won't always send <code>true</code> but rather I will send the value that been processed by the previous adapter?</strong></p>\n<p>thank you</p>\n"},{"tags":["java","swing","jlabel"],"comments":[{"owner":{"account_id":6636,"reputation":224532,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"score":1,"creation_date":1328618811,"post_id":685521,"comment_id":11544237,"body_markdown":"@ChrisDennett - It&#39;s also ok to just close as a dup without any smart remarks :)","body":"@ChrisDennett - It&#39;s also ok to just close as a dup without any smart remarks :)"},{"owner":{"account_id":31682,"reputation":22471,"user_id":87197,"accept_rate":81,"display_name":"Chris Dennett"},"score":0,"creation_date":1328622839,"post_id":685521,"comment_id":11545616,"body_markdown":"I think it was before I even had the privilege of voting to close.","body":"I think it was before I even had the privilege of voting to close."}],"answers":[{"tags":[],"owner":{"account_id":21279,"reputation":20918,"user_id":51577,"accept_rate":62,"display_name":"tddmonkey"},"down_vote_count":1,"up_vote_count":98,"is_accepted":true,"score":97,"last_activity_date":1238071764,"creation_date":1238071764,"answer_id":685631,"question_id":685521,"body_markdown":"You can do it by putting HTML in the code, so:\r\n\r\n    JFrame frame = new JFrame();\r\n    frame.setLayout(new GridLayout());\r\n    JLabel label = new JLabel(&quot;&lt;html&gt;First line&lt;br&gt;Second line&lt;/html&gt;&quot;);\r\n    frame.add(label);\r\n    frame.pack();\r\n    frame.setVisible(true);","title":"Multiline text in JLabel","body":"<p>You can do it by putting HTML in the code, so:</p>\n\n<pre><code>JFrame frame = new JFrame();\nframe.setLayout(new GridLayout());\nJLabel label = new JLabel(\"&lt;html&gt;First line&lt;br&gt;Second line&lt;/html&gt;\");\nframe.add(label);\nframe.pack();\nframe.setVisible(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1303986931,"creation_date":1303986931,"answer_id":5817264,"question_id":685521,"body_markdown":"It is possible to &lt;a href=&quot;https://stackoverflow.com/questions/5766175/word-wrap-in-jbuttons/5767825#5767825&quot;&gt;use (basic) CSS&lt;/a&gt; in the HTML.\r\n\r\n----------------\r\nThis question was linked from &lt;a href=&quot;https://stackoverflow.com/questions/1377181/multiline-jlabels-java&quot;&gt;Multiline JLabels - Java&lt;/a&gt;.","title":"Multiline text in JLabel","body":"<p>It is possible to <a href=\"https://stackoverflow.com/questions/5766175/word-wrap-in-jbuttons/5767825#5767825\">use (basic) CSS</a> in the HTML.</p>\n\n<hr>\n\n<p>This question was linked from <a href=\"https://stackoverflow.com/questions/1377181/multiline-jlabels-java\">Multiline JLabels - Java</a>.</p>\n"},{"tags":[],"owner":{"account_id":386444,"reputation":1894,"user_id":744207,"accept_rate":82,"display_name":"tObi"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1336429923,"creation_date":1336429923,"answer_id":10490043,"question_id":685521,"body_markdown":"if you want your jLabel Text to resize automaticly for example in a stretchable gridbaglayout its enough just to put its text in html tags like so:\r\n\r\n    JLabel label = new JLabel(&quot;&lt;html&gt;First line and maybe second line&lt;/html&gt;&quot;);","title":"Multiline text in JLabel","body":"<p>if you want your jLabel Text to resize automaticly for example in a stretchable gridbaglayout its enough just to put its text in html tags like so:</p>\n\n<pre><code>JLabel label = new JLabel(\"&lt;html&gt;First line and maybe second line&lt;/html&gt;\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2173157,"reputation":91,"user_id":1924566,"display_name":"Web Think"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1473871019,"creation_date":1356240618,"answer_id":14008862,"question_id":685521,"body_markdown":"Type the content (i.e., the &quot;text&quot; property field) inside a `&lt;html&gt;&lt;/html&gt;` tag. So you can use `&lt;br&gt;` or`&lt;P&gt;` to insert a newline.\r\n\r\nFor example:\r\n\r\n    String labelContent = &quot;&lt;html&gt;Twinkle, twinkle, little star,&lt;BR&gt;How I wonder what you are.&lt;BR&gt;Up above the world so high,&lt;BR&gt;Like a diamond in the sky.&lt;/html&gt;&quot;;\r\n\r\nIt will display as follows:\r\n\r\n\r\nTwinkle, twinkle, little star,&lt;BR&gt;\r\nHow I wonder what you are.&lt;BR&gt;\r\nUp above the world so high,&lt;BR&gt;\r\nLike a diamond in the sky.&lt;P&gt;&lt;P&gt;&lt;P&gt;","title":"Multiline text in JLabel","body":"<p>Type the content (i.e., the \"text\" property field) inside a <code>&lt;html&gt;&lt;/html&gt;</code> tag. So you can use <code>&lt;br&gt;</code> or<code>&lt;P&gt;</code> to insert a newline.</p>\n\n<p>For example:</p>\n\n<pre><code>String labelContent = \"&lt;html&gt;Twinkle, twinkle, little star,&lt;BR&gt;How I wonder what you are.&lt;BR&gt;Up above the world so high,&lt;BR&gt;Like a diamond in the sky.&lt;/html&gt;\";\n</code></pre>\n\n<p>It will display as follows:</p>\n\n<p>Twinkle, twinkle, little star,<BR>\nHow I wonder what you are.<BR>\nUp above the world so high,<BR>\nLike a diamond in the sky.<P><P><P></p>\n"},{"tags":[],"owner":{"account_id":2884345,"reputation":1,"user_id":2474582,"display_name":"Nits"},"down_vote_count":13,"up_vote_count":1,"is_accepted":false,"score":-12,"last_activity_date":1373358035,"creation_date":1373358035,"answer_id":17543324,"question_id":685521,"body_markdown":"why you are giving complex things...you can just do it by putting &quot;\\n&quot; instead of html tags","title":"Multiline text in JLabel","body":"<p>why you are giving complex things...you can just do it by putting \"\\n\" instead of html tags</p>\n"},{"tags":[],"owner":{"account_id":2645090,"reputation":257,"user_id":2287966,"display_name":"user2287966"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1418977832,"creation_date":1380643200,"answer_id":19120820,"question_id":685521,"body_markdown":"You can also use a [JXLabel][1] from [the SwingX library][2].\r\n\r\n    JXLabel multiline = new JXLabel(&quot;this is a \\nMultiline Text&quot;);\r\n    multiline.setLineWrap(true);\r\n\r\n\r\n  [1]: http://javadoc.geotoolkit.org/external/swingx/org/jdesktop/swingx/JXLabel.html\r\n  [2]: https://swingx.java.net/","title":"Multiline text in JLabel","body":"<p>You can also use a <a href=\"http://javadoc.geotoolkit.org/external/swingx/org/jdesktop/swingx/JXLabel.html\" rel=\"noreferrer\">JXLabel</a> from <a href=\"https://swingx.java.net/\" rel=\"noreferrer\">the SwingX library</a>.</p>\n\n<pre><code>JXLabel multiline = new JXLabel(\"this is a \\nMultiline Text\");\nmultiline.setLineWrap(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5120163,"reputation":5806,"user_id":4104008,"accept_rate":91,"display_name":"Harun ERGUL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1460457016,"creation_date":1415198765,"answer_id":26759976,"question_id":685521,"body_markdown":"    String labelText =&quot;&lt;html&gt;Name :&quot;+name+&quot;&lt;br&gt;Surname :&quot;+surname+&quot;&lt;br&gt;Gender :&quot;+gender+&quot;&lt;/html&gt;&quot;;\r\n    JLabel label=new JLabel(labelText);\r\n    label.setVisible(true);\r\n    label.setBounds(10,\t10,300, 100);\r\n    dialog.add(label);","title":"Multiline text in JLabel","body":"<pre><code>String labelText =\"&lt;html&gt;Name :\"+name+\"&lt;br&gt;Surname :\"+surname+\"&lt;br&gt;Gender :\"+gender+\"&lt;/html&gt;\";\nJLabel label=new JLabel(labelText);\nlabel.setVisible(true);\nlabel.setBounds(10, 10,300, 100);\ndialog.add(label);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7213732,"reputation":179,"user_id":5506947,"display_name":"Seseel Lybon"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1446753179,"creation_date":1446753179,"answer_id":33553579,"question_id":685521,"body_markdown":"I have used JTextArea for multiline JLabels.\r\n\r\n    JTextArea textarea = new JTextArea (&quot;1\\n2\\n3\\n&quot;+&quot;4\\n&quot;);\r\n\r\nhttp://docs.oracle.com/javase/7/docs/api/javax/swing/JTextArea.html","title":"Multiline text in JLabel","body":"<p>I have used JTextArea for multiline JLabels.</p>\n\n<pre><code>JTextArea textarea = new JTextArea (\"1\\n2\\n3\\n\"+\"4\\n\");\n</code></pre>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JTextArea.html\" rel=\"noreferrer\">http://docs.oracle.com/javase/7/docs/api/javax/swing/JTextArea.html</a></p>\n"},{"tags":[],"owner":{"account_id":1393372,"reputation":901,"user_id":1323666,"accept_rate":86,"display_name":"Dediqated"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1467201937,"creation_date":1467201937,"answer_id":38099020,"question_id":685521,"body_markdown":"In my case it was enough to split the text at every `\\n` and then create a `JLabel` for every line:\r\n\r\n    JPanel panel = new JPanel(new GridLayout(0,1));\r\n    String[] lines = message.split(&quot;\\n&quot;);\r\n    for (String line : lines) {\r\n        JLabel label = new JLabel(line);\r\n        panel.add(label);\r\n    }\r\n\r\nI used above in a `JOptionPane.showMessageDialog`","title":"Multiline text in JLabel","body":"<p>In my case it was enough to split the text at every <code>\\n</code> and then create a <code>JLabel</code> for every line:</p>\n\n<pre><code>JPanel panel = new JPanel(new GridLayout(0,1));\nString[] lines = message.split(\"\\n\");\nfor (String line : lines) {\n    JLabel label = new JLabel(line);\n    panel.add(label);\n}\n</code></pre>\n\n<p>I used above in a <code>JOptionPane.showMessageDialog</code></p>\n"},{"tags":[],"owner":{"account_id":3777034,"reputation":704,"user_id":4492824,"display_name":"Scott M"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1579968326,"creation_date":1579968326,"answer_id":59910973,"question_id":685521,"body_markdown":"This is horrifying. All these answers suggesting  adding &lt;html&gt; to the start of the label text, and there is not one word in the Java 11 (or earlier) documentation for JLabel to suggest that the text of a label is handled differently if it happens to start with `&lt;html&gt;`. Who says that works everywhere and always will? And you can get big, big surprises wrapping arbitrary text in &lt;html&gt; and handing it to an html layout engine. \r\n\r\nI&#39;ve upvoted the answer that suggests JTextArea. But I&#39;ll note that JTextArea isn&#39;t a drop-in replacement; by default it expands to fill rows, which is not how JLabel acts. I haven&#39;t come up with a solution to that yet.","title":"Multiline text in JLabel","body":"<p>This is horrifying. All these answers suggesting  adding  to the start of the label text, and there is not one word in the Java 11 (or earlier) documentation for JLabel to suggest that the text of a label is handled differently if it happens to start with <code>&lt;html&gt;</code>. Who says that works everywhere and always will? And you can get big, big surprises wrapping arbitrary text in  and handing it to an html layout engine. </p>\n\n<p>I've upvoted the answer that suggests JTextArea. But I'll note that JTextArea isn't a drop-in replacement; by default it expands to fill rows, which is not how JLabel acts. I haven't come up with a solution to that yet.</p>\n"},{"tags":[],"owner":{"account_id":10911021,"reputation":19,"user_id":10908003,"display_name":"willmcpherson2"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1591275133,"creation_date":1591275133,"answer_id":62195071,"question_id":685521,"body_markdown":"You can use `JTextArea` and remove editing capabilities to get normal read-only multiline text.\r\n\r\n```java\r\nJTextArea textArea = new JTextArea(&quot;line\\nline\\nline&quot;);\r\ntextArea.setEditable(false);\r\n```\r\n\r\n[`JTextArea`][1]\r\n\r\n[`setEditable`][2]\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/javax/swing/JTextArea.html\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/awt/TextComponent.html#setEditable(boolean)","title":"Multiline text in JLabel","body":"<p>You can use <code>JTextArea</code> and remove editing capabilities to get normal read-only multiline text.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>JTextArea textArea = new JTextArea(\"line\\nline\\nline\");\ntextArea.setEditable(false);\n</code></pre>\n\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/javax/swing/JTextArea.html\" rel=\"nofollow noreferrer\"><code>JTextArea</code></a></p>\n\n<p><a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/TextComponent.html#setEditable(boolean)\" rel=\"nofollow noreferrer\"><code>setEditable</code></a></p>\n"}],"owner":{"account_id":29808,"reputation":15451,"user_id":80796,"accept_rate":77,"display_name":"Jessy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140645,"favorite_count":0,"down_vote_count":0,"up_vote_count":90,"accepted_answer_id":685631,"answer_count":11,"score":90,"last_activity_date":1641658544,"creation_date":1238070059,"question_id":685521,"body_markdown":"How can I make the text of a JLabel extend onto another line?","title":"Multiline text in JLabel","body":"<p>How can I make the text of a JLabel extend onto another line?</p>\n"},{"tags":["java","random","sprite"],"answers":[{"tags":[],"owner":{"account_id":3583722,"reputation":4722,"user_id":2991319,"display_name":"KyleK"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429358608,"creation_date":1429358608,"answer_id":29717062,"question_id":29717033,"body_markdown":"`a - b` is also `a + b * (-1)`, so you can randomize -1 or 1 and multiply it by xSpeed / ySpeed.","title":"Java Randomize - (minus) and + (plus)","body":"<p><code>a - b</code> is also <code>a + b * (-1)</code>, so you can randomize -1 or 1 and multiply it by xSpeed / ySpeed.</p>\n"},{"tags":[],"owner":{"account_id":1702366,"reputation":3116,"user_id":1562088,"display_name":"Krycke"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1429359466,"creation_date":1429358858,"answer_id":29717105,"question_id":29717033,"body_markdown":"You can always do a variant of:\r\n\r\n    xSpeed = xSpeed * ( random.nextBoolean() ? 1 : -1 );\r\n    ySpeed = ySpeed * ( random.nextBoolean() ? 1 : -1 );","title":"Java Randomize - (minus) and + (plus)","body":"<p>You can always do a variant of:</p>\n\n<pre><code>xSpeed = xSpeed * ( random.nextBoolean() ? 1 : -1 );\nySpeed = ySpeed * ( random.nextBoolean() ? 1 : -1 );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5796269,"reputation":1727,"user_id":4572002,"display_name":"Nicholas Betsworth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429358997,"creation_date":1429358997,"answer_id":29717135,"question_id":29717033,"body_markdown":"Consider that there are two possibilities: plus, or minus.\r\nSo simply generate a random number with 2 possible outcomes, and use this to determine the sign (plus or minus):\r\n\r\n    public int getRandomSign() {\r\n        Random rand = new Random();\r\n        if(rand.nextBoolean())\r\n            return -1;\r\n        else\r\n            return 1;\r\n    }\r\n\r\n    public void update() {\r\n        x = x + xSpeed * getRandomSign();\r\n        y = y + ySpeed * getRandomSign();\r\n    }\r\n","title":"Java Randomize - (minus) and + (plus)","body":"<p>Consider that there are two possibilities: plus, or minus.\nSo simply generate a random number with 2 possible outcomes, and use this to determine the sign (plus or minus):</p>\n\n<pre><code>public int getRandomSign() {\n    Random rand = new Random();\n    if(rand.nextBoolean())\n        return -1;\n    else\n        return 1;\n}\n\npublic void update() {\n    x = x + xSpeed * getRandomSign();\n    y = y + ySpeed * getRandomSign();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4826640,"reputation":25377,"user_id":3895960,"accept_rate":97,"display_name":"Dici"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1429359059,"creation_date":1429359059,"answer_id":29717146,"question_id":29717033,"body_markdown":"In the other answers, you have valid solutions for choosing randomly between two values. What I propose you is a way to choose between any number of values :\r\n\r\n    private static Random rd = new Random();\r\n    public static &lt;T&gt; T randomItem(List&lt;T&gt; elts) {\r\n        return elts.get(rd.nextInt(elts.size());\r\n    }","title":"Java Randomize - (minus) and + (plus)","body":"<p>In the other answers, you have valid solutions for choosing randomly between two values. What I propose you is a way to choose between any number of values :</p>\n\n<pre><code>private static Random rd = new Random();\npublic static &lt;T&gt; T randomItem(List&lt;T&gt; elts) {\n    return elts.get(rd.nextInt(elts.size());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4497436,"reputation":18081,"user_id":3656904,"accept_rate":67,"display_name":"talex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429360518,"creation_date":1429360518,"answer_id":29717423,"question_id":29717033,"body_markdown":"replace `xSpeed = random.nextInt(10)` with `xSpeed = random.nextInt(19)-9`","title":"Java Randomize - (minus) and + (plus)","body":"<p>replace <code>xSpeed = random.nextInt(10)</code> with <code>xSpeed = random.nextInt(19)-9</code></p>\n"},{"tags":[],"owner":{"account_id":110658,"reputation":9404,"user_id":292728,"accept_rate":87,"display_name":"Kevin K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429361556,"creation_date":1429361556,"answer_id":29717609,"question_id":29717033,"body_markdown":"Many have suggested multiplying the speed by 1 or -1, but there is a simpler way that avoids the multiplication, which may be slightly more efficient.  Probably not enough to make a noticeable difference on performance, but thought I&#39;d throw it out there anyways.\r\n\r\n    public void update() {\r\n        x = x + (random.nextBoolean() ? xSpeed : -xSpeed);\r\n        y = y + (random.nextBoolean() ? ySpeed : -ySpeed);\r\n    }\r\n","title":"Java Randomize - (minus) and + (plus)","body":"<p>Many have suggested multiplying the speed by 1 or -1, but there is a simpler way that avoids the multiplication, which may be slightly more efficient.  Probably not enough to make a noticeable difference on performance, but thought I'd throw it out there anyways.</p>\n\n<pre><code>public void update() {\n    x = x + (random.nextBoolean() ? xSpeed : -xSpeed);\n    y = y + (random.nextBoolean() ? ySpeed : -ySpeed);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":73926,"reputation":207,"user_id":212651,"accept_rate":25,"display_name":"Wilken"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641658535,"creation_date":1641658535,"answer_id":70634154,"question_id":29717033,"body_markdown":"random.nextInt(1)*2-1\r\n\r\nrandom.nextInt(1) will give you either 0 or 1. Times 2 gives you either 0 or 2. Minus one gives you either -1 or 1","title":"Java Randomize - (minus) and + (plus)","body":"<p>random.nextInt(1)*2-1</p>\n<p>random.nextInt(1) will give you either 0 or 1. Times 2 gives you either 0 or 2. Minus one gives you either -1 or 1</p>\n"}],"owner":{"account_id":5572884,"reputation":669,"user_id":4417465,"accept_rate":64,"display_name":"BiscuitCookie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5720,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":7,"score":3,"last_activity_date":1641658535,"creation_date":1429358441,"question_id":29717033,"body_markdown":"is there a way to randomise a plus or Minus character? I have a program where a sprite moves across the screen and when you click it, it reappears in a different place. I also want the direction it moves to be randomized as well. At the moment I can only set it to moving left to right +, or Right to left -.\r\n\r\n    private int x = random.nextInt(150); \r\n    \tprivate int y = random.nextInt(500);\t\r\n        private int xSpeed = random.nextInt(10);//Horizontal increment of position (speed)\r\n        private int ySpeed = random.nextInt(10);// Vertical increment of position (speed)\r\n    \r\n    public void update() {\r\n        \tx = x +- xSpeed;\r\n         \ty = y +- ySpeed;\r\n    }","title":"Java Randomize - (minus) and + (plus)","body":"<p>is there a way to randomise a plus or Minus character? I have a program where a sprite moves across the screen and when you click it, it reappears in a different place. I also want the direction it moves to be randomized as well. At the moment I can only set it to moving left to right +, or Right to left -.</p>\n\n<pre><code>private int x = random.nextInt(150); \n    private int y = random.nextInt(500);    \n    private int xSpeed = random.nextInt(10);//Horizontal increment of position (speed)\n    private int ySpeed = random.nextInt(10);// Vertical increment of position (speed)\n\npublic void update() {\n        x = x +- xSpeed;\n        y = y +- ySpeed;\n}\n</code></pre>\n"},{"tags":["java","mongodb","performance","spring-data","spring-data-mongodb"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":3,"creation_date":1641653218,"post_id":70633401,"comment_id":124863317,"body_markdown":"Why did you have the assumption that `saveAll(...)` should be faster than `save(...)`? --- Have you repeated the experiment? A single point of data is not very convincing.","body":"Why did you have the assumption that <code>saveAll(...)</code> should be faster than <code>save(...)</code>? --- Have you repeated the experiment? A single point of data is not very convincing."},{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1641658365,"post_id":70633401,"comment_id":124864558,"body_markdown":"What is the output of your profiler?","body":"What is the output of your profiler?"},{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1641658955,"post_id":70633401,"comment_id":124864705,"body_markdown":"https://stackoverflow.com/questions/53996227/is-saveall-of-mongorepository-inserting-data-in-one-bulk indicates that saveAll will use a batch insert IF all the documents are new. If not it falls back to regular save. As Turing85 suggested you need to repeat many times to get useful statistics though!","body":"<a href=\"https://stackoverflow.com/questions/53996227/is-saveall-of-mongorepository-inserting-data-in-one-bulk\" title=\"is saveall of mongorepository inserting data in one bulk\">stackoverflow.com/questions/53996227/&hellip;</a> indicates that saveAll will use a batch insert IF all the documents are new. If not it falls back to regular save. As Turing85 suggested you need to repeat many times to get useful statistics though!"},{"owner":{"account_id":20087099,"reputation":11,"user_id":14728414,"display_name":"iman soltani"},"score":0,"creation_date":1642317781,"post_id":70633401,"comment_id":125035559,"body_markdown":"I was test it in **postgreSQL** that `saveAll(...)` is very faster than `save(...)` in it. @Turing85","body":"I was test it in <b>postgreSQL</b> that <code>saveAll(...)</code> is very faster than <code>save(...)</code> in it. @Turing85"}],"owner":{"account_id":20087099,"reputation":11,"user_id":14728414,"display_name":"iman soltani"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":441,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1641658415,"creation_date":1641653048,"question_id":70633401,"body_markdown":"```\r\n12:27:25.300 | save 10000 entities with saveAll() has been done in 110.869 sec.\r\n12:29:11.474 | save 10000 entities with save() has been done in 105.925 sec.\r\n```\r\n\r\nI used ```saveAll()``` instead ```save()``` for better performance but the result was against my expectations...","title":"Why does it takes longer to saveAll() than to save() in MongoDB Spring Data?","body":"<pre><code>12:27:25.300 | save 10000 entities with saveAll() has been done in 110.869 sec.\n12:29:11.474 | save 10000 entities with save() has been done in 105.925 sec.\n</code></pre>\n<p>I used <code>saveAll()</code> instead <code>save()</code> for better performance but the result was against my expectations...</p>\n"},{"tags":["java","android","sqlite","android-sqlite","create-table"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1547388468,"post_id":54169658,"comment_id":95168091,"body_markdown":"&quot;and then the app crashes&quot; -- use Logcat to examine the Java stack trace associated with your crash: https://stackoverflow.com/q/23353173/115145","body":"&quot;and then the app crashes&quot; -- use Logcat to examine the Java stack trace associated with your crash: <a href=\"https://stackoverflow.com/q/23353173/115145\">stackoverflow.com/q/23353173/115145</a>"},{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1547388520,"post_id":54169658,"comment_id":95168108,"body_markdown":"There is nothing wrong with your `CREATE TABLE` statement AFAIK.  You may try running that directly against SQLite to convince yourself that it is correct.  There must be some other problem in your code.","body":"There is nothing wrong with your <code>CREATE TABLE</code> statement AFAIK.  You may try running that directly against SQLite to convince yourself that it is correct.  There must be some other problem in your code."},{"owner":{"account_id":14363542,"reputation":432,"user_id":10375259,"display_name":"Robert"},"score":0,"creation_date":1547388713,"post_id":54169658,"comment_id":95168173,"body_markdown":"I actually have tested the create statement in my firefox SQLite extension. It works fine. But how come the second output is not generated? I do not know what &quot;use logcat to examine the java stack trace&quot; means, gonna have to google that.","body":"I actually have tested the create statement in my firefox SQLite extension. It works fine. But how come the second output is not generated? I do not know what &quot;use logcat to examine the java stack trace&quot; means, gonna have to google that."},{"owner":{"account_id":14363542,"reputation":432,"user_id":10375259,"display_name":"Robert"},"score":0,"creation_date":1547388866,"post_id":54169658,"comment_id":95168229,"body_markdown":"okay that was quick: it says trainingsession already exists. I will edit my question to enlarge the picture of the code that is running.","body":"okay that was quick: it says trainingsession already exists. I will edit my question to enlarge the picture of the code that is running."}],"answers":[{"tags":[],"owner":{"account_id":7209293,"reputation":3047,"user_id":5503940,"display_name":"Antonis Radz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547388851,"creation_date":1547388851,"answer_id":54169719,"question_id":54169658,"body_markdown":"If query is okay these things happen quite offen if database structure has changed.\r\n\r\nTry to:\r\n\r\n**Option 1**  : Add other sqlite database version. \r\n\r\n**Option 2**  : Delete database and recreate it. \r\n\r\n**Option 3**  : clear app data from phone App info screen. ","title":"Android: what is wrong with my create table statement?","body":"<p>If query is okay these things happen quite offen if database structure has changed.</p>\n\n<p>Try to:</p>\n\n<p><strong>Option 1</strong>  : Add other sqlite database version. </p>\n\n<p><strong>Option 2</strong>  : Delete database and recreate it. </p>\n\n<p><strong>Option 3</strong>  : clear app data from phone App info screen. </p>\n"},{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1547392155,"creation_date":1547390061,"answer_id":54169874,"question_id":54169658,"body_markdown":"From https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#execSQL(java.lang.String)\r\n\r\n&gt; execSQL &lt;br/&gt;added in API level 1 &lt;br/&gt;public void execSQL (String sql) &lt;br/&gt;Execute\r\n&gt; a single SQL statement that is NOT a SELECT or any other SQL statement\r\n&gt; that returns data.&lt;br/&gt;\r\n&gt; ..............................&lt;br/&gt;\r\n&gt; Parameters sql\tString: &lt;br/&gt;the SQL statement to be executed. &lt;br/&gt;Multiple\r\n&gt; statements separated by semicolons are not supported. \r\n\r\nSo `execSql()` **does not support multiple statements separated with** `;`&lt;br/&gt;\r\nSo execute multiple `execSql()` each for every statement:\r\n\r\n    public static final String SQL_DELETE_TABLE1 = &quot;DROP TABLE IF EXISTS TrainingSet&quot;\r\n    db.execSQL(SQL_DELETE_TABLE1); \r\n    public static final String SQL_DELETE_TABLE2 = &quot;DROP TABLE IF EXISTS TrainingSession&quot;\r\n    db.execSQL(SQL_DELETE_TABLE2);","title":"Android: what is wrong with my create table statement?","body":"<p>From <a href=\"https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#execSQL(java.lang.String)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#execSQL(java.lang.String)</a></p>\n\n<blockquote>\n  <p>execSQL <br/>added in API level 1 <br/>public void execSQL (String sql) <br/>Execute\n  a single SQL statement that is NOT a SELECT or any other SQL statement\n  that returns data.<br/>\n  ..............................<br/>\n  Parameters sql    String: <br/>the SQL statement to be executed. <br/>Multiple\n  statements separated by semicolons are not supported. </p>\n</blockquote>\n\n<p>So <code>execSql()</code> <strong>does not support multiple statements separated with</strong> <code>;</code><br/>\nSo execute multiple <code>execSql()</code> each for every statement:</p>\n\n<pre><code>public static final String SQL_DELETE_TABLE1 = \"DROP TABLE IF EXISTS TrainingSet\"\ndb.execSQL(SQL_DELETE_TABLE1); \npublic static final String SQL_DELETE_TABLE2 = \"DROP TABLE IF EXISTS TrainingSession\"\ndb.execSQL(SQL_DELETE_TABLE2);\n</code></pre>\n"}],"owner":{"account_id":14363542,"reputation":432,"user_id":10375259,"display_name":"Robert"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":54169874,"answer_count":2,"score":0,"last_activity_date":1641658232,"creation_date":1547388387,"question_id":54169658,"body_markdown":"My onCreate method of the SQLiteOpenHelper contains the following code:\r\n\r\n    Log.d(&quot;mytag&quot;, &quot;oncreate is called&quot;);\r\n    db.execSQL(&quot;CREATE TABLE TrainingSession (id INTEGER PRIMARY KEY, session_date TEXT, session_status TEXT)&quot;);\r\n    Log.d(&quot;mytag&quot;, &quot;tables were created&quot;);\r\n\r\nThe Logcat output contains only the first Log.d:\r\n\r\n    oncreate is called\r\n\r\nAnd then the app crashes. What is wrong with my create table statement?\r\n\r\n**EDIT**:\r\n\r\nLogcat actually says that the table TrainingSession already exists. However, my onUpgrade method looks like this:\r\n\r\n    Log.d(&quot;mytag&quot;, &quot;onupgrade is called&quot;);\r\n    db.execSQL(&quot;DROP TABLE IF EXISTS TrainingSet; DROP TABLE IF EXISTS TrainingSession;&quot;);\r\n    onCreate(db);\r\n\r\nand the Logcat output of that method is as expected, the method does get called:\r\n\r\n    onupgrade is called\r\n\r\nIf onUpgrade is called and the tables are deleted, then why does onCreate say that TrainingSession already exists?","title":"Android: what is wrong with my create table statement?","body":"<p>My onCreate method of the SQLiteOpenHelper contains the following code:</p>\n\n<pre><code>Log.d(\"mytag\", \"oncreate is called\");\ndb.execSQL(\"CREATE TABLE TrainingSession (id INTEGER PRIMARY KEY, session_date TEXT, session_status TEXT)\");\nLog.d(\"mytag\", \"tables were created\");\n</code></pre>\n\n<p>The Logcat output contains only the first Log.d:</p>\n\n<pre><code>oncreate is called\n</code></pre>\n\n<p>And then the app crashes. What is wrong with my create table statement?</p>\n\n<p><strong>EDIT</strong>:</p>\n\n<p>Logcat actually says that the table TrainingSession already exists. However, my onUpgrade method looks like this:</p>\n\n<pre><code>Log.d(\"mytag\", \"onupgrade is called\");\ndb.execSQL(\"DROP TABLE IF EXISTS TrainingSet; DROP TABLE IF EXISTS TrainingSession;\");\nonCreate(db);\n</code></pre>\n\n<p>and the Logcat output of that method is as expected, the method does get called:</p>\n\n<pre><code>onupgrade is called\n</code></pre>\n\n<p>If onUpgrade is called and the tables are deleted, then why does onCreate say that TrainingSession already exists?</p>\n"},{"tags":["java","android","sqlite","android-sqlite","android-room"],"answers":[{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1615052902,"creation_date":1615050130,"answer_id":66508317,"question_id":66508108,"body_markdown":"You can write the query without the use of `UNION` like this:\r\n\r\n    SELECT w.* \r\n    FROM words w LEFT JOIN glosses g \r\n    ON w.id = g.word_id \r\n    WHERE w.word LIKE :searchQuery || &#39;%&#39; OR g.gloss LIKE :searchQuery || &#39;%&#39; \r\n\r\nI assume that `words.id` is the primary key of `words`, so you may need an index for `glosses.word_id`.&lt;br/&gt;\r\nAlso you can read [The LIKE Optimization][1] to test and try to optimize the conditions in the `WHERE` clause.&lt;br/&gt;\r\n\r\nI have never used ROOM so I don&#39;t know its pros and cons, but if as you say *the application will NEVER change the database* then I can&#39;t find a reason to add an extra layer between your app and the database.&lt;br/&gt;\r\nTry [SQLiteOpenHelper][2] class.\r\n\r\n\r\n  [1]: https://sqlite.org/optoverview.html#the_like_optimization\r\n  [2]: https://developer.android.com/reference/android/database/sqlite/SQLiteOpenHelper","title":"Search query design for two-way dictionary app","body":"<p>You can write the query without the use of <code>UNION</code> like this:</p>\n<pre><code>SELECT w.* \nFROM words w LEFT JOIN glosses g \nON w.id = g.word_id \nWHERE w.word LIKE :searchQuery || '%' OR g.gloss LIKE :searchQuery || '%' \n</code></pre>\n<p>I assume that <code>words.id</code> is the primary key of <code>words</code>, so you may need an index for <code>glosses.word_id</code>.<br/>\nAlso you can read <a href=\"https://sqlite.org/optoverview.html#the_like_optimization\" rel=\"nofollow noreferrer\">The LIKE Optimization</a> to test and try to optimize the conditions in the <code>WHERE</code> clause.<br/></p>\n<p>I have never used ROOM so I don't know its pros and cons, but if as you say <em>the application will NEVER change the database</em> then I can't find a reason to add an extra layer between your app and the database.<br/>\nTry <a href=\"https://developer.android.com/reference/android/database/sqlite/SQLiteOpenHelper\" rel=\"nofollow noreferrer\">SQLiteOpenHelper</a> class.</p>\n"}],"owner":{"account_id":3932557,"reputation":137,"user_id":3250427,"display_name":"1729"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":66508317,"answer_count":1,"score":2,"last_activity_date":1641658201,"creation_date":1615048986,"question_id":66508108,"body_markdown":"I&#39;m currently developing a two-way dictionary application for Android using SQLite + Room. \r\nBy two-way, I mean a user can search in either language and obtain relevant results. \r\n\r\nA key feature I would like to implement is to allow the user to not have to toggle the current language being used to search. E.g. they shouldn&#39;t have to press a button to search in Language X or Language Y. \r\n\r\nUnfortunately, at least to my limited knowledge, this means I have to conduct search using only one query. \r\n\r\nMy database is currently set up as follows (I can change schema if required):\r\n[![enter image description here][1]][1]\r\n\r\nThe number of rows in Words is ~129,000 and Glosses is ~150,000. \r\n\r\nHere gloss means translation with each word have multiple glosses, and pos means part of speech. All fields are TEXT except ids. I am using Room to access my database. \r\n\r\nCurrently I have a very (I assume to be at least) naive bit of SQL in my DAO that gets me what I want:\r\n\r\n    @Transaction\r\n    @Query(&quot;SELECT * FROM words WHERE word LIKE  :searchQuery || &#39;%&#39; &quot; +\r\n            &quot;UNION &quot; +\r\n            &quot;SELECT words.* FROM words  INNER JOIN glosses ON words.id = glosses.word_id WHERE glosses.gloss LIKE  :searchQuery || &#39;%&#39; &quot;)\r\n    DataSource.Factory&lt;Integer, WordWithGlosses &gt; getWordWithGlosses(String searchQuery);\r\n\r\nThe issue is that this is way too slow with most queries taking at least 2-3 seconds which is not acceptable (pretty sure its because of the UNION but unsure how to get what I want without it). \r\n\r\nIn more detail, the goal is get a row from the words table that has a gloss that matches searchQuery. Then Room creates a WordWithGlosses object using the template:\r\n\r\n    public class WordWithGlosses {\r\n\r\n    @Embedded\r\n    public Word word;\r\n    @Relation(\r\n            parentColumn = &quot;id&quot;,\r\n            entityColumn = &quot;word_id&quot;\r\n    )\r\n    public List&lt;Gloss&gt; glosses;\r\n\r\n    public WordWithGlosses(Word word, List&lt;Gloss&gt; glosses) {\r\n        this.word = word;\r\n        this.glosses = glosses;\r\n    }\r\n\r\n    public Word getWord() {\r\n        return word;\r\n    }\r\n\r\n    public List&lt;Gloss&gt; getGlosses() {\r\n\r\n        return glosses;\r\n    }\r\n\r\n    public String getGlossesPreview() {\r\n\r\n        StringBuilder sb = new StringBuilder();\r\n\r\n        for (Gloss gloss : glosses) {\r\n\r\n            sb.append(gloss.getGloss());\r\n            sb.append(&quot;\\n&quot;);\r\n\r\n        }\r\n\r\n        return sb.toString();\r\n    }\r\n}\r\n\r\n\r\nI then use this object to populate my RecyclerView (each entry corresponding to one of these objects). Moreover, if the user searches for word X then the relevant entry appears in my RecyclerView. Also if they search for one of the many glosses of word X, the same entry appears. \r\n\r\nTwo questions:\r\n\r\n 1. Should I be even using Room at all for an application that will NEVER change the database? I suspect the object mapping approach that Room uses likely slows things down. I mainly used it because most Android tutorials use it, but I am now questioning this decision. However it is very convenient to use compared to SQLiteHelper + cursors. \r\n 2. Is there an obvious ways to improve the speed of this Query. I am aware of indexing (I currently have an index on words.word both columns of glosses. I am also aware of FTS4 but after running some test queries it does not significantly improve the performance if I still keep the same UNION approach. \r\n\r\n\r\nThanks. \r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/zLVWx.png","title":"Search query design for two-way dictionary app","body":"<p>I'm currently developing a two-way dictionary application for Android using SQLite + Room.\nBy two-way, I mean a user can search in either language and obtain relevant results.</p>\n<p>A key feature I would like to implement is to allow the user to not have to toggle the current language being used to search. E.g. they shouldn't have to press a button to search in Language X or Language Y.</p>\n<p>Unfortunately, at least to my limited knowledge, this means I have to conduct search using only one query.</p>\n<p>My database is currently set up as follows (I can change schema if required):\n<a href=\"https://i.stack.imgur.com/zLVWx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zLVWx.png\" alt=\"enter image description here\" /></a></p>\n<p>The number of rows in Words is ~129,000 and Glosses is ~150,000.</p>\n<p>Here gloss means translation with each word have multiple glosses, and pos means part of speech. All fields are TEXT except ids. I am using Room to access my database.</p>\n<p>Currently I have a very (I assume to be at least) naive bit of SQL in my DAO that gets me what I want:</p>\n<pre><code>@Transaction\n@Query(&quot;SELECT * FROM words WHERE word LIKE  :searchQuery || '%' &quot; +\n        &quot;UNION &quot; +\n        &quot;SELECT words.* FROM words  INNER JOIN glosses ON words.id = glosses.word_id WHERE glosses.gloss LIKE  :searchQuery || '%' &quot;)\nDataSource.Factory&lt;Integer, WordWithGlosses &gt; getWordWithGlosses(String searchQuery);\n</code></pre>\n<p>The issue is that this is way too slow with most queries taking at least 2-3 seconds which is not acceptable (pretty sure its because of the UNION but unsure how to get what I want without it).</p>\n<p>In more detail, the goal is get a row from the words table that has a gloss that matches searchQuery. Then Room creates a WordWithGlosses object using the template:</p>\n<pre><code>public class WordWithGlosses {\n\n@Embedded\npublic Word word;\n@Relation(\n        parentColumn = &quot;id&quot;,\n        entityColumn = &quot;word_id&quot;\n)\npublic List&lt;Gloss&gt; glosses;\n\npublic WordWithGlosses(Word word, List&lt;Gloss&gt; glosses) {\n    this.word = word;\n    this.glosses = glosses;\n}\n\npublic Word getWord() {\n    return word;\n}\n\npublic List&lt;Gloss&gt; getGlosses() {\n\n    return glosses;\n}\n\npublic String getGlossesPreview() {\n\n    StringBuilder sb = new StringBuilder();\n\n    for (Gloss gloss : glosses) {\n\n        sb.append(gloss.getGloss());\n        sb.append(&quot;\\n&quot;);\n\n    }\n\n    return sb.toString();\n}\n</code></pre>\n<p>}</p>\n<p>I then use this object to populate my RecyclerView (each entry corresponding to one of these objects). Moreover, if the user searches for word X then the relevant entry appears in my RecyclerView. Also if they search for one of the many glosses of word X, the same entry appears.</p>\n<p>Two questions:</p>\n<ol>\n<li>Should I be even using Room at all for an application that will NEVER change the database? I suspect the object mapping approach that Room uses likely slows things down. I mainly used it because most Android tutorials use it, but I am now questioning this decision. However it is very convenient to use compared to SQLiteHelper + cursors.</li>\n<li>Is there an obvious ways to improve the speed of this Query. I am aware of indexing (I currently have an index on words.word both columns of glosses. I am also aware of FTS4 but after running some test queries it does not significantly improve the performance if I still keep the same UNION approach.</li>\n</ol>\n<p>Thanks.</p>\n"},{"tags":["java","android","sqlite","select","android-sqlite"],"answers":[{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1581369474,"creation_date":1581368920,"answer_id":60158460,"question_id":60158400,"body_markdown":"What you are doing with this:\r\n\r\n    String[] selectionArgs = {&quot;&#39;&quot; + personCellString + &quot;&#39;&quot;};\r\n\r\nis searching for the string value of `personCellString` enclosed inside single quotes and not for the actual value of the string `personCellString`.&lt;br/&gt;\r\n\r\nRemove the single quotes:\r\n\r\n    String[] selectionArgs = {personCellString};\r\n\r\nYou don&#39;t have to worry about the string representation of `personCellString` in the final sql statement that will be constructed and executed which will contain them without explicitly setting them.","title":"Never entering in cursor.moveToNext() in Android SQLite","body":"<p>What you are doing with this:</p>\n\n<pre><code>String[] selectionArgs = {\"'\" + personCellString + \"'\"};\n</code></pre>\n\n<p>is searching for the string value of <code>personCellString</code> enclosed inside single quotes and not for the actual value of the string <code>personCellString</code>.<br/></p>\n\n<p>Remove the single quotes:</p>\n\n<pre><code>String[] selectionArgs = {personCellString};\n</code></pre>\n\n<p>You don't have to worry about the string representation of <code>personCellString</code> in the final sql statement that will be constructed and executed which will contain them without explicitly setting them.</p>\n"}],"owner":{"account_id":6535921,"reputation":6578,"user_id":5055401,"accept_rate":75,"display_name":"Inzimam Tariq IT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60158460,"answer_count":1,"score":1,"last_activity_date":1641658166,"creation_date":1581368699,"question_id":60158400,"body_markdown":"I&#39;m trying Official Documentation for Android [this article][1]. Creating Database, Table and inserting data is working fine. But I&#39;m unable to get data from database. Here is the piece of code to retrieve data from table.\r\n\r\n    public Person searchDataInDB(String personCellString) {\r\n        SQLiteDatabase db = getReadableDatabase();\r\n\r\n        // Define a projection that specifies which columns from the database\r\n        // you will actually use after this query.\r\n        String[] projection = {\r\n                PersonTable.COLUMN_NAME_ID,\r\n                PersonTable.COLUMN_NAME_NAME,\r\n                PersonTable.COLUMN_NAME_CELL_NO,\r\n                PersonTable.COLUMN_NAME_ADDRESS\r\n        };\r\n\r\n        // Filter results WHERE &quot;cell#&quot; = &#39;Person Cell #&#39;\r\n        String selection = SQLiteDBHelper.PersonTable.COLUMN_NAME_CELL_NO + &quot; = ?&quot;;\r\n        String[] selectionArgs = {&quot;&#39;&quot; + personCellString + &quot;&#39;&quot;};\r\n\r\n        // How you want the results sorted in the resulting Cursor\r\n        //  String sortOrder = SQLiteDBHelper.PersonTable.COLUMN_NAME_ID + &quot; DESC&quot;;\r\n\r\n        Cursor cursor = db.query(\r\n                SQLiteDBHelper.PersonTable.TABLE_NAME,   // The table to query\r\n                null,             // The array of columns to return (pass null to get all)\r\n                selection,              // The columns for the WHERE clause\r\n                selectionArgs,          // The values for the WHERE clause\r\n                null,                   // don&#39;t group the rows\r\n                null,                   // don&#39;t filter by row groups\r\n                null               // The sort order\r\n        );\r\n        String [] names = cursor.getColumnNames();\r\n        Log.e(&quot;SQLiteDB&quot;, &quot;cursorCount = &quot; + cursor.getCount() + &quot;, cursorColumnCount = &quot; + cursor.getColumnCount() + &quot;, Column = &quot; + names[0]);\r\n\r\n        Person person = null;\r\n        while (cursor.moveToNext()) {\r\n            int id = (int) cursor.getLong(\r\n                    cursor.getColumnIndexOrThrow(PersonTable.COLUMN_NAME_ID));\r\n            Log.e(&quot;SQLiteDB&quot;, &quot;moveToNext id = &quot; + id);\r\n            String name = cursor.getString(\r\n                    cursor.getColumnIndexOrThrow(SQLiteDBHelper.PersonTable.COLUMN_NAME_NAME));\r\n            Log.e(&quot;SQLiteDB&quot;, &quot;moveToNext name = &quot; + name);\r\n            String cellNo = cursor.getString(\r\n                    cursor.getColumnIndexOrThrow(SQLiteDBHelper.PersonTable.COLUMN_NAME_CELL_NO));\r\n            Log.e(&quot;SQLiteDB&quot;, &quot;moveToNext cell = &quot; + cellNo);\r\n            String address = cursor.getString(\r\n                    cursor.getColumnIndexOrThrow(SQLiteDBHelper.PersonTable.COLUMN_NAME_ADDRESS));\r\n            Log.e(&quot;SQLiteDB&quot;, &quot;moveToNext address = &quot; + address);\r\n            person = new Person(id, name, cellNo, address);\r\n        }\r\n        cursor.close();\r\n\r\n        return person;\r\n    }\r\n\r\nIt seems like my app does not enter in while loop i.e. `while(cursor.moveToNext()` So this method always returns initial value of person which is null. As a result, the first condition is always true from below code\r\n\r\n    Person person = dbHelper.searchDataInDB(personCellString);\r\n         if (person == null) {\r\n              Toast.makeText(mContext, &quot;no such record exists in database!&quot;, Toast.LENGTH_LONG).show();\r\n         } else {\r\n             String personDetails = &quot;Name = &quot; + person.getName()\r\n                      + &quot;Cell Number = &quot; + person.getCellNumber()\r\n                      + &quot;Address = &quot; + person.getAddress();\r\n             personDetailsTV.setText(personDetails);\r\n         }\r\n\r\nI&#39;m using DB Browser for SQLite so I can see the records are successfully adding in the database.\r\n\r\nWhat should I do with the above code to make it work?\r\n\r\n  [1]: https://developer.android.com/training/data-storage/sqlite#java","title":"Never entering in cursor.moveToNext() in Android SQLite","body":"<p>I'm trying Official Documentation for Android <a href=\"https://developer.android.com/training/data-storage/sqlite#java\" rel=\"nofollow noreferrer\">this article</a>. Creating Database, Table and inserting data is working fine. But I'm unable to get data from database. Here is the piece of code to retrieve data from table.</p>\n\n<pre><code>public Person searchDataInDB(String personCellString) {\n    SQLiteDatabase db = getReadableDatabase();\n\n    // Define a projection that specifies which columns from the database\n    // you will actually use after this query.\n    String[] projection = {\n            PersonTable.COLUMN_NAME_ID,\n            PersonTable.COLUMN_NAME_NAME,\n            PersonTable.COLUMN_NAME_CELL_NO,\n            PersonTable.COLUMN_NAME_ADDRESS\n    };\n\n    // Filter results WHERE \"cell#\" = 'Person Cell #'\n    String selection = SQLiteDBHelper.PersonTable.COLUMN_NAME_CELL_NO + \" = ?\";\n    String[] selectionArgs = {\"'\" + personCellString + \"'\"};\n\n    // How you want the results sorted in the resulting Cursor\n    //  String sortOrder = SQLiteDBHelper.PersonTable.COLUMN_NAME_ID + \" DESC\";\n\n    Cursor cursor = db.query(\n            SQLiteDBHelper.PersonTable.TABLE_NAME,   // The table to query\n            null,             // The array of columns to return (pass null to get all)\n            selection,              // The columns for the WHERE clause\n            selectionArgs,          // The values for the WHERE clause\n            null,                   // don't group the rows\n            null,                   // don't filter by row groups\n            null               // The sort order\n    );\n    String [] names = cursor.getColumnNames();\n    Log.e(\"SQLiteDB\", \"cursorCount = \" + cursor.getCount() + \", cursorColumnCount = \" + cursor.getColumnCount() + \", Column = \" + names[0]);\n\n    Person person = null;\n    while (cursor.moveToNext()) {\n        int id = (int) cursor.getLong(\n                cursor.getColumnIndexOrThrow(PersonTable.COLUMN_NAME_ID));\n        Log.e(\"SQLiteDB\", \"moveToNext id = \" + id);\n        String name = cursor.getString(\n                cursor.getColumnIndexOrThrow(SQLiteDBHelper.PersonTable.COLUMN_NAME_NAME));\n        Log.e(\"SQLiteDB\", \"moveToNext name = \" + name);\n        String cellNo = cursor.getString(\n                cursor.getColumnIndexOrThrow(SQLiteDBHelper.PersonTable.COLUMN_NAME_CELL_NO));\n        Log.e(\"SQLiteDB\", \"moveToNext cell = \" + cellNo);\n        String address = cursor.getString(\n                cursor.getColumnIndexOrThrow(SQLiteDBHelper.PersonTable.COLUMN_NAME_ADDRESS));\n        Log.e(\"SQLiteDB\", \"moveToNext address = \" + address);\n        person = new Person(id, name, cellNo, address);\n    }\n    cursor.close();\n\n    return person;\n}\n</code></pre>\n\n<p>It seems like my app does not enter in while loop i.e. <code>while(cursor.moveToNext()</code> So this method always returns initial value of person which is null. As a result, the first condition is always true from below code</p>\n\n<pre><code>Person person = dbHelper.searchDataInDB(personCellString);\n     if (person == null) {\n          Toast.makeText(mContext, \"no such record exists in database!\", Toast.LENGTH_LONG).show();\n     } else {\n         String personDetails = \"Name = \" + person.getName()\n                  + \"Cell Number = \" + person.getCellNumber()\n                  + \"Address = \" + person.getAddress();\n         personDetailsTV.setText(personDetails);\n     }\n</code></pre>\n\n<p>I'm using DB Browser for SQLite so I can see the records are successfully adding in the database.</p>\n\n<p>What should I do with the above code to make it work?</p>\n"},{"tags":["java","swing","javafx","fonts","javafx-webview"],"comments":[{"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"score":0,"creation_date":1641667706,"post_id":70634108,"comment_id":124866842,"body_markdown":"Two approaches are examined [here](https://stackoverflow.com/q/31716969/230513).","body":"Two approaches are examined <a href=\"https://stackoverflow.com/q/31716969/230513\">here</a>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1641685539,"post_id":70634108,"comment_id":124870508,"body_markdown":"JavaFX (and WebView as well, I would guess), can use [web fonts](http://fxexperience.com/2012/12/use-webgoogle-fonts-in-javafx/), via @font-face, in case that might help you.","body":"JavaFX (and WebView as well, I would guess), can use <a href=\"http://fxexperience.com/2012/12/use-webgoogle-fonts-in-javafx/\" rel=\"nofollow noreferrer\">web fonts</a>, via @font-face, in case that might help you."}],"owner":{"account_id":13149501,"reputation":534,"user_id":9498576,"display_name":"mdx"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641658105,"creation_date":1641658105,"question_id":70634108,"body_markdown":"I&#39;m writing a Swing application and I&#39;m trying to figure out a way to display text while being able to control the following text properties:\r\n\r\n - font family and size\r\n - text **overline**\r\n - lower index\r\n\r\nOf course the more flexible the approach, the better, but those are strictly mandatory for me.\r\n\r\nWhat I already tried:\r\n\r\n - using `JTextPane` and setting `text-decoration: overline` attribute -\r\n   doesn&#39;t work, because `JTextPane` html/css engine is dated and doesn&#39;t support this  \r\n - using `JTextPane` with setting upper border via css -\r\n   doesn&#39;t work, because it can only be applied to html nodes with \r\n   `display:block` (such as divs), and I need this inline (setting `display: inline-block` is not\r\n   supported in `JTextPane`, so I can&#39;t use that) \r\n - **using `WebView` from JavaFX** - this is where I&#39;m currently at, but I can&#39;t figure out how to load a custom font programmatically. It only seems to be working when the font is loaded at OS level (e.g. when the font file is present in ~/.fonts on Linux)\r\n\r\nThis is a working example. Mostly taken from [Integrating JavaFX into Swing Applications][1]. \r\n\r\nMind the font file, which you might have to specify yourself ([here&#39;s the file I used][2]):\r\n\r\n\r\n\r\n\r\n    import javafx.application.Platform;\r\n    import javafx.embed.swing.JFXPanel;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.text.Font;\r\n    import javafx.scene.web.WebView;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class Test {\r\n    \r\n        private static void initAndShowGUI() {\r\n            JFrame frame = new JFrame(&quot;Swing and JavaFX&quot;);\r\n            final JFXPanel fxPanel = new JFXPanel();\r\n            frame.add(fxPanel);\r\n            frame.setSize(300, 200);\r\n            frame.setVisible(true);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        \r\n            Platform.runLater(() -&gt; initFX(fxPanel));\r\n        }\r\n        \r\n        private static void initFX(JFXPanel fxPanel) {\r\n            Scene scene = createScene();\r\n            fxPanel.setScene(scene);\r\n        }\r\n        \r\n        private static Scene createScene() {\r\n            var wb = new WebView();\r\n        \r\n            // ???\r\n            var f = Font.loadFont(&quot;lmroman10-regular.otf&quot;, 10);\r\n            assert f != null;\r\n        \r\n            wb.getEngine().loadContent(\r\n                    &quot;&lt;html&gt;&lt;body&gt;&quot; +\r\n                            &quot;&lt;span style=\\&quot;&quot; +\r\n                                &quot;text-decoration: overline; &quot; +\r\n                                &quot;font-size: 24px;&quot; +\r\n                                &quot;font-family: &#39;LM Roman 10&#39;;\\&quot;&gt;&quot; +\r\n                                    &quot;foo&quot; +\r\n                            &quot;&lt;/span&gt;&quot; +\r\n                            &quot;bar&quot; +\r\n                            &quot;&lt;/body&gt;&lt;/html&gt;&quot;);\r\n        \r\n            return new Scene(wb);\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            SwingUtilities.invokeLater(() -&gt; initAndShowGUI());\r\n        }\r\n    }\r\n\r\n \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/swing-fx-interoperability.htm\r\n  [2]: https://fonts2u.com/lmroman10-regular.font","title":"Best way to render overlined text with custom font settings","body":"<p>I'm writing a Swing application and I'm trying to figure out a way to display text while being able to control the following text properties:</p>\n<ul>\n<li>font family and size</li>\n<li>text <strong>overline</strong></li>\n<li>lower index</li>\n</ul>\n<p>Of course the more flexible the approach, the better, but those are strictly mandatory for me.</p>\n<p>What I already tried:</p>\n<ul>\n<li>using <code>JTextPane</code> and setting <code>text-decoration: overline</code> attribute -\ndoesn't work, because <code>JTextPane</code> html/css engine is dated and doesn't support this</li>\n<li>using <code>JTextPane</code> with setting upper border via css -\ndoesn't work, because it can only be applied to html nodes with\n<code>display:block</code> (such as divs), and I need this inline (setting <code>display: inline-block</code> is not\nsupported in <code>JTextPane</code>, so I can't use that)</li>\n<li><strong>using <code>WebView</code> from JavaFX</strong> - this is where I'm currently at, but I can't figure out how to load a custom font programmatically. It only seems to be working when the font is loaded at OS level (e.g. when the font file is present in ~/.fonts on Linux)</li>\n</ul>\n<p>This is a working example. Mostly taken from <a href=\"https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/swing-fx-interoperability.htm\" rel=\"nofollow noreferrer\">Integrating JavaFX into Swing Applications</a>.</p>\n<p>Mind the font file, which you might have to specify yourself (<a href=\"https://fonts2u.com/lmroman10-regular.font\" rel=\"nofollow noreferrer\">here's the file I used</a>):</p>\n<pre><code>import javafx.application.Platform;\nimport javafx.embed.swing.JFXPanel;\nimport javafx.scene.Scene;\nimport javafx.scene.text.Font;\nimport javafx.scene.web.WebView;\nimport javax.swing.JFrame;\nimport javax.swing.SwingUtilities;\n\npublic class Test {\n\n    private static void initAndShowGUI() {\n        JFrame frame = new JFrame(&quot;Swing and JavaFX&quot;);\n        final JFXPanel fxPanel = new JFXPanel();\n        frame.add(fxPanel);\n        frame.setSize(300, 200);\n        frame.setVisible(true);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n    \n        Platform.runLater(() -&gt; initFX(fxPanel));\n    }\n    \n    private static void initFX(JFXPanel fxPanel) {\n        Scene scene = createScene();\n        fxPanel.setScene(scene);\n    }\n    \n    private static Scene createScene() {\n        var wb = new WebView();\n    \n        // ???\n        var f = Font.loadFont(&quot;lmroman10-regular.otf&quot;, 10);\n        assert f != null;\n    \n        wb.getEngine().loadContent(\n                &quot;&lt;html&gt;&lt;body&gt;&quot; +\n                        &quot;&lt;span style=\\&quot;&quot; +\n                            &quot;text-decoration: overline; &quot; +\n                            &quot;font-size: 24px;&quot; +\n                            &quot;font-family: 'LM Roman 10';\\&quot;&gt;&quot; +\n                                &quot;foo&quot; +\n                        &quot;&lt;/span&gt;&quot; +\n                        &quot;bar&quot; +\n                        &quot;&lt;/body&gt;&lt;/html&gt;&quot;);\n    \n        return new Scene(wb);\n    }\n    \n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; initAndShowGUI());\n    }\n}\n</code></pre>\n"},{"tags":["java","android","sqlite","android-sqlite","android-contentprovider"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":3,"creation_date":1564385468,"post_id":57249005,"comment_id":100998231,"body_markdown":"Please [edit] your post and include the complete stack trace (format as code); also indicate which statement in your code throws the exception.","body":"Please <a href=\"https://stackoverflow.com/posts/57249005/edit\">edit</a> your post and include the complete stack trace (format as code); also indicate which statement in your code throws the exception."},{"owner":{"account_id":16113017,"reputation":730,"user_id":11630822,"display_name":"Kousalya"},"score":0,"creation_date":1564390184,"post_id":57249005,"comment_id":101000526,"body_markdown":"@Jim Garrison sir, Im getting exception in NewsReportActivity on line              long newRowId = db.insert(FeedReaderContract.FeedEntry.TABLE_NAME,null , values);","body":"@Jim Garrison sir, Im getting exception in NewsReportActivity on line              long newRowId = db.insert(FeedReaderContract.FeedEntry.TABLE_NAME,null , values);"}],"answers":[{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1564393455,"creation_date":1564393455,"answer_id":57251149,"question_id":57249005,"body_markdown":"In the table there are 4 columns and the primary key.&lt;br/&gt;\r\nWhen you insert a new row you supply values for the `ContentValues` object but you do it twice for each column:\r\n\r\n    values.put(FeedReaderContract.FeedEntry.COLUMN_NAME_TITLE, newsReport.getTitle());\r\n    values.put(FeedReaderContract.FeedEntry.COLUMN_NAME_CONTENT, newsReport.getContent());\r\n    values.put(FeedReaderContract.FeedEntry.COLUMN_NAME_CHANNEL, newsReport.getNewsChannel());\r\n    values.put(FeedReaderContract.FeedEntry.COLUMN_NAME_IMAGE, newsReport.getPic());\r\n    values.put(NewsFeedProvider.newsTitle, newsReport.getTitle());\r\n    values.put(NewsFeedProvider.newsContent, newsReport.getContent());\r\n    values.put(NewsFeedProvider.newsChannel, newsReport.getNewsChannel());\r\n    values.put(NewsFeedProvider.newsImage, newsReport.getPic()); \r\nWhy?&lt;br/&gt;\r\nI suspect that one of:\r\n\r\n    NewsFeedProvider.newsTitle\r\n    NewsFeedProvider.newsContent\r\n    NewsFeedProvider.newsChannel\r\n    NewsFeedProvider.newsImage\r\n\r\nreturns `null`.&lt;br/&gt;\r\nSo delete these lines:\r\n\r\n    values.put(NewsFeedProvider.newsTitle, newsReport.getTitle());\r\n    values.put(NewsFeedProvider.newsContent, newsReport.getContent());\r\n    values.put(NewsFeedProvider.newsChannel, newsReport.getNewsChannel());\r\n    values.put(NewsFeedProvider.newsImage, newsReport.getPic());\r\nThey are not needed.&lt;br/&gt;\r\nThe values for the columns are set by the previous 4 lines.\r\n\r\n \r\n","title":"how to fix sqliteException in android java","body":"<p>In the table there are 4 columns and the primary key.<br/>\nWhen you insert a new row you supply values for the <code>ContentValues</code> object but you do it twice for each column:</p>\n\n<pre><code>values.put(FeedReaderContract.FeedEntry.COLUMN_NAME_TITLE, newsReport.getTitle());\nvalues.put(FeedReaderContract.FeedEntry.COLUMN_NAME_CONTENT, newsReport.getContent());\nvalues.put(FeedReaderContract.FeedEntry.COLUMN_NAME_CHANNEL, newsReport.getNewsChannel());\nvalues.put(FeedReaderContract.FeedEntry.COLUMN_NAME_IMAGE, newsReport.getPic());\nvalues.put(NewsFeedProvider.newsTitle, newsReport.getTitle());\nvalues.put(NewsFeedProvider.newsContent, newsReport.getContent());\nvalues.put(NewsFeedProvider.newsChannel, newsReport.getNewsChannel());\nvalues.put(NewsFeedProvider.newsImage, newsReport.getPic()); \n</code></pre>\n\n<p>Why?<br/>\nI suspect that one of:</p>\n\n<pre><code>NewsFeedProvider.newsTitle\nNewsFeedProvider.newsContent\nNewsFeedProvider.newsChannel\nNewsFeedProvider.newsImage\n</code></pre>\n\n<p>returns <code>null</code>.<br/>\nSo delete these lines:</p>\n\n<pre><code>values.put(NewsFeedProvider.newsTitle, newsReport.getTitle());\nvalues.put(NewsFeedProvider.newsContent, newsReport.getContent());\nvalues.put(NewsFeedProvider.newsChannel, newsReport.getNewsChannel());\nvalues.put(NewsFeedProvider.newsImage, newsReport.getPic());\n</code></pre>\n\n<p>They are not needed.<br/>\nThe values for the columns are set by the previous 4 lines.</p>\n"}],"owner":{"account_id":16113017,"reputation":730,"user_id":11630822,"display_name":"Kousalya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":57251149,"answer_count":1,"score":1,"last_activity_date":1641658072,"creation_date":1564385244,"question_id":57249005,"body_markdown":"I have trying to insert values into database as well as in content provider but getting null sqlite exception.Before using content provider class my data are added to database without any problem.after trying content provider im getting exception. Also I doesn&#39;t know whether values are inserted for content provider.....\r\nAnd in SpecificActivity class I need to use drawable which is returned by LoadImageAsyncTask class but Im getting null value there...\r\nHelp me to solve those issues..\r\n\r\n```\r\npublic class FeedReaderContract {\r\n    public static class FeedEntry implements BaseColumns {\r\n        public static final String TABLE_NAME = &quot;entry&quot;;\r\n        public static final String _ID = BaseColumns._ID;\r\n        public static final String COLUMN_NAME_TITLE = &quot;title&quot;;\r\n        public static final String COLUMN_NAME_CONTENT = &quot;content&quot;;\r\n        public static final String COLUMN_NAME_IMAGE = &quot;image&quot;;\r\n        public static final String COLUMN_NAME_CHANNEL = &quot;channel&quot;;\r\n\r\n    }\r\n}\r\npublic class FeedReaderDbHelper extends SQLiteOpenHelper {\r\n\r\n    public static final int DATABASE_VERSION = 1;\r\n    public static final String DATABASE_NAME = &quot;FeedReader.db&quot;;\r\n    Context context;\r\n    public Context getContext() {\r\n        return context;\r\n    }\r\n    private static final String SQL_CREATE_ENTRIES =\r\n        &quot;CREATE TABLE &quot; + FeedReaderContract.FeedEntry.TABLE_NAME + &quot; (&quot; +\r\n        FeedReaderContract.FeedEntry._ID + &quot;  INTEGER PRIMARY KEY, &quot; +\r\n        FeedReaderContract.FeedEntry.COLUMN_NAME_TITLE + &quot;  TEXT, &quot; +\r\n        FeedReaderContract.FeedEntry.COLUMN_NAME_CONTENT + &quot;  TEXT, &quot; +\r\n        FeedReaderContract.FeedEntry.COLUMN_NAME_CHANNEL + &quot;  TEXT, &quot; +\r\n        FeedReaderContract.FeedEntry.COLUMN_NAME_IMAGE + &quot;  TEXT); &quot;;\r\n\r\n    private static final String SQL_DELETE_ENTRIES =\r\n        &quot;DROP TABLE IF EXISTS &quot; + FeedReaderContract.FeedEntry.TABLE_NAME;\r\n    public FeedReaderDbHelper(Context context) {\r\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\r\n        this.context = context;\r\n    }\r\n    public void onCreate(SQLiteDatabase db) {\r\n        NewsFeedProvider.db = db;\r\n        db.execSQL(SQL_CREATE_ENTRIES);\r\n        Log.e(&quot;sql db&quot;, &quot;created&quot;);\r\n\r\n    }\r\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n        db.execSQL(SQL_DELETE_ENTRIES);\r\n        onCreate(db);\r\n    }\r\n    public void onDowngrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n        db.execSQL(&quot;DROP TABLE IF EXISTS &quot; + FeedReaderContract.FeedEntry.TABLE_NAME);\r\n        onCreate(db);\r\n    }\r\n    public void getData(long id) {\r\n        try {\r\n            Log.e(&quot;entered&quot;, &quot;getdata&quot;);\r\n\r\n            SQLiteDatabase db = getReadableDatabase();\r\n            Cursor cursor = db.query(FeedReaderContract.FeedEntry.TABLE_NAME, new String[] {\r\n                FeedReaderContract.FeedEntry._ID, FeedReaderContract.FeedEntry.COLUMN_NAME_TITLE, FeedReaderContract.FeedEntry.COLUMN_NAME_CHANNEL, FeedReaderContract.FeedEntry.COLUMN_NAME_CONTENT, FeedReaderContract.FeedEntry.COLUMN_NAME_IMAGE\r\n            }, FeedReaderContract.FeedEntry._ID + &quot;=?&quot;, new String[] {\r\n                String.valueOf(id)\r\n            }, null, null, null, null);\r\n            ArrayList &lt; NewsReport &gt; newsReports = new ArrayList &lt; &gt; ();\r\n            List itemIds = new ArrayList &lt; &gt; ();\r\n            while (cursor.moveToNext()) {\r\n\r\n                newsReports.add(new NewsReport(cursor.getString(cursor.getColumnIndex(FeedReaderContract.FeedEntry.COLUMN_NAME_TITLE)),\r\n                    cursor.getString(cursor.getColumnIndex(FeedReaderContract.FeedEntry.COLUMN_NAME_CHANNEL)),\r\n                    cursor.getString(cursor.getColumnIndex(FeedReaderContract.FeedEntry.COLUMN_NAME_CONTENT)),\r\n                    cursor.getString(cursor.getColumnIndex(FeedReaderContract.FeedEntry.COLUMN_NAME_IMAGE))));\r\n                long itemId = cursor.getLong(\r\n                    cursor.getColumnIndexOrThrow(FeedReaderContract.FeedEntry._ID));\r\n                itemIds.add(itemId);\r\n                Log.e(&quot;id&quot;, &quot;&quot; + itemId);\r\n            }\r\n            cursor.close();\r\n            Log.e(&quot;newsreportsize&quot;, &quot;dbhelper&quot; + newsReports.size());\r\n            if (newsReports.size() != 0) {\r\n                for (int i = 0; i &lt; newsReports.size(); i++) {\r\n                    Log.e(&quot;news pic&quot;, &quot;&quot; + newsReports.get(i).getPic());\r\n                    Log.e(&quot;news title&quot;, &quot;&quot; + newsReports.get(i).getTitle());\r\n                    Log.e(&quot;news content&quot;, &quot;&quot; + newsReports.get(i).getContent());\r\n                    Log.e(&quot;news chanel&quot;, &quot;&quot; + newsReports.get(i).getNewsChannel());\r\n                }\r\n            }\r\n\r\n        } catch (Exception ex) {\r\n            Log.e(&quot;exception req data&quot;, &quot;&quot; + ex);\r\n        }\r\n    }\r\n}\r\npublic class LoadImageAsyncTask extends AsyncTask &lt; String, Void, Drawable &gt; {\r\n    private Drawable drawable;\r\n    String imageUrl;\r\n    private Drawable image;\r\n    @Override\r\n    protected Drawable doInBackground(String...strings) {\r\n        try {\r\n            InputStream is = (InputStream) new URL(imageUrl).getContent();\r\n            Drawable d = Drawable.createFromStream(is, &quot;src name&quot;);\r\n\r\n            Log.e(&quot;drwable&quot;, &quot;&quot; + d);\r\n\r\n\r\n        } catch (Exception e) {\r\n            Log.e(&quot;Specific Activity&quot;, &quot;Converting drawable&quot; + e);\r\n\r\n        }\r\n        return drawable;\r\n    }\r\n\r\n    @Override\r\n    protected void onPostExecute(Drawable drawableImage) {\r\n        super.onPostExecute(drawableImage);\r\n        setImage(drawableImage);\r\n\r\n    }\r\n    public void setImage(Drawable drawable) {\r\n        new SpecificNewsReportActivity().drawable = drawable;\r\n        Log.e(&quot;set image&quot;, &quot;&quot; + drawable);\r\n        this.drawable = drawable;\r\n    }\r\n    public Drawable getImage() {\r\n        Log.e(&quot;get image&quot;, &quot;&quot; + drawable);\r\n\r\n        return drawable;\r\n    }\r\n}\r\npublic class NewsFeedProvider extends ContentProvider {\r\n    static final String PROVIDER_NAME = &quot;com.example.newsreport&quot;;\r\n    static final String URL = &quot;content://&quot; + PROVIDER_NAME + &quot;/newsfeed&quot;;\r\n    static final Uri CONTENT_URL = Uri.parse(URL);\r\n    static final int uriCode = 1;\r\n    static String newsTitle;\r\n    static String newsContent;\r\n    static String newsImage;\r\n    static String newsChannel;\r\n    static final UriMatcher uriMatcher;\r\n    private FeedReaderDbHelper dbHelper;\r\n    private static HashMap &lt; String, String &gt; values;\r\n    public static SQLiteDatabase db;\r\n    static {\r\n        uriMatcher = new UriMatcher(UriMatcher.NO_MATCH);\r\n        uriMatcher.addURI(PROVIDER_NAME, &quot;newsfeed&quot;, uriCode);\r\n    }\r\n    @Override\r\n    public boolean onCreate() {\r\n\r\n        dbHelper = new FeedReaderDbHelper(getContext());\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public Cursor query(Uri uri, String[] projection, String selection, String[] selectionArgs, String sortOrder) {\r\n        SQLiteQueryBuilder queryBuilder = new SQLiteQueryBuilder();\r\n        queryBuilder.setTables(FeedReaderContract.FeedEntry.TABLE_NAME);\r\n        switch (uriMatcher.match(uri)) {\r\n            case uriCode:\r\n                queryBuilder.setProjectionMap(values);\r\n                break;\r\n            default:\r\n                throw new IllegalArgumentException(&quot;Unknown URI&quot; + uri);\r\n        }\r\n        //Cursor cursor=queryBuilder.query(dbHelper.getReadableDatabase(),projection,selection,selectionArgs,null,null,sortOrder);\r\n        Cursor cursor = dbHelper.getReadableDatabase().query(FeedReaderContract.FeedEntry.TABLE_NAME, projection, FeedReaderContract.FeedEntry.COLUMN_NAME_TITLE + &quot;= ?&quot;, selectionArgs, null, null, sortOrder);\r\n        cursor.setNotificationUri(getContext().getContentResolver(), uri);\r\n        return cursor;\r\n    }\r\n\r\n    @Override\r\n    public String getType(Uri uri) {\r\n        switch (uriMatcher.match(uri)) {\r\n            case uriCode:\r\n                return &quot;vnd.android.cursor.dir/newsfeed&quot;;\r\n\r\n            default:\r\n                throw new IllegalArgumentException(&quot;Unsupported URI&quot; + uri);\r\n        }\r\n\r\n    }\r\n\r\n    @Override\r\n    public Uri insert(Uri uri, ContentValues contentValues) {\r\n        SQLiteDatabase db = dbHelper.getWritableDatabase();\r\n        long rowId = db.insert(FeedReaderContract.FeedEntry.TABLE_NAME, null, contentValues);\r\n        if (rowId &gt; 0) {\r\n            Uri _uri = ContentUris.withAppendedId(CONTENT_URL, rowId);\r\n            getContext().getContentResolver().notifyChange(_uri, null);\r\n            Log.e(&quot;insert&quot;, &quot;feedreader&quot; + contentValues);\r\n            return _uri;\r\n        } else {\r\n            Toast.makeText(getContext(), &quot;Row insert failed&quot;, Toast.LENGTH_SHORT).show();\r\n            return null;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public int delete(Uri uri, String selection, String[] selectionArgs) {\r\n        int rowsDeleted = 0;\r\n        SQLiteDatabase db = dbHelper.getWritableDatabase();\r\n        switch (uriMatcher.match(uri)) {\r\n            case uriCode:\r\n                rowsDeleted = db.delete(FeedReaderContract.FeedEntry.TABLE_NAME, selection, selectionArgs);\r\n                break;\r\n            default:\r\n                throw new IllegalArgumentException(&quot;Unknown URI&quot; + uri);\r\n        }\r\n        getContext().getContentResolver().notifyChange(uri, null);\r\n        return rowsDeleted;\r\n    }\r\n\r\n    @Override\r\n    public int update(Uri uri, ContentValues contentValues, String selection, String[] selectionArgs) {\r\n        int rowsUpdated = 0;\r\n        SQLiteDatabase db = dbHelper.getWritableDatabase();\r\n        switch (uriMatcher.match(uri)) {\r\n            case uriCode:\r\n                rowsUpdated = db.delete(FeedReaderContract.FeedEntry.TABLE_NAME, selection, selectionArgs);\r\n                break;\r\n            default:\r\n                throw new IllegalArgumentException(&quot;Unknown URI&quot; + uri);\r\n        }\r\n        getContext().getContentResolver().notifyChange(uri, null);\r\n        return rowsUpdated;\r\n    }\r\n}\r\n\r\npublic class NewsReportActivity extends AppCompatActivity implements LoaderManager.LoaderCallbacks &lt; ArrayList &lt; NewsReport &gt;&gt; {\r\n    ProgressBar progressBar;\r\n    FeedReaderDbHelper dbHelper;\r\n    SQLiteDatabase db;\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.recycler_view);\r\n        dbHelper = new FeedReaderDbHelper(this);\r\n        db = dbHelper.getWritableDatabase();\r\n        Log.e(&quot;application&quot;, &quot;&quot; + dbHelper);\r\n        Intent intent = getIntent();\r\n        if (intent.hasExtra(&quot;exception&quot;)) {\r\n            TextView connectionTextView = (TextView) findViewById(R.id.no_connection_text_view);\r\n            connectionTextView.setText(&quot;There is no internet connection!!!&quot;);\r\n        } else {\r\n            Log.e(&quot;no exception&quot;, &quot;entered else&quot;);\r\n        }\r\n        getSupportLoaderManager().initLoader(0, null, this);\r\n\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public Loader &lt; ArrayList &lt; NewsReport &gt;&gt; onCreateLoader(int id, @Nullable Bundle args) {\r\n        NewsReportLoader newsReportLoader = new NewsReportLoader(this);\r\n        newsReportLoader.forceLoad();\r\n        progressBar = (ProgressBar) findViewById(R.id.progress_bar);\r\n        progressBar.setVisibility(View.VISIBLE);\r\n\r\n        return newsReportLoader;\r\n    }\r\n\r\n    @Override\r\n    public void onLoadFinished(@NonNull Loader &lt; ArrayList &lt; NewsReport &gt;&gt; loader, ArrayList &lt; NewsReport &gt; data) {\r\n        try {\r\n            Log.e(&quot;data&quot;, &quot;&quot; + data.size());\r\n            NewsReportAdapter adapter = new NewsReportAdapter(this, data);\r\n            RecyclerView recyclerView = (RecyclerView) findViewById(R.id.recycler_view);\r\n            progressBar.setVisibility(View.INVISIBLE);\r\n            recyclerView.setAdapter(adapter);\r\n            recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n            DividerItemDecoration mDividerItemDecoration = new DividerItemDecoration(recyclerView.getContext(),\r\n                new LinearLayoutManager(this).getOrientation());\r\n            recyclerView.addItemDecoration(mDividerItemDecoration);\r\n\r\n            if (dbHelper != null) {\r\n                Log.e(&quot;dbhelper&quot;, &quot;notnull&quot;);\r\n                db = dbHelper.getWritableDatabase();\r\n                if (db != null) {\r\n                    Log.e(&quot;db&quot;, &quot;notnull&quot;);\r\n                    for (int i = 0; i &lt; data.size(); i++) {\r\n                        ContentValues values = new ContentValues();\r\n                        NewsReport newsReport = data.get(i);\r\n                        values.put(FeedReaderContract.FeedEntry.COLUMN_NAME_TITLE, newsReport.getTitle());\r\n                        values.put(FeedReaderContract.FeedEntry.COLUMN_NAME_CONTENT, newsReport.getContent());\r\n                        values.put(FeedReaderContract.FeedEntry.COLUMN_NAME_CHANNEL, newsReport.getNewsChannel());\r\n                        values.put(FeedReaderContract.FeedEntry.COLUMN_NAME_IMAGE, newsReport.getPic());\r\n                        values.put(NewsFeedProvider.newsTitle, newsReport.getTitle());\r\n                        values.put(NewsFeedProvider.newsContent, newsReport.getContent());\r\n                        values.put(NewsFeedProvider.newsChannel, newsReport.getNewsChannel());\r\n                        values.put(NewsFeedProvider.newsImage, newsReport.getPic());\r\n                        try {\r\n                            Uri uri = getApplicationContext().getContentResolver().insert(NewsFeedProvider.CONTENT_URL, values);\r\n                        } catch (Exception ex) {\r\n                            Log.e(&quot;exception in resolver&quot; + getContentResolver(), &quot;&quot; + ex);\r\n                        }\r\n                        long newRowId = db.insert(FeedReaderContract.FeedEntry.TABLE_NAME, null, values);\r\n                        Log.e(&quot;new row id&quot;, &quot;&quot; + newRowId);\r\n                        dbHelper.getData(newRowId);\r\n                    }\r\n                } else\r\n                    Log.e(&quot;db&quot;, &quot;null&quot;);\r\n            } else {\r\n                Log.e(&quot;dbhelper&quot;, &quot;null&quot;);\r\n            }\r\n            // db.execSQL(&quot;delete from &quot;+ FeedReaderContract.FeedEntry.TABLE_NAME);\r\n\r\n        } catch (Exception ex) {\r\n            Log.e(&quot;newsactivity&quot;, &quot;&quot; + FeedReaderContract.FeedEntry.TABLE_NAME.length());\r\n            Log.e(&quot;onloadfinished&quot;, &quot;&quot; + ex);\r\n            Log.e(&quot;datahelper&quot;, &quot;&quot; + dbHelper.getReadableDatabase().rawQuery(&quot;SELECT * FROM &quot; + FeedReaderContract.FeedEntry.TABLE_NAME, null));\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onLoaderReset(@NonNull Loader &lt; ArrayList &lt; NewsReport &gt;&gt; loader) {\r\n\r\n    }\r\n}\r\npublic class SpecificNewsReportActivity extends AppCompatActivity {\r\n    private TextView contentTextView, titleTextView;\r\n    public ImageView imageView;\r\n\r\n    private Intent intent;\r\n    public Drawable drawable;\r\n    private String imageUrl;\r\n\r\n\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_specific_news_report);\r\n\r\n        ActionBar actionBar = this.getSupportActionBar();\r\n        if (actionBar != null) {\r\n            actionBar.setDisplayHomeAsUpEnabled(true);\r\n        }\r\n        intent = getIntent();\r\n        LoadImageAsyncTask task = new LoadImageAsyncTask();\r\n        AsyncTask &lt; String, Void, Drawable &gt; d = task.execute();\r\n\r\n        try {\r\n            drawable = d.get();\r\n        } catch (ExecutionException e) {\r\n            e.printStackTrace();\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n        imageUrl = getIntent().getStringExtra(&quot;image&quot;);\r\n        Log.e(&quot;drawable specific&quot;, &quot;&quot; + drawable);\r\n        drawable = new LoadImageAsyncTask().getImage();\r\n        contentTextView = (TextView) findViewById(R.id.specific_news_report_content_text_view);\r\n        titleTextView = (TextView) findViewById(R.id.specific_news_report_title_text_view);\r\n        imageView = (ImageView) findViewById(R.id.specific_news_report_image_view);\r\n        contentTextView.setText(intent.getStringExtra(&quot;content&quot;));\r\n        titleTextView.setText(intent.getStringExtra(&quot;title&quot;));\r\n        try {\r\n            if (drawable != null) {\r\n                imageView.setImageDrawable(drawable);\r\n            } else {\r\n                Log.e(&quot;returned drawable&quot;, &quot;null&quot;);\r\n            }\r\n        } catch (Exception ex) {\r\n            Log.e(&quot;enna exception&quot;, &quot;&quot; + ex);\r\n        }\r\n\r\n    }\r\n    @Override\r\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\r\n        int id = item.getItemId();\r\n        if (id == android.R.id.home) {\r\n            Intent intent = NavUtils.getParentActivityIntent(this);\r\n            NavUtils.navigateUpTo(this, intent);\r\n        }\r\n        return super.onOptionsItemSelected(item);\r\n    }\r\n\r\n}\r\n\r\n```\r\nstacktrace\r\n```\r\n2019-07-29 13:57:20.172 24098-24098/com.example.newsreport E/SQLiteLog: (1) near &quot;null&quot;: syntax error\r\n2019-07-29 13:57:20.177 24098-24098/com.example.newsreport E/SQLiteDatabase: Error inserting channel=News18.com null=https://images.news18.com/ibnlive/uploads/2019/07/yediyurappa-1.jpg image=https://images.news18.com/ibnlive/uploads/2019/07/yediyurappa-1.jpg title=Karnataka Assembly Trust Vote LIVE: Yediyurappa Wins Floor Test, Speaker Ramesh Kumar Resigns - News18 content=Eleven Congress MLAs and three JDS lawmakers faced the axe from the Speaker in addition to the three disqualified earlier, bringing down the majority mark to 104, one less than the current strength of 105 of the BJP, which also enjoys the support of an Indepe… [+3489 chars]\r\n    android.database.sqlite.SQLiteException: near &quot;null&quot;: syntax error (code 1 SQLITE_ERROR): , while compiling: INSERT INTO entry(channel,null,image,title,content) VALUES (?,?,?,?,?)\r\n        at android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)\r\n        at android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:903)\r\n        at android.database.sqlite.SQLiteConnection.prepare(SQLiteConnection.java:514)\r\n        at android.database.sqlite.SQLiteSession.prepare(SQLiteSession.java:588)\r\n        at android.database.sqlite.SQLiteProgram.&lt;init&gt;(SQLiteProgram.java:58)\r\n        at android.database.sqlite.SQLiteStatement.&lt;init&gt;(SQLiteStatement.java:31)\r\n        at android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1562)\r\n        at android.database.sqlite.SQLiteDatabase.insert(SQLiteDatabase.java:1433)\r\n        at com.example.newsreport.NewsFeedProvider.insert(NewsFeedProvider.java:78)\r\n        at android.content.ContentProvider$Transport.insert(ContentProvider.java:265)\r\n        at android.content.ContentResolver.insert(ContentResolver.java:1587)\r\n        at com.example.newsreport.NewsReportActivity.onLoadFinished(NewsReportActivity.java:96)\r\n        at com.example.newsreport.NewsReportActivity.onLoadFinished(NewsReportActivity.java:29)\r\n        at androidx.loader.app.LoaderManagerImpl$LoaderObserver.onChanged(LoaderManagerImpl.java:250)\r\n        at androidx.lifecycle.LiveData.considerNotify(LiveData.java:113)\r\n        at androidx.lifecycle.LiveData.dispatchingValue(LiveData.java:131)\r\n        at androidx.lifecycle.LiveData.setValue(LiveData.java:289)\r\n        at androidx.lifecycle.MutableLiveData.setValue(MutableLiveData.java:33)\r\n        at androidx.loader.app.LoaderManagerImpl$LoaderInfo.setValue(LoaderManagerImpl.java:189)\r\n        at androidx.loader.app.LoaderManagerImpl$LoaderInfo.onLoadComplete(LoaderManagerImpl.java:174)\r\n        at androidx.loader.content.Loader.deliverResult(Loader.java:132)\r\n        at androidx.loader.content.AsyncTaskLoader.dispatchOnLoadComplete(AsyncTaskLoader.java:258)\r\n        at androidx.loader.content.AsyncTaskLoader$LoadTask.onPostExecute(AsyncTaskLoader.java:83)\r\n        at androidx.loader.content.ModernAsyncTask.finish(ModernAsyncTask.java:490)\r\n        at androidx.loader.content.ModernAsyncTask$InternalHandler.handleMessage(ModernAsyncTask.java:507)\r\n        at android.os.Handler.dispatchMessage(Handler.java:106)\r\n        at android.os.Looper.loop(Looper.java:193)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\r\n2019-07-29 13:57:20.218 24098-24098/com.example.newsreport E/SQLiteLog: (1) near &quot;null&quot;: syntax error\r\n2019-07-29 13:57:20.220 24098-24098/com.example.newsreport E/SQLiteDatabase: Error inserting channel=News18.com null=https://images.news18.com/ibnlive/uploads/2019/07/yediyurappa-1.jpg image=https://images.news18.com/ibnlive/uploads/2019/07/yediyurappa-1.jpg title=Karnataka Assembly Trust Vote LIVE: Yediyurappa Wins Floor Test, Speaker Ramesh Kumar Resigns - News18 content=Eleven Congress MLAs and three JDS lawmakers faced the axe from the Speaker in addition to the three disqualified earlier, bringing down the majority mark to 104, one less than the current strength of 105 of the BJP, which also enjoys the support of an Indepe… [+3489 chars]\r\n    android.database.sqlite.SQLiteException: near &quot;null&quot;: syntax error (code 1 SQLITE_ERROR): , while compiling: INSERT INTO entry(channel,null,image,title,content) VALUES (?,?,?,?,?)\r\n        at android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)\r\n        at android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:903)\r\n        at android.database.sqlite.SQLiteConnection.prepare(SQLiteConnection.java:514)\r\n        at android.database.sqlite.SQLiteSession.prepare(SQLiteSession.java:588)\r\n        at android.database.sqlite.SQLiteProgram.&lt;init&gt;(SQLiteProgram.java:58)\r\n        at android.database.sqlite.SQLiteStatement.&lt;init&gt;(SQLiteStatement.java:31)\r\n        at android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1562)\r\n        at android.database.sqlite.SQLiteDatabase.insert(SQLiteDatabase.java:1433)\r\n        at com.example.newsreport.NewsReportActivity.onLoadFinished(NewsReportActivity.java:102)\r\n        at com.example.newsreport.NewsReportActivity.onLoadFinished(NewsReportActivity.java:29)\r\n        at androidx.loader.app.LoaderManagerImpl$LoaderObserver.onChanged(LoaderManagerImpl.java:250)\r\n        at androidx.lifecycle.LiveData.considerNotify(LiveData.java:113)\r\n\r\n```\r\n\r\nI need to use drawable which is returned from loadimageasynctask\r\nI need to store all data in database as well as for content provider","title":"how to fix sqliteException in android java","body":"<p>I have trying to insert values into database as well as in content provider but getting null sqlite exception.Before using content provider class my data are added to database without any problem.after trying content provider im getting exception. Also I doesn't know whether values are inserted for content provider.....\nAnd in SpecificActivity class I need to use drawable which is returned by LoadImageAsyncTask class but Im getting null value there...\nHelp me to solve those issues..</p>\n\n<pre><code>public class FeedReaderContract {\n    public static class FeedEntry implements BaseColumns {\n        public static final String TABLE_NAME = \"entry\";\n        public static final String _ID = BaseColumns._ID;\n        public static final String COLUMN_NAME_TITLE = \"title\";\n        public static final String COLUMN_NAME_CONTENT = \"content\";\n        public static final String COLUMN_NAME_IMAGE = \"image\";\n        public static final String COLUMN_NAME_CHANNEL = \"channel\";\n\n    }\n}\npublic class FeedReaderDbHelper extends SQLiteOpenHelper {\n\n    public static final int DATABASE_VERSION = 1;\n    public static final String DATABASE_NAME = \"FeedReader.db\";\n    Context context;\n    public Context getContext() {\n        return context;\n    }\n    private static final String SQL_CREATE_ENTRIES =\n        \"CREATE TABLE \" + FeedReaderContract.FeedEntry.TABLE_NAME + \" (\" +\n        FeedReaderContract.FeedEntry._ID + \"  INTEGER PRIMARY KEY, \" +\n        FeedReaderContract.FeedEntry.COLUMN_NAME_TITLE + \"  TEXT, \" +\n        FeedReaderContract.FeedEntry.COLUMN_NAME_CONTENT + \"  TEXT, \" +\n        FeedReaderContract.FeedEntry.COLUMN_NAME_CHANNEL + \"  TEXT, \" +\n        FeedReaderContract.FeedEntry.COLUMN_NAME_IMAGE + \"  TEXT); \";\n\n    private static final String SQL_DELETE_ENTRIES =\n        \"DROP TABLE IF EXISTS \" + FeedReaderContract.FeedEntry.TABLE_NAME;\n    public FeedReaderDbHelper(Context context) {\n        super(context, DATABASE_NAME, null, DATABASE_VERSION);\n        this.context = context;\n    }\n    public void onCreate(SQLiteDatabase db) {\n        NewsFeedProvider.db = db;\n        db.execSQL(SQL_CREATE_ENTRIES);\n        Log.e(\"sql db\", \"created\");\n\n    }\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        db.execSQL(SQL_DELETE_ENTRIES);\n        onCreate(db);\n    }\n    public void onDowngrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        db.execSQL(\"DROP TABLE IF EXISTS \" + FeedReaderContract.FeedEntry.TABLE_NAME);\n        onCreate(db);\n    }\n    public void getData(long id) {\n        try {\n            Log.e(\"entered\", \"getdata\");\n\n            SQLiteDatabase db = getReadableDatabase();\n            Cursor cursor = db.query(FeedReaderContract.FeedEntry.TABLE_NAME, new String[] {\n                FeedReaderContract.FeedEntry._ID, FeedReaderContract.FeedEntry.COLUMN_NAME_TITLE, FeedReaderContract.FeedEntry.COLUMN_NAME_CHANNEL, FeedReaderContract.FeedEntry.COLUMN_NAME_CONTENT, FeedReaderContract.FeedEntry.COLUMN_NAME_IMAGE\n            }, FeedReaderContract.FeedEntry._ID + \"=?\", new String[] {\n                String.valueOf(id)\n            }, null, null, null, null);\n            ArrayList &lt; NewsReport &gt; newsReports = new ArrayList &lt; &gt; ();\n            List itemIds = new ArrayList &lt; &gt; ();\n            while (cursor.moveToNext()) {\n\n                newsReports.add(new NewsReport(cursor.getString(cursor.getColumnIndex(FeedReaderContract.FeedEntry.COLUMN_NAME_TITLE)),\n                    cursor.getString(cursor.getColumnIndex(FeedReaderContract.FeedEntry.COLUMN_NAME_CHANNEL)),\n                    cursor.getString(cursor.getColumnIndex(FeedReaderContract.FeedEntry.COLUMN_NAME_CONTENT)),\n                    cursor.getString(cursor.getColumnIndex(FeedReaderContract.FeedEntry.COLUMN_NAME_IMAGE))));\n                long itemId = cursor.getLong(\n                    cursor.getColumnIndexOrThrow(FeedReaderContract.FeedEntry._ID));\n                itemIds.add(itemId);\n                Log.e(\"id\", \"\" + itemId);\n            }\n            cursor.close();\n            Log.e(\"newsreportsize\", \"dbhelper\" + newsReports.size());\n            if (newsReports.size() != 0) {\n                for (int i = 0; i &lt; newsReports.size(); i++) {\n                    Log.e(\"news pic\", \"\" + newsReports.get(i).getPic());\n                    Log.e(\"news title\", \"\" + newsReports.get(i).getTitle());\n                    Log.e(\"news content\", \"\" + newsReports.get(i).getContent());\n                    Log.e(\"news chanel\", \"\" + newsReports.get(i).getNewsChannel());\n                }\n            }\n\n        } catch (Exception ex) {\n            Log.e(\"exception req data\", \"\" + ex);\n        }\n    }\n}\npublic class LoadImageAsyncTask extends AsyncTask &lt; String, Void, Drawable &gt; {\n    private Drawable drawable;\n    String imageUrl;\n    private Drawable image;\n    @Override\n    protected Drawable doInBackground(String...strings) {\n        try {\n            InputStream is = (InputStream) new URL(imageUrl).getContent();\n            Drawable d = Drawable.createFromStream(is, \"src name\");\n\n            Log.e(\"drwable\", \"\" + d);\n\n\n        } catch (Exception e) {\n            Log.e(\"Specific Activity\", \"Converting drawable\" + e);\n\n        }\n        return drawable;\n    }\n\n    @Override\n    protected void onPostExecute(Drawable drawableImage) {\n        super.onPostExecute(drawableImage);\n        setImage(drawableImage);\n\n    }\n    public void setImage(Drawable drawable) {\n        new SpecificNewsReportActivity().drawable = drawable;\n        Log.e(\"set image\", \"\" + drawable);\n        this.drawable = drawable;\n    }\n    public Drawable getImage() {\n        Log.e(\"get image\", \"\" + drawable);\n\n        return drawable;\n    }\n}\npublic class NewsFeedProvider extends ContentProvider {\n    static final String PROVIDER_NAME = \"com.example.newsreport\";\n    static final String URL = \"content://\" + PROVIDER_NAME + \"/newsfeed\";\n    static final Uri CONTENT_URL = Uri.parse(URL);\n    static final int uriCode = 1;\n    static String newsTitle;\n    static String newsContent;\n    static String newsImage;\n    static String newsChannel;\n    static final UriMatcher uriMatcher;\n    private FeedReaderDbHelper dbHelper;\n    private static HashMap &lt; String, String &gt; values;\n    public static SQLiteDatabase db;\n    static {\n        uriMatcher = new UriMatcher(UriMatcher.NO_MATCH);\n        uriMatcher.addURI(PROVIDER_NAME, \"newsfeed\", uriCode);\n    }\n    @Override\n    public boolean onCreate() {\n\n        dbHelper = new FeedReaderDbHelper(getContext());\n        return true;\n    }\n\n    @Override\n    public Cursor query(Uri uri, String[] projection, String selection, String[] selectionArgs, String sortOrder) {\n        SQLiteQueryBuilder queryBuilder = new SQLiteQueryBuilder();\n        queryBuilder.setTables(FeedReaderContract.FeedEntry.TABLE_NAME);\n        switch (uriMatcher.match(uri)) {\n            case uriCode:\n                queryBuilder.setProjectionMap(values);\n                break;\n            default:\n                throw new IllegalArgumentException(\"Unknown URI\" + uri);\n        }\n        //Cursor cursor=queryBuilder.query(dbHelper.getReadableDatabase(),projection,selection,selectionArgs,null,null,sortOrder);\n        Cursor cursor = dbHelper.getReadableDatabase().query(FeedReaderContract.FeedEntry.TABLE_NAME, projection, FeedReaderContract.FeedEntry.COLUMN_NAME_TITLE + \"= ?\", selectionArgs, null, null, sortOrder);\n        cursor.setNotificationUri(getContext().getContentResolver(), uri);\n        return cursor;\n    }\n\n    @Override\n    public String getType(Uri uri) {\n        switch (uriMatcher.match(uri)) {\n            case uriCode:\n                return \"vnd.android.cursor.dir/newsfeed\";\n\n            default:\n                throw new IllegalArgumentException(\"Unsupported URI\" + uri);\n        }\n\n    }\n\n    @Override\n    public Uri insert(Uri uri, ContentValues contentValues) {\n        SQLiteDatabase db = dbHelper.getWritableDatabase();\n        long rowId = db.insert(FeedReaderContract.FeedEntry.TABLE_NAME, null, contentValues);\n        if (rowId &gt; 0) {\n            Uri _uri = ContentUris.withAppendedId(CONTENT_URL, rowId);\n            getContext().getContentResolver().notifyChange(_uri, null);\n            Log.e(\"insert\", \"feedreader\" + contentValues);\n            return _uri;\n        } else {\n            Toast.makeText(getContext(), \"Row insert failed\", Toast.LENGTH_SHORT).show();\n            return null;\n        }\n    }\n\n    @Override\n    public int delete(Uri uri, String selection, String[] selectionArgs) {\n        int rowsDeleted = 0;\n        SQLiteDatabase db = dbHelper.getWritableDatabase();\n        switch (uriMatcher.match(uri)) {\n            case uriCode:\n                rowsDeleted = db.delete(FeedReaderContract.FeedEntry.TABLE_NAME, selection, selectionArgs);\n                break;\n            default:\n                throw new IllegalArgumentException(\"Unknown URI\" + uri);\n        }\n        getContext().getContentResolver().notifyChange(uri, null);\n        return rowsDeleted;\n    }\n\n    @Override\n    public int update(Uri uri, ContentValues contentValues, String selection, String[] selectionArgs) {\n        int rowsUpdated = 0;\n        SQLiteDatabase db = dbHelper.getWritableDatabase();\n        switch (uriMatcher.match(uri)) {\n            case uriCode:\n                rowsUpdated = db.delete(FeedReaderContract.FeedEntry.TABLE_NAME, selection, selectionArgs);\n                break;\n            default:\n                throw new IllegalArgumentException(\"Unknown URI\" + uri);\n        }\n        getContext().getContentResolver().notifyChange(uri, null);\n        return rowsUpdated;\n    }\n}\n\npublic class NewsReportActivity extends AppCompatActivity implements LoaderManager.LoaderCallbacks &lt; ArrayList &lt; NewsReport &gt;&gt; {\n    ProgressBar progressBar;\n    FeedReaderDbHelper dbHelper;\n    SQLiteDatabase db;\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.recycler_view);\n        dbHelper = new FeedReaderDbHelper(this);\n        db = dbHelper.getWritableDatabase();\n        Log.e(\"application\", \"\" + dbHelper);\n        Intent intent = getIntent();\n        if (intent.hasExtra(\"exception\")) {\n            TextView connectionTextView = (TextView) findViewById(R.id.no_connection_text_view);\n            connectionTextView.setText(\"There is no internet connection!!!\");\n        } else {\n            Log.e(\"no exception\", \"entered else\");\n        }\n        getSupportLoaderManager().initLoader(0, null, this);\n\n    }\n\n    @NonNull\n    @Override\n    public Loader &lt; ArrayList &lt; NewsReport &gt;&gt; onCreateLoader(int id, @Nullable Bundle args) {\n        NewsReportLoader newsReportLoader = new NewsReportLoader(this);\n        newsReportLoader.forceLoad();\n        progressBar = (ProgressBar) findViewById(R.id.progress_bar);\n        progressBar.setVisibility(View.VISIBLE);\n\n        return newsReportLoader;\n    }\n\n    @Override\n    public void onLoadFinished(@NonNull Loader &lt; ArrayList &lt; NewsReport &gt;&gt; loader, ArrayList &lt; NewsReport &gt; data) {\n        try {\n            Log.e(\"data\", \"\" + data.size());\n            NewsReportAdapter adapter = new NewsReportAdapter(this, data);\n            RecyclerView recyclerView = (RecyclerView) findViewById(R.id.recycler_view);\n            progressBar.setVisibility(View.INVISIBLE);\n            recyclerView.setAdapter(adapter);\n            recyclerView.setLayoutManager(new LinearLayoutManager(this));\n            DividerItemDecoration mDividerItemDecoration = new DividerItemDecoration(recyclerView.getContext(),\n                new LinearLayoutManager(this).getOrientation());\n            recyclerView.addItemDecoration(mDividerItemDecoration);\n\n            if (dbHelper != null) {\n                Log.e(\"dbhelper\", \"notnull\");\n                db = dbHelper.getWritableDatabase();\n                if (db != null) {\n                    Log.e(\"db\", \"notnull\");\n                    for (int i = 0; i &lt; data.size(); i++) {\n                        ContentValues values = new ContentValues();\n                        NewsReport newsReport = data.get(i);\n                        values.put(FeedReaderContract.FeedEntry.COLUMN_NAME_TITLE, newsReport.getTitle());\n                        values.put(FeedReaderContract.FeedEntry.COLUMN_NAME_CONTENT, newsReport.getContent());\n                        values.put(FeedReaderContract.FeedEntry.COLUMN_NAME_CHANNEL, newsReport.getNewsChannel());\n                        values.put(FeedReaderContract.FeedEntry.COLUMN_NAME_IMAGE, newsReport.getPic());\n                        values.put(NewsFeedProvider.newsTitle, newsReport.getTitle());\n                        values.put(NewsFeedProvider.newsContent, newsReport.getContent());\n                        values.put(NewsFeedProvider.newsChannel, newsReport.getNewsChannel());\n                        values.put(NewsFeedProvider.newsImage, newsReport.getPic());\n                        try {\n                            Uri uri = getApplicationContext().getContentResolver().insert(NewsFeedProvider.CONTENT_URL, values);\n                        } catch (Exception ex) {\n                            Log.e(\"exception in resolver\" + getContentResolver(), \"\" + ex);\n                        }\n                        long newRowId = db.insert(FeedReaderContract.FeedEntry.TABLE_NAME, null, values);\n                        Log.e(\"new row id\", \"\" + newRowId);\n                        dbHelper.getData(newRowId);\n                    }\n                } else\n                    Log.e(\"db\", \"null\");\n            } else {\n                Log.e(\"dbhelper\", \"null\");\n            }\n            // db.execSQL(\"delete from \"+ FeedReaderContract.FeedEntry.TABLE_NAME);\n\n        } catch (Exception ex) {\n            Log.e(\"newsactivity\", \"\" + FeedReaderContract.FeedEntry.TABLE_NAME.length());\n            Log.e(\"onloadfinished\", \"\" + ex);\n            Log.e(\"datahelper\", \"\" + dbHelper.getReadableDatabase().rawQuery(\"SELECT * FROM \" + FeedReaderContract.FeedEntry.TABLE_NAME, null));\n        }\n    }\n\n    @Override\n    public void onLoaderReset(@NonNull Loader &lt; ArrayList &lt; NewsReport &gt;&gt; loader) {\n\n    }\n}\npublic class SpecificNewsReportActivity extends AppCompatActivity {\n    private TextView contentTextView, titleTextView;\n    public ImageView imageView;\n\n    private Intent intent;\n    public Drawable drawable;\n    private String imageUrl;\n\n\n\n    @Override\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_specific_news_report);\n\n        ActionBar actionBar = this.getSupportActionBar();\n        if (actionBar != null) {\n            actionBar.setDisplayHomeAsUpEnabled(true);\n        }\n        intent = getIntent();\n        LoadImageAsyncTask task = new LoadImageAsyncTask();\n        AsyncTask &lt; String, Void, Drawable &gt; d = task.execute();\n\n        try {\n            drawable = d.get();\n        } catch (ExecutionException e) {\n            e.printStackTrace();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n        imageUrl = getIntent().getStringExtra(\"image\");\n        Log.e(\"drawable specific\", \"\" + drawable);\n        drawable = new LoadImageAsyncTask().getImage();\n        contentTextView = (TextView) findViewById(R.id.specific_news_report_content_text_view);\n        titleTextView = (TextView) findViewById(R.id.specific_news_report_title_text_view);\n        imageView = (ImageView) findViewById(R.id.specific_news_report_image_view);\n        contentTextView.setText(intent.getStringExtra(\"content\"));\n        titleTextView.setText(intent.getStringExtra(\"title\"));\n        try {\n            if (drawable != null) {\n                imageView.setImageDrawable(drawable);\n            } else {\n                Log.e(\"returned drawable\", \"null\");\n            }\n        } catch (Exception ex) {\n            Log.e(\"enna exception\", \"\" + ex);\n        }\n\n    }\n    @Override\n    public boolean onOptionsItemSelected(@NonNull MenuItem item) {\n        int id = item.getItemId();\n        if (id == android.R.id.home) {\n            Intent intent = NavUtils.getParentActivityIntent(this);\n            NavUtils.navigateUpTo(this, intent);\n        }\n        return super.onOptionsItemSelected(item);\n    }\n\n}\n\n</code></pre>\n\n<p>stacktrace</p>\n\n<pre><code>2019-07-29 13:57:20.172 24098-24098/com.example.newsreport E/SQLiteLog: (1) near \"null\": syntax error\n2019-07-29 13:57:20.177 24098-24098/com.example.newsreport E/SQLiteDatabase: Error inserting channel=News18.com null=https://images.news18.com/ibnlive/uploads/2019/07/yediyurappa-1.jpg image=https://images.news18.com/ibnlive/uploads/2019/07/yediyurappa-1.jpg title=Karnataka Assembly Trust Vote LIVE: Yediyurappa Wins Floor Test, Speaker Ramesh Kumar Resigns - News18 content=Eleven Congress MLAs and three JDS lawmakers faced the axe from the Speaker in addition to the three disqualified earlier, bringing down the majority mark to 104, one less than the current strength of 105 of the BJP, which also enjoys the support of an Indepe… [+3489 chars]\n    android.database.sqlite.SQLiteException: near \"null\": syntax error (code 1 SQLITE_ERROR): , while compiling: INSERT INTO entry(channel,null,image,title,content) VALUES (?,?,?,?,?)\n        at android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)\n        at android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:903)\n        at android.database.sqlite.SQLiteConnection.prepare(SQLiteConnection.java:514)\n        at android.database.sqlite.SQLiteSession.prepare(SQLiteSession.java:588)\n        at android.database.sqlite.SQLiteProgram.&lt;init&gt;(SQLiteProgram.java:58)\n        at android.database.sqlite.SQLiteStatement.&lt;init&gt;(SQLiteStatement.java:31)\n        at android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1562)\n        at android.database.sqlite.SQLiteDatabase.insert(SQLiteDatabase.java:1433)\n        at com.example.newsreport.NewsFeedProvider.insert(NewsFeedProvider.java:78)\n        at android.content.ContentProvider$Transport.insert(ContentProvider.java:265)\n        at android.content.ContentResolver.insert(ContentResolver.java:1587)\n        at com.example.newsreport.NewsReportActivity.onLoadFinished(NewsReportActivity.java:96)\n        at com.example.newsreport.NewsReportActivity.onLoadFinished(NewsReportActivity.java:29)\n        at androidx.loader.app.LoaderManagerImpl$LoaderObserver.onChanged(LoaderManagerImpl.java:250)\n        at androidx.lifecycle.LiveData.considerNotify(LiveData.java:113)\n        at androidx.lifecycle.LiveData.dispatchingValue(LiveData.java:131)\n        at androidx.lifecycle.LiveData.setValue(LiveData.java:289)\n        at androidx.lifecycle.MutableLiveData.setValue(MutableLiveData.java:33)\n        at androidx.loader.app.LoaderManagerImpl$LoaderInfo.setValue(LoaderManagerImpl.java:189)\n        at androidx.loader.app.LoaderManagerImpl$LoaderInfo.onLoadComplete(LoaderManagerImpl.java:174)\n        at androidx.loader.content.Loader.deliverResult(Loader.java:132)\n        at androidx.loader.content.AsyncTaskLoader.dispatchOnLoadComplete(AsyncTaskLoader.java:258)\n        at androidx.loader.content.AsyncTaskLoader$LoadTask.onPostExecute(AsyncTaskLoader.java:83)\n        at androidx.loader.content.ModernAsyncTask.finish(ModernAsyncTask.java:490)\n        at androidx.loader.content.ModernAsyncTask$InternalHandler.handleMessage(ModernAsyncTask.java:507)\n        at android.os.Handler.dispatchMessage(Handler.java:106)\n        at android.os.Looper.loop(Looper.java:193)\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858)\n2019-07-29 13:57:20.218 24098-24098/com.example.newsreport E/SQLiteLog: (1) near \"null\": syntax error\n2019-07-29 13:57:20.220 24098-24098/com.example.newsreport E/SQLiteDatabase: Error inserting channel=News18.com null=https://images.news18.com/ibnlive/uploads/2019/07/yediyurappa-1.jpg image=https://images.news18.com/ibnlive/uploads/2019/07/yediyurappa-1.jpg title=Karnataka Assembly Trust Vote LIVE: Yediyurappa Wins Floor Test, Speaker Ramesh Kumar Resigns - News18 content=Eleven Congress MLAs and three JDS lawmakers faced the axe from the Speaker in addition to the three disqualified earlier, bringing down the majority mark to 104, one less than the current strength of 105 of the BJP, which also enjoys the support of an Indepe… [+3489 chars]\n    android.database.sqlite.SQLiteException: near \"null\": syntax error (code 1 SQLITE_ERROR): , while compiling: INSERT INTO entry(channel,null,image,title,content) VALUES (?,?,?,?,?)\n        at android.database.sqlite.SQLiteConnection.nativePrepareStatement(Native Method)\n        at android.database.sqlite.SQLiteConnection.acquirePreparedStatement(SQLiteConnection.java:903)\n        at android.database.sqlite.SQLiteConnection.prepare(SQLiteConnection.java:514)\n        at android.database.sqlite.SQLiteSession.prepare(SQLiteSession.java:588)\n        at android.database.sqlite.SQLiteProgram.&lt;init&gt;(SQLiteProgram.java:58)\n        at android.database.sqlite.SQLiteStatement.&lt;init&gt;(SQLiteStatement.java:31)\n        at android.database.sqlite.SQLiteDatabase.insertWithOnConflict(SQLiteDatabase.java:1562)\n        at android.database.sqlite.SQLiteDatabase.insert(SQLiteDatabase.java:1433)\n        at com.example.newsreport.NewsReportActivity.onLoadFinished(NewsReportActivity.java:102)\n        at com.example.newsreport.NewsReportActivity.onLoadFinished(NewsReportActivity.java:29)\n        at androidx.loader.app.LoaderManagerImpl$LoaderObserver.onChanged(LoaderManagerImpl.java:250)\n        at androidx.lifecycle.LiveData.considerNotify(LiveData.java:113)\n\n</code></pre>\n\n<p>I need to use drawable which is returned from loadimageasynctask\nI need to store all data in database as well as for content provider</p>\n"},{"tags":["java","android","sqlite","android-sqlite"],"comments":[{"owner":{"account_id":13810539,"reputation":3452,"user_id":9968399,"display_name":"Taseer"},"score":0,"creation_date":1556873713,"post_id":55966332,"comment_id":98583557,"body_markdown":"`SELECT * FROM metadata WHERE pages = (SELECT MAX(pages) FROM metadata)` ?","body":"<code>SELECT * FROM metadata WHERE pages = (SELECT MAX(pages) FROM metadata)</code> ?"},{"owner":{"account_id":14754717,"reputation":458,"user_id":10800406,"display_name":"Pemba Tamang"},"score":0,"creation_date":1556873807,"post_id":55966332,"comment_id":98583603,"body_markdown":"ok how about in the format that I wrote in...no problem with a raw query but I would like to know how it would be in the normal query format. Thanks for your comment","body":"ok how about in the format that I wrote in...no problem with a raw query but I would like to know how it would be in the normal query format. Thanks for your comment"},{"owner":{"account_id":14754717,"reputation":458,"user_id":10800406,"display_name":"Pemba Tamang"},"score":0,"creation_date":1556873873,"post_id":55966332,"comment_id":98583637,"body_markdown":"Taseer I dont see any mention of  `file_id` in your query","body":"Taseer I dont see any mention of  <code>file_id</code> in your query"},{"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"score":0,"creation_date":1556873902,"post_id":55966332,"comment_id":98583655,"body_markdown":"`SELECT file_id, max(pages) FROM metadata GROUP BY file_id ORDER BY file_id`","body":"<code>SELECT file_id, max(pages) FROM metadata GROUP BY file_id ORDER BY file_id</code>"},{"owner":{"account_id":14754717,"reputation":458,"user_id":10800406,"display_name":"Pemba Tamang"},"score":0,"creation_date":1556877413,"post_id":55966332,"comment_id":98585639,"body_markdown":"nope shawn.... Couldn&#39;t read row 0, col -1 from CursorWindow.  Make sure the Cursor is initialized correctly before accessing data from it. I don&#39;t understand what I am missing","body":"nope shawn.... Couldn&#39;t read row 0, col -1 from CursorWindow.  Make sure the Cursor is initialized correctly before accessing data from it. I don&#39;t understand what I am missing"},{"owner":{"account_id":14754717,"reputation":458,"user_id":10800406,"display_name":"Pemba Tamang"},"score":0,"creation_date":1556878242,"post_id":55966332,"comment_id":98586098,"body_markdown":"I reset my app and read one pdf twice with different pages first time it was 10 pages and the second was 20, so I was supposed to get 20 as the max but I get the above error with your query and when I checked the cursor size the size is 2 instead of 1 as like I said I opened the same pdf twice which has the dame file_id.","body":"I reset my app and read one pdf twice with different pages first time it was 10 pages and the second was 20, so I was supposed to get 20 as the max but I get the above error with your query and when I checked the cursor size the size is 2 instead of 1 as like I said I opened the same pdf twice which has the dame file_id."}],"answers":[{"tags":[],"owner":{"account_id":1127417,"reputation":47697,"user_id":1114338,"accept_rate":100,"display_name":"M D"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1556873880,"creation_date":1556873880,"answer_id":55966440,"question_id":55966332,"body_markdown":"How about this\r\n\r\n&gt; SELECT DISTINCT file_id, pages from tbl_test GROUP BY file_id\r\n\r\nResult\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tW0Rn.jpg","title":"Getting the largest value of a row among multiple entries","body":"<p>How about this</p>\n\n<blockquote>\n  <p>SELECT DISTINCT file_id, pages from tbl_test GROUP BY file_id</p>\n</blockquote>\n\n<p>Result</p>\n\n<p><a href=\"https://i.stack.imgur.com/tW0Rn.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tW0Rn.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":6348437,"reputation":1619,"user_id":4958351,"display_name":"AIMIN PAN"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556875597,"creation_date":1556874914,"answer_id":55966720,"question_id":55966332,"body_markdown":"Strange M D&#39;s query runs. Only group key and aggregate column can be in select list, if you use group by. So pages is invalid select column.\r\n\r\nCorrect query should be \r\n\r\n    SELECT file_id, MAX(pages) from tbl_test GROUP BY file_id\r\n\r\n","title":"Getting the largest value of a row among multiple entries","body":"<p>Strange M D's query runs. Only group key and aggregate column can be in select list, if you use group by. So pages is invalid select column.</p>\n\n<p>Correct query should be </p>\n\n<pre><code>SELECT file_id, MAX(pages) from tbl_test GROUP BY file_id\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1556878661,"creation_date":1556878333,"answer_id":55967702,"question_id":55966332,"body_markdown":"This uses the [`query()`][1] method:\r\n\r\n    String tableName = &quot;metadata&quot;;\r\n    String[] cols = {&quot;file_id&quot;, &quot;max(pages) AS pages&quot;}; \r\n    String[] groupBy = {&quot;file_id&quot;};\r\n    Cursor cursor = db.query(tableName, cols, null, null, groupBy, null, null);\r\nReplace `db` with your SQLiteOpenHelper variable.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#query(boolean,%2520java.lang.String,%2520java.lang.String%5B%5D,%2520java.lang.String,%2520java.lang.String%5B%5D,%2520java.lang.String,%2520java.lang.String,%2520java.lang.String,%2520java.lang.String)","title":"Getting the largest value of a row among multiple entries","body":"<p>This uses the <a href=\"https://developer.android.com/reference/android/database/sqlite/SQLiteDatabase#query(boolean,%2520java.lang.String,%2520java.lang.String%5B%5D,%2520java.lang.String,%2520java.lang.String%5B%5D,%2520java.lang.String,%2520java.lang.String,%2520java.lang.String,%2520java.lang.String)\" rel=\"nofollow noreferrer\"><code>query()</code></a> method:</p>\n\n<pre><code>String tableName = \"metadata\";\nString[] cols = {\"file_id\", \"max(pages) AS pages\"}; \nString[] groupBy = {\"file_id\"};\nCursor cursor = db.query(tableName, cols, null, null, groupBy, null, null);\n</code></pre>\n\n<p>Replace <code>db</code> with your SQLiteOpenHelper variable.</p>\n"}],"owner":{"account_id":14754717,"reputation":458,"user_id":10800406,"display_name":"Pemba Tamang"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":4,"up_vote_count":2,"accepted_answer_id":55967702,"answer_count":3,"score":-2,"last_activity_date":1641658028,"creation_date":1556873470,"question_id":55966332,"body_markdown":"My question is similar to the following post:\r\nhttps://stackoverflow.com/questions/35565309/find-largest-value-among-repeated-entries-in-an-sql-table\r\n\r\nbut it is for mysql and and I cannot understand how it translates in sqlite.\r\n\r\nI want to get the max value of `pages` from my table `metadata` with multiple `file_ids` and multiple entries\r\n\r\n  \r\n\r\nMy table with the two columns I am interested in. \r\n\r\n    file_id  pages\r\n    1          2\r\n    1          5\r\n    2          10\r\n    3          20 \r\n    4          12\r\n    4          1\r\n    5          4\r\n    6          5\r\n    6          14 \r\n    7          12\r\n\r\n\r\nWhat I am looking for is \r\n\r\n    file_id  pages\r\n    1          5\r\n    2          10\r\n    3          20 \r\n    4          12\r\n    5          4\r\n    6          14 \r\n    7          12\r\n\r\nI am trying to make a query but don&#39;t know how\r\n\r\n    String[]cols = {&quot;file_id&quot;,&quot;pages&quot;};\r\n    String groupBy = {&quot;pages&quot;};\r\n\r\nall others params are `null`\r\nthat&#39;s as far as I can think.\r\n\r\nWhat will be the query like. Please help.\r\n\r\nI want the query in normal sqlite format rather than the raw query if possible.","title":"Getting the largest value of a row among multiple entries","body":"<p>My question is similar to the following post:\n<a href=\"https://stackoverflow.com/questions/35565309/find-largest-value-among-repeated-entries-in-an-sql-table\">Find largest value among repeated entries in an sql table</a></p>\n\n<p>but it is for mysql and and I cannot understand how it translates in sqlite.</p>\n\n<p>I want to get the max value of <code>pages</code> from my table <code>metadata</code> with multiple <code>file_ids</code> and multiple entries</p>\n\n<p>My table with the two columns I am interested in. </p>\n\n<pre><code>file_id  pages\n1          2\n1          5\n2          10\n3          20 \n4          12\n4          1\n5          4\n6          5\n6          14 \n7          12\n</code></pre>\n\n<p>What I am looking for is </p>\n\n<pre><code>file_id  pages\n1          5\n2          10\n3          20 \n4          12\n5          4\n6          14 \n7          12\n</code></pre>\n\n<p>I am trying to make a query but don't know how</p>\n\n<pre><code>String[]cols = {\"file_id\",\"pages\"};\nString groupBy = {\"pages\"};\n</code></pre>\n\n<p>all others params are <code>null</code>\nthat's as far as I can think.</p>\n\n<p>What will be the query like. Please help.</p>\n\n<p>I want the query in normal sqlite format rather than the raw query if possible.</p>\n"},{"tags":["java","jsf","primefaces","jmx","mbeans"],"answers":[{"tags":[],"owner":{"account_id":235505,"reputation":10708,"user_id":502366,"display_name":"Melloware"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1641658015,"creation_date":1641658015,"answer_id":70634096,"question_id":70622823,"body_markdown":"You want to use Jolokia.  It wraps all your JMX beans in REST API.\r\n\r\nhttps://jolokia.org/\r\n\r\nThen it should be trivial to use from your JSF pages or any other UI component.  We do this for one of our projects.","title":"Is there a JMX widget/component/plugin to allow execution of MBeans in webapp UI?","body":"<p>You want to use Jolokia.  It wraps all your JMX beans in REST API.</p>\n<p><a href=\"https://jolokia.org/\" rel=\"nofollow noreferrer\">https://jolokia.org/</a></p>\n<p>Then it should be trivial to use from your JSF pages or any other UI component.  We do this for one of our projects.</p>\n"}],"owner":{"account_id":12662835,"reputation":71,"user_id":9203135,"display_name":"Jssson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70634096,"answer_count":1,"score":1,"last_activity_date":1641658015,"creation_date":1641566323,"question_id":70622823,"body_markdown":"Good afternoon,\r\n\r\nI am currently building a webapp using Java, JSF, Primefaces and I&#39;d like admin-users to run certain batch-jobs. At first I thought about simply creating a simple UI to do this myself, but I then I realized that it would be better to use some type of plugin/widget that simply just takes all available MBeans and displays it for the user in some way. This way I wouldn&#39;t have to constantly create more UI-elements whenever a new job is created. I used Apache Sirona before to do this, but I want to limit access of these functions to certain users instead.\r\n\r\nSo my question is: Are there any plugins/tools like this available? \r\n\r\nCheers","title":"Is there a JMX widget/component/plugin to allow execution of MBeans in webapp UI?","body":"<p>Good afternoon,</p>\n<p>I am currently building a webapp using Java, JSF, Primefaces and I'd like admin-users to run certain batch-jobs. At first I thought about simply creating a simple UI to do this myself, but I then I realized that it would be better to use some type of plugin/widget that simply just takes all available MBeans and displays it for the user in some way. This way I wouldn't have to constantly create more UI-elements whenever a new job is created. I used Apache Sirona before to do this, but I want to limit access of these functions to certain users instead.</p>\n<p>So my question is: Are there any plugins/tools like this available?</p>\n<p>Cheers</p>\n"},{"tags":["java","android","database","sqlite","android-sqlite"],"answers":[{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1544467568,"creation_date":1544467568,"answer_id":53711809,"question_id":53711630,"body_markdown":"Maybe while you were making changes to various names, you forgot this:\r\n\r\n    DATABASE_TABELLA = &quot;users&quot;;\r\n\r\nchange it to:\r\n\r\n    DATABASE_TABELLA = &quot;clienti&quot;;\r\nand check other parts of your code that you may have hardcoded such names and change them to the new names.","title":"Android Studio SQLite database creation does not work?","body":"<p>Maybe while you were making changes to various names, you forgot this:</p>\n\n<pre><code>DATABASE_TABELLA = \"users\";\n</code></pre>\n\n<p>change it to:</p>\n\n<pre><code>DATABASE_TABELLA = \"clienti\";\n</code></pre>\n\n<p>and check other parts of your code that you may have hardcoded such names and change them to the new names.</p>\n"}],"owner":{"account_id":9800601,"reputation":21,"user_id":7262085,"display_name":"Lorenzo G."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":53711809,"answer_count":1,"score":-1,"last_activity_date":1641658000,"creation_date":1544466774,"question_id":53711630,"body_markdown":"I&#39;m not an experienced user when it comes to Android Studio and/or Java programming. I am working on a project for which is required an SQLite DB to be used by an app.\r\n\r\nFollowing some guides i created a Java Class in order to locally manage the very specific DB I will be using, coded as follows:\r\n\r\n    public class gestionedb {\r\n    static final String KEY_RIGAID = &quot;_id&quot;;\r\n    static final String KEY_EMAIL = &quot;email&quot;;\r\n    static final String KEY_PASSWORD = &quot;password&quot;;\r\n    static final String KEY_NICKNAME = &quot;nickname&quot;;\r\n    static final String TAG = &quot;gestionedb&quot;;\r\n    static final String DATABASE_NOME = &quot;superchat5db&quot;;\r\n    static final String DATABASE_TABELLA = &quot;users&quot;;\r\n    static final int DATABASE_VERSIONE = 1;\r\n\r\n    static final String DATABASE_CREAZIONE = &quot;create table clienti (_id integer primary key autoincrement, &quot; + &quot;email text not null, password text not null, nickname text not null);&quot;;\r\n\r\n    final Context context;\r\n    DatabaseHelper DBHelper;\r\n    SQLiteDatabase db;\r\n\r\n    public gestionedb(Context ctx){\r\n        this.context = ctx;\r\n        DBHelper = new DatabaseHelper(context);\r\n    }\r\n\r\n    private static class DatabaseHelper extends SQLiteOpenHelper {\r\n        DatabaseHelper(Context context) {\r\n            super(context, DATABASE_NOME, null, DATABASE_VERSIONE);\r\n        }\r\n        @Override\r\n        public void onCreate(SQLiteDatabase db) {\r\n            try {\r\n                db.execSQL(DATABASE_CREAZIONE);\r\n            }\r\n            catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\r\n            Log.d(&quot;Test&quot;, &quot;in onUpgrade. Old is: &quot; + oldVersion + &quot; New is: &quot; + newVersion);\r\n        }\r\n    }\r\n\r\n    public gestionedb open() throws SQLException {\r\n        db = DBHelper.getWritableDatabase();\r\n        return this;\r\n    }\r\n\r\n    public void close() {\r\n        DBHelper.close();\r\n    }\r\n\r\n    public Cursor obtainallusers() {\r\n        return db.query(DATABASE_TABELLA, new String[] {KEY_RIGAID, KEY_EMAIL, KEY_NICKNAME}, null, null, null, null, null);\r\n    }\r\n\r\n    public Cursor obtainuser(long rigaId) throws SQLException {\r\n        Cursor mCursore = db.query(true, DATABASE_TABELLA, new String[] {KEY_RIGAID, KEY_EMAIL, KEY_NICKNAME}, KEY_RIGAID + &quot;=&quot; + rigaId, null, null, null, null, null);\r\n        if (mCursore != null) {\r\n            mCursore.moveToFirst();\r\n        }\r\n        return mCursore;\r\n    }\r\n\r\n    public long adduser(String email, String password, String nickname) {\r\n        ContentValues initialValues = new ContentValues();\r\n        initialValues.put(KEY_EMAIL, email);\r\n        initialValues.put(KEY_PASSWORD, password);\r\n        initialValues.put(KEY_NICKNAME, nickname);\r\n        return db.insert(DATABASE_TABELLA, null, initialValues);\r\n    }\r\n\r\n    public boolean deleteuser(long rigaId) {\r\n        return db.delete(DATABASE_TABELLA, KEY_RIGAID + &quot;=&quot; + rigaId, null) &gt; 0;\r\n    }\r\n\r\n    public boolean updatenickname(long rigaId, String nickname) {\r\n        ContentValues args = new ContentValues();\r\n        args.put(KEY_NICKNAME, nickname);\r\n        return db.update(DATABASE_TABELLA, args, KEY_RIGAID + &quot;=&quot; + rigaId, null) &gt; 0;\r\n    }\r\n\r\n    public boolean updatepsw(long rigaId, String password){\r\n        ContentValues args = new ContentValues();\r\n        args.put(KEY_PASSWORD, password);\r\n        return db.update(DATABASE_TABELLA, args, KEY_RIGAID + &quot;=&quot; + rigaId, null) &gt; 0;\r\n    }\r\n}\r\n\r\nOf course I had to tweak variables a bit in order to adapt this class to the DB I wanna use. The guide I used was in italian, therefore variables&#39; names are in italian, sorry about that.\r\n\r\nI decided to test all of this by creating a button from my MainActivity that starts a brand new Activity called &quot;ProvaDB&quot; (TestDB), which does the following:\r\n\r\n    gestionedb db = new gestionedb(this);\r\n\r\n        db.open();\r\n        long id = db.adduser(&quot;prova@gmail.com&quot;, &quot;prova123&quot;, &quot;prova1&quot;);\r\n        id = db.adduser(&quot;prova2@gmail.com&quot;, &quot;prova123&quot;, &quot;prova2&quot;);\r\n        db.close();\r\n\r\n        db.open();\r\n        Cursor c = db.obtainallusers();\r\n        if (c.moveToFirst()){\r\n            do{\r\n                Toast.makeText(this,\r\n                        &quot;id: &quot; + c.getString(0) + &quot;\\n&quot; +\r\n                        &quot;Email: &quot; + c.getString(1) + &quot;\\n&quot; +\r\n                        &quot;Nickname: &quot; + c.getString(2),\r\n                        Toast.LENGTH_LONG).show();\r\n            } while (c.moveToNext());\r\n        }\r\n        db.close();\r\n\r\n    }\r\n\r\nIt is supposed to create the DB and add a couple of users, then list them with a long Toast text. When I try to run the app, after clicking on the button to go to &quot;ProvaDB&quot;, the app crashes. Looking at logs, I noticed that the DB is missing, which is weird. I can&#39;t understand what&#39;s wrong about this, since I&#39;m not an experienced user, as I mentioned earlier. Any ideas?\r\n\r\nPart of the log:\r\n\r\n    2018-12-10 19:11:05.175 17701-17701/com.example.lorenzo.superchat5 E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.lorenzo.superchat5, PID: 17701\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.lorenzo.superchat5/com.example.lorenzo.superchat5.ProvaDB}: android.database.sqlite.SQLiteException: no such table: users (code 1): , while compiling: SELECT _id, email, nickname FROM users\r\n    #################################################################\r\n    Error Code : 1 (SQLITE_ERROR)\r\n    Caused By : SQL(query) error or missing database.\r\n    \t(no such table: users (code 1): , while compiling: SELECT _id, email, nickname FROM users)\r\n\r\nThank you very much.","title":"Android Studio SQLite database creation does not work?","body":"<p>I'm not an experienced user when it comes to Android Studio and/or Java programming. I am working on a project for which is required an SQLite DB to be used by an app.</p>\n\n<p>Following some guides i created a Java Class in order to locally manage the very specific DB I will be using, coded as follows:</p>\n\n<pre><code>public class gestionedb {\nstatic final String KEY_RIGAID = \"_id\";\nstatic final String KEY_EMAIL = \"email\";\nstatic final String KEY_PASSWORD = \"password\";\nstatic final String KEY_NICKNAME = \"nickname\";\nstatic final String TAG = \"gestionedb\";\nstatic final String DATABASE_NOME = \"superchat5db\";\nstatic final String DATABASE_TABELLA = \"users\";\nstatic final int DATABASE_VERSIONE = 1;\n\nstatic final String DATABASE_CREAZIONE = \"create table clienti (_id integer primary key autoincrement, \" + \"email text not null, password text not null, nickname text not null);\";\n\nfinal Context context;\nDatabaseHelper DBHelper;\nSQLiteDatabase db;\n\npublic gestionedb(Context ctx){\n    this.context = ctx;\n    DBHelper = new DatabaseHelper(context);\n}\n\nprivate static class DatabaseHelper extends SQLiteOpenHelper {\n    DatabaseHelper(Context context) {\n        super(context, DATABASE_NOME, null, DATABASE_VERSIONE);\n    }\n    @Override\n    public void onCreate(SQLiteDatabase db) {\n        try {\n            db.execSQL(DATABASE_CREAZIONE);\n        }\n        catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Override\n    public void onUpgrade(SQLiteDatabase db, int oldVersion, int newVersion) {\n        Log.d(\"Test\", \"in onUpgrade. Old is: \" + oldVersion + \" New is: \" + newVersion);\n    }\n}\n\npublic gestionedb open() throws SQLException {\n    db = DBHelper.getWritableDatabase();\n    return this;\n}\n\npublic void close() {\n    DBHelper.close();\n}\n\npublic Cursor obtainallusers() {\n    return db.query(DATABASE_TABELLA, new String[] {KEY_RIGAID, KEY_EMAIL, KEY_NICKNAME}, null, null, null, null, null);\n}\n\npublic Cursor obtainuser(long rigaId) throws SQLException {\n    Cursor mCursore = db.query(true, DATABASE_TABELLA, new String[] {KEY_RIGAID, KEY_EMAIL, KEY_NICKNAME}, KEY_RIGAID + \"=\" + rigaId, null, null, null, null, null);\n    if (mCursore != null) {\n        mCursore.moveToFirst();\n    }\n    return mCursore;\n}\n\npublic long adduser(String email, String password, String nickname) {\n    ContentValues initialValues = new ContentValues();\n    initialValues.put(KEY_EMAIL, email);\n    initialValues.put(KEY_PASSWORD, password);\n    initialValues.put(KEY_NICKNAME, nickname);\n    return db.insert(DATABASE_TABELLA, null, initialValues);\n}\n\npublic boolean deleteuser(long rigaId) {\n    return db.delete(DATABASE_TABELLA, KEY_RIGAID + \"=\" + rigaId, null) &gt; 0;\n}\n\npublic boolean updatenickname(long rigaId, String nickname) {\n    ContentValues args = new ContentValues();\n    args.put(KEY_NICKNAME, nickname);\n    return db.update(DATABASE_TABELLA, args, KEY_RIGAID + \"=\" + rigaId, null) &gt; 0;\n}\n\npublic boolean updatepsw(long rigaId, String password){\n    ContentValues args = new ContentValues();\n    args.put(KEY_PASSWORD, password);\n    return db.update(DATABASE_TABELLA, args, KEY_RIGAID + \"=\" + rigaId, null) &gt; 0;\n}\n</code></pre>\n\n<p>}</p>\n\n<p>Of course I had to tweak variables a bit in order to adapt this class to the DB I wanna use. The guide I used was in italian, therefore variables' names are in italian, sorry about that.</p>\n\n<p>I decided to test all of this by creating a button from my MainActivity that starts a brand new Activity called \"ProvaDB\" (TestDB), which does the following:</p>\n\n<pre><code>gestionedb db = new gestionedb(this);\n\n    db.open();\n    long id = db.adduser(\"prova@gmail.com\", \"prova123\", \"prova1\");\n    id = db.adduser(\"prova2@gmail.com\", \"prova123\", \"prova2\");\n    db.close();\n\n    db.open();\n    Cursor c = db.obtainallusers();\n    if (c.moveToFirst()){\n        do{\n            Toast.makeText(this,\n                    \"id: \" + c.getString(0) + \"\\n\" +\n                    \"Email: \" + c.getString(1) + \"\\n\" +\n                    \"Nickname: \" + c.getString(2),\n                    Toast.LENGTH_LONG).show();\n        } while (c.moveToNext());\n    }\n    db.close();\n\n}\n</code></pre>\n\n<p>It is supposed to create the DB and add a couple of users, then list them with a long Toast text. When I try to run the app, after clicking on the button to go to \"ProvaDB\", the app crashes. Looking at logs, I noticed that the DB is missing, which is weird. I can't understand what's wrong about this, since I'm not an experienced user, as I mentioned earlier. Any ideas?</p>\n\n<p>Part of the log:</p>\n\n<pre><code>2018-12-10 19:11:05.175 17701-17701/com.example.lorenzo.superchat5 E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.lorenzo.superchat5, PID: 17701\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.lorenzo.superchat5/com.example.lorenzo.superchat5.ProvaDB}: android.database.sqlite.SQLiteException: no such table: users (code 1): , while compiling: SELECT _id, email, nickname FROM users\n#################################################################\nError Code : 1 (SQLITE_ERROR)\nCaused By : SQL(query) error or missing database.\n    (no such table: users (code 1): , while compiling: SELECT _id, email, nickname FROM users)\n</code></pre>\n\n<p>Thank you very much.</p>\n"},{"tags":["java","android","sqlite","android-sqlite"],"answers":[{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551984091,"creation_date":1551984091,"answer_id":55050726,"question_id":55050615,"body_markdown":"You can do it with `moveToPosition(9)`:\r\n\r\n    final SQLiteDatabase mydb = new MyDatabase(EndicActivity.this).getWritableDatabase();\r\n    final Cursor c = mydb.rawQuery(&quot;select * from conteudos&quot;, null);\r\n    String title = &quot;&quot;;\r\n    if (c.getCount() &gt;= 10) {\r\n        c.moveToPosition(9);\r\n        title = c.getString(c.getColumnIndex(&quot;title&quot;));\r\n    }","title":"How to get a text of a row of a column in sqlite database in android programming?","body":"<p>You can do it with <code>moveToPosition(9)</code>:</p>\n\n<pre><code>final SQLiteDatabase mydb = new MyDatabase(EndicActivity.this).getWritableDatabase();\nfinal Cursor c = mydb.rawQuery(\"select * from conteudos\", null);\nString title = \"\";\nif (c.getCount() &gt;= 10) {\n    c.moveToPosition(9);\n    title = c.getString(c.getColumnIndex(\"title\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4812226,"reputation":336,"user_id":3885362,"display_name":"Andre Batista"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551984336,"creation_date":1551984336,"answer_id":55050793,"question_id":55050615,"body_markdown":"You can achieve this in your own query by using the table&#39;s Id key if you know/have it:\r\n\r\n    final Cursor c = mydb.rawQuery(&quot;select * from conteudos where id = &quot; + idYouWant, null);\r\n\r\nOr simply by using limit and offset as in:\r\n\r\n    final Cursor c = mydb.rawQuery(&quot;select * from conteudos limit 1 offset 9&quot;, null);\r\n\r\nThe code above will return you the tenth row, you can use it for the nth row you want. \r\n","title":"How to get a text of a row of a column in sqlite database in android programming?","body":"<p>You can achieve this in your own query by using the table's Id key if you know/have it:</p>\n\n<pre><code>final Cursor c = mydb.rawQuery(\"select * from conteudos where id = \" + idYouWant, null);\n</code></pre>\n\n<p>Or simply by using limit and offset as in:</p>\n\n<pre><code>final Cursor c = mydb.rawQuery(\"select * from conteudos limit 1 offset 9\", null);\n</code></pre>\n\n<p>The code above will return you the tenth row, you can use it for the nth row you want. </p>\n"}],"owner":{"account_id":15320259,"reputation":67,"user_id":11052957,"display_name":"محمدشریف رحیمی"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1641657755,"creation_date":1551983641,"question_id":55050615,"body_markdown":"I Want to get text of a row of a column in SQLite. For example I want to get text of tenth row in the column named `title`. In other word I want to get tenth row text of `title` column. How to do it? Please help me. thank-you.\r\nHere is my sample code:\r\n\r\n    final SQLiteDatabase mydb = new \r\n    MyDatabase(EndicActivity.this).getWritableDatabase();\r\n    \r\n    final Cursor c = mydb.rawQuery(&quot;select * from conteudos&quot;, null);\r\n\r\n\r\n\t\t","title":"How to get a text of a row of a column in sqlite database in android programming?","body":"<p>I Want to get text of a row of a column in SQLite. For example I want to get text of tenth row in the column named <code>title</code>. In other word I want to get tenth row text of <code>title</code> column. How to do it? Please help me. thank-you.\nHere is my sample code:</p>\n\n<pre><code>final SQLiteDatabase mydb = new \nMyDatabase(EndicActivity.this).getWritableDatabase();\n\nfinal Cursor c = mydb.rawQuery(\"select * from conteudos\", null);\n</code></pre>\n"},{"tags":["java","android","sqlite","android-sqlite"],"comments":[{"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"score":0,"creation_date":1580411550,"post_id":59992749,"comment_id":106098696,"body_markdown":"You forgot to initialize `myDb`: `myDb = new DatabaseHelper(this);`","body":"You forgot to initialize <code>myDb</code>: <code>myDb = new DatabaseHelper(this);</code>"},{"owner":{"account_id":17119087,"reputation":63,"user_id":12387803,"display_name":"Niamh"},"score":0,"creation_date":1580412239,"post_id":59992749,"comment_id":106099007,"body_markdown":"Thank you, however still getting the same error unfortunately!","body":"Thank you, however still getting the same error unfortunately!"},{"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"score":0,"creation_date":1580412820,"post_id":59992749,"comment_id":106099253,"body_markdown":"Post the error log.","body":"Post the error log."},{"owner":{"account_id":17119087,"reputation":63,"user_id":12387803,"display_name":"Niamh"},"score":0,"creation_date":1580413140,"post_id":59992749,"comment_id":106099393,"body_markdown":"E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.medicationmanagementsystem, PID: 1494\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.medicationmanagementsystem/com.example.medicationmanagementsystem.DoctorHome}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.TextView.setText(java.lang.CharSequence)&#39; on a null object reference","body":"E/AndroidRuntime: FATAL EXCEPTION: main     Process: com.example.medicationmanagementsystem, PID: 1494     java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.medicationmanagementsystem/com.exa&zwnj;&#8203;mple.medicationmanag&zwnj;&#8203;ementsystem.DoctorHo&zwnj;&#8203;me}: java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.TextView.setText(java.lang.CharSequence)&#39; on a null object reference"}],"answers":[{"tags":[],"owner":{"account_id":17321325,"reputation":382,"user_id":12546733,"display_name":"DemoDemo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1580413470,"creation_date":1580413470,"answer_id":59993425,"question_id":59992749,"body_markdown":"instead of **findViewById(R.id.emaildisplay);** \r\n\r\ntry **navigationView.findViewById(R.id.emaildisplay);** \r\n\r\nI assume emaildisplay is part of nvigationView not the activity layout.","title":"Displaying email in navigation drawer after logging in","body":"<p>instead of <strong>findViewById(R.id.emaildisplay);</strong> </p>\n\n<p>try <strong>navigationView.findViewById(R.id.emaildisplay);</strong> </p>\n\n<p>I assume emaildisplay is part of nvigationView not the activity layout.</p>\n"},{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1580415260,"creation_date":1580413801,"answer_id":59993500,"question_id":59992749,"body_markdown":"First you have to initialize `myDb` before using it like this:\r\n\r\n    myDb = new DatabaseHelper(this);\r\n\r\nAlso `txtDisplayEmail` is not inside your activity&#39;s layout, so this:\r\n\r\n    txtDisplayEmail = findViewById(R.id.emaildisplay);\r\n\r\nreturns `null`.&lt;br/&gt;\r\nWhat you should do is find `txtDisplayEmail` inside the `NavigationView`&#39;s header.&lt;br/&gt;\r\nChange to this:\r\n\r\n    myDb = new DatabaseHelper(this);\r\n    drawer = findViewById(R.id.drawer_layout);\r\n    NavigationView navigationView = findViewById(R.id.nav_view);\r\n    View header = navigationView.getHeaderView(0);\r\n    txtDisplayEmail = (TextView) header.findViewById(R.id.emaildisplay);\r\n    txtDisplayEmail.setText(myDb.getEmail());\r\n    navigationView.setNavigationItemSelectedListener(this);\r\n&lt;br/&gt;\r\nBut the method `getEmail()` of `DatabaseHelper` does not return the user&#39;s email (if this is what it is supposed to do).&lt;br/&gt;\r\nIt just loops over all the emails of the table and returns the last one.&lt;br/&gt;\r\nSo change it to return the email of the logged in user. \r\n        ","title":"Displaying email in navigation drawer after logging in","body":"<p>First you have to initialize <code>myDb</code> before using it like this:</p>\n\n<pre><code>myDb = new DatabaseHelper(this);\n</code></pre>\n\n<p>Also <code>txtDisplayEmail</code> is not inside your activity's layout, so this:</p>\n\n<pre><code>txtDisplayEmail = findViewById(R.id.emaildisplay);\n</code></pre>\n\n<p>returns <code>null</code>.<br/>\nWhat you should do is find <code>txtDisplayEmail</code> inside the <code>NavigationView</code>'s header.<br/>\nChange to this:</p>\n\n<pre><code>myDb = new DatabaseHelper(this);\ndrawer = findViewById(R.id.drawer_layout);\nNavigationView navigationView = findViewById(R.id.nav_view);\nView header = navigationView.getHeaderView(0);\ntxtDisplayEmail = (TextView) header.findViewById(R.id.emaildisplay);\ntxtDisplayEmail.setText(myDb.getEmail());\nnavigationView.setNavigationItemSelectedListener(this);\n</code></pre>\n\n<p><br/>\nBut the method <code>getEmail()</code> of <code>DatabaseHelper</code> does not return the user's email (if this is what it is supposed to do).<br/>\nIt just loops over all the emails of the table and returns the last one.<br/>\nSo change it to return the email of the logged in user. </p>\n"}],"owner":{"account_id":17119087,"reputation":63,"user_id":12387803,"display_name":"Niamh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":59993500,"answer_count":2,"score":2,"last_activity_date":1641657733,"creation_date":1580410677,"question_id":59992749,"body_markdown":"I am trying to show email from login.java page in the navigation drawer after they login to Android App. I am getting a FATAL EXCEPTION error and java.lang.NullPointerException when I run.  \r\n\r\nI have put code into DoctorHome.java: \r\n\r\n````\r\npackage com.example.medicationmanagementsystem;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.view.MenuItem;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.ActionBarDrawerToggle;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.appcompat.widget.Toolbar;\r\nimport androidx.core.view.GravityCompat;\r\nimport androidx.drawerlayout.widget.DrawerLayout;\r\n\r\nimport com.example.medicationmanagementsystem.DAO.DatabaseHelper;\r\nimport com.google.android.material.navigation.NavigationView;\r\n\r\npublic class DoctorHome extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener {\r\n    private DrawerLayout drawer;\r\n    TextView txtDisplayEmail;\r\n    DatabaseHelper myDb;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.doctor_layout);\r\n\r\n        Toolbar toolbar = findViewById(R.id.toolbar);\r\n        setSupportActionBar(toolbar);\r\n\r\n\r\n        drawer = findViewById(R.id.drawer_layout);\r\n\r\n        txtDisplayEmail = findViewById(R.id.emaildisplay);\r\n        txtDisplayEmail.setText(myDb.getEmail());\r\n\r\n        NavigationView navigationView = findViewById(R.id.nav_view);\r\n        navigationView.setNavigationItemSelectedListener(this);\r\n\r\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this, drawer, toolbar,\r\n                R.string.navigation_drawer_open, R.string.navigation_drawer_close);\r\n        drawer.addDrawerListener(toggle);\r\n        toggle.syncState();\r\n    }\r\n    //END\r\n   \r\n    @Override\r\n    public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\r\n        switch (menuItem.getItemId()) {\r\n            case R.id.nav_createprescription:\r\n                Intent createpresintent = new Intent(DoctorHome.this, MainActivity.class);\r\n                startActivity(createpresintent);\r\n                break;\r\n            case R.id.viewprescriptions:\r\n                Intent presintent = new Intent(DoctorHome.this, ViewListContents.class);\r\n                startActivity(presintent);\r\n                break;\r\n            case R.id.nav_addpatients:\r\n                Intent createpatientintent = new Intent(DoctorHome.this, NewPatient.class);\r\n                startActivity(createpatientintent);\r\n                break;\r\n            case R.id.nav_viewpatients:\r\n                Intent viewpatientintent = new Intent(DoctorHome.this, ViewPatientListContents.class);\r\n                startActivity(viewpatientintent);\r\n                break;\r\n            case R.id.nav_logout:\r\n                Intent logoutintent= new Intent(DoctorHome.this, Login.class);\r\n                startActivity(logoutintent);\r\n                break;\r\n        }\r\n        drawer.closeDrawer(GravityCompat.START);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public void onBackPressed() {\r\n        if (drawer.isDrawerOpen(GravityCompat.START)) {\r\n            drawer.closeDrawer(GravityCompat.START);\r\n        } else {\r\n            super.onBackPressed();\r\n        }\r\n    }\r\n}\r\n````\r\nDatabaseHelper.java \r\n````\r\n//getting email\r\n    public String getEmail() throws SQLException {\r\n        String email = &quot;&quot;;\r\n        Cursor cursor = this.getReadableDatabase().query(\r\n                TABLE_USERS, new String[] {COL_USER_EMAIL},\r\n                null, null, null, null, null);\r\n        if (cursor.moveToFirst()) {\r\n            do {\r\n                email = cursor.getString(0);\r\n            } while (cursor.moveToNext());\r\n        }\r\n        cursor.close();\r\n\r\n        return email;\r\n    }\r\n````\r\n\r\nI am using SQLite as the database to save user details. I just need the email from this to display in the textview emaildisplay in the navigation header. Any help would be appreciated. Thank you!! ","title":"Displaying email in navigation drawer after logging in","body":"<p>I am trying to show email from login.java page in the navigation drawer after they login to Android App. I am getting a FATAL EXCEPTION error and java.lang.NullPointerException when I run.  </p>\n\n<p>I have put code into DoctorHome.java: </p>\n\n<pre><code>package com.example.medicationmanagementsystem;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.MenuItem;\nimport android.widget.EditText;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.ActionBarDrawerToggle;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.appcompat.widget.Toolbar;\nimport androidx.core.view.GravityCompat;\nimport androidx.drawerlayout.widget.DrawerLayout;\n\nimport com.example.medicationmanagementsystem.DAO.DatabaseHelper;\nimport com.google.android.material.navigation.NavigationView;\n\npublic class DoctorHome extends AppCompatActivity implements NavigationView.OnNavigationItemSelectedListener {\n    private DrawerLayout drawer;\n    TextView txtDisplayEmail;\n    DatabaseHelper myDb;\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.doctor_layout);\n\n        Toolbar toolbar = findViewById(R.id.toolbar);\n        setSupportActionBar(toolbar);\n\n\n        drawer = findViewById(R.id.drawer_layout);\n\n        txtDisplayEmail = findViewById(R.id.emaildisplay);\n        txtDisplayEmail.setText(myDb.getEmail());\n\n        NavigationView navigationView = findViewById(R.id.nav_view);\n        navigationView.setNavigationItemSelectedListener(this);\n\n        ActionBarDrawerToggle toggle = new ActionBarDrawerToggle(this, drawer, toolbar,\n                R.string.navigation_drawer_open, R.string.navigation_drawer_close);\n        drawer.addDrawerListener(toggle);\n        toggle.syncState();\n    }\n    //END\n\n    @Override\n    public boolean onNavigationItemSelected(@NonNull MenuItem menuItem) {\n        switch (menuItem.getItemId()) {\n            case R.id.nav_createprescription:\n                Intent createpresintent = new Intent(DoctorHome.this, MainActivity.class);\n                startActivity(createpresintent);\n                break;\n            case R.id.viewprescriptions:\n                Intent presintent = new Intent(DoctorHome.this, ViewListContents.class);\n                startActivity(presintent);\n                break;\n            case R.id.nav_addpatients:\n                Intent createpatientintent = new Intent(DoctorHome.this, NewPatient.class);\n                startActivity(createpatientintent);\n                break;\n            case R.id.nav_viewpatients:\n                Intent viewpatientintent = new Intent(DoctorHome.this, ViewPatientListContents.class);\n                startActivity(viewpatientintent);\n                break;\n            case R.id.nav_logout:\n                Intent logoutintent= new Intent(DoctorHome.this, Login.class);\n                startActivity(logoutintent);\n                break;\n        }\n        drawer.closeDrawer(GravityCompat.START);\n        return true;\n    }\n\n    @Override\n    public void onBackPressed() {\n        if (drawer.isDrawerOpen(GravityCompat.START)) {\n            drawer.closeDrawer(GravityCompat.START);\n        } else {\n            super.onBackPressed();\n        }\n    }\n}\n</code></pre>\n\n<p>DatabaseHelper.java </p>\n\n<pre><code>//getting email\n    public String getEmail() throws SQLException {\n        String email = \"\";\n        Cursor cursor = this.getReadableDatabase().query(\n                TABLE_USERS, new String[] {COL_USER_EMAIL},\n                null, null, null, null, null);\n        if (cursor.moveToFirst()) {\n            do {\n                email = cursor.getString(0);\n            } while (cursor.moveToNext());\n        }\n        cursor.close();\n\n        return email;\n    }\n</code></pre>\n\n<p>I am using SQLite as the database to save user details. I just need the email from this to display in the textview emaildisplay in the navigation header. Any help would be appreciated. Thank you!! </p>\n"},{"tags":["java","database","hibernate"],"owner":{"account_id":10397196,"reputation":1510,"user_id":7666635,"display_name":"Gunther Schadow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1641657676,"creation_date":1641653003,"question_id":70633389,"body_markdown":"In Hibernate (actually I am running a 10 year old version, which I had already modified and is working wonderfully for my purpose), I have the following use case:\r\n\r\nIn a session, I am loading and editing an object graph in memory, it involves lazy collections and all. The entire object graph of interest has been walked, and while lots more lazy collections may be accessed to pull more objects into the graph, we don&#39;t want that, as the whole database being connected it could suck the entire 100 GB database into memory. \r\n\r\nNow that graph is saved, flushed, and possibly committed to the database. The session may still be open. Whether or not the session is still open should not matter for what comes next.\r\n\r\nNext I want to traverse that whole object graph as it is now in memory, whatever of the lazy stuff has been fetched, I traverse that. But whatever has not been fetched, I do not now want to fetch it, because I do not want to suck in the entire database through connections I didn&#39;t care about in my transaction. I just want the object graph as it is now, nothing new.\r\n\r\nHow can I disable all further lazy loading / fetching in a Session but without getting Exceptions when I am trying to get elements from lazy collections, etc.?","title":"How to disable or freeze Hibernate lazy loading after an object graph has already been created in a session","body":"<p>In Hibernate (actually I am running a 10 year old version, which I had already modified and is working wonderfully for my purpose), I have the following use case:</p>\n<p>In a session, I am loading and editing an object graph in memory, it involves lazy collections and all. The entire object graph of interest has been walked, and while lots more lazy collections may be accessed to pull more objects into the graph, we don't want that, as the whole database being connected it could suck the entire 100 GB database into memory.</p>\n<p>Now that graph is saved, flushed, and possibly committed to the database. The session may still be open. Whether or not the session is still open should not matter for what comes next.</p>\n<p>Next I want to traverse that whole object graph as it is now in memory, whatever of the lazy stuff has been fetched, I traverse that. But whatever has not been fetched, I do not now want to fetch it, because I do not want to suck in the entire database through connections I didn't care about in my transaction. I just want the object graph as it is now, nothing new.</p>\n<p>How can I disable all further lazy loading / fetching in a Session but without getting Exceptions when I am trying to get elements from lazy collections, etc.?</p>\n"},{"tags":["java","android","sockets","encryption","aes"],"answers":[{"tags":[],"owner":{"account_id":899926,"reputation":5112,"user_id":1820553,"display_name":"kelalaka"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1641657279,"creation_date":1605383975,"answer_id":64838079,"question_id":64837519,"body_markdown":"**The improper code**\r\n\r\nAs [commented][1] by PresidentJamesK.Polk you need to close the `CipherOutputStream` in the sender side by calling the `.close()` function that calls the `doFinal()` to finalize the encryption.\r\n\r\n**The padding size**\r\n\r\nAlthough Java says `PKCS5Padding` actually it is `PKCS#7 Padding`. `PKCS#5 Padding` is defined for 8 octets, i.e. block ciphers with 64-bit block size like DES. \r\n\r\nPKCS#7 standard is on the [rfc2315][2] (10.3 note 2):\r\n\r\n\r\n&gt; For such algorithms, the method shall be to pad the input at the trailing end with k - (l mod k) octets all having value k - (l mod k), where l is the length of the input.\r\n\r\nAn octet is one byte and the `k` is the block size in bytes, and it is `16` for AES.\r\n\r\nWe need to calculate `IV_length + message_size_with_padding`\r\n\r\nIf we assume that you have `l` bytes to encrypt then the output size is\r\n\r\n`16 + l + 16 - (l mod 16)`  therefore at most 16 byte extended due to padding. \r\n\r\n**A sample Java code** \r\n\r\n```java\r\n    /**\r\n    * A simple function to calculate the plaintext size after \r\n    * PKCS#7 padding is applied to the message.\r\n    * \r\n    *          In Java PKCS#7 = PKCS#5\r\n    * \r\n    * @param messageSize : the byte size of the plaintext\r\n    * @return message size after the PKCS#7 padding is applied\r\n    */\r\n    public int paddedMessageSize( int messageSize ) {\r\n        \r\n        // first 16 is the prepended IV\r\n        return ( 16 + messageSize + 16 - (messageSize % 16));\r\n    }\r\n    \r\n```\r\n\r\n----\r\n\r\n**Notes**\r\n\r\nCBC mode is vulnerable to padding oracle attacks where applicable. CBC mode provides only confidentiality. If you need integrity and authentication ( you should) either use CBC with HMAC or better use authenticated encryption modes like AES-GCM which doesn&#39;t require padding at all, however, you need to store the tag, too. If you fear the nonce reuse issue for AES-GCM then you can use AES-GCM-SIV, which is a nonce misuse resistant scheme. If you are not obligated to use AES you can prefer ChaCha20-Poly1305 which might be easier to use than AES-GCM [\\[1\\]][3][\\[2\\]][4].\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/64837519/what-is-the-file-size-after-encryption-using-aes-cbc-pkcs5padding-in-java/64838079?noredirect=1#comment114636083_64838079\r\n  [2]: https://www.ietf.org/rfc/rfc2315.txt\r\n  [3]: https://crypto.stackexchange.com/q/84357/18298 &quot;Crytpgraphy.SE: What are the rules for using AES-GCM correctly?&quot;\r\n  [4]: https://stackoverflow.com/a/64507126/1820553 &quot;Stackoverflow: Java AES/GCM/NoPadding encryption does not increment the counter of the IV after doFinal&quot;","title":"What is the file size after encryption using AES/CBC/PKCS5Padding in java","body":"<p><strong>The improper code</strong></p>\n<p>As <a href=\"https://stackoverflow.com/questions/64837519/what-is-the-file-size-after-encryption-using-aes-cbc-pkcs5padding-in-java/64838079?noredirect=1#comment114636083_64838079\">commented</a> by PresidentJamesK.Polk you need to close the <code>CipherOutputStream</code> in the sender side by calling the <code>.close()</code> function that calls the <code>doFinal()</code> to finalize the encryption.</p>\n<p><strong>The padding size</strong></p>\n<p>Although Java says <code>PKCS5Padding</code> actually it is <code>PKCS#7 Padding</code>. <code>PKCS#5 Padding</code> is defined for 8 octets, i.e. block ciphers with 64-bit block size like DES.</p>\n<p>PKCS#7 standard is on the <a href=\"https://www.ietf.org/rfc/rfc2315.txt\" rel=\"nofollow noreferrer\">rfc2315</a> (10.3 note 2):</p>\n<blockquote>\n<p>For such algorithms, the method shall be to pad the input at the trailing end with k - (l mod k) octets all having value k - (l mod k), where l is the length of the input.</p>\n</blockquote>\n<p>An octet is one byte and the <code>k</code> is the block size in bytes, and it is <code>16</code> for AES.</p>\n<p>We need to calculate <code>IV_length + message_size_with_padding</code></p>\n<p>If we assume that you have <code>l</code> bytes to encrypt then the output size is</p>\n<p><code>16 + l + 16 - (l mod 16)</code>  therefore at most 16 byte extended due to padding.</p>\n<p><strong>A sample Java code</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>    /**\n    * A simple function to calculate the plaintext size after \n    * PKCS#7 padding is applied to the message.\n    * \n    *          In Java PKCS#7 = PKCS#5\n    * \n    * @param messageSize : the byte size of the plaintext\n    * @return message size after the PKCS#7 padding is applied\n    */\n    public int paddedMessageSize( int messageSize ) {\n        \n        // first 16 is the prepended IV\n        return ( 16 + messageSize + 16 - (messageSize % 16));\n    }\n    \n</code></pre>\n<hr />\n<p><strong>Notes</strong></p>\n<p>CBC mode is vulnerable to padding oracle attacks where applicable. CBC mode provides only confidentiality. If you need integrity and authentication ( you should) either use CBC with HMAC or better use authenticated encryption modes like AES-GCM which doesn't require padding at all, however, you need to store the tag, too. If you fear the nonce reuse issue for AES-GCM then you can use AES-GCM-SIV, which is a nonce misuse resistant scheme. If you are not obligated to use AES you can prefer ChaCha20-Poly1305 which might be easier to use than AES-GCM <a href=\"https://crypto.stackexchange.com/q/84357/18298\" title=\"Crytpgraphy.SE: What are the rules for using AES-GCM correctly?\">[1]</a><a href=\"https://stackoverflow.com/a/64507126/1820553\" title=\"Stackoverflow: Java AES/GCM/NoPadding encryption does not increment the counter of the IV after doFinal\">[2]</a>.</p>\n"},{"tags":[],"owner":{"account_id":10425920,"reputation":452,"user_id":7687223,"display_name":"Hussein Yaqoobi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1606856756,"creation_date":1606856756,"answer_id":65098515,"question_id":64837519,"body_markdown":"This is an issue of an Android project. When I run this code in Android Studio, Logcat did not show me any exception. But when I run this code in Windows using Eclipse, I got this exception:\r\n\r\n    java.io.IOException: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\r\n\r\nSo, based on [Kelalaka][1]&#39;s answer, I realized that the problem is that `cipherInputStream` and `cipherOutputStream` did not close properly. In fact, I first close `inputStream` and `outputStream`, and then cipher streams. So I closed the cipher streams first and then the other streams and now the encryption is working properly.\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/1820553/kelalaka","title":"What is the file size after encryption using AES/CBC/PKCS5Padding in java","body":"<p>This is an issue of an Android project. When I run this code in Android Studio, Logcat did not show me any exception. But when I run this code in Windows using Eclipse, I got this exception:</p>\n<pre><code>java.io.IOException: javax.crypto.BadPaddingException: Given final block not properly padded. Such issues can arise if a bad key is used during decryption.\n</code></pre>\n<p>So, based on <a href=\"https://stackoverflow.com/users/1820553/kelalaka\">Kelalaka</a>'s answer, I realized that the problem is that <code>cipherInputStream</code> and <code>cipherOutputStream</code> did not close properly. In fact, I first close <code>inputStream</code> and <code>outputStream</code>, and then cipher streams. So I closed the cipher streams first and then the other streams and now the encryption is working properly.</p>\n"},{"tags":[],"owner":{"account_id":10425920,"reputation":452,"user_id":7687223,"display_name":"Hussein Yaqoobi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634566952,"creation_date":1634566952,"answer_id":69617791,"question_id":64837519,"body_markdown":"Check for this exception.\r\njava.io.IOException: javax.crypto.BadPaddingException","title":"What is the file size after encryption using AES/CBC/PKCS5Padding in java","body":"<p>Check for this exception.\njava.io.IOException: javax.crypto.BadPaddingException</p>\n"}],"owner":{"account_id":10425920,"reputation":452,"user_id":7687223,"display_name":"Hussein Yaqoobi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1218,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1641657279,"creation_date":1605380241,"question_id":64837519,"body_markdown":"I tried to use encryption and decryption when sending files using socket. I use the `AES/CBC/PKCS5Padding` algorithm and first write the `IV` and then the file to the stream.\r\n\r\nThe **problem** is that the loop does not end when the file is receiving.\r\n\r\nI think this is due to the file size and the encrypted file seems to be smaller than the original file, While I give the size of the original file to the receiver. If this hypothesis is correct, is there a way to calculate the size of the encrypted file?\r\n\r\n**File sender**\r\n\r\n                SecretKey keySpec = new SecretKeySpec(key, &quot;AES&quot;);\r\n                byte[] iv = AES.randomNonce(16);\r\n                IvParameterSpec ivParameterSpec = new IvParameterSpec(iv);\r\n                Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n                cipher.init(Cipher.ENCRYPT_MODE, keySpec, ivParameterSpec);\r\n\r\n                outputStream = socket.getOutputStream();\r\n                outputStream.write(iv);\r\n                outputStream.flush();\r\n                inputStream = context.getContentResolver().openInputStream(message.getUri());\r\n                cipherOutputStream = new CipherOutputStream(outputStream, cipher);\r\n\r\n                long size = message.getSize();\r\n                long written = 0;\r\n                byte[] buffer = new byte[8192];\r\n                int count;\r\n                int percent = 0;\r\n                while (!isStopped &amp;&amp; (count = inputStream.read(buffer)) &gt; 0) {\r\n                    cipherOutputStream.write(buffer, 0, count);\r\n                    written += count;\r\n                    int p = (int) (((float) written / (float) size) * 100);\r\n                    if (percent != p) {\r\n                        percent = p;\r\n                        if (onProgressListener != null) {\r\n                            onProgressListener.onProgress(percent);\r\n                        }\r\n                    }\r\n                }\r\n                cipherOutputStream.flush();\r\n                if (onProgressListener != null) {\r\n                    onProgressListener.onEnd(null);\r\n                }\r\n**File receiver**\r\n\r\n                inputStream = socket.getInputStream();\r\n                fileOutputStream = new FileOutputStream(file);\r\n                byte[] iv = new byte[16];\r\n                inputStream.read(iv);\r\n\r\n                SecretKey keySpec = new SecretKeySpec(key, &quot;AES&quot;);\r\n                IvParameterSpec ivParameterSpec = new IvParameterSpec(iv);\r\n                Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\r\n                cipher.init(Cipher.DECRYPT_MODE, keySpec, ivParameterSpec);\r\n\r\n                cipherInputStream = new CipherInputStream(inputStream, cipher);\r\n\r\n                long size = message.getSize();\r\n                long read = size;\r\n                byte[] buffer = new byte[8192];\r\n                int count;\r\n                int percent = 0;\r\n                while (!isStopped &amp;&amp; read &gt; 0 &amp;&amp; (count = cipherInputStream.read(buffer, 0, (int) Math.min(buffer.length, read))) != -1) {\r\n                    fileOutputStream.write(buffer, 0, count);\r\n                    read -= count;\r\n                    int p = (int) (((float) read / (float) size) * 100);\r\n                    if (percent != p) {\r\n                        percent = p;\r\n                        if (onProgressListener != null) {\r\n                            onProgressListener.onProgress(100 - percent);\r\n                        }\r\n                    }\r\n                }\r\n                if (onProgressListener != null) {\r\n                    onProgressListener.onEnd(Uri.fromFile(file));\r\n                }","title":"What is the file size after encryption using AES/CBC/PKCS5Padding in java","body":"<p>I tried to use encryption and decryption when sending files using socket. I use the <code>AES/CBC/PKCS5Padding</code> algorithm and first write the <code>IV</code> and then the file to the stream.</p>\n<p>The <strong>problem</strong> is that the loop does not end when the file is receiving.</p>\n<p>I think this is due to the file size and the encrypted file seems to be smaller than the original file, While I give the size of the original file to the receiver. If this hypothesis is correct, is there a way to calculate the size of the encrypted file?</p>\n<p><strong>File sender</strong></p>\n<pre><code>            SecretKey keySpec = new SecretKeySpec(key, &quot;AES&quot;);\n            byte[] iv = AES.randomNonce(16);\n            IvParameterSpec ivParameterSpec = new IvParameterSpec(iv);\n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n            cipher.init(Cipher.ENCRYPT_MODE, keySpec, ivParameterSpec);\n\n            outputStream = socket.getOutputStream();\n            outputStream.write(iv);\n            outputStream.flush();\n            inputStream = context.getContentResolver().openInputStream(message.getUri());\n            cipherOutputStream = new CipherOutputStream(outputStream, cipher);\n\n            long size = message.getSize();\n            long written = 0;\n            byte[] buffer = new byte[8192];\n            int count;\n            int percent = 0;\n            while (!isStopped &amp;&amp; (count = inputStream.read(buffer)) &gt; 0) {\n                cipherOutputStream.write(buffer, 0, count);\n                written += count;\n                int p = (int) (((float) written / (float) size) * 100);\n                if (percent != p) {\n                    percent = p;\n                    if (onProgressListener != null) {\n                        onProgressListener.onProgress(percent);\n                    }\n                }\n            }\n            cipherOutputStream.flush();\n            if (onProgressListener != null) {\n                onProgressListener.onEnd(null);\n            }\n</code></pre>\n<p><strong>File receiver</strong></p>\n<pre><code>            inputStream = socket.getInputStream();\n            fileOutputStream = new FileOutputStream(file);\n            byte[] iv = new byte[16];\n            inputStream.read(iv);\n\n            SecretKey keySpec = new SecretKeySpec(key, &quot;AES&quot;);\n            IvParameterSpec ivParameterSpec = new IvParameterSpec(iv);\n            Cipher cipher = Cipher.getInstance(&quot;AES/CBC/PKCS5Padding&quot;);\n            cipher.init(Cipher.DECRYPT_MODE, keySpec, ivParameterSpec);\n\n            cipherInputStream = new CipherInputStream(inputStream, cipher);\n\n            long size = message.getSize();\n            long read = size;\n            byte[] buffer = new byte[8192];\n            int count;\n            int percent = 0;\n            while (!isStopped &amp;&amp; read &gt; 0 &amp;&amp; (count = cipherInputStream.read(buffer, 0, (int) Math.min(buffer.length, read))) != -1) {\n                fileOutputStream.write(buffer, 0, count);\n                read -= count;\n                int p = (int) (((float) read / (float) size) * 100);\n                if (percent != p) {\n                    percent = p;\n                    if (onProgressListener != null) {\n                        onProgressListener.onProgress(100 - percent);\n                    }\n                }\n            }\n            if (onProgressListener != null) {\n                onProgressListener.onEnd(Uri.fromFile(file));\n            }\n</code></pre>\n"},{"tags":["java","swing","jscrollpane"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":3,"creation_date":1641657129,"post_id":70633951,"comment_id":124864248,"body_markdown":"in short: use `LayoutManager`s - using `null` LayoutManager is mostly always a problem - in this case, the JScrollPane is missing a size, so it is 0x0, so nothing is displayed (still other problems are expected)","body":"in short: use <code>LayoutManager</code>s - using <code>null</code> LayoutManager is mostly always a problem - in this case, the JScrollPane is missing a size, so it is 0x0, so nothing is displayed (still other problems are expected)"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1641657385,"post_id":70633951,"comment_id":124864310,"body_markdown":"Yes, you can set the JScrollPane&#39;s seize and location and then add it to the null-layout-using container, but as @user16320675 states, it&#39;s almost *always* wrong to use a null layout. While it might seem easier to create GUI&#39;s as a newbie using these, the GUI created will probably work on only one person&#39;s screen, and trying to maintain them is a nightmare.  Much better to learn and use the layout managers. Also, you will want to set the column and row property for the JTextArea, usually by passing 2 ints into its constructor. This will set the scrollpane&#39;s preferred size.","body":"Yes, you can set the JScrollPane&#39;s seize and location and then add it to the null-layout-using container, but as @user16320675 states, it&#39;s almost <i>always</i> wrong to use a null layout. While it might seem easier to create GUI&#39;s as a newbie using these, the GUI created will probably work on only one person&#39;s screen, and trying to maintain them is a nightmare.  Much better to learn and use the layout managers. Also, you will want to set the column and row property for the JTextArea, usually by passing 2 ints into its constructor. This will set the scrollpane&#39;s preferred size."}],"owner":{"account_id":18960056,"reputation":57,"user_id":13835801,"display_name":"Pulse"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1641657243,"answer_count":0,"score":0,"last_activity_date":1641656982,"creation_date":1641656982,"question_id":70633951,"body_markdown":"I have a textarea which will contain a lot of input lines, and i need a scroll.\r\ni don&#39;t know why isnt it showing, there are no errors.\r\n\r\n```\r\n  JFrame main_GUI = new JFrame(); //main frame\r\n  JPanel body = new JPanel(null);\r\n  main_GUI.setLayout(null);  \r\n  main_GUI.setSize(600, 600); //size\r\n  \r\n  body.setBounds(150, 50, 400, 500);\r\n  main_GUI.add(body);\r\n\r\n\r\n  JTextArea contacts_field = new JTextArea(); //the textarea that will contain a lot of lines\r\n  JScrollPane scroll = new JScrollPane(contacts_field);\r\n\r\n  body.add(contacts_field);\r\n  body.add(scroll);\r\n\r\n  main_GUI.setResizable(false);\r\n  main_GUI.setLocationRelativeTo(null);\r\n  main_GUI.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n  main_GUI.setVisible(true);\r\n\r\n```","title":"JScrollPane not showing in java","body":"<p>I have a textarea which will contain a lot of input lines, and i need a scroll.\ni don't know why isnt it showing, there are no errors.</p>\n<pre><code>  JFrame main_GUI = new JFrame(); //main frame\n  JPanel body = new JPanel(null);\n  main_GUI.setLayout(null);  \n  main_GUI.setSize(600, 600); //size\n  \n  body.setBounds(150, 50, 400, 500);\n  main_GUI.add(body);\n\n\n  JTextArea contacts_field = new JTextArea(); //the textarea that will contain a lot of lines\n  JScrollPane scroll = new JScrollPane(contacts_field);\n\n  body.add(contacts_field);\n  body.add(scroll);\n\n  main_GUI.setResizable(false);\n  main_GUI.setLocationRelativeTo(null);\n  main_GUI.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n  main_GUI.setVisible(true);\n\n</code></pre>\n"},{"tags":["java","pdf","heap-memory","tabula"],"comments":[{"owner":{"account_id":23870553,"reputation":43,"user_id":17872307,"display_name":"Maria Kasakowa"},"score":0,"creation_date":1641743268,"post_id":70633537,"comment_id":124880276,"body_markdown":"Thank you for such a detailed answer! Unfortunately, increasing of heap size didn&#39;t help either. I&#39;ve traced the memory usage with Java profiler and noticed that the error happens synchronically with a sudden peak of Garbage Collector activity. Idk how to interpret it because I can&#39;t spot any garbage folder to clean it. Deleting Temporary Files using Java Control Panel didn&#39;t help either. And another interesting point: according to Java Profiler, memory usage doesn&#39;t exceed 1 GB — and I&#39;ve read that the default maximum is 2 GB.","body":"Thank you for such a detailed answer! Unfortunately, increasing of heap size didn&#39;t help either. I&#39;ve traced the memory usage with Java profiler and noticed that the error happens synchronically with a sudden peak of Garbage Collector activity. Idk how to interpret it because I can&#39;t spot any garbage folder to clean it. Deleting Temporary Files using Java Control Panel didn&#39;t help either. And another interesting point: according to Java Profiler, memory usage doesn&#39;t exceed 1 GB — and I&#39;ve read that the default maximum is 2 GB."},{"owner":{"account_id":23870553,"reputation":43,"user_id":17872307,"display_name":"Maria Kasakowa"},"score":0,"creation_date":1641743456,"post_id":70633537,"comment_id":124880323,"body_markdown":"Thank you again for your help! Wish you all the best things in the world ☀️\n\nP.S. Deleted first version of my comments because spotted some grammar mistakes","body":"Thank you again for your help! Wish you all the best things in the world ☀️  P.S. Deleted first version of my comments because spotted some grammar mistakes"}],"owner":{"account_id":23870553,"reputation":43,"user_id":17872307,"display_name":"Maria Kasakowa"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":265,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1641656840,"creation_date":1641654025,"question_id":70633537,"body_markdown":"I want to extract tables from 1 page pdf (50 KB) using Tabula, but it returns this error:\r\n\r\n    2022-01-08 17:33:25.054:INFO:oejsh.ContextHandler:main: Started o.e.j.w.WebAppContext@47089e5f{/,file:/C:/Users/User/AppData/Local/Temp/jetty-0.0.0.0-8080-tabula.jar-_-any-6136871881336378357.dir/webapp/,AVAILABLE}{file:/H:/Course/tabula-win-1.2.1/tabula/tabula.jar}\r\n    2022-01-08 17:33:25.056:WARN:oejsh.RequestLogHandler:main: !RequestLog\r\n    2022-01-08 17:33:25.068:INFO:oejs.ServerConnector:main: Started ServerConnector@2bb0e277{HTTP/1.1}{0.0.0.0:8080}\r\n    2022-01-08 17:33:25.069:INFO:oejs.Server:main: Started @8398ms\r\n    2022-01-08 17:33:35.840:WARN:oejs.ServletHandler:qtp1706234378-18: Error for /documents\r\n    java.lang.OutOfMemoryError: Java heap space\r\n            at org.jruby.util.ByteList.ensure(ByteList.java:341)\r\n            at org.jruby.util.io.EncodingUtils$1.resize(EncodingUtils.java:1197)\r\n            at org.jruby.util.io.EncodingUtils.moreOutputBuffer(EncodingUtils.java:1513)\r\n            at org.jruby.util.io.EncodingUtils.transcodeLoop(EncodingUtils.java:1415)\r\n            at org.jruby.util.io.EncodingUtils.transcodeLoop(EncodingUtils.java:1312)\r\n            at org.jruby.util.io.EncodingUtils.strTranscode0(EncodingUtils.java:936)\r\n            at org.jruby.util.io.EncodingUtils.strTranscode(EncodingUtils.java:857)\r\n            at org.jruby.util.io.EncodingUtils.strEncode(EncodingUtils.java:829)\r\n            at org.jruby.RubyString.encode(RubyString.java:5398)\r\n            at json.ext.Parser.convertEncoding(Parser.java:196)\r\n            at json.ext.Parser.initialize(Parser.java:175)\r\n            at json.ext.Parser$INVOKER$i$0$1$initialize.call(Parser$INVOKER$i$0$1$initialize.gen)\r\n            at org.jruby.internal.runtime.methods.JavaMethod$JavaMethodN.call(JavaMethod.java:725)\r\n            at org.jruby.internal.runtime.methods.DynamicMethod.call(DynamicMethod.java:208)\r\n            at org.jruby.internal.runtime.methods.JavaMethod$JavaMethodN.call(JavaMethod.java:741)\r\n            at org.jruby.runtime.callsite.CachingCallSite.cacheAndCall(CachingCallSite.java:278)\r\n            at org.jruby.runtime.callsite.CachingCallSite.call(CachingCallSite.java:79)\r\n            at org.jruby.RubyObject.callInit(RubyObject.java:348)\r\n            at json.ext.Parser.newInstance(Parser.java:151)\r\n            at json.ext.Parser$INVOKER$s$0$1$newInstance.call(Parser$INVOKER$s$0$1$newInstance.gen)\r\n            at org.jruby.internal.runtime.methods.DynamicMethod.call(DynamicMethod.java:212)\r\n            at org.jruby.internal.runtime.methods.DynamicMethod.call(DynamicMethod.java:208)\r\n            at org.jruby.runtime.callsite.CachingCallSite.cacheAndCall(CachingCallSite.java:338)\r\n            at org.jruby.runtime.callsite.CachingCallSite.call(CachingCallSite.java:183)\r\n            at org.jruby.ir.interpreter.InterpreterEngine.processCall(InterpreterEngine.java:324)\r\n            at org.jruby.ir.interpreter.StartupInterpreterEngine.interpret(StartupInterpreterEngine.java:74)\r\n            at org.jruby.ir.interpreter.InterpreterEngine.interpret(InterpreterEngine.java:84)\r\n            at org.jruby.internal.runtime.methods.MixedModeIRMethod.INTERPRET_METHOD(MixedModeIRMethod.java:179)\r\n            at org.jruby.internal.runtime.methods.MixedModeIRMethod.call(MixedModeIRMethod.java:165)\r\n            at org.jruby.internal.runtime.methods.DynamicMethod.call(DynamicMethod.java:200)\r\n            at org.jruby.runtime.callsite.CachingCallSite.cacheAndCall(CachingCallSite.java:318)\r\n            at org.jruby.runtime.callsite.CachingCallSite.call(CachingCallSite.java:155)\r\n\r\nI&#39;ve already tried multiple times to reinstall both Java and Tabula, restarted the whole computer, cleared the &quot;Local/Temp&quot; folder, cleared ports and changed 8080 to 9999, but nothing happens.\r\n\r\nThe pfd is 100% valid — I have opened it this morning without any trouble but then suddenly it just stopped working. Since then it returns &quot;Sorry, your file upload could not be processed. Please double-check that the file you uploaded is a valid PDF file and try again&quot; — and I cannot see any of my previous files, it just shows &quot;First time using Tabula? Welcome!&quot;\r\n\r\nOS: Windows 10\r\n\r\nI will be very grateful for any help &#128591;\r\n","title":"Tabula Java Heap Error — only 1 page to convert","body":"<p>I want to extract tables from 1 page pdf (50 KB) using Tabula, but it returns this error:</p>\n<pre><code>2022-01-08 17:33:25.054:INFO:oejsh.ContextHandler:main: Started o.e.j.w.WebAppContext@47089e5f{/,file:/C:/Users/User/AppData/Local/Temp/jetty-0.0.0.0-8080-tabula.jar-_-any-6136871881336378357.dir/webapp/,AVAILABLE}{file:/H:/Course/tabula-win-1.2.1/tabula/tabula.jar}\n2022-01-08 17:33:25.056:WARN:oejsh.RequestLogHandler:main: !RequestLog\n2022-01-08 17:33:25.068:INFO:oejs.ServerConnector:main: Started ServerConnector@2bb0e277{HTTP/1.1}{0.0.0.0:8080}\n2022-01-08 17:33:25.069:INFO:oejs.Server:main: Started @8398ms\n2022-01-08 17:33:35.840:WARN:oejs.ServletHandler:qtp1706234378-18: Error for /documents\njava.lang.OutOfMemoryError: Java heap space\n        at org.jruby.util.ByteList.ensure(ByteList.java:341)\n        at org.jruby.util.io.EncodingUtils$1.resize(EncodingUtils.java:1197)\n        at org.jruby.util.io.EncodingUtils.moreOutputBuffer(EncodingUtils.java:1513)\n        at org.jruby.util.io.EncodingUtils.transcodeLoop(EncodingUtils.java:1415)\n        at org.jruby.util.io.EncodingUtils.transcodeLoop(EncodingUtils.java:1312)\n        at org.jruby.util.io.EncodingUtils.strTranscode0(EncodingUtils.java:936)\n        at org.jruby.util.io.EncodingUtils.strTranscode(EncodingUtils.java:857)\n        at org.jruby.util.io.EncodingUtils.strEncode(EncodingUtils.java:829)\n        at org.jruby.RubyString.encode(RubyString.java:5398)\n        at json.ext.Parser.convertEncoding(Parser.java:196)\n        at json.ext.Parser.initialize(Parser.java:175)\n        at json.ext.Parser$INVOKER$i$0$1$initialize.call(Parser$INVOKER$i$0$1$initialize.gen)\n        at org.jruby.internal.runtime.methods.JavaMethod$JavaMethodN.call(JavaMethod.java:725)\n        at org.jruby.internal.runtime.methods.DynamicMethod.call(DynamicMethod.java:208)\n        at org.jruby.internal.runtime.methods.JavaMethod$JavaMethodN.call(JavaMethod.java:741)\n        at org.jruby.runtime.callsite.CachingCallSite.cacheAndCall(CachingCallSite.java:278)\n        at org.jruby.runtime.callsite.CachingCallSite.call(CachingCallSite.java:79)\n        at org.jruby.RubyObject.callInit(RubyObject.java:348)\n        at json.ext.Parser.newInstance(Parser.java:151)\n        at json.ext.Parser$INVOKER$s$0$1$newInstance.call(Parser$INVOKER$s$0$1$newInstance.gen)\n        at org.jruby.internal.runtime.methods.DynamicMethod.call(DynamicMethod.java:212)\n        at org.jruby.internal.runtime.methods.DynamicMethod.call(DynamicMethod.java:208)\n        at org.jruby.runtime.callsite.CachingCallSite.cacheAndCall(CachingCallSite.java:338)\n        at org.jruby.runtime.callsite.CachingCallSite.call(CachingCallSite.java:183)\n        at org.jruby.ir.interpreter.InterpreterEngine.processCall(InterpreterEngine.java:324)\n        at org.jruby.ir.interpreter.StartupInterpreterEngine.interpret(StartupInterpreterEngine.java:74)\n        at org.jruby.ir.interpreter.InterpreterEngine.interpret(InterpreterEngine.java:84)\n        at org.jruby.internal.runtime.methods.MixedModeIRMethod.INTERPRET_METHOD(MixedModeIRMethod.java:179)\n        at org.jruby.internal.runtime.methods.MixedModeIRMethod.call(MixedModeIRMethod.java:165)\n        at org.jruby.internal.runtime.methods.DynamicMethod.call(DynamicMethod.java:200)\n        at org.jruby.runtime.callsite.CachingCallSite.cacheAndCall(CachingCallSite.java:318)\n        at org.jruby.runtime.callsite.CachingCallSite.call(CachingCallSite.java:155)\n</code></pre>\n<p>I've already tried multiple times to reinstall both Java and Tabula, restarted the whole computer, cleared the &quot;Local/Temp&quot; folder, cleared ports and changed 8080 to 9999, but nothing happens.</p>\n<p>The pfd is 100% valid — I have opened it this morning without any trouble but then suddenly it just stopped working. Since then it returns &quot;Sorry, your file upload could not be processed. Please double-check that the file you uploaded is a valid PDF file and try again&quot; — and I cannot see any of my previous files, it just shows &quot;First time using Tabula? Welcome!&quot;</p>\n<p>OS: Windows 10</p>\n<p>I will be very grateful for any help 🙏</p>\n"},{"tags":["java","tomcat","war","camunda"],"answers":[{"tags":[],"owner":{"account_id":22394774,"reputation":5,"user_id":16606210,"display_name":"Jan Vanke"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641656632,"creation_date":1641656632,"answer_id":70633893,"question_id":70604726,"body_markdown":"Since you did not provide us with enough information about your [Camunda Stack][1] this answer might be too generic. \r\n\r\nAccording to the [official Camunda documentation](https://camunda.com/blog/2020/04/how-to-choose-the-right-camunda-architecture/) you basically have two deployment options:\r\n\r\n- Deploy to Camunda (discussed later in this answer)\r\n\t- Deploy via process application (application containing your process(es) which can be deployed as .jar/.war to your application service that contains the process engine.\r\n\t- Use REST API\r\n- Deploy with Camunda - (all artifacts are in a single location, typically a spring boot application, and the processes are found and deployed on the application startup because this is a straightforward approach, I won&#39;t further discuss this option) \r\n\r\n## Process application\r\nYou can of course have a `.war` deployment file containing only forms and `.bpmn` (or `.dmn`) files. You can check the [following simple example](https://asyncstream.com/tutorials/deploy-bpmn-process-in-camunda-tomcat/) of `.war` deployment to shared container-managed process engine via a separate process application.\r\n\r\n## REST API\r\nIf you have access to your [Camunda REST API][2] you could also consider deploying through `/engine-rest/deployment/create` endpoint (documentation and specification of the endpoint can be found [here][3]).\r\n\r\nIf you plan to automate the process of process deployment, I also provide a script we use in our Gitlab CI/CD pipeline to deploy the process. We keep the processes (`.bpmn`, `.dmn`, `.js` and forms) in separate repository, with the following structure:\r\n\r\n - Process repository\r\n\t  - `definitions/` - `.bpmn` and `.dmn` files\r\n\t  - `scripts/` - javascript files needed for script tasks or listeners\r\n\t  - `forms/` - JSON forms we use for our custom build user task forms\r\n\r\nOur case will probably be different than yours, but the script can be adjusted to your particular needs or serve as an inspiration:\r\n\r\n```bash\r\n#!/bin/bash\r\n\r\nSCRIPT=`realpath $0`\r\nSCRIPTPATH=`dirname $SCRIPT`\r\n\r\nif [ -z &quot;$CAMUNDA_DEPLOYMENT_ENDPOINT&quot; ]; then # LOCAL DEPLOYMENT ENDPOINT WON&#39;T BE SET\r\n  CAMUNDA_DEPLOYMENT_ENDPOINT=&quot;http://localhost:8080/engine-rest/deployment/create&quot;\r\nfi\r\n\r\nif [ -z &quot;$CAMUNDA_DEPLOYMENT_NAME&quot; ]; then # OPTIONAL: YOU CAN NAME THE DEPLOYMENT VIA ENV VARIABLE\r\n  CAMUNDA_DEPLOYMENT_NAME=&quot;rest-deployment&quot;\r\nfi\r\n\r\n# FAIL THE SCRIPT WHEN CREDENTAILS ARE NOT SET\r\nif [ -z &quot;$CREDENTIALS_USERNAME&quot; ]; then\r\n  echo &quot;Error: Username not set, please set the CREDENTIALS_USERNAME env variable.&quot;\r\n  exit 1;\r\nfi\r\nif [ -z &quot;$CREDENTIALS_PASSWORD&quot; ]; then\r\n  echo &quot;Error: Password not set, please set the CREDENTIALS_PASSWORD env variable.&quot;\r\n  exit 1;\r\nfi\r\n\r\nENCODED_CREDENTIALS=$(echo -n &quot;$CREDENTIALS_USERNAME:$CREDENTIALS_PASSWORD&quot; | base64)\r\n\r\necho &quot;Deploying to $CAMUNDA_DEPLOYMENT_ENDPOINT&quot;\r\n\r\nCURL_OPTS=&quot;curl --write-out &#39;%{http_code}&#39; --show-error --fail --silent --request POST --url $CAMUNDA_DEPLOYMENT_ENDPOINT --header &#39;Authorization: Basic $ENCODED_CREDENTIALS&#39; --header &#39;Content-Type: multipart/form-data&#39; --header &#39;content-type: multipart/form-data;&#39; --form deployment-name=$CAMUNDA_DEPLOYMENT_NAME &quot;\r\n\r\nif [ -z &quot;$(ls -A scripts/)&quot; ]; then\r\n   echo &quot;Empty scripts folder&quot;\r\nelse\r\n   while read -r file; do\r\n    echo &quot;Adding following javascript source: $file&quot;\r\n    name=${file##*/}\r\n    CURL_OPTS+=&quot;--form $name=@$SCRIPTPATH/$file &quot;\r\n    done&lt;&lt;&lt; &quot;$(find scripts/ -type f -print)&quot;\r\nfi\r\n\r\nif [ -z &quot;$(ls -A definitions/)&quot; ]; then\r\n   echo &quot;Empty definitions folder&quot;\r\nelse\r\nwhile read -r file; do\r\n    echo &quot;Adding following process definition source: $file&quot;\r\n    name=${file##*/}\r\n    CURL_OPTS+=&quot;--form $name=@$SCRIPTPATH/$file &quot;\r\ndone&lt;&lt;&lt; &quot;$(find definitions/ -type f -print)&quot;\r\nfi\r\n\r\nif [ -z &quot;$(ls -A forms/)&quot; ]; then\r\n   echo &quot;Empty forms folder&quot;\r\nelse\r\nwhile read -r file; do\r\n    echo &quot;Adding following form file: $file&quot;\r\n    name=${file##*/}\r\n    CURL_OPTS+=&quot;--form $name=@$SCRIPTPATH/$file &quot;\r\ndone&lt;&lt;&lt; &quot;$(find forms/ -type f -print)&quot;\r\nfi\r\n\r\necho &quot;Executing deployment request:&quot;\r\necho &quot;------------------------------&quot;\r\n\r\necho &quot;RESPONSE:&quot;\r\necho &quot;------------------------------&quot;\r\necho &quot;$CURL_OPTS&quot;\r\nresponse=$(eval &quot;$CURL_OPTS&quot;)\r\necho &quot;------------------------------&quot;\r\necho &quot;$response&quot;;\r\n```\r\n\r\nI hope you can find any of this useful. You can find many sources on each of the approaches.\r\n\r\n  [1]: https://camunda.com/best-practices/deciding-about-your-stack/\r\n  [2]: https://docs.camunda.org/manual/latest/reference/rest/overview/\r\n  [3]: https://docs.camunda.org/manual/latest/reference/rest/deployment/post-deployment/","title":"Camunda war file deployment with bpmn only","body":"<p>Since you did not provide us with enough information about your <a href=\"https://camunda.com/best-practices/deciding-about-your-stack/\" rel=\"nofollow noreferrer\">Camunda Stack</a> this answer might be too generic.</p>\n<p>According to the <a href=\"https://camunda.com/blog/2020/04/how-to-choose-the-right-camunda-architecture/\" rel=\"nofollow noreferrer\">official Camunda documentation</a> you basically have two deployment options:</p>\n<ul>\n<li>Deploy to Camunda (discussed later in this answer)\n<ul>\n<li>Deploy via process application (application containing your process(es) which can be deployed as .jar/.war to your application service that contains the process engine.</li>\n<li>Use REST API</li>\n</ul>\n</li>\n<li>Deploy with Camunda - (all artifacts are in a single location, typically a spring boot application, and the processes are found and deployed on the application startup because this is a straightforward approach, I won't further discuss this option)</li>\n</ul>\n<h2>Process application</h2>\n<p>You can of course have a <code>.war</code> deployment file containing only forms and <code>.bpmn</code> (or <code>.dmn</code>) files. You can check the <a href=\"https://asyncstream.com/tutorials/deploy-bpmn-process-in-camunda-tomcat/\" rel=\"nofollow noreferrer\">following simple example</a> of <code>.war</code> deployment to shared container-managed process engine via a separate process application.</p>\n<h2>REST API</h2>\n<p>If you have access to your <a href=\"https://docs.camunda.org/manual/latest/reference/rest/overview/\" rel=\"nofollow noreferrer\">Camunda REST API</a> you could also consider deploying through <code>/engine-rest/deployment/create</code> endpoint (documentation and specification of the endpoint can be found <a href=\"https://docs.camunda.org/manual/latest/reference/rest/deployment/post-deployment/\" rel=\"nofollow noreferrer\">here</a>).</p>\n<p>If you plan to automate the process of process deployment, I also provide a script we use in our Gitlab CI/CD pipeline to deploy the process. We keep the processes (<code>.bpmn</code>, <code>.dmn</code>, <code>.js</code> and forms) in separate repository, with the following structure:</p>\n<ul>\n<li>Process repository\n<ul>\n<li><code>definitions/</code> - <code>.bpmn</code> and <code>.dmn</code> files</li>\n<li><code>scripts/</code> - javascript files needed for script tasks or listeners</li>\n<li><code>forms/</code> - JSON forms we use for our custom build user task forms</li>\n</ul>\n</li>\n</ul>\n<p>Our case will probably be different than yours, but the script can be adjusted to your particular needs or serve as an inspiration:</p>\n<pre class=\"lang-sh prettyprint-override\"><code>#!/bin/bash\n\nSCRIPT=`realpath $0`\nSCRIPTPATH=`dirname $SCRIPT`\n\nif [ -z &quot;$CAMUNDA_DEPLOYMENT_ENDPOINT&quot; ]; then # LOCAL DEPLOYMENT ENDPOINT WON'T BE SET\n  CAMUNDA_DEPLOYMENT_ENDPOINT=&quot;http://localhost:8080/engine-rest/deployment/create&quot;\nfi\n\nif [ -z &quot;$CAMUNDA_DEPLOYMENT_NAME&quot; ]; then # OPTIONAL: YOU CAN NAME THE DEPLOYMENT VIA ENV VARIABLE\n  CAMUNDA_DEPLOYMENT_NAME=&quot;rest-deployment&quot;\nfi\n\n# FAIL THE SCRIPT WHEN CREDENTAILS ARE NOT SET\nif [ -z &quot;$CREDENTIALS_USERNAME&quot; ]; then\n  echo &quot;Error: Username not set, please set the CREDENTIALS_USERNAME env variable.&quot;\n  exit 1;\nfi\nif [ -z &quot;$CREDENTIALS_PASSWORD&quot; ]; then\n  echo &quot;Error: Password not set, please set the CREDENTIALS_PASSWORD env variable.&quot;\n  exit 1;\nfi\n\nENCODED_CREDENTIALS=$(echo -n &quot;$CREDENTIALS_USERNAME:$CREDENTIALS_PASSWORD&quot; | base64)\n\necho &quot;Deploying to $CAMUNDA_DEPLOYMENT_ENDPOINT&quot;\n\nCURL_OPTS=&quot;curl --write-out '%{http_code}' --show-error --fail --silent --request POST --url $CAMUNDA_DEPLOYMENT_ENDPOINT --header 'Authorization: Basic $ENCODED_CREDENTIALS' --header 'Content-Type: multipart/form-data' --header 'content-type: multipart/form-data;' --form deployment-name=$CAMUNDA_DEPLOYMENT_NAME &quot;\n\nif [ -z &quot;$(ls -A scripts/)&quot; ]; then\n   echo &quot;Empty scripts folder&quot;\nelse\n   while read -r file; do\n    echo &quot;Adding following javascript source: $file&quot;\n    name=${file##*/}\n    CURL_OPTS+=&quot;--form $name=@$SCRIPTPATH/$file &quot;\n    done&lt;&lt;&lt; &quot;$(find scripts/ -type f -print)&quot;\nfi\n\nif [ -z &quot;$(ls -A definitions/)&quot; ]; then\n   echo &quot;Empty definitions folder&quot;\nelse\nwhile read -r file; do\n    echo &quot;Adding following process definition source: $file&quot;\n    name=${file##*/}\n    CURL_OPTS+=&quot;--form $name=@$SCRIPTPATH/$file &quot;\ndone&lt;&lt;&lt; &quot;$(find definitions/ -type f -print)&quot;\nfi\n\nif [ -z &quot;$(ls -A forms/)&quot; ]; then\n   echo &quot;Empty forms folder&quot;\nelse\nwhile read -r file; do\n    echo &quot;Adding following form file: $file&quot;\n    name=${file##*/}\n    CURL_OPTS+=&quot;--form $name=@$SCRIPTPATH/$file &quot;\ndone&lt;&lt;&lt; &quot;$(find forms/ -type f -print)&quot;\nfi\n\necho &quot;Executing deployment request:&quot;\necho &quot;------------------------------&quot;\n\necho &quot;RESPONSE:&quot;\necho &quot;------------------------------&quot;\necho &quot;$CURL_OPTS&quot;\nresponse=$(eval &quot;$CURL_OPTS&quot;)\necho &quot;------------------------------&quot;\necho &quot;$response&quot;;\n</code></pre>\n<p>I hope you can find any of this useful. You can find many sources on each of the approaches.</p>\n"}],"owner":{"account_id":9949698,"reputation":867,"user_id":7362886,"accept_rate":92,"display_name":"Dev2017"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":815,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641656632,"creation_date":1641459809,"question_id":70604726,"body_markdown":"New to camunda here. I am thinking of maintaining the war files (i.e. the bpmn files, forms and the code for them) in the same repo as my backend application and have their deployment automated with merges to master, so as a new version of the workflows is merged to master, it also gets zipped in a war file and deployed. I wonder if war files can contain a bpmn and its forms only with no java code in case that particular workflow doesn&#39;t really need java code to be completed?","title":"Camunda war file deployment with bpmn only","body":"<p>New to camunda here. I am thinking of maintaining the war files (i.e. the bpmn files, forms and the code for them) in the same repo as my backend application and have their deployment automated with merges to master, so as a new version of the workflows is merged to master, it also gets zipped in a war file and deployed. I wonder if war files can contain a bpmn and its forms only with no java code in case that particular workflow doesn't really need java code to be completed?</p>\n"},{"tags":["java","gradle","javadoc"],"comments":[{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1443195096,"post_id":32785002,"comment_id":53410105,"body_markdown":"How can someone diagnose what&#39;s happening when you provide no details on what errors you&#39;re getting?  It may not matter, but I doubt the &quot;Utils**.java&quot; pattern is doing anything useful.  That likely should be just &quot;Utils*.java&quot;.","body":"How can someone diagnose what&#39;s happening when you provide no details on what errors you&#39;re getting?  It may not matter, but I doubt the &quot;Utils**.java&quot; pattern is doing anything useful.  That likely should be just &quot;Utils*.java&quot;."},{"owner":{"account_id":6107422,"reputation":287,"user_id":4764788,"display_name":"Ryan Bis"},"score":0,"creation_date":1443196762,"post_id":32785002,"comment_id":53411153,"body_markdown":"I  updated the OP with the error I was referring to. I suppose I wasn&#39;t clear enough before. What I have for Utils works just fine (there are multiple classes which start with Utils). They are properly excluded.","body":"I  updated the OP with the error I was referring to. I suppose I wasn&#39;t clear enough before. What I have for Utils works just fine (there are multiple classes which start with Utils). They are properly excluded."},{"owner":{"account_id":6284,"reputation":14589,"user_id":10508,"accept_rate":53,"display_name":"David M. Karr"},"score":0,"creation_date":1443198122,"post_id":32785002,"comment_id":53411904,"body_markdown":"I&#39;m out of ideas.  Post a detailed note on the Gradle forum.","body":"I&#39;m out of ideas.  Post a detailed note on the Gradle forum."},{"owner":{"account_id":51571,"reputation":34238,"user_id":154133,"accept_rate":57,"display_name":"friederbluemle"},"score":0,"creation_date":1446471005,"post_id":32785002,"comment_id":54742245,"body_markdown":"@RyanBis Did you find a solution?","body":"@RyanBis Did you find a solution?"},{"owner":{"account_id":6107422,"reputation":287,"user_id":4764788,"display_name":"Ryan Bis"},"score":0,"creation_date":1446560237,"post_id":32785002,"comment_id":54786157,"body_markdown":"No, other than to just generate the javadocs on the command line, rather than through gradle. I&#39;ve even posted on the Gradle forums, and only got crickets.","body":"No, other than to just generate the javadocs on the command line, rather than through gradle. I&#39;ve even posted on the Gradle forums, and only got crickets."}],"answers":[{"tags":[],"owner":{"account_id":5573451,"reputation":641,"user_id":4417811,"display_name":"Stefan Bormann"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1472638825,"creation_date":1472638825,"answer_id":39246938,"question_id":32785002,"body_markdown":"Javadoc needs to know about the imported class. Tell javadoc where to find the class files rather than the java source code with the classpath!\r\n\r\nI had the same problem with XJC generated code that generates numerous javadoc errors in an ant environment.\r\nIn order to exclude them from docs but still satisfy javadoc I simply told the javadoc task to look into the bin folder:\r\n\r\n\t&lt;target name=&quot;javadoc&quot; description=&quot;create Javadoc documentation&quot;&gt;\r\n\t\t&lt;javadoc ...lots of irrelevant attributes skipped...&gt;\r\n\t\t\t&lt;fileset dir=&quot;src&quot;&gt;\r\n            \t&lt;include name=&quot;**/*.java&quot;/&gt;\r\n            \t&lt;exclude name=&quot;my/jaxb/generated/source/*.java&quot;/&gt;\r\n        \t&lt;/fileset&gt;\r\n\t\t\t&lt;classpath&gt;\r\n\t\t\t\t&lt;path refid=&quot;myclasspath_to_referenced_libraries&quot;/&gt;\r\n\t\t\t\t&lt;pathelement location=&quot;bin&quot;/&gt;\r\n\t\t\t&lt;/classpath&gt;\r\n\t\t&lt;/javadoc&gt;\r\n\t&lt;/target&gt;","title":"Javadoc Exclude causing errors on import","body":"<p>Javadoc needs to know about the imported class. Tell javadoc where to find the class files rather than the java source code with the classpath!</p>\n\n<p>I had the same problem with XJC generated code that generates numerous javadoc errors in an ant environment.\nIn order to exclude them from docs but still satisfy javadoc I simply told the javadoc task to look into the bin folder:</p>\n\n<pre><code>&lt;target name=\"javadoc\" description=\"create Javadoc documentation\"&gt;\n    &lt;javadoc ...lots of irrelevant attributes skipped...&gt;\n        &lt;fileset dir=\"src\"&gt;\n            &lt;include name=\"**/*.java\"/&gt;\n            &lt;exclude name=\"my/jaxb/generated/source/*.java\"/&gt;\n        &lt;/fileset&gt;\n        &lt;classpath&gt;\n            &lt;path refid=\"myclasspath_to_referenced_libraries\"/&gt;\n            &lt;pathelement location=\"bin\"/&gt;\n        &lt;/classpath&gt;\n    &lt;/javadoc&gt;\n&lt;/target&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":405484,"reputation":34324,"user_id":774398,"accept_rate":83,"display_name":"Patrick"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1512512138,"creation_date":1512394475,"answer_id":47634576,"question_id":32785002,"body_markdown":"So the problem is you have to tell the Javadoc task where the external imports are located, so it can creates (Hyper)-links to it in the Javadoc HTML. If you don&#39;t care about links to external classes you could ignore theses issues with:\r\n\r\n    task gendocs(type: Javadoc) {\r\n        failOnError false\r\n        ...\r\n    }\r\n\r\nAccording to the [Gradle Doc][1]:\r\n\r\n&gt; Specifies whether this task should fail when errors are encountered during Javadoc generation. When true, this task will fail on Javadoc error. When false, this task will ignore Javadoc errors\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/dsl/org.gradle.api.tasks.javadoc.Javadoc.html#org.gradle.api.tasks.javadoc.Javadoc:failOnError","title":"Javadoc Exclude causing errors on import","body":"<p>So the problem is you have to tell the Javadoc task where the external imports are located, so it can creates (Hyper)-links to it in the Javadoc HTML. If you don't care about links to external classes you could ignore theses issues with:</p>\n\n<pre><code>task gendocs(type: Javadoc) {\n    failOnError false\n    ...\n}\n</code></pre>\n\n<p>According to the <a href=\"https://docs.gradle.org/current/dsl/org.gradle.api.tasks.javadoc.Javadoc.html#org.gradle.api.tasks.javadoc.Javadoc:failOnError\" rel=\"nofollow noreferrer\">Gradle Doc</a>:</p>\n\n<blockquote>\n  <p>Specifies whether this task should fail when errors are encountered during Javadoc generation. When true, this task will fail on Javadoc error. When false, this task will ignore Javadoc errors</p>\n</blockquote>\n"}],"owner":{"account_id":6107422,"reputation":287,"user_id":4764788,"display_name":"Ryan Bis"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4393,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":2,"score":15,"last_activity_date":1641656029,"creation_date":1443192966,"question_id":32785002,"body_markdown":"I&#39;m looking to tweak the javadocs for the library my company produces. We&#39;re looking to exclude javadocs from classes that aren&#39;t really meant for public consumption (mostly classes used internally). \r\n\r\nThe project uses gradle as the build system, and I&#39;ve marked the packages/classes that we want to exclude in the build.gradle file. However, this is causing errors to happen. I expect to get a warning, or error if there&#39;s @link to a class which is excluded, but it&#39;s also throwing errors when those excluded classes are simply imported. Is there a way to &quot;include&quot; the classes/packages, but NOT export the javadoc for them?\r\n\r\nEdit: Here&#39;s the relevant javadoc task:\r\n\r\n    task gendocs(type: Javadoc) {\r\n        options.stylesheetFile = new File(&quot;./assets/doc_style.css&quot;)\r\n        String v = &quot;${SEMVER}&quot;\r\n        version = v.replace(&quot;_&quot;, &#39;.&#39;)\r\n        title = &quot;SweetBlue ${version} API&quot;\r\n        options.windowTitle = &quot;SweetBlue&quot;\r\n        options.memberLevel = JavadocMemberLevel.PROTECTED\r\n        options.author = true\r\n        options.linksOffline(&#39;http://d.android.com/reference&#39;, System.getenv(&quot;ANDROID_HOME&quot;) + &#39;/docs/reference&#39;)    \r\n        destinationDir = new File(&quot;${BUNDLE_FOLDER}/docs/api&quot;)\r\n        source = sourceSets.main.allJava\r\n        classpath += configurations.compile\r\n        exclude &quot;com/idevicesinc/sweetblue/backend&quot;\r\n        exclude &quot;com/idevicesinc/sweetblue/utils/Utils**.java&quot;\r\n        exclude &quot;com/idevicesinc/sweetblue/utils/UpdateLoop.java&quot;\r\n        exclude &quot;com/idevicesinc/sweetblue/utils/Pointer.java&quot;\r\n        exclude &quot;com/idevicesinc/sweetblue/utils/HistoricalDataQuery.java&quot;\r\n    }\r\n\r\nEdit 2: Here&#39;s the error I&#39;m talking about:\r\n\r\n    SweetBlue/src/com/idevicesinc/sweetblue/BleCharacteristic.java:5: error: cannot find symbol\r\n    import com.idevicesinc.sweetblue.utils.Utils;                                      \r\n    symbol:   class Utils\r\n    location: package com.idevicesinc.sweetblue.utils\r\n\r\nEdit 3:\r\n\r\n It appears that exclude in a gradle javadoc task is NOT the same thing as using -exclude on the command line with javadoc. I ran a test using CLI javadoc generation, and I did NOT get the not found errors that I do when using Gradle.\r\n\r\n---\r\n\r\nI have also [posted this on the Gradle forum](https://discuss.gradle.org/t/javadoc-exclusion-question/11875) but did not receive an answer there.","title":"Javadoc Exclude causing errors on import","body":"<p>I'm looking to tweak the javadocs for the library my company produces. We're looking to exclude javadocs from classes that aren't really meant for public consumption (mostly classes used internally).</p>\n<p>The project uses gradle as the build system, and I've marked the packages/classes that we want to exclude in the build.gradle file. However, this is causing errors to happen. I expect to get a warning, or error if there's @link to a class which is excluded, but it's also throwing errors when those excluded classes are simply imported. Is there a way to &quot;include&quot; the classes/packages, but NOT export the javadoc for them?</p>\n<p>Edit: Here's the relevant javadoc task:</p>\n<pre><code>task gendocs(type: Javadoc) {\n    options.stylesheetFile = new File(&quot;./assets/doc_style.css&quot;)\n    String v = &quot;${SEMVER}&quot;\n    version = v.replace(&quot;_&quot;, '.')\n    title = &quot;SweetBlue ${version} API&quot;\n    options.windowTitle = &quot;SweetBlue&quot;\n    options.memberLevel = JavadocMemberLevel.PROTECTED\n    options.author = true\n    options.linksOffline('http://d.android.com/reference', System.getenv(&quot;ANDROID_HOME&quot;) + '/docs/reference')    \n    destinationDir = new File(&quot;${BUNDLE_FOLDER}/docs/api&quot;)\n    source = sourceSets.main.allJava\n    classpath += configurations.compile\n    exclude &quot;com/idevicesinc/sweetblue/backend&quot;\n    exclude &quot;com/idevicesinc/sweetblue/utils/Utils**.java&quot;\n    exclude &quot;com/idevicesinc/sweetblue/utils/UpdateLoop.java&quot;\n    exclude &quot;com/idevicesinc/sweetblue/utils/Pointer.java&quot;\n    exclude &quot;com/idevicesinc/sweetblue/utils/HistoricalDataQuery.java&quot;\n}\n</code></pre>\n<p>Edit 2: Here's the error I'm talking about:</p>\n<pre><code>SweetBlue/src/com/idevicesinc/sweetblue/BleCharacteristic.java:5: error: cannot find symbol\nimport com.idevicesinc.sweetblue.utils.Utils;                                      \nsymbol:   class Utils\nlocation: package com.idevicesinc.sweetblue.utils\n</code></pre>\n<p>Edit 3:</p>\n<p>It appears that exclude in a gradle javadoc task is NOT the same thing as using -exclude on the command line with javadoc. I ran a test using CLI javadoc generation, and I did NOT get the not found errors that I do when using Gradle.</p>\n<hr />\n<p>I have also <a href=\"https://discuss.gradle.org/t/javadoc-exclusion-question/11875\" rel=\"nofollow noreferrer\">posted this on the Gradle forum</a> but did not receive an answer there.</p>\n"},{"tags":["java","jakarta-ee","mapping","hibernate-mapping"],"comments":[{"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"score":2,"creation_date":1641656190,"post_id":70633774,"comment_id":124864022,"body_markdown":"the JavaEE way to do the things similar to spring &#39;s request mapping is to use JAX-RS implementation such as [Jersey](https://eclipse-ee4j.github.io/jersey/)","body":"the JavaEE way to do the things similar to spring &#39;s request mapping is to use JAX-RS implementation such as <a href=\"https://eclipse-ee4j.github.io/jersey/\" rel=\"nofollow noreferrer\">Jersey</a>"},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":0,"creation_date":1641661262,"post_id":70633774,"comment_id":124865307,"body_markdown":"Exactly as the previous comment. Search for `@Path` (roughly equivalent to `@RequestMapping`) and `@GET`, `@POST`, etc.","body":"Exactly as the previous comment. Search for <code>@Path</code> (roughly equivalent to <code>@RequestMapping</code>) and <code>@GET</code>, <code>@POST</code>, etc."},{"owner":{"account_id":23845608,"reputation":9,"user_id":17850131,"display_name":"Jasmine Mel"},"score":0,"creation_date":1641666653,"post_id":70633774,"comment_id":124866652,"body_markdown":"alright thank you all","body":"alright thank you all"}],"owner":{"account_id":23845608,"reputation":9,"user_id":17850131,"display_name":"Jasmine Mel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641655539,"creation_date":1641655539,"question_id":70633774,"body_markdown":"in springMvc we can use in controllers the mapping like so \r\n\r\nfor example for `url=projectName/student/all`\r\n\r\n    @Controller\r\n    @RequestMapping(&quot;/student&quot;)\r\n    public class StudentController {\r\n       //...\r\n       @GetMapping(&quot;/all&quot;)\r\n       public String listStudents() {\r\n       //...\r\n      @GetMapping(&quot;/add&quot;)\r\n       public String addStudent() {\r\n       //...\r\n\r\nI&#39;m need to do the same thing but now I&#39;m not using springMvc but Java EE with Hibernate, and I want to be able to call different functions based on the url, like `url=projectName/student/all` and `url=projectName/student/add`\r\n\r\nin `StudentServlet` \r\n\r\n    @WebServlet(&quot;/student&quot;)\r\n    public class StudentServlet extends HttpServlet {\r\n\tprivate static final long serialVersionUID = 1L;\r\n       \r\n  \r\n    public ProfesseurServlet() {\r\n        super();\r\n    }\r\n\t  protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n\t\r\n      // if(the the url is `projectName/student/add`)\r\n      //do ....\r\n\r\n      // if(the the url is `projectName/student/all`)\r\n      //do ....\r\n\r\nI&#39;ve tried : \r\n\r\n      String path= request.getRequestURI().substring( request.getContextPath().length() );\r\n        if ( chemin.startsWith( &quot;/..&quot; )//...\r\n\r\nbut I&#39;ve got this error \r\n\r\n\r\n    HTTP 404 Status - Not Found\r\n    The requested resource is not available.\r\n\r\nThank you in advance","title":"Request Mapping in Java EE","body":"<p>in springMvc we can use in controllers the mapping like so</p>\n<p>for example for <code>url=projectName/student/all</code></p>\n<pre><code>@Controller\n@RequestMapping(&quot;/student&quot;)\npublic class StudentController {\n   //...\n   @GetMapping(&quot;/all&quot;)\n   public String listStudents() {\n   //...\n  @GetMapping(&quot;/add&quot;)\n   public String addStudent() {\n   //...\n</code></pre>\n<p>I'm need to do the same thing but now I'm not using springMvc but Java EE with Hibernate, and I want to be able to call different functions based on the url, like <code>url=projectName/student/all</code> and <code>url=projectName/student/add</code></p>\n<p>in <code>StudentServlet</code></p>\n<pre><code>@WebServlet(&quot;/student&quot;)\npublic class StudentServlet extends HttpServlet {\nprivate static final long serialVersionUID = 1L;\n   \n\npublic ProfesseurServlet() {\n    super();\n}\n  protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n\n  // if(the the url is `projectName/student/add`)\n  //do ....\n\n  // if(the the url is `projectName/student/all`)\n  //do ....\n</code></pre>\n<p>I've tried :</p>\n<pre><code>  String path= request.getRequestURI().substring( request.getContextPath().length() );\n    if ( chemin.startsWith( &quot;/..&quot; )//...\n</code></pre>\n<p>but I've got this error</p>\n<pre><code>HTTP 404 Status - Not Found\nThe requested resource is not available.\n</code></pre>\n<p>Thank you in advance</p>\n"},{"tags":["java","security","memory"],"comments":[{"owner":{"account_id":45934,"reputation":203669,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":1,"creation_date":1308947309,"post_id":6473352,"comment_id":7606866,"body_markdown":"Your coworker is wrong, variables of primitive type are absolutely not immutable in Java.","body":"Your coworker is wrong, variables of primitive type are absolutely not immutable in Java."},{"owner":{"account_id":183607,"reputation":33842,"user_id":419075,"accept_rate":96,"display_name":"Amir Raminfar"},"score":5,"creation_date":1308947324,"post_id":6473352,"comment_id":7606869,"body_markdown":"To correct what you co-worker said, primitive wrappers are immutables. Integer i = 2; created a new Integer every time. but int i = 2; and then i = 3; just update the value on the stack","body":"To correct what you co-worker said, primitive wrappers are immutables. Integer i = 2; created a new Integer every time. but int i = 2; and then i = 3; just update the value on the stack"},{"owner":{"account_id":195556,"reputation":6174,"user_id":438512,"display_name":"Spike Gronim"},"score":0,"creation_date":1308947499,"post_id":6473352,"comment_id":7606916,"body_markdown":"AFAIK you cannot accomplish this goal in Java, even for primitives. The primitives will be on the stack, there&#39;s no guarantee that their region of the stack gets overwritten.","body":"AFAIK you cannot accomplish this goal in Java, even for primitives. The primitives will be on the stack, there&#39;s no guarantee that their region of the stack gets overwritten."},{"owner":{"account_id":19697,"reputation":16105,"user_id":46375,"accept_rate":100,"display_name":"whaley"},"score":3,"creation_date":1308947843,"post_id":6473352,"comment_id":7607003,"body_markdown":"@Amir - this borders on extreme pedantry, but the langauge spec dictates that autoboxing of ints and bytes of values -128 through 127 always return the same object http://java.sun.com/docs/books/jls/third_edition/html/conversions.html#5.1.7 .  So Integer i = 2 never creates a new Integer.","body":"@Amir - this borders on extreme pedantry, but the langauge spec dictates that autoboxing of ints and bytes of values -128 through 127 always return the same object <a href=\"http://java.sun.com/docs/books/jls/third_edition/html/conversions.html#5.1.7\" rel=\"nofollow noreferrer\">java.sun.com/docs/books/jls/third_edition/html/&hellip;</a> .  So Integer i = 2 never creates a new Integer."},{"owner":{"account_id":53868,"reputation":1956,"user_id":161081,"accept_rate":25,"display_name":"weiji"},"score":0,"creation_date":1308949586,"post_id":6473352,"comment_id":7607425,"body_markdown":"Thanks r.e. the &quot;primitives are not immutable&quot; comments - I agree completely.  Let&#39;s not focus on that part - my coworker is not well-versed in Java and we&#39;re mostly concerned about the memory part.","body":"Thanks r.e. the &quot;primitives are not immutable&quot; comments - I agree completely.  Let&#39;s not focus on that part - my coworker is not well-versed in Java and we&#39;re mostly concerned about the memory part."},{"owner":{"account_id":266709,"reputation":11846,"user_id":554431,"display_name":"bestsss"},"score":1,"creation_date":1308949742,"post_id":6473352,"comment_id":7607478,"body_markdown":"@weiji, the mentioned guide is written by some incompetent dude, clearing the byte/char[] doesn&#39;t mean anything, both as the compiler can decide is no-op and the GC can actually have copied the area.","body":"@weiji, the mentioned guide is written by some incompetent dude, clearing the byte/char[] doesn&#39;t mean anything, both as the compiler can decide is no-op and the GC can actually have copied the area."}],"answers":[{"tags":[],"owner":{"account_id":130717,"reputation":14948,"user_id":330184,"accept_rate":80,"display_name":"bwawok"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1308949338,"creation_date":1308949338,"answer_id":6473743,"question_id":6473352,"body_markdown":"Weird, never thought of anything like this.\r\n\r\n\r\nMy first idea would be to make a char[100] to store your password in. Put that in there, use it for whatever, and then do a loop to set every char to blank.\r\n\r\nThe problem is, the password would at some point turn into a String inside of the database driver, which could live in memory for 0 to infinity seconds.\r\n\r\nMy second idea would be to have all authentication done through some kind of JNI call to C, but that would be really hard if you are trying to use something like JDBC....","title":"Java security: how to clear/zero-out memory associated with an object? (And/or ensure that is the only instance/copy of a particular variable)","body":"<p>Weird, never thought of anything like this.</p>\n\n<p>My first idea would be to make a char[100] to store your password in. Put that in there, use it for whatever, and then do a loop to set every char to blank.</p>\n\n<p>The problem is, the password would at some point turn into a String inside of the database driver, which could live in memory for 0 to infinity seconds.</p>\n\n<p>My second idea would be to have all authentication done through some kind of JNI call to C, but that would be really hard if you are trying to use something like JDBC....</p>\n"},{"tags":[],"owner":{"account_id":48693,"reputation":29189,"user_id":144746,"accept_rate":93,"display_name":"Voo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1308952803,"creation_date":1308950507,"answer_id":6473892,"question_id":6473352,"body_markdown":"Edit: Actually I just had three ideas that may indeed work - for different values of &quot;work&quot; at least.\r\n\r\nThe first that is more or less documented would be ByteBuffer.allocateDirect! As I understand it allocateDirect allocates the buffer outside the usual java heap so won&#39;t be copied around. I can&#39;t find any hard guarantees about it not getting copied in all situations though - but for the current Hotspot VM that is actually the case (ie it&#39;s allocated in an extra heap) and I assume this will stay that way.\r\n\r\nThe second one is using the sun.misc.unsafe package - which as the name says has some rather obvious problems but at least that would be pretty much independent of the used VM - either it&#39;s supported (and it works) or it&#39;s not (and you get linking errors). The problem is, that the code to use that stuff will get horribly complicated pretty fast (alone getting an unsafe variable is non trivial).\r\n\r\nThe third one would be to allocate a much, much, MUCH larger size than is actually needed, so that the object gets allocated in the old generation heap to begin:\r\n\r\n&gt; l-XX:PretenureSizeThreshold=&lt;byte\r\n&gt; size&gt; that can be set to limit the\r\n&gt; size of allocations in the young\r\n&gt; generation. Any allocation larger than\r\n&gt; this will not be attempted in the\r\n&gt; young generation and so will be\r\n&gt; allocated out of the old generation.\r\n\r\nWell the drawback of THAT solution is obvious I think (default size seems to be about 64kb).\r\n\r\n.\r\n.\r\n\r\nAnyways here the old answer:\r\n\r\nYep as I see it you pretty much cannot guarantee that the data stored on the heap is 100% removed without leaving a copy (that&#39;s even true if you don&#39;t want a general solution but one that&#39;ll work with say the current Hotspot VM and its default garbage collectors).\r\n\r\nAs said in your linked post ([here](https://stackoverflow.com/questions/5238131/how-can-i-ensure-the-destruction-of-a-string-object-in-java/5241096#5241096)), the garbage collector pretty much makes this impossible to guarantee. Actually contrary to what the post says the problem here isn&#39;t the generational GC, but the fact that the Hotspot VM (and now we&#39;re implementation specific) is using some kind of Stop &amp; Copy gc for its young generation per default.\r\n\r\nThis means that as soon as a garbage collection happens between storing the password in the char array and zeroing it out you&#39;ll get a copy of the data that will be overwritten only as soon as the next GC happens. Note that tenuring an object will have exactly the same effect, but instead of copying it to to-space it&#39;s copied to the old generation heap - we end up with a copy of the data in from space that isn&#39;t overwritten.\r\n\r\nTo avoid this problem we&#39;d pretty much need some way to guarantee that either NO garbage collection is happening between storing the password and zeroing it OR that the char array is stored from the get go in the old generation heap. Also note that this relies on the internas of the Hotspot VM which may very well change (actually there are different garbage collectors where many more copies can be generated; iirc the Hotspot VM supports a concurrent GC using a train algorithm). &quot;luckily&quot; it&#39;s impossible to guarantee either one of those (afaik every method call/return introduces a safe point!), so you don&#39;t even get tempted to try (especially considering that I don&#39;t see any way to make sure the JIT doesn&#39;t optimize the zeroing out away) ;)\r\n\r\nSeems like the only way to guarantee that the data is stored only in one location is to use the JNI for it.\r\n\r\n\r\nPS: Note that while the above is only true for the Heap, you can&#39;t guarantee anything more for the stack (the JIT will likely optimize writes without reads to the stack away, so when you return from the function the data will still be on the stack)","title":"Java security: how to clear/zero-out memory associated with an object? (And/or ensure that is the only instance/copy of a particular variable)","body":"<p>Edit: Actually I just had three ideas that may indeed work - for different values of \"work\" at least.</p>\n\n<p>The first that is more or less documented would be ByteBuffer.allocateDirect! As I understand it allocateDirect allocates the buffer outside the usual java heap so won't be copied around. I can't find any hard guarantees about it not getting copied in all situations though - but for the current Hotspot VM that is actually the case (ie it's allocated in an extra heap) and I assume this will stay that way.</p>\n\n<p>The second one is using the sun.misc.unsafe package - which as the name says has some rather obvious problems but at least that would be pretty much independent of the used VM - either it's supported (and it works) or it's not (and you get linking errors). The problem is, that the code to use that stuff will get horribly complicated pretty fast (alone getting an unsafe variable is non trivial).</p>\n\n<p>The third one would be to allocate a much, much, MUCH larger size than is actually needed, so that the object gets allocated in the old generation heap to begin:</p>\n\n<blockquote>\n  <p>l-XX:PretenureSizeThreshold= that can be set to limit the\n  size of allocations in the young\n  generation. Any allocation larger than\n  this will not be attempted in the\n  young generation and so will be\n  allocated out of the old generation.</p>\n</blockquote>\n\n<p>Well the drawback of THAT solution is obvious I think (default size seems to be about 64kb).</p>\n\n<p>.\n.</p>\n\n<p>Anyways here the old answer:</p>\n\n<p>Yep as I see it you pretty much cannot guarantee that the data stored on the heap is 100% removed without leaving a copy (that's even true if you don't want a general solution but one that'll work with say the current Hotspot VM and its default garbage collectors).</p>\n\n<p>As said in your linked post (<a href=\"https://stackoverflow.com/questions/5238131/how-can-i-ensure-the-destruction-of-a-string-object-in-java/5241096#5241096\">here</a>), the garbage collector pretty much makes this impossible to guarantee. Actually contrary to what the post says the problem here isn't the generational GC, but the fact that the Hotspot VM (and now we're implementation specific) is using some kind of Stop &amp; Copy gc for its young generation per default.</p>\n\n<p>This means that as soon as a garbage collection happens between storing the password in the char array and zeroing it out you'll get a copy of the data that will be overwritten only as soon as the next GC happens. Note that tenuring an object will have exactly the same effect, but instead of copying it to to-space it's copied to the old generation heap - we end up with a copy of the data in from space that isn't overwritten.</p>\n\n<p>To avoid this problem we'd pretty much need some way to guarantee that either NO garbage collection is happening between storing the password and zeroing it OR that the char array is stored from the get go in the old generation heap. Also note that this relies on the internas of the Hotspot VM which may very well change (actually there are different garbage collectors where many more copies can be generated; iirc the Hotspot VM supports a concurrent GC using a train algorithm). \"luckily\" it's impossible to guarantee either one of those (afaik every method call/return introduces a safe point!), so you don't even get tempted to try (especially considering that I don't see any way to make sure the JIT doesn't optimize the zeroing out away) ;)</p>\n\n<p>Seems like the only way to guarantee that the data is stored only in one location is to use the JNI for it.</p>\n\n<p>PS: Note that while the above is only true for the Heap, you can't guarantee anything more for the stack (the JIT will likely optimize writes without reads to the stack away, so when you return from the function the data will still be on the stack)</p>\n"},{"tags":[],"owner":{"account_id":44736,"reputation":98412,"user_id":131433,"accept_rate":76,"display_name":"bmargulies"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1309031452,"creation_date":1309031452,"answer_id":6480137,"question_id":6473352,"body_markdown":"Tell your co-workers that this is a hopeless cause. What about the kernel socket buffers, just for a start. \r\n\r\nIf you cannot prevent unwanted programs from spying on memory on your machine, the passwords are compromised. Period. ","title":"Java security: how to clear/zero-out memory associated with an object? (And/or ensure that is the only instance/copy of a particular variable)","body":"<p>Tell your co-workers that this is a hopeless cause. What about the kernel socket buffers, just for a start. </p>\n\n<p>If you cannot prevent unwanted programs from spying on memory on your machine, the passwords are compromised. Period. </p>\n"},{"tags":[],"owner":{"account_id":3048837,"reputation":109,"user_id":2583872,"display_name":"user2583872"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1374704904,"creation_date":1374704904,"answer_id":17845892,"question_id":6473352,"body_markdown":"I have been trying to work out some similar issues with credentials.\r\n\r\nUntil now, my only answer is &quot;not to use strings at all for secrets&quot;.  The strings are comfortable to use and store in human terms, but computers can work well with byte arrays.  Even the encryption primitives work with byte[].\r\n\r\nWhen you don&#39;t need the password anymore, just fill the array with zeroes and don&#39;t let the GC to invent new ways to reuse your secrets.\r\n\r\nIn another thread (https://stackoverflow.com/questions/93091/why-cant-strings-be-mutable-in-java-and-net) they make an assumption that it is very short sight.  That the strings are immutable because of security reasons; what was not devised is that not always the operational problems are the only ones in existence and that security sometimes need some flexibility and/or support to be effective, a support doesn&#39;t exist in the native Java.\r\n\r\nTo complement.  How could we read a password without using strings?  Well ... be creative and don&#39;t use things like the Android EditText with input-type password, that just is not secure enough and requires you to go to strings.","title":"Java security: how to clear/zero-out memory associated with an object? (And/or ensure that is the only instance/copy of a particular variable)","body":"<p>I have been trying to work out some similar issues with credentials.</p>\n\n<p>Until now, my only answer is \"not to use strings at all for secrets\".  The strings are comfortable to use and store in human terms, but computers can work well with byte arrays.  Even the encryption primitives work with byte[].</p>\n\n<p>When you don't need the password anymore, just fill the array with zeroes and don't let the GC to invent new ways to reuse your secrets.</p>\n\n<p>In another thread (<a href=\"https://stackoverflow.com/questions/93091/why-cant-strings-be-mutable-in-java-and-net\">Why can&#39;t strings be mutable in Java and .NET?</a>) they make an assumption that it is very short sight.  That the strings are immutable because of security reasons; what was not devised is that not always the operational problems are the only ones in existence and that security sometimes need some flexibility and/or support to be effective, a support doesn't exist in the native Java.</p>\n\n<p>To complement.  How could we read a password without using strings?  Well ... be creative and don't use things like the Android EditText with input-type password, that just is not secure enough and requires you to go to strings.</p>\n"},{"tags":[],"owner":{"account_id":465839,"reputation":6552,"user_id":870207,"accept_rate":0,"display_name":"teknopaul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515416759,"creation_date":1515416759,"answer_id":48150926,"question_id":6473352,"body_markdown":"Just aside but some of environments the java core security libs use char[] so it can be zeroed. I imagine that you don&#39;t get a guarantee tho.","title":"Java security: how to clear/zero-out memory associated with an object? (And/or ensure that is the only instance/copy of a particular variable)","body":"<p>Just aside but some of environments the java core security libs use char[] so it can be zeroed. I imagine that you don't get a guarantee tho.</p>\n"},{"tags":[],"owner":{"account_id":13060408,"reputation":707,"user_id":9437799,"display_name":"Sam Ginrich"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1641655267,"creation_date":1641655267,"answer_id":70633738,"question_id":6473352,"body_markdown":"Had this topic recently. \r\n\r\nFrom the requirement, that all sensitive data have controlled lifecycle naturally comes the Design Measure: Every object shall be a &lt;code&gt;Destroyable&lt;/code&gt;\r\n\r\nFrom this you see immediately, that Java is not designed for security.\r\n\r\n**Sol.1:** What you can do is defining explicit destructors, as you suggested which overwrite used memory as for byte arrays:\r\n\r\n    public static void destroy(byte[] a)\r\n\t{\r\n\t\tif (a != null)\r\n\t\t{\r\n\t\t\tArrays.fill(a, (byte) 0);\r\n\t\t}\r\n\t}\r\n\r\n**Sol.2** With this you soon get to the border of limited access to private class members. There is still a *transient* solution using Reflection, as for JPasswordField\r\n\r\n\tpublic static void destroy(javax.swing.JPasswordField pwfd) throws DestroyFailedException\r\n\t{\r\n\t\ttry\r\n\t\t{\r\n\t\t\tif (pwfd == null)\r\n\t\t\t{\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tjavax.swing.text.Document doc = pwfd.getDocument();\r\n\t\t\tSegment txt = new Segment();\r\n\t\t\tdoc.getText(0, doc.getLength(), txt); // use the non-String API\r\n\t\t\tField fd_array = Segment.class.getDeclaredField(&quot;array&quot;);\r\n\t\t\tfd_array.setAccessible(true);\r\n\t\t\tchar[] sga = (char[]) fd_array.get(txt);\r\n\t\t\tfd_array.setAccessible(false);\r\n\t\t\tdestroy(sga);\r\n\t\t}\r\n\t\tcatch (Throwable th)\r\n\t\t{\r\n\t\t\tth.printStackTrace();\r\n\t\t\tthrow new DestroyFailedException();\r\n\t\t}\r\n\t}\r\n\r\n\r\nThis way you can clean up any object with sensitive data. Though, this solution is transient, as newer Java Runtimes warn about unauthorized Reflection Operations and future Runtimes, will even forbid them; so an unsecure Java Design will be protected in the name of security ;)\r\n\r\n\r\n**Sol.3**: The long term solution will be to replicate parts of the Java Runtime with &lt;code&gt;Destroyable&lt;/code&gt;-s or do sensitive parts entirely native modules (JNI), where you have additional platform specific options of memory protection. \r\n\r\nSo, in a current project I replaced BigInteger operations with native GMP, where you can overwrite memory mangement and assert, that every single byte is cleaned up. Next step would be authentication policies for each function ...\r\n\r\n\r\n","title":"Java security: how to clear/zero-out memory associated with an object? (And/or ensure that is the only instance/copy of a particular variable)","body":"<p>Had this topic recently.</p>\n<p>From the requirement, that all sensitive data have controlled lifecycle naturally comes the Design Measure: Every object shall be a <code>Destroyable</code></p>\n<p>From this you see immediately, that Java is not designed for security.</p>\n<p><strong>Sol.1:</strong> What you can do is defining explicit destructors, as you suggested which overwrite used memory as for byte arrays:</p>\n<pre><code>public static void destroy(byte[] a)\n{\n    if (a != null)\n    {\n        Arrays.fill(a, (byte) 0);\n    }\n}\n</code></pre>\n<p><strong>Sol.2</strong> With this you soon get to the border of limited access to private class members. There is still a <em>transient</em> solution using Reflection, as for JPasswordField</p>\n<pre><code>public static void destroy(javax.swing.JPasswordField pwfd) throws DestroyFailedException\n{\n    try\n    {\n        if (pwfd == null)\n        {\n            return;\n        }\n        javax.swing.text.Document doc = pwfd.getDocument();\n        Segment txt = new Segment();\n        doc.getText(0, doc.getLength(), txt); // use the non-String API\n        Field fd_array = Segment.class.getDeclaredField(&quot;array&quot;);\n        fd_array.setAccessible(true);\n        char[] sga = (char[]) fd_array.get(txt);\n        fd_array.setAccessible(false);\n        destroy(sga);\n    }\n    catch (Throwable th)\n    {\n        th.printStackTrace();\n        throw new DestroyFailedException();\n    }\n}\n</code></pre>\n<p>This way you can clean up any object with sensitive data. Though, this solution is transient, as newer Java Runtimes warn about unauthorized Reflection Operations and future Runtimes, will even forbid them; so an unsecure Java Design will be protected in the name of security ;)</p>\n<p><strong>Sol.3</strong>: The long term solution will be to replicate parts of the Java Runtime with <code>Destroyable</code>-s or do sensitive parts entirely native modules (JNI), where you have additional platform specific options of memory protection.</p>\n<p>So, in a current project I replaced BigInteger operations with native GMP, where you can overwrite memory mangement and assert, that every single byte is cleaned up. Next step would be authentication policies for each function ...</p>\n"}],"owner":{"account_id":53868,"reputation":1956,"user_id":161081,"accept_rate":25,"display_name":"weiji"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12172,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"answer_count":6,"score":41,"last_activity_date":1641655267,"creation_date":1308946945,"question_id":6473352,"body_markdown":"I&#39;m in a discussion at work over how to secure sensitive information (e.g. passwords) stored in a Java program.  Per security requirements, memory containing sensitive information is cleared, e.g. by setting the values of the bytes to all zeroes.  The concern is that an attacker can observe the memory associated with the application process, and so we want to limit as much as possible the window of time such sensitive information hangs around.  Previously, projects involved C++, so a memset() sufficed.\r\n\r\n(Incidentally, the use of memset() has been called into question because some compilers are known to optimize it&#39;s use out of the resulting binary based on the assumption that, since the memory is not used later, there is no need to zero it in the first place.  This blurb is a disclaimer for those who Google for &quot;memset&quot; and &quot;clear memory&quot;, etc).\r\n\r\nNow we have on our hands a Java project being pressed against this requirement.\r\n\r\nFor Java objects, my understanding is that:\r\n\r\n* a nulled reference only changes the value of the reference; the memory on the heap for the object still contains data\r\n* an immutable object like String would not be able to have it&#39;s data modified (or at least not easily, within the confines of a VM with an appropriately enabled security manager)\r\n* the generational garbage collectors may make copies of objects all over the place (as noted [here](https://stackoverflow.com/questions/5238131/how-can-i-ensure-the-destruction-of-a-string-object-in-java))\r\n\r\nAnd for primitives, my understanding is that:\r\n\r\n* a primitive-type variable in a local method would get allocated on the stack, and:\r\n* when you change it&#39;s value, you modify it directly in memory (as opposed to using a reference to handle an object on the heap). \r\n* copies can/would be made &quot;behind the scenes&quot; in some situations, such as passing it as an argument into methods or boxing (auto- or not) creating instances of the wrappers which contain another primitive variable holding the same value.\r\n\r\nMy coworker claims that Java primitives are immutable and that there is documentation from both the NSA and Oracle regarding the lack of support in Java for this requirement.\r\n\r\nMy position is that primitives can (at least in some situations) be zeroed by setting the value to zero (or boolean to false), and the memory is cleared that way.\r\n\r\nI&#39;m trying to verify if there&#39;s language in the JLS or other &quot;official&quot; documentation about the required behavior of JVMs when it comes to memory management with respect to primitives.  The closest I could find was a [&quot;Secure Coding Guidelines for the Java Programming Language&quot;](http://www.oracle.com/technetwork/java/seccodeguide-139067.html) on Oracle&#39;s site which mentions clearing char arrays after use.\r\n\r\nI&#39;d quibble over definitions when my coworker called primitives immutable, but I&#39;m pretty sure he meant &quot;memory cannot be appropriately zeroed&quot; - let&#39;s not worry about that.  We did not discuss whether he meant final variables - from context we were talking in general.\r\n\r\nAre there any definitive answers or references on this?  I&#39;d appreciate anything that could show me where I&#39;m wrong or confirm that I&#39;m right.\r\n\r\n*Edit*: After further discussion, I&#39;ve been able to clarify that my coworker was thinking of the primitive wrappers, not the primitives themselves.  So we are left with the original problem of how to clear memory securely, preferably of objects.  Also, to clarify, the sensitive information is not just passwords, but also things like IP addresses or encryption keys.\r\n\r\nAre there any commercial JVMs which offer a feature like priority handling of certain objects?  (I imagine this would actually violate the Java spec, but I thought I&#39;d ask just in case I&#39;m wrong.)","title":"Java security: how to clear/zero-out memory associated with an object? (And/or ensure that is the only instance/copy of a particular variable)","body":"<p>I'm in a discussion at work over how to secure sensitive information (e.g. passwords) stored in a Java program.  Per security requirements, memory containing sensitive information is cleared, e.g. by setting the values of the bytes to all zeroes.  The concern is that an attacker can observe the memory associated with the application process, and so we want to limit as much as possible the window of time such sensitive information hangs around.  Previously, projects involved C++, so a memset() sufficed.</p>\n\n<p>(Incidentally, the use of memset() has been called into question because some compilers are known to optimize it's use out of the resulting binary based on the assumption that, since the memory is not used later, there is no need to zero it in the first place.  This blurb is a disclaimer for those who Google for \"memset\" and \"clear memory\", etc).</p>\n\n<p>Now we have on our hands a Java project being pressed against this requirement.</p>\n\n<p>For Java objects, my understanding is that:</p>\n\n<ul>\n<li>a nulled reference only changes the value of the reference; the memory on the heap for the object still contains data</li>\n<li>an immutable object like String would not be able to have it's data modified (or at least not easily, within the confines of a VM with an appropriately enabled security manager)</li>\n<li>the generational garbage collectors may make copies of objects all over the place (as noted <a href=\"https://stackoverflow.com/questions/5238131/how-can-i-ensure-the-destruction-of-a-string-object-in-java\">here</a>)</li>\n</ul>\n\n<p>And for primitives, my understanding is that:</p>\n\n<ul>\n<li>a primitive-type variable in a local method would get allocated on the stack, and:</li>\n<li>when you change it's value, you modify it directly in memory (as opposed to using a reference to handle an object on the heap). </li>\n<li>copies can/would be made \"behind the scenes\" in some situations, such as passing it as an argument into methods or boxing (auto- or not) creating instances of the wrappers which contain another primitive variable holding the same value.</li>\n</ul>\n\n<p>My coworker claims that Java primitives are immutable and that there is documentation from both the NSA and Oracle regarding the lack of support in Java for this requirement.</p>\n\n<p>My position is that primitives can (at least in some situations) be zeroed by setting the value to zero (or boolean to false), and the memory is cleared that way.</p>\n\n<p>I'm trying to verify if there's language in the JLS or other \"official\" documentation about the required behavior of JVMs when it comes to memory management with respect to primitives.  The closest I could find was a <a href=\"http://www.oracle.com/technetwork/java/seccodeguide-139067.html\" rel=\"noreferrer\">\"Secure Coding Guidelines for the Java Programming Language\"</a> on Oracle's site which mentions clearing char arrays after use.</p>\n\n<p>I'd quibble over definitions when my coworker called primitives immutable, but I'm pretty sure he meant \"memory cannot be appropriately zeroed\" - let's not worry about that.  We did not discuss whether he meant final variables - from context we were talking in general.</p>\n\n<p>Are there any definitive answers or references on this?  I'd appreciate anything that could show me where I'm wrong or confirm that I'm right.</p>\n\n<p><em>Edit</em>: After further discussion, I've been able to clarify that my coworker was thinking of the primitive wrappers, not the primitives themselves.  So we are left with the original problem of how to clear memory securely, preferably of objects.  Also, to clarify, the sensitive information is not just passwords, but also things like IP addresses or encryption keys.</p>\n\n<p>Are there any commercial JVMs which offer a feature like priority handling of certain objects?  (I imagine this would actually violate the Java spec, but I thought I'd ask just in case I'm wrong.)</p>\n"},{"tags":["java","image","swing","imageicon"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1470933598,"post_id":38901893,"comment_id":65162479,"body_markdown":"*&quot;.. I want to check if there was a problem loading an image&quot;* Then use `ImageIO.read(..)`. It provides lots of helpful feedback, unlike the `ImageIcon` constructor using a `String` which will fail silently. As an aside: Application resources will become embedded resources by the time of deployment, so it is wise to start accessing them as if they were, right now.  An [tag:embedded-resource] must be accessed by URL rather than file.  See the [info. page for embedded resource](http://stackoverflow.com/tags/embedded-resource/info) for how to form the URL.","body":"<i>&quot;.. I want to check if there was a problem loading an image&quot;</i> Then use <code>ImageIO.read(..)</code>. It provides lots of helpful feedback, unlike the <code>ImageIcon</code> constructor using a <code>String</code> which will fail silently. As an aside: Application resources will become embedded resources by the time of deployment, so it is wise to start accessing them as if they were, right now.  An <a href=\"https://stackoverflow.com/questions/tagged/embedded-resource\">embedded-resource</a> must be accessed by URL rather than file.  See the <a href=\"http://stackoverflow.com/tags/embedded-resource/info\">info. page for embedded resource</a> for how to form the URL."},{"owner":{"account_id":6731361,"reputation":191,"user_id":5187561,"accept_rate":77,"display_name":"Matthew Flynn"},"score":0,"creation_date":1470933818,"post_id":38901893,"comment_id":65162577,"body_markdown":"@AndrewThompson Some of the images the program needs to load are animated gifs, and I was told elsewhere on stack overflow that `ImageIO.read` won&#39;t work for animated gifs, and that I had to use `ImageIcons` for that","body":"@AndrewThompson Some of the images the program needs to load are animated gifs, and I was told elsewhere on stack overflow that <code>ImageIO.read</code> won&#39;t work for animated gifs, and that I had to use <code>ImageIcons</code> for that"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1470934324,"post_id":38901893,"comment_id":65162842,"body_markdown":"*&quot;animated gifs, and I was told elsewhere on stack overflow ..&quot;* Likely here: [Show an animated BG in Swing](http://stackoverflow.com/q/10836832/418556). *&quot;..that ImageIO.read won&#39;t work for animated gifs&quot;* True. While the `Toolkit` has various methods that work for loading animated GIFs, they are just as uninformative as the `ImageIcon` ..","body":"<i>&quot;animated gifs, and I was told elsewhere on stack overflow ..&quot;</i> Likely here: <a href=\"http://stackoverflow.com/q/10836832/418556\">Show an animated BG in Swing</a>. <i>&quot;..that ImageIO.read won&#39;t work for animated gifs&quot;</i> True. While the <code>Toolkit</code> has various methods that work for loading animated GIFs, they are just as uninformative as the <code>ImageIcon</code> .."}],"answers":[{"tags":[],"owner":{"account_id":16631244,"reputation":1,"user_id":12019049,"display_name":"Ous Mass"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1641655162,"creation_date":1641655162,"answer_id":70633728,"question_id":38901893,"body_markdown":"What happens when a path for ImageIcon (String) is not valid is that the image will not be displayed and no errors will be appears.\r\n\r\nYou can check if the image file exists by doing this:\r\n\r\n\r\n    Path path = Paths.get(&quot;image.png&quot;);\r\n    if (Files.exists(path))\r\n        //the image exists\r\n    else\r\n        //the image does not exists\r\n","title":"What happens when a path for ImageIcon(String) is invalid (Java)?","body":"<p>What happens when a path for ImageIcon (String) is not valid is that the image will not be displayed and no errors will be appears.</p>\n<p>You can check if the image file exists by doing this:</p>\n<pre><code>Path path = Paths.get(&quot;image.png&quot;);\nif (Files.exists(path))\n    //the image exists\nelse\n    //the image does not exists\n</code></pre>\n"}],"owner":{"account_id":6731361,"reputation":191,"user_id":5187561,"accept_rate":77,"display_name":"Matthew Flynn"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1641655162,"creation_date":1470933512,"question_id":38901893,"body_markdown":"You can create a new `ImageIcon` with `ImageIcon icon = new ImageIcon(&quot;an image.png&quot;)`, but what happens if `&quot;an image.png&quot;` doesn&#39;t exist, or some other error occurs?  I&#39;m writing a program that loads images like this, and I want to check if there was a problem loading an image, but since no `Exception` is thrown, how would you check that?  Would `if (icon == new ImageIcon())` be the correct statement?\r\n\r\nEDIT: I was using `ImageIO.read` which does throw an exception and makes checking easy but some of the images I need to load are animated gifs which don&#39;t animate if you load them with `ImageIO.read`","title":"What happens when a path for ImageIcon(String) is invalid (Java)?","body":"<p>You can create a new <code>ImageIcon</code> with <code>ImageIcon icon = new ImageIcon(\"an image.png\")</code>, but what happens if <code>\"an image.png\"</code> doesn't exist, or some other error occurs?  I'm writing a program that loads images like this, and I want to check if there was a problem loading an image, but since no <code>Exception</code> is thrown, how would you check that?  Would <code>if (icon == new ImageIcon())</code> be the correct statement?</p>\n\n<p>EDIT: I was using <code>ImageIO.read</code> which does throw an exception and makes checking easy but some of the images I need to load are animated gifs which don't animate if you load them with <code>ImageIO.read</code></p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":21144036,"reputation":186,"user_id":15545774,"display_name":"Chandresh Parmar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641655047,"creation_date":1641654739,"answer_id":70633657,"question_id":70633400,"body_markdown":"If you are using the Material Components library, then there is no need to create an extra layout for your badge, unless you want a custom badge. For adding badge to a menu item, first initialize a BadgeDrawable with your menu item&#39;s id. For example:\r\n\r\n    BadgeDrawable badge = nav.getOrCreateBadge(R.id.cart);\r\n\r\nHere, `nav` is your bottom navigation view and `R.id.cart` is your menu item&#39;s id. After initialization, set the badge to be visible by `badge.setVisible(true);` and finally set the number on the badge by `badge.setNumber(1);`. You can even set the badge&#39;s background color by `badge.setBackgroundColor(getResources().getColor(R.color.red));` and badge&#39;s text color by `badge.setTextColor(getResources().getColor(R.color.white));`. And finally when you want to remove the number just call `badge.clearNumber();`.","title":"Cart badge with bottom navigation view android","body":"<p>If you are using the Material Components library, then there is no need to create an extra layout for your badge, unless you want a custom badge. For adding badge to a menu item, first initialize a BadgeDrawable with your menu item's id. For example:</p>\n<pre><code>BadgeDrawable badge = nav.getOrCreateBadge(R.id.cart);\n</code></pre>\n<p>Here, <code>nav</code> is your bottom navigation view and <code>R.id.cart</code> is your menu item's id. After initialization, set the badge to be visible by <code>badge.setVisible(true);</code> and finally set the number on the badge by <code>badge.setNumber(1);</code>. You can even set the badge's background color by <code>badge.setBackgroundColor(getResources().getColor(R.color.red));</code> and badge's text color by <code>badge.setTextColor(getResources().getColor(R.color.white));</code>. And finally when you want to remove the number just call <code>badge.clearNumber();</code>.</p>\n"}],"owner":{"account_id":23870445,"reputation":35,"user_id":17872214,"display_name":"Stud 20178034"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70633657,"answer_count":1,"score":1,"last_activity_date":1641655047,"creation_date":1641653046,"question_id":70633400,"body_markdown":"I&#39;m building a shop android app which I need to set these items in bottom navigation view (Home, cart, favorites, more)\r\nand I need to set badge on cart to view how many items in cart\r\nI build bottom nav bar successfully but I can&#39;t add cart badge on icon.\r\nthis is my code in activity which I set menu for nav view. &lt;br&gt;\r\n***MainActivity.java***\r\n```\r\n@Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_products);\r\n        Objects.requireNonNull(getSupportActionBar()).hide();\r\n\r\n        context = this;\r\n\r\n        tools = Tools.getInstance(context);\r\n        prefs = Prefs.getInstance(context);\r\n        tools.DisplayLang(prefs.GetLang(),this);\r\n\r\n        nav = findViewById(R.id.bottom_nav_view);\r\n        nav.inflateMenu(R.menu.menu);\r\n        nav.setSelectedItemId(R.id.home);\r\n        getSupportFragmentManager().beginTransaction().replace(R.id.frag_container,new Home())\r\n                .commit();\r\n        nav.setOnItemSelectedListener(btm_nav);\r\n    }\r\n\r\n    NavigationBarView.OnItemSelectedListener btm_nav =\r\n            new NavigationBarView.OnItemSelectedListener() {\r\n                @Override\r\n                public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n                    Fragment fragment;\r\n                    switch (item.getItemId()) {\r\n                        case R.id.home:\r\n                            fragment = new Home();\r\n                            getSupportFragmentManager().beginTransaction().replace(R.id.frag_container,fragment).commit();\r\n                            break;\r\n                        case R.id.fav:\r\n                            fragment = new Favourite();\r\n                            getSupportFragmentManager().beginTransaction().replace(R.id.frag_container,fragment).commit();\r\n                            break;\r\n                        case R.id.cart:\r\n                            fragment = new Cart();\r\n                            getSupportFragmentManager().beginTransaction().replace(R.id.frag_container,fragment).commit();\r\n                            break;\r\n                        case R.id.more:\r\n                            PopupMenu menu = new PopupMenu(Products.this,\r\n                                    findViewById(R.id.more));\r\n                            menu.getMenuInflater().inflate(R.menu.pop_up,menu.getMenu());\r\n                            tools.setForceShowIcon(menu);\r\n                            menu.show();\r\n                            break;\r\n                    }\r\n                    return true;\r\n                }\r\n            };\r\n```\r\n***@menu/menu***\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n    &lt;item android:id=&quot;@+id/home&quot;\r\n        android:title=&quot;@string/home&quot;\r\n        android:icon=&quot;@drawable/home&quot;/&gt;\r\n\r\n    &lt;item android:id=&quot;@+id/cart&quot;\r\n        android:title=&quot;@string/basket&quot;\r\n        android:icon=&quot;@drawable/cart&quot;\r\n        app:actionLayout=&quot;@layout/cart_layout&quot;/&gt;\r\n\r\n    &lt;item android:id=&quot;@+id/fav&quot;\r\n        android:title=&quot;@string/fav&quot;\r\n        android:icon=&quot;@drawable/fav&quot;/&gt;\r\n\r\n    &lt;item android:id=&quot;@+id/more&quot;\r\n        android:title=&quot;@string/more&quot;\r\n        android:icon=&quot;@drawable/more&quot;/&gt;\r\n&lt;/menu&gt;\r\n```\r\n\r\n***@layout/cart_layout***\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/img&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;16dp&quot;\r\n        android:src=&quot;@drawable/cart&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@+id/txt_count&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.458&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;@+id/txt_count&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;@+id/txt_count&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txt_count&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginTop=&quot;668dp&quot;\r\n        android:background=&quot;@drawable/cart_badge&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:padding=&quot;3dp&quot;\r\n        android:text=&quot;0&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:textSize=&quot;10dp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.598&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\nI don&#39;t have any errors but my problem is that badge doesn&#39;t appear on cart icon. How can I do that ?","title":"Cart badge with bottom navigation view android","body":"<p>I'm building a shop android app which I need to set these items in bottom navigation view (Home, cart, favorites, more)\nand I need to set badge on cart to view how many items in cart\nI build bottom nav bar successfully but I can't add cart badge on icon.\nthis is my code in activity which I set menu for nav view. <br>\n<em><strong>MainActivity.java</strong></em></p>\n<pre><code>@Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_products);\n        Objects.requireNonNull(getSupportActionBar()).hide();\n\n        context = this;\n\n        tools = Tools.getInstance(context);\n        prefs = Prefs.getInstance(context);\n        tools.DisplayLang(prefs.GetLang(),this);\n\n        nav = findViewById(R.id.bottom_nav_view);\n        nav.inflateMenu(R.menu.menu);\n        nav.setSelectedItemId(R.id.home);\n        getSupportFragmentManager().beginTransaction().replace(R.id.frag_container,new Home())\n                .commit();\n        nav.setOnItemSelectedListener(btm_nav);\n    }\n\n    NavigationBarView.OnItemSelectedListener btm_nav =\n            new NavigationBarView.OnItemSelectedListener() {\n                @Override\n                public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n                    Fragment fragment;\n                    switch (item.getItemId()) {\n                        case R.id.home:\n                            fragment = new Home();\n                            getSupportFragmentManager().beginTransaction().replace(R.id.frag_container,fragment).commit();\n                            break;\n                        case R.id.fav:\n                            fragment = new Favourite();\n                            getSupportFragmentManager().beginTransaction().replace(R.id.frag_container,fragment).commit();\n                            break;\n                        case R.id.cart:\n                            fragment = new Cart();\n                            getSupportFragmentManager().beginTransaction().replace(R.id.frag_container,fragment).commit();\n                            break;\n                        case R.id.more:\n                            PopupMenu menu = new PopupMenu(Products.this,\n                                    findViewById(R.id.more));\n                            menu.getMenuInflater().inflate(R.menu.pop_up,menu.getMenu());\n                            tools.setForceShowIcon(menu);\n                            menu.show();\n                            break;\n                    }\n                    return true;\n                }\n            };\n</code></pre>\n<p><em><strong>@menu/menu</strong></em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n    &lt;item android:id=&quot;@+id/home&quot;\n        android:title=&quot;@string/home&quot;\n        android:icon=&quot;@drawable/home&quot;/&gt;\n\n    &lt;item android:id=&quot;@+id/cart&quot;\n        android:title=&quot;@string/basket&quot;\n        android:icon=&quot;@drawable/cart&quot;\n        app:actionLayout=&quot;@layout/cart_layout&quot;/&gt;\n\n    &lt;item android:id=&quot;@+id/fav&quot;\n        android:title=&quot;@string/fav&quot;\n        android:icon=&quot;@drawable/fav&quot;/&gt;\n\n    &lt;item android:id=&quot;@+id/more&quot;\n        android:title=&quot;@string/more&quot;\n        android:icon=&quot;@drawable/more&quot;/&gt;\n&lt;/menu&gt;\n</code></pre>\n<p><em><strong>@layout/cart_layout</strong></em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/img&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;16dp&quot;\n        android:src=&quot;@drawable/cart&quot;\n        app:layout_constraintEnd_toStartOf=&quot;@+id/txt_count&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.458&quot;\n        app:layout_constraintStart_toStartOf=&quot;@+id/txt_count&quot;\n        app:layout_constraintTop_toTopOf=&quot;@+id/txt_count&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txt_count&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginTop=&quot;668dp&quot;\n        android:background=&quot;@drawable/cart_badge&quot;\n        android:gravity=&quot;center&quot;\n        android:padding=&quot;3dp&quot;\n        android:text=&quot;0&quot;\n        android:textColor=&quot;@color/white&quot;\n        android:textSize=&quot;10dp&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.598&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>I don't have any errors but my problem is that badge doesn't appear on cart icon. How can I do that ?</p>\n"},{"tags":["java","jmeter","sikuli-x"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641654590,"creation_date":1641654590,"answer_id":70633627,"question_id":70631855,"body_markdown":"The error means that the Sikuli isn&#39;t able to find the element matching your `vncviewer.png` image on the screen. \r\n\r\nDouble check that the content of the `vncviewer.png` is present on the screen. It might also be the case you took the screenshot on a different machine having different screen resolution hence finding fails. \r\n\r\nYou can try the following:\r\n\r\n 1. Re-capturing the screenshot on the machine you&#39;re running JMeter and replacing the `vncviewer.png` with the &quot;fresh&quot; image from particular that machine\r\n 2. Call [Pattern.similar()][1] function to allow more flexibility so Sikuli would look for &quot;similar&quot; image, not for &quot;exact&quot; image \r\n 3. [Enable debug logging for Sikuli][2] by [adding the following system property to JMeter command line:][3]\r\n\r\n        jmeter -Dsikuli.Debug=0 -t /path/to/your/testplan.jmx\r\n\r\n    \r\n\r\n\r\n  [1]: http://doc.sikuli.org/javadoc/org/sikuli/script/Pattern.html#similar(float)\r\n  [2]: http://doc.sikuli.org/javadoc/org/sikuli/script/Debug.html\r\n  [3]: https://www.blazemeter.com/blog/apache-jmeter-properties-customization/","title":"Why does Sikulix code not working in JMeter","body":"<p>The error means that the Sikuli isn't able to find the element matching your <code>vncviewer.png</code> image on the screen.</p>\n<p>Double check that the content of the <code>vncviewer.png</code> is present on the screen. It might also be the case you took the screenshot on a different machine having different screen resolution hence finding fails.</p>\n<p>You can try the following:</p>\n<ol>\n<li><p>Re-capturing the screenshot on the machine you're running JMeter and replacing the <code>vncviewer.png</code> with the &quot;fresh&quot; image from particular that machine</p>\n</li>\n<li><p>Call <a href=\"http://doc.sikuli.org/javadoc/org/sikuli/script/Pattern.html#similar(float)\" rel=\"nofollow noreferrer\">Pattern.similar()</a> function to allow more flexibility so Sikuli would look for &quot;similar&quot; image, not for &quot;exact&quot; image</p>\n</li>\n<li><p><a href=\"http://doc.sikuli.org/javadoc/org/sikuli/script/Debug.html\" rel=\"nofollow noreferrer\">Enable debug logging for Sikuli</a> by <a href=\"https://www.blazemeter.com/blog/apache-jmeter-properties-customization/\" rel=\"nofollow noreferrer\">adding the following system property to JMeter command line:</a></p>\n<pre><code>jmeter -Dsikuli.Debug=0 -t /path/to/your/testplan.jmx\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":8039369,"reputation":301,"user_id":6061548,"accept_rate":62,"display_name":"RJM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70633627,"answer_count":1,"score":0,"last_activity_date":1641654590,"creation_date":1641641070,"question_id":70631855,"body_markdown":"I have below Sikuli code in the JMeter which is not working.\r\n\r\n    import org.sikuli.script.Pattern;\r\n    import org.sikuli.script.Screen;\r\n    import org.sikuli.script.FindFailed;\r\n    import org.sikuli.script.KeyModifier;\r\n    import org.sikuli.script.Match;\r\n    \r\n\r\n    Screen screen = new Screen();\r\n    Pattern VNCviewer = new Pattern (&quot;C:\\\\scripts\\\\patterns\\\\vnc\\\\vncviewer.png&quot;);\r\n    screen.wait(VNCviewer,3);\r\n\r\nI tried in both Beanshell sampler and JSR223 sampler and in both cases not working. Here is the error Im getting.\r\n\r\nJSR223 sampler\r\n\r\n    Response code: 500\r\nResponse message: javax.script.ScriptException: javax.script.ScriptException: FindFailed: C:\\scripts\\patterns\\vnc\\vncviewer.png: (32x31) in R[0,0 1920x1080]@S(0)\r\n  Line 2226, in file Region.java\r\n\r\nBeanshell sampler\r\n\r\n    Response code: 500\r\nResponse message: org.apache.jorphan.util.JMeterException: Error invoking bsh method: eval\tSourced file: inline evaluation of: ``import org.sikuli.script.Pattern; import org.sikuli.script.Screen; import org.si . . . &#39;&#39; : Method Invocation screen.wait\r\n\r\nThis code is working fine in another laptop and JMeter version same (5.0). I tried with different java version also. The file path is correct only and the png file exists.\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Why does Sikulix code not working in JMeter","body":"<p>I have below Sikuli code in the JMeter which is not working.</p>\n<pre><code>import org.sikuli.script.Pattern;\nimport org.sikuli.script.Screen;\nimport org.sikuli.script.FindFailed;\nimport org.sikuli.script.KeyModifier;\nimport org.sikuli.script.Match;\n\n\nScreen screen = new Screen();\nPattern VNCviewer = new Pattern (&quot;C:\\\\scripts\\\\patterns\\\\vnc\\\\vncviewer.png&quot;);\nscreen.wait(VNCviewer,3);\n</code></pre>\n<p>I tried in both Beanshell sampler and JSR223 sampler and in both cases not working. Here is the error Im getting.</p>\n<p>JSR223 sampler</p>\n<pre><code>Response code: 500\n</code></pre>\n<p>Response message: javax.script.ScriptException: javax.script.ScriptException: FindFailed: C:\\scripts\\patterns\\vnc\\vncviewer.png: (32x31) in R[0,0 1920x1080]@S(0)\nLine 2226, in file Region.java</p>\n<p>Beanshell sampler</p>\n<pre><code>Response code: 500\n</code></pre>\n<p>Response message: org.apache.jorphan.util.JMeterException: Error invoking bsh method: eval  Sourced file: inline evaluation of: ``import org.sikuli.script.Pattern; import org.sikuli.script.Screen; import org.si . . . '' : Method Invocation screen.wait</p>\n<p>This code is working fine in another laptop and JMeter version same (5.0). I tried with different java version also. The file path is correct only and the png file exists.</p>\n"},{"tags":["java","filereader"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":2,"creation_date":1641650258,"post_id":70632999,"comment_id":124862543,"body_markdown":"*&quot;I also realise that going to read the whole file to overwrite only certain values is wrong&quot;* -- no, this is not wrong and is way to do this.","body":"<i>&quot;I also realise that going to read the whole file to overwrite only certain values is wrong&quot;</i> -- no, this is not wrong and is way to do this."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1641650317,"post_id":70632999,"comment_id":124862556,"body_markdown":"I&#39;m not sure that I can see what your error/problems are based on your code and description. Consider creating a better code post, preferably a [mre]. Also to ease your creation of your MRE, and your debugging, best to do your GUI work and your file I/O work in separate, testable, classes.","body":"I&#39;m not sure that I can see what your error/problems are based on your code and description. Consider creating a better code post, preferably a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. Also to ease your creation of your MRE, and your debugging, best to do your GUI work and your file I/O work in separate, testable, classes."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1641650472,"post_id":70632999,"comment_id":124862591,"body_markdown":"And public vs private should have no bearing on your task, other than it is almost always best to make such variables private, and I recommend that you do so in this case.","body":"And public vs private should have no bearing on your task, other than it is almost always best to make such variables private, and I recommend that you do so in this case."},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1641652813,"post_id":70632999,"comment_id":124863199,"body_markdown":"But reading a file 3 times is wrong. Read it *once* and extract the values needed.","body":"But reading a file 3 times is wrong. Read it <i>once</i> and extract the values needed."},{"owner":{"account_id":20679219,"reputation":128,"user_id":15183178,"display_name":"Eugenio"},"score":0,"creation_date":1641654446,"post_id":70632999,"comment_id":124863648,"body_markdown":"Thank you for your reply, you made me realise that the function I was using was OK. In fact, it&#39;s not a reading problem (maybe the way I wrote it is not optimised, but for now I was just aiming to make it work), but a writing problem.\nI need to find a function that allows me to write to the file at the line I choose..","body":"Thank you for your reply, you made me realise that the function I was using was OK. In fact, it&#39;s not a reading problem (maybe the way I wrote it is not optimised, but for now I was just aiming to make it work), but a writing problem. I need to find a function that allows me to write to the file at the line I choose.."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641654563,"creation_date":1641652907,"answer_id":70633376,"question_id":70632999,"body_markdown":"&gt; Variable &#39;total&#39; is accessed from within inner class, needs to be final or effectively final\r\n\r\nYou need a &quot;wrapper&quot;. I would change the type of `total` and `fail` to `double` and use an array.\r\n```java\r\ndouble[] values = new double[3];\r\nbutton.addActionListener(e -&gt; {\r\n            Path path = Paths.get(&quot;failRate.txt&quot;);\r\n            try {\r\n                List&lt;String&gt; lines = Files.readAllLines(path);\r\n                values[0] = Double.parseDouble(lines.get(0));\r\n                values[1] = Double.parseDouble(lines.get(1));\r\n                values[2] = Double.parseDouble(lines.get(2));\r\n                BufferedWriter bw = Files.newBufferedWriter(path,\r\n                                                            StandardOpenOption.CREATE,\r\n                                                            StandardOpenOption.TRUNCATE_EXISTING,\r\n                                                            StandardOpenOption.WRITE);\r\n                for (double d : values) {\r\n                    bw.write(Double.toString(d));\r\n                }\r\n            }\r\n            catch (IOException xIo) {\r\n                xIo.printStackTrace();\r\n            }\r\n});\r\n```\r\nThis is allowed because `values` is not being changed. It always references the same array. It&#39;s just the array contents that are being changed.\r\n","title":"Read and overwrite specific lines in a text file","body":"<blockquote>\n<p>Variable 'total' is accessed from within inner class, needs to be final or effectively final</p>\n</blockquote>\n<p>You need a &quot;wrapper&quot;. I would change the type of <code>total</code> and <code>fail</code> to <code>double</code> and use an array.</p>\n<pre class=\"lang-java prettyprint-override\"><code>double[] values = new double[3];\nbutton.addActionListener(e -&gt; {\n            Path path = Paths.get(&quot;failRate.txt&quot;);\n            try {\n                List&lt;String&gt; lines = Files.readAllLines(path);\n                values[0] = Double.parseDouble(lines.get(0));\n                values[1] = Double.parseDouble(lines.get(1));\n                values[2] = Double.parseDouble(lines.get(2));\n                BufferedWriter bw = Files.newBufferedWriter(path,\n                                                            StandardOpenOption.CREATE,\n                                                            StandardOpenOption.TRUNCATE_EXISTING,\n                                                            StandardOpenOption.WRITE);\n                for (double d : values) {\n                    bw.write(Double.toString(d));\n                }\n            }\n            catch (IOException xIo) {\n                xIo.printStackTrace();\n            }\n});\n</code></pre>\n<p>This is allowed because <code>values</code> is not being changed. It always references the same array. It's just the array contents that are being changed.</p>\n"}],"owner":{"account_id":20679219,"reputation":128,"user_id":15183178,"display_name":"Eugenio"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70633376,"answer_count":1,"score":1,"last_activity_date":1641654563,"creation_date":1641650148,"question_id":70632999,"body_markdown":"I am writing a program in Java to update data on a text document. The update is triggered by a button (JButton).\r\n\r\nIn particular, I need to distinguish 3 lines in the document:\r\n- the first one describes a float value called &#39;total&#39;.\r\n- the second describes a float value called &#39;fail&#39;.\r\n- the third describes a double value called &#39;rate&#39;.\r\n\r\nDuring program execution, I want the 3 lines of the document to be read and assigned to variables; once the button is pressed, the respective variables will have to overwrite the value in the document.\r\n\r\nIn order to achieve this I have reasoned as follows:\r\n\r\nI declared the 3 private variables (total, fail and rate) initializing them to zero, and then did a read from the file where I assigned them the right value.\r\n\r\n```\r\nfloat total = 0.0f, fail = 0.0f;\r\ndouble rate = 0d;\r\n\r\ntry {\r\n  total = Float.parseFloat(Files.readAllLines(Paths.get(&quot;failRate.txt&quot;)).get(0));\r\n  fail = Float.parseFloat(Files.readAllLines(Paths.get(&quot;failRate.txt&quot;)).get(1));\r\n  rate = Double.parseDouble(Files.readAllLines(Paths.get(&quot;failRate.txt&quot;)).get(2));\r\n} catch (Exception e){e.printStackTrace();}\r\n```\r\n\r\nIn the button, I have incremented the variables and an error already appears here:\r\n\r\n&gt; Variable &#39;total&#39; is accessed from within inner class, needs to be final or effectively final\r\n\r\nIf I were to make the variables final, I couldn&#39;t change them, so that&#39;s not the right way.\r\n\r\nI&#39;ve tried making the variables public but in doing so, I notice that the variables are changed internally but not updated in the file.\r\n\r\nSo we come to the crucial point:\r\n```\r\ntry {\r\n  Files.readAllLines(Paths.get(&quot;failRate.txt&quot;)).set(1, Float.toString(fail));\r\n  Files.readAllLines(Paths.get(&quot;failRate.txt&quot;)).set(2, Double.toString(rate));\r\n} catch (Exception exception){exception.printStackTrace();}\r\n```\r\n\r\nNow that the variables are private, it also gives an error, but when they were public it still didn&#39;t work.\r\n\r\nI also realise that going to read the whole file to overwrite only certain values is wrong, but I don&#39;t know any other way at the moment.\r\n\r\nWhat am I doing wrong?\r\n","title":"Read and overwrite specific lines in a text file","body":"<p>I am writing a program in Java to update data on a text document. The update is triggered by a button (JButton).</p>\n<p>In particular, I need to distinguish 3 lines in the document:</p>\n<ul>\n<li>the first one describes a float value called 'total'.</li>\n<li>the second describes a float value called 'fail'.</li>\n<li>the third describes a double value called 'rate'.</li>\n</ul>\n<p>During program execution, I want the 3 lines of the document to be read and assigned to variables; once the button is pressed, the respective variables will have to overwrite the value in the document.</p>\n<p>In order to achieve this I have reasoned as follows:</p>\n<p>I declared the 3 private variables (total, fail and rate) initializing them to zero, and then did a read from the file where I assigned them the right value.</p>\n<pre><code>float total = 0.0f, fail = 0.0f;\ndouble rate = 0d;\n\ntry {\n  total = Float.parseFloat(Files.readAllLines(Paths.get(&quot;failRate.txt&quot;)).get(0));\n  fail = Float.parseFloat(Files.readAllLines(Paths.get(&quot;failRate.txt&quot;)).get(1));\n  rate = Double.parseDouble(Files.readAllLines(Paths.get(&quot;failRate.txt&quot;)).get(2));\n} catch (Exception e){e.printStackTrace();}\n</code></pre>\n<p>In the button, I have incremented the variables and an error already appears here:</p>\n<blockquote>\n<p>Variable 'total' is accessed from within inner class, needs to be final or effectively final</p>\n</blockquote>\n<p>If I were to make the variables final, I couldn't change them, so that's not the right way.</p>\n<p>I've tried making the variables public but in doing so, I notice that the variables are changed internally but not updated in the file.</p>\n<p>So we come to the crucial point:</p>\n<pre><code>try {\n  Files.readAllLines(Paths.get(&quot;failRate.txt&quot;)).set(1, Float.toString(fail));\n  Files.readAllLines(Paths.get(&quot;failRate.txt&quot;)).set(2, Double.toString(rate));\n} catch (Exception exception){exception.printStackTrace();}\n</code></pre>\n<p>Now that the variables are private, it also gives an error, but when they were public it still didn't work.</p>\n<p>I also realise that going to read the whole file to overwrite only certain values is wrong, but I don't know any other way at the moment.</p>\n<p>What am I doing wrong?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":4,"creation_date":1641646676,"post_id":70632483,"comment_id":124861720,"body_markdown":"Did you check &quot;getErrorStream&quot;? Did you check the process exit code?","body":"Did you check &quot;getErrorStream&quot;? Did you check the process exit code?"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1641646995,"post_id":70632483,"comment_id":124861804,"body_markdown":"For the record, this works fine for me. How are you running it? If I run it from a terminal then I get the same value back that I get from just running `tput cols` if you run it from something that doesn&#39;t provide a terminal you might not get the expected results.","body":"For the record, this works fine for me. How are you running it? If I run it from a terminal then I get the same value back that I get from just running <code>tput cols</code> if you run it from something that doesn&#39;t provide a terminal you might not get the expected results."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641654133,"creation_date":1641654133,"answer_id":70633554,"question_id":70632483,"body_markdown":"You need to wait for the command to terminate. When you read the output of the `tput` command, it has not yet terminated and therefore there is not yet any output.\r\n\r\nI prefer using class `ProcessBuilder` rather than class `Runtime`.\r\n```java\r\nimport java.io.BufferedReader;\r\nimport java.io.InputStream;\r\nimport java.io.InputStreamReader;\r\n\r\npublic class PrcBldTs {\r\n    public static void main(String[] args) {\r\n        ProcessBuilder pb = new ProcessBuilder(&quot;tput&quot;, &quot;cols&quot;);\r\n        try {\r\n            Process p = pb.start();\r\n            InputStream is = p.getInputStream();\r\n            InputStreamReader isr = new InputStreamReader(is);\r\n            BufferedReader br = new BufferedReader(isr);\r\n            String line = br.readLine();\r\n            while (line != null) {\r\n                System.out.println(line);\r\n                line = br.readLine();\r\n            }\r\n            int result = p.waitFor();\r\n            System.out.println(&quot;result = &quot; + result);\r\n        }\r\n        catch (Exception x) {\r\n            x.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"Calling readAllBytes on an InputStream of a process returns empty byte array","body":"<p>You need to wait for the command to terminate. When you read the output of the <code>tput</code> command, it has not yet terminated and therefore there is not yet any output.</p>\n<p>I prefer using class <code>ProcessBuilder</code> rather than class <code>Runtime</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.BufferedReader;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\n\npublic class PrcBldTs {\n    public static void main(String[] args) {\n        ProcessBuilder pb = new ProcessBuilder(&quot;tput&quot;, &quot;cols&quot;);\n        try {\n            Process p = pb.start();\n            InputStream is = p.getInputStream();\n            InputStreamReader isr = new InputStreamReader(is);\n            BufferedReader br = new BufferedReader(isr);\n            String line = br.readLine();\n            while (line != null) {\n                System.out.println(line);\n                line = br.readLine();\n            }\n            int result = p.waitFor();\n            System.out.println(&quot;result = &quot; + result);\n        }\n        catch (Exception x) {\n            x.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9850087,"reputation":509,"user_id":7296427,"display_name":"Jason Lee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":839,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641654133,"creation_date":1641646418,"question_id":70632483,"body_markdown":"I&#39;m trying to get the terminal width by executing `tput cols` command and parse the output.\r\n\r\n```\r\npublic class Test {\r\n    public static void main(String[] args) throws IOException {\r\n        Process p = Runtime.getRuntime().exec(&quot;tput cols&quot;);\r\n        String output = new String(p.getInputStream().readAllBytes());\r\n        System.out.println(output);\r\n    }\r\n}\r\n```\r\n\r\nBut it outputs empty string.\r\nHowever, if I executes it in the terminal I can see the output.","title":"Calling readAllBytes on an InputStream of a process returns empty byte array","body":"<p>I'm trying to get the terminal width by executing <code>tput cols</code> command and parse the output.</p>\n<pre><code>public class Test {\n    public static void main(String[] args) throws IOException {\n        Process p = Runtime.getRuntime().exec(&quot;tput cols&quot;);\n        String output = new String(p.getInputStream().readAllBytes());\n        System.out.println(output);\n    }\n}\n</code></pre>\n<p>But it outputs empty string.\nHowever, if I executes it in the terminal I can see the output.</p>\n"},{"tags":["java","jdbc","netbeans","mariadb"],"comments":[{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1485690674,"post_id":41920474,"comment_id":71022001,"body_markdown":"what DBMS you are using, MySql or what?","body":"what DBMS you are using, MySql or what?"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1485690733,"post_id":41920474,"comment_id":71022012,"body_markdown":"Take a look here : http://stackoverflow.com/questions/23020857/connect-to-mariadb-from-java-application-in-netbeans-on-linux-mageia","body":"Take a look here : <a href=\"http://stackoverflow.com/questions/23020857/connect-to-mariadb-from-java-application-in-netbeans-on-linux-mageia\" title=\"connect to mariadb from java application in netbeans on linux mageia\">stackoverflow.com/questions/23020857/&hellip;</a>"},{"owner":{"account_id":10131494,"reputation":33,"user_id":7484724,"display_name":"Helio Ortega Neto"},"score":0,"creation_date":1485691062,"post_id":41920474,"comment_id":71022101,"body_markdown":"The answer given was right. I was missing the port. I don&#39;t know why he deleted it.","body":"The answer given was right. I was missing the port. I don&#39;t know why he deleted it."},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1485691108,"post_id":41920474,"comment_id":71022116,"body_markdown":"i&#39;m the one who make this, i thought it is another problem, for that i tried to ask some questions before","body":"i&#39;m the one who make this, i thought it is another problem, for that i tried to ask some questions before"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1485747781,"post_id":41920474,"comment_id":71037936,"body_markdown":"&quot;Does not work&quot; does not work for me.","body":"&quot;Does not work&quot; does not work for me."}],"answers":[{"tags":[],"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1485690575,"creation_date":1485690158,"answer_id":41920500,"question_id":41920474,"body_markdown":"You forgot the port number of your database :\r\n\r\n    this.host = &quot;jdbc:mariadb://localhost:port_number/bluebank&quot;;\r\n\r\nMake sure that your db connector jar, exist in the your jar libraries: https://mariadb.com/kb/en/mariadb/about-mariadb-connector-j/\r\n\r\nYou can learn more here :\r\n\r\nhttps://stackoverflow.com/questions/23020857/connect-to-mariadb-from-java-application-in-netbeans-on-linux-mageia\r\n\r\nHope this can help you\r\n","title":"No suitable driver found for jdbc:mariadb (Netbeans)","body":"<p>You forgot the port number of your database :</p>\n\n<pre><code>this.host = \"jdbc:mariadb://localhost:port_number/bluebank\";\n</code></pre>\n\n<p>Make sure that your db connector jar, exist in the your jar libraries: <a href=\"https://mariadb.com/kb/en/mariadb/about-mariadb-connector-j/\" rel=\"nofollow noreferrer\">https://mariadb.com/kb/en/mariadb/about-mariadb-connector-j/</a></p>\n\n<p>You can learn more here :</p>\n\n<p><a href=\"https://stackoverflow.com/questions/23020857/connect-to-mariadb-from-java-application-in-netbeans-on-linux-mageia\">Connect to MariaDB from Java application in NetBeans on Linux (Mageia)</a></p>\n\n<p>Hope this can help you</p>\n"},{"tags":[],"owner":{"account_id":117317,"reputation":11245,"user_id":307297,"accept_rate":62,"display_name":"chris01"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1600715960,"creation_date":1600715960,"answer_id":63998678,"question_id":41920474,"body_markdown":"Had something similar today. Worked in Eclipse, did not with pure Java.\r\n\r\nFor me it was important to have\r\n\r\n    Class.forName (&quot;org.mariadb.jdbc.Driver&quot;);\r\n\r\nto make it work everywhere.","title":"No suitable driver found for jdbc:mariadb (Netbeans)","body":"<p>Had something similar today. Worked in Eclipse, did not with pure Java.</p>\n<p>For me it was important to have</p>\n<pre><code>Class.forName (&quot;org.mariadb.jdbc.Driver&quot;);\n</code></pre>\n<p>to make it work everywhere.</p>\n"},{"tags":[],"owner":{"account_id":20339158,"reputation":9,"user_id":14919001,"display_name":"nicht_menschlich"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1641653926,"creation_date":1641653926,"answer_id":70633516,"question_id":41920474,"body_markdown":"**replace mariadb in the url with mysql:**\r\n\r\nI had this Problem myself: the solution was quite simple... MariaDB is basically still MySQL. In the Url you are using to connect to the Database (jdbc:mariadb://localhost:3306) you can therefore just use jdbc:mysql://localhost:3306 &lt;- i just replaced mariadb with mysql. It is still running on a mariadb server but it works so dont change it ;)\r\n\r\nStill i dont know why none of the other solutions have worked but at least it is a solution","title":"No suitable driver found for jdbc:mariadb (Netbeans)","body":"<p><strong>replace mariadb in the url with mysql:</strong></p>\n<p>I had this Problem myself: the solution was quite simple... MariaDB is basically still MySQL. In the Url you are using to connect to the Database (jdbc:mariadb://localhost:3306) you can therefore just use jdbc:mysql://localhost:3306 &lt;- i just replaced mariadb with mysql. It is still running on a mariadb server but it works so dont change it ;)</p>\n<p>Still i dont know why none of the other solutions have worked but at least it is a solution</p>\n"}],"owner":{"account_id":10131494,"reputation":33,"user_id":7484724,"display_name":"Helio Ortega Neto"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13101,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":41920500,"answer_count":3,"score":3,"last_activity_date":1641653926,"creation_date":1485689952,"question_id":41920474,"body_markdown":"I&#39;m using the `mariadb-java-client-1.5.7.jar` connector for MariaDB, and it does not work. \r\n\r\nHere&#39;s the connection code:\r\n\r\n        public DataAccess() throws SQLException, ClassNotFoundException {\r\n            this.driver = &quot;org.mariadb.jdbc.Driver&quot;;\r\n            this.host = &quot;jdbc:mariadb://localhost/bluebank&quot;;\r\n            this.user = &quot;root&quot;;\r\n            this.password = &quot;&quot;; \r\n            Class.forName(this.driver);\r\n            this.conn = DriverManager.getConnection(this.host, this.user, this.password);\r\n        }\r\n\r\nI get:\r\n\r\n        java.sql.SQLException: No suitable driver found for jdbc:mariadb://localhost/bluebank\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:689)\r\n    \tat java.sql.DriverManager.getConnection(DriverManager.java:247)\r\n    \tat DAO.DataAccess.&lt;init&gt;(DataAccess.java:31)\r\n\r\nApart from adding as an external jar to the libraries, I&#39;ve added it as a driver to the databases in (Services) in Netbeans. Also, if I remove the `Class.forName()`, it doesn&#39;t work as well.","title":"No suitable driver found for jdbc:mariadb (Netbeans)","body":"<p>I'm using the <code>mariadb-java-client-1.5.7.jar</code> connector for MariaDB, and it does not work. </p>\n\n<p>Here's the connection code:</p>\n\n<pre><code>    public DataAccess() throws SQLException, ClassNotFoundException {\n        this.driver = \"org.mariadb.jdbc.Driver\";\n        this.host = \"jdbc:mariadb://localhost/bluebank\";\n        this.user = \"root\";\n        this.password = \"\"; \n        Class.forName(this.driver);\n        this.conn = DriverManager.getConnection(this.host, this.user, this.password);\n    }\n</code></pre>\n\n<p>I get:</p>\n\n<pre><code>    java.sql.SQLException: No suitable driver found for jdbc:mariadb://localhost/bluebank\n    at java.sql.DriverManager.getConnection(DriverManager.java:689)\n    at java.sql.DriverManager.getConnection(DriverManager.java:247)\n    at DAO.DataAccess.&lt;init&gt;(DataAccess.java:31)\n</code></pre>\n\n<p>Apart from adding as an external jar to the libraries, I've added it as a driver to the databases in (Services) in Netbeans. Also, if I remove the <code>Class.forName()</code>, it doesn't work as well.</p>\n"},{"tags":["java","eclipse","maven"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1641309899,"post_id":70581144,"comment_id":124768948,"body_markdown":"Just, I don&#39;t know if [tag:java] tag should be on the question, maybe I should remove it from actual tags","body":"Just, I don&#39;t know if <a href=\"https://stackoverflow.com/questions/tagged/java\">java</a> tag should be on the question, maybe I should remove it from actual tags"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1641311933,"post_id":70581144,"comment_id":124769843,"body_markdown":"Why do you change the outputDirectory of the maven-jar-plugin that does not make sense.. ? for what purpose? (please use text and no images!)...","body":"Why do you change the outputDirectory of the maven-jar-plugin that does not make sense.. ? for what purpose? (please use text and no images!)..."},{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1641312420,"post_id":70581144,"comment_id":124770036,"body_markdown":"I use this after seeing SO post, and because it works. Also, I show image because there isn&#39;t any informations except &quot;Unkown&quot; and the error isn&#39;t on specific code","body":"I use this after seeing SO post, and because it works. Also, I show image because there isn&#39;t any informations except &quot;Unkown&quot; and the error isn&#39;t on specific code"},{"owner":{"account_id":7172249,"reputation":8197,"user_id":5479362,"accept_rate":48,"display_name":"9ilsdx 9rvj 0lo"},"score":0,"creation_date":1641313431,"post_id":70581144,"comment_id":124770458,"body_markdown":"Maven integration works terrible in Eclipse. Eclipse is notorious about showing errors where there are none. Just ignore it. You can also submit bug report, but then they will most likely ignore it.","body":"Maven integration works terrible in Eclipse. Eclipse is notorious about showing errors where there are none. Just ignore it. You can also submit bug report, but then they will most likely ignore it."}],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1641653884,"creation_date":1641653884,"answer_id":70633512,"question_id":70581144,"body_markdown":"Before I was running Eclipse with Java 8.\r\n\r\nSo, I :\r\n- Update Eclipse as latest (2021-12)\r\n- Use Java 16 instead of Java 8\r\n- Made some changes of Eclipse options because of upgrades\r\n\r\nAnd now, I don&#39;t know exactly why but it disappear. I&#39;m thinking it&#39;s because of the Java version, but it&#39;s not sure.","title":"&quot;Unknown&quot; error in eclipse while adding maven-jar-plugin maven plugin","body":"<p>Before I was running Eclipse with Java 8.</p>\n<p>So, I :</p>\n<ul>\n<li>Update Eclipse as latest (2021-12)</li>\n<li>Use Java 16 instead of Java 8</li>\n<li>Made some changes of Eclipse options because of upgrades</li>\n</ul>\n<p>And now, I don't know exactly why but it disappear. I'm thinking it's because of the Java version, but it's not sure.</p>\n"}],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":308,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70633512,"answer_count":1,"score":0,"last_activity_date":1641653884,"creation_date":1641309867,"question_id":70581144,"body_markdown":"I have multiple maven project. To change where the compiled jar is exported, I&#39;m using `maven-jar-plugin` plugin like that :\r\n```xml\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;outputDirectory&gt;${export_dir}&lt;/outputDirectory&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\nI use &quot;*Maven -&gt; Update project*&quot;. Now, I can run the `mvn install` and it will works.\r\n\r\nBUT, Eclipse show this error:\r\n\r\n![enter image description here][1]\r\n\r\nThe TOP of the file is :\r\n![enter image description here][2]\r\n\r\nThe full `pom.xml` file :\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;my.package&lt;/groupId&gt;\r\n    &lt;artifactId&gt;myproject&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n\r\n    &lt;name&gt;my-project&lt;/name&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;${java.version}&lt;/source&gt;\r\n                    &lt;target&gt;${java.version}&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;3.2.0&lt;/version&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;outputDirectory&gt;${export_dir}&lt;/outputDirectory&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;spigot-repo&lt;/id&gt;\r\n            &lt;url&gt;https://hub.spigotmc.org/nexus/content/repositories/snapshots/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;sonatype&lt;/id&gt;\r\n            &lt;url&gt;https://oss.sonatype.org/content/groups/public/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.spigotmc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spigot-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.8.8-R0.1-SNAPSHOT&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nAnd if I remove this plugin, then update project, the error disappear.\r\n\r\nMy eclipse version: *Version: Oxygen.3a Release (4.7.3a), Build id: 20180405-1200* (because it was the last without Java 16 required)\r\n\r\nDo you know how can I remove it ?\r\n\r\n  [1]: https://i.stack.imgur.com/tqTBk.png\r\n  [2]: https://i.stack.imgur.com/T7503.png","title":"&quot;Unknown&quot; error in eclipse while adding maven-jar-plugin maven plugin","body":"<p>I have multiple maven project. To change where the compiled jar is exported, I'm using <code>maven-jar-plugin</code> plugin like that :</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.2.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;outputDirectory&gt;${export_dir}&lt;/outputDirectory&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>I use &quot;<em>Maven -&gt; Update project</em>&quot;. Now, I can run the <code>mvn install</code> and it will works.</p>\n<p>BUT, Eclipse show this error:</p>\n<p><img src=\"https://i.stack.imgur.com/tqTBk.png\" alt=\"enter image description here\" /></p>\n<p>The TOP of the file is :\n<img src=\"https://i.stack.imgur.com/T7503.png\" alt=\"enter image description here\" /></p>\n<p>The full <code>pom.xml</code> file :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;my.package&lt;/groupId&gt;\n    &lt;artifactId&gt;myproject&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;my-project&lt;/name&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;${java.version}&lt;/source&gt;\n                    &lt;target&gt;${java.version}&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;outputDirectory&gt;${export_dir}&lt;/outputDirectory&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n    &lt;/build&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;spigot-repo&lt;/id&gt;\n            &lt;url&gt;https://hub.spigotmc.org/nexus/content/repositories/snapshots/&lt;/url&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;sonatype&lt;/id&gt;\n            &lt;url&gt;https://oss.sonatype.org/content/groups/public/&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.spigotmc&lt;/groupId&gt;\n            &lt;artifactId&gt;spigot-api&lt;/artifactId&gt;\n            &lt;version&gt;1.8.8-R0.1-SNAPSHOT&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>And if I remove this plugin, then update project, the error disappear.</p>\n<p>My eclipse version: <em>Version: Oxygen.3a Release (4.7.3a), Build id: 20180405-1200</em> (because it was the last without Java 16 required)</p>\n<p>Do you know how can I remove it ?</p>\n"},{"tags":["java","mariadb"],"comments":[{"owner":{"account_id":10863409,"reputation":531,"user_id":7987622,"display_name":"Andr&#233; Carvalho"},"score":0,"creation_date":1557099613,"post_id":55996179,"comment_id":98641567,"body_markdown":"check if the jar is included in your maven project dependencies. Your code is correct. Also try to hit alt + f5 to update your project with the dependencies you added in the pom","body":"check if the jar is included in your maven project dependencies. Your code is correct. Also try to hit alt + f5 to update your project with the dependencies you added in the pom"},{"owner":{"account_id":14097749,"reputation":135,"user_id":10183957,"display_name":"Ray"},"score":0,"creation_date":1557130480,"post_id":55996179,"comment_id":98648815,"body_markdown":"@Andr&#233;Carvalho if I use `mvn dependency:tree`, I get `org.mariadb.jdbc:mariadb-java-client:jar:1.1.7:compile`. So I guess the jar file is included.","body":"@Andr&#233;Carvalho if I use <code>mvn dependency:tree</code>, I get <code>org.mariadb.jdbc:mariadb-java-client:jar:1.1.7:compile</code>. So I guess the jar file is included."}],"answers":[{"tags":[],"owner":{"account_id":5896787,"reputation":5103,"user_id":4641680,"accept_rate":55,"display_name":"Reza Saadati"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1557763227,"creation_date":1557763227,"answer_id":56116000,"question_id":55996179,"body_markdown":"You are using the wrong jar file. The source won&#39;t help you out.\r\n\r\nInstead of `mariadb-java-client-2.4.1-sources.jar`, try using `mariadb-java-client-2.4.1.jar`.","title":"Can&#39;t get the connection to MariaDB","body":"<p>You are using the wrong jar file. The source won't help you out.</p>\n\n<p>Instead of <code>mariadb-java-client-2.4.1-sources.jar</code>, try using <code>mariadb-java-client-2.4.1.jar</code>.</p>\n"},{"tags":[],"owner":{"account_id":20339158,"reputation":9,"user_id":14919001,"display_name":"nicht_menschlich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641653694,"creation_date":1641653694,"answer_id":70633485,"question_id":55996179,"body_markdown":"I had this Problem myself:\r\nthe solution was quite simple... MariaDB is basically still MySQL. In the Url you are using to connect to the Database (jdbc:mariadb://localhost:3306) you can therefore just use jdbc:mysql://localhost:3306 &lt;- i just replaced mariadb with mysql. It is still running on a mariadb server but it works so dont change it ;)","title":"Can&#39;t get the connection to MariaDB","body":"<p>I had this Problem myself:\nthe solution was quite simple... MariaDB is basically still MySQL. In the Url you are using to connect to the Database (jdbc:mariadb://localhost:3306) you can therefore just use jdbc:mysql://localhost:3306 &lt;- i just replaced mariadb with mysql. It is still running on a mariadb server but it works so dont change it ;)</p>\n"}],"owner":{"account_id":14097749,"reputation":135,"user_id":10183957,"display_name":"Ray"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4001,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56116000,"answer_count":2,"score":1,"last_activity_date":1641653694,"creation_date":1557088512,"question_id":55996179,"body_markdown":"I would like to use my MariaDB database but I get the error message:\r\n\r\n&gt; java.lang.ClassNotFoundException: org.mariadb.jdbc.Driver\r\n\r\nMy **pom.xml** includes:\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\r\n            &lt;version&gt;1.1.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nAlso I have downloaded the file `mariadb-java-client-2.4.1-sources.jar` and placed it into WEB-INF/lib.\r\n\r\n**Database.java**\r\n\r\n    package ch.yourclick.zt;\r\n    \r\n    import java.sql.*;\r\n    \r\n        public class Database {\r\n            public static void main(String[] args) throws ClassNotFoundException, SQLException {\r\n                // Ensure we have mariadb Driver in classpath\r\n                Class.forName(&quot;org.mariadb.jdbc.Driver&quot;);\r\n        \r\n                // create our mysql database connection\r\n                String host = &quot;localhost&quot;;\r\n                String dbname = &quot;zt_productions&quot;;\r\n                String url = &quot;jdbc:mariadb://&quot; + host + &quot;/&quot; + dbname;\r\n                String username = &quot;root&quot;;\r\n                String password = &quot;test&quot;;\r\n                Connection conn = DriverManager.getConnection(url, username, password);\r\n        \r\n                // our SQL SELECT query.\r\n                // if you only need a few columns, specify them by name instead of using &quot;*&quot;\r\n                String query = &quot;SELECT * FROM users&quot;;\r\n        \r\n                // create the java statement\r\n                Statement st = conn.createStatement();\r\n        \r\n                st.close();\r\n            }\r\n        }\r\n\r\nI also tried it with `Class.forName(&quot;org.mariadb.jdbc.Driver&quot;).newInstance();`.\r\n\r\nNo matter what I try, I always get the same error message. Any help would be appreciated.","title":"Can&#39;t get the connection to MariaDB","body":"<p>I would like to use my MariaDB database but I get the error message:</p>\n\n<blockquote>\n  <p>java.lang.ClassNotFoundException: org.mariadb.jdbc.Driver</p>\n</blockquote>\n\n<p>My <strong>pom.xml</strong> includes:</p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\n        &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\n        &lt;version&gt;1.1.7&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p>Also I have downloaded the file <code>mariadb-java-client-2.4.1-sources.jar</code> and placed it into WEB-INF/lib.</p>\n\n<p><strong>Database.java</strong></p>\n\n<pre><code>package ch.yourclick.zt;\n\nimport java.sql.*;\n\n    public class Database {\n        public static void main(String[] args) throws ClassNotFoundException, SQLException {\n            // Ensure we have mariadb Driver in classpath\n            Class.forName(\"org.mariadb.jdbc.Driver\");\n\n            // create our mysql database connection\n            String host = \"localhost\";\n            String dbname = \"zt_productions\";\n            String url = \"jdbc:mariadb://\" + host + \"/\" + dbname;\n            String username = \"root\";\n            String password = \"test\";\n            Connection conn = DriverManager.getConnection(url, username, password);\n\n            // our SQL SELECT query.\n            // if you only need a few columns, specify them by name instead of using \"*\"\n            String query = \"SELECT * FROM users\";\n\n            // create the java statement\n            Statement st = conn.createStatement();\n\n            st.close();\n        }\n    }\n</code></pre>\n\n<p>I also tried it with <code>Class.forName(\"org.mariadb.jdbc.Driver\").newInstance();</code>.</p>\n\n<p>No matter what I try, I always get the same error message. Any help would be appreciated.</p>\n"},{"tags":["java","build"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1641662632,"post_id":70633392,"comment_id":124865654,"body_markdown":"That is usually not possible (especially not for libraries like log4j), as they usually rely on reflection and runtime configuration, making it impossible to decide at compile/assembly time what actually gets used or not. In any case, asking for tool suggestions is off-topic.","body":"That is usually not possible (especially not for libraries like log4j), as they usually rely on reflection and runtime configuration, making it impossible to decide at compile/assembly time what actually gets used or not. In any case, asking for tool suggestions is off-topic."},{"owner":{"account_id":259830,"reputation":2051,"user_id":542981,"accept_rate":30,"display_name":"carfield"},"score":0,"creation_date":1641775150,"post_id":70633392,"comment_id":124887672,"body_markdown":"I see, thanks, btw where is a good place to ask for tool suggestions?","body":"I see, thanks, btw where is a good place to ask for tool suggestions?"}],"owner":{"account_id":259830,"reputation":2051,"user_id":542981,"accept_rate":30,"display_name":"carfield"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641653015,"creation_date":1641653015,"question_id":70633392,"body_markdown":"Is there a maven plugin that will package all libraries I use ( like fatjar ) but it only includes the class that I  used, so that I don&#39;t need to care about issues like log4j vulnerability if I don&#39;t use JNDI?","title":"build fatjar only with class used","body":"<p>Is there a maven plugin that will package all libraries I use ( like fatjar ) but it only includes the class that I  used, so that I don't need to care about issues like log4j vulnerability if I don't use JNDI?</p>\n"},{"tags":["java","android","appium","adb"],"answers":[{"tags":[],"owner":{"account_id":7865489,"reputation":380,"user_id":5944412,"display_name":"Bipin Kumar Chaurasia"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641652865,"creation_date":1641652865,"answer_id":70633372,"question_id":70621843,"body_markdown":"You are getting following error as, `Stderr: &#39;adb.exe: device unauthorized&#39;`.\r\nCan you please check with `adb devices` on terminal/ shell and verify if you are getting `unauthorized` status?\r\nIf yes, please follow this [link][1] to get it resolved and then run your automated script again.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/23081263/adb-android-device-unauthorized","title":"org.openqa.selenium.SessionNotCreatedException with Appium","body":"<p>You are getting following error as, <code>Stderr: 'adb.exe: device unauthorized'</code>.\nCan you please check with <code>adb devices</code> on terminal/ shell and verify if you are getting <code>unauthorized</code> status?\nIf yes, please follow this <a href=\"https://stackoverflow.com/questions/23081263/adb-android-device-unauthorized\">link</a> to get it resolved and then run your automated script again.</p>\n"}],"owner":{"account_id":22636254,"reputation":327,"user_id":16813026,"display_name":"enthusiasticCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2513,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70633372,"answer_count":1,"score":0,"last_activity_date":1641652865,"creation_date":1641561410,"question_id":70621843,"body_markdown":"Now, I am a complete novice when it comes to Appium, and I am trying to launch a device and open an application on it. But when I run the code I get this error, now I am not at all sure what the issue is, maybe it has something to do with the Appium server but not sure how do I go about fixing it. Here is my code implementation.\r\n\r\n```public class AppiumDemoTests {\r\n    @Test\r\n    public void myFirstAppiumTest() throws MalformedURLException {\r\n        DesiredCapabilities capabilities = new DesiredCapabilities();\r\n        capabilities.setCapability(MobileCapabilityType.APP, System.getProperty(&quot;user.dir&quot;) + &quot;/ApiDemos-debug.apk&quot;);\r\n\r\n        AndroidDriver&lt;AndroidElement&gt; driver = new AndroidDriver(new URL(&quot;http://127.0.0.1:4723/wd/hub&quot;), capabilities);\r\n    }\r\n}\r\n```\r\n\r\nAnd here is the error that I am getting.\r\n\r\n```\r\norg.openqa.selenium.SessionNotCreatedException: Unable to create a new remote session. Please check the server log for more details. Original error: An unknown server-side error occurred while processing the command. Original error: Error getting device API level. Original error: Error executing adbExec. Original error: &#39;Command &#39;&#39;C:\\\\Users\\\\ABC\\\\AppData\\\\Local\\\\Android\\\\Sdk\\\\platform-tools\\\\adb.exe&#39; -P 5037 -s emulator-5554 shell getprop ro.build.version.sdk&#39; exited with code 1&#39;; Stderr: &#39;adb.exe: device unauthorized.\r\nThis adb server&#39;s $ADB_VENDOR_KEYS is not set\r\nTry &#39;adb kill-server&#39; if that seems wrong.\r\nOtherwise check for a confirmation dialog on your device.&#39;; Code: &#39;1&#39;\r\nBuild info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\nSystem info: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_312&#39;\r\nDriver info: driver.version: AndroidDriver\r\nremote stacktrace: UnknownError: An unknown server-side error occurred while processing the command. Original error: Error getting device API level. Original error: Error executing adbExec. Original error: &#39;Command &#39;&#39;C:\\\\Users\\\\ABC\\\\AppData\\\\Local\\\\Android\\\\Sdk\\\\platform-tools\\\\adb.exe&#39; -P 5037 -s emulator-5554 shell getprop ro.build.version.sdk&#39; exited with code 1&#39;; Stderr: &#39;adb.exe: device unauthorized.\r\nThis adb server&#39;s $ADB_VENDOR_KEYS is not set\r\nTry &#39;adb kill-server&#39; if that seems wrong.\r\nOtherwise check for a confirmation dialog on your device.&#39;; Code: &#39;1&#39;\r\n    at getResponseForW3CError (C:\\Users\\ABC\\AppData\\Local\\Programs\\Appium Server GUI\\resources\\app\\node_modules\\appium\\node_modules\\appium-base-driver\\lib\\protocol\\errors.js:804:9)\r\n    at asyncHandler (C:\\Users\\ABC\\AppData\\Local\\Programs\\Appium Server GUI\\resources\\app\\node_modules\\appium\\node_modules\\appium-base-driver\\lib\\protocol\\protocol.js:380:37)\r\nBuild info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\nSystem info: host: &#39;DESKTOP-R3JT7MO&#39;, ip: &#39;192.168.0.103&#39;, os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_312&#39;\r\nDriver info: driver.version: AndroidDriver\r\n\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor$1.createSession(AppiumCommandExecutor.java:216)\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor.createSession(AppiumCommandExecutor.java:225)\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:250)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\r\n\tat io.appium.java_client.DefaultGenericMobileDriver.execute(DefaultGenericMobileDriver.java:41)\r\n\tat io.appium.java_client.AppiumDriver.execute(AppiumDriver.java:1)\r\n\tat io.appium.java_client.android.AndroidDriver.execute(AndroidDriver.java:1)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:213)\r\n\tat io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:363)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:131)\r\n\tat io.appium.java_client.DefaultGenericMobileDriver.&lt;init&gt;(DefaultGenericMobileDriver.java:37)\r\n\tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:89)\r\n\tat io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:99)\r\n\tat io.appium.java_client.android.AndroidDriver.&lt;init&gt;(AndroidDriver.java:97)\r\n\tat AppiumDemoTests.myFirstAppiumTest(AppiumDemoTests.java:16)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\r\n\tat org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:598)\r\n\tat org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\r\n\tat org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\r\n\tat org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\r\n\tat org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\r\n\tat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\r\n\tat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\r\n\tat java.util.ArrayList.forEach(ArrayList.java:1259)\r\n\tat org.testng.TestRunner.privateRun(TestRunner.java:794)\r\n\tat org.testng.TestRunner.run(TestRunner.java:596)\r\n\tat org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\r\n\tat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\r\n\tat org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\r\n\tat org.testng.SuiteRunner.run(SuiteRunner.java:276)\r\n\tat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\r\n\tat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\r\n\tat org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\r\n\tat org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\r\n\tat org.testng.TestNG.runSuites(TestNG.java:1063)\r\n\tat org.testng.TestNG.run(TestNG.java:1031)\r\n\tat com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\r\n\tat com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\r\nCaused by: java.lang.reflect.InvocationTargetException\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat io.appium.java_client.remote.AppiumCommandExecutor$1.createSession(AppiumCommandExecutor.java:193)\r\n\t\r\nCaused by: org.openqa.selenium.WebDriverException: An unknown server-side error occurred while processing the command. Original error: Error getting device API level. Original error: Error executing adbExec. Original error: &#39;Command &#39;&#39;C:\\\\Users\\\\ABC\\\\AppData\\\\Local\\\\Android\\\\Sdk\\\\platform-tools\\\\adb.exe&#39; -P 5037 -s emulator-5554 shell getprop ro.build.version.sdk&#39; exited with code 1&#39;; Stderr: &#39;adb.exe: device unauthorized.\r\nThis adb server&#39;s $ADB_VENDOR_KEYS is not set\r\nTry &#39;adb kill-server&#39; if that seems wrong.\r\nOtherwise check for a confirmation dialog on your device.&#39;; Code: &#39;1&#39;\r\nBuild info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\nSystem info: host: os.name: &#39;Windows 10&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;10.0&#39;, java.version: &#39;1.8.0_312&#39;\r\nDriver info: driver.version: AndroidDriver\r\nremote stacktrace: UnknownError: An unknown server-side error occurred while processing the command. Original error: Error getting device API level. Original error: Error executing adbExec. Original error: &#39;Command &#39;&#39;C:\\\\Users\\\\ABC\\\\AppData\\\\Local\\\\Android\\\\Sdk\\\\platform-tools\\\\adb.exe&#39; -P 5037 -s emulator-5554 shell getprop ro.build.version.sdk&#39; exited with code 1&#39;; Stderr: &#39;adb.exe: device unauthorized.\r\nThis adb server&#39;s $ADB_VENDOR_KEYS is not set\r\nTry &#39;adb kill-server&#39; if that seems wrong.\r\nOtherwise check for a confirmation dialog on your device.&#39;; Code: &#39;1&#39;\r\n    at getResponseForW3CError (C:\\Users\\ABC\\AppData\\Local\\Programs\\Appium Server GUI\\resources\\app\\node_modules\\appium\\node_modules\\appium-base-driver\\lib\\protocol\\errors.js:804:9)\r\n    at asyncHandler (C:\\Users\\ABC\\AppData\\Local\\Programs\\Appium Server GUI\\resources\\app\\node_modules\\appium\\node_modules\\appium-base-driver\\lib\\protocol\\protocol.js:380:37)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\tat sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n\tat java.lang.reflect.Constructor.newInstance(Constructor.java:423)\r\n\tat org.openqa.selenium.remote.W3CHandshakeResponse.lambda$errorHandler$0(W3CHandshakeResponse.java:62)\r\n\tat org.openqa.selenium.remote.HandshakeResponse.lambda$getResponseFunction$0(HandshakeResponse.java:30)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.lambda$createSession$0(ProtocolHandshake.java:126)\r\n\tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\n\tat java.util.Spliterators$ArraySpliterator.tryAdvance(Spliterators.java:958)\r\n\tat java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:126)\r\n\tat java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:499)\r\n\tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:486)\r\n\tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\r\n\tat java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:152)\r\n\tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n\tat java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:531)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:128)\r\n    ```","title":"org.openqa.selenium.SessionNotCreatedException with Appium","body":"<p>Now, I am a complete novice when it comes to Appium, and I am trying to launch a device and open an application on it. But when I run the code I get this error, now I am not at all sure what the issue is, maybe it has something to do with the Appium server but not sure how do I go about fixing it. Here is my code implementation.</p>\n<pre><code>    @Test\n    public void myFirstAppiumTest() throws MalformedURLException {\n        DesiredCapabilities capabilities = new DesiredCapabilities();\n        capabilities.setCapability(MobileCapabilityType.APP, System.getProperty(&quot;user.dir&quot;) + &quot;/ApiDemos-debug.apk&quot;);\n\n        AndroidDriver&lt;AndroidElement&gt; driver = new AndroidDriver(new URL(&quot;http://127.0.0.1:4723/wd/hub&quot;), capabilities);\n    }\n}\n</code></pre>\n<p>And here is the error that I am getting.</p>\n<pre><code>org.openqa.selenium.SessionNotCreatedException: Unable to create a new remote session. Please check the server log for more details. Original error: An unknown server-side error occurred while processing the command. Original error: Error getting device API level. Original error: Error executing adbExec. Original error: 'Command ''C:\\\\Users\\\\ABC\\\\AppData\\\\Local\\\\Android\\\\Sdk\\\\platform-tools\\\\adb.exe' -P 5037 -s emulator-5554 shell getprop ro.build.version.sdk' exited with code 1'; Stderr: 'adb.exe: device unauthorized.\nThis adb server's $ADB_VENDOR_KEYS is not set\nTry 'adb kill-server' if that seems wrong.\nOtherwise check for a confirmation dialog on your device.'; Code: '1'\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\nSystem info: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_312'\nDriver info: driver.version: AndroidDriver\nremote stacktrace: UnknownError: An unknown server-side error occurred while processing the command. Original error: Error getting device API level. Original error: Error executing adbExec. Original error: 'Command ''C:\\\\Users\\\\ABC\\\\AppData\\\\Local\\\\Android\\\\Sdk\\\\platform-tools\\\\adb.exe' -P 5037 -s emulator-5554 shell getprop ro.build.version.sdk' exited with code 1'; Stderr: 'adb.exe: device unauthorized.\nThis adb server's $ADB_VENDOR_KEYS is not set\nTry 'adb kill-server' if that seems wrong.\nOtherwise check for a confirmation dialog on your device.'; Code: '1'\n    at getResponseForW3CError (C:\\Users\\ABC\\AppData\\Local\\Programs\\Appium Server GUI\\resources\\app\\node_modules\\appium\\node_modules\\appium-base-driver\\lib\\protocol\\errors.js:804:9)\n    at asyncHandler (C:\\Users\\ABC\\AppData\\Local\\Programs\\Appium Server GUI\\resources\\app\\node_modules\\appium\\node_modules\\appium-base-driver\\lib\\protocol\\protocol.js:380:37)\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\nSystem info: host: 'DESKTOP-R3JT7MO', ip: '192.168.0.103', os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_312'\nDriver info: driver.version: AndroidDriver\n\n    at io.appium.java_client.remote.AppiumCommandExecutor$1.createSession(AppiumCommandExecutor.java:216)\n    at io.appium.java_client.remote.AppiumCommandExecutor.createSession(AppiumCommandExecutor.java:225)\n    at io.appium.java_client.remote.AppiumCommandExecutor.execute(AppiumCommandExecutor.java:250)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:552)\n    at io.appium.java_client.DefaultGenericMobileDriver.execute(DefaultGenericMobileDriver.java:41)\n    at io.appium.java_client.AppiumDriver.execute(AppiumDriver.java:1)\n    at io.appium.java_client.android.AndroidDriver.execute(AndroidDriver.java:1)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:213)\n    at io.appium.java_client.AppiumDriver.startSession(AppiumDriver.java:363)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:131)\n    at io.appium.java_client.DefaultGenericMobileDriver.&lt;init&gt;(DefaultGenericMobileDriver.java:37)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:89)\n    at io.appium.java_client.AppiumDriver.&lt;init&gt;(AppiumDriver.java:99)\n    at io.appium.java_client.android.AndroidDriver.&lt;init&gt;(AndroidDriver.java:97)\n    at AppiumDemoTests.myFirstAppiumTest(AppiumDemoTests.java:16)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:133)\n    at org.testng.internal.TestInvoker.invokeMethod(TestInvoker.java:598)\n    at org.testng.internal.TestInvoker.invokeTestMethod(TestInvoker.java:173)\n    at org.testng.internal.MethodRunner.runInSequence(MethodRunner.java:46)\n    at org.testng.internal.TestInvoker$MethodInvocationAgent.invoke(TestInvoker.java:824)\n    at org.testng.internal.TestInvoker.invokeTestMethods(TestInvoker.java:146)\n    at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:146)\n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:128)\n    at java.util.ArrayList.forEach(ArrayList.java:1259)\n    at org.testng.TestRunner.privateRun(TestRunner.java:794)\n    at org.testng.TestRunner.run(TestRunner.java:596)\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:377)\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:371)\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:332)\n    at org.testng.SuiteRunner.run(SuiteRunner.java:276)\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:53)\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:96)\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1212)\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1134)\n    at org.testng.TestNG.runSuites(TestNG.java:1063)\n    at org.testng.TestNG.run(TestNG.java:1031)\n    at com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\n    at com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\nCaused by: java.lang.reflect.InvocationTargetException\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at io.appium.java_client.remote.AppiumCommandExecutor$1.createSession(AppiumCommandExecutor.java:193)\n    \nCaused by: org.openqa.selenium.WebDriverException: An unknown server-side error occurred while processing the command. Original error: Error getting device API level. Original error: Error executing adbExec. Original error: 'Command ''C:\\\\Users\\\\ABC\\\\AppData\\\\Local\\\\Android\\\\Sdk\\\\platform-tools\\\\adb.exe' -P 5037 -s emulator-5554 shell getprop ro.build.version.sdk' exited with code 1'; Stderr: 'adb.exe: device unauthorized.\nThis adb server's $ADB_VENDOR_KEYS is not set\nTry 'adb kill-server' if that seems wrong.\nOtherwise check for a confirmation dialog on your device.'; Code: '1'\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\nSystem info: host: os.name: 'Windows 10', os.arch: 'amd64', os.version: '10.0', java.version: '1.8.0_312'\nDriver info: driver.version: AndroidDriver\nremote stacktrace: UnknownError: An unknown server-side error occurred while processing the command. Original error: Error getting device API level. Original error: Error executing adbExec. Original error: 'Command ''C:\\\\Users\\\\ABC\\\\AppData\\\\Local\\\\Android\\\\Sdk\\\\platform-tools\\\\adb.exe' -P 5037 -s emulator-5554 shell getprop ro.build.version.sdk' exited with code 1'; Stderr: 'adb.exe: device unauthorized.\nThis adb server's $ADB_VENDOR_KEYS is not set\nTry 'adb kill-server' if that seems wrong.\nOtherwise check for a confirmation dialog on your device.'; Code: '1'\n    at getResponseForW3CError (C:\\Users\\ABC\\AppData\\Local\\Programs\\Appium Server GUI\\resources\\app\\node_modules\\appium\\node_modules\\appium-base-driver\\lib\\protocol\\errors.js:804:9)\n    at asyncHandler (C:\\Users\\ABC\\AppData\\Local\\Programs\\Appium Server GUI\\resources\\app\\node_modules\\appium\\node_modules\\appium-base-driver\\lib\\protocol\\protocol.js:380:37)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:423)\n    at org.openqa.selenium.remote.W3CHandshakeResponse.lambda$errorHandler$0(W3CHandshakeResponse.java:62)\n    at org.openqa.selenium.remote.HandshakeResponse.lambda$getResponseFunction$0(HandshakeResponse.java:30)\n    at org.openqa.selenium.remote.ProtocolHandshake.lambda$createSession$0(ProtocolHandshake.java:126)\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n    at java.util.Spliterators$ArraySpliterator.tryAdvance(Spliterators.java:958)\n    at java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:126)\n    at java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:499)\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:486)\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)\n    at java.util.stream.FindOps$FindOp.evaluateSequential(FindOps.java:152)\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.util.stream.ReferencePipeline.findFirst(ReferencePipeline.java:531)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:128)\n    ```\n</code></pre>\n"},{"tags":["java","java-8","sum","java-stream"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1641649700,"post_id":70632508,"comment_id":124862412,"body_markdown":"Nobody forces you to use the stream API (to solve this efficient via stream API I think you would need a touple type that can be summed-up in a stream). Some times a good old `for` loop that sums up width and height may be easier and even smaller.","body":"Nobody forces you to use the stream API (to solve this efficient via stream API I think you would need a touple type that can be summed-up in a stream). Some times a good old <code>for</code> loop that sums up width and height may be easier and even smaller."}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1641651898,"creation_date":1641651554,"answer_id":70633183,"question_id":70632508,"body_markdown":"First, the loop version seems to be more appropriate for this task which aggregates over two fields (sum by `height` and `weight`), **and** modifies the state of empty `name` fields while traversing the input collection because it ensures only one pass over the entire input.\r\n\r\nTherefore, &quot;stateful&quot; stream operation as `forEach` should be used for this entire task but this does not make significant difference with usual `for-each` loop.  Generally, use of such side-effect operations is [NOT recommended](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/package-summary.html#Statelessness):\r\n&gt; _Side-effects in behavioral parameters to stream operations are, in general, discouraged, as they can often lead to unwitting violations of the statelessness requirement, as well as other thread-safety hazards.\r\n_\r\n\r\nSo, if the task is split into two separate subtasks, resolving each task separately using Stream API would be more appropriate.\r\n1. Aggregate the multiple fields using a container for the aggregated fields (the container can be implemented as a separate object/record, or array/collection of the fields).\r\n\r\nExample using Java 16+ `record` and [`Stream::reduce(BinaryOperator&lt;T&gt; accumulator)`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#reduce(java.util.function.BinaryOperator)):\r\n```java\r\nrecord SumHeightWeight(int weight, int height) {\r\n    SumHeightWeight sum(SumHeightWeight that) {\r\n        return new SumHeightWeight(\r\n            this.weight() + that.weight(),\r\n            this.height() + that.height()\r\n        );\r\n    }\r\n}\r\n\r\nPredicate&lt;TestVO&gt; nonEmptyName = t -&gt; !&quot;&quot;.equals(t.getName());\r\n\r\nSumHeightWeight sum = tmpList.stream()\r\n    .filter(nonEmptyName)\r\n    .map(t -&gt; new SumHeightWeight(t.getWeight(), t.getHeight()))\r\n    .reduce(SumHeightWeight::sum) // Optional&lt;SumHeightWeight&gt;\r\n    .orElseGet(()-&gt; new SumHeightWeight(0, 0));\r\nSystem.out.println(sum); // -&gt; SumHeightWeight[weight=102, height=102]\r\n```\r\n\r\n2. Update empty field when needed\r\n```java\r\ntmpList.stream()\r\n    .filter(Predicate.not(nonEmptyName))\r\n    .forEach(t -&gt; t.setName(&quot;No-Name&quot;));\r\n```\r\n","title":"Java Stream combining sum of two different variables","body":"<p>First, the loop version seems to be more appropriate for this task which aggregates over two fields (sum by <code>height</code> and <code>weight</code>), <strong>and</strong> modifies the state of empty <code>name</code> fields while traversing the input collection because it ensures only one pass over the entire input.</p>\n<p>Therefore, &quot;stateful&quot; stream operation as <code>forEach</code> should be used for this entire task but this does not make significant difference with usual <code>for-each</code> loop.  Generally, use of such side-effect operations is <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/package-summary.html#Statelessness\" rel=\"nofollow noreferrer\">NOT recommended</a>:</p>\n<blockquote>\n<p>_Side-effects in behavioral parameters to stream operations are, in general, discouraged, as they can often lead to unwitting violations of the statelessness requirement, as well as other thread-safety hazards.\n_</p>\n</blockquote>\n<p>So, if the task is split into two separate subtasks, resolving each task separately using Stream API would be more appropriate.</p>\n<ol>\n<li>Aggregate the multiple fields using a container for the aggregated fields (the container can be implemented as a separate object/record, or array/collection of the fields).</li>\n</ol>\n<p>Example using Java 16+ <code>record</code> and <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/Stream.html#reduce(java.util.function.BinaryOperator)\" rel=\"nofollow noreferrer\"><code>Stream::reduce(BinaryOperator&lt;T&gt; accumulator)</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>record SumHeightWeight(int weight, int height) {\n    SumHeightWeight sum(SumHeightWeight that) {\n        return new SumHeightWeight(\n            this.weight() + that.weight(),\n            this.height() + that.height()\n        );\n    }\n}\n\nPredicate&lt;TestVO&gt; nonEmptyName = t -&gt; !&quot;&quot;.equals(t.getName());\n\nSumHeightWeight sum = tmpList.stream()\n    .filter(nonEmptyName)\n    .map(t -&gt; new SumHeightWeight(t.getWeight(), t.getHeight()))\n    .reduce(SumHeightWeight::sum) // Optional&lt;SumHeightWeight&gt;\n    .orElseGet(()-&gt; new SumHeightWeight(0, 0));\nSystem.out.println(sum); // -&gt; SumHeightWeight[weight=102, height=102]\n</code></pre>\n<ol start=\"2\">\n<li>Update empty field when needed</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>tmpList.stream()\n    .filter(Predicate.not(nonEmptyName))\n    .forEach(t -&gt; t.setName(&quot;No-Name&quot;));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17505775,"reputation":3076,"user_id":12695027,"display_name":"Scratte"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1641651614,"creation_date":1641651614,"answer_id":70633192,"question_id":70632508,"body_markdown":"It can be done in just one run in a stream:\r\n\r\n- Replace the empty name\r\n- Remove those that had their name replaced\r\n- Map them to an array of [weight, height]\r\n- Reduce the arrays with addition.\r\n\r\nI changed the weight and height of the first two, so it&#39;s more obvious that the result is correct.\r\n\r\n```java\r\nimport java.util.List;\r\nimport java.util.ArrayList;\r\n\r\npublic class Testing {\r\n  public static void main(String[] args) {\r\n    List&lt;TestVO&gt; tmpList = new ArrayList&lt;&gt;();\r\n    tmpList.add(new TestVO(&quot;David&quot;, &quot;id1&quot;, 100, 200));\r\n    tmpList.add(new TestVO(&quot;&quot;, &quot;id2&quot;, 2048, 1024));\r\n    tmpList.add(new TestVO(&quot;Michael&quot;, &quot;id3&quot;, 12, 12));\r\n    tmpList.add(new TestVO(&quot;Jack&quot;, &quot;id4&quot;, 13, 13));\r\n    tmpList.add(new TestVO(&quot;Subodh&quot;, &quot;id5&quot;, 14, 14));\r\n    tmpList.add(new TestVO(&quot;&quot;, &quot;id6&quot;, 15, 15));\r\n    tmpList.add(new TestVO(&quot;Mrinal&quot;, &quot;id7&quot;, 16, 16));\r\n    tmpList.add(new TestVO(&quot;&quot;, &quot;id8&quot;, 17, 17));\r\n    tmpList.add(new TestVO(&quot;Eddie&quot;, &quot;id9&quot;, 18, 18));\r\n    tmpList.add(new TestVO(&quot;Peter&quot;, &quot;id10&quot;, 19, 19));\r\n\r\n    String NoName = &quot;No-Name&quot;;\r\n\r\n    int[] weigthHeight =\r\n            tmpList.stream()\r\n                    // modify the testVO\r\n                   .map(testVO -&gt; { if (testVO.getName().isEmpty()) {\r\n                                     testVO.setName(NoName);\r\n                                    }\r\n                                    return testVO;\r\n                    })\r\n                    // it changed them:\r\n                   .peek(testVO-&gt; System.out.println(testVO))\r\n                    // remove the ones we don&#39;t want anymore\r\n                   .filter(testVO-&gt; !NoName.equals(testVO.getName()))\r\n                    // make an array of the Weight and Height\r\n                   .map(testVO-&gt; new int[]{testVO.getWeight(), testVO.getHeight()})\r\n                    // reduce to one array with the sum of Weight and Height\r\n                   .reduce(new int[]{0,0}, (a,b) -&gt; add(a,b));\r\n\r\n      System.out.println(&quot;Weight: &quot; + weigthHeight[0]);\r\n      System.out.println(&quot;Height: &quot; + weigthHeight[1]);\r\n  }\r\n\r\n  static int[] add(int[] a, int[]b) {\r\n    a[0] = a[0] + b[0];\r\n    a[1] = a[1] + b[1];\r\n    return a;\r\n  }\r\n}\r\n```\r\nIt gives me this outout:\r\n```java\r\nName: David ID: id1 Height: 200 Weight: 100\r\nName: No-Name ID: id2 Height: 1024 Weight: 2048\r\nName: Michael ID: id3 Height: 12 Weight: 12\r\nName: Jack ID: id4 Height: 13 Weight: 13\r\nName: Subodh ID: id5 Height: 14 Weight: 14\r\nName: No-Name ID: id6 Height: 15 Weight: 15\r\nName: Mrinal ID: id7 Height: 16 Weight: 16\r\nName: No-Name ID: id8 Height: 17 Weight: 17\r\nName: Eddie ID: id9 Height: 18 Weight: 18\r\nName: Peter ID: id10 Height: 19 Weight: 19\r\nWeight: 192\r\nHeight: 292\r\n```\r\n\r\nI&#39;m not sure this is more readable nor transparent, than having one method that gets the weight and height, and another method that replaces the empty names.\r\n\r\nThis one run in a stream feels sort of &quot;hacky&quot;. It relies on changing the objects, which I perceive to be a side-effect. See [JavaDoc on Package java.util.stream](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/package-summary.html) about &quot;Side-effects&quot;. It starts with:\r\n\r\n&gt; Side-effects in behavioral parameters to stream operations are, in general, discouraged, as they can often lead to unwitting violations of the statelessness requirement, as well as other thread-safety hazards.","title":"Java Stream combining sum of two different variables","body":"<p>It can be done in just one run in a stream:</p>\n<ul>\n<li>Replace the empty name</li>\n<li>Remove those that had their name replaced</li>\n<li>Map them to an array of [weight, height]</li>\n<li>Reduce the arrays with addition.</li>\n</ul>\n<p>I changed the weight and height of the first two, so it's more obvious that the result is correct.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\nimport java.util.ArrayList;\n\npublic class Testing {\n  public static void main(String[] args) {\n    List&lt;TestVO&gt; tmpList = new ArrayList&lt;&gt;();\n    tmpList.add(new TestVO(&quot;David&quot;, &quot;id1&quot;, 100, 200));\n    tmpList.add(new TestVO(&quot;&quot;, &quot;id2&quot;, 2048, 1024));\n    tmpList.add(new TestVO(&quot;Michael&quot;, &quot;id3&quot;, 12, 12));\n    tmpList.add(new TestVO(&quot;Jack&quot;, &quot;id4&quot;, 13, 13));\n    tmpList.add(new TestVO(&quot;Subodh&quot;, &quot;id5&quot;, 14, 14));\n    tmpList.add(new TestVO(&quot;&quot;, &quot;id6&quot;, 15, 15));\n    tmpList.add(new TestVO(&quot;Mrinal&quot;, &quot;id7&quot;, 16, 16));\n    tmpList.add(new TestVO(&quot;&quot;, &quot;id8&quot;, 17, 17));\n    tmpList.add(new TestVO(&quot;Eddie&quot;, &quot;id9&quot;, 18, 18));\n    tmpList.add(new TestVO(&quot;Peter&quot;, &quot;id10&quot;, 19, 19));\n\n    String NoName = &quot;No-Name&quot;;\n\n    int[] weigthHeight =\n            tmpList.stream()\n                    // modify the testVO\n                   .map(testVO -&gt; { if (testVO.getName().isEmpty()) {\n                                     testVO.setName(NoName);\n                                    }\n                                    return testVO;\n                    })\n                    // it changed them:\n                   .peek(testVO-&gt; System.out.println(testVO))\n                    // remove the ones we don't want anymore\n                   .filter(testVO-&gt; !NoName.equals(testVO.getName()))\n                    // make an array of the Weight and Height\n                   .map(testVO-&gt; new int[]{testVO.getWeight(), testVO.getHeight()})\n                    // reduce to one array with the sum of Weight and Height\n                   .reduce(new int[]{0,0}, (a,b) -&gt; add(a,b));\n\n      System.out.println(&quot;Weight: &quot; + weigthHeight[0]);\n      System.out.println(&quot;Height: &quot; + weigthHeight[1]);\n  }\n\n  static int[] add(int[] a, int[]b) {\n    a[0] = a[0] + b[0];\n    a[1] = a[1] + b[1];\n    return a;\n  }\n}\n</code></pre>\n<p>It gives me this outout:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Name: David ID: id1 Height: 200 Weight: 100\nName: No-Name ID: id2 Height: 1024 Weight: 2048\nName: Michael ID: id3 Height: 12 Weight: 12\nName: Jack ID: id4 Height: 13 Weight: 13\nName: Subodh ID: id5 Height: 14 Weight: 14\nName: No-Name ID: id6 Height: 15 Weight: 15\nName: Mrinal ID: id7 Height: 16 Weight: 16\nName: No-Name ID: id8 Height: 17 Weight: 17\nName: Eddie ID: id9 Height: 18 Weight: 18\nName: Peter ID: id10 Height: 19 Weight: 19\nWeight: 192\nHeight: 292\n</code></pre>\n<p>I'm not sure this is more readable nor transparent, than having one method that gets the weight and height, and another method that replaces the empty names.</p>\n<p>This one run in a stream feels sort of &quot;hacky&quot;. It relies on changing the objects, which I perceive to be a side-effect. See <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/stream/package-summary.html\" rel=\"nofollow noreferrer\">JavaDoc on Package java.util.stream</a> about &quot;Side-effects&quot;. It starts with:</p>\n<blockquote>\n<p>Side-effects in behavioral parameters to stream operations are, in general, discouraged, as they can often lead to unwitting violations of the statelessness requirement, as well as other thread-safety hazards.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641652021,"creation_date":1641652021,"answer_id":70633265,"question_id":70632508,"body_markdown":"If you *really* want to do all of this in a stream instead of a loop:\r\n\r\n```java\r\n// sums[0] = total weight, sums[1] = total height\r\nint[] sums = tmpList.stream()\r\n    .reduce(new int[]{0, 0},\r\n            (acc, t) -&gt; {\r\n                if (t.getName().equals(&quot;&quot;)) {\r\n                    t.setName(&quot;No-Name&quot;);\r\n                    return acc;\r\n                } else {                    \r\n                    return new int[]{ acc[0] + t.getWeight(), acc[1] + t.getHeight()};\r\n                }\r\n            },\r\n            (a, b) -&gt; new int[]{ a[0] + b[0], a[1] + b[1] });\r\n```\r\n\r\nthough side-effects in stream operations are generally discouraged.","title":"Java Stream combining sum of two different variables","body":"<p>If you <em>really</em> want to do all of this in a stream instead of a loop:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// sums[0] = total weight, sums[1] = total height\nint[] sums = tmpList.stream()\n    .reduce(new int[]{0, 0},\n            (acc, t) -&gt; {\n                if (t.getName().equals(&quot;&quot;)) {\n                    t.setName(&quot;No-Name&quot;);\n                    return acc;\n                } else {                    \n                    return new int[]{ acc[0] + t.getWeight(), acc[1] + t.getHeight()};\n                }\n            },\n            (a, b) -&gt; new int[]{ a[0] + b[0], a[1] + b[1] });\n</code></pre>\n<p>though side-effects in stream operations are generally discouraged.</p>\n"}],"owner":{"account_id":282893,"reputation":1061,"user_id":580082,"display_name":"jlc488"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":716,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70633183,"answer_count":3,"score":2,"last_activity_date":1641652021,"creation_date":1641646592,"question_id":70632508,"body_markdown":"I have a question. \r\n\r\n```\r\npublic class TestVO {\r\n\r\n\tprivate String name;\r\n\tprivate String id;\r\n\tprivate int weight;\r\n\tprivate int height;\r\n\r\n\tpublic TestVO() {}\r\n\t\r\n\tpublic TestVO(String name, String id, int weight, int height) {\r\n\t\tthis.name = name;\r\n\t\tthis.id = id;\r\n\t\tthis.height = height;\r\n\t\tthis.weight = weight;\r\n\t}\r\n\t\r\n\tpublic int getWeight() {\r\n\t\treturn weight;\r\n\t}\r\n\r\n\tpublic void setWeight(int weight) {\r\n\t\tthis.weight = weight;\r\n\t}\r\n\r\n\tpublic int getHeight() {\r\n\t\treturn height;\r\n\t}\r\n\r\n\tpublic void setHeight(int height) {\r\n\t\tthis.height = height;\r\n\t}\r\n\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\r\n\tpublic void setName(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\r\n\tpublic String getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(String id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Name: &quot; + getName() + &quot; ID: &quot; + getId() + &quot; Height: &quot; + getHeight() + &quot; Weight: &quot; + getWeight();\r\n\t}\r\n\t\r\n}\r\n```\r\n```\r\nList&lt;TestVO&gt; tmpList = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\ttmpList.add(new TestVO(&quot;David&quot;, &quot;id1&quot;, 10, 10));\r\n\t\ttmpList.add(new TestVO(&quot;&quot;, &quot;id2&quot;, 11, 11));\r\n\t\ttmpList.add(new TestVO(&quot;Michael&quot;, &quot;id3&quot;, 12, 12));\r\n\t\ttmpList.add(new TestVO(&quot;Jack&quot;, &quot;id4&quot;, 13, 13));\r\n\t\ttmpList.add(new TestVO(&quot;Subodh&quot;, &quot;id5&quot;, 14, 14));\r\n\t\ttmpList.add(new TestVO(&quot;&quot;, &quot;id6&quot;, 15, 15));\r\n\t\ttmpList.add(new TestVO(&quot;Mrinal&quot;, &quot;id7&quot;, 16, 16));\r\n\t\ttmpList.add(new TestVO(&quot;&quot;, &quot;id8&quot;, 17, 17));\r\n\t\ttmpList.add(new TestVO(&quot;Eddie&quot;, &quot;id9&quot;, 18, 18));\r\n\t\ttmpList.add(new TestVO(&quot;Peter&quot;, &quot;id10&quot;, 19, 19));\r\n```\r\nWhat I want to do is that I want to iterate through the tmpList and find the sum of height and weight and add &quot;No-Name&quot; when the name is empty.\r\n\r\n```\r\n// below into stream \r\nint totalWeight = 0;\r\nint totalHeight = 0;\r\nfor (TestVO testVO : tmpList) {\r\n\tif( !&quot;&quot;.equals(testVO.getName())){\r\n\t\ttotalWeight += totalWeight;\r\n\t\ttotalHeight += totalHeight;\r\n\t}else {\r\n\t\ttestVO.setName(&quot;No-Name&quot;);\r\n\t}\r\n}\r\n```\r\n```\r\nMap&lt;Boolean, List&lt;TestVO&gt;&gt;tmpMap =  tmpList.stream()\r\n\t\t\t.collect(Collectors.partitioningBy(test -&gt; !&quot;&quot;.equals(test.getName())));\r\n\t\t\r\n\t\t\r\n\t\tint totalWeigt = tmpMap.get(true).stream()\r\n\t\t\t\t\t\t\t\t\t\t\t.mapToInt(test -&gt; test.getWeight())\r\n\t\t\t\t\t\t\t\t\t\t\t.sum();\r\n\t\t\r\n\t\tint totalHeight = tmpMap.get(true).stream()\r\n\t\t\t\t\t\t\t\t\t\t\t.mapToInt(test -&gt; test.getHeight())\r\n\t\t\t\t\t\t\t\t\t\t\t.sum();\r\n\t\t\t\r\n\t\ttmpMap.get(false).stream()\r\n\t\t\t\t\t\t\t.forEach(test -&gt; {\r\n\t\t\t\t\t\t\t\ttest.setName(&quot;No-Name&quot;);\r\n\t\t\t\t\t\t\t});\r\n\t\t\r\n        // method 1\r\n\t\tList&lt;TestVO&gt; tmpRet1 = Stream.of(tmpMap.get(true),  tmpMap.get(false)).flatMap(Collection::stream).collect(Collectors.toList());\r\n\t\t//method 2\r\n\t\tList&lt;TestVO&gt; tmpRet2 = Stream.concat(tmpMap.get(true).stream(), tmpMap.get(false).stream()).collect(Collectors.toList());  \r\n```\r\nI have worked so far and It does not seem to be right. I mean I have to iterate each cases.\r\n\r\nIs there any way to combine them all together? or any suggestions to make it better?\r\n\r\n\r\n","title":"Java Stream combining sum of two different variables","body":"<p>I have a question.</p>\n<pre><code>public class TestVO {\n\n    private String name;\n    private String id;\n    private int weight;\n    private int height;\n\n    public TestVO() {}\n    \n    public TestVO(String name, String id, int weight, int height) {\n        this.name = name;\n        this.id = id;\n        this.height = height;\n        this.weight = weight;\n    }\n    \n    public int getWeight() {\n        return weight;\n    }\n\n    public void setWeight(int weight) {\n        this.weight = weight;\n    }\n\n    public int getHeight() {\n        return height;\n    }\n\n    public void setHeight(int height) {\n        this.height = height;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getId() {\n        return id;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Name: &quot; + getName() + &quot; ID: &quot; + getId() + &quot; Height: &quot; + getHeight() + &quot; Weight: &quot; + getWeight();\n    }\n    \n}\n</code></pre>\n<pre><code>List&lt;TestVO&gt; tmpList = new ArrayList&lt;&gt;();\n        \n        tmpList.add(new TestVO(&quot;David&quot;, &quot;id1&quot;, 10, 10));\n        tmpList.add(new TestVO(&quot;&quot;, &quot;id2&quot;, 11, 11));\n        tmpList.add(new TestVO(&quot;Michael&quot;, &quot;id3&quot;, 12, 12));\n        tmpList.add(new TestVO(&quot;Jack&quot;, &quot;id4&quot;, 13, 13));\n        tmpList.add(new TestVO(&quot;Subodh&quot;, &quot;id5&quot;, 14, 14));\n        tmpList.add(new TestVO(&quot;&quot;, &quot;id6&quot;, 15, 15));\n        tmpList.add(new TestVO(&quot;Mrinal&quot;, &quot;id7&quot;, 16, 16));\n        tmpList.add(new TestVO(&quot;&quot;, &quot;id8&quot;, 17, 17));\n        tmpList.add(new TestVO(&quot;Eddie&quot;, &quot;id9&quot;, 18, 18));\n        tmpList.add(new TestVO(&quot;Peter&quot;, &quot;id10&quot;, 19, 19));\n</code></pre>\n<p>What I want to do is that I want to iterate through the tmpList and find the sum of height and weight and add &quot;No-Name&quot; when the name is empty.</p>\n<pre><code>// below into stream \nint totalWeight = 0;\nint totalHeight = 0;\nfor (TestVO testVO : tmpList) {\n    if( !&quot;&quot;.equals(testVO.getName())){\n        totalWeight += totalWeight;\n        totalHeight += totalHeight;\n    }else {\n        testVO.setName(&quot;No-Name&quot;);\n    }\n}\n</code></pre>\n<pre><code>Map&lt;Boolean, List&lt;TestVO&gt;&gt;tmpMap =  tmpList.stream()\n            .collect(Collectors.partitioningBy(test -&gt; !&quot;&quot;.equals(test.getName())));\n        \n        \n        int totalWeigt = tmpMap.get(true).stream()\n                                            .mapToInt(test -&gt; test.getWeight())\n                                            .sum();\n        \n        int totalHeight = tmpMap.get(true).stream()\n                                            .mapToInt(test -&gt; test.getHeight())\n                                            .sum();\n            \n        tmpMap.get(false).stream()\n                            .forEach(test -&gt; {\n                                test.setName(&quot;No-Name&quot;);\n                            });\n        \n        // method 1\n        List&lt;TestVO&gt; tmpRet1 = Stream.of(tmpMap.get(true),  tmpMap.get(false)).flatMap(Collection::stream).collect(Collectors.toList());\n        //method 2\n        List&lt;TestVO&gt; tmpRet2 = Stream.concat(tmpMap.get(true).stream(), tmpMap.get(false).stream()).collect(Collectors.toList());  \n</code></pre>\n<p>I have worked so far and It does not seem to be right. I mean I have to iterate each cases.</p>\n<p>Is there any way to combine them all together? or any suggestions to make it better?</p>\n"},{"tags":["java","function","exception"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1629205837,"post_id":68817920,"comment_id":121621354,"body_markdown":"Avoid creating a class called `Error`, because there&#39;s already a `java.lang.Error` (which happens to be a `Throwable`, but not an `Exception`!) While that&#39;s not technically a problem, it can become very confusing.","body":"Avoid creating a class called <code>Error</code>, because there&#39;s already a <code>java.lang.Error</code> (which happens to be a <code>Throwable</code>, but not an <code>Exception</code>!) While that&#39;s not technically a problem, it can become very confusing."},{"owner":{"account_id":6243711,"reputation":1571,"user_id":4856413,"display_name":"sanjeevRm"},"score":0,"creation_date":1629205933,"post_id":68817920,"comment_id":121621402,"body_markdown":"to start with you can move lined with comment unhandled exception to try block","body":"to start with you can move lined with comment unhandled exception to try block"},{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":0,"creation_date":1641651700,"post_id":68817920,"comment_id":124862887,"body_markdown":"Does this answer your question? [Java 8 Lambda function that throws exception?](https://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/18198176/java-8-lambda-function-that-throws-exception\">Java 8 Lambda function that throws exception?</a>"}],"answers":[{"tags":[],"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1629212669,"creation_date":1629205955,"answer_id":68818010,"question_id":68817920,"body_markdown":"You have two options:\r\n\r\n- throw a `RuntimeException` (or any of its subclasses): those need not be declared so you can &quot;silently&quot; throw them\r\n- declare your own alternative to `Function` which contains an `throws` clause a little like this:\r\n\r\n    ```\r\n    public interface ThrowingFunction&lt;I, O, E extends Throwable&gt; {\r\n        public O apply(I input) throws E;\r\n    }\r\n    ```\r\n\r\n    Note that some utility libraries such as Apache Commons Lang3 already have such an interface. For example [`FailableFunction`][2].\r\n\r\nThere&#39;s a third nasty approach, that I wouldn&#39;t recommend, but for completeness sake I should mention it: you can sneakily throw an exception that your method is not declared to actually throw. [`ExceptionUtils.rethrow`][3] implements this.\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/index.html\r\n  [2]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/function/FailableFunction.html\r\n  [3]: https://commons.apache.org/proper/commons-lang/apidocs/index.html?org/apache/commons/lang3/exception/ExceptionUtils.html","title":"Is there a way to store a function that throws an exception in a variable? (java)","body":"<p>You have two options:</p>\n<ul>\n<li><p>throw a <code>RuntimeException</code> (or any of its subclasses): those need not be declared so you can &quot;silently&quot; throw them</p>\n</li>\n<li><p>declare your own alternative to <code>Function</code> which contains an <code>throws</code> clause a little like this:</p>\n<pre><code>public interface ThrowingFunction&lt;I, O, E extends Throwable&gt; {\n    public O apply(I input) throws E;\n}\n</code></pre>\n<p>Note that some utility libraries such as Apache Commons Lang3 already have such an interface. For example <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/function/FailableFunction.html\" rel=\"nofollow noreferrer\"><code>FailableFunction</code></a>.</p>\n</li>\n</ul>\n<p>There's a third nasty approach, that I wouldn't recommend, but for completeness sake I should mention it: you can sneakily throw an exception that your method is not declared to actually throw. <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/index.html?org/apache/commons/lang3/exception/ExceptionUtils.html\" rel=\"nofollow noreferrer\"><code>ExceptionUtils.rethrow</code></a> implements this.</p>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629209156,"creation_date":1629207234,"answer_id":68818319,"question_id":68817920,"body_markdown":"&quot;Error&quot; is a **very** bad name for your `Exception` subclass. There is already a [`java.lang.Error`][1] class in the JDK, which &quot;indicates serious problems that a reasonable application should not try to catch&quot;, so naming your `Exception` subclass `Error` will be very confusing to readers of your code. I&#39;ll call your `Exception` subclass `NumberTooSmallException` for the rest of the answer.\r\n\r\n`NumberTooSmallException` inherits from `Exception` but not `RuntimeException`, which means that it is a [checked exception](https://www.baeldung.com/java-checked-unchecked-exceptions).\r\n\r\nYour `add1OrThrowError` method is declared to throw this checked exception, so the compiler will check that every time you use `add1OrThrowError`, you have either handled the exception, or you have declared that the enclosing function `throws NumberTooSmallException` too. The idea is to make sure that every exception thrown is handled.\r\n\r\nNotice that [`Function.apply`][2] is declared to not throw any checked exceptions, so this is an error:\r\n\r\n    f = this::add1OrThrowError;\r\n\r\n`f` is declared to not throw anything, but `this::add1OrThrowError` _is_ declared to throw `NumberTooSmallException`.\r\n\r\nTherefore, you can either create your own version of the `Function` interface that have an `apply` that throws `NumberTooSmallException`:\r\n\r\n```\r\ninterface ErrorThrowingFunction&lt;T, R&gt; {\r\n    R apply(T t) throws NumberTooSmallException;\r\n}\r\n```\r\n\r\n(or the more generic version in Joachim Sauer&#39;s answer)\r\n\r\nor you can make `NumberTooSmallException` an _unchecked_ exception by inheriting from `RuntimeException`, so that the compiler doesn&#39;t check if it&#39;s always handled. This allows you to assign `this::add1OrThrowError` to a `Function`, but also permits you from calling `f.apply` without `try...catch`.\r\n\r\n```\r\nclass NumberTooSmallException extends RuntimeException{\r\n    public NumberTooSmallException(String message){ super(message); }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://cr.openjdk.java.net/~iris/se/16/latestSpec/api/java.base/java/lang/Error.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html#apply-T-","title":"Is there a way to store a function that throws an exception in a variable? (java)","body":"<p>&quot;Error&quot; is a <strong>very</strong> bad name for your <code>Exception</code> subclass. There is already a <a href=\"https://cr.openjdk.java.net/%7Eiris/se/16/latestSpec/api/java.base/java/lang/Error.html\" rel=\"nofollow noreferrer\"><code>java.lang.Error</code></a> class in the JDK, which &quot;indicates serious problems that a reasonable application should not try to catch&quot;, so naming your <code>Exception</code> subclass <code>Error</code> will be very confusing to readers of your code. I'll call your <code>Exception</code> subclass <code>NumberTooSmallException</code> for the rest of the answer.</p>\n<p><code>NumberTooSmallException</code> inherits from <code>Exception</code> but not <code>RuntimeException</code>, which means that it is a <a href=\"https://www.baeldung.com/java-checked-unchecked-exceptions\" rel=\"nofollow noreferrer\">checked exception</a>.</p>\n<p>Your <code>add1OrThrowError</code> method is declared to throw this checked exception, so the compiler will check that every time you use <code>add1OrThrowError</code>, you have either handled the exception, or you have declared that the enclosing function <code>throws NumberTooSmallException</code> too. The idea is to make sure that every exception thrown is handled.</p>\n<p>Notice that <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Function.html#apply-T-\" rel=\"nofollow noreferrer\"><code>Function.apply</code></a> is declared to not throw any checked exceptions, so this is an error:</p>\n<pre><code>f = this::add1OrThrowError;\n</code></pre>\n<p><code>f</code> is declared to not throw anything, but <code>this::add1OrThrowError</code> <em>is</em> declared to throw <code>NumberTooSmallException</code>.</p>\n<p>Therefore, you can either create your own version of the <code>Function</code> interface that have an <code>apply</code> that throws <code>NumberTooSmallException</code>:</p>\n<pre><code>interface ErrorThrowingFunction&lt;T, R&gt; {\n    R apply(T t) throws NumberTooSmallException;\n}\n</code></pre>\n<p>(or the more generic version in Joachim Sauer's answer)</p>\n<p>or you can make <code>NumberTooSmallException</code> an <em>unchecked</em> exception by inheriting from <code>RuntimeException</code>, so that the compiler doesn't check if it's always handled. This allows you to assign <code>this::add1OrThrowError</code> to a <code>Function</code>, but also permits you from calling <code>f.apply</code> without <code>try...catch</code>.</p>\n<pre><code>class NumberTooSmallException extends RuntimeException{\n    public NumberTooSmallException(String message){ super(message); }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1629209810,"creation_date":1629209810,"answer_id":68819005,"question_id":68817920,"body_markdown":"Some background on the &#39;why&#39; of it all:\r\n\r\n## Closures in java are not transparent.\r\n\r\nIn java, closures (`a -&gt; foo(a)` or `someExpr::someMethodRef`) are __not transparent__ for the following 3 concepts:\r\n\r\n* Checked exceptions: The list of checked exceptions a closure throws needs to be &#39;handled&#39; (caught within the closure, or the method in the `@FunctionalInterface` that defines the type of the closure needs to be declared to `throws` it) then and there, you __cannot__ rely on a catch block, or a `throws` clause, on the context where you made the closure. That is the problem you&#39;re running into here.\r\n* non-effectively-final local vars: You cannot access (read or write) local variables from outside your lambda __at all__, unless they are either `final`, or they could be made `final` without compiler errors, in which case `javac` does you a favour and acts as if you put `final` on it.\r\n* control flow: You cannot write a `break` inside a closure that applies to a `for`/`while`/`switch`/etc from outside of it. e.g. this does not work:\r\n\r\n```\r\nboolean banned = false;\r\nfor (String x : userNames) {\r\n dbAccess.exec(db -&gt; {\r\n   if (db.selectBool(&quot;SELECT banned FROM users WHERE un = ?&quot;, x)) {\r\n      banned = true; // won&#39;t compile - mutable local var\r\n      break; // won&#39;t compile - control flow\r\n   }\r\n });\r\n}\r\n```\r\n\r\n## Why not?\r\n\r\nBecause that&#39;s actually what you want, __if__ it is a &#39;travelling&#39; closure. It&#39;s just annoying and weird for use-it-and-lose-it closures though. Thus, to make sense of this, consider the notion of a travelling closure, and then it makes sense.\r\n\r\n## Travelling vs. use-it-and-lose-it\r\n\r\nA function is, by design, something you can &#39;ship around&#39;. It can &#39;escape your context&#39;. You are free to store a function in a field, or pass it to another method which stores it in a field. Then that field can be read by another thread 5 days from now (let&#39;s assume some very long running VM, e.g. a JVM serving web pages) and the code is then run.\r\n\r\nIn other words, given:\r\n\r\n```\r\ntry {\r\n    // some code that _DEFINES_ a function, such as:\r\n    foo(a -&gt; System.out.println(a));\r\n} catch (Something e) {\r\n}\r\n```\r\n\r\nThere is no guarantee that this &#39;makes sense&#39;. Perhaps `foo` will take the closure, store it in a field, and run it 5 days from now - or, at any rate, runs it __after__ the above code has long since completed. By completing that catch block and all context it needed to run is just gone. There is no way to run it! It sure feels like that catch block contains the error handler for when the code contained inside the try block throws it, but that is not how it works, given that the catch block no longer &#39;exists&#39;, in this scenario.\r\n\r\nIf your write code that makes no sense, it&#39;s a good idea if the compiler or runtime stops you from doing this. Better to get your error fast and with a good explanation, than to have to observe bizarre behaviour and go on a wild goose chase trying to figure out what you&#39;re missing, after all!\r\n\r\n__So `javac` does just that and won&#39;t compile this code__.\r\n\r\nEven if that code makes perfect sense and would work exactly as you&#39;d expected it to if that closure doesn&#39;t travel.\r\n\r\nThus, you can separate out closures into two camps:\r\n\r\n* Use-it-or-lose-it closures: They are run (0 to many times) and then forgotten about within the lexical context where they are defined. Many usages of functions in java work like this, such as `list.stream().map(closureHere).filter(anotherClosureHere).collect()`, or `list.sort(closureHere)`.\r\n* travelling closures: They are stored and run later, and/or sent to other threads (even if those threads then run on the spot and the code can&#39;t continue until they&#39;re done, such as with fork/join: Those exceptions still aren&#39;t going to end up in your catch block. For example, `new TreeSet&lt;&gt;(comparatorHere)`, `new Thread(runnableHere). (note how it doesn&#39;t depend on type; with `list.sort`, we passed a `Comparator` which is use-it-and-lose-it, but with `new TreeSet`, we _also_ passed a `Comparator` but that&#39;s a travelling closure.\r\n\r\nIt would have been fantastic if a method that accepts a function can declare whether it runs that function in &#39;use it and lose it&#39; mode or in &#39;travelling&#39; mode so that javac can add the appropriate sugar to give you transparency for checked exceptions, mutable locals, and control flow (and javac can conveniently also tell you if you then take that function ref and store it in a field or pass it to a method that isnt explicitly declared to treat it as use-it-and-lose-it). Maybe one day, because I&#39;m pretty sure java can add this to the language in a backwards compatible fashion.\r\n\r\nAs a consequence, you should consider using closures for inline operations a minor evil. If you can write it just as well without, then do that (for loops and such are superior to streams if they&#39;re equally simple). For the same reason we write getters instead of direct field access, and for the same reason style guides tend to make braces mandatory even if `javac` does not: You may not need any of the 3 transparencies today, but perhaps tomorrow you do, and it&#39;s annoying to have to rewrite at that point.\r\n","title":"Is there a way to store a function that throws an exception in a variable? (java)","body":"<p>Some background on the 'why' of it all:</p>\n<h2>Closures in java are not transparent.</h2>\n<p>In java, closures (<code>a -&gt; foo(a)</code> or <code>someExpr::someMethodRef</code>) are <strong>not transparent</strong> for the following 3 concepts:</p>\n<ul>\n<li>Checked exceptions: The list of checked exceptions a closure throws needs to be 'handled' (caught within the closure, or the method in the <code>@FunctionalInterface</code> that defines the type of the closure needs to be declared to <code>throws</code> it) then and there, you <strong>cannot</strong> rely on a catch block, or a <code>throws</code> clause, on the context where you made the closure. That is the problem you're running into here.</li>\n<li>non-effectively-final local vars: You cannot access (read or write) local variables from outside your lambda <strong>at all</strong>, unless they are either <code>final</code>, or they could be made <code>final</code> without compiler errors, in which case <code>javac</code> does you a favour and acts as if you put <code>final</code> on it.</li>\n<li>control flow: You cannot write a <code>break</code> inside a closure that applies to a <code>for</code>/<code>while</code>/<code>switch</code>/etc from outside of it. e.g. this does not work:</li>\n</ul>\n<pre><code>boolean banned = false;\nfor (String x : userNames) {\n dbAccess.exec(db -&gt; {\n   if (db.selectBool(&quot;SELECT banned FROM users WHERE un = ?&quot;, x)) {\n      banned = true; // won't compile - mutable local var\n      break; // won't compile - control flow\n   }\n });\n}\n</code></pre>\n<h2>Why not?</h2>\n<p>Because that's actually what you want, <strong>if</strong> it is a 'travelling' closure. It's just annoying and weird for use-it-and-lose-it closures though. Thus, to make sense of this, consider the notion of a travelling closure, and then it makes sense.</p>\n<h2>Travelling vs. use-it-and-lose-it</h2>\n<p>A function is, by design, something you can 'ship around'. It can 'escape your context'. You are free to store a function in a field, or pass it to another method which stores it in a field. Then that field can be read by another thread 5 days from now (let's assume some very long running VM, e.g. a JVM serving web pages) and the code is then run.</p>\n<p>In other words, given:</p>\n<pre><code>try {\n    // some code that _DEFINES_ a function, such as:\n    foo(a -&gt; System.out.println(a));\n} catch (Something e) {\n}\n</code></pre>\n<p>There is no guarantee that this 'makes sense'. Perhaps <code>foo</code> will take the closure, store it in a field, and run it 5 days from now - or, at any rate, runs it <strong>after</strong> the above code has long since completed. By completing that catch block and all context it needed to run is just gone. There is no way to run it! It sure feels like that catch block contains the error handler for when the code contained inside the try block throws it, but that is not how it works, given that the catch block no longer 'exists', in this scenario.</p>\n<p>If your write code that makes no sense, it's a good idea if the compiler or runtime stops you from doing this. Better to get your error fast and with a good explanation, than to have to observe bizarre behaviour and go on a wild goose chase trying to figure out what you're missing, after all!</p>\n<p><strong>So <code>javac</code> does just that and won't compile this code</strong>.</p>\n<p>Even if that code makes perfect sense and would work exactly as you'd expected it to if that closure doesn't travel.</p>\n<p>Thus, you can separate out closures into two camps:</p>\n<ul>\n<li>Use-it-or-lose-it closures: They are run (0 to many times) and then forgotten about within the lexical context where they are defined. Many usages of functions in java work like this, such as <code>list.stream().map(closureHere).filter(anotherClosureHere).collect()</code>, or <code>list.sort(closureHere)</code>.</li>\n<li>travelling closures: They are stored and run later, and/or sent to other threads (even if those threads then run on the spot and the code can't continue until they're done, such as with fork/join: Those exceptions still aren't going to end up in your catch block. For example, <code>new TreeSet&lt;&gt;(comparatorHere)</code>, <code>new Thread(runnableHere). (note how it doesn't depend on type; with </code>list.sort<code>, we passed a </code>Comparator<code>which is use-it-and-lose-it, but with</code>new TreeSet<code>, we _also_ passed a </code>Comparator` but that's a travelling closure.</li>\n</ul>\n<p>It would have been fantastic if a method that accepts a function can declare whether it runs that function in 'use it and lose it' mode or in 'travelling' mode so that javac can add the appropriate sugar to give you transparency for checked exceptions, mutable locals, and control flow (and javac can conveniently also tell you if you then take that function ref and store it in a field or pass it to a method that isnt explicitly declared to treat it as use-it-and-lose-it). Maybe one day, because I'm pretty sure java can add this to the language in a backwards compatible fashion.</p>\n<p>As a consequence, you should consider using closures for inline operations a minor evil. If you can write it just as well without, then do that (for loops and such are superior to streams if they're equally simple). For the same reason we write getters instead of direct field access, and for the same reason style guides tend to make braces mandatory even if <code>javac</code> does not: You may not need any of the 3 transparencies today, but perhaps tomorrow you do, and it's annoying to have to rewrite at that point.</p>\n"}],"owner":{"account_id":22365058,"reputation":49,"user_id":16580991,"display_name":"willkroboth"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1029,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":68818010,"answer_count":3,"score":1,"last_activity_date":1641651484,"creation_date":1629205647,"question_id":68817920,"body_markdown":"In java, it is possible to store a function in a variable, then apply it later like this:\r\n```java\r\nimport java.util.function.Function;\r\n\r\nclass Main {\r\n    Function&lt;Integer, Integer&gt; f;\r\n\r\n    public Main(){\r\n        f = this::add1;\r\n\r\n        f.apply(1); //returns 2\r\n\r\n        f.apply(20); //returns 21\r\n    }\r\n\r\n    public Integer add1(Integer value){\r\n        return value+1;\r\n    }\r\n}\r\n\r\n```\r\n\r\nHowever, when I try to make the function throw an exception then catch that exception with a try/catch, I get some errors:\r\n```java\r\nimport java.util.function.Function;\r\n\r\nclass NumberTooSmall extends Exception{\r\n    public NumberTooSmall(String message){ super(message); }\r\n}\r\n\r\nclass Main {\r\n    Function&lt;Integer, Integer&gt; f;\r\n\r\n    public Main(){\r\n        f = this::add1OrThrowError; // Unhandled exception\r\n\r\n        try {\r\n            //should throw error\r\n            f.apply(1);\r\n        } catch (NumberTooSmall e){ //Exception is never thrown in the corresponding try block\r\n            // should be called here\r\n            caseWhenErrorIsThrown();\r\n        }\r\n\r\n        try {\r\n            // should return 21\r\n            f.apply(20);\r\n        } catch (NumberTooSmall e){ //Exception is never thrown in the corresponding try block\r\n            // shouldn&#39;t be called here\r\n            caseWhenErrorIsThrown();\r\n        }\r\n    }\r\n\r\n    public Integer add1OrThrowError(Integer value) throws NumberTooSmall {\r\n        if(value &lt; 10) {\r\n            throw new NumberTooSmall(&quot;Value is too low&quot;);\r\n        }\r\n        return value+1;\r\n    }\r\n\r\n    public void caseWhenErrorIsThrown(){ \r\n        // not important\r\n    }\r\n}\r\n```\r\n\r\nHow can I resolve these errors? I expect I need to change something about the class of my function variable f, but I can&#39;t find what it should be. Also, just calling the function normally isn&#39;t an option, since there could be more methods I want f to become.\r\n\r\nEDIT:\r\nException name changed from `Error` to `NumberTooSmall` since I learned that `Error` was already the name of a built-in java class (`java.lang.Error`).","title":"Is there a way to store a function that throws an exception in a variable? (java)","body":"<p>In java, it is possible to store a function in a variable, then apply it later like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.function.Function;\n\nclass Main {\n    Function&lt;Integer, Integer&gt; f;\n\n    public Main(){\n        f = this::add1;\n\n        f.apply(1); //returns 2\n\n        f.apply(20); //returns 21\n    }\n\n    public Integer add1(Integer value){\n        return value+1;\n    }\n}\n\n</code></pre>\n<p>However, when I try to make the function throw an exception then catch that exception with a try/catch, I get some errors:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.function.Function;\n\nclass NumberTooSmall extends Exception{\n    public NumberTooSmall(String message){ super(message); }\n}\n\nclass Main {\n    Function&lt;Integer, Integer&gt; f;\n\n    public Main(){\n        f = this::add1OrThrowError; // Unhandled exception\n\n        try {\n            //should throw error\n            f.apply(1);\n        } catch (NumberTooSmall e){ //Exception is never thrown in the corresponding try block\n            // should be called here\n            caseWhenErrorIsThrown();\n        }\n\n        try {\n            // should return 21\n            f.apply(20);\n        } catch (NumberTooSmall e){ //Exception is never thrown in the corresponding try block\n            // shouldn't be called here\n            caseWhenErrorIsThrown();\n        }\n    }\n\n    public Integer add1OrThrowError(Integer value) throws NumberTooSmall {\n        if(value &lt; 10) {\n            throw new NumberTooSmall(&quot;Value is too low&quot;);\n        }\n        return value+1;\n    }\n\n    public void caseWhenErrorIsThrown(){ \n        // not important\n    }\n}\n</code></pre>\n<p>How can I resolve these errors? I expect I need to change something about the class of my function variable f, but I can't find what it should be. Also, just calling the function normally isn't an option, since there could be more methods I want f to become.</p>\n<p>EDIT:\nException name changed from <code>Error</code> to <code>NumberTooSmall</code> since I learned that <code>Error</code> was already the name of a built-in java class (<code>java.lang.Error</code>).</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1866094,"reputation":1378,"user_id":1689624,"accept_rate":97,"display_name":"Joe"},"score":0,"creation_date":1371260602,"post_id":17119445,"comment_id":24771200,"body_markdown":"If I understood what you&#39;re saying correctly, you want to print the number that is equidistant away from the end as the input number is from the start? That&#39;s basically the length - your number.","body":"If I understood what you&#39;re saying correctly, you want to print the number that is equidistant away from the end as the input number is from the start? That&#39;s basically the length - your number."},{"owner":{"account_id":133792,"reputation":2503,"user_id":335439,"accept_rate":62,"display_name":"mrcaramori"},"score":1,"creation_date":1371260605,"post_id":17119445,"comment_id":24771202,"body_markdown":"&#39; 1-5, now if I have 2, I want 4...&#39; is this example right?","body":"&#39; 1-5, now if I have 2, I want 4...&#39; is this example right?"},{"owner":{"account_id":2888621,"reputation":15,"user_id":2477902,"display_name":"Robert Martin"},"score":0,"creation_date":1371260813,"post_id":17119445,"comment_id":24771232,"body_markdown":"Joe and IHawk, yes that&#39;s exactly it.","body":"Joe and IHawk, yes that&#39;s exactly it."},{"owner":{"account_id":2808454,"reputation":14373,"user_id":2415194,"accept_rate":87,"display_name":"nachokk"},"score":0,"creation_date":1371261424,"post_id":17119445,"comment_id":24771297,"body_markdown":"it&#39;s not difficult if you have a collection or array, then only what you have to do is substraction length and actual position","body":"it&#39;s not difficult if you have a collection or array, then only what you have to do is substraction length and actual position"}],"answers":[{"tags":[],"owner":{"account_id":2326070,"reputation":5010,"user_id":2040569,"accept_rate":78,"display_name":"Austin T French"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1371296183,"creation_date":1371260604,"answer_id":17119454,"question_id":17119445,"body_markdown":"I don&#39;t see that you need an algorithm as much. What you have is:\r\n\r\n    InverseNumber = (myCollection.Length - MySelection);\r\n\r\n\r\nThats all you need for even numbers. \r\n\r\nWith a collection of 1 - 6 for example:\r\n Give 2; 6 - 2 = 4. Also if given 4, 6 - 4 = 2.\r\n\r\nYou will need a slightly different problem for odds:\r\n\r\n1 - 5; with 1 given 1 is at index 0, the opposite is 5, 2 given and the inverse ( 5 - 2) is 3. But if 3 is given, there is no inverse. So you might want to also add a catch for:\r\n\r\n    if (((myCollection.Length *.5).Round) == mySelection) { //Inverse does not exist!!!}\r\n\r\nIf you are using just integers, and not arrays of numbers then just replace the myCollection.Length with the upperbound integer.","title":"How to &quot;invert&quot; numbers in Java","body":"<p>I don't see that you need an algorithm as much. What you have is:</p>\n\n<pre><code>InverseNumber = (myCollection.Length - MySelection);\n</code></pre>\n\n<p>Thats all you need for even numbers. </p>\n\n<p>With a collection of 1 - 6 for example:\n Give 2; 6 - 2 = 4. Also if given 4, 6 - 4 = 2.</p>\n\n<p>You will need a slightly different problem for odds:</p>\n\n<p>1 - 5; with 1 given 1 is at index 0, the opposite is 5, 2 given and the inverse ( 5 - 2) is 3. But if 3 is given, there is no inverse. So you might want to also add a catch for:</p>\n\n<pre><code>if (((myCollection.Length *.5).Round) == mySelection) { //Inverse does not exist!!!}\n</code></pre>\n\n<p>If you are using just integers, and not arrays of numbers then just replace the myCollection.Length with the upperbound integer.</p>\n"},{"tags":[],"owner":{"account_id":2838543,"reputation":91,"user_id":2438604,"accept_rate":50,"display_name":"user2438604"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1459547536,"creation_date":1371261760,"answer_id":17119529,"question_id":17119445,"body_markdown":"I think the following code will work for what you need:\r\n\r\n    int a[] = new a[length_needed];\r\n    int counter = length_needed;\r\n    for(int c = 0; c &lt; length_needed; c++) {\r\n       a[c] = counter;\r\n       counter--;\r\n    }\r\n    int number_inputed;\r\n    for(int c = 0; c &lt; length needed; c++) {\r\n       if(c == number_inputed) System.out.println(a[c]);\r\n    }\r\n","title":"How to &quot;invert&quot; numbers in Java","body":"<p>I think the following code will work for what you need:</p>\n\n<pre><code>int a[] = new a[length_needed];\nint counter = length_needed;\nfor(int c = 0; c &lt; length_needed; c++) {\n   a[c] = counter;\n   counter--;\n}\nint number_inputed;\nfor(int c = 0; c &lt; length needed; c++) {\n   if(c == number_inputed) System.out.println(a[c]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2538075,"reputation":11,"user_id":2204617,"display_name":"Nagaraju Akula"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1459545816,"creation_date":1371403328,"answer_id":17135856,"question_id":17119445,"body_markdown":"Let&#39;s say you are giving max number as input. Then you are going to have `0-n` numbers. For ex., if 9 is the max number you will have `0-9`.\r\n\r\nThen you can do something like this:\r\n\r\n    public static void main(String[] a) {\r\n       int max = a[0]; // read values from cmd line args\r\n\r\n       int forWhichNum = a[1]; //for which number we need its inverse\r\n\r\n       Sop(max- forWhichNum);\r\n    }","title":"How to &quot;invert&quot; numbers in Java","body":"<p>Let's say you are giving max number as input. Then you are going to have <code>0-n</code> numbers. For ex., if 9 is the max number you will have <code>0-9</code>.</p>\n\n<p>Then you can do something like this:</p>\n\n<pre><code>public static void main(String[] a) {\n   int max = a[0]; // read values from cmd line args\n\n   int forWhichNum = a[1]; //for which number we need its inverse\n\n   Sop(max- forWhichNum);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6000844,"reputation":11,"user_id":4714179,"display_name":"Lakshit Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553799017,"creation_date":1553799017,"answer_id":55404906,"question_id":17119445,"body_markdown":"    Integer value = 2;\r\n    Integer maxValue = 6;\r\n    Integer reverseCounter = 0;\r\n    for (int i = maxValue; i &gt; 0; i--) {\r\n        reverseCounter++;\r\n        if (i == value) {\r\n            return reverseCounter;\r\n        }\r\n    }","title":"How to &quot;invert&quot; numbers in Java","body":"<pre><code>Integer value = 2;\nInteger maxValue = 6;\nInteger reverseCounter = 0;\nfor (int i = maxValue; i &gt; 0; i--) {\n    reverseCounter++;\n    if (i == value) {\n        return reverseCounter;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2888621,"reputation":15,"user_id":2477902,"display_name":"Robert Martin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7802,"favorite_count":0,"down_vote_count":7,"up_vote_count":1,"answer_count":4,"score":-6,"last_activity_date":1641650864,"creation_date":1371260470,"question_id":17119445,"body_markdown":"Lets say I have a number 1-5, now if I have 2, I want 4 as an output, if I had 3 then have 3 as the output, if I have 1 then 4 as the output. Here is a chart of what I want:\r\n\r\n1-10 Chart:\r\n```\r\nGive 1 return 9\r\nGive 2 return 8\r\nGive 3 return 7\r\nGive 4 return 6\r\nGive 5 return 5\r\n```\r\n\r\nWhat algorithm do I use for such a thing?","title":"How to &quot;invert&quot; numbers in Java","body":"<p>Lets say I have a number 1-5, now if I have 2, I want 4 as an output, if I had 3 then have 3 as the output, if I have 1 then 4 as the output. Here is a chart of what I want:</p>\n<p>1-10 Chart:</p>\n<pre><code>Give 1 return 9\nGive 2 return 8\nGive 3 return 7\nGive 4 return 6\nGive 5 return 5\n</code></pre>\n<p>What algorithm do I use for such a thing?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1531219,"reputation":3127,"user_id":1428369,"display_name":"Curiosa Globunznik"},"score":0,"creation_date":1582966410,"post_id":60462642,"comment_id":106964421,"body_markdown":"There&#39;s documentation available for java, also [for allMatch](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#allMatch-java.util.function.Predicate-).","body":"There&#39;s documentation available for java, also <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#allMatch-java.util.function.Predicate-\" rel=\"nofollow noreferrer\">for allMatch</a>."}],"answers":[{"tags":[],"owner":{"account_id":13025439,"reputation":51,"user_id":9413587,"display_name":"Hugo Zhang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582959763,"creation_date":1582959763,"answer_id":60462765,"question_id":60462642,"body_markdown":"```\r\nmatrix = [[0, 1, 1, 2], \r\n          [0, 5, 0, 0], \r\n          [2, 0, 3, 3]]\r\n```\r\nHere&#39;s the matrix, program traverses every element(e.i. matrix[i, j]) in the matrix, `i` means current row, `j` means current column, and the statement decide whether the element should be added to sum is: \r\n\r\n`IntStream.range(0, i).allMatch(k -&gt; matrix[k][j] &gt; 0)`\r\n\r\nthe statement means ALL the elements &#39;up&#39; to current element should MATCH `&gt;0` which means not free.","title":"A problem with IntStream in int[][], I don&#39;t know what allMatch() doing","body":"<pre><code>matrix = [[0, 1, 1, 2], \n          [0, 5, 0, 0], \n          [2, 0, 3, 3]]\n</code></pre>\n\n<p>Here's the matrix, program traverses every element(e.i. matrix[i, j]) in the matrix, <code>i</code> means current row, <code>j</code> means current column, and the statement decide whether the element should be added to sum is: </p>\n\n<p><code>IntStream.range(0, i).allMatch(k -&gt; matrix[k][j] &gt; 0)</code></p>\n\n<p>the statement means ALL the elements 'up' to current element should MATCH <code>&gt;0</code> which means not free.</p>\n"},{"tags":[],"owner":{"account_id":13053348,"reputation":824,"user_id":9432967,"display_name":"Omid.N"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1582970024,"creation_date":1582970024,"answer_id":60463851,"question_id":60462642,"body_markdown":"`allMatch()` method takes an `IntPredicate` object. `IntPredicate` is a [Functional Interface][1] whose &quot;functional method&quot; is `test(int)`. Your code passes all the elements to it and checks if all of them **match**  *&gt;0*. You could also use `anyMatch()` method here. Then your code will be like this:\r\n\r\n    int matrixElementsSum(int[][] matrix) {\r\n        return IntStream.range(0, matrix.length)\r\n                .map(i -&gt; IntStream.range(0, matrix[0].length)\r\n                        .map(j -&gt; IntStream.range(0, i)\r\n                                .anyMatch(k -&gt; matrix[k][j] == 0)\r\n                                ? 0 : matrix[i][j] )\r\n                        .sum())\r\n                .sum();\r\n    }\r\n\r\nAlso, the ***time complexity*** of this algorithm is `f(i,j) = j.(i(i+1)/2) = O(j.i^2)` where `i` is the number of rows and `j` is the number of columns.\r\n  [1]: https://developer.android.com/reference/java/util/function/package-summary","title":"A problem with IntStream in int[][], I don&#39;t know what allMatch() doing","body":"<p><code>allMatch()</code> method takes an <code>IntPredicate</code> object. <code>IntPredicate</code> is a <a href=\"https://developer.android.com/reference/java/util/function/package-summary\" rel=\"nofollow noreferrer\">Functional Interface</a> whose \"functional method\" is <code>test(int)</code>. Your code passes all the elements to it and checks if all of them <strong>match</strong>  <em>>0</em>. You could also use <code>anyMatch()</code> method here. Then your code will be like this:</p>\n\n<pre><code>int matrixElementsSum(int[][] matrix) {\n    return IntStream.range(0, matrix.length)\n            .map(i -&gt; IntStream.range(0, matrix[0].length)\n                    .map(j -&gt; IntStream.range(0, i)\n                            .anyMatch(k -&gt; matrix[k][j] == 0)\n                            ? 0 : matrix[i][j] )\n                    .sum())\n            .sum();\n}\n</code></pre>\n\n<p>Also, the <strong><em>time complexity</em></strong> of this algorithm is <code>f(i,j) = j.(i(i+1)/2) = O(j.i^2)</code> where <code>i</code> is the number of rows and <code>j</code> is the number of columns.</p>\n"},{"tags":[],"owner":{"account_id":20940868,"reputation":764,"user_id":15384958,"display_name":"Sardorek Aminjonov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641650526,"creation_date":1641650526,"answer_id":70633050,"question_id":60462642,"body_markdown":"```\r\nfunction solution(matrix) {\r\n   const numberOfRows = matrix.length;\r\n   const numberOfCols = matrix.length * matrix[0].length;\r\n   \r\n   const sum = 0;\r\n   const rooms = [];\r\n   const hauntedRows = [];\r\n   \r\n   matrix.forEach((row, idx) =&gt; {\r\n        row.forEach((item, cIdx) =&gt; {\r\n            if(item === 0) {\r\n                hauntedRows.push(cIdx);\r\n                return;\r\n            }\r\n            \r\n            if(hauntedRows.includes(cIdx)) {\r\n                return; \r\n            }\r\n            \r\n            rooms.push(item)\r\n        })\r\n   })\r\n   \r\n   return rooms.reduce((prevVal, currentVal) =&gt; prevVal + currentVal, 0)\r\n}\r\n```\r\nThis is the solution I came up with.","title":"A problem with IntStream in int[][], I don&#39;t know what allMatch() doing","body":"<pre><code>function solution(matrix) {\n   const numberOfRows = matrix.length;\n   const numberOfCols = matrix.length * matrix[0].length;\n   \n   const sum = 0;\n   const rooms = [];\n   const hauntedRows = [];\n   \n   matrix.forEach((row, idx) =&gt; {\n        row.forEach((item, cIdx) =&gt; {\n            if(item === 0) {\n                hauntedRows.push(cIdx);\n                return;\n            }\n            \n            if(hauntedRows.includes(cIdx)) {\n                return; \n            }\n            \n            rooms.push(item)\n        })\n   })\n   \n   return rooms.reduce((prevVal, currentVal) =&gt; prevVal + currentVal, 0)\n}\n</code></pre>\n<p>This is the solution I came up with.</p>\n"}],"owner":{"account_id":17846188,"reputation":47,"user_id":12962957,"display_name":"Alice Victoria"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":508,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60463851,"answer_count":3,"score":1,"last_activity_date":1641650526,"creation_date":1582958375,"question_id":60462642,"body_markdown":"After becoming famous, the [*CodeBots*][1] decided to move into a new building together. Each of the rooms has a different cost, and some of them are free, but there&#39;s a rumour that all the free rooms are haunted! Since the *CodeBots* are quite superstitious, they refuse to stay in any of the free rooms, or any of the rooms below any of the free rooms.\r\n\r\nGiven a matrix, a rectangular matrix of integers, where each value represents the cost of the room, your task is to return the total sum of all rooms that are suitable for the *CodeBots* (ie: add up all the values that don&#39;t appear below a 0).\r\n\r\nExample:\r\nfor:\r\n\r\n    matrix = [[0, 1, 1, 2], \r\n              [0, 5, 0, 0], \r\n              [2, 0, 3, 3]]\r\n\r\nthe output should be\r\n\r\n    matrixElementsSum(matrix) = 9\r\n\r\n**Can anyone explain how `allMatch` works in this code?**\r\n\r\n   \r\n\r\n\r\n    int matrixElementsSum(int[][] matrix) {\r\n            return IntStream.range(0, matrix.length)\r\n                    .map(i -&gt; IntStream.range(0, matrix[0].length)\r\n                            .map(j -&gt; IntStream.range(0, i)\r\n                                    .allMatch(k -&gt; matrix[k][j] &gt; 0)\r\n                                    ? matrix[i][j] : 0)\r\n                            .sum())\r\n                    .sum();\r\n    }\r\n\r\n\r\n  [1]: https://codebots.com/","title":"A problem with IntStream in int[][], I don&#39;t know what allMatch() doing","body":"<p>After becoming famous, the <a href=\"https://codebots.com/\" rel=\"nofollow noreferrer\"><em>CodeBots</em></a> decided to move into a new building together. Each of the rooms has a different cost, and some of them are free, but there's a rumour that all the free rooms are haunted! Since the <em>CodeBots</em> are quite superstitious, they refuse to stay in any of the free rooms, or any of the rooms below any of the free rooms.</p>\n\n<p>Given a matrix, a rectangular matrix of integers, where each value represents the cost of the room, your task is to return the total sum of all rooms that are suitable for the <em>CodeBots</em> (ie: add up all the values that don't appear below a 0).</p>\n\n<p>Example:\nfor:</p>\n\n<pre><code>matrix = [[0, 1, 1, 2], \n          [0, 5, 0, 0], \n          [2, 0, 3, 3]]\n</code></pre>\n\n<p>the output should be</p>\n\n<pre><code>matrixElementsSum(matrix) = 9\n</code></pre>\n\n<p><strong>Can anyone explain how <code>allMatch</code> works in this code?</strong></p>\n\n<pre><code>int matrixElementsSum(int[][] matrix) {\n        return IntStream.range(0, matrix.length)\n                .map(i -&gt; IntStream.range(0, matrix[0].length)\n                        .map(j -&gt; IntStream.range(0, i)\n                                .allMatch(k -&gt; matrix[k][j] &gt; 0)\n                                ? matrix[i][j] : 0)\n                        .sum())\n                .sum();\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":5,"creation_date":1641650539,"post_id":70633045,"comment_id":124862608,"body_markdown":"You *could* use reflection, but it is almost always better not to do this. For this, I recommend that you look up and use the Command Design Pattern.","body":"You <i>could</i> use reflection, but it is almost always better not to do this. For this, I recommend that you look up and use the Command Design Pattern."}],"owner":{"account_id":23516184,"reputation":337,"user_id":17564051,"display_name":"Oxana Grey"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1641652506,"answer_count":0,"score":1,"last_activity_date":1641650478,"creation_date":1641650478,"question_id":70633045,"body_markdown":"I&#39;ve a below class\r\n\r\n\r\n    public class OtherString {\r\n    \r\n    \tprivate String underlyingString;\r\n    \r\n    \tpublic OtherString(String inp) {\r\n    \t\tthis.underlyingString = inp;\r\n    \t}\r\n    \r\n    \tpublic String checkAplhaNumeric(String underlyingString) {\r\n    \t\t\r\n    \t\tString pattern= &quot;^[a-zA-Z0-9]*$&quot;;\r\n    \t    return this.underlyingString.matches(pattern) ? &quot;Y&quot; : &quot;N&quot;;\r\n    \r\n    \t}\r\n    \r\n    \tpublic String checkInteger(String underlyingString) {\r\n    \t\t\r\n    \t\tString pattern= &quot;^[0-9]*$&quot;;\r\n    \t    return this.underlyingString.matches(pattern) ? &quot;Y&quot; : &quot;N&quot;;\r\n    \r\n    \t}\r\n    \r\n    \tpublic String checkString(String underlyingString) {\r\n    \t\t\r\n    \t\tString pattern= &quot;^[a-zA-Z]*$&quot;;\r\n    \t    return this.underlyingString.matches(pattern) ? &quot;Y&quot; : &quot;N&quot;;\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nIs there any way I could decide method to be called at run time for OtherString  instance ?\r\n\r\nFor example:\r\n\r\nIf `String methodName = checkInteger;`\r\nthen call `otherStringInstance.checkInteger(inp);`","title":"Parameterize call to method name","body":"<p>I've a below class</p>\n<pre><code>public class OtherString {\n\n    private String underlyingString;\n\n    public OtherString(String inp) {\n        this.underlyingString = inp;\n    }\n\n    public String checkAplhaNumeric(String underlyingString) {\n        \n        String pattern= &quot;^[a-zA-Z0-9]*$&quot;;\n        return this.underlyingString.matches(pattern) ? &quot;Y&quot; : &quot;N&quot;;\n\n    }\n\n    public String checkInteger(String underlyingString) {\n        \n        String pattern= &quot;^[0-9]*$&quot;;\n        return this.underlyingString.matches(pattern) ? &quot;Y&quot; : &quot;N&quot;;\n\n    }\n\n    public String checkString(String underlyingString) {\n        \n        String pattern= &quot;^[a-zA-Z]*$&quot;;\n        return this.underlyingString.matches(pattern) ? &quot;Y&quot; : &quot;N&quot;;\n\n    }\n\n}\n</code></pre>\n<p>Is there any way I could decide method to be called at run time for OtherString  instance ?</p>\n<p>For example:</p>\n<p>If <code>String methodName = checkInteger;</code>\nthen call <code>otherStringInstance.checkInteger(inp);</code></p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1641647696,"post_id":70632653,"comment_id":124861948,"body_markdown":"An instance of Main cannot possibly be an instance of Clazz. An instance of ClassGetter might be an instance of Clazz, if there is a subclass of Clazz that implements ClassGetter. That&#39;s why the code in the interface method is legal but unsafe.","body":"An instance of Main cannot possibly be an instance of Clazz. An instance of ClassGetter might be an instance of Clazz, if there is a subclass of Clazz that implements ClassGetter. That&#39;s why the code in the interface method is legal but unsafe."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1641648020,"post_id":70632653,"comment_id":124862027,"body_markdown":"Furthermore, the last one works because we explicitly cast `this.getClass()` (which happens at runtime) and generics are erased, i.e. no longer present at runtime. Basically, we are asking for trouble with this setup.","body":"Furthermore, the last one works because we explicitly cast <code>this.getClass()</code> (which happens at runtime) and generics are erased, i.e. no longer present at runtime. Basically, we are asking for trouble with this setup."}],"answers":[{"tags":[],"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1641650145,"creation_date":1641648182,"answer_id":70632726,"question_id":70632653,"body_markdown":"Why is this illegal in Main?\r\n\r\n    consumeClazz((Class&lt;? extends Clazz&gt;) this.getClass());\r\n\r\nAn instance of Main cannot possibly be an instance of Clazz because they are unrelated classes, and Java does not support multiple inheritance.\r\n\r\n---\r\n\r\nWhy is this legal in ClassGetter?\r\n\r\n    return (Class&lt;? extends Clazz&gt;) this.getClass();\r\n\r\nAn instance of ClassGetter might be an instance of Clazz, if there is a subclass of Clazz that implements ClassGetter. Because it&#39;s possible, this is legal but not safe.\r\n\r\n---\r\n\r\nWhy is this legal in Main?\r\n\r\n    consumeClazz(getCastedClass())\r\n\r\n`getCastedClass()` is declared to return `Class&lt;? extends Clazz&gt;`, which is compatible with the parameter type for `consumeClazz`.\r\n\r\n---\r\n\r\nWhy does it run successfully?\r\n\r\nAt runtime, the generics are erased, and your `Class&lt;...&gt;` references are just `Class` objects. On that basis, getting the class and printing its name is all legitimate.","title":"Weird contradictory behavior when casting classes in a interface","body":"<p>Why is this illegal in Main?</p>\n<pre><code>consumeClazz((Class&lt;? extends Clazz&gt;) this.getClass());\n</code></pre>\n<p>An instance of Main cannot possibly be an instance of Clazz because they are unrelated classes, and Java does not support multiple inheritance.</p>\n<hr />\n<p>Why is this legal in ClassGetter?</p>\n<pre><code>return (Class&lt;? extends Clazz&gt;) this.getClass();\n</code></pre>\n<p>An instance of ClassGetter might be an instance of Clazz, if there is a subclass of Clazz that implements ClassGetter. Because it's possible, this is legal but not safe.</p>\n<hr />\n<p>Why is this legal in Main?</p>\n<pre><code>consumeClazz(getCastedClass())\n</code></pre>\n<p><code>getCastedClass()</code> is declared to return <code>Class&lt;? extends Clazz&gt;</code>, which is compatible with the parameter type for <code>consumeClazz</code>.</p>\n<hr />\n<p>Why does it run successfully?</p>\n<p>At runtime, the generics are erased, and your <code>Class&lt;...&gt;</code> references are just <code>Class</code> objects. On that basis, getting the class and printing its name is all legitimate.</p>\n"}],"owner":{"account_id":22365058,"reputation":49,"user_id":16580991,"display_name":"willkroboth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70632726,"answer_count":1,"score":1,"last_activity_date":1641650145,"creation_date":1641647555,"question_id":70632653,"body_markdown":"I encountered some weird behavior in a project I was working on and made this example:\r\n```\r\nclass Main implements ClassGetter{\r\n    public static void main(String[] args) {\r\n        Main m = new Main();\r\n        m.test();\r\n    }\r\n\r\n    public void test(){\r\n        consumeClazz(this.getClass()); // error in editor\r\n        consumeClazz((Class&lt;? extends Clazz&gt;) this.getClass()); // error in editor\r\n        consumeClazz(getCastedClass()); // compiles and runs successfully\r\n    }\r\n\r\n    public void consumeClazz(Class&lt;? extends Clazz&gt; clazz){\r\n        System.out.println(clazz.getSimpleName());\r\n    }\r\n}\r\n\r\ninterface ClassGetter{\r\n    default Class&lt;? extends Clazz&gt; getCastedClass(){\r\n        return (Class&lt;? extends Clazz&gt;) this.getClass(); // warning in editor\r\n    }\r\n}\r\n\r\nclass Clazz{}\r\n```\r\n\r\nThe focus is the `test()` method in the `Main` class and the `getCastedClass()` method of the `ClassGetter` interface. The first two lines in the `test()` method give errors in the editor that explain how `Class&lt;capture of ? extends Main&gt;` cannot be converted to `Class&lt;? extends Clazz&gt;`. However, the last line in `test()` will compile and run successfully, printing out `&quot;Main&quot;`. Interestingly, I get the warning `Unchecked cast: &#39;Class&lt;capture&lt;? extends ClassGetter&gt;&gt;&#39; to &#39;Class&lt;? extends Clazz&gt;&#39;` on the line in the `getCastedClass()` method, which made me expect the last example wouldn&#39;t work at all like the first two.\r\n\r\nWhy does the last example work while the first two never compile?","title":"Weird contradictory behavior when casting classes in a interface","body":"<p>I encountered some weird behavior in a project I was working on and made this example:</p>\n<pre><code>class Main implements ClassGetter{\n    public static void main(String[] args) {\n        Main m = new Main();\n        m.test();\n    }\n\n    public void test(){\n        consumeClazz(this.getClass()); // error in editor\n        consumeClazz((Class&lt;? extends Clazz&gt;) this.getClass()); // error in editor\n        consumeClazz(getCastedClass()); // compiles and runs successfully\n    }\n\n    public void consumeClazz(Class&lt;? extends Clazz&gt; clazz){\n        System.out.println(clazz.getSimpleName());\n    }\n}\n\ninterface ClassGetter{\n    default Class&lt;? extends Clazz&gt; getCastedClass(){\n        return (Class&lt;? extends Clazz&gt;) this.getClass(); // warning in editor\n    }\n}\n\nclass Clazz{}\n</code></pre>\n<p>The focus is the <code>test()</code> method in the <code>Main</code> class and the <code>getCastedClass()</code> method of the <code>ClassGetter</code> interface. The first two lines in the <code>test()</code> method give errors in the editor that explain how <code>Class&lt;capture of ? extends Main&gt;</code> cannot be converted to <code>Class&lt;? extends Clazz&gt;</code>. However, the last line in <code>test()</code> will compile and run successfully, printing out <code>&quot;Main&quot;</code>. Interestingly, I get the warning <code>Unchecked cast: 'Class&lt;capture&lt;? extends ClassGetter&gt;&gt;' to 'Class&lt;? extends Clazz&gt;'</code> on the line in the <code>getCastedClass()</code> method, which made me expect the last example wouldn't work at all like the first two.</p>\n<p>Why does the last example work while the first two never compile?</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":19344647,"reputation":323,"user_id":14143465,"display_name":"Hubby Tiwari"},"score":0,"creation_date":1641649592,"post_id":70632789,"comment_id":124862382,"body_markdown":"Dhiru, I think the issue is here,photoListAdapter.setUriStringList(uriStringList),","body":"Dhiru, I think the issue is here,photoListAdapter.setUriStringList(uriStringList),"},{"owner":{"account_id":7022638,"reputation":58830,"user_id":5381331,"accept_rate":60,"display_name":"Linh"},"score":0,"creation_date":1641649626,"post_id":70632789,"comment_id":124862388,"body_markdown":"I think you can use `uriStringList.size()`?","body":"I think you can use <code>uriStringList.size()</code>?"},{"owner":{"account_id":20452988,"reputation":41,"user_id":15007325,"display_name":"dhirunand"},"score":0,"creation_date":1641654671,"post_id":70632789,"comment_id":124863690,"body_markdown":"@Linh yes uriStringList.size() will give result but i was looking for any listener/Observer on adapter","body":"@Linh yes uriStringList.size() will give result but i was looking for any listener/Observer on adapter"}],"answers":[{"tags":[],"owner":{"account_id":13464558,"reputation":8533,"user_id":9715339,"display_name":"Mayur Gajra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1641649709,"creation_date":1641649709,"answer_id":70632933,"question_id":70632789,"body_markdown":"In your fragment you can use `registerAdapterDataObserver` on your adapter &amp; when item gets removed you&#39;ll be notified &amp; then get the new size.\r\n\r\nFor example:\r\n\r\n    photoListAdapter.registerAdapterDataObserver(new RecyclerView.AdapterDataObserver() {\r\n                @Override\r\n                public void onItemRangeRemoved(int positionStart, int itemCount) {\r\n                    Log.d(\r\n                            &quot;MG-onItemRangeRemoved&quot;, &quot;count&quot; + photoListAdapter.getItemCount()\r\n                    );\r\n                }\r\n            });","title":"get recyclerview current size after item change(after item removed)(notifyItemRemoved(position))","body":"<p>In your fragment you can use <code>registerAdapterDataObserver</code> on your adapter &amp; when item gets removed you'll be notified &amp; then get the new size.</p>\n<p>For example:</p>\n<pre><code>photoListAdapter.registerAdapterDataObserver(new RecyclerView.AdapterDataObserver() {\n            @Override\n            public void onItemRangeRemoved(int positionStart, int itemCount) {\n                Log.d(\n                        &quot;MG-onItemRangeRemoved&quot;, &quot;count&quot; + photoListAdapter.getItemCount()\n                );\n            }\n        });\n</code></pre>\n"}],"owner":{"account_id":20452988,"reputation":41,"user_id":15007325,"display_name":"dhirunand"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":483,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70632933,"answer_count":1,"score":1,"last_activity_date":1641649709,"creation_date":1641648668,"question_id":70632789,"body_markdown":"[![recycler view item removable at run time][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wO8Dp.jpg\r\n\r\ni&#39;ve to get dataset size of recyclerview after removable of item from recycler view\r\n\r\ni&#39;m removing item from adapter\r\n\r\n        @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n\r\n        String string = uriStringList.get(position);\r\n\r\n        if (string != null) {\r\n            holder.imagePhoto.setImageURI(Uri.parse(string));\r\n        }\r\n\r\n        holder.crossImg.setOnClickListener(view -&gt; {\r\n            uriStringList.remove(position);\r\n            notifyItemRemoved(position);\r\n        });\r\n\r\n    }\r\n\r\ncode in Fragment\r\n\r\n        binding.recyclerViewImg.setLayoutManager(new LinearLayoutManager(requireContext(), RecyclerView.HORIZONTAL, false));\r\n        binding.recyclerViewImg.setHasFixedSize(true);\r\n        photoListAdapter = new PhotoListAdapter();\r\n        binding.recyclerViewImg.setAdapter(photoListAdapter);\r\n        photoListAdapter.setUriStringList(uriStringList);","title":"get recyclerview current size after item change(after item removed)(notifyItemRemoved(position))","body":"<p><a href=\"https://i.stack.imgur.com/wO8Dp.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wO8Dp.jpg\" alt=\"recycler view item removable at run time\" /></a></p>\n<p>i've to get dataset size of recyclerview after removable of item from recycler view</p>\n<p>i'm removing item from adapter</p>\n<pre><code>    @Override\npublic void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n\n    String string = uriStringList.get(position);\n\n    if (string != null) {\n        holder.imagePhoto.setImageURI(Uri.parse(string));\n    }\n\n    holder.crossImg.setOnClickListener(view -&gt; {\n        uriStringList.remove(position);\n        notifyItemRemoved(position);\n    });\n\n}\n</code></pre>\n<p>code in Fragment</p>\n<pre><code>    binding.recyclerViewImg.setLayoutManager(new LinearLayoutManager(requireContext(), RecyclerView.HORIZONTAL, false));\n    binding.recyclerViewImg.setHasFixedSize(true);\n    photoListAdapter = new PhotoListAdapter();\n    binding.recyclerViewImg.setAdapter(photoListAdapter);\n    photoListAdapter.setUriStringList(uriStringList);\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1641649317,"post_id":70632851,"comment_id":124862319,"body_markdown":"&quot;*Why do these two expressions give the same result?*&quot; - &quot;*Why do the two calculations vol1 and vol2 give two different results?*&quot; --- Please take more care when composing the question - especially when composing the title.","body":"&quot;<i>Why do these two expressions give the same result?</i>&quot; - &quot;<i>Why do the two calculations vol1 and vol2 give two different results?</i>&quot; --- Please take more care when composing the question - especially when composing the title."},{"owner":{"display_name":"user17233545"},"score":0,"creation_date":1641649405,"post_id":70632851,"comment_id":124862333,"body_markdown":"`(4 / 3)` -&gt; `(4.0 / 3)`","body":"<code>(4 &#47; 3)</code> -&gt; <code>(4.0 &#47; 3)</code>"},{"owner":{"account_id":16135604,"reputation":7,"user_id":11648139,"display_name":"Geeniee"},"score":0,"creation_date":1641649560,"post_id":70632851,"comment_id":124862379,"body_markdown":"why does that change the result? @英語は苦手","body":"why does that change the result? @英語は苦手"},{"owner":{"account_id":2360785,"reputation":11123,"user_id":2067492,"display_name":"matt"},"score":1,"creation_date":1641649621,"post_id":70632851,"comment_id":124862387,"body_markdown":"4/3 is integer division and equals 1. 4.0/3 is float division and equals about 1.33.","body":"4/3 is integer division and equals 1. 4.0/3 is float division and equals about 1.33."}],"owner":{"account_id":16135604,"reputation":7,"user_id":11648139,"display_name":"Geeniee"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1641649275,"answer_count":0,"score":0,"last_activity_date":1641649451,"creation_date":1641649161,"question_id":70632851,"body_markdown":"        int r = 10;\r\n        double pi = 3.141;\r\n        double vol1 = 4 * pi / 3 * r * r * r; //4188.0\r\n        double vol2 = pi * r * r * r * (4 / 3);//3141.0\r\n        \r\nWhy do the two calculations vol1 and vol2 give two different results? The order of operations says that parentheses are the only precedence to consider and it should not affect the result?","title":"Order of operations: Why do these two expressions give different result?","body":"<pre><code>    int r = 10;\n    double pi = 3.141;\n    double vol1 = 4 * pi / 3 * r * r * r; //4188.0\n    double vol2 = pi * r * r * r * (4 / 3);//3141.0\n    \n</code></pre>\n<p>Why do the two calculations vol1 and vol2 give two different results? The order of operations says that parentheses are the only precedence to consider and it should not affect the result?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":13770793,"reputation":25892,"user_id":9938317,"display_name":"rioV8"},"score":0,"creation_date":1641637470,"post_id":70628627,"comment_id":124859844,"body_markdown":"from the blog `IntelliJ IDEA groups its live templates either by language or by functionality.`","body":"from the blog <code>IntelliJ IDEA groups its live templates either by language or by functionality.</code>"}],"answers":[{"tags":[],"owner":{"account_id":14353244,"reputation":49,"user_id":15447427,"display_name":"Johnes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641648861,"creation_date":1641647661,"answer_id":70632668,"question_id":70628627,"body_markdown":"Partial answer:\r\n\r\n - live templates can be exported into an XML file\r\n - the xml file can be imported back\r\n --&gt; **thus building an xml file ready for import containing the snippets in\r\n   bulk is possible.**\r\n\r\nThe only question which remains if somehow this import can be automatized? By every open / by pressing a button or any idea? So the IDEA would display always the actual snippets from the xml file without the need for manually importing them.\r\n\r\n**I GOT THE SOLUTION:**\r\n\r\nThe template file is located here:\r\nC:\\Users\\user\\AppData\\Roaming\\JetBrains\\IdeaIC2021.3\\templates\\Java.xml\r\n\r\nSo if I create my new snippets which overwrite this file then at every idea opening / restart I will see the modified custom snippets thus there is no need for manual import ever.\r\n\r\nCheers.","title":"Is it possible to read custom snippets from a json file into IDEA editor just like in VSC?","body":"<p>Partial answer:</p>\n<ul>\n<li>live templates can be exported into an XML file</li>\n<li>the xml file can be imported back\n--&gt; <strong>thus building an xml file ready for import containing the snippets in\nbulk is possible.</strong></li>\n</ul>\n<p>The only question which remains if somehow this import can be automatized? By every open / by pressing a button or any idea? So the IDEA would display always the actual snippets from the xml file without the need for manually importing them.</p>\n<p><strong>I GOT THE SOLUTION:</strong></p>\n<p>The template file is located here:\nC:\\Users\\user\\AppData\\Roaming\\JetBrains\\IdeaIC2021.3\\templates\\Java.xml</p>\n<p>So if I create my new snippets which overwrite this file then at every idea opening / restart I will see the modified custom snippets thus there is no need for manual import ever.</p>\n<p>Cheers.</p>\n"}],"owner":{"account_id":14353244,"reputation":49,"user_id":15447427,"display_name":"Johnes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641648861,"creation_date":1641601614,"question_id":70628627,"body_markdown":"In Visual Studio Code there is a possibility to create a java.json, php.json etc. file in a specific folder which contains code snippets in a specific format and these custom snippets are displayed / read under Intellisense when a .java / .php file etc. is edited.\r\n\r\nSo a custom snippet can be inserted in seconds.\r\n\r\nIs this possible somehow with IDEA? I am new to Java, and I like the IDE, but I miss this feature so much. Is there any workaround, or any idea to achieve this?\r\n\r\nIn worst case scenario I can open a VSC in the background and switch windows if I need a fast search for one of my earlier snippets but it&#39;s not that comfortable. Or I have to use only VSC and leave IDEA behind, but as far as I see IDEA has some very good core features which VSC can not have for Java.\r\n\r\nThank you very much\r\n\r\nPS: about VSC snippets: https://code.visualstudio.com/docs/editor/userdefinedsnippets\r\n\r\nPS2: LiveTemplates in IDEA seem quite useless: https://blog.jetbrains.com/idea/2020/05/write-code-faster-using-live-templates/","title":"Is it possible to read custom snippets from a json file into IDEA editor just like in VSC?","body":"<p>In Visual Studio Code there is a possibility to create a java.json, php.json etc. file in a specific folder which contains code snippets in a specific format and these custom snippets are displayed / read under Intellisense when a .java / .php file etc. is edited.</p>\n<p>So a custom snippet can be inserted in seconds.</p>\n<p>Is this possible somehow with IDEA? I am new to Java, and I like the IDE, but I miss this feature so much. Is there any workaround, or any idea to achieve this?</p>\n<p>In worst case scenario I can open a VSC in the background and switch windows if I need a fast search for one of my earlier snippets but it's not that comfortable. Or I have to use only VSC and leave IDEA behind, but as far as I see IDEA has some very good core features which VSC can not have for Java.</p>\n<p>Thank you very much</p>\n<p>PS: about VSC snippets: <a href=\"https://code.visualstudio.com/docs/editor/userdefinedsnippets\" rel=\"nofollow noreferrer\">https://code.visualstudio.com/docs/editor/userdefinedsnippets</a></p>\n<p>PS2: LiveTemplates in IDEA seem quite useless: <a href=\"https://blog.jetbrains.com/idea/2020/05/write-code-faster-using-live-templates/\" rel=\"nofollow noreferrer\">https://blog.jetbrains.com/idea/2020/05/write-code-faster-using-live-templates/</a></p>\n"},{"tags":["java","spring-boot","freemarker"],"answers":[{"tags":[],"owner":{"account_id":23759020,"reputation":59,"user_id":17774714,"display_name":"mikebrucks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641648817,"creation_date":1641648817,"answer_id":70632808,"question_id":70632572,"body_markdown":"I found the problem it was from spring not from freemarker in ElemeantCollection need to add FetchType.EAGER to work it&#39;s seem spring don&#39;t have access to daysOfTheWeek because it close JPA connection","title":"FreeMarker _TemplateModelException extended_hash+string","body":"<p>I found the problem it was from spring not from freemarker in ElemeantCollection need to add FetchType.EAGER to work it's seem spring don't have access to daysOfTheWeek because it close JPA connection</p>\n"}],"owner":{"account_id":23759020,"reputation":59,"user_id":17774714,"display_name":"mikebrucks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1060,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1641648817,"creation_date":1641647059,"question_id":70632572,"body_markdown":"I ran into this error in freemarker it was working ok but now is giving me this, I am using last version from spring starter io. I don&#39;t think is need an update. I can&#39;t figure out this is a Bug or error from my code. \r\n\r\n\r\n**Error**\r\n&gt; freemarker.core._TemplateModelException: An error has occurred when reading existing sub-variable &quot;daysOfTheWeek&quot;; see cause exception! The type of the containing value was: extended_hash+string (com.mikedev.HRMSystem.model.Schedule wrapped into f.e.b.StringModel)\r\n   \r\n**Entity filed List**\r\n\r\n    @Column(name= &quot;day_of_the_week&quot;)\r\n    @ElementCollection(targetClass=String.class)\r\n    private List&lt;String&gt; daysOfTheWeek;\r\n\r\n**FreeMarker expresion**\r\n\r\n   \r\n\r\n    &lt;#if schedule.daysOfTheWeek?seq_contains(&quot;sunday&quot;)&gt;\r\n\r\n","title":"FreeMarker _TemplateModelException extended_hash+string","body":"<p>I ran into this error in freemarker it was working ok but now is giving me this, I am using last version from spring starter io. I don't think is need an update. I can't figure out this is a Bug or error from my code.</p>\n<p><strong>Error</strong></p>\n<blockquote>\n<p>freemarker.core._TemplateModelException: An error has occurred when reading existing sub-variable &quot;daysOfTheWeek&quot;; see cause exception! The type of the containing value was: extended_hash+string (com.mikedev.HRMSystem.model.Schedule wrapped into f.e.b.StringModel)</p>\n</blockquote>\n<p><strong>Entity filed List</strong></p>\n<pre><code>@Column(name= &quot;day_of_the_week&quot;)\n@ElementCollection(targetClass=String.class)\nprivate List&lt;String&gt; daysOfTheWeek;\n</code></pre>\n<p><strong>FreeMarker expresion</strong></p>\n<pre><code>&lt;#if schedule.daysOfTheWeek?seq_contains(&quot;sunday&quot;)&gt;\n</code></pre>\n"},{"tags":["java","data-mining","information-retrieval","text-mining"],"answers":[{"tags":[],"owner":{"account_id":3122569,"reputation":1943,"user_id":2642058,"accept_rate":100,"display_name":"Ashish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1391076126,"creation_date":1391075755,"answer_id":21453103,"question_id":21063206,"body_markdown":"I found my answer.\r\nIn this we have to generate **arff** file.\r\n\r\nIn .arff file\r\n\r\n**@RELATION section** will contain all words present in your whole document after **preprocessing** .Each word will be of type **real** because **tfidf value** is a real value.\r\n\r\n**@data section** will contain their **tfidf** value calculated during **preprocessing**.\r\nfor example first will contain **tfidf value** all words present in first document an at last  colunm the document categary.\r\n\r\n    @RELATION filename\r\n    @ATTRIBUTE word1 real\r\n    @ATTRIBUTE word2 real\r\n    @ATTRIBUTE word3 real\r\n    .\r\n    .\r\n    .\r\n    .so on\r\n    @ATTRIBUTE class {cacm,cisi,cran,med}\r\n\r\n    @data\r\n    0.5545479562,0.27,0.554544479562,0.4479562,cacm\r\n    0.5545479562,0.27,0.554544479562,0.4479562,cacm\r\n    0.55454479562,0.1619617,0.579562,0.5542,cisi\r\n    0.5545479562,0.27,0.554544479562,0.4479562,cisi\r\n    0.0,0.2396113617,0.44479562,0.2,cran\r\n    0.5545479562,0.27,0.554544479562,0.4479562,carn\r\n    0.5545177444479562,0.26196113617,0.0,0.0,med\r\n    0.5545479562,0.27,0.554544479562,0.4479562,med\r\n\r\n\r\nafter you generate this file you can give this file as input to `InfoGainAttributeEval.java`. and this working for me.","title":"Information Gain Calculation for a text file?","body":"<p>I found my answer.\nIn this we have to generate <strong>arff</strong> file.</p>\n\n<p>In .arff file</p>\n\n<p><strong>@RELATION section</strong> will contain all words present in your whole document after <strong>preprocessing</strong> .Each word will be of type <strong>real</strong> because <strong>tfidf value</strong> is a real value.</p>\n\n<p><strong>@data section</strong> will contain their <strong>tfidf</strong> value calculated during <strong>preprocessing</strong>.\nfor example first will contain <strong>tfidf value</strong> all words present in first document an at last  colunm the document categary.</p>\n\n<pre><code>@RELATION filename\n@ATTRIBUTE word1 real\n@ATTRIBUTE word2 real\n@ATTRIBUTE word3 real\n.\n.\n.\n.so on\n@ATTRIBUTE class {cacm,cisi,cran,med}\n\n@data\n0.5545479562,0.27,0.554544479562,0.4479562,cacm\n0.5545479562,0.27,0.554544479562,0.4479562,cacm\n0.55454479562,0.1619617,0.579562,0.5542,cisi\n0.5545479562,0.27,0.554544479562,0.4479562,cisi\n0.0,0.2396113617,0.44479562,0.2,cran\n0.5545479562,0.27,0.554544479562,0.4479562,carn\n0.5545177444479562,0.26196113617,0.0,0.0,med\n0.5545479562,0.27,0.554544479562,0.4479562,med\n</code></pre>\n\n<p>after you generate this file you can give this file as input to <code>InfoGainAttributeEval.java</code>. and this working for me.</p>\n"},{"tags":[],"owner":{"account_id":16423250,"reputation":219,"user_id":11863934,"display_name":"fsk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641648036,"creation_date":1641640918,"answer_id":70631834,"question_id":21063206,"body_markdown":"I had the same issue. I converted the .dat file to a .xlsx file (Excel) and this solved the problem.","title":"Information Gain Calculation for a text file?","body":"<p>I had the same issue. I converted the .dat file to a .xlsx file (Excel) and this solved the problem.</p>\n"}],"owner":{"account_id":3122569,"reputation":1943,"user_id":2642058,"accept_rate":100,"display_name":"Ashish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2193,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":21453103,"answer_count":2,"score":2,"last_activity_date":1641648036,"creation_date":1389449116,"question_id":21063206,"body_markdown":"I&#39;m working on **&quot;text categorization using Information gain,PCA and Genetic Algorithm&quot;** But after performing **Preprocessing**(Stemming, stopword removal, TFIDF) on the document m confused how to move ahead for information gain part.\r\n\r\nmy **out file** contain **word** and there **TFIDF** value.\r\n\r\nlike\r\n**WORD - TFIDF VALUE**\r\n\r\n  together(word) - 0.235(tfidf value)\r\n\r\n  come(word) - 0.2548(tfidf value)\r\n\r\n\r\nwhen using weka for information gain (&quot;**InfoGainAttributeEval.java**&quot;) it require **.arff** file format as input.\r\n\r\nIs there any to convert **text** file into **.arff** format.\r\nor any other way to preform Information gain other than weka?\r\n\r\nIs there any other open source for Calculating information gain for document ?","title":"Information Gain Calculation for a text file?","body":"<p>I'm working on <strong>\"text categorization using Information gain,PCA and Genetic Algorithm\"</strong> But after performing <strong>Preprocessing</strong>(Stemming, stopword removal, TFIDF) on the document m confused how to move ahead for information gain part.</p>\n\n<p>my <strong>out file</strong> contain <strong>word</strong> and there <strong>TFIDF</strong> value.</p>\n\n<p>like\n<strong>WORD - TFIDF VALUE</strong></p>\n\n<p>together(word) - 0.235(tfidf value)</p>\n\n<p>come(word) - 0.2548(tfidf value)</p>\n\n<p>when using weka for information gain (\"<strong>InfoGainAttributeEval.java</strong>\") it require <strong>.arff</strong> file format as input.</p>\n\n<p>Is there any to convert <strong>text</strong> file into <strong>.arff</strong> format.\nor any other way to preform Information gain other than weka?</p>\n\n<p>Is there any other open source for Calculating information gain for document ?</p>\n"},{"tags":["java","image-manipulation"],"answers":[{"tags":[],"owner":{"account_id":52652,"reputation":8474,"user_id":157336,"accept_rate":100,"display_name":"Etaoin"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1272538041,"creation_date":1272535236,"answer_id":2736340,"question_id":2736320,"body_markdown":"Sure.  First load the image, probably using a method of `ImageIO`. Then, using a `Graphics` object representing the image itself, call the `drawString` method.","title":"Write text onto image in Java","body":"<p>Sure.  First load the image, probably using a method of <code>ImageIO</code>. Then, using a <code>Graphics</code> object representing the image itself, call the <code>drawString</code> method.</p>\n"},{"tags":[],"owner":{"account_id":17503,"reputation":18878,"user_id":39242,"accept_rate":71,"display_name":"Joshua Fox"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1272535289,"creation_date":1272535289,"answer_id":2736349,"question_id":2736320,"body_markdown":"Take a look at [Graphics2D.drawString][1]\r\n\r\n\r\n  [1]: http://www.java2s.com/Code/JavaAPI/java.awt/Graphics2DdrawStringStringstrintxinty.htm","title":"Write text onto image in Java","body":"<p>Take a look at <a href=\"http://www.java2s.com/Code/JavaAPI/java.awt/Graphics2DdrawStringStringstrintxinty.htm\" rel=\"nofollow noreferrer\">Graphics2D.drawString</a></p>\n"},{"tags":[],"owner":{"account_id":3081142,"reputation":497,"user_id":2609313,"display_name":"Perumal Ramasamy"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1374572924,"creation_date":1374559183,"answer_id":17802477,"question_id":2736320,"body_markdown":"Try the below code\r\n\r\n    import java.awt.Color;\r\n    import java.awt.Font;\r\n    import java.awt.Graphics;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import javax.imageio.ImageIO;\r\n    \r\n    public class Testing {\r\n    \tpublic static void main(String arg[]) throws IOException {\r\n    \t\tString key = &quot;Sample&quot;;\r\n    \t\tBufferedImage bufferedImage = new BufferedImage(170, 30,\r\n    \t\t\t\tBufferedImage.TYPE_INT_RGB);\r\n    \t\tGraphics graphics = bufferedImage.getGraphics();\r\n    \t\tgraphics.setColor(Color.LIGHT_GRAY);\r\n    \t\tgraphics.fillRect(0, 0, 200, 50);\r\n    \t\tgraphics.setColor(Color.BLACK);\r\n    \t\tgraphics.setFont(new Font(&quot;Arial Black&quot;, Font.BOLD, 20));\r\n    \t\tgraphics.drawString(key, 10, 25);\r\n    \t\tImageIO.write(bufferedImage, &quot;jpg&quot;, new File(\r\n    \t\t\t\t&quot;C:/Users/admin/desktop/image.jpg&quot;));\r\n    \t\tSystem.out.println(&quot;Image Created&quot;);\r\n    \t}\r\n    }\r\n\r\n","title":"Write text onto image in Java","body":"<p>Try the below code</p>\n\n<pre><code>import java.awt.Color;\nimport java.awt.Font;\nimport java.awt.Graphics;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport javax.imageio.ImageIO;\n\npublic class Testing {\n    public static void main(String arg[]) throws IOException {\n        String key = \"Sample\";\n        BufferedImage bufferedImage = new BufferedImage(170, 30,\n                BufferedImage.TYPE_INT_RGB);\n        Graphics graphics = bufferedImage.getGraphics();\n        graphics.setColor(Color.LIGHT_GRAY);\n        graphics.fillRect(0, 0, 200, 50);\n        graphics.setColor(Color.BLACK);\n        graphics.setFont(new Font(\"Arial Black\", Font.BOLD, 20));\n        graphics.drawString(key, 10, 25);\n        ImageIO.write(bufferedImage, \"jpg\", new File(\n                \"C:/Users/admin/desktop/image.jpg\"));\n        System.out.println(\"Image Created\");\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":26152,"reputation":7855,"user_id":67796,"accept_rate":95,"display_name":"n002213f"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54252,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"answer_count":3,"score":17,"last_activity_date":1641647998,"creation_date":1272535051,"question_id":2736320,"body_markdown":"Is there a Java library to write text to images, same as PHP&#39;s [GD library][1].\r\n\r\n\r\n  [1]: http://php.net/manual/en/ref.image.php","title":"Write text onto image in Java","body":"<p>Is there a Java library to write text to images, same as PHP's <a href=\"http://php.net/manual/en/ref.image.php\" rel=\"noreferrer\">GD library</a>.</p>\n"},{"tags":["java","arrays","string"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1641646998,"post_id":70632547,"comment_id":124861805,"body_markdown":"What exactly is the behaviour? Do you get an `Exception`? If so: please [edit] the post and add the stack trace. --- Please format the code properly.","body":"What exactly is the behaviour? Do you get an <code>Exception</code>? If so: please <a href=\"https://stackoverflow.com/posts/70632547/edit\">edit</a> the post and add the stack trace. --- Please format the code properly."},{"owner":{"account_id":23869635,"reputation":1,"user_id":17871510,"display_name":"Kristina Đukić"},"score":0,"creation_date":1641647437,"post_id":70632547,"comment_id":124861893,"body_markdown":"Well,  I don&#39;t get an exception, for example if I type that the number of words is 4 and then when I try to enter the words, as I am entering after the third one the code goes to the next line, it prints out my array with only three elements.","body":"Well,  I don&#39;t get an exception, for example if I type that the number of words is 4 and then when I try to enter the words, as I am entering after the third one the code goes to the next line, it prints out my array with only three elements."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1641647536,"post_id":70632547,"comment_id":124861916,"body_markdown":"You may want to [edit] the post and add this information.","body":"You may want to <a href=\"https://stackoverflow.com/posts/70632547/edit\">edit</a> the post and add this information."},{"owner":{"account_id":23869635,"reputation":1,"user_id":17871510,"display_name":"Kristina Đukić"},"score":0,"creation_date":1641647639,"post_id":70632547,"comment_id":124861935,"body_markdown":"OK, will do, thanks.","body":"OK, will do, thanks."}],"answers":[{"tags":[],"owner":{"account_id":11766020,"reputation":121,"user_id":8610598,"display_name":"Spider"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641647619,"creation_date":1641647619,"answer_id":70632658,"question_id":70632547,"body_markdown":"It is because when you use nextInt(), it is not reading the newline character. You can avoid this using 2 approaches.\r\n\r\n1. Use nextLine i.e. use Integer.parseInt(scanner.nextLine()) instead of nextInt().\r\n\r\n        int n = Integer.parseInt(scan.nextLine());\r\n        String arr[] = new String[n];\r\n\r\n2. Call nextLine before for loop so that the redundant newline is consumed before your for loop.  \r\n\r\n        int n = scan.nextInt();\r\n        String arr[] = new String[n];\r\n        scan.nextLine();\r\n        System.out.println(&quot;Please enter the words&quot;);","title":"Can&#39;t enter all of the strings I want into the string array","body":"<p>It is because when you use nextInt(), it is not reading the newline character. You can avoid this using 2 approaches.</p>\n<ol>\n<li><p>Use nextLine i.e. use Integer.parseInt(scanner.nextLine()) instead of nextInt().</p>\n<pre><code> int n = Integer.parseInt(scan.nextLine());\n String arr[] = new String[n];\n</code></pre>\n</li>\n<li><p>Call nextLine before for loop so that the redundant newline is consumed before your for loop.</p>\n<pre><code> int n = scan.nextInt();\n String arr[] = new String[n];\n scan.nextLine();\n System.out.println(&quot;Please enter the words&quot;);\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":23869635,"reputation":1,"user_id":17871510,"display_name":"Kristina Đukić"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1641647694,"answer_count":1,"score":0,"last_activity_date":1641647619,"creation_date":1641646902,"question_id":70632547,"body_markdown":"So, I know this is probably a really stupid question, I am a beginner trying to learn Java basics and I have a problem with string array that I can&#39;t quite figure out. When I try to enter words into string array and the number of words is set by user (for example 5) I always can enter one less word (for example 4 instead of 5). My code is down below.\r\n\r\n    public static void main(String[] args) {\r\n\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Enter the number of words&quot;);\r\n\t\tint n = scan.nextInt();\r\n\t\tString arr[] = new String[n];\r\n\t\tSystem.out.println(&quot;Please enter the words&quot;);\r\n\t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n\t\t\tarr[i] = scan.nextLine();\r\n\t\t}\r\n\r\n\t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n\t\t\tSystem.out.print(&quot; &quot; + arr[i]);\r\n\t\t}\r\n\r\n\t}\r\n\t\r\n\t","title":"Can&#39;t enter all of the strings I want into the string array","body":"<p>So, I know this is probably a really stupid question, I am a beginner trying to learn Java basics and I have a problem with string array that I can't quite figure out. When I try to enter words into string array and the number of words is set by user (for example 5) I always can enter one less word (for example 4 instead of 5). My code is down below.</p>\n<pre><code>public static void main(String[] args) {\n\n    Scanner scan = new Scanner(System.in);\n    System.out.println(&quot;Enter the number of words&quot;);\n    int n = scan.nextInt();\n    String arr[] = new String[n];\n    System.out.println(&quot;Please enter the words&quot;);\n    for (int i = 0; i &lt; arr.length; i++) {\n        arr[i] = scan.nextLine();\n    }\n\n    for (int i = 0; i &lt; arr.length; i++) {\n        System.out.print(&quot; &quot; + arr[i]);\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","gradle","gradle-properties"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1641647700,"post_id":70632654,"comment_id":124861951,"body_markdown":"I ***strongly*** recommend that you use newer educational resources.","body":"I <b><i>strongly</i></b> recommend that you use newer educational resources."},{"owner":{"account_id":13180915,"reputation":1094,"user_id":9520315,"display_name":"Sujal Kumar"},"score":0,"creation_date":1641647848,"post_id":70632654,"comment_id":124861988,"body_markdown":"Additionally, you should use the latest Android Studio as well if you are still using that 2020 version.","body":"Additionally, you should use the latest Android Studio as well if you are still using that 2020 version."},{"owner":{"account_id":19344647,"reputation":323,"user_id":14143465,"display_name":"Hubby Tiwari"},"score":0,"creation_date":1641649283,"post_id":70632654,"comment_id":124862307,"body_markdown":"Sagar, you can update your Gradle version in 4 versions, and update the latest JDK 11.It would be helpful if you have posted your error logs......","body":"Sagar, you can update your Gradle version in 4 versions, and update the latest JDK 11.It would be helpful if you have posted your error logs......"},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1641649916,"post_id":70632654,"comment_id":124862465,"body_markdown":"The application development course you use is simply outdated.","body":"The application development course you use is simply outdated."},{"owner":{"account_id":22592116,"reputation":23,"user_id":16775065,"display_name":"Sagar Malhotra"},"score":0,"creation_date":1641650239,"post_id":70632654,"comment_id":124862540,"body_markdown":"buildscript {\n    repositories {\n        google()\n        mavenCentral()\n    }\n    dependencies {\n        classpath &#39;com.android.tools.build:gradle:7.0.0&#39;\n    }\n}","body":"buildscript {     repositories {         google()         mavenCentral()     }     dependencies {         classpath &#39;com.android.tools.build:gradle:7.0.0&#39;     } }"}],"owner":{"account_id":22592116,"reputation":23,"user_id":16775065,"display_name":"Sagar Malhotra"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1675,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1641647557,"creation_date":1641647557,"question_id":70632654,"body_markdown":"While following udacity&#39;s advanced android application development course, I faced that problem in chapter 2 where I was asked to clone the &quot;Android_me&quot; project from their github repo, I did the same steps I was supposed to do but android studio throws an error saying **The project uses Gradle 2.14.1 which is incompatible with Android Studio 2020.3.** I tried upgrading gradle version as well as classpath almost everything i can do, but still it&#39;s still showing me different errors, Also saw the same question for a different project but got no hint.\r\n**P.s.:** I have android studio version 2020.3 and the project was build 5 years ago. ","title":"The project uses Gradle 2.14.1 which is incompatible with Android Studio 2020.3","body":"<p>While following udacity's advanced android application development course, I faced that problem in chapter 2 where I was asked to clone the &quot;Android_me&quot; project from their github repo, I did the same steps I was supposed to do but android studio throws an error saying <strong>The project uses Gradle 2.14.1 which is incompatible with Android Studio 2020.3.</strong> I tried upgrading gradle version as well as classpath almost everything i can do, but still it's still showing me different errors, Also saw the same question for a different project but got no hint.\n<strong>P.s.:</strong> I have android studio version 2020.3 and the project was build 5 years ago.</p>\n"},{"tags":["java","intellij-idea","jdbc"],"comments":[{"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"score":0,"creation_date":1641607207,"post_id":70628852,"comment_id":124856067,"body_markdown":"What JDK did you tell IntelliJ to use for your project?  The CNFE is a surprise to me.  It&#39;s not the Maria DB driver class that&#39;s missing; it&#39;s a class in javax,sql package.  You should have that as part of the JDK.  Are you using Maven?","body":"What JDK did you tell IntelliJ to use for your project?  The CNFE is a surprise to me.  It&#39;s not the Maria DB driver class that&#39;s missing; it&#39;s a class in javax,sql package.  You should have that as part of the JDK.  Are you using Maven?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1641615994,"post_id":70628852,"comment_id":124856974,"body_markdown":"Likely a duplicate of [this](https://stackoverflow.com/q/37130437/642706). You seem to trying to use [`RowSet`](https://docs.oracle.com/en/java/javase/17/docs/api/java.sql.rowset/module-summary.html) without an implementation.","body":"Likely a duplicate of <a href=\"https://stackoverflow.com/q/37130437/642706\">this</a>. You seem to trying to use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.sql.rowset/module-summary.html\" rel=\"nofollow noreferrer\"><code>RowSet</code></a> without an implementation."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1641616081,"post_id":70628852,"comment_id":124856984,"body_markdown":"Post text rather than images.","body":"Post text rather than images."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1641636297,"post_id":70628852,"comment_id":124859640,"body_markdown":"Try adding `requires java.sql.rowset;` to your `module-info.java`. However, given the MariaDB Connector/J driver doesn&#39;t seem to be modularized (otherwise it would have worked), I think you&#39;re better off not using a modular project, and instead reverting to a non-modular Java project (i.e. remove `module-info.java`).","body":"Try adding <code>requires java.sql.rowset;</code> to your <code>module-info.java</code>. However, given the MariaDB Connector/J driver doesn&#39;t seem to be modularized (otherwise it would have worked), I think you&#39;re better off not using a modular project, and instead reverting to a non-modular Java project (i.e. remove <code>module-info.java</code>)."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1641636394,"post_id":70628852,"comment_id":124859659,"body_markdown":"@BasilBourque It looks more like MariaDB Connector/J is using some parts of javax.sql.rowset internally.","body":"@BasilBourque It looks more like MariaDB Connector/J is using some parts of javax.sql.rowset internally."}],"answers":[{"tags":[],"owner":{"account_id":22609125,"reputation":5,"user_id":16789594,"display_name":"Derek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641646815,"creation_date":1641646815,"answer_id":70632533,"question_id":70628852,"body_markdown":"The issue was in JDBC driver for mariadb v.2.7.2, 2.7.3, 2.7.4. I solved this problem by simply downgrading to an older version 2.4.4","title":"How to use JDBC in IntelliJ IDEA?","body":"<p>The issue was in JDBC driver for mariadb v.2.7.2, 2.7.3, 2.7.4. I solved this problem by simply downgrading to an older version 2.4.4</p>\n"}],"owner":{"account_id":22609125,"reputation":5,"user_id":16789594,"display_name":"Derek"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":420,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1641646815,"creation_date":1641604002,"question_id":70628852,"body_markdown":"I can&#39;t start &quot;Hellow World, JDBC&quot; app. \r\n\r\n    public static void main(String[] args) {\r\n            String username = &quot;user&quot;;\r\n            String password = &quot;pass&quot;;\r\n            String databaseUrl = &quot;jdbc:mariadb://localhost:3306/example&quot;;\r\n    \r\n            try{\r\n                Class.forName(&quot;org.mariadb.jdbc.Driver&quot;);\r\n                ClassLoader.getSystemClassLoader();\r\n                Connection connection = DriverManager.getConnection(databaseUrl, username, password);\r\n            } catch (ClassNotFoundException | SQLException throwables) {\r\n                throwables.printStackTrace();\r\n            }\r\n    \r\n        }\r\n\r\n1) [I know then the error in this string][1]. JVM can&#39;t find and load class by name, but idea seen this class.\r\n\r\n2) [I add mariadb connector as a jar lib][2]. It means then idea will feed classpass to jvm when it compiling.\r\n\r\n I also add `requires org.mariadb.jdbc;` in `module-info.java` , but I have the same error.\r\nI&#39;ve already tried creating new project. It&#39;s don&#39;t help me too. I really don&#39;t know why the JVM can&#39;t reached Driver class\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kFh32.png\r\n  [2]: https://i.stack.imgur.com/8sCdy.png","title":"How to use JDBC in IntelliJ IDEA?","body":"<p>I can't start &quot;Hellow World, JDBC&quot; app.</p>\n<pre><code>public static void main(String[] args) {\n        String username = &quot;user&quot;;\n        String password = &quot;pass&quot;;\n        String databaseUrl = &quot;jdbc:mariadb://localhost:3306/example&quot;;\n\n        try{\n            Class.forName(&quot;org.mariadb.jdbc.Driver&quot;);\n            ClassLoader.getSystemClassLoader();\n            Connection connection = DriverManager.getConnection(databaseUrl, username, password);\n        } catch (ClassNotFoundException | SQLException throwables) {\n            throwables.printStackTrace();\n        }\n\n    }\n</code></pre>\n<ol>\n<li><p><a href=\"https://i.stack.imgur.com/kFh32.png\" rel=\"nofollow noreferrer\">I know then the error in this string</a>. JVM can't find and load class by name, but idea seen this class.</p>\n</li>\n<li><p><a href=\"https://i.stack.imgur.com/8sCdy.png\" rel=\"nofollow noreferrer\">I add mariadb connector as a jar lib</a>. It means then idea will feed classpass to jvm when it compiling.</p>\n</li>\n</ol>\n<p>I also add <code>requires org.mariadb.jdbc;</code> in <code>module-info.java</code> , but I have the same error.\nI've already tried creating new project. It's don't help me too. I really don't know why the JVM can't reached Driver class</p>\n"},{"tags":["java","tomcat","unsatisfiedlinkerror"],"comments":[{"owner":{"account_id":593875,"reputation":20383,"user_id":276232,"accept_rate":50,"display_name":"Christopher Schultz"},"score":0,"creation_date":1356648604,"post_id":14048773,"comment_id":19436250,"body_markdown":"Your JVM probably comes with both 32-bit and 64-bit binaries, and you are evidently running the 32-bit JVM around Tomcat. How do you launch Tomcat (script or service)? Can you connect to the JVM using a profiler/jconsole/etc. and inspect the system properties? Specifically, what are the values for `java.vm.name` and `os.arch`?","body":"Your JVM probably comes with both 32-bit and 64-bit binaries, and you are evidently running the 32-bit JVM around Tomcat. How do you launch Tomcat (script or service)? Can you connect to the JVM using a profiler/jconsole/etc. and inspect the system properties? Specifically, what are the values for <code>java.vm.name</code> and <code>os.arch</code>?"},{"owner":{"account_id":1784609,"reputation":741,"user_id":1626371,"display_name":"cmdkennedy"},"score":0,"creation_date":1356923075,"post_id":14048773,"comment_id":19500346,"body_markdown":"Thanks for replying!  I first saw the error when launching Tomcat through Eclipse via &quot;Run As &gt; Run on server&quot;. I also saw it when running configtest.bat directly on Tomcat.\n\nIn the Java console, I got Virtual Machine:  Java HotSpot(TM) 64-Bit Server VM version 23.6-b04 and Architecture:&#160;\namd64.","body":"Thanks for replying!  I first saw the error when launching Tomcat through Eclipse via &quot;Run As &gt; Run on server&quot;. I also saw it when running configtest.bat directly on Tomcat.  In the Java console, I got Virtual Machine:  Java HotSpot(TM) 64-Bit Server VM version 23.6-b04 and Architecture:  amd64."}],"answers":[{"tags":[],"owner":{"account_id":1784609,"reputation":741,"user_id":1626371,"display_name":"cmdkennedy"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1356927159,"creation_date":1356927159,"answer_id":14097344,"question_id":14048773,"body_markdown":"Oh man, I found the problem.  I had an old JRE in a weird place which was being accessed by JRE_HOME.  I removed that dir, fixed my environment variables, and that took care of it.","title":"tcnative-1.dll Can&#39;t load AMD 64-bit .dll on a IA 32-bit platform","body":"<p>Oh man, I found the problem.  I had an old JRE in a weird place which was being accessed by JRE_HOME.  I removed that dir, fixed my environment variables, and that took care of it.</p>\n"},{"tags":[],"owner":{"account_id":348187,"reputation":383,"user_id":682734,"display_name":"Anuroopa Shenoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1360881570,"creation_date":1360881570,"answer_id":14885403,"question_id":14048773,"body_markdown":"For the same message \r\n    &quot;Can&#39;t load IA 32-bit .dll on a AMD 64-bit platform&quot;\r\nwhile trying to run a Jenkins slave on 64 bit windows machine, fixed it by removing JAVA_TOOL_OPTIONS and _JAVA_OPTIONS environment variables which were pointing to 32 bit jvmhook.","title":"tcnative-1.dll Can&#39;t load AMD 64-bit .dll on a IA 32-bit platform","body":"<p>For the same message \n    \"Can't load IA 32-bit .dll on a AMD 64-bit platform\"\nwhile trying to run a Jenkins slave on 64 bit windows machine, fixed it by removing JAVA_TOOL_OPTIONS and _JAVA_OPTIONS environment variables which were pointing to 32 bit jvmhook.</p>\n"},{"tags":[],"owner":{"account_id":3039061,"reputation":99,"user_id":2576513,"display_name":"Komal Ahluwalia"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1373634457,"creation_date":1373634457,"answer_id":17615647,"question_id":14048773,"body_markdown":"I just found the solution. The problem was that my JRE_HOME pointed to a 32 bit JRE where in my machine was a 64 bit machine. I installed the 64 bit JRE and replaced it in the system variable and the server started clean","title":"tcnative-1.dll Can&#39;t load AMD 64-bit .dll on a IA 32-bit platform","body":"<p>I just found the solution. The problem was that my JRE_HOME pointed to a 32 bit JRE where in my machine was a 64 bit machine. I installed the 64 bit JRE and replaced it in the system variable and the server started clean</p>\n"},{"tags":[],"owner":{"account_id":4458230,"reputation":329,"user_id":3627853,"display_name":"Anoop Velluva"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1423564365,"creation_date":1423564365,"answer_id":28429455,"question_id":14048773,"body_markdown":"Please check your default version pointed by eclipse.**Properties-&gt;Java Compiler**. Switch it to your JRE version installed. This worked for me. Thanks.","title":"tcnative-1.dll Can&#39;t load AMD 64-bit .dll on a IA 32-bit platform","body":"<p>Please check your default version pointed by eclipse.<strong>Properties->Java Compiler</strong>. Switch it to your JRE version installed. This worked for me. Thanks.</p>\n"},{"tags":[],"owner":{"account_id":1532531,"reputation":36089,"user_id":1429387,"accept_rate":63,"display_name":"naXa stands with Ukraine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1426776832,"creation_date":1426776832,"answer_id":29147833,"question_id":14048773,"body_markdown":"Please check your Project SDK version used by IDE.  \r\n&lt;pre&gt;\r\nIn Intellij IDEA:  &lt;strong&gt;File -&gt; Project Structure -&gt; Project&lt;/strong&gt;.\r\nIn Eclipse:        &lt;strong&gt;Properties -&gt; Java Compiler&lt;/strong&gt;.\r\n&lt;/pre&gt;\r\nSwitch it to JDK x64 version installed.","title":"tcnative-1.dll Can&#39;t load AMD 64-bit .dll on a IA 32-bit platform","body":"<p>Please check your Project SDK version used by IDE.  </p>\n\n<pre>\nIn Intellij IDEA:  <strong>File -> Project Structure -> Project</strong>.\nIn Eclipse:        <strong>Properties -> Java Compiler</strong>.\n</pre>\n\n<p>Switch it to JDK x64 version installed.</p>\n"},{"tags":[],"owner":{"account_id":14846804,"reputation":11,"user_id":10721916,"display_name":"Irina T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1543487319,"creation_date":1543487319,"answer_id":53536882,"question_id":14048773,"body_markdown":"The problem I faced with some similar message is that I&#39;ve created shared native library via swig on Linux machine (libmyLic.so) , copied it to Windows, and there was trying to run my java test. This test was supposed to use System.loadLibrary   or System.load  interface . It doesn&#39;t work, because swig created my shared native library (wrapping C++ code to java) for UNIX environment. when I copied all test to Linux it solves the problem. ","title":"tcnative-1.dll Can&#39;t load AMD 64-bit .dll on a IA 32-bit platform","body":"<p>The problem I faced with some similar message is that I've created shared native library via swig on Linux machine (libmyLic.so) , copied it to Windows, and there was trying to run my java test. This test was supposed to use System.loadLibrary   or System.load  interface . It doesn't work, because swig created my shared native library (wrapping C++ code to java) for UNIX environment. when I copied all test to Linux it solves the problem. </p>\n"},{"tags":[],"owner":{"account_id":2637457,"reputation":29149,"user_id":2281790,"accept_rate":46,"display_name":"Harald Coppoolse"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1552913215,"creation_date":1552913215,"answer_id":55221746,"question_id":14048773,"body_markdown":"Necromancing on a windows server (March 2019). There are several answers on stack overflow, for the problem **Can&#39;t load AMD 64-bit .dll on a IA 32-bit platform**&quot;. All show just part of the solution. Here is everything together.\r\n\r\nThe cause: a 32 bit version of Java is used, while the library expects a 64-bit version.\r\n\r\n(1) Make sure JAVA_HOME and CATALINA_HOME is set. Something like\r\n\r\n   set JAVA_HOME=C:\\Program Files\\Java\\jre1.8.0_201\r\n   set CATALINA_HOME=C:\\Program Files (x86)\\tomcat-9.0.16\r\n\r\nThese were the default locations in March 2019. The real versions don&#39;t matter, what is important that the following commands should work:\r\n\r\n    &quot;%java_home%\\bin\\java.exe&quot; -version\r\n    &quot;%catalina_home%\\bin\\configtest.bat&quot;\r\n\r\nThe first command should give you a few lines. One of the lines should say something like \r\n\r\n    Java HotSpot(TM) 64-bit Server VM\r\n\r\nOf course 64-bit only on a 64-bit windows machine. (how to check: `windows - run - system information`. It should mention in System Type whether is is a 32 or 54 based system)\r\n\r\nThe config test shows you the java and catalina home values that are used by TomCat.\r\n\r\nIf you have the incorrect Java version:\r\n\r\n - Uninstall old Java version: Control Panel - (main page) Programs - Uninstall a program\r\n - Go to [download Java manual download page][1]. (Google if the link doesn&#39;t work anymore) Don&#39;t do automatic downloads, you might get a different version than you want, depending on your browsers.\r\n - Download **windows offline 64-bit** Don&#39;t do the online, again: it looks at your browsers to decide whether you want 32 or 64-bit.\r\n - run the installer.\r\n - After installing Java, check your Path and your environment variables and adjust accordingly (In windows server 2012: Control Panel - System and Security - System - Change Settings - Advanced - Environment Variables)\r\n -re-open a command prompt. Check Path and environment variables again and run the tests above.\r\n\r\n\r\n\r\n  [1]: http://JAVA_HOME=C:%5CProgram%20Files%5CJava%5Cjre1.8.0_201","title":"tcnative-1.dll Can&#39;t load AMD 64-bit .dll on a IA 32-bit platform","body":"<p>Necromancing on a windows server (March 2019). There are several answers on stack overflow, for the problem <strong>Can't load AMD 64-bit .dll on a IA 32-bit platform</strong>\". All show just part of the solution. Here is everything together.</p>\n\n<p>The cause: a 32 bit version of Java is used, while the library expects a 64-bit version.</p>\n\n<p>(1) Make sure JAVA_HOME and CATALINA_HOME is set. Something like</p>\n\n<p>set JAVA_HOME=C:\\Program Files\\Java\\jre1.8.0_201\n   set CATALINA_HOME=C:\\Program Files (x86)\\tomcat-9.0.16</p>\n\n<p>These were the default locations in March 2019. The real versions don't matter, what is important that the following commands should work:</p>\n\n<pre><code>\"%java_home%\\bin\\java.exe\" -version\n\"%catalina_home%\\bin\\configtest.bat\"\n</code></pre>\n\n<p>The first command should give you a few lines. One of the lines should say something like </p>\n\n<pre><code>Java HotSpot(TM) 64-bit Server VM\n</code></pre>\n\n<p>Of course 64-bit only on a 64-bit windows machine. (how to check: <code>windows - run - system information</code>. It should mention in System Type whether is is a 32 or 54 based system)</p>\n\n<p>The config test shows you the java and catalina home values that are used by TomCat.</p>\n\n<p>If you have the incorrect Java version:</p>\n\n<ul>\n<li>Uninstall old Java version: Control Panel - (main page) Programs - Uninstall a program</li>\n<li>Go to <a href=\"http://JAVA_HOME=C:%5CProgram%20Files%5CJava%5Cjre1.8.0_201\" rel=\"nofollow noreferrer\">download Java manual download page</a>. (Google if the link doesn't work anymore) Don't do automatic downloads, you might get a different version than you want, depending on your browsers.</li>\n<li>Download <strong>windows offline 64-bit</strong> Don't do the online, again: it looks at your browsers to decide whether you want 32 or 64-bit.</li>\n<li>run the installer.</li>\n<li>After installing Java, check your Path and your environment variables and adjust accordingly (In windows server 2012: Control Panel - System and Security - System - Change Settings - Advanced - Environment Variables)\n-re-open a command prompt. Check Path and environment variables again and run the tests above.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":12534209,"reputation":11,"user_id":9121351,"display_name":"Amrutesh Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620930579,"creation_date":1620930579,"answer_id":67524366,"question_id":14048773,"body_markdown":"If the above answers don&#39;t work, check whether your path variable points to the correct(64- bit or 32-bit) bin folder of Apache Tomcat installation folder. That worked for me.\r\n\r\n","title":"tcnative-1.dll Can&#39;t load AMD 64-bit .dll on a IA 32-bit platform","body":"<p>If the above answers don't work, check whether your path variable points to the correct(64- bit or 32-bit) bin folder of Apache Tomcat installation folder. That worked for me.</p>\n"},{"tags":[],"owner":{"account_id":2636643,"reputation":615,"user_id":2281110,"display_name":"Pankaj"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624303141,"creation_date":1624303141,"answer_id":68073563,"question_id":14048773,"body_markdown":"This error only gets triggered because of the 32bit and 64 bit conflicts for java.\r\nAnalysis:\r\nReview initial log while starting tomcat. You will understand will is the java being used for the tomcat. \r\n\r\n    Jun 21, 2021 2:44:12 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Server version name:   Apache Tomcat/8.5.66\r\n    Jun 21, 2021 2:44:12 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Server built:          May 8 2021 22:44:01 UTC\r\n    Jun 21, 2021 2:44:12 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Server version number: 8.5.66.0\r\n    Jun 21, 2021 2:44:12 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: OS Name:               Windows 10\r\n    Jun 21, 2021 2:44:12 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: OS Version:            10.0\r\n    Jun 21, 2021 2:44:12 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Architecture:          amd64\r\n    Jun 21, 2021 2:44:12 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: Java Home:             C:\\Program Files\\Java\\jdk1.8.0_291\\jre\r\n    Jun 21, 2021 2:44:12 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: JVM Version:           1.8.0_291-b10\r\n    Jun 21, 2021 2:44:12 PM org.apache.catalina.startup.VersionLoggerListener log\r\n    INFO: JVM Vendor:            Oracle Corporation\r\n\r\nIf incorrect architecture is found or the incorrect java path then try to fix that. If for some reason you are getting difficulty for that. Try to rename the incorrect JDK directory. It will start giving error some where. In my case it was complaining about the java for the tomcat server I added to the eclipse. I have to remove and add the tomcat again correcting the right JDK it will be using for the tomcat. This solved by issue.","title":"tcnative-1.dll Can&#39;t load AMD 64-bit .dll on a IA 32-bit platform","body":"<p>This error only gets triggered because of the 32bit and 64 bit conflicts for java.\nAnalysis:\nReview initial log while starting tomcat. You will understand will is the java being used for the tomcat.</p>\n<pre><code>Jun 21, 2021 2:44:12 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Server version name:   Apache Tomcat/8.5.66\nJun 21, 2021 2:44:12 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Server built:          May 8 2021 22:44:01 UTC\nJun 21, 2021 2:44:12 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Server version number: 8.5.66.0\nJun 21, 2021 2:44:12 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: OS Name:               Windows 10\nJun 21, 2021 2:44:12 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: OS Version:            10.0\nJun 21, 2021 2:44:12 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Architecture:          amd64\nJun 21, 2021 2:44:12 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: Java Home:             C:\\Program Files\\Java\\jdk1.8.0_291\\jre\nJun 21, 2021 2:44:12 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: JVM Version:           1.8.0_291-b10\nJun 21, 2021 2:44:12 PM org.apache.catalina.startup.VersionLoggerListener log\nINFO: JVM Vendor:            Oracle Corporation\n</code></pre>\n<p>If incorrect architecture is found or the incorrect java path then try to fix that. If for some reason you are getting difficulty for that. Try to rename the incorrect JDK directory. It will start giving error some where. In my case it was complaining about the java for the tomcat server I added to the eclipse. I have to remove and add the tomcat again correcting the right JDK it will be using for the tomcat. This solved by issue.</p>\n"}],"owner":{"account_id":1784609,"reputation":741,"user_id":1626371,"display_name":"cmdkennedy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87279,"favorite_count":0,"down_vote_count":0,"up_vote_count":35,"accepted_answer_id":14097344,"answer_count":9,"score":35,"last_activity_date":1641646575,"creation_date":1356576144,"question_id":14048773,"body_markdown":"I&#39;m getting this error when I try to run tomcat: \r\n\r\n    &quot;java.lang.UnsatisfiedLinkError: C:\\Program Files (x86)\\apache-tomcat-7.0.34\\bin\\tcnative-1.dll: Can&#39;t load AMD 64-bit .dll on a IA 32-bit platform&quot;.\r\n\r\nHowever, I have the 64 bit JRE downloaded, and double-checked my java version:\r\n\r\n    C:\\Program Files (x86)\\apache-tomcat-7.0.34\\bin&gt;java -version\r\n    java version &quot;1.7.0_10&quot;\r\n    Java(TM) SE Runtime Environment (build 1.7.0_10-b18)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 23.6-b04, mixed mode)\r\n\r\nI&#39;ve seen this question here before, but in one there was no resolution, and in the other it was an Eclipse issue, but I&#39;m getting this error when I access tomcat directly.  \r\n\r\nHow do I find out which &quot;IA 32 bit platform&quot; is being detected, and how do I point Tomcat in the right direction?  Also, could this be why my servlet is getting this 404 error through Eclipse?\r\n\r\n&gt;type Status report\r\n&gt;\r\n&gt;message /JSPandServlet/Controller\r\n&gt;\r\n&gt;description The requested resource is not available.\r\n\r\n\r\nLogs:\r\n-------------------------------------------------------------------------\r\n    C:\\Program Files (x86)\\apache-tomcat-7.0.34\\bin&gt;configtest.bat\r\n    Using CATALINA_BASE:   &quot;C:\\Program Files (x86)\\apache-tomcat-7.0.34&quot;\r\n    Using CATALINA_HOME:   &quot;C:\\Program Files (x86)\\apache-tomcat-7.0.34&quot;\r\n    Using CATALINA_TMPDIR: &quot;C:\\Program Files (x86)\\apache-tomcat-7.0.34\\temp&quot;\r\n    Using JRE_HOME:        &quot;C:\\Program Files (x86)\\Java\\jre7&quot;\r\n    Using CLASSPATH:       &quot;C:\\Program Files (x86)\\apache-tomcat- \r\n    7.0.34\\bin\\bootstrap.jar;C:\\Program Files (x86)\\apache-tomcat- \r\n    7.0.34\\bin\\tomcat-juli.jar&quot; \r\n    java.lang.UnsatisfiedLinkError: C:\\Program Files (x86)\\apache-tomcat- \r\n    7.0.34\\bin\\\r\n    tcnative-1.dll: Can&#39;t load AMD 64-bit .dll on a IA 32-bit platform\r\n        at java.lang.ClassLoader$NativeLibrary.load(Native Method)\r\n        at java.lang.ClassLoader.loadLibrary1(Unknown Source)\r\n        at java.lang.ClassLoader.loadLibrary0(Unknown Source)\r\n        at java.lang.ClassLoader.loadLibrary(Unknown Source)\r\n        at java.lang.Runtime.loadLibrary0(Unknown Source)\r\n        at java.lang.System.loadLibrary(Unknown Source)\r\n        at org.apache.tomcat.jni.Library.&lt;init&gt;(Library.java:42)\r\n        at org.apache.tomcat.jni.Library.initialize(Library.java:174)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n        at java.lang.reflect.Method.invoke(Unknown Source)\r\n        at org.apache.catalina.core.AprLifecycleListener.init(AprLifecycleListener.java:180)\r\n        at org.apache.catalina.core.AprLifecycleListener.isAprAvailable(AprLifecycleListener.java:85)\r\n        at org.apache.catalina.connector.Connector.setProtocol(Connector.java:595)\r\n        at org.apache.catalina.connector.Connector.&lt;init&gt;(Connector.java:69)\r\n        at org.apache.catalina.startup.ConnectorCreateRule.begin(ConnectorCreateRule.java:62)\r\n        at org.apache.tomcat.util.digester.Digester.startElement(Digester.java:1276)\r\n        at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(Unknown Source)\r\n        at com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement(Unknown Source)\r\n        at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(Unknown Source)\r\n        at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(Unknown Source)\r\n        at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(Unknown Source)\r\n        at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\r\n        at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)\r\n        at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)\r\n        at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(Unknown Source)\r\n        at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Unknown Source)\r\n        at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)\r\n        at org.apache.tomcat.util.digester.Digester.parse(Digester.java:1537)\r\n        at org.apache.catalina.startup.Catalina.load(Catalina.java:610)\r\n        at org.apache.catalina.startup.Catalina.load(Catalina.java:658)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n        at java.lang.reflect.Method.invoke(Unknown Source)\r\n        at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:281)\r\n        at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:455)\r\n    Dec 26, 2012 7:15:47 PM org.apache.catalina.core.AprLifecycleListener init\r\n    INFO: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: C:\\Program Files (x86)\\Java\\jre7\\bin;C:\\windows\\Sun\\Java\\bin;C:\\windows\\system32;C:\\windows;C:\\Program Files\\Common Files\\Microsoft Shared\\Microsoft Online Services;C:\\Program Files (x86)\\Common Files\\Microsoft Shared\\Microsoft Online Services;C:\\Program Files\\Common Files\\Microsoft Shared\\Windows Live;C:\\Program Files (x86)\\Common Files\\Microsoft Shared\\Windows Live;C:\\Program Files (x86)\\PHP\\;C:\\windows\\system32;C:\\windows;C:\\windows\\System32\\Wbem;c:\\Program Files (x86)\\Microsoft SQLServer\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\DTS\\Binn\\;c:\\Program Files (x86)\\Microsoft ASP.NET\\ASP.NET Web Pages\\v1.0\\;c:\\Program Files (x86)\\Microsoft SQL Server\\10\r\n    0\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\Program Files (x86)\\Windows Live\\Shared;C:\\Program Files\\TortoiseSVN\\bin;C:\\Program Files\\Microsoft\\Web Platform Installer\\;C:\\Program Files\\SourceGear\\Common\\DiffMerge\\;C:\\Ruby193\\bin;.\r\n    Dec 26, 2012 7:15:47 PM org.apache.coyote.AbstractProtocol init\r\n    INFO: Initializing ProtocolHandler [&quot;http-bio-8080&quot;]\r\n    Dec 26, 2012 7:15:47 PM org.apache.coyote.AbstractProtocol init\r\n    INFO: Initializing ProtocolHandler [&quot;ajp-bio-8009&quot;]\r\n    Dec 26, 2012 7:15:47 PM org.apache.catalina.startup.Catalina load\r\n    INFO: Initialization processed in 448 ms","title":"tcnative-1.dll Can&#39;t load AMD 64-bit .dll on a IA 32-bit platform","body":"<p>I'm getting this error when I try to run tomcat:</p>\n<pre><code>&quot;java.lang.UnsatisfiedLinkError: C:\\Program Files (x86)\\apache-tomcat-7.0.34\\bin\\tcnative-1.dll: Can't load AMD 64-bit .dll on a IA 32-bit platform&quot;.\n</code></pre>\n<p>However, I have the 64 bit JRE downloaded, and double-checked my java version:</p>\n<pre><code>C:\\Program Files (x86)\\apache-tomcat-7.0.34\\bin&gt;java -version\njava version &quot;1.7.0_10&quot;\nJava(TM) SE Runtime Environment (build 1.7.0_10-b18)\nJava HotSpot(TM) 64-Bit Server VM (build 23.6-b04, mixed mode)\n</code></pre>\n<p>I've seen this question here before, but in one there was no resolution, and in the other it was an Eclipse issue, but I'm getting this error when I access tomcat directly.</p>\n<p>How do I find out which &quot;IA 32 bit platform&quot; is being detected, and how do I point Tomcat in the right direction?  Also, could this be why my servlet is getting this 404 error through Eclipse?</p>\n<blockquote>\n<p>type Status report</p>\n<p>message /JSPandServlet/Controller</p>\n<p>description The requested resource is not available.</p>\n</blockquote>\n<h2>Logs:</h2>\n<pre><code>C:\\Program Files (x86)\\apache-tomcat-7.0.34\\bin&gt;configtest.bat\nUsing CATALINA_BASE:   &quot;C:\\Program Files (x86)\\apache-tomcat-7.0.34&quot;\nUsing CATALINA_HOME:   &quot;C:\\Program Files (x86)\\apache-tomcat-7.0.34&quot;\nUsing CATALINA_TMPDIR: &quot;C:\\Program Files (x86)\\apache-tomcat-7.0.34\\temp&quot;\nUsing JRE_HOME:        &quot;C:\\Program Files (x86)\\Java\\jre7&quot;\nUsing CLASSPATH:       &quot;C:\\Program Files (x86)\\apache-tomcat- \n7.0.34\\bin\\bootstrap.jar;C:\\Program Files (x86)\\apache-tomcat- \n7.0.34\\bin\\tomcat-juli.jar&quot; \njava.lang.UnsatisfiedLinkError: C:\\Program Files (x86)\\apache-tomcat- \n7.0.34\\bin\\\ntcnative-1.dll: Can't load AMD 64-bit .dll on a IA 32-bit platform\n    at java.lang.ClassLoader$NativeLibrary.load(Native Method)\n    at java.lang.ClassLoader.loadLibrary1(Unknown Source)\n    at java.lang.ClassLoader.loadLibrary0(Unknown Source)\n    at java.lang.ClassLoader.loadLibrary(Unknown Source)\n    at java.lang.Runtime.loadLibrary0(Unknown Source)\n    at java.lang.System.loadLibrary(Unknown Source)\n    at org.apache.tomcat.jni.Library.&lt;init&gt;(Library.java:42)\n    at org.apache.tomcat.jni.Library.initialize(Library.java:174)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.apache.catalina.core.AprLifecycleListener.init(AprLifecycleListener.java:180)\n    at org.apache.catalina.core.AprLifecycleListener.isAprAvailable(AprLifecycleListener.java:85)\n    at org.apache.catalina.connector.Connector.setProtocol(Connector.java:595)\n    at org.apache.catalina.connector.Connector.&lt;init&gt;(Connector.java:69)\n    at org.apache.catalina.startup.ConnectorCreateRule.begin(ConnectorCreateRule.java:62)\n    at org.apache.tomcat.util.digester.Digester.startElement(Digester.java:1276)\n    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(Unknown Source)\n    at com.sun.org.apache.xerces.internal.parsers.AbstractXMLDocumentParser.emptyElement(Unknown Source)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanStartElement(Unknown Source)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(Unknown Source)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(Unknown Source)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(Unknown Source)\n    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)\n    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(Unknown Source)\n    at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(Unknown Source)\n    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(Unknown Source)\n    at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(Unknown Source)\n    at org.apache.tomcat.util.digester.Digester.parse(Digester.java:1537)\n    at org.apache.catalina.startup.Catalina.load(Catalina.java:610)\n    at org.apache.catalina.startup.Catalina.load(Catalina.java:658)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\n    at java.lang.reflect.Method.invoke(Unknown Source)\n    at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:281)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:455)\nDec 26, 2012 7:15:47 PM org.apache.catalina.core.AprLifecycleListener init\nINFO: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: C:\\Program Files (x86)\\Java\\jre7\\bin;C:\\windows\\Sun\\Java\\bin;C:\\windows\\system32;C:\\windows;C:\\Program Files\\Common Files\\Microsoft Shared\\Microsoft Online Services;C:\\Program Files (x86)\\Common Files\\Microsoft Shared\\Microsoft Online Services;C:\\Program Files\\Common Files\\Microsoft Shared\\Windows Live;C:\\Program Files (x86)\\Common Files\\Microsoft Shared\\Windows Live;C:\\Program Files (x86)\\PHP\\;C:\\windows\\system32;C:\\windows;C:\\windows\\System32\\Wbem;c:\\Program Files (x86)\\Microsoft SQLServer\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\Tools\\Binn\\;c:\\Program Files\\Microsoft SQL Server\\100\\DTS\\Binn\\;c:\\Program Files (x86)\\Microsoft ASP.NET\\ASP.NET Web Pages\\v1.0\\;c:\\Program Files (x86)\\Microsoft SQL Server\\10\n0\\Tools\\Binn\\VSShell\\Common7\\IDE\\;c:\\Program Files (x86)\\Microsoft SQL Server\\100\\DTS\\Binn\\;C:\\Program Files (x86)\\Windows Live\\Shared;C:\\Program Files\\TortoiseSVN\\bin;C:\\Program Files\\Microsoft\\Web Platform Installer\\;C:\\Program Files\\SourceGear\\Common\\DiffMerge\\;C:\\Ruby193\\bin;.\nDec 26, 2012 7:15:47 PM org.apache.coyote.AbstractProtocol init\nINFO: Initializing ProtocolHandler [&quot;http-bio-8080&quot;]\nDec 26, 2012 7:15:47 PM org.apache.coyote.AbstractProtocol init\nINFO: Initializing ProtocolHandler [&quot;ajp-bio-8009&quot;]\nDec 26, 2012 7:15:47 PM org.apache.catalina.startup.Catalina load\nINFO: Initialization processed in 448 ms\n</code></pre>\n"},{"tags":["java"],"owner":{"account_id":23255298,"reputation":1,"user_id":17342449,"display_name":"SeoJiWon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1641646349,"answer_count":1,"score":-2,"last_activity_date":1641646486,"creation_date":1641645183,"question_id":70632335,"body_markdown":"Case A)\r\n\r\n    static int [] arr;\r\n    public static void main(String[] args) {\r\n    arr[2] = 4;\r\n    }\r\n\r\nCase B)\r\n\r\n    public static void main(String[] args) {\r\n    int [] arr;\r\n    arr[2] = 4;\r\n    }\r\n\r\n\r\nThe first is declared as static and the second is just declared in the main method. Why is the first NullPointerException error displayed and the second compile error caused by not declaring it?\r\nIf an array is declared as static, is the default value all set to null?","title":"What is the difference between the arrangement of the two cases?","body":"<p>Case A)</p>\n<pre><code>static int [] arr;\npublic static void main(String[] args) {\narr[2] = 4;\n}\n</code></pre>\n<p>Case B)</p>\n<pre><code>public static void main(String[] args) {\nint [] arr;\narr[2] = 4;\n}\n</code></pre>\n<p>The first is declared as static and the second is just declared in the main method. Why is the first NullPointerException error displayed and the second compile error caused by not declaring it?\nIf an array is declared as static, is the default value all set to null?</p>\n"},{"tags":["java","gradle","artifactory"],"answers":[{"tags":[],"owner":{"account_id":4172811,"reputation":5337,"user_id":4233342,"display_name":"yahavi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641646188,"creation_date":1641646188,"answer_id":70632458,"question_id":70604663,"body_markdown":"A rule of thumb says that undocumented methods are internal and should not be used. AFAIK, the two methods should be **identical**. \r\n\r\nUnless you have a very specific use case with a rare repository configuration, you&#39;d may prefer using only the official Gradle&#39;s [repositories][1] scope. Just make sure to use the Artifactory repository above `mavenCentral()` in order to enjoy the benefits of Artifactory - build info, performance, security, etc.\r\n\r\nSources:\r\n1. [Official documentation][2] \r\n2. [Examples][3]\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/declaring_repositories.html\r\n  [2]: https://www.jfrog.com/confluence/display/JFROG/Gradle+Artifactory+Plugin\r\n  [3]: https://github.com/jfrog/project-examples/tree/master/gradle-examples","title":"Gradle Artifactory Plugin - Difference Between Plugin And Repositories Block","body":"<p>A rule of thumb says that undocumented methods are internal and should not be used. AFAIK, the two methods should be <strong>identical</strong>.</p>\n<p>Unless you have a very specific use case with a rare repository configuration, you'd may prefer using only the official Gradle's <a href=\"https://docs.gradle.org/current/userguide/declaring_repositories.html\" rel=\"nofollow noreferrer\">repositories</a> scope. Just make sure to use the Artifactory repository above <code>mavenCentral()</code> in order to enjoy the benefits of Artifactory - build info, performance, security, etc.</p>\n<p>Sources:</p>\n<ol>\n<li><a href=\"https://www.jfrog.com/confluence/display/JFROG/Gradle+Artifactory+Plugin\" rel=\"nofollow noreferrer\">Official documentation</a></li>\n<li><a href=\"https://github.com/jfrog/project-examples/tree/master/gradle-examples\" rel=\"nofollow noreferrer\">Examples</a></li>\n</ol>\n"}],"owner":{"account_id":5148842,"reputation":1001,"user_id":4123980,"accept_rate":32,"display_name":"Guy Yafe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1641646188,"creation_date":1641459473,"question_id":70604663,"body_markdown":"I am using Gradle 7.3.3 with the Artifactory Plugin.&lt;br&gt;\r\nI have notices that there is a section to resolve dependencies in the `artifactory` plugin section itself:\r\n\r\n    artifactory {\r\n      contextUrl = &quot;https://my.repo&quot;\r\n      publish {...}\r\n    \r\n      resolve {\r\n        repository {\r\n          repoKey = &#39;&lt;my repo key&gt;&#39;\r\n          maven = true\r\n        }\r\n      }\r\n    }\r\n\r\nHowever, there is also the `repository` block which contains a reference to a repository:\r\n\r\n    repositories {\r\n      maven {\r\n        url &quot;https://my.repo/&lt;my repo key&gt;&quot;\r\n      }\r\n      mavenLocal()\r\n    }\r\n\r\nMy question is what is the difference between these two?&lt;br&gt;\r\ndo I need to use only one of them? Do I need to put same values in both?&lt;br&gt;\r\nI didn&#39;t see any documentation in JFrog docs.","title":"Gradle Artifactory Plugin - Difference Between Plugin And Repositories Block","body":"<p>I am using Gradle 7.3.3 with the Artifactory Plugin.<br>\nI have notices that there is a section to resolve dependencies in the <code>artifactory</code> plugin section itself:</p>\n<pre><code>artifactory {\n  contextUrl = &quot;https://my.repo&quot;\n  publish {...}\n\n  resolve {\n    repository {\n      repoKey = '&lt;my repo key&gt;'\n      maven = true\n    }\n  }\n}\n</code></pre>\n<p>However, there is also the <code>repository</code> block which contains a reference to a repository:</p>\n<pre><code>repositories {\n  maven {\n    url &quot;https://my.repo/&lt;my repo key&gt;&quot;\n  }\n  mavenLocal()\n}\n</code></pre>\n<p>My question is what is the difference between these two?<br>\ndo I need to use only one of them? Do I need to put same values in both?<br>\nI didn't see any documentation in JFrog docs.</p>\n"},{"tags":["java","spring","spring-mvc"],"comments":[{"owner":{"account_id":2113203,"reputation":9798,"user_id":1878022,"accept_rate":96,"display_name":"VedantK"},"score":0,"creation_date":1641533388,"post_id":70616952,"comment_id":124833678,"body_markdown":"can you add stacktrace?","body":"can you add stacktrace?"},{"owner":{"account_id":21102159,"reputation":1,"user_id":15511847,"display_name":"Gugan Sivasubramanian"},"score":0,"creation_date":1641533941,"post_id":70616952,"comment_id":124833769,"body_markdown":"This error is showed while app is starting, there is no stacktrace","body":"This error is showed while app is starting, there is no stacktrace"},{"owner":{"account_id":2113203,"reputation":9798,"user_id":1878022,"accept_rate":96,"display_name":"VedantK"},"score":0,"creation_date":1641535217,"post_id":70616952,"comment_id":124833947,"body_markdown":"it looks like you are trying to inject bean of type `Sample` but you have not prepared that bean","body":"it looks like you are trying to inject bean of type <code>Sample</code> but you have not prepared that bean"},{"owner":{"account_id":21102159,"reputation":1,"user_id":15511847,"display_name":"Gugan Sivasubramanian"},"score":0,"creation_date":1641536992,"post_id":70616952,"comment_id":124834239,"body_markdown":"@VeKe there was a typo, can you please look into the error and tell me again","body":"@VeKe there was a typo, can you please look into the error and tell me again"},{"owner":{"account_id":2113203,"reputation":9798,"user_id":1878022,"accept_rate":96,"display_name":"VedantK"},"score":0,"creation_date":1641540201,"post_id":70616952,"comment_id":124834957,"body_markdown":"com.package.A can you show this class","body":"com.package.A can you show this class"},{"owner":{"account_id":21102159,"reputation":1,"user_id":15511847,"display_name":"Gugan Sivasubramanian"},"score":0,"creation_date":1641540888,"post_id":70616952,"comment_id":124835132,"body_markdown":"I just wote it as mentioned above","body":"I just wote it as mentioned above"},{"owner":{"account_id":2113203,"reputation":9798,"user_id":1878022,"accept_rate":96,"display_name":"VedantK"},"score":0,"creation_date":1641542277,"post_id":70616952,"comment_id":124835513,"body_markdown":"Do you have implementation for interface A?","body":"Do you have implementation for interface A?"},{"owner":{"account_id":21102159,"reputation":1,"user_id":15511847,"display_name":"Gugan Sivasubramanian"},"score":0,"creation_date":1641546646,"post_id":70616952,"comment_id":124836917,"body_markdown":"No direct implementation","body":"No direct implementation"},{"owner":{"account_id":2113203,"reputation":9798,"user_id":1878022,"accept_rate":96,"display_name":"VedantK"},"score":0,"creation_date":1641696731,"post_id":70616952,"comment_id":124872027,"body_markdown":"you need a implementation, Spring try to create and inject a object","body":"you need a implementation, Spring try to create and inject a object"}],"answers":[{"tags":[],"owner":{"account_id":11766020,"reputation":121,"user_id":8610598,"display_name":"Spider"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641646098,"creation_date":1641646098,"answer_id":70632442,"question_id":70616952,"body_markdown":"There are many issues with this code. However, the reason why you are getting this exception is that you have not implemented interface A. And if you have implemented interface A but you have missed it in the question then the reasons could be that you have not annotated your implementation properly or you have restricted the scanning scope.","title":"Autowire an interace which extends another interface","body":"<p>There are many issues with this code. However, the reason why you are getting this exception is that you have not implemented interface A. And if you have implemented interface A but you have missed it in the question then the reasons could be that you have not annotated your implementation properly or you have restricted the scanning scope.</p>\n"}],"owner":{"account_id":21102159,"reputation":1,"user_id":15511847,"display_name":"Gugan Sivasubramanian"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1641646098,"creation_date":1641533120,"question_id":70616952,"body_markdown":"    @component\r\n    public interface A extends RootInterface{}\r\n\r\n    @Configuration\r\n    public interface RootInterface{\r\n    public String hello();\r\n    }\r\n\r\n\r\n    @Service\r\n    public class SomeClass implements RootInterface{}\r\n\r\n\r\n    public class RandomClass{\r\n    @Autowired\r\n    A a;\r\n    }\r\n\r\n\r\n\r\n\r\nimplementing a flow like this throws a error \r\n \r\n\r\n&gt; Field a in com.package.RandomClass required a bean of type\r\n&gt; &#39;com.package.A&#39; that could not be found.\r\n&gt; \r\n&gt; The injection point has the following annotations:\r\n&gt; \t- @org.springframework.beans.factory.annotation.Autowired(required=true)\r\n&gt; \r\n&gt; \r\n&gt; Action:\r\n&gt; \r\n&gt; Consider defining a bean of type &#39;com.package.A&#39; in your\r\n&gt; configuration.\r\n\r\n\r\n","title":"Autowire an interace which extends another interface","body":"<pre><code>@component\npublic interface A extends RootInterface{}\n\n@Configuration\npublic interface RootInterface{\npublic String hello();\n}\n\n\n@Service\npublic class SomeClass implements RootInterface{}\n\n\npublic class RandomClass{\n@Autowired\nA a;\n}\n</code></pre>\n<p>implementing a flow like this throws a error</p>\n<blockquote>\n<p>Field a in com.package.RandomClass required a bean of type\n'com.package.A' that could not be found.</p>\n<p>The injection point has the following annotations:</p>\n<ul>\n<li>@org.springframework.beans.factory.annotation.Autowired(required=true)</li>\n</ul>\n<p>Action:</p>\n<p>Consider defining a bean of type 'com.package.A' in your\nconfiguration.</p>\n</blockquote>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8293,"page":1699,"page_size":100}
