{"items":[{"tags":["java","spring","spring-boot","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":9760,"reputation":85860,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1690755917,"post_id":76799781,"comment_id":135393679,"body_markdown":"Sounds like a library version mismatch between your build and deployment environments.  Make sure your build environment matches exactly the deployment environment.","body":"Sounds like a library version mismatch between your build and deployment environments.  Make sure your build environment matches exactly the deployment environment."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690783656,"post_id":76799781,"comment_id":135395658,"body_markdown":"Remove the `org.hibernate` dependencies they aren&#39;t compatible. Fix the `javax.persistence` imports to `jakarta.persistence` and restart the application.","body":"Remove the <code>org.hibernate</code> dependencies they aren&#39;t compatible. Fix the <code>javax.persistence</code> imports to <code>jakarta.persistence</code> and restart the application."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690788221,"post_id":76799781,"comment_id":135396321,"body_markdown":"In addition, depending on which database you use `user` is a reserved keyword which can lead to issues as well.","body":"In addition, depending on which database you use <code>user</code> is a reserved keyword which can lead to issues as well."},{"owner":{"account_id":23411594,"reputation":1,"user_id":17473182,"display_name":"marcom966"},"score":0,"creation_date":1692547235,"post_id":76799781,"comment_id":135635339,"body_markdown":"How can i check the version mismatch","body":"How can i check the version mismatch"}],"answers":[{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690804935,"post_id":76803366,"comment_id":135399455,"body_markdown":"As long as the fields have different names adding `this` won&#39;t change a thing (nor is it the cause for this error).","body":"As long as the fields have different names adding <code>this</code> won&#39;t change a thing (nor is it the cause for this error)."},{"owner":{"account_id":23411594,"reputation":1,"user_id":17473182,"display_name":"marcom966"},"score":0,"creation_date":1690871511,"post_id":76803366,"comment_id":135409580,"body_markdown":"Actually getter setters and contructor were generated by Intellij but i&#39;ll change them if it&#39;s the case, i also get warnings of vulnerable dependencies on my pom, maybe could be that?","body":"Actually getter setters and contructor were generated by Intellij but i&#39;ll change them if it&#39;s the case, i also get warnings of vulnerable dependencies on my pom, maybe could be that?"}],"tags":[],"owner":{"account_id":16341513,"reputation":209,"user_id":11802330,"display_name":"Eric"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690804568,"creation_date":1690804568,"answer_id":76803366,"question_id":76799781,"body_markdown":"Your user entity is missing `this` keyword when setting value of nickname, try these\r\n\r\nChange\r\n\r\n    private String Nickname;\r\n\r\nTo\r\n\r\n    private String nickname;\r\n\r\nChange \r\n\r\n    public user(String name, String birthday, String email, String nickname, String password) {\r\n        this.name = name;\r\n        this.birthday = birthday;\r\n        this.email = email;\r\n        Nickname = nickname;\r\n        this.password = password;\r\n    }\r\n To \r\n\r\n    public user(String name, String birthday, String email, String nickname, String password) {\r\n        this.name = name;\r\n        this.birthday = birthday;\r\n        this.email = email;\r\n        this.nickname = nickname;\r\n        this.password = password;\r\n    }\r\n\r\nChange\r\n\r\n\r\n    public String getNickname() {\r\n        return Nickname;\r\n    }\r\nTo\r\n\r\n    public String getNickname() {\r\n        return nickname;\r\n    }\r\n\r\nChange \r\n\r\n    public void setNickname(String nickname) {\r\n        Nickname = nickname;\r\n    }\r\n\r\nTo\r\n\r\n    public void setNickname(String nickname) {\r\n        this.nickname = nickname;\r\n    }\r\n\r\n\r\n","title":"Java BeanCreationException Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource : Unknown access type record","body":"<p>Your user entity is missing <code>this</code> keyword when setting value of nickname, try these</p>\n<p>Change</p>\n<pre><code>private String Nickname;\n</code></pre>\n<p>To</p>\n<pre><code>private String nickname;\n</code></pre>\n<p>Change</p>\n<pre><code>public user(String name, String birthday, String email, String nickname, String password) {\n    this.name = name;\n    this.birthday = birthday;\n    this.email = email;\n    Nickname = nickname;\n    this.password = password;\n}\n</code></pre>\n<p>To</p>\n<pre><code>public user(String name, String birthday, String email, String nickname, String password) {\n    this.name = name;\n    this.birthday = birthday;\n    this.email = email;\n    this.nickname = nickname;\n    this.password = password;\n}\n</code></pre>\n<p>Change</p>\n<pre><code>public String getNickname() {\n    return Nickname;\n}\n</code></pre>\n<p>To</p>\n<pre><code>public String getNickname() {\n    return nickname;\n}\n</code></pre>\n<p>Change</p>\n<pre><code>public void setNickname(String nickname) {\n    Nickname = nickname;\n}\n</code></pre>\n<p>To</p>\n<pre><code>public void setNickname(String nickname) {\n    this.nickname = nickname;\n}\n</code></pre>\n"}],"owner":{"account_id":23411594,"reputation":1,"user_id":17473182,"display_name":"marcom966"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1214,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690804568,"creation_date":1690754848,"question_id":76799781,"body_markdown":"i&#39;m following a tutorial online on spring boot but i&#39;m running into this error and i don&#39;t know what to do to solve it.\r\nMy pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;Popster_Backend&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.0.7.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nmy Entity class: \r\n```java\r\npackage com.example.demo.user;\r\n\r\nimport jakarta.persistence.*;\r\n\r\n@Entity\r\n@Table\r\n@Access(AccessType.FIELD)\r\npublic class user {\r\n\r\n        @Access(AccessType.PROPERTY)\r\n        @Id\r\n        @SequenceGenerator(name = &quot;user_sequence&quot;, sequenceName = &quot;user_sequence&quot;, allocationSize = 1)\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;user_sequence&quot;)\r\n        private String name;\r\n        private String birthday;\r\n        private String email;\r\n        private String Nickname;\r\n        private String password;\r\n\r\n    public user() {\r\n    }\r\n\r\n    public user(String name, String birthday, String email, String nickname, String password) {\r\n        this.name = name;\r\n        this.birthday = birthday;\r\n        this.email = email;\r\n        Nickname = nickname;\r\n        this.password = password;\r\n    }\r\n\r\n    public user(String birthday, String email, String nickname, String password) {\r\n        this.birthday = birthday;\r\n        this.email = email;\r\n        Nickname = nickname;\r\n        this.password = password;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String getBirthday() {\r\n        return birthday;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public String getNickname() {\r\n        return Nickname;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public void setBirthday(String birthday) {\r\n        this.birthday = birthday;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public void setNickname(String nickname) {\r\n        Nickname = nickname;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;user{&quot; +\r\n                &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, birthday=&#39;&quot; + birthday + &#39;\\&#39;&#39; +\r\n                &quot;, email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                &quot;, Nickname=&#39;&quot; + Nickname + &#39;\\&#39;&#39; +\r\n                &quot;, password=&#39;&quot; + password + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n``` \r\nuserConfig \r\n```java\r\npackage com.example.demo.user;\r\n\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport java.util.List;\r\n\r\n@Configuration\r\npublic class userConfig {\r\n\r\n    @Bean\r\n    CommandLineRunner commandLineRunner(userRepository userRepo){\r\n        return args -&gt; {\r\n            user NameUser = new user(&quot;Name&quot;, &quot;date&quot;, &quot;email&quot;, &quot;nick&quot;, &quot;password&quot;);\r\n            user NameUserTwo = new user(&quot;Name&quot;, &quot;date&quot;, &quot;email&quot;,&quot;Nick&quot;,&quot;password&quot;);\r\n            userRepo.saveAll(List.of(NameUser, NameUserTwo));\r\n        };\r\n\r\n    }\r\n}\r\n\r\n``` \r\nuserRepository\r\n\r\n```\r\npackage com.example.demo.user;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface userRepository extends JpaRepository&lt;user, String&gt; {\r\n\r\n}\r\n``` \r\n\r\nuserService\r\n```\r\npackage com.example.demo.user;\r\n\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\n\r\nimport java.util.List;\r\n\r\n@Service\r\npublic class userService {\r\n\r\n    private final userRepository repo;\r\n\r\n    @Autowired\r\n    public userService(userRepository repo) {\r\n        this.repo = repo;\r\n    }\r\n\r\n\r\n    public List&lt;user&gt; getUser(){\r\n        return repo.findAll();\r\n    }\r\n}\r\n\r\n``` \r\nuserController\r\n```\r\npackage com.example.demo.user;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(path= &quot;api/v1/user&quot;)\r\npublic class userController {\r\n\r\n    private final userService serv;\r\n\r\n    @Autowired\r\n    public userController(userService service){\r\n        this.serv = service;\r\n    }\r\n    @GetMapping\r\n    public List&lt;user&gt; getUser(){\r\n        return serv.getUser();\r\n    }\r\n}\r\n```\r\n \r\n\r\nThe error i get: \r\n\r\n\r\n\r\n    *org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unknown access type record\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931) ~[spring-context-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.1.jar:3.1.1]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.1.jar:3.1.1]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.1.jar:3.1.1]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.1.jar:3.1.1]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.1.jar:3.1.1]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.1.jar:3.1.1]\r\n    \tat com.example.demo.PopsterBackendApplication.main(PopsterBackendApplication.java:13) ~[classes/:na]\r\n    Caused by: java.lang.IllegalArgumentException: Unknown access type record\r\n    \tat org.hibernate.annotations.common.reflection.java.JavaXClass.getDeclaredProperties(JavaXClass.java:131) ~[hibernate-commons-annotations-5.0.1.Final.jar:5.0.1.Final]\r\n    \tat org.hibernate.annotations.common.reflection.java.JavaXClass.getDeclaredProperties(JavaXClass.java:121) ~[hibernate-commons-annotations-5.0.1.Final.jar:5.0.1.Final]\r\n    \tat org.hibernate.boot.model.internal.PropertyContainer.&lt;init&gt;(PropertyContainer.java:90) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n    \tat org.hibernate.boot.model.internal.InheritanceState.getElementsToProcess(InheritanceState.java:221) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n    \tat org.hibernate.boot.model.internal.InheritanceState.postProcess(InheritanceState.java:160) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n    \tat org.hibernate.boot.model.internal.EntityBinder.handleIdentifier(EntityBinder.java:293) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n    \tat org.hibernate.boot.model.internal.EntityBinder.bindEntityClass(EntityBinder.java:228) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n    \tat org.hibernate.boot.model.internal.AnnotationBinder.bindClass(AnnotationBinder.java:417) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n    \tat org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:255) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:275) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:318) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.10.jar:6.0.10]\r\n    \t... 16 common frames omitted*\r\n\r\nCan anybody help me? I&#39;m not new to Spring but i have to re-learn it from zero due to a huge memory loss after i got run over by a car and that&#39;s what i&#39;m doing. \r\nThanks in advance. If you need further details just ask.","title":"Java BeanCreationException Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource : Unknown access type record","body":"<p>i'm following a tutorial online on spring boot but i'm running into this error and i don't know what to do to solve it.\nMy pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Popster_Backend&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.0.7.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>my Entity class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo.user;\n\nimport jakarta.persistence.*;\n\n@Entity\n@Table\n@Access(AccessType.FIELD)\npublic class user {\n\n        @Access(AccessType.PROPERTY)\n        @Id\n        @SequenceGenerator(name = &quot;user_sequence&quot;, sequenceName = &quot;user_sequence&quot;, allocationSize = 1)\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;user_sequence&quot;)\n        private String name;\n        private String birthday;\n        private String email;\n        private String Nickname;\n        private String password;\n\n    public user() {\n    }\n\n    public user(String name, String birthday, String email, String nickname, String password) {\n        this.name = name;\n        this.birthday = birthday;\n        this.email = email;\n        Nickname = nickname;\n        this.password = password;\n    }\n\n    public user(String birthday, String email, String nickname, String password) {\n        this.birthday = birthday;\n        this.email = email;\n        Nickname = nickname;\n        this.password = password;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getBirthday() {\n        return birthday;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public String getNickname() {\n        return Nickname;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public void setBirthday(String birthday) {\n        this.birthday = birthday;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public void setNickname(String nickname) {\n        Nickname = nickname;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;user{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                &quot;, birthday='&quot; + birthday + '\\'' +\n                &quot;, email='&quot; + email + '\\'' +\n                &quot;, Nickname='&quot; + Nickname + '\\'' +\n                &quot;, password='&quot; + password + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>userConfig</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo.user;\n\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport java.util.List;\n\n@Configuration\npublic class userConfig {\n\n    @Bean\n    CommandLineRunner commandLineRunner(userRepository userRepo){\n        return args -&gt; {\n            user NameUser = new user(&quot;Name&quot;, &quot;date&quot;, &quot;email&quot;, &quot;nick&quot;, &quot;password&quot;);\n            user NameUserTwo = new user(&quot;Name&quot;, &quot;date&quot;, &quot;email&quot;,&quot;Nick&quot;,&quot;password&quot;);\n            userRepo.saveAll(List.of(NameUser, NameUserTwo));\n        };\n\n    }\n}\n\n</code></pre>\n<p>userRepository</p>\n<pre><code>package com.example.demo.user;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface userRepository extends JpaRepository&lt;user, String&gt; {\n\n}\n</code></pre>\n<p>userService</p>\n<pre><code>package com.example.demo.user;\n\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.bind.annotation.GetMapping;\n\nimport java.util.List;\n\n@Service\npublic class userService {\n\n    private final userRepository repo;\n\n    @Autowired\n    public userService(userRepository repo) {\n        this.repo = repo;\n    }\n\n\n    public List&lt;user&gt; getUser(){\n        return repo.findAll();\n    }\n}\n\n</code></pre>\n<p>userController</p>\n<pre><code>package com.example.demo.user;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(path= &quot;api/v1/user&quot;)\npublic class userController {\n\n    private final userService serv;\n\n    @Autowired\n    public userController(userService service){\n        this.serv = service;\n    }\n    @GetMapping\n    public List&lt;user&gt; getUser(){\n        return serv.getUser();\n    }\n}\n</code></pre>\n<p>The error i get:</p>\n<pre><code>*org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unknown access type record\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.10.jar:6.0.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.10.jar:6.0.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.10.jar:6.0.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.10.jar:6.0.10]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.10.jar:6.0.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.10.jar:6.0.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.10.jar:6.0.10]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-6.0.10.jar:6.0.10]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931) ~[spring-context-6.0.10.jar:6.0.10]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.10.jar:6.0.10]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.1.jar:3.1.1]\n    at com.example.demo.PopsterBackendApplication.main(PopsterBackendApplication.java:13) ~[classes/:na]\nCaused by: java.lang.IllegalArgumentException: Unknown access type record\n    at org.hibernate.annotations.common.reflection.java.JavaXClass.getDeclaredProperties(JavaXClass.java:131) ~[hibernate-commons-annotations-5.0.1.Final.jar:5.0.1.Final]\n    at org.hibernate.annotations.common.reflection.java.JavaXClass.getDeclaredProperties(JavaXClass.java:121) ~[hibernate-commons-annotations-5.0.1.Final.jar:5.0.1.Final]\n    at org.hibernate.boot.model.internal.PropertyContainer.&lt;init&gt;(PropertyContainer.java:90) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.boot.model.internal.InheritanceState.getElementsToProcess(InheritanceState.java:221) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.boot.model.internal.InheritanceState.postProcess(InheritanceState.java:160) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.boot.model.internal.EntityBinder.handleIdentifier(EntityBinder.java:293) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.boot.model.internal.EntityBinder.bindEntityClass(EntityBinder.java:228) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.boot.model.internal.AnnotationBinder.bindClass(AnnotationBinder.java:417) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:255) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:275) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:318) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.10.jar:6.0.10]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.10.jar:6.0.10]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.10.jar:6.0.10]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.10.jar:6.0.10]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.10.jar:6.0.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.10.jar:6.0.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.10.jar:6.0.10]\n    ... 16 common frames omitted*\n</code></pre>\n<p>Can anybody help me? I'm not new to Spring but i have to re-learn it from zero due to a huge memory loss after i got run over by a car and that's what i'm doing.\nThanks in advance. If you need further details just ask.</p>\n"},{"tags":["java","inheritance","reflection","final"],"comments":[{"owner":{"account_id":137890,"reputation":8718,"user_id":995052,"accept_rate":56,"display_name":"Kris"},"score":0,"creation_date":1657622402,"post_id":72950897,"comment_id":128849280,"body_markdown":"&quot; final toString() method&quot; ? And still you plan to override ?","body":"&quot; final toString() method&quot; ? And still you plan to override ?"},{"owner":{"account_id":23246470,"reputation":541,"user_id":17335001,"display_name":"nquincampoix"},"score":0,"creation_date":1657622868,"post_id":72950897,"comment_id":128849405,"body_markdown":"Technically you can&#39;t. You should ask yourself why exactly is the `Base.toString()` method declared `final`. If there is a good reason for that, then you shouldn&#39;t try to override it. Perhaps could you provide a sample of code so we can understand better what is at stake here ?","body":"Technically you can&#39;t. You should ask yourself why exactly is the <code>Base.toString()</code> method declared <code>final</code>. If there is a good reason for that, then you shouldn&#39;t try to override it. Perhaps could you provide a sample of code so we can understand better what is at stake here ?"},{"owner":{"account_id":2008812,"reputation":609,"user_id":2464312,"accept_rate":67,"display_name":"TeabagD"},"score":0,"creation_date":1657622885,"post_id":72950897,"comment_id":128849409,"body_markdown":"Yes, if it was possible to do on a single instance. Yes there might be a good reason why it&#39;s final. It&#39;s a very generic class, used in many places. I just need this one single instance in one place to return something else for toString()","body":"Yes, if it was possible to do on a single instance. Yes there might be a good reason why it&#39;s final. It&#39;s a very generic class, used in many places. I just need this one single instance in one place to return something else for toString()"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":3,"creation_date":1657623438,"post_id":72950897,"comment_id":128849583,"body_markdown":"@TeabagD without some serious tampering of the code, it&#39;s not possible. Even with tampering, it&#39;s not necessarily possible.","body":"@TeabagD without some serious tampering of the code, it&#39;s not possible. Even with tampering, it&#39;s not necessarily possible."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1657626519,"post_id":72950897,"comment_id":128850630,"body_markdown":"a  `final toString` override looks as fishy as _easiest way to achieve the change would be to override the toString method_ - it&#39;s supposed to be merely informational, unrelated to any (application) functionality. So both finalizing it in super and trying to solve a task in subs are wrong, IMO","body":"a  <code>final toString</code> override looks as fishy as <i>easiest way to achieve the change would be to override the toString method</i> - it&#39;s supposed to be merely informational, unrelated to any (application) functionality. So both finalizing it in super and trying to solve a task in subs are wrong, IMO"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1657724145,"post_id":72950897,"comment_id":128879424,"body_markdown":"The important question is, *what do you want to achieve with the overridden `toString()` method?* Also worth reading: [What is the XY problem?](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem/66378#66378)","body":"The important question is, <i>what do you want to achieve with the overridden <code>toString()</code> method?</i> Also worth reading: <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem/66378#66378\">What is the XY problem?</a>"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1690857152,"post_id":72950897,"comment_id":135408032,"body_markdown":"I&#39;d add a `String toStringImpl()` with default visibility to `Base`. Add the current implementation of `toString` to it, then delegate from `toString` to `toStringImpl`. A subclass in the same package can override `toStringImpl`, other subclasses in other packages can not.","body":"I&#39;d add a <code>String toStringImpl()</code> with default visibility to <code>Base</code>. Add the current implementation of <code>toString</code> to it, then delegate from <code>toString</code> to <code>toStringImpl</code>. A subclass in the same package can override <code>toStringImpl</code>, other subclasses in other packages can not."}],"answers":[{"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1657623371,"post_id":72951063,"comment_id":128849557,"body_markdown":"&quot;in your sub class&quot;, first of all, the base class is already final, there is no subclass. Secondly, unless you override the toString method, adding an instance variable in a subclass (which you don&#39;t have) won&#39;t alter the functionality of the toString method","body":"&quot;in your sub class&quot;, first of all, the base class is already final, there is no subclass. Secondly, unless you override the toString method, adding an instance variable in a subclass (which you don&#39;t have) won&#39;t alter the functionality of the toString method"},{"owner":{"account_id":23246470,"reputation":541,"user_id":17335001,"display_name":"nquincampoix"},"score":1,"creation_date":1657623743,"post_id":72951063,"comment_id":128849695,"body_markdown":"@Stultuske That&#39;s not what the OP said : the `Base` class is not final, only its `toString()` method is.","body":"@Stultuske That&#39;s not what the OP said : the <code>Base</code> class is not final, only its <code>toString()</code> method is."},{"owner":{"account_id":25778890,"reputation":44,"user_id":19524775,"display_name":"Lakshman Kumar"},"score":0,"creation_date":1657624060,"post_id":72951063,"comment_id":128849813,"body_markdown":"@Stultuske I know the variable will not alter the functionality of toString(). The Base class is not final but the Sub class is final which extends the Base class. The toString() in Base class is final. Please read the problem once agian.","body":"@Stultuske I know the variable will not alter the functionality of toString(). The Base class is not final but the Sub class is final which extends the Base class. The toString() in Base class is final. Please read the problem once agian."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1657624113,"post_id":72951063,"comment_id":128849832,"body_markdown":"@nquincampoix I was mistaken based on the title","body":"@nquincampoix I was mistaken based on the title"}],"tags":[],"owner":{"account_id":25778890,"reputation":44,"user_id":19524775,"display_name":"Lakshman Kumar"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1657622904,"creation_date":1657622904,"answer_id":72951063,"question_id":72950897,"body_markdown":"If any method in java is final, the child classes cannot override the final method. \r\nThere is only one way if you insist on using toString() in your Sub. Make the toString() of Base class not final. \r\n\r\nor\r\n\r\nTake a non static final global variable in your Sub class and initialize it using constructor with the required fields to be printed whenever an instance of Sub class need to be printed.","title":"Overriding a final method on a final class on an object instance in Java","body":"<p>If any method in java is final, the child classes cannot override the final method.\nThere is only one way if you insist on using toString() in your Sub. Make the toString() of Base class not final.</p>\n<p>or</p>\n<p>Take a non static final global variable in your Sub class and initialize it using constructor with the required fields to be printed whenever an instance of Sub class need to be printed.</p>\n"},{"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657623423,"creation_date":1657623423,"answer_id":72951177,"question_id":72950897,"body_markdown":"If you can&#39;t change `Base` class, to remove the `final` modifier or change the `toString` implementation to delegate to child class, your best bet would be to add and use interface: have `Base` and `Sub` implements the same interface, use the interface everywhere, then do what you need to do using composition:\r\n\r\n    class Delegate implements CommonInterface {\r\n      private Base delegate;\r\n      // ++ ctor\r\n    \r\n      public String toString() {\r\n        return delegate.toString(); // here you are free to change the toString.\r\n      }\r\n    }\r\n\r\n","title":"Overriding a final method on a final class on an object instance in Java","body":"<p>If you can't change <code>Base</code> class, to remove the <code>final</code> modifier or change the <code>toString</code> implementation to delegate to child class, your best bet would be to add and use interface: have <code>Base</code> and <code>Sub</code> implements the same interface, use the interface everywhere, then do what you need to do using composition:</p>\n<pre><code>class Delegate implements CommonInterface {\n  private Base delegate;\n  // ++ ctor\n\n  public String toString() {\n    return delegate.toString(); // here you are free to change the toString.\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":2008812,"reputation":609,"user_id":2464312,"accept_rate":67,"display_name":"TeabagD"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690804431,"creation_date":1657621993,"question_id":72950897,"body_markdown":"We&#39;re in a situation where we have a class &quot;Base&quot;, which has a final toString() method.\r\n\r\nWe also have a final class &quot;Sub&quot; which extends &quot;Base&quot;. \r\n\r\nThere&#39;s a requirement to do a change that&#39;s very specific and only applies to a miniscule subset of functionality, but can get pretty intrusive if done &quot;properly&quot;.\r\n\r\nThe easiest way to achieve the change would be to override the toString method on a single instance of the &quot;Sub&quot; class. Creating a new single instance of Sub with the overriden toString() is also an option.\r\n\r\nIs this possible to do? Any advice on how to do this?","title":"Overriding a final method on a final class on an object instance in Java","body":"<p>We're in a situation where we have a class &quot;Base&quot;, which has a final toString() method.</p>\n<p>We also have a final class &quot;Sub&quot; which extends &quot;Base&quot;.</p>\n<p>There's a requirement to do a change that's very specific and only applies to a miniscule subset of functionality, but can get pretty intrusive if done &quot;properly&quot;.</p>\n<p>The easiest way to achieve the change would be to override the toString method on a single instance of the &quot;Sub&quot; class. Creating a new single instance of Sub with the overriden toString() is also an option.</p>\n<p>Is this possible to do? Any advice on how to do this?</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1478239200,"post_id":40416032,"comment_id":68081750,"body_markdown":"https://github.com/jayway/JsonPath Maybe?","body":"<a href=\"https://github.com/jayway/JsonPath\" rel=\"nofollow noreferrer\">github.com/jayway/JsonPath</a> Maybe?"},{"owner":{"account_id":4463325,"reputation":722,"user_id":4657587,"display_name":"Patr"},"score":1,"creation_date":1480055856,"post_id":40416032,"comment_id":68819661,"body_markdown":"JsonPath looks good, though at this time, I needed Jsonata. Appreciate the info.","body":"JsonPath looks good, though at this time, I needed Jsonata. Appreciate the info."}],"answers":[{"comments":[{"owner":{"account_id":4463325,"reputation":722,"user_id":4657587,"display_name":"Patr"},"score":0,"creation_date":1479475363,"post_id":40469906,"comment_id":68586105,"body_markdown":"This is excellent. I have created a library for myself based on this code. Thank you.","body":"This is excellent. I have created a library for myself based on this code. Thank you."}],"tags":[],"owner":{"account_id":9525930,"reputation":1341,"user_id":7079134,"display_name":"Andrew Coleman"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1478536041,"creation_date":1478536041,"answer_id":40469906,"question_id":40416032,"body_markdown":"The following snippet shows how you could invoke the JSONata processor from Java using the embedded JavaScript engine...\r\n\r\n    ScriptEngineManager factory = new ScriptEngineManager();\r\n\tScriptEngine engine = factory.getEngineByName(&quot;JavaScript&quot;);\r\n    Invocable inv = (Invocable) engine;\r\n\tFileReader jsonata = new FileReader(&quot;jsonata.js&quot;);\r\n\r\n    // load the JSONata processor\r\n\tengine.eval(jsonata);\r\n\r\n    // read and JSON.parse the input data\r\n\tbyte[] sample = Files.readAllBytes(Paths.get(&quot;sample.json&quot;));\r\n    engine.put(&quot;input&quot;, new String(sample));\r\n    Object inputjson = engine.eval(&quot;JSON.parse(input);&quot;);\r\n\r\n    // query the data\r\n    String expression = &quot;$sum(Account.Order.Product.(Price * Quantity))&quot;;  // JSONata expression\r\n    Object expr = inv.invokeFunction(&quot;jsonata&quot;, expression);\r\n    Object resultjson = inv.invokeMethod(expr, &quot;evaluate&quot;, inputjson);\r\n\r\n    // JSON.stringify the result\r\n    engine.put(&quot;resultjson&quot;, resultjson);\r\n    Object result = engine.eval(&quot;JSON.stringify(resultjson);&quot;);\r\n    System.out.println(result);\r\n\r\nIn this example, the jsonata.js file has been pulled down from the JSONata GitHub repo as well as the &#39;Invoice&#39; sample code from [try.jsonata.org][1].  \r\n\r\nExtra code would be needed to handle errors, but this gives the general idea.\r\n\r\n\r\n  [1]: http://try.jsonata.org/","title":"How can I use JSONata in Java?","body":"<p>The following snippet shows how you could invoke the JSONata processor from Java using the embedded JavaScript engine...</p>\n\n<pre><code>ScriptEngineManager factory = new ScriptEngineManager();\nScriptEngine engine = factory.getEngineByName(\"JavaScript\");\nInvocable inv = (Invocable) engine;\nFileReader jsonata = new FileReader(\"jsonata.js\");\n\n// load the JSONata processor\nengine.eval(jsonata);\n\n// read and JSON.parse the input data\nbyte[] sample = Files.readAllBytes(Paths.get(\"sample.json\"));\nengine.put(\"input\", new String(sample));\nObject inputjson = engine.eval(\"JSON.parse(input);\");\n\n// query the data\nString expression = \"$sum(Account.Order.Product.(Price * Quantity))\";  // JSONata expression\nObject expr = inv.invokeFunction(\"jsonata\", expression);\nObject resultjson = inv.invokeMethod(expr, \"evaluate\", inputjson);\n\n// JSON.stringify the result\nengine.put(\"resultjson\", resultjson);\nObject result = engine.eval(\"JSON.stringify(resultjson);\");\nSystem.out.println(result);\n</code></pre>\n\n<p>In this example, the jsonata.js file has been pulled down from the JSONata GitHub repo as well as the 'Invoice' sample code from <a href=\"http://try.jsonata.org/\" rel=\"noreferrer\">try.jsonata.org</a>.  </p>\n\n<p>Extra code would be needed to handle errors, but this gives the general idea.</p>\n"},{"comments":[{"owner":{"account_id":953817,"reputation":493,"user_id":979478,"display_name":"Pawel Zieminski"},"score":0,"creation_date":1534894078,"post_id":51773661,"comment_id":90866371,"body_markdown":"Looks like this java port is not very far along. The JS version is likely the only option right now.","body":"Looks like this java port is not very far along. The JS version is likely the only option right now."}],"tags":[],"owner":{"account_id":250544,"reputation":7921,"user_id":527333,"accept_rate":60,"display_name":"btiernay"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533839312,"creation_date":1533839312,"answer_id":51773661,"question_id":40416032,"body_markdown":"You can use the JSONata-Java project:\r\n\r\nhttps://github.com/cow-co/jsonata-java\r\n\r\n&gt; A Java port of the original (JavaScript) interpreter for the JSONata\r\n&gt; JSON query and transformation language.\r\n\r\n","title":"How can I use JSONata in Java?","body":"<p>You can use the JSONata-Java project:</p>\n\n<p><a href=\"https://github.com/cow-co/jsonata-java\" rel=\"nofollow noreferrer\">https://github.com/cow-co/jsonata-java</a></p>\n\n<blockquote>\n  <p>A Java port of the original (JavaScript) interpreter for the JSONata\n  JSON query and transformation language.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2180804,"reputation":381,"user_id":2188316,"accept_rate":86,"display_name":"wnm3"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1551916878,"creation_date":1551916878,"answer_id":55034068,"question_id":40416032,"body_markdown":"I have just posted a **Java implementation of JSONata** called JSONata4Java.\r\n\r\nmaven central:\r\n--------------\r\nJSONata4Java jar files are located here in Maven Central: https://search.maven.org/search?q=g:com.ibm.jsonata4java\r\npom.xml dependency\r\n \r\n    &lt;dependency&gt;\r\n     &lt;groupId&gt;com.ibm.jsonata4java&lt;/groupId&gt;\r\n     &lt;artifactId&gt;JSONata4Java&lt;/artifactId&gt;\r\n     &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\ngithub:\r\n-------\r\n\r\nThe Java port of jsonata project named JSONata4Java has been posted here: https://github.com/IBM/JSONata4Java\r\n\r\nIf you would like to contribute, please print and sign the appropriate JSONata4Java cla document and mail it to me:\r\n\r\n    IBM Corporation\r\n    c/o Nathaniel Mills\r\n    16 Deer Hill Ln.\r\n    Coventry, CT, 06238, US\r\n    Attn: OSS CLA Processing\r\n\r\nThanks in advance.","title":"How can I use JSONata in Java?","body":"<p>I have just posted a <strong>Java implementation of JSONata</strong> called JSONata4Java.</p>\n\n<h2>maven central:</h2>\n\n<p>JSONata4Java jar files are located here in Maven Central: <a href=\"https://search.maven.org/search?q=g:com.ibm.jsonata4java\" rel=\"noreferrer\">https://search.maven.org/search?q=g:com.ibm.jsonata4java</a>\npom.xml dependency</p>\n\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;com.ibm.jsonata4java&lt;/groupId&gt;\n &lt;artifactId&gt;JSONata4Java&lt;/artifactId&gt;\n &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<h2>github:</h2>\n\n<p>The Java port of jsonata project named JSONata4Java has been posted here: <a href=\"https://github.com/IBM/JSONata4Java\" rel=\"noreferrer\">https://github.com/IBM/JSONata4Java</a></p>\n\n<p>If you would like to contribute, please print and sign the appropriate JSONata4Java cla document and mail it to me:</p>\n\n<pre><code>IBM Corporation\nc/o Nathaniel Mills\n16 Deer Hill Ln.\nCoventry, CT, 06238, US\nAttn: OSS CLA Processing\n</code></pre>\n\n<p>Thanks in advance.</p>\n"},{"tags":[],"owner":{"account_id":18903505,"reputation":754,"user_id":13791091,"display_name":"aeberhart"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690803405,"creation_date":1690803405,"answer_id":76803234,"question_id":40416032,"body_markdown":"We just published jsonata-java (https://github.com/dashjoin/jsonata-java) a 1:1 Java port of the jsonata-js reference that stays as close to the original source structure as possible: \r\n\r\n* Apache-2 licensed \r\n* Close to 100% test coverage (exceptions and explanations are documented in test/test-overrides.json)\r\n* Faster than jsonata-js on node \r\n* No 3rd party libs requires \r\n* Available on maven: https://mvnrepository.com/artifact/com.dashjoin/jsonata\r\n* jq-like native cli coming soon \r\n\r\nThis [section](https://github.com/dashjoin/jsonata-java/blob/main/README.md#design) in the README explains the design decisions that allowed porting the original JavaScript to Java 1:1. \r\n","title":"How can I use JSONata in Java?","body":"<p>We just published jsonata-java (<a href=\"https://github.com/dashjoin/jsonata-java\" rel=\"nofollow noreferrer\">https://github.com/dashjoin/jsonata-java</a>) a 1:1 Java port of the jsonata-js reference that stays as close to the original source structure as possible:</p>\n<ul>\n<li>Apache-2 licensed</li>\n<li>Close to 100% test coverage (exceptions and explanations are documented in test/test-overrides.json)</li>\n<li>Faster than jsonata-js on node</li>\n<li>No 3rd party libs requires</li>\n<li>Available on maven: <a href=\"https://mvnrepository.com/artifact/com.dashjoin/jsonata\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.dashjoin/jsonata</a></li>\n<li>jq-like native cli coming soon</li>\n</ul>\n<p>This <a href=\"https://github.com/dashjoin/jsonata-java/blob/main/README.md#design\" rel=\"nofollow noreferrer\">section</a> in the README explains the design decisions that allowed porting the original JavaScript to Java 1:1.</p>\n"}],"owner":{"account_id":4463325,"reputation":722,"user_id":4657587,"display_name":"Patr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4673,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":40469906,"answer_count":4,"score":4,"last_activity_date":1690803405,"creation_date":1478238266,"question_id":40416032,"body_markdown":"\r\n\r\nJSONata is an expression language designed to query and transform JSON data structures.\r\n\r\nI find that current implementations of JSONata are in Javascript only. (https://github.com/jsonata-js/jsonata)\r\n\r\nI want to use JSONata in my Java code. It&#39;ll make life much easier to manipulate JSON documents in Java.\r\n\r\nA possible way could be to use the standard Java classes under javax.script package to interact with the Javascript-based JSONata implementation.\r\n\r\nHas anyone already done this? Is there any sample code to demonstrate how this can be achieved?\r\n\r\nHas anyone implemented other mechanisms of using JSONata in Java?\r\n","title":"How can I use JSONata in Java?","body":"<p>JSONata is an expression language designed to query and transform JSON data structures.</p>\n\n<p>I find that current implementations of JSONata are in Javascript only. (<a href=\"https://github.com/jsonata-js/jsonata\" rel=\"nofollow noreferrer\">https://github.com/jsonata-js/jsonata</a>)</p>\n\n<p>I want to use JSONata in my Java code. It'll make life much easier to manipulate JSON documents in Java.</p>\n\n<p>A possible way could be to use the standard Java classes under javax.script package to interact with the Javascript-based JSONata implementation.</p>\n\n<p>Has anyone already done this? Is there any sample code to demonstrate how this can be achieved?</p>\n\n<p>Has anyone implemented other mechanisms of using JSONata in Java?</p>\n"},{"tags":["java","spring-boot","elasticsearch","spring-data"],"answers":[{"tags":[],"owner":{"account_id":14795454,"reputation":2021,"user_id":10685211,"display_name":"Musab Dogan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690803269,"creation_date":1690803269,"answer_id":76803222,"question_id":76803116,"body_markdown":"You can use bool query. Also you can check this [thread][1].\r\n\r\n    SearchRequest request = new SearchRequest(&quot;your_index&quot;);\r\n    \r\n    BoolQuery boolQuery = new BoolQuery();\r\n    \r\n    boolQuery.should(MatchQuery.of(m -&gt; m.field(&quot;fileType&quot;).query(&quot;EXP&quot;)));\r\n    boolQuery.should(MatchQuery.of(m -&gt; m.field(&quot;fileType&quot;).query(&quot;WAIT_EXP&quot;)));\r\n    \r\n    request.query(boolQuery);\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/55852787/how-to-do-bool-queries-in-elasticsearch-with-java-api","title":"Elasticsearch multiple query values","body":"<p>You can use bool query. Also you can check this <a href=\"https://stackoverflow.com/questions/55852787/how-to-do-bool-queries-in-elasticsearch-with-java-api\">thread</a>.</p>\n<pre><code>SearchRequest request = new SearchRequest(&quot;your_index&quot;);\n\nBoolQuery boolQuery = new BoolQuery();\n\nboolQuery.should(MatchQuery.of(m -&gt; m.field(&quot;fileType&quot;).query(&quot;EXP&quot;)));\nboolQuery.should(MatchQuery.of(m -&gt; m.field(&quot;fileType&quot;).query(&quot;WAIT_EXP&quot;)));\n\nrequest.query(boolQuery);\n</code></pre>\n"}],"owner":{"account_id":29074702,"reputation":1,"user_id":22272176,"display_name":"Levent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690803269,"creation_date":1690802372,"question_id":76803116,"body_markdown":"Hi I am trying to create a query with elastic search : \r\n\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;co.elastic.clients&lt;/groupId&gt;\r\n            &lt;artifactId&gt;elasticsearch-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.5.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n\r\nI need the query to select multiple files based on values:\r\n\r\n```\r\nquery = MatchQuery.of(m -&gt; m\r\n                        .field(&quot;fileType&quot;)\r\n                        .query(&quot;EXP&quot;, &quot;WAIT_EXP&quot;)\r\n                    )._toQuery();\r\n```\r\nBut this is giving me an syntax error. The query only gets 1 value. I need the get files with fileType both exp or wait_exp.\r\n\r\nI read the documentation at here [https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/index.html](Documentatoin) but cant find anything helpfull.","title":"Elasticsearch multiple query values","body":"<p>Hi I am trying to create a query with elastic search :</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;co.elastic.clients&lt;/groupId&gt;\n            &lt;artifactId&gt;elasticsearch-java&lt;/artifactId&gt;\n            &lt;version&gt;8.5.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I need the query to select multiple files based on values:</p>\n<pre><code>query = MatchQuery.of(m -&gt; m\n                        .field(&quot;fileType&quot;)\n                        .query(&quot;EXP&quot;, &quot;WAIT_EXP&quot;)\n                    )._toQuery();\n</code></pre>\n<p>But this is giving me an syntax error. The query only gets 1 value. I need the get files with fileType both exp or wait_exp.</p>\n<p>I read the documentation at here https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/index.html but cant find anything helpfull.</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":4905966,"reputation":1880,"user_id":3952702,"accept_rate":71,"display_name":"SME_Dev"},"score":3,"creation_date":1538280723,"post_id":52574492,"comment_id":92085013,"body_markdown":"Instead of `Arrays.stream(new int[] {13, 1, 3, 5, 7, 9});` you can write directly `IntStream.of(13, 1, etc)`.","body":"Instead of <code>Arrays.stream(new int[] {13, 1, 3, 5, 7, 9});</code> you can write directly <code>IntStream.of(13, 1, etc)</code>."}],"answers":[{"comments":[{"owner":{"account_id":6300117,"reputation":1389,"user_id":4895033,"accept_rate":50,"display_name":"chaos"},"score":0,"creation_date":1538293711,"post_id":52574504,"comment_id":92087030,"body_markdown":"Thank you, it worked. But it is a pity that `contact()` method does not  remove the duplicate items for us, so we have to use one more `distinct()` method.","body":"Thank you, it worked. But it is a pity that <code>contact()</code> method does not  remove the duplicate items for us, so we have to use one more <code>distinct()</code> method."},{"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"score":7,"creation_date":1538302154,"post_id":52574504,"comment_id":92088991,"body_markdown":"@weaver why would you expect `concat` to remove duplicate items?","body":"@weaver why would you expect <code>concat</code> to remove duplicate items?"},{"owner":{"account_id":6589671,"reputation":10127,"user_id":5091346,"accept_rate":72,"display_name":"Andrii Abramov"},"score":5,"creation_date":1538303596,"post_id":52574504,"comment_id":92089350,"body_markdown":"In order to remove duplicates you can call `.distinct()` after concatenation.","body":"In order to remove duplicates you can call <code>.distinct()</code> after concatenation."},{"owner":{"account_id":1016849,"reputation":9461,"user_id":2026105,"display_name":"ETL"},"score":1,"creation_date":1615347885,"post_id":52574504,"comment_id":117660666,"body_markdown":"@weaver That&#39;s the point of streams... chain operations on the stream.","body":"@weaver That&#39;s the point of streams... chain operations on the stream."}],"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"comment_count":4,"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1538280467,"creation_date":1538280176,"answer_id":52574504,"question_id":52574492,"body_markdown":"You can use [`concat()`][1] \r\n\r\n    IntStream.concat(stream1, stream2)\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#concat-java.util.stream.IntStream-java.util.stream.IntStream-","title":"How to merge two streams in Java?","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#concat-java.util.stream.IntStream-java.util.stream.IntStream-\" rel=\"noreferrer\"><code>concat()</code></a> </p>\n\n<pre><code>IntStream.concat(stream1, stream2)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"comment_count":0,"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1690803070,"creation_date":1538302975,"answer_id":52576996,"question_id":52574492,"body_markdown":"@Jigar Joshi has answered the first part of your question which is *&quot;how to merge two IntStream&#39;s into one&quot;*.\r\n\r\nYour other question of &quot;how to merge two `Stream&lt;T&gt;` without overwriting the `equals()` and `hashCode()` method?&quot; can be done using the `toMap` collector, i.e.\r\nassuming you don&#39;t want the result as a `Stream&lt;T&gt;`.\r\nExample:\r\n\r\n    Stream.concat(stream1, stream2)\r\n          .collect(Collectors.toMap(Student::getNo, \r\n                   Function.identity(), \r\n                   (l, r) -&gt; l, \r\n                   LinkedHashMap::new)\r\n          ).values();\r\n\r\nif you want the result as a `Stream&lt;T&gt;` then one could do:\r\n\r\n     Stream.concat(stream1, stream2)\r\n           .collect(Collectors.collectingAndThen(\r\n                   Collectors.toMap(Student::getNo,\r\n                        Function.identity(),\r\n                        (l, r) -&gt; l,\r\n                        LinkedHashMap::new), \r\n                        f -&gt; f.values().stream()));\r\n\r\nThis is possibly not as efficient as it can be but it&#39;s another way to return a `Stream&lt;T&gt;` where the `T` items are all distinct but without using overriding `equals` and `hashcode` as you&#39;ve mentioned.","title":"How to merge two streams in Java?","body":"<p>@Jigar Joshi has answered the first part of your question which is <em>&quot;how to merge two IntStream's into one&quot;</em>.</p>\n<p>Your other question of &quot;how to merge two <code>Stream&lt;T&gt;</code> without overwriting the <code>equals()</code> and <code>hashCode()</code> method?&quot; can be done using the <code>toMap</code> collector, i.e.\nassuming you don't want the result as a <code>Stream&lt;T&gt;</code>.\nExample:</p>\n<pre><code>Stream.concat(stream1, stream2)\n      .collect(Collectors.toMap(Student::getNo, \n               Function.identity(), \n               (l, r) -&gt; l, \n               LinkedHashMap::new)\n      ).values();\n</code></pre>\n<p>if you want the result as a <code>Stream&lt;T&gt;</code> then one could do:</p>\n<pre><code> Stream.concat(stream1, stream2)\n       .collect(Collectors.collectingAndThen(\n               Collectors.toMap(Student::getNo,\n                    Function.identity(),\n                    (l, r) -&gt; l,\n                    LinkedHashMap::new), \n                    f -&gt; f.values().stream()));\n</code></pre>\n<p>This is possibly not as efficient as it can be but it's another way to return a <code>Stream&lt;T&gt;</code> where the <code>T</code> items are all distinct but without using overriding <code>equals</code> and <code>hashcode</code> as you've mentioned.</p>\n"},{"comments":[{"owner":{"account_id":189447,"reputation":1115,"user_id":428780,"display_name":"Vinicius"},"score":1,"creation_date":1637876394,"post_id":69346119,"comment_id":123948280,"body_markdown":"Just put a distinct() after the flatMap and that is the better answer","body":"Just put a distinct() after the flatMap and that is the better answer"},{"owner":{"account_id":432328,"reputation":1032,"user_id":817019,"accept_rate":70,"display_name":"snuk182"},"score":1,"creation_date":1647613816,"post_id":69346119,"comment_id":126421631,"body_markdown":"A variant for the stream of non-primitives:\n`Stream.of(stream1, stream2, ... streamN).flatMap(Function.identity())`","body":"A variant for the stream of non-primitives: <code>Stream.of(stream1, stream2, ... streamN).flatMap(Function.identity())</code>"}],"tags":[],"owner":{"account_id":8954365,"reputation":332,"user_id":6679305,"display_name":"Mohammed Nosirat"},"comment_count":2,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1639059230,"creation_date":1632743591,"answer_id":69346119,"question_id":52574492,"body_markdown":"for first question \r\nyou can use &quot;flatMap&quot;\r\n\r\n        IntStream stream1 = Arrays.stream(new int[] {13, 1, 3, 5, 7, 9});\r\n        IntStream stream2 = Arrays.stream(new int[] {1, 2, 6, 14, 8, 10, 12});\r\n\r\n        List&lt;Integer&gt; result = Stream.of(stream1, stream2).flatMap(IntStream::boxed)\r\n                .collect(Collectors.toList());\r\n        //result={13, 1, 3, 5, 7, 9, 1, 2, 6, 14, 8, 10, 12}\r\n\r\n**EDIT**\r\n\r\nthanks to @Vinicius for advising, \r\nwe can use \r\n\r\n    Stream&lt;Integer&gt; result = Stream.of(stream1, stream2).flatMap(IntStream::boxed).distinct();\r\n\r\nhere we will get a stream of all elements distinct based on the `equals` method.\r\n\r\n","title":"How to merge two streams in Java?","body":"<p>for first question\nyou can use &quot;flatMap&quot;</p>\n<pre><code>    IntStream stream1 = Arrays.stream(new int[] {13, 1, 3, 5, 7, 9});\n    IntStream stream2 = Arrays.stream(new int[] {1, 2, 6, 14, 8, 10, 12});\n\n    List&lt;Integer&gt; result = Stream.of(stream1, stream2).flatMap(IntStream::boxed)\n            .collect(Collectors.toList());\n    //result={13, 1, 3, 5, 7, 9, 1, 2, 6, 14, 8, 10, 12}\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p>thanks to @Vinicius for advising,\nwe can use</p>\n<pre><code>Stream&lt;Integer&gt; result = Stream.of(stream1, stream2).flatMap(IntStream::boxed).distinct();\n</code></pre>\n<p>here we will get a stream of all elements distinct based on the <code>equals</code> method.</p>\n"}],"owner":{"account_id":6300117,"reputation":1389,"user_id":4895033,"accept_rate":50,"display_name":"chaos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24195,"favorite_count":0,"down_vote_count":1,"up_vote_count":25,"accepted_answer_id":52576996,"answer_count":3,"score":24,"last_activity_date":1690803070,"creation_date":1538280059,"question_id":52574492,"body_markdown":"Suppose we have two streams as follows:\r\n\r\n    IntStream stream1 = Arrays.stream(new int[] {13, 1, 3, 5, 7, 9});\r\n    IntStream stream2 = Arrays.stream(new int[] {1, 2, 6, 14, 8, 10, 12});\r\n    stream1.merge(stream2); // some method which is used to merge two streams.\r\n\r\nIs there any convenient way to merge these two streams to [13, 1, 2, 3, 5, 6, 7, 8, 9, 10, 12, 14] by using the Java 8 stream API (the order doesn&#39;t matter). Or can we only handle one stream at the same time?\r\n\r\nFurthermore, if the two streams are object streams, how to keep only distinct objects without overriding the `equals()` and `hashCode()` methods? For example:\r\n\r\n    public class Student {\r\n    \r\n        private String no;\r\n    \r\n        private String name;\r\n    }\r\n\r\n    Student s1 = new Student(&quot;1&quot;, &quot;May&quot;);\r\n    Student s2 = new Student(&quot;2&quot;, &quot;Bob&quot;);\r\n    Student s3 = new Student(&quot;1&quot;, &quot;Marry&quot;);\r\n    \r\n    Stream&lt;Student&gt; stream1 = Stream.of(s1, s2);\r\n    Stream&lt;Student&gt; stream2 = Stream.of(s2, s3);\r\n    stream1.merge(stream2);  // should return Student{no=&#39;1&#39;, name=&#39;May&#39;} Student{no=&#39;2&#39;, name=&#39;Bob&#39;}\r\n\r\n\r\nAs long as their `no` is the same we consider them to be the same student. (so May and Marry are the same person because their numbers are both &quot;1&quot;).\r\n\r\nI&#39;ve found the `distinct()` method, but this method is based on `Object#equals()`. If we are not allowed to overwrite the `equals()` method, how can we merge `stream1` and `stream2` to one stream which has no duplicate items?","title":"How to merge two streams in Java?","body":"<p>Suppose we have two streams as follows:</p>\n<pre><code>IntStream stream1 = Arrays.stream(new int[] {13, 1, 3, 5, 7, 9});\nIntStream stream2 = Arrays.stream(new int[] {1, 2, 6, 14, 8, 10, 12});\nstream1.merge(stream2); // some method which is used to merge two streams.\n</code></pre>\n<p>Is there any convenient way to merge these two streams to [13, 1, 2, 3, 5, 6, 7, 8, 9, 10, 12, 14] by using the Java 8 stream API (the order doesn't matter). Or can we only handle one stream at the same time?</p>\n<p>Furthermore, if the two streams are object streams, how to keep only distinct objects without overriding the <code>equals()</code> and <code>hashCode()</code> methods? For example:</p>\n<pre><code>public class Student {\n\n    private String no;\n\n    private String name;\n}\n\nStudent s1 = new Student(&quot;1&quot;, &quot;May&quot;);\nStudent s2 = new Student(&quot;2&quot;, &quot;Bob&quot;);\nStudent s3 = new Student(&quot;1&quot;, &quot;Marry&quot;);\n\nStream&lt;Student&gt; stream1 = Stream.of(s1, s2);\nStream&lt;Student&gt; stream2 = Stream.of(s2, s3);\nstream1.merge(stream2);  // should return Student{no='1', name='May'} Student{no='2', name='Bob'}\n</code></pre>\n<p>As long as their <code>no</code> is the same we consider them to be the same student. (so May and Marry are the same person because their numbers are both &quot;1&quot;).</p>\n<p>I've found the <code>distinct()</code> method, but this method is based on <code>Object#equals()</code>. If we are not allowed to overwrite the <code>equals()</code> method, how can we merge <code>stream1</code> and <code>stream2</code> to one stream which has no duplicate items?</p>\n"},{"tags":["java","spring","spring-boot","saga","axon-framework"],"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690803056,"creation_date":1690701380,"question_id":76796717,"body_markdown":"I&#39;m trying to wrap my head around the Saga pattern of Axon framework.\r\n\r\nGiven this block of code:\r\n\r\n    public class OrderManagementSaga {\r\n    \r\n        private boolean paid = false;\r\n        private boolean delivered = false;\r\n        @Inject\r\n        private transient CommandGateway commandGateway;\r\n    \r\n        @StartSaga\r\n        @SagaEventHandler(associationProperty = &quot;orderId&quot;)\r\n        public void handle(OrderCreatedEvent event) {\r\n            // client generated identifiers\r\n            ShippingId shipmentId = createShipmentId();\r\n            InvoiceId invoiceId = createInvoiceId();\r\n            // associate the Saga with these values, before sending the commands\r\n            associateWith(&quot;shipmentId&quot;, shipmentId);\r\n            associateWith(&quot;invoiceId&quot;, invoiceId);\r\n            // send the commands\r\n            commandGateway.send(new PrepareShippingCommand(...));\r\n            commandGateway.send(new CreateInvoiceCommand(...));\r\n        }\r\n    \r\n        @SagaEventHandler(associationProperty = &quot;shipmentId&quot;)\r\n        public void handle(ShippingArrivedEvent event) {\r\n            delivered = true;\r\n            if (paid) { end(); }\r\n        }\r\n    \r\n        @SagaEventHandler(associationProperty = &quot;invoiceId&quot;)\r\n        public void handle(InvoicePaidEvent event) {\r\n            paid = true;\r\n            if (delivered) { end(); }\r\n        }\r\n    \r\n        // ...\r\n    }\r\n\r\nThe document say about `@SagaEventHandler(associationProperty = &quot;orderId&quot;)`:\r\n\r\n&gt; For example, consider an incoming Event with a method &quot;String\r\n&gt; getOrderId()&quot;, which returns &quot;123&quot;. If a method accepting this Event\r\n&gt; is annotated with @SagaEventHandler(associationProperty=&quot;orderId&quot;),\r\n&gt; this Event is routed to all Sagas that have been associated with an\r\n&gt; AssociationValue with key &quot;orderId&quot; and value &quot;123&quot;.\r\n\r\nSo there will be a lot of Saga instances, and `associationProperty=&quot;orderId&quot;` will be used to match an Event to a Saga. So far so good.\r\n\r\nBut what is the purpose of `SagaLifecycle.associateWith(&quot;paymentId&quot;, paymentId);`? The document does not give an example like the case `@SagaEventHandler(associationProperty = &quot;orderId&quot;)`. I still not understand it, please help","title":"Axon Saga what is the purpose of SagaLifecycle.associateWith","body":"<p>I'm trying to wrap my head around the Saga pattern of Axon framework.</p>\n<p>Given this block of code:</p>\n<pre><code>public class OrderManagementSaga {\n\n    private boolean paid = false;\n    private boolean delivered = false;\n    @Inject\n    private transient CommandGateway commandGateway;\n\n    @StartSaga\n    @SagaEventHandler(associationProperty = &quot;orderId&quot;)\n    public void handle(OrderCreatedEvent event) {\n        // client generated identifiers\n        ShippingId shipmentId = createShipmentId();\n        InvoiceId invoiceId = createInvoiceId();\n        // associate the Saga with these values, before sending the commands\n        associateWith(&quot;shipmentId&quot;, shipmentId);\n        associateWith(&quot;invoiceId&quot;, invoiceId);\n        // send the commands\n        commandGateway.send(new PrepareShippingCommand(...));\n        commandGateway.send(new CreateInvoiceCommand(...));\n    }\n\n    @SagaEventHandler(associationProperty = &quot;shipmentId&quot;)\n    public void handle(ShippingArrivedEvent event) {\n        delivered = true;\n        if (paid) { end(); }\n    }\n\n    @SagaEventHandler(associationProperty = &quot;invoiceId&quot;)\n    public void handle(InvoicePaidEvent event) {\n        paid = true;\n        if (delivered) { end(); }\n    }\n\n    // ...\n}\n</code></pre>\n<p>The document say about <code>@SagaEventHandler(associationProperty = &quot;orderId&quot;)</code>:</p>\n<blockquote>\n<p>For example, consider an incoming Event with a method &quot;String\ngetOrderId()&quot;, which returns &quot;123&quot;. If a method accepting this Event\nis annotated with @SagaEventHandler(associationProperty=&quot;orderId&quot;),\nthis Event is routed to all Sagas that have been associated with an\nAssociationValue with key &quot;orderId&quot; and value &quot;123&quot;.</p>\n</blockquote>\n<p>So there will be a lot of Saga instances, and <code>associationProperty=&quot;orderId&quot;</code> will be used to match an Event to a Saga. So far so good.</p>\n<p>But what is the purpose of <code>SagaLifecycle.associateWith(&quot;paymentId&quot;, paymentId);</code>? The document does not give an example like the case <code>@SagaEventHandler(associationProperty = &quot;orderId&quot;)</code>. I still not understand it, please help</p>\n"},{"tags":["java","android","pdf","bitmap","android-viewpager"],"answers":[{"comments":[{"owner":{"account_id":2755641,"reputation":8698,"user_id":2373819,"display_name":"Andrew"},"score":0,"creation_date":1691659494,"post_id":76794578,"comment_id":135522446,"body_markdown":"I did recently produce an example of Multi page PDF from a recyclerview using strategy 2 at https://github.com/Zardozz/RecyclerviewPdf","body":"I did recently produce an example of Multi page PDF from a recyclerview using strategy 2 at <a href=\"https://github.com/Zardozz/RecyclerviewPdf\" rel=\"nofollow noreferrer\">github.com/Zardozz/RecyclerviewPdf</a>"}],"tags":[],"owner":{"account_id":2755641,"reputation":8698,"user_id":2373819,"display_name":"Andrew"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690649381,"creation_date":1690649381,"answer_id":76794578,"question_id":76794078,"body_markdown":"This really depends on how you generate your layout (which you don&#39;t show in your question) and what your layout shows and how nicely you want the split across multiple pages to be.\r\n\r\nThe are 2 main strategies:-\r\n\r\n1. Just split the bitmap in multiple bitmaps and put each new bitmap on a new pages. This does not produce very good results because it is hard to split the bitmap in a logical location (i.e not half way in a line of text)\r\n\r\n2. Draw the view direct to the PDF canvas using a view **Just**  for the PDF, one that is never displayed on screen (the reason why this view is never displayed on screen because an A4 page is 595 pixels wide and 842 pixels high and won&#39;t match the size of the devices display screen). This has the advantage that the PDF is editable, as text is text not a picture of text, which the PDF scales better on screen and is smaller in size). It also allows you to reformat each page.\r\n\r\nMy App actually uses a hybrid of both strategies because it also wants to produce png&#39;s for facebook for each PDF page, but the main strategy is 2. &quot;draw direct&quot;\r\n\r\nSo a summary of the &quot;draw direct&quot; method.\r\n\r\n 1. You generate your layout as multiple views in a LinearLayout (makes it easier for splitting)\r\n\r\n 2. Create an `ArrayList` of View&#39;s you want to add as rows in your LinearLayout and programmatically create each view and add them to the ArrayList\r\n\r\n 3. Add all views to your LinearLayout and then measure and layout the LinearLayout \r\n\r\n```\r\nfor ( int c = 0; c &lt; viewArrayList.size(); c++){\r\n   linearLayout.addView(classTables.get(c));\r\n}\r\n\r\nlinearLayout.measure(\r\n        // Measure to A4 width\r\n        View.MeasureSpec.makeMeasureSpec(595, View.MeasureSpec.EXACTLY\r\n        ),\r\n        // Measure to as high as the view needs\r\n        View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED));\r\n        )\r\n    )\r\n// Layout the view out to the measure dimensions\r\nlinearLayout.layout(0, 0, view.getMeasuredWidth(), view.getMeasuredHeight())\r\n```\r\nThis will size all the views\r\n\r\n 4. Remove all the views from the linearLayout\r\n\r\n```\r\nlinearLayout.removeAllViews();\r\n``` \r\n 5. Iterate over the arraylist again adding the views back to the linearLayout until the cumulative height is row short of exceeding the max height of an A4 page (842 pixels).\r\n\r\nThen remeasure and layout to position everything again to get everything on screen.\r\n\r\nDraw this layout to the canvas of PDF page (or bitmap)\r\n\r\n 6. Repeat Steps 4 and 5 for each PDF page (removing all view and then adding the next page set of row to the LinearLayout. Then measure/layout this page and draw to canvas.\r\n\r\nDo this until all rows are drawn to multiple PDF pages.\r\n\r\n----------\r\n\r\nThe key is measure all view elements on get their height, so you can plan how many you can add to a Layout to fit on a PDF page.\r\n\r\n\r\nThis is sort of how I display a view on to multiple pages of a PDF (I actually size the view for the width to be Wrap Content and work out a scale to size it to A4 width and calculate what height at that scale makes a single page and add enough elements to fill that, then create a bitmap of this page and add the bitmap to the pdf Page&#39;s canvas by setting the scale on the pdf&#39;s canvas. The reason I do this hybrid approach is that as well as a paginated pdf of the view I also want Png&#39;s of each page to put on Facebook)\r\n\r\nThe key is actually to split your view generation in to multiple views\r\n\r\n ","title":"Print pdf in multiple pages if one page not enough","body":"<p>This really depends on how you generate your layout (which you don't show in your question) and what your layout shows and how nicely you want the split across multiple pages to be.</p>\n<p>The are 2 main strategies:-</p>\n<ol>\n<li><p>Just split the bitmap in multiple bitmaps and put each new bitmap on a new pages. This does not produce very good results because it is hard to split the bitmap in a logical location (i.e not half way in a line of text)</p>\n</li>\n<li><p>Draw the view direct to the PDF canvas using a view <strong>Just</strong>  for the PDF, one that is never displayed on screen (the reason why this view is never displayed on screen because an A4 page is 595 pixels wide and 842 pixels high and won't match the size of the devices display screen). This has the advantage that the PDF is editable, as text is text not a picture of text, which the PDF scales better on screen and is smaller in size). It also allows you to reformat each page.</p>\n</li>\n</ol>\n<p>My App actually uses a hybrid of both strategies because it also wants to produce png's for facebook for each PDF page, but the main strategy is 2. &quot;draw direct&quot;</p>\n<p>So a summary of the &quot;draw direct&quot; method.</p>\n<ol>\n<li><p>You generate your layout as multiple views in a LinearLayout (makes it easier for splitting)</p>\n</li>\n<li><p>Create an <code>ArrayList</code> of View's you want to add as rows in your LinearLayout and programmatically create each view and add them to the ArrayList</p>\n</li>\n<li><p>Add all views to your LinearLayout and then measure and layout the LinearLayout</p>\n</li>\n</ol>\n<pre><code>for ( int c = 0; c &lt; viewArrayList.size(); c++){\n   linearLayout.addView(classTables.get(c));\n}\n\nlinearLayout.measure(\n        // Measure to A4 width\n        View.MeasureSpec.makeMeasureSpec(595, View.MeasureSpec.EXACTLY\n        ),\n        // Measure to as high as the view needs\n        View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED));\n        )\n    )\n// Layout the view out to the measure dimensions\nlinearLayout.layout(0, 0, view.getMeasuredWidth(), view.getMeasuredHeight())\n</code></pre>\n<p>This will size all the views</p>\n<ol start=\"4\">\n<li>Remove all the views from the linearLayout</li>\n</ol>\n<pre><code>linearLayout.removeAllViews();\n</code></pre>\n<ol start=\"5\">\n<li>Iterate over the arraylist again adding the views back to the linearLayout until the cumulative height is row short of exceeding the max height of an A4 page (842 pixels).</li>\n</ol>\n<p>Then remeasure and layout to position everything again to get everything on screen.</p>\n<p>Draw this layout to the canvas of PDF page (or bitmap)</p>\n<ol start=\"6\">\n<li>Repeat Steps 4 and 5 for each PDF page (removing all view and then adding the next page set of row to the LinearLayout. Then measure/layout this page and draw to canvas.</li>\n</ol>\n<p>Do this until all rows are drawn to multiple PDF pages.</p>\n<hr />\n<p>The key is measure all view elements on get their height, so you can plan how many you can add to a Layout to fit on a PDF page.</p>\n<p>This is sort of how I display a view on to multiple pages of a PDF (I actually size the view for the width to be Wrap Content and work out a scale to size it to A4 width and calculate what height at that scale makes a single page and add enough elements to fill that, then create a bitmap of this page and add the bitmap to the pdf Page's canvas by setting the scale on the pdf's canvas. The reason I do this hybrid approach is that as well as a paginated pdf of the view I also want Png's of each page to put on Facebook)</p>\n<p>The key is actually to split your view generation in to multiple views</p>\n"}],"owner":{"account_id":28779976,"reputation":25,"user_id":22041790,"display_name":"HGSu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76794578,"answer_count":1,"score":0,"last_activity_date":1690802930,"creation_date":1690641756,"question_id":76794078,"body_markdown":"I&#39;m trying to create a PDF from layout;\r\nI converted the layout to bitmap and then printed into the pdf page.\r\nThe application converts the output into a long PDF page, but I want to divide the bitmap into several parts then print in multiple PDF pages each one A4 size,\r\nif the first page is not enough, create a second page and print the remaining part on it ..\r\n\r\nHow I can do it?\r\n\r\n    private void generatePdfFromView(View view) {\r\n    \r\n    \tBitmap bitmap = getBitmapFromView(view);\r\n    \tdocument = new PdfDocument();\r\n    \r\n    \tPdfDocument.PageInfo myPageInfo = new PdfDocument.PageInfo.Builder(view.getWidth(),view.getHeight(),1).create();\r\n    \tPdfDocument.Page myPage = document.startPage(myPageInfo);\r\n    \tCanvas canvas = myPage.getCanvas();\r\n    \tcanvas.drawBitmap(bitmap,0,0,null);\r\n    \r\n    \tdocument.finishPage(myPage);\r\n    \r\n    \tPdfDocument.PageInfo myPageInfo1 = new PdfDocument.PageInfo.Builder(view.getWidth(),view.getHeight(),2).create();\r\n    \tPdfDocument.Page myPage1 = document.startPage(myPageInfo1);\r\n    \tCanvas canvas1 = myPage1.getCanvas();\r\n    \tcanvas1.drawBitmap(bitmap,0,0,null);\r\n    \tdocument.finishPage(myPage1);\r\n    \tcreateFile();\r\n    }\r\n        \r\n        \r\n    private Bitmap getBitmapFromView(View view) {\r\n    \r\n    \tBitmap returnedBitmap = Bitmap.createBitmap(view.getWidth(),view.getHeight(),Bitmap.Config.ARGB_8888);\r\n    \tCanvas canvas = new Canvas(returnedBitmap);\r\n    \r\n    \tDrawable bgDrawable = view.getBackground();\r\n    \tif (bgDrawable != null){\r\n    \t\tbgDrawable.draw(canvas);\r\n    \t} else {\r\n    \t\tcanvas.drawColor(Color.WHITE);\r\n    \t}\r\n    \tview.draw(canvas);\r\n    \r\n    \treturn returnedBitmap;\r\n    }","title":"Print pdf in multiple pages if one page not enough","body":"<p>I'm trying to create a PDF from layout;\nI converted the layout to bitmap and then printed into the pdf page.\nThe application converts the output into a long PDF page, but I want to divide the bitmap into several parts then print in multiple PDF pages each one A4 size,\nif the first page is not enough, create a second page and print the remaining part on it ..</p>\n<p>How I can do it?</p>\n<pre><code>private void generatePdfFromView(View view) {\n\n    Bitmap bitmap = getBitmapFromView(view);\n    document = new PdfDocument();\n\n    PdfDocument.PageInfo myPageInfo = new PdfDocument.PageInfo.Builder(view.getWidth(),view.getHeight(),1).create();\n    PdfDocument.Page myPage = document.startPage(myPageInfo);\n    Canvas canvas = myPage.getCanvas();\n    canvas.drawBitmap(bitmap,0,0,null);\n\n    document.finishPage(myPage);\n\n    PdfDocument.PageInfo myPageInfo1 = new PdfDocument.PageInfo.Builder(view.getWidth(),view.getHeight(),2).create();\n    PdfDocument.Page myPage1 = document.startPage(myPageInfo1);\n    Canvas canvas1 = myPage1.getCanvas();\n    canvas1.drawBitmap(bitmap,0,0,null);\n    document.finishPage(myPage1);\n    createFile();\n}\n    \n    \nprivate Bitmap getBitmapFromView(View view) {\n\n    Bitmap returnedBitmap = Bitmap.createBitmap(view.getWidth(),view.getHeight(),Bitmap.Config.ARGB_8888);\n    Canvas canvas = new Canvas(returnedBitmap);\n\n    Drawable bgDrawable = view.getBackground();\n    if (bgDrawable != null){\n        bgDrawable.draw(canvas);\n    } else {\n        canvas.drawColor(Color.WHITE);\n    }\n    view.draw(canvas);\n\n    return returnedBitmap;\n}\n</code></pre>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1690799419,"post_id":76802610,"comment_id":135398397,"body_markdown":"You need to use the second form if you are trying to put something back into the `list` - in the first form, even if it is something you took out of the list (e.g. `list.add(list.get(0));`), the compiler doesn&#39;t recognize it as being of the correct type. The second form allows the compiler to know that the thing is of type `T`; because you can add a `T` to a `List&lt;T&gt;`, the compiler allows this.","body":"You need to use the second form if you are trying to put something back into the <code>list</code> - in the first form, even if it is something you took out of the list (e.g. <code>list.add(list.get(0));</code>), the compiler doesn&#39;t recognize it as being of the correct type. The second form allows the compiler to know that the thing is of type <code>T</code>; because you can add a <code>T</code> to a <code>List&lt;T&gt;</code>, the compiler allows this."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1690799578,"post_id":76802610,"comment_id":135398424,"body_markdown":"If you don&#39;t need to add anything to `list` (more generally, invoke a method which accepts a `T` or a type referencing `T` as a parameter), it&#39;s just unnecessary to have it there.","body":"If you don&#39;t need to add anything to <code>list</code> (more generally, invoke a method which accepts a <code>T</code> or a type referencing <code>T</code> as a parameter), it&#39;s just unnecessary to have it there."}],"answers":[{"tags":[],"owner":{"account_id":28702196,"reputation":22,"user_id":21979163,"display_name":"Gajera Jaykumar"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1690802840,"creation_date":1690798656,"answer_id":76802644,"question_id":76802610,"body_markdown":"In generic code, the question mark (?), called the wildcard, represents an unknown type. The wildcard can be used in a variety of situations: as the type of a parameter, field, or local variable; sometimes as a return type (though it is better programming practice to be more specific). \r\n\r\nThe wildcard is never used as a type argument for a generic method invocation, a generic class instance creation, or a super type.","title":"Why use wildcards in Java generics and not generic methods?","body":"<p>In generic code, the question mark (?), called the wildcard, represents an unknown type. The wildcard can be used in a variety of situations: as the type of a parameter, field, or local variable; sometimes as a return type (though it is better programming practice to be more specific).</p>\n<p>The wildcard is never used as a type argument for a generic method invocation, a generic class instance creation, or a super type.</p>\n"}],"owner":{"account_id":16841069,"reputation":2161,"user_id":12176460,"display_name":"YoavKlein"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1690798842,"answer_count":1,"score":0,"last_activity_date":1690802840,"creation_date":1690798391,"question_id":76802610,"body_markdown":"I&#39;m currently learning Java generics, and while going through the Oracle&#39;s tutorial in [Wildcard capture and helper methods](https://docs.oracle.com/javase/tutorial/java/generics/capture.html) it suddenly hit me: what is the benefit of:\r\n```\r\nvoid someMethod(List&lt;?&gt; list) { // .. }\r\n```\r\n\r\nover:\r\n```\r\n&lt;T&gt; void someMethod(List&lt;T&gt; list) { // .. }\r\n```\r\n\r\n?\r\n\r\nThe reason I ask is that the link provided above presents a certain compilation error that occurs while using the first form (using wildcards), which is solved by using a helper method of the second form. So the question arises - why use the first form in the first place?","title":"Why use wildcards in Java generics and not generic methods?","body":"<p>I'm currently learning Java generics, and while going through the Oracle's tutorial in <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/capture.html\" rel=\"nofollow noreferrer\">Wildcard capture and helper methods</a> it suddenly hit me: what is the benefit of:</p>\n<pre><code>void someMethod(List&lt;?&gt; list) { // .. }\n</code></pre>\n<p>over:</p>\n<pre><code>&lt;T&gt; void someMethod(List&lt;T&gt; list) { // .. }\n</code></pre>\n<p>?</p>\n<p>The reason I ask is that the link provided above presents a certain compilation error that occurs while using the first form (using wildcards), which is solved by using a helper method of the second form. So the question arises - why use the first form in the first place?</p>\n"},{"tags":["java","random","apache-commons"],"answers":[{"comments":[{"owner":{"account_id":32273,"reputation":1652,"user_id":89369,"display_name":"Chris Kentfield"},"score":1,"creation_date":1373730710,"post_id":11229232,"comment_id":25671386,"body_markdown":"For anyone who wants to generate strings that are difficult to predict, pass in a [java.security.SecureRandom](http://docs.oracle.com/javase/6/docs/api/java/security/SecureRandom.html).","body":"For anyone who wants to generate strings that are difficult to predict, pass in a <a href=\"http://docs.oracle.com/javase/6/docs/api/java/security/SecureRandom.html\" rel=\"nofollow noreferrer\">java.security.SecureRandom</a>."},{"owner":{"account_id":81519,"reputation":34798,"user_id":229792,"accept_rate":63,"display_name":"jameshfisher"},"score":0,"creation_date":1430314806,"post_id":11229232,"comment_id":48011741,"body_markdown":"What is the &quot;default&quot; randomness source? Is this source shared with other &quot;Random&quot; utilities? Does the `Random` instance I explicitly pass get used by further calls to `RandomStringUtils.*`? The documentation for this module is terrible :-(","body":"What is the &quot;default&quot; randomness source? Is this source shared with other &quot;Random&quot; utilities? Does the <code>Random</code> instance I explicitly pass get used by further calls to <code>RandomStringUtils.*</code>? The documentation for this module is terrible :-("},{"owner":{"account_id":352680,"reputation":3179,"user_id":689893,"accept_rate":88,"display_name":"Joost"},"score":0,"creation_date":1430321255,"post_id":11229232,"comment_id":48017245,"body_markdown":"A static `new Random();` is used if you don&#39;t pass a random yourself. All other methods seem to end up using the method in the answer eventually, using the static random. If you pass your own random, this is not stored and thus not used in further calls. There is one more &#39;random&#39;-utility in this package (RandomUtils), they do not share code.","body":"A static <code>new Random();</code> is used if you don&#39;t pass a random yourself. All other methods seem to end up using the method in the answer eventually, using the static random. If you pass your own random, this is not stored and thus not used in further calls. There is one more &#39;random&#39;-utility in this package (RandomUtils), they do not share code."}],"tags":[],"owner":{"account_id":352680,"reputation":3179,"user_id":689893,"accept_rate":88,"display_name":"Joost"},"comment_count":3,"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1690802783,"creation_date":1340809294,"answer_id":11229232,"question_id":11228951,"body_markdown":"There is no seed provided in the implementation [I found][1], there is just a `new Random()`. But there is a [method][2] where you can supply your own source of randomness\r\n\r\n    random(int count, int start, int end, \r\n            boolean letters, boolean numbers, \r\n            char[] chars, java.util.Random random)\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/src-html/org/apache/commons/lang3/RandomStringUtils.html#line.282\r\n  [2]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/RandomStringUtils.html#random-int-int-int-boolean-boolean-char:A-java.util.Random-","title":"Java: RandomStringUtils Random seed","body":"<p>There is no seed provided in the implementation <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/src-html/org/apache/commons/lang3/RandomStringUtils.html#line.282\" rel=\"nofollow noreferrer\">I found</a>, there is just a <code>new Random()</code>. But there is a <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/RandomStringUtils.html#random-int-int-int-boolean-boolean-char:A-java.util.Random-\" rel=\"nofollow noreferrer\">method</a> where you can supply your own source of randomness</p>\n<pre><code>random(int count, int start, int end, \n        boolean letters, boolean numbers, \n        char[] chars, java.util.Random random)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":21147,"reputation":130361,"user_id":51197,"accept_rate":80,"display_name":"Adam Matan"},"score":0,"creation_date":1340810557,"post_id":11229264,"comment_id":14750779,"body_markdown":"Agreed. There are legacy constraints I have to deal with.","body":"Agreed. There are legacy constraints I have to deal with."},{"owner":{"account_id":1412605,"reputation":882,"user_id":1338915,"display_name":"Chad"},"score":0,"creation_date":1340811942,"post_id":11229264,"comment_id":14751601,"body_markdown":"There is nothing here that is stopping from giving the same id twice.","body":"There is nothing here that is stopping from giving the same id twice."}],"tags":[],"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"comment_count":2,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1340809382,"creation_date":1340809382,"answer_id":11229264,"question_id":11228951,"body_markdown":"You shouldn&#39;t use a random generator to generate unique keys. Nothing guarantees uniqueness. Why don&#39;t you use a UUID generator instead, or a database sequence? \r\n\r\nAnd why do you want your keys to be properly distributed? The only important thing for a primary key is its uniqueness. And the seed doesn&#39;t have any impact on the distribution, AFAIK.","title":"Java: RandomStringUtils Random seed","body":"<p>You shouldn't use a random generator to generate unique keys. Nothing guarantees uniqueness. Why don't you use a UUID generator instead, or a database sequence? </p>\n\n<p>And why do you want your keys to be properly distributed? The only important thing for a primary key is its uniqueness. And the seed doesn't have any impact on the distribution, AFAIK.</p>\n"}],"owner":{"account_id":21147,"reputation":130361,"user_id":51197,"accept_rate":80,"display_name":"Adam Matan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9798,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":11229232,"answer_count":2,"score":3,"last_activity_date":1690802783,"creation_date":1340808533,"question_id":11228951,"body_markdown":"I&#39;ve been using `RandomStringUtils` to generate random IDs to be used as database keys:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    import org.apache.commons.lang.RandomStringUtils;\r\n    public class RandomStringTest {\r\n    \tpublic static void main(final String[] args) {\r\n    \t\tfor (int i = 0; i &lt;= 10; i++) {\r\n    \t\t\tfinal String id = RandomStringUtils.random(8,\r\n    \t\t\t\t\t&quot;0123456789abcdefghijklmnopqrstuvwxyz&quot;);\r\n    \t\t\tSystem.out.println(id);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThe key space is large enough,\r\n\r\n    len(&quot;0123456789abcdefghijklmnopqrstuvwxyz&quot;)^8 = 2821109907456 ≃ 10^12\r\n\r\n**Is the random mechanism properly seeded?** I need to know that the keys are properly distributed before applying this to production.\r\n\r\nBy the way, the test code showed no repetitions when executed a few times, but that&#39;s far from solid proof.","title":"Java: RandomStringUtils Random seed","body":"<p>I've been using <code>RandomStringUtils</code> to generate random IDs to be used as database keys:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.commons.lang.RandomStringUtils;\npublic class RandomStringTest {\n    public static void main(final String[] args) {\n        for (int i = 0; i &lt;= 10; i++) {\n            final String id = RandomStringUtils.random(8,\n                    \"0123456789abcdefghijklmnopqrstuvwxyz\");\n            System.out.println(id);\n        }\n    }\n}\n</code></pre>\n\n<p>The key space is large enough,</p>\n\n<pre><code>len(\"0123456789abcdefghijklmnopqrstuvwxyz\")^8 = 2821109907456 ≃ 10^12\n</code></pre>\n\n<p><strong>Is the random mechanism properly seeded?</strong> I need to know that the keys are properly distributed before applying this to production.</p>\n\n<p>By the way, the test code showed no repetitions when executed a few times, but that's far from solid proof.</p>\n"},{"tags":["java","jhipster","modernizer-maven-plugin"],"comments":[{"owner":{"account_id":8148968,"reputation":1793,"user_id":6136697,"display_name":"M. Rizzo"},"score":0,"creation_date":1689780570,"post_id":76722792,"comment_id":135262790,"body_markdown":"Could you try upgrading your Modernizer plugin to 2.6.0.  They removed the usage of Plexus StringUtils to be compatible with newer versions of Maven.  this may be the cause of your problem.","body":"Could you try upgrading your Modernizer plugin to 2.6.0.  They removed the usage of Plexus StringUtils to be compatible with newer versions of Maven.  this may be the cause of your problem."},{"owner":{"account_id":20017325,"reputation":319,"user_id":14673018,"display_name":"Sanal M"},"score":0,"creation_date":1690699801,"post_id":76722792,"comment_id":135388042,"body_markdown":"It worked. Thanks. If you can post this comment as an answer we can mark it.","body":"It worked. Thanks. If you can post this comment as an answer we can mark it."},{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":0,"creation_date":1690842423,"post_id":76722792,"comment_id":135406671,"body_markdown":"It&#39;s safer to use the maven wrapper (`mvnw`) configured by JHipster rather than your globally installed maven (`mvn`). This way you ensure that you are using a compatible version that has passed JHipster team CI tests.","body":"It&#39;s safer to use the maven wrapper (<code>mvnw</code>) configured by JHipster rather than your globally installed maven (<code>mvn</code>). This way you ensure that you are using a compatible version that has passed JHipster team CI tests."}],"answers":[{"tags":[],"owner":{"account_id":8148968,"reputation":1793,"user_id":6136697,"display_name":"M. Rizzo"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690802600,"creation_date":1690802600,"answer_id":76803145,"question_id":76722792,"body_markdown":"I believe if upgrade your Modernizer plugin to 2.6.0, it should address your issue.  They removed the usage of Plexus StringUtils to be compatible with newer versions of Maven. this may be the cause of your problem.","title":"Maven build failed because of modernizer plugin","body":"<p>I believe if upgrade your Modernizer plugin to 2.6.0, it should address your issue.  They removed the usage of Plexus StringUtils to be compatible with newer versions of Maven. this may be the cause of your problem.</p>\n"}],"owner":{"account_id":20017325,"reputation":319,"user_id":14673018,"display_name":"Sanal M"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":585,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76803145,"answer_count":1,"score":1,"last_activity_date":1690802600,"creation_date":1689779654,"question_id":76722792,"body_markdown":"I have created a jhipster project. after making some changes in the java code i am not able to run &quot;mvn clean install&quot; command. I had created a Mapstruct mapper class for an API. That is the only change i have done. the log is given below.\r\n\r\n```\r\n[[1;34mINFO[m] [1;31mBUILD FAILURE[m\r\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\r\n[[1;34mINFO[m] Total time:  02:20 min\r\n[[1;34mINFO[m] Finished at: 2023-07-19T20:28:55+05:30\r\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\r\n[[1;31mERROR[m] Failed to execute goal [32morg.gaul:modernizer-maven-plugin:2.4.0:modernizer[m [1m(modernizer)[m on project [36mbuyyinn[m: [1;31mExecution modernizer of goal org.gaul:modernizer-maven-plugin:2.4.0:modernizer failed: A required class was missing while executing org.gaul:modernizer-maven-plugin:2.4.0:modernizer: org/codehaus/plexus/util/StringUtils[m\r\n[[1;31mERROR[m] [1;31m-----------------------------------------------------[m\r\n[[1;31mERROR[m] [1;31mrealm =    plugin&gt;org.gaul:modernizer-maven-plugin:2.4.0[m\r\n[[1;31mERROR[m] [1;31mstrategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy[m\r\n[[1;31mERROR[m] [1;31murls[0] = file:/C:/Users/sanal/.m2/repository/org/gaul/modernizer-maven-plugin/2.4.0/modernizer-maven-plugin-2.4.0.jar[m\r\n[[1;31mERROR[m] [1;31murls[1] = file:/C:/Users/sanal/.m2/repository/backport-util-concurrent/backport-util-concurrent/3.1/backport-util-concurrent-3.1.jar[m\r\n[[1;31mERROR[m] [1;31murls[2] = file:/C:/Users/sanal/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.11/plexus-interpolation-1.11.jar[m\r\n[[1;31mERROR[m] [1;31murls[3] = file:/C:/Users/sanal/.m2/repository/junit/junit/3.8.1/junit-3.8.1.jar[m\r\n[[1;31mERROR[m] [1;31murls[4] = file:/C:/Users/sanal/.m2/repository/org/ow2/asm/asm/9.2/asm-9.2.jar[m\r\n[[1;31mERROR[m] [1;31murls[5] = file:/C:/Users/sanal/.m2/repository/org/ow2/asm/asm-commons/9.2/asm-commons-9.2.jar[m\r\n[[1;31mERROR[m] [1;31murls[6] = file:/C:/Users/sanal/.m2/repository/org/ow2/asm/asm-tree/9.2/asm-tree-9.2.jar[m\r\n[[1;31mERROR[m] [1;31murls[7] = file:/C:/Users/sanal/.m2/repository/org/ow2/asm/asm-analysis/9.2/asm-analysis-9.2.jar[m\r\n[[1;31mERROR[m] [1;31murls[8] = file:/C:/Users/sanal/.m2/repository/org/gaul/modernizer-maven-annotations/2.4.0/modernizer-maven-annotations-2.4.0.jar[m\r\n[[1;31mERROR[m] [1;31mNumber of foreign imports: 1[m\r\n[[1;31mERROR[m] [1;31mimport: Entry[import  from realm ClassRealm[maven.api, parent: null]][m\r\n[[1;31mERROR[m] [1;31m[m\r\n[[1;31mERROR[m] [1;31m-----------------------------------------------------[m\r\n[[1;31mERROR[m] [1;31m[m: org.codehaus.plexus.util.StringUtils\r\n[[1;31mERROR[m] -&gt; [1m[Help 1]\r\n```\r\n\r\nThe Jhipster version i am using is 7.9.3\r\n\r\nI am not abell to understand this issue. Can anyone help?","title":"Maven build failed because of modernizer plugin","body":"<p>I have created a jhipster project. after making some changes in the java code i am not able to run &quot;mvn clean install&quot; command. I had created a Mapstruct mapper class for an API. That is the only change i have done. the log is given below.</p>\n<pre><code>[[1;34mINFO[m] [1;31mBUILD FAILURE[m\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\n[[1;34mINFO[m] Total time:  02:20 min\n[[1;34mINFO[m] Finished at: 2023-07-19T20:28:55+05:30\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\n[[1;31mERROR[m] Failed to execute goal [32morg.gaul:modernizer-maven-plugin:2.4.0:modernizer[m [1m(modernizer)[m on project [36mbuyyinn[m: [1;31mExecution modernizer of goal org.gaul:modernizer-maven-plugin:2.4.0:modernizer failed: A required class was missing while executing org.gaul:modernizer-maven-plugin:2.4.0:modernizer: org/codehaus/plexus/util/StringUtils[m\n[[1;31mERROR[m] [1;31m-----------------------------------------------------[m\n[[1;31mERROR[m] [1;31mrealm =    plugin&gt;org.gaul:modernizer-maven-plugin:2.4.0[m\n[[1;31mERROR[m] [1;31mstrategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy[m\n[[1;31mERROR[m] [1;31murls[0] = file:/C:/Users/sanal/.m2/repository/org/gaul/modernizer-maven-plugin/2.4.0/modernizer-maven-plugin-2.4.0.jar[m\n[[1;31mERROR[m] [1;31murls[1] = file:/C:/Users/sanal/.m2/repository/backport-util-concurrent/backport-util-concurrent/3.1/backport-util-concurrent-3.1.jar[m\n[[1;31mERROR[m] [1;31murls[2] = file:/C:/Users/sanal/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.11/plexus-interpolation-1.11.jar[m\n[[1;31mERROR[m] [1;31murls[3] = file:/C:/Users/sanal/.m2/repository/junit/junit/3.8.1/junit-3.8.1.jar[m\n[[1;31mERROR[m] [1;31murls[4] = file:/C:/Users/sanal/.m2/repository/org/ow2/asm/asm/9.2/asm-9.2.jar[m\n[[1;31mERROR[m] [1;31murls[5] = file:/C:/Users/sanal/.m2/repository/org/ow2/asm/asm-commons/9.2/asm-commons-9.2.jar[m\n[[1;31mERROR[m] [1;31murls[6] = file:/C:/Users/sanal/.m2/repository/org/ow2/asm/asm-tree/9.2/asm-tree-9.2.jar[m\n[[1;31mERROR[m] [1;31murls[7] = file:/C:/Users/sanal/.m2/repository/org/ow2/asm/asm-analysis/9.2/asm-analysis-9.2.jar[m\n[[1;31mERROR[m] [1;31murls[8] = file:/C:/Users/sanal/.m2/repository/org/gaul/modernizer-maven-annotations/2.4.0/modernizer-maven-annotations-2.4.0.jar[m\n[[1;31mERROR[m] [1;31mNumber of foreign imports: 1[m\n[[1;31mERROR[m] [1;31mimport: Entry[import  from realm ClassRealm[maven.api, parent: null]][m\n[[1;31mERROR[m] [1;31m[m\n[[1;31mERROR[m] [1;31m-----------------------------------------------------[m\n[[1;31mERROR[m] [1;31m[m: org.codehaus.plexus.util.StringUtils\n[[1;31mERROR[m] -&gt; [1m[Help 1]\n</code></pre>\n<p>The Jhipster version i am using is 7.9.3</p>\n<p>I am not abell to understand this issue. Can anyone help?</p>\n"},{"tags":["java","netbeans","javadoc"],"answers":[{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1526930748,"creation_date":1526930748,"answer_id":50455427,"question_id":50436273,"body_markdown":"- Select your project in the **Projects** tab, right click and select **Properties** from the menu.\r\n- Select **Build &gt; Documenting** from the list of **Categories**.\r\n- Enter the title in the **Browser Window Title** field and click **OK**. (Note that you can further customize the Javadoc output in the **Additional Javadoc Options** field.)\r\n\r\n[![windowTitle1][1]][1]\r\n\r\n- Select your project in the **Projects** tab, right click and select **Generate Javadoc** from the menu.\r\n- The title you provided will appear on the browser tab. It will be prefixed by the name of the project but I don&#39;t know how to prevent that.\r\n \r\n[![windowTitle2][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vkREe.png\r\n  [2]: https://i.stack.imgur.com/QMDue.png","title":"How do I set the -windowtitle parameter when generating javadoc in NetBeans?","body":"<ul>\n<li>Select your project in the <strong>Projects</strong> tab, right click and select <strong>Properties</strong> from the menu.</li>\n<li>Select <strong>Build > Documenting</strong> from the list of <strong>Categories</strong>.</li>\n<li>Enter the title in the <strong>Browser Window Title</strong> field and click <strong>OK</strong>. (Note that you can further customize the Javadoc output in the <strong>Additional Javadoc Options</strong> field.)</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/vkREe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vkREe.png\" alt=\"windowTitle1\"></a></p>\n\n<ul>\n<li>Select your project in the <strong>Projects</strong> tab, right click and select <strong>Generate Javadoc</strong> from the menu.</li>\n<li>The title you provided will appear on the browser tab. It will be prefixed by the name of the project but I don't know how to prevent that.</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/QMDue.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QMDue.png\" alt=\"windowTitle2\"></a></p>\n"},{"tags":[],"owner":{"account_id":2989348,"reputation":85,"user_id":12927325,"display_name":"3rdRockSoftware"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690802540,"creation_date":1690802540,"answer_id":76803136,"question_id":50436273,"body_markdown":"This worked perfectly for me although, just to note, I didn&#39;t get the prefix, just the name that I typed in the Browser Window Title box. I&#39;m using NB 8.2 in windows 10 and Chrome browser.\r\n\r\nThese are the settings:\r\n\r\n[![netbeans browser window title settings][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G6OvC.png","title":"How do I set the -windowtitle parameter when generating javadoc in NetBeans?","body":"<p>This worked perfectly for me although, just to note, I didn't get the prefix, just the name that I typed in the Browser Window Title box. I'm using NB 8.2 in windows 10 and Chrome browser.</p>\n<p>These are the settings:</p>\n<p><a href=\"https://i.stack.imgur.com/G6OvC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G6OvC.png\" alt=\"netbeans browser window title settings\" /></a></p>\n"}],"owner":{"account_id":11797572,"reputation":19,"user_id":8631986,"display_name":"BBloggsbott"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1951,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1690802540,"creation_date":1526829248,"question_id":50436273,"body_markdown":"I want to add the -windowtitle parameter when generating the javadoc.","title":"How do I set the -windowtitle parameter when generating javadoc in NetBeans?","body":"<p>I want to add the -windowtitle parameter when generating the javadoc.</p>\n"},{"tags":["java","json","serialization","fasterxml"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1690802529,"post_id":76803111,"comment_id":135398996,"body_markdown":"So it looks like your `answers` field doesn&#39;t contain &quot;mutliple values&quot;, it contains an actual JSON string. Jackson is already handling it correctly: JSON strings should be escaped. Now, if you want to include your &quot;answers&quot; in the JSON object instead of as a JSON-string inside another JSON object, you should change your `Survey` class to contain `Answer` objects, instead of a String.","body":"So it looks like your <code>answers</code> field doesn&#39;t contain &quot;mutliple values&quot;, it contains an actual JSON string. Jackson is already handling it correctly: JSON strings should be escaped. Now, if you want to include your &quot;answers&quot; in the JSON object instead of as a JSON-string inside another JSON object, you should change your <code>Survey</code> class to contain <code>Answer</code> objects, instead of a String."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1690803119,"post_id":76803111,"comment_id":135399114,"body_markdown":"Or, if you insist on using `JsonRawValue`, just make sure that you subsitute &quot;{}&quot; for the empty string. But then you&#39;re just working around Jackson, which is probably not what you want.","body":"Or, if you insist on using <code>JsonRawValue</code>, just make sure that you subsitute &quot;{}&quot; for the empty string. But then you&#39;re just working around Jackson, which is probably not what you want."},{"owner":{"account_id":1314155,"reputation":545,"user_id":1261464,"accept_rate":67,"display_name":"rekotc"},"score":0,"creation_date":1690805909,"post_id":76803111,"comment_id":135399680,"body_markdown":"you are right, I should create an Answer object. But the problem is that the content of &quot;answers&quot; can change, I cannot define its fields in advance.","body":"you are right, I should create an Answer object. But the problem is that the content of &quot;answers&quot; can change, I cannot define its fields in advance."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1690805973,"post_id":76803111,"comment_id":135399700,"body_markdown":"Assuming there are a finite number of possible answer types, Jackson has ways to handle that. You should look into `@JsonTypeInfo` and `@JsonSubTypes`.","body":"Assuming there are a finite number of possible answer types, Jackson has ways to handle that. You should look into <code>@JsonTypeInfo</code> and <code>@JsonSubTypes</code>."},{"owner":{"account_id":1314155,"reputation":545,"user_id":1261464,"accept_rate":67,"display_name":"rekotc"},"score":0,"creation_date":1690805998,"post_id":76803111,"comment_id":135399705,"body_markdown":"Thanks, I&#39;ll look into it and hopefully post my solution.","body":"Thanks, I&#39;ll look into it and hopefully post my solution."}],"owner":{"account_id":1314155,"reputation":545,"user_id":1261464,"accept_rate":67,"display_name":"rekotc"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690802342,"creation_date":1690802342,"question_id":76803111,"body_markdown":"I&#39;m using fasterxml&#39;s ObjectMapper to serialize a java object and I&#39;m having a problem with one of the fields.\r\n\r\nSurvey.java\r\n\r\n    public class Survey {\r\n\r\n      private String id;\r\n      private String answers;\r\n\r\n      //getter and setter\r\n    }\r\n\r\nThis is the serialization code:\r\n\r\n\tObjectMapper om = new ObjectMapper();\t\t\t\t\t\r\n\tObjectWriter ow = om.writer().withDefaultPrettyPrinter();\t\t\t\r\n\tString json = ow.writeValueAsString(taskScheme.getSurvey());\r\n\r\nthe problem is that &quot;answers&quot; contains multiple values, and the serialization process escapes all the double quotes, like so:\r\n\r\n    &quot;answers&quot; : {&quot;question3&quot;:[&quot;Item4&quot;]} -&gt; &quot;answers&quot; : &quot;{\\&quot;question3\\&quot;:[\\&quot;Item4\\&quot;]}&quot;\r\n\r\nIn order to avoid this situation, I added the annotation @JsonRawValue to the &quot;answers&quot; field. It solved my problem but created a new one, because now whenever &quot;answers&quot; contains an empty string, the resulting serialization becomes:\r\n\r\n    &quot;answers&quot; : &quot;&quot; -&gt; &quot;answers&quot; :\r\n\r\nwhich is not even a valid JSON output...\r\n\r\nHow do I fix this problem?\r\n\r\nThanks in advance. \r\n\r\n","title":"How to configure fasterxml&#39;s objectMapper to handle empty string &quot;&quot; correctly","body":"<p>I'm using fasterxml's ObjectMapper to serialize a java object and I'm having a problem with one of the fields.</p>\n<p>Survey.java</p>\n<pre><code>public class Survey {\n\n  private String id;\n  private String answers;\n\n  //getter and setter\n}\n</code></pre>\n<p>This is the serialization code:</p>\n<pre><code>ObjectMapper om = new ObjectMapper();                   \nObjectWriter ow = om.writer().withDefaultPrettyPrinter();           \nString json = ow.writeValueAsString(taskScheme.getSurvey());\n</code></pre>\n<p>the problem is that &quot;answers&quot; contains multiple values, and the serialization process escapes all the double quotes, like so:</p>\n<pre><code>&quot;answers&quot; : {&quot;question3&quot;:[&quot;Item4&quot;]} -&gt; &quot;answers&quot; : &quot;{\\&quot;question3\\&quot;:[\\&quot;Item4\\&quot;]}&quot;\n</code></pre>\n<p>In order to avoid this situation, I added the annotation @JsonRawValue to the &quot;answers&quot; field. It solved my problem but created a new one, because now whenever &quot;answers&quot; contains an empty string, the resulting serialization becomes:</p>\n<pre><code>&quot;answers&quot; : &quot;&quot; -&gt; &quot;answers&quot; :\n</code></pre>\n<p>which is not even a valid JSON output...</p>\n<p>How do I fix this problem?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","servlets","cookies"],"answers":[{"comments":[{"owner":{"account_id":28095,"reputation":169,"user_id":74682,"accept_rate":100,"display_name":"Duveit"},"score":1,"creation_date":1351095055,"post_id":13052640,"comment_id":17725682,"body_markdown":"Ah duh, overlooked that method apparantly, thanks for pointing it out! And cookie.setMaxAge will use maxAge and not expires in the response header, which doesn&#39;t work with IE. Basically I&#39;ve found the Cookie class useless.","body":"Ah duh, overlooked that method apparantly, thanks for pointing it out! And cookie.setMaxAge will use maxAge and not expires in the response header, which doesn&#39;t work with IE. Basically I&#39;ve found the Cookie class useless."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1351095398,"post_id":13052640,"comment_id":17725890,"body_markdown":"You&#39;re welcome. The latter statement is only true if you use special characters in cookies for some reason. It by default definitely sets the expires attribute.","body":"You&#39;re welcome. The latter statement is only true if you use special characters in cookies for some reason. It by default definitely sets the expires attribute."},{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":0,"creation_date":1351096432,"post_id":13052640,"comment_id":17726391,"body_markdown":"To support the previous comment, please carefully read http://stackoverflow.com/questions/572482/why-do-cookie-values-with-whitespace-arrive-at-the-client-side-with-quotes/7233959#7233959 to understand the IE-related problem better. Summarized: don&#39;t use URL-special characters in cookie name/value, else you&#39;ve got to escape/encode them somehow. If you hacked it around by setting the very same values by explicitly setting the header yourself, it would still be severily broken.","body":"To support the previous comment, please carefully read <a href=\"http://stackoverflow.com/questions/572482/why-do-cookie-values-with-whitespace-arrive-at-the-client-side-with-quotes/7233959#7233959\" title=\"why do cookie values with whitespace arrive at the client side with quotes\">stackoverflow.com/questions/572482/&hellip;</a> to understand the IE-related problem better. Summarized: don&#39;t use URL-special characters in cookie name/value, else you&#39;ve got to escape/encode them somehow. If you hacked it around by setting the very same values by explicitly setting the header yourself, it would still be severily broken."},{"owner":{"account_id":28095,"reputation":169,"user_id":74682,"accept_rate":100,"display_name":"Duveit"},"score":0,"creation_date":1351099403,"post_id":13052640,"comment_id":17727818,"body_markdown":"It&#39;s being urlencoded, but might not have been when I tested out Cookie.setMaxAge(). I reckon I&#39;ll stick with setting headers as I know it works and I like having explicit control, but thanks for link.","body":"It&#39;s being urlencoded, but might not have been when I tested out Cookie.setMaxAge(). I reckon I&#39;ll stick with setting headers as I know it works and I like having explicit control, but thanks for link."}],"tags":[],"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"comment_count":4,"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1690802285,"creation_date":1351093204,"answer_id":13052640,"question_id":13052565,"body_markdown":"You need [`addHeader()`][1] instead of [`setHeader()`][2]. The former *adds* a header while the latter *sets* (and thus overrides any old one) a header.\r\n```java\r\nresponse.addHeader(&quot;Set-Cookie&quot;, cookieString1);\r\nresponse.addHeader(&quot;Set-Cookie&quot;, cookieString2);\r\n```\r\n\r\nThe proper way, however, is to use [`setMaxAge()`][3] method of the `Cookie` class (which takes the expire time in seconds) and use [`addCookie()`][4] the usual way.\r\n```java\r\npublic static final int TWO_WEEKS_IN_SECONDS = (int) TimeUnit.DAYS.toSeconds(14);\r\n\r\n// ...\r\n\r\nCookie cookie1 = new Cookie(&quot;1&quot;,&quot;1&quot;);\r\ncookie1.setMaxAge(TWO_WEEKS_IN_SECONDS);\r\nresponse.addCookie(cookie1);\r\n\r\nCookie cookie2 = new Cookie(&quot;2&quot;,&quot;2&quot;);\r\ncookie2.setMaxAge(TWO_WEEKS_IN_SECONDS);\r\nresponse.addCookie(cookie2);\r\n```\r\n\r\n  [1]: https://jakarta.ee/specifications/servlet/6.0/apidocs/jakarta.servlet/jakarta/servlet/http/httpservletresponse#addHeader(java.lang.String,java.lang.String)\r\n  [2]: https://jakarta.ee/specifications/servlet/6.0/apidocs/jakarta.servlet/jakarta/servlet/http/httpservletresponse#setHeader(java.lang.String,java.lang.String)\r\n  [3]: https://jakarta.ee/specifications/servlet/6.0/apidocs/jakarta.servlet/jakarta/servlet/http/cookie#setMaxAge(int)\r\n  [4]: https://jakarta.ee/specifications/servlet/6.0/apidocs/jakarta.servlet/jakarta/servlet/http/httpservletresponse#addCookie(jakarta.servlet.http.Cookie)\r\n","title":"Setting several cookies in same response","body":"<p>You need <a href=\"https://jakarta.ee/specifications/servlet/6.0/apidocs/jakarta.servlet/jakarta/servlet/http/httpservletresponse#addHeader(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\"><code>addHeader()</code></a> instead of <a href=\"https://jakarta.ee/specifications/servlet/6.0/apidocs/jakarta.servlet/jakarta/servlet/http/httpservletresponse#setHeader(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\"><code>setHeader()</code></a>. The former <em>adds</em> a header while the latter <em>sets</em> (and thus overrides any old one) a header.</p>\n<pre class=\"lang-java prettyprint-override\"><code>response.addHeader(&quot;Set-Cookie&quot;, cookieString1);\nresponse.addHeader(&quot;Set-Cookie&quot;, cookieString2);\n</code></pre>\n<p>The proper way, however, is to use <a href=\"https://jakarta.ee/specifications/servlet/6.0/apidocs/jakarta.servlet/jakarta/servlet/http/cookie#setMaxAge(int)\" rel=\"nofollow noreferrer\"><code>setMaxAge()</code></a> method of the <code>Cookie</code> class (which takes the expire time in seconds) and use <a href=\"https://jakarta.ee/specifications/servlet/6.0/apidocs/jakarta.servlet/jakarta/servlet/http/httpservletresponse#addCookie(jakarta.servlet.http.Cookie)\" rel=\"nofollow noreferrer\"><code>addCookie()</code></a> the usual way.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final int TWO_WEEKS_IN_SECONDS = (int) TimeUnit.DAYS.toSeconds(14);\n\n// ...\n\nCookie cookie1 = new Cookie(&quot;1&quot;,&quot;1&quot;);\ncookie1.setMaxAge(TWO_WEEKS_IN_SECONDS);\nresponse.addCookie(cookie1);\n\nCookie cookie2 = new Cookie(&quot;2&quot;,&quot;2&quot;);\ncookie2.setMaxAge(TWO_WEEKS_IN_SECONDS);\nresponse.addCookie(cookie2);\n</code></pre>\n"}],"owner":{"account_id":28095,"reputation":169,"user_id":74682,"accept_rate":100,"display_name":"Duveit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24071,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":13052640,"answer_count":1,"score":9,"last_activity_date":1690802285,"creation_date":1351092932,"question_id":13052565,"body_markdown":"I need to create several **persistent** cookies in one response.\r\n\r\nDoing it like \r\n\r\n    response.addCookie(new Cookie(&quot;1&quot;,&quot;1&quot;));\r\n    response.addCookie(new Cookie(&quot;2&quot;,&quot;2&quot;));\r\n\r\nwould create a response with 2 &quot;Set-Cookie&quot; headers. But they wouldn&#39;t be persistent. \r\nI need &quot;expires&quot; date for that. \r\n\r\n    expires=Wed, 07-Nov-2012 14:52:08 GMT\r\n\r\nSeeing how javax.servlet.http.Cookie doesn&#39;t support &quot;expires&quot;, I&#39;ve previously used\r\n\r\n    String cookieString=&quot;cookieName=content;Path=/;expires=Wed, 07-Nov-2012 14:52:08 GMT;&quot;\r\n    response.setHeader(&quot;Set-Cookie&quot;, cookieString);\r\n\r\nWhich works like a charm, but using response.setHeader(&quot;Set-Cookie&quot;,newCookie) a second time, would overwrite the first one.\r\n\r\nSo, the question is if there any way to add several identical named headers to the response? \r\nOr if there is any other correct way of doing this? \r\n\r\nI&#39;ve seen suggestions using comma separated cookies, but my experience is that only the first cookie gets read by the browser.","title":"Setting several cookies in same response","body":"<p>I need to create several <strong>persistent</strong> cookies in one response.</p>\n\n<p>Doing it like </p>\n\n<pre><code>response.addCookie(new Cookie(\"1\",\"1\"));\nresponse.addCookie(new Cookie(\"2\",\"2\"));\n</code></pre>\n\n<p>would create a response with 2 \"Set-Cookie\" headers. But they wouldn't be persistent. \nI need \"expires\" date for that. </p>\n\n<pre><code>expires=Wed, 07-Nov-2012 14:52:08 GMT\n</code></pre>\n\n<p>Seeing how javax.servlet.http.Cookie doesn't support \"expires\", I've previously used</p>\n\n<pre><code>String cookieString=\"cookieName=content;Path=/;expires=Wed, 07-Nov-2012 14:52:08 GMT;\"\nresponse.setHeader(\"Set-Cookie\", cookieString);\n</code></pre>\n\n<p>Which works like a charm, but using response.setHeader(\"Set-Cookie\",newCookie) a second time, would overwrite the first one.</p>\n\n<p>So, the question is if there any way to add several identical named headers to the response? \nOr if there is any other correct way of doing this? </p>\n\n<p>I've seen suggestions using comma separated cookies, but my experience is that only the first cookie gets read by the browser.</p>\n"},{"tags":["java","testng","spring-boot-test","cucumber-java","spring-framework-beans"],"comments":[{"owner":{"account_id":4895787,"reputation":10858,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1690844411,"post_id":76803054,"comment_id":135406852,"body_markdown":"It&#39;s not a Cucumber problem. If you create a JUnit test with the same context configuration as your current `SpringIntegrationAPITest` it won&#39;t work either. So you have a problem somewhere else. But impossible to say where. Do follow and pay attention to the minimal in https://stackoverflow.com/help/minimal-reproducible-example","body":"It&#39;s not a Cucumber problem. If you create a JUnit test with the same context configuration as your current <code>SpringIntegrationAPITest</code> it won&#39;t work either. So you have a problem somewhere else. But impossible to say where. Do follow and pay attention to the minimal in <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}],"owner":{"account_id":26815196,"reputation":1,"user_id":20405240,"display_name":"Sandile Mnqayi Nih"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690802007,"creation_date":1690802007,"question_id":76803054,"body_markdown":"I am setting up integration tests using Cucumber and Spring, the tests are failing to run because of the unsatisfied dependency expressed through the field &#39;policiesRepository&#39;. I have added the PoliciesRepository.class in my @SpringBootTest annotation in the &quot;SpringIntegrationTest.class&quot; config class.\r\n\r\n\r\n**My SpringIntegrationTest.class:**\r\n\r\n```\r\npackage net.foursure.platform.api.sil.steps;\r\n\r\nimport io.cucumber.spring.CucumberContextConfiguration;\r\nimport org.junit.Before;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.context.annotation.ComponentScan;\r\n\r\n@CucumberContextConfiguration\r\n@SpringBootTest(classes = {com.maven.sim.repository.PoliciesRepository.class})\r\n@ComponentScan(basePackages = {&quot;com.maven.sim&quot;, &quot;net.foursure.platform&quot;})\r\npublic class SpringIntegrationAPITest {\r\n\r\n    @Before\r\n    public void setUp() {\r\n        System.out.printf(&quot;-------------- Spring Context Initialized For Executing Cucumber Tests --------------&quot;);\r\n    }\r\n}\r\n```\r\n\r\n**My cucumber test nunner:**\r\n\r\n```\r\npackage net.foursure.platform.ui.sil.runner;\r\n\r\nimport io.cucumber.java.After;\r\nimport io.cucumber.java.Before;\r\nimport io.cucumber.java.Scenario;\r\nimport io.cucumber.testng.AbstractTestNGCucumberTests;\r\nimport io.cucumber.testng.CucumberOptions;\r\nimport net.foursure.platform.ui.sil.utils.Utils;\r\nimport org.openqa.selenium.TakesScreenshot;\r\nimport org.springframework.test.context.ContextConfiguration;\r\nimport org.testng.annotations.DataProvider;\r\n\r\n@CucumberOptions(\r\n        features = &quot;src/test/java/resources/features/ui/SIL&quot;,\r\n        snippets= CucumberOptions.SnippetType.CAMELCASE,\r\n        glue={&quot;net.foursure.platform.ui.sil.steps&quot;, &quot;net.foursure.platform.ui.sil.hooks&quot;, &quot;net.foursure.platform.api.sil.steps&quot;,&quot;com.maven.sim.repository&quot;},\r\n        publish = false,\r\n        plugin = { &quot;pretty&quot;,&quot;com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter:&quot; }\r\n)\r\npublic class TestRunner extends AbstractTestNGCucumberTests {\r\n\r\n    @Override\r\n    @DataProvider\r\n    public Object[][] scenarios() {\r\n        return super.scenarios();\r\n    }\r\n\r\n}\r\n```\r\n\r\n**My repository Interface:**\r\n\r\n\r\n```\r\npackage com.maven.sim.repository;\r\n\r\nimport com.maven.sim.entities.claims.Policies;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.Optional;\r\n\r\n@Repository\r\npublic interface PoliciesRepository extends JpaRepository&lt;Policies, Integer&gt; {\r\n  \r\n  Optional&lt;Policies&gt; findById(Integer id);\r\n\r\n}\r\n```\r\n\r\nMy understanding is that this is all the necessary configuration for Cucumber and Spring integration, however when I run the runner I get the exception that policiesRepository is an unsatisfied dependency. Kindly assist.\r\n\r\n\r\nThe Exception:\r\n\r\n```\r\nScenario: Get the list of policy numbers                    # src/test/java/resources/features/ui/SIL/CreateSilClaim_UI.feature:3\r\n  * Get policies for partner &quot;SIL_DEV&quot; using &quot;get_policies&quot; # net.foursure.platform.api.sil.steps.MyStepdefs.getPoliciesForPartnerUsing(java.lang.String,java.lang.String)\r\n      io.cucumber.core.exception.CucumberException: Could not invoke step [Get policies for partner {string} using {string}] defined at &#39;net.foursure.platform.api.sil.steps.MyStepdefs.getPoliciesForPartnerUsing(java.lang.String,java.lang.String)&#39;.\r\nIt appears there was a problem with the step definition.\r\nThe converted arguments types were (java.lang.String, java.lang.String)\r\n\tat io.cucumber.core.runner.PickleStepDefinitionMatch.couldNotInvokeStep(PickleStepDefinitionMatch.java:130)\r\n\tat io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:65)\r\n\tat io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\r\n\tat io.cucumber.core.runner.TestStep.executeStep(TestStep.java:84)\r\n\tat io.cucumber.core.runner.TestStep.run(TestStep.java:56)\r\n...\r\n\r\n```\r\n\r\n```\r\nCaused by: io.cucumber.core.backend.CucumberBackendException: Error creating bean with name &#39;net.foursure.platform.api.sil.steps.MyStepdefs&#39;: Unsatisfied dependency expressed through field &#39;policiesRepository&#39;: No qualifying bean of type &#39;com.maven.sim.repository.PoliciesRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\tat io.cucumber.spring.SpringFactory.getInstance(SpringFactory.java:137)\r\n\tat io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\r\n\tat io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\r\n\tat io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\r\n\tat io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\r\n\t... 37 more\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;net.foursure.platform.api.sil.steps.MyStepdefs&#39;: Unsatisfied dependency expressed through field &#39;policiesRepository&#39;: No qualifying bean of type &#39;com.maven.sim.repository.PoliciesRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:714)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:694)\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:483)\r\n\r\n```\r\n\r\n\r\nYour help is most welcome and much appreciated.\r\n\r\n\r\nThanks in advance,\r\nSandile\r\n","title":"Spring bean is not visible to cucumber spring test context","body":"<p>I am setting up integration tests using Cucumber and Spring, the tests are failing to run because of the unsatisfied dependency expressed through the field 'policiesRepository'. I have added the PoliciesRepository.class in my @SpringBootTest annotation in the &quot;SpringIntegrationTest.class&quot; config class.</p>\n<p><strong>My SpringIntegrationTest.class:</strong></p>\n<pre><code>package net.foursure.platform.api.sil.steps;\n\nimport io.cucumber.spring.CucumberContextConfiguration;\nimport org.junit.Before;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.context.annotation.ComponentScan;\n\n@CucumberContextConfiguration\n@SpringBootTest(classes = {com.maven.sim.repository.PoliciesRepository.class})\n@ComponentScan(basePackages = {&quot;com.maven.sim&quot;, &quot;net.foursure.platform&quot;})\npublic class SpringIntegrationAPITest {\n\n    @Before\n    public void setUp() {\n        System.out.printf(&quot;-------------- Spring Context Initialized For Executing Cucumber Tests --------------&quot;);\n    }\n}\n</code></pre>\n<p><strong>My cucumber test nunner:</strong></p>\n<pre><code>package net.foursure.platform.ui.sil.runner;\n\nimport io.cucumber.java.After;\nimport io.cucumber.java.Before;\nimport io.cucumber.java.Scenario;\nimport io.cucumber.testng.AbstractTestNGCucumberTests;\nimport io.cucumber.testng.CucumberOptions;\nimport net.foursure.platform.ui.sil.utils.Utils;\nimport org.openqa.selenium.TakesScreenshot;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.testng.annotations.DataProvider;\n\n@CucumberOptions(\n        features = &quot;src/test/java/resources/features/ui/SIL&quot;,\n        snippets= CucumberOptions.SnippetType.CAMELCASE,\n        glue={&quot;net.foursure.platform.ui.sil.steps&quot;, &quot;net.foursure.platform.ui.sil.hooks&quot;, &quot;net.foursure.platform.api.sil.steps&quot;,&quot;com.maven.sim.repository&quot;},\n        publish = false,\n        plugin = { &quot;pretty&quot;,&quot;com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter:&quot; }\n)\npublic class TestRunner extends AbstractTestNGCucumberTests {\n\n    @Override\n    @DataProvider\n    public Object[][] scenarios() {\n        return super.scenarios();\n    }\n\n}\n</code></pre>\n<p><strong>My repository Interface:</strong></p>\n<pre><code>package com.maven.sim.repository;\n\nimport com.maven.sim.entities.claims.Policies;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.Optional;\n\n@Repository\npublic interface PoliciesRepository extends JpaRepository&lt;Policies, Integer&gt; {\n  \n  Optional&lt;Policies&gt; findById(Integer id);\n\n}\n</code></pre>\n<p>My understanding is that this is all the necessary configuration for Cucumber and Spring integration, however when I run the runner I get the exception that policiesRepository is an unsatisfied dependency. Kindly assist.</p>\n<p>The Exception:</p>\n<pre><code>Scenario: Get the list of policy numbers                    # src/test/java/resources/features/ui/SIL/CreateSilClaim_UI.feature:3\n  * Get policies for partner &quot;SIL_DEV&quot; using &quot;get_policies&quot; # net.foursure.platform.api.sil.steps.MyStepdefs.getPoliciesForPartnerUsing(java.lang.String,java.lang.String)\n      io.cucumber.core.exception.CucumberException: Could not invoke step [Get policies for partner {string} using {string}] defined at 'net.foursure.platform.api.sil.steps.MyStepdefs.getPoliciesForPartnerUsing(java.lang.String,java.lang.String)'.\nIt appears there was a problem with the step definition.\nThe converted arguments types were (java.lang.String, java.lang.String)\n    at io.cucumber.core.runner.PickleStepDefinitionMatch.couldNotInvokeStep(PickleStepDefinitionMatch.java:130)\n    at io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:65)\n    at io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\n    at io.cucumber.core.runner.TestStep.executeStep(TestStep.java:84)\n    at io.cucumber.core.runner.TestStep.run(TestStep.java:56)\n...\n\n</code></pre>\n<pre><code>Caused by: io.cucumber.core.backend.CucumberBackendException: Error creating bean with name 'net.foursure.platform.api.sil.steps.MyStepdefs': Unsatisfied dependency expressed through field 'policiesRepository': No qualifying bean of type 'com.maven.sim.repository.PoliciesRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at io.cucumber.spring.SpringFactory.getInstance(SpringFactory.java:137)\n    at io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\n    at io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\n    at io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\n    at io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\n    ... 37 more\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'net.foursure.platform.api.sil.steps.MyStepdefs': Unsatisfied dependency expressed through field 'policiesRepository': No qualifying bean of type 'com.maven.sim.repository.PoliciesRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:714)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:694)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:483)\n\n</code></pre>\n<p>Your help is most welcome and much appreciated.</p>\n<p>Thanks in advance,\nSandile</p>\n"},{"tags":["java","spring","vue.js","tomcat","configuration"],"answers":[{"tags":[],"owner":{"account_id":19903507,"reputation":37,"user_id":14583044,"display_name":"Alpug Parker"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645119009,"creation_date":1645024186,"answer_id":71144359,"question_id":71144281,"body_markdown":"I have found a solution and am posting here in case anyone else has the same issue.\r\n\r\nMy key names within the property object (in my ```myapp.properties``` file) seem to be causing an issue when parsing occurs.\r\nI have found this is down to the hyphens (-) used in the key names.\r\n\r\nTo fix this simply change similar values from this -\r\n\r\n```myProp={a-special-key:&#39;true&#39;}```\r\n\r\nto this -\r\n\r\n```myProp={aSpecialKey:&#39;true&#39;}```\r\n\r\nThis fixed the issue after a &#39;Clean and Build&#39; and &#39;Run&#39; as the new value was then picked up from the file.","title":"Property or field cannot be found on object of type &#39;org.springframework.beans.factory.config.BeanExpressionContext&#39;","body":"<p>I have found a solution and am posting here in case anyone else has the same issue.</p>\n<p>My key names within the property object (in my <code>myapp.properties</code> file) seem to be causing an issue when parsing occurs.\nI have found this is down to the hyphens (-) used in the key names.</p>\n<p>To fix this simply change similar values from this -</p>\n<p><code>myProp={a-special-key:'true'}</code></p>\n<p>to this -</p>\n<p><code>myProp={aSpecialKey:'true'}</code></p>\n<p>This fixed the issue after a 'Clean and Build' and 'Run' as the new value was then picked up from the file.</p>\n"},{"comments":[{"owner":{"account_id":19903507,"reputation":37,"user_id":14583044,"display_name":"Alpug Parker"},"score":0,"creation_date":1692278095,"post_id":76803044,"comment_id":135603485,"body_markdown":"Thanks for this! Appreciate further insight for future implementations, gg :-)","body":"Thanks for this! Appreciate further insight for future implementations, gg :-)"}],"tags":[],"owner":{"account_id":4538257,"reputation":31,"user_id":3686851,"display_name":"Mr. Jones"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690801961,"creation_date":1690801961,"answer_id":76803044,"question_id":71144281,"body_markdown":"I&#39;ve found another solution which still allows having dash and other characters as part of the map keys, by setting the application properties as following:\r\n\r\n    myProp={&#39;a-special-key&#39;:&#39;value&#39;}","title":"Property or field cannot be found on object of type &#39;org.springframework.beans.factory.config.BeanExpressionContext&#39;","body":"<p>I've found another solution which still allows having dash and other characters as part of the map keys, by setting the application properties as following:</p>\n<pre><code>myProp={'a-special-key':'value'}\n</code></pre>\n"}],"owner":{"account_id":19903507,"reputation":37,"user_id":14583044,"display_name":"Alpug Parker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5769,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71144359,"answer_count":2,"score":0,"last_activity_date":1690801961,"creation_date":1645023889,"question_id":71144281,"body_markdown":"This error has started appearing when I use the ```@Value``` annotation on my ```private Map&lt;String, String&gt; properties```.\r\nIn the **myapp.properties** file I have a few values set that I want to be able to access via my java API so that the frontend (Vue.js 2) can be responsive to the server it is being hosted from.\r\nMy issue began when I started trying to set one property to an object of key:value pairs. This is what my property looked like in the myapp.properties file.\r\n\r\n``` myProp={a-special-key:&#39;true&#39;} ```\r\n\r\nThis resulted in my controller class (which has all business logic self-contained) to fail on init while trying to obtain values due to the ```@Value(&quot;#{${myProp}}&quot;)```.\r\nAny idea why this error is being thrown? Error below -\r\n\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;myappController&#39;: Unsatisfied dependency expressed through field &#39;properties&#39;; nested exception is org.springframework.beans.factory.BeanExpressionException: Expression parsing failed; nested exception is org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field &#39;a&#39; cannot be found on object of type &#39;org.springframework.beans.factory.config.BeanExpressionContext&#39; - maybe not public or not valid?\r\n\t\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:660)\r\n\t\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640)\r\n\t\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\r\n\t\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1413)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\t\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944)\r\n\t\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n\t\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\t\tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:401)\r\n\t\tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:292)\r\n\t\tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\r\n\t\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4766)\r\n\t\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:728)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:700)\r\n\t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:690)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:538)\r\n\t\tat org.apache.catalina.startup.HostConfig.check(HostConfig.java:1690)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\t\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\r\n\t\tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:809)\r\n\t\tat java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n\t\tat org.apache.catalina.manager.ManagerServlet.check(ManagerServlet.java:1614)\r\n\t\tat org.apache.catalina.manager.ManagerServlet.deploy(ManagerServlet.java:1026)\r\n\t\tat org.apache.catalina.manager.ManagerServlet.doGet(ManagerServlet.java:357)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n\t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n\t\tat org.apache.catalina.filters.HttpHeaderSecurityFilter.doFilter(HttpHeaderSecurityFilter.java:126)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:667)\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\t\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\t\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\r\n\t\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:831)\r\n\tCaused by: org.springframework.beans.factory.BeanExpressionException: Expression parsing failed; nested exception is org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field &#39;a&#39; cannot be found on object of type &#39;org.springframework.beans.factory.config.BeanExpressionContext&#39; - maybe not public or not valid?\r\n\t\tat org.springframework.context.expression.StandardBeanExpressionResolver.evaluate(StandardBeanExpressionResolver.java:169)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.evaluateBeanDefinitionString(AbstractBeanFactory.java:1631)\r\n\t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1324)\r\n\t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300)\r\n\t\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657)\r\n\t\t... 62 more\r\n\tCaused by: org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field &#39;a&#39; cannot be found on object of type &#39;org.springframework.beans.factory.config.BeanExpressionContext&#39; - maybe not public or not valid?\r\n\t\tat org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:217)\r\n\t\tat org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104)\r\n\t\tat org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:91)\r\n\t\tat org.springframework.expression.spel.ast.OpMinus.getValueInternal(OpMinus.java:98)\r\n\t\tat org.springframework.expression.spel.ast.OpMinus.getValueInternal(OpMinus.java:98)\r\n\t\tat org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)\r\n\t\tat org.springframework.expression.spel.ast.InlineMap.getValueInternal(InlineMap.java:128)\r\n\t\tat org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)\r\n\t\tat org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:272)\r\n\t\tat org.springframework.context.expression.StandardBeanExpressionResolver.evaluate(StandardBeanExpressionResolver.java:166)\r\n\t\t... 66 more\r\n```\r\n\r\nI received this warning about 10 times in a row at any given time.\r\nIt always happened for both doing a &#39;Clean and Build&#39; of the project, and on deploying via &#39;Run&#39;.\r\n\r\nAny ideas as to why this may be happening?\r\n\r\nThis is all in NetBeans 12.4 IDE.","title":"Property or field cannot be found on object of type &#39;org.springframework.beans.factory.config.BeanExpressionContext&#39;","body":"<p>This error has started appearing when I use the <code>@Value</code> annotation on my <code>private Map&lt;String, String&gt; properties</code>.\nIn the <strong>myapp.properties</strong> file I have a few values set that I want to be able to access via my java API so that the frontend (Vue.js 2) can be responsive to the server it is being hosted from.\nMy issue began when I started trying to set one property to an object of key:value pairs. This is what my property looked like in the myapp.properties file.</p>\n<p><code>myProp={a-special-key:'true'}</code></p>\n<p>This resulted in my controller class (which has all business logic self-contained) to fail on init while trying to obtain values due to the <code>@Value(&quot;#{${myProp}}&quot;)</code>.\nAny idea why this error is being thrown? Error below -</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'myappController': Unsatisfied dependency expressed through field 'properties'; nested exception is org.springframework.beans.factory.BeanExpressionException: Expression parsing failed; nested exception is org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'a' cannot be found on object of type 'org.springframework.beans.factory.config.BeanExpressionContext' - maybe not public or not valid?\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:660)\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640)\n        at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1413)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n        at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:401)\n        at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:292)\n        at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\n        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4766)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:728)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:700)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\n        at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:690)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:538)\n        at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1690)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n        at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\n        at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:809)\n        at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n        at org.apache.catalina.manager.ManagerServlet.check(ManagerServlet.java:1614)\n        at org.apache.catalina.manager.ManagerServlet.deploy(ManagerServlet.java:1026)\n        at org.apache.catalina.manager.ManagerServlet.doGet(ManagerServlet.java:357)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\n        at org.apache.catalina.filters.HttpHeaderSecurityFilter.doFilter(HttpHeaderSecurityFilter.java:126)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:667)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.base/java.lang.Thread.run(Thread.java:831)\n    Caused by: org.springframework.beans.factory.BeanExpressionException: Expression parsing failed; nested exception is org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'a' cannot be found on object of type 'org.springframework.beans.factory.config.BeanExpressionContext' - maybe not public or not valid?\n        at org.springframework.context.expression.StandardBeanExpressionResolver.evaluate(StandardBeanExpressionResolver.java:169)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.evaluateBeanDefinitionString(AbstractBeanFactory.java:1631)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1324)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300)\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657)\n        ... 62 more\n    Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'a' cannot be found on object of type 'org.springframework.beans.factory.config.BeanExpressionContext' - maybe not public or not valid?\n        at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:217)\n        at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104)\n        at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:91)\n        at org.springframework.expression.spel.ast.OpMinus.getValueInternal(OpMinus.java:98)\n        at org.springframework.expression.spel.ast.OpMinus.getValueInternal(OpMinus.java:98)\n        at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)\n        at org.springframework.expression.spel.ast.InlineMap.getValueInternal(InlineMap.java:128)\n        at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)\n        at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:272)\n        at org.springframework.context.expression.StandardBeanExpressionResolver.evaluate(StandardBeanExpressionResolver.java:166)\n        ... 66 more\n</code></pre>\n<p>I received this warning about 10 times in a row at any given time.\nIt always happened for both doing a 'Clean and Build' of the project, and on deploying via 'Run'.</p>\n<p>Any ideas as to why this may be happening?</p>\n<p>This is all in NetBeans 12.4 IDE.</p>\n"},{"tags":["java","jenkins","kubernetes","load-balancing","nginx-ingress"],"comments":[{"owner":{"account_id":6127918,"reputation":717,"user_id":4779179,"accept_rate":57,"display_name":"digidhamu"},"score":0,"creation_date":1586795909,"post_id":60455410,"comment_id":108253103,"body_markdown":"Same error `port:50000 is not reachable`","body":"Same error <code>port:50000 is not reachable</code>"},{"owner":{"account_id":6990915,"reputation":1070,"user_id":5360233,"display_name":"np2807"},"score":1,"creation_date":1613655873,"post_id":60455410,"comment_id":117146273,"body_markdown":"Please see my answer with step by step instruction, I got the same problem, now agent is working for me.","body":"Please see my answer with step by step instruction, I got the same problem, now agent is working for me."}],"answers":[{"comments":[{"owner":{"account_id":3065347,"reputation":1573,"user_id":2597174,"accept_rate":43,"display_name":"c4f4t0r"},"score":1,"creation_date":1618007376,"post_id":61525020,"comment_id":118481131,"body_markdown":"I know this is an old question, but maybe could be useful to someone, if you are using the jenkins charts to setup the jenkins controller on kubernetes, you don&#39;t need to setup any agent manually, you need to use kubernetes as agent in your Jenkinsfile or job definition","body":"I know this is an old question, but maybe could be useful to someone, if you are using the jenkins charts to setup the jenkins controller on kubernetes, you don&#39;t need to setup any agent manually, you need to use kubernetes as agent in your Jenkinsfile or job definition"}],"tags":[],"owner":{"account_id":13819684,"reputation":504,"user_id":9975453,"display_name":"10raw"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1588254823,"creation_date":1588254823,"answer_id":61525020,"question_id":60455410,"body_markdown":"looks like port 50000 is not open in the jenkins master. Try to open the port and restart the machine and instance ( i.e jenkins via url ) and see if it helps. ","title":"Jenkins kubernetes plugin: provided port:50000 is not reachable","body":"<p>looks like port 50000 is not open in the jenkins master. Try to open the port and restart the machine and instance ( i.e jenkins via url ) and see if it helps. </p>\n"},{"comments":[{"owner":{"account_id":16747115,"reputation":1228,"user_id":12105019,"display_name":"Tapan Hegde"},"score":0,"creation_date":1632073986,"post_id":66258672,"comment_id":122389445,"body_markdown":"I am facing same error in my ubuntu machine, how to resolve it ? @np2807","body":"I am facing same error in my ubuntu machine, how to resolve it ? @np2807"},{"owner":{"account_id":6990915,"reputation":1070,"user_id":5360233,"display_name":"np2807"},"score":0,"creation_date":1643902323,"post_id":66258672,"comment_id":125467410,"body_markdown":"@Tapan Hedge I have no experience with Linux machines.","body":"@Tapan Hedge I have no experience with Linux machines."},{"owner":{"account_id":16747115,"reputation":1228,"user_id":12105019,"display_name":"Tapan Hegde"},"score":0,"creation_date":1643943165,"post_id":66258672,"comment_id":125479723,"body_markdown":"Thanks for prompt reply.. I am able to figure this out. I need to open firewall rules in my ubuntu machine for that particular port. @np2807","body":"Thanks for prompt reply.. I am able to figure this out. I need to open firewall rules in my ubuntu machine for that particular port. @np2807"}],"tags":[],"owner":{"account_id":6990915,"reputation":1070,"user_id":5360233,"display_name":"np2807"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1613646245,"creation_date":1613646245,"answer_id":66258672,"question_id":60455410,"body_markdown":"Might be because port 50000 is not open in the Jenkins master.\r\n\r\nYou can try to open the port by Creating Inbound rule in Jenkins Master&#39;s firewall which allows Port 50000 (coming from other machine in  this case Agent, hence Inbound rule).\r\nTry following steps:\r\n \r\n1. Go to Master Jenkins. \r\n2. Open Wiindows Defender Firewall--&gt; Advance setting --&gt; create Inbound Rule allow port 50000\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNote: In 1 inbound rule you can allow more than one port as shown in below.\r\n\r\n3. Restart master Jenkins service. \r\n\r\n4. Check if (step is valid only if you have created windows service on agent) agent service is running continuously.\r\n\r\nCheck Agent status in Jenkins ! \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gOddr.png","title":"Jenkins kubernetes plugin: provided port:50000 is not reachable","body":"<p>Might be because port 50000 is not open in the Jenkins master.</p>\n<p>You can try to open the port by Creating Inbound rule in Jenkins Master's firewall which allows Port 50000 (coming from other machine in  this case Agent, hence Inbound rule).\nTry following steps:</p>\n<ol>\n<li>Go to Master Jenkins.</li>\n<li>Open Wiindows Defender Firewall--&gt; Advance setting --&gt; create Inbound Rule allow port 50000</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/gOddr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gOddr.png\" alt=\"enter image description here\" /></a></p>\n<p>Note: In 1 inbound rule you can allow more than one port as shown in below.</p>\n<ol start=\"3\">\n<li><p>Restart master Jenkins service.</p>\n</li>\n<li><p>Check if (step is valid only if you have created windows service on agent) agent service is running continuously.</p>\n</li>\n</ol>\n<p>Check Agent status in Jenkins !</p>\n"},{"comments":[{"owner":{"account_id":16747115,"reputation":1228,"user_id":12105019,"display_name":"Tapan Hegde"},"score":0,"creation_date":1632074076,"post_id":67028965,"comment_id":122389459,"body_markdown":"Worked like charm!!.. Thanks","body":"Worked like charm!!.. Thanks"}],"tags":[],"owner":{"account_id":20993515,"reputation":341,"user_id":15425910,"display_name":"AbhiOps"},"comment_count":1,"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1618006973,"creation_date":1618006973,"answer_id":67028965,"question_id":60455410,"body_markdown":"I had similar issue. I have solved it enabling the &quot;Use WebSocket&quot;.  Jenkins Salve/Agent &gt; Configure &gt; Launch Method &gt; Use WebSocket (enable) &gt; Save. ","title":"Jenkins kubernetes plugin: provided port:50000 is not reachable","body":"<p>I had similar issue. I have solved it enabling the &quot;Use WebSocket&quot;.  Jenkins Salve/Agent &gt; Configure &gt; Launch Method &gt; Use WebSocket (enable) &gt; Save.</p>\n"},{"tags":[],"owner":{"account_id":12914209,"reputation":742,"user_id":9339019,"display_name":"Gursewak Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680716967,"creation_date":1680716590,"answer_id":75942542,"question_id":60455410,"body_markdown":"I faced the same error, after doing lots of research later I found that problem was in service.yaml that was used to expose the jenkins server. So I changed this \r\n\r\n    ports:\r\n        - name: httpport\r\n          port: 8080\r\n          targetPort: 8080\r\n          nodePort: 32000\r\n to this \r\n\r\n    - name: httpport\r\n      port: 8080\r\n      targetPort: 8080\r\n      nodePort: 32000\r\n    - name: jnlpport\r\n      port: 50000\r\n      targetPort: 50000\r\n\r\n And it solved my problem.\r\n\r\nIf interested, here I explained how I deployed my jenkins server on kubernetes\r\n&#128073; [How to Deploy Jenkin on Kubernetes][1] \r\n\r\n   \r\n\r\n\r\n  [1]: https://gursewaksingh-51905.medium.com/%EF%B8%8Fdevops-how-to-deploy-jenkin-on-kubernetes-with-nfs-server-and-blue-ocean-f69f9d6dbc79","title":"Jenkins kubernetes plugin: provided port:50000 is not reachable","body":"<p>I faced the same error, after doing lots of research later I found that problem was in service.yaml that was used to expose the jenkins server. So I changed this</p>\n<pre><code>ports:\n    - name: httpport\n      port: 8080\n      targetPort: 8080\n      nodePort: 32000\n</code></pre>\n<p>to this</p>\n<pre><code>- name: httpport\n  port: 8080\n  targetPort: 8080\n  nodePort: 32000\n- name: jnlpport\n  port: 50000\n  targetPort: 50000\n</code></pre>\n<p>And it solved my problem.</p>\n<p>If interested, here I explained how I deployed my jenkins server on kubernetes\n👉 <a href=\"https://gursewaksingh-51905.medium.com/%EF%B8%8Fdevops-how-to-deploy-jenkin-on-kubernetes-with-nfs-server-and-blue-ocean-f69f9d6dbc79\" rel=\"nofollow noreferrer\">How to Deploy Jenkin on Kubernetes</a></p>\n"}],"owner":{"account_id":2801644,"reputation":17019,"user_id":2409793,"accept_rate":49,"display_name":"pkaramol"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16964,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1690801735,"creation_date":1582906069,"question_id":60455410,"body_markdown":"I have set up `jenkins` on GKE using the official helm [chart][1].\r\n\r\n\r\nI have also created an `nginx-ingress` controller installation using helm and I am able to access jenkins via `https://112.222.111.22/jenkins` where `112.222.111.22` is the static IP I am passing to the load balancer.\r\n\r\nI am also able to create jobs.\r\n\r\nHowever, when I try to spin up inbound remote agent:\r\n\r\n```\r\n▶ java -jar agent.jar -noCertificateCheck -jnlpUrl https://112.222.111.22/jenkins/computer/My%20Builder%203/slave-agent.jnlp -secret &lt;some_secret&gt;\r\n\r\n\r\n...\r\nWARNING: Connect timed out\r\nFeb 28, 2020 5:57:18 PM hudson.remoting.jnlp.Main$CuiListener error\r\nSEVERE: https://112.222.111.22/jenkins/ provided port:50000 is not reachable\r\njava.io.IOException: https://112.222.111.22/jenkins/ provided port:50000 is not reachable\r\n\tat org.jenkinsci.remoting.engine.JnlpAgentEndpointResolver.resolve(JnlpAgentEndpointResolver.java:303)\r\n\tat hudson.remoting.Engine.innerRun(Engine.java:527)\r\n\tat hudson.remoting.Engine.run(Engine.java:488)\r\n\r\n```\r\nWhy is that?\r\n\r\n\r\n  [1]: https://github.com/helm/charts/tree/master/stable/jenkins","title":"Jenkins kubernetes plugin: provided port:50000 is not reachable","body":"<p>I have set up <code>jenkins</code> on GKE using the official helm <a href=\"https://github.com/helm/charts/tree/master/stable/jenkins\" rel=\"nofollow noreferrer\">chart</a>.</p>\n\n<p>I have also created an <code>nginx-ingress</code> controller installation using helm and I am able to access jenkins via <code>https://112.222.111.22/jenkins</code> where <code>112.222.111.22</code> is the static IP I am passing to the load balancer.</p>\n\n<p>I am also able to create jobs.</p>\n\n<p>However, when I try to spin up inbound remote agent:</p>\n\n<pre><code>▶ java -jar agent.jar -noCertificateCheck -jnlpUrl https://112.222.111.22/jenkins/computer/My%20Builder%203/slave-agent.jnlp -secret &lt;some_secret&gt;\n\n\n...\nWARNING: Connect timed out\nFeb 28, 2020 5:57:18 PM hudson.remoting.jnlp.Main$CuiListener error\nSEVERE: https://112.222.111.22/jenkins/ provided port:50000 is not reachable\njava.io.IOException: https://112.222.111.22/jenkins/ provided port:50000 is not reachable\n    at org.jenkinsci.remoting.engine.JnlpAgentEndpointResolver.resolve(JnlpAgentEndpointResolver.java:303)\n    at hudson.remoting.Engine.innerRun(Engine.java:527)\n    at hudson.remoting.Engine.run(Engine.java:488)\n\n</code></pre>\n\n<p>Why is that?</p>\n"},{"tags":["java","xml","xml-serialization","cdata"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690448518,"post_id":76777208,"comment_id":135356265,"body_markdown":"What about `java.beans.XMLEncoder`?","body":"What about <code>java.beans.XMLEncoder</code>?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690452557,"post_id":76777208,"comment_id":135357134,"body_markdown":"fwiw, I just round-tripped the entire html source code of this page as a bean attribute without any problem. A few lines of code, no 3rd party libraries - just JRE","body":"fwiw, I just round-tripped the entire html source code of this page as a bean attribute without any problem. A few lines of code, no 3rd party libraries - just JRE"}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690456150,"creation_date":1690456150,"answer_id":76779146,"question_id":76777208,"body_markdown":"If you decide to go for the JAXP serializer, you can declare elements whose content is to be serialized as CDATA using the serialization property `CDATA_SECTION_ELEMENTS`, but you can&#39;t control it at the level of individual element instances.","title":"How to generate with java a xml with CDATA on a specific field","body":"<p>If you decide to go for the JAXP serializer, you can declare elements whose content is to be serialized as CDATA using the serialization property <code>CDATA_SECTION_ELEMENTS</code>, but you can't control it at the level of individual element instances.</p>\n"},{"tags":[],"owner":{"account_id":5739700,"reputation":418,"user_id":4532773,"accept_rate":69,"display_name":"4535992"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690801730,"creation_date":1690801730,"answer_id":76803014,"question_id":76777208,"body_markdown":"Ty to Michael Kay suggestion, i find  asolution XD\r\n\r\n    \tprivate static File generateXmlWithCDATAV2(MyObjectJava myObjectJava, File fileXmlOutput) throws Exception {\r\n\t\tJAXBContext requestJaxbContext = JAXBContext.newInstance(MyObjectJava.class);\r\n\t\t\r\n\t\tMarshaller marshaller = requestJaxbContext.createMarshaller();\r\n\t\tmarshaller.setProperty(Marshaller.JAXB_ENCODING, &quot;UTF-8&quot;);\r\n\t\tmarshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n\t\tfinal DOMResult domResult = new DOMResult();\r\n\t\tmarshaller.marshal(myObjectJava, domResult);\r\n\t\t\r\n\t\tTransformer transformer1 = TransformerFactory.newInstance().newTransformer();\r\n\t\ttransformer1.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n\t\ttransformer1.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;2&quot;);\r\n\t\ttransformer1.setOutputProperty(OutputKeys.CDATA_SECTION_ELEMENTS, &quot;outerHtml&quot;);\r\n\t\ttransformer1.transform(\r\n\t\t\t\tnew DOMSource(domResult.getNode()), \r\n\t\t\t\tnew StreamResult(fileXmlOutput));\r\n\t\treturn fileXmlOutput;\r\n\t}","title":"How to generate with java a xml with CDATA on a specific field","body":"<p>Ty to Michael Kay suggestion, i find  asolution XD</p>\n<pre><code>    private static File generateXmlWithCDATAV2(MyObjectJava myObjectJava, File fileXmlOutput) throws Exception {\n    JAXBContext requestJaxbContext = JAXBContext.newInstance(MyObjectJava.class);\n    \n    Marshaller marshaller = requestJaxbContext.createMarshaller();\n    marshaller.setProperty(Marshaller.JAXB_ENCODING, &quot;UTF-8&quot;);\n    marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\n    final DOMResult domResult = new DOMResult();\n    marshaller.marshal(myObjectJava, domResult);\n    \n    Transformer transformer1 = TransformerFactory.newInstance().newTransformer();\n    transformer1.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\n    transformer1.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;2&quot;);\n    transformer1.setOutputProperty(OutputKeys.CDATA_SECTION_ELEMENTS, &quot;outerHtml&quot;);\n    transformer1.transform(\n            new DOMSource(domResult.getNode()), \n            new StreamResult(fileXmlOutput));\n    return fileXmlOutput;\n}\n</code></pre>\n"}],"owner":{"account_id":5739700,"reputation":418,"user_id":4532773,"accept_rate":69,"display_name":"4535992"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76803014,"answer_count":2,"score":0,"last_activity_date":1690801730,"creation_date":1690441196,"question_id":76777208,"body_markdown":"I would like to update an old piece of code, but I can&#39;t find the correct way to do it with the new system suggested from the deprecated class XmlSerializer, it was deprecated in Xerces 2.9.0. and it is recommended  that new applications use the DOM Level 3 LSSerializer or JAXP&#39;s Transformation API for XML (TrAX) for serializing XML.\r\n\r\nI need to generate an xml from a java class (no problem in that), but adding the prefix characters `&lt;![CDATA[` and suffix characters `]]&gt;` on the specific field `outerHtml` of the xml.\r\n\r\nHere the old code with the method &quot;generateXmlWithCDATA&quot; i want to update:\r\n```java\r\n\r\n        import java.io.File;\r\n        import java.io.FileOutputStream;\r\n        import java.io.IOException;\r\n        import java.io.OutputStream;\r\n        import java.io.Serializable;\r\n        import java.io.StringWriter;\r\n        import java.io.Writer;\r\n        import java.nio.charset.StandardCharsets;\r\n        import java.util.Date;\r\n        import java.util.HashMap;\r\n        import java.util.List;\r\n        import java.util.Map;\r\n        \r\n        import javax.xml.bind.JAXBContext;\r\n        import javax.xml.bind.JAXBException;\r\n        import javax.xml.bind.Marshaller;\r\n        \r\n        import org.apache.commons.codec.binary.Base64;\r\n        import org.apache.commons.io.FileUtils;\r\n        import org.apache.commons.io.IOUtils;\r\n        import org.apache.xml.serialize.OutputFormat;\r\n        import org.apache.xml.serialize.XMLSerializer;\r\n\r\n\tprivate static File generateXmlWithCDATA(MyObjectJava myObjectJava, File fileXmlOutput) throws JAXBException, IOException {\r\n\t\tJAXBContext requestJaxbContext = JAXBContext.newInstance(MyObjectJava.class);\r\n\t\r\n\t\tMarshaller marshaller = requestJaxbContext.createMarshaller();\r\n\t\tmarshaller.setProperty(Marshaller.JAXB_ENCODING, &quot;UTF-8&quot;);\r\n\t\tmarshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n\t\t // get an Apache XMLSerializer configured to generate CDATA\r\n\t\ttry(OutputStream out = new FileOutputStream(fileXmlOutput)) {\t\t\r\n\t\t    XMLSerializer serializer = getXMLSerializer(out);\t\t\r\n\t\t    marshaller.marshal(myObjectJava, serializer.asContentHandler());   \r\n\t\t}\r\n\t\treturn fileXmlOutput;\r\n\t}\r\n\r\n\r\n\tprivate static XMLSerializer getXMLSerializer(OutputStream os) {\r\n\t    // configure an OutputFormat to handle CDATA\r\n\t    OutputFormat of = new OutputFormat();\r\n\t\r\n\t    // specify which of your elements you want to be handled as CDATA.\r\n\t    // The use of the &#39;^&#39; between the namespaceURI and the localname\r\n\t    // seems to be an implementation detail of the xerces code.\r\n\t    // When processing xml that doesn&#39;t use namespaces, simply omit the\r\n\t    // namespace prefix as shown in the third CDataElement below.\r\n\t    of.setCDataElements(\r\n\t\t\t    new String[] { \r\n\t\t\t    \t&quot;^outerHtml&quot;   // &lt;outerHtml&gt;\r\n\t\t\t});   \r\n\t\r\n\t    // set any other options you&#39;d like\r\n\t    of.setPreserveSpace(true);\r\n\t    of.setIndenting(true);\r\n\t\r\n\t    // create the serializer\r\n\t    final XMLSerializer serializer = new XMLSerializer(of);\r\n\t    serializer.setOutputByteStream(os);\r\n\t\r\n\t    return serializer;\r\n\t}\r\n```\r\n\r\nthe xml output is something like this\r\n\r\n```xml\r\n\r\n        &lt;MyObjectJava&gt;\r\n          &lt;name&gt;Leo&lt;/name&gt;\r\n          &lt;surname&gt;DaVinci&lt;/surname&gt;\r\n          &lt;outerHtml&gt;&lt;![CDATA[&lt;a href=&quot;https://www.isasite.com&quot;&gt;Is a site&lt;/a&gt;]]&gt;&lt;/outerHtml&gt;\r\n        &lt;/MyObjectJava&gt;\r\n\r\n```\r\n\r\nAnyone can give a example with the new system ?\r\n\r\nTy in advance.","title":"How to generate with java a xml with CDATA on a specific field","body":"<p>I would like to update an old piece of code, but I can't find the correct way to do it with the new system suggested from the deprecated class XmlSerializer, it was deprecated in Xerces 2.9.0. and it is recommended  that new applications use the DOM Level 3 LSSerializer or JAXP's Transformation API for XML (TrAX) for serializing XML.</p>\n<p>I need to generate an xml from a java class (no problem in that), but adding the prefix characters <code>&lt;![CDATA[</code> and suffix characters <code>]]&gt;</code> on the specific field <code>outerHtml</code> of the xml.</p>\n<p>Here the old code with the method &quot;generateXmlWithCDATA&quot; i want to update:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n        import java.io.File;\n        import java.io.FileOutputStream;\n        import java.io.IOException;\n        import java.io.OutputStream;\n        import java.io.Serializable;\n        import java.io.StringWriter;\n        import java.io.Writer;\n        import java.nio.charset.StandardCharsets;\n        import java.util.Date;\n        import java.util.HashMap;\n        import java.util.List;\n        import java.util.Map;\n        \n        import javax.xml.bind.JAXBContext;\n        import javax.xml.bind.JAXBException;\n        import javax.xml.bind.Marshaller;\n        \n        import org.apache.commons.codec.binary.Base64;\n        import org.apache.commons.io.FileUtils;\n        import org.apache.commons.io.IOUtils;\n        import org.apache.xml.serialize.OutputFormat;\n        import org.apache.xml.serialize.XMLSerializer;\n\n    private static File generateXmlWithCDATA(MyObjectJava myObjectJava, File fileXmlOutput) throws JAXBException, IOException {\n        JAXBContext requestJaxbContext = JAXBContext.newInstance(MyObjectJava.class);\n    \n        Marshaller marshaller = requestJaxbContext.createMarshaller();\n        marshaller.setProperty(Marshaller.JAXB_ENCODING, &quot;UTF-8&quot;);\n        marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\n         // get an Apache XMLSerializer configured to generate CDATA\n        try(OutputStream out = new FileOutputStream(fileXmlOutput)) {       \n            XMLSerializer serializer = getXMLSerializer(out);       \n            marshaller.marshal(myObjectJava, serializer.asContentHandler());   \n        }\n        return fileXmlOutput;\n    }\n\n\n    private static XMLSerializer getXMLSerializer(OutputStream os) {\n        // configure an OutputFormat to handle CDATA\n        OutputFormat of = new OutputFormat();\n    \n        // specify which of your elements you want to be handled as CDATA.\n        // The use of the '^' between the namespaceURI and the localname\n        // seems to be an implementation detail of the xerces code.\n        // When processing xml that doesn't use namespaces, simply omit the\n        // namespace prefix as shown in the third CDataElement below.\n        of.setCDataElements(\n                new String[] { \n                    &quot;^outerHtml&quot;   // &lt;outerHtml&gt;\n            });   \n    \n        // set any other options you'd like\n        of.setPreserveSpace(true);\n        of.setIndenting(true);\n    \n        // create the serializer\n        final XMLSerializer serializer = new XMLSerializer(of);\n        serializer.setOutputByteStream(os);\n    \n        return serializer;\n    }\n</code></pre>\n<p>the xml output is something like this</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n        &lt;MyObjectJava&gt;\n          &lt;name&gt;Leo&lt;/name&gt;\n          &lt;surname&gt;DaVinci&lt;/surname&gt;\n          &lt;outerHtml&gt;&lt;![CDATA[&lt;a href=&quot;https://www.isasite.com&quot;&gt;Is a site&lt;/a&gt;]]&gt;&lt;/outerHtml&gt;\n        &lt;/MyObjectJava&gt;\n\n</code></pre>\n<p>Anyone can give a example with the new system ?</p>\n<p>Ty in advance.</p>\n"},{"tags":["java","spring","sap-commerce-cloud"],"comments":[{"owner":{"account_id":3392662,"reputation":5537,"user_id":2847159,"display_name":"mkysoft"},"score":0,"creation_date":1690823484,"post_id":76802252,"comment_id":135403572,"body_markdown":"Did you get any ehcache exception?","body":"Did you get any ehcache exception?"},{"owner":{"account_id":5180595,"reputation":4373,"user_id":4365626,"accept_rate":75,"display_name":"Vibhor Dube"},"score":0,"creation_date":1691130065,"post_id":76802252,"comment_id":135452675,"body_markdown":"The error log is too small to make a conclusion.","body":"The error log is too small to make a conclusion."},{"owner":{"account_id":1491796,"reputation":71,"user_id":1398724,"display_name":"Adam Badura"},"score":0,"creation_date":1691491255,"post_id":76802252,"comment_id":135495783,"body_markdown":"The error in question is identical to this one: https://stackoverflow.com/questions/26924403/regioncacheadapter-unable-to-clear-cache-failed-on-region-null-last-key-null - you should probably follow the advice given there and check the logs for exceptions that may have happened earlier on","body":"The error in question is identical to this one: <a href=\"https://stackoverflow.com/questions/26924403/regioncacheadapter-unable-to-clear-cache-failed-on-region-null-last-key-null\" title=\"regioncacheadapter unable to clear cache failed on region null last key null\">stackoverflow.com/questions/26924403/&hellip;</a> - you should probably follow the advice given there and check the logs for exceptions that may have happened earlier on"}],"owner":{"account_id":28657781,"reputation":1,"user_id":21943359,"display_name":"Lina "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690800503,"creation_date":1690795622,"question_id":76802252,"body_markdown":"I&#39;m working on a project with SAP COMMERCE on Hybris and the server failed to open due to this error\r\n\r\n&gt; ERROR \\[ShutdownHookThread\\] \\[RegionCacheAdapter\\] Unable to clear cache. Failed on region entityCacheRegion. Last key null null\r\n&gt;\r\n&gt; java.lang.IllegalStateException: The entityCacheRegion Cache is not alive (STATUS_SHUTDOWN)\r\n\r\nI tried reinstalling a new license and it didn&#39;t work.\r\n","title":"I wanted to start my server as usual by running ./hybrisserver.show and an error is generated","body":"<p>I'm working on a project with SAP COMMERCE on Hybris and the server failed to open due to this error</p>\n<blockquote>\n<p>ERROR [ShutdownHookThread] [RegionCacheAdapter] Unable to clear cache. Failed on region entityCacheRegion. Last key null null</p>\n<p>java.lang.IllegalStateException: The entityCacheRegion Cache is not alive (STATUS_SHUTDOWN)</p>\n</blockquote>\n<p>I tried reinstalling a new license and it didn't work.</p>\n"},{"tags":["java","generics","lambda","jackson"],"comments":[{"owner":{"account_id":5776494,"reputation":122,"user_id":4558427,"accept_rate":40,"display_name":"Raphallal"},"score":1,"creation_date":1679476556,"post_id":75809944,"comment_id":133727319,"body_markdown":"Wich version of jackson are you using ? I&#39;ve tried both codes, and they both run properly with jackson 2.13.1.","body":"Wich version of jackson are you using ? I&#39;ve tried both codes, and they both run properly with jackson 2.13.1."},{"owner":{"account_id":4807285,"reputation":328,"user_id":3881894,"display_name":"callofdutyops"},"score":0,"creation_date":1679479585,"post_id":75809944,"comment_id":133728060,"body_markdown":"@Raphallal 2.12.5. Sorry for missing this important infomation, I&#39;ve also added this into the question description.","body":"@Raphallal 2.12.5. Sorry for missing this important infomation, I&#39;ve also added this into the question description."},{"owner":{"account_id":39208,"reputation":251260,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1679649809,"post_id":75809944,"comment_id":133762534,"body_markdown":"Have you tried `return this.&lt;T&gt;getCommon(...)`?","body":"Have you tried <code>return this.&lt;T&gt;getCommon(...)</code>?"}],"answers":[{"comments":[{"owner":{"account_id":4807285,"reputation":328,"user_id":3881894,"display_name":"callofdutyops"},"score":0,"creation_date":1679486671,"post_id":75811192,"comment_id":133729834,"body_markdown":"Thanks, this DOES work. But a duplicated type paramter has to be added in the function signature and there&#39;ll be an unchecked warning. :-/ I&#39;m wondering whether there&#39;s a perfect solution.","body":"Thanks, this DOES work. But a duplicated type paramter has to be added in the function signature and there&#39;ll be an unchecked warning. :-/ I&#39;m wondering whether there&#39;s a perfect solution."},{"owner":{"account_id":5776494,"reputation":122,"user_id":4558427,"accept_rate":40,"display_name":"Raphallal"},"score":0,"creation_date":1679489177,"post_id":75811192,"comment_id":133730556,"body_markdown":"With the way generics are implemented in Java, I&#39;m not sure that what you are looking for is possible. The warning comes from the implicit cast from `ArrayList` to `ArrayList&lt;String&gt;`","body":"With the way generics are implemented in Java, I&#39;m not sure that what you are looking for is possible. The warning comes from the implicit cast from <code>ArrayList</code> to <code>ArrayList&lt;String&gt;</code>"}],"tags":[],"owner":{"account_id":5776494,"reputation":122,"user_id":4558427,"accept_rate":40,"display_name":"Raphallal"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679481665,"creation_date":1679481665,"answer_id":75811192,"question_id":75809944,"body_markdown":"After several tests, I was able to reproduce your bug with Java 11. Please note that everything was working fine with Java 17.\r\n\r\nFirst of all, I found [this post][1] that is about a similar problem.\r\n\r\nThen, to solve the problem I specifically passed the class I follow:\r\n\r\n    public static void main(String[] args) {\r\n        String test = &quot;[\\&quot;test\\&quot;]&quot;;\r\n\r\n        List&lt;String&gt; strings = getObjectConfig(test, new ArrayList&lt;String&gt;(), ArrayList.class);\r\n        System.out.println(strings);\r\n    }\r\n\r\n    public static &lt;T&gt; T getObjectConfig(String key, T defaultValue, Class&lt;T&gt; clazz) {\r\n        return getCommon(\r\n                key,\r\n                v -&gt; {\r\n                    if (Objects.isNull(v)) {\r\n                        return defaultValue;\r\n                    } else {\r\n                        try {\r\n                            return new ObjectMapper().readValue(v, clazz);\r\n                        } catch (JsonProcessingException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                    }\r\n                }\r\n        );\r\n    }\r\n\r\n    private static &lt;T&gt; T getCommon(String key, Function&lt;String, T&gt; transFunc) {\r\n        try {\r\n            String value = key;\r\n            return transFunc.apply(value);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\nInstead of using a `TypeReference`, I used a `Class`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/6852184/4558427","title":"Java lambda using TypeReference generic type from outer function paramter throws null exception","body":"<p>After several tests, I was able to reproduce your bug with Java 11. Please note that everything was working fine with Java 17.</p>\n<p>First of all, I found <a href=\"https://stackoverflow.com/a/6852184/4558427\">this post</a> that is about a similar problem.</p>\n<p>Then, to solve the problem I specifically passed the class I follow:</p>\n<pre><code>public static void main(String[] args) {\n    String test = &quot;[\\&quot;test\\&quot;]&quot;;\n\n    List&lt;String&gt; strings = getObjectConfig(test, new ArrayList&lt;String&gt;(), ArrayList.class);\n    System.out.println(strings);\n}\n\npublic static &lt;T&gt; T getObjectConfig(String key, T defaultValue, Class&lt;T&gt; clazz) {\n    return getCommon(\n            key,\n            v -&gt; {\n                if (Objects.isNull(v)) {\n                    return defaultValue;\n                } else {\n                    try {\n                        return new ObjectMapper().readValue(v, clazz);\n                    } catch (JsonProcessingException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n            }\n    );\n}\n\nprivate static &lt;T&gt; T getCommon(String key, Function&lt;String, T&gt; transFunc) {\n    try {\n        String value = key;\n        return transFunc.apply(value);\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>Instead of using a <code>TypeReference</code>, I used a <code>Class</code>.</p>\n"},{"tags":[],"owner":{"account_id":27024975,"reputation":1,"user_id":20582392,"display_name":"yichen"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690799273,"creation_date":1690799273,"answer_id":76802722,"question_id":75809944,"body_markdown":"You can fix it by changing it to:\r\n```\r\nreturn new ObjectMapper().readerFor(defaultValue.getClass()).readValue(v);\r\n```\r\n\r\nnote: if you try some objects that can&#39;t be strongly converted by LinkedHashMap, Then you can see that your second use case will also report an error. And this is caused by java type erasure.","title":"Java lambda using TypeReference generic type from outer function paramter throws null exception","body":"<p>You can fix it by changing it to:</p>\n<pre><code>return new ObjectMapper().readerFor(defaultValue.getClass()).readValue(v);\n</code></pre>\n<p>note: if you try some objects that can't be strongly converted by LinkedHashMap, Then you can see that your second use case will also report an error. And this is caused by java type erasure.</p>\n"}],"owner":{"account_id":4807285,"reputation":328,"user_id":3881894,"display_name":"callofdutyops"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1690799273,"creation_date":1679474079,"question_id":75809944,"body_markdown":"It&#39;ll throw null exception when I use `new TypeReference&lt;T&gt;() {}` in the lambda function and the `T` is from outer functin generic paramter. But it&#39;s OK when this statement is directly write in function. \r\n\r\n- Java version: 8\r\n- Jackson version: 2.12.5\r\n\r\nThere&#39;re minimum runnable code examples blow.\r\n\r\nThis will get `java.lang.IllegalArgumentException: Unrecognized Type: [null]`\r\n\r\n```Java\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.core.type.TypeReference;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\nimport java.util.function.Function;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        String test = &quot;[\\&quot;test\\&quot;]&quot;;\r\n\r\n        List&lt;String&gt; strings = getObjectConfig(test, new ArrayList&lt;&gt;());\r\n        System.out.println(strings);\r\n    }\r\n\r\n    public static &lt;T&gt; T getObjectConfig(String key, T defaultValue) {\r\n        return getCommon(\r\n                key,\r\n                v -&gt; {\r\n                    if (Objects.isNull(v)) {\r\n                        return defaultValue;\r\n                    } else {\r\n                        try {\r\n                            return new ObjectMapper().readValue(v, new TypeReference&lt;T&gt;() {});\r\n                        } catch (JsonProcessingException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                    }\r\n                }\r\n        );\r\n    }\r\n\r\n    private static &lt;T&gt; T getCommon(String key, Function&lt;String, T&gt; transFunc) {\r\n        try {\r\n            String value = key;\r\n            return transFunc.apply(value);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBut this is OK.\r\n```Java\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.core.type.TypeReference;\r\nimport com.fasterxml.jackson.databind.DeserializationFeature;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.SerializationFeature;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        String test = &quot;[\\&quot;test\\&quot;]&quot;;\r\n\r\n        List&lt;String&gt; strings = getObjectConfig(test, new ArrayList&lt;&gt;());\r\n        System.out.println(strings);\r\n    }\r\n\r\n    private static &lt;T&gt; T getObjectConfig(String key, T defaultValue) throws JsonProcessingException {\r\n        return new ObjectMapper().readValue(key, new TypeReference&lt;T&gt;() {});\r\n    }\r\n\r\n}\r\n```","title":"Java lambda using TypeReference generic type from outer function paramter throws null exception","body":"<p>It'll throw null exception when I use <code>new TypeReference&lt;T&gt;() {}</code> in the lambda function and the <code>T</code> is from outer functin generic paramter. But it's OK when this statement is directly write in function.</p>\n<ul>\n<li>Java version: 8</li>\n<li>Jackson version: 2.12.5</li>\n</ul>\n<p>There're minimum runnable code examples blow.</p>\n<p>This will get <code>java.lang.IllegalArgumentException: Unrecognized Type: [null]</code></p>\n<pre><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.core.type.TypeReference;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.function.Function;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        String test = &quot;[\\&quot;test\\&quot;]&quot;;\n\n        List&lt;String&gt; strings = getObjectConfig(test, new ArrayList&lt;&gt;());\n        System.out.println(strings);\n    }\n\n    public static &lt;T&gt; T getObjectConfig(String key, T defaultValue) {\n        return getCommon(\n                key,\n                v -&gt; {\n                    if (Objects.isNull(v)) {\n                        return defaultValue;\n                    } else {\n                        try {\n                            return new ObjectMapper().readValue(v, new TypeReference&lt;T&gt;() {});\n                        } catch (JsonProcessingException e) {\n                            throw new RuntimeException(e);\n                        }\n                    }\n                }\n        );\n    }\n\n    private static &lt;T&gt; T getCommon(String key, Function&lt;String, T&gt; transFunc) {\n        try {\n            String value = key;\n            return transFunc.apply(value);\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>But this is OK.</p>\n<pre><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.core.type.TypeReference;\nimport com.fasterxml.jackson.databind.DeserializationFeature;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializationFeature;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Main {\n\n    public static void main(String[] args) throws Exception {\n        String test = &quot;[\\&quot;test\\&quot;]&quot;;\n\n        List&lt;String&gt; strings = getObjectConfig(test, new ArrayList&lt;&gt;());\n        System.out.println(strings);\n    }\n\n    private static &lt;T&gt; T getObjectConfig(String key, T defaultValue) throws JsonProcessingException {\n        return new ObjectMapper().readValue(key, new TypeReference&lt;T&gt;() {});\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","configurationproperties"],"comments":[{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1690789427,"post_id":76801554,"comment_id":135396562,"body_markdown":"Yes, it should work. Do you have explicit libraries for yaml parsing?","body":"Yes, it should work. Do you have explicit libraries for yaml parsing?"},{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1690789462,"post_id":76801554,"comment_id":135396568,"body_markdown":"first of all, why do you need structure like this ?","body":"first of all, why do you need structure like this ?"},{"owner":{"account_id":5623697,"reputation":480,"user_id":4452737,"display_name":"markus_"},"score":0,"creation_date":1690791605,"post_id":76801554,"comment_id":135396934,"body_markdown":"Thanks for your reply!\n@dcolazin I use only plain spring boot","body":"Thanks for your reply! @dcolazin I use only plain spring boot"},{"owner":{"account_id":5623697,"reputation":480,"user_id":4452737,"display_name":"markus_"},"score":0,"creation_date":1690791612,"post_id":76801554,"comment_id":135396935,"body_markdown":"Thanks for your reply!\n@muhammedozbilici which structures do you mean, binding a map with configuration properties is state of the art spring boot","body":"Thanks for your reply! @muhammedozbilici which structures do you mean, binding a map with configuration properties is state of the art spring boot"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1690794503,"post_id":76801554,"comment_id":135397499,"body_markdown":"*somecloud.someprefix.propertymap* will NOT return everytything underneeth it  as you would expect (rather empty value). You can test this checking what will be bound t o `@Value(${somecloud.someprefix.propertymap})`","body":"<i>somecloud.someprefix.propertymap</i> will NOT return everytything underneeth it  as you would expect (rather empty value). You can test this checking what will be bound t o <code>@Value(${somecloud.someprefix.propertymap})</code>"},{"owner":{"account_id":5623697,"reputation":480,"user_id":4452737,"display_name":"markus_"},"score":0,"creation_date":1690794923,"post_id":76801554,"comment_id":135397581,"body_markdown":"Thank you, yes, I know that and you exactly understood the problem. But do you also have any solutions how one could resolve a map and not only the empty string?","body":"Thank you, yes, I know that and you exactly understood the problem. But do you also have any solutions how one could resolve a map and not only the empty string?"}],"owner":{"account_id":5623697,"reputation":480,"user_id":4452737,"display_name":"markus_"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690797779,"creation_date":1690788949,"question_id":76801554,"body_markdown":"given the following sample class\r\n```\r\n@ConfigurationProperties(&quot;myapp&quot;)\r\npublic class MyProps {\r\n\r\n\tMyProps(Map&lt;String, String&gt; propertymap) {\r\n\t\tSystem.out.println(&quot;propertymap = &quot; + propertymap);\r\n\t}\r\n}\r\n```\r\n\r\nand following application.yml\r\n```\r\nmyapp:\r\n  propertymap:\r\n    a: b\r\n    c: d\r\n```\r\n\r\nEverything works fine.  \r\n\r\nNow I try to do property resolving with the `propertymap` in my yaml and I wonder whether spring boot supports that? I change the yaml file to the following:\r\n\r\n```\r\nsomecloud:\r\n  someprefix:\r\n    propertymap:\r\n      a: b\r\n      b: c\r\n\r\nmyapp:\r\n  propertymap:\r\n    ${somecloud.someprefix.propertymap}\r\n```\r\n\r\nThe application start fails with:\r\n```\r\nFailed to bind properties under &#39;myapp.propertymap&#39; to java.util.Map&lt;java.lang.String, java.lang.String&gt;:\r\n\r\n    Property: myapp.propertymap\r\n    Value: &quot;${somecloud.someprefix.propertymap}&quot;\r\n    Origin: class path resource [application.yml] - 9:5\r\n    Reason: org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.String] to type [java.util.Map&lt;java.lang.String, java.lang.String&gt;]\r\n```\r\n\r\nBasically, I try to resolve the property which normale works like a gem, but in this case the property itself is a map. Does spring boot support &quot;map property resolving&quot; in any way and am I doing it wrong? Or is it simply not supported?\r\n\r\nBackground: I am working in a cloud environment (Cloud Foundy) and the properties are given from the outside. The properties will be prefixed with some cloud stuff (vcap.services) which I want to &quot;rewrite&quot; in my application. Yes, I could use the cloud prefix (&quot;vcap.services....&quot;) directly in my application code, but that would make my application less portable which I want to prevent.\r\n\r\nAny ideas?","title":"Spring Boot configuration properties: Resolve properties that are a map","body":"<p>given the following sample class</p>\n<pre><code>@ConfigurationProperties(&quot;myapp&quot;)\npublic class MyProps {\n\n    MyProps(Map&lt;String, String&gt; propertymap) {\n        System.out.println(&quot;propertymap = &quot; + propertymap);\n    }\n}\n</code></pre>\n<p>and following application.yml</p>\n<pre><code>myapp:\n  propertymap:\n    a: b\n    c: d\n</code></pre>\n<p>Everything works fine.</p>\n<p>Now I try to do property resolving with the <code>propertymap</code> in my yaml and I wonder whether spring boot supports that? I change the yaml file to the following:</p>\n<pre><code>somecloud:\n  someprefix:\n    propertymap:\n      a: b\n      b: c\n\nmyapp:\n  propertymap:\n    ${somecloud.someprefix.propertymap}\n</code></pre>\n<p>The application start fails with:</p>\n<pre><code>Failed to bind properties under 'myapp.propertymap' to java.util.Map&lt;java.lang.String, java.lang.String&gt;:\n\n    Property: myapp.propertymap\n    Value: &quot;${somecloud.someprefix.propertymap}&quot;\n    Origin: class path resource [application.yml] - 9:5\n    Reason: org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.String] to type [java.util.Map&lt;java.lang.String, java.lang.String&gt;]\n</code></pre>\n<p>Basically, I try to resolve the property which normale works like a gem, but in this case the property itself is a map. Does spring boot support &quot;map property resolving&quot; in any way and am I doing it wrong? Or is it simply not supported?</p>\n<p>Background: I am working in a cloud environment (Cloud Foundy) and the properties are given from the outside. The properties will be prefixed with some cloud stuff (vcap.services) which I want to &quot;rewrite&quot; in my application. Yes, I could use the cloud prefix (&quot;vcap.services....&quot;) directly in my application code, but that would make my application less portable which I want to prevent.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","remote-access","httpinvoker","remote-client"],"owner":{"account_id":9856270,"reputation":15,"user_id":7300656,"display_name":"stupiddunkey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690797671,"creation_date":1690797671,"question_id":76802530,"body_markdown":"An error occurs while developing a client-side remote service. and i&#39;ve found A package/class POJO name that does not exist in the new project (but still exists in the old project/server) from error Message . Is this cause a package name difference? If so, how can I remoteize this service?\r\n\r\n\r\n**error message**\r\n```\r\norg.springframework.remoting.RemoteAccessException: Could not deserialize result from HTTP invoker remote service [http://---------/SERVICENAME.http]; nested exception is java.lang.ClassNotFoundException: COM.OLD.CLASS.POJO\r\n\tat org.springframework.remoting.httpinvoker.HttpInvokerClientInterceptor.convertHttpInvokerAccessException(HttpInvokerClientInterceptor.java:226)\r\n\tat org.springframework.remoting.httpinvoker.HttpInvokerClientInterceptor.invoke(HttpInvokerClientInterceptor.java:157)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy2298.eaiConn(Unknown Source)\r\n\t....\r\n\tat com.mois.app.idm.am.client.ApigSvcClient$$FastClassBySpringCGLIB$$2b64bddf.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n\tat org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)\r\n\tat org.springframework.aop.interceptor.AsyncExecutionAspectSupport.lambda$doSubmit$3(AsyncExecutionAspectSupport.java:276)\r\n\tat java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.ClassNotFoundException: COM.OLD.CLASS.POJO\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:419)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:352)\r\n\tat org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:144)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:352)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:348)\r\n\tat org.springframework.util.ClassUtils.forName(ClassUtils.java:284)\r\n\tat org.springframework.core.ConfigurableObjectInputStream.resolveClass(ConfigurableObjectInputStream.java:76)\r\n\tat java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1986)\r\n\tat java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1850)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2160)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1667)\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2405)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2329)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2187)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1667)\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:503)\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:461)\r\n\tat org.springframework.remoting.httpinvoker.AbstractHttpInvokerRequestExecutor.doReadRemoteInvocationResult(AbstractHttpInvokerRequestExecutor.java:290)\r\n\tat org.springframework.remoting.httpinvoker.AbstractHttpInvokerRequestExecutor.readRemoteInvocationResult(AbstractHttpInvokerRequestExecutor.java:244)\r\n\tat org.springframework.remoting.httpinvoker.SimpleHttpInvokerRequestExecutor.doExecuteRequest(SimpleHttpInvokerRequestExecutor.java:94)\r\n\tat org.springframework.remoting.httpinvoker.AbstractHttpInvokerRequestExecutor.executeRequest(AbstractHttpInvokerRequestExecutor.java:140)\r\n\tat org.springframework.remoting.httpinvoker.HttpInvokerClientInterceptor.executeRequest(HttpInvokerClientInterceptor.java:206)\r\n\tat org.springframework.remoting.httpinvoker.HttpInvokerClientInterceptor.executeRequest(HttpInvokerClientInterceptor.java:188)\r\n\tat org.springframework.remoting.httpinvoker.HttpInvokerClientInterceptor.invoke(HttpInvokerClientInterceptor.java:154)\r\n\t... 16 more\r\n```\r\n\r\n**Remote Service**\r\n```\r\n@Configuration\r\npublic class service{\r\n    \r\n    @Bean\r\n    public HttpInvokerProxyFactoryBean CService() {\r\n        HttpInvokerProxyFactoryBean httpInvoker = new HttpInvokerProxyFactoryBean();\r\n        httpInvoker.setServiceInterface(AInterface.class);\r\n        httpInvoker.setServiceUrl(&quot;http://-----------/SERVICENAME.http&quot;); \r\n        httpInvoker.afterPropertiesSet(); \r\n                \r\n        return httpInvoker;\r\n    }\r\n    \r\n}\r\n```\r\n\r\n**Interface and POJOS**\r\n```\r\n@Service\r\n\r\npublic Interface AInterface {\r\n\r\n\tpublic POJO method(...)\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\npublic class POJO implements Serializable {\r\n\r\n\t...\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nyour help would be much appreciated, thank you.\r\n","title":"HTTP invoker remote won&#39;t work if client/Server has different package name?","body":"<p>An error occurs while developing a client-side remote service. and i've found A package/class POJO name that does not exist in the new project (but still exists in the old project/server) from error Message . Is this cause a package name difference? If so, how can I remoteize this service?</p>\n<p><strong>error message</strong></p>\n<pre><code>org.springframework.remoting.RemoteAccessException: Could not deserialize result from HTTP invoker remote service [http://---------/SERVICENAME.http]; nested exception is java.lang.ClassNotFoundException: COM.OLD.CLASS.POJO\n    at org.springframework.remoting.httpinvoker.HttpInvokerClientInterceptor.convertHttpInvokerAccessException(HttpInvokerClientInterceptor.java:226)\n    at org.springframework.remoting.httpinvoker.HttpInvokerClientInterceptor.invoke(HttpInvokerClientInterceptor.java:157)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\n    at com.sun.proxy.$Proxy2298.eaiConn(Unknown Source)\n    ....\n    at com.mois.app.idm.am.client.ApigSvcClient$$FastClassBySpringCGLIB$$2b64bddf.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n    at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)\n    at org.springframework.aop.interceptor.AsyncExecutionAspectSupport.lambda$doSubmit$3(AsyncExecutionAspectSupport.java:276)\n    at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.ClassNotFoundException: COM.OLD.CLASS.POJO\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:419)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:352)\n    at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:144)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:352)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:348)\n    at org.springframework.util.ClassUtils.forName(ClassUtils.java:284)\n    at org.springframework.core.ConfigurableObjectInputStream.resolveClass(ConfigurableObjectInputStream.java:76)\n    at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1986)\n    at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1850)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2160)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1667)\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2405)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2329)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2187)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1667)\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:503)\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:461)\n    at org.springframework.remoting.httpinvoker.AbstractHttpInvokerRequestExecutor.doReadRemoteInvocationResult(AbstractHttpInvokerRequestExecutor.java:290)\n    at org.springframework.remoting.httpinvoker.AbstractHttpInvokerRequestExecutor.readRemoteInvocationResult(AbstractHttpInvokerRequestExecutor.java:244)\n    at org.springframework.remoting.httpinvoker.SimpleHttpInvokerRequestExecutor.doExecuteRequest(SimpleHttpInvokerRequestExecutor.java:94)\n    at org.springframework.remoting.httpinvoker.AbstractHttpInvokerRequestExecutor.executeRequest(AbstractHttpInvokerRequestExecutor.java:140)\n    at org.springframework.remoting.httpinvoker.HttpInvokerClientInterceptor.executeRequest(HttpInvokerClientInterceptor.java:206)\n    at org.springframework.remoting.httpinvoker.HttpInvokerClientInterceptor.executeRequest(HttpInvokerClientInterceptor.java:188)\n    at org.springframework.remoting.httpinvoker.HttpInvokerClientInterceptor.invoke(HttpInvokerClientInterceptor.java:154)\n    ... 16 more\n</code></pre>\n<p><strong>Remote Service</strong></p>\n<pre><code>@Configuration\npublic class service{\n    \n    @Bean\n    public HttpInvokerProxyFactoryBean CService() {\n        HttpInvokerProxyFactoryBean httpInvoker = new HttpInvokerProxyFactoryBean();\n        httpInvoker.setServiceInterface(AInterface.class);\n        httpInvoker.setServiceUrl(&quot;http://-----------/SERVICENAME.http&quot;); \n        httpInvoker.afterPropertiesSet(); \n                \n        return httpInvoker;\n    }\n    \n}\n</code></pre>\n<p><strong>Interface and POJOS</strong></p>\n<pre><code>@Service\n\npublic Interface AInterface {\n\n    public POJO method(...)\n\n\n}\n\n\n\n\npublic class POJO implements Serializable {\n\n    ...\n\n}\n\n</code></pre>\n<p>your help would be much appreciated, thank you.</p>\n"},{"tags":["java","spring-boot","junit","mockito","completable-future"],"answers":[{"comments":[{"owner":{"account_id":1090772,"reputation":175,"user_id":1085459,"accept_rate":60,"display_name":"rakesh"},"score":0,"creation_date":1660299747,"post_id":73332488,"comment_id":129505486,"body_markdown":"I modified the code but getting NPE now.\n\n\n`CompletableFuture&lt;User&gt; userFuture = CompletableFuture.completedFuture(User.builder().build());\n\n        CompletableFuture&lt;List&lt;UserEntity&gt;&gt; userEntityFuture = CompletableFuture.completedFuture(List.of(UserEntity.builder().build()));\n\n\nMockito.when(userService.getUser(anyString())).thenReturn(userFuture);\n        \n\nMockito.when(userEntityService.getUserEntities(anyLong())).thenReturn(userEntityFuture);\n\n\nvalidationService.validateUserCounterparty(request);`","body":"I modified the code but getting NPE now.   <code>CompletableFuture&lt;User&gt; userFuture = CompletableFuture.completedFuture(User.builder().build());          CompletableFuture&lt;List&lt;UserEntity&gt;&gt; userEntityFuture = CompletableFuture.completedFuture(List.of(UserEntity.builder&zwnj;&#8203;().build()));   Mockito.when(userService.getUser(anyString())).thenReturn(us&zwnj;&#8203;erFuture);           Mockito.when(userEntityService.getUserEntities(anyLong())).t&zwnj;&#8203;henReturn(userEntity&zwnj;&#8203;Future);   validationService.validateUserCounterparty(request);</code>"},{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1660300233,"post_id":73332488,"comment_id":129505622,"body_markdown":"Where is the NPE thrown? Did you set all values required to avoid NPE?","body":"Where is the NPE thrown? Did you set all values required to avoid NPE?"},{"owner":{"account_id":1090772,"reputation":175,"user_id":1085459,"accept_rate":60,"display_name":"rakesh"},"score":0,"creation_date":1660300931,"post_id":73332488,"comment_id":129505853,"body_markdown":"nvm... the NPE was happening because of `new User()`. after populating it, the code worked. thanks for the help","body":"nvm... the NPE was happening because of <code>new User()</code>. after populating it, the code worked. thanks for the help"},{"owner":{"account_id":5640896,"reputation":187,"user_id":4464806,"display_name":"Abhinash Jha"},"score":0,"creation_date":1684732542,"post_id":73332488,"comment_id":134554162,"body_markdown":"@Jonasz can you please look at this question - https://stackoverflow.com/questions/76298136/null-value-is-populated-to-completablefuture-variable-and-method-within-completa . I did similar to your answer, but the value of CompletableFuture is null in main class.","body":"@Jonasz can you please look at this question - <a href=\"https://stackoverflow.com/questions/76298136/null-value-is-populated-to-completablefuture-variable-and-method-within-completa\" title=\"null value is populated to completablefuture variable and method within completa\">stackoverflow.com/questions/76298136/&hellip;</a> . I did similar to your answer, but the value of CompletableFuture is null in main class."}],"tags":[],"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1660298957,"creation_date":1660298957,"answer_id":73332488,"question_id":73332148,"body_markdown":"In your test method you&#39;re creating `CompletableFuture` instances using `new`. [JavaDoc states][1]:\r\n\r\n&gt; public CompletableFuture()\r\n&gt;\r\n&gt; Creates a new incomplete CompletableFuture.\r\n\r\nSo the objects you&#39;re creating are never completing, that&#39;s why the test is running infinitely. It&#39;s not actually a loop, but waiting on a blocking operation to be finished, which never happens.\r\n\r\nWhat you need to do is define a `CompletableFuture` that completes - immediately or after some time. The simplest way of doing that is by using [the static completedFuture() method][2]:\r\n```java\r\nCompletableFuture&lt;User&gt; userFuture =\r\n        CompletableFuture.completedFuture(new User());\r\nCompletableFuture&lt;List&lt;UserEntity&gt;&gt; userEntityFuture =\r\n        CompletableFuture.completedFuture(List.of(new UserEntity()));\r\n```  \r\nThanks to that given objects are returned and the code can be executed fully. You can test errors in a similar way by using [the failedFuture() method][3].\r\n\r\n---\r\n\r\nI&#39;ve created [a GitHub repo with a minimal reproducible example][4] - the test presented there passes.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html#completedFuture(U)\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html#failedFuture(java.lang.Throwable)\r\n  [4]: https://github.com/Jonarzz/stack-overflow/blob/73332148/src/test/java/io/github/jonarzz/UserValidationServiceTest.java#L31","title":"Testing CompletableFuture.supplyAsync with Mockito","body":"<p>In your test method you're creating <code>CompletableFuture</code> instances using <code>new</code>. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html\" rel=\"nofollow noreferrer\">JavaDoc states</a>:</p>\n<blockquote>\n<p>public CompletableFuture()</p>\n<p>Creates a new incomplete CompletableFuture.</p>\n</blockquote>\n<p>So the objects you're creating are never completing, that's why the test is running infinitely. It's not actually a loop, but waiting on a blocking operation to be finished, which never happens.</p>\n<p>What you need to do is define a <code>CompletableFuture</code> that completes - immediately or after some time. The simplest way of doing that is by using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html#completedFuture(U)\" rel=\"nofollow noreferrer\">the static completedFuture() method</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;User&gt; userFuture =\n        CompletableFuture.completedFuture(new User());\nCompletableFuture&lt;List&lt;UserEntity&gt;&gt; userEntityFuture =\n        CompletableFuture.completedFuture(List.of(new UserEntity()));\n</code></pre>\n<p>Thanks to that given objects are returned and the code can be executed fully. You can test errors in a similar way by using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html#failedFuture(java.lang.Throwable)\" rel=\"nofollow noreferrer\">the failedFuture() method</a>.</p>\n<hr />\n<p>I've created <a href=\"https://github.com/Jonarzz/stack-overflow/blob/73332148/src/test/java/io/github/jonarzz/UserValidationServiceTest.java#L31\" rel=\"nofollow noreferrer\">a GitHub repo with a minimal reproducible example</a> - the test presented there passes.</p>\n"},{"tags":[],"owner":{"account_id":6478770,"reputation":1592,"user_id":5016540,"accept_rate":67,"display_name":"thangdc94"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690797574,"creation_date":1690797199,"answer_id":76802466,"question_id":73332148,"body_markdown":"I faced the same issue today.\r\n@Jonasz&#39;s answer only works if you can mock the method in `getUserEntities()` and `getUser()`. But what if we have logics inside these methods and we still want unittest run through these methods.\r\n\r\nMy solution is to change behavior for `CompletableFuture.supplyAsync()` from async to sync by using static mock\r\n\r\n```\r\nmockStatic(CompletableFuture.class, invoca -&gt; {\r\n    if (invoca.getMethod().getName().equals(&quot;supplyAsync&quot;)) {\r\n        Supplier&lt;?&gt; supplier = invoca.getArgument(0);\r\n        return CompletableFuture.completedFuture(supplier.get());\r\n    }\r\n    return invoca.callRealMethod();\r\n});\r\n```\r\n\r\nWith this solution, I can run code inside async block and generic it for all `CompletableFuture` types\r\n\r\nTo use Static mock, you need to enable mock-inline. https://davidvlijmincx.com/posts/mockito_mock_static_method/","title":"Testing CompletableFuture.supplyAsync with Mockito","body":"<p>I faced the same issue today.\n@Jonasz's answer only works if you can mock the method in <code>getUserEntities()</code> and <code>getUser()</code>. But what if we have logics inside these methods and we still want unittest run through these methods.</p>\n<p>My solution is to change behavior for <code>CompletableFuture.supplyAsync()</code> from async to sync by using static mock</p>\n<pre><code>mockStatic(CompletableFuture.class, invoca -&gt; {\n    if (invoca.getMethod().getName().equals(&quot;supplyAsync&quot;)) {\n        Supplier&lt;?&gt; supplier = invoca.getArgument(0);\n        return CompletableFuture.completedFuture(supplier.get());\n    }\n    return invoca.callRealMethod();\n});\n</code></pre>\n<p>With this solution, I can run code inside async block and generic it for all <code>CompletableFuture</code> types</p>\n<p>To use Static mock, you need to enable mock-inline. <a href=\"https://davidvlijmincx.com/posts/mockito_mock_static_method/\" rel=\"nofollow noreferrer\">https://davidvlijmincx.com/posts/mockito_mock_static_method/</a></p>\n"}],"owner":{"account_id":1090772,"reputation":175,"user_id":1085459,"accept_rate":60,"display_name":"rakesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7443,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73332488,"answer_count":2,"score":2,"last_activity_date":1690797574,"creation_date":1660297153,"question_id":73332148,"body_markdown":"I am trying to test CompletableFuture.supplyAsync function with mockito but the test is not completing probably because the completable future is not returning. I am not sure what I am missing in the code. Can anyone please help.\r\n\r\nI have written the code as follows.\r\nSo there are UserService class which returns User, UserEntityService class which returns users entities and a validation class to check if the entities belongs to the user or not.\r\n\r\nI want to test if the passed entities belongs to user or not.\r\n\r\n```\r\nclass UserService {\r\n\r\n    CompletableFuture&lt;User&gt; getUser(String userName) {\r\n        log.info(&quot;Fetching User with username {}&quot;, userName);\r\n        return CompletableFuture.supplyAsync(\r\n                () -&gt; getUserByPortalUserName(userName));\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\nclass UserEntityService {\r\n\r\n    CompletableFuture&lt;List&lt;UserEntity&gt;&gt; getUserEntities(Long userId) {\r\n        log.info(&quot;Retrieving all entities for user id {}&quot;, userId);\r\n        return CompletableFuture.supplyAsync(\r\n                () -&gt; getAllByUserId(userId));\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\nclass UserValidationService {\r\n\r\n    public boolean validateUserCounterparty(UserRequest request) \r\n                   throws ExecutionException, InterruptedException {\r\n        CompletableFuture&lt;Boolean&gt; result = userService.getUser(request.getUserName())\r\n                .thenCompose(user -&gt; userEntityService.getUserEntities(user.getUserId()))\r\n                .thenCompose(userEntities -&gt; validate(userEntities, request.getUserEntities()));\r\n\r\n        Boolean validationStatus = result.get();\r\n        if (!validationStatus) {\r\n            log.error(&quot;Validation failed for user name {}&quot;, request.getUserName());\r\n        }\r\n        return validationStatus;\r\n    }\r\n}\r\n```\r\n\r\nAnd the test case is written as\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\nclass UserValidationServiceTest {\r\n\r\n    @Mock\r\n    UserService userService;\r\n\r\n    @Mock\r\n    UserEntityService userEntityService;\r\n\r\n    @InjectMocks\r\n    UserValidationService userValidationService;\r\n\r\n    @Before\r\n    public void init() {\r\n        MockitoAnnotations.openMocks(this);\r\n    }\r\n\r\n    @Test\r\n    public void validateUser() throws ExecutionException, InterruptedException {\r\n        CompletableFuture&lt;User&gt; userFuture = new CompletableFuture&lt;&gt;();\r\n        CompletableFuture&lt;List&lt;UserEntity&gt;&gt; userEntityFuture = new CompletableFuture&lt;&gt;();\r\n\r\n        Mockito.doReturn(userFuture).when(userService).getUser(anyString());\r\n        Mockito.doReturn(userEntityFuture).when(userEntityService).getUserEntities(anyLong());\r\n\r\n        UserRequest request = UserRequest.builder()\r\n                .userName(&quot;admin&quot;)\r\n                .userEntities(List.of(&quot;US&quot;, &quot;ASIA&quot;, &quot;EUROPE&quot;)).build();\r\n\r\n\r\n        boolean result = validationService.validateUserCounterparty(request);\r\n        assertTrue(result);\r\n\r\n    }\r\n}\r\n```\r\n\r\nOn executing this test, it goes into infinite loop and never stops. I guess its because the completable future is not returning but I dont have enough knowledge on how to prevent it.\r\n\r\nWhat modification should I do to prevent it?","title":"Testing CompletableFuture.supplyAsync with Mockito","body":"<p>I am trying to test CompletableFuture.supplyAsync function with mockito but the test is not completing probably because the completable future is not returning. I am not sure what I am missing in the code. Can anyone please help.</p>\n<p>I have written the code as follows.\nSo there are UserService class which returns User, UserEntityService class which returns users entities and a validation class to check if the entities belongs to the user or not.</p>\n<p>I want to test if the passed entities belongs to user or not.</p>\n<pre><code>class UserService {\n\n    CompletableFuture&lt;User&gt; getUser(String userName) {\n        log.info(&quot;Fetching User with username {}&quot;, userName);\n        return CompletableFuture.supplyAsync(\n                () -&gt; getUserByPortalUserName(userName));\n    }\n}\n</code></pre>\n<pre><code>class UserEntityService {\n\n    CompletableFuture&lt;List&lt;UserEntity&gt;&gt; getUserEntities(Long userId) {\n        log.info(&quot;Retrieving all entities for user id {}&quot;, userId);\n        return CompletableFuture.supplyAsync(\n                () -&gt; getAllByUserId(userId));\n    }\n}\n</code></pre>\n<pre><code>class UserValidationService {\n\n    public boolean validateUserCounterparty(UserRequest request) \n                   throws ExecutionException, InterruptedException {\n        CompletableFuture&lt;Boolean&gt; result = userService.getUser(request.getUserName())\n                .thenCompose(user -&gt; userEntityService.getUserEntities(user.getUserId()))\n                .thenCompose(userEntities -&gt; validate(userEntities, request.getUserEntities()));\n\n        Boolean validationStatus = result.get();\n        if (!validationStatus) {\n            log.error(&quot;Validation failed for user name {}&quot;, request.getUserName());\n        }\n        return validationStatus;\n    }\n}\n</code></pre>\n<p>And the test case is written as</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass UserValidationServiceTest {\n\n    @Mock\n    UserService userService;\n\n    @Mock\n    UserEntityService userEntityService;\n\n    @InjectMocks\n    UserValidationService userValidationService;\n\n    @Before\n    public void init() {\n        MockitoAnnotations.openMocks(this);\n    }\n\n    @Test\n    public void validateUser() throws ExecutionException, InterruptedException {\n        CompletableFuture&lt;User&gt; userFuture = new CompletableFuture&lt;&gt;();\n        CompletableFuture&lt;List&lt;UserEntity&gt;&gt; userEntityFuture = new CompletableFuture&lt;&gt;();\n\n        Mockito.doReturn(userFuture).when(userService).getUser(anyString());\n        Mockito.doReturn(userEntityFuture).when(userEntityService).getUserEntities(anyLong());\n\n        UserRequest request = UserRequest.builder()\n                .userName(&quot;admin&quot;)\n                .userEntities(List.of(&quot;US&quot;, &quot;ASIA&quot;, &quot;EUROPE&quot;)).build();\n\n\n        boolean result = validationService.validateUserCounterparty(request);\n        assertTrue(result);\n\n    }\n}\n</code></pre>\n<p>On executing this test, it goes into infinite loop and never stops. I guess its because the completable future is not returning but I dont have enough knowledge on how to prevent it.</p>\n<p>What modification should I do to prevent it?</p>\n"},{"tags":["java","spring","gradle","intellij-idea","module"],"comments":[{"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"score":0,"creation_date":1593592100,"post_id":62672357,"comment_id":110831792,"body_markdown":"try renaming directory and and add same name in setting.gradle and finally try reimporting project","body":"try renaming directory and and add same name in setting.gradle and finally try reimporting project"}],"answers":[{"tags":[],"owner":{"account_id":18675034,"reputation":107,"user_id":13612900,"display_name":"Sheena"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1593592162,"creation_date":1593592162,"answer_id":62672739,"question_id":62672357,"body_markdown":"I&#39;m not familiar with grandle.  \r\nBut there ist a way that worked for me in IntelliJ:   \r\n  \r\nFile &gt; Project Structure &gt; Project &gt; Project Name  \r\n(Alternative Strg-Shift-Alt-S) &gt; Project &gt; Project Name\r\n\r\nMaybe this can help you","title":"Rename the root module of my project in Intellij","body":"<p>I'm not familiar with grandle.<br />\nBut there ist a way that worked for me in IntelliJ:</p>\n<p>File &gt; Project Structure &gt; Project &gt; Project Name<br />\n(Alternative Strg-Shift-Alt-S) &gt; Project &gt; Project Name</p>\n<p>Maybe this can help you</p>\n"},{"tags":[],"owner":{"account_id":19602556,"reputation":461,"user_id":14347023,"display_name":"iamgrodrigues"},"comment_count":0,"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1665458793,"creation_date":1608990784,"answer_id":65457072,"question_id":62672357,"body_markdown":"You can rename the root module of your java project, following these steps:\r\n\r\nGo to Project Structure (`Ctrl`+`Alt`+`Shift`+`S`) → `Project Settings / Project → Project name:`\r\n![Project name:][1]\r\n\r\nOpen the settings.gradle file and rename the rootProject.name\r\n![rootProject.name][2]\r\n\r\nOnce done, delete the .idea folder from your root project folder, rename your project folder on your system and then restart IntelliJ. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AtlaV.png\r\n  [2]: https://i.stack.imgur.com/kqzcd.png","title":"Rename the root module of my project in Intellij","body":"<p>You can rename the root module of your java project, following these steps:</p>\n<p>Go to Project Structure (<code>Ctrl</code>+<code>Alt</code>+<code>Shift</code>+<code>S</code>) → <code>Project Settings / Project → Project name:</code>\n<img src=\"https://i.stack.imgur.com/AtlaV.png\" alt=\"Project name:\" /></p>\n<p>Open the settings.gradle file and rename the rootProject.name\n<img src=\"https://i.stack.imgur.com/kqzcd.png\" alt=\"rootProject.name\" /></p>\n<p>Once done, delete the .idea folder from your root project folder, rename your project folder on your system and then restart IntelliJ.</p>\n"},{"tags":[],"owner":{"account_id":20658918,"reputation":1,"user_id":15167305,"display_name":"wangdao"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612770647,"creation_date":1612770647,"answer_id":66097667,"question_id":62672357,"body_markdown":"You can rename the directory&#39;s name and restart idea.","title":"Rename the root module of my project in Intellij","body":"<p>You can rename the directory's name and restart idea.</p>\n"},{"comments":[{"owner":{"account_id":444824,"reputation":929,"user_id":836890,"accept_rate":100,"display_name":"Chandan Pasunoori"},"score":1,"creation_date":1624837318,"post_id":68148782,"comment_id":120458808,"body_markdown":"spring with gradle needs to change in settings.gradle, this answer is not complete","body":"spring with gradle needs to change in settings.gradle, this answer is not complete"}],"tags":[],"owner":{"account_id":18114104,"reputation":1,"user_id":13170944,"display_name":"URTOJU"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624777414,"creation_date":1624777414,"answer_id":68148782,"question_id":62672357,"body_markdown":"Close the project and rename files in .idea/modules, than you can also rename the root folder and just open it again.","title":"Rename the root module of my project in Intellij","body":"<p>Close the project and rename files in .idea/modules, than you can also rename the root folder and just open it again.</p>\n"},{"tags":[],"owner":{"account_id":29127598,"reputation":1,"user_id":22313590,"display_name":"Kjell"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690797056,"creation_date":1690797056,"answer_id":76802446,"question_id":62672357,"body_markdown":"You need to update rootProject.name in the file settings.gradle.kts if it&#39;s a kotlin gradle project. Otherwise the corresponding files in maven projects.","title":"Rename the root module of my project in Intellij","body":"<p>You need to update rootProject.name in the file settings.gradle.kts if it's a kotlin gradle project. Otherwise the corresponding files in maven projects.</p>\n"}],"owner":{"account_id":17574559,"reputation":151,"user_id":12749614,"display_name":"java_0100"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17276,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":5,"score":13,"last_activity_date":1690797056,"creation_date":1593590803,"question_id":62672357,"body_markdown":"I want to rename the root module of my java project, however I&#39;m getting an error &quot;Can&#39;t rename root module&quot;. I&#39;m using Intellij Idea 2019.3.2.\r\nI&#39;m also using gradle as the build tool. ","title":"Rename the root module of my project in Intellij","body":"<p>I want to rename the root module of my java project, however I'm getting an error &quot;Can't rename root module&quot;. I'm using Intellij Idea 2019.3.2.\nI'm also using gradle as the build tool.</p>\n"},{"tags":["java","jira","jira-rest-api","cucumber-java","jira-xray"],"comments":[{"owner":{"account_id":21004052,"reputation":381,"user_id":15434268,"display_name":"Cristiano Cunha"},"score":0,"creation_date":1690194950,"post_id":76747833,"comment_id":135314617,"body_markdown":"I have some questions in order to be able to help: 1- Are you using Cloud or Server version of Jira? 2- What framework/tool you are using to execute the tests and generate the results file? 3- Can you share the results file (after cleaning it of any sensible information)?","body":"I have some questions in order to be able to help: 1- Are you using Cloud or Server version of Jira? 2- What framework/tool you are using to execute the tests and generate the results file? 3- Can you share the results file (after cleaning it of any sensible information)?"},{"owner":{"account_id":27380609,"reputation":1,"user_id":20885271,"display_name":"shi"},"score":0,"creation_date":1690711826,"post_id":76747833,"comment_id":135389038,"body_markdown":"1.2. I am using the cucumber framework to generate the result test in json formatt        \n3..","body":"1.2. I am using the cucumber framework to generate the result test in json formatt         3.."}],"answers":[{"comments":[{"owner":{"account_id":27380609,"reputation":1,"user_id":20885271,"display_name":"shi"},"score":0,"creation_date":1691932577,"post_id":76802432,"comment_id":135554970,"body_markdown":"Hello Sergio,\nthank you for your answer, In my test execution issues there is QA Assignee and not","body":"Hello Sergio, thank you for your answer, In my test execution issues there is QA Assignee and not"},{"owner":{"account_id":3396772,"reputation":1874,"user_id":2850180,"display_name":"S&#233;rgio"},"score":0,"creation_date":1692002672,"post_id":76802432,"comment_id":135561912,"body_markdown":"@shi, so you were able to solve it?","body":"@shi, so you were able to solve it?"},{"owner":{"account_id":27380609,"reputation":1,"user_id":20885271,"display_name":"shi"},"score":0,"creation_date":1692022867,"post_id":76802432,"comment_id":135565971,"body_markdown":"No, in my Jira project, I already have Assigne in test execution but we are calling this label, QA Assignee. Do you think this is the problem and I need to change it from QA Assignee to Assignee?","body":"No, in my Jira project, I already have Assigne in test execution but we are calling this label, QA Assignee. Do you think this is the problem and I need to change it from QA Assignee to Assignee?"},{"owner":{"account_id":3396772,"reputation":1874,"user_id":2850180,"display_name":"S&#233;rgio"},"score":0,"creation_date":1692043733,"post_id":76802432,"comment_id":135569772,"body_markdown":"Hmm I&#39;m not sure; you can try it out and see if works. Assignee is a field that exists in Jira by default and usually don&#39;t change it..","body":"Hmm I&#39;m not sure; you can try it out and see if works. Assignee is a field that exists in Jira by default and usually don&#39;t change it.."}],"tags":[],"owner":{"account_id":3396772,"reputation":1874,"user_id":2850180,"display_name":"S&#233;rgio"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690796977,"creation_date":1690796977,"answer_id":76802432,"question_id":76747833,"body_markdown":"It seems a Jira configuration issue related to the screen configuration associated with Test Execution issues.\r\nPlease check with your Jira administrator that you can manually create Test Execution issues (you can try to create one by yourself) and that you see the &quot;Assignee&quot; field on the dialog.\r\n\r\n[![Test Execution issue creation dialog][1]][1] \r\n\r\nIf you don&#39;t see it, then use the options on the creation dialog to see if you can add it.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nIf not, the project administrator can go to the project settings =&gt; Issues =&gt; Screens and then edit the corresponding Create and Edit issue screen that are associated to the Test Execution issue type.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nNote: the &quot;Assignee&quot; should also appear on the view screen of Test Execution issues.\r\n\r\n[![Test Execution issue view screen][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HuOY6.png\r\n  [2]: https://i.stack.imgur.com/HOa4y.png\r\n  [3]: https://i.stack.imgur.com/oSDR4.png\r\n  [4]: https://i.stack.imgur.com/HTfYW.png","title":"Error in Xray Rest API Request to execution cucumber Json result test in Jira","body":"<p>It seems a Jira configuration issue related to the screen configuration associated with Test Execution issues.\nPlease check with your Jira administrator that you can manually create Test Execution issues (you can try to create one by yourself) and that you see the &quot;Assignee&quot; field on the dialog.</p>\n<p><a href=\"https://i.stack.imgur.com/HuOY6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HuOY6.png\" alt=\"Test Execution issue creation dialog\" /></a></p>\n<p>If you don't see it, then use the options on the creation dialog to see if you can add it.</p>\n<p><a href=\"https://i.stack.imgur.com/HOa4y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HOa4y.png\" alt=\"enter image description here\" /></a></p>\n<p>If not, the project administrator can go to the project settings =&gt; Issues =&gt; Screens and then edit the corresponding Create and Edit issue screen that are associated to the Test Execution issue type.</p>\n<p><a href=\"https://i.stack.imgur.com/oSDR4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oSDR4.png\" alt=\"enter image description here\" /></a></p>\n<p>Note: the &quot;Assignee&quot; should also appear on the view screen of Test Execution issues.</p>\n<p><a href=\"https://i.stack.imgur.com/HTfYW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HTfYW.png\" alt=\"Test Execution issue view screen\" /></a></p>\n"}],"owner":{"account_id":27380609,"reputation":1,"user_id":20885271,"display_name":"shi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":277,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690796977,"creation_date":1690109432,"question_id":76747833,"body_markdown":"I am trying to send api request using:\r\n\r\n```\r\n`curl --location &#39;https://xray.cloud.getxray.app/api/v1/import/execution/cucumber&#39; \\\r\n--header &#39;Authorization: Bearer $token&#39; \\\r\n--header &#39;Content-Type: application/json&#39; \\\r\n--data &#39;**jsonresulttest**&#39;`\r\n```\r\n\r\nI am sending with the correct token \r\nand adding the json result test for the body api request \r\n\r\nI generated the json result test in TestRunner class: \r\n```\r\n@Service\r\n@RunWith(Cucumber.class)\r\n@CucumberOptions(features = &quot;src/test/java/resources&quot;,\r\n        glue = &quot;classpath:com.gth.automation&quot;,\r\n        tags = &quot;@GTH-25068&quot;,\r\n        plugin = {&quot;json:target/cucumber-report.json&quot;, &quot;pretty&quot;,&quot;html:target/cucumber-reports&quot;},\r\n        monochrome = true,\r\n        publish = false)\r\npublic class TestRunner {\r\n}\r\n```\r\n\r\nAdding the result test json from the file target/cucumber-report.json.\r\nbut I am getting an error from Postman:\r\n```\r\n\r\n{\r\n    &quot;error&quot;: &quot;Error creating Test Execution - Issue create failed! - assignee: Field &#39;assignee&#39; cannot be set. It is not on the appropriate screen, or unknown.&quot;\r\n}\r\n```\r\n\r\nI think the structure that is generated in target/cucumber-report.json has a different structure than the Xray API call that is accepted to get.\r\nI need help in figuring out how can I produce the correct json structure for the API request  \r\n```\r\n**POST /rest/raven/1.0/import/execution/cucumber**\r\n```\r\nthanks.\r\n\r\n\r\nI trying to send Correct API request to \r\n```\r\nPOST /rest/raven/1.0/import/execution/cucumber/multipart\r\n```","title":"Error in Xray Rest API Request to execution cucumber Json result test in Jira","body":"<p>I am trying to send api request using:</p>\n<pre><code>`curl --location 'https://xray.cloud.getxray.app/api/v1/import/execution/cucumber' \\\n--header 'Authorization: Bearer $token' \\\n--header 'Content-Type: application/json' \\\n--data '**jsonresulttest**'`\n</code></pre>\n<p>I am sending with the correct token\nand adding the json result test for the body api request</p>\n<p>I generated the json result test in TestRunner class:</p>\n<pre><code>@Service\n@RunWith(Cucumber.class)\n@CucumberOptions(features = &quot;src/test/java/resources&quot;,\n        glue = &quot;classpath:com.gth.automation&quot;,\n        tags = &quot;@GTH-25068&quot;,\n        plugin = {&quot;json:target/cucumber-report.json&quot;, &quot;pretty&quot;,&quot;html:target/cucumber-reports&quot;},\n        monochrome = true,\n        publish = false)\npublic class TestRunner {\n}\n</code></pre>\n<p>Adding the result test json from the file target/cucumber-report.json.\nbut I am getting an error from Postman:</p>\n<pre><code>\n{\n    &quot;error&quot;: &quot;Error creating Test Execution - Issue create failed! - assignee: Field 'assignee' cannot be set. It is not on the appropriate screen, or unknown.&quot;\n}\n</code></pre>\n<p>I think the structure that is generated in target/cucumber-report.json has a different structure than the Xray API call that is accepted to get.\nI need help in figuring out how can I produce the correct json structure for the API request</p>\n<pre><code>**POST /rest/raven/1.0/import/execution/cucumber**\n</code></pre>\n<p>thanks.</p>\n<p>I trying to send Correct API request to</p>\n<pre><code>POST /rest/raven/1.0/import/execution/cucumber/multipart\n</code></pre>\n"},{"tags":["java","persistence","dao","entitymanager","entitymanagerfactory"],"answers":[{"comments":[{"owner":{"account_id":3187825,"reputation":8415,"user_id":2692962,"accept_rate":82,"display_name":"Kleber Mota"},"score":0,"creation_date":1690756549,"post_id":76799802,"comment_id":135393732,"body_markdown":"Using the mentioned libraries, is it possible create this configuration with java code instead of the xml file &quot;persistence.xml&quot;?","body":"Using the mentioned libraries, is it possible create this configuration with java code instead of the xml file &quot;persistence.xml&quot;?"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1690757956,"post_id":76799802,"comment_id":135393829,"body_markdown":"Thank you for the feedback @KleberMota. Well, I never tested myself, but you could try something like the [following example](https://vladmihalcea.com/how-to-bootstrap-jpa-programmatically-without-the-persistence-xml-configuration-file/) from Vlad Mihalcea: it is Hibernate specific, but I think it could be of help. In any case, it is possible, at least override properties - although I am afraid not the provider itself - for instance, some frameworks such as Spring allows you to override some configuration properties: I will dig into it in the Spring specific use case.","body":"Thank you for the feedback @KleberMota. Well, I never tested myself, but you could try something like the <a href=\"https://vladmihalcea.com/how-to-bootstrap-jpa-programmatically-without-the-persistence-xml-configuration-file/\" rel=\"nofollow noreferrer\">following example</a> from Vlad Mihalcea: it is Hibernate specific, but I think it could be of help. In any case, it is possible, at least override properties - although I am afraid not the provider itself - for instance, some frameworks such as Spring allows you to override some configuration properties: I will dig into it in the Spring specific use case."},{"owner":{"account_id":3187825,"reputation":8415,"user_id":2692962,"accept_rate":82,"display_name":"Kleber Mota"},"score":0,"creation_date":1690758891,"post_id":76799802,"comment_id":135393873,"body_markdown":"Can you tell where to put the file &quot;persistence.xml&quot;, if I decide to use this approach? I have tried put in the directory `src/main/resources/META-INF/persistence.xml`  as suggested in the post, but it seems that is not working, since `@PersistenceUnit(name = &quot;default&quot;) private EntityManagerFactory entityManagerFactory;` is getting null.","body":"Can you tell where to put the file &quot;persistence.xml&quot;, if I decide to use this approach? I have tried put in the directory <code>src&#47;main&#47;resources&#47;META-INF&#47;persistence.xml</code>  as suggested in the post, but it seems that is not working, since <code>@PersistenceUnit(name = &quot;default&quot;) private EntityManagerFactory entityManagerFactory;</code> is getting null."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1690797020,"post_id":76799802,"comment_id":135397973,"body_markdown":"Thank you very much for the feedback again @KleberMota. Sorry for the late reply. Yes, it is the right location for `persistence.xml`. The problem is that in order to use `@PersistenceUnit` you need some type of DI mechanism such as Spring or CDI; on the contrary, you need to setup your `EntityManagerFactory` manually. I updated my answer trying to clarifying both things, I hope it helps.","body":"Thank you very much for the feedback again @KleberMota. Sorry for the late reply. Yes, it is the right location for <code>persistence.xml</code>. The problem is that in order to use <code>@PersistenceUnit</code> you need some type of DI mechanism such as Spring or CDI; on the contrary, you need to setup your <code>EntityManagerFactory</code> manually. I updated my answer trying to clarifying both things, I hope it helps."},{"owner":{"account_id":3187825,"reputation":8415,"user_id":2692962,"accept_rate":82,"display_name":"Kleber Mota"},"score":0,"creation_date":1690837242,"post_id":76799802,"comment_id":135406019,"body_markdown":"I got the same issue when using `EntityManagerFactory factory = Persistence.createEntityManagerFactory(&quot;default&quot;);\nEntityManager em = factory.createEntityManager();` and I am using Maven like the answer suggests.","body":"I got the same issue when using <code>EntityManagerFactory factory = Persistence.createEntityManagerFactory(&quot;default&quot;); EntityManager em = factory.createEntityManager();</code> and I am using Maven like the answer suggests."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1690839851,"post_id":76799802,"comment_id":135406377,"body_markdown":"Thank you @KleberMota. It is strange indeed. Please, could you update your answer with the `persistence.xml` file that you are using? Did you included the required JPA provider libraries in your Maven dependencies?","body":"Thank you @KleberMota. It is strange indeed. Please, could you update your answer with the <code>persistence.xml</code> file that you are using? Did you included the required JPA provider libraries in your Maven dependencies?"},{"owner":{"account_id":3187825,"reputation":8415,"user_id":2692962,"accept_rate":82,"display_name":"Kleber Mota"},"score":0,"creation_date":1690840867,"post_id":76799802,"comment_id":135406503,"body_markdown":"that&#39;s what my project structure and pom.xml looks like right now: https://imgur.com/a/0Nn22V5","body":"that&#39;s what my project structure and pom.xml looks like right now: <a href=\"https://imgur.com/a/0Nn22V5\" rel=\"nofollow noreferrer\">imgur.com/a/0Nn22V5</a>"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1690842039,"post_id":76799802,"comment_id":135406645,"body_markdown":"You are using the latest version of `eclipselink`. Please, can you remove the `javax.persistence` dependency in your `pom.xml` and include the [jakarta based one](https://mvnrepository.com/artifact/jakarta.persistence/jakarta.persistence-api/3.1.0) - in fact it should be already included as a dependency of `eclipselink`? Please, could you share your `persistence.xml` file as well? Probably you need to use the new XSD and property names in the Jakarta namespace. Please, see [this related SO question](https://stackoverflow.com/a/72860543/13942448) for reference.","body":"You are using the latest version of <code>eclipselink</code>. Please, can you remove the <code>javax.persistence</code> dependency in your <code>pom.xml</code> and include the <a href=\"https://mvnrepository.com/artifact/jakarta.persistence/jakarta.persistence-api/3.1.0\" rel=\"nofollow noreferrer\">jakarta based one</a> - in fact it should be already included as a dependency of <code>eclipselink</code>? Please, could you share your <code>persistence.xml</code> file as well? Probably you need to use the new XSD and property names in the Jakarta namespace. Please, see <a href=\"https://stackoverflow.com/a/72860543/13942448\">this related SO question</a> for reference."},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1690842870,"post_id":76799802,"comment_id":135406717,"body_markdown":"Please, consider review [this post](https://blog.jetbrains.com/idea/2021/02/creating-a-simple-jakarta-persistence-application/) regarding the new Jakarta JPA persistence version: I was searching for information for trying helping you and I came across it, it is for hsqldb but I think it could be of help. Please,  note that you will need to update the imports in your code as well to, for instance, `jakarta.persistence.EntityManagerFactory`. Note the `jakarta.persistence` package.","body":"Please, consider review <a href=\"https://blog.jetbrains.com/idea/2021/02/creating-a-simple-jakarta-persistence-application/\" rel=\"nofollow noreferrer\">this post</a> regarding the new Jakarta JPA persistence version: I was searching for information for trying helping you and I came across it, it is for hsqldb but I think it could be of help. Please,  note that you will need to update the imports in your code as well to, for instance, <code>jakarta.persistence.EntityManagerFactory</code>. Note the <code>jakarta.persistence</code> package."},{"owner":{"account_id":3187825,"reputation":8415,"user_id":2692962,"accept_rate":82,"display_name":"Kleber Mota"},"score":0,"creation_date":1690847179,"post_id":76799802,"comment_id":135407126,"body_markdown":"Yes, that worked, but now I am getting the error `Caused by: java.sql.SQLException: opening db: &#39;../data.db&#39;: Read-only file system` (the data.db file is located on the directory `src/main/resources` of my project, and the war file is deployed automatically by tomcat when I copy it in the directory `/var/lib/tomcat/webapps` (a directory `auth` is created with owner the user `tomcat` with the permissions: `drwxr-x---`)","body":"Yes, that worked, but now I am getting the error <code>Caused by: java.sql.SQLException: opening db: &#39;..&#47;data.db&#39;: Read-only file system</code> (the data.db file is located on the directory <code>src&#47;main&#47;resources</code> of my project, and the war file is deployed automatically by tomcat when I copy it in the directory <code>&#47;var&#47;lib&#47;tomcat&#47;webapps</code> (a directory <code>auth</code> is created with owner the user <code>tomcat</code> with the permissions: <code>drwxr-x---</code>)"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1690991793,"post_id":76799802,"comment_id":135431047,"body_markdown":"Sorry for the late reply @KleberMota. I am happy to hear that the issue was solved. Regarding the new problem, I think it could be motivated because you are probably trying to write to the SQLite database, but it is contained in the jar file, and I think it could be the reason for the read-only filesystem message. You usually embed the sqlite db file in a jar when, for instance, it stores some type of configuration that need only to read. If you require a database for writing I would recommend creating the db file in the server filesystem instead. In addition, it will allow you to reuse the","body":"Sorry for the late reply @KleberMota. I am happy to hear that the issue was solved. Regarding the new problem, I think it could be motivated because you are probably trying to write to the SQLite database, but it is contained in the jar file, and I think it could be the reason for the read-only filesystem message. You usually embed the sqlite db file in a jar when, for instance, it stores some type of configuration that need only to read. If you require a database for writing I would recommend creating the db file in the server filesystem instead. In addition, it will allow you to reuse the"},{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":0,"creation_date":1690991820,"post_id":76799802,"comment_id":135431057,"body_markdown":"information stored in the database across application restarts.","body":"information stored in the database across application restarts."}],"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"comment_count":12,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690796861,"creation_date":1690755297,"answer_id":76799802,"question_id":76750370,"body_markdown":"The error you are facing:\r\n\r\n```\r\njavax.persistence.PersistenceException: No Persistence provider for EntityManager named default\r\n```\r\n\r\nis raised when you are trying creating the `EntityManagerFactory` in this line of code:\r\n\r\n```java\r\nEntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;default&quot;, properties);\r\n```\r\n\r\nUnder the hood, this method will invoke the configured [`PersistenceProvider`](https://docs.oracle.com/javaee/7/api/javax/persistence/spi/PersistenceProvider.html) but according to the error either no one is configured or there is some type of misconfiguration.\r\n\r\nA `PersistenceProvider` is configured when defining your application JPA persistence unit. For this purpose you need to define an appropriate `persistence.xml` file (please, consider read for example [this related article of Vlad Mihalcea](https://vladmihalcea.com/jpa-persistence-xml/)).\r\n\r\nThe content of this file will depend on the actual JPA implementation library that you are using, although it will be the same in a great extend.\r\n\r\nFor example, consider review the configuration provided for Hibernate in [this gist](https://gist.github.com/etissieres/5796622):\r\n\r\n```xml\r\n&lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;\r\n             version=&quot;2.0&quot;&gt;\r\n\r\n    &lt;persistence-unit name=&quot;sample&quot;&gt;\r\n        &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\r\n        &lt;class&gt;org.sample.entities.Entity&lt;/class&gt;\r\n\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;dialect&quot; value=&quot;org.hibernate.dialect.SQLiteDialect&quot; /&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.sqlite.JDBC&quot; /&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:sqlite::memory:&quot; /&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;&quot; /&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\r\n            &lt;property name=&quot;format_sql&quot; value=&quot;true&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.connection.charSet&quot; value=&quot;UTF-8&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create&quot; /&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\n\r\nFor EclipseLink, as in your example, I came across [this excellent example](https://github.com/rgarciacarmona/JPA-Demo/blob/master/src/META-INF/persistence.xml):\r\n\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;persistence xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;\r\n\tversion=&quot;2.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;&gt;\r\n \r\n\t&lt;!-- Persistence Provider --&gt;\r\n\t&lt;!-- RESOURCE-LOCAL: Application-managed transactions --&gt;\r\n\t&lt;!-- JTA: Container-managed transactions --&gt;\r\n\t&lt;persistence-unit name=&quot;company-provider&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n\t\t&lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\r\n \r\n\t\t&lt;!-- Entity Class --&gt;\r\n\t\t&lt;class&gt;sample.db.pojos.Employee&lt;/class&gt;\r\n\t\t&lt;class&gt;sample.db.pojos.Department&lt;/class&gt;\r\n\t\t&lt;class&gt;sample.db.pojos.Report&lt;/class&gt;\r\n \r\n\t\t&lt;properties&gt;\t\r\n\t\t\t&lt;!-- Connection properties --&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.sqlite.JDBC&quot; /&gt;\r\n\t\t    &lt;property name=&quot;javax.persistence.jdbc.url&quot;\tvalue=&quot;jdbc:sqlite:./db/company.db&quot; /&gt;\r\n\t\t\t&lt;!-- Fill if we need user and password --&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;&quot; /&gt;\r\n\t\t    \r\n\t\t    &lt;!-- Controls logging level --&gt;\r\n\t\t    &lt;property name=&quot;eclipselink.logging.level&quot; value=&quot;INFO&quot; /&gt;\r\n\t\t    &lt;!-- &lt;property name=&quot;eclipselink.logging.level&quot; value=&quot;ALL&quot; /&gt; --&gt;\r\n\r\n\t\t\t&lt;!-- JPA doesn&#39;t create the schema --&gt;\r\n\t\t\t&lt;property name=&quot;eclipselink.ddl-generation&quot; value=&quot;create-tables&quot; /&gt;\r\n\t\t\t&lt;!-- JPA destroys and recreates the schema --&gt;\r\n\t\t\t&lt;!-- &lt;property name=&quot;eclipselink.ddl-generation&quot; value=&quot;drop-and-create-tables&quot; /&gt; --&gt;\r\n\t\t&lt;/properties&gt;\r\n \r\n\t&lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n``` \r\n\r\nPlease, note that in any case the persistence unit name should be the one you configured, `default`:\r\n\r\n```\r\npersistence-unit name=&quot;default&quot;\r\n```\r\n\r\nThe `persistence.xml` usually must be defined in the `META-INF` directory, i.e., if you are using Maven standard layout, in `src/main/resources/META-INF/persistence.xml`.\r\n\r\nWith this configuration in place, you can create the `EntityManagerFactory` manually with the following code:\r\n\r\n```java\r\nEntityManagerFactory factory = Persistence.createEntityManagerFactory(&quot;default&quot;);\r\nEntityManager em = factory.createEntityManager();\r\n``` \r\n\r\nRegarding your comments, please, note that unless you are using some type of dependency injection mechanism - Spring, CDI - you will not be able to use the `@PersistenceUnit` annotation (please, see [this](https://stackoverflow.com/questions/4381724/persistenceunit-annotation-wont-create-an-entitymanagefactory-emf-null) related SO question): as stated, you need to create the `EntityManagerFactory` manually as described above.\r\n\r\nOne of the above mentioned repositories provides a more [complete example](\r\nhttps://github.com/rgarciacarmona/JPA-Demo/blob/master/src/sample/db/jpa/FullJPAExample.java).\r\n\r\nYou need to include the required dependencies, Hibernate or EcliseLink, in your project; I am aware that you mentioned if anybody knows how to do that without those libraries but, and I hope to be wrong, I think that the task of implementing a custom `PersistenceProvider` could be cornerstone. Please, take into account that you will need to implement, among other things, the `EntityManager` itself, model all the transitions between the different persistent states of the entity, etc. Please, prefer instead a battle tested solution based on any of the two libraries mentioned.\r\n","title":"How to define a persistenceprovider for a getEntityManager method?","body":"<p>The error you are facing:</p>\n<pre><code>javax.persistence.PersistenceException: No Persistence provider for EntityManager named default\n</code></pre>\n<p>is raised when you are trying creating the <code>EntityManagerFactory</code> in this line of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;default&quot;, properties);\n</code></pre>\n<p>Under the hood, this method will invoke the configured <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/spi/PersistenceProvider.html\" rel=\"nofollow noreferrer\"><code>PersistenceProvider</code></a> but according to the error either no one is configured or there is some type of misconfiguration.</p>\n<p>A <code>PersistenceProvider</code> is configured when defining your application JPA persistence unit. For this purpose you need to define an appropriate <code>persistence.xml</code> file (please, consider read for example <a href=\"https://vladmihalcea.com/jpa-persistence-xml/\" rel=\"nofollow noreferrer\">this related article of Vlad Mihalcea</a>).</p>\n<p>The content of this file will depend on the actual JPA implementation library that you are using, although it will be the same in a great extend.</p>\n<p>For example, consider review the configuration provided for Hibernate in <a href=\"https://gist.github.com/etissieres/5796622\" rel=\"nofollow noreferrer\">this gist</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;\n             version=&quot;2.0&quot;&gt;\n\n    &lt;persistence-unit name=&quot;sample&quot;&gt;\n        &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\n        &lt;class&gt;org.sample.entities.Entity&lt;/class&gt;\n\n        &lt;properties&gt;\n            &lt;property name=&quot;dialect&quot; value=&quot;org.hibernate.dialect.SQLiteDialect&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.sqlite.JDBC&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:sqlite::memory:&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;&quot; /&gt;\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\n            &lt;property name=&quot;format_sql&quot; value=&quot;true&quot; /&gt;\n            &lt;property name=&quot;hibernate.connection.charSet&quot; value=&quot;UTF-8&quot; /&gt;\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create&quot; /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>For EclipseLink, as in your example, I came across <a href=\"https://github.com/rgarciacarmona/JPA-Demo/blob/master/src/META-INF/persistence.xml\" rel=\"nofollow noreferrer\">this excellent example</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;persistence xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;\n    version=&quot;2.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;&gt;\n \n    &lt;!-- Persistence Provider --&gt;\n    &lt;!-- RESOURCE-LOCAL: Application-managed transactions --&gt;\n    &lt;!-- JTA: Container-managed transactions --&gt;\n    &lt;persistence-unit name=&quot;company-provider&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n        &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\n \n        &lt;!-- Entity Class --&gt;\n        &lt;class&gt;sample.db.pojos.Employee&lt;/class&gt;\n        &lt;class&gt;sample.db.pojos.Department&lt;/class&gt;\n        &lt;class&gt;sample.db.pojos.Report&lt;/class&gt;\n \n        &lt;properties&gt;    \n            &lt;!-- Connection properties --&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.sqlite.JDBC&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:sqlite:./db/company.db&quot; /&gt;\n            &lt;!-- Fill if we need user and password --&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;&quot; /&gt;\n            \n            &lt;!-- Controls logging level --&gt;\n            &lt;property name=&quot;eclipselink.logging.level&quot; value=&quot;INFO&quot; /&gt;\n            &lt;!-- &lt;property name=&quot;eclipselink.logging.level&quot; value=&quot;ALL&quot; /&gt; --&gt;\n\n            &lt;!-- JPA doesn't create the schema --&gt;\n            &lt;property name=&quot;eclipselink.ddl-generation&quot; value=&quot;create-tables&quot; /&gt;\n            &lt;!-- JPA destroys and recreates the schema --&gt;\n            &lt;!-- &lt;property name=&quot;eclipselink.ddl-generation&quot; value=&quot;drop-and-create-tables&quot; /&gt; --&gt;\n        &lt;/properties&gt;\n \n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>Please, note that in any case the persistence unit name should be the one you configured, <code>default</code>:</p>\n<pre><code>persistence-unit name=&quot;default&quot;\n</code></pre>\n<p>The <code>persistence.xml</code> usually must be defined in the <code>META-INF</code> directory, i.e., if you are using Maven standard layout, in <code>src/main/resources/META-INF/persistence.xml</code>.</p>\n<p>With this configuration in place, you can create the <code>EntityManagerFactory</code> manually with the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>EntityManagerFactory factory = Persistence.createEntityManagerFactory(&quot;default&quot;);\nEntityManager em = factory.createEntityManager();\n</code></pre>\n<p>Regarding your comments, please, note that unless you are using some type of dependency injection mechanism - Spring, CDI - you will not be able to use the <code>@PersistenceUnit</code> annotation (please, see <a href=\"https://stackoverflow.com/questions/4381724/persistenceunit-annotation-wont-create-an-entitymanagefactory-emf-null\">this</a> related SO question): as stated, you need to create the <code>EntityManagerFactory</code> manually as described above.</p>\n<p>One of the above mentioned repositories provides a more <a href=\"https://github.com/rgarciacarmona/JPA-Demo/blob/master/src/sample/db/jpa/FullJPAExample.java\" rel=\"nofollow noreferrer\">complete example</a>.</p>\n<p>You need to include the required dependencies, Hibernate or EcliseLink, in your project; I am aware that you mentioned if anybody knows how to do that without those libraries but, and I hope to be wrong, I think that the task of implementing a custom <code>PersistenceProvider</code> could be cornerstone. Please, take into account that you will need to implement, among other things, the <code>EntityManager</code> itself, model all the transitions between the different persistent states of the entity, etc. Please, prefer instead a battle tested solution based on any of the two libraries mentioned.</p>\n"}],"owner":{"account_id":3187825,"reputation":8415,"user_id":2692962,"accept_rate":82,"display_name":"Kleber Mota"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76799802,"answer_count":1,"score":1,"last_activity_date":1690796861,"creation_date":1690147271,"question_id":76750370,"body_markdown":"I am trying implement a template for my Model classes in my java/servlet project, with methods for create tables, insert, update, delete and select data. the start point for all this methods is this method `protected EntityManager getEntityManager()` where I define where the sqlite database is located and other preferences.\r\n\r\nBut when this method is executed, the error `javax.persistence.PersistenceException: No Persistence provider for EntityManager named default` happens. My current implementation for this method is:\r\n\r\n    public abstract class Dao&lt;E extends Model&gt; {\r\n        private Class&lt;E&gt; classe;\r\n    \r\n        public Dao(Class&lt;E&gt; classe) {\r\n            this.classe = classe;\r\n            if(!exists()) create();\r\n        }\r\n    \r\n    protected EntityManager getEntityManager() {\r\n        String url = getClass().getResource(&quot;/data.db&quot;).toString();\r\n        Map&lt;String, String&gt; properties = new HashMap&lt;&gt;();\r\n        properties.put(&quot;javax.persistence.jdbc.provider&quot;, &quot;org.eclipse.persistence.jpa.PersistenceProvider&quot;);\r\n        properties.put(&quot;javax.persistence.jdbc.driver&quot;, &quot;org.sqlite.JDBC&quot;);\r\n        properties.put(&quot;javax.persistence.jdbc.url&quot;, &quot;jdbc:sqlite:&quot;+url);\r\n        EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;default&quot;, properties);\r\n        return entityManagerFactory.createEntityManager();\r\n    }\r\n\r\n        ...\r\n    }\r\n\r\nanyone knows how to solve this, without have to include an external library like hibernate or similar?\r\n\r\n\r\n","title":"How to define a persistenceprovider for a getEntityManager method?","body":"<p>I am trying implement a template for my Model classes in my java/servlet project, with methods for create tables, insert, update, delete and select data. the start point for all this methods is this method <code>protected EntityManager getEntityManager()</code> where I define where the sqlite database is located and other preferences.</p>\n<p>But when this method is executed, the error <code>javax.persistence.PersistenceException: No Persistence provider for EntityManager named default</code> happens. My current implementation for this method is:</p>\n<pre><code>public abstract class Dao&lt;E extends Model&gt; {\n    private Class&lt;E&gt; classe;\n\n    public Dao(Class&lt;E&gt; classe) {\n        this.classe = classe;\n        if(!exists()) create();\n    }\n\nprotected EntityManager getEntityManager() {\n    String url = getClass().getResource(&quot;/data.db&quot;).toString();\n    Map&lt;String, String&gt; properties = new HashMap&lt;&gt;();\n    properties.put(&quot;javax.persistence.jdbc.provider&quot;, &quot;org.eclipse.persistence.jpa.PersistenceProvider&quot;);\n    properties.put(&quot;javax.persistence.jdbc.driver&quot;, &quot;org.sqlite.JDBC&quot;);\n    properties.put(&quot;javax.persistence.jdbc.url&quot;, &quot;jdbc:sqlite:&quot;+url);\n    EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;default&quot;, properties);\n    return entityManagerFactory.createEntityManager();\n}\n\n    ...\n}\n</code></pre>\n<p>anyone knows how to solve this, without have to include an external library like hibernate or similar?</p>\n"},{"tags":["java","spring-boot","spring-webflux","webclient"],"owner":{"account_id":14751968,"reputation":1,"user_id":14426642,"display_name":"Morante"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690796747,"creation_date":1690796747,"question_id":76802404,"body_markdown":"I am trying to figure out how to perform the test webclient metodo post with mockito.\r\nI can&#39;t find a solution to have a minimum acceptable test to pass.\r\n\r\nHere is my code:\r\n\r\nCallApiRest:\r\n\r\n```\r\nCallApiRest\r\n@Autowired\r\n    private CallApiConfig apiConfig;\r\n\r\n\r\n    /**\r\n     * Search for patient existence in Faro\r\n     * @param dataPatient request data patient\r\n     * @return String\r\n     */\r\n    @Override\r\n    public Map&lt;String, Object&gt; findPatient(Map&lt;String, String&gt; dataPatient) {\r\n        log.info(&quot;Entrando en el apiRest haciendo la llamada a faro&quot;);\r\n\r\n        return  apiConfig.webClient().post()\r\n                            .uri(&quot;/login&quot;)\r\n                            .accept(MediaType.APPLICATION_JSON)\r\n                            .contentType(MediaType.APPLICATION_JSON)\r\n                            .body(BodyInserters.fromValue(dataPatient))\r\n                            .retrieve()\r\n                            .bodyToMono(new ParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt;() {})\r\n                            .onErrorResume(WebClientResponseException.class, CallApiRest::statusCode)\r\n                            .block();\r\n    }\r\n\r\n    /**\r\n     * We control the error codes to pass it later to Frontend.\r\n     * @param e exception parameter\r\n     * @return the error or return the value of body\r\n     */\r\n    public static Mono&lt;? extends Map&lt;String, Object&gt;&gt; statusCode(WebClientResponseException e) {\r\n        try {\r\n            log.info(&quot;Comprobamos el resultado de la consulta si hay errores, ya sea por cuerpo vacio o datos del paciente erroneos.&quot;);\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            if (e.getRawStatusCode() == 403) {\r\n                return Mono.just(objectMapper.readValue(e.getResponseBodyAsString(), new TypeReference&lt;&gt;() {\r\n                        }));\r\n            } else {\r\n                return Mono.error(e);\r\n            }\r\n        } catch (JsonProcessingException jsonEx) {\r\n            log.error(&quot;Error en el servicio apiRest Json: CallApiRest&quot;);\r\n            return Mono.error(jsonEx);\r\n        }\r\n    }\r\n```\r\n\r\nCallApiConfig\r\n```\r\n@Configuration\r\npublic class CallApiConfig {\r\n\r\n    @Bean\r\n    public WebClient webClient(){\r\n        return WebClient.builder()\r\n                .baseUrl(&quot;http://urlok&quot;)\r\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\nTEST:\r\n\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\nclass CallApiRestTest {\r\n\r\n    @Mock\r\n    private WebClient webClient;\r\n    @Mock\r\n    private WebClient.RequestBodyUriSpec requestBodyUriSpec ;\r\n    @Mock\r\n    private WebClient.RequestBodySpec requestBodySpec ;\r\n    @Mock\r\n    private WebClient.RequestHeadersSpec requestHeadersSpec ;\r\n    @Mock\r\n    private WebClient.ResponseSpec responseSpec ;\r\n    @Mock\r\n    private CallApiConfig apiConfig;\r\n    @InjectMocks\r\n    private CallApiRest callApiRest;\r\n\r\n    //Initial variables\r\n    private Map&lt;String, String&gt; dataPatient;\r\n\r\n    private Map&lt;String, Object&gt; dataResponse;\r\n    private Map&lt;String, Object&gt; dataResponseError;\r\n\r\n    private ObjectMapper objectMapper;\r\n    private String statusOnError;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        dataPatient = new HashMap&lt;&gt;();\r\n        dataResponse = new HashMap&lt;&gt;();\r\n        dataResponseError = new HashMap&lt;&gt;();\r\n        objectMapper = new ObjectMapper();\r\n\r\n        //initialize dataPatient\r\n        dataPatient.put(&quot;identificationNumber&quot;, &quot;XXXX&quot;);\r\n        dataPatient.put(&quot;birthdate&quot;,&quot;XXXX&quot;);\r\n        dataPatient.put(&quot;allowPatientData&quot;, &quot;true&quot;);\r\n        dataPatient.put(&quot;appointmentId&quot;,&quot;XXX&quot;);\r\n\r\n        //Initialize dataResponse status-&gt;200 ok\r\n        dataResponse.put(&quot;personalData&quot;, &quot;XXX&quot;);\r\n        dataResponse.put(&quot;am&quot;, &quot;XXX&quot;);\r\n        dataResponse.put(&quot;gdpr&quot;, &quot;XXX&quot;);\r\n\r\n        //Initialize dataResponse status-&gt;403 Bad_request (Forbidden)\r\n        dataResponseError.put(&quot;error&quot;, &quot;Error 8.&quot;);\r\n\r\n        //Initialize data statusOnError JsonParse\r\n        statusOnError= &quot;&quot;&quot;\r\n                {\\r\r\n                 &quot;status&quot;: 200,\\r\r\n                 &quot;message&quot;: &quot;ok&quot;\\r\r\n                 }&quot;&quot;&quot;;\r\n\r\n    }\r\n\r\n    @Test\r\n    void findPatientOk() throws IOException {\r\n\r\n        //when\r\n        when(apiConfig.webClient()).thenReturn(webClient);\r\n        when(requestBodyUriSpec.uri(anyString())).thenReturn(requestBodySpec);\r\n        when(requestBodySpec.header(any(),any())).thenReturn(requestBodySpec);\r\n        when(webClient.post()).thenReturn(requestBodyUriSpec);\r\n        when(requestBodySpec.contentType(MediaType.APPLICATION_JSON)).thenReturn(requestBodySpec);\r\n        when(requestBodySpec.accept(MediaType.APPLICATION_JSON)).thenReturn(requestBodySpec);\r\n        when(requestBodySpec.body(BodyInserters.fromValue(dataPatient))).thenReturn(requestHeadersSpec);\r\n        when(requestHeadersSpec.retrieve()).thenReturn(responseSpec);\r\n        when(responseSpec.bodyToMono(new ParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt;() {})).thenReturn(Mono.just(dataResponse));\r\n        when(responseSpec.bodyToMono(new ParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt;() {}).onErrorResume(WebClientResponseException.class, CallApiRest::statusCode))\r\n                .thenReturn(Mono.just(objectMapper.readValue(statusOnError, new TypeReference&lt;&gt;() {\r\n                })));\r\n\r\n        //given\r\n        Map&lt;String, Object&gt; response = callApiRest.findPatient(dataPatient);\r\n\r\n\r\n        //then\r\n        assertTrue(response.containsKey(&quot;personalData&quot;));\r\n        assertNotNull(response);\r\n    }\r\n```\r\n\r\nERROR:\r\n\r\n\r\n```\r\norg.mockito.exceptions.misusing.PotentialStubbingProblem: \r\nStrict stubbing argument mismatch. Please check:\r\n - this invocation of &#39;body&#39; method:\r\n    requestBodySpec.body(\r\n    org.springframework.web.reactive.function.BodyInserters$$Lambda$458/0x0000000800ef7ab8@a92be4f\r\n);\r\n\r\n - has following stubbing(s) with different arguments:\r\n    1. requestBodySpec.body(\r\n    org.springframework.web.reactive.function.BodyInserters$$Lambda$458/0x0000000800ef7ab8@6edcad64\r\n);\r\n\r\nTypically, stubbing argument mismatch indicates user mistake when writing tests.\r\nMockito fails early so that you can debug potential problem easily.\r\nHowever, there are legit scenarios when this exception generates false negative signal:\r\n  - stubbing the same method multiple times using &#39;given().will()&#39; or &#39;when().then()&#39; API\r\n    Please use &#39;will().given()&#39; or &#39;doReturn().when()&#39; API for stubbing.\r\n  - stubbed method is intentionally invoked with different arguments by code under test\r\n    Please use default or &#39;silent&#39; JUnit Rule (equivalent of Strictness.LENIENT).\r\nFor more information see javadoc for PotentialStubbingProblem class.\r\n```\r\n\r\n\r\nI don&#39;t understand it well, and the little documentation that exists does not include methods with BodyInserters and onErrorResume.\r\n\r\nI would appreciate some help, thanks.\r\n\r\n\r\n\r\n\r\nI need it to pass the test without errors, it is only a simulated request, in which the data I receive is 200 ok.","title":"Mockito BodyInserters.fromValue with webClient method post","body":"<p>I am trying to figure out how to perform the test webclient metodo post with mockito.\nI can't find a solution to have a minimum acceptable test to pass.</p>\n<p>Here is my code:</p>\n<p>CallApiRest:</p>\n<pre><code>CallApiRest\n@Autowired\n    private CallApiConfig apiConfig;\n\n\n    /**\n     * Search for patient existence in Faro\n     * @param dataPatient request data patient\n     * @return String\n     */\n    @Override\n    public Map&lt;String, Object&gt; findPatient(Map&lt;String, String&gt; dataPatient) {\n        log.info(&quot;Entrando en el apiRest haciendo la llamada a faro&quot;);\n\n        return  apiConfig.webClient().post()\n                            .uri(&quot;/login&quot;)\n                            .accept(MediaType.APPLICATION_JSON)\n                            .contentType(MediaType.APPLICATION_JSON)\n                            .body(BodyInserters.fromValue(dataPatient))\n                            .retrieve()\n                            .bodyToMono(new ParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt;() {})\n                            .onErrorResume(WebClientResponseException.class, CallApiRest::statusCode)\n                            .block();\n    }\n\n    /**\n     * We control the error codes to pass it later to Frontend.\n     * @param e exception parameter\n     * @return the error or return the value of body\n     */\n    public static Mono&lt;? extends Map&lt;String, Object&gt;&gt; statusCode(WebClientResponseException e) {\n        try {\n            log.info(&quot;Comprobamos el resultado de la consulta si hay errores, ya sea por cuerpo vacio o datos del paciente erroneos.&quot;);\n            ObjectMapper objectMapper = new ObjectMapper();\n            if (e.getRawStatusCode() == 403) {\n                return Mono.just(objectMapper.readValue(e.getResponseBodyAsString(), new TypeReference&lt;&gt;() {\n                        }));\n            } else {\n                return Mono.error(e);\n            }\n        } catch (JsonProcessingException jsonEx) {\n            log.error(&quot;Error en el servicio apiRest Json: CallApiRest&quot;);\n            return Mono.error(jsonEx);\n        }\n    }\n</code></pre>\n<p>CallApiConfig</p>\n<pre><code>@Configuration\npublic class CallApiConfig {\n\n    @Bean\n    public WebClient webClient(){\n        return WebClient.builder()\n                .baseUrl(&quot;http://urlok&quot;)\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n                .build();\n    }\n}\n</code></pre>\n<p>TEST:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass CallApiRestTest {\n\n    @Mock\n    private WebClient webClient;\n    @Mock\n    private WebClient.RequestBodyUriSpec requestBodyUriSpec ;\n    @Mock\n    private WebClient.RequestBodySpec requestBodySpec ;\n    @Mock\n    private WebClient.RequestHeadersSpec requestHeadersSpec ;\n    @Mock\n    private WebClient.ResponseSpec responseSpec ;\n    @Mock\n    private CallApiConfig apiConfig;\n    @InjectMocks\n    private CallApiRest callApiRest;\n\n    //Initial variables\n    private Map&lt;String, String&gt; dataPatient;\n\n    private Map&lt;String, Object&gt; dataResponse;\n    private Map&lt;String, Object&gt; dataResponseError;\n\n    private ObjectMapper objectMapper;\n    private String statusOnError;\n\n    @BeforeEach\n    void setUp() {\n        dataPatient = new HashMap&lt;&gt;();\n        dataResponse = new HashMap&lt;&gt;();\n        dataResponseError = new HashMap&lt;&gt;();\n        objectMapper = new ObjectMapper();\n\n        //initialize dataPatient\n        dataPatient.put(&quot;identificationNumber&quot;, &quot;XXXX&quot;);\n        dataPatient.put(&quot;birthdate&quot;,&quot;XXXX&quot;);\n        dataPatient.put(&quot;allowPatientData&quot;, &quot;true&quot;);\n        dataPatient.put(&quot;appointmentId&quot;,&quot;XXX&quot;);\n\n        //Initialize dataResponse status-&gt;200 ok\n        dataResponse.put(&quot;personalData&quot;, &quot;XXX&quot;);\n        dataResponse.put(&quot;am&quot;, &quot;XXX&quot;);\n        dataResponse.put(&quot;gdpr&quot;, &quot;XXX&quot;);\n\n        //Initialize dataResponse status-&gt;403 Bad_request (Forbidden)\n        dataResponseError.put(&quot;error&quot;, &quot;Error 8.&quot;);\n\n        //Initialize data statusOnError JsonParse\n        statusOnError= &quot;&quot;&quot;\n                {\\r\n                 &quot;status&quot;: 200,\\r\n                 &quot;message&quot;: &quot;ok&quot;\\r\n                 }&quot;&quot;&quot;;\n\n    }\n\n    @Test\n    void findPatientOk() throws IOException {\n\n        //when\n        when(apiConfig.webClient()).thenReturn(webClient);\n        when(requestBodyUriSpec.uri(anyString())).thenReturn(requestBodySpec);\n        when(requestBodySpec.header(any(),any())).thenReturn(requestBodySpec);\n        when(webClient.post()).thenReturn(requestBodyUriSpec);\n        when(requestBodySpec.contentType(MediaType.APPLICATION_JSON)).thenReturn(requestBodySpec);\n        when(requestBodySpec.accept(MediaType.APPLICATION_JSON)).thenReturn(requestBodySpec);\n        when(requestBodySpec.body(BodyInserters.fromValue(dataPatient))).thenReturn(requestHeadersSpec);\n        when(requestHeadersSpec.retrieve()).thenReturn(responseSpec);\n        when(responseSpec.bodyToMono(new ParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt;() {})).thenReturn(Mono.just(dataResponse));\n        when(responseSpec.bodyToMono(new ParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt;() {}).onErrorResume(WebClientResponseException.class, CallApiRest::statusCode))\n                .thenReturn(Mono.just(objectMapper.readValue(statusOnError, new TypeReference&lt;&gt;() {\n                })));\n\n        //given\n        Map&lt;String, Object&gt; response = callApiRest.findPatient(dataPatient);\n\n\n        //then\n        assertTrue(response.containsKey(&quot;personalData&quot;));\n        assertNotNull(response);\n    }\n</code></pre>\n<p>ERROR:</p>\n<pre><code>org.mockito.exceptions.misusing.PotentialStubbingProblem: \nStrict stubbing argument mismatch. Please check:\n - this invocation of 'body' method:\n    requestBodySpec.body(\n    org.springframework.web.reactive.function.BodyInserters$$Lambda$458/0x0000000800ef7ab8@a92be4f\n);\n\n - has following stubbing(s) with different arguments:\n    1. requestBodySpec.body(\n    org.springframework.web.reactive.function.BodyInserters$$Lambda$458/0x0000000800ef7ab8@6edcad64\n);\n\nTypically, stubbing argument mismatch indicates user mistake when writing tests.\nMockito fails early so that you can debug potential problem easily.\nHowever, there are legit scenarios when this exception generates false negative signal:\n  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API\n    Please use 'will().given()' or 'doReturn().when()' API for stubbing.\n  - stubbed method is intentionally invoked with different arguments by code under test\n    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).\nFor more information see javadoc for PotentialStubbingProblem class.\n</code></pre>\n<p>I don't understand it well, and the little documentation that exists does not include methods with BodyInserters and onErrorResume.</p>\n<p>I would appreciate some help, thanks.</p>\n<p>I need it to pass the test without errors, it is only a simulated request, in which the data I receive is 200 ok.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1690796534,"post_id":76802317,"comment_id":135397887,"body_markdown":"In the title, the URL is `session-logout` in your rest API its `/logoff-user` which one you are using. Check your security configuration that is it configured properly.","body":"In the title, the URL is <code>session-logout</code> in your rest API its <code>&#47;logoff-user</code> which one you are using. Check your security configuration that is it configured properly."}],"owner":{"account_id":29127384,"reputation":1,"user_id":22313410,"display_name":"Divi Poornachandra Rao"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690796330,"creation_date":1690796128,"question_id":76802317,"body_markdown":"I am getting the above exception while trying to implement user logout service in Spring boot application.\r\n\r\n**ValidateUserServiceImple.Java**\r\n```\r\n@PostMapping(value = &quot;/logoff-user&quot;)\r\npublic String userSignOut(@Validated @RequestBody UserSignOutRequest userSignOutJsonRequest)\r\nthrows EnrollmentServiceException {\r\n   return validateUserBusinessServiceImpl.userSignOut(userSignOutJsonRequest);\r\n}\r\n```\r\n**UserOperationServiceHandler.java**\r\n\r\n```\r\n@Autowired\r\nRestTemplate restTemplate;\r\n@Value(&quot;${oauth.session.logout.url}&quot;)\r\nprivate String logoutUrl;\r\npublic String userSignOut(UserSignOutRequest userSignOutJsonRequest) {\r\n    return QuoteServiceUtil.logOffSession(restTemplate, userSignOutJsonRequest, logoutUrl);\r\n}\r\n\r\n```\r\n**LogoutServiceUtil.java**\r\n```\r\npublic static String logOffSession(RestTemplate restTemplate, UserSignOutRequest userRequest, String sessionUrl){\r\n    try {\r\n\t  HttpHeaders headers = new HttpHeaders();\r\n\t  headers.set(EnrollmentConstants.CONTENT_TYPE, EnrollmentConstants.WWW_URL_ENCODED);\r\n\t  MultiValueMap&lt;String, String&gt; request = new LinkedMultiValueMap&lt;&gt;();\r\n\t  request.add(&quot;accesstoken&quot;, userRequest.getAccessToken());\r\n\t  return doPostCall(restTemplate, sessionUrl, headers, request);\r\n    } catch (UnsupportedOperationException e) {\r\n\t  LOGGER.error(EnrollmentConstants.EXCEPTION_OCCURRED, e.getMessage());\r\n\t  return null;\r\n    }\r\n}\r\n```","title":"HttpClientErrorException$Forbidden: 403:&quot;{&quot;timestamp&quot;:&quot;2023-07-31T09:20:40.414+00:00&quot;,&quot;status&quot;:403,&quot;error&quot;:&quot;Forbidden&quot;,&quot;path&quot;:&quot;/users/session-logout&quot;}","body":"<p>I am getting the above exception while trying to implement user logout service in Spring boot application.</p>\n<p><strong>ValidateUserServiceImple.Java</strong></p>\n<pre><code>@PostMapping(value = &quot;/logoff-user&quot;)\npublic String userSignOut(@Validated @RequestBody UserSignOutRequest userSignOutJsonRequest)\nthrows EnrollmentServiceException {\n   return validateUserBusinessServiceImpl.userSignOut(userSignOutJsonRequest);\n}\n</code></pre>\n<p><strong>UserOperationServiceHandler.java</strong></p>\n<pre><code>@Autowired\nRestTemplate restTemplate;\n@Value(&quot;${oauth.session.logout.url}&quot;)\nprivate String logoutUrl;\npublic String userSignOut(UserSignOutRequest userSignOutJsonRequest) {\n    return QuoteServiceUtil.logOffSession(restTemplate, userSignOutJsonRequest, logoutUrl);\n}\n\n</code></pre>\n<p><strong>LogoutServiceUtil.java</strong></p>\n<pre><code>public static String logOffSession(RestTemplate restTemplate, UserSignOutRequest userRequest, String sessionUrl){\n    try {\n      HttpHeaders headers = new HttpHeaders();\n      headers.set(EnrollmentConstants.CONTENT_TYPE, EnrollmentConstants.WWW_URL_ENCODED);\n      MultiValueMap&lt;String, String&gt; request = new LinkedMultiValueMap&lt;&gt;();\n      request.add(&quot;accesstoken&quot;, userRequest.getAccessToken());\n      return doPostCall(restTemplate, sessionUrl, headers, request);\n    } catch (UnsupportedOperationException e) {\n      LOGGER.error(EnrollmentConstants.EXCEPTION_OCCURRED, e.getMessage());\n      return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","httpclient","connection-pooling","apache-httpclient-4.x"],"owner":{"account_id":3761893,"reputation":193,"user_id":3126580,"display_name":"hehe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690796168,"answer_count":0,"score":0,"last_activity_date":1690796127,"creation_date":1690795622,"question_id":76802253,"body_markdown":"I use PoolingHttpClientConnectionManager create httpClient, when I close http client, it will shutdown PoolingHttpClientConnectionManager. \r\n\r\n\r\nWhy is it designed like this?\r\n\r\nIs the CloseableHttpClient need close?\r\n\r\n```java\r\npackage org.example.zk;\r\n\r\nimport org.apache.http.client.methods.CloseableHttpResponse;\r\nimport org.apache.http.client.methods.HttpGet;\r\nimport org.apache.http.impl.client.CloseableHttpClient;\r\nimport org.apache.http.impl.client.HttpClientBuilder;\r\nimport org.apache.http.impl.conn.PoolingHttpClientConnectionManager;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class HTTPTest {\r\n\r\n    private static PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();\r\n\r\n    public static void req() throws IOException {\r\n        CloseableHttpClient httpClient = HttpClientBuilder.create().setConnectionManager(connectionManager).build();\r\n        try {\r\n            HttpGet httpGet = new HttpGet(&quot;https://www.google.com&quot;);\r\n            try (CloseableHttpResponse httpResponse = httpClient.execute(httpGet)) {\r\n                System.out.println(httpResponse.getStatusLine());\r\n            }\r\n        } finally {\r\n            httpClient.close();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        connectionManager = new PoolingHttpClientConnectionManager();\r\n        connectionManager.setMaxTotal(100);\r\n        connectionManager.setDefaultMaxPerRoute(10);\r\n        req();\r\n        System.out.println(&quot;end&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\ntrace the thread stack:\r\n\r\n\r\n```\r\nshutdown:410, PoolingHttpClientConnectionManager (org.apache.http.impl.conn)\r\nclose:1248, HttpClientBuilder$2 (org.apache.http.impl.client)\r\nclose:201, InternalHttpClient (org.apache.http.impl.client)\r\nreq:27, HTTPTest (org.example.zk)\r\nmain:37, HTTPTest (org.example.zk)\r\n```","title":"Apache HttpClient created by PoolingHttpClientConnectionManager can not close","body":"<p>I use PoolingHttpClientConnectionManager create httpClient, when I close http client, it will shutdown PoolingHttpClientConnectionManager.</p>\n<p>Why is it designed like this?</p>\n<p>Is the CloseableHttpClient need close?</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example.zk;\n\nimport org.apache.http.client.methods.CloseableHttpResponse;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.apache.http.impl.conn.PoolingHttpClientConnectionManager;\n\nimport java.io.IOException;\n\npublic class HTTPTest {\n\n    private static PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();\n\n    public static void req() throws IOException {\n        CloseableHttpClient httpClient = HttpClientBuilder.create().setConnectionManager(connectionManager).build();\n        try {\n            HttpGet httpGet = new HttpGet(&quot;https://www.google.com&quot;);\n            try (CloseableHttpResponse httpResponse = httpClient.execute(httpGet)) {\n                System.out.println(httpResponse.getStatusLine());\n            }\n        } finally {\n            httpClient.close();\n        }\n    }\n\n    public static void main(String[] args) throws IOException {\n        connectionManager = new PoolingHttpClientConnectionManager();\n        connectionManager.setMaxTotal(100);\n        connectionManager.setDefaultMaxPerRoute(10);\n        req();\n        System.out.println(&quot;end&quot;);\n    }\n}\n\n</code></pre>\n<p>trace the thread stack:</p>\n<pre><code>shutdown:410, PoolingHttpClientConnectionManager (org.apache.http.impl.conn)\nclose:1248, HttpClientBuilder$2 (org.apache.http.impl.client)\nclose:201, InternalHttpClient (org.apache.http.impl.client)\nreq:27, HTTPTest (org.example.zk)\nmain:37, HTTPTest (org.example.zk)\n</code></pre>\n"},{"tags":["java","version","legacy"],"answers":[{"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1690795892,"post_id":76802038,"comment_id":135397761,"body_markdown":"And if source code is not available ... you should consider throwing the project in the bin and starting again.  If this code was developed for the Java 1.2 platform, its likely to be primitive ... and have all sorts of problems.  And the fact that you have no source code will make it harder to fix them.","body":"And if source code is not available ... you should consider throwing the project in the bin and starting again.  If this code was developed for the Java 1.2 platform, its likely to be primitive ... and have all sorts of problems.  And the fact that you have no source code will make it harder to fix them."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1690796017,"post_id":76802038,"comment_id":135397782,"body_markdown":"Finally ... you need to be aware that the source code you get by decompiling will be missing comments, names of local variables and stuff like that.  And it may be inaccurate and / or uncompilable.   I see difficulties, left, right and centrefield.","body":"Finally ... you need to be aware that the source code you get by decompiling will be missing comments, names of local variables and stuff like that.  And it may be inaccurate and / or uncompilable.   I see difficulties, left, right and centrefield."},{"owner":{"account_id":29126936,"reputation":1,"user_id":22313051,"display_name":"Zalthoria"},"score":0,"creation_date":1690802602,"post_id":76802038,"comment_id":135399015,"body_markdown":"I would throw it away and start from scratch but its still in production and being used. rewriting it from scratch without even the business requirements is not a small job. Unfortunately im stuck between a rock and a hard place.","body":"I would throw it away and start from scratch but its still in production and being used. rewriting it from scratch without even the business requirements is not a small job. Unfortunately im stuck between a rock and a hard place."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1690802717,"post_id":76802038,"comment_id":135399040,"body_markdown":"@Zalthoria If that application is so important, why aren&#39;t there any sources?","body":"@Zalthoria If that application is so important, why aren&#39;t there any sources?"},{"owner":{"account_id":29126936,"reputation":1,"user_id":22313051,"display_name":"Zalthoria"},"score":0,"creation_date":1690802835,"post_id":76802038,"comment_id":135399058,"body_markdown":"I tried make a change recently and compiled the new class in 1.8 (which was verbally told to me what the project was compiled in before I checked) and I wasn&#39;t able to get the program to recognize the changes. A colleague of mine told me he had managed to done it the same way by compiling the change using the same library then replacing the affected class in the jar via the help of winrar","body":"I tried make a change recently and compiled the new class in 1.8 (which was verbally told to me what the project was compiled in before I checked) and I wasn&#39;t able to get the program to recognize the changes. A colleague of mine told me he had managed to done it the same way by compiling the change using the same library then replacing the affected class in the jar via the help of winrar"},{"owner":{"account_id":29126936,"reputation":1,"user_id":22313051,"display_name":"Zalthoria"},"score":0,"creation_date":1690802906,"post_id":76802038,"comment_id":135399076,"body_markdown":"@MarkRotteveel it was a combination of bad handover practices and a mass quitting","body":"@MarkRotteveel it was a combination of bad handover practices and a mass quitting"}],"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":6,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690795992,"creation_date":1690793576,"answer_id":76802038,"question_id":76801813,"body_markdown":"There is no relation at all.\r\n\r\nOne (`Created-By` in the manifest) is the Java version which was used to compile the classes, or it could be a complete fabrication, as it is not actually set by Java itself, but set by whatever build tool or manual process that created the JAR.\r\n\r\nThe other is the Java class version, meaning the target Java version which was used when compiling the classes, i.e. `-target 1.2`, or in modern versions of Java `-release nn` with `nn` the desired Java version for the classes.\r\n\r\nThat said, I don&#39;t see what this would have to do with _&quot;determin[ing] the right library&quot;_. Also, trying to decompile code to make changes is fraught with problems, and something which you should really avoid if possible (e.g. by using the actual source code, if available).","title":"What is the difference between the version in the manifest of a jar and using javap","body":"<p>There is no relation at all.</p>\n<p>One (<code>Created-By</code> in the manifest) is the Java version which was used to compile the classes, or it could be a complete fabrication, as it is not actually set by Java itself, but set by whatever build tool or manual process that created the JAR.</p>\n<p>The other is the Java class version, meaning the target Java version which was used when compiling the classes, i.e. <code>-target 1.2</code>, or in modern versions of Java <code>-release nn</code> with <code>nn</code> the desired Java version for the classes.</p>\n<p>That said, I don't see what this would have to do with <em>&quot;determin[ing] the right library&quot;</em>. Also, trying to decompile code to make changes is fraught with problems, and something which you should really avoid if possible (e.g. by using the actual source code, if available).</p>\n"}],"owner":{"account_id":29126936,"reputation":1,"user_id":22313051,"display_name":"Zalthoria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690795992,"creation_date":1690791536,"question_id":76801813,"body_markdown":"I am taking over a very old project with no documentation and I am trying to determine the right library to try and decompile and eventually recompile code with.\r\n\r\nLooking around the internet I have seen two methods:\r\nChecking the manifest file and doing javap -v sample.class\r\n\r\nWhen looking at the manifest inside the jar file I am seeing the following:\r\n```none\r\nManifest-Version: 1.0\r\nCreated-By: 1.4.2_09 (Sun Microsystems Inc.)\r\n```\r\n\r\nBut when I do javap -v on the classes inside the jar file, it is showing major version 46 (java version 1.2)\r\n\r\nAs this is a old project with no documentation and no handover, any code changes done would have to be decompiled from the original jar and after modification recompiled using the same libraries and then updated into the jar. Therefore the right library is extremely important.\r\n\r\nSo the question is which version should I be looking at or is there a better way to achieve what I need?","title":"What is the difference between the version in the manifest of a jar and using javap","body":"<p>I am taking over a very old project with no documentation and I am trying to determine the right library to try and decompile and eventually recompile code with.</p>\n<p>Looking around the internet I have seen two methods:\nChecking the manifest file and doing javap -v sample.class</p>\n<p>When looking at the manifest inside the jar file I am seeing the following:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Manifest-Version: 1.0\nCreated-By: 1.4.2_09 (Sun Microsystems Inc.)\n</code></pre>\n<p>But when I do javap -v on the classes inside the jar file, it is showing major version 46 (java version 1.2)</p>\n<p>As this is a old project with no documentation and no handover, any code changes done would have to be decompiled from the original jar and after modification recompiled using the same libraries and then updated into the jar. Therefore the right library is extremely important.</p>\n<p>So the question is which version should I be looking at or is there a better way to achieve what I need?</p>\n"},{"tags":["java","pdf","aspose.pdf"],"comments":[{"owner":{"account_id":5167138,"reputation":361,"user_id":4136788,"display_name":"Asad Ali"},"score":0,"creation_date":1690839134,"post_id":76802278,"comment_id":135406283,"body_markdown":"We request you please create a topic in Aspose.PDF official support forum along with you sample file. Please note that our support forum is the right and the recommended place to post such issues. This way we will be able to carry out proper investigation with provided files and you will also be able to track the progress appropriately. Please create a topic in the Aspose support forum (https://forum.aspose.com/c/pdf) and we will further proceed to assist you accordingly. This is Asad and I am Developer Evangelist at Aspose.","body":"We request you please create a topic in Aspose.PDF official support forum along with you sample file. Please note that our support forum is the right and the recommended place to post such issues. This way we will be able to carry out proper investigation with provided files and you will also be able to track the progress appropriately. Please create a topic in the Aspose support forum (<a href=\"https://forum.aspose.com/c/pdf\" rel=\"nofollow noreferrer\">forum.aspose.com/c/pdf</a>) and we will further proceed to assist you accordingly. This is Asad and I am Developer Evangelist at Aspose."},{"owner":{"account_id":2093031,"reputation":221,"user_id":1862396,"accept_rate":17,"display_name":"Manchanda. P"},"score":0,"creation_date":1690873037,"post_id":76802278,"comment_id":135409881,"body_markdown":"Thanks @Asad Ali for quick reply. The question has been posted to Aspose Support Forum: https://forum.aspose.com/t/aspose-pdf-java-getting-com-aspose-pdf-internal-ms-system-l7k-collection-is-of-a-fixed-size-exception-while-replacing-text-in-a-pdf-document/269177","body":"Thanks @Asad Ali for quick reply. The question has been posted to Aspose Support Forum: <a href=\"https://forum.aspose.com/t/aspose-pdf-java-getting-com-aspose-pdf-internal-ms-system-l7k-collection-is-of-a-fixed-size-exception-while-replacing-text-in-a-pdf-document/269177\" rel=\"nofollow noreferrer\">forum.aspose.com/t/&hellip;</a>"},{"owner":{"account_id":5167138,"reputation":361,"user_id":4136788,"display_name":"Asad Ali"},"score":0,"creation_date":1691010305,"post_id":76802278,"comment_id":135434556,"body_markdown":"Yes, we have noticed it and have shared our feedback there as well.","body":"Yes, we have noticed it and have shared our feedback there as well."}],"owner":{"account_id":2093031,"reputation":221,"user_id":1862396,"accept_rate":17,"display_name":"Manchanda. P"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690795839,"creation_date":1690795839,"question_id":76802278,"body_markdown":"I am evaluating Aspose.PDF&#39;s Java API to redact PII data in my PDF files and replace them with obfuscated text. My PDF contains some data as follows:\r\n\r\n - B, KATILDE\r\n - A, RICHARD\r\n - S, NARTURO\r\n\r\nThe order of appearance of these text values is same as in the PDF.\r\n\r\nHere&#39;s my sample code:\r\n\r\n \r\n\r\n    private void replaceTextInDocument(String sourceDoc, String destDoc, String textToReplace, String replacementText) {\r\n     Document pdfDocument = new Document(sourceDoc);\r\n        System.out.println(&quot;replaceTextInDocument processing: &quot; + textToReplace);\r\n    \r\n        // Create TextAbsorber object to find all instances of the input search phrase\r\n        TextFragmentAbsorber textFragmentAbsorber = new TextFragmentAbsorber(textToReplace);\r\n    \r\n        pdfDocument.getPages().accept(textFragmentAbsorber);\r\n    \r\n        // Get the extracted text fragments into collection\r\n        TextFragmentCollection textFragmentCollection = textFragmentAbsorber.getTextFragments();\r\n    \r\n        // Loop through the fragments\r\n        for (TextFragment textFragment : (Iterable&lt;TextFragment&gt;) textFragmentCollection) {\r\n          // Update text and other properties\r\n          textFragment.setText(replacementText);\r\n          textFragment.getTextState().setFont(FontRepository.findFont(&quot;Verdana&quot;));\r\n          textFragment.getTextState().setFontSize(8);\r\n          textFragment.getTextState().setForegroundColor(Color.getBlack());\r\n          textFragment.getTextState().setBackgroundColor(Color.getWhite());\r\n          }\r\n        // Save the updated PDF file\r\n        pdfDocument.save(destDoc);\r\n        pdfDocument.close();\r\n      }\r\n\r\nNow interestingly, this code is able to replace to &#39;*B, KATILDE*&#39; with *replacementText*. However, when I try to replace other two values (A, RICHARD or S, NARTURO), I get the following exception:\r\n\r\n    Exception in thread &quot;main&quot; com.aspose.pdf.internal.ms.System.l7k: **Collection is of a fixed size**\r\n    \tat com.aspose.pdf.internal.ms.System.ly$lb.removeAt(Unknown Source)\r\n    \tat com.aspose.pdf.ADocument.lI(Unknown Source)\r\n    \tat com.aspose.pdf.CharInfoCollection.copyTo(Unknown Source)\r\n    \tat com.aspose.pdf.l19y.lI(Unknown Source)\r\n    \tat com.aspose.pdf.l19y.lf(Unknown Source)\r\n    \tat com.aspose.pdf.TextFragment.lf(Unknown Source)\r\n    \tat com.aspose.pdf.TextFragment.setText(Unknown Source)\r\n\r\nI am able to replace *RICHARD* or *NARTURO* successfully.\r\n\r\nI am using v23.7 of the Aspose Library. Snippet from build.gradle:\r\n\r\n     implementation group: &#39;com.aspose&#39;,  name: &#39;aspose-pdf&#39;, version: &#39;23.7&#39;\r\n\r\nIt&#39;s very difficult to debug the Aspose code using IDE. So, I am unable to get more information about this issue.\r\n\r\nAny help or pointers to resolve this issue would be helpful.\r\n\r\nThanks","title":"Aspose.PDF Java Getting com.aspose.pdf.internal.ms.System.l7k: Collection is of a fixed size Exception while replacing text in a PDF Document","body":"<p>I am evaluating Aspose.PDF's Java API to redact PII data in my PDF files and replace them with obfuscated text. My PDF contains some data as follows:</p>\n<ul>\n<li>B, KATILDE</li>\n<li>A, RICHARD</li>\n<li>S, NARTURO</li>\n</ul>\n<p>The order of appearance of these text values is same as in the PDF.</p>\n<p>Here's my sample code:</p>\n<pre><code>private void replaceTextInDocument(String sourceDoc, String destDoc, String textToReplace, String replacementText) {\n Document pdfDocument = new Document(sourceDoc);\n    System.out.println(&quot;replaceTextInDocument processing: &quot; + textToReplace);\n\n    // Create TextAbsorber object to find all instances of the input search phrase\n    TextFragmentAbsorber textFragmentAbsorber = new TextFragmentAbsorber(textToReplace);\n\n    pdfDocument.getPages().accept(textFragmentAbsorber);\n\n    // Get the extracted text fragments into collection\n    TextFragmentCollection textFragmentCollection = textFragmentAbsorber.getTextFragments();\n\n    // Loop through the fragments\n    for (TextFragment textFragment : (Iterable&lt;TextFragment&gt;) textFragmentCollection) {\n      // Update text and other properties\n      textFragment.setText(replacementText);\n      textFragment.getTextState().setFont(FontRepository.findFont(&quot;Verdana&quot;));\n      textFragment.getTextState().setFontSize(8);\n      textFragment.getTextState().setForegroundColor(Color.getBlack());\n      textFragment.getTextState().setBackgroundColor(Color.getWhite());\n      }\n    // Save the updated PDF file\n    pdfDocument.save(destDoc);\n    pdfDocument.close();\n  }\n</code></pre>\n<p>Now interestingly, this code is able to replace to '<em>B, KATILDE</em>' with <em>replacementText</em>. However, when I try to replace other two values (A, RICHARD or S, NARTURO), I get the following exception:</p>\n<pre><code>Exception in thread &quot;main&quot; com.aspose.pdf.internal.ms.System.l7k: **Collection is of a fixed size**\n    at com.aspose.pdf.internal.ms.System.ly$lb.removeAt(Unknown Source)\n    at com.aspose.pdf.ADocument.lI(Unknown Source)\n    at com.aspose.pdf.CharInfoCollection.copyTo(Unknown Source)\n    at com.aspose.pdf.l19y.lI(Unknown Source)\n    at com.aspose.pdf.l19y.lf(Unknown Source)\n    at com.aspose.pdf.TextFragment.lf(Unknown Source)\n    at com.aspose.pdf.TextFragment.setText(Unknown Source)\n</code></pre>\n<p>I am able to replace <em>RICHARD</em> or <em>NARTURO</em> successfully.</p>\n<p>I am using v23.7 of the Aspose Library. Snippet from build.gradle:</p>\n<pre><code> implementation group: 'com.aspose',  name: 'aspose-pdf', version: '23.7'\n</code></pre>\n<p>It's very difficult to debug the Aspose code using IDE. So, I am unable to get more information about this issue.</p>\n<p>Any help or pointers to resolve this issue would be helpful.</p>\n<p>Thanks</p>\n"},{"tags":["java","dependency-injection","frameworks","inversion-of-control"],"answers":[{"comments":[{"owner":{"account_id":28381,"reputation":7355,"user_id":75793,"accept_rate":77,"display_name":"Kimble"},"score":0,"creation_date":1254938256,"post_id":1533210,"comment_id":1389068,"body_markdown":"I second that. Guice is lightweight and very little intrusive.","body":"I second that. Guice is lightweight and very little intrusive."}],"tags":[],"owner":{"account_id":564479,"reputation":91,"user_id":185818,"display_name":"Mani"},"comment_count":1,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1254938122,"creation_date":1254938122,"answer_id":1533210,"question_id":1533169,"body_markdown":"Maybe you should have a look at Google Guice: [http://code.google.com/p/google-guice/][1]\r\n\r\n\r\n  [1]: http://code.google.com/p/google-guice/","title":"small footprint dependency injection java","body":"<p>Maybe you should have a look at Google Guice: <a href=\"http://code.google.com/p/google-guice/\" rel=\"noreferrer\">http://code.google.com/p/google-guice/</a></p>\n"},{"comments":[{"owner":{"account_id":5100,"reputation":29377,"user_id":8026,"accept_rate":63,"display_name":"MetroidFan2002"},"score":0,"creation_date":1254942706,"post_id":1533218,"comment_id":1389460,"body_markdown":"I&#39;d recommend Spring with only using a BeanFactory implementation - much of Spring&#39;s &quot;heavyweight&quot; nature comes from using the ApplicationContext without people understanding what overhead (although cool features come with that overhead) the ApplicationContext adds on top of the BeanFactory.","body":"I&#39;d recommend Spring with only using a BeanFactory implementation - much of Spring&#39;s &quot;heavyweight&quot; nature comes from using the ApplicationContext without people understanding what overhead (although cool features come with that overhead) the ApplicationContext adds on top of the BeanFactory."},{"owner":{"account_id":24717,"reputation":264462,"user_id":63051,"accept_rate":95,"display_name":"flybywire"},"score":0,"creation_date":1255001880,"post_id":1533218,"comment_id":1393311,"body_markdown":"PicoContainer answers exactly to the requirements","body":"PicoContainer answers exactly to the requirements"}],"tags":[],"owner":{"account_id":2379,"reputation":49909,"user_id":3295,"accept_rate":62,"display_name":"toolkit"},"comment_count":2,"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1254938518,"creation_date":1254938202,"answer_id":1533218,"question_id":1533169,"body_markdown":"I would recommend [Spring][1], since this can provide a small footprint when using only the core packages.\r\n\r\nIf you think Spring is overkill, then perhaps [PicoContainer][2], or [guice][3]?\r\n\r\n\r\n  [1]: http://www.springsource.com/products/enterprise\r\n  [2]: http://www.picocontainer.org/\r\n  [3]: http://code.google.com/p/google-guice/","title":"small footprint dependency injection java","body":"<p>I would recommend <a href=\"http://www.springsource.com/products/enterprise\" rel=\"noreferrer\">Spring</a>, since this can provide a small footprint when using only the core packages.</p>\n\n<p>If you think Spring is overkill, then perhaps <a href=\"http://www.picocontainer.org/\" rel=\"noreferrer\">PicoContainer</a>, or <a href=\"http://code.google.com/p/google-guice/\" rel=\"noreferrer\">guice</a>?</p>\n"},{"tags":[],"owner":{"display_name":"user185947"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1254948443,"creation_date":1254948443,"answer_id":1534102,"question_id":1533169,"body_markdown":"Definitely look into Guice.  Been using it for a year, and absolutely love it.","title":"small footprint dependency injection java","body":"<p>Definitely look into Guice.  Been using it for a year, and absolutely love it.</p>\n"},{"tags":[],"owner":{"account_id":933477,"reputation":6047,"user_id":962872,"accept_rate":76,"display_name":"chrisapotek"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1353381998,"creation_date":1353381998,"answer_id":13466147,"question_id":1533169,"body_markdown":"I have been trying [MentaContainer][1] for less than a week now and I am satisfied by its clean and straightforward API. Instead of using XML or Annotations for the setup it uses a fluent API almost like a DSL which for me felt like like heaven because I am using it to build a small web container with IoC support. It provides a THREAD scope for the components which fits perfectly for the REQUEST scope of the web container. It is very lightweight so it may be what you need.\r\n\r\n\r\n  [1]: http://mentacontainer.soliveirajr.com","title":"small footprint dependency injection java","body":"<p>I have been trying <a href=\"http://mentacontainer.soliveirajr.com\" rel=\"nofollow\">MentaContainer</a> for less than a week now and I am satisfied by its clean and straightforward API. Instead of using XML or Annotations for the setup it uses a fluent API almost like a DSL which for me felt like like heaven because I am using it to build a small web container with IoC support. It provides a THREAD scope for the components which fits perfectly for the REQUEST scope of the web container. It is very lightweight so it may be what you need.</p>\n"},{"tags":[],"owner":{"account_id":2127935,"reputation":111,"user_id":1889543,"display_name":"user1889543"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1355063269,"creation_date":1355063269,"answer_id":13788299,"question_id":1533169,"body_markdown":"[Silk DI](http://www.silkdi.com/) is about `120K` single jar file with no further runtime dependencies. It has a fluent binder interface like guice but is more flexible and allows to remove features you don&#39;t like. E.g. `Collection` or `List` injection can be added in a *one liner*.","title":"small footprint dependency injection java","body":"<p><a href=\"http://www.silkdi.com/\" rel=\"nofollow\">Silk DI</a> is about <code>120K</code> single jar file with no further runtime dependencies. It has a fluent binder interface like guice but is more flexible and allows to remove features you don't like. E.g. <code>Collection</code> or <code>List</code> injection can be added in a <em>one liner</em>.</p>\n"},{"tags":[],"owner":{"account_id":4406705,"reputation":2296,"user_id":3590895,"accept_rate":29,"display_name":"jeorfevre"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1448154299,"creation_date":1448154299,"answer_id":33850497,"question_id":1533169,"body_markdown":"Take a look at dagger2, developped at google (forked of square&#39;s dagger1), for only 17kb jar. \r\n\r\n+ Much less boilerplate than guice\r\n+ compile time verification of injection (with explicit  error message. That&#39;s  something spring, guice does  definitly not)\r\n+ generate Facotries,  codes upon compile. **Very powerfull**\r\n\r\n\r\n[dagger2 documentation][1]\r\n[dagger2 github][2]\r\n[dagger2 examples][3]\r\n\r\n\r\n  [1]: http://google.github.io/dagger/\r\n  [2]: https://github.com/google/dagger\r\n  [3]: https://github.com/google/dagger/tree/master/examples","title":"small footprint dependency injection java","body":"<p>Take a look at dagger2, developped at google (forked of square's dagger1), for only 17kb jar. </p>\n\n<ul>\n<li>Much less boilerplate than guice</li>\n<li>compile time verification of injection (with explicit  error message. That's  something spring, guice does  definitly not)</li>\n<li>generate Facotries,  codes upon compile. <strong>Very powerfull</strong></li>\n</ul>\n\n<p><a href=\"http://google.github.io/dagger/\" rel=\"nofollow\">dagger2 documentation</a>\n<a href=\"https://github.com/google/dagger\" rel=\"nofollow\">dagger2 github</a>\n<a href=\"https://github.com/google/dagger/tree/master/examples\" rel=\"nofollow\">dagger2 examples</a></p>\n"},{"tags":[],"owner":{"account_id":17381100,"reputation":323,"user_id":12593296,"display_name":"Ermolai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690795269,"creation_date":1690795269,"answer_id":76802207,"question_id":1533169,"body_markdown":"Take a look at [ActiveJ Inject](https://activej.io/inject).\r\n\r\nIt is a lightweight dependency injection library. It is optimized for performance and has no third-party dependencies.\r\n\r\nIt is much faster than Spring DI or Guice and it is much lighter. Check the benchmarks [here](https://activej.io/inject/benchmarks)","title":"small footprint dependency injection java","body":"<p>Take a look at <a href=\"https://activej.io/inject\" rel=\"nofollow noreferrer\">ActiveJ Inject</a>.</p>\n<p>It is a lightweight dependency injection library. It is optimized for performance and has no third-party dependencies.</p>\n<p>It is much faster than Spring DI or Guice and it is much lighter. Check the benchmarks <a href=\"https://activej.io/inject/benchmarks\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":24717,"reputation":264462,"user_id":63051,"accept_rate":95,"display_name":"flybywire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2634,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":1533218,"answer_count":7,"score":2,"last_activity_date":1690795269,"creation_date":1254937812,"question_id":1533169,"body_markdown":"I am looking for a very lightweight dependency injection framework for java.\r\nWith minimum possible dependencies and minimum features.\r\n\r\nJust something along the following lines: receive a `java.util.List` of `Class`es, instantiate them and just auto-wire all the objects one into the other.\r\n\r\n","title":"small footprint dependency injection java","body":"<p>I am looking for a very lightweight dependency injection framework for java.\nWith minimum possible dependencies and minimum features.</p>\n\n<p>Just something along the following lines: receive a <code>java.util.List</code> of <code>Class</code>es, instantiate them and just auto-wire all the objects one into the other.</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1690189985,"post_id":76739450,"comment_id":135313550,"body_markdown":"You also need to tell the `@EnableJpaRepositories` which transaction manager to use. Also make sure that both transaction managers aren&#39;t named the same (preferably you rename the method as well). If that doesn&#39;t resolve the case how are you using the repositories please show the actual usage and please provide both configuration classes.","body":"You also need to tell the <code>@EnableJpaRepositories</code> which transaction manager to use. Also make sure that both transaction managers aren&#39;t named the same (preferably you rename the method as well). If that doesn&#39;t resolve the case how are you using the repositories please show the actual usage and please provide both configuration classes."},{"owner":{"account_id":6727,"reputation":26875,"user_id":11439,"accept_rate":70,"display_name":"sumek"},"score":2,"creation_date":1690208206,"post_id":76739450,"comment_id":135317529,"body_markdown":"@M.Deinum you were first and your answer helped me solve the specific issue I had. If you make your comment an answer I&#39;ll accept it","body":"@M.Deinum you were first and your answer helped me solve the specific issue I had. If you make your comment an answer I&#39;ll accept it"}],"answers":[{"tags":[],"owner":{"account_id":23402497,"reputation":7,"user_id":17465454,"display_name":"Md. Muntasir Enam"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1690208527,"creation_date":1690206028,"answer_id":76755093,"question_id":76739450,"body_markdown":"By default, spring data JPA expects one datasource. If you configure two datasources, you&#39;ll get runtime error. You must annotate one of them as `@Primary` (you&#39;ve already done that).\r\n\r\nNow all repositories will use primary datasource unless you tell them otherwise. Annotate your service with this: `@Transactional(readOnly = true, transactionManager = &quot;secondaryTransactionManager&quot;)` and then you&#39;ll be able to access your secondary datasource.\r\n\r\nPrimary datasource service example:\r\n\r\n    import org.springframework.transaction.annotation.Transactional;\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    @Transactional(readOnly = true)\r\n    public class PrimaryDatasourceService {\r\n    \r\n        @Nonnull private final MyPrimaryDataSourceModelRepository myPrimaryDataSourceModelRepository;\r\n    \r\n        @Nonnull\r\n        @Override\r\n        public List&lt;MyPrimaryDataSourceModel&gt; readData() {\r\n            return myPrimaryDataSourceModelRepository.findAll();\r\n        }\r\n    \r\n        @Override\r\n        @Transactional\r\n        public void writeData(@Nonnull final MyPrimaryDataSourceModel data) {\r\n            myPrimaryDataSourceModelRepository.save(data);\r\n        }\r\n    }\r\n\r\nSecondary datasource service example:\r\n\r\n    import org.springframework.transaction.annotation.Transactional;\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    @Transactional(readOnly = true, transactionManager = &quot;secondaryTransactionManager&quot;)\r\n    public class SecondaryDatasourceService {\r\n\r\n        @Nonnull private final MySecondaryDataSourceModelRepository mySecondaryDataSourceModelRepository;\r\n\r\n        @Nonnull\r\n        @Override\r\n        public List&lt;MySecondaryDataSourceModel&gt; readData() {\r\n            return mySecondaryDataSourceModelRepository.findAll();\r\n        }\r\n\r\n        @Override\r\n        @Transactional(transactionManager = &quot;secondaryTransactionManager&quot;)\r\n        public void writeData(@Nonnull final MySecondaryDataSourceModel data) {\r\n            mySecondaryDataSourceModelRepository.save(data);\r\n        }\r\n    }\r\n\r\n**BTW, your primary and secondary models and repositories need to be separate and your datasource configurations must use appropriate packages in annotations** like this:\r\n\r\nPrimary datasource configuration:\r\n\r\n    @Configuration\r\n    @EntityScan(basePackages = &quot;com.example.model.primary&quot;)\r\n    @EnableJpaRepositories(\r\n            basePackages = &quot;com.example.repository.primary&quot;,\r\n            entityManagerFactoryRef = &quot;primaryEntityManager&quot;,\r\n            transactionManagerRef = &quot;primaryTransactionManager&quot;\r\n    )\r\n    public class PrimaryDataSourceConfiguration {\r\n        // your @Primary annotated datasource, entityManager and transactionManager beans\r\n    }\r\n\r\nSecondary datasource configuration:\r\n\r\n    @Configuration\r\n    @EntityScan(basePackages = &quot;com.example.model.secondary&quot;)\r\n    @EnableJpaRepositories(\r\n            basePackages = &quot;com.example.repository.secondary&quot;,\r\n            entityManagerFactoryRef = &quot;secondaryEntityManager&quot;,\r\n            transactionManagerRef = &quot;secondaryTransactionManager&quot;\r\n    )\r\n    public class SecondaryDataSourceConfiguration {\r\n        // your datasource, entityManager and transactionManager beans\r\n    }\r\n\r\nAny JPA settings like `ddl-auto: update` or `show-sql: false` in your application.properties or application.yaml file, are common for both datasources. `ddl-auto: update` will make sure your DB reflects your models. So, if you do not separate your models and repositories, your datasource configurations will get messed up and your DB as well.","title":"Spring Data - JpaRepository using non-Primary EntityManager","body":"<p>By default, spring data JPA expects one datasource. If you configure two datasources, you'll get runtime error. You must annotate one of them as <code>@Primary</code> (you've already done that).</p>\n<p>Now all repositories will use primary datasource unless you tell them otherwise. Annotate your service with this: <code>@Transactional(readOnly = true, transactionManager = &quot;secondaryTransactionManager&quot;)</code> and then you'll be able to access your secondary datasource.</p>\n<p>Primary datasource service example:</p>\n<pre><code>import org.springframework.transaction.annotation.Transactional;\n\n@Service\n@RequiredArgsConstructor\n@Transactional(readOnly = true)\npublic class PrimaryDatasourceService {\n\n    @Nonnull private final MyPrimaryDataSourceModelRepository myPrimaryDataSourceModelRepository;\n\n    @Nonnull\n    @Override\n    public List&lt;MyPrimaryDataSourceModel&gt; readData() {\n        return myPrimaryDataSourceModelRepository.findAll();\n    }\n\n    @Override\n    @Transactional\n    public void writeData(@Nonnull final MyPrimaryDataSourceModel data) {\n        myPrimaryDataSourceModelRepository.save(data);\n    }\n}\n</code></pre>\n<p>Secondary datasource service example:</p>\n<pre><code>import org.springframework.transaction.annotation.Transactional;\n\n@Service\n@RequiredArgsConstructor\n@Transactional(readOnly = true, transactionManager = &quot;secondaryTransactionManager&quot;)\npublic class SecondaryDatasourceService {\n\n    @Nonnull private final MySecondaryDataSourceModelRepository mySecondaryDataSourceModelRepository;\n\n    @Nonnull\n    @Override\n    public List&lt;MySecondaryDataSourceModel&gt; readData() {\n        return mySecondaryDataSourceModelRepository.findAll();\n    }\n\n    @Override\n    @Transactional(transactionManager = &quot;secondaryTransactionManager&quot;)\n    public void writeData(@Nonnull final MySecondaryDataSourceModel data) {\n        mySecondaryDataSourceModelRepository.save(data);\n    }\n}\n</code></pre>\n<p><strong>BTW, your primary and secondary models and repositories need to be separate and your datasource configurations must use appropriate packages in annotations</strong> like this:</p>\n<p>Primary datasource configuration:</p>\n<pre><code>@Configuration\n@EntityScan(basePackages = &quot;com.example.model.primary&quot;)\n@EnableJpaRepositories(\n        basePackages = &quot;com.example.repository.primary&quot;,\n        entityManagerFactoryRef = &quot;primaryEntityManager&quot;,\n        transactionManagerRef = &quot;primaryTransactionManager&quot;\n)\npublic class PrimaryDataSourceConfiguration {\n    // your @Primary annotated datasource, entityManager and transactionManager beans\n}\n</code></pre>\n<p>Secondary datasource configuration:</p>\n<pre><code>@Configuration\n@EntityScan(basePackages = &quot;com.example.model.secondary&quot;)\n@EnableJpaRepositories(\n        basePackages = &quot;com.example.repository.secondary&quot;,\n        entityManagerFactoryRef = &quot;secondaryEntityManager&quot;,\n        transactionManagerRef = &quot;secondaryTransactionManager&quot;\n)\npublic class SecondaryDataSourceConfiguration {\n    // your datasource, entityManager and transactionManager beans\n}\n</code></pre>\n<p>Any JPA settings like <code>ddl-auto: update</code> or <code>show-sql: false</code> in your application.properties or application.yaml file, are common for both datasources. <code>ddl-auto: update</code> will make sure your DB reflects your models. So, if you do not separate your models and repositories, your datasource configurations will get messed up and your DB as well.</p>\n"},{"comments":[{"owner":{"account_id":92073,"reputation":1,"user_id":252518,"accept_rate":71,"display_name":"Freeman"},"score":0,"creation_date":1690790267,"post_id":76801363,"comment_id":135396710,"body_markdown":"Sorry, I first gave the answer and then saw the comment.\n@M.Deinum had given the correct answer, and this answer is only here for future viewers who see this question. I would also appreciate it if M.Deinum could provide his answer as well, so that if my answer is incomplete, it can be made complete!","body":"Sorry, I first gave the answer and then saw the comment. @M.Deinum had given the correct answer, and this answer is only here for future viewers who see this question. I would also appreciate it if M.Deinum could provide his answer as well, so that if my answer is incomplete, it can be made complete!"}],"tags":[],"owner":{"account_id":92073,"reputation":1,"user_id":252518,"accept_rate":71,"display_name":"Freeman"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690787319,"creation_date":1690787319,"answer_id":76801363,"question_id":76739450,"body_markdown":"I think you need to specify the transaction manager to be used by each `@EnableJpaRepositories` annotation. Additionally, ensure that the transaction managers have distinct names!\r\n\r\nSo first of all, update your `PostgresDataSourceConfigurations` class\r\n\r\n    @EnableJpaRepositories(\r\n        basePackages = &quot;dao.postgres&quot;,\r\n        entityManagerFactoryRef = &quot;postgresEntityManagerFactory&quot;,\r\n        transactionManagerRef = &quot;postgresTransactionManager&quot; //specify transaction manager\r\n    )\r\n    public class PostgresDataSourceConfigurations {\r\n        //your codes in here\r\n        \r\n        @Bean(name = &quot;postgresTransactionManager&quot;) //rename method to have a distinct name\r\n        @Primary\r\n        public PlatformTransactionManager postgresTransactionManager(\r\n            @Qualifier(&quot;postgresEntityManagerFactory&quot;) EntityManagerFactory entityManagerFactory) {\r\n            return new JpaTransactionManager(entityManagerFactory);\r\n        }\r\n        \r\n        //your codes in here\r\n    }\r\n\r\nthen create a separate configuration class for the SQL Server:\r\n\r\n    @EnableJpaRepositories(\r\n        basePackages = &quot;dao.sqlserver&quot;,\r\n        entityManagerFactoryRef = &quot;sqlServerEntityManagerFactory&quot;,\r\n        transactionManagerRef = &quot;sqlServerTransactionManager&quot; //specify transaction manager\r\n    )\r\n    public class SqlServerDataSourceConfigurations {\r\n        //similar to PostgresDataSourceConfigurations\r\n        \r\n        @Bean(name = &quot;sqlServerTransactionManager&quot;) //rename the method to have a distinct name\r\n        public PlatformTransactionManager sqlServerTransactionManager(\r\n            @Qualifier(&quot;sqlServerEntityManagerFactory&quot;) EntityManagerFactory entityManagerFactory) {\r\n            return new JpaTransactionManager(entityManagerFactory);\r\n        }\r\n        \r\n        //similar to PostgresDataSourceConfigurations\r\n    }\r\n\r\nas you see,each repository package will use the appropriate transaction manager, ensuring that the correct database connection is used!\r\n","title":"Spring Data - JpaRepository using non-Primary EntityManager","body":"<p>I think you need to specify the transaction manager to be used by each <code>@EnableJpaRepositories</code> annotation. Additionally, ensure that the transaction managers have distinct names!</p>\n<p>So first of all, update your <code>PostgresDataSourceConfigurations</code> class</p>\n<pre><code>@EnableJpaRepositories(\n    basePackages = &quot;dao.postgres&quot;,\n    entityManagerFactoryRef = &quot;postgresEntityManagerFactory&quot;,\n    transactionManagerRef = &quot;postgresTransactionManager&quot; //specify transaction manager\n)\npublic class PostgresDataSourceConfigurations {\n    //your codes in here\n    \n    @Bean(name = &quot;postgresTransactionManager&quot;) //rename method to have a distinct name\n    @Primary\n    public PlatformTransactionManager postgresTransactionManager(\n        @Qualifier(&quot;postgresEntityManagerFactory&quot;) EntityManagerFactory entityManagerFactory) {\n        return new JpaTransactionManager(entityManagerFactory);\n    }\n    \n    //your codes in here\n}\n</code></pre>\n<p>then create a separate configuration class for the SQL Server:</p>\n<pre><code>@EnableJpaRepositories(\n    basePackages = &quot;dao.sqlserver&quot;,\n    entityManagerFactoryRef = &quot;sqlServerEntityManagerFactory&quot;,\n    transactionManagerRef = &quot;sqlServerTransactionManager&quot; //specify transaction manager\n)\npublic class SqlServerDataSourceConfigurations {\n    //similar to PostgresDataSourceConfigurations\n    \n    @Bean(name = &quot;sqlServerTransactionManager&quot;) //rename the method to have a distinct name\n    public PlatformTransactionManager sqlServerTransactionManager(\n        @Qualifier(&quot;sqlServerEntityManagerFactory&quot;) EntityManagerFactory entityManagerFactory) {\n        return new JpaTransactionManager(entityManagerFactory);\n    }\n    \n    //similar to PostgresDataSourceConfigurations\n}\n</code></pre>\n<p>as you see,each repository package will use the appropriate transaction manager, ensuring that the correct database connection is used!</p>\n"}],"owner":{"account_id":6727,"reputation":26875,"user_id":11439,"accept_rate":70,"display_name":"sumek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1690794442,"creation_date":1689954539,"question_id":76739450,"body_markdown":"I&#39;ve got two connections to the database in my application, one for Postgres, one for SQL Server. They use the same entity model and I want to use them to store same data in both databases.\r\n\r\nI specify as beans appropriate `LocalContainerEntityManagerFactoryBean` s, `PlatformTransactionManager` s, and `DataSource`s. I&#39;ve got two set of repositories and I&#39;d like one of them to use one database, and the other repository to use the second database. Yet both of my repositories are always use the `@Primary` set of the beans\r\n\r\nI specify the package that contains either first or the second repository in the `@EnableJpaRepositories` annotation of the `@Configuration` class containing the beans like below. I was hoping this will make sure that the wiring will happen correctly. What am I doing incorrectly?\r\n\r\n```\r\n@EnableJpaRepositories(basePackages=&quot;dao.postgres&quot;,\r\n    entityManagerFactoryRef = &quot;postgresEntityManagerFactory&quot;\r\n)\r\npublic class PostgresDataSourceConfigurations {\r\n\r\n\r\n  @Bean\r\n  @ConfigurationProperties(&quot;spring.datasource.postgresql&quot;)\r\n  public DataSourceProperties postgresqlDataSourceProperties() {\r\n    return new DataSourceProperties();\r\n  }\r\n\r\n\r\n  @Qualifier(&quot;postgresDataSource&quot;)\r\n  @Bean\r\n  @Primary\r\n  public DataSource postgresqlDataSource() {\r\n    return postgresqlDataSourceProperties().initializeDataSourceBuilder().build();\r\n  }\r\n\r\n  @Bean(name = &quot;postgresEntityManagerFactory&quot;)\r\n  @Primary\r\n  public LocalContainerEntityManagerFactoryBean entityManagerFactory(\r\n      EntityManagerFactoryBuilder builder, @Qualifier(&quot;postgresDataSource&quot;) DataSource dataSource) {\r\n    return builder\r\n        .dataSource(dataSource)\r\n        .packages(&quot;profiles&quot;, &quot;outbox&quot;)\r\n        .persistenceUnit(&quot;postgresPersistenceUnit&quot;)\r\n        .build();\r\n  }\r\n  @Bean(name = &quot;postgresTransactionManager&quot;)\r\n  @Primary\r\n  public PlatformTransactionManager transactionManager(\r\n      @Qualifier(&quot;postgresEntityManagerFactory&quot;) EntityManagerFactory entityManagerFactory) {\r\n    return new JpaTransactionManager(entityManagerFactory);\r\n  }\r\n\r\n``` \r\n\r\n```\r\npackage dao.postgres;\r\n\r\nimport domain.Address;\r\nimport org.springframework.data.repository.CrudRepository;\r\n\r\nimport java.util.UUID;\r\n\r\npublic interface PostgresAddressDao extends CrudRepository&lt;Address, UUID&gt; {\r\n\r\n}\r\n```","title":"Spring Data - JpaRepository using non-Primary EntityManager","body":"<p>I've got two connections to the database in my application, one for Postgres, one for SQL Server. They use the same entity model and I want to use them to store same data in both databases.</p>\n<p>I specify as beans appropriate <code>LocalContainerEntityManagerFactoryBean</code> s, <code>PlatformTransactionManager</code> s, and <code>DataSource</code>s. I've got two set of repositories and I'd like one of them to use one database, and the other repository to use the second database. Yet both of my repositories are always use the <code>@Primary</code> set of the beans</p>\n<p>I specify the package that contains either first or the second repository in the <code>@EnableJpaRepositories</code> annotation of the <code>@Configuration</code> class containing the beans like below. I was hoping this will make sure that the wiring will happen correctly. What am I doing incorrectly?</p>\n<pre><code>@EnableJpaRepositories(basePackages=&quot;dao.postgres&quot;,\n    entityManagerFactoryRef = &quot;postgresEntityManagerFactory&quot;\n)\npublic class PostgresDataSourceConfigurations {\n\n\n  @Bean\n  @ConfigurationProperties(&quot;spring.datasource.postgresql&quot;)\n  public DataSourceProperties postgresqlDataSourceProperties() {\n    return new DataSourceProperties();\n  }\n\n\n  @Qualifier(&quot;postgresDataSource&quot;)\n  @Bean\n  @Primary\n  public DataSource postgresqlDataSource() {\n    return postgresqlDataSourceProperties().initializeDataSourceBuilder().build();\n  }\n\n  @Bean(name = &quot;postgresEntityManagerFactory&quot;)\n  @Primary\n  public LocalContainerEntityManagerFactoryBean entityManagerFactory(\n      EntityManagerFactoryBuilder builder, @Qualifier(&quot;postgresDataSource&quot;) DataSource dataSource) {\n    return builder\n        .dataSource(dataSource)\n        .packages(&quot;profiles&quot;, &quot;outbox&quot;)\n        .persistenceUnit(&quot;postgresPersistenceUnit&quot;)\n        .build();\n  }\n  @Bean(name = &quot;postgresTransactionManager&quot;)\n  @Primary\n  public PlatformTransactionManager transactionManager(\n      @Qualifier(&quot;postgresEntityManagerFactory&quot;) EntityManagerFactory entityManagerFactory) {\n    return new JpaTransactionManager(entityManagerFactory);\n  }\n\n</code></pre>\n<pre><code>package dao.postgres;\n\nimport domain.Address;\nimport org.springframework.data.repository.CrudRepository;\n\nimport java.util.UUID;\n\npublic interface PostgresAddressDao extends CrudRepository&lt;Address, UUID&gt; {\n\n}\n</code></pre>\n"},{"tags":["java","email"],"answers":[{"tags":[],"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690794055,"creation_date":1690794055,"answer_id":76802090,"question_id":76802075,"body_markdown":"Ah, me stupid. I had to remove this line:\r\n\r\n    prop.put(&quot;mail.smtp.auth&quot;, true);\r\n","title":"Postfix and javax.mail - failed to connect","body":"<p>Ah, me stupid. I had to remove this line:</p>\n<pre><code>prop.put(&quot;mail.smtp.auth&quot;, true);\n</code></pre>\n"}],"owner":{"account_id":449256,"reputation":2120,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76802090,"answer_count":1,"score":0,"last_activity_date":1690794055,"creation_date":1690793972,"question_id":76802075,"body_markdown":"In order to send double-opt-in-mails I need to send eMails to registrees.\r\n\r\nSo I install Postfix, uncomment the line (`master.cf`):\r\n\r\n    127.0.0.1:submission inet n -   y       -       -       smtpd\r\n\r\nThen I reload the service using \r\n\r\n    postfix reload\r\n\r\nAnd tail-f the `/var/log/mail.log`\r\n\r\n    tail -f /var/log/mail.log\r\n\r\nSo far, the output is: `Jul 31 08:50:43 xxx postfix/master[3019]: reload -- version 3.6.4, configuration /etc/postfix`\r\n\r\nOk. Then I compile and execute this java code:\r\n\r\n\r\n        public static void main(String[] args) throws MessagingException {\r\n                Properties prop = new Properties();\r\n                prop.put(&quot;mail.smtp.auth&quot;, true);\r\n                prop.put(&quot;mail.smtp.host&quot;, &quot;localhost&quot;);\r\n                prop.put(&quot;mail.smtp.port&quot;, &quot;25&quot;);\r\n                Session session = Session.getInstance(prop);\r\n                MimeMessage registerMail = new MimeMessage(session);\r\n                try {\r\n                        registerMail.setSender(new InternetAddress(&quot;xxx@xxx&quot;));\r\n                } catch (MessagingException e) {\r\n                        e.printStackTrace();\r\n                }\r\n                registerMail.setRecipients(RecipientType.TO, &quot;xxx@xxx&quot;);\r\n                registerMail.setSubject(&quot;HI&quot;);\r\n                registerMail.setContent(&quot;adsf&quot;, &quot;plain/text&quot;);\r\n                Transport.send(registerMail);\r\n        }\r\n\r\nBut I get a exception:\r\n\r\n    Exception in thread &quot;main&quot; javax.mail.AuthenticationFailedException: failed to connect, no password specified?\r\n    \tat javax.mail.Service.connect(Service.java:376)\r\n    \tat javax.mail.Service.connect(Service.java:222)\r\n    \tat javax.mail.Service.connect(Service.java:171)\r\n    \tat javax.mail.Transport.send0(Transport.java:230)\r\n    \tat javax.mail.Transport.send(Transport.java:100)\r\n    \tat Snippet.main(Snippet.java:29)\r\n\r\nThe postfix logging does not say a word. So I check the netstat using `netstat -lnp` and this is the output:\r\n\r\n    Active Internet connections (only servers)\r\n    Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    \r\n    tcp        0      0 0.0.0.0:25              0.0.0.0:*               LISTEN      3019/master         \r\n\r\nFrom what I can tell: the port is available but java is not able to connect. Why is that? If I need to supply a password, where is the password located?","title":"Postfix and javax.mail - failed to connect","body":"<p>In order to send double-opt-in-mails I need to send eMails to registrees.</p>\n<p>So I install Postfix, uncomment the line (<code>master.cf</code>):</p>\n<pre><code>127.0.0.1:submission inet n -   y       -       -       smtpd\n</code></pre>\n<p>Then I reload the service using</p>\n<pre><code>postfix reload\n</code></pre>\n<p>And tail-f the <code>/var/log/mail.log</code></p>\n<pre><code>tail -f /var/log/mail.log\n</code></pre>\n<p>So far, the output is: <code>Jul 31 08:50:43 xxx postfix/master[3019]: reload -- version 3.6.4, configuration /etc/postfix</code></p>\n<p>Ok. Then I compile and execute this java code:</p>\n<pre><code>    public static void main(String[] args) throws MessagingException {\n            Properties prop = new Properties();\n            prop.put(&quot;mail.smtp.auth&quot;, true);\n            prop.put(&quot;mail.smtp.host&quot;, &quot;localhost&quot;);\n            prop.put(&quot;mail.smtp.port&quot;, &quot;25&quot;);\n            Session session = Session.getInstance(prop);\n            MimeMessage registerMail = new MimeMessage(session);\n            try {\n                    registerMail.setSender(new InternetAddress(&quot;xxx@xxx&quot;));\n            } catch (MessagingException e) {\n                    e.printStackTrace();\n            }\n            registerMail.setRecipients(RecipientType.TO, &quot;xxx@xxx&quot;);\n            registerMail.setSubject(&quot;HI&quot;);\n            registerMail.setContent(&quot;adsf&quot;, &quot;plain/text&quot;);\n            Transport.send(registerMail);\n    }\n</code></pre>\n<p>But I get a exception:</p>\n<pre><code>Exception in thread &quot;main&quot; javax.mail.AuthenticationFailedException: failed to connect, no password specified?\n    at javax.mail.Service.connect(Service.java:376)\n    at javax.mail.Service.connect(Service.java:222)\n    at javax.mail.Service.connect(Service.java:171)\n    at javax.mail.Transport.send0(Transport.java:230)\n    at javax.mail.Transport.send(Transport.java:100)\n    at Snippet.main(Snippet.java:29)\n</code></pre>\n<p>The postfix logging does not say a word. So I check the netstat using <code>netstat -lnp</code> and this is the output:</p>\n<pre><code>Active Internet connections (only servers)\nProto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    \ntcp        0      0 0.0.0.0:25              0.0.0.0:*               LISTEN      3019/master         \n</code></pre>\n<p>From what I can tell: the port is available but java is not able to connect. Why is that? If I need to supply a password, where is the password located?</p>\n"},{"tags":["java","spring","spring-boot","tomcat","file-upload"],"comments":[{"owner":{"account_id":3442780,"reputation":4961,"user_id":2884309,"accept_rate":73,"display_name":"Ivan Aracki"},"score":0,"creation_date":1449666176,"post_id":34177873,"comment_id":56105185,"body_markdown":"as far as I know, it&#39;s better to set maxFileSize and maxRequestSize... good question anyway!","body":"as far as I know, it&#39;s better to set maxFileSize and maxRequestSize... good question anyway!"},{"owner":{"account_id":552980,"reputation":2406,"user_id":918277,"accept_rate":80,"display_name":"Ravindu"},"score":0,"creation_date":1449716512,"post_id":34177873,"comment_id":56132160,"body_markdown":"i want to what is the maxfile size it can handle.","body":"i want to what is the maxfile size it can handle."},{"owner":{"account_id":1613152,"reputation":570,"user_id":1491566,"display_name":"Tony the Tech"},"score":2,"creation_date":1553805785,"post_id":34177873,"comment_id":97533636,"body_markdown":"Unlimited is never a good thing for stuff like this. Better to set it to a large number - bigger than you would ever expect. Someone uploads a file larger than that, and it may very well be an attack, and you&#39;ll be grateful for that `IllegalStateException` that saved your site.","body":"Unlimited is never a good thing for stuff like this. Better to set it to a large number - bigger than you would ever expect. Someone uploads a file larger than that, and it may very well be an attack, and you&#39;ll be grateful for that <code>IllegalStateException</code> that saved your site."}],"answers":[{"tags":[],"owner":{"account_id":2027481,"reputation":445,"user_id":1812095,"display_name":"mbaranauskas"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1552593063,"creation_date":1452107321,"answer_id":34640826,"question_id":34177873,"body_markdown":"Setting `multipart.max-file-size=128MB` and `multipart.max-request-size=128MB` works for me without additional configuration.","title":"Max limit of MultipartFile in Spring Boot","body":"<p>Setting <code>multipart.max-file-size=128MB</code> and <code>multipart.max-request-size=128MB</code> works for me without additional configuration.</p>\n"},{"comments":[{"owner":{"account_id":6155145,"reputation":867,"user_id":4798386,"accept_rate":83,"display_name":"jimmbraddock"},"score":3,"creation_date":1481798003,"post_id":37359890,"comment_id":69524707,"body_markdown":"For more specific: \n\n    `spring.http.multipart.max-file-size=128KB`\n    `spring.http.multipart.max-request-size=128KB`","body":"For more specific:       <code>spring.http.multipart.max-file-size=128KB</code>     <code>spring.http.multipart.max-request-size=128KB</code>"},{"owner":{"account_id":1034513,"reputation":60,"user_id":1042159,"display_name":"Marcos Paulo SUS"},"score":4,"creation_date":1485541873,"post_id":37359890,"comment_id":70983700,"body_markdown":"I tested this solution and it worked for me. 400GB file uploaded! I didn&#39;t have to configure nothing else because i&#39;m using jetty.\nspring.http.multipart.max-file-size=-1 spring.http.multipart.max-request-size=-1 as sugested by @jimmbraddock","body":"I tested this solution and it worked for me. 400GB file uploaded! I didn&#39;t have to configure nothing else because i&#39;m using jetty. spring.http.multipart.max-file-size=-1 spring.http.multipart.max-request-size=-1 as sugested by @jimmbraddock"},{"owner":{"account_id":18455101,"reputation":101,"user_id":13444099,"display_name":"Lime莉茉"},"score":0,"creation_date":1633984515,"post_id":37359890,"comment_id":122900703,"body_markdown":"As in test, we never know what size of the file a user will input, this answer is exactly what I&#39;m looking for!","body":"As in test, we never know what size of the file a user will input, this answer is exactly what I&#39;m looking for!"}],"tags":[],"owner":{"account_id":343040,"reputation":860,"user_id":674513,"display_name":"Amol"},"comment_count":3,"down_vote_count":0,"up_vote_count":79,"is_accepted":true,"score":79,"last_activity_date":1552593163,"creation_date":1463813852,"answer_id":37359890,"question_id":34177873,"body_markdown":"***For unlimited upload file size*** \r\n\r\nIt seems setting `-1` will make it for infinite file size.\r\n\r\n**Before Spring Boot 2.0:**\r\n\r\n    spring.http.multipart.max-file-size=-1\r\n    spring.http.multipart.max-request-size=-1\r\n\r\n**After Spring Boot 2.0:**\r\n\r\n    spring.servlet.multipart.max-file-size=-1\r\n    spring.servlet.multipart.max-request-size=-1","title":"Max limit of MultipartFile in Spring Boot","body":"<p><strong><em>For unlimited upload file size</em></strong> </p>\n\n<p>It seems setting <code>-1</code> will make it for infinite file size.</p>\n\n<p><strong>Before Spring Boot 2.0:</strong></p>\n\n<pre><code>spring.http.multipart.max-file-size=-1\nspring.http.multipart.max-request-size=-1\n</code></pre>\n\n<p><strong>After Spring Boot 2.0:</strong></p>\n\n<pre><code>spring.servlet.multipart.max-file-size=-1\nspring.servlet.multipart.max-request-size=-1\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9725157,"reputation":2553,"user_id":7212399,"accept_rate":100,"display_name":"Pratik Ambani"},"score":3,"creation_date":1620992909,"post_id":44332602,"comment_id":119367627,"body_markdown":"Tried looking for difference between these two but no luck. Can you please share some reference?","body":"Tried looking for difference between these two but no luck. Can you please share some reference?"},{"owner":{"account_id":7193357,"reputation":325,"user_id":5492926,"display_name":"Alfaz Jikani"},"score":3,"creation_date":1627873380,"post_id":44332602,"comment_id":121263602,"body_markdown":"If your request has multiple files then max-request-size will be limit of size combining all files.","body":"If your request has multiple files then max-request-size will be limit of size combining all files."},{"owner":{"account_id":178596,"reputation":10817,"user_id":410677,"accept_rate":78,"display_name":"kuhajeyan"},"score":0,"creation_date":1639746893,"post_id":44332602,"comment_id":124433911,"body_markdown":"make sure you dont leave space such as 10 MB. \ncorrect: it should be 10MB","body":"make sure you dont leave space such as 10 MB.  correct: it should be 10MB"},{"owner":{"account_id":13245542,"reputation":664,"user_id":11300267,"display_name":"Cat-Lord"},"score":0,"creation_date":1666266101,"post_id":44332602,"comment_id":130898149,"body_markdown":"Defaults can be found in [the official docs](https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties.web) (search for &quot;multipart&quot;)","body":"Defaults can be found in <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html#appendix.application-properties.web\" rel=\"nofollow noreferrer\">the official docs</a> (search for &quot;multipart&quot;)"}],"tags":[],"owner":{"account_id":7605508,"reputation":1588,"user_id":5768435,"display_name":"A. Thom"},"comment_count":4,"down_vote_count":0,"up_vote_count":136,"is_accepted":false,"score":136,"last_activity_date":1552590581,"creation_date":1496417681,"answer_id":44332602,"question_id":34177873,"body_markdown":"For those using Spring Boot 2.0 (as of M1 release), the property names have changed to:\r\n\r\n    spring.servlet.multipart.max-file-size=10MB\r\n    spring.servlet.multipart.max-request-size=10MB\r\n\r\nNote the prefix is `spring.servlet` instead of `spring.http`.","title":"Max limit of MultipartFile in Spring Boot","body":"<p>For those using Spring Boot 2.0 (as of M1 release), the property names have changed to:</p>\n\n<pre><code>spring.servlet.multipart.max-file-size=10MB\nspring.servlet.multipart.max-request-size=10MB\n</code></pre>\n\n<p>Note the prefix is <code>spring.servlet</code> instead of <code>spring.http</code>.</p>\n"},{"comments":[{"owner":{"account_id":4292229,"reputation":841,"user_id":3546123,"display_name":"aherocalledFrog"},"score":2,"creation_date":1556313022,"post_id":54302823,"comment_id":98409743,"body_markdown":"Note: For a .yml file, your file size still needs to be capitalized. 15MB instead of 15Mb.","body":"Note: For a .yml file, your file size still needs to be capitalized. 15MB instead of 15Mb."}],"tags":[],"owner":{"account_id":7113112,"reputation":1881,"user_id":5440323,"display_name":"Deva"},"comment_count":1,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1556349005,"creation_date":1548140398,"answer_id":54302823,"question_id":34177873,"body_markdown":"In my `application.yml` file\r\n\r\n    spring:\r\n     servlet:\r\n        multipart:\r\n          max-file-size: 15MB\r\n          max-request-size: 15MB\r\n\r\nAnd If you have `application.properties` file \r\n\r\n    spring.servlet.multipart.max-file-size = 15MB\r\n    spring.servlet.multipart.max-request-size = 15MB\r\n\r\nEven You can set file size to infinite\r\n\r\n    spring.servlet.multipart.max-file-size =-1\r\n    spring.servlet.multipart.max-request-size =-1","title":"Max limit of MultipartFile in Spring Boot","body":"<p>In my <code>application.yml</code> file</p>\n\n<pre><code>spring:\n servlet:\n    multipart:\n      max-file-size: 15MB\n      max-request-size: 15MB\n</code></pre>\n\n<p>And If you have <code>application.properties</code> file </p>\n\n<pre><code>spring.servlet.multipart.max-file-size = 15MB\nspring.servlet.multipart.max-request-size = 15MB\n</code></pre>\n\n<p>Even You can set file size to infinite</p>\n\n<pre><code>spring.servlet.multipart.max-file-size =-1\nspring.servlet.multipart.max-request-size =-1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15190407,"reputation":13087,"user_id":10961238,"display_name":"Romil Patel"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1567703448,"creation_date":1567703448,"answer_id":57810158,"question_id":34177873,"body_markdown":"Spring Boot have embbeed Tomcat with it so we don&#39;t need to configure it. MULTIPART properties in application-properties will take care of it.\r\n\r\nFor an external server, the default limit is `50MB`. We can see it by opening `webapps/manager/WEB-INF/web.xml`\r\n\r\n    &lt;multipart-config&gt;\r\n       &lt;max-file-size&gt;52428800&lt;/max-file-size&gt;\r\n       &lt;max-request-size&gt;52428800&lt;/max-request-size&gt;\r\n       &lt;file-size-threshold&gt;0&lt;/file-size-threshold&gt;\r\n    &lt;/multipart-config&gt;\r\n\r\n**MULTIPART properties have been changed according to versions.**\r\n\r\n*Spring Boot 1.3.x and earlier*\r\n\r\n    multipart.max-file-size\r\n    multipart.max-request-size\r\n\r\n*After Spring Boot 1.3.x:*\r\n\r\n    spring.http.multipart.max-file-size=-1\r\n    spring.http.multipart.max-request-size=-1\r\n\r\n*After Spring Boot 2.0:*\r\n\r\n    spring.servlet.multipart.max-file-size=-1\r\n    spring.servlet.multipart.max-request-size=-1 ","title":"Max limit of MultipartFile in Spring Boot","body":"<p>Spring Boot have embbeed Tomcat with it so we don't need to configure it. MULTIPART properties in application-properties will take care of it.</p>\n\n<p>For an external server, the default limit is <code>50MB</code>. We can see it by opening <code>webapps/manager/WEB-INF/web.xml</code></p>\n\n<pre><code>&lt;multipart-config&gt;\n   &lt;max-file-size&gt;52428800&lt;/max-file-size&gt;\n   &lt;max-request-size&gt;52428800&lt;/max-request-size&gt;\n   &lt;file-size-threshold&gt;0&lt;/file-size-threshold&gt;\n&lt;/multipart-config&gt;\n</code></pre>\n\n<p><strong>MULTIPART properties have been changed according to versions.</strong></p>\n\n<p><em>Spring Boot 1.3.x and earlier</em></p>\n\n<pre><code>multipart.max-file-size\nmultipart.max-request-size\n</code></pre>\n\n<p><em>After Spring Boot 1.3.x:</em></p>\n\n<pre><code>spring.http.multipart.max-file-size=-1\nspring.http.multipart.max-request-size=-1\n</code></pre>\n\n<p><em>After Spring Boot 2.0:</em></p>\n\n<pre><code>spring.servlet.multipart.max-file-size=-1\nspring.servlet.multipart.max-request-size=-1 \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3411672,"reputation":95,"user_id":7301777,"display_name":"Mohammad Wasim Khan"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607919147,"creation_date":1607919147,"answer_id":65283494,"question_id":34177873,"body_markdown":"I am still looking for the answer, What is maximum size we can upload with multiPartFile in springboot application but i have used 450mb successfully and it took approx 10min to do that. Below is the only configuration i did in application.properties file to make it work : \r\n\r\n    spring.servlet.multipart.max-file-size=500MB\r\n    spring.servlet.multipart.max-request-size=500MB","title":"Max limit of MultipartFile in Spring Boot","body":"<p>I am still looking for the answer, What is maximum size we can upload with multiPartFile in springboot application but i have used 450mb successfully and it took approx 10min to do that. Below is the only configuration i did in application.properties file to make it work :</p>\n<pre><code>spring.servlet.multipart.max-file-size=500MB\nspring.servlet.multipart.max-request-size=500MB\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16700807,"reputation":21,"user_id":12070631,"display_name":"Vishal Agrawal"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653285788,"creation_date":1653284638,"answer_id":72343711,"question_id":34177873,"body_markdown":"\r\n\r\n\r\nThis gonna work\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    spring:\r\n      servlet:\r\n        multipart:\r\n          enabled: true\r\n          max-file-size: 4GB\r\n          max-request-size: 4GB\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n[![][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Mjwak.png","title":"Max limit of MultipartFile in Spring Boot","body":"<p>This gonna work\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>spring:\n  servlet:\n    multipart:\n      enabled: true\n      max-file-size: 4GB\n      max-request-size: 4GB</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><a href=\"https://i.stack.imgur.com/Mjwak.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mjwak.png\" alt=\"\" /></a></p>\n"},{"tags":[],"owner":{"account_id":10885121,"reputation":61,"user_id":8002885,"display_name":"nandha"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690794014,"creation_date":1690794014,"answer_id":76802081,"question_id":34177873,"body_markdown":"If you are using Spring 3+ and tomcat 10+ `server.tomcat.max-http-form-post-size=4000MB` is the properties you are looking for. All the others are not working for setting the max file size","title":"Max limit of MultipartFile in Spring Boot","body":"<p>If you are using Spring 3+ and tomcat 10+ <code>server.tomcat.max-http-form-post-size=4000MB</code> is the properties you are looking for. All the others are not working for setting the max file size</p>\n"}],"owner":{"account_id":552980,"reputation":2406,"user_id":918277,"accept_rate":80,"display_name":"Ravindu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150897,"favorite_count":0,"down_vote_count":0,"up_vote_count":99,"accepted_answer_id":37359890,"answer_count":8,"score":99,"last_activity_date":1690794014,"creation_date":1449661028,"question_id":34177873,"body_markdown":"Is there a maximum file size that spring boot can handle in a `MultipartFile` upload process. I know that I can set the `maxFileSize` in the property like `multipart.maxFileSize=1Mb`. \r\n\r\nSo, like that can I allow a huge file to upload, like 50MB. The application runs on the Tomcat server integrated with Spring Boot. Do I need to configure the tomcat server also? Or is the file size *unlimited*?","title":"Max limit of MultipartFile in Spring Boot","body":"<p>Is there a maximum file size that spring boot can handle in a <code>MultipartFile</code> upload process. I know that I can set the <code>maxFileSize</code> in the property like <code>multipart.maxFileSize=1Mb</code>. </p>\n\n<p>So, like that can I allow a huge file to upload, like 50MB. The application runs on the Tomcat server integrated with Spring Boot. Do I need to configure the tomcat server also? Or is the file size <em>unlimited</em>?</p>\n"},{"tags":["java","spring-boot","logging","spring-webflux","reactive"],"comments":[{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":1,"creation_date":1690794591,"post_id":76802071,"comment_id":135397513,"body_markdown":"Depending on what your use case is, you could either add the step `.doOnError(e -&gt; logExecutionTime(className, methodName, stopWatch))` or replace the `.flatmap(...)` with `.doFinally(...)`. Additional note: You seem to return the same element as the input in the flatmap in both the Mono and Flux case, so maybe `.doOnNext(...)` is more correct for the cases?","body":"Depending on what your use case is, you could either add the step <code>.doOnError(e -&gt; logExecutionTime(className, methodName, stopWatch))</code> or replace the <code>.flatmap(...)</code> with <code>.doFinally(...)</code>. Additional note: You seem to return the same element as the input in the flatmap in both the Mono and Flux case, so maybe <code>.doOnNext(...)</code> is more correct for the cases?"},{"owner":{"account_id":1598790,"reputation":199,"user_id":1480299,"display_name":"AD90"},"score":0,"creation_date":1690797966,"post_id":76802071,"comment_id":135398147,"body_markdown":"Thank you. I&#39;m writing this at a central place - an advice. doFinally, doOnNext are not working at central place. If I add the code exactly where the Flux is generated (a controller method), then it works. Any idea to make it work in advice?","body":"Thank you. I&#39;m writing this at a central place - an advice. doFinally, doOnNext are not working at central place. If I add the code exactly where the Flux is generated (a controller method), then it works. Any idea to make it work in advice?"},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1690800055,"post_id":76802071,"comment_id":135398508,"body_markdown":"I&#39;m not sure I follow. If you replace `flatMap(...)` with `doOnNext(v -&gt; logExecutionTime(className, methodName, stopWatch))`, I don&#39;t see a reason why it wouldn&#39;t be called when `proceedingJoinPoint.proceed()` doesn&#39;t send an error signal. So the combination of `doOnNext(...)` and `doOnError(...)` should assure that `logExecutionTime(...)` is called. The option, `doFinally(...)` is called upon termination of the publisher, so I&#39;d assume it wouldn&#39;t fit the use case for your stopwatch.","body":"I&#39;m not sure I follow. If you replace <code>flatMap(...)</code> with <code>doOnNext(v -&gt; logExecutionTime(className, methodName, stopWatch))</code>, I don&#39;t see a reason why it wouldn&#39;t be called when <code>proceedingJoinPoint.proceed()</code> doesn&#39;t send an error signal. So the combination of <code>doOnNext(...)</code> and <code>doOnError(...)</code> should assure that <code>logExecutionTime(...)</code> is called. The option, <code>doFinally(...)</code> is called upon termination of the publisher, so I&#39;d assume it wouldn&#39;t fit the use case for your stopwatch."},{"owner":{"account_id":1598790,"reputation":199,"user_id":1480299,"display_name":"AD90"},"score":0,"creation_date":1690826133,"post_id":76802071,"comment_id":135404009,"body_markdown":"It works. I was not subscribing to it after doing doOnNext or doOnError. Thank you for you help.","body":"It works. I was not subscribing to it after doing doOnNext or doOnError. Thank you for you help."}],"owner":{"account_id":1598790,"reputation":199,"user_id":1480299,"display_name":"AD90"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690793868,"creation_date":1690793868,"question_id":76802071,"body_markdown":"I&#39;m working on logging the START, END and time taken by methods which generate Flux or Mono. I have used implementation as below.\r\n\r\nThis code works fine, but is a problems - \r\n\r\nWhen there is an exception - the Exit and time never gets logged. When debugged, the flow never goes into flatMap() or collectList(). Could you please check and advice if any issues?\r\n\r\n```\r\n@Aspect\r\n@Component\r\n@Slf4j\r\npublic class LoggingAspect\r\n{\r\n\r\n    //AOP expression for which methods shall be intercepted\r\n    @Around(&quot;execution(* com.company.service..*(..)))&quot;)\r\n    public Object logEndpointPerformance(ProceedingJoinPoint proceedingJoinPoint) throws Throwable\r\n    {\r\n        MethodSignature methodSignature = (MethodSignature) proceedingJoinPoint.getSignature();\r\n\r\n        //Get intercepted method details\r\n        String className = methodSignature.getDeclaringType().getSimpleName();\r\n        String methodName = methodSignature.getName();\r\n\r\n        final StopWatch stopWatch = new StopWatch();\r\n        log.debug(&quot;Start: &quot; + className +&quot;.&quot;+methodName);\r\n        //Measure method execution time\r\n        stopWatch.start();\r\n        Object result = proceedingJoinPoint.proceed();\r\n\r\n        if(result instanceof Mono){\r\n            return ((Mono)result).flatMap(r -&gt; {\r\n                logExecutionTime(className, methodName, stopWatch);\r\n                return Mono.just(r);\r\n            });\r\n        }\r\n        else if(result instanceof Flux){\r\n            return ((Flux&lt;Object&gt;)result).collectList().flatMapMany(r -&gt; {\r\n                logExecutionTime(className, methodName, stopWatch);\r\n                return Flux.fromIterable(r);\r\n            });\r\n        }\r\n        else{\r\n            logExecutionTime(className, methodName, stopWatch);\r\n            return result;\r\n        }\r\n    }\r\n\r\n    private void logExecutionTime(final String className, final String methodName, final StopWatch stopWatch){\r\n        stopWatch.stop();\r\n        //Log method execution time\r\n        log.debug(&quot;Exit: &quot; + className +&quot;.&quot;+methodName);\r\n        log.debug(&quot;[ &quot; + stopWatch.getTotalTimeMillis() + &quot; mls ] lasted execution of&quot; + className + &quot;.&quot; + methodName );\r\n    }\r\n}\r\n```","title":"Spring WebFlux | Performance Logger In case of Exception","body":"<p>I'm working on logging the START, END and time taken by methods which generate Flux or Mono. I have used implementation as below.</p>\n<p>This code works fine, but is a problems -</p>\n<p>When there is an exception - the Exit and time never gets logged. When debugged, the flow never goes into flatMap() or collectList(). Could you please check and advice if any issues?</p>\n<pre><code>@Aspect\n@Component\n@Slf4j\npublic class LoggingAspect\n{\n\n    //AOP expression for which methods shall be intercepted\n    @Around(&quot;execution(* com.company.service..*(..)))&quot;)\n    public Object logEndpointPerformance(ProceedingJoinPoint proceedingJoinPoint) throws Throwable\n    {\n        MethodSignature methodSignature = (MethodSignature) proceedingJoinPoint.getSignature();\n\n        //Get intercepted method details\n        String className = methodSignature.getDeclaringType().getSimpleName();\n        String methodName = methodSignature.getName();\n\n        final StopWatch stopWatch = new StopWatch();\n        log.debug(&quot;Start: &quot; + className +&quot;.&quot;+methodName);\n        //Measure method execution time\n        stopWatch.start();\n        Object result = proceedingJoinPoint.proceed();\n\n        if(result instanceof Mono){\n            return ((Mono)result).flatMap(r -&gt; {\n                logExecutionTime(className, methodName, stopWatch);\n                return Mono.just(r);\n            });\n        }\n        else if(result instanceof Flux){\n            return ((Flux&lt;Object&gt;)result).collectList().flatMapMany(r -&gt; {\n                logExecutionTime(className, methodName, stopWatch);\n                return Flux.fromIterable(r);\n            });\n        }\n        else{\n            logExecutionTime(className, methodName, stopWatch);\n            return result;\n        }\n    }\n\n    private void logExecutionTime(final String className, final String methodName, final StopWatch stopWatch){\n        stopWatch.stop();\n        //Log method execution time\n        log.debug(&quot;Exit: &quot; + className +&quot;.&quot;+methodName);\n        log.debug(&quot;[ &quot; + stopWatch.getTotalTimeMillis() + &quot; mls ] lasted execution of&quot; + className + &quot;.&quot; + methodName );\n    }\n}\n</code></pre>\n"},{"tags":["java","json","jackson","jackson2"],"comments":[{"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"score":0,"creation_date":1470077866,"post_id":38705890,"comment_id":64789914,"body_markdown":"JsonNode is a base class that ObjectNode and ArrayNode extend. E.g. you cannot get an item at a specific index in a JsonNode or ObjectNode but you can in an ArrayNode.","body":"JsonNode is a base class that ObjectNode and ArrayNode extend. E.g. you cannot get an item at a specific index in a JsonNode or ObjectNode but you can in an ArrayNode."}],"answers":[{"comments":[{"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"score":3,"creation_date":1602777565,"post_id":38706226,"comment_id":113833986,"body_markdown":"@MyStackRunnethOver I am not sure your edit is a good fit for this answer. It turns a straightforward concise answer into a longer discursive narrative about a possible source of confusion. I do not feel sure that confusion is widespread. I personally have not felt it. Would you be willing put your thoughts on the possible source of confusion into their own answer for this question?","body":"@MyStackRunnethOver I am not sure your edit is a good fit for this answer. It turns a straightforward concise answer into a longer discursive narrative about a possible source of confusion. I do not feel sure that confusion is widespread. I personally have not felt it. Would you be willing put your thoughts on the possible source of confusion into their own answer for this question?"},{"owner":{"account_id":10675972,"reputation":5010,"user_id":7859515,"accept_rate":100,"display_name":"MyStackRunnethOver"},"score":0,"creation_date":1602781177,"post_id":38706226,"comment_id":113835689,"body_markdown":"Yeah absolutely :)","body":"Yeah absolutely :)"}],"tags":[],"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"comment_count":2,"down_vote_count":0,"up_vote_count":106,"is_accepted":true,"score":106,"last_activity_date":1602781198,"creation_date":1470078027,"answer_id":38706226,"question_id":38705890,"body_markdown":"`JsonNode` is a base class that `ObjectNode` and `ArrayNode` extend. `JsonNode` represents any valid Json structure whereas `ObjectNode` and `ArrayNode` are particular implementations for objects (aka maps) and arrays, respectively. \r\n\r\n`ArrayNode` has specific methods for dealing with arrays such as `get(index i)` E.g. you cannot get an item at a specific index in a `JsonNode` or `ObjectNode` but you can in an `ArrayNode`.","title":"What is the difference between ObjectNode and JsonNode in Jackson?","body":"<p><code>JsonNode</code> is a base class that <code>ObjectNode</code> and <code>ArrayNode</code> extend. <code>JsonNode</code> represents any valid Json structure whereas <code>ObjectNode</code> and <code>ArrayNode</code> are particular implementations for objects (aka maps) and arrays, respectively.</p>\n<p><code>ArrayNode</code> has specific methods for dealing with arrays such as <code>get(index i)</code> E.g. you cannot get an item at a specific index in a <code>JsonNode</code> or <code>ObjectNode</code> but you can in an <code>ArrayNode</code>.</p>\n"},{"tags":[],"owner":{"account_id":10675972,"reputation":5010,"user_id":7859515,"accept_rate":100,"display_name":"MyStackRunnethOver"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602781267,"creation_date":1602781267,"answer_id":64376451,"question_id":38705890,"body_markdown":"To address OP&#39;s point about Stack Overflow answers using `ObjectNode` and `JsonNode` interchangeably: a possible source of the confusion you see is that `JsonNode` [implements most of the functionality of both `ObjectNode` and `ArrayNode`](https://github.com/codehaus/jackson/blob/master/src/java/org/codehaus/jackson/JsonNode.java), returning mostly `false` or `null` by default. The sub-types then override their respective methods to work correctly (e.g. indexing for `ArrayNode`, named access for `ObjectNode`). The Javadoc says:\r\n\r\n&gt; As a general design rule, most accessors (&quot;getters&quot;) are included in this [JsonNode] base class, to allow for traversing structure without type casts. Most mutators, however, need to be accessed through specific sub-classes (such as [ObjectNode] and [ArrayNode]). This seems sensible because proper type information is generally available when building or modifying trees, but less often when reading a tree (newly built from parsed JSON content)\r\n\r\n*&quot;[T]o allow for traversing structure without type casts&quot;* is key, and is the reason that you can often get away with using `JsonNode` all the time, because as long as the methods you&#39;re calling match the sub-type of the object data actually got parsed into, they work as expected.","title":"What is the difference between ObjectNode and JsonNode in Jackson?","body":"<p>To address OP's point about Stack Overflow answers using <code>ObjectNode</code> and <code>JsonNode</code> interchangeably: a possible source of the confusion you see is that <code>JsonNode</code> <a href=\"https://github.com/codehaus/jackson/blob/master/src/java/org/codehaus/jackson/JsonNode.java\" rel=\"nofollow noreferrer\">implements most of the functionality of both <code>ObjectNode</code> and <code>ArrayNode</code></a>, returning mostly <code>false</code> or <code>null</code> by default. The sub-types then override their respective methods to work correctly (e.g. indexing for <code>ArrayNode</code>, named access for <code>ObjectNode</code>). The Javadoc says:</p>\n<blockquote>\n<p>As a general design rule, most accessors (&quot;getters&quot;) are included in this [JsonNode] base class, to allow for traversing structure without type casts. Most mutators, however, need to be accessed through specific sub-classes (such as [ObjectNode] and [ArrayNode]). This seems sensible because proper type information is generally available when building or modifying trees, but less often when reading a tree (newly built from parsed JSON content)</p>\n</blockquote>\n<p><em>&quot;[T]o allow for traversing structure without type casts&quot;</em> is key, and is the reason that you can often get away with using <code>JsonNode</code> all the time, because as long as the methods you're calling match the sub-type of the object data actually got parsed into, they work as expected.</p>\n"},{"tags":[],"owner":{"account_id":3075356,"reputation":3015,"user_id":2604873,"display_name":"Aman Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690793645,"creation_date":1690793645,"answer_id":76802046,"question_id":38705890,"body_markdown":"`JsonNode` and `ObjectNode` are both classes in the Jackson library used for working with JSON data in Java. \r\n\r\n`JsonNode` is an abstract class that represents a node in a JSON tree. It can be used to read and navigate through JSON data, but it doesn&#39;t allow modifications to the underlying data. Because it&#39;s abstract, you can&#39;t create a `JsonNode` object directly. Instead, you can use one of its concrete subclasses, such as `ObjectNode`, `ArrayNode`, or `ValueNode`.\r\n\r\n`ObjectNode` is a subclass of `JsonNode` that specifically represents a JSON object. It allows you to modify the underlying JSON data by adding, removing, or changing properties. An `ObjectNode` is created with the `JsonNodeFactory` class, which provides methods for creating different types of `JsonNode` objects.\r\n\r\nIn general, you should use `JsonNode` when you only need to read JSON data, and don&#39;t need to modify it. You might use `ObjectNode` when you need to modify the data, such as when you&#39;re building up a JSON object programmatically.","title":"What is the difference between ObjectNode and JsonNode in Jackson?","body":"<p><code>JsonNode</code> and <code>ObjectNode</code> are both classes in the Jackson library used for working with JSON data in Java.</p>\n<p><code>JsonNode</code> is an abstract class that represents a node in a JSON tree. It can be used to read and navigate through JSON data, but it doesn't allow modifications to the underlying data. Because it's abstract, you can't create a <code>JsonNode</code> object directly. Instead, you can use one of its concrete subclasses, such as <code>ObjectNode</code>, <code>ArrayNode</code>, or <code>ValueNode</code>.</p>\n<p><code>ObjectNode</code> is a subclass of <code>JsonNode</code> that specifically represents a JSON object. It allows you to modify the underlying JSON data by adding, removing, or changing properties. An <code>ObjectNode</code> is created with the <code>JsonNodeFactory</code> class, which provides methods for creating different types of <code>JsonNode</code> objects.</p>\n<p>In general, you should use <code>JsonNode</code> when you only need to read JSON data, and don't need to modify it. You might use <code>ObjectNode</code> when you need to modify the data, such as when you're building up a JSON object programmatically.</p>\n"}],"owner":{"account_id":4737034,"reputation":3166,"user_id":3831137,"accept_rate":90,"display_name":"THIS USER NEEDS HELP"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51127,"favorite_count":0,"down_vote_count":0,"up_vote_count":79,"accepted_answer_id":38706226,"answer_count":3,"score":79,"last_activity_date":1690793645,"creation_date":1470076838,"question_id":38705890,"body_markdown":"According to the documetation of [`JsonNode`](https://fasterxml.github.io/jackson-databind/javadoc/2.2.0/com/fasterxml/jackson/databind/JsonNode.html):\r\n\r\n&gt; Most mutators, however, need to be accessed through specific sub-classes (such as [`ObjectNode`](https://fasterxml.github.io/jackson-databind/javadoc/2.5/com/fasterxml/jackson/databind/node/ObjectNode.html)  and ArrayNode).\r\n\r\n\r\nHowever I am still confused since some stackoverflow answers seem to use them quite interchangeably. What different purpose do they serve?\r\n","title":"What is the difference between ObjectNode and JsonNode in Jackson?","body":"<p>According to the documetation of <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.2.0/com/fasterxml/jackson/databind/JsonNode.html\" rel=\"noreferrer\"><code>JsonNode</code></a>:</p>\n\n<blockquote>\n  <p>Most mutators, however, need to be accessed through specific sub-classes (such as <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.5/com/fasterxml/jackson/databind/node/ObjectNode.html\" rel=\"noreferrer\"><code>ObjectNode</code></a>  and ArrayNode).</p>\n</blockquote>\n\n<p>However I am still confused since some stackoverflow answers seem to use them quite interchangeably. What different purpose do they serve?</p>\n"},{"tags":["java","pom.xml","apache-tika"],"answers":[{"comments":[{"owner":{"account_id":14324949,"reputation":570,"user_id":10347292,"display_name":"zahrows"},"score":2,"creation_date":1638228215,"post_id":70160357,"comment_id":124028163,"body_markdown":"But let&#39;s say that i got a docx file, if i change his extension by a .pdf, it will tell me that my file is an PDF and not a DOCX because it determined the mimeType by his name right ? So i will always be obligated to analyze the archives to be sure that Tika give me the right mimeType ? @Florian","body":"But let&#39;s say that i got a docx file, if i change his extension by a .pdf, it will tell me that my file is an PDF and not a DOCX because it determined the mimeType by his name right ? So i will always be obligated to analyze the archives to be sure that Tika give me the right mimeType ? @Florian"},{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":1,"creation_date":1638266129,"post_id":70160357,"comment_id":124036663,"body_markdown":"If you want to be sure of the type, you need to give Apache Tika the whole file to detect based on. If you supply name + contents, the name is only used for specialising subtypes, it won&#39;t override the content based detection","body":"If you want to be sure of the type, you need to give Apache Tika the whole file to detect based on. If you supply name + contents, the name is only used for specialising subtypes, it won&#39;t override the content based detection"},{"owner":{"account_id":10252319,"reputation":51,"user_id":7566143,"display_name":"K D"},"score":2,"creation_date":1638898459,"post_id":70160357,"comment_id":124208139,"body_markdown":"I am also facing same issue with the office files for instance like spreadsheets where the content type is always &quot;apache/x-tika-ooxml&quot; instead of &quot;application/vnd.openxmlformats-officedocument.spreadsheetml.sheet&quot;, since data for which the content type is to be determined is always obtained as stream, with no information on the extension, we cannot form the metadata object having property &quot;RESOURCE_NAME_KEY&quot; with filename and extension. \n\nI am using tika core and tika-parsers-standard-package both of 2.1.0 versions.\n\nCan you suggest some solution to this.","body":"I am also facing same issue with the office files for instance like spreadsheets where the content type is always &quot;apache/x-tika-ooxml&quot; instead of &quot;application/vnd.openxmlformats-officedocument.spreadsheetml&zwnj;&#8203;.sheet&quot;, since data for which the content type is to be determined is always obtained as stream, with no information on the extension, we cannot form the metadata object having property &quot;RESOURCE_NAME_KEY&quot; with filename and extension.   I am using tika core and tika-parsers-standard-package both of 2.1.0 versions.  Can you suggest some solution to this."}],"tags":[],"owner":{"account_id":12027197,"reputation":177,"user_id":8850201,"display_name":"Florian"},"comment_count":3,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1638214436,"creation_date":1638214436,"answer_id":70160357,"question_id":70158982,"body_markdown":"Update your tika modules. The version of `tika-core` and it&#39;s modules should always be the same.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\r\n    &lt;version&gt;2.1.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tika-parsers-standard-package&lt;/artifactId&gt;\r\n    &lt;version&gt;2.1.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThe new microsoft document formats (`docx`, `xlsx`, ...) are just `zip` archives from the outside. Older tika versions will not look into them by default, which is why, depending on the version, they will detect them as either `application/zip` or `application/x-tika-ooxml`. You can read more about this [here][1].\r\n\r\nAnalyzing the archives however *can* result in a decrease in performance. To prevent this you could, depending on your use case, determine the mime type by name (see below) or use existing mime types like the [Content-Type header][2].\r\n\r\n```java\r\nfinal Metadata metadata = new Metadata();\r\nmetadata.add(TikaCoreProperties.RESOURCE_NAME_KEY, fileName);\r\ndetector.detect(stream, metadata);\r\n```\r\n\r\nIn a HTTP request the file name might also be in the [Content-Disposition header][3].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/11283050/8850201\r\n  [2]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type\r\n  [3]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Disposition","title":"Retrive bad mimetype with tika (application/x-tika-ooxml)","body":"<p>Update your tika modules. The version of <code>tika-core</code> and it's modules should always be the same.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n    &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\n    &lt;version&gt;2.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n    &lt;artifactId&gt;tika-parsers-standard-package&lt;/artifactId&gt;\n    &lt;version&gt;2.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The new microsoft document formats (<code>docx</code>, <code>xlsx</code>, ...) are just <code>zip</code> archives from the outside. Older tika versions will not look into them by default, which is why, depending on the version, they will detect them as either <code>application/zip</code> or <code>application/x-tika-ooxml</code>. You can read more about this <a href=\"https://stackoverflow.com/a/11283050/8850201\">here</a>.</p>\n<p>Analyzing the archives however <em>can</em> result in a decrease in performance. To prevent this you could, depending on your use case, determine the mime type by name (see below) or use existing mime types like the <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type\" rel=\"noreferrer\">Content-Type header</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Metadata metadata = new Metadata();\nmetadata.add(TikaCoreProperties.RESOURCE_NAME_KEY, fileName);\ndetector.detect(stream, metadata);\n</code></pre>\n<p>In a HTTP request the file name might also be in the <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Disposition\" rel=\"noreferrer\">Content-Disposition header</a>.</p>\n"},{"comments":[{"owner":{"account_id":14513595,"reputation":171,"user_id":10483310,"display_name":"Maarten1985"},"score":0,"creation_date":1700221694,"post_id":76802033,"comment_id":136630678,"body_markdown":"Apache Tika 1.x had reached EOL on 30 September 2022: https://lists.apache.org/thread/yq6n7o01kw544dvj1jsoqk29g6yqjkp3.\nIt&#39;s recommended to not use this version. It contains vulnerabilities.","body":"Apache Tika 1.x had reached EOL on 30 September 2022: <a href=\"https://lists.apache.org/thread/yq6n7o01kw544dvj1jsoqk29g6yqjkp3\" rel=\"nofollow noreferrer\">lists.apache.org/thread/yq6n7o01kw544dvj1jsoqk29g6yqjkp3</a>. It&#39;s recommended to not use this version. It contains vulnerabilities."}],"tags":[],"owner":{"account_id":27011284,"reputation":1,"user_id":20570897,"display_name":"Wui Keat Cheah"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690793537,"creation_date":1690793537,"answer_id":76802033,"question_id":70158982,"body_markdown":"for me, I would use these old tika version, not sure why but this able to get the result we wanted.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\r\n        &lt;version&gt;1.23&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tika-parsers&lt;/artifactId&gt;\r\n        &lt;version&gt;1.23&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Retrive bad mimetype with tika (application/x-tika-ooxml)","body":"<p>for me, I would use these old tika version, not sure why but this able to get the result we wanted.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n    &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\n    &lt;version&gt;1.23&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n    &lt;artifactId&gt;tika-parsers&lt;/artifactId&gt;\n    &lt;version&gt;1.23&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":14324949,"reputation":570,"user_id":10347292,"display_name":"zahrows"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5134,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1690793537,"creation_date":1638207648,"question_id":70158982,"body_markdown":"With docx files, i retrieve `application/x-tika-ooxml`, but i should retrieve `application/vnd.openxmlformats-officedocument.wordprocessingml.document` instead\r\n\r\nHere is my method :\r\n\r\n    public String retrieveMimeType(InputStream stream) throws IOException, TikaException {\r\n        \tTikaInputStream tikaStream = null;\r\n        \tTikaConfig tikaConfig = new TikaConfig();\r\n        \tMediaType mediaType = null;\r\n    \r\n        \ttry {\r\n        \t\tmediaType = tikaConfig.getDetector().detect(TikaInputStream.get(stream), new Metadata());\r\n        \t} catch (Throwable t) {\r\n        \t\tthrow t;\r\n        \t} finally {\r\n        \t\tif (tikaStream != null) {\r\n        \t\t\ttry {\r\n        \t\t\t\ttikaStream.close(); \r\n                    } catch (IOException e) {\r\n        \t\t\t}\r\n        \t\t}\r\n        \t}\r\n        \treturn mediaType.toString();\r\n        }\r\n\r\nAnd my dependecies : \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tika-parsers&lt;/artifactId&gt;\r\n        &lt;version&gt;1.27&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI use tika-core, and tika-parsers for retrieve the right mimetype, but it still give me the bad mimetype...","title":"Retrive bad mimetype with tika (application/x-tika-ooxml)","body":"<p>With docx files, i retrieve <code>application/x-tika-ooxml</code>, but i should retrieve <code>application/vnd.openxmlformats-officedocument.wordprocessingml.document</code> instead</p>\n<p>Here is my method :</p>\n<pre><code>public String retrieveMimeType(InputStream stream) throws IOException, TikaException {\n        TikaInputStream tikaStream = null;\n        TikaConfig tikaConfig = new TikaConfig();\n        MediaType mediaType = null;\n\n        try {\n            mediaType = tikaConfig.getDetector().detect(TikaInputStream.get(stream), new Metadata());\n        } catch (Throwable t) {\n            throw t;\n        } finally {\n            if (tikaStream != null) {\n                try {\n                    tikaStream.close(); \n                } catch (IOException e) {\n                }\n            }\n        }\n        return mediaType.toString();\n    }\n</code></pre>\n<p>And my dependecies :</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n    &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\n    &lt;version&gt;2.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n    &lt;artifactId&gt;tika-parsers&lt;/artifactId&gt;\n    &lt;version&gt;1.27&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I use tika-core, and tika-parsers for retrieve the right mimetype, but it still give me the bad mimetype...</p>\n"},{"tags":["java","raspberry-pi","sdkman"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679039285,"post_id":75764728,"comment_id":133652638,"body_markdown":"run command `sdk default java`","body":"run command <code>sdk default java</code>"},{"owner":{"account_id":23926891,"reputation":3,"user_id":17921903,"display_name":"AlwaysBeginner"},"score":0,"creation_date":1679041614,"post_id":75764728,"comment_id":133653159,"body_markdown":"@life888888 Then comes the message &quot;java 17.0.6-tem isnot available&quot;","body":"@life888888 Then comes the message &quot;java 17.0.6-tem isnot available&quot;"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679042552,"post_id":75764728,"comment_id":133653371,"body_markdown":"`java 17.0.6-tem` is `Temurin`, not `17.0.6.-zulu` , try to run command again `sdk install java 17.0.6.-zulu` , and run `sdk default java 17.0.6.-zulu`","body":"<code>java 17.0.6-tem</code> is <code>Temurin</code>, not <code>17.0.6.-zulu</code> , try to run command again <code>sdk install java 17.0.6.-zulu</code> , and run <code>sdk default java 17.0.6.-zulu</code>"}],"answers":[{"tags":[],"owner":{"account_id":23926891,"reputation":3,"user_id":17921903,"display_name":"AlwaysBeginner"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679042332,"creation_date":1679042332,"answer_id":75765358,"question_id":75764728,"body_markdown":"Ok, i found a simpler aproach than useing sdkman. Simply use:\r\n\r\n    sudo apt install openjdk-17-jdk\r\n\r\nStill wondering about the use of sdkman...","title":"Installed java disappears after reboot on raspian","body":"<p>Ok, i found a simpler aproach than useing sdkman. Simply use:</p>\n<pre><code>sudo apt install openjdk-17-jdk\n</code></pre>\n<p>Still wondering about the use of sdkman...</p>\n"},{"tags":[],"owner":{"account_id":41689,"reputation":25007,"user_id":121260,"accept_rate":75,"display_name":"Eric Darchis"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679043997,"creation_date":1679043997,"answer_id":75765629,"question_id":75764728,"body_markdown":"This is because by default, sdkman adds itself to `~/.bashrc` which is not executed when you ssh to your machine.\r\n\r\nHere is a discussion about it:\r\nhttps://stackoverflow.com/questions/820517/bashrc-at-ssh-login\r\n\r\nYou can add to your ~/.bash_profile:\r\n```\r\nif [ -f ~/.bashrc ]; then\r\n  . ~/.bashrc\r\nfi\r\n```\r\n","title":"Installed java disappears after reboot on raspian","body":"<p>This is because by default, sdkman adds itself to <code>~/.bashrc</code> which is not executed when you ssh to your machine.</p>\n<p>Here is a discussion about it:\n<a href=\"https://stackoverflow.com/questions/820517/bashrc-at-ssh-login\">.bashrc at ssh login</a></p>\n<p>You can add to your ~/.bash_profile:</p>\n<pre><code>if [ -f ~/.bashrc ]; then\n  . ~/.bashrc\nfi\n</code></pre>\n"}],"owner":{"account_id":23926891,"reputation":3,"user_id":17921903,"display_name":"AlwaysBeginner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690793464,"creation_date":1679037593,"question_id":75764728,"body_markdown":"I have a problem with the installation of java (jdk17) on raspian (Raspian 11 (bullseye). I need jdk17 but raspian packagemanager only want to install jdk11 so i decided to use sdkman. Using the tutorial here:https://foojay.io/today/installing-java-with-sdkman-on-raspberry-pi/\r\nI installed sdkman and then java (17.0.6.-zulu), but when I restart the pi java is gone, even java -version does not work.\r\n\r\nI look if my sd card is readonly, but it isn&#39;t the typed and used commands also remain in the bash history and sdkman files are also at their location after reboot.\r\n\r\nHow can I install java on my pi?","title":"Installed java disappears after reboot on raspian","body":"<p>I have a problem with the installation of java (jdk17) on raspian (Raspian 11 (bullseye). I need jdk17 but raspian packagemanager only want to install jdk11 so i decided to use sdkman. Using the tutorial here:<a href=\"https://foojay.io/today/installing-java-with-sdkman-on-raspberry-pi/\" rel=\"nofollow noreferrer\">https://foojay.io/today/installing-java-with-sdkman-on-raspberry-pi/</a>\nI installed sdkman and then java (17.0.6.-zulu), but when I restart the pi java is gone, even java -version does not work.</p>\n<p>I look if my sd card is readonly, but it isn't the typed and used commands also remain in the bash history and sdkman files are also at their location after reboot.</p>\n<p>How can I install java on my pi?</p>\n"},{"tags":["java","unit-testing","maven","dependencies","gradle"],"comments":[{"owner":{"account_id":31011,"reputation":122006,"user_id":84889,"display_name":"Peter Niederwieser"},"score":2,"creation_date":1385488427,"post_id":20224260,"comment_id":30159538,"body_markdown":"`classifier: &#39;tests&#39;` might work (instead of `type: ...`).","body":"<code>classifier: &#39;tests&#39;</code> might work (instead of <code>type: ...</code>)."},{"owner":{"account_id":199370,"reputation":19629,"user_id":444639,"accept_rate":84,"display_name":"Rylander"},"score":1,"creation_date":1385489136,"post_id":20224260,"comment_id":30159959,"body_markdown":"@PeterNiederwieser That does finally get me the jar I was looking for. I believe I had tried `classifier: &#39;test&#39;` and `classifier: &#39;test-jar&#39;` which did not work.","body":"@PeterNiederwieser That does finally get me the jar I was looking for. I believe I had tried <code>classifier: &#39;test&#39;</code> and <code>classifier: &#39;test-jar&#39;</code> which did not work."}],"answers":[{"comments":[{"owner":{"account_id":186093,"reputation":5016,"user_id":423218,"accept_rate":75,"display_name":"BeepDog"},"score":1,"creation_date":1424386542,"post_id":20225377,"comment_id":45540210,"body_markdown":"How did you know the classifier would be &quot;tests&quot; ?","body":"How did you know the classifier would be &quot;tests&quot; ?"},{"owner":{"account_id":52810,"reputation":141,"user_id":157854,"display_name":"rbolkey"},"score":2,"creation_date":1455820854,"post_id":20225377,"comment_id":58672532,"body_markdown":"@BeepDog If you look at how the artifacts are stored in the Maven repository, using a classifier of &quot;tests&quot; should become clear:\n\nhttp://central.maven.org/maven2/org/elasticsearch/elasticsearch/2.2.0/","body":"@BeepDog If you look at how the artifacts are stored in the Maven repository, using a classifier of &quot;tests&quot; should become clear:  <a href=\"http://central.maven.org/maven2/org/elasticsearch/elasticsearch/2.2.0/\" rel=\"nofollow noreferrer\">central.maven.org/maven2/org/elasticsearch/elasticsearch/2.2&zwnj;&#8203;.0</a>"}],"tags":[],"owner":{"account_id":31011,"reputation":122006,"user_id":84889,"display_name":"Peter Niederwieser"},"comment_count":2,"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1385491525,"creation_date":1385491525,"answer_id":20225377,"question_id":20224260,"body_markdown":"Gradle doesn&#39;t have a direct equivalent of Maven&#39;s `&lt;type&gt;`, but `classifier: &#39;tests&#39;` should work here (instead of `type: ... `).","title":"How Do I Pull Maven Test Jars Using Gradle?","body":"<p>Gradle doesn't have a direct equivalent of Maven's <code>&lt;type&gt;</code>, but <code>classifier: 'tests'</code> should work here (instead of <code>type: ...</code>).</p>\n"},{"comments":[{"owner":{"account_id":193707,"reputation":34691,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":0,"creation_date":1700070455,"post_id":75562997,"comment_id":136610668,"body_markdown":"Example is King &#128591;&#127999;","body":"Example is King 🙏🏿"}],"tags":[],"owner":{"account_id":24295149,"reputation":21,"user_id":18239475,"display_name":"W.Stone"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677293192,"creation_date":1677293192,"answer_id":75562997,"question_id":20224260,"body_markdown":"use `classifier`, example:\r\n\r\n```\r\n    testImplementation(&quot;io.vertx:vertx-core&quot;) {\r\n      artifact {\r\n        classifier = &#39;tests&#39;\r\n      }\r\n    }\r\n    testImplementation(&quot;io.vertx:vertx-web&quot;) {\r\n      artifact {\r\n        classifier = &#39;tests&#39;\r\n      }\r\n    }\r\n\r\n```","title":"How Do I Pull Maven Test Jars Using Gradle?","body":"<p>use <code>classifier</code>, example:</p>\n<pre><code>    testImplementation(&quot;io.vertx:vertx-core&quot;) {\n      artifact {\n        classifier = 'tests'\n      }\n    }\n    testImplementation(&quot;io.vertx:vertx-web&quot;) {\n      artifact {\n        classifier = 'tests'\n      }\n    }\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":199370,"reputation":19629,"user_id":444639,"accept_rate":84,"display_name":"Rylander"},"score":0,"creation_date":1690904947,"post_id":76801992,"comment_id":135416723,"body_markdown":"Pretty sure this unrelated to the question.","body":"Pretty sure this unrelated to the question."}],"tags":[],"owner":{"account_id":12246944,"reputation":95,"user_id":8938365,"display_name":"lemonzone2010"},"comment_count":1,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1690793225,"creation_date":1690793225,"answer_id":76801992,"question_id":20224260,"body_markdown":"Two modules in one Root project **demo-parent**\r\n\r\n```\r\ndemo-parent\r\n  |---demo-core\r\n  |---demo-task\r\n```\r\n\r\nif you want to use some testCase common tools from **demo-core** in **demo-task**:\r\n\r\n\r\n    project(&quot;:demo-task&quot;) {\r\n      dependencies {\r\n        implementation(project(&quot;:demo-core&quot;))\r\n        \r\n        testImplementation project(&#39;:demo-core&#39;).sourceSets.test.output\r\n      }\r\n    }\r\n\r\n\r\n","title":"How Do I Pull Maven Test Jars Using Gradle?","body":"<p>Two modules in one Root project <strong>demo-parent</strong></p>\n<pre><code>demo-parent\n  |---demo-core\n  |---demo-task\n</code></pre>\n<p>if you want to use some testCase common tools from <strong>demo-core</strong> in <strong>demo-task</strong>:</p>\n<pre><code>project(&quot;:demo-task&quot;) {\n  dependencies {\n    implementation(project(&quot;:demo-core&quot;))\n    \n    testImplementation project(':demo-core').sourceSets.test.output\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":199370,"reputation":19629,"user_id":444639,"accept_rate":84,"display_name":"Rylander"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6162,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":20225377,"answer_count":3,"score":23,"last_activity_date":1690793225,"creation_date":1385487816,"question_id":20224260,"body_markdown":"In maven I can specify a &quot;type&quot;  for dependency resolution. I am trying to pull down a `tests.jar`. How can I do this using Gradle?\r\n\r\nI have tried using the Gradle Dependency below, but this does not pull down `test.jar`. \r\n\r\n    testCompile(group: &#39;org.apache.hbase&#39;, name: &#39;hbase&#39;, version: &#39;0.94.2&#39;, type: &#39;test-jar&#39;)\r\n    \r\n**Maven Dependency:**\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.hbase&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hbase&lt;/artifactId&gt;\r\n        &lt;version&gt;0.94.2&lt;/version&gt;\r\n        &lt;type&gt;test-jar&lt;/type&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n***details:** Gradle 1.7*\r\n\r\n*I am trying to pull down &quot;hbase-0.94.2-tests.jar&quot; from [Maven Central](http://search.maven.org/#artifactdetails|org.apache.hbase|hbase|0.94.2|jar)*","title":"How Do I Pull Maven Test Jars Using Gradle?","body":"<p>In maven I can specify a \"type\"  for dependency resolution. I am trying to pull down a <code>tests.jar</code>. How can I do this using Gradle?</p>\n\n<p>I have tried using the Gradle Dependency below, but this does not pull down <code>test.jar</code>. </p>\n\n<pre><code>testCompile(group: 'org.apache.hbase', name: 'hbase', version: '0.94.2', type: 'test-jar')\n</code></pre>\n\n<p><strong>Maven Dependency:</strong></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.hbase&lt;/groupId&gt;\n    &lt;artifactId&gt;hbase&lt;/artifactId&gt;\n    &lt;version&gt;0.94.2&lt;/version&gt;\n    &lt;type&gt;test-jar&lt;/type&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><em><strong>details:</strong> Gradle 1.7</em></p>\n\n<p><em>I am trying to pull down \"hbase-0.94.2-tests.jar\" from <a href=\"http://search.maven.org/#artifactdetails|org.apache.hbase|hbase|0.94.2|jar\">Maven Central</a></em></p>\n"},{"tags":["java","spring-boot","spring-cloud-gateway","jaeger"],"answers":[{"tags":[],"owner":{"account_id":16643925,"reputation":133,"user_id":12028677,"display_name":"Kampaii"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690792967,"creation_date":1690792967,"answer_id":76801962,"question_id":57694618,"body_markdown":"our solution:\r\n\r\nUpstream filter implements org.springframework.cloud.gateway.filter.headers.HttpHeadersFilter\r\n \r\n\r\n    exchange.getAttributes().put(&#39;your_key_here&#39;, value);\r\n\r\nDownstream filter implements org.springframework.cloud.gateway.filter.headers.HttpHeadersFilter\r\n\r\n    Object storedValue = exchange.getAttribute(&#39;your_key_here&#39;); // NOTE can be null\r\n\r\nand register them via Spring Java configuration(@Bean)\r\n             \r\n\r\n","title":"Does someone implement Jaeger with Spring Cloud Gateway?","body":"<p>our solution:</p>\n<p>Upstream filter implements org.springframework.cloud.gateway.filter.headers.HttpHeadersFilter</p>\n<pre><code>exchange.getAttributes().put('your_key_here', value);\n</code></pre>\n<p>Downstream filter implements org.springframework.cloud.gateway.filter.headers.HttpHeadersFilter</p>\n<pre><code>Object storedValue = exchange.getAttribute('your_key_here'); // NOTE can be null\n</code></pre>\n<p>and register them via Spring Java configuration(@Bean)</p>\n"}],"owner":{"account_id":11420839,"reputation":81,"user_id":8372389,"display_name":"NOrbes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":630,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1690792967,"creation_date":1567002158,"question_id":57694618,"body_markdown":"We are re-building our software platform using a microservice architecture approach.\r\n\r\nMost of it using **`Spring Boot`** libraries, and for our entry points we are using *Spring Cloud Gateway* which can be easily integrated with **`Jaeger`** to have tracing in the platform.\r\n\r\nWe do that using the following Maven dependency:\r\n\r\n```XML\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.opentracing.contrib&lt;/groupId&gt;\r\n    &lt;artifactId&gt;opentracing-spring-jaeger-cloud-starter&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nAnd it is working pretty well, we can see the trace on the **`Jaeger UI`** web console.\r\n\r\nThe problem now is how to send the tracking information to the next inner service in the platform to have every service correlated.\r\n\r\nAny ideas?\r\n\r\n**We have tried** to inject the tracking information as HTML Headers using a **`GlobalFilter`** but it is using the incoming request and we need to put them on the downstream request... any clue on how to override **`HTTPClient`** used underneath. \r\n\r\n```java\r\n@Bean\r\n@Order(-1)\r\npublic GlobalFilter tracingFilter() {\r\n    return (exchange, chain) -&gt; {\r\n        ServerHttpRequest request = exchange.getRequest();\r\n\r\n        Tracer tracer = TracerResolver.resolveTracer();\r\n        Span span = tracer.buildSpan(request.getMethod().toString())\r\n                .withTag(Tags.SPAN_KIND.getKey(), Tags.SPAN_KIND_CLIENT)\r\n                .start();\r\n\r\n        Tags.HTTP_URL.set(span, request.getURI().toString());\r\n        Tags.HTTP_METHOD.set(span, request.getMethod().toString());\r\n        if (request.getURI().getPort() != -1) {\r\n            Tags.PEER_PORT.set(span, request.getURI().getPort());\r\n        }\r\n\r\n        ServerHttpRequest.Builder requestBuilder = request.mutate();\r\n\r\n        tracer.inject(span.context(), Format.Builtin.HTTP_HEADERS, new RequestBuilderCarrier(requestBuilder));\r\n\r\n        ...\r\n\r\n        }));\r\n    };\r\n}\r\n```","title":"Does someone implement Jaeger with Spring Cloud Gateway?","body":"<p>We are re-building our software platform using a microservice architecture approach.</p>\n\n<p>Most of it using <strong><code>Spring Boot</code></strong> libraries, and for our entry points we are using <em>Spring Cloud Gateway</em> which can be easily integrated with <strong><code>Jaeger</code></strong> to have tracing in the platform.</p>\n\n<p>We do that using the following Maven dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.opentracing.contrib&lt;/groupId&gt;\n    &lt;artifactId&gt;opentracing-spring-jaeger-cloud-starter&lt;/artifactId&gt;\n    &lt;version&gt;2.0.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And it is working pretty well, we can see the trace on the <strong><code>Jaeger UI</code></strong> web console.</p>\n\n<p>The problem now is how to send the tracking information to the next inner service in the platform to have every service correlated.</p>\n\n<p>Any ideas?</p>\n\n<p><strong>We have tried</strong> to inject the tracking information as HTML Headers using a <strong><code>GlobalFilter</code></strong> but it is using the incoming request and we need to put them on the downstream request... any clue on how to override <strong><code>HTTPClient</code></strong> used underneath. </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@Order(-1)\npublic GlobalFilter tracingFilter() {\n    return (exchange, chain) -&gt; {\n        ServerHttpRequest request = exchange.getRequest();\n\n        Tracer tracer = TracerResolver.resolveTracer();\n        Span span = tracer.buildSpan(request.getMethod().toString())\n                .withTag(Tags.SPAN_KIND.getKey(), Tags.SPAN_KIND_CLIENT)\n                .start();\n\n        Tags.HTTP_URL.set(span, request.getURI().toString());\n        Tags.HTTP_METHOD.set(span, request.getMethod().toString());\n        if (request.getURI().getPort() != -1) {\n            Tags.PEER_PORT.set(span, request.getURI().getPort());\n        }\n\n        ServerHttpRequest.Builder requestBuilder = request.mutate();\n\n        tracer.inject(span.context(), Format.Builtin.HTTP_HEADERS, new RequestBuilderCarrier(requestBuilder));\n\n        ...\n\n        }));\n    };\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","import","ide"],"answers":[{"comments":[{"owner":{"account_id":1309364,"reputation":871,"user_id":1257691,"accept_rate":50,"display_name":"Vijay Kumar"},"score":0,"creation_date":1412693248,"post_id":26226193,"comment_id":41156447,"body_markdown":"Thanks you, this worked, in the past I tried this but the settings didn&#39;t stick when I created a new project. I will create a few new projects and see how the setting stays across projects.","body":"Thanks you, this worked, in the past I tried this but the settings didn&#39;t stick when I created a new project. I will create a few new projects and see how the setting stays across projects."},{"owner":{"account_id":1309364,"reputation":871,"user_id":1257691,"accept_rate":50,"display_name":"Vijay Kumar"},"score":4,"creation_date":1412960283,"post_id":26226193,"comment_id":41277048,"body_markdown":"NOTE: Also make sure to set &quot;Class count to use import with *&quot; to a high number as shown in the screenshot by Tracy Snell. Also see this http://stackoverflow.com/questions/3348816/intellij-never-use-wildcard-imports/25916603#25916603","body":"NOTE: Also make sure to set &quot;Class count to use import with *&quot; to a high number as shown in the screenshot by Tracy Snell. Also see this <a href=\"http://stackoverflow.com/questions/3348816/intellij-never-use-wildcard-imports/25916603#25916603\" title=\"intellij never use wildcard imports\">stackoverflow.com/questions/3348816/&hellip;</a>"},{"owner":{"account_id":970630,"reputation":955,"user_id":993262,"display_name":"Stephen Hartley"},"score":1,"creation_date":1454944039,"post_id":26226193,"comment_id":58257157,"body_markdown":"Is there really no way to tell Intellij 15 never to use starred imports? I mean without specifying a class count??!","body":"Is there really no way to tell Intellij 15 never to use starred imports? I mean without specifying a class count??!"}],"tags":[],"owner":{"account_id":493855,"reputation":1328,"user_id":2223021,"display_name":"Tracy Snell"},"comment_count":3,"down_vote_count":2,"up_vote_count":67,"is_accepted":true,"score":65,"last_activity_date":1525885921,"creation_date":1412636648,"answer_id":26226193,"question_id":26225989,"body_markdown":"Open up preferences and search for &quot;import&quot;. This will narrow down the list you need to look through. The screen shot shows the options for when to use single imports vs * (you can see I don&#39;t like star imports).\r\n\r\n![enter image description here][1]\r\n\r\n  [1]: http://i.stack.imgur.com/6wFaM.png","title":"How do I stop wildcard Java package imports in IntelliJ","body":"<p>Open up preferences and search for \"import\". This will narrow down the list you need to look through. The screen shot shows the options for when to use single imports vs * (you can see I don't like star imports).</p>\n\n<p><img src=\"https://i.stack.imgur.com/6wFaM.png\" alt=\"enter image description here\"></p>\n"},{"comments":[{"owner":{"account_id":1309364,"reputation":871,"user_id":1257691,"accept_rate":50,"display_name":"Vijay Kumar"},"score":1,"creation_date":1412693288,"post_id":26226769,"comment_id":41156476,"body_markdown":"Thanks for your answer, very detailed and steps clearly listed.","body":"Thanks for your answer, very detailed and steps clearly listed."},{"owner":{"account_id":2273064,"reputation":827,"user_id":1999993,"accept_rate":36,"display_name":"IpsRich"},"score":1,"creation_date":1603795392,"post_id":26226769,"comment_id":114143114,"body_markdown":"Useful to know, but not actually what was asked.  The OP wants to keep import statements, just none with `*`s.","body":"Useful to know, but not actually what was asked.  The OP wants to keep import statements, just none with <code>*</code>s."}],"tags":[],"owner":{"account_id":2048438,"reputation":8159,"user_id":1827992,"accept_rate":88,"display_name":"BevynQ"},"comment_count":2,"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1412641214,"creation_date":1412641214,"answer_id":26226769,"question_id":26225989,"body_markdown":"under `File` menu \r\n\r\nselect `Settings` (ctrl+alt+s)\r\n\r\nselect `Code Style`\r\n\r\nselect `Java`\r\n\r\nselect `Imports` tab\r\n\r\nunder `General` the check box `Use single class import` will determine whether packages or classes will be imported.\r\n\r\nthe `Use fully qualified class names` check box  will not use imports rather it will insert full class names directly into the code.","title":"How do I stop wildcard Java package imports in IntelliJ","body":"<p>under <code>File</code> menu </p>\n\n<p>select <code>Settings</code> (ctrl+alt+s)</p>\n\n<p>select <code>Code Style</code></p>\n\n<p>select <code>Java</code></p>\n\n<p>select <code>Imports</code> tab</p>\n\n<p>under <code>General</code> the check box <code>Use single class import</code> will determine whether packages or classes will be imported.</p>\n\n<p>the <code>Use fully qualified class names</code> check box  will not use imports rather it will insert full class names directly into the code.</p>\n"},{"comments":[{"owner":{"account_id":7956857,"reputation":1,"user_id":6005831,"display_name":"Dinusha"},"score":0,"creation_date":1456908584,"post_id":35738705,"comment_id":59158137,"body_markdown":"Rao, won&#39;t key combination ctrl+alt+o fix remove unnecessary packages?","body":"Rao, won&#39;t key combination ctrl+alt+o fix remove unnecessary packages?"}],"tags":[],"owner":{"account_id":7956857,"reputation":1,"user_id":6005831,"display_name":"Dinusha"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1456899732,"creation_date":1456893918,"answer_id":35738705,"question_id":26225989,"body_markdown":"I had the same issue. But the following process fixed my problem.\r\n\r\nPress key combination `ctrl+alt+O`, then only the needed packages will be added.","title":"How do I stop wildcard Java package imports in IntelliJ","body":"<p>I had the same issue. But the following process fixed my problem.</p>\n\n<p>Press key combination <code>ctrl+alt+O</code>, then only the needed packages will be added.</p>\n"},{"tags":[],"owner":{"account_id":2582365,"reputation":2719,"user_id":2238745,"display_name":"Jin Thakur"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471261608,"creation_date":1471261608,"answer_id":38954474,"question_id":26225989,"body_markdown":"Please check if you have autoimport\r\ncancel autoimport\r\nauto-import settings under &quot;Settings → Editor → Auto Import","title":"How do I stop wildcard Java package imports in IntelliJ","body":"<p>Please check if you have autoimport\ncancel autoimport\nauto-import settings under \"Settings → Editor → Auto Import</p>\n"},{"tags":[],"owner":{"account_id":4389010,"reputation":131,"user_id":3578106,"display_name":"basee"},"comment_count":0,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1611899692,"creation_date":1611898249,"answer_id":65949278,"question_id":26225989,"body_markdown":"IntelliJ version 2020.2.3 (October built)\r\n\r\nPreferences &gt; Editor &gt; CodeStyle &gt; Java \r\nin the &quot;General&quot; tab\r\ncheck &quot;Use Single Class import&quot;\r\ncheck &quot;Use fully qualified class names&quot;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xJFMx.png","title":"How do I stop wildcard Java package imports in IntelliJ","body":"<p>IntelliJ version 2020.2.3 (October built)</p>\n<p>Preferences &gt; Editor &gt; CodeStyle &gt; Java\nin the &quot;General&quot; tab\ncheck &quot;Use Single Class import&quot;\ncheck &quot;Use fully qualified class names&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/xJFMx.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xJFMx.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":27837255,"reputation":33,"user_id":21254433,"display_name":"motodev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690792916,"creation_date":1690792850,"answer_id":76801941,"question_id":26225989,"body_markdown":"If you want to see all the specific imports without using fully qualified class names, you can do this:\r\n\r\ngo to Settings -&gt; Code Style -&gt; Java -&gt; Set &quot;class count to use import with &#39;*&#39;: &quot; to 100 (or any big number)","title":"How do I stop wildcard Java package imports in IntelliJ","body":"<p>If you want to see all the specific imports without using fully qualified class names, you can do this:</p>\n<p>go to Settings -&gt; Code Style -&gt; Java -&gt; Set &quot;class count to use import with '*': &quot; to 100 (or any big number)</p>\n"}],"owner":{"account_id":1309364,"reputation":871,"user_id":1257691,"accept_rate":50,"display_name":"Vijay Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54243,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"accepted_answer_id":26226193,"answer_count":6,"score":62,"last_activity_date":1690792916,"creation_date":1412635338,"question_id":26225989,"body_markdown":"On IntelliJ Java IDE when I import a class using the keyboard shortcut or take the suggested import, IntelliJ imports the whole package, e.g.\r\n\r\n    public static void main(String[] args) {\r\n\r\n      List list = new LinkedList();\r\n\r\n    } \r\n\r\nwould result in this import line\r\n \r\n    java.util.*;\r\n\r\nI prefer the IDE to not do a package level import and import explicit classes. \r\nI want to set this at the global level, so I don&#39;t have to deal with this at each project. \r\nIs there any way to do this? \r\n\r\nI am on IntelliJ 13.0.2 on Mac OS X 10.8.5\r\n\r\nThanks\r\n\r\n\r\n","title":"How do I stop wildcard Java package imports in IntelliJ","body":"<p>On IntelliJ Java IDE when I import a class using the keyboard shortcut or take the suggested import, IntelliJ imports the whole package, e.g.</p>\n\n<pre><code>public static void main(String[] args) {\n\n  List list = new LinkedList();\n\n} \n</code></pre>\n\n<p>would result in this import line</p>\n\n<pre><code>java.util.*;\n</code></pre>\n\n<p>I prefer the IDE to not do a package level import and import explicit classes. \nI want to set this at the global level, so I don't have to deal with this at each project. \nIs there any way to do this? </p>\n\n<p>I am on IntelliJ 13.0.2 on Mac OS X 10.8.5</p>\n\n<p>Thanks</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1557463540,"post_id":56070802,"comment_id":98780649,"body_markdown":"`StdIn` and `StdOut` are not standard class names.  You&#39;ll need to show us the code.  Where do they come from?","body":"<code>StdIn</code> and <code>StdOut</code> are not standard class names.  You&#39;ll need to show us the code.  Where do they come from?"},{"owner":{"account_id":326993,"reputation":3105,"user_id":649090,"accept_rate":27,"display_name":"Kashif"},"score":0,"creation_date":1557463747,"post_id":56070802,"comment_id":98780702,"body_markdown":"Added code -- I don&#39;t know why the code should matter. My point is that StdOut and StdIn are in my provided stdlib.jar that I added to the classpath ... yet I&#39;m still getting errors!","body":"Added code -- I don&#39;t know why the code should matter. My point is that StdOut and StdIn are in my provided stdlib.jar that I added to the classpath ... yet I&#39;m still getting errors!"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1557463775,"post_id":56070802,"comment_id":98780707,"body_markdown":"Well, I don&#39;t see an `import` for `StdIn`.","body":"Well, I don&#39;t see an <code>import</code> for <code>StdIn</code>."},{"owner":{"account_id":326993,"reputation":3105,"user_id":649090,"accept_rate":27,"display_name":"Kashif"},"score":0,"creation_date":1557463811,"post_id":56070802,"comment_id":98780717,"body_markdown":"Do I need to when it&#39;s in the classpath already?","body":"Do I need to when it&#39;s in the classpath already?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1557463828,"post_id":56070802,"comment_id":98780725,"body_markdown":"Yup.  ..........","body":"Yup.  .........."},{"owner":{"account_id":326993,"reputation":3105,"user_id":649090,"accept_rate":27,"display_name":"Kashif"},"score":0,"creation_date":1557463901,"post_id":56070802,"comment_id":98780737,"body_markdown":"That&#39;s weird -- I just copied the code from here\n\nhttps://introcs.cs.princeton.edu/java/16pagerank/Markov.java.html\n\nIs there a mistake they made then?","body":"That&#39;s weird -- I just copied the code from here  <a href=\"https://introcs.cs.princeton.edu/java/16pagerank/Markov.java.html\" rel=\"nofollow noreferrer\">introcs.cs.princeton.edu/java/16pagerank/Markov.java.html</a>  Is there a mistake they made then?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1557464091,"post_id":56070802,"comment_id":98780768,"body_markdown":"Yes, only classes from `java.lang` are imported automatically.  All others must have an explicit import.  (Actually that&#39;s not quite true, if the class *source files* are in the same package and in the same compilation path, you don&#39;t need it.  But you have Jar files, not source files.  Sounds like you&#39;re the victim of somebody&#39;s personal project that they just all compiled into one program.)","body":"Yes, only classes from <code>java.lang</code> are imported automatically.  All others must have an explicit import.  (Actually that&#39;s not quite true, if the class <i>source files</i> are in the same package and in the same compilation path, you don&#39;t need it.  But you have Jar files, not source files.  Sounds like you&#39;re the victim of somebody&#39;s personal project that they just all compiled into one program.)"},{"owner":{"account_id":326993,"reputation":3105,"user_id":649090,"accept_rate":27,"display_name":"Kashif"},"score":0,"creation_date":1557464146,"post_id":56070802,"comment_id":98780782,"body_markdown":"It&#39;s just particularly egregious that this is a course website and they have simple errors like this.","body":"It&#39;s just particularly egregious that this is a course website and they have simple errors like this."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1557464303,"post_id":56070802,"comment_id":98780827,"body_markdown":"Yes it is.  Also I don&#39;t like these special `StdIn` and other classes they made.  You&#39;d do better to just learn the standard API.","body":"Yes it is.  Also I don&#39;t like these special <code>StdIn</code> and other classes they made.  You&#39;d do better to just learn the standard API."},{"owner":{"account_id":326993,"reputation":3105,"user_id":649090,"accept_rate":27,"display_name":"Kashif"},"score":0,"creation_date":1557464618,"post_id":56070802,"comment_id":98780898,"body_markdown":"So that didn&#39;t help -- I STILL get the same issue after adding the import lines.","body":"So that didn&#39;t help -- I STILL get the same issue after adding the import lines."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1557465152,"post_id":56070802,"comment_id":98781034,"body_markdown":"The class you linked to had no package.  Are you sure the package you used there is correct?","body":"The class you linked to had no package.  Are you sure the package you used there is correct?"},{"owner":{"account_id":326993,"reputation":3105,"user_id":649090,"accept_rate":27,"display_name":"Kashif"},"score":0,"creation_date":1557465342,"post_id":56070802,"comment_id":98781081,"body_markdown":"yes I am. They said to just add algs4.jar, stdlib.jar, and introcs.jar to my classpath.","body":"yes I am. They said to just add algs4.jar, stdlib.jar, and introcs.jar to my classpath."},{"owner":{"account_id":4113392,"reputation":5800,"user_id":3375670,"accept_rate":88,"display_name":"Robert Kock"},"score":0,"creation_date":1557469918,"post_id":56070802,"comment_id":98782650,"body_markdown":"Try adding these jars explicitely to your classpath when compiling. Thus, `javac -cp /usr/local/lift/lib/* coursera/java-stuff/markov/Markov.java` and see what happens.","body":"Try adding these jars explicitely to your classpath when compiling. Thus, <code>javac -cp &#47;usr&#47;local&#47;lift&#47;lib&#47;* coursera&#47;java-stuff&#47;markov&#47;Markov.java</code> and see what happens."},{"owner":{"account_id":326993,"reputation":3105,"user_id":649090,"accept_rate":27,"display_name":"Kashif"},"score":0,"creation_date":1557470118,"post_id":56070802,"comment_id":98782732,"body_markdown":"I tried that before and that works. Why is adding them to the classpath NOT working is my question.","body":"I tried that before and that works. Why is adding them to the classpath NOT working is my question."},{"owner":{"account_id":326993,"reputation":3105,"user_id":649090,"accept_rate":27,"display_name":"Kashif"},"score":0,"creation_date":1557481004,"post_id":56070802,"comment_id":98788020,"body_markdown":"Oh jesus...it&#39;s because I set my CLASSPATH in .bashrc with `CLASSPATH=&quot;${CLASSPATH}:${LIFT_LIB}/stdlib.jar:${LIFT_LIB}/introcs.jar:${LIFT_LIB}/algs4.jar&quot;` instead of\n`export CLASSPATH=&quot;${CLASSPATH}:${LIFT_LIB}/stdlib.jar:${LIFT_LIB}/introcs.jar:${LIFT_LIB}/algs4.jar&quot;`...","body":"Oh jesus...it&#39;s because I set my CLASSPATH in .bashrc with <code>CLASSPATH=&quot;${CLASSPATH}:${LIFT_LIB}&#47;stdlib.jar:${LIFT_LIB}&#47;i&zwnj;&#8203;ntrocs.jar:${LIFT_LI&zwnj;&#8203;B}&#47;algs4.jar&quot;</code> instead of <code>export CLASSPATH=&quot;${CLASSPATH}:${LIFT_LIB}&#47;stdlib.jar:${LIFT_LIB}&#47;i&zwnj;&#8203;ntrocs.jar:${LIFT_LI&zwnj;&#8203;B}&#47;algs4.jar&quot;</code>..."}],"answers":[{"comments":[{"owner":{"account_id":326993,"reputation":3105,"user_id":649090,"accept_rate":27,"display_name":"Kashif"},"score":0,"creation_date":1557482119,"post_id":56074669,"comment_id":98788635,"body_markdown":"Thanks -- and this really should be included on the Princeton course webpage too.","body":"Thanks -- and this really should be included on the Princeton course webpage too."},{"owner":{"account_id":326993,"reputation":3105,"user_id":649090,"accept_rate":27,"display_name":"Kashif"},"score":0,"creation_date":1557482590,"post_id":56074669,"comment_id":98788875,"body_markdown":"Also my project folder has subdirectories `.lift` and `.idea`, where the relevant jars (stdlib, algs4, introcs, etc) are in the `.lift/`. Yet they never get picked up when compiling in java, whether by IntelliJ or command line.\n\nIt would be great to see images of how to get this going in IntelliJ as well...","body":"Also my project folder has subdirectories <code>.lift</code> and <code>.idea</code>, where the relevant jars (stdlib, algs4, introcs, etc) are in the <code>.lift&#47;</code>. Yet they never get picked up when compiling in java, whether by IntelliJ or command line.  It would be great to see images of how to get this going in IntelliJ as well..."}],"tags":[],"owner":{"account_id":15910201,"reputation":11,"user_id":11480352,"display_name":"classpath"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557480585,"creation_date":1557480585,"answer_id":56074669,"question_id":56070802,"body_markdown":"The command javac-introcs is for use with the book *Introduction to Computer Science: An Interdisciplinary Approach*. The command javac-algs4 is for use with the book *Algorithms, 4e*. The former uses the default package, so no import statement are required; the latter used a named package and import statements are required. So, in your case, use javac-introcs and everything should work.\r\n\r\nThere is no need to set the CLASSPATH environment variable when using either command.","title":"Java does not find symbols StdIn and StdOut","body":"<p>The command javac-introcs is for use with the book <em>Introduction to Computer Science: An Interdisciplinary Approach</em>. The command javac-algs4 is for use with the book <em>Algorithms, 4e</em>. The former uses the default package, so no import statement are required; the latter used a named package and import statements are required. So, in your case, use javac-introcs and everything should work.</p>\n\n<p>There is no need to set the CLASSPATH environment variable when using either command.</p>\n"},{"tags":[],"owner":{"account_id":326993,"reputation":3105,"user_id":649090,"accept_rate":27,"display_name":"Kashif"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557481165,"creation_date":1557481165,"answer_id":56074834,"question_id":56070802,"body_markdown":"This is fixed by putting \r\n\r\n`# this must match the install directory \r\nLIFT_LIB=&quot;/usr/local/lift/lib&quot;`\r\n\r\n`export CLASSPATH=&quot;${CLASSPATH}:${LIFT_LIB}/stdlib.jar:${LIFT_LIB}/introcs.jar:${LIFT_LIB}/algs4.jar&quot;`\r\nin my `.bashrc` file. The reason it didn&#39;t work because was because I didn&#39;t use `export` command in my `.bashrc`.","title":"Java does not find symbols StdIn and StdOut","body":"<p>This is fixed by putting </p>\n\n<p><code># this must match the install directory \nLIFT_LIB=\"/usr/local/lift/lib\"</code></p>\n\n<p><code>export CLASSPATH=\"${CLASSPATH}:${LIFT_LIB}/stdlib.jar:${LIFT_LIB}/introcs.jar:${LIFT_LIB}/algs4.jar\"</code>\nin my <code>.bashrc</code> file. The reason it didn't work because was because I didn't use <code>export</code> command in my <code>.bashrc</code>.</p>\n"},{"comments":[{"owner":{"account_id":326993,"reputation":3105,"user_id":649090,"accept_rate":27,"display_name":"Kashif"},"score":0,"creation_date":1557609600,"post_id":56092973,"comment_id":98824704,"body_markdown":"Ok but the fact remains that one may want to use java and javac while adding files to the classpath instead of java-algs4.","body":"Ok but the fact remains that one may want to use java and javac while adding files to the classpath instead of java-algs4."},{"owner":{"account_id":326993,"reputation":3105,"user_id":649090,"accept_rate":27,"display_name":"Kashif"},"score":0,"creation_date":1557609644,"post_id":56092973,"comment_id":98824712,"body_markdown":"Especially if building in IntelliJ or Eclipse.","body":"Especially if building in IntelliJ or Eclipse."},{"owner":{"account_id":8766099,"reputation":36,"user_id":6554399,"display_name":"Clyde R"},"score":0,"creation_date":1557703976,"post_id":56092973,"comment_id":98842878,"body_markdown":"Agreed.  There are always multiple ways to do things. You can use add the classpath, you can use -cp on the command line, or you can use java-introcs.  Either of the three works fine.","body":"Agreed.  There are always multiple ways to do things. You can use add the classpath, you can use -cp on the command line, or you can use java-introcs.  Either of the three works fine."}],"tags":[],"owner":{"account_id":8766099,"reputation":36,"user_id":6554399,"display_name":"Clyde R"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557597646,"creation_date":1557597646,"answer_id":56092973,"question_id":56070802,"body_markdown":"IMHO, this is an unfair criticism of the course.  The instructions for installing the simplified programming environment (https://introcs.cs.princeton.edu/java/home/) walk you through the steps, and work correctly, at least in the Linux section.\r\n\r\nIt appears that @Glassjawed failed to use the javac-introcs &amp; java-introcs commands which are enabled when lift is installed.","title":"Java does not find symbols StdIn and StdOut","body":"<p>IMHO, this is an unfair criticism of the course.  The instructions for installing the simplified programming environment (<a href=\"https://introcs.cs.princeton.edu/java/home/\" rel=\"nofollow noreferrer\">https://introcs.cs.princeton.edu/java/home/</a>) walk you through the steps, and work correctly, at least in the Linux section.</p>\n\n<p>It appears that @Glassjawed failed to use the javac-introcs &amp; java-introcs commands which are enabled when lift is installed.</p>\n"},{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1557599557,"creation_date":1557599557,"answer_id":56093200,"question_id":56070802,"body_markdown":"You can either work like it’s 1999 and manually add JAR files to classpath, or you can recognize it’s 2019, and use a build tool like Maven or Gradle to do that for you. The `algs4` JAR is available on BinTray. https://github.com/kevin-wayne/algs4/blob/master/README.md.\n\nI’ve taken this course and used Gradle to build the code. Once you set up the project, you can focus on solving the real problems, and not manipulating classpath. I also started an initiative to better organize the source code for `algs4` (currently one flat structure due to historical reasons) but didn’t get time to finish it.","title":"Java does not find symbols StdIn and StdOut","body":"<p>You can either work like it’s 1999 and manually add JAR files to classpath, or you can recognize it’s 2019, and use a build tool like Maven or Gradle to do that for you. The <code>algs4</code> JAR is available on BinTray. <a href=\"https://github.com/kevin-wayne/algs4/blob/master/README.md\" rel=\"nofollow noreferrer\">https://github.com/kevin-wayne/algs4/blob/master/README.md</a>.</p>\n\n<p>I’ve taken this course and used Gradle to build the code. Once you set up the project, you can focus on solving the real problems, and not manipulating classpath. I also started an initiative to better organize the source code for <code>algs4</code> (currently one flat structure due to historical reasons) but didn’t get time to finish it.</p>\n"},{"tags":[],"owner":{"account_id":8117213,"reputation":692,"user_id":6115334,"display_name":"Miguel Salas"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690792812,"creation_date":1690538975,"answer_id":76786833,"question_id":56070802,"body_markdown":"For anyone following the course  &quot;Computer science an Interdiciplinary approach&quot; having this issue:  \r\n\r\n- in the book site: https://introcs.cs.princeton.edu/java/stdlib/ they provide a .jar file, that you can add as a dependency of you project  (in intelliJ Idea, you click right on your top project folder  select &quot;Open module settings&quot;, then  &quot;Modules&quot; there  you add a dependency. witt the plus sign and you select the .jar file they provide. \r\n\r\nThat should help the IDE to find the class when you use it in your code without any import statement.\r\n\r\nIf you need to run something on the terminal and the program makes reference one of the classes they provide, you need to add the option `-classpath`. including the .jar file, for example, say you want to run  `RandomSeq`  from the examples in the book:\r\n\r\n`java -classpath yourPathToTheCompiledJavaCompiledFiles:yourPathToTheJarFile/stdlib.jar RandomSeq 10` \r\n\r\nNote that the `:` on this is a separator, in mac is like this, in other operating systems may be a differen character, and the `stdlib.jar` is the name of the .jar file","title":"Java does not find symbols StdIn and StdOut","body":"<p>For anyone following the course  &quot;Computer science an Interdiciplinary approach&quot; having this issue:</p>\n<ul>\n<li>in the book site: <a href=\"https://introcs.cs.princeton.edu/java/stdlib/\" rel=\"nofollow noreferrer\">https://introcs.cs.princeton.edu/java/stdlib/</a> they provide a .jar file, that you can add as a dependency of you project  (in intelliJ Idea, you click right on your top project folder  select &quot;Open module settings&quot;, then  &quot;Modules&quot; there  you add a dependency. witt the plus sign and you select the .jar file they provide.</li>\n</ul>\n<p>That should help the IDE to find the class when you use it in your code without any import statement.</p>\n<p>If you need to run something on the terminal and the program makes reference one of the classes they provide, you need to add the option <code>-classpath</code>. including the .jar file, for example, say you want to run  <code>RandomSeq</code>  from the examples in the book:</p>\n<p><code>java -classpath yourPathToTheCompiledJavaCompiledFiles:yourPathToTheJarFile/stdlib.jar RandomSeq 10</code></p>\n<p>Note that the <code>:</code> on this is a separator, in mac is like this, in other operating systems may be a differen character, and the <code>stdlib.jar</code> is the name of the .jar file</p>\n"}],"owner":{"account_id":326993,"reputation":3105,"user_id":649090,"accept_rate":27,"display_name":"Kashif"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1777,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":56093200,"answer_count":5,"score":-1,"last_activity_date":1690792812,"creation_date":1557463412,"question_id":56070802,"body_markdown":"I am having Java compilation issues. Although I have configured my classpath properly as seen here...\r\n\r\n    yan@Y9Acer:~$ echo $CLASSPATH\r\n    .:/usr/local/lift/lib/stdlib.jar:/usr/local/lift/lib/introcs.jar:/usr/local/lift/lib/algs4.jar\r\n\r\nI still get the following StdIn and StdOut errors when building indicating that the symbols weren&#39;t found. But these would be found in the stdlib.jar file listed above, so I don&#39;t know why this is happening. Does anyone know why this is? I&#39;ve looked for hours and gotten nowhere.\r\n\r\n    yan@Y9Acer:~$ javac-algs4 coursera/java-stuff/markov/Markov.java\r\n    coursera/java-stuff/markov/Markov.java:17: error: cannot find symbol\r\n            int n = StdIn.readInt();                 // number of pages\r\n                    ^\r\n      symbol:   variable StdIn\r\n      location: class Markov\r\n    coursera/java-stuff/markov/Markov.java:18: error: cannot find symbol\r\n            StdIn.readInt();                         // ignore integer required by input format\r\n            ^\r\n      symbol:   variable StdIn\r\n      location: class Markov\r\n    coursera/java-stuff/markov/Markov.java:26: error: cannot find symbol\r\n                    p[i][j] = StdIn.readDouble();\r\n                              ^\r\n      symbol:   variable StdIn\r\n      location: class Markov\r\n    coursera/java-stuff/markov/Markov.java:47: error: cannot find symbol\r\n                StdOut.printf(&quot;%8.5f&quot;, rank[i]);\r\n                ^\r\n      symbol:   variable StdOut\r\n      location: class Markov\r\n    coursera/java-stuff/markov/Markov.java:49: error: cannot find symbol\r\n            StdOut.println();\r\n            ^\r\n      symbol:   variable StdOut\r\n      location: class Markov\r\n    coursera/java-stuff/markov/Markov.java:51: error: cannot find symbol\r\n            StdOut.println();\r\n            ^\r\n      symbol:   variable StdOut\r\n      location: class Markov\r\n    coursera/java-stuff/markov/Markov.java:54: error: cannot find symbol\r\n                StdOut.printf(&quot;%2d  %5.3f\\n&quot;, i, rank[i]);\r\n                ^\r\n      symbol:   variable StdOut\r\n      location: class Markov\r\n    7 errors\r\n\r\n\r\nAnd here is my code, so you can see\r\n\r\n    import edu.princeton.cs.algs4.StdIn;\r\n    import edu.princeton.cs.algs4.StdOut;\r\n        \r\n    public class Markov {\r\n        \r\n            public static void main(String[] args) {\r\n                int trials = Integer.parseInt(args[0]);  // number of iterations\r\n                int n = StdIn.readInt();                 // number of pages\r\n                StdIn.readInt();                         // ignore integer required by input format\r\n        \r\n        \r\n                // Read p[][] from StdIn.\r\n                double[][] p\r\n                        = new double[n][n];         // p[i][j] = prob. surfer moves from page i to page j\r\n                for (int i = 0; i &lt; n; i++)\r\n                    for (int j = 0; j &lt; n; j++)\r\n                        p[i][j] = StdIn.readDouble();\r\n        \r\n                // Use the power method to compute page ranks.\r\n                double[] rank = new double[n];\r\n                rank[0] = 1.0;\r\n                for (int t = 0; t &lt; trials; t++) {\r\n        \r\n                    // Compute effect of next move on page ranks.\r\n                    double[] newRank = new double[n];\r\n                    for (int j = 0; j &lt; n; j++) {\r\n                        //  New rank of page j is dot product of old ranks and column j of p[][].\r\n                        for (int k = 0; k &lt; n; k++)\r\n                            newRank[j] += rank[k] * p[k][j];\r\n                    }\r\n        \r\n                    // Update page ranks.\r\n                    rank = newRank;\r\n                }\r\n        \r\n                // print page ranks\r\n                for (int i = 0; i &lt; n; i++) {\r\n                    StdOut.printf(&quot;%8.5f&quot;, rank[i]);\r\n                }\r\n                StdOut.println();\r\n        \r\n                StdOut.println();\r\n                // print page ranks\r\n                for (int i = 0; i &lt; n; i++) {\r\n                    StdOut.printf(&quot;%2d  %5.3f\\n&quot;, i, rank[i]);\r\n                }\r\n            }\r\n        }\r\n\r\nAnyone? I don&#39;t think this is a difficult question for an experienced Java guy.","title":"Java does not find symbols StdIn and StdOut","body":"<p>I am having Java compilation issues. Although I have configured my classpath properly as seen here...</p>\n\n<pre><code>yan@Y9Acer:~$ echo $CLASSPATH\n.:/usr/local/lift/lib/stdlib.jar:/usr/local/lift/lib/introcs.jar:/usr/local/lift/lib/algs4.jar\n</code></pre>\n\n<p>I still get the following StdIn and StdOut errors when building indicating that the symbols weren't found. But these would be found in the stdlib.jar file listed above, so I don't know why this is happening. Does anyone know why this is? I've looked for hours and gotten nowhere.</p>\n\n<pre><code>yan@Y9Acer:~$ javac-algs4 coursera/java-stuff/markov/Markov.java\ncoursera/java-stuff/markov/Markov.java:17: error: cannot find symbol\n        int n = StdIn.readInt();                 // number of pages\n                ^\n  symbol:   variable StdIn\n  location: class Markov\ncoursera/java-stuff/markov/Markov.java:18: error: cannot find symbol\n        StdIn.readInt();                         // ignore integer required by input format\n        ^\n  symbol:   variable StdIn\n  location: class Markov\ncoursera/java-stuff/markov/Markov.java:26: error: cannot find symbol\n                p[i][j] = StdIn.readDouble();\n                          ^\n  symbol:   variable StdIn\n  location: class Markov\ncoursera/java-stuff/markov/Markov.java:47: error: cannot find symbol\n            StdOut.printf(\"%8.5f\", rank[i]);\n            ^\n  symbol:   variable StdOut\n  location: class Markov\ncoursera/java-stuff/markov/Markov.java:49: error: cannot find symbol\n        StdOut.println();\n        ^\n  symbol:   variable StdOut\n  location: class Markov\ncoursera/java-stuff/markov/Markov.java:51: error: cannot find symbol\n        StdOut.println();\n        ^\n  symbol:   variable StdOut\n  location: class Markov\ncoursera/java-stuff/markov/Markov.java:54: error: cannot find symbol\n            StdOut.printf(\"%2d  %5.3f\\n\", i, rank[i]);\n            ^\n  symbol:   variable StdOut\n  location: class Markov\n7 errors\n</code></pre>\n\n<p>And here is my code, so you can see</p>\n\n<pre><code>import edu.princeton.cs.algs4.StdIn;\nimport edu.princeton.cs.algs4.StdOut;\n\npublic class Markov {\n\n        public static void main(String[] args) {\n            int trials = Integer.parseInt(args[0]);  // number of iterations\n            int n = StdIn.readInt();                 // number of pages\n            StdIn.readInt();                         // ignore integer required by input format\n\n\n            // Read p[][] from StdIn.\n            double[][] p\n                    = new double[n][n];         // p[i][j] = prob. surfer moves from page i to page j\n            for (int i = 0; i &lt; n; i++)\n                for (int j = 0; j &lt; n; j++)\n                    p[i][j] = StdIn.readDouble();\n\n            // Use the power method to compute page ranks.\n            double[] rank = new double[n];\n            rank[0] = 1.0;\n            for (int t = 0; t &lt; trials; t++) {\n\n                // Compute effect of next move on page ranks.\n                double[] newRank = new double[n];\n                for (int j = 0; j &lt; n; j++) {\n                    //  New rank of page j is dot product of old ranks and column j of p[][].\n                    for (int k = 0; k &lt; n; k++)\n                        newRank[j] += rank[k] * p[k][j];\n                }\n\n                // Update page ranks.\n                rank = newRank;\n            }\n\n            // print page ranks\n            for (int i = 0; i &lt; n; i++) {\n                StdOut.printf(\"%8.5f\", rank[i]);\n            }\n            StdOut.println();\n\n            StdOut.println();\n            // print page ranks\n            for (int i = 0; i &lt; n; i++) {\n                StdOut.printf(\"%2d  %5.3f\\n\", i, rank[i]);\n            }\n        }\n    }\n</code></pre>\n\n<p>Anyone? I don't think this is a difficult question for an experienced Java guy.</p>\n"},{"tags":["java","android","crash","crashlytics","android-anr-dialog"],"comments":[{"owner":{"account_id":3482475,"reputation":27250,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1690795131,"post_id":73021483,"comment_id":135397628,"body_markdown":"Also it may occur when debug. Just stop at breakpoint and wait for 5 seconds.","body":"Also it may occur when debug. Just stop at breakpoint and wait for 5 seconds."}],"answers":[{"tags":[],"owner":{"account_id":1090531,"reputation":5002,"user_id":1085264,"accept_rate":50,"display_name":"straya"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658144935,"creation_date":1658144935,"answer_id":73021859,"question_id":73021483,"body_markdown":"You are blocking the main thread. Make sure that IO operations such as db access is done in a thread other than the main thread. On top of that you may need to implement some basic Activity setup to allow the app to respond to inputs (hard to say with so little information provided).","title":"Input dispatching timed out (ANR)(Waited 5000ms for MotionEvent)","body":"<p>You are blocking the main thread. Make sure that IO operations such as db access is done in a thread other than the main thread. On top of that you may need to implement some basic Activity setup to allow the app to respond to inputs (hard to say with so little information provided).</p>\n"}],"owner":{"account_id":25262974,"reputation":23,"user_id":19093611,"display_name":"Hiral Bhojani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3647,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73021859,"answer_count":1,"score":2,"last_activity_date":1690792486,"creation_date":1658143057,"question_id":73021483,"body_markdown":"I have published my app few days ago and in that so many ANR is generating. \r\n\r\nInput dispatching timed out (cabef3d main.MainNavigationActivity (server) is not responding. Waited 5000ms for MotionEvent)\r\n\r\nAbove is the ANR gnerating most of time\r\n\r\n\r\nBelow here I&#39;m giving screenshot of both log of playstore and my code  \r\n\r\n[![playstore log image][1]][1]\r\n\r\n\r\n[![code image][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VrjfB.png\r\n  [2]: https://i.stack.imgur.com/tr7AP.png","title":"Input dispatching timed out (ANR)(Waited 5000ms for MotionEvent)","body":"<p>I have published my app few days ago and in that so many ANR is generating.</p>\n<p>Input dispatching timed out (cabef3d main.MainNavigationActivity (server) is not responding. Waited 5000ms for MotionEvent)</p>\n<p>Above is the ANR gnerating most of time</p>\n<p>Below here I'm giving screenshot of both log of playstore and my code</p>\n<p><a href=\"https://i.stack.imgur.com/VrjfB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VrjfB.png\" alt=\"playstore log image\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/tr7AP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tr7AP.png\" alt=\"code image\" /></a></p>\n"},{"tags":["java","android","android-studio","kotlin","gradle"],"comments":[{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1667820088,"post_id":74345674,"comment_id":131250843,"body_markdown":"Are the Gradle code blocks you added are correct? I mean exactly how it appeared on your Android Studio? Since I saw this line `options common to all sub-projects/modules.` and it is not commented out.","body":"Are the Gradle code blocks you added are correct? I mean exactly how it appeared on your Android Studio? Since I saw this line <code>options common to all sub-projects&#47;modules.</code> and it is not commented out."},{"owner":{"account_id":18081494,"reputation":117,"user_id":13143525,"display_name":"Mobinkh"},"score":0,"creation_date":1667848167,"post_id":74345674,"comment_id":131261180,"body_markdown":"@LawrenceGimenez\nYe it was mistake i just edited that its already commented","body":"@LawrenceGimenez Ye it was mistake i just edited that its already commented"},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1667871021,"post_id":74345674,"comment_id":131266275,"body_markdown":"Thanks, it is confusing with all these samples. Are the samples yours?","body":"Thanks, it is confusing with all these samples. Are the samples yours?"},{"owner":{"account_id":18081494,"reputation":117,"user_id":13143525,"display_name":"Mobinkh"},"score":0,"creation_date":1667882304,"post_id":74345674,"comment_id":131267732,"body_markdown":"@LawrenceGimenez Yes.","body":"@LawrenceGimenez Yes."}],"answers":[{"tags":[],"owner":{"account_id":18081494,"reputation":117,"user_id":13143525,"display_name":"Mobinkh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690791715,"creation_date":1690791715,"answer_id":76801836,"question_id":74345674,"body_markdown":"Sadly all of the problems was related to country network restrictions you can fix that by adding other repositories to gradle \r\n\r\npersonally changing repos to a clone repo named aliyun was solution \r\n\r\nfor example adding this to your build.gradle \r\n```\r\nrepositories {\r\n    maven { url &#39;https://maven.aliyun.com/repository/public&#39; }\r\n    maven { url &#39;https://maven.aliyun.com/repository/central&#39; }\r\n    maven { url &#39;https://maven.aliyun.com/repository/google&#39; }\r\n    maven { url &#39;https://maven.aliyun.com/repository/gradle-plugin&#39; }\r\n    maven { url &#39;https://maven.aliyun.com/repository/apache-snapshots&#39; }\r\n}\r\n\r\nallprojects {\r\nrepositories {\r\n    maven { url &#39;https://maven.aliyun.com/repository/public&#39; }\r\n    maven { url &#39;https://maven.aliyun.com/repository/central&#39; }\r\n    maven { url &#39;https://maven.aliyun.com/repository/google&#39; }\r\n    maven { url &#39;https://maven.aliyun.com/repository/gradle-plugin&#39; }\r\n    maven { url &#39;https://maven.aliyun.com/repository/apache-snapshots&#39; }\r\n}\r\n}\r\n```","title":"Android Studio 2022 Gradle Problems","body":"<p>Sadly all of the problems was related to country network restrictions you can fix that by adding other repositories to gradle</p>\n<p>personally changing repos to a clone repo named aliyun was solution</p>\n<p>for example adding this to your build.gradle</p>\n<pre><code>repositories {\n    maven { url 'https://maven.aliyun.com/repository/public' }\n    maven { url 'https://maven.aliyun.com/repository/central' }\n    maven { url 'https://maven.aliyun.com/repository/google' }\n    maven { url 'https://maven.aliyun.com/repository/gradle-plugin' }\n    maven { url 'https://maven.aliyun.com/repository/apache-snapshots' }\n}\n\nallprojects {\nrepositories {\n    maven { url 'https://maven.aliyun.com/repository/public' }\n    maven { url 'https://maven.aliyun.com/repository/central' }\n    maven { url 'https://maven.aliyun.com/repository/google' }\n    maven { url 'https://maven.aliyun.com/repository/gradle-plugin' }\n    maven { url 'https://maven.aliyun.com/repository/apache-snapshots' }\n}\n}\n</code></pre>\n"}],"owner":{"account_id":18081494,"reputation":117,"user_id":13143525,"display_name":"Mobinkh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690791715,"creation_date":1667819566,"question_id":74345674,"body_markdown":"it&#39;s been 3 days I&#39;m struggling with this problem and didn&#39;t find a single solution to this.\r\n\r\nEverything was good I had many projects in android studio 2022 working well but suddenly it seems all of my Gradle files are changed ?! or they are just I don&#39;t know what happened to them they are broken! every single project I open even the new project gives me an error in every single dependency or plugin ill share the information about it below here:\r\n\r\nEvery single Build.Gradle (Project) File : \r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    plugins {\r\n    id &#39;com.android.application&#39; version &#39;7.2.1&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.2.1&#39; apply false\r\n    id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.7.10&#39; apply false\r\n    }\r\n\r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\n**Sample build.Gradle (App)**\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdk 32\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.teach.mytest&quot;\r\n        minSdk 28\r\n        targetSdk 32\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.5.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.6.1&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n}\r\n```\r\n** Sample gradle-wrapper.properties:**\r\n```\r\ndistributionBase=GRADLE_USER_HOME\r\ndistributionUrl=https://services.gradle.org/distributions/gradle-7.6-rc-1-bin.zip\r\ndistributionPath=wrapper/dists\r\nzipStorePath=wrapper/dists\r\nzipStoreBase=GRADLE_USER_HOME\r\n```\r\n\r\n** Sample settings.gradle: **\r\n\r\n```pluginManagement {\r\n    repositories {\r\n        gradlePluginPortal()\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\ndependencyResolutionManagement {\r\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\nrootProject.name = &quot;MyTest&quot;\r\ninclude &#39;:app&#39;\r\n```\r\n**Errors:**\r\nsimple explaining about errors The errors are simply coming for all the projects are the same but when one project has extra dependency it gets errors like the below too for that dependency \r\nalso when I change the Gradle version from properties it&#39;s downloading the new Gradle working well but in the build phase it gives the same errors\r\n\r\n```\r\nPlugin [id: &#39;com.android.application&#39;, version: &#39;7.2.2&#39;, apply: false] was not found in any of the following sources:\r\n```\r\n\r\n```\r\nGradle Core Plugins (plugin is not in &#39;org.gradle&#39; namespace)\r\n```\r\n```\r\n- Plugin Repositories (could not resolve plugin artifact &#39;com.android.application:com.android.application.gradle.plugin:7.2.2&#39;)\r\nSearched in the following repositories:\r\n    Gradle Central Plugin Repository\r\n    Google\r\n    MavenRepo\r\n```\r\n\r\n\r\n** Whatever i did ?**\r\n\r\n- I tried to create a new project\r\n- I tried to change the java version\r\n- I tried to change the Gradle version and the application version\r\n- I tried to invalidate caches and restart\r\n\r\n** Notes ** \r\nI&#39;m using Java 15 mainly in my projects default android studio java version is 11 \r\nI change it via setting &gt; build tool\r\nBut the problem is same also same in kotlin projects\r\n\r\n\r\n**Edit:**\r\nI changed the android.application version to 7.0.0\r\neverything downloaded started from scratch at the final part its giving only error for gradle version 7.0.0","title":"Android Studio 2022 Gradle Problems","body":"<p>it's been 3 days I'm struggling with this problem and didn't find a single solution to this.</p>\n<p>Everything was good I had many projects in android studio 2022 working well but suddenly it seems all of my Gradle files are changed ?! or they are just I don't know what happened to them they are broken! every single project I open even the new project gives me an error in every single dependency or plugin ill share the information about it below here:</p>\n<p>Every single Build.Gradle (Project) File :</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\nid 'com.android.application' version '7.2.1' apply false\nid 'com.android.library' version '7.2.1' apply false\nid 'org.jetbrains.kotlin.android' version '1.7.10' apply false\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p><strong>Sample build.Gradle (App)</strong></p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.teach.mytest&quot;\n        minSdk 28\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.5.1'\n    implementation 'com.google.android.material:material:1.6.1'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n}\n</code></pre>\n<p>** Sample gradle-wrapper.properties:**</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionUrl=https://services.gradle.org/distributions/gradle-7.6-rc-1-bin.zip\ndistributionPath=wrapper/dists\nzipStorePath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\n</code></pre>\n<p>** Sample settings.gradle: **</p>\n<pre><code>    repositories {\n        gradlePluginPortal()\n        google()\n        mavenCentral()\n    }\n}\ndependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\nrootProject.name = &quot;MyTest&quot;\ninclude ':app'\n</code></pre>\n<p><strong>Errors:</strong>\nsimple explaining about errors The errors are simply coming for all the projects are the same but when one project has extra dependency it gets errors like the below too for that dependency\nalso when I change the Gradle version from properties it's downloading the new Gradle working well but in the build phase it gives the same errors</p>\n<pre><code>Plugin [id: 'com.android.application', version: '7.2.2', apply: false] was not found in any of the following sources:\n</code></pre>\n<pre><code>Gradle Core Plugins (plugin is not in 'org.gradle' namespace)\n</code></pre>\n<pre><code>- Plugin Repositories (could not resolve plugin artifact 'com.android.application:com.android.application.gradle.plugin:7.2.2')\nSearched in the following repositories:\n    Gradle Central Plugin Repository\n    Google\n    MavenRepo\n</code></pre>\n<p>** Whatever i did ?**</p>\n<ul>\n<li>I tried to create a new project</li>\n<li>I tried to change the java version</li>\n<li>I tried to change the Gradle version and the application version</li>\n<li>I tried to invalidate caches and restart</li>\n</ul>\n<p>** Notes **\nI'm using Java 15 mainly in my projects default android studio java version is 11\nI change it via setting &gt; build tool\nBut the problem is same also same in kotlin projects</p>\n<p><strong>Edit:</strong>\nI changed the android.application version to 7.0.0\neverything downloaded started from scratch at the final part its giving only error for gradle version 7.0.0</p>\n"},{"tags":["java","gradle","java-8","blockchain","corda"],"owner":{"account_id":1679343,"reputation":3,"user_id":1544020,"display_name":"Raj Gohel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690791470,"creation_date":1690786387,"question_id":76801277,"body_markdown":"I cloned cordapp-template-java using the below link.\r\nhttps://github.com/corda/cordapp-template-java.git\r\nBranch - release-V4\r\n\r\n**1) I executed gradle build/clean from IntelliJ gradle sidebar. It&#39;s failing with below error stack.**\r\n\r\nBuild file &#39;D:\\blockchain\\build.gradle&#39; line: 60\r\n\r\nFailed to apply plugin &#39;net.corda.plugins.cordapp&#39;.\r\nCollection contains no element matching the predicate.\r\n\r\nTry:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n**2) Executed gradle command with --stacktrace.**\r\n\r\nCaused by: org.gradle.api.internal.plugins.PluginApplicationException: Failed to apply plugin &#39;net.corda.plugins.cordapp&#39;\r\n\r\nCaused by: java.util.NoSuchElementException: Collection contains no element matching the predicate.","title":"Failed to apply plugin &#39;net.corda.plugins.cordapp&#39;","body":"<p>I cloned cordapp-template-java using the below link.\n<a href=\"https://github.com/corda/cordapp-template-java.git\" rel=\"nofollow noreferrer\">https://github.com/corda/cordapp-template-java.git</a>\nBranch - release-V4</p>\n<p><strong>1) I executed gradle build/clean from IntelliJ gradle sidebar. It's failing with below error stack.</strong></p>\n<p>Build file 'D:\\blockchain\\build.gradle' line: 60</p>\n<p>Failed to apply plugin 'net.corda.plugins.cordapp'.\nCollection contains no element matching the predicate.</p>\n<p>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.</p>\n<p><strong>2) Executed gradle command with --stacktrace.</strong></p>\n<p>Caused by: org.gradle.api.internal.plugins.PluginApplicationException: Failed to apply plugin 'net.corda.plugins.cordapp'</p>\n<p>Caused by: java.util.NoSuchElementException: Collection contains no element matching the predicate.</p>\n"},{"tags":["java","gradle","gradle-plugin","gradlew"],"answers":[{"tags":[],"owner":{"account_id":28850014,"reputation":1,"user_id":22096109,"display_name":"SNGTO"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687737220,"creation_date":1687737168,"answer_id":76552845,"question_id":76510794,"body_markdown":"We resolved this problem to use [The Test Report Aggregation Plugin](https://docs.gradle.org/7.5.1/userguide/test_report_aggregation_plugin.html).  \r\nThe plugin&#39;s setting is below.\r\n\r\nroot\\build.gradle\r\n```groovy\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;eclipse&#39;\r\n    id &#39;project-report&#39;\r\n    id &#39;test-report-aggregation&#39;\r\n}\r\n\r\ndependencies {\r\n    testReportAggregation project(&#39;:common&#39;)\r\n    testReportAggregation project(&#39;:batch&#39;)\r\n    testReportAggregation project(&#39;:webapp&#39;)\r\n    testReportAggregation project(&#39;:webservice&#39;)\r\n}\r\n\r\nreporting {\r\n    reports {\r\n        testAggregateTestReport(AggregateTestReport) { \r\n            testType = TestSuiteType.UNIT_TEST\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nroot\\buildSrc\\src\\main\\groovy\\java-common.gradle\r\n```groovy\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;eclipse&#39;\r\n    id &#39;project-report&#39;\r\n    id &#39;org.springframework.boot&#39;\r\n    id &#39;io.spring.dependency-management&#39;\r\n}\r\n\r\nsourceCompatibility = 17\r\ntargetCompatibility = 17\r\n\r\n[compileJava, compileTestJava]*.options*.encoding = &quot;UTF-8&quot;\r\n\r\ngroup = &#39;com.example&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\nconfigurations {\r\n    compileOnly {\r\n        extendsFrom annotationProcessor\r\n    }\r\n    testCompileOnly {\r\n        extendsFrom testAnnotationProcessor\r\n    }\r\n}\r\n\r\ndependencies {\r\n    // Spring\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-aop&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    \r\n    // Apache Commons Lang3\r\n    implementation &quot;org.apache.commons:commons-lang3:3.12.0&quot;\r\n    \r\n    // lombok\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    testCompileOnly &#39;org.projectlombok:lombok&#39;\r\n    testAnnotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\r\n    // JUnit\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter:5.9.1&#39;\r\n    \r\n    // Mockito\r\n    testImplementation &#39;org.mockito:mockito-core:4.8.1&#39;\r\n    testImplementation &#39;org.mockito:mockito-inline:4.8.1&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n    useJUnitPlatform()\r\n\r\n    testLogging {\r\n        showStandardStreams false\r\n        events &#39;failed&#39;\r\n        exceptionFormat &#39;full&#39;\r\n    }\r\n    systemProperty &quot;file.encoding&quot;, &quot;UTF-8&quot;\r\n    jvmArgs = [&#39;--add-opens=java.base/java.util=ALL-UNNAMED&#39;]\r\n}\r\n\r\ntest {\r\n    // Test Result Reports are output from all projects at once.\r\n    reports.html.required = false\r\n}\r\n\r\n// Delete this task!!!\r\n// Create a Test Result Report\r\n// gradlew testReport\r\n// task testReport(type: TestReport) {\r\n//    destinationDirectory = file(&quot;${rootDir}/build/reports/allTests&quot;)\r\n//    reportOn files(&quot;${rootDir}/batch/build/test-results/test/binary&quot;,\r\n//        &quot;${rootDir}/common/build/test-results/test/binary&quot;,\r\n//        &quot;${rootDir}/webapp/build/test-results/test/binary&quot;,\r\n//        &quot;${rootDir}/webservice/build/test-results/test/binary&quot;)\r\n}\r\n```\r\n\r\nAfter setting, we execute this command.\r\n```\r\ngradlew testAggregateTestReport\r\n```\r\n","title":"Aggregating multiple gradle java project test results without using the &quot;reportOn&quot; method","body":"<p>We resolved this problem to use <a href=\"https://docs.gradle.org/7.5.1/userguide/test_report_aggregation_plugin.html\" rel=\"nofollow noreferrer\">The Test Report Aggregation Plugin</a>.<br />\nThe plugin's setting is below.</p>\n<p>root\\build.gradle</p>\n<pre><code>plugins {\n    id 'java'\n    id 'eclipse'\n    id 'project-report'\n    id 'test-report-aggregation'\n}\n\ndependencies {\n    testReportAggregation project(':common')\n    testReportAggregation project(':batch')\n    testReportAggregation project(':webapp')\n    testReportAggregation project(':webservice')\n}\n\nreporting {\n    reports {\n        testAggregateTestReport(AggregateTestReport) { \n            testType = TestSuiteType.UNIT_TEST\n        }\n    }\n}\n</code></pre>\n<p>root\\buildSrc\\src\\main\\groovy\\java-common.gradle</p>\n<pre><code>plugins {\n    id 'java'\n    id 'eclipse'\n    id 'project-report'\n    id 'org.springframework.boot'\n    id 'io.spring.dependency-management'\n}\n\nsourceCompatibility = 17\ntargetCompatibility = 17\n\n[compileJava, compileTestJava]*.options*.encoding = &quot;UTF-8&quot;\n\ngroup = 'com.example'\n\nrepositories {\n    mavenCentral()\n}\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n    testCompileOnly {\n        extendsFrom testAnnotationProcessor\n    }\n}\n\ndependencies {\n    // Spring\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-aop'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    \n    // Apache Commons Lang3\n    implementation &quot;org.apache.commons:commons-lang3:3.12.0&quot;\n    \n    // lombok\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    testCompileOnly 'org.projectlombok:lombok'\n    testAnnotationProcessor 'org.projectlombok:lombok'\n\n    // JUnit\n    testImplementation 'org.junit.jupiter:junit-jupiter:5.9.1'\n    \n    // Mockito\n    testImplementation 'org.mockito:mockito-core:4.8.1'\n    testImplementation 'org.mockito:mockito-inline:4.8.1'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n\n    testLogging {\n        showStandardStreams false\n        events 'failed'\n        exceptionFormat 'full'\n    }\n    systemProperty &quot;file.encoding&quot;, &quot;UTF-8&quot;\n    jvmArgs = ['--add-opens=java.base/java.util=ALL-UNNAMED']\n}\n\ntest {\n    // Test Result Reports are output from all projects at once.\n    reports.html.required = false\n}\n\n// Delete this task!!!\n// Create a Test Result Report\n// gradlew testReport\n// task testReport(type: TestReport) {\n//    destinationDirectory = file(&quot;${rootDir}/build/reports/allTests&quot;)\n//    reportOn files(&quot;${rootDir}/batch/build/test-results/test/binary&quot;,\n//        &quot;${rootDir}/common/build/test-results/test/binary&quot;,\n//        &quot;${rootDir}/webapp/build/test-results/test/binary&quot;,\n//        &quot;${rootDir}/webservice/build/test-results/test/binary&quot;)\n}\n</code></pre>\n<p>After setting, we execute this command.</p>\n<pre><code>gradlew testAggregateTestReport\n</code></pre>\n"},{"comments":[{"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"score":1,"creation_date":1691078099,"post_id":76801760,"comment_id":135445949,"body_markdown":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - [From Review](/review/late-answers/34770841)","body":"While this link may answer the question, it is better to include the essential parts of the answer here and provide the link for reference.  Link-only answers can become invalid if the linked page changes. - <a href=\"/review/late-answers/34770841\">From Review</a>"}],"tags":[],"owner":{"account_id":28850014,"reputation":1,"user_id":22096109,"display_name":"SNGTO"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690790934,"creation_date":1690790934,"answer_id":76801760,"question_id":76510794,"body_markdown":"Refer to this page：  \r\nhttps://docs.gradle.org/7.5.1/userguide/java_testing.html#test_reporting\r\n\r\nroot\\build.gradle\r\n```groovy\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;eclipse&#39;\r\n}\r\n\r\nconfigurations {\r\n    testReportData {\r\n        canBeResolved = true\r\n        canBeConsumed = false\r\n        attributes {\r\n            attribute(Category.CATEGORY_ATTRIBUTE, objects.named(Category, Category.DOCUMENTATION))\r\n            attribute(DocsType.DOCS_TYPE_ATTRIBUTE, objects.named(DocsType, &#39;test-report-data&#39;))\r\n        }\r\n    }\r\n}\r\n\r\ndependencies {\r\n    testReportData project(&#39;:common&#39;)\r\n    testReportData project(&#39;:batch&#39;)\r\n    testReportData project(&#39;:webapp&#39;)\r\n    testReportData project(&#39;:webservice&#39;)\r\n}\r\n\r\ntasks.register(&#39;testReport&#39;, TestReport) {\r\n    destinationDirectory = reporting.baseDirectory.dir(&#39;allTests&#39;)\r\n    testResults.from(configurations.testReportData)\r\n}\r\n```\r\n\r\nroot\\buildSrc\\src\\main\\groovy\\java-common.gradle\r\n```groovy\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;eclipse&#39;\r\n    id &#39;project-report&#39;\r\n    id &#39;org.springframework.boot&#39;\r\n    id &#39;io.spring.dependency-management&#39;\r\n}\r\n\r\nsourceCompatibility = 17\r\ntargetCompatibility = 17\r\n\r\n[compileJava, compileTestJava]*.options*.encoding = &quot;UTF-8&quot;\r\n\r\ngroup = &#39;com.example&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\nconfigurations {\r\n    compileOnly {\r\n        extendsFrom annotationProcessor\r\n    }\r\n    testCompileOnly {\r\n        extendsFrom testAnnotationProcessor\r\n    }\r\n}\r\n\r\ndependencies {\r\n    // Spring\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-aop&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    \r\n    // Apache Commons Lang3\r\n    implementation &quot;org.apache.commons:commons-lang3:3.12.0&quot;\r\n    \r\n    // lombok\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    testCompileOnly &#39;org.projectlombok:lombok&#39;\r\n    testAnnotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\r\n    // JUnit\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter:5.9.1&#39;\r\n    \r\n    // Mockito\r\n    testImplementation &#39;org.mockito:mockito-core:4.8.1&#39;\r\n    testImplementation &#39;org.mockito:mockito-inline:4.8.1&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n    useJUnitPlatform()\r\n\r\n    testLogging {\r\n        showStandardStreams false\r\n        events &#39;failed&#39;\r\n        exceptionFormat &#39;full&#39;\r\n    }\r\n    systemProperty &quot;file.encoding&quot;, &quot;UTF-8&quot;\r\n    jvmArgs = [&#39;--add-opens=java.base/java.util=ALL-UNNAMED&#39;]\r\n}\r\n\r\ntest {\r\n    // Test Result Reports are output from all projects at once.\r\n    reports.html.required = false\r\n}\r\n\r\n// ↓add setting\r\nconfigurations {\r\n    binaryTestResultsElements {\r\n        canBeResolved = false\r\n        canBeConsumed = true\r\n        attributes {\r\n            attribute(Category.CATEGORY_ATTRIBUTE, objects.named(Category, Category.DOCUMENTATION))\r\n            attribute(DocsType.DOCS_TYPE_ATTRIBUTE, objects.named(DocsType, &#39;test-report-data&#39;))\r\n        }\r\n        outgoing.artifact(test.binaryResultsDirectory)\r\n    }\r\n}\r\n\r\n// Delete this task!!!\r\n// Create a Test Result Report\r\n// gradlew testReport\r\n// task testReport(type: TestReport) {\r\n//    destinationDirectory = file(&quot;${rootDir}/build/reports/allTests&quot;)\r\n//    reportOn files(&quot;${rootDir}/batch/build/test-results/test/binary&quot;,\r\n//        &quot;${rootDir}/common/build/test-results/test/binary&quot;,\r\n//        &quot;${rootDir}/webapp/build/test-results/test/binary&quot;,\r\n//        &quot;${rootDir}/webservice/build/test-results/test/binary&quot;)\r\n}\r\n```","title":"Aggregating multiple gradle java project test results without using the &quot;reportOn&quot; method","body":"<p>Refer to this page：<br />\n<a href=\"https://docs.gradle.org/7.5.1/userguide/java_testing.html#test_reporting\" rel=\"nofollow noreferrer\">https://docs.gradle.org/7.5.1/userguide/java_testing.html#test_reporting</a></p>\n<p>root\\build.gradle</p>\n<pre><code>plugins {\n    id 'java'\n    id 'eclipse'\n}\n\nconfigurations {\n    testReportData {\n        canBeResolved = true\n        canBeConsumed = false\n        attributes {\n            attribute(Category.CATEGORY_ATTRIBUTE, objects.named(Category, Category.DOCUMENTATION))\n            attribute(DocsType.DOCS_TYPE_ATTRIBUTE, objects.named(DocsType, 'test-report-data'))\n        }\n    }\n}\n\ndependencies {\n    testReportData project(':common')\n    testReportData project(':batch')\n    testReportData project(':webapp')\n    testReportData project(':webservice')\n}\n\ntasks.register('testReport', TestReport) {\n    destinationDirectory = reporting.baseDirectory.dir('allTests')\n    testResults.from(configurations.testReportData)\n}\n</code></pre>\n<p>root\\buildSrc\\src\\main\\groovy\\java-common.gradle</p>\n<pre><code>plugins {\n    id 'java'\n    id 'eclipse'\n    id 'project-report'\n    id 'org.springframework.boot'\n    id 'io.spring.dependency-management'\n}\n\nsourceCompatibility = 17\ntargetCompatibility = 17\n\n[compileJava, compileTestJava]*.options*.encoding = &quot;UTF-8&quot;\n\ngroup = 'com.example'\n\nrepositories {\n    mavenCentral()\n}\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n    testCompileOnly {\n        extendsFrom testAnnotationProcessor\n    }\n}\n\ndependencies {\n    // Spring\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-aop'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    \n    // Apache Commons Lang3\n    implementation &quot;org.apache.commons:commons-lang3:3.12.0&quot;\n    \n    // lombok\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    testCompileOnly 'org.projectlombok:lombok'\n    testAnnotationProcessor 'org.projectlombok:lombok'\n\n    // JUnit\n    testImplementation 'org.junit.jupiter:junit-jupiter:5.9.1'\n    \n    // Mockito\n    testImplementation 'org.mockito:mockito-core:4.8.1'\n    testImplementation 'org.mockito:mockito-inline:4.8.1'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n\n    testLogging {\n        showStandardStreams false\n        events 'failed'\n        exceptionFormat 'full'\n    }\n    systemProperty &quot;file.encoding&quot;, &quot;UTF-8&quot;\n    jvmArgs = ['--add-opens=java.base/java.util=ALL-UNNAMED']\n}\n\ntest {\n    // Test Result Reports are output from all projects at once.\n    reports.html.required = false\n}\n\n// ↓add setting\nconfigurations {\n    binaryTestResultsElements {\n        canBeResolved = false\n        canBeConsumed = true\n        attributes {\n            attribute(Category.CATEGORY_ATTRIBUTE, objects.named(Category, Category.DOCUMENTATION))\n            attribute(DocsType.DOCS_TYPE_ATTRIBUTE, objects.named(DocsType, 'test-report-data'))\n        }\n        outgoing.artifact(test.binaryResultsDirectory)\n    }\n}\n\n// Delete this task!!!\n// Create a Test Result Report\n// gradlew testReport\n// task testReport(type: TestReport) {\n//    destinationDirectory = file(&quot;${rootDir}/build/reports/allTests&quot;)\n//    reportOn files(&quot;${rootDir}/batch/build/test-results/test/binary&quot;,\n//        &quot;${rootDir}/common/build/test-results/test/binary&quot;,\n//        &quot;${rootDir}/webapp/build/test-results/test/binary&quot;,\n//        &quot;${rootDir}/webservice/build/test-results/test/binary&quot;)\n}\n</code></pre>\n"}],"owner":{"account_id":28850014,"reputation":1,"user_id":22096109,"display_name":"SNGTO"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":185,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690790934,"creation_date":1687222630,"question_id":76510794,"body_markdown":"We have a multiple gradle java project.\r\nThis project exports aggregated test report when &quot;gradlew testReport&quot; command executes.\r\n\r\nWe use &quot;reportOn&quot; method but this method is deprecated, so this warning log is output to the console.\r\n\r\n&gt; The TestReport.reportOn(Object...) method has been deprecated. This is scheduled to be removed in Gradle 8.0. Please use the testResults method instead. See https://docs.gradle.org/7.5.1/dsl/org.gradle.api.tasks.testing.TestReport.html#org.gradle.api.tasks.testing.TestReport:testResults for more details.\r\n\r\nWe have rewritten the configuration referring to the link in the warning log, but it did not work.\r\nWe would like to achieve the same behavior without using the &quot;reportOn&quot; method.\r\n\r\n---\r\n\r\nOur project structure like this.\r\n\r\n```\r\nroot\r\n |--- buildSrc\r\n |--- batch\r\n |--- common\r\n |--- webapp\r\n |--- webservice\r\n```\r\n\r\nAnd each `build.gradle` like this.\r\n\r\nroot\\\\buildSrc\\\\src\\\\main\\\\groovy\\\\java-common.gradle\r\n\r\n```groovy\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;eclipse&#39;\r\n    id &#39;project-report&#39;\r\n    id &#39;org.springframework.boot&#39;\r\n    id &#39;io.spring.dependency-management&#39;\r\n}\r\n\r\nsourceCompatibility = 17\r\ntargetCompatibility = 17\r\n\r\n[compileJava, compileTestJava]*.options*.encoding = &quot;UTF-8&quot;\r\n\r\ngroup = &#39;com.example&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\nconfigurations {\r\n    compileOnly {\r\n        extendsFrom annotationProcessor\r\n    }\r\n    testCompileOnly {\r\n        extendsFrom testAnnotationProcessor\r\n    }\r\n}\r\n\r\ndependencies {\r\n    // Spring\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n    implementation &#39;org.springframework.boot:spring-boot-starter-aop&#39;\r\n    testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    \r\n    // Apache Commons Lang3\r\n    implementation &quot;org.apache.commons:commons-lang3:3.12.0&quot;\r\n    \r\n    // lombok\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n    testCompileOnly &#39;org.projectlombok:lombok&#39;\r\n    testAnnotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\r\n    // JUnit\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter:5.9.1&#39;\r\n    \r\n    // Mockito\r\n    testImplementation &#39;org.mockito:mockito-core:4.8.1&#39;\r\n    testImplementation &#39;org.mockito:mockito-inline:4.8.1&#39;\r\n}\r\n\r\ntasks.named(&#39;test&#39;) {\r\n    useJUnitPlatform()\r\n\r\n    testLogging {\r\n        showStandardStreams false\r\n        events &#39;failed&#39;\r\n        exceptionFormat &#39;full&#39;\r\n    }\r\n    systemProperty &quot;file.encoding&quot;, &quot;UTF-8&quot;\r\n    jvmArgs = [&#39;--add-opens=java.base/java.util=ALL-UNNAMED&#39;]\r\n}\r\n\r\ntest {\r\n    // Test Result Reports are output from all projects at once.\r\n    reports.html.required = false\r\n}\r\n\r\n// Create a Test Result Report\r\n// gradlew testReport\r\ntask testReport(type: TestReport) {\r\n    destinationDirectory = file(&quot;${rootDir}/build/reports/allTests&quot;)\r\n    reportOn files(&quot;${rootDir}/batch/build/test-results/test/binary&quot;,\r\n        &quot;${rootDir}/common/build/test-results/test/binary&quot;,\r\n        &quot;${rootDir}/webapp/build/test-results/test/binary&quot;,\r\n        &quot;${rootDir}/webservice/build/test-results/test/binary&quot;)\r\n}\r\n```\r\n\r\nroot\\\\batch\\\\build.gradle\r\n\r\n```groogy\r\nplugins {\r\n    id &#39;java-common&#39;\r\n}\r\n\r\ndependencies {\r\n    implementation project(&quot;:common&quot;)\r\n}\r\n```\r\n\r\nroot\\\\common\\\\build.gradle\r\n\r\n```groovy\r\nplugins {\r\n    id &#39;java-common&#39;\r\n    id &#39;java-library&#39;\r\n}\r\n\r\ndependencies {\r\n    // Spring\r\n    developmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n    api &#39;org.springframework.boot:spring-boot-starter-validation&#39;\r\n}\r\n```\r\n\r\nroot\\\\webapp\\\\build.gradle\r\n\r\n```groovy\r\nplugins {\r\n    id &#39;java-common&#39;\r\n}\r\n\r\ndependencies {\r\n    implementation project(&quot;:common&quot;)\r\n}\r\n```\r\n\r\nroot\\\\webservice\\\\build.gradle\r\n\r\n```groovy\r\nplugins {\r\n    id &#39;java-common&#39;\r\n}\r\n\r\ndependencies {\r\n    implementation project(&quot;:common&quot;)\r\n}\r\n```\r\n\r\nWe changed the setting of Test Report output as follows, the Test Report is no longer output.\r\n\r\n```groovy\r\ntest {\r\n    // Test Result Reports are output from all projects at once.\r\n    reports.html.required = false\r\n\r\n    // add this property\r\n    tasks.test.binaryResultsDirectory = file(&quot;${rootDir}/build/test-results/test/binary&quot;)\r\n}\r\n\r\n// Create a Test Result Report\r\n// gradlew testReport\r\ntask testReport(type: TestReport) {\r\n    destinationDirectory = file(&quot;${rootDir}/build/reports/allTests&quot;)\r\n    // reportOn files(&quot;${rootDir}/batch/build/test-results/test/binary&quot;,\r\n    //     &quot;${rootDir}/common/build/test-results/test/binary&quot;,\r\n    //     &quot;${rootDir}/webapp/build/test-results/test/binary&quot;,\r\n    //     &quot;${rootDir}/webservice/build/test-results/test/binary&quot;)\r\n}\r\n```\r\n\r\nIn the implementation of [Gradle&#39;s TestReport class](https://github.com/gradle/gradle/blob/master/subprojects/testing-jvm/src/main/java/org/gradle/api/tasks/testing/TestReport.java), we also checked what goes into the &quot;testResults&quot; property of the testReport task.\r\n\r\nOn top of this, we have implemented the modifications to the above configuration.\r\nWhat configuration modification should we try next?","title":"Aggregating multiple gradle java project test results without using the &quot;reportOn&quot; method","body":"<p>We have a multiple gradle java project.\nThis project exports aggregated test report when &quot;gradlew testReport&quot; command executes.</p>\n<p>We use &quot;reportOn&quot; method but this method is deprecated, so this warning log is output to the console.</p>\n<blockquote>\n<p>The TestReport.reportOn(Object...) method has been deprecated. This is scheduled to be removed in Gradle 8.0. Please use the testResults method instead. See <a href=\"https://docs.gradle.org/7.5.1/dsl/org.gradle.api.tasks.testing.TestReport.html#org.gradle.api.tasks.testing.TestReport:testResults\" rel=\"nofollow noreferrer\">https://docs.gradle.org/7.5.1/dsl/org.gradle.api.tasks.testing.TestReport.html#org.gradle.api.tasks.testing.TestReport:testResults</a> for more details.</p>\n</blockquote>\n<p>We have rewritten the configuration referring to the link in the warning log, but it did not work.\nWe would like to achieve the same behavior without using the &quot;reportOn&quot; method.</p>\n<hr />\n<p>Our project structure like this.</p>\n<pre><code>root\n |--- buildSrc\n |--- batch\n |--- common\n |--- webapp\n |--- webservice\n</code></pre>\n<p>And each <code>build.gradle</code> like this.</p>\n<p>root\\buildSrc\\src\\main\\groovy\\java-common.gradle</p>\n<pre><code>plugins {\n    id 'java'\n    id 'eclipse'\n    id 'project-report'\n    id 'org.springframework.boot'\n    id 'io.spring.dependency-management'\n}\n\nsourceCompatibility = 17\ntargetCompatibility = 17\n\n[compileJava, compileTestJava]*.options*.encoding = &quot;UTF-8&quot;\n\ngroup = 'com.example'\n\nrepositories {\n    mavenCentral()\n}\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n    testCompileOnly {\n        extendsFrom testAnnotationProcessor\n    }\n}\n\ndependencies {\n    // Spring\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-aop'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    \n    // Apache Commons Lang3\n    implementation &quot;org.apache.commons:commons-lang3:3.12.0&quot;\n    \n    // lombok\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    testCompileOnly 'org.projectlombok:lombok'\n    testAnnotationProcessor 'org.projectlombok:lombok'\n\n    // JUnit\n    testImplementation 'org.junit.jupiter:junit-jupiter:5.9.1'\n    \n    // Mockito\n    testImplementation 'org.mockito:mockito-core:4.8.1'\n    testImplementation 'org.mockito:mockito-inline:4.8.1'\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n\n    testLogging {\n        showStandardStreams false\n        events 'failed'\n        exceptionFormat 'full'\n    }\n    systemProperty &quot;file.encoding&quot;, &quot;UTF-8&quot;\n    jvmArgs = ['--add-opens=java.base/java.util=ALL-UNNAMED']\n}\n\ntest {\n    // Test Result Reports are output from all projects at once.\n    reports.html.required = false\n}\n\n// Create a Test Result Report\n// gradlew testReport\ntask testReport(type: TestReport) {\n    destinationDirectory = file(&quot;${rootDir}/build/reports/allTests&quot;)\n    reportOn files(&quot;${rootDir}/batch/build/test-results/test/binary&quot;,\n        &quot;${rootDir}/common/build/test-results/test/binary&quot;,\n        &quot;${rootDir}/webapp/build/test-results/test/binary&quot;,\n        &quot;${rootDir}/webservice/build/test-results/test/binary&quot;)\n}\n</code></pre>\n<p>root\\batch\\build.gradle</p>\n<pre><code>plugins {\n    id 'java-common'\n}\n\ndependencies {\n    implementation project(&quot;:common&quot;)\n}\n</code></pre>\n<p>root\\common\\build.gradle</p>\n<pre><code>plugins {\n    id 'java-common'\n    id 'java-library'\n}\n\ndependencies {\n    // Spring\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n    api 'org.springframework.boot:spring-boot-starter-validation'\n}\n</code></pre>\n<p>root\\webapp\\build.gradle</p>\n<pre><code>plugins {\n    id 'java-common'\n}\n\ndependencies {\n    implementation project(&quot;:common&quot;)\n}\n</code></pre>\n<p>root\\webservice\\build.gradle</p>\n<pre><code>plugins {\n    id 'java-common'\n}\n\ndependencies {\n    implementation project(&quot;:common&quot;)\n}\n</code></pre>\n<p>We changed the setting of Test Report output as follows, the Test Report is no longer output.</p>\n<pre><code>test {\n    // Test Result Reports are output from all projects at once.\n    reports.html.required = false\n\n    // add this property\n    tasks.test.binaryResultsDirectory = file(&quot;${rootDir}/build/test-results/test/binary&quot;)\n}\n\n// Create a Test Result Report\n// gradlew testReport\ntask testReport(type: TestReport) {\n    destinationDirectory = file(&quot;${rootDir}/build/reports/allTests&quot;)\n    // reportOn files(&quot;${rootDir}/batch/build/test-results/test/binary&quot;,\n    //     &quot;${rootDir}/common/build/test-results/test/binary&quot;,\n    //     &quot;${rootDir}/webapp/build/test-results/test/binary&quot;,\n    //     &quot;${rootDir}/webservice/build/test-results/test/binary&quot;)\n}\n</code></pre>\n<p>In the implementation of <a href=\"https://github.com/gradle/gradle/blob/master/subprojects/testing-jvm/src/main/java/org/gradle/api/tasks/testing/TestReport.java\" rel=\"nofollow noreferrer\">Gradle's TestReport class</a>, we also checked what goes into the &quot;testResults&quot; property of the testReport task.</p>\n<p>On top of this, we have implemented the modifications to the above configuration.\nWhat configuration modification should we try next?</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":6556336,"reputation":1128,"user_id":5128343,"display_name":"Jelaby"},"score":0,"creation_date":1658471807,"post_id":73075884,"comment_id":129063747,"body_markdown":"Does this help at all: https://stackoverflow.com/questions/10382929/how-to-fix-java-lang-unsupportedclassversionerror-unsupported-major-minor-versi","body":"Does this help at all: <a href=\"https://stackoverflow.com/questions/10382929/how-to-fix-java-lang-unsupportedclassversionerror-unsupported-major-minor-versi\" title=\"how to fix java lang unsupportedclassversionerror unsupported major minor versi\">stackoverflow.com/questions/10382929/&hellip;</a>"},{"owner":{"account_id":6556336,"reputation":1128,"user_id":5128343,"display_name":"Jelaby"},"score":1,"creation_date":1658472007,"post_id":73075884,"comment_id":129063803,"body_markdown":"... the [front page](https://testng.org/) of the TestNG website says it has required Java 11 since version 7.6.","body":"... the <a href=\"https://testng.org/\" rel=\"nofollow noreferrer\">front page</a> of the TestNG website says it has required Java 11 since version 7.6."},{"owner":{"account_id":25867763,"reputation":33,"user_id":19599117,"display_name":"Jawad Karim"},"score":0,"creation_date":1658472863,"post_id":73075884,"comment_id":129064043,"body_markdown":"is there any solution (keeping java 8 rather than switch to java 11). because for selenium.","body":"is there any solution (keeping java 8 rather than switch to java 11). because for selenium."},{"owner":{"account_id":6556336,"reputation":1128,"user_id":5128343,"display_name":"Jelaby"},"score":0,"creation_date":1658473519,"post_id":73075884,"comment_id":129064212,"body_markdown":"Use TestNG 7.5 or earlier if you really don&#39;t want to change JRE. Selenium will (surely) work with Java 11.","body":"Use TestNG 7.5 or earlier if you really don&#39;t want to change JRE. Selenium will (surely) work with Java 11."}],"answers":[{"comments":[{"owner":{"account_id":25867763,"reputation":33,"user_id":19599117,"display_name":"Jawad Karim"},"score":0,"creation_date":1658473902,"post_id":73076277,"comment_id":129064309,"body_markdown":"yes ! I use older version 6.14.3 of TestNG and working fine. thanks a lot.","body":"yes ! I use older version 6.14.3 of TestNG and working fine. thanks a lot."},{"owner":{"account_id":10122593,"reputation":159,"user_id":7479050,"accept_rate":75,"display_name":"Suhas"},"score":0,"creation_date":1659690246,"post_id":73076277,"comment_id":129359062,"body_markdown":"I changed testNg version from 7.6.0 to 7.5, worked for me!","body":"I changed testNg version from 7.6.0 to 7.5, worked for me!"}],"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1663421874,"creation_date":1658473111,"answer_id":73076277,"question_id":73075884,"body_markdown":"As noted in the comments, the [TestNG website says][1]:\r\n\r\n&gt; Requirements\r\n&gt;\r\n&gt; TestNG Upto v7.5: JDK 8 or higher.\r\n&gt;\r\n&gt; TestNG v7.6.0 and above: JDK 11 or higher.\r\n\r\nSo the possible solutions are:\r\n\r\n1.  Use an older version of TestNG than v7.6.0 if you want to use Java 8 as your development platform.  The TestNG version will probably be in your project&#39;s POM file.\r\n\r\n2.  Upgrade your development platform to Java 11 or later.\r\n\r\n3.  If you are feeling brave&lt;sup&gt;1&lt;/sup&gt;, attempt to backport the version of TestNG (&gt;= v7.6.0) that you are using to run on Java 8 (or older).\r\n\r\n--------------------\r\n\r\n&lt;sup&gt;1 - This could be trivial or complicated.  You won&#39;t know until you try it.&lt;/sup&gt;\r\n\r\n\r\n  [1]: https://testng.org/doc/","title":"org/testng/ITestListener has been compiled by a more recent version of the Java Runtime (class file version 55.0), only recognizes version up to 52","body":"<p>As noted in the comments, the <a href=\"https://testng.org/doc/\" rel=\"nofollow noreferrer\">TestNG website says</a>:</p>\n<blockquote>\n<p>Requirements</p>\n<p>TestNG Upto v7.5: JDK 8 or higher.</p>\n<p>TestNG v7.6.0 and above: JDK 11 or higher.</p>\n</blockquote>\n<p>So the possible solutions are:</p>\n<ol>\n<li><p>Use an older version of TestNG than v7.6.0 if you want to use Java 8 as your development platform.  The TestNG version will probably be in your project's POM file.</p>\n</li>\n<li><p>Upgrade your development platform to Java 11 or later.</p>\n</li>\n<li><p>If you are feeling brave<sup>1</sup>, attempt to backport the version of TestNG (&gt;= v7.6.0) that you are using to run on Java 8 (or older).</p>\n</li>\n</ol>\n<hr />\n<p><sup>1 - This could be trivial or complicated.  You won't know until you try it.</sup></p>\n"},{"tags":[],"owner":{"account_id":12219069,"reputation":1,"user_id":8918606,"display_name":"Nikhil Sonkamble"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672259239,"creation_date":1672259239,"answer_id":74944718,"question_id":73075884,"body_markdown":"This happened for me, when I copied one maven, testng project from another project.\r\nI was just missing adding TestNG external library in Eclipse, which can be done with below steps:\r\n\r\n 1. Right click on the project in Eclipse\r\n 2. Go to Build Path\r\n 3. Select Add Libraries...\r\nAnd on the opened popup, Select TestNG-&gt;Next-&gt;Finish","title":"org/testng/ITestListener has been compiled by a more recent version of the Java Runtime (class file version 55.0), only recognizes version up to 52","body":"<p>This happened for me, when I copied one maven, testng project from another project.\nI was just missing adding TestNG external library in Eclipse, which can be done with below steps:</p>\n<ol>\n<li>Right click on the project in Eclipse</li>\n<li>Go to Build Path</li>\n<li>Select Add Libraries...\nAnd on the opened popup, Select TestNG-&gt;Next-&gt;Finish</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":28433802,"reputation":11,"user_id":21754149,"display_name":"SambaM"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690790133,"creation_date":1690790054,"answer_id":76801669,"question_id":73075884,"body_markdown":"I got same issue, tried some ways, but the following things worked for me.\r\n\r\nHere actual issue is with TestNG plugin &quot;java.lang.UnsupportedClassVersionError: org/testng/remote/RemoteTestNG&quot;\r\n\r\nHere I added testNG plugin from Market place then It was installed 7.8.0 version which was developed by using java 8+ I think, due that it even we used java 1.8(8) also showing that error.\r\n\r\nSolution: Using following url copy 7.4.0 site and add using the following steps\r\nhttps://testng.org/testng-eclipse-update-site/\r\n 1. Uninstall current TestNG plugin(7.8.0)\r\n 2. In eclipse -&gt; Help-&gt; Install new software-&gt; Add -&gt; Add repository-&gt;\r\nname: TestNG7.4.0\r\nlocation: https://testng.org/testng-eclipse-update-site/7.4.0\r\ncontinue installation.\r\nThanks,\r\nSamba M\r\n","title":"org/testng/ITestListener has been compiled by a more recent version of the Java Runtime (class file version 55.0), only recognizes version up to 52","body":"<p>I got same issue, tried some ways, but the following things worked for me.</p>\n<p>Here actual issue is with TestNG plugin &quot;java.lang.UnsupportedClassVersionError: org/testng/remote/RemoteTestNG&quot;</p>\n<p>Here I added testNG plugin from Market place then It was installed 7.8.0 version which was developed by using java 8+ I think, due that it even we used java 1.8(8) also showing that error.</p>\n<p>Solution: Using following url copy 7.4.0 site and add using the following steps\n<a href=\"https://testng.org/testng-eclipse-update-site/\" rel=\"nofollow noreferrer\">https://testng.org/testng-eclipse-update-site/</a></p>\n<ol>\n<li>Uninstall current TestNG plugin(7.8.0)</li>\n<li>In eclipse -&gt; Help-&gt; Install new software-&gt; Add -&gt; Add repository-&gt;\nname: TestNG7.4.0\nlocation: <a href=\"https://testng.org/testng-eclipse-update-site/7.4.0\" rel=\"nofollow noreferrer\">https://testng.org/testng-eclipse-update-site/7.4.0</a>\ncontinue installation.\nThanks,\nSamba M</li>\n</ol>\n"}],"owner":{"account_id":25867763,"reputation":33,"user_id":19599117,"display_name":"Jawad Karim"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7927,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":73076277,"answer_count":3,"score":2,"last_activity_date":1690790133,"creation_date":1658470828,"question_id":73075884,"body_markdown":"When I execute my test with testng.xml then it runs fine, but when I execute with pom.xml then got the ERROR:\r\n\r\n&gt; [ERROR] java.lang.UnsupportedClassVersionError: org/testng/ITestListener has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\r\nMy Java version: 1.8.0_333, and Apache Maven 3.8.4.\r\n\r\nHow can I resolve this?\r\n","title":"org/testng/ITestListener has been compiled by a more recent version of the Java Runtime (class file version 55.0), only recognizes version up to 52","body":"<p>When I execute my test with testng.xml then it runs fine, but when I execute with pom.xml then got the ERROR:</p>\n<blockquote>\n<p>[ERROR] java.lang.UnsupportedClassVersionError: org/testng/ITestListener has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0</p>\n</blockquote>\n<p>My Java version: 1.8.0_333, and Apache Maven 3.8.4.</p>\n<p>How can I resolve this?</p>\n"},{"tags":["java","rest-assured"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":1,"creation_date":1612454661,"post_id":66049282,"comment_id":116777593,"body_markdown":"Hi &amp; Welcome! :) they are not &quot;lost&quot; ...u just have to &quot;print em&quot;! ;)","body":"Hi &amp; Welcome! :) they are not &quot;lost&quot; ...u just have to &quot;print em&quot;! ;)"},{"owner":{"account_id":6481825,"reputation":639,"user_id":5018575,"display_name":"Gweltaz Niquel"},"score":2,"creation_date":1612454682,"post_id":66049282,"comment_id":116777600,"body_markdown":"You are not loosing precision as ending zeros are not significant. If you want to keep them use String instead.","body":"You are not loosing precision as ending zeros are not significant. If you want to keep them use String instead."},{"owner":{"account_id":16505263,"reputation":7,"user_id":11925437,"display_name":"bipin singh"},"score":0,"creation_date":1612455200,"post_id":66049282,"comment_id":116777874,"body_markdown":"@GweltazNiquel in string , getting same result.","body":"@GweltazNiquel in string , getting same result."},{"owner":{"account_id":4208732,"reputation":1205,"user_id":3447032,"display_name":"gokareless"},"score":1,"creation_date":1612456785,"post_id":66049282,"comment_id":116778689,"body_markdown":"might be dublicate of https://stackoverflow.com/questions/27832131/round-off-a-double-while-maintaining-the-trailing-zero","body":"might be dublicate of <a href=\"https://stackoverflow.com/questions/27832131/round-off-a-double-while-maintaining-the-trailing-zero\" title=\"round off a double while maintaining the trailing zero\">stackoverflow.com/questions/27832131/&hellip;</a>"},{"owner":{"account_id":4996428,"reputation":362,"user_id":4016860,"accept_rate":75,"display_name":"Popeye"},"score":0,"creation_date":1690528347,"post_id":66049282,"comment_id":135369147,"body_markdown":"it is because, when you are converting to string, you are not formatting properly. if you directly convert double to string, you will lose trailing zeros","body":"it is because, when you are converting to string, you are not formatting properly. if you directly convert double to string, you will lose trailing zeros"},{"owner":{"account_id":3580374,"reputation":108855,"user_id":2988730,"accept_rate":96,"display_name":"Mad Physicist"},"score":0,"creation_date":1690690934,"post_id":66049282,"comment_id":135387501,"body_markdown":"Why not fix your API instead of jumping through irrelevant hoops?","body":"Why not fix your API instead of jumping through irrelevant hoops?"}],"answers":[{"comments":[{"owner":{"account_id":16505263,"reputation":7,"user_id":11925437,"display_name":"bipin singh"},"score":0,"creation_date":1612457186,"post_id":66049907,"comment_id":116778920,"body_markdown":"After formating need to save in String then assert that value after decimal is 4 places, can u help how to proceed","body":"After formating need to save in String then assert that value after decimal is 4 places, can u help how to proceed"}],"tags":[],"owner":{"account_id":4208732,"reputation":1205,"user_id":3447032,"display_name":"gokareless"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1612457503,"creation_date":1612456641,"answer_id":66049907,"question_id":66049282,"body_markdown":"You can do so:\r\n```\r\n//...\r\n  float myFloatValue = BigDecimal.valueOf(23.0).floatValue();\r\n  String formatted = String.format(&quot;%.4f&quot;, myFloatValue);\r\n  System.out.println(formatted);\r\n//...\r\n```","title":"Read Decimal value from JSON response in java","body":"<p>You can do so:</p>\n<pre><code>//...\n  float myFloatValue = BigDecimal.valueOf(23.0).floatValue();\n  String formatted = String.format(&quot;%.4f&quot;, myFloatValue);\n  System.out.println(formatted);\n//...\n</code></pre>\n"}],"owner":{"account_id":16505263,"reputation":7,"user_id":11925437,"display_name":"bipin singh"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1030,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1690790047,"creation_date":1612454530,"question_id":66049282,"body_markdown":"We have an API which returns response below:\r\n```\r\n{\r\n&quot;Amount&quot;: 10.2300,\r\n&quot;name&quot;: &quot;Test&quot;\r\n}\r\n```\r\n`Amount` will have 4 places after decimal. We need to validate that decimal places should be 4 places, \r\nbelow is the code:\r\n```\r\nString strres = response.asString();\r\nSystem.out.println(&quot;strres&quot; + strres);\r\n\r\nJSONObject data = new JSONObject(strres);\r\nfloat myFloatValue = BigDecimal.valueOf(data.getDouble(&quot;Amount&quot;)).floatValue();\r\nSystem.out.println(&quot;The Amount &quot; + myFloatValue);\r\n\r\n```\r\nAfter execution we get : `myFloatValue = 10.23` only, and not `10.2300` hence decimal places is less than 4.\r\nPlease suggest how can we read without loss of decimal places.\r\n\r\n```\r\nsAmount = response.jsonPath().get(&quot;Amount&quot;).toString()\r\n\r\nString[] splitter = sAmount.toString().split(&quot;\\\\.&quot;);\r\nsplitter[0].length(); \r\nsplitter[1].length();\r\n\r\n```\r\nWhen storing to `String` variable, also getting same value: `10.23`","title":"Read Decimal value from JSON response in java","body":"<p>We have an API which returns response below:</p>\n<pre><code>{\n&quot;Amount&quot;: 10.2300,\n&quot;name&quot;: &quot;Test&quot;\n}\n</code></pre>\n<p><code>Amount</code> will have 4 places after decimal. We need to validate that decimal places should be 4 places,\nbelow is the code:</p>\n<pre><code>String strres = response.asString();\nSystem.out.println(&quot;strres&quot; + strres);\n\nJSONObject data = new JSONObject(strres);\nfloat myFloatValue = BigDecimal.valueOf(data.getDouble(&quot;Amount&quot;)).floatValue();\nSystem.out.println(&quot;The Amount &quot; + myFloatValue);\n\n</code></pre>\n<p>After execution we get : <code>myFloatValue = 10.23</code> only, and not <code>10.2300</code> hence decimal places is less than 4.\nPlease suggest how can we read without loss of decimal places.</p>\n<pre><code>sAmount = response.jsonPath().get(&quot;Amount&quot;).toString()\n\nString[] splitter = sAmount.toString().split(&quot;\\\\.&quot;);\nsplitter[0].length(); \nsplitter[1].length();\n\n</code></pre>\n<p>When storing to <code>String</code> variable, also getting same value: <code>10.23</code></p>\n"},{"tags":["java","kotlin"],"answers":[{"comments":[{"owner":{"account_id":20993865,"reputation":3,"user_id":15426173,"display_name":"Fawaz Sullia"},"score":0,"creation_date":1690803275,"post_id":76801523,"comment_id":135399149,"body_markdown":"This worked. Thanks","body":"This worked. Thanks"}],"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690788618,"creation_date":1690788618,"answer_id":76801523,"question_id":76801496,"body_markdown":"You have to pass all arguments as separate elements of the array:\r\n\r\n```\r\nval cmdArr = arrayOf&lt;String&gt;(&quot;kill&quot;, &quot;-s&quot;, &quot;SIGINT&quot;, process.pidValue.toString())\r\n```","title":"Java IO exception when running &quot;kill -s SIGINT ${pid}&quot;","body":"<p>You have to pass all arguments as separate elements of the array:</p>\n<pre><code>val cmdArr = arrayOf&lt;String&gt;(&quot;kill&quot;, &quot;-s&quot;, &quot;SIGINT&quot;, process.pidValue.toString())\n</code></pre>\n"}],"owner":{"account_id":20993865,"reputation":3,"user_id":15426173,"display_name":"Fawaz Sullia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690809870,"accepted_answer_id":76801523,"answer_count":1,"score":0,"last_activity_date":1690789772,"creation_date":1690788481,"question_id":76801496,"body_markdown":"I&#39;m running a jibri instance with some modifications from the official repo. When I quit recording, the recordings are saved, but the video doesnt play (EOF issue).\r\n\r\nOn debugging, found that &quot;kill -s SIGINT ${pid}&quot; command is invoked to kill the running ffmped process.\r\n\r\nThis results in the below error: \r\n\r\n\r\n```\r\nJibri 2023-07-31 06:06:24.033 SEVERE: [47] [session_id=olvwnkybhwjarcfs] ProcessWrapper.stopAndWaitFor#117: Error stopping process\r\njitsi-meet-jibri-1  | java.io.IOException: Cannot run program &quot;kill -9 821&quot;: error=2, No such file or directory\r\njitsi-meet-jibri-1  | \tat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1128)\r\njitsi-meet-jibri-1  | \tat java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1071)\r\n```\r\n\r\n\r\nThis whole process runs inside a docker container. When I sh into the docker container and manually kill ffmpeg, the recording is saved and is playable.\r\n\r\nThe server has enough resources, so no problems there.\r\n\r\nThis is the piece of code that triggers the kill command:\r\n\r\n\r\n```\r\n val cmdArr = arrayOf&lt;String&gt;(&quot;kill -s SIGINT ${process.pidValue}&quot;)\r\n        runtime.exec(cmdArr, null)\r\n```\r\n\r\nI&#39;m not that familiar with java/kotlin, so not sure what is happening here.\r\n\r\nUsing Openjdk 11\r\n\r\nAny insights will be really helpful.\r\n\r\nThanks\r\n\r\n\r\n","title":"Java IO exception when running &quot;kill -s SIGINT ${pid}&quot;","body":"<p>I'm running a jibri instance with some modifications from the official repo. When I quit recording, the recordings are saved, but the video doesnt play (EOF issue).</p>\n<p>On debugging, found that &quot;kill -s SIGINT ${pid}&quot; command is invoked to kill the running ffmped process.</p>\n<p>This results in the below error:</p>\n<pre><code>Jibri 2023-07-31 06:06:24.033 SEVERE: [47] [session_id=olvwnkybhwjarcfs] ProcessWrapper.stopAndWaitFor#117: Error stopping process\njitsi-meet-jibri-1  | java.io.IOException: Cannot run program &quot;kill -9 821&quot;: error=2, No such file or directory\njitsi-meet-jibri-1  |   at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1128)\njitsi-meet-jibri-1  |   at java.base/java.lang.ProcessBuilder.start(ProcessBuilder.java:1071)\n</code></pre>\n<p>This whole process runs inside a docker container. When I sh into the docker container and manually kill ffmpeg, the recording is saved and is playable.</p>\n<p>The server has enough resources, so no problems there.</p>\n<p>This is the piece of code that triggers the kill command:</p>\n<pre><code> val cmdArr = arrayOf&lt;String&gt;(&quot;kill -s SIGINT ${process.pidValue}&quot;)\n        runtime.exec(cmdArr, null)\n</code></pre>\n<p>I'm not that familiar with java/kotlin, so not sure what is happening here.</p>\n<p>Using Openjdk 11</p>\n<p>Any insights will be really helpful.</p>\n<p>Thanks</p>\n"},{"tags":["java","eclipse","gradle","eclipse-plugin","oomph"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690752838,"post_id":76799661,"comment_id":135393420,"body_markdown":"You appear to have posted the same image no fewer than seven times...","body":"You appear to have posted the same image no fewer than seven times..."}],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690755333,"post_id":76799782,"comment_id":135393615,"body_markdown":"We don&#39;t know what you solved. All we can see is the same (normal looking) dialog repeated seven times","body":"We don&#39;t know what you solved. All we can see is the same (normal looking) dialog repeated seven times"}],"tags":[],"owner":{"account_id":27543456,"reputation":11,"user_id":21019826,"display_name":"Narasimha asuri"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690754879,"creation_date":1690754879,"answer_id":76799782,"question_id":76799661,"body_markdown":"I somehow solved it by updating my software(updated Oomph ) by going into help -- &gt; update software.\r\n\r\nany explanations as to why this happened is appriciated, I am very curious.","title":"NoSuchMethodError: &#39;java.lang.String org.apache.commons.io.IOUtils.toString(java.io.InputStream, java.nio.charset.Charset)&#39;","body":"<p>I somehow solved it by updating my software(updated Oomph ) by going into help -- &gt; update software.</p>\n<p>any explanations as to why this happened is appriciated, I am very curious.</p>\n"}],"owner":{"account_id":27543456,"reputation":11,"user_id":21019826,"display_name":"Narasimha asuri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":618,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1690819005,"answer_count":1,"score":0,"last_activity_date":1690789664,"creation_date":1690752061,"question_id":76799661,"body_markdown":"I wanted to start a spring boot project recently with eclipse, I always imported zip files in this new laptop and did not get any need to create new projects. Although I already did this multiple times in my previous laptop, I cannot do it right now although I tried looking into all the potential configurations problems:\r\n\r\n\r\n[this is the exact dialog I get when I try to start the project](https://i.stack.imgur.com/WifQ0.png)\r\n\r\n\r\nI don&#39;t even know what to look for this problem, I don&#39;t think we need apache package to build projects in eclipse, I tried to check if any of the project configurations or eclipse preferences is using this package to get this error, but I didn&#39;t find anything, any help is verry much appriciated:\r\n","title":"NoSuchMethodError: &#39;java.lang.String org.apache.commons.io.IOUtils.toString(java.io.InputStream, java.nio.charset.Charset)&#39;","body":"<p>I wanted to start a spring boot project recently with eclipse, I always imported zip files in this new laptop and did not get any need to create new projects. Although I already did this multiple times in my previous laptop, I cannot do it right now although I tried looking into all the potential configurations problems:</p>\n<p><a href=\"https://i.stack.imgur.com/WifQ0.png\" rel=\"nofollow noreferrer\">this is the exact dialog I get when I try to start the project</a></p>\n<p>I don't even know what to look for this problem, I don't think we need apache package to build projects in eclipse, I tried to check if any of the project configurations or eclipse preferences is using this package to get this error, but I didn't find anything, any help is verry much appriciated:</p>\n"},{"tags":["java","selenium-webdriver","winappdriver"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1690789655,"post_id":76801610,"comment_id":135396608,"body_markdown":"You should elaborate on the &quot;no luck&quot; part. Show the code where you tried to take control of the existing browser using Selenium, what you tried, and why it didn&#39;t work.","body":"You should elaborate on the &quot;no luck&quot; part. Show the code where you tried to take control of the existing browser using Selenium, what you tried, and why it didn&#39;t work."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690814902,"post_id":76801610,"comment_id":135401801,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29126715,"reputation":1,"user_id":22312868,"display_name":"Vincy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690789532,"creation_date":1690789532,"question_id":76801610,"body_markdown":"I am using winappdriver for automation desktop application and selenium to handle web-browser. I have scenario in desktop application and need to enter the url in input box, it will open the default browser and url sending with dynamic id details.\r\n\r\nCan you please guide how to handle the browser session in selenium when it is opened from desktop request\r\n\r\nI have followed this link but no luck\r\nhttps://learn-automation.com/how-to-execute-selenium-scripts-on-already-opened-browser/","title":"How to handle the chrome browser when it is directly opened from desktop application in selenium","body":"<p>I am using winappdriver for automation desktop application and selenium to handle web-browser. I have scenario in desktop application and need to enter the url in input box, it will open the default browser and url sending with dynamic id details.</p>\n<p>Can you please guide how to handle the browser session in selenium when it is opened from desktop request</p>\n<p>I have followed this link but no luck\n<a href=\"https://learn-automation.com/how-to-execute-selenium-scripts-on-already-opened-browser/\" rel=\"nofollow noreferrer\">https://learn-automation.com/how-to-execute-selenium-scripts-on-already-opened-browser/</a></p>\n"},{"tags":["java","jms"],"comments":[{"owner":{"account_id":470798,"reputation":6467,"user_id":878182,"accept_rate":50,"display_name":"Alistair A. Israel"},"score":0,"creation_date":1334114855,"post_id":10099060,"comment_id":12937072,"body_markdown":"If you&#39;re merely after asynchronous service method calls, the new [`@Asynchronous`](http://docs.oracle.com/javaee/6/api/javax/ejb/Asynchronous.html) EJB methods in Java EE 6 can do the job. If you&#39;re after a more general, point-to-point type request/response service with multiple interfaces, I suggest you look at an ESB framework or platform to help you out.","body":"If you&#39;re merely after asynchronous service method calls, the new <a href=\"http://docs.oracle.com/javaee/6/api/javax/ejb/Asynchronous.html\" rel=\"nofollow noreferrer\"><code>@Asynchronous</code></a> EJB methods in Java EE 6 can do the job. If you&#39;re after a more general, point-to-point type request/response service with multiple interfaces, I suggest you look at an ESB framework or platform to help you out."},{"owner":{"account_id":1030610,"reputation":1178,"user_id":1038974,"accept_rate":67,"display_name":"dhchen"},"score":0,"creation_date":1334122775,"post_id":10099060,"comment_id":12938620,"body_markdown":"@AlistairIsrael We plan to use jpa but not ejb part, since it is notorious for its hard-to-implement, and we at least needs more than 10000 ejb object. ESB will have its job at extranet part, but for the intranet part, we need something more simple, thus jms","body":"@AlistairIsrael We plan to use jpa but not ejb part, since it is notorious for its hard-to-implement, and we at least needs more than 10000 ejb object. ESB will have its job at extranet part, but for the intranet part, we need something more simple, thus jms"}],"answers":[{"comments":[{"owner":{"account_id":1030610,"reputation":1178,"user_id":1038974,"accept_rate":67,"display_name":"dhchen"},"score":0,"creation_date":1334122845,"post_id":10099165,"comment_id":12938641,"body_markdown":"Thank you for the performance part. As for your last paragraph (errors in async environment), could you give me some hint about the handle of error you mentioned? 2-phase commit?","body":"Thank you for the performance part. As for your last paragraph (errors in async environment), could you give me some hint about the handle of error you mentioned? 2-phase commit?"},{"owner":{"account_id":17180,"reputation":27171,"user_id":38207,"accept_rate":83,"display_name":"James Anderson"},"score":0,"creation_date":1334123371,"post_id":10099165,"comment_id":12938746,"body_markdown":"In your scenario you will have three separate independent units of work. Requester puts, Server get and puts reply, Requester gets. How you handle errors and outages is very much tied to your business requirements.","body":"In your scenario you will have three separate independent units of work. Requester puts, Server get and puts reply, Requester gets. How you handle errors and outages is very much tied to your business requirements."}],"tags":[],"owner":{"account_id":17180,"reputation":27171,"user_id":38207,"accept_rate":83,"display_name":"James Anderson"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1334112403,"creation_date":1334112403,"answer_id":10099165,"question_id":10099060,"body_markdown":"Definately not a performance issue as such.\r\n\r\nYou lose out a little because of the transactional nature of JMS. The message from the presentation layer must be recorded in the log before the business layer can start processing, similarly the reply must be logged before presentation layer can begin processing the reply.\r\n\r\nHowever this small disadvantage is more than compensated by the ability to process in parallel during heavy loading, and the ability to safely queue requests under extreme loading.\r\n(RPC applications just plain dies in these circumstances JMS just slow down).\r\n\r\nThe major problem is dealing with errors in an asynchronous environment. If your presentation layer sends a request how long should it reasonably wait for the reply before assuming something has gone wrong at the business server end? If the presentation layer bombs out what are you supposed to do with the reply message, especially if it was an update of some sort? All these issues can be dealt with, but, you need to think about how.","title":"JMS for request-response pattern","body":"<p>Definately not a performance issue as such.</p>\n\n<p>You lose out a little because of the transactional nature of JMS. The message from the presentation layer must be recorded in the log before the business layer can start processing, similarly the reply must be logged before presentation layer can begin processing the reply.</p>\n\n<p>However this small disadvantage is more than compensated by the ability to process in parallel during heavy loading, and the ability to safely queue requests under extreme loading.\n(RPC applications just plain dies in these circumstances JMS just slow down).</p>\n\n<p>The major problem is dealing with errors in an asynchronous environment. If your presentation layer sends a request how long should it reasonably wait for the reply before assuming something has gone wrong at the business server end? If the presentation layer bombs out what are you supposed to do with the reply message, especially if it was an update of some sort? All these issues can be dealt with, but, you need to think about how.</p>\n"}],"owner":{"account_id":1030610,"reputation":1178,"user_id":1038974,"accept_rate":67,"display_name":"dhchen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":570,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":10099165,"answer_count":1,"score":0,"last_activity_date":1690788979,"creation_date":1334111205,"question_id":10099060,"body_markdown":"We plan to implement our new system with Java. Due to the system&#39;s nature, which needs to be interacted with various intranet/extranet/internet systems and share same logic (with little tweaks) with various outside system, we plan to move business logic out of front-end, make it as a service, and plan to use JMS to interconnect the presentation layer and business logic layer. Presentation layer sends a request, business logic layer sends response for the processing result.\r\n\r\nAfter doing a small POC system, we found this way very promising. But the Oracle guys (we plan to use weblogic for both ap server and JMS server) says there will always be performance issue, since message queue&#39;s nature is not for request-response pattern. \r\n\r\nIs there any suggestions about the Oracle guy&#39;s opinion? We are fairly new to Java world (totaly no experience about java and have to implement this system in-house, no outsourcing option), and although we tested our POC with about 300 req-resp per sec (which seems to be enough for our system), we still cannot sure if there will be definitely a performance degradation after system online...","title":"JMS for request-response pattern","body":"<p>We plan to implement our new system with Java. Due to the system's nature, which needs to be interacted with various intranet/extranet/internet systems and share same logic (with little tweaks) with various outside system, we plan to move business logic out of front-end, make it as a service, and plan to use JMS to interconnect the presentation layer and business logic layer. Presentation layer sends a request, business logic layer sends response for the processing result.</p>\n\n<p>After doing a small POC system, we found this way very promising. But the Oracle guys (we plan to use weblogic for both ap server and JMS server) says there will always be performance issue, since message queue's nature is not for request-response pattern. </p>\n\n<p>Is there any suggestions about the Oracle guy's opinion? We are fairly new to Java world (totaly no experience about java and have to implement this system in-house, no outsourcing option), and although we tested our POC with about 300 req-resp per sec (which seems to be enough for our system), we still cannot sure if there will be definitely a performance degradation after system online...</p>\n"},{"tags":["java","mockito","powermockito"],"answers":[{"tags":[],"owner":{"account_id":3857128,"reputation":901,"user_id":3195767,"display_name":"matanper"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556651491,"creation_date":1556651491,"answer_id":55927343,"question_id":55913409,"body_markdown":"I think the third argument in the `when` should be a mockito matcher:\r\n```java\r\nPowerMockito.doNothing().when(store, &quot;deleteObject&quot;, eq(mockedObject));\r\n```","title":"doNothing.When for private void method itself is invoking method","body":"<p>I think the third argument in the <code>when</code> should be a mockito matcher:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>PowerMockito.doNothing().when(store, \"deleteObject\", eq(mockedObject));\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3660282,"reputation":9173,"user_id":3050293,"display_name":"Wing"},"score":0,"creation_date":1556729792,"post_id":55939468,"comment_id":98532629,"body_markdown":"Hey there! While this code snippet may be the solution, [including an explanation](https://meta.stackexchange.com/questions/114762/explaining-entirely-code-based-answers) really helps to improve the quality of your post. Remember that you are answering the question for readers in the future, and those people might not know the reasons for your code suggestion.","body":"Hey there! While this code snippet may be the solution, <a href=\"https://meta.stackexchange.com/questions/114762/explaining-entirely-code-based-answers\">including an explanation</a> really helps to improve the quality of your post. Remember that you are answering the question for readers in the future, and those people might not know the reasons for your code suggestion."},{"owner":{"account_id":3228005,"reputation":1307,"user_id":2723864,"accept_rate":34,"display_name":"Kumar Gaurav"},"score":0,"creation_date":1556806680,"post_id":55939468,"comment_id":98560776,"body_markdown":"I have called deleteFromRealm from another private method because deleteFromRealm is final and can&#39;t be mocked. Hence I am looking to mock call to private method deleteObject","body":"I have called deleteFromRealm from another private method because deleteFromRealm is final and can&#39;t be mocked. Hence I am looking to mock call to private method deleteObject"}],"tags":[],"owner":{"account_id":6989038,"reputation":1345,"user_id":5358950,"display_name":"singh30"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556852993,"creation_date":1556728454,"answer_id":55939468,"question_id":55913409,"body_markdown":"Mockito provides a method **doNothing()** to mock the calls for void method. For the question above void method **deleteFromRealm** can be mocked like\r\n\r\n    Mockito.doNothing().when(mockedObject).deleteFromRealm();\r\n\r\n\r\nAs **deleteFromRealm** is final and can not be mocked. To mock method **deleteObject** of same class\r\n\r\n    ClassToBeTested testClass = new ClassToBeTested();\r\n    ClassToBeTested testClassSpy = PowerMockito.spy(testClass);\r\n    PowerMockito.doNothing().when(testClassSpy, &quot;deleteObject&quot;, mockedRealm);","title":"doNothing.When for private void method itself is invoking method","body":"<p>Mockito provides a method <strong>doNothing()</strong> to mock the calls for void method. For the question above void method <strong>deleteFromRealm</strong> can be mocked like</p>\n\n<pre><code>Mockito.doNothing().when(mockedObject).deleteFromRealm();\n</code></pre>\n\n<p>As <strong>deleteFromRealm</strong> is final and can not be mocked. To mock method <strong>deleteObject</strong> of same class</p>\n\n<pre><code>ClassToBeTested testClass = new ClassToBeTested();\nClassToBeTested testClassSpy = PowerMockito.spy(testClass);\nPowerMockito.doNothing().when(testClassSpy, \"deleteObject\", mockedRealm);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3463427,"reputation":569,"user_id":2899760,"display_name":"Chisey88"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643115667,"creation_date":1643115667,"answer_id":70849075,"question_id":55913409,"body_markdown":"Maybe a little bit too late, but a possible solution for your problem might look something like this:\r\n\r\n    PowerMockito.doNothing().when(store, &quot;deleteObject&quot;, Matchers.any(RealmObject.class));\r\n\r\nKind regards","title":"doNothing.When for private void method itself is invoking method","body":"<p>Maybe a little bit too late, but a possible solution for your problem might look something like this:</p>\n<pre><code>PowerMockito.doNothing().when(store, &quot;deleteObject&quot;, Matchers.any(RealmObject.class));\n</code></pre>\n<p>Kind regards</p>\n"},{"tags":[],"owner":{"account_id":16048418,"reputation":250,"user_id":11582987,"display_name":"Abhinav manthri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690788959,"creation_date":1690788327,"answer_id":76801474,"question_id":55913409,"body_markdown":"You need add your mock class in `PrepareForTest` annotation at test class to actually prepare powermockito to mock private methods\r\n\r\n```\r\npublic class A{\r\n\r\nprivate void deleteObject(RealmObject object) {\r\n        object.deleteFromRealm();\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\n@RunWith(PowerMockRunner.class)\r\n@PrepareForTest(A.class)\r\npublic class ATest{\r\n\r\n@Spy\r\nA mock;\r\n\r\n@Test\r\npublic void test(){\r\n   PowerMockito.doNothing().when(mock,  method(TaskReqImpl.class,&quot;deleteObject&quot;, RealmObject .class)); \r\n   // OR\r\n   PowerMockito.doNothing().when(mock, &quot;deleteObject&quot;, any());     \r\n}\r\n\r\n```","title":"doNothing.When for private void method itself is invoking method","body":"<p>You need add your mock class in <code>PrepareForTest</code> annotation at test class to actually prepare powermockito to mock private methods</p>\n<pre><code>public class A{\n\nprivate void deleteObject(RealmObject object) {\n        object.deleteFromRealm();\n    }\n}\n\n</code></pre>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest(A.class)\npublic class ATest{\n\n@Spy\nA mock;\n\n@Test\npublic void test(){\n   PowerMockito.doNothing().when(mock,  method(TaskReqImpl.class,&quot;deleteObject&quot;, RealmObject .class)); \n   // OR\n   PowerMockito.doNothing().when(mock, &quot;deleteObject&quot;, any());     \n}\n\n</code></pre>\n"}],"owner":{"account_id":3228005,"reputation":1307,"user_id":2723864,"accept_rate":34,"display_name":"Kumar Gaurav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8594,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1690788959,"creation_date":1556593156,"question_id":55913409,"body_markdown":"I&#39;m trying to test one of my Class named Store and particularly a method named removeFromFavourite\r\nbelow is the method\r\n\r\n        public void removeFromFavourite(Quote quote) {\r\n            if(quote == null) {\r\n                throw new IllegalArgumentException(&quot;Quote can&#39;t be null&quot;);\r\n            }\r\n            if (quote.getId() &lt;1) {\r\n                throw new IllegalArgumentException(&quot;Quote id can&#39;t be less than 1&quot;);\r\n            }\r\n            realm.beginTransaction();\r\n            QuoteRealMObject object = realm.where(QuoteRealMObject.class).\r\n                    equalTo(QuoteRealMObject.ID, quote.getId()).findFirst();\r\n            if(object != null) {\r\n                deleteObject(object);\r\n            }\r\n            realm.commitTransaction();\r\n        }\r\n    \r\n        \r\n        private void deleteObject(RealmObject object) {\r\n            object.deleteFromRealm();\r\n        }\r\n\r\n\r\nI created deleteObject method to call deleteFromRealm as deleteFromRealm is final and hence i can&#39;t mock it.\r\n\r\nMy expectation is to mock call to &#39;deleteObject&#39; ob Store&#39;s object by creating its spy\r\n\r\nHere&#39;s my `@Before` method\r\n\r\n\r\n    private Realm mockedRealm;\r\n    private Store store;\r\n    \r\n    @Before\r\n    public void setUp() throws Exception {\r\n        mockedRealm = Mockito.mock(Realm.class);\r\n        store = new Store(mockedRealm);\r\n        store = PowerMockito.spy(store);\r\n    }\r\n\r\n\r\nSo i created a mock object of Realm and used this to create object of class Store and then created a spy out of store&#39;s object and assigned it back to store object itself.\r\n\r\nBelow is test method for removeFromFavourite\r\n\r\n    @Test\r\n        public void removeFromFavourite() throws Exception {\r\n            Quote quot = new Quote();\r\n            quot.setId(1);\r\n            RealmQuery&lt;QuoteRealMObject&gt; query = Mockito.mock(RealmQuery.class);\r\n            RealmQuery&lt;QuoteRealMObject&gt; filteredQuery = Mockito.mock(RealmQuery.class);\r\n            Mockito.when(mockedRealm.where(QuoteRealMObject.class)).thenReturn(query);\r\n            Mockito.when(query.equalTo(QuoteRealMObject.ID, 1)).thenReturn(filteredQuery);\r\n            QuoteRealMObject mockedObject = Mockito.mock(QuoteRealMObject.class);\r\n            Mockito.when(filteredQuery.findFirst()).thenReturn(mockedObject);\r\n            PowerMockito.doNothing().when(store, &quot;deleteObject&quot;, mockedObject);            \r\n            store.removeFromFavourite(quot);\r\n        }\r\n\r\nHere&#39;s line ` PowerMockito.doNothing().when(store, &quot;deleteObject&quot;, mockedObject);` itself is calling real private method &quot;deleteObject&quot;\r\nand I am getting unfinished Mocking exception\r\n\r\n\r\n    org.mockito.exceptions.misusing.UnfinishedStubbingException: \r\n    Unfinished stubbing detected here:\r\n    -&gt; at com.kgcorner.vachan.io.StoreTest.removeFromFavourite(StoreTest.java:132)\r\n    \r\n    E.g. thenReturn() may be missing.\r\n    Examples of correct stubbing:\r\n        when(mock.isOk()).thenReturn(true);\r\n        when(mock.isOk()).thenThrow(exception);\r\n        doThrow(exception).when(mock).someVoidMethod();\r\n    Hints:\r\n     1. missing thenReturn()\r\n     2. you are trying to stub a final method, which is not supported\r\n     3: you are stubbing the behaviour of another mock inside before &#39;thenReturn&#39; instruction if completed\r\n    \r\n    \r\n    \tat org.mockito.internal.runners.DefaultInternalRunner$1$1.testFinished(DefaultInternalRunner.java:70)\r\n    \tat org.junit.runner.notification.SynchronizedRunListener.testFinished(SynchronizedRunListener.java:56)\r\n    \tat org.junit.runner.notification.RunNotifier$7.notifyListener(RunNotifier.java:190)\r\n    \tat org.junit.runner.notification.RunNotifier$SafeNotifier.run(RunNotifier.java:72)\r\n    \tat org.junit.runner.notification.RunNotifier.fireTestFinished(RunNotifier.java:187)\r\n    \tat org.junit.internal.runners.model.EachTestNotifier.fireTestFinished(EachTestNotifier.java:38)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:331)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.mockito.internal.runners.DefaultInternalRunner$1.run(DefaultInternalRunner.java:79)\r\n    \tat org.mockito.internal.runners.DefaultInternalRunner.run(DefaultInternalRunner.java:85)\r\n    \tat org.mockito.internal.runners.StrictRunner.run(StrictRunner.java:39)\r\n    \tat org.mockito.junit.MockitoJUnitRunner.run(MockitoJUnitRunner.java:163)\r\n    \tat org.junit.runners.Suite.runChild(Suite.java:128)\r\n    \tat org.junit.runners.Suite.runChild(Suite.java:27)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.junit.runner.JUnitCore.run(JUnitCore.java:137)\r\n    \tat com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\r\n    \tat com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\r\n    \tat com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\r\n\r\n\r\nAny idea, where I am mistaking?","title":"doNothing.When for private void method itself is invoking method","body":"<p>I'm trying to test one of my Class named Store and particularly a method named removeFromFavourite\nbelow is the method</p>\n\n<pre><code>    public void removeFromFavourite(Quote quote) {\n        if(quote == null) {\n            throw new IllegalArgumentException(\"Quote can't be null\");\n        }\n        if (quote.getId() &lt;1) {\n            throw new IllegalArgumentException(\"Quote id can't be less than 1\");\n        }\n        realm.beginTransaction();\n        QuoteRealMObject object = realm.where(QuoteRealMObject.class).\n                equalTo(QuoteRealMObject.ID, quote.getId()).findFirst();\n        if(object != null) {\n            deleteObject(object);\n        }\n        realm.commitTransaction();\n    }\n\n\n    private void deleteObject(RealmObject object) {\n        object.deleteFromRealm();\n    }\n</code></pre>\n\n<p>I created deleteObject method to call deleteFromRealm as deleteFromRealm is final and hence i can't mock it.</p>\n\n<p>My expectation is to mock call to 'deleteObject' ob Store's object by creating its spy</p>\n\n<p>Here's my <code>@Before</code> method</p>\n\n<pre><code>private Realm mockedRealm;\nprivate Store store;\n\n@Before\npublic void setUp() throws Exception {\n    mockedRealm = Mockito.mock(Realm.class);\n    store = new Store(mockedRealm);\n    store = PowerMockito.spy(store);\n}\n</code></pre>\n\n<p>So i created a mock object of Realm and used this to create object of class Store and then created a spy out of store's object and assigned it back to store object itself.</p>\n\n<p>Below is test method for removeFromFavourite</p>\n\n<pre><code>@Test\n    public void removeFromFavourite() throws Exception {\n        Quote quot = new Quote();\n        quot.setId(1);\n        RealmQuery&lt;QuoteRealMObject&gt; query = Mockito.mock(RealmQuery.class);\n        RealmQuery&lt;QuoteRealMObject&gt; filteredQuery = Mockito.mock(RealmQuery.class);\n        Mockito.when(mockedRealm.where(QuoteRealMObject.class)).thenReturn(query);\n        Mockito.when(query.equalTo(QuoteRealMObject.ID, 1)).thenReturn(filteredQuery);\n        QuoteRealMObject mockedObject = Mockito.mock(QuoteRealMObject.class);\n        Mockito.when(filteredQuery.findFirst()).thenReturn(mockedObject);\n        PowerMockito.doNothing().when(store, \"deleteObject\", mockedObject);            \n        store.removeFromFavourite(quot);\n    }\n</code></pre>\n\n<p>Here's line <code>PowerMockito.doNothing().when(store, \"deleteObject\", mockedObject);</code> itself is calling real private method \"deleteObject\"\nand I am getting unfinished Mocking exception</p>\n\n<pre><code>org.mockito.exceptions.misusing.UnfinishedStubbingException: \nUnfinished stubbing detected here:\n-&gt; at com.kgcorner.vachan.io.StoreTest.removeFromFavourite(StoreTest.java:132)\n\nE.g. thenReturn() may be missing.\nExamples of correct stubbing:\n    when(mock.isOk()).thenReturn(true);\n    when(mock.isOk()).thenThrow(exception);\n    doThrow(exception).when(mock).someVoidMethod();\nHints:\n 1. missing thenReturn()\n 2. you are trying to stub a final method, which is not supported\n 3: you are stubbing the behaviour of another mock inside before 'thenReturn' instruction if completed\n\n\n    at org.mockito.internal.runners.DefaultInternalRunner$1$1.testFinished(DefaultInternalRunner.java:70)\n    at org.junit.runner.notification.SynchronizedRunListener.testFinished(SynchronizedRunListener.java:56)\n    at org.junit.runner.notification.RunNotifier$7.notifyListener(RunNotifier.java:190)\n    at org.junit.runner.notification.RunNotifier$SafeNotifier.run(RunNotifier.java:72)\n    at org.junit.runner.notification.RunNotifier.fireTestFinished(RunNotifier.java:187)\n    at org.junit.internal.runners.model.EachTestNotifier.fireTestFinished(EachTestNotifier.java:38)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:331)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.mockito.internal.runners.DefaultInternalRunner$1.run(DefaultInternalRunner.java:79)\n    at org.mockito.internal.runners.DefaultInternalRunner.run(DefaultInternalRunner.java:85)\n    at org.mockito.internal.runners.StrictRunner.run(StrictRunner.java:39)\n    at org.mockito.junit.MockitoJUnitRunner.run(MockitoJUnitRunner.java:163)\n    at org.junit.runners.Suite.runChild(Suite.java:128)\n    at org.junit.runners.Suite.runChild(Suite.java:27)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.junit.runner.JUnitCore.run(JUnitCore.java:137)\n    at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)\n    at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)\n    at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)\n    at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)\n</code></pre>\n\n<p>Any idea, where I am mistaking?</p>\n"},{"tags":["java","c#",".net"],"answers":[{"comments":[{"owner":{"account_id":5919781,"reputation":29352,"user_id":4657412,"display_name":"DavidW"},"score":1,"creation_date":1688929251,"post_id":76641547,"comment_id":135137170,"body_markdown":"This answer looks like ChatGPT","body":"This answer looks like ChatGPT"},{"owner":{"account_id":53211,"reputation":16843,"user_id":159072,"accept_rate":80,"display_name":"user366312"},"score":0,"creation_date":1688929786,"post_id":76641547,"comment_id":135137237,"body_markdown":"@DavidW, If you are unsure about my writing, do you want me to delete it?","body":"@DavidW, If you are unsure about my writing, do you want me to delete it?"},{"owner":{"account_id":53211,"reputation":16843,"user_id":159072,"accept_rate":80,"display_name":"user366312"},"score":0,"creation_date":1688930114,"post_id":76641547,"comment_id":135137278,"body_markdown":"@DavidW, he didn&#39;t ask for any source code. And, apparently accepted my answer.","body":"@DavidW, he didn&#39;t ask for any source code. And, apparently accepted my answer."},{"owner":{"account_id":5919781,"reputation":29352,"user_id":4657412,"display_name":"DavidW"},"score":0,"creation_date":1688932946,"post_id":76641547,"comment_id":135137577,"body_markdown":"You won&#39;t be able to delete an accepted answer. I have no opinion on the quality of this answer, except that a lot of people have posted unvalidated low-quality ChatGPT answers so I&#39;m pretty suspicious of them generally.","body":"You won&#39;t be able to delete an accepted answer. I have no opinion on the quality of this answer, except that a lot of people have posted unvalidated low-quality ChatGPT answers so I&#39;m pretty suspicious of them generally."},{"owner":{"account_id":396163,"reputation":11157,"user_id":759558,"accept_rate":44,"display_name":"Neil"},"score":2,"creation_date":1688984124,"post_id":76641547,"comment_id":135143671,"body_markdown":"Formatting and writing style is exactly what you get from ChatGPT.","body":"Formatting and writing style is exactly what you get from ChatGPT."},{"owner":{"account_id":24885,"reputation":30828,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1688986756,"post_id":76641547,"comment_id":135144172,"body_markdown":"@Neil: Agreed. It is probably more than just ChatGPT fixing [spelling mistakes](https://stackoverflow.com/questions/36362020/what-is-unwrap-in-rust-and-what-is-it-used-for/76650561#76650561) ([agrument](https://en.wikipedia.org/wiki/Parameter_%28computer_programming%29), [woud](https://en.wiktionary.org/wiki/would#Verb), and [erro](https://en.wiktionary.org/wiki/error#Noun)). Though the ChatGPT signals are ***weak*** (increased answer volume and verboseness in answers after [December 2022](https://meta.stackoverflow.com/questions/421831/temporary-policy-chatgpt-is-banned)).","body":"@Neil: Agreed. It is probably more than just ChatGPT fixing <a href=\"https://stackoverflow.com/questions/36362020/what-is-unwrap-in-rust-and-what-is-it-used-for/76650561#76650561\">spelling mistakes</a> (<a href=\"https://en.wikipedia.org/wiki/Parameter_%28computer_programming%29\" rel=\"nofollow noreferrer\">agrument</a>, <a href=\"https://en.wiktionary.org/wiki/would#Verb\" rel=\"nofollow noreferrer\">woud</a>, and <a href=\"https://en.wiktionary.org/wiki/error#Noun\" rel=\"nofollow noreferrer\">erro</a>). Though the ChatGPT signals are <b><i>weak</i></b> (increased answer volume and verboseness in answers after <a href=\"https://meta.stackoverflow.com/questions/421831/temporary-policy-chatgpt-is-banned\">December 2022</a>)."}],"tags":[],"owner":{"account_id":53211,"reputation":16843,"user_id":159072,"accept_rate":80,"display_name":"user366312"},"comment_count":6,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688995316,"creation_date":1688795218,"answer_id":76641547,"question_id":76641475,"body_markdown":"xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx ","title":"How do I connect C# desktop application to an Android app?","body":"<p>xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx xxx</p>\n"}],"owner":{"account_id":28974173,"reputation":13,"user_id":22193700,"display_name":"YASH "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690788503,"creation_date":1688793490,"question_id":76641475,"body_markdown":"I have a [Windows Forms][1] C# application which uses SQL Local DB 2016.\r\nMy C# application is being used by some few peoples.\r\nI want to receive data to an Android app from the C# application.\r\nI want to show the records in my Android app from the C# application.\r\n\r\nWhat are the different ways to connect?\r\nWhat is the preferred way in my case?\r\n\r\nI don&#39;t know any ways in this case. I have previously developed an online Android app in which I’ve used PHP scripts to send and receive data on the [000webhost][2] platform.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Windows_Forms\r\n  [2]: https://en.wikipedia.org/wiki/Hostinger\r\n\r\n","title":"How do I connect C# desktop application to an Android app?","body":"<p>I have a <a href=\"https://en.wikipedia.org/wiki/Windows_Forms\" rel=\"nofollow noreferrer\">Windows Forms</a> C# application which uses SQL Local DB 2016.\nMy C# application is being used by some few peoples.\nI want to receive data to an Android app from the C# application.\nI want to show the records in my Android app from the C# application.</p>\n<p>What are the different ways to connect?\nWhat is the preferred way in my case?</p>\n<p>I don't know any ways in this case. I have previously developed an online Android app in which I’ve used PHP scripts to send and receive data on the <a href=\"https://en.wikipedia.org/wiki/Hostinger\" rel=\"nofollow noreferrer\">000webhost</a> platform.</p>\n"},{"tags":["java","maven","azure-devops","continuous-integration","cicd"],"owner":{"account_id":5958163,"reputation":21,"user_id":4684072,"display_name":"Fezekile Plaatyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690788361,"creation_date":1690788361,"question_id":76801480,"body_markdown":"\r\nI have 2 Maven projects, a Utility project and Main project which is inside a Github repository named My_Cloud_Projects, there projects(utils and cloud) are in 2 different Github Repositories.\r\n\r\nI am trying to create a pipeline to first build the utility project then publish \r\nits artifact and download them when building the main project i.e making it avaliable as Maven dependency. But I am getting error the main project can&#39;t find utils.\r\n\r\nMy project structures are are follow:\r\n```\r\n1. Utility\r\n      -&gt; src (where codes is)\r\n      -&gt; pom.xml\r\n2. My_Cloud_Projects structure is as below\r\n\r\n      -&gt; main project\r\n            -&gt; src\r\n            -&gt; pom.xml\r\n      -&gt; other maven projects(not important for this question) within this repository\r\n\r\n```\r\n\r\nBelow is how my template looks like, it fails on locating the utils. \r\n```\r\n\r\ntrigger: none\r\npr: none\r\n\r\nresources:\r\n  repositories:\r\n    - repository: cloud_projects\r\n      endpoint: mycompany\r\n      type: github\r\n      name: mycompany/cloud_projects\r\n      ref: develop\r\n\r\n    - repository: utils\r\n      endpoint: mycompany\r\n      type: github\r\n      name: mycompany/utils\r\n      ref: develop\r\n\r\nstages:\r\n- stage: BuildAndPublishUtilsProject\r\n  displayName: Build and Publish Utils Project\r\n  jobs:\r\n  - job: BuildUtils\r\n    displayName: Build Utils Project\r\n    pool:\r\n      vmImage: &#39;ubuntu-latest&#39;\r\n    steps:\r\n    - script: echo &quot;Building the Utils project...&quot;\r\n      displayName: &#39;Build Step&#39;\r\n\r\n    - script: mvn clean package -DskipTests\r\n      workingDirectory: &#39;.&#39;\r\n\r\n  \r\n    - task: PublishBuildArtifacts@1\r\n      inputs:\r\n        PathtoPublish: &#39;./target&#39;\r\n        ArtifactName: &#39;Utils&#39;\r\n\r\n- stage: BuildAndPublishMainProject\r\n  displayName: Build Main Project\r\n  dependsOn: BuildAndPublishUtilsProject\r\n  jobs:\r\n  - job: BuildMain\r\n    displayName: Build Main Project\r\n    pool:\r\n      vmImage: &#39;ubuntu-latest&#39;\r\n    steps:\r\n    - script: echo &quot;Building the main project...&quot;\r\n      displayName: &#39;Build Step&#39;\r\n\r\n    - checkout: cloud_projects\r\n      path: main\r\n\r\n    - task: DownloadBuildArtifacts@0\r\n      inputs:\r\n        buildType: &#39;current&#39;\r\n        downloadType: &#39;single&#39;\r\n        artifactName: &#39;Utils&#39;\r\n        downloadPath: &#39;$(System.ArtifactsDirectory)&#39;\r\n\r\n    - script: mvn clean package -DskipTests\r\n      displayName: &#39;Build main Maven project&#39;\r\n      workingDirectory: &#39;./main&#39;\r\n    ```\r\n\r\nPlease help!\r\n\r\n","title":"How to make the other Maven project avaliable as normal maven dependency for other during the same pipeline build on Azure Devops?","body":"<p>I have 2 Maven projects, a Utility project and Main project which is inside a Github repository named My_Cloud_Projects, there projects(utils and cloud) are in 2 different Github Repositories.</p>\n<p>I am trying to create a pipeline to first build the utility project then publish\nits artifact and download them when building the main project i.e making it avaliable as Maven dependency. But I am getting error the main project can't find utils.</p>\n<p>My project structures are are follow:</p>\n<pre><code>1. Utility\n      -&gt; src (where codes is)\n      -&gt; pom.xml\n2. My_Cloud_Projects structure is as below\n\n      -&gt; main project\n            -&gt; src\n            -&gt; pom.xml\n      -&gt; other maven projects(not important for this question) within this repository\n\n</code></pre>\n<p>Below is how my template looks like, it fails on locating the utils.</p>\n<pre><code>\ntrigger: none\npr: none\n\nresources:\n  repositories:\n    - repository: cloud_projects\n      endpoint: mycompany\n      type: github\n      name: mycompany/cloud_projects\n      ref: develop\n\n    - repository: utils\n      endpoint: mycompany\n      type: github\n      name: mycompany/utils\n      ref: develop\n\nstages:\n- stage: BuildAndPublishUtilsProject\n  displayName: Build and Publish Utils Project\n  jobs:\n  - job: BuildUtils\n    displayName: Build Utils Project\n    pool:\n      vmImage: 'ubuntu-latest'\n    steps:\n    - script: echo &quot;Building the Utils project...&quot;\n      displayName: 'Build Step'\n\n    - script: mvn clean package -DskipTests\n      workingDirectory: '.'\n\n  \n    - task: PublishBuildArtifacts@1\n      inputs:\n        PathtoPublish: './target'\n        ArtifactName: 'Utils'\n\n- stage: BuildAndPublishMainProject\n  displayName: Build Main Project\n  dependsOn: BuildAndPublishUtilsProject\n  jobs:\n  - job: BuildMain\n    displayName: Build Main Project\n    pool:\n      vmImage: 'ubuntu-latest'\n    steps:\n    - script: echo &quot;Building the main project...&quot;\n      displayName: 'Build Step'\n\n    - checkout: cloud_projects\n      path: main\n\n    - task: DownloadBuildArtifacts@0\n      inputs:\n        buildType: 'current'\n        downloadType: 'single'\n        artifactName: 'Utils'\n        downloadPath: '$(System.ArtifactsDirectory)'\n\n    - script: mvn clean package -DskipTests\n      displayName: 'Build main Maven project'\n      workingDirectory: './main'\n    ```\n\nPlease help!\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":5,"creation_date":1690755959,"post_id":76799817,"comment_id":135393684,"body_markdown":"You probably want `number &gt;= 1 &amp;&amp; number &lt;= 3` as 1 and 3 are valid, too. Or just drop the condition and make it just an `else`.","body":"You probably want <code>number &gt;= 1 &amp;&amp; number &lt;= 3</code> as 1 and 3 are valid, too. Or just drop the condition and make it just an <code>else</code>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1690755975,"post_id":76799817,"comment_id":135393686,"body_markdown":"What does it mean if `number &gt; 1` and `number &lt; 3`? Which value can `number` then have?","body":"What does it mean if <code>number &gt; 1</code> and <code>number &lt; 3</code>? Which value can <code>number</code> then have?"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1690770623,"post_id":76799817,"comment_id":135394652,"body_markdown":"`if (number &lt; 1 || number &gt; 3) { // invalid } else { // must be valid }` - you don&#39;t need the `else-if` portion, just an `else`","body":"<code>if (number &lt; 1 || number &gt; 3) { &#47;&#47; invalid } else { &#47;&#47; must be valid }</code> - you don&#39;t need the <code>else-if</code> portion, just an <code>else</code>"}],"answers":[{"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1690792870,"post_id":76800375,"comment_id":135397183,"body_markdown":"@user16320675 yeah, I thought that too, but I figured I’ve probably confused op enough &#128540;","body":"@user16320675 yeah, I thought that too, but I figured I’ve probably confused op enough 😜"}],"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690771042,"creation_date":1690771042,"answer_id":76800375,"question_id":76799817,"body_markdown":"Consider the logic for a second...\r\n\r\n    if (number &lt; 1 || number &gt; 3) {\r\n        // Invalid\r\n    } else if (number &gt; 1 &amp;&amp; number &lt; 3) {\r\n       // Valid\r\n    }\r\n\r\nNow consider `number` equals `1`.  \r\n\r\n* `1` isn&#39;t `&lt; 1` or `&gt; 3`, so we don&#39;t need to do the first statement ✅\r\n* `1` isn&#39;t `&gt; 1`, but is less `&lt; 3` (but it&#39;s an `and`, so `1` isn&#39;t `&gt; 1` AND `&lt; 3`) so we don&#39;t need to do the second statement ✅\r\n* Um, why am I here?\r\n\r\nSo, you&#39;d better of doing something like...\r\n\r\n    if (number &lt; 1 || number &gt; 3) {\r\n        // Invalid\r\n    } else if (number &gt;= 1 &amp;&amp; number &lt;= 3) {\r\n       // Valid\r\n    }\r\n\r\nBut, you&#39;ve basically done the range check in the first statement, so you could actually do something like...\r\n\r\n    if (number &lt; 1 || number &gt; 3) {\r\n        // Invalid\r\n    } else {\r\n       // Valid\r\n    }\r\n\r\nor \r\n\r\n    if (number &gt;= 1 &amp;&amp; number &lt;= 3) {\r\n        // Valid\r\n    } else {\r\n       // Invalid\r\n    }\r\n\r\nor, frankly just do...\r\n\r\n    if (number == 1) {\r\n        // Do number 1 option\r\n    } else if (number == 2) {\r\n        // Do number 2 option\r\n    } else if (number == 3) {\r\n        // Do number 3 option\r\n    } else {\r\n        // Invalid\r\n    }\r\n\r\nThis commonly known as &quot;happy path&quot; - you do what you&#39;re expecting first and then handle the &quot;how did I get here!?&quot; cases lasts.\r\n\r\nI just want to point out that &quot;desk checking&quot; your code is really, really important for catching these kind of issues.  You could also use `print` statements are even run through the debugger, all of which will help you better understand what you&#39;ve done wrong. &#129322;&#128521;","title":"Creating a Menu","body":"<p>Consider the logic for a second...</p>\n<pre><code>if (number &lt; 1 || number &gt; 3) {\n    // Invalid\n} else if (number &gt; 1 &amp;&amp; number &lt; 3) {\n   // Valid\n}\n</code></pre>\n<p>Now consider <code>number</code> equals <code>1</code>.</p>\n<ul>\n<li><code>1</code> isn't <code>&lt; 1</code> or <code>&gt; 3</code>, so we don't need to do the first statement ✅</li>\n<li><code>1</code> isn't <code>&gt; 1</code>, but is less <code>&lt; 3</code> (but it's an <code>and</code>, so <code>1</code> isn't <code>&gt; 1</code> AND <code>&lt; 3</code>) so we don't need to do the second statement ✅</li>\n<li>Um, why am I here?</li>\n</ul>\n<p>So, you'd better of doing something like...</p>\n<pre><code>if (number &lt; 1 || number &gt; 3) {\n    // Invalid\n} else if (number &gt;= 1 &amp;&amp; number &lt;= 3) {\n   // Valid\n}\n</code></pre>\n<p>But, you've basically done the range check in the first statement, so you could actually do something like...</p>\n<pre><code>if (number &lt; 1 || number &gt; 3) {\n    // Invalid\n} else {\n   // Valid\n}\n</code></pre>\n<p>or</p>\n<pre><code>if (number &gt;= 1 &amp;&amp; number &lt;= 3) {\n    // Valid\n} else {\n   // Invalid\n}\n</code></pre>\n<p>or, frankly just do...</p>\n<pre><code>if (number == 1) {\n    // Do number 1 option\n} else if (number == 2) {\n    // Do number 2 option\n} else if (number == 3) {\n    // Do number 3 option\n} else {\n    // Invalid\n}\n</code></pre>\n<p>This commonly known as &quot;happy path&quot; - you do what you're expecting first and then handle the &quot;how did I get here!?&quot; cases lasts.</p>\n<p>I just want to point out that &quot;desk checking&quot; your code is really, really important for catching these kind of issues.  You could also use <code>print</code> statements are even run through the debugger, all of which will help you better understand what you've done wrong. 🤪😉</p>\n"}],"owner":{"account_id":8402672,"reputation":95,"user_id":6307253,"display_name":"John Barrett"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1690787912,"creation_date":1690755767,"question_id":76799817,"body_markdown":"I am trying to print a menu in Java. Below is my code. It works if the user enters a number that is not between 1 &amp; 3, but if the user enters a 1 for example how do I print an option for that?\r\n\r\nThanks in advance for any help!\r\n\r\n    import java.util.Scanner;\r\n    \r\n    public class Train {\r\n      \r\n        public static void main(String[] args) {\r\n            Scanner input = new Scanner(System.in);\r\n            System.out.println(&quot;Menu&quot;);\r\n            System.out.println(&quot;1. Print Seating Chart&quot;);\r\n            System.out.println(&quot;2. Select Seat&quot;);\r\n            System.out.println(&quot;3. Exit&quot;);\r\n            System.out.print(&quot;Enter a choice: &quot;);\r\n            \r\n            int number = input.nextInt();\r\n            if (number &lt; 1 || number &gt; 3) {\r\n                System.out.print(number+ &quot; &quot; + &quot;is not valid, enter a number between 1 &amp; 3 &quot;);\r\n            } else if (number &gt; 1 &amp;&amp; number &lt; 3) {\r\n                System.out.print(&quot;You Entered&quot; + &quot; &quot; +number);\r\n            }\r\n         } \r\n    }","title":"Creating a Menu","body":"<p>I am trying to print a menu in Java. Below is my code. It works if the user enters a number that is not between 1 &amp; 3, but if the user enters a 1 for example how do I print an option for that?</p>\n<p>Thanks in advance for any help!</p>\n<pre><code>import java.util.Scanner;\n\npublic class Train {\n  \n    public static void main(String[] args) {\n        Scanner input = new Scanner(System.in);\n        System.out.println(&quot;Menu&quot;);\n        System.out.println(&quot;1. Print Seating Chart&quot;);\n        System.out.println(&quot;2. Select Seat&quot;);\n        System.out.println(&quot;3. Exit&quot;);\n        System.out.print(&quot;Enter a choice: &quot;);\n        \n        int number = input.nextInt();\n        if (number &lt; 1 || number &gt; 3) {\n            System.out.print(number+ &quot; &quot; + &quot;is not valid, enter a number between 1 &amp; 3 &quot;);\n        } else if (number &gt; 1 &amp;&amp; number &lt; 3) {\n            System.out.print(&quot;You Entered&quot; + &quot; &quot; +number);\n        }\n     } \n}\n</code></pre>\n"},{"tags":["java","spring-boot","internationalization","locale"],"comments":[{"owner":{"account_id":4668137,"reputation":6228,"user_id":9681755,"display_name":"Dirk Deyne"},"score":0,"creation_date":1690728645,"post_id":76798174,"comment_id":135390767,"body_markdown":"Does this help [set-thymeleaf-language-using-session-attribute](https://stackoverflow.com/questions/76775442/set-thymeleaf-language-using-session-attribute/76777259)","body":"Does this help <a href=\"https://stackoverflow.com/questions/76775442/set-thymeleaf-language-using-session-attribute/76777259\">set-thymeleaf-language-using-session-attribute</a>"},{"owner":{"account_id":12785520,"reputation":178,"user_id":11672197,"display_name":"qarabala"},"score":0,"creation_date":1690729226,"post_id":76798174,"comment_id":135390833,"body_markdown":"@DirkDeyne updated. Unfortunately, no. MessageSource gives the default language when used with `null` argument, Thymeleaf gives the correct language.","body":"@DirkDeyne updated. Unfortunately, no. MessageSource gives the default language when used with <code>null</code> argument, Thymeleaf gives the correct language."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690786613,"post_id":76798174,"comment_id":135396063,"body_markdown":"Which is as designed. If you don&#39;t pass in the `Locale` it will resort to `Locale.getDefault()` which gets the default for your JDK. It will not use the `LocaleResolver` or `LocalContextHolder` to resolve the locale. If you want to use the configured locale use `LocaleContextHolder.getLocale()` to get the one from the user (if any specified).","body":"Which is as designed. If you don&#39;t pass in the <code>Locale</code> it will resort to <code>Locale.getDefault()</code> which gets the default for your JDK. It will not use the <code>LocaleResolver</code> or <code>LocalContextHolder</code> to resolve the locale. If you want to use the configured locale use <code>LocaleContextHolder.getLocale()</code> to get the one from the user (if any specified)."}],"answers":[{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1690786434,"post_id":76798668,"comment_id":135396040,"body_markdown":"Use `LocalContextHolder.getLocale()` instead or just inject the `Locale` into the method. Don&#39;t make it more complex then that.","body":"Use <code>LocalContextHolder.getLocale()</code> instead or just inject the <code>Locale</code> into the method. Don&#39;t make it more complex then that."},{"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1690787938,"post_id":76798668,"comment_id":135396277,"body_markdown":"Thanks @M.Deinum. I have updated the answer.","body":"Thanks @M.Deinum. I have updated the answer."}],"tags":[],"owner":{"account_id":19535095,"reputation":2874,"user_id":14294053,"display_name":"Mar-Z"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690787835,"creation_date":1690734334,"answer_id":76798668,"question_id":76798174,"body_markdown":"To fix the issue you can retrieve the current locale from the LocaleContext associated with the current thread. For example in the controller like this:\r\n```\r\n    @GetMapping(&quot;/customers&quot;)\r\n    public String showUserList(Model model) {\r\n        Locale currentLocale = LocaleContextHolder.getLocale();\r\n        log.info(&quot;Current locale: {}&quot;, currentLocale);\r\n        model.addAttribute(&quot;customers&quot;, customerService.getCustomers());\r\n        return &quot;customers&quot;;\r\n    }\r\n```\r\nYou can then pass the locale to the messageSource:\r\n```\r\nmessageSource.getMessage(text, null, currentLocale)\r\n```","title":"MessageSource not using the same locale as Thymeleaf","body":"<p>To fix the issue you can retrieve the current locale from the LocaleContext associated with the current thread. For example in the controller like this:</p>\n<pre><code>    @GetMapping(&quot;/customers&quot;)\n    public String showUserList(Model model) {\n        Locale currentLocale = LocaleContextHolder.getLocale();\n        log.info(&quot;Current locale: {}&quot;, currentLocale);\n        model.addAttribute(&quot;customers&quot;, customerService.getCustomers());\n        return &quot;customers&quot;;\n    }\n</code></pre>\n<p>You can then pass the locale to the messageSource:</p>\n<pre><code>messageSource.getMessage(text, null, currentLocale)\n</code></pre>\n"}],"owner":{"account_id":12785520,"reputation":178,"user_id":11672197,"display_name":"qarabala"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76798668,"answer_count":1,"score":0,"last_activity_date":1690787835,"creation_date":1690727053,"question_id":76798174,"body_markdown":"I set user locale based on the session attribute.\r\n```java\r\n@SpringBootApplication\r\n@ServletComponentScan\r\n@Configuration\r\npublic class Webapp {\r\n\r\n    // Thymeleaf\r\n    @Bean\r\n    public LayoutDialect layoutDialect() {\r\n\treturn new LayoutDialect();\r\n    }\r\n\r\n    @Bean\r\n    public LocaleResolver localeResolver() {\r\n\tSessionLocaleResolver localeResolver = new SessionLocaleResolver();\r\n\tlocaleResolver.setLocaleAttributeName(&quot;user_locale&quot;); // Not strictly needed\r\n\tlocaleResolver.setDefaultLocale(Locale.ENGLISH);\r\n\treturn localeResolver;\r\n    }\r\n\r\n    @Bean\r\n    public MessageSource messageSource() {\r\n\tReloadableResourceBundleMessageSource messageSource = new ReloadableResourceBundleMessageSource();\r\n\tmessageSource.setBasename(&quot;classpath:lang/messages&quot;);\r\n\tmessageSource.setDefaultEncoding(&quot;UTF-8&quot;);\r\n\treturn messageSource;\r\n    }\r\n\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Webapp.class, args);\r\n    }\r\n}\r\n```\r\nWhen I use Thymeleaf template, everything with `#{..}` gets translated via messages_XX.properties based on the correct language XX (which is specified in the session attribute). However, `messageSource.getMessage(text, null, null)` always returns English. How can I fix this? I do not even know where to start debugging.","title":"MessageSource not using the same locale as Thymeleaf","body":"<p>I set user locale based on the session attribute.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootApplication\n@ServletComponentScan\n@Configuration\npublic class Webapp {\n\n    // Thymeleaf\n    @Bean\n    public LayoutDialect layoutDialect() {\n    return new LayoutDialect();\n    }\n\n    @Bean\n    public LocaleResolver localeResolver() {\n    SessionLocaleResolver localeResolver = new SessionLocaleResolver();\n    localeResolver.setLocaleAttributeName(&quot;user_locale&quot;); // Not strictly needed\n    localeResolver.setDefaultLocale(Locale.ENGLISH);\n    return localeResolver;\n    }\n\n    @Bean\n    public MessageSource messageSource() {\n    ReloadableResourceBundleMessageSource messageSource = new ReloadableResourceBundleMessageSource();\n    messageSource.setBasename(&quot;classpath:lang/messages&quot;);\n    messageSource.setDefaultEncoding(&quot;UTF-8&quot;);\n    return messageSource;\n    }\n\n\n    public static void main(String[] args) {\n        SpringApplication.run(Webapp.class, args);\n    }\n}\n</code></pre>\n<p>When I use Thymeleaf template, everything with <code>#{..}</code> gets translated via messages_XX.properties based on the correct language XX (which is specified in the session attribute). However, <code>messageSource.getMessage(text, null, null)</code> always returns English. How can I fix this? I do not even know where to start debugging.</p>\n"},{"tags":["java","spring","jmeter"],"comments":[{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1690786078,"post_id":76801188,"comment_id":135395993,"body_markdown":"Why do you need Spring Boot for a JMeter sampler? What does it do, send HTTP requests?","body":"Why do you need Spring Boot for a JMeter sampler? What does it do, send HTTP requests?"},{"owner":{"account_id":2802232,"reputation":1590,"user_id":2410260,"accept_rate":50,"display_name":"Raziza O"},"score":0,"creation_date":1690792886,"post_id":76801188,"comment_id":135397189,"body_markdown":"Our service is based on Java and spring boot. Then we developed an client simulator (GUI) + test core module (mqtt base) which is developed also in spring boot - so we can use it also in our integration tests and also as a simple client simulator. And now I would like to reuse this test core module in jmeter sampler. If i won&#39;t find a solution my plan is to breat the test core module into 2 modules.. 1 spring boot base and one pure java. But this will make me few hours of work at least that I try to prevent.","body":"Our service is based on Java and spring boot. Then we developed an client simulator (GUI) + test core module (mqtt base) which is developed also in spring boot - so we can use it also in our integration tests and also as a simple client simulator. And now I would like to reuse this test core module in jmeter sampler. If i won&#39;t find a solution my plan is to breat the test core module into 2 modules.. 1 spring boot base and one pure java. But this will make me few hours of work at least that I try to prevent."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1690794078,"post_id":76801188,"comment_id":135397432,"body_markdown":"You can use non-Spring classes in both JMeter and your tests if you know how to turn those in beans during testing.","body":"You can use non-Spring classes in both JMeter and your tests if you know how to turn those in beans during testing."},{"owner":{"account_id":2802232,"reputation":1590,"user_id":2410260,"accept_rate":50,"display_name":"Raziza O"},"score":0,"creation_date":1690794881,"post_id":76801188,"comment_id":135397573,"body_markdown":"Yes I guess I will do that.. Hours of research or hours of transferring my code to non-spring boot classes would be still hours of work :)","body":"Yes I guess I will do that.. Hours of research or hours of transferring my code to non-spring boot classes would be still hours of work :)"}],"answers":[{"comments":[{"owner":{"account_id":2802232,"reputation":1590,"user_id":2410260,"accept_rate":50,"display_name":"Raziza O"},"score":0,"creation_date":1690794746,"post_id":76801391,"comment_id":135397541,"body_markdown":"Thanks for this direction.. But unfortunately using the other way of using JMeter is less an option for us, because we use AWS services, and we might want to use in the future [AWS load testing](https://aws.amazon.com/solutions/implementations/distributed-load-testing-on-aws) which I&#39;ve saw that can load jmeter samplers.","body":"Thanks for this direction.. But unfortunately using the other way of using JMeter is less an option for us, because we use AWS services, and we might want to use in the future <a href=\"https://aws.amazon.com/solutions/implementations/distributed-load-testing-on-aws\" rel=\"nofollow noreferrer\">AWS load testing</a> which I&#39;ve saw that can load jmeter samplers."}],"tags":[],"owner":{"account_id":3460456,"reputation":162758,"user_id":2897748,"display_name":"Dmitri T"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690787615,"creation_date":1690787615,"answer_id":76801391,"question_id":76801188,"body_markdown":"You created yourself a [Jar Hell][1], remove the &quot;plain&quot; jar and leave only the &quot;fat&quot; one. \r\n\r\nIn general I don&#39;t think you can run a Spring Boot application inside JMeter context, when it comes to multithreading the second thread will fail. \r\n\r\nI think the better option would be going the other way, include JMeter into the Spring Boot application, it can be done:\r\n \r\n - Either by calling the relevant JMeter API functions directly (no limitations but coding might be a little bit tricky, see [JMeter Command Line Overview: 5 Ways To Launch a Test][2] for more details)\r\n - Or you can use [JMeter Java DSL][3] (more convenient but doesn&#39;t support 100% of JMeter features)\r\n\r\n\r\n  [1]: https://dzone.com/articles/what-is-jar-hell\r\n  [2]: https://www.blazemeter.com/blog/jmeter-command-line\r\n  [3]: https://abstracta.github.io/jmeter-java-dsl/","title":"Building a jmeter sampler using spring dependencies","body":"<p>You created yourself a <a href=\"https://dzone.com/articles/what-is-jar-hell\" rel=\"nofollow noreferrer\">Jar Hell</a>, remove the &quot;plain&quot; jar and leave only the &quot;fat&quot; one.</p>\n<p>In general I don't think you can run a Spring Boot application inside JMeter context, when it comes to multithreading the second thread will fail.</p>\n<p>I think the better option would be going the other way, include JMeter into the Spring Boot application, it can be done:</p>\n<ul>\n<li>Either by calling the relevant JMeter API functions directly (no limitations but coding might be a little bit tricky, see <a href=\"https://www.blazemeter.com/blog/jmeter-command-line\" rel=\"nofollow noreferrer\">JMeter Command Line Overview: 5 Ways To Launch a Test</a> for more details)</li>\n<li>Or you can use <a href=\"https://abstracta.github.io/jmeter-java-dsl/\" rel=\"nofollow noreferrer\">JMeter Java DSL</a> (more convenient but doesn't support 100% of JMeter features)</li>\n</ul>\n"}],"owner":{"account_id":2802232,"reputation":1590,"user_id":2410260,"accept_rate":50,"display_name":"Raziza O"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690787615,"creation_date":1690785517,"question_id":76801188,"body_markdown":"I&#39;m very much new with JMeter and I&#39;m trying to reuse my testing library to perform my loading tests. \r\n\r\nI&#39;ve started with a small project. There I have a class which implements `org.apache.jmeter.protocol.java.sampler.JavaSamplerClient`, I&#39;ve compiled it and copied the jar into the `.\\lib\\ext` folder of jmeter. \r\n\r\n**Result**: I could see my sampler and run it perfectly. \r\n\r\nSecond phase is to add my library which uses spring as well. After adding all the needed dependencies in the `build.gradle` i&#39;ve managed to compile it. \r\n\r\nNow I have 2 jars in the `build\\lib` folder. The plain one - which is only my classes like before. And the big one which includes all my dependencies - spring boot, my test library and more...\r\n\r\nWhen I copy this big jar to jmeter I&#39;m getting this error [![big jar][1]][1]\r\n\r\nIs there a way to include my dependencies and still make it work in Jmeter ?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FCsnT.png","title":"Building a jmeter sampler using spring dependencies","body":"<p>I'm very much new with JMeter and I'm trying to reuse my testing library to perform my loading tests.</p>\n<p>I've started with a small project. There I have a class which implements <code>org.apache.jmeter.protocol.java.sampler.JavaSamplerClient</code>, I've compiled it and copied the jar into the <code>.\\lib\\ext</code> folder of jmeter.</p>\n<p><strong>Result</strong>: I could see my sampler and run it perfectly.</p>\n<p>Second phase is to add my library which uses spring as well. After adding all the needed dependencies in the <code>build.gradle</code> i've managed to compile it.</p>\n<p>Now I have 2 jars in the <code>build\\lib</code> folder. The plain one - which is only my classes like before. And the big one which includes all my dependencies - spring boot, my test library and more...</p>\n<p>When I copy this big jar to jmeter I'm getting this error <a href=\"https://i.stack.imgur.com/FCsnT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FCsnT.png\" alt=\"big jar\" /></a></p>\n<p>Is there a way to include my dependencies and still make it work in Jmeter ?</p>\n"},{"tags":["java","android","webview","broadcastreceiver","android-app-bundle"],"owner":{"account_id":29126390,"reputation":1,"user_id":22312598,"display_name":"Musab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690787401,"creation_date":1690787401,"question_id":76801376,"body_markdown":"In the emulator everything is working fine. When i install the build signed apk on the android tv, that&#39;s not working. In MainActivity file i am using webview\r\nhere is the code of android manifest.xml file\r\n\r\n```\r\n\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.example.myboard&quot; &gt;\r\n\r\n    &lt;!-- To handle boot completes --&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\r\n    &lt;!-- To handle boot completes --&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\r\n\r\n    &lt;uses-feature\r\n        android:name=&quot;android.software.leanback&quot;\r\n        android:required=&quot;false&quot; /&gt;\r\n    &lt;uses-feature\r\n        android:name=&quot;android.hardware.touchscreen&quot;\r\n        android:required=&quot;false&quot; /&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:banner=&quot;@drawable/ic_launcher_background&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:usesCleartextTraffic=&quot;true&quot;\r\n        &gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LEANBACK_LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n\r\n        &lt;receiver\r\n            android:enabled=&quot;true&quot;\r\n            android:name=&quot;.BootReceiver&quot;\r\n            android:permission=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.USER_PRESENT&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/receiver&gt;\r\n\r\n\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\nBoot receiver.java  file\r\n\r\npackage com.example.myboard;\r\n\r\nimport android.content.BroadcastReceiver;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\n\r\n```\r\npublic class BootReceiver extends BroadcastReceiver {\r\n\r\n    @Override\r\n    public void onReceive(Context context, Intent intent) {\r\n        if (Intent.ACTION_BOOT_COMPLETED.equals(intent.getAction())) {\r\n            // Launch your Android TV app here\r\n            Intent launchIntent = new Intent(context, com.example.myboard.MainActivity.class);\r\n            launchIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            context.startActivity(launchIntent);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nMainActivity.java file\r\n\r\npackage com.example.myboard;\r\n\r\nimport android.app.Activity;\r\nimport android.os.Bundle;\r\nimport android.webkit.WebSettings;\r\nimport android.webkit.WebView;\r\n\r\npublic class MainActivity extends Activity  {\r\n\r\n    private WebView webView;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        // Find the WebView in the layout\r\n        webView = findViewById(R.id.webView);\r\n\r\n        // Enable JavaScript (if required by your web app)\r\n        WebSettings webSettings = webView.getSettings();\r\n        webSettings.setJavaScriptEnabled(true);\r\n\r\n            // do something\r\n            webView.loadUrl(&quot;http://example.com/&quot;);\r\n\r\n\r\n        // Load the URL of the web page you want to display\r\n\r\n    }\r\n\r\n    // Handle navigation with the back button\r\n    @Override\r\n    public void onBackPressed() {\r\n        if (webView.canGoBack()) {\r\n            webView.goBack();\r\n        } else {\r\n            super.onBackPressed();\r\n        }\r\n    }\r\n}\r\n\r\n\r\n\r\n```\r\ni searched on stack overflow geeksforgeeks, but i am not able to find the reason and why lauch on boot is not working on the android tv `your text`","title":"Launch on Boot on android 9 api 28 by java","body":"<p>In the emulator everything is working fine. When i install the build signed apk on the android tv, that's not working. In MainActivity file i am using webview\nhere is the code of android manifest.xml file</p>\n<pre><code>\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.example.myboard&quot; &gt;\n\n    &lt;!-- To handle boot completes --&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot; /&gt;\n    &lt;!-- To handle boot completes --&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_NETWORK_STATE&quot; /&gt;\n\n    &lt;uses-feature\n        android:name=&quot;android.software.leanback&quot;\n        android:required=&quot;false&quot; /&gt;\n    &lt;uses-feature\n        android:name=&quot;android.hardware.touchscreen&quot;\n        android:required=&quot;false&quot; /&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:banner=&quot;@drawable/ic_launcher_background&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:usesCleartextTraffic=&quot;true&quot;\n        &gt;\n        &lt;activity android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LEANBACK_LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n\n        &lt;receiver\n            android:enabled=&quot;true&quot;\n            android:name=&quot;.BootReceiver&quot;\n            android:permission=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.DEFAULT&quot; /&gt;\n            &lt;/intent-filter&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.USER_PRESENT&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/receiver&gt;\n\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n\nBoot receiver.java  file\n\npackage com.example.myboard;\n\nimport android.content.BroadcastReceiver;\nimport android.content.Context;\nimport android.content.Intent;\n\n</code></pre>\n<p>public class BootReceiver extends BroadcastReceiver {</p>\n<pre><code>@Override\npublic void onReceive(Context context, Intent intent) {\n    if (Intent.ACTION_BOOT_COMPLETED.equals(intent.getAction())) {\n        // Launch your Android TV app here\n        Intent launchIntent = new Intent(context, com.example.myboard.MainActivity.class);\n        launchIntent.addFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n        context.startActivity(launchIntent);\n    }\n}\n</code></pre>\n<p>}</p>\n<pre><code>\n\n\nMainActivity.java file\n\npackage com.example.myboard;\n\nimport android.app.Activity;\nimport android.os.Bundle;\nimport android.webkit.WebSettings;\nimport android.webkit.WebView;\n\npublic class MainActivity extends Activity  {\n\n    private WebView webView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // Find the WebView in the layout\n        webView = findViewById(R.id.webView);\n\n        // Enable JavaScript (if required by your web app)\n        WebSettings webSettings = webView.getSettings();\n        webSettings.setJavaScriptEnabled(true);\n\n            // do something\n            webView.loadUrl(&quot;http://example.com/&quot;);\n\n\n        // Load the URL of the web page you want to display\n\n    }\n\n    // Handle navigation with the back button\n    @Override\n    public void onBackPressed() {\n        if (webView.canGoBack()) {\n            webView.goBack();\n        } else {\n            super.onBackPressed();\n        }\n    }\n}\n\n\n\n</code></pre>\n<p>i searched on stack overflow geeksforgeeks, but i am not able to find the reason and why lauch on boot is not working on the android tv <code>your text</code></p>\n"},{"tags":["java","jpa","orm","persistence"],"answers":[{"comments":[{"owner":{"account_id":2744766,"reputation":2303,"user_id":2365416,"accept_rate":69,"display_name":"Amrit"},"score":0,"creation_date":1384263311,"post_id":19930480,"comment_id":29658112,"body_markdown":"hmmm, it makes sense now. Do you have a similar &quot;Simple&quot; definition which tells the difference between container-managed &amp; application-managed Entity Managers?","body":"hmmm, it makes sense now. Do you have a similar &quot;Simple&quot; definition which tells the difference between container-managed &amp; application-managed Entity Managers?"},{"owner":{"account_id":909172,"reputation":900,"user_id":943428,"accept_rate":75,"display_name":"uiron"},"score":6,"creation_date":1384266872,"post_id":19930480,"comment_id":29660418,"body_markdown":"container vs application just basically tells where Entity Manager is created - outside in a container, or inside, in application.","body":"container vs application just basically tells where Entity Manager is created - outside in a container, or inside, in application."}],"tags":[],"owner":{"account_id":541997,"reputation":7814,"user_id":910736,"display_name":"JamesB"},"comment_count":2,"down_vote_count":0,"up_vote_count":104,"is_accepted":true,"score":104,"last_activity_date":1630147423,"creation_date":1384262862,"answer_id":19930480,"question_id":19930152,"body_markdown":"A persistence context handles a set of entities which hold data to be persisted in some persistence store (e.g. a database). In particular, the context is aware of the different states an entity can have (e.g. managed, detached) in relation to both the context and the underlying persistence store.\r\n\r\nAlthough Hibernate-related (a JPA provider), I think these links are useful:\r\n\r\nhttp://docs.jboss.org/hibernate/core/4.0/devguide/en-US/html/ch03.html\r\n\r\nhttp://docs.jboss.org/hibernate/entitymanager/3.5/reference/en/html/architecture.html\r\n\r\nIn Java EE, a persistence context is normally accessed via an EntityManager.\r\n\r\nhttp://docs.oracle.com/javaee/6/api/javax/persistence/EntityManager.html\r\n\r\nThe various states an entity can have and the transitions between these are described below:\r\n\r\nhttp://docs.jboss.org/hibernate/entitymanager/3.6/reference/en/html/objectstate.html\r\n\r\nhttps://vladmihalcea.com/wp-content/uploads/2014/07/jpaentitystates.png\r\n","title":"What is Persistence Context?","body":"<p>A persistence context handles a set of entities which hold data to be persisted in some persistence store (e.g. a database). In particular, the context is aware of the different states an entity can have (e.g. managed, detached) in relation to both the context and the underlying persistence store.</p>\n<p>Although Hibernate-related (a JPA provider), I think these links are useful:</p>\n<p><a href=\"http://docs.jboss.org/hibernate/core/4.0/devguide/en-US/html/ch03.html\" rel=\"noreferrer\">http://docs.jboss.org/hibernate/core/4.0/devguide/en-US/html/ch03.html</a></p>\n<p><a href=\"http://docs.jboss.org/hibernate/entitymanager/3.5/reference/en/html/architecture.html\" rel=\"noreferrer\">http://docs.jboss.org/hibernate/entitymanager/3.5/reference/en/html/architecture.html</a></p>\n<p>In Java EE, a persistence context is normally accessed via an EntityManager.</p>\n<p><a href=\"http://docs.oracle.com/javaee/6/api/javax/persistence/EntityManager.html\" rel=\"noreferrer\">http://docs.oracle.com/javaee/6/api/javax/persistence/EntityManager.html</a></p>\n<p>The various states an entity can have and the transitions between these are described below:</p>\n<p><a href=\"http://docs.jboss.org/hibernate/entitymanager/3.6/reference/en/html/objectstate.html\" rel=\"noreferrer\">http://docs.jboss.org/hibernate/entitymanager/3.6/reference/en/html/objectstate.html</a></p>\n<p><a href=\"https://vladmihalcea.com/wp-content/uploads/2014/07/jpaentitystates.png\" rel=\"noreferrer\">https://vladmihalcea.com/wp-content/uploads/2014/07/jpaentitystates.png</a></p>\n"},{"tags":[],"owner":{"account_id":4212415,"reputation":101,"user_id":3449723,"display_name":"PLP"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1582019534,"creation_date":1395493549,"answer_id":22578005,"question_id":19930152,"body_markdown":"Both the `org.hibernate.Session` API and `javax.persistence.EntityManager` API represent a context for dealing with persistent data. \r\n\r\nThis concept is called a **persistence context**. Persistent data has a state in relation to both a persistence context and the underlying database.","title":"What is Persistence Context?","body":"<p>Both the <code>org.hibernate.Session</code> API and <code>javax.persistence.EntityManager</code> API represent a context for dealing with persistent data. </p>\n\n<p>This concept is called a <strong>persistence context</strong>. Persistent data has a state in relation to both a persistence context and the underlying database.</p>\n"},{"comments":[{"owner":{"account_id":394033,"reputation":10807,"user_id":756233,"accept_rate":71,"display_name":"Ray Hulha"},"score":1,"creation_date":1441102288,"post_id":29910860,"comment_id":52532083,"body_markdown":"I found that EclipseLink does not detach entities after a transaction is finished...","body":"I found that EclipseLink does not detach entities after a transaction is finished..."},{"owner":{"account_id":6220545,"reputation":1050,"user_id":4840296,"display_name":"pritam kumar"},"score":0,"creation_date":1441688142,"post_id":29910860,"comment_id":52761800,"body_markdown":"The container managed persistence context&#39;s cache will only remain for the duration of the transaction. Entities read in a transaction will become detached after the completion of the transaction and will require to be merged to be edited in subsequent transactions. [EclipseLink](https://eclipse.org/eclipselink/documentation/2.4/concepts/cache001.htm). @RayHulha","body":"The container managed persistence context&#39;s cache will only remain for the duration of the transaction. Entities read in a transaction will become detached after the completion of the transaction and will require to be merged to be edited in subsequent transactions. <a href=\"https://eclipse.org/eclipselink/documentation/2.4/concepts/cache001.htm\" rel=\"nofollow noreferrer\">EclipseLink</a>. @RayHulha"},{"owner":{"account_id":123192,"reputation":13668,"user_id":317522,"accept_rate":11,"display_name":"Paulo Merson"},"score":6,"creation_date":1455304407,"post_id":29910860,"comment_id":58446855,"body_markdown":"@pritamkumar, you explained well the concept of a persistence context. I&#39;d just add that there&#39;s also the javax.persistence.PersistenceContext annotation, which is used to inject an EntityManager object and establish the scope of the injected object (e.g., a transaction).","body":"@pritamkumar, you explained well the concept of a persistence context. I&#39;d just add that there&#39;s also the javax.persistence.PersistenceContext annotation, which is used to inject an EntityManager object and establish the scope of the injected object (e.g., a transaction)."},{"owner":{"display_name":"user7111260"},"score":0,"creation_date":1632468300,"post_id":29910860,"comment_id":122505007,"body_markdown":"so why isnt this an implementation detail and why do I have to manually specify my EntityManager to use a PersistenceContext ?","body":"so why isnt this an implementation detail and why do I have to manually specify my EntityManager to use a PersistenceContext ?"}],"tags":[],"owner":{"account_id":6220545,"reputation":1050,"user_id":4840296,"display_name":"pritam kumar"},"comment_count":4,"down_vote_count":0,"up_vote_count":89,"is_accepted":false,"score":89,"last_activity_date":1430198236,"creation_date":1430198236,"answer_id":29910860,"question_id":19930152,"body_markdown":" 1. Entities are managed by **javax.persistence.EntityManager** instance **using persistence context.**\r\n 2. Each **EntityManager** instance is associated with **a** ***persistence context***.\r\n 3.  Within the **persistence context**, the entity instances and their **lifecycle are managed.**\r\n 4. **Persistence context** defines a **scope** under which **particular** entity instances are created, persisted, and removed.\r\n 5. A **persistence context** is like a ***cache*** which contains a set of **persistent entities** , So once the **transaction is finished**, all persistent objects are detached from the **EntityManager&#39;s persistence context** and are no longer managed. ","title":"What is Persistence Context?","body":"<ol>\n<li>Entities are managed by <strong>javax.persistence.EntityManager</strong> instance <strong>using persistence context.</strong></li>\n<li>Each <strong>EntityManager</strong> instance is associated with <strong>a</strong> <strong><em>persistence context</em></strong>.</li>\n<li>Within the <strong>persistence context</strong>, the entity instances and their <strong>lifecycle are managed.</strong></li>\n<li><strong>Persistence context</strong> defines a <strong>scope</strong> under which <strong>particular</strong> entity instances are created, persisted, and removed.</li>\n<li>A <strong>persistence context</strong> is like a <strong><em>cache</em></strong> which contains a set of <strong>persistent entities</strong> , So once the <strong>transaction is finished</strong>, all persistent objects are detached from the <strong>EntityManager's persistence context</strong> and are no longer managed. </li>\n</ol>\n"},{"comments":[{"owner":{"account_id":6220545,"reputation":1050,"user_id":4840296,"display_name":"pritam kumar"},"score":0,"creation_date":1475520320,"post_id":37497514,"comment_id":66966283,"body_markdown":"Hi user2771889, You are right I didn&#39;t mention the extended scope of persistence context. 5th point was just related to transaction scoped persistence context.","body":"Hi user2771889, You are right I didn&#39;t mention the extended scope of persistence context. 5th point was just related to transaction scoped persistence context."}],"tags":[],"owner":{"account_id":3294293,"reputation":22407,"user_id":2771889,"accept_rate":90,"display_name":"thisismydesign"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1464428878,"creation_date":1464428878,"answer_id":37497514,"question_id":19930152,"body_markdown":"While @pritam kumar gives a good overview the 5th point is not true.\r\n\r\n&gt; Persistence Context can be either Transaction Scoped-- the Persistence\r\n&gt; Context &#39;lives&#39; for the length of the transaction, or Extended-- the\r\n&gt; Persistence Context spans multiple transactions.\r\n\r\nhttps://blogs.oracle.com/carolmcdonald/entry/jpa_caching\r\n\r\nJPA&#39;s EntityManager and Hibernate&#39;s Session offer an extended Persistence Context.","title":"What is Persistence Context?","body":"<p>While @pritam kumar gives a good overview the 5th point is not true.</p>\n\n<blockquote>\n  <p>Persistence Context can be either Transaction Scoped-- the Persistence\n  Context 'lives' for the length of the transaction, or Extended-- the\n  Persistence Context spans multiple transactions.</p>\n</blockquote>\n\n<p><a href=\"https://blogs.oracle.com/carolmcdonald/entry/jpa_caching\" rel=\"nofollow\">https://blogs.oracle.com/carolmcdonald/entry/jpa_caching</a></p>\n\n<p>JPA's EntityManager and Hibernate's Session offer an extended Persistence Context.</p>\n"},{"tags":[],"owner":{"account_id":1726740,"reputation":2422,"user_id":1581226,"accept_rate":62,"display_name":"qwerty"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1524556257,"creation_date":1488723430,"answer_id":42609449,"question_id":19930152,"body_markdown":"A **persistent context** represents the entities which hold data and are qualified to be persisted in some persistent storage like a database. Once we `commit` a transaction under a session which has these entities attached with, *Hibernate flushes the persistent context* and changes(**insert/save, update or delete**) on them are persisted in the persistent storage.","title":"What is Persistence Context?","body":"<p>A <strong>persistent context</strong> represents the entities which hold data and are qualified to be persisted in some persistent storage like a database. Once we <code>commit</code> a transaction under a session which has these entities attached with, <em>Hibernate flushes the persistent context</em> and changes(<strong>insert/save, update or delete</strong>) on them are persisted in the persistent storage.</p>\n"},{"comments":[{"owner":{"account_id":8936007,"reputation":1340,"user_id":6735277,"display_name":"Roberto"},"score":0,"creation_date":1549425454,"post_id":44119238,"comment_id":95893325,"body_markdown":"can one PersisnteceContext have any EntityManager instances?  And can one Entity Manager have any PersistenceContext?  PersisntenceContext is only one for all application?","body":"can one PersisnteceContext have any EntityManager instances?  And can one Entity Manager have any PersistenceContext?  PersisntenceContext is only one for all application?"}],"tags":[],"owner":{"account_id":1202806,"reputation":23223,"user_id":1173112,"accept_rate":89,"display_name":"Koray Tugay"},"comment_count":1,"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1495475795,"creation_date":1495475795,"answer_id":44119238,"question_id":19930152,"body_markdown":"Taken from [this][1] page:\r\n\r\nHere&#39;s a quick cheat sheet of the JPA world:\r\n\r\n- A Cache is a copy of data, copy meaning pulled from but living outside the database.\r\n- Flushing a Cache is the act of putting modified data back into the database.\r\n- A PersistenceContext is essentially a Cache. It also tends to have it&#39;s own non-shared database connection.\r\n- An EntityManager represents a PersistenceContext (and therefore a Cache)\r\n- An EntityManagerFactory creates an EntityManager (and therefore a PersistenceContext/Cache)\r\n\r\n  [1]: http://tomee.apache.org/jpa-concepts.html","title":"What is Persistence Context?","body":"<p>Taken from <a href=\"http://tomee.apache.org/jpa-concepts.html\" rel=\"noreferrer\">this</a> page:</p>\n\n<p>Here's a quick cheat sheet of the JPA world:</p>\n\n<ul>\n<li>A Cache is a copy of data, copy meaning pulled from but living outside the database.</li>\n<li>Flushing a Cache is the act of putting modified data back into the database.</li>\n<li>A PersistenceContext is essentially a Cache. It also tends to have it's own non-shared database connection.</li>\n<li>An EntityManager represents a PersistenceContext (and therefore a Cache)</li>\n<li>An EntityManagerFactory creates an EntityManager (and therefore a PersistenceContext/Cache)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2194812,"reputation":216,"user_id":1940801,"display_name":"Dhanushka"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1497601835,"creation_date":1497597584,"answer_id":44583163,"question_id":19930152,"body_markdown":"&quot;A set of persist-able  (entity) instances managed by an entity manager instance at a given time&quot; is called persistence context.\r\n\r\nJPA @Entity annotation indicates a persist-able entity.\r\n\r\nRefer JPA [Definition here][1]\r\n\r\n\r\n  [1]: https://docs.oracle.com/cd/E16439_01/doc.1013/e13981/undejbs003.htm","title":"What is Persistence Context?","body":"<p>\"A set of persist-able  (entity) instances managed by an entity manager instance at a given time\" is called persistence context.</p>\n\n<p>JPA @Entity annotation indicates a persist-able entity.</p>\n\n<p>Refer JPA <a href=\"https://docs.oracle.com/cd/E16439_01/doc.1013/e13981/undejbs003.htm\" rel=\"noreferrer\">Definition here</a></p>\n"},{"tags":[],"owner":{"account_id":8722418,"reputation":71,"user_id":6525132,"display_name":"AggarwalM"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1561821983,"creation_date":1561821983,"answer_id":56818723,"question_id":19930152,"body_markdown":"In layman terms we can say that Persistence Context is an environment where entities are managed, i.e it syncs &quot;Entity&quot; with the database.","title":"What is Persistence Context?","body":"<p>In layman terms we can say that Persistence Context is an environment where entities are managed, i.e it syncs \"Entity\" with the database.</p>\n"},{"comments":[{"owner":{"account_id":1735730,"reputation":1154,"user_id":1684254,"display_name":"Akin Okegbile"},"score":1,"creation_date":1591813955,"post_id":62310569,"comment_id":110202639,"body_markdown":"How is this answer different from the existing answers?","body":"How is this answer different from the existing answers?"}],"tags":[],"owner":{"account_id":18168330,"reputation":59,"user_id":13218455,"display_name":"neomatrix"},"comment_count":1,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1591813582,"creation_date":1591813582,"answer_id":62310569,"question_id":19930152,"body_markdown":"**Persistence Context** is an **environment** or **cache** where entity instances(which are capable of holding data and thereby having the ability to be persisted in a database) are managed by **Entity Manager**.It syncs the entity with database.All objects having **@Entity** annotation are capable of being persisted.\r\n**@Entity** is nothing but a class which helps us create objects in order to communicate with the database.And the way the objects communicate is using methods.And who supplies those methods is the Entity Manager.","title":"What is Persistence Context?","body":"<p><strong>Persistence Context</strong> is an <strong>environment</strong> or <strong>cache</strong> where entity instances(which are capable of holding data and thereby having the ability to be persisted in a database) are managed by <strong>Entity Manager</strong>.It syncs the entity with database.All objects having <strong>@Entity</strong> annotation are capable of being persisted.\n<strong>@Entity</strong> is nothing but a class which helps us create objects in order to communicate with the database.And the way the objects communicate is using methods.And who supplies those methods is the Entity Manager.</p>\n"},{"tags":[],"owner":{"account_id":28668469,"reputation":11,"user_id":22312395,"display_name":"AtomicLamb"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690787259,"creation_date":1690787259,"answer_id":76801356,"question_id":19930152,"body_markdown":"The persistence context is the first-level cache where all the entities are fetched from the database or saved to the database.","title":"What is Persistence Context?","body":"<p>The persistence context is the first-level cache where all the entities are fetched from the database or saved to the database.</p>\n"}],"owner":{"account_id":2744766,"reputation":2303,"user_id":2365416,"accept_rate":69,"display_name":"Amrit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140330,"favorite_count":0,"down_vote_count":0,"up_vote_count":142,"accepted_answer_id":19930480,"answer_count":10,"score":142,"last_activity_date":1690787259,"creation_date":1384261964,"question_id":19930152,"body_markdown":"I am new to the Java world and JPA. I was studying JPA and came across many new terms like Entity, persistence. While reading, I could not understand the exact definition for **Persistence Context**.\r\n\r\nCan anyone explain it in simple laymen terms? What is it to do with the data used in the `@Entity`?\r\n\r\nFor example, I find this definition too complicated to understand:\r\n&gt; A persistence context is a set of entities such that for any persistent identity there is a unique entity instance.","title":"What is Persistence Context?","body":"<p>I am new to the Java world and JPA. I was studying JPA and came across many new terms like Entity, persistence. While reading, I could not understand the exact definition for <strong>Persistence Context</strong>.</p>\n\n<p>Can anyone explain it in simple laymen terms? What is it to do with the data used in the <code>@Entity</code>?</p>\n\n<p>For example, I find this definition too complicated to understand:</p>\n\n<blockquote>\n  <p>A persistence context is a set of entities such that for any persistent identity there is a unique entity instance.</p>\n</blockquote>\n"},{"tags":["java","csv","inputstream"],"answers":[{"comments":[{"owner":{"account_id":8527565,"reputation":143,"user_id":6392522,"accept_rate":100,"display_name":"Robinson Wei"},"score":1,"creation_date":1692240411,"post_id":76801349,"comment_id":135597645,"body_markdown":"I see, thanks for the explain","body":"I see, thanks for the explain"}],"tags":[],"owner":{"account_id":2297045,"reputation":4337,"user_id":2018247,"display_name":"Martin Strejc"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690787199,"creation_date":1690787199,"answer_id":76801349,"question_id":76801269,"body_markdown":"In unit test phase you do not have files in JAR so the resource path is a valid URL and you can open such file. That&#39;s because there would be no sense to build JAR when tests were not passing. \r\n\r\nOnce it passes tests and JAR is built your resource path URL points to content of JAR like &#39;myapp.jar!data/file.csv&#39; that&#39;s unfortunately not a valid path to be opened by filereader.\r\n\r\nSo for a content fike of JAR you either need to use getResourceAsStream method of Classloader or open JAR with an JAR archiver (it&#39;s internally zip compression) and then you can load a file from there using a decompressor. ","title":"what is the difference between java filer loader and input stream reader from the JAR point of view","body":"<p>In unit test phase you do not have files in JAR so the resource path is a valid URL and you can open such file. That's because there would be no sense to build JAR when tests were not passing.</p>\n<p>Once it passes tests and JAR is built your resource path URL points to content of JAR like 'myapp.jar!data/file.csv' that's unfortunately not a valid path to be opened by filereader.</p>\n<p>So for a content fike of JAR you either need to use getResourceAsStream method of Classloader or open JAR with an JAR archiver (it's internally zip compression) and then you can load a file from there using a decompressor.</p>\n"}],"owner":{"account_id":8527565,"reputation":143,"user_id":6392522,"accept_rate":100,"display_name":"Robinson Wei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76801349,"answer_count":1,"score":1,"last_activity_date":1690787199,"creation_date":1690786277,"question_id":76801269,"body_markdown":"I have a need is to load a CSV file on a cron job, the file contains a list of ids. located in the resource folder. \r\n\r\nAt first I load it with a reader and a file path relative from the package to the file location. code is like:\r\n\r\n```\r\n            IdLoader.class.getClassLoader().getResource(&quot;ids.csv&quot;);\r\n```\r\n\r\nIt passed the local unit test loading. Yet when run it, the code build into a JAR file, and always give me an error with file can&#39;t be found. \r\n\r\nLater I switched to another approach using:\r\n\r\n```\r\n    public static final InputStream CSV_FILE_INPUT_STREAM =\r\n            IdLoader.class.getClassLoader().getResourceAsStream(&quot;ids.csv&quot;);\r\n\r\n```\r\n\r\nAnd after build, this make the code pass and load ids at runtime.\r\n\r\nWhat was the difference between the two approaches that made the first one passed and the second one fails?","title":"what is the difference between java filer loader and input stream reader from the JAR point of view","body":"<p>I have a need is to load a CSV file on a cron job, the file contains a list of ids. located in the resource folder.</p>\n<p>At first I load it with a reader and a file path relative from the package to the file location. code is like:</p>\n<pre><code>            IdLoader.class.getClassLoader().getResource(&quot;ids.csv&quot;);\n</code></pre>\n<p>It passed the local unit test loading. Yet when run it, the code build into a JAR file, and always give me an error with file can't be found.</p>\n<p>Later I switched to another approach using:</p>\n<pre><code>    public static final InputStream CSV_FILE_INPUT_STREAM =\n            IdLoader.class.getClassLoader().getResourceAsStream(&quot;ids.csv&quot;);\n\n</code></pre>\n<p>And after build, this make the code pass and load ids at runtime.</p>\n<p>What was the difference between the two approaches that made the first one passed and the second one fails?</p>\n"},{"tags":["java","spring","mapstruct"],"comments":[{"owner":{"account_id":1111053,"reputation":1359,"user_id":1101512,"accept_rate":78,"display_name":"Sudhir"},"score":0,"creation_date":1590419223,"post_id":62004694,"comment_id":109665534,"body_markdown":"This should work. Could you please add source code for &#39;BaseEntity&#39;, &#39;Customer&#39; and &#39;CustomerDTO&#39; classes to the question?","body":"This should work. Could you please add source code for &#39;BaseEntity&#39;, &#39;Customer&#39; and &#39;CustomerDTO&#39; classes to the question?"},{"owner":{"account_id":14975481,"reputation":13,"user_id":10811054,"display_name":"Nurlan Moldabekov"},"score":0,"creation_date":1590426057,"post_id":62004694,"comment_id":109668973,"body_markdown":"@Sudhir please check my update","body":"@Sudhir please check my update"},{"owner":{"account_id":8760742,"reputation":2047,"user_id":13527856,"display_name":"MarcoLucidi"},"score":0,"creation_date":1590427287,"post_id":62004694,"comment_id":109669570,"body_markdown":"does `CustomerDTO` have `id` and `uuid` fields?","body":"does <code>CustomerDTO</code> have <code>id</code> and <code>uuid</code> fields?"},{"owner":{"account_id":14975481,"reputation":13,"user_id":10811054,"display_name":"Nurlan Moldabekov"},"score":0,"creation_date":1590471411,"post_id":62004694,"comment_id":109683463,"body_markdown":"@MarcoLucidi yes, the same types and the same names","body":"@MarcoLucidi yes, the same types and the same names"}],"answers":[{"tags":[],"owner":{"account_id":1111053,"reputation":1359,"user_id":1101512,"accept_rate":78,"display_name":"Sudhir"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1590501222,"creation_date":1590501222,"answer_id":62023763,"question_id":62004694,"body_markdown":"I created a [sample repo](https://github.com/sudhirtumati/mapstruct-test) to demonstrate that everything works as expected. Please compare this with your code and see what is the difference.","title":"Mapstruct mapper with inheritence","body":"<p>I created a <a href=\"https://github.com/sudhirtumati/mapstruct-test\" rel=\"nofollow noreferrer\">sample repo</a> to demonstrate that everything works as expected. Please compare this with your code and see what is the difference.</p>\n"}],"owner":{"account_id":14975481,"reputation":13,"user_id":10811054,"display_name":"Nurlan Moldabekov"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":585,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690787124,"creation_date":1590417443,"question_id":62004694,"body_markdown":"I have a **BaseEntity** which has a child named **Customer**\r\nWhen I make mapper like this:\r\n\r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface CustomerMapper {\r\n\r\n        Customer toEntity(CustomerDTO model);\r\n\r\n        List&lt;Customer&gt; toEntityList(List&lt;CustomerDTO&gt; models);\r\n\r\n        CustomerDTO toModel(Customer entity);\r\n\r\n        List&lt;CustomerDTO&gt; toModelList(List&lt;Customer&gt; entities);\r\n\r\n    }\r\nBaseEntity fields are not mapped by Mapstruct automatically. Could you tell me please how to do it?\r\n\r\n**EDIT:**\r\n\r\nBaseEntity:\r\n\r\n    @MappedSuperclass\r\n    @Data\r\n    @EntityListeners(AuditingEntityListener.class)\r\n    public abstract class BaseEntity implements Serializable {\r\n\r\n        private static final long serialVersionUID = 698399842496839094L;\r\n\r\n        @EqualsAndHashCode.Include\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;sequenceGenerator&quot;)\r\n        @SequenceGenerator(name = &quot;sequenceGenerator&quot;)\r\n        protected Long id;\r\n\r\n\r\n        @Column(nullable = false, length = 36)\r\n        protected String uuid;\r\n    }\r\n\r\nCustomer:\r\n\r\n    @EqualsAndHashCode(callSuper = true)\r\n    @Entity\r\n    @Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\r\n    @Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\r\n    @Data\r\n    publi class Customer extends BaseEntity {\r\n\r\n        private static final long serialVersionUID = 7054669140361044232L;\r\n\r\n\r\n        @Column(length = 50, unique = true, nullable = false)\r\n        private String login;\r\n\r\n   \r\n        @Column(name = &quot;password_hash&quot;, nullable = false, length = 60)\r\n        private String password;\r\n    }\r\n","title":"Mapstruct mapper with inheritence","body":"<p>I have a <strong>BaseEntity</strong> which has a child named <strong>Customer</strong>\nWhen I make mapper like this:</p>\n\n<pre><code>@Mapper(componentModel = \"spring\")\npublic interface CustomerMapper {\n\n    Customer toEntity(CustomerDTO model);\n\n    List&lt;Customer&gt; toEntityList(List&lt;CustomerDTO&gt; models);\n\n    CustomerDTO toModel(Customer entity);\n\n    List&lt;CustomerDTO&gt; toModelList(List&lt;Customer&gt; entities);\n\n}\n</code></pre>\n\n<p>BaseEntity fields are not mapped by Mapstruct automatically. Could you tell me please how to do it?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>BaseEntity:</p>\n\n<pre><code>@MappedSuperclass\n@Data\n@EntityListeners(AuditingEntityListener.class)\npublic abstract class BaseEntity implements Serializable {\n\n    private static final long serialVersionUID = 698399842496839094L;\n\n    @EqualsAndHashCode.Include\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = \"sequenceGenerator\")\n    @SequenceGenerator(name = \"sequenceGenerator\")\n    protected Long id;\n\n\n    @Column(nullable = false, length = 36)\n    protected String uuid;\n}\n</code></pre>\n\n<p>Customer:</p>\n\n<pre><code>@EqualsAndHashCode(callSuper = true)\n@Entity\n@Inheritance(strategy = InheritanceType.TABLE_PER_CLASS)\n@Cache(usage = CacheConcurrencyStrategy.NONSTRICT_READ_WRITE)\n@Data\npubli class Customer extends BaseEntity {\n\n    private static final long serialVersionUID = 7054669140361044232L;\n\n\n    @Column(length = 50, unique = true, nullable = false)\n    private String login;\n\n\n    @Column(name = \"password_hash\", nullable = false, length = 60)\n    private String password;\n}\n</code></pre>\n"},{"tags":["java","merge","pdfbox","pdfa"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1690455420,"post_id":76776970,"comment_id":135357699,"body_markdown":"What PDFBox version are you using? PDFBox does some work trying to merge the two structure trees, what you do is to keep only one so you&#39;re losing the accessibility. It would be interesting to get the two source PDFs.","body":"What PDFBox version are you using? PDFBox does some work trying to merge the two structure trees, what you do is to keep only one so you&#39;re losing the accessibility. It would be interesting to get the two source PDFs."},{"owner":{"account_id":5608442,"reputation":987,"user_id":4442123,"accept_rate":100,"display_name":"LiefLayer"},"score":0,"creation_date":1690461401,"post_id":76776970,"comment_id":135359048,"body_markdown":"Sorry but I cannot share those files... I&#39;m using pdfbox version 2.0.28","body":"Sorry but I cannot share those files... I&#39;m using pdfbox version 2.0.28"}],"answers":[{"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1690533017,"post_id":76785949,"comment_id":135370050,"body_markdown":"I&#39;m skeptical of all this. THead and TBody are valid names. You should use Acrobat Professional or PDF-XCHange to see where these structures point to. Just replacing them with P means you&#39;re losing some accessibility.","body":"I&#39;m skeptical of all this. THead and TBody are valid names. You should use Acrobat Professional or PDF-XCHange to see where these structures point to. Just replacing them with P means you&#39;re losing some accessibility."},{"owner":{"account_id":5608442,"reputation":987,"user_id":4442123,"accept_rate":100,"display_name":"LiefLayer"},"score":0,"creation_date":1690534070,"post_id":76785949,"comment_id":135370257,"body_markdown":"@TilmanHausherr I can assure you that this validator https://avepdf.com/pdfa-validation that I need to use will complain about &quot;Non-standard structure type is not mapped to any functionally equivalent standard type.&quot; and will point to THead and TBody and when I replace them the validator will not complain. I&#39;m not sure why, but I could not find another solution.","body":"@TilmanHausherr I can assure you that this validator <a href=\"https://avepdf.com/pdfa-validation\" rel=\"nofollow noreferrer\">avepdf.com/pdfa-validation</a> that I need to use will complain about &quot;Non-standard structure type is not mapped to any functionally equivalent standard type.&quot; and will point to THead and TBody and when I replace them the validator will not complain. I&#39;m not sure why, but I could not find another solution."},{"owner":{"account_id":5608442,"reputation":987,"user_id":4442123,"accept_rate":100,"display_name":"LiefLayer"},"score":0,"creation_date":1690534200,"post_id":76785949,"comment_id":135370294,"body_markdown":"also for me it would be so much easier if it would not complain about that... after all everything else was working... I had to make this question for this reason and nobody tried to answer it, so I had to create an answer myself. you can disagree, but this is my own solution to my own question.","body":"also for me it would be so much easier if it would not complain about that... after all everything else was working... I had to make this question for this reason and nobody tried to answer it, so I had to create an answer myself. you can disagree, but this is my own solution to my own question."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":2,"creation_date":1690554133,"post_id":76785949,"comment_id":135374359,"body_markdown":"@Tilman is right to mention that **THead** and **TBody** are standard structure types. But they are so with the requirement &quot;Internal to a **Table** structure&quot;, so maybe in the former merge result some **THead** and **TBody** tags ended up outside of a **Table** which the validator communicated in a somewhat misleading manner. But this is pure guesswork. To really help we&#39;d need a way to reproduce the issue, including example PDFs.","body":"@Tilman is right to mention that <b>THead</b> and <b>TBody</b> are standard structure types. But they are so with the requirement &quot;Internal to a <b>Table</b> structure&quot;, so maybe in the former merge result some <b>THead</b> and <b>TBody</b> tags ended up outside of a <b>Table</b> which the validator communicated in a somewhat misleading manner. But this is pure guesswork. To really help we&#39;d need a way to reproduce the issue, including example PDFs."},{"owner":{"account_id":5608442,"reputation":987,"user_id":4442123,"accept_rate":100,"display_name":"LiefLayer"},"score":0,"creation_date":1690557670,"post_id":76785949,"comment_id":135375173,"body_markdown":"@mkl I cannot provide an example since the pdf that I use it&#39;s not mine. Also I don&#39;t know how to create a new example with the same structure but without that informations. Still I used PDF-XChange like Tilman suggested and the THead and TBody are used inside a Table tag. I tried a lot today but I will need to focus on another project from monday so I think I will stay with my solution... For everyone else is still a good way to know how to replace a tag in any pdf with pdfbox, still not something I found in any other stackoverflow answer.","body":"@mkl I cannot provide an example since the pdf that I use it&#39;s not mine. Also I don&#39;t know how to create a new example with the same structure but without that informations. Still I used PDF-XChange like Tilman suggested and the THead and TBody are used inside a Table tag. I tried a lot today but I will need to focus on another project from monday so I think I will stay with my solution... For everyone else is still a good way to know how to replace a tag in any pdf with pdfbox, still not something I found in any other stackoverflow answer."},{"owner":{"account_id":5608442,"reputation":987,"user_id":4442123,"accept_rate":100,"display_name":"LiefLayer"},"score":0,"creation_date":1690785826,"post_id":76785949,"comment_id":135395957,"body_markdown":"@TilmanHausherr I found an alternative (and better) solution. Just avoid using mergeDocuments and use appendDocument instead. That&#39;s what solved my problem without the need to replace THead/TBody. Still not sure why the mergeDocuments result is wrong, but the appendDocument got THead and TBody and still pass the validator. I&#39;ll still keep both answer here so that if someone need to replace some tag for any other reason there is a solution for that too.","body":"@TilmanHausherr I found an alternative (and better) solution. Just avoid using mergeDocuments and use appendDocument instead. That&#39;s what solved my problem without the need to replace THead/TBody. Still not sure why the mergeDocuments result is wrong, but the appendDocument got THead and TBody and still pass the validator. I&#39;ll still keep both answer here so that if someone need to replace some tag for any other reason there is a solution for that too."},{"owner":{"account_id":5608442,"reputation":987,"user_id":4442123,"accept_rate":100,"display_name":"LiefLayer"},"score":0,"creation_date":1690785856,"post_id":76785949,"comment_id":135395966,"body_markdown":"@mkl I found an alternative (and better) solution. Just avoid using mergeDocuments and use appendDocument instead. That&#39;s what solved my problem without the need to replace THead/TBody. Still not sure why the mergeDocuments result is wrong, but the appendDocument got THead and TBody and still pass the validator. I&#39;ll still keep both answer here so that if someone need to replace some tag for any other reason there is a solution for that too.","body":"@mkl I found an alternative (and better) solution. Just avoid using mergeDocuments and use appendDocument instead. That&#39;s what solved my problem without the need to replace THead/TBody. Still not sure why the mergeDocuments result is wrong, but the appendDocument got THead and TBody and still pass the validator. I&#39;ll still keep both answer here so that if someone need to replace some tag for any other reason there is a solution for that too."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1690805107,"post_id":76785949,"comment_id":135399504,"body_markdown":"Great! It&#39;s a pity, though, that you cannot share the pdfs. Tilman surely would like to fix the merger utility.","body":"Great! It&#39;s a pity, though, that you cannot share the pdfs. Tilman surely would like to fix the merger utility."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1690876886,"post_id":76785949,"comment_id":135410576,"body_markdown":"`mergeDocuments()` calls `appendDocument()` when using legacy mode which is the default.","body":"<code>mergeDocuments()</code> calls <code>appendDocument()</code> when using legacy mode which is the default."}],"tags":[],"owner":{"account_id":5608442,"reputation":987,"user_id":4442123,"accept_rate":100,"display_name":"LiefLayer"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690785578,"creation_date":1690531997,"answer_id":76785949,"question_id":76776970,"body_markdown":"Ok... this was really tough.\r\nFor the first time I had to get help from an chatgpt, but it was still not enough because of course the AI was not able to create large amount of working code, each time I had to make corrections, it was still a good help to translate what I had in mind with code samples (a kind of protocode).\r\nAnyway the most important thing that I had to understand is that it was not possible to solve my problem by cloning the StructureTreeRoot (but that&#39;s in my edit) so I deleted that part of my code, no reason to keep it.\r\nI did not understand how to avoid the creation of THead or TBody.\r\nSo the only thing that I could do was to replace every single one of them with a standard alternative like P.\r\n\r\nThe first problem was how to get the root in a way that I could iterate on it. To understand that I started by debugging my tree and access it manually until I reached a THead... I had some direction thanks to the structure that I could read with Visual Studio Code inside of the generated PDF. The AI was a little help here to understand how to access some variables that were protected and that I could only access in debug mode.\r\n\r\n    COSDictionary catalogDict = doc2.getDocumentCatalog().getCOSObject();\r\n    COSObject structTreeRootRef = (COSObject) catalogDict.getItem(COSName.STRUCT_TREE_ROOT);\r\n    COSDictionary structTreeRootDict = (COSDictionary) structTreeRootRef.getObject();\r\n    COSBase result = structTreeRootDict.getItem(COSName.K);\r\n    COSDictionary dict1 = result instanceof COSObject ? (COSDictionary) ((COSObject) result).getObject() : null;\r\n    //this\r\n    COSArray array = result instanceof COSArray ? (COSArray) result : new COSArray();\r\n    //or\r\n    COSBase result1 = dict1.getItem(COSName.K);\r\n    COSArray array = result1 instanceof COSArray ? (COSArray) result1 : new COSArray();\r\n\r\nI don&#39;t have the original code but basically after this first part I just did a get(i) because I knew each node that I needed to get and finally\r\n\r\n    subDict.setItem(COSName.S, COSName.getPDFName(&quot;P&quot;));\r\n\r\nOf course that was already working code (and that was great since to get to that point I had to learn how to access the pdf tree and pdfbox is not intuitive on that end at all) but of course I was not done because my solution was working only for two pdf/a of my own example. So I decided to turn the get(i) in for loops. Better but still not a great solution because when I tried another pdf where my THead and TBody where one layer deeper I had to add another for loop inside to make it working again... and of course the performance were not great.\r\nThat&#39;s where chatgpt helped again by presenting a recursive alternative (the solution was trivial but honestly said it hadn&#39;t occurred to me at all)... I still had to correct the code a lot but in the end the correct solution was this:\r\n\r\n        COSDictionary catalogDict = doc2.getDocumentCatalog().getCOSObject();\r\n        COSObject structTreeRootRef = (COSObject) catalogDict.getItem(COSName.STRUCT_TREE_ROOT);\r\n        COSDictionary structTreeRootDict = (COSDictionary) structTreeRootRef.getObject();\r\n        COSName newName = COSName.getPDFName(&quot;P&quot;);\r\n\r\n        updateStructureTree(structTreeRootDict, newName);\r\n\r\nrecursive Method:\r\n\r\n    private static void updateStructureTree(COSDictionary dict, COSName newName) {\r\n        COSBase result = dict.getItem(COSName.K);\r\n        COSDictionary dict1 = result instanceof COSObject ? (COSDictionary) ((COSObject) result).getObject() : null;\r\n\r\n        if(dict1 != null){\r\n            COSBase result1 = dict1.getItem(COSName.K);\r\n            COSArray array = result1 instanceof COSArray ? (COSArray) result1 : new COSArray();\r\n\r\n            for (COSBase resultItem : array) {\r\n                COSDictionary subDict = resultItem instanceof COSObject ?\r\n                        (COSDictionary) ((COSObject) resultItem).getObject() :\r\n                        new COSDictionary();\r\n\r\n                if (subDict.getItem(COSName.S) != null &amp;&amp;\r\n                        (subDict.getItem(COSName.S).equals(COSName.getPDFName(&quot;THead&quot;)) ||\r\n                                subDict.getItem(COSName.S).equals(COSName.getPDFName(&quot;TBody&quot;)))) {\r\n                    subDict.setItem(COSName.S, newName);\r\n                }\r\n\r\n                updateStructureTree(subDict, newName);\r\n            }\r\n        }else{\r\n            COSArray array = result instanceof COSArray ? (COSArray) result : new COSArray();\r\n\r\n            for (COSBase resultItem : array) {\r\n                COSDictionary subDict = resultItem instanceof COSObject ?\r\n                        (COSDictionary) ((COSObject) resultItem).getObject() :\r\n                        new COSDictionary();\r\n\r\n                if (subDict.getItem(COSName.S) != null &amp;&amp;\r\n                        (subDict.getItem(COSName.S).equals(COSName.getPDFName(&quot;THead&quot;)) ||\r\n                                subDict.getItem(COSName.S).equals(COSName.getPDFName(&quot;TBody&quot;)))) {\r\n                    subDict.setItem(COSName.S, newName);\r\n                }\r\n\r\n                updateStructureTree(subDict, newName);\r\n            }\r\n        }\r\n    }\r\n\r\nPS I found an alternative:\r\njust create a List&lt;File&gt; and\r\n\r\n    mergerUtility.setDocumentMergeMode(PDFMergerUtility.DocumentMergeMode.OPTIMIZE_RESOURCES_MODE);\r\n    for (int i = 1; i &lt; lists.size(); i++) {\r\n        PDDocument currentDoc = PDDocument.load(lists.get(i));\r\n\r\n        mergerUtility.appendDocument(docC, currentDoc);\r\n    }\r\n\r\nand save your new docs... Using appendDocument instead of mergeDocuments will not invalidate a PDF/A even if it got THead and TBody... and it will also not change the header version.","title":"Merge two PDF/A result should be a valid PDF/A too pdfbox","body":"<p>Ok... this was really tough.\nFor the first time I had to get help from an chatgpt, but it was still not enough because of course the AI was not able to create large amount of working code, each time I had to make corrections, it was still a good help to translate what I had in mind with code samples (a kind of protocode).\nAnyway the most important thing that I had to understand is that it was not possible to solve my problem by cloning the StructureTreeRoot (but that's in my edit) so I deleted that part of my code, no reason to keep it.\nI did not understand how to avoid the creation of THead or TBody.\nSo the only thing that I could do was to replace every single one of them with a standard alternative like P.</p>\n<p>The first problem was how to get the root in a way that I could iterate on it. To understand that I started by debugging my tree and access it manually until I reached a THead... I had some direction thanks to the structure that I could read with Visual Studio Code inside of the generated PDF. The AI was a little help here to understand how to access some variables that were protected and that I could only access in debug mode.</p>\n<pre><code>COSDictionary catalogDict = doc2.getDocumentCatalog().getCOSObject();\nCOSObject structTreeRootRef = (COSObject) catalogDict.getItem(COSName.STRUCT_TREE_ROOT);\nCOSDictionary structTreeRootDict = (COSDictionary) structTreeRootRef.getObject();\nCOSBase result = structTreeRootDict.getItem(COSName.K);\nCOSDictionary dict1 = result instanceof COSObject ? (COSDictionary) ((COSObject) result).getObject() : null;\n//this\nCOSArray array = result instanceof COSArray ? (COSArray) result : new COSArray();\n//or\nCOSBase result1 = dict1.getItem(COSName.K);\nCOSArray array = result1 instanceof COSArray ? (COSArray) result1 : new COSArray();\n</code></pre>\n<p>I don't have the original code but basically after this first part I just did a get(i) because I knew each node that I needed to get and finally</p>\n<pre><code>subDict.setItem(COSName.S, COSName.getPDFName(&quot;P&quot;));\n</code></pre>\n<p>Of course that was already working code (and that was great since to get to that point I had to learn how to access the pdf tree and pdfbox is not intuitive on that end at all) but of course I was not done because my solution was working only for two pdf/a of my own example. So I decided to turn the get(i) in for loops. Better but still not a great solution because when I tried another pdf where my THead and TBody where one layer deeper I had to add another for loop inside to make it working again... and of course the performance were not great.\nThat's where chatgpt helped again by presenting a recursive alternative (the solution was trivial but honestly said it hadn't occurred to me at all)... I still had to correct the code a lot but in the end the correct solution was this:</p>\n<pre><code>    COSDictionary catalogDict = doc2.getDocumentCatalog().getCOSObject();\n    COSObject structTreeRootRef = (COSObject) catalogDict.getItem(COSName.STRUCT_TREE_ROOT);\n    COSDictionary structTreeRootDict = (COSDictionary) structTreeRootRef.getObject();\n    COSName newName = COSName.getPDFName(&quot;P&quot;);\n\n    updateStructureTree(structTreeRootDict, newName);\n</code></pre>\n<p>recursive Method:</p>\n<pre><code>private static void updateStructureTree(COSDictionary dict, COSName newName) {\n    COSBase result = dict.getItem(COSName.K);\n    COSDictionary dict1 = result instanceof COSObject ? (COSDictionary) ((COSObject) result).getObject() : null;\n\n    if(dict1 != null){\n        COSBase result1 = dict1.getItem(COSName.K);\n        COSArray array = result1 instanceof COSArray ? (COSArray) result1 : new COSArray();\n\n        for (COSBase resultItem : array) {\n            COSDictionary subDict = resultItem instanceof COSObject ?\n                    (COSDictionary) ((COSObject) resultItem).getObject() :\n                    new COSDictionary();\n\n            if (subDict.getItem(COSName.S) != null &amp;&amp;\n                    (subDict.getItem(COSName.S).equals(COSName.getPDFName(&quot;THead&quot;)) ||\n                            subDict.getItem(COSName.S).equals(COSName.getPDFName(&quot;TBody&quot;)))) {\n                subDict.setItem(COSName.S, newName);\n            }\n\n            updateStructureTree(subDict, newName);\n        }\n    }else{\n        COSArray array = result instanceof COSArray ? (COSArray) result : new COSArray();\n\n        for (COSBase resultItem : array) {\n            COSDictionary subDict = resultItem instanceof COSObject ?\n                    (COSDictionary) ((COSObject) resultItem).getObject() :\n                    new COSDictionary();\n\n            if (subDict.getItem(COSName.S) != null &amp;&amp;\n                    (subDict.getItem(COSName.S).equals(COSName.getPDFName(&quot;THead&quot;)) ||\n                            subDict.getItem(COSName.S).equals(COSName.getPDFName(&quot;TBody&quot;)))) {\n                subDict.setItem(COSName.S, newName);\n            }\n\n            updateStructureTree(subDict, newName);\n        }\n    }\n}\n</code></pre>\n<p>PS I found an alternative:\njust create a List and</p>\n<pre><code>mergerUtility.setDocumentMergeMode(PDFMergerUtility.DocumentMergeMode.OPTIMIZE_RESOURCES_MODE);\nfor (int i = 1; i &lt; lists.size(); i++) {\n    PDDocument currentDoc = PDDocument.load(lists.get(i));\n\n    mergerUtility.appendDocument(docC, currentDoc);\n}\n</code></pre>\n<p>and save your new docs... Using appendDocument instead of mergeDocuments will not invalidate a PDF/A even if it got THead and TBody... and it will also not change the header version.</p>\n"}],"owner":{"account_id":5608442,"reputation":987,"user_id":4442123,"accept_rate":100,"display_name":"LiefLayer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":125,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76785949,"answer_count":1,"score":0,"last_activity_date":1690785578,"creation_date":1690438724,"question_id":76776970,"body_markdown":"I&#39;m using pdfbox to merge two PDF/A\r\n\r\nRight now my code look like this:\r\n\r\n        PDFMergerUtility mergerUtility = new PDFMergerUtility();\r\n\r\n        File file = new File(&quot;example/c.pdf&quot;);\r\n\r\n        mergerUtility.addSource(new File(&quot;example/a.pdf&quot;));\r\n        mergerUtility.addSource(new File(&quot;example/b.pdf&quot;));\r\n\r\n        mergerUtility.setDestinationFileName(file.getAbsolutePath());\r\n\r\n        try {\r\n            mergerUtility.mergeDocuments(MemoryUsageSetting.setupMainMemoryOnly());\r\n        } catch (IOException ex) {\r\n            throw new RuntimeException(&quot;Unable to merge&quot;, ex);\r\n        }\r\n\r\n        File inputFile = new File(&quot;example/c.pdf&quot;);\r\n        PDDocument doc = PDDocument.load(inputFile);\r\n\r\n        File orig = new File(&quot;example/a.pdf&quot;);\r\n        PDDocument origDoc = PDDocument.load(orig);\r\n        File orig2 = new File(&quot;example/b.pdf&quot;);\r\n        PDDocument orig2Doc = PDDocument.load(orig2);\r\n        PDStructureTreeRoot treeRoot = origDoc.getDocumentCatalog().getStructureTreeRoot();\r\n        PDStructureTreeRoot treeRoot2 = orig2Doc.getDocumentCatalog().getStructureTreeRoot();\r\n        treeRoot.setKids(treeRoot2.getKids());\r\n        doc.getDocumentCatalog().setStructureTreeRoot(treeRoot);\r\n\r\n        List&lt;PDOutputIntent&gt; outputIntents=new ArrayList&lt;&gt;();\r\n        outputIntents.add(doc.getDocumentCatalog().getOutputIntents().get(0));\r\n        doc.getDocumentCatalog().setOutputIntents(outputIntents);\r\n        doc.save(&quot;example/d.pdf&quot;);\r\n        doc.close();\r\n\r\nby setting OutputIntent the same as the first page (so that d.pdf got only one) I already solved a lot of problems... the last problem that I got (only on this validator https://avepdf.com/pdfa-validation ) was 4:\r\n\r\n&quot;Non-standard structure type is not mapped to any functionally equivalent standard type.&quot;\r\n\r\nI was able to identify them and they are due to the use of &quot;THead&quot; and &quot;TBody&quot; on my result (generated by pdfbox).\r\n\r\nI was able to cut that error in half (now I only got 2 &quot;Non-standard structure type is not mapped to any functionally equivalent standard type.&quot;) by using the same StructureTreeRoot as one of the original file (that&#39;s the &quot;final&quot; code that you can see, still not able to get a valid PDF/A from a merge of two PDF/A)... but I don&#39;t know how to merge those two StructureTreeRoot or if that&#39;s even the real solution (maybe there is a way to tell pdfbox just to avoid using THead and TBody instead).\r\n\r\nThe result is already good as it pass most pdf/a validator out there, I just need that it pass also that validator (since it is the one used by the company I work for)... Also I don&#39;t think the validator is to blame since both input files pass as valid PDF/A file.\r\n\r\nGot any ideas?\r\n\r\nPS. I found a way to merge the two PDStructureTreeRoot still not working... but I updated the code. adding\r\n\r\n    PDStructureTreeRoot treeRoot2 = orig2Doc.getDocumentCatalog().getStructureTreeRoot();\r\n    treeRoot.setKids(treeRoot2.getKids());","title":"Merge two PDF/A result should be a valid PDF/A too pdfbox","body":"<p>I'm using pdfbox to merge two PDF/A</p>\n<p>Right now my code look like this:</p>\n<pre><code>    PDFMergerUtility mergerUtility = new PDFMergerUtility();\n\n    File file = new File(&quot;example/c.pdf&quot;);\n\n    mergerUtility.addSource(new File(&quot;example/a.pdf&quot;));\n    mergerUtility.addSource(new File(&quot;example/b.pdf&quot;));\n\n    mergerUtility.setDestinationFileName(file.getAbsolutePath());\n\n    try {\n        mergerUtility.mergeDocuments(MemoryUsageSetting.setupMainMemoryOnly());\n    } catch (IOException ex) {\n        throw new RuntimeException(&quot;Unable to merge&quot;, ex);\n    }\n\n    File inputFile = new File(&quot;example/c.pdf&quot;);\n    PDDocument doc = PDDocument.load(inputFile);\n\n    File orig = new File(&quot;example/a.pdf&quot;);\n    PDDocument origDoc = PDDocument.load(orig);\n    File orig2 = new File(&quot;example/b.pdf&quot;);\n    PDDocument orig2Doc = PDDocument.load(orig2);\n    PDStructureTreeRoot treeRoot = origDoc.getDocumentCatalog().getStructureTreeRoot();\n    PDStructureTreeRoot treeRoot2 = orig2Doc.getDocumentCatalog().getStructureTreeRoot();\n    treeRoot.setKids(treeRoot2.getKids());\n    doc.getDocumentCatalog().setStructureTreeRoot(treeRoot);\n\n    List&lt;PDOutputIntent&gt; outputIntents=new ArrayList&lt;&gt;();\n    outputIntents.add(doc.getDocumentCatalog().getOutputIntents().get(0));\n    doc.getDocumentCatalog().setOutputIntents(outputIntents);\n    doc.save(&quot;example/d.pdf&quot;);\n    doc.close();\n</code></pre>\n<p>by setting OutputIntent the same as the first page (so that d.pdf got only one) I already solved a lot of problems... the last problem that I got (only on this validator <a href=\"https://avepdf.com/pdfa-validation\" rel=\"nofollow noreferrer\">https://avepdf.com/pdfa-validation</a> ) was 4:</p>\n<p>&quot;Non-standard structure type is not mapped to any functionally equivalent standard type.&quot;</p>\n<p>I was able to identify them and they are due to the use of &quot;THead&quot; and &quot;TBody&quot; on my result (generated by pdfbox).</p>\n<p>I was able to cut that error in half (now I only got 2 &quot;Non-standard structure type is not mapped to any functionally equivalent standard type.&quot;) by using the same StructureTreeRoot as one of the original file (that's the &quot;final&quot; code that you can see, still not able to get a valid PDF/A from a merge of two PDF/A)... but I don't know how to merge those two StructureTreeRoot or if that's even the real solution (maybe there is a way to tell pdfbox just to avoid using THead and TBody instead).</p>\n<p>The result is already good as it pass most pdf/a validator out there, I just need that it pass also that validator (since it is the one used by the company I work for)... Also I don't think the validator is to blame since both input files pass as valid PDF/A file.</p>\n<p>Got any ideas?</p>\n<p>PS. I found a way to merge the two PDStructureTreeRoot still not working... but I updated the code. adding</p>\n<pre><code>PDStructureTreeRoot treeRoot2 = orig2Doc.getDocumentCatalog().getStructureTreeRoot();\ntreeRoot.setKids(treeRoot2.getKids());\n</code></pre>\n"},{"tags":["java","c#","oauth-2.0","dynamics-crm","microsoft-oauth"],"comments":[{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1690673357,"post_id":76795743,"comment_id":135386644,"body_markdown":"See https://learn.microsoft.com/en-us/connectors/custom-connectors/troubleshoot-oauth2  Using Powershell can help troubleshoot OAUTH issues : https://www.mistercloudtech.com/2022/02/28/how-to-fix-create-powershell-session-is-failed-using-oauth-exo-v2-powershell-error/ and https://learn.microsoft.com/en-us/answers/questions/204156/connect-exchangeonline-(oath-fun)","body":"See <a href=\"https://learn.microsoft.com/en-us/connectors/custom-connectors/troubleshoot-oauth2\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/connectors/custom-connectors/&hellip;</a>  Using Powershell can help troubleshoot OAUTH issues : <a href=\"https://www.mistercloudtech.com/2022/02/28/how-to-fix-create-powershell-session-is-failed-using-oauth-exo-v2-powershell-error/\" rel=\"nofollow noreferrer\">mistercloudtech.com/2022/02/28/&hellip;</a> and <a href=\"https://learn.microsoft.com/en-us/answers/questions/204156/connect-exchangeonline-(oath-fun)\" rel=\"nofollow noreferrer\" title=\"connect exchangeonline (oath fun)\">learn.microsoft.com/en-us/answers/questions/204156/&hellip;</a>"},{"owner":{"account_id":959721,"reputation":4591,"user_id":984349,"accept_rate":60,"display_name":"Claudio Ferraro"},"score":0,"creation_date":1690674295,"post_id":76795743,"comment_id":135386713,"body_markdown":"Thank You for the links. I followed all the information anyway something seems to be wrong in the behavior of the resource server. Where does the resource server take the information that the token must be verified on the login endpoint and not on the authorize endpoint.","body":"Thank You for the links. I followed all the information anyway something seems to be wrong in the behavior of the resource server. Where does the resource server take the information that the token must be verified on the login endpoint and not on the authorize endpoint."},{"owner":{"account_id":6156307,"reputation":33584,"user_id":5015238,"display_name":"jdweng"},"score":0,"creation_date":1690703374,"post_id":76795743,"comment_id":135388338,"body_markdown":"There is more than one type of authentication.  See https://learn.microsoft.com/en-us/aspnet/core/security/authentication/?view=aspnetcore-7.0","body":"There is more than one type of authentication.  See <a href=\"https://learn.microsoft.com/en-us/aspnet/core/security/authentication/?view=aspnetcore-7.0\" rel=\"nofollow noreferrer\">learn.microsoft.com/en-us/aspnet/core/security/authenticatio&zwnj;&#8203;n/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":959721,"reputation":4591,"user_id":984349,"accept_rate":60,"display_name":"Claudio Ferraro"},"score":0,"creation_date":1690981027,"post_id":76801191,"comment_id":135428272,"body_markdown":"what do You mean with the one present in the token ?","body":"what do You mean with the one present in the token ?"},{"owner":{"account_id":1465269,"reputation":10929,"user_id":1712294,"display_name":"Michal Trojanowski"},"score":0,"creation_date":1691398463,"post_id":76801191,"comment_id":135480894,"body_markdown":"I understood that the `authorization_uri` ends up as a claim in the access token, but maybe I&#39;m mistaken. Anyway, I read the error message that the server expected a token initiated with the authorization code flow but you sent a token issued with the client credentials flow.","body":"I understood that the <code>authorization_uri</code> ends up as a claim in the access token, but maybe I&#39;m mistaken. Anyway, I read the error message that the server expected a token initiated with the authorization code flow but you sent a token issued with the client credentials flow."}],"tags":[],"owner":{"account_id":1465269,"reputation":10929,"user_id":1712294,"display_name":"Michal Trojanowski"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690785538,"creation_date":1690785538,"answer_id":76801191,"question_id":76795743,"body_markdown":"My guess is that the resource server you&#39;re calling does not allow client credential access tokens. It probably requires a user to be a subject of the token, not your service. This could explain the error message. The server expects that the endpoint for the authorization code request is the one present in the token. You have the token endpoint (which is used in the client credentials flow).","title":"OAuth. Resource server uses the wrong Authentication URI (Bearer error=invalid_token)","body":"<p>My guess is that the resource server you're calling does not allow client credential access tokens. It probably requires a user to be a subject of the token, not your service. This could explain the error message. The server expects that the endpoint for the authorization code request is the one present in the token. You have the token endpoint (which is used in the client credentials flow).</p>\n"}],"owner":{"account_id":959721,"reputation":4591,"user_id":984349,"accept_rate":60,"display_name":"Claudio Ferraro"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76801191,"answer_count":1,"score":0,"last_activity_date":1690785538,"creation_date":1690671680,"question_id":76795743,"body_markdown":"In a service-to-service oauth communication, I&#39;m trying to send a token request to an external Oauth Token Endpoint and to use the token as a Bearer for a Microsoft solution (Dynamics CRM v.9.1 On-Premises).\r\nThe platform used should not be so relevant since we are talking about OAuth which is an RFC documented protocol\r\nThe code I used so far to get the token and to make the request to the Resource Server with the Bearer is the one pasted below.\r\n\r\nWhen I make the request to the Resource server i get the following error.\r\n\r\n    Bearer error=invalid_token, error_description=Error during token validation!, \r\n    authorization_uri=https://mytokenserver/login, \r\n    resource_id=https://myresourceserver/\r\n\r\nThe problem in the response is that it shows an &quot;authorization_uri&quot; which is **https://mytokenserver/login** , which is wrong. My authorization uri is : **https://mytokenserver/oauth2/authorize**\r\n\r\nI wasn&#39;t able to find any setting in the microsoft crm platform so my best guess is that I&#39;m generating a wrong Assertion JWT in the code below.\r\n\r\nAny experience with that ? (just a small detail, the oauth token server is written in java)\r\n\r\n\r\n        static private string clientId     = &quot;rb7ddjkjWd8djkjlk&quot;;\r\n        static private string pfxFile      = &quot;C:\\\\keystore.p12&quot;;\r\n        static private string pass         = &quot;blabla&quot;;\r\n        static private string authorityUri = &quot;https://mytokenserver/oauth2/token&quot;;\r\n\r\n        static private Uri environmentUri  = new Uri(&quot;https://myresourceserver/api/data/v9.1&quot;);\r\n\r\n        static async Task&lt;string&gt; RequestTokenAndSendRequestToResourceServerAsync()\r\n        {\r\n            if (tokenCache != &quot;&quot;)\r\n                return tokenCache;\r\n\r\n            var client = new HttpClient();\r\n\r\n            var clientToken = GetJwtToken(pfxFile, pass, clientId, authorityUri, 180);\r\n\r\n            Console.WriteLine(&quot;JWT Token is: &quot; + clientToken);\r\n\r\n            Parameters parameters = new Parameters\r\n            {\r\n                new KeyValuePair&lt;string, string&gt;(&quot;audience&quot;, clientId),\r\n                new KeyValuePair&lt;string, string&gt;(&quot;requested_token_type&quot;, &quot;urn:ietf:params:oauth:token-type:access_token&quot;)\r\n            };\r\n            ClientCredentialsTokenRequest clientCredentialsRequest = new ClientCredentialsTokenRequest\r\n            {\r\n                Parameters = parameters,\r\n                GrantType = OidcConstants.GrantTypes.ClientCredentials,\r\n                Address = authorityUri,\r\n                ClientAssertion =\r\n                {\r\n                    Type = OidcConstants.ClientAssertionTypes.JwtBearer,\r\n                    Value = clientToken\r\n                }\r\n            };\r\n            clientCredentialsRequest.ClientCredentialStyle = ClientCredentialStyle.PostBody;\r\n            var response = await client.RequestClientCredentialsTokenAsync(clientCredentialsRequest);\r\n\r\n            if (response.IsError)\r\n            { \r\n                Console.WriteLine(response.HttpStatusCode);\r\n                Console.WriteLine(response.ErrorDescription);\r\n                Console.WriteLine(response.ErrorType.ToString());\r\n                throw response.Exception;\r\n            }\r\n            Console.WriteLine(&quot;Access Token is: &quot; + response.AccessToken);\r\n\r\n            // Set up the HTTP client\r\n            var httpclient = new HttpClient\r\n            {\r\n                BaseAddress = new Uri(&quot;https://myresourceserver&quot;),\r\n                Timeout = new TimeSpan(0, 2, 0)  // Standard two minute timeout.\r\n            };\r\n\r\n            HttpRequestHeaders headers = httpclient.DefaultRequestHeaders;\r\n            headers.Authorization = new AuthenticationHeaderValue(&quot;Bearer&quot;, response.AccessToken);\r\n            headers.Add(&quot;OData-MaxVersion&quot;, &quot;4.0&quot;);\r\n            headers.Add(&quot;OData-Version&quot;, &quot;4.0&quot;);\r\n            headers.Accept.Add(new MediaTypeWithQualityHeaderValue(&quot;application/json&quot;));\r\n\r\n            // Web API call\r\n            var result = httpclient.GetAsync(&quot;WhoAmI&quot;).Result;\r\n\r\n            var jsonResponse = await result.Content.ReadAsStringAsync();\r\n\r\n            Console.WriteLine(result.ReasonPhrase);\r\n            Console.WriteLine(jsonResponse);\r\n            result.EnsureSuccessStatusCode();\r\n\r\n            return response.AccessToken;\r\n        }\r\n        \r\n\r\n        public static string GetJwtToken(string pfxFilePath, string password, string issuer, string audience, int expiryInMinutes)\r\n        {\r\n            Console.WriteLine(&quot;Creating JWT Token&quot;);\r\n            string jwtToken = string.Empty;\r\n            JwtSecurityToken jwtSecurityToken;\r\n\r\n            X509Certificate2 signingCert = new X509Certificate2(pfxFilePath, password);\r\n            X509SecurityKey privateKey = new X509SecurityKey(signingCert);\r\n\r\n            var descriptor = new SecurityTokenDescriptor\r\n            {\r\n                // Audience = auth2/token endpoint, Issuer = clientId                \r\n                Issuer = issuer,\r\n                Audience = audience,\r\n                IssuedAt = DateTime.UtcNow,\r\n                Expires  = DateTime.UtcNow.AddMinutes(expiryInMinutes),\r\n                Subject  = new ClaimsIdentity(new List&lt;Claim&gt;\r\n                {\r\n                    new Claim(JwtClaimTypes.Subject, issuer),\r\n                    new Claim(Microsoft.IdentityModel.JsonWebTokens.JwtRegisteredClaimNames.Jti, Guid.NewGuid().ToString())\r\n                }),\r\n                SigningCredentials = new SigningCredentials(privateKey, SecurityAlgorithms.RsaSha256)\r\n            };\r\n\r\n            var handler = new JwtSecurityTokenHandler();\r\n            handler.SetDefaultTimesOnTokenCreation = false;\r\n            jwtSecurityToken = handler.CreateJwtSecurityToken(descriptor);\r\n            jwtSecurityToken.Header.Remove(&quot;kid&quot;);\r\n\r\n            jwtToken = handler.WriteToken(jwtSecurityToken);\r\n            return jwtToken;\r\n        }","title":"OAuth. Resource server uses the wrong Authentication URI (Bearer error=invalid_token)","body":"<p>In a service-to-service oauth communication, I'm trying to send a token request to an external Oauth Token Endpoint and to use the token as a Bearer for a Microsoft solution (Dynamics CRM v.9.1 On-Premises).\nThe platform used should not be so relevant since we are talking about OAuth which is an RFC documented protocol\nThe code I used so far to get the token and to make the request to the Resource Server with the Bearer is the one pasted below.</p>\n<p>When I make the request to the Resource server i get the following error.</p>\n<pre><code>Bearer error=invalid_token, error_description=Error during token validation!, \nauthorization_uri=https://mytokenserver/login, \nresource_id=https://myresourceserver/\n</code></pre>\n<p>The problem in the response is that it shows an &quot;authorization_uri&quot; which is <strong>https://mytokenserver/login</strong> , which is wrong. My authorization uri is : <strong>https://mytokenserver/oauth2/authorize</strong></p>\n<p>I wasn't able to find any setting in the microsoft crm platform so my best guess is that I'm generating a wrong Assertion JWT in the code below.</p>\n<p>Any experience with that ? (just a small detail, the oauth token server is written in java)</p>\n<pre><code>    static private string clientId     = &quot;rb7ddjkjWd8djkjlk&quot;;\n    static private string pfxFile      = &quot;C:\\\\keystore.p12&quot;;\n    static private string pass         = &quot;blabla&quot;;\n    static private string authorityUri = &quot;https://mytokenserver/oauth2/token&quot;;\n\n    static private Uri environmentUri  = new Uri(&quot;https://myresourceserver/api/data/v9.1&quot;);\n\n    static async Task&lt;string&gt; RequestTokenAndSendRequestToResourceServerAsync()\n    {\n        if (tokenCache != &quot;&quot;)\n            return tokenCache;\n\n        var client = new HttpClient();\n\n        var clientToken = GetJwtToken(pfxFile, pass, clientId, authorityUri, 180);\n\n        Console.WriteLine(&quot;JWT Token is: &quot; + clientToken);\n\n        Parameters parameters = new Parameters\n        {\n            new KeyValuePair&lt;string, string&gt;(&quot;audience&quot;, clientId),\n            new KeyValuePair&lt;string, string&gt;(&quot;requested_token_type&quot;, &quot;urn:ietf:params:oauth:token-type:access_token&quot;)\n        };\n        ClientCredentialsTokenRequest clientCredentialsRequest = new ClientCredentialsTokenRequest\n        {\n            Parameters = parameters,\n            GrantType = OidcConstants.GrantTypes.ClientCredentials,\n            Address = authorityUri,\n            ClientAssertion =\n            {\n                Type = OidcConstants.ClientAssertionTypes.JwtBearer,\n                Value = clientToken\n            }\n        };\n        clientCredentialsRequest.ClientCredentialStyle = ClientCredentialStyle.PostBody;\n        var response = await client.RequestClientCredentialsTokenAsync(clientCredentialsRequest);\n\n        if (response.IsError)\n        { \n            Console.WriteLine(response.HttpStatusCode);\n            Console.WriteLine(response.ErrorDescription);\n            Console.WriteLine(response.ErrorType.ToString());\n            throw response.Exception;\n        }\n        Console.WriteLine(&quot;Access Token is: &quot; + response.AccessToken);\n\n        // Set up the HTTP client\n        var httpclient = new HttpClient\n        {\n            BaseAddress = new Uri(&quot;https://myresourceserver&quot;),\n            Timeout = new TimeSpan(0, 2, 0)  // Standard two minute timeout.\n        };\n\n        HttpRequestHeaders headers = httpclient.DefaultRequestHeaders;\n        headers.Authorization = new AuthenticationHeaderValue(&quot;Bearer&quot;, response.AccessToken);\n        headers.Add(&quot;OData-MaxVersion&quot;, &quot;4.0&quot;);\n        headers.Add(&quot;OData-Version&quot;, &quot;4.0&quot;);\n        headers.Accept.Add(new MediaTypeWithQualityHeaderValue(&quot;application/json&quot;));\n\n        // Web API call\n        var result = httpclient.GetAsync(&quot;WhoAmI&quot;).Result;\n\n        var jsonResponse = await result.Content.ReadAsStringAsync();\n\n        Console.WriteLine(result.ReasonPhrase);\n        Console.WriteLine(jsonResponse);\n        result.EnsureSuccessStatusCode();\n\n        return response.AccessToken;\n    }\n    \n\n    public static string GetJwtToken(string pfxFilePath, string password, string issuer, string audience, int expiryInMinutes)\n    {\n        Console.WriteLine(&quot;Creating JWT Token&quot;);\n        string jwtToken = string.Empty;\n        JwtSecurityToken jwtSecurityToken;\n\n        X509Certificate2 signingCert = new X509Certificate2(pfxFilePath, password);\n        X509SecurityKey privateKey = new X509SecurityKey(signingCert);\n\n        var descriptor = new SecurityTokenDescriptor\n        {\n            // Audience = auth2/token endpoint, Issuer = clientId                \n            Issuer = issuer,\n            Audience = audience,\n            IssuedAt = DateTime.UtcNow,\n            Expires  = DateTime.UtcNow.AddMinutes(expiryInMinutes),\n            Subject  = new ClaimsIdentity(new List&lt;Claim&gt;\n            {\n                new Claim(JwtClaimTypes.Subject, issuer),\n                new Claim(Microsoft.IdentityModel.JsonWebTokens.JwtRegisteredClaimNames.Jti, Guid.NewGuid().ToString())\n            }),\n            SigningCredentials = new SigningCredentials(privateKey, SecurityAlgorithms.RsaSha256)\n        };\n\n        var handler = new JwtSecurityTokenHandler();\n        handler.SetDefaultTimesOnTokenCreation = false;\n        jwtSecurityToken = handler.CreateJwtSecurityToken(descriptor);\n        jwtSecurityToken.Header.Remove(&quot;kid&quot;);\n\n        jwtToken = handler.WriteToken(jwtSecurityToken);\n        return jwtToken;\n    }\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":183966,"reputation":14640,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":1,"creation_date":1690752213,"post_id":76799660,"comment_id":135393374,"body_markdown":"Does it work without the leading slash in `claspath:/config/...`?","body":"Does it work without the leading slash in <code>claspath:&#47;config&#47;...</code>?"},{"owner":{"account_id":22899855,"reputation":11,"user_id":19417266,"display_name":"user19417266"},"score":0,"creation_date":1690752468,"post_id":76799660,"comment_id":135393392,"body_markdown":"Do you mean have it like “classpath:config/…”?","body":"Do you mean have it like “classpath:config/…”?"}],"answers":[{"tags":[],"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690785095,"creation_date":1690785095,"answer_id":76801157,"question_id":76799660,"body_markdown":"Try to remove the leading slash `/` in the line `server.ssl.key-store=classpath:/config/keystore.jks` in your `application.properties` file.","title":"Java Springboot: Having trouble loading the java keystore file","body":"<p>Try to remove the leading slash <code>/</code> in the line <code>server.ssl.key-store=classpath:/config/keystore.jks</code> in your <code>application.properties</code> file.</p>\n"}],"owner":{"account_id":22899855,"reputation":11,"user_id":19417266,"display_name":"user19417266"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":477,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690785095,"creation_date":1690752056,"question_id":76799660,"body_markdown":"I have a backend application that utilizes a java keystore file, which contains imports of various certificate files I need to establish SSL connections to call upon spotify api. I have my keystore.jks file located under path &quot;src/main/resources/config/keystore.jks&quot; (since &quot;src/main/resources&quot; by default the root resource directory java springboot uses to locate all resource files during compilation process). I checked that after compiling my app, the keystore.jks file is located under target directory, which it does(&quot;target/classes/config/keystore.jks&quot;). However, when I launch my spring-boot app it&#39;s complaining &quot;unable to create a key store: Could not load store from &#39;classpath:/config/keystore.jks&quot;. I don&#39;t know how to go about resolving this. I already made sure my spelling of keystore file is correct in application.properties file and made sure to get a new build before running my spring-boot app. I also listed contents of jar file and made sure it includes keystore.jks file. Much help would be appreciated.\r\n\r\nMy pom.xml file: \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;play_recommend_backend&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;mainClass&gt;com.example.play_app_backend.MyApplication&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.1&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.1&lt;/version&gt; &lt;!-- Use the latest version available --&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;version&gt;3.1.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.11&lt;/version&gt; &lt;!-- Use the appropriate version here --&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\napplication.properties file: \r\n```\r\nserver.ssl.key-store-type=JKS\r\nserver.ssl.key-store=classpath:/config/keystore.jks\r\nserver.ssl.key-store-password=Pp11142001!\r\nserver.port=8090\r\nserver.ssl.enabled=true\r\nlogging.level.org.springframework.web=DEBUG\r\n```\r\n\r\nHere is the error output I get when I try to run spring-boot app:\r\n\r\n```\r\nError starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n2023-07-30T16:19:20.588-05:00 ERROR 42493 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n\r\norg.springframework.context.ApplicationContextException: Unable to start web server\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:164) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:602) ~[spring-context-6.0.11.jar:6.0.11]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat com.example.play_app_backend.MyApplication.main(MyApplication.java:14) ~[classes/:na]\r\nCaused by: java.lang.IllegalStateException: Could not load store: Unable to create key store: Could not load store from &#39;classpath:/config/keystore.jks&#39;\r\n\tat org.springframework.boot.web.embedded.tomcat.SslConnectorCustomizer.configureSslStoreProvider(SslConnectorCustomizer.java:124) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.web.embedded.tomcat.SslConnectorCustomizer.configureSsl(SslConnectorCustomizer.java:93) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.web.embedded.tomcat.SslConnectorCustomizer.customize(SslConnectorCustomizer.java:59) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.customizeSsl(TomcatServletWebServerFactory.java:367) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.customizeConnector(TomcatServletWebServerFactory.java:344) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:203) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\t... 8 common frames omitted\r\nCaused by: java.lang.IllegalStateException: Unable to create key store: Could not load store from &#39;classpath:/config/keystore.jks&#39;\r\n\tat org.springframework.boot.ssl.jks.JksSslStoreBundle.createKeyStore(JksSslStoreBundle.java:89) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.ssl.jks.JksSslStoreBundle.getKeyStore(JksSslStoreBundle.java:58) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.web.embedded.tomcat.SslConnectorCustomizer.configureSslStoreProvider(SslConnectorCustomizer.java:116) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\t... 15 common frames omitted\r\nCaused by: java.lang.IllegalStateException: Could not load store from &#39;classpath:/config/keystore.jks&#39;\r\n\tat org.springframework.boot.ssl.jks.JksSslStoreBundle.loadKeyStore(JksSslStoreBundle.java:118) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\tat org.springframework.boot.ssl.jks.JksSslStoreBundle.createKeyStore(JksSslStoreBundle.java:84) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\t... 17 common frames omitted\r\nCaused by: java.io.FileNotFoundException: class path resource [/config/keystore.jks] cannot be resolved to URL because it does not exist\r\n\tat org.springframework.util.ResourceUtils.getURL(ResourceUtils.java:137) ~[spring-core-6.0.10.jar:6.0.10]\r\n\tat org.springframework.boot.ssl.jks.JksSslStoreBundle.loadKeyStore(JksSslStoreBundle.java:112) ~[spring-boot-3.1.1.jar:3.1.1]\r\n\t... 18 common frames omitted\r\n\r\n\r\nProcess finished with exit code 1\r\n\r\n```","title":"Java Springboot: Having trouble loading the java keystore file","body":"<p>I have a backend application that utilizes a java keystore file, which contains imports of various certificate files I need to establish SSL connections to call upon spotify api. I have my keystore.jks file located under path &quot;src/main/resources/config/keystore.jks&quot; (since &quot;src/main/resources&quot; by default the root resource directory java springboot uses to locate all resource files during compilation process). I checked that after compiling my app, the keystore.jks file is located under target directory, which it does(&quot;target/classes/config/keystore.jks&quot;). However, when I launch my spring-boot app it's complaining &quot;unable to create a key store: Could not load store from 'classpath:/config/keystore.jks&quot;. I don't know how to go about resolving this. I already made sure my spelling of keystore file is correct in application.properties file and made sure to get a new build before running my spring-boot app. I also listed contents of jar file and made sure it includes keystore.jks file. Much help would be appreciated.</p>\n<p>My pom.xml file:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;org.example&lt;/groupId&gt;\n    &lt;artifactId&gt;play_recommend_backend&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.3.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;mainClass&gt;com.example.play_app_backend.MyApplication&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.1&lt;/version&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;5.3.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;1.4.8&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;3.1.1&lt;/version&gt; &lt;!-- Use the latest version available --&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n            &lt;version&gt;6.0.11&lt;/version&gt; &lt;!-- Use the appropriate version here --&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>application.properties file:</p>\n<pre><code>server.ssl.key-store-type=JKS\nserver.ssl.key-store=classpath:/config/keystore.jks\nserver.ssl.key-store-password=Pp11142001!\nserver.port=8090\nserver.ssl.enabled=true\nlogging.level.org.springframework.web=DEBUG\n</code></pre>\n<p>Here is the error output I get when I try to run spring-boot app:</p>\n<pre><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-07-30T16:19:20.588-05:00 ERROR 42493 --- [           main] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.context.ApplicationContextException: Unable to start web server\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:164) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:602) ~[spring-context-6.0.11.jar:6.0.11]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.1.jar:3.1.1]\n    at com.example.play_app_backend.MyApplication.main(MyApplication.java:14) ~[classes/:na]\nCaused by: java.lang.IllegalStateException: Could not load store: Unable to create key store: Could not load store from 'classpath:/config/keystore.jks'\n    at org.springframework.boot.web.embedded.tomcat.SslConnectorCustomizer.configureSslStoreProvider(SslConnectorCustomizer.java:124) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.web.embedded.tomcat.SslConnectorCustomizer.configureSsl(SslConnectorCustomizer.java:93) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.web.embedded.tomcat.SslConnectorCustomizer.customize(SslConnectorCustomizer.java:59) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.customizeSsl(TomcatServletWebServerFactory.java:367) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.customizeConnector(TomcatServletWebServerFactory.java:344) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:203) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:183) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:161) ~[spring-boot-3.1.1.jar:3.1.1]\n    ... 8 common frames omitted\nCaused by: java.lang.IllegalStateException: Unable to create key store: Could not load store from 'classpath:/config/keystore.jks'\n    at org.springframework.boot.ssl.jks.JksSslStoreBundle.createKeyStore(JksSslStoreBundle.java:89) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.ssl.jks.JksSslStoreBundle.getKeyStore(JksSslStoreBundle.java:58) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.web.embedded.tomcat.SslConnectorCustomizer.configureSslStoreProvider(SslConnectorCustomizer.java:116) ~[spring-boot-3.1.1.jar:3.1.1]\n    ... 15 common frames omitted\nCaused by: java.lang.IllegalStateException: Could not load store from 'classpath:/config/keystore.jks'\n    at org.springframework.boot.ssl.jks.JksSslStoreBundle.loadKeyStore(JksSslStoreBundle.java:118) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.ssl.jks.JksSslStoreBundle.createKeyStore(JksSslStoreBundle.java:84) ~[spring-boot-3.1.1.jar:3.1.1]\n    ... 17 common frames omitted\nCaused by: java.io.FileNotFoundException: class path resource [/config/keystore.jks] cannot be resolved to URL because it does not exist\n    at org.springframework.util.ResourceUtils.getURL(ResourceUtils.java:137) ~[spring-core-6.0.10.jar:6.0.10]\n    at org.springframework.boot.ssl.jks.JksSslStoreBundle.loadKeyStore(JksSslStoreBundle.java:112) ~[spring-boot-3.1.1.jar:3.1.1]\n    ... 18 common frames omitted\n\n\nProcess finished with exit code 1\n\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1421984298,"post_id":28102538,"comment_id":44580513,"body_markdown":"As long as `Person` properly overwrites `equals()`, you can simply use `conatins()` of the `List`.","body":"As long as <code>Person</code> properly overwrites <code>equals()</code>, you can simply use <code>conatins()</code> of the <code>List</code>."},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1421984455,"post_id":28102538,"comment_id":44580557,"body_markdown":"What do you mean by properly? Will show some similar example, it will be very helpful for me. Please","body":"What do you mean by properly? Will show some similar example, it will be very helpful for me. Please"},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1421984519,"post_id":28102538,"comment_id":44580571,"body_markdown":"In your example, based on `personid`.","body":"In your example, based on <code>personid</code>."},{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1421984691,"post_id":28102538,"comment_id":44580616,"body_markdown":"But what should my code in `euals() `","body":"But what should my code in <code>euals() </code>"},{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":1,"creation_date":1421985026,"post_id":28102538,"comment_id":44580686,"body_markdown":"http://javarevisited.blogspot.in/2011/02/how-to-write-equals-method-in-java.html In your case you will be checking the equality of `personid` fields of the two objects.","body":"<a href=\"http://javarevisited.blogspot.in/2011/02/how-to-write-equals-method-in-java.html\" rel=\"nofollow noreferrer\">javarevisited.blogspot.in/2011/02/&hellip;</a> In your case you will be checking the equality of <code>personid</code> fields of the two objects."}],"answers":[{"comments":[{"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"score":0,"creation_date":1421991538,"post_id":28103607,"comment_id":44582280,"body_markdown":"what is `parallelStream`?","body":"what is <code>parallelStream</code>?"},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":0,"creation_date":1421992259,"post_id":28103607,"comment_id":44582488,"body_markdown":"@Amogh http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#parallelStream--","body":"@Amogh <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#parallelStream--\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/java/util/&hellip;</a>"}],"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421991030,"creation_date":1421991030,"answer_id":28103607,"question_id":28102538,"body_markdown":"Java&#39;s `Collections` provides a binary search which is very fast but it assumes you are searching for a member of the list. You could implement your own using your ID criteria:\r\n\r\n    Collections.sort(persons, (p1, p2) -&gt; p1.personID - p2.personID);\r\n    if (binarySearch(persons, id)) {\r\n        ...\r\n    }\r\n\r\n    boolean binarySearch(List&lt;Person&gt; personList, Long id) {\r\n        if (personList.empty())\r\n            return false;\r\n        long indexToTest = personList.size() / 2;\r\n        long idToTest = personList.get(indexToTest).personID;\r\n        if (idToTest &lt; id) \r\n            return binarySearch(personList.subList(indexToTest + 1, personList.size());\r\n        else if (idToTest &gt; id)\r\n            return binarySearch(personList.subList(0, indexToTest));\r\n        else\r\n            return true;\r\n    }\r\n\r\n If you don&#39;t want to sort your list then you could copy it to a sorted list and search on that: for large lists that would still be much faster than iterating through it. In fact that&#39;s pretty similar to keeping a separate hash map (though a hash map could be faster).\r\n\r\nIf you *must* iterate, then you can at least use a parallel stream to take advantage of multiple cores if you have them:\r\n\r\n    if (persons.parallelStream().anyMatch(p -&gt; p.personID == id)) {\r\n        ...\r\n    }\r\n\r\n","title":"Fastest and optimized way to search for value in a List&lt;T&gt;","body":"<p>Java's <code>Collections</code> provides a binary search which is very fast but it assumes you are searching for a member of the list. You could implement your own using your ID criteria:</p>\n\n<pre><code>Collections.sort(persons, (p1, p2) -&gt; p1.personID - p2.personID);\nif (binarySearch(persons, id)) {\n    ...\n}\n\nboolean binarySearch(List&lt;Person&gt; personList, Long id) {\n    if (personList.empty())\n        return false;\n    long indexToTest = personList.size() / 2;\n    long idToTest = personList.get(indexToTest).personID;\n    if (idToTest &lt; id) \n        return binarySearch(personList.subList(indexToTest + 1, personList.size());\n    else if (idToTest &gt; id)\n        return binarySearch(personList.subList(0, indexToTest));\n    else\n        return true;\n}\n</code></pre>\n\n<p>If you don't want to sort your list then you could copy it to a sorted list and search on that: for large lists that would still be much faster than iterating through it. In fact that's pretty similar to keeping a separate hash map (though a hash map could be faster).</p>\n\n<p>If you <em>must</em> iterate, then you can at least use a parallel stream to take advantage of multiple cores if you have them:</p>\n\n<pre><code>if (persons.parallelStream().anyMatch(p -&gt; p.personID == id)) {\n    ...\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":0,"creation_date":1421992502,"post_id":28103746,"comment_id":44582545,"body_markdown":"If by &#39;binary search&#39; you mean `Collections.binarySearch` then I believe this is incorrect. The `key` argument must be the same type as the members of the collection.","body":"If by &#39;binary search&#39; you mean <code>Collections.binarySearch</code> then I believe this is incorrect. The <code>key</code> argument must be the same type as the members of the collection."}],"tags":[],"owner":{"account_id":1542133,"reputation":6317,"user_id":1955871,"accept_rate":75,"display_name":"Rob"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1421991748,"creation_date":1421991748,"answer_id":28103746,"question_id":28102538,"body_markdown":"Your implementation with nested loops will not scale well if the lists get long. The number of operations you will do is the product of the length of the two lists.\r\n\r\nIf at least one of your lists is sorted by ID, you can use binary search. This will be an improvement over nested loops.\r\n\r\nBuilding a `Map` is a good idea and will scale well. Using this technique, you will iterate over the list of Persons once to build the map and then iterate over the list of IDs once to do the lookups. Make sure that you initialize the size of the HashMap with the number of Persons (so you don&#39;t have to rehash as you put the Persons into the Map). This is a very scalable option and does not require that either list be sorted.\r\n\r\nIf BOTH lists happen to be sorted by ID, you have another attractive alternative: jointly walk down the two lists. You will start at the beginning of both lists and move forward in the list with the smallest ID. If the IDs are equal, then you do your business logic for having found the person with that ID and step forward in both lists. As soon as you get to the end of either list, you are done.","title":"Fastest and optimized way to search for value in a List&lt;T&gt;","body":"<p>Your implementation with nested loops will not scale well if the lists get long. The number of operations you will do is the product of the length of the two lists.</p>\n\n<p>If at least one of your lists is sorted by ID, you can use binary search. This will be an improvement over nested loops.</p>\n\n<p>Building a <code>Map</code> is a good idea and will scale well. Using this technique, you will iterate over the list of Persons once to build the map and then iterate over the list of IDs once to do the lookups. Make sure that you initialize the size of the HashMap with the number of Persons (so you don't have to rehash as you put the Persons into the Map). This is a very scalable option and does not require that either list be sorted.</p>\n\n<p>If BOTH lists happen to be sorted by ID, you have another attractive alternative: jointly walk down the two lists. You will start at the beginning of both lists and move forward in the list with the smallest ID. If the IDs are equal, then you do your business logic for having found the person with that ID and step forward in both lists. As soon as you get to the end of either list, you are done.</p>\n"},{"tags":[],"owner":{"account_id":2678092,"reputation":1134,"user_id":2313984,"display_name":"AndrWeisR"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690784948,"creation_date":1690784948,"answer_id":76801143,"question_id":28102538,"body_markdown":"Comparison of 3 search methods - look for a word in a list of a million words:\r\n```\r\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n\t\t\t\r\n// One million random 5 letter words.\r\nfor (int i = 0; i &lt; 1000000; i++) {\r\n\tlist.add( String.valueOf((char)(65 + (int)(Math.random() * 26)))\r\n\t\t\t+ String.valueOf((char)(65 + (int)(Math.random() * 26)))\r\n\t\t\t+ String.valueOf((char)(65 + (int)(Math.random() * 26)))\r\n\t\t\t+ String.valueOf((char)(65 + (int)(Math.random() * 26)))\r\n\t\t\t+ String.valueOf((char)(65 + (int)(Math.random() * 26)))\r\n\t);\r\n}\r\nlist.add(&quot;POPPY&quot;);\r\n\t\t\t\r\nCollections.sort(list);\r\n\t\t\t\r\nlong start;\r\n\t\t\t\r\nstart = System.currentTimeMillis();\r\nSystem.out.println(list.contains(&quot;POPPY&quot;));\r\nSystem.out.println(&quot;Contains took &quot; + (System.currentTimeMillis() - start) + &quot; ms.&quot;);\r\n\t\t\t\r\nstart = System.currentTimeMillis();\r\nSystem.out.println(Collections.binarySearch(list,&quot;POPPY&quot;));\r\nSystem.out.println(&quot;BinarySearch took &quot; + (System.currentTimeMillis() - start) + &quot; ms.&quot;);\r\n\t\t\t\r\nstart = System.currentTimeMillis();\r\nif (list.parallelStream().anyMatch(s -&gt; s.equals(&quot;POPPY&quot;))) {\r\n    System.out.println(&quot;Found.&quot;);\r\n}\r\nSystem.out.println(&quot;Anymatch took &quot; + (System.currentTimeMillis() - start) + &quot; ms.&quot;);\r\n```\r\n\r\nOutputs:\r\n\r\n```\r\ntrue\r\nContains took 46 ms.\r\n598377\r\nBinarySearch took 0 ms.\r\nFound.\r\nAnymatch took 26 ms.\r\n```","title":"Fastest and optimized way to search for value in a List&lt;T&gt;","body":"<p>Comparison of 3 search methods - look for a word in a list of a million words:</p>\n<pre><code>List&lt;String&gt; list = new ArrayList&lt;&gt;();\n            \n// One million random 5 letter words.\nfor (int i = 0; i &lt; 1000000; i++) {\n    list.add( String.valueOf((char)(65 + (int)(Math.random() * 26)))\n            + String.valueOf((char)(65 + (int)(Math.random() * 26)))\n            + String.valueOf((char)(65 + (int)(Math.random() * 26)))\n            + String.valueOf((char)(65 + (int)(Math.random() * 26)))\n            + String.valueOf((char)(65 + (int)(Math.random() * 26)))\n    );\n}\nlist.add(&quot;POPPY&quot;);\n            \nCollections.sort(list);\n            \nlong start;\n            \nstart = System.currentTimeMillis();\nSystem.out.println(list.contains(&quot;POPPY&quot;));\nSystem.out.println(&quot;Contains took &quot; + (System.currentTimeMillis() - start) + &quot; ms.&quot;);\n            \nstart = System.currentTimeMillis();\nSystem.out.println(Collections.binarySearch(list,&quot;POPPY&quot;));\nSystem.out.println(&quot;BinarySearch took &quot; + (System.currentTimeMillis() - start) + &quot; ms.&quot;);\n            \nstart = System.currentTimeMillis();\nif (list.parallelStream().anyMatch(s -&gt; s.equals(&quot;POPPY&quot;))) {\n    System.out.println(&quot;Found.&quot;);\n}\nSystem.out.println(&quot;Anymatch took &quot; + (System.currentTimeMillis() - start) + &quot; ms.&quot;);\n</code></pre>\n<p>Outputs:</p>\n<pre><code>true\nContains took 46 ms.\n598377\nBinarySearch took 0 ms.\nFound.\nAnymatch took 26 ms.\n</code></pre>\n"}],"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2160,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":28103746,"answer_count":3,"score":1,"last_activity_date":1690784948,"creation_date":1421983680,"question_id":28102538,"body_markdown":"I have a `List&lt;Person&gt; persons = new ArrayList&lt;Person&gt;()`, the size of this list is 100+. I want to check whether a particular `personID` object is contained in this list or not. Currently I am doing it in this way :\r\n\r\n    for(Person person : persons) \r\n    {\r\n        for(Long pid : listOfIDs) \r\n        {\r\n            if(person.personid == pid) \r\n            {\r\n                // do somthing \r\n            } \r\n            else\r\n            {\r\n                // do somthing \r\n            }\r\n        } // end of inner for\r\n    } \r\n\r\nBut I don&#39;t want to traverse through the `persons` list for each element in `listOfIDs`. I thought of taking `HashMap` of Person with `personid` as the key and `Person` object as value. So that I can only traverse through `listOfIDs` and check for `contains()`\r\n\r\nIs there any other way to do it? ","title":"Fastest and optimized way to search for value in a List&lt;T&gt;","body":"<p>I have a <code>List&lt;Person&gt; persons = new ArrayList&lt;Person&gt;()</code>, the size of this list is 100+. I want to check whether a particular <code>personID</code> object is contained in this list or not. Currently I am doing it in this way :</p>\n\n<pre><code>for(Person person : persons) \n{\n    for(Long pid : listOfIDs) \n    {\n        if(person.personid == pid) \n        {\n            // do somthing \n        } \n        else\n        {\n            // do somthing \n        }\n    } // end of inner for\n} \n</code></pre>\n\n<p>But I don't want to traverse through the <code>persons</code> list for each element in <code>listOfIDs</code>. I thought of taking <code>HashMap</code> of Person with <code>personid</code> as the key and <code>Person</code> object as value. So that I can only traverse through <code>listOfIDs</code> and check for <code>contains()</code></p>\n\n<p>Is there any other way to do it? </p>\n"},{"tags":["java","android-studio","selenium-webdriver","automation","winappdriver"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690788540,"post_id":76801119,"comment_id":135396393,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."},{"owner":{"account_id":27908320,"reputation":1,"user_id":21311048,"display_name":"AND"},"score":0,"creation_date":1690867875,"post_id":76801119,"comment_id":135409049,"body_markdown":"I tried to solve the problems by doing different experiments, but unfortunately I can&#39;t. As far as I understand it is something related to Android Studio&#39;s permissions. How can I solve this problem?","body":"I tried to solve the problems by doing different experiments, but unfortunately I can&#39;t. As far as I understand it is something related to Android Studio&#39;s permissions. How can I solve this problem?"}],"owner":{"account_id":27908320,"reputation":1,"user_id":21311048,"display_name":"AND"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690784643,"creation_date":1690784643,"question_id":76801119,"body_markdown":"I&#39;m trying to automate a plugin in Android studio. An android studio plugin added to the menu section above. I want to run it on all platforms (Windows, Mac and Ubuntu).\r\n\r\nI used WinAppDriver (Selenium-Java) and inspect.exe but without success. Because I can&#39;t display AutomationID in inspect.exe for android studio. If you have a different solution, I&#39;m open to that as well.","title":"How can I do Android studio plugin automation?","body":"<p>I'm trying to automate a plugin in Android studio. An android studio plugin added to the menu section above. I want to run it on all platforms (Windows, Mac and Ubuntu).</p>\n<p>I used WinAppDriver (Selenium-Java) and inspect.exe but without success. Because I can't display AutomationID in inspect.exe for android studio. If you have a different solution, I'm open to that as well.</p>\n"},{"tags":["java","multiple-inheritance","default-method"],"comments":[{"owner":{"account_id":17043272,"reputation":1235,"user_id":12330629,"display_name":"Uno Batbayar"},"score":0,"creation_date":1690277466,"post_id":43718920,"comment_id":135327470,"body_markdown":"This is an interesting question, does anyone know what&#39;s the pros of using this type of design?","body":"This is an interesting question, does anyone know what&#39;s the pros of using this type of design?"}],"answers":[{"comments":[{"owner":{"account_id":10299696,"reputation":2315,"user_id":7598776,"display_name":"Robin Topper"},"score":1,"creation_date":1493641439,"post_id":43719021,"comment_id":74481339,"body_markdown":"The OP wants to call the `foo()` method from the interface. Your solution would call the method in `MyFooable` instead","body":"The OP wants to call the <code>foo()</code> method from the interface. Your solution would call the method in <code>MyFooable</code> instead"}],"tags":[],"owner":{"account_id":1487018,"reputation":432,"user_id":1395038,"display_name":"Shakhar"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493641251,"creation_date":1493641251,"answer_id":43719021,"question_id":43718920,"body_markdown":"You need to use just `super.foo()` or `this.super.foo()` as it is the parent of the object and not of the class as implied by `Fooable.super.foo()`.","title":"How to call default interface method from another subclass?","body":"<p>You need to use just <code>super.foo()</code> or <code>this.super.foo()</code> as it is the parent of the object and not of the class as implied by <code>Fooable.super.foo()</code>.</p>\n"},{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1493641267,"creation_date":1493641267,"answer_id":43719026,"question_id":43718920,"body_markdown":"You can only call a method one level up so you would need\r\n\r\n    Fooable.super.foo();\r\n\r\nin `MyFooable`, while just calling `super.foo()` in `MyAdvancedFooable`","title":"How to call default interface method from another subclass?","body":"<p>You can only call a method one level up so you would need</p>\n\n<pre><code>Fooable.super.foo();\n</code></pre>\n\n<p>in <code>MyFooable</code>, while just calling <code>super.foo()</code> in <code>MyAdvancedFooable</code></p>\n"},{"tags":[],"owner":{"account_id":19230561,"reputation":11,"user_id":14052479,"display_name":"Fan Zhou"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690784625,"creation_date":1690275952,"answer_id":76761122,"question_id":43718920,"body_markdown":"You can do `MyAdvancedFooable extends MyFooable implements Fooable`. Then create another interface, `AnotherFooable`, for example, instead of `Fooable`, as follows:\r\n\r\n    public interface AnotherFooable implements Fooable {\r\n        public default void foo() {\r\n            Fooable.super.foo();\r\n        }\r\n    }\r\n    \r\n    public class MyAdvancedFooable extends MyFooable implements AnotherFooable {\r\n        @Override\r\n        public void foo() {\r\n            AnotherFooable.super.foo();\r\n            System.out.println(&quot;MyAdvancedFooable::foo&quot;);\r\n        }\r\n    }\r\n\r\nSee:\r\n[Create another interface][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/29525975/default-methods-and-interfaces-extending-other-interfaces","title":"How to call default interface method from another subclass?","body":"<p>You can do <code>MyAdvancedFooable extends MyFooable implements Fooable</code>. Then create another interface, <code>AnotherFooable</code>, for example, instead of <code>Fooable</code>, as follows:</p>\n<pre><code>public interface AnotherFooable implements Fooable {\n    public default void foo() {\n        Fooable.super.foo();\n    }\n}\n\npublic class MyAdvancedFooable extends MyFooable implements AnotherFooable {\n    @Override\n    public void foo() {\n        AnotherFooable.super.foo();\n        System.out.println(&quot;MyAdvancedFooable::foo&quot;);\n    }\n}\n</code></pre>\n<p>See:\n<a href=\"https://stackoverflow.com/questions/29525975/default-methods-and-interfaces-extending-other-interfaces\">Create another interface</a></p>\n"}],"owner":{"account_id":3656281,"reputation":1256,"user_id":5870336,"accept_rate":71,"display_name":"Sina Madani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2064,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1690784625,"creation_date":1493640699,"question_id":43718920,"body_markdown":"Consider the following:\r\n\r\n    //Fooable.java\r\n    public interface Fooable {\r\n        public default void foo() {\r\n            System.out.println(&quot;Fooable::foo&quot;);\r\n        }\r\n        //Lots of other non-default methods...\r\n    }\r\n\r\n    //MyFooable.java\r\n    public class MyFooable implements Fooable {\r\n        @Override\r\n        public void foo() {\r\n            System.out.println(&quot;MyFooable::foo&quot;);\r\n        }\r\n        //implements other methods in Fooable...\r\n    }\r\n\r\n    //MyAdvancedFooable.java\r\n    public class MyAdvancedFooable extends MyFooable {\r\n        @Override\r\n        public void foo() {\r\n            Fooable.super.foo();\r\n            System.out.println(&quot;MyAdvancedFooable::foo&quot;);\r\n        }\r\n        public static void main(String[] args) {\r\n            new MyAdvancedFooable().foo();\r\n        }\r\n    }\r\n\r\nAs you can see, I want to call `foo()` in `Fooable` from `MyAdvancedFooable` (a subclass of `MyFooable`). However, when I try to compile, I get the following error:\r\n\r\nMyAdvancedFooable.java:4: error: not an enclosing class: Fooable\r\n        Fooable.super.foo();\r\n\r\nif I try `MyAdvancedFooable extends MyFooable implements Fooable` I get the following:\r\n\r\nMyAdvancedFooable.java:4: error: bad type qualifier Fooable in default super call\r\n        Fooable.super.foo();\r\n  method foo() is overridden in MyFooable\r\n\r\nHow can I resolve this problem without having to create a new anonymous implementation of Fooable?","title":"How to call default interface method from another subclass?","body":"<p>Consider the following:</p>\n\n<pre><code>//Fooable.java\npublic interface Fooable {\n    public default void foo() {\n        System.out.println(\"Fooable::foo\");\n    }\n    //Lots of other non-default methods...\n}\n\n//MyFooable.java\npublic class MyFooable implements Fooable {\n    @Override\n    public void foo() {\n        System.out.println(\"MyFooable::foo\");\n    }\n    //implements other methods in Fooable...\n}\n\n//MyAdvancedFooable.java\npublic class MyAdvancedFooable extends MyFooable {\n    @Override\n    public void foo() {\n        Fooable.super.foo();\n        System.out.println(\"MyAdvancedFooable::foo\");\n    }\n    public static void main(String[] args) {\n        new MyAdvancedFooable().foo();\n    }\n}\n</code></pre>\n\n<p>As you can see, I want to call <code>foo()</code> in <code>Fooable</code> from <code>MyAdvancedFooable</code> (a subclass of <code>MyFooable</code>). However, when I try to compile, I get the following error:</p>\n\n<p>MyAdvancedFooable.java:4: error: not an enclosing class: Fooable\n        Fooable.super.foo();</p>\n\n<p>if I try <code>MyAdvancedFooable extends MyFooable implements Fooable</code> I get the following:</p>\n\n<p>MyAdvancedFooable.java:4: error: bad type qualifier Fooable in default super call\n        Fooable.super.foo();\n  method foo() is overridden in MyFooable</p>\n\n<p>How can I resolve this problem without having to create a new anonymous implementation of Fooable?</p>\n"},{"tags":["java","spring-boot","spring-batch","bean-io"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690555196,"post_id":76788783,"comment_id":135374630,"body_markdown":"If that isn&#39;t provided by that specific reader you simply cannot skip it. Also I wonder if you should actually use this library has looking at the sources it hasn&#39;t had an upgrade in 10 years (so I&#39;m actuyally suprised it still works with the current Spring and Spring Batch version). As a hack you could try setting `setCurrentItemCount` to 1, which should skip a line, but this will skew your metrics/lines read and might not work.","body":"If that isn&#39;t provided by that specific reader you simply cannot skip it. Also I wonder if you should actually use this library has looking at the sources it hasn&#39;t had an upgrade in 10 years (so I&#39;m actuyally suprised it still works with the current Spring and Spring Batch version). As a hack you could try setting <code>setCurrentItemCount</code> to 1, which should skip a line, but this will skew your metrics/lines read and might not work."},{"owner":{"account_id":427236,"reputation":2709,"user_id":808891,"accept_rate":97,"display_name":"Somebody"},"score":0,"creation_date":1690556891,"post_id":76788783,"comment_id":135374999,"body_markdown":"@M.Deinum yep, it seems setting `setCurrentItemCount` to 1 does the trick. I was also considering the option to create another class to hold the header and mapping this in the `beanio-configuration.xml` but that was going to be there for nothing in my case, just to get the header and do nothing with it, so your suggestion is better. Please provide your answer to give you the credit.","body":"@M.Deinum yep, it seems setting <code>setCurrentItemCount</code> to 1 does the trick. I was also considering the option to create another class to hold the header and mapping this in the <code>beanio-configuration.xml</code> but that was going to be there for nothing in my case, just to get the header and do nothing with it, so your suggestion is better. Please provide your answer to give you the credit."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690784215,"creation_date":1690784215,"answer_id":76801081,"question_id":76788783,"body_markdown":"The regular `FlatFileItemReader` has a [`setLinesToSkip`][1] method which this [`BeanIOFlatFileItemReader`][2] seems to lack. As a workaround/hack you could try using the `setCurrentItemCount` and set it to 1. Although it is meant for restarting a step/job and restore the state you could abuse it for this. \r\n\r\n**NOTE:** Another thing, while checking [the library][3], this seems to has had no update for the last ~10 years. I&#39;m a bit surprised it still works (which is a testament for the Spring and Spring Batch maintainers for backwards compatibility). But it probably stop working somewhere down the line!\r\n\r\n[1]: https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/item/file/FlatFileItemReader.html#setLinesToSkip(int)\r\n[2]: http://beanio.org/2.0/docs/api/org/beanio/spring/BeanIOFlatFileItemReader.html\r\n[3]: https://github.com/gomsieeeee/beanio","title":"BeanIOFlatFileItemReader skip header using spring batch with spring boot","body":"<p>The regular <code>FlatFileItemReader</code> has a <a href=\"https://docs.spring.io/spring-batch/docs/current/api/org/springframework/batch/item/file/FlatFileItemReader.html#setLinesToSkip(int)\" rel=\"nofollow noreferrer\"><code>setLinesToSkip</code></a> method which this <a href=\"http://beanio.org/2.0/docs/api/org/beanio/spring/BeanIOFlatFileItemReader.html\" rel=\"nofollow noreferrer\"><code>BeanIOFlatFileItemReader</code></a> seems to lack. As a workaround/hack you could try using the <code>setCurrentItemCount</code> and set it to 1. Although it is meant for restarting a step/job and restore the state you could abuse it for this.</p>\n<p><strong>NOTE:</strong> Another thing, while checking <a href=\"https://github.com/gomsieeeee/beanio\" rel=\"nofollow noreferrer\">the library</a>, this seems to has had no update for the last ~10 years. I'm a bit surprised it still works (which is a testament for the Spring and Spring Batch maintainers for backwards compatibility). But it probably stop working somewhere down the line!</p>\n"}],"owner":{"account_id":427236,"reputation":2709,"user_id":808891,"accept_rate":97,"display_name":"Somebody"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76801081,"answer_count":1,"score":0,"last_activity_date":1690784215,"creation_date":1690555014,"question_id":76788783,"body_markdown":"I haven&#39;t been able to find a way to skip the header for a csv file using: `BeanIOFlatFileItemReader`, there&#39;s no `linesToSkip` here, and when trying to do the below in the `beanio-configuration.xml` file it gives: `Comments require reader.markSupported() to return true itemreader spring batch` error. Probably because of [this][1].\r\n\r\n    &lt;stream name=&quot;contact-data&quot; format=&quot;delimited&quot;&gt;\r\n    \t&lt;parser&gt;\r\n    \t\t&lt;property name=&quot;delimiter&quot; value=&quot;|&quot; /&gt;\r\n    \t\t&lt;!-- ignore header line --&gt;\r\n    \t\t&lt;property name=&quot;comments&quot; value=&quot;name&quot; /&gt;\r\n    \t&lt;/parser&gt;\r\n    \t&lt;record name=&quot;content&quot; class=&quot;com.person.Contact&quot;&gt;\r\n    \t\t&lt;field name=&quot;name&quot; /&gt;\r\n    \t\t&lt;field name=&quot;age&quot; /&gt;\r\n    \t\t&lt;field name=&quot;country&quot; /&gt;\r\n    \t&lt;/record&gt;\t\t\r\n    &lt;/stream&gt;\r\n\r\n**ItemReader:**\r\n\r\n    @Bean\r\n    @StepScope\r\n    public BeanIOFlatFileItemReader&lt;Contact&gt; reader(@Value(&quot;#{jobParameters[&#39;fileName&#39;]}&quot;) String fileName) {    \t    \t\r\n    \t\r\n    \tBeanIOFlatFileItemReader&lt;Contact&gt; reader = new BeanIOFlatFileItemReader&lt;&gt;();\r\n    \t\r\n    \ttry {    \t\t\r\n    \t\treader.setUseSpringExceptions(true);\r\n    \t\treader.setResource(new FileSystemResource(fileName));    \t\t\r\n    \t\treader.setStreamName(inputContactStreamName);\r\n    \t\treader.setStreamMapping(new ClassPathResource(beanIoConfigurationXmlPath));\r\n    \t\treader.setStreamFactory(StreamFactory.newInstance());\r\n    \t\treader.getLineNumber();\t\t\t\r\n    \t} catch (Exception e) {\r\n    \t\tlog.error(&quot;ERROR: An issue occurred in the BeanIO Item Reader:: {} {}&quot;, e.getMessage(), e.getStackTrace());\r\n    \t}\r\n    \t\r\n    \treturn reader;    \t\r\n    }\r\n\r\n**CSV file:**\r\n\r\n    name|age|country\r\n    john|25|USA\r\n    Mike|22|CANADA\r\n\r\nHow to skip the header using `BeanIOFlatFileItemReader`?\r\n\r\n  [1]: https://stackoverflow.com/a/60852696/808891","title":"BeanIOFlatFileItemReader skip header using spring batch with spring boot","body":"<p>I haven't been able to find a way to skip the header for a csv file using: <code>BeanIOFlatFileItemReader</code>, there's no <code>linesToSkip</code> here, and when trying to do the below in the <code>beanio-configuration.xml</code> file it gives: <code>Comments require reader.markSupported() to return true itemreader spring batch</code> error. Probably because of <a href=\"https://stackoverflow.com/a/60852696/808891\">this</a>.</p>\n<pre><code>&lt;stream name=&quot;contact-data&quot; format=&quot;delimited&quot;&gt;\n    &lt;parser&gt;\n        &lt;property name=&quot;delimiter&quot; value=&quot;|&quot; /&gt;\n        &lt;!-- ignore header line --&gt;\n        &lt;property name=&quot;comments&quot; value=&quot;name&quot; /&gt;\n    &lt;/parser&gt;\n    &lt;record name=&quot;content&quot; class=&quot;com.person.Contact&quot;&gt;\n        &lt;field name=&quot;name&quot; /&gt;\n        &lt;field name=&quot;age&quot; /&gt;\n        &lt;field name=&quot;country&quot; /&gt;\n    &lt;/record&gt;       \n&lt;/stream&gt;\n</code></pre>\n<p><strong>ItemReader:</strong></p>\n<pre><code>@Bean\n@StepScope\npublic BeanIOFlatFileItemReader&lt;Contact&gt; reader(@Value(&quot;#{jobParameters['fileName']}&quot;) String fileName) {               \n    \n    BeanIOFlatFileItemReader&lt;Contact&gt; reader = new BeanIOFlatFileItemReader&lt;&gt;();\n    \n    try {           \n        reader.setUseSpringExceptions(true);\n        reader.setResource(new FileSystemResource(fileName));           \n        reader.setStreamName(inputContactStreamName);\n        reader.setStreamMapping(new ClassPathResource(beanIoConfigurationXmlPath));\n        reader.setStreamFactory(StreamFactory.newInstance());\n        reader.getLineNumber();         \n    } catch (Exception e) {\n        log.error(&quot;ERROR: An issue occurred in the BeanIO Item Reader:: {} {}&quot;, e.getMessage(), e.getStackTrace());\n    }\n    \n    return reader;      \n}\n</code></pre>\n<p><strong>CSV file:</strong></p>\n<pre><code>name|age|country\njohn|25|USA\nMike|22|CANADA\n</code></pre>\n<p>How to skip the header using <code>BeanIOFlatFileItemReader</code>?</p>\n"},{"tags":["java","rest","http","https","get"],"answers":[{"comments":[{"owner":{"account_id":8088075,"reputation":11,"user_id":6094972,"display_name":"Konstantin P."},"score":0,"creation_date":1566461340,"post_id":57598126,"comment_id":101665673,"body_markdown":"Hi Daniel, thank you for your corrections. My problem is that call to https rest api which calls http rest api doesn&#39;t return anything, no matter that i can see http rest api returns the value. Do you think that &quot;content&quot; thing will help? I return the responce to controller and it returns the responce of the type ResponseEntity&lt;String&gt; directly to user. So I think i do return the content of http strait away to https. But still nothing.","body":"Hi Daniel, thank you for your corrections. My problem is that call to https rest api which calls http rest api doesn&#39;t return anything, no matter that i can see http rest api returns the value. Do you think that &quot;content&quot; thing will help? I return the responce to controller and it returns the responce of the type ResponseEntity&lt;String&gt; directly to user. So I think i do return the content of http strait away to https. But still nothing."},{"owner":{"account_id":8088075,"reputation":11,"user_id":6094972,"display_name":"Konstantin P."},"score":0,"creation_date":1566461345,"post_id":57598126,"comment_id":101665678,"body_markdown":"When I&#39;ve checked the response of the http - the data was of the type &quot;chunked data&quot;. Could it be the case that I wait for the json and that&#39;s the reason the output marked as 502 error? So could it be fixed probably with additional headers somehow?","body":"When I&#39;ve checked the response of the http - the data was of the type &quot;chunked data&quot;. Could it be the case that I wait for the json and that&#39;s the reason the output marked as 502 error? So could it be fixed probably with additional headers somehow?"},{"owner":{"account_id":6106240,"reputation":36,"user_id":4763898,"display_name":"Daniel Fuchs"},"score":0,"creation_date":1567430804,"post_id":57598126,"comment_id":101951855,"body_markdown":"Sorry for the long time since my last reply, was on vacation. My guess is that you should wait for all data chunks, then parse them as a String and after that send the answer back with your HTTPS request.","body":"Sorry for the long time since my last reply, was on vacation. My guess is that you should wait for all data chunks, then parse them as a String and after that send the answer back with your HTTPS request."},{"owner":{"account_id":6106240,"reputation":36,"user_id":4763898,"display_name":"Daniel Fuchs"},"score":0,"creation_date":1567431586,"post_id":57598126,"comment_id":101952200,"body_markdown":"Also this answer here could help you, just give it a try: https://stackoverflow.com/a/30960274/4763898","body":"Also this answer here could help you, just give it a try: <a href=\"https://stackoverflow.com/a/30960274/4763898\">stackoverflow.com/a/30960274/4763898</a>"}],"tags":[],"owner":{"account_id":6106240,"reputation":36,"user_id":4763898,"display_name":"Daniel Fuchs"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566416195,"creation_date":1566415890,"answer_id":57598126,"question_id":57597895,"body_markdown":"You got a few small issues in your code\r\nThe last line (return statement) needs to finish with a semicolon and you wrote „responce“ instead of „response“.\r\n\r\n    public ResponseEntity&lt;String&gt; function()\r\n    {\r\n      RestTemplate restTemplate = new RestTemplate();\r\n      String myUrl = &quot;http://xxxxxx:8081&quot;;\r\n      ResponseEntity&lt;String&gt; response = restTemplate.getForEntity(myUrl + &quot;/api/test/suspend/12&quot;, String.class);\r\n      return response;\r\n    }\r\n\r\nYou should additionally use the content of the response of the HTTP request and use it as the content of your actual HTTPS request, otherwise you will mix the requests which will not work.","title":"Calling http rest api from https rest api with error 502","body":"<p>You got a few small issues in your code\nThe last line (return statement) needs to finish with a semicolon and you wrote „responce“ instead of „response“.</p>\n\n<pre><code>public ResponseEntity&lt;String&gt; function()\n{\n  RestTemplate restTemplate = new RestTemplate();\n  String myUrl = \"http://xxxxxx:8081\";\n  ResponseEntity&lt;String&gt; response = restTemplate.getForEntity(myUrl + \"/api/test/suspend/12\", String.class);\n  return response;\n}\n</code></pre>\n\n<p>You should additionally use the content of the response of the HTTP request and use it as the content of your actual HTTPS request, otherwise you will mix the requests which will not work.</p>\n"},{"comments":[{"owner":{"account_id":8088075,"reputation":11,"user_id":6094972,"display_name":"Konstantin P."},"score":0,"creation_date":1566460876,"post_id":57598286,"comment_id":101665471,"body_markdown":"Christopher, thank you for your answer. If I won&#39;t use authorisation in postman then my https rest api which calls http rest api won&#39;t be available because of no security token.","body":"Christopher, thank you for your answer. If I won&#39;t use authorisation in postman then my https rest api which calls http rest api won&#39;t be available because of no security token."}],"tags":[],"owner":{"account_id":9193259,"reputation":425,"user_id":6832959,"display_name":"Christopher"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566416703,"creation_date":1566416703,"answer_id":57598286,"question_id":57597895,"body_markdown":"In postman, under Authorization tab, there is Type listbox, please select &quot;No Auth&quot;","title":"Calling http rest api from https rest api with error 502","body":"<p>In postman, under Authorization tab, there is Type listbox, please select \"No Auth\"</p>\n"}],"owner":{"account_id":8088075,"reputation":11,"user_id":6094972,"display_name":"Konstantin P."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13301,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1690783650,"creation_date":1566414676,"question_id":57597895,"body_markdown":"I call my https REST APi that calls http api on another server using Postman, and it returns 502 bad gateway error. Authentication for https API is set in a header and accept:application/json as well. All other https rest apis that not calling ohter http apis on remote server works fine.\r\n\r\n\r\n\r\n\r\n\r\nI&#39;ve created REST APIs with authentication using SpringBoot. There are GET and POST methods. They all have URL like https://.... Before calling them, user has to get a security token. Those Rest apis are available as war file residing on Server_1 deployed in tomcat. From a number of the APIs, I call another Rest services residing as jar file on another Server_2 and its URL has a URL like http://.... When I call one https rest api residing in war file on Server_1, the request goes through to Server_2. Http rest api on Server_2 answers with the JSON file. I can see it in the logs of Server_2, plus I&#39;ve captured the http traffic between servers. It looks like http rest api receives the request and sends the answer back, but then https RestApi from Server_1 rejects the answer because it&#39;s not encrypted and gives bad gateway 502 error. If there is any way to fix this error?\r\n\r\n//This is how I call http rest api on server 2. This code is part of https rest api on Server 1(war file in tomcat)\r\n\r\n\r\n    public ResponseEntity&lt;String&gt; function()\r\n    {\r\n    RestTemplate restTemplate = new RestTemplate();\r\n    String myUrl = &quot;http://xxxxxx:8081&quot;;\r\n    ResponseEntity&lt;String&gt; response = restTemplate.getForEntity(myUrl + &quot;/api/test/suspend/12&quot;, String.class);\r\n    return responce\r\n    }","title":"Calling http rest api from https rest api with error 502","body":"<p>I call my https REST APi that calls http api on another server using Postman, and it returns 502 bad gateway error. Authentication for https API is set in a header and accept:application/json as well. All other https rest apis that not calling ohter http apis on remote server works fine.</p>\n\n<p>I've created REST APIs with authentication using SpringBoot. There are GET and POST methods. They all have URL like https://.... Before calling them, user has to get a security token. Those Rest apis are available as war file residing on Server_1 deployed in tomcat. From a number of the APIs, I call another Rest services residing as jar file on another Server_2 and its URL has a URL like http://.... When I call one https rest api residing in war file on Server_1, the request goes through to Server_2. Http rest api on Server_2 answers with the JSON file. I can see it in the logs of Server_2, plus I've captured the http traffic between servers. It looks like http rest api receives the request and sends the answer back, but then https RestApi from Server_1 rejects the answer because it's not encrypted and gives bad gateway 502 error. If there is any way to fix this error?</p>\n\n<p>//This is how I call http rest api on server 2. This code is part of https rest api on Server 1(war file in tomcat)</p>\n\n<pre><code>public ResponseEntity&lt;String&gt; function()\n{\nRestTemplate restTemplate = new RestTemplate();\nString myUrl = \"http://xxxxxx:8081\";\nResponseEntity&lt;String&gt; response = restTemplate.getForEntity(myUrl + \"/api/test/suspend/12\", String.class);\nreturn responce\n}\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"comments":[{"owner":{"account_id":4781645,"reputation":329,"user_id":3863189,"display_name":"Kumar"},"score":0,"creation_date":1690815330,"post_id":76801021,"comment_id":135401907,"body_markdown":"does it also has the capability to navigate to the particular method","body":"does it also has the capability to navigate to the particular method"},{"owner":{"account_id":27626632,"reputation":91,"user_id":21086490,"display_name":"Adarsh Sharma"},"score":0,"creation_date":1690828931,"post_id":76801021,"comment_id":135404571,"body_markdown":"No, ADB itself does not have the capability to navigate to a particular method in the source code of an Android application. ADB is primarily a command-line tool used for various Android device and emulator operations.","body":"No, ADB itself does not have the capability to navigate to a particular method in the source code of an Android application. ADB is primarily a command-line tool used for various Android device and emulator operations."},{"owner":{"account_id":27626632,"reputation":91,"user_id":21086490,"display_name":"Adarsh Sharma"},"score":0,"creation_date":1690829247,"post_id":76801021,"comment_id":135404647,"body_markdown":"For code navigation, you would typically use an  IDE like Android Studio.  You can use keyboard shortcuts: In Android Studio, you can use &quot;Ctrl + B&quot; (Windows/Linux) or &quot;Cmd + B&quot; (macOS) to navigate to the declaration of a class, method, or variable.","body":"For code navigation, you would typically use an  IDE like Android Studio.  You can use keyboard shortcuts: In Android Studio, you can use &quot;Ctrl + B&quot; (Windows/Linux) or &quot;Cmd + B&quot; (macOS) to navigate to the declaration of a class, method, or variable."}],"tags":[],"owner":{"account_id":27626632,"reputation":91,"user_id":21086490,"display_name":"Adarsh Sharma"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690783471,"creation_date":1690783471,"answer_id":76801021,"question_id":76800973,"body_markdown":"\r\n\r\n    Yes, it is possible to navigate to the code of an Android application, but it&#39;s not as straightforward as it is in a web browser. There are a few different ways to do it, but the most common way is to use a tool called Android Debug Bridge (ADB).\r\n    \r\n    ADB is a command-line tool that allows you to communicate with an Android device or emulator. One of the things that ADB can do is list the classes that are currently loaded in an Android application. To do this, you can use the following command:\r\n    \r\n       adb shell dumpsys | grep classes\r\n\r\n    This will output a list of all the classes that are currently loaded in the application. You can then use this list to navigate to the source code for the class that you&#39;re interested in.","title":"navigate to the source code of the running apk and inspect the files","body":"<pre><code>Yes, it is possible to navigate to the code of an Android application, but it's not as straightforward as it is in a web browser. There are a few different ways to do it, but the most common way is to use a tool called Android Debug Bridge (ADB).\n\nADB is a command-line tool that allows you to communicate with an Android device or emulator. One of the things that ADB can do is list the classes that are currently loaded in an Android application. To do this, you can use the following command:\n\n   adb shell dumpsys | grep classes\n\nThis will output a list of all the classes that are currently loaded in the application. You can then use this list to navigate to the source code for the class that you're interested in.\n</code></pre>\n"}],"owner":{"account_id":4781645,"reputation":329,"user_id":3863189,"display_name":"Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690783471,"creation_date":1690782855,"question_id":76800973,"body_markdown":"I have the source code on my machine and the same builded apk is profiled into the simulator, but I am stuck at the code navigation, though I can get all logs via\r\n\r\n`adb logcat *`\r\n\r\nbut not able to navigate to the html code or to the class files\r\n\r\nthe same feature that our browser provides after we do the `inspect element` in the context click on any browser, I don&#39;t know if this is possible for android applications.\r\n\r\n\r\n\r\nI tried way to navigate to the element&#39;s source via appium-tool for the running application in the simulator, but that didn&#39;t navigate me to the particular class files. that shows the elements from the web-view, not the class files that I was looking for.","title":"navigate to the source code of the running apk and inspect the files","body":"<p>I have the source code on my machine and the same builded apk is profiled into the simulator, but I am stuck at the code navigation, though I can get all logs via</p>\n<p><code>adb logcat *</code></p>\n<p>but not able to navigate to the html code or to the class files</p>\n<p>the same feature that our browser provides after we do the <code>inspect element</code> in the context click on any browser, I don't know if this is possible for android applications.</p>\n<p>I tried way to navigate to the element's source via appium-tool for the running application in the simulator, but that didn't navigate me to the particular class files. that shows the elements from the web-view, not the class files that I was looking for.</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":973275,"reputation":884,"user_id":995333,"accept_rate":52,"display_name":"saum22"},"score":0,"creation_date":1351919757,"post_id":13206173,"comment_id":17981218,"body_markdown":"Check this .This might help http://stackoverflow.com/questions/12127407/write-arraylist-to-a-database-java","body":"Check this .This might help <a href=\"http://stackoverflow.com/questions/12127407/write-arraylist-to-a-database-java\" title=\"write arraylist to a database java\">stackoverflow.com/questions/12127407/&hellip;</a>"},{"owner":{"account_id":1430778,"reputation":3528,"user_id":1353243,"accept_rate":64,"display_name":"thar45"},"score":4,"creation_date":1351919757,"post_id":13206173,"comment_id":17981219,"body_markdown":"What you have tried ? Did you get any errors?","body":"What you have tried ? Did you get any errors?"},{"owner":{"account_id":277416,"reputation":681878,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1351928010,"post_id":13206173,"comment_id":17982430,"body_markdown":"It&#39;s probably a bad idea anyway. Store each element as a row in an additional table.","body":"It&#39;s probably a bad idea anyway. Store each element as a row in an additional table."}],"answers":[{"tags":[],"owner":{"account_id":3622740,"reputation":864,"user_id":3021082,"accept_rate":20,"display_name":"Jain"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1385527732,"creation_date":1385527732,"answer_id":20234138,"question_id":13206173,"body_markdown":"There is no direct way of inserting an array list into a row in mysql. But if you want to insert the names in a single row , then instead of putting them into arraylist you could just save them into a string variable and maybe separate them with a &#39;character&#39; and then use insert query to save it in Db.\r\n\r\nOtherwise you have to make a separate method to convert this this arraylist into a string and then do the above","title":"How to insert ArrayList data type into MySQL database in Java","body":"<p>There is no direct way of inserting an array list into a row in mysql. But if you want to insert the names in a single row , then instead of putting them into arraylist you could just save them into a string variable and maybe separate them with a 'character' and then use insert query to save it in Db.</p>\n\n<p>Otherwise you have to make a separate method to convert this this arraylist into a string and then do the above</p>\n"},{"tags":[],"owner":{"account_id":18991005,"reputation":1312,"user_id":13860286,"display_name":"Shila Mosammami"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1646391024,"creation_date":1646391024,"answer_id":71350300,"question_id":13206173,"body_markdown":"Insert batch would be the good solution:\r\n  \r\nsupposing connection is your mysql jdbc connection:\r\n\r\n       String queryInsert=&quot;INSERT INTO  TableName ( name, field2 ,...) values (?,?,..)&quot;;\r\n            try( PreparedStatement ps= connection.prepareStatement(queryInsert);){\r\n                 connection.autoCommit(false);\r\n                for(String name:NameSet){\r\n                ps.setString(1,name);\r\n                 ....\r\n          }\r\n        ps.executeBatch();\r\n        connection.commit();\r\n    } catch (SQLException e) {\r\n    \tcon.rollback();\r\n    \tSystem.err.format(e.getSQLState(), e.getMessage());\r\n    } \r\n\r\n\r\n","title":"How to insert ArrayList data type into MySQL database in Java","body":"<p>Insert batch would be the good solution:</p>\n<p>supposing connection is your mysql jdbc connection:</p>\n<pre><code>   String queryInsert=&quot;INSERT INTO  TableName ( name, field2 ,...) values (?,?,..)&quot;;\n        try( PreparedStatement ps= connection.prepareStatement(queryInsert);){\n             connection.autoCommit(false);\n            for(String name:NameSet){\n            ps.setString(1,name);\n             ....\n      }\n    ps.executeBatch();\n    connection.commit();\n} catch (SQLException e) {\n    con.rollback();\n    System.err.format(e.getSQLState(), e.getMessage());\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":26746552,"reputation":21,"user_id":20346539,"display_name":"JIBINA"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690781672,"creation_date":1690781672,"answer_id":76800890,"question_id":13206173,"body_markdown":" \r\n\r\n 1. List item`ArrayList&lt;String&gt; nameSet = new ArrayList&lt;&gt;();\r\n        nameSet.add(&quot;Item 1&quot;);\r\n        nameSet.add(&quot;Item 2&quot;);\r\n        nameSet.add(&quot;Item 3&quot;);` \r\n\r\nStep 2: Establish a connection to the MySQL database\r\n   `Connection connection = DriverManager.getConnection(url,username,password);`\r\n\r\nStep 3: Create an SQL insert statement\r\n ` String insertQuery = &quot;INSERT INTO your_table_name (column_name) VALUES (?)&quot;;`\r\n\r\nStep 4: Concatenate the ArrayList elements into a single string\r\n           ` StringBuilder concatenatedNames = new StringBuilder();\r\n            for (String item : nameSet) {\r\n                concatenatedNames.append(item).append(&quot;, &quot;);\r\n            }\r\n            concatenatedNames.setLength(concatenatedNames.length() - 2);`\r\n           Remove the last &quot;, &quot;\r\n\r\nStep 5: Execute the SQL statement\r\n           ` PreparedStatement preparedStatement = connection.prepareStatement(insertQuery);\r\n            preparedStatement.setString(1, concatenatedNames.toString());\r\n            preparedStatement.executeUpdate();`\r\n","title":"How to insert ArrayList data type into MySQL database in Java","body":"<ol>\n<li>List item<code>ArrayList&lt;String&gt; nameSet = new ArrayList&lt;&gt;(); nameSet.add(&quot;Item 1&quot;); nameSet.add(&quot;Item 2&quot;); nameSet.add(&quot;Item 3&quot;);</code></li>\n</ol>\n<p>Step 2: Establish a connection to the MySQL database\n<code>Connection connection = DriverManager.getConnection(url,username,password);</code></p>\n<p>Step 3: Create an SQL insert statement\n<code> String insertQuery = &quot;INSERT INTO your_table_name (column_name) VALUES (?)&quot;;</code></p>\n<p>Step 4: Concatenate the ArrayList elements into a single string\n<code> StringBuilder concatenatedNames = new StringBuilder(); for (String item : nameSet) { concatenatedNames.append(item).append(&quot;, &quot;); } concatenatedNames.setLength(concatenatedNames.length() - 2);</code>\nRemove the last &quot;, &quot;</p>\n<p>Step 5: Execute the SQL statement\n<code> PreparedStatement preparedStatement = connection.prepareStatement(insertQuery); preparedStatement.setString(1, concatenatedNames.toString()); preparedStatement.executeUpdate();</code></p>\n"}],"owner":{"account_id":1594118,"reputation":19382,"user_id":1476749,"accept_rate":57,"display_name":"Jury A"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3185,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1690781672,"creation_date":1351919569,"question_id":13206173,"body_markdown":"I have the following variable:\r\n\r\n     ArrayList&lt;String&gt; NameSet = new ArrayList&lt;String&gt;();\r\n\r\nThat I filled it with items in a loop using the `add` method as follows:\r\n\r\n      NameSet.add(Body.item(t).getAttributes().getNamedItem(&quot;name&quot;).getNodeValue());\r\n\r\nHow can I insert the list in a Long text data type in MySQL database ?","title":"How to insert ArrayList data type into MySQL database in Java","body":"<p>I have the following variable:</p>\n\n<pre><code> ArrayList&lt;String&gt; NameSet = new ArrayList&lt;String&gt;();\n</code></pre>\n\n<p>That I filled it with items in a loop using the <code>add</code> method as follows:</p>\n\n<pre><code>  NameSet.add(Body.item(t).getAttributes().getNamedItem(\"name\").getNodeValue());\n</code></pre>\n\n<p>How can I insert the list in a Long text data type in MySQL database ?</p>\n"},{"tags":["java","spring","spring-boot","thymeleaf","spring-thymeleaf"],"comments":[{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1690789031,"post_id":76800835,"comment_id":135396480,"body_markdown":"you can use `SpringWebFluxTemplateEngine`","body":"you can use <code>SpringWebFluxTemplateEngine</code>"},{"owner":{"account_id":12570978,"reputation":1684,"user_id":9145082,"display_name":"Ravi"},"score":0,"creation_date":1690795839,"post_id":76800835,"comment_id":135397748,"body_markdown":"@muhammedozbilici Can you give me the jar that contains `SpringWebFluxTemplateEngine` ? I searched for thymeleaf-spring5-webflux in maven repository but could not find anything.","body":"@muhammedozbilici Can you give me the jar that contains <code>SpringWebFluxTemplateEngine</code> ? I searched for thymeleaf-spring5-webflux in maven repository but could not find anything."},{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1690878186,"post_id":76800835,"comment_id":135410843,"body_markdown":"check these links -&gt; https://www.thymeleaf.org/apidocs/thymeleaf-spring5/3.0.11.RELEASE/org/thymeleaf/spring5/SpringWebFluxTemplateEngine.html\n\nhttps://hantsy.github.io/spring-reactive-sample/web/view.html","body":"check these links -&gt; <a href=\"https://www.thymeleaf.org/apidocs/thymeleaf-spring5/3.0.11.RELEASE/org/thymeleaf/spring5/SpringWebFluxTemplateEngine.html\" rel=\"nofollow noreferrer\">thymeleaf.org/apidocs/thymeleaf-spring5/3.0.11.RELEASE/org/&hellip;</a>  <a href=\"https://hantsy.github.io/spring-reactive-sample/web/view.html\" rel=\"nofollow noreferrer\">hantsy.github.io/spring-reactive-sample/web/view.html</a>"}],"owner":{"account_id":12570978,"reputation":1684,"user_id":9145082,"display_name":"Ravi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690780758,"creation_date":1690780758,"question_id":76800835,"body_markdown":"I&#39;m getting below error when I upgraded thymleaf libraries `org.thymeleaf:thymeleaf-spring5:3.0.15.RELEASE`, `org.thymeleaf.extras:thymeleaf-extras-springsecurity5:3.0.4.RELEASE` to `org.thymeleaf:thymeleaf-spring5:3.1.1.RELEASE`, `org.thymeleaf.extras:thymeleaf-extras-springsecurity5:3.1.1.RELEASE`.\r\n\r\nError Message \r\n\r\n `error: cannot find symbol\r\nimport org.thymeleaf.spring5.context.webflux.SpringWebFluxEngineContext;\r\n                                            ^\r\n  symbol:   class SpringWebFluxEngineContext\r\n  location: package org.thymeleaf.spring5.context.webflux`\r\n\r\nI also tried to upgrade to `org.thymeleaf:thymeleaf-spring6:3.1.1.RELEASE, org.thymeleaf.extras:thymeleaf-extras-springsecurity6:3.1.1.RELEASE`\r\n\r\nBut still I do not see that `SpringWebFluxEngineContext` is not found when I import it from `import org.thymeleaf.spring5.context.webflux.SpringWebFluxEngineContext;` \r\n\r\nIt seems that `SpringWebFluxEngineContext` is removed from thymleaf 3.1.1 but I&#39;m not sure what class should I use alternatively.\r\n\r\nCan someone help me fixing the error?\r\n","title":"Has org.thymeleaf.spring5.context.webflux.SpringWebFluxEngineContext removed from thymeleaf-spring5:3.1.1.RELEASE?","body":"<p>I'm getting below error when I upgraded thymleaf libraries <code>org.thymeleaf:thymeleaf-spring5:3.0.15.RELEASE</code>, <code>org.thymeleaf.extras:thymeleaf-extras-springsecurity5:3.0.4.RELEASE</code> to <code>org.thymeleaf:thymeleaf-spring5:3.1.1.RELEASE</code>, <code>org.thymeleaf.extras:thymeleaf-extras-springsecurity5:3.1.1.RELEASE</code>.</p>\n<p>Error Message</p>\n<p><code>error: cannot find symbol import org.thymeleaf.spring5.context.webflux.SpringWebFluxEngineContext; ^ symbol:   class SpringWebFluxEngineContext location: package org.thymeleaf.spring5.context.webflux</code></p>\n<p>I also tried to upgrade to <code>org.thymeleaf:thymeleaf-spring6:3.1.1.RELEASE, org.thymeleaf.extras:thymeleaf-extras-springsecurity6:3.1.1.RELEASE</code></p>\n<p>But still I do not see that <code>SpringWebFluxEngineContext</code> is not found when I import it from <code>import org.thymeleaf.spring5.context.webflux.SpringWebFluxEngineContext;</code></p>\n<p>It seems that <code>SpringWebFluxEngineContext</code> is removed from thymleaf 3.1.1 but I'm not sure what class should I use alternatively.</p>\n<p>Can someone help me fixing the error?</p>\n"},{"tags":["java","sockets","inputstream","serversocket","outputstream"],"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690779556,"post_id":76800726,"comment_id":135395237,"body_markdown":"`readAllBytes()` will block until EOS. This only happens when the peer closes the connection.. The peer hasn&#39;t closed the connection yet because he is going to read your reply. I suggest you exchange lines, or send a length word prefix.","body":"<code>readAllBytes()</code> will block until EOS. This only happens when the peer closes the connection.. The peer hasn&#39;t closed the connection yet because he is going to read your reply. I suggest you exchange lines, or send a length word prefix."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690780323,"creation_date":1690780323,"answer_id":76800804,"question_id":76800726,"body_markdown":"`readAllBytes` reads *all* the bytes. How does the server know that &quot;hello world&quot; is the entirety of the data that the client is going to send? It doesn&#39;t, so it waits for more. `readAllBytes` will read everything until the stream is closed. But if you close the stream, you will also close the socket, which means the client will not be able to read the response from the server.\r\n\r\nSo you need to establish some way to indicate &quot;this is the end of the message&quot;, so that the server can stop reading the message, and start sending the response. This could be a specific byte, or a specific sequence of bytes. Alternatively, the server can be made to only read a fixed amount of bytes each time, by using `readNBytes`.\r\n\r\n\r\nSince you are sending text, I would suggest that you wrap the input/output streams with something that actually understands *text*, instead of working with the raw bytes. For example, you could use a `Scanner` to read, and a `PrintStream` to write. Then it is very convenient to use a line separator as &quot;the end of the message&quot; (`println` and `nextLine`).\r\n\r\n```\r\ntry (ServerSocket serverSocket = new ServerSocket(8080);\r\n     Socket socket = serverSocket.accept();\r\n     Scanner in = new Scanner(socket.getInputStream());\r\n     PrintStream out = new PrintStream(socket.getOutputStream())) {\r\n\r\n    System.out.println(&quot;SERVER: reading message...&quot;);\r\n    String s = in.nextLine();\r\n\r\n    System.out.println(&quot;SERVER: message from the client: &quot; + s);\r\n\r\n    System.out.println(&quot;SERVER: sending message back...&quot;);\r\n    out.println(s);\r\n    out.flush();\r\n    System.out.println(&quot;SERVER: message sent back.&quot;);\r\n\r\n} catch (Exception e) {\r\n    e.printStackTrace();\r\n}\r\n```\r\n\r\n```\r\ntry (Socket socket = new Socket(&quot;localhost&quot;, 8080);\r\n     PrintStream out = new PrintStream(socket.getOutputStream());\r\n     Scanner in = new Scanner(socket.getInputStream())) {\r\n\r\n    System.out.println(&quot;CLIENT: sending message...&quot;);\r\n    out.println(&quot;hello world&quot;);\r\n    out.flush();\r\n    System.out.println(&quot;CLIENT: message sent.&quot;);\r\n\r\n    System.out.println(&quot;CLIENT: reading response from the server...&quot;);\r\n    String s = in.nextLine();\r\n    System.out.println(&quot;CLIENT: response from the server: &quot; + s);\r\n\r\n} catch (Exception e) {\r\n    e.printStackTrace();\r\n}\r\n```","title":"Simple echo java socket program is not working for me","body":"<p><code>readAllBytes</code> reads <em>all</em> the bytes. How does the server know that &quot;hello world&quot; is the entirety of the data that the client is going to send? It doesn't, so it waits for more. <code>readAllBytes</code> will read everything until the stream is closed. But if you close the stream, you will also close the socket, which means the client will not be able to read the response from the server.</p>\n<p>So you need to establish some way to indicate &quot;this is the end of the message&quot;, so that the server can stop reading the message, and start sending the response. This could be a specific byte, or a specific sequence of bytes. Alternatively, the server can be made to only read a fixed amount of bytes each time, by using <code>readNBytes</code>.</p>\n<p>Since you are sending text, I would suggest that you wrap the input/output streams with something that actually understands <em>text</em>, instead of working with the raw bytes. For example, you could use a <code>Scanner</code> to read, and a <code>PrintStream</code> to write. Then it is very convenient to use a line separator as &quot;the end of the message&quot; (<code>println</code> and <code>nextLine</code>).</p>\n<pre><code>try (ServerSocket serverSocket = new ServerSocket(8080);\n     Socket socket = serverSocket.accept();\n     Scanner in = new Scanner(socket.getInputStream());\n     PrintStream out = new PrintStream(socket.getOutputStream())) {\n\n    System.out.println(&quot;SERVER: reading message...&quot;);\n    String s = in.nextLine();\n\n    System.out.println(&quot;SERVER: message from the client: &quot; + s);\n\n    System.out.println(&quot;SERVER: sending message back...&quot;);\n    out.println(s);\n    out.flush();\n    System.out.println(&quot;SERVER: message sent back.&quot;);\n\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n<pre><code>try (Socket socket = new Socket(&quot;localhost&quot;, 8080);\n     PrintStream out = new PrintStream(socket.getOutputStream());\n     Scanner in = new Scanner(socket.getInputStream())) {\n\n    System.out.println(&quot;CLIENT: sending message...&quot;);\n    out.println(&quot;hello world&quot;);\n    out.flush();\n    System.out.println(&quot;CLIENT: message sent.&quot;);\n\n    System.out.println(&quot;CLIENT: reading response from the server...&quot;);\n    String s = in.nextLine();\n    System.out.println(&quot;CLIENT: response from the server: &quot; + s);\n\n} catch (Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n"}],"owner":{"account_id":24543348,"reputation":15,"user_id":18453536,"display_name":"JackStar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76800804,"answer_count":1,"score":1,"last_activity_date":1690780323,"creation_date":1690779090,"question_id":76800726,"body_markdown":"So i have two threads, one is server socket, second is clinet. Server reads some message from the client using `readAllBytes()` and then send this message back using `write()` and then `flush()`. Client basically does the same thing but in reverse order. Here is the code:\r\n```\r\npackage org.example;\r\n\r\nimport java.io.*;\r\nimport java.net.*;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        new Thread(() -&gt; {\r\n            try (ServerSocket serverSocket = new ServerSocket(8080); \r\n                 Socket socket = serverSocket.accept();\r\n                 InputStream in = socket.getInputStream(); \r\n                 OutputStream out = socket.getOutputStream()) {\r\n\r\n                System.out.println(&quot;SERVER: reading message...&quot;);\r\n                byte[] bytes = in.readAllBytes();\r\n                System.out.println(&quot;SERVER: message from the client: &quot; + new String(bytes));\r\n\r\n                System.out.println(&quot;SERVER: sending message back...&quot;);\r\n                out.write(bytes);\r\n                out.flush();\r\n                System.out.println(&quot;SERVER: message sent back.&quot;);\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }).start();\r\n\r\n        new Thread(() -&gt; {\r\n            try (Socket socket = new Socket(&quot;localhost&quot;, 8080); \r\n                 OutputStream out = socket.getOutputStream();\r\n                 InputStream in = socket.getInputStream()) {\r\n\r\n                System.out.println(&quot;CLIENT: sending message...&quot;);\r\n                out.write(&quot;hello world&quot;.getBytes());\r\n                out.flush();\r\n                System.out.println(&quot;CLIENT: message sent.&quot;);\r\n\r\n                System.out.println(&quot;CLIENT: reading response from the server...&quot;);\r\n                byte[] bytes = in.readAllBytes();\r\n                System.out.println(&quot;CLIENT: response from the server: &quot; + new String(bytes));\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }).start();\r\n    }\r\n}\r\n```\r\nHowever here is the output:\r\n```\r\nSERVER: reading message...\r\nCLIENT: sending message...\r\nCLIENT: message sent.\r\nCLIENT: reading response from the server...\r\n```\r\n\r\nAlthough client says that he sent message, server gives no response and i don&#39;t know why. And if I make it so that the server only reads the the message from the client and does not send anything back, and i make client only sending the message and nothing read back:\r\n```\r\nnew Thread(() -&gt; {\r\n            try (ServerSocket serverSocket = new ServerSocket(8080); Socket socket = serverSocket.accept(); InputStream in = socket.getInputStream()) {\r\n                System.out.println(&quot;SERVER: reading message...&quot;);\r\n                byte[] bytes = in.readAllBytes();\r\n                System.out.println(&quot;SERVER: message from the client: &quot; + new String(bytes));\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n}).start();\r\n\r\nnew Thread(() -&gt; {\r\n            try (Socket socket = new Socket(&quot;localhost&quot;, 8080); OutputStream out = socket.getOutputStream()) {\r\n                System.out.println(&quot;CLIENT: sending message...&quot;);\r\n                out.write(&quot;hello world&quot;.getBytes());\r\n                out.flush();\r\n                System.out.println(&quot;CLIENT: message sent&quot;);\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n}).start();\r\n```\r\nEverything will work just fine:\r\n```\r\nSERVER: reading message...\r\nCLIENT: sending message...\r\nCLIENT: message sent.\r\nSERVER: message from the client: hello world\r\n```","title":"Simple echo java socket program is not working for me","body":"<p>So i have two threads, one is server socket, second is clinet. Server reads some message from the client using <code>readAllBytes()</code> and then send this message back using <code>write()</code> and then <code>flush()</code>. Client basically does the same thing but in reverse order. Here is the code:</p>\n<pre><code>package org.example;\n\nimport java.io.*;\nimport java.net.*;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Thread(() -&gt; {\n            try (ServerSocket serverSocket = new ServerSocket(8080); \n                 Socket socket = serverSocket.accept();\n                 InputStream in = socket.getInputStream(); \n                 OutputStream out = socket.getOutputStream()) {\n\n                System.out.println(&quot;SERVER: reading message...&quot;);\n                byte[] bytes = in.readAllBytes();\n                System.out.println(&quot;SERVER: message from the client: &quot; + new String(bytes));\n\n                System.out.println(&quot;SERVER: sending message back...&quot;);\n                out.write(bytes);\n                out.flush();\n                System.out.println(&quot;SERVER: message sent back.&quot;);\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }).start();\n\n        new Thread(() -&gt; {\n            try (Socket socket = new Socket(&quot;localhost&quot;, 8080); \n                 OutputStream out = socket.getOutputStream();\n                 InputStream in = socket.getInputStream()) {\n\n                System.out.println(&quot;CLIENT: sending message...&quot;);\n                out.write(&quot;hello world&quot;.getBytes());\n                out.flush();\n                System.out.println(&quot;CLIENT: message sent.&quot;);\n\n                System.out.println(&quot;CLIENT: reading response from the server...&quot;);\n                byte[] bytes = in.readAllBytes();\n                System.out.println(&quot;CLIENT: response from the server: &quot; + new String(bytes));\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }).start();\n    }\n}\n</code></pre>\n<p>However here is the output:</p>\n<pre><code>SERVER: reading message...\nCLIENT: sending message...\nCLIENT: message sent.\nCLIENT: reading response from the server...\n</code></pre>\n<p>Although client says that he sent message, server gives no response and i don't know why. And if I make it so that the server only reads the the message from the client and does not send anything back, and i make client only sending the message and nothing read back:</p>\n<pre><code>new Thread(() -&gt; {\n            try (ServerSocket serverSocket = new ServerSocket(8080); Socket socket = serverSocket.accept(); InputStream in = socket.getInputStream()) {\n                System.out.println(&quot;SERVER: reading message...&quot;);\n                byte[] bytes = in.readAllBytes();\n                System.out.println(&quot;SERVER: message from the client: &quot; + new String(bytes));\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n}).start();\n\nnew Thread(() -&gt; {\n            try (Socket socket = new Socket(&quot;localhost&quot;, 8080); OutputStream out = socket.getOutputStream()) {\n                System.out.println(&quot;CLIENT: sending message...&quot;);\n                out.write(&quot;hello world&quot;.getBytes());\n                out.flush();\n                System.out.println(&quot;CLIENT: message sent&quot;);\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n}).start();\n</code></pre>\n<p>Everything will work just fine:</p>\n<pre><code>SERVER: reading message...\nCLIENT: sending message...\nCLIENT: message sent.\nSERVER: message from the client: hello world\n</code></pre>\n"},{"tags":["java","sftp","sshj"],"comments":[{"owner":{"account_id":3590209,"reputation":1021,"user_id":2996452,"accept_rate":62,"display_name":"Jokkeri"},"score":0,"creation_date":1690376224,"post_id":76609975,"comment_id":135344668,"body_markdown":"I think you can do it using the &#39;RemoteFile.write&#39; to write directly as a stream, getting a little manual though.","body":"I think you can do it using the &#39;RemoteFile.write&#39; to write directly as a stream, getting a little manual though."}],"answers":[{"tags":[],"owner":{"account_id":3590209,"reputation":1021,"user_id":2996452,"accept_rate":62,"display_name":"Jokkeri"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690778671,"creation_date":1690778671,"answer_id":76800713,"question_id":76609975,"body_markdown":"I think here is something you could try (using java SSHJ-lib):\r\n\r\n        SSHClient ssh;\r\n        SFTPClient client;\r\n        \r\n        ssh = new SSHClient();\r\n        \r\n        ssh.connect(&quot;myhost&quot;);\r\n        \r\n        client = ssh.newSFTPClient();\r\n        \r\n        // Overwrites the file in dest\r\n        RemoteFile handle = client.open(&quot;/path/to/my/file.txt&quot;,\r\n                EnumSet.of(OpenMode.WRITE, OpenMode.READ,\r\n                        OpenMode.CREAT, OpenMode.TRUNC));\r\n        \r\n        \r\n        InputStream input = null;\r\n        byte[] bytes = new byte[32768];\r\n        int len = 0;\r\n        long total = 0;\r\n        \r\n        input = getMyInputStreamFromSomeWhereOtherThanFile();\r\n        \r\n        while ((len = input.read(bytes)) &gt; 0) {\r\n            handle.write(total, bytes, 0, len);\r\n            total += len;\r\n        }\r\n        \r\n        System.out.println(&quot;Total of &quot; + total + &quot; bytes written&quot;);\r\n\r\nOf course the code needs still lots of modifications like handling and closing the streams, setting up connection parameters etc. but this gets you the idea on how you can write using stream.\r\n","title":"Java sshj libary, create file onto sftp linux server without an actual file","body":"<p>I think here is something you could try (using java SSHJ-lib):</p>\n<pre><code>    SSHClient ssh;\n    SFTPClient client;\n    \n    ssh = new SSHClient();\n    \n    ssh.connect(&quot;myhost&quot;);\n    \n    client = ssh.newSFTPClient();\n    \n    // Overwrites the file in dest\n    RemoteFile handle = client.open(&quot;/path/to/my/file.txt&quot;,\n            EnumSet.of(OpenMode.WRITE, OpenMode.READ,\n                    OpenMode.CREAT, OpenMode.TRUNC));\n    \n    \n    InputStream input = null;\n    byte[] bytes = new byte[32768];\n    int len = 0;\n    long total = 0;\n    \n    input = getMyInputStreamFromSomeWhereOtherThanFile();\n    \n    while ((len = input.read(bytes)) &gt; 0) {\n        handle.write(total, bytes, 0, len);\n        total += len;\n    }\n    \n    System.out.println(&quot;Total of &quot; + total + &quot; bytes written&quot;);\n</code></pre>\n<p>Of course the code needs still lots of modifications like handling and closing the streams, setting up connection parameters etc. but this gets you the idea on how you can write using stream.</p>\n"}],"owner":{"account_id":3606248,"reputation":51,"user_id":3008362,"display_name":"user3008362"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690778671,"creation_date":1688453223,"question_id":76609975,"body_markdown":"The software I am working with has net.schmizz.sshj jars as part of it. I am trying to use the same to write a csv bytestring into a csv file on an SFTP server\r\n\r\nI have searched quite a bit but not able to find a method in this library which can take an InputStream, the only options seem to take an existing file path or a File object. \r\n\r\nI need to be able to do this without actually creating a file on the local side as the software is SaaS delivered and we dont have permission to create an actual file on the hosting server. The file should only get created on the SFTP server\r\n\r\nIs there any option around this? Or the only option is to go with some other library?","title":"Java sshj libary, create file onto sftp linux server without an actual file","body":"<p>The software I am working with has net.schmizz.sshj jars as part of it. I am trying to use the same to write a csv bytestring into a csv file on an SFTP server</p>\n<p>I have searched quite a bit but not able to find a method in this library which can take an InputStream, the only options seem to take an existing file path or a File object.</p>\n<p>I need to be able to do this without actually creating a file on the local side as the software is SaaS delivered and we dont have permission to create an actual file on the hosting server. The file should only get created on the SFTP server</p>\n<p>Is there any option around this? Or the only option is to go with some other library?</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux"],"owner":{"account_id":23288738,"reputation":21,"user_id":17371137,"display_name":"dorty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":295,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1690778524,"creation_date":1690698534,"question_id":76796586,"body_markdown":"I am writing an integration test for the following Endpoint in my `Webflux` Service\r\n```  \r\n@GetMapping\r\npublic Mono&lt;ResponseEntity&lt;List&lt;UserWebModel&gt;&gt;&gt; getUsers() {\r\n    Flux&lt;User&gt; users = loadUserService.getusers(getUserIdFromToken());\r\n\r\n    return users.collectList()\r\n        .map(userList -&gt; ResponseEntity.ok(userMapper.map(userList)))\r\n        .switchIfEmpty(Mono.just(ResponseEntity.status(HttpStatus.NOT_FOUND).build()));\r\n}\r\n```\r\n\r\nThis Endpoint works fine when I start and test the service locally, but in my integration test I am getting an `UnsupportedOperationException` \r\n\r\n```\r\n@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\r\n@AutoConfigureWebTestClient\r\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\r\npublic class UserIntegrationTest  {\r\n\r\n  @Autowired\r\n  private WebTestClient webTestClient;\r\n\r\n  @Autowired\r\n  private UserRepository userRepository;\r\n\r\n  @BeforeAll\r\n  void setup() {\r\n    userRepository.saveAll(createMockUsers()).subscribe();\r\n  }\r\n\r\n  @AfterAll()\r\n  void cleanup() {\r\n    userRepository.deleteAll().subscribe();\r\n  }\r\n\r\n  @Test\r\n  void test_getUsers() {\r\n    initWiremockStubs();   \r\n\r\n    this.webTestClient\r\n        .mutateWith(mockJwt().jwt(jwt -&gt; jwt.claim(&quot;userid&quot;, &quot;12345&quot;)))\r\n        .get()\r\n        .uri(&quot;/users&quot;)\r\n        .exchange()\r\n        .expectStatus().isOk();\r\n  }\r\n```\r\n\r\nException\r\n\r\n&lt;code&gt;[ERROR] [] o.s.w.s.a.HttpWebHandlerAdapter - [4024b710] Error [java.lang.UnsupportedOperationException] for HTTP GET &quot;/users&quot;, but ServerHttpResponse already committed (200 OK)\r\nError occurred after response was completed: OK(200 OK)[Vary:&quot;Origin&quot;, &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;, Content-Type:&quot;application/json&quot;, Content-Length:&quot;2&quot;, Cache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;, Pragma:&quot;no-cache&quot;, Expires:&quot;0&quot;, X-Content-Type-Options:&quot;nosniff&quot;, X-Frame-Options:&quot;DENY&quot;, X-XSS-Protection:&quot;0&quot;, Referrer-Policy:&quot;no-referrer&quot;]\r\norg.springframework.web.reactive.function.client.WebClientRequestException: Error occurred after response was completed: OK(200 OK)[Vary:&quot;Origin&quot;, &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;, Content-Type:&quot;application/json&quot;, Content-Length:&quot;2&quot;, Cache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;, Pragma:&quot;no-cache&quot;, Expires:&quot;0&quot;, X-Content-Type-Options:&quot;nosniff&quot;, X-Frame-Options:&quot;DENY&quot;, X-XSS-Protection:&quot;0&quot;, Referrer-Policy:&quot;no-referrer&quot;]\r\n\tat app//org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:136)\r\n\t... 258 more\r\nCaused by: java.lang.UnsupportedOperationException\r\n\tat org.springframework.http.ReadOnlyHttpHeaders.set(ReadOnlyHttpHeaders.java:108)&lt;/code&gt;\r\n\r\nWhile debugging I&#39;ve found out, that an `EncoderHttpMessageWriter` is trying to write the `ContentLength` to `ReadOnlyHttpHeaders`, which leads to the `UnsupportedOperationException`.\r\n\r\n\tif (inputStream instanceof Mono) {\r\n\t\treturn body\r\n\t\t\t.singleOrEmpty()\r\n\t\t\t.switchIfEmpty(Mono.defer(() -&gt; {\r\n\t\t\t\tmessage.getHeaders().setContentLength(0);\r\n\t\t\t\treturn message.setComplete().then(Mono.empty());\r\n\t\t\t}))\r\n\t\t\t.flatMap(buffer -&gt; {\r\n\t\t\t\tHints.touchDataBuffer(buffer, hints, logger);\r\n\t\t\t\tmessage.getHeaders().setContentLength(buffer.readableByteCount()); // &lt;--\r\n\t\t\t\treturn message.writeWith(Mono.just(buffer)\r\n\t\t\t\t\t.doOnDiscard(DataBuffer.class, DataBufferUtils::release));\r\n\t\t\t})\r\n\t\t\t.doOnDiscard(DataBuffer.class, DataBufferUtils::release);\r\n\t}\r\n\r\nWhen I remove the response body in my endpoint the test works. What would be the issue here?","title":"UnsupportedOperationException in Webflux Integration Test","body":"<p>I am writing an integration test for the following Endpoint in my <code>Webflux</code> Service</p>\n<pre><code>@GetMapping\npublic Mono&lt;ResponseEntity&lt;List&lt;UserWebModel&gt;&gt;&gt; getUsers() {\n    Flux&lt;User&gt; users = loadUserService.getusers(getUserIdFromToken());\n\n    return users.collectList()\n        .map(userList -&gt; ResponseEntity.ok(userMapper.map(userList)))\n        .switchIfEmpty(Mono.just(ResponseEntity.status(HttpStatus.NOT_FOUND).build()));\n}\n</code></pre>\n<p>This Endpoint works fine when I start and test the service locally, but in my integration test I am getting an <code>UnsupportedOperationException</code></p>\n<pre><code>@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\n@AutoConfigureWebTestClient\n@TestInstance(TestInstance.Lifecycle.PER_CLASS)\npublic class UserIntegrationTest  {\n\n  @Autowired\n  private WebTestClient webTestClient;\n\n  @Autowired\n  private UserRepository userRepository;\n\n  @BeforeAll\n  void setup() {\n    userRepository.saveAll(createMockUsers()).subscribe();\n  }\n\n  @AfterAll()\n  void cleanup() {\n    userRepository.deleteAll().subscribe();\n  }\n\n  @Test\n  void test_getUsers() {\n    initWiremockStubs();   \n\n    this.webTestClient\n        .mutateWith(mockJwt().jwt(jwt -&gt; jwt.claim(&quot;userid&quot;, &quot;12345&quot;)))\n        .get()\n        .uri(&quot;/users&quot;)\n        .exchange()\n        .expectStatus().isOk();\n  }\n</code></pre>\n<p>Exception</p>\n<p><code>[ERROR] [] o.s.w.s.a.HttpWebHandlerAdapter - [4024b710] Error [java.lang.UnsupportedOperationException] for HTTP GET &quot;/users&quot;, but ServerHttpResponse already committed (200 OK)\nError occurred after response was completed: OK(200 OK)[Vary:&quot;Origin&quot;, &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;, Content-Type:&quot;application/json&quot;, Content-Length:&quot;2&quot;, Cache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;, Pragma:&quot;no-cache&quot;, Expires:&quot;0&quot;, X-Content-Type-Options:&quot;nosniff&quot;, X-Frame-Options:&quot;DENY&quot;, X-XSS-Protection:&quot;0&quot;, Referrer-Policy:&quot;no-referrer&quot;]\norg.springframework.web.reactive.function.client.WebClientRequestException: Error occurred after response was completed: OK(200 OK)[Vary:&quot;Origin&quot;, &quot;Access-Control-Request-Method&quot;, &quot;Access-Control-Request-Headers&quot;, Content-Type:&quot;application/json&quot;, Content-Length:&quot;2&quot;, Cache-Control:&quot;no-cache, no-store, max-age=0, must-revalidate&quot;, Pragma:&quot;no-cache&quot;, Expires:&quot;0&quot;, X-Content-Type-Options:&quot;nosniff&quot;, X-Frame-Options:&quot;DENY&quot;, X-XSS-Protection:&quot;0&quot;, Referrer-Policy:&quot;no-referrer&quot;]\nat app//org.springframework.web.reactive.function.client.ExchangeFunctions$DefaultExchangeFunction.lambda$wrapException$9(ExchangeFunctions.java:136)\n... 258 more\nCaused by: java.lang.UnsupportedOperationException\nat org.springframework.http.ReadOnlyHttpHeaders.set(ReadOnlyHttpHeaders.java:108)</code></p>\n<p>While debugging I've found out, that an <code>EncoderHttpMessageWriter</code> is trying to write the <code>ContentLength</code> to <code>ReadOnlyHttpHeaders</code>, which leads to the <code>UnsupportedOperationException</code>.</p>\n<pre><code>if (inputStream instanceof Mono) {\n    return body\n        .singleOrEmpty()\n        .switchIfEmpty(Mono.defer(() -&gt; {\n            message.getHeaders().setContentLength(0);\n            return message.setComplete().then(Mono.empty());\n        }))\n        .flatMap(buffer -&gt; {\n            Hints.touchDataBuffer(buffer, hints, logger);\n            message.getHeaders().setContentLength(buffer.readableByteCount()); // &lt;--\n            return message.writeWith(Mono.just(buffer)\n                .doOnDiscard(DataBuffer.class, DataBufferUtils::release));\n        })\n        .doOnDiscard(DataBuffer.class, DataBufferUtils::release);\n}\n</code></pre>\n<p>When I remove the response body in my endpoint the test works. What would be the issue here?</p>\n"},{"tags":["java","android","android-recyclerview"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1690759204,"post_id":76799880,"comment_id":135393894,"body_markdown":"The model card item height has a match_parent height, that should be wrap_content instead.","body":"The model card item height has a match_parent height, that should be wrap_content instead."}],"answers":[{"comments":[{"owner":{"account_id":23814062,"reputation":45,"user_id":17822547,"display_name":"Rober"},"score":0,"creation_date":1690810537,"post_id":76800534,"comment_id":135400753,"body_markdown":"Correct, this solved the problem and also helped me to understand some basic things about xml that i thought i knew. Thanks man, you really helped me :).","body":"Correct, this solved the problem and also helped me to understand some basic things about xml that i thought i knew. Thanks man, you really helped me :)."}],"tags":[],"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690774689,"creation_date":1690774689,"answer_id":76800534,"question_id":76799880,"body_markdown":"The issue is in how you set up the XML for each row/card in the RecyclerView. \r\n\r\nFirst, you need to change the height of the parent `ConstraintLayout` to `wrap_content` instead of `match_parent`. The height of a given row should not try to match the height of the parent recycler view, it should be just large enough to show its content. This will be enough to show all the cards, but the layouts will have a lot of white space because of the CardView margins (next part).\r\n\r\nSecond, you have some large hard-coded margins in the `CardView` itself that are most likely not what you want. These will result in huge cards with a lot of empty space. If you change the width there to `match_parent` and the height to `wrap_content` and remove the really large top/bottom margins you will see all three cards easily visible next to each other.\r\n\r\nYou may need to adjust the layout to get things looking the way you want within each card still, but they all show up. Hard-coding margins like 140dp is usually a red flag that you aren&#39;t using the ConstraintLayout properly.\r\n\r\n```xml\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout \r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n```\r\n\r\nResult of your demo code with those changes:\r\n\r\n[![recycler view][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/krGIw.png","title":"Items not showing up in the RecyclerView","body":"<p>The issue is in how you set up the XML for each row/card in the RecyclerView.</p>\n<p>First, you need to change the height of the parent <code>ConstraintLayout</code> to <code>wrap_content</code> instead of <code>match_parent</code>. The height of a given row should not try to match the height of the parent recycler view, it should be just large enough to show its content. This will be enough to show all the cards, but the layouts will have a lot of white space because of the CardView margins (next part).</p>\n<p>Second, you have some large hard-coded margins in the <code>CardView</code> itself that are most likely not what you want. These will result in huge cards with a lot of empty space. If you change the width there to <code>match_parent</code> and the height to <code>wrap_content</code> and remove the really large top/bottom margins you will see all three cards easily visible next to each other.</p>\n<p>You may need to adjust the layout to get things looking the way you want within each card still, but they all show up. Hard-coding margins like 140dp is usually a red flag that you aren't using the ConstraintLayout properly.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;androidx.constraintlayout.widget.ConstraintLayout \n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n</code></pre>\n<p>Result of your demo code with those changes:</p>\n<p><a href=\"https://i.stack.imgur.com/krGIw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/krGIw.png\" alt=\"recycler view\" /></a></p>\n"}],"owner":{"account_id":23814062,"reputation":45,"user_id":17822547,"display_name":"Rober"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76800534,"answer_count":1,"score":1,"last_activity_date":1690774689,"creation_date":1690757167,"question_id":76799880,"body_markdown":"I have an `Activity` that has a `RecyclerView` in the `layout`, i want to show some data in this `layout`  with a `RecyclerView`, the thing is that when i enter to the `Activity` the data is not visible and is empty.The data is collected with the help of a `java class` named `&quot;recyclerViewModel&quot;`, here i set a constructor with 6 `variables`, then i create in the `activity` code an `Arraylist` of this `class` and i create a total of 3 `objects` in a fast way with a `for` and `arrays` `(setDataRecycler method).` This 3 `objects`  have the 6 `variables` every one, every object means &quot;a profile&quot;. The `objects` are saved in the `ArrayList` and the objective is to show them , as i said, in the `RecyclerView`\r\n\r\nActivity java code:\r\n\r\n```\r\npackage com.example.calculoimcwithui;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport androidx.recyclerview.widget.LinearLayoutManager;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport android.os.Bundle;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class Profiles extends AppCompatActivity {\r\n\r\n    ArrayList&lt;recyclerViewModel&gt; data;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_profiles);\r\n        RecyclerView recyclerView = findViewById(R.id.recyclerView);\r\n        data = new ArrayList&lt;recyclerViewModel&gt;();\r\n        setDataRecycler();\r\n        recyclerViewAdapter adapter = new recyclerViewAdapter(this,data);\r\n        recyclerView.setAdapter(adapter);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n    }\r\n\r\n    private void setDataRecycler () {\r\n        String [] nombres = {&quot;Rober&quot;,&quot;Carlos&quot;,&quot;Laura&quot;};\r\n        String [] edades = {&quot;16&quot;,&quot;16&quot;,&quot;21&quot;};\r\n        String [] alturas = {&quot;178&quot;,&quot;180&quot;,&quot;162&quot;};\r\n        String [] pesos = {&quot;72&quot;,&quot;68&quot;,&quot;54&quot;};\r\n        String [] afs = {&quot;Bastante&quot;,&quot;Mucha&quot;,&quot;Bastante&quot;};\r\n        String [] generos = {&quot;Hombre&quot;,&quot;Hombre&quot;,&quot;Mujer&quot;};\r\n        for (int i = 0; i&lt;nombres.length;i++) {\r\n            data.add(new recyclerViewModel(nombres[i],edades[i],alturas[i],pesos[i],afs[i],generos[i]));\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nActivity xml code:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    tools:context=&quot;.Profiles&quot;&gt;\r\n\r\n    &lt;androidx.recyclerview.widget.RecyclerView\r\n        android:id=&quot;@+id/recyclerView&quot;\r\n        android:layout_width=&quot;399dp&quot;\r\n        android:layout_height=&quot;627dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.495&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.452&quot; /&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nRecyclerView Adapter:\r\n\r\n```\r\npackage com.example.calculoimcwithui;\r\n\r\nimport android.content.Context;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.example.calculoimcwithui.R;\r\nimport com.example.calculoimcwithui.recyclerViewModel;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class recyclerViewAdapter  extends RecyclerView.Adapter&lt;recyclerViewAdapter.ViewHolder&gt; {\r\n\r\n    Context context;\r\n    ArrayList&lt;recyclerViewModel&gt; data;\r\n\r\n    public recyclerViewAdapter (Context context, ArrayList&lt;recyclerViewModel&gt; data) {\r\n        this.context = context;\r\n        this.data = data;\r\n\r\n    }\r\n    @NonNull\r\n    @Override\r\n\r\n    public recyclerViewAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        LayoutInflater inflater = LayoutInflater.from(context);\r\n        View view = inflater.inflate(R.layout.recyclerviewmodel,parent,false);\r\n\r\n        return  new recyclerViewAdapter.ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull recyclerViewAdapter.ViewHolder holder, int position) {\r\n        holder.name.setText(data.get(position).getName());\r\n        holder.age.setText(data.get(position).getAge());\r\n        holder.height.setText(data.get(position).getAltura());\r\n        holder.weight.setText(data.get(position).getPeso());\r\n        holder.af.setText(data.get(position).getAf());\r\n        holder.gender.setText(data.get(position).getGenero());\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return data.size();\r\n    }\r\n\r\n    public static class ViewHolder extends  RecyclerView.ViewHolder {\r\n\r\n        TextView name;\r\n        TextView age;\r\n\r\n        TextView height;\r\n        TextView weight;\r\n        TextView af;\r\n        TextView gender;\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            name = itemView.findViewById(R.id.name);\r\n            age = itemView.findViewById(R.id.age);\r\n            height = itemView.findViewById(R.id.height);\r\n            weight = itemView.findViewById(R.id.weight);\r\n            af = itemView.findViewById(R.id.af);\r\n            gender = itemView.findViewById(R.id.gender);\r\n\r\n        }\r\n    }\r\n\r\n\r\n}\r\n```\r\n\r\nrecyclerViewModel java code\r\n\r\n```\r\npackage com.example.calculoimcwithui;\r\n\r\npublic class recyclerViewModel {\r\n\r\n    String name;\r\n    String age;\r\n    String altura;\r\n    String peso;\r\n    String af;\r\n    String genero;\r\n\r\n    public recyclerViewModel(String name, String age, String altura, String peso, String af, String genero) {\r\n        this.name = name;\r\n        this.age = age;\r\n        this.altura = altura;\r\n        this.peso = peso;\r\n        this.af = af;\r\n        this.genero = genero;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String getAge () {\r\n        return age;\r\n    }\r\n    public String getAltura () {\r\n        return  altura;\r\n    }\r\n    public String getPeso () {\r\n        return peso;\r\n    }\r\n\r\n    public String getAf () {\r\n        return af;\r\n    }\r\n    public String getGenero () {\r\n        return genero;\r\n    }\r\n}\r\n```\r\n\r\nRecyclerView Model card\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:layout_width=&quot;441dp&quot;\r\n        android:layout_height=&quot;117dp&quot;\r\n        android:layout_marginStart=&quot;1dp&quot;\r\n        android:layout_marginTop=&quot;245dp&quot;\r\n        android:layout_marginEnd=&quot;1dp&quot;\r\n        android:layout_marginBottom=&quot;486dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:id=&quot;@+id/recCard&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/name&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;16dp&quot;\r\n                android:layout_marginBottom=&quot;31dp&quot;\r\n                android:text=&quot;Nombre&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.373&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/age&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;16dp&quot;\r\n                android:text=&quot;Edad&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.673&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/af&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginEnd=&quot;156dp&quot;\r\n                android:text=&quot;Af&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.234&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/weight&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;140dp&quot;\r\n                android:text=&quot;Peso&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.673&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/gender&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginEnd=&quot;136dp&quot;\r\n                android:text=&quot;Genero&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.663&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/height&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;140dp&quot;\r\n                android:text=&quot;Altura&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.244&quot; /&gt;\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\nI checked that the `getItemCount` method in the adapter class was actually returning the correct size, also the `width` and `height` of the `RecyclerView` and i checked that they are not in `wrap_content`. Also the number of items, i checked that the `xml` inflated file was the correct one, i checked the `setLayoutManager` method, ensuring that is writed, i do not know exactly what i can do more. (The app works fine, it does not throw any error, but the problem is that.)","title":"Items not showing up in the RecyclerView","body":"<p>I have an <code>Activity</code> that has a <code>RecyclerView</code> in the <code>layout</code>, i want to show some data in this <code>layout</code>  with a <code>RecyclerView</code>, the thing is that when i enter to the <code>Activity</code> the data is not visible and is empty.The data is collected with the help of a <code>java class</code> named <code>&quot;recyclerViewModel&quot;</code>, here i set a constructor with 6 <code>variables</code>, then i create in the <code>activity</code> code an <code>Arraylist</code> of this <code>class</code> and i create a total of 3 <code>objects</code> in a fast way with a <code>for</code> and <code>arrays</code> <code>(setDataRecycler method).</code> This 3 <code>objects</code>  have the 6 <code>variables</code> every one, every object means &quot;a profile&quot;. The <code>objects</code> are saved in the <code>ArrayList</code> and the objective is to show them , as i said, in the <code>RecyclerView</code></p>\n<p>Activity java code:</p>\n<pre><code>package com.example.calculoimcwithui;\n\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.recyclerview.widget.LinearLayoutManager;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport android.os.Bundle;\n\nimport java.util.ArrayList;\n\npublic class Profiles extends AppCompatActivity {\n\n    ArrayList&lt;recyclerViewModel&gt; data;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_profiles);\n        RecyclerView recyclerView = findViewById(R.id.recyclerView);\n        data = new ArrayList&lt;recyclerViewModel&gt;();\n        setDataRecycler();\n        recyclerViewAdapter adapter = new recyclerViewAdapter(this,data);\n        recyclerView.setAdapter(adapter);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n    }\n\n    private void setDataRecycler () {\n        String [] nombres = {&quot;Rober&quot;,&quot;Carlos&quot;,&quot;Laura&quot;};\n        String [] edades = {&quot;16&quot;,&quot;16&quot;,&quot;21&quot;};\n        String [] alturas = {&quot;178&quot;,&quot;180&quot;,&quot;162&quot;};\n        String [] pesos = {&quot;72&quot;,&quot;68&quot;,&quot;54&quot;};\n        String [] afs = {&quot;Bastante&quot;,&quot;Mucha&quot;,&quot;Bastante&quot;};\n        String [] generos = {&quot;Hombre&quot;,&quot;Hombre&quot;,&quot;Mujer&quot;};\n        for (int i = 0; i&lt;nombres.length;i++) {\n            data.add(new recyclerViewModel(nombres[i],edades[i],alturas[i],pesos[i],afs[i],generos[i]));\n\n        }\n    }\n}\n</code></pre>\n<p>Activity xml code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    tools:context=&quot;.Profiles&quot;&gt;\n\n    &lt;androidx.recyclerview.widget.RecyclerView\n        android:id=&quot;@+id/recyclerView&quot;\n        android:layout_width=&quot;399dp&quot;\n        android:layout_height=&quot;627dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintHorizontal_bias=&quot;0.495&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.452&quot; /&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>RecyclerView Adapter:</p>\n<pre><code>package com.example.calculoimcwithui;\n\nimport android.content.Context;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport com.example.calculoimcwithui.R;\nimport com.example.calculoimcwithui.recyclerViewModel;\n\nimport java.util.ArrayList;\n\npublic class recyclerViewAdapter  extends RecyclerView.Adapter&lt;recyclerViewAdapter.ViewHolder&gt; {\n\n    Context context;\n    ArrayList&lt;recyclerViewModel&gt; data;\n\n    public recyclerViewAdapter (Context context, ArrayList&lt;recyclerViewModel&gt; data) {\n        this.context = context;\n        this.data = data;\n\n    }\n    @NonNull\n    @Override\n\n    public recyclerViewAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        LayoutInflater inflater = LayoutInflater.from(context);\n        View view = inflater.inflate(R.layout.recyclerviewmodel,parent,false);\n\n        return  new recyclerViewAdapter.ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull recyclerViewAdapter.ViewHolder holder, int position) {\n        holder.name.setText(data.get(position).getName());\n        holder.age.setText(data.get(position).getAge());\n        holder.height.setText(data.get(position).getAltura());\n        holder.weight.setText(data.get(position).getPeso());\n        holder.af.setText(data.get(position).getAf());\n        holder.gender.setText(data.get(position).getGenero());\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return data.size();\n    }\n\n    public static class ViewHolder extends  RecyclerView.ViewHolder {\n\n        TextView name;\n        TextView age;\n\n        TextView height;\n        TextView weight;\n        TextView af;\n        TextView gender;\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            name = itemView.findViewById(R.id.name);\n            age = itemView.findViewById(R.id.age);\n            height = itemView.findViewById(R.id.height);\n            weight = itemView.findViewById(R.id.weight);\n            af = itemView.findViewById(R.id.af);\n            gender = itemView.findViewById(R.id.gender);\n\n        }\n    }\n\n\n}\n</code></pre>\n<p>recyclerViewModel java code</p>\n<pre><code>package com.example.calculoimcwithui;\n\npublic class recyclerViewModel {\n\n    String name;\n    String age;\n    String altura;\n    String peso;\n    String af;\n    String genero;\n\n    public recyclerViewModel(String name, String age, String altura, String peso, String af, String genero) {\n        this.name = name;\n        this.age = age;\n        this.altura = altura;\n        this.peso = peso;\n        this.af = af;\n        this.genero = genero;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getAge () {\n        return age;\n    }\n    public String getAltura () {\n        return  altura;\n    }\n    public String getPeso () {\n        return peso;\n    }\n\n    public String getAf () {\n        return af;\n    }\n    public String getGenero () {\n        return genero;\n    }\n}\n</code></pre>\n<p>RecyclerView Model card</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;441dp&quot;\n        android:layout_height=&quot;117dp&quot;\n        android:layout_marginStart=&quot;1dp&quot;\n        android:layout_marginTop=&quot;245dp&quot;\n        android:layout_marginEnd=&quot;1dp&quot;\n        android:layout_marginBottom=&quot;486dp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\n            android:id=&quot;@+id/recCard&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/name&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginStart=&quot;16dp&quot;\n                android:layout_marginBottom=&quot;31dp&quot;\n                android:text=&quot;Nombre&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:layout_constraintVertical_bias=&quot;0.373&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/age&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginStart=&quot;16dp&quot;\n                android:text=&quot;Edad&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:layout_constraintVertical_bias=&quot;0.673&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/af&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginEnd=&quot;156dp&quot;\n                android:text=&quot;Af&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:layout_constraintVertical_bias=&quot;0.234&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/weight&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginStart=&quot;140dp&quot;\n                android:text=&quot;Peso&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:layout_constraintVertical_bias=&quot;0.673&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/gender&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginEnd=&quot;136dp&quot;\n                android:text=&quot;Genero&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:layout_constraintVertical_bias=&quot;0.663&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/height&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_marginStart=&quot;140dp&quot;\n                android:text=&quot;Altura&quot;\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\n                app:layout_constraintVertical_bias=&quot;0.244&quot; /&gt;\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n    &lt;/androidx.cardview.widget.CardView&gt;\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>I checked that the <code>getItemCount</code> method in the adapter class was actually returning the correct size, also the <code>width</code> and <code>height</code> of the <code>RecyclerView</code> and i checked that they are not in <code>wrap_content</code>. Also the number of items, i checked that the <code>xml</code> inflated file was the correct one, i checked the <code>setLayoutManager</code> method, ensuring that is writed, i do not know exactly what i can do more. (The app works fine, it does not throw any error, but the problem is that.)</p>\n"},{"tags":["java","spring","spring-boot","unit-testing","jwt"],"comments":[{"owner":{"account_id":992425,"reputation":334,"user_id":1009310,"display_name":"S_learner"},"score":0,"creation_date":1588163357,"post_id":61500578,"comment_id":108793159,"body_markdown":"One way is to disable security in case of test profile. So your SecurityConfig bean should not be initialized in case of test profile.","body":"One way is to disable security in case of test profile. So your SecurityConfig bean should not be initialized in case of test profile."},{"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"score":0,"creation_date":1588170760,"post_id":61500578,"comment_id":108797845,"body_markdown":"@S_learner can you please provide a code example?","body":"@S_learner can you please provide a code example?"},{"owner":{"account_id":4218279,"reputation":1719,"user_id":3453727,"display_name":"Alex Chernyshev"},"score":0,"creation_date":1588952688,"post_id":61500578,"comment_id":109107096,"body_markdown":"You need to pass JWT token as additional HTTP header,  Jhipster&#39;s sample application has such unit test: https://github.com/jhipster/jhipster-sample-app/blob/master/src/test/java/io/github/jhipster/sample/security/jwt/JWTFilterTest.java","body":"You need to pass JWT token as additional HTTP header,  Jhipster&#39;s sample application has such unit test: <a href=\"https://github.com/jhipster/jhipster-sample-app/blob/master/src/test/java/io/github/jhipster/sample/security/jwt/JWTFilterTest.java\" rel=\"nofollow noreferrer\">github.com/jhipster/jhipster-sample-app/blob/master/src/test&zwnj;&#8203;/&hellip;</a>"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1690839595,"post_id":61500578,"comment_id":135406347,"body_markdown":"You should consider changing your accepted answer which is not in line with [the manual](https://docs.spring.io/spring-security/reference/servlet/test/mockmvc/oauth2.html)","body":"You should consider changing your accepted answer which is not in line with <a href=\"https://docs.spring.io/spring-security/reference/servlet/test/mockmvc/oauth2.html\" rel=\"nofollow noreferrer\">the manual</a>"}],"answers":[{"comments":[{"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"score":0,"creation_date":1588181284,"post_id":61505370,"comment_id":108804014,"body_markdown":"Sorry this does not seem to work - I have added the code as above and still get the same issue with getting 401 unauthorised. I have added my Abstract unit test class to my question to help..","body":"Sorry this does not seem to work - I have added the code as above and still get the same issue with getting 401 unauthorised. I have added my Abstract unit test class to my question to help.."},{"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"score":1,"creation_date":1588252918,"post_id":61505370,"comment_id":108831699,"body_markdown":"I am now getting the following error when I try this: @Order on WebSecurityConfigurers must be unique. Order of 100 was already used on com.ryd.pokerstats.pokerstats.auth.SecurityConfig$$EnhancerBySpringCGLIB$$f1a72b2@baa9ce4, so it cannot be used on com.ryd.pokerstats.pokerstats.auth.SecurityConfig$1@5b332439 too.","body":"I am now getting the following error when I try this: @Order on WebSecurityConfigurers must be unique. Order of 100 was already used on com.ryd.pokerstats.pokerstats.auth.SecurityConfig$$EnhancerB&zwnj;&#8203;ySpringCGLIB$$f1a72b&zwnj;&#8203;2@baa9ce4, so it cannot be used on com.ryd.pokerstats.pokerstats.auth.SecurityConfig$1@5b332439 too."},{"owner":{"account_id":250558,"reputation":215,"user_id":527352,"accept_rate":50,"display_name":"AmirMV"},"score":0,"creation_date":1625213785,"post_id":61505370,"comment_id":120573014,"body_markdown":"This just disables authentication, and is not a solution. Ignoring the fact that this is adding a big risk of getting false positive test passes, it also does not cover scenarios where code depends on &quot;current user&quot;. I have seen solutions like this ending up with developers sending &quot;current user&quot; as a request param which is a big security issue.","body":"This just disables authentication, and is not a solution. Ignoring the fact that this is adding a big risk of getting false positive test passes, it also does not cover scenarios where code depends on &quot;current user&quot;. I have seen solutions like this ending up with developers sending &quot;current user&quot; as a request param which is a big security issue."},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1690773063,"post_id":61505370,"comment_id":135394829,"body_markdown":"Do not deactivate security during tests. Set the test security context instead, or better, have tools do it for you. See my answer for details.","body":"Do not deactivate security during tests. Set the test security context instead, or better, have tools do it for you. See my answer for details."}],"tags":[],"owner":{"account_id":992425,"reputation":334,"user_id":1009310,"display_name":"S_learner"},"comment_count":4,"down_vote_count":3,"up_vote_count":3,"is_accepted":false,"score":0,"last_activity_date":1588190866,"creation_date":1588173735,"answer_id":61505370,"question_id":61500578,"body_markdown":"SecurityConfig bean can be loaded conditionally as,\r\n```\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\r\n  @Bean\r\n  @Profile(&quot;!test&quot;)\r\n  public WebSecurityConfigurerAdapter securityEnabled() {\r\n\r\n    return new WebSecurityConfigurerAdapter() {\r\n\r\n      @Override\r\n      protected void configure(HttpSecurity http) throws Exception {\r\n        // your code goes here\r\n      }\r\n\r\n    };\r\n  }\r\n\r\n  @Bean\r\n  @Profile(&quot;test&quot;)\r\n  public WebSecurityConfigurerAdapter securityDisabled() {\r\n\r\n    return new WebSecurityConfigurerAdapter() {\r\n\r\n      @Override\r\n      protected void configure(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests().anyRequest().permitAll();\r\n      }\r\n    };\r\n  }\r\n\r\n}\r\n```\r\nSo this bean won&#39;t be initialized in case of test profile. It means now security is disabled and all endpoints are accessible without any authorization header.\r\n\r\nNow &quot;test&quot; profile needs to be active in case of running the tests, this can be done as,\r\n\r\n```\r\n@RunWith(SpringRunner.class)\r\n@ActiveProfiles(&quot;test&quot;)\r\n@WebMvcTest(UserRoundsController.class)\r\npublic class UserRoundsControllerTest extends AbstractUnitTests {\r\n\r\n// your code goes here\r\n\r\n}\r\n```\r\nNow this test is going to run with profile &quot;test&quot;.\r\nFurther if you want to have any properties related to this test, that can be put under src/test/resources/application-test.properties.\r\n\r\nHope this helps! please let me know otherwise.\r\n\r\n\r\nUpdate:\r\nBasic idea is to disable security for test profile. In previous code, even after having profile specific bean, default security was getting enabled.","title":"How to mock JWT authentication in a Spring Boot Unit Test?","body":"<p>SecurityConfig bean can be loaded conditionally as,</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n\n  @Bean\n  @Profile(\"!test\")\n  public WebSecurityConfigurerAdapter securityEnabled() {\n\n    return new WebSecurityConfigurerAdapter() {\n\n      @Override\n      protected void configure(HttpSecurity http) throws Exception {\n        // your code goes here\n      }\n\n    };\n  }\n\n  @Bean\n  @Profile(\"test\")\n  public WebSecurityConfigurerAdapter securityDisabled() {\n\n    return new WebSecurityConfigurerAdapter() {\n\n      @Override\n      protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests().anyRequest().permitAll();\n      }\n    };\n  }\n\n}\n</code></pre>\n\n<p>So this bean won't be initialized in case of test profile. It means now security is disabled and all endpoints are accessible without any authorization header.</p>\n\n<p>Now \"test\" profile needs to be active in case of running the tests, this can be done as,</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@ActiveProfiles(\"test\")\n@WebMvcTest(UserRoundsController.class)\npublic class UserRoundsControllerTest extends AbstractUnitTests {\n\n// your code goes here\n\n}\n</code></pre>\n\n<p>Now this test is going to run with profile \"test\".\nFurther if you want to have any properties related to this test, that can be put under src/test/resources/application-test.properties.</p>\n\n<p>Hope this helps! please let me know otherwise.</p>\n\n<p>Update:\nBasic idea is to disable security for test profile. In previous code, even after having profile specific bean, default security was getting enabled.</p>\n"},{"tags":[],"owner":{"account_id":5644474,"reputation":451,"user_id":4467091,"display_name":"Oleg Maksymuk"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1589063039,"creation_date":1589063039,"answer_id":61704574,"question_id":61500578,"body_markdown":"create **application.properties** in test/resources (it will override main but for test stage only)\r\n\r\n\r\nturnoff security by specifyig:\r\n\r\n\r\n    security.ignored=/**\r\n    security.basic.enable= false\r\n    spring.autoconfigure.exclude= org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration\r\n\r\n","title":"How to mock JWT authentication in a Spring Boot Unit Test?","body":"<p>create <strong>application.properties</strong> in test/resources (it will override main but for test stage only)</p>\n\n<p>turnoff security by specifyig:</p>\n\n<pre><code>security.ignored=/**\nsecurity.basic.enable= false\nspring.autoconfigure.exclude= org.springframework.boot.autoconfigure.security.servlet.SecurityAutoConfiguration\n</code></pre>\n"},{"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1690773265,"post_id":61737138,"comment_id":135394848,"body_markdown":"This requires a valid token and 1) tokens expire (test will start failing some day) and 2) requires an actual JWT decoder which will need the authorization server to be reachable to fetch public key (this not a unit test any more). Instead, use a mocked JWT decoder and set the test security context, or better, have tool do it for you. See my answer for details.","body":"This requires a valid token and 1) tokens expire (test will start failing some day) and 2) requires an actual JWT decoder which will need the authorization server to be reachable to fetch public key (this not a unit test any more). Instead, use a mocked JWT decoder and set the test security context, or better, have tool do it for you. See my answer for details."}],"tags":[],"owner":{"account_id":3215306,"reputation":792,"user_id":2714202,"display_name":"Vignesh T I"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1589223139,"creation_date":1589223139,"answer_id":61737138,"question_id":61500578,"body_markdown":"You can get the Bearer token and pass it on as a HTTP Header. Below is a sample snippet of the Test Method for your reference,\r\n\r\n    @Test\r\n    public void existentUserCanGetTokenAndAuthentication() throws Exception {\r\n       String username = &quot;existentuser&quot;;\r\n       String password = &quot;password&quot;;\r\n\r\n       String body = &quot;{\\&quot;username\\&quot;:\\&quot;&quot; + username + &quot;\\&quot;, \\&quot;password\\&quot;:\\&quot; \r\n                  + password + &quot;\\&quot;}&quot;;\r\n\r\n       MvcResult result = mvc.perform(MockMvcRequestBuilders.post(&quot;/token&quot;)\r\n              .content(body))\r\n              .andExpect(status().isOk()).andReturn();\r\n\r\n       String response = result.getResponse().getContentAsString();\r\n       response = response.replace(&quot;{\\&quot;access_token\\&quot;: \\&quot;&quot;, &quot;&quot;);\r\n       String token = response.replace(&quot;\\&quot;}&quot;, &quot;&quot;);\r\n\r\n       mvc.perform(MockMvcRequestBuilders.get(&quot;/users/&quot; + userId + &quot;/rounds&quot;)\r\n          .header(&quot;Authorization&quot;, &quot;Bearer &quot; + token))\r\n          .andExpect(status().isOk());\r\n    }","title":"How to mock JWT authentication in a Spring Boot Unit Test?","body":"<p>You can get the Bearer token and pass it on as a HTTP Header. Below is a sample snippet of the Test Method for your reference,</p>\n\n<pre><code>@Test\npublic void existentUserCanGetTokenAndAuthentication() throws Exception {\n   String username = \"existentuser\";\n   String password = \"password\";\n\n   String body = \"{\\\"username\\\":\\\"\" + username + \"\\\", \\\"password\\\":\\\" \n              + password + \"\\\"}\";\n\n   MvcResult result = mvc.perform(MockMvcRequestBuilders.post(\"/token\")\n          .content(body))\n          .andExpect(status().isOk()).andReturn();\n\n   String response = result.getResponse().getContentAsString();\n   response = response.replace(\"{\\\"access_token\\\": \\\"\", \"\");\n   String token = response.replace(\"\\\"}\", \"\");\n\n   mvc.perform(MockMvcRequestBuilders.get(\"/users/\" + userId + \"/rounds\")\n      .header(\"Authorization\", \"Bearer \" + token))\n      .andExpect(status().isOk());\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1681986,"reputation":4236,"user_id":1546042,"display_name":"BitfulByte"},"score":2,"creation_date":1605281975,"post_id":61790559,"comment_id":114610953,"body_markdown":"I think you are missing the `@Bean` on the JwtDecoder in the TestSecurityConfig. At least I got it working by adding it plus `@MissingOnConditionalBean` on the real JwtDecoder bean definition.","body":"I think you are missing the <code>@Bean</code> on the JwtDecoder in the TestSecurityConfig. At least I got it working by adding it plus <code>@MissingOnConditionalBean</code> on the real JwtDecoder bean definition."},{"owner":{"account_id":200488,"reputation":2393,"user_id":446368,"accept_rate":49,"display_name":"Mejmo"},"score":0,"creation_date":1611779802,"post_id":61790559,"comment_id":116563856,"body_markdown":"How do you use request builder then? Because that is used more or less in `@WebMvcTest` which you cannot use with `@SpringBootTest`.","body":"How do you use request builder then? Because that is used more or less in <code>@WebMvcTest</code> which you cannot use with <code>@SpringBootTest</code>."},{"owner":{"account_id":7893525,"reputation":296,"user_id":5962966,"display_name":"Milind Singh"},"score":0,"creation_date":1639668373,"post_id":61790559,"comment_id":124412512,"body_markdown":"I am getting `tokenValue cannot be empty` error. any idea ?","body":"I am getting <code>tokenValue cannot be empty</code> error. any idea ?"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":1,"creation_date":1655972341,"post_id":61790559,"comment_id":128460078,"body_markdown":"The answer below using a `@MockBean JwtDecoder` and setting the test security context `.with(SecurityMockMvcRequestPostProcessors.jwt())` is a way better option","body":"The answer below using a <code>@MockBean JwtDecoder</code> and setting the test security context <code>.with(SecurityMockMvcRequestPostProcessors.jwt())</code> is a way better option"},{"owner":{"account_id":3012980,"reputation":492,"user_id":9533625,"display_name":"Heuriskos"},"score":0,"creation_date":1679914677,"post_id":61790559,"comment_id":133800443,"body_markdown":"I can&#39;t see that this is best practice, Spring Security allows you to mock JWT tokens https://docs.spring.io/spring-security/site/docs/5.2.0.RELEASE/reference/html/test-webflux.html#testing-bearer-authentication-2","body":"I can&#39;t see that this is best practice, Spring Security allows you to mock JWT tokens <a href=\"https://docs.spring.io/spring-security/site/docs/5.2.0.RELEASE/reference/html/test-webflux.html#testing-bearer-authentication-2\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/site/docs/5.2.0.RELEASE/&hellip;</a>"},{"owner":{"account_id":7531034,"reputation":1,"user_id":5719229,"display_name":"S.N"},"score":0,"creation_date":1694379120,"post_id":61790559,"comment_id":135879883,"body_markdown":"I have got the similar issue. I cannot fix it. I hope you can help me. Here is the link : https://stackoverflow.com/questions/77077657/how-to-mock-bearer-token-in-integration-test-of-spring-boot-401-unauthorized","body":"I have got the similar issue. I cannot fix it. I hope you can help me. Here is the link : <a href=\"https://stackoverflow.com/questions/77077657/how-to-mock-bearer-token-in-integration-test-of-spring-boot-401-unauthorized\" title=\"how to mock bearer token in integration test of spring boot 401 unauthorized\">stackoverflow.com/questions/77077657/&hellip;</a>"}],"tags":[],"owner":{"account_id":12015704,"reputation":714,"user_id":8790942,"display_name":"Danil Kuznetsov"},"comment_count":6,"down_vote_count":1,"up_vote_count":25,"is_accepted":true,"score":24,"last_activity_date":1656170836,"creation_date":1589437021,"answer_id":61790559,"question_id":61500578,"body_markdown":"If I understand correctly your case there is one of the solutions.\r\n \r\nIn most cases, `JwtDecoder` bean performs token parsing and validation if the token exists in the request headers. \r\n\r\nExample from your configuration:\r\n\r\n```java\r\n    @Bean\r\n    JwtDecoder jwtDecoder() {\r\n        /*\r\n        By default, Spring Security does not validate the &quot;aud&quot; claim of the token, to ensure that this token is\r\n        indeed intended for our app. Adding our own validator is easy to do:\r\n        */\r\n\r\n        NimbusJwtDecoder jwtDecoder = (NimbusJwtDecoder)\r\n            JwtDecoders.fromOidcIssuerLocation(issuer);\r\n\r\n        OAuth2TokenValidator&lt;Jwt&gt; audienceValidator = new AudienceValidator(audience);\r\n        OAuth2TokenValidator&lt;Jwt&gt; withIssuer = JwtValidators.createDefaultWithIssuer(issuer);\r\n        OAuth2TokenValidator&lt;Jwt&gt; withAudience = new DelegatingOAuth2TokenValidator&lt;&gt;(withIssuer, audienceValidator);\r\n\r\n        jwtDecoder.setJwtValidator(withAudience);\r\n\r\n        return jwtDecoder;\r\n    }\r\n```\r\n\r\nSo for the tests, you need to add stub of this bean and also for replacing this bean in spring context, you need the test configuration with it.\r\n\r\nIt can be some things like this:\r\n```\r\n@TestConfiguration\r\npublic class TestSecurityConfig {\r\n\r\n  static final String AUTH0_TOKEN = &quot;token&quot;;\r\n  static final String SUB = &quot;sub&quot;;\r\n  static final String AUTH0ID = &quot;sms|12345678&quot;;\r\n\r\n  @Bean\r\n  public JwtDecoder jwtDecoder() {\r\n    // This anonymous class needs for the possibility of using SpyBean in test methods\r\n    // Lambda cannot be a spy with spring @SpyBean annotation\r\n    return new JwtDecoder() {\r\n      @Override\r\n      public Jwt decode(String token) {\r\n        return jwt();\r\n      }\r\n    };\r\n  }\r\n\r\n  public Jwt jwt() {\r\n\r\n    // This is a place to add general and maybe custom claims which should be available after parsing token in the live system\r\n    Map&lt;String, Object&gt; claims = Map.of(\r\n        SUB, USER_AUTH0ID\r\n    );\r\n\r\n    //This is an object that represents contents of jwt token after parsing\r\n    return new Jwt(\r\n        AUTH0_TOKEN,\r\n        Instant.now(),\r\n        Instant.now().plusSeconds(30),\r\n        Map.of(&quot;alg&quot;, &quot;none&quot;),\r\n        claims\r\n    );\r\n  }\r\n\r\n}\r\n```\r\n\r\nFor using this configuration in tests just pick up this test security config:\r\n\r\n`@SpringBootTest(classes = TestSecurityConfig.class)`\r\n\r\n\r\nAlso in the test request should be authorization header with a token like `Bearer .. something`. \r\n\r\nHere is an example regarding your configuration:\r\n\r\n```\r\n    public static RequestBuilder getAllRoundsByUserId(String userId) {\r\n\r\n        return MockMvcRequestBuilders\r\n            .get(&quot;/users/&quot; + userId + &quot;/rounds/&quot;)\r\n            .accept(MediaType.APPLICATION_JSON)\r\n            .header(HttpHeaders.AUTHORIZATION, &quot;Bearer token&quot;))\r\n            .contentType(MediaType.APPLICATION_JSON);\r\n    }\r\n``` ","title":"How to mock JWT authentication in a Spring Boot Unit Test?","body":"<p>If I understand correctly your case there is one of the solutions.</p>\n<p>In most cases, <code>JwtDecoder</code> bean performs token parsing and validation if the token exists in the request headers.</p>\n<p>Example from your configuration:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Bean\n    JwtDecoder jwtDecoder() {\n        /*\n        By default, Spring Security does not validate the &quot;aud&quot; claim of the token, to ensure that this token is\n        indeed intended for our app. Adding our own validator is easy to do:\n        */\n\n        NimbusJwtDecoder jwtDecoder = (NimbusJwtDecoder)\n            JwtDecoders.fromOidcIssuerLocation(issuer);\n\n        OAuth2TokenValidator&lt;Jwt&gt; audienceValidator = new AudienceValidator(audience);\n        OAuth2TokenValidator&lt;Jwt&gt; withIssuer = JwtValidators.createDefaultWithIssuer(issuer);\n        OAuth2TokenValidator&lt;Jwt&gt; withAudience = new DelegatingOAuth2TokenValidator&lt;&gt;(withIssuer, audienceValidator);\n\n        jwtDecoder.setJwtValidator(withAudience);\n\n        return jwtDecoder;\n    }\n</code></pre>\n<p>So for the tests, you need to add stub of this bean and also for replacing this bean in spring context, you need the test configuration with it.</p>\n<p>It can be some things like this:</p>\n<pre><code>@TestConfiguration\npublic class TestSecurityConfig {\n\n  static final String AUTH0_TOKEN = &quot;token&quot;;\n  static final String SUB = &quot;sub&quot;;\n  static final String AUTH0ID = &quot;sms|12345678&quot;;\n\n  @Bean\n  public JwtDecoder jwtDecoder() {\n    // This anonymous class needs for the possibility of using SpyBean in test methods\n    // Lambda cannot be a spy with spring @SpyBean annotation\n    return new JwtDecoder() {\n      @Override\n      public Jwt decode(String token) {\n        return jwt();\n      }\n    };\n  }\n\n  public Jwt jwt() {\n\n    // This is a place to add general and maybe custom claims which should be available after parsing token in the live system\n    Map&lt;String, Object&gt; claims = Map.of(\n        SUB, USER_AUTH0ID\n    );\n\n    //This is an object that represents contents of jwt token after parsing\n    return new Jwt(\n        AUTH0_TOKEN,\n        Instant.now(),\n        Instant.now().plusSeconds(30),\n        Map.of(&quot;alg&quot;, &quot;none&quot;),\n        claims\n    );\n  }\n\n}\n</code></pre>\n<p>For using this configuration in tests just pick up this test security config:</p>\n<p><code>@SpringBootTest(classes = TestSecurityConfig.class)</code></p>\n<p>Also in the test request should be authorization header with a token like <code>Bearer .. something</code>.</p>\n<p>Here is an example regarding your configuration:</p>\n<pre><code>    public static RequestBuilder getAllRoundsByUserId(String userId) {\n\n        return MockMvcRequestBuilders\n            .get(&quot;/users/&quot; + userId + &quot;/rounds/&quot;)\n            .accept(MediaType.APPLICATION_JSON)\n            .header(HttpHeaders.AUTHORIZATION, &quot;Bearer token&quot;))\n            .contentType(MediaType.APPLICATION_JSON);\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1690772842,"post_id":68041420,"comment_id":135394813,"body_markdown":"You should not try to build valid JWTs or hack the decoder. Instead, keep your security config and have the test security context be set either manually or with one of the tools designed for that (see my answer or the one from Amrut Prabhu)","body":"You should not try to build valid JWTs or hack the decoder. Instead, keep your security config and have the test security context be set either manually or with one of the tools designed for that (see my answer or the one from Amrut Prabhu)"}],"tags":[],"owner":{"account_id":887930,"reputation":23705,"user_id":926907,"accept_rate":87,"display_name":"Dmitry Zaytsev"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1624050932,"creation_date":1624050177,"answer_id":68041420,"question_id":61500578,"body_markdown":"For others like me, who after gathering information from what seems like a gazillion StackOverlow answers on how to do this, here is the summary of what ultimately worked for me (using Kotlin syntax, but it is applicable to Java as well):\r\n\r\n**Step 1 - Define a custom JWT decoder to be used in tests**\r\n\r\nNotice the `JwtClaimNames.SUB` entry - this is the user name which will ultimately be accessible via `authentication.getName()` field.\r\n\r\n```\r\nval jwtDecoder = JwtDecoder {\r\n        Jwt(\r\n                &quot;token&quot;,\r\n                Instant.now(),\r\n                Instant.MAX,\r\n                mapOf(\r\n                        &quot;alg&quot; to &quot;none&quot;\r\n                ),\r\n                mapOf(\r\n                        JwtClaimNames.SUB to &quot;testUser&quot;\r\n                )\r\n        )\r\n}\r\n```\r\n\r\n**Step 2 - Define a TestConfiguration**\r\n\r\nThis class goes in your `test` folder. We do this to replace real implementation with a stub one which always treats the user as authenticated.\r\n\r\nNote that we are not done yet, check Step 3 as well.\r\n\r\n```\r\n@TestConfiguration\r\nclass TestAppConfiguration {\r\n\r\n    @Bean // important\r\n    fun jwtDecoder() {\r\n        // Initialize JWT decoder as described in step 1\r\n        // ...\r\n\r\n        return jwtDecoder\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n**Step 3 - Update your primary configuration to avoid bean conflict**\r\n\r\nWithout this change your test and production beans would clash, resulting in a conflict. Adding this line delays the resolution of the bean and lets Spring prioritise test bean over production one.\r\n\r\nThere is a caveat, however, as this change effectively removes bean conflict protection in production builds for JwtDecoder instances. \r\n\r\n```\r\n@Configuration\r\nclass AppConfiguration {\r\n\r\n    @Bean\r\n    @ConditionalOnMissingBean // important\r\n    fun jwtDecoder() {\r\n        // Provide decoder as you would usually do\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n**Step 4 - Import TestAppConfiguration in your test**\r\n\r\nThis makes sure that your test actually takes TestConfiguration into account.\r\n\r\n```\r\n@SpringBootTest\r\n@Import(TestAppConfiguration::class)\r\nclass MyTest {\r\n\r\n    // Your tests\r\n\r\n}\r\n```\r\n\r\n**Step 5 - Add @WithMockUser annotation to your test**\r\n\r\nYou do not really need to provide any arguments to the annotation.\r\n\r\n```\r\n@Test\r\n@WithMockUser\r\nfun myTest() {\r\n    // Test body\r\n}\r\n```\r\n\r\n**Step 6 - Provide Authentication header during the test**\r\n\r\n```\r\nmockMvc\r\n    .perform(\r\n        post(&quot;/endpointUnderTest&quot;)\r\n            .header(HttpHeaders.AUTHORIZATION, &quot;Bearer token&quot;) // important\r\n    )\r\n    .andExpect(status().isOk)\r\n```","title":"How to mock JWT authentication in a Spring Boot Unit Test?","body":"<p>For others like me, who after gathering information from what seems like a gazillion StackOverlow answers on how to do this, here is the summary of what ultimately worked for me (using Kotlin syntax, but it is applicable to Java as well):</p>\n<p><strong>Step 1 - Define a custom JWT decoder to be used in tests</strong></p>\n<p>Notice the <code>JwtClaimNames.SUB</code> entry - this is the user name which will ultimately be accessible via <code>authentication.getName()</code> field.</p>\n<pre><code>val jwtDecoder = JwtDecoder {\n        Jwt(\n                &quot;token&quot;,\n                Instant.now(),\n                Instant.MAX,\n                mapOf(\n                        &quot;alg&quot; to &quot;none&quot;\n                ),\n                mapOf(\n                        JwtClaimNames.SUB to &quot;testUser&quot;\n                )\n        )\n}\n</code></pre>\n<p><strong>Step 2 - Define a TestConfiguration</strong></p>\n<p>This class goes in your <code>test</code> folder. We do this to replace real implementation with a stub one which always treats the user as authenticated.</p>\n<p>Note that we are not done yet, check Step 3 as well.</p>\n<pre><code>@TestConfiguration\nclass TestAppConfiguration {\n\n    @Bean // important\n    fun jwtDecoder() {\n        // Initialize JWT decoder as described in step 1\n        // ...\n\n        return jwtDecoder\n    }\n\n}\n\n</code></pre>\n<p><strong>Step 3 - Update your primary configuration to avoid bean conflict</strong></p>\n<p>Without this change your test and production beans would clash, resulting in a conflict. Adding this line delays the resolution of the bean and lets Spring prioritise test bean over production one.</p>\n<p>There is a caveat, however, as this change effectively removes bean conflict protection in production builds for JwtDecoder instances.</p>\n<pre><code>@Configuration\nclass AppConfiguration {\n\n    @Bean\n    @ConditionalOnMissingBean // important\n    fun jwtDecoder() {\n        // Provide decoder as you would usually do\n    }\n\n}\n\n</code></pre>\n<p><strong>Step 4 - Import TestAppConfiguration in your test</strong></p>\n<p>This makes sure that your test actually takes TestConfiguration into account.</p>\n<pre><code>@SpringBootTest\n@Import(TestAppConfiguration::class)\nclass MyTest {\n\n    // Your tests\n\n}\n</code></pre>\n<p><strong>Step 5 - Add @WithMockUser annotation to your test</strong></p>\n<p>You do not really need to provide any arguments to the annotation.</p>\n<pre><code>@Test\n@WithMockUser\nfun myTest() {\n    // Test body\n}\n</code></pre>\n<p><strong>Step 6 - Provide Authentication header during the test</strong></p>\n<pre><code>mockMvc\n    .perform(\n        post(&quot;/endpointUnderTest&quot;)\n            .header(HttpHeaders.AUTHORIZATION, &quot;Bearer token&quot;) // important\n    )\n    .andExpect(status().isOk)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2167439,"reputation":144,"user_id":1920241,"accept_rate":40,"display_name":"A.L."},"score":0,"creation_date":1652092383,"post_id":70770987,"comment_id":127513966,"body_markdown":"Thanks! The @MockBean annotation is super useful!","body":"Thanks! The @MockBean annotation is super useful!"},{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1655972093,"post_id":70770987,"comment_id":128459977,"body_markdown":"This actually is the best answer. An alternative is `@WithMockJwtAuth` from  https://github.com/ch4mpy/spring-addons","body":"This actually is the best answer. An alternative is <code>@WithMockJwtAuth</code> from  <a href=\"https://github.com/ch4mpy/spring-addons\" rel=\"nofollow noreferrer\">github.com/ch4mpy/spring-addons</a>"},{"owner":{"account_id":11215546,"reputation":628,"user_id":8228301,"display_name":"Xuan"},"score":0,"creation_date":1663186932,"post_id":70770987,"comment_id":130183062,"body_markdown":"For my tests, I don&#39;t need to mock jwtDecoder. SecurityMockMvcRequestPostProcessors.jwt() is enough.","body":"For my tests, I don&#39;t need to mock jwtDecoder. SecurityMockMvcRequestPostProcessors.jwt() is enough."}],"tags":[],"owner":{"account_id":15883660,"reputation":1271,"user_id":11460723,"display_name":"Amrut Prabhu"},"comment_count":3,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1642597355,"creation_date":1642597031,"answer_id":70770987,"question_id":61500578,"body_markdown":"For me, I made it pretty simple. \r\n\r\nI don&#39;t want to actually check for the JWT token, this can also be mocked. \r\n\r\nHave a look at this security config. \r\n\r\n```\r\n@Override\r\n    public void configure(HttpSecurity http) throws Exception {\r\n\r\n        //@formatter:off\r\n        http\r\n            .cors()\r\n            .and()\r\n            \r\n            .authorizeRequests()\r\n                .antMatchers(&quot;/api/v1/orders/**&quot;)\r\n                .authenticated()\r\n            .and()\r\n            .authorizeRequests()\r\n                .anyRequest()\r\n                .denyAll()\r\n            .and()\r\n            .sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n            \r\n            .and()\r\n            .oauth2ResourceServer()\r\n            .jwt();\r\n\r\n```\r\n\r\nThen in my test, I make use of two thing\r\n- Provide a mock bean for the jwtDecoder\r\n- Use the `SecurityMockMvcRequestPostProcessors` to mock the JWT in the request. This is available in the following dependency\r\n\r\n```\r\n         &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nAnd Here is how it&#39;s done. \r\n\r\n```\r\n@SpringBootTest\r\n@AutoConfigureMockMvc\r\npublic class OrderApiControllerIT {\r\n\r\n    @Autowired\r\n    protected MockMvc mockMvc;\r\n\r\n    @MockBean\r\n    private JwtDecoder jwtDecoder;\r\n \r\n    @Test\r\n    void testEndpoint() {\r\n\r\n     MvcResult mvcResult = mockMvc.perform(post(&quot;/api/v1/orders&quot;)\r\n                .with(SecurityMockMvcRequestPostProcessors.jwt())\r\n                .content(jsonString)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n            )\r\n            .andDo(print())\r\n            .andExpect(status().is2xxSuccessful())\r\n            .andReturn();\r\n\r\n}\r\n\r\n```\r\n\r\nThat&#39;s it and it should work.","title":"How to mock JWT authentication in a Spring Boot Unit Test?","body":"<p>For me, I made it pretty simple.</p>\n<p>I don't want to actually check for the JWT token, this can also be mocked.</p>\n<p>Have a look at this security config.</p>\n<pre><code>@Override\n    public void configure(HttpSecurity http) throws Exception {\n\n        //@formatter:off\n        http\n            .cors()\n            .and()\n            \n            .authorizeRequests()\n                .antMatchers(&quot;/api/v1/orders/**&quot;)\n                .authenticated()\n            .and()\n            .authorizeRequests()\n                .anyRequest()\n                .denyAll()\n            .and()\n            .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n            \n            .and()\n            .oauth2ResourceServer()\n            .jwt();\n\n</code></pre>\n<p>Then in my test, I make use of two thing</p>\n<ul>\n<li>Provide a mock bean for the jwtDecoder</li>\n<li>Use the <code>SecurityMockMvcRequestPostProcessors</code> to mock the JWT in the request. This is available in the following dependency</li>\n</ul>\n<pre><code>         &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>And Here is how it's done.</p>\n<pre><code>@SpringBootTest\n@AutoConfigureMockMvc\npublic class OrderApiControllerIT {\n\n    @Autowired\n    protected MockMvc mockMvc;\n\n    @MockBean\n    private JwtDecoder jwtDecoder;\n \n    @Test\n    void testEndpoint() {\n\n     MvcResult mvcResult = mockMvc.perform(post(&quot;/api/v1/orders&quot;)\n                .with(SecurityMockMvcRequestPostProcessors.jwt())\n                .content(jsonString)\n                .contentType(MediaType.APPLICATION_JSON)\n            )\n            .andDo(print())\n            .andExpect(status().is2xxSuccessful())\n            .andReturn();\n\n}\n\n</code></pre>\n<p>That's it and it should work.</p>\n"},{"comments":[{"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"score":0,"creation_date":1690772953,"post_id":75248243,"comment_id":135394822,"body_markdown":"I provide with quite more advanced annotations in [this lib](https://mvnrepository.com/artifact/com.c4-soft.springaddons/spring-addons-oauth2-test). See my answer and or [my github repo](https://github.com/ch4mpy/spring-addons) for details","body":"I provide with quite more advanced annotations in <a href=\"https://mvnrepository.com/artifact/com.c4-soft.springaddons/spring-addons-oauth2-test\" rel=\"nofollow noreferrer\">this lib</a>. See my answer and or <a href=\"https://github.com/ch4mpy/spring-addons\" rel=\"nofollow noreferrer\">my github repo</a> for details"}],"tags":[],"owner":{"account_id":273476,"reputation":7572,"user_id":565110,"accept_rate":40,"display_name":"David Riccitelli"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1674760710,"creation_date":1674746854,"answer_id":75248243,"question_id":61500578,"body_markdown":"I am using the `JwtAuthenticationToken` from the Security Context. The `@WithMockUser` annotation is creating a Username-based Authentication Token.\r\n\r\nI wrote my own implementation of `@WithMockJwt`:\r\n\r\n```\r\n@Target({ElementType.METHOD, ElementType.TYPE})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Inherited\r\n@Documented\r\n@WithSecurityContext(factory = WithMockJwtSecurityContextFactory.class)\r\npublic @interface WithMockJwt {\r\n\r\n    long value() default 1L;\r\n\r\n    String[] roles() default {};\r\n\r\n    String email() default &quot;ex@example.org&quot;;\r\n\r\n}\r\n\r\n```\r\n\r\nAnd the related factory:\r\n\r\n```\r\npublic class WithMockJwtSecurityContextFactory implements WithSecurityContextFactory&lt;WithMockJwt&gt; {\r\n    @Override\r\n    public SecurityContext createSecurityContext(WithMockJwt annotation) {\r\n        val jwt = Jwt.withTokenValue(&quot;token&quot;)\r\n                .header(&quot;alg&quot;, &quot;none&quot;)\r\n                .claim(&quot;sub&quot;, annotation.value())\r\n                .claim(&quot;user&quot;, Map.of(&quot;email&quot;, annotation.email()))\r\n                .build();\r\n\r\n        val authorities = AuthorityUtils.createAuthorityList(annotation.roles());\r\n        val token = new JwtAuthenticationToken(jwt, authorities);\r\n\r\n        SecurityContext context = SecurityContextHolder.createEmptyContext();\r\n        context.setAuthentication(token);\r\n        return context;\r\n\r\n    }\r\n}\r\n```\r\n\r\nAnd now I can annotate test with:\r\n\r\n```\r\n    @Test\r\n    @WithMockJwt\r\n    void test() {\r\n\r\n     ...omissis...\r\n```","title":"How to mock JWT authentication in a Spring Boot Unit Test?","body":"<p>I am using the <code>JwtAuthenticationToken</code> from the Security Context. The <code>@WithMockUser</code> annotation is creating a Username-based Authentication Token.</p>\n<p>I wrote my own implementation of <code>@WithMockJwt</code>:</p>\n<pre><code>@Target({ElementType.METHOD, ElementType.TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Inherited\n@Documented\n@WithSecurityContext(factory = WithMockJwtSecurityContextFactory.class)\npublic @interface WithMockJwt {\n\n    long value() default 1L;\n\n    String[] roles() default {};\n\n    String email() default &quot;ex@example.org&quot;;\n\n}\n\n</code></pre>\n<p>And the related factory:</p>\n<pre><code>public class WithMockJwtSecurityContextFactory implements WithSecurityContextFactory&lt;WithMockJwt&gt; {\n    @Override\n    public SecurityContext createSecurityContext(WithMockJwt annotation) {\n        val jwt = Jwt.withTokenValue(&quot;token&quot;)\n                .header(&quot;alg&quot;, &quot;none&quot;)\n                .claim(&quot;sub&quot;, annotation.value())\n                .claim(&quot;user&quot;, Map.of(&quot;email&quot;, annotation.email()))\n                .build();\n\n        val authorities = AuthorityUtils.createAuthorityList(annotation.roles());\n        val token = new JwtAuthenticationToken(jwt, authorities);\n\n        SecurityContext context = SecurityContextHolder.createEmptyContext();\n        context.setAuthentication(token);\n        return context;\n\n    }\n}\n</code></pre>\n<p>And now I can annotate test with:</p>\n<pre><code>    @Test\n    @WithMockJwt\n    void test() {\n\n     ...omissis...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690773297,"creation_date":1690772675,"answer_id":76800444,"question_id":61500578,"body_markdown":"First, `@SpringBootTest` is for integration testing. Controllers should be unit tested with `@WebMvcTest` (in servlets) or `@WebFluxTest` (in reactive apps), with a `@MockBean` for each autowired dependency.\r\n\r\nSecond, you should neither deactivate security (as done in one of the answers) nor try to build valid JWTs or hack the decoder (as done in the accepted answer). Instead, keep your security config as it is and manually set the test security context with an `Authentication` instance of your choice (`SecurityContextHolder.getContext().setAuthentication(auth);`) or use some existing tools to do it for you.\r\n\r\n`spring-security-test` comes with `SecurityMockMvcRequestPostProcessors.jwt()` and `SecurityMockServerConfigurers.mockJwt()` since version 5.2 which was released the 30th of september 2019. Usage as follow:\r\n```java\r\n@Test\r\nvoid givenUserAuthenticated_whenGetGreet_thenOk() throws Exception {\r\n\tapi.perform(get(&quot;/greet&quot;).with(SecurityMockMvcRequestPostProcessors.jwt()\r\n\t\t\t\t.authorities(new SimpleGrantedAuthority(&quot;NICE&quot;), new SimpleGrantedAuthority(&quot;AUTHOR&quot;))))\r\n\t\t\t.andExpect(status().isOk())\r\n\t\t\t.andExpect(jsonPath(&quot;$.body&quot;).value(&quot;Hi user! You are granted with: [NICE, AUTHOR].&quot;));\r\n}\r\n```\r\n```java\r\n@Test\r\nvoid givenUserHasNiceMutator_whenGetRestricted_thenOk() throws Exception {\r\n\tapi.mutateWith(SecurityMockServerConfigurers.mockJwt()\r\n\t\t\t.authorities(new SimpleGrantedAuthority(&quot;NICE&quot;), new SimpleGrantedAuthority(&quot;AUTHOR&quot;)))\r\n\t\t.get().uri(&quot;/restricted&quot;).exchange()\r\n\t\t.expectStatus().isOk()\r\n\t\t.expectBody(MessageDto.class).isEqualTo(new MessageDto(&quot;You are so nice!&quot;));\r\n}\r\n```\r\n\r\nI also wrote test annotations for OAuth2 in [`spring-addons-oauth2-test`][1]. Two might be of most interest in the case of a resource server with JWT decoder:\r\n- `@WithMockAuthentication` to be used in cases where mocking authorities is enough (and optionally username or actual Authentication implementation type). This annotation builds an Authentication mock, pre-configured with what you provide as annotation arguments.\r\n- `@WithJwt` when you want full control on JWT claims and use the actual authentication converter to setup the test security context. This one is a bit more advanced: it uses the JSON file or String passed as argument to build a `org.springframework.security.oauth2.jwt.Jwt` instance (not an actual base64 encoded JWT string, but what is built after JWT decoding and validation) and then provide it as input to the `Converter&lt;Jwt, ? extends AbstractAuthenticationToken&gt;` picked from the security configuration. This means that the actual Authentication implementation (`JwtAuthenticationToken` by default), as well as username, authorities and claims will be the exact same as at runtime for the same JWT payload.\r\n\r\nWhen using `@WithJwt`, extract the claims from tokens for a few representative users and dump the content as JSON files in test resources. Using a tool like [https://jwt.io][2] and real tokens it is rather simple. You could also write the JSON yourself, starting with the sample below.\r\n\r\n```java\r\n@Test\r\n@WithMockAuthentication(&quot;NICE&quot;)\r\nvoid givenMockAuthenticationWithNice_whenGetRestricted_thenOk() throws Exception {\r\n\tapi.perform(get(&quot;/restricted&quot;))\r\n\t\t\t.andExpect(status().isOk())\r\n\t\t\t.andExpect(jsonPath(&quot;$.body&quot;).value(&quot;You are so nice!&quot;));\r\n}\r\n\r\n@Test\r\n@WithJwt(&quot;tonton-pirate.json&quot;)\r\nvoid givenJwtWithNice_whenGetRestricted_thenOk() throws Exception {\r\n\tapi.perform(get(&quot;/restricted&quot;))\r\n\t\t\t.andExpect(status().isOk())\r\n\t\t\t.andExpect(jsonPath(&quot;$.body&quot;).value(&quot;You are so nice!&quot;));\r\n}\r\n```\r\nWith `src/test/resources/tonton-pirate.json` being a plain JSON file containing the claim-set (user authorities in the private claim as expected by the authentication converter). Sample for Keycloak and realm roles:\r\n```json\r\n{\r\n  &quot;preferred_username&quot;: &quot;tonton-pirate&quot;,\r\n  &quot;scope&quot;: &quot;profile email&quot;,\r\n  &quot;email&quot;: &quot;tonton-pirate@machin.truc&quot;,\r\n  &quot;email_verified&quot;: true,\r\n  &quot;realm_access&quot;: {\r\n    &quot;roles&quot;: [\r\n      &quot;NICE&quot;,\r\n      &quot;AUTHOR&quot;\r\n    ]\r\n  }\r\n}\r\n```\r\nMore samples on [my Github repo for spring-addons][3].\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.c4-soft.springaddons/spring-addons-oauth2-test\r\n  [2]: https://jwt.io\r\n  [3]: https://github.com/ch4mpy/spring-addons","title":"How to mock JWT authentication in a Spring Boot Unit Test?","body":"<p>First, <code>@SpringBootTest</code> is for integration testing. Controllers should be unit tested with <code>@WebMvcTest</code> (in servlets) or <code>@WebFluxTest</code> (in reactive apps), with a <code>@MockBean</code> for each autowired dependency.</p>\n<p>Second, you should neither deactivate security (as done in one of the answers) nor try to build valid JWTs or hack the decoder (as done in the accepted answer). Instead, keep your security config as it is and manually set the test security context with an <code>Authentication</code> instance of your choice (<code>SecurityContextHolder.getContext().setAuthentication(auth);</code>) or use some existing tools to do it for you.</p>\n<p><code>spring-security-test</code> comes with <code>SecurityMockMvcRequestPostProcessors.jwt()</code> and <code>SecurityMockServerConfigurers.mockJwt()</code> since version 5.2 which was released the 30th of september 2019. Usage as follow:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid givenUserAuthenticated_whenGetGreet_thenOk() throws Exception {\n    api.perform(get(&quot;/greet&quot;).with(SecurityMockMvcRequestPostProcessors.jwt()\n                .authorities(new SimpleGrantedAuthority(&quot;NICE&quot;), new SimpleGrantedAuthority(&quot;AUTHOR&quot;))))\n            .andExpect(status().isOk())\n            .andExpect(jsonPath(&quot;$.body&quot;).value(&quot;Hi user! You are granted with: [NICE, AUTHOR].&quot;));\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid givenUserHasNiceMutator_whenGetRestricted_thenOk() throws Exception {\n    api.mutateWith(SecurityMockServerConfigurers.mockJwt()\n            .authorities(new SimpleGrantedAuthority(&quot;NICE&quot;), new SimpleGrantedAuthority(&quot;AUTHOR&quot;)))\n        .get().uri(&quot;/restricted&quot;).exchange()\n        .expectStatus().isOk()\n        .expectBody(MessageDto.class).isEqualTo(new MessageDto(&quot;You are so nice!&quot;));\n}\n</code></pre>\n<p>I also wrote test annotations for OAuth2 in <a href=\"https://mvnrepository.com/artifact/com.c4-soft.springaddons/spring-addons-oauth2-test\" rel=\"nofollow noreferrer\"><code>spring-addons-oauth2-test</code></a>. Two might be of most interest in the case of a resource server with JWT decoder:</p>\n<ul>\n<li><code>@WithMockAuthentication</code> to be used in cases where mocking authorities is enough (and optionally username or actual Authentication implementation type). This annotation builds an Authentication mock, pre-configured with what you provide as annotation arguments.</li>\n<li><code>@WithJwt</code> when you want full control on JWT claims and use the actual authentication converter to setup the test security context. This one is a bit more advanced: it uses the JSON file or String passed as argument to build a <code>org.springframework.security.oauth2.jwt.Jwt</code> instance (not an actual base64 encoded JWT string, but what is built after JWT decoding and validation) and then provide it as input to the <code>Converter&lt;Jwt, ? extends AbstractAuthenticationToken&gt;</code> picked from the security configuration. This means that the actual Authentication implementation (<code>JwtAuthenticationToken</code> by default), as well as username, authorities and claims will be the exact same as at runtime for the same JWT payload.</li>\n</ul>\n<p>When using <code>@WithJwt</code>, extract the claims from tokens for a few representative users and dump the content as JSON files in test resources. Using a tool like <a href=\"https://jwt.io\" rel=\"nofollow noreferrer\">https://jwt.io</a> and real tokens it is rather simple. You could also write the JSON yourself, starting with the sample below.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\n@WithMockAuthentication(&quot;NICE&quot;)\nvoid givenMockAuthenticationWithNice_whenGetRestricted_thenOk() throws Exception {\n    api.perform(get(&quot;/restricted&quot;))\n            .andExpect(status().isOk())\n            .andExpect(jsonPath(&quot;$.body&quot;).value(&quot;You are so nice!&quot;));\n}\n\n@Test\n@WithJwt(&quot;tonton-pirate.json&quot;)\nvoid givenJwtWithNice_whenGetRestricted_thenOk() throws Exception {\n    api.perform(get(&quot;/restricted&quot;))\n            .andExpect(status().isOk())\n            .andExpect(jsonPath(&quot;$.body&quot;).value(&quot;You are so nice!&quot;));\n}\n</code></pre>\n<p>With <code>src/test/resources/tonton-pirate.json</code> being a plain JSON file containing the claim-set (user authorities in the private claim as expected by the authentication converter). Sample for Keycloak and realm roles:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;preferred_username&quot;: &quot;tonton-pirate&quot;,\n  &quot;scope&quot;: &quot;profile email&quot;,\n  &quot;email&quot;: &quot;tonton-pirate@machin.truc&quot;,\n  &quot;email_verified&quot;: true,\n  &quot;realm_access&quot;: {\n    &quot;roles&quot;: [\n      &quot;NICE&quot;,\n      &quot;AUTHOR&quot;\n    ]\n  }\n}\n</code></pre>\n<p>More samples on <a href=\"https://github.com/ch4mpy/spring-addons\" rel=\"nofollow noreferrer\">my Github repo for spring-addons</a>.</p>\n"}],"owner":{"account_id":16962007,"reputation":1665,"user_id":12268910,"display_name":"java12399900"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80133,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":61790559,"answer_count":8,"score":28,"last_activity_date":1690773297,"creation_date":1588159178,"question_id":61500578,"body_markdown":"I have added JWT Authentication using Auth0 to my Spring Boot REST API following [this example][1].\r\n\r\nNow, as expected, my previously working `Controller` unit tests give a response code of`401 Unauthorized` rather than `200 OK` as I am not passing any JWT in the tests.\r\n\r\nHow can I mock the `JWT/Authentication` part of my REST Controller tests?\r\n\r\n#### Unit test class\r\n\r\n```java\r\n@AutoConfigureMockMvc\r\npublic class UserRoundsControllerTest extends AbstractUnitTests {\r\n\r\n    private static String STUB_USER_ID = &quot;user3&quot;;\r\n    private static String STUB_ROUND_ID = &quot;7e3b270222252b2dadd547fb&quot;;\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n\r\n    private Round round;\r\n\r\n    private ObjectId objectId;\r\n\r\n    @BeforeEach\r\n    public void setUp() {\r\n        initMocks(this);\r\n        round = Mocks.roundOne();\r\n        objectId = Mocks.objectId();\r\n    }\r\n\r\n    @Test\r\n    public void shouldGetAllRoundsByUserId() throws Exception {\r\n\r\n        // setup\r\n        given(userRoundService.getAllRoundsByUserId(STUB_USER_ID)).willReturn(\r\n                Collections.singletonList(round));\r\n\r\n        // mock the rounds/userId request\r\n        RequestBuilder requestBuilder = Requests.getAllRoundsByUserId(STUB_USER_ID);\r\n\r\n        // perform the requests\r\n        MockHttpServletResponse response = mockMvc.perform(requestBuilder)\r\n                .andReturn()\r\n                .getResponse();\r\n\r\n        // asserts\r\n        assertNotNull(response);\r\n        assertEquals(HttpStatus.OK.value(), response.getStatus());\r\n    }\r\n\r\n    //other tests\r\n}\r\n```\r\n\r\n#### Requests class (used above)\r\n\r\n```java\r\npublic class Requests {\r\n\r\n    private Requests() {}\r\n\r\n    public static RequestBuilder getAllRoundsByUserId(String userId) {\r\n        return MockMvcRequestBuilders\r\n                .get(&quot;/users/&quot; + userId + &quot;/rounds/&quot;)\r\n                .accept(MediaType.APPLICATION_JSON)\r\n                .contentType(MediaType.APPLICATION_JSON);\r\n    }\r\n}\r\n```\r\n\r\n#### Spring Security Config\r\n\r\n```java\r\n/**\r\n * Configures our application with Spring Security to restrict access to our API endpoints.\r\n */\r\n@EnableWebSecurity\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    @Value(&quot;${auth0.audience}&quot;)\r\n    private String audience;\r\n\r\n    @Value(&quot;${spring.security.oauth2.resourceserver.jwt.issuer-uri}&quot;)\r\n    private String issuer;\r\n\r\n    @Override\r\n    public void configure(HttpSecurity http) throws Exception {\r\n            /*\r\n            This is where we configure the security required for our endpoints and setup our app to serve as\r\n            an OAuth2 Resource Server, using JWT validation.\r\n            */\r\n\r\n        http.cors().and().csrf().disable().sessionManagement().\r\n                sessionCreationPolicy(SessionCreationPolicy.STATELESS).and().authorizeRequests()\r\n                .mvcMatchers(HttpMethod.GET, &quot;/users/**&quot;).authenticated()\r\n                .mvcMatchers(HttpMethod.POST, &quot;/users/**&quot;).authenticated()\r\n                .mvcMatchers(HttpMethod.DELETE, &quot;/users/**&quot;).authenticated()\r\n                .mvcMatchers(HttpMethod.PUT, &quot;/users/**&quot;).authenticated()\r\n                .and()\r\n                .oauth2ResourceServer().jwt();\r\n    }\r\n\r\n    @Bean\r\n    JwtDecoder jwtDecoder() {\r\n            /*\r\n            By default, Spring Security does not validate the &quot;aud&quot; claim of the token, to ensure that this token is\r\n            indeed intended for our app. Adding our own validator is easy to do:\r\n            */\r\n\r\n        NimbusJwtDecoder jwtDecoder = (NimbusJwtDecoder)\r\n                JwtDecoders.fromOidcIssuerLocation(issuer);\r\n\r\n        OAuth2TokenValidator&lt;Jwt&gt; audienceValidator = new AudienceValidator(audience);\r\n        OAuth2TokenValidator&lt;Jwt&gt; withIssuer = JwtValidators.createDefaultWithIssuer(issuer);\r\n        OAuth2TokenValidator&lt;Jwt&gt; withAudience = new DelegatingOAuth2TokenValidator&lt;&gt;(withIssuer,\r\n                audienceValidator);\r\n\r\n        jwtDecoder.setJwtValidator(withAudience);\r\n\r\n        return jwtDecoder;\r\n    }\r\n\r\n    @Bean\r\n    CorsConfigurationSource corsConfigurationSource() {\r\n        CorsConfiguration configuration = new CorsConfiguration();\r\n        configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\r\n        configuration.setAllowedMethods(Arrays.asList(&quot;*&quot;));\r\n        configuration.setAllowedHeaders(Arrays.asList(&quot;*&quot;));\r\n        configuration.setAllowCredentials(true);\r\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n        return source;\r\n    }\r\n}\r\n```\r\n\r\n#### Abstract Unit test class\r\n\r\n```java\r\n@ExtendWith(SpringExtension.class)\r\n@SpringBootTest(\r\n        classes = PokerStatApplication.class,\r\n        webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT\r\n)\r\npublic abstract class AbstractUnitTests {\r\n    // mock objects etc\r\n}\r\n```\r\n\r\n[1]: https://auth0.com/docs/quickstart/backend/java-spring-security5/02-using#calling-the-api-from-your-application","title":"How to mock JWT authentication in a Spring Boot Unit Test?","body":"<p>I have added JWT Authentication using Auth0 to my Spring Boot REST API following <a href=\"https://auth0.com/docs/quickstart/backend/java-spring-security5/02-using#calling-the-api-from-your-application\" rel=\"noreferrer\">this example</a>.</p>\n<p>Now, as expected, my previously working <code>Controller</code> unit tests give a response code of<code>401 Unauthorized</code> rather than <code>200 OK</code> as I am not passing any JWT in the tests.</p>\n<p>How can I mock the <code>JWT/Authentication</code> part of my REST Controller tests?</p>\n<h4>Unit test class</h4>\n<pre class=\"lang-java prettyprint-override\"><code>@AutoConfigureMockMvc\npublic class UserRoundsControllerTest extends AbstractUnitTests {\n\n    private static String STUB_USER_ID = &quot;user3&quot;;\n    private static String STUB_ROUND_ID = &quot;7e3b270222252b2dadd547fb&quot;;\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    private Round round;\n\n    private ObjectId objectId;\n\n    @BeforeEach\n    public void setUp() {\n        initMocks(this);\n        round = Mocks.roundOne();\n        objectId = Mocks.objectId();\n    }\n\n    @Test\n    public void shouldGetAllRoundsByUserId() throws Exception {\n\n        // setup\n        given(userRoundService.getAllRoundsByUserId(STUB_USER_ID)).willReturn(\n                Collections.singletonList(round));\n\n        // mock the rounds/userId request\n        RequestBuilder requestBuilder = Requests.getAllRoundsByUserId(STUB_USER_ID);\n\n        // perform the requests\n        MockHttpServletResponse response = mockMvc.perform(requestBuilder)\n                .andReturn()\n                .getResponse();\n\n        // asserts\n        assertNotNull(response);\n        assertEquals(HttpStatus.OK.value(), response.getStatus());\n    }\n\n    //other tests\n}\n</code></pre>\n<h4>Requests class (used above)</h4>\n<pre class=\"lang-java prettyprint-override\"><code>public class Requests {\n\n    private Requests() {}\n\n    public static RequestBuilder getAllRoundsByUserId(String userId) {\n        return MockMvcRequestBuilders\n                .get(&quot;/users/&quot; + userId + &quot;/rounds/&quot;)\n                .accept(MediaType.APPLICATION_JSON)\n                .contentType(MediaType.APPLICATION_JSON);\n    }\n}\n</code></pre>\n<h4>Spring Security Config</h4>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * Configures our application with Spring Security to restrict access to our API endpoints.\n */\n@EnableWebSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Value(&quot;${auth0.audience}&quot;)\n    private String audience;\n\n    @Value(&quot;${spring.security.oauth2.resourceserver.jwt.issuer-uri}&quot;)\n    private String issuer;\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n            /*\n            This is where we configure the security required for our endpoints and setup our app to serve as\n            an OAuth2 Resource Server, using JWT validation.\n            */\n\n        http.cors().and().csrf().disable().sessionManagement().\n                sessionCreationPolicy(SessionCreationPolicy.STATELESS).and().authorizeRequests()\n                .mvcMatchers(HttpMethod.GET, &quot;/users/**&quot;).authenticated()\n                .mvcMatchers(HttpMethod.POST, &quot;/users/**&quot;).authenticated()\n                .mvcMatchers(HttpMethod.DELETE, &quot;/users/**&quot;).authenticated()\n                .mvcMatchers(HttpMethod.PUT, &quot;/users/**&quot;).authenticated()\n                .and()\n                .oauth2ResourceServer().jwt();\n    }\n\n    @Bean\n    JwtDecoder jwtDecoder() {\n            /*\n            By default, Spring Security does not validate the &quot;aud&quot; claim of the token, to ensure that this token is\n            indeed intended for our app. Adding our own validator is easy to do:\n            */\n\n        NimbusJwtDecoder jwtDecoder = (NimbusJwtDecoder)\n                JwtDecoders.fromOidcIssuerLocation(issuer);\n\n        OAuth2TokenValidator&lt;Jwt&gt; audienceValidator = new AudienceValidator(audience);\n        OAuth2TokenValidator&lt;Jwt&gt; withIssuer = JwtValidators.createDefaultWithIssuer(issuer);\n        OAuth2TokenValidator&lt;Jwt&gt; withAudience = new DelegatingOAuth2TokenValidator&lt;&gt;(withIssuer,\n                audienceValidator);\n\n        jwtDecoder.setJwtValidator(withAudience);\n\n        return jwtDecoder;\n    }\n\n    @Bean\n    CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(Arrays.asList(&quot;*&quot;));\n        configuration.setAllowedMethods(Arrays.asList(&quot;*&quot;));\n        configuration.setAllowedHeaders(Arrays.asList(&quot;*&quot;));\n        configuration.setAllowCredentials(true);\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n}\n</code></pre>\n<h4>Abstract Unit test class</h4>\n<pre class=\"lang-java prettyprint-override\"><code>@ExtendWith(SpringExtension.class)\n@SpringBootTest(\n        classes = PokerStatApplication.class,\n        webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT\n)\npublic abstract class AbstractUnitTests {\n    // mock objects etc\n}\n</code></pre>\n"},{"tags":["java","list","if-statement","collections","set"],"comments":[{"owner":{"account_id":26883899,"reputation":3,"user_id":20463827,"display_name":"Coding Noob Unfiltered"},"score":0,"creation_date":1690841172,"post_id":76800371,"comment_id":135406553,"body_markdown":"@user16320675, it’s because I was fixated on creating a unique answer to  test myself. I know that this is the wrong focus to have. But I want to use all new skills learned until I memorize them. Then I’ll go for the most effective answers instead. Nonetheless I am practicing some fine-tuning I’ve learned. This can be seen in my use of variables and declarations only when they are needed.","body":"@user16320675, it’s because I was fixated on creating a unique answer to  test myself. I know that this is the wrong focus to have. But I want to use all new skills learned until I memorize them. Then I’ll go for the most effective answers instead. Nonetheless I am practicing some fine-tuning I’ve learned. This can be seen in my use of variables and declarations only when they are needed."}],"answers":[{"comments":[{"owner":{"account_id":26883899,"reputation":3,"user_id":20463827,"display_name":"Coding Noob Unfiltered"},"score":0,"creation_date":1690773587,"post_id":76800430,"comment_id":135394872,"body_markdown":"Wow, this explains everything. I forgot to reset rngNumString. Thank you @tgdavies, you are great, man.","body":"Wow, this explains everything. I forgot to reset rngNumString. Thank you @tgdavies, you are great, man."},{"owner":{"account_id":26883899,"reputation":3,"user_id":20463827,"display_name":"Coding Noob Unfiltered"},"score":0,"creation_date":1690842154,"post_id":76800430,"comment_id":135406651,"body_markdown":"I had not realized it was a different person. This is embarrassing.","body":"I had not realized it was a different person. This is embarrassing."}],"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690772323,"creation_date":1690772323,"answer_id":76800430,"question_id":76800371,"body_markdown":"Imagine the last number you got was 1,2,3.\r\n\r\nNow the following happens:\r\n\r\n- First random digit 2, now we have 2,2,3, because we always set the first one.\r\n- Second random digit 2, the digit will be ignored, we still have 2,2,3.\r\n- Third random digit, 1, different to the existing digits, so it gets set into `rngNumString` and we store 2,2,1 into the set.","title":"Why is my code producing number series with repeating digits?","body":"<p>Imagine the last number you got was 1,2,3.</p>\n<p>Now the following happens:</p>\n<ul>\n<li>First random digit 2, now we have 2,2,3, because we always set the first one.</li>\n<li>Second random digit 2, the digit will be ignored, we still have 2,2,3.</li>\n<li>Third random digit, 1, different to the existing digits, so it gets set into <code>rngNumString</code> and we store 2,2,1 into the set.</li>\n</ul>\n"},{"comments":[{"owner":{"account_id":26883899,"reputation":3,"user_id":20463827,"display_name":"Coding Noob Unfiltered"},"score":0,"creation_date":1690840510,"post_id":76800450,"comment_id":135406457,"body_markdown":"could you please explain how your code below resets rngNumString or prevents duplicate digits in a series? I can see how it prevents a duplicate series, but not a duplicate digit within a series. Set&lt;String&gt; set = new HashSet&lt;&gt;(Arrays.asList(rngNumString)); if (set.size()&lt;3) {continue;} Collections.addAll(randomSet, Arrays.toString(rngNumString)); //if not added individually, then a Hash code is passed and not the value.  randomList = new ArrayList&lt;&gt;(randomSet);","body":"could you please explain how your code below resets rngNumString or prevents duplicate digits in a series? I can see how it prevents a duplicate series, but not a duplicate digit within a series. Set&lt;String&gt; set = new HashSet&lt;&gt;(Arrays.asList(rngNumString)); if (set.size()&lt;3) {continue;} Collections.addAll(randomSet, Arrays.toString(rngNumString)); //if not added individually, then a Hash code is passed and not the value.  randomList = new ArrayList&lt;&gt;(randomSet);"},{"owner":{"account_id":26883899,"reputation":3,"user_id":20463827,"display_name":"Coding Noob Unfiltered"},"score":0,"creation_date":1690842209,"post_id":76800450,"comment_id":135406657,"body_markdown":"@Iant And I apologize for the mixup.","body":"@Iant And I apologize for the mixup."},{"owner":{"account_id":24792239,"reputation":413,"user_id":18675173,"display_name":"lant"},"score":0,"creation_date":1690856086,"post_id":76800450,"comment_id":135407935,"body_markdown":"`Set&lt;String&gt; set = new HashSet&lt;&gt;(Arrays.asList(rngNumString)); if (set.size()&lt;3) {continue;}` this code will prevent duplicate digit within a series. `Set` can deduplicate the data,for example, `set.add(1); set.add(1);` add two duplicate numbers to the set, only one will be retained in the end","body":"<code>Set&lt;String&gt; set = new HashSet&lt;&gt;(Arrays.asList(rngNumString)); if (set.size()&lt;3) {continue;}</code> this code will prevent duplicate digit within a series. <code>Set</code> can deduplicate the data,for example, <code>set.add(1); set.add(1);</code> add two duplicate numbers to the set, only one will be retained in the end"},{"owner":{"account_id":24792239,"reputation":413,"user_id":18675173,"display_name":"lant"},"score":0,"creation_date":1690856472,"post_id":76800450,"comment_id":135407972,"body_markdown":"`Set` can deduplicate the data,for example, `set.add(1); set.add(1);` add two duplicate numbers to the set, only one will be retained in the end, so there only be one 1 in set. For your code , if `rngNumString` is &#39;1&#39;,&#39;1&#39;,&#39;2&#39;  for example, after add these to `set`, number &#39;1&#39; is Repetitive, so only one &#39;1&#39; will be retained,finally &#39;1&#39;,&#39;2&#39; in `set`, the `set` size will less than three, which means there are duplicate numbers in `rngNumString`. @CodingNoobUnfiltered","body":"<code>Set</code> can deduplicate the data,for example, <code>set.add(1); set.add(1);</code> add two duplicate numbers to the set, only one will be retained in the end, so there only be one 1 in set. For your code , if <code>rngNumString</code> is &#39;1&#39;,&#39;1&#39;,&#39;2&#39;  for example, after add these to <code>set</code>, number &#39;1&#39; is Repetitive, so only one &#39;1&#39; will be retained,finally &#39;1&#39;,&#39;2&#39; in <code>set</code>, the <code>set</code> size will less than three, which means there are duplicate numbers in <code>rngNumString</code>. @CodingNoobUnfiltered"}],"tags":[],"owner":{"account_id":24792239,"reputation":413,"user_id":18675173,"display_name":"lant"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690773039,"creation_date":1690772715,"answer_id":76800450,"question_id":76800371,"body_markdown":" The reason for your excessive output is that duplicate numbers appear in a single result, such as 1, 1, 2, where 1 appears twice, it should only appear once.\r\n \r\nI respect the code you wrote, so I made modifications based on your foundation    \r\n \r\n\r\n     static void uniqueString() { //here begins uniqueString().\r\n\r\n\r\n        Set&lt;String&gt; randomSet = new HashSet&lt;&gt;();\r\n        Set&lt;String&gt; randomSetTest = new HashSet&lt;&gt;();\r\n        // No need for 0, so start from 1 \r\n        String[] rngNumString = {&quot;1&quot;, &quot;1&quot;, &quot;1&quot;};\r\n        ArrayList&lt;String&gt; randomList = new ArrayList&lt;&gt;();\r\n\r\n        while (randomList.size() &lt; 24) {\r\n\r\n            for (int index = 0; index &lt; rngNumString.length; index++) {\r\n                Random rng = new Random();\r\n                String digit = Integer.toString(rng.nextInt(4) + 1);\r\n                if (index == 0)\r\n                    rngNumString[index] = digit;\r\n                else if (index == 1 &amp;&amp; (!rngNumString[index].equals(digit) &amp;&amp; (!rngNumString[index - 1].equals(digit))))\r\n                    rngNumString[index] = digit;\r\n                else if (index == 2 &amp;&amp; (!rngNumString[index].equals(digit)) &amp;&amp; (!rngNumString[index - 1].equals(digit)) &amp;&amp; (!rngNumString[index - 2].equals(digit))) {\r\n                    rngNumString[index] = digit;\r\n                }\r\n                Set&lt;String&gt; set = new HashSet&lt;&gt;(Arrays.asList(rngNumString));\r\n                if (set.size()&lt;3) {continue;}\r\n                Collections.addAll(randomSet, Arrays.toString(rngNumString)); //if not added individually, then a Hash code is passed and not the value.\r\n                randomList = new ArrayList&lt;&gt;(randomSet);\r\n\r\n            }\r\n\r\n        }\r\n\r\n        Collections.sort(randomList);\r\n        System.out.println(&quot;This is a randomList: &quot; + randomList);\r\n        System.out.println(&quot;This is the size of randomList: &quot; + randomList.size());\r\n\r\n    }\r\n\r\n After you learn more, such as recursion, you can try to understand this code. \r\n\r\n\r\n    public class Solution2 {\r\n    static List&lt;List&lt;Integer&gt;&gt; ans = new ArrayList&lt;&gt;();\r\n    public static void main(String[] args) {\r\n        int[] nums = new int[]{1,2,3,4};\r\n        boolean[] used = new boolean[nums.length];\r\n        dfs(nums,0,used,new ArrayList&lt;&gt;());\r\n        System.out.println(ans);\r\n        System.out.println(ans.size());\r\n    }\r\n    public static void dfs(int[] nums, int index,boolean[] used,List&lt;Integer&gt; path) {\r\n        if (path.size()==3) {\r\n            ans.add(new ArrayList&lt;&gt;(path));\r\n            return;\r\n        }\r\n        for (int i = 0; i &lt; nums.length; i++) {\r\n            if (used[i]) {\r\n                continue;\r\n            }\r\n            used[i] = true;\r\n            path.add(nums[i]);\r\n            dfs(nums, index+1, used, path);\r\n            used[i] = false;\r\n            path.remove(path.size()-1);\r\n        }\r\n      }\r\n    }","title":"Why is my code producing number series with repeating digits?","body":"<p>The reason for your excessive output is that duplicate numbers appear in a single result, such as 1, 1, 2, where 1 appears twice, it should only appear once.</p>\n<p>I respect the code you wrote, so I made modifications based on your foundation</p>\n<pre><code> static void uniqueString() { //here begins uniqueString().\n\n\n    Set&lt;String&gt; randomSet = new HashSet&lt;&gt;();\n    Set&lt;String&gt; randomSetTest = new HashSet&lt;&gt;();\n    // No need for 0, so start from 1 \n    String[] rngNumString = {&quot;1&quot;, &quot;1&quot;, &quot;1&quot;};\n    ArrayList&lt;String&gt; randomList = new ArrayList&lt;&gt;();\n\n    while (randomList.size() &lt; 24) {\n\n        for (int index = 0; index &lt; rngNumString.length; index++) {\n            Random rng = new Random();\n            String digit = Integer.toString(rng.nextInt(4) + 1);\n            if (index == 0)\n                rngNumString[index] = digit;\n            else if (index == 1 &amp;&amp; (!rngNumString[index].equals(digit) &amp;&amp; (!rngNumString[index - 1].equals(digit))))\n                rngNumString[index] = digit;\n            else if (index == 2 &amp;&amp; (!rngNumString[index].equals(digit)) &amp;&amp; (!rngNumString[index - 1].equals(digit)) &amp;&amp; (!rngNumString[index - 2].equals(digit))) {\n                rngNumString[index] = digit;\n            }\n            Set&lt;String&gt; set = new HashSet&lt;&gt;(Arrays.asList(rngNumString));\n            if (set.size()&lt;3) {continue;}\n            Collections.addAll(randomSet, Arrays.toString(rngNumString)); //if not added individually, then a Hash code is passed and not the value.\n            randomList = new ArrayList&lt;&gt;(randomSet);\n\n        }\n\n    }\n\n    Collections.sort(randomList);\n    System.out.println(&quot;This is a randomList: &quot; + randomList);\n    System.out.println(&quot;This is the size of randomList: &quot; + randomList.size());\n\n}\n</code></pre>\n<p>After you learn more, such as recursion, you can try to understand this code.</p>\n<pre><code>public class Solution2 {\nstatic List&lt;List&lt;Integer&gt;&gt; ans = new ArrayList&lt;&gt;();\npublic static void main(String[] args) {\n    int[] nums = new int[]{1,2,3,4};\n    boolean[] used = new boolean[nums.length];\n    dfs(nums,0,used,new ArrayList&lt;&gt;());\n    System.out.println(ans);\n    System.out.println(ans.size());\n}\npublic static void dfs(int[] nums, int index,boolean[] used,List&lt;Integer&gt; path) {\n    if (path.size()==3) {\n        ans.add(new ArrayList&lt;&gt;(path));\n        return;\n    }\n    for (int i = 0; i &lt; nums.length; i++) {\n        if (used[i]) {\n            continue;\n        }\n        used[i] = true;\n        path.add(nums[i]);\n        dfs(nums, index+1, used, path);\n        used[i] = false;\n        path.remove(path.size()-1);\n    }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":26883899,"reputation":3,"user_id":20463827,"display_name":"Coding Noob Unfiltered"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690773039,"creation_date":1690770944,"question_id":76800371,"body_markdown":"My code should answer the question below :\r\n\r\n```\r\nWrite a Java program to create and display a unique three-digit number using 1, 2, 3, 4. Also count how many three-digit numbers are there.\r\n//        Expected Output\r\n//\r\n//        123\r\n//        124\r\n//        ...\r\n//\r\n//        431\r\n//        432\r\n//        Total number of the three-digit-number is 24&quot;\r\n```\r\n\r\nNow, I used two checkpoints in the form of `Sets `, and `if statements`. First, I check that the\r\n\r\n`Random rng = new Random(); String digit = Integer.toString(rng.nextInt(4) + 1);`\r\n\r\ndoest not match the value at the `index` of the `rngNumString` in the following lines of code:\r\n\r\n```\r\nif (index == 0 )\r\n    rngNumString[index] = digit;\r\nelse if (index == 1 &amp;&amp; (!rngNumString[index].equals(digit) &amp;&amp; (!rngNumString[index - 1].equals(digit))))\r\n    rngNumString[index] = digit;\r\nelse if (index == 2 &amp;&amp; (!rngNumString[index].equals(digit)) &amp;&amp; (!rngNumString[index - 1].equals(digit)) &amp;&amp; (!rngNumString[index - 2].equals(digit)))\r\n{rngNumString[index] = digit;\r\n```\r\n\r\nNow, the second checkpoints is in the following code:\r\n\r\n```\r\nCollections.addAll(randomSet,Arrays.toString(rngNumString)); //if not added individually, then a Hash code is passed and not the value.\r\nrandomSetTest = new HashSet&lt;&gt;(randomSet);}\r\nrandomList = new ArrayList&lt;&gt;(randomSetTest);\r\n```\r\n\r\nAs you know, sets do not return values that are duplicate. So this should ensure that my series are not repeating.\r\n\r\nYet, when I print my results, this is what I get:\r\n\r\n`This is a randomList: [[1, 1, 2], [1, 1, 3], [1, 1, 4], [1, 2, 3], [1, 2, 4], [1, 3, 2], [1, 3, 4], [1, 4, 2], [1, 4, 3], [2, 1, 3], [2, 1, 4], [2, 2, 1], [2, 2, 3], [2, 2, 4], [2, 3, 1], [2, 3, 4], [2, 4, 1], [2, 4, 3], [3, 1, 2], [3, 1, 4], [3, 2, 1], [3, 2, 4], [3, 3, 1], [3, 3, 2], [3, 3, 4], [3, 4, 1], [3, 4, 2], [4, 1, 2], [4, 1, 3], [4, 2, 1], [4, 2, 3], [4, 3, 1], [4, 3, 2], [4, 4, 1], [4, 4, 2], [4, 4, 3]]`\r\n\r\n`This is the size of randomList: 36`\r\n\r\nYou can immediately spot the repeating digits in each series.  Now I am not asking, and I do not want the answer to the challenge question. I just need to know why my checkpoints are failing, I need a code analysis please.\r\n\r\nAs you can see, the if statements, and the use of the Sets, did not prevent repeating digits in my series. I need to produce many series of numbers without repetition. So, please do not resolve the challenge question for me, just the issue in my code. I hope that this is clear. I really appreciate any help you can provide.  \r\n  \r\n  \r\n  \r\nHere is my full code for your review:\r\n\r\n```\r\nvoid uniqueString() { //here begins uniqueString().\r\n\r\n\r\n    Set&lt;String&gt; randomSet = new HashSet&lt;&gt;();\r\n    Set&lt;String&gt; randomSetTest = new HashSet&lt;&gt;();\r\n\r\n    String[] rngNumString = {&quot;0&quot;,&quot;0&quot;,&quot;0&quot;};\r\n    ArrayList&lt;String&gt; randomList = new ArrayList&lt;&gt;();\r\n\r\n    while (randomList.size() &lt; 36) {\r\n\r\n        for (int index = 0; index &lt; rngNumString.length; index++) {\r\n            Random rng = new Random();\r\n            String digit = Integer.toString(rng.nextInt(4) + 1);\r\n\r\n                if (index == 0 )\r\n                    rngNumString[index] = digit;\r\n                else if (index == 1 &amp;&amp; (!rngNumString[index].equals(digit) &amp;&amp; (!rngNumString[index - 1].equals(digit))))\r\n                    rngNumString[index] = digit;\r\n                else if (index == 2 &amp;&amp; (!rngNumString[index].equals(digit)) &amp;&amp; (!rngNumString[index - 1].equals(digit)) &amp;&amp; (!rngNumString[index - 2].equals(digit)))\r\n                {rngNumString[index] = digit;\r\n                    Collections.addAll(randomSet,Arrays.toString(rngNumString)); //if not added individually, then a Hash code is passed and not the value.\r\n                    randomSetTest = new HashSet&lt;&gt;(randomSet);}\r\n                    randomList = new ArrayList&lt;&gt;(randomSetTest);\r\n\r\n        }\r\n\r\n    }\r\n\r\n    Collections.sort(randomList);\r\n    System.out.println(&quot;This is a randomList: &quot; + randomList);\r\n    System.out.println(&quot;This is the size of randomList: &quot; + randomList.size());\r\n\r\n}  //here ends uniqueString()\r\n```","title":"Why is my code producing number series with repeating digits?","body":"<p>My code should answer the question below :</p>\n<pre><code>Write a Java program to create and display a unique three-digit number using 1, 2, 3, 4. Also count how many three-digit numbers are there.\n//        Expected Output\n//\n//        123\n//        124\n//        ...\n//\n//        431\n//        432\n//        Total number of the three-digit-number is 24&quot;\n</code></pre>\n<p>Now, I used two checkpoints in the form of <code>Sets </code>, and <code>if statements</code>. First, I check that the</p>\n<p><code>Random rng = new Random(); String digit = Integer.toString(rng.nextInt(4) + 1);</code></p>\n<p>doest not match the value at the <code>index</code> of the <code>rngNumString</code> in the following lines of code:</p>\n<pre><code>if (index == 0 )\n    rngNumString[index] = digit;\nelse if (index == 1 &amp;&amp; (!rngNumString[index].equals(digit) &amp;&amp; (!rngNumString[index - 1].equals(digit))))\n    rngNumString[index] = digit;\nelse if (index == 2 &amp;&amp; (!rngNumString[index].equals(digit)) &amp;&amp; (!rngNumString[index - 1].equals(digit)) &amp;&amp; (!rngNumString[index - 2].equals(digit)))\n{rngNumString[index] = digit;\n</code></pre>\n<p>Now, the second checkpoints is in the following code:</p>\n<pre><code>Collections.addAll(randomSet,Arrays.toString(rngNumString)); //if not added individually, then a Hash code is passed and not the value.\nrandomSetTest = new HashSet&lt;&gt;(randomSet);}\nrandomList = new ArrayList&lt;&gt;(randomSetTest);\n</code></pre>\n<p>As you know, sets do not return values that are duplicate. So this should ensure that my series are not repeating.</p>\n<p>Yet, when I print my results, this is what I get:</p>\n<p><code>This is a randomList: [[1, 1, 2], [1, 1, 3], [1, 1, 4], [1, 2, 3], [1, 2, 4], [1, 3, 2], [1, 3, 4], [1, 4, 2], [1, 4, 3], [2, 1, 3], [2, 1, 4], [2, 2, 1], [2, 2, 3], [2, 2, 4], [2, 3, 1], [2, 3, 4], [2, 4, 1], [2, 4, 3], [3, 1, 2], [3, 1, 4], [3, 2, 1], [3, 2, 4], [3, 3, 1], [3, 3, 2], [3, 3, 4], [3, 4, 1], [3, 4, 2], [4, 1, 2], [4, 1, 3], [4, 2, 1], [4, 2, 3], [4, 3, 1], [4, 3, 2], [4, 4, 1], [4, 4, 2], [4, 4, 3]]</code></p>\n<p><code>This is the size of randomList: 36</code></p>\n<p>You can immediately spot the repeating digits in each series.  Now I am not asking, and I do not want the answer to the challenge question. I just need to know why my checkpoints are failing, I need a code analysis please.</p>\n<p>As you can see, the if statements, and the use of the Sets, did not prevent repeating digits in my series. I need to produce many series of numbers without repetition. So, please do not resolve the challenge question for me, just the issue in my code. I hope that this is clear. I really appreciate any help you can provide.</p>\n<p>Here is my full code for your review:</p>\n<pre><code>void uniqueString() { //here begins uniqueString().\n\n\n    Set&lt;String&gt; randomSet = new HashSet&lt;&gt;();\n    Set&lt;String&gt; randomSetTest = new HashSet&lt;&gt;();\n\n    String[] rngNumString = {&quot;0&quot;,&quot;0&quot;,&quot;0&quot;};\n    ArrayList&lt;String&gt; randomList = new ArrayList&lt;&gt;();\n\n    while (randomList.size() &lt; 36) {\n\n        for (int index = 0; index &lt; rngNumString.length; index++) {\n            Random rng = new Random();\n            String digit = Integer.toString(rng.nextInt(4) + 1);\n\n                if (index == 0 )\n                    rngNumString[index] = digit;\n                else if (index == 1 &amp;&amp; (!rngNumString[index].equals(digit) &amp;&amp; (!rngNumString[index - 1].equals(digit))))\n                    rngNumString[index] = digit;\n                else if (index == 2 &amp;&amp; (!rngNumString[index].equals(digit)) &amp;&amp; (!rngNumString[index - 1].equals(digit)) &amp;&amp; (!rngNumString[index - 2].equals(digit)))\n                {rngNumString[index] = digit;\n                    Collections.addAll(randomSet,Arrays.toString(rngNumString)); //if not added individually, then a Hash code is passed and not the value.\n                    randomSetTest = new HashSet&lt;&gt;(randomSet);}\n                    randomList = new ArrayList&lt;&gt;(randomSetTest);\n\n        }\n\n    }\n\n    Collections.sort(randomList);\n    System.out.println(&quot;This is a randomList: &quot; + randomList);\n    System.out.println(&quot;This is the size of randomList: &quot; + randomList.size());\n\n}  //here ends uniqueString()\n</code></pre>\n"},{"tags":["java","hibernate","orm","hibernate-criteria"],"answers":[{"comments":[{"owner":{"account_id":18467,"reputation":6637,"user_id":42344,"accept_rate":60,"display_name":"jonathan.cone"},"score":1,"creation_date":1312934613,"post_id":7004467,"comment_id":8362775,"body_markdown":"Right, the SQL is the easy part.  What I&#39;m looking for is the criteria calls. ;)  Also, keep in mind this will require an outer join to populate the child entities.","body":"Right, the SQL is the easy part.  What I&#39;m looking for is the criteria calls. ;)  Also, keep in mind this will require an outer join to populate the child entities."},{"owner":{"account_id":293796,"reputation":13141,"user_id":597310,"accept_rate":80,"display_name":"dfb"},"score":0,"creation_date":1312934895,"post_id":7004467,"comment_id":8362827,"body_markdown":"So is the 2nd query getting the parent and the lazily loading the children?","body":"So is the 2nd query getting the parent and the lazily loading the children?"},{"owner":{"account_id":18467,"reputation":6637,"user_id":42344,"accept_rate":60,"display_name":"jonathan.cone"},"score":0,"creation_date":1312935057,"post_id":7004467,"comment_id":8362866,"body_markdown":"Yes, for each parent record returned a child query is being executed which is what I&#39;m trying to avoid.  It looks like this may actually be a defect, but I&#39;m curious if anyone has a workaround: https://hibernate.onjira.com/browse/HHH-3524","body":"Yes, for each parent record returned a child query is being executed which is what I&#39;m trying to avoid.  It looks like this may actually be a defect, but I&#39;m curious if anyone has a workaround: <a href=\"https://hibernate.onjira.com/browse/HHH-3524\" rel=\"nofollow noreferrer\">hibernate.onjira.com/browse/HHH-3524</a>"}],"tags":[],"owner":{"account_id":293796,"reputation":13141,"user_id":597310,"accept_rate":80,"display_name":"dfb"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1312934498,"creation_date":1312934498,"answer_id":7004467,"question_id":7003861,"body_markdown":"getChildren() is just the name of the getter/setter, your query will determine how the objects get populated.\r\n\r\nI&#39;m going to guess here that the first part spits out \r\n\r\n    SELECT * FROM Parent \r\n    INNER JOIN Child c ON ... \r\n    WHERE c.property in (x,y,z) \r\n\r\nwhich doesn&#39;t get you what you want. What&#39;d you&#39;d want to do if you were writing this in raw SQL is this:\r\n\r\n    SELECT * FROM Parent  \r\n    WHERE ParentID IN (SELECT DISTINCT parentID FROM Child WHERE  c.property in (x,y,z))\r\n\r\nrearranging your criteria appropriately might do the trick if the last one isn&#39;t producing this query.  (Could you also post what hibernate is generating for each?)\r\n\r\n\r\n\r\n\r\n","title":"Hibernate criteria with restrictions on children","body":"<p>getChildren() is just the name of the getter/setter, your query will determine how the objects get populated.</p>\n\n<p>I'm going to guess here that the first part spits out </p>\n\n<pre><code>SELECT * FROM Parent \nINNER JOIN Child c ON ... \nWHERE c.property in (x,y,z) \n</code></pre>\n\n<p>which doesn't get you what you want. What'd you'd want to do if you were writing this in raw SQL is this:</p>\n\n<pre><code>SELECT * FROM Parent  \nWHERE ParentID IN (SELECT DISTINCT parentID FROM Child WHERE  c.property in (x,y,z))\n</code></pre>\n\n<p>rearranging your criteria appropriately might do the trick if the last one isn't producing this query.  (Could you also post what hibernate is generating for each?)</p>\n"},{"tags":[],"owner":{"account_id":79489,"reputation":1968,"user_id":225341,"display_name":"Victor Ionescu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1364899640,"creation_date":1364899640,"answer_id":15762161,"question_id":7003861,"body_markdown":"I would start the Criteria with the child class. You&#39;ll get a list with all the children, and then you can iterate and get the parent for each children.","title":"Hibernate criteria with restrictions on children","body":"<p>I would start the Criteria with the child class. You'll get a list with all the children, and then you can iterate and get the parent for each children.</p>\n"},{"tags":[],"owner":{"account_id":99756,"reputation":1384,"user_id":269292,"display_name":"binary"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1690772885,"creation_date":1396173063,"answer_id":22742554,"question_id":7003861,"body_markdown":"```java\r\nCriteria c = session.createCriteria(Parent.class);\r\n\r\nc.createAlias(&quot;children&quot;, &quot;children&quot;);\r\nc.add(Restrictions.in(&quot;children.property&quot;, properties));\r\n\r\nc.setResultTransformer(CriteriaSpecification.DISTINCT_ROOT_ENTITY);\r\n\r\nreturn c.list();\r\n```","title":"Hibernate criteria with restrictions on children","body":"<pre class=\"lang-java prettyprint-override\"><code>Criteria c = session.createCriteria(Parent.class);\n\nc.createAlias(&quot;children&quot;, &quot;children&quot;);\nc.add(Restrictions.in(&quot;children.property&quot;, properties));\n\nc.setResultTransformer(CriteriaSpecification.DISTINCT_ROOT_ENTITY);\n\nreturn c.list();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5314388,"reputation":57,"user_id":4239741,"accept_rate":83,"display_name":"Karthi Murugan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1435839075,"creation_date":1435839075,"answer_id":31184332,"question_id":7003861,"body_markdown":"This can be done in work around way.\r\n\r\n    Criteria c1 = session.createCriteria(Child.class);\r\n    c1.add(Restrictions.in(&quot;property&quot;, properties));\r\n    c1.setProjection( Projections.distinct( Projections.property( &quot;parentId&quot; ) ) );\r\n    List&lt;Integer&gt; parentIds = c1.list();\r\n        \r\n    Criteria c2 = session.createCriteria(Parent.class);\r\n    c2.createAlias(&quot;children&quot;, &quot;children&quot;);\r\n    c2.add(Restrictions.in(&quot;id&quot;, parentIds));\r\n    return c2.list();\r\n\r\n","title":"Hibernate criteria with restrictions on children","body":"<p>This can be done in work around way.</p>\n\n<pre><code>Criteria c1 = session.createCriteria(Child.class);\nc1.add(Restrictions.in(\"property\", properties));\nc1.setProjection( Projections.distinct( Projections.property( \"parentId\" ) ) );\nList&lt;Integer&gt; parentIds = c1.list();\n\nCriteria c2 = session.createCriteria(Parent.class);\nc2.createAlias(\"children\", \"children\");\nc2.add(Restrictions.in(\"id\", parentIds));\nreturn c2.list();\n</code></pre>\n"}],"owner":{"account_id":18467,"reputation":6637,"user_id":42344,"accept_rate":60,"display_name":"jonathan.cone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17105,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":4,"score":8,"last_activity_date":1690772885,"creation_date":1312929294,"question_id":7003861,"body_markdown":"I have a Hibernate criteria call that I want to execute in one SQL statement.  What I&#39;m trying to do is select instances of Parent that have Children with a property in a range of values (SQL IN clause), all while loading the children using an outer join.  Here&#39;s what I have so far:\r\n \r\n\r\n     Criteria c = session.createCriteria(Parent.class);\r\n     \r\n     c.createAlias(&quot;children&quot;, &quot;c&quot;, CriteriaSpecification.LEFT_JOIN)\r\n              .setFetchMode(&quot;c&quot;, FetchMode.JOIN)\r\n              .add(Restrictions.in(&quot;c.property&quot;, properties));\r\n  \r\n     c.setResultTransformer(CriteriaSpecification.DISTINCT_ROOT_ENTITY);\r\n\r\n     return c.list();\r\n\t\t  \r\nHere&#39;s some sample data:\t\t  \r\n\t\t  \r\n    Parent\r\n    Parent ID\r\n    A\r\n    B\r\n    C\r\n     \r\n    Children\r\n    Child ID\tParent ID\tproperty\r\n    ...\t\t\tA\t\t\t0\r\n    ...\t\t\tA\t\t\t2\r\n    ...\t\t\tA\t\t\t7\r\n    ...\t\t\tB\t\t\t1\r\n    ...\t\t\tC\t\t\t1\r\n    ...\t\t\tC\t\t\t2\r\n    ...\t\t\tC\t\t\t3\r\n\t\t  \r\nWhat I want to do is return the parents and ALL their children if one of the children has a property equal to my bind parameter(s).  Let&#39;s assume properties is an array containing {2}. In this case, the call will return parents A and C but their child collections will contain only element 2. I.e. Parent[Children]:\r\n\r\nA[2] &amp; C[2]\r\n\r\nWhat I want is:\r\n\r\nA[0, 2, 7] &amp; C[1, 2 3]\r\n\r\nIf this is not a bug, it seems to be a broken semantic.  I don&#39;t see how calling A.getChildren() or C.getChildren() and returning 1 record would ever be considered correct -- this is not a projection.  I.e. if I augment the query to use the default select fetch, it returns the proper children collections, albiet with a multitude of queries:\r\n      \r\n\t  c.createAlias(&quot;children&quot;, &quot;c&quot;).add(\r\n          Restrictions.in(&quot;c.property&quot;, properties));\r\n\t\t  \r\nIs this a bug? If not, how can I achieve my desired result?\r\n\t\t  \r\n\r\n","title":"Hibernate criteria with restrictions on children","body":"<p>I have a Hibernate criteria call that I want to execute in one SQL statement.  What I'm trying to do is select instances of Parent that have Children with a property in a range of values (SQL IN clause), all while loading the children using an outer join.  Here's what I have so far:</p>\n\n<pre><code> Criteria c = session.createCriteria(Parent.class);\n\n c.createAlias(\"children\", \"c\", CriteriaSpecification.LEFT_JOIN)\n          .setFetchMode(\"c\", FetchMode.JOIN)\n          .add(Restrictions.in(\"c.property\", properties));\n\n c.setResultTransformer(CriteriaSpecification.DISTINCT_ROOT_ENTITY);\n\n return c.list();\n</code></pre>\n\n<p>Here's some sample data:          </p>\n\n<pre><code>Parent\nParent ID\nA\nB\nC\n\nChildren\nChild ID    Parent ID   property\n...         A           0\n...         A           2\n...         A           7\n...         B           1\n...         C           1\n...         C           2\n...         C           3\n</code></pre>\n\n<p>What I want to do is return the parents and ALL their children if one of the children has a property equal to my bind parameter(s).  Let's assume properties is an array containing {2}. In this case, the call will return parents A and C but their child collections will contain only element 2. I.e. Parent[Children]:</p>\n\n<p>A[2] &amp; C[2]</p>\n\n<p>What I want is:</p>\n\n<p>A[0, 2, 7] &amp; C[1, 2 3]</p>\n\n<p>If this is not a bug, it seems to be a broken semantic.  I don't see how calling A.getChildren() or C.getChildren() and returning 1 record would ever be considered correct -- this is not a projection.  I.e. if I augment the query to use the default select fetch, it returns the proper children collections, albiet with a multitude of queries:</p>\n\n<pre><code>  c.createAlias(\"children\", \"c\").add(\n      Restrictions.in(\"c.property\", properties));\n</code></pre>\n\n<p>Is this a bug? If not, how can I achieve my desired result?</p>\n"},{"tags":["java","android","firebase-realtime-database","android-intent"],"comments":[{"owner":{"account_id":13113788,"reputation":10080,"user_id":9473786,"display_name":"Tyler V"},"score":1,"creation_date":1690773463,"post_id":76800314,"comment_id":135394862,"body_markdown":"Does this answer your question? [Why does my function that calls an API or launches a coroutine return an empty or null value?](https://stackoverflow.com/questions/57330766/why-does-my-function-that-calls-an-api-or-launches-a-coroutine-return-an-empty-o/70178210#70178210) - the code inside `onDataChange` is an asynchronous callback, it doesn&#39;t run in the order written. It runs later when the data is changed, which is *always* going to happen after your call to `startActivity`","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/57330766/why-does-my-function-that-calls-an-api-or-launches-a-coroutine-return-an-empty-o/70178210#70178210\">Why does my function that calls an API or launches a coroutine return an empty or null value?</a> - the code inside <code>onDataChange</code> is an asynchronous callback, it doesn&#39;t run in the order written. It runs later when the data is changed, which is <i>always</i> going to happen after your call to <code>startActivity</code>"}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690772884,"creation_date":1690772884,"answer_id":76800460,"question_id":76800314,"body_markdown":"Your `context.startActivity(intent)` happens before the `onDataChange` is ever called. Any code that needs the data from the database has to be inside the `onDataChange` method or it will execute at the wrong time.\r\n\r\nSo:\r\n\r\n```\r\ndatabaseReference.child(FirebaseAuth.getInstance().getCurrentUser().getUid())\r\n    .child(&quot;task&quot;)\r\n    .orderByChild(&quot;id&quot;)\r\n    .equalTo(taskList.get(position).getId())\r\n    .addListenerForSingleValueEvent(new ValueEventListener() {\r\n        @Override\r\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n            for (DataSnapshot ds: snapshot.getChildren()){\r\n                TaskModel task = ds.getValue(TaskModel.class);\r\n                Log.d(&quot;TEST&quot;, &quot;value: &quot;+ task.getTask());\r\n                intent.putExtra(&quot;task&quot;, task.getTask().toString());\r\n                intent.putExtra(&quot;id&quot;, task.getId());\r\n                intent.putExtra(&quot;impo&quot;, task.getImpo());\r\n                intent.putExtra(&quot;done&quot;, task.getDone());\r\n                Log.d(&quot;TEST&quot;, &quot;value: &quot;+ ds.child(&quot;task&quot;).getValue());\r\n\r\n            }\r\n\r\n            context.startActivity(intent); // &#128072; move this here\r\n        }\r\n\r\n        @Override\r\n        public void onCancelled(@NonNull DatabaseError error) {\r\n            throw error.toException(); // &#128072; stop ignoring possible errors\r\n        }\r\n    });\r\n```\r\n\r\nThis is an incredibly common source of confusion for developers who are new to dealing with asynchronous API, so I recommend checking out:\r\n\r\n* https://stackoverflow.com/questions/50434836/getcontactsfromfirebase-method-return-an-empty-list/50435519#50435519\r\n* https://stackoverflow.com/questions/33203379/setting-singleton-property-value-in-firebase-listener\r\n* https://stackoverflow.com/questions/47847694/how-to-return-datasnapshot-value-as-a-result-of-a-method/47853774#47853774\r\n* https://stackoverflow.com/questions/50434836/getcontactsfromfirebase-method-return-an-empty-list/50435519#50435519","title":"Variable return null when using getExtra in android studio","body":"<p>Your <code>context.startActivity(intent)</code> happens before the <code>onDataChange</code> is ever called. Any code that needs the data from the database has to be inside the <code>onDataChange</code> method or it will execute at the wrong time.</p>\n<p>So:</p>\n<pre><code>databaseReference.child(FirebaseAuth.getInstance().getCurrentUser().getUid())\n    .child(&quot;task&quot;)\n    .orderByChild(&quot;id&quot;)\n    .equalTo(taskList.get(position).getId())\n    .addListenerForSingleValueEvent(new ValueEventListener() {\n        @Override\n        public void onDataChange(@NonNull DataSnapshot snapshot) {\n            for (DataSnapshot ds: snapshot.getChildren()){\n                TaskModel task = ds.getValue(TaskModel.class);\n                Log.d(&quot;TEST&quot;, &quot;value: &quot;+ task.getTask());\n                intent.putExtra(&quot;task&quot;, task.getTask().toString());\n                intent.putExtra(&quot;id&quot;, task.getId());\n                intent.putExtra(&quot;impo&quot;, task.getImpo());\n                intent.putExtra(&quot;done&quot;, task.getDone());\n                Log.d(&quot;TEST&quot;, &quot;value: &quot;+ ds.child(&quot;task&quot;).getValue());\n\n            }\n\n            context.startActivity(intent); // 👈 move this here\n        }\n\n        @Override\n        public void onCancelled(@NonNull DatabaseError error) {\n            throw error.toException(); // 👈 stop ignoring possible errors\n        }\n    });\n</code></pre>\n<p>This is an incredibly common source of confusion for developers who are new to dealing with asynchronous API, so I recommend checking out:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/50434836/getcontactsfromfirebase-method-return-an-empty-list/50435519#50435519\">getContactsFromFirebase() method return an empty list</a></li>\n<li><a href=\"https://stackoverflow.com/questions/33203379/setting-singleton-property-value-in-firebase-listener\">Setting Singleton property value in Firebase Listener</a></li>\n<li><a href=\"https://stackoverflow.com/questions/47847694/how-to-return-datasnapshot-value-as-a-result-of-a-method/47853774#47853774\">How to return DataSnapshot value as a result of a method?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/50434836/getcontactsfromfirebase-method-return-an-empty-list/50435519#50435519\">getContactsFromFirebase() method return an empty list</a></li>\n</ul>\n"}],"owner":{"account_id":20868031,"reputation":1,"user_id":15328626,"display_name":"cx330"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690772884,"creation_date":1690769392,"question_id":76800314,"body_markdown":"This is my code to get the variable from firebase, it still return right when i log it\r\n\r\n```\r\nholder.setItemClickListener(new TaskViewHolder.ItemClickListener() {\r\n    @Override\r\n    public void onClick(View view, int position, boolean isLongClick) {\r\n        Intent intent = new Intent(context, TaskDetail.class);\r\n        FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n        DatabaseReference databaseReference = database.getReference(&quot;Users&quot;);\r\n        databaseReference.child(FirebaseAuth.getInstance().getCurrentUser().getUid())\r\n                .child(&quot;task&quot;)\r\n                .orderByChild(&quot;id&quot;)\r\n                .equalTo(taskList.get(position).getId())\r\n                .addListenerForSingleValueEvent(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                        for (DataSnapshot ds: snapshot.getChildren()){\r\n                            TaskModel task = ds.getValue(TaskModel.class);\r\n                            Log.d(&quot;TEST&quot;, &quot;value: &quot;+ task.getTask());\r\n                            intent.putExtra(&quot;task&quot;, task.getTask().toString());\r\n                            intent.putExtra(&quot;id&quot;, task.getId());\r\n                            intent.putExtra(&quot;impo&quot;, task.getImpo());\r\n                            intent.putExtra(&quot;done&quot;, task.getDone());\r\n                            Log.d(&quot;TEST&quot;, &quot;value: &quot;+ ds.child(&quot;task&quot;).getValue());\r\n\r\n                        }\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n                    }\r\n                });\r\n        context.startActivity(intent);\r\n    }\r\n});\r\n```\r\n```\r\nsuper.onCreate(savedInstanceState);\r\n\r\nsetContentView(R.layout.activity_task_detail);\r\n\r\nIntent intent = getIntent();\r\nString task = intent.getStringExtra(&quot;task&quot;);\r\nint id = intent.getIntExtra((&quot;id&quot;),0);\r\nint done = intent.getIntExtra((&quot;done&quot;),0);\r\nint impo = intent.getIntExtra((&quot;impo&quot;),0);\r\n\r\nbtnSave = findViewById(R.id.btnSaveEdit);\r\ntxtTask = findViewById(R.id.txtTask);\r\nbtnSave.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View v) {\r\n        Log.d(&quot;TEST-ID&quot;, &quot;task&quot;+task);\r\n    }\r\n});\r\n```\r\n![enter image description here](https://i.stack.imgur.com/R6VWr.png)\r\n\r\nputExtra the variable to another activity","title":"Variable return null when using getExtra in android studio","body":"<p>This is my code to get the variable from firebase, it still return right when i log it</p>\n<pre><code>holder.setItemClickListener(new TaskViewHolder.ItemClickListener() {\n    @Override\n    public void onClick(View view, int position, boolean isLongClick) {\n        Intent intent = new Intent(context, TaskDetail.class);\n        FirebaseDatabase database = FirebaseDatabase.getInstance();\n        DatabaseReference databaseReference = database.getReference(&quot;Users&quot;);\n        databaseReference.child(FirebaseAuth.getInstance().getCurrentUser().getUid())\n                .child(&quot;task&quot;)\n                .orderByChild(&quot;id&quot;)\n                .equalTo(taskList.get(position).getId())\n                .addListenerForSingleValueEvent(new ValueEventListener() {\n                    @Override\n                    public void onDataChange(@NonNull DataSnapshot snapshot) {\n                        for (DataSnapshot ds: snapshot.getChildren()){\n                            TaskModel task = ds.getValue(TaskModel.class);\n                            Log.d(&quot;TEST&quot;, &quot;value: &quot;+ task.getTask());\n                            intent.putExtra(&quot;task&quot;, task.getTask().toString());\n                            intent.putExtra(&quot;id&quot;, task.getId());\n                            intent.putExtra(&quot;impo&quot;, task.getImpo());\n                            intent.putExtra(&quot;done&quot;, task.getDone());\n                            Log.d(&quot;TEST&quot;, &quot;value: &quot;+ ds.child(&quot;task&quot;).getValue());\n\n                        }\n                    }\n\n                    @Override\n                    public void onCancelled(@NonNull DatabaseError error) {\n\n                    }\n                });\n        context.startActivity(intent);\n    }\n});\n</code></pre>\n<pre><code>super.onCreate(savedInstanceState);\n\nsetContentView(R.layout.activity_task_detail);\n\nIntent intent = getIntent();\nString task = intent.getStringExtra(&quot;task&quot;);\nint id = intent.getIntExtra((&quot;id&quot;),0);\nint done = intent.getIntExtra((&quot;done&quot;),0);\nint impo = intent.getIntExtra((&quot;impo&quot;),0);\n\nbtnSave = findViewById(R.id.btnSaveEdit);\ntxtTask = findViewById(R.id.txtTask);\nbtnSave.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View v) {\n        Log.d(&quot;TEST-ID&quot;, &quot;task&quot;+task);\n    }\n});\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/R6VWr.png\" alt=\"enter image description here\" /></p>\n<p>putExtra the variable to another activity</p>\n"},{"tags":["java","spring-boot","jackson"],"answers":[{"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690785406,"post_id":76800454,"comment_id":135395892,"body_markdown":"This is a really bad idea as that disables the auto-configuration of Spring Boot and can lead to other surprising results (or maybe you already did something like this which disabled the `JavaTimeModule`).","body":"This is a really bad idea as that disables the auto-configuration of Spring Boot and can lead to other surprising results (or maybe you already did something like this which disabled the <code>JavaTimeModule</code>)."},{"owner":{"account_id":22543404,"reputation":11,"user_id":21369220,"display_name":"EasonHu"},"score":0,"creation_date":1690787938,"post_id":76800454,"comment_id":135396276,"body_markdown":"If I don&#39;t want to disable automatic configuration, can I just write this directly to the yml configuration file?","body":"If I don&#39;t want to disable automatic configuration, can I just write this directly to the yml configuration file?"},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690788101,"post_id":76800454,"comment_id":135396304,"body_markdown":"You shouldn&#39;t need any of this. Spring Boot will automatically configure the `ObjectMapper` and detect the `JavaTimeModule`. Unless you have added `@EnableWebMvc` somewhere in your configuration which will also disable (even more) parts of the auto configuration.","body":"You shouldn&#39;t need any of this. Spring Boot will automatically configure the <code>ObjectMapper</code> and detect the <code>JavaTimeModule</code>. Unless you have added <code>@EnableWebMvc</code> somewhere in your configuration which will also disable (even more) parts of the auto configuration."},{"owner":{"account_id":22543404,"reputation":11,"user_id":21369220,"display_name":"EasonHu"},"score":0,"creation_date":1690789237,"post_id":76800454,"comment_id":135396521,"body_markdown":"In other words, can I restore the automatic configuration after deleting the previous configuration? Comment out `@Configuration` and `@Bean`.","body":"In other words, can I restore the automatic configuration after deleting the previous configuration? Comment out <code>@Configuration</code> and <code>@Bean</code>."},{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690789864,"post_id":76800454,"comment_id":135396646,"body_markdown":"Normally yes, if the auto configuration doesn&#39;t apply there is something else disabling this (like an `@EnableWebMvc` you (accidentily) added).","body":"Normally yes, if the auto configuration doesn&#39;t apply there is something else disabling this (like an <code>@EnableWebMvc</code> you (accidentily) added)."},{"owner":{"account_id":22543404,"reputation":11,"user_id":21369220,"display_name":"EasonHu"},"score":0,"creation_date":1690790821,"post_id":76800454,"comment_id":135396793,"body_markdown":"But I want to set `read-unknown-enum-values-as-null` to `true`,  is it possible to write it to the config file? Will it cause the auto configuration to fail?","body":"But I want to set <code>read-unknown-enum-values-as-null</code> to <code>true</code>,  is it possible to write it to the config file? Will it cause the auto configuration to fail?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1690790990,"post_id":76800454,"comment_id":135396824,"body_markdown":"You should be able to set this in your `application.properties` or `application.yaml`. For instance: `spring.jackson.serialization.write-dates-as-timestamps=false`, `spring.jackson.deserialization.read-unknown-enum-values-as-null=true`.","body":"You should be able to set this in your <code>application.properties</code> or <code>application.yaml</code>. For instance: <code>spring.jackson.serialization.write-dates-as-timestamps=false</code>&zwnj;&#8203;, <code>spring.jackson.deserialization.read-unknown-enum-values-as-n&zwnj;&#8203;ull=true</code>."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1690791060,"post_id":76800454,"comment_id":135396837,"body_markdown":"Or, if really needed, create a bean that implements https://docs.spring.io/spring-framework/docs/6.0.11/javadoc-api/org/springframework/http/converter/json/Jackson2ObjectMapperBuilder.html.","body":"Or, if really needed, create a bean that implements <a href=\"https://docs.spring.io/spring-framework/docs/6.0.11/javadoc-api/org/springframework/http/converter/json/Jackson2ObjectMapperBuilder.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/6.0.11/javadoc-api/org/&zwnj;&#8203;&hellip;</a>."}],"tags":[],"owner":{"account_id":22543404,"reputation":11,"user_id":21369220,"display_name":"EasonHu"},"comment_count":8,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690772745,"creation_date":1690772745,"answer_id":76800454,"question_id":76800360,"body_markdown":"OK，I fix it!\r\njust do like this~\r\n```java\r\n@Configuration\r\npublic class JacksonConfig {\r\n\r\n    DateFormat dft = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n\r\n    @Bean\r\n    public ObjectMapper objectMapper() {\r\n        return new ObjectMapper()\r\n                // add this\r\n                .registerModule(new JavaTimeModule())\r\n                .disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS)\r\n                .setDateFormat(dft)\r\n                .setTimeZone(TimeZone.getTimeZone(&quot;GMT+8&quot;))\r\n                .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\r\n                .configure(DeserializationFeature.READ_UNKNOWN_ENUM_VALUES_AS_NULL, true)\r\n                .configure(JsonParser.Feature.ALLOW_SINGLE_QUOTES, true);\r\n    }\r\n\r\n}\r\n```","title":"Data queried by backend works fine, but can&#39;t give results to frontend, Java8 + Spring Boot 2.7.7","body":"<p>OK，I fix it!\njust do like this~</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class JacksonConfig {\n\n    DateFormat dft = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\n\n    @Bean\n    public ObjectMapper objectMapper() {\n        return new ObjectMapper()\n                // add this\n                .registerModule(new JavaTimeModule())\n                .disable(SerializationFeature.WRITE_DATES_AS_TIMESTAMPS)\n                .setDateFormat(dft)\n                .setTimeZone(TimeZone.getTimeZone(&quot;GMT+8&quot;))\n                .configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false)\n                .configure(DeserializationFeature.READ_UNKNOWN_ENUM_VALUES_AS_NULL, true)\n                .configure(JsonParser.Feature.ALLOW_SINGLE_QUOTES, true);\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":22543404,"reputation":11,"user_id":21369220,"display_name":"EasonHu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690772745,"creation_date":1690770496,"question_id":76800360,"body_markdown":"What should I do to fix it? \r\n\r\n---\r\n\r\nException \r\n\r\n```bash\r\n07-31 09:55:46.751 [127.0.0.1] [http-nio-8010-exec-2] ERROR c.x.f.w.e.GlobalExceptionHandler [handleException:72] - Type definition error: [simple type, class java.time.LocalDateTime]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling (through reference chain: com.xmkj.freamwork.web.page.PageUtils[&quot;rows&quot;]-&gt;java.util.ArrayList[0]-&gt;com.xmkj.tnlife.waterdispenser.vo.WaterDispenserVO[&quot;createTime&quot;])\r\n```\r\n\r\n---\r\n\r\npom.xml \r\n\r\n```xml\r\n&lt;!-- jackson-datatype-jsr310 --&gt; \r\n&lt;dependency&gt;    \r\n\t&lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;    \r\n\t&lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt; \r\n&lt;/dependency&gt;\r\n```\r\n\r\n---\r\n\r\nController\r\n\r\n```java\r\n@GetMapping(&quot;/waterDispenserList&quot;) \r\n@RequiresPermissions(&quot;manage:waterDispenser:waterDispenser&quot;) \r\npublic PageUtils waterDispenserList(@RequestParam Map&lt;String, Object&gt; params) {    \r\n\treturn waterDispenserService.waterDispenserList(params); \r\n}\r\n```\r\n\r\n---\r\n\r\nImpl \r\n\r\n```java\r\n@Override \r\npublic PageUtils waterDispenserList(Map&lt;String, Object&gt; params) {    \r\n\tQuery query = new Query(params);    \r\n\tList&lt;WaterDispenserVO&gt; waterDispenserList = getWaterDispenserList(query);    \r\n\tint total = getWaterDispenserCount(query);    \r\n\treturn new PageUtils(waterDispenserList, total); \r\n}\r\n```\r\n\r\n---\r\n\r\nPageUtils \r\n\r\n```java\r\n@Data \r\n@NoArgsConstructor \r\n@AllArgsConstructor \r\n@JsonInclude(JsonInclude.Include.NON_NULL) \r\npublic class PageUtils {     \r\n\tprivate List&lt;?&gt; rows;     \r\n\tprivate int total; \r\n}\r\n```\r\n\r\n\r\n\r\n---\r\n\r\nfront \r\n\r\n```js\r\nfunction load() {\r\n    $(&#39;#waterDispenserTable&#39;).bootstrapTable({\r\n        method: &#39;GET&#39;,\r\n        url: `${prefix}/waterDispenserList`,\r\n        dataType: &#39;JSON&#39;,\r\n        iconSize: &#39;outline&#39;,\r\n        toolbar: &#39;#exampleToolbar&#39;,\r\n        striped: true,\r\n        pagination: true,\r\n        pageList: [10, 25, 50, 75, 100],\r\n        pageSize: 10,\r\n        pageNumber: 1,\r\n        singleSelect: false,\r\n        search: false,\r\n        showRefresh: false,\r\n        showColumns: false,\r\n        sidePagination: &#39;server&#39;,\r\n        cache: false,\r\n        detailView: false,\r\n        cardView: false,\r\n        clickToSelect: true,\r\n        queryParams: getQueryParams,\r\n        columns: [\r\n            {checkbox: true},\r\n            {field: &#39;schoolName&#39;, title: &#39;学校&#39;},\r\n            {field: &#39;dormitoryName&#39;, title: &#39;宿舍楼栋&#39;},\r\n            {field: &#39;roomName&#39;, title: &#39;宿舍号&#39;},\r\n            {field: &#39;imei&#39;, title: &#39;设备编号&#39;},\r\n            {field: &#39;status&#39;, title: &#39;状态&#39;, formatter: formatStatus},\r\n            {field: &#39;peopleNum&#39;, title: &#39;居住人数 &lt;i class=&quot;fa fa-sort&quot;&gt;&lt;/i&gt;&#39;, sortable: true},\r\n            {field: &#39;balance&#39;, title: &#39;充值账户余额(元) &lt;i class=&quot;fa fa-sort&quot;&gt;&lt;/i&gt;&#39;, sortable: true},\r\n            {field: &#39;subsidy&#39;, title: &#39;补贴账户余额(元) &lt;i class=&quot;fa fa-sort&quot;&gt;&lt;/i&gt;&#39;, sortable: true},\r\n            {field: &#39;totalWater&#39;, title: &#39;总用水量(升) &lt;i class=&quot;fa fa-sort&quot;&gt;&lt;/i&gt;&#39;, sortable: true},\r\n            {field: &#39;createTime&#39;, title: &#39;注册时间 &lt;i class=&quot;fa fa-sort&quot;&gt;&lt;/i&gt;&#39;, sortable: true},\r\n            {field: &#39;pcbVersion&#39;, title: &#39;硬件版本 &lt;i class=&quot;fa fa-sort&quot;&gt;&lt;/i&gt;&#39;, sortable: true},\r\n            {field: &#39;softVersion&#39;, title: &#39;程序版本 &lt;i class=&quot;fa fa-sort&quot;&gt;&lt;/i&gt;&#39;, sortable: true},\r\n            {title: &#39;详情&#39;, field: &#39;id&#39;, align: &#39;center&#39;, formatter: formatDetailButton}\r\n        ],\r\n        responseHandler: res =&gt; {\r\n            console.log(res);\r\n            total = res.total;\r\n            // 直接返回后端返回的数据对象\r\n            return res;\r\n        }\r\n    });\r\n}\r\n```\r\n\r\n---\r\n\r\nThe data queried by the back-end is returned to the List normally, and the dependency `jackson-datatype-jsr310` has been imported as required, but it doesn&#39;t work, and the error still occurs at runtime, so how can I solve it?Please help me.Thanks！\r\n\r\n---\r\n\r\nignore：It looks like your post is mostly code; please add some more details.It looks like your post is mostly code; please add some more details.It looks like your post is mostly code; please add some more details.It looks like your post is mostly code; please add some more details.It looks like your post is mostly code; please add some more details.It looks like your post is mostly code; please add some more details.It looks like your post is mostly code; please add some more details.（Only used to exclude community body constraints）","title":"Data queried by backend works fine, but can&#39;t give results to frontend, Java8 + Spring Boot 2.7.7","body":"<p>What should I do to fix it?</p>\n<hr />\n<p>Exception</p>\n<pre class=\"lang-bash prettyprint-override\"><code>07-31 09:55:46.751 [127.0.0.1] [http-nio-8010-exec-2] ERROR c.x.f.w.e.GlobalExceptionHandler [handleException:72] - Type definition error: [simple type, class java.time.LocalDateTime]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Java 8 date/time type `java.time.LocalDateTime` not supported by default: add Module &quot;com.fasterxml.jackson.datatype:jackson-datatype-jsr310&quot; to enable handling (through reference chain: com.xmkj.freamwork.web.page.PageUtils[&quot;rows&quot;]-&gt;java.util.ArrayList[0]-&gt;com.xmkj.tnlife.waterdispenser.vo.WaterDispenserVO[&quot;createTime&quot;])\n</code></pre>\n<hr />\n<p>pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;!-- jackson-datatype-jsr310 --&gt; \n&lt;dependency&gt;    \n    &lt;groupId&gt;com.fasterxml.jackson.datatype&lt;/groupId&gt;    \n    &lt;artifactId&gt;jackson-datatype-jsr310&lt;/artifactId&gt; \n&lt;/dependency&gt;\n</code></pre>\n<hr />\n<p>Controller</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(&quot;/waterDispenserList&quot;) \n@RequiresPermissions(&quot;manage:waterDispenser:waterDispenser&quot;) \npublic PageUtils waterDispenserList(@RequestParam Map&lt;String, Object&gt; params) {    \n    return waterDispenserService.waterDispenserList(params); \n}\n</code></pre>\n<hr />\n<p>Impl</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override \npublic PageUtils waterDispenserList(Map&lt;String, Object&gt; params) {    \n    Query query = new Query(params);    \n    List&lt;WaterDispenserVO&gt; waterDispenserList = getWaterDispenserList(query);    \n    int total = getWaterDispenserCount(query);    \n    return new PageUtils(waterDispenserList, total); \n}\n</code></pre>\n<hr />\n<p>PageUtils</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data \n@NoArgsConstructor \n@AllArgsConstructor \n@JsonInclude(JsonInclude.Include.NON_NULL) \npublic class PageUtils {     \n    private List&lt;?&gt; rows;     \n    private int total; \n}\n</code></pre>\n<hr />\n<p>front</p>\n<pre class=\"lang-js prettyprint-override\"><code>function load() {\n    $('#waterDispenserTable').bootstrapTable({\n        method: 'GET',\n        url: `${prefix}/waterDispenserList`,\n        dataType: 'JSON',\n        iconSize: 'outline',\n        toolbar: '#exampleToolbar',\n        striped: true,\n        pagination: true,\n        pageList: [10, 25, 50, 75, 100],\n        pageSize: 10,\n        pageNumber: 1,\n        singleSelect: false,\n        search: false,\n        showRefresh: false,\n        showColumns: false,\n        sidePagination: 'server',\n        cache: false,\n        detailView: false,\n        cardView: false,\n        clickToSelect: true,\n        queryParams: getQueryParams,\n        columns: [\n            {checkbox: true},\n            {field: 'schoolName', title: '学校'},\n            {field: 'dormitoryName', title: '宿舍楼栋'},\n            {field: 'roomName', title: '宿舍号'},\n            {field: 'imei', title: '设备编号'},\n            {field: 'status', title: '状态', formatter: formatStatus},\n            {field: 'peopleNum', title: '居住人数 &lt;i class=&quot;fa fa-sort&quot;&gt;&lt;/i&gt;', sortable: true},\n            {field: 'balance', title: '充值账户余额(元) &lt;i class=&quot;fa fa-sort&quot;&gt;&lt;/i&gt;', sortable: true},\n            {field: 'subsidy', title: '补贴账户余额(元) &lt;i class=&quot;fa fa-sort&quot;&gt;&lt;/i&gt;', sortable: true},\n            {field: 'totalWater', title: '总用水量(升) &lt;i class=&quot;fa fa-sort&quot;&gt;&lt;/i&gt;', sortable: true},\n            {field: 'createTime', title: '注册时间 &lt;i class=&quot;fa fa-sort&quot;&gt;&lt;/i&gt;', sortable: true},\n            {field: 'pcbVersion', title: '硬件版本 &lt;i class=&quot;fa fa-sort&quot;&gt;&lt;/i&gt;', sortable: true},\n            {field: 'softVersion', title: '程序版本 &lt;i class=&quot;fa fa-sort&quot;&gt;&lt;/i&gt;', sortable: true},\n            {title: '详情', field: 'id', align: 'center', formatter: formatDetailButton}\n        ],\n        responseHandler: res =&gt; {\n            console.log(res);\n            total = res.total;\n            // 直接返回后端返回的数据对象\n            return res;\n        }\n    });\n}\n</code></pre>\n<hr />\n<p>The data queried by the back-end is returned to the List normally, and the dependency <code>jackson-datatype-jsr310</code> has been imported as required, but it doesn't work, and the error still occurs at runtime, so how can I solve it?Please help me.Thanks！</p>\n<hr />\n<p>ignore：It looks like your post is mostly code; please add some more details.It looks like your post is mostly code; please add some more details.It looks like your post is mostly code; please add some more details.It looks like your post is mostly code; please add some more details.It looks like your post is mostly code; please add some more details.It looks like your post is mostly code; please add some more details.It looks like your post is mostly code; please add some more details.（Only used to exclude community body constraints）</p>\n"},{"tags":["java","codenameone"],"comments":[{"owner":{"account_id":40617,"reputation":58344,"user_id":117700,"accept_rate":91,"display_name":"Alex Gordon"},"score":0,"creation_date":1690487710,"post_id":76782982,"comment_id":135364741,"body_markdown":"might be related to media format or encoding. the `createMedia` method supports a lot of formats but they won&#39;t all necessarily work on all platforms. \n\ni would check the exception details by modifying your `catch`:\n\n    } catch (IOException ioe) {\n        ioe.printStackTrace();\n    }","body":"might be related to media format or encoding. the <code>createMedia</code> method supports a lot of formats but they won&#39;t all necessarily work on all platforms.   i would check the exception details by modifying your <code>catch</code>:      } catch (IOException ioe) {         ioe.printStackTrace();     }"},{"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":0,"creation_date":1690513431,"post_id":76782982,"comment_id":135367540,"body_markdown":"This is a [wrapper exception](https://github.com/codenameone/CodenameOne/blob/master/Ports/JavaSE/src/com/codename1/impl/javase/JavaSEPort.java#L9535) which is an exception that is wrapping another internal failure. When printing it to the console you would see the original exception just above it and it would include the actual problem description. Notice you can edit the question to include the additional exception.","body":"This is a <a href=\"https://github.com/codenameone/CodenameOne/blob/master/Ports/JavaSE/src/com/codename1/impl/javase/JavaSEPort.java#L9535\" rel=\"nofollow noreferrer\">wrapper exception</a> which is an exception that is wrapping another internal failure. When printing it to the console you would see the original exception just above it and it would include the actual problem description. Notice you can edit the question to include the additional exception."},{"owner":{"account_id":20108531,"reputation":65,"user_id":14745423,"display_name":"Stefan Cohn"},"score":0,"creation_date":1690582730,"post_id":76782982,"comment_id":135378838,"body_markdown":"The only thing above the stack trace is this \nAdding CEF to classpath\nRetina Scale: 2.0\nAdding watch folder /Users/mrducky/Documents/DuckWorldMobile/common/src/main/java\nDid not find hotswap-agent.properties file\nSourceChangeWatcher running.  Watching directories [/Users/mrducky/Documents/DuckWorldMobile/common/src/main/java]","body":"The only thing above the stack trace is this  Adding CEF to classpath Retina Scale: 2.0 Adding watch folder /Users/mrducky/Documents/DuckWorldMobile/common/src/main/jav&zwnj;&#8203;a Did not find hotswap-agent.properties file SourceChangeWatcher running.  Watching directories [/Users/mrducky/Documents/DuckWorldMobile/common/src/main/ja&zwnj;&#8203;va]"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690608668,"post_id":76782982,"comment_id":135380366,"body_markdown":"Are you sure that you&#39;ve put the whole stack trace in your question? There should be another exception *after* (not above) that stack trace, saying `Caused by ...`.","body":"Are you sure that you&#39;ve put the whole stack trace in your question? There should be another exception <i>after</i> (not above) that stack trace, saying <code>Caused by ...</code>."},{"owner":{"account_id":20108531,"reputation":65,"user_id":14745423,"display_name":"Stefan Cohn"},"score":0,"creation_date":1690695696,"post_id":76782982,"comment_id":135387739,"body_markdown":"I am not getting anything saying &quot;Caused by...&quot; My program still runs just that the Exception StackTrace prints.","body":"I am not getting anything saying &quot;Caused by...&quot; My program still runs just that the Exception StackTrace prints."}],"answers":[{"comments":[{"owner":{"account_id":20108531,"reputation":65,"user_id":14745423,"display_name":"Stefan Cohn"},"score":0,"creation_date":1690695856,"post_id":76792067,"comment_id":135387750,"body_markdown":"https://imgur.com/a/3ccE2UH\nI did that this is all my terminal prints. \nMaybe I should just go for another method to play sounds?","body":"<a href=\"https://imgur.com/a/3ccE2UH\" rel=\"nofollow noreferrer\">imgur.com/a/3ccE2UH</a> I did that this is all my terminal prints.  Maybe I should just go for another method to play sounds?"},{"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":0,"creation_date":1690772087,"post_id":76792067,"comment_id":135394768,"body_markdown":"I see the problem, edited my answer","body":"I see the problem, edited my answer"},{"owner":{"account_id":20108531,"reputation":65,"user_id":14745423,"display_name":"Stefan Cohn"},"score":0,"creation_date":1690783155,"post_id":76792067,"comment_id":135395603,"body_markdown":"I switched up the way my program runs by using the init() method to &quot;start&quot; my game in the myApp class but it did not work. Something interesting I came across however was that I created a new project and tried the run the video playback program in the MediaManager API page. I got this error however:  &#39;/Use.zip-extracted/cef/macos64/libjcef.dylib&#39; (mach-o file, but is an incompatible architecture (have &#39;x86_64&#39;, need &#39;arm64&#39;)). I&#39;ve tried different distributions of OpenJDK recommended by the &quot;getting started&quot; page. Do I need to install something else differently?","body":"I switched up the way my program runs by using the init() method to &quot;start&quot; my game in the myApp class but it did not work. Something interesting I came across however was that I created a new project and tried the run the video playback program in the MediaManager API page. I got this error however:  &#39;/Use.zip-extracted/cef/macos64/libjcef.dylib&#39; (mach-o file, but is an incompatible architecture (have &#39;x86_64&#39;, need &#39;arm64&#39;)). I&#39;ve tried different distributions of OpenJDK recommended by the &quot;getting started&quot; page. Do I need to install something else differently?"},{"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"score":1,"creation_date":1690859870,"post_id":76792067,"comment_id":135408300,"body_markdown":"I thought we solved the ARM distro problems, let me check on that.","body":"I thought we solved the ARM distro problems, let me check on that."}],"tags":[],"owner":{"account_id":394396,"reputation":52144,"user_id":756809,"accept_rate":89,"display_name":"Shai Almog"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690772076,"creation_date":1690605800,"answer_id":76792067,"question_id":76782982,"body_markdown":"The print code for the exception seems incorrect as mentioned below in the original answer but the problem isn&#39;t that.\r\n\r\nThe class `Game` is probably your main class (the one where the `start()` method is in or subclass of `Lifecycle`). You wrote the code in the constructor or alternatively within that chain. \r\n\r\nUntil the `init(Object)` method of the main class is invoked. If you initialize stuff in the constructor or static initializer then Codename One itself isn&#39;t initialized and things will fail.\r\n\r\n\r\nTo fix the stack trace fix this code:\r\n\r\n    catch (IOException ioe) { ioe.printStackTrace(); }\r\n\r\n\r\nTo this:\r\n\r\n    catch (IOException ioe) { \r\n       if(ios.getCause() != null) {\r\n           ios.getCause().printStackTrace();\r\n       }\r\n       ioe.printStackTrace(); \r\n    }\r\n\r\n\r\nThis should either answer the question or provide applicable additional details. Assuming the latter, edit the question with the additional details and I&#39;ll improve this answer.","title":"Codename One: Issue with .createMedia method and audio files","body":"<p>The print code for the exception seems incorrect as mentioned below in the original answer but the problem isn't that.</p>\n<p>The class <code>Game</code> is probably your main class (the one where the <code>start()</code> method is in or subclass of <code>Lifecycle</code>). You wrote the code in the constructor or alternatively within that chain.</p>\n<p>Until the <code>init(Object)</code> method of the main class is invoked. If you initialize stuff in the constructor or static initializer then Codename One itself isn't initialized and things will fail.</p>\n<p>To fix the stack trace fix this code:</p>\n<pre><code>catch (IOException ioe) { ioe.printStackTrace(); }\n</code></pre>\n<p>To this:</p>\n<pre><code>catch (IOException ioe) { \n   if(ios.getCause() != null) {\n       ios.getCause().printStackTrace();\n   }\n   ioe.printStackTrace(); \n}\n</code></pre>\n<p>This should either answer the question or provide applicable additional details. Assuming the latter, edit the question with the additional details and I'll improve this answer.</p>\n"},{"comments":[{"owner":{"account_id":20108531,"reputation":65,"user_id":14745423,"display_name":"Stefan Cohn"},"score":0,"creation_date":1690695869,"post_id":76792416,"comment_id":135387751,"body_markdown":"Thanks for the help but unfortunately ran into the same issue.","body":"Thanks for the help but unfortunately ran into the same issue."},{"owner":{"account_id":16341513,"reputation":209,"user_id":11802330,"display_name":"Eric"},"score":0,"creation_date":1690699850,"post_id":76792416,"comment_id":135388047,"body_markdown":"Works just fine for me","body":"Works just fine for me"},{"owner":{"account_id":16341513,"reputation":209,"user_id":11802330,"display_name":"Eric"},"score":0,"creation_date":1690704901,"post_id":76792416,"comment_id":135388479,"body_markdown":"What about when you create a new project with only this function to playAudio()? Does mp3 file exist in resources directory? Does the filename you are passing to playAudio() match the one in resources directory?","body":"What about when you create a new project with only this function to playAudio()? Does mp3 file exist in resources directory? Does the filename you are passing to playAudio() match the one in resources directory?"}],"tags":[],"owner":{"account_id":16341513,"reputation":209,"user_id":11802330,"display_name":"Eric"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690613860,"creation_date":1690613860,"answer_id":76792416,"question_id":76782982,"body_markdown":"To play mp3 try this \r\n\r\n    audioPlayer.playAudio(&quot;/test.mp3&quot;);\r\n\r\n    public void playAudio(String mp3FileName) {\r\n        try {\r\n            Media media = MediaManager.createMedia((Display.getInstance()\r\n                    .getResourceAsStream(getClass(), mp3FileName)), &quot;audio/mpeg&quot;);\r\n\r\n            media.play();\r\n        } catch (IOException e) {\r\n            System.out.println(&quot;Play Error: &quot; + e);\r\n        }\r\n    }\r\n \r\nAs instructed before mp3 file should be in `\\common\\src\\main\\resources` directory.\r\n\r\nNote mimeType should be `audio/mpeg` not `audio/mp3`","title":"Codename One: Issue with .createMedia method and audio files","body":"<p>To play mp3 try this</p>\n<pre><code>audioPlayer.playAudio(&quot;/test.mp3&quot;);\n\npublic void playAudio(String mp3FileName) {\n    try {\n        Media media = MediaManager.createMedia((Display.getInstance()\n                .getResourceAsStream(getClass(), mp3FileName)), &quot;audio/mpeg&quot;);\n\n        media.play();\n    } catch (IOException e) {\n        System.out.println(&quot;Play Error: &quot; + e);\n    }\n}\n</code></pre>\n<p>As instructed before mp3 file should be in <code>\\common\\src\\main\\resources</code> directory.</p>\n<p>Note mimeType should be <code>audio/mpeg</code> not <code>audio/mp3</code></p>\n"}],"owner":{"account_id":20108531,"reputation":65,"user_id":14745423,"display_name":"Stefan Cohn"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1690772076,"creation_date":1690487483,"question_id":76782982,"body_markdown":"I&#39;m trying to make an audio player for a game using Codename One but I&#39;ve been running into issues with the .createMedia method. \r\n\r\n    public class AudioPlayer {\r\n    private Media MEDIA = null;\r\n    public Media media;\r\n\r\n    public void playAudio(String fileName) {\r\n        try {\r\n            if (MEDIA == null) {\r\n                InputStream is = CN.getResourceAsStream(fileName);\r\n                System.out.println(is);\r\n                MEDIA = MediaManager.createMedia(is, &quot;audio/wav&quot;, new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        MEDIA = null;\r\n                    }\r\n                });\r\n            if (MEDIA != null &amp;&amp; MEDIA.isPlaying() == false) {\r\n                MEDIA.setVolume(100);\r\n                MEDIA.play();\r\n            } }\r\n        } catch (IOException ioe) { ioe.printStackTrace(); }\r\n    } }\r\n Class where playAudio and AudioPlayer are instantiated: \r\n\r\n    public AudioPlayer audioPlayer = new AudioPlayer(); //audio player \r\n    public VolumeButton volumeButton = new VolumeButton();\r\n\r\n    public Game() {\r\n        changeState(sceneNum);\r\n        audioPlayer.playAudio(&quot;/fluffingADuck.wav&quot;);\r\nI&#39;m almost certain it is not an issue with the file pathing as I get an address when I print out &#39;is&#39; and I&#39;ve used is.available() to check if there are bytes in &#39;is&#39;. \r\nI have also tried using a .mp3 instead of .wav file to no avail.\r\nThis is the stack trace that I get; the program is still able to run despite the error \r\n\r\n    java.io.IOException\r\n        at com.codename1.impl.javase.JavaSEPort.createMedia(JavaSEPort.java:9535)\r\n        at com.codename1.ui.Display.createMedia(Display.java:3705)\r\n        at com.codename1.media.MediaManager.createMedia(MediaManager.java:306)\r\n        at com.example.audio.AudioPlayer.playAudio(AudioPlayer.java:31)\r\n        at com.example.myapp.Game.&lt;init&gt;(Game.java:30)\r\n        at com.example.myapp.Game.getGame(Game.java:39)\r\n        at com.example.myapp.MyApp.runApp(MyApp.java:14)\r\n        at com.codename1.system.Lifecycle.start(Lifecycle.java:129)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n        at com.codename1.impl.javase.Executor$3$2.run(Executor.java:340)\r\n        at com.codename1.ui.Display.executeSerialCall(Display.java:1395)\r\n        at com.codename1.ui.Display.processSerialCalls(Display.java:1379)\r\n        at com.codename1.ui.Display.mainEDTLoop(Display.java:1166)\r\n        at com.codename1.ui.RunnableWrapper.run(RunnableWrapper.java:120)\r\n        at com.codename1.impl.CodenameOneThread.run(CodenameOneThread.java:176)\r\nAny help would mean a lot I&#39;ve been stuck on making this audio player. ","title":"Codename One: Issue with .createMedia method and audio files","body":"<p>I'm trying to make an audio player for a game using Codename One but I've been running into issues with the .createMedia method.</p>\n<pre><code>public class AudioPlayer {\nprivate Media MEDIA = null;\npublic Media media;\n\npublic void playAudio(String fileName) {\n    try {\n        if (MEDIA == null) {\n            InputStream is = CN.getResourceAsStream(fileName);\n            System.out.println(is);\n            MEDIA = MediaManager.createMedia(is, &quot;audio/wav&quot;, new Runnable() {\n                @Override\n                public void run() {\n                    MEDIA = null;\n                }\n            });\n        if (MEDIA != null &amp;&amp; MEDIA.isPlaying() == false) {\n            MEDIA.setVolume(100);\n            MEDIA.play();\n        } }\n    } catch (IOException ioe) { ioe.printStackTrace(); }\n} }\n</code></pre>\n<p>Class where playAudio and AudioPlayer are instantiated:</p>\n<pre><code>public AudioPlayer audioPlayer = new AudioPlayer(); //audio player \npublic VolumeButton volumeButton = new VolumeButton();\n\npublic Game() {\n    changeState(sceneNum);\n    audioPlayer.playAudio(&quot;/fluffingADuck.wav&quot;);\n</code></pre>\n<p>I'm almost certain it is not an issue with the file pathing as I get an address when I print out 'is' and I've used is.available() to check if there are bytes in 'is'.\nI have also tried using a .mp3 instead of .wav file to no avail.\nThis is the stack trace that I get; the program is still able to run despite the error</p>\n<pre><code>java.io.IOException\n    at com.codename1.impl.javase.JavaSEPort.createMedia(JavaSEPort.java:9535)\n    at com.codename1.ui.Display.createMedia(Display.java:3705)\n    at com.codename1.media.MediaManager.createMedia(MediaManager.java:306)\n    at com.example.audio.AudioPlayer.playAudio(AudioPlayer.java:31)\n    at com.example.myapp.Game.&lt;init&gt;(Game.java:30)\n    at com.example.myapp.Game.getGame(Game.java:39)\n    at com.example.myapp.MyApp.runApp(MyApp.java:14)\n    at com.codename1.system.Lifecycle.start(Lifecycle.java:129)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at com.codename1.impl.javase.Executor$3$2.run(Executor.java:340)\n    at com.codename1.ui.Display.executeSerialCall(Display.java:1395)\n    at com.codename1.ui.Display.processSerialCalls(Display.java:1379)\n    at com.codename1.ui.Display.mainEDTLoop(Display.java:1166)\n    at com.codename1.ui.RunnableWrapper.run(RunnableWrapper.java:120)\n    at com.codename1.impl.CodenameOneThread.run(CodenameOneThread.java:176)\n</code></pre>\n<p>Any help would mean a lot I've been stuck on making this audio player.</p>\n"},{"tags":["java","apache-poi","out-of-memory","big-o"],"comments":[{"owner":{"account_id":350017,"reputation":47555,"user_id":685641,"display_name":"Gagravarr"},"score":0,"creation_date":1385379622,"post_id":20190317,"comment_id":30103698,"body_markdown":"Why aren&#39;t you using SXSSF? That&#39;s the new replacement for the demo BigGrid stuff","body":"Why aren&#39;t you using SXSSF? That&#39;s the new replacement for the demo BigGrid stuff"},{"owner":{"account_id":1823404,"reputation":526,"user_id":1656899,"accept_rate":71,"display_name":"Ram Sharan Mittal"},"score":0,"creation_date":1386838534,"post_id":20190317,"comment_id":30711639,"body_markdown":"yes, seen SXSSF will use in future project ..... come to know later","body":"yes, seen SXSSF will use in future project ..... come to know later"}],"answers":[{"comments":[{"owner":{"account_id":10671711,"reputation":821,"user_id":7856586,"display_name":"Roman Soviak"},"score":0,"creation_date":1553602954,"post_id":20190731,"comment_id":97437617,"body_markdown":"Sometimes not works - https://stackoverflow.com/questions/37069820/android-poi-crash-when-using-autosizecolumn","body":"Sometimes not works - <a href=\"https://stackoverflow.com/questions/37069820/android-poi-crash-when-using-autosizecolumn\" title=\"android poi crash when using autosizecolumn\">stackoverflow.com/questions/37069820/&hellip;</a>"},{"owner":{"account_id":7186697,"reputation":1239,"user_id":5488423,"display_name":"Ramesh Bhati"},"score":0,"creation_date":1653309182,"post_id":20190731,"comment_id":127812714,"body_markdown":"giving Error: java.lang.NoClassDefFoundError: Failed resolution of: Ljava/awt/font/FontRenderContext; –","body":"giving Error: java.lang.NoClassDefFoundError: Failed resolution of: Ljava/awt/font/FontRenderContext; –"},{"owner":{"account_id":310816,"reputation":9919,"user_id":624003,"display_name":"Sankumarsingh"},"score":0,"creation_date":1653980366,"post_id":20190731,"comment_id":127975907,"body_markdown":"@RameshBhati check https://stackoverflow.com/a/37070120/624003","body":"@RameshBhati check <a href=\"https://stackoverflow.com/a/37070120/624003\">stackoverflow.com/a/37070120/624003</a>"}],"tags":[],"owner":{"account_id":310816,"reputation":9919,"user_id":624003,"display_name":"Sankumarsingh"},"comment_count":3,"down_vote_count":1,"up_vote_count":34,"is_accepted":true,"score":33,"last_activity_date":1385377925,"creation_date":1385377925,"answer_id":20190731,"question_id":20190317,"body_markdown":"First Select the first row or header because only Header can give you the max number of cells in a row.\r\n\r\n    HSSFRow row = wb.getSheetAt(0).getRow(0);\r\n\r\nThen use `autoSizeColumn` on each column of that row\r\n\r\n    for(int colNum = 0; colNum&lt;row.getLastCellNum();colNum++)\t\r\n    \twb.getSheetAt(0).autoSizeColumn(colNum);\r\n\r\nThis will set the column width same as that of its Header width.","title":"apache poi excel big auto column width","body":"<p>First Select the first row or header because only Header can give you the max number of cells in a row.</p>\n\n<pre><code>HSSFRow row = wb.getSheetAt(0).getRow(0);\n</code></pre>\n\n<p>Then use <code>autoSizeColumn</code> on each column of that row</p>\n\n<pre><code>for(int colNum = 0; colNum&lt;row.getLastCellNum();colNum++)   \n    wb.getSheetAt(0).autoSizeColumn(colNum);\n</code></pre>\n\n<p>This will set the column width same as that of its Header width.</p>\n"},{"tags":[],"owner":{"account_id":3413253,"reputation":79,"user_id":2862759,"accept_rate":14,"display_name":"Adi Kish"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1400671736,"creation_date":1400671736,"answer_id":23781892,"question_id":20190317,"body_markdown":"I would also suggest you look at using sxssf. It uses an xml format to load it into Excel. This is much faster and a better way to create large reports or grids. The autosizing function in xssf takes too long by default.","title":"apache poi excel big auto column width","body":"<p>I would also suggest you look at using sxssf. It uses an xml format to load it into Excel. This is much faster and a better way to create large reports or grids. The autosizing function in xssf takes too long by default.</p>\n"},{"comments":[{"owner":{"account_id":10671711,"reputation":821,"user_id":7856586,"display_name":"Roman Soviak"},"score":0,"creation_date":1553602918,"post_id":29975606,"comment_id":97437601,"body_markdown":"https://stackoverflow.com/questions/37069820/android-poi-crash-when-using-autosizecolumn - sometimes not works","body":"<a href=\"https://stackoverflow.com/questions/37069820/android-poi-crash-when-using-autosizecolumn\" title=\"android poi crash when using autosizecolumn\">stackoverflow.com/questions/37069820/&hellip;</a> - sometimes not works"},{"owner":{"account_id":7186697,"reputation":1239,"user_id":5488423,"display_name":"Ramesh Bhati"},"score":0,"creation_date":1653309159,"post_id":29975606,"comment_id":127812705,"body_markdown":"giving Error:     java.lang.NoClassDefFoundError: Failed resolution of: Ljava/awt/font/FontRenderContext;","body":"giving Error:     java.lang.NoClassDefFoundError: Failed resolution of: Ljava/awt/font/FontRenderContext;"}],"tags":[],"owner":{"account_id":3228532,"reputation":133,"user_id":2724291,"display_name":"Nilesh"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1690770694,"creation_date":1430420199,"answer_id":29975606,"question_id":20190317,"body_markdown":"`sheet.autoSizeColumn(columnNumber)` works.\r\nThis will resize the column to the largest cell length.","title":"apache poi excel big auto column width","body":"<p><code>sheet.autoSizeColumn(columnNumber)</code> works.\nThis will resize the column to the largest cell length.</p>\n"}],"owner":{"account_id":1823404,"reputation":526,"user_id":1656899,"accept_rate":71,"display_name":"Ram Sharan Mittal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60003,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":20190731,"answer_count":3,"score":14,"last_activity_date":1690770694,"creation_date":1385376769,"question_id":20190317,"body_markdown":"I am try to create a big excel 2010  with 30 columns and 1 million records with Apache poi latest. I am creating as describe in this link http://svn.apache.org/repos/asf/poi/trunk/src/examples/src/org/apache/poi/xssf/usermodel/examples/BigGridDemo.java  . but I want column width to be same as column header text size. but when I am doing this after creating excel with following code\r\n\r\n    for (int x = 0; x &lt; sheet.getRow(0).getPhysicalNumberOfCells(); x++) {\r\n    \t\t\tsheet.setColumnWidth(x, 20*256);\r\n    \t\t}\r\n\r\nit is taking a huge time and even with 5gb heap size I am getting out of memory.\r\n\r\nthanks\r\n\r\nram","title":"apache poi excel big auto column width","body":"<p>I am try to create a big excel 2010  with 30 columns and 1 million records with Apache poi latest. I am creating as describe in this link <a href=\"http://svn.apache.org/repos/asf/poi/trunk/src/examples/src/org/apache/poi/xssf/usermodel/examples/BigGridDemo.java\" rel=\"noreferrer\">http://svn.apache.org/repos/asf/poi/trunk/src/examples/src/org/apache/poi/xssf/usermodel/examples/BigGridDemo.java</a>  . but I want column width to be same as column header text size. but when I am doing this after creating excel with following code</p>\n\n<pre><code>for (int x = 0; x &lt; sheet.getRow(0).getPhysicalNumberOfCells(); x++) {\n            sheet.setColumnWidth(x, 20*256);\n        }\n</code></pre>\n\n<p>it is taking a huge time and even with 5gb heap size I am getting out of memory.</p>\n\n<p>thanks</p>\n\n<p>ram</p>\n"},{"tags":["java","iterable"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690768210,"post_id":76800256,"comment_id":135394451,"body_markdown":"&quot;it only ends up displaying the last search&quot; In `displayAdvancedSearchResults` you assign the results of the search to `recipes`, so why do you expect previous searches to be returned as well?","body":"&quot;it only ends up displaying the last search&quot; In <code>displayAdvancedSearchResults</code> you assign the results of the search to <code>recipes</code>, so why do you expect previous searches to be returned as well?"},{"owner":{"account_id":29125079,"reputation":1,"user_id":22311577,"display_name":"user22311577"},"score":0,"creation_date":1690769197,"post_id":76800256,"comment_id":135394519,"body_markdown":"Maybe I didn&#39;t explain it well. I didn&#39;t expect the all the searches to be returned. I thought it would be as simple as adding the results to the existing results but whatever I try doesn&#39;t seem to work. I tried &quot;+=&quot; I tried &quot;recipes = recipes + ...&quot; I tried creating another Iterable and ArrayList to store results as it loops, but obviously I&#39;m not doing it correctly. I cannot find anything online similar to my problem either. hence why I&#39;m here","body":"Maybe I didn&#39;t explain it well. I didn&#39;t expect the all the searches to be returned. I thought it would be as simple as adding the results to the existing results but whatever I try doesn&#39;t seem to work. I tried &quot;+=&quot; I tried &quot;recipes = recipes + ...&quot; I tried creating another Iterable and ArrayList to store results as it loops, but obviously I&#39;m not doing it correctly. I cannot find anything online similar to my problem either. hence why I&#39;m here"},{"owner":{"account_id":29125079,"reputation":1,"user_id":22311577,"display_name":"user22311577"},"score":0,"creation_date":1690769533,"post_id":76800256,"comment_id":135394569,"body_markdown":"example like the user inputs 3 searchType/searchTerm pairs I wrote the code and got it to display the last input pair. I checked to make sure I was getting all the pairs and I am. I cannot get all the results of each pair together. They work seperately, but having trouble storing it in one place as it loops. That is my issue","body":"example like the user inputs 3 searchType/searchTerm pairs I wrote the code and got it to display the last input pair. I checked to make sure I was getting all the pairs and I am. I cannot get all the results of each pair together. They work seperately, but having trouble storing it in one place as it loops. That is my issue"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690770718,"post_id":76800256,"comment_id":135394660,"body_markdown":"I see, my mistake!","body":"I see, my mistake!"},{"owner":{"account_id":29125079,"reputation":1,"user_id":22311577,"display_name":"user22311577"},"score":0,"creation_date":1690771491,"post_id":76800256,"comment_id":135394726,"body_markdown":"Honestly, I&#39;m new to coding. Just trying to get better to get a job. I&#39;m still trying to figure how to even ask the right questions. I apologize if it was confusing! haha","body":"Honestly, I&#39;m new to coding. Just trying to get better to get a job. I&#39;m still trying to figure how to even ask the right questions. I apologize if it was confusing! haha"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690772406,"post_id":76800256,"comment_id":135394782,"body_markdown":"I didn&#39;t read your code properly, no apology necessary.","body":"I didn&#39;t read your code properly, no apology necessary."}],"answers":[{"comments":[{"owner":{"account_id":29125079,"reputation":1,"user_id":22311577,"display_name":"user22311577"},"score":0,"creation_date":1690771039,"post_id":76800293,"comment_id":135394684,"body_markdown":"Thanks you for your help. I did know it was doing that but couldn&#39;t find a way to add to it like you said. It did want to use &#39;recipes.addAll((Collection&lt;? extends Recipe&gt;) RecipeRepository.findAll());&#39; and &#39;recipes.addAll(RecipeData.findByColumnAndValue(sTy, sTe, (ArrayList&lt;Recipe&gt;) RecipeRepository.findAll()));&#39; and it did work. Do you know why I have to add the collection and arraylist parts?","body":"Thanks you for your help. I did know it was doing that but couldn&#39;t find a way to add to it like you said. It did want to use &#39;recipes.addAll((Collection&lt;? extends Recipe&gt;) RecipeRepository.findAll());&#39; and &#39;recipes.addAll(RecipeData.findByColumnAndValue(sTy, sTe, (ArrayList&lt;Recipe&gt;) RecipeRepository.findAll()));&#39; and it did work. Do you know why I have to add the collection and arraylist parts?"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1690773418,"post_id":76800293,"comment_id":135394860,"body_markdown":"The answer already explains it: If you want the concept of &#39;toss all results together&#39;, you need a place to store that: Your own list.","body":"The answer already explains it: If you want the concept of &#39;toss all results together&#39;, you need a place to store that: Your own list."}],"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690768924,"creation_date":1690768924,"answer_id":76800293,"question_id":76800256,"body_markdown":"&gt; `recipes = RecipeRepository.findAll();`\r\n\r\nfindAll() returns a reference (think &#39;address of a house&#39;) to a list object (think &#39;house&#39; - `recipes` is a page in an address book with the address of a list on it. Not the list itself. `someOtherVariable = recipes` merely copies _the page in the address book_, not the entire list).\r\n\r\nYou overwrite your `recipe` address book page with the address to this list. That&#39;s how your entire loop works, hence, you end up with a page with a single address on it: The last house.\r\n\r\nWhat you want is to add it all up. Which you can do, but, you don&#39;t get that for free. You program it. Make a list of your own and add all result to it:\r\n\r\n```\r\nvar recipes = new ArrayList&lt;Recipe&gt;();\r\n\r\n...\r\n\r\n\r\nif (sTe.toLowerCase().equals(&quot;all&quot;) || sTe.equals(&quot;&quot;)) {\r\n  recipes.addAll(RecipeRepository.findAll());\r\n} else {\r\n  recipes.addAll(RecipeData.findByColumnAndValue(sTy, sTe, RecipeRepository.findAll());\r\n}\r\n```\r\n\r\n`.` is java-ese for: Walk to the house at that address. So, with `recipe = ` you are just wiping out your address book page, that&#39;s no good. with `.addAll`, you are walking over there (you go to the house based on the address you have) and you yell at the house: ADD ALL! And hand _it_ the address of that other list. Then the house does what it does. In this case, that&#39;s: Walk over there, make copies of everything in that other house and bolt it onto itself. Which is what you want.\r\n","title":"Trying to Loop and Add things to Iterable Java","body":"<blockquote>\n<p><code>recipes = RecipeRepository.findAll();</code></p>\n</blockquote>\n<p>findAll() returns a reference (think 'address of a house') to a list object (think 'house' - <code>recipes</code> is a page in an address book with the address of a list on it. Not the list itself. <code>someOtherVariable = recipes</code> merely copies <em>the page in the address book</em>, not the entire list).</p>\n<p>You overwrite your <code>recipe</code> address book page with the address to this list. That's how your entire loop works, hence, you end up with a page with a single address on it: The last house.</p>\n<p>What you want is to add it all up. Which you can do, but, you don't get that for free. You program it. Make a list of your own and add all result to it:</p>\n<pre><code>var recipes = new ArrayList&lt;Recipe&gt;();\n\n...\n\n\nif (sTe.toLowerCase().equals(&quot;all&quot;) || sTe.equals(&quot;&quot;)) {\n  recipes.addAll(RecipeRepository.findAll());\n} else {\n  recipes.addAll(RecipeData.findByColumnAndValue(sTy, sTe, RecipeRepository.findAll());\n}\n</code></pre>\n<p><code>.</code> is java-ese for: Walk to the house at that address. So, with <code>recipe = </code> you are just wiping out your address book page, that's no good. with <code>.addAll</code>, you are walking over there (you go to the house based on the address you have) and you yell at the house: ADD ALL! And hand <em>it</em> the address of that other list. Then the house does what it does. In this case, that's: Walk over there, make copies of everything in that other house and bolt it onto itself. Which is what you want.</p>\n"}],"owner":{"account_id":29125079,"reputation":1,"user_id":22311577,"display_name":"user22311577"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690770250,"creation_date":1690767878,"question_id":76800256,"body_markdown":"I am trying to create a search page that allows you to use multiple terms and values keep having problems on finding a way to keep all the results. It works for one item but when I do multiple it only ends up displaying the last search. Here is my code for the controller and the class I am using to find the data.\r\n\r\n\r\n``` Controller\r\n    @PostMapping (&quot;adv-search/results&quot;)\r\n    public String displayAdvancedSearchResults(Model model , @RequestParam String searchType, @RequestParam String searchTerm) {\r\n\r\n        Iterable&lt;Recipe&gt; recipes = null;\r\n        String[] searchTerms = searchTerm.split(&quot;,&quot;);\r\n        String[] searchTypes = searchType.split(&quot;,&quot;);\r\n\r\n        for (int i=0; i &lt; searchTerms.length; i++) {\r\n            String sTe = searchTerms[i];\r\n            String sTy = searchTypes[i];\r\n\r\n            if (sTe.toLowerCase().equals(&quot;all&quot;) || sTe.equals(&quot;&quot;)){\r\n                recipes = RecipeRepository.findAll();\r\n            } else {\r\n                recipes = RecipeData.findByColumnAndValue(sTy, sTe, RecipeRepository.findAll());\r\n            }\r\n\r\n        }\r\n\r\n        model.addAttribute(&quot;columns&quot;, columnChoices);\r\n        model.addAttribute(&quot;title&quot;, &quot;Recipes with &quot; + columnChoices.get(searchType) + &quot;: &quot; + searchTerm);\r\n        model.addAttribute(&quot;recipes&quot;, recipes);\r\n\r\n        return &quot;adv-search&quot;;\r\n\r\n    }\r\n```\r\n\r\n\r\n``` dataClass\r\npublic class RecipeData {\r\n\r\n    public static ArrayList&lt;Recipe&gt; findByColumnAndValue(String column, String value, Iterable&lt;Recipe&gt; allRecipes) {\r\n\r\n        ArrayList&lt;Recipe&gt; results = new ArrayList&lt;&gt;();\r\n\r\n        if (value.toLowerCase().equals(&quot;all&quot;)){\r\n            return (ArrayList&lt;Recipe&gt;) allRecipes;\r\n        }\r\n\r\n        if (column.equals(&quot;all&quot;)){\r\n            results = findByValue(value, allRecipes);\r\n            return results;\r\n        }\r\n        for (Recipe recipe : allRecipes) {\r\n\r\n            String aValue = getFieldValue(recipe, column);\r\n\r\n            if (aValue != null &amp;&amp; aValue.toLowerCase().contains(value.toLowerCase())) {\r\n                results.add(recipe);\r\n            }\r\n        }\r\n\r\n        return results;\r\n    }\r\n\r\n    public static String getFieldValue(Recipe recipe, String fieldName) {\r\n        String theValue;\r\n        if (fieldName.equals(&quot;name&quot;)){\r\n            theValue = recipe.getName();\r\n            System.out.println(recipe.getName());\r\n        } else if (fieldName.equals(&quot;ingredients&quot;)){\r\n            theValue = recipe.getIngredientList().toString();\r\n            System.out.println(recipe.getIngredientList().toString());\r\n        } else { //prints [com.launchcode.recipeproject.models.Tag@20] instead of tags\r\n            theValue = recipe.getTags().toString().toString();\r\n            System.out.println(recipe.getTags().toString().toString());\r\n        }\r\n\r\n        return theValue;\r\n    }\r\n\r\n    public static ArrayList&lt;Recipe&gt; findByValue(String value, Iterable&lt;Recipe&gt; allRecipes) {\r\n        String lower_val = value.toLowerCase();\r\n\r\n        ArrayList&lt;Recipe&gt; results = new ArrayList&lt;&gt;();\r\n\r\n        for (Recipe recipe : allRecipes) {\r\n\r\n            if (recipe.getName().toLowerCase().contains(lower_val)) {\r\n                results.add(recipe);\r\n            } else if (recipe.getIngredientList().toString().toLowerCase().contains(lower_val)) {\r\n                results.add(recipe);\r\n            } else if (recipe.getTags().toString().toLowerCase().contains(lower_val)) {\r\n                results.add(recipe);\r\n            } else if (recipe.toString().toLowerCase().contains(lower_val)) {\r\n                results.add(recipe);\r\n            }\r\n\r\n        }\r\n\r\n        return results;\r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nI was hoping by moving the addAttributes outside of the for loop that it would just add to recipes. I tried `recipes += RecipeData.findByColumnAndValue(sTy, sTe, RecipeRepository.findAll());` and `recipes += RecipeRepository.findAll();` but it complains saying that it needs to be changed to an Iterable or ArrayList which I have tried both and neither worked. Not sure what to do since the terms and types of the search are going through, but I can&#39;t find a way to store all the results and send them back to the page.","title":"Trying to Loop and Add things to Iterable Java","body":"<p>I am trying to create a search page that allows you to use multiple terms and values keep having problems on finding a way to keep all the results. It works for one item but when I do multiple it only ends up displaying the last search. Here is my code for the controller and the class I am using to find the data.</p>\n<pre><code>    @PostMapping (&quot;adv-search/results&quot;)\n    public String displayAdvancedSearchResults(Model model , @RequestParam String searchType, @RequestParam String searchTerm) {\n\n        Iterable&lt;Recipe&gt; recipes = null;\n        String[] searchTerms = searchTerm.split(&quot;,&quot;);\n        String[] searchTypes = searchType.split(&quot;,&quot;);\n\n        for (int i=0; i &lt; searchTerms.length; i++) {\n            String sTe = searchTerms[i];\n            String sTy = searchTypes[i];\n\n            if (sTe.toLowerCase().equals(&quot;all&quot;) || sTe.equals(&quot;&quot;)){\n                recipes = RecipeRepository.findAll();\n            } else {\n                recipes = RecipeData.findByColumnAndValue(sTy, sTe, RecipeRepository.findAll());\n            }\n\n        }\n\n        model.addAttribute(&quot;columns&quot;, columnChoices);\n        model.addAttribute(&quot;title&quot;, &quot;Recipes with &quot; + columnChoices.get(searchType) + &quot;: &quot; + searchTerm);\n        model.addAttribute(&quot;recipes&quot;, recipes);\n\n        return &quot;adv-search&quot;;\n\n    }\n</code></pre>\n<pre><code>public class RecipeData {\n\n    public static ArrayList&lt;Recipe&gt; findByColumnAndValue(String column, String value, Iterable&lt;Recipe&gt; allRecipes) {\n\n        ArrayList&lt;Recipe&gt; results = new ArrayList&lt;&gt;();\n\n        if (value.toLowerCase().equals(&quot;all&quot;)){\n            return (ArrayList&lt;Recipe&gt;) allRecipes;\n        }\n\n        if (column.equals(&quot;all&quot;)){\n            results = findByValue(value, allRecipes);\n            return results;\n        }\n        for (Recipe recipe : allRecipes) {\n\n            String aValue = getFieldValue(recipe, column);\n\n            if (aValue != null &amp;&amp; aValue.toLowerCase().contains(value.toLowerCase())) {\n                results.add(recipe);\n            }\n        }\n\n        return results;\n    }\n\n    public static String getFieldValue(Recipe recipe, String fieldName) {\n        String theValue;\n        if (fieldName.equals(&quot;name&quot;)){\n            theValue = recipe.getName();\n            System.out.println(recipe.getName());\n        } else if (fieldName.equals(&quot;ingredients&quot;)){\n            theValue = recipe.getIngredientList().toString();\n            System.out.println(recipe.getIngredientList().toString());\n        } else { //prints [com.launchcode.recipeproject.models.Tag@20] instead of tags\n            theValue = recipe.getTags().toString().toString();\n            System.out.println(recipe.getTags().toString().toString());\n        }\n\n        return theValue;\n    }\n\n    public static ArrayList&lt;Recipe&gt; findByValue(String value, Iterable&lt;Recipe&gt; allRecipes) {\n        String lower_val = value.toLowerCase();\n\n        ArrayList&lt;Recipe&gt; results = new ArrayList&lt;&gt;();\n\n        for (Recipe recipe : allRecipes) {\n\n            if (recipe.getName().toLowerCase().contains(lower_val)) {\n                results.add(recipe);\n            } else if (recipe.getIngredientList().toString().toLowerCase().contains(lower_val)) {\n                results.add(recipe);\n            } else if (recipe.getTags().toString().toLowerCase().contains(lower_val)) {\n                results.add(recipe);\n            } else if (recipe.toString().toLowerCase().contains(lower_val)) {\n                results.add(recipe);\n            }\n\n        }\n\n        return results;\n    }\n\n}\n</code></pre>\n<p>I was hoping by moving the addAttributes outside of the for loop that it would just add to recipes. I tried <code>recipes += RecipeData.findByColumnAndValue(sTy, sTe, RecipeRepository.findAll());</code> and <code>recipes += RecipeRepository.findAll();</code> but it complains saying that it needs to be changed to an Iterable or ArrayList which I have tried both and neither worked. Not sure what to do since the terms and types of the search are going through, but I can't find a way to store all the results and send them back to the page.</p>\n"},{"tags":["java","netbeans","format","ide","auto-generate"],"comments":[{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1690861878,"post_id":76800345,"comment_id":135408459,"body_markdown":"Unfortunately it looks like you have encountered a usability bug/issue with NetBeans: for a Maven project it is not currently possible to specify the the template to be used when creating a Maven class containing the `main()` method. See [NetBeans issue #3678 Creating new application (Java With Maven, Java Application) has main class built ignoring templates](https://github.com/apache/netbeans/issues/3678), which is open and unresolved. But the change you describe in your question works fine when creating Ant applications (**File &gt; New Project... &gt; Java with Ant &gt; Java Application**)","body":"Unfortunately it looks like you have encountered a usability bug/issue with NetBeans: for a Maven project it is not currently possible to specify the the template to be used when creating a Maven class containing the <code>main()</code> method. See <a href=\"https://github.com/apache/netbeans/issues/3678\" rel=\"nofollow noreferrer\">NetBeans issue #3678 Creating new application (Java With Maven, Java Application) has main class built ignoring templates</a>, which is open and unresolved. But the change you describe in your question works fine when creating Ant applications (<b>File &gt; New Project... &gt; Java with Ant &gt; Java Application</b>)"}],"owner":{"account_id":26375499,"reputation":1,"user_id":20029492,"display_name":"Salt StillWaters"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690770154,"creation_date":1690770154,"question_id":76800345,"body_markdown":"Good day. I am trying to change the auto-generated main class in Netbeans.\r\n\r\nBy default, whenever I make a new project, Netbeans automatically creates the class below:\r\n\r\n```\r\n\r\npackage com.mycompany.mavenproject1;\r\n\r\n/**\r\n *\r\n * @author Salti\r\n */\r\npublic class Mavenproject1 {\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;Hello World!&quot;);\r\n    }\r\n}\r\n```\r\n\r\nHowever, I&#39;d like it to be like this:\r\n\r\n```\r\npackage com.mycompany.mavenproject1;\r\n\r\n\r\npublic class Mavenproject1 \r\n{\r\n\r\n    public static void main(String[] args) \r\n    {\r\n        \r\n    }\r\n}\r\n```\r\n\r\nI tried changing the ***&#39;Java Main Class&#39;*** located in ***&#39;Tools-\\&gt;Templates-\\&gt;Java&quot;***. However, any changes I make there amount to nothing as there is still no change in the auto-generated class when I create a new project. I also made sure to save the changes, as well as restart Netbeans, but still to no avail.\r\n\r\nThank you very much!\r\n\r\nMore info in case it is needed:\r\n\r\nWin11  \r\nApache Netbeans IDE 18","title":"Changes in &#39;Templates&#39; does not change anything in Apache Netbeans","body":"<p>Good day. I am trying to change the auto-generated main class in Netbeans.</p>\n<p>By default, whenever I make a new project, Netbeans automatically creates the class below:</p>\n<pre><code>\npackage com.mycompany.mavenproject1;\n\n/**\n *\n * @author Salti\n */\npublic class Mavenproject1 {\n\n    public static void main(String[] args) {\n        System.out.println(&quot;Hello World!&quot;);\n    }\n}\n</code></pre>\n<p>However, I'd like it to be like this:</p>\n<pre><code>package com.mycompany.mavenproject1;\n\n\npublic class Mavenproject1 \n{\n\n    public static void main(String[] args) \n    {\n        \n    }\n}\n</code></pre>\n<p>I tried changing the <em><strong>'Java Main Class'</strong></em> located in <em><strong>'Tools-&gt;Templates-&gt;Java&quot;</strong></em>. However, any changes I make there amount to nothing as there is still no change in the auto-generated class when I create a new project. I also made sure to save the changes, as well as restart Netbeans, but still to no avail.</p>\n<p>Thank you very much!</p>\n<p>More info in case it is needed:</p>\n<p>Win11<br />\nApache Netbeans IDE 18</p>\n"},{"tags":["java","lambda","stringtokenizer"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1690752355,"post_id":76799664,"comment_id":135393387,"body_markdown":"I would advice against using a lambda. The current process has a state (variable `i`). While we can introduce states in lambdas, this is discouraged.","body":"I would advice against using a lambda. The current process has a state (variable <code>i</code>). While we can introduce states in lambdas, this is discouraged."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1690753371,"post_id":76799664,"comment_id":135393449,"body_markdown":"I would advise against using `StringTokenizer`: [StringTokenizer is a legacy class that is retained for compatibility reasons although its use is discouraged in new code. It is recommended that anyone seeking this functionality use the split method of String or the java.util.regex package instead.](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/StringTokenizer.html#nextElement()) So something of that great age is not going to be a natural fit with modern Java features. Please give an example of the text you&#39;re processing","body":"I would advise against using <code>StringTokenizer</code>: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/StringTokenizer.html#nextElement()\" rel=\"nofollow noreferrer\">StringTokenizer is a legacy class that is retained for compatibility reasons although its use is discouraged in new code. It is recommended that anyone seeking this functionality use the split method of String or the java.util.regex package instead.</a> So something of that great age is not going to be a natural fit with modern Java features. Please give an example of the text you&#39;re processing"},{"owner":{"account_id":28881616,"reputation":1,"user_id":22120997,"display_name":"aozhinsky"},"score":0,"creation_date":1690763902,"post_id":76799664,"comment_id":135394176,"body_markdown":"The example of the text is\n&quot;ozh2[ 2a]xyz4[ 4b3[ 3c]]abc5[ 5]abcde&quot;\nThe method is part of the solution of the problem where pattern like &quot;2[abcd]&quot; is substituted by &quot;abcdabcd&quot;. Patterns like 4[ 4b3[ 3c]] with &quot;child&quot; sub-patterns are allowed.","body":"The example of the text is &quot;ozh2[ 2a]xyz4[ 4b3[ 3c]]abc5[ 5]abcde&quot; The method is part of the solution of the problem where pattern like &quot;2[abcd]&quot; is substituted by &quot;abcdabcd&quot;. Patterns like 4[ 4b3[ 3c]] with &quot;child&quot; sub-patterns are allowed."},{"owner":{"account_id":28881616,"reputation":1,"user_id":22120997,"display_name":"aozhinsky"},"score":0,"creation_date":1690764164,"post_id":76799664,"comment_id":135394197,"body_markdown":"I tried to use String.split, but I failed to find proper argument to include both &#39;[&#39; and &#39;]&#39;","body":"I tried to use String.split, but I failed to find proper argument to include both &#39;[&#39; and &#39;]&#39;"}],"answers":[{"comments":[{"owner":{"account_id":28881616,"reputation":1,"user_id":22120997,"display_name":"aozhinsky"},"score":0,"creation_date":1690770778,"post_id":76800282,"comment_id":135394666,"body_markdown":"Thanks, it works. I was not familiar with Matcher","body":"Thanks, it works. I was not familiar with Matcher"},{"owner":{"account_id":26738302,"reputation":74,"user_id":20339497,"display_name":"HuaJFrame"},"score":0,"creation_date":1690771668,"post_id":76800282,"comment_id":135394738,"body_markdown":"You can try to learn it, because `StringTokenizer` is obsolete. @aozhinsky","body":"You can try to learn it, because <code>StringTokenizer</code> is obsolete. @aozhinsky"}],"tags":[],"owner":{"account_id":26738302,"reputation":74,"user_id":20339497,"display_name":"HuaJFrame"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690769508,"creation_date":1690768594,"answer_id":76800282,"question_id":76799664,"body_markdown":"I don&#39;t know how to use lambda, but, as the official doc says you can use `Mathch` and `Pattern` under `java.util.regex` package instead of `StringTokenizer`:\r\n\r\n```Java\r\nprivate static final Pattern PATTERN = Pattern.compile(&quot;[^\\\\[\\\\]]+|\\\\[|\\\\]&quot;);\r\n    \r\n    public static TreeMap&lt;Integer, String&gt; parseElementsBeforeOpenBracket(String inValue) {\r\n        TreeMap&lt;Integer, String&gt; mapElements = new TreeMap&lt;&gt;();\r\n        Matcher matcher = PATTERN.matcher(inValue);\r\n        int i = 0;\r\n        while (matcher.find()) {\r\n            String s = matcher.group();\r\n            mapElements.put(i, s);\r\n            i += s.length();\r\n        }\r\n        return mapElements;\r\n    }\r\n```\r\nI tested with `ozh22a]xyz4[4b3[3c]]abc5[5]abcde` and got the same result as your code `{0=ozh22a, 6=], 7=xyz4, 11=[, 12=4b3 , 15=[, 16=3c, 18=], 19=], 20=abc5, 24=[, 25=5, 26=], 27=abcde}`\r\n\r\nMaybe you can&#39;t think of `[^\\\\[\\\\]]+|\\\\[|\\\\]` very quickly, but observing your code results can be divided into three parts:\r\n1. Consecutive characters that are not `[` or `]` -&gt; `[^\\\\[\\\\]]+`\r\n2. `[` -&gt; `\\\\[`\r\n3. `]` -&gt; `\\\\]`\r\n\r\n`\\\\` is an escape\r\n\r\nIf you are not familiar with the methods of the `Matcher` class, please see [Module java.base Package java.util.regex Class Matcher](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html).\r\n\r\nIf you use jdk9 and above, you can use the `Matcher.result()` method, such as `matcher.results().collect(TreeMap::new, (map, matchResult) -&gt; map.put(matchResult.start(), matchResult.group()), TreeMap::putAll);`\r\n\r\nThis can directly get a TreeMap result. \r\n\r\nPlease see  [Matcher.results()](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html#results()).I didn&#39;t test it because I&#39;m using JDK8.\r\n\r\nI am not very good at English, I use Google Translate, which may affect reading, please forgive me.\r\nHope to help you.","title":"Is it possible to replace the following code by lambda:","body":"<p>I don't know how to use lambda, but, as the official doc says you can use <code>Mathch</code> and <code>Pattern</code> under <code>java.util.regex</code> package instead of <code>StringTokenizer</code>:</p>\n<pre><code>private static final Pattern PATTERN = Pattern.compile(&quot;[^\\\\[\\\\]]+|\\\\[|\\\\]&quot;);\n    \n    public static TreeMap&lt;Integer, String&gt; parseElementsBeforeOpenBracket(String inValue) {\n        TreeMap&lt;Integer, String&gt; mapElements = new TreeMap&lt;&gt;();\n        Matcher matcher = PATTERN.matcher(inValue);\n        int i = 0;\n        while (matcher.find()) {\n            String s = matcher.group();\n            mapElements.put(i, s);\n            i += s.length();\n        }\n        return mapElements;\n    }\n</code></pre>\n<p>I tested with <code>ozh22a]xyz4[4b3[3c]]abc5[5]abcde</code> and got the same result as your code <code>{0=ozh22a, 6=], 7=xyz4, 11=[, 12=4b3 , 15=[, 16=3c, 18=], 19=], 20=abc5, 24=[, 25=5, 26=], 27=abcde}</code></p>\n<p>Maybe you can't think of <code>[^\\\\[\\\\]]+|\\\\[|\\\\]</code> very quickly, but observing your code results can be divided into three parts:</p>\n<ol>\n<li>Consecutive characters that are not <code>[</code> or <code>]</code> -&gt; <code>[^\\\\[\\\\]]+</code></li>\n<li><code>[</code> -&gt; <code>\\\\[</code></li>\n<li><code>]</code> -&gt; <code>\\\\]</code></li>\n</ol>\n<p><code>\\\\</code> is an escape</p>\n<p>If you are not familiar with the methods of the <code>Matcher</code> class, please see <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html\" rel=\"nofollow noreferrer\">Module java.base Package java.util.regex Class Matcher</a>.</p>\n<p>If you use jdk9 and above, you can use the <code>Matcher.result()</code> method, such as <code>matcher.results().collect(TreeMap::new, (map, matchResult) -&gt; map.put(matchResult.start(), matchResult.group()), TreeMap::putAll);</code></p>\n<p>This can directly get a TreeMap result.</p>\n<p>Please see  <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/regex/Matcher.html#results()\" rel=\"nofollow noreferrer\">Matcher.results()</a>.I didn't test it because I'm using JDK8.</p>\n<p>I am not very good at English, I use Google Translate, which may affect reading, please forgive me.\nHope to help you.</p>\n"}],"owner":{"account_id":28881616,"reputation":1,"user_id":22120997,"display_name":"aozhinsky"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690769508,"creation_date":1690752111,"question_id":76799664,"body_markdown":"    static TreeMap&lt;Integer, String&gt; parseElementsBeforeOpenBracket(String inValue) {\r\n        StringTokenizer tokenizer = new StringTokenizer(inValue, &quot;[]&quot;, true);\r\n        TreeMap&lt;Integer, String&gt; mapElements = new TreeMap&lt;&gt;();\r\n        int i = 0;\r\n        while (tokenizer.hasMoreElements()) {\r\n            String s = (String) tokenizer.nextElement();\r\n            mapElements.put(i, s);\r\n            i += s.length();\r\n        }\r\n        return mapElements;\r\n    }\r\n\r\n\r\nExpecting: something like\r\nTreeMap&lt;Integer, String&gt; mapElements = xxx.stream()...Collectors.toMap()","title":"Is it possible to replace the following code by lambda:","body":"<pre><code>static TreeMap&lt;Integer, String&gt; parseElementsBeforeOpenBracket(String inValue) {\n    StringTokenizer tokenizer = new StringTokenizer(inValue, &quot;[]&quot;, true);\n    TreeMap&lt;Integer, String&gt; mapElements = new TreeMap&lt;&gt;();\n    int i = 0;\n    while (tokenizer.hasMoreElements()) {\n        String s = (String) tokenizer.nextElement();\n        mapElements.put(i, s);\n        i += s.length();\n    }\n    return mapElements;\n}\n</code></pre>\n<p>Expecting: something like\nTreeMap&lt;Integer, String&gt; mapElements = xxx.stream()...Collectors.toMap()</p>\n"},{"tags":["java","ssl","https","truststore"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1690767088,"post_id":76800190,"comment_id":135394388,"body_markdown":"The important thing is that you should not distribute the server’s private key to clients or anyone else. Having the private key allows you to impersonate the server. This means you need a separate trust store file that contains only the server’s public certificate, or preferably the public certificate of a certificate authority (CA) that has signed the server’s public certificate. If the server’s certificate or another certificate in the chain of trust can be signed by a well known CA that is already in the JDK’s default cacerts file, you don’t need to distribute anything.","body":"The important thing is that you should not distribute the server’s private key to clients or anyone else. Having the private key allows you to impersonate the server. This means you need a separate trust store file that contains only the server’s public certificate, or preferably the public certificate of a certificate authority (CA) that has signed the server’s public certificate. If the server’s certificate or another certificate in the chain of trust can be signed by a well known CA that is already in the JDK’s default cacerts file, you don’t need to distribute anything."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1690767129,"post_id":76800190,"comment_id":135394391,"body_markdown":"A truststore doesn&#39;t actually need a password just to access it, and there is really nothing secure about it either: it just contains certificates, which are already public documents. What needs to be secure is the process of adding to it or removing from it, and that&#39;s where the password comes in. Each site should have its own password for its own truststore. Actually you shouldn&#39;t be exporting a truststore at all, just the certificates in it, with instructions as to how to import them once each user is satisfied as to the wisdom of trusting each one. Or get it signed as @TimMoore suggests.","body":"A truststore doesn&#39;t actually need a password just to access it, and there is really nothing secure about it either: it just contains certificates, which are already public documents. What needs to be secure is the process of adding to it or removing from it, and that&#39;s where the password comes in. Each site should have its own password for its own truststore. Actually you shouldn&#39;t be exporting a truststore at all, just the certificates in it, with instructions as to how to import them once each user is satisfied as to the wisdom of trusting each one. Or get it signed as @TimMoore suggests."},{"owner":{"account_id":3421244,"reputation":35883,"user_id":2868801,"display_name":"dave_thompson_085"},"score":1,"creation_date":1690781203,"post_id":76800190,"comment_id":135395370,"body_markdown":"@user207421+ not really. In the abstract security-theory world a truststore doesn&#39;t need confidentiality, but may still need a password for integrity. In particular most PKCS12 files by convention, including (in the Java-programming world) PKCS12 files created by Java keytool etc, use a password-MAC (which can be ignored in Java in some cases but not when using the sysprops shown) _and_ password-encrypt the certbag (even though it&#39;s not needed) and thus can only be used by providing the correct password.","body":"@user207421+ not really. In the abstract security-theory world a truststore doesn&#39;t need confidentiality, but may still need a password for integrity. In particular most PKCS12 files by convention, including (in the Java-programming world) PKCS12 files created by Java keytool etc, use a password-MAC (which can be ignored in Java in some cases but not when using the sysprops shown) <i>and</i> password-encrypt the certbag (even though it&#39;s not needed) and thus can only be used by providing the correct password."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690846275,"post_id":76800190,"comment_id":135407047,"body_markdown":"@dave_thompson_085 True, tks.","body":"@dave_thompson_085 True, tks."}],"answers":[{"comments":[{"owner":{"account_id":10335433,"reputation":13,"user_id":7623724,"display_name":"Trent"},"score":0,"creation_date":1690838289,"post_id":76800264,"comment_id":135406148,"body_markdown":"Right now the P12 file I believe contains my Cert and private key... which isn&#39;t good, right? I should try and make another P12 just using my Cert? Or can I make it using the Cert and Public Key? Then, just use the same P12 file on my Rest-Server. Is this the right way to go about this?","body":"Right now the P12 file I believe contains my Cert and private key... which isn&#39;t good, right? I should try and make another P12 just using my Cert? Or can I make it using the Cert and Public Key? Then, just use the same P12 file on my Rest-Server. Is this the right way to go about this?"},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690854604,"post_id":76800264,"comment_id":135407816,"body_markdown":"@Trent That is correct. It is terrible. It is beyond terrible. You are compromising your private key. This is the worst possible security breach. You need to export the certificate and distribute it. You don&#39;t need another truststore. Let the users do that part. This is very important from the legal non-repudiation point of view.","body":"@Trent That is correct. It is terrible. It is beyond terrible. You are compromising your private key. This is the worst possible security breach. You need to export the certificate and distribute it. You don&#39;t need another truststore. Let the users do that part. This is very important from the legal non-repudiation point of view."},{"owner":{"account_id":10335433,"reputation":13,"user_id":7623724,"display_name":"Trent"},"score":0,"creation_date":1690859860,"post_id":76800264,"comment_id":135408298,"body_markdown":"I got it figured out! I was trying to do a Server Certificate and a Client Certificate to authenticate, when in reality all I needed to do was a Server Cert, and have the client just use that Cert (like a browser does with a website). I was being too in-depth I think and not understanding what I was even doing. Thank you all for your help.","body":"I got it figured out! I was trying to do a Server Certificate and a Client Certificate to authenticate, when in reality all I needed to do was a Server Cert, and have the client just use that Cert (like a browser does with a website). I was being too in-depth I think and not understanding what I was even doing. Thank you all for your help."},{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":0,"creation_date":1690883135,"post_id":76800264,"comment_id":135411880,"body_markdown":"Yeah, sorry, couldn&#39;t get back to you. In principle you always want to use local key pair generation + Certificate Signing Request for client authentication. Otherwise the key needs to be very well protected in transit, and of course the server would also have the private key. I&#39;d keep the truststore with the trusted (root) certificates and the keystore with the cert chain for client authentication *separate* myself as they have different security requirements. PKI is an interesting subject for sure.","body":"Yeah, sorry, couldn&#39;t get back to you. In principle you always want to use local key pair generation + Certificate Signing Request for client authentication. Otherwise the key needs to be very well protected in transit, and of course the server would also have the private key. I&#39;d keep the truststore with the trusted (root) certificates and the keystore with the cert chain for client authentication <i>separate</i> myself as they have different security requirements. PKI is an interesting subject for sure."}],"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690768116,"creation_date":1690768116,"answer_id":76800264,"question_id":76800190,"body_markdown":"The reason why a trust store exists is because you are trying to create a secure communication to a web server, and you need to trust the server certificate that they offer. So a trust store contains the trust anchors for that to happen: if a valid trust path can be build to a trust anchor in the trust store then the certificate is deemed valid and - after some additional checks of e.g. the server name - the private key can be used by the server to indicate that it is the server named within the server certificate.\r\n\r\nGreat, so what kind of security needs to be present on your trust store? Well, it is that the trust store is available and unaltered. Having the trust store unavailable will obviously be a big issue. So downloading the trust store every time you need to secure a connection is adding another high availability component to your infrastructure. Maybe you already need one for CRL or OCSP service, but still.\r\n\r\nThe other thing is that the trust store should not be altered in traffic. That basically means that the connection to your service should be free from attacks. The most logical way to do this is to have it protected by TLS. In that case of course you need a trusted certificate. In the end you cannot operate without trusting *something*. This is why you either have to trust a server based on the `cacerts`, or to distribute a certificate with the application.\r\n\r\n&quot;it shouldn&#39;t be a problem because it&#39;s not accessible by anyone else&quot;. That&#39;s not a requirement. Other people may well access the server, as long as they cannot alter the security (and availability) of the connection or the trust store. Read access to the P12 file wouldn&#39;t directly influence the availability or trustworthiness of the trust store. That said, the stricter the security of the service that contains the trust store, the better.\r\n\r\nI was kind of afraid that the P12 would not just be a trust store but also a key store containing a private key. Preferably, a private key should not be distributed that way. I didn&#39;t see any hint of this happening in your question, so I&#39;ll just leave it here for other readers.","title":"How to securely handout SSL Certifcate&#39;s truststore","body":"<p>The reason why a trust store exists is because you are trying to create a secure communication to a web server, and you need to trust the server certificate that they offer. So a trust store contains the trust anchors for that to happen: if a valid trust path can be build to a trust anchor in the trust store then the certificate is deemed valid and - after some additional checks of e.g. the server name - the private key can be used by the server to indicate that it is the server named within the server certificate.</p>\n<p>Great, so what kind of security needs to be present on your trust store? Well, it is that the trust store is available and unaltered. Having the trust store unavailable will obviously be a big issue. So downloading the trust store every time you need to secure a connection is adding another high availability component to your infrastructure. Maybe you already need one for CRL or OCSP service, but still.</p>\n<p>The other thing is that the trust store should not be altered in traffic. That basically means that the connection to your service should be free from attacks. The most logical way to do this is to have it protected by TLS. In that case of course you need a trusted certificate. In the end you cannot operate without trusting <em>something</em>. This is why you either have to trust a server based on the <code>cacerts</code>, or to distribute a certificate with the application.</p>\n<p>&quot;it shouldn't be a problem because it's not accessible by anyone else&quot;. That's not a requirement. Other people may well access the server, as long as they cannot alter the security (and availability) of the connection or the trust store. Read access to the P12 file wouldn't directly influence the availability or trustworthiness of the trust store. That said, the stricter the security of the service that contains the trust store, the better.</p>\n<p>I was kind of afraid that the P12 would not just be a trust store but also a key store containing a private key. Preferably, a private key should not be distributed that way. I didn't see any hint of this happening in your question, so I'll just leave it here for other readers.</p>\n"}],"owner":{"account_id":10335433,"reputation":13,"user_id":7623724,"display_name":"Trent"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76800264,"answer_count":1,"score":1,"last_activity_date":1690769379,"creation_date":1690766240,"question_id":76800190,"body_markdown":"I am developing a Java-based application that will run on a remote computer. This app will talk with a REST-API over the internet via HTTPS. I had this working using a truststore in P12 format. Is this the correct way to handout the SSL Cert? This program will be running on other users&#39; computers. Will them having access to the P12 file be unsecure? If so, how could I go about this another way? \r\n\r\nI am currently using the below for my client-software (that&#39;s on other peoples&#39; computers):\r\n`System.setProperty(&quot;javax.net.ssl.trustStore&quot;, getFileFromResources(&quot;certs/newKeystore.p12&quot;).getAbsolutePath());\r\n            System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;password123&quot;);`\r\nI know on my Rest-API server, it shouldn&#39;t be a problem because it&#39;s not accessible by anyone else. I am using the same P12 file on my rest-api server as well. If I change the P12 file, I should change it on both, correct?","title":"How to securely handout SSL Certifcate&#39;s truststore","body":"<p>I am developing a Java-based application that will run on a remote computer. This app will talk with a REST-API over the internet via HTTPS. I had this working using a truststore in P12 format. Is this the correct way to handout the SSL Cert? This program will be running on other users' computers. Will them having access to the P12 file be unsecure? If so, how could I go about this another way?</p>\n<p>I am currently using the below for my client-software (that's on other peoples' computers):\n<code>System.setProperty(&quot;javax.net.ssl.trustStore&quot;, getFileFromResources(&quot;certs/newKeystore.p12&quot;).getAbsolutePath()); System.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;password123&quot;);</code>\nI know on my Rest-API server, it shouldn't be a problem because it's not accessible by anyone else. I am using the same P12 file on my rest-api server as well. If I change the P12 file, I should change it on both, correct?</p>\n"},{"tags":["java","visual-studio-code"],"comments":[{"owner":{"account_id":5907283,"reputation":1489,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1688803040,"post_id":76641794,"comment_id":135125312,"body_markdown":"it&#39;d be hard to suggest anything given there are many things that can affect the plugin, at least but not limited to: 1) java version; 2) plugin version; 3) are the sdk properly configured","body":"it&#39;d be hard to suggest anything given there are many things that can affect the plugin, at least but not limited to: 1) java version; 2) plugin version; 3) are the sdk properly configured"},{"owner":{"account_id":25917782,"reputation":25,"user_id":19640931,"display_name":"Tanish Majumdar"},"score":0,"creation_date":1688803152,"post_id":76641794,"comment_id":135125324,"body_markdown":"is there any video where i can get help to check such stuff","body":"is there any video where i can get help to check such stuff"},{"owner":{"account_id":5907283,"reputation":1489,"user_id":4648586,"accept_rate":60,"display_name":"Bagus Tesa"},"score":0,"creation_date":1688803338,"post_id":76641794,"comment_id":135125341,"body_markdown":"[some answers](https://stackoverflow.com/questions/63468403/vscode-not-suggesting-and-autocompleting-java-code) you could try out","body":"<a href=\"https://stackoverflow.com/questions/63468403/vscode-not-suggesting-and-autocompleting-java-code\">some answers</a> you could try out"},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1688806583,"post_id":76641794,"comment_id":135125612,"body_markdown":"what if you trigger suggestions manually? ctrl/cmd+space","body":"what if you trigger suggestions manually? ctrl/cmd+space"},{"owner":{"account_id":25917782,"reputation":25,"user_id":19640931,"display_name":"Tanish Majumdar"},"score":0,"creation_date":1688807711,"post_id":76641794,"comment_id":135125723,"body_markdown":"when i trigger it manually it only shows a few like psvm,main,switch and not the other like sout,system,in etc.","body":"when i trigger it manually it only shows a few like psvm,main,switch and not the other like sout,system,in etc."},{"owner":{"account_id":25917782,"reputation":25,"user_id":19640931,"display_name":"Tanish Majumdar"},"score":0,"creation_date":1688807751,"post_id":76641794,"comment_id":135125732,"body_markdown":"it only works when i do clean java server workspace","body":"it only works when i do clean java server workspace"},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1688843657,"post_id":76641794,"comment_id":135129572,"body_markdown":"please [edit] your question post to give us a longer list (at least 10 items if there are that many, but the more you give, the more helpful it is) of what you see in the suggestion list, and what you don&#39;t see but you expect to see.","body":"please <a href=\"https://stackoverflow.com/posts/76641794/edit\">edit</a> your question post to give us a longer list (at least 10 items if there are that many, but the more you give, the more helpful it is) of what you see in the suggestion list, and what you don&#39;t see but you expect to see."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1688970209,"post_id":76641794,"comment_id":135140831,"body_markdown":"It may not be that the new project takes effect, but restarting vscode takes effect. You can restart vscode in an existing project and see if intellisense works.","body":"It may not be that the new project takes effect, but restarting vscode takes effect. You can restart vscode in an existing project and see if intellisense works."},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1688971860,"post_id":76641794,"comment_id":135141102,"body_markdown":"the specific problem here with typing `Sys` to get the `sysout` snippet may be related to this change: https://github.com/redhat-developer/vscode-java/pull/3142, but it&#39;s weird that you get _different_ behaviour upon restart...","body":"the specific problem here with typing <code>Sys</code> to get the <code>sysout</code> snippet may be related to this change: <a href=\"https://github.com/redhat-developer/vscode-java/pull/3142\" rel=\"nofollow noreferrer\">github.com/redhat-developer/vscode-java/pull/3142</a>, but it&#39;s weird that you get <i>different</i> behaviour upon restart..."},{"owner":{"account_id":25917782,"reputation":25,"user_id":19640931,"display_name":"Tanish Majumdar"},"score":0,"creation_date":1689043786,"post_id":76641794,"comment_id":135153919,"body_markdown":"@JialeDu yes it only works if i restart vscode or create a new project or restart the server workspace. If i create a new file in the existing part it stops working","body":"@JialeDu yes it only works if i restart vscode or create a new project or restart the server workspace. If i create a new file in the existing part it stops working"},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1689140160,"post_id":76641794,"comment_id":135169057,"body_markdown":"Follow here:  https://github.com/redhat-developer/vscode-java/issues/3191","body":"Follow here:  <a href=\"https://github.com/redhat-developer/vscode-java/issues/3191\" rel=\"nofollow noreferrer\">github.com/redhat-developer/vscode-java/issues/3191</a>"},{"owner":{"account_id":15396644,"reputation":25775,"user_id":11107541,"display_name":"starball"},"score":0,"creation_date":1689227597,"post_id":76641794,"comment_id":135183987,"body_markdown":"Does this answer your question? [Why aren&#39;t suggestions working properly in new Java files with the Red Hat Java Language Support extension v1.20.0 with VS Code 1.80?](https://stackoverflow.com/questions/76668211/why-arent-suggestions-working-properly-in-new-java-files-with-the-red-hat-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/76668211/why-arent-suggestions-working-properly-in-new-java-files-with-the-red-hat-java\">Why aren&#39;t suggestions working properly in new Java files with the Red Hat Java Language Support extension v1.20.0 with VS Code 1.80?</a>"}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1690768937,"creation_date":1690768937,"answer_id":76800294,"question_id":76641794,"body_markdown":"https://github.com/redhat-developer/vscode-java/issues/3191#issuecomment-1635181642\r\n\r\n &gt; this issue has been fixed in the latest vscode@1.80.1 version.","title":"Intellisense only works if i create a new project","body":"<p><a href=\"https://github.com/redhat-developer/vscode-java/issues/3191#issuecomment-1635181642\" rel=\"nofollow noreferrer\">https://github.com/redhat-developer/vscode-java/issues/3191#issuecomment-1635181642</a></p>\n<blockquote>\n<p>this issue has been fixed in the latest vscode@1.80.1 version.</p>\n</blockquote>\n"}],"owner":{"account_id":25917782,"reputation":25,"user_id":19640931,"display_name":"Tanish Majumdar"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":208,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76800294,"answer_count":1,"score":1,"last_activity_date":1690768937,"creation_date":1688800777,"question_id":76641794,"body_markdown":"If I create a new file in existing project then it stops working\r\n![If i create another file then it stops working](https://i.stack.imgur.com/XTumL.png)\r\n\r\nOn the other hand if I create a new project then it works\r\n![On the other hand if i create a new project then it works](https://i.stack.imgur.com/vppew.png)\r\n\r\nI have checked out the Java redhat setting also but still have found no clue. I tried reinstalling the extension pack for java but still it has the same problem. \r\n","title":"Intellisense only works if i create a new project","body":"<p>If I create a new file in existing project then it stops working\n<img src=\"https://i.stack.imgur.com/XTumL.png\" alt=\"If i create another file then it stops working\" /></p>\n<p>On the other hand if I create a new project then it works\n<img src=\"https://i.stack.imgur.com/vppew.png\" alt=\"On the other hand if i create a new project then it works\" /></p>\n<p>I have checked out the Java redhat setting also but still have found no clue. I tried reinstalling the extension pack for java but still it has the same problem.</p>\n"},{"tags":["java","swing","jlabel"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1690669270,"post_id":76795639,"comment_id":135386363,"body_markdown":"*public class bananaBreadIngredients extends JPanel* You could make these classes private inner classes. Alternatively, the way to access variables in another class is via.. accessors (getters) Btw, class names begin [upper case](https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions)","body":"<i>public class bananaBreadIngredients extends JPanel</i> You could make these classes private inner classes. Alternatively, the way to access variables in another class is via.. accessors (getters) Btw, class names begin <a href=\"https://technojeeves.com/index.php/aliasjava1/106-java-style-conventions\" rel=\"nofollow noreferrer\">upper case</a>"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1690674728,"post_id":76795639,"comment_id":135386737,"body_markdown":"One thing you should consider is “responsibility”, I mean, who’s actually responsible for managing the labels? In most cases you want restrict this to the defining class, as it could also be managing multiple states that need to taken into consideration. So what do you do? You use an observer pattern that would allow your second class to notify your first that some state has changed. This concept further supports dependency injection and the model-view-controller concept","body":"One thing you should consider is “responsibility”, I mean, who’s actually responsible for managing the labels? In most cases you want restrict this to the defining class, as it could also be managing multiple states that need to taken into consideration. So what do you do? You use an observer pattern that would allow your second class to notify your first that some state has changed. This concept further supports dependency injection and the model-view-controller concept"},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1690677698,"post_id":76795639,"comment_id":135386918,"body_markdown":"Honestly, I think you need to take a step back and not focus on the UI.  Start be describing the elements of your code, you have a `Recipe` which has `Ingredients`, each ingredient can have a &quot;measure&quot; or &quot;quality&quot; associated with it. These elements are describing your data/model.  Around this, you then need to build your UI to support these concepts","body":"Honestly, I think you need to take a step back and not focus on the UI.  Start be describing the elements of your code, you have a <code>Recipe</code> which has <code>Ingredients</code>, each ingredient can have a &quot;measure&quot; or &quot;quality&quot; associated with it. These elements are describing your data/model.  Around this, you then need to build your UI to support these concepts"},{"owner":{"account_id":29011817,"reputation":11,"user_id":22223162,"display_name":"Nicholas McNamara"},"score":0,"creation_date":1690751187,"post_id":76795639,"comment_id":135393286,"body_markdown":"hey @MadProgrammer. Thanks for the input. Would an example of me describing elements of code be like this: &quot;MainFrame which extends JFrame holds the main constructor class to create the code for all the components in the GUI.&quot;? Sorry if I misunderstood your comment or what you meant by describing the elements of my code.","body":"hey @MadProgrammer. Thanks for the input. Would an example of me describing elements of code be like this: &quot;MainFrame which extends JFrame holds the main constructor class to create the code for all the components in the GUI.&quot;? Sorry if I misunderstood your comment or what you meant by describing the elements of my code."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1690756305,"post_id":76795639,"comment_id":135393715,"body_markdown":"@NicholasMcNamara no, what they are trying to say is that the model you are using to represent your data is extremely disorganized, and therefore, any GUI you build on top of it will be painful to work with and difficult. For example, a lot of your previous posts on this code are getting tripped up on GUI details, but those details are made so much more complex and difficult to solve because your backend is disheveled.","body":"@NicholasMcNamara no, what they are trying to say is that the model you are using to represent your data is extremely disorganized, and therefore, any GUI you build on top of it will be painful to work with and difficult. For example, a lot of your previous posts on this code are getting tripped up on GUI details, but those details are made so much more complex and difficult to solve because your backend is disheveled."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1690756423,"post_id":76795639,"comment_id":135393726,"body_markdown":"Take a look at the answer that @HovercraftFullOfEels is crafting for you. That is an idea of a clean backend. Try and rework your code to follow a similar style, and I&#39;m sure that these problems you have been having will be much easier to navigate/deal with.","body":"Take a look at the answer that @HovercraftFullOfEels is crafting for you. That is an idea of a clean backend. Try and rework your code to follow a similar style, and I&#39;m sure that these problems you have been having will be much easier to navigate/deal with."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1690766097,"post_id":76795639,"comment_id":135394326,"body_markdown":"@NicholasMcNamara No, describe a &quot;recipe&quot; &lt;- This is acting as your &quot;data&quot; or &quot;model&quot;","body":"@NicholasMcNamara No, describe a &quot;recipe&quot; &lt;- This is acting as your &quot;data&quot; or &quot;model&quot;"}],"answers":[{"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1690698492,"post_id":76796026,"comment_id":135387944,"body_markdown":"No, don&#39;t do this, this is just putting fuel on the fire of bad ideas and direction.  Fields should be `private` and accessible via getters and/or setters, as required. Exposing the `MainFrame`, which is already a bad place to start, to `bananaBreadIngredients` (shell we discuss the bad naming conventions) is giving `bananaBreadIngredients` way more control over `MainFrame` then it should have or be responsible for. The better approach would be to break the requirements down, focus on the data, build appropriate models and the make use the model-view-controller concept to drive the UI","body":"No, don&#39;t do this, this is just putting fuel on the fire of bad ideas and direction.  Fields should be <code>private</code> and accessible via getters and/or setters, as required. Exposing the <code>MainFrame</code>, which is already a bad place to start, to <code>bananaBreadIngredients</code> (shell we discuss the bad naming conventions) is giving <code>bananaBreadIngredients</code> way more control over <code>MainFrame</code> then it should have or be responsible for. The better approach would be to break the requirements down, focus on the data, build appropriate models and the make use the model-view-controller concept to drive the UI"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1690699682,"post_id":76796026,"comment_id":135388032,"body_markdown":"@MadProgrammer You are preaching to the choir. I put that last section at the end to address your points specifically.","body":"@MadProgrammer You are preaching to the choir. I put that last section at the end to address your points specifically."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1690699768,"post_id":76796026,"comment_id":135388041,"body_markdown":"@MadProgrammer But I&#39;m not going to not answer their question either. The fact is, they have a question, I&#39;ll answer it with respect to the design decisions they made, but I&#39;ll also tell them that their design decisions are poor.","body":"@MadProgrammer But I&#39;m not going to not answer their question either. The fact is, they have a question, I&#39;ll answer it with respect to the design decisions they made, but I&#39;ll also tell them that their design decisions are poor."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1690713335,"post_id":76796026,"comment_id":135389187,"body_markdown":"Thanks for creating a self fulfilling prophesy which the rest of us well have to clean up. There is a difference between an answer which might solve the problem and a correct answer which teaches them to solve simular problems in the future. IMHO in this case, it would be better to tell them that they are off track and provide guidance to put them on track over directly &quot;answering the question&quot;, because this is just going to make them ask more questions about there poor design choices which further digs them into a hole. It&#39;s the &quot;give a fish or teach to fish&quot; parable","body":"Thanks for creating a self fulfilling prophesy which the rest of us well have to clean up. There is a difference between an answer which might solve the problem and a correct answer which teaches them to solve simular problems in the future. IMHO in this case, it would be better to tell them that they are off track and provide guidance to put them on track over directly &quot;answering the question&quot;, because this is just going to make them ask more questions about there poor design choices which further digs them into a hole. It&#39;s the &quot;give a fish or teach to fish&quot; parable"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1690725925,"post_id":76796026,"comment_id":135390475,"body_markdown":"@MadProgrammer I haven&#39;t been doing this as long as you have, but I&#39;ve seen your alternative. I understand that you don&#39;t want to clean up other people&#39;s mess, so that is a fair criticism to make, but I would consider that a better alternative than turning people away from the practice.","body":"@MadProgrammer I haven&#39;t been doing this as long as you have, but I&#39;ve seen your alternative. I understand that you don&#39;t want to clean up other people&#39;s mess, so that is a fair criticism to make, but I would consider that a better alternative than turning people away from the practice."},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1690726131,"post_id":76796026,"comment_id":135390502,"body_markdown":"As a general fact of teaching, fixing one problem at a time is a better strategy than telling a student to completely uproot their strategy. As if that is a safe assumption to make about most students.","body":"As a general fact of teaching, fixing one problem at a time is a better strategy than telling a student to completely uproot their strategy. As if that is a safe assumption to make about most students."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1690752776,"post_id":76796026,"comment_id":135393415,"body_markdown":"So... here&#39;s my point - this question, not only has been asked many times before, so we should be closing it as a duplicate, could just as easily be &quot;answered&quot; by directing the OP to [Passing Information to a Method or a Constructor](https://docs.oracle.com/javase/tutorial/java/javaOO/arguments.html), so the question (and answer) are not adding a new value to SO or future problem seekers, if anything, it&#39;s actually pointing people in the wrong direction.","body":"So... here&#39;s my point - this question, not only has been asked many times before, so we should be closing it as a duplicate, could just as easily be &quot;answered&quot; by directing the OP to <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/arguments.html\" rel=\"nofollow noreferrer\">Passing Information to a Method or a Constructor</a>, so the question (and answer) are not adding a new value to SO or future problem seekers, if anything, it&#39;s actually pointing people in the wrong direction."},{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1690752785,"post_id":76796026,"comment_id":135393416,"body_markdown":"To my &quot;teaching&quot; point, the fact is, this isn&#39;t the first question the OP has made with this code and not the first time they&#39;ve been told to &quot;take a step back&quot; and re-approach the problem.  In fact, I would, as a professional developer, highly regard this ability, sometimes it&#39;s better to start a fresh then continue down a rabbit hole just because of the amount of time you&#39;ve invested into your current solution. Also a teacher for many years, I would always prefer to pull a student back to the edge and reinforce some basic then watch them drown ;)","body":"To my &quot;teaching&quot; point, the fact is, this isn&#39;t the first question the OP has made with this code and not the first time they&#39;ve been told to &quot;take a step back&quot; and re-approach the problem.  In fact, I would, as a professional developer, highly regard this ability, sometimes it&#39;s better to start a fresh then continue down a rabbit hole just because of the amount of time you&#39;ve invested into your current solution. Also a teacher for many years, I would always prefer to pull a student back to the edge and reinforce some basic then watch them drown ;)"},{"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"score":0,"creation_date":1690754202,"post_id":76796026,"comment_id":135393522,"body_markdown":"Let us [continue this discussion in chat](https://chat.stackoverflow.com/rooms/254723/discussion-between-davidalayachew-and-madprogrammer).","body":"Let us <a href=\"https://chat.stackoverflow.com/rooms/254723/discussion-between-davidalayachew-and-madprogrammer\">continue this discussion in chat</a>."}],"tags":[],"owner":{"account_id":14010051,"reputation":1143,"user_id":10118965,"display_name":"davidalayachew"},"comment_count":9,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1690680252,"creation_date":1690680252,"answer_id":76796026,"question_id":76795639,"body_markdown":"To answer your immediate question, you have the aforementioned labels set as package-private, meaning that they do not have an [access modifier][1] in front of them. Because of this, all of the classes in the `sweets` package have access to the labels, because those labels are package-private.\r\n\r\nSo, you can do something as simple as this.\r\n\r\nIn your `MainFrame` class, you currently have this line.\r\n\r\n`bananaBreadIngredientsJPanel = new bananaBreadIngredients();`\r\n\r\nWell, change the constructor to take in an instance of `MainFrame`.\r\n\r\nMeaning, you currently have this constructor in your `bananaBreadIngredients` class.\r\n\r\n`public bananaBreadIngredients()`\r\n\r\nWell, just change it to be like this instead.\r\n\r\n`public bananaBreadIngredients(MainFrame mainFrame)`\r\n\r\nOnce you have done that, then your `bananaBreadIngredients` class now has access to every `JLabel` in `MainFrame` that is set to package-private. In fact, it has access to every [Class Variable][2] that is also set to package-private, amongst other things (that aren&#39;t relevant right now).\r\n\r\nSo, to access each desired `JLabel` from `MainFrame`, simply reference it using the passed in instance of `MainFrame` in your newly modified constructor, like this.\r\n\r\n```java\r\npublic bananaBreadIngredients(MainFrame mainFrame){\r\n\r\n    JLabel oneOfTheLabels = mainFrame.granulatedSugar;\r\n    //now you can do stuff with this variable.\r\n    //repeat for the other variables\r\n\r\n}\r\n```\r\n\r\nThis should do it.\r\n\r\n---\r\n\r\nBut I have to say, your current class structure and organization is going to get unwieldy very quickly (even more so after the answer I gave you).\r\n\r\nI would strongly encourage you to work on improving your use of strategies like [loose-coupling][3] and [Java enums][4]. The strategy you have now will bite you in the butt, assuming that it isn&#39;t already doing that.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\r\n  [2]: https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html\r\n  [3]: https://en.wikipedia.org/wiki/Coupling_(computer_programming)\r\n  [4]: https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html","title":"How to access a JLabel from another class","body":"<p>To answer your immediate question, you have the aforementioned labels set as package-private, meaning that they do not have an <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/accesscontrol.html\" rel=\"nofollow noreferrer\">access modifier</a> in front of them. Because of this, all of the classes in the <code>sweets</code> package have access to the labels, because those labels are package-private.</p>\n<p>So, you can do something as simple as this.</p>\n<p>In your <code>MainFrame</code> class, you currently have this line.</p>\n<p><code>bananaBreadIngredientsJPanel = new bananaBreadIngredients();</code></p>\n<p>Well, change the constructor to take in an instance of <code>MainFrame</code>.</p>\n<p>Meaning, you currently have this constructor in your <code>bananaBreadIngredients</code> class.</p>\n<p><code>public bananaBreadIngredients()</code></p>\n<p>Well, just change it to be like this instead.</p>\n<p><code>public bananaBreadIngredients(MainFrame mainFrame)</code></p>\n<p>Once you have done that, then your <code>bananaBreadIngredients</code> class now has access to every <code>JLabel</code> in <code>MainFrame</code> that is set to package-private. In fact, it has access to every <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/classvars.html\" rel=\"nofollow noreferrer\">Class Variable</a> that is also set to package-private, amongst other things (that aren't relevant right now).</p>\n<p>So, to access each desired <code>JLabel</code> from <code>MainFrame</code>, simply reference it using the passed in instance of <code>MainFrame</code> in your newly modified constructor, like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public bananaBreadIngredients(MainFrame mainFrame){\n\n    JLabel oneOfTheLabels = mainFrame.granulatedSugar;\n    //now you can do stuff with this variable.\n    //repeat for the other variables\n\n}\n</code></pre>\n<p>This should do it.</p>\n<hr />\n<p>But I have to say, your current class structure and organization is going to get unwieldy very quickly (even more so after the answer I gave you).</p>\n<p>I would strongly encourage you to work on improving your use of strategies like <a href=\"https://en.wikipedia.org/wiki/Coupling_(computer_programming)\" rel=\"nofollow noreferrer\">loose-coupling</a> and <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"nofollow noreferrer\">Java enums</a>. The strategy you have now will bite you in the butt, assuming that it isn't already doing that.</p>\n"},{"comments":[{"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1690765576,"post_id":76799791,"comment_id":135394297,"body_markdown":"Ohh, didn&#39;t see this before posting +1!!","body":"Ohh, didn&#39;t see this before posting +1!!"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1690767181,"post_id":76799791,"comment_id":135394394,"body_markdown":"@MadProgrammer: that&#39;s fine. There is no such thing as &quot;too many answers&quot;. I sort of cheated, as I have not fully finished my answer. I think that we agree on an a few fundamentals, that one key is in creating a clean object-oriented model, that one must try to isolate the view from the model as much as possible, to achieve low coupling, and that to jump into GUI while ignoring fundamental issues is a grave mistake. 1+ to your answer, of course.","body":"@MadProgrammer: that&#39;s fine. There is no such thing as &quot;too many answers&quot;. I sort of cheated, as I have not fully finished my answer. I think that we agree on an a few fundamentals, that one key is in creating a clean object-oriented model, that one must try to isolate the view from the model as much as possible, to achieve low coupling, and that to jump into GUI while ignoring fundamental issues is a grave mistake. 1+ to your answer, of course."},{"owner":{"account_id":29011817,"reputation":11,"user_id":22223162,"display_name":"Nicholas McNamara"},"score":0,"creation_date":1691532190,"post_id":76799791,"comment_id":135503875,"body_markdown":"Hey @HovercraftFullOfEels, first of all I just wanted to say thank you very much for going out of your way to help me. I understand the underlying concepts of MVC programing in JAVA however I still had a question about my own program, that being, should I create an MVC for every major aspect of my program? For example in my program, I would like to have a JCombobox that when the different options in the combo box are clicked different recipes with ingredients appear. Would/Should I create a whole new set of MVC for that one function of my program?","body":"Hey @HovercraftFullOfEels, first of all I just wanted to say thank you very much for going out of your way to help me. I understand the underlying concepts of MVC programing in JAVA however I still had a question about my own program, that being, should I create an MVC for every major aspect of my program? For example in my program, I would like to have a JCombobox that when the different options in the combo box are clicked different recipes with ingredients appear. Would/Should I create a whole new set of MVC for that one function of my program?"}],"tags":[],"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690768758,"creation_date":1690755006,"answer_id":76799791,"question_id":76795639,"body_markdown":"First things first: Before even thinking of a GUI program, you must think about what the GUI is supposed to represent, what it is displaying, and this information should first be created as object-oriented compliant classes.  For example, say you wanted to create a GUI that displayed recipes, then applying the rule above, we&#39;d first want to create classes that represented a single recipe, one that we can call, perhaps, &quot;Recipe.java&quot;. This could contain a String name field, a List of Strings to represent directions, and a list of ingredients. Ingredients could also be Strings, but if you wanted to be able to fiddle with the measures, best to create an Ingredients class, one with a name, string for a measuring unit, and a number for measured amount. \r\n\r\nThese could look something like:\r\n\r\nIngredient.java\r\n==========\r\n```\r\npublic class Ingredient {\r\n    private String name;\r\n    private String measureUnit;\r\n    private int measureAmount;\r\n\r\n    public Ingredient(String name, String measureUnit, int measureAmount) {\r\n        this.name = name;\r\n        this.measureUnit = measureUnit;\r\n        this.measureAmount = measureAmount;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String getMeasureUnit() {\r\n        return measureUnit;\r\n    }\r\n\r\n    public int getMeasureAmount() {\r\n        return measureAmount;\r\n    }\r\n\r\n    public int getMeasureAmount(int servingsMultiplier) {\r\n        return servingsMultiplier * measureAmount;\r\n    }\r\n\r\n    public void setMeasureAmount(int measureAmount) {\r\n        this.measureAmount = measureAmount;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Ingredient [name=&quot; + name + &quot;]&quot;;\r\n    }\r\n\r\n}\r\n```\r\n\r\nRecipe.java\r\n=========\r\n```\r\nimport java.util.List;\r\n\r\npublic class Recipe {\r\n    private String name;\r\n    private List&lt;Ingredient&gt; ingredients;\r\n    private List&lt;String&gt; directions;\r\n    private int servingsMultiplier = 1;\r\n\r\n    public Recipe(String name, List&lt;String&gt; directions) {\r\n        this.name = name;\r\n        this.directions = directions;\r\n    }\r\n\r\n    public int getIngredientCount() {\r\n        return ingredients.size();\r\n    }\r\n\r\n    public Recipe(String name, List&lt;String&gt; directions, List&lt;Ingredient&gt; ingredients) {\r\n        this(name, directions);\r\n        this.ingredients = ingredients;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public List&lt;String&gt; getDirections() {\r\n        return directions;\r\n    }\r\n    \r\n    public void addDirection(String dir) {\r\n        directions.add(dir);\r\n    }\r\n    \r\n    public void addDirection(int index, String dir) {\r\n        directions.add(index, dir);\r\n    }\r\n    \r\n    public void removeDirection(String dir) {\r\n        directions.remove(dir);\r\n    }\r\n\r\n    public List&lt;Ingredient&gt; getIngredients() {\r\n        return ingredients;\r\n    }\r\n\r\n    public void addIngredient(Ingredient ingredient) {\r\n        ingredients.add(ingredient);\r\n    }\r\n\r\n    public int getMultiplier() {\r\n        return servingsMultiplier;\r\n    }\r\n\r\n    public void setMultiplier(int servingsMultiplier) {\r\n        // can never be less than zero\r\n        this.servingsMultiplier = Math.max(0, servingsMultiplier);\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;Recipe [name=&quot; + name + &quot;, ingredients=&quot; + ingredients + &quot;, directions=&quot; + directions + &quot;]&quot;;\r\n    }\r\n\r\n}\r\n```\r\n\r\nOnly after first working this out, should you then start to create a GUI.\r\n\r\nNow with these guys created, you can create a GUI that works with multiple different recipes, not just one hard-coded recipe.\r\n\r\nNext, I would like to think about how to store recipe information in a file, a file that can be retrieved and used to create Recipe objects in the GUI. \r\n\r\nThere are several ways of handling information &quot;persistance&quot;, this includes the Java Serialization library, but this results in a non-text binary file, one that can only be read and written to by the Java program, and this is not a wise way to represent textual information. \r\n\r\nSo, instead let&#39;s consider &quot;textual serialization&quot;, there are several ways to do this, including writing everything to text using `toString()` methods, and this results in easy to create code for the writing part, but not so easy when it comes to reading the data (deserialization).  A few years ago, I&#39;d recommend using Java&#39;s XML libraries, but more recently, I have been using JSON which requires outside libraries, but which is easier to use with different programming languages, including JavaScript. I like both the GSON and Jackson libraries, but for this simple app, will stick with GSON, which to me seems a little easier.\r\n\r\nSo if we wrote a Recipe object to file using GSON, like so:\r\n\r\nRecipeIO.java\r\n=======\r\n```\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\nimport java.nio.file.StandardOpenOption;\r\n\r\nimport com.google.gson.Gson;\r\nimport com.google.gson.GsonBuilder;\r\n\r\npublic class RecipeIO {\r\n    public static void writeRecipe(String fileName, Recipe recipe) throws IOException {\r\n        Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n        Path path = Paths.get(fileName);\r\n        String text = gson.toJson(recipe);\r\n        Files.writeString(path, text, StandardOpenOption.CREATE);\r\n    }\r\n\r\n    public static Recipe recipeFromGsonFile(String fileName) throws IOException {\r\n        Gson gson = new GsonBuilder().setPrettyPrinting().create();\r\n        String recipeJson = Files.readString(Paths.get(fileName));\r\n        Recipe recipe = gson.fromJson(recipeJson, Recipe.class);\r\n        return recipe;\r\n    }\r\n}\r\n```\t\r\n\r\nIt could create a text file that looked something like this:\r\n\r\n```lang-json\r\n{\r\n  &quot;name&quot;: &quot;Omelet Recipe&quot;,\r\n  &quot;ingredients&quot;: [\r\n    {\r\n      &quot;name&quot;: &quot;Egg&quot;,\r\n      &quot;measureUnit&quot;: &quot;eggs&quot;,\r\n      &quot;measureAmount&quot;: 3\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;Onion&quot;,\r\n      &quot;measureUnit&quot;: &quot;onions&quot;,\r\n      &quot;measureAmount&quot;: 1\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;Garlic&quot;,\r\n      &quot;measureUnit&quot;: &quot;cloves&quot;,\r\n      &quot;measureAmount&quot;: 4\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;Butter&quot;,\r\n      &quot;measureUnit&quot;: &quot;tablespoons&quot;,\r\n      &quot;measureAmount&quot;: 2\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;Diced Ham&quot;,\r\n      &quot;measureUnit&quot;: &quot;ounces&quot;,\r\n      &quot;measureAmount&quot;: 2\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;Shredded Cheese&quot;,\r\n      &quot;measureUnit&quot;: &quot;ounces&quot;,\r\n      &quot;measureAmount&quot;: 2\r\n    },\r\n    {\r\n      &quot;name&quot;: &quot;Milk&quot;,\r\n      &quot;measureUnit&quot;: &quot;tablespoons&quot;,\r\n      &quot;measureAmount&quot;: 2\r\n    }\r\n  ],\r\n  &quot;directions&quot;: [\r\n    &quot;Dice the onions and the garlic.&quot;,\r\n    &quot;Crack the eggs into a mixing bowl and add the milk. &quot;,\r\n    &quot;Whisk the eggs and milk together until well combined. &quot;,\r\n    &quot;Season with a pinch of salt and pepper according to your taste.&quot;,\r\n    &quot;Heat a non-stick frying pan over medium heat. Add the butter or cooking oil and let it melt or heat up.&quot;,\r\n    &quot;Once the butter is melted and the pan is hot, add the diced onions and garlic and saute until clear.&quot;,\r\n    &quot;Next, pour the whisked eggs into the pan, making sure they spread evenly.&quot;,\r\n    &quot;Let the eggs cook for a minute or two until they start to set at the edges.&quot;,\r\n    &quot;Sprinkle the diced ham evenly over the eggs.&quot;,\r\n    &quot;Add the shredded cheese on top of the ham.&quot;,\r\n    &quot;With a spatula, carefully lift one side of the omelet and fold it over the other side, covering the ham and cheese filling. This will create a half-moon shape.&quot;,\r\n    &quot;Cook for another minute or so until the cheese is melted, and the omelet is cooked through. &quot;,\r\n    &quot;You can adjust the cooking time to achieve your desired level of doneness.&quot;,\r\n    &quot;Carefully slide the omelet onto a plate and serve hot.&quot;\r\n  ],\r\n  &quot;servingsMultiplier&quot;: 1\r\n}\r\n```\r\n\r\nThis is pretty straightforward to read and understand, *and* it can be edited in a plain text editor, and without difficulty.\r\n\r\n________________________________________\r\n\r\nSome working GUI code, explanation (and improvement) to follow:\r\n\r\nRecipeMain.java\r\n=============\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Color;\r\nimport java.awt.Component;\r\nimport java.awt.Dimension;\r\nimport java.awt.Font;\r\nimport java.io.IOException;\r\n\r\nimport javax.swing.*;\r\nimport javax.swing.event.ChangeListener;\r\nimport javax.swing.table.AbstractTableModel;\r\nimport javax.swing.table.TableModel;\r\nimport javax.swing.text.PlainDocument;\r\n\r\npublic class RecipeMain {\r\n    private static final String FILE_NAME = &quot;recipe01.txt&quot;;\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            Recipe omelet = null;\r\n\r\n            try {\r\n                omelet = RecipeIO.recipeFromGsonFile(FILE_NAME);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n\r\n            RecipeGuiMainPanel mainPanel = new RecipeGuiMainPanel(omelet);\r\n\r\n            JFrame frame = new JFrame(&quot;Recipe&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.add(mainPanel);\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        });\r\n    }\r\n}\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\nclass RecipeGuiMainPanel extends JPanel {\r\n    private Recipe recipe;\r\n    private RecipePanel recipePanel;\r\n    private DirectionsPanel directionsPanel;\r\n    private ServingsPanel servingsPanel = new ServingsPanel();\r\n\r\n    public RecipeGuiMainPanel(Recipe recipe) {\r\n\r\n        // TODO: put this into a &quot;controller&quot;\r\n        servingsPanel.addChangeListener(cl -&gt; servingsChanged());\r\n\r\n        JLabel titleLabel = new JLabel(recipe.getName(), SwingConstants.CENTER);\r\n        titleLabel.setFont(titleLabel.getFont().deriveFont(Font.BOLD, 24f));\r\n        JPanel titlePanel = new JPanel();\r\n        titlePanel.add(titleLabel);\r\n\r\n        JLabel directionsLabel = new JLabel(&quot;Directions&quot;, SwingConstants.CENTER);\r\n        directionsLabel.setFont(directionsLabel.getFont().deriveFont(Font.BOLD, 18f));\r\n        JPanel directionsLabelPanel = new JPanel();\r\n        directionsLabelPanel.add(directionsLabel);\r\n\r\n        directionsPanel = new DirectionsPanel(recipe);\r\n\r\n        this.recipe = recipe;\r\n        recipePanel = new RecipePanel(recipe);\r\n        setLayout(new BoxLayout(this, BoxLayout.PAGE_AXIS));\r\n        add(titlePanel);\r\n        add(recipePanel);\r\n        add(directionsLabelPanel);\r\n        add(directionsPanel);\r\n        add(servingsPanel);\r\n\r\n        servingsChanged();\r\n    }\r\n\r\n    private void servingsChanged() {\r\n        int servingsMultiplier = servingsPanel.getMultiplierValue();\r\n        recipePanel.setServingsMultiplier(servingsMultiplier);\r\n    }\r\n\r\n    public Recipe getRecipe() {\r\n        return recipe;\r\n    }\r\n}\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\nclass RecipePanel extends JPanel {\r\n    private Recipe recipe;\r\n    private RecipeIngredientsTableModel tableModel;\r\n    private RecipeTable ingredientsTable;\r\n\r\n    public RecipePanel(Recipe recipe) {\r\n        this.recipe = recipe;\r\n        tableModel = new RecipeIngredientsTableModel(recipe);\r\n\r\n        ingredientsTable = new RecipeTable(tableModel);\r\n        JScrollPane ingredientsScrollPane = new JScrollPane(ingredientsTable);\r\n        ingredientsScrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\r\n        setLayout(new BorderLayout());\r\n        add(ingredientsScrollPane);\r\n    }\r\n\r\n    public void setServingsMultiplier(int servingsMultiplier) {\r\n        tableModel.setServingsMultiplier(servingsMultiplier);\r\n    }\r\n\r\n    public Recipe getRecipe() {\r\n        return recipe;\r\n    }\r\n\r\n    public void setRecipe(Recipe recipe) {\r\n        this.recipe = recipe;\r\n    }\r\n\r\n}\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\nclass DirectionsPanel extends JPanel {\r\n    private static final int VISIBLE_ROW_COUNT = 5;\r\n    private DefaultListModel&lt;String&gt; dirListModel = new DefaultListModel&lt;&gt;();\r\n    private JList&lt;String&gt; directionsList = new JList&lt;&gt;(dirListModel);\r\n    private Recipe recipe;\r\n\r\n    public DirectionsPanel(Recipe recipe) {\r\n        this.recipe = recipe;\r\n        directionsList.setVisibleRowCount(VISIBLE_ROW_COUNT);\r\n        // directionsList.setCellRenderer(new CustomRenderer(2, 20));\r\n        // directionsList.setCellRenderer(new MyCellRenderer());\r\n        directionsList.setCellRenderer(new CustomRenderer());\r\n        JScrollPane scrollPane = new JScrollPane(directionsList);\r\n\r\n        for (String direction : recipe.getDirections()) {\r\n            dirListModel.addElement(direction);\r\n        }\r\n\r\n        setLayout(new BorderLayout());\r\n        add(scrollPane);\r\n    }\r\n\r\n    public Recipe getRecipe() {\r\n        return recipe;\r\n    }\r\n\r\n    // borrowing some ideas from Andrew Thompson&#39;s code\r\n    // link: https://stackoverflow.com/a/7306536/\r\n    @SuppressWarnings(&quot;unused&quot;)\r\n    private class CustomRenderer implements ListCellRenderer&lt;String&gt; {\r\n        private static final int LABEL_WIDTH = 300;\r\n        private JLabel label;\r\n\r\n        public CustomRenderer() {\r\n            label = new JLabel();\r\n            int bc = 220;\r\n            Color borderColor = new Color(bc, bc, bc);\r\n            label.setBorder(BorderFactory.createLineBorder(borderColor));\r\n            label.setFont(label.getFont().deriveFont(Font.BOLD));\r\n        }\r\n\r\n        @Override\r\n        public Component getListCellRendererComponent(JList&lt;? extends String&gt; list, String value, int index,\r\n                boolean isSelected, boolean cellHasFocus) {\r\n            int width = list.getWidth();\r\n            String pre = String.format(&quot;&lt;html&gt;&lt;body style=&#39;width: %dpx;&#39;&gt; &quot;, LABEL_WIDTH);\r\n            System.out.println(&quot;width: &quot; + pre);\r\n            String text = pre + &quot; &quot; + &#39;\\u2022&#39; + &quot;  &quot; + value;\r\n            label.setText(text);\r\n            return label;\r\n        }\r\n    }\r\n\r\n}\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\nclass RecipeTable extends JTable {\r\n    private static final int MAX_HEIGHT = 150;\r\n\r\n    public RecipeTable(TableModel tm) {\r\n        super(tm);\r\n    }\r\n\r\n    @Override\r\n    public Dimension getPreferredScrollableViewportSize() {\r\n        Dimension superSize = super.getPreferredScrollableViewportSize();\r\n        int width = superSize.width;\r\n        int height = Math.min(superSize.height, MAX_HEIGHT);\r\n\r\n        return new Dimension(width, height);\r\n    }\r\n}\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\nclass RecipeIngredientsTableModel extends AbstractTableModel {\r\n    private static final String[] COL_HEADERS = { &quot;Name&quot;, &quot;Unit&quot;, &quot;Amount&quot; };\r\n    private Recipe recipe;\r\n\r\n    public RecipeIngredientsTableModel(Recipe recipe) {\r\n        this.recipe = recipe;\r\n    }\r\n\r\n    public void setServingsMultiplier(int servingsMultiplier) {\r\n        recipe.setMultiplier(servingsMultiplier);\r\n        fireTableDataChanged();\r\n    }\r\n\r\n    @Override\r\n    public int getRowCount() {\r\n        return recipe.getIngredients().size();\r\n    }\r\n\r\n    @Override\r\n    public int getColumnCount() {\r\n        return COL_HEADERS.length;\r\n    }\r\n\r\n    public String getColumnName(int column) {\r\n        return COL_HEADERS[column];\r\n    };\r\n\r\n    @Override\r\n    public Object getValueAt(int rowIndex, int columnIndex) {\r\n        Ingredient ingredient = recipe.getIngredients().get(rowIndex);\r\n        switch (columnIndex) {\r\n        case 0:\r\n            return ingredient.getName();\r\n        case 1:\r\n            return ingredient.getMeasureUnit();\r\n        case 2:\r\n            return ingredient.getMeasureAmount() * recipe.getMultiplier();\r\n\r\n        default:\r\n            String message = String.format(&quot;Recipe column index invalid (row, col): [%d, %d]&quot;, rowIndex, columnIndex);\r\n            throw new ArrayIndexOutOfBoundsException(message);\r\n        }\r\n    }\r\n\r\n    public java.lang.Class&lt;?&gt; getColumnClass(int columnIndex) {\r\n        switch (columnIndex) {\r\n        case 0:\r\n        case 1:\r\n            return String.class;\r\n        case 2:\r\n            return Integer.class;\r\n\r\n        default:\r\n            String message = String.format(&quot;Recipe column index invalid (row, col): [%d]&quot;, columnIndex);\r\n            throw new ArrayIndexOutOfBoundsException(message);\r\n        }\r\n    }\r\n\r\n    public void addIngredient(Ingredient ingredient) {\r\n        recipe.addIngredient(ingredient);\r\n        int row = recipe.getIngredientCount() - 1;\r\n        fireTableRowsInserted(row, row);\r\n    }\r\n\r\n}\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\nclass ServingsPanel extends JPanel {\r\n    private static final int STARTING_VALUE = 1;\r\n    private static final int MIN = 0;\r\n    private static final int MAX = 10;\r\n    private static final int STEP = 1;\r\n\r\n    private SpinnerModel model = new SpinnerNumberModel(STARTING_VALUE, MIN, MAX, STEP);\r\n    private JSpinner servingsSpinner = new JSpinner(model);\r\n\r\n    public ServingsPanel() {\r\n        setBorder(BorderFactory.createTitledBorder(&quot;Number of Servings&quot;));\r\n        add(servingsSpinner);\r\n    }\r\n\r\n    public void addChangeListener(ChangeListener changeListener) {\r\n        model.addChangeListener(changeListener);\r\n    }\r\n\r\n    public int getMultiplierValue() {\r\n        return (int) model.getValue();\r\n    }\r\n}\r\n```\r\n\r\n______________________________________________\r\n\r\nI decided to create another, simpler example, one that directly addresses your primary question, that of changing a JLabel from another JPanel. I wanted to show a simpler GUI program, one with a model, view and controller, the key concepts being:\r\n* The model holds the data of the program as well as its fundamental behaviors (methods).\r\n* The view is the GUI display that shows to the user the state of the model, and allows the user the ability to change this state through GUI events\r\n* The controller, which is the glue that holds both model and view together.\r\n\r\nKey also:\r\n* The model should know nothing about the view, meaning, it should be created in a way that would allow it to work with almost any type of view, including a simple console program, a Swing GUI, a JavaFX GUI, an android program, some future user interface yet to be created, ...\r\n* The view should be relatively &quot;dumb&quot;. It should show things and respond to input, but it should off-load the logic to the controller and the view.\r\n* Key is separating the model from the view, and I cannot stress this enough, to have &quot;low coupling&quot; between the two.\r\n* Object oriented fundamentals are much more important than the structure of the view. If you mess up the former in a large complex program, and then have to go back and make corrections and changes, you&#39;re in for a world of pain. If on the other hand your model&#39;s OOP is well-created, and yet you have to fix GUI bugs, that is usually not as difficult. A metaphor could be, it is easier to fix a house&#39;s roof, than it is its foundation.\r\n\r\nSo the program, starting with the model:\r\n\r\nCountModel.java\r\n==============\r\nThis holds a count int variable and a List of ChangeListeners. These listeners are added by outside classes that want to listen for changes to the model. All the listener does is to notify all the listeners via a `stateChanged(...)` method call whenever the model&#39;s value changes. When this happens, the listeners can then get the new result by calling `getCount()` on this model\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport javax.swing.event.ChangeEvent;\r\nimport javax.swing.event.ChangeListener;\r\n\r\npublic class CountModel {\r\n    private int count;\r\n    private List&lt;ChangeListener&gt; changeListeners = new ArrayList&lt;&gt;();\r\n\r\n    public CountModel() {\r\n        count = 0;\r\n    }\r\n\r\n    public int getCount() {\r\n        return count;\r\n    }\r\n\r\n    public void incrementCount() {\r\n        count++;\r\n        notifyListeners();\r\n    }\r\n\r\n    public void decrementCount() {\r\n        count--;\r\n        // can&#39;t be below 0\r\n        count = Math.max(count, 0);\r\n        notifyListeners();\r\n    }\r\n\r\n    private void notifyListeners() {\r\n        ChangeEvent changeEvent = new ChangeEvent(this);\r\n        for (ChangeListener changeListener : changeListeners) {\r\n            changeListener.stateChanged(changeEvent);\r\n        }\r\n    }\r\n\r\n    public void addChangeListener(ChangeListener listener) {\r\n        changeListeners.add(listener);\r\n    }\r\n\r\n}\r\n```\r\n\r\nCountDisplayPanel.java\r\n=============\r\nThis class displays the count value in a JLabel. Note that that is all that this panel does, nothing more nothing less. It does not get input from the user, nothing. An outside class can update its count value by calling the `setCount(...)` method which receives an int, it then formats the int into a 2-digit number String that is then displayed in the countLabel.\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Font;\r\nimport javax.swing.BorderFactory;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.SwingConstants;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class CountDisplayPanel extends JPanel {\r\n    private JLabel countLabel = new JLabel(&quot;00&quot;, SwingConstants.CENTER);\r\n\r\n    public CountDisplayPanel() {\r\n        countLabel.setFont(new Font(Font.DIALOG, Font.BOLD, 48));\r\n        int gap = 30;\r\n        countLabel.setBorder(BorderFactory.createEmptyBorder(gap / 2, gap, gap / 2, gap));\r\n\r\n        setLayout(new BorderLayout());\r\n        add(countLabel);\r\n        add(new JLabel(&quot;Count&quot;, SwingConstants.CENTER), BorderLayout.PAGE_START);\r\n    }\r\n\r\n    public void setCount(int count) {\r\n        String text = String.format(&quot;%02d&quot;, count);\r\n        countLabel.setText(text);\r\n    }\r\n}\r\n```\r\n\r\nIncrementDecrementPanel.java\r\n==========================\r\nThis panel has two buttons, an increment button and a decrement button, that don&#39;t do anything by themselves. An outside class can add ActionListeners to the buttons so that they can be notified of these events via the two `addXxxxListener(...)` methods.\r\n```\r\nimport java.awt.GridLayout;\r\nimport java.awt.event.ActionListener;\r\nimport java.awt.event.KeyEvent;\r\n\r\nimport javax.swing.BorderFactory;\r\nimport javax.swing.JButton;\r\nimport javax.swing.JPanel;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class IncrementDecrementPanel extends JPanel {\r\n    private JButton incrementButton = new JButton(&quot;Increment&quot;);\r\n    private JButton decrementButton = new JButton(&quot;Decrement&quot;);\r\n\r\n    public IncrementDecrementPanel() {\r\n        incrementButton.setMnemonic(KeyEvent.VK_I);\r\n        decrementButton.setMnemonic(KeyEvent.VK_D);\r\n        int gap = 5;\r\n        setBorder(BorderFactory.createEmptyBorder(gap, gap, gap, gap));\r\n        setLayout(new GridLayout(1, 0, gap, gap));\r\n        add(incrementButton);\r\n        add(decrementButton);\r\n    }\r\n\r\n    public void addIncrementListener(ActionListener listener) {\r\n        incrementButton.addActionListener(listener);\r\n    }\r\n\r\n    public void addDecrementListener(ActionListener listener) {\r\n        decrementButton.addActionListener(listener);\r\n    }\r\n}\r\n```\r\n\r\nCountView.java\r\n==============\r\nThis panel holds/displays the two JPanels above and represents the main model. It has no brains of its own -- it does nothing internally to respond to the incr or decr buttons, and it does not directly change the CountDisplayPanel&#39;s JLabel. What it instead does is delegate the key methods of the two sub JPanels to expose them, to allow the controller to be notified and to make changes\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.event.ActionListener;\r\n\r\nimport javax.swing.JPanel;\r\n\r\n@SuppressWarnings(&quot;serial&quot;)\r\npublic class CountView extends JPanel {\r\n    private CountDisplayPanel countDisplayPanel = new CountDisplayPanel();\r\n    private IncrementDecrementPanel incrDecrPanel = new IncrementDecrementPanel();\r\n\r\n    public CountView() {\r\n        setLayout(new BorderLayout());\r\n        add(countDisplayPanel);\r\n        add(incrDecrPanel, BorderLayout.PAGE_END);\r\n    }\r\n\r\n    // delegating methods through to the enclosed objects\r\n    public void setCount(int count) {\r\n        countDisplayPanel.setCount(count);\r\n    }\r\n    \r\n    public void addIncrementListener(ActionListener listener) {\r\n        incrDecrPanel.addIncrementListener(listener);\r\n    }\r\n\r\n    public void addDecrementListener(ActionListener listener) {\r\n        incrDecrPanel.addDecrementListener(listener);\r\n    }\r\n\r\n}\r\n```\r\n\r\nCountController.java\r\n==========================\r\nThis class accepts a CountView object and a CountModel object and allows one to change the other. It adds a change listener to the model, so that if the model&#39;s state changes (the count int variable takes a new value), then the `countChanged()` method is called which extracts the count value, and then places it into the view. This class also attaches action listeners to the incr and decr JButtons so that it is notified of their presses. When this occurs, the corresponding `incrementCount()` or `decrementCount()` method will be callse, and these methods will then notify the view that it needs to change its state.  So information is going through this class from the view into th model, when a button is pressed, and from the model to the view, when the count is changed.\r\n```\r\npublic class CountController {\r\n    CountView view;\r\n    CountModel model;\r\n\r\n    public CountController(CountView view, CountModel model) {\r\n        this.view = view;\r\n        this.model = model;\r\n\r\n        model.addChangeListener(e -&gt; countChanged());\r\n        \r\n        view.addIncrementListener(e -&gt; incrementCount());\r\n        view.addDecrementListener(e -&gt; decrementCount());\r\n    }\r\n\r\n    private void countChanged() {\r\n        int count = model.getCount();\r\n        view.setCount(count);\r\n    }\r\n    \r\n    private void incrementCount() {\r\n        model.incrementCount();\r\n    }\r\n    \r\n    private void decrementCount() {\r\n        model.decrementCount();\r\n    }\r\n\r\n}\r\n```\r\n\r\nSimpleExample.java\r\n================\r\nThe program that puts it all together. Here we create our model and view, we create the controller, passing in the model and the view, and then create a JFrame to display the view. \r\n```\r\nimport javax.swing.*;\r\n\r\npublic class SimpleExample {\r\n\r\n    public static void main(String[] args) {\r\n        SwingUtilities.invokeLater(() -&gt; {\r\n            CountModel model = new CountModel();\r\n            CountView view = new CountView();\r\n            new CountController(view, model);\r\n\r\n            JFrame frame = new JFrame(&quot;Count Example&quot;);\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.add(view);\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        });\r\n    }\r\n}\r\n```\r\n","title":"How to access a JLabel from another class","body":"<p>First things first: Before even thinking of a GUI program, you must think about what the GUI is supposed to represent, what it is displaying, and this information should first be created as object-oriented compliant classes.  For example, say you wanted to create a GUI that displayed recipes, then applying the rule above, we'd first want to create classes that represented a single recipe, one that we can call, perhaps, &quot;Recipe.java&quot;. This could contain a String name field, a List of Strings to represent directions, and a list of ingredients. Ingredients could also be Strings, but if you wanted to be able to fiddle with the measures, best to create an Ingredients class, one with a name, string for a measuring unit, and a number for measured amount.</p>\n<p>These could look something like:</p>\n<h1>Ingredient.java</h1>\n<pre><code>public class Ingredient {\n    private String name;\n    private String measureUnit;\n    private int measureAmount;\n\n    public Ingredient(String name, String measureUnit, int measureAmount) {\n        this.name = name;\n        this.measureUnit = measureUnit;\n        this.measureAmount = measureAmount;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getMeasureUnit() {\n        return measureUnit;\n    }\n\n    public int getMeasureAmount() {\n        return measureAmount;\n    }\n\n    public int getMeasureAmount(int servingsMultiplier) {\n        return servingsMultiplier * measureAmount;\n    }\n\n    public void setMeasureAmount(int measureAmount) {\n        this.measureAmount = measureAmount;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Ingredient [name=&quot; + name + &quot;]&quot;;\n    }\n\n}\n</code></pre>\n<h1>Recipe.java</h1>\n<pre><code>import java.util.List;\n\npublic class Recipe {\n    private String name;\n    private List&lt;Ingredient&gt; ingredients;\n    private List&lt;String&gt; directions;\n    private int servingsMultiplier = 1;\n\n    public Recipe(String name, List&lt;String&gt; directions) {\n        this.name = name;\n        this.directions = directions;\n    }\n\n    public int getIngredientCount() {\n        return ingredients.size();\n    }\n\n    public Recipe(String name, List&lt;String&gt; directions, List&lt;Ingredient&gt; ingredients) {\n        this(name, directions);\n        this.ingredients = ingredients;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public List&lt;String&gt; getDirections() {\n        return directions;\n    }\n    \n    public void addDirection(String dir) {\n        directions.add(dir);\n    }\n    \n    public void addDirection(int index, String dir) {\n        directions.add(index, dir);\n    }\n    \n    public void removeDirection(String dir) {\n        directions.remove(dir);\n    }\n\n    public List&lt;Ingredient&gt; getIngredients() {\n        return ingredients;\n    }\n\n    public void addIngredient(Ingredient ingredient) {\n        ingredients.add(ingredient);\n    }\n\n    public int getMultiplier() {\n        return servingsMultiplier;\n    }\n\n    public void setMultiplier(int servingsMultiplier) {\n        // can never be less than zero\n        this.servingsMultiplier = Math.max(0, servingsMultiplier);\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Recipe [name=&quot; + name + &quot;, ingredients=&quot; + ingredients + &quot;, directions=&quot; + directions + &quot;]&quot;;\n    }\n\n}\n</code></pre>\n<p>Only after first working this out, should you then start to create a GUI.</p>\n<p>Now with these guys created, you can create a GUI that works with multiple different recipes, not just one hard-coded recipe.</p>\n<p>Next, I would like to think about how to store recipe information in a file, a file that can be retrieved and used to create Recipe objects in the GUI.</p>\n<p>There are several ways of handling information &quot;persistance&quot;, this includes the Java Serialization library, but this results in a non-text binary file, one that can only be read and written to by the Java program, and this is not a wise way to represent textual information.</p>\n<p>So, instead let's consider &quot;textual serialization&quot;, there are several ways to do this, including writing everything to text using <code>toString()</code> methods, and this results in easy to create code for the writing part, but not so easy when it comes to reading the data (deserialization).  A few years ago, I'd recommend using Java's XML libraries, but more recently, I have been using JSON which requires outside libraries, but which is easier to use with different programming languages, including JavaScript. I like both the GSON and Jackson libraries, but for this simple app, will stick with GSON, which to me seems a little easier.</p>\n<p>So if we wrote a Recipe object to file using GSON, like so:</p>\n<h1>RecipeIO.java</h1>\n<pre><code>import java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\nimport java.nio.file.StandardOpenOption;\n\nimport com.google.gson.Gson;\nimport com.google.gson.GsonBuilder;\n\npublic class RecipeIO {\n    public static void writeRecipe(String fileName, Recipe recipe) throws IOException {\n        Gson gson = new GsonBuilder().setPrettyPrinting().create();\n        Path path = Paths.get(fileName);\n        String text = gson.toJson(recipe);\n        Files.writeString(path, text, StandardOpenOption.CREATE);\n    }\n\n    public static Recipe recipeFromGsonFile(String fileName) throws IOException {\n        Gson gson = new GsonBuilder().setPrettyPrinting().create();\n        String recipeJson = Files.readString(Paths.get(fileName));\n        Recipe recipe = gson.fromJson(recipeJson, Recipe.class);\n        return recipe;\n    }\n}\n</code></pre>\n<p>It could create a text file that looked something like this:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;name&quot;: &quot;Omelet Recipe&quot;,\n  &quot;ingredients&quot;: [\n    {\n      &quot;name&quot;: &quot;Egg&quot;,\n      &quot;measureUnit&quot;: &quot;eggs&quot;,\n      &quot;measureAmount&quot;: 3\n    },\n    {\n      &quot;name&quot;: &quot;Onion&quot;,\n      &quot;measureUnit&quot;: &quot;onions&quot;,\n      &quot;measureAmount&quot;: 1\n    },\n    {\n      &quot;name&quot;: &quot;Garlic&quot;,\n      &quot;measureUnit&quot;: &quot;cloves&quot;,\n      &quot;measureAmount&quot;: 4\n    },\n    {\n      &quot;name&quot;: &quot;Butter&quot;,\n      &quot;measureUnit&quot;: &quot;tablespoons&quot;,\n      &quot;measureAmount&quot;: 2\n    },\n    {\n      &quot;name&quot;: &quot;Diced Ham&quot;,\n      &quot;measureUnit&quot;: &quot;ounces&quot;,\n      &quot;measureAmount&quot;: 2\n    },\n    {\n      &quot;name&quot;: &quot;Shredded Cheese&quot;,\n      &quot;measureUnit&quot;: &quot;ounces&quot;,\n      &quot;measureAmount&quot;: 2\n    },\n    {\n      &quot;name&quot;: &quot;Milk&quot;,\n      &quot;measureUnit&quot;: &quot;tablespoons&quot;,\n      &quot;measureAmount&quot;: 2\n    }\n  ],\n  &quot;directions&quot;: [\n    &quot;Dice the onions and the garlic.&quot;,\n    &quot;Crack the eggs into a mixing bowl and add the milk. &quot;,\n    &quot;Whisk the eggs and milk together until well combined. &quot;,\n    &quot;Season with a pinch of salt and pepper according to your taste.&quot;,\n    &quot;Heat a non-stick frying pan over medium heat. Add the butter or cooking oil and let it melt or heat up.&quot;,\n    &quot;Once the butter is melted and the pan is hot, add the diced onions and garlic and saute until clear.&quot;,\n    &quot;Next, pour the whisked eggs into the pan, making sure they spread evenly.&quot;,\n    &quot;Let the eggs cook for a minute or two until they start to set at the edges.&quot;,\n    &quot;Sprinkle the diced ham evenly over the eggs.&quot;,\n    &quot;Add the shredded cheese on top of the ham.&quot;,\n    &quot;With a spatula, carefully lift one side of the omelet and fold it over the other side, covering the ham and cheese filling. This will create a half-moon shape.&quot;,\n    &quot;Cook for another minute or so until the cheese is melted, and the omelet is cooked through. &quot;,\n    &quot;You can adjust the cooking time to achieve your desired level of doneness.&quot;,\n    &quot;Carefully slide the omelet onto a plate and serve hot.&quot;\n  ],\n  &quot;servingsMultiplier&quot;: 1\n}\n</code></pre>\n<p>This is pretty straightforward to read and understand, <em>and</em> it can be edited in a plain text editor, and without difficulty.</p>\n<hr />\n<p>Some working GUI code, explanation (and improvement) to follow:</p>\n<h1>RecipeMain.java</h1>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Color;\nimport java.awt.Component;\nimport java.awt.Dimension;\nimport java.awt.Font;\nimport java.io.IOException;\n\nimport javax.swing.*;\nimport javax.swing.event.ChangeListener;\nimport javax.swing.table.AbstractTableModel;\nimport javax.swing.table.TableModel;\nimport javax.swing.text.PlainDocument;\n\npublic class RecipeMain {\n    private static final String FILE_NAME = &quot;recipe01.txt&quot;;\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            Recipe omelet = null;\n\n            try {\n                omelet = RecipeIO.recipeFromGsonFile(FILE_NAME);\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n\n            RecipeGuiMainPanel mainPanel = new RecipeGuiMainPanel(omelet);\n\n            JFrame frame = new JFrame(&quot;Recipe&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.add(mainPanel);\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n}\n\n@SuppressWarnings(&quot;serial&quot;)\nclass RecipeGuiMainPanel extends JPanel {\n    private Recipe recipe;\n    private RecipePanel recipePanel;\n    private DirectionsPanel directionsPanel;\n    private ServingsPanel servingsPanel = new ServingsPanel();\n\n    public RecipeGuiMainPanel(Recipe recipe) {\n\n        // TODO: put this into a &quot;controller&quot;\n        servingsPanel.addChangeListener(cl -&gt; servingsChanged());\n\n        JLabel titleLabel = new JLabel(recipe.getName(), SwingConstants.CENTER);\n        titleLabel.setFont(titleLabel.getFont().deriveFont(Font.BOLD, 24f));\n        JPanel titlePanel = new JPanel();\n        titlePanel.add(titleLabel);\n\n        JLabel directionsLabel = new JLabel(&quot;Directions&quot;, SwingConstants.CENTER);\n        directionsLabel.setFont(directionsLabel.getFont().deriveFont(Font.BOLD, 18f));\n        JPanel directionsLabelPanel = new JPanel();\n        directionsLabelPanel.add(directionsLabel);\n\n        directionsPanel = new DirectionsPanel(recipe);\n\n        this.recipe = recipe;\n        recipePanel = new RecipePanel(recipe);\n        setLayout(new BoxLayout(this, BoxLayout.PAGE_AXIS));\n        add(titlePanel);\n        add(recipePanel);\n        add(directionsLabelPanel);\n        add(directionsPanel);\n        add(servingsPanel);\n\n        servingsChanged();\n    }\n\n    private void servingsChanged() {\n        int servingsMultiplier = servingsPanel.getMultiplierValue();\n        recipePanel.setServingsMultiplier(servingsMultiplier);\n    }\n\n    public Recipe getRecipe() {\n        return recipe;\n    }\n}\n\n@SuppressWarnings(&quot;serial&quot;)\nclass RecipePanel extends JPanel {\n    private Recipe recipe;\n    private RecipeIngredientsTableModel tableModel;\n    private RecipeTable ingredientsTable;\n\n    public RecipePanel(Recipe recipe) {\n        this.recipe = recipe;\n        tableModel = new RecipeIngredientsTableModel(recipe);\n\n        ingredientsTable = new RecipeTable(tableModel);\n        JScrollPane ingredientsScrollPane = new JScrollPane(ingredientsTable);\n        ingredientsScrollPane.setVerticalScrollBarPolicy(JScrollPane.VERTICAL_SCROLLBAR_ALWAYS);\n        setLayout(new BorderLayout());\n        add(ingredientsScrollPane);\n    }\n\n    public void setServingsMultiplier(int servingsMultiplier) {\n        tableModel.setServingsMultiplier(servingsMultiplier);\n    }\n\n    public Recipe getRecipe() {\n        return recipe;\n    }\n\n    public void setRecipe(Recipe recipe) {\n        this.recipe = recipe;\n    }\n\n}\n\n@SuppressWarnings(&quot;serial&quot;)\nclass DirectionsPanel extends JPanel {\n    private static final int VISIBLE_ROW_COUNT = 5;\n    private DefaultListModel&lt;String&gt; dirListModel = new DefaultListModel&lt;&gt;();\n    private JList&lt;String&gt; directionsList = new JList&lt;&gt;(dirListModel);\n    private Recipe recipe;\n\n    public DirectionsPanel(Recipe recipe) {\n        this.recipe = recipe;\n        directionsList.setVisibleRowCount(VISIBLE_ROW_COUNT);\n        // directionsList.setCellRenderer(new CustomRenderer(2, 20));\n        // directionsList.setCellRenderer(new MyCellRenderer());\n        directionsList.setCellRenderer(new CustomRenderer());\n        JScrollPane scrollPane = new JScrollPane(directionsList);\n\n        for (String direction : recipe.getDirections()) {\n            dirListModel.addElement(direction);\n        }\n\n        setLayout(new BorderLayout());\n        add(scrollPane);\n    }\n\n    public Recipe getRecipe() {\n        return recipe;\n    }\n\n    // borrowing some ideas from Andrew Thompson's code\n    // link: https://stackoverflow.com/a/7306536/\n    @SuppressWarnings(&quot;unused&quot;)\n    private class CustomRenderer implements ListCellRenderer&lt;String&gt; {\n        private static final int LABEL_WIDTH = 300;\n        private JLabel label;\n\n        public CustomRenderer() {\n            label = new JLabel();\n            int bc = 220;\n            Color borderColor = new Color(bc, bc, bc);\n            label.setBorder(BorderFactory.createLineBorder(borderColor));\n            label.setFont(label.getFont().deriveFont(Font.BOLD));\n        }\n\n        @Override\n        public Component getListCellRendererComponent(JList&lt;? extends String&gt; list, String value, int index,\n                boolean isSelected, boolean cellHasFocus) {\n            int width = list.getWidth();\n            String pre = String.format(&quot;&lt;html&gt;&lt;body style='width: %dpx;'&gt; &quot;, LABEL_WIDTH);\n            System.out.println(&quot;width: &quot; + pre);\n            String text = pre + &quot; &quot; + '\\u2022' + &quot;  &quot; + value;\n            label.setText(text);\n            return label;\n        }\n    }\n\n}\n\n@SuppressWarnings(&quot;serial&quot;)\nclass RecipeTable extends JTable {\n    private static final int MAX_HEIGHT = 150;\n\n    public RecipeTable(TableModel tm) {\n        super(tm);\n    }\n\n    @Override\n    public Dimension getPreferredScrollableViewportSize() {\n        Dimension superSize = super.getPreferredScrollableViewportSize();\n        int width = superSize.width;\n        int height = Math.min(superSize.height, MAX_HEIGHT);\n\n        return new Dimension(width, height);\n    }\n}\n\n@SuppressWarnings(&quot;serial&quot;)\nclass RecipeIngredientsTableModel extends AbstractTableModel {\n    private static final String[] COL_HEADERS = { &quot;Name&quot;, &quot;Unit&quot;, &quot;Amount&quot; };\n    private Recipe recipe;\n\n    public RecipeIngredientsTableModel(Recipe recipe) {\n        this.recipe = recipe;\n    }\n\n    public void setServingsMultiplier(int servingsMultiplier) {\n        recipe.setMultiplier(servingsMultiplier);\n        fireTableDataChanged();\n    }\n\n    @Override\n    public int getRowCount() {\n        return recipe.getIngredients().size();\n    }\n\n    @Override\n    public int getColumnCount() {\n        return COL_HEADERS.length;\n    }\n\n    public String getColumnName(int column) {\n        return COL_HEADERS[column];\n    };\n\n    @Override\n    public Object getValueAt(int rowIndex, int columnIndex) {\n        Ingredient ingredient = recipe.getIngredients().get(rowIndex);\n        switch (columnIndex) {\n        case 0:\n            return ingredient.getName();\n        case 1:\n            return ingredient.getMeasureUnit();\n        case 2:\n            return ingredient.getMeasureAmount() * recipe.getMultiplier();\n\n        default:\n            String message = String.format(&quot;Recipe column index invalid (row, col): [%d, %d]&quot;, rowIndex, columnIndex);\n            throw new ArrayIndexOutOfBoundsException(message);\n        }\n    }\n\n    public java.lang.Class&lt;?&gt; getColumnClass(int columnIndex) {\n        switch (columnIndex) {\n        case 0:\n        case 1:\n            return String.class;\n        case 2:\n            return Integer.class;\n\n        default:\n            String message = String.format(&quot;Recipe column index invalid (row, col): [%d]&quot;, columnIndex);\n            throw new ArrayIndexOutOfBoundsException(message);\n        }\n    }\n\n    public void addIngredient(Ingredient ingredient) {\n        recipe.addIngredient(ingredient);\n        int row = recipe.getIngredientCount() - 1;\n        fireTableRowsInserted(row, row);\n    }\n\n}\n\n@SuppressWarnings(&quot;serial&quot;)\nclass ServingsPanel extends JPanel {\n    private static final int STARTING_VALUE = 1;\n    private static final int MIN = 0;\n    private static final int MAX = 10;\n    private static final int STEP = 1;\n\n    private SpinnerModel model = new SpinnerNumberModel(STARTING_VALUE, MIN, MAX, STEP);\n    private JSpinner servingsSpinner = new JSpinner(model);\n\n    public ServingsPanel() {\n        setBorder(BorderFactory.createTitledBorder(&quot;Number of Servings&quot;));\n        add(servingsSpinner);\n    }\n\n    public void addChangeListener(ChangeListener changeListener) {\n        model.addChangeListener(changeListener);\n    }\n\n    public int getMultiplierValue() {\n        return (int) model.getValue();\n    }\n}\n</code></pre>\n<hr />\n<p>I decided to create another, simpler example, one that directly addresses your primary question, that of changing a JLabel from another JPanel. I wanted to show a simpler GUI program, one with a model, view and controller, the key concepts being:</p>\n<ul>\n<li>The model holds the data of the program as well as its fundamental behaviors (methods).</li>\n<li>The view is the GUI display that shows to the user the state of the model, and allows the user the ability to change this state through GUI events</li>\n<li>The controller, which is the glue that holds both model and view together.</li>\n</ul>\n<p>Key also:</p>\n<ul>\n<li>The model should know nothing about the view, meaning, it should be created in a way that would allow it to work with almost any type of view, including a simple console program, a Swing GUI, a JavaFX GUI, an android program, some future user interface yet to be created, ...</li>\n<li>The view should be relatively &quot;dumb&quot;. It should show things and respond to input, but it should off-load the logic to the controller and the view.</li>\n<li>Key is separating the model from the view, and I cannot stress this enough, to have &quot;low coupling&quot; between the two.</li>\n<li>Object oriented fundamentals are much more important than the structure of the view. If you mess up the former in a large complex program, and then have to go back and make corrections and changes, you're in for a world of pain. If on the other hand your model's OOP is well-created, and yet you have to fix GUI bugs, that is usually not as difficult. A metaphor could be, it is easier to fix a house's roof, than it is its foundation.</li>\n</ul>\n<p>So the program, starting with the model:</p>\n<h1>CountModel.java</h1>\n<p>This holds a count int variable and a List of ChangeListeners. These listeners are added by outside classes that want to listen for changes to the model. All the listener does is to notify all the listeners via a <code>stateChanged(...)</code> method call whenever the model's value changes. When this happens, the listeners can then get the new result by calling <code>getCount()</code> on this model</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\nimport javax.swing.event.ChangeEvent;\nimport javax.swing.event.ChangeListener;\n\npublic class CountModel {\n    private int count;\n    private List&lt;ChangeListener&gt; changeListeners = new ArrayList&lt;&gt;();\n\n    public CountModel() {\n        count = 0;\n    }\n\n    public int getCount() {\n        return count;\n    }\n\n    public void incrementCount() {\n        count++;\n        notifyListeners();\n    }\n\n    public void decrementCount() {\n        count--;\n        // can't be below 0\n        count = Math.max(count, 0);\n        notifyListeners();\n    }\n\n    private void notifyListeners() {\n        ChangeEvent changeEvent = new ChangeEvent(this);\n        for (ChangeListener changeListener : changeListeners) {\n            changeListener.stateChanged(changeEvent);\n        }\n    }\n\n    public void addChangeListener(ChangeListener listener) {\n        changeListeners.add(listener);\n    }\n\n}\n</code></pre>\n<h1>CountDisplayPanel.java</h1>\n<p>This class displays the count value in a JLabel. Note that that is all that this panel does, nothing more nothing less. It does not get input from the user, nothing. An outside class can update its count value by calling the <code>setCount(...)</code> method which receives an int, it then formats the int into a 2-digit number String that is then displayed in the countLabel.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Font;\nimport javax.swing.BorderFactory;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\nimport javax.swing.SwingConstants;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class CountDisplayPanel extends JPanel {\n    private JLabel countLabel = new JLabel(&quot;00&quot;, SwingConstants.CENTER);\n\n    public CountDisplayPanel() {\n        countLabel.setFont(new Font(Font.DIALOG, Font.BOLD, 48));\n        int gap = 30;\n        countLabel.setBorder(BorderFactory.createEmptyBorder(gap / 2, gap, gap / 2, gap));\n\n        setLayout(new BorderLayout());\n        add(countLabel);\n        add(new JLabel(&quot;Count&quot;, SwingConstants.CENTER), BorderLayout.PAGE_START);\n    }\n\n    public void setCount(int count) {\n        String text = String.format(&quot;%02d&quot;, count);\n        countLabel.setText(text);\n    }\n}\n</code></pre>\n<h1>IncrementDecrementPanel.java</h1>\n<p>This panel has two buttons, an increment button and a decrement button, that don't do anything by themselves. An outside class can add ActionListeners to the buttons so that they can be notified of these events via the two <code>addXxxxListener(...)</code> methods.</p>\n<pre><code>import java.awt.GridLayout;\nimport java.awt.event.ActionListener;\nimport java.awt.event.KeyEvent;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JPanel;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class IncrementDecrementPanel extends JPanel {\n    private JButton incrementButton = new JButton(&quot;Increment&quot;);\n    private JButton decrementButton = new JButton(&quot;Decrement&quot;);\n\n    public IncrementDecrementPanel() {\n        incrementButton.setMnemonic(KeyEvent.VK_I);\n        decrementButton.setMnemonic(KeyEvent.VK_D);\n        int gap = 5;\n        setBorder(BorderFactory.createEmptyBorder(gap, gap, gap, gap));\n        setLayout(new GridLayout(1, 0, gap, gap));\n        add(incrementButton);\n        add(decrementButton);\n    }\n\n    public void addIncrementListener(ActionListener listener) {\n        incrementButton.addActionListener(listener);\n    }\n\n    public void addDecrementListener(ActionListener listener) {\n        decrementButton.addActionListener(listener);\n    }\n}\n</code></pre>\n<h1>CountView.java</h1>\n<p>This panel holds/displays the two JPanels above and represents the main model. It has no brains of its own -- it does nothing internally to respond to the incr or decr buttons, and it does not directly change the CountDisplayPanel's JLabel. What it instead does is delegate the key methods of the two sub JPanels to expose them, to allow the controller to be notified and to make changes</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.event.ActionListener;\n\nimport javax.swing.JPanel;\n\n@SuppressWarnings(&quot;serial&quot;)\npublic class CountView extends JPanel {\n    private CountDisplayPanel countDisplayPanel = new CountDisplayPanel();\n    private IncrementDecrementPanel incrDecrPanel = new IncrementDecrementPanel();\n\n    public CountView() {\n        setLayout(new BorderLayout());\n        add(countDisplayPanel);\n        add(incrDecrPanel, BorderLayout.PAGE_END);\n    }\n\n    // delegating methods through to the enclosed objects\n    public void setCount(int count) {\n        countDisplayPanel.setCount(count);\n    }\n    \n    public void addIncrementListener(ActionListener listener) {\n        incrDecrPanel.addIncrementListener(listener);\n    }\n\n    public void addDecrementListener(ActionListener listener) {\n        incrDecrPanel.addDecrementListener(listener);\n    }\n\n}\n</code></pre>\n<h1>CountController.java</h1>\n<p>This class accepts a CountView object and a CountModel object and allows one to change the other. It adds a change listener to the model, so that if the model's state changes (the count int variable takes a new value), then the <code>countChanged()</code> method is called which extracts the count value, and then places it into the view. This class also attaches action listeners to the incr and decr JButtons so that it is notified of their presses. When this occurs, the corresponding <code>incrementCount()</code> or <code>decrementCount()</code> method will be callse, and these methods will then notify the view that it needs to change its state.  So information is going through this class from the view into th model, when a button is pressed, and from the model to the view, when the count is changed.</p>\n<pre><code>public class CountController {\n    CountView view;\n    CountModel model;\n\n    public CountController(CountView view, CountModel model) {\n        this.view = view;\n        this.model = model;\n\n        model.addChangeListener(e -&gt; countChanged());\n        \n        view.addIncrementListener(e -&gt; incrementCount());\n        view.addDecrementListener(e -&gt; decrementCount());\n    }\n\n    private void countChanged() {\n        int count = model.getCount();\n        view.setCount(count);\n    }\n    \n    private void incrementCount() {\n        model.incrementCount();\n    }\n    \n    private void decrementCount() {\n        model.decrementCount();\n    }\n\n}\n</code></pre>\n<h1>SimpleExample.java</h1>\n<p>The program that puts it all together. Here we create our model and view, we create the controller, passing in the model and the view, and then create a JFrame to display the view.</p>\n<pre><code>import javax.swing.*;\n\npublic class SimpleExample {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(() -&gt; {\n            CountModel model = new CountModel();\n            CountView view = new CountView();\n            new CountController(view, model);\n\n            JFrame frame = new JFrame(&quot;Count Example&quot;);\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.add(view);\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":969721,"reputation":344527,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690765402,"creation_date":1690765402,"answer_id":76800161,"question_id":76795639,"body_markdown":"The &quot;simple&quot; answer to your question could be answered by reading (and understanding) [Passing Information to a Method or a Constructor](https://docs.oracle.com/javase/tutorial/java/javaOO/arguments.html) however, you seem to be digging yourself into a hole which isn&#39;t helping you achieve what you seem to want to achieve.\r\n\r\n**Important**, the following isn&#39;t a &quot;answer&quot; per se, but more of a directional change which will, in the long run, help you achieve the things you want.\r\n\r\n\r\n# The &quot;Data&quot;\r\n\r\nThe first thing you want to do is seperate the &quot;date&quot; from the &quot;interface&quot;.  The data should drive the UI, not the other way round.  You also need to beware, it&#39;s the UI&#39;s responsibility to &quot;display&quot; the data, so your data should avoid providing &quot;display&quot; information (like `toString`).\r\n\r\nLets start with some very basic concepts.  You have a recipe, a recipe has a number of measurements of an ingredient.\r\n\r\nFor convince, recipes could be grouped into &quot;books&quot;.\r\n\r\nThese concepts might look something like this...\r\n\r\n    public enum Unit {\r\n        CUP, MILLI_LETER, EACH, GRAMS, TEA_SPOON\r\n    }\r\n\r\n    public interface Measurement {\r\n        public double getQuantity();\r\n        public Unit getUnit();\r\n    }\r\n\r\n    public interface Ingredient {\r\n        public String getName();\r\n        public Measurement getMeasurement();\r\n\r\n        public static String ALMOND_FLOUR = &quot;Almond Flour&quot;;\r\n        public static String ALL_PURPOSE_FLOUR = &quot;All Purpose Flour&quot;;\r\n        public static String UNSALTED_BUTTER = &quot;Unsalted Butter&quot;;\r\n        public static String BAKING_SODA = &quot;Baking Soda&quot;;\r\n        public static String BAKING_POWDER = &quot;Baking Powder&quot;;\r\n        public static String VANILLA_EXTRACT = &quot;Vanilla Extract&quot;;\r\n        public static String COCOA_POWDER = &quot;Cocoa Powder&quot;;\r\n        public static String SALT = &quot;Salt&quot;;\r\n        public static String CHOCOLATE_CHIPS = &quot;Chocolate Chips&quot;;\r\n        public static String INSTANT_ESPRESSO = &quot;Instant Espresso&quot;;\r\n        public static String VEGETABLE_OIL = &quot;Vegetable Oil&quot;;\r\n        public static String BANANAS = &quot;Bananas&quot;;\r\n        public static String GRANULATED_SUGAR = &quot;Granulated Sugar&quot;;\r\n        public static String POWDERED_SUGAR = &quot;Powdered Sugar&quot;;\r\n        public static String LIGHT_BROWN_SUGAR = &quot;Light Brown Sugar&quot;;\r\n        public static String EGG = &quot;Egg&quot;;\r\n        public static String EGG_WHITE = &quot;Egg White&quot;;\r\n    }\r\n\r\n    public interface Recipe {\r\n        public String getName();\r\n        public Ingredient[] getIngredients();\r\n    }\r\n\r\n    public interface RecipeBook {\r\n        public String getName();\r\n        public Recipe[] getRecipes();\r\n    }\r\n\r\nThe use of `enum` for the `Unit` will restrict the acceptable units.  You might find you need more units and you&#39;d expand the concept here.\r\n\r\nYou should note a unit might be represented differently, for example &quot;liter&quot; and &quot;milli-liters&quot;.  Personally, I&#39;d avoid having both and instead choice one and then have some kind of converter/formatter which could better render the result, for example `0.5` liters would be displayed as `500 mls` - this is a very important point.  The way the data is stored and the way the data is displayed should be independent from each other and it&#39;s not the responsibility of the data to dictate presentation.\r\n\r\nNow, the above makes use of `interfaces` which describe functionality.  This supports the [Hide Implementation Details](https://java-design-patterns.com/principles/#hide-implementation-details) principle.\r\n\r\nYour code should not care how a `Recipe` is implemented, only that it provides the functionality described by the interface.  This is often termed as a &quot;contract&quot;.\r\n\r\nThis means that a `Recipe` could be build manually, or come from a database or web service, but the code that uses it simply doesn&#39;t care.\r\n\r\nBut, we will need some implementations, so should start with some &quot;default&quot; implementations for our needs...\r\n\r\n    public class DefaultMeasurement implements Measurement {\r\n        private double quantity;\r\n        private Unit unit;\r\n\r\n        public DefaultMeasurement(double quantity, Unit unit) {\r\n            this.quantity = quantity;\r\n            this.unit = unit;\r\n        }\r\n\r\n        @Override\r\n        public double getQuantity() {\r\n            return quantity;\r\n        }\r\n\r\n        @Override\r\n        public Unit getUnit() {\r\n            return unit;\r\n        }\r\n\r\n    }\r\n\r\n    public class DefaultIngredient implements Ingredient {\r\n        private String name;\r\n        private Measurement measurement;\r\n\r\n        public DefaultIngredient(String name, Measurement measurement) {\r\n            this.name = name;\r\n            this.measurement = measurement;\r\n        }\r\n\r\n        @Override\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        @Override\r\n        public Measurement getMeasurement() {\r\n            return measurement;\r\n        }\r\n    }\r\n\r\n    public class DefaultRecipe implements Recipe {\r\n        private String name;\r\n        private Ingredient[] ingredients;\r\n\r\n        public DefaultRecipe(String name, Ingredient[] ingredients) {\r\n            this.name = name;\r\n            this.ingredients = ingredients;\r\n        }\r\n\r\n        @Override\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        @Override\r\n        public Ingredient[] getIngredients() {\r\n            return ingredients;\r\n        }\r\n    }\r\n    \r\n    public class DefaultRecipeBook implements RecipeBook {\r\n        private String name;\r\n        private Recipe[] recipes;\r\n\r\n        public DefaultRecipeBook(String name, Recipe[] recipes) {\r\n            this.name = name;\r\n            this.recipes = recipes;\r\n        }\r\n\r\n        @Override\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        @Override\r\n        public Recipe[] getRecipes() {\r\n            return recipes;\r\n        }\r\n    }\r\n\r\nThese aren&#39;t anything special, but do provide us with a starting point.\r\n\r\nUp till now, we&#39;ve not done any UI work.  In fact, you could take the above code and make a console app out of them or they could form the bases for web service or web app, they are decoupled, making them, re-usable!\r\n\r\nNow, we need to start making some decisions.  For example, we could build up some default recipes and books, maybe doing something like...\r\n\r\n    public class RecipeBuilder {\r\n        private String name;\r\n        private List&lt;Ingredient&gt; ingredients = new ArrayList&lt;&gt;(8);\r\n\r\n        public RecipeBuilder(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public RecipeBuilder with(Ingredient ingredient) {\r\n            getIngredients().add(ingredient);\r\n            return this;\r\n        }\r\n\r\n        protected String getName() {\r\n            return name;\r\n        }\r\n\r\n        protected List&lt;Ingredient&gt; getIngredients() {\r\n            return ingredients;\r\n        }\r\n\r\n        public Recipe build() {\r\n            List&lt;Ingredient&gt; ingredients = getIngredients();\r\n            return new DefaultRecipe(getName(), ingredients.toArray(new Ingredient[ingredients.size()]));\r\n        }\r\n    }\r\n\r\n    public class GrandmasRecipeBook extends DefaultRecipeBook {\r\n        public GrandmasRecipeBook() {\r\n            super(&quot;Grandmas&quot;,\r\n                    new Recipe[]{\r\n                        new RecipeBuilder(&quot;Banana Bread&quot;)\r\n                                .with(new DefaultIngredient(Ingredient.BANANAS, new DefaultMeasurement(6, Unit.EACH)))\r\n                                .with(new DefaultIngredient(Ingredient.UNSALTED_BUTTER, new DefaultMeasurement(30, Unit.GRAMS)))\r\n                                .with(new DefaultIngredient(Ingredient.GRANULATED_SUGAR, new DefaultMeasurement(0.75, Unit.CUP)))\r\n                                .with(new DefaultIngredient(Ingredient.ALL_PURPOSE_FLOUR, new DefaultMeasurement(1, Unit.CUP)))\r\n                                .with(new DefaultIngredient(Ingredient.BAKING_SODA, new DefaultMeasurement(1, Unit.TEA_SPOON)))\r\n                                .with(new DefaultIngredient(Ingredient.SALT, new DefaultMeasurement(1, Unit.TEA_SPOON)))\r\n                                .with(new DefaultIngredient(Ingredient.VANILLA_EXTRACT, new DefaultMeasurement(1, Unit.TEA_SPOON)))\r\n                                .build()\r\n                    });\r\n        }\r\n    }\r\n\r\nHere, we&#39;ve used a [builder pattern](https://www.digitalocean.com/community/tutorials/builder-design-pattern-in-java) to make it easier to build up a concept of a `Recipe`, again, it&#39;s de-coupled in the fact that the underlying implementation of `Recipe` is unknown to the caller ... and the caller doesn&#39;t care.\r\n\r\nI will note, however, this does contradict the [Composition Over Inheritance](https://java-design-patterns.com/principles/#composition-over-inheritance) principle, so you need to beware, sometimes doing this can be considered an anti-pattern, so, instead, I&#39;ll do something different.\r\n\r\n# Making it pretty (ie the UI)\r\n\r\nUp until till now, we&#39;ve not touched the UI at all, let&#39;s take a look at how that might work...\r\n\r\n    public class RecipeLibraryPane extends JPanel {\r\n        protected enum View {\r\n            RECIPE_BOOKS,\r\n            RECIPE_BOOK_CONTENTS,\r\n            RECIPE,\r\n        }\r\n        private CardLayout cardLayout;\r\n\r\n        private RecipesListPane recipesListPane;\r\n        private RecipeBookPane recipeBookPane;\r\n        private RecipePane recipePane;\r\n\r\n        public RecipeLibraryPane(RecipeBook[] books) {\r\n            cardLayout = new CardLayout();\r\n\r\n            recipesListPane = new RecipesListPane(\r\n                    books,\r\n                    new RecipesListPane.Observer() {\r\n                @Override\r\n                public void didSelectRecipeBook(RecipesListPane source, RecipeBook book) {\r\n                    recipeBookPane.setRecipeBook(book);\r\n                    show(View.RECIPE_BOOK_CONTENTS);\r\n                }\r\n            });\r\n\r\n            recipeBookPane = new RecipeBookPane(new RecipeBookPane.Observer() {\r\n                @Override\r\n                public void didSelectRecipe(RecipeBookPane source, Recipe recipe) {\r\n                    recipePane.setRecipe(recipe);\r\n                    show(View.RECIPE);\r\n                }\r\n\r\n                @Override\r\n                public void didNavigateBack(RecipeBookPane source) {\r\n                    show(View.RECIPE_BOOKS);\r\n                }\r\n            });\r\n            \r\n            recipePane = new RecipePane(\r\n                    new RecipePane.Observer() {\r\n                @Override\r\n                public void didNavigateBack(RecipePane source) {\r\n                    show(View.RECIPE_BOOK_CONTENTS);\r\n                }\r\n            });\r\n\r\n            setLayout(cardLayout);\r\n            add(recipesListPane, View.RECIPE_BOOKS);\r\n            add(recipeBookPane, View.RECIPE_BOOK_CONTENTS);\r\n            add(recipePane, View.RECIPE);\r\n\r\n            show(View.RECIPE_BOOKS);\r\n        }\r\n\r\n        protected void add(Component comp, View view) {\r\n            add(comp, view.name());\r\n        }\r\n\r\n        protected void show(View view) {\r\n            cardLayout.show(this, view.name());\r\n        }\r\n    }\r\n\r\nThis is the primary UI.  It manages the navigation between the different views.  I&#39;ve used a `enum` (and some convenience methods) to manage the views because I will ALWAYS mistype the view names &#128580;.\r\n\r\nAlso note, the list of books is passed to the UI, supporting [dependency injection](https://www.vogella.com/tutorials/DependencyInjection/article.html)\r\n\r\n    // Encapsulate some of the re-usable workflows\r\n    public class LabelFactory {\r\n        public enum Style {\r\n            TITLE,\r\n            SUB_TITLE,\r\n            DEFAULT;\r\n        }\r\n        private String text;\r\n        private Style style;\r\n\r\n        public LabelFactory(String text) {\r\n            this.text = text;\r\n        }\r\n\r\n        protected Style getStyle() {\r\n            return style;\r\n        }\r\n\r\n        protected String getText() {\r\n            return text;\r\n        }\r\n\r\n        public LabelFactory with(Style style) {\r\n            this.style = style;\r\n            return this;\r\n        }\r\n\r\n        public JLabel build() {\r\n            JLabel label = new JLabel(getText());\r\n            Font font = label.getFont();\r\n            switch (getStyle()) {\r\n                case TITLE:\r\n                    label.setFont(font.deriveFont(Font.BOLD, font.getSize() * 3));\r\n                    break;\r\n                case SUB_TITLE:\r\n                    label.setFont(font.deriveFont(Font.BOLD, font.getSize() * 2));\r\n                    break;\r\n            }\r\n            return label;\r\n        }\r\n    }\r\n\r\nI found myself wanting to modify some of the text, so I used a &quot;factory&quot; to generate labels with different styles.  Because we&#39;re relying on the default label font and size, we&#39;re actually getting some dynamic support, always nice.\r\n\r\n    public class RecipesListPane extends JPanel {\r\n        public interface Observer {\r\n            public void didSelectRecipeBook(RecipesListPane source, RecipeBook book);\r\n        }\r\n\r\n        private JList&lt;RecipeBook&gt; recipesList;\r\n\r\n        public RecipesListPane(RecipeBook[] recipeBooks, Observer observer) {\r\n            recipesList = new JList&lt;&gt;(recipeBooks);\r\n            recipesList.setCellRenderer(new RecipeBookListCellRender());\r\n\r\n            setLayout(new BorderLayout());\r\n            add(new LabelFactory(&quot;Recipes&quot;).with(LabelFactory.Style.TITLE).build(), BorderLayout.NORTH);\r\n            add(new JScrollPane(recipesList));\r\n\r\n            recipesList.addListSelectionListener(new ListSelectionListener() {\r\n                @Override\r\n                public void valueChanged(ListSelectionEvent e) {\r\n                    RecipeBook book = recipesList.getSelectedValue();\r\n                    if (book == null) {\r\n                        return;\r\n                    }\r\n                    observer.didSelectRecipeBook(RecipesListPane.this, book);\r\n                    recipesList.setSelectedValue(null, false);\r\n                }\r\n            });\r\n        }\r\n\r\n        public class RecipeBookListCellRender extends DefaultListCellRenderer {\r\n            @Override\r\n            public Component getListCellRendererComponent(JList&lt;?&gt; list, Object value, int index, boolean isSelected, boolean cellHasFocus) {\r\n                if (value instanceof RecipeBook) {\r\n                    RecipeBook book = (RecipeBook) value;\r\n                    value = book.getName();\r\n                }\r\n                return super.getListCellRendererComponent(list, value, index, isSelected, cellHasFocus);\r\n            }\r\n        }\r\n    }\r\n\r\nThis displays the list of recipe books (ie it&#39;s a book case!).  Please note, I&#39;ve enclosed the renderer within the class, you might find it more useful to have this class separated into it&#39;s own context which would make it more re-usable.  But also note, the renderer is been used to make choices about &quot;how&quot; the books are displayed to the user.\r\n\r\nFor example, you could add support for images at some point in the future and the renderer could then be updated to display them if and when you wanted to.\r\n\r\n    public class RecipeBookPane extends JPanel {\r\n        public interface Observer {\r\n            public void didSelectRecipe(RecipeBookPane source, Recipe recipe);\r\n\r\n            public void didNavigateBack(RecipeBookPane source);\r\n        }\r\n\r\n        private JList&lt;Recipe&gt; recipesList;\r\n        private JLabel recipeBookTitleLabel;\r\n\r\n        public RecipeBookPane(Observer observer) {\r\n            recipesList = new JList&lt;&gt;();\r\n            recipesList.setCellRenderer(new RecipeListCellRender());\r\n\r\n            setLayout(new BorderLayout());\r\n\r\n            JButton backButton = new JButton(&quot;&lt;&quot;);\r\n            backButton.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    observer.didNavigateBack(RecipeBookPane.this);\r\n                }\r\n            });\r\n\r\n            JPanel titlePane = new JPanel(new GridBagLayout());\r\n            GridBagConstraints gbc = new GridBagConstraints();\r\n            gbc.weightx = 1;\r\n            gbc.anchor = GridBagConstraints.LINE_START;\r\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n\r\n            recipeBookTitleLabel = new LabelFactory(&quot;Book title goes here&quot;)\r\n                    .with(LabelFactory.Style.TITLE)\r\n                    .build();\r\n\r\n            titlePane.add(backButton, gbc);\r\n\r\n            gbc.fill = GridBagConstraints.HORIZONTAL;\r\n            titlePane.add(recipeBookTitleLabel, gbc);\r\n            titlePane.add(new LabelFactory(&quot;Recipe Book&quot;).with(LabelFactory.Style.SUB_TITLE).build(), gbc);\r\n\r\n            add(titlePane, BorderLayout.NORTH);\r\n            add(new JScrollPane(recipesList));\r\n\r\n            recipesList.addListSelectionListener(new ListSelectionListener() {\r\n                @Override\r\n                public void valueChanged(ListSelectionEvent e) {\r\n                    Recipe recipe = recipesList.getSelectedValue();\r\n                    if (recipe == null) {\r\n                        return;\r\n                    }\r\n                    observer.didSelectRecipe(RecipeBookPane.this, recipe);\r\n                    recipesList.setSelectedValue(null, false);\r\n                }\r\n            });\r\n        }\r\n\r\n        public void setRecipeBook(RecipeBook book) {\r\n            // Because this is dynamic, this could have an adverse effect on the\r\n            // packed size of the window, just beware\r\n            recipeBookTitleLabel.setText(book.getName());\r\n            DefaultListModel model = new DefaultListModel&lt;Recipe&gt;();\r\n            for (Recipe recipe : book.getRecipes()) {\r\n                model.addElement(recipe);\r\n            }\r\n            recipesList.setModel(model);\r\n        }\r\n\r\n        public class RecipeListCellRender extends DefaultListCellRenderer {\r\n            @Override\r\n            public Component getListCellRendererComponent(JList&lt;?&gt; list, Object value, int index, boolean isSelected, boolean cellHasFocus) {\r\n                if (value instanceof Recipe) {\r\n                    Recipe book = (Recipe) value;\r\n                    value = book.getName();\r\n                }\r\n                return super.getListCellRendererComponent(list, value, index, isSelected, cellHasFocus);\r\n            }\r\n        }\r\n    }\r\n\r\nThis simply displays all the recipes for a given book.  Normally I&#39;d use [dependency Injection](https://www.digitalocean.com/community/tutorials/java-dependency-injection-design-pattern-example-tutorial) and pass the `RecipeBook` via the constructor, but that&#39;s not really how `CardLayout` works (you could make it work that way, but it becomes messy), so instead, the `RecipeBook` is passed via a setter.\r\n\r\n    public class RecipePane extends JPanel {\r\n        public interface Observer {\r\n            public void didNavigateBack(RecipePane source);\r\n        }\r\n\r\n        private JList&lt;Recipe&gt; inredientsList;\r\n        private JLabel recipeTitleLabel;\r\n\r\n        public RecipePane(Observer observer) {\r\n            inredientsList = new JList&lt;&gt;();\r\n            inredientsList.setCellRenderer(new IngredientListCellRender());\r\n\r\n            setLayout(new BorderLayout());\r\n\r\n            JButton backButton = new JButton(&quot;&lt;&quot;);\r\n            backButton.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    observer.didNavigateBack(RecipePane.this);\r\n                }\r\n            });\r\n            JPanel titlePane = new JPanel(new GridBagLayout());\r\n            GridBagConstraints gbc = new GridBagConstraints();\r\n            gbc.weightx = 1;\r\n            gbc.anchor = GridBagConstraints.LINE_START;\r\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n\r\n            recipeTitleLabel = new LabelFactory(&quot;Recipe title goes here&quot;)\r\n                    .with(LabelFactory.Style.TITLE)\r\n                    .build();\r\n\r\n            titlePane.add(backButton, gbc);\r\n            gbc.fill = GridBagConstraints.HORIZONTAL;\r\n            titlePane.add(recipeTitleLabel, gbc);\r\n            titlePane.add(new LabelFactory(&quot;Recipe Book&quot;).with(LabelFactory.Style.SUB_TITLE).build(), gbc);\r\n\r\n            add(titlePane, BorderLayout.NORTH);\r\n            add(new JScrollPane(inredientsList));\r\n\r\n            inredientsList.addListSelectionListener(new ListSelectionListener() {\r\n                @Override\r\n                public void valueChanged(ListSelectionEvent e) {\r\n                }\r\n            });\r\n        }\r\n\r\n        public void setRecipe(Recipe recipe) {\r\n            // Because this is dynamic, this could have an adverse effect on the\r\n            // packed size of the window, just beware\r\n            recipeTitleLabel.setText(recipe.getName());\r\n            DefaultListModel model = new DefaultListModel&lt;Recipe&gt;();\r\n            for (Ingredient ingredient : recipe.getIngredients()) {\r\n                model.addElement(ingredient);\r\n            }\r\n            inredientsList.setModel(model);\r\n        }\r\n\r\n        public class IngredientListCellRender extends DefaultListCellRenderer {\r\n            private NumberFormat formatter;\r\n\r\n            public IngredientListCellRender() {\r\n                formatter = NumberFormat.getNumberInstance();\r\n                formatter.setMinimumFractionDigits(0);\r\n            }\r\n\r\n            @Override\r\n            public Component getListCellRendererComponent(JList&lt;?&gt; list, Object value, int index, boolean isSelected, boolean cellHasFocus) {\r\n                if (value instanceof Ingredient) {\r\n                    // You could, very easily, decouple the formatting of the\r\n                    // ingredients and units to there own format implementations,\r\n                    // allowing a greater level of flexibility in how\r\n                    // certain elements are formatted.  You could then use\r\n                    // dependency injection to pass the formatter(s) into this\r\n                    // class, allowing for a greater level of customisation\r\n                    Ingredient ingredient = (Ingredient) value;\r\n                    Measurement measurement = ingredient.getMeasurement();\r\n                    StringBuilder sb = new StringBuilder(64);\r\n                    sb.append(formatter.format(measurement.getQuantity()))\r\n                            .append(&quot; &quot;);\r\n                    switch (measurement.getUnit()) {\r\n                        case CUP:\r\n                            sb.append(&quot; Cups &quot;);\r\n                            break;\r\n                        case GRAMS:\r\n                            sb.append(&quot; Grams &quot;);\r\n                            break;\r\n                        case MILLI_LETER:\r\n                            sb.append(&quot; mls &quot;);\r\n                            break;\r\n                        case TEA_SPOON:\r\n                            sb.append(&quot; Tea spoons &quot;);\r\n                            break;\r\n                    }\r\n                    sb.append(ingredient.getName());\r\n\r\n                    value = sb.toString();\r\n                }\r\n                return super.getListCellRendererComponent(list, value, index, isSelected, cellHasFocus);\r\n            }\r\n        }\r\n    }\r\n\r\nAnd finally, the recipe itself, displaying the ingredients.\r\n\r\nThere&#39;s a repeating pattern here, can you see it?  The &quot;back&quot; button implementation is been repeated!\r\n\r\nWhile not serious, it is something that could come back to haunt us if we choice to change the navigation workflow, so, instead, lets try and seperate it.\r\n\r\n    public class NavigationPane extends JPanel {\r\n        public interface Observer {\r\n            public void didNavigateBack(NavigationPane source);\r\n        }\r\n\r\n        private JButton backButton;\r\n        private Observer observer;\r\n\r\n        public NavigationPane(JPanel content, Observer observer) {\r\n            this.observer = observer;\r\n            setLayout(new BorderLayout());\r\n\r\n            JPanel navigationPane = new JPanel(new GridBagLayout());\r\n            GridBagConstraints gbc = new GridBagConstraints();\r\n            gbc.weightx = 1;\r\n            gbc.anchor = GridBagConstraints.LINE_START;\r\n            navigationPane.add(getBackButton(), gbc);\r\n\r\n            add(navigationPane, BorderLayout.NORTH);\r\n            add(content);\r\n        }\r\n\r\n        public JButton getBackButton() {\r\n            if (backButton != null) {\r\n                return backButton;\r\n            }\r\n            backButton = new JButton(&quot;&lt;&quot;);\r\n            backButton.addActionListener(new ActionListener() {\r\n                @Override\r\n                public void actionPerformed(ActionEvent e) {\r\n                    navigateBack();\r\n                }\r\n            });\r\n            return backButton;\r\n        }\r\n\r\n        public Observer getObserver() {\r\n            return observer;\r\n        }\r\n\r\n        protected void navigateBack() {\r\n            Observer observer = getObserver();\r\n            if (observer == null) {\r\n                return;\r\n            }\r\n            observer.didNavigateBack(this);\r\n        }\r\n    }\r\n\r\nThis is a pretty simple wrapper class which simply wraps the navigation UI around a pre-existing UI element.\r\n\r\nWe can start by changing the `RecipePane` to remove the navigation workflow...\r\n\r\n    public class RecipePane extends JPanel {\r\n    \t//...\r\n        public RecipePane() {\r\n            inredientsList = new JList&lt;&gt;();\r\n            inredientsList.setCellRenderer(new IngredientListCellRender());\r\n\r\n            setLayout(new BorderLayout());\r\n            JPanel titlePane = new JPanel(new GridBagLayout());\r\n            GridBagConstraints gbc = new GridBagConstraints();\r\n            gbc.weightx = 1;\r\n            gbc.anchor = GridBagConstraints.LINE_START;\r\n            gbc.gridwidth = GridBagConstraints.REMAINDER;\r\n\r\n            recipeTitleLabel = new LabelFactory(&quot;Recipe title goes here&quot;)\r\n                    .with(LabelFactory.Style.TITLE)\r\n                    .build();\r\n\r\n            gbc.fill = GridBagConstraints.HORIZONTAL;\r\n            titlePane.add(recipeTitleLabel, gbc);\r\n            titlePane.add(new LabelFactory(&quot;Recipe Book&quot;).with(LabelFactory.Style.SUB_TITLE).build(), gbc);\r\n\r\n            add(titlePane, BorderLayout.NORTH);\r\n            add(new JScrollPane(inredientsList));\r\n\r\n            inredientsList.addListSelectionListener(new ListSelectionListener() {\r\n                @Override\r\n                public void valueChanged(ListSelectionEvent e) {\r\n                    // Do you want to do something here?!\r\n                }\r\n            });\r\n        }\r\n        //...\r\n    }\r\n\r\nAnd update the `RecipeLibraryPane` to support it...\r\n\r\n    public class RecipeLibraryPane extends JPanel {\r\n    \t//...\r\n        public RecipeLibraryPane(RecipeBook[] books) {\r\n        \t//...\r\n            recipePane = new RecipePane();\r\n            //...\r\n            add(new NavigationPane(recipePane, new NavigationPane.Observer() {\r\n                @Override\r\n                public void didNavigateBack(NavigationPane source) {\r\n                    show(View.RECIPE_BOOK_CONTENTS);\r\n                }\r\n            }), View.RECIPE);\r\n            //...\r\n        }\r\n    }\r\n\r\nAnd now we&#39;re better supporting the [Single Responsibility Principle](https://www.baeldung.com/java-single-responsibility-principle) (as the navigation UI is been managed by a seperate class independent from the other class, which really didn&#39;t care about navigation)\r\n\r\n*(nb: I&#39;ve not changed `RecipeBookPane` to support this, I&#39;ll leave that to you)*\r\n\r\nAnd finally, how do we actually launch this UI?  Maybe by place something like...\r\n\r\n    EventQueue.invokeLater(new Runnable() {\r\n        @Override\r\n        public void run() {\r\n            RecipeBook[] books = new RecipeBook[]{\r\n                new DefaultRecipeBook(\r\n                &quot;Grandmas&quot;,\r\n                new Recipe[]{\r\n                    new RecipeBuilder(&quot;Banana Bread&quot;)\r\n                    .with(new DefaultIngredient(Ingredient.BANANAS, new DefaultMeasurement(6, Unit.EACH)))\r\n                    .with(new DefaultIngredient(Ingredient.UNSALTED_BUTTER, new DefaultMeasurement(30, Unit.GRAMS)))\r\n                    .with(new DefaultIngredient(Ingredient.GRANULATED_SUGAR, new DefaultMeasurement(0.75, Unit.CUP)))\r\n                    .with(new DefaultIngredient(Ingredient.ALL_PURPOSE_FLOUR, new DefaultMeasurement(1, Unit.CUP)))\r\n                    .with(new DefaultIngredient(Ingredient.BAKING_SODA, new DefaultMeasurement(1, Unit.TEA_SPOON)))\r\n                    .with(new DefaultIngredient(Ingredient.SALT, new DefaultMeasurement(1, Unit.TEA_SPOON)))\r\n                    .with(new DefaultIngredient(Ingredient.VANILLA_EXTRACT, new DefaultMeasurement(1, Unit.TEA_SPOON)))\r\n                    .build()\r\n                })\r\n            };\r\n\r\n            JFrame frame = new JFrame();\r\n            frame.add(new RecipeLibraryPane(books));\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        }\r\n    });\r\n\r\ninto your `main` method.\r\n\r\nYou should also take the time to have a read of:\r\n* [Java Design Patterns/Separation of Concerns](https://java-design-patterns.com/principles/#separation-of-concerns)\r\n* [Java Design Patterns/Minimise Coupling](https://java-design-patterns.com/principles/#minimise-coupling)\r\n* Actually just have a read through [Java Design Patterns](https://java-design-patterns.com/principles) generally\r\n* [MVC Design Pattern](https://www.geeksforgeeks.org/mvc-design-pattern/)\r\n* [Java SE Application Design With MVC](https://www.oracle.com/technical-resources/articles/javase/mvc.html)\r\n* [How to Implement MVC Architecture in Java?](https://medium.com/edureka/mvc-architecture-in-java-a85952ae2684)\r\n","title":"How to access a JLabel from another class","body":"<p>The &quot;simple&quot; answer to your question could be answered by reading (and understanding) <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/arguments.html\" rel=\"nofollow noreferrer\">Passing Information to a Method or a Constructor</a> however, you seem to be digging yourself into a hole which isn't helping you achieve what you seem to want to achieve.</p>\n<p><strong>Important</strong>, the following isn't a &quot;answer&quot; per se, but more of a directional change which will, in the long run, help you achieve the things you want.</p>\n<h1>The &quot;Data&quot;</h1>\n<p>The first thing you want to do is seperate the &quot;date&quot; from the &quot;interface&quot;.  The data should drive the UI, not the other way round.  You also need to beware, it's the UI's responsibility to &quot;display&quot; the data, so your data should avoid providing &quot;display&quot; information (like <code>toString</code>).</p>\n<p>Lets start with some very basic concepts.  You have a recipe, a recipe has a number of measurements of an ingredient.</p>\n<p>For convince, recipes could be grouped into &quot;books&quot;.</p>\n<p>These concepts might look something like this...</p>\n<pre><code>public enum Unit {\n    CUP, MILLI_LETER, EACH, GRAMS, TEA_SPOON\n}\n\npublic interface Measurement {\n    public double getQuantity();\n    public Unit getUnit();\n}\n\npublic interface Ingredient {\n    public String getName();\n    public Measurement getMeasurement();\n\n    public static String ALMOND_FLOUR = &quot;Almond Flour&quot;;\n    public static String ALL_PURPOSE_FLOUR = &quot;All Purpose Flour&quot;;\n    public static String UNSALTED_BUTTER = &quot;Unsalted Butter&quot;;\n    public static String BAKING_SODA = &quot;Baking Soda&quot;;\n    public static String BAKING_POWDER = &quot;Baking Powder&quot;;\n    public static String VANILLA_EXTRACT = &quot;Vanilla Extract&quot;;\n    public static String COCOA_POWDER = &quot;Cocoa Powder&quot;;\n    public static String SALT = &quot;Salt&quot;;\n    public static String CHOCOLATE_CHIPS = &quot;Chocolate Chips&quot;;\n    public static String INSTANT_ESPRESSO = &quot;Instant Espresso&quot;;\n    public static String VEGETABLE_OIL = &quot;Vegetable Oil&quot;;\n    public static String BANANAS = &quot;Bananas&quot;;\n    public static String GRANULATED_SUGAR = &quot;Granulated Sugar&quot;;\n    public static String POWDERED_SUGAR = &quot;Powdered Sugar&quot;;\n    public static String LIGHT_BROWN_SUGAR = &quot;Light Brown Sugar&quot;;\n    public static String EGG = &quot;Egg&quot;;\n    public static String EGG_WHITE = &quot;Egg White&quot;;\n}\n\npublic interface Recipe {\n    public String getName();\n    public Ingredient[] getIngredients();\n}\n\npublic interface RecipeBook {\n    public String getName();\n    public Recipe[] getRecipes();\n}\n</code></pre>\n<p>The use of <code>enum</code> for the <code>Unit</code> will restrict the acceptable units.  You might find you need more units and you'd expand the concept here.</p>\n<p>You should note a unit might be represented differently, for example &quot;liter&quot; and &quot;milli-liters&quot;.  Personally, I'd avoid having both and instead choice one and then have some kind of converter/formatter which could better render the result, for example <code>0.5</code> liters would be displayed as <code>500 mls</code> - this is a very important point.  The way the data is stored and the way the data is displayed should be independent from each other and it's not the responsibility of the data to dictate presentation.</p>\n<p>Now, the above makes use of <code>interfaces</code> which describe functionality.  This supports the <a href=\"https://java-design-patterns.com/principles/#hide-implementation-details\" rel=\"nofollow noreferrer\">Hide Implementation Details</a> principle.</p>\n<p>Your code should not care how a <code>Recipe</code> is implemented, only that it provides the functionality described by the interface.  This is often termed as a &quot;contract&quot;.</p>\n<p>This means that a <code>Recipe</code> could be build manually, or come from a database or web service, but the code that uses it simply doesn't care.</p>\n<p>But, we will need some implementations, so should start with some &quot;default&quot; implementations for our needs...</p>\n<pre><code>public class DefaultMeasurement implements Measurement {\n    private double quantity;\n    private Unit unit;\n\n    public DefaultMeasurement(double quantity, Unit unit) {\n        this.quantity = quantity;\n        this.unit = unit;\n    }\n\n    @Override\n    public double getQuantity() {\n        return quantity;\n    }\n\n    @Override\n    public Unit getUnit() {\n        return unit;\n    }\n\n}\n\npublic class DefaultIngredient implements Ingredient {\n    private String name;\n    private Measurement measurement;\n\n    public DefaultIngredient(String name, Measurement measurement) {\n        this.name = name;\n        this.measurement = measurement;\n    }\n\n    @Override\n    public String getName() {\n        return name;\n    }\n\n    @Override\n    public Measurement getMeasurement() {\n        return measurement;\n    }\n}\n\npublic class DefaultRecipe implements Recipe {\n    private String name;\n    private Ingredient[] ingredients;\n\n    public DefaultRecipe(String name, Ingredient[] ingredients) {\n        this.name = name;\n        this.ingredients = ingredients;\n    }\n\n    @Override\n    public String getName() {\n        return name;\n    }\n\n    @Override\n    public Ingredient[] getIngredients() {\n        return ingredients;\n    }\n}\n\npublic class DefaultRecipeBook implements RecipeBook {\n    private String name;\n    private Recipe[] recipes;\n\n    public DefaultRecipeBook(String name, Recipe[] recipes) {\n        this.name = name;\n        this.recipes = recipes;\n    }\n\n    @Override\n    public String getName() {\n        return name;\n    }\n\n    @Override\n    public Recipe[] getRecipes() {\n        return recipes;\n    }\n}\n</code></pre>\n<p>These aren't anything special, but do provide us with a starting point.</p>\n<p>Up till now, we've not done any UI work.  In fact, you could take the above code and make a console app out of them or they could form the bases for web service or web app, they are decoupled, making them, re-usable!</p>\n<p>Now, we need to start making some decisions.  For example, we could build up some default recipes and books, maybe doing something like...</p>\n<pre><code>public class RecipeBuilder {\n    private String name;\n    private List&lt;Ingredient&gt; ingredients = new ArrayList&lt;&gt;(8);\n\n    public RecipeBuilder(String name) {\n        this.name = name;\n    }\n\n    public RecipeBuilder with(Ingredient ingredient) {\n        getIngredients().add(ingredient);\n        return this;\n    }\n\n    protected String getName() {\n        return name;\n    }\n\n    protected List&lt;Ingredient&gt; getIngredients() {\n        return ingredients;\n    }\n\n    public Recipe build() {\n        List&lt;Ingredient&gt; ingredients = getIngredients();\n        return new DefaultRecipe(getName(), ingredients.toArray(new Ingredient[ingredients.size()]));\n    }\n}\n\npublic class GrandmasRecipeBook extends DefaultRecipeBook {\n    public GrandmasRecipeBook() {\n        super(&quot;Grandmas&quot;,\n                new Recipe[]{\n                    new RecipeBuilder(&quot;Banana Bread&quot;)\n                            .with(new DefaultIngredient(Ingredient.BANANAS, new DefaultMeasurement(6, Unit.EACH)))\n                            .with(new DefaultIngredient(Ingredient.UNSALTED_BUTTER, new DefaultMeasurement(30, Unit.GRAMS)))\n                            .with(new DefaultIngredient(Ingredient.GRANULATED_SUGAR, new DefaultMeasurement(0.75, Unit.CUP)))\n                            .with(new DefaultIngredient(Ingredient.ALL_PURPOSE_FLOUR, new DefaultMeasurement(1, Unit.CUP)))\n                            .with(new DefaultIngredient(Ingredient.BAKING_SODA, new DefaultMeasurement(1, Unit.TEA_SPOON)))\n                            .with(new DefaultIngredient(Ingredient.SALT, new DefaultMeasurement(1, Unit.TEA_SPOON)))\n                            .with(new DefaultIngredient(Ingredient.VANILLA_EXTRACT, new DefaultMeasurement(1, Unit.TEA_SPOON)))\n                            .build()\n                });\n    }\n}\n</code></pre>\n<p>Here, we've used a <a href=\"https://www.digitalocean.com/community/tutorials/builder-design-pattern-in-java\" rel=\"nofollow noreferrer\">builder pattern</a> to make it easier to build up a concept of a <code>Recipe</code>, again, it's de-coupled in the fact that the underlying implementation of <code>Recipe</code> is unknown to the caller ... and the caller doesn't care.</p>\n<p>I will note, however, this does contradict the <a href=\"https://java-design-patterns.com/principles/#composition-over-inheritance\" rel=\"nofollow noreferrer\">Composition Over Inheritance</a> principle, so you need to beware, sometimes doing this can be considered an anti-pattern, so, instead, I'll do something different.</p>\n<h1>Making it pretty (ie the UI)</h1>\n<p>Up until till now, we've not touched the UI at all, let's take a look at how that might work...</p>\n<pre><code>public class RecipeLibraryPane extends JPanel {\n    protected enum View {\n        RECIPE_BOOKS,\n        RECIPE_BOOK_CONTENTS,\n        RECIPE,\n    }\n    private CardLayout cardLayout;\n\n    private RecipesListPane recipesListPane;\n    private RecipeBookPane recipeBookPane;\n    private RecipePane recipePane;\n\n    public RecipeLibraryPane(RecipeBook[] books) {\n        cardLayout = new CardLayout();\n\n        recipesListPane = new RecipesListPane(\n                books,\n                new RecipesListPane.Observer() {\n            @Override\n            public void didSelectRecipeBook(RecipesListPane source, RecipeBook book) {\n                recipeBookPane.setRecipeBook(book);\n                show(View.RECIPE_BOOK_CONTENTS);\n            }\n        });\n\n        recipeBookPane = new RecipeBookPane(new RecipeBookPane.Observer() {\n            @Override\n            public void didSelectRecipe(RecipeBookPane source, Recipe recipe) {\n                recipePane.setRecipe(recipe);\n                show(View.RECIPE);\n            }\n\n            @Override\n            public void didNavigateBack(RecipeBookPane source) {\n                show(View.RECIPE_BOOKS);\n            }\n        });\n        \n        recipePane = new RecipePane(\n                new RecipePane.Observer() {\n            @Override\n            public void didNavigateBack(RecipePane source) {\n                show(View.RECIPE_BOOK_CONTENTS);\n            }\n        });\n\n        setLayout(cardLayout);\n        add(recipesListPane, View.RECIPE_BOOKS);\n        add(recipeBookPane, View.RECIPE_BOOK_CONTENTS);\n        add(recipePane, View.RECIPE);\n\n        show(View.RECIPE_BOOKS);\n    }\n\n    protected void add(Component comp, View view) {\n        add(comp, view.name());\n    }\n\n    protected void show(View view) {\n        cardLayout.show(this, view.name());\n    }\n}\n</code></pre>\n<p>This is the primary UI.  It manages the navigation between the different views.  I've used a <code>enum</code> (and some convenience methods) to manage the views because I will ALWAYS mistype the view names 🙄.</p>\n<p>Also note, the list of books is passed to the UI, supporting <a href=\"https://www.vogella.com/tutorials/DependencyInjection/article.html\" rel=\"nofollow noreferrer\">dependency injection</a></p>\n<pre><code>// Encapsulate some of the re-usable workflows\npublic class LabelFactory {\n    public enum Style {\n        TITLE,\n        SUB_TITLE,\n        DEFAULT;\n    }\n    private String text;\n    private Style style;\n\n    public LabelFactory(String text) {\n        this.text = text;\n    }\n\n    protected Style getStyle() {\n        return style;\n    }\n\n    protected String getText() {\n        return text;\n    }\n\n    public LabelFactory with(Style style) {\n        this.style = style;\n        return this;\n    }\n\n    public JLabel build() {\n        JLabel label = new JLabel(getText());\n        Font font = label.getFont();\n        switch (getStyle()) {\n            case TITLE:\n                label.setFont(font.deriveFont(Font.BOLD, font.getSize() * 3));\n                break;\n            case SUB_TITLE:\n                label.setFont(font.deriveFont(Font.BOLD, font.getSize() * 2));\n                break;\n        }\n        return label;\n    }\n}\n</code></pre>\n<p>I found myself wanting to modify some of the text, so I used a &quot;factory&quot; to generate labels with different styles.  Because we're relying on the default label font and size, we're actually getting some dynamic support, always nice.</p>\n<pre><code>public class RecipesListPane extends JPanel {\n    public interface Observer {\n        public void didSelectRecipeBook(RecipesListPane source, RecipeBook book);\n    }\n\n    private JList&lt;RecipeBook&gt; recipesList;\n\n    public RecipesListPane(RecipeBook[] recipeBooks, Observer observer) {\n        recipesList = new JList&lt;&gt;(recipeBooks);\n        recipesList.setCellRenderer(new RecipeBookListCellRender());\n\n        setLayout(new BorderLayout());\n        add(new LabelFactory(&quot;Recipes&quot;).with(LabelFactory.Style.TITLE).build(), BorderLayout.NORTH);\n        add(new JScrollPane(recipesList));\n\n        recipesList.addListSelectionListener(new ListSelectionListener() {\n            @Override\n            public void valueChanged(ListSelectionEvent e) {\n                RecipeBook book = recipesList.getSelectedValue();\n                if (book == null) {\n                    return;\n                }\n                observer.didSelectRecipeBook(RecipesListPane.this, book);\n                recipesList.setSelectedValue(null, false);\n            }\n        });\n    }\n\n    public class RecipeBookListCellRender extends DefaultListCellRenderer {\n        @Override\n        public Component getListCellRendererComponent(JList&lt;?&gt; list, Object value, int index, boolean isSelected, boolean cellHasFocus) {\n            if (value instanceof RecipeBook) {\n                RecipeBook book = (RecipeBook) value;\n                value = book.getName();\n            }\n            return super.getListCellRendererComponent(list, value, index, isSelected, cellHasFocus);\n        }\n    }\n}\n</code></pre>\n<p>This displays the list of recipe books (ie it's a book case!).  Please note, I've enclosed the renderer within the class, you might find it more useful to have this class separated into it's own context which would make it more re-usable.  But also note, the renderer is been used to make choices about &quot;how&quot; the books are displayed to the user.</p>\n<p>For example, you could add support for images at some point in the future and the renderer could then be updated to display them if and when you wanted to.</p>\n<pre><code>public class RecipeBookPane extends JPanel {\n    public interface Observer {\n        public void didSelectRecipe(RecipeBookPane source, Recipe recipe);\n\n        public void didNavigateBack(RecipeBookPane source);\n    }\n\n    private JList&lt;Recipe&gt; recipesList;\n    private JLabel recipeBookTitleLabel;\n\n    public RecipeBookPane(Observer observer) {\n        recipesList = new JList&lt;&gt;();\n        recipesList.setCellRenderer(new RecipeListCellRender());\n\n        setLayout(new BorderLayout());\n\n        JButton backButton = new JButton(&quot;&lt;&quot;);\n        backButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                observer.didNavigateBack(RecipeBookPane.this);\n            }\n        });\n\n        JPanel titlePane = new JPanel(new GridBagLayout());\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.weightx = 1;\n        gbc.anchor = GridBagConstraints.LINE_START;\n        gbc.gridwidth = GridBagConstraints.REMAINDER;\n\n        recipeBookTitleLabel = new LabelFactory(&quot;Book title goes here&quot;)\n                .with(LabelFactory.Style.TITLE)\n                .build();\n\n        titlePane.add(backButton, gbc);\n\n        gbc.fill = GridBagConstraints.HORIZONTAL;\n        titlePane.add(recipeBookTitleLabel, gbc);\n        titlePane.add(new LabelFactory(&quot;Recipe Book&quot;).with(LabelFactory.Style.SUB_TITLE).build(), gbc);\n\n        add(titlePane, BorderLayout.NORTH);\n        add(new JScrollPane(recipesList));\n\n        recipesList.addListSelectionListener(new ListSelectionListener() {\n            @Override\n            public void valueChanged(ListSelectionEvent e) {\n                Recipe recipe = recipesList.getSelectedValue();\n                if (recipe == null) {\n                    return;\n                }\n                observer.didSelectRecipe(RecipeBookPane.this, recipe);\n                recipesList.setSelectedValue(null, false);\n            }\n        });\n    }\n\n    public void setRecipeBook(RecipeBook book) {\n        // Because this is dynamic, this could have an adverse effect on the\n        // packed size of the window, just beware\n        recipeBookTitleLabel.setText(book.getName());\n        DefaultListModel model = new DefaultListModel&lt;Recipe&gt;();\n        for (Recipe recipe : book.getRecipes()) {\n            model.addElement(recipe);\n        }\n        recipesList.setModel(model);\n    }\n\n    public class RecipeListCellRender extends DefaultListCellRenderer {\n        @Override\n        public Component getListCellRendererComponent(JList&lt;?&gt; list, Object value, int index, boolean isSelected, boolean cellHasFocus) {\n            if (value instanceof Recipe) {\n                Recipe book = (Recipe) value;\n                value = book.getName();\n            }\n            return super.getListCellRendererComponent(list, value, index, isSelected, cellHasFocus);\n        }\n    }\n}\n</code></pre>\n<p>This simply displays all the recipes for a given book.  Normally I'd use <a href=\"https://www.digitalocean.com/community/tutorials/java-dependency-injection-design-pattern-example-tutorial\" rel=\"nofollow noreferrer\">dependency Injection</a> and pass the <code>RecipeBook</code> via the constructor, but that's not really how <code>CardLayout</code> works (you could make it work that way, but it becomes messy), so instead, the <code>RecipeBook</code> is passed via a setter.</p>\n<pre><code>public class RecipePane extends JPanel {\n    public interface Observer {\n        public void didNavigateBack(RecipePane source);\n    }\n\n    private JList&lt;Recipe&gt; inredientsList;\n    private JLabel recipeTitleLabel;\n\n    public RecipePane(Observer observer) {\n        inredientsList = new JList&lt;&gt;();\n        inredientsList.setCellRenderer(new IngredientListCellRender());\n\n        setLayout(new BorderLayout());\n\n        JButton backButton = new JButton(&quot;&lt;&quot;);\n        backButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                observer.didNavigateBack(RecipePane.this);\n            }\n        });\n        JPanel titlePane = new JPanel(new GridBagLayout());\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.weightx = 1;\n        gbc.anchor = GridBagConstraints.LINE_START;\n        gbc.gridwidth = GridBagConstraints.REMAINDER;\n\n        recipeTitleLabel = new LabelFactory(&quot;Recipe title goes here&quot;)\n                .with(LabelFactory.Style.TITLE)\n                .build();\n\n        titlePane.add(backButton, gbc);\n        gbc.fill = GridBagConstraints.HORIZONTAL;\n        titlePane.add(recipeTitleLabel, gbc);\n        titlePane.add(new LabelFactory(&quot;Recipe Book&quot;).with(LabelFactory.Style.SUB_TITLE).build(), gbc);\n\n        add(titlePane, BorderLayout.NORTH);\n        add(new JScrollPane(inredientsList));\n\n        inredientsList.addListSelectionListener(new ListSelectionListener() {\n            @Override\n            public void valueChanged(ListSelectionEvent e) {\n            }\n        });\n    }\n\n    public void setRecipe(Recipe recipe) {\n        // Because this is dynamic, this could have an adverse effect on the\n        // packed size of the window, just beware\n        recipeTitleLabel.setText(recipe.getName());\n        DefaultListModel model = new DefaultListModel&lt;Recipe&gt;();\n        for (Ingredient ingredient : recipe.getIngredients()) {\n            model.addElement(ingredient);\n        }\n        inredientsList.setModel(model);\n    }\n\n    public class IngredientListCellRender extends DefaultListCellRenderer {\n        private NumberFormat formatter;\n\n        public IngredientListCellRender() {\n            formatter = NumberFormat.getNumberInstance();\n            formatter.setMinimumFractionDigits(0);\n        }\n\n        @Override\n        public Component getListCellRendererComponent(JList&lt;?&gt; list, Object value, int index, boolean isSelected, boolean cellHasFocus) {\n            if (value instanceof Ingredient) {\n                // You could, very easily, decouple the formatting of the\n                // ingredients and units to there own format implementations,\n                // allowing a greater level of flexibility in how\n                // certain elements are formatted.  You could then use\n                // dependency injection to pass the formatter(s) into this\n                // class, allowing for a greater level of customisation\n                Ingredient ingredient = (Ingredient) value;\n                Measurement measurement = ingredient.getMeasurement();\n                StringBuilder sb = new StringBuilder(64);\n                sb.append(formatter.format(measurement.getQuantity()))\n                        .append(&quot; &quot;);\n                switch (measurement.getUnit()) {\n                    case CUP:\n                        sb.append(&quot; Cups &quot;);\n                        break;\n                    case GRAMS:\n                        sb.append(&quot; Grams &quot;);\n                        break;\n                    case MILLI_LETER:\n                        sb.append(&quot; mls &quot;);\n                        break;\n                    case TEA_SPOON:\n                        sb.append(&quot; Tea spoons &quot;);\n                        break;\n                }\n                sb.append(ingredient.getName());\n\n                value = sb.toString();\n            }\n            return super.getListCellRendererComponent(list, value, index, isSelected, cellHasFocus);\n        }\n    }\n}\n</code></pre>\n<p>And finally, the recipe itself, displaying the ingredients.</p>\n<p>There's a repeating pattern here, can you see it?  The &quot;back&quot; button implementation is been repeated!</p>\n<p>While not serious, it is something that could come back to haunt us if we choice to change the navigation workflow, so, instead, lets try and seperate it.</p>\n<pre><code>public class NavigationPane extends JPanel {\n    public interface Observer {\n        public void didNavigateBack(NavigationPane source);\n    }\n\n    private JButton backButton;\n    private Observer observer;\n\n    public NavigationPane(JPanel content, Observer observer) {\n        this.observer = observer;\n        setLayout(new BorderLayout());\n\n        JPanel navigationPane = new JPanel(new GridBagLayout());\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.weightx = 1;\n        gbc.anchor = GridBagConstraints.LINE_START;\n        navigationPane.add(getBackButton(), gbc);\n\n        add(navigationPane, BorderLayout.NORTH);\n        add(content);\n    }\n\n    public JButton getBackButton() {\n        if (backButton != null) {\n            return backButton;\n        }\n        backButton = new JButton(&quot;&lt;&quot;);\n        backButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                navigateBack();\n            }\n        });\n        return backButton;\n    }\n\n    public Observer getObserver() {\n        return observer;\n    }\n\n    protected void navigateBack() {\n        Observer observer = getObserver();\n        if (observer == null) {\n            return;\n        }\n        observer.didNavigateBack(this);\n    }\n}\n</code></pre>\n<p>This is a pretty simple wrapper class which simply wraps the navigation UI around a pre-existing UI element.</p>\n<p>We can start by changing the <code>RecipePane</code> to remove the navigation workflow...</p>\n<pre><code>public class RecipePane extends JPanel {\n    //...\n    public RecipePane() {\n        inredientsList = new JList&lt;&gt;();\n        inredientsList.setCellRenderer(new IngredientListCellRender());\n\n        setLayout(new BorderLayout());\n        JPanel titlePane = new JPanel(new GridBagLayout());\n        GridBagConstraints gbc = new GridBagConstraints();\n        gbc.weightx = 1;\n        gbc.anchor = GridBagConstraints.LINE_START;\n        gbc.gridwidth = GridBagConstraints.REMAINDER;\n\n        recipeTitleLabel = new LabelFactory(&quot;Recipe title goes here&quot;)\n                .with(LabelFactory.Style.TITLE)\n                .build();\n\n        gbc.fill = GridBagConstraints.HORIZONTAL;\n        titlePane.add(recipeTitleLabel, gbc);\n        titlePane.add(new LabelFactory(&quot;Recipe Book&quot;).with(LabelFactory.Style.SUB_TITLE).build(), gbc);\n\n        add(titlePane, BorderLayout.NORTH);\n        add(new JScrollPane(inredientsList));\n\n        inredientsList.addListSelectionListener(new ListSelectionListener() {\n            @Override\n            public void valueChanged(ListSelectionEvent e) {\n                // Do you want to do something here?!\n            }\n        });\n    }\n    //...\n}\n</code></pre>\n<p>And update the <code>RecipeLibraryPane</code> to support it...</p>\n<pre><code>public class RecipeLibraryPane extends JPanel {\n    //...\n    public RecipeLibraryPane(RecipeBook[] books) {\n        //...\n        recipePane = new RecipePane();\n        //...\n        add(new NavigationPane(recipePane, new NavigationPane.Observer() {\n            @Override\n            public void didNavigateBack(NavigationPane source) {\n                show(View.RECIPE_BOOK_CONTENTS);\n            }\n        }), View.RECIPE);\n        //...\n    }\n}\n</code></pre>\n<p>And now we're better supporting the <a href=\"https://www.baeldung.com/java-single-responsibility-principle\" rel=\"nofollow noreferrer\">Single Responsibility Principle</a> (as the navigation UI is been managed by a seperate class independent from the other class, which really didn't care about navigation)</p>\n<p><em>(nb: I've not changed <code>RecipeBookPane</code> to support this, I'll leave that to you)</em></p>\n<p>And finally, how do we actually launch this UI?  Maybe by place something like...</p>\n<pre><code>EventQueue.invokeLater(new Runnable() {\n    @Override\n    public void run() {\n        RecipeBook[] books = new RecipeBook[]{\n            new DefaultRecipeBook(\n            &quot;Grandmas&quot;,\n            new Recipe[]{\n                new RecipeBuilder(&quot;Banana Bread&quot;)\n                .with(new DefaultIngredient(Ingredient.BANANAS, new DefaultMeasurement(6, Unit.EACH)))\n                .with(new DefaultIngredient(Ingredient.UNSALTED_BUTTER, new DefaultMeasurement(30, Unit.GRAMS)))\n                .with(new DefaultIngredient(Ingredient.GRANULATED_SUGAR, new DefaultMeasurement(0.75, Unit.CUP)))\n                .with(new DefaultIngredient(Ingredient.ALL_PURPOSE_FLOUR, new DefaultMeasurement(1, Unit.CUP)))\n                .with(new DefaultIngredient(Ingredient.BAKING_SODA, new DefaultMeasurement(1, Unit.TEA_SPOON)))\n                .with(new DefaultIngredient(Ingredient.SALT, new DefaultMeasurement(1, Unit.TEA_SPOON)))\n                .with(new DefaultIngredient(Ingredient.VANILLA_EXTRACT, new DefaultMeasurement(1, Unit.TEA_SPOON)))\n                .build()\n            })\n        };\n\n        JFrame frame = new JFrame();\n        frame.add(new RecipeLibraryPane(books));\n        frame.pack();\n        frame.setLocationRelativeTo(null);\n        frame.setVisible(true);\n    }\n});\n</code></pre>\n<p>into your <code>main</code> method.</p>\n<p>You should also take the time to have a read of:</p>\n<ul>\n<li><a href=\"https://java-design-patterns.com/principles/#separation-of-concerns\" rel=\"nofollow noreferrer\">Java Design Patterns/Separation of Concerns</a></li>\n<li><a href=\"https://java-design-patterns.com/principles/#minimise-coupling\" rel=\"nofollow noreferrer\">Java Design Patterns/Minimise Coupling</a></li>\n<li>Actually just have a read through <a href=\"https://java-design-patterns.com/principles\" rel=\"nofollow noreferrer\">Java Design Patterns</a> generally</li>\n<li><a href=\"https://www.geeksforgeeks.org/mvc-design-pattern/\" rel=\"nofollow noreferrer\">MVC Design Pattern</a></li>\n<li><a href=\"https://www.oracle.com/technical-resources/articles/javase/mvc.html\" rel=\"nofollow noreferrer\">Java SE Application Design With MVC</a></li>\n<li><a href=\"https://medium.com/edureka/mvc-architecture-in-java-a85952ae2684\" rel=\"nofollow noreferrer\">How to Implement MVC Architecture in Java?</a></li>\n</ul>\n"}],"owner":{"account_id":29011817,"reputation":11,"user_id":22223162,"display_name":"Nicholas McNamara"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":3,"score":-2,"last_activity_date":1690768758,"creation_date":1690668723,"question_id":76795639,"body_markdown":"I know that something similar has been asked before on this thread here: https://stackoverflow.com/questions/52860239/access-jlabel-from-another-class \r\nHowever when I tried using the &quot;this.lblNewLabel = new JLabel();&quot; for all my JLabels in my code but it didn&#39;t work. My problem is that I am trying to get the JLabels from &quot;MainFrame&quot; to be accessed by &quot;bananaBreadIngredients&quot; and by &quot;ServingsButtons&quot; so that the action Listener from &quot;ServingsButtons&quot; can work on the components in &quot;bananaBreadIngredients&quot; and I need help trying to get that work. If their is anything that doesn&#39;t make sure I&#39;ll try to answer any questions about my code that I can. \r\n\r\nHere is my main JFrame code (this is the code where I thought would be best to put the JLabels as I thought that they would be able to be accessed by other classes like the &quot;bananaBreadIngredients&quot; class):\r\n``` \r\npackage sweets;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\nimport java.awt.event.ItemEvent;\r\nimport java.awt.event.ItemListener;\r\n\r\npublic class MainFrame extends JFrame implements ItemListener {\r\n    //all the foods\r\n    public int servingNumber = 0;\r\n    //ingredient Volumes\r\n    public int almondFlourVol = 0;\r\n    public int allPurposeFlourVol = 0;\r\n    public int unsaltedButterVol = 0;\r\n    public int bakingSodaVol = 0;\r\n    public int bakingPowderVol = 0;\r\n    public int vanillaExtractVol = 0;\r\n    public int cocoaPowderVol = 0;\r\n    public int saltVol = 0;\r\n    public int chocolateChipsVol = 0;\r\n    public int instantEspressoVol = 0;\r\n    public int vegetableOilVol = 0;\r\n    public int bananasVol = 0;\r\n    //sugars\r\n    public int granulatedSugarVol = 0;\r\n    public int powderedSugarVol = 0;\r\n    public int lightBrownSugarVol = 0;\r\n    //eggs\r\n    public int eggsVol = 0;\r\n    public int eggWhitesVol = 0;\r\n\r\n    JLabel granulatedSugar = new JLabel(&quot;Granulated Sugar: &quot; + (granulatedSugarVol));\r\n    JLabel powderedSugar = new JLabel(&quot;Powdered Sugar: &quot; + (powderedSugarVol));\r\n    JLabel lightBrownSugar = new JLabel(&quot;Light Brown Sugar: &quot; + (lightBrownSugarVol));\r\n    JLabel eggs = new JLabel(&quot;Eggs: &quot; + (eggsVol));\r\n    JLabel eggWhites = new JLabel(&quot;Egg Whites: &quot; + (eggWhitesVol));\r\n    JLabel bananas = new JLabel(&quot;Bananas: &quot; + (bananasVol));\r\n    JLabel vegetableOil = new JLabel(&quot;Vegetable Oil: &quot; + (vegetableOilVol));\r\n    JLabel instantEspresso = new JLabel(&quot;Instant Espresso: &quot; + (instantEspressoVol));\r\n    JLabel chocolateChips = new JLabel(&quot;Chocolate Chips: &quot; + (chocolateChipsVol));\r\n    JLabel salt = new JLabel(&quot;Salt: &quot; + (saltVol));\r\n    JLabel cocoaPowder = new JLabel(&quot;Cocoa Powder: &quot; + (cocoaPowderVol));\r\n    JLabel vanillaExtract = new JLabel(&quot;Vanilla Extract: &quot; + (vanillaExtractVol));\r\n    JLabel bakingSoda = new JLabel(&quot;Baking Soda: &quot; + (bakingSodaVol));\r\n    JLabel unsaltedButter = new JLabel(&quot;Unsalted Butter: &quot; + (unsaltedButterVol));\r\n    JLabel allPurposeFlour = new JLabel(&quot;All-Purpose Flour: &quot; + (allPurposeFlourVol));\r\n    JLabel almondFlour = new JLabel(&quot;Almond Flour: &quot; + (almondFlourVol));\r\n    JLabel bakingPowder = new JLabel(&quot;Baking Powder: &quot; + (bakingPowderVol));\r\n\r\n    String[] food = {bananaBread, brownies, chocolateChipcookies, macarons};\r\n    final static String bananaBread = &quot;banana bread&quot;;\r\n    final static String brownies = &quot;brownies&quot;;\r\n    final static String chocolateChipcookies = &quot;chocolate chip cookies&quot;;\r\n    final static String macarons = &quot;macarons&quot;;\r\n    JPanel ingredients;\r\n\r\n    private ServingButtons servingButtonsJPanel;\r\n    private bananaBreadIngredients bananaBreadIngredientsJPanel;\r\n\r\n    JPanel browniesIngredients = new JPanel(new BorderLayout());\r\n    JPanel cookieIngredients = new JPanel(new BorderLayout());\r\n    JPanel macaronIngredients = new JPanel(new BorderLayout());\r\n\r\n    public MainFrame(){\r\n        JPanel recipeName = new JPanel(); //this will have the JComboBox with the foodList\r\n        JLabel recipe = new JLabel(&quot;Recipes: &quot;);\r\n        recipeName.setLayout(new FlowLayout());\r\n        recipeName.add(recipe);\r\n        JComboBox foodList = new JComboBox(food);\r\n        foodList.setEditable(false);\r\n        foodList.addItemListener(this);\r\n        ingredients = new JPanel(new CardLayout());\r\n        //MainFrame.ComboBoxRenderer renderer= new MainFrame.ComboBoxRenderer();\r\n        getContentPane().add(foodList, BorderLayout.NORTH);\r\n        recipeName.add(foodList);\r\n\r\n        //Servings buttons\r\n        servingButtonsJPanel = new ServingButtons(); //&lt;&lt;-- method call\r\n        servingButtonsJPanel.setLayout(new GridLayout(1,1));\r\n        //sources used from this: https://stackoverflow.com/questions/29477242/jpanel-and-custom-class-extending-jpanel-not-displaying-correctly\r\n\r\n\r\n\r\n        JLabel ingredientLabel = new JLabel(&quot;Ingredients Go here: &quot;);\r\n        bananaBreadIngredientsJPanel = new bananaBreadIngredients();\r\n        ingredients.add(ingredientLabel);\r\n        //only works if you add the cards in the same order that they are put in in the array\r\n        ingredients.add(bananaBreadIngredientsJPanel, bananaBread );\r\n        ingredients.add(browniesIngredients, brownies);\r\n        ingredients.add(cookieIngredients, chocolateChipcookies);\r\n        ingredients.add(macaronIngredients, macarons);\r\n        getContentPane().add(ingredients, BorderLayout.CENTER);\r\n\r\n        //this will have the dynamically changing ingredients (placeholder: the code for this in the mainIA class but it is not being used as I want to implement it through a class instead of having it in the constructor class like in the mainIA)\r\n        JLabel inputRecipe = new JLabel(&quot;Input Recipe&quot;); //this will have the input recipe JTextField (placeholder)\r\n\r\n\r\n        this.setTitle(&quot;Recipe Portion Calculator&quot;);\r\n        this.setLayout(new GridLayout(4,1));\r\n        this.setSize(800,800);\r\n        this.add(recipeName);\r\n        this.add(servingButtonsJPanel); //&lt;&lt;-- issue is that I have a GUI in the ServingButtons class but when I call it in the MainFrame class it does not show up in the GUI\r\n        this.add(ingredients);\r\n        this.add(inputRecipe);\r\n        this.setDefaultCloseOperation(EXIT_ON_CLOSE);\r\n\r\n        this.setVisible(true);\r\n    }\r\n\r\n    public void itemStateChanged(ItemEvent evt) {\r\n        CardLayout cl = (CardLayout)(ingredients.getLayout());\r\n        cl.show(ingredients, (String)evt.getItem());\r\n    }\r\n}\r\n```\r\nHere is the class for ServingsButtons. This class has the increment action listener that is applied to the different JLabels: \r\n```\r\npackage sweets;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class ServingButtons extends JPanel {\r\n    public int servingNumber = 0;\r\n    //ingredient Volumes\r\n\r\n    JButton incButton = new JButton(&quot;+&quot;);\r\n    JButton decButton = new JButton((&quot;-&quot;));\r\n\r\n    public ServingButtons() {\r\n        super();\r\n        this.setLayout(new GridLayout(1, 4));\r\n        //used this code from this Quora Link: https://www.quora.com/How-would-I-get-my-program-to-add-1-every-time-I-press-the-button-%E2%80%9Da%E2%80%9D-in-Java\r\n        this.add(new JLabel(&quot;Number of Servings: &quot;));\r\n        JLabel counterLbl = new JLabel(Integer.toString(servingNumber));\r\n        decButton.addActionListener(l -&gt; {\r\n            counterLbl.setText(Integer.toString(--servingNumber));\r\n            almondFlour.setText(&quot;Almound Flour: &quot; + (--almondFlourVol));\r\n            granulatedSugar.setText(&quot;Granulated Sugar: &quot; + (--granulatedSugarVol));\r\n            powderedSugar.setText(&quot;Powdered Sugar: &quot; + (--powderedSugarVol));\r\n            lightBrownSugar.setText(&quot;Light Brown Sugar: &quot; +(--lightBrownSugarVol));\r\n            eggs.setText(&quot;Eggs: &quot; + (--eggsVol));\r\n            eggWhites.setText(&quot;Egg Whites: &quot; + (--eggWhitesVol));\r\n            bananas.setText(&quot;Bananas: &quot; + (--bananasVol));\r\n            vegetableOil.setText(&quot;Vegetable Oil: &quot; + (--vegetableOilVol));\r\n            instantEspresso.setText(&quot;Instant Espresso: &quot; + (--instantEspressoVol));\r\n            chocolateChips.setText(&quot;Chocolate Chips: &quot; + (--chocolateChipsVol));\r\n            salt.setText(&quot;Salt: &quot; + (--saltVol));\r\n            cocoaPowder.setText(&quot;Cocoa Powder: &quot; + (--cocoaPowderVol));\r\n            vanillaExtract.setText(&quot;Vanilla Extract: &quot; + (--vanillaExtractVol));\r\n            bakingSoda.setText(&quot;Baking Soda: &quot; + (--bakingSodaVol));\r\n            unsaltedButter.setText(&quot;Unsalted Butter: &quot; + (--unsaltedButterVol));\r\n            allPurposeFlour.setText(&quot;All-Purpose Flour: &quot; + (--allPurposeFlourVol));\r\n            bakingPowder.setText(&quot;All-Purpose Flour: &quot; + (--bakingPowderVol));\r\n        });\r\n        JLabel space = new JLabel(&quot;&quot;);\r\n        this.add(space);\r\n        this.add(decButton);\r\n        this.add(counterLbl);\r\n        incButton.addActionListener(l -&gt; {\r\n            counterLbl.setText(Integer.toString(++servingNumber));\r\n            granulatedSugar.setText(&quot;Granulated Sugar: &quot; + (++granulatedSugarVol));\r\n            powderedSugar.setText(&quot;Powdered Sugar: &quot; + (++powderedSugarVol));\r\n            lightBrownSugar.setText(&quot;Light Brown Sugar: &quot; + (++lightBrownSugarVol));\r\n            eggs.setText(&quot;Eggs: &quot; + (++eggsVol));\r\n            eggWhites.setText(&quot;Egg Whites: &quot; + (++eggWhitesVol));\r\n            bananas.setText(&quot;bananas: &quot; + (++bananasVol));\r\n            vegetableOil.setText(&quot;Vegetable Oil: &quot;+ (++vegetableOilVol));\r\n            instantEspresso.setText(&quot;instant Espresso: &quot; + (++instantEspressoVol));\r\n            chocolateChips.setText(&quot;Chocolate Chips: &quot;+ (++chocolateChipsVol));\r\n            salt.setText(&quot;Salt: &quot; + (++saltVol));\r\n            cocoaPowder.setText(&quot;Cocoa Powder: &quot; + (++cocoaPowderVol));\r\n            vanillaExtract.setText(&quot;Vanilla Extract: &quot; + (++vanillaExtractVol));\r\n            bakingSoda.setText(&quot;Baking Soda: &quot; + (++bakingSodaVol));\r\n            unsaltedButter.setText(&quot;Unsalted Buttter: &quot; + (++unsaltedButterVol));\r\n            allPurposeFlour.setText(&quot;All-Purpose Flour: &quot; + (++allPurposeFlourVol));\r\n            almondFlour.setText(&quot;Almound Flour: &quot; + (++almondFlourVol));\r\n            bakingPowder.setText(&quot;All-Purpose Flour: &quot; + (++bakingPowderVol));\r\n        });\r\n        this.add(incButton);\r\n    }\r\n}\r\n```\r\n\r\nhere is the code for the class that I want to have access to the JLabels so that the code from &quot;ServingsButtons&quot; applies to the code on this class:\r\n``` \r\npackage sweets;\r\n\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class bananaBreadIngredients extends JPanel {\r\n    public bananaBreadIngredients(){\r\n        super();\r\n        this.setLayout(new GridLayout(9,1));\r\n        this.add(bananas);\r\n        this.add(unsaltedButter);\r\n        this.add(granulatedSugar);\r\n        this.add(allPurposeFlour);\r\n        this.add(bakingSoda);\r\n        this.add(salt);\r\n        this.add(vanillaExtract);\r\n    }\r\n}\r\n``` \r\n\r\nAny help would be much appreciated. Thankyou!\r\n","title":"How to access a JLabel from another class","body":"<p>I know that something similar has been asked before on this thread here: <a href=\"https://stackoverflow.com/questions/52860239/access-jlabel-from-another-class\">Access JLabel from another class</a>\nHowever when I tried using the &quot;this.lblNewLabel = new JLabel();&quot; for all my JLabels in my code but it didn't work. My problem is that I am trying to get the JLabels from &quot;MainFrame&quot; to be accessed by &quot;bananaBreadIngredients&quot; and by &quot;ServingsButtons&quot; so that the action Listener from &quot;ServingsButtons&quot; can work on the components in &quot;bananaBreadIngredients&quot; and I need help trying to get that work. If their is anything that doesn't make sure I'll try to answer any questions about my code that I can.</p>\n<p>Here is my main JFrame code (this is the code where I thought would be best to put the JLabels as I thought that they would be able to be accessed by other classes like the &quot;bananaBreadIngredients&quot; class):</p>\n<pre><code>package sweets;\n\nimport javax.swing.*;\nimport java.awt.*;\nimport java.awt.event.ItemEvent;\nimport java.awt.event.ItemListener;\n\npublic class MainFrame extends JFrame implements ItemListener {\n    //all the foods\n    public int servingNumber = 0;\n    //ingredient Volumes\n    public int almondFlourVol = 0;\n    public int allPurposeFlourVol = 0;\n    public int unsaltedButterVol = 0;\n    public int bakingSodaVol = 0;\n    public int bakingPowderVol = 0;\n    public int vanillaExtractVol = 0;\n    public int cocoaPowderVol = 0;\n    public int saltVol = 0;\n    public int chocolateChipsVol = 0;\n    public int instantEspressoVol = 0;\n    public int vegetableOilVol = 0;\n    public int bananasVol = 0;\n    //sugars\n    public int granulatedSugarVol = 0;\n    public int powderedSugarVol = 0;\n    public int lightBrownSugarVol = 0;\n    //eggs\n    public int eggsVol = 0;\n    public int eggWhitesVol = 0;\n\n    JLabel granulatedSugar = new JLabel(&quot;Granulated Sugar: &quot; + (granulatedSugarVol));\n    JLabel powderedSugar = new JLabel(&quot;Powdered Sugar: &quot; + (powderedSugarVol));\n    JLabel lightBrownSugar = new JLabel(&quot;Light Brown Sugar: &quot; + (lightBrownSugarVol));\n    JLabel eggs = new JLabel(&quot;Eggs: &quot; + (eggsVol));\n    JLabel eggWhites = new JLabel(&quot;Egg Whites: &quot; + (eggWhitesVol));\n    JLabel bananas = new JLabel(&quot;Bananas: &quot; + (bananasVol));\n    JLabel vegetableOil = new JLabel(&quot;Vegetable Oil: &quot; + (vegetableOilVol));\n    JLabel instantEspresso = new JLabel(&quot;Instant Espresso: &quot; + (instantEspressoVol));\n    JLabel chocolateChips = new JLabel(&quot;Chocolate Chips: &quot; + (chocolateChipsVol));\n    JLabel salt = new JLabel(&quot;Salt: &quot; + (saltVol));\n    JLabel cocoaPowder = new JLabel(&quot;Cocoa Powder: &quot; + (cocoaPowderVol));\n    JLabel vanillaExtract = new JLabel(&quot;Vanilla Extract: &quot; + (vanillaExtractVol));\n    JLabel bakingSoda = new JLabel(&quot;Baking Soda: &quot; + (bakingSodaVol));\n    JLabel unsaltedButter = new JLabel(&quot;Unsalted Butter: &quot; + (unsaltedButterVol));\n    JLabel allPurposeFlour = new JLabel(&quot;All-Purpose Flour: &quot; + (allPurposeFlourVol));\n    JLabel almondFlour = new JLabel(&quot;Almond Flour: &quot; + (almondFlourVol));\n    JLabel bakingPowder = new JLabel(&quot;Baking Powder: &quot; + (bakingPowderVol));\n\n    String[] food = {bananaBread, brownies, chocolateChipcookies, macarons};\n    final static String bananaBread = &quot;banana bread&quot;;\n    final static String brownies = &quot;brownies&quot;;\n    final static String chocolateChipcookies = &quot;chocolate chip cookies&quot;;\n    final static String macarons = &quot;macarons&quot;;\n    JPanel ingredients;\n\n    private ServingButtons servingButtonsJPanel;\n    private bananaBreadIngredients bananaBreadIngredientsJPanel;\n\n    JPanel browniesIngredients = new JPanel(new BorderLayout());\n    JPanel cookieIngredients = new JPanel(new BorderLayout());\n    JPanel macaronIngredients = new JPanel(new BorderLayout());\n\n    public MainFrame(){\n        JPanel recipeName = new JPanel(); //this will have the JComboBox with the foodList\n        JLabel recipe = new JLabel(&quot;Recipes: &quot;);\n        recipeName.setLayout(new FlowLayout());\n        recipeName.add(recipe);\n        JComboBox foodList = new JComboBox(food);\n        foodList.setEditable(false);\n        foodList.addItemListener(this);\n        ingredients = new JPanel(new CardLayout());\n        //MainFrame.ComboBoxRenderer renderer= new MainFrame.ComboBoxRenderer();\n        getContentPane().add(foodList, BorderLayout.NORTH);\n        recipeName.add(foodList);\n\n        //Servings buttons\n        servingButtonsJPanel = new ServingButtons(); //&lt;&lt;-- method call\n        servingButtonsJPanel.setLayout(new GridLayout(1,1));\n        //sources used from this: https://stackoverflow.com/questions/29477242/jpanel-and-custom-class-extending-jpanel-not-displaying-correctly\n\n\n\n        JLabel ingredientLabel = new JLabel(&quot;Ingredients Go here: &quot;);\n        bananaBreadIngredientsJPanel = new bananaBreadIngredients();\n        ingredients.add(ingredientLabel);\n        //only works if you add the cards in the same order that they are put in in the array\n        ingredients.add(bananaBreadIngredientsJPanel, bananaBread );\n        ingredients.add(browniesIngredients, brownies);\n        ingredients.add(cookieIngredients, chocolateChipcookies);\n        ingredients.add(macaronIngredients, macarons);\n        getContentPane().add(ingredients, BorderLayout.CENTER);\n\n        //this will have the dynamically changing ingredients (placeholder: the code for this in the mainIA class but it is not being used as I want to implement it through a class instead of having it in the constructor class like in the mainIA)\n        JLabel inputRecipe = new JLabel(&quot;Input Recipe&quot;); //this will have the input recipe JTextField (placeholder)\n\n\n        this.setTitle(&quot;Recipe Portion Calculator&quot;);\n        this.setLayout(new GridLayout(4,1));\n        this.setSize(800,800);\n        this.add(recipeName);\n        this.add(servingButtonsJPanel); //&lt;&lt;-- issue is that I have a GUI in the ServingButtons class but when I call it in the MainFrame class it does not show up in the GUI\n        this.add(ingredients);\n        this.add(inputRecipe);\n        this.setDefaultCloseOperation(EXIT_ON_CLOSE);\n\n        this.setVisible(true);\n    }\n\n    public void itemStateChanged(ItemEvent evt) {\n        CardLayout cl = (CardLayout)(ingredients.getLayout());\n        cl.show(ingredients, (String)evt.getItem());\n    }\n}\n</code></pre>\n<p>Here is the class for ServingsButtons. This class has the increment action listener that is applied to the different JLabels:</p>\n<pre><code>package sweets;\n\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class ServingButtons extends JPanel {\n    public int servingNumber = 0;\n    //ingredient Volumes\n\n    JButton incButton = new JButton(&quot;+&quot;);\n    JButton decButton = new JButton((&quot;-&quot;));\n\n    public ServingButtons() {\n        super();\n        this.setLayout(new GridLayout(1, 4));\n        //used this code from this Quora Link: https://www.quora.com/How-would-I-get-my-program-to-add-1-every-time-I-press-the-button-%E2%80%9Da%E2%80%9D-in-Java\n        this.add(new JLabel(&quot;Number of Servings: &quot;));\n        JLabel counterLbl = new JLabel(Integer.toString(servingNumber));\n        decButton.addActionListener(l -&gt; {\n            counterLbl.setText(Integer.toString(--servingNumber));\n            almondFlour.setText(&quot;Almound Flour: &quot; + (--almondFlourVol));\n            granulatedSugar.setText(&quot;Granulated Sugar: &quot; + (--granulatedSugarVol));\n            powderedSugar.setText(&quot;Powdered Sugar: &quot; + (--powderedSugarVol));\n            lightBrownSugar.setText(&quot;Light Brown Sugar: &quot; +(--lightBrownSugarVol));\n            eggs.setText(&quot;Eggs: &quot; + (--eggsVol));\n            eggWhites.setText(&quot;Egg Whites: &quot; + (--eggWhitesVol));\n            bananas.setText(&quot;Bananas: &quot; + (--bananasVol));\n            vegetableOil.setText(&quot;Vegetable Oil: &quot; + (--vegetableOilVol));\n            instantEspresso.setText(&quot;Instant Espresso: &quot; + (--instantEspressoVol));\n            chocolateChips.setText(&quot;Chocolate Chips: &quot; + (--chocolateChipsVol));\n            salt.setText(&quot;Salt: &quot; + (--saltVol));\n            cocoaPowder.setText(&quot;Cocoa Powder: &quot; + (--cocoaPowderVol));\n            vanillaExtract.setText(&quot;Vanilla Extract: &quot; + (--vanillaExtractVol));\n            bakingSoda.setText(&quot;Baking Soda: &quot; + (--bakingSodaVol));\n            unsaltedButter.setText(&quot;Unsalted Butter: &quot; + (--unsaltedButterVol));\n            allPurposeFlour.setText(&quot;All-Purpose Flour: &quot; + (--allPurposeFlourVol));\n            bakingPowder.setText(&quot;All-Purpose Flour: &quot; + (--bakingPowderVol));\n        });\n        JLabel space = new JLabel(&quot;&quot;);\n        this.add(space);\n        this.add(decButton);\n        this.add(counterLbl);\n        incButton.addActionListener(l -&gt; {\n            counterLbl.setText(Integer.toString(++servingNumber));\n            granulatedSugar.setText(&quot;Granulated Sugar: &quot; + (++granulatedSugarVol));\n            powderedSugar.setText(&quot;Powdered Sugar: &quot; + (++powderedSugarVol));\n            lightBrownSugar.setText(&quot;Light Brown Sugar: &quot; + (++lightBrownSugarVol));\n            eggs.setText(&quot;Eggs: &quot; + (++eggsVol));\n            eggWhites.setText(&quot;Egg Whites: &quot; + (++eggWhitesVol));\n            bananas.setText(&quot;bananas: &quot; + (++bananasVol));\n            vegetableOil.setText(&quot;Vegetable Oil: &quot;+ (++vegetableOilVol));\n            instantEspresso.setText(&quot;instant Espresso: &quot; + (++instantEspressoVol));\n            chocolateChips.setText(&quot;Chocolate Chips: &quot;+ (++chocolateChipsVol));\n            salt.setText(&quot;Salt: &quot; + (++saltVol));\n            cocoaPowder.setText(&quot;Cocoa Powder: &quot; + (++cocoaPowderVol));\n            vanillaExtract.setText(&quot;Vanilla Extract: &quot; + (++vanillaExtractVol));\n            bakingSoda.setText(&quot;Baking Soda: &quot; + (++bakingSodaVol));\n            unsaltedButter.setText(&quot;Unsalted Buttter: &quot; + (++unsaltedButterVol));\n            allPurposeFlour.setText(&quot;All-Purpose Flour: &quot; + (++allPurposeFlourVol));\n            almondFlour.setText(&quot;Almound Flour: &quot; + (++almondFlourVol));\n            bakingPowder.setText(&quot;All-Purpose Flour: &quot; + (++bakingPowderVol));\n        });\n        this.add(incButton);\n    }\n}\n</code></pre>\n<p>here is the code for the class that I want to have access to the JLabels so that the code from &quot;ServingsButtons&quot; applies to the code on this class:</p>\n<pre><code>package sweets;\n\nimport javax.swing.*;\nimport java.awt.*;\n\npublic class bananaBreadIngredients extends JPanel {\n    public bananaBreadIngredients(){\n        super();\n        this.setLayout(new GridLayout(9,1));\n        this.add(bananas);\n        this.add(unsaltedButter);\n        this.add(granulatedSugar);\n        this.add(allPurposeFlour);\n        this.add(bakingSoda);\n        this.add(salt);\n        this.add(vanillaExtract);\n    }\n}\n</code></pre>\n<p>Any help would be much appreciated. Thankyou!</p>\n"},{"tags":["java","mysql"],"owner":{"account_id":29100446,"reputation":11,"user_id":22292358,"display_name":"tongxiaolan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690768581,"creation_date":1690768581,"question_id":76800280,"body_markdown":"I use this code\r\n```\r\n&lt;update id=&quot;update&quot;&gt;\r\n        &lt;foreach collection=&quot;views&quot; item=&quot;item&quot; separator=&quot;;&quot;&gt;\r\n            update eye_product_standard\r\n            &lt;set&gt;\r\n                &lt;if test=&quot;item.name != null and item.name != &#39;&#39;&quot;&gt;\r\n                    name = #{item.sku},\r\n                &lt;/if&gt;\r\n\r\n                &lt;if test=&quot;item.inventory != null&quot;&gt;\r\n                    inventory = #{item.inventory},\r\n                &lt;/if&gt;\r\n\r\n                &lt;if test=&quot;item.flag != null&quot;&gt;\r\n                    flag = #{item.flag},\r\n                &lt;/if&gt;\r\n\r\n                &lt;if test=&quot;item.price != null&quot;&gt;\r\n                    skuPrice = #{item.price}\r\n                &lt;/if&gt;\r\n            &lt;/set&gt;\r\n            where product_id = #{item.productId} and id = #{item.id}\r\n        &lt;/foreach&gt;\r\n    &lt;/update&gt;\r\n```\r\nand when I run project, it went wrong\r\n```\r\n### Error updating database.  Cause: java.sql.SQLException: sql injection violation, multi-statement not allow : UPDATE eye_product_standard SET name = ?, inventory = ?, flag = ?, SkuPrice = ? WHERE product_id = ? AND id = ?;UPDATE eye_product_standard SET name = ?, inventory = ?, flag = ?, SkuPrice = ? WHERE product_id = ? AND id = ?\r\n### The error may exist in URL [jar:file:/home/jeecg-boot/jeecg-system-start-3.4.3.jar!/BOOT-INF/lib/jeecg-module-demo-3.4.3.jar!/org/jeecg/modules/demo/eyeserver/mapper/xml/eye_product_viewMapper.xml]\r\n### The error may involve org.jeecg.modules.demo.eyeserver.mapper.eye_product_viewMapper.update\r\n### The error occurred while executing an update\r\n### SQL: UPDATE eye_product_standard SET name = ?, inventory = ?, flag = ?, SkuPrice = ? WHERE product_id = ? AND id = ?;UPDATE eye_product_standard SET name = ?, inventory = ?, flag = ?, SkuPrice = ? WHERE product_id = ? AND id = ?\r\n```\r\n\r\nI have try to add &#39;&amp;allowMultiQueries=true&#39; to my `application.yml` but it not work. ","title":"When I use jeecg-boot, I met a problem,it said &quot; multi-statement not allow&quot;, how can I solve it","body":"<p>I use this code</p>\n<pre><code>&lt;update id=&quot;update&quot;&gt;\n        &lt;foreach collection=&quot;views&quot; item=&quot;item&quot; separator=&quot;;&quot;&gt;\n            update eye_product_standard\n            &lt;set&gt;\n                &lt;if test=&quot;item.name != null and item.name != ''&quot;&gt;\n                    name = #{item.sku},\n                &lt;/if&gt;\n\n                &lt;if test=&quot;item.inventory != null&quot;&gt;\n                    inventory = #{item.inventory},\n                &lt;/if&gt;\n\n                &lt;if test=&quot;item.flag != null&quot;&gt;\n                    flag = #{item.flag},\n                &lt;/if&gt;\n\n                &lt;if test=&quot;item.price != null&quot;&gt;\n                    skuPrice = #{item.price}\n                &lt;/if&gt;\n            &lt;/set&gt;\n            where product_id = #{item.productId} and id = #{item.id}\n        &lt;/foreach&gt;\n    &lt;/update&gt;\n</code></pre>\n<p>and when I run project, it went wrong</p>\n<pre><code>### Error updating database.  Cause: java.sql.SQLException: sql injection violation, multi-statement not allow : UPDATE eye_product_standard SET name = ?, inventory = ?, flag = ?, SkuPrice = ? WHERE product_id = ? AND id = ?;UPDATE eye_product_standard SET name = ?, inventory = ?, flag = ?, SkuPrice = ? WHERE product_id = ? AND id = ?\n### The error may exist in URL [jar:file:/home/jeecg-boot/jeecg-system-start-3.4.3.jar!/BOOT-INF/lib/jeecg-module-demo-3.4.3.jar!/org/jeecg/modules/demo/eyeserver/mapper/xml/eye_product_viewMapper.xml]\n### The error may involve org.jeecg.modules.demo.eyeserver.mapper.eye_product_viewMapper.update\n### The error occurred while executing an update\n### SQL: UPDATE eye_product_standard SET name = ?, inventory = ?, flag = ?, SkuPrice = ? WHERE product_id = ? AND id = ?;UPDATE eye_product_standard SET name = ?, inventory = ?, flag = ?, SkuPrice = ? WHERE product_id = ? AND id = ?\n</code></pre>\n<p>I have try to add '&amp;allowMultiQueries=true' to my <code>application.yml</code> but it not work.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":36864,"reputation":2099,"user_id":105251,"accept_rate":94,"display_name":"bbaja42"},"score":1,"creation_date":1346759354,"post_id":12262824,"comment_id":16441255,"body_markdown":"What is the expected behavior? Log every write to the variable, including the stacktrace?","body":"What is the expected behavior? Log every write to the variable, including the stacktrace?"},{"owner":{"account_id":24216,"reputation":23448,"user_id":61479,"accept_rate":81,"display_name":"Ridcully"},"score":0,"creation_date":1346760363,"post_id":12262824,"comment_id":16441709,"body_markdown":"Have you thought about when exactly the logging should be done? What if I do this: `@Log int i; while(i&lt;999) i+=i*2;` ... what should be logged here?","body":"Have you thought about when exactly the logging should be done? What if I do this: <code>@Log int i; while(i&lt;999) i+=i*2;</code> ... what should be logged here?"},{"owner":{"account_id":412334,"reputation":33756,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"score":0,"creation_date":1347014053,"post_id":12262824,"comment_id":16527425,"body_markdown":"@Ridcully Yah you have a point, but I was thinking that the Log annotation will just log one time. Anyway, my syntax idea may be incorrect but there must be a way to do this","body":"@Ridcully Yah you have a point, but I was thinking that the Log annotation will just log one time. Anyway, my syntax idea may be incorrect but there must be a way to do this"}],"answers":[{"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1346759258,"creation_date":1346759258,"answer_id":12262863,"question_id":12262824,"body_markdown":"You can do this relatively easily if you use Spring and aspect-oriented programming.  Take a look at that.","title":"Is there a Java library that adds annotations for Logging?","body":"<p>You can do this relatively easily if you use Spring and aspect-oriented programming.  Take a look at that.</p>\n"},{"tags":[],"owner":{"account_id":437352,"reputation":19077,"user_id":824987,"accept_rate":56,"display_name":"Amit Deshpande"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1539809961,"creation_date":1346759309,"answer_id":12262878,"question_id":12262824,"body_markdown":"Logging is done inside actual logic annotations can be used only for specific elements in the source code. you can at most log `LOCAL_VARIABLE` using this but it can never be used to log `plain statements`. \r\n\r\n&gt;Please check [slf4j](https://www.slf4j.org/) which provides common cases logging annotations.\r\n\r\n**Elements for which Annotation declaration is supported are:**\r\n  \r\n    public enum ElementType {\r\n    /** Class, interface (including annotation type), or enum declaration */\r\n    TYPE,\r\n\r\n    /** Field declaration (includes enum constants) */\r\n    FIELD,\r\n\r\n    /** Method declaration */\r\n    METHOD,\r\n\r\n    /** Parameter declaration */\r\n    PARAMETER,\r\n\r\n    /** Constructor declaration */\r\n    CONSTRUCTOR,\r\n\r\n    /** Local variable declaration */\r\n    LOCAL_VARIABLE,\r\n\r\n    /** Annotation type declaration */\r\n    ANNOTATION_TYPE,\r\n\r\n    /** Package declaration */\r\n    PACKAGE\r\n   }\r\n\r\n\r\n[Similar of Creating custom annotations](https://stackoverflow.com/questions/12257431/creating-custom-annotations/12257475#12257475)\r\n","title":"Is there a Java library that adds annotations for Logging?","body":"<p>Logging is done inside actual logic annotations can be used only for specific elements in the source code. you can at most log <code>LOCAL_VARIABLE</code> using this but it can never be used to log <code>plain statements</code>. </p>\n\n<blockquote>\n  <p>Please check <a href=\"https://www.slf4j.org/\" rel=\"nofollow noreferrer\">slf4j</a> which provides common cases logging annotations.</p>\n</blockquote>\n\n<p><strong>Elements for which Annotation declaration is supported are:</strong></p>\n\n<pre><code>public enum ElementType {\n/** Class, interface (including annotation type), or enum declaration */\nTYPE,\n\n/** Field declaration (includes enum constants) */\nFIELD,\n\n/** Method declaration */\nMETHOD,\n\n/** Parameter declaration */\nPARAMETER,\n\n/** Constructor declaration */\nCONSTRUCTOR,\n\n/** Local variable declaration */\nLOCAL_VARIABLE,\n\n/** Annotation type declaration */\nANNOTATION_TYPE,\n\n/** Package declaration */\nPACKAGE\n</code></pre>\n\n<p>}</p>\n\n<p><a href=\"https://stackoverflow.com/questions/12257431/creating-custom-annotations/12257475#12257475\">Similar of Creating custom annotations</a></p>\n"},{"tags":[],"owner":{"account_id":5867631,"reputation":41,"user_id":4621030,"display_name":"Mark D"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1431280823,"creation_date":1431280823,"answer_id":30154780,"question_id":12262824,"body_markdown":"http://aspect4log.sf.net allows you to log method calls, arguments, returned value, thrown exception (it even allows you to change the log level depending on exception, by default it uses ERROR for unchecked exceptions and WARN for checked exceptions.\r\nIt helped me a lot in removing boilerplate code and improved logging.\r\n\r\nI&#39;ve also know about http://loggifier.unkrig.de - it does logging via java.util.logging (which no one uses), a bit too complex to setup and not that well document but it has one BIG feature - it claims that it can instrument already compiled jar/war/ear files (which is great if u want to profile someone&#39;s uglry jar which u can not recompile)!\r\n\r\nBottom line - if u own the code, aspect4log is your choice.\r\nIf you do not own the code - go for loggifier.\r\n","title":"Is there a Java library that adds annotations for Logging?","body":"<p><a href=\"http://aspect4log.sf.net\" rel=\"nofollow\">http://aspect4log.sf.net</a> allows you to log method calls, arguments, returned value, thrown exception (it even allows you to change the log level depending on exception, by default it uses ERROR for unchecked exceptions and WARN for checked exceptions.\nIt helped me a lot in removing boilerplate code and improved logging.</p>\n\n<p>I've also know about <a href=\"http://loggifier.unkrig.de\" rel=\"nofollow\">http://loggifier.unkrig.de</a> - it does logging via java.util.logging (which no one uses), a bit too complex to setup and not that well document but it has one BIG feature - it claims that it can instrument already compiled jar/war/ear files (which is great if u want to profile someone's uglry jar which u can not recompile)!</p>\n\n<p>Bottom line - if u own the code, aspect4log is your choice.\nIf you do not own the code - go for loggifier.</p>\n"},{"comments":[{"owner":{"account_id":412334,"reputation":33756,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"score":0,"creation_date":1481729786,"post_id":41120628,"comment_id":69495217,"body_markdown":"Interesting I will check this out","body":"Interesting I will check this out"},{"owner":{"account_id":412334,"reputation":33756,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"score":0,"creation_date":1481729887,"post_id":41120628,"comment_id":69495283,"body_markdown":"Perhaps you can publish this to Maven central or Bintray","body":"Perhaps you can publish this to Maven central or Bintray"},{"owner":{"account_id":8088644,"reputation":1066,"user_id":6095334,"display_name":"Hervian"},"score":0,"creation_date":1482481919,"post_id":41120628,"comment_id":69798003,"body_markdown":"Thanks for the reply, unfortunately the current version of the project is not suitable for upload to the Maven Central, it is more like a template.","body":"Thanks for the reply, unfortunately the current version of the project is not suitable for upload to the Maven Central, it is more like a template."}],"tags":[],"owner":{"account_id":8088644,"reputation":1066,"user_id":6095334,"display_name":"Hervian"},"comment_count":3,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1481630437,"creation_date":1481630437,"answer_id":41120628,"question_id":12262824,"body_markdown":"I have created a project called [log-weaver][1], which introduces a number of @LogXXX statements.  \r\nWhen you compile a project, that uses one of these annotations, Log-statements are weaves into the bytecocde.  \r\nExample source code:\r\n\r\n    @LogEnteringAndExiting(value={&quot;arg1&quot;, &quot;this&quot;})\r\n    public String execute(String arg1) {\r\n        /*Some logic*/\r\n    return &quot;done&quot;;\r\n    }\r\nThe source code will remain as is, but the byte code will look as if the source code had been written like this:  \r\n\r\n    private static final Logger comGithubHervian_LOGGER = LoggingHelper.getLogger(ClassWithLogAnnotatedMethods.LogAround_log1ArgumentAndThis.class);\r\n    private static final String = comGithubHervian_CLASSNAME = ClassWithLogAnnotatedMethods.LogAround_log1ArgumentAndThis.class.getName();\r\n\r\n    public String execute(String arg1) {\r\n        if (LoggingHelper.isEntryExitTraceEnabled((Logger)comGithubHervian_LOGGER)) {\r\n            comGithubHervian_LOGGER.entering(comGithubHervian_CLASSNAME, &quot;execute&quot;, new Object[]{arg1, this});\r\n        }\r\n        /*Some logic*/\r\n        String string = &quot;done&quot;;\r\n        if (LoggingHelper.isEntryExitTraceEnabled((Logger)comGithubHervian_LOGGER)) {\r\n            comGithubHervian_LOGGER.exiting(comGithubHervian_CLASSNAME, &quot;execute&quot;, string);\r\n        }\r\n        return string;\r\n    }\r\nIn the code above the LoggingHelper is a special class from IBM&#39;s WebpShere Commerce for which this proof of concept was developed.  \r\n\r\nThe idea is to simplify the source code by removing trivial statements, in this case logging.  \r\nThe overall logic is as follows:  \r\n\r\n 1. An AbstractProcessor detects the usage of one the log annotations, and creates some useful data structure, to hold information about the method name, arguments etc.\r\n 2. The AbstractProcessor registers a TaskListener at the compiler (Javac).\r\n 3. The TaskListener uses Javassist to weave log statements into the byte code of the given method/class.\r\n  \r\nPlease be aware that the current project is designed for use with IBM&#39;s WebSphere Commerce, but you could easily adjust it, such as to weave log-statements of your own choosing into the code.\r\n\r\n  [1]: https://github.com/Hervian/log-weaver","title":"Is there a Java library that adds annotations for Logging?","body":"<p>I have created a project called <a href=\"https://github.com/Hervian/log-weaver\" rel=\"nofollow noreferrer\">log-weaver</a>, which introduces a number of @LogXXX statements.<br>\nWhen you compile a project, that uses one of these annotations, Log-statements are weaves into the bytecocde.<br>\nExample source code:</p>\n\n<pre><code>@LogEnteringAndExiting(value={\"arg1\", \"this\"})\npublic String execute(String arg1) {\n    /*Some logic*/\nreturn \"done\";\n}\n</code></pre>\n\n<p>The source code will remain as is, but the byte code will look as if the source code had been written like this:  </p>\n\n<pre><code>private static final Logger comGithubHervian_LOGGER = LoggingHelper.getLogger(ClassWithLogAnnotatedMethods.LogAround_log1ArgumentAndThis.class);\nprivate static final String = comGithubHervian_CLASSNAME = ClassWithLogAnnotatedMethods.LogAround_log1ArgumentAndThis.class.getName();\n\npublic String execute(String arg1) {\n    if (LoggingHelper.isEntryExitTraceEnabled((Logger)comGithubHervian_LOGGER)) {\n        comGithubHervian_LOGGER.entering(comGithubHervian_CLASSNAME, \"execute\", new Object[]{arg1, this});\n    }\n    /*Some logic*/\n    String string = \"done\";\n    if (LoggingHelper.isEntryExitTraceEnabled((Logger)comGithubHervian_LOGGER)) {\n        comGithubHervian_LOGGER.exiting(comGithubHervian_CLASSNAME, \"execute\", string);\n    }\n    return string;\n}\n</code></pre>\n\n<p>In the code above the LoggingHelper is a special class from IBM's WebpShere Commerce for which this proof of concept was developed.  </p>\n\n<p>The idea is to simplify the source code by removing trivial statements, in this case logging.<br>\nThe overall logic is as follows:  </p>\n\n<ol>\n<li>An AbstractProcessor detects the usage of one the log annotations, and creates some useful data structure, to hold information about the method name, arguments etc.</li>\n<li>The AbstractProcessor registers a TaskListener at the compiler (Javac).</li>\n<li>The TaskListener uses Javassist to weave log statements into the byte code of the given method/class.</li>\n</ol>\n\n<p>Please be aware that the current project is designed for use with IBM's WebSphere Commerce, but you could easily adjust it, such as to weave log-statements of your own choosing into the code.</p>\n"},{"comments":[{"owner":{"account_id":101080,"reputation":69720,"user_id":272109,"display_name":"David Makogon"},"score":0,"creation_date":1690853688,"post_id":76800268,"comment_id":135407759,"body_markdown":"This question is off-topic (the rules are very different from 11 years ago). Further: link-only answers are not valid answers. And in this case, they are just product recommendations.","body":"This question is off-topic (the rules are very different from 11 years ago). Further: link-only answers are not valid answers. And in this case, they are just product recommendations."}],"tags":[],"owner":{"account_id":1897366,"reputation":1346,"user_id":1714013,"display_name":"karl li"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690768180,"creation_date":1690768180,"answer_id":76800268,"question_id":12262824,"body_markdown":"It&#39;s 2023 now, I found we have alternative choice :)\r\n\r\n1. lombok\r\nhttps://projectlombok.org/features/log\r\n\r\n2. logback.XLogger\r\nhttps://www.slf4j.org/extensions.html#extended_logger\r\n\r\nWe can combine these 2 lib to make it.","title":"Is there a Java library that adds annotations for Logging?","body":"<p>It's 2023 now, I found we have alternative choice :)</p>\n<ol>\n<li><p>lombok\n<a href=\"https://projectlombok.org/features/log\" rel=\"nofollow noreferrer\">https://projectlombok.org/features/log</a></p>\n</li>\n<li><p>logback.XLogger\n<a href=\"https://www.slf4j.org/extensions.html#extended_logger\" rel=\"nofollow noreferrer\">https://www.slf4j.org/extensions.html#extended_logger</a></p>\n</li>\n</ol>\n<p>We can combine these 2 lib to make it.</p>\n"}],"owner":{"account_id":412334,"reputation":33756,"user_id":785349,"accept_rate":94,"display_name":"quarks"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15417,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"closed_date":1690853699,"accepted_answer_id":41120628,"answer_count":5,"score":16,"last_activity_date":1690768180,"creation_date":1346759108,"question_id":12262824,"body_markdown":"Is there any library that will allow to log variables by just adding annotations? For example:\r\n\r\n```java\r\n    @Log\r\n    String someValueToLog = someMethod(); \r\n\r\n    @Log(level=&quot;debug&quot;, prefix=&quot;Here&#39;s the value=&quot;)\r\n    String someValueToLogAgain = someMethod(); \r\n```\r\n\r\nThat functions similar to adding this line in the code:\r\n\r\n```java\r\n    log.info(someValueToLog);\r\n    log.debug(&quot;Here&#39;s the value=&quot; + someValueToLogAgain);\r\n```","title":"Is there a Java library that adds annotations for Logging?","body":"<p>Is there any library that will allow to log variables by just adding annotations? For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Log\n    String someValueToLog = someMethod(); \n\n    @Log(level=&quot;debug&quot;, prefix=&quot;Here's the value=&quot;)\n    String someValueToLogAgain = someMethod(); \n</code></pre>\n<p>That functions similar to adding this line in the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    log.info(someValueToLog);\n    log.debug(&quot;Here's the value=&quot; + someValueToLogAgain);\n</code></pre>\n"},{"tags":["java","xml","design-patterns","jaxb","mapping"],"comments":[{"owner":{"account_id":162425,"reputation":147999,"user_id":383861,"display_name":"bdoughan"},"score":0,"creation_date":1341516775,"post_id":11351020,"comment_id":14949714,"body_markdown":"You may be interested in the `@XmlPath` extension in EclipseLink JAXB (MOXy).  Here is an example where the object model is quite different from the XML document:  http://blog.bdoughan.com/2010/09/xpath-based-mapping-geocode-example.html.","body":"You may be interested in the <code>@XmlPath</code> extension in EclipseLink JAXB (MOXy).  Here is an example where the object model is quite different from the XML document:  <a href=\"http://blog.bdoughan.com/2010/09/xpath-based-mapping-geocode-example.html\" rel=\"nofollow noreferrer\">blog.bdoughan.com/2010/09/&hellip;</a>."},{"owner":{"account_id":1273224,"reputation":706,"user_id":1229037,"accept_rate":86,"display_name":"Terence"},"score":0,"creation_date":1341518588,"post_id":11351020,"comment_id":14950378,"body_markdown":"I did see the `@XmlPath` extension but I&#39;m not sure how I manage data-driven conditional mappings with it. For example if a property of a java object can map to a subset of N possible locations in an XML document, depending on the data, how would that be done using the `@XmlPath` extension? Sorry if I&#39;m missing something obvious!","body":"I did see the <code>@XmlPath</code> extension but I&#39;m not sure how I manage data-driven conditional mappings with it. For example if a property of a java object can map to a subset of N possible locations in an XML document, depending on the data, how would that be done using the <code>@XmlPath</code> extension? Sorry if I&#39;m missing something obvious!"},{"owner":{"account_id":162425,"reputation":147999,"user_id":383861,"display_name":"bdoughan"},"score":0,"creation_date":1341518995,"post_id":11351020,"comment_id":14950542,"body_markdown":"The `@XmlPath` extension is useful for when the object model differs from the XML.  If your primary concern is having an `XmlAdapter` now about state, then you may prefer to use a stateful `XmlAdapter`: http://blog.bdoughan.com/2011/09/mixing-nesting-and-references-with.html","body":"The <code>@XmlPath</code> extension is useful for when the object model differs from the XML.  If your primary concern is having an <code>XmlAdapter</code> now about state, then you may prefer to use a stateful <code>XmlAdapter</code>: <a href=\"http://blog.bdoughan.com/2011/09/mixing-nesting-and-references-with.html\" rel=\"nofollow noreferrer\">blog.bdoughan.com/2011/09/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":1273224,"reputation":706,"user_id":1229037,"accept_rate":86,"display_name":"Terence"},"score":0,"creation_date":1341518138,"post_id":11351241,"comment_id":14950236,"body_markdown":"I don&#39;t see how XML Spy is an improvement over the tools I already have for this problem, but MapForce is an interesting direction to go down. I was looking for more of a design pattern or Java standard tool to work with. Purchasing some proprietary software, getting it to work with our code base, and learning how to use it wouldn&#39;t be my first choice. If there isn&#39;t a code-driven solution though, MapForce does seem like a very good product.","body":"I don&#39;t see how XML Spy is an improvement over the tools I already have for this problem, but MapForce is an interesting direction to go down. I was looking for more of a design pattern or Java standard tool to work with. Purchasing some proprietary software, getting it to work with our code base, and learning how to use it wouldn&#39;t be my first choice. If there isn&#39;t a code-driven solution though, MapForce does seem like a very good product."},{"owner":{"account_id":232642,"reputation":723,"user_id":497623,"accept_rate":78,"display_name":"hectorg87"},"score":0,"creation_date":1341518422,"post_id":11351241,"comment_id":14950325,"body_markdown":"I&#39;m sorry I couldn&#39;t do more research for a more extensive answer, however I though sharing Altova products could help somehow. I used the Code Generation features in XML Spy to generate Classes from a XSD to Java and also to C#, and it worked really good. I don&#39;t know for sure, but I thought that they probably have something similar to go from a Java Object to a XSD, giving you sort of what you are looking for.","body":"I&#39;m sorry I couldn&#39;t do more research for a more extensive answer, however I though sharing Altova products could help somehow. I used the Code Generation features in XML Spy to generate Classes from a XSD to Java and also to C#, and it worked really good. I don&#39;t know for sure, but I thought that they probably have something similar to go from a Java Object to a XSD, giving you sort of what you are looking for."},{"owner":{"account_id":1273224,"reputation":706,"user_id":1229037,"accept_rate":86,"display_name":"Terence"},"score":0,"creation_date":1341518669,"post_id":11351241,"comment_id":14950406,"body_markdown":"I appreciate the input! I would have never known about MapForce otherwise and that may end up being the direction we go down.","body":"I appreciate the input! I would have never known about MapForce otherwise and that may end up being the direction we go down."},{"owner":{"account_id":232642,"reputation":723,"user_id":497623,"accept_rate":78,"display_name":"hectorg87"},"score":0,"creation_date":1341519096,"post_id":11351241,"comment_id":14950579,"body_markdown":"I&#39;m glad @Terence, let me know if it worked and how, just for curiosity sake.","body":"I&#39;m glad @Terence, let me know if it worked and how, just for curiosity sake."}],"tags":[],"owner":{"account_id":232642,"reputation":723,"user_id":497623,"accept_rate":78,"display_name":"hectorg87"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1341516560,"creation_date":1341516560,"answer_id":11351241,"question_id":11351020,"body_markdown":"I&#39;m sorry I&#39;m not giving you a straight answer, but I can&#39;t comment yet on with my reputation, so here&#39;s my &quot;answer&quot;.\r\n\r\nI would definitely try [Altova XML Spy][1] and it&#39;s [Code Generation features][2]. I&#39;ve tried it and have been incredibly useful . What I don&#39;t know if it can do is to work the other way around, but since it also has [Database connectivity][3] and some other stuff, I&#39;m sure it won&#39;t do any harm to give it a try and play around with it.\r\n\r\nThey also have another application called [MapForce][4] (As in mapping databases, not GIS) which I have never tried, but from them I would expect it to be really useful.\r\n\r\nI hope you find all of this very useful and that you can comment on this with more detail on how it helped you (or not).\r\n\r\n  [1]: http://www.altova.com/xmlspy.html\r\n  [2]: http://www.altova.com/xmlspy/xml-code-generation.html\r\n  [3]: http://www.altova.com/xmlspy/xml-database.html\r\n  [4]: http://www.altova.com/mapforce.html","title":"Generating an XML document from Java objects where the structure is very different","body":"<p>I'm sorry I'm not giving you a straight answer, but I can't comment yet on with my reputation, so here's my \"answer\".</p>\n\n<p>I would definitely try <a href=\"http://www.altova.com/xmlspy.html\" rel=\"nofollow\">Altova XML Spy</a> and it's <a href=\"http://www.altova.com/xmlspy/xml-code-generation.html\" rel=\"nofollow\">Code Generation features</a>. I've tried it and have been incredibly useful . What I don't know if it can do is to work the other way around, but since it also has <a href=\"http://www.altova.com/xmlspy/xml-database.html\" rel=\"nofollow\">Database connectivity</a> and some other stuff, I'm sure it won't do any harm to give it a try and play around with it.</p>\n\n<p>They also have another application called <a href=\"http://www.altova.com/mapforce.html\" rel=\"nofollow\">MapForce</a> (As in mapping databases, not GIS) which I have never tried, but from them I would expect it to be really useful.</p>\n\n<p>I hope you find all of this very useful and that you can comment on this with more detail on how it helped you (or not).</p>\n"},{"comments":[{"owner":{"account_id":1273224,"reputation":706,"user_id":1229037,"accept_rate":86,"display_name":"Terence"},"score":0,"creation_date":1341534892,"post_id":11351766,"comment_id":14955016,"body_markdown":"In a simpler case, that would work perfectly. Dozer uses reflection to do 1-1 mapping and my use case explicitly requires many-to-one mappings. That&#39;s something [not supported by dozer](http://dozer.sourceforge.net/documentation/faq.html#mult-fields-to-single-field)","body":"In a simpler case, that would work perfectly. Dozer uses reflection to do 1-1 mapping and my use case explicitly requires many-to-one mappings. That&#39;s something <a href=\"http://dozer.sourceforge.net/documentation/faq.html#mult-fields-to-single-field\" rel=\"nofollow noreferrer\">not supported by dozer</a>"}],"tags":[],"owner":{"display_name":"user1444656"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1341519034,"creation_date":1341518684,"answer_id":11351766,"question_id":11351020,"body_markdown":"&lt;p&gt;If you have xsd schema it is very useful to generate pojos using tool like &lt;a href=&quot;http://www.castor.org/&quot;&gt;castor&lt;/a&gt;. Once you have package with generated pojos you can use &lt;a href=&quot;http://dozer.sourceforge.net/&quot;&gt;dozer&lt;/a&gt; in order to map your &quot;old&quot; object model to pojos which represent xml document. Then you just transform castor generated object using Marshaller to Stream, String etc. \r\n&lt;/p&gt;\r\n\r\n\r\n","title":"Generating an XML document from Java objects where the structure is very different","body":"<p>If you have xsd schema it is very useful to generate pojos using tool like <a href=\"http://www.castor.org/\" rel=\"nofollow\">castor</a>. Once you have package with generated pojos you can use <a href=\"http://dozer.sourceforge.net/\" rel=\"nofollow\">dozer</a> in order to map your \"old\" object model to pojos which represent xml document. Then you just transform castor generated object using Marshaller to Stream, String etc. \n</p>\n"},{"comments":[{"owner":{"account_id":1273224,"reputation":706,"user_id":1229037,"accept_rate":86,"display_name":"Terence"},"score":0,"creation_date":1341533883,"post_id":11352124,"comment_id":14954813,"body_markdown":"Being able to specify a specific instance of an `XmlAdapter` to be used for marshalling/unmarshalling is pretty cool, I didn&#39;t know that. However, I&#39;m still having some trouble seeing how to handle the conditional many-to-one part of the problem. The example I threw together has a &quot;Person&quot; object that needs to be represented partially in 3 areas, depending on data values: `Parties/contact_ref`, `Contacts/Contact` and `Items/Item/owning_party_contact_ref`. It&#39;s this conditional part of the translation that&#39;s really driving me away from `XmlAdapter`. Maybe I&#39;m just missing something?","body":"Being able to specify a specific instance of an <code>XmlAdapter</code> to be used for marshalling/unmarshalling is pretty cool, I didn&#39;t know that. However, I&#39;m still having some trouble seeing how to handle the conditional many-to-one part of the problem. The example I threw together has a &quot;Person&quot; object that needs to be represented partially in 3 areas, depending on data values: <code>Parties&#47;contact_ref</code>, <code>Contacts&#47;Contact</code> and <code>Items&#47;Item&#47;owning_party_contact_ref</code>. It&#39;s this conditional part of the translation that&#39;s really driving me away from <code>XmlAdapter</code>. Maybe I&#39;m just missing something?"}],"tags":[],"owner":{"account_id":162425,"reputation":147999,"user_id":383861,"display_name":"bdoughan"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1341520886,"creation_date":1341520250,"answer_id":11352124,"question_id":11351020,"body_markdown":"&gt; If an object tree I&#39;m working with needs some translation in order to\r\n&gt; be used in an XML document, my go-to tool is an XmlAdapter. In this\r\n&gt; case though, I don&#39;t see using JAXB XML adapters as a viable solution.\r\n&gt; As far as I know, XmlAdapters work with individual objects and don&#39;t\r\n&gt; have a way to get at the context of the entire tree being\r\n&gt; marshalled/unmarshalled.\r\n\r\nNormally an `XmlAdapter` is stateless, but you can specify an instance the `XmlAdapter` on the `Marshaller`/`Unmarshaller` that contains state.  This may be all you need.\r\n\r\n    YourAdapter yourAdapter = new YourAdapter();\r\n    yourAdapter.setState(someState);\r\n    marshaller.setAdapter(yourAdapter);\r\n    unmarshaller.setAdapter(yourAdapter);\r\n\r\nThe instance you specified on the `Marshaller`/`Unmarshaller` will be used where the corresponding class was configured:\r\n\r\n    @XmlJavaTypeAdpater(YourAdapter.class)\r\n\r\n**For More Information**\r\n\r\n  - http://blog.bdoughan.com/2011/09/mixing-nesting-and-references-with.html\r\n\r\n","title":"Generating an XML document from Java objects where the structure is very different","body":"<blockquote>\n  <p>If an object tree I'm working with needs some translation in order to\n  be used in an XML document, my go-to tool is an XmlAdapter. In this\n  case though, I don't see using JAXB XML adapters as a viable solution.\n  As far as I know, XmlAdapters work with individual objects and don't\n  have a way to get at the context of the entire tree being\n  marshalled/unmarshalled.</p>\n</blockquote>\n\n<p>Normally an <code>XmlAdapter</code> is stateless, but you can specify an instance the <code>XmlAdapter</code> on the <code>Marshaller</code>/<code>Unmarshaller</code> that contains state.  This may be all you need.</p>\n\n<pre><code>YourAdapter yourAdapter = new YourAdapter();\nyourAdapter.setState(someState);\nmarshaller.setAdapter(yourAdapter);\nunmarshaller.setAdapter(yourAdapter);\n</code></pre>\n\n<p>The instance you specified on the <code>Marshaller</code>/<code>Unmarshaller</code> will be used where the corresponding class was configured:</p>\n\n<pre><code>@XmlJavaTypeAdpater(YourAdapter.class)\n</code></pre>\n\n<p><strong>For More Information</strong></p>\n\n<ul>\n<li><a href=\"http://blog.bdoughan.com/2011/09/mixing-nesting-and-references-with.html\" rel=\"nofollow\">http://blog.bdoughan.com/2011/09/mixing-nesting-and-references-with.html</a></li>\n</ul>\n"},{"comments":[{"owner":{"account_id":1273224,"reputation":706,"user_id":1229037,"accept_rate":86,"display_name":"Terence"},"score":0,"creation_date":1341534050,"post_id":11352335,"comment_id":14954854,"body_markdown":"I was a little scared that would the answer that I&#39;d get. I&#39;m going to hold out hope for some awesome tool or pattern that I&#39;ve never heard of for a while longer. If one doesn&#39;t come in, I&#39;ll be selecting your answer.","body":"I was a little scared that would the answer that I&#39;d get. I&#39;m going to hold out hope for some awesome tool or pattern that I&#39;ve never heard of for a while longer. If one doesn&#39;t come in, I&#39;ll be selecting your answer."}],"tags":[],"owner":{"account_id":40221,"reputation":32100,"user_id":116509,"accept_rate":100,"display_name":"artbristol"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1341521278,"creation_date":1341521278,"answer_id":11352335,"question_id":11351020,"body_markdown":"1 is your best bet IMHO. Writing mapping code is tedious but you should resist the urge to be too clever. Any mapping tool you use is going to require configuration and I bet that&#39;s just as much work as writing the Java mapping code by hand. Just write lots of unit tests.\r\n\r\nYou can try Dozer for any classes that have similar named fields, it will use reflection to do the mapping. I&#39;ve used this in the past, but my schema looked more similar to my domain objects, so it might not be that helpful.\r\n\r\nTo make the code more pleasant, use all the xjc plugins you can find for JAXB, such as the fluent-api and value-constructor ones.","title":"Generating an XML document from Java objects where the structure is very different","body":"<p>1 is your best bet IMHO. Writing mapping code is tedious but you should resist the urge to be too clever. Any mapping tool you use is going to require configuration and I bet that's just as much work as writing the Java mapping code by hand. Just write lots of unit tests.</p>\n\n<p>You can try Dozer for any classes that have similar named fields, it will use reflection to do the mapping. I've used this in the past, but my schema looked more similar to my domain objects, so it might not be that helpful.</p>\n\n<p>To make the code more pleasant, use all the xjc plugins you can find for JAXB, such as the fluent-api and value-constructor ones.</p>\n"},{"tags":[],"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690767664,"creation_date":1690767664,"answer_id":76800248,"question_id":11351020,"body_markdown":"Simplify XML document creation by structuring your code like the final document.\r\n\r\nThis code:\r\n\r\n```java\r\nXmlBuilder builder = XmlBuilder.create(&quot;Projects&quot;)\r\n    .e(&quot;underscore-java&quot;).a(&quot;language&quot;, &quot;Java&quot;).a(&quot;scm&quot;, &quot;SVN&quot;)\r\n        .e(&quot;Location&quot;).a(&quot;type&quot;, &quot;URL&quot;)\r\n            .t(&quot;https://github.com/javadev/underscore-java/&quot;)\r\n        .up()\r\n    .up()\r\n    .e(&quot;JetS3t&quot;).a(&quot;language&quot;, &quot;Java&quot;).a(&quot;scm&quot;, &quot;CVS&quot;)\r\n        .e(&quot;Location&quot;).a(&quot;type&quot;, &quot;URL&quot;)\r\n            .t(&quot;https://jets3t.s3.amazonaws.com/index.html&quot;);\r\n```\r\nGenerates the following XML document:\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;Projects&gt;\r\n    &lt;underscore-java language=&quot;Java&quot; scm=&quot;SVN&quot;&gt;\r\n        &lt;Location type=&quot;URL&quot;&gt;https://github.com/javadev/underscore-java/&lt;/Location&gt;\r\n    &lt;/underscore-java&gt;\r\n    &lt;JetS3t language=&quot;Java&quot; scm=&quot;CVS&quot;&gt;\r\n        &lt;Location type=&quot;URL&quot;&gt;https://jets3t.s3.amazonaws.com/index.html&lt;/Location&gt;\r\n    &lt;/JetS3t&gt;\r\n&lt;/Projects&gt;\r\n```","title":"Generating an XML document from Java objects where the structure is very different","body":"<p>Simplify XML document creation by structuring your code like the final document.</p>\n<p>This code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>XmlBuilder builder = XmlBuilder.create(&quot;Projects&quot;)\n    .e(&quot;underscore-java&quot;).a(&quot;language&quot;, &quot;Java&quot;).a(&quot;scm&quot;, &quot;SVN&quot;)\n        .e(&quot;Location&quot;).a(&quot;type&quot;, &quot;URL&quot;)\n            .t(&quot;https://github.com/javadev/underscore-java/&quot;)\n        .up()\n    .up()\n    .e(&quot;JetS3t&quot;).a(&quot;language&quot;, &quot;Java&quot;).a(&quot;scm&quot;, &quot;CVS&quot;)\n        .e(&quot;Location&quot;).a(&quot;type&quot;, &quot;URL&quot;)\n            .t(&quot;https://jets3t.s3.amazonaws.com/index.html&quot;);\n</code></pre>\n<p>Generates the following XML document:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Projects&gt;\n    &lt;underscore-java language=&quot;Java&quot; scm=&quot;SVN&quot;&gt;\n        &lt;Location type=&quot;URL&quot;&gt;https://github.com/javadev/underscore-java/&lt;/Location&gt;\n    &lt;/underscore-java&gt;\n    &lt;JetS3t language=&quot;Java&quot; scm=&quot;CVS&quot;&gt;\n        &lt;Location type=&quot;URL&quot;&gt;https://jets3t.s3.amazonaws.com/index.html&lt;/Location&gt;\n    &lt;/JetS3t&gt;\n&lt;/Projects&gt;\n</code></pre>\n"}],"owner":{"account_id":1273224,"reputation":706,"user_id":1229037,"accept_rate":86,"display_name":"Terence"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2082,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":11352335,"answer_count":5,"score":5,"last_activity_date":1690767664,"creation_date":1341515684,"question_id":11351020,"body_markdown":"**The Situation**\r\n\r\nI have a complex model object graph in Java that needs to be translated back and forth into an XML document. The object graph structure of the XML document&#39;s schema is extremely different from the model&#39;s object tree. The two are interchangeable, but the translation requires lots of context-driven logic where parent/child-like relationships are used.\r\n\r\n**The Problem**\r\n\r\nI&#39;m working with model objects that are well established in a older system and the XML document&#39;s schema is fairly new. Since lots of our code depends on the structure of the model objects, we don&#39;t want to restructure them. Here is a simplified example of the type of structural differences I&#39;m dealing with:\r\n\r\n&gt; *Example data model tree*\r\n\r\n&gt; Item\r\n\r\n&gt; * Description\r\n&gt; * cost\r\n&gt; * ...\r\n\r\n&gt; Person\r\n\r\n&gt; * First Name\r\n&gt; * Last Name\r\n&gt; * Address\r\n&gt; * ...\r\n\r\n&gt; Address\r\n\r\n&gt; * Street\r\n&gt; * City\r\n&gt; * ...\r\n\r\n&gt; SaleTransaction (*this is the thing being translated)\r\n\r\n&gt; * Buyer (Person)\r\n&gt; * Seller (Person)\r\n&gt; * Sold Items[] (List&lt;Item&gt;)\r\n&gt; * Exchanged Items[] (List&lt;Item&gt;)\r\n&gt; * Location of Transaction (Address)\r\n\r\n&gt; *Example XML Document Structure*\r\n\r\n&gt; Exchange\r\n\r\n&gt; * Type\r\n&gt; * Parties\r\n&gt;   * party_contact_ref\r\n&gt;        * type\r\n&gt;        * contact_id\r\n&gt; * Exchange Details\r\n&gt;   * type\r\n&gt;   * total_amount_exchanged\r\n&gt; * Items\r\n&gt;    * Item\r\n&gt;       * type\r\n&gt;       * owning_party_contact_ref_id\r\n&gt;       * exchange_use_type\r\n&gt;* Contacts\r\n&gt;   * Contact\r\n&gt;       * id\r\n&gt;       * type\r\n\r\n&gt; Exchange Type: [ CASH SALE | BARTER | COMBINATION CASH AND BARTER ]\r\n\r\n&gt; Contact Type:  [ PERSON | ADDRESS ]\r\n\r\n&gt; Exchange Details Type: [ CASH EXCHANGE | BARTER EXCHANGE ]\r\n\r\n\r\nMapping between SaleTransaction and Exchange is possible, just not 1-1. In the example, the &quot;buyer&quot; in the model would be mapped to both a contact and a contact reference element in the XML document. Also, the value of the &quot;owning_party_contact_ref_id&quot; attribute of an &quot;Item&quot; element would be determined by looking at several different values in the SaleTransaction object graph.\r\n\r\nIf an object graph I&#39;m working with needs some translation in order to be used in an XML document, my go-to tool is an XmlAdapter. In this case though, I don&#39;t see using JAXB XML adapters as a viable solution for three reasons.\r\n\r\n 1. Which XML element an object in the model graph corresponds too is data dependent. I believe all XmlAdapter to class/property mappings are fixed.\r\n 2. It doesn&#39;t seem to be possible to do a many to one, or one to many solution with XmlAdapters. MOXy has an [interesting extension][1], but again, it requires fixed mappings to properties.\r\n 3. As far as I know, XmlAdapters work with individual objects and don&#39;t have a way to get at the context of the entire graph being marshalled/unmarshalled.\r\n\r\n**The Question**\r\n\r\nI&#39;m sure this type of problem is fairly common, so how do you handle it? Is there a way of handling this problem with standard tools?\r\n\r\n**What I&#39;ve come up with**\r\n\r\nIn case it&#39;s interesting, here are the possible approaches that I&#39;ve come up with:\r\n\r\n*#1*\r\nSeparate the object graph translation problem from the XML generation problem. I have a home-grown tool that assists with generating object graphs based on some context object. I could create the JAXB classes from the XML schema, then rely on this tool to generate the objects of those classes based on the context of our model object. This would work well to generate an XML document from the model object graph, but not the other way around. It also means relying on non-standard tools, which I&#39;d like to avoid if possible.\r\n\r\n*#2*\r\nGo XmlAdapter crazy and modify the model classes to be able to retain translation state information (e.g. This object in the model tree was used to create this element in the XML document). This would keep the problem very close to the standard usage model for JAXB, but I think it would be a nightmare to develop, test and maintain.\r\n\r\n*#3*\r\nSeparate the object graph problem like I would in #1, but use JDOM instead of JAXB. This would remove all of the JAXB required classes and mappings, but require another custom tool be built to manage the model object to DOM tree mappings.\r\n\r\nI&#39;m not super excited about any of the three solutions, but I&#39;m most partial to #1.\r\n\r\n\r\n  [1]: http://blog.bdoughan.com/2010/08/xmltransformation-going-beyond.html%20interesting%20extension","title":"Generating an XML document from Java objects where the structure is very different","body":"<p><strong>The Situation</strong></p>\n\n<p>I have a complex model object graph in Java that needs to be translated back and forth into an XML document. The object graph structure of the XML document's schema is extremely different from the model's object tree. The two are interchangeable, but the translation requires lots of context-driven logic where parent/child-like relationships are used.</p>\n\n<p><strong>The Problem</strong></p>\n\n<p>I'm working with model objects that are well established in a older system and the XML document's schema is fairly new. Since lots of our code depends on the structure of the model objects, we don't want to restructure them. Here is a simplified example of the type of structural differences I'm dealing with:</p>\n\n<blockquote>\n  <p><em>Example data model tree</em></p>\n  \n  <p>Item</p>\n  \n  <ul>\n  <li>Description</li>\n  <li>cost</li>\n  <li>...</li>\n  </ul>\n  \n  <p>Person</p>\n  \n  <ul>\n  <li>First Name</li>\n  <li>Last Name</li>\n  <li>Address</li>\n  <li>...</li>\n  </ul>\n  \n  <p>Address</p>\n  \n  <ul>\n  <li>Street</li>\n  <li>City</li>\n  <li>...</li>\n  </ul>\n  \n  <p>SaleTransaction (*this is the thing being translated)</p>\n  \n  <ul>\n  <li>Buyer (Person)</li>\n  <li>Seller (Person)</li>\n  <li>Sold Items[] (List)</li>\n  <li>Exchanged Items[] (List)</li>\n  <li>Location of Transaction (Address)</li>\n  </ul>\n  \n  <p><em>Example XML Document Structure</em></p>\n  \n  <p>Exchange</p>\n  \n  <ul>\n  <li>Type</li>\n  <li>Parties\n  <ul>\n  <li>party_contact_ref\n  <ul>\n  <li>type</li>\n  <li>contact_id</li>\n  </ul></li>\n  </ul></li>\n  <li>Exchange Details\n  <ul>\n  <li>type</li>\n  <li>total_amount_exchanged</li>\n  </ul></li>\n  <li>Items\n  <ul>\n  <li>Item\n  <ul>\n  <li>type</li>\n  <li>owning_party_contact_ref_id</li>\n  <li>exchange_use_type</li>\n  </ul></li>\n  </ul></li>\n  <li>Contacts\n  <ul>\n  <li>Contact\n  <ul>\n  <li>id</li>\n  <li>type</li>\n  </ul></li>\n  </ul></li>\n  </ul>\n  \n  <p>Exchange Type: [ CASH SALE | BARTER | COMBINATION CASH AND BARTER ]</p>\n  \n  <p>Contact Type:  [ PERSON | ADDRESS ]</p>\n  \n  <p>Exchange Details Type: [ CASH EXCHANGE | BARTER EXCHANGE ]</p>\n</blockquote>\n\n<p>Mapping between SaleTransaction and Exchange is possible, just not 1-1. In the example, the \"buyer\" in the model would be mapped to both a contact and a contact reference element in the XML document. Also, the value of the \"owning_party_contact_ref_id\" attribute of an \"Item\" element would be determined by looking at several different values in the SaleTransaction object graph.</p>\n\n<p>If an object graph I'm working with needs some translation in order to be used in an XML document, my go-to tool is an XmlAdapter. In this case though, I don't see using JAXB XML adapters as a viable solution for three reasons.</p>\n\n<ol>\n<li>Which XML element an object in the model graph corresponds too is data dependent. I believe all XmlAdapter to class/property mappings are fixed.</li>\n<li>It doesn't seem to be possible to do a many to one, or one to many solution with XmlAdapters. MOXy has an <a href=\"http://blog.bdoughan.com/2010/08/xmltransformation-going-beyond.html%20interesting%20extension\" rel=\"nofollow\">interesting extension</a>, but again, it requires fixed mappings to properties.</li>\n<li>As far as I know, XmlAdapters work with individual objects and don't have a way to get at the context of the entire graph being marshalled/unmarshalled.</li>\n</ol>\n\n<p><strong>The Question</strong></p>\n\n<p>I'm sure this type of problem is fairly common, so how do you handle it? Is there a way of handling this problem with standard tools?</p>\n\n<p><strong>What I've come up with</strong></p>\n\n<p>In case it's interesting, here are the possible approaches that I've come up with:</p>\n\n<p><em>#1</em>\nSeparate the object graph translation problem from the XML generation problem. I have a home-grown tool that assists with generating object graphs based on some context object. I could create the JAXB classes from the XML schema, then rely on this tool to generate the objects of those classes based on the context of our model object. This would work well to generate an XML document from the model object graph, but not the other way around. It also means relying on non-standard tools, which I'd like to avoid if possible.</p>\n\n<p><em>#2</em>\nGo XmlAdapter crazy and modify the model classes to be able to retain translation state information (e.g. This object in the model tree was used to create this element in the XML document). This would keep the problem very close to the standard usage model for JAXB, but I think it would be a nightmare to develop, test and maintain.</p>\n\n<p><em>#3</em>\nSeparate the object graph problem like I would in #1, but use JDOM instead of JAXB. This would remove all of the JAXB required classes and mappings, but require another custom tool be built to manage the model object to DOM tree mappings.</p>\n\n<p>I'm not super excited about any of the three solutions, but I'm most partial to #1.</p>\n"},{"tags":["java","jenkins"],"comments":[{"owner":{"account_id":372682,"reputation":22461,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1690771942,"post_id":76800233,"comment_id":135394754,"body_markdown":"Have your read the documentation? any issues with it?","body":"Have your read the documentation? any issues with it?"},{"owner":{"account_id":2534243,"reputation":1123,"user_id":2201789,"display_name":"user2201789"},"score":0,"creation_date":1690787677,"post_id":76800233,"comment_id":135396229,"body_markdown":"i am not sure if it is limitation. For now, I use .bat method and run the CLI command instead of executing .jlnp file.","body":"i am not sure if it is limitation. For now, I use .bat method and run the CLI command instead of executing .jlnp file."}],"owner":{"account_id":2534243,"reputation":1123,"user_id":2201789,"display_name":"user2201789"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1691062141,"answer_count":0,"score":0,"last_activity_date":1690767421,"creation_date":1690767421,"question_id":76800233,"body_markdown":"I downloaded the jenkins client agent, `.jlnp` file but it cannot run on `OpenJDK`.\r\nJava JRE is now allowed to be installed in the machine.\r\n\r\nwhat is the alternative to run jenkins client?","title":"cannot run .jlnp jenkins agent on OpenJDK","body":"<p>I downloaded the jenkins client agent, <code>.jlnp</code> file but it cannot run on <code>OpenJDK</code>.\nJava JRE is now allowed to be installed in the machine.</p>\n<p>what is the alternative to run jenkins client?</p>\n"},{"tags":["java","logging","grobid"],"answers":[{"tags":[],"owner":{"account_id":360800,"reputation":157,"user_id":4886772,"display_name":"Luca Foppiano"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690765518,"creation_date":1685692989,"answer_id":76388259,"question_id":75854468,"body_markdown":"The default configuration file usually runs with INFO as log level. \r\n\r\nThe way to customize the configuration is to load it as volume as explained [here][1]. Then you could modify the local config file and change `level` it to ERROR or `WARN` to minimize the messages you&#39;re going to receive. \r\n\r\n  [1]: https://grobid.readthedocs.io/en/latest/Grobid-docker/#configure-using-the-yaml-config-file","title":"Disable access logs for GROBID","body":"<p>The default configuration file usually runs with INFO as log level.</p>\n<p>The way to customize the configuration is to load it as volume as explained <a href=\"https://grobid.readthedocs.io/en/latest/Grobid-docker/#configure-using-the-yaml-config-file\" rel=\"nofollow noreferrer\">here</a>. Then you could modify the local config file and change <code>level</code> it to ERROR or <code>WARN</code> to minimize the messages you're going to receive.</p>\n"}],"owner":{"account_id":38617,"reputation":15478,"user_id":110963,"accept_rate":68,"display_name":"Achim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690765518,"creation_date":1679911546,"question_id":75854468,"body_markdown":"I&#39;m using GROBID as a Docker container. The default logging config is way to noisy for large scale production use, so I build a custom image based on the 0.7.2 version with just the grobid.yaml file replaced. The logging section of that file looks like this:\r\n\r\n    logging:\r\n      level: CRITICAL\r\n      loggers:\r\n        org.apache.pdfbox.pdmodel.font.PDSimpleFont: &quot;OFF&quot;\r\n        org.eclipse.jetty: &quot;OFF&quot;\r\n        org.grobid: &quot;OFF&quot;\r\n        io.dropwizard: &quot;OFF&quot;\r\n        com.hubspot: &quot;OFF&quot;\r\n        org.glassfish: &quot;OFF&quot;\r\n      appenders:\r\n        - type: console\r\n          threshold: CRITICAL\r\n          timeZone: UTC\r\n\r\nIt already troubled me that I had to set all those loggers to &quot;OFF&quot;. They just ignored the configured log level, which makes the whole setup ridiculous, but perhaps I&#39;m just missing something. So I disabled them, got much less logs (which proves that the file is used), but still get access logs.logging:\r\n  level: CRITICAL\r\n  loggers:\r\n    org.apache.pdfbox.pdmodel.font.PDSimpleFont: &quot;OFF&quot;\r\n    org.eclipse.jetty: &quot;OFF&quot;\r\n    org.grobid: &quot;OFF&quot;\r\n    io.dropwizard: &quot;OFF&quot;\r\n    com.hubspot: &quot;OFF&quot;\r\n    org.glassfish: &quot;OFF&quot;\r\n  appenders:\r\n    - type: console\r\n      threshold: CRITICAL\r\n      timeZone: UTC\r\n\r\n\r\nWhen processing millions of files I don&#39;t want to have millions of access log lines. Can anybody explain to me how to disable them?\r\n","title":"Disable access logs for GROBID","body":"<p>I'm using GROBID as a Docker container. The default logging config is way to noisy for large scale production use, so I build a custom image based on the 0.7.2 version with just the grobid.yaml file replaced. The logging section of that file looks like this:</p>\n<pre><code>logging:\n  level: CRITICAL\n  loggers:\n    org.apache.pdfbox.pdmodel.font.PDSimpleFont: &quot;OFF&quot;\n    org.eclipse.jetty: &quot;OFF&quot;\n    org.grobid: &quot;OFF&quot;\n    io.dropwizard: &quot;OFF&quot;\n    com.hubspot: &quot;OFF&quot;\n    org.glassfish: &quot;OFF&quot;\n  appenders:\n    - type: console\n      threshold: CRITICAL\n      timeZone: UTC\n</code></pre>\n<p>It already troubled me that I had to set all those loggers to &quot;OFF&quot;. They just ignored the configured log level, which makes the whole setup ridiculous, but perhaps I'm just missing something. So I disabled them, got much less logs (which proves that the file is used), but still get access logs.logging:\nlevel: CRITICAL\nloggers:\norg.apache.pdfbox.pdmodel.font.PDSimpleFont: &quot;OFF&quot;\norg.eclipse.jetty: &quot;OFF&quot;\norg.grobid: &quot;OFF&quot;\nio.dropwizard: &quot;OFF&quot;\ncom.hubspot: &quot;OFF&quot;\norg.glassfish: &quot;OFF&quot;\nappenders:\n- type: console\nthreshold: CRITICAL\ntimeZone: UTC</p>\n<p>When processing millions of files I don't want to have millions of access log lines. Can anybody explain to me how to disable them?</p>\n"},{"tags":["java","lombok"],"comments":[{"owner":{"account_id":14402680,"reputation":312,"user_id":10403784,"display_name":"Vadim Yemelyanov"},"score":0,"creation_date":1690454325,"post_id":76778778,"comment_id":135357494,"body_markdown":"Accroding to documentation :\n1) By annotating one of the parameters (if annotating a method or constructor with @Builder) or fields (if annotating a class with @Builder) with the @Singular annotation, lombok will treat that builder node as a collection, and it generates 2 &#39;adder&#39; methods instead of a &#39;setter&#39; method. One which adds a single element to the collection, and one which adds all elements of another collection to the collection. No setter to just set the collection (replacing whatever was already added) will be generated. \n2) You will need to make your own realisation of builder.","body":"Accroding to documentation : 1) By annotating one of the parameters (if annotating a method or constructor with @Builder) or fields (if annotating a class with @Builder) with the @Singular annotation, lombok will treat that builder node as a collection, and it generates 2 &#39;adder&#39; methods instead of a &#39;setter&#39; method. One which adds a single element to the collection, and one which adds all elements of another collection to the collection. No setter to just set the collection (replacing whatever was already added) will be generated.  2) You will need to make your own realisation of builder."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1690454444,"post_id":76778778,"comment_id":135357526,"body_markdown":"Why are you declaring a constructor that takes a Builder as a parameter? Lombok will generate a `build` method on the Builder, use that instead.","body":"Why are you declaring a constructor that takes a Builder as a parameter? Lombok will generate a <code>build</code> method on the Builder, use that instead."},{"owner":{"account_id":10420807,"reputation":1,"user_id":7683531,"display_name":"fvpaz"},"score":0,"creation_date":1690455478,"post_id":76778778,"comment_id":135357713,"body_markdown":"@Jorn I Have a custom Builder for add extra methods (Not included in Post). In the Builder pattern, I like send The Builder to the Constructor because I reassure myself that the Builder is always used for create The Object.","body":"@Jorn I Have a custom Builder for add extra methods (Not included in Post). In the Builder pattern, I like send The Builder to the Constructor because I reassure myself that the Builder is always used for create The Object."},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690455618,"post_id":76778778,"comment_id":135357742,"body_markdown":"All I can say to that is &quot;don&#39;t do that&quot;. Maybe you can just make the actual constructor private?","body":"All I can say to that is &quot;don&#39;t do that&quot;. Maybe you can just make the actual constructor private?"},{"owner":{"account_id":10420807,"reputation":1,"user_id":7683531,"display_name":"fvpaz"},"score":0,"creation_date":1690458718,"post_id":76778778,"comment_id":135358399,"body_markdown":"Thx. It&#39;s my first time with @Builder, Without Lombok I always build() the Object sending the Builder to Constructor following builder patterns tutorials. I have never had problems, what issues I could get.","body":"Thx. It&#39;s my first time with @Builder, Without Lombok I always build() the Object sending the Builder to Constructor following builder patterns tutorials. I have never had problems, what issues I could get."},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1690463975,"post_id":76778778,"comment_id":135359748,"body_markdown":"No tutorial tells you to send the builder to a constructor. Which tutorial are you talking about? You just write a class with some fields and no constructors at all, slap `@Builder` on, and call `Person.builder().name(&quot;fvpaz&quot;).favouriteSite(&quot;StackOverflow&quot;).build();` and it all just works.","body":"No tutorial tells you to send the builder to a constructor. Which tutorial are you talking about? You just write a class with some fields and no constructors at all, slap <code>@Builder</code> on, and call <code>Person.builder().name(&quot;fvpaz&quot;).favouriteSite(&quot;StackOverflow&quot;&zwnj;&#8203;).build();</code> and it all just works."},{"owner":{"account_id":10420807,"reputation":1,"user_id":7683531,"display_name":"fvpaz"},"score":0,"creation_date":1690466260,"post_id":76778778,"comment_id":135360322,"body_markdown":"@rzwitserloot Yes i know it. I could not tell you than tutorial or post, It was 6 years ago . But I find this: ([Sample Tutorial](https://www.digitalocean.com/community/tutorials/builder-design-pattern-in-java))","body":"@rzwitserloot Yes i know it. I could not tell you than tutorial or post, It was 6 years ago . But I find this: (<a href=\"https://www.digitalocean.com/community/tutorials/builder-design-pattern-in-java\" rel=\"nofollow noreferrer\">Sample Tutorial</a>)"},{"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1690473257,"post_id":76778778,"comment_id":135362013,"body_markdown":"@fvpaz there are a few strategies on how to write builders; lombok chose for the more common model of having _the builder_ do the work of constructing, instead of having the constructor do it.","body":"@fvpaz there are a few strategies on how to write builders; lombok chose for the more common model of having <i>the builder</i> do the work of constructing, instead of having the constructor do it."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89863,"user_id":768644,"display_name":"rzwitserloot"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690764904,"creation_date":1690764904,"answer_id":76800141,"question_id":76778778,"body_markdown":"Your question isn&#39;t entirely clear; but I think the answer to your question is very very simple.\r\n\r\n## The simple case\r\n\r\nThe only problem is what I call a &#39;doctor it hurts when I smash this hammer into my face&#39; problem. You&#39;re making your own life hard for no reason and the solution is simply: Stop doing that.\r\n\r\nLombok makes all the infrastructure for you. There is no need to _also_ make a constructor that takes the builder and then write by hand all the code to copy the values in the builder into your own fields.\r\n\r\nForget about lombok for a moment. Just think of the general principle of builders. There needs to be some method somewhere that does the job of actually &#39;constructing&#39; - it will take all those non-final fields in the builder type and set the (usually) final fields in the actual class to these values.\r\n\r\nThere are 2 different takes on where this code should go. One option is that the main class has a &#39;simple&#39; constructor (one that takes every field as parameter and just has a bunch of `this.fieldName = fieldName;` statements in it), and the builder class has a method that does the hard work. The second take is that the main class has only a constructor that accepts an instance of the builder and _it_ does the work.\r\n\r\nThe first concept is slightly more popular than the second.\r\n\r\nLombok __only__ supports the first. This isn&#39;t a problem: It&#39;s an implementation detail (that constructor, regardless of which &#39;take&#39; on the idea you want, should be private, hence, it just doesn&#39;t matter; which choice you make is invisible to all code outside of that source file anyway).\r\n\r\nLombok _already_ generates the second mode: There&#39;s a `build()` method in the generated builder class that _does the work_, there is no need to write a constructor that _also_ does it. In fact, that&#39;s actively bad, because now you get endless, pointless style debates; should one call `Person.builder().name(&quot;Jane&quot;).age(40).build();` or should one call `new Person(Person.builder().name(&quot;Jane&quot;).age(40));`? You shouldn&#39;t introduce 2 ways of doing a thing if there are no clear alternate use cases where one is better than the other for both alternatives.\r\n\r\nThus, the solution is very very simple: Just.. delete that constructor. Done. If you have `new Person(Person.builder()...);` anywhere in your code base, that&#39;ll now have an error. Fix it by simply removing the `new Person()` part and tossing a `.build()` at the end of the build chain. Easy.\r\n\r\nYou&#39;ve removed a bunch of code from your source files and your API is now better. Double win!\r\n\r\n## The complex case\r\n\r\nIt&#39;s not at all in your snippets, but it&#39;s possible you really do need other internal code (as in, in the same source file, as the builder&#39;s stuff is all `private`) to have access to the map of a builder &#39;mid flight&#39; (after being made but before being used to create an instance).\r\n\r\n__Lombok simply does not support this__. The reasons for this are somewhat complex and mostly spelled out in the documentation. Oversimplifying a bit: Because it&#39;s more efficient this way.\r\n\r\nOnce you toss `@Singular` on a thing that you also want a `@Builder` for, lombok officially washes its hands: The code it generates is no longer designed to be &#39;directly interacted with / interoperated with&#39; by the programmer at all. You let lombok do its thing, and if lombok&#39;s thing is no good, you don&#39;t use that feature of lombok. (see docs - or just take it from me, I&#39;m a core contributor to the project).\r\n\r\nHence, we&#39;ve ended up in a place you usually end up when you take lombok features and need it to go places that are fairly far away from the well-trodden path: Lombok is a tool to generate boilerplate. What you want is sufficiently uncommon that it has fully left the realm of &#39;boilerplate&#39;, and therefore, lombok&#39;s &quot;mission statement&quot; no longer applies to your case. If lombok can cater to your needs &#39;for free&#39; (without complicating the tool for other users and without causing significant maintenance issues) we&#39;d do that, but likely it can&#39;t - as it is here. Allowing the `@Singular` &#39;map&#39; to be accessible mid-build has a cost, and any but the tiniest of costs is unacceptable given that lombok isn&#39;t meant to cater to your needs.\r\n\r\nTo be clear, __I do not think this applies to your scenario__ (the first, simple case does - simply get rid of that constructor). But, if someone has a valid use case for accessing that map mid-build, the answer is: Get rid of `@Builder` and write it by hand; possibly use `java -jar lombok.jar delombok` to give you a basic skeleton to work off of.\r\n","title":"Lombok @Builder @Singular in Map obtain value","body":"<p>Your question isn't entirely clear; but I think the answer to your question is very very simple.</p>\n<h2>The simple case</h2>\n<p>The only problem is what I call a 'doctor it hurts when I smash this hammer into my face' problem. You're making your own life hard for no reason and the solution is simply: Stop doing that.</p>\n<p>Lombok makes all the infrastructure for you. There is no need to <em>also</em> make a constructor that takes the builder and then write by hand all the code to copy the values in the builder into your own fields.</p>\n<p>Forget about lombok for a moment. Just think of the general principle of builders. There needs to be some method somewhere that does the job of actually 'constructing' - it will take all those non-final fields in the builder type and set the (usually) final fields in the actual class to these values.</p>\n<p>There are 2 different takes on where this code should go. One option is that the main class has a 'simple' constructor (one that takes every field as parameter and just has a bunch of <code>this.fieldName = fieldName;</code> statements in it), and the builder class has a method that does the hard work. The second take is that the main class has only a constructor that accepts an instance of the builder and <em>it</em> does the work.</p>\n<p>The first concept is slightly more popular than the second.</p>\n<p>Lombok <strong>only</strong> supports the first. This isn't a problem: It's an implementation detail (that constructor, regardless of which 'take' on the idea you want, should be private, hence, it just doesn't matter; which choice you make is invisible to all code outside of that source file anyway).</p>\n<p>Lombok <em>already</em> generates the second mode: There's a <code>build()</code> method in the generated builder class that <em>does the work</em>, there is no need to write a constructor that <em>also</em> does it. In fact, that's actively bad, because now you get endless, pointless style debates; should one call <code>Person.builder().name(&quot;Jane&quot;).age(40).build();</code> or should one call <code>new Person(Person.builder().name(&quot;Jane&quot;).age(40));</code>? You shouldn't introduce 2 ways of doing a thing if there are no clear alternate use cases where one is better than the other for both alternatives.</p>\n<p>Thus, the solution is very very simple: Just.. delete that constructor. Done. If you have <code>new Person(Person.builder()...);</code> anywhere in your code base, that'll now have an error. Fix it by simply removing the <code>new Person()</code> part and tossing a <code>.build()</code> at the end of the build chain. Easy.</p>\n<p>You've removed a bunch of code from your source files and your API is now better. Double win!</p>\n<h2>The complex case</h2>\n<p>It's not at all in your snippets, but it's possible you really do need other internal code (as in, in the same source file, as the builder's stuff is all <code>private</code>) to have access to the map of a builder 'mid flight' (after being made but before being used to create an instance).</p>\n<p><strong>Lombok simply does not support this</strong>. The reasons for this are somewhat complex and mostly spelled out in the documentation. Oversimplifying a bit: Because it's more efficient this way.</p>\n<p>Once you toss <code>@Singular</code> on a thing that you also want a <code>@Builder</code> for, lombok officially washes its hands: The code it generates is no longer designed to be 'directly interacted with / interoperated with' by the programmer at all. You let lombok do its thing, and if lombok's thing is no good, you don't use that feature of lombok. (see docs - or just take it from me, I'm a core contributor to the project).</p>\n<p>Hence, we've ended up in a place you usually end up when you take lombok features and need it to go places that are fairly far away from the well-trodden path: Lombok is a tool to generate boilerplate. What you want is sufficiently uncommon that it has fully left the realm of 'boilerplate', and therefore, lombok's &quot;mission statement&quot; no longer applies to your case. If lombok can cater to your needs 'for free' (without complicating the tool for other users and without causing significant maintenance issues) we'd do that, but likely it can't - as it is here. Allowing the <code>@Singular</code> 'map' to be accessible mid-build has a cost, and any but the tiniest of costs is unacceptable given that lombok isn't meant to cater to your needs.</p>\n<p>To be clear, <strong>I do not think this applies to your scenario</strong> (the first, simple case does - simply get rid of that constructor). But, if someone has a valid use case for accessing that map mid-build, the answer is: Get rid of <code>@Builder</code> and write it by hand; possibly use <code>java -jar lombok.jar delombok</code> to give you a basic skeleton to work off of.</p>\n"}],"owner":{"account_id":10420807,"reputation":1,"user_id":7683531,"display_name":"fvpaz"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":339,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690764904,"creation_date":1690453318,"question_id":76778778,"body_markdown":"I annotated with **@Singular** to a Map, but I can&#39;t obtain the **Map variable** in the builder object.\r\n\r\n**My Class:**\r\n```\r\n@Getter\r\n@Builder\r\npublic class WebServiceStatus {\r\n    private final String              wsdl;\r\n    private final String              operation;\r\n    @Singular\r\n    private final Map&lt;String, String&gt; params;\r\n\r\n    public WebServiceStatus(WebServiceStatusBuilder builder) {\r\n        this.wsdl = builder.wsdl;\r\n        this.operation = builder.operation;\r\n\r\n        this.params = builder.params; // FAIL - Can&#39;t obtain params variable\r\n    }\r\n}\r\n```\r\n\r\nLombok Generates the builder with this fields without **Map type for params**:\r\n```\r\nWebServiceStatusBuilder {\r\n wsdl: String\r\n operation: String\r\n params$key: ArrayList&lt;String&gt;\r\n params$value ArrayList&lt;String&gt; \r\n}\r\n```\r\n**Extra Questions:**\r\n- Do I have to create my own Getter Method for obtain the Map? (Any problem with this solution?)\r\n- Why lombok not generate or include an Getter for @Singular Maps?\r\n","title":"Lombok @Builder @Singular in Map obtain value","body":"<p>I annotated with <strong>@Singular</strong> to a Map, but I can't obtain the <strong>Map variable</strong> in the builder object.</p>\n<p><strong>My Class:</strong></p>\n<pre><code>@Getter\n@Builder\npublic class WebServiceStatus {\n    private final String              wsdl;\n    private final String              operation;\n    @Singular\n    private final Map&lt;String, String&gt; params;\n\n    public WebServiceStatus(WebServiceStatusBuilder builder) {\n        this.wsdl = builder.wsdl;\n        this.operation = builder.operation;\n\n        this.params = builder.params; // FAIL - Can't obtain params variable\n    }\n}\n</code></pre>\n<p>Lombok Generates the builder with this fields without <strong>Map type for params</strong>:</p>\n<pre><code>WebServiceStatusBuilder {\n wsdl: String\n operation: String\n params$key: ArrayList&lt;String&gt;\n params$value ArrayList&lt;String&gt; \n}\n</code></pre>\n<p><strong>Extra Questions:</strong></p>\n<ul>\n<li>Do I have to create my own Getter Method for obtain the Map? (Any problem with this solution?)</li>\n<li>Why lombok not generate or include an Getter for @Singular Maps?</li>\n</ul>\n"},{"tags":["java","maven","jocl"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1690768500,"post_id":76800107,"comment_id":135394467,"body_markdown":"Does this answer your question? [Another Maven &quot;Source option 6 is no longer supported. Use 7 or later.&quot;](https://stackoverflow.com/questions/61860989/another-maven-source-option-6-is-no-longer-supported-use-7-or-later)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/61860989/another-maven-source-option-6-is-no-longer-supported-use-7-or-later\">Another Maven &quot;Source option 6 is no longer supported. Use 7 or later.&quot;</a>"}],"owner":{"account_id":22714916,"reputation":11,"user_id":16880338,"display_name":"Juan_Puthr"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690764145,"creation_date":1690764145,"question_id":76800107,"body_markdown":"I&#39;m currently trying to install the Java bindings of openCL through JOCL. I have followed the steps provided on their site from cloning the two git links to building the native libraries. I haven&#39;t followed the steps installing clBLAS and clBLAST since I do not plan on using those libraries. When going to then build the Java libraries with maven, I get this error\r\n\r\n[ERROR] error: Source option 6 is no longer supported. Use 8 or later.\r\n[ERROR] error: Target option 6 is no longer supported. Use 8 or later\r\n\r\nDid I miss a step or is their something wrong with JOCL itself?","title":"MVN is not letting me install JOCL","body":"<p>I'm currently trying to install the Java bindings of openCL through JOCL. I have followed the steps provided on their site from cloning the two git links to building the native libraries. I haven't followed the steps installing clBLAS and clBLAST since I do not plan on using those libraries. When going to then build the Java libraries with maven, I get this error</p>\n<p>[ERROR] error: Source option 6 is no longer supported. Use 8 or later.\n[ERROR] error: Target option 6 is no longer supported. Use 8 or later</p>\n<p>Did I miss a step or is their something wrong with JOCL itself?</p>\n"},{"tags":["java","programming-languages","module","dependencies"],"comments":[{"owner":{"account_id":1252925,"reputation":16085,"user_id":1212960,"accept_rate":93,"display_name":"Greg Kopff"},"score":0,"creation_date":1341372389,"post_id":11322018,"comment_id":14903676,"body_markdown":"Technically, you don&#39;t import files - the import is simply used by the compiler to resolve fully qualified class names when non-fully qualified class names are used.","body":"Technically, you don&#39;t import files - the import is simply used by the compiler to resolve fully qualified class names when non-fully qualified class names are used."},{"owner":{"account_id":1252925,"reputation":16085,"user_id":1212960,"accept_rate":93,"display_name":"Greg Kopff"},"score":0,"creation_date":1341372488,"post_id":11322018,"comment_id":14903694,"body_markdown":"Via reflection, you can look at the fields in a class, the arguments and return types of the methods -- but reflection won&#39;t tell you anything about classes that are used *within* a method.","body":"Via reflection, you can look at the fields in a class, the arguments and return types of the methods -- but reflection won&#39;t tell you anything about classes that are used <i>within</i> a method."},{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":0,"creation_date":1341372509,"post_id":11322018,"comment_id":14903699,"body_markdown":"Check out the source of OpenJDK? I think you are doing something that the compiler is doing already.","body":"Check out the source of OpenJDK? I think you are doing something that the compiler is doing already."},{"owner":{"account_id":1078274,"reputation":5094,"user_id":1075956,"display_name":"Thomas"},"score":0,"creation_date":1341373377,"post_id":11322018,"comment_id":14903836,"body_markdown":"There should be a variety of UML tools which can do close to this.  They would show which Objects are related, not files, but Java has a pretty close coupling between the two so the UML dependency chart will get you close.","body":"There should be a variety of UML tools which can do close to this.  They would show which Objects are related, not files, but Java has a pretty close coupling between the two so the UML dependency chart will get you close."},{"owner":{"account_id":150322,"reputation":1378,"user_id":363441,"accept_rate":75,"display_name":"Gooner"},"score":0,"creation_date":1341413516,"post_id":11322018,"comment_id":14918051,"body_markdown":"@GregKopff Yes, I had the same limitation of reflection in mind.","body":"@GregKopff Yes, I had the same limitation of reflection in mind."},{"owner":{"account_id":150322,"reputation":1378,"user_id":363441,"accept_rate":75,"display_name":"Gooner"},"score":0,"creation_date":1341413556,"post_id":11322018,"comment_id":14918075,"body_markdown":"@nhahtdh sure, that&#39;s pretty valid, but how feasible?","body":"@nhahtdh sure, that&#39;s pretty valid, but how feasible?"},{"owner":{"account_id":150322,"reputation":1378,"user_id":363441,"accept_rate":75,"display_name":"Gooner"},"score":0,"creation_date":1341413583,"post_id":11322018,"comment_id":14918097,"body_markdown":"@Thomas Right, I&#39;ll have a look at those. But for other languages?","body":"@Thomas Right, I&#39;ll have a look at those. But for other languages?"}],"answers":[{"comments":[{"owner":{"account_id":150322,"reputation":1378,"user_id":363441,"accept_rate":75,"display_name":"Gooner"},"score":0,"creation_date":1341413744,"post_id":11322545,"comment_id":14918172,"body_markdown":"This sounds interesting, but I&#39;m not sure how feasible it is. I&#39;ll probably wait for more answers.","body":"This sounds interesting, but I&#39;m not sure how feasible it is. I&#39;ll probably wait for more answers."},{"owner":{"account_id":1477425,"reputation":1562,"user_id":1387501,"accept_rate":100,"display_name":"george_h"},"score":0,"creation_date":1341441943,"post_id":11322545,"comment_id":14926028,"body_markdown":"It is 100% feasible, we learn this stuff in university. Usually course goes by the name of &quot;compiler construction.&quot; You&#39;re basically looking at coding a parser and analyzing the source code and mapping every single portion of it. Then you just find the connection between the mappings based on rules. and those rules are defined in the JVM specs.","body":"It is 100% feasible, we learn this stuff in university. Usually course goes by the name of &quot;compiler construction.&quot; You&#39;re basically looking at coding a parser and analyzing the source code and mapping every single portion of it. Then you just find the connection between the mappings based on rules. and those rules are defined in the JVM specs."},{"owner":{"account_id":1477425,"reputation":1562,"user_id":1387501,"accept_rate":100,"display_name":"george_h"},"score":0,"creation_date":1341442910,"post_id":11322545,"comment_id":14926183,"body_markdown":"If there is time I could write you a sample program that does what I mentioned. Like something really basic as a proof of concept if you doubt the feasibility of what I am suggesting.","body":"If there is time I could write you a sample program that does what I mentioned. Like something really basic as a proof of concept if you doubt the feasibility of what I am suggesting."}],"tags":[],"owner":{"account_id":1477425,"reputation":1562,"user_id":1387501,"accept_rate":100,"display_name":"george_h"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1341377107,"creation_date":1341377107,"answer_id":11322545,"question_id":11322018,"body_markdown":"You have asked two questions and I will try to address the first one. I believe you are doing some kind of source analysis of java files to see how they could interact with each other (at least that&#39;s what I understood) So basically to do this you have to act a bit like the Eclipse IDE. Scanning the source code in each .java file and constructing data structures of java reserved words and constructs. Once each .java file has been analyzed you can then proceed to discover the links between them.\r\n\r\nex.\r\n\r\n1. Store the package name of the class and its name and its scope\r\n2. Store a HashMap of all declared variables, their values and their scope\r\n3. Discover the methods in the source file and store their names, in + out parameters and scope\r\n\r\nYou can do a lot more too and to detect these constructs you&#39;d have to write your own (or find something on the net) parser and use regular expressions to detect these. You store them in your program and then once all source files are analyzed, you can begin to see the interactions.\r\n\r\nex.\r\n\r\nSource file 1 is in package x.y and has 3 public methods and 2 package scope methods.\r\nSource file 2 is in package z and has 1 public method and 3 private methods.\r\n\r\nSo you can conclude that file 1 can interact with file 2 by invoking that 1 public method. And you can do the same analysis for all the files.","title":"Java source code dependency graph","body":"<p>You have asked two questions and I will try to address the first one. I believe you are doing some kind of source analysis of java files to see how they could interact with each other (at least that's what I understood) So basically to do this you have to act a bit like the Eclipse IDE. Scanning the source code in each .java file and constructing data structures of java reserved words and constructs. Once each .java file has been analyzed you can then proceed to discover the links between them.</p>\n\n<p>ex.</p>\n\n<ol>\n<li>Store the package name of the class and its name and its scope</li>\n<li>Store a HashMap of all declared variables, their values and their scope</li>\n<li>Discover the methods in the source file and store their names, in + out parameters and scope</li>\n</ol>\n\n<p>You can do a lot more too and to detect these constructs you'd have to write your own (or find something on the net) parser and use regular expressions to detect these. You store them in your program and then once all source files are analyzed, you can begin to see the interactions.</p>\n\n<p>ex.</p>\n\n<p>Source file 1 is in package x.y and has 3 public methods and 2 package scope methods.\nSource file 2 is in package z and has 1 public method and 3 private methods.</p>\n\n<p>So you can conclude that file 1 can interact with file 2 by invoking that 1 public method. And you can do the same analysis for all the files.</p>\n"},{"comments":[{"owner":{"account_id":187722,"reputation":885,"user_id":425993,"accept_rate":100,"display_name":"Ace.Yin"},"score":0,"creation_date":1378084238,"post_id":12514965,"comment_id":27313356,"body_markdown":"OK, i would suggest to use : ANTLR (http://www.antlr.org/) this time. ANTLR is the best solution for programming language parse and process.","body":"OK, i would suggest to use : ANTLR (<a href=\"http://www.antlr.org/\" rel=\"nofollow noreferrer\">antlr.org</a>) this time. ANTLR is the best solution for programming language parse and process."}],"tags":[],"owner":{"account_id":187722,"reputation":885,"user_id":425993,"accept_rate":100,"display_name":"Ace.Yin"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1348151719,"creation_date":1348151719,"answer_id":12514965,"question_id":11322018,"body_markdown":"i am currently working on a project , the main function is very similar to what you mentioned , and i use the javaparser : http://code.google.com/p/javaparser/\r\n\r\njavaparser is very powerful , it can help us a lot in source code analysis , but it is very hard to get the full dependencies and classes interactions even if i use javaparser.\r\n\r\nFor example:\r\nif you want to get all the dependencies of a class , the most directly approach is to get the &quot;import&quot; area of the source code - this is very easy by using javaparser.\r\n\r\nBut only the &quot;import&quot; is not enough , if the class - ClassA - you are currently analyzing called a class - ClassB - which is in the same package with ClassA , then ClassB will not appears in the import area .\r\n\r\nSo in this situation , we can not get the ClassB dependency.\r\n\r\nAnd for the interactive of classes , if you can not 100% get the right dependencies of a class , then you can not 100% know the right interactive between classes.\r\n\r\nBut anyway , up to now, the javaparser is the most powerful and useful java source code analyze tool i can find .\r\n\r\n","title":"Java source code dependency graph","body":"<p>i am currently working on a project , the main function is very similar to what you mentioned , and i use the javaparser : <a href=\"http://code.google.com/p/javaparser/\" rel=\"nofollow\">http://code.google.com/p/javaparser/</a></p>\n\n<p>javaparser is very powerful , it can help us a lot in source code analysis , but it is very hard to get the full dependencies and classes interactions even if i use javaparser.</p>\n\n<p>For example:\nif you want to get all the dependencies of a class , the most directly approach is to get the \"import\" area of the source code - this is very easy by using javaparser.</p>\n\n<p>But only the \"import\" is not enough , if the class - ClassA - you are currently analyzing called a class - ClassB - which is in the same package with ClassA , then ClassB will not appears in the import area .</p>\n\n<p>So in this situation , we can not get the ClassB dependency.</p>\n\n<p>And for the interactive of classes , if you can not 100% get the right dependencies of a class , then you can not 100% know the right interactive between classes.</p>\n\n<p>But anyway , up to now, the javaparser is the most powerful and useful java source code analyze tool i can find .</p>\n"},{"comments":[{"owner":{"account_id":32681,"reputation":138933,"user_id":90848,"accept_rate":90,"display_name":"Laurence Gonsalves"},"score":0,"creation_date":1369931414,"post_id":16675598,"comment_id":24284419,"body_markdown":"It might be easier, but it would also be wrong. javac inlines constants across source files, meaning that you can have A.java depending on B.java, but A.class with no references to B.class.","body":"It might be easier, but it would also be wrong. javac inlines constants across source files, meaning that you can have A.java depending on B.java, but A.class with no references to B.class."}],"tags":[],"owner":{"account_id":467513,"reputation":744,"user_id":872949,"accept_rate":44,"display_name":"koehn"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1369155864,"creation_date":1369155864,"answer_id":16675598,"question_id":11322018,"body_markdown":"I know you said you&#39;d rather not do the compile, but it would be far easier to look through the class files. Between the bytecode and the constants pool you can get everything you need without resorting to essentially rewriting javac. Use Apache BCEL and you&#39;re mostly there. Obviously no tool will be able to find dependencies accessed through reflection; for that you&#39;d need to do runtime analysis with a custom classloader or something. \r\n\r\nhttps://en.wikipedia.org/wiki/Java_class_file\r\nhttp://commons.apache.org/proper/commons-bcel/","title":"Java source code dependency graph","body":"<p>I know you said you'd rather not do the compile, but it would be far easier to look through the class files. Between the bytecode and the constants pool you can get everything you need without resorting to essentially rewriting javac. Use Apache BCEL and you're mostly there. Obviously no tool will be able to find dependencies accessed through reflection; for that you'd need to do runtime analysis with a custom classloader or something. </p>\n\n<p><a href=\"https://en.wikipedia.org/wiki/Java_class_file\" rel=\"nofollow\">https://en.wikipedia.org/wiki/Java_class_file</a>\n<a href=\"http://commons.apache.org/proper/commons-bcel/\" rel=\"nofollow\">http://commons.apache.org/proper/commons-bcel/</a></p>\n"},{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690763803,"creation_date":1690762004,"answer_id":76800036,"question_id":11322018,"body_markdown":"For someone coming across this question in 2023 or later, seems like this work was done by Patrick Beuks and Darius Sas as their [Bachelor thesis](https://fse.studenttheses.ub.rug.nl/20150/1/bCS_2019_BeuksPA.pdf) , and the code [open sourced](https://github.com/darius-sas/pyne). While it is usually preferable to have standalone answers in Stackoverflow, there&#39;s no way to do that here without copy-pasting the thesis or the code, which makes no sense and would be unethical.\r\n\r\nEdit:\r\n\r\nI attempted to use the software, but it requires building from source, and makes childish assumptions that fail the build. Thus, like many academic projects, this one too fails to work without a lot of time and effort invested by the user.\r\n\r\nYou wanted to scan source code, but there&#39;s a popular open source software that can scan class files.\r\nhttps://github.com/classgraph/classgraph","title":"Java source code dependency graph","body":"<p>For someone coming across this question in 2023 or later, seems like this work was done by Patrick Beuks and Darius Sas as their <a href=\"https://fse.studenttheses.ub.rug.nl/20150/1/bCS_2019_BeuksPA.pdf\" rel=\"nofollow noreferrer\">Bachelor thesis</a> , and the code <a href=\"https://github.com/darius-sas/pyne\" rel=\"nofollow noreferrer\">open sourced</a>. While it is usually preferable to have standalone answers in Stackoverflow, there's no way to do that here without copy-pasting the thesis or the code, which makes no sense and would be unethical.</p>\n<p>Edit:</p>\n<p>I attempted to use the software, but it requires building from source, and makes childish assumptions that fail the build. Thus, like many academic projects, this one too fails to work without a lot of time and effort invested by the user.</p>\n<p>You wanted to scan source code, but there's a popular open source software that can scan class files.\n<a href=\"https://github.com/classgraph/classgraph\" rel=\"nofollow noreferrer\">https://github.com/classgraph/classgraph</a></p>\n"}],"owner":{"account_id":150322,"reputation":1378,"user_id":363441,"accept_rate":75,"display_name":"Gooner"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4072,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1690763803,"creation_date":1341372013,"question_id":11322018,"body_markdown":"Well, first of all, this could potentially be stupid and crazy.\r\n\r\nI am trying to build (or use, if there already exists one) a framework, which takes in a number of Java source files and outputs the way these files interact; for example, file1.java could *import* file2.java; file2.java could call a *static* method from file3.java. It would ideally be great, if this could be done without compiling or running the set of files. I am aware of the Reflection API that allows me to explore the parts of a class, but is that what I am looking for?\r\n\r\nAlso, how hard is this to extend to other languages, for example, Python, or Lisp (add any other language here)?\r\n\r\nI was not really sure how to construct the question title, so if something like this has been asked before, I&#39;d be glad if you could link me to that question.\r\n","title":"Java source code dependency graph","body":"<p>Well, first of all, this could potentially be stupid and crazy.</p>\n\n<p>I am trying to build (or use, if there already exists one) a framework, which takes in a number of Java source files and outputs the way these files interact; for example, file1.java could <em>import</em> file2.java; file2.java could call a <em>static</em> method from file3.java. It would ideally be great, if this could be done without compiling or running the set of files. I am aware of the Reflection API that allows me to explore the parts of a class, but is that what I am looking for?</p>\n\n<p>Also, how hard is this to extend to other languages, for example, Python, or Lisp (add any other language here)?</p>\n\n<p>I was not really sure how to construct the question title, so if something like this has been asked before, I'd be glad if you could link me to that question.</p>\n"},{"tags":["java"],"owner":{"account_id":28807061,"reputation":9,"user_id":22062684,"display_name":"Aaliyah McAfee"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690759466,"creation_date":1690759466,"question_id":76799950,"body_markdown":"I am working with Google Maps API, and I want to add a filter to my map that causes certain markers to be hidden depending on what spinner option is selected. How can I make it so the map reloads when the option is selected, so that the user can filter while using the map? I am currently using java. ","title":"How to reload map when spinner option is selected?","body":"<p>I am working with Google Maps API, and I want to add a filter to my map that causes certain markers to be hidden depending on what spinner option is selected. How can I make it so the map reloads when the option is selected, so that the user can filter while using the map? I am currently using java.</p>\n"},{"tags":["java","spring-boot","unit-testing","spring-security"],"answers":[{"comments":[{"owner":{"account_id":12058100,"reputation":317,"user_id":8818110,"accept_rate":40,"display_name":"ScorprocS"},"score":0,"creation_date":1690663658,"post_id":76794439,"comment_id":135385888,"body_markdown":"Thanks a lot for your answere i will try this tomorrow","body":"Thanks a lot for your answere i will try this tomorrow"}],"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690759157,"creation_date":1690647408,"answer_id":76794439,"question_id":76792705,"body_markdown":"#### General considerations\r\n\r\nFirst, when testing a controller, you&#39;d better write unit-tests using `@WebMvcTest` (and mock autowired dependencies) rather than integration-tests using `@SpringBootTest`. This executes faster.\r\n\r\nSecond, do not remove `com.c4-soft.springaddons.oidc.*` from your test properties. It is used to configure some of the security beans which are used even in `@WebMvcTest` and `@SpringBootTest`.\r\n\r\nThird, the `spring-addons-starter-oidc-test` you depend on is already providing with test annotations to setup security context. Two might be of most interest to you:\r\n- `@WithMockAuthentication` to be used in cases where mocking authorities (and optionally username or actual `Authentication` implementation type) is enough\r\n- `@WithJwt` when you want full control on JWT claims and use the actual authentication converter to setup the test security context.\r\n\r\n#### How it works\r\n\r\n`@WithMockAuthentication` builds an `Authentication` mock, pre-configured with what you provide as annotation arguments.\r\n\r\n`@WithJwt` is a bit more advanced: it  uses the JSON file or String passed as argument to build a `org.springframework.security.oauth2.jwt.Jwt` instance (what is built after JWT decoding and validation) and then provide it as input to the `Converter&lt;Jwt, ? extends AbstractAuthenticationToken&gt;` picked from the security configuration. This means that **the actual `Authentication` implementation (`JwtAuthenticationToken` by default), as well as username, authorities and claims will be the exact same as at runtime for the same JWT payload**.\r\n\r\nWhen using `@WithJwt`, extract the claims from tokens for a few representative users and dump the content as JSON files in test resources. Using a tool like [https://jwt.io][3] and real tokens it is rather simple. You could also write the JSON yourself, starting with the sample below.\r\n\r\n#### Sample usage\r\n\r\nYou&#39;ll find unit and integration tests in all the samples and tutorials in [the repo hosting `spring-addons-starter-oidc`][1], like for instance in [this project][2]. Just `git clone https://github.com/ch4mpy/spring-addons.git` and run any test, you&#39;ll see it pass, even before you setup any authorization server (I really encourage you do do so, you&#39;ll have many samples that you can debug in your IDE and code snippets to copy).\r\n\r\n```java\r\n@WebMvcTest(TestConroller.class) // Use WebFluxTest in a reactive application\r\n@AutoConfigureAddonsWebmvcResourceServerSecurity // trigger spring-addons auto-configuration\r\n@Import({ YourWebSecurityConfigIfAny.class }) // Import your web-security configuration (if any) or decorate with `@EnableMethodSecurity` (if using it)\r\nclass TestConrollerTest {\r\n\r\n\t@Autowired\r\n\tMockMvc api;\r\n\r\n\t@Test\r\n\t@WithAnonymousUser\r\n\tvoid givenRequestIsAnonymous_whenGetTest_thenUnauthorized() throws Exception {\r\n\t\tapi.perform(get(&quot;/test/&quot;)).andExpect(status().isUnauthorized());\r\n\t}\r\n\r\n\t@Test\r\n\t@WithMockAuthentication(&quot;ROLE_USER&quot;)\r\n\tvoid givenUserHasMockedAuthentication_whenGetTest_thenOk() throws Exception {\r\n\t\tapi.perform(get(&quot;/test/&quot;)).andExpect(content().string(&quot;ok&quot;));\r\n\t}\r\n\r\n\t@Test\r\n\t@WithJwt(&quot;standrad_user.json&quot;)\r\n\tvoid givenUserHasJwt_whenGetTest_thenOk() throws Exception {\r\n\t\tapi.perform(get(&quot;/test/&quot;)).andExpect(content().string(&quot;ok&quot;));\r\n\t}\r\n}\r\n```\r\nWith something like that in `src/test/resources/standrad_user.json`\r\n```json\r\n{\r\n  &quot;preferred_username&quot;: &quot;standrad_user&quot;,\r\n  &quot;scope&quot;: &quot;profile email&quot;,\r\n  &quot;email&quot;: &quot;standrad_user@machin.truc&quot;,\r\n  &quot;email_verified&quot;: false,\r\n  &quot;realm_access&quot;: {\r\n    &quot;roles&quot;: [\r\n      &quot;USER&quot;\r\n    ]\r\n  }\r\n}\r\n```\r\nFor an integration-test, only the test class decoration changes:\r\n```java\r\n@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\r\n@AutoConfigureMockMvc\r\nclass SampleApiIntegrationTest {\r\n    // body is the exact same as the unit-test above\r\n}\r\n```\r\n\r\nYou will also find some samples using JUnit 5 `@ParameterizedTest` which is very convenient when an endpoint should behave the same for various personae (UX word for &quot;representative users&quot;). The test will run several times, once for each of the provided identities.\r\n\r\n#### P.S.\r\nIf using Spring Boot `3.1.2` (and you should), also use spring-addons `7.0.7` because of [cve-2023-34035][4] which changed a bit the `AuthorizationManagerRequestMatcherRegistry::requestMatchers` signature.\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons#unit-tests\r\n  [2]: https://github.com/ch4mpy/spring-addons/tree/master/samples/webmvc-jwt-default/src/test/java/com/c4_soft/springaddons/samples/webmvc_jwtauthenticationtoken\r\n  [3]: https://jwt.io\r\n  [4]: https://spring.io/security/cve-2023-34035","title":"Spring boot 3 security test with Mock JWT Authentication Token WithMockUser","body":"<h4>General considerations</h4>\n<p>First, when testing a controller, you'd better write unit-tests using <code>@WebMvcTest</code> (and mock autowired dependencies) rather than integration-tests using <code>@SpringBootTest</code>. This executes faster.</p>\n<p>Second, do not remove <code>com.c4-soft.springaddons.oidc.*</code> from your test properties. It is used to configure some of the security beans which are used even in <code>@WebMvcTest</code> and <code>@SpringBootTest</code>.</p>\n<p>Third, the <code>spring-addons-starter-oidc-test</code> you depend on is already providing with test annotations to setup security context. Two might be of most interest to you:</p>\n<ul>\n<li><code>@WithMockAuthentication</code> to be used in cases where mocking authorities (and optionally username or actual <code>Authentication</code> implementation type) is enough</li>\n<li><code>@WithJwt</code> when you want full control on JWT claims and use the actual authentication converter to setup the test security context.</li>\n</ul>\n<h4>How it works</h4>\n<p><code>@WithMockAuthentication</code> builds an <code>Authentication</code> mock, pre-configured with what you provide as annotation arguments.</p>\n<p><code>@WithJwt</code> is a bit more advanced: it  uses the JSON file or String passed as argument to build a <code>org.springframework.security.oauth2.jwt.Jwt</code> instance (what is built after JWT decoding and validation) and then provide it as input to the <code>Converter&lt;Jwt, ? extends AbstractAuthenticationToken&gt;</code> picked from the security configuration. This means that <strong>the actual <code>Authentication</code> implementation (<code>JwtAuthenticationToken</code> by default), as well as username, authorities and claims will be the exact same as at runtime for the same JWT payload</strong>.</p>\n<p>When using <code>@WithJwt</code>, extract the claims from tokens for a few representative users and dump the content as JSON files in test resources. Using a tool like <a href=\"https://jwt.io\" rel=\"nofollow noreferrer\">https://jwt.io</a> and real tokens it is rather simple. You could also write the JSON yourself, starting with the sample below.</p>\n<h4>Sample usage</h4>\n<p>You'll find unit and integration tests in all the samples and tutorials in <a href=\"https://github.com/ch4mpy/spring-addons#unit-tests\" rel=\"nofollow noreferrer\">the repo hosting <code>spring-addons-starter-oidc</code></a>, like for instance in <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/webmvc-jwt-default/src/test/java/com/c4_soft/springaddons/samples/webmvc_jwtauthenticationtoken\" rel=\"nofollow noreferrer\">this project</a>. Just <code>git clone https://github.com/ch4mpy/spring-addons.git</code> and run any test, you'll see it pass, even before you setup any authorization server (I really encourage you do do so, you'll have many samples that you can debug in your IDE and code snippets to copy).</p>\n<pre class=\"lang-java prettyprint-override\"><code>@WebMvcTest(TestConroller.class) // Use WebFluxTest in a reactive application\n@AutoConfigureAddonsWebmvcResourceServerSecurity // trigger spring-addons auto-configuration\n@Import({ YourWebSecurityConfigIfAny.class }) // Import your web-security configuration (if any) or decorate with `@EnableMethodSecurity` (if using it)\nclass TestConrollerTest {\n\n    @Autowired\n    MockMvc api;\n\n    @Test\n    @WithAnonymousUser\n    void givenRequestIsAnonymous_whenGetTest_thenUnauthorized() throws Exception {\n        api.perform(get(&quot;/test/&quot;)).andExpect(status().isUnauthorized());\n    }\n\n    @Test\n    @WithMockAuthentication(&quot;ROLE_USER&quot;)\n    void givenUserHasMockedAuthentication_whenGetTest_thenOk() throws Exception {\n        api.perform(get(&quot;/test/&quot;)).andExpect(content().string(&quot;ok&quot;));\n    }\n\n    @Test\n    @WithJwt(&quot;standrad_user.json&quot;)\n    void givenUserHasJwt_whenGetTest_thenOk() throws Exception {\n        api.perform(get(&quot;/test/&quot;)).andExpect(content().string(&quot;ok&quot;));\n    }\n}\n</code></pre>\n<p>With something like that in <code>src/test/resources/standrad_user.json</code></p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;preferred_username&quot;: &quot;standrad_user&quot;,\n  &quot;scope&quot;: &quot;profile email&quot;,\n  &quot;email&quot;: &quot;standrad_user@machin.truc&quot;,\n  &quot;email_verified&quot;: false,\n  &quot;realm_access&quot;: {\n    &quot;roles&quot;: [\n      &quot;USER&quot;\n    ]\n  }\n}\n</code></pre>\n<p>For an integration-test, only the test class decoration changes:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)\n@AutoConfigureMockMvc\nclass SampleApiIntegrationTest {\n    // body is the exact same as the unit-test above\n}\n</code></pre>\n<p>You will also find some samples using JUnit 5 <code>@ParameterizedTest</code> which is very convenient when an endpoint should behave the same for various personae (UX word for &quot;representative users&quot;). The test will run several times, once for each of the provided identities.</p>\n<h4>P.S.</h4>\n<p>If using Spring Boot <code>3.1.2</code> (and you should), also use spring-addons <code>7.0.7</code> because of <a href=\"https://spring.io/security/cve-2023-34035\" rel=\"nofollow noreferrer\">cve-2023-34035</a> which changed a bit the <code>AuthorizationManagerRequestMatcherRegistry::requestMatchers</code> signature.</p>\n"}],"owner":{"account_id":12058100,"reputation":317,"user_id":8818110,"accept_rate":40,"display_name":"ScorprocS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1391,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690759157,"creation_date":1690618875,"question_id":76792705,"body_markdown":"\r\nHello I&#39;m struggling with mocking a JWT token.\r\nI&#39;m using JDK 18 and Spring Boot 3 and I&#39;m using Keycloak as openid server to deliver the token to the front and it&#39;s send as Bearer token to the backend to do authenticated request.\r\n\r\nI also use OpenApi to generate my API code but to simplify I&#39;ve made a test without it. \r\n\r\nHere&#39;s my pom dependencies.\r\n\r\n    &lt;dependencies&gt;\r\n\t\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-addons-starter-oidc&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-addons-starter-oidc-test&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;7.0.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t\r\n\t&lt;/dependencies&gt;\r\n\r\n\r\nmain application.properties\r\n\r\n    server.servlet.context-path=/api\r\n    server.port=8080\r\n    \r\n    spring.datasource.url = jdbc:h2:mem:testdb\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=sa\r\n    spring.datasource.password=password\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n    spring.h2.console.enabled=true\r\n    spring.jpa.hibernate.ddl-auto=create-drop\r\n    #spring.jpa.hibernate.ddl-auto=update\r\n    \r\n    spring.data.rest.detection-strategy=annotated\r\n    \r\n    spring.jpa.properties.hibernate.hbm2ddl.auto=create-drop\r\n    # Custom H2 Console URL\r\n    spring.h2.console.path=/h2\r\n    spring.sql.init.mode=embedded\r\n    spring.sql.init.platform=h2\r\n        \r\n    springdoc.swagger-ui.path=/swagger-ui.html\r\n    springdoc.swagger-ui.operationsSorter=method\r\n    springdoc.api-docs.path=/api-docs\r\n    \r\n    application.initdb=true\r\n    origins: http://localhost:8080\r\n    issuer: http://localhost:8888/realms/apptest\r\n    \r\n    com.c4-soft.springaddons.oidc.ops[0].iss=${issuer}\r\n    com.c4-soft.springaddons.oidc.ops[0].username-claim=preferred_username\r\n    com.c4-soft.springaddons.oidc.ops[0].authorities[0].path=$.realm_access.roles\r\n    com.c4-soft.springaddons.oidc.ops[0].authorities[0].prefix=ROLE_\r\n    com.c4-soft.springaddons.oidc.ops[0].authorities[1].path=$.resource_access.*.roles\r\n    com.c4-soft.springaddons.oidc.ops[0].authorities[1].prefix=ROLE_CLIENT_\r\n    com.c4-soft.springaddons.oidc.resourceserver.cors[0].path=/**\r\n    com.c4-soft.springaddons.oidc.resourceserver.cors[0].allowed-origin-patterns=${origins}\r\n\r\nthe application.properties in test is basically the same except com.c4-soft.springaddons.oidc\r\n\r\n\r\nTestController\r\n\r\n    @RestController\r\n    @RequestMapping(&quot;test&quot;)\r\n    public class TestConroller {\r\n    \t\r\n    \t@GetMapping(&quot;/&quot;)\r\n    \t@PreAuthorize(&quot;isAuthenticated()&quot;)\r\n    \tpublic ResponseEntity&lt;String&gt; test() {\r\n    \t\treturn ResponseEntity.ok(&quot;ok&quot;);\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    @WithSecurityContext(factory = WithMockJwtUserSecurityContextFactory.class, setupBefore = TestExecutionEvent.TEST_EXECUTION)\r\n    public @interface WithMockJwtUser {\r\n        long value() default 1L;\r\n    \r\n        String username() default &quot;test&quot;;\r\n        \r\n        String email() default &quot;test@test.fr&quot;;\r\n    \r\n        String[] roles() default {&quot;ROLE_USER&quot;};\r\n    }\r\n\r\nWithMockJwtUserSecurityContextFactory\r\n\r\n    public class WithMockJwtUserSecurityContextFactory\r\n    implements WithSecurityContextFactory&lt;WithMockJwtUser&gt; {\r\n    @Override\r\n    public SecurityContext createSecurityContext(WithMockJwtUser customUser) {\r\n    \tInstant issuedAt = Instant.now();\r\n    \tInstant expireAt = issuedAt.plus(1, ChronoUnit.HOURS);\r\n    \tJwt jwt = Jwt.withTokenValue(&quot;token&quot;)\r\n                 .header(&quot;alg&quot;, &quot;none&quot;)\r\n                 .header(&quot;typ&quot;, &quot;JWT&quot;)    \r\n                 .issuedAt(issuedAt)\r\n                 .expiresAt(expireAt)\r\n       \r\n                 .claim(&quot;sub&quot;,  customUser.username())\r\n                 .claim(&quot;email_verified&quot;,false)\r\n                 .claim(&quot;iss&quot;, &quot;http://localhost:8888/realms/apptest&quot;)\r\n                 .claim(&quot;typ&quot;,&quot;Bearer&quot;)\r\n                 .claim(&quot;preferred_username&quot;, customUser.username())\r\n                 .claim(&quot;given_name&quot;, &quot;Test&quot;)\r\n                 .claim(&quot;sid&quot;, &quot;98aeed08-cfd3-4c59-96d6-9a2a7ec658d2&quot;)\r\n                 .claim(&quot;session_state&quot;, &quot;98aeed08-cfd3-4c59-96d6-9a2a7ec658d2&quot;)\r\n                 .claim(&quot;acr&quot;, 1)\r\n                 .claim(&quot;azp&quot;, &quot;login-app&quot;)\r\n                 .claim(&quot;scope&quot;, &quot;profile email&quot;)\r\n                 .claim(&quot;exp&quot;, expireAt)\r\n                 .claim(&quot;iat&quot;, issuedAt)\r\n                 .claim(&quot;jti&quot;, &quot;ad071b05-68af-4d05-a58e-e71277511c8f&quot;)\r\n    \r\n                 .claim(&quot;name&quot;, &quot;Test test&quot;)\r\n                 .claim(&quot;family_name&quot;, &quot;test&quot;)\r\n                 .claim(&quot;email&quot;, customUser.email())\r\n                 .claim(&quot;realm_access=&quot;, Map.of(&quot;roles&quot;,new String[]{&quot;USER&quot;}))\r\n    \r\n                 .build();\r\n    \r\n         List&lt;GrantedAuthority&gt; authorities = AuthorityUtils.createAuthorityList(customUser.roles());\r\n         JwtAuthenticationToken token = new JwtAuthenticationToken(jwt, authorities);\r\n         SecurityContext context = SecurityContextHolder.createEmptyContext();\r\n         token.setDetails(new WebAuthenticationDetails(&quot;127.0.0.1&quot;, null));\r\n         context.setAuthentication(token);\r\n         \r\n         return context;\r\n    \r\n    }\r\n    }\r\n\r\n\r\nThe test \r\n\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT, classes = TestApiApplication.class)\r\n    public class UserControllerIntTest {\r\n    \t@LocalServerPort\r\n    \tprivate int port;\r\n    \t\r\n    \t@Autowired\r\n    \tprivate TestRestTemplate restTemplate;\r\n    @Test\r\n\t//@WithMockUser(&quot;user&quot;)\r\n\t@WithMockJwtUser(username=&quot;user1&quot;)\r\n\tpublic void testTest() throws Exception {\r\n\t\t//given\r\n\t\t\r\n\t\t// when\r\n\t\tResponseEntity&lt;String&gt; resp = restTemplate\r\n\t\t\t\t.getForEntity(&quot;http://localhost:&quot;+port+ &quot;/api/test&quot;, String.class);\r\n\t\t\r\n\t\tassertEquals(HttpStatus.OK, resp.getStatusCode());\r\n\t\t/*mockMvc.perform(get(baseUrl+&quot;/curr&quot;))\r\n\t\t\t\t\t\t\t.andDo(null)\r\n\t\t\t\t\t\t\t.andExpect(status().isOk());*/\r\n\t\r\n\r\n\t}\r\n\r\n\r\n\r\nWhen I run the test code we pass throw createSecurityContext and seems to return a valid authentication at the end.\r\nBut I also noticed that log which may erase my mock.\r\n2023-07-29T10:11:36.713+02:00 DEBUG 2496 --- [o-auto-1-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext\r\n\r\n\r\nI have to notice that Even @WithMockUser doesn&#39;t work.\r\n\r\nI&#39;ve already seen this similar question but I didn&#39;t found my solution.\r\nhttps://stackoverflow.com/questions/61500578/how-to-mock-jwt-authentication-in-a-spring-boot-unit-test\r\n\r\n\r\nDo you have an Idea of what&#39;s wrong with my test config ? Thanks in advance.\r\n","title":"Spring boot 3 security test with Mock JWT Authentication Token WithMockUser","body":"<p>Hello I'm struggling with mocking a JWT token.\nI'm using JDK 18 and Spring Boot 3 and I'm using Keycloak as openid server to deliver the token to the front and it's send as Bearer token to the backend to do authenticated request.</p>\n<p>I also use OpenApi to generate my API code but to simplify I've made a test without it.</p>\n<p>Here's my pom dependencies.</p>\n<pre><code>&lt;dependencies&gt;\n    \n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-engine&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-oauth2-client&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-oauth2-resource-server&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-addons-starter-oidc&lt;/artifactId&gt;\n        &lt;version&gt;7.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n        &lt;dependency&gt;\n        &lt;groupId&gt;com.c4-soft.springaddons&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-addons-starter-oidc-test&lt;/artifactId&gt;\n        &lt;version&gt;7.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-cloud-starter-openfeign&lt;/artifactId&gt;\n        &lt;version&gt;${spring-cloud.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n\n    \n&lt;/dependencies&gt;\n</code></pre>\n<p>main application.properties</p>\n<pre><code>server.servlet.context-path=/api\nserver.port=8080\n\nspring.datasource.url = jdbc:h2:mem:testdb\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=sa\nspring.datasource.password=password\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.h2.console.enabled=true\nspring.jpa.hibernate.ddl-auto=create-drop\n#spring.jpa.hibernate.ddl-auto=update\n\nspring.data.rest.detection-strategy=annotated\n\nspring.jpa.properties.hibernate.hbm2ddl.auto=create-drop\n# Custom H2 Console URL\nspring.h2.console.path=/h2\nspring.sql.init.mode=embedded\nspring.sql.init.platform=h2\n    \nspringdoc.swagger-ui.path=/swagger-ui.html\nspringdoc.swagger-ui.operationsSorter=method\nspringdoc.api-docs.path=/api-docs\n\napplication.initdb=true\norigins: http://localhost:8080\nissuer: http://localhost:8888/realms/apptest\n\ncom.c4-soft.springaddons.oidc.ops[0].iss=${issuer}\ncom.c4-soft.springaddons.oidc.ops[0].username-claim=preferred_username\ncom.c4-soft.springaddons.oidc.ops[0].authorities[0].path=$.realm_access.roles\ncom.c4-soft.springaddons.oidc.ops[0].authorities[0].prefix=ROLE_\ncom.c4-soft.springaddons.oidc.ops[0].authorities[1].path=$.resource_access.*.roles\ncom.c4-soft.springaddons.oidc.ops[0].authorities[1].prefix=ROLE_CLIENT_\ncom.c4-soft.springaddons.oidc.resourceserver.cors[0].path=/**\ncom.c4-soft.springaddons.oidc.resourceserver.cors[0].allowed-origin-patterns=${origins}\n</code></pre>\n<p>the application.properties in test is basically the same except com.c4-soft.springaddons.oidc</p>\n<p>TestController</p>\n<pre><code>@RestController\n@RequestMapping(&quot;test&quot;)\npublic class TestConroller {\n    \n    @GetMapping(&quot;/&quot;)\n    @PreAuthorize(&quot;isAuthenticated()&quot;)\n    public ResponseEntity&lt;String&gt; test() {\n        return ResponseEntity.ok(&quot;ok&quot;);\n        \n    }\n\n}\n\n\n@Retention(RetentionPolicy.RUNTIME)\n@WithSecurityContext(factory = WithMockJwtUserSecurityContextFactory.class, setupBefore = TestExecutionEvent.TEST_EXECUTION)\npublic @interface WithMockJwtUser {\n    long value() default 1L;\n\n    String username() default &quot;test&quot;;\n    \n    String email() default &quot;test@test.fr&quot;;\n\n    String[] roles() default {&quot;ROLE_USER&quot;};\n}\n</code></pre>\n<p>WithMockJwtUserSecurityContextFactory</p>\n<pre><code>public class WithMockJwtUserSecurityContextFactory\nimplements WithSecurityContextFactory&lt;WithMockJwtUser&gt; {\n@Override\npublic SecurityContext createSecurityContext(WithMockJwtUser customUser) {\n    Instant issuedAt = Instant.now();\n    Instant expireAt = issuedAt.plus(1, ChronoUnit.HOURS);\n    Jwt jwt = Jwt.withTokenValue(&quot;token&quot;)\n             .header(&quot;alg&quot;, &quot;none&quot;)\n             .header(&quot;typ&quot;, &quot;JWT&quot;)    \n             .issuedAt(issuedAt)\n             .expiresAt(expireAt)\n   \n             .claim(&quot;sub&quot;,  customUser.username())\n             .claim(&quot;email_verified&quot;,false)\n             .claim(&quot;iss&quot;, &quot;http://localhost:8888/realms/apptest&quot;)\n             .claim(&quot;typ&quot;,&quot;Bearer&quot;)\n             .claim(&quot;preferred_username&quot;, customUser.username())\n             .claim(&quot;given_name&quot;, &quot;Test&quot;)\n             .claim(&quot;sid&quot;, &quot;98aeed08-cfd3-4c59-96d6-9a2a7ec658d2&quot;)\n             .claim(&quot;session_state&quot;, &quot;98aeed08-cfd3-4c59-96d6-9a2a7ec658d2&quot;)\n             .claim(&quot;acr&quot;, 1)\n             .claim(&quot;azp&quot;, &quot;login-app&quot;)\n             .claim(&quot;scope&quot;, &quot;profile email&quot;)\n             .claim(&quot;exp&quot;, expireAt)\n             .claim(&quot;iat&quot;, issuedAt)\n             .claim(&quot;jti&quot;, &quot;ad071b05-68af-4d05-a58e-e71277511c8f&quot;)\n\n             .claim(&quot;name&quot;, &quot;Test test&quot;)\n             .claim(&quot;family_name&quot;, &quot;test&quot;)\n             .claim(&quot;email&quot;, customUser.email())\n             .claim(&quot;realm_access=&quot;, Map.of(&quot;roles&quot;,new String[]{&quot;USER&quot;}))\n\n             .build();\n\n     List&lt;GrantedAuthority&gt; authorities = AuthorityUtils.createAuthorityList(customUser.roles());\n     JwtAuthenticationToken token = new JwtAuthenticationToken(jwt, authorities);\n     SecurityContext context = SecurityContextHolder.createEmptyContext();\n     token.setDetails(new WebAuthenticationDetails(&quot;127.0.0.1&quot;, null));\n     context.setAuthentication(token);\n     \n     return context;\n\n}\n}\n</code></pre>\n<p>The test</p>\n<pre><code>@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT, classes = TestApiApplication.class)\npublic class UserControllerIntTest {\n    @LocalServerPort\n    private int port;\n    \n    @Autowired\n    private TestRestTemplate restTemplate;\n@Test\n//@WithMockUser(&quot;user&quot;)\n@WithMockJwtUser(username=&quot;user1&quot;)\npublic void testTest() throws Exception {\n    //given\n    \n    // when\n    ResponseEntity&lt;String&gt; resp = restTemplate\n            .getForEntity(&quot;http://localhost:&quot;+port+ &quot;/api/test&quot;, String.class);\n    \n    assertEquals(HttpStatus.OK, resp.getStatusCode());\n    /*mockMvc.perform(get(baseUrl+&quot;/curr&quot;))\n                        .andDo(null)\n                        .andExpect(status().isOk());*/\n\n\n}\n</code></pre>\n<p>When I run the test code we pass throw createSecurityContext and seems to return a valid authentication at the end.\nBut I also noticed that log which may erase my mock.\n2023-07-29T10:11:36.713+02:00 DEBUG 2496 --- [o-auto-1-exec-1] o.s.s.w.a.AnonymousAuthenticationFilter  : Set SecurityContextHolder to anonymous SecurityContext</p>\n<p>I have to notice that Even @WithMockUser doesn't work.</p>\n<p>I've already seen this similar question but I didn't found my solution.\n<a href=\"https://stackoverflow.com/questions/61500578/how-to-mock-jwt-authentication-in-a-spring-boot-unit-test\">How to mock JWT authentication in a Spring Boot Unit Test?</a></p>\n<p>Do you have an Idea of what's wrong with my test config ? Thanks in advance.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9856,"page":278,"page_size":100}
