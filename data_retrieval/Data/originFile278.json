{"items":[{"tags":["java","checkstyle","hidden-field"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1690731885,"post_id":76798504,"comment_id":135391151,"body_markdown":"You define `CliParser cliParser` as a global and as a local variable. `final CliParser cliParser = new CliParser(emptyArguments);` should be `cliParser = new CliParser(emptyArguments);`","body":"You define <code>CliParser cliParser</code> as a global and as a local variable. <code>final CliParser cliParser = new CliParser(emptyArguments);</code> should be <code>cliParser = new CliParser(emptyArguments);</code>"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1690731996,"post_id":76798504,"comment_id":135391165,"body_markdown":"Same with `supportedOptions`","body":"Same with <code>supportedOptions</code>"}],"answers":[{"tags":[],"owner":{"account_id":10060184,"reputation":2295,"user_id":7437143,"accept_rate":100,"display_name":"a.t."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690733448,"creation_date":1690733448,"answer_id":76798604,"question_id":76798504,"body_markdown":"A solution was found by implementing the suggestion given in the comment:\r\n```java\r\npackage com.doctestbot.cli;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport org.apache.commons.cli.Option;\r\nimport org.apache.commons.cli.Options;\r\nimport org.apache.commons.cli.HelpFormatter;\r\nimport org.apache.commons.cli.CommandLineParser;\r\nimport org.apache.commons.cli.DefaultParser;\r\nimport org.apache.commons.cli.ParseException;\r\n\r\n/**\r\n * The CLI parser for the documentation and test writing bot.\r\n * This class provides functionality to parse and verify command-line arguments\r\n * for the bot.\r\n */\r\npublic class CliParser {\r\n\r\n    /**\r\n    * Declare the CLI argument option objects.\r\n    */\r\n    private final Options cliOptions;\r\n    /** Create a proper logger for error messages. */\r\n    private static final Logger LOGGER = LoggerFactory.getLogger(\r\n        CliParser.class\r\n        );\r\n\r\n    /**\r\n     * Constructs a new CliParser with the given command-line arguments.\r\n     *\r\n     * @param arguments The command-line arguments provided to the bot.\r\n     */\r\n    public CliParser(final String... arguments) {\r\n        this.cliOptions = buildSupportedArgs();\r\n        verifyArgsAreSupported(this.cliOptions, arguments);\r\n    }\r\n\r\n\r\n    /**\r\n    * Adds logging options to the supported command-line options.\r\n    *\r\n    * @param supportedOptions The Options object to which the logging option\r\n    * will be added.\r\n    */\r\n    @SuppressWarnings({&quot;PMD.LawOfDemeter&quot;, &quot;PMD.AvoidDuplicateLiterals&quot;})\r\n    private static void addLogOptions(final Options supportedOptions) {\r\n        // Logging option\r\n        final Option.Builder logBldr = Option.builder(&quot;l&quot;);\r\n        logBldr.required(false);\r\n        logBldr.desc(\r\n            &quot;Log the full, unparsed ChatGPT output to the request.&quot;);\r\n        logBldr.longOpt(&quot;log&quot;);\r\n        final Option logArg = logBldr.build();\r\n        supportedOptions.addOption(logArg);\r\n    }\r\n\r\n    /**\r\n    * Adds ChatGPT output verification CLI options to supportedOptions.\r\n    *\r\n    * @param supportedOptions The Options object to which the output\r\n    * verification options will be added.\r\n    */\r\n    @SuppressWarnings({&quot;PMD.LawOfDemeter&quot;, &quot;PMD.AvoidDuplicateLiterals&quot;})\r\n    private static void addOutputVerifOptions(final Options supportedOptions) {\r\n        final Option.Builder preCommitBldr = Option.builder(&quot;pc&quot;);\r\n        preCommitBldr.desc(\r\n            &quot;Perform pre-commit checks before committing changes.&quot;);\r\n        preCommitBldr.longOpt(&quot;pre-commit-checks&quot;);\r\n        final Option preCommitArg = preCommitBldr.build();\r\n        supportedOptions.addOption(preCommitArg);\r\n\r\n        final Option.Builder compilabilityBldr = Option.builder(&quot;cc&quot;);\r\n        compilabilityBldr.desc(\r\n            &quot;Perform compilability check.&quot;);\r\n        compilabilityBldr.longOpt(&quot;compilability&quot;);\r\n        final Option compilabilityArg = compilabilityBldr.build();\r\n        supportedOptions.addOption(compilabilityArg);\r\n\r\n        final Option.Builder runnabililtyBldr = Option.builder(&quot;rc&quot;);\r\n        runnabililtyBldr.desc(\r\n            &quot;Enforce runnability compliance for generated code.&quot;);\r\n        runnabililtyBldr.longOpt(&quot;runnability-compliance&quot;);\r\n        final Option runnabililtyArg = runnabililtyBldr.build();\r\n        supportedOptions.addOption(runnabililtyArg);\r\n\r\n        final Option.Builder testsBldr = Option.builder(&quot;tc&quot;);\r\n        testsBldr.desc(\r\n            &quot;Enforce the tests pass for generated code.&quot;);\r\n        testsBldr.longOpt(&quot;test-compliance&quot;);\r\n        final Option testsArg = testsBldr.build();\r\n        supportedOptions.addOption(testsArg);\r\n\r\n        final Option.Builder retriesBldr = Option.builder(&quot;n&quot;);\r\n        retriesBldr.desc(\r\n            &quot;Specify the number of retries for certain actions (default: 1).&quot;\r\n            );\r\n        retriesBldr.longOpt(&quot;retries&quot;);\r\n        retriesBldr.hasArg();\r\n        final Option retriesArg = retriesBldr.build();\r\n        supportedOptions.addOption(retriesArg);\r\n    }\r\n\r\n    /**\r\n    * Adds options for user to specify the path to source and test files of the\r\n    * target repository.\r\n    *\r\n    * @param supportedOptions The Options object to which the target paths\r\n    * options will be added.\r\n    */\r\n    @SuppressWarnings({&quot;PMD.LawOfDemeter&quot;, &quot;PMD.AvoidDuplicateLiterals&quot;})\r\n    private static void addTargetPathsOptions(final Options supportedOptions) {\r\n        final Option.Builder srcBldr = Option.builder(&quot;sd&quot;);\r\n        srcBldr.desc(\r\n            &quot;The relative directory from the root dir to the dir with the &quot;\r\n            + &quot;project code.&quot;);\r\n        srcBldr.longOpt(&quot;source-dir&quot;);\r\n        srcBldr.hasArg();\r\n        final Option srcArg = srcBldr.build();\r\n        supportedOptions.addOption(srcArg);\r\n\r\n        final Option.Builder testBldr = Option.builder(&quot;td&quot;);\r\n        testBldr.desc(\r\n            &quot;The relative directory from the root dir to the dir with the &quot;\r\n            + &quot;tests.&quot;);\r\n        testBldr.longOpt(&quot;test-dir&quot;);\r\n        testBldr.hasArg();\r\n        final Option testArg = testBldr.build();\r\n        supportedOptions.addOption(testArg);\r\n    }\r\n\r\n    /**\r\n     * Adds options to specify the context to feed to ChatGPT for the target\r\n     * repository.\r\n     *\r\n     * @param supportedOptions The Options object to which the context options\r\n     * will be added.\r\n     */\r\n    @SuppressWarnings({&quot;PMD.LawOfDemeter&quot;, &quot;PMD.AvoidDuplicateLiterals&quot;,\r\n    &quot;PMD.LongVariable&quot;})\r\n    private static void addGptContextOptions(final Options supportedOptions) {\r\n        // What context to feed to ChatGPT (once) supportedOptions\r\n        final Option.Builder shareSrcBldr = Option.builder(&quot;ssd&quot;);\r\n        shareSrcBldr.desc(\r\n            &quot;Share the source dir files of the specified language with&quot;\r\n            + &quot; ChatGPT.&quot;);\r\n        shareSrcBldr.longOpt(&quot;share-source-dir&quot;);\r\n        final Option shareSrcArg = shareSrcBldr.build();\r\n        supportedOptions.addOption(shareSrcArg);\r\n\r\n        final Option.Builder shareTestBldr = Option.builder(&quot;std&quot;);\r\n        shareTestBldr.desc(\r\n            &quot;Share the test dir files of the specified language with &quot;\r\n            + &quot;ChatGPT.&quot;);\r\n        shareTestBldr.longOpt(&quot;share-test-dir&quot;);\r\n        final Option shareTestArg = shareTestBldr.build();\r\n        supportedOptions.addOption(shareTestArg);\r\n\r\n        final Option.Builder shareSrcStructBldr = Option.builder(&quot;ssds&quot;);\r\n        shareSrcStructBldr.desc(\r\n            &quot;Share the source dir files of the specified language with &quot;\r\n            + &quot;ChatGPT.&quot;);\r\n        shareSrcStructBldr.longOpt(&quot;share-source-dir-structure&quot;);\r\n        final Option shareSrcStructArg = shareSrcStructBldr.build();\r\n        supportedOptions.addOption(shareSrcStructArg);\r\n\r\n        final Option.Builder shareTestStructBldr = Option.builder(\r\n            &quot;stds&quot;);\r\n        shareTestStructBldr.desc(\r\n            &quot;Share the test dir files of the specified language with ChatGPT.&quot;\r\n            );\r\n        shareTestStructBldr.longOpt(&quot;share-test-dir-structure&quot;);\r\n        final Option shareTestStructArg = shareTestStructBldr.build();\r\n        supportedOptions.addOption(shareTestStructArg);\r\n    }\r\n\r\n   /**\r\n    * Adds options for specifying the which files will be processed.\r\n    *\r\n    * @param supportedOptions The Options object to which the processed code\r\n    * type options will be added.\r\n    */\r\n    @SuppressWarnings({&quot;PMD.LawOfDemeter&quot;, &quot;PMD.AvoidDuplicateLiterals&quot;})\r\n    private static void addTargetFileOptions(final Options supportedOptions) {\r\n        final Option.Builder languageBldr = Option.builder(&quot;l&quot;);\r\n        languageBldr.desc(\r\n            &quot;Specify the programming language of the target project.&quot;);\r\n        languageBldr.longOpt(&quot;language&quot;);\r\n        languageBldr.hasArg();\r\n        final Option languageArg = languageBldr.build();\r\n        supportedOptions.addOption(languageArg);\r\n\r\n        final Option.Builder allFilesBldr = Option.builder(&quot;a&quot;);\r\n        allFilesBldr.desc(\r\n            &quot;Perform the specified action on all source files in the&quot;\r\n            + &quot; repository.&quot;);\r\n        allFilesBldr.longOpt(&quot;all-files&quot;);\r\n        final Option allFilesArg = allFilesBldr.build();\r\n        supportedOptions.addOption(allFilesArg);\r\n\r\n        final Option.Builder fileSubstrBldr = Option.builder(&quot;fs&quot;);\r\n        fileSubstrBldr.desc(\r\n            &quot;Specify the substring that filenames should contain.&quot;);\r\n        fileSubstrBldr.longOpt(&quot;file-substring&quot;);\r\n        fileSubstrBldr.hasArg();\r\n        final Option fileSubstrArg = fileSubstrBldr.build();\r\n        supportedOptions.addOption(fileSubstrArg);\r\n\r\n        final Option.Builder funcBldr = Option.builder(&quot;ms&quot;);\r\n        funcBldr.desc(\r\n            &quot;Specify the name of the method to run the bot on.&quot;);\r\n        funcBldr.longOpt(&quot;method&quot;);\r\n        funcBldr.hasArg();\r\n        final Option funcArg = funcBldr.build();\r\n        supportedOptions.addOption(funcArg);\r\n\r\n        final Option.Builder docstrBldr = Option.builder(&quot;ds&quot;);\r\n        docstrBldr.desc(\r\n            &quot;Run on docstring of file.&quot;);\r\n        docstrBldr.longOpt(&quot;docstring&quot;);\r\n        final Option docstrArg = docstrBldr.build();\r\n        supportedOptions.addOption(docstrArg);\r\n    }\r\n\r\n    /**\r\n    * Adds options for specifying the type of processed code and the actions\r\n    * to perform.\r\n    *\r\n    * @param supportedOptions The Options object to which the processed code\r\n    * type options will be added.\r\n    */\r\n    @SuppressWarnings({&quot;PMD.LawOfDemeter&quot;, &quot;PMD.AvoidDuplicateLiterals&quot;})\r\n    private static void addCodeTypeOptions(final Options supportedOptions) {\r\n\r\n        final Option.Builder docuBldr = Option.builder(&quot;d&quot;);\r\n        docuBldr.desc(\r\n            &quot;Perform the documentation action for identified functions.&quot;);\r\n        docuBldr.longOpt(&quot;documentation&quot;);\r\n        final Option docuArg = docuBldr.build();\r\n        supportedOptions.addOption(docuArg);\r\n\r\n        final Option.Builder testGenBldr = Option.builder(&quot;t&quot;);\r\n        testGenBldr.desc(\r\n            &quot;Perform the test generation action for identified functions.&quot;);\r\n        testGenBldr.longOpt(&quot;test-generation&quot;);\r\n        final Option testGenArg = testGenBldr.build();\r\n        supportedOptions.addOption(testGenArg);\r\n\r\n        final Option.Builder commentsBldr = Option.builder(&quot;c&quot;);\r\n        commentsBldr.desc(\r\n            &quot;Improve comments in the function.&quot;);\r\n        commentsBldr.longOpt(&quot;comments&quot;);\r\n        final Option commentsArg = commentsBldr.build();\r\n        supportedOptions.addOption(commentsArg);\r\n\r\n        final Option.Builder overrideBldr = Option.builder(&quot;o&quot;);\r\n        overrideBldr.desc(\r\n            &quot;Override pre-existing (DOCUMENTATION, COMMENTS, FUNCTIONS,&quot;\r\n            + &quot; TESTS).&quot;);\r\n        overrideBldr.longOpt(&quot;override&quot;);\r\n        final Option overrideArg = overrideBldr.build();\r\n        supportedOptions.addOption(overrideArg);\r\n    }\r\n\r\n    /**\r\n     * Builds and returns the supported command-line options.\r\n     *\r\n     * @return The Options object containing the supported command-line options.\r\n     */\r\n    @SuppressWarnings({&quot;PMD.LawOfDemeter&quot;,\r\n    &quot;PMD.NcssCount&quot;, &quot;PMD.LongVariable&quot;})\r\n    private Options buildSupportedArgs() {\r\n        final Options supportedOptions = new Options();\r\n        addLogOptions(supportedOptions);\r\n        addOutputVerifOptions(supportedOptions);\r\n        addTargetPathsOptions(supportedOptions);\r\n        addGptContextOptions(supportedOptions);\r\n        addTargetFileOptions(supportedOptions);\r\n        addCodeTypeOptions(supportedOptions);\r\n        return supportedOptions;\r\n    }\r\n\r\n    /**\r\n     * Prints the usage instructions for running the bot from the command line.\r\n     * It provides information about the available command-line options and\r\n     * their usage.\r\n     */\r\n    private void printUsage() {\r\n        final HelpFormatter formatter = new HelpFormatter();\r\n        formatter.printHelp(&quot;java -jar YourJarName.jar&quot;, cliOptions);\r\n    }\r\n\r\n    /**\r\n     * Verifies whether the provided command-line arguments are supported by\r\n     * the bot. Prints usage for invalid commands.\r\n     *\r\n     * @param options The Options object containing the supported command-line\r\n     *  options.\r\n     * @param args    The command-line arguments provided to the bot.\r\n     */\r\n    public final void verifyArgsAreSupported(\r\n        final Options options,\r\n        final String... args\r\n    ) {\r\n        final CommandLineParser parser = new DefaultParser();\r\n        try {\r\n            parser.parse(options, args);\r\n        } catch (ParseException e) {\r\n            if (LOGGER.isErrorEnabled()) { // Check if ERROR level is enabled\r\n                LOGGER.error(\r\n                    &quot;Error parsing command-line arguments: {}&quot;, e.getMessage()\r\n                );\r\n            }\r\n            printUsage();\r\n            throw new CommandLineParseException(\r\n                &quot;Error parsing command-line arguments&quot;, e);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\nThe additional error, mentioned at the end of the question, was resolved by moving the initialisation of the two private fields into separate setter and getter methods, and calling those methods from the `@BeforeEach` `setup()` method. *I do not yet know why this was necessary/why the error was thrown.*\r\n\r\n\r\n## Note\r\nIt was not necessary to create an object/constructor of the test class inside the test to call the private fields with `this.supportedOptions`. Instead I could just keep them as globals of the test.\r\n\r\n","title":"Checkstyle: HiddenField in test whilst using @BeforeEach","body":"<p>A solution was found by implementing the suggestion given in the comment:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.doctestbot.cli;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport org.apache.commons.cli.Option;\nimport org.apache.commons.cli.Options;\nimport org.apache.commons.cli.HelpFormatter;\nimport org.apache.commons.cli.CommandLineParser;\nimport org.apache.commons.cli.DefaultParser;\nimport org.apache.commons.cli.ParseException;\n\n/**\n * The CLI parser for the documentation and test writing bot.\n * This class provides functionality to parse and verify command-line arguments\n * for the bot.\n */\npublic class CliParser {\n\n    /**\n    * Declare the CLI argument option objects.\n    */\n    private final Options cliOptions;\n    /** Create a proper logger for error messages. */\n    private static final Logger LOGGER = LoggerFactory.getLogger(\n        CliParser.class\n        );\n\n    /**\n     * Constructs a new CliParser with the given command-line arguments.\n     *\n     * @param arguments The command-line arguments provided to the bot.\n     */\n    public CliParser(final String... arguments) {\n        this.cliOptions = buildSupportedArgs();\n        verifyArgsAreSupported(this.cliOptions, arguments);\n    }\n\n\n    /**\n    * Adds logging options to the supported command-line options.\n    *\n    * @param supportedOptions The Options object to which the logging option\n    * will be added.\n    */\n    @SuppressWarnings({&quot;PMD.LawOfDemeter&quot;, &quot;PMD.AvoidDuplicateLiterals&quot;})\n    private static void addLogOptions(final Options supportedOptions) {\n        // Logging option\n        final Option.Builder logBldr = Option.builder(&quot;l&quot;);\n        logBldr.required(false);\n        logBldr.desc(\n            &quot;Log the full, unparsed ChatGPT output to the request.&quot;);\n        logBldr.longOpt(&quot;log&quot;);\n        final Option logArg = logBldr.build();\n        supportedOptions.addOption(logArg);\n    }\n\n    /**\n    * Adds ChatGPT output verification CLI options to supportedOptions.\n    *\n    * @param supportedOptions The Options object to which the output\n    * verification options will be added.\n    */\n    @SuppressWarnings({&quot;PMD.LawOfDemeter&quot;, &quot;PMD.AvoidDuplicateLiterals&quot;})\n    private static void addOutputVerifOptions(final Options supportedOptions) {\n        final Option.Builder preCommitBldr = Option.builder(&quot;pc&quot;);\n        preCommitBldr.desc(\n            &quot;Perform pre-commit checks before committing changes.&quot;);\n        preCommitBldr.longOpt(&quot;pre-commit-checks&quot;);\n        final Option preCommitArg = preCommitBldr.build();\n        supportedOptions.addOption(preCommitArg);\n\n        final Option.Builder compilabilityBldr = Option.builder(&quot;cc&quot;);\n        compilabilityBldr.desc(\n            &quot;Perform compilability check.&quot;);\n        compilabilityBldr.longOpt(&quot;compilability&quot;);\n        final Option compilabilityArg = compilabilityBldr.build();\n        supportedOptions.addOption(compilabilityArg);\n\n        final Option.Builder runnabililtyBldr = Option.builder(&quot;rc&quot;);\n        runnabililtyBldr.desc(\n            &quot;Enforce runnability compliance for generated code.&quot;);\n        runnabililtyBldr.longOpt(&quot;runnability-compliance&quot;);\n        final Option runnabililtyArg = runnabililtyBldr.build();\n        supportedOptions.addOption(runnabililtyArg);\n\n        final Option.Builder testsBldr = Option.builder(&quot;tc&quot;);\n        testsBldr.desc(\n            &quot;Enforce the tests pass for generated code.&quot;);\n        testsBldr.longOpt(&quot;test-compliance&quot;);\n        final Option testsArg = testsBldr.build();\n        supportedOptions.addOption(testsArg);\n\n        final Option.Builder retriesBldr = Option.builder(&quot;n&quot;);\n        retriesBldr.desc(\n            &quot;Specify the number of retries for certain actions (default: 1).&quot;\n            );\n        retriesBldr.longOpt(&quot;retries&quot;);\n        retriesBldr.hasArg();\n        final Option retriesArg = retriesBldr.build();\n        supportedOptions.addOption(retriesArg);\n    }\n\n    /**\n    * Adds options for user to specify the path to source and test files of the\n    * target repository.\n    *\n    * @param supportedOptions The Options object to which the target paths\n    * options will be added.\n    */\n    @SuppressWarnings({&quot;PMD.LawOfDemeter&quot;, &quot;PMD.AvoidDuplicateLiterals&quot;})\n    private static void addTargetPathsOptions(final Options supportedOptions) {\n        final Option.Builder srcBldr = Option.builder(&quot;sd&quot;);\n        srcBldr.desc(\n            &quot;The relative directory from the root dir to the dir with the &quot;\n            + &quot;project code.&quot;);\n        srcBldr.longOpt(&quot;source-dir&quot;);\n        srcBldr.hasArg();\n        final Option srcArg = srcBldr.build();\n        supportedOptions.addOption(srcArg);\n\n        final Option.Builder testBldr = Option.builder(&quot;td&quot;);\n        testBldr.desc(\n            &quot;The relative directory from the root dir to the dir with the &quot;\n            + &quot;tests.&quot;);\n        testBldr.longOpt(&quot;test-dir&quot;);\n        testBldr.hasArg();\n        final Option testArg = testBldr.build();\n        supportedOptions.addOption(testArg);\n    }\n\n    /**\n     * Adds options to specify the context to feed to ChatGPT for the target\n     * repository.\n     *\n     * @param supportedOptions The Options object to which the context options\n     * will be added.\n     */\n    @SuppressWarnings({&quot;PMD.LawOfDemeter&quot;, &quot;PMD.AvoidDuplicateLiterals&quot;,\n    &quot;PMD.LongVariable&quot;})\n    private static void addGptContextOptions(final Options supportedOptions) {\n        // What context to feed to ChatGPT (once) supportedOptions\n        final Option.Builder shareSrcBldr = Option.builder(&quot;ssd&quot;);\n        shareSrcBldr.desc(\n            &quot;Share the source dir files of the specified language with&quot;\n            + &quot; ChatGPT.&quot;);\n        shareSrcBldr.longOpt(&quot;share-source-dir&quot;);\n        final Option shareSrcArg = shareSrcBldr.build();\n        supportedOptions.addOption(shareSrcArg);\n\n        final Option.Builder shareTestBldr = Option.builder(&quot;std&quot;);\n        shareTestBldr.desc(\n            &quot;Share the test dir files of the specified language with &quot;\n            + &quot;ChatGPT.&quot;);\n        shareTestBldr.longOpt(&quot;share-test-dir&quot;);\n        final Option shareTestArg = shareTestBldr.build();\n        supportedOptions.addOption(shareTestArg);\n\n        final Option.Builder shareSrcStructBldr = Option.builder(&quot;ssds&quot;);\n        shareSrcStructBldr.desc(\n            &quot;Share the source dir files of the specified language with &quot;\n            + &quot;ChatGPT.&quot;);\n        shareSrcStructBldr.longOpt(&quot;share-source-dir-structure&quot;);\n        final Option shareSrcStructArg = shareSrcStructBldr.build();\n        supportedOptions.addOption(shareSrcStructArg);\n\n        final Option.Builder shareTestStructBldr = Option.builder(\n            &quot;stds&quot;);\n        shareTestStructBldr.desc(\n            &quot;Share the test dir files of the specified language with ChatGPT.&quot;\n            );\n        shareTestStructBldr.longOpt(&quot;share-test-dir-structure&quot;);\n        final Option shareTestStructArg = shareTestStructBldr.build();\n        supportedOptions.addOption(shareTestStructArg);\n    }\n\n   /**\n    * Adds options for specifying the which files will be processed.\n    *\n    * @param supportedOptions The Options object to which the processed code\n    * type options will be added.\n    */\n    @SuppressWarnings({&quot;PMD.LawOfDemeter&quot;, &quot;PMD.AvoidDuplicateLiterals&quot;})\n    private static void addTargetFileOptions(final Options supportedOptions) {\n        final Option.Builder languageBldr = Option.builder(&quot;l&quot;);\n        languageBldr.desc(\n            &quot;Specify the programming language of the target project.&quot;);\n        languageBldr.longOpt(&quot;language&quot;);\n        languageBldr.hasArg();\n        final Option languageArg = languageBldr.build();\n        supportedOptions.addOption(languageArg);\n\n        final Option.Builder allFilesBldr = Option.builder(&quot;a&quot;);\n        allFilesBldr.desc(\n            &quot;Perform the specified action on all source files in the&quot;\n            + &quot; repository.&quot;);\n        allFilesBldr.longOpt(&quot;all-files&quot;);\n        final Option allFilesArg = allFilesBldr.build();\n        supportedOptions.addOption(allFilesArg);\n\n        final Option.Builder fileSubstrBldr = Option.builder(&quot;fs&quot;);\n        fileSubstrBldr.desc(\n            &quot;Specify the substring that filenames should contain.&quot;);\n        fileSubstrBldr.longOpt(&quot;file-substring&quot;);\n        fileSubstrBldr.hasArg();\n        final Option fileSubstrArg = fileSubstrBldr.build();\n        supportedOptions.addOption(fileSubstrArg);\n\n        final Option.Builder funcBldr = Option.builder(&quot;ms&quot;);\n        funcBldr.desc(\n            &quot;Specify the name of the method to run the bot on.&quot;);\n        funcBldr.longOpt(&quot;method&quot;);\n        funcBldr.hasArg();\n        final Option funcArg = funcBldr.build();\n        supportedOptions.addOption(funcArg);\n\n        final Option.Builder docstrBldr = Option.builder(&quot;ds&quot;);\n        docstrBldr.desc(\n            &quot;Run on docstring of file.&quot;);\n        docstrBldr.longOpt(&quot;docstring&quot;);\n        final Option docstrArg = docstrBldr.build();\n        supportedOptions.addOption(docstrArg);\n    }\n\n    /**\n    * Adds options for specifying the type of processed code and the actions\n    * to perform.\n    *\n    * @param supportedOptions The Options object to which the processed code\n    * type options will be added.\n    */\n    @SuppressWarnings({&quot;PMD.LawOfDemeter&quot;, &quot;PMD.AvoidDuplicateLiterals&quot;})\n    private static void addCodeTypeOptions(final Options supportedOptions) {\n\n        final Option.Builder docuBldr = Option.builder(&quot;d&quot;);\n        docuBldr.desc(\n            &quot;Perform the documentation action for identified functions.&quot;);\n        docuBldr.longOpt(&quot;documentation&quot;);\n        final Option docuArg = docuBldr.build();\n        supportedOptions.addOption(docuArg);\n\n        final Option.Builder testGenBldr = Option.builder(&quot;t&quot;);\n        testGenBldr.desc(\n            &quot;Perform the test generation action for identified functions.&quot;);\n        testGenBldr.longOpt(&quot;test-generation&quot;);\n        final Option testGenArg = testGenBldr.build();\n        supportedOptions.addOption(testGenArg);\n\n        final Option.Builder commentsBldr = Option.builder(&quot;c&quot;);\n        commentsBldr.desc(\n            &quot;Improve comments in the function.&quot;);\n        commentsBldr.longOpt(&quot;comments&quot;);\n        final Option commentsArg = commentsBldr.build();\n        supportedOptions.addOption(commentsArg);\n\n        final Option.Builder overrideBldr = Option.builder(&quot;o&quot;);\n        overrideBldr.desc(\n            &quot;Override pre-existing (DOCUMENTATION, COMMENTS, FUNCTIONS,&quot;\n            + &quot; TESTS).&quot;);\n        overrideBldr.longOpt(&quot;override&quot;);\n        final Option overrideArg = overrideBldr.build();\n        supportedOptions.addOption(overrideArg);\n    }\n\n    /**\n     * Builds and returns the supported command-line options.\n     *\n     * @return The Options object containing the supported command-line options.\n     */\n    @SuppressWarnings({&quot;PMD.LawOfDemeter&quot;,\n    &quot;PMD.NcssCount&quot;, &quot;PMD.LongVariable&quot;})\n    private Options buildSupportedArgs() {\n        final Options supportedOptions = new Options();\n        addLogOptions(supportedOptions);\n        addOutputVerifOptions(supportedOptions);\n        addTargetPathsOptions(supportedOptions);\n        addGptContextOptions(supportedOptions);\n        addTargetFileOptions(supportedOptions);\n        addCodeTypeOptions(supportedOptions);\n        return supportedOptions;\n    }\n\n    /**\n     * Prints the usage instructions for running the bot from the command line.\n     * It provides information about the available command-line options and\n     * their usage.\n     */\n    private void printUsage() {\n        final HelpFormatter formatter = new HelpFormatter();\n        formatter.printHelp(&quot;java -jar YourJarName.jar&quot;, cliOptions);\n    }\n\n    /**\n     * Verifies whether the provided command-line arguments are supported by\n     * the bot. Prints usage for invalid commands.\n     *\n     * @param options The Options object containing the supported command-line\n     *  options.\n     * @param args    The command-line arguments provided to the bot.\n     */\n    public final void verifyArgsAreSupported(\n        final Options options,\n        final String... args\n    ) {\n        final CommandLineParser parser = new DefaultParser();\n        try {\n            parser.parse(options, args);\n        } catch (ParseException e) {\n            if (LOGGER.isErrorEnabled()) { // Check if ERROR level is enabled\n                LOGGER.error(\n                    &quot;Error parsing command-line arguments: {}&quot;, e.getMessage()\n                );\n            }\n            printUsage();\n            throw new CommandLineParseException(\n                &quot;Error parsing command-line arguments&quot;, e);\n        }\n    }\n}\n\n</code></pre>\n<p>The additional error, mentioned at the end of the question, was resolved by moving the initialisation of the two private fields into separate setter and getter methods, and calling those methods from the <code>@BeforeEach</code> <code>setup()</code> method. <em>I do not yet know why this was necessary/why the error was thrown.</em></p>\n<h2>Note</h2>\n<p>It was not necessary to create an object/constructor of the test class inside the test to call the private fields with <code>this.supportedOptions</code>. Instead I could just keep them as globals of the test.</p>\n"}],"owner":{"account_id":10060184,"reputation":2295,"user_id":7437143,"accept_rate":100,"display_name":"a.t."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690733448,"creation_date":1690731760,"question_id":76798504,"body_markdown":"After creating a CLI test in Java, I receive the checkstyle Error:\r\n```\r\n[ERROR] /src/src/test/java/com/doctestbot/cli/TestCliParser.java:53:23: &#39;supportedOptions&#39; hides a field. [HiddenField]\r\n[ERROR] /src/src/test/java/com/doctestbot/cli/TestCliParser.java:61:25: &#39;cliParser&#39; hides a field. [HiddenField]\r\n```\r\n\r\nI assume this is because the private variable `supportedOptions` of the test class `TestCliParser` overshadows the same variable `supportedOptions` in the test method `testArgExists` after it is created in the `@BeforeEach` `setup()` method.\r\n\r\nI understand that having a HiddenField that may be overwritten in some function of the class may be undesirable, hence, I understand Checkstyle throws the error. What I do not quite understand is whether I should be using a different approach/strategy to initialise the `cliParser` and `supportedOptions` objects, or whether should I pass them differently to the test functions.\r\n\r\n## Code\r\nThis is the relevant test file:\r\n```java\r\npackage com.doctestbot;\r\n\r\nimport com.doctestbot.cli.CliParser;\r\n\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.junit.jupiter.api.BeforeEach;\r\n\r\nimport org.apache.commons.cli.Option;\r\nimport org.apache.commons.cli.Options;\r\nimport org.apache.commons.cli.UnrecognizedOptionException;\r\nimport org.apache.commons.cli.ParseException;\r\n\r\n/**\r\n * Test class for the CliParser class.\r\n * This class contains test methods to verify the functionality of the\r\n * CliParser class.\r\n */\r\n@SuppressWarnings({&quot;PMD.AtLeastOneConstructor&quot;})\r\nclass TestCliParser {\r\n\r\n    /** Object that is tested.\r\n     */\r\n    private CliParser cliParser;\r\n    /** A custom set of supported options are created before each test for\r\n     * testing.\r\n    */\r\n    private Options supportedOptions;\r\n\r\n    /**\r\n    This method sets up a dummy command-line parser with test options and\r\n    arguments before each test.\r\n    */\r\n    @BeforeEach\r\n    public void setup() {\r\n        // Create the first option with the specified properties\r\n        final Option.Builder firstOptBuilder = Option.builder(&quot;f&quot;);\r\n        firstOptBuilder.required(true);\r\n        firstOptBuilder.desc(&quot;The first option&quot;);\r\n        firstOptBuilder.longOpt(&quot;first&quot;);\r\n        final Option firstOption = firstOptBuilder.build();\r\n\r\n        // Create the option for logging with the specified properties\r\n        final Option.Builder optionLogBuilder = Option.builder(&quot;l&quot;);\r\n        optionLogBuilder.required(true);\r\n        optionLogBuilder.desc(\r\n            &quot;Log the full, unparsed ChatGPT output to the request&quot;\r\n            );\r\n        optionLogBuilder.longOpt(&quot;log&quot;);\r\n        final Option optionLog = optionLogBuilder.build();\r\n\r\n        // Create the supported options set and add the options\r\n        final Options supportedOptions = new Options();\r\n        supportedOptions.addOption(firstOption);\r\n        supportedOptions.addOption(optionLog);\r\n\r\n        final String[] emptyArguments = {};\r\n\r\n        // Create and initialize the CliParser instance with dummy arguments\r\n        @SuppressWarnings({&quot;PMD.UnusedLocalVariable&quot;})\r\n        final CliParser cliParser = new CliParser(emptyArguments);\r\n    }\r\n\r\n    /**\r\n     * Test method to verify the CLI verification function works if it receives\r\n     * expected arguments.\r\n     */\r\n    @Test\r\n    void testArgExists() {\r\n        // Dummy command-line arguments for testing\r\n        final String[] dummyArguments = {&quot;-f&quot;, &quot;theValueOfA&quot;, &quot;--log&quot;};\r\n\r\n        // Verify no error is thrown upon valid arguments.\r\n         assertDoesNotThrow(() -&gt; cliParser.verifyArgsAreSupported(\r\n            supportedOptions, dummyArguments));\r\n    }\r\n\r\n    /**\r\n     * Test method to verify the verifyArgsAreSupported method throws an error\r\n     * if an unexpected argument is passed.\r\n     */\r\n    @Test\r\n    @SuppressWarnings({&quot;PMD.JUnitTestContainsTooManyAsserts&quot;,\r\n    &quot;PMD.LawOfDemeter&quot;})\r\n    void testUnknownArgThrowsError() {\r\n\r\n        // Dummy command-line arguments for testing\r\n        final String[] dummyArguments = {&quot;-f&quot;, &quot;theValueOfA&quot;, &quot;--log&quot;,\r\n        &quot;--someUnsupportedArg&quot;};\r\n\r\n        // Verify that the provided arguments match the supported options\r\n\r\n\r\n        // Assert that the UnrecognizedOptionException is thrown and its cause\r\n        // is ParseException.\r\n         final Exception exception = assertThrows(\r\n            UnrecognizedOptionException.class, () -&gt; {\r\n            cliParser.verifyArgsAreSupported(supportedOptions, dummyArguments);\r\n        });\r\n\r\n\r\n        // Assert the cause of the UnrecognizedOptionException\r\n        final Throwable cause = exception.getCause();\r\n        assertTrue(cause instanceof ParseException,\r\n        &quot;The error was thrown due to a ParseException.&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\n## Question\r\nHow can I resolve the HiddenField error whilst still initialising the `cliParser` and `supportedOptions` in the `@BeforeEach` `setup()` function?\r\n\r\n## Edit in response to comments\r\nThe error I made pointed out in the comments makes sense to me. However, when I change:\r\n```java\r\nfinal Options supportedOptions = new Options();\r\n```\r\nto:\r\n```java\r\nsupportedOptions = new Options();\r\n```\r\nCheckstyle throws error:\r\n```\r\ncheckstyle...............................................................Failed\r\n- hook id: checkstyle\r\n- exit code: 254\r\n\r\nStarting audit...\r\ncom.puppycrawl.tools.checkstyle.api.CheckstyleException: Exception was thrown while processing src/test/java/com/doctestbot/cli/TestCliParser.java\r\n\tat com.puppycrawl.tools.checkstyle.Checker.processFiles(Checker.java:306)\r\n\tat com.puppycrawl.tools.checkstyle.Checker.process(Checker.java:223)\r\n\tat com.puppycrawl.tools.checkstyle.Main.runCheckstyle(Main.java:415)\r\n\tat com.puppycrawl.tools.checkstyle.Main.runCli(Main.java:338)\r\n\tat com.puppycrawl.tools.checkstyle.Main.execute(Main.java:195)\r\n\tat com.puppycrawl.tools.checkstyle.Main.main(Main.java:130)\r\nCaused by: com.puppycrawl.tools.checkstyle.api.CheckstyleException: IllegalStateException occurred while parsing file /src/src/test/java/com/doctestbot/cli/TestCliParser.java.\r\n\tat com.puppycrawl.tools.checkstyle.JavaParser.parse(JavaParser.java:105)\r\n\tat com.puppycrawl.tools.checkstyle.TreeWalker.processFiltered(TreeWalker.java:152)\r\n\tat com.puppycrawl.tools.checkstyle.api.AbstractFileSetCheck.process(AbstractFileSetCheck.java:98)\r\n\tat com.puppycrawl.tools.checkstyle.Checker.processFile(Checker.java:334)\r\n\tat com.puppycrawl.tools.checkstyle.Checker.processFiles(Checker.java:293)\r\n\t... 5 more\r\nCaused by: java.lang.IllegalStateException: 37:61: mismatched input &#39;(&#39; expecting &#39;;&#39;\r\n\tat com.puppycrawl.tools.checkstyle.JavaParser$CheckstyleErrorListener.syntaxError(JavaParser.java:255)\r\n\tat org.antlr.v4.runtime.ProxyErrorListener.syntaxError(ProxyErrorListener.java:41)\r\n\tat org.antlr.v4.runtime.Parser.notifyErrorListeners(Parser.java:544)\r\n\tat org.antlr.v4.runtime.DefaultErrorStrategy.reportInputMismatch(DefaultErrorStrategy.java:327)\r\n\tat org.antlr.v4.runtime.DefaultErrorStrategy.reportError(DefaultErrorStrategy.java:139)\r\n\tat com.puppycrawl.tools.checkstyle.CheckstyleParserErrorStrategy.recoverInline(CheckstyleParserErrorStrategy.java:38)\r\n\tat org.antlr.v4.runtime.Parser.match(Parser.java:208)\r\n\tat com.puppycrawl.tools.checkstyle.grammar.java.JavaLanguageParser.blockStatement(JavaLanguageParser.java:6189)\r\n\tat com.puppycrawl.tools.checkstyle.grammar.java.JavaLanguageParser.block(JavaLanguageParser.java:6100)\r\n\tat com.puppycrawl.tools.checkstyle.grammar.java.JavaLanguageParser.methodBody(JavaLanguageParser.java:2939)\r\n\tat com.puppycrawl.tools.checkstyle.grammar.java.JavaLanguageParser.methodDeclaration(JavaLanguageParser.java:2897)\r\n\tat com.puppycrawl.tools.checkstyle.grammar.java.JavaLanguageParser.memberDeclaration(JavaLanguageParser.java:2744)\r\n\tat com.puppycrawl.tools.checkstyle.grammar.java.JavaLanguageParser.classBodyDeclaration(JavaLanguageParser.java:2670)\r\n\tat com.puppycrawl.tools.checkstyle.grammar.java.JavaLanguageParser.classBody(JavaLanguageParser.java:2476)\r\n\tat com.puppycrawl.tools.checkstyle.grammar.java.JavaLanguageParser.classDeclaration(JavaLanguageParser.java:1095)\r\n\tat com.puppycrawl.tools.checkstyle.grammar.java.JavaLanguageParser.types(JavaLanguageParser.java:752)\r\n\tat com.puppycrawl.tools.checkstyle.grammar.java.JavaLanguageParser.typeDeclaration(JavaLanguageParser.java:666)\r\n\tat com.puppycrawl.tools.checkstyle.grammar.java.JavaLanguageParser.compilationUnit(JavaLanguageParser.java:413)\r\n\tat com.puppycrawl.tools.checkstyle.JavaParser.parse(JavaParser.java:99)\r\n\t... 9 more\r\nCaused by: org.antlr.v4.runtime.InputMismatchException\r\n\t... 23 more\r\nCheckstyle ends with 1 errors.\r\n```\r\n","title":"Checkstyle: HiddenField in test whilst using @BeforeEach","body":"<p>After creating a CLI test in Java, I receive the checkstyle Error:</p>\n<pre><code>[ERROR] /src/src/test/java/com/doctestbot/cli/TestCliParser.java:53:23: 'supportedOptions' hides a field. [HiddenField]\n[ERROR] /src/src/test/java/com/doctestbot/cli/TestCliParser.java:61:25: 'cliParser' hides a field. [HiddenField]\n</code></pre>\n<p>I assume this is because the private variable <code>supportedOptions</code> of the test class <code>TestCliParser</code> overshadows the same variable <code>supportedOptions</code> in the test method <code>testArgExists</code> after it is created in the <code>@BeforeEach</code> <code>setup()</code> method.</p>\n<p>I understand that having a HiddenField that may be overwritten in some function of the class may be undesirable, hence, I understand Checkstyle throws the error. What I do not quite understand is whether I should be using a different approach/strategy to initialise the <code>cliParser</code> and <code>supportedOptions</code> objects, or whether should I pass them differently to the test functions.</p>\n<h2>Code</h2>\n<p>This is the relevant test file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.doctestbot;\n\nimport com.doctestbot.cli.CliParser;\n\n\nimport org.junit.jupiter.api.Test;\nimport org.junit.jupiter.api.BeforeEach;\n\nimport org.apache.commons.cli.Option;\nimport org.apache.commons.cli.Options;\nimport org.apache.commons.cli.UnrecognizedOptionException;\nimport org.apache.commons.cli.ParseException;\n\n/**\n * Test class for the CliParser class.\n * This class contains test methods to verify the functionality of the\n * CliParser class.\n */\n@SuppressWarnings({&quot;PMD.AtLeastOneConstructor&quot;})\nclass TestCliParser {\n\n    /** Object that is tested.\n     */\n    private CliParser cliParser;\n    /** A custom set of supported options are created before each test for\n     * testing.\n    */\n    private Options supportedOptions;\n\n    /**\n    This method sets up a dummy command-line parser with test options and\n    arguments before each test.\n    */\n    @BeforeEach\n    public void setup() {\n        // Create the first option with the specified properties\n        final Option.Builder firstOptBuilder = Option.builder(&quot;f&quot;);\n        firstOptBuilder.required(true);\n        firstOptBuilder.desc(&quot;The first option&quot;);\n        firstOptBuilder.longOpt(&quot;first&quot;);\n        final Option firstOption = firstOptBuilder.build();\n\n        // Create the option for logging with the specified properties\n        final Option.Builder optionLogBuilder = Option.builder(&quot;l&quot;);\n        optionLogBuilder.required(true);\n        optionLogBuilder.desc(\n            &quot;Log the full, unparsed ChatGPT output to the request&quot;\n            );\n        optionLogBuilder.longOpt(&quot;log&quot;);\n        final Option optionLog = optionLogBuilder.build();\n\n        // Create the supported options set and add the options\n        final Options supportedOptions = new Options();\n        supportedOptions.addOption(firstOption);\n        supportedOptions.addOption(optionLog);\n\n        final String[] emptyArguments = {};\n\n        // Create and initialize the CliParser instance with dummy arguments\n        @SuppressWarnings({&quot;PMD.UnusedLocalVariable&quot;})\n        final CliParser cliParser = new CliParser(emptyArguments);\n    }\n\n    /**\n     * Test method to verify the CLI verification function works if it receives\n     * expected arguments.\n     */\n    @Test\n    void testArgExists() {\n        // Dummy command-line arguments for testing\n        final String[] dummyArguments = {&quot;-f&quot;, &quot;theValueOfA&quot;, &quot;--log&quot;};\n\n        // Verify no error is thrown upon valid arguments.\n         assertDoesNotThrow(() -&gt; cliParser.verifyArgsAreSupported(\n            supportedOptions, dummyArguments));\n    }\n\n    /**\n     * Test method to verify the verifyArgsAreSupported method throws an error\n     * if an unexpected argument is passed.\n     */\n    @Test\n    @SuppressWarnings({&quot;PMD.JUnitTestContainsTooManyAsserts&quot;,\n    &quot;PMD.LawOfDemeter&quot;})\n    void testUnknownArgThrowsError() {\n\n        // Dummy command-line arguments for testing\n        final String[] dummyArguments = {&quot;-f&quot;, &quot;theValueOfA&quot;, &quot;--log&quot;,\n        &quot;--someUnsupportedArg&quot;};\n\n        // Verify that the provided arguments match the supported options\n\n\n        // Assert that the UnrecognizedOptionException is thrown and its cause\n        // is ParseException.\n         final Exception exception = assertThrows(\n            UnrecognizedOptionException.class, () -&gt; {\n            cliParser.verifyArgsAreSupported(supportedOptions, dummyArguments);\n        });\n\n\n        // Assert the cause of the UnrecognizedOptionException\n        final Throwable cause = exception.getCause();\n        assertTrue(cause instanceof ParseException,\n        &quot;The error was thrown due to a ParseException.&quot;);\n    }\n}\n\n</code></pre>\n<h2>Question</h2>\n<p>How can I resolve the HiddenField error whilst still initialising the <code>cliParser</code> and <code>supportedOptions</code> in the <code>@BeforeEach</code> <code>setup()</code> function?</p>\n<h2>Edit in response to comments</h2>\n<p>The error I made pointed out in the comments makes sense to me. However, when I change:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Options supportedOptions = new Options();\n</code></pre>\n<p>to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>supportedOptions = new Options();\n</code></pre>\n<p>Checkstyle throws error:</p>\n<pre><code>checkstyle...............................................................Failed\n- hook id: checkstyle\n- exit code: 254\n\nStarting audit...\ncom.puppycrawl.tools.checkstyle.api.CheckstyleException: Exception was thrown while processing src/test/java/com/doctestbot/cli/TestCliParser.java\n    at com.puppycrawl.tools.checkstyle.Checker.processFiles(Checker.java:306)\n    at com.puppycrawl.tools.checkstyle.Checker.process(Checker.java:223)\n    at com.puppycrawl.tools.checkstyle.Main.runCheckstyle(Main.java:415)\n    at com.puppycrawl.tools.checkstyle.Main.runCli(Main.java:338)\n    at com.puppycrawl.tools.checkstyle.Main.execute(Main.java:195)\n    at com.puppycrawl.tools.checkstyle.Main.main(Main.java:130)\nCaused by: com.puppycrawl.tools.checkstyle.api.CheckstyleException: IllegalStateException occurred while parsing file /src/src/test/java/com/doctestbot/cli/TestCliParser.java.\n    at com.puppycrawl.tools.checkstyle.JavaParser.parse(JavaParser.java:105)\n    at com.puppycrawl.tools.checkstyle.TreeWalker.processFiltered(TreeWalker.java:152)\n    at com.puppycrawl.tools.checkstyle.api.AbstractFileSetCheck.process(AbstractFileSetCheck.java:98)\n    at com.puppycrawl.tools.checkstyle.Checker.processFile(Checker.java:334)\n    at com.puppycrawl.tools.checkstyle.Checker.processFiles(Checker.java:293)\n    ... 5 more\nCaused by: java.lang.IllegalStateException: 37:61: mismatched input '(' expecting ';'\n    at com.puppycrawl.tools.checkstyle.JavaParser$CheckstyleErrorListener.syntaxError(JavaParser.java:255)\n    at org.antlr.v4.runtime.ProxyErrorListener.syntaxError(ProxyErrorListener.java:41)\n    at org.antlr.v4.runtime.Parser.notifyErrorListeners(Parser.java:544)\n    at org.antlr.v4.runtime.DefaultErrorStrategy.reportInputMismatch(DefaultErrorStrategy.java:327)\n    at org.antlr.v4.runtime.DefaultErrorStrategy.reportError(DefaultErrorStrategy.java:139)\n    at com.puppycrawl.tools.checkstyle.CheckstyleParserErrorStrategy.recoverInline(CheckstyleParserErrorStrategy.java:38)\n    at org.antlr.v4.runtime.Parser.match(Parser.java:208)\n    at com.puppycrawl.tools.checkstyle.grammar.java.JavaLanguageParser.blockStatement(JavaLanguageParser.java:6189)\n    at com.puppycrawl.tools.checkstyle.grammar.java.JavaLanguageParser.block(JavaLanguageParser.java:6100)\n    at com.puppycrawl.tools.checkstyle.grammar.java.JavaLanguageParser.methodBody(JavaLanguageParser.java:2939)\n    at com.puppycrawl.tools.checkstyle.grammar.java.JavaLanguageParser.methodDeclaration(JavaLanguageParser.java:2897)\n    at com.puppycrawl.tools.checkstyle.grammar.java.JavaLanguageParser.memberDeclaration(JavaLanguageParser.java:2744)\n    at com.puppycrawl.tools.checkstyle.grammar.java.JavaLanguageParser.classBodyDeclaration(JavaLanguageParser.java:2670)\n    at com.puppycrawl.tools.checkstyle.grammar.java.JavaLanguageParser.classBody(JavaLanguageParser.java:2476)\n    at com.puppycrawl.tools.checkstyle.grammar.java.JavaLanguageParser.classDeclaration(JavaLanguageParser.java:1095)\n    at com.puppycrawl.tools.checkstyle.grammar.java.JavaLanguageParser.types(JavaLanguageParser.java:752)\n    at com.puppycrawl.tools.checkstyle.grammar.java.JavaLanguageParser.typeDeclaration(JavaLanguageParser.java:666)\n    at com.puppycrawl.tools.checkstyle.grammar.java.JavaLanguageParser.compilationUnit(JavaLanguageParser.java:413)\n    at com.puppycrawl.tools.checkstyle.JavaParser.parse(JavaParser.java:99)\n    ... 9 more\nCaused by: org.antlr.v4.runtime.InputMismatchException\n    ... 23 more\nCheckstyle ends with 1 errors.\n</code></pre>\n"},{"tags":["java","maven","micronaut"],"comments":[{"owner":{"account_id":19255478,"reputation":8414,"user_id":14072498,"display_name":"Roar S."},"score":1,"creation_date":1690712800,"post_id":76794995,"comment_id":135389136,"body_markdown":"Hi. I tested this case both with Micronaut 3.9.4 and 4.0.2, and cannot reproduce this. I tested this by adding a bean annotated with `@Context` to the domain module, and when starting the app using `mvn -pl web mn:run`, the `@PostConstruct` in this bean was executed. Please provide code for a minimal app to reproduces this issue. BR","body":"Hi. I tested this case both with Micronaut 3.9.4 and 4.0.2, and cannot reproduce this. I tested this by adding a bean annotated with <code>@Context</code> to the domain module, and when starting the app using <code>mvn -pl web mn:run</code>, the <code>@PostConstruct</code> in this bean was executed. Please provide code for a minimal app to reproduces this issue. BR"},{"owner":{"account_id":132831,"reputation":5823,"user_id":333763,"accept_rate":46,"display_name":"marcin_koss"},"score":1,"creation_date":1690733203,"post_id":76794995,"comment_id":135391307,"body_markdown":"@RoarS. thank you, this helped me figure out my silly mistake.","body":"@RoarS. thank you, this helped me figure out my silly mistake."}],"answers":[{"tags":[],"owner":{"account_id":132831,"reputation":5823,"user_id":333763,"accept_rate":46,"display_name":"marcin_koss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690733111,"creation_date":1690733111,"answer_id":76798583,"question_id":76794995,"body_markdown":"Silly mistake on my side. I had `@Requires(env=&quot;local&quot;)` set on some beans and  run configuration in Intellij was specifying it, but I forgot to set the config when starting application in shell. \r\n\r\nThe command should have been `mvn -pl web mn:run -Dmicronaut.environments=local`","title":"Micronaut maven plugin dev mode issue with finding beans","body":"<p>Silly mistake on my side. I had <code>@Requires(env=&quot;local&quot;)</code> set on some beans and  run configuration in Intellij was specifying it, but I forgot to set the config when starting application in shell.</p>\n<p>The command should have been <code>mvn -pl web mn:run -Dmicronaut.environments=local</code></p>\n"}],"owner":{"account_id":132831,"reputation":5823,"user_id":333763,"accept_rate":46,"display_name":"marcin_koss"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690733111,"creation_date":1690655818,"question_id":76794995,"body_markdown":"I have a Micronaut project setup consisting of two modules. &quot;domain&quot; module contains all the domain code, the other one &quot;web&quot; mainly controllers, views etc. Web module includes domain as a compile dependency.\r\n\r\nWhen packaging web module, everything is properly compiled and I can execute the final jar, application works as expected.\r\n\r\nWhen executing using micronaut maven plugin, e.g. `mvn -pl web mn:run`, application starts but at runtime I get NoSuchBeanException for beans defined in domain module.","title":"Micronaut maven plugin dev mode issue with finding beans","body":"<p>I have a Micronaut project setup consisting of two modules. &quot;domain&quot; module contains all the domain code, the other one &quot;web&quot; mainly controllers, views etc. Web module includes domain as a compile dependency.</p>\n<p>When packaging web module, everything is properly compiled and I can execute the final jar, application works as expected.</p>\n<p>When executing using micronaut maven plugin, e.g. <code>mvn -pl web mn:run</code>, application starts but at runtime I get NoSuchBeanException for beans defined in domain module.</p>\n"},{"tags":["java","spring-boot","forms","spring-security","vaadin-flow"],"comments":[{"owner":{"account_id":4201504,"reputation":5591,"user_id":3441504,"accept_rate":100,"display_name":"kscherrer"},"score":1,"creation_date":1690780939,"post_id":76798539,"comment_id":135395351,"body_markdown":"Looks good to me. I believe that is exactly how to handle this.","body":"Looks good to me. I believe that is exactly how to handle this."}],"owner":{"account_id":4907986,"reputation":1440,"user_id":3997460,"accept_rate":62,"display_name":"megloff"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690732277,"creation_date":1690732277,"question_id":76798539,"body_markdown":"Hi there I am using vaadin flow 24 with spring boot 3 and spring security 6. I am creating vaadin view with a form component where some fields should only be editable for &quot;Admin&quot; role. \r\n\r\nI can render the form components editable or read-only according the current role with `SecurityContextHolder.getContext().getAuthentication().getAuthorities()` but I am wondering if there exist a more efficient way in case you have to create many forms?\r\n\r\nMy Security Utility Class\r\n```\r\npublic class BackendAuthorityUtils {\r\n    ...\r\n    public static List&lt;String&gt; getAuthorities() {\r\n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\r\n        final List&lt;String&gt; authorities = auth.getAuthorities().stream().map(GrantedAuthority::getAuthority).collect(Collectors.toList());\t\t\r\n        return authorities;\r\n    }\r\n\r\n    public static boolean hasAuthority(String authority) {\r\n\t\tif(!authority.startsWith(&quot;ROLE_&quot;)) authority = &quot;ROLE_&quot; + authority;\r\n        List&lt;String&gt; authorities = getAuthorities();   \r\n        return authorities.contains(authority.toUpperCase());\r\n\t}\r\n}\r\n```\r\n\r\nMy Form \r\n```\r\npublic class BackendUserForm extends FormLayout { \r\n\r\n     TextField userName = new TextField(&quot;User name&quot;); \r\n     EmailField email = new EmailField(&quot;Email&quot;);\r\n\r\n     public BackendUserForm() {\r\n \r\n       // set form fields to read-only\r\n       if(!BackendAuthorityUtils.hasAuthority(&quot;ROLE_ADMIN&quot;)) {\r\n            userName.setReadOnly(true);\r\n            email.setReadOnly(true);\r\n       }\r\n\r\n        add(userName);\r\n        add(email);\r\n     }\r\n\r\n     ...\r\n}\r\n```","title":"how to check role permission in vaadin-flow forms?","body":"<p>Hi there I am using vaadin flow 24 with spring boot 3 and spring security 6. I am creating vaadin view with a form component where some fields should only be editable for &quot;Admin&quot; role.</p>\n<p>I can render the form components editable or read-only according the current role with <code>SecurityContextHolder.getContext().getAuthentication().getAuthorities()</code> but I am wondering if there exist a more efficient way in case you have to create many forms?</p>\n<p>My Security Utility Class</p>\n<pre><code>public class BackendAuthorityUtils {\n    ...\n    public static List&lt;String&gt; getAuthorities() {\n        Authentication auth = SecurityContextHolder.getContext().getAuthentication();\n        final List&lt;String&gt; authorities = auth.getAuthorities().stream().map(GrantedAuthority::getAuthority).collect(Collectors.toList());       \n        return authorities;\n    }\n\n    public static boolean hasAuthority(String authority) {\n        if(!authority.startsWith(&quot;ROLE_&quot;)) authority = &quot;ROLE_&quot; + authority;\n        List&lt;String&gt; authorities = getAuthorities();   \n        return authorities.contains(authority.toUpperCase());\n    }\n}\n</code></pre>\n<p>My Form</p>\n<pre><code>public class BackendUserForm extends FormLayout { \n\n     TextField userName = new TextField(&quot;User name&quot;); \n     EmailField email = new EmailField(&quot;Email&quot;);\n\n     public BackendUserForm() {\n \n       // set form fields to read-only\n       if(!BackendAuthorityUtils.hasAuthority(&quot;ROLE_ADMIN&quot;)) {\n            userName.setReadOnly(true);\n            email.setReadOnly(true);\n       }\n\n        add(userName);\n        add(email);\n     }\n\n     ...\n}\n</code></pre>\n"},{"tags":["java","date","dayofweek","java.util.calendar"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":4,"creation_date":1518767088,"post_id":48820696,"comment_id":84647575,"body_markdown":"`LocalDate.of( 2017 , 8 , 14 ).getDayOfWeek().toString()` —&gt; MONDAY","body":"<code>LocalDate.of( 2017 , 8 , 14 ).getDayOfWeek().toString()</code> —&gt; MONDAY"},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":4,"creation_date":1518767829,"post_id":48820696,"comment_id":84647914,"body_markdown":"Unless you need it to work on legacy code, you are probably wasting your time learning obsolete APIs...","body":"Unless you need it to work on legacy code, you are probably wasting your time learning obsolete APIs..."},{"owner":{"account_id":10071719,"reputation":197,"user_id":7445062,"accept_rate":67,"display_name":"Said"},"score":0,"creation_date":1518779474,"post_id":48820696,"comment_id":84654522,"body_markdown":"@BasilBourque this is Java 8, right?","body":"@BasilBourque this is Java 8, right?"},{"owner":{"account_id":10071719,"reputation":197,"user_id":7445062,"accept_rate":67,"display_name":"Said"},"score":0,"creation_date":1518779638,"post_id":48820696,"comment_id":84654610,"body_markdown":"@assylias I&#39;ve just started to do the challenges on HackerRank. I&#39;m a real newbie in programming but I want to be a good competitive programmer eventually. If you have a better advice, I&#39;ll be glad to hear it :)","body":"@assylias I&#39;ve just started to do the challenges on HackerRank. I&#39;m a real newbie in programming but I want to be a good competitive programmer eventually. If you have a better advice, I&#39;ll be glad to hear it :)"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1518803759,"post_id":48820696,"comment_id":84668931,"body_markdown":"@SaidBuyukarslan The *java.time* classes are built into Java 8 and later. Much of their functionality is back-ported to Java 6 &amp; 7 in the *ThreeTen-Backport* project. Well-worth adding to your project as the legacy classes are an awful mess. Search Stack Overflow for more info. This has been addressed many times already.","body":"@SaidBuyukarslan The <i>java.time</i> classes are built into Java 8 and later. Much of their functionality is back-ported to Java 6 &amp; 7 in the <i>ThreeTen-Backport</i> project. Well-worth adding to your project as the legacy classes are an awful mess. Search Stack Overflow for more info. This has been addressed many times already."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1518762307,"creation_date":1518759947,"answer_id":48820770,"question_id":48820696,"body_markdown":"Your `return` is off; you don&#39;t want `cal.get` in the first column of `cal.getDisplayName`. Currently, I get the month name with your code. Change that to\r\n\r\n\treturn cal.getDisplayName(Calendar.DAY_OF_WEEK, Calendar.LONG, Locale.getDefault());\r\n\r\nAnd call it like\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSystem.out.println(getDay(&quot;14&quot;, &quot;8&quot;, &quot;2017&quot;));\r\n\t}\r\n\r\nAnd I get (as expected)\r\n\r\n    Monday\r\n\r\nIn new code, I would *prefer* the new classes in `java.time` (Java 8+), and a `DateTimeFormatter` - like,\r\n\r\n\tpublic static String getDay(String day, String month, String year) {\r\n\t\tint y = Integer.parseInt(year), m = Integer.parseInt(month), d = Integer.parseInt(day);\r\n\t\treturn java.time.format.DateTimeFormatter.ofPattern(&quot;EEEE&quot;)\r\n\t\t\t\t.format(LocalDate.of(y, m, d));\r\n\t}","title":"getDay() method to return day of the week for a given date not works","body":"<p>Your <code>return</code> is off; you don't want <code>cal.get</code> in the first column of <code>cal.getDisplayName</code>. Currently, I get the month name with your code. Change that to</p>\n\n<pre><code>return cal.getDisplayName(Calendar.DAY_OF_WEEK, Calendar.LONG, Locale.getDefault());\n</code></pre>\n\n<p>And call it like</p>\n\n<pre><code>public static void main(String[] args) {\n    System.out.println(getDay(\"14\", \"8\", \"2017\"));\n}\n</code></pre>\n\n<p>And I get (as expected)</p>\n\n<pre><code>Monday\n</code></pre>\n\n<p>In new code, I would <em>prefer</em> the new classes in <code>java.time</code> (Java 8+), and a <code>DateTimeFormatter</code> - like,</p>\n\n<pre><code>public static String getDay(String day, String month, String year) {\n    int y = Integer.parseInt(year), m = Integer.parseInt(month), d = Integer.parseInt(day);\n    return java.time.format.DateTimeFormatter.ofPattern(\"EEEE\")\n            .format(LocalDate.of(y, m, d));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9366175,"reputation":189,"user_id":8151896,"display_name":"Ravi Solanki"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1538859466,"creation_date":1538291435,"answer_id":52575515,"question_id":48820696,"body_markdown":"# `java.time.LocalDate`\r\n\r\nThe modern approach uses the *java.time* classes. \r\n\r\n1. Import [`java.time.*`][1] to access [`LocalDate`][2] &amp; [`DayOfWeek`][3] classes.\r\n2. Write `getDay` method which should be static because it is called in main method.\r\n3. Retrieve localDate by using `of` method which takes 3 arguments in &quot;int&quot; format.\r\n4. convert the `getDay` method arguments in int format.\r\n5. finally retrieve name of that day using `getDayOfWeek` method.\r\n\r\nThere is one video on this challenge.\r\n[Java Date and Time Hackerrank][4]\r\n\r\n    LocalDate                 // Represent a date-only value, without time-of-day and without time zone.\r\n    .of( 2018 , 1 , 23 )      // Pass year-month-day, 1-12 for January-December. \r\n    .getDayOfWeek()           // Obtain a `DayOfWeek` enum object.\r\n    .getDisplayName(          // Automatically localize the name of the day-of-week.\r\n        TextStyle.FULL ,      // How long or abbreviated.\r\n        Locale.US             // Or Locale.CANADA_FRENCH or so on.\r\n    )                         // Returns `String` such as `Monday` or `lundi`. \r\n\r\nFor Java 6 &amp; 7, see the *ThreeTen-Backport* project. For earlier Android, see the *ThreeTenABP* project.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\r\n  [2]: https://docs.oracle.com/javase/10/docs/api/java/time/LocalDate.html\r\n  [3]: https://docs.oracle.com/javase/10/docs/api/java/time/DayOfWeek.html\r\n  [4]: https://www.youtube.com/watch?v=6eiN_1P0Hk8&amp;lc=Ugxd6MOR80mcO7XjU_R4AaABAg","title":"getDay() method to return day of the week for a given date not works","body":"<h1><code>java.time.LocalDate</code></h1>\n\n<p>The modern approach uses the <em>java.time</em> classes. </p>\n\n<ol>\n<li>Import <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.time.*</code></a> to access <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a> &amp; <a href=\"https://docs.oracle.com/javase/10/docs/api/java/time/DayOfWeek.html\" rel=\"nofollow noreferrer\"><code>DayOfWeek</code></a> classes.</li>\n<li>Write <code>getDay</code> method which should be static because it is called in main method.</li>\n<li>Retrieve localDate by using <code>of</code> method which takes 3 arguments in \"int\" format.</li>\n<li>convert the <code>getDay</code> method arguments in int format.</li>\n<li>finally retrieve name of that day using <code>getDayOfWeek</code> method.</li>\n</ol>\n\n<p>There is one video on this challenge.\n<a href=\"https://www.youtube.com/watch?v=6eiN_1P0Hk8&amp;lc=Ugxd6MOR80mcO7XjU_R4AaABAg\" rel=\"nofollow noreferrer\">Java Date and Time Hackerrank</a></p>\n\n<pre><code>LocalDate                 // Represent a date-only value, without time-of-day and without time zone.\n.of( 2018 , 1 , 23 )      // Pass year-month-day, 1-12 for January-December. \n.getDayOfWeek()           // Obtain a `DayOfWeek` enum object.\n.getDisplayName(          // Automatically localize the name of the day-of-week.\n    TextStyle.FULL ,      // How long or abbreviated.\n    Locale.US             // Or Locale.CANADA_FRENCH or so on.\n)                         // Returns `String` such as `Monday` or `lundi`. \n</code></pre>\n\n<p>For Java 6 &amp; 7, see the <em>ThreeTen-Backport</em> project. For earlier Android, see the <em>ThreeTenABP</em> project.</p>\n"},{"tags":[],"owner":{"account_id":13109236,"reputation":310,"user_id":9470880,"display_name":"Isurie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622898066,"creation_date":1538821626,"answer_id":52678082,"question_id":48820696,"body_markdown":"Formatting data and time using java.util date and calendar as follows, where it needed to handle an exception with java.text.SimpleDateFormat in java 7.\r\n\r\n    public static void main(String[] args){\r\n        String inputDateStr = String.format(&quot;%s/%s/%s&quot;, 23, 04, 1995);\r\n        Date inputDate = null;\r\n        try {\r\n            inputDate = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).parse(inputDateStr);\r\n        } catch (ParseException ex) {\r\n            Logger.getLogger(JavaApplication28.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n        Calendar calendar = Calendar.getInstance();\r\n        calendar.setTime(inputDate);\r\n        String dayOfWeek = calendar.getDisplayName(Calendar.DAY_OF_WEEK, Calendar.LONG, Locale.US).toUpperCase();\r\n        System.out.println(dayOfWeek);\r\n\r\n    }\r\n\r\nFormatting date and time using java.time classes in java 8 as follows and it is immutable and thread-safe.\r\n\r\n    import java.time.LocalDateTime; \r\n    import java.time.format.DateTimeFormatter; \r\n    \r\n    public class Main {\r\n      public static void main(String[] args) {\r\n        LocalDateTime dateObj = LocalDateTime.now();\r\n        System.out.println(&quot;Before formatting: &quot; + dateObj);\r\n        DateTimeFormatter formatObj = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy HH:mm:ss&quot;);\r\n    \r\n        String formattedDate = dateObj.format(formatObj);\r\n        System.out.println(&quot;After formatting: &quot; + formattedDate);\r\n      }\r\n    }","title":"getDay() method to return day of the week for a given date not works","body":"<p>Formatting data and time using java.util date and calendar as follows, where it needed to handle an exception with java.text.SimpleDateFormat in java 7.</p>\n<pre><code>public static void main(String[] args){\n    String inputDateStr = String.format(&quot;%s/%s/%s&quot;, 23, 04, 1995);\n    Date inputDate = null;\n    try {\n        inputDate = new SimpleDateFormat(&quot;dd/MM/yyyy&quot;).parse(inputDateStr);\n    } catch (ParseException ex) {\n        Logger.getLogger(JavaApplication28.class.getName()).log(Level.SEVERE, null, ex);\n    }\n    Calendar calendar = Calendar.getInstance();\n    calendar.setTime(inputDate);\n    String dayOfWeek = calendar.getDisplayName(Calendar.DAY_OF_WEEK, Calendar.LONG, Locale.US).toUpperCase();\n    System.out.println(dayOfWeek);\n\n}\n</code></pre>\n<p>Formatting date and time using java.time classes in java 8 as follows and it is immutable and thread-safe.</p>\n<pre><code>import java.time.LocalDateTime; \nimport java.time.format.DateTimeFormatter; \n\npublic class Main {\n  public static void main(String[] args) {\n    LocalDateTime dateObj = LocalDateTime.now();\n    System.out.println(&quot;Before formatting: &quot; + dateObj);\n    DateTimeFormatter formatObj = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy HH:mm:ss&quot;);\n\n    String formattedDate = dateObj.format(formatObj);\n    System.out.println(&quot;After formatting: &quot; + formattedDate);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14379629,"reputation":11,"user_id":10387214,"display_name":"PawanSinghla"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1569690478,"creation_date":1569690478,"answer_id":58148569,"question_id":48820696,"body_markdown":"        public static String getDay(int month, int day, int year) {\r\n       String  res= java.time.format.DateTimeFormatter.ofPattern(&quot;EEEE&quot;)\r\n            .format(java.time.LocalDate.of(year, month, day));\r\n       return res;    }\r\nmust use java.time.LocalDate, if u will use direct LocalDate its show compile time error i.e cannot find symbol, so plz use java.time.\r\n\r\n\r\n","title":"getDay() method to return day of the week for a given date not works","body":"<pre><code>    public static String getDay(int month, int day, int year) {\n   String  res= java.time.format.DateTimeFormatter.ofPattern(\"EEEE\")\n        .format(java.time.LocalDate.of(year, month, day));\n   return res;    }\n</code></pre>\n\n<p>must use java.time.LocalDate, if u will use direct LocalDate its show compile time error i.e cannot find symbol, so plz use java.time.</p>\n"},{"tags":[],"owner":{"account_id":15035938,"reputation":310,"user_id":10852356,"display_name":"garima garg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589310248,"creation_date":1589305260,"answer_id":61758370,"question_id":48820696,"body_markdown":"You can use new Java8 DateTime API.\r\n\r\n    public static String getDay(int day, int month, int year) \r\n    {\r\n        LocalDate dt=LocalDate.of(year, month, day);\r\n        System.out.println(&quot;day: &quot; + dt.getDayOfWeek().toString());\r\n        return dt.getDayOfWeek().toString();\r\n    }\r\n\r\nA `LocalDate` is a date without time of day, so fine for our purpose. The `of` factory method constructs the date that we want. Contrary to the `Calendar` class used in the question it numbers the months sanely from 1 for January through 12 for December. A `LocalDate` has a getter for day of week. It returns a constant from the `DayOfWeek` enum whose `toString` method gives us a nice readable string such as `MONDAY`, again in contrast to what we get from `Calendar`.","title":"getDay() method to return day of the week for a given date not works","body":"<p>You can use new Java8 DateTime API.</p>\n\n<pre><code>public static String getDay(int day, int month, int year) \n{\n    LocalDate dt=LocalDate.of(year, month, day);\n    System.out.println(\"day: \" + dt.getDayOfWeek().toString());\n    return dt.getDayOfWeek().toString();\n}\n</code></pre>\n\n<p>A <code>LocalDate</code> is a date without time of day, so fine for our purpose. The <code>of</code> factory method constructs the date that we want. Contrary to the <code>Calendar</code> class used in the question it numbers the months sanely from 1 for January through 12 for December. A <code>LocalDate</code> has a getter for day of week. It returns a constant from the <code>DayOfWeek</code> enum whose <code>toString</code> method gives us a nice readable string such as <code>MONDAY</code>, again in contrast to what we get from <code>Calendar</code>.</p>\n"},{"tags":[],"owner":{"account_id":13685666,"reputation":51,"user_id":9874826,"display_name":"selahaddin aksu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1592318084,"creation_date":1592318084,"answer_id":62411005,"question_id":48820696,"body_markdown":"if you want to use LocalDate, you can use it this way\r\n\r\n     import java.time.LocalDate;\r\n\r\n     public static String getDay(int month, int day, int year) {\r\n        \r\n        return LocalDate.of(year, month, day).getDayOfWeek().name();\r\n    \r\n        }\r\n\r\n","title":"getDay() method to return day of the week for a given date not works","body":"<p>if you want to use LocalDate, you can use it this way</p>\n\n<pre><code> import java.time.LocalDate;\n\n public static String getDay(int month, int day, int year) {\n\n    return LocalDate.of(year, month, day).getDayOfWeek().name();\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10865479,"reputation":129,"user_id":7988988,"display_name":"parub"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1608869596,"creation_date":1608869596,"answer_id":65445224,"question_id":48820696,"body_markdown":"    public static String findDay(int month, int day, int year) {\r\n     Calendar cal = Calendar.getInstance();\r\n        cal.set(year, (month - 1), day);\r\n        String dayOfWeek = cal.getDisplayName(Calendar.DAY_OF_WEEK, Calendar.LONG, Locale.getDefault());\r\n        return dayOfWeek.toUpperCase();\r\n    }","title":"getDay() method to return day of the week for a given date not works","body":"<pre><code>public static String findDay(int month, int day, int year) {\n Calendar cal = Calendar.getInstance();\n    cal.set(year, (month - 1), day);\n    String dayOfWeek = cal.getDisplayName(Calendar.DAY_OF_WEEK, Calendar.LONG, Locale.getDefault());\n    return dayOfWeek.toUpperCase();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20927128,"reputation":39,"user_id":15374309,"display_name":"Akash AR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690731824,"creation_date":1690731824,"answer_id":76798511,"question_id":48820696,"body_markdown":"\r\n    public static String findDay(int month, int day, int year) {\r\n         Calendar rightNow = Calendar.getInstance();\r\n            rightNow.set(year, month-1, day);;\r\n            switch(rightNow.get(Calendar.DAY_OF_WEEK)) {\r\n                case Calendar.SUNDAY:\r\n                    return &quot;SUNDAY&quot;;\r\n                case Calendar.MONDAY:\r\n                    return &quot;MONDAY&quot;;\r\n                case Calendar.TUESDAY:\r\n                    return &quot;TUEDAY&quot;;\r\n                case Calendar.WEDNESDAY:\r\n                    return &quot;WEDNESDAY&quot;;\r\n                case Calendar.THURSDAY:\r\n                    return &quot;THURSDAY&quot;;\r\n                case Calendar.FRIDAY:\r\n                    return &quot;FRIDAY&quot;;\r\n                case Calendar.SATURDAY:\r\n                    return &quot;SATURDAY&quot;;            \r\n       \r\n    }\r\n\r\n}","title":"getDay() method to return day of the week for a given date not works","body":"<pre><code>public static String findDay(int month, int day, int year) {\n     Calendar rightNow = Calendar.getInstance();\n        rightNow.set(year, month-1, day);;\n        switch(rightNow.get(Calendar.DAY_OF_WEEK)) {\n            case Calendar.SUNDAY:\n                return &quot;SUNDAY&quot;;\n            case Calendar.MONDAY:\n                return &quot;MONDAY&quot;;\n            case Calendar.TUESDAY:\n                return &quot;TUEDAY&quot;;\n            case Calendar.WEDNESDAY:\n                return &quot;WEDNESDAY&quot;;\n            case Calendar.THURSDAY:\n                return &quot;THURSDAY&quot;;\n            case Calendar.FRIDAY:\n                return &quot;FRIDAY&quot;;\n            case Calendar.SATURDAY:\n                return &quot;SATURDAY&quot;;            \n   \n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":10071719,"reputation":197,"user_id":7445062,"accept_rate":67,"display_name":"Said"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38771,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":48820770,"answer_count":8,"score":8,"last_activity_date":1690731824,"creation_date":1518759573,"question_id":48820696,"body_markdown":"I&#39;m trying to complete the task named *Java Date and Time* on HackerRank.\r\n\r\n**Task**\r\n\r\n&gt; You are given a date. You just need to write the method, getDay, which\r\n&gt; returns the day on that date.For example, if you are given the date,\r\n&gt; August 14th 2017, the method should return MONDAY as the day on that\r\n&gt; date.\r\n\r\nI tried my best to do the task but I get either the `null` result or `NullPointerException` error. I wonder where do I do wrong. Below is my code:\r\n\r\nThanks in advance!\r\n\r\n**My Code:**\r\n\r\n\r\n    import java.util.*;\r\n    \r\n    public class Solution {\r\n    \r\n        public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in);\r\n            String month = in.next();\r\n            String day = in.next();\r\n            String year = in.next();\r\n    \r\n            System.out.println(getDay(day, month, year));\r\n        }\r\n    \r\n        public static String getDay(String day, String month, String year) {\r\n            Calendar cal = Calendar.getInstance();\r\n            cal.set(Integer.valueOf(year), (Integer.valueOf(month) - 1), Integer.valueOf(day));\r\n            return cal.getDisplayName(cal.get(Calendar.DAY_OF_WEEK), Calendar.LONG, Locale.getDefault());\r\n        }\r\n    }","title":"getDay() method to return day of the week for a given date not works","body":"<p>I'm trying to complete the task named <em>Java Date and Time</em> on HackerRank.</p>\n\n<p><strong>Task</strong></p>\n\n<blockquote>\n  <p>You are given a date. You just need to write the method, getDay, which\n  returns the day on that date.For example, if you are given the date,\n  August 14th 2017, the method should return MONDAY as the day on that\n  date.</p>\n</blockquote>\n\n<p>I tried my best to do the task but I get either the <code>null</code> result or <code>NullPointerException</code> error. I wonder where do I do wrong. Below is my code:</p>\n\n<p>Thanks in advance!</p>\n\n<p><strong>My Code:</strong></p>\n\n<pre><code>import java.util.*;\n\npublic class Solution {\n\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n        String month = in.next();\n        String day = in.next();\n        String year = in.next();\n\n        System.out.println(getDay(day, month, year));\n    }\n\n    public static String getDay(String day, String month, String year) {\n        Calendar cal = Calendar.getInstance();\n        cal.set(Integer.valueOf(year), (Integer.valueOf(month) - 1), Integer.valueOf(day));\n        return cal.getDisplayName(cal.get(Calendar.DAY_OF_WEEK), Calendar.LONG, Locale.getDefault());\n    }\n}\n</code></pre>\n"},{"tags":["java","string","charat"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1690731559,"post_id":76798482,"comment_id":135391104,"body_markdown":"`c ==&quot;y&quot;` is not how you compare strings. `c.equals(&quot;y&quot;)` or, sometimes better, `&quot;y&quot;.equals(c)` is the correct way.","body":"<code>c ==&quot;y&quot;</code> is not how you compare strings. <code>c.equals(&quot;y&quot;)</code> or, sometimes better, <code>&quot;y&quot;.equals(c)</code> is the correct way."}],"owner":{"account_id":21966721,"reputation":1,"user_id":18961686,"display_name":"Lakshit"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690731506,"answer_count":0,"score":0,"last_activity_date":1690731629,"creation_date":1690731452,"question_id":76798482,"body_markdown":"This is a simple program to count the numbers of positive ,negatives and zeros\r\n```\r\n   int zeros=0,positive=0,negitive=0;\r\n        char c;\r\n    do {\r\n        System.out.println(&quot;enter a number&quot;);\r\n        int x=sc.nextInt();\r\n\r\n        if (x==0) {\r\n            zeros++;\r\n        }\r\n        else if(x&gt;0){\r\n            positive++;\r\n        }\r\n        else\r\n        negitive++;\r\n        \r\n        System.out.println(&quot;do you want to enter more?(y/n)&quot;);\r\n        c=sc.next().charAt(0);\r\n        \r\n       } while (c ==&#39;y&#39;);\r\n       System.out.println(&quot;zeros &quot;+zeros);\r\n       System.out.println(&quot;positive &quot;+positive);\r\n       System.out.println(&quot;negitive &quot;+negitive);\r\n```\r\nbut when i take input as String with charAt(0) while loop doesnt work why so ?\r\n```\r\n int zeros=0,positive=0,negitive=0;\r\n        String c;\r\n    do {\r\n        System.out.println(&quot;enter a number&quot;);\r\n        int x=sc.nextInt();\r\n\r\n        if (x==0) {\r\n            zeros++;\r\n        }\r\n        else if(x&gt;0){\r\n            positive++;\r\n        }\r\n        else\r\n        negitive++;\r\n        \r\n        System.out.println(&quot;do you want to enter more?(y/n)&quot;);\r\n        c=sc.next().charAt(0);\r\n        \r\n       } while (c ==&quot;y&quot;);\r\n       System.out.println(&quot;zeros &quot;+zeros);\r\n       System.out.println(&quot;positive &quot;+positive);\r\n       System.out.println(&quot;negitive &quot;+negitive);\r\n```\r\n\r\n\r\ni was trying to take a char input with string data type with charAt(0) method but the while loop was not working.confused with these two ","title":"Difference between taking input as a string with nextLine() and taking input as a char with nextLine.charAt(0)","body":"<p>This is a simple program to count the numbers of positive ,negatives and zeros</p>\n<pre><code>   int zeros=0,positive=0,negitive=0;\n        char c;\n    do {\n        System.out.println(&quot;enter a number&quot;);\n        int x=sc.nextInt();\n\n        if (x==0) {\n            zeros++;\n        }\n        else if(x&gt;0){\n            positive++;\n        }\n        else\n        negitive++;\n        \n        System.out.println(&quot;do you want to enter more?(y/n)&quot;);\n        c=sc.next().charAt(0);\n        \n       } while (c =='y');\n       System.out.println(&quot;zeros &quot;+zeros);\n       System.out.println(&quot;positive &quot;+positive);\n       System.out.println(&quot;negitive &quot;+negitive);\n</code></pre>\n<p>but when i take input as String with charAt(0) while loop doesnt work why so ?</p>\n<pre><code> int zeros=0,positive=0,negitive=0;\n        String c;\n    do {\n        System.out.println(&quot;enter a number&quot;);\n        int x=sc.nextInt();\n\n        if (x==0) {\n            zeros++;\n        }\n        else if(x&gt;0){\n            positive++;\n        }\n        else\n        negitive++;\n        \n        System.out.println(&quot;do you want to enter more?(y/n)&quot;);\n        c=sc.next().charAt(0);\n        \n       } while (c ==&quot;y&quot;);\n       System.out.println(&quot;zeros &quot;+zeros);\n       System.out.println(&quot;positive &quot;+positive);\n       System.out.println(&quot;negitive &quot;+negitive);\n</code></pre>\n<p>i was trying to take a char input with string data type with charAt(0) method but the while loop was not working.confused with these two</p>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":2772818,"reputation":3381,"user_id":2387054,"accept_rate":46,"display_name":"zgc7009"},"score":0,"creation_date":1690731726,"post_id":76798462,"comment_id":135391127,"body_markdown":"That sounds more like a permission issue than an encryption issue. Encryption shouldn&#39;t change anything in that regard.","body":"That sounds more like a permission issue than an encryption issue. Encryption shouldn&#39;t change anything in that regard."},{"owner":{"account_id":27935158,"reputation":90,"user_id":21332328,"display_name":"RmTomal"},"score":0,"creation_date":1690737422,"post_id":76798462,"comment_id":135391799,"body_markdown":"Can you please show the data structure of your chat?","body":"Can you please show the data structure of your chat?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1690782606,"post_id":76798462,"comment_id":135395534,"body_markdown":"Have you tried to attach a listener to the `.removeValue()` operation, to see if something goes wrong?","body":"Have you tried to attach a listener to the <code>.removeValue()</code> operation, to see if something goes wrong?"}],"owner":{"account_id":29123057,"reputation":1,"user_id":22310064,"display_name":"Ayush Timalsina"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690731627,"creation_date":1690731144,"question_id":76798462,"body_markdown":"The encrypted message come from database.I need to delete that message like this :\r\n       \r\n```\r\n holder.itemView.setOnLongClickListener(new View.OnLongClickListener() {\r\n    @Override\r\n    public boolean onLongClick(View view) {\r\n        new AlertDialog.Builder(context)\r\n                .setTitle(&quot;Delete&quot;)\r\n                .setMessage(&quot;Are you sure you want to permanently delete the selected message?&quot;)\r\n                .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n                        FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n                        String sender = FirebaseAuth.getInstance().getUid() + receiverId;\r\n                        database.getReference().child(&quot;Chats&quot;).child(sender)\r\n                            .child(messages.getMessageId()).removeValue();\r\n    //                            .setValue(null);\r\n                    }\r\n                }).setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialog, int which) {\r\n                        dialog.dismiss();\r\n                    }\r\n                }).show();\r\n        return false;\r\n    }\r\n});\r\n```\r\nThis code working in with out encrypting,  but  in my case my data coming in the encrypt file. anyOne have a idea how to delete that message ???\r\n\r\ni need to delete encrypted message.","title":"how to delete encrypted message","body":"<p>The encrypted message come from database.I need to delete that message like this :</p>\n<pre><code> holder.itemView.setOnLongClickListener(new View.OnLongClickListener() {\n    @Override\n    public boolean onLongClick(View view) {\n        new AlertDialog.Builder(context)\n                .setTitle(&quot;Delete&quot;)\n                .setMessage(&quot;Are you sure you want to permanently delete the selected message?&quot;)\n                .setPositiveButton(&quot;Yes&quot;, new DialogInterface.OnClickListener() {\n                    public void onClick(DialogInterface dialog, int which) {\n                        FirebaseDatabase database = FirebaseDatabase.getInstance();\n                        String sender = FirebaseAuth.getInstance().getUid() + receiverId;\n                        database.getReference().child(&quot;Chats&quot;).child(sender)\n                            .child(messages.getMessageId()).removeValue();\n    //                            .setValue(null);\n                    }\n                }).setNegativeButton(&quot;No&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialog, int which) {\n                        dialog.dismiss();\n                    }\n                }).show();\n        return false;\n    }\n});\n</code></pre>\n<p>This code working in with out encrypting,  but  in my case my data coming in the encrypt file. anyOne have a idea how to delete that message ???</p>\n<p>i need to delete encrypted message.</p>\n"},{"tags":["java","spring","spring-boot","maven","testing"],"answers":[{"tags":[],"owner":{"account_id":17607921,"reputation":401,"user_id":12776609,"display_name":"Tony Keith"},"down_vote_count":1,"up_vote_count":29,"is_accepted":true,"score":28,"last_activity_date":1611673812,"creation_date":1611673812,"answer_id":65903905,"question_id":65903358,"body_markdown":"you are having this error because it&#39;s now recommended to specify the class (classes) you would like to test : \r\n[![enter image description here][1]][1]\r\n\r\n\r\nTo fix , you just have to specify the classes like this :\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DTWh1.png\r\n  [2]: https://i.stack.imgur.com/Uxapp.png\r\n\r\n\r\nOr if you want to ignore the tests , you can simply run :\r\n\r\n**mvn clean install -Dmaven.test.skip=true**\r\n","title":"Test Failure : java.lang.IllegalStateException: Failed to load ApplicationContext","body":"<p>you are having this error because it's now recommended to specify the class (classes) you would like to test :\n<a href=\"https://i.stack.imgur.com/DTWh1.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/DTWh1.png\" alt=\"enter image description here\" /></a></p>\n<p>To fix , you just have to specify the classes like this :</p>\n<p><a href=\"https://i.stack.imgur.com/Uxapp.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Uxapp.png\" alt=\"enter image description here\" /></a></p>\n<p>Or if you want to ignore the tests , you can simply run :</p>\n<p><strong>mvn clean install -Dmaven.test.skip=true</strong></p>\n"},{"tags":[],"owner":{"account_id":12250564,"reputation":1,"user_id":8941081,"display_name":"caiofellipe_o"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687723927,"creation_date":1687523541,"answer_id":76540164,"question_id":65903358,"body_markdown":"Adding the main class in the annotation `@SpringBootTest()` worked for me, as Tony said in the comment above.","title":"Test Failure : java.lang.IllegalStateException: Failed to load ApplicationContext","body":"<p>Adding the main class in the annotation <code>@SpringBootTest()</code> worked for me, as Tony said in the comment above.</p>\n"},{"tags":[],"owner":{"account_id":105656,"reputation":10424,"user_id":281815,"display_name":"rbento"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690731590,"creation_date":1690689054,"answer_id":76796260,"question_id":65903358,"body_markdown":"Got the same error for the same reason although in a different context, with Gradle, while building a plain Spring Boot 3.1.2 generated by [Spring Initializr][1]:\r\n\r\n```\r\n&gt; Task :server:test FAILED\r\n\r\nServerTests &gt; contextLoads() FAILED\r\n    java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:143\r\n        Caused by: java.lang.IllegalArgumentException at Assert.java:713\r\n```\r\n\r\nTried the approaches above without success.  \r\nSolved it by separating the classes containing tests from the one loading the Spring Boot context for running those tests, like so:\r\n\r\n**src/main/java/Server.java**\r\n\r\n```\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class Server {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Server.class, args);\r\n    }\r\n}\r\n```\r\n\r\n**src/test/java/ServerTests.java**\r\n```\r\nimport org.junit.jupiter.api.Test;\r\n\r\nclass ServerTests {\r\n    @Test\r\n    void contextLoads() {\r\n    }\r\n}\r\n```\r\n\r\n**src/test/java/TestSuite.java**\r\n\r\n```\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\n@SpringBootTest(classes = {ServerTests.class})\r\nclass TestSuite {\r\n}\r\n```\r\n\r\n**Output**\r\n\r\n```\r\n./gradlew clean build\r\n\r\n&gt; Task :server:test\r\nServerTests &gt; contextLoads() PASSED\r\nBUILD SUCCESSFUL in 3s\r\n```\r\n\r\n**Environment**\r\n - JDK 17\r\n - Gradle 8.2.1\r\n - Spring Boot 3.1.2\r\n\r\n\r\n  [1]: https://start.spring.io","title":"Test Failure : java.lang.IllegalStateException: Failed to load ApplicationContext","body":"<p>Got the same error for the same reason although in a different context, with Gradle, while building a plain Spring Boot 3.1.2 generated by <a href=\"https://start.spring.io\" rel=\"nofollow noreferrer\">Spring Initializr</a>:</p>\n<pre><code>&gt; Task :server:test FAILED\n\nServerTests &gt; contextLoads() FAILED\n    java.lang.IllegalStateException at DefaultCacheAwareContextLoaderDelegate.java:143\n        Caused by: java.lang.IllegalArgumentException at Assert.java:713\n</code></pre>\n<p>Tried the approaches above without success.<br />\nSolved it by separating the classes containing tests from the one loading the Spring Boot context for running those tests, like so:</p>\n<p><strong>src/main/java/Server.java</strong></p>\n<pre><code>import org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Server {\n    public static void main(String[] args) {\n        SpringApplication.run(Server.class, args);\n    }\n}\n</code></pre>\n<p><strong>src/test/java/ServerTests.java</strong></p>\n<pre><code>import org.junit.jupiter.api.Test;\n\nclass ServerTests {\n    @Test\n    void contextLoads() {\n    }\n}\n</code></pre>\n<p><strong>src/test/java/TestSuite.java</strong></p>\n<pre><code>import org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest(classes = {ServerTests.class})\nclass TestSuite {\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>./gradlew clean build\n\n&gt; Task :server:test\nServerTests &gt; contextLoads() PASSED\nBUILD SUCCESSFUL in 3s\n</code></pre>\n<p><strong>Environment</strong></p>\n<ul>\n<li>JDK 17</li>\n<li>Gradle 8.2.1</li>\n<li>Spring Boot 3.1.2</li>\n</ul>\n"}],"owner":{"account_id":19774223,"reputation":67,"user_id":14480571,"display_name":"SLCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35216,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":65903905,"answer_count":3,"score":4,"last_activity_date":1690731590,"creation_date":1611671819,"question_id":65903358,"body_markdown":"I have a project that runs correctly in the IDE, but when I tried bundle it into a &quot;jar&quot; file using the &quot;mvn&quot; command it fails due to &quot;Test Failure&quot;: **java.lang.IllegalStateException: Failed to load ApplicationContext.**\r\n\r\nHere is the test class (the default one):\r\n```\r\npackage com.example.businesslogicserver;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\n@SpringBootTest\r\nclass BusinessLogicServerApplicationTests {\r\n\r\n\t@Test\r\n\tvoid contextLoads() {\r\n\t}\r\n\r\n}\r\n````\r\n\r\nthe application class\r\n```\r\npackage com.example.businesslogicserver;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\n@SpringBootApplication\r\npublic class BusinessLogicServerApplication {\r\n\tprivate static final Logger logger = LoggerFactory.getLogger(BusinessLogicServerApplication.class);\r\n\r\n\tpublic static void main(String[] args) {\r\n\r\n\t\tSpringApplication.run(BusinessLogicServerApplication.class, args);\r\n\t\tlogger.info(&quot;Your Spring Boot Application has started successfully...&quot;);\r\n\t}\r\n}\r\n```\r\n\r\n**pom.xml**\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.4.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;business-logic-server&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;business-logic-server&lt;/name&gt;\r\n\t&lt;description&gt;Project for Handling a list of items&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.11.2&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\n**application.properties**\r\n```\r\nserver.port=9090\r\nauth.server.base.url=http://localhost:8080\r\njwt.signing.key=very1secure2secret3key_10264564684846d4fdfhdfsasa1235saa23154asas\r\n\r\nspring.jpa.show-sql=true\r\nspring.datasource.url=jdbc:mysql://localhost:3306/itemlist?serverTimezone=UTC\r\nspring.datasource.username=root\r\nspring.datasource.password=password\r\nspring.jpa.generate-ddl=true\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.data.rest.basePath=/api\r\n```\r\n\r\nCan anyone help please ? thanks in advance.\r\n\r\n","title":"Test Failure : java.lang.IllegalStateException: Failed to load ApplicationContext","body":"<p>I have a project that runs correctly in the IDE, but when I tried bundle it into a &quot;jar&quot; file using the &quot;mvn&quot; command it fails due to &quot;Test Failure&quot;: <strong>java.lang.IllegalStateException: Failed to load ApplicationContext.</strong></p>\n<p>Here is the test class (the default one):</p>\n<pre><code>package com.example.businesslogicserver;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest\nclass BusinessLogicServerApplicationTests {\n\n    @Test\n    void contextLoads() {\n    }\n\n}\n</code></pre>\n<p>the application class</p>\n<pre><code>package com.example.businesslogicserver;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\n@SpringBootApplication\npublic class BusinessLogicServerApplication {\n    private static final Logger logger = LoggerFactory.getLogger(BusinessLogicServerApplication.class);\n\n    public static void main(String[] args) {\n\n        SpringApplication.run(BusinessLogicServerApplication.class, args);\n        logger.info(&quot;Your Spring Boot Application has started successfully...&quot;);\n    }\n}\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;business-logic-server&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;business-logic-server&lt;/name&gt;\n    &lt;description&gt;Project for Handling a list of items&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-rest&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-api&lt;/artifactId&gt;\n            &lt;version&gt;0.11.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-impl&lt;/artifactId&gt;\n            &lt;version&gt;0.11.2&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt-jackson&lt;/artifactId&gt;\n            &lt;version&gt;0.11.2&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p><strong>application.properties</strong></p>\n<pre><code>server.port=9090\nauth.server.base.url=http://localhost:8080\njwt.signing.key=very1secure2secret3key_10264564684846d4fdfhdfsasa1235saa23154asas\n\nspring.jpa.show-sql=true\nspring.datasource.url=jdbc:mysql://localhost:3306/itemlist?serverTimezone=UTC\nspring.datasource.username=root\nspring.datasource.password=password\nspring.jpa.generate-ddl=true\nspring.jpa.hibernate.ddl-auto=update\nspring.data.rest.basePath=/api\n</code></pre>\n<p>Can anyone help please ? thanks in advance.</p>\n"},{"tags":["java","plugins","minecraft","bukkit"],"answers":[{"tags":[],"owner":{"account_id":12379838,"reputation":551,"user_id":9025960,"display_name":"rgnt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690728124,"creation_date":1690723877,"answer_id":76797972,"question_id":76797816,"body_markdown":"```java\r\nMyPluginClass myPlugin = MyPluginClass.getPlugin(MyPluginClass.class); // returns instance of MyPluginClass\r\n```\r\nReplace `MyPluginClass` with the class name of the class that extends `JavaPlugin` and it will return its instance.\r\n\r\n\r\nJust remeber, class names should be PascalCase - in your case `serverselectcommand` should be `ServerSelectCommand`. Stick to that naming convention and you won&#39;t have issues in the future.\r\n","title":"How to point at plugin (Bukkit)","body":"<pre class=\"lang-java prettyprint-override\"><code>MyPluginClass myPlugin = MyPluginClass.getPlugin(MyPluginClass.class); // returns instance of MyPluginClass\n</code></pre>\n<p>Replace <code>MyPluginClass</code> with the class name of the class that extends <code>JavaPlugin</code> and it will return its instance.</p>\n<p>Just remeber, class names should be PascalCase - in your case <code>serverselectcommand</code> should be <code>ServerSelectCommand</code>. Stick to that naming convention and you won't have issues in the future.</p>\n"}],"owner":{"account_id":28687893,"reputation":37,"user_id":21967775,"display_name":"vitekform"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690728124,"creation_date":1690721365,"question_id":76797816,"body_markdown":"I need something like: `Plugin plugin = this plugin` but I cant find anything that points to this plugin so I ask here.\r\n\r\nMy Code: \r\n```\r\n`package cz.untitled.main;\r\n\r\nimport cz.untitled.Untitled;\r\nimport io.papermc.paper.plugin.configuration.PluginMeta;\r\nimport org.bukkit.Bukkit;\r\nimport org.bukkit.ChatColor;\r\nimport org.bukkit.Material;\r\nimport org.bukkit.Server;\r\nimport org.bukkit.command.Command;\r\nimport org.bukkit.command.CommandExecutor;\r\nimport org.bukkit.command.CommandSender;\r\nimport org.bukkit.configuration.file.FileConfiguration;\r\nimport org.bukkit.entity.Entity;\r\nimport org.bukkit.entity.Item;\r\nimport org.bukkit.entity.Player;\r\nimport org.bukkit.generator.BiomeProvider;\r\nimport org.bukkit.generator.ChunkGenerator;\r\nimport org.bukkit.inventory.Inventory;\r\nimport org.bukkit.inventory.ItemStack;\r\nimport org.bukkit.inventory.meta.ItemMeta;\r\nimport org.bukkit.metadata.FixedMetadataValue;\r\nimport org.bukkit.metadata.MetadataValue;\r\nimport org.bukkit.plugin.Plugin;\r\nimport org.bukkit.plugin.PluginDescriptionFile;\r\nimport org.jetbrains.annotations.NotNull;\r\nimport org.jetbrains.annotations.Nullable;\r\n\r\nimport java.io.File;\r\nimport java.io.InputStream;\r\nimport java.util.List;\r\nimport java.util.logging.Level;\r\nimport java.util.logging.Logger;\r\n\r\npublic class serverselectcommand implements CommandExecutor {\r\n\r\n    @Override\r\n    public boolean onCommand(@NotNull CommandSender commandSender, @NotNull Command command, @NotNull String s, @NotNull String[] strings) {\r\n        if(commandSender instanceof Player)\r\n        {\r\n            Player p = (Player) commandSender;\r\n            Inventory inventory = Bukkit.createInventory(p, 9 * 6, ChatColor.GRAY + &quot;V&#253;běr serveru&quot;);\r\n\r\n            ItemStack nothing = new ItemStack(Material.GRAY_STAINED_GLASS_PANE);\r\n            ItemMeta nothingmeta = nothing.getItemMeta();\r\n            nothingmeta.setDisplayName(ChatColor.DARK_GRAY + &quot; &quot;);\r\n            nothing.setItemMeta(nothingmeta);\r\n            ItemStack isword = new ItemStack(Material.IRON_SWORD);\r\n            ItemMeta iswordmeta = isword.getItemMeta();\r\n            iswordmeta.setDisplayName(ChatColor.GOLD + &quot;M&quot; + ChatColor.YELLOW + &quot;i&quot; + ChatColor.GOLD + &quot;n&quot; + ChatColor.YELLOW + &quot;i&quot; + ChatColor.GOLD + &quot;h&quot; + ChatColor.YELLOW + &quot;r&quot; + ChatColor.GOLD + &quot;y&quot;);\r\n            isword.setItemMeta(iswordmeta);\r\n            ItemStack grassblock = new ItemStack(Material.GRASS_BLOCK);\r\n            ItemMeta grassblockmeta = grassblock.getItemMeta();\r\n            grassblockmeta.setDisplayName(ChatColor.DARK_GREEN + &quot;S&quot; + ChatColor.GREEN + &quot;u&quot; + ChatColor.DARK_GREEN + &quot;r&quot; + ChatColor.GREEN + &quot;v&quot; + ChatColor.DARK_GREEN + &quot;i&quot; + ChatColor.GREEN + &quot;v&quot; + ChatColor.DARK_GREEN + &quot;a&quot; + ChatColor.GREEN + &quot;l&quot;);\r\n            grassblock.setItemMeta(grassblockmeta);\r\n            ItemStack ob = new ItemStack(Material.STONE);\r\n            ItemMeta obmeta = ob.getItemMeta();\r\n            obmeta.setDisplayName(ChatColor.DARK_BLUE + &quot;O&quot; + ChatColor.BLUE + &quot;n&quot; + ChatColor.DARK_BLUE + &quot;e&quot; + ChatColor.BLUE + &quot;b&quot; + ChatColor.DARK_BLUE + &quot;l&quot; + ChatColor.BLUE + &quot;o&quot; + ChatColor.DARK_BLUE + &quot;c&quot; + ChatColor.BLUE + &quot;k&quot;);\r\n            ob.setItemMeta(obmeta);\r\n\r\n            inventory.setItem(0, nothing);\r\n            inventory.setItem(1, nothing);\r\n            inventory.setItem(2, nothing);\r\n            inventory.setItem(3, nothing);\r\n            inventory.setItem(4, nothing);\r\n            inventory.setItem(5, nothing);\r\n            inventory.setItem(6, nothing);\r\n            inventory.setItem(7, nothing);\r\n            inventory.setItem(8, nothing);\r\n            inventory.setItem(9, nothing);\r\n            inventory.setItem(10, nothing);\r\n            inventory.setItem(11, nothing);\r\n            inventory.setItem(12, nothing);\r\n            inventory.setItem(13, nothing);\r\n            inventory.setItem(14, nothing);\r\n            inventory.setItem(15, nothing);\r\n            inventory.setItem(16, nothing);\r\n            inventory.setItem(17, nothing);\r\n            inventory.setItem(18, nothing);\r\n            inventory.setItem(19, nothing);\r\n            inventory.setItem(20, isword);\r\n            inventory.setItem(21, nothing);\r\n            inventory.setItem(22, grassblock);\r\n            inventory.setItem(23, nothing);\r\n            inventory.setItem(24, ob);\r\n            inventory.setItem(25, nothing);\r\n            inventory.setItem(26, nothing);\r\n            p.openInventory(inventory);\r\n            \r\n            //p.setMetadata(&quot;OpenedMenu&quot;, new FixedMetadataValue(plugin, &quot;main&quot;));\r\n        }\r\n        else\r\n        {\r\n            Bukkit.getServer().getLogger().log(Level.INFO, ChatColor.RED + &quot;Oh, You must be player to execute this!&quot;);\r\n            return false;\r\n        }\r\n        return false;\r\n    }\r\n}\r\n```","title":"How to point at plugin (Bukkit)","body":"<p>I need something like: <code>Plugin plugin = this plugin</code> but I cant find anything that points to this plugin so I ask here.</p>\n<p>My Code:</p>\n<pre><code>`package cz.untitled.main;\n\nimport cz.untitled.Untitled;\nimport io.papermc.paper.plugin.configuration.PluginMeta;\nimport org.bukkit.Bukkit;\nimport org.bukkit.ChatColor;\nimport org.bukkit.Material;\nimport org.bukkit.Server;\nimport org.bukkit.command.Command;\nimport org.bukkit.command.CommandExecutor;\nimport org.bukkit.command.CommandSender;\nimport org.bukkit.configuration.file.FileConfiguration;\nimport org.bukkit.entity.Entity;\nimport org.bukkit.entity.Item;\nimport org.bukkit.entity.Player;\nimport org.bukkit.generator.BiomeProvider;\nimport org.bukkit.generator.ChunkGenerator;\nimport org.bukkit.inventory.Inventory;\nimport org.bukkit.inventory.ItemStack;\nimport org.bukkit.inventory.meta.ItemMeta;\nimport org.bukkit.metadata.FixedMetadataValue;\nimport org.bukkit.metadata.MetadataValue;\nimport org.bukkit.plugin.Plugin;\nimport org.bukkit.plugin.PluginDescriptionFile;\nimport org.jetbrains.annotations.NotNull;\nimport org.jetbrains.annotations.Nullable;\n\nimport java.io.File;\nimport java.io.InputStream;\nimport java.util.List;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class serverselectcommand implements CommandExecutor {\n\n    @Override\n    public boolean onCommand(@NotNull CommandSender commandSender, @NotNull Command command, @NotNull String s, @NotNull String[] strings) {\n        if(commandSender instanceof Player)\n        {\n            Player p = (Player) commandSender;\n            Inventory inventory = Bukkit.createInventory(p, 9 * 6, ChatColor.GRAY + &quot;Výběr serveru&quot;);\n\n            ItemStack nothing = new ItemStack(Material.GRAY_STAINED_GLASS_PANE);\n            ItemMeta nothingmeta = nothing.getItemMeta();\n            nothingmeta.setDisplayName(ChatColor.DARK_GRAY + &quot; &quot;);\n            nothing.setItemMeta(nothingmeta);\n            ItemStack isword = new ItemStack(Material.IRON_SWORD);\n            ItemMeta iswordmeta = isword.getItemMeta();\n            iswordmeta.setDisplayName(ChatColor.GOLD + &quot;M&quot; + ChatColor.YELLOW + &quot;i&quot; + ChatColor.GOLD + &quot;n&quot; + ChatColor.YELLOW + &quot;i&quot; + ChatColor.GOLD + &quot;h&quot; + ChatColor.YELLOW + &quot;r&quot; + ChatColor.GOLD + &quot;y&quot;);\n            isword.setItemMeta(iswordmeta);\n            ItemStack grassblock = new ItemStack(Material.GRASS_BLOCK);\n            ItemMeta grassblockmeta = grassblock.getItemMeta();\n            grassblockmeta.setDisplayName(ChatColor.DARK_GREEN + &quot;S&quot; + ChatColor.GREEN + &quot;u&quot; + ChatColor.DARK_GREEN + &quot;r&quot; + ChatColor.GREEN + &quot;v&quot; + ChatColor.DARK_GREEN + &quot;i&quot; + ChatColor.GREEN + &quot;v&quot; + ChatColor.DARK_GREEN + &quot;a&quot; + ChatColor.GREEN + &quot;l&quot;);\n            grassblock.setItemMeta(grassblockmeta);\n            ItemStack ob = new ItemStack(Material.STONE);\n            ItemMeta obmeta = ob.getItemMeta();\n            obmeta.setDisplayName(ChatColor.DARK_BLUE + &quot;O&quot; + ChatColor.BLUE + &quot;n&quot; + ChatColor.DARK_BLUE + &quot;e&quot; + ChatColor.BLUE + &quot;b&quot; + ChatColor.DARK_BLUE + &quot;l&quot; + ChatColor.BLUE + &quot;o&quot; + ChatColor.DARK_BLUE + &quot;c&quot; + ChatColor.BLUE + &quot;k&quot;);\n            ob.setItemMeta(obmeta);\n\n            inventory.setItem(0, nothing);\n            inventory.setItem(1, nothing);\n            inventory.setItem(2, nothing);\n            inventory.setItem(3, nothing);\n            inventory.setItem(4, nothing);\n            inventory.setItem(5, nothing);\n            inventory.setItem(6, nothing);\n            inventory.setItem(7, nothing);\n            inventory.setItem(8, nothing);\n            inventory.setItem(9, nothing);\n            inventory.setItem(10, nothing);\n            inventory.setItem(11, nothing);\n            inventory.setItem(12, nothing);\n            inventory.setItem(13, nothing);\n            inventory.setItem(14, nothing);\n            inventory.setItem(15, nothing);\n            inventory.setItem(16, nothing);\n            inventory.setItem(17, nothing);\n            inventory.setItem(18, nothing);\n            inventory.setItem(19, nothing);\n            inventory.setItem(20, isword);\n            inventory.setItem(21, nothing);\n            inventory.setItem(22, grassblock);\n            inventory.setItem(23, nothing);\n            inventory.setItem(24, ob);\n            inventory.setItem(25, nothing);\n            inventory.setItem(26, nothing);\n            p.openInventory(inventory);\n            \n            //p.setMetadata(&quot;OpenedMenu&quot;, new FixedMetadataValue(plugin, &quot;main&quot;));\n        }\n        else\n        {\n            Bukkit.getServer().getLogger().log(Level.INFO, ChatColor.RED + &quot;Oh, You must be player to execute this!&quot;);\n            return false;\n        }\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":["java","variadic-functions"],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1443623295,"creation_date":1443623295,"answer_id":32868721,"question_id":32868479,"body_markdown":"varargs are a short hand for passing an array. e.g. instead of writing\r\n\r\n    public static void main(String[] args) {\r\n       for(String arg : args)\r\n           System.out.println(arg);\r\n\r\nyou can instead write\r\n\r\n    public static void main(String... args) {\r\n       for(String arg : args)\r\n           System.out.println(arg);\r\n\r\nthe main difference is that the caller can now write\r\n\r\n    main(&quot;hello&quot;, &quot;world&quot;);\r\n\r\n\r\n","title":"Varargs vs method overloading","body":"<p>varargs are a short hand for passing an array. e.g. instead of writing</p>\n\n<pre><code>public static void main(String[] args) {\n   for(String arg : args)\n       System.out.println(arg);\n</code></pre>\n\n<p>you can instead write</p>\n\n<pre><code>public static void main(String... args) {\n   for(String arg : args)\n       System.out.println(arg);\n</code></pre>\n\n<p>the main difference is that the caller can now write</p>\n\n<pre><code>main(\"hello\", \"world\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2733319,"reputation":3099,"user_id":2356554,"display_name":"Keith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443623532,"creation_date":1443623532,"answer_id":32868807,"question_id":32868479,"body_markdown":"_VARARGS_ is used when there is an indeterminate number of parameters (objects) needed for a method. A canonical example is Java&#39;s [Formatter](http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html).\r\n\r\nAn example is as such:\r\n\r\n    String.format(&quot;My name is %s&quot;, myName);\r\n    String.format(&quot;My name is %s %s&quot;, myFirstName, myLastName);\r\n    String.format(&quot;My name is %s %s and I am %d years old&quot;, myFirstName, myLastName, myAge);","title":"Varargs vs method overloading","body":"<p><em>VARARGS</em> is used when there is an indeterminate number of parameters (objects) needed for a method. A canonical example is Java's <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html\" rel=\"nofollow\">Formatter</a>.</p>\n\n<p>An example is as such:</p>\n\n<pre><code>String.format(\"My name is %s\", myName);\nString.format(\"My name is %s %s\", myFirstName, myLastName);\nString.format(\"My name is %s %s and I am %d years old\", myFirstName, myLastName, myAge);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7041026,"reputation":1,"user_id":5393510,"display_name":"anks"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1443625092,"creation_date":1443624136,"answer_id":32869040,"question_id":32868479,"body_markdown":"Lets suppose you want to calculate volume of quadrilateral. First scenario is calculating area for rectangle, it will require three parameters. second scenario will be if you are calculating area for cube that requires only one parameter and third scenario could be no value is passed. Lets see through an example:\r\nFor illustration purpose only\r\n\r\n    Class Volume(){\r\n    \r\n    Volume(){\r\n    this (-1, -1, -1)\r\n    }\r\n    Volume(int x){\r\n    this (x, x, x)\r\n    }\r\n    volume(int x, y, z)\r\n    length = x;\r\n    breadth = y;\r\n    height = z;\r\n    }\r\n    public int getVolume(){\r\n    return length*breadth*height\r\n    }\r\n \r\nThis is known scenario and no other options are possible, but if you are unsure of number of arguments, we use varags.\r\nIn the above situation we did not use varags as they are less efficient and consume more space and its more dangerous in the sense it lets user to pass as many arguments as they want which is not the case in the above example","title":"Varargs vs method overloading","body":"<p>Lets suppose you want to calculate volume of quadrilateral. First scenario is calculating area for rectangle, it will require three parameters. second scenario will be if you are calculating area for cube that requires only one parameter and third scenario could be no value is passed. Lets see through an example:\nFor illustration purpose only</p>\n\n<pre><code>Class Volume(){\n\nVolume(){\nthis (-1, -1, -1)\n}\nVolume(int x){\nthis (x, x, x)\n}\nvolume(int x, y, z)\nlength = x;\nbreadth = y;\nheight = z;\n}\npublic int getVolume(){\nreturn length*breadth*height\n}\n</code></pre>\n\n<p>This is known scenario and no other options are possible, but if you are unsure of number of arguments, we use varags.\nIn the above situation we did not use varags as they are less efficient and consume more space and its more dangerous in the sense it lets user to pass as many arguments as they want which is not the case in the above example</p>\n"},{"tags":[],"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690727914,"creation_date":1690727914,"answer_id":76798230,"question_id":32868479,"body_markdown":"The clue is in your statement of the problem.\r\n\r\n&gt; ...which is conditioned by the number **and types** of variables passed as\r\n&gt; parameters.\r\n\r\nA varargs function has an indeterminate number of objects of the same type, at least as far as the declaration of the function is concerned. \r\n\r\nOverloading allows you to specify the actual types of the objects you want the function to apply to.\r\n\r\nThis it seems to me serves to make the distinction clear enough. \r\n\r\nFurther to that, if you have a small and fixed number of cases, if the choice has to be between overloading and varargs, then I&#39;d lean to overloading.  It provides better compile-time safety, in that any given call can be matched against the available functions, and an error given if there&#39;s no match.\r\n\r\nBut do you have to overload?  In other words, is there some good reason for all these functions having the same name. If they all do substantially the same thing as far as the user is concerned, it&#39;s good. Otherwise, no - think up better names.\r\n\r\nDon&#39;t use varargs if the acceptable calls have a small set of acceptable argument counts that you know in advance.\r\n\r\nLastly of course, it doesn&#39;t have to be overload **or** varargs; it can be both.","title":"Varargs vs method overloading","body":"<p>The clue is in your statement of the problem.</p>\n<blockquote>\n<p>...which is conditioned by the number <strong>and types</strong> of variables passed as\nparameters.</p>\n</blockquote>\n<p>A varargs function has an indeterminate number of objects of the same type, at least as far as the declaration of the function is concerned.</p>\n<p>Overloading allows you to specify the actual types of the objects you want the function to apply to.</p>\n<p>This it seems to me serves to make the distinction clear enough.</p>\n<p>Further to that, if you have a small and fixed number of cases, if the choice has to be between overloading and varargs, then I'd lean to overloading.  It provides better compile-time safety, in that any given call can be matched against the available functions, and an error given if there's no match.</p>\n<p>But do you have to overload?  In other words, is there some good reason for all these functions having the same name. If they all do substantially the same thing as far as the user is concerned, it's good. Otherwise, no - think up better names.</p>\n<p>Don't use varargs if the acceptable calls have a small set of acceptable argument counts that you know in advance.</p>\n<p>Lastly of course, it doesn't have to be overload <strong>or</strong> varargs; it can be both.</p>\n"}],"owner":{"account_id":7041008,"reputation":21,"user_id":5393498,"display_name":"prudthvi "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1093,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":4,"score":1,"last_activity_date":1690727914,"creation_date":1443622680,"question_id":32868479,"body_markdown":"Method overloading is a technique utilized to accomplish various tasks, each of which is conditioned by the number and types of variables passed as parameters. Each overloaded method contains different implementations based on the parameters passed. However, the need for varargs arises when we want to pass an arbitrary number of arguments. The question then arises: how can we distinguish between different tasks when an unspecified number of arguments are passed? How can we effectively handle various tasks under such a scenario?","title":"Varargs vs method overloading","body":"<p>Method overloading is a technique utilized to accomplish various tasks, each of which is conditioned by the number and types of variables passed as parameters. Each overloaded method contains different implementations based on the parameters passed. However, the need for varargs arises when we want to pass an arbitrary number of arguments. The question then arises: how can we distinguish between different tasks when an unspecified number of arguments are passed? How can we effectively handle various tasks under such a scenario?</p>\n"},{"tags":["java","spring-boot","docker","tomcat"],"comments":[{"owner":{"account_id":1022874,"reputation":33518,"user_id":1032785,"accept_rate":50,"display_name":"jordanm"},"score":0,"creation_date":1690655427,"post_id":76793338,"comment_id":135385013,"body_markdown":"One of the major benefits to using Spring Boot over vanilla spring is that it comes bundled with a http server (tomcat by default). It is intended to eliminate the need to manually manage a tomcat server in this way.","body":"One of the major benefits to using Spring Boot over vanilla spring is that it comes bundled with a http server (tomcat by default). It is intended to eliminate the need to manually manage a tomcat server in this way."},{"owner":{"account_id":18576326,"reputation":309,"user_id":13536910,"display_name":"Luca Scandroglio"},"score":1,"creation_date":1690662376,"post_id":76793338,"comment_id":135385745,"body_markdown":"I completely agree, but the customer thinks his own way.","body":"I completely agree, but the customer thinks his own way."}],"answers":[{"tags":[],"owner":{"account_id":18576326,"reputation":309,"user_id":13536910,"display_name":"Luca Scandroglio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690727581,"creation_date":1690727581,"answer_id":76798217,"question_id":76793338,"body_markdown":"Ok, maybe i found a solution. \r\n\r\n**First:** \r\n\r\nI checked the Java version matched against the environment. Yes, Tomcat images are varied and handy, but in my case i wanted to exclude environments incompatibility, which it was. I then proceeded to create an ad-hoc Docker image:\r\n\r\n    FROM alpine:latest\r\n    \r\n    LABEL maintainer=&quot;viralsrls@gmail.com&quot;\r\n    \r\n    RUN apk update &amp;&amp; apk upgrade\r\n    \r\n    //CHANGE WITH YOUR EXACT JAVA VERSION\r\n\r\n    RUN apk add openjdk17-jre curl bash\r\n    \r\n    RUN mkdir /opt/tomcat\r\n    \r\n    WORKDIR /opt/tomcat\r\n\r\n    //CHANGE WITH THE SAME TOMCAT EMBEDDED VERSION\r\n    \r\n    RUN curl -O  https://downloads.apache.org/tomcat/tomcat-10/v10.1.10/bin/apache-tomcat-10.1.10.tar.gz\r\n    \r\n    RUN tar xvfz apache*.tar.gz --strip-components 1 --directory /opt/tomcat\r\n    \r\n    ADD /manager/tomcat-users.xml /opt/tomcat/conf/tomcat-users.xml\r\n    \r\n    ADD /manager/context.xml /opt/tomcat/webapps/manager/META-INF/context.xml\r\n    \r\n    ADD /host/context.xml /opt/tomcat/webapps/host-manager/META-INF/context.xml\r\n    \r\n    ADD /conf/tomcat.service /etc/systemd/system/tomcat.service\r\n    \r\n    EXPOSE 8080\r\n\r\nMy docker-compose.yml:\r\n\r\n    version: &#39;3.3&#39;\r\n    services:\r\n      tomcat:\r\n        container_name: tomcat\r\n        build: .\r\n        image: tomcat-10.1.10:Alpine\r\n        volumes:\r\n        //YOUR WAR FILE\r\n          - ./feedback-service/target/YOUR-LOCAL-FILE.war:/opt/tomcat/webapps/YOUR-LOCAL-FILE.war\r\n        ports:\r\n          - &#39;8080:8080&#39;\r\n        entrypoint:\r\n          /opt/tomcat/bin/catalina.sh run\r\n\r\n**Second:**\r\n\r\nCheck the catalina log of any further problems.\r\n\r\nHere the environment repository at your disposal and more details:\r\n\r\n[Github][1]\r\n\r\n\r\n  [1]: https://github.com/ViralAgency/docker-tomcat10-Java17","title":"Spring Boot War deployment failed on Docker Tomcat Image - error 404","body":"<p>Ok, maybe i found a solution.</p>\n<p><strong>First:</strong></p>\n<p>I checked the Java version matched against the environment. Yes, Tomcat images are varied and handy, but in my case i wanted to exclude environments incompatibility, which it was. I then proceeded to create an ad-hoc Docker image:</p>\n<pre><code>FROM alpine:latest\n\nLABEL maintainer=&quot;viralsrls@gmail.com&quot;\n\nRUN apk update &amp;&amp; apk upgrade\n\n//CHANGE WITH YOUR EXACT JAVA VERSION\n\nRUN apk add openjdk17-jre curl bash\n\nRUN mkdir /opt/tomcat\n\nWORKDIR /opt/tomcat\n\n//CHANGE WITH THE SAME TOMCAT EMBEDDED VERSION\n\nRUN curl -O  https://downloads.apache.org/tomcat/tomcat-10/v10.1.10/bin/apache-tomcat-10.1.10.tar.gz\n\nRUN tar xvfz apache*.tar.gz --strip-components 1 --directory /opt/tomcat\n\nADD /manager/tomcat-users.xml /opt/tomcat/conf/tomcat-users.xml\n\nADD /manager/context.xml /opt/tomcat/webapps/manager/META-INF/context.xml\n\nADD /host/context.xml /opt/tomcat/webapps/host-manager/META-INF/context.xml\n\nADD /conf/tomcat.service /etc/systemd/system/tomcat.service\n\nEXPOSE 8080\n</code></pre>\n<p>My docker-compose.yml:</p>\n<pre><code>version: '3.3'\nservices:\n  tomcat:\n    container_name: tomcat\n    build: .\n    image: tomcat-10.1.10:Alpine\n    volumes:\n    //YOUR WAR FILE\n      - ./feedback-service/target/YOUR-LOCAL-FILE.war:/opt/tomcat/webapps/YOUR-LOCAL-FILE.war\n    ports:\n      - '8080:8080'\n    entrypoint:\n      /opt/tomcat/bin/catalina.sh run\n</code></pre>\n<p><strong>Second:</strong></p>\n<p>Check the catalina log of any further problems.</p>\n<p>Here the environment repository at your disposal and more details:</p>\n<p><a href=\"https://github.com/ViralAgency/docker-tomcat10-Java17\" rel=\"nofollow noreferrer\">Github</a></p>\n"}],"owner":{"account_id":18576326,"reputation":309,"user_id":13536910,"display_name":"Luca Scandroglio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":131,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1690727581,"creation_date":1690629897,"question_id":76793338,"body_markdown":"i have a problem with the deploying of Spring Boot rest service in a docker container inside a war file. The .war file is correctly unpacked inside the webapps directory and result up and running in &quot;Manager App&quot; menu, but tomcat return 404 when i send the request.\r\n\r\nThis is my Dockerfile:\r\n\r\n    FROM tomcat:8-jdk17-temurin-focal\r\n    \r\n    EXPOSE 8080\r\n\r\nThis is my docker-compose.yml\r\n\r\n    version: &#39;3.3&#39;\r\n    services:\r\n      tomcat:\r\n        container_name: tomcat\r\n        build: .\r\n        volumes:\r\n          - ./feedback-service/target/feedback-form.war:/usr/local/tomcat/webapps/feedback-form.war\r\n          - ./tomcat-users.xml:/usr/local/tomcat/conf/tomcat-users.xml\r\n          - ./context.xml:/usr/local/tomcat/webapps/manager/META-INF/context.xml\r\n        ports:\r\n          - &#39;8080:8080&#39;\r\n        entrypoint: |\r\n          bash -c &#39;exec catalina.sh run&#39;\r\n\r\nThe same application, build and launched from IntelliJ IDEA works perfectly.\r\n\r\nAny ideas?\r\n\r\n","title":"Spring Boot War deployment failed on Docker Tomcat Image - error 404","body":"<p>i have a problem with the deploying of Spring Boot rest service in a docker container inside a war file. The .war file is correctly unpacked inside the webapps directory and result up and running in &quot;Manager App&quot; menu, but tomcat return 404 when i send the request.</p>\n<p>This is my Dockerfile:</p>\n<pre><code>FROM tomcat:8-jdk17-temurin-focal\n\nEXPOSE 8080\n</code></pre>\n<p>This is my docker-compose.yml</p>\n<pre><code>version: '3.3'\nservices:\n  tomcat:\n    container_name: tomcat\n    build: .\n    volumes:\n      - ./feedback-service/target/feedback-form.war:/usr/local/tomcat/webapps/feedback-form.war\n      - ./tomcat-users.xml:/usr/local/tomcat/conf/tomcat-users.xml\n      - ./context.xml:/usr/local/tomcat/webapps/manager/META-INF/context.xml\n    ports:\n      - '8080:8080'\n    entrypoint: |\n      bash -c 'exec catalina.sh run'\n</code></pre>\n<p>The same application, build and launched from IntelliJ IDEA works perfectly.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":5715909,"reputation":15062,"user_id":4516110,"accept_rate":81,"display_name":"Mehraj Malik"},"score":0,"creation_date":1468227760,"post_id":38302935,"comment_id":64022363,"body_markdown":"Yes. you can happily do it.","body":"Yes. you can happily do it."},{"owner":{"account_id":8731161,"reputation":341,"user_id":6531136,"accept_rate":25,"display_name":"Jeyjey"},"score":0,"creation_date":1468228052,"post_id":38302935,"comment_id":64022547,"body_markdown":"Can I inherit multiple classes? @MehrajMalik","body":"Can I inherit multiple classes? @MehrajMalik"},{"owner":{"account_id":5112412,"reputation":2305,"user_id":4098637,"accept_rate":33,"display_name":"Raghavendra"},"score":0,"creation_date":1468228234,"post_id":38302935,"comment_id":64022668,"body_markdown":"Read this http://www.programmerinterview.com/index.php/java-questions/multiple-inheritance/","body":"Read this <a href=\"http://www.programmerinterview.com/index.php/java-questions/multiple-inheritance/\" rel=\"nofollow noreferrer\">programmerinterview.com/index.php/java-questions/&hellip;</a>"},{"owner":{"account_id":5715909,"reputation":15062,"user_id":4516110,"accept_rate":81,"display_name":"Mehraj Malik"},"score":0,"creation_date":1468228300,"post_id":38302935,"comment_id":64022707,"body_markdown":"@Jeyjey Multiple inheritance is not allowed in java.\n read this question : http://stackoverflow.com/questions/6587621/can-one-class-extend-two-classes","body":"@Jeyjey Multiple inheritance is not allowed in java.  read this question : <a href=\"http://stackoverflow.com/questions/6587621/can-one-class-extend-two-classes\" title=\"can one class extend two classes\">stackoverflow.com/questions/6587621/&hellip;</a>"},{"owner":{"account_id":7445809,"reputation":3639,"user_id":5662006,"display_name":"Chris Farr"},"score":0,"creation_date":1526155318,"post_id":38302935,"comment_id":87636319,"body_markdown":"This is not a duplicate of the linked question. This isn&#39;t asking what they are defined as, it&#39;s specifically asking if you can do **both at the same time**. Which was my question and the linked answer did not answer that or give an example. Below Bathsheba does.","body":"This is not a duplicate of the linked question. This isn&#39;t asking what they are defined as, it&#39;s specifically asking if you can do <b>both at the same time</b>. Which was my question and the linked answer did not answer that or give an example. Below Bathsheba does."}],"answers":[{"tags":[],"owner":{"account_id":2764833,"reputation":232372,"user_id":2380830,"accept_rate":89,"display_name":"Bathsheba"},"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1632843319,"creation_date":1468227800,"answer_id":38302991,"question_id":38302935,"body_markdown":"Yes, you can. But you need to declare `extends` *before* `implements`:\r\n\r\n```java\r\npublic class DetailActivity extends AppCompatActivity implements Interface1, Interface2 {\r\n // ...\r\n}\r\n```\r\n\r\nAny number of interfaces can be implemented, if more than one then each needs to be separated with a comma.","title":"Can I use implements and extends at the same time?","body":"<p>Yes, you can. But you need to declare <code>extends</code> <em>before</em> <code>implements</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class DetailActivity extends AppCompatActivity implements Interface1, Interface2 {\n // ...\n}\n</code></pre>\n<p>Any number of interfaces can be implemented, if more than one then each needs to be separated with a comma.</p>\n"},{"tags":[],"owner":{"account_id":6080415,"reputation":8109,"user_id":4746376,"accept_rate":73,"display_name":"Sohail Zahid"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1468228662,"creation_date":1468228662,"answer_id":38303276,"question_id":38302935,"body_markdown":"You can only extend **one class** but you implements **multiple interfaces** as your need.\r\n","title":"Can I use implements and extends at the same time?","body":"<p>You can only extend <strong>one class</strong> but you implements <strong>multiple interfaces</strong> as your need.</p>\n"},{"tags":[],"owner":{"account_id":8509567,"reputation":33,"user_id":6380000,"display_name":"Ananta Podder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644397541,"creation_date":1644397541,"answer_id":71046662,"question_id":38302935,"body_markdown":"    class Human extends Monkey implements BasicAnimals, xyz\r\n\r\nin this way you can extend a class as well as implement interfaces.","title":"Can I use implements and extends at the same time?","body":"<pre><code>class Human extends Monkey implements BasicAnimals, xyz\n</code></pre>\n<p>in this way you can extend a class as well as implement interfaces.</p>\n"},{"tags":[],"owner":{"account_id":28753762,"reputation":41,"user_id":22021203,"display_name":"UTHAYAKUMAR M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690727254,"creation_date":1690727254,"answer_id":76798198,"question_id":38302935,"body_markdown":"Yes, you can able to declare extends and implements together. But one condition you have to declare `extends` before `implements` keyword.\r\n\r\nexample\r\n\r\n    public class Dog extends Animal implements Interface1,Interface2\r\n    {\r\n             //you should implement all methods here...\r\n    }","title":"Can I use implements and extends at the same time?","body":"<p>Yes, you can able to declare extends and implements together. But one condition you have to declare <code>extends</code> before <code>implements</code> keyword.</p>\n<p>example</p>\n<pre><code>public class Dog extends Animal implements Interface1,Interface2\n{\n         //you should implement all methods here...\n}\n</code></pre>\n"}],"owner":{"account_id":8731161,"reputation":341,"user_id":6531136,"accept_rate":25,"display_name":"Jeyjey"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98023,"favorite_count":0,"down_vote_count":4,"up_vote_count":31,"answer_count":4,"score":27,"last_activity_date":1690727254,"creation_date":1468227628,"question_id":38302935,"body_markdown":"Can i use the implements and the extends at the same time? Because I need to inherit something on the other class while i used implements on the same class.\r\n\r\n    public class DetailActivity extends AppCompatActivity\r\n    implementsView.OnClickListener &quot;extends ListActivity&quot; \r\n\r\nHow can it be like that?","title":"Can I use implements and extends at the same time?","body":"<p>Can i use the implements and the extends at the same time? Because I need to inherit something on the other class while i used implements on the same class.</p>\n\n<pre><code>public class DetailActivity extends AppCompatActivity\nimplementsView.OnClickListener \"extends ListActivity\" \n</code></pre>\n\n<p>How can it be like that?</p>\n"},{"tags":["java","multithreading","concurrency","deadlock","synchronized"],"comments":[{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1690718503,"post_id":76797580,"comment_id":135389658,"body_markdown":"Haven&#39;t looked in depth, but your &quot;consumer&quot; calls `wait` unconditionally,  and not in a loop, so probably not OK. https://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html","body":"Haven&#39;t looked in depth, but your &quot;consumer&quot; calls <code>wait</code> unconditionally,  and not in a loop, so probably not OK. <a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/guardmeth.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/concurrency/&hellip;</a>"},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1690718707,"post_id":76797580,"comment_id":135389677,"body_markdown":"Re, &quot;consumers also DO NOT rival over data. Data is not consumed.&quot; Sounds like maybe &quot;producer/consumer&quot; might not be the right name for your algorithm.","body":"Re, &quot;consumers also DO NOT rival over data. Data is not consumed.&quot; Sounds like maybe &quot;producer/consumer&quot; might not be the right name for your algorithm."},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1690722885,"post_id":76797580,"comment_id":135390129,"body_markdown":"@SolomonSlow Thanx for the answers. The loop is not necessary for my needs, because a) I control the `mSyncObject` myself (not public), so wrong signalling is unlikely. And then again, c) IF someone used reflection to access and `.notify()` my sync object, it would simply let the &#39;consumers&#39; check state once too often. In that case, they&#39;d simlpy check their input, decide there&#39;s nothing to do, and jump into the `.awaitProgress()` again. You are right in the &#39;Producer&#39;/&#39;Consumer&#39; thingy. I&#39;ll rename them to `Overseer` and `Worker`.","body":"@SolomonSlow Thanx for the answers. The loop is not necessary for my needs, because a) I control the <code>mSyncObject</code> myself (not public), so wrong signalling is unlikely. And then again, c) IF someone used reflection to access and <code>.notify()</code> my sync object, it would simply let the &#39;consumers&#39; check state once too often. In that case, they&#39;d simlpy check their input, decide there&#39;s nothing to do, and jump into the <code>.awaitProgress()</code> again. You are right in the &#39;Producer&#39;/&#39;Consumer&#39; thingy. I&#39;ll rename them to <code>Overseer</code> and <code>Worker</code>."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":3,"creation_date":1690725645,"post_id":76797580,"comment_id":135390447,"body_markdown":"You&#39;re right. I did not look deeply. I only looked at the instance methods, and I assumed that `main()` was just &quot;test code.&quot; So your consumers _do_ call `wait` in a loop even though the loop and the `wait` happen to be in different methods. Also, it appears (but I _still_ haven&#39;t looked _really_ deeply) that there&#39;s no way for a consumer to `wait` after the last `notifyAll` has happened. There&#39;s several reasons why I would not give your code a &quot;pass&quot; in a code-review situation, but they&#39;re all about [the ilities](https://en.m.wiktionary.org/wiki/ility), not about correctness.","body":"You&#39;re right. I did not look deeply. I only looked at the instance methods, and I assumed that <code>main()</code> was just &quot;test code.&quot; So your consumers <i>do</i> call <code>wait</code> in a loop even though the loop and the <code>wait</code> happen to be in different methods. Also, it appears (but I <i>still</i> haven&#39;t looked <i>really</i> deeply) that there&#39;s no way for a consumer to <code>wait</code> after the last <code>notifyAll</code> has happened. There&#39;s several reasons why I would not give your code a &quot;pass&quot; in a code-review situation, but they&#39;re all about <a href=\"https://en.m.wiktionary.org/wiki/ility\" rel=\"nofollow noreferrer\">the ilities</a>, not about correctness."}],"answers":[{"tags":[],"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690724520,"creation_date":1690724520,"answer_id":76798011,"question_id":76797580,"body_markdown":"It doesn&#39;t look like this code does what you want in this case:\r\n\r\n 1. Worker starts working....\r\n 2. Overseer calls `signalProgress`\r\n 3. Worker finishes and calls `awaitProgress`\r\n\r\nAt this point, I believe you want the worker to be working, but it is not, because it missed the signal.  You should not try to use `notify...` to convey state information.  Only use it to notify waiters when the state changes.\r\n\r\nYou really need to have a `boolean workersEnabled;` or similar that you guard with `mSyncObject`.","title":"Is this implementation correct?","body":"<p>It doesn't look like this code does what you want in this case:</p>\n<ol>\n<li>Worker starts working....</li>\n<li>Overseer calls <code>signalProgress</code></li>\n<li>Worker finishes and calls <code>awaitProgress</code></li>\n</ol>\n<p>At this point, I believe you want the worker to be working, but it is not, because it missed the signal.  You should not try to use <code>notify...</code> to convey state information.  Only use it to notify waiters when the state changes.</p>\n<p>You really need to have a <code>boolean workersEnabled;</code> or similar that you guard with <code>mSyncObject</code>.</p>\n"}],"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690727180,"creation_date":1690717076,"question_id":76797580,"body_markdown":"I was wondering if this implementation is correct.\r\n\r\nThe scenario is:\r\n - one overseer\r\n - unknown number of workers (0-n)\r\n - overseer only needs to convey `resume work` or `production has stopped` signals to the workers\r\n - workers handle checks on data themselves, so even a few redundant `resume work` signals without any new data present are acceptable (so this is basically just to reduce busy waiting to a minimum, not guaranteed to 100% avoid it)\r\n - workers also **DO NOT rival** over data. Data is not consumed but simply more data present that *can* be processed. (If there was consumption, I&#39;d use semaphores or BlockingQueues)\r\n - It is not necessary for any worker to receive every `resume work` signal (or not even one): if they missed one, the next one will come along. Even if they missed all, the only thing that MUST happen is that the  `production has stopped` signal from `.signalEnd()` is received by all.\r\n\r\nUsing `signalEnd()`, this should also prevent a missed `Thread.notify()`: in case the `notify`ing Thread was run before the `wait`ing Thread.\r\n\r\n\r\n\r\nCode:\r\n\r\n\r\n\r\n    package jc.lib.lang.thread;\r\n    \r\n    /**\r\n     * Worker Threads wait for signals from Overseer Threads.&lt;br&gt;\r\n     * &lt;ul&gt;\r\n     * &lt;li&gt;Workers wait for data ({@link #awaitProgress(long, int)}), work, wait again for more data. Can re-enlist multiple times.&lt;/li&gt;\r\n     * &lt;li&gt;Overseers send {@link #signalProgress()} if they made more data available.&lt;/li&gt;\r\n     * &lt;li&gt;Overseers signal end ({@link #signalEnd()}) to indicate that no more data will be available.&lt;/li&gt;\r\n     * &lt;/ul&gt;\r\n     *\r\n     * @author jc\r\n     * @since 2023-07-20\r\n     */\r\n    public final class JcCyclicLatch {\r\n    \r\n    \tprivate final Object mSyncObject = new Object();\r\n    \r\n    \tprivate volatile boolean mWorkEnded = false;\r\n    \r\n    \tpublic JcCyclicLatch() {}\r\n    \r\n    \r\n    \r\n    \t/**\r\n    \t * Worker Threads wait for Overseer Thread to signal new data.\r\n    \t * @return &lt;b&gt;true&lt;/b&gt; if new data is present (continue working).&lt;br&gt; &lt;b&gt;false&lt;/b&gt; if work has been completed (stop working).\r\n    \t * @see {@linkplain Object#wait(long, int)}\r\n    \t */\r\n    \tpublic boolean awaitProgress(final long pTimeoutMs, final int pTimeoutNs) {\r\n    \t\tif (mWorkEnded) return false;\r\n    \r\n    \t\tsynchronized (mSyncObject) {\r\n    \t\t\ttry {\r\n    \t\t\t\tif (mWorkEnded) return false;\r\n    \t\t\t\tmSyncObject.wait(pTimeoutMs, pTimeoutNs);\r\n    \t\t\t} catch (final InterruptedException e) { /* cannot happen, we ourselves control the sync object */ }\r\n    \t\t}\r\n    \t\treturn !mWorkEnded;\r\n    \t}\r\n    \t/**\r\n    \t * @see #awaitProgress(long, int)\r\n    \t */\r\n    \tpublic boolean awaitProgress(final long pTimeoutMs) {\r\n    \t\treturn awaitProgress(pTimeoutMs, 0);\r\n    \t}\r\n    \t/**\r\n    \t * @see #awaitProgress(long, int)\r\n    \t */\r\n    \tpublic boolean awaitProgress() {\r\n    \t\treturn awaitProgress(0, 0);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Overseer Thread signals availability of new data.\r\n    \t * @throws InterruptedException\r\n    \t */\r\n    \tpublic void signalProgress() {\r\n    \t\tsynchronized (mSyncObject) {\r\n    \t\t\tmSyncObject.notifyAll();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Break open lock so that all registered Workers will pass. Future Workers will also pass rigth through.\r\n    \t */\r\n    \tpublic void signalEnd() {\r\n    \t\tmWorkEnded = true;\r\n    \t\tsignalProgress();\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Resets to inital status.\r\n    \t */\r\n    \tpublic void reset() {\r\n    \t\tmWorkEnded = false;\r\n    \t}\r\n    \r\n    \r\n    \r\n    \t/*\r\n    \t * Example method\r\n    \t */\r\n    \tpublic static void main(final String[] args) {\r\n    \t\tfinal JcCyclicLatch l = new JcCyclicLatch();\r\n    \r\n    \t\t// start workerss\r\n    \t\tfor (int i = 0; i &lt; 3; i++) {\r\n    \t\t\tfinal int index = i;\r\n    \t\t\tfinal Thread workerThread = new Thread(() -&gt; {\r\n    \t\t\t\tSystem.out.println(&quot;C &quot; + index + &quot; started.&quot;);\r\n    \t\t\t\twhile (true) {\r\n    \t\t\t\t\tSystem.out.println(&quot;C &quot; + index + &quot; waiting...&quot;);\r\n    \t\t\t\t\tfinal boolean continueWorking = l.awaitProgress();\r\n\r\n    \t\t\t\t\t// we could put an early if(!continueWork) break here, if we do not need to process all data\r\n\r\n    \t\t\t\t\t// ... work stuff\r\n    \t\t\t\t\tSystem.out.println(&quot;C &quot; + index + &quot; working.&quot;);\r\n    \t\t\t\t\t// ... work stuff\r\n\r\n    \t\t\t\t\tif (!continueWorking) { // here, we have processed all (available) data\r\n    \t\t\t\t\t\tSystem.out.println(&quot;C &quot; + index + &quot; is done working.&quot;);\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\tSystem.out.println(&quot;C &quot; + index + &quot; ending.&quot;);\r\n    \t\t\t});\r\n    \t\t\tworkerThread.start();\r\n    \t\t}\r\n    \r\n    \t\t// this is the overseer\r\n    \t\tfor (int i = 0; i &lt; 3; i++) {\r\n    \t\t\tSystem.out.println(&quot;P working...&quot;);\r\n    \t\t\ttry {\r\n    \t\t\t\tThread.sleep(1000); // simulates work\r\n    \t\t\t} catch (final InterruptedException e) { /* */ }\r\n    \r\n    \t\t\tSystem.out.println(&quot;P has new data.&quot;);\r\n    \t\t\tl.signalProgress();\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;P is ending...&quot;);\r\n    \t\tl.signalEnd();\r\n    \t\tSystem.out.println(&quot;P finished.&quot;);\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\nIf there was only 1 overseer and 1 worker involved, I&#39;d resort to a `LinkedBlockingQueue` that would contain data packets and finally a special package to signal `production has stopped`.\r\n\r\nSo my actual question is, **if that implementation is correct and/or should/could be further improved** regarding the following aspects:\r\n - does it prevent locking up (as possible with `obj.wait()` after `obj.notify()`) as far as `.signalEnd()` is concerned?\r\n - does it *reduce* busy waiting?\r\n\r\nAdditional questions, collecting opinions here, consider in the answer or comment on it:\r\n\r\n 1. As this is such as basic scenario, is there any default java class that accomplishes this in equal small code complexity?\r\n 2. I am not sure if the name `CyclicLatch` is a proper fit. Between all the `Latch`es and `Lock`s and `Barrier`s and `Sempahore`s and `Phaser`s I&#39;m getting quite confused. What would you name it?\r\n","title":"Is this implementation correct?","body":"<p>I was wondering if this implementation is correct.</p>\n<p>The scenario is:</p>\n<ul>\n<li>one overseer</li>\n<li>unknown number of workers (0-n)</li>\n<li>overseer only needs to convey <code>resume work</code> or <code>production has stopped</code> signals to the workers</li>\n<li>workers handle checks on data themselves, so even a few redundant <code>resume work</code> signals without any new data present are acceptable (so this is basically just to reduce busy waiting to a minimum, not guaranteed to 100% avoid it)</li>\n<li>workers also <strong>DO NOT rival</strong> over data. Data is not consumed but simply more data present that <em>can</em> be processed. (If there was consumption, I'd use semaphores or BlockingQueues)</li>\n<li>It is not necessary for any worker to receive every <code>resume work</code> signal (or not even one): if they missed one, the next one will come along. Even if they missed all, the only thing that MUST happen is that the  <code>production has stopped</code> signal from <code>.signalEnd()</code> is received by all.</li>\n</ul>\n<p>Using <code>signalEnd()</code>, this should also prevent a missed <code>Thread.notify()</code>: in case the <code>notify</code>ing Thread was run before the <code>wait</code>ing Thread.</p>\n<p>Code:</p>\n<pre><code>package jc.lib.lang.thread;\n\n/**\n * Worker Threads wait for signals from Overseer Threads.&lt;br&gt;\n * &lt;ul&gt;\n * &lt;li&gt;Workers wait for data ({@link #awaitProgress(long, int)}), work, wait again for more data. Can re-enlist multiple times.&lt;/li&gt;\n * &lt;li&gt;Overseers send {@link #signalProgress()} if they made more data available.&lt;/li&gt;\n * &lt;li&gt;Overseers signal end ({@link #signalEnd()}) to indicate that no more data will be available.&lt;/li&gt;\n * &lt;/ul&gt;\n *\n * @author jc\n * @since 2023-07-20\n */\npublic final class JcCyclicLatch {\n\n    private final Object mSyncObject = new Object();\n\n    private volatile boolean mWorkEnded = false;\n\n    public JcCyclicLatch() {}\n\n\n\n    /**\n     * Worker Threads wait for Overseer Thread to signal new data.\n     * @return &lt;b&gt;true&lt;/b&gt; if new data is present (continue working).&lt;br&gt; &lt;b&gt;false&lt;/b&gt; if work has been completed (stop working).\n     * @see {@linkplain Object#wait(long, int)}\n     */\n    public boolean awaitProgress(final long pTimeoutMs, final int pTimeoutNs) {\n        if (mWorkEnded) return false;\n\n        synchronized (mSyncObject) {\n            try {\n                if (mWorkEnded) return false;\n                mSyncObject.wait(pTimeoutMs, pTimeoutNs);\n            } catch (final InterruptedException e) { /* cannot happen, we ourselves control the sync object */ }\n        }\n        return !mWorkEnded;\n    }\n    /**\n     * @see #awaitProgress(long, int)\n     */\n    public boolean awaitProgress(final long pTimeoutMs) {\n        return awaitProgress(pTimeoutMs, 0);\n    }\n    /**\n     * @see #awaitProgress(long, int)\n     */\n    public boolean awaitProgress() {\n        return awaitProgress(0, 0);\n    }\n\n    /**\n     * Overseer Thread signals availability of new data.\n     * @throws InterruptedException\n     */\n    public void signalProgress() {\n        synchronized (mSyncObject) {\n            mSyncObject.notifyAll();\n        }\n    }\n\n    /**\n     * Break open lock so that all registered Workers will pass. Future Workers will also pass rigth through.\n     */\n    public void signalEnd() {\n        mWorkEnded = true;\n        signalProgress();\n    }\n\n    /**\n     * Resets to inital status.\n     */\n    public void reset() {\n        mWorkEnded = false;\n    }\n\n\n\n    /*\n     * Example method\n     */\n    public static void main(final String[] args) {\n        final JcCyclicLatch l = new JcCyclicLatch();\n\n        // start workerss\n        for (int i = 0; i &lt; 3; i++) {\n            final int index = i;\n            final Thread workerThread = new Thread(() -&gt; {\n                System.out.println(&quot;C &quot; + index + &quot; started.&quot;);\n                while (true) {\n                    System.out.println(&quot;C &quot; + index + &quot; waiting...&quot;);\n                    final boolean continueWorking = l.awaitProgress();\n\n                    // we could put an early if(!continueWork) break here, if we do not need to process all data\n\n                    // ... work stuff\n                    System.out.println(&quot;C &quot; + index + &quot; working.&quot;);\n                    // ... work stuff\n\n                    if (!continueWorking) { // here, we have processed all (available) data\n                        System.out.println(&quot;C &quot; + index + &quot; is done working.&quot;);\n                        break;\n                    }\n                }\n                System.out.println(&quot;C &quot; + index + &quot; ending.&quot;);\n            });\n            workerThread.start();\n        }\n\n        // this is the overseer\n        for (int i = 0; i &lt; 3; i++) {\n            System.out.println(&quot;P working...&quot;);\n            try {\n                Thread.sleep(1000); // simulates work\n            } catch (final InterruptedException e) { /* */ }\n\n            System.out.println(&quot;P has new data.&quot;);\n            l.signalProgress();\n        }\n        System.out.println(&quot;P is ending...&quot;);\n        l.signalEnd();\n        System.out.println(&quot;P finished.&quot;);\n    }\n\n}\n</code></pre>\n<p>If there was only 1 overseer and 1 worker involved, I'd resort to a <code>LinkedBlockingQueue</code> that would contain data packets and finally a special package to signal <code>production has stopped</code>.</p>\n<p>So my actual question is, <strong>if that implementation is correct and/or should/could be further improved</strong> regarding the following aspects:</p>\n<ul>\n<li>does it prevent locking up (as possible with <code>obj.wait()</code> after <code>obj.notify()</code>) as far as <code>.signalEnd()</code> is concerned?</li>\n<li>does it <em>reduce</em> busy waiting?</li>\n</ul>\n<p>Additional questions, collecting opinions here, consider in the answer or comment on it:</p>\n<ol>\n<li>As this is such as basic scenario, is there any default java class that accomplishes this in equal small code complexity?</li>\n<li>I am not sure if the name <code>CyclicLatch</code> is a proper fit. Between all the <code>Latch</code>es and <code>Lock</code>s and <code>Barrier</code>s and <code>Sempahore</code>s and <code>Phaser</code>s I'm getting quite confused. What would you name it?</li>\n</ol>\n"},{"tags":["java","eclipse","intellij-idea","format","visual-studio-code"],"comments":[{"owner":{"account_id":350114,"reputation":12119,"user_id":685796,"display_name":"Meo"},"score":1,"creation_date":1504513206,"post_id":46030629,"comment_id":79025714,"body_markdown":"If you really wanted to format just like Eclipse in IntelliJ, you would use https://plugins.jetbrains.com/plugin/6546-eclipse-code-formatter . Something similar could be surely made for VSC","body":"If you really wanted to format just like Eclipse in IntelliJ, you would use <a href=\"https://plugins.jetbrains.com/plugin/6546-eclipse-code-formatter\" rel=\"nofollow noreferrer\">plugins.jetbrains.com/plugin/6546-eclipse-code-formatter</a> . Something similar could be surely made for VSC"}],"answers":[{"tags":[],"owner":{"account_id":2478109,"reputation":2505,"user_id":2158271,"accept_rate":56,"display_name":"haba713"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1690727004,"creation_date":1575906212,"answer_id":59252225,"question_id":46030629,"body_markdown":"**Visual Studio Code**\r\n\r\nYou can use Eclipse Java Formatter Profile in VS Code like this:\r\n\r\n1. Install the extension [Language Support for Java(TM) by Red Hat](https://marketplace.visualstudio.com/items?itemName=redhat.java).\r\n2. File → Preferences → Settings → `java.format.settings.url`: Set URL (or local file path) pointing to Eclipse Formatter Profile file.\r\n\r\nSee this [wiki page](https://github.com/redhat-developer/vscode-java/wiki/Formatter-settings) for more information.\r\n\r\nP.S. Also take a look at [EditorConfig](https://editorconfig.org) which has [native or plugin support](https://editorconfig.org/#download) for multiple IDEs / editors.","title":"Need to import Eclipse Java Formatter profile in Visual Studio Code","body":"<p><strong>Visual Studio Code</strong></p>\n<p>You can use Eclipse Java Formatter Profile in VS Code like this:</p>\n<ol>\n<li>Install the extension <a href=\"https://marketplace.visualstudio.com/items?itemName=redhat.java\" rel=\"nofollow noreferrer\">Language Support for Java(TM) by Red Hat</a>.</li>\n<li>File → Preferences → Settings → <code>java.format.settings.url</code>: Set URL (or local file path) pointing to Eclipse Formatter Profile file.</li>\n</ol>\n<p>See this <a href=\"https://github.com/redhat-developer/vscode-java/wiki/Formatter-settings\" rel=\"nofollow noreferrer\">wiki page</a> for more information.</p>\n<p>P.S. Also take a look at <a href=\"https://editorconfig.org\" rel=\"nofollow noreferrer\">EditorConfig</a> which has <a href=\"https://editorconfig.org/#download\" rel=\"nofollow noreferrer\">native or plugin support</a> for multiple IDEs / editors.</p>\n"}],"owner":{"account_id":986091,"reputation":647,"user_id":1004538,"accept_rate":44,"display_name":"Sumitiscreative"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12928,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":1,"score":16,"last_activity_date":1690727004,"creation_date":1504502119,"question_id":46030629,"body_markdown":"I am looking for solution for importing Eclipse Java Formatter Profile in Visual Studio Code.  In order to go with coding complaince. For example in IntelliJ and Eclipse for Java we do this way: \r\n\r\n**IntelliJ**  \r\n\r\n 1. Download the config (attached)\r\n 2. In the Intellij settings (Ctrl+Alt+S), go to Code Style\r\n 3. Next to Scheme, click Manage and then Import...\r\n 4. Select &#39;Eclipse XML Profile&#39; and browse to the downloaded config file.\r\n\r\nNow, every time Intellij uses its auto-formatting features, it will conform to the standards in the config file. This can be done quickly with the shortcut &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Alt&lt;/kbd&gt;+&lt;kbd&gt;L&lt;/kbd&gt;.\r\n \r\n**Eclipse**\r\n\r\n 1. Download the config (attached)\r\n 2. Navigate to Window-&gt;Preferences\r\n 3. Navigate to Java-&gt;Code Style-&gt;Formatter\r\n 4. Click on Import and navigate to the downloaded config file\r\n 5. Click Apply and Ok\r\n\r\nNow, every time Eclipse uses its auto-formatting features, it will conform to the standards in the config file. This can be done quickly with the shortcut &lt;kbd&gt;Ctrl&lt;/kbd&gt;+&lt;kbd&gt;Shift&lt;/kbd&gt;+&lt;kbd&gt;F&lt;/kbd&gt;.\r\n\r\nNote: This profile might not work while formatting xml files. So go to Preferences -&gt; XML -&gt; Editor\r\n \r\nI need to know the **same alternative for Visual Studio Code**.\r\nPlease share any pointers !\r\n  ","title":"Need to import Eclipse Java Formatter profile in Visual Studio Code","body":"<p>I am looking for solution for importing Eclipse Java Formatter Profile in Visual Studio Code.  In order to go with coding complaince. For example in IntelliJ and Eclipse for Java we do this way: </p>\n\n<p><strong>IntelliJ</strong>  </p>\n\n<ol>\n<li>Download the config (attached)</li>\n<li>In the Intellij settings (Ctrl+Alt+S), go to Code Style</li>\n<li>Next to Scheme, click Manage and then Import...</li>\n<li>Select 'Eclipse XML Profile' and browse to the downloaded config file.</li>\n</ol>\n\n<p>Now, every time Intellij uses its auto-formatting features, it will conform to the standards in the config file. This can be done quickly with the shortcut <kbd>Ctrl</kbd>+<kbd>Alt</kbd>+<kbd>L</kbd>.</p>\n\n<p><strong>Eclipse</strong></p>\n\n<ol>\n<li>Download the config (attached)</li>\n<li>Navigate to Window->Preferences</li>\n<li>Navigate to Java->Code Style->Formatter</li>\n<li>Click on Import and navigate to the downloaded config file</li>\n<li>Click Apply and Ok</li>\n</ol>\n\n<p>Now, every time Eclipse uses its auto-formatting features, it will conform to the standards in the config file. This can be done quickly with the shortcut <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>F</kbd>.</p>\n\n<p>Note: This profile might not work while formatting xml files. So go to Preferences -> XML -> Editor</p>\n\n<p>I need to know the <strong>same alternative for Visual Studio Code</strong>.\nPlease share any pointers !</p>\n"},{"tags":["java","apache-kafka","apache-kafka-connect"],"owner":{"account_id":29107629,"reputation":21,"user_id":22298043,"display_name":"양형욱"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1690726643,"creation_date":1690720055,"question_id":76797743,"body_markdown":"If i develop a ConnectRestExtension implementation and deploy a fat jar file excluding dependencies provided by Connect Framework in plugin.path, the following error occurs.\r\n\r\n`org.apache.kafka.connect.errors.ConnectException: Failed to find any class that implements interface org.apache.kafka.connect.rest.ConnectRestExtension and which name matches~`\r\n\r\nThe full class name was written correctly in resource/META-INF/services/org.apache.kafka.connect.rest.ConnectRestExtension. Strangely, it works normally when deployed in the libs folder, which is the Kafka classpath. what could be the reason...\r\nThe following dependencies were used when developing the ConnectRestExtension implementation.\r\n\r\n```xml\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;!-- connect api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\r\n            &lt;artifactId&gt;connect-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.5.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- commons --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.7&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\r\n            &lt;version&gt;4.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- json --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson-core.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;version&gt;${jackson-core.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- logging --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.25&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/com.squareup.okhttp3/okhttp --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n            &lt;version&gt;${okhttp.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- jersey --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\r\n            &lt;version&gt;${jersey.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\r\n            &lt;version&gt;${jersey.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n            &lt;version&gt;${jersey.version}&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- jersey --&gt;\r\n\r\n        &lt;!-- test --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.8.2&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mockwebserver&lt;/artifactId&gt;\r\n            &lt;version&gt;${okhttp.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\r\n\r\n        &lt;resources&gt;\r\n            &lt;resource&gt;\r\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;filtering&gt;true&lt;/filtering&gt;\r\n            &lt;/resource&gt;\r\n        &lt;/resources&gt;\r\n\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;overwrite&gt;true&lt;/overwrite&gt;\r\n                    &lt;encoding&gt;${source-encoding}&lt;/encoding&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;!-- Test coverage report--&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;0.8.3&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-prepare-agent&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;default-report&lt;/id&gt;\r\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;report&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;profiles&gt;\r\n        &lt;!-- app build --&gt;\r\n        &lt;profile&gt;\r\n            &lt;id&gt;app&lt;/id&gt;\r\n            &lt;activation&gt;\r\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n            &lt;/activation&gt;\r\n        &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nI have checked until the log is taken here.\r\n\r\n```java\r\n    private PluginScanResult scanUrlsAndAddPlugins(PluginSource source) {\r\n        log.info(&quot;Loading plugin from: {}&quot;, source.location());\r\n        if (log.isDebugEnabled()) {\r\n            log.debug(&quot;Loading plugin urls: {}&quot;, Arrays.toString(source.urls()));\r\n        }\r\n        PluginScanResult plugins = scanPlugins(source);\r\n        log.info(&quot;Registered loader: {}&quot;, source.loader());\r\n        loadJdbcDrivers(source.loader());\r\n        return plugins;\r\n    }\r\n```","title":"how can i solve ConnectRestExtension error","body":"<p>If i develop a ConnectRestExtension implementation and deploy a fat jar file excluding dependencies provided by Connect Framework in plugin.path, the following error occurs.</p>\n<p><code>org.apache.kafka.connect.errors.ConnectException: Failed to find any class that implements interface org.apache.kafka.connect.rest.ConnectRestExtension and which name matches~</code></p>\n<p>The full class name was written correctly in resource/META-INF/services/org.apache.kafka.connect.rest.ConnectRestExtension. Strangely, it works normally when deployed in the libs folder, which is the Kafka classpath. what could be the reason...\nThe following dependencies were used when developing the ConnectRestExtension implementation.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n    &lt;dependencies&gt;\n        &lt;!-- connect api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.kafka&lt;/groupId&gt;\n            &lt;artifactId&gt;connect-api&lt;/artifactId&gt;\n            &lt;version&gt;3.5.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- commons --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n            &lt;version&gt;3.7&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-collections4&lt;/artifactId&gt;\n            &lt;version&gt;4.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- json --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-core&lt;/artifactId&gt;\n            &lt;version&gt;${jackson-core.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n            &lt;version&gt;${jackson-core.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- logging --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.7.25&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.squareup.okhttp3/okhttp --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n            &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n            &lt;version&gt;${okhttp.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- jersey --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-server&lt;/artifactId&gt;\n            &lt;version&gt;${jersey.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.containers&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-container-servlet&lt;/artifactId&gt;\n            &lt;version&gt;${jersey.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n            &lt;version&gt;${jersey.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- jersey --&gt;\n\n        &lt;!-- test --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;5.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-core&lt;/artifactId&gt;\n            &lt;version&gt;5.3.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n            &lt;version&gt;5.3.1&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n            &lt;artifactId&gt;mockwebserver&lt;/artifactId&gt;\n            &lt;version&gt;${okhttp.version}&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n                &lt;filtering&gt;true&lt;/filtering&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-resources-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.6&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;overwrite&gt;true&lt;/overwrite&gt;\n                    &lt;encoding&gt;${source-encoding}&lt;/encoding&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.4&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;shade&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;createDependencyReducedPom&gt;false&lt;/createDependencyReducedPom&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;!-- Test coverage report--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.jacoco&lt;/groupId&gt;\n                &lt;artifactId&gt;jacoco-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;0.8.3&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-prepare-agent&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;prepare-agent&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;default-report&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;report&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;profiles&gt;\n        &lt;!-- app build --&gt;\n        &lt;profile&gt;\n            &lt;id&gt;app&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I have checked until the log is taken here.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private PluginScanResult scanUrlsAndAddPlugins(PluginSource source) {\n        log.info(&quot;Loading plugin from: {}&quot;, source.location());\n        if (log.isDebugEnabled()) {\n            log.debug(&quot;Loading plugin urls: {}&quot;, Arrays.toString(source.urls()));\n        }\n        PluginScanResult plugins = scanPlugins(source);\n        log.info(&quot;Registered loader: {}&quot;, source.loader());\n        loadJdbcDrivers(source.loader());\n        return plugins;\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1514199502,"post_id":47967898,"comment_id":82905356,"body_markdown":"how are you reaching the controller ? with which url?","body":"how are you reaching the controller ? with which url?"},{"owner":{"account_id":2694227,"reputation":291,"user_id":2326734,"accept_rate":12,"display_name":"Devil"},"score":0,"creation_date":1514199626,"post_id":47967898,"comment_id":82905387,"body_markdown":"URL that I am reaching is - http://localhost:8080/abc","body":"URL that I am reaching is - <a href=\"http://localhost:8080/abc\" rel=\"nofollow noreferrer\">localhost:8080/abc</a>"},{"owner":{"account_id":8781643,"reputation":25950,"user_id":6565093,"accept_rate":47,"display_name":"pvpkiran"},"score":0,"creation_date":1514199697,"post_id":47967898,"comment_id":82905410,"body_markdown":"when the application starts, spring-boot lists all the requestsmapping. Do you see the mapping?","body":"when the application starts, spring-boot lists all the requestsmapping. Do you see the mapping?"},{"owner":{"account_id":7361553,"reputation":8401,"user_id":5604676,"accept_rate":69,"display_name":"Sergii Bishyr"},"score":0,"creation_date":1514200086,"post_id":47967898,"comment_id":82905511,"body_markdown":"Please, show us your pom.xml. I cannot reproduce the issue with provided data","body":"Please, show us your pom.xml. I cannot reproduce the issue with provided data"},{"owner":{"account_id":2694227,"reputation":291,"user_id":2326734,"accept_rate":12,"display_name":"Devil"},"score":0,"creation_date":1514200507,"post_id":47967898,"comment_id":82905612,"body_markdown":"Hi\nAdded pom.xml as well as logs when tomcat starts in the question itself.","body":"Hi Added pom.xml as well as logs when tomcat starts in the question itself."},{"owner":{"account_id":454394,"reputation":4041,"user_id":851951,"accept_rate":32,"display_name":"Dani"},"score":5,"creation_date":1514202280,"post_id":47967898,"comment_id":82906063,"body_markdown":"Try to move the SpringBootMain class to the com.spring package instead of com.spring.boot, (namespaces heriarchy and visibility).","body":"Try to move the SpringBootMain class to the com.spring package instead of com.spring.boot, (namespaces heriarchy and visibility)."},{"owner":{"account_id":3259438,"reputation":1802,"user_id":2745277,"accept_rate":60,"display_name":"Pratik Shah"},"score":0,"creation_date":1514206250,"post_id":47967898,"comment_id":82907050,"body_markdown":"@Devil: try to return an object or an empty list instead of String, as that will make response type as `plain/text`. which is not rest representation for a resource.","body":"@Devil: try to return an object or an empty list instead of String, as that will make response type as <code>plain&#47;text</code>. which is not rest representation for a resource."},{"owner":{"account_id":4165401,"reputation":2145,"user_id":3414466,"accept_rate":33,"display_name":"coldy"},"score":0,"creation_date":1514206599,"post_id":47967898,"comment_id":82907136,"body_markdown":"@Devil, Did you try changing dispatcher-servlet from / to /* ?","body":"@Devil, Did you try changing dispatcher-servlet from / to /* ?"},{"owner":{"account_id":3719338,"reputation":12130,"user_id":3094731,"accept_rate":56,"display_name":"Abdullah Khan"},"score":0,"creation_date":1514208873,"post_id":47967898,"comment_id":82907655,"body_markdown":"Try changing your `@SpringBootApplication(scanBasePackages = {&quot;com.spring.controllers&quot;})` to `@SpringBootApplication(scanBasePackages = {&quot;com.spring.*&quot;})`","body":"Try changing your <code>@SpringBootApplication(scanBasePackages = {&quot;com.spring.controllers&quot;})</code> to <code>@SpringBootApplication(scanBasePackages = {&quot;com.spring.*&quot;})</code>"},{"owner":{"account_id":3186826,"reputation":2269,"user_id":3395716,"accept_rate":90,"display_name":"Registered User"},"score":0,"creation_date":1514209817,"post_id":47967898,"comment_id":82907885,"body_markdown":"Try adding `@Responsebody` annotation to `gethi` method","body":"Try adding <code>@Responsebody</code> annotation to <code>gethi</code> method"},{"owner":{"account_id":3719338,"reputation":12130,"user_id":3094731,"accept_rate":56,"display_name":"Abdullah Khan"},"score":0,"creation_date":1514210698,"post_id":47967898,"comment_id":82908079,"body_markdown":"you can also try `@SpringBootApplication\n@ComponentScan(&quot;com.spring.controllers&quot;)`","body":"you can also try <code>@SpringBootApplication @ComponentScan(&quot;com.spring.controllers&quot;)</code>"},{"owner":{"account_id":405658,"reputation":869,"user_id":774681,"display_name":"Olantobi"},"score":1,"creation_date":1514237490,"post_id":47967898,"comment_id":82913958,"body_markdown":"Spring Boot by default scans all children packages. Move SpringBootMain to com.spring and remove the unnecessary scanBasePackages. It will work.","body":"Spring Boot by default scans all children packages. Move SpringBootMain to com.spring and remove the unnecessary scanBasePackages. It will work."},{"owner":{"account_id":8282594,"reputation":75,"user_id":6226767,"display_name":"Ebillson GRAND JEAN"},"score":0,"creation_date":1678662579,"post_id":47967898,"comment_id":133572392,"body_markdown":"Does this answer your question? [Spring Boot: Cannot access REST Controller on localhost (404)](https://stackoverflow.com/questions/31318107/spring-boot-cannot-access-rest-controller-on-localhost-404)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/31318107/spring-boot-cannot-access-rest-controller-on-localhost-404\">Spring Boot: Cannot access REST Controller on localhost (404)</a>"}],"answers":[{"tags":[],"owner":{"account_id":1867473,"reputation":3093,"user_id":1690657,"accept_rate":90,"display_name":"Alex P."},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1514210168,"creation_date":1514201750,"answer_id":47968234,"question_id":47967898,"body_markdown":"As people mentioned in the comment try to add your base package.\r\n\r\n    @SpringBootApplication(scanBasePackages = {&quot;com.spring&quot;})\r\n\r\nOr\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan(&quot;com.spring&quot;)\r\n\r\n\r\nBut why don&#39;t you use this spring initializr https://start.spring.io/ to create a spring boot project from scratch. You can also add any dependency you need.\r\n\r\nHere is the mini controller that I tried to reproduce from your example:\r\n\r\n**SpringApplication**\r\n\r\n    package com.example.demo.app;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.ComponentScan;\r\n    \r\n    @SpringBootApplication\r\n    @ComponentScan(&quot;com.example.demo.controller&quot;)\r\n    public class DemoApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(DemoApplication.class, args);\r\n    \t}\r\n    }\r\n\r\n\r\n**Controller**\r\n\r\n    package com.example.demo.controller;\r\n    \r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    public class HelloController {\r\n    \r\n    \t@RequestMapping(value = &quot;/abc&quot;)\r\n    \tpublic String getHi() {\r\n    \t\tSystem.out.println(&quot;End Point hit&quot;);\r\n    \t\treturn &quot;Hi&quot;;\r\n    \t}\r\n    }\r\n\r\n\r\n**pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.5.9.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nand it works just fine!","title":"RequestMapping of SpringBoot Not working","body":"<p>As people mentioned in the comment try to add your base package.</p>\n\n<pre><code>@SpringBootApplication(scanBasePackages = {\"com.spring\"})\n</code></pre>\n\n<p>Or</p>\n\n<pre><code>@SpringBootApplication\n@ComponentScan(\"com.spring\")\n</code></pre>\n\n<p>But why don't you use this spring initializr <a href=\"https://start.spring.io/\" rel=\"noreferrer\">https://start.spring.io/</a> to create a spring boot project from scratch. You can also add any dependency you need.</p>\n\n<p>Here is the mini controller that I tried to reproduce from your example:</p>\n\n<p><strong>SpringApplication</strong></p>\n\n<pre><code>package com.example.demo.app;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.ComponentScan;\n\n@SpringBootApplication\n@ComponentScan(\"com.example.demo.controller\")\npublic class DemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemoApplication.class, args);\n    }\n}\n</code></pre>\n\n<p><strong>Controller</strong></p>\n\n<pre><code>package com.example.demo.controller;\n\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class HelloController {\n\n    @RequestMapping(value = \"/abc\")\n    public String getHi() {\n        System.out.println(\"End Point hit\");\n        return \"Hi\";\n    }\n}\n</code></pre>\n\n<p><strong>pom.xml</strong></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p>and it works just fine!</p>\n"},{"tags":[],"owner":{"account_id":446461,"reputation":2991,"user_id":839518,"accept_rate":80,"display_name":"Vladimir Salin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1514205792,"creation_date":1514205792,"answer_id":47968740,"question_id":47967898,"body_markdown":"As a suggestion, try calling default actuator endpoints e.g. `http://localhost:8080/error`. They come up with the Spring Boot and will show the actual status of your service. ","title":"RequestMapping of SpringBoot Not working","body":"<p>As a suggestion, try calling default actuator endpoints e.g. <code>http://localhost:8080/error</code>. They come up with the Spring Boot and will show the actual status of your service. </p>\n"},{"tags":[],"owner":{"account_id":16431564,"reputation":114,"user_id":11870273,"display_name":"appdesigns"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1564680640,"creation_date":1564675777,"answer_id":57313081,"question_id":47967898,"body_markdown":"Change your parent version number to below:\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;\r\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    &lt;/parent&gt;","title":"RequestMapping of SpringBoot Not working","body":"<p>Change your parent version number to below:</p>\n\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;1.5.9.RELEASE&lt;/version&gt;\n    &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17288616,"reputation":235,"user_id":12520670,"display_name":"tutorialTpoint"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1576394835,"creation_date":1576394835,"answer_id":59341981,"question_id":47967898,"body_markdown":"Your Controller should be in the Child package of SpringBootApplication.\r\ne.g if your SpringbootApplication main method is under com.text.demo package then your Controller class should be under com.text.demo.controller.\r\n\r\n\r\nor add \r\n```@ComponentScan(&quot;com.text.demo.controller&quot;) on Spring boot Application main class.```\r\n","title":"RequestMapping of SpringBoot Not working","body":"<p>Your Controller should be in the Child package of SpringBootApplication.\ne.g if your SpringbootApplication main method is under com.text.demo package then your Controller class should be under com.text.demo.controller.</p>\n\n<p>or add \n<code>@ComponentScan(\"com.text.demo.controller\") on Spring boot Application main class.</code></p>\n"},{"tags":[],"owner":{"account_id":18636993,"reputation":1,"user_id":13583667,"display_name":"Keerthi Sai Krishna Kothakota"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655360918,"creation_date":1655360918,"answer_id":72641406,"question_id":47967898,"body_markdown":"The issue might be due to wrong import of @Service annotation. It should be a stereotype one.\r\n\r\nUse this in your service class as usage of component scan in Springboot is not a better practice.\r\nimport org.springframework.stereotype.Service;","title":"RequestMapping of SpringBoot Not working","body":"<p>The issue might be due to wrong import of @Service annotation. It should be a stereotype one.</p>\n<p>Use this in your service class as usage of component scan in Springboot is not a better practice.\nimport org.springframework.stereotype.Service;</p>\n"},{"tags":[],"owner":{"account_id":22744611,"reputation":1,"user_id":16905551,"display_name":"learning"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690725988,"creation_date":1690725988,"answer_id":76798108,"question_id":47967898,"body_markdown":"Go to the pom.xml and add this dependency\r\n\r\n\t&lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n","title":"RequestMapping of SpringBoot Not working","body":"<p>Go to the pom.xml and add this dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2694227,"reputation":291,"user_id":2326734,"accept_rate":12,"display_name":"Devil"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33440,"favorite_count":0,"down_vote_count":0,"up_vote_count":18,"answer_count":6,"score":18,"last_activity_date":1690725988,"creation_date":1514198870,"question_id":47967898,"body_markdown":"I am learning Spring Boot for building Applications. I am trying to build my first Spring Boot Application with a controller in different package as application. Tomcat instance comes up but request does not reach RestController registered for the URI.\r\n\r\nFollowing is the controller class:\r\n    \r\n    package com.spring.controllers;\r\n\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n\r\n    @RestController\r\n    public class HelloController {\r\n\r\n        @RequestMapping(value = &quot;/abc&quot;)\r\n        public String getHi() {\r\n            System.out.println(&quot;End Point hit&quot;);\r\n            return &quot;Hi&quot;;\r\n        }\r\n    }\r\n\r\nFollowing is the application class:\r\n\r\n    package com.spring.boot;\r\n\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n    @SpringBootApplication(scanBasePackages = {&quot;com.spring.controllers&quot;})\r\n    public class SpringBootMain {\r\n\r\n        public static void main(String args[]) {\r\n            SpringApplication.run(SpringBootMain.class, args);\r\n        }\r\n    }\r\n\r\nPom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;RandomProjects&lt;/groupId&gt;\r\n    &lt;artifactId&gt;SpringBoot&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;1.8&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.6.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;mainClass&gt;com.spring.boot.SpringBootMain&lt;/mainClass&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencies&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-parent --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.6.RELEASE&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-web --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;1.5.6.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\n    &lt;/dependencies&gt;\r\n\r\n\r\n&lt;/project&gt;\r\n\r\nLogs when tomcat starts:\r\n\r\n\t  .   ____          _            __ _ _\r\n\t /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n\t( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n\t \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n\t  &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n\t =========|_|==============|___/=/_/_/_/\r\n\t :: Spring Boot ::        (v1.5.6.RELEASE)\r\n\r\n\t2017-12-25 16:41:16.236  INFO 50314 --- [BootMain.main()] com.spring.boot.SpringBootMain           : Starting SpringBootMain on f45c89be9049.ant.amazon.com with PID 50314 (/Users/sumt/Desktop/Work/RandomWork/RandomProjects/target/classes started by sumt in /Users/sumt/Desktop/Work/RandomWork/RandomProjects)\r\n\t2017-12-25 16:41:16.244  INFO 50314 --- [BootMain.main()] com.spring.boot.SpringBootMain           : No active profile set, falling back to default profiles: default\r\n\t2017-12-25 16:41:16.408  INFO 50314 --- [BootMain.main()] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@7bbcce75: startup date [Mon Dec 25 16:41:16 IST 2017]; root of context hierarchy\r\n\t2017-12-25 16:41:18.279  INFO 50314 --- [BootMain.main()] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)\r\n\t2017-12-25 16:41:18.295  INFO 50314 --- [BootMain.main()] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n\t2017-12-25 16:41:18.297  INFO 50314 --- [BootMain.main()] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16\r\n\t2017-12-25 16:41:18.402  INFO 50314 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n\t2017-12-25 16:41:18.402  INFO 50314 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2056 ms\r\n\t2017-12-25 16:41:18.560  INFO 50314 --- [ost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: &#39;dispatcherServlet&#39; to [/]\r\n\t2017-12-25 16:41:18.564  INFO 50314 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;characterEncodingFilter&#39; to: [/*]\r\n\t2017-12-25 16:41:18.565  INFO 50314 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;hiddenHttpMethodFilter&#39; to: [/*]\r\n\t2017-12-25 16:41:18.565  INFO 50314 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;httpPutFormContentFilter&#39; to: [/*]\r\n\t2017-12-25 16:41:18.566  INFO 50314 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: &#39;requestContextFilter&#39; to: [/*]\r\n\t2017-12-25 16:41:18.920  INFO 50314 --- [BootMain.main()] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@7bbcce75: startup date [Mon Dec 25 16:41:16 IST 2017]; root of context hierarchy\r\n\t2017-12-25 16:41:19.005  INFO 50314 --- [BootMain.main()] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped &quot;{[/error]}&quot; onto public org.springframework.http.ResponseEntity&lt;java.util.Map&lt;java.lang.String, java.lang.Object&gt;&gt; org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)\r\n\t2017-12-25 16:41:19.007  INFO 50314 --- [BootMain.main()] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped &quot;{[/error],produces=[text/html]}&quot; onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)\r\n\t2017-12-25 16:41:19.041  INFO 50314 --- [BootMain.main()] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\r\n\t2017-12-25 16:41:19.041  INFO 50314 --- [BootMain.main()] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\r\n\t2017-12-25 16:41:19.084  INFO 50314 --- [BootMain.main()] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\r\n\t2017-12-25 16:41:19.323  INFO 50314 --- [BootMain.main()] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup\r\n\t2017-12-25 16:41:19.407  INFO 50314 --- [BootMain.main()] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)\r\n\t2017-12-25 16:41:19.413  INFO 50314 --- [BootMain.main()] com.spring.boot.SpringBootMain           : Started SpringBootMain in 3.889 seconds (JVM running for 6.196)\r\n\r\nI have added base package scan and even tried with `@ComponentScan` annotation, but the result is same when I hit URL (http://localhost:8080/abc):\r\n\r\nThere was an unexpected error (type=Not Found, status=404).\r\nNo message available\r\n\r\nDid anyone else face the same issue? Please suggest as how did you solve this.\r\n","title":"RequestMapping of SpringBoot Not working","body":"<p>I am learning Spring Boot for building Applications. I am trying to build my first Spring Boot Application with a controller in different package as application. Tomcat instance comes up but request does not reach RestController registered for the URI.</p>\n\n<p>Following is the controller class:</p>\n\n<pre><code>package com.spring.controllers;\n\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\npublic class HelloController {\n\n    @RequestMapping(value = \"/abc\")\n    public String getHi() {\n        System.out.println(\"End Point hit\");\n        return \"Hi\";\n    }\n}\n</code></pre>\n\n<p>Following is the application class:</p>\n\n<pre><code>package com.spring.boot;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication(scanBasePackages = {\"com.spring.controllers\"})\npublic class SpringBootMain {\n\n    public static void main(String args[]) {\n        SpringApplication.run(SpringBootMain.class, args);\n    }\n}\n</code></pre>\n\n<p>Pom.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n     xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n     xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;groupId&gt;RandomProjects&lt;/groupId&gt;\n&lt;artifactId&gt;SpringBoot&lt;/artifactId&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n\n&lt;properties&gt;\n    &lt;java.version&gt;1.8&lt;/java.version&gt;\n&lt;/properties&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;2.3.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;1.8&lt;/target&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n            &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.6.0&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;mainClass&gt;com.spring.boot.SpringBootMain&lt;/mainClass&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;dependencies&gt;\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-parent --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.6.RELEASE&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;\n\n\n\n    &lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-web --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;version&gt;1.5.6.RELEASE&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\n&lt;/dependencies&gt;\n</code></pre>\n\n<p></p>\n\n<p>Logs when tomcat starts:</p>\n\n<pre><code>  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v1.5.6.RELEASE)\n\n2017-12-25 16:41:16.236  INFO 50314 --- [BootMain.main()] com.spring.boot.SpringBootMain           : Starting SpringBootMain on f45c89be9049.ant.amazon.com with PID 50314 (/Users/sumt/Desktop/Work/RandomWork/RandomProjects/target/classes started by sumt in /Users/sumt/Desktop/Work/RandomWork/RandomProjects)\n2017-12-25 16:41:16.244  INFO 50314 --- [BootMain.main()] com.spring.boot.SpringBootMain           : No active profile set, falling back to default profiles: default\n2017-12-25 16:41:16.408  INFO 50314 --- [BootMain.main()] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@7bbcce75: startup date [Mon Dec 25 16:41:16 IST 2017]; root of context hierarchy\n2017-12-25 16:41:18.279  INFO 50314 --- [BootMain.main()] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8080 (http)\n2017-12-25 16:41:18.295  INFO 50314 --- [BootMain.main()] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2017-12-25 16:41:18.297  INFO 50314 --- [BootMain.main()] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.16\n2017-12-25 16:41:18.402  INFO 50314 --- [ost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2017-12-25 16:41:18.402  INFO 50314 --- [ost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 2056 ms\n2017-12-25 16:41:18.560  INFO 50314 --- [ost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]\n2017-12-25 16:41:18.564  INFO 50314 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]\n2017-12-25 16:41:18.565  INFO 50314 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]\n2017-12-25 16:41:18.565  INFO 50314 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]\n2017-12-25 16:41:18.566  INFO 50314 --- [ost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]\n2017-12-25 16:41:18.920  INFO 50314 --- [BootMain.main()] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@7bbcce75: startup date [Mon Dec 25 16:41:16 IST 2017]; root of context hierarchy\n2017-12-25 16:41:19.005  INFO 50314 --- [BootMain.main()] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped \"{[/error]}\" onto public org.springframework.http.ResponseEntity&lt;java.util.Map&lt;java.lang.String, java.lang.Object&gt;&gt; org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)\n2017-12-25 16:41:19.007  INFO 50314 --- [BootMain.main()] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped \"{[/error],produces=[text/html]}\" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)\n2017-12-25 16:41:19.041  INFO 50314 --- [BootMain.main()] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\n2017-12-25 16:41:19.041  INFO 50314 --- [BootMain.main()] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\n2017-12-25 16:41:19.084  INFO 50314 --- [BootMain.main()] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]\n2017-12-25 16:41:19.323  INFO 50314 --- [BootMain.main()] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup\n2017-12-25 16:41:19.407  INFO 50314 --- [BootMain.main()] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8080 (http)\n2017-12-25 16:41:19.413  INFO 50314 --- [BootMain.main()] com.spring.boot.SpringBootMain           : Started SpringBootMain in 3.889 seconds (JVM running for 6.196)\n</code></pre>\n\n<p>I have added base package scan and even tried with <code>@ComponentScan</code> annotation, but the result is same when I hit URL (<a href=\"http://localhost:8080/abc\" rel=\"noreferrer\">http://localhost:8080/abc</a>):</p>\n\n<p>There was an unexpected error (type=Not Found, status=404).\nNo message available</p>\n\n<p>Did anyone else face the same issue? Please suggest as how did you solve this.</p>\n"},{"tags":["java","firebase","firebase-realtime-database","android-recyclerview"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1690716615,"post_id":76796374,"comment_id":135389482,"body_markdown":"If you encounter problems, it&#39;s best to create a [MCVE](https://stackoverflow.com/help/mcve) when posting a question. You posted more than **300** (three hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way, you increase your chances of being helped. Please take a moment and read [how to ask a question](https://stackoverflow.com/help/how-to-ask).","body":"If you encounter problems, it&#39;s best to create a <a href=\"https://stackoverflow.com/help/mcve\">MCVE</a> when posting a question. You posted more than <b>300</b> (three hundred) lines of code for this issue. That&#39;s a lot for people to parse and try to debug online. Please edit your question and isolate the problem, in that way, you increase your chances of being helped. Please take a moment and read <a href=\"https://stackoverflow.com/help/how-to-ask\">how to ask a question</a>."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1690716683,"post_id":76796374,"comment_id":135389493,"body_markdown":"Besides that, stop ignoring errors. At a minimum, please add `Log.d(TAG, error.getMessage());`. Do you get something printed out in the logcat?","body":"Besides that, stop ignoring errors. At a minimum, please add <code>Log.d(TAG, error.getMessage());</code>. Do you get something printed out in the logcat?"}],"owner":{"account_id":29120419,"reputation":11,"user_id":22308001,"display_name":"KUSH RAJ"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690725987,"creation_date":1690692315,"question_id":76796374,"body_markdown":"Recycler view is not fetching data from firebase realtime database the codes are attached of Adapter class and main activity class.\r\n\r\n\r\nMain Activity Class:\r\n```\r\npublic class MainActivity2 extends AppCompatActivity {\r\n    DatabaseReference databaseReference;\r\n\r\n    RecyclerView recyclerView;\r\n    ArrayList&lt;UsersItem&gt; usersItemArrayList;\r\n    UserRecyclerAdapter adapter;\r\n\r\n    Button buttonAdd;\r\n\r\n    @SuppressLint(&quot;MissingInflatedId&quot;)\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main2);\r\n\r\n//        Objects.requireNonNull(getSupportActionBar()).hide();\r\n\r\n        databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Items&quot;);\r\n        recyclerView = findViewById(R.id.itemLists);\r\n        recyclerView.setHasFixedSize(true);\r\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\r\n\r\n        usersItemArrayList = new ArrayList&lt;&gt;();\r\n        adapter = new UserRecyclerAdapter(MainActivity2.this,usersItemArrayList);\r\n        recyclerView.setAdapter(adapter);\r\n\r\n        buttonAdd = findViewById(R.id.btnAddItem);\r\n\r\n        buttonAdd.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                ViewDialogAdd viewDialogAdd = new ViewDialogAdd();\r\n                viewDialogAdd.showDialog(MainActivity2.this);\r\n\r\n            }\r\n        });\r\n\r\n        readData();\r\n    }\r\n\r\n    private void readData() {\r\n\r\n        databaseReference.addValueEventListener(new ValueEventListener() {\r\n            @SuppressLint(&quot;NotifyDataSetChanged&quot;)\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n//                usersItemArrayList.clear();\r\n                for (DataSnapshot dataSnapshot:snapshot.getChildren()){\r\n                    UsersItem users = dataSnapshot.getValue(UsersItem.class);\r\n                    usersItemArrayList.add(users);\r\n                    Toast.makeText(getApplicationContext(),UsersItem.class.toString(), Toast.LENGTH_LONG).show();\r\n\r\n                }\r\n\r\n                adapter.notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n    public class ViewDialogAdd {\r\n        public void showDialog(Context context){\r\n            final Dialog dialog = new Dialog(context);\r\n            dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n            dialog.setCancelable(false);\r\n            dialog.setContentView(R.layout.update_popup);\r\n            dialog.show();\r\n\r\n            EditText itemName = dialog.findViewById(R.id.itemName);\r\n            EditText itemBoxQty = dialog.findViewById(R.id.itemBoxQty);\r\n            EditText itemPrice = dialog.findViewById(R.id.itemPrice);\r\n\r\n            Button buttonAdd = dialog.findViewById(R.id.btnUpdate);\r\n\r\n            buttonAdd.setText(&quot;ADD&quot;);\r\n\r\n            buttonAdd.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                    String id = &quot;item&quot;+new Date().getTime();\r\n                    String nameItem = itemName.getText().toString();\r\n                    String itemQtyBox = itemBoxQty.getText().toString();\r\n                    String priceItem = itemPrice.getText().toString();\r\n\r\n\r\n                    if(nameItem.isEmpty() || itemQtyBox.isEmpty() || priceItem.isEmpty()){\r\n                        Toast.makeText(context,&quot;Please Enter All Data...&quot;, Toast.LENGTH_LONG).show();\r\n                    }else{\r\n                        databaseReference.child(id).setValue(new UsersItem(id,nameItem,itemQtyBox,priceItem));\r\n                        Toast.makeText(context,&quot;Done&quot;,Toast.LENGTH_LONG).show();\r\n                        dialog.dismiss();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nADAPTER CLASS:\r\n\r\n```\r\npublic class UserRecyclerAdapter extends RecyclerView.Adapter&lt;UserRecyclerAdapter.ViewHolder&gt; {\r\n\r\n    Context context;\r\n    ArrayList&lt;UsersItem&gt; usersItemArrayList;\r\n    DatabaseReference databaseReference;\r\n\r\n    public UserRecyclerAdapter(Context context, ArrayList&lt;UsersItem&gt; usersItemArrayList) {\r\n        this.context = context;\r\n        this.usersItemArrayList = usersItemArrayList;\r\n        databaseReference = FirebaseDatabase.getInstance().getReference();\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        LayoutInflater layoutInflater = LayoutInflater.from(context);\r\n        View view  = layoutInflater.inflate(R.layout.items,parent,false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n\r\n        UsersItem users = usersItemArrayList.get(position);\r\n        holder.itemName.setText(users.getItemName());\r\n        holder.itemBoxQty.setText(users.getItemBoxQty());\r\n        holder.itemPrice.setText(users.getItemPrice());\r\n\r\n        holder.btnEdit.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n                ViewDialogUpdate viewDialogUpdate = new ViewDialogUpdate();\r\n                viewDialogUpdate.showDialog(context, users.getUserID(), users.getItemName(), users.getItemBoxQty(), users.getItemPrice());\r\n\r\n            }\r\n        });\r\n\r\n        holder.btnDelete.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n\r\n            }\r\n        });\r\n\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return 0;\r\n    }\r\n\r\n    public static class ViewHolder extends RecyclerView.ViewHolder{\r\n\r\n        TextView itemName,itemPrice,itemBoxQty;\r\n        Button btnEdit,btnDelete;\r\n        RelativeLayout rv;\r\n\r\n\r\n\r\n\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            itemName = itemView.findViewById(R.id.itemNames);\r\n            itemPrice = itemView.findViewById(R.id.itemPrices);\r\n            itemBoxQty = itemView.findViewById(R.id.itemBoxQtys);\r\n            btnDelete = itemView.findViewById(R.id.btnDeletes);\r\n            btnEdit= itemView.findViewById(R.id.btnEdit);\r\n            rv = itemView.findViewById(R.id.rv);\r\n        }\r\n    }\r\n\r\n    public class ViewDialogUpdate {\r\n        public void showDialog(Context context,String id, String Name,String BoxQty,String Price){\r\n            final Dialog dialog = new Dialog(context);\r\n            dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\r\n            dialog.setCancelable(false);\r\n            dialog.setContentView(R.layout.update_popup);\r\n\r\n            EditText itemName = dialog.findViewById(R.id.itemName);\r\n            EditText itemBoxQty = dialog.findViewById(R.id.itemBoxQty);\r\n            EditText itemPrice = dialog.findViewById(R.id.itemPrice);\r\n\r\n            itemName.setText(Name);\r\n            itemBoxQty.setText(BoxQty);\r\n            itemPrice.setText(Price);\r\n\r\n            Button buttonUpdate = dialog.findViewById(R.id.btnUpdate);\r\n\r\n            buttonUpdate.setText(&quot;UPDATE&quot;);\r\n\r\n            buttonUpdate.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n\r\n                    String newnameItem = itemName.getText().toString();\r\n                    String newitemQtyBox = itemBoxQty.getText().toString();\r\n                    String newpriceItem = itemPrice.getText().toString();\r\n\r\n\r\n                    if(Name.isEmpty() || BoxQty.isEmpty() || Price.isEmpty()){\r\n                        Toast.makeText(context,&quot;Please Enter All Data...&quot;, Toast.LENGTH_LONG).show();\r\n                    }else{\r\n\r\n                        if(newnameItem.equals(Name) &amp;&amp; newitemQtyBox.equals(BoxQty)&amp;&amp; newpriceItem.equals(Price)){\r\n                            Toast.makeText(context,&quot;You haven&#39;t change anything&quot;,Toast.LENGTH_LONG).show();\r\n\r\n                        }else{\r\n                            databaseReference.child(&quot;Items&quot;).child(id).setValue(new UsersItem(id,Name,BoxQty,Price));\r\n                            Toast.makeText(context,&quot;Item Updated Successfully&quot;,Toast.LENGTH_LONG).show();\r\n                            dialog.dismiss();\r\n                        }\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nMY recycler view to show the value in database recycler view comes out to be empty.","title":"Recycler View is not fetching the data from database also there is not any exception","body":"<p>Recycler view is not fetching data from firebase realtime database the codes are attached of Adapter class and main activity class.</p>\n<p>Main Activity Class:</p>\n<pre><code>public class MainActivity2 extends AppCompatActivity {\n    DatabaseReference databaseReference;\n\n    RecyclerView recyclerView;\n    ArrayList&lt;UsersItem&gt; usersItemArrayList;\n    UserRecyclerAdapter adapter;\n\n    Button buttonAdd;\n\n    @SuppressLint(&quot;MissingInflatedId&quot;)\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main2);\n\n//        Objects.requireNonNull(getSupportActionBar()).hide();\n\n        databaseReference = FirebaseDatabase.getInstance().getReference(&quot;Items&quot;);\n        recyclerView = findViewById(R.id.itemLists);\n        recyclerView.setHasFixedSize(true);\n        recyclerView.setLayoutManager(new LinearLayoutManager(this));\n\n        usersItemArrayList = new ArrayList&lt;&gt;();\n        adapter = new UserRecyclerAdapter(MainActivity2.this,usersItemArrayList);\n        recyclerView.setAdapter(adapter);\n\n        buttonAdd = findViewById(R.id.btnAddItem);\n\n        buttonAdd.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                ViewDialogAdd viewDialogAdd = new ViewDialogAdd();\n                viewDialogAdd.showDialog(MainActivity2.this);\n\n            }\n        });\n\n        readData();\n    }\n\n    private void readData() {\n\n        databaseReference.addValueEventListener(new ValueEventListener() {\n            @SuppressLint(&quot;NotifyDataSetChanged&quot;)\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n//                usersItemArrayList.clear();\n                for (DataSnapshot dataSnapshot:snapshot.getChildren()){\n                    UsersItem users = dataSnapshot.getValue(UsersItem.class);\n                    usersItemArrayList.add(users);\n                    Toast.makeText(getApplicationContext(),UsersItem.class.toString(), Toast.LENGTH_LONG).show();\n\n                }\n\n                adapter.notifyDataSetChanged();\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n\n    public class ViewDialogAdd {\n        public void showDialog(Context context){\n            final Dialog dialog = new Dialog(context);\n            dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\n            dialog.setCancelable(false);\n            dialog.setContentView(R.layout.update_popup);\n            dialog.show();\n\n            EditText itemName = dialog.findViewById(R.id.itemName);\n            EditText itemBoxQty = dialog.findViewById(R.id.itemBoxQty);\n            EditText itemPrice = dialog.findViewById(R.id.itemPrice);\n\n            Button buttonAdd = dialog.findViewById(R.id.btnUpdate);\n\n            buttonAdd.setText(&quot;ADD&quot;);\n\n            buttonAdd.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n                    String id = &quot;item&quot;+new Date().getTime();\n                    String nameItem = itemName.getText().toString();\n                    String itemQtyBox = itemBoxQty.getText().toString();\n                    String priceItem = itemPrice.getText().toString();\n\n\n                    if(nameItem.isEmpty() || itemQtyBox.isEmpty() || priceItem.isEmpty()){\n                        Toast.makeText(context,&quot;Please Enter All Data...&quot;, Toast.LENGTH_LONG).show();\n                    }else{\n                        databaseReference.child(id).setValue(new UsersItem(id,nameItem,itemQtyBox,priceItem));\n                        Toast.makeText(context,&quot;Done&quot;,Toast.LENGTH_LONG).show();\n                        dialog.dismiss();\n                    }\n                }\n            });\n        }\n    }\n}\n</code></pre>\n<p>ADAPTER CLASS:</p>\n<pre><code>public class UserRecyclerAdapter extends RecyclerView.Adapter&lt;UserRecyclerAdapter.ViewHolder&gt; {\n\n    Context context;\n    ArrayList&lt;UsersItem&gt; usersItemArrayList;\n    DatabaseReference databaseReference;\n\n    public UserRecyclerAdapter(Context context, ArrayList&lt;UsersItem&gt; usersItemArrayList) {\n        this.context = context;\n        this.usersItemArrayList = usersItemArrayList;\n        databaseReference = FirebaseDatabase.getInstance().getReference();\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        LayoutInflater layoutInflater = LayoutInflater.from(context);\n        View view  = layoutInflater.inflate(R.layout.items,parent,false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n\n        UsersItem users = usersItemArrayList.get(position);\n        holder.itemName.setText(users.getItemName());\n        holder.itemBoxQty.setText(users.getItemBoxQty());\n        holder.itemPrice.setText(users.getItemPrice());\n\n        holder.btnEdit.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n                ViewDialogUpdate viewDialogUpdate = new ViewDialogUpdate();\n                viewDialogUpdate.showDialog(context, users.getUserID(), users.getItemName(), users.getItemBoxQty(), users.getItemPrice());\n\n            }\n        });\n\n        holder.btnDelete.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n\n            }\n        });\n\n\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return 0;\n    }\n\n    public static class ViewHolder extends RecyclerView.ViewHolder{\n\n        TextView itemName,itemPrice,itemBoxQty;\n        Button btnEdit,btnDelete;\n        RelativeLayout rv;\n\n\n\n\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n\n            itemName = itemView.findViewById(R.id.itemNames);\n            itemPrice = itemView.findViewById(R.id.itemPrices);\n            itemBoxQty = itemView.findViewById(R.id.itemBoxQtys);\n            btnDelete = itemView.findViewById(R.id.btnDeletes);\n            btnEdit= itemView.findViewById(R.id.btnEdit);\n            rv = itemView.findViewById(R.id.rv);\n        }\n    }\n\n    public class ViewDialogUpdate {\n        public void showDialog(Context context,String id, String Name,String BoxQty,String Price){\n            final Dialog dialog = new Dialog(context);\n            dialog.requestWindowFeature(Window.FEATURE_NO_TITLE);\n            dialog.setCancelable(false);\n            dialog.setContentView(R.layout.update_popup);\n\n            EditText itemName = dialog.findViewById(R.id.itemName);\n            EditText itemBoxQty = dialog.findViewById(R.id.itemBoxQty);\n            EditText itemPrice = dialog.findViewById(R.id.itemPrice);\n\n            itemName.setText(Name);\n            itemBoxQty.setText(BoxQty);\n            itemPrice.setText(Price);\n\n            Button buttonUpdate = dialog.findViewById(R.id.btnUpdate);\n\n            buttonUpdate.setText(&quot;UPDATE&quot;);\n\n            buttonUpdate.setOnClickListener(new View.OnClickListener() {\n                @Override\n                public void onClick(View v) {\n\n                    String newnameItem = itemName.getText().toString();\n                    String newitemQtyBox = itemBoxQty.getText().toString();\n                    String newpriceItem = itemPrice.getText().toString();\n\n\n                    if(Name.isEmpty() || BoxQty.isEmpty() || Price.isEmpty()){\n                        Toast.makeText(context,&quot;Please Enter All Data...&quot;, Toast.LENGTH_LONG).show();\n                    }else{\n\n                        if(newnameItem.equals(Name) &amp;&amp; newitemQtyBox.equals(BoxQty)&amp;&amp; newpriceItem.equals(Price)){\n                            Toast.makeText(context,&quot;You haven't change anything&quot;,Toast.LENGTH_LONG).show();\n\n                        }else{\n                            databaseReference.child(&quot;Items&quot;).child(id).setValue(new UsersItem(id,Name,BoxQty,Price));\n                            Toast.makeText(context,&quot;Item Updated Successfully&quot;,Toast.LENGTH_LONG).show();\n                            dialog.dismiss();\n                        }\n                    }\n                }\n            });\n        }\n    }\n}\n</code></pre>\n<p>MY recycler view to show the value in database recycler view comes out to be empty.</p>\n"},{"tags":["java","amazon-web-services","httpclient","multipart"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1690724250,"post_id":76797982,"comment_id":135390295,"body_markdown":"What AWS API do you want to interact via multipart with? Do you have your own application behind e.g. an API Gateway and want to interact with that?","body":"What AWS API do you want to interact via multipart with? Do you have your own application behind e.g. an API Gateway and want to interact with that?"},{"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"score":0,"creation_date":1690730286,"post_id":76797982,"comment_id":135390949,"body_markdown":"There are over 200 AWS Services. What Service do you want to interact with.","body":"There are over 200 AWS Services. What Service do you want to interact with."},{"owner":{"account_id":8993922,"reputation":13,"user_id":9662730,"display_name":"Gonzo"},"score":0,"creation_date":1690735571,"post_id":76797982,"comment_id":135391580,"body_markdown":"Hi @luk2302\nActually I&#39;m not sure, The Multipart feature that we have works with basic authentication on every Multipart server.\nI thought that it&#39;s the same idea here, I understand that it depends on which service I&#39;m sending to? I believe that S3 is a common use case, but I&#39;m not sure . . .","body":"Hi @luk2302 Actually I&#39;m not sure, The Multipart feature that we have works with basic authentication on every Multipart server. I thought that it&#39;s the same idea here, I understand that it depends on which service I&#39;m sending to? I believe that S3 is a common use case, but I&#39;m not sure . . ."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1690749301,"post_id":76797982,"comment_id":135393088,"body_markdown":"Yes: https://docs.aws.amazon.com/AmazonS3/latest/userguide/mpuoverview.html - but *that* multipart has little to do with `MultipartEntityBuilder`. Basically for S3 this is used for uploading multiple parts of the same object separately. Afaik the `MultipartEntityBuilder` is used to e.g. send multiple data sets in one request, basically the opposite. Maybe the naming was really bad... What are you *actually* trying to achieve here?","body":"Yes: <a href=\"https://docs.aws.amazon.com/AmazonS3/latest/userguide/mpuoverview.html\" rel=\"nofollow noreferrer\">docs.aws.amazon.com/AmazonS3/latest/userguide/mpuoverview.ht&zwnj;&#8203;ml</a> - but <i>that</i> multipart has little to do with <code>MultipartEntityBuilder</code>. Basically for S3 this is used for uploading multiple parts of the same object separately. Afaik the <code>MultipartEntityBuilder</code> is used to e.g. send multiple data sets in one request, basically the opposite. Maybe the naming was really bad... What are you <i>actually</i> trying to achieve here?"},{"owner":{"account_id":8993922,"reputation":13,"user_id":9662730,"display_name":"Gonzo"},"score":0,"creation_date":1690783543,"post_id":76797982,"comment_id":135395642,"body_markdown":"We have an application that sends Rest requests,\nIt supports several authentication methods (AWS, GCP, OCI, basic authentication and some more . . .)\nRecently we added the ability to send Multipart requests (instead of one block Body, there is a table mush like Postman, it works well with basic authentication and with no authentication.\nThis was written with the apache httpclient lib.\nSo AWS requests are been sent with their own invoker based on AmazonHttpClient  so I&#39;ll have to add the Multipart also in that invoker but I&#39;m not sure how exactly.\nThanks!","body":"We have an application that sends Rest requests, It supports several authentication methods (AWS, GCP, OCI, basic authentication and some more . . .) Recently we added the ability to send Multipart requests (instead of one block Body, there is a table mush like Postman, it works well with basic authentication and with no authentication. This was written with the apache httpclient lib. So AWS requests are been sent with their own invoker based on AmazonHttpClient  so I&#39;ll have to add the Multipart also in that invoker but I&#39;m not sure how exactly. Thanks!"}],"owner":{"account_id":8993922,"reputation":13,"user_id":9662730,"display_name":"Gonzo"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690724035,"creation_date":1690724035,"question_id":76797982,"body_markdown":"If I&#39;m using AmazonHttpClient to send Rest request to AWS services, how do I add Multipart ability?\r\nI want to send Multipart requests.\r\nI have a working code that uses apache httpclient API: CloseableHttpClient + HttpRequestBase + MultipartEntityBuilder in order to send such requests.\r\n\r\nBut couldn&#39;t find how to use it with AWS AmazonHttpClient :(\r\n\r\nThanks!\r\n\r\nI didn&#39;t find how to make AmazonHttpClient to work with the apache API (or maybe AWS has it&#39;s API? I didn&#39;t find, also asked ChatGPT but he sent me a code that combines those two (AmazonHttpClient + apache httpclient) but looks like it&#39;s not actually works togrther.","title":"If I&#39;m using AmazonHttpClient to send Rest request to AWS services, how do I add Multipart ability?","body":"<p>If I'm using AmazonHttpClient to send Rest request to AWS services, how do I add Multipart ability?\nI want to send Multipart requests.\nI have a working code that uses apache httpclient API: CloseableHttpClient + HttpRequestBase + MultipartEntityBuilder in order to send such requests.</p>\n<p>But couldn't find how to use it with AWS AmazonHttpClient :(</p>\n<p>Thanks!</p>\n<p>I didn't find how to make AmazonHttpClient to work with the apache API (or maybe AWS has it's API? I didn't find, also asked ChatGPT but he sent me a code that combines those two (AmazonHttpClient + apache httpclient) but looks like it's not actually works togrther.</p>\n"},{"tags":["java","package"],"answers":[{"tags":[],"owner":{"account_id":399303,"reputation":528,"user_id":764550,"display_name":"AppX"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1381921597,"creation_date":1381921275,"answer_id":19401687,"question_id":19401644,"body_markdown":"Try adding a public static long getTime() method in Mathem.","title":"Set up a simple Java package","body":"<p>Try adding a public static long getTime() method in Mathem.</p>\n"},{"tags":[],"owner":{"account_id":997513,"reputation":12945,"user_id":3893496,"accept_rate":54,"display_name":"arcy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1381921632,"creation_date":1381921632,"answer_id":19401792,"question_id":19401644,"body_markdown":"It sounds like you are in the proj directory when it fails.  You need to be in the directory above that, i.e., in /home/user/Downloads in your example.  Then enter &quot;javac proj/MyJavaApp.java&quot;","title":"Set up a simple Java package","body":"<p>It sounds like you are in the proj directory when it fails.  You need to be in the directory above that, i.e., in /home/user/Downloads in your example.  Then enter \"javac proj/MyJavaApp.java\"</p>\n"},{"tags":[],"owner":{"account_id":39436,"reputation":4160,"user_id":113727,"accept_rate":90,"display_name":"dm76"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1381922719,"creation_date":1381922719,"answer_id":19402149,"question_id":19401644,"body_markdown":"There is something called [Classpath][1]... I suggest you read up on it\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Classpath_%28Java%29","title":"Set up a simple Java package","body":"<p>There is something called <a href=\"http://en.wikipedia.org/wiki/Classpath_%28Java%29\" rel=\"nofollow\">Classpath</a>... I suggest you read up on it</p>\n"}],"owner":{"account_id":3134415,"reputation":23,"user_id":2651246,"accept_rate":100,"display_name":"user2651246"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":110,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":19401792,"answer_count":3,"score":0,"last_activity_date":1690722762,"creation_date":1381921118,"question_id":19401644,"body_markdown":"On a Linux [Red Hat][1] machine in `/home/user/Downloads/`, I do `mkdir proj`, `cd proj`, and `mkdir lib`.\r\n\r\nNow I want to have my Java program residing in the `proj` package, so I have:\r\n\r\n    package proj;\r\n    import static proj.lib.Mathem.*;\r\n\r\n    public class MyJavaApp {\r\n        public static void main(String[] args) {\r\n            System.out.println(&quot;abc&quot;);\r\n            time = 2013;\r\n        }\r\n    }\r\n\r\nAnd my library is residing in a `proj.lib` subpackage, so I have:\r\n\r\n    package proj.lib;\r\n\r\n    public final class Mathem {\r\n        public static long time;\r\n        private Mathem() {}\r\n    }\r\n\r\nIf I `cd lib/` and do `javac *.java`, then `Mathem.java` compiles fine into `Mathem.class`, but when I go back `cd ..` and do `javac *.java`, I get an error saying that package *proj.lib* does not exist.\r\n\r\nWhy does the Java compiler not see such a simple package structure?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Red_Hat_Linux\r\n\r\n","title":"Set up a simple Java package","body":"<p>On a Linux <a href=\"https://en.wikipedia.org/wiki/Red_Hat_Linux\" rel=\"nofollow noreferrer\">Red Hat</a> machine in <code>/home/user/Downloads/</code>, I do <code>mkdir proj</code>, <code>cd proj</code>, and <code>mkdir lib</code>.</p>\n<p>Now I want to have my Java program residing in the <code>proj</code> package, so I have:</p>\n<pre><code>package proj;\nimport static proj.lib.Mathem.*;\n\npublic class MyJavaApp {\n    public static void main(String[] args) {\n        System.out.println(&quot;abc&quot;);\n        time = 2013;\n    }\n}\n</code></pre>\n<p>And my library is residing in a <code>proj.lib</code> subpackage, so I have:</p>\n<pre><code>package proj.lib;\n\npublic final class Mathem {\n    public static long time;\n    private Mathem() {}\n}\n</code></pre>\n<p>If I <code>cd lib/</code> and do <code>javac *.java</code>, then <code>Mathem.java</code> compiles fine into <code>Mathem.class</code>, but when I go back <code>cd ..</code> and do <code>javac *.java</code>, I get an error saying that package <em>proj.lib</em> does not exist.</p>\n<p>Why does the Java compiler not see such a simple package structure?</p>\n"},{"tags":["java","json","spring","jackson"],"comments":[{"owner":{"account_id":4821703,"reputation":5934,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"score":0,"creation_date":1522033790,"post_id":49483151,"comment_id":85969695,"body_markdown":"why not write a custom deserializer?","body":"why not write a custom deserializer?"},{"owner":{"account_id":12158090,"reputation":413,"user_id":8876477,"display_name":"Alexander Polozov"},"score":1,"creation_date":1522034346,"post_id":49483151,"comment_id":85969807,"body_markdown":"Possible duplicate of [Jackson ObjectMapper - specify serialization order of object properties](https://stackoverflow.com/questions/27577701/jackson-objectmapper-specify-serialization-order-of-object-properties)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/27577701/jackson-objectmapper-specify-serialization-order-of-object-properties\">Jackson ObjectMapper - specify serialization order of object properties</a>"},{"owner":{"account_id":395375,"reputation":7111,"user_id":3591528,"display_name":"teppic"},"score":1,"creation_date":1522034855,"post_id":49483151,"comment_id":85969912,"body_markdown":"Add a constructor that takes all your fields and do validation there. See [this question](https://stackoverflow.com/questions/21920367/why-when-a-constructor-is-annotated-with-jsoncreator-its-arguments-must-be-ann) for notes on constructor annotation.","body":"Add a constructor that takes all your fields and do validation there. See <a href=\"https://stackoverflow.com/questions/21920367/why-when-a-constructor-is-annotated-with-jsoncreator-its-arguments-must-be-ann\">this question</a> for notes on constructor annotation."},{"owner":{"account_id":2598,"reputation":2793,"user_id":3627,"accept_rate":50,"display_name":"royalghost"},"score":0,"creation_date":1522035651,"post_id":49483151,"comment_id":85970046,"body_markdown":"May not be a clean solution but kind of a hack is to put a placeholder and inject or replace it at the end ?","body":"May not be a clean solution but kind of a hack is to put a placeholder and inject or replace it at the end ?"},{"owner":{"account_id":457598,"reputation":24938,"user_id":857025,"accept_rate":55,"display_name":"Don Rhummy"},"score":3,"creation_date":1522083407,"post_id":49483151,"comment_id":85997374,"body_markdown":"@AlexanderPolozov that&#39;s serialization, not deserialization","body":"@AlexanderPolozov that&#39;s serialization, not deserialization"}],"answers":[{"tags":[],"owner":{"account_id":8716718,"reputation":1674,"user_id":6521058,"display_name":"John"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1522047567,"creation_date":1522047567,"answer_id":49485618,"question_id":49483151,"body_markdown":"&gt; I have two fields: startDate and endDate and I need to make sure the end date is equal to or later than the start date. What&#39;s the best way to do this?\r\n\r\nI would not try to do this by jackson. Jackson should only focus on converting json to object. The valid of values should be taken care of by jackson. Nor the deserialization order.\r\n\r\nTry validating *after* jackson&#39;s converting, either manually or by validation framework like JSR-303.\r\n\r\n","title":"How can I specify deserialization order in Jackson?","body":"<blockquote>\n  <p>I have two fields: startDate and endDate and I need to make sure the end date is equal to or later than the start date. What's the best way to do this?</p>\n</blockquote>\n\n<p>I would not try to do this by jackson. Jackson should only focus on converting json to object. The valid of values should be taken care of by jackson. Nor the deserialization order.</p>\n\n<p>Try validating <em>after</em> jackson's converting, either manually or by validation framework like JSR-303.</p>\n"},{"tags":[],"owner":{"account_id":43022,"reputation":22842,"user_id":125562,"accept_rate":64,"display_name":"Basilevs"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1689530207,"creation_date":1689530207,"answer_id":76699711,"question_id":49483151,"body_markdown":"[@Hitobat](https://stackoverflow.com/users/362792/hitobat) [suggests](https://stackoverflow.com/questions/52016563/maintaining-ordering-of-class-fields-during-json-deserialization#comment90983599_52016563) to annotate constructor arguments with [JsonCreator](https://fasterxml.github.io/jackson-annotations/javadoc/2.7/com/fasterxml/jackson/annotation/JsonCreator.html) instead of trying to annotate fields.\r\n\r\nConstructs body can then contain validation logic.","title":"How can I specify deserialization order in Jackson?","body":"<p><a href=\"https://stackoverflow.com/users/362792/hitobat\">@Hitobat</a> <a href=\"https://stackoverflow.com/questions/52016563/maintaining-ordering-of-class-fields-during-json-deserialization#comment90983599_52016563\">suggests</a> to annotate constructor arguments with <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.7/com/fasterxml/jackson/annotation/JsonCreator.html\" rel=\"nofollow noreferrer\">JsonCreator</a> instead of trying to annotate fields.</p>\n<p>Constructs body can then contain validation logic.</p>\n"},{"tags":[],"owner":{"account_id":14346634,"reputation":21,"user_id":10363350,"display_name":"Haifisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689773071,"creation_date":1689773071,"answer_id":76721814,"question_id":49483151,"body_markdown":"In your case, a better approach would be to perform the validation after all properties have been set, not inside the setter. You can use the @JsonCreator and @JsonProperty annotations to achieve this:\r\n```\r\npublic class DateRange {\r\n\r\n    private ZonedDateTime startDate;\r\n    private ZonedDateTime endDate;\r\n\r\n    @JsonCreator\r\n    public DateRange(@JsonProperty(&quot;start&quot;) String start, @JsonProperty(&quot;end&quot;) String end) {\r\n        this.startDate = parseZonedDateTime(start);\r\n        this.endDate = parseZonedDateTime(end);\r\n\r\n        if (this.endDate.compareTo(this.startDate) &lt; 0) {\r\n            throw new IllegalArgumentException(&quot;End date must be after start date&quot;);\r\n        }\r\n    }\r\n}","title":"How can I specify deserialization order in Jackson?","body":"<p>In your case, a better approach would be to perform the validation after all properties have been set, not inside the setter. You can use the @JsonCreator and @JsonProperty annotations to achieve this:</p>\n<pre><code>public class DateRange {\n\n    private ZonedDateTime startDate;\n    private ZonedDateTime endDate;\n\n    @JsonCreator\n    public DateRange(@JsonProperty(&quot;start&quot;) String start, @JsonProperty(&quot;end&quot;) String end) {\n        this.startDate = parseZonedDateTime(start);\n        this.endDate = parseZonedDateTime(end);\n\n        if (this.endDate.compareTo(this.startDate) &lt; 0) {\n            throw new IllegalArgumentException(&quot;End date must be after start date&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8612182,"reputation":64,"user_id":6450323,"display_name":"Francesco Pirrone"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689867106,"creation_date":1689867106,"answer_id":76731468,"question_id":49483151,"body_markdown":"You have to use the annotation `@JsonPropertyOrder({&quot;startDate&quot;, &quot;endDate&quot;})`.\r\nThe annotation can be used to define ordering (possibly partial) to use when serializing object properties.\r\n\r\n```\r\n@JsonPropertyOrder({&quot;startDate&quot;, &quot;endDate&quot;})\r\npublic class MyClass {\r\n\r\n    private ZonedDateTime startDate;\r\n    private ZonedDateTime endDate;\r\n\r\n    @JsonSetter(&quot;startDate&quot;)\r\n    public void setStartDate(String startDate) {\r\n        this.startDate = parseZonedDateTime(startDate);\r\n    }\r\n\r\n    @JsonSetter(&quot;endDate&quot;)\r\n    public void setEndDate(String end) {\r\n        \r\n        this.endDate = parseZonedDateTime( end );\r\n        if (this.startDate == null) {\r\n            throw new IllegalStateException(&quot;startDate must be set before endDate&quot;);\r\n        }\r\n        //invalid\r\n        if ( this.endDate.compareTo( this.startDate ) &lt; 0 )\r\n        {\r\n            //Throw a validation exception\r\n        }\r\n    }\r\n}\r\n```","title":"How can I specify deserialization order in Jackson?","body":"<p>You have to use the annotation <code>@JsonPropertyOrder({&quot;startDate&quot;, &quot;endDate&quot;})</code>.\nThe annotation can be used to define ordering (possibly partial) to use when serializing object properties.</p>\n<pre><code>@JsonPropertyOrder({&quot;startDate&quot;, &quot;endDate&quot;})\npublic class MyClass {\n\n    private ZonedDateTime startDate;\n    private ZonedDateTime endDate;\n\n    @JsonSetter(&quot;startDate&quot;)\n    public void setStartDate(String startDate) {\n        this.startDate = parseZonedDateTime(startDate);\n    }\n\n    @JsonSetter(&quot;endDate&quot;)\n    public void setEndDate(String end) {\n        \n        this.endDate = parseZonedDateTime( end );\n        if (this.startDate == null) {\n            throw new IllegalStateException(&quot;startDate must be set before endDate&quot;);\n        }\n        //invalid\n        if ( this.endDate.compareTo( this.startDate ) &lt; 0 )\n        {\n            //Throw a validation exception\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18192720,"reputation":849,"user_id":13238310,"display_name":"idanz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690722227,"creation_date":1690025489,"answer_id":76743580,"question_id":49483151,"body_markdown":"I&#39;d suggest to create a custom deserializer and register it in your object mapper for this particular class (say `MyDateObject`). Assuming `MyDateObject` has two fields - `startDate` &amp; `endDate`, you can impose deserializing `startDate` before `endDate` using something like this:\r\n\r\n    public class CustomDeserializer extends JsonDeserializer&lt;MyDateObject&gt; {\r\n        @Override\r\n        public MyDateObject deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\r\n            long startDate = 0;\r\n            long endDate = 0;\r\n            while (!jsonParser.isClosed()) {\r\n                String fieldName = jsonParser.nextFieldName();\r\n                if (fieldName == null) {\r\n                    break;\r\n                }\r\n\r\n                // Check the field name and assign values\r\n                // to the corresponding fields\r\n                switch (fieldName) {\r\n                    case &quot;startDate&quot;:\r\n                        startDate = jsonParser.nextLongValue(0L);\r\n                        break;\r\n\r\n                    case &quot;endDate&quot;:\r\n                        endDate = jsonParser.nextLongValue(0L);\r\n                        break;\r\n\r\n                    default:\r\n                        // If you have other fields in the JSON that\r\n                        // you want to ignore, you can skip them.\r\n                        jsonParser.skipChildren();\r\n                        break;\r\n                }\r\n            }\r\n            return generateNewMyDateObject(startDate, endDate);\r\n        }\r\n\r\n        private MyDateObject generateNewMyDateObject(long startDate, long endDate) {\r\n            MyDateObject myDate = new MyDateObject();\r\n            myDate.setStartDate(startDate);\r\n            myDate.setEndDate(endDate);\r\n            return myDate;\r\n        }\r\n    }\r\n\r\nOf course the code can be cleaner, but I&#39;ll leave it to you as the business expert. Basically, we keep the two values from the JSON content, and only after we got both of them, we generate the `MyDateObject`, with `startDate` first. Such that you can implement in the setter of `endDate` whatever you want, and you can assume `startDate` already has a value.\r\n\r\nThen, you can register this custom deserializer to your object mapper:\r\n\r\n    ObjectMapper objectMapper = new ObjectMapper();\r\n    SimpleModule module = new SimpleModule();\r\n    module.addDeserializer(MyDateObject.class, new CustomDeserializer());\r\n    objectMapper.registerModule(module);\r\n\r\nAnd use this object mapper for deserialization:\r\n\r\n    String jsonString = &quot;{\\&quot;endDate\\&quot;:123,\\&quot;startDate\\&quot;:30}&quot;;\r\n    MyDateObject customObject = objectMapper.readValue(jsonString, MyDateObject.class);\r\n\r\n***Note:*** If you&#39;re using [Spring Boot][1], it&#39;s even easier. Just define this object mapper as a Bean in your @Configuration class, and let Spring use it for deserialization automatically.\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Spring_Framework#Spring_Boot\r\n\r\n\r\n","title":"How can I specify deserialization order in Jackson?","body":"<p>I'd suggest to create a custom deserializer and register it in your object mapper for this particular class (say <code>MyDateObject</code>). Assuming <code>MyDateObject</code> has two fields - <code>startDate</code> &amp; <code>endDate</code>, you can impose deserializing <code>startDate</code> before <code>endDate</code> using something like this:</p>\n<pre><code>public class CustomDeserializer extends JsonDeserializer&lt;MyDateObject&gt; {\n    @Override\n    public MyDateObject deserialize(JsonParser jsonParser, DeserializationContext deserializationContext) throws IOException {\n        long startDate = 0;\n        long endDate = 0;\n        while (!jsonParser.isClosed()) {\n            String fieldName = jsonParser.nextFieldName();\n            if (fieldName == null) {\n                break;\n            }\n\n            // Check the field name and assign values\n            // to the corresponding fields\n            switch (fieldName) {\n                case &quot;startDate&quot;:\n                    startDate = jsonParser.nextLongValue(0L);\n                    break;\n\n                case &quot;endDate&quot;:\n                    endDate = jsonParser.nextLongValue(0L);\n                    break;\n\n                default:\n                    // If you have other fields in the JSON that\n                    // you want to ignore, you can skip them.\n                    jsonParser.skipChildren();\n                    break;\n            }\n        }\n        return generateNewMyDateObject(startDate, endDate);\n    }\n\n    private MyDateObject generateNewMyDateObject(long startDate, long endDate) {\n        MyDateObject myDate = new MyDateObject();\n        myDate.setStartDate(startDate);\n        myDate.setEndDate(endDate);\n        return myDate;\n    }\n}\n</code></pre>\n<p>Of course the code can be cleaner, but I'll leave it to you as the business expert. Basically, we keep the two values from the JSON content, and only after we got both of them, we generate the <code>MyDateObject</code>, with <code>startDate</code> first. Such that you can implement in the setter of <code>endDate</code> whatever you want, and you can assume <code>startDate</code> already has a value.</p>\n<p>Then, you can register this custom deserializer to your object mapper:</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nSimpleModule module = new SimpleModule();\nmodule.addDeserializer(MyDateObject.class, new CustomDeserializer());\nobjectMapper.registerModule(module);\n</code></pre>\n<p>And use this object mapper for deserialization:</p>\n<pre><code>String jsonString = &quot;{\\&quot;endDate\\&quot;:123,\\&quot;startDate\\&quot;:30}&quot;;\nMyDateObject customObject = objectMapper.readValue(jsonString, MyDateObject.class);\n</code></pre>\n<p><em><strong>Note:</strong></em> If you're using <a href=\"https://en.wikipedia.org/wiki/Spring_Framework#Spring_Boot\" rel=\"nofollow noreferrer\">Spring Boot</a>, it's even easier. Just define this object mapper as a Bean in your @Configuration class, and let Spring use it for deserialization automatically.</p>\n"},{"tags":[],"owner":{"account_id":284362,"reputation":3807,"user_id":582421,"accept_rate":21,"display_name":"Gautam"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1690042404,"creation_date":1690042404,"answer_id":76744749,"question_id":49483151,"body_markdown":"`JsonPropertyOrder` should work for the ordering field and we can have the logic of validation in `validate()`  This would be my approach, hope it will be useful for others. \r\n \r\n   import java.time.ZonedDateTime;\r\n    import com.fasterxml.jackson.annotation.JsonPropertyOrder;\r\n    \r\n    @JsonPropertyOrder({ &quot;startDate&quot;, &quot;endDate&quot; })\r\n    public class Result {\r\n        private ZonedDateTime startDate;\r\n        private ZonedDateTime endDate;\r\n    \r\n        // Getters and setters for startDate and endDate\r\n    \r\n        public void setStartDate(ZonedDateTime startDate) {\r\n            this.startDate = startDate;\r\n        }\r\n    \r\n        public void setEndDate(ZonedDateTime endDate) {\r\n            this.endDate = endDate;\r\n        }\r\n    \r\n        // Validation method to be called after deserialization\r\n        public void validate() {\r\n            if (endDate != null &amp;&amp; startDate != null &amp;&amp; endDate.isBefore(startDate)) {\r\n                throw new IllegalArgumentException(&quot;End date cannot be before the start date.&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How can I specify deserialization order in Jackson?","body":"<p><code>JsonPropertyOrder</code> should work for the ordering field and we can have the logic of validation in <code>validate()</code>  This would be my approach, hope it will be useful for others.</p>\n<p>import java.time.ZonedDateTime;\nimport com.fasterxml.jackson.annotation.JsonPropertyOrder;</p>\n<pre><code>@JsonPropertyOrder({ &quot;startDate&quot;, &quot;endDate&quot; })\npublic class Result {\n    private ZonedDateTime startDate;\n    private ZonedDateTime endDate;\n\n    // Getters and setters for startDate and endDate\n\n    public void setStartDate(ZonedDateTime startDate) {\n        this.startDate = startDate;\n    }\n\n    public void setEndDate(ZonedDateTime endDate) {\n        this.endDate = endDate;\n    }\n\n    // Validation method to be called after deserialization\n    public void validate() {\n        if (endDate != null &amp;&amp; startDate != null &amp;&amp; endDate.isBefore(startDate)) {\n            throw new IllegalArgumentException(&quot;End date cannot be before the start date.&quot;);\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":457598,"reputation":24938,"user_id":857025,"accept_rate":55,"display_name":"Don Rhummy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4177,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":6,"score":7,"last_activity_date":1690722227,"creation_date":1522031707,"question_id":49483151,"body_markdown":"I have two fields: `startDate` and `endDate` and I need to make sure the end date is equal to or later than the start date. What&#39;s the best way to do this?\r\n\r\nI would like to ensure that `endDate` is deserialized after `startDate`, so I can put the logic in its setter method like:\r\n\r\n    @JsonSetter( &quot;end&quot; )\r\n    public void setEnd(String end)\r\n    {\r\n        this.endDate = parseZonedDateTime( end );\r\n\r\n        // Invalid\r\n        if ( this.endDate.compareTo( this.startDate ) &lt; 0 )\r\n        {\r\n            // Throw a validation exception\r\n        }\r\n    }\r\n\r\nBut that only works if start is guaranteed to be set first.\r\n\r\n\r\n","title":"How can I specify deserialization order in Jackson?","body":"<p>I have two fields: <code>startDate</code> and <code>endDate</code> and I need to make sure the end date is equal to or later than the start date. What's the best way to do this?</p>\n<p>I would like to ensure that <code>endDate</code> is deserialized after <code>startDate</code>, so I can put the logic in its setter method like:</p>\n<pre><code>@JsonSetter( &quot;end&quot; )\npublic void setEnd(String end)\n{\n    this.endDate = parseZonedDateTime( end );\n\n    // Invalid\n    if ( this.endDate.compareTo( this.startDate ) &lt; 0 )\n    {\n        // Throw a validation exception\n    }\n}\n</code></pre>\n<p>But that only works if start is guaranteed to be set first.</p>\n"},{"tags":["java","swing","nullpointerexception"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1690650657,"post_id":76794654,"comment_id":135384534,"body_markdown":"Is all of your Swing code being started on the Swing event dispatch thread, or &quot;EDT&quot;?","body":"Is all of your Swing code being started on the Swing event dispatch thread, or &quot;EDT&quot;?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1690651386,"post_id":76794654,"comment_id":135384632,"body_markdown":"I ask because it looks like your code is initiating code deep within the Swing library that is throwing a NPE when trying to dereference a core Swing component, suggesting that it is accessing the component before it has been fully constructed.","body":"I ask because it looks like your code is initiating code deep within the Swing library that is throwing a NPE when trying to dereference a core Swing component, suggesting that it is accessing the component before it has been fully constructed."},{"owner":{"account_id":28151691,"reputation":1,"user_id":21513099,"display_name":"Calex"},"score":0,"creation_date":1690656215,"post_id":76794654,"comment_id":135385078,"body_markdown":"The code is not being ran on the Swing Event Dispatch Thread.","body":"The code is not being ran on the Swing Event Dispatch Thread."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1690686614,"post_id":76794654,"comment_id":135387327,"body_markdown":"Well, then that is quite likely your problem. Does the issue go away when it is run on the EDT?","body":"Well, then that is quite likely your problem. Does the issue go away when it is run on the EDT?"},{"owner":{"account_id":28151691,"reputation":1,"user_id":21513099,"display_name":"Calex"},"score":0,"creation_date":1690722125,"post_id":76794654,"comment_id":135390039,"body_markdown":"I tried using the EDT, but the same NullPointer still gets thrown. (See modified class code at the bottom of original post)","body":"I tried using the EDT, but the same NullPointer still gets thrown. (See modified class code at the bottom of original post)"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1690722190,"post_id":76794654,"comment_id":135390046,"body_markdown":"Then you will want to create and post a [mre] with your question. Please review the link which will explain what this is and how it can help you and us.","body":"Then you will want to create and post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with your question. Please review the link which will explain what this is and how it can help you and us."}],"owner":{"account_id":28151691,"reputation":1,"user_id":21513099,"display_name":"Calex"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690722084,"creation_date":1690650524,"question_id":76794654,"body_markdown":"I&#39;m getting an error with my Swing application and I can&#39;t for the life of me figure it out.\r\n\r\nI have figured the error occurs on the `aToggleButton.setUI((ButtonUI)primaryUI)` line but I can&#39;t find a fix. I don&#39;t want to just comment it out as it will mess up the look of the application.\r\n\r\nWithout the error I am expecting the application to load up and the side application bar to be properly decorated with the linked image in the PrimaryNavigationButtonUI class.\r\n\r\nException Log:\r\n\r\n```\r\njava.lang.NullPointerException: Cannot invoke\r\n\t&quot;javax.swing.ActionMap.remove(Object)&quot; because the return value of\r\n\t&quot;javax.swing.AbstractButton.getActionMap()&quot; is null \tat\r\n\tjava.desktop/javax.swing.plaf.basic.BasicButtonUI.uninstallListeners(BasicButtonUI.java:262)\r\n\t\tat\r\n\tjava.desktop/javax.swing.plaf.basic.BasicButtonUI.uninstallUI(BasicButtonUI.java:229)\r\n\t\tat\r\n\tjava.desktop/javax.swing.JComponent.uninstallUIAndProperties(JComponent.java:755)\r\n\t\tat java.desktop/javax.swing.JComponent.setUI(JComponent.java:730) \tat\r\n\tjava.desktop/javax.swing.AbstractButton.setUI(AbstractButton.java:1758)\r\n```\r\n\r\n\r\nAppMenuToggleButtonDecorator:\r\n\r\n```\r\npackage com.cthsprojects.apphost.ui.decorator;\r\n\r\nimport java.awt.Dimension;\r\nimport java.awt.Font;\r\n\r\nimport javax.swing.JToggleButton;\r\nimport javax.swing.plaf.ButtonUI;\r\n\r\nimport com.cthsprojects.common.ui.theme.SPrimaryNavigationToggleButtonUI;\r\nimport com.cthsprojects.common.ui.theme.SToggleButtonUI;\r\nimport com.cthsprojects.common.ui.util.SwingUtils;\r\nimport com.cthsprojects.common.view.adapters.decorators.AdapterDecorator;\r\n\r\npublic class AppMenuToggleButtonDecorator implements AdapterDecorator&lt;JToggleButton&gt; {\r\n\t\r\n\tpublic static final int BUTTON_PRIMARY_NAVIGATION_STANDARD_WIDTH = 116;\r\n\t\r\n\tpublic static final int BUTTON_PRIMARY_NAVIGATION_STANDARD_HEIGHT = SwingUtils.scaleY(50);\r\n\t\r\n\tpublic static final Dimension BUTTON_PRIMARY_NAVIGATION_STANDARD_SIZE = new Dimension(116, BUTTON_PRIMARY_NAVIGATION_STANDARD_HEIGHT);\r\n\t\r\n\tprivate static SPrimaryNavigationToggleButtonUI primaryUI = new SPrimaryNavigationToggleButtonUI();\r\n\t\r\n\tprivate static final Font FONT_PRIMARY_NAVIGATION_BUTTON = new Font(&quot;Tahoma&quot;, 0, 16);\r\n\t\r\n\tpublic void decorate(JToggleButton aToggleButton) {\r\n\t\tif (aToggleButton != null &amp;&amp; primaryUI != null) {\r\n\t\t\tSystem.out.println(&quot;aToggleButton equals &quot; + aToggleButton + &quot;. primaryUI equals &quot; + primaryUI);\r\n\t\t\taToggleButton.setFont(FONT_PRIMARY_NAVIGATION_BUTTON);\r\n\t\t\taToggleButton.setPreferredSize(BUTTON_PRIMARY_NAVIGATION_STANDARD_SIZE);\r\n\t\t\taToggleButton.setUI((ButtonUI)getUI());\r\n\t\t}\r\n\t}\r\n\t\r\n\tprotected SToggleButtonUI getUI() {\r\n\t\treturn (SToggleButtonUI)primaryUI;\r\n\t}\r\n}\r\n```\r\n\r\nSPrimaryNavigationToggleButtonUI:\r\n\r\n```\r\npackage com.cthsprojects.common.ui.theme;\r\n\r\nimport java.awt.Color;\r\nimport java.awt.Graphics;\r\nimport java.awt.Image;\r\nimport javax.swing.AbstractButton;\r\nimport javax.swing.ButtonModel;\r\nimport javax.swing.JComponent;\r\nimport javax.swing.plaf.ComponentUI;\r\n\r\npublic class SPrimaryNavigationToggleButtonUI extends SToggleButtonUI {\r\n\t\r\n\tpublic static ComponentUI createUI(JComponent component) {\r\n\t\treturn new SPrimaryNavigationToggleButtonUI();\r\n\t}\r\n\t\r\n\t@Override\r\n\tprotected Image getButtonImage(AbstractButton abstractButton) {\r\n\t\tImage image = PropertyTheme.toggleButtonPrimaryNavigationBackgroundImage.getImage();\r\n\t\treturn image;\r\n\t}\r\n\t\r\n\t@Override\r\n\tprotected Image getButtonPressedImage(AbstractButton abstractButton) {\r\n\t\treturn PropertyTheme.toggleButtonPrimaryNavigationDepressedImage.getImage();\r\n\t}\r\n\t\r\n    @Override\r\n    protected void paintTickOnSelection(AbstractButton abstractButton, ButtonModel model) {\r\n    }\r\n    \r\n    @Override\r\n    protected void setModelEnabledGraphicsColor(Graphics graphics, ButtonModel model) {\r\n        if ((model.isArmed() &amp;&amp; model.isPressed()) || model.isSelected()) {\r\n            graphics.setColor(PropertyTheme.BUTTON_DEFAULT_PRESSED_FOREGROUND_COLOR);\r\n        }\r\n        else {\r\n            graphics.setColor(PropertyTheme.toggleButtonPrimaryNavigationForegroundColor);\r\n        }\r\n    }\r\n    \r\n    @Override\r\n    protected void setColorForDisabledButton(Graphics graphics) {\r\n        graphics.setColor(Color.WHITE);\r\n    }\r\n}\r\n```\r\n\r\nEdit - Tried using EDT but still threw same error with this modified code: \r\n```\r\npackage com.cthsprojects.apphost.ui.decorator;\r\n\r\nimport java.awt.Dimension;\r\nimport java.awt.Font;\r\n\r\nimport javax.swing.JToggleButton;\r\nimport javax.swing.SwingUtilities;\r\nimport javax.swing.plaf.ButtonUI;\r\n\r\nimport com.cthsprojects.common.ui.theme.SPrimaryNavigationToggleButtonUI;\r\nimport com.cthsprojects.common.ui.theme.SToggleButtonUI;\r\nimport com.cthsprojects.common.ui.util.SwingUtils;\r\nimport com.cthsprojects.common.view.adapters.decorators.AdapterDecorator;\r\n\r\npublic class AppMenuToggleButtonDecorator implements AdapterDecorator&lt;JToggleButton&gt; {\r\n\t\r\n\tpublic static final int BUTTON_PRIMARY_NAVIGATION_STANDARD_WIDTH = 116;\r\n\t\r\n\tpublic static final int BUTTON_PRIMARY_NAVIGATION_STANDARD_HEIGHT = SwingUtils.scaleY(50);\r\n\t\r\n\tpublic static final Dimension BUTTON_PRIMARY_NAVIGATION_STANDARD_SIZE = new Dimension(116, BUTTON_PRIMARY_NAVIGATION_STANDARD_HEIGHT);\r\n\t\r\n\tprivate static SPrimaryNavigationToggleButtonUI primaryUI = new SPrimaryNavigationToggleButtonUI();\r\n\t\r\n\tprivate static final Font FONT_PRIMARY_NAVIGATION_BUTTON = new Font(&quot;Tahoma&quot;, 0, 16);\r\n\t\r\n\tpublic void decorate(final JToggleButton aToggleButton) {\r\n\t\tjava.awt.EventQueue.invokeLater(new Runnable() {\t\r\n\t\t\tpublic void run() {\r\n\t\t\t\taToggleButton.setFont(FONT_PRIMARY_NAVIGATION_BUTTON);\r\n\t\t\t\taToggleButton.setPreferredSize(BUTTON_PRIMARY_NAVIGATION_STANDARD_SIZE);\r\n\t\t\t\taToggleButton.setUI((ButtonUI)getUI());\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\tprotected SToggleButtonUI getUI() {\r\n\t\treturn (SToggleButtonUI)primaryUI;\r\n\t}\r\n\t\r\n}\r\n```\r\n\r\n\r\nWhat can I try next?\r\n","title":"Cannot invoke java.x.swing.ActionMap.remove(Object) because the return value of &quot;javax.swing.AbstractButton.getActionMap() is null","body":"<p>I'm getting an error with my Swing application and I can't for the life of me figure it out.</p>\n<p>I have figured the error occurs on the <code>aToggleButton.setUI((ButtonUI)primaryUI)</code> line but I can't find a fix. I don't want to just comment it out as it will mess up the look of the application.</p>\n<p>Without the error I am expecting the application to load up and the side application bar to be properly decorated with the linked image in the PrimaryNavigationButtonUI class.</p>\n<p>Exception Log:</p>\n<pre><code>java.lang.NullPointerException: Cannot invoke\n    &quot;javax.swing.ActionMap.remove(Object)&quot; because the return value of\n    &quot;javax.swing.AbstractButton.getActionMap()&quot; is null     at\n    java.desktop/javax.swing.plaf.basic.BasicButtonUI.uninstallListeners(BasicButtonUI.java:262)\n        at\n    java.desktop/javax.swing.plaf.basic.BasicButtonUI.uninstallUI(BasicButtonUI.java:229)\n        at\n    java.desktop/javax.swing.JComponent.uninstallUIAndProperties(JComponent.java:755)\n        at java.desktop/javax.swing.JComponent.setUI(JComponent.java:730)   at\n    java.desktop/javax.swing.AbstractButton.setUI(AbstractButton.java:1758)\n</code></pre>\n<p>AppMenuToggleButtonDecorator:</p>\n<pre><code>package com.cthsprojects.apphost.ui.decorator;\n\nimport java.awt.Dimension;\nimport java.awt.Font;\n\nimport javax.swing.JToggleButton;\nimport javax.swing.plaf.ButtonUI;\n\nimport com.cthsprojects.common.ui.theme.SPrimaryNavigationToggleButtonUI;\nimport com.cthsprojects.common.ui.theme.SToggleButtonUI;\nimport com.cthsprojects.common.ui.util.SwingUtils;\nimport com.cthsprojects.common.view.adapters.decorators.AdapterDecorator;\n\npublic class AppMenuToggleButtonDecorator implements AdapterDecorator&lt;JToggleButton&gt; {\n    \n    public static final int BUTTON_PRIMARY_NAVIGATION_STANDARD_WIDTH = 116;\n    \n    public static final int BUTTON_PRIMARY_NAVIGATION_STANDARD_HEIGHT = SwingUtils.scaleY(50);\n    \n    public static final Dimension BUTTON_PRIMARY_NAVIGATION_STANDARD_SIZE = new Dimension(116, BUTTON_PRIMARY_NAVIGATION_STANDARD_HEIGHT);\n    \n    private static SPrimaryNavigationToggleButtonUI primaryUI = new SPrimaryNavigationToggleButtonUI();\n    \n    private static final Font FONT_PRIMARY_NAVIGATION_BUTTON = new Font(&quot;Tahoma&quot;, 0, 16);\n    \n    public void decorate(JToggleButton aToggleButton) {\n        if (aToggleButton != null &amp;&amp; primaryUI != null) {\n            System.out.println(&quot;aToggleButton equals &quot; + aToggleButton + &quot;. primaryUI equals &quot; + primaryUI);\n            aToggleButton.setFont(FONT_PRIMARY_NAVIGATION_BUTTON);\n            aToggleButton.setPreferredSize(BUTTON_PRIMARY_NAVIGATION_STANDARD_SIZE);\n            aToggleButton.setUI((ButtonUI)getUI());\n        }\n    }\n    \n    protected SToggleButtonUI getUI() {\n        return (SToggleButtonUI)primaryUI;\n    }\n}\n</code></pre>\n<p>SPrimaryNavigationToggleButtonUI:</p>\n<pre><code>package com.cthsprojects.common.ui.theme;\n\nimport java.awt.Color;\nimport java.awt.Graphics;\nimport java.awt.Image;\nimport javax.swing.AbstractButton;\nimport javax.swing.ButtonModel;\nimport javax.swing.JComponent;\nimport javax.swing.plaf.ComponentUI;\n\npublic class SPrimaryNavigationToggleButtonUI extends SToggleButtonUI {\n    \n    public static ComponentUI createUI(JComponent component) {\n        return new SPrimaryNavigationToggleButtonUI();\n    }\n    \n    @Override\n    protected Image getButtonImage(AbstractButton abstractButton) {\n        Image image = PropertyTheme.toggleButtonPrimaryNavigationBackgroundImage.getImage();\n        return image;\n    }\n    \n    @Override\n    protected Image getButtonPressedImage(AbstractButton abstractButton) {\n        return PropertyTheme.toggleButtonPrimaryNavigationDepressedImage.getImage();\n    }\n    \n    @Override\n    protected void paintTickOnSelection(AbstractButton abstractButton, ButtonModel model) {\n    }\n    \n    @Override\n    protected void setModelEnabledGraphicsColor(Graphics graphics, ButtonModel model) {\n        if ((model.isArmed() &amp;&amp; model.isPressed()) || model.isSelected()) {\n            graphics.setColor(PropertyTheme.BUTTON_DEFAULT_PRESSED_FOREGROUND_COLOR);\n        }\n        else {\n            graphics.setColor(PropertyTheme.toggleButtonPrimaryNavigationForegroundColor);\n        }\n    }\n    \n    @Override\n    protected void setColorForDisabledButton(Graphics graphics) {\n        graphics.setColor(Color.WHITE);\n    }\n}\n</code></pre>\n<p>Edit - Tried using EDT but still threw same error with this modified code:</p>\n<pre><code>package com.cthsprojects.apphost.ui.decorator;\n\nimport java.awt.Dimension;\nimport java.awt.Font;\n\nimport javax.swing.JToggleButton;\nimport javax.swing.SwingUtilities;\nimport javax.swing.plaf.ButtonUI;\n\nimport com.cthsprojects.common.ui.theme.SPrimaryNavigationToggleButtonUI;\nimport com.cthsprojects.common.ui.theme.SToggleButtonUI;\nimport com.cthsprojects.common.ui.util.SwingUtils;\nimport com.cthsprojects.common.view.adapters.decorators.AdapterDecorator;\n\npublic class AppMenuToggleButtonDecorator implements AdapterDecorator&lt;JToggleButton&gt; {\n    \n    public static final int BUTTON_PRIMARY_NAVIGATION_STANDARD_WIDTH = 116;\n    \n    public static final int BUTTON_PRIMARY_NAVIGATION_STANDARD_HEIGHT = SwingUtils.scaleY(50);\n    \n    public static final Dimension BUTTON_PRIMARY_NAVIGATION_STANDARD_SIZE = new Dimension(116, BUTTON_PRIMARY_NAVIGATION_STANDARD_HEIGHT);\n    \n    private static SPrimaryNavigationToggleButtonUI primaryUI = new SPrimaryNavigationToggleButtonUI();\n    \n    private static final Font FONT_PRIMARY_NAVIGATION_BUTTON = new Font(&quot;Tahoma&quot;, 0, 16);\n    \n    public void decorate(final JToggleButton aToggleButton) {\n        java.awt.EventQueue.invokeLater(new Runnable() {    \n            public void run() {\n                aToggleButton.setFont(FONT_PRIMARY_NAVIGATION_BUTTON);\n                aToggleButton.setPreferredSize(BUTTON_PRIMARY_NAVIGATION_STANDARD_SIZE);\n                aToggleButton.setUI((ButtonUI)getUI());\n            }\n        });\n    }\n    \n    protected SToggleButtonUI getUI() {\n        return (SToggleButtonUI)primaryUI;\n    }\n    \n}\n</code></pre>\n<p>What can I try next?</p>\n"},{"tags":["java","java-time"],"comments":[{"owner":{"account_id":8860912,"reputation":4843,"user_id":6617152,"display_name":"Ramachandran.A.G"},"score":1,"creation_date":1690719245,"post_id":76797695,"comment_id":135389717,"body_markdown":"LocalTime vs LocalDateTime may be Kris ?\n\n LocalTime lt = LocalTime.parse(&quot;10:15:45&quot;);","body":"LocalTime vs LocalDateTime may be Kris ?   LocalTime lt = LocalTime.parse(&quot;10:15:45&quot;);"},{"owner":{"account_id":46573,"reputation":3448,"user_id":137639,"accept_rate":81,"display_name":"Kris B"},"score":0,"creation_date":1690720432,"post_id":76797695,"comment_id":135389876,"body_markdown":"I just learned there is a `LocalTime` :)","body":"I just learned there is a <code>LocalTime</code> :)"}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690719342,"creation_date":1690719342,"answer_id":76797706,"question_id":76797695,"body_markdown":"There is no date part in your input. Try with LocalTime instead.","title":"Cannot parse time string to LocalDateTime","body":"<p>There is no date part in your input. Try with LocalTime instead.</p>\n"},{"tags":[],"owner":{"account_id":27668746,"reputation":233,"user_id":21120027,"display_name":"Dulan Jayawickrama"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690719662,"creation_date":1690719662,"answer_id":76797725,"question_id":76797695,"body_markdown":"The string &quot;01:43:56&quot; only contains time information without any date information, which is why you are getting an error when trying to parse it as a **LocalDateTime**.\r\n\r\nYou should use **LocalTime.parse()** instead of **LocalDateTime.parse()**:\r\n\r\n    import java.time.LocalTime;\r\n    import java.time.format.DateTimeFormatter;\r\n    \r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String timeString = &quot;01:43:56&quot;;\r\n    \r\n            LocalTime localTime = LocalTime.parse(timeString, DateTimeFormatter.ofPattern(&quot;HH:mm:ss&quot;));\r\n            System.out.println(localTime); // Output: 01:43:56\r\n        }\r\n    }\r\n\r\n","title":"Cannot parse time string to LocalDateTime","body":"<p>The string &quot;01:43:56&quot; only contains time information without any date information, which is why you are getting an error when trying to parse it as a <strong>LocalDateTime</strong>.</p>\n<p>You should use <strong>LocalTime.parse()</strong> instead of <strong>LocalDateTime.parse()</strong>:</p>\n<pre><code>import java.time.LocalTime;\nimport java.time.format.DateTimeFormatter;\n\npublic class Main {\n    public static void main(String[] args) {\n        String timeString = &quot;01:43:56&quot;;\n\n        LocalTime localTime = LocalTime.parse(timeString, DateTimeFormatter.ofPattern(&quot;HH:mm:ss&quot;));\n        System.out.println(localTime); // Output: 01:43:56\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690720840,"creation_date":1690720840,"answer_id":76797786,"question_id":76797695,"body_markdown":"You have only time in the string. You can parse it to `LocalTime`; or `LocalTimeDate` but additionally you have to set a required day, e.g. today.\r\n```java\r\npublic static LocalDateTime convert(String str) {\r\n    LocalTime localTime = LocalTime.parse(str, DateTimeFormatter.ISO_TIME);\r\n    return localTime.atDate(LocalDate.now());\r\n}\r\n```","title":"Cannot parse time string to LocalDateTime","body":"<p>You have only time in the string. You can parse it to <code>LocalTime</code>; or <code>LocalTimeDate</code> but additionally you have to set a required day, e.g. today.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static LocalDateTime convert(String str) {\n    LocalTime localTime = LocalTime.parse(str, DateTimeFormatter.ISO_TIME);\n    return localTime.atDate(LocalDate.now());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690721701,"creation_date":1690721701,"answer_id":76797837,"question_id":76797695,"body_markdown":"As others have already indicated, the problem is that a [`LocalDateTime`][1] requires both a date and a time, and your format only has a time. As the other answers show, the general solution is to use [`LocalTime`][2].\r\n\r\nHowever, if you really do need a `LocalDateTime`, you can also configure the formatter to apply a default value if none is available in the format:\r\n\r\n```java\r\nDateTimeFormatter formatter = new DateTimeFormatterBuilder()\r\n        .parseDefaulting(ChronoField.EPOCH_DAY, LocalDate.now().toEpochDay())\r\n        .appendPattern(&quot;HH:mm:ss&quot;)\r\n        .toFormatter();\r\n```\r\n\r\nThis formatter configures a default value for the `EPOCH_DAY` field equal to the current date. This means that when the parsed value doesn&#39;t provide date information, it is taken from `EPOCH_DAY`.\r\n\r\nThat said, although this is an option, usually obtaining a `LocalDateTime` is easier done by using `LocalTime.parse(&quot;01:43:56&quot;).atDate(LocalDate.now())` instead.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalTime.html","title":"Cannot parse time string to LocalDateTime","body":"<p>As others have already indicated, the problem is that a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDateTime.html\" rel=\"nofollow noreferrer\"><code>LocalDateTime</code></a> requires both a date and a time, and your format only has a time. As the other answers show, the general solution is to use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalTime.html\" rel=\"nofollow noreferrer\"><code>LocalTime</code></a>.</p>\n<p>However, if you really do need a <code>LocalDateTime</code>, you can also configure the formatter to apply a default value if none is available in the format:</p>\n<pre class=\"lang-java prettyprint-override\"><code>DateTimeFormatter formatter = new DateTimeFormatterBuilder()\n        .parseDefaulting(ChronoField.EPOCH_DAY, LocalDate.now().toEpochDay())\n        .appendPattern(&quot;HH:mm:ss&quot;)\n        .toFormatter();\n</code></pre>\n<p>This formatter configures a default value for the <code>EPOCH_DAY</code> field equal to the current date. This means that when the parsed value doesn't provide date information, it is taken from <code>EPOCH_DAY</code>.</p>\n<p>That said, although this is an option, usually obtaining a <code>LocalDateTime</code> is easier done by using <code>LocalTime.parse(&quot;01:43:56&quot;).atDate(LocalDate.now())</code> instead.</p>\n"}],"owner":{"account_id":46573,"reputation":3448,"user_id":137639,"accept_rate":81,"display_name":"Kris B"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76797725,"answer_count":4,"score":0,"last_activity_date":1690721701,"creation_date":1690719096,"question_id":76797695,"body_markdown":"I&#39;m trying to convert this string `01:43:56` to a `LocalDateTime` but keep getting this error thrown:\r\n\r\n&gt; Text &#39;01:43:56&#39; could not be parsed: Unable to obtain LocalDateTime\r\n&gt; from TemporalAccessor: {},ISO resolved to 01:43:56 of type\r\n&gt; java.time.format.Parsed\r\n\r\nI&#39;ve tried every variation of the time format I can think of:\r\n\r\n\tLocalDateTime.parse(&quot;01:43:56&quot;, DateTimeFormatter.ofPattern(&quot;hh:mm:ss&quot;))\r\n\tLocalDateTime.parse(&quot;01:43:56&quot;, DateTimeFormatter.ofPattern(&quot;HH:mm:ss&quot;))\r\n\tLocalDateTime.parse(&quot;01:43:56&quot;, DateTimeFormatter.ofPattern(&quot;H:mm:ss&quot;))\r\n\tLocalDateTime.parse(&quot;01:43:56&quot;, DateTimeFormatter.ofPattern(&quot;H:m:s&quot;))\r\n\tLocalDateTime.parse(&quot;01:43:56&quot;, DateTimeFormatter.ISO_LOCAL_TIME)","title":"Cannot parse time string to LocalDateTime","body":"<p>I'm trying to convert this string <code>01:43:56</code> to a <code>LocalDateTime</code> but keep getting this error thrown:</p>\n<blockquote>\n<p>Text '01:43:56' could not be parsed: Unable to obtain LocalDateTime\nfrom TemporalAccessor: {},ISO resolved to 01:43:56 of type\njava.time.format.Parsed</p>\n</blockquote>\n<p>I've tried every variation of the time format I can think of:</p>\n<pre><code>LocalDateTime.parse(&quot;01:43:56&quot;, DateTimeFormatter.ofPattern(&quot;hh:mm:ss&quot;))\nLocalDateTime.parse(&quot;01:43:56&quot;, DateTimeFormatter.ofPattern(&quot;HH:mm:ss&quot;))\nLocalDateTime.parse(&quot;01:43:56&quot;, DateTimeFormatter.ofPattern(&quot;H:mm:ss&quot;))\nLocalDateTime.parse(&quot;01:43:56&quot;, DateTimeFormatter.ofPattern(&quot;H:m:s&quot;))\nLocalDateTime.parse(&quot;01:43:56&quot;, DateTimeFormatter.ISO_LOCAL_TIME)\n</code></pre>\n"},{"tags":["java","spring","jdbc","scheduled-tasks","shedlock"],"answers":[{"tags":[],"owner":{"account_id":20852723,"reputation":1,"user_id":15316874,"display_name":"Glauber Faria"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690658573,"creation_date":1690658573,"answer_id":76795137,"question_id":76794242,"body_markdown":"Some alternatives I know:\r\n\r\n**Quartz** -&gt; https://www.baeldung.com/quartz\r\n\r\n**Spring batch** -&gt; https://spring.io/projects/spring-batch\r\n\r\n**Future** (JAVA7+) -&gt; https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Future.html\r\nhttps://docs.oracle.com/javase%2F7%2Fdocs%2Fapi%2F%2F/java/util/concurrent/Future.html\r\n\r\n**CompletableFuture** (JAVA8+) -&gt; https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\r\n","title":"Can Shedlock be used in a non Spring-boot app?","body":"<p>Some alternatives I know:</p>\n<p><strong>Quartz</strong> -&gt; <a href=\"https://www.baeldung.com/quartz\" rel=\"nofollow noreferrer\">https://www.baeldung.com/quartz</a></p>\n<p><strong>Spring batch</strong> -&gt; <a href=\"https://spring.io/projects/spring-batch\" rel=\"nofollow noreferrer\">https://spring.io/projects/spring-batch</a></p>\n<p><strong>Future</strong> (JAVA7+) -&gt; <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Future.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Future.html</a>\n<a href=\"https://docs.oracle.com/javase%2F7%2Fdocs%2Fapi%2F%2F/java/util/concurrent/Future.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase%2F7%2Fdocs%2Fapi%2F%2F/java/util/concurrent/Future.html</a></p>\n<p><strong>CompletableFuture</strong> (JAVA8+) -&gt; <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/CompletableFuture.html</a></p>\n"},{"tags":[],"owner":{"account_id":103435,"reputation":13726,"user_id":277042,"accept_rate":57,"display_name":"Lukas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690721402,"creation_date":1690721402,"answer_id":76797817,"question_id":76794242,"body_markdown":"Yes, it is possible to use ShedLock in plain Spring without Spring Boot. You just need to have JDBC DataSource configured, and all dependencies needed for AOP. You can even use it completely without a [framework][1].\r\n\r\n\r\n  [1]: https://github.com/lukas-krecan/ShedLock#locking-without-a-framework","title":"Can Shedlock be used in a non Spring-boot app?","body":"<p>Yes, it is possible to use ShedLock in plain Spring without Spring Boot. You just need to have JDBC DataSource configured, and all dependencies needed for AOP. You can even use it completely without a <a href=\"https://github.com/lukas-krecan/ShedLock#locking-without-a-framework\" rel=\"nofollow noreferrer\">framework</a>.</p>\n"}],"owner":{"account_id":29117916,"reputation":3,"user_id":22306217,"display_name":"MCherebin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76797817,"answer_count":2,"score":0,"last_activity_date":1690721402,"creation_date":1690644247,"question_id":76794242,"body_markdown":"I&#39;ve been trying to get Shedlock set up so that a certain process is only ever run from 1 instance of the app at a time, the app uses some springframework dependencies, but is not a spring-boot app.\r\n\r\n\r\nI&#39;ve made the db table, set up the configuration, and annotated my tasks.\r\nI&#39;ve been having issues, the lock name not showing up in the shedlock table, and think there may be an issue with my configuration. The app doesn&#39;t have an application.yml file to define the datasource, but I&#39;ve been trying to work around that. I just want to see if this is actually possible for an app that isn&#39;t a spring-boot app, or if I need to find an alternative.","title":"Can Shedlock be used in a non Spring-boot app?","body":"<p>I've been trying to get Shedlock set up so that a certain process is only ever run from 1 instance of the app at a time, the app uses some springframework dependencies, but is not a spring-boot app.</p>\n<p>I've made the db table, set up the configuration, and annotated my tasks.\nI've been having issues, the lock name not showing up in the shedlock table, and think there may be an issue with my configuration. The app doesn't have an application.yml file to define the datasource, but I've been trying to work around that. I just want to see if this is actually possible for an app that isn't a spring-boot app, or if I need to find an alternative.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1690719546,"post_id":76797713,"comment_id":135389747,"body_markdown":"Does this answer your question? [What is PECS (Producer Extends Consumer Super)?](https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2723397/what-is-pecs-producer-extends-consumer-super\">What is PECS (Producer Extends Consumer Super)?</a>"},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":1,"creation_date":1690720237,"post_id":76797713,"comment_id":135389845,"body_markdown":"IMO you are legitimately puzzled by this specific example, which most probably offers no benefit, as mentioned in the comment above. It would be useful to express e.g. a constraint that `inspect` takes 2 arguments, they are both subclasses of `Number` but **must be of the same type**. In this case `inspect(Number x, Number y)` would allow you to pass `(Long, Double)`, which does not capture the constraint. Defining it as `&lt;U extends Number&gt; void inspect(U x, U y)` does. This is another usage, in addition to the PECS from a previous comment.","body":"IMO you are legitimately puzzled by this specific example, which most probably offers no benefit, as mentioned in the comment above. It would be useful to express e.g. a constraint that <code>inspect</code> takes 2 arguments, they are both subclasses of <code>Number</code> but <b>must be of the same type</b>. In this case <code>inspect(Number x, Number y)</code> would allow you to pass <code>(Long, Double)</code>, which does not capture the constraint. Defining it as <code>&lt;U extends Number&gt; void inspect(U x, U y)</code> does. This is another usage, in addition to the PECS from a previous comment."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":1,"creation_date":1690720314,"post_id":76797713,"comment_id":135389862,"body_markdown":"Purpose of above example is to show *how* to use generic methods, not *when* to use them.","body":"Purpose of above example is to show <i>how</i> to use generic methods, not <i>when</i> to use them."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1690745687,"post_id":76797713,"comment_id":135392709,"body_markdown":"The point of type variables on generic methods is to link things together - say, a parameter and return type, or two parameters (but only when at least one is generic): you can also use them to express generic bounds on parameters like `U extends Comparable&lt;? super U&gt;&gt;`. In your example, there is no point in using a type variable.","body":"The point of type variables on generic methods is to link things together - say, a parameter and return type, or two parameters (but only when at least one is generic): you can also use them to express generic bounds on parameters like <code>U extends Comparable&lt;? super U&gt;&gt;</code>. In your example, there is no point in using a type variable."}],"owner":{"account_id":16841069,"reputation":2151,"user_id":12176460,"display_name":"YoavKlein"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1690720391,"answer_count":0,"score":1,"last_activity_date":1690720909,"creation_date":1690719487,"question_id":76797713,"body_markdown":"I&#39;m learning Java from the Oracle tutorials, and I&#39;ve just reached Generics.\r\n\r\nSo we can use a _bounded type parameter_ to restrict the types that can be used as type arguments. The tutorial brings the following method as an example:\r\n\r\n```\r\nclass Box&lt;T&gt; {\r\n...\r\n public &lt;U extends Number&gt; void inspect(U u){\r\n        System.out.println(&quot;T: &quot; + t.getClass().getName());\r\n        System.out.println(&quot;U: &quot; + u.getClass().getName());\r\n    }\r\n}\r\n```\r\n\r\nAnd I wonder - what is the benefit of using a bounded type parameter in a method? To be more precise, what is the benefit of the method above rather than:\r\n```\r\npublic void inspect(Number u)\r\n```\r\n\r\n?","title":"Why use bounded type parameters in Java methods?","body":"<p>I'm learning Java from the Oracle tutorials, and I've just reached Generics.</p>\n<p>So we can use a <em>bounded type parameter</em> to restrict the types that can be used as type arguments. The tutorial brings the following method as an example:</p>\n<pre><code>class Box&lt;T&gt; {\n...\n public &lt;U extends Number&gt; void inspect(U u){\n        System.out.println(&quot;T: &quot; + t.getClass().getName());\n        System.out.println(&quot;U: &quot; + u.getClass().getName());\n    }\n}\n</code></pre>\n<p>And I wonder - what is the benefit of using a bounded type parameter in a method? To be more precise, what is the benefit of the method above rather than:</p>\n<pre><code>public void inspect(Number u)\n</code></pre>\n<p>?</p>\n"},{"tags":["java","spring","reactive-programming","r2dbc"],"answers":[{"tags":[],"owner":{"account_id":480584,"reputation":8226,"user_id":893898,"accept_rate":42,"display_name":"Hantsy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1602990799,"creation_date":1602990799,"answer_id":64409363,"question_id":64374730,"body_markdown":"In the first statement, add an extra filter to return the id fields.\r\n\r\n```java\r\n .filter((statement, executeFunction) -&gt; statement.returnGeneratedValues(&quot;id&quot;).execute())\r\n```\r\n\r\nCheck my example of [Save](https://github.com/hantsy/spring-r2dbc-sample/blob/master/database-client/src/main/java/com/example/demo/PostRepository.java#L72) and [Query](https://github.com/hantsy/spring-r2dbc-sample/blob/master/database-client/src/main/java/com/example/demo/PostRepository.java#L64).\r\n\r\nAnd there is a [JUnit test case](https://github.com/hantsy/spring-r2dbc-sample/blob/master/database-client/src/test/java/com/example/demo/PostRepositoryTest.java#L52) for demo connectting them together.\r\n\r\nBTW: I was using the DatabaseClient in Spring 5.3 for these samples.","title":"Java r2dbc client execute sql and use returned id for next execute","body":"<p>In the first statement, add an extra filter to return the id fields.</p>\n<pre class=\"lang-java prettyprint-override\"><code> .filter((statement, executeFunction) -&gt; statement.returnGeneratedValues(&quot;id&quot;).execute())\n</code></pre>\n<p>Check my example of <a href=\"https://github.com/hantsy/spring-r2dbc-sample/blob/master/database-client/src/main/java/com/example/demo/PostRepository.java#L72\" rel=\"nofollow noreferrer\">Save</a> and <a href=\"https://github.com/hantsy/spring-r2dbc-sample/blob/master/database-client/src/main/java/com/example/demo/PostRepository.java#L64\" rel=\"nofollow noreferrer\">Query</a>.</p>\n<p>And there is a <a href=\"https://github.com/hantsy/spring-r2dbc-sample/blob/master/database-client/src/test/java/com/example/demo/PostRepositoryTest.java#L52\" rel=\"nofollow noreferrer\">JUnit test case</a> for demo connectting them together.</p>\n<p>BTW: I was using the DatabaseClient in Spring 5.3 for these samples.</p>\n"}],"owner":{"account_id":1095732,"reputation":556,"user_id":1089362,"accept_rate":90,"display_name":"user1089362"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1701,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":64409363,"answer_count":1,"score":1,"last_activity_date":1690720058,"creation_date":1602775004,"question_id":64374730,"body_markdown":"I use r2dbc client with postgresql and I would like to call in one transaction 2 inserts(use id of first query) like:\r\n\r\n          client.execute(&quot;INSERT INTO place(id,city) VALUES(:id, :city)&quot;)\r\n        .bind(&quot;id&quot;, &quot;nextval(&#39;place_id_seq&#39;)&quot;)\r\n        .bind(&quot;city&quot;, place.getCity())\r\n        .fetch().rowsUpdated())\r\n        )\r\n        .then(client.execute(&quot;INSERT INTO place_category VALUES (:place_id, :category_id);&quot;)\r\n          .bind(&quot;place_id&quot;, &lt;PREVIOUS_ID OF INSERT&gt;)\r\n          .bind(&quot;category_id&quot;, place.getCategoryId())\r\n          .fetch().rowsUpdated())\r\n        .then();\r\n\r\nI don&#39;t know how to get @Id of first insert &lt;PREVIOUS_ID OF INSERT&gt;","title":"Java r2dbc client execute sql and use returned id for next execute","body":"<p>I use r2dbc client with postgresql and I would like to call in one transaction 2 inserts(use id of first query) like:</p>\n<pre><code>      client.execute(&quot;INSERT INTO place(id,city) VALUES(:id, :city)&quot;)\n    .bind(&quot;id&quot;, &quot;nextval('place_id_seq')&quot;)\n    .bind(&quot;city&quot;, place.getCity())\n    .fetch().rowsUpdated())\n    )\n    .then(client.execute(&quot;INSERT INTO place_category VALUES (:place_id, :category_id);&quot;)\n      .bind(&quot;place_id&quot;, &lt;PREVIOUS_ID OF INSERT&gt;)\n      .bind(&quot;category_id&quot;, place.getCategoryId())\n      .fetch().rowsUpdated())\n    .then();\n</code></pre>\n<p>I don't know how to get @Id of first insert &lt;PREVIOUS_ID OF INSERT&gt;</p>\n"},{"tags":["java","oracle","mybatis","ibatis","typehandler"],"answers":[{"tags":[],"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690719764,"creation_date":1690719764,"answer_id":76797729,"question_id":76768574,"body_markdown":"## About the `OutText` class\r\n\r\nI might be missing something, but it is unnecessary to implement `java.sql.Array` or `java.sql.SQLData`.  \r\n\r\n## About the mapper statement\r\n\r\n- Oracle procedure does not return result set (cursor), so `&lt;select resultMap=&quot;...&quot;&gt;` is not used. You should use `&lt;update&gt;` or `&lt;insert&gt;`, probably.\r\n- As it&#39;s a custom type, `jdbcTypeName` must be specified.\r\n- It seems that a globally registered type handler is not applied to OUT parameters. You may have to specify `typeHandler` explicitly in the parameter reference.\r\n\r\n```xml\r\n&lt;update id=&quot;resolve&quot; statementType=&quot;CALLABLE&quot;&gt;\r\n  {call SUPPORTO.PKG_AMM_LOOKOUT.pr_resolveMDL101(\r\n    #{idProcesso, mode=IN, jdbcType=NUMERIC},\r\n    #{outText,jdbcType=ARRAY,jdbcTypeName=ARR_TEXT_OUT,mode=OUT,typeHandler=test.OutTextTypeHandler}\r\n  )}\r\n&lt;/update&gt;\r\n```\r\n\r\n## About the type handler\r\n\r\nFor OUT params, `TypeHandler#getResult()` is used. And you cannot just cast the result of `getArray()` like that. I also noticed that you imported a wrong `OracleConnection`.  \r\n`OutTextTypeHandler` should look something like this.\r\n\r\n```java\r\nimport java.sql.Array;\r\nimport java.sql.CallableStatement;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\n\r\nimport org.apache.ibatis.type.BaseTypeHandler;\r\nimport org.apache.ibatis.type.JdbcType;\r\n\r\nimport oracle.jdbc.OracleArray;\r\nimport oracle.jdbc.OracleConnection;\r\n\r\npublic class OutTextTypeHandler extends BaseTypeHandler&lt;OutText&gt; {\r\n\r\n  @Override\r\n  public void setNonNullParameter(PreparedStatement ps, int i, OutText parameter, JdbcType jdbcType)\r\n      throws SQLException {\r\n    OracleConnection con = ps.getConnection().unwrap(OracleConnection.class);\r\n    Array array = con.createOracleArray(&quot;ARR_TEXT_OUT&quot;, parameter.getOutText());\r\n    try {\r\n      ps.setArray(i, array);\r\n    } finally {\r\n      array.free();\r\n    }\r\n  }\r\n\r\n  @Override\r\n  public OutText getNullableResult(ResultSet rs, String columnName) throws SQLException {\r\n    return oracleArrayToOutText((OracleArray) rs.getArray(columnName));\r\n  }\r\n\r\n  @Override\r\n  public OutText getNullableResult(ResultSet rs, int columnIndex) throws SQLException {\r\n    return oracleArrayToOutText((OracleArray) rs.getArray(columnIndex));\r\n  }\r\n\r\n  @Override\r\n  public OutText getNullableResult(CallableStatement cs, int columnIndex) throws SQLException {\r\n    return oracleArrayToOutText((OracleArray) cs.getArray(columnIndex));\r\n  }\r\n\r\n  private OutText oracleArrayToOutText(OracleArray array) throws SQLException {\r\n    if (array == null) {\r\n      return null;\r\n    }\r\n    OutText result = new OutText((String[]) array.getArray());\r\n    array.free();\r\n    return result;\r\n  }\r\n}\r\n```\r\n\r\nHere is the demo project that I used to verify.  \r\nhttps://github.com/harawata/mybatis-issues/tree/master/so-76768574\r\n","title":"SQL state [99999]; error code [17068] nested exception is java.sql.SQLException:","body":"<h2>About the <code>OutText</code> class</h2>\n<p>I might be missing something, but it is unnecessary to implement <code>java.sql.Array</code> or <code>java.sql.SQLData</code>.</p>\n<h2>About the mapper statement</h2>\n<ul>\n<li>Oracle procedure does not return result set (cursor), so <code>&lt;select resultMap=&quot;...&quot;&gt;</code> is not used. You should use <code>&lt;update&gt;</code> or <code>&lt;insert&gt;</code>, probably.</li>\n<li>As it's a custom type, <code>jdbcTypeName</code> must be specified.</li>\n<li>It seems that a globally registered type handler is not applied to OUT parameters. You may have to specify <code>typeHandler</code> explicitly in the parameter reference.</li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;update id=&quot;resolve&quot; statementType=&quot;CALLABLE&quot;&gt;\n  {call SUPPORTO.PKG_AMM_LOOKOUT.pr_resolveMDL101(\n    #{idProcesso, mode=IN, jdbcType=NUMERIC},\n    #{outText,jdbcType=ARRAY,jdbcTypeName=ARR_TEXT_OUT,mode=OUT,typeHandler=test.OutTextTypeHandler}\n  )}\n&lt;/update&gt;\n</code></pre>\n<h2>About the type handler</h2>\n<p>For OUT params, <code>TypeHandler#getResult()</code> is used. And you cannot just cast the result of <code>getArray()</code> like that. I also noticed that you imported a wrong <code>OracleConnection</code>.<br />\n<code>OutTextTypeHandler</code> should look something like this.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.sql.Array;\nimport java.sql.CallableStatement;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\n\nimport org.apache.ibatis.type.BaseTypeHandler;\nimport org.apache.ibatis.type.JdbcType;\n\nimport oracle.jdbc.OracleArray;\nimport oracle.jdbc.OracleConnection;\n\npublic class OutTextTypeHandler extends BaseTypeHandler&lt;OutText&gt; {\n\n  @Override\n  public void setNonNullParameter(PreparedStatement ps, int i, OutText parameter, JdbcType jdbcType)\n      throws SQLException {\n    OracleConnection con = ps.getConnection().unwrap(OracleConnection.class);\n    Array array = con.createOracleArray(&quot;ARR_TEXT_OUT&quot;, parameter.getOutText());\n    try {\n      ps.setArray(i, array);\n    } finally {\n      array.free();\n    }\n  }\n\n  @Override\n  public OutText getNullableResult(ResultSet rs, String columnName) throws SQLException {\n    return oracleArrayToOutText((OracleArray) rs.getArray(columnName));\n  }\n\n  @Override\n  public OutText getNullableResult(ResultSet rs, int columnIndex) throws SQLException {\n    return oracleArrayToOutText((OracleArray) rs.getArray(columnIndex));\n  }\n\n  @Override\n  public OutText getNullableResult(CallableStatement cs, int columnIndex) throws SQLException {\n    return oracleArrayToOutText((OracleArray) cs.getArray(columnIndex));\n  }\n\n  private OutText oracleArrayToOutText(OracleArray array) throws SQLException {\n    if (array == null) {\n      return null;\n    }\n    OutText result = new OutText((String[]) array.getArray());\n    array.free();\n    return result;\n  }\n}\n</code></pre>\n<p>Here is the demo project that I used to verify.<br />\n<a href=\"https://github.com/harawata/mybatis-issues/tree/master/so-76768574\" rel=\"nofollow noreferrer\">https://github.com/harawata/mybatis-issues/tree/master/so-76768574</a></p>\n"}],"owner":{"account_id":26965255,"reputation":13,"user_id":20532252,"display_name":"Emmanuele Guerriero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76797729,"answer_count":1,"score":0,"last_activity_date":1690719764,"creation_date":1690353112,"question_id":76768574,"body_markdown":"I&#39;m trying to call a stored procedure from my java application using myBatis.\r\n\r\nMy db type:\r\n```sql\r\ncreate or replace TYPE\r\n  ARR_TEXT_OUT AS VARRAY(20000) OF VARCHAR(200);\r\n```\r\n\r\nMy stored procedure (I think you only need the spec):\r\n```sql\r\ncreate or replace PACKAGE\r\n  PKG_AMM_LOOKOUT AS \r\n\r\n  PROCEDURE pr_resolveMDL101(IN_id_processo      IN  NUMBER\r\n                                ,OUT_text OUT ARR_TEXT_OUT\r\n                                ); \r\n\r\nEND PKG_AMM_LOOKOUT;\r\n```\r\n\r\nMy class which wraps IN and OUT parameters:\r\n```\r\npackage com.ubiss.domain.lookoutMdl;\r\n\r\nimport java.io.Serializable;\r\n\r\npublic class Mdl101Parameter implements Serializable {\r\n\tprivate static final long serialVersionUID = 1L;\r\n\tprivate Long idProcesso;\r\n\tprivate OutText outText;\r\n\t\r\n\tpublic Mdl101Parameter(Long idProcesso, OutText outText) {\r\n\t\tthis.idProcesso = idProcesso;\r\n\t\tthis.outText = outText;\r\n\t}\r\n\t\r\n\tpublic Mdl101Parameter() {}\r\n\r\n\tpublic Long getIdProcesso() {\r\n\t\treturn idProcesso;\r\n\t}\r\n\r\n\tpublic void setIdProcesso(Long idProcesso) {\r\n\t\tthis.idProcesso = idProcesso;\r\n\t}\r\n\r\n\tpublic OutText getOutText() {\r\n\t\treturn outText;\r\n\t}\r\n\r\n\tpublic void setOutText(OutText outText) {\r\n\t\tthis.outText = outText;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;Mdl101Parameter [idProcesso=&quot; + idProcesso + &quot;, outText=&quot; + outText + &quot;]&quot;;\r\n\t}\r\n}\r\n```\r\n\r\n\r\nMy class which wraps the varray type:\r\n```\r\npackage com.ubiss.domain.lookoutMdl;\r\n\r\nimport java.sql.Array;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLData;\r\nimport java.sql.SQLException;\r\nimport java.sql.SQLInput;\r\nimport java.sql.SQLOutput;\r\nimport java.util.Arrays;\r\nimport java.util.Map;\r\n\r\npublic class OutText implements Array, SQLData{\r\n\tprivate String[] outText;\r\n\r\n\tpublic OutText(String[] outText) {\r\n\t\tthis.outText = outText;\r\n\t}\r\n\t\r\n\tpublic OutText() {}\r\n\r\n\tpublic String[] getOutText() {\r\n\t\treturn outText;\r\n\t}\r\n\r\n\tpublic void setOutText(String[] outText) {\r\n\t\tthis.outText = outText;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;OutText [outText=&quot; + Arrays.toString(outText) + &quot;]&quot;;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getBaseTypeName() throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic int getBaseType() throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn 0;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object getArray() throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object getArray(Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object getArray(long index, int count) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic Object getArray(long index, int count, Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException                                                                                           {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ResultSet getResultSet() throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ResultSet getResultSet(Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ResultSet getResultSet(long index, int count) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic ResultSet getResultSet(long index, int count, Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void free() throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String getSQLTypeName() throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn null;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void readSQL(SQLInput stream, String typeName) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n\r\n\t@Override\r\n\tpublic void writeSQL(SQLOutput stream) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\nMy TypeHandler implementation for the varray parameter:\r\n```\r\npackage com.ubiss.domain.lookoutMdl;\r\n\r\nimport java.sql.Array;\r\nimport java.sql.CallableStatement;\r\nimport java.sql.PreparedStatement;\r\nimport java.sql.ResultSet;\r\nimport java.sql.SQLException;\r\nimport java.sql.Struct;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\nimport org.apache.ibatis.type.JdbcType;\r\nimport org.apache.ibatis.type.TypeHandler;\r\n\r\nimport oracle.jdbc.driver.OracleConnection;\r\n\r\npublic class OutTextTypeHandler implements TypeHandler&lt;OutText&gt; {\r\n\r\n\t@Override\r\n\tpublic void setParameter(PreparedStatement ps, int i, OutText parameter, JdbcType jdbcType) throws SQLException {\r\n\t\tOracleConnection conn = ps.getConnection().unwrap(OracleConnection.class);\r\n\t\tList&lt;Struct&gt; structs = new ArrayList&lt;Struct&gt;();\r\n\t\tif (parameter != null) {\r\n\t\t\tObject[] obj = parameter.getOutText();\r\n\t\t\tstructs.add(conn.createStruct(&quot;SUPPORTO.ARR_TEXT_OUT&quot;, obj));\r\n\t\t}\r\n\t\tArray array = conn.createOracleArray(&quot;SUPPORTO.ARR_TEXT_OUT&quot;, structs.toArray());\r\n\t\tps.setArray(i, array);\r\n\t\tarray.free();\r\n\t}\r\n\r\n\t@Override\r\n\tpublic OutText getResult(ResultSet rs, String columnName) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn (OutText) rs.getArray(columnName);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic OutText getResult(ResultSet rs, int columnIndex) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn (OutText) rs.getArray(columnIndex);\r\n\t}\r\n\r\n\t@Override\r\n\tpublic OutText getResult(CallableStatement cs, int columnIndex) throws SQLException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\treturn (OutText) cs.getArray(columnIndex);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nMy mapper Errore101Mapper.xml:\r\n```\r\n&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;\r\n\r\n&lt;mapper namespace=&quot;com.ubiss.dao.lookoutMdl.errori.Errore101Dao&quot;&gt;\r\n    &lt;select id=&quot;resolve&quot; statementType=&quot;CALLABLE&quot;\r\n\t\tparameterType=&quot;com.ubiss.domain.lookoutMdl.Mdl101Parameter&quot;\r\n\t\tresultMap=&quot;resolveResultMap&quot;&gt;\r\n\t\t{call SUPPORTO.PKG_AMM_LOOKOUT.pr_resolveMDL101(\r\n\t\t#{idProcesso, mode=IN, jdbcType=NUMERIC},\r\n\t\t#{outText,jdbcType=ARRAY, mode=OUT}\r\n\t\t)}\r\n\t&lt;/select&gt;\r\n\t\r\n\t&lt;resultMap id=&quot;resolveResultMap&quot;\r\n\t\ttype=&quot;com.ubiss.domain.lookoutMdl.Mdl101Parameter&quot;&gt;\r\n\t\t&lt;id column=&quot;IN_id_processo&quot; property=&quot;idProcesso&quot; /&gt;\r\n\t\t&lt;id column=&quot;OUT_text&quot; property=&quot;outText&quot; typeHandler=&quot;com.ubiss.domain.lookoutMdl.OutTextTypeHandler&quot;/&gt;\r\n\t&lt;/resultMap&gt;\r\n&lt;/mapper&gt;\r\n```\r\n\r\n\r\nMy myBatisV3-config.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE configuration PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;\r\n&lt;configuration&gt;\r\n\r\n    &lt;settings&gt;\r\n        &lt;setting name=&quot;jdbcTypeForNull&quot; value=&quot;NULL&quot; /&gt;\r\n    &lt;/settings&gt;\r\n    \r\n    &lt;typeAliases&gt;\r\n    &lt;/typeAliases&gt;\r\n    \r\n    &lt;typeHandlers&gt;\r\n        &lt;typeHandler handler=&quot;com.ubiss.domain.logger.ElencoCampiTypeHandler&quot; javaType=&quot;com.ubiss.domain.logger.ElencoCampiModificati&quot;/&gt;\r\n        &lt;typeHandler handler=&quot;com.ubiss.domain.lookoutMdl.OutTextTypeHandler&quot; javaType=&quot;com.ubiss.domain.lookoutMdl.OutText&quot;/&gt;\t\t\r\n\t&lt;/typeHandlers&gt;\r\n    \r\n    &lt;mappers&gt;\r\n        &lt;mapper resource=&quot;/configImiweb/maps/GestioneAnagraficaMapper.xml&quot; /&gt;\r\n        &lt;mapper resource=&quot;/configImiweb/maps/CensimentoTitoliMapper.xml&quot; /&gt;\r\n        &lt;mapper resource=&quot;/configImiweb/maps/RisottomissioneMovimentiEseguiti.xml&quot; /&gt;\r\n        &lt;mapper resource=&quot;/configImiweb/maps/GestionePortafoglioClienteMapper.xml&quot; /&gt;\r\n        &lt;mapper resource=&quot;/configImiweb/maps/AggiornamentoAnagraficaTitoliMapper.xml&quot; /&gt;\r\n        &lt;mapper resource=&quot;/configImiweb/maps/LoggerMapper.xml&quot; /&gt;\r\n        &lt;mapper resource=&quot;/configImiweb/maps/PiattaformeInformativaMapper.xml&quot; /&gt;\r\n        &lt;mapper resource=&quot;/configImiweb/maps/GestioneDipendenzeMapper.xml&quot; /&gt;\r\n        &lt;mapper resource=&quot;/configImiweb/maps/GestioneAgreementMapper.xml&quot; /&gt;\r\n        &lt;mapper resource=&quot;/configImiweb/maps/GestioneTabellaServiziClienteMapper.xml&quot; /&gt;\r\n        &lt;mapper resource=&quot;/configImiweb/maps/GestionePiattaformaClienteMapper.xml&quot; /&gt;\r\n        &lt;mapper resource=&quot;/configImiweb/maps/GestioneAgreementClienteMapper.xml&quot; /&gt;\r\n        &lt;mapper resource=&quot;/configImiweb/maps/AggiornamentoPrezziOTCMapper.xml&quot; /&gt;\r\n        &lt;mapper resource=&quot;/configImiweb/maps/GestioneMercatoMapper.xml&quot; /&gt;\r\n        &lt;mapper resource=&quot;/configImiweb/maps/GestioneStrumentoMapper.xml&quot; /&gt;\r\n\t\t&lt;mapper resource=&quot;/configImiweb/maps/TbAccessoSottorubricaMapper.xml&quot; /&gt;\r\n        &lt;mapper resource=&quot;/configImiweb/maps/TbPersonaMapper.xml&quot; /&gt;\r\n\t\t&lt;mapper resource=&quot;/configImiweb/maps/TbLoginMapper.xml&quot; /&gt;\r\n        &lt;mapper resource=&quot;/configImiweb/maps/TbDossierMapper.xml&quot; /&gt;\r\n\t\t&lt;mapper resource=&quot;/configImiweb/maps/TbAccessoInternetMapper.xml&quot; /&gt;\r\n\t\t&lt;mapper resource=&quot;/configImiweb/maps/TbCashAmountsMapper.xml&quot; /&gt;\r\n        &lt;mapper resource=&quot;/configImiweb/maps/TbGruppoMapper.xml&quot; /&gt;\r\n\t\t&lt;mapper resource=&quot;/configImiweb/maps/TbUtenzaRtkMapper.xml&quot; /&gt;\r\n\t\t&lt;mapper resource=&quot;/configImiweb/maps/TbCcMapper.xml&quot; /&gt;\r\n\t\t&lt;mapper resource=&quot;/configImiweb/maps/TbHbAccessoCcMapper.xml&quot; /&gt;\r\n\t\t&lt;mapper resource=&quot;/configImiweb/maps/TbRelClienteGruppoMapper.xml&quot; /&gt;\r\n        &lt;mapper resource=&quot;/configImiweb/maps/ScadenzaDerivatiMapper.xml&quot; /&gt;\r\n        &lt;mapper resource=&quot;/configImiweb/maps/EsitoProcessiMapper.xml&quot; /&gt;     \r\n        &lt;mapper resource=&quot;/configImiweb/maps/StoricoOrdiniMapper.xml&quot; /&gt;\r\n        &lt;mapper resource=&quot;/configImiweb/maps/Errore101Mapper.xml&quot; /&gt;                    \r\n    &lt;/mappers&gt;\r\n&lt;/configuration&gt;\r\n```\r\n\r\nDuring the build and the start of the jboss application I don&#39;t get any errors. But then when the dao method resolve() is called I get the following error:\r\n\r\n&gt;SQL state [99999]; error code [17068]; ; nested exception is java.sql.SQLException: \r\nerror while setting parameters\r\n\r\nI tried to but a breakpoint in the methods of the TypeHandler but it seems it does not come into those methods and the error occurs before. And it also seems like I can&#39;t use the ArrayTypeHandler built in iBatis because I have a 3.4 version of batis.\r\n\r\nFrom the stack trace it seems like the error is setting the OUT parameter of the stored procedure (OUT_text OUT ARR_TEXT_OUT) \r\nPlease let me know if you have any clue of what the cause could be.","title":"SQL state [99999]; error code [17068] nested exception is java.sql.SQLException:","body":"<p>I'm trying to call a stored procedure from my java application using myBatis.</p>\n<p>My db type:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create or replace TYPE\n  ARR_TEXT_OUT AS VARRAY(20000) OF VARCHAR(200);\n</code></pre>\n<p>My stored procedure (I think you only need the spec):</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create or replace PACKAGE\n  PKG_AMM_LOOKOUT AS \n\n  PROCEDURE pr_resolveMDL101(IN_id_processo      IN  NUMBER\n                                ,OUT_text OUT ARR_TEXT_OUT\n                                ); \n\nEND PKG_AMM_LOOKOUT;\n</code></pre>\n<p>My class which wraps IN and OUT parameters:</p>\n<pre><code>package com.ubiss.domain.lookoutMdl;\n\nimport java.io.Serializable;\n\npublic class Mdl101Parameter implements Serializable {\n    private static final long serialVersionUID = 1L;\n    private Long idProcesso;\n    private OutText outText;\n    \n    public Mdl101Parameter(Long idProcesso, OutText outText) {\n        this.idProcesso = idProcesso;\n        this.outText = outText;\n    }\n    \n    public Mdl101Parameter() {}\n\n    public Long getIdProcesso() {\n        return idProcesso;\n    }\n\n    public void setIdProcesso(Long idProcesso) {\n        this.idProcesso = idProcesso;\n    }\n\n    public OutText getOutText() {\n        return outText;\n    }\n\n    public void setOutText(OutText outText) {\n        this.outText = outText;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Mdl101Parameter [idProcesso=&quot; + idProcesso + &quot;, outText=&quot; + outText + &quot;]&quot;;\n    }\n}\n</code></pre>\n<p>My class which wraps the varray type:</p>\n<pre><code>package com.ubiss.domain.lookoutMdl;\n\nimport java.sql.Array;\nimport java.sql.ResultSet;\nimport java.sql.SQLData;\nimport java.sql.SQLException;\nimport java.sql.SQLInput;\nimport java.sql.SQLOutput;\nimport java.util.Arrays;\nimport java.util.Map;\n\npublic class OutText implements Array, SQLData{\n    private String[] outText;\n\n    public OutText(String[] outText) {\n        this.outText = outText;\n    }\n    \n    public OutText() {}\n\n    public String[] getOutText() {\n        return outText;\n    }\n\n    public void setOutText(String[] outText) {\n        this.outText = outText;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;OutText [outText=&quot; + Arrays.toString(outText) + &quot;]&quot;;\n    }\n\n    @Override\n    public String getBaseTypeName() throws SQLException {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public int getBaseType() throws SQLException {\n        // TODO Auto-generated method stub\n        return 0;\n    }\n\n    @Override\n    public Object getArray() throws SQLException {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public Object getArray(Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public Object getArray(long index, int count) throws SQLException {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public Object getArray(long index, int count, Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException                                                                                           {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public ResultSet getResultSet() throws SQLException {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public ResultSet getResultSet(Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public ResultSet getResultSet(long index, int count) throws SQLException {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public ResultSet getResultSet(long index, int count, Map&lt;String, Class&lt;?&gt;&gt; map) throws SQLException {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public void free() throws SQLException {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public String getSQLTypeName() throws SQLException {\n        // TODO Auto-generated method stub\n        return null;\n    }\n\n    @Override\n    public void readSQL(SQLInput stream, String typeName) throws SQLException {\n        // TODO Auto-generated method stub\n        \n    }\n\n    @Override\n    public void writeSQL(SQLOutput stream) throws SQLException {\n        // TODO Auto-generated method stub\n        \n    }\n}\n</code></pre>\n<p>My TypeHandler implementation for the varray parameter:</p>\n<pre><code>package com.ubiss.domain.lookoutMdl;\n\nimport java.sql.Array;\nimport java.sql.CallableStatement;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Struct;\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.apache.ibatis.type.JdbcType;\nimport org.apache.ibatis.type.TypeHandler;\n\nimport oracle.jdbc.driver.OracleConnection;\n\npublic class OutTextTypeHandler implements TypeHandler&lt;OutText&gt; {\n\n    @Override\n    public void setParameter(PreparedStatement ps, int i, OutText parameter, JdbcType jdbcType) throws SQLException {\n        OracleConnection conn = ps.getConnection().unwrap(OracleConnection.class);\n        List&lt;Struct&gt; structs = new ArrayList&lt;Struct&gt;();\n        if (parameter != null) {\n            Object[] obj = parameter.getOutText();\n            structs.add(conn.createStruct(&quot;SUPPORTO.ARR_TEXT_OUT&quot;, obj));\n        }\n        Array array = conn.createOracleArray(&quot;SUPPORTO.ARR_TEXT_OUT&quot;, structs.toArray());\n        ps.setArray(i, array);\n        array.free();\n    }\n\n    @Override\n    public OutText getResult(ResultSet rs, String columnName) throws SQLException {\n        // TODO Auto-generated method stub\n        return (OutText) rs.getArray(columnName);\n    }\n\n    @Override\n    public OutText getResult(ResultSet rs, int columnIndex) throws SQLException {\n        // TODO Auto-generated method stub\n        return (OutText) rs.getArray(columnIndex);\n    }\n\n    @Override\n    public OutText getResult(CallableStatement cs, int columnIndex) throws SQLException {\n        // TODO Auto-generated method stub\n        return (OutText) cs.getArray(columnIndex);\n    }\n\n}\n</code></pre>\n<p>My mapper Errore101Mapper.xml:</p>\n<pre><code>&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;\n\n&lt;mapper namespace=&quot;com.ubiss.dao.lookoutMdl.errori.Errore101Dao&quot;&gt;\n    &lt;select id=&quot;resolve&quot; statementType=&quot;CALLABLE&quot;\n        parameterType=&quot;com.ubiss.domain.lookoutMdl.Mdl101Parameter&quot;\n        resultMap=&quot;resolveResultMap&quot;&gt;\n        {call SUPPORTO.PKG_AMM_LOOKOUT.pr_resolveMDL101(\n        #{idProcesso, mode=IN, jdbcType=NUMERIC},\n        #{outText,jdbcType=ARRAY, mode=OUT}\n        )}\n    &lt;/select&gt;\n    \n    &lt;resultMap id=&quot;resolveResultMap&quot;\n        type=&quot;com.ubiss.domain.lookoutMdl.Mdl101Parameter&quot;&gt;\n        &lt;id column=&quot;IN_id_processo&quot; property=&quot;idProcesso&quot; /&gt;\n        &lt;id column=&quot;OUT_text&quot; property=&quot;outText&quot; typeHandler=&quot;com.ubiss.domain.lookoutMdl.OutTextTypeHandler&quot;/&gt;\n    &lt;/resultMap&gt;\n&lt;/mapper&gt;\n</code></pre>\n<p>My myBatisV3-config.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE configuration PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;\n&lt;configuration&gt;\n\n    &lt;settings&gt;\n        &lt;setting name=&quot;jdbcTypeForNull&quot; value=&quot;NULL&quot; /&gt;\n    &lt;/settings&gt;\n    \n    &lt;typeAliases&gt;\n    &lt;/typeAliases&gt;\n    \n    &lt;typeHandlers&gt;\n        &lt;typeHandler handler=&quot;com.ubiss.domain.logger.ElencoCampiTypeHandler&quot; javaType=&quot;com.ubiss.domain.logger.ElencoCampiModificati&quot;/&gt;\n        &lt;typeHandler handler=&quot;com.ubiss.domain.lookoutMdl.OutTextTypeHandler&quot; javaType=&quot;com.ubiss.domain.lookoutMdl.OutText&quot;/&gt;      \n    &lt;/typeHandlers&gt;\n    \n    &lt;mappers&gt;\n        &lt;mapper resource=&quot;/configImiweb/maps/GestioneAnagraficaMapper.xml&quot; /&gt;\n        &lt;mapper resource=&quot;/configImiweb/maps/CensimentoTitoliMapper.xml&quot; /&gt;\n        &lt;mapper resource=&quot;/configImiweb/maps/RisottomissioneMovimentiEseguiti.xml&quot; /&gt;\n        &lt;mapper resource=&quot;/configImiweb/maps/GestionePortafoglioClienteMapper.xml&quot; /&gt;\n        &lt;mapper resource=&quot;/configImiweb/maps/AggiornamentoAnagraficaTitoliMapper.xml&quot; /&gt;\n        &lt;mapper resource=&quot;/configImiweb/maps/LoggerMapper.xml&quot; /&gt;\n        &lt;mapper resource=&quot;/configImiweb/maps/PiattaformeInformativaMapper.xml&quot; /&gt;\n        &lt;mapper resource=&quot;/configImiweb/maps/GestioneDipendenzeMapper.xml&quot; /&gt;\n        &lt;mapper resource=&quot;/configImiweb/maps/GestioneAgreementMapper.xml&quot; /&gt;\n        &lt;mapper resource=&quot;/configImiweb/maps/GestioneTabellaServiziClienteMapper.xml&quot; /&gt;\n        &lt;mapper resource=&quot;/configImiweb/maps/GestionePiattaformaClienteMapper.xml&quot; /&gt;\n        &lt;mapper resource=&quot;/configImiweb/maps/GestioneAgreementClienteMapper.xml&quot; /&gt;\n        &lt;mapper resource=&quot;/configImiweb/maps/AggiornamentoPrezziOTCMapper.xml&quot; /&gt;\n        &lt;mapper resource=&quot;/configImiweb/maps/GestioneMercatoMapper.xml&quot; /&gt;\n        &lt;mapper resource=&quot;/configImiweb/maps/GestioneStrumentoMapper.xml&quot; /&gt;\n        &lt;mapper resource=&quot;/configImiweb/maps/TbAccessoSottorubricaMapper.xml&quot; /&gt;\n        &lt;mapper resource=&quot;/configImiweb/maps/TbPersonaMapper.xml&quot; /&gt;\n        &lt;mapper resource=&quot;/configImiweb/maps/TbLoginMapper.xml&quot; /&gt;\n        &lt;mapper resource=&quot;/configImiweb/maps/TbDossierMapper.xml&quot; /&gt;\n        &lt;mapper resource=&quot;/configImiweb/maps/TbAccessoInternetMapper.xml&quot; /&gt;\n        &lt;mapper resource=&quot;/configImiweb/maps/TbCashAmountsMapper.xml&quot; /&gt;\n        &lt;mapper resource=&quot;/configImiweb/maps/TbGruppoMapper.xml&quot; /&gt;\n        &lt;mapper resource=&quot;/configImiweb/maps/TbUtenzaRtkMapper.xml&quot; /&gt;\n        &lt;mapper resource=&quot;/configImiweb/maps/TbCcMapper.xml&quot; /&gt;\n        &lt;mapper resource=&quot;/configImiweb/maps/TbHbAccessoCcMapper.xml&quot; /&gt;\n        &lt;mapper resource=&quot;/configImiweb/maps/TbRelClienteGruppoMapper.xml&quot; /&gt;\n        &lt;mapper resource=&quot;/configImiweb/maps/ScadenzaDerivatiMapper.xml&quot; /&gt;\n        &lt;mapper resource=&quot;/configImiweb/maps/EsitoProcessiMapper.xml&quot; /&gt;     \n        &lt;mapper resource=&quot;/configImiweb/maps/StoricoOrdiniMapper.xml&quot; /&gt;\n        &lt;mapper resource=&quot;/configImiweb/maps/Errore101Mapper.xml&quot; /&gt;                    \n    &lt;/mappers&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>During the build and the start of the jboss application I don't get any errors. But then when the dao method resolve() is called I get the following error:</p>\n<blockquote>\n<p>SQL state [99999]; error code [17068]; ; nested exception is java.sql.SQLException:\nerror while setting parameters</p>\n</blockquote>\n<p>I tried to but a breakpoint in the methods of the TypeHandler but it seems it does not come into those methods and the error occurs before. And it also seems like I can't use the ArrayTypeHandler built in iBatis because I have a 3.4 version of batis.</p>\n<p>From the stack trace it seems like the error is setting the OUT parameter of the stored procedure (OUT_text OUT ARR_TEXT_OUT)\nPlease let me know if you have any clue of what the cause could be.</p>\n"},{"tags":["java","spring","spring-boot","jpa","java-17"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1690437860,"post_id":76775773,"comment_id":135354328,"body_markdown":"I would try to add a second annotation @CreationTimestamp","body":"I would try to add a second annotation @CreationTimestamp"},{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":2,"creation_date":1690445809,"post_id":76775773,"comment_id":135355743,"body_markdown":"Another way is to add a `@PrePersist` listener that fills in `createdAt`.","body":"Another way is to add a <code>@PrePersist</code> listener that fills in <code>createdAt</code>."},{"owner":{"account_id":19317142,"reputation":97,"user_id":14121658,"display_name":"jnasworld223"},"score":0,"creation_date":1690664503,"post_id":76775773,"comment_id":135385968,"body_markdown":"@NikosParaskevopoulos That worked! If you post that as an answer I&#39;ll accept it.","body":"@NikosParaskevopoulos That worked! If you post that as an answer I&#39;ll accept it."},{"owner":{"account_id":19317142,"reputation":97,"user_id":14121658,"display_name":"jnasworld223"},"score":0,"creation_date":1690664632,"post_id":76775773,"comment_id":135385981,"body_markdown":"@Mar-Z You cannot have `@CreationTimestamp` and `@UpdateTimestamp` on the same variable. Having just `@CreationTimestamp` does not get rid of the issue.","body":"@Mar-Z You cannot have <code>@CreationTimestamp</code> and <code>@UpdateTimestamp</code> on the same variable. Having just <code>@CreationTimestamp</code> does not get rid of the issue."}],"answers":[{"tags":[],"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690719630,"creation_date":1690719630,"answer_id":76797720,"question_id":76775773,"body_markdown":"A generic and JPA-standard way to modify the content of an entity in response to its storage operations (create, update, read, delete) is the mechanism of Entity Listeners, described in ch 3.5 of the JPA 2.1 specification. For this case specifically, the `@PrePersist` listener method, that JPA calls just before persisting an entity (creating/inserting the DB records).\r\n\r\nYou can place the listener in the entity class itself, e.g.:\r\n\r\n```lang-java\r\n@Entity\r\n@Table(name = &quot;permissions&quot;, schema = &quot;auth&quot;)\r\n@IdClass(PermissionId.class)\r\npublic class Permission implements Serializable {\r\n  ...\r\n\r\n  @Id\r\n  @Column(name = &quot;createdat&quot;)\r\n  private Instant createdAt;\r\n\r\n  @PrePersist\r\n  void prePersist() {\r\n    this.createdAt = Instant.now();\r\n  }\r\n\r\n  ...\r\n}\r\n```\r\n\r\nOr in a different class like:\r\n\r\n```lang-java\r\npublic class PermissionEntityListener {\r\n  @PrePersist\r\n  void prePersist(Permission entity) { // method name can be anything\r\n    entity.setCreatedAt(Instant.now());\r\n  }\r\n}\r\n```\r\n\r\nIf the listener is in a separate class, you have to activate it either with an annotation in the entity class:\r\n\r\n```lang-java\r\n@Entity\r\n@Table(name = &quot;permissions&quot;, schema = &quot;auth&quot;)\r\n@IdClass(PermissionId.class)\r\n@EntityListeners(PermissionEntityListener.class) // &lt;----- HERE\r\npublic class Permission implements Serializable {\r\n  ...\r\n}\r\n```\r\n\r\nOr in the XML descriptor, `META-INF/orm.xml`:\r\n\r\n```lang-xml\r\n&lt;entity-mappings&gt;\r\n  ...\r\n  &lt;entity-listeners&gt;&lt;!-- can be found at different places, please check specs --&gt;\r\n    &lt;entity-listener class=&quot;com.yourpackage.PermissionEntityListener&quot;&gt;\r\n      &lt;pre-persist method-name=&quot;prePersist&quot; /&gt;\r\n    &lt;/entity-listener&gt;\r\n  &lt;/entity-listeners&gt;\r\n  ...\r\n&lt;/entity-mappings&gt;\r\n```\r\n\r\nThere are lots of information online and in the specs for the Entity Listeners.","title":"How can I make a JPA entity append only where the composite key includes a timestamp?","body":"<p>A generic and JPA-standard way to modify the content of an entity in response to its storage operations (create, update, read, delete) is the mechanism of Entity Listeners, described in ch 3.5 of the JPA 2.1 specification. For this case specifically, the <code>@PrePersist</code> listener method, that JPA calls just before persisting an entity (creating/inserting the DB records).</p>\n<p>You can place the listener in the entity class itself, e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;permissions&quot;, schema = &quot;auth&quot;)\n@IdClass(PermissionId.class)\npublic class Permission implements Serializable {\n  ...\n\n  @Id\n  @Column(name = &quot;createdat&quot;)\n  private Instant createdAt;\n\n  @PrePersist\n  void prePersist() {\n    this.createdAt = Instant.now();\n  }\n\n  ...\n}\n</code></pre>\n<p>Or in a different class like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class PermissionEntityListener {\n  @PrePersist\n  void prePersist(Permission entity) { // method name can be anything\n    entity.setCreatedAt(Instant.now());\n  }\n}\n</code></pre>\n<p>If the listener is in a separate class, you have to activate it either with an annotation in the entity class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = &quot;permissions&quot;, schema = &quot;auth&quot;)\n@IdClass(PermissionId.class)\n@EntityListeners(PermissionEntityListener.class) // &lt;----- HERE\npublic class Permission implements Serializable {\n  ...\n}\n</code></pre>\n<p>Or in the XML descriptor, <code>META-INF/orm.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;entity-mappings&gt;\n  ...\n  &lt;entity-listeners&gt;&lt;!-- can be found at different places, please check specs --&gt;\n    &lt;entity-listener class=&quot;com.yourpackage.PermissionEntityListener&quot;&gt;\n      &lt;pre-persist method-name=&quot;prePersist&quot; /&gt;\n    &lt;/entity-listener&gt;\n  &lt;/entity-listeners&gt;\n  ...\n&lt;/entity-mappings&gt;\n</code></pre>\n<p>There are lots of information online and in the specs for the Entity Listeners.</p>\n"}],"owner":{"account_id":19317142,"reputation":97,"user_id":14121658,"display_name":"jnasworld223"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76797720,"answer_count":1,"score":0,"last_activity_date":1690719630,"creation_date":1690416423,"question_id":76775773,"body_markdown":"I have a database where the primary key is a composite key which is composed of a varchar and a timestamp. Each time an entity is modified or inserted, a new entry is added to the database. \r\n\r\nHow can I model this with a JPA repository? This is what I have right now.\r\n\r\nRelevant parts of entity class:\r\n```\r\n@Entity\r\n@Table(name = &quot;permissions&quot;, schema = &quot;auth&quot;)\r\n@IdClass(PermissionId.class)\r\npublic class Permission implements Serializable {\r\n\r\n  @Id\r\n  @Column(name = &quot;permissionid&quot;)\r\n  private String permissionId;\r\n\r\n  @Id\r\n  @Column(name = &quot;createdat&quot;)\r\n  @UpdateTimestamp\r\n  private Instant createdAt;\r\n...\r\n}\r\n```\r\n\r\nID class:\r\n```\r\npublic class PermissionId implements Serializable {\r\n    private String permissionId;\r\n    private Instant createdAt;\r\n}\r\n```\r\n\r\nWhen I create a new entity, I get an error saying that createdAt cannot be null. How can I achieve my desired behavior? I cannot change the database schema.\r\n\r\n**Edit**\r\n\r\nI found a workaround\r\n```\r\n@Query(\r\n        value = &quot;INSERT INTO auth.permissions (permissionID, createdAt,...) VALUES (:permissionID, NOW(), ...)&quot;,\r\n        nativeQuery = true\r\n)\r\n@Modifying\r\nrecordPermission(String permissionID, ...);\r\n```\r\nThis works, but I&#39;m still interested in knowing if there is a &quot;correct &quot; way to do it.","title":"How can I make a JPA entity append only where the composite key includes a timestamp?","body":"<p>I have a database where the primary key is a composite key which is composed of a varchar and a timestamp. Each time an entity is modified or inserted, a new entry is added to the database.</p>\n<p>How can I model this with a JPA repository? This is what I have right now.</p>\n<p>Relevant parts of entity class:</p>\n<pre><code>@Entity\n@Table(name = &quot;permissions&quot;, schema = &quot;auth&quot;)\n@IdClass(PermissionId.class)\npublic class Permission implements Serializable {\n\n  @Id\n  @Column(name = &quot;permissionid&quot;)\n  private String permissionId;\n\n  @Id\n  @Column(name = &quot;createdat&quot;)\n  @UpdateTimestamp\n  private Instant createdAt;\n...\n}\n</code></pre>\n<p>ID class:</p>\n<pre><code>public class PermissionId implements Serializable {\n    private String permissionId;\n    private Instant createdAt;\n}\n</code></pre>\n<p>When I create a new entity, I get an error saying that createdAt cannot be null. How can I achieve my desired behavior? I cannot change the database schema.</p>\n<p><strong>Edit</strong></p>\n<p>I found a workaround</p>\n<pre><code>@Query(\n        value = &quot;INSERT INTO auth.permissions (permissionID, createdAt,...) VALUES (:permissionID, NOW(), ...)&quot;,\n        nativeQuery = true\n)\n@Modifying\nrecordPermission(String permissionID, ...);\n</code></pre>\n<p>This works, but I'm still interested in knowing if there is a &quot;correct &quot; way to do it.</p>\n"},{"tags":["java","user-interface","swing","tree"],"answers":[{"tags":[],"owner":{"account_id":41815,"reputation":539,"user_id":121618,"accept_rate":80,"display_name":"Jill"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690719071,"creation_date":1277146160,"answer_id":3087523,"question_id":3087130,"body_markdown":"You need to update the model.\r\n\r\nPer the default tree model api: \r\n\r\nhttp://java.sun.com/javase/6/docs/api/javax/swing/tree/DefaultTreeModel.html\r\n\r\nAfter you add a node, then you need \r\nto tell the model that the node was added; which will tell the ui to refresh properly.\r\n\r\nFor example:\r\n\r\n    nodesWereInserted(TreeNode node, int[] childIndices)\r\n              \r\nInvoke this method after you&#39;ve inserted some TreeNodes into node.p","title":"Letting User add Nodes to a JTree, nodes do not appear if parent has EVER been expanded","body":"<p>You need to update the model.</p>\n<p>Per the default tree model api:</p>\n<p><a href=\"http://java.sun.com/javase/6/docs/api/javax/swing/tree/DefaultTreeModel.html\" rel=\"nofollow noreferrer\">http://java.sun.com/javase/6/docs/api/javax/swing/tree/DefaultTreeModel.html</a></p>\n<p>After you add a node, then you need\nto tell the model that the node was added; which will tell the ui to refresh properly.</p>\n<p>For example:</p>\n<pre><code>nodesWereInserted(TreeNode node, int[] childIndices)\n          \n</code></pre>\n<p>Invoke this method after you've inserted some TreeNodes into node.p</p>\n"},{"tags":[],"owner":{"account_id":19005664,"reputation":43,"user_id":13872480,"display_name":"pbvelikov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690719143,"creation_date":1690296820,"answer_id":76763930,"question_id":3087130,"body_markdown":"After changing some node (adding child nodes to *yourNode*), you can call this:\r\n\r\n    ((DefaultTreeModel)yourTree.getModel()).nodeStructureChanged((DefaultMutableTreeNode) yourNode);\r\n\r\nI found this information here: https://coderanch.com/t/340158/java/Jtree-won-refresh-child-nodes","title":"Letting User add Nodes to a JTree, nodes do not appear if parent has EVER been expanded","body":"<p>After changing some node (adding child nodes to <em>yourNode</em>), you can call this:</p>\n<pre><code>((DefaultTreeModel)yourTree.getModel()).nodeStructureChanged((DefaultMutableTreeNode) yourNode);\n</code></pre>\n<p>I found this information here: <a href=\"https://coderanch.com/t/340158/java/Jtree-won-refresh-child-nodes\" rel=\"nofollow noreferrer\">https://coderanch.com/t/340158/java/Jtree-won-refresh-child-nodes</a></p>\n"}],"owner":{"account_id":624599,"reputation":21,"user_id":372428,"display_name":"Riley Siebel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":727,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1690719143,"creation_date":1277143091,"question_id":3087130,"body_markdown":"I have a problem with inserting nodes in a JTree.  Basically the user right clicks on a parent node, bringing up a list of the possible children to insert.  They select one it is inserted as a child of the selected node.  This all works great when the parent node has never been expanded.  However, if the parent node of the node the user is trying to insert has EVER been expanded, the UI doesn&#39;t seem to update accordingly.\r\n\r\nHere are the relevant lines of code:\r\n  Creating the JTree:  `this.tree = new JTree(ctlr.getRulesTableTreeModel().getModel());`\r\n  The getModel() method returns a DefaultTreeModel models the original tree hierarchy.\r\n\r\n  Inserting a Node: `this.treeModel.insertNodeInto(child, parent, index);`\r\n\r\nSorry for not giving more code, but this project is like 3000 lines long, I&#39;m trying to pick out the relevant lines.\r\n","title":"Letting User add Nodes to a JTree, nodes do not appear if parent has EVER been expanded","body":"<p>I have a problem with inserting nodes in a JTree.  Basically the user right clicks on a parent node, bringing up a list of the possible children to insert.  They select one it is inserted as a child of the selected node.  This all works great when the parent node has never been expanded.  However, if the parent node of the node the user is trying to insert has EVER been expanded, the UI doesn't seem to update accordingly.</p>\n\n<p>Here are the relevant lines of code:\n  Creating the JTree:  <code>this.tree = new JTree(ctlr.getRulesTableTreeModel().getModel());</code>\n  The getModel() method returns a DefaultTreeModel models the original tree hierarchy.</p>\n\n<p>Inserting a Node: <code>this.treeModel.insertNodeInto(child, parent, index);</code></p>\n\n<p>Sorry for not giving more code, but this project is like 3000 lines long, I'm trying to pick out the relevant lines.</p>\n"},{"tags":["java","rsa","number-theory"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1690555022,"post_id":76788760,"comment_id":135374588,"body_markdown":"`sqrt(13) mod n` makes little to no sense with n being 138885020192920482087634472213565258211. What is the point of `mod` if the value you `mod` is soooooo far away from the `mod`? Don&#39;t you maybe want to compute e.g. `p * q mod 13` instead?","body":"<code>sqrt(13) mod n</code> makes little to no sense with n being 138885020192920482087634472213565258211. What is the point of <code>mod</code> if the value you <code>mod</code> is soooooo far away from the <code>mod</code>? Don&#39;t you maybe want to compute e.g. <code>p * q mod 13</code> instead?"},{"owner":{"account_id":20299504,"reputation":47,"user_id":14889279,"display_name":"HygrowCarpets"},"score":0,"creation_date":1690555591,"post_id":76788760,"comment_id":135374732,"body_markdown":"It makes no sense to me too. This question was given to me as a practice question and I&#39;ve been ripping my hair out trying to understand it.","body":"It makes no sense to me too. This question was given to me as a practice question and I&#39;ve been ripping my hair out trying to understand it."},{"owner":{"account_id":5293653,"reputation":2333,"user_id":4225384,"display_name":"qrsngky"},"score":4,"creation_date":1690555632,"post_id":76788760,"comment_id":135374742,"body_markdown":"You mean you want to find `s` such that `s*s mod n = 13`, instead of &quot;to take a square root of 13 first, then calculate the result mod n&quot;.","body":"You mean you want to find <code>s</code> such that <code>s*s mod n = 13</code>, instead of &quot;to take a square root of 13 first, then calculate the result mod n&quot;."},{"owner":{"account_id":20299504,"reputation":47,"user_id":14889279,"display_name":"HygrowCarpets"},"score":0,"creation_date":1690555766,"post_id":76788760,"comment_id":135374777,"body_markdown":"I think you&#39;re rephrasing of the question may be correct. I&#39;ll try it again with this new understanding and I&#39;ll let you know if I got an answer","body":"I think you&#39;re rephrasing of the question may be correct. I&#39;ll try it again with this new understanding and I&#39;ll let you know if I got an answer"},{"owner":{"account_id":20299504,"reputation":47,"user_id":14889279,"display_name":"HygrowCarpets"},"score":0,"creation_date":1690557333,"post_id":76788760,"comment_id":135375105,"body_markdown":"I managed to find an answer using wolfram alpha for s*s mod n = 13. However, I still have no idea how to find this in java as a brute force method would take too long to compute","body":"I managed to find an answer using wolfram alpha for s*s mod n = 13. However, I still have no idea how to find this in java as a brute force method would take too long to compute"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":1,"creation_date":1690564446,"post_id":76788760,"comment_id":135376361,"body_markdown":"A quick search turns up https://en.wikipedia.org/wiki/Tonelli%E2%80%93Shanks_algorithm?wprov=sfla1 .","body":"A quick search turns up <a href=\"https://en.wikipedia.org/wiki/Tonelli%E2%80%93Shanks_algorithm?wprov=sfla1\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/&hellip;</a> ."},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":2,"creation_date":1690664411,"post_id":76788760,"comment_id":135385965,"body_markdown":"1) Compute the square roots of 13 mod p. 2) Compute the square roots of 13 mod q. 3) Using the Chinese remainder theorem, compute the square roots of 13 mod p\\*q. You may have as many as 4 square roots of 13 mod p\\*q.","body":"1) Compute the square roots of 13 mod p. 2) Compute the square roots of 13 mod q. 3) Using the Chinese remainder theorem, compute the square roots of 13 mod p*q. You may have as many as 4 square roots of 13 mod p*q."},{"owner":{"account_id":85671,"reputation":40847,"user_id":238704,"display_name":"President James K. Polk"},"score":1,"creation_date":1690664545,"post_id":76788760,"comment_id":135385973,"body_markdown":"Also, your phrasing is just fine. Taking the square root of 13 mod n makes mathematical sense, despite claims to the contrary. See https://en.wikipedia.org/wiki/Quadratic_residue","body":"Also, your phrasing is just fine. Taking the square root of 13 mod n makes mathematical sense, despite claims to the contrary. See <a href=\"https://en.wikipedia.org/wiki/Quadratic_residue\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Quadratic_residue</a>"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1690701920,"post_id":76788760,"comment_id":135388203,"body_markdown":"Note that this has little to nothing to do with programming but is a math question instead, especially if you are lacking the mathematical foundational knowledge.","body":"Note that this has little to nothing to do with programming but is a math question instead, especially if you are lacking the mathematical foundational knowledge."}],"owner":{"account_id":20299504,"reputation":47,"user_id":14889279,"display_name":"HygrowCarpets"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":121,"favorite_count":0,"down_vote_count":3,"up_vote_count":3,"answer_count":0,"score":0,"last_activity_date":1690718646,"creation_date":1690554798,"question_id":76788760,"body_markdown":"I&#39;m trying to figure compute square root of 13 modulo n where: \r\n```\r\nn = p*q\r\nn = 138885020192920482087634472213565258211\r\np = 9968252547389207681\r\nq = 13932734903400492131\r\n```\r\nFinding a square root of s mod n means finding an x, 0 &lt;= x &lt; n, such that x&lt;sup&gt;2&lt;/sup&gt; = s mod n, or x&lt;sup&gt;2&lt;/sup&gt; - s = 0 mod n.\r\n\r\nI have no clue how to do this. I tried using Euler&#39;s theorem, Little Fermat Theorem and Chinese Remainder Theorem. I have no idea if I&#39;m using these methods incorrectly or if there&#39;s some other way of solving this.\r\n\r\n```\r\nimport java.math.BigInteger;\r\n\r\npublic class Q1 {\r\n\t\r\n\tpublic static void main(String args[]) {\r\n\t\t\r\n\t\tString pHex = &quot;8a5658e0b6843481&quot;;\r\n\t\tString qHex = &quot;c15b04936adf6c63&quot;;\r\n\t\t\r\n\t\t//Convert to BigInteger\r\n\t\tBigInteger p = new BigInteger(pHex, 16);\r\n\t\tBigInteger q = new BigInteger(qHex, 16);\r\n\t\t\r\n\t\tBigInteger n = p.multiply(q);\r\n\t\tSystem.out.println(&quot;p = &quot; + p);\r\n\t\tSystem.out.println(&quot;q = &quot; + q);\r\n\t\tSystem.out.println(&quot;n = &quot; + n);\r\n\t\t\r\n\t\t//THESE VIDEOS ARE HELPFUL - https://www.youtube.com/watch?v=_6f0vMfBDLA - https://www.youtube.com/watch?v=dSIkv9U5WO8\r\n\r\n\t\t//Eulers theorem\r\n\t\t//x^phi(n) = 1 mod n\r\n\t\t\r\n\t\t//s = sqrt(13) mod n\r\n\t\t//s^2 = 13 mod n\r\n\t\t\r\n\t\t//I HAVE NO CLUE\r\n\t\t//I TRIED LITTLE FERMAT THEOREM - EULCID THEOREM - CHINESE REMAINDER THEOREM\r\n\t\t\r\n\t\t//System.out.println(s);\r\n\t\t//System.out.println(s.toString(16));\r\n\t}\r\n}\r\n```","title":"Computing square root s = sqrt(13) mod n","body":"<p>I'm trying to figure compute square root of 13 modulo n where:</p>\n<pre><code>n = p*q\nn = 138885020192920482087634472213565258211\np = 9968252547389207681\nq = 13932734903400492131\n</code></pre>\n<p>Finding a square root of s mod n means finding an x, 0 &lt;= x &lt; n, such that x<sup>2</sup> = s mod n, or x<sup>2</sup> - s = 0 mod n.</p>\n<p>I have no clue how to do this. I tried using Euler's theorem, Little Fermat Theorem and Chinese Remainder Theorem. I have no idea if I'm using these methods incorrectly or if there's some other way of solving this.</p>\n<pre><code>import java.math.BigInteger;\n\npublic class Q1 {\n    \n    public static void main(String args[]) {\n        \n        String pHex = &quot;8a5658e0b6843481&quot;;\n        String qHex = &quot;c15b04936adf6c63&quot;;\n        \n        //Convert to BigInteger\n        BigInteger p = new BigInteger(pHex, 16);\n        BigInteger q = new BigInteger(qHex, 16);\n        \n        BigInteger n = p.multiply(q);\n        System.out.println(&quot;p = &quot; + p);\n        System.out.println(&quot;q = &quot; + q);\n        System.out.println(&quot;n = &quot; + n);\n        \n        //THESE VIDEOS ARE HELPFUL - https://www.youtube.com/watch?v=_6f0vMfBDLA - https://www.youtube.com/watch?v=dSIkv9U5WO8\n\n        //Eulers theorem\n        //x^phi(n) = 1 mod n\n        \n        //s = sqrt(13) mod n\n        //s^2 = 13 mod n\n        \n        //I HAVE NO CLUE\n        //I TRIED LITTLE FERMAT THEOREM - EULCID THEOREM - CHINESE REMAINDER THEOREM\n        \n        //System.out.println(s);\n        //System.out.println(s.toString(16));\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-webview"],"answers":[{"tags":[],"owner":{"account_id":2149059,"reputation":3106,"user_id":1905965,"display_name":"Amin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616299557,"creation_date":1616299557,"answer_id":66728747,"question_id":66726389,"body_markdown":"I&#39;m not sure but I feel you&#39;re setting the proxy after loading the url (`webView.loadUrl`) so it may not apply","title":"Set Proxy on WebView for API 26","body":"<p>I'm not sure but I feel you're setting the proxy after loading the url (<code>webView.loadUrl</code>) so it may not apply</p>\n"},{"tags":[],"owner":{"account_id":22445554,"reputation":11,"user_id":16649535,"display_name":"Coco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629909739,"creation_date":1629909739,"answer_id":68926848,"question_id":66726389,"body_markdown":"Very easy set proxy on your android webview app ✅\r\n\r\ncompile &#39;androidx.webkit:webkit:1.3.0&#39;\r\nsetProxy(); just load before your webview Url loading .\r\n\r\n```\r\nprivate void init() {\r\n    wv = findViewById(R.id.wv);\r\n    WebSettings webSettings = wv.getSettings();\r\n    webSettings.setSupportZoom(true);\r\n    webSettings.setJavaScriptEnabled(true);\r\n    wv.setWebViewClient(new WebViewClient() {\r\n        @Override\r\n        public void onReceivedHttpAuthRequest(WebView view, HttpAuthHandler handler, String host, String realm){\r\n            \r\n            handler.proceed(&quot;userName&quot;, &quot;password&quot;);\r\n        }\r\n    });\r\n    setProxy();\r\n    wv.loadUrl(&quot;https://www.google.com&quot;);\r\n}\r\n\r\nprivate void setProxy() {\r\n        ProxyConfig proxyConfig = new ProxyConfig.Builder()\r\n                .addProxyRule(&quot;123.123.123.123:1234&quot;)\r\n                .addDirect().build();\r\n        ProxyController.getInstance().setProxyOverride(proxyConfig, new Executor() {\r\n            @Override\r\n            public void execute(Runnable command) {\r\n                //do nothing\r\n            }\r\n        }, new Runnable() {\r\n            @Override\r\n            public void run() {\r\n                \r\n            }\r\n        });\r\n    }\r\n\r\n```\r\nEnjoy","title":"Set Proxy on WebView for API 26","body":"<p>Very easy set proxy on your android webview app ✅</p>\n<p>compile 'androidx.webkit:webkit:1.3.0'\nsetProxy(); just load before your webview Url loading .</p>\n<pre><code>private void init() {\n    wv = findViewById(R.id.wv);\n    WebSettings webSettings = wv.getSettings();\n    webSettings.setSupportZoom(true);\n    webSettings.setJavaScriptEnabled(true);\n    wv.setWebViewClient(new WebViewClient() {\n        @Override\n        public void onReceivedHttpAuthRequest(WebView view, HttpAuthHandler handler, String host, String realm){\n            \n            handler.proceed(&quot;userName&quot;, &quot;password&quot;);\n        }\n    });\n    setProxy();\n    wv.loadUrl(&quot;https://www.google.com&quot;);\n}\n\nprivate void setProxy() {\n        ProxyConfig proxyConfig = new ProxyConfig.Builder()\n                .addProxyRule(&quot;123.123.123.123:1234&quot;)\n                .addDirect().build();\n        ProxyController.getInstance().setProxyOverride(proxyConfig, new Executor() {\n            @Override\n            public void execute(Runnable command) {\n                //do nothing\n            }\n        }, new Runnable() {\n            @Override\n            public void run() {\n                \n            }\n        });\n    }\n\n</code></pre>\n<p>Enjoy</p>\n"}],"owner":{"account_id":20910996,"reputation":21,"user_id":15361916,"display_name":"Fardin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3502,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1690716763,"creation_date":1616273701,"question_id":66726389,"body_markdown":"firstly\r\nI have read all the answers written about questions similar to my question. But none of the solutions helped me.\r\n\r\nthis is my Webview Code\r\n\r\n\r\n    mWebView.loadUrl(siteUrl);       \r\n    mWebView.getSettings().setUserAgentString(ua);\t\t\r\n    mWebView.getSettings().setJavaScriptEnabled(true);\t\t\r\n    mWebView.getSettings().setDomStorageEnabled(true);\t\t\r\n    mWebView.setWebViewClient(new mWebViewClient());\r\n\r\n\r\ni tried to use this class\r\nhttps://gist.github.com/madeye/2297083\r\n\r\n\r\n\r\n\r\nAnd I used this code to set proxy\r\n\r\n    ProxySettings.setProxy(getApplicationContext(), &quot;x.x.x.x&quot;, 8080);\r\n\r\n\r\nI also tested this class\r\nhttps://gist.github.com/WanghongLin/50032a4d3933960454a7\r\n\r\n\r\nand\r\n\r\n    WebViewHttpProxy.setProxy(mWebView,&quot;x.x.x.x&quot;,8080);\r\n\r\nBut none of them worked. and proxy was not applied when i ran the app","title":"Set Proxy on WebView for API 26","body":"<p>firstly\nI have read all the answers written about questions similar to my question. But none of the solutions helped me.</p>\n<p>this is my Webview Code</p>\n<pre><code>mWebView.loadUrl(siteUrl);       \nmWebView.getSettings().setUserAgentString(ua);      \nmWebView.getSettings().setJavaScriptEnabled(true);      \nmWebView.getSettings().setDomStorageEnabled(true);      \nmWebView.setWebViewClient(new mWebViewClient());\n</code></pre>\n<p>i tried to use this class\n<a href=\"https://gist.github.com/madeye/2297083\" rel=\"nofollow noreferrer\">https://gist.github.com/madeye/2297083</a></p>\n<p>And I used this code to set proxy</p>\n<pre><code>ProxySettings.setProxy(getApplicationContext(), &quot;x.x.x.x&quot;, 8080);\n</code></pre>\n<p>I also tested this class\n<a href=\"https://gist.github.com/WanghongLin/50032a4d3933960454a7\" rel=\"nofollow noreferrer\">https://gist.github.com/WanghongLin/50032a4d3933960454a7</a></p>\n<p>and</p>\n<pre><code>WebViewHttpProxy.setProxy(mWebView,&quot;x.x.x.x&quot;,8080);\n</code></pre>\n<p>But none of them worked. and proxy was not applied when i ran the app</p>\n"},{"tags":["java","android-studio","kotlin","gradle"],"comments":[{"owner":{"account_id":1631551,"reputation":945,"user_id":1505969,"accept_rate":0,"display_name":"Durgesh Kumar"},"score":0,"creation_date":1681556103,"post_id":76021794,"comment_id":134077638,"body_markdown":"Try running out android studio with run as administrator","body":"Try running out android studio with run as administrator"},{"owner":{"account_id":13869114,"reputation":51,"user_id":12724536,"display_name":"Cactus"},"score":0,"creation_date":1681598865,"post_id":76021794,"comment_id":134082995,"body_markdown":"Similarly, no effect","body":"Similarly, no effect"}],"answers":[{"tags":[],"owner":{"account_id":28325382,"reputation":21,"user_id":21660635,"display_name":"Robot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1685788085,"creation_date":1681703229,"answer_id":76031590,"question_id":76021794,"body_markdown":"The problem I encountered is similar to yours, and I suspect it may be a compatibility issue between `Gradle plugin version` and `Gradle version`.\r\n\r\nI changed it to: `Gradle plugin version` and `Gradle version` `7.3.0`, `7.4`\r\n[][1]\r\n\r\nThen everything worked like before...\r\n\r\nYou&#39;ll find the Gradle Settings `File &gt; Project Structure...`\r\n\r\n [Android Gradle plugin release notes][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/GDDJz.png\r\n  [2]: https://developer.android.com/build/releases/gradle-plugin?hl=en","title":"Android Studio FAILURE: Build failed with an exception. PermittedSubclasses requires ASM9","body":"<p>The problem I encountered is similar to yours, and I suspect it may be a compatibility issue between <code>Gradle plugin version</code> and <code>Gradle version</code>.</p>\n<p>I changed it to: <code>Gradle plugin version</code> and <code>Gradle version</code> <code>7.3.0</code>, <code>7.4</code>\n<a href=\"https://i.stack.imgur.com/GDDJz.png\" rel=\"nofollow noreferrer\"></a></p>\n<p>Then everything worked like before...</p>\n<p>You'll find the Gradle Settings <code>File &gt; Project Structure...</code></p>\n<p><a href=\"https://developer.android.com/build/releases/gradle-plugin?hl=en\" rel=\"nofollow noreferrer\">Android Gradle plugin release notes</a></p>\n"},{"tags":[],"owner":{"account_id":9755346,"reputation":7480,"user_id":7232295,"accept_rate":86,"display_name":"Uddhav P. Gautam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688440348,"creation_date":1688440348,"answer_id":76609168,"question_id":76021794,"body_markdown":"I am using JDK 17, kotlin 1.8.22 and Gradle 8.1.1 and Android Gradle Plugin 8.0.2, and below works. We have to add kapt block inside android block in your module level build.gradle file. \r\n\r\n    plugins {\r\n        ... your config.\r\n        id(&quot;kotlin-kapt&quot;)\r\n        ... your config.\r\n    }\r\n    \r\n    android {\r\n        kapt {\r\n            javacOptions {\r\n                option(&quot;-Xmaxerrs&quot;, 500)\r\n                option(&quot;-Xlint:deprecation&quot;, true)\r\n                option(&quot;-Xlint:unchecked&quot;, true)\r\n            }\r\n            arguments {\r\n                arg(&quot;plugin&quot;, &quot;org.jetbrains.kotlin.kapt3:kotlin-allopen&quot;)\r\n                arg(&quot;plugin&quot;, &quot;org.jetbrains.kotlin.kapt3:kotlin-noarg&quot;)\r\n            }\r\n            useBuildCache = true\r\n        }\r\n\r\n        ... your config.\r\n    }","title":"Android Studio FAILURE: Build failed with an exception. PermittedSubclasses requires ASM9","body":"<p>I am using JDK 17, kotlin 1.8.22 and Gradle 8.1.1 and Android Gradle Plugin 8.0.2, and below works. We have to add kapt block inside android block in your module level build.gradle file.</p>\n<pre><code>plugins {\n    ... your config.\n    id(&quot;kotlin-kapt&quot;)\n    ... your config.\n}\n\nandroid {\n    kapt {\n        javacOptions {\n            option(&quot;-Xmaxerrs&quot;, 500)\n            option(&quot;-Xlint:deprecation&quot;, true)\n            option(&quot;-Xlint:unchecked&quot;, true)\n        }\n        arguments {\n            arg(&quot;plugin&quot;, &quot;org.jetbrains.kotlin.kapt3:kotlin-allopen&quot;)\n            arg(&quot;plugin&quot;, &quot;org.jetbrains.kotlin.kapt3:kotlin-noarg&quot;)\n        }\n        useBuildCache = true\n    }\n\n    ... your config.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20855182,"reputation":11,"user_id":15318706,"display_name":"Jiahui"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690716189,"creation_date":1690716189,"answer_id":76797521,"question_id":76021794,"body_markdown":"I encount this error(`PermittedSubclasses requires ASM9`) after upgrade AGP from 7.2.2 to 8.1.0 and Gradle 7.3.3 to 8.0.\r\n\r\nIn my scenario, I have a local plugin which is defined in other project and reference by `includeBuild` api. The plugin just implement the `AsmClassVisitorFactory` interface and create a `ClassVisitor`.\r\n\r\nTo solve the problem, you must check:\r\n1. the AGP and asm version in the plugin project&#39;s dependency.\r\n2. you `ClassVisitor` class must set the `api` constructor parameter to `Opcodes.ASM9`.\r\n\r\nFor example:\r\n```kotlin\r\n// build-logic/convention/build.gradle.kts\r\ndependencies {\r\n    val agpVersion = &quot;8.1.0&quot;\r\n    val kotlinVersion = &quot;1.8.20&quot;\r\n    val asmVersion = &quot;9.5&quot;\r\n    implementation(&quot;com.android.tools.build:gradle:$agpVersion&quot;)\r\n    implementation(&quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion&quot;)\r\n    implementation(&quot;org.ow2.asm:asm:$asmVersion&quot;)\r\n    implementation(&quot;org.ow2.asm:asm-commons:$asmVersion&quot;)\r\n    implementation(&quot;org.ow2.asm:asm-util:$asmVersion&quot;)\r\n}\r\n\r\n// file: build-logic/convention/src/main/kotlin/me/lijiahui/gradle/plugin/log/LogTransform.kt\r\nabstract class LogTransform : AsmClassVisitorFactory&lt;InstrumentationParameters.None&gt; {\r\n    override fun createClassVisitor(\r\n        classContext: ClassContext,\r\n        nextClassVisitor: ClassVisitor\r\n    ): ClassVisitor {\r\n        val className = classContext.currentClassData.className\r\n        log(&quot;createClassVisitor: $className&quot;)\r\n        return LogClassVisitor(Opcodes.ASM9, nextClassVisitor) // &lt;== Here\r\n    }\r\n    // ...\r\n}\r\n```","title":"Android Studio FAILURE: Build failed with an exception. PermittedSubclasses requires ASM9","body":"<p>I encount this error(<code>PermittedSubclasses requires ASM9</code>) after upgrade AGP from 7.2.2 to 8.1.0 and Gradle 7.3.3 to 8.0.</p>\n<p>In my scenario, I have a local plugin which is defined in other project and reference by <code>includeBuild</code> api. The plugin just implement the <code>AsmClassVisitorFactory</code> interface and create a <code>ClassVisitor</code>.</p>\n<p>To solve the problem, you must check:</p>\n<ol>\n<li>the AGP and asm version in the plugin project's dependency.</li>\n<li>you <code>ClassVisitor</code> class must set the <code>api</code> constructor parameter to <code>Opcodes.ASM9</code>.</li>\n</ol>\n<p>For example:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>// build-logic/convention/build.gradle.kts\ndependencies {\n    val agpVersion = &quot;8.1.0&quot;\n    val kotlinVersion = &quot;1.8.20&quot;\n    val asmVersion = &quot;9.5&quot;\n    implementation(&quot;com.android.tools.build:gradle:$agpVersion&quot;)\n    implementation(&quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlinVersion&quot;)\n    implementation(&quot;org.ow2.asm:asm:$asmVersion&quot;)\n    implementation(&quot;org.ow2.asm:asm-commons:$asmVersion&quot;)\n    implementation(&quot;org.ow2.asm:asm-util:$asmVersion&quot;)\n}\n\n// file: build-logic/convention/src/main/kotlin/me/lijiahui/gradle/plugin/log/LogTransform.kt\nabstract class LogTransform : AsmClassVisitorFactory&lt;InstrumentationParameters.None&gt; {\n    override fun createClassVisitor(\n        classContext: ClassContext,\n        nextClassVisitor: ClassVisitor\n    ): ClassVisitor {\n        val className = classContext.currentClassData.className\n        log(&quot;createClassVisitor: $className&quot;)\n        return LogClassVisitor(Opcodes.ASM9, nextClassVisitor) // &lt;== Here\n    }\n    // ...\n}\n</code></pre>\n"}],"owner":{"account_id":13869114,"reputation":51,"user_id":12724536,"display_name":"Cactus"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3649,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1690716189,"creation_date":1681555917,"question_id":76021794,"body_markdown":"After downgrade android studio from electric eel to giraffe, I can&#39;t build project. Android Studio throw exception `FAILURE: Build failed with an exception. PermittedSubclasses requires ASM9`\r\n\r\n```\r\nFAILURE: Build failed with an exception.\r\n\r\n* What went wrong:\r\nFailed to create Jar file C:\\Users\\Cactus\\gradle-7.0.2\\caches\\jars-8\\c5da5d03b7169cae3d2e5669b85ad090\\android.jar.\r\n&gt; PermittedSubclasses requires ASM9\r\n\r\n* Try:\r\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.GradleException: Failed to create Jar file C:\\Users\\Cactus\\gradle-7.0.2\\caches\\jars-8\\c5da5d03b7169cae3d2e5669b85ad090\\android.jar.\r\n\tat org.gradle.internal.classpath.ClasspathBuilder.jar(ClasspathBuilder.java:55)\r\n\tat org.gradle.internal.classpath.InstrumentingClasspathFileTransformer.instrument(InstrumentingClasspathFileTransformer.java:137)\r\n\tat org.gradle.internal.classpath.InstrumentingClasspathFileTransformer.transform(InstrumentingClasspathFileTransformer.java:132)\r\n\tat org.gradle.internal.classpath.InstrumentingClasspathFileTransformer.transform(InstrumentingClasspathFileTransformer.java:96)\r\n\tat org.gradle.internal.classpath.DefaultCachedClasspathTransformer$TransformFile.lambda$schedule$0(DefaultCachedClasspathTransformer.java:274)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\nCaused by: java.lang.UnsupportedOperationException: PermittedSubclasses requires ASM9\r\n\tat org.objectweb.asm.ClassVisitor.visitPermittedSubclass(ClassVisitor.java:266)\r\n\tat org.objectweb.asm.ClassReader.accept(ClassReader.java:683)\r\n\tat org.objectweb.asm.ClassReader.accept(ClassReader.java:401)\r\n\tat org.gradle.internal.classpath.InstrumentingClasspathFileTransformer.lambda$visitEntries$1(InstrumentingClasspathFileTransformer.java:153)\r\n\tat org.gradle.internal.classpath.ClasspathWalker.visitJarContents(ClasspathWalker.java:91)\r\n\tat org.gradle.internal.classpath.ClasspathWalker.visit(ClasspathWalker.java:55)\r\n\tat org.gradle.internal.classpath.InstrumentingClasspathFileTransformer.visitEntries(InstrumentingClasspathFileTransformer.java:148)\r\n\tat org.gradle.internal.classpath.InstrumentingClasspathFileTransformer.lambda$instrument$0(InstrumentingClasspathFileTransformer.java:139)\r\n\tat org.gradle.internal.classpath.ClasspathBuilder.buildJar(ClasspathBuilder.java:66)\r\n\tat org.gradle.internal.classpath.ClasspathBuilder.jar(ClasspathBuilder.java:53)\r\n\t... 7 more\r\n\r\n\r\n* Get more help at https://help.gradle.org\r\n\r\nBUILD FAILED in 9s\r\n\r\n```\r\n\r\n\r\nI was tried clean all cache, choose different JDK, but I got this error.","title":"Android Studio FAILURE: Build failed with an exception. PermittedSubclasses requires ASM9","body":"<p>After downgrade android studio from electric eel to giraffe, I can't build project. Android Studio throw exception <code>FAILURE: Build failed with an exception. PermittedSubclasses requires ASM9</code></p>\n<pre><code>FAILURE: Build failed with an exception.\n\n* What went wrong:\nFailed to create Jar file C:\\Users\\Cactus\\gradle-7.0.2\\caches\\jars-8\\c5da5d03b7169cae3d2e5669b85ad090\\android.jar.\n&gt; PermittedSubclasses requires ASM9\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.api.GradleException: Failed to create Jar file C:\\Users\\Cactus\\gradle-7.0.2\\caches\\jars-8\\c5da5d03b7169cae3d2e5669b85ad090\\android.jar.\n    at org.gradle.internal.classpath.ClasspathBuilder.jar(ClasspathBuilder.java:55)\n    at org.gradle.internal.classpath.InstrumentingClasspathFileTransformer.instrument(InstrumentingClasspathFileTransformer.java:137)\n    at org.gradle.internal.classpath.InstrumentingClasspathFileTransformer.transform(InstrumentingClasspathFileTransformer.java:132)\n    at org.gradle.internal.classpath.InstrumentingClasspathFileTransformer.transform(InstrumentingClasspathFileTransformer.java:96)\n    at org.gradle.internal.classpath.DefaultCachedClasspathTransformer$TransformFile.lambda$schedule$0(DefaultCachedClasspathTransformer.java:274)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\nCaused by: java.lang.UnsupportedOperationException: PermittedSubclasses requires ASM9\n    at org.objectweb.asm.ClassVisitor.visitPermittedSubclass(ClassVisitor.java:266)\n    at org.objectweb.asm.ClassReader.accept(ClassReader.java:683)\n    at org.objectweb.asm.ClassReader.accept(ClassReader.java:401)\n    at org.gradle.internal.classpath.InstrumentingClasspathFileTransformer.lambda$visitEntries$1(InstrumentingClasspathFileTransformer.java:153)\n    at org.gradle.internal.classpath.ClasspathWalker.visitJarContents(ClasspathWalker.java:91)\n    at org.gradle.internal.classpath.ClasspathWalker.visit(ClasspathWalker.java:55)\n    at org.gradle.internal.classpath.InstrumentingClasspathFileTransformer.visitEntries(InstrumentingClasspathFileTransformer.java:148)\n    at org.gradle.internal.classpath.InstrumentingClasspathFileTransformer.lambda$instrument$0(InstrumentingClasspathFileTransformer.java:139)\n    at org.gradle.internal.classpath.ClasspathBuilder.buildJar(ClasspathBuilder.java:66)\n    at org.gradle.internal.classpath.ClasspathBuilder.jar(ClasspathBuilder.java:53)\n    ... 7 more\n\n\n* Get more help at https://help.gradle.org\n\nBUILD FAILED in 9s\n\n</code></pre>\n<p>I was tried clean all cache, choose different JDK, but I got this error.</p>\n"},{"tags":["java","android","android-gradle-plugin","android-gradle-8"],"answers":[{"tags":[],"owner":{"account_id":2843880,"reputation":5219,"user_id":2442831,"display_name":"Lino"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689669702,"creation_date":1689669702,"answer_id":76710948,"question_id":76710915,"body_markdown":"As stated in the dialog, Gradle 8 requires JDK 17 and it seems you don&#39;t have it installed on your machine. \r\nTo do so, you should click on &quot;Download JDK...&quot;, select one of the available JDK 17 (for instance Corretto, Jetbrain etc) and restart the migration procedure.\r\n\r\nHope this helps","title":"Upgrade Android gradle plugin to 8.0.0 cannot let me select Java SDK","body":"<p>As stated in the dialog, Gradle 8 requires JDK 17 and it seems you don't have it installed on your machine.\nTo do so, you should click on &quot;Download JDK...&quot;, select one of the available JDK 17 (for instance Corretto, Jetbrain etc) and restart the migration procedure.</p>\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":16445373,"reputation":613,"user_id":11880323,"display_name":"cmak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690372762,"creation_date":1690372762,"answer_id":76771051,"question_id":76710915,"body_markdown":"Just download it and install it from the [Oracle site][1]. Make sure to setup the path variables correctly depending on your system.\r\n\r\n\r\n  [1]: https://www.oracle.com/es/java/technologies/downloads/","title":"Upgrade Android gradle plugin to 8.0.0 cannot let me select Java SDK","body":"<p>Just download it and install it from the <a href=\"https://www.oracle.com/es/java/technologies/downloads/\" rel=\"nofollow noreferrer\">Oracle site</a>. Make sure to setup the path variables correctly depending on your system.</p>\n"}],"owner":{"account_id":952605,"reputation":11497,"user_id":978461,"accept_rate":73,"display_name":"Adam Varhegyi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690716028,"creation_date":1689669425,"question_id":76710915,"body_markdown":"I&#39;m trying to upgrade my **Android gradle plugin to 8.0.0.**\r\n\r\nIt seems Android Studio has a bug and **cannot let me select the Java SDK.**\r\n\r\nOr to be more precise, it lets me to select it but **the &quot;Run selected steps&quot; button remains disabled/grey.**\r\n\r\nAlso, the **&quot;Upgrade project JDK for running Gradle&quot; bullet point still remains marked with an error.**\r\n\r\nSee the screenshot below.\r\n\r\n*Is there any way to do this manually or something?*\r\n\r\nThanks in advance.\r\n\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n**EDIT:** I&#39;ve downloaded Coretto 20 and the error is still there.\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/kvMJM.png\r\n  [2]: https://i.stack.imgur.com/3A63c.png\r\n\r\n**EDIT 2:** Haha it works with Corretto 17, BUT ONLY with 17 and not with 20\r\n\r\nAnd after that, it fails again:\r\n\r\n    Unable to start the daemon process.\r\n    This problem might be caused by incorrect configuration of the daemon.\r\n    For example, an unrecognized jvm option is used.\r\n    Please refer to the User Manual chapter on the daemon at https://docs.gradle.org/8.0/userguide/gradle_daemon.html\r\n    Process command line: C:\\Users\\Joska\\.jdks\\corretto-17.0.8\\bin\\java.exe -XX:MaxPermSize=512m --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.prefs/java.util.prefs=ALL-UNNAMED --add-opens=java.base/java.nio.charset=ALL-UNNAMED --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED -Xmx1024m -Dfile.encoding=windows-1250 -Duser.country=HU -Duser.language=hu -Duser.variant -cp C:\\Users\\Joska\\.gradle\\wrapper\\dists\\gradle-8.0-bin\\ca5e32bp14vu59qr306oxotwh\\gradle-8.0\\lib\\gradle-launcher-8.0.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 8.0\r\n    Please read the following process output to find out more:\r\n    -----------------------\r\n    Unrecognized VM option &#39;MaxPermSize=512m&#39;\r\n    Error: Could not create the Java Virtual Machine.\r\n    Error: A fatal exception has occurred. Program will exit.\r\n    \r\n    -----------------------\r\n    Check the JVM arguments defined for the gradle process in:\r\n     - &lt;a href=&quot;C:\\android_projects\\my-app-android\\gradle.properties&quot;&gt;gradle.properties&lt;/a&gt; in project root directory","title":"Upgrade Android gradle plugin to 8.0.0 cannot let me select Java SDK","body":"<p>I'm trying to upgrade my <strong>Android gradle plugin to 8.0.0.</strong></p>\n<p>It seems Android Studio has a bug and <strong>cannot let me select the Java SDK.</strong></p>\n<p>Or to be more precise, it lets me to select it but <strong>the &quot;Run selected steps&quot; button remains disabled/grey.</strong></p>\n<p>Also, the <strong>&quot;Upgrade project JDK for running Gradle&quot; bullet point still remains marked with an error.</strong></p>\n<p>See the screenshot below.</p>\n<p><em>Is there any way to do this manually or something?</em></p>\n<p>Thanks in advance.</p>\n<p><a href=\"https://i.stack.imgur.com/kvMJM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kvMJM.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>EDIT:</strong> I've downloaded Coretto 20 and the error is still there.</p>\n<p><a href=\"https://i.stack.imgur.com/3A63c.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3A63c.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>EDIT 2:</strong> Haha it works with Corretto 17, BUT ONLY with 17 and not with 20</p>\n<p>And after that, it fails again:</p>\n<pre><code>Unable to start the daemon process.\nThis problem might be caused by incorrect configuration of the daemon.\nFor example, an unrecognized jvm option is used.\nPlease refer to the User Manual chapter on the daemon at https://docs.gradle.org/8.0/userguide/gradle_daemon.html\nProcess command line: C:\\Users\\Joska\\.jdks\\corretto-17.0.8\\bin\\java.exe -XX:MaxPermSize=512m --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.lang.invoke=ALL-UNNAMED --add-opens=java.prefs/java.util.prefs=ALL-UNNAMED --add-opens=java.base/java.nio.charset=ALL-UNNAMED --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED -Xmx1024m -Dfile.encoding=windows-1250 -Duser.country=HU -Duser.language=hu -Duser.variant -cp C:\\Users\\Joska\\.gradle\\wrapper\\dists\\gradle-8.0-bin\\ca5e32bp14vu59qr306oxotwh\\gradle-8.0\\lib\\gradle-launcher-8.0.jar org.gradle.launcher.daemon.bootstrap.GradleDaemon 8.0\nPlease read the following process output to find out more:\n-----------------------\nUnrecognized VM option 'MaxPermSize=512m'\nError: Could not create the Java Virtual Machine.\nError: A fatal exception has occurred. Program will exit.\n\n-----------------------\nCheck the JVM arguments defined for the gradle process in:\n - &lt;a href=&quot;C:\\android_projects\\my-app-android\\gradle.properties&quot;&gt;gradle.properties&lt;/a&gt; in project root directory\n</code></pre>\n"},{"tags":["java","maven","spring-cloud-dataflow","spring-cloud-task"],"answers":[{"tags":[],"owner":{"account_id":6332711,"reputation":147,"user_id":4917167,"accept_rate":50,"display_name":"Evandro"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1675362207,"creation_date":1675362207,"answer_id":75327432,"question_id":75327177,"body_markdown":"The reason it is not working is that ```org.springframework.cloud.task.Task``` does not exist. \r\n\r\nMaybe you were trying to implement ```org.springframework.cloud.task.configuration.TaskConfigurer``` ?","title":"The import org.springframework.cloud.task.Task cannot be resolved","body":"<p>The reason it is not working is that <code>org.springframework.cloud.task.Task</code> does not exist.</p>\n<p>Maybe you were trying to implement <code>org.springframework.cloud.task.configuration.TaskConfigurer</code> ?</p>\n"},{"tags":[],"owner":{"account_id":80984,"reputation":825,"user_id":228649,"display_name":"Corneil du Plessis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1675442530,"creation_date":1675442530,"answer_id":75338672,"question_id":75327177,"body_markdown":"Please update your Spring Boot Version to 2.7.8\r\n\r\nPlease replace the following in your pom.xml\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-cloud-task-core&lt;/artifactId&gt;\r\n    &lt;version&gt;2.4.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nwith\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-cloud-starter-task&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```","title":"The import org.springframework.cloud.task.Task cannot be resolved","body":"<p>Please update your Spring Boot Version to 2.7.8</p>\n<p>Please replace the following in your pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-task-core&lt;/artifactId&gt;\n    &lt;version&gt;2.4.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>with</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-task&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":23727023,"reputation":1,"user_id":17746783,"display_name":"Santosh Mallah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690715808,"creation_date":1675360761,"question_id":75327177,"body_markdown":"Trying to write a custom task in Spring Cloud Dataflow which will create a Spring Batch application that implements the Task interface provided by the Spring Cloud Task.\r\n\r\nI have try all possible ways to implement this but I am getting this error \r\n\r\n&gt; The import org.springframework.cloud.task.Task cannot be resolved\r\n\r\nI have added the following dependency in my project.\r\n\r\n```\r\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-cloud-task-example&lt;/artifactId&gt;\r\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n  &lt;packaging&gt;jar&lt;/packaging&gt;\r\n  &lt;name&gt;spring-cloud-task-example&lt;/name&gt;\r\n  &lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;2.4.1&lt;/version&gt;\r\n    &lt;relativePath /&gt;\r\n  &lt;/parent&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-cloud-task-core&lt;/artifactId&gt;\r\n      &lt;version&gt;2.4.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\nAnd this Java code:\r\n\r\n    package com.example.Test;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.cloud.task.Task;\r\n    import org.springframework.cloud.task.configuration.EnableTask;\r\n    \r\n    @EnableTask\r\n    @SpringBootApplication\r\n    public class SpringCloudTaskExample implements Task {\r\n    \r\n      public static void main(String[] args) {\r\n        SpringApplication.run(SpringCloudTaskExample.class, args);\r\n      }\r\n    \r\n      @Override\r\n      public void run(String... args) throws Exception {\r\n        System.out.println(&quot;Running Spring Cloud Task Example!&quot;);\r\n      }\r\n    }\r\n","title":"The import org.springframework.cloud.task.Task cannot be resolved","body":"<p>Trying to write a custom task in Spring Cloud Dataflow which will create a Spring Batch application that implements the Task interface provided by the Spring Cloud Task.</p>\n<p>I have try all possible ways to implement this but I am getting this error</p>\n<blockquote>\n<p>The import org.springframework.cloud.task.Task cannot be resolved</p>\n</blockquote>\n<p>I have added the following dependency in my project.</p>\n<pre><code>  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;com.example&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-cloud-task-example&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;jar&lt;/packaging&gt;\n  &lt;name&gt;spring-cloud-task-example&lt;/name&gt;\n  &lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;2.4.1&lt;/version&gt;\n    &lt;relativePath /&gt;\n  &lt;/parent&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-cloud-task-core&lt;/artifactId&gt;\n      &lt;version&gt;2.4.1&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>And this Java code:</p>\n<pre><code>package com.example.Test;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.task.Task;\nimport org.springframework.cloud.task.configuration.EnableTask;\n\n@EnableTask\n@SpringBootApplication\npublic class SpringCloudTaskExample implements Task {\n\n  public static void main(String[] args) {\n    SpringApplication.run(SpringCloudTaskExample.class, args);\n  }\n\n  @Override\n  public void run(String... args) throws Exception {\n    System.out.println(&quot;Running Spring Cloud Task Example!&quot;);\n  }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc","jsp","jboss"],"comments":[{"owner":{"account_id":25654570,"reputation":111,"user_id":19421233,"display_name":"Vidz Here"},"score":0,"creation_date":1690703997,"post_id":76796715,"comment_id":135388394,"body_markdown":"ClassNotFoundEx with jsp means, jsp isn&#39;t compiled. You can refer to similiar issue here .  https://stackoverflow.com/questions/28215974/classnotfoundexception-jsp","body":"ClassNotFoundEx with jsp means, jsp isn&#39;t compiled. You can refer to similiar issue here .  <a href=\"https://stackoverflow.com/questions/28215974/classnotfoundexception-jsp\" title=\"classnotfoundexception jsp\">stackoverflow.com/questions/28215974/classnotfoundexception-&zwnj;&#8203;jsp</a>"},{"owner":{"account_id":15009871,"reputation":160,"user_id":10834691,"display_name":"Zulu"},"score":1,"creation_date":1690715300,"post_id":76796715,"comment_id":135389351,"body_markdown":"Hi @VidzHere, Thanks for your reply.","body":"Hi @VidzHere, Thanks for your reply."}],"answers":[{"tags":[],"owner":{"account_id":15009871,"reputation":160,"user_id":10834691,"display_name":"Zulu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690715552,"creation_date":1690715552,"answer_id":76797475,"question_id":76796715,"body_markdown":"There might be many permutations and combinations that can produce the given problem. I am writing here, what worked for me -\r\n\r\nI deleted the content from Apache tomcat&#39;s 1) **temp** folder and 2) **work** folder.\r\n\r\nThen I redeployed the war file as usual and it worked!\r\n\r\n\r\n","title":"Spring boot / Jsp exception - java.lang.ClassNotFoundException: org.apache.jsp.WEB_002dINF.views.homePage_jsp","body":"<p>There might be many permutations and combinations that can produce the given problem. I am writing here, what worked for me -</p>\n<p>I deleted the content from Apache tomcat's 1) <strong>temp</strong> folder and 2) <strong>work</strong> folder.</p>\n<p>Then I redeployed the war file as usual and it worked!</p>\n"}],"owner":{"account_id":15009871,"reputation":160,"user_id":10834691,"display_name":"Zulu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76797475,"answer_count":1,"score":0,"last_activity_date":1690715552,"creation_date":1690701283,"question_id":76796715,"body_markdown":"I have a SpringBoot, JSP and Maven application running on app server. I restarted the server and application stopped working. On browser it&#39;s showing 404 error. Server logs showing this exception -\r\n\r\n`*org.apache.jasper.JasperException: org.apache.jasper.JasperException: java.lang.ClassNotFoundException: org.apache.jsp.WEB_002dINF.views.homePage_jsp*`\r\n\r\nIt seems jsp parsing exception. Can someone please guide me how to resolve this problem.\r\n\r\nNote - Application is working fine on localhost.\r\n\r\nI tried to redeploy the war file through jenkins. War file deployed successfully. But while hitting the application using browser, it&#39;s showing same exception.","title":"Spring boot / Jsp exception - java.lang.ClassNotFoundException: org.apache.jsp.WEB_002dINF.views.homePage_jsp","body":"<p>I have a SpringBoot, JSP and Maven application running on app server. I restarted the server and application stopped working. On browser it's showing 404 error. Server logs showing this exception -</p>\n<p><code>*org.apache.jasper.JasperException: org.apache.jasper.JasperException: java.lang.ClassNotFoundException: org.apache.jsp.WEB_002dINF.views.homePage_jsp*</code></p>\n<p>It seems jsp parsing exception. Can someone please guide me how to resolve this problem.</p>\n<p>Note - Application is working fine on localhost.</p>\n<p>I tried to redeploy the war file through jenkins. War file deployed successfully. But while hitting the application using browser, it's showing same exception.</p>\n"},{"tags":["java","spring","jwt","ecdsa"],"comments":[{"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"score":1,"creation_date":1690716156,"post_id":76797457,"comment_id":135389449,"body_markdown":"Your private key is in SEC1 format and not in PKCS#8 format, so `PKCS8EncodedKeySpec` won&#39;t work. Convert the key e.g. with OpenSSL from SEC1 to the required PKCS#8 format (`openssl pkcs8 -topk8 -nocrypt...`) or use e.g. BouncyCastle to import the SEC1 key directly \n ([here](https://stackoverflow.com/a/41947163/9014097)).","body":"Your private key is in SEC1 format and not in PKCS#8 format, so <code>PKCS8EncodedKeySpec</code> won&#39;t work. Convert the key e.g. with OpenSSL from SEC1 to the required PKCS#8 format (<code>openssl pkcs8 -topk8 -nocrypt...</code>) or use e.g. BouncyCastle to import the SEC1 key directly   (<a href=\"https://stackoverflow.com/a/41947163/9014097\">here</a>)."},{"owner":{"account_id":20204611,"reputation":559,"user_id":14819402,"display_name":"Cross"},"score":0,"creation_date":1690795592,"post_id":76797457,"comment_id":135397698,"body_markdown":"@Topaco Thank you very much! Now everything is working!","body":"@Topaco Thank you very much! Now everything is working!"}],"owner":{"account_id":20204611,"reputation":559,"user_id":14819402,"display_name":"Cross"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1690715313,"creation_date":1690715313,"question_id":76797457,"body_markdown":"I&#39;m trying to create an app that uses authentication with ecdsa keys but I faced with some problem with key generation and reading it. When I make request to the authentication controller it shows me such exception:\r\n\r\n```\r\njava.security.InvalidKeyException: IOException : algid parse error, not a sequence\r\n```\r\n\r\nThat&#39;s what I did:\r\n\r\n1. I generated private key with this command:\r\n\r\n```\r\n$ openssl ecparam -name secp256k1 -genkey -noout -out private_key.pem \r\n```\r\nThen I got this pem key:\r\n\r\n```\r\n-----BEGIN EC PRIVATE KEY-----\r\nMHQCAQEEIMdy2DTdd7ZF/oVjd69ddslzyy1GsBSuehz0uEGVYtk5oAcGBSuBBAAK\r\noUQDQgAEnZaAiTxwX93hzPMs4+VVJ1tGK1wv6SWN4Ac/59fQx6bBY0MO6VTzofna\r\ngomVhx/xcyu7KQVmNVTgW51w7BSfNg==\r\n-----END EC PRIVATE KEY-----\r\n```\r\n\r\n2. I wrote a class that gets private key to use it later\r\n\r\n**RSAService.java**\r\n```java\r\npublic class RSAService {\r\n\r\n    public static PrivateKey getPrivateKey(String fileName)\r\n            throws IOException, NoSuchAlgorithmException, InvalidKeySpecException {\r\n        return getPrivateKeyFromString(getKey(fileName));\r\n    }\r\n\r\n    private static String getKey(String fileName) throws IOException {\r\n        StringBuilder strKeyPem = new StringBuilder();\r\n        String line;\r\n        try (BufferedReader bf = new BufferedReader(new FileReader(fileName))) {\r\n            while ((line = bf.readLine()) != null) {\r\n                strKeyPem.append(line).append(&quot;\\n&quot;);\r\n            }\r\n        }\r\n        return strKeyPem.toString();\r\n    }\r\n\r\n    private static PrivateKey getPrivateKeyFromString(String key)\r\n            throws  NoSuchAlgorithmException, InvalidKeySpecException {\r\n        String privateKeyPem = key;\r\n        privateKeyPem = privateKeyPem.replace(&quot;-----BEGIN EC PRIVATE KEY-----&quot;, &quot;&quot;);\r\n        privateKeyPem = privateKeyPem.replace(&quot;-----END PRIVATE KEY-----&quot;, &quot;&quot;);\r\n        privateKeyPem = privateKeyPem.replace(&quot;\\n&quot;, &quot;&quot;);\r\n        byte[] encoded = Base64.decodeBase64(privateKeyPem);\r\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\r\n        PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(encoded);\r\n        return kf.generatePrivate(keySpec); //Here&#39;s exception is throwing\r\n    }\r\n}\r\n```\r\n \r\n3. Then I use this class in JWTService to generate the jwt token:\r\n\r\n**JWTService.java**\r\n```java\r\n@Service\r\npublic class JWTService {\r\n\r\n    public String extractUsername(String token)\r\n            throws IOException, NoSuchAlgorithmException, InvalidKeySpecException {\r\n        return extractClaim(token, Claims::getSubject);\r\n    }\r\n\r\n    public &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimResolver)\r\n            throws IOException, NoSuchAlgorithmException, InvalidKeySpecException {\r\n        final Claims claims = extractAllClaims(token);\r\n        return claimResolver.apply(claims);\r\n    }\r\n\r\n    public String generateToken(UserDetails userDetails)\r\n            throws IOException, NoSuchAlgorithmException, InvalidKeySpecException {\r\n        return generateToken(new HashMap&lt;&gt;(), userDetails);\r\n    }\r\n\r\n    public String generateToken(Map&lt;String, Object&gt; claims, UserDetails userDetails)\r\n            throws IOException, NoSuchAlgorithmException, InvalidKeySpecException {\r\n        PrivateKey privateKey =  RSAService.getPrivateKey(PathConfig.PRIVATE_KEY_CONFIG);\r\n        return Jwts\r\n                .builder()\r\n                .setClaims(claims)\r\n                .setSubject(userDetails.getUsername())\r\n                .signWith(privateKey, SignatureAlgorithm.ES256)\r\n                .compact();\r\n    }\r\n\r\n    public boolean isTokenValid(String token, UserDetails userDetails)\r\n            throws IOException, NoSuchAlgorithmException, InvalidKeySpecException {\r\n        final String username = extractUsername(token);\r\n        return username.equals(userDetails.getUsername());\r\n    }\r\n\r\n    private Claims extractAllClaims(String token)\r\n            throws IOException, NoSuchAlgorithmException, InvalidKeySpecException {\r\n        return Jwts\r\n                .parserBuilder()\r\n                .setSigningKey(RSAService.getPublicKey(PathConfig.PUBLIC_KEY_CONFIG))\r\n                .build()\r\n                .parseClaimsJws(token)\r\n                .getBody();\r\n    }\r\n}\r\n```\r\n\r\nSo what can be the problem? If you know, please tell me, I&#39;d really appreciate it!","title":"java.security.InvalidKeyException: IOException : algid parse error, not a sequence","body":"<p>I'm trying to create an app that uses authentication with ecdsa keys but I faced with some problem with key generation and reading it. When I make request to the authentication controller it shows me such exception:</p>\n<pre><code>java.security.InvalidKeyException: IOException : algid parse error, not a sequence\n</code></pre>\n<p>That's what I did:</p>\n<ol>\n<li>I generated private key with this command:</li>\n</ol>\n<pre><code>$ openssl ecparam -name secp256k1 -genkey -noout -out private_key.pem \n</code></pre>\n<p>Then I got this pem key:</p>\n<pre><code>-----BEGIN EC PRIVATE KEY-----\nMHQCAQEEIMdy2DTdd7ZF/oVjd69ddslzyy1GsBSuehz0uEGVYtk5oAcGBSuBBAAK\noUQDQgAEnZaAiTxwX93hzPMs4+VVJ1tGK1wv6SWN4Ac/59fQx6bBY0MO6VTzofna\ngomVhx/xcyu7KQVmNVTgW51w7BSfNg==\n-----END EC PRIVATE KEY-----\n</code></pre>\n<ol start=\"2\">\n<li>I wrote a class that gets private key to use it later</li>\n</ol>\n<p><strong>RSAService.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RSAService {\n\n    public static PrivateKey getPrivateKey(String fileName)\n            throws IOException, NoSuchAlgorithmException, InvalidKeySpecException {\n        return getPrivateKeyFromString(getKey(fileName));\n    }\n\n    private static String getKey(String fileName) throws IOException {\n        StringBuilder strKeyPem = new StringBuilder();\n        String line;\n        try (BufferedReader bf = new BufferedReader(new FileReader(fileName))) {\n            while ((line = bf.readLine()) != null) {\n                strKeyPem.append(line).append(&quot;\\n&quot;);\n            }\n        }\n        return strKeyPem.toString();\n    }\n\n    private static PrivateKey getPrivateKeyFromString(String key)\n            throws  NoSuchAlgorithmException, InvalidKeySpecException {\n        String privateKeyPem = key;\n        privateKeyPem = privateKeyPem.replace(&quot;-----BEGIN EC PRIVATE KEY-----&quot;, &quot;&quot;);\n        privateKeyPem = privateKeyPem.replace(&quot;-----END PRIVATE KEY-----&quot;, &quot;&quot;);\n        privateKeyPem = privateKeyPem.replace(&quot;\\n&quot;, &quot;&quot;);\n        byte[] encoded = Base64.decodeBase64(privateKeyPem);\n        KeyFactory kf = KeyFactory.getInstance(&quot;RSA&quot;);\n        PKCS8EncodedKeySpec keySpec = new PKCS8EncodedKeySpec(encoded);\n        return kf.generatePrivate(keySpec); //Here's exception is throwing\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li>Then I use this class in JWTService to generate the jwt token:</li>\n</ol>\n<p><strong>JWTService.java</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class JWTService {\n\n    public String extractUsername(String token)\n            throws IOException, NoSuchAlgorithmException, InvalidKeySpecException {\n        return extractClaim(token, Claims::getSubject);\n    }\n\n    public &lt;T&gt; T extractClaim(String token, Function&lt;Claims, T&gt; claimResolver)\n            throws IOException, NoSuchAlgorithmException, InvalidKeySpecException {\n        final Claims claims = extractAllClaims(token);\n        return claimResolver.apply(claims);\n    }\n\n    public String generateToken(UserDetails userDetails)\n            throws IOException, NoSuchAlgorithmException, InvalidKeySpecException {\n        return generateToken(new HashMap&lt;&gt;(), userDetails);\n    }\n\n    public String generateToken(Map&lt;String, Object&gt; claims, UserDetails userDetails)\n            throws IOException, NoSuchAlgorithmException, InvalidKeySpecException {\n        PrivateKey privateKey =  RSAService.getPrivateKey(PathConfig.PRIVATE_KEY_CONFIG);\n        return Jwts\n                .builder()\n                .setClaims(claims)\n                .setSubject(userDetails.getUsername())\n                .signWith(privateKey, SignatureAlgorithm.ES256)\n                .compact();\n    }\n\n    public boolean isTokenValid(String token, UserDetails userDetails)\n            throws IOException, NoSuchAlgorithmException, InvalidKeySpecException {\n        final String username = extractUsername(token);\n        return username.equals(userDetails.getUsername());\n    }\n\n    private Claims extractAllClaims(String token)\n            throws IOException, NoSuchAlgorithmException, InvalidKeySpecException {\n        return Jwts\n                .parserBuilder()\n                .setSigningKey(RSAService.getPublicKey(PathConfig.PUBLIC_KEY_CONFIG))\n                .build()\n                .parseClaimsJws(token)\n                .getBody();\n    }\n}\n</code></pre>\n<p>So what can be the problem? If you know, please tell me, I'd really appreciate it!</p>\n"},{"tags":["java","xml","validation","xsd","complextype"],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1685263287,"creation_date":1685263287,"answer_id":76350632,"question_id":76350034,"body_markdown":"Recovery from errors when parsing content against a grammar is a difficult art. Compare with parsing Java. Given input like\r\n\r\n    String s := &quot;10&quot; - 3f4 ;\r\n\r\nhow many errors are there? Perhaps &quot;-&quot; should have been &quot;+&quot;? Perhaps &quot;10&quot; should have been 10 without the quotes? Perhaps &quot;3f4&quot; should have been &quot;3e4&quot;, or perhaps it should have been &quot;3+4&quot;? It&#39;s like the matchstick puzzles: what&#39;s the minimum number of matchsticks you have to move to get from a wrong arrangement to a valid arrangement? You can regard each of those moves as an error, and you could ask the processor to report the minimum number of changes needed to turn what&#39;s written into something that&#39;s valid. But parsers aren&#39;t usually that smart, and people don&#39;t expect them to be. Parsers report the first thing they see that isn&#39;t a valid continuation (here, the &quot;-&quot; sign), and then they skip forward to a point where they can be reasonably sure they know where they are - in Java, that will generally be the semicolon. If you don&#39;t do that, you risk reporting spurious errors because you&#39;ve guessed wrong about the true nature of the first error, and users get frustrated because the subsequent errors make no sense.","title":"XSD Validation Catching ALL Errors within each complexType elemnt - FAILS to catch all","body":"<p>Recovery from errors when parsing content against a grammar is a difficult art. Compare with parsing Java. Given input like</p>\n<pre><code>String s := &quot;10&quot; - 3f4 ;\n</code></pre>\n<p>how many errors are there? Perhaps &quot;-&quot; should have been &quot;+&quot;? Perhaps &quot;10&quot; should have been 10 without the quotes? Perhaps &quot;3f4&quot; should have been &quot;3e4&quot;, or perhaps it should have been &quot;3+4&quot;? It's like the matchstick puzzles: what's the minimum number of matchsticks you have to move to get from a wrong arrangement to a valid arrangement? You can regard each of those moves as an error, and you could ask the processor to report the minimum number of changes needed to turn what's written into something that's valid. But parsers aren't usually that smart, and people don't expect them to be. Parsers report the first thing they see that isn't a valid continuation (here, the &quot;-&quot; sign), and then they skip forward to a point where they can be reasonably sure they know where they are - in Java, that will generally be the semicolon. If you don't do that, you risk reporting spurious errors because you've guessed wrong about the true nature of the first error, and users get frustrated because the subsequent errors make no sense.</p>\n"}],"owner":{"account_id":19877744,"reputation":101,"user_id":14562385,"display_name":"shibendra chakraborty"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690714946,"creation_date":1685250844,"question_id":76350034,"body_markdown":"My objective is to catch All error in XSD validation **for each and every &quot;complexType&quot;** in JAVA - But it is failing when xml has more than one error under a complexType element.\r\n\r\nI am using the Example code from -  ` https://www.baeldung.com/java-validate-xml-xsd `\r\n\r\nXSD used - \r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\r\n    &lt;xs:element name=&quot;individual&quot;&gt;\r\n        &lt;xs:complexType&gt;\r\n            &lt;xs:sequence&gt;\r\n                &lt;xs:element name=&quot;name&quot; type=&quot;xs:string&quot; /&gt;\r\n                &lt;xs:element name=&quot;address&quot;&gt;\r\n                    &lt;xs:complexType&gt;\r\n                        &lt;xs:sequence&gt;\r\n                            &lt;xs:element name=&quot;zip&quot; type=&quot;xs:positiveInteger&quot; /&gt;\r\n                            &lt;xs:element name=&quot;city&quot; type=&quot;xs:string&quot; /&gt;\r\n                        &lt;/xs:sequence&gt;\r\n                    &lt;/xs:complexType&gt;\r\n                &lt;/xs:element&gt;\r\n            &lt;/xs:sequence&gt;\r\n        &lt;/xs:complexType&gt;\r\n    &lt;/xs:element&gt;\r\n&lt;/xs:schema&gt;\r\n```\r\n\r\nXML used with errors introduced -\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;individual&gt;\r\n    &lt;name&gt;Baeldung&lt;/name&gt;\r\n    &lt;age&gt;&lt;/age&gt; &lt;!-- error1 --&gt;\r\n    &lt;salary&gt;&lt;/salary&gt; &lt;!-- error2 --&gt;\r\n    &lt;address&gt;\r\n        &lt;zip&gt;00001&lt;/zip&gt;\r\n\t\t&lt;state&gt;&lt;/state&gt; &lt;!-- error3 --&gt;\r\n        &lt;city&gt;New York&lt;/city&gt;\r\n\t\t&lt;country&gt;&lt;/country&gt; &lt;!-- error4 --&gt;\r\n    &lt;/address&gt;\r\n&lt;/individual&gt;\r\n```\r\n\r\njava code has the implementation of ErrorHandler from the above link .\r\n\r\n    public class XmlErrorHandler implements ErrorHandler ....\r\n\r\nNow, as we see, in XML there are 4 new elements under 2 complexTypes. The Validation list reports only has one error each from complexTypes. It cannot catch all in ErrorHandler implementation.\r\n\r\nlist from Errorhandler implementation - Only 2 errors out of 4 !!\r\n\r\n&gt; cvc-complex-type.2.4.a: Invalid content was found starting with element &#39;age&#39;. One of &#39;{address}&#39; is expected.\r\n&gt;\r\n&gt; cvc-complex-type.2.4.a: Invalid content was found starting with element &#39;state&#39;. One of &#39;{city}&#39; is expected.\r\n\r\nCan anyone help me? How to get all errors from each complexType fixed?\r\n\r\nThanks.","title":"XSD Validation Catching ALL Errors within each complexType elemnt - FAILS to catch all","body":"<p>My objective is to catch All error in XSD validation <strong>for each and every &quot;complexType&quot;</strong> in JAVA - But it is failing when xml has more than one error under a complexType element.</p>\n<p>I am using the Example code from -  <code>https://www.baeldung.com/java-validate-xml-xsd</code></p>\n<p>XSD used -</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;xs:schema xmlns:xs=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;\n    &lt;xs:element name=&quot;individual&quot;&gt;\n        &lt;xs:complexType&gt;\n            &lt;xs:sequence&gt;\n                &lt;xs:element name=&quot;name&quot; type=&quot;xs:string&quot; /&gt;\n                &lt;xs:element name=&quot;address&quot;&gt;\n                    &lt;xs:complexType&gt;\n                        &lt;xs:sequence&gt;\n                            &lt;xs:element name=&quot;zip&quot; type=&quot;xs:positiveInteger&quot; /&gt;\n                            &lt;xs:element name=&quot;city&quot; type=&quot;xs:string&quot; /&gt;\n                        &lt;/xs:sequence&gt;\n                    &lt;/xs:complexType&gt;\n                &lt;/xs:element&gt;\n            &lt;/xs:sequence&gt;\n        &lt;/xs:complexType&gt;\n    &lt;/xs:element&gt;\n&lt;/xs:schema&gt;\n</code></pre>\n<p>XML used with errors introduced -</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;individual&gt;\n    &lt;name&gt;Baeldung&lt;/name&gt;\n    &lt;age&gt;&lt;/age&gt; &lt;!-- error1 --&gt;\n    &lt;salary&gt;&lt;/salary&gt; &lt;!-- error2 --&gt;\n    &lt;address&gt;\n        &lt;zip&gt;00001&lt;/zip&gt;\n        &lt;state&gt;&lt;/state&gt; &lt;!-- error3 --&gt;\n        &lt;city&gt;New York&lt;/city&gt;\n        &lt;country&gt;&lt;/country&gt; &lt;!-- error4 --&gt;\n    &lt;/address&gt;\n&lt;/individual&gt;\n</code></pre>\n<p>java code has the implementation of ErrorHandler from the above link .</p>\n<pre><code>public class XmlErrorHandler implements ErrorHandler ....\n</code></pre>\n<p>Now, as we see, in XML there are 4 new elements under 2 complexTypes. The Validation list reports only has one error each from complexTypes. It cannot catch all in ErrorHandler implementation.</p>\n<p>list from Errorhandler implementation - Only 2 errors out of 4 !!</p>\n<blockquote>\n<p>cvc-complex-type.2.4.a: Invalid content was found starting with element 'age'. One of '{address}' is expected.</p>\n<p>cvc-complex-type.2.4.a: Invalid content was found starting with element 'state'. One of '{city}' is expected.</p>\n</blockquote>\n<p>Can anyone help me? How to get all errors from each complexType fixed?</p>\n<p>Thanks.</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":14402680,"reputation":312,"user_id":10403784,"display_name":"Vadim Yemelyanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690660110,"creation_date":1690660110,"answer_id":76795211,"question_id":76794867,"body_markdown":"There are so many ways to do that) \r\n1) Use Spring Data JPA entity mapping + Hibernate ([example][1])\r\n2) Using Entity Graph (more advanced way - [example][2]\r\n3) More native way using JDBCTemplate and manually write select query with 1 inner join to order_product_relation and 2 to orders or products. ([example][3])\r\n\r\nIf you are a newbee in spring - i would highly recommend to use 1 approach, because its the simplest one, and once you face any problem (infinite select loops, N+1 problem, etc) - you just google them one by one, and soon you will become a pro in selecting data from DB)\r\n\r\n1 Approach will allow you to query Products for example using ProductsRepository and automatically join all your Orders, then you just map it to DTO, and here you are.\r\n\r\n  [1]: https://www.baeldung.com/jpa-many-to-many\r\n  [2]: https://www.baeldung.com/jpa-entity-graph\r\n  [3]: https://www.digitalocean.com/community/tutorials/spring-jdbctemplate-example","title":"Many-to-Many mapping query spring boot","body":"<p>There are so many ways to do that)</p>\n<ol>\n<li>Use Spring Data JPA entity mapping + Hibernate (<a href=\"https://www.baeldung.com/jpa-many-to-many\" rel=\"nofollow noreferrer\">example</a>)</li>\n<li>Using Entity Graph (more advanced way - <a href=\"https://www.baeldung.com/jpa-entity-graph\" rel=\"nofollow noreferrer\">example</a></li>\n<li>More native way using JDBCTemplate and manually write select query with 1 inner join to order_product_relation and 2 to orders or products. (<a href=\"https://www.digitalocean.com/community/tutorials/spring-jdbctemplate-example\" rel=\"nofollow noreferrer\">example</a>)</li>\n</ol>\n<p>If you are a newbee in spring - i would highly recommend to use 1 approach, because its the simplest one, and once you face any problem (infinite select loops, N+1 problem, etc) - you just google them one by one, and soon you will become a pro in selecting data from DB)</p>\n<p>1 Approach will allow you to query Products for example using ProductsRepository and automatically join all your Orders, then you just map it to DTO, and here you are.</p>\n"}],"owner":{"account_id":29118586,"reputation":1,"user_id":22306724,"display_name":"Leonardo Soares"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690714387,"creation_date":1690653575,"question_id":76794867,"body_markdown":"I&#39;m trying to create an simple eCommerce using spring data.\r\n\r\nI have 3 entities, Order, Products and a Many to Many table OrderProductRelation that contains OrderID, ProductID and the quantity of products requested.\r\n\r\n\r\nI would like to know, how can I query OrderProductionRelation and map order and products into DTO to return something like this in my controller:\r\n\r\n    [\r\n        {\r\n            &quot;orderName&quot;: &quot;&quot;,\r\n            &quot;orderDate&quot;: &quot;2023-07-29&quot;,\r\n            &quot;orderTime&quot;: &quot;13:38:22.188871191&quot;,\r\n            &quot;totalPrice&quot;: 1706.25,\r\n            &quot;discounts&quot;: 25.0,\r\n            &quot;totalItems&quot;: null,\r\n            &quot;paymentMethod&quot;: &quot;DEBIT&quot;,\r\n            &quot;orderStatus&quot;: &quot;COMPLETED&quot;,\r\n            &quot;products&quot;: [\r\n                {\r\n                    &quot;productName&quot;: &quot;mock 1&quot;,\r\n                    &quot;productDescription&quot;: &quot;new mock 1 shoe&quot;,\r\n                    &quot;category&quot;: null,\r\n                    &quot;quantity&quot;: 1,\r\n                    &quot;brand&quot;: &quot;mock1&quot;\r\n                }\r\n    ]\r\n\r\nIs there a specific way to do that ? \r\n\r\nI&#39;m currently using the findAll() method from OrderProductRelation repository and looping the query result, after that I turn each Order and Product entity into DTO so then each OrderDTO will have it&#39;s own ProductDTO list\r\n\r\nIs there a better way ? ","title":"Many-to-Many mapping query spring boot","body":"<p>I'm trying to create an simple eCommerce using spring data.</p>\n<p>I have 3 entities, Order, Products and a Many to Many table OrderProductRelation that contains OrderID, ProductID and the quantity of products requested.</p>\n<p>I would like to know, how can I query OrderProductionRelation and map order and products into DTO to return something like this in my controller:</p>\n<pre><code>[\n    {\n        &quot;orderName&quot;: &quot;&quot;,\n        &quot;orderDate&quot;: &quot;2023-07-29&quot;,\n        &quot;orderTime&quot;: &quot;13:38:22.188871191&quot;,\n        &quot;totalPrice&quot;: 1706.25,\n        &quot;discounts&quot;: 25.0,\n        &quot;totalItems&quot;: null,\n        &quot;paymentMethod&quot;: &quot;DEBIT&quot;,\n        &quot;orderStatus&quot;: &quot;COMPLETED&quot;,\n        &quot;products&quot;: [\n            {\n                &quot;productName&quot;: &quot;mock 1&quot;,\n                &quot;productDescription&quot;: &quot;new mock 1 shoe&quot;,\n                &quot;category&quot;: null,\n                &quot;quantity&quot;: 1,\n                &quot;brand&quot;: &quot;mock1&quot;\n            }\n]\n</code></pre>\n<p>Is there a specific way to do that ?</p>\n<p>I'm currently using the findAll() method from OrderProductRelation repository and looping the query result, after that I turn each Order and Product entity into DTO so then each OrderDTO will have it's own ProductDTO list</p>\n<p>Is there a better way ?</p>\n"},{"tags":["python","java","android","flask"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1690714048,"post_id":76797309,"comment_id":135389242,"body_markdown":"`Android client server application` ? Those are big words for one simple http get call. Please rephrase.","body":"<code>Android client server application</code> ? Those are big words for one simple http get call. Please rephrase."},{"owner":{"account_id":13014575,"reputation":1,"user_id":9408234,"display_name":"Oleg Kolosovsky"},"score":0,"creation_date":1690714633,"post_id":76797309,"comment_id":135389291,"body_markdown":"Hmm... It&#39;s silly to lay out all the code.","body":"Hmm... It&#39;s silly to lay out all the code."}],"owner":{"account_id":13014575,"reputation":1,"user_id":9408234,"display_name":"Oleg Kolosovsky"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690713588,"creation_date":1690712311,"question_id":76797309,"body_markdown":"How can I rewrite my code so that at startup the client connects to the server and waits for a response from it. Those. connected once, and did not send endless requests. Server, in turn, knew that they were connected to it (saved information about the client) and sent information without request if the client was available.\r\n\r\nClient code:\r\n```\r\npackage com.example.moex_robot_client;\r\n\r\nimport android.os.Bundle;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport java.io.IOException;\r\n\r\nimport okhttp3.Call;\r\nimport okhttp3.Callback;\r\nimport okhttp3.OkHttpClient;\r\nimport okhttp3.Response;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n        OkHttpClient client = new OkHttpClient();\r\n        okhttp3.Request request = new okhttp3.Request.Builder().url(&quot;http://10.0.2.2:5000/&quot;).build();\r\n\r\n        client.newCall(request).enqueue(new Callback() {\r\n            @Override\r\n            public void onFailure(@NonNull Call call, @NonNull IOException e) {\r\n                runOnUiThread(() -&gt; Toast.makeText(MainActivity.this, &quot;Network not found!&quot;, Toast.LENGTH_SHORT).show());\r\n            }\r\n\r\n            @Override\r\n            public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\r\n                TextView textView = findViewById(R.id.textView1);\r\n                assert response.body() != null;\r\n                textView.setText(response.body().string());\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n```\r\nOn the server side so far only returns a message on the root. I will also be glad to link to a good example from the Internet.","title":"Android client server application with Java + Python with Flask","body":"<p>How can I rewrite my code so that at startup the client connects to the server and waits for a response from it. Those. connected once, and did not send endless requests. Server, in turn, knew that they were connected to it (saved information about the client) and sent information without request if the client was available.</p>\n<p>Client code:</p>\n<pre><code>package com.example.moex_robot_client;\n\nimport android.os.Bundle;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport java.io.IOException;\n\nimport okhttp3.Call;\nimport okhttp3.Callback;\nimport okhttp3.OkHttpClient;\nimport okhttp3.Response;\n\npublic class MainActivity extends AppCompatActivity {\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n        OkHttpClient client = new OkHttpClient();\n        okhttp3.Request request = new okhttp3.Request.Builder().url(&quot;http://10.0.2.2:5000/&quot;).build();\n\n        client.newCall(request).enqueue(new Callback() {\n            @Override\n            public void onFailure(@NonNull Call call, @NonNull IOException e) {\n                runOnUiThread(() -&gt; Toast.makeText(MainActivity.this, &quot;Network not found!&quot;, Toast.LENGTH_SHORT).show());\n            }\n\n            @Override\n            public void onResponse(@NonNull Call call, @NonNull Response response) throws IOException {\n                TextView textView = findViewById(R.id.textView1);\n                assert response.body() != null;\n                textView.setText(response.body().string());\n            }\n        });\n    }\n}\n\n</code></pre>\n<p>On the server side so far only returns a message on the root. I will also be glad to link to a good example from the Internet.</p>\n"},{"tags":["java","javafx","video-processing"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690559307,"post_id":76789198,"comment_id":135375497,"body_markdown":"A &quot;random frame&quot;? How would you know that wasn&#39;t, say, a blank frame?","body":"A &quot;random frame&quot;? How would you know that wasn&#39;t, say, a blank frame?"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1690580702,"post_id":76789198,"comment_id":135378647,"body_markdown":"Think outside the box: don&#39;t use java for something standard tools already exist for, and just invoke `ffmpeg`, then read in the file that creates?","body":"Think outside the box: don&#39;t use java for something standard tools already exist for, and just invoke <code>ffmpeg</code>, then read in the file that creates?"},{"owner":{"account_id":4498992,"reputation":735,"user_id":3658055,"display_name":"Birdasaur"},"score":0,"creation_date":1690642338,"post_id":76789198,"comment_id":135383610,"body_markdown":"@Mike Loading external dependencies, especially those that come with unvetted native code is often a no-no for many deployment environments so this is a good question.","body":"@Mike Loading external dependencies, especially those that come with unvetted native code is often a no-no for many deployment environments so this is a good question."},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":0,"creation_date":1690643192,"post_id":76789198,"comment_id":135383717,"body_markdown":"I didn&#39;t say it wasn&#39;t, but unless _they_ say they can&#39;t, ffmpeg itself is always the better option.","body":"I didn&#39;t say it wasn&#39;t, but unless <i>they</i> say they can&#39;t, ffmpeg itself is always the better option."}],"answers":[{"tags":[],"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1690713493,"creation_date":1690580585,"answer_id":76791166,"question_id":76789198,"body_markdown":"As you are using Maven, to use JavaFX Media, you need JavaFX media as a Maven dependency and also added to your Java module system.\r\n\r\n * https://stackoverflow.com/questions/69976938/javafx-mediaplayer-import/69978264#69978264\r\n\r\nYou need to start the JavaFX runtime to correctly use the Media system. \r\n\r\n * See the [javadoc for application on the lifecycle and platform startup and shutdown options][1].\r\n * The JavaFX runtime should be started only once for the lifetime of your application.\r\n * The JavaFX runtime should be shut down before your application exits.\r\n\r\nJavaFX API calls to media should be made on the JavaFX application thread. The JavaFX application thread should never be slept or latched. \r\n\r\nTo play the media and ensure it is ready to take a snapshot at a chosen location:\r\n\r\n 1. Place the [`MediaView`][2] node in a [`scene`][3]. \r\n 2. Implement [media error handling][4] if needed.\r\n 3. [`mute`][5] the media player.\r\n 4. Use Media APIs to skip to a\r\n    location in the video using the [`seek`][6] API.\r\n 5. Monitor the [`status`][7]\r\n    of the media player.\r\n 6. [`play`][8] the video from the sought point.\r\n\r\nAfter the status switches to playing, use [`Platform.runLater`][9], to give the system time to render the required frame.  And in the `runLater` call perform the next steps:\r\n\r\n 1. take a [`snapshot` of the `MediaView` node][10].\r\n 2. then [`stop`][11] the `MediaPlayer`.\r\n 3. and [`dispose`][12] of the player.\r\n\r\nYour snapshot gives you a JavaFX [`image`][13] you can directly display in a JavaFX [`ImageView`][14].\r\n\r\nIf you need to save your snapshot image to disk:\r\n \r\n 1. After you take your snapshot, [convert the JavaFX `Image` to a `BufferedImage`][15]\r\n    using the `javafx-swing` module.\r\n    * added to your project similarly to `javafx-media`.\r\n 2. Write the buffered image to an appropriate format, e.g. `jpg` or `png` using [`ImageIO` apis][16]. \r\n    * if you choose to save as a jpg rather than a png, you might need to [remove the alpha channel](http://www.java2s.com/example/java/2d-graphics/remove-bufferedimage-alpha-channel.html), because jpg can’t handle alpha.\r\n\r\nIf your app is modular, then in your module-info include all of the required module dependencies to make this work:\r\n\r\n * `javafx.media`\r\n * `javafx.swing`\r\n * `java.desktop`\r\n\r\n**Recommended distribution**\r\n\r\nTo get your app functionality to end users, it is recommended to either:\r\n\r\n * Use the [`maven-javafx-plugin`][17], to create a [jlinked zip][18] of your app for your target platform,\r\n   * Users can use your app by unzipping the zip and executing the app by invoking the shell script created by [`jlink`][19].\r\n\r\nOR\r\n\r\n * Use the [`jpackage`][20] system to create an installer for your app or if your app is not modular.\r\n   * Users can use your app by launching the installer to install the app on their system, which they can run as they do any other native app for the system.\r\n   * Using `jpackage` to package a non-modular application and create installers for various platforms is more complex than creating jlink zip distributions for modular applications.\r\n\r\nFor either of the above methods, the user will generally not have to install any other software on the target machine in order to use your app.\r\n\r\n**References**\r\n\r\n * [Oracle JavaFX media tutorial][21].\r\n   * Somewhat dated, but still mostly relevant.\r\n * [OpenJFX getting started][22].  \r\n   * Make sure you can run the hello, world app from getting started before attempting the steps in this answer.\r\n\r\n\r\n**Alternatives**\r\n\r\n * As an alternative, [vlcj for JavaFX][23] can also take video snapshots\r\n   * but that requires [vlc][24] to be installed and is more complex to use than JavaFX media.\r\n * [ffmpeg][25] could also be used to take snapshots, for which I believe there may be Java bindings (I don&#39;t know that for sure) or the native process could be called from the [Java process API][26]\r\n   * but that also requires the native ffmpeg runtime to be available.\r\n   * ffmpeg command-line instructions (I haven&#39;t tried this):\r\n     * [How to extract one frame of a video every N seconds to an image?][27]\r\n\r\n\r\n  [1]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Application.html\r\n  [2]: https://openjfx.io/javadoc/17/javafx.media/javafx/scene/media/MediaView.html\r\n  [3]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Scene.html\r\n  [4]: https://openjfx.io/javadoc/17/javafx.media/javafx/scene/media/package-summary.html\r\n  [5]: https://openjfx.io/javadoc/17/javafx.media/javafx/scene/media/MediaPlayer.html#muteProperty()\r\n  [6]: https://openjfx.io/javadoc/17/javafx.media/javafx/scene/media/MediaPlayer.html#seek(javafx.util.Duration)\r\n  [7]: https://openjfx.io/javadoc/17/javafx.media/javafx/scene/media/MediaPlayer.html#statusProperty\r\n  [8]: https://openjfx.io/javadoc/17/javafx.media/javafx/scene/media/package-summary.html#PlayingMediaInJavaFX\r\n  [9]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Platform.html#runLater(java.lang.Runnable)\r\n  [10]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Node.html#snapshot(javafx.util.Callback,javafx.scene.SnapshotParameters,javafx.scene.image.WritableImage)\r\n  [11]: https://openjfx.io/javadoc/17/javafx.media/javafx/scene/media/MediaPlayer.html#stop()\r\n  [12]: https://openjfx.io/javadoc/17/javafx.media/javafx/scene/media/MediaPlayer.html#dispose()\r\n  [13]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/Image.html\r\n  [14]: https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/ImageView.html\r\n  [15]: https://openjfx.io/javadoc/17/javafx.swing/javafx/embed/swing/SwingFXUtils.html#fromFXImage(javafx.scene.image.Image,java.awt.image.BufferedImage)\r\n  [16]: https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/imageio/ImageIO.html#write(java.awt.image.RenderedImage,java.lang.String,java.io.File)\r\n  [17]: https://github.com/openjfx/javafx-maven-plugin\r\n  [18]: https://github.com/openjfx/javafx-maven-plugin#javafxjlink-options\r\n  [19]: https://docs.oracle.com/en/java/javase/17/docs/specs/man/jlink.html\r\n  [20]: https://docs.oracle.com/en/java/javase/20/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A\r\n  [21]: https://docs.oracle.com/javase/8/javafx/media-tutorial/overview.htm\r\n  [22]: https://openjfx.io/openjfx-docs/\r\n  [23]: https://github.com/caprica/vlcj-javafx\r\n  [24]: https://www.videolan.org/vlc/\r\n  [25]: https://www.ffmpeg.org\r\n  [26]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Process.html\r\n  [27]: https://superuser.com/questions/135117/how-to-extract-one-frame-of-a-video-every-n-seconds-to-an-image","title":"java how do I get an image from a .mp4 video?","body":"<p>As you are using Maven, to use JavaFX Media, you need JavaFX media as a Maven dependency and also added to your Java module system.</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/69976938/javafx-mediaplayer-import/69978264#69978264\">JavaFX MediaPlayer import</a></li>\n</ul>\n<p>You need to start the JavaFX runtime to correctly use the Media system.</p>\n<ul>\n<li>See the <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Application.html\" rel=\"nofollow noreferrer\">javadoc for application on the lifecycle and platform startup and shutdown options</a>.</li>\n<li>The JavaFX runtime should be started only once for the lifetime of your application.</li>\n<li>The JavaFX runtime should be shut down before your application exits.</li>\n</ul>\n<p>JavaFX API calls to media should be made on the JavaFX application thread. The JavaFX application thread should never be slept or latched.</p>\n<p>To play the media and ensure it is ready to take a snapshot at a chosen location:</p>\n<ol>\n<li>Place the <a href=\"https://openjfx.io/javadoc/17/javafx.media/javafx/scene/media/MediaView.html\" rel=\"nofollow noreferrer\"><code>MediaView</code></a> node in a <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Scene.html\" rel=\"nofollow noreferrer\"><code>scene</code></a>.</li>\n<li>Implement <a href=\"https://openjfx.io/javadoc/17/javafx.media/javafx/scene/media/package-summary.html\" rel=\"nofollow noreferrer\">media error handling</a> if needed.</li>\n<li><a href=\"https://openjfx.io/javadoc/17/javafx.media/javafx/scene/media/MediaPlayer.html#muteProperty()\" rel=\"nofollow noreferrer\"><code>mute</code></a> the media player.</li>\n<li>Use Media APIs to skip to a\nlocation in the video using the <a href=\"https://openjfx.io/javadoc/17/javafx.media/javafx/scene/media/MediaPlayer.html#seek(javafx.util.Duration)\" rel=\"nofollow noreferrer\"><code>seek</code></a> API.</li>\n<li>Monitor the <a href=\"https://openjfx.io/javadoc/17/javafx.media/javafx/scene/media/MediaPlayer.html#statusProperty\" rel=\"nofollow noreferrer\"><code>status</code></a>\nof the media player.</li>\n<li><a href=\"https://openjfx.io/javadoc/17/javafx.media/javafx/scene/media/package-summary.html#PlayingMediaInJavaFX\" rel=\"nofollow noreferrer\"><code>play</code></a> the video from the sought point.</li>\n</ol>\n<p>After the status switches to playing, use <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/application/Platform.html#runLater(java.lang.Runnable)\" rel=\"nofollow noreferrer\"><code>Platform.runLater</code></a>, to give the system time to render the required frame.  And in the <code>runLater</code> call perform the next steps:</p>\n<ol>\n<li>take a <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/Node.html#snapshot(javafx.util.Callback,javafx.scene.SnapshotParameters,javafx.scene.image.WritableImage)\" rel=\"nofollow noreferrer\"><code>snapshot</code> of the <code>MediaView</code> node</a>.</li>\n<li>then <a href=\"https://openjfx.io/javadoc/17/javafx.media/javafx/scene/media/MediaPlayer.html#stop()\" rel=\"nofollow noreferrer\"><code>stop</code></a> the <code>MediaPlayer</code>.</li>\n<li>and <a href=\"https://openjfx.io/javadoc/17/javafx.media/javafx/scene/media/MediaPlayer.html#dispose()\" rel=\"nofollow noreferrer\"><code>dispose</code></a> of the player.</li>\n</ol>\n<p>Your snapshot gives you a JavaFX <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/Image.html\" rel=\"nofollow noreferrer\"><code>image</code></a> you can directly display in a JavaFX <a href=\"https://openjfx.io/javadoc/17/javafx.graphics/javafx/scene/image/ImageView.html\" rel=\"nofollow noreferrer\"><code>ImageView</code></a>.</p>\n<p>If you need to save your snapshot image to disk:</p>\n<ol>\n<li>After you take your snapshot, <a href=\"https://openjfx.io/javadoc/17/javafx.swing/javafx/embed/swing/SwingFXUtils.html#fromFXImage(javafx.scene.image.Image,java.awt.image.BufferedImage)\" rel=\"nofollow noreferrer\">convert the JavaFX <code>Image</code> to a <code>BufferedImage</code></a>\nusing the <code>javafx-swing</code> module.\n<ul>\n<li>added to your project similarly to <code>javafx-media</code>.</li>\n</ul>\n</li>\n<li>Write the buffered image to an appropriate format, e.g. <code>jpg</code> or <code>png</code> using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.desktop/javax/imageio/ImageIO.html#write(java.awt.image.RenderedImage,java.lang.String,java.io.File)\" rel=\"nofollow noreferrer\"><code>ImageIO</code> apis</a>.\n<ul>\n<li>if you choose to save as a jpg rather than a png, you might need to <a href=\"http://www.java2s.com/example/java/2d-graphics/remove-bufferedimage-alpha-channel.html\" rel=\"nofollow noreferrer\">remove the alpha channel</a>, because jpg can’t handle alpha.</li>\n</ul>\n</li>\n</ol>\n<p>If your app is modular, then in your module-info include all of the required module dependencies to make this work:</p>\n<ul>\n<li><code>javafx.media</code></li>\n<li><code>javafx.swing</code></li>\n<li><code>java.desktop</code></li>\n</ul>\n<p><strong>Recommended distribution</strong></p>\n<p>To get your app functionality to end users, it is recommended to either:</p>\n<ul>\n<li>Use the <a href=\"https://github.com/openjfx/javafx-maven-plugin\" rel=\"nofollow noreferrer\"><code>maven-javafx-plugin</code></a>, to create a <a href=\"https://github.com/openjfx/javafx-maven-plugin#javafxjlink-options\" rel=\"nofollow noreferrer\">jlinked zip</a> of your app for your target platform,\n<ul>\n<li>Users can use your app by unzipping the zip and executing the app by invoking the shell script created by <a href=\"https://docs.oracle.com/en/java/javase/17/docs/specs/man/jlink.html\" rel=\"nofollow noreferrer\"><code>jlink</code></a>.</li>\n</ul>\n</li>\n</ul>\n<p>OR</p>\n<ul>\n<li>Use the <a href=\"https://docs.oracle.com/en/java/javase/20/jpackage/packaging-overview.html#GUID-C1027043-587D-418D-8188-EF8F44A4C06A\" rel=\"nofollow noreferrer\"><code>jpackage</code></a> system to create an installer for your app or if your app is not modular.\n<ul>\n<li>Users can use your app by launching the installer to install the app on their system, which they can run as they do any other native app for the system.</li>\n<li>Using <code>jpackage</code> to package a non-modular application and create installers for various platforms is more complex than creating jlink zip distributions for modular applications.</li>\n</ul>\n</li>\n</ul>\n<p>For either of the above methods, the user will generally not have to install any other software on the target machine in order to use your app.</p>\n<p><strong>References</strong></p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/javafx/media-tutorial/overview.htm\" rel=\"nofollow noreferrer\">Oracle JavaFX media tutorial</a>.\n<ul>\n<li>Somewhat dated, but still mostly relevant.</li>\n</ul>\n</li>\n<li><a href=\"https://openjfx.io/openjfx-docs/\" rel=\"nofollow noreferrer\">OpenJFX getting started</a>.\n<ul>\n<li>Make sure you can run the hello, world app from getting started before attempting the steps in this answer.</li>\n</ul>\n</li>\n</ul>\n<p><strong>Alternatives</strong></p>\n<ul>\n<li>As an alternative, <a href=\"https://github.com/caprica/vlcj-javafx\" rel=\"nofollow noreferrer\">vlcj for JavaFX</a> can also take video snapshots\n<ul>\n<li>but that requires <a href=\"https://www.videolan.org/vlc/\" rel=\"nofollow noreferrer\">vlc</a> to be installed and is more complex to use than JavaFX media.</li>\n</ul>\n</li>\n<li><a href=\"https://www.ffmpeg.org\" rel=\"nofollow noreferrer\">ffmpeg</a> could also be used to take snapshots, for which I believe there may be Java bindings (I don't know that for sure) or the native process could be called from the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Process.html\" rel=\"nofollow noreferrer\">Java process API</a>\n<ul>\n<li>but that also requires the native ffmpeg runtime to be available.</li>\n<li>ffmpeg command-line instructions (I haven't tried this):\n<ul>\n<li><a href=\"https://superuser.com/questions/135117/how-to-extract-one-frame-of-a-video-every-n-seconds-to-an-image\">How to extract one frame of a video every N seconds to an image?</a></li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":28634166,"reputation":51,"user_id":21924586,"display_name":"Oliver Rosenberg"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1690713493,"creation_date":1690558285,"question_id":76789198,"body_markdown":"I need to get an image as preview of the videos loaded by the users, it doesn&#39;t need to be a great thumbnail because it&#39;s just for a chat application, so I had in mind that when a user sends a message that contains an mp4 I process it and save a random frame as well. \r\n\r\nI googled a bit and everyone is using ffmpeg but that&#39;s an external software and you can only interact with it with java, my project needs to be stand alone I don&#39;t want it to rely on the fact that the server has ffmpeg installed, so I went back in time and found JavaFX, but all the snippets online don&#39;t specify the version they&#39;re using and chatGPT is useless as always, can you guys show me how to do it or at least explain to me how it works so that I can code it myself? I&#39;m using this dependency\r\n\r\n```\r\n   &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.openjfx&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\r\n    \t&lt;version&gt;16&lt;/version&gt; &lt;!-- the version chatGPT wrote but you can change that --&gt;\r\n\t&lt;/dependency&gt;\r\n```\r\n\r\nif you have a different solution altogether that&#39;s great too I only care about saving a random frame from the video with the specified name at the specified path, thanks in advance\r\n\r\nI tried this method but it gives plenty of errors probably because of a version mismatch\r\n\r\n\r\n```\r\nprivate byte[] getFrameFromVideo(String videoFilePath, int targetTimeSeconds) throws IOException {\r\n\t\ttry {\r\n            Media media = new Media(new File(videoFilePath).toURI().toString());\r\n            MediaPlayer mediaPlayer = new MediaPlayer(media);\r\n\r\n            CountDownLatch latch = new CountDownLatch(1);\r\n\r\n            mediaPlayer.setOnReady(() -&gt; {\r\n                mediaPlayer.pause();\r\n                mediaPlayer.setStartTime(mediaPlayer.getTotalDuration().multiply(targetTimeSeconds * 1.0 / media.getDuration().toSeconds()));\r\n                mediaPlayer.setStopTime(mediaPlayer.getStartTime().add(mediaPlayer.getTotalDuration().multiply(1.0 / media.getDuration().toSeconds())));\r\n                latch.countDown(); \r\n            });\r\n\r\n            mediaPlayer.setOnEndOfMedia(() -&gt; {\r\n                BufferedImage bufferedImage = new BufferedImage(mediaPlayer.getMedia().getWidth(), mediaPlayer.getMedia().getHeight(), BufferedImage.TYPE_3BYTE_BGR);\r\n                FXImage fxImage = mediaPlayer.snapshot(null);\r\n                fxImage.pixelReaderProperty().get().getPixels(0, 0, (int) fxImage.getWidth(), (int) fxImage.getHeight(), javafx.scene.image.PixelFormat.getByteRgbInstance(), bufferedImage.getRaster().getDataBuffer());\r\n\r\n                try {\r\n                    ByteArrayOutputStream baos = new ByteArrayOutputStream();\r\n                    ImageIO.write(bufferedImage, &quot;png&quot;, baos);\r\n                    mediaPlayer.dispose();\r\n                    latch.countDown(); \r\n                    return baos.toByteArray();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            });\r\n\r\n            mediaPlayer.play();\r\n\r\n            latch.await();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return null;\r\n\t}\r\n```\r\n","title":"java how do I get an image from a .mp4 video?","body":"<p>I need to get an image as preview of the videos loaded by the users, it doesn't need to be a great thumbnail because it's just for a chat application, so I had in mind that when a user sends a message that contains an mp4 I process it and save a random frame as well.</p>\n<p>I googled a bit and everyone is using ffmpeg but that's an external software and you can only interact with it with java, my project needs to be stand alone I don't want it to rely on the fact that the server has ffmpeg installed, so I went back in time and found JavaFX, but all the snippets online don't specify the version they're using and chatGPT is useless as always, can you guys show me how to do it or at least explain to me how it works so that I can code it myself? I'm using this dependency</p>\n<pre><code>   &lt;dependency&gt;\n        &lt;groupId&gt;org.openjfx&lt;/groupId&gt;\n        &lt;artifactId&gt;javafx-controls&lt;/artifactId&gt;\n        &lt;version&gt;16&lt;/version&gt; &lt;!-- the version chatGPT wrote but you can change that --&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>if you have a different solution altogether that's great too I only care about saving a random frame from the video with the specified name at the specified path, thanks in advance</p>\n<p>I tried this method but it gives plenty of errors probably because of a version mismatch</p>\n<pre><code>private byte[] getFrameFromVideo(String videoFilePath, int targetTimeSeconds) throws IOException {\n        try {\n            Media media = new Media(new File(videoFilePath).toURI().toString());\n            MediaPlayer mediaPlayer = new MediaPlayer(media);\n\n            CountDownLatch latch = new CountDownLatch(1);\n\n            mediaPlayer.setOnReady(() -&gt; {\n                mediaPlayer.pause();\n                mediaPlayer.setStartTime(mediaPlayer.getTotalDuration().multiply(targetTimeSeconds * 1.0 / media.getDuration().toSeconds()));\n                mediaPlayer.setStopTime(mediaPlayer.getStartTime().add(mediaPlayer.getTotalDuration().multiply(1.0 / media.getDuration().toSeconds())));\n                latch.countDown(); \n            });\n\n            mediaPlayer.setOnEndOfMedia(() -&gt; {\n                BufferedImage bufferedImage = new BufferedImage(mediaPlayer.getMedia().getWidth(), mediaPlayer.getMedia().getHeight(), BufferedImage.TYPE_3BYTE_BGR);\n                FXImage fxImage = mediaPlayer.snapshot(null);\n                fxImage.pixelReaderProperty().get().getPixels(0, 0, (int) fxImage.getWidth(), (int) fxImage.getHeight(), javafx.scene.image.PixelFormat.getByteRgbInstance(), bufferedImage.getRaster().getDataBuffer());\n\n                try {\n                    ByteArrayOutputStream baos = new ByteArrayOutputStream();\n                    ImageIO.write(bufferedImage, &quot;png&quot;, baos);\n                    mediaPlayer.dispose();\n                    latch.countDown(); \n                    return baos.toByteArray();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            });\n\n            mediaPlayer.play();\n\n            latch.await();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return null;\n    }\n</code></pre>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690471307,"post_id":76781235,"comment_id":135361588,"body_markdown":"Let me know if you can find a complete and consistent answer to this. It&#39;s confused me for over a decade now.","body":"Let me know if you can find a complete and consistent answer to this. It&#39;s confused me for over a decade now."}],"answers":[{"tags":[],"owner":{"account_id":27494768,"reputation":218,"user_id":20979453,"display_name":"Jacky Liu - JetBrains"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690711365,"creation_date":1690536338,"answer_id":76786473,"question_id":76781235,"body_markdown":"In theory, the Gradle targetCompatibility settings are the same thing as the Project Structure&#39;s settings.\r\n\r\nLet&#39;s take a look at the javac command output:\r\n\r\n      --release &lt;release&gt;\r\n            Compile for the specified Java SE release. Supported releases: 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20\r\n      \r\n      --source &lt;release&gt;, -source &lt;release&gt;\r\n            Provide source compatibility with the specified Java SE release. Supported releases: 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20\r\n\r\nEvery JDK version has a release number, and usually, the higher version of JDK(take 20 for example), can compile and run all lower-release versions.\r\n\r\nHowever, if you are using JDK 8, you can only compile Java 8 sources level and can&#39;t compile Java source level 9, 10, etc, and also can only run Java 8 class.\r\n\r\nEvery class file has an internal version number, which shows the least JVM version it can be run at, this is specified by the javac --release arg value. \r\n\r\nSo back to Gradle, the screenshot suggests that the project at least uses JDK 8 to compile and run it, so the IDEA will pick a real JDK 17 to compile and run it. Sure the JDK 17 can compile and run more recent Java source code levels including Java 8.\r\n\r\nI&#39;ve drawn a small image for that concept:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LGvyA.png","title":"IntelliJ vs Gradle JDK versions","body":"<p>In theory, the Gradle targetCompatibility settings are the same thing as the Project Structure's settings.</p>\n<p>Let's take a look at the javac command output:</p>\n<pre><code>  --release &lt;release&gt;\n        Compile for the specified Java SE release. Supported releases: 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20\n  \n  --source &lt;release&gt;, -source &lt;release&gt;\n        Provide source compatibility with the specified Java SE release. Supported releases: 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20\n</code></pre>\n<p>Every JDK version has a release number, and usually, the higher version of JDK(take 20 for example), can compile and run all lower-release versions.</p>\n<p>However, if you are using JDK 8, you can only compile Java 8 sources level and can't compile Java source level 9, 10, etc, and also can only run Java 8 class.</p>\n<p>Every class file has an internal version number, which shows the least JVM version it can be run at, this is specified by the javac --release arg value.</p>\n<p>So back to Gradle, the screenshot suggests that the project at least uses JDK 8 to compile and run it, so the IDEA will pick a real JDK 17 to compile and run it. Sure the JDK 17 can compile and run more recent Java source code levels including Java 8.</p>\n<p>I've drawn a small image for that concept:\n<a href=\"https://i.stack.imgur.com/LGvyA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LGvyA.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":29073167,"reputation":1013,"user_id":22270964,"display_name":"Maksim Eliseev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690713101,"creation_date":1690713101,"answer_id":76797344,"question_id":76781235,"body_markdown":"The `Project Structure` dialog defines the version of Java that is being used for purposes of Intellij IDEA, e.g. for code completion or to show you compilation errors in real time. In short, it is used for coding. For example, if you choose `&lt;NO SDK&gt;` in the `Project Structure` you will still be able to run Gradle but you won&#39;t be able to write a code. And to give you the opportunity to write a code on the version of Java that you want, you can choose the language level in the `Project Structure`, but it will still be used for coding, not for compilation using Gradle.","title":"IntelliJ vs Gradle JDK versions","body":"<p>The <code>Project Structure</code> dialog defines the version of Java that is being used for purposes of Intellij IDEA, e.g. for code completion or to show you compilation errors in real time. In short, it is used for coding. For example, if you choose <code>&lt;NO SDK&gt;</code> in the <code>Project Structure</code> you will still be able to run Gradle but you won't be able to write a code. And to give you the opportunity to write a code on the version of Java that you want, you can choose the language level in the <code>Project Structure</code>, but it will still be used for coding, not for compilation using Gradle.</p>\n"}],"owner":{"account_id":3551840,"reputation":527,"user_id":2966528,"accept_rate":75,"display_name":"automaton"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1690713101,"creation_date":1690471175,"question_id":76781235,"body_markdown":"Can someone explain the difference between the Java version specified in Gradle&#39;s `java` block vs in the IntelliJ IDEA Project Structure dialog?\r\n\r\n[![IntelliJ Screen Capture][1]][1]\r\n\r\nI know the JVM that&#39;s used to execute Gradle itself is specified in Settings, so neither is that. I assume the program in question is being built for `targetCompatibility` in Gradle, but if that is the case what does the Project Structure dialog define?\r\n\r\n  [1]: https://i.stack.imgur.com/AubsR.png","title":"IntelliJ vs Gradle JDK versions","body":"<p>Can someone explain the difference between the Java version specified in Gradle's <code>java</code> block vs in the IntelliJ IDEA Project Structure dialog?</p>\n<p><a href=\"https://i.stack.imgur.com/AubsR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AubsR.png\" alt=\"IntelliJ Screen Capture\" /></a></p>\n<p>I know the JVM that's used to execute Gradle itself is specified in Settings, so neither is that. I assume the program in question is being built for <code>targetCompatibility</code> in Gradle, but if that is the case what does the Project Structure dialog define?</p>\n"},{"tags":["java","spring-security","vaadin","vaadin-flow"],"answers":[{"tags":[],"owner":{"account_id":7372513,"reputation":951,"user_id":5612275,"display_name":"Marco C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690712496,"creation_date":1690712496,"answer_id":76797319,"question_id":76796968,"body_markdown":"If I recall correctly, private methods are not intercepted, and the same states for annotated methods called by non secured methods of the same class.\r\nYou may move the save logic in another class (e.g. a service), have the instance injected into the view and call the annotated method on the service from the view","title":"Vaadin Flow and Method Security @PreAuthorize on Views","body":"<p>If I recall correctly, private methods are not intercepted, and the same states for annotated methods called by non secured methods of the same class.\nYou may move the save logic in another class (e.g. a service), have the instance injected into the view and call the annotated method on the service from the view</p>\n"}],"owner":{"account_id":4907986,"reputation":1440,"user_id":3997460,"accept_rate":62,"display_name":"megloff"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76797319,"answer_count":1,"score":0,"last_activity_date":1690712496,"creation_date":1690706158,"question_id":76796968,"body_markdown":"Dear all I am working with Vaadin Flow 24 and Spring Security 6. I like to use Method Security in my views, but it is not working (seems to get ignored). I am wondering if this is supported on Vaadin Views and if not by default if there is a way to get it working.\r\n\r\n```\r\n@EnableWebSecurity\r\n@EnableMethodSecurity\r\n@Configuration\r\n@Slf4j\r\npublic class BackendSecurityConfiguration extends VaadinWebSecurity {\r\n ...\r\n}\r\n\r\n```\r\n\r\n```\r\n@SpringComponent\r\n@Route(&quot;backend/users&quot;) \r\n@PageTitle(&quot;Backend | Users&quot;)\r\n@PermitAll\r\n@Slf4j\r\npublic class BackendUsersView extends VerticalLayout {\r\n ...\r\n\r\n    // ==&gt;  Issue : the PreAuthorize seems to be ignored on Vaadin Views?\r\n\r\n    @PreAuthorize(&quot;hasRole(&#39;ADMIN&#39;)&quot;)\r\n    private void saveUser(BackendUserForm.SaveEvent event) {\r\n    \tuserRepository.save(event.getUser());\r\n        updateList();\r\n        closeEditor();\r\n    }\r\n}\r\n```","title":"Vaadin Flow and Method Security @PreAuthorize on Views","body":"<p>Dear all I am working with Vaadin Flow 24 and Spring Security 6. I like to use Method Security in my views, but it is not working (seems to get ignored). I am wondering if this is supported on Vaadin Views and if not by default if there is a way to get it working.</p>\n<pre><code>@EnableWebSecurity\n@EnableMethodSecurity\n@Configuration\n@Slf4j\npublic class BackendSecurityConfiguration extends VaadinWebSecurity {\n ...\n}\n\n</code></pre>\n<pre><code>@SpringComponent\n@Route(&quot;backend/users&quot;) \n@PageTitle(&quot;Backend | Users&quot;)\n@PermitAll\n@Slf4j\npublic class BackendUsersView extends VerticalLayout {\n ...\n\n    // ==&gt;  Issue : the PreAuthorize seems to be ignored on Vaadin Views?\n\n    @PreAuthorize(&quot;hasRole('ADMIN')&quot;)\n    private void saveUser(BackendUserForm.SaveEvent event) {\n        userRepository.save(event.getUser());\n        updateList();\n        closeEditor();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","javax.validation"],"comments":[{"owner":{"account_id":14402680,"reputation":312,"user_id":10403784,"display_name":"Vadim Yemelyanov"},"score":0,"creation_date":1690708661,"post_id":76797022,"comment_id":135388755,"body_markdown":"Which spring boot version do you use?","body":"Which spring boot version do you use?"},{"owner":{"account_id":17064862,"reputation":186,"user_id":12347336,"display_name":"Shubham Dhingra"},"score":0,"creation_date":1690708733,"post_id":76797022,"comment_id":135388764,"body_markdown":"@VadimYemelyanov 3.1.2","body":"@VadimYemelyanov 3.1.2"},{"owner":{"account_id":14402680,"reputation":312,"user_id":10403784,"display_name":"Vadim Yemelyanov"},"score":0,"creation_date":1690708756,"post_id":76797022,"comment_id":135388768,"body_markdown":"okay, 1 min. i will write answer","body":"okay, 1 min. i will write answer"}],"answers":[{"tags":[],"owner":{"account_id":14402680,"reputation":312,"user_id":10403784,"display_name":"Vadim Yemelyanov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690709046,"creation_date":1690709046,"answer_id":76797124,"question_id":76797022,"body_markdown":"If you use spring 3+ you should use this packages.\r\n\r\n    import jakarta.validation.Valid\r\n    import jakarta.validation.constraints.Max\r\n    import jakarta.validation.constraints.Min\r\n    import jakarta.validation.constraints.NotNull\r\n\r\n\r\nTake a loot at realese notes from [Spring Boot 3][1] - they changed a lot) \r\n\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0.0-M1-Release-Notes#spring-boot-300-m1-release-notes","title":"Spring Controller validation of RequestDTO fields as not null is being ignored","body":"<p>If you use spring 3+ you should use this packages.</p>\n<pre><code>import jakarta.validation.Valid\nimport jakarta.validation.constraints.Max\nimport jakarta.validation.constraints.Min\nimport jakarta.validation.constraints.NotNull\n</code></pre>\n<p>Take a loot at realese notes from <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.0.0-M1-Release-Notes#spring-boot-300-m1-release-notes\" rel=\"nofollow noreferrer\">Spring Boot 3</a> - they changed a lot)</p>\n"}],"owner":{"account_id":17064862,"reputation":186,"user_id":12347336,"display_name":"Shubham Dhingra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76797124,"answer_count":1,"score":0,"last_activity_date":1690709929,"creation_date":1690707189,"question_id":76797022,"body_markdown":"I have a Spring Controller with a DTO `PlacePixelRequest` as the request body in `POST` request:\r\n\r\n```\r\n@RestController\r\npublic class CanvasController {\r\n    @PostMapping(&quot;/canvas/pixel&quot;)\r\n    public void placePixel(@Valid @RequestBody final PlacePixelRequest placePixelRequest) {\r\n        try {\r\n            canvasManager.placePixel(placePixelRequest);\r\n        } catch (PixelOutOfBoundsException e) {\r\n            throw new ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;Coordinates requested are out of bounds&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```\r\nimport javax.validation.constraints.NotNull;\r\n\r\n\r\n@Data\r\n@ToString\r\npublic class PlacePixelRequest {\r\n    @NotNull\r\n    private int x;\r\n    @NotNull\r\n    private int y;\r\n    @NotNull\r\n    private PixelColor pixelColor;\r\n    @NotNull\r\n    private String placedBy;\r\n}\r\n```\r\n\r\nI have put `@NotNull` on each of the fields, however, requests are going through just fine even without specifying these fields in the request body:\r\n\r\n```\r\ncurl --location &#39;http://localhost:8080/canvas/pixel&#39; \\\r\n--header &#39;Content-Type: application/json&#39; \\\r\n--header &#39;Authorization: Bearer &lt;TOKEN&gt;&#39; \\\r\n--data &#39;{\r\n    &quot;x&quot;: &quot;0&quot;,\r\n    &quot;y&quot;: &quot;5&quot;\r\n}&#39;\r\n```\r\n\r\nreturns `200 OK`.\r\n\r\nI have tried looking at different solutions where the suggestion is to check if the `@Valid` annotation is present on the controller method request body, which is already present in my case.\r\n\r\nThe other suggestion was to have the validation API on classpath. I already have these two dependencies in my `pom.xml`:\r\n\r\n```\r\n   &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n \r\n```","title":"Spring Controller validation of RequestDTO fields as not null is being ignored","body":"<p>I have a Spring Controller with a DTO <code>PlacePixelRequest</code> as the request body in <code>POST</code> request:</p>\n<pre><code>@RestController\npublic class CanvasController {\n    @PostMapping(&quot;/canvas/pixel&quot;)\n    public void placePixel(@Valid @RequestBody final PlacePixelRequest placePixelRequest) {\n        try {\n            canvasManager.placePixel(placePixelRequest);\n        } catch (PixelOutOfBoundsException e) {\n            throw new ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;Coordinates requested are out of bounds&quot;);\n        }\n    }\n}\n</code></pre>\n<pre><code>import javax.validation.constraints.NotNull;\n\n\n@Data\n@ToString\npublic class PlacePixelRequest {\n    @NotNull\n    private int x;\n    @NotNull\n    private int y;\n    @NotNull\n    private PixelColor pixelColor;\n    @NotNull\n    private String placedBy;\n}\n</code></pre>\n<p>I have put <code>@NotNull</code> on each of the fields, however, requests are going through just fine even without specifying these fields in the request body:</p>\n<pre><code>curl --location 'http://localhost:8080/canvas/pixel' \\\n--header 'Content-Type: application/json' \\\n--header 'Authorization: Bearer &lt;TOKEN&gt;' \\\n--data '{\n    &quot;x&quot;: &quot;0&quot;,\n    &quot;y&quot;: &quot;5&quot;\n}'\n</code></pre>\n<p>returns <code>200 OK</code>.</p>\n<p>I have tried looking at different solutions where the suggestion is to check if the <code>@Valid</code> annotation is present on the controller method request body, which is already present in my case.</p>\n<p>The other suggestion was to have the validation API on classpath. I already have these two dependencies in my <code>pom.xml</code>:</p>\n<pre><code>   &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n            &lt;version&gt;2.0.1.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n \n</code></pre>\n"},{"tags":["java","eclipse","selenium"],"comments":[{"owner":{"account_id":11521812,"reputation":642,"user_id":8443357,"accept_rate":12,"display_name":"selvakumar"},"score":1,"creation_date":1519187891,"post_id":48897286,"comment_id":84801936,"body_markdown":"need to import chromedriver","body":"need to import chromedriver"}],"answers":[{"tags":[],"owner":{"account_id":7768846,"reputation":163,"user_id":5879156,"display_name":"Shwetank Vashishtha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519185041,"creation_date":1519185041,"answer_id":48897885,"question_id":48897286,"body_markdown":"ChromeDriver is one extra level nested in org.openqa.selenium package. Try with import statement\r\n\r\n&gt; org.openqa.selenium.chrome.*;\r\n\r\nOR\r\n\r\n&gt; import org.openqa.selenium.chrome.ChromeDriver;","title":"chrome Webdriver can&#39;t be resolved to a type error eclipse and java","body":"<p>ChromeDriver is one extra level nested in org.openqa.selenium package. Try with import statement</p>\n\n<blockquote>\n  <p>org.openqa.selenium.chrome.*;</p>\n</blockquote>\n\n<p>OR</p>\n\n<blockquote>\n  <p>import org.openqa.selenium.chrome.ChromeDriver;</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519190253,"creation_date":1519190253,"answer_id":48898627,"question_id":48897286,"body_markdown":"The error says it all :\r\n\r\n\t&quot;ChromeDriver can&#39;t be resolved to a type&quot;\r\n\t\r\nWhile working with _Selenium 3.x_ you have to mention the _Key-Value_ pair through `System.setProperty()` line mandatory as follows :\r\n\r\n\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;/path/to/chromedriver&quot;);\r\n\t\r\nAdditionally, as per best practices instead of `import org.openqa.selenium.*;` you have to mention the individual packages for import as follows :\r\n\r\n\timport org.openqa.selenium.WebDriver;\r\n\timport org.openqa.selenium.chrome.ChromeDriver;\t","title":"chrome Webdriver can&#39;t be resolved to a type error eclipse and java","body":"<p>The error says it all :</p>\n\n<pre><code>\"ChromeDriver can't be resolved to a type\"\n</code></pre>\n\n<p>While working with <em>Selenium 3.x</em> you have to mention the <em>Key-Value</em> pair through <code>System.setProperty()</code> line mandatory as follows :</p>\n\n<pre><code>System.setProperty(\"webdriver.chrome.driver\", \"/path/to/chromedriver\");\n</code></pre>\n\n<p>Additionally, as per best practices instead of <code>import org.openqa.selenium.*;</code> you have to mention the individual packages for import as follows :</p>\n\n<pre><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":13822753,"reputation":1,"user_id":9977814,"display_name":"Shaqeel Ahamad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529664095,"creation_date":1529664095,"answer_id":50986168,"question_id":48897286,"body_markdown":"You need to attach jar files. I was getting the exactly the same issue.\r\nyou need to install &quot;Selenium 3.4.0&quot; jar files.\r\nWhich contains lib folder of .jar files and &quot;client-combined-3.4.0-nodeps&quot; files.\r\nAfter you attach these jar files refresh the code by giving run command.","title":"chrome Webdriver can&#39;t be resolved to a type error eclipse and java","body":"<p>You need to attach jar files. I was getting the exactly the same issue.\nyou need to install \"Selenium 3.4.0\" jar files.\nWhich contains lib folder of .jar files and \"client-combined-3.4.0-nodeps\" files.\nAfter you attach these jar files refresh the code by giving run command.</p>\n"},{"tags":[],"owner":{"account_id":6907547,"reputation":71,"user_id":5304775,"accept_rate":43,"display_name":"dilRox"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553655188,"creation_date":1553655188,"answer_id":55369085,"question_id":48897286,"body_markdown":"Adding Selenium jar files from the build path &gt; add external libraries fix the issue for me. ","title":"chrome Webdriver can&#39;t be resolved to a type error eclipse and java","body":"<p>Adding Selenium jar files from the build path > add external libraries fix the issue for me. </p>\n"},{"tags":[],"owner":{"account_id":14196397,"reputation":79,"user_id":10255600,"display_name":"Anogoya Dagaate"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1562170109,"creation_date":1562170109,"answer_id":56874213,"question_id":48897286,"body_markdown":"The solution for me was the POM specified an older version of ChromeDriverManager which was how chromeDriver was obtained in my build. If you are specifying a location using setProperty this will of course not apply to you. But it helps to check with the version of the dependencies in your POM\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.6.1&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\nThat did it!","title":"chrome Webdriver can&#39;t be resolved to a type error eclipse and java","body":"<p>The solution for me was the POM specified an older version of ChromeDriverManager which was how chromeDriver was obtained in my build. If you are specifying a location using setProperty this will of course not apply to you. But it helps to check with the version of the dependencies in your POM</p>\n\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n        &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n        &lt;version&gt;3.6.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>That did it!</p>\n"},{"tags":[],"owner":{"account_id":17030330,"reputation":1,"user_id":12320630,"display_name":"Jeffer thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572946364,"creation_date":1572872863,"answer_id":58694083,"question_id":48897286,"body_markdown":"For Linux user go to terminal check google version with below command \r\n\r\n**google-chrome --version**\r\n\r\n**OP**:- *Google Chrome 69.0.3497.100*\r\n\r\nNow, Upgrade chrome using below command\r\n\r\n**sudo apt --only-upgrade install google-chrome-stable**\r\n\r\nAfter this check the google chrome version using above same command\r\n\r\n**google-chrome --version**\r\n\r\n**OP**:- *Google Chrome 78.0.3904.87*\r\n\r\nNow you need to download the same version google driver. you can find it from the below link. \r\n\r\n**https://chromedriver.storage.googleapis.com/index.html?path=78.0.3904.70/**\r\n\r\nDownload google driver and extract it and save the path and use it in the code, Now run the code.\r\n\r\n\r\n\r\n","title":"chrome Webdriver can&#39;t be resolved to a type error eclipse and java","body":"<p>For Linux user go to terminal check google version with below command </p>\n\n<p><strong>google-chrome --version</strong></p>\n\n<p><strong>OP</strong>:- <em>Google Chrome 69.0.3497.100</em></p>\n\n<p>Now, Upgrade chrome using below command</p>\n\n<p><strong>sudo apt --only-upgrade install google-chrome-stable</strong></p>\n\n<p>After this check the google chrome version using above same command</p>\n\n<p><strong>google-chrome --version</strong></p>\n\n<p><strong>OP</strong>:- <em>Google Chrome 78.0.3904.87</em></p>\n\n<p>Now you need to download the same version google driver. you can find it from the below link. </p>\n\n<p><strong><a href=\"https://chromedriver.storage.googleapis.com/index.html?path=78.0.3904.70/\" rel=\"nofollow noreferrer\">https://chromedriver.storage.googleapis.com/index.html?path=78.0.3904.70/</a></strong></p>\n\n<p>Download google driver and extract it and save the path and use it in the code, Now run the code.</p>\n"},{"tags":[],"owner":{"account_id":3577370,"reputation":3514,"user_id":2986279,"accept_rate":50,"display_name":"Gaurav Khurana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580824082,"creation_date":1580824082,"answer_id":60058816,"question_id":48897286,"body_markdown":"if you are not able to add this statement\r\n\r\n\r\n     import org.openqa.selenium.chrome.ChromeDriver;\r\n\r\nthe probable reason is you are using **maven** and you have not included the below\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-chrome-driver --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    &lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\r\n    &lt;version&gt;3.141.59&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nEven if we put the below statement, problem still comes\r\n\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Software\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\r\n\r\nSo the solution is goto maven repository site and take the chrome dependency from there to solve this problem\r\n","title":"chrome Webdriver can&#39;t be resolved to a type error eclipse and java","body":"<p>if you are not able to add this statement</p>\n\n<pre><code> import org.openqa.selenium.chrome.ChromeDriver;\n</code></pre>\n\n<p>the probable reason is you are using <strong>maven</strong> and you have not included the below</p>\n\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-chrome-driver --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n&lt;artifactId&gt;selenium-chrome-driver&lt;/artifactId&gt;\n&lt;version&gt;3.141.59&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Even if we put the below statement, problem still comes</p>\n\n<pre><code>    System.setProperty(\"webdriver.chrome.driver\", \"C:\\\\Software\\\\chromedriver_win32\\\\chromedriver.exe\");\n</code></pre>\n\n<p>So the solution is goto maven repository site and take the chrome dependency from there to solve this problem</p>\n"},{"tags":[],"owner":{"account_id":17842858,"reputation":51,"user_id":12960403,"display_name":"Sindhuja Balasubramanian"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1582640357,"creation_date":1582637277,"answer_id":60395753,"question_id":48897286,"body_markdown":"Even after installing the required jar files I was facing the same error message and then I updated the compiler compliance level in the Java compiler to 1.8(depends) and then error disappeared. It solved my issue.\r\n\r\nYou can follow below steps:\r\n\r\n1. Select the Java project(created one)\r\n\r\n2. Build Path\r\n\r\n3. Configure build path\r\n\r\n4. Java compiler\r\n\r\n5. Change the compiler compliance level(I selected 1.8) \r\n\r\n6. Apply and Close.","title":"chrome Webdriver can&#39;t be resolved to a type error eclipse and java","body":"<p>Even after installing the required jar files I was facing the same error message and then I updated the compiler compliance level in the Java compiler to 1.8(depends) and then error disappeared. It solved my issue.</p>\n\n<p>You can follow below steps:</p>\n\n<ol>\n<li><p>Select the Java project(created one)</p></li>\n<li><p>Build Path</p></li>\n<li><p>Configure build path</p></li>\n<li><p>Java compiler</p></li>\n<li><p>Change the compiler compliance level(I selected 1.8) </p></li>\n<li><p>Apply and Close.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":17892021,"reputation":21,"user_id":12998283,"display_name":"nimmy sukumaran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583226146,"creation_date":1583224946,"answer_id":60503203,"question_id":48897286,"body_markdown":"I was getting the exact same error. It did resolve for me after performing the below steps.\r\n\r\n1. Right click on Project&gt;Buildpath&gt;configure build path\r\n2. Libraries&gt;Add external Jars. \r\n3. Add the external Jars from the &#39;libs&#39; folder first, then add the &#39;Client component&#39; ones.\r\n\r\n        import org.openqa.selenium.WebDriver;    \r\n        import org.openqa.selenium.chrome.ChromeDriver;        \r\n        \r\n        public class test1 {\r\n        \r\n        \tpublic static void main(String[] args) {\r\n        \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\nsukumar\\\\Documents\\\\selenium\\\\chromedriver_win32\\\\chromedriver.exe&quot;);\r\n        \t\tWebDriver driver = new ChromeDriver();\r\n        \t\tdriver.get(&quot;https://google.co.in&quot;);\r\n        \r\n        \t} \r\n        }\r\n\r\n","title":"chrome Webdriver can&#39;t be resolved to a type error eclipse and java","body":"<p>I was getting the exact same error. It did resolve for me after performing the below steps.</p>\n\n<ol>\n<li>Right click on Project>Buildpath>configure build path</li>\n<li>Libraries>Add external Jars. </li>\n<li><p>Add the external Jars from the 'libs' folder first, then add the 'Client component' ones.</p>\n\n<pre><code>import org.openqa.selenium.WebDriver;    \nimport org.openqa.selenium.chrome.ChromeDriver;        \n\npublic class test1 {\n\n    public static void main(String[] args) {\n        System.setProperty(\"webdriver.chrome.driver\", \"C:\\\\Users\\\\nsukumar\\\\Documents\\\\selenium\\\\chromedriver_win32\\\\chromedriver.exe\");\n        WebDriver driver = new ChromeDriver();\n        driver.get(\"https://google.co.in\");\n\n    } \n}\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":17524925,"reputation":111,"user_id":12710195,"display_name":"Alok Ranjan"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1583917070,"creation_date":1583908065,"answer_id":60630349,"question_id":48897286,"body_markdown":"\r\n**chrome Webdriver can&#39;t be resolved to a type error eclipse and java:-**\r\n\r\n \r\n\r\n*I was getting same problem with selenium -java 3.141.59 on macOs.Check below steps to resolve issue:-*\r\n\r\n 1. Create a new Java Project &gt;class &gt;Create Class name \r\n 2. Right click on Project &gt;Property &gt; Build path &gt; Libraries \r\n 3. Add external Jars to Classpath download from selenium client &amp; web \r\n    driver language binding.\r\n 4. Apply and Close.\r\n\r\n\r\nHope you got your Issue fixed. Kindly reply back in case of any issue.","title":"chrome Webdriver can&#39;t be resolved to a type error eclipse and java","body":"<p><strong>chrome Webdriver can't be resolved to a type error eclipse and java:-</strong></p>\n\n<p><em>I was getting same problem with selenium -java 3.141.59 on macOs.Check below steps to resolve issue:-</em></p>\n\n<ol>\n<li>Create a new Java Project >class >Create Class name </li>\n<li>Right click on Project >Property > Build path > Libraries </li>\n<li>Add external Jars to Classpath download from selenium client &amp; web \ndriver language binding.</li>\n<li>Apply and Close.</li>\n</ol>\n\n<p>Hope you got your Issue fixed. Kindly reply back in case of any issue.</p>\n"},{"tags":[],"owner":{"account_id":19685069,"reputation":1,"user_id":14411207,"display_name":"vatsal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602127237,"creation_date":1602127237,"answer_id":64255305,"question_id":48897286,"body_markdown":"This type of error occurs when you have added the external jars in the ModulePath. To resolve this issue, you can remove the external jars from the node &quot;Modulepath&quot;. Select the node &quot;Classpath&quot; then add the external jars. Review that all the jars are under the node &quot;Classpath&quot;","title":"chrome Webdriver can&#39;t be resolved to a type error eclipse and java","body":"<p>This type of error occurs when you have added the external jars in the ModulePath. To resolve this issue, you can remove the external jars from the node &quot;Modulepath&quot;. Select the node &quot;Classpath&quot; then add the external jars. Review that all the jars are under the node &quot;Classpath&quot;</p>\n"},{"tags":[],"owner":{"account_id":17762821,"reputation":1,"user_id":12898431,"display_name":"Victor Adesanya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1603759795,"creation_date":1603752170,"answer_id":64545993,"question_id":48897286,"body_markdown":"When adding external jars, make sure you add the jars in the lib folder first before adding the ones in the main selenium-java folder. This made the difference for me.\r\n```java\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\n\r\npublic class testdemo {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\victo\\\\OneDrive\\\\Documents\\\\driverchrome\\\\ChromeDriver.exe&quot;);\r\n\t\t\r\n\t\tWebDriver driver=new ChromeDriver();\r\n\t\t\r\n\t\tdriver.get(&quot; https:google.com&quot;);\r\n```","title":"chrome Webdriver can&#39;t be resolved to a type error eclipse and java","body":"<p>When adding external jars, make sure you add the jars in the lib folder first before adding the ones in the main selenium-java folder. This made the difference for me.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\npublic class testdemo {\n\n    public static void main(String[] args) {\n        \n        // TODO Auto-generated method stub\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\victo\\\\OneDrive\\\\Documents\\\\driverchrome\\\\ChromeDriver.exe&quot;);\n        \n        WebDriver driver=new ChromeDriver();\n        \n        driver.get(&quot; https:google.com&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20432516,"reputation":21,"user_id":14991150,"display_name":"Venkat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1610459787,"creation_date":1610458377,"answer_id":65684996,"question_id":48897286,"body_markdown":"Add Selenium Jar Files to ClassPath instead of ModulePath\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oSs0n.png","title":"chrome Webdriver can&#39;t be resolved to a type error eclipse and java","body":"<p>Add Selenium Jar Files to ClassPath instead of ModulePath\n<img src=\"https://i.stack.imgur.com/oSs0n.png\" alt=\"enter image description here\" /></p>\n"},{"tags":[],"owner":{"account_id":20809569,"reputation":21,"user_id":15283836,"display_name":"Nataniel"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1614309315,"creation_date":1614264771,"answer_id":66370919,"question_id":48897286,"body_markdown":"Try to edit external jars in the `ModulePath` &amp; `Classpath`.\r\n\r\nSee on the picture link --&gt;\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JQLEl.png","title":"chrome Webdriver can&#39;t be resolved to a type error eclipse and java","body":"<p>Try to edit external jars in the <code>ModulePath</code> &amp; <code>Classpath</code>.</p>\n<p>See on the picture link --&gt;\n<img src=\"https://i.stack.imgur.com/JQLEl.png\" alt=\"enter image description here\" /></p>\n"},{"tags":[],"owner":{"account_id":10628572,"reputation":31,"user_id":7827496,"display_name":"Kapil Sharma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621758986,"creation_date":1621758986,"answer_id":67657788,"question_id":48897286,"body_markdown":"I faced this error when using Latest Eclipse 2021-03 and Selenium 3\r\n\r\nTo resolve this, add your Selenium standalone jar file in Classpath instead of Module path. also do not forgot to delete the existing Jar files in modulepath, apply and then apply&amp;close. \r\n\r\n","title":"chrome Webdriver can&#39;t be resolved to a type error eclipse and java","body":"<p>I faced this error when using Latest Eclipse 2021-03 and Selenium 3</p>\n<p>To resolve this, add your Selenium standalone jar file in Classpath instead of Module path. also do not forgot to delete the existing Jar files in modulepath, apply and then apply&amp;close.</p>\n"},{"tags":[],"owner":{"account_id":24694751,"reputation":1,"user_id":18586866,"display_name":"Sharma Simran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1648284395,"creation_date":1648284395,"answer_id":71626560,"question_id":48897286,"body_markdown":"Even after installing the required jar files I was facing the same error message and then I updated the compiler compliance level in the Java compiler to 1.8(depends) and then error disappeared. It solved my issue.\r\n\r\nYou can follow below steps:\r\n\r\n - Select the Java project(created one)\r\n   \r\n   \r\n - Build Path\r\n          Configure build path\r\n          Java compiler\r\n          Change the compiler compliance level(I selected 1.8)\r\n          Apply and Close.\r\nThis answer helped me as well. I changed my compliance level from 15 to 1.8.\r\n\r\n","title":"chrome Webdriver can&#39;t be resolved to a type error eclipse and java","body":"<p>Even after installing the required jar files I was facing the same error message and then I updated the compiler compliance level in the Java compiler to 1.8(depends) and then error disappeared. It solved my issue.</p>\n<p>You can follow below steps:</p>\n<ul>\n<li><p>Select the Java project(created one)</p>\n</li>\n<li><p>Build Path\nConfigure build path\nJava compiler\nChange the compiler compliance level(I selected 1.8)\nApply and Close.\nThis answer helped me as well. I changed my compliance level from 15 to 1.8.</p>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":20584352,"reputation":1,"user_id":15109584,"display_name":"jake_n"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665535847,"creation_date":1665535847,"answer_id":74035373,"question_id":48897286,"body_markdown":"Ran in to this problem today and it turns out I simply forgot to add the .jar files from the &#39;lib&#39; folder.  Hope this helps someone.","title":"chrome Webdriver can&#39;t be resolved to a type error eclipse and java","body":"<p>Ran in to this problem today and it turns out I simply forgot to add the .jar files from the 'lib' folder.  Hope this helps someone.</p>\n"}],"owner":{"account_id":12988180,"reputation":61,"user_id":9388316,"display_name":"Pete"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101918,"favorite_count":0,"down_vote_count":2,"up_vote_count":6,"answer_count":17,"score":4,"last_activity_date":1690709420,"creation_date":1519180121,"question_id":48897286,"body_markdown":"Im trying to do some automation projects with chrome, java and selenium and having problems importing the chrome driver. \r\n\r\n    package main;\r\n\r\n    import org.openqa.selenium.*;\r\n\r\n    public class SitePoster {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t     //System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;./pathtodriver&quot;);\r\n    \t\tWebDriver driver = new ChromeDriver();\r\n            //Getting error saying &quot;ChromeDriver can&#39;t be resolved to a type&quot;\r\n\t    } \r\n\r\n    }","title":"chrome Webdriver can&#39;t be resolved to a type error eclipse and java","body":"<p>Im trying to do some automation projects with chrome, java and selenium and having problems importing the chrome driver. </p>\n\n<pre><code>package main;\n\nimport org.openqa.selenium.*;\n\npublic class SitePoster {\n\n    public static void main(String[] args) {\n         //System.setProperty(\"webdriver.chrome.driver\", \"./pathtodriver\");\n        WebDriver driver = new ChromeDriver();\n        //Getting error saying \"ChromeDriver can't be resolved to a type\"\n    } \n\n}\n</code></pre>\n"},{"tags":["java","performance","clone","cloneable"],"comments":[{"owner":{"account_id":49385,"reputation":93759,"user_id":147024,"display_name":"yole"},"score":0,"creation_date":1424892159,"post_id":28725693,"comment_id":45741878,"body_markdown":"Why do you think that clone() has better performance than object creation? That&#39;s not true.","body":"Why do you think that clone() has better performance than object creation? That&#39;s not true."},{"owner":{"account_id":1075043,"reputation":19715,"user_id":1073386,"accept_rate":83,"display_name":"Adam Stelmaszczyk"},"score":3,"creation_date":1424892214,"post_id":28725693,"comment_id":45741910,"body_markdown":"It&#39;s also [not a good](http://stackoverflow.com/questions/2326758/how-to-properly-override-clone-method#answer-2326801) idea to use `clone()` in the first place.","body":"It&#39;s also <a href=\"http://stackoverflow.com/questions/2326758/how-to-properly-override-clone-method#answer-2326801\">not a good</a> idea to use <code>clone()</code> in the first place."},{"owner":{"account_id":4547120,"reputation":153,"user_id":4606836,"display_name":"lfernandez93"},"score":0,"creation_date":1425016035,"post_id":28725693,"comment_id":45797216,"body_markdown":"What would you use instead of clone, also, why is not true clone has better performance?","body":"What would you use instead of clone, also, why is not true clone has better performance?"},{"owner":{"account_id":31622,"reputation":120341,"user_id":86989,"display_name":"newacct"},"score":1,"creation_date":1498284977,"post_id":28725693,"comment_id":76448883,"body_markdown":"One non-performance-related advantage of `.clone()` (assuming it uses `Object.clone()` underneath) is that it produces an object with the same runtime class as the object it is called on, whereas if you use `new` you would be hard-coding at compile-time the class of object you are creating, which may not be the same as the exact runtime class of the object (the object&#39;s class can be a subclass of the compile-time type of a variable that points to it).","body":"One non-performance-related advantage of <code>.clone()</code> (assuming it uses <code>Object.clone()</code> underneath) is that it produces an object with the same runtime class as the object it is called on, whereas if you use <code>new</code> you would be hard-coding at compile-time the class of object you are creating, which may not be the same as the exact runtime class of the object (the object&#39;s class can be a subclass of the compile-time type of a variable that points to it)."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1558120742,"post_id":28725693,"comment_id":99009405,"body_markdown":"As always when talking about `clone`, try to **avoid it at all cost**. It is a broken feature, super easy to introduce bugs and extremely hard to implement correct. And even harder to maintain a correct implementation with inheritance in place (*Effective Java* has a nice read on that topic). There are much more safer and better ways for creating copies. For example by introducing a *copy constructor* to your class.","body":"As always when talking about <code>clone</code>, try to <b>avoid it at all cost</b>. It is a broken feature, super easy to introduce bugs and extremely hard to implement correct. And even harder to maintain a correct implementation with inheritance in place (<i>Effective Java</i> has a nice read on that topic). There are much more safer and better ways for creating copies. For example by introducing a <i>copy constructor</i> to your class."}],"answers":[{"tags":[],"owner":{"account_id":5395475,"reputation":1850,"user_id":4296831,"display_name":"Gren"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1425029065,"creation_date":1424898905,"answer_id":28729746,"question_id":28725693,"body_markdown":"**If you need a copy, call clone(), if not, call a constructor.**&lt;br&gt;\r\nThe standard clone method (java.lang.Object.clone()) creates a shallow copy of the object without calling a constructor. If you need a deep copy, you have to override the clone method. &lt;br&gt;\r\n**And don&#39;t worry about performance.**&lt;br&gt; Performance depends on the contents of the clone method and the constructors and not from the used technique(new or clone) itself.\r\n\r\nEdit: **Clone and constructor are not really alternatively to each other, they fullfill different purposes**","title":"How clone has more performance than object creation","body":"<p><strong>If you need a copy, call clone(), if not, call a constructor.</strong><br>\nThe standard clone method (java.lang.Object.clone()) creates a shallow copy of the object without calling a constructor. If you need a deep copy, you have to override the clone method. <br>\n<strong>And don't worry about performance.</strong><br> Performance depends on the contents of the clone method and the constructors and not from the used technique(new or clone) itself.</p>\n\n<p>Edit: <strong>Clone and constructor are not really alternatively to each other, they fullfill different purposes</strong></p>\n"},{"tags":[],"owner":{"account_id":5801078,"reputation":1241,"user_id":4575227,"accept_rate":50,"display_name":"Kedar Parikh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425031267,"creation_date":1425030695,"answer_id":28762058,"question_id":28725693,"body_markdown":"Joachim is right. If you need copy use Clone, If you need a seprate object (for a seprate person) you should use `new` and create a new Object instead.\r\n\r\n&#39;More Performance&#39; is subjective and may not be the right term here. What happens in clone is the underlying objects are shared, i.e. they have 2 seprate references to the same memory location. So effectively you save up creating objects and memory. Remember Deep copy / Shallow Copy? ","title":"How clone has more performance than object creation","body":"<p>Joachim is right. If you need copy use Clone, If you need a seprate object (for a seprate person) you should use <code>new</code> and create a new Object instead.</p>\n\n<p>'More Performance' is subjective and may not be the right term here. What happens in clone is the underlying objects are shared, i.e. they have 2 seprate references to the same memory location. So effectively you save up creating objects and memory. Remember Deep copy / Shallow Copy? </p>\n"},{"tags":[],"owner":{"account_id":11147846,"reputation":77,"user_id":8182032,"display_name":"Laurent L&#233;onard"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1497873587,"creation_date":1497873587,"answer_id":44630009,"question_id":28725693,"body_markdown":"    public void testPerformance(){\r\n        SimpleDateFormat sdf  = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n        long start = System.currentTimeMillis();\r\n        for(int i = 0; i &lt; 1000000; i++){\r\n            SimpleDateFormat localSdf = (SimpleDateFormat)sdf.clone();\r\n        }\r\n        System.out.println(&quot;Cloning : &quot; + (System.currentTimeMillis() - start) + &quot; ms&quot;);\r\n\r\n        start = System.currentTimeMillis();\r\n        for(int i = 0; i &lt; 1000000; i++){\r\n            Object localSdf = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n        }\r\n        System.out.println(&quot;Creating : &quot; + (System.currentTimeMillis() - start) + &quot; ms&quot;);\r\n\r\n    }\r\n\r\nCloning : 302 ms\r\nCreating : 885 ms","title":"How clone has more performance than object creation","body":"<pre><code>public void testPerformance(){\n    SimpleDateFormat sdf  = new SimpleDateFormat(\"yyyy-MM-dd\");\n    long start = System.currentTimeMillis();\n    for(int i = 0; i &lt; 1000000; i++){\n        SimpleDateFormat localSdf = (SimpleDateFormat)sdf.clone();\n    }\n    System.out.println(\"Cloning : \" + (System.currentTimeMillis() - start) + \" ms\");\n\n    start = System.currentTimeMillis();\n    for(int i = 0; i &lt; 1000000; i++){\n        Object localSdf = new SimpleDateFormat(\"yyyy-MM-dd\");\n    }\n    System.out.println(\"Creating : \" + (System.currentTimeMillis() - start) + \" ms\");\n\n}\n</code></pre>\n\n<p>Cloning : 302 ms\nCreating : 885 ms</p>\n"},{"tags":[],"owner":{"account_id":6589671,"reputation":10127,"user_id":5091346,"accept_rate":72,"display_name":"Andrii Abramov"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1558119867,"creation_date":1499931787,"answer_id":45074400,"question_id":28725693,"body_markdown":"I have created [simple benchmark][1] for class `Person`:\r\n\r\n    public class Person {\r\n        \r\n        private String name;\r\n        private int age;\r\n\r\n        public String getName() {\r\n            return name;\r\n        }\r\n\r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n\r\n        public int getAge() {\r\n            return age;\r\n        }\r\n\r\n        public void setAge(int age) {\r\n            this.age = age;\r\n        }\r\n    }\r\n\r\nAnd got the following results:\r\n\r\n    Benchmark             Mode  Cnt     Score       Error   Units\r\n\r\n    MyBenchmark.viaClone  avgt   10     10.041 &#177;    0.059   ns/op\r\n    MyBenchmark.viaNew    avgt   10      7.617 &#177;    0.113   ns/op\r\n\r\nThis simple benchmark demonstrates that instantiating new object and setting corresponding properties from source object takes 25% less time than cloning it.\r\n\r\n\r\n  [1]: https://github.com/aaabramov/benchmark-it/blob/master/src/main/java/com/github/aaabramov/classes/CloneVsNewWithSetters.java","title":"How clone has more performance than object creation","body":"<p>I have created <a href=\"https://github.com/aaabramov/benchmark-it/blob/master/src/main/java/com/github/aaabramov/classes/CloneVsNewWithSetters.java\" rel=\"noreferrer\">simple benchmark</a> for class <code>Person</code>:</p>\n\n<pre><code>public class Person {\n\n    private String name;\n    private int age;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n}\n</code></pre>\n\n<p>And got the following results:</p>\n\n<pre><code>Benchmark             Mode  Cnt     Score       Error   Units\n\nMyBenchmark.viaClone  avgt   10     10.041 ±    0.059   ns/op\nMyBenchmark.viaNew    avgt   10      7.617 ±    0.113   ns/op\n</code></pre>\n\n<p>This simple benchmark demonstrates that instantiating new object and setting corresponding properties from source object takes 25% less time than cloning it.</p>\n"},{"tags":[],"owner":{"account_id":2396988,"reputation":523,"user_id":2095604,"display_name":"thangaraj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1503557027,"creation_date":1503557027,"answer_id":45854651,"question_id":28725693,"body_markdown":"My requirement is to create 1000&#39;s of object for a class. All those objects shares most of the properties in common. Hence I decided to create one base object with common properties and clone it and on cloned object set object specific properties. What will be the performance impact on this?. I tried out same example as above, with different approach and I noticed no much stable performance difference. Here are my code and results.\r\n\r\n\r\n    import java.util.*;\r\n\timport java.util.stream.*;\r\n\timport java.text.*;\r\n\tpublic class Test{\r\n\t\tpublic static void main(String[] args){\r\n\t\t\t\r\n\t\t\ttry{\r\n\t\t\t\tSimpleDateFormat sdf  = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n\t\t\t\tlong start = System.currentTimeMillis();\r\n\t\t\t\tSDFHolder holder = new SDFHolder();\r\n\t\t\t\tholder.setSdf(sdf);\r\n\t\t\t\tfor(int i = 0; i &lt; 1000000; i++){\r\n\t\t\t\t\tSDFHolder locHolder = (SDFHolder)holder.clone();\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(&quot;Cloning : &quot; + (System.currentTimeMillis() - start) + &quot; ms&quot;);\r\n\t\t\t\tstart = System.currentTimeMillis();\r\n\t\t\t\tfor(int i = 0; i &lt; 100000000; i++){\r\n\t\t\t\t\tSDFHolder locHolder = new SDFHolder();\r\n\t\t\t\t\tlocHolder.setSdf(sdf);\r\n\t\t\t\t}\r\n\t\t\t\tSystem.out.println(&quot;Creating : &quot; + (System.currentTimeMillis() - start) + &quot; ms&quot;);\r\n\t\t\t} catch(Exception e){\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tclass SDFHolder implements Cloneable {\r\n\t\tprivate SimpleDateFormat sdf;\r\n\t\t\r\n\t\tpublic void setSdf(SimpleDateFormat sdf){\r\n\t\t\tthis.sdf = sdf;\r\n\t\t}\r\n\t\t\r\n\t\tpublic SimpleDateFormat getSdf(){\r\n\t\t\treturn this.sdf;\r\n\t\t}\r\n\t\t\r\n\t\tpublic Object clone() throws CloneNotSupportedException {\r\n\t\t\treturn super.clone();\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\nAnd results are \r\n\r\n    C:\\Users\\thangaraj.s\\Desktop&gt;java Test\r\n\tCloning : 15 ms\r\n\tCreating : 0 ms\r\n\r\n\tC:\\Users\\thangaraj.s\\Desktop&gt;java Test\r\n\tCloning : 16 ms\r\n\tCreating : 0 ms\r\n\r\n\tC:\\Users\\thangaraj.s\\Desktop&gt;java Test\r\n\tCloning : 0 ms\r\n\tCreating : 15 ms\r\n\r\n\tC:\\Users\\thangaraj.s\\Desktop&gt;java Test\r\n\tCloning : 0 ms\r\n\tCreating : 16 ms\r\n\r\n\tC:\\Users\\thangaraj.s\\Desktop&gt;java Test\r\n\tCloning : 16 ms\r\n\tCreating : 0 ms\r\n\r\nSo, I don&#39;t think there is a huge performance impact on these but gives more concise code in-case of my requirement.","title":"How clone has more performance than object creation","body":"<p>My requirement is to create 1000's of object for a class. All those objects shares most of the properties in common. Hence I decided to create one base object with common properties and clone it and on cloned object set object specific properties. What will be the performance impact on this?. I tried out same example as above, with different approach and I noticed no much stable performance difference. Here are my code and results.</p>\n\n<pre><code>import java.util.*;\nimport java.util.stream.*;\nimport java.text.*;\npublic class Test{\n    public static void main(String[] args){\n\n        try{\n            SimpleDateFormat sdf  = new SimpleDateFormat(\"yyyy-MM-dd\");\n            long start = System.currentTimeMillis();\n            SDFHolder holder = new SDFHolder();\n            holder.setSdf(sdf);\n            for(int i = 0; i &lt; 1000000; i++){\n                SDFHolder locHolder = (SDFHolder)holder.clone();\n            }\n            System.out.println(\"Cloning : \" + (System.currentTimeMillis() - start) + \" ms\");\n            start = System.currentTimeMillis();\n            for(int i = 0; i &lt; 100000000; i++){\n                SDFHolder locHolder = new SDFHolder();\n                locHolder.setSdf(sdf);\n            }\n            System.out.println(\"Creating : \" + (System.currentTimeMillis() - start) + \" ms\");\n        } catch(Exception e){\n            e.printStackTrace();\n        }\n    }\n}\nclass SDFHolder implements Cloneable {\n    private SimpleDateFormat sdf;\n\n    public void setSdf(SimpleDateFormat sdf){\n        this.sdf = sdf;\n    }\n\n    public SimpleDateFormat getSdf(){\n        return this.sdf;\n    }\n\n    public Object clone() throws CloneNotSupportedException {\n        return super.clone();\n    }\n\n}\n</code></pre>\n\n<p>And results are </p>\n\n<pre><code>C:\\Users\\thangaraj.s\\Desktop&gt;java Test\nCloning : 15 ms\nCreating : 0 ms\n\nC:\\Users\\thangaraj.s\\Desktop&gt;java Test\nCloning : 16 ms\nCreating : 0 ms\n\nC:\\Users\\thangaraj.s\\Desktop&gt;java Test\nCloning : 0 ms\nCreating : 15 ms\n\nC:\\Users\\thangaraj.s\\Desktop&gt;java Test\nCloning : 0 ms\nCreating : 16 ms\n\nC:\\Users\\thangaraj.s\\Desktop&gt;java Test\nCloning : 16 ms\nCreating : 0 ms\n</code></pre>\n\n<p>So, I don't think there is a huge performance impact on these but gives more concise code in-case of my requirement.</p>\n"},{"tags":[],"owner":{"account_id":24331871,"reputation":1,"user_id":18270598,"display_name":"Alex Bo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690709259,"creation_date":1690709046,"answer_id":76797125,"question_id":28725693,"body_markdown":"It also depends on the number of fields and complex stored structures that will need to be cloned using the deep method.\r\nI came across a similar task where you need to give away a typical object as quickly as possible in 99% of cases and the object is very complex in content.\r\nTherefore, I am now considering the option to store the prepared binary object as a response template, and clone it and deploy it to the desired class. In theory, it can be faster, especially cloning for structurally complex objects.\r\nbut I don&#39;t know how effective it will be to convert a cloned object from a binary format to a class","title":"How clone has more performance than object creation","body":"<p>It also depends on the number of fields and complex stored structures that will need to be cloned using the deep method.\nI came across a similar task where you need to give away a typical object as quickly as possible in 99% of cases and the object is very complex in content.\nTherefore, I am now considering the option to store the prepared binary object as a response template, and clone it and deploy it to the desired class. In theory, it can be faster, especially cloning for structurally complex objects.\nbut I don't know how effective it will be to convert a cloned object from a binary format to a class</p>\n"}],"owner":{"account_id":4547120,"reputation":153,"user_id":4606836,"display_name":"lfernandez93"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13619,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":28729746,"answer_count":6,"score":11,"last_activity_date":1690709259,"creation_date":1424885387,"question_id":28725693,"body_markdown":"I&#39;m trying to understand what&#39;s happening underneath the clone() method in java, I would like to know how is better than doing a new call\r\n\r\n    public class Person implements Cloneable {\r\n\r\n        private String firstName;\r\n        private int id;\r\n        private String lastName;\r\n\r\n        //constructors, getters and setters\r\n\r\n        @Override\r\n        protected Object clone() throws CloneNotSupportedException {\r\n            Person p = (Person) super.clone();\r\n            return p;\r\n        }\r\n\r\n    }\r\n\r\nthis is my clone code i would like to know what&#39;s happening underneath and also what&#39;s the difference between a new call because.\r\n\r\nthis is my client code\r\n\r\n        Person p = new Person(&quot;John&quot;, 1, &quot;Doe&quot;);\r\n        Person p2 = null;\r\n        try {\r\n             p2 = (Person) p.clone();\r\n        } catch (CloneNotSupportedException ex) {\r\n            Logger.getLogger(clientPrototype.class.getName()).log(Level.SEVERE, null, ex);\r\n        }\r\n        p2.setFirstName(&quot;Jesus&quot;);\r\n        System.out.println(p);\r\n        System.out.println(p2);","title":"How clone has more performance than object creation","body":"<p>I'm trying to understand what's happening underneath the clone() method in java, I would like to know how is better than doing a new call</p>\n\n<pre><code>public class Person implements Cloneable {\n\n    private String firstName;\n    private int id;\n    private String lastName;\n\n    //constructors, getters and setters\n\n    @Override\n    protected Object clone() throws CloneNotSupportedException {\n        Person p = (Person) super.clone();\n        return p;\n    }\n\n}\n</code></pre>\n\n<p>this is my clone code i would like to know what's happening underneath and also what's the difference between a new call because.</p>\n\n<p>this is my client code</p>\n\n<pre><code>    Person p = new Person(\"John\", 1, \"Doe\");\n    Person p2 = null;\n    try {\n         p2 = (Person) p.clone();\n    } catch (CloneNotSupportedException ex) {\n        Logger.getLogger(clientPrototype.class.getName()).log(Level.SEVERE, null, ex);\n    }\n    p2.setFirstName(\"Jesus\");\n    System.out.println(p);\n    System.out.println(p2);\n</code></pre>\n"},{"tags":["java","android-intent","buttonclick"],"owner":{"account_id":28235101,"reputation":1,"user_id":21583696,"display_name":"Emmanuel Goldstein"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690706803,"creation_date":1690672862,"question_id":76795781,"body_markdown":"I have a series of XML and Java files - all co-named appropriately (main2.xml, main2activity.java, main3, main4, etc). I&#39;m calling the next named activity (main3) from a Bash command, within each page (main2, in this example).\r\n\r\nEverything works, but there&#39;s notable delay in execution - is there a more efficient way to load this in, than this?\r\n\r\n`am start com.evo.os/.Main3Activity`\r\n\r\nThey all work, every page does a demo load in, with a 3&quot; delay, as such:\r\n\r\n`su -c sleep 3 ; am start com.evo.os/.Main3Activity`\r\n\r\nThe delay is not in the 3&quot;, that&#39;s intentional. Trying to direct fire the `am start` bit pauses. Even my regular call via button delays - all of them:\r\n\r\n`onEnterButtonClick`fires Main2Activity, and the `onExitButtonClick` fires `finish();` but both with a shocking delay.\r\n\r\nAny help?","title":"How do I speed up inloading of local &#39;Activity&#39; file in Java?","body":"<p>I have a series of XML and Java files - all co-named appropriately (main2.xml, main2activity.java, main3, main4, etc). I'm calling the next named activity (main3) from a Bash command, within each page (main2, in this example).</p>\n<p>Everything works, but there's notable delay in execution - is there a more efficient way to load this in, than this?</p>\n<p><code>am start com.evo.os/.Main3Activity</code></p>\n<p>They all work, every page does a demo load in, with a 3&quot; delay, as such:</p>\n<p><code>su -c sleep 3 ; am start com.evo.os/.Main3Activity</code></p>\n<p>The delay is not in the 3&quot;, that's intentional. Trying to direct fire the <code>am start</code> bit pauses. Even my regular call via button delays - all of them:</p>\n<p><code>onEnterButtonClick</code>fires Main2Activity, and the <code>onExitButtonClick</code> fires <code>finish();</code> but both with a shocking delay.</p>\n<p>Any help?</p>\n"},{"tags":["java","lombok","getter-setter"],"comments":[{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":1,"creation_date":1690706055,"post_id":76796830,"comment_id":135388565,"body_markdown":"What is `this.toTime`? `this.toTimeStr`? Yes, you&#39;re supposed to reduce your code before posting it here, but not to the point where it doesn&#39;t compile! It still needs to show the behaviour you&#39;re asking about.","body":"What is <code>this.toTime</code>? <code>this.toTimeStr</code>? Yes, you&#39;re supposed to reduce your code before posting it here, but not to the point where it doesn&#39;t compile! It still needs to show the behaviour you&#39;re asking about."}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690706139,"creation_date":1690706139,"answer_id":76796964,"question_id":76796830,"body_markdown":"I think what’s happening here is the generated `equals`, `hashCode`, and `toString` methods will try to call `getToTime`. Since these methods can’t throw a checked exception, you’ll need to decide whether to change `getToTime` so that it doesn’t throw one, or write those methods explicitly to catch it.\r\n\r\nI would recommend changing the class to throw an exception when `toTimeString` is set, so that the error can be handled at the point it is introduced, rather than every time it is accessed subsequently. I would also recommend declaring a more specific exception type.","title":"Lombok gives java: unreported exception java.lang.Exception; must be caught or declared to be thrown","body":"<p>I think what’s happening here is the generated <code>equals</code>, <code>hashCode</code>, and <code>toString</code> methods will try to call <code>getToTime</code>. Since these methods can’t throw a checked exception, you’ll need to decide whether to change <code>getToTime</code> so that it doesn’t throw one, or write those methods explicitly to catch it.</p>\n<p>I would recommend changing the class to throw an exception when <code>toTimeString</code> is set, so that the error can be handled at the point it is introduced, rather than every time it is accessed subsequently. I would also recommend declaring a more specific exception type.</p>\n"}],"owner":{"account_id":15949656,"reputation":81,"user_id":11509328,"display_name":"Md. Saiful Islam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76796964,"answer_count":1,"score":0,"last_activity_date":1690706364,"creation_date":1690703572,"question_id":76796830,"body_markdown":"If I am not wrong, Lombok&#39;s @Data gives the getter, setter and other util methods. Developer can customize its generated methods. And I did that before.\r\nBut recently I have come across a scenario where I can&#39;t customize the mothods.\r\nHere my customized method:\r\n\r\n```\r\n@Data\r\npublic class DummyClass {\r\n\r\n    private static SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy HH:mm:ss&quot;);\r\n    private static Calendar cal = new GregorianCalendar();\r\n    \r\n    public String toTimeStr;\r\n    public Long toTime;\r\n\r\n     public long getToTime() throws Exception {\r\n        if(this.toTime==null){\r\n            cal.setTime(dateFormat.parse(this.toTimeStr));\r\n            this.toTime = cal.getTimeInMillis();\r\n        }\r\n        return this.toTime;\r\n      }\r\n}\r\n```\r\n\r\nI am getting compilation error: \r\n&quot;&quot;java: unreported exception java.lang.Exception; must be caught or declared to be thrown&quot;&quot;\r\n\r\n\r\nBut If I add try-catch inside the &quot;getToTime()&quot; method, then it seems fine.\r\nCould anyone please give insights that I am missing??\r\n\r\nHere the code when try-catch is added inside the getter method.\r\n```\r\npublic long getToTime(){\r\n        try{\r\n           if(this.toTime==null){\r\n            cal.setTime(dateFormat.parse(this.toTimeStr));\r\n            this.toTime = cal.getTimeInMillis();\r\n           }\r\n        }catch (Exception e){\r\n\r\n        }\r\n        return this.toTime;\r\n    }\r\n\r\n```\r\n\r\n","title":"Lombok gives java: unreported exception java.lang.Exception; must be caught or declared to be thrown","body":"<p>If I am not wrong, Lombok's @Data gives the getter, setter and other util methods. Developer can customize its generated methods. And I did that before.\nBut recently I have come across a scenario where I can't customize the mothods.\nHere my customized method:</p>\n<pre><code>@Data\npublic class DummyClass {\n\n    private static SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;dd-MM-yyyy HH:mm:ss&quot;);\n    private static Calendar cal = new GregorianCalendar();\n    \n    public String toTimeStr;\n    public Long toTime;\n\n     public long getToTime() throws Exception {\n        if(this.toTime==null){\n            cal.setTime(dateFormat.parse(this.toTimeStr));\n            this.toTime = cal.getTimeInMillis();\n        }\n        return this.toTime;\n      }\n}\n</code></pre>\n<p>I am getting compilation error:\n&quot;&quot;java: unreported exception java.lang.Exception; must be caught or declared to be thrown&quot;&quot;</p>\n<p>But If I add try-catch inside the &quot;getToTime()&quot; method, then it seems fine.\nCould anyone please give insights that I am missing??</p>\n<p>Here the code when try-catch is added inside the getter method.</p>\n<pre><code>public long getToTime(){\n        try{\n           if(this.toTime==null){\n            cal.setTime(dateFormat.parse(this.toTimeStr));\n            this.toTime = cal.getTimeInMillis();\n           }\n        }catch (Exception e){\n\n        }\n        return this.toTime;\n    }\n\n</code></pre>\n"},{"tags":["java","docker","maven","java-17"],"comments":[{"owner":{"account_id":19317142,"reputation":97,"user_id":14121658,"display_name":"jnasworld223"},"score":0,"creation_date":1690704169,"post_id":76796581,"comment_id":135388409,"body_markdown":"@experimentunit1998X Yeah, it is the first dependency listed.","body":"@experimentunit1998X Yeah, it is the first dependency listed."},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1690705240,"post_id":76796581,"comment_id":135388504,"body_markdown":"I found these SO posts that suggests you can use the maven-install-plugin to &quot;install&quot; your local jar as a dependency. Could you modify your pom accordingly and give it a shot? https://stackoverflow.com/a/62369881/16034206 https://stackoverflow.com/a/48436245/16034206","body":"I found these SO posts that suggests you can use the maven-install-plugin to &quot;install&quot; your local jar as a dependency. Could you modify your pom accordingly and give it a shot? <a href=\"https://stackoverflow.com/a/62369881/16034206\">stackoverflow.com/a/62369881/16034206</a> <a href=\"https://stackoverflow.com/a/48436245/16034206\">stackoverflow.com/a/48436245/16034206</a>"},{"owner":{"account_id":19317142,"reputation":97,"user_id":14121658,"display_name":"jnasworld223"},"score":0,"creation_date":1690707537,"post_id":76796581,"comment_id":135388663,"body_markdown":"@experimentunit1998X Thanks for the suggestion. I did not see any change with that plugin though.","body":"@experimentunit1998X Thanks for the suggestion. I did not see any change with that plugin though."}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690705315,"creation_date":1690705315,"answer_id":76796924,"question_id":76796581,"body_markdown":"With `install-file`, you need to add the Maven coordinates (GroupId, ArtifactId, Version) as parameters so that the JAR is placed at the correct place.","title":"How to get Maven to resolve dependencies from local repository","body":"<p>With <code>install-file</code>, you need to add the Maven coordinates (GroupId, ArtifactId, Version) as parameters so that the JAR is placed at the correct place.</p>\n"}],"owner":{"account_id":19317142,"reputation":97,"user_id":14121658,"display_name":"jnasworld223"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76796924,"answer_count":1,"score":2,"last_activity_date":1690705315,"creation_date":1690698330,"question_id":76796581,"body_markdown":"I am trying to build a Java project with Maven, but it is not able to find an artifact from a local jar file. \r\nI am attempting to follow instructions from [here](https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html).\r\nThe library I am trying to use was packaged by Maven and has groupId gov.nasa.drf and artifactId lib. \r\n\r\nMy build instructions:\r\n```\r\nmvn clean\r\nmvn org.apache.maven.plugins:maven-install-plugin:2.5.2:install-file -Dfile=./repo/gov/nasa/drf/lib/lib-1.0.jar\r\nmvn compile\r\nmvn package\r\n```\r\n\r\nThe install runs successfully, but the compile step fails with\r\n```\r\nFailed to execute goal on project auth: Could not resolve dependencies for project gov.nasa.drf:auth:jar:2.0: Could not find artifact gov.nasa.drf:lib:jar:1.0 in data-local (file:///buildDir/repo)\r\n```\r\n\r\nFor deployment (and consistency) I am running the build commands in Docker. My dockerfile:\r\n```\r\nFROM maven:3-openjdk-17 AS build\r\n\r\nCOPY ./src /buildDir/src\r\nCOPY ./repo /buildDir/repo\r\nCOPY pom.xml /buildDir/pom.xml\r\nRUN mkdir ~/.m2\r\n\r\nWORKDIR /buildDir\r\nRUN mvn clean \r\nRUN mvn org.apache.maven.plugins:maven-install-plugin:2.5.2:install-file -Dfile=./repo/gov/nasa/drf/lib/lib-1.0.jar\r\nRUN mvn compile \r\nRUN mvn package \r\n\r\nFROM openjdk:17-oracle\r\nRUN mkdir -p /api/target\r\nRUN mkdir -p /api/src/main\r\nRUN mkdir /api/keys\r\nRUN mkdir /api/logs\r\nCOPY src/main/resources /api/src/main/resources\r\nCOPY --from=build /buildDir/target /api/target\r\nCOPY pom.xml /api/pom.xml\r\nWORKDIR /api\r\nEXPOSE 8082\r\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;/api/target/auth-2.0.jar&quot;]\r\n```\r\n\r\nMy pom.xml:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;gov.nasa.drf&lt;/groupId&gt;\r\n    &lt;artifactId&gt;auth&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;spring.version&gt;6.1.0.RELEASE&lt;/spring.version&gt;\r\n        &lt;aspectj.version&gt;1.9.19&lt;/aspectj.version&gt;\r\n        &lt;log4j2.version&gt;2.17.1&lt;/log4j2.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n        &lt;version&gt;3.1.1&lt;/version&gt;\r\n    &lt;/parent&gt;\r\n\r\n    &lt;repositories&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;data-local&lt;/id&gt;\r\n            &lt;name&gt;data&lt;/name&gt;\r\n            &lt;url&gt;file://${project.basedir}/repo&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/repositories&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                            &lt;mainClass&gt;gov.nasa.drf.auth.App&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;repackage&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.2&lt;/version&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\r\n                        &lt;version&gt;3.1.2&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;parallel&gt;both&lt;/parallel&gt;\r\n                    &lt;threadCount&gt;4&lt;/threadCount&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/*Test&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;1.14.0&lt;/version&gt;\r\n                &lt;dependencies&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n                        &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                    &lt;dependency&gt;\r\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\r\n                        &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n                    &lt;/dependency&gt;\r\n                &lt;/dependencies&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;compile&lt;/goal&gt;\r\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;outxml&gt;true&lt;/outxml&gt;\r\n                    &lt;verbose&gt;true&lt;/verbose&gt;\r\n                    &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\r\n                    &lt;aspectLibraries&gt;\r\n                        &lt;aspectLibrary&gt;\r\n                            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n                        &lt;/aspectLibrary&gt;\r\n                    &lt;/aspectLibraries&gt;\r\n                    &lt;source&gt;17&lt;/source&gt;\r\n                    &lt;target&gt;17&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;gov.nasa.drf&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lib&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.joschi.jackson&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jackson-datatype-threetenbp&lt;/artifactId&gt;\r\n            &lt;version&gt;2.13.0-rc2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.28&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n            &lt;version&gt;42.6.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\r\n            &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\r\n            &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\r\n            &lt;version&gt;${aspectj.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/project&gt;\r\n```\r\n","title":"How to get Maven to resolve dependencies from local repository","body":"<p>I am trying to build a Java project with Maven, but it is not able to find an artifact from a local jar file.\nI am attempting to follow instructions from <a href=\"https://maven.apache.org/guides/mini/guide-3rd-party-jars-local.html\" rel=\"nofollow noreferrer\">here</a>.\nThe library I am trying to use was packaged by Maven and has groupId gov.nasa.drf and artifactId lib.</p>\n<p>My build instructions:</p>\n<pre><code>mvn clean\nmvn org.apache.maven.plugins:maven-install-plugin:2.5.2:install-file -Dfile=./repo/gov/nasa/drf/lib/lib-1.0.jar\nmvn compile\nmvn package\n</code></pre>\n<p>The install runs successfully, but the compile step fails with</p>\n<pre><code>Failed to execute goal on project auth: Could not resolve dependencies for project gov.nasa.drf:auth:jar:2.0: Could not find artifact gov.nasa.drf:lib:jar:1.0 in data-local (file:///buildDir/repo)\n</code></pre>\n<p>For deployment (and consistency) I am running the build commands in Docker. My dockerfile:</p>\n<pre><code>FROM maven:3-openjdk-17 AS build\n\nCOPY ./src /buildDir/src\nCOPY ./repo /buildDir/repo\nCOPY pom.xml /buildDir/pom.xml\nRUN mkdir ~/.m2\n\nWORKDIR /buildDir\nRUN mvn clean \nRUN mvn org.apache.maven.plugins:maven-install-plugin:2.5.2:install-file -Dfile=./repo/gov/nasa/drf/lib/lib-1.0.jar\nRUN mvn compile \nRUN mvn package \n\nFROM openjdk:17-oracle\nRUN mkdir -p /api/target\nRUN mkdir -p /api/src/main\nRUN mkdir /api/keys\nRUN mkdir /api/logs\nCOPY src/main/resources /api/src/main/resources\nCOPY --from=build /buildDir/target /api/target\nCOPY pom.xml /api/pom.xml\nWORKDIR /api\nEXPOSE 8082\nCMD [&quot;java&quot;, &quot;-jar&quot;, &quot;/api/target/auth-2.0.jar&quot;]\n</code></pre>\n<p>My pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;gov.nasa.drf&lt;/groupId&gt;\n    &lt;artifactId&gt;auth&lt;/artifactId&gt;\n    &lt;version&gt;2.0&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n        &lt;spring.version&gt;6.1.0.RELEASE&lt;/spring.version&gt;\n        &lt;aspectj.version&gt;1.9.19&lt;/aspectj.version&gt;\n        &lt;log4j2.version&gt;2.17.1&lt;/log4j2.version&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;/properties&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;data-local&lt;/id&gt;\n            &lt;name&gt;data&lt;/name&gt;\n            &lt;url&gt;file://${project.basedir}/repo&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                            &lt;mainClass&gt;gov.nasa.drf.auth.App&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.2&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.apache.maven.surefire&lt;/groupId&gt;\n                        &lt;artifactId&gt;surefire-junit47&lt;/artifactId&gt;\n                        &lt;version&gt;3.1.2&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n                &lt;configuration&gt;\n                    &lt;parallel&gt;both&lt;/parallel&gt;\n                    &lt;threadCount&gt;4&lt;/threadCount&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/*Test&lt;/include&gt;\n                    &lt;/includes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;\n                &lt;artifactId&gt;aspectj-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;1.14.0&lt;/version&gt;\n                &lt;dependencies&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                        &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n                        &lt;version&gt;${aspectj.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                    &lt;dependency&gt;\n                        &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n                        &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\n                        &lt;version&gt;${aspectj.version}&lt;/version&gt;\n                    &lt;/dependency&gt;\n                &lt;/dependencies&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;compile&lt;/goal&gt;\n                            &lt;goal&gt;test-compile&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n                &lt;configuration&gt;\n                    &lt;outxml&gt;true&lt;/outxml&gt;\n                    &lt;verbose&gt;true&lt;/verbose&gt;\n                    &lt;showWeaveInfo&gt;true&lt;/showWeaveInfo&gt;\n                    &lt;aspectLibraries&gt;\n                        &lt;aspectLibrary&gt;\n                            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n                            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n                        &lt;/aspectLibrary&gt;\n                    &lt;/aspectLibraries&gt;\n                    &lt;source&gt;17&lt;/source&gt;\n                    &lt;target&gt;17&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;gov.nasa.drf&lt;/groupId&gt;\n            &lt;artifactId&gt;lib&lt;/artifactId&gt;\n            &lt;version&gt;1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.joschi.jackson&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-threetenbp&lt;/artifactId&gt;\n            &lt;version&gt;2.13.0-rc2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;1.18.28&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;version&gt;42.6.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjrt&lt;/artifactId&gt;\n            &lt;version&gt;${aspectj.version}&lt;/version&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjtools&lt;/artifactId&gt;\n            &lt;version&gt;${aspectj.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.aspectj&lt;/groupId&gt;\n            &lt;artifactId&gt;aspectjweaver&lt;/artifactId&gt;\n            &lt;version&gt;${aspectj.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aop&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-aspects&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","http","websocket"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":1,"creation_date":1690565152,"post_id":76789555,"comment_id":135376484,"body_markdown":"Rendering an image is something that a browser could do. A server only provides the data.","body":"Rendering an image is something that a browser could do. A server only provides the data."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1690568826,"post_id":76789555,"comment_id":135377102,"body_markdown":"*this.header.append(i);* is already treating the image as a string as you&#39;re using a `StringBuilder` to accumulate it. If you must accumulate, you should use a `ByteArrayOutputStream` but you could just write is straight out after the header","body":"<i>this.header.append(i);</i> is already treating the image as a string as you&#39;re using a <code>StringBuilder</code> to accumulate it. If you must accumulate, you should use a <code>ByteArrayOutputStream</code> but you could just write is straight out after the header"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1690571230,"post_id":76789555,"comment_id":135377461,"body_markdown":"You are appending an empty line (`&quot;\\r\\n&quot;`) after the body instead of between the headers and the body. That may not be your only problem, though.","body":"You are appending an empty line (<code>&quot;\\r\\n&quot;</code>) after the body instead of between the headers and the body. That may not be your only problem, though."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1690571551,"post_id":76789555,"comment_id":135377503,"body_markdown":"It definitely isn&#39;t the only problem. You are also effectively converting the file contents to UTF-16 when you insert bytes into a StringBuilder and then converting them to who knows what by calling `getBytes()` which you should never, ever use. It uses the default platform encoding which is different on different machines, Java versions, and may very well not be what you want. There&#39;s also a tiny chance it is what you want, in which case your program will work by mistake, until you run it on a different machine or compile it with a different version, and it doesn&#39;t.","body":"It definitely isn&#39;t the only problem. You are also effectively converting the file contents to UTF-16 when you insert bytes into a StringBuilder and then converting them to who knows what by calling <code>getBytes()</code> which you should never, ever use. It uses the default platform encoding which is different on different machines, Java versions, and may very well not be what you want. There&#39;s also a tiny chance it is what you want, in which case your program will work by mistake, until you run it on a different machine or compile it with a different version, and it doesn&#39;t."},{"owner":{"account_id":26166704,"reputation":65,"user_id":19852405,"display_name":"Gabriel Gavrilov"},"score":0,"creation_date":1690572699,"post_id":76789555,"comment_id":135377667,"body_markdown":"@DavidConrad Thank you for pointing that out. I&#39;ll take g00se&#39;s suggestion and rewrite the response class to use a byte array instead of a StringBuilder.","body":"@DavidConrad Thank you for pointing that out. I&#39;ll take g00se&#39;s suggestion and rewrite the response class to use a byte array instead of a StringBuilder."}],"answers":[{"tags":[],"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690563904,"creation_date":1690563904,"answer_id":76789796,"question_id":76789555,"body_markdown":"You are reading the file contents as a string but an image is a binary file. Use a byte array to read. Don&#39;t use strings to process binaries.","title":"Java HTTP server is not rendering images properly","body":"<p>You are reading the file contents as a string but an image is a binary file. Use a byte array to read. Don't use strings to process binaries.</p>\n"},{"tags":[],"owner":{"account_id":25589,"reputation":562121,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690705067,"creation_date":1690579024,"answer_id":76791070,"question_id":76789555,"body_markdown":"There are many problems with your `MochaResponse` class.\r\n\r\n- you are using a `StringBuilder` to prepare your entire HTTP response.  That is fine for HTML and CSS, which are textual formats, but an image is binary data, so you can&#39;t use a `StringBuilder` to send it.  Consider using a `ByteArrayOutputStream` or `BufferedOutputStream` instead.  You can use a `PrintWriter` or `OutputStreamWriter` to write textual data into it when needed.  Otherwise, use the `StringBuilder` *only* for preparing the HTTP response headers (as the name `header` implies), and then send the raw bytes of the target file separately in the HTTP response body.\r\n\r\n- in your constructor, you are appending 2 default lines to `header`, and then you are storing a 3rd empty line.  That 3rd line effectively terminates your HTTP response headers, causing everything you append to `header` afterwards to be treated as part of the HTTP response body, including subsequent calls to `addHeader()`.  Do not put the empty line into `header` until you are finished adding HTTP headers to it.  And, do not put an empty line after the HTTP body content at all.  That is not how an HTTP message is terminated.\r\n\r\n- in `renderImage()`, you are reading each byte from the image file and storing the text representation of the byte&#39;s numeric value into your `StringBuider`.  For example, if you read a byte `0xFF`, you store the text value `&quot;255&quot;` instead.  This is why your HTTP response is much larger than the image file&#39;s actual size, and why (in part) the browser thinks the image data is invalid (the other part is because of #1 above).\r\n\r\n- while not strictly necessary (because you are closing the socket connection after sending the response), you should include a `Content-Length` HTTP header to specify the actual byte size of the HTTP response body, no matter what file format you are sending.\r\n\r\nThat being said, there is a major problem with your `MochaClient` class, too. It is expecting the HTTP response to be purely textual only, it is not handling binary data at all.  It is just reading delimited lines of text until the server closes the connection.  This is the wrong way to read in an HTTP message.\r\n\r\nYou must stop reading lines once you have reached the empty line that separates the HTTP headers from the HTTP body.  Then you need to analyze the HTTP headers to figure out:\r\n\r\n1. what type of data the HTTP body contains (text vs binary, etc).\r\n\r\n2. how to read it (ie, chunked vs not, compressed vs not, etc).\r\n\r\n3. how the response is terminated (ie, via a 0-sized chunk, the `Content-Length` header, or a socket disconnect).\r\n\r\nOnly then can you actually read in the HTTP body accordingly until the end of the proper request is reached.\r\n\r\nThat being said, Java has its own built-in [`HttpServer`](https://docs.oracle.com/javase/8/docs/jre/api/net/httpserver/spec/com/sun/net/httpserver/HttpServer.html) and [`HttpClient`](https://docs.oracle.com/en/java/javase/20/docs/api/java.net.http/java/net/http/HttpClient.html) classes, consider using them instead of implementing the HTTP protocol from scratch.","title":"Java HTTP server is not rendering images properly","body":"<p>There are many problems with your <code>MochaResponse</code> class.</p>\n<ul>\n<li><p>you are using a <code>StringBuilder</code> to prepare your entire HTTP response.  That is fine for HTML and CSS, which are textual formats, but an image is binary data, so you can't use a <code>StringBuilder</code> to send it.  Consider using a <code>ByteArrayOutputStream</code> or <code>BufferedOutputStream</code> instead.  You can use a <code>PrintWriter</code> or <code>OutputStreamWriter</code> to write textual data into it when needed.  Otherwise, use the <code>StringBuilder</code> <em>only</em> for preparing the HTTP response headers (as the name <code>header</code> implies), and then send the raw bytes of the target file separately in the HTTP response body.</p>\n</li>\n<li><p>in your constructor, you are appending 2 default lines to <code>header</code>, and then you are storing a 3rd empty line.  That 3rd line effectively terminates your HTTP response headers, causing everything you append to <code>header</code> afterwards to be treated as part of the HTTP response body, including subsequent calls to <code>addHeader()</code>.  Do not put the empty line into <code>header</code> until you are finished adding HTTP headers to it.  And, do not put an empty line after the HTTP body content at all.  That is not how an HTTP message is terminated.</p>\n</li>\n<li><p>in <code>renderImage()</code>, you are reading each byte from the image file and storing the text representation of the byte's numeric value into your <code>StringBuider</code>.  For example, if you read a byte <code>0xFF</code>, you store the text value <code>&quot;255&quot;</code> instead.  This is why your HTTP response is much larger than the image file's actual size, and why (in part) the browser thinks the image data is invalid (the other part is because of #1 above).</p>\n</li>\n<li><p>while not strictly necessary (because you are closing the socket connection after sending the response), you should include a <code>Content-Length</code> HTTP header to specify the actual byte size of the HTTP response body, no matter what file format you are sending.</p>\n</li>\n</ul>\n<p>That being said, there is a major problem with your <code>MochaClient</code> class, too. It is expecting the HTTP response to be purely textual only, it is not handling binary data at all.  It is just reading delimited lines of text until the server closes the connection.  This is the wrong way to read in an HTTP message.</p>\n<p>You must stop reading lines once you have reached the empty line that separates the HTTP headers from the HTTP body.  Then you need to analyze the HTTP headers to figure out:</p>\n<ol>\n<li><p>what type of data the HTTP body contains (text vs binary, etc).</p>\n</li>\n<li><p>how to read it (ie, chunked vs not, compressed vs not, etc).</p>\n</li>\n<li><p>how the response is terminated (ie, via a 0-sized chunk, the <code>Content-Length</code> header, or a socket disconnect).</p>\n</li>\n</ol>\n<p>Only then can you actually read in the HTTP body accordingly until the end of the proper request is reached.</p>\n<p>That being said, Java has its own built-in <a href=\"https://docs.oracle.com/javase/8/docs/jre/api/net/httpserver/spec/com/sun/net/httpserver/HttpServer.html\" rel=\"nofollow noreferrer\"><code>HttpServer</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.net.http/java/net/http/HttpClient.html\" rel=\"nofollow noreferrer\"><code>HttpClient</code></a> classes, consider using them instead of implementing the HTTP protocol from scratch.</p>\n"}],"owner":{"account_id":26166704,"reputation":65,"user_id":19852405,"display_name":"Gabriel Gavrilov"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76791070,"answer_count":2,"score":1,"last_activity_date":1690705067,"creation_date":1690561570,"question_id":76789555,"body_markdown":"I&#39;m working on a simple HTTP web server in Java using sockets. I&#39;m currently working on a feature that allows me to render static files automatically. Everything works fine, I&#39;m able to render CSS and JavaScript files, but for some reason I&#39;m unable to render any image file.\r\n\r\nPrinting the response header does return the images bytes. And when I&#39;m looking at the network tab  when debugging, it shows the image route returns around 381 kB of data while the image itself is 151 kB, so I assume something is returning.\r\n\r\nWhen I go to the image route, it says &quot;The image (directory) cannot be displayed, because it contains errors.&quot;\r\n\r\n**MochaResponse.java**\r\n```\r\npackage com.gabrielgavrilov.mocha;\r\n\r\nimport java.io.FileInputStream;\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\n\r\npublic class MochaResponse\r\n{\r\n\r\n    public StringBuilder header = new StringBuilder();\r\n\r\n    MochaResponse(String status, String contentType)\r\n    {\r\n        this.header.append(&quot;HTTP/1.0 &quot; + status + &quot;\\r\\n&quot;);\r\n        this.header.append(&quot;Content-Type: &quot; + contentType + &quot;\\r\\n&quot;);\r\n        appendEmpty();\r\n    }\r\n\r\n    public void addHeader(String header, String value)\r\n    {\r\n        this.header.append(header + &quot;: &quot; + value + &quot;\\r\\n&quot;);\r\n    }\r\n\r\n    public void setCookie(String key, String value)\r\n    {\r\n        addHeader(&quot;Set-Cookie&quot;, key+&quot;=&quot;+value);\r\n    }\r\n\r\n    public void send(String data)\r\n    {\r\n        this.header.append(data);\r\n        appendEmpty();\r\n    }\r\n\r\n    public void render(String fileName)\r\n    {\r\n        render(fileName, Mocha.VIEWS_DIRECTORY);\r\n    }\r\n\r\n    public void render(String fileName, String directory)\r\n    {\r\n        try\r\n        {\r\n            String fileContent = Files.readString(Paths.get(directory + fileName));\r\n            send(fileContent);\r\n        }\r\n        catch (IOException e)\r\n        {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    protected void renderImage(String file)\r\n    {\r\n        try\r\n        {\r\n            FileInputStream content = new FileInputStream(Mocha.STATIC_DIRECTORY + file);\r\n\r\n            int i = 0;\r\n            while((i = content.read()) != -1)\r\n            {\r\n                this.header.append(i);\r\n            }\r\n\r\n            System.out.println(this.header);\r\n\r\n            appendEmpty();\r\n            content.close();\r\n        }\r\n        catch(IOException e)\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void appendEmpty()\r\n    {\r\n        this.header.append(&quot;\\r\\n&quot;);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n**MochaClient.java**\r\n```\r\npackage com.gabrielgavrilov.mocha;\r\n\r\nimport java.io.*;\r\nimport java.nio.Buffer;\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\nimport java.util.function.BiConsumer;\r\n\r\npublic class MochaClient {\r\n\r\n    MochaClient(InputStream clientInput, OutputStream clientOutput)\r\n    {\r\n        try\r\n        {\r\n            InputStreamReader sr = new InputStreamReader(clientInput);\r\n            BufferedReader br = new BufferedReader(sr);\r\n            StringBuilder clientHeader = new StringBuilder();\r\n\r\n            String line;\r\n            while((line = br.readLine()).length() != 0)\r\n            {\r\n                clientHeader.append(line + &quot;\\r\\n&quot;);\r\n            }\r\n\r\n            String route = getRequestedRoute(clientHeader.toString());\r\n            String method = getRequestedMethod(clientHeader.toString());\r\n\r\n            handleRequest(clientHeader.toString(), route, method, clientOutput, br);\r\n        }\r\n        catch (IOException e)\r\n        {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\n    private void handleRequest(String header, String route, String method, OutputStream clientOutput, BufferedReader br) throws IOException\r\n    {\r\n        String type = checkForStaticRoute(route);\r\n\r\n        if(type != null)\r\n        {\r\n            handleStaticRoute(route, type, clientOutput);\r\n            return;\r\n        }\r\n\r\n        switch(method)\r\n        {\r\n            case &quot;GET&quot;:\r\n                handleGetRequest(header, route, clientOutput);\r\n                break;\r\n            case &quot;POST&quot;:\r\n                handlePostRequest(header, route, clientOutput, br);\r\n                break;\r\n        }\r\n    }\r\n\r\n    private String checkForStaticRoute(String route) throws IOException\r\n    {\r\n        if(route.contains(&quot;.&quot;))\r\n        {\r\n            String[] routeSplit = route.split(&quot;\\\\.&quot;);\r\n            return routeSplit[routeSplit.length-1];\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    private void handleStaticRoute(String route, String type, OutputStream clientOutput) throws IOException\r\n    {\r\n        switch(type)\r\n        {\r\n            case &quot;css&quot;:\r\n                renderStaticFile(&quot;text/css&quot;, route, clientOutput);\r\n                break;\r\n            case &quot;js&quot;:\r\n                renderStaticFile(&quot;text/javascript&quot;, route, clientOutput);\r\n                break;\r\n            case &quot;png&quot;:\r\n                renderStaticImage(&quot;image/png&quot;, route, clientOutput);\r\n                break;\r\n            case &quot;jpeg&quot;:\r\n                renderStaticImage(&quot;image/jpeg&quot;, route, clientOutput);\r\n                break;\r\n        }\r\n    }\r\n\r\n    private void renderStaticFile(String contentType, String route, OutputStream clientOutput) throws IOException\r\n    {\r\n        String file = route.substring(1);\r\n        MochaResponse response = new MochaResponse(&quot;200 OK&quot;, contentType);\r\n\r\n        response.render(file, Mocha.STATIC_DIRECTORY);\r\n\r\n        clientOutput.write(response.header.toString().getBytes());\r\n        clientOutput.flush();\r\n    }\r\n\r\n    private void renderStaticImage(String contentType, String route, OutputStream clientOutput) throws IOException\r\n    {\r\n        String file = route.substring(1);\r\n        MochaResponse response = new MochaResponse(&quot;200 OK&quot;, contentType);\r\n\r\n        response.renderImage(file);\r\n\r\n        clientOutput.write(response.header.toString().getBytes());\r\n        clientOutput.flush();\r\n    }\r\n\r\n    ...\r\n```\r\n\r\nIf someone could help guide me to the right direction, that would be greatly appreciated.\r\nThanks!","title":"Java HTTP server is not rendering images properly","body":"<p>I'm working on a simple HTTP web server in Java using sockets. I'm currently working on a feature that allows me to render static files automatically. Everything works fine, I'm able to render CSS and JavaScript files, but for some reason I'm unable to render any image file.</p>\n<p>Printing the response header does return the images bytes. And when I'm looking at the network tab  when debugging, it shows the image route returns around 381 kB of data while the image itself is 151 kB, so I assume something is returning.</p>\n<p>When I go to the image route, it says &quot;The image (directory) cannot be displayed, because it contains errors.&quot;</p>\n<p><strong>MochaResponse.java</strong></p>\n<pre><code>package com.gabrielgavrilov.mocha;\n\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\n\npublic class MochaResponse\n{\n\n    public StringBuilder header = new StringBuilder();\n\n    MochaResponse(String status, String contentType)\n    {\n        this.header.append(&quot;HTTP/1.0 &quot; + status + &quot;\\r\\n&quot;);\n        this.header.append(&quot;Content-Type: &quot; + contentType + &quot;\\r\\n&quot;);\n        appendEmpty();\n    }\n\n    public void addHeader(String header, String value)\n    {\n        this.header.append(header + &quot;: &quot; + value + &quot;\\r\\n&quot;);\n    }\n\n    public void setCookie(String key, String value)\n    {\n        addHeader(&quot;Set-Cookie&quot;, key+&quot;=&quot;+value);\n    }\n\n    public void send(String data)\n    {\n        this.header.append(data);\n        appendEmpty();\n    }\n\n    public void render(String fileName)\n    {\n        render(fileName, Mocha.VIEWS_DIRECTORY);\n    }\n\n    public void render(String fileName, String directory)\n    {\n        try\n        {\n            String fileContent = Files.readString(Paths.get(directory + fileName));\n            send(fileContent);\n        }\n        catch (IOException e)\n        {\n            throw new RuntimeException(e);\n        }\n    }\n\n    protected void renderImage(String file)\n    {\n        try\n        {\n            FileInputStream content = new FileInputStream(Mocha.STATIC_DIRECTORY + file);\n\n            int i = 0;\n            while((i = content.read()) != -1)\n            {\n                this.header.append(i);\n            }\n\n            System.out.println(this.header);\n\n            appendEmpty();\n            content.close();\n        }\n        catch(IOException e)\n        {\n            e.printStackTrace();\n        }\n    }\n\n    private void appendEmpty()\n    {\n        this.header.append(&quot;\\r\\n&quot;);\n    }\n\n}\n\n</code></pre>\n<p><strong>MochaClient.java</strong></p>\n<pre><code>package com.gabrielgavrilov.mocha;\n\nimport java.io.*;\nimport java.nio.Buffer;\nimport java.util.HashMap;\nimport java.util.Map;\nimport java.util.function.BiConsumer;\n\npublic class MochaClient {\n\n    MochaClient(InputStream clientInput, OutputStream clientOutput)\n    {\n        try\n        {\n            InputStreamReader sr = new InputStreamReader(clientInput);\n            BufferedReader br = new BufferedReader(sr);\n            StringBuilder clientHeader = new StringBuilder();\n\n            String line;\n            while((line = br.readLine()).length() != 0)\n            {\n                clientHeader.append(line + &quot;\\r\\n&quot;);\n            }\n\n            String route = getRequestedRoute(clientHeader.toString());\n            String method = getRequestedMethod(clientHeader.toString());\n\n            handleRequest(clientHeader.toString(), route, method, clientOutput, br);\n        }\n        catch (IOException e)\n        {\n            throw new RuntimeException(e);\n        }\n    }\n\n    private void handleRequest(String header, String route, String method, OutputStream clientOutput, BufferedReader br) throws IOException\n    {\n        String type = checkForStaticRoute(route);\n\n        if(type != null)\n        {\n            handleStaticRoute(route, type, clientOutput);\n            return;\n        }\n\n        switch(method)\n        {\n            case &quot;GET&quot;:\n                handleGetRequest(header, route, clientOutput);\n                break;\n            case &quot;POST&quot;:\n                handlePostRequest(header, route, clientOutput, br);\n                break;\n        }\n    }\n\n    private String checkForStaticRoute(String route) throws IOException\n    {\n        if(route.contains(&quot;.&quot;))\n        {\n            String[] routeSplit = route.split(&quot;\\\\.&quot;);\n            return routeSplit[routeSplit.length-1];\n        }\n\n        return null;\n    }\n\n    private void handleStaticRoute(String route, String type, OutputStream clientOutput) throws IOException\n    {\n        switch(type)\n        {\n            case &quot;css&quot;:\n                renderStaticFile(&quot;text/css&quot;, route, clientOutput);\n                break;\n            case &quot;js&quot;:\n                renderStaticFile(&quot;text/javascript&quot;, route, clientOutput);\n                break;\n            case &quot;png&quot;:\n                renderStaticImage(&quot;image/png&quot;, route, clientOutput);\n                break;\n            case &quot;jpeg&quot;:\n                renderStaticImage(&quot;image/jpeg&quot;, route, clientOutput);\n                break;\n        }\n    }\n\n    private void renderStaticFile(String contentType, String route, OutputStream clientOutput) throws IOException\n    {\n        String file = route.substring(1);\n        MochaResponse response = new MochaResponse(&quot;200 OK&quot;, contentType);\n\n        response.render(file, Mocha.STATIC_DIRECTORY);\n\n        clientOutput.write(response.header.toString().getBytes());\n        clientOutput.flush();\n    }\n\n    private void renderStaticImage(String contentType, String route, OutputStream clientOutput) throws IOException\n    {\n        String file = route.substring(1);\n        MochaResponse response = new MochaResponse(&quot;200 OK&quot;, contentType);\n\n        response.renderImage(file);\n\n        clientOutput.write(response.header.toString().getBytes());\n        clientOutput.flush();\n    }\n\n    ...\n</code></pre>\n<p>If someone could help guide me to the right direction, that would be greatly appreciated.\nThanks!</p>\n"},{"tags":["java","spring","spring-boot","file-upload","apache-commons"],"owner":{"account_id":5300710,"reputation":269,"user_id":4230445,"display_name":"rahulP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690704078,"creation_date":1690704078,"question_id":76796856,"body_markdown":"I am trying to build a solution on resuming the file upload. If there is any problem occures on the initial file upload, the below code is suppose to resume the upload from the same point where it was failed.\r\n\r\nI am first checking the bytes count which are already uploaded and then i am skipping those bytes from the inputStream and continuing with the upload.\r\n\r\n```\r\n        InputStream inputStream = null;\r\n        OutputStream outputStream = null;\r\n        String fileName = null;\r\n        long uploadedBytes = 0;\r\n        try {\r\n            FileItemIterator fileItemIterator = servletFileUpload.getItemIterator(httpServletRequest);\r\n            while (fileItemIterator.hasNext()) {\r\n\r\n                FileItemStream fileItemStream = fileItemIterator.next();\r\n                fileName = fileItemStream.getName();\r\n                File file = new File(&quot;D:/filetest/output/&quot; + fileName);\r\n                if (file.exists()) {\r\n                    uploadedBytes = file.length();\r\n                    System.out.println(&quot;uploaded bytes &quot; + uploadedBytes);\r\n                    outputStream = new FileOutputStream(file, true);\r\n                }else{\r\n                    outputStream = new FileOutputStream(file);\r\n                }\r\n                inputStream = fileItemStream.openStream();\r\n\r\n                IOUtils.skip(inputStream,uploadedBytes);\r\n                IOUtils.copy(inputStream,outputStream);\r\n            }\r\n        } \r\n```\r\n\r\nI tried this code in a .mkv file and the output file was working fine. Is this the correct way of resuming the file upload? Is there some more things i need to take care?","title":"Need feeback on resume file upload utility","body":"<p>I am trying to build a solution on resuming the file upload. If there is any problem occures on the initial file upload, the below code is suppose to resume the upload from the same point where it was failed.</p>\n<p>I am first checking the bytes count which are already uploaded and then i am skipping those bytes from the inputStream and continuing with the upload.</p>\n<pre><code>        InputStream inputStream = null;\n        OutputStream outputStream = null;\n        String fileName = null;\n        long uploadedBytes = 0;\n        try {\n            FileItemIterator fileItemIterator = servletFileUpload.getItemIterator(httpServletRequest);\n            while (fileItemIterator.hasNext()) {\n\n                FileItemStream fileItemStream = fileItemIterator.next();\n                fileName = fileItemStream.getName();\n                File file = new File(&quot;D:/filetest/output/&quot; + fileName);\n                if (file.exists()) {\n                    uploadedBytes = file.length();\n                    System.out.println(&quot;uploaded bytes &quot; + uploadedBytes);\n                    outputStream = new FileOutputStream(file, true);\n                }else{\n                    outputStream = new FileOutputStream(file);\n                }\n                inputStream = fileItemStream.openStream();\n\n                IOUtils.skip(inputStream,uploadedBytes);\n                IOUtils.copy(inputStream,outputStream);\n            }\n        } \n</code></pre>\n<p>I tried this code in a .mkv file and the output file was working fine. Is this the correct way of resuming the file upload? Is there some more things i need to take care?</p>\n"},{"tags":["java","tomcat","xampp"],"answers":[{"tags":[],"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1451312144,"creation_date":1451312144,"answer_id":34495180,"question_id":34495137,"body_markdown":"See :\r\n\r\n    Caused by: java.net.BindException: Address already in use: JVM_Bind\r\n\r\nThe port that Tomcat is configured to use, is already in use by another application.\r\n\r\nEither shutdown the other application, or edit your `server.xml` file to use another port (the default one is 8080).\r\n\r\n","title":"Tomcat shutdown unexpectedly","body":"<p>See :</p>\n\n<pre><code>Caused by: java.net.BindException: Address already in use: JVM_Bind\n</code></pre>\n\n<p>The port that Tomcat is configured to use, is already in use by another application.</p>\n\n<p>Either shutdown the other application, or edit your <code>server.xml</code> file to use another port (the default one is 8080).</p>\n"},{"tags":[],"owner":{"account_id":20707,"reputation":30822,"user_id":49746,"display_name":"Todd"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1451312236,"creation_date":1451312236,"answer_id":34495195,"question_id":34495137,"body_markdown":"This is the cause: \r\n\r\n&gt; Caused by: java.net.BindException: Address already in use: JVM_Bind &lt;null&gt;:8080\r\n\r\nIt means the server is trying to bind to port `8080` but your machine already has something bound there. Make sure one of your other processes isn&#39;t taking up that port, or select another one (probably in `server.xml`) to use.","title":"Tomcat shutdown unexpectedly","body":"<p>This is the cause: </p>\n\n<blockquote>\n  <p>Caused by: java.net.BindException: Address already in use: JVM_Bind :8080</p>\n</blockquote>\n\n<p>It means the server is trying to bind to port <code>8080</code> but your machine already has something bound there. Make sure one of your other processes isn't taking up that port, or select another one (probably in <code>server.xml</code>) to use.</p>\n"},{"tags":[],"owner":{"account_id":26017892,"reputation":21,"user_id":19725977,"display_name":"Enzo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690703220,"creation_date":1690703220,"answer_id":76796807,"question_id":34495137,"body_markdown":"This means your port (8080) for the Tomcat Server is currently utilized by another service. You can resolve this in two ways:\r\n\r\n**Option 1: Change the Tomcat server port**\r\n\r\nStep 1: Navigate to the server.xml; by either clicking on the &quot;Config&quot; button on your control panel or go to this directory C:\\xampp\\tomcat\\conf.\r\n\r\nStep 2: Ctrl + F to search for 8080 and change port 8080 to a higher number and save.\r\n\r\nStep 3: Then try again.\r\n\r\n**Option 2: Kill/Stop all processes using port 8080 and 8005.**\r\n\r\nStep 1: Open CMD on your device (Windows: windows button + R, then type cmd and hit enter).\r\n\r\nStep 2: Type this command &quot;netstat -aon find str | 8080&quot;.\r\n\r\nStep 3: Look for all processes running on these ports and identify their PIDs.\r\n\r\nStep 4: Type this command &quot;taskkill /PID 12345 /F&quot; where 12345 is the identified PID.\r\n\r\nStep 5: Repeat for other identified PIDS.\r\n\r\nStep 6: Try to start the Tomcat Server again.","title":"Tomcat shutdown unexpectedly","body":"<p>This means your port (8080) for the Tomcat Server is currently utilized by another service. You can resolve this in two ways:</p>\n<p><strong>Option 1: Change the Tomcat server port</strong></p>\n<p>Step 1: Navigate to the server.xml; by either clicking on the &quot;Config&quot; button on your control panel or go to this directory C:\\xampp\\tomcat\\conf.</p>\n<p>Step 2: Ctrl + F to search for 8080 and change port 8080 to a higher number and save.</p>\n<p>Step 3: Then try again.</p>\n<p><strong>Option 2: Kill/Stop all processes using port 8080 and 8005.</strong></p>\n<p>Step 1: Open CMD on your device (Windows: windows button + R, then type cmd and hit enter).</p>\n<p>Step 2: Type this command &quot;netstat -aon find str | 8080&quot;.</p>\n<p>Step 3: Look for all processes running on these ports and identify their PIDs.</p>\n<p>Step 4: Type this command &quot;taskkill /PID 12345 /F&quot; where 12345 is the identified PID.</p>\n<p>Step 5: Repeat for other identified PIDS.</p>\n<p>Step 6: Try to start the Tomcat Server again.</p>\n"}],"owner":{"account_id":7152922,"reputation":303,"user_id":5466330,"accept_rate":33,"display_name":"Eyosiyas Tadele"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20085,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":3,"score":3,"last_activity_date":1690703220,"creation_date":1451311965,"question_id":34495137,"body_markdown":"I have been working on xampp tomcat server and I&#39;m new for it. I configured it and starts the xampp tomcat. It works fine and I see all the ports I configured perfectly but after 3 minutes it shows me this error \r\n\r\n    &quot;Error: Tomcat shutdown unexpectedly.\r\n    4:55:38 PM  [Tomcat] \tThis may be due to a blocked port, missing dependencies, \r\n    4:55:38 PM  [Tomcat] \timproper privileges, a crash, or a shutdown by another method.\r\n    4:55:38 PM  [Tomcat] \tPress the Logs button to view error logs and check\r\n    4:55:38 PM  [Tomcat] \tthe Windows Event Viewer for more clues\r\n    4:55:38 PM  [Tomcat] \tIf you need more help, copy and post this\r\n    4:55:38 PM  [Tomcat] \tentire log window on the forums&quot;\r\n\r\nI opened the Catalina log to get more info and I noticed this java eror:\r\n \r\n\r\n    SEVERE: Failed to initialize connector [Connector[HTTP/1.1-8080]]\r\n    org.apache.catalina.LifecycleException: Failed to initialize component [Connector[HTTP/1.1-8080]]\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:106)\r\n    \tat org.apache.catalina.core.StandardService.initInternal(StandardService.java:559)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n    \tat org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:814)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n    \tat org.apache.catalina.startup.Catalina.load(Catalina.java:640)\r\n    \tat org.apache.catalina.startup.Catalina.load(Catalina.java:665)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:483)\r\n    \tat org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:281)\r\n    \tat org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:455)\r\n    Caused by: org.apache.catalina.LifecycleException: Protocol handler initialization failed\r\n    \tat org.apache.catalina.connector.Connector.initInternal(Connector.java:983)\r\n    \tat org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\r\n    \t... 12 more\r\n    Caused by: java.net.BindException: Address already in use: JVM_Bind &lt;null&gt;:8080\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint.bind(JIoEndpoint.java:406)\r\n    \tat org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:610)\r\n    \tat org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:429)\r\n    \tat org.apache.coyote.http11.AbstractHttp11JsseProtocol.init(AbstractHttp11JsseProtocol.java:119)\r\n    \tat org.apache.catalina.connector.Connector.initInternal(Connector.java:981)\r\n    \t... 13 more\r\n    Caused by: java.net.BindException: Address already in use: JVM_Bind\r\n    \tat java.net.DualStackPlainSocketImpl.bind0(Native Method)\r\n    \tat java.net.DualStackPlainSocketImpl.socketBind(DualStackPlainSocketImpl.java:106)\r\n    \tat java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:382)\r\n    \tat java.net.PlainSocketImpl.bind(PlainSocketImpl.java:190)\r\n    \tat java.net.ServerSocket.bind(ServerSocket.java:375)\r\n    \tat java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:237)\r\n    \tat java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:181)\r\n    \tat org.apache.tomcat.util.net.DefaultServerSocketFactory.createSocket(DefaultServerSocketFactory.java:49)\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint.bind(JIoEndpoint.java:393)\r\n    \t... 17 more\r\n\r\n","title":"Tomcat shutdown unexpectedly","body":"<p>I have been working on xampp tomcat server and I'm new for it. I configured it and starts the xampp tomcat. It works fine and I see all the ports I configured perfectly but after 3 minutes it shows me this error </p>\n\n<pre><code>\"Error: Tomcat shutdown unexpectedly.\n4:55:38 PM  [Tomcat]    This may be due to a blocked port, missing dependencies, \n4:55:38 PM  [Tomcat]    improper privileges, a crash, or a shutdown by another method.\n4:55:38 PM  [Tomcat]    Press the Logs button to view error logs and check\n4:55:38 PM  [Tomcat]    the Windows Event Viewer for more clues\n4:55:38 PM  [Tomcat]    If you need more help, copy and post this\n4:55:38 PM  [Tomcat]    entire log window on the forums\"\n</code></pre>\n\n<p>I opened the Catalina log to get more info and I noticed this java eror:</p>\n\n<pre><code>SEVERE: Failed to initialize connector [Connector[HTTP/1.1-8080]]\norg.apache.catalina.LifecycleException: Failed to initialize component [Connector[HTTP/1.1-8080]]\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:106)\n    at org.apache.catalina.core.StandardService.initInternal(StandardService.java:559)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n    at org.apache.catalina.core.StandardServer.initInternal(StandardServer.java:814)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n    at org.apache.catalina.startup.Catalina.load(Catalina.java:640)\n    at org.apache.catalina.startup.Catalina.load(Catalina.java:665)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:483)\n    at org.apache.catalina.startup.Bootstrap.load(Bootstrap.java:281)\n    at org.apache.catalina.startup.Bootstrap.main(Bootstrap.java:455)\nCaused by: org.apache.catalina.LifecycleException: Protocol handler initialization failed\n    at org.apache.catalina.connector.Connector.initInternal(Connector.java:983)\n    at org.apache.catalina.util.LifecycleBase.init(LifecycleBase.java:102)\n    ... 12 more\nCaused by: java.net.BindException: Address already in use: JVM_Bind &lt;null&gt;:8080\n    at org.apache.tomcat.util.net.JIoEndpoint.bind(JIoEndpoint.java:406)\n    at org.apache.tomcat.util.net.AbstractEndpoint.init(AbstractEndpoint.java:610)\n    at org.apache.coyote.AbstractProtocol.init(AbstractProtocol.java:429)\n    at org.apache.coyote.http11.AbstractHttp11JsseProtocol.init(AbstractHttp11JsseProtocol.java:119)\n    at org.apache.catalina.connector.Connector.initInternal(Connector.java:981)\n    ... 13 more\nCaused by: java.net.BindException: Address already in use: JVM_Bind\n    at java.net.DualStackPlainSocketImpl.bind0(Native Method)\n    at java.net.DualStackPlainSocketImpl.socketBind(DualStackPlainSocketImpl.java:106)\n    at java.net.AbstractPlainSocketImpl.bind(AbstractPlainSocketImpl.java:382)\n    at java.net.PlainSocketImpl.bind(PlainSocketImpl.java:190)\n    at java.net.ServerSocket.bind(ServerSocket.java:375)\n    at java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:237)\n    at java.net.ServerSocket.&lt;init&gt;(ServerSocket.java:181)\n    at org.apache.tomcat.util.net.DefaultServerSocketFactory.createSocket(DefaultServerSocketFactory.java:49)\n    at org.apache.tomcat.util.net.JIoEndpoint.bind(JIoEndpoint.java:393)\n    ... 17 more\n</code></pre>\n"},{"tags":["javascript","java","node.js","reactjs","shell"],"comments":[{"owner":{"display_name":"user6073886"},"score":0,"creation_date":1690448982,"post_id":76778171,"comment_id":135356366,"body_markdown":"You say the error message doesn&#39;t provide much information, but &quot;no space left on device&quot; seems like a pretty clear error message to me. Have you checked how much disk space is available?","body":"You say the error message doesn&#39;t provide much information, but &quot;no space left on device&quot; seems like a pretty clear error message to me. Have you checked how much disk space is available?"},{"owner":{"account_id":966579,"reputation":3980,"user_id":989920,"accept_rate":76,"display_name":"evolutionxbox"},"score":0,"creation_date":1690449003,"post_id":76778171,"comment_id":135356371,"body_markdown":"Please remove the java tag?","body":"Please remove the java tag?"}],"answers":[{"tags":[],"owner":{"account_id":22433141,"reputation":1,"user_id":16638716,"display_name":"Luke Luus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690449130,"creation_date":1690449130,"answer_id":76778205,"question_id":76778171,"body_markdown":"Make sure that you have the latest version of Node.js installed. You can check your Node.js version by running the following command in your terminal:\r\n\r\n - node -v\r\n\r\nMake sure that you have the latest version of create-react-app installed. You can check your create-react-app version by running the following command in your terminal:\r\n\r\n - npm ls create-react-app\r\n\r\nTry running the npx create-react-app command with the --verbose flag. This will provide more information about the error that you&#39;re getting.\r\n\r\n - npx create-react-app --verbose my-app\r\n\r\nIf you&#39;re still having trouble, you can try creating a new React application using the create-react-app website. This will create a new application in a temporary directory, so you won&#39;t have to worry about making any changes to your local environment.\r\nhttps://create-react-app.dev/: https://create-react-app.dev/\r\n\r\nIf you&#39;ve tried all of the above and you&#39;re still having trouble, you can post a question on the Create React App: https://github.com/facebook/create-react-app/discussions discussion forum.\r\n\r\nI hope this helps!","title":"npx create-react-app command is throwing this error. what should i do to resolve this","body":"<p>Make sure that you have the latest version of Node.js installed. You can check your Node.js version by running the following command in your terminal:</p>\n<ul>\n<li>node -v</li>\n</ul>\n<p>Make sure that you have the latest version of create-react-app installed. You can check your create-react-app version by running the following command in your terminal:</p>\n<ul>\n<li>npm ls create-react-app</li>\n</ul>\n<p>Try running the npx create-react-app command with the --verbose flag. This will provide more information about the error that you're getting.</p>\n<ul>\n<li>npx create-react-app --verbose my-app</li>\n</ul>\n<p>If you're still having trouble, you can try creating a new React application using the create-react-app website. This will create a new application in a temporary directory, so you won't have to worry about making any changes to your local environment.\n<a href=\"https://create-react-app.dev/\" rel=\"nofollow noreferrer\">https://create-react-app.dev/</a>: <a href=\"https://create-react-app.dev/\" rel=\"nofollow noreferrer\">https://create-react-app.dev/</a></p>\n<p>If you've tried all of the above and you're still having trouble, you can post a question on the Create React App: <a href=\"https://github.com/facebook/create-react-app/discussions\" rel=\"nofollow noreferrer\">https://github.com/facebook/create-react-app/discussions</a> discussion forum.</p>\n<p>I hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":5808234,"reputation":1,"user_id":4580225,"display_name":"Nishanka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690703176,"creation_date":1690449950,"answer_id":76778314,"question_id":76778171,"body_markdown":"[@Priyansh][1]: It seems like that you are trying to install on a drive that either has no space, or has no permission to write.\r\n\r\nYou may try: \r\n\r\n - Free some disk space \r\nOR\r\n - Set the tmp folder somewhere with more space: `npm config set tmp /path/to/big/drive/tmp` \r\nOR\r\n - Build Node yourself and install it somewhere writable with lots of space.\r\n\r\nReference : https://docs.npmjs.com/common-errors#no-space\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/22293431/priyansh","title":"npx create-react-app command is throwing this error. what should i do to resolve this","body":"<p><a href=\"https://stackoverflow.com/users/22293431/priyansh\">@Priyansh</a>: It seems like that you are trying to install on a drive that either has no space, or has no permission to write.</p>\n<p>You may try:</p>\n<ul>\n<li>Free some disk space\nOR</li>\n<li>Set the tmp folder somewhere with more space: <code>npm config set tmp /path/to/big/drive/tmp</code>\nOR</li>\n<li>Build Node yourself and install it somewhere writable with lots of space.</li>\n</ul>\n<p>Reference : <a href=\"https://docs.npmjs.com/common-errors#no-space\" rel=\"nofollow noreferrer\">https://docs.npmjs.com/common-errors#no-space</a></p>\n"}],"owner":{"account_id":29101749,"reputation":1,"user_id":22293431,"display_name":"Priyansh "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":558,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1690703176,"creation_date":1690448842,"question_id":76778171,"body_markdown":"I&#39;ve been trying to use the &#39;npx create-react-app&#39; command to create a new React application, but it doesn&#39;t seem to be working for me. Has anyone else experienced this issue recently?\r\n\r\nI have a stable internet connection and have made sure that Node.js is up to date on my system. However, whenever I run the &#39;npx create-react-app&#39; command, it fails to initiate the React application creation process. I&#39;ve received an error message, but it doesn&#39;t provide much information about the problem.\r\n\r\nI&#39;ve tried multiple times and even searched for similar issues online, but I couldn&#39;t find any recent reports or solutions related to this specific problem. My global npm packages, including &#39;create-react-app,&#39; are also up to date.\r\n\r\nI&#39;m not sure if this is a problem with my local setup or if there might be an issue with the &#39;npx create-react-app&#39; command itself. If anyone has encountered a similar problem or has any insights on how to resolve this, I would greatly appreciate your help.\r\n\r\n```sh\r\nnpm ERR! code ENOSPC\r\nnpm ERR! syscall write\r\nnpm ERR! errno -4055\r\nnpm ERR! nospc ENOSPC: no space left on device, write\r\nnpm ERR! nospc There appears to be insufficient space on your system to finish.\r\nnpm ERR! nospc Clear up some disk space and try again.\r\n\r\nnpm ERR! A complete log of this run can be found in: C:\\Users\\DELL\\AppData\\Local\\npm-cache\\_logs\\2023-07-27T08_57_38_099Z-debug-0.log\r\n```","title":"npx create-react-app command is throwing this error. what should i do to resolve this","body":"<p>I've been trying to use the 'npx create-react-app' command to create a new React application, but it doesn't seem to be working for me. Has anyone else experienced this issue recently?</p>\n<p>I have a stable internet connection and have made sure that Node.js is up to date on my system. However, whenever I run the 'npx create-react-app' command, it fails to initiate the React application creation process. I've received an error message, but it doesn't provide much information about the problem.</p>\n<p>I've tried multiple times and even searched for similar issues online, but I couldn't find any recent reports or solutions related to this specific problem. My global npm packages, including 'create-react-app,' are also up to date.</p>\n<p>I'm not sure if this is a problem with my local setup or if there might be an issue with the 'npx create-react-app' command itself. If anyone has encountered a similar problem or has any insights on how to resolve this, I would greatly appreciate your help.</p>\n<pre class=\"lang-bash prettyprint-override\"><code>npm ERR! code ENOSPC\nnpm ERR! syscall write\nnpm ERR! errno -4055\nnpm ERR! nospc ENOSPC: no space left on device, write\nnpm ERR! nospc There appears to be insufficient space on your system to finish.\nnpm ERR! nospc Clear up some disk space and try again.\n\nnpm ERR! A complete log of this run can be found in: C:\\Users\\DELL\\AppData\\Local\\npm-cache\\_logs\\2023-07-27T08_57_38_099Z-debug-0.log\n</code></pre>\n"},{"tags":["java","spring-boot","swagger-ui","swagger-2.0"],"answers":[{"tags":[],"owner":{"account_id":14162458,"reputation":3900,"user_id":10231374,"display_name":"Toni"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690702531,"creation_date":1690702531,"answer_id":76796767,"question_id":76790763,"body_markdown":"To achieve this, mark the controller method argument as `@ParameterObject`:\r\n\r\n    public ResponseDto getTacreps( @Valid @ParameterObject QueryParametersDto queryParametersDto) {...}\r\n\r\nAs described in [Springdoc][1]:\r\n\r\n&gt; Request parameter annotated with `@ParameterObject` will help adding\r\n&gt; each field of the parameter as a separate request parameter.\r\n\r\n\r\n  [1]: https://springdoc.org/index.html#how-can-i-extract-fields-from-parameter-object","title":"Swagger 2 mark all fields as parameters","body":"<p>To achieve this, mark the controller method argument as <code>@ParameterObject</code>:</p>\n<pre><code>public ResponseDto getTacreps( @Valid @ParameterObject QueryParametersDto queryParametersDto) {...}\n</code></pre>\n<p>As described in <a href=\"https://springdoc.org/index.html#how-can-i-extract-fields-from-parameter-object\" rel=\"nofollow noreferrer\">Springdoc</a>:</p>\n<blockquote>\n<p>Request parameter annotated with <code>@ParameterObject</code> will help adding\neach field of the parameter as a separate request parameter.</p>\n</blockquote>\n"}],"owner":{"account_id":537054,"reputation":32561,"user_id":905762,"accept_rate":77,"display_name":"John B"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76796767,"answer_count":1,"score":0,"last_activity_date":1690702531,"creation_date":1690574945,"question_id":76790763,"body_markdown":"In Spring Boot 2 I us an object to hold a set of parameters as below. Question is how to document EACH field in swagger as a parameter. Currently swagger-ui presents a single parameter as an object instead of each field in the object being a parameter.\r\n\r\n```\r\n\r\n  @GetMapping(path = &quot;/date&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\r\n  @Operation(summary = &quot;Blah blah.&quot;)\r\n  public ResponseDto getTacreps(\r\n      @Valid QueryParametersDto queryParametersDto) {...}\r\n\r\n\r\n@Value\r\n@NoArgsConstructor(force = true)\r\npublic class QueryParametersDto {\r\n\r\n  @JsonProperty(USER_SELECTED_AUTHORITIES)\r\n  @NotBlank\r\n  private final String userSelectedAuthorities;\r\n\r\n  @JsonProperty(JUSTIFICATION)\r\n  @NotBlank\r\n  @Size(min = 1, max = 4000)\r\n  private final String justification;\r\n  ...\r\n}\r\n\r\n```\r\n","title":"Swagger 2 mark all fields as parameters","body":"<p>In Spring Boot 2 I us an object to hold a set of parameters as below. Question is how to document EACH field in swagger as a parameter. Currently swagger-ui presents a single parameter as an object instead of each field in the object being a parameter.</p>\n<pre><code>\n  @GetMapping(path = &quot;/date&quot;, produces = MediaType.APPLICATION_JSON_VALUE)\n  @Operation(summary = &quot;Blah blah.&quot;)\n  public ResponseDto getTacreps(\n      @Valid QueryParametersDto queryParametersDto) {...}\n\n\n@Value\n@NoArgsConstructor(force = true)\npublic class QueryParametersDto {\n\n  @JsonProperty(USER_SELECTED_AUTHORITIES)\n  @NotBlank\n  private final String userSelectedAuthorities;\n\n  @JsonProperty(JUSTIFICATION)\n  @NotBlank\n  @Size(min = 1, max = 4000)\n  private final String justification;\n  ...\n}\n\n</code></pre>\n"},{"tags":["java","floating-point"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1690702578,"post_id":76796680,"comment_id":135388265,"body_markdown":"maybe you are interested in reading about the [`Math.ulp()`](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Math.html#ulp(float)) method (or, on same Javadoc, `nextDown()` and `nextUp()`) - or some more *theoretical*, [What Every Computer Scientist Should Know About Floating-Point Arithmetic](https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html)","body":"maybe you are interested in reading about the <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/Math.html#ulp(float)\" rel=\"nofollow noreferrer\"><code>Math.ulp()</code></a> method (or, on same Javadoc, <code>nextDown()</code> and <code>nextUp()</code>) - or some more <i>theoretical</i>, <a href=\"https://docs.oracle.com/cd/E19957-01/806-3568/ncg_goldberg.html\" rel=\"nofollow noreferrer\">What Every Computer Scientist Should Know About Floating-Point Arithmetic</a>"},{"owner":{"account_id":6991939,"reputation":2711,"user_id":5360898,"display_name":"yaugenka"},"score":0,"creation_date":1690710742,"post_id":76796680,"comment_id":135388947,"body_markdown":"Looks like the arithments is in the play event when no math oprations are performed: have tried to declear a variable with `16777217f` value and got `1.6777216E7` printed out.","body":"Looks like the arithments is in the play event when no math oprations are performed: have tried to declear a variable with <code>16777217f</code> value and got <code>1.6777216E7</code> printed out."}],"answers":[{"tags":[],"owner":{"account_id":5174533,"reputation":12742,"user_id":4142130,"display_name":"Hoopje"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690700922,"creation_date":1690700922,"answer_id":76796695,"question_id":76796680,"body_markdown":"Indeed, that isn&#39;t possible. It does &quot;loose its less significand digits&quot;. The second largest Java float value is not `Float.MAX_VALUE - 1`, but a lot less.","title":"Java Float max precise value","body":"<p>Indeed, that isn't possible. It does &quot;loose its less significand digits&quot;. The second largest Java float value is not <code>Float.MAX_VALUE - 1</code>, but a lot less.</p>\n"}],"owner":{"account_id":6991939,"reputation":2711,"user_id":5360898,"display_name":"yaugenka"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690702235,"creation_date":1690700488,"question_id":76796680,"body_markdown":"Java `Float.MAX_VALUE` is `3.4028235E38`. At the same time the mantissa is 24 bits (with an extra hidden one) which can fit `16777215` value maximum. How is it capable of storing a value greater than the latter without losing the less significant digits?\r\n\r\nHere is a kotlin [playground][1] example\r\n\r\n    fun main() {\r\n        val m = Float.MAX_VALUE\r\n        val j = 16777215f\r\n        val n = 1\r\n        val k = j + n\r\n        println(m)\r\n        println(j)\r\n        println(k)\r\n    }\r\n\r\n    3.4028235E38\r\n    1.6777215E7\r\n    1.6777216E7\r\n\r\n\r\n  [1]: https://pl.kotl.in/rhqwztVRJ\r\n","title":"Java Float max precise value","body":"<p>Java <code>Float.MAX_VALUE</code> is <code>3.4028235E38</code>. At the same time the mantissa is 24 bits (with an extra hidden one) which can fit <code>16777215</code> value maximum. How is it capable of storing a value greater than the latter without losing the less significant digits?</p>\n<p>Here is a kotlin <a href=\"https://pl.kotl.in/rhqwztVRJ\" rel=\"nofollow noreferrer\">playground</a> example</p>\n<pre><code>fun main() {\n    val m = Float.MAX_VALUE\n    val j = 16777215f\n    val n = 1\n    val k = j + n\n    println(m)\n    println(j)\n    println(k)\n}\n\n3.4028235E38\n1.6777215E7\n1.6777216E7\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1494484,"reputation":56249,"user_id":1400768,"display_name":"nhahtdh"},"score":2,"creation_date":1342081530,"post_id":11447780,"comment_id":15106819,"body_markdown":"You mean to 1 List, or to a &quot;2D&quot; List?","body":"You mean to 1 List, or to a &quot;2D&quot; List?"},{"owner":{"account_id":74366,"reputation":4315,"user_id":213727,"accept_rate":80,"display_name":"vaughandroid"},"score":5,"creation_date":1342081557,"post_id":11447780,"comment_id":15106826,"body_markdown":"Which order do you want the elements to appear in, or do you want a list of lists?","body":"Which order do you want the elements to appear in, or do you want a list of lists?"},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1342081567,"post_id":11447780,"comment_id":15106830,"body_markdown":"Do you want a list of arrays or a list of lists?","body":"Do you want a list of arrays or a list of lists?"},{"owner":{"account_id":1479146,"reputation":531,"user_id":1388882,"accept_rate":80,"display_name":"Kumar Shorav"},"score":0,"creation_date":1342081936,"post_id":11447780,"comment_id":15106982,"body_markdown":"Please go through this---\r\n\r\nhttp://stackoverflow.com/questions/11326038/all-possible-combinations-of-a-2d-array","body":"Please go through this---    <a href=\"http://stackoverflow.com/questions/11326038/all-possible-combinations-of-a-2d-array\" title=\"all possible combinations of a 2d array\">stackoverflow.com/questions/11326038/&hellip;</a>"},{"owner":{"account_id":74366,"reputation":4315,"user_id":213727,"accept_rate":80,"display_name":"vaughandroid"},"score":0,"creation_date":1342082233,"post_id":11447780,"comment_id":15107118,"body_markdown":"@Subhra You still haven&#39;t told us what sort of list you want at the end of this. Do you want a `List&lt;Foo&gt;`, a `List&lt;List&lt;Foo&gt;&gt;`, a `List&lt;Foo[]&gt;`, or something else?","body":"@Subhra You still haven&#39;t told us what sort of list you want at the end of this. Do you want a <code>List&lt;Foo&gt;</code>, a <code>List&lt;List&lt;Foo&gt;&gt;</code>, a <code>List&lt;Foo[]&gt;</code>, or something else?"},{"owner":{"account_id":1197503,"reputation":7576,"user_id":1168904,"accept_rate":77,"display_name":"Inquisitive"},"score":0,"creation_date":1342082418,"post_id":11447780,"comment_id":15107191,"body_markdown":"@Baqueta I edited the question . Actually the &#39;backticks&#39; were missing.","body":"@Baqueta I edited the question . Actually the &#39;backticks&#39; were missing."}],"answers":[{"tags":[],"owner":{"account_id":887930,"reputation":23705,"user_id":926907,"accept_rate":87,"display_name":"Dmitry Zaytsev"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1453376886,"creation_date":1342081620,"answer_id":11447828,"question_id":11447780,"body_markdown":"    for(int i=0;i&lt;m;i++)\r\n        for(int j=0;j&lt;n;j++)\r\n            yourList.add(foosArray[i][j]);\r\n\r\nI think other tricks are unnecessary, because, anyway, they&#39;ll use this solution.","title":"Convert two dimensional array to List in java?","body":"<pre><code>for(int i=0;i&lt;m;i++)\n    for(int j=0;j&lt;n;j++)\n        yourList.add(foosArray[i][j]);\n</code></pre>\n\n<p>I think other tricks are unnecessary, because, anyway, they'll use this solution.</p>\n"},{"tags":[],"owner":{"account_id":931717,"reputation":9993,"user_id":961487,"accept_rate":62,"display_name":"Razvan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1342081760,"creation_date":1342081760,"answer_id":11447854,"question_id":11447780,"body_markdown":"The only way to transform it to a list is to iterate through the array and build the list as you go, like this:\r\n\r\n    ArrayList&lt;Foo[]&gt; list = new ArrayList&lt;Foo[]&gt;(foosArray.length);\r\n    for(Foo[] foo: foosArray){\r\n        list.add(foo);\r\n    }","title":"Convert two dimensional array to List in java?","body":"<p>The only way to transform it to a list is to iterate through the array and build the list as you go, like this:</p>\n\n<pre><code>ArrayList&lt;Foo[]&gt; list = new ArrayList&lt;Foo[]&gt;(foosArray.length);\nfor(Foo[] foo: foosArray){\n    list.add(foo);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1417953,"reputation":45783,"user_id":1343161,"accept_rate":100,"display_name":"Keppil"},"down_vote_count":0,"up_vote_count":41,"is_accepted":true,"score":41,"last_activity_date":1342082238,"creation_date":1342082238,"answer_id":11447971,"question_id":11447780,"body_markdown":"This is a nice way of doing it for any two-dimensional array, assuming you want them in the following order:\r\n\r\n&gt; [[array[0]-elems], [array[1]elems]...]\r\n\r\n    public &lt;T&gt; List&lt;T&gt; twoDArrayToList(T[][] twoDArray) {\r\n        List&lt;T&gt; list = new ArrayList&lt;T&gt;();\r\n        for (T[] array : twoDArray) {\r\n            list.addAll(Arrays.asList(array));\r\n        }\r\n        return list;\r\n    }\r\n ","title":"Convert two dimensional array to List in java?","body":"<p>This is a nice way of doing it for any two-dimensional array, assuming you want them in the following order:</p>\n\n<blockquote>\n  <p>[[array[0]-elems], [array[1]elems]...]</p>\n</blockquote>\n\n<pre><code>public &lt;T&gt; List&lt;T&gt; twoDArrayToList(T[][] twoDArray) {\n    List&lt;T&gt; list = new ArrayList&lt;T&gt;();\n    for (T[] array : twoDArray) {\n        list.addAll(Arrays.asList(array));\n    }\n    return list;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5067409,"reputation":1582,"user_id":4067157,"display_name":"Yogi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1438369558,"creation_date":1438369558,"answer_id":31753412,"question_id":11447780,"body_markdown":"another one technique.   \r\n        \r\n    //converting 2D array to string\r\n    String temp = Arrays.deepToString(fooArr).replaceAll(&quot;\\\\[&quot;, &quot;&quot;).replaceAll(&quot;\\\\]&quot;, &quot;&quot;);\r\n    List&lt;String&gt; fooList = new ArrayList&lt;&gt;(Arrays.asList(&quot;,&quot;));","title":"Convert two dimensional array to List in java?","body":"<p>another one technique.   </p>\n\n<pre><code>//converting 2D array to string\nString temp = Arrays.deepToString(fooArr).replaceAll(\"\\\\[\", \"\").replaceAll(\"\\\\]\", \"\");\nList&lt;String&gt; fooList = new ArrayList&lt;&gt;(Arrays.asList(\",\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":543250,"reputation":18874,"user_id":912319,"accept_rate":62,"display_name":"Kanagavelu Sugumar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1453365431,"creation_date":1453358919,"answer_id":34917092,"question_id":11447780,"body_markdown":"&gt; Please note that: while working on arrays conversion as a list there is difference between primitive array and Object array. i.e) int[] and Integer[] &lt;BR&gt;\r\n\r\ne.g) \r\n\r\n\tint [][] twoDArray = {     \r\n\t\t\t{1,  2,  3,  4,  40},\r\n            {5,  6,  7,  8,  50},\r\n            {9,  10, 11, 12, 60},\r\n            {13, 14, 15, 16, 70},\r\n            {17, 18, 19, 20, 80},\r\n            {21, 22, 23, 24, 90},\r\n            {25, 26, 27, 28, 100},\r\n            {29, 30, 31, 32, 110},\r\n            {33, 34, 35, 36, 120}};\r\n\t\r\n    List list = new ArrayList();\r\n    for (int[] array : twoDArray) {\r\n        //This will add int[] object into the list, and not the int values.\r\n        list.add(Arrays.asList(array));\r\n    }\r\n\r\n\r\nand \r\n\r\n\tInteger[][] twoDArray = {     \r\n\t\t\t{1,  2,  3,  4,  40},\r\n            {5,  6,  7,  8,  50},\r\n            {9,  10, 11, 12, 60},\r\n            {13, 14, 15, 16, 70},\r\n            {17, 18, 19, 20, 80},\r\n            {21, 22, 23, 24, 90},\r\n            {25, 26, 27, 28, 100},\r\n            {29, 30, 31, 32, 110},\r\n            {33, 34, 35, 36, 120}};\r\n\t\r\n    List list = new ArrayList();\r\n    for (Integer[] array : twoDArray) {\r\n        //This will add int values into the new list \r\n        // and that list will added to the main list\r\n        list.add(Arrays.asList(array));      \r\n    }\r\n\r\nTo work on Keppil answer; you have to convert your primitive array to object array using https://stackoverflow.com/questions/880581/how-to-convert-int-to-integer-in-java\r\n\r\nElse add the int values one by one in the normal for loop.\r\n\r\n\r\n    int iLength = twoDArray.length;\r\n    List&lt;List&lt;Integer&gt;&gt; listOfLists = new ArrayList&lt;&gt;(iLength);\r\n    for (int i = 0; i &lt; iLength; ++i) {\r\n    \tint jLength = twoDArray[0].length;\r\n    \tlistOfLists.add(new ArrayList(jLength));\r\n        for (int j = 0; j &lt; jLength; ++j) {\r\n    \t  listOfLists.get(i).add(twoDArray[i][j]);\r\n        }\r\n    }\r\n\r\nAlso note that Arrays.asList(array) will give [fixed-size list; so size cannot be modified][1].\r\n\r\n  [1]: http://www.programcreek.com/2014/05/top-10-mistakes-java-developers-make/","title":"Convert two dimensional array to List in java?","body":"<blockquote>\n  <p>Please note that: while working on arrays conversion as a list there is difference between primitive array and Object array. i.e) int[] and Integer[] <BR></p>\n</blockquote>\n\n<p>e.g) </p>\n\n<pre><code>int [][] twoDArray = {     \n        {1,  2,  3,  4,  40},\n        {5,  6,  7,  8,  50},\n        {9,  10, 11, 12, 60},\n        {13, 14, 15, 16, 70},\n        {17, 18, 19, 20, 80},\n        {21, 22, 23, 24, 90},\n        {25, 26, 27, 28, 100},\n        {29, 30, 31, 32, 110},\n        {33, 34, 35, 36, 120}};\n\nList list = new ArrayList();\nfor (int[] array : twoDArray) {\n    //This will add int[] object into the list, and not the int values.\n    list.add(Arrays.asList(array));\n}\n</code></pre>\n\n<p>and </p>\n\n<pre><code>Integer[][] twoDArray = {     \n        {1,  2,  3,  4,  40},\n        {5,  6,  7,  8,  50},\n        {9,  10, 11, 12, 60},\n        {13, 14, 15, 16, 70},\n        {17, 18, 19, 20, 80},\n        {21, 22, 23, 24, 90},\n        {25, 26, 27, 28, 100},\n        {29, 30, 31, 32, 110},\n        {33, 34, 35, 36, 120}};\n\nList list = new ArrayList();\nfor (Integer[] array : twoDArray) {\n    //This will add int values into the new list \n    // and that list will added to the main list\n    list.add(Arrays.asList(array));      \n}\n</code></pre>\n\n<p>To work on Keppil answer; you have to convert your primitive array to object array using <a href=\"https://stackoverflow.com/questions/880581/how-to-convert-int-to-integer-in-java\">How to convert int[] to Integer[] in Java?</a></p>\n\n<p>Else add the int values one by one in the normal for loop.</p>\n\n<pre><code>int iLength = twoDArray.length;\nList&lt;List&lt;Integer&gt;&gt; listOfLists = new ArrayList&lt;&gt;(iLength);\nfor (int i = 0; i &lt; iLength; ++i) {\n    int jLength = twoDArray[0].length;\n    listOfLists.add(new ArrayList(jLength));\n    for (int j = 0; j &lt; jLength; ++j) {\n      listOfLists.get(i).add(twoDArray[i][j]);\n    }\n}\n</code></pre>\n\n<p>Also note that Arrays.asList(array) will give <a href=\"http://www.programcreek.com/2014/05/top-10-mistakes-java-developers-make/\" rel=\"nofollow noreferrer\">fixed-size list; so size cannot be modified</a>.</p>\n"},{"tags":[],"owner":{"account_id":5610323,"reputation":35021,"user_id":4443323,"accept_rate":74,"display_name":"Tomasz Mularczyk"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1496530356,"creation_date":1464435166,"answer_id":37498462,"question_id":11447780,"body_markdown":"**Since [tag:java-8]**\r\n\r\n    List&lt;Foo&gt; collection = Arrays.stream(array)  //&#39;array&#39; is two-dimensional\r\n        .flatMap(Arrays::stream)\r\n        .collect(Collectors.toList());","title":"Convert two dimensional array to List in java?","body":"<p><strong>Since <a href=\"/questions/tagged/java-8\" class=\"post-tag\" title=\"show questions tagged &#39;java-8&#39;\" rel=\"tag\">java-8</a></strong></p>\n\n<pre><code>List&lt;Foo&gt; collection = Arrays.stream(array)  //'array' is two-dimensional\n    .flatMap(Arrays::stream)\n    .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":30900,"reputation":9089,"user_id":84540,"accept_rate":81,"display_name":"nybon"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1637355443,"creation_date":1469602250,"answer_id":38605687,"question_id":11447780,"body_markdown":"This can be done using Java 8 stream API this way:\r\n\r\n\r\n    String[][] dataSet = new String[][] {{...}, {...}, ...};\r\n    List&lt;List&lt;String&gt;&gt; list = Arrays.stream(dataSet)\r\n                                   .map(Arrays::asList)\r\n                                   .collect(Collectors.toList());\r\n\r\nBasically, you do three things:\r\n\r\n* Convert the 2-d array into stream\r\n* Map each element in stream (which should be an array) into a List using Arrays::asList API\r\n* Reduce the stream into a new List","title":"Convert two dimensional array to List in java?","body":"<p>This can be done using Java 8 stream API this way:</p>\n<pre><code>String[][] dataSet = new String[][] {{...}, {...}, ...};\nList&lt;List&lt;String&gt;&gt; list = Arrays.stream(dataSet)\n                               .map(Arrays::asList)\n                               .collect(Collectors.toList());\n</code></pre>\n<p>Basically, you do three things:</p>\n<ul>\n<li>Convert the 2-d array into stream</li>\n<li>Map each element in stream (which should be an array) into a List using Arrays::asList API</li>\n<li>Reduce the stream into a new List</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":13169305,"reputation":656,"user_id":9512312,"display_name":"Amit"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1524763008,"creation_date":1524763008,"answer_id":50048679,"question_id":11447780,"body_markdown":"Use java8 &quot;flatMap&quot; to play around. One way could be following \r\n\r\n    List&lt;Foo&gt; collection = Arrays.stream(array).flatMap(Arrays::stream).collect(Collectors.toList());\r\n","title":"Convert two dimensional array to List in java?","body":"<p>Use java8 \"flatMap\" to play around. One way could be following </p>\n\n<pre><code>List&lt;Foo&gt; collection = Arrays.stream(array).flatMap(Arrays::stream).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1584904,"reputation":967,"user_id":1469497,"display_name":"mrclrchtr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1529492230,"creation_date":1529492230,"answer_id":50946589,"question_id":11447780,"body_markdown":"    ArrayList&lt;Elelement[]&gt; allElelementList = new ArrayList&lt;&gt;(allElelements.length);\r\n        allElelementList.addAll(Arrays.asList(allElelements));\r\n\r\nallElelements is two-dimensional","title":"Convert two dimensional array to List in java?","body":"<pre><code>ArrayList&lt;Elelement[]&gt; allElelementList = new ArrayList&lt;&gt;(allElelements.length);\n    allElelementList.addAll(Arrays.asList(allElelements));\n</code></pre>\n\n<p>allElelements is two-dimensional</p>\n"},{"tags":[],"owner":{"account_id":8906759,"reputation":2159,"user_id":6648326,"accept_rate":71,"display_name":"MasterJoe"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1595106924,"creation_date":1595106924,"answer_id":62973865,"question_id":11447780,"body_markdown":"Here is a step by step solution to convert a 2D array of int (i.e. primitive data types) to a list. The explanations are in the code comments.\r\n\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class Temp {\r\n        public static void main(String... args) {\r\n            System.out.println(&quot;Demo...&quot;);\r\n            int [] [] twoDimArray = new int[][]{\r\n                    {1,2}, {3,5}, {8,15}\r\n            };\r\n    \r\n            List&lt; List&lt;Integer&gt; &gt; nestedLists =\r\n                    Arrays.\r\n                    //Convert the 2d array into a stream.\r\n                    stream(twoDimArray).\r\n                    //Map each 1d array (internalArray) in 2d array to a List.\r\n                    map(\r\n                            //Stream all the elements of each 1d array and put them into a list of Integer.\r\n                            internalArray -&gt; Arrays.stream(internalArray).boxed().collect(Collectors.toList()\r\n                        )\r\n            //Put all the lists from the previous step into one big list.\r\n            ).collect(Collectors.toList());\r\n    \r\n            nestedLists.forEach(System.out::println);\r\n            \r\n        }\r\n    }\r\n\r\n**Output :**\r\n\r\n    Demo...\r\n    [1, 2]\r\n    [3, 5]\r\n    [8, 15]\r\n","title":"Convert two dimensional array to List in java?","body":"<p>Here is a step by step solution to convert a 2D array of int (i.e. primitive data types) to a list. The explanations are in the code comments.</p>\n<pre><code>import java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class Temp {\n    public static void main(String... args) {\n        System.out.println(&quot;Demo...&quot;);\n        int [] [] twoDimArray = new int[][]{\n                {1,2}, {3,5}, {8,15}\n        };\n\n        List&lt; List&lt;Integer&gt; &gt; nestedLists =\n                Arrays.\n                //Convert the 2d array into a stream.\n                stream(twoDimArray).\n                //Map each 1d array (internalArray) in 2d array to a List.\n                map(\n                        //Stream all the elements of each 1d array and put them into a list of Integer.\n                        internalArray -&gt; Arrays.stream(internalArray).boxed().collect(Collectors.toList()\n                    )\n        //Put all the lists from the previous step into one big list.\n        ).collect(Collectors.toList());\n\n        nestedLists.forEach(System.out::println);\n        \n    }\n}\n</code></pre>\n<p><strong>Output :</strong></p>\n<pre><code>Demo...\n[1, 2]\n[3, 5]\n[8, 15]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18416403,"reputation":2172,"user_id":13415164,"display_name":"Sergey Afinogenov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612692037,"creation_date":1612690068,"answer_id":66086349,"question_id":11447780,"body_markdown":"Let&#39;s add some primitive type arrays processing. But you may pass to parameter any object. Method correctly process as int[][] as Object[][]:\r\n\r\n     public &lt;T, E&gt; List&lt;E&gt; twoDArrayToList(T twoDArray) {\r\n\r\n       if (twoDArray instanceof int[][])\r\n         return Arrays.stream((int[][])twoDArray)\r\n                      .flatMapToInt(a-&gt;Arrays.stream(a))\r\n                      .mapToObj(i-&gt;(E)Integer.valueOf(i))\r\n                      .collect(Collectors.toList());\r\n\r\n       //… processing arrays of other primitive types \r\n\r\n       if (twoDArray instanceof Object[][])\r\n            return Arrays.stream((E[][])twoDArray)\r\n                   .flatMap(Arrays::stream)\r\n                   .collect(Collectors.toList());\r\n\r\n       return null; // better to throw appropriate exception \r\n                    // if parameter is not two dimensional array\r\n    }","title":"Convert two dimensional array to List in java?","body":"<p>Let's add some primitive type arrays processing. But you may pass to parameter any object. Method correctly process as int[][] as Object[][]:</p>\n<pre><code> public &lt;T, E&gt; List&lt;E&gt; twoDArrayToList(T twoDArray) {\n\n   if (twoDArray instanceof int[][])\n     return Arrays.stream((int[][])twoDArray)\n                  .flatMapToInt(a-&gt;Arrays.stream(a))\n                  .mapToObj(i-&gt;(E)Integer.valueOf(i))\n                  .collect(Collectors.toList());\n\n   //… processing arrays of other primitive types \n\n   if (twoDArray instanceof Object[][])\n        return Arrays.stream((E[][])twoDArray)\n               .flatMap(Arrays::stream)\n               .collect(Collectors.toList());\n\n   return null; // better to throw appropriate exception \n                // if parameter is not two dimensional array\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8238840,"reputation":637,"user_id":6197069,"display_name":"Hanamant Jadhav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1622296824,"creation_date":1622296824,"answer_id":67752242,"question_id":11447780,"body_markdown":"E.g.\r\n\r\n    Integer[][] a = { { 1, 2, 3 }, { 4, 5, 6 }, { 9, 8, 9 }, };\r\n    \t\t\r\n    List&lt;List&lt;Integer&gt;&gt; arr = Arrays.stream(a)\r\n                    .map(Arrays::asList)\r\n                    .collect(Collectors.toList());","title":"Convert two dimensional array to List in java?","body":"<p>E.g.</p>\n<pre><code>Integer[][] a = { { 1, 2, 3 }, { 4, 5, 6 }, { 9, 8, 9 }, };\n        \nList&lt;List&lt;Integer&gt;&gt; arr = Arrays.stream(a)\n                .map(Arrays::asList)\n                .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6526295,"reputation":776,"user_id":5048942,"display_name":"Jayanth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632934123,"creation_date":1632934123,"answer_id":69380481,"question_id":11447780,"body_markdown":"In Java 8 , to convert from `int[][]` to `List&lt;Integer&gt;`, you can use the below code :\r\n\r\n    List&lt;Integer&gt; data = Arrays.stream(intervals)\r\n    \t\t\t  .flatMapToInt(Arrays::stream)\r\n    \t\t\t  .boxed()\r\n    \t\t\t  .collect(Collectors.toList());","title":"Convert two dimensional array to List in java?","body":"<p>In Java 8 , to convert from <code>int[][]</code> to <code>List&lt;Integer&gt;</code>, you can use the below code :</p>\n<pre><code>List&lt;Integer&gt; data = Arrays.stream(intervals)\n              .flatMapToInt(Arrays::stream)\n              .boxed()\n              .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18022555,"reputation":37,"user_id":13099372,"display_name":"Manoj H U"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1645106708,"creation_date":1645106708,"answer_id":71159621,"question_id":11447780,"body_markdown":"    List&lt;Foo&gt; list =  Arrays.stream(fooArray)\r\n          .flatMap(e -&gt; Stream :: of).collect(Collectors.toList());","title":"Convert two dimensional array to List in java?","body":"<pre><code>List&lt;Foo&gt; list =  Arrays.stream(fooArray)\n      .flatMap(e -&gt; Stream :: of).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":25787847,"reputation":1,"user_id":19532356,"display_name":"Omkar "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690702138,"creation_date":1690702138,"answer_id":76796753,"question_id":11447780,"body_markdown":"Some of the comments in the above answers are asking:\r\n&lt;h6&gt;How can we convert an int[][] to ArrayList&lt;ArrayList&lt;Integer&gt;&gt; ?&lt;/h6&gt;\r\n&lt;p&gt;This can be a good way to do that:&lt;/p&gt;\r\n\r\n    List&lt;List&lt;Integer&gt;&gt; convertTo2DList(int[][] intervals){\r\n    List&lt;List&lt;Integer&gt;&gt; list = new ArrayList&lt;&gt;();\r\n    for (int[] arr : intervals) \r\n    {\r\n        List&lt;Integer&gt; temp=new ArrayList&lt;&gt;();\r\n        for(int i:arr) temp.add(i);\r\n        list.add(temp);\r\n    }\r\n    return list;\r\n    }\r\n\r\n","title":"Convert two dimensional array to List in java?","body":"<p>Some of the comments in the above answers are asking:</p>\n<h6>How can we convert an int[][] to ArrayList> ?</h6>\n<p>This can be a good way to do that:</p>\n<pre><code>List&lt;List&lt;Integer&gt;&gt; convertTo2DList(int[][] intervals){\nList&lt;List&lt;Integer&gt;&gt; list = new ArrayList&lt;&gt;();\nfor (int[] arr : intervals) \n{\n    List&lt;Integer&gt; temp=new ArrayList&lt;&gt;();\n    for(int i:arr) temp.add(i);\n    list.add(temp);\n}\nreturn list;\n}\n</code></pre>\n"}],"owner":{"account_id":1197503,"reputation":7576,"user_id":1168904,"accept_rate":77,"display_name":"Inquisitive"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87777,"favorite_count":0,"down_vote_count":2,"up_vote_count":40,"accepted_answer_id":11447971,"answer_count":15,"score":38,"last_activity_date":1690702138,"creation_date":1342081438,"question_id":11447780,"body_markdown":"I have a`m X n` two dimensional array of an Object say `Foo`. So I have `Foo[][] foosArray`. What is the best way to convert this into a `List&lt;Foo&gt;` in Java?","title":"Convert two dimensional array to List in java?","body":"<p>I have a<code>m X n</code> two dimensional array of an Object say <code>Foo</code>. So I have <code>Foo[][] foosArray</code>. What is the best way to convert this into a <code>List&lt;Foo&gt;</code> in Java?</p>\n"},{"tags":["java","spring-boot","prometheus","spring-boot-actuator"],"comments":[{"owner":{"account_id":1203431,"reputation":5728,"user_id":1173638,"accept_rate":67,"display_name":"Adder"},"score":0,"creation_date":1683192960,"post_id":76164940,"comment_id":134330045,"body_markdown":"It works now after restarting the browser and the IDE in the morning.","body":"It works now after restarting the browser and the IDE in the morning."}],"answers":[{"tags":[],"owner":{"account_id":3163862,"reputation":36940,"user_id":2674303,"accept_rate":62,"display_name":"gstackoverflow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690701873,"creation_date":1690474888,"answer_id":76781698,"question_id":76164940,"body_markdown":"This works for me in spring boot 3\r\n\r\n    management:\r\n      server:\r\n        port: 8081\r\n    \r\n      endpoints:\r\n        web:\r\n          exposure:\r\n            include: health,prometheus\r\n      prometheus:\r\n        metrics:\r\n          export:\r\n            enabled: true\r\n\r\n","title":"How to add prometheus end-point to spring boot application using micrometer?","body":"<p>This works for me in spring boot 3</p>\n<pre><code>management:\n  server:\n    port: 8081\n\n  endpoints:\n    web:\n      exposure:\n        include: health,prometheus\n  prometheus:\n    metrics:\n      export:\n        enabled: true\n</code></pre>\n"}],"owner":{"account_id":1203431,"reputation":5728,"user_id":1173638,"accept_rate":67,"display_name":"Adder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":490,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690701873,"creation_date":1683123607,"question_id":76164940,"body_markdown":"I want to gather metrics from my spring boot application with prometheus.\r\n\r\nI added this to my pom.xml:\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/io.micrometer/micrometer-registry-prometheus --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\r\n            &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\r\n            &lt;scope&gt;runtime&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAlso present is spring-boot-starter-actuator.\r\n\r\nI also tried adding prometheus to the properties file:\r\n\r\n    management.endpoints.web.exposure.include=prometheus, *\r\n\r\nI get a 404 error on accessing /actuator/prometheus (/actuator works)\r\n\r\nAs a side note, I don&#39;t know how to call &quot;mvn&quot; to get a dependency tree, &quot;mvn&quot; is not in the path. I have seen some dependencies being downloaded after I edited pom.xml.\r\n\r\nI also have no clue what the &quot;scope: runtime&quot; parameter does and would like to know.","title":"How to add prometheus end-point to spring boot application using micrometer?","body":"<p>I want to gather metrics from my spring boot application with prometheus.</p>\n<p>I added this to my pom.xml:</p>\n<pre><code>    &lt;!-- https://mvnrepository.com/artifact/io.micrometer/micrometer-registry-prometheus --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.micrometer&lt;/groupId&gt;\n        &lt;artifactId&gt;micrometer-registry-prometheus&lt;/artifactId&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Also present is spring-boot-starter-actuator.</p>\n<p>I also tried adding prometheus to the properties file:</p>\n<pre><code>management.endpoints.web.exposure.include=prometheus, *\n</code></pre>\n<p>I get a 404 error on accessing /actuator/prometheus (/actuator works)</p>\n<p>As a side note, I don't know how to call &quot;mvn&quot; to get a dependency tree, &quot;mvn&quot; is not in the path. I have seen some dependencies being downloaded after I edited pom.xml.</p>\n<p>I also have no clue what the &quot;scope: runtime&quot; parameter does and would like to know.</p>\n"},{"tags":["java","minecraft","minecraft-forge"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":1,"creation_date":1690695418,"post_id":76796407,"comment_id":135387726,"body_markdown":"Please clarify what you mean by _it doesnt works_. What is the code supposed to do and what is it actually doing? Are you getting any errors?","body":"Please clarify what you mean by <i>it doesnt works</i>. What is the code supposed to do and what is it actually doing? Are you getting any errors?"},{"owner":{"account_id":29120471,"reputation":19,"user_id":22308036,"display_name":"Kkjajalall"},"score":0,"creation_date":1690727649,"post_id":76796407,"comment_id":135390650,"body_markdown":"@Abra its a pvp mod (1.8.9), some servers for some reason while you pvp an other player and you try to eat the soup sometimes just doesnt eat the soup, this can be the fault of the server-side or client-side because of the delay, so this mod doesnt let the player drop the soup if the soup wasnt eat, that part its working, but the part of the command its not working, practically the command it was only added on singleplayer, but on multiplayer that command doesnt exist (the command is not being added), so i just need to fix that issue","body":"@Abra its a pvp mod (1.8.9), some servers for some reason while you pvp an other player and you try to eat the soup sometimes just doesnt eat the soup, this can be the fault of the server-side or client-side because of the delay, so this mod doesnt let the player drop the soup if the soup wasnt eat, that part its working, but the part of the command its not working, practically the command it was only added on singleplayer, but on multiplayer that command doesnt exist (the command is not being added), so i just need to fix that issue"},{"owner":{"account_id":10991782,"reputation":1463,"user_id":10391157,"display_name":"Luke100000"},"score":0,"creation_date":1690886042,"post_id":76796407,"comment_id":135412436,"body_markdown":"If you want it to be a client side mod, why do you listen to `FMLServerStartingEvent`; a strictly server side event?","body":"If you want it to be a client side mod, why do you listen to <code>FMLServerStartingEvent</code>; a strictly server side event?"}],"owner":{"account_id":29120471,"reputation":19,"user_id":22308036,"display_name":"Kkjajalall"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":128,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1690693454,"creation_date":1690693357,"question_id":76796407,"body_markdown":"im new on this forum and making mods for minecraft, that mod that i tried to do its for the version 1.8.9 and basically it doesnt works on multiplayer, only on singleplayer, nothing works on multiplayer mode, not even the custom command that is added, heres my code\r\n\r\n\r\nSoupCheck.java\r\n```\r\nimport java.lang.reflect.Field;\r\n\r\nimport net.minecraft.client.Minecraft;\r\nimport net.minecraft.client.settings.KeyBinding;\r\nimport net.minecraft.util.ChatComponentText;\r\nimport net.minecraft.util.EnumChatFormatting;\r\nimport net.minecraftforge.client.event.MouseEvent;\r\nimport net.minecraftforge.fml.common.eventhandler.SubscribeEvent;\r\nimport net.minecraftforge.fml.common.gameevent.InputEvent;\r\nimport net.minecraftforge.fml.common.gameevent.TickEvent;\r\n\r\npublic class SoupCheck {\r\n    private boolean leftMouseButtonDown = false;\r\n    private boolean isSoup = false;\r\n    public static boolean modEnabled = false;\r\n\r\n    @SubscribeEvent\r\n    public void onMouseClick(MouseEvent event) {\r\n    \tif(modEnabled)\r\n    \t{\r\n\t        if (event.button == 1) { \r\n\t            leftMouseButtonDown = event.buttonstate; \r\n\t        }\r\n    \t}\r\n    }\r\n\r\n    @SubscribeEvent\r\n    public void onTick(TickEvent.ClientTickEvent event) {\r\n    \tif(modEnabled)\r\n    \t{\r\n\t        if (leftMouseButtonDown) { \r\n\t           //System.out.println(&quot;Bot&#227;o esquerdo do mouse pressionado&quot;);\r\n\t            if (Minecraft.getMinecraft().thePlayer != null) {\r\n\t                if (Minecraft.getMinecraft().thePlayer.inventory.getCurrentItem() != null) {\r\n\t                    //System.out.println(&quot;Verificando se o item &#233; uma sopa ou uma tigela&quot;); \r\n\t                    if (Minecraft.getMinecraft().thePlayer.inventory.getCurrentItem().getItem().getUnlocalizedName().equals(&quot;item.mushroomStew&quot;)) {\r\n\t                        //System.out.println(&quot;A sopa n&#227;o virou uma tigela!&quot;);\r\n\t                        isSoup = true;\r\n\t                    } else if (Minecraft.getMinecraft().thePlayer.inventory.getCurrentItem().getItem().getUnlocalizedName().equals(&quot;item.bowl&quot;)) {\r\n\t                        //System.out.println(&quot;A sopa virou uma tigela!&quot;);\r\n\t                        isSoup = false;\r\n\t                    } else {\r\n\t                        isSoup = false;\r\n\t                    }\r\n\t                }\r\n\t            }\r\n\t        }\r\n    \t}\r\n    }\r\n\r\n    @SubscribeEvent\r\n    public void onKeyInput(InputEvent.KeyInputEvent event) {\r\n    \tif(modEnabled)\r\n    \t{\r\n\t        if (leftMouseButtonDown) { \r\n\t\t        //System.out.println(&quot;Verificando se a tecla &#39;Q&#39; foi pressionada&quot;); \r\n\t\t        if (isSoup &amp;&amp; Minecraft.getMinecraft().gameSettings.keyBindDrop.isPressed()) { \r\n\t\t            //System.out.println(&quot;Impedindo que a tecla &#39;Q&#39; seja reconhecida como pressionada&quot;);\r\n\t\t            unpressKey(Minecraft.getMinecraft().gameSettings.keyBindDrop);\r\n\t\t        }\r\n\t        }\r\n    \t}\r\n    }\r\n\r\n    private void unpressKey(KeyBinding keyBinding) {\r\n        if (modEnabled) {\r\n            try {\r\n                //System.out.println(&quot;Despressionando a tecla: &quot; + keyBinding.getKeyDescription());\r\n                Field pressedField = KeyBinding.class.getDeclaredField(&quot;pressed&quot;);\r\n                pressedField.setAccessible(true);\r\n                pressedField.setBoolean(keyBinding, false);\r\n            } catch (NoSuchFieldException e) {\r\n                e.printStackTrace();\r\n            } catch (IllegalAccessException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n```\r\n\r\nSoupCheckMod.java\r\n\r\n```\r\nimport net.minecraft.command.CommandBase;\r\nimport net.minecraft.command.ICommandSender;\r\nimport net.minecraft.util.ChatComponentText;\r\nimport net.minecraft.util.EnumChatFormatting;\r\nimport net.minecraftforge.common.MinecraftForge;\r\nimport net.minecraftforge.fml.common.Mod;\r\nimport net.minecraftforge.fml.common.event.FMLInitializationEvent;\r\nimport net.minecraftforge.fml.common.event.FMLServerStartingEvent;\r\n\r\n@Mod(modid = &quot;nodropsoup&quot;, name = &quot;No Drop Soup&quot;, version = &quot;7.29.2023 - naogostodeprogramar&quot;)\r\npublic class SoupCheckMod {\r\n\r\n    /*@Mod.EventHandler\r\n    public void init(FMLInitializationEvent event) {\r\n        //System.out.println(&quot;Registrando evento Tick&quot;);\r\n        MinecraftForge.EVENT_BUS.register(new SoupCheck());\r\n    }*/\r\n\r\n    @Mod.EventHandler\r\n    public void serverLoad(FMLServerStartingEvent event) {\r\n        MinecraftForge.EVENT_BUS.register(new SoupCheck());\r\n        event.registerServerCommand(new CommandBase() {\r\n            @Override\r\n            public String getCommandName() {\r\n                return &quot;nodropsoup&quot;;\r\n            }\r\n\r\n            @Override\r\n            public String getCommandUsage(ICommandSender sender) {\r\n                return &quot;/nodropsoup&quot;;\r\n            }\r\n\r\n            @Override\r\n            public void processCommand(ICommandSender sender, String[] args) {\r\n                if (SoupCheck.modEnabled) {\r\n                    sender.addChatMessage(new ChatComponentText(EnumChatFormatting.RED + &quot;Mod Desativado! - by naogostodeprogramar&quot;));\r\n                } else {\r\n                    sender.addChatMessage(new ChatComponentText(EnumChatFormatting.GREEN + &quot;Mod Ativado! - by naogostodeprogramar&quot;));\r\n                }\r\n                SoupCheck.modEnabled = !SoupCheck.modEnabled;\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\ni tried on singleplayer and it worked fine, but on multiplayer didnt work nothing, and it needs to be working fine like as on singleplayer, and no im not trying to do a mod for a multiplayer server or something like that, i just want to that mod works only for me (client-side)\r\n\r\nedit: i made a test enabling the mod in singleplayer and going to multiplayer, it works practically everything fine but the command its not being created (so i cant use /nodropsoup, it says unknown command)","title":"Minecraft mod not working on multiplayer, only on singleplayer","body":"<p>im new on this forum and making mods for minecraft, that mod that i tried to do its for the version 1.8.9 and basically it doesnt works on multiplayer, only on singleplayer, nothing works on multiplayer mode, not even the custom command that is added, heres my code</p>\n<p>SoupCheck.java</p>\n<pre><code>import java.lang.reflect.Field;\n\nimport net.minecraft.client.Minecraft;\nimport net.minecraft.client.settings.KeyBinding;\nimport net.minecraft.util.ChatComponentText;\nimport net.minecraft.util.EnumChatFormatting;\nimport net.minecraftforge.client.event.MouseEvent;\nimport net.minecraftforge.fml.common.eventhandler.SubscribeEvent;\nimport net.minecraftforge.fml.common.gameevent.InputEvent;\nimport net.minecraftforge.fml.common.gameevent.TickEvent;\n\npublic class SoupCheck {\n    private boolean leftMouseButtonDown = false;\n    private boolean isSoup = false;\n    public static boolean modEnabled = false;\n\n    @SubscribeEvent\n    public void onMouseClick(MouseEvent event) {\n        if(modEnabled)\n        {\n            if (event.button == 1) { \n                leftMouseButtonDown = event.buttonstate; \n            }\n        }\n    }\n\n    @SubscribeEvent\n    public void onTick(TickEvent.ClientTickEvent event) {\n        if(modEnabled)\n        {\n            if (leftMouseButtonDown) { \n               //System.out.println(&quot;Botão esquerdo do mouse pressionado&quot;);\n                if (Minecraft.getMinecraft().thePlayer != null) {\n                    if (Minecraft.getMinecraft().thePlayer.inventory.getCurrentItem() != null) {\n                        //System.out.println(&quot;Verificando se o item é uma sopa ou uma tigela&quot;); \n                        if (Minecraft.getMinecraft().thePlayer.inventory.getCurrentItem().getItem().getUnlocalizedName().equals(&quot;item.mushroomStew&quot;)) {\n                            //System.out.println(&quot;A sopa não virou uma tigela!&quot;);\n                            isSoup = true;\n                        } else if (Minecraft.getMinecraft().thePlayer.inventory.getCurrentItem().getItem().getUnlocalizedName().equals(&quot;item.bowl&quot;)) {\n                            //System.out.println(&quot;A sopa virou uma tigela!&quot;);\n                            isSoup = false;\n                        } else {\n                            isSoup = false;\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    @SubscribeEvent\n    public void onKeyInput(InputEvent.KeyInputEvent event) {\n        if(modEnabled)\n        {\n            if (leftMouseButtonDown) { \n                //System.out.println(&quot;Verificando se a tecla 'Q' foi pressionada&quot;); \n                if (isSoup &amp;&amp; Minecraft.getMinecraft().gameSettings.keyBindDrop.isPressed()) { \n                    //System.out.println(&quot;Impedindo que a tecla 'Q' seja reconhecida como pressionada&quot;);\n                    unpressKey(Minecraft.getMinecraft().gameSettings.keyBindDrop);\n                }\n            }\n        }\n    }\n\n    private void unpressKey(KeyBinding keyBinding) {\n        if (modEnabled) {\n            try {\n                //System.out.println(&quot;Despressionando a tecla: &quot; + keyBinding.getKeyDescription());\n                Field pressedField = KeyBinding.class.getDeclaredField(&quot;pressed&quot;);\n                pressedField.setAccessible(true);\n                pressedField.setBoolean(keyBinding, false);\n            } catch (NoSuchFieldException e) {\n                e.printStackTrace();\n            } catch (IllegalAccessException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>SoupCheckMod.java</p>\n<pre><code>import net.minecraft.command.CommandBase;\nimport net.minecraft.command.ICommandSender;\nimport net.minecraft.util.ChatComponentText;\nimport net.minecraft.util.EnumChatFormatting;\nimport net.minecraftforge.common.MinecraftForge;\nimport net.minecraftforge.fml.common.Mod;\nimport net.minecraftforge.fml.common.event.FMLInitializationEvent;\nimport net.minecraftforge.fml.common.event.FMLServerStartingEvent;\n\n@Mod(modid = &quot;nodropsoup&quot;, name = &quot;No Drop Soup&quot;, version = &quot;7.29.2023 - naogostodeprogramar&quot;)\npublic class SoupCheckMod {\n\n    /*@Mod.EventHandler\n    public void init(FMLInitializationEvent event) {\n        //System.out.println(&quot;Registrando evento Tick&quot;);\n        MinecraftForge.EVENT_BUS.register(new SoupCheck());\n    }*/\n\n    @Mod.EventHandler\n    public void serverLoad(FMLServerStartingEvent event) {\n        MinecraftForge.EVENT_BUS.register(new SoupCheck());\n        event.registerServerCommand(new CommandBase() {\n            @Override\n            public String getCommandName() {\n                return &quot;nodropsoup&quot;;\n            }\n\n            @Override\n            public String getCommandUsage(ICommandSender sender) {\n                return &quot;/nodropsoup&quot;;\n            }\n\n            @Override\n            public void processCommand(ICommandSender sender, String[] args) {\n                if (SoupCheck.modEnabled) {\n                    sender.addChatMessage(new ChatComponentText(EnumChatFormatting.RED + &quot;Mod Desativado! - by naogostodeprogramar&quot;));\n                } else {\n                    sender.addChatMessage(new ChatComponentText(EnumChatFormatting.GREEN + &quot;Mod Ativado! - by naogostodeprogramar&quot;));\n                }\n                SoupCheck.modEnabled = !SoupCheck.modEnabled;\n            }\n        });\n    }\n}\n</code></pre>\n<p>i tried on singleplayer and it worked fine, but on multiplayer didnt work nothing, and it needs to be working fine like as on singleplayer, and no im not trying to do a mod for a multiplayer server or something like that, i just want to that mod works only for me (client-side)</p>\n<p>edit: i made a test enabling the mod in singleplayer and going to multiplayer, it works practically everything fine but the command its not being created (so i cant use /nodropsoup, it says unknown command)</p>\n"},{"tags":["java","ubuntu","jenkins","java-home"],"answers":[{"tags":[],"owner":{"account_id":15903,"reputation":323433,"user_id":34088,"accept_rate":77,"display_name":"Aaron Digulla"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1340139873,"creation_date":1321634192,"answer_id":8185722,"question_id":8185593,"body_markdown":"`openjdk-6` is a Java runtime, not a JDK (development kit which contains `javac`, for example). Install `openjdk-6-jdk`.\r\n\r\nMaven also needs the JDK.\r\n\r\n**[EDIT]** When the JDK is installed, use `/usr/lib/jvm/java-6-openjdk` for `JAVA_HOME` (i.e. without the `jre` part).","title":"Jenkins, specifying JAVA_HOME","body":"<p><code>openjdk-6</code> is a Java runtime, not a JDK (development kit which contains <code>javac</code>, for example). Install <code>openjdk-6-jdk</code>.</p>\n\n<p>Maven also needs the JDK.</p>\n\n<p><strong>[EDIT]</strong> When the JDK is installed, use <code>/usr/lib/jvm/java-6-openjdk</code> for <code>JAVA_HOME</code> (i.e. without the <code>jre</code> part).</p>\n"},{"tags":[],"owner":{"account_id":188210,"reputation":7241,"user_id":426812,"display_name":"Ernesto Campohermoso"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1557735735,"creation_date":1321634833,"answer_id":8185849,"question_id":8185593,"body_markdown":"Your JAVA_HOME variable must be set to /usr/lib/jvm/java-6-openjdk and it must be available  for the user that starts Jenkins.\r\n\r\n***From Kyle Strand comment:***\r\n\t\r\n*As of April 2015 (I think), Jenkins requires Java7. Also note that the java binary path (JAVA) must be set to the correct version if the system default is still Java 6. Finally, for anyone wondering where these variables are set, it&#39;s in a config file listed with the installation instructions on the Jenkins webpage (e.g. for Debian it&#39;s /etc/default/jenkins).*","title":"Jenkins, specifying JAVA_HOME","body":"<p>Your JAVA_HOME variable must be set to /usr/lib/jvm/java-6-openjdk and it must be available  for the user that starts Jenkins.</p>\n\n<p><strong><em>From Kyle Strand comment:</em></strong></p>\n\n<p><em>As of April 2015 (I think), Jenkins requires Java7. Also note that the java binary path (JAVA) must be set to the correct version if the system default is still Java 6. Finally, for anyone wondering where these variables are set, it's in a config file listed with the installation instructions on the Jenkins webpage (e.g. for Debian it's /etc/default/jenkins).</em></p>\n"},{"tags":[],"owner":{"account_id":49496,"reputation":12158,"user_id":147373,"accept_rate":80,"display_name":"Casey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1321634915,"creation_date":1321634915,"answer_id":8185875,"question_id":8185593,"body_markdown":"In Jenkins try setting `JAVA_HOME` to `/usr/lib/jvm/java-6-openjdk`","title":"Jenkins, specifying JAVA_HOME","body":"<p>In Jenkins try setting <code>JAVA_HOME</code> to <code>/usr/lib/jvm/java-6-openjdk</code></p>\n"},{"tags":[],"owner":{"account_id":37187,"reputation":46683,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1455522361,"creation_date":1322239517,"answer_id":8272019,"question_id":8185593,"body_markdown":"In case anyone has similar problems, I used the default sudo apt-get installs for the relevant packages and here are the correct settings: \r\n\r\n    JAVA_HOME=/usr/lib/jvm/java-7-openjdk-i386\r\nand\r\n\r\n    MAVEN_HOME=/usr/share/maven2","title":"Jenkins, specifying JAVA_HOME","body":"<p>In case anyone has similar problems, I used the default sudo apt-get installs for the relevant packages and here are the correct settings: </p>\n\n<pre><code>JAVA_HOME=/usr/lib/jvm/java-7-openjdk-i386\n</code></pre>\n\n<p>and</p>\n\n<pre><code>MAVEN_HOME=/usr/share/maven2\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1690543,"reputation":61,"user_id":1552988,"display_name":"Mike Lococo"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1343254479,"creation_date":1343254479,"answer_id":11659472,"question_id":8185593,"body_markdown":"On CentOS 6.x and Redhat 6.x systems, the openjdk-devel package contains the jdk.  It&#39;s sensible enough if you are familiar with the -devel pattern used in RedHat, but confusing if you&#39;re looking for a jdk package that conforms to java naming standards.","title":"Jenkins, specifying JAVA_HOME","body":"<p>On CentOS 6.x and Redhat 6.x systems, the openjdk-devel package contains the jdk.  It's sensible enough if you are familiar with the -devel pattern used in RedHat, but confusing if you're looking for a jdk package that conforms to java naming standards.</p>\n"},{"tags":[],"owner":{"account_id":23853,"reputation":935,"user_id":60160,"accept_rate":60,"display_name":"TimP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1344855319,"creation_date":1344855319,"answer_id":11932901,"question_id":8185593,"body_markdown":"Upgrading from Ubuntu 10.0.4 to 12.0.4 we got wrong footed. \r\nWe had a JDK installation configured (auto-configured?) pointing to /usr/lib/jvm/java-6-openjdk\r\nthis no longer contained a JDK, \r\nChanging to /usr/lib/jvm/default-java fixed, and should make for a seamless java-7 upgrade.\r\n\r\nSo in answer to the question: do not specify JAVA_HOME on Ubuntu.","title":"Jenkins, specifying JAVA_HOME","body":"<p>Upgrading from Ubuntu 10.0.4 to 12.0.4 we got wrong footed. \nWe had a JDK installation configured (auto-configured?) pointing to /usr/lib/jvm/java-6-openjdk\nthis no longer contained a JDK, \nChanging to /usr/lib/jvm/default-java fixed, and should make for a seamless java-7 upgrade.</p>\n\n<p>So in answer to the question: do not specify JAVA_HOME on Ubuntu.</p>\n"},{"tags":[],"owner":{"account_id":2594462,"reputation":1721,"user_id":2248444,"display_name":"nizar ouerghi"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1367332601,"creation_date":1367332601,"answer_id":16302535,"question_id":8185593,"body_markdown":"i saw into \r\nEclipse &gt; Preferences&gt;installed JREs &gt; JRE Definition\r\ni found the directory of java_home\r\nso it&#39;s \r\n/Library/Java/JavaVirtualMachines/jdk1.7.0_17.jdk/Contents/Home","title":"Jenkins, specifying JAVA_HOME","body":"<p>i saw into \nEclipse > Preferences>installed JREs > JRE Definition\ni found the directory of java_home\nso it's \n/Library/Java/JavaVirtualMachines/jdk1.7.0_17.jdk/Contents/Home</p>\n"},{"tags":[],"owner":{"account_id":1059833,"reputation":91,"user_id":1061702,"display_name":"lutinwood"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401790519,"creation_date":1401790519,"answer_id":24012544,"question_id":8185593,"body_markdown":"In Ubuntu 12.04 I had to install \r\n**openjdk-7-jdk**\r\n\r\nthen **javac** was working ! \r\n\r\nthen I could use &lt;p&gt;&lt;code&gt;/usr/lib/jvm/java-7-openjdk-amd64&lt;/code&gt;&lt;/p&gt; as path and jenkins didn&#39;t complain anymore. ","title":"Jenkins, specifying JAVA_HOME","body":"<p>In Ubuntu 12.04 I had to install \n<strong>openjdk-7-jdk</strong></p>\n\n<p>then <strong>javac</strong> was working ! </p>\n\n<p>then I could use <p><code>/usr/lib/jvm/java-7-openjdk-amd64</code></p> as path and jenkins didn't complain anymore. </p>\n"},{"tags":[],"owner":{"account_id":1967474,"reputation":3342,"user_id":1767316,"accept_rate":42,"display_name":"user1767316"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1490703810,"creation_date":1490703810,"answer_id":43069484,"question_id":8185593,"body_markdown":"Using Jenkins 2 (2.3.2 in my case), the right way seems to insert the following into your pipeline file:\r\n\r\n    env.JAVA_HOME=&quot;${tool &#39;jdk1.8.0_111&#39;}&quot;\r\n    env.PATH=&quot;${env.JAVA_HOME}/bin:${env.PATH}&quot;\r\n\r\n&quot;jdk1.8.0_111&quot; beeing the name of the java configuration initially registered into Jenkins ","title":"Jenkins, specifying JAVA_HOME","body":"<p>Using Jenkins 2 (2.3.2 in my case), the right way seems to insert the following into your pipeline file:</p>\n\n<pre><code>env.JAVA_HOME=\"${tool 'jdk1.8.0_111'}\"\nenv.PATH=\"${env.JAVA_HOME}/bin:${env.PATH}\"\n</code></pre>\n\n<p>\"jdk1.8.0_111\" beeing the name of the java configuration initially registered into Jenkins </p>\n"},{"tags":[],"owner":{"account_id":8196902,"reputation":21,"user_id":6179398,"display_name":"Hasan S Syed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503407242,"creation_date":1503406329,"answer_id":45818210,"question_id":8185593,"body_markdown":"Download package rpm package from http://pkg.jenkins-ci.org/redhat/  you can give additional java location like I have default 1.7 java in my system but I am using /opt/jdk1.8.0_60/bin/java for jenkins. Open jenkins startup script /etc/init.d/jenkins and add additional java here, I m case I have added /opt/jdk1.8.0_60/bin/java,\r\n\r\n\r\nSearch usable Java as /usr/bin/java might not point to minimal version required by Jenkins.\r\n\r\nSee http://www.nabble.com/guinea-pigs-wanted-----Hudson-RPM-for-RedHat-Linux-td25673707.html\r\n\r\ncandidates=&quot;\r\n/opt/jdk1.8.0_60/bin/java\r\n","title":"Jenkins, specifying JAVA_HOME","body":"<p>Download package rpm package from <a href=\"http://pkg.jenkins-ci.org/redhat/\" rel=\"nofollow noreferrer\">http://pkg.jenkins-ci.org/redhat/</a>  you can give additional java location like I have default 1.7 java in my system but I am using /opt/jdk1.8.0_60/bin/java for jenkins. Open jenkins startup script /etc/init.d/jenkins and add additional java here, I m case I have added /opt/jdk1.8.0_60/bin/java,</p>\n\n<p>Search usable Java as /usr/bin/java might not point to minimal version required by Jenkins.</p>\n\n<p>See <a href=\"http://www.nabble.com/guinea-pigs-wanted-----Hudson-RPM-for-RedHat-Linux-td25673707.html\" rel=\"nofollow noreferrer\">http://www.nabble.com/guinea-pigs-wanted-----Hudson-RPM-for-RedHat-Linux-td25673707.html</a></p>\n\n<p>candidates=\"\n/opt/jdk1.8.0_60/bin/java</p>\n"},{"tags":[],"owner":{"account_id":2392655,"reputation":1910,"user_id":2092210,"accept_rate":86,"display_name":"BClaydon"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1582928525,"creation_date":1524592522,"answer_id":50008037,"question_id":8185593,"body_markdown":"I just wanted to add a solution for Windows machines.\r\n\r\n - Windows Server 2008 R2 Standard, SP1 \r\n - Jenkins 2.89.4  \r\n - Java version 8.171\r\n\r\nSymptom: Jenkins service starts and immediately stops.  \r\n`Jenkins.wrapper.log` has a line indicating the incorrect path to Java:\r\n\r\n&gt; \\- Starting C:\\Program Files\\Java\\jre1.8.0_141\\bin\\java -Xrs -Xmx6g -Dhudson.lifecycle=hudson.lifecycle.WindowsServiceLifecycle -jar &quot;C:\\Program Files (x86)\\Jenkins\\jenkins.war&quot; --httpPort=8080 --webroot=&quot;C:\\Program Files (x86)\\Jenkins\\war&quot;\r\n\r\n\r\nThe fix: Jenkins has the path hard-coded in `jenkins.xml`. Change the path to the new Java location. \r\n\r\n    &lt;env name=&quot;JENKINS_HOME&quot; value=&quot;%BASE%&quot;/&gt;\r\n    &lt;!--\r\n    if you&#39;d like to run Jenkins with a specific version of Java, specify a full path to java.exe.\r\n    The following value assumes that you have java in your PATH.\r\n    --&gt;\r\n    &lt;executable&gt;C:\\Program Files\\Java\\jre1.8.0_171\\bin\\java&lt;/executable&gt;\r\n    &lt;arguments&gt;-Xrs -Xmx256m -Dhudson.lifecycle=hudson.lifecycle.WindowsServiceLifecycle -jar &quot;%BASE%\\jenkins.war&quot; --httpPort=8080 --webroot=&quot;%BASE%\\war&quot;&lt;/arguments&gt;\r\n\r\n\r\nYou can also use Windows Environment Variables, but I wasn&#39;t successful with that and I don&#39;t think the Java installer updates those, so you&#39;d need to update that by hand every time anyway.\r\n\r\n    &lt;env name=&quot;JENKINS_HOME&quot; value=&quot;%BASE%&quot;/&gt;\r\n    &lt;!--\r\n    if you&#39;d like to run Jenkins with a specific version of Java, specify a full path to java.exe.\r\n    The following value assumes that you have java in your PATH.\r\n    --&gt;\r\n    &lt;executable&gt;%JAVA_HOME%\\bin\\java&lt;/executable&gt;\r\n    &lt;arguments&gt;-Xrs -Xmx256m -Dhudson.lifecycle=hudson.lifecycle.WindowsServiceLifecycle -jar &quot;%BASE%\\jenkins.war&quot; --httpPort=8080 --webroot=&quot;%BASE%\\war&quot;&lt;/arguments&gt;\r\n\r\n","title":"Jenkins, specifying JAVA_HOME","body":"<p>I just wanted to add a solution for Windows machines.</p>\n\n<ul>\n<li>Windows Server 2008 R2 Standard, SP1 </li>\n<li>Jenkins 2.89.4  </li>\n<li>Java version 8.171</li>\n</ul>\n\n<p>Symptom: Jenkins service starts and immediately stops.<br>\n<code>Jenkins.wrapper.log</code> has a line indicating the incorrect path to Java:</p>\n\n<blockquote>\n  <p>- Starting C:\\Program Files\\Java\\jre1.8.0_141\\bin\\java -Xrs -Xmx6g -Dhudson.lifecycle=hudson.lifecycle.WindowsServiceLifecycle -jar \"C:\\Program Files (x86)\\Jenkins\\jenkins.war\" --httpPort=8080 --webroot=\"C:\\Program Files (x86)\\Jenkins\\war\"</p>\n</blockquote>\n\n<p>The fix: Jenkins has the path hard-coded in <code>jenkins.xml</code>. Change the path to the new Java location. </p>\n\n<pre><code>&lt;env name=\"JENKINS_HOME\" value=\"%BASE%\"/&gt;\n&lt;!--\nif you'd like to run Jenkins with a specific version of Java, specify a full path to java.exe.\nThe following value assumes that you have java in your PATH.\n--&gt;\n&lt;executable&gt;C:\\Program Files\\Java\\jre1.8.0_171\\bin\\java&lt;/executable&gt;\n&lt;arguments&gt;-Xrs -Xmx256m -Dhudson.lifecycle=hudson.lifecycle.WindowsServiceLifecycle -jar \"%BASE%\\jenkins.war\" --httpPort=8080 --webroot=\"%BASE%\\war\"&lt;/arguments&gt;\n</code></pre>\n\n<p>You can also use Windows Environment Variables, but I wasn't successful with that and I don't think the Java installer updates those, so you'd need to update that by hand every time anyway.</p>\n\n<pre><code>&lt;env name=\"JENKINS_HOME\" value=\"%BASE%\"/&gt;\n&lt;!--\nif you'd like to run Jenkins with a specific version of Java, specify a full path to java.exe.\nThe following value assumes that you have java in your PATH.\n--&gt;\n&lt;executable&gt;%JAVA_HOME%\\bin\\java&lt;/executable&gt;\n&lt;arguments&gt;-Xrs -Xmx256m -Dhudson.lifecycle=hudson.lifecycle.WindowsServiceLifecycle -jar \"%BASE%\\jenkins.war\" --httpPort=8080 --webroot=\"%BASE%\\war\"&lt;/arguments&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7533666,"reputation":35,"user_id":5720833,"display_name":"D Turner"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1533008278,"creation_date":1533007102,"answer_id":51604982,"question_id":8185593,"body_markdown":"This is an old thread but for more recent Jenkins versions (in my case Jenkins 2.135) that require a particular java JDK the following should help:\r\n\r\nNote: This is for Centos 7 , other distros may have differing directory locations although I believe they are correct for ubuntu also.\r\n\r\nModify `/etc/sysconfig/jenkins` and set variable `JENKINS_JAVA_CMD=&quot;/&lt;your desired jvm&gt;/bin/java&quot;` (root access require)\r\n\r\nExample:\r\n\r\n    JENKINS_JAVA_CMD=&quot;/usr/lib/jvm/java-1.8.0-openjdk/bin/java&quot;\r\n\r\nRestart Jenkins (if jenkins is run as a service `sudo service jenkins stop` then `sudo service jenkins start`)\r\n\r\nThe above fixed my Jenkins install not starting after I upgraded to Java 10 and Jenkins to 2.135\r\n\r\n[tag:java] [tag:jenkins] [tag:java-home] [tag:ubuntu] [tag:centos]","title":"Jenkins, specifying JAVA_HOME","body":"<p>This is an old thread but for more recent Jenkins versions (in my case Jenkins 2.135) that require a particular java JDK the following should help:</p>\n\n<p>Note: This is for Centos 7 , other distros may have differing directory locations although I believe they are correct for ubuntu also.</p>\n\n<p>Modify <code>/etc/sysconfig/jenkins</code> and set variable <code>JENKINS_JAVA_CMD=\"/&lt;your desired jvm&gt;/bin/java\"</code> (root access require)</p>\n\n<p>Example:</p>\n\n<pre><code>JENKINS_JAVA_CMD=\"/usr/lib/jvm/java-1.8.0-openjdk/bin/java\"\n</code></pre>\n\n<p>Restart Jenkins (if jenkins is run as a service <code>sudo service jenkins stop</code> then <code>sudo service jenkins start</code>)</p>\n\n<p>The above fixed my Jenkins install not starting after I upgraded to Java 10 and Jenkins to 2.135</p>\n\n<p><a href=\"/questions/tagged/java\" class=\"post-tag\" title=\"show questions tagged &#39;java&#39;\" rel=\"tag\">java</a> <a href=\"/questions/tagged/jenkins\" class=\"post-tag\" title=\"show questions tagged &#39;jenkins&#39;\" rel=\"tag\">jenkins</a> <a href=\"/questions/tagged/java-home\" class=\"post-tag\" title=\"show questions tagged &#39;java-home&#39;\" rel=\"tag\">java-home</a> <a href=\"/questions/tagged/ubuntu\" class=\"post-tag\" title=\"show questions tagged &#39;ubuntu&#39;\" rel=\"tag\">ubuntu</a> <a href=\"/questions/tagged/centos\" class=\"post-tag\" title=\"show questions tagged &#39;centos&#39;\" rel=\"tag\">centos</a></p>\n"},{"tags":[],"owner":{"account_id":1740131,"reputation":3810,"user_id":1591777,"display_name":"cstroe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1561267267,"creation_date":1561267267,"answer_id":56721257,"question_id":8185593,"body_markdown":"For those of you coming to this issue and have access to configure your Jenkins Agents, you can set the `JAVA_HOME` from the Jenkins &gt; Nodes &gt; &quot;the agent name&quot; &gt; Configure page:\r\n\r\n[Setting &quot;per agent&quot; environment variables][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YZyR8.png","title":"Jenkins, specifying JAVA_HOME","body":"<p>For those of you coming to this issue and have access to configure your Jenkins Agents, you can set the <code>JAVA_HOME</code> from the Jenkins > Nodes > \"the agent name\" > Configure page:</p>\n\n<p><a href=\"https://i.stack.imgur.com/YZyR8.png\" rel=\"nofollow noreferrer\">Setting \"per agent\" environment variables</a></p>\n"},{"tags":[],"owner":{"account_id":10842456,"reputation":307,"user_id":7973229,"display_name":"ViV"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1602028054,"creation_date":1590952874,"answer_id":62121346,"question_id":8185593,"body_markdown":"I was facing the same issue and for me downgrading the `JAVA_HOME` from *jdk12* was not the plausible option like said in the [answer](https://stackoverflow.com/a/8185849/7973229). So I did a trial and error experiment and I got the Jenkins running without even downgrading the version of `JAVA_HOME`.\r\n\r\n### Steps:\r\n * open configuration `$ sudo vi /etc/init.d/jenkins`\r\n * Comment following line:\r\n  ```\r\n   #JAVA=`type -p java`\r\n   ```\r\n * Introduced the line mentioned below. (Note: Insert the specific path of JDK in your machine.)\r\n  ```\r\n   JAVA=`type -p /usr/lib/jdk8/bin/java`\r\n   ```\r\n * Reload systemd manager configuration: `$ sudo systemctl daemon-reload`\r\n * Start Jenkins service: `$ sudo systemctl start jenkins`\r\n   ```\r\n   ● jenkins.service - LSB: Start Jenkins at boot time\r\n      Loaded: loaded (/etc/init.d/jenkins; generated)\r\n      Active: active (exited) since Sun 2020-05-31 21:05:30 CEST; 9min ago\r\n        Docs: man:systemd-sysv-generator(8)\r\n     Process: 9055 ExecStart=/etc/init.d/jenkins start (code=exited, status=0/SUCCESS)\r\n   ```\r\n","title":"Jenkins, specifying JAVA_HOME","body":"<p>I was facing the same issue and for me downgrading the <code>JAVA_HOME</code> from <em>jdk12</em> was not the plausible option like said in the <a href=\"https://stackoverflow.com/a/8185849/7973229\">answer</a>. So I did a trial and error experiment and I got the Jenkins running without even downgrading the version of <code>JAVA_HOME</code>.</p>\n<h3>Steps:</h3>\n<ul>\n<li>open configuration <code>$ sudo vi /etc/init.d/jenkins</code></li>\n<li>Comment following line:</li>\n</ul>\n<pre><code> #JAVA=`type -p java`\n</code></pre>\n<ul>\n<li>Introduced the line mentioned below. (Note: Insert the specific path of JDK in your machine.)</li>\n</ul>\n<pre><code> JAVA=`type -p /usr/lib/jdk8/bin/java`\n</code></pre>\n<ul>\n<li>Reload systemd manager configuration: <code>$ sudo systemctl daemon-reload</code></li>\n<li>Start Jenkins service: <code>$ sudo systemctl start jenkins</code>\n<pre><code>● jenkins.service - LSB: Start Jenkins at boot time\n   Loaded: loaded (/etc/init.d/jenkins; generated)\n   Active: active (exited) since Sun 2020-05-31 21:05:30 CEST; 9min ago\n     Docs: man:systemd-sysv-generator(8)\n  Process: 9055 ExecStart=/etc/init.d/jenkins start (code=exited, status=0/SUCCESS)\n</code></pre>\n</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":29120482,"reputation":11,"user_id":22308043,"display_name":"Ovidijus Kuliesius"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690692827,"creation_date":1690692692,"answer_id":76796387,"question_id":8185593,"body_markdown":"After half of the day trying different solutions for running correct JDK version to start Jenkins service, following helped in my case on Ubuntu 20.04.\r\n\r\nsudo gedit jenkins.service in /etc/systemd/system/multi-user.target.wants\r\n\r\nUncomment JAVA_HOME variable in jenkins.service file and set to your JDK directory (in my case **/usr/local/bin/jdk-17.0.7**)\r\n\r\nEnvironment=&quot;JAVA_HOME=/usr/local/bin/jdk-17.0.7&quot;","title":"Jenkins, specifying JAVA_HOME","body":"<p>After half of the day trying different solutions for running correct JDK version to start Jenkins service, following helped in my case on Ubuntu 20.04.</p>\n<p>sudo gedit jenkins.service in /etc/systemd/system/multi-user.target.wants</p>\n<p>Uncomment JAVA_HOME variable in jenkins.service file and set to your JDK directory (in my case <strong>/usr/local/bin/jdk-17.0.7</strong>)</p>\n<p>Environment=&quot;JAVA_HOME=/usr/local/bin/jdk-17.0.7&quot;</p>\n"}],"owner":{"account_id":37187,"reputation":46683,"user_id":106261,"accept_rate":87,"display_name":"NimChimpsky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164033,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"accepted_answer_id":8185849,"answer_count":15,"score":25,"last_activity_date":1690692827,"creation_date":1321633599,"question_id":8185593,"body_markdown":"I installed openjdk-6-jdk on my ubuntu box using apt-get.\r\n\r\nIn system info jenkins is telling me Java.Home is `/usr/lib/jvm/java-6-openjdk/jre`\r\n\r\nHowever when I specify that directory as `JAVA_HOME` in Jenkins : &quot;configure system&quot;, it returns error message saying that directory does not look like a jdk directory.\r\n\r\nit is also failing to pick up my maven install.\r\n\r\nAm I missing something obvious ?\r\n","title":"Jenkins, specifying JAVA_HOME","body":"<p>I installed openjdk-6-jdk on my ubuntu box using apt-get.</p>\n\n<p>In system info jenkins is telling me Java.Home is <code>/usr/lib/jvm/java-6-openjdk/jre</code></p>\n\n<p>However when I specify that directory as <code>JAVA_HOME</code> in Jenkins : \"configure system\", it returns error message saying that directory does not look like a jdk directory.</p>\n\n<p>it is also failing to pick up my maven install.</p>\n\n<p>Am I missing something obvious ?</p>\n"},{"tags":["java","swing","jframe","jpanel"],"comments":[{"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"score":0,"creation_date":1336159437,"post_id":10454913,"comment_id":13500382,"body_markdown":"You need to post more code since what you posted should just work","body":"You need to post more code since what you posted should just work"},{"owner":{"account_id":251439,"reputation":245,"user_id":528825,"display_name":"Charles"},"score":0,"creation_date":1336159537,"post_id":10454913,"comment_id":13500419,"body_markdown":"JPanel is a component. Does the code you just pasted give you that error?","body":"JPanel is a component. Does the code you just pasted give you that error?"},{"owner":{"account_id":19190,"reputation":6157,"user_id":44737,"accept_rate":78,"display_name":"rob"},"score":0,"creation_date":1336160171,"post_id":10454913,"comment_id":13500641,"body_markdown":"It sounds like you&#39;re misinterpreting the error message; what is the *exact* error message?","body":"It sounds like you&#39;re misinterpreting the error message; what is the <i>exact</i> error message?"}],"answers":[{"tags":[],"owner":{"account_id":1102290,"reputation":3877,"user_id":1094430,"accept_rate":62,"display_name":"StepTNT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1336159679,"creation_date":1336159679,"answer_id":10454988,"question_id":10454913,"body_markdown":"    Test2 test = new Test2();\r\n    ...\r\n    frame.add(test, BorderLayout.CENTER);\r\n\r\n\r\nAre you sure of this? `test` is NOT a component!\r\nTo do what you&#39;re trying to do you should let `Test2` extend `JPanel` !","title":"Adding JPanel to JFrame","body":"<pre><code>Test2 test = new Test2();\n...\nframe.add(test, BorderLayout.CENTER);\n</code></pre>\n\n<p>Are you sure of this? <code>test</code> is NOT a component!\nTo do what you're trying to do you should let <code>Test2</code> extend <code>JPanel</code> !</p>\n"},{"tags":[],"owner":{"account_id":1078921,"reputation":36333,"user_id":1076463,"accept_rate":65,"display_name":"Robin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1336159680,"creation_date":1336159680,"answer_id":10454989,"question_id":10454913,"body_markdown":"Your `Test2` class is not a `Component`, it has a `Component` which is a difference.\r\n\r\nEither you do something like\r\n\r\n    frame.add(test.getPanel() );\r\n\r\nafter you introduced a getter for the panel in your class, or you make sure your `Test2` class becomes a `Component` (e.g. by extending a `JPanel`)","title":"Adding JPanel to JFrame","body":"<p>Your <code>Test2</code> class is not a <code>Component</code>, it has a <code>Component</code> which is a difference.</p>\n\n<p>Either you do something like</p>\n\n<pre><code>frame.add(test.getPanel() );\n</code></pre>\n\n<p>after you introduced a getter for the panel in your class, or you make sure your <code>Test2</code> class becomes a <code>Component</code> (e.g. by extending a <code>JPanel</code>)</p>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1336159703,"creation_date":1336159703,"answer_id":10454991,"question_id":10454913,"body_markdown":"    public class Test{\r\n    \r\n    Test2 test = new Test2();\r\n    JFrame frame = new JFrame();\r\n    \r\n    Test(){\r\n    ...\r\n    frame.setLayout(new BorderLayout());\r\n    frame.add(test, BorderLayout.CENTER);\r\n    ...\r\n    }\r\n    \r\n    //main\r\n    ...\r\n    }\r\n    \r\n    //public class Test2{\r\n    public class Test2 extends JPanel {\r\n    \r\n    //JPanel test2 = new JPanel();\r\n    \r\n    Test2(){\r\n    ...\r\n    }\r\n\r\n","title":"Adding JPanel to JFrame","body":"<pre><code>public class Test{\n\nTest2 test = new Test2();\nJFrame frame = new JFrame();\n\nTest(){\n...\nframe.setLayout(new BorderLayout());\nframe.add(test, BorderLayout.CENTER);\n...\n}\n\n//main\n...\n}\n\n//public class Test2{\npublic class Test2 extends JPanel {\n\n//JPanel test2 = new JPanel();\n\nTest2(){\n...\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19190,"reputation":6157,"user_id":44737,"accept_rate":78,"display_name":"rob"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1336160111,"creation_date":1336159716,"answer_id":10454996,"question_id":10454913,"body_markdown":"Instead of having your Test2 class contain a JPanel, you should have it subclass JPanel:\r\n\r\n    public class Test2 extends JPanel {\r\n    \r\n    Test2(){\r\n    \r\n    ...\r\n    \r\n    }\r\n\r\n**More details:**\r\n\r\n[JPanel][1] is a subclass of Component, so any method that takes a Component as an argument can also take a JPanel as an argument.\r\n\r\nOlder versions didn&#39;t let you add directly to a JFrame; you had to use JFrame.getContentPane().add(Component). If you&#39;re using an older version, this might also be an issue. Newer versions of Java do let you call JFrame.add(Component) directly.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/javax/swing/JPanel.html\r\n","title":"Adding JPanel to JFrame","body":"<p>Instead of having your Test2 class contain a JPanel, you should have it subclass JPanel:</p>\n\n<pre><code>public class Test2 extends JPanel {\n\nTest2(){\n\n...\n\n}\n</code></pre>\n\n<p><strong>More details:</strong></p>\n\n<p><a href=\"http://docs.oracle.com/javase/6/docs/api/javax/swing/JPanel.html\" rel=\"nofollow\">JPanel</a> is a subclass of Component, so any method that takes a Component as an argument can also take a JPanel as an argument.</p>\n\n<p>Older versions didn't let you add directly to a JFrame; you had to use JFrame.getContentPane().add(Component). If you're using an older version, this might also be an issue. Newer versions of Java do let you call JFrame.add(Component) directly.</p>\n"},{"tags":[],"owner":{"account_id":1548552,"reputation":1076,"user_id":1441471,"accept_rate":57,"display_name":"sabbibJAVA"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1406507739,"creation_date":1343504537,"answer_id":11704098,"question_id":10454913,"body_markdown":"do it simply\r\n\r\n    public class Test{\r\n        public Test(){\r\n            design();\r\n        }//end Test()\r\n    \r\n    public void design(){\r\n        JFame f = new JFrame();\r\n        f.setSize(int w, int h);\r\n        f.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\r\n        f.setVisible(true);\r\n        JPanel p = new JPanel(); \r\n        f.getContentPane().add(p);\r\n    }\r\n\r\n    public static void main(String[] args){\r\n         EventQueue.invokeLater(new Runnable(){\r\n         public void run(){\r\n             try{\r\n                 new Test();\r\n             }catch(Exception e){\r\n                 e.printStackTrace();\r\n             }\r\n         \r\n     }\r\n             );\r\n    }\r\n\r\n    }","title":"Adding JPanel to JFrame","body":"<p>do it simply</p>\n\n<pre><code>public class Test{\n    public Test(){\n        design();\n    }//end Test()\n\npublic void design(){\n    JFame f = new JFrame();\n    f.setSize(int w, int h);\n    f.setDefaultCloseOperation(JFrame.DISPOSE_ON_CLOSE);\n    f.setVisible(true);\n    JPanel p = new JPanel(); \n    f.getContentPane().add(p);\n}\n\npublic static void main(String[] args){\n     EventQueue.invokeLater(new Runnable(){\n     public void run(){\n         try{\n             new Test();\n         }catch(Exception e){\n             e.printStackTrace();\n         }\n\n }\n         );\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":1439835,"reputation":1863,"user_id":1360300,"accept_rate":100,"display_name":"Anonymous181"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126896,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":10454991,"answer_count":5,"score":11,"last_activity_date":1690692811,"creation_date":1336159331,"question_id":10454913,"body_markdown":"I have a program in which a JPanel is added to a JFrame:\r\n\r\n    public class Test{\r\n    \r\n    \tTest2 test = new Test2();\r\n    \tJFrame frame = new JFrame();\r\n    \r\n    \tTest(){\r\n    \r\n    \t...\r\n    \tframe.setLayout(new BorderLayout());\r\n    \tframe.add(test, BorderLayout.CENTER);\r\n    \t...\r\n    \r\n    \t}\r\n    \r\n    \t//main\r\n    \r\n    \t...\r\n    \r\n    \t}\r\n    \r\n    \tpublic class Test2{\r\n    \r\n    \tJPanel test2 = new JPanel();\r\n    \r\n    \tTest2(){\r\n    \r\n    \t...\r\n    \r\n    \t}\r\n    \r\n    }\r\n     \r\nI get an error asking me to change type of &#39;panel&#39; to &#39;component&#39;. I do I fix this error?\r\nIt wants me to do: Component panel = new Component();\r\n","title":"Adding JPanel to JFrame","body":"<p>I have a program in which a JPanel is added to a JFrame:</p>\n\n<pre><code>public class Test{\n\n    Test2 test = new Test2();\n    JFrame frame = new JFrame();\n\n    Test(){\n\n    ...\n    frame.setLayout(new BorderLayout());\n    frame.add(test, BorderLayout.CENTER);\n    ...\n\n    }\n\n    //main\n\n    ...\n\n    }\n\n    public class Test2{\n\n    JPanel test2 = new JPanel();\n\n    Test2(){\n\n    ...\n\n    }\n\n}\n</code></pre>\n\n<p>I get an error asking me to change type of 'panel' to 'component'. I do I fix this error?\nIt wants me to do: Component panel = new Component();</p>\n"},{"tags":["java","algorithm","recursion","permutation","backtracking"],"answers":[{"tags":[],"owner":{"account_id":6136522,"reputation":76953,"user_id":4785185,"display_name":"Prune"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1455756392,"creation_date":1455756392,"answer_id":35470712,"question_id":35470605,"body_markdown":"I don&#39;t see where you&#39;re confused: you provided a picture that explains it quite clearly ... to me.  :-)\r\n\r\nTermination condition (bottom row of your diagram, 2 red &amp; 1 green items):\r\nif the list has only one remaining element to consider, there&#39;s nowhere to swap it.  The permutation is done.  **return**\r\n\r\nOtherwise ...\r\nFor each item remaining in the array, swap that position into the left-most available spot.  Move the &quot;fixed&quot; pointer one spot to the right, and call the routine on the rest of the array.\r\n\r\n**Overall**, this simply walks down the array: pick each item (in turn) for the first position; pick each remaining item (in turn) for the second; ... continue through the end of the list.\r\n\r\nDoes that clear up anything for you?","title":"Permutation of string using backtracking algorithm","body":"<p>I don't see where you're confused: you provided a picture that explains it quite clearly ... to me.  :-)</p>\n\n<p>Termination condition (bottom row of your diagram, 2 red &amp; 1 green items):\nif the list has only one remaining element to consider, there's nowhere to swap it.  The permutation is done.  <strong>return</strong></p>\n\n<p>Otherwise ...\nFor each item remaining in the array, swap that position into the left-most available spot.  Move the \"fixed\" pointer one spot to the right, and call the routine on the rest of the array.</p>\n\n<p><strong>Overall</strong>, this simply walks down the array: pick each item (in turn) for the first position; pick each remaining item (in turn) for the second; ... continue through the end of the list.</p>\n\n<p>Does that clear up anything for you?</p>\n"},{"tags":[],"owner":{"account_id":11580265,"reputation":1,"user_id":8484407,"display_name":"Ramesh Varadarajan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690692411,"creation_date":1690692411,"answer_id":76796378,"question_id":35470605,"body_markdown":"You have not included the driver code where the function is executed namely **permute(a[],0,len)** where len is the length of the string. Start with l=0 and r=len and trace the code with the help of the diagram. Read the swap statement along each arrow in the diagram. The technique used is called backtracking an important data structure concept called depth first search. (The 2 swap statements are used to return to where you started after you have explored each branch to the bottom). You start at the top and go all the way down the left till you reach the bottom left. Then go one step upwards and do the next left leaf (in this case there are 3 leaves for each source node) until the rightmost leaf is reached at each level. (Here you have 3 levels) It is somewhat intriguing, but the diagram is the simplest possible.\r\nHope this helps but requires considerable self-help.","title":"Permutation of string using backtracking algorithm","body":"<p>You have not included the driver code where the function is executed namely <strong>permute(a[],0,len)</strong> where len is the length of the string. Start with l=0 and r=len and trace the code with the help of the diagram. Read the swap statement along each arrow in the diagram. The technique used is called backtracking an important data structure concept called depth first search. (The 2 swap statements are used to return to where you started after you have explored each branch to the bottom). You start at the top and go all the way down the left till you reach the bottom left. Then go one step upwards and do the next left leaf (in this case there are 3 leaves for each source node) until the rightmost leaf is reached at each level. (Here you have 3 levels) It is somewhat intriguing, but the diagram is the simplest possible.\nHope this helps but requires considerable self-help.</p>\n"}],"owner":{"account_id":5609544,"reputation":79,"user_id":4442850,"accept_rate":100,"display_name":"David"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4333,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":35470712,"answer_count":2,"score":4,"last_activity_date":1690692411,"creation_date":1455755828,"question_id":35470605,"body_markdown":"I was reading the code below on Geeksforgeeks, but I just can&#39;t wrap my head around how it works! If anyone can explain it pictorially. That&#39;d be great!\r\n\r\nthis is the code:\r\n\r\n  \tstatic void swap(char a[], int l, int r) {\r\n\t\tchar temp = a[l];\r\n\t\ta[l] = a[r];\r\n\t\ta[r] = temp;\r\n\t}\r\n\r\n\tstatic void permute(char a[], int l, int r) {\r\n\t\tif (l == r)\r\n\t\t\tSystem.out.println(getString(a));\r\n\t\telse {\r\n\t\t\tfor (int i = l; i &lt;= r; i++) {\r\n\t\t\t\tswap(a, l, i);\r\n\t\t\t\tpermute(a, l + 1, r);\r\n\t\t\t\tswap(a, l, i); // backtrack\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/hUhPg.gif","title":"Permutation of string using backtracking algorithm","body":"<p>I was reading the code below on Geeksforgeeks, but I just can't wrap my head around how it works! If anyone can explain it pictorially. That'd be great!</p>\n\n<p>this is the code:</p>\n\n<pre><code>static void swap(char a[], int l, int r) {\n    char temp = a[l];\n    a[l] = a[r];\n    a[r] = temp;\n}\n\nstatic void permute(char a[], int l, int r) {\n    if (l == r)\n        System.out.println(getString(a));\n    else {\n        for (int i = l; i &lt;= r; i++) {\n            swap(a, l, i);\n            permute(a, l + 1, r);\n            swap(a, l, i); // backtrack\n        }\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/hUhPg.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hUhPg.gif\" alt=\"enter image description here\"></a></p>\n"},{"tags":["java","cucumber","bdd","gherkin"],"owner":{"account_id":28116636,"reputation":1,"user_id":21483632,"display_name":"Raghav Suneja"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690690120,"creation_date":1690690120,"question_id":76796307,"body_markdown":"Feature: Welcome Screen\r\n\r\n  Scenario: Launch google and check url of pricing\r\n    Given validating url \r\n    Then click on pricing\r\n    Then validate pricing url\r\nI have a feature file , how to get at run time in my hooks that weather the user ran the entire feature file or ran single scenario?\r\n\r\ni tried to get the name but when i ran the feature file it is coming out to be same as when i ran the first scenario, how to dintinguish and get the execution mode at run time?","title":"How to get the execution mode in cucumber at run time? if the test execution is for single scenario or it is for entire feature file?","body":"<p>Feature: Welcome Screen</p>\n<p>Scenario: Launch google and check url of pricing\nGiven validating url\nThen click on pricing\nThen validate pricing url\nI have a feature file , how to get at run time in my hooks that weather the user ran the entire feature file or ran single scenario?</p>\n<p>i tried to get the name but when i ran the feature file it is coming out to be same as when i ran the first scenario, how to dintinguish and get the execution mode at run time?</p>\n"},{"tags":["java","spring-boot","ssl","tomcat9"],"comments":[{"owner":{"account_id":18891758,"reputation":144,"user_id":13781909,"display_name":"Danny Briskin"},"score":0,"creation_date":1661273743,"post_id":73461478,"comment_id":129731271,"body_markdown":"try to check your keystore file with &quot;keytool -list -keystore your_file&quot; to validate values. And AFAIK &quot;server.ssl.key-store-provider&quot; property is not needed","body":"try to check your keystore file with &quot;keytool -list -keystore your_file&quot; to validate values. And AFAIK &quot;server.ssl.key-store-provider&quot; property is not needed"},{"owner":{"account_id":26140714,"reputation":1,"user_id":19830146,"display_name":"barasach"},"score":0,"creation_date":1661326134,"post_id":73461478,"comment_id":129742062,"body_markdown":"Sorry, I forgot to mention, the keystore file is also the same. If I switch to springboot-2.4.2, the same keystore file works. Also, I removed &quot;server.ssl.key-store-provider&quot; this property, still no luck. Thanks for your response!","body":"Sorry, I forgot to mention, the keystore file is also the same. If I switch to springboot-2.4.2, the same keystore file works. Also, I removed &quot;server.ssl.key-store-provider&quot; this property, still no luck. Thanks for your response!"},{"owner":{"account_id":18891758,"reputation":144,"user_id":13781909,"display_name":"Danny Briskin"},"score":0,"creation_date":1661348126,"post_id":73461478,"comment_id":129750829,"body_markdown":"perhaps newer version of Tomcat is more strict to a bad keystore file... Please doublecheck the file, it is complaining about &quot;Multiple certificates ...&quot; - make sure that you have only needed ones. Regenerate it if possible","body":"perhaps newer version of Tomcat is more strict to a bad keystore file... Please doublecheck the file, it is complaining about &quot;Multiple certificates ...&quot; - make sure that you have only needed ones. Regenerate it if possible"}],"answers":[{"tags":[],"owner":{"account_id":26140714,"reputation":1,"user_id":19830146,"display_name":"barasach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661406785,"creation_date":1661406785,"answer_id":73482507,"question_id":73461478,"body_markdown":"I was able to resolve the issue.\r\n\r\nWe have a custom connector implemented for decrypting the keystore and key passwords from the application.properties file. This implementation is very similar to how it has been shown in this link: https://frugalisminds.com/how-to-configure-ssl-in-spring-boot-2/\r\n\r\nHowever, trying to set the properties/attributes on the new custom connector was causing this issue:\r\n\r\n    connector.setAttribute(&quot;keyAlias&quot;, &lt;alias&gt;);\r\n    connector.setAttribute(&quot;keystorePass&quot;, &lt;password&gt;);\r\n    connector.setAttribute(&quot;keystoreFile&quot;, &lt;file&gt;);\r\n\r\nSo, instead of adding custom connector and setting the values, I am modifying the default connector itself as below:\r\n\r\n    public void customize(TomcatServletWebServerFactory factory) {\r\n      if (Boolean.valueOf(sslEnabled)) {\r\n        // Force the passwords in the default connector to be updated with decrypted passwords\r\n        factory.getSsl().setKeyPassword(&lt;key-password&gt;);\r\n        factory.getSsl().setKeyStorePassword(&lt;keystore-password&gt;);\r\n      }\r\n    }\r\n\r\nHope this help, thanks!","title":"Upgrade from SpringBoot 2.4.2 to 2.7.0 - SSL issue - Server not coming up - Multiple certificates specified, missing required attribute","body":"<p>I was able to resolve the issue.</p>\n<p>We have a custom connector implemented for decrypting the keystore and key passwords from the application.properties file. This implementation is very similar to how it has been shown in this link: <a href=\"https://frugalisminds.com/how-to-configure-ssl-in-spring-boot-2/\" rel=\"nofollow noreferrer\">https://frugalisminds.com/how-to-configure-ssl-in-spring-boot-2/</a></p>\n<p>However, trying to set the properties/attributes on the new custom connector was causing this issue:</p>\n<pre><code>connector.setAttribute(&quot;keyAlias&quot;, &lt;alias&gt;);\nconnector.setAttribute(&quot;keystorePass&quot;, &lt;password&gt;);\nconnector.setAttribute(&quot;keystoreFile&quot;, &lt;file&gt;);\n</code></pre>\n<p>So, instead of adding custom connector and setting the values, I am modifying the default connector itself as below:</p>\n<pre><code>public void customize(TomcatServletWebServerFactory factory) {\n  if (Boolean.valueOf(sslEnabled)) {\n    // Force the passwords in the default connector to be updated with decrypted passwords\n    factory.getSsl().setKeyPassword(&lt;key-password&gt;);\n    factory.getSsl().setKeyStorePassword(&lt;keystore-password&gt;);\n  }\n}\n</code></pre>\n<p>Hope this help, thanks!</p>\n"}],"owner":{"account_id":26140714,"reputation":1,"user_id":19830146,"display_name":"barasach"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1431,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690689946,"creation_date":1661268947,"question_id":73461478,"body_markdown":"Our SpringBoot application is SSL enabled and everything was working as expected with SpringBoot 2.4.2 (which uses Tomcat 9.0.41). Our application uses embedded Tomcat server.\r\n\r\nWe recently upgraded to SpringBoot 2.7.0 (which uses Tomcat 9.0.63) and with SSL enabled the server never comes up.\r\n\r\nThe exception seems similar to the one mentioned here: https://bz.apache.org/bugzilla/show_bug.cgi?id=62803\r\n\r\nOur application.properties file:\r\n\r\n    server.ssl.key-store-provider=SUN server.ssl.protocol=TLS\r\n    server.ssl.key-password=&lt;PASSWORD&gt;\r\n    server.ssl.key-store-password=&lt;PASSWORD&gt; server.ssl.enabled=true\r\n    server.ssl.key-alias=&lt;ALIAS&gt; server.port=&lt;PORT&gt;\r\n    server.ssl.key-store-type=jks server.ssl.key-store=&lt;CERTIFICATE FILE PATH&gt;\r\n\r\nWe see below exception during startup:\r\n\r\n    2022-08-22 08:09:03,472 [main] WARN  o.a.t.u.IntrospectionUtils - Error setting property [keystoreProvider] to [SUN] on class [class org.apache.coyote.http11.Http11NioProtocol]\r\n    java.lang.reflect.InvocationTargetException: null\r\n      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_281]\r\n      at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[?:1.8.0_281]\r\n      at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[?:1.8.0_281]\r\n      at java.lang.reflect.Method.invoke(Unknown Source) ~[?:1.8.0_281]\r\n      at org.apache.tomcat.util.IntrospectionUtils.setProperty(IntrospectionUtils.java:80) ~[tomcat-embed-core-9.0.63.jar!/:?]\r\n      at org.apache.tomcat.util.IntrospectionUtils.setProperty(IntrospectionUtils.java:48) ~[tomcat-embed-core-9.0.63.jar!/:?]\r\n      at org.apache.catalina.connector.Connector.setProperty(Connector.java:309) ~[tomcat-embed-core-9.0.63.jar!/:?]\r\n      at com.xxxxx.yyyyy.zzzzz.v1.EPCustomServletContainer$1.customize(EPCustomServletContainer.java:67) ~[classes!/:1.0]\r\n      at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.customizeConnector(TomcatServletWebServerFactory.java:347) ~[spring-boot-2.7.0.jar!/:2.7.0]\r\n      at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:203) ~[spring-boot-2.7.0.jar!/:2.7.0]\r\n      at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:184) ~[spring-boot-2.7.0.jar!/:2.7.0]\r\n      at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162) ~[spring-boot-2.7.0.jar!/:2.7.0]\r\n      at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.20.jar!/:5.3.20]\r\n      at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.0.jar!/:2.7.0]\r\n      at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar!/:2.7.0]\r\n      at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar!/:2.7.0]\r\n      at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar!/:2.7.0]\r\n      at com.xxxxx.yyyyy.zzzzz.v1.EPApplicationStartup.main(EPApplicationStartup.java:102) ~[classes!/:1.0]\r\n      at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_281]\r\n      at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[?:1.8.0_281]\r\n      at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[?:1.8.0_281]\r\n      at java.lang.reflect.Method.invoke(Unknown Source) ~[?:1.8.0_281]\r\n      at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[extproc-wfr-1.0.jar:1.0]\r\n      at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[extproc-wfr-1.0.jar:1.0]\r\n      at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[extproc-wfr-1.0.jar:1.0]\r\n      at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[extproc-wfr-1.0.jar:1.0]\r\n    Caused by: java.lang.IllegalArgumentException: Multiple certificates were specified and at least one is missing the required attribute type\r\n      at org.apache.tomcat.util.net.SSLHostConfig.addCertificate(SSLHostConfig.java:258) ~[tomcat-embed-core-9.0.63.jar!/:?]\r\n      at org.apache.tomcat.util.net.SSLHostConfig.registerDefaultCertificate(SSLHostConfig.java:240) ~[tomcat-embed-core-9.0.63.jar!/:?]\r\n      at org.apache.tomcat.util.net.SSLHostConfig.setCertificateKeystoreProvider(SSLHostConfig.java:595) ~[tomcat-embed-core-9.0.63.jar!/:?]\r\n      at org.apache.coyote.http11.AbstractHttp11Protocol.setKeystoreProvider(AbstractHttp11Protocol.java:969) ~[tomcat-embed-core-9.0.63.jar!/:?]\r\n      ... 26 more\r\n\r\nI have tried forcing the Tomcat version to be 9.0.41 and also 9.0.65 with SpringBoot 2.7.0 in the POM file and still I am noticing the same issue.\r\n\r\nAny help on how to I resolve this issue? Thanks in advance!","title":"Upgrade from SpringBoot 2.4.2 to 2.7.0 - SSL issue - Server not coming up - Multiple certificates specified, missing required attribute","body":"<p>Our SpringBoot application is SSL enabled and everything was working as expected with SpringBoot 2.4.2 (which uses Tomcat 9.0.41). Our application uses embedded Tomcat server.</p>\n<p>We recently upgraded to SpringBoot 2.7.0 (which uses Tomcat 9.0.63) and with SSL enabled the server never comes up.</p>\n<p>The exception seems similar to the one mentioned here: <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=62803\" rel=\"nofollow noreferrer\">https://bz.apache.org/bugzilla/show_bug.cgi?id=62803</a></p>\n<p>Our application.properties file:</p>\n<pre><code>server.ssl.key-store-provider=SUN server.ssl.protocol=TLS\nserver.ssl.key-password=&lt;PASSWORD&gt;\nserver.ssl.key-store-password=&lt;PASSWORD&gt; server.ssl.enabled=true\nserver.ssl.key-alias=&lt;ALIAS&gt; server.port=&lt;PORT&gt;\nserver.ssl.key-store-type=jks server.ssl.key-store=&lt;CERTIFICATE FILE PATH&gt;\n</code></pre>\n<p>We see below exception during startup:</p>\n<pre><code>2022-08-22 08:09:03,472 [main] WARN  o.a.t.u.IntrospectionUtils - Error setting property [keystoreProvider] to [SUN] on class [class org.apache.coyote.http11.Http11NioProtocol]\njava.lang.reflect.InvocationTargetException: null\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_281]\n  at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[?:1.8.0_281]\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[?:1.8.0_281]\n  at java.lang.reflect.Method.invoke(Unknown Source) ~[?:1.8.0_281]\n  at org.apache.tomcat.util.IntrospectionUtils.setProperty(IntrospectionUtils.java:80) ~[tomcat-embed-core-9.0.63.jar!/:?]\n  at org.apache.tomcat.util.IntrospectionUtils.setProperty(IntrospectionUtils.java:48) ~[tomcat-embed-core-9.0.63.jar!/:?]\n  at org.apache.catalina.connector.Connector.setProperty(Connector.java:309) ~[tomcat-embed-core-9.0.63.jar!/:?]\n  at com.xxxxx.yyyyy.zzzzz.v1.EPCustomServletContainer$1.customize(EPCustomServletContainer.java:67) ~[classes!/:1.0]\n  at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.customizeConnector(TomcatServletWebServerFactory.java:347) ~[spring-boot-2.7.0.jar!/:2.7.0]\n  at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:203) ~[spring-boot-2.7.0.jar!/:2.7.0]\n  at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:184) ~[spring-boot-2.7.0.jar!/:2.7.0]\n  at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162) ~[spring-boot-2.7.0.jar!/:2.7.0]\n  at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.20.jar!/:5.3.20]\n  at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147) ~[spring-boot-2.7.0.jar!/:2.7.0]\n  at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-2.7.0.jar!/:2.7.0]\n  at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408) ~[spring-boot-2.7.0.jar!/:2.7.0]\n  at org.springframework.boot.SpringApplication.run(SpringApplication.java:308) ~[spring-boot-2.7.0.jar!/:2.7.0]\n  at com.xxxxx.yyyyy.zzzzz.v1.EPApplicationStartup.main(EPApplicationStartup.java:102) ~[classes!/:1.0]\n  at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[?:1.8.0_281]\n  at sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source) ~[?:1.8.0_281]\n  at sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source) ~[?:1.8.0_281]\n  at java.lang.reflect.Method.invoke(Unknown Source) ~[?:1.8.0_281]\n  at org.springframework.boot.loader.MainMethodRunner.run(MainMethodRunner.java:49) ~[extproc-wfr-1.0.jar:1.0]\n  at org.springframework.boot.loader.Launcher.launch(Launcher.java:108) ~[extproc-wfr-1.0.jar:1.0]\n  at org.springframework.boot.loader.Launcher.launch(Launcher.java:58) ~[extproc-wfr-1.0.jar:1.0]\n  at org.springframework.boot.loader.JarLauncher.main(JarLauncher.java:65) ~[extproc-wfr-1.0.jar:1.0]\nCaused by: java.lang.IllegalArgumentException: Multiple certificates were specified and at least one is missing the required attribute type\n  at org.apache.tomcat.util.net.SSLHostConfig.addCertificate(SSLHostConfig.java:258) ~[tomcat-embed-core-9.0.63.jar!/:?]\n  at org.apache.tomcat.util.net.SSLHostConfig.registerDefaultCertificate(SSLHostConfig.java:240) ~[tomcat-embed-core-9.0.63.jar!/:?]\n  at org.apache.tomcat.util.net.SSLHostConfig.setCertificateKeystoreProvider(SSLHostConfig.java:595) ~[tomcat-embed-core-9.0.63.jar!/:?]\n  at org.apache.coyote.http11.AbstractHttp11Protocol.setKeystoreProvider(AbstractHttp11Protocol.java:969) ~[tomcat-embed-core-9.0.63.jar!/:?]\n  ... 26 more\n</code></pre>\n<p>I have tried forcing the Tomcat version to be 9.0.41 and also 9.0.65 with SpringBoot 2.7.0 in the POM file and still I am noticing the same issue.</p>\n<p>Any help on how to I resolve this issue? Thanks in advance!</p>\n"},{"tags":["java","android","keyboard","uinavigationbar"],"owner":{"account_id":22974322,"reputation":1,"user_id":17102189,"display_name":"Krai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690687098,"creation_date":1690687098,"question_id":76796207,"body_markdown":"I am currently working on an Android app using Android Studio and I&#39;m facing a persistent issue that I cannot seem to resolve. The problem arises when I open the soft keyboard while interacting with an &quot;EditText&quot; view. Upon opening the soft keyboard, the navigation bar pops up and fails to hide again after I close the keyboard.\r\n\r\nI&#39;ve tried several online solutions to address this issue. Initially, I used flags applied to the layout, but encountered a problem where the flags were cleared whenever the user opened the keyboard. To work around this, I implemented a global listener and even hardcoded a flag to track keyboard closures, but this proved ineffective on certain devices. I also tried calling the flags inside the onBackPressed method, but the problem persisted. More recently, I attempted using the WindowInsetsController, but unfortunately the issue still remains. Below is the code snippet of the method currently called inside the onCreate method of the activity to hide the assets:\r\n\r\n```\r\npublic static void hideAssets(final Activity activity) {\r\n    WindowCompat.setDecorFitsSystemWindows(activity.getWindow(), false);\r\n    WindowInsetsControllerCompat windowInsetsControllerCompat = WindowCompat.getInsetsController\r\n            (activity.getWindow(), activity.getWindow().getDecorView());\r\n\r\n    windowInsetsControllerCompat.hide(WindowInsetsCompat.Type.systemBars());\r\n    windowInsetsControllerCompat.setSystemBarsBehavior(WindowInsetsControllerCompat.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE);\r\n}\r\n```\r\n\r\nThese are the two themes of my app (one of them is for the splash/launch screen):\r\n\r\n```\r\n&lt;resources&gt;\r\n    &lt;!-- Default Theme of App --&gt;\r\n    &lt;style name=&quot;Theme.Eleanor&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;#000F2E&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;#000F2E&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\r\n        &lt;item name=&quot;android:navigationBarColor&quot;&gt;@android:color/transparent&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowContentTransitions&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@android:color/transparent&lt;/item&gt;\r\n    &lt;/style&gt;\r\n\r\n    &lt;!-- Theme for the Launch Screen --&gt;\r\n    &lt;style name=&quot;Theme.Launch&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\r\n        &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimary&quot;&gt;#000F2E&lt;/item&gt;\r\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;#000F2E&lt;/item&gt;\r\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\r\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\r\n        &lt;item name=&quot;android:navigationBarColor&quot;&gt;@android:color/transparent&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowContentTransitions&quot;&gt;true&lt;/item&gt;\r\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/launch_screen&lt;/item&gt;\r\n    &lt;/style&gt;\r\n&lt;/resources&gt;\r\n```\r\n\r\nThis is my android manifest:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:hardwareAccelerated=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:theme=&quot;@style/Theme.Eleanor&quot;&gt;\r\n        &lt;activity android:name=&quot;.activity.SplashActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:exported=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.Launch&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity android:name=&quot;.activity.SearchActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity android:name=&quot;.activity.ControlActivity&quot;\r\n            android:screenOrientation=&quot;portrait&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```","title":"How to hide the navigation bar after the soft keyboard is closed in android studio?","body":"<p>I am currently working on an Android app using Android Studio and I'm facing a persistent issue that I cannot seem to resolve. The problem arises when I open the soft keyboard while interacting with an &quot;EditText&quot; view. Upon opening the soft keyboard, the navigation bar pops up and fails to hide again after I close the keyboard.</p>\n<p>I've tried several online solutions to address this issue. Initially, I used flags applied to the layout, but encountered a problem where the flags were cleared whenever the user opened the keyboard. To work around this, I implemented a global listener and even hardcoded a flag to track keyboard closures, but this proved ineffective on certain devices. I also tried calling the flags inside the onBackPressed method, but the problem persisted. More recently, I attempted using the WindowInsetsController, but unfortunately the issue still remains. Below is the code snippet of the method currently called inside the onCreate method of the activity to hide the assets:</p>\n<pre><code>public static void hideAssets(final Activity activity) {\n    WindowCompat.setDecorFitsSystemWindows(activity.getWindow(), false);\n    WindowInsetsControllerCompat windowInsetsControllerCompat = WindowCompat.getInsetsController\n            (activity.getWindow(), activity.getWindow().getDecorView());\n\n    windowInsetsControllerCompat.hide(WindowInsetsCompat.Type.systemBars());\n    windowInsetsControllerCompat.setSystemBarsBehavior(WindowInsetsControllerCompat.BEHAVIOR_SHOW_TRANSIENT_BARS_BY_SWIPE);\n}\n</code></pre>\n<p>These are the two themes of my app (one of them is for the splash/launch screen):</p>\n<pre><code>&lt;resources&gt;\n    &lt;!-- Default Theme of App --&gt;\n    &lt;style name=&quot;Theme.Eleanor&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\n        &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\n        &lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;\n        &lt;item name=&quot;colorPrimary&quot;&gt;#000F2E&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;#000F2E&lt;/item&gt;\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\n        &lt;item name=&quot;android:navigationBarColor&quot;&gt;@android:color/transparent&lt;/item&gt;\n        &lt;item name=&quot;android:windowContentTransitions&quot;&gt;true&lt;/item&gt;\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@android:color/transparent&lt;/item&gt;\n    &lt;/style&gt;\n\n    &lt;!-- Theme for the Launch Screen --&gt;\n    &lt;style name=&quot;Theme.Launch&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;\n        &lt;item name=&quot;windowNoTitle&quot;&gt;true&lt;/item&gt;\n        &lt;item name=&quot;android:windowFullscreen&quot;&gt;true&lt;/item&gt;\n        &lt;item name=&quot;colorPrimary&quot;&gt;#000F2E&lt;/item&gt;\n        &lt;item name=&quot;colorPrimaryVariant&quot;&gt;#000F2E&lt;/item&gt;\n        &lt;item name=&quot;colorOnPrimary&quot;&gt;@color/white&lt;/item&gt;\n        &lt;item name=&quot;android:statusBarColor&quot;&gt;?attr/colorPrimaryVariant&lt;/item&gt;\n        &lt;item name=&quot;android:navigationBarColor&quot;&gt;@android:color/transparent&lt;/item&gt;\n        &lt;item name=&quot;android:windowContentTransitions&quot;&gt;true&lt;/item&gt;\n        &lt;item name=&quot;android:windowBackground&quot;&gt;@drawable/launch_screen&lt;/item&gt;\n    &lt;/style&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>This is my android manifest:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:hardwareAccelerated=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:theme=&quot;@style/Theme.Eleanor&quot;&gt;\n        &lt;activity android:name=&quot;.activity.SplashActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:exported=&quot;true&quot;\n            android:theme=&quot;@style/Theme.Launch&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=&quot;.activity.SearchActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:exported=&quot;true&quot;&gt;\n        &lt;/activity&gt;\n        &lt;activity android:name=&quot;.activity.ControlActivity&quot;\n            android:screenOrientation=&quot;portrait&quot;\n            android:exported=&quot;true&quot;&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n"},{"tags":["java","kubernetes","memcached"],"owner":{"account_id":3361684,"reputation":855,"user_id":2823355,"accept_rate":46,"display_name":"786543214"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1690686000,"creation_date":1690686000,"question_id":76796183,"body_markdown":"Facing memcached issue while running a application in K8 and memcached is running in docker.\r\n[![enter image description here][1]][1]\r\n\r\nEarlier we were in docker both application and memcached. Now we have migrated only application from docker to K8 but memcached is still running in docker.\r\nAfter the application K8 migration we are not able to connect to memcached, we are getting time out exception. Tried doing telnet from K8 server, telnet is working fine.\r\nAny possible guess on the issue?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/j7704.png","title":"Memcached: Timeout waiting for value: waited 10,000 ms. Node status: Connection Status ip:port active: true, authed: true, last read: 7,060,231ms ago","body":"<p>Facing memcached issue while running a application in K8 and memcached is running in docker.\n<a href=\"https://i.stack.imgur.com/j7704.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j7704.png\" alt=\"enter image description here\" /></a></p>\n<p>Earlier we were in docker both application and memcached. Now we have migrated only application from docker to K8 but memcached is still running in docker.\nAfter the application K8 migration we are not able to connect to memcached, we are getting time out exception. Tried doing telnet from K8 server, telnet is working fine.\nAny possible guess on the issue?</p>\n"},{"tags":["java","spring-boot","spring-security","userdetailsservice"],"comments":[{"owner":{"account_id":25427782,"reputation":31,"user_id":19232723,"display_name":"Tilmeez Ur Rehman Bhatti"},"score":0,"creation_date":1665075445,"post_id":73977204,"comment_id":130620206,"body_markdown":"encoded password look like this @luk2302 $2a$04$eFytJDGtjbThXa80FyOOBuFdK2IwjyWefYkMpiBEFlpBwDH.5PM0K,i am using BCryptPasswordEncoder to store data","body":"encoded password look like this @luk2302 $2a$04$eFytJDGtjbThXa80FyOOBuFdK2IwjyWefYkMpiBEFlpBwDH.5PM0K&zwnj;&#8203;,i am using BCryptPasswordEncoder to store data"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1665075749,"post_id":73977204,"comment_id":130620294,"body_markdown":"https://en.m.wikipedia.org/wiki/Bcrypt#Description - that is how bcrypt output is supposed to look.","body":"<a href=\"https://en.m.wikipedia.org/wiki/Bcrypt#Description\" rel=\"nofollow noreferrer\">en.m.wikipedia.org/wiki/Bcrypt#Description</a> - that is how bcrypt output is supposed to look."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1665131501,"post_id":73977204,"comment_id":130632313,"body_markdown":"@TilmeezUrRehmanBhatti Add a breakpoint at this line: `return new User(employee.getUserName(),employee.getPassword(), mapRolesToAuthorities(employee.getRoles()));` and check the value of `employee.getPassword()`.","body":"@TilmeezUrRehmanBhatti Add a breakpoint at this line: <code>return new User(employee.getUserName(),employee.getPassword(), mapRolesToAuthorities(employee.getRoles()));</code> and check the value of <code>employee.getPassword()</code>."},{"owner":{"account_id":25427782,"reputation":31,"user_id":19232723,"display_name":"Tilmeez Ur Rehman Bhatti"},"score":0,"creation_date":1665223910,"post_id":73977204,"comment_id":130652866,"body_markdown":"@dur , `employee.getPassword()` i am getting $2a$10$egm4nKzQ87RXZho4KTz2hOA.n5o.cwy/WODNp7oGf3It4CvR13jCS but what i notice it matches plan text with bcrypt password from database and that i am not understanding why","body":"@dur , <code>employee.getPassword()</code> i am getting $2a$10$egm4nKzQ87RXZho4KTz2hOA.n5o.cwy/WODNp7oGf3It4CvR13jCS but what i notice it matches plan text with bcrypt password from database and that i am not understanding why"}],"answers":[{"tags":[],"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665078903,"creation_date":1665078903,"answer_id":73978140,"question_id":73977204,"body_markdown":"I am not sure why you got that impression. Bcrypt encoder uses Strenth parameter with value from 4 to 31 to encode the text. When it&#39;s 4, you will see hashed value something like $2a$04 and when it&#39;s 10 (default value) hash will be of pattern $2a$10 &lt;br&gt; now, the question is why three passwords in the database have same hash value. Was it generated and updated outside this program? \r\n","title":"Encoded password does not look like BCrypt when using Spring Security UserDetailsService","body":"<p>I am not sure why you got that impression. Bcrypt encoder uses Strenth parameter with value from 4 to 31 to encode the text. When it's 4, you will see hashed value something like $2a$04 and when it's 10 (default value) hash will be of pattern $2a$10 <br> now, the question is why three passwords in the database have same hash value. Was it generated and updated outside this program?</p>\n"},{"tags":[],"owner":{"account_id":25427782,"reputation":31,"user_id":19232723,"display_name":"Tilmeez Ur Rehman Bhatti"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690684714,"creation_date":1665310625,"answer_id":74003885,"question_id":73977204,"body_markdown":"This issue is related to column size. As I am using `PostgreSQL`, it might be of type issue.\r\n\r\n* [Spring Security : Encoded password does not look like BCrypt](https://mkyong.com/spring-security/spring-security-encoded-password-does-not-look-like-bcrypt/)\r\n\r\nAlter the password column type from `char` to `varchar`, it solves my problem","title":"Encoded password does not look like BCrypt when using Spring Security UserDetailsService","body":"<p>This issue is related to column size. As I am using <code>PostgreSQL</code>, it might be of type issue.</p>\n<ul>\n<li><a href=\"https://mkyong.com/spring-security/spring-security-encoded-password-does-not-look-like-bcrypt/\" rel=\"nofollow noreferrer\">Spring Security : Encoded password does not look like BCrypt</a></li>\n</ul>\n<p>Alter the password column type from <code>char</code> to <code>varchar</code>, it solves my problem</p>\n"}],"owner":{"account_id":25427782,"reputation":31,"user_id":19232723,"display_name":"Tilmeez Ur Rehman Bhatti"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1113,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":74003885,"answer_count":2,"score":0,"last_activity_date":1690684714,"creation_date":1665073769,"question_id":73977204,"body_markdown":"When i am using Spring Security UserDetailsService i am encounter Encoded password does not look like BCrypt, whereas without it working fine \r\n\r\nOtherwise its working fine \r\n\r\ndatabase is here\r\n[enter image description here][1]\r\n\r\nFrom EmployeeServiceImpl\r\n```JAVA\r\n @Override\r\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n        Employee employee = employeeRepository.findByUserName(username);\r\n        System.out.println(employee);\r\n        if (username == null) {\r\n            throw new UsernameNotFoundException(&quot;Invalid user name or password&quot;);\r\n        }\r\n         return new User(employee.getUserName(),employee.getPassword(),\r\n                mapRolesToAuthorities(employee.getRoles()));\r\n}\r\n   private Collection&lt;? extends GrantedAuthority&gt; mapRolesToAuthorities(Collection&lt;Role&gt; roles) {\r\n        return roles.stream()\r\n                .map(\r\n                        role -&gt; new SimpleGrantedAuthority(role.getName())).collect(Collectors.toList());\r\n    }\r\n```\r\n\r\nFor registration i am using BCryptPasswordEncoder\r\n```JAVA\r\n@Override\r\n    public void save(ErmUser ermUser) {\r\n\r\n        Employee employee = new Employee();\r\n\r\n        // assign user details to the user object\r\n        employee.setUserName(ermUser.getUserName());\r\n        employee.setPassword(passwordEncoder.encode(ermUser.getPassword()));\r\n        employee.setFirstName(ermUser.getFirstName());\r\n        employee.setLastName(ermUser.getLastName());\r\n        employee.setEmail(ermUser.getEmail());\r\n\r\n        // give user role of &quot;EMPLOYEE&quot;\r\n        employee.setRoles(Arrays.asList(roleRepository.findRoleByName(&quot;ROLE_EMPLOYEE&quot;)));\r\n\r\n        // save the user in database\r\n        employeeRepository.save(employee);\r\n    }\r\n```\r\nhttps://github.com/TilmeezUrRehmanBhatti/thymeleafdemo-employees-db/issues/2\r\n\r\n  [1]: https://i.stack.imgur.com/FZEo5.png\r\n\r\nI don&#39;t think it&#39;s because of the password its somewhere in the code where we are not handling incoming passwords from the user to BCrypt and then matching, while debugging I noticed it try to match with the plain password with is entered by me(user) with BCrypt password from Database. And i don&#39;t know how to handle this or convert the input password to BCrypt  because normally it&#39;s handled by spring security (If I am not wrong)","title":"Encoded password does not look like BCrypt when using Spring Security UserDetailsService","body":"<p>When i am using Spring Security UserDetailsService i am encounter Encoded password does not look like BCrypt, whereas without it working fine</p>\n<p>Otherwise its working fine</p>\n<p>database is here\n<a href=\"https://i.stack.imgur.com/FZEo5.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>From EmployeeServiceImpl</p>\n<pre><code> @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        Employee employee = employeeRepository.findByUserName(username);\n        System.out.println(employee);\n        if (username == null) {\n            throw new UsernameNotFoundException(&quot;Invalid user name or password&quot;);\n        }\n         return new User(employee.getUserName(),employee.getPassword(),\n                mapRolesToAuthorities(employee.getRoles()));\n}\n   private Collection&lt;? extends GrantedAuthority&gt; mapRolesToAuthorities(Collection&lt;Role&gt; roles) {\n        return roles.stream()\n                .map(\n                        role -&gt; new SimpleGrantedAuthority(role.getName())).collect(Collectors.toList());\n    }\n</code></pre>\n<p>For registration i am using BCryptPasswordEncoder</p>\n<pre><code>@Override\n    public void save(ErmUser ermUser) {\n\n        Employee employee = new Employee();\n\n        // assign user details to the user object\n        employee.setUserName(ermUser.getUserName());\n        employee.setPassword(passwordEncoder.encode(ermUser.getPassword()));\n        employee.setFirstName(ermUser.getFirstName());\n        employee.setLastName(ermUser.getLastName());\n        employee.setEmail(ermUser.getEmail());\n\n        // give user role of &quot;EMPLOYEE&quot;\n        employee.setRoles(Arrays.asList(roleRepository.findRoleByName(&quot;ROLE_EMPLOYEE&quot;)));\n\n        // save the user in database\n        employeeRepository.save(employee);\n    }\n</code></pre>\n<p><a href=\"https://github.com/TilmeezUrRehmanBhatti/thymeleafdemo-employees-db/issues/2\" rel=\"nofollow noreferrer\">https://github.com/TilmeezUrRehmanBhatti/thymeleafdemo-employees-db/issues/2</a></p>\n<p>I don't think it's because of the password its somewhere in the code where we are not handling incoming passwords from the user to BCrypt and then matching, while debugging I noticed it try to match with the plain password with is entered by me(user) with BCrypt password from Database. And i don't know how to handle this or convert the input password to BCrypt  because normally it's handled by spring security (If I am not wrong)</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":5167551,"reputation":733,"user_id":4137085,"accept_rate":56,"display_name":"Kunle Ajiboye"},"score":0,"creation_date":1522459122,"post_id":49582971,"comment_id":86174755,"body_markdown":"@Min Hyoung Hong.. The code ran well until I need to pass the authentication credentials. the only error it throws is: (Encoded password does not look like BCrypt)","body":"@Min Hyoung Hong.. The code ran well until I need to pass the authentication credentials. the only error it throws is: (Encoded password does not look like BCrypt)"}],"answers":[{"tags":[],"owner":{"account_id":7158865,"reputation":660,"user_id":5470241,"accept_rate":40,"display_name":"bitscanbyte"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522552310,"creation_date":1522551990,"answer_id":49594413,"question_id":49582971,"body_markdown":"You are likely missing this bean in your Security configuration `SecurityConfig`\r\n\r\n    @Bean\r\n    public DaoAuthenticationProvider getAuthenticationProvider() {\r\n        DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\r\n        authenticationProvider.setUserDetailsService(customDetailsService);\r\n        authenticationProvider.setPasswordEncoder(encoder());\r\n        return authenticationProvider;\r\n    }","title":"Encoded password does not look like BCrypt","body":"<p>You are likely missing this bean in your Security configuration <code>SecurityConfig</code></p>\n\n<pre><code>@Bean\npublic DaoAuthenticationProvider getAuthenticationProvider() {\n    DaoAuthenticationProvider authenticationProvider = new DaoAuthenticationProvider();\n    authenticationProvider.setUserDetailsService(customDetailsService);\n    authenticationProvider.setPasswordEncoder(encoder());\n    return authenticationProvider;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13305057,"reputation":411,"user_id":9605164,"display_name":"Selvam Paramasivan"},"down_vote_count":0,"up_vote_count":41,"is_accepted":false,"score":41,"last_activity_date":1522977741,"creation_date":1522977741,"answer_id":49683857,"question_id":49582971,"body_markdown":"Can you double check your client secret is encoded?\r\n\r\n    @Override\r\n    public void configure(ClientDetailsServiceConfigurer configurer) throws Exception {\r\n        configurer\r\n                .inMemory()\r\n                .withClient(clientId)\r\n                .secret(passwordEncoder.encode(clientSecret))\r\n                .authorizedGrantTypes(grantType)\r\n                .scopes(scopeRead, scopeWrite)\r\n                .resourceIds(resourceIds);\r\n    }\r\n","title":"Encoded password does not look like BCrypt","body":"<p>Can you double check your client secret is encoded?</p>\n\n<pre><code>@Override\npublic void configure(ClientDetailsServiceConfigurer configurer) throws Exception {\n    configurer\n            .inMemory()\n            .withClient(clientId)\n            .secret(passwordEncoder.encode(clientSecret))\n            .authorizedGrantTypes(grantType)\n            .scopes(scopeRead, scopeWrite)\n            .resourceIds(resourceIds);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13634794,"reputation":161,"user_id":9836093,"display_name":"cyberplanete"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1556379206,"creation_date":1528652380,"answer_id":50786384,"question_id":49582971,"body_markdown":"The PasswordEncoder should be set like this:\r\n\r\n    @Bean\r\n  \tpublic PasswordEncoder passwordEncoder() {\r\n   \t    return PasswordEncoderFactories.createDelegatingPasswordEncoder();\r\n   \t}\r\n\r\n","title":"Encoded password does not look like BCrypt","body":"<p>The PasswordEncoder should be set like this:</p>\n\n<pre><code>@Bean\npublic PasswordEncoder passwordEncoder() {\n    return PasswordEncoderFactories.createDelegatingPasswordEncoder();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8072907,"reputation":1250,"user_id":6085034,"display_name":"Christian Altamirano Ayala"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1531063490,"creation_date":1531063490,"answer_id":51233457,"question_id":49582971,"body_markdown":"I had the same error and it was because of the datatype of the password column, \r\nthis column was length blank fixed (CHARACTER), so make sure You&#39;re using a VARCHAR datatype or else change the length to 60 for you password column.","title":"Encoded password does not look like BCrypt","body":"<p>I had the same error and it was because of the datatype of the password column, \nthis column was length blank fixed (CHARACTER), so make sure You're using a VARCHAR datatype or else change the length to 60 for you password column.</p>\n"},{"tags":[],"owner":{"account_id":7926191,"reputation":516,"user_id":5985566,"accept_rate":60,"display_name":"PKumar"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1556379269,"creation_date":1531183954,"answer_id":51255841,"question_id":49582971,"body_markdown":"When oauth2 dependecncies moved to cloud, I started facing this issue. Earlier it was part of security framework :\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nNow it is part of cloud framework :\r\n\r\n    &lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-cloud-starter-oauth2&lt;/artifactId&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nSo if you are using cloud dependency (Finchley.RELEASE) then you may need to encode the secret like below :\r\n\r\n    @Override\r\n    public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\r\n        clients\r\n                .inMemory()\r\n                .withClient(&quot;clientapp&quot;)\r\n                .authorizedGrantTypes(&quot;password&quot;,&quot;refresh_token&quot;)\r\n                .authorities(&quot;USER&quot;)\r\n                .scopes(&quot;read&quot;, &quot;write&quot;)\r\n                .resourceIds(RESOURCE_ID)\r\n                .secret(passwordEncoder.encode(&quot;SECRET&quot;));\r\n    }","title":"Encoded password does not look like BCrypt","body":"<p>When oauth2 dependecncies moved to cloud, I started facing this issue. Earlier it was part of security framework :</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.security.oauth&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-security-oauth2&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>Now it is part of cloud framework :</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-cloud-starter-oauth2&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>So if you are using cloud dependency (Finchley.RELEASE) then you may need to encode the secret like below :</p>\n\n<pre><code>@Override\npublic void configure(ClientDetailsServiceConfigurer clients) throws Exception {\n    clients\n            .inMemory()\n            .withClient(\"clientapp\")\n            .authorizedGrantTypes(\"password\",\"refresh_token\")\n            .authorities(\"USER\")\n            .scopes(\"read\", \"write\")\n            .resourceIds(RESOURCE_ID)\n            .secret(passwordEncoder.encode(\"SECRET\"));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4644536,"reputation":1039,"user_id":3763312,"accept_rate":100,"display_name":"Nikhil"},"down_vote_count":0,"up_vote_count":58,"is_accepted":true,"score":58,"last_activity_date":1690684490,"creation_date":1537429830,"answer_id":52420168,"question_id":49582971,"body_markdown":"`BCryptPasswordEncoder` shows this warning when it fails to match a raw password with an encoded password. \r\n\r\nThe hashed password  might be `$2b` or `$2y` now. \r\n\r\nAnd there is a bug in `Spring Security` that has a regex always looking for `$2a`. Put a debug point at the `matches()` method in the `BCryptPasswordEncoder.class`.","title":"Encoded password does not look like BCrypt","body":"<p><code>BCryptPasswordEncoder</code> shows this warning when it fails to match a raw password with an encoded password.</p>\n<p>The hashed password  might be <code>$2b</code> or <code>$2y</code> now.</p>\n<p>And there is a bug in <code>Spring Security</code> that has a regex always looking for <code>$2a</code>. Put a debug point at the <code>matches()</code> method in the <code>BCryptPasswordEncoder.class</code>.</p>\n"},{"tags":[],"owner":{"account_id":5619118,"reputation":350,"user_id":4449538,"display_name":"sandeep pandey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1538834292,"creation_date":1538834292,"answer_id":52679786,"question_id":49582971,"body_markdown":"Please check if your method `UserDetails loadUserByUsername(String username) ` returns valid `UserDetail` object. If Returned object is null / object with invalid values then also you will see this error.","title":"Encoded password does not look like BCrypt","body":"<p>Please check if your method <code>UserDetails loadUserByUsername(String username)</code> returns valid <code>UserDetail</code> object. If Returned object is null / object with invalid values then also you will see this error.</p>\n"},{"tags":[],"owner":{"account_id":1004018,"reputation":173,"user_id":1018219,"display_name":"Zagrebin Victor"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1543891717,"creation_date":1543891717,"answer_id":53604999,"question_id":49582971,"body_markdown":"BCryptPasswordEncoder does not strip the {bcrypt} id, but DelegatingPasswordEncoder do it. When I define explicitly BCryptPasswordEncoder as an encoder for DaoAuthenticationProvider it calls matches method on BCryptPasswordEncoder (without id strip), but not on DelegatingPasswordEncoder (with id strip).","title":"Encoded password does not look like BCrypt","body":"<p>BCryptPasswordEncoder does not strip the {bcrypt} id, but DelegatingPasswordEncoder do it. When I define explicitly BCryptPasswordEncoder as an encoder for DaoAuthenticationProvider it calls matches method on BCryptPasswordEncoder (without id strip), but not on DelegatingPasswordEncoder (with id strip).</p>\n"},{"tags":[],"owner":{"account_id":10608250,"reputation":173,"user_id":7812920,"display_name":"Lin Chen"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1553308962,"creation_date":1553308962,"answer_id":55310109,"question_id":49582971,"body_markdown":"The best way to identify this problem &quot;**Encoded password does not look like BCrypt**&quot; is setup a break porint in class **org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder**. And then check the root cause for the warnning.\r\n\r\n\tif (!BCRYPT_PATTERN.matcher(encodedPassword).matches()) {\r\n\t\tlogger.warn(&quot;Encoded password does not look like BCrypt&quot;);\r\n\t\treturn false;\r\n\t}","title":"Encoded password does not look like BCrypt","body":"<p>The best way to identify this problem \"<strong>Encoded password does not look like BCrypt</strong>\" is setup a break porint in class <strong>org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder</strong>. And then check the root cause for the warnning.</p>\n\n<pre><code>if (!BCRYPT_PATTERN.matcher(encodedPassword).matches()) {\n    logger.warn(\"Encoded password does not look like BCrypt\");\n    return false;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9111472,"reputation":145,"user_id":8868305,"display_name":"Faqtt0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556569385,"creation_date":1556569385,"answer_id":55910339,"question_id":49582971,"body_markdown":"use noop in secret for tests. \r\n\r\n    @Override\r\n    public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\r\n        clients.inMemory()\r\n                .withClient(&quot;angular&quot;)\r\n                .secret(&quot;{noop}@ngular0&quot;)\r\n                .scopes(&quot;read&quot;, &quot;write&quot;)\r\n                .authorizedGrantTypes(&quot;password&quot;)\r\n                .accessTokenValiditySeconds(1800);\r\n    }","title":"Encoded password does not look like BCrypt","body":"<p>use noop in secret for tests. </p>\n\n<pre><code>@Override\npublic void configure(ClientDetailsServiceConfigurer clients) throws Exception {\n    clients.inMemory()\n            .withClient(\"angular\")\n            .secret(\"{noop}@ngular0\")\n            .scopes(\"read\", \"write\")\n            .authorizedGrantTypes(\"password\")\n            .accessTokenValiditySeconds(1800);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2283646,"reputation":11117,"user_id":2008247,"accept_rate":77,"display_name":"Jan Bodnar"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1568237678,"creation_date":1568237678,"answer_id":57897094,"question_id":49582971,"body_markdown":"As of today, with Spring Boot 2.1.7.RELEASE, I am still experiencing this issue. \r\nI was using some online tools which gave me hashes starting with $2b or $2y, \r\nwhich Spring&#39;s `BCryptPasswordEncoder` does not allow:\r\n\r\n    public class BCryptPasswordEncoder implements PasswordEncoder {\r\n    \tprivate Pattern BCRYPT_PATTERN = Pattern\r\n    \t\t\t.compile(&quot;\\\\A\\\\$2a?\\\\$\\\\d\\\\d\\\\$[./0-9A-Za-z]{53}&quot;);\r\n    ...\r\n\r\n*Solution*: use `BCryptPasswordEncoder` class to encode the password:\r\n\r\n    BCryptPasswordEncoder encoder = new BCryptPasswordEncoder();\r\n    System.out.println(encoder.encode(&quot;admin&quot;));\r\n\r\nAnd then:\r\n\r\n    @Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder auth)\r\n            throws Exception {\r\n        auth.inMemoryAuthentication()\r\n                .withUser(&quot;admin&quot;)\r\n                .password(&quot;{bcrypt}$2a$10$6CW1agMzVzBhxDzK0PcxrO/cQcmN9h8ZriVEPy.6DJbVeyATG5mWe&quot;)\r\n                .roles(&quot;ADMIN&quot;);\r\n    }","title":"Encoded password does not look like BCrypt","body":"<p>As of today, with Spring Boot 2.1.7.RELEASE, I am still experiencing this issue. \nI was using some online tools which gave me hashes starting with $2b or $2y, \nwhich Spring's <code>BCryptPasswordEncoder</code> does not allow:</p>\n\n<pre><code>public class BCryptPasswordEncoder implements PasswordEncoder {\n    private Pattern BCRYPT_PATTERN = Pattern\n            .compile(\"\\\\A\\\\$2a?\\\\$\\\\d\\\\d\\\\$[./0-9A-Za-z]{53}\");\n...\n</code></pre>\n\n<p><em>Solution</em>: use <code>BCryptPasswordEncoder</code> class to encode the password:</p>\n\n<pre><code>BCryptPasswordEncoder encoder = new BCryptPasswordEncoder();\nSystem.out.println(encoder.encode(\"admin\"));\n</code></pre>\n\n<p>And then:</p>\n\n<pre><code>@Autowired\npublic void configureGlobal(AuthenticationManagerBuilder auth)\n        throws Exception {\n    auth.inMemoryAuthentication()\n            .withUser(\"admin\")\n            .password(\"{bcrypt}$2a$10$6CW1agMzVzBhxDzK0PcxrO/cQcmN9h8ZriVEPy.6DJbVeyATG5mWe\")\n            .roles(\"ADMIN\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2904275,"reputation":12430,"user_id":2490074,"accept_rate":62,"display_name":"Sarvar Nishonboyev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1576477966,"creation_date":1576477966,"answer_id":59351536,"question_id":49582971,"body_markdown":"In Spring Security 5, the default encoder is DelegatingPasswordEncoder, which required Password Storage Format.\r\n\r\nRead [this][1]\r\n\r\n\r\n```\r\n    private PasswordEncoder delegateEncoder =\r\n            PasswordEncoderFactories.createDelegatingPasswordEncoder();\r\n\r\n    @Override\r\n    public void configure(ClientDetailsServiceConfigurer clients) throws Exception{\r\n            clients\r\n                    .jdbc(dataSource)\r\n                    .passwordEncoder(delegateEncoder);\r\n    }\r\n```\r\n\r\nGenerate the `password` or `secret` code using default encoder which is  `DelegatingPasswordEncoder`\r\n\r\n```\r\nSystem.out.println(delegateEncoder.encode(&quot;123123&quot;));\r\n// it generates the encoded code something like this: \r\n// {bcrypt}$2a$10$0aISzamI0jBCVTxONzJlHOk7O7QS.XPFIheLVhXultVa9Ju7SarZ6\r\n```\r\n\r\n\r\n  [1]: https://spring.io/blog/2017/11/01/spring-security-5-0-0-rc1-released#password-storage-format","title":"Encoded password does not look like BCrypt","body":"<p>In Spring Security 5, the default encoder is DelegatingPasswordEncoder, which required Password Storage Format.</p>\n\n<p>Read <a href=\"https://spring.io/blog/2017/11/01/spring-security-5-0-0-rc1-released#password-storage-format\" rel=\"nofollow noreferrer\">this</a></p>\n\n<pre><code>    private PasswordEncoder delegateEncoder =\n            PasswordEncoderFactories.createDelegatingPasswordEncoder();\n\n    @Override\n    public void configure(ClientDetailsServiceConfigurer clients) throws Exception{\n            clients\n                    .jdbc(dataSource)\n                    .passwordEncoder(delegateEncoder);\n    }\n</code></pre>\n\n<p>Generate the <code>password</code> or <code>secret</code> code using default encoder which is  <code>DelegatingPasswordEncoder</code></p>\n\n<pre><code>System.out.println(delegateEncoder.encode(\"123123\"));\n// it generates the encoded code something like this: \n// {bcrypt}$2a$10$0aISzamI0jBCVTxONzJlHOk7O7QS.XPFIheLVhXultVa9Ju7SarZ6\n</code></pre>\n"},{"tags":[],"owner":{"account_id":402310,"reputation":937,"user_id":769405,"accept_rate":82,"display_name":"mikelus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576838462,"creation_date":1576838462,"answer_id":59423880,"question_id":49582971,"body_markdown":"I got rid of this error message by using a long, 60 chars+ password e.g. CXPW3XT2vXwBZk9mYZ5eCrKPM8kXJC6bbwJQjtGq2NQRYQPzsvqTwYz8JvWhWD5KLrrUHHammBNV3tkkyA4U\r\n","title":"Encoded password does not look like BCrypt","body":"<p>I got rid of this error message by using a long, 60 chars+ password e.g. CXPW3XT2vXwBZk9mYZ5eCrKPM8kXJC6bbwJQjtGq2NQRYQPzsvqTwYz8JvWhWD5KLrrUHHammBNV3tkkyA4U</p>\n"},{"tags":[],"owner":{"account_id":2125144,"reputation":333,"user_id":1887527,"display_name":"Makara Set"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1587375849,"creation_date":1587375849,"answer_id":61319443,"question_id":49582971,"body_markdown":"Update field `client_secret` in table `oauth_client_details` with `BCryptPasswordEncoder` in case you migrate spring boot from 1x to 2x. To encode secret use: \r\n\r\n    \tBCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\r\n\t\tString password = &quot;12345678&quot;;\r\n\t\tString encodedPassword = passwordEncoder.encode(password);\r\n\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.println(&quot;Password is         : &quot; + password);\r\n\t\tSystem.out.println(&quot;Encoded Password is : &quot; + encodedPassword);\r\n\t\tSystem.out.println();\r\n\r\n\t\tboolean isPasswordMatch = passwordEncoder.matches(password, encodedPassword);\r\n\t\tSystem.out.println(&quot;Password : &quot; + password + &quot;   isPasswordMatch    : &quot; + isPasswordMatch);","title":"Encoded password does not look like BCrypt","body":"<p>Update field <code>client_secret</code> in table <code>oauth_client_details</code> with <code>BCryptPasswordEncoder</code> in case you migrate spring boot from 1x to 2x. To encode secret use: </p>\n\n<pre><code>    BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\n    String password = \"12345678\";\n    String encodedPassword = passwordEncoder.encode(password);\n\n    System.out.println();\n    System.out.println(\"Password is         : \" + password);\n    System.out.println(\"Encoded Password is : \" + encodedPassword);\n    System.out.println();\n\n    boolean isPasswordMatch = passwordEncoder.matches(password, encodedPassword);\n    System.out.println(\"Password : \" + password + \"   isPasswordMatch    : \" + isPasswordMatch);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13871456,"reputation":51,"user_id":10014442,"display_name":"Harin Mehta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587623588,"creation_date":1587502705,"answer_id":61353132,"question_id":49582971,"body_markdown":" 1. In case you&#39;ve added &quot;{bcrypt}&quot; right before password, and not configured your app accordingly, you will get this error. Consider removing this.\r\n 2. If still not resolved, just set the column length of the user&#39;s password to 60( 68 if you&#39;ve added {bcryt} at the beginning) Worked for me!","title":"Encoded password does not look like BCrypt","body":"<ol>\n<li>In case you've added \"{bcrypt}\" right before password, and not configured your app accordingly, you will get this error. Consider removing this.</li>\n<li>If still not resolved, just set the column length of the user's password to 60( 68 if you've added {bcryt} at the beginning) Worked for me!</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9972723,"reputation":3277,"user_id":7378293,"display_name":"Jehad Nasser"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1597940577,"creation_date":1597940577,"answer_id":63509304,"question_id":49582971,"body_markdown":"For my own similar scenario I just encoded the password like this `passwordEncoder().encode(&quot;password&quot;)` instead of raw String `&quot;password&quot;`:\r\n\r\n```java\r\nauthenticationManagerBuilder\r\n  .inMemoryAuthentication()\r\n  .withUser(&quot;user&quot;)\r\n  // Just changed here\r\n  .password(passwordEncoder().encode(&quot;password&quot;))\r\n  .roles(&quot;USER&quot;);\r\n\r\n\r\n@Bean\r\npublic PasswordEncoder passwordEncoder() {\r\n  return new BCryptPasswordEncoder();\r\n}\r\n```","title":"Encoded password does not look like BCrypt","body":"<p>For my own similar scenario I just encoded the password like this <code>passwordEncoder().encode(&quot;password&quot;)</code> instead of raw String <code>&quot;password&quot;</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>authenticationManagerBuilder\n  .inMemoryAuthentication()\n  .withUser(&quot;user&quot;)\n  // Just changed here\n  .password(passwordEncoder().encode(&quot;password&quot;))\n  .roles(&quot;USER&quot;);\n\n\n@Bean\npublic PasswordEncoder passwordEncoder() {\n  return new BCryptPasswordEncoder();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2095815,"reputation":1095,"user_id":1864614,"display_name":"razvang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602071820,"creation_date":1602071820,"answer_id":64243526,"question_id":49582971,"body_markdown":"I struggled with this error while doing a Spring Security Course.\r\n\r\nMy problem was that even though in the AuthenticationManager  I was using the encoding, e.g:\r\n```\r\n    @Autowired\r\n    public void configureGlobal(final AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.userDetailsService(userDetailsService)\r\n                .passwordEncoder(passwordEncoder());\r\n    }\r\n```\r\nThe Problem was that I was not Encoding the Password when I was saving the Users!!\r\nExample:\r\n```\r\nfinal Principal entity = new Principal(loginName, passwordEncoder.encode(pass), roles);\r\n```\r\n","title":"Encoded password does not look like BCrypt","body":"<p>I struggled with this error while doing a Spring Security Course.</p>\n<p>My problem was that even though in the AuthenticationManager  I was using the encoding, e.g:</p>\n<pre><code>    @Autowired\n    public void configureGlobal(final AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService)\n                .passwordEncoder(passwordEncoder());\n    }\n</code></pre>\n<p>The Problem was that I was not Encoding the Password when I was saving the Users!!\nExample:</p>\n<pre><code>final Principal entity = new Principal(loginName, passwordEncoder.encode(pass), roles);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6868647,"reputation":22249,"user_id":5279996,"display_name":"Braian Coronel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612052025,"creation_date":1612052025,"answer_id":65974508,"question_id":49582971,"body_markdown":"The UserDetails entity has to return the encoded password. This varies depending on the implementation.\r\n\r\n    class MyUserDetails: UserDetails {\r\n    \r\n        //...\r\n\r\n        override fun getPassword(): String {\r\n            return passwordEncoder().encode(&quot;aPassword&quot;)\r\n        }\r\n\r\n        private fun passwordEncoder(): PasswordEncoder {\r\n            return BCryptPasswordEncoder()\r\n        }\r\n    \r\n    }\r\n\r\nGL","title":"Encoded password does not look like BCrypt","body":"<p>The UserDetails entity has to return the encoded password. This varies depending on the implementation.</p>\n<pre><code>class MyUserDetails: UserDetails {\n\n    //...\n\n    override fun getPassword(): String {\n        return passwordEncoder().encode(&quot;aPassword&quot;)\n    }\n\n    private fun passwordEncoder(): PasswordEncoder {\n        return BCryptPasswordEncoder()\n    }\n\n}\n</code></pre>\n<p>GL</p>\n"},{"tags":[],"owner":{"account_id":5905702,"reputation":47,"user_id":4647581,"display_name":"osman akbacı"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1612477410,"creation_date":1612477410,"answer_id":66054732,"question_id":49582971,"body_markdown":"I had same issue and problem is that you should encode your inMemory password because when you click login form Spring Security take the extracted password from the HTTP Basic Auth header, **hash** it automatically and compare it with the hashed password from your UserDetails object. If both match, the user is successfully authenticated otherwise you will get this error. \r\n\r\nFor example , \r\n\r\nInMemory Password = &quot;123&quot;  \r\npasswordEncoder.encode(&quot;123&quot;)\r\n\r\nReference :  [link][1]\r\n\r\n\r\n  [1]: https://www.marcobehler.com/guides/spring-security#:~:text=The%20short%20answer%3A,standards%20like%20OAuth2%20or%20SAML.","title":"Encoded password does not look like BCrypt","body":"<p>I had same issue and problem is that you should encode your inMemory password because when you click login form Spring Security take the extracted password from the HTTP Basic Auth header, <strong>hash</strong> it automatically and compare it with the hashed password from your UserDetails object. If both match, the user is successfully authenticated otherwise you will get this error.</p>\n<p>For example ,</p>\n<p>InMemory Password = &quot;123&quot;<br />\npasswordEncoder.encode(&quot;123&quot;)</p>\n<p>Reference :  <a href=\"https://www.marcobehler.com/guides/spring-security#:%7E:text=The%20short%20answer%3A,standards%20like%20OAuth2%20or%20SAML.\" rel=\"nofollow noreferrer\">link</a></p>\n"},{"tags":[],"owner":{"account_id":3116918,"reputation":11,"user_id":2637480,"display_name":"Anil Jaglan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623929523,"creation_date":1623929523,"answer_id":68018483,"question_id":49582971,"body_markdown":"The problem is the empty spaces in password.\r\n\r\nTry to trim your password while returning from your custom UserDetailsService class.","title":"Encoded password does not look like BCrypt","body":"<p>The problem is the empty spaces in password.</p>\n<p>Try to trim your password while returning from your custom UserDetailsService class.</p>\n"},{"tags":[],"owner":{"account_id":10059050,"reputation":311,"user_id":7436372,"accept_rate":50,"display_name":"Hafiz Hamza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624563235,"creation_date":1624563235,"answer_id":68121806,"question_id":49582971,"body_markdown":"I changed my bcrypt hash which started from `$2y` to `$2a` i.e. `$2y$12$0Evlz//oO` to `$2a$12$0Evlz//oO`  and it worked for me.","title":"Encoded password does not look like BCrypt","body":"<p>I changed my bcrypt hash which started from <code>$2y</code> to <code>$2a</code> i.e. <code>$2y$12$0Evlz//oO</code> to <code>$2a$12$0Evlz//oO</code>  and it worked for me.</p>\n"},{"tags":[],"owner":{"account_id":11383064,"reputation":494,"user_id":8345451,"display_name":"Divya Gupta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626900583,"creation_date":1626900583,"answer_id":68476305,"question_id":49582971,"body_markdown":"I have tried all the solutions above, considering my usecase was different than this one in Spring Boot. In my case, I switched my DBMS from *MySQL to PostgreSQL*, and the app was working fine in case of MySQL, with login/logout feature working perfectly. But when I switched to *Postgres*, this error started showing in login functionality. I noticed in pgAdmin , that BCrypt passwords had extra spaces in the end, I even tried to manually remove those spaces, but that too rolled back the changes on its own every time.\r\n\r\nThen finally I read somewhere that, *BCrypt encrypted text length is fixed i.e. 60 chars*. But my password field in Postgres was of 80 chars. I **simply changed the field length from 80 to 60 chars**. You can either do it using GUI, or from CLI, using **ALTER TABLE** command, whatever suits you.\r\n","title":"Encoded password does not look like BCrypt","body":"<p>I have tried all the solutions above, considering my usecase was different than this one in Spring Boot. In my case, I switched my DBMS from <em>MySQL to PostgreSQL</em>, and the app was working fine in case of MySQL, with login/logout feature working perfectly. But when I switched to <em>Postgres</em>, this error started showing in login functionality. I noticed in pgAdmin , that BCrypt passwords had extra spaces in the end, I even tried to manually remove those spaces, but that too rolled back the changes on its own every time.</p>\n<p>Then finally I read somewhere that, <em>BCrypt encrypted text length is fixed i.e. 60 chars</em>. But my password field in Postgres was of 80 chars. I <strong>simply changed the field length from 80 to 60 chars</strong>. You can either do it using GUI, or from CLI, using <strong>ALTER TABLE</strong> command, whatever suits you.</p>\n"},{"tags":[],"owner":{"account_id":13711837,"reputation":1,"user_id":9893992,"display_name":"Antonio Montoya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632370402,"creation_date":1632370402,"answer_id":69293935,"question_id":49582971,"body_markdown":"With the following code I get rid of this error\r\n\r\n     @Override\r\n        public void configure(ClientDetailsServiceConfigurer configurer) throws Exception {\r\n        \t\r\n        \tBCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\r\n            String encodedPassword = passwordEncoder.encode(CLIENT_SECRET);\r\n    \r\n            configurer\r\n                    .inMemory()\r\n                    .withClient(CLIENT_ID)\r\n                    .secret(encodedPassword)\r\n                    .authorizedGrantTypes(GRANT_TYPE)\r\n                    .scopes(SCOPE_READ, SCOPE_WRITE)\r\n                    .accessTokenValiditySeconds(ACCESS_TOKEN_VALIDITY_SECONDS).\r\n                    refreshTokenValiditySeconds(REFRESH_TOKEN_VALIDITY_SECONDS);\r\n        }\r\nSo it is necessary to encode the secret","title":"Encoded password does not look like BCrypt","body":"<p>With the following code I get rid of this error</p>\n<pre><code> @Override\n    public void configure(ClientDetailsServiceConfigurer configurer) throws Exception {\n        \n        BCryptPasswordEncoder passwordEncoder = new BCryptPasswordEncoder();\n        String encodedPassword = passwordEncoder.encode(CLIENT_SECRET);\n\n        configurer\n                .inMemory()\n                .withClient(CLIENT_ID)\n                .secret(encodedPassword)\n                .authorizedGrantTypes(GRANT_TYPE)\n                .scopes(SCOPE_READ, SCOPE_WRITE)\n                .accessTokenValiditySeconds(ACCESS_TOKEN_VALIDITY_SECONDS).\n                refreshTokenValiditySeconds(REFRESH_TOKEN_VALIDITY_SECONDS);\n    }\n</code></pre>\n<p>So it is necessary to encode the secret</p>\n"},{"tags":[],"owner":{"account_id":6680455,"reputation":489,"user_id":5153843,"display_name":"Erycoking"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1638167949,"creation_date":1638167949,"answer_id":70150624,"question_id":49582971,"body_markdown":"For spring security 5 OAuth 2 Server, this is how I fixed it\r\n```\r\n    @Bean\r\n    public PasswordEncoder delegatingPasswordEncoder() {\r\n        Map&lt;String, PasswordEncoder&gt; encoders = new HashMap&lt;&gt;();\r\n        encoders.put(&quot;bcrypt&quot;, new BCryptPasswordEncoder());\r\n        DelegatingPasswordEncoder passwordEncoder = new DelegatingPasswordEncoder(&quot;bcrypt&quot;, encoders);\r\n        passwordEncoder.setDefaultPasswordEncoderForMatches(new BCryptPasswordEncoder());\r\n        return passwordEncoder;\r\n    }\r\n```","title":"Encoded password does not look like BCrypt","body":"<p>For spring security 5 OAuth 2 Server, this is how I fixed it</p>\n<pre><code>    @Bean\n    public PasswordEncoder delegatingPasswordEncoder() {\n        Map&lt;String, PasswordEncoder&gt; encoders = new HashMap&lt;&gt;();\n        encoders.put(&quot;bcrypt&quot;, new BCryptPasswordEncoder());\n        DelegatingPasswordEncoder passwordEncoder = new DelegatingPasswordEncoder(&quot;bcrypt&quot;, encoders);\n        passwordEncoder.setDefaultPasswordEncoderForMatches(new BCryptPasswordEncoder());\n        return passwordEncoder;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1118247,"reputation":11,"user_id":1107090,"display_name":"user1107090"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653193292,"creation_date":1653193292,"answer_id":72334783,"question_id":49582971,"body_markdown":"lol spring rrr me\r\ntry this \r\n\r\n \r\n\r\n\r\n     @Override\r\n        protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n            auth.userDetailsService(userDetailsService).passwordEncoder(new BCryptPasswordEncoder());\r\n        }\r\n\t\r\n\t\r\n\t @Bean\r\n     public PasswordEncoder passwordEncoder() {\r\n    \t return NoOpPasswordEncoder.getInstance();\r\n    }","title":"Encoded password does not look like BCrypt","body":"<p>lol spring rrr me\ntry this</p>\n<pre><code> @Override\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\n        auth.userDetailsService(userDetailsService).passwordEncoder(new BCryptPasswordEncoder());\n    }\n\n\n @Bean\n public PasswordEncoder passwordEncoder() {\n     return NoOpPasswordEncoder.getInstance();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11141312,"reputation":13,"user_id":8177768,"display_name":"Romit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655632763,"creation_date":1655632763,"answer_id":72675897,"question_id":49582971,"body_markdown":"I was also facing same issue:\r\n\r\nIn my case table&#39;s column length was 50 char only which was causing this issue later I modify column length to 100 as suggested in above and it worked for me.\r\n\r\n    ALTER TABLE `users`\r\n    \tCHANGE COLUMN `password` `password` VARCHAR(100) NOT NULL AFTER `enabled`;","title":"Encoded password does not look like BCrypt","body":"<p>I was also facing same issue:</p>\n<p>In my case table's column length was 50 char only which was causing this issue later I modify column length to 100 as suggested in above and it worked for me.</p>\n<pre><code>ALTER TABLE `users`\n    CHANGE COLUMN `password` `password` VARCHAR(100) NOT NULL AFTER `enabled`;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28890248,"reputation":1,"user_id":22127570,"display_name":"Lakshman Chintala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1687699379,"creation_date":1687699379,"answer_id":76550622,"question_id":49582971,"body_markdown":"My views \r\nbCryptEncoder.matches(&quot;rawString&quot;,encodedPwdFromDB);\r\nThis is the actual parameter need to check while passing the values","title":"Encoded password does not look like BCrypt","body":"<p>My views\nbCryptEncoder.matches(&quot;rawString&quot;,encodedPwdFromDB);\nThis is the actual parameter need to check while passing the values</p>\n"}],"owner":{"account_id":5167551,"reputation":733,"user_id":4137085,"accept_rate":56,"display_name":"Kunle Ajiboye"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113635,"favorite_count":0,"down_vote_count":1,"up_vote_count":51,"accepted_answer_id":52420168,"answer_count":27,"score":50,"last_activity_date":1690684490,"creation_date":1522455114,"question_id":49582971,"body_markdown":"I am using Spring Boot, Spring Security, OAuth2 and JWT to authenticate my application, but I keep getting this nasty error and I don&#39;t have any idea what is wrong. My `CustomDetailsService` class:\r\n\r\n    @Service\r\n    public class CustomDetailsService implements UserDetailsService {\r\n        \r\n        private static final Logger logger = LoggerFactory.getLogger(CustomDetailsService.class);\r\n        \r\n        @Autowired\r\n        private UserBO userBo;\r\n    \r\n        @Autowired\r\n        private RoleBO roleBo;\r\n    \r\n        @Override\r\n        public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\r\n            AppUsers appUsers = null;\r\n            try {\r\n                appUsers = this.userBo.loadUserByUsername(username);\r\n                System.out.println(&quot;========|||=========== &quot;+appUsers.getUsername());\r\n            }catch(IndexOutOfBoundsException e){\r\n                throw new UsernameNotFoundException(&quot;Wrong username&quot;);\r\n            }catch(DataAccessException e){\r\n                e.printStackTrace();\r\n                throw new UsernameNotFoundException(&quot;Database Error&quot;);\r\n            }catch(Exception e){\r\n                e.printStackTrace();\r\n                throw new UsernameNotFoundException(&quot;Unknown Error&quot;);\r\n            }\r\n    \r\n            if(appUsers == null){\r\n                throw new UsernameNotFoundException(&quot;Bad credentials&quot;);\r\n            }\r\n            logger.info(&quot;Username: &quot;+appUsers.getUsername());\r\n            return buildUserFromUserEntity(appUsers);\r\n        }\r\n    \r\n        private User buildUserFromUserEntity(AppUsers authUsers) {\r\n            Set&lt;UserRole&gt; userRoles = authUsers.getUserRoles();\r\n    \r\n            boolean enabled = true;\r\n            boolean accountNotExpired = true;\r\n            boolean credentialsNotExpired = true;\r\n            boolean accountNotLocked = true;\r\n    \r\n            if (authUsers.getAccountIsActive()) {\r\n                try {\r\n                    if(authUsers.getAccountExpired()){\r\n                        accountNotExpired = true;\r\n                    } else if (authUsers.getAccountIsLocked()) {\r\n                        accountNotLocked = true;\r\n                    } else {\r\n                        if (containsRole((userRoles), roleBo.findRoleByName(&quot;FLEX_ADMIN&quot;))){\r\n                            accountNotLocked = false;\r\n                        }\r\n                    }\r\n                }catch(Exception e){\r\n                    enabled = false;\r\n                    e.printStackTrace();\r\n                }\r\n            }else {\r\n                accountNotExpired = false;\r\n            }\r\n            // convert model user to spring security user\r\n            String username = authUsers.getUsername();\r\n            String password = authUsers.getPassword();\r\n    \r\n            List&lt;GrantedAuthority&gt; authorities = buildUserAuthority(userRoles);\r\n    \r\n            User springUser = new User(username, password,enabled, accountNotExpired, credentialsNotExpired, accountNotLocked, authorities);\r\n            return springUser;\r\n        }\r\n    }\r\n\r\n`OAuth2Config`:\r\n\r\n    @Configuration\r\n    public class OAuth2Config extends AuthorizationServerConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        private AuthenticationManager authenticationManager;\r\n    \r\n        @Bean\r\n        public JwtAccessTokenConverter tokenConverter() {\r\n            JwtAccessTokenConverter tokenConverter = new JwtAccessTokenConverter();\r\n            tokenConverter.setSigningKey(PRIVATE_KEY);\r\n            tokenConverter.setVerifierKey(PUBLIC_KEY);\r\n            return tokenConverter;\r\n        }\r\n    \r\n        @Bean\r\n        public JwtTokenStore tokenStore() {\r\n            return new JwtTokenStore(tokenConverter());\r\n        }\r\n    \r\n        @Override\r\n        public void configure(AuthorizationServerEndpointsConfigurer endpointsConfigurer) throws Exception {\r\n            endpointsConfigurer.authenticationManager(authenticationManager)\r\n                    .tokenStore(tokenStore())\r\n                    .accessTokenConverter(tokenConverter());\r\n        }\r\n    \r\n        @Override\r\n        public void configure(AuthorizationServerSecurityConfigurer securityConfigurer) throws Exception {\r\n            securityConfigurer.tokenKeyAccess(&quot;permitAll()&quot;).checkTokenAccess(&quot;isAuthenticated()&quot;);\r\n        }\r\n    \r\n        @Override\r\n        public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\r\n            clients.inMemory()\r\n                    .withClient(CLIENT_ID)\r\n                    .secret(CLIENT_SECRET)\r\n                    .scopes(&quot;read&quot;,&quot;write&quot;)\r\n                    .authorizedGrantTypes(&quot;password&quot;,&quot;refresh_token&quot;)\r\n                    .accessTokenValiditySeconds(20000)\r\n                    .refreshTokenValiditySeconds(20000);\r\n        }\r\n    }\r\n\r\n`SecurityConfig`:\r\n\r\n    @Configuration\r\n    @EnableWebSecurity\r\n    @EnableGlobalMethodSecurity\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n    \r\n        @Autowired\r\n        CustomDetailsService customDetailsService;\r\n    \r\n        @Bean\r\n        public PasswordEncoder encoder() {\r\n            return new BCryptPasswordEncoder();\r\n        }\r\n    \r\n        @Override\r\n        @Autowired\r\n        protected void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\r\n            authenticationManagerBuilder.userDetailsService(customDetailsService).passwordEncoder(encoder());\r\n            System.out.println(&quot;Done...finito&quot;);\r\n        }\r\n    \r\n        @Override\r\n        protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n            httpSecurity.authorizeRequests()\r\n                    .anyRequest()\r\n                    .authenticated()\r\n                    .and()\r\n                    .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.NEVER);\r\n        }\r\n    \r\n        @Override\r\n        @Bean\r\n        public AuthenticationManager authenticationManager() throws Exception {\r\n            return super.authenticationManagerBean();\r\n        }\r\n    }\r\n\r\nNo error message except:\r\n\r\n    Hibernate: select appusers0_.id as id1_2_, appusers0_.account_expired as account_2_2_, appusers0_.account_is_active as account_3_2_, appusers0_.account_is_locked as account_4_2_, appusers0_.bank_acct as bank_acc5_2_, appusers0_.branch_id as branch_i6_2_, appusers0_.bvn as bvn7_2_, appusers0_.create_date as create_d8_2_, appusers0_.created_by as created_9_2_, appusers0_.email as email10_2_, appusers0_.email_verified_code as email_v11_2_, appusers0_.gender as gender12_2_, appusers0_.gravatar_url as gravata13_2_, appusers0_.is_deleted as is_dele14_2_, appusers0_.lastname as lastnam15_2_, appusers0_.middlename as middlen16_2_, appusers0_.modified_by as modifie17_2_, appusers0_.modified_date as modifie18_2_, appusers0_.orgnization_id as orgniza19_2_, appusers0_.password as passwor20_2_, appusers0_.phone_no as phone_n21_2_, appusers0_.surname as surname22_2_, appusers0_.token_expired as token_e23_2_, appusers0_.username as usernam24_2_ from users appusers0_ where appusers0_.username=?\r\n    Tinubu\r\n    2018-03-31 01:42:03.255  INFO 4088 --- [nio-8072-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet &#39;dispatcherServlet&#39;\r\n    2018-03-31 01:42:03.255  INFO 4088 --- [nio-8072-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet &#39;dispatcherServlet&#39;: initialization started\r\n    2018-03-31 01:42:03.281  INFO 4088 --- [nio-8072-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet &#39;dispatcherServlet&#39;: initialization completed in 26 ms\r\n    2018-03-31 01:42:03.489  WARN 4088 --- [nio-8072-exec-2] o.s.s.c.bcrypt.BCryptPasswordEncoder     : Encoded password does not look like BCrypt\r\n\r\nMy entity model classes are:\r\n\r\n    @Entity\r\n    @Table(name=&quot;USERS&quot;)\r\n    @DynamicUpdate\r\n    public class AppUsers {\r\n    \r\n        @Id\r\n        @Column(name=&quot;ID&quot;)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @ApiModelProperty(notes = &quot;The user auto generated identity&quot;, required = true)\r\n        private Long id;\r\n    \r\n        @Column(name=&quot;username&quot;)\r\n        @ApiModelProperty(notes = &quot;The username parameter&quot;, required = true)\r\n        private String username;\r\n    \r\n        @Column(name=&quot;password&quot;)\r\n        @ApiModelProperty(notes = &quot;The password parameter&quot;, required = true)\r\n        private String password;\r\n    \r\n        @JsonManagedReference\r\n        @OneToMany(mappedBy=&quot;appUsers&quot;)\r\n        private Set&lt;UserRole&gt; userRoles;\r\n    \r\n    &#39;&#39;&#39;&#39;&#39;&#39; setters and getters\r\n    }\r\n\r\n`Role` entity:\r\n\r\n    @Entity\r\n    @Table(name=&quot;ROLE&quot;)\r\n    public class Role {\r\n    \r\n        @javax.persistence.Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;role_id&quot;, unique = true, nullable = false)\r\n        private Long Id;\r\n    \r\n        @Column(name = &quot;name&quot;)\r\n        private String roleName;\r\n    \r\n       @JsonManagedReference\r\n        @OneToMany(mappedBy=&quot;role&quot;)\r\n        private Set&lt;UserRole&gt; userRoles;\r\n    \r\n       //getters and setters\r\n    \r\n    }\r\n\r\n`UserRole` entity:\r\n\r\n    @Entity\r\n    @Table(name=&quot;USER_ROLE&quot;)\r\n    @DynamicUpdate\r\n    public class UserRole   implements Serializable {\r\n    \r\n        private static final long serialVersionUID = 6128016096756071383L;\r\n    \r\n        @Id\r\n        @Column(name=&quot;ID&quot;)\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @ApiModelProperty(notes = &quot;The userrole auto generated identity&quot;, required = true)\r\n        private long id;\r\n    \r\n        @JsonBackReference\r\n        @ManyToOne//(fetch=FetchType.LAZY)\r\n        private AppUsers appUsers;\r\n    \r\n        @JsonBackReference\r\n        @ManyToOne//(fetch=FetchType.LAZY)\r\n        private Role role;\r\n    \r\n       // getters and setters\r\n    }\r\n\r\nMy password in the database is properly encrypted Spring security BCrypt and it datatype is varchar(255) which is larger than 60.\r\n","title":"Encoded password does not look like BCrypt","body":"<p>I am using Spring Boot, Spring Security, OAuth2 and JWT to authenticate my application, but I keep getting this nasty error and I don't have any idea what is wrong. My <code>CustomDetailsService</code> class:</p>\n\n<pre><code>@Service\npublic class CustomDetailsService implements UserDetailsService {\n\n    private static final Logger logger = LoggerFactory.getLogger(CustomDetailsService.class);\n\n    @Autowired\n    private UserBO userBo;\n\n    @Autowired\n    private RoleBO roleBo;\n\n    @Override\n    public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {\n        AppUsers appUsers = null;\n        try {\n            appUsers = this.userBo.loadUserByUsername(username);\n            System.out.println(\"========|||=========== \"+appUsers.getUsername());\n        }catch(IndexOutOfBoundsException e){\n            throw new UsernameNotFoundException(\"Wrong username\");\n        }catch(DataAccessException e){\n            e.printStackTrace();\n            throw new UsernameNotFoundException(\"Database Error\");\n        }catch(Exception e){\n            e.printStackTrace();\n            throw new UsernameNotFoundException(\"Unknown Error\");\n        }\n\n        if(appUsers == null){\n            throw new UsernameNotFoundException(\"Bad credentials\");\n        }\n        logger.info(\"Username: \"+appUsers.getUsername());\n        return buildUserFromUserEntity(appUsers);\n    }\n\n    private User buildUserFromUserEntity(AppUsers authUsers) {\n        Set&lt;UserRole&gt; userRoles = authUsers.getUserRoles();\n\n        boolean enabled = true;\n        boolean accountNotExpired = true;\n        boolean credentialsNotExpired = true;\n        boolean accountNotLocked = true;\n\n        if (authUsers.getAccountIsActive()) {\n            try {\n                if(authUsers.getAccountExpired()){\n                    accountNotExpired = true;\n                } else if (authUsers.getAccountIsLocked()) {\n                    accountNotLocked = true;\n                } else {\n                    if (containsRole((userRoles), roleBo.findRoleByName(\"FLEX_ADMIN\"))){\n                        accountNotLocked = false;\n                    }\n                }\n            }catch(Exception e){\n                enabled = false;\n                e.printStackTrace();\n            }\n        }else {\n            accountNotExpired = false;\n        }\n        // convert model user to spring security user\n        String username = authUsers.getUsername();\n        String password = authUsers.getPassword();\n\n        List&lt;GrantedAuthority&gt; authorities = buildUserAuthority(userRoles);\n\n        User springUser = new User(username, password,enabled, accountNotExpired, credentialsNotExpired, accountNotLocked, authorities);\n        return springUser;\n    }\n}\n</code></pre>\n\n<p><code>OAuth2Config</code>:</p>\n\n<pre><code>@Configuration\npublic class OAuth2Config extends AuthorizationServerConfigurerAdapter {\n\n    @Autowired\n    private AuthenticationManager authenticationManager;\n\n    @Bean\n    public JwtAccessTokenConverter tokenConverter() {\n        JwtAccessTokenConverter tokenConverter = new JwtAccessTokenConverter();\n        tokenConverter.setSigningKey(PRIVATE_KEY);\n        tokenConverter.setVerifierKey(PUBLIC_KEY);\n        return tokenConverter;\n    }\n\n    @Bean\n    public JwtTokenStore tokenStore() {\n        return new JwtTokenStore(tokenConverter());\n    }\n\n    @Override\n    public void configure(AuthorizationServerEndpointsConfigurer endpointsConfigurer) throws Exception {\n        endpointsConfigurer.authenticationManager(authenticationManager)\n                .tokenStore(tokenStore())\n                .accessTokenConverter(tokenConverter());\n    }\n\n    @Override\n    public void configure(AuthorizationServerSecurityConfigurer securityConfigurer) throws Exception {\n        securityConfigurer.tokenKeyAccess(\"permitAll()\").checkTokenAccess(\"isAuthenticated()\");\n    }\n\n    @Override\n    public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\n        clients.inMemory()\n                .withClient(CLIENT_ID)\n                .secret(CLIENT_SECRET)\n                .scopes(\"read\",\"write\")\n                .authorizedGrantTypes(\"password\",\"refresh_token\")\n                .accessTokenValiditySeconds(20000)\n                .refreshTokenValiditySeconds(20000);\n    }\n}\n</code></pre>\n\n<p><code>SecurityConfig</code>:</p>\n\n<pre><code>@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Autowired\n    CustomDetailsService customDetailsService;\n\n    @Bean\n    public PasswordEncoder encoder() {\n        return new BCryptPasswordEncoder();\n    }\n\n    @Override\n    @Autowired\n    protected void configure(AuthenticationManagerBuilder authenticationManagerBuilder) throws Exception {\n        authenticationManagerBuilder.userDetailsService(customDetailsService).passwordEncoder(encoder());\n        System.out.println(\"Done...finito\");\n    }\n\n    @Override\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\n        httpSecurity.authorizeRequests()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.NEVER);\n    }\n\n    @Override\n    @Bean\n    public AuthenticationManager authenticationManager() throws Exception {\n        return super.authenticationManagerBean();\n    }\n}\n</code></pre>\n\n<p>No error message except:</p>\n\n<pre><code>Hibernate: select appusers0_.id as id1_2_, appusers0_.account_expired as account_2_2_, appusers0_.account_is_active as account_3_2_, appusers0_.account_is_locked as account_4_2_, appusers0_.bank_acct as bank_acc5_2_, appusers0_.branch_id as branch_i6_2_, appusers0_.bvn as bvn7_2_, appusers0_.create_date as create_d8_2_, appusers0_.created_by as created_9_2_, appusers0_.email as email10_2_, appusers0_.email_verified_code as email_v11_2_, appusers0_.gender as gender12_2_, appusers0_.gravatar_url as gravata13_2_, appusers0_.is_deleted as is_dele14_2_, appusers0_.lastname as lastnam15_2_, appusers0_.middlename as middlen16_2_, appusers0_.modified_by as modifie17_2_, appusers0_.modified_date as modifie18_2_, appusers0_.orgnization_id as orgniza19_2_, appusers0_.password as passwor20_2_, appusers0_.phone_no as phone_n21_2_, appusers0_.surname as surname22_2_, appusers0_.token_expired as token_e23_2_, appusers0_.username as usernam24_2_ from users appusers0_ where appusers0_.username=?\nTinubu\n2018-03-31 01:42:03.255  INFO 4088 --- [nio-8072-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'\n2018-03-31 01:42:03.255  INFO 4088 --- [nio-8072-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization started\n2018-03-31 01:42:03.281  INFO 4088 --- [nio-8072-exec-2] o.s.web.servlet.DispatcherServlet        : FrameworkServlet 'dispatcherServlet': initialization completed in 26 ms\n2018-03-31 01:42:03.489  WARN 4088 --- [nio-8072-exec-2] o.s.s.c.bcrypt.BCryptPasswordEncoder     : Encoded password does not look like BCrypt\n</code></pre>\n\n<p>My entity model classes are:</p>\n\n<pre><code>@Entity\n@Table(name=\"USERS\")\n@DynamicUpdate\npublic class AppUsers {\n\n    @Id\n    @Column(name=\"ID\")\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @ApiModelProperty(notes = \"The user auto generated identity\", required = true)\n    private Long id;\n\n    @Column(name=\"username\")\n    @ApiModelProperty(notes = \"The username parameter\", required = true)\n    private String username;\n\n    @Column(name=\"password\")\n    @ApiModelProperty(notes = \"The password parameter\", required = true)\n    private String password;\n\n    @JsonManagedReference\n    @OneToMany(mappedBy=\"appUsers\")\n    private Set&lt;UserRole&gt; userRoles;\n\n'''''' setters and getters\n}\n</code></pre>\n\n<p><code>Role</code> entity:</p>\n\n<pre><code>@Entity\n@Table(name=\"ROLE\")\npublic class Role {\n\n    @javax.persistence.Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"role_id\", unique = true, nullable = false)\n    private Long Id;\n\n    @Column(name = \"name\")\n    private String roleName;\n\n   @JsonManagedReference\n    @OneToMany(mappedBy=\"role\")\n    private Set&lt;UserRole&gt; userRoles;\n\n   //getters and setters\n\n}\n</code></pre>\n\n<p><code>UserRole</code> entity:</p>\n\n<pre><code>@Entity\n@Table(name=\"USER_ROLE\")\n@DynamicUpdate\npublic class UserRole   implements Serializable {\n\n    private static final long serialVersionUID = 6128016096756071383L;\n\n    @Id\n    @Column(name=\"ID\")\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @ApiModelProperty(notes = \"The userrole auto generated identity\", required = true)\n    private long id;\n\n    @JsonBackReference\n    @ManyToOne//(fetch=FetchType.LAZY)\n    private AppUsers appUsers;\n\n    @JsonBackReference\n    @ManyToOne//(fetch=FetchType.LAZY)\n    private Role role;\n\n   // getters and setters\n}\n</code></pre>\n\n<p>My password in the database is properly encrypted Spring security BCrypt and it datatype is varchar(255) which is larger than 60.</p>\n"},{"tags":["java","android","service","executorservice","background-service"],"answers":[{"tags":[],"owner":{"account_id":1741886,"reputation":1520,"user_id":1593056,"display_name":"Hexise"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690682768,"creation_date":1690682768,"answer_id":76796101,"question_id":76356396,"body_markdown":"SemaphoreBKP goIn blocks the UI thread, move the related code to another thread, using such as AsyncTask.","title":"Executor block main thread - ANR triggered by main thread waiting for too long","body":"<p>SemaphoreBKP goIn blocks the UI thread, move the related code to another thread, using such as AsyncTask.</p>\n"}],"owner":{"account_id":3708936,"reputation":1077,"user_id":6653706,"accept_rate":92,"display_name":"Mattia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690682768,"creation_date":1685354614,"question_id":76356396,"body_markdown":"I was analyzing the firebase log (crashalytics) and I noticed a particular error related to the function posted below.\r\n\r\n\r\n&gt; jdk.internal.misc.Unsafe.park \r\n\r\n&gt; ANR triggered by main thread waiting for too long\r\n \r\n    \r\n     public class SendBackupData extends Service {\r\n        private ScheduledExecutorService executorService;\r\n        private static final WriteInLogFile wil = new WriteInLogFile();\r\n    \r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            executorService = Executors.newSingleThreadScheduledExecutor();\r\n        }\r\n    \r\n        \r\n        \r\n        @Override\r\n        public int onStartCommand(Intent intent, int flags, int startId) {\r\n            executeOperation();\r\n            executorService.scheduleAtFixedRate(this::executeOperation, 0, 50, TimeUnit.MINUTES);\r\n            return START_STICKY;\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroy() {\r\n            super.onDestroy();\r\n            executorService.shutdown();\r\n        }\r\n    \r\n\r\n        @Override\r\n        public IBinder onBind(Intent intent) {\r\n            return null;\r\n        }\r\n    \r\n\r\n        private void executeOperation() {\r\n            Context context = getApplicationContext();\r\n            try {\r\n                SemaphoreBKP.getInstance(context).goIn();\r\n                if (new Utilities(context).checkConnection()) {\r\n                    File dataDir = new File(new Constants(context).getArchiveFolder(false));\r\n                    File[] listOfFiles = dataDir.listFiles((dir, name) -&gt; name.startsWith(&quot;REPORT&quot;) &amp;&amp; name.endsWith(&quot;.zip&quot;));\r\n                    if (listOfFiles != null) {\r\n                        for (File listOfFile : listOfFiles) {\r\n                            new FilesUtilities().splitBackupFiles(context, listOfFile.getName(), &quot;arc&quot;);\r\n                        }\r\n                    }\r\n    \r\n                    File[] listOfFragments = dataDir.listFiles((dir, name) -&gt; {\r\n                        Pattern rexExp = Pattern.compile(&quot;(?:REPORT|\\\\G)(-[0-9]{2}-[0-9]{2}-[0-9]{4}-[a-zA-Z0-9]{8})(\\\\.zip)\\\\.[0-9]{3,6}\\\\.[0-9]{3,6}&quot;);\r\n                        return name.startsWith(&quot;REPORT&quot;) &amp;&amp; rexExp.matcher(name).matches();\r\n                    });\r\n    \r\n                    if (listOfFragments != null) {\r\n                        if (listOfFragments.length &gt; 0) {\r\n                            Arrays.sort(listOfFragments);\r\n                            for (File currentFragment : listOfFragments) {\r\n                                JSONObject jsonObject = new JSONObject();\r\n                                jsonObject.put(&quot;filename&quot;, currentFragment.getName());\r\n                                SendDataProcedure sendDataProcedure = new SendDataProcedure(&quot;1&quot;, &quot;transmitBackupDevice&quot;, jsonObject.toString(), context);\r\n                                boolean requestStatus = sendDataProcedure.postDataFromBackupPushDTS(currentFragment.getName().trim(), false);\r\n                                if (requestStatus) {\r\n                                    if(currentFragment.exists()) {\r\n                                        currentFragment.delete();\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            } catch (Exception e) {\r\n                wil.WriteFile(&quot;SendBackupData - Exception: &quot; + e.getMessage(), context);\r\n            } finally {\r\n                SemaphoreBKP.getInstance(context).goOut();\r\n            }\r\n        } }\r\n\r\nI suppose the problem is related to the fact that I perform very &quot;onerous&quot; operations in the main thread and for this reason the user&#39;s UI is blocked.\r\n\r\nHow can I solve this problem ?\r\n\r\nI need to run this piece of code in the background, every 50 min, this operation could be more or less long, there is no way to know in advance\r\n","title":"Executor block main thread - ANR triggered by main thread waiting for too long","body":"<p>I was analyzing the firebase log (crashalytics) and I noticed a particular error related to the function posted below.</p>\n<blockquote>\n<p>jdk.internal.misc.Unsafe.park</p>\n</blockquote>\n<blockquote>\n<p>ANR triggered by main thread waiting for too long</p>\n</blockquote>\n<pre><code> public class SendBackupData extends Service {\n    private ScheduledExecutorService executorService;\n    private static final WriteInLogFile wil = new WriteInLogFile();\n\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        executorService = Executors.newSingleThreadScheduledExecutor();\n    }\n\n    \n    \n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        executeOperation();\n        executorService.scheduleAtFixedRate(this::executeOperation, 0, 50, TimeUnit.MINUTES);\n        return START_STICKY;\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        executorService.shutdown();\n    }\n\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        return null;\n    }\n\n\n    private void executeOperation() {\n        Context context = getApplicationContext();\n        try {\n            SemaphoreBKP.getInstance(context).goIn();\n            if (new Utilities(context).checkConnection()) {\n                File dataDir = new File(new Constants(context).getArchiveFolder(false));\n                File[] listOfFiles = dataDir.listFiles((dir, name) -&gt; name.startsWith(&quot;REPORT&quot;) &amp;&amp; name.endsWith(&quot;.zip&quot;));\n                if (listOfFiles != null) {\n                    for (File listOfFile : listOfFiles) {\n                        new FilesUtilities().splitBackupFiles(context, listOfFile.getName(), &quot;arc&quot;);\n                    }\n                }\n\n                File[] listOfFragments = dataDir.listFiles((dir, name) -&gt; {\n                    Pattern rexExp = Pattern.compile(&quot;(?:REPORT|\\\\G)(-[0-9]{2}-[0-9]{2}-[0-9]{4}-[a-zA-Z0-9]{8})(\\\\.zip)\\\\.[0-9]{3,6}\\\\.[0-9]{3,6}&quot;);\n                    return name.startsWith(&quot;REPORT&quot;) &amp;&amp; rexExp.matcher(name).matches();\n                });\n\n                if (listOfFragments != null) {\n                    if (listOfFragments.length &gt; 0) {\n                        Arrays.sort(listOfFragments);\n                        for (File currentFragment : listOfFragments) {\n                            JSONObject jsonObject = new JSONObject();\n                            jsonObject.put(&quot;filename&quot;, currentFragment.getName());\n                            SendDataProcedure sendDataProcedure = new SendDataProcedure(&quot;1&quot;, &quot;transmitBackupDevice&quot;, jsonObject.toString(), context);\n                            boolean requestStatus = sendDataProcedure.postDataFromBackupPushDTS(currentFragment.getName().trim(), false);\n                            if (requestStatus) {\n                                if(currentFragment.exists()) {\n                                    currentFragment.delete();\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        } catch (Exception e) {\n            wil.WriteFile(&quot;SendBackupData - Exception: &quot; + e.getMessage(), context);\n        } finally {\n            SemaphoreBKP.getInstance(context).goOut();\n        }\n    } }\n</code></pre>\n<p>I suppose the problem is related to the fact that I perform very &quot;onerous&quot; operations in the main thread and for this reason the user's UI is blocked.</p>\n<p>How can I solve this problem ?</p>\n<p>I need to run this piece of code in the background, every 50 min, this operation could be more or less long, there is no way to know in advance</p>\n"},{"tags":["java","arrays","for-loop","validation"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1690678847,"post_id":76795968,"comment_id":135386978,"body_markdown":"Think carefully about the condition in your while loop. Can it ever be false?","body":"Think carefully about the condition in your while loop. Can it ever be false?"}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690682695,"creation_date":1690679149,"answer_id":76795996,"question_id":76795968,"body_markdown":"Change your &quot;or&quot; logic to &quot;and&quot; logic.\r\n\r\nYour while condition is always true because the input can only be one of the characters, but would have to be *all* of the characters (ie impossible) for the total condition to be true.\r\n\r\nAlso, this expression\r\n\r\n    input.equals(&quot;A&quot;) == false\r\n\r\nCan (and should) be changed to\r\n\r\n    !input.equals(&quot;A&quot;)\r\n\r\nto cut down on code clutter, making it easier to read.\r\n\r\nSo then, try\r\n\r\n    while (!input.equals(&quot;A&quot;) &amp;&amp;\r\n      !input.equals(&quot;B&quot;) &amp;&amp;\r\n      !input.equals(&quot;C&quot;) &amp;&amp;\r\n      !input.equals(&quot;D&quot;)) {\r\n\r\n---\r\n\r\nbtw, a simpler way of coding this is:\r\n\r\n    while (!input.matches(&quot;[ABCD]&quot;) {","title":"Input validation inside for loop in Java","body":"<p>Change your &quot;or&quot; logic to &quot;and&quot; logic.</p>\n<p>Your while condition is always true because the input can only be one of the characters, but would have to be <em>all</em> of the characters (ie impossible) for the total condition to be true.</p>\n<p>Also, this expression</p>\n<pre><code>input.equals(&quot;A&quot;) == false\n</code></pre>\n<p>Can (and should) be changed to</p>\n<pre><code>!input.equals(&quot;A&quot;)\n</code></pre>\n<p>to cut down on code clutter, making it easier to read.</p>\n<p>So then, try</p>\n<pre><code>while (!input.equals(&quot;A&quot;) &amp;&amp;\n  !input.equals(&quot;B&quot;) &amp;&amp;\n  !input.equals(&quot;C&quot;) &amp;&amp;\n  !input.equals(&quot;D&quot;)) {\n</code></pre>\n<hr />\n<p>btw, a simpler way of coding this is:</p>\n<pre><code>while (!input.matches(&quot;[ABCD]&quot;) {\n</code></pre>\n"}],"owner":{"account_id":29119832,"reputation":1,"user_id":22307572,"display_name":"Charlie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1690682636,"answer_count":1,"score":-2,"last_activity_date":1690682695,"creation_date":1690678301,"question_id":76795968,"body_markdown":"My program has an array called `answers` which holds 20 elements. I have a for loop that prompts the user to input either A, B, C, or D and then add that input to the array. I&#39;ve been trying to use a while loop nested inside the for loop to check if the input is valid. If the input is anything other than A, B, C, or D, I want to prompt the user to put in a new answer and then check it again and only continue to the next element once the input is valid. \r\n\r\n\r\n\r\n```\r\n      String[] answers = new String[20];     //empty array for the student&#39;s answers\r\n      String input;                          //keyboard input\r\n      \r\n      Scanner keyboard = new Scanner(System.in);\r\n      \r\n      //prompt user for input and check if it&#39;s valid\r\n      //if it is, add input to the array\r\n      for (int i = 0; i &lt; 20; i++)\r\n      {\r\n         System.out.print(&quot;Enter your answer for problem #&quot; + (i + 1) + &quot;: &quot;);\r\n         input = keyboard.nextLine();\r\n         \r\n         while (input.equals(&quot;A&quot;) == false || input.equals(&quot;B&quot;) == false || input.equals(&quot;C&quot;) ==   false || input.equals(&quot;D&quot;) == false)\r\n         {\r\n            System.out.println(&quot;You must enter either A, B, C, or D.&quot;);\r\n            System.out.print(&quot;Please reenter your answer for problem #&quot; + (i + 1) + &quot;: &quot;);\r\n            input = keyboard.nextLine();\r\n         }\r\n         answers[i] = input; \r\n      }\r\n\r\n```\r\nI decided to use string arrays because I don&#39;t know how to do it any other way, but I wonder if the issue comes misusing the .equals method in my while loop. \r\n\r\nEvery time I run the program it looks like this: \r\n```\r\nEnter your answer for problem #1: A\r\nYou must enter either A, B, C, or D.\r\nPlease reenter your answer for problem #1: \r\n```\r\nAs you can see it prompts the user to reenter the answer even when the input was valid. I&#39;ve been working at this for so long now and I still don&#39;t know how to fix it!\r\n","title":"Input validation inside for loop in Java","body":"<p>My program has an array called <code>answers</code> which holds 20 elements. I have a for loop that prompts the user to input either A, B, C, or D and then add that input to the array. I've been trying to use a while loop nested inside the for loop to check if the input is valid. If the input is anything other than A, B, C, or D, I want to prompt the user to put in a new answer and then check it again and only continue to the next element once the input is valid.</p>\n<pre><code>      String[] answers = new String[20];     //empty array for the student's answers\n      String input;                          //keyboard input\n      \n      Scanner keyboard = new Scanner(System.in);\n      \n      //prompt user for input and check if it's valid\n      //if it is, add input to the array\n      for (int i = 0; i &lt; 20; i++)\n      {\n         System.out.print(&quot;Enter your answer for problem #&quot; + (i + 1) + &quot;: &quot;);\n         input = keyboard.nextLine();\n         \n         while (input.equals(&quot;A&quot;) == false || input.equals(&quot;B&quot;) == false || input.equals(&quot;C&quot;) ==   false || input.equals(&quot;D&quot;) == false)\n         {\n            System.out.println(&quot;You must enter either A, B, C, or D.&quot;);\n            System.out.print(&quot;Please reenter your answer for problem #&quot; + (i + 1) + &quot;: &quot;);\n            input = keyboard.nextLine();\n         }\n         answers[i] = input; \n      }\n\n</code></pre>\n<p>I decided to use string arrays because I don't know how to do it any other way, but I wonder if the issue comes misusing the .equals method in my while loop.</p>\n<p>Every time I run the program it looks like this:</p>\n<pre><code>Enter your answer for problem #1: A\nYou must enter either A, B, C, or D.\nPlease reenter your answer for problem #1: \n</code></pre>\n<p>As you can see it prompts the user to reenter the answer even when the input was valid. I've been working at this for so long now and I still don't know how to fix it!</p>\n"},{"tags":["java","excel","ms-word","embed","preview"],"answers":[{"tags":[],"owner":{"account_id":14313923,"reputation":8884,"user_id":10802527,"display_name":"K J"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690682026,"creation_date":1690652544,"answer_id":76794790,"question_id":76792482,"body_markdown":"Currently as they stand Edge will attempt to open an Office Online &quot;pre-view&quot; in MS Online Servers.  \r\n\r\nhttps://view.officeapps.live.com/op/view.aspx?src=http%3A%2F%2Ferp.lixco.com%3A6065%2FLixcoResource%2Fresources%2Fquanlytailieu%2Ftest%2Fb4646089-ce50-4bd7-8013-9fb02ad0fae5.docx&amp;wdOrigin=BROWSELINK\r\n\r\n\r\nYou cannot preview &quot;Office Files&quot; in a client browser before download, unless like PDF the client has a means to send the Office files back into the Browser plug-in after download.\r\n\r\nHere I do not have a plug-in and MS Security says those files are tainted, but I trust you on this occasion. once the file is trusted it can be downloaded to client as a blob.\r\n\r\nThe blob will be saved as an Office File and anybody with a full Office Suite of applications can preview the contents before allow open for edit.\r\n\r\n[![enter image description here][1]][1]  \r\n\r\nThe following snippet will fail if file is inaccessible to MSOffice online\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;iframe src=&quot;https://view.officeapps.live.com/op/embed.aspx?src=http%3A%2F%2Ferp.lixco.com%3A6065%2FLixcoResource%2Fresources%2Fquanlytailieu%2Ftest%2Fb4646089-ce50-4bd7-8013-9fb02ad0fae5.docx&quot; width=&quot;640px&quot; height=&quot;300px&quot; frameborder=&quot;0&quot;/&gt;This is embedded&lt;/iframe&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nAn alternative is to use a trusted online pre-viewer :-\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThe following snippet should work if file is accessible to Google online\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;iframe src=&quot;https://docs.google.com/gview?url=http://erp.lixco.com:6065/LixcoResource/resources/quanlytailieu/test/b4646089-ce50-4bd7-8013-9fb02ad0fae5.docx&amp;embedded=true&quot; width=&quot;640px&quot; height=&quot;300px&quot; frameborder=&quot;0&quot;/&gt;This is embedded&lt;/iframe&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nor simpler click here\r\n---  \r\nhttps://docs.google.com/gview?url=http://erp.lixco.com:6065/LixcoResource/resources/quanlytailieu/test/b4646089-ce50-4bd7-8013-9fb02ad0fae5.docx \r\n\r\n  [1]: https://i.stack.imgur.com/fz8YM.png\r\n  [2]: https://i.stack.imgur.com/0aM6D.png\r\n  [3]: https://i.stack.imgur.com/A5cKu.png","title":"Preview (embed or on new tab) Word and Excel document on Chrome, Edge, .etc","body":"<p>Currently as they stand Edge will attempt to open an Office Online &quot;pre-view&quot; in MS Online Servers.</p>\n<p><a href=\"https://view.officeapps.live.com/op/view.aspx?src=http%3A%2F%2Ferp.lixco.com%3A6065%2FLixcoResource%2Fresources%2Fquanlytailieu%2Ftest%2Fb4646089-ce50-4bd7-8013-9fb02ad0fae5.docx&amp;wdOrigin=BROWSELINK\" rel=\"nofollow noreferrer\">https://view.officeapps.live.com/op/view.aspx?src=http%3A%2F%2Ferp.lixco.com%3A6065%2FLixcoResource%2Fresources%2Fquanlytailieu%2Ftest%2Fb4646089-ce50-4bd7-8013-9fb02ad0fae5.docx&amp;wdOrigin=BROWSELINK</a></p>\n<p>You cannot preview &quot;Office Files&quot; in a client browser before download, unless like PDF the client has a means to send the Office files back into the Browser plug-in after download.</p>\n<p>Here I do not have a plug-in and MS Security says those files are tainted, but I trust you on this occasion. once the file is trusted it can be downloaded to client as a blob.</p>\n<p>The blob will be saved as an Office File and anybody with a full Office Suite of applications can preview the contents before allow open for edit.</p>\n<p><a href=\"https://i.stack.imgur.com/fz8YM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fz8YM.png\" alt=\"enter image description here\" /></a></p>\n<p>The following snippet will fail if file is inaccessible to MSOffice online</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;iframe src=\"https://view.officeapps.live.com/op/embed.aspx?src=http%3A%2F%2Ferp.lixco.com%3A6065%2FLixcoResource%2Fresources%2Fquanlytailieu%2Ftest%2Fb4646089-ce50-4bd7-8013-9fb02ad0fae5.docx\" width=\"640px\" height=\"300px\" frameborder=\"0\"/&gt;This is embedded&lt;/iframe&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>An alternative is to use a trusted online pre-viewer :-</p>\n<p><a href=\"https://i.stack.imgur.com/0aM6D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0aM6D.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/A5cKu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/A5cKu.png\" alt=\"enter image description here\" /></a></p>\n<p>The following snippet should work if file is accessible to Google online</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;iframe src=\"https://docs.google.com/gview?url=http://erp.lixco.com:6065/LixcoResource/resources/quanlytailieu/test/b4646089-ce50-4bd7-8013-9fb02ad0fae5.docx&amp;embedded=true\" width=\"640px\" height=\"300px\" frameborder=\"0\"/&gt;This is embedded&lt;/iframe&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<h2>or simpler click here</h2>\n<p><a href=\"https://docs.google.com/gview?url=http://erp.lixco.com:6065/LixcoResource/resources/quanlytailieu/test/b4646089-ce50-4bd7-8013-9fb02ad0fae5.docx\" rel=\"nofollow noreferrer\">https://docs.google.com/gview?url=http://erp.lixco.com:6065/LixcoResource/resources/quanlytailieu/test/b4646089-ce50-4bd7-8013-9fb02ad0fae5.docx</a></p>\n"}],"owner":{"account_id":29115719,"reputation":1,"user_id":22304460,"display_name":"Devpro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":111,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690682026,"creation_date":1690615079,"question_id":76792482,"body_markdown":"Word: http://erp.lixco.com:6065/LixcoResource/resources/quanlytailieu/test/b4646089-ce50-4bd7-8013-9fb02ad0fae5.docx\r\nExcel: http://erp.lixco.com:6065/LixcoResource/resources/quanlytailieu/test/351f8f49-49f9-4b76-8280-670386934285.xlsx\r\n\r\nThe path these files are returned from the server when I upload. And I save them in the database (mysql).\r\n\r\nI want to have the button on my website, when clicked, will review these documents across browsers (embed or on the new tab is also okey)\r\n\r\nI&#39;m using Java/JavaServer Faces.\r\nThanks!\r\n\r\nI have tried using byte[] reading, using Jasper report to chang to PDF, ect. But, all of them don&#39;t work.","title":"Preview (embed or on new tab) Word and Excel document on Chrome, Edge, .etc","body":"<p>Word: <a href=\"http://erp.lixco.com:6065/LixcoResource/resources/quanlytailieu/test/b4646089-ce50-4bd7-8013-9fb02ad0fae5.docx\" rel=\"nofollow noreferrer\">http://erp.lixco.com:6065/LixcoResource/resources/quanlytailieu/test/b4646089-ce50-4bd7-8013-9fb02ad0fae5.docx</a>\nExcel: <a href=\"http://erp.lixco.com:6065/LixcoResource/resources/quanlytailieu/test/351f8f49-49f9-4b76-8280-670386934285.xlsx\" rel=\"nofollow noreferrer\">http://erp.lixco.com:6065/LixcoResource/resources/quanlytailieu/test/351f8f49-49f9-4b76-8280-670386934285.xlsx</a></p>\n<p>The path these files are returned from the server when I upload. And I save them in the database (mysql).</p>\n<p>I want to have the button on my website, when clicked, will review these documents across browsers (embed or on the new tab is also okey)</p>\n<p>I'm using Java/JavaServer Faces.\nThanks!</p>\n<p>I have tried using byte[] reading, using Jasper report to chang to PDF, ect. But, all of them don't work.</p>\n"},{"tags":["java","selenium-webdriver"],"comments":[{"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1690413579,"post_id":76775586,"comment_id":135352029,"body_markdown":"What exactly are you performing in _FilterCarrier Method_?","body":"What exactly are you performing in <i>FilterCarrier Method</i>?"},{"owner":{"account_id":29080842,"reputation":3,"user_id":22276918,"display_name":"Mehdee Ahmed"},"score":0,"creation_date":1690414675,"post_id":76775586,"comment_id":135352167,"body_markdown":"@undetectedSelenium ebay has mobile carrier filters on the navigation side bar. The FilterCarrier method clicks on the filter options based on the carrFilter list.","body":"@undetectedSelenium ebay has mobile carrier filters on the navigation side bar. The FilterCarrier method clicks on the filter options based on the carrFilter list."}],"answers":[{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690680930,"creation_date":1690424609,"answer_id":76776128,"question_id":76775586,"body_markdown":"In my opinion, using `stream()` in this case will just make your code more complex and slow without any reason.\r\n\r\nYou need to keep your `options` list constantly updating, otherwise, [`StaleElementReferenceException`][1] will be thrown in `option.getAttribute(&quot;aria-label&quot;)`, which **makes it incompatible** with the `stream()` method because you can&#39;t change the list in the middle of iteration.\r\n\r\nYou could also use a `forEach()` on `carrNames` and verify the label, but that **would not be performant**.\r\n\r\nBut, you can improve your code like this:\r\n\r\n```java\r\n// No reason to be public\r\nprivate static void FilterCarrier(WebDriver driver, String[] carrFilter) {\r\n  // Use new method\r\n  List&lt;WebElement&gt; options = getOptions(driver);\r\n\r\n  // Instantiated out of loop\r\n  List&lt;String&gt; carrNames = Arrays.asList(carrFilter);\r\n\r\n  for (int i = 0; i &lt; options.size(); i++) {\r\n    WebElement option = options.get(i);\r\n    String label = option.getAttribute(&quot;aria-label&quot;);\r\n\r\n    if (carrNames.contains(label)) {\r\n      // Reuse the object\r\n      option.click();\r\n\r\n      System.out.println(ResultCount(driver) + &quot; for: &quot; + label);\r\n\r\n      // Use new method\r\n      options = getOptions(driver);\r\n    }\r\n  }\r\n}\r\n\r\n// Method to get options (Coding best practices)\r\nprivate static List&lt;WebElement&gt; getOptions(WebDriver driver) {\r\n  return driver.findElements(By.xpath(&quot;//div[@id=&#39;x-refine__group_1__1&#39;]/ul/li/div/a/div/span/input&quot;));\r\n}\r\n```\r\n\r\nI improved my answer based on @pcalkins and @MehdeeAhmed comments:\r\n\r\n```java\r\n// No reason to be public\r\nprivate static String ResultCount(WebDriver driver) {\r\n\tString[] t = driver.findElement(By.cssSelector(&quot;.srp-controls__count-heading&quot;)).getText().split(&quot; &quot;);\r\n\tString resultCount = t[0] + &quot; Results Found&quot;;\r\n\treturn resultCount;\r\n}\r\n\r\n// No reason to be public\r\nprivate static void FilterCarrier(WebDriver driver, String[] carrFilter) {\r\n\tList&lt;String&gt; appliedFilters = new LinkedList&lt;&gt;();\r\n\r\n\t// Filters: { &quot;Verizon&quot;, &quot;T-Mobile&quot;, &quot;Unlocked&quot;, &quot;1&amp;1&quot; }\r\n\tArrays.asList(carrFilter).forEach((carrName) -&gt; {\r\n\t\tfor (WebElement option : getOptions(driver)) {\r\n\t\t\tString label = option.getAttribute(&quot;aria-label&quot;);\r\n\t\t\tif (carrName.equals(label)) {\r\n\t\t\t\toption.click();\r\n\t\t\t\tappliedFilters.add(label);\r\n\t\t\t\tSystem.out.println(ResultCount(driver) + &quot; for: &quot; + formatAppliedFilters(appliedFilters));\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\n//Format all applied filters to display\r\nprivate static String formatAppliedFilters(List&lt;String&gt; appliedFilters) {\r\n\tStringBuilder formated = new StringBuilder();\r\n\r\n\tfor (int i = 0; i &lt; appliedFilters.size(); i++) {\r\n\t\tif (!formated.isEmpty()) {\r\n\t\t\tif (i == appliedFilters.size() - 1) {\r\n\t\t\t\tformated.append(&quot; &amp; &quot;);\r\n\t\t\t} else {\r\n\t\t\t\tformated.append(&quot;, &quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\tformated.append(appliedFilters.get(i));\r\n\t}\r\n\r\n\treturn formated.toString();\r\n}\r\n\r\n// Method to get options (Coding best practices)\r\nprivate static List&lt;WebElement&gt; getOptions(WebDriver driver) {\r\n\treturn driver.findElements(By.xpath(&quot;//div[@id=&#39;x-refine__group_1__1&#39;]/ul/li/div/a/div/span/input&quot;));\r\n}\r\n```\r\n\r\n  [1]: https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/StaleElementReferenceException.html","title":"How can I optimize my code using Java streams?","body":"<p>In my opinion, using <code>stream()</code> in this case will just make your code more complex and slow without any reason.</p>\n<p>You need to keep your <code>options</code> list constantly updating, otherwise, <a href=\"https://www.selenium.dev/selenium/docs/api/java/org/openqa/selenium/StaleElementReferenceException.html\" rel=\"nofollow noreferrer\"><code>StaleElementReferenceException</code></a> will be thrown in <code>option.getAttribute(&quot;aria-label&quot;)</code>, which <strong>makes it incompatible</strong> with the <code>stream()</code> method because you can't change the list in the middle of iteration.</p>\n<p>You could also use a <code>forEach()</code> on <code>carrNames</code> and verify the label, but that <strong>would not be performant</strong>.</p>\n<p>But, you can improve your code like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// No reason to be public\nprivate static void FilterCarrier(WebDriver driver, String[] carrFilter) {\n  // Use new method\n  List&lt;WebElement&gt; options = getOptions(driver);\n\n  // Instantiated out of loop\n  List&lt;String&gt; carrNames = Arrays.asList(carrFilter);\n\n  for (int i = 0; i &lt; options.size(); i++) {\n    WebElement option = options.get(i);\n    String label = option.getAttribute(&quot;aria-label&quot;);\n\n    if (carrNames.contains(label)) {\n      // Reuse the object\n      option.click();\n\n      System.out.println(ResultCount(driver) + &quot; for: &quot; + label);\n\n      // Use new method\n      options = getOptions(driver);\n    }\n  }\n}\n\n// Method to get options (Coding best practices)\nprivate static List&lt;WebElement&gt; getOptions(WebDriver driver) {\n  return driver.findElements(By.xpath(&quot;//div[@id='x-refine__group_1__1']/ul/li/div/a/div/span/input&quot;));\n}\n</code></pre>\n<p>I improved my answer based on @pcalkins and @MehdeeAhmed comments:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// No reason to be public\nprivate static String ResultCount(WebDriver driver) {\n    String[] t = driver.findElement(By.cssSelector(&quot;.srp-controls__count-heading&quot;)).getText().split(&quot; &quot;);\n    String resultCount = t[0] + &quot; Results Found&quot;;\n    return resultCount;\n}\n\n// No reason to be public\nprivate static void FilterCarrier(WebDriver driver, String[] carrFilter) {\n    List&lt;String&gt; appliedFilters = new LinkedList&lt;&gt;();\n\n    // Filters: { &quot;Verizon&quot;, &quot;T-Mobile&quot;, &quot;Unlocked&quot;, &quot;1&amp;1&quot; }\n    Arrays.asList(carrFilter).forEach((carrName) -&gt; {\n        for (WebElement option : getOptions(driver)) {\n            String label = option.getAttribute(&quot;aria-label&quot;);\n            if (carrName.equals(label)) {\n                option.click();\n                appliedFilters.add(label);\n                System.out.println(ResultCount(driver) + &quot; for: &quot; + formatAppliedFilters(appliedFilters));\n                break;\n            }\n        }\n    });\n}\n\n//Format all applied filters to display\nprivate static String formatAppliedFilters(List&lt;String&gt; appliedFilters) {\n    StringBuilder formated = new StringBuilder();\n\n    for (int i = 0; i &lt; appliedFilters.size(); i++) {\n        if (!formated.isEmpty()) {\n            if (i == appliedFilters.size() - 1) {\n                formated.append(&quot; &amp; &quot;);\n            } else {\n                formated.append(&quot;, &quot;);\n            }\n        }\n        formated.append(appliedFilters.get(i));\n    }\n\n    return formated.toString();\n}\n\n// Method to get options (Coding best practices)\nprivate static List&lt;WebElement&gt; getOptions(WebDriver driver) {\n    return driver.findElements(By.xpath(&quot;//div[@id='x-refine__group_1__1']/ul/li/div/a/div/span/input&quot;));\n}\n</code></pre>\n"}],"owner":{"account_id":29080842,"reputation":3,"user_id":22276918,"display_name":"Mehdee Ahmed"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690680930,"creation_date":1690413089,"question_id":76775586,"body_markdown":"Below is a working script for automating a little bit of Ebay&#39;s website. I&#39;m very new to coding so this is definitely a messy code job. Which is why I would like to know how this code can be optimized using Java streams? I would also like to know if there is a easier way to write the `FilterCarrier` method in my code? Basically are there better ways to iterate? Thanks a lot!\r\n\r\n```\r\nimport java.awt.image.BufferedImage;\r\nimport java.io.File;\r\nimport java.io.IOException;\r\nimport java.time.Duration;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport javax.imageio.ImageIO;\r\nimport org.openqa.selenium.By;\r\nimport org.openqa.selenium.OutputType;\r\nimport org.openqa.selenium.Point;\r\nimport org.openqa.selenium.TakesScreenshot;\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.WebElement;\r\nimport org.openqa.selenium.chrome.ChromeDriver;\r\nimport org.openqa.selenium.io.FileHandler;\r\n\r\npublic class EbayTestCase {\r\n\r\n\tpublic static void main(String[] args) throws InterruptedException, IOException {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;,\r\n\t\t\t\t&quot;C:\\\\Users\\\\Mehdee\\\\Documents\\\\Eclipse projects\\\\Selenium\\\\ChromeDriver\\\\chromedriver.exe&quot;);\r\n\t\tWebDriver driver = new ChromeDriver();\r\n\t\tdriver.manage().window().maximize();\r\n\t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\r\n\t\t// WebDriverWait w = new WebDriverWait(driver, Duration.ofSeconds(30));\r\n\t\tdriver.get(&quot;https://www.ebay.com/&quot;);\r\n\t\tString[] carrFilter = { &quot;Verizon&quot;, &quot;T-Mobile&quot;, &quot;Unlocked&quot;, &quot;1&amp;1&quot; };\r\n\t\tdriver.findElement(By.id(&quot;gh-ac&quot;)).sendKeys(&quot;iPhone 14&quot;);\r\n\t\tdriver.findElement(By.id(&quot;gh-btn&quot;)).click();\r\n\t\tSystem.out.println(ResultCount(driver) + &quot; For iPhone 14&quot;);\r\n\t\tThread.sleep(1500);\r\n\t\tdriver.findElement(By.cssSelector(&quot;input[aria-label=&#39;Apple iPhone 14 Pro Max&#39;]&quot;)).click();\r\n\t\tSystem.out.println(ResultCount(driver) + &quot; For Apple iPhone 14 Pro Max&quot;);\r\n\r\n\t\tFilterCarrier(driver, carrFilter);\r\n\r\n\t\tElementScreenshot(driver);\r\n\t\tdriver.quit();\r\n\r\n\t}\r\n\r\n\tpublic static void ElementScreenshot(WebDriver driver) throws IOException {\r\n\t\tWebElement ele = driver.findElement(\r\n\t\t\t\tBy.xpath(&quot;//body/div[5]/div[4]/div[2]/div[1]/div[2]/ul[1]/li[2]/div[1]/div[1]/div[1]/a[1]/div[1]&quot;));\r\n\t\tFile SC = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\r\n\t\tPoint location = ele.getLocation();\r\n\t\tint height = ele.getSize().getHeight();\r\n\t\tint width = ele.getSize().getWidth();\r\n\t\tBufferedImage img = ImageIO.read(SC);\r\n\t\tBufferedImage cropped = img.getSubimage(location.getX(), location.getY(), width, height);\r\n\t\tImageIO.write(cropped, &quot;png&quot;, SC);\r\n\t\tFile fis = new File(&quot;C:\\\\Users\\\\Mehdee\\\\Documents\\\\SeleniumScreenshots\\\\screenshot.png&quot;);\r\n\t\tFileHandler.copy(SC, fis);\r\n\t\tSystem.out.println(&quot;Screenshot has been successfully stored in C://Documents/SeleniumScreenshots directory&quot;);\r\n\t}\r\n\r\n\tpublic static String ResultCount(WebDriver driver) {\r\n\t\tString[] t = driver.findElement(By.cssSelector(&quot;.srp-controls__count-heading&quot;)).getText().split(&quot; &quot;);\r\n\t\tString resultCount = t[0] + &quot; Results Found&quot;;\r\n\t\treturn resultCount;\r\n\t}\r\n\r\n\tpublic static void FilterCarrier(WebDriver driver, String[] carrFilter) {\r\n\t\tList&lt;WebElement&gt; options = driver\r\n\t\t\t\t.findElements(By.xpath(&quot;//div[@id=&#39;x-refine__group_1__1&#39;]/ul/li/div/a/div/span/input&quot;));\r\n\t\tint b = 0;\r\n\t\tfor (int i = 0; i &lt; options.size(); i++) {\r\n\r\n\t\t\tList&lt;String&gt; carrNames = Arrays.asList(carrFilter);\r\n\t\t\tWebElement option = options.get(i);\r\n\t\t\tString label = option.getAttribute(&quot;aria-label&quot;);\r\n\t\t\tif (carrNames.contains(label)) {\r\n\t\t\t\tb++;\r\n\t\t\t\toptions.get(i).click();\r\n\t\t\t\tSystem.out.println(ResultCount(driver) + &quot; for: &quot; + label);\r\n\t\t\t\toptions = driver.findElements(By.xpath(&quot;//div[@id=&#39;x-refine__group_1__1&#39;]/ul/li/div/a/div/span/input&quot;));\r\n\t\t\t\tif (b == 4) {\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"How can I optimize my code using Java streams?","body":"<p>Below is a working script for automating a little bit of Ebay's website. I'm very new to coding so this is definitely a messy code job. Which is why I would like to know how this code can be optimized using Java streams? I would also like to know if there is a easier way to write the <code>FilterCarrier</code> method in my code? Basically are there better ways to iterate? Thanks a lot!</p>\n<pre><code>import java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.time.Duration;\nimport java.util.Arrays;\nimport java.util.List;\nimport javax.imageio.ImageIO;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.OutputType;\nimport org.openqa.selenium.Point;\nimport org.openqa.selenium.TakesScreenshot;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.io.FileHandler;\n\npublic class EbayTestCase {\n\n    public static void main(String[] args) throws InterruptedException, IOException {\n        // TODO Auto-generated method stub\n        System.setProperty(&quot;webdriver.chrome.driver&quot;,\n                &quot;C:\\\\Users\\\\Mehdee\\\\Documents\\\\Eclipse projects\\\\Selenium\\\\ChromeDriver\\\\chromedriver.exe&quot;);\n        WebDriver driver = new ChromeDriver();\n        driver.manage().window().maximize();\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(30));\n        // WebDriverWait w = new WebDriverWait(driver, Duration.ofSeconds(30));\n        driver.get(&quot;https://www.ebay.com/&quot;);\n        String[] carrFilter = { &quot;Verizon&quot;, &quot;T-Mobile&quot;, &quot;Unlocked&quot;, &quot;1&amp;1&quot; };\n        driver.findElement(By.id(&quot;gh-ac&quot;)).sendKeys(&quot;iPhone 14&quot;);\n        driver.findElement(By.id(&quot;gh-btn&quot;)).click();\n        System.out.println(ResultCount(driver) + &quot; For iPhone 14&quot;);\n        Thread.sleep(1500);\n        driver.findElement(By.cssSelector(&quot;input[aria-label='Apple iPhone 14 Pro Max']&quot;)).click();\n        System.out.println(ResultCount(driver) + &quot; For Apple iPhone 14 Pro Max&quot;);\n\n        FilterCarrier(driver, carrFilter);\n\n        ElementScreenshot(driver);\n        driver.quit();\n\n    }\n\n    public static void ElementScreenshot(WebDriver driver) throws IOException {\n        WebElement ele = driver.findElement(\n                By.xpath(&quot;//body/div[5]/div[4]/div[2]/div[1]/div[2]/ul[1]/li[2]/div[1]/div[1]/div[1]/a[1]/div[1]&quot;));\n        File SC = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\n        Point location = ele.getLocation();\n        int height = ele.getSize().getHeight();\n        int width = ele.getSize().getWidth();\n        BufferedImage img = ImageIO.read(SC);\n        BufferedImage cropped = img.getSubimage(location.getX(), location.getY(), width, height);\n        ImageIO.write(cropped, &quot;png&quot;, SC);\n        File fis = new File(&quot;C:\\\\Users\\\\Mehdee\\\\Documents\\\\SeleniumScreenshots\\\\screenshot.png&quot;);\n        FileHandler.copy(SC, fis);\n        System.out.println(&quot;Screenshot has been successfully stored in C://Documents/SeleniumScreenshots directory&quot;);\n    }\n\n    public static String ResultCount(WebDriver driver) {\n        String[] t = driver.findElement(By.cssSelector(&quot;.srp-controls__count-heading&quot;)).getText().split(&quot; &quot;);\n        String resultCount = t[0] + &quot; Results Found&quot;;\n        return resultCount;\n    }\n\n    public static void FilterCarrier(WebDriver driver, String[] carrFilter) {\n        List&lt;WebElement&gt; options = driver\n                .findElements(By.xpath(&quot;//div[@id='x-refine__group_1__1']/ul/li/div/a/div/span/input&quot;));\n        int b = 0;\n        for (int i = 0; i &lt; options.size(); i++) {\n\n            List&lt;String&gt; carrNames = Arrays.asList(carrFilter);\n            WebElement option = options.get(i);\n            String label = option.getAttribute(&quot;aria-label&quot;);\n            if (carrNames.contains(label)) {\n                b++;\n                options.get(i).click();\n                System.out.println(ResultCount(driver) + &quot; for: &quot; + label);\n                options = driver.findElements(By.xpath(&quot;//div[@id='x-refine__group_1__1']/ul/li/div/a/div/span/input&quot;));\n                if (b == 4) {\n                    break;\n                }\n\n            }\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","loops","for-loop"],"comments":[{"owner":{"account_id":1083854,"reputation":13775,"user_id":1080064,"accept_rate":43,"display_name":"tkausl"},"score":0,"creation_date":1487459169,"post_id":42321681,"comment_id":71796623,"body_markdown":"&quot;why the second variable &#39;i&#39; is being put back in the formula from the first For Loop&quot; What do you mean? Which output did you expect?","body":"&quot;why the second variable &#39;i&#39; is being put back in the formula from the first For Loop&quot; What do you mean? Which output did you expect?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1487459187,"post_id":42321681,"comment_id":71796630,"body_markdown":"The first loop populates the array to contain `[-1, 2, 5, 8, 11]`. The second loop just prints it backwards.","body":"The first loop populates the array to contain <code>[-1, 2, 5, 8, 11]</code>. The second loop just prints it backwards."},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1487459400,"post_id":42321681,"comment_id":71796693,"body_markdown":"The first loop obviously fills the array. The second loop displays the created array but it does it from the highest index (4) to the lowest index (0). The variable **i** merely holds the current index number of the array element to process.","body":"The first loop obviously fills the array. The second loop displays the created array but it does it from the highest index (4) to the lowest index (0). The variable <b>i</b> merely holds the current index number of the array element to process."},{"owner":{"display_name":"user177800"},"score":0,"creation_date":1487460314,"post_id":42321681,"comment_id":71796915,"body_markdown":"[What does your step debugger tell you?](http://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems)","body":"<a href=\"http://stackoverflow.com/questions/25385173/what-is-a-debugger-and-how-can-it-help-me-diagnose-problems\">What does your step debugger tell you?</a>"}],"answers":[{"tags":[],"owner":{"account_id":6854823,"reputation":6150,"user_id":5270744,"accept_rate":76,"display_name":"m_callens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1487459376,"creation_date":1487459376,"answer_id":42321733,"question_id":42321681,"body_markdown":"    for (int i = 0; i &lt; a.length; i++) {\r\n      a[i] = i*3-1;\r\n    }\r\n\r\nIn the first loop (above), `i` is the incrementer for the loop, which I assume you understand. Knowing that, we know that the values of `i` throughout the loop will be `0, 1, 2, 3, and 4`.\r\n\r\nFor the statement `a[i] = i * 3 - 1`, it serves two purposes.\r\n\r\n 1. An indexing value to give access to modify the values in the `a` array.\r\n 2. Uses the incrementing values of `i` to calculate a new integer.\r\n\r\nFor example, on the first iteration, `i` will be `0`. Therefore, the code inside of the loop will set the value at position `0` of the array to `0 * 3 - 1`, or `-1`. This goes on for the remainder of the loop, explaining the values printed by the second loop as it prints it in reverse.","title":"For Loop Tracing Issue: Can&#39;t Justify Output","body":"<pre><code>for (int i = 0; i &lt; a.length; i++) {\n  a[i] = i*3-1;\n}\n</code></pre>\n\n<p>In the first loop (above), <code>i</code> is the incrementer for the loop, which I assume you understand. Knowing that, we know that the values of <code>i</code> throughout the loop will be <code>0, 1, 2, 3, and 4</code>.</p>\n\n<p>For the statement <code>a[i] = i * 3 - 1</code>, it serves two purposes.</p>\n\n<ol>\n<li>An indexing value to give access to modify the values in the <code>a</code> array.</li>\n<li>Uses the incrementing values of <code>i</code> to calculate a new integer.</li>\n</ol>\n\n<p>For example, on the first iteration, <code>i</code> will be <code>0</code>. Therefore, the code inside of the loop will set the value at position <code>0</code> of the array to <code>0 * 3 - 1</code>, or <code>-1</code>. This goes on for the remainder of the loop, explaining the values printed by the second loop as it prints it in reverse.</p>\n"},{"tags":[],"owner":{"account_id":3496566,"reputation":6513,"user_id":2924577,"accept_rate":92,"display_name":"Nikhil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690680560,"creation_date":1487460215,"answer_id":42321827,"question_id":42321681,"body_markdown":"&gt; What I don&#39;t understand is why the second variable &#39;i&#39; is being put back in the formula from the first For Loop.\r\n\r\n`i` is just the name of the variable. The variable `i` isn&#39;t significant here in calculating the values, it only serves as the loop counter.  You can use `j` or any other name in any `for` loop and will still get the same output. \r\n\r\n&gt; How can I connect these two loops? The array is defined in\r\n&gt; the first loop, so why does it affect the second?\r\n\r\nThe array is populated with values in the first loop. But note that the array is declared initially at the beginning of the program.\r\n\r\n    int[] a = new int[5];\r\n\r\nThis means that the array&#39;s scope is not just limited to that first `for` loop. It can be accessed anywhere within its scope. \r\n\r\nSo, in the first `for` loop, we are populating the array with values. And in the second `for` loop, we are displaying it.\r\n","title":"For Loop Tracing Issue: Can&#39;t Justify Output","body":"<blockquote>\n<p>What I don't understand is why the second variable 'i' is being put back in the formula from the first For Loop.</p>\n</blockquote>\n<p><code>i</code> is just the name of the variable. The variable <code>i</code> isn't significant here in calculating the values, it only serves as the loop counter.  You can use <code>j</code> or any other name in any <code>for</code> loop and will still get the same output.</p>\n<blockquote>\n<p>How can I connect these two loops? The array is defined in\nthe first loop, so why does it affect the second?</p>\n</blockquote>\n<p>The array is populated with values in the first loop. But note that the array is declared initially at the beginning of the program.</p>\n<pre><code>int[] a = new int[5];\n</code></pre>\n<p>This means that the array's scope is not just limited to that first <code>for</code> loop. It can be accessed anywhere within its scope.</p>\n<p>So, in the first <code>for</code> loop, we are populating the array with values. And in the second <code>for</code> loop, we are displaying it.</p>\n"},{"tags":[],"owner":{"display_name":"user6004556"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1487461642,"creation_date":1487461642,"answer_id":42321991,"question_id":42321681,"body_markdown":"The scope of &#39;i&#39; is within the loop, so once a loop ends the variable &#39;i&#39; no longer exists and can be re-instantiated. To understand look at this code: \r\n\r\n    public class Example{\r\n        public static void main(String args[]){\r\n            while(isTrue){\r\n               int x += 3; // Int x exists here\r\n            }\r\n            //x does not exist here it is outside of scope so we can make another\r\n            int x = 10;\r\n        }\r\n    }\r\n\r\n[![Var Scope][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7coRx.gif","title":"For Loop Tracing Issue: Can&#39;t Justify Output","body":"<p>The scope of 'i' is within the loop, so once a loop ends the variable 'i' no longer exists and can be re-instantiated. To understand look at this code: </p>\n\n<pre><code>public class Example{\n    public static void main(String args[]){\n        while(isTrue){\n           int x += 3; // Int x exists here\n        }\n        //x does not exist here it is outside of scope so we can make another\n        int x = 10;\n    }\n}\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/7coRx.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7coRx.gif\" alt=\"Var Scope\"></a></p>\n"}],"owner":{"account_id":10179312,"reputation":3,"user_id":7516764,"display_name":"j_b_kwik"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":42321733,"answer_count":3,"score":-4,"last_activity_date":1690680560,"creation_date":1487458941,"question_id":42321681,"body_markdown":"I&#39;m having trouble tracing some code to get the output:\r\n\r\n    int[] a = new int[5];\r\n    for (int i = 0; i &lt; a.length; i++)\r\n\t{\r\n\t    a[i] = i*3-1;\r\n\t}\r\n\t\t\r\n\t\t\r\n\tfor (int i = a.length-1; i &gt;= 0; i--)\r\n\t{\r\n\t    System.out.print(a[i] + &quot; &quot; );\r\n\t}\r\n\t\t\r\nThis outputs:\r\n\r\n    11 8 5 2 -1\r\n\r\nWhat I don&#39;t understand is why the second variable &#39;i&#39; is being put back in the formula from the first For Loop.  How can I connect these two loops? The array is defined in the first loop, so why does it affect the second? I don&#39;t understand the relation, perhaps I&#39;m just missing it.  \r\n\r\n ","title":"For Loop Tracing Issue: Can&#39;t Justify Output","body":"<p>I'm having trouble tracing some code to get the output:</p>\n<pre><code>int[] a = new int[5];\nfor (int i = 0; i &lt; a.length; i++)\n{\n    a[i] = i*3-1;\n}\n    \n    \nfor (int i = a.length-1; i &gt;= 0; i--)\n{\n    System.out.print(a[i] + &quot; &quot; );\n}\n    \n</code></pre>\n<p>This outputs:</p>\n<pre><code>11 8 5 2 -1\n</code></pre>\n<p>What I don't understand is why the second variable 'i' is being put back in the formula from the first For Loop.  How can I connect these two loops? The array is defined in the first loop, so why does it affect the second? I don't understand the relation, perhaps I'm just missing it.</p>\n"},{"tags":["java","java-9","jmockit","javaagents","java-platform-module-system"],"comments":[{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":3,"creation_date":1690654148,"post_id":76794482,"comment_id":135384894,"body_markdown":"Read the message as &quot;JDK 9 or higher&quot;.","body":"Read the message as &quot;JDK 9 or higher&quot;."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690678006,"creation_date":1690678006,"answer_id":76795959,"question_id":76794482,"body_markdown":"Your question is completely unrelated to IntelliJ IDEA. You just happen to be running your tests from there. Instead, you should have mentioned that you use JMockit in your tests, which is clearly the root cause for your problems, if you just fully read the error message instead of stopping at &quot;JDK 9&quot;, which, like Johannes said, means &quot;JDK &gt;= 9&quot;:\r\n\r\n```none\r\njava.lang.IllegalStateException:\r\n  Running on JDK 9 requires\r\n    -javaagent:&lt;proper path&gt;/jmockit-1.n.jar\r\n    or -Djdk.attach.allowAttachSelf\r\n```\r\n\r\nNot only do you read &quot;jmockit&quot; in the error message, but also two possible solutions. Have you tried any of them?\r\n\r\nBy the way, the error message mentions JDK 9, because that was the version which introduced JPMS (Java Platform Module System). [JEP 261: Module System](https://openjdk.org/jeps/261), which was part of JDK 9, reads:\r\n\r\n&gt; The `com.sun.tools.attach` API can no longer be used, by default, to attach an agent to the current process or an ancestor of the current process. Such attachment operations can be enabled by setting the system property `jdk.attach.allowAttachSelf` on the command line.\r\n\r\nThis changes the way how to dynamically attach a Java agent to a running JVM without `-javaagent` command line parameter, especially to self-attachment, i.e. the JVM initiating the attachment is also the target JVM. JMockit makes use of that technology, which is why you either need to set that system property for JDK 9+ or use the traditional approach of declaring the JMockit agent on the command line. Both options are easy enough to implement.","title":"Error message mentions Java 9 even though I am using Java 11","body":"<p>Your question is completely unrelated to IntelliJ IDEA. You just happen to be running your tests from there. Instead, you should have mentioned that you use JMockit in your tests, which is clearly the root cause for your problems, if you just fully read the error message instead of stopping at &quot;JDK 9&quot;, which, like Johannes said, means &quot;JDK &gt;= 9&quot;:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.IllegalStateException:\n  Running on JDK 9 requires\n    -javaagent:&lt;proper path&gt;/jmockit-1.n.jar\n    or -Djdk.attach.allowAttachSelf\n</code></pre>\n<p>Not only do you read &quot;jmockit&quot; in the error message, but also two possible solutions. Have you tried any of them?</p>\n<p>By the way, the error message mentions JDK 9, because that was the version which introduced JPMS (Java Platform Module System). <a href=\"https://openjdk.org/jeps/261\" rel=\"nofollow noreferrer\">JEP 261: Module System</a>, which was part of JDK 9, reads:</p>\n<blockquote>\n<p>The <code>com.sun.tools.attach</code> API can no longer be used, by default, to attach an agent to the current process or an ancestor of the current process. Such attachment operations can be enabled by setting the system property <code>jdk.attach.allowAttachSelf</code> on the command line.</p>\n</blockquote>\n<p>This changes the way how to dynamically attach a Java agent to a running JVM without <code>-javaagent</code> command line parameter, especially to self-attachment, i.e. the JVM initiating the attachment is also the target JVM. JMockit makes use of that technology, which is why you either need to set that system property for JDK 9+ or use the traditional approach of declaring the JMockit agent on the command line. Both options are easy enough to implement.</p>\n"}],"owner":{"account_id":10073835,"reputation":787,"user_id":7446623,"accept_rate":5,"display_name":"apex2022"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690680249,"creation_date":1690648108,"question_id":76794482,"body_markdown":"I have a Java 11 Gradle project for work. I am using IntelliJ Idea. I have some test errors, so I&#39;m trying to debug. The error message I&#39;m asking about appears to be unrelated to the test errors, but I could be wrong and it still bothers me. Here is the message:\r\n\r\n&lt;!-- language: none --&gt;\r\n\r\n    java.lang.IllegalStateException: Running on JDK 9 requires -javaagent:&lt;proper path&gt;/jmockit-1.n.jar or -Djdk.attach.allowAttachSelf\r\n\t    at java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:780)\r\n\t    at java.base/java.util.ServiceLoader$ProviderImpl.get(ServiceLoader.java:722)\r\n\t    at java.base/java.util.ServiceLoader$3.next(ServiceLoader.java:1395)\r\n\t    at java.base/java.lang.Iterable.forEach(Iterable.java:74)\r\n\t    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:97)\r\n\t    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\r\n\t    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\r\n\t    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n\t    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\t    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\t    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\r\n\t    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\r\n\t    at org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:133)\r\n\t    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\r\n\t    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n\t    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\r\n\t    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\r\n\t    at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\r\n\t    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\t    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\t    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\r\n\t    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\r\n\t    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\r\n\t    at java.base/java.lang.Thread.run(Thread.java:834)\r\n\r\nI have looked at Settings, Project Structure, and all of the Jars in the External Libraries. I see everything saying Java 11. I see nothing saying Java 9. Is this a message I would expect to get even in Java 11? Is it a message I don&#39;t need to worry about? Are there any places besides Settings, Project Structure and the JARs that I need to check?\r\n","title":"Error message mentions Java 9 even though I am using Java 11","body":"<p>I have a Java 11 Gradle project for work. I am using IntelliJ Idea. I have some test errors, so I'm trying to debug. The error message I'm asking about appears to be unrelated to the test errors, but I could be wrong and it still bothers me. Here is the message:</p>\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.IllegalStateException: Running on JDK 9 requires -javaagent:&lt;proper path&gt;/jmockit-1.n.jar or -Djdk.attach.allowAttachSelf\n    at java.base/java.util.ServiceLoader$ProviderImpl.newInstance(ServiceLoader.java:780)\n    at java.base/java.util.ServiceLoader$ProviderImpl.get(ServiceLoader.java:722)\n    at java.base/java.util.ServiceLoader$3.next(ServiceLoader.java:1395)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:74)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:97)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$000(JUnitPlatformTestClassProcessor.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:75)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:33)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:94)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:133)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:36)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:182)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:164)\n    at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:414)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:56)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n<p>I have looked at Settings, Project Structure, and all of the Jars in the External Libraries. I see everything saying Java 11. I see nothing saying Java 9. Is this a message I would expect to get even in Java 11? Is it a message I don't need to worry about? Are there any places besides Settings, Project Structure and the JARs that I need to check?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":10756655,"reputation":362,"user_id":7914401,"display_name":"Leroy"},"score":0,"creation_date":1599823908,"post_id":63841351,"comment_id":112901174,"body_markdown":"Have you tried doing &#39;mvn clean install&#39; your pom file looks ok, maybe the dependency is not yet downloaded. If you already downloaded yet this error still appear, try deleting the org/springframework/boot in your repository directory then do a &#39;mvn clean install&#39; again. Hope this helps","body":"Have you tried doing &#39;mvn clean install&#39; your pom file looks ok, maybe the dependency is not yet downloaded. If you already downloaded yet this error still appear, try deleting the org/springframework/boot in your repository directory then do a &#39;mvn clean install&#39; again. Hope this helps"},{"owner":{"account_id":6698947,"reputation":409,"user_id":5166129,"display_name":"Neer Patel"},"score":0,"creation_date":1602494675,"post_id":63841351,"comment_id":113728169,"body_markdown":"I am also facing the same problem, could you find the solution bro ?","body":"I am also facing the same problem, could you find the solution bro ?"}],"answers":[{"tags":[],"owner":{"account_id":3970780,"reputation":2667,"user_id":3275441,"accept_rate":75,"display_name":"Milgo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599804317,"creation_date":1599804317,"answer_id":63841589,"question_id":63841351,"body_markdown":"Maybe a problem with your IDE? I have no problem importing JpaRepository with your pom.xml.\r\n\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    public interface Repo extends JpaRepository&lt;Long, Object&gt; {\r\n    }","title":"The import org.springframework.data.jpa.repository.JpaRepository can&#39;t be resolved","body":"<p>Maybe a problem with your IDE? I have no problem importing JpaRepository with your pom.xml.</p>\n<pre><code>import org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface Repo extends JpaRepository&lt;Long, Object&gt; {\n}\n</code></pre>\n"}],"owner":{"account_id":6573937,"reputation":63,"user_id":5080808,"display_name":"Debabrata Mukherjee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12036,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1690679301,"creation_date":1599802849,"question_id":63841351,"body_markdown":"I&#39;m using Spring tool suite version 4. I have created a new spring boot project. Pom.xml is given below:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3.3.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;StudentCRUD&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;StudentCRUD&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n            &lt;!-- &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;/dependency&gt; --&gt;\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n                &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;exclusions&gt;\r\n                    &lt;exclusion&gt;\r\n                        &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n                    &lt;/exclusion&gt;\r\n                &lt;/exclusions&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt; \r\n    \r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nI have created an entity class. No issue in that. But when I tried to create an interface extending the interface JpaRepository then the following import is not resolved:\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\n\r\nI have done maven update several times and have clean-built the project also but no change. It will be really helpful if somebody could guide where I have done mistake?","title":"The import org.springframework.data.jpa.repository.JpaRepository can&#39;t be resolved","body":"<p>I'm using Spring tool suite version 4. I have created a new spring boot project. Pom.xml is given below:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.3.3.RELEASE&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;StudentCRUD&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;StudentCRUD&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;!-- &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt; --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt; \n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I have created an entity class. No issue in that. But when I tried to create an interface extending the interface JpaRepository then the following import is not resolved:</p>\n<p>import org.springframework.data.jpa.repository.JpaRepository;</p>\n<p>I have done maven update several times and have clean-built the project also but no change. It will be really helpful if somebody could guide where I have done mistake?</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":3,"creation_date":1641484356,"post_id":70609782,"comment_id":124820451,"body_markdown":"You can simply use one project and three modules: 1 library with the common code and 2 applications using the library.","body":"You can simply use one project and three modules: 1 library with the common code and 2 applications using the library."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690679278,"creation_date":1641487918,"answer_id":70610663,"question_id":70609782,"body_markdown":"# Multi-module project\r\n\r\nAs [commented](https://stackoverflow.com/questions/70609782/how-do-i-divide-my-code-into-two-applications/70610663#comment124820451_70609782), you need a multi-module project. The content for each module is compiled separately, producing separate JAR files. \r\n\r\n[IntelliJ supports multi-module](https://www.jetbrains.com/help/idea/creating-and-managing-modules.html) projects.\r\n\r\nI recommend using a Java build management tool to assist. \r\n\r\n - [*Apache Maven*](https://de.wikipedia.org/wiki/Apache_Maven) is one such tool that [supports multiple modules](https://maven.apache.org/guides/mini/guide-multiple-modules.html). \r\n - [*Apache Gradle*][1] may be even better for multi-module projects.\r\n\r\n------------\r\n\r\nThe word “module” used here in this context should not be confused for the [*Java Platform Module System*](https://en.wikipedia.org/wiki/Java_Platform_Module_System). You may or may not choose to use Java modules in your project modules’ code. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Gradle","title":"How do I divide my code into two applications?","body":"<h1>Multi-module project</h1>\n<p>As <a href=\"https://stackoverflow.com/questions/70609782/how-do-i-divide-my-code-into-two-applications/70610663#comment124820451_70609782\">commented</a>, you need a multi-module project. The content for each module is compiled separately, producing separate JAR files.</p>\n<p><a href=\"https://www.jetbrains.com/help/idea/creating-and-managing-modules.html\" rel=\"nofollow noreferrer\">IntelliJ supports multi-module</a> projects.</p>\n<p>I recommend using a Java build management tool to assist.</p>\n<ul>\n<li><a href=\"https://de.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\"><em>Apache Maven</em></a> is one such tool that <a href=\"https://maven.apache.org/guides/mini/guide-multiple-modules.html\" rel=\"nofollow noreferrer\">supports multiple modules</a>.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Gradle\" rel=\"nofollow noreferrer\"><em>Apache Gradle</em></a> may be even better for multi-module projects.</li>\n</ul>\n<hr />\n<p>The word “module” used here in this context should not be confused for the <a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"nofollow noreferrer\"><em>Java Platform Module System</em></a>. You may or may not choose to use Java modules in your project modules’ code.</p>\n"},{"tags":[],"owner":{"account_id":326318,"reputation":7188,"user_id":648026,"accept_rate":79,"display_name":"JavaSheriff"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641571054,"creation_date":1641571054,"answer_id":70623910,"question_id":70609782,"body_markdown":"I suggest rest web service interface to export the logic data..\r\n\r\nSpringBoot web application can consume the rest services  \r\nand the other a desktop application can consume the rest services  \r\n\r\n\r\n    ONE REST SERVICE LAYER\r\n    --------------------------------------\r\n     |                 |\r\n    Desktop app,     SpringBoot web application\r\n\r\n\r\nthis way to don&#39;t duplicate your code and bugs twice.","title":"How do I divide my code into two applications?","body":"<p>I suggest rest web service interface to export the logic data..</p>\n<p>SpringBoot web application can consume the rest services<br />\nand the other a desktop application can consume the rest services</p>\n<pre><code>ONE REST SERVICE LAYER\n--------------------------------------\n |                 |\nDesktop app,     SpringBoot web application\n</code></pre>\n<p>this way to don't duplicate your code and bugs twice.</p>\n"}],"owner":{"account_id":21987292,"reputation":26,"user_id":16261329,"display_name":"Ivanuil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70610663,"answer_count":2,"score":0,"last_activity_date":1690679278,"creation_date":1641484197,"question_id":70609782,"body_markdown":"I have a few java classes, holding my application&#39;s logic. Now I want to create two applications, one will be a SpringBoot web application and another one will be a desktop application. Both of them will use logic, that I already wrote.\r\nI see only one way to do it: compiling logic classes into a `.jar` file and then putting it as a library into two Idea projects. But if I update any of this code, I will have to recompile it into jar and then replace an old jar with a new one in both projects.\r\n\r\n 1. Is there another, more simple way two divide my code into two projects?\r\n 2. What should I do with Git/GitHub?\r\n\r\nP.S.\r\nMy project is in java, I use Intellij IDEA, GitHub.","title":"How do I divide my code into two applications?","body":"<p>I have a few java classes, holding my application's logic. Now I want to create two applications, one will be a SpringBoot web application and another one will be a desktop application. Both of them will use logic, that I already wrote.\nI see only one way to do it: compiling logic classes into a <code>.jar</code> file and then putting it as a library into two Idea projects. But if I update any of this code, I will have to recompile it into jar and then replace an old jar with a new one in both projects.</p>\n<ol>\n<li>Is there another, more simple way two divide my code into two projects?</li>\n<li>What should I do with Git/GitHub?</li>\n</ol>\n<p>P.S.\nMy project is in java, I use Intellij IDEA, GitHub.</p>\n"},{"tags":["java","spring-boot","aop","aspectj","spring-aop"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":1,"creation_date":1690613274,"post_id":76792104,"comment_id":135380654,"body_markdown":"Hello and welcome. I guess this is the correct syntax: `@Before(&quot;validatePointCut()&quot;)`","body":"Hello and welcome. I guess this is the correct syntax: <code>@Before(&quot;validatePointCut()&quot;)</code>"}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690678896,"creation_date":1690678896,"answer_id":76795981,"question_id":76792104,"body_markdown":"The reason is that [`@Before`](https://github.com/eclipse-aspectj/aspectj/blob/master/runtime/src/main/java/org/aspectj/lang/annotation/Before.java#L28-L31) only knows the default parameter name `value`for the pointcut expression, while [`@AfterReturning`](https://github.com/eclipse-aspectj/aspectj/blob/master/runtime/src/main/java/org/aspectj/lang/annotation/AfterReturning.java#L28-L36) defines an additional alias `pointcut` for it.\r\n\r\nI.e., for `@Before` you can write any of\r\n  * `@Before(&quot;validatePointCut()&quot;)`,\r\n  * `@Before(value = &quot;validatePointCut()&quot;)`,\r\n\r\nwhile for `@AfterReturning` you can write any of\r\n  * `@AfterReturning(&quot;validatePointCut()&quot;)`,\r\n  * `@AfterReturning(value = &quot;validatePointCut()&quot;)`,\r\n  * `@AfterReturning(pointcut = &quot;validatePointCut()&quot;)`.\r\n\r\nI recommend you to learn how to use the features of your IDE to be able find out about the APIs you use right from the code editor, while typing your program.","title":"@Before doesn&#39;t allow pointcut reference, why?","body":"<p>The reason is that <a href=\"https://github.com/eclipse-aspectj/aspectj/blob/master/runtime/src/main/java/org/aspectj/lang/annotation/Before.java#L28-L31\" rel=\"nofollow noreferrer\"><code>@Before</code></a> only knows the default parameter name <code>value</code>for the pointcut expression, while <a href=\"https://github.com/eclipse-aspectj/aspectj/blob/master/runtime/src/main/java/org/aspectj/lang/annotation/AfterReturning.java#L28-L36\" rel=\"nofollow noreferrer\"><code>@AfterReturning</code></a> defines an additional alias <code>pointcut</code> for it.</p>\n<p>I.e., for <code>@Before</code> you can write any of</p>\n<ul>\n<li><code>@Before(&quot;validatePointCut()&quot;)</code>,</li>\n<li><code>@Before(value = &quot;validatePointCut()&quot;)</code>,</li>\n</ul>\n<p>while for <code>@AfterReturning</code> you can write any of</p>\n<ul>\n<li><code>@AfterReturning(&quot;validatePointCut()&quot;)</code>,</li>\n<li><code>@AfterReturning(value = &quot;validatePointCut()&quot;)</code>,</li>\n<li><code>@AfterReturning(pointcut = &quot;validatePointCut()&quot;)</code>.</li>\n</ul>\n<p>I recommend you to learn how to use the features of your IDE to be able find out about the APIs you use right from the code editor, while typing your program.</p>\n"}],"owner":{"account_id":29115180,"reputation":13,"user_id":22304034,"display_name":"Kurian Kevin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76795981,"answer_count":1,"score":0,"last_activity_date":1690678896,"creation_date":1690606646,"question_id":76792104,"body_markdown":"I can do \r\n\r\n```\r\n    @Pointcut(&quot;@annotation(com.learning.validation.Validate)&quot;)\r\n    public void validatePointCut() {\r\n    }\r\n\r\n    @AfterReturning(pointcut = &quot;validatePointCut()&quot;)\r\n    public void validate(JoinPoint joinPoint) {\r\n    // some code\r\n    }\r\n```\r\nbut i cannot do\r\n```\r\n    @Pointcut(&quot;@annotation(com.learning.validation.Validate)&quot;)\r\n    public void validatePointCut() {\r\n    }\r\n\r\n    @Before(pointcut = &quot;validatePointCut()&quot;)\r\n    public void validate(JoinPoint joinPoint) {\r\n    // some code\r\n    }\r\n```\r\ni have to do\r\n```\r\n    @Before(&quot;@annotation(com.learning.validation.Validate)&quot;)\r\n    public void validate(JoinPoint joinPoint) {\r\n    // some code\r\n    }\r\n```\r\n\r\n\r\ni was hopping to use @Before same as @AfterReturning,\r\ni am using Spring Boot 3.x and Spring AOP\r\nam i missing something or is this how it should work\r\n","title":"@Before doesn&#39;t allow pointcut reference, why?","body":"<p>I can do</p>\n<pre><code>    @Pointcut(&quot;@annotation(com.learning.validation.Validate)&quot;)\n    public void validatePointCut() {\n    }\n\n    @AfterReturning(pointcut = &quot;validatePointCut()&quot;)\n    public void validate(JoinPoint joinPoint) {\n    // some code\n    }\n</code></pre>\n<p>but i cannot do</p>\n<pre><code>    @Pointcut(&quot;@annotation(com.learning.validation.Validate)&quot;)\n    public void validatePointCut() {\n    }\n\n    @Before(pointcut = &quot;validatePointCut()&quot;)\n    public void validate(JoinPoint joinPoint) {\n    // some code\n    }\n</code></pre>\n<p>i have to do</p>\n<pre><code>    @Before(&quot;@annotation(com.learning.validation.Validate)&quot;)\n    public void validate(JoinPoint joinPoint) {\n    // some code\n    }\n</code></pre>\n<p>i was hopping to use @Before same as @AfterReturning,\ni am using Spring Boot 3.x and Spring AOP\nam i missing something or is this how it should work</p>\n"},{"tags":["java","spring","generics","type-erasure"],"answers":[{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1690677775,"creation_date":1689569777,"answer_id":76701585,"question_id":76701522,"body_markdown":"As discussed in [a answer](https://stackoverflow.com/a/65651991/1108305) to Stack Overflow question https://stackoverflow.com/q/65651242/1108305, generic type information of fields is reflectively available in Java.  This is also true of method/constructor parameters.  This explains how Spring can know that a particular generic type is required.\r\n\r\nAdditionally, bean definitions are often done via concrete classes or bean methods.  Both of these cases retain their type information at compile time.  This explains how Spring can know what the specific generic type of a bean is.\r\n\r\nPutting these two together explains how Spring is able to fail when no bean matching a specific generic signature exists.\r\n\r\n# Example\r\n\r\nTo make it concrete, I&#39;m going to give an example.  Let&#39;s say we have the following generic class:\r\n\r\n```lang-java\r\npublic class GenericBean&lt;T&gt; {\r\n}\r\n```\r\n\r\nHere are two bean definitions, one which is defined as a bean by using the `@Service` annotation on a subclass, and one by using `@Bean` within a `Configuration` class:\r\n\r\n```lang-java\r\n@Service\r\npublic class GenericBeanService extends GenericBean&lt;Integer&gt; {\r\n}\r\n```\r\n\r\n```lang-java\r\n@Configuration\r\npublic class GenericBeanConfig {\r\n    @Bean\r\n    public GenericBean&lt;String&gt; genericBean() {\r\n        return new GenericBean&lt;&gt;();\r\n    }\r\n}\r\n```\r\n\r\nIn both of these cases, the generic type information of these beans is available at runtime using reflection.  This means that Spring can use reflection to determine the specific generic types of the beans:\r\n\r\n```lang-java\r\n// GenericBean&lt;String&gt;\r\nGenericBeanConfig.class.getMethod(&quot;genericBean&quot;).getGenericReturnType();\r\n\r\n// GenericBean&lt;Integer&gt;\r\nGenericBeanService.class.getGenericSuperclass();\r\n```\r\n\r\nHere is an autowired class that uses the generic beans:\r\n\r\n```lang-java\r\n@Service\r\npublic class AutowiredClass {\r\n    @Autowired private GenericBean&lt;String&gt; stringBean;\r\n    @Autowired private GenericBean&lt;Integer&gt; integerBean;\r\n}\r\n```\r\n\r\nHere too, the generic type information of the autowired fields is available at runtime using reflection.  This means that Spring can use reflection to determine the specific generic types of the beans:\r\n\r\n```lang-java\r\n// GenericBean&lt;String&gt;\r\nAutowiredClass.class.getDeclaredField(&quot;stringBean&quot;).getGenericType()\r\n\r\n// GenericBean&lt;Integer&gt;\r\nAutowiredClass.class.getDeclaredField(&quot;integerBean&quot;).getGenericType()\r\n```\r\n\r\nSince Spring can determine via reflection the generic types of the beans, and the types of the autowired properties, it can therefore correctly assign beans based on their generics.","title":"How is Spring able to see type arguments at runtime? What about the whole type erasure thing?","body":"<p>As discussed in <a href=\"https://stackoverflow.com/a/65651991/1108305\">a answer</a> to Stack Overflow question <a href=\"https://stackoverflow.com/q/65651242/1108305\">Why is this generic type information for member field not erased in Java?</a>, generic type information of fields is reflectively available in Java.  This is also true of method/constructor parameters.  This explains how Spring can know that a particular generic type is required.</p>\n<p>Additionally, bean definitions are often done via concrete classes or bean methods.  Both of these cases retain their type information at compile time.  This explains how Spring can know what the specific generic type of a bean is.</p>\n<p>Putting these two together explains how Spring is able to fail when no bean matching a specific generic signature exists.</p>\n<h1>Example</h1>\n<p>To make it concrete, I'm going to give an example.  Let's say we have the following generic class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GenericBean&lt;T&gt; {\n}\n</code></pre>\n<p>Here are two bean definitions, one which is defined as a bean by using the <code>@Service</code> annotation on a subclass, and one by using <code>@Bean</code> within a <code>Configuration</code> class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class GenericBeanService extends GenericBean&lt;Integer&gt; {\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\npublic class GenericBeanConfig {\n    @Bean\n    public GenericBean&lt;String&gt; genericBean() {\n        return new GenericBean&lt;&gt;();\n    }\n}\n</code></pre>\n<p>In both of these cases, the generic type information of these beans is available at runtime using reflection.  This means that Spring can use reflection to determine the specific generic types of the beans:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// GenericBean&lt;String&gt;\nGenericBeanConfig.class.getMethod(&quot;genericBean&quot;).getGenericReturnType();\n\n// GenericBean&lt;Integer&gt;\nGenericBeanService.class.getGenericSuperclass();\n</code></pre>\n<p>Here is an autowired class that uses the generic beans:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class AutowiredClass {\n    @Autowired private GenericBean&lt;String&gt; stringBean;\n    @Autowired private GenericBean&lt;Integer&gt; integerBean;\n}\n</code></pre>\n<p>Here too, the generic type information of the autowired fields is available at runtime using reflection.  This means that Spring can use reflection to determine the specific generic types of the beans:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// GenericBean&lt;String&gt;\nAutowiredClass.class.getDeclaredField(&quot;stringBean&quot;).getGenericType()\n\n// GenericBean&lt;Integer&gt;\nAutowiredClass.class.getDeclaredField(&quot;integerBean&quot;).getGenericType()\n</code></pre>\n<p>Since Spring can determine via reflection the generic types of the beans, and the types of the autowired properties, it can therefore correctly assign beans based on their generics.</p>\n"},{"tags":[],"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689571852,"creation_date":1689571852,"answer_id":76701695,"question_id":76701522,"body_markdown":"&gt; Aren&#39;t type arguments supposed to be erased by runtime?\r\n\r\nIt is correct for class instances, but not for classes themselves. Classes keep information about their type parameters as well as their fields and methods. For example, in this code\r\n```\r\n    void foo(){\r\n      List&lt;String&gt; list = new ArrayList&lt;String&gt;();\r\n      Class&lt;?&gt; listClass = list.getClass();\r\n    }\r\n```\r\n`list` instance is not aware at runtime of its actual type parameter value `String`, but its class `ArrayList` (and interface `List`) **is** aware of owning a type parameter, declared as `E` or `T` (though actually type parameter *name* might still be erased, only bounds matter). It&#39;s fact of &quot;projection&quot; of type parameter into actual type `String` is erased, not the fact of existence of type param itself.\r\n\r\nIn same manner, declared class fields and methods also keep their type parameters, either actual or type variables. Even better in this case, as actual parameter values are stored. So, when you write something like this\r\n```\r\n    // inside Spring component\r\n    @Autowired\r\n    private List&lt;String&gt; listOfStrings;\r\n```\r\nSpring is able to detect that there is a field named `listOfStrings` that needs to be autowired and it expects something compatible with `List&lt;String&gt;`. So, Spring is totally able to determine what is expected on the consuming end.\r\n\r\nOn the other end, you normally register beans with `@Bean` or `@Component` annotations (or derived). And again, these are attached to methods or classes that **do** keep their type information.\r\n\r\nAnd even when beans are added programmatically, there are still options to provide type information explicitly through [GenericApplicationContext.registerBean()][1], [BeanDefinition][2] and [ResolvableType][3].\r\n\r\nUltimately, on both ends there are ways to provide type information, and Spring does great job to connecting bean providers and consumers.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/support/GenericApplicationContext.html#registerBean(java.lang.Class,org.springframework.beans.factory.config.BeanDefinitionCustomizer...)\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/config/BeanDefinition.html\r\n  [3]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/ResolvableType.html","title":"How is Spring able to see type arguments at runtime? What about the whole type erasure thing?","body":"<blockquote>\n<p>Aren't type arguments supposed to be erased by runtime?</p>\n</blockquote>\n<p>It is correct for class instances, but not for classes themselves. Classes keep information about their type parameters as well as their fields and methods. For example, in this code</p>\n<pre><code>    void foo(){\n      List&lt;String&gt; list = new ArrayList&lt;String&gt;();\n      Class&lt;?&gt; listClass = list.getClass();\n    }\n</code></pre>\n<p><code>list</code> instance is not aware at runtime of its actual type parameter value <code>String</code>, but its class <code>ArrayList</code> (and interface <code>List</code>) <strong>is</strong> aware of owning a type parameter, declared as <code>E</code> or <code>T</code> (though actually type parameter <em>name</em> might still be erased, only bounds matter). It's fact of &quot;projection&quot; of type parameter into actual type <code>String</code> is erased, not the fact of existence of type param itself.</p>\n<p>In same manner, declared class fields and methods also keep their type parameters, either actual or type variables. Even better in this case, as actual parameter values are stored. So, when you write something like this</p>\n<pre><code>    // inside Spring component\n    @Autowired\n    private List&lt;String&gt; listOfStrings;\n</code></pre>\n<p>Spring is able to detect that there is a field named <code>listOfStrings</code> that needs to be autowired and it expects something compatible with <code>List&lt;String&gt;</code>. So, Spring is totally able to determine what is expected on the consuming end.</p>\n<p>On the other end, you normally register beans with <code>@Bean</code> or <code>@Component</code> annotations (or derived). And again, these are attached to methods or classes that <strong>do</strong> keep their type information.</p>\n<p>And even when beans are added programmatically, there are still options to provide type information explicitly through <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/support/GenericApplicationContext.html#registerBean(java.lang.Class,org.springframework.beans.factory.config.BeanDefinitionCustomizer...)\" rel=\"nofollow noreferrer\">GenericApplicationContext.registerBean()</a>, <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/beans/factory/config/BeanDefinition.html\" rel=\"nofollow noreferrer\">BeanDefinition</a> and <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/core/ResolvableType.html\" rel=\"nofollow noreferrer\">ResolvableType</a>.</p>\n<p>Ultimately, on both ends there are ways to provide type information, and Spring does great job to connecting bean providers and consumers.</p>\n"}],"owner":{"account_id":28965224,"reputation":321,"user_id":22186847,"display_name":"JoreJoh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1690677775,"creation_date":1689568759,"question_id":76701522,"body_markdown":"I don&#39;t understand how it is possible to see exception messages like this one\r\n```\r\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;java.util.List&lt;java.lang.String&gt;&#39; available\r\n```\r\nAren&#39;t type arguments supposed to be erased by runtime? How can things like `&lt;java.lang.String&gt;` survive compilation (as we know, exceptions occur during runtime)? What kind of supernatural ability does Spring possess?\r\n\r\n[This question](https://stackoverflow.com/questions/45802927/java-generics-is-any-meta-information-about-the-generic-type-preserved-at-runt) is similar, but none of the two most-upvoted answers answer my question exactly\r\n* *GhostCat again on strike* says the fact that a class is generic (not what its actual type is) is preserved, can be retrieved\r\n* *yshavit* says you can obtain a *superclass&#39;s* generic type through reflexion","title":"How is Spring able to see type arguments at runtime? What about the whole type erasure thing?","body":"<p>I don't understand how it is possible to see exception messages like this one</p>\n<pre><code>Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'java.util.List&lt;java.lang.String&gt;' available\n</code></pre>\n<p>Aren't type arguments supposed to be erased by runtime? How can things like <code>&lt;java.lang.String&gt;</code> survive compilation (as we know, exceptions occur during runtime)? What kind of supernatural ability does Spring possess?</p>\n<p><a href=\"https://stackoverflow.com/questions/45802927/java-generics-is-any-meta-information-about-the-generic-type-preserved-at-runt\">This question</a> is similar, but none of the two most-upvoted answers answer my question exactly</p>\n<ul>\n<li><em>GhostCat again on strike</em> says the fact that a class is generic (not what its actual type is) is preserved, can be retrieved</li>\n<li><em>yshavit</em> says you can obtain a <em>superclass's</em> generic type through reflexion</li>\n</ul>\n"},{"tags":["java","reflection"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":3,"creation_date":1690641224,"post_id":76794027,"comment_id":135383480,"body_markdown":"Are you intentionally trying to set it with a different logger? Do those two loggers share a common interface?","body":"Are you intentionally trying to set it with a different logger? Do those two loggers share a common interface?"},{"owner":{"account_id":4249527,"reputation":194,"user_id":3477071,"accept_rate":75,"display_name":"user3477071"},"score":0,"creation_date":1690644225,"post_id":76794027,"comment_id":135383831,"body_markdown":"You are right, they are not the same interface as I had thought.","body":"You are right, they are not the same interface as I had thought."},{"owner":{"account_id":1888781,"reputation":2007,"user_id":1707427,"display_name":"S&#246;ren"},"score":0,"creation_date":1690669212,"post_id":76794027,"comment_id":135386359,"body_markdown":"Did you mean to link to https://docs.spring.io/spring-framework/docs/5.2.20.RELEASE/javadoc-api/org/springframework/test/util/ReflectionTestUtils.html#setField-java.lang.Class-java.lang.String-java.lang.Object- ?","body":"Did you mean to link to <a href=\"https://docs.spring.io/spring-framework/docs/5.2.20.RELEASE/javadoc-api/org/springframework/test/util/ReflectionTestUtils.html#setField-java.lang.Class-java.lang.String-java.lang.Object-\" rel=\"nofollow noreferrer\">docs.spring.io/spring-framework/docs/5.2.20.RELEASE/javadoc-&zwnj;&#8203;api/&hellip;</a> ?"},{"owner":{"account_id":4249527,"reputation":194,"user_id":3477071,"accept_rate":75,"display_name":"user3477071"},"score":0,"creation_date":1690677668,"post_id":76794027,"comment_id":135386915,"body_markdown":"Yes, thanks for pointing it out, I have edited the question with right link","body":"Yes, thanks for pointing it out, I have edited the question with right link"}],"answers":[{"tags":[],"owner":{"account_id":29117804,"reputation":46,"user_id":22306134,"display_name":"M127"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690643237,"creation_date":1690643237,"answer_id":76794170,"question_id":76794027,"body_markdown":"Since the IllegalArgumentException is thrown by `java.lang.reflect.Field.set` according to the stack trace, the [javadoc for Field.set][1] can be consulted as to the reason.\r\n\r\nIt states:\r\n&gt; IllegalArgumentException - if the specified object is not an instance of the class or interface declaring the underlying field (or a subclass or implementor thereof), or if an unwrapping conversion fails.\r\n\r\nComparing your provided App and AppTest classes reveals that AppTest imports `org.apache.logging.log4j.core.Logger` whereas App imports `org.slf4j.Logger`\r\n\r\nSince you are trying to inject a mock of the logger, change the first import in AppTest to `org.slf4j.logger`.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Field.html?#set-java.lang.Object-java.lang.Object-","title":"Attempt to change static non final field throws IllegalArgument Exception","body":"<p>Since the IllegalArgumentException is thrown by <code>java.lang.reflect.Field.set</code> according to the stack trace, the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/reflect/Field.html?#set-java.lang.Object-java.lang.Object-\" rel=\"nofollow noreferrer\">javadoc for Field.set</a> can be consulted as to the reason.</p>\n<p>It states:</p>\n<blockquote>\n<p>IllegalArgumentException - if the specified object is not an instance of the class or interface declaring the underlying field (or a subclass or implementor thereof), or if an unwrapping conversion fails.</p>\n</blockquote>\n<p>Comparing your provided App and AppTest classes reveals that AppTest imports <code>org.apache.logging.log4j.core.Logger</code> whereas App imports <code>org.slf4j.Logger</code></p>\n<p>Since you are trying to inject a mock of the logger, change the first import in AppTest to <code>org.slf4j.logger</code>.</p>\n"}],"owner":{"account_id":4249527,"reputation":194,"user_id":3477071,"accept_rate":75,"display_name":"user3477071"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76794170,"answer_count":1,"score":2,"last_activity_date":1690677629,"creation_date":1690641072,"question_id":76794027,"body_markdown":"\r\nClass that has private static non final field\r\n\r\n    package sample;\r\n    \r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    \r\n    public class App {\r\n       private static Logger logger = LoggerFactory.getLogger(App.class);\r\n    \r\n       public void doSomething() {\r\n          logger.error(&quot;Cannot do something&quot;);\r\n       }\r\n    }\r\n\r\n\r\nAttempt to set this field through reflection \r\n\r\n    package sample;\r\n    \r\n    import org.apache.logging.log4j.core.Logger;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.test.util.ReflectionTestUtils;\r\n    \r\n    import static org.mockito.Mockito.mock;\r\n    \r\n    public class AppTest {\r\n    \r\n        @Test\r\n        public void doSomething() throws Exception {\r\n            App app = new App();\r\n    \r\n            Logger mockedLogger = mock(Logger.class);\r\n    \r\n            ReflectionTestUtils.setField(App.class, &quot;logger&quot;, mockedLogger);\r\n        }\r\n    }\r\n\r\nresults in IllegalArgumentException\r\n\r\n    Can not set static org.slf4j.Logger field sample.App.logger to org.apache.logging.log4j.core.Logger$MockitoMock$1185285221\r\n    java.lang.IllegalArgumentException: Can not set static org.slf4j.Logger field sample.App.logger to org.apache.logging.log4j.core.Logger$MockitoMock$1185285221\r\n    \tat sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:167)\r\n    \tat sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:171)\r\n    \tat sun.reflect.UnsafeStaticObjectFieldAccessorImpl.set(UnsafeStaticObjectFieldAccessorImpl.java:79)\r\n    \tat java.lang.reflect.Field.set(Field.java:764)\r\n    \tat org.springframework.util.ReflectionUtils.setField(ReflectionUtils.java:633)\r\n\r\nAccording to JavaDocs of invoked method\r\n\r\n&gt; https://docs.spring.io/spring-framework/docs/5.2.20.RELEASE/javadoc-api/org/springframework/test/util/ReflectionTestUtils.html#setField-java.lang.Class-java.lang.String-java.lang.Object-\r\n\r\n&gt; Set the static field with the given name on the provided targetClass\r\n&gt; to the supplied value.\r\n\r\nsetting static field is supported.","title":"Attempt to change static non final field throws IllegalArgument Exception","body":"<p>Class that has private static non final field</p>\n<pre><code>package sample;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\npublic class App {\n   private static Logger logger = LoggerFactory.getLogger(App.class);\n\n   public void doSomething() {\n      logger.error(&quot;Cannot do something&quot;);\n   }\n}\n</code></pre>\n<p>Attempt to set this field through reflection</p>\n<pre><code>package sample;\n\nimport org.apache.logging.log4j.core.Logger;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.test.util.ReflectionTestUtils;\n\nimport static org.mockito.Mockito.mock;\n\npublic class AppTest {\n\n    @Test\n    public void doSomething() throws Exception {\n        App app = new App();\n\n        Logger mockedLogger = mock(Logger.class);\n\n        ReflectionTestUtils.setField(App.class, &quot;logger&quot;, mockedLogger);\n    }\n}\n</code></pre>\n<p>results in IllegalArgumentException</p>\n<pre><code>Can not set static org.slf4j.Logger field sample.App.logger to org.apache.logging.log4j.core.Logger$MockitoMock$1185285221\njava.lang.IllegalArgumentException: Can not set static org.slf4j.Logger field sample.App.logger to org.apache.logging.log4j.core.Logger$MockitoMock$1185285221\n    at sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:167)\n    at sun.reflect.UnsafeFieldAccessorImpl.throwSetIllegalArgumentException(UnsafeFieldAccessorImpl.java:171)\n    at sun.reflect.UnsafeStaticObjectFieldAccessorImpl.set(UnsafeStaticObjectFieldAccessorImpl.java:79)\n    at java.lang.reflect.Field.set(Field.java:764)\n    at org.springframework.util.ReflectionUtils.setField(ReflectionUtils.java:633)\n</code></pre>\n<p>According to JavaDocs of invoked method</p>\n<blockquote>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/5.2.20.RELEASE/javadoc-api/org/springframework/test/util/ReflectionTestUtils.html#setField-java.lang.Class-java.lang.String-java.lang.Object-\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/5.2.20.RELEASE/javadoc-api/org/springframework/test/util/ReflectionTestUtils.html#setField-java.lang.Class-java.lang.String-java.lang.Object-</a></p>\n</blockquote>\n<blockquote>\n<p>Set the static field with the given name on the provided targetClass\nto the supplied value.</p>\n</blockquote>\n<p>setting static field is supported.</p>\n"},{"tags":["java","docker"],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690676027,"creation_date":1690676027,"answer_id":76795900,"question_id":76795840,"body_markdown":"You’re thinking of the [`jstat`](https://docs.oracle.com/en/java/javase/11/tools/jstat.html) command:\r\n\r\n    jstat -class vmid \r\n\r\n","title":"How to print the number of java classes loaded in the JVM of an instance?","body":"<p>You’re thinking of the <a href=\"https://docs.oracle.com/en/java/javase/11/tools/jstat.html\" rel=\"nofollow noreferrer\"><code>jstat</code></a> command:</p>\n<pre><code>jstat -class vmid \n</code></pre>\n"}],"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690676027,"creation_date":1690674414,"question_id":76795840,"body_markdown":"I believe there is a command to check the number of java classes loaded on an instance.\r\n\r\nI have tried with top -H, jstack.\r\n\r\nBut they dont print the number of classes loaded, is there a way to check this by a console command?","title":"How to print the number of java classes loaded in the JVM of an instance?","body":"<p>I believe there is a command to check the number of java classes loaded on an instance.</p>\n<p>I have tried with top -H, jstack.</p>\n<p>But they dont print the number of classes loaded, is there a way to check this by a console command?</p>\n"},{"tags":["java","spring","spring-boot","hateoas"],"answers":[{"tags":[],"owner":{"account_id":5195924,"reputation":180,"user_id":4157239,"display_name":"xdevx32"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1690674006,"creation_date":1570057296,"answer_id":58210364,"question_id":58210124,"body_markdown":"Take a look at the console output after running your application. If you have no run-time exceptions, then you should easily find the credentials. By default the username is `user` and the password is always different and therefore generated from the system.\r\n\r\nFor more clarity, the login page comes with this dependency:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\nAlso, if you want to set some values for the credentials, then go to the `application.properties` file and add those two lines:\r\n\r\n    spring.security.user.name=&lt;your/username&gt;\r\n    spring.security.user.password=&lt;your/password&gt;\r\n\r\n","title":"What are Spring Security default credentials for Spring Boot?","body":"<p>Take a look at the console output after running your application. If you have no run-time exceptions, then you should easily find the credentials. By default the username is <code>user</code> and the password is always different and therefore generated from the system.</p>\n<p>For more clarity, the login page comes with this dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Also, if you want to set some values for the credentials, then go to the <code>application.properties</code> file and add those two lines:</p>\n<pre><code>spring.security.user.name=&lt;your/username&gt;\nspring.security.user.password=&lt;your/password&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19239662,"reputation":91,"user_id":14059912,"display_name":"Sayf"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1663673262,"creation_date":1663673262,"answer_id":73785954,"question_id":58210124,"body_markdown":"Default username is `user`\r\n\r\npassword can be found in the console when you run your application.\r\n\r\nexample:\r\n\r\n    Using generated security password: 18ea5687-bc63-4663-9377-e2817c9d2568\r\n\r\nIf you want to set them yourself you can do so by overriding the defaults in `application.properties`: \r\n\r\n    spring.security.user.name=stack\r\n    spring.security.user.password=overflow","title":"What are Spring Security default credentials for Spring Boot?","body":"<p>Default username is <code>user</code></p>\n<p>password can be found in the console when you run your application.</p>\n<p>example:</p>\n<pre><code>Using generated security password: 18ea5687-bc63-4663-9377-e2817c9d2568\n</code></pre>\n<p>If you want to set them yourself you can do so by overriding the defaults in <code>application.properties</code>:</p>\n<pre><code>spring.security.user.name=stack\nspring.security.user.password=overflow\n</code></pre>\n"}],"owner":{"account_id":1603367,"reputation":1627,"user_id":1483978,"accept_rate":100,"display_name":"Israelm"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5605,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":58210364,"answer_count":2,"score":2,"last_activity_date":1690674103,"creation_date":1570055372,"question_id":58210124,"body_markdown":"I am working with `Spring Boot` and I am using `spring-data-rest-hal-browser`, everything seems to be fine, except when i try to hit the URL: `http://localhost:8080` I get redirected to `http://localhost:8080/login` to use the HAL browser to navigate my endpoint, then I get a screen requesting for a user and a password that I don&#39;t have. \r\n\r\nWhat are the default credentials to login to spring security and how can I change them or disable the login option? \r\n\r\nThis is the dependency I am using: \r\n\r\n```xml\r\n&lt;dependency&gt;\r\n &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n &lt;artifactId&gt;spring-data-rest-hal-browser&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\nAnd this is the login screen:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/44CBf.jpg","title":"What are Spring Security default credentials for Spring Boot?","body":"<p>I am working with <code>Spring Boot</code> and I am using <code>spring-data-rest-hal-browser</code>, everything seems to be fine, except when i try to hit the URL: <code>http://localhost:8080</code> I get redirected to <code>http://localhost:8080/login</code> to use the HAL browser to navigate my endpoint, then I get a screen requesting for a user and a password that I don't have.</p>\n<p>What are the default credentials to login to spring security and how can I change them or disable the login option?</p>\n<p>This is the dependency I am using:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n &lt;artifactId&gt;spring-data-rest-hal-browser&lt;/artifactId&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And this is the login screen:</p>\n<p><a href=\"https://i.stack.imgur.com/44CBf.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/44CBf.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","mysql","performance","hibernate","batch-processing"],"comments":[{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1690483543,"post_id":76772060,"comment_id":135363980,"body_markdown":"Is `id` `AUTO_INCREMENT`?  If not, how do you set the value?","body":"Is <code>id</code> <code>AUTO_INCREMENT</code>?  If not, how do you set the value?"},{"owner":{"account_id":5901943,"reputation":79,"user_id":4645165,"display_name":"lasbr"},"score":0,"creation_date":1690558168,"post_id":76772060,"comment_id":135375264,"body_markdown":"@RickJames I use `@Id\n@GeneratedValue(strategy = GenerationType.TABLE)\n`. I am aware that the `IDENTITY` does not work with batch inserts.","body":"@RickJames I use <code>@Id @GeneratedValue(strategy = GenerationType.TABLE) </code>. I am aware that the <code>IDENTITY</code> does not work with batch inserts."},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1690570416,"post_id":76772060,"comment_id":135377345,"body_markdown":"MySQL is happy to use `AUTO_INCREMENT` on batches.  But it pre-allocates all the new ids before starting to do the inserts.  So, if any row fails to be inserted (or the whole batch fails), some id(s) are &quot;burned&quot;.  This is surprising to users, but &quot;not-a-bug&quot;.","body":"MySQL is happy to use <code>AUTO_INCREMENT</code> on batches.  But it pre-allocates all the new ids before starting to do the inserts.  So, if any row fails to be inserted (or the whole batch fails), some id(s) are &quot;burned&quot;.  This is surprising to users, but &quot;not-a-bug&quot;."},{"owner":{"account_id":5901943,"reputation":79,"user_id":4645165,"display_name":"lasbr"},"score":0,"creation_date":1690626395,"post_id":76772060,"comment_id":135381827,"body_markdown":"@RickJames Ah ok, I see. The thing is that after the batch insert the database shows all the booking entries that should be inserted, which means that everything &quot;works correct&quot;. Its just that other inserts afterwards are really slow","body":"@RickJames Ah ok, I see. The thing is that after the batch insert the database shows all the booking entries that should be inserted, which means that everything &quot;works correct&quot;. Its just that other inserts afterwards are really slow"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1690649702,"post_id":76772060,"comment_id":135384401,"body_markdown":"Explain &quot;other inserts are slow&quot; -- Inserts into the same table at the &quot;same&quot; time&quot;?  Into other tables?  With big, complex, Selects also going on in the background?  Deleting rows at the &quot;same time&quot;?  Other?","body":"Explain &quot;other inserts are slow&quot; -- Inserts into the same table at the &quot;same&quot; time&quot;?  Into other tables?  With big, complex, Selects also going on in the background?  Deleting rows at the &quot;same time&quot;?  Other?"},{"owner":{"account_id":5901943,"reputation":79,"user_id":4645165,"display_name":"lasbr"},"score":0,"creation_date":1690655385,"post_id":76772060,"comment_id":135385009,"body_markdown":"Simple inserts into any table (not using native queries but the entity manager) after the batch insert. The batch insert fully finishes. At least the entities are in the database and the queries appear in the log. Something from the batch insert seems to slow other inserts afterwards. Thats the only problem I have at all","body":"Simple inserts into any table (not using native queries but the entity manager) after the batch insert. The batch insert fully finishes. At least the entities are in the database and the queries appear in the log. Something from the batch insert seems to slow other inserts afterwards. Thats the only problem I have at all"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1690698574,"post_id":76772060,"comment_id":135387953,"body_markdown":"&quot;update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?&quot; -- Is that bumping up by 1 or by 20?","body":"&quot;update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?&quot; -- Is that bumping up by 1 or by 20?"},{"owner":{"account_id":5901943,"reputation":79,"user_id":4645165,"display_name":"lasbr"},"score":0,"creation_date":1690729491,"post_id":76772060,"comment_id":135390858,"body_markdown":"There are 20 of those. One for each insert statement","body":"There are 20 of those. One for each insert statement"},{"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"score":0,"creation_date":1690730784,"post_id":76772060,"comment_id":135391010,"body_markdown":"But it seems to _triple_ the number of statements relative to using `AUTO_INCREMENT`.  Also that 3-step operation should be inside a transaction.","body":"But it seems to <i>triple</i> the number of statements relative to using <code>AUTO_INCREMENT</code>.  Also that 3-step operation should be inside a transaction."}],"answers":[{"tags":[],"owner":{"account_id":529143,"reputation":136619,"user_id":1766831,"display_name":"Rick James"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690484298,"creation_date":1690390541,"answer_id":76773498,"question_id":76772060,"body_markdown":"Multi-threading is likely to be counter-productive because of needing multiple connections.  (&quot;Connection pooling&quot; addresses a different issue.)\r\n\r\nA batch should be between 100 and 1000 items.  More than that gets into &quot;diminishing returns&quot; and may encounter other things (big buffers, etc) that may slow it down.\r\n\r\nFor further discussion, please provide `SHOW CREATE TABLE` and a sample of the batched query.\r\n\r\n**More**\r\n\r\n47 columns is a lot.  Consider breaking out things like &quot;booking&quot; and its associated columns; discount/cost/credit/etc info; some of the &quot;attributes&quot;; clumps of things that are often NULL; etc.\r\n\r\n&quot;the budget of each booking is the same&quot; -- sounds like this is an excellent case for breaking the booking stuff into another table.\r\n\r\n12 columns are `BIGINT` (8 bytes each); probably none need to be any bigger than `INT` (4 bytes, max +/-2 billion).  This is only a small issue, but shrinking the data _may_ help avoid the conflicts.\r\n\r\nLet&#39;s see a sample `INSERT`.  (You can anonymize any sensitive data.)\r\n\r\n","title":"Hibernate Batch Insert slows down other inserts afterwards","body":"<p>Multi-threading is likely to be counter-productive because of needing multiple connections.  (&quot;Connection pooling&quot; addresses a different issue.)</p>\n<p>A batch should be between 100 and 1000 items.  More than that gets into &quot;diminishing returns&quot; and may encounter other things (big buffers, etc) that may slow it down.</p>\n<p>For further discussion, please provide <code>SHOW CREATE TABLE</code> and a sample of the batched query.</p>\n<p><strong>More</strong></p>\n<p>47 columns is a lot.  Consider breaking out things like &quot;booking&quot; and its associated columns; discount/cost/credit/etc info; some of the &quot;attributes&quot;; clumps of things that are often NULL; etc.</p>\n<p>&quot;the budget of each booking is the same&quot; -- sounds like this is an excellent case for breaking the booking stuff into another table.</p>\n<p>12 columns are <code>BIGINT</code> (8 bytes each); probably none need to be any bigger than <code>INT</code> (4 bytes, max +/-2 billion).  This is only a small issue, but shrinking the data <em>may</em> help avoid the conflicts.</p>\n<p>Let's see a sample <code>INSERT</code>.  (You can anonymize any sensitive data.)</p>\n"}],"owner":{"account_id":5901943,"reputation":79,"user_id":4645165,"display_name":"lasbr"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690672552,"creation_date":1690379711,"question_id":76772060,"body_markdown":"I am using `Hibernate 5.2.5.Final` and the following code for a batch insert of a few thousand bookings where the budget of each booking is the same and already existed in the DB before the insert:\r\n\r\n\r\n    public List&lt;Long&gt; batchInsertBookings(List&lt;Booking&gt; bookings, String resource) {\r\n      List&lt;Long&gt; generatedIds = new ArrayList&lt;&gt;();\r\n      router.setDataSource(resource);\r\n    \r\n      try (StatelessSession statelessSession = em.unwrap(Session.class).getSessionFactory().openStatelessSession()) {\r\n        int batchSize = 20;\r\n        int numberOfEntities = bookings.size();\r\n        UserTransaction userTransaction = (UserTransaction) new InitialContext().lookup(&quot;java:comp/UserTransaction&quot;);\r\n        userTransaction.begin();\r\n    \r\n        for (int i = 0; i &lt; numberOfEntities; i += batchSize) {\r\n          int endIndex = Math.min(i + batchSize, numberOfEntities);\r\n          List&lt;Booking&gt; batch = bookings.subList(i, endIndex);\r\n    \r\n          // Save the batch data\r\n          for (Booking entity : batch) {\r\n            statelessSession.insert(entity);\r\n          }\r\n    \r\n          // Retrieve the generated IDs after flush\r\n          List&lt;Long&gt; batchIds = batch.stream()\r\n                  .map(IObject::getId)\r\n                  .collect(Collectors.toList());\r\n          generatedIds.addAll(batchIds);\r\n        }\r\n          userTransaction.commit();\r\n        } catch (Exception e) {\r\n          Log.debug(e.getMessage(), getClass().getName());\r\n        }\r\n        return generatedIds;\r\n      }\r\n\r\nThe insert-method is called in a new thread since the batch insert should happen in the background. The batch insert finishes after a reasonable amount of time and the bookings appear in the database. Other than that no further log entries regard the batch insert. After the batch insert one can still use the backend and the fetch operations for data are still comparably fast to before the insert. Although now, if I insert another entity (f.e. with an elementcollection or associations) the insert does not really finish. This regards the main thread as well as the new thread I created for the batch insert. An example for an insert I perform after the batch insert is the insert of a `ChangeLog`-entity with an element collection `diff` of strings, where there is a string for each of the thousands of bookings (which worked really fast before). Here the logs are as follows:\r\n\r\n    2023-07-26 14:51:49 [DEBUG] org.hibernate.SQL insert into diff_REV (REVTYPE, REVEND, REVEND_TSTMP, REV, changeLog_id, diff) values (?, ?, ?, ?, ?, ?)\r\n    2023-07-26 14:51:49 [DEBUG] o.h.e.j.b.i.BatchingBatch Executing batch size: 1\r\n    2023-07-26 14:51:49 [DEBUG] org.hibernate.SQL select diff_rev0_.REV as REV1_57_, diff_rev0_.changeLog_id as changeL2_57_, diff_rev0_.diff as diff3_57_, diff_rev0_.REVTYPE as REVTYPE4_57_, diff_rev0_.REVEND as REVEND5_57_, diff_rev0_.REVEND_TSTMP as REVEND_T6_57_ from diff_REV diff_rev0_ where diff_rev0_.changeLog_id=? and diff_rev0_.diff=? and (diff_rev0_.REVEND is null) for update\r\n    2023-07-26 14:51:50 [DEBUG] org.hibernate.SQL insert into diff_REV (REVTYPE, REVEND, REVEND_TSTMP, REV, changeLog_id, diff) values (?, ?, ?, ?, ?, ?)\r\n    2023-07-26 14:51:50 [DEBUG] o.h.e.j.b.i.BatchingBatch Executing batch size: 1\r\n    2023-07-26 14:51:50 [DEBUG] org.hibernate.SQL select diff_rev0_.REV as REV1_57_, diff_rev0_.changeLog_id as changeL2_57_, diff_rev0_.diff as diff3_57_, diff_rev0_.REVTYPE as REVTYPE4_57_, diff_rev0_.REVEND as REVEND5_57_, diff_rev0_.REVEND_TSTMP as REVEND_T6_57_ from diff_REV diff_rev0_ where diff_rev0_.changeLog_id=? and diff_rev0_.diff=? and (diff_rev0_.REVEND is null) for update\r\n    2023-07-26 14:51:51 [DEBUG] org.hibernate.SQL insert into diff_REV (REVTYPE, REVEND, REVEND_TSTMP, REV, changeLog_id, diff) values (?, ?, ?, ?, ?, ?)\r\n    2023-07-26 14:51:51 [DEBUG] o.h.e.j.b.i.BatchingBatch Executing batch size: 1\r\n    2023-07-26 14:51:51 [DEBUG] org.hibernate.SQL select diff_rev0_.REV as REV1_57_, diff_rev0_.changeLog_id as changeL2_57_, diff_rev0_.diff as diff3_57_, diff_rev0_.REVTYPE as REVTYPE4_57_, diff_rev0_.REVEND as REVEND5_57_, diff_rev0_.REVEND_TSTMP as REVEND_T6_57_ from diff_REV diff_rev0_ where diff_rev0_.changeLog_id=? and diff_rev0_.diff=? and (diff_rev0_.REVEND is null) for update\r\n\r\nwhere we can see that for each string element in the element collection it takes 1 second to persist, which is definetly not normal, since if I dont do the batch insert and still persist such an entity it persists the full entity in a short time.\r\n\r\nIt is worth noticing that my Booking entity is associated to a lot of other enties (where for example `Account` has a good amount of other associations). The most nested are:\r\n\r\n    1 Account   (account)      &lt;-&gt;  (mainBudget) Budget 0..1\r\n    0..1 Budget (parentBudget) &lt;-&gt;  (subBudget) Budget *\r\n    1 Budget (budget) &lt;-&gt; (bookings) Booking *\r\n\r\nAn example for a `OneToMany`- and a `ManyToOne`-mapping for the associations looks like this:\r\n\r\nIn `Booking.java`:\r\n\r\n    @ManyToOne(fetch=FetchType.LAZY, optional= false)\r\n    @JoinColumn(name=&quot;budget_id&quot;)\r\n    @BatchSize(size = 50)\r\n    private Budget budget;\r\nIn `Budget.java`:\r\n\r\n    @OneToMany(targetEntity = Booking.class, mappedBy = &quot;budget&quot;)\r\n    @Fetch(value = FetchMode.SUBSELECT)\r\n    private List&lt;Booking&gt; booking; \r\n\r\nWhat I noticed is that if I batch insert an entity which has no associations the insert after the batch inserts seem to work. I don&#39;t understand why this problem occurs and neither in the performance nor in the query logs I can find why. The query log only shows the queries which are to expect - i.e. batch inserts for the bookings and then after that the ChangeLog inserting as shown above.\r\n\r\nWhat I tried so far:\r\n\r\n 1. I added the `@BatchSize`-annotations to all associations since it\r\n    should be a [solution for the N+1 queries problem][1] if it occurs\r\n    in my case.\r\n 2. I added connection pooling (as can be seen in my `persistence.xml` below)\r\n 3. I used different methods to batch insert. The one I posted here is using a stateless sessions. I also tried using mehtod with a normal session with a custom transaction and another one with `@Transactional` and the `EntityManager` doing all the session work and getting flushed and cleared, or just flushed, after each batch.\r\n 4. I rebuilt the booking entity without the nested associations above (with just a simple one), which is how I found out, that it works faster then.\r\n 5. I fully fetched the bookings before inserting them (in case lazy loading is the issue), although I did not unproxy the accounts, since they are always subclasses and there is some problem with unproxying them and then reassigning them to the entity. It is also notable that if I don&#39;t load the level 1 associations for the booking before the insert I get a `LazyInitializationException`.\r\n 6. I commented out the `ChangeLog` persisting and let the new thread finish, although later the same problem with inserting also occurs in the main thread of the application.\r\n 7. I did everything without the ConnectionPooling at first, neither way it worked.\r\n 8. I removed all `Cascading`, but it should and did not matter since the budget entity for the booking already existed in the database before the insert.\r\n\r\nMy `persistence.xml` for batch inserting and connection pooling looks like this:\r\n\r\n      &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:mysql://localhost:3306/testdb&quot;/&gt;\r\n      &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:mysql://localhost:3306/testdb?rewriteBatchedStatements=true&quot;/&gt;\r\n      &lt;property name=&quot;hibernate.connection.username&quot; value=&quot;admin&quot;/&gt;\r\n      &lt;property name=&quot;hibernate.connection.password&quot; value=&quot;pass&quot;/&gt;\r\n      &lt;property name=&quot;hibernate.jdbc.batch_size&quot; value=&quot;20&quot;/&gt;\r\n      &lt;property name=&quot;hibernate.order_inserts&quot; value=&quot;true&quot;/&gt;\r\n      &lt;property name=&quot;hibernate.order_updates&quot; value=&quot;true&quot;/&gt;\r\n      &lt;property name=&quot;hibernate.jdbc.batch_versioned_data&quot; value=&quot;true&quot; /&gt;\r\n      &lt;property name=&quot;hibernate.generate_statistics&quot; value=&quot;true&quot;/&gt;\r\n      &lt;property name=&quot;hibernate.default_batch_fetch_size&quot; value=&quot;20&quot;/&gt;\r\n      &lt;property name=&quot;hibernate.connection.provider_class&quot; value=&quot;com.zaxxer.hikari.hibernate.HikariConnectionProvider&quot;/&gt;\r\n      &lt;property name=&quot;hibernate.hikari.dataSourceClassName&quot; value=&quot;com.mysql.cj.jdbc.MysqlDataSource&quot;/&gt;\r\n      &lt;property name=&quot;hibernate.hikari.dataSource.url&quot; value=&quot;jdbc:mysql://localhost:3306/testdb&quot;/&gt;\r\n      &lt;property name=&quot;hibernate.hikari.dataSource.user&quot; value=&quot;admin&quot;/&gt;\r\n      &lt;property name=&quot;hibernate.hikari.dataSource.password&quot; value=&quot;pass&quot;/&gt;\r\n      &lt;property name=&quot;hibernate.hikari.maximumPoolSize&quot; value=&quot;10&quot;/&gt;\r\n\r\nand I log the following (if you have better ways of logging more relevant data please also let me know):\r\n\r\n      &lt;logger name=&quot;org.hibernate.SQL&quot; level=&quot;DEBUG&quot; /&gt;\r\n      &lt;logger name=&quot;org.hibernate.engine.jdbc.batch.internal.BatchingBatch&quot; level=&quot;DEBUG&quot; /&gt;\r\n      &lt;logger name=&quot;org.hibernate.engine.internal.StatisticalLoggingSessionEventListener&quot; level=&quot;info&quot;/&gt;\r\n\r\nWhy could this happen? \r\n\r\nInformation for answer from @Rick James:\r\n\r\nThose are the SQL Queries for one batch of bookings.\r\n\r\n    2023-07-27 11:24:05 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for update\r\n    2023-07-27 11:24:05 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?\r\n    2023-07-27 11:24:05 [DEBUG] org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, &#39;PlainBooking&#39;, ?)\r\n    2023-07-27 11:24:05 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for updatePlain\r\n    2023-07-27 11:24:05 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?Plain\r\n    2023-07-27 11:24:05 [DEBUG] org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, &#39;PlainBooking&#39;, ?)\r\n    \r\n    ... 17*3 more of the same rows here (i.e. one batch of 20 selects, updates and inserts)\r\n    \r\n    2023-07-27 11:24:05 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for updatePlain\r\n    2023-07-27 11:24:05 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?Plain\r\n    2023-07-27 11:24:05 [DEBUG] org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, &#39;PlainBooking&#39;, ?)\r\n    2023-07-27 11:24:05 [DEBUG] o.h.e.j.b.i.BatchingBatch Executing batch size: 20\r\n\r\nThe `SHOW CREATE TABLE Booking` statement gives the following output. It is to note here, that there are different types of bookings (depending on the `DTYPE`) with different type of attributes. I renamed all the irrelevant attributes to `someAttributeX`. I.e. the entities that I am trying to persist which are referred to here as `PlainBooking` do not have these attributes.\r\n\r\n    &#39;Booking&#39;, &#39;CREATE TABLE `Booking` (\r\n    `DTYPE` varchar(31) NOT NULL,\r\n    `id` bigint NOT NULL,\r\n    `changeDate` datetime DEFAULT NULL,\r\n    `moneyValue` bigint NOT NULL,\r\n    `text` varchar(255) DEFAULT NULL,\r\n    `date` datetime DEFAULT NULL,\r\n    `isActive` bit(1) NOT NULL,\r\n    `debitor` varchar(255) DEFAULT NULL,\r\n    `someOtherAttribute1` bigint DEFAULT NULL,\r\n    `someOtherAttribute2` bigint DEFAULT NULL,\r\n    `someOtherAttribute3` bigint DEFAULT NULL,\r\n    `project` varchar(255) DEFAULT NULL,\r\n    `someOtherAttribute4` datetime DEFAULT NULL,\r\n    `someOtherAttribute5` varchar(255) DEFAULT NULL,\r\n    `status` int DEFAULT NULL,\r\n    `someOtherAttribute6` datetime DEFAULT NULL,\r\n    `dateOfCompensation` datetime DEFAULT NULL,\r\n    `type` varchar(255) DEFAULT NULL,\r\n    `receiptDate` datetime DEFAULT NULL,\r\n    `area` varchar(255) DEFAULT NULL,\r\n    `originalMoneyValue` bigint DEFAULT NULL,\r\n    `dateOfBooking` datetime DEFAULT NULL,\r\n    `manualChanges` bit(1) DEFAULT NULL,\r\n    `recorder` varchar(255) DEFAULT NULL,\r\n    `dateOfRecording` datetime DEFAULT NULL,\r\n    `yearOfBusiness` datetime DEFAULT NULL,\r\n    `targetDiscount` bigint DEFAULT NULL,\r\n    `costType` varchar(255) DEFAULT NULL,\r\n    `creditor` varchar(255) DEFAULT NULL,\r\n    `reference` varchar(255) DEFAULT NULL,\r\n    `discount` bigint DEFAULT NULL,\r\n    `tax` bigint DEFAULT NULL,\r\n    `stkz` varchar(255) DEFAULT NULL,\r\n    `cancelationNumber` varchar(255) DEFAULT NULL,\r\n    `paymentReason` varchar(255) DEFAULT NULL,\r\n    `someOtherAttribute7` datetime DEFAULT NULL,\r\n    `someOtherAttribute8` varchar(255) DEFAULT NULL,\r\n    `someOtherAttribute9` varchar(255) DEFAULT NULL,\r\n    `someOtherAttribute10` int DEFAULT NULL,\r\n    `someOtherAttribute11` bit(1) DEFAULT NULL,\r\n    `someOtherAttribute12` varchar(255) DEFAULT NULL,\r\n    `someOtherAttribute13` varchar(255) DEFAULT NULL,\r\n    `someOtherAttribute14` datetime DEFAULT NULL,\r\n    `budget_id` bigint NOT NULL,\r\n    `someOtherAssociation_id` bigint DEFAULT NULL,\r\n    `reason_id` bigint DEFAULT NULL,\r\n    PRIMARY KEY (`id`),\r\n    KEY `FK2acd5rbfcfpxoy64in0keam4q` (`budget_id`),\r\n    KEY `FKm5a1xte805xlbr4t36glj1mq2` (`someOtherAssociation_id`),\r\n    KEY `FKlj3hrmasc3m12pyt2k9sqie5j` (`reason_id`),\r\n    CONSTRAINT `FK2acd5rbfcfpxoy64in0keam4q` FOREIGN KEY (`budget_id`) REFERENCES `Budget` (`id`),\r\n    CONSTRAINT `FKlj3hrmasc3m12pyt2k9sqie5j` FOREIGN KEY (`reason_id`) REFERENCES `Reason` (`id`),\r\n    CONSTRAINT `FKm5a1xte805xlbr4t36glj1mq2` FOREIGN KEY (`someOtherAssociation_id`) REFERENCES `SomeOtherAssociation` (`id`)\r\n    ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci&#39;\r\n\r\nA single insert:\r\n\r\n    2023-07-29 14:48:44 [DEBUG] org.hibernate.SQL insert into Booking_REV (REVTYPE, REVEND, REVEND_TSTMP, changeDate, changeDate_MOD, moneyValue, moneyValue_MOD, text, text_MOD, date, date_MOD, isActive, isActive_MOD, budget_id, budget_MOD, labels_MOD, dateOfCompensation, dateOfCompensation_MOD, type, type_MOD, receiptDate, receiptDate_MOD, area, area_MOD, originalMoneyValue, originalMoneyValue_MOD, dateOfBooking, dateOfBooking_MOD, manualChanges, manualChanges_MOD, recorder, recorder_MOD, dateOfRecording, dateOfRecording_MOD, yearOfBusiness, yearOfBusiness_MOD, targetDiscount, targetDiscount_MOD, costType, costType_MOD, creditor, creditor_MOD, project, creditor_MOD, reference, reference_MOD, discount, discount_MOD, status, status_MOD, tax, tax_MOD, stkz, stkz_MOD, cancelationNumber, cancelationNumber_MOD, paymentReason, paymentReason_MOD, orderNumber_MOD, reason_id, reason_MOD, receiptNumbers_MOD, accountString_MOD, DTYPE, id, REV) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, &#39;PlainBooking&#39;, ?, ?)\r\n    \r\nLogging `org.hibernate` on `DEBUG` level for batch insert:\r\n    \r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for update\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?\r\n    2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction resumed [org.apache.geronimo.transaction.manager.TransactionImpl@243dfe80]\r\n    2023-07-30 00:49:29 [DEBUG] o.h.e.j.b.i.AbstractBatchImpl Reusing batch statement\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, &#39;PlainBooking&#39;, ?)\r\n    ... 19*3 more of the same lines\r\n    2023-07-30 00:49:29 [DEBUG] o.h.e.j.b.i.BatchingBatch Executing batch size: 20\r\n    2023-07-30 00:49:29 [DEBUG] o.h.r.j.i.LogicalConnectionManagedImpl Initiating JDBC connection release from afterTransaction\r\n    2023-07-30 00:49:29 [DEBUG] o.h.e.j.i.JdbcCoordinatorImpl HHH000420: Closing un-released batch\r\n    2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction suspended [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for update\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?\r\n    2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction resumed [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, &#39;PlainBooking&#39;, ?)\r\n    2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaTransactionCoordinatorImpl Hibernate RegisteredSynchronization successfully registered with JTA platform\r\n    2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction suspended [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for update\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?\r\n    2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction resumed [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\r\n    2023-07-30 00:49:29 [DEBUG] o.h.e.j.b.i.AbstractBatchImpl Reusing batch statement\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, &#39;PlainBooking&#39;, ?)\r\n    2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction suspended [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for update\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?\r\n    2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction resumed [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\r\n    2023-07-30 00:49:29 [DEBUG] o.h.e.j.b.i.AbstractBatchImpl Reusing batch statement\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, &#39;PlainBooking&#39;, ?)\r\n    2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction suspended [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for update\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?\r\n    2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction resumed [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\r\n    2023-07-30 00:49:29 [DEBUG] o.h.e.j.b.i.AbstractBatchImpl Reusing batch statement\r\n    2023-07-30 00:49:29 [DEBUG]org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, &#39;PlainBooking&#39;, ?)\r\n    2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction suspended [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for update\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?\r\n    2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction resumed [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\r\n    2023-07-30 00:49:29 [DEBUG] o.h.e.j.b.i.AbstractBatchImpl Reusing batch statement\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, &#39;PlainBooking&#39;, ?)\r\n    2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction suspended [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for update\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?\r\n    2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction resumed [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\r\n    2023-07-30 00:49:29 [DEBUG] o.h.e.j.b.i.AbstractBatchImpl Reusing batch statement\r\n    2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, &#39;PlainBooking&#39;, ?)\r\n    2023-07-30 00:49:29 [DEBUG] o.h.e.j.b.i.BatchingBatch Executing batch size: 6\r\n    2023-07-30 00:49:29 [DEBUG] o.h.r.j.i.LogicalConnectionManagedImpl Initiating JDBC connection release from afterTransaction\r\n    2023-07-30 00:49:29 [DEBUG] o.h.e.j.i.JdbcCoordinatorImpl HHH000420: Closing un-released batch\r\n\r\n  [1]: https://hackernoon.com/3-ways-to-deal-with-hibernate-n1-problem\r\n","title":"Hibernate Batch Insert slows down other inserts afterwards","body":"<p>I am using <code>Hibernate 5.2.5.Final</code> and the following code for a batch insert of a few thousand bookings where the budget of each booking is the same and already existed in the DB before the insert:</p>\n<pre><code>public List&lt;Long&gt; batchInsertBookings(List&lt;Booking&gt; bookings, String resource) {\n  List&lt;Long&gt; generatedIds = new ArrayList&lt;&gt;();\n  router.setDataSource(resource);\n\n  try (StatelessSession statelessSession = em.unwrap(Session.class).getSessionFactory().openStatelessSession()) {\n    int batchSize = 20;\n    int numberOfEntities = bookings.size();\n    UserTransaction userTransaction = (UserTransaction) new InitialContext().lookup(&quot;java:comp/UserTransaction&quot;);\n    userTransaction.begin();\n\n    for (int i = 0; i &lt; numberOfEntities; i += batchSize) {\n      int endIndex = Math.min(i + batchSize, numberOfEntities);\n      List&lt;Booking&gt; batch = bookings.subList(i, endIndex);\n\n      // Save the batch data\n      for (Booking entity : batch) {\n        statelessSession.insert(entity);\n      }\n\n      // Retrieve the generated IDs after flush\n      List&lt;Long&gt; batchIds = batch.stream()\n              .map(IObject::getId)\n              .collect(Collectors.toList());\n      generatedIds.addAll(batchIds);\n    }\n      userTransaction.commit();\n    } catch (Exception e) {\n      Log.debug(e.getMessage(), getClass().getName());\n    }\n    return generatedIds;\n  }\n</code></pre>\n<p>The insert-method is called in a new thread since the batch insert should happen in the background. The batch insert finishes after a reasonable amount of time and the bookings appear in the database. Other than that no further log entries regard the batch insert. After the batch insert one can still use the backend and the fetch operations for data are still comparably fast to before the insert. Although now, if I insert another entity (f.e. with an elementcollection or associations) the insert does not really finish. This regards the main thread as well as the new thread I created for the batch insert. An example for an insert I perform after the batch insert is the insert of a <code>ChangeLog</code>-entity with an element collection <code>diff</code> of strings, where there is a string for each of the thousands of bookings (which worked really fast before). Here the logs are as follows:</p>\n<pre><code>2023-07-26 14:51:49 [DEBUG] org.hibernate.SQL insert into diff_REV (REVTYPE, REVEND, REVEND_TSTMP, REV, changeLog_id, diff) values (?, ?, ?, ?, ?, ?)\n2023-07-26 14:51:49 [DEBUG] o.h.e.j.b.i.BatchingBatch Executing batch size: 1\n2023-07-26 14:51:49 [DEBUG] org.hibernate.SQL select diff_rev0_.REV as REV1_57_, diff_rev0_.changeLog_id as changeL2_57_, diff_rev0_.diff as diff3_57_, diff_rev0_.REVTYPE as REVTYPE4_57_, diff_rev0_.REVEND as REVEND5_57_, diff_rev0_.REVEND_TSTMP as REVEND_T6_57_ from diff_REV diff_rev0_ where diff_rev0_.changeLog_id=? and diff_rev0_.diff=? and (diff_rev0_.REVEND is null) for update\n2023-07-26 14:51:50 [DEBUG] org.hibernate.SQL insert into diff_REV (REVTYPE, REVEND, REVEND_TSTMP, REV, changeLog_id, diff) values (?, ?, ?, ?, ?, ?)\n2023-07-26 14:51:50 [DEBUG] o.h.e.j.b.i.BatchingBatch Executing batch size: 1\n2023-07-26 14:51:50 [DEBUG] org.hibernate.SQL select diff_rev0_.REV as REV1_57_, diff_rev0_.changeLog_id as changeL2_57_, diff_rev0_.diff as diff3_57_, diff_rev0_.REVTYPE as REVTYPE4_57_, diff_rev0_.REVEND as REVEND5_57_, diff_rev0_.REVEND_TSTMP as REVEND_T6_57_ from diff_REV diff_rev0_ where diff_rev0_.changeLog_id=? and diff_rev0_.diff=? and (diff_rev0_.REVEND is null) for update\n2023-07-26 14:51:51 [DEBUG] org.hibernate.SQL insert into diff_REV (REVTYPE, REVEND, REVEND_TSTMP, REV, changeLog_id, diff) values (?, ?, ?, ?, ?, ?)\n2023-07-26 14:51:51 [DEBUG] o.h.e.j.b.i.BatchingBatch Executing batch size: 1\n2023-07-26 14:51:51 [DEBUG] org.hibernate.SQL select diff_rev0_.REV as REV1_57_, diff_rev0_.changeLog_id as changeL2_57_, diff_rev0_.diff as diff3_57_, diff_rev0_.REVTYPE as REVTYPE4_57_, diff_rev0_.REVEND as REVEND5_57_, diff_rev0_.REVEND_TSTMP as REVEND_T6_57_ from diff_REV diff_rev0_ where diff_rev0_.changeLog_id=? and diff_rev0_.diff=? and (diff_rev0_.REVEND is null) for update\n</code></pre>\n<p>where we can see that for each string element in the element collection it takes 1 second to persist, which is definetly not normal, since if I dont do the batch insert and still persist such an entity it persists the full entity in a short time.</p>\n<p>It is worth noticing that my Booking entity is associated to a lot of other enties (where for example <code>Account</code> has a good amount of other associations). The most nested are:</p>\n<pre><code>1 Account   (account)      &lt;-&gt;  (mainBudget) Budget 0..1\n0..1 Budget (parentBudget) &lt;-&gt;  (subBudget) Budget *\n1 Budget (budget) &lt;-&gt; (bookings) Booking *\n</code></pre>\n<p>An example for a <code>OneToMany</code>- and a <code>ManyToOne</code>-mapping for the associations looks like this:</p>\n<p>In <code>Booking.java</code>:</p>\n<pre><code>@ManyToOne(fetch=FetchType.LAZY, optional= false)\n@JoinColumn(name=&quot;budget_id&quot;)\n@BatchSize(size = 50)\nprivate Budget budget;\n</code></pre>\n<p>In <code>Budget.java</code>:</p>\n<pre><code>@OneToMany(targetEntity = Booking.class, mappedBy = &quot;budget&quot;)\n@Fetch(value = FetchMode.SUBSELECT)\nprivate List&lt;Booking&gt; booking; \n</code></pre>\n<p>What I noticed is that if I batch insert an entity which has no associations the insert after the batch inserts seem to work. I don't understand why this problem occurs and neither in the performance nor in the query logs I can find why. The query log only shows the queries which are to expect - i.e. batch inserts for the bookings and then after that the ChangeLog inserting as shown above.</p>\n<p>What I tried so far:</p>\n<ol>\n<li>I added the <code>@BatchSize</code>-annotations to all associations since it\nshould be a <a href=\"https://hackernoon.com/3-ways-to-deal-with-hibernate-n1-problem\" rel=\"nofollow noreferrer\">solution for the N+1 queries problem</a> if it occurs\nin my case.</li>\n<li>I added connection pooling (as can be seen in my <code>persistence.xml</code> below)</li>\n<li>I used different methods to batch insert. The one I posted here is using a stateless sessions. I also tried using mehtod with a normal session with a custom transaction and another one with <code>@Transactional</code> and the <code>EntityManager</code> doing all the session work and getting flushed and cleared, or just flushed, after each batch.</li>\n<li>I rebuilt the booking entity without the nested associations above (with just a simple one), which is how I found out, that it works faster then.</li>\n<li>I fully fetched the bookings before inserting them (in case lazy loading is the issue), although I did not unproxy the accounts, since they are always subclasses and there is some problem with unproxying them and then reassigning them to the entity. It is also notable that if I don't load the level 1 associations for the booking before the insert I get a <code>LazyInitializationException</code>.</li>\n<li>I commented out the <code>ChangeLog</code> persisting and let the new thread finish, although later the same problem with inserting also occurs in the main thread of the application.</li>\n<li>I did everything without the ConnectionPooling at first, neither way it worked.</li>\n<li>I removed all <code>Cascading</code>, but it should and did not matter since the budget entity for the booking already existed in the database before the insert.</li>\n</ol>\n<p>My <code>persistence.xml</code> for batch inserting and connection pooling looks like this:</p>\n<pre><code>  &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:mysql://localhost:3306/testdb&quot;/&gt;\n  &lt;property name=&quot;hibernate.connection.url&quot; value=&quot;jdbc:mysql://localhost:3306/testdb?rewriteBatchedStatements=true&quot;/&gt;\n  &lt;property name=&quot;hibernate.connection.username&quot; value=&quot;admin&quot;/&gt;\n  &lt;property name=&quot;hibernate.connection.password&quot; value=&quot;pass&quot;/&gt;\n  &lt;property name=&quot;hibernate.jdbc.batch_size&quot; value=&quot;20&quot;/&gt;\n  &lt;property name=&quot;hibernate.order_inserts&quot; value=&quot;true&quot;/&gt;\n  &lt;property name=&quot;hibernate.order_updates&quot; value=&quot;true&quot;/&gt;\n  &lt;property name=&quot;hibernate.jdbc.batch_versioned_data&quot; value=&quot;true&quot; /&gt;\n  &lt;property name=&quot;hibernate.generate_statistics&quot; value=&quot;true&quot;/&gt;\n  &lt;property name=&quot;hibernate.default_batch_fetch_size&quot; value=&quot;20&quot;/&gt;\n  &lt;property name=&quot;hibernate.connection.provider_class&quot; value=&quot;com.zaxxer.hikari.hibernate.HikariConnectionProvider&quot;/&gt;\n  &lt;property name=&quot;hibernate.hikari.dataSourceClassName&quot; value=&quot;com.mysql.cj.jdbc.MysqlDataSource&quot;/&gt;\n  &lt;property name=&quot;hibernate.hikari.dataSource.url&quot; value=&quot;jdbc:mysql://localhost:3306/testdb&quot;/&gt;\n  &lt;property name=&quot;hibernate.hikari.dataSource.user&quot; value=&quot;admin&quot;/&gt;\n  &lt;property name=&quot;hibernate.hikari.dataSource.password&quot; value=&quot;pass&quot;/&gt;\n  &lt;property name=&quot;hibernate.hikari.maximumPoolSize&quot; value=&quot;10&quot;/&gt;\n</code></pre>\n<p>and I log the following (if you have better ways of logging more relevant data please also let me know):</p>\n<pre><code>  &lt;logger name=&quot;org.hibernate.SQL&quot; level=&quot;DEBUG&quot; /&gt;\n  &lt;logger name=&quot;org.hibernate.engine.jdbc.batch.internal.BatchingBatch&quot; level=&quot;DEBUG&quot; /&gt;\n  &lt;logger name=&quot;org.hibernate.engine.internal.StatisticalLoggingSessionEventListener&quot; level=&quot;info&quot;/&gt;\n</code></pre>\n<p>Why could this happen?</p>\n<p>Information for answer from @Rick James:</p>\n<p>Those are the SQL Queries for one batch of bookings.</p>\n<pre><code>2023-07-27 11:24:05 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for update\n2023-07-27 11:24:05 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?\n2023-07-27 11:24:05 [DEBUG] org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, 'PlainBooking', ?)\n2023-07-27 11:24:05 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for updatePlain\n2023-07-27 11:24:05 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?Plain\n2023-07-27 11:24:05 [DEBUG] org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, 'PlainBooking', ?)\n\n... 17*3 more of the same rows here (i.e. one batch of 20 selects, updates and inserts)\n\n2023-07-27 11:24:05 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for updatePlain\n2023-07-27 11:24:05 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?Plain\n2023-07-27 11:24:05 [DEBUG] org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, 'PlainBooking', ?)\n2023-07-27 11:24:05 [DEBUG] o.h.e.j.b.i.BatchingBatch Executing batch size: 20\n</code></pre>\n<p>The <code>SHOW CREATE TABLE Booking</code> statement gives the following output. It is to note here, that there are different types of bookings (depending on the <code>DTYPE</code>) with different type of attributes. I renamed all the irrelevant attributes to <code>someAttributeX</code>. I.e. the entities that I am trying to persist which are referred to here as <code>PlainBooking</code> do not have these attributes.</p>\n<pre><code>'Booking', 'CREATE TABLE `Booking` (\n`DTYPE` varchar(31) NOT NULL,\n`id` bigint NOT NULL,\n`changeDate` datetime DEFAULT NULL,\n`moneyValue` bigint NOT NULL,\n`text` varchar(255) DEFAULT NULL,\n`date` datetime DEFAULT NULL,\n`isActive` bit(1) NOT NULL,\n`debitor` varchar(255) DEFAULT NULL,\n`someOtherAttribute1` bigint DEFAULT NULL,\n`someOtherAttribute2` bigint DEFAULT NULL,\n`someOtherAttribute3` bigint DEFAULT NULL,\n`project` varchar(255) DEFAULT NULL,\n`someOtherAttribute4` datetime DEFAULT NULL,\n`someOtherAttribute5` varchar(255) DEFAULT NULL,\n`status` int DEFAULT NULL,\n`someOtherAttribute6` datetime DEFAULT NULL,\n`dateOfCompensation` datetime DEFAULT NULL,\n`type` varchar(255) DEFAULT NULL,\n`receiptDate` datetime DEFAULT NULL,\n`area` varchar(255) DEFAULT NULL,\n`originalMoneyValue` bigint DEFAULT NULL,\n`dateOfBooking` datetime DEFAULT NULL,\n`manualChanges` bit(1) DEFAULT NULL,\n`recorder` varchar(255) DEFAULT NULL,\n`dateOfRecording` datetime DEFAULT NULL,\n`yearOfBusiness` datetime DEFAULT NULL,\n`targetDiscount` bigint DEFAULT NULL,\n`costType` varchar(255) DEFAULT NULL,\n`creditor` varchar(255) DEFAULT NULL,\n`reference` varchar(255) DEFAULT NULL,\n`discount` bigint DEFAULT NULL,\n`tax` bigint DEFAULT NULL,\n`stkz` varchar(255) DEFAULT NULL,\n`cancelationNumber` varchar(255) DEFAULT NULL,\n`paymentReason` varchar(255) DEFAULT NULL,\n`someOtherAttribute7` datetime DEFAULT NULL,\n`someOtherAttribute8` varchar(255) DEFAULT NULL,\n`someOtherAttribute9` varchar(255) DEFAULT NULL,\n`someOtherAttribute10` int DEFAULT NULL,\n`someOtherAttribute11` bit(1) DEFAULT NULL,\n`someOtherAttribute12` varchar(255) DEFAULT NULL,\n`someOtherAttribute13` varchar(255) DEFAULT NULL,\n`someOtherAttribute14` datetime DEFAULT NULL,\n`budget_id` bigint NOT NULL,\n`someOtherAssociation_id` bigint DEFAULT NULL,\n`reason_id` bigint DEFAULT NULL,\nPRIMARY KEY (`id`),\nKEY `FK2acd5rbfcfpxoy64in0keam4q` (`budget_id`),\nKEY `FKm5a1xte805xlbr4t36glj1mq2` (`someOtherAssociation_id`),\nKEY `FKlj3hrmasc3m12pyt2k9sqie5j` (`reason_id`),\nCONSTRAINT `FK2acd5rbfcfpxoy64in0keam4q` FOREIGN KEY (`budget_id`) REFERENCES `Budget` (`id`),\nCONSTRAINT `FKlj3hrmasc3m12pyt2k9sqie5j` FOREIGN KEY (`reason_id`) REFERENCES `Reason` (`id`),\nCONSTRAINT `FKm5a1xte805xlbr4t36glj1mq2` FOREIGN KEY (`someOtherAssociation_id`) REFERENCES `SomeOtherAssociation` (`id`)\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_0900_ai_ci'\n</code></pre>\n<p>A single insert:</p>\n<pre><code>2023-07-29 14:48:44 [DEBUG] org.hibernate.SQL insert into Booking_REV (REVTYPE, REVEND, REVEND_TSTMP, changeDate, changeDate_MOD, moneyValue, moneyValue_MOD, text, text_MOD, date, date_MOD, isActive, isActive_MOD, budget_id, budget_MOD, labels_MOD, dateOfCompensation, dateOfCompensation_MOD, type, type_MOD, receiptDate, receiptDate_MOD, area, area_MOD, originalMoneyValue, originalMoneyValue_MOD, dateOfBooking, dateOfBooking_MOD, manualChanges, manualChanges_MOD, recorder, recorder_MOD, dateOfRecording, dateOfRecording_MOD, yearOfBusiness, yearOfBusiness_MOD, targetDiscount, targetDiscount_MOD, costType, costType_MOD, creditor, creditor_MOD, project, creditor_MOD, reference, reference_MOD, discount, discount_MOD, status, status_MOD, tax, tax_MOD, stkz, stkz_MOD, cancelationNumber, cancelationNumber_MOD, paymentReason, paymentReason_MOD, orderNumber_MOD, reason_id, reason_MOD, receiptNumbers_MOD, accountString_MOD, DTYPE, id, REV) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, 'PlainBooking', ?, ?)\n</code></pre>\n<p>Logging <code>org.hibernate</code> on <code>DEBUG</code> level for batch insert:</p>\n<pre><code>2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for update\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?\n2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction resumed [org.apache.geronimo.transaction.manager.TransactionImpl@243dfe80]\n2023-07-30 00:49:29 [DEBUG] o.h.e.j.b.i.AbstractBatchImpl Reusing batch statement\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, 'PlainBooking', ?)\n... 19*3 more of the same lines\n2023-07-30 00:49:29 [DEBUG] o.h.e.j.b.i.BatchingBatch Executing batch size: 20\n2023-07-30 00:49:29 [DEBUG] o.h.r.j.i.LogicalConnectionManagedImpl Initiating JDBC connection release from afterTransaction\n2023-07-30 00:49:29 [DEBUG] o.h.e.j.i.JdbcCoordinatorImpl HHH000420: Closing un-released batch\n2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction suspended [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for update\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?\n2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction resumed [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, 'PlainBooking', ?)\n2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaTransactionCoordinatorImpl Hibernate RegisteredSynchronization successfully registered with JTA platform\n2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction suspended [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for update\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?\n2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction resumed [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\n2023-07-30 00:49:29 [DEBUG] o.h.e.j.b.i.AbstractBatchImpl Reusing batch statement\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, 'PlainBooking', ?)\n2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction suspended [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for update\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?\n2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction resumed [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\n2023-07-30 00:49:29 [DEBUG] o.h.e.j.b.i.AbstractBatchImpl Reusing batch statement\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, 'PlainBooking', ?)\n2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction suspended [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for update\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?\n2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction resumed [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\n2023-07-30 00:49:29 [DEBUG] o.h.e.j.b.i.AbstractBatchImpl Reusing batch statement\n2023-07-30 00:49:29 [DEBUG]org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, 'PlainBooking', ?)\n2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction suspended [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for update\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?\n2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction resumed [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\n2023-07-30 00:49:29 [DEBUG] o.h.e.j.b.i.AbstractBatchImpl Reusing batch statement\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, 'PlainBooking', ?)\n2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction suspended [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL select tbl.next_val from hibernate_sequences tbl where tbl.sequence_name=? for update\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL update hibernate_sequences set next_val=?  where next_val=? and sequence_name=?\n2023-07-30 00:49:29 [DEBUG] o.h.r.t.b.j.i.JtaIsolationDelegate Surrounding JTA transaction resumed [org.apache.geronimo.transaction.manager.TransactionImpl@64f0214a]\n2023-07-30 00:49:29 [DEBUG] o.h.e.j.b.i.AbstractBatchImpl Reusing batch statement\n2023-07-30 00:49:29 [DEBUG] org.hibernate.SQL insert into Booking (changeDate, moneyValue, text, budget_id, date, isActive, dateOfCompensation, reason_id, type, receiptDate, area, originalMoneyValue, dateOfBooking, manualChanges, recorder, dateOfRecording, yearOfBusiness, targetDiscount, costType, creditor, project, reference, discount, status, tax, stkz, cancelationNumber, paymentReason, DTYPE, id) values (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, 'PlainBooking', ?)\n2023-07-30 00:49:29 [DEBUG] o.h.e.j.b.i.BatchingBatch Executing batch size: 6\n2023-07-30 00:49:29 [DEBUG] o.h.r.j.i.LogicalConnectionManagedImpl Initiating JDBC connection release from afterTransaction\n2023-07-30 00:49:29 [DEBUG] o.h.e.j.i.JdbcCoordinatorImpl HHH000420: Closing un-released batch\n</code></pre>\n"},{"tags":["java","spring","spring-boot","module","get-request"],"answers":[{"tags":[],"owner":{"account_id":14402680,"reputation":312,"user_id":10403784,"display_name":"Vadim Yemelyanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690671401,"creation_date":1690671401,"answer_id":76795732,"question_id":76795337,"body_markdown":"When you imported **backend-module** to **front-end module** - you just added all entire codebase from backend to frontend, which means that **frontend will have its own @RestController and will run copy of that routes**. \r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf you want independency between FE and BE - you have to make it via REST API using [Feign][2] or other similar library. (FE will call HTTP call to BE)\r\n\r\n\r\n----------\r\n\r\n\r\nP.S\r\nYou can even create 3 module which will contain libraries and code for communication between services. \r\n\r\n\r\n----------\r\n\r\n\r\nP.P.S. If you use Vaadin - i would recommend to take a look at [Hilla.dev][3] by Vaadin. In by opinion its much more straightforward and native way of developing both FE and BE side. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/JbvNm.png\r\n  [2]: https://cloud.spring.io/spring-cloud-netflix/multi/multi_spring-cloud-feign.html\r\n  [3]: https://hilla.dev/","title":"Spring modules can use other module port","body":"<p>When you imported <strong>backend-module</strong> to <strong>front-end module</strong> - you just added all entire codebase from backend to frontend, which means that <strong>frontend will have its own @RestController and will run copy of that routes</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/JbvNm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JbvNm.png\" alt=\"enter image description here\" /></a></p>\n<p>If you want independency between FE and BE - you have to make it via REST API using <a href=\"https://cloud.spring.io/spring-cloud-netflix/multi/multi_spring-cloud-feign.html\" rel=\"nofollow noreferrer\">Feign</a> or other similar library. (FE will call HTTP call to BE)</p>\n<hr />\n<p>P.S\nYou can even create 3 module which will contain libraries and code for communication between services.</p>\n<hr />\n<p>P.P.S. If you use Vaadin - i would recommend to take a look at <a href=\"https://hilla.dev/\" rel=\"nofollow noreferrer\">Hilla.dev</a> by Vaadin. In by opinion its much more straightforward and native way of developing both FE and BE side.</p>\n"}],"owner":{"account_id":23419629,"reputation":81,"user_id":17480047,"display_name":"AleXeNoN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690671401,"creation_date":1690662121,"question_id":76795337,"body_markdown":"In my project I created two modules, frontend-module and backend-module, where frontend is responsible for user interface and backend for API and other stuff.\r\n\r\n```\r\nfrontend-module/\r\n└── src/\r\n    └── main/\r\n        └── java/\r\n            └── com/\r\n                └── example/\r\n                    └── application/\r\n                        ├── pages/\r\n                        ├── components/\r\n                        └── scripts/\r\n\r\nbackend-module/\r\n└── src/\r\n    └── main/\r\n        └── java/\r\n            └── com/\r\n                └── example/\r\n                    └── application/\r\n                        ├── controllers/\r\n                        ├── services/\r\n                        ├── repositories/\r\n                        ├── entities/\r\n                        └── dtos/\r\n```\r\n\r\nSo I set up ports for each module, where:&lt;br&gt;\r\n\r\n**Frontend**\r\n```\r\nserver.port=${PORT:3008}\r\n```\r\n**Backend** \r\n```\r\nserver.port=${PORT:8008}\r\n```\r\n\r\n---\r\nWhen I start application, I do start both modules `frontend` and `backend`, and this is what I found. For some reason, I can access `backend`&#39;s module API from `frontend` port. Another interesting thing that I can successfully run just frontend module without backend, and everything will work properly. So my question is, why this is happening and how can I prevent this. \r\n\r\n**Backend port**\r\n\r\n[![8008 port][1]][1]\r\n\r\n**Frontend port**\r\n\r\n[![3008 port][2]][2]\r\n\r\n\r\n\r\n---\r\n**Additional information**\r\n- Frontend module is dependent on backend module.\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    &lt;artifactId&gt;backend-module&lt;/artifactId&gt;\r\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    &lt;scope&gt;compile&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n- My perfect scenario is having independent API, and dependent front from backend. Where I can secure my API in a way and front on other way.\r\n- For this case, on accessing URL `localhost:3008/api/get` should give not found page\r\n- Template GitHub URL - https://github.com/Alexenon/SpringModules\r\n\r\n  [1]: https://i.stack.imgur.com/N7qeB.png\r\n  [2]: https://i.stack.imgur.com/ueLEH.png","title":"Spring modules can use other module port","body":"<p>In my project I created two modules, frontend-module and backend-module, where frontend is responsible for user interface and backend for API and other stuff.</p>\n<pre><code>frontend-module/\n└── src/\n    └── main/\n        └── java/\n            └── com/\n                └── example/\n                    └── application/\n                        ├── pages/\n                        ├── components/\n                        └── scripts/\n\nbackend-module/\n└── src/\n    └── main/\n        └── java/\n            └── com/\n                └── example/\n                    └── application/\n                        ├── controllers/\n                        ├── services/\n                        ├── repositories/\n                        ├── entities/\n                        └── dtos/\n</code></pre>\n<p>So I set up ports for each module, where:<br></p>\n<p><strong>Frontend</strong></p>\n<pre><code>server.port=${PORT:3008}\n</code></pre>\n<p><strong>Backend</strong></p>\n<pre><code>server.port=${PORT:8008}\n</code></pre>\n<hr />\n<p>When I start application, I do start both modules <code>frontend</code> and <code>backend</code>, and this is what I found. For some reason, I can access <code>backend</code>'s module API from <code>frontend</code> port. Another interesting thing that I can successfully run just frontend module without backend, and everything will work properly. So my question is, why this is happening and how can I prevent this.</p>\n<p><strong>Backend port</strong></p>\n<p><a href=\"https://i.stack.imgur.com/N7qeB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/N7qeB.png\" alt=\"8008 port\" /></a></p>\n<p><strong>Frontend port</strong></p>\n<p><a href=\"https://i.stack.imgur.com/ueLEH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ueLEH.png\" alt=\"3008 port\" /></a></p>\n<hr />\n<p><strong>Additional information</strong></p>\n<ul>\n<li>Frontend module is dependent on backend module.</li>\n</ul>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;backend-module&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<ul>\n<li>My perfect scenario is having independent API, and dependent front from backend. Where I can secure my API in a way and front on other way.</li>\n<li>For this case, on accessing URL <code>localhost:3008/api/get</code> should give not found page</li>\n<li>Template GitHub URL - <a href=\"https://github.com/Alexenon/SpringModules\" rel=\"nofollow noreferrer\">https://github.com/Alexenon/SpringModules</a></li>\n</ul>\n"},{"tags":["java","android","apiclient","android-api-31","fast-android-networking"],"owner":{"account_id":28419881,"reputation":1,"user_id":21742092,"display_name":"Prashant Agarwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690671081,"creation_date":1686940990,"question_id":76492849,"body_markdown":"I have been working on a project and using the fast android networking api. I have added the below dependency - ( implementation &#39;com.amitshekhar.android:android-networking:1.0.2&#39;) in the gradle module file and also added the internet permission in Android Manifesto File. Still Android Studio is not able to fetch the &quot;AndroidNetworking&quot; Class and it&#39;s giving it as red underlined.\r\n```\r\nGradle module\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    namespace &#39;com.example.apirequestusingfastandroidnetworking&#39;\r\n    compileSdk 33\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.example.apirequestusingfastandroidnetworking&quot;\r\n        minSdk 24\r\n        targetSdk 33\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.6.1&#39;\r\n    implementation &#39;com.amitshekhar.android:android-networking:1.0.2&#39;\r\n    implementation &#39;com.google.android.material:material:1.9.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.5&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.5.1&#39;\r\n}\r\n```\r\n\r\n```\r\npackage com.example.apirequestusingfastandroidnetworking;\r\n\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.os.Bundle;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        \r\n        String url= &quot;https://jsonplaceholder.typicode.com/users&quot;;  //using get api\r\n\r\n        AndroidNetworking.initialize(this);\r\n        AndroidNetworking.get(url);\r\n    }\r\n}\r\n```\r\n\r\n\r\nCan somebody tell me that what could be issue bcoz of which android id not fetching the &quot;AndroidNetworking&quot;.","title":"Error in using Fast Android Networking API in project","body":"<p>I have been working on a project and using the fast android networking api. I have added the below dependency - ( implementation 'com.amitshekhar.android:android-networking:1.0.2') in the gradle module file and also added the internet permission in Android Manifesto File. Still Android Studio is not able to fetch the &quot;AndroidNetworking&quot; Class and it's giving it as red underlined.</p>\n<pre><code>Gradle module\nplugins {\n    id 'com.android.application'\n}\n\nandroid {\n    namespace 'com.example.apirequestusingfastandroidnetworking'\n    compileSdk 33\n\n    defaultConfig {\n        applicationId &quot;com.example.apirequestusingfastandroidnetworking&quot;\n        minSdk 24\n        targetSdk 33\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.6.1'\n    implementation 'com.amitshekhar.android:android-networking:1.0.2'\n    implementation 'com.google.android.material:material:1.9.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.5'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.5.1'\n}\n</code></pre>\n<pre><code>package com.example.apirequestusingfastandroidnetworking;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        \n        String url= &quot;https://jsonplaceholder.typicode.com/users&quot;;  //using get api\n\n        AndroidNetworking.initialize(this);\n        AndroidNetworking.get(url);\n    }\n}\n</code></pre>\n<p>Can somebody tell me that what could be issue bcoz of which android id not fetching the &quot;AndroidNetworking&quot;.</p>\n"},{"tags":["java","kotlin","swing","desktop","jetbrains-compose"],"comments":[{"owner":{"account_id":16403898,"reputation":91,"user_id":11849017,"display_name":"Vadym Yaroshchuk"},"score":0,"creation_date":1687094191,"post_id":76500655,"comment_id":134886092,"body_markdown":"I know how to set position, I don&#39;t know WHERE I should set it as there&#39;s no API (at least I cannot find) to locate system tray icon position (x &amp; y). I shown example in my question.","body":"I know how to set position, I don&#39;t know WHERE I should set it as there&#39;s no API (at least I cannot find) to locate system tray icon position (x &amp; y). I shown example in my question."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1687094598,"post_id":76500655,"comment_id":134886140,"body_markdown":"You put the icon in the system tray and Windows calculates the position of the icon in the system tray.  Here&#39;s [my system tray](https://i.imgur.com/yDQNb0j.png) as an example.","body":"You put the icon in the system tray and Windows calculates the position of the icon in the system tray.  Here&#39;s <a href=\"https://i.imgur.com/yDQNb0j.png\" rel=\"nofollow noreferrer\">my system tray</a> as an example."},{"owner":{"account_id":16403898,"reputation":91,"user_id":11849017,"display_name":"Vadym Yaroshchuk"},"score":0,"creation_date":1687094969,"post_id":76500655,"comment_id":134886180,"body_markdown":"yes and how does it solve my question? I still cannot put my window under / above (depending on the system) this tray icon. Because I need to somehow get the position of this icon.","body":"yes and how does it solve my question? I still cannot put my window under / above (depending on the system) this tray icon. Because I need to somehow get the position of this icon."},{"owner":{"account_id":16403898,"reputation":91,"user_id":11849017,"display_name":"Vadym Yaroshchuk"},"score":0,"creation_date":1687095115,"post_id":76500655,"comment_id":134886192,"body_markdown":"my application is helper app that should appear only if user clicked on tray icon (and disappear in the same way). And this app should appear at this icon, not somewhere else.","body":"my application is helper app that should appear only if user clicked on tray icon (and disappear in the same way). And this app should appear at this icon, not somewhere else."},{"owner":{"account_id":16403898,"reputation":91,"user_id":11849017,"display_name":"Vadym Yaroshchuk"},"score":0,"creation_date":1687095710,"post_id":76500655,"comment_id":134886252,"body_markdown":"I supplemented question with video where I showed how it looks right now. I want same behaviour (without problems I mention ofc), but using normal location of the icon.","body":"I supplemented question with video where I showed how it looks right now. I want same behaviour (without problems I mention ofc), but using normal location of the icon."},{"owner":{"account_id":13919843,"reputation":877,"user_id":10050576,"display_name":"Giuliopime"},"score":0,"creation_date":1688803207,"post_id":76500655,"comment_id":135125330,"body_markdown":"I&#39;m trying to figure this out too, I wish Jetbrains would make a demo on how they made their Toolbox app with compose. It would really help the community and the project docs.\nAlso, did you manage to hide the application icon in the dock? Did you do so from the info.plist or in another way?","body":"I&#39;m trying to figure this out too, I wish Jetbrains would make a demo on how they made their Toolbox app with compose. It would really help the community and the project docs. Also, did you manage to hide the application icon in the dock? Did you do so from the info.plist or in another way?"},{"owner":{"account_id":16403898,"reputation":91,"user_id":11849017,"display_name":"Vadym Yaroshchuk"},"score":0,"creation_date":1689201855,"post_id":76500655,"comment_id":135181657,"body_markdown":"@Giuliopime, for now, I just hide it programically (just using visible property in compose window)","body":"@Giuliopime, for now, I just hide it programically (just using visible property in compose window)"},{"owner":{"account_id":13919843,"reputation":877,"user_id":10050576,"display_name":"Giuliopime"},"score":0,"creation_date":1689248250,"post_id":76500655,"comment_id":135188104,"body_markdown":"Btw you coudl simply save the first opened position and then open it always in that position, would work too well with multiple monitors tho","body":"Btw you coudl simply save the first opened position and then open it always in that position, would work too well with multiple monitors tho"},{"owner":{"account_id":16403898,"reputation":91,"user_id":11849017,"display_name":"Vadym Yaroshchuk"},"score":1,"creation_date":1689628647,"post_id":76500655,"comment_id":135238012,"body_markdown":"@Giuliopime if user will change his system bar position (for example, from top to bottom) we will have invalid behaviour. For now, I found solution for Windows, but still in search about Linux (it&#39;s the most hard part as there&#39;s a lot of system tray providers) and MacOS (can&#39;t even find system API for it).\n\nLeave it for those who needs that – https://github.com/timemates/app/blob/dev/foundation/system-tray/src/main/kotlin/io/timemates/desktop/systray/WindowsTrayIconPositionProvider.kt#L9 (I haven&#39;t tested as I work on MacOS, but seems to be working well).","body":"@Giuliopime if user will change his system bar position (for example, from top to bottom) we will have invalid behaviour. For now, I found solution for Windows, but still in search about Linux (it&#39;s the most hard part as there&#39;s a lot of system tray providers) and MacOS (can&#39;t even find system API for it).  Leave it for those who needs that – <a href=\"https://github.com/timemates/app/blob/dev/foundation/system-tray/src/main/kotlin/io/timemates/desktop/systray/WindowsTrayIconPositionProvider.kt#L9\" rel=\"nofollow noreferrer\">github.com/timemates/app/blob/dev/foundation/system-tray/src&zwnj;&#8203;/&hellip;</a> (I haven&#39;t tested as I work on MacOS, but seems to be working well)."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690529739,"post_id":76500655,"comment_id":135369413,"body_markdown":"Note that the toolbox app doesn&#39;t really work that well on Ubuntu. It uses a context menu on the icon to open the window, instead of opening on click like on Mac/Windows. And it&#39;s not undecorated but has the ugly default window bar.","body":"Note that the toolbox app doesn&#39;t really work that well on Ubuntu. It uses a context menu on the icon to open the window, instead of opening on click like on Mac/Windows. And it&#39;s not undecorated but has the ugly default window bar."},{"owner":{"account_id":16403898,"reputation":91,"user_id":11849017,"display_name":"Vadym Yaroshchuk"},"score":0,"creation_date":1690544140,"post_id":76500655,"comment_id":135372232,"body_markdown":"sure, I would like to know at least about how can I implement it on Windows / MacOS (this platforms have much more priority for me)","body":"sure, I would like to know at least about how can I implement it on Windows / MacOS (this platforms have much more priority for me)"}],"answers":[{"tags":[],"owner":{"account_id":3696585,"reputation":11,"user_id":3077761,"display_name":"Jason091"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690670697,"creation_date":1690670697,"answer_id":76795704,"question_id":76500655,"body_markdown":"The system tray API in Java allows you to interact with a tray icon (add it, remove it, update its image or tooltip, etc.), but it does not provide a way to query its position on the screen. The mouse events associated with a tray icon provide coordinates relative to the icon itself, not the screen.\r\n\r\nOn Windows, you would need to interact with the Shell_TrayWnd and TrayNotifyWnd Windows controls that manage the system tray area and its icons. This would require calling Windows API functions and handling Windows messages, which cannot be done directly in Java, but would require using JNI or a third-party library like JNA (Java Native Access) or JNR (Java Native Runtime).","title":"Determinite position (x, y) of specific system tray icon","body":"<p>The system tray API in Java allows you to interact with a tray icon (add it, remove it, update its image or tooltip, etc.), but it does not provide a way to query its position on the screen. The mouse events associated with a tray icon provide coordinates relative to the icon itself, not the screen.</p>\n<p>On Windows, you would need to interact with the Shell_TrayWnd and TrayNotifyWnd Windows controls that manage the system tray area and its icons. This would require calling Windows API functions and handling Windows messages, which cannot be done directly in Java, but would require using JNI or a third-party library like JNA (Java Native Access) or JNR (Java Native Runtime).</p>\n"}],"owner":{"account_id":16403898,"reputation":91,"user_id":11849017,"display_name":"Vadym Yaroshchuk"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":190,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1690670697,"creation_date":1687093049,"question_id":76500655,"body_markdown":"## Question\r\nI&#39;m working on a desktop application using Jetbrains Compose, but I&#39;m open to solutions using Swing (it&#39;s used under the hood) as well. I want to implement a feature where the application window is initially located at the system tray icon, similar to how JetBrains Toolbox behaves (I want to place an (undecorated) window close to the tray icon).\r\n\r\n### Examples\r\n| [![screenshot example][1]][1] | [![enter image description here][2]][2] |\r\n|-------------------------------|-----------------------------------------|\r\n\r\nI have tried using mouse events to detect clicks on the tray icon and position the window accordingly, but that approach doesn&#39;t achieve the desired behavior. It actually works, but window sometimes is jumping (depending on where I clicked and solution overall looks weird). \r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n#### My previous solution\r\nI publish my solution for case someone need it:\r\n```kotlin\r\ninternal object XTray {\r\n\r\n    fun initialize(image: Image, onClick: (x: Int, y: Int) -&gt; Unit) {\r\n        createTrayIcon(image, onClick)\r\n    }\r\n\r\n    private fun createTrayIcon(\r\n        image: Image,\r\n        onClick: (x: Int, y: Int) -&gt; Unit,\r\n    ): TrayIcon {\r\n        val systemTray = SystemTray.getSystemTray()\r\n\r\n        val trayIcon = TrayIcon(image, &quot;Open X&quot;)\r\n\r\n        trayIcon.popupMenu = PopupMenu(&quot;X&quot;)\r\n\r\n        trayIcon.addMouseListener(createTrayMouseListener { x, y -&gt;\r\n            onClick(x, y)\r\n        })\r\n\r\n        systemTray.add(trayIcon)\r\n\r\n        return trayIcon\r\n    }\r\n\r\n    private fun createTrayMouseListener(\r\n        onClick: (x: Int, y: Int) -&gt; Unit,\r\n    ): MouseAdapter {\r\n        return object : MouseAdapter() {\r\n            override fun mouseClicked(e: MouseEvent?) {\r\n                e ?: return\r\n\r\n                if (SwingUtilities.isLeftMouseButton(e)) {\r\n                    println(&quot;${e.x} &amp; ${e.y}&quot;)\r\n                    onClick(calculateWindowX(e.x), calculateWindowY(e.y))\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private fun calculateWindowX(\r\n        trayCenterX: Int,\r\n        windowWidth: Int = 350,\r\n        screenWidth: Int = Toolkit.getDefaultToolkit().screenSize.width,\r\n    ): Int {\r\n        val halfWindowWidth = windowWidth / 2\r\n\r\n        return when {\r\n            trayCenterX - halfWindowWidth &lt; 0 -&gt; 0 // Tray icon is closer to the left edge\r\n            trayCenterX + halfWindowWidth &gt; screenWidth -&gt; screenWidth - windowWidth // Tray icon is closer to the right edge\r\n            else -&gt; trayCenterX - halfWindowWidth // Tray icon is in the middle of the screen\r\n        }\r\n    }\r\n\r\n    private fun calculateWindowY(\r\n        trayCenterY: Int,\r\n        windowHeight: Int = 650,\r\n        screenHeight: Int = Toolkit.getDefaultToolkit().screenSize.height,\r\n    ): Int {\r\n        val halfWindowHeight = windowHeight / 2\r\n\r\n        return when {\r\n            trayCenterY - halfWindowHeight &lt; 0 -&gt; 0 // Tray icon is closer to the top edge\r\n            trayCenterY + halfWindowHeight &gt; screenHeight -&gt; screenHeight - windowHeight // Tray icon is closer to the bottom edge\r\n            else -&gt; trayCenterY - halfWindowHeight // Tray icon is in the middle of the screen\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nOther applications, like JetBrains Toolbox, show their window at startup, without any need to locate a icon by click on that icon. So, there&#39;s should be another solution.\r\n\r\nI suspect that I need to use system APIs to accomplish this, but I&#39;m wondering if there is a ready-made solution or library that provides this functionality. It seems like a common feature, and I don&#39;t want to reinvent the wheel.\r\n\r\nI&#39;d like to look at examples, but I can&#39;t find them.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jOOr3.png\r\n  [2]: https://i.stack.imgur.com/NzviU.png\r\n  [3]: https://i.stack.imgur.com/hMSDt.gif","title":"Determinite position (x, y) of specific system tray icon","body":"<h2>Question</h2>\n<p>I'm working on a desktop application using Jetbrains Compose, but I'm open to solutions using Swing (it's used under the hood) as well. I want to implement a feature where the application window is initially located at the system tray icon, similar to how JetBrains Toolbox behaves (I want to place an (undecorated) window close to the tray icon).</p>\n<h3>Examples</h3>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th><a href=\"https://i.stack.imgur.com/jOOr3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jOOr3.png\" alt=\"screenshot example\" /></a></th>\n<th><a href=\"https://i.stack.imgur.com/NzviU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NzviU.png\" alt=\"enter image description here\" /></a></th>\n</tr>\n</thead>\n</table>\n</div>\n<p>I have tried using mouse events to detect clicks on the tray icon and position the window accordingly, but that approach doesn't achieve the desired behavior. It actually works, but window sometimes is jumping (depending on where I clicked and solution overall looks weird).</p>\n<p><a href=\"https://i.stack.imgur.com/hMSDt.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hMSDt.gif\" alt=\"enter image description here\" /></a></p>\n<h4>My previous solution</h4>\n<p>I publish my solution for case someone need it:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>internal object XTray {\n\n    fun initialize(image: Image, onClick: (x: Int, y: Int) -&gt; Unit) {\n        createTrayIcon(image, onClick)\n    }\n\n    private fun createTrayIcon(\n        image: Image,\n        onClick: (x: Int, y: Int) -&gt; Unit,\n    ): TrayIcon {\n        val systemTray = SystemTray.getSystemTray()\n\n        val trayIcon = TrayIcon(image, &quot;Open X&quot;)\n\n        trayIcon.popupMenu = PopupMenu(&quot;X&quot;)\n\n        trayIcon.addMouseListener(createTrayMouseListener { x, y -&gt;\n            onClick(x, y)\n        })\n\n        systemTray.add(trayIcon)\n\n        return trayIcon\n    }\n\n    private fun createTrayMouseListener(\n        onClick: (x: Int, y: Int) -&gt; Unit,\n    ): MouseAdapter {\n        return object : MouseAdapter() {\n            override fun mouseClicked(e: MouseEvent?) {\n                e ?: return\n\n                if (SwingUtilities.isLeftMouseButton(e)) {\n                    println(&quot;${e.x} &amp; ${e.y}&quot;)\n                    onClick(calculateWindowX(e.x), calculateWindowY(e.y))\n                }\n            }\n        }\n    }\n\n    private fun calculateWindowX(\n        trayCenterX: Int,\n        windowWidth: Int = 350,\n        screenWidth: Int = Toolkit.getDefaultToolkit().screenSize.width,\n    ): Int {\n        val halfWindowWidth = windowWidth / 2\n\n        return when {\n            trayCenterX - halfWindowWidth &lt; 0 -&gt; 0 // Tray icon is closer to the left edge\n            trayCenterX + halfWindowWidth &gt; screenWidth -&gt; screenWidth - windowWidth // Tray icon is closer to the right edge\n            else -&gt; trayCenterX - halfWindowWidth // Tray icon is in the middle of the screen\n        }\n    }\n\n    private fun calculateWindowY(\n        trayCenterY: Int,\n        windowHeight: Int = 650,\n        screenHeight: Int = Toolkit.getDefaultToolkit().screenSize.height,\n    ): Int {\n        val halfWindowHeight = windowHeight / 2\n\n        return when {\n            trayCenterY - halfWindowHeight &lt; 0 -&gt; 0 // Tray icon is closer to the top edge\n            trayCenterY + halfWindowHeight &gt; screenHeight -&gt; screenHeight - windowHeight // Tray icon is closer to the bottom edge\n            else -&gt; trayCenterY - halfWindowHeight // Tray icon is in the middle of the screen\n        }\n    }\n}\n</code></pre>\n<p>Other applications, like JetBrains Toolbox, show their window at startup, without any need to locate a icon by click on that icon. So, there's should be another solution.</p>\n<p>I suspect that I need to use system APIs to accomplish this, but I'm wondering if there is a ready-made solution or library that provides this functionality. It seems like a common feature, and I don't want to reinvent the wheel.</p>\n<p>I'd like to look at examples, but I can't find them.</p>\n"},{"tags":["java","performance","file","bufferedreader","bufferedinputstream"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":4,"creation_date":1690671016,"post_id":76795698,"comment_id":135386475,"body_markdown":"You already have a buffer with the `BufferedReader`. Adding a second buffer is unlikely to change much, a 10% penalty for buffering your buffer sounds reasonable.","body":"You already have a buffer with the <code>BufferedReader</code>. Adding a second buffer is unlikely to change much, a 10% penalty for buffering your buffer sounds reasonable."},{"owner":{"account_id":2449170,"reputation":1315,"user_id":2135838,"display_name":"Sascha"},"score":1,"creation_date":1690795301,"post_id":76795698,"comment_id":135397665,"body_markdown":"You don&#39;t need to double buffer. But you can increase the performance by choosing the buffer capacity. Default value is `8192`. Depending on your system and the file you read, a higher value might be better.","body":"You don&#39;t need to double buffer. But you can increase the performance by choosing the buffer capacity. Default value is <code>8192</code>. Depending on your system and the file you read, a higher value might be better."},{"owner":{"account_id":1046766,"reputation":3474,"user_id":1051589,"accept_rate":56,"display_name":"joker"},"score":0,"creation_date":1690898409,"post_id":76795698,"comment_id":135415263,"body_markdown":"Thanks @Sascha. I tried manipulating the buffer but there was no considerable performance gain. In fact, sometimes performance was worse. I tired to make the inputstream buffer much higher than the bufferedreader, then tried the reverse. So, it seems, generally a bufferedreader on top of a normal fileinputstream without buffering on the bytes level is good enough.","body":"Thanks @Sascha. I tried manipulating the buffer but there was no considerable performance gain. In fact, sometimes performance was worse. I tired to make the inputstream buffer much higher than the bufferedreader, then tried the reverse. So, it seems, generally a bufferedreader on top of a normal fileinputstream without buffering on the bytes level is good enough."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690899154,"post_id":76795698,"comment_id":135415466,"body_markdown":"Might be worth checking if nio gives you any improvement: `try (BufferedReader in = Files.newBufferedReader(Path.of(&quot;x.txt&quot;), StandardCharsets.UTF_8)) {...}`","body":"Might be worth checking if nio gives you any improvement: <code>try (BufferedReader in = Files.newBufferedReader(Path.of(&quot;x.txt&quot;), StandardCharsets.UTF_8)) {...}</code>"}],"owner":{"account_id":1046766,"reputation":3474,"user_id":1051589,"accept_rate":56,"display_name":"joker"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690670500,"creation_date":1690670500,"question_id":76795698,"body_markdown":"Is there any performance gain if we have:\r\n\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(new BufferedInputStream(new FileInputStream(&quot;SOME_FILE&quot;)), StandardCharsets.UTF_8))\r\n\r\nNotice that I added `BufferedInputStream`, which is unusual, to my experience.\r\n\r\nUsually, it goes with out the added intermediate buffered input stream:\r\n\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(new FileInputStream(&quot;&quot;), StandardCharsets.UTF_8))\r\n\r\nIf there&#39;s a performance difference or not, how can I measure it?\r\n\r\nWhat I tried is reading ~30 MB text file using both approaches, 3 times each.\r\n\r\nTo my surprise, without the buffered input stream was around 10% faster than its buffered correspondent.\r\n\r\nI don&#39;t know if there are cases where the buffered version shine over the other or it&#39;s just a redundant buffering causing more overhead than it&#39;s useful.","title":"BufferedReader on top of BufferedInputStream VS BufferedReader on top of FileInputStream","body":"<p>Is there any performance gain if we have:</p>\n<pre><code>BufferedReader reader = new BufferedReader(new InputStreamReader(new BufferedInputStream(new FileInputStream(&quot;SOME_FILE&quot;)), StandardCharsets.UTF_8))\n</code></pre>\n<p>Notice that I added <code>BufferedInputStream</code>, which is unusual, to my experience.</p>\n<p>Usually, it goes with out the added intermediate buffered input stream:</p>\n<pre><code>BufferedReader reader = new BufferedReader(new InputStreamReader(new FileInputStream(&quot;&quot;), StandardCharsets.UTF_8))\n</code></pre>\n<p>If there's a performance difference or not, how can I measure it?</p>\n<p>What I tried is reading ~30 MB text file using both approaches, 3 times each.</p>\n<p>To my surprise, without the buffered input stream was around 10% faster than its buffered correspondent.</p>\n<p>I don't know if there are cases where the buffered version shine over the other or it's just a redundant buffering causing more overhead than it's useful.</p>\n"},{"tags":["java","spring","spring-boot","native","flyway"],"answers":[{"tags":[],"owner":{"account_id":13938264,"reputation":45,"user_id":10064799,"display_name":"Денис Анд"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690667877,"creation_date":1690667877,"answer_id":76795612,"question_id":76792652,"body_markdown":"This is a known issue, and currently not going to be fixed.\r\nhttps://github.com/spring-projects/spring-boot/issues/31999","title":"Unable to scan location: /db/migration (unsupported protocol: resource) in spring boot (only native mode)","body":"<p>This is a known issue, and currently not going to be fixed.\n<a href=\"https://github.com/spring-projects/spring-boot/issues/31999\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/31999</a></p>\n"}],"owner":{"account_id":13938264,"reputation":45,"user_id":10064799,"display_name":"Денис Анд"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1690667877,"creation_date":1690617964,"question_id":76792652,"body_markdown":"I am using:\r\n**Spring boot 3.1.2** and **flyway-core:9.21.0** in native image mode\r\nWhen an application starts I am getting \r\n\r\n&gt; Unable to scan location: /db/migration (unsupported protocol:\r\n&gt; resource)\r\n\r\nfrom\r\n\r\n&gt; org.flywaydb.core.internal.scanner.classpath.ClassPathScanner\r\n\r\nStill, the migrations are scanned and applied successfully.\r\n\r\nCould you please help to understand is this message is just an &quot;artifact&quot; and i can disregard this, or does it really affects functionality? And in case it&#39;s not affecting, how can i get rid of it?\r\n\r\nTnx","title":"Unable to scan location: /db/migration (unsupported protocol: resource) in spring boot (only native mode)","body":"<p>I am using:\n<strong>Spring boot 3.1.2</strong> and <strong>flyway-core:9.21.0</strong> in native image mode\nWhen an application starts I am getting</p>\n<blockquote>\n<p>Unable to scan location: /db/migration (unsupported protocol:\nresource)</p>\n</blockquote>\n<p>from</p>\n<blockquote>\n<p>org.flywaydb.core.internal.scanner.classpath.ClassPathScanner</p>\n</blockquote>\n<p>Still, the migrations are scanned and applied successfully.</p>\n<p>Could you please help to understand is this message is just an &quot;artifact&quot; and i can disregard this, or does it really affects functionality? And in case it's not affecting, how can i get rid of it?</p>\n<p>Tnx</p>\n"},{"tags":["java","ssh","jsch"],"answers":[{"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1459613835,"creation_date":1311210292,"answer_id":6770272,"question_id":6770206,"body_markdown":"An overview about the differences and similarities between these streams you can find at &#187;[Shell, Exec or Subsystem Channel][1]&#171; in the JSch wiki. Here some details for your use case.\r\n\r\n\r\nIn the [**`exec` channel**][2], the commands come from the command string you did give with `setCommand()`. The SSH server will pass them at once to the shell (using something like `bash -c &#39;&lt;command&gt;&#39;`).\r\n\r\nThey will all be executed, if the shell does not somehow exit before for some reason. (You could send a whole shell script here which implements some logic using `if` and similar, if this is wanted.)\r\n\r\nSo, to execute multiple commands, you could pass them to the exec channel by separating them with `;` or newline (`\\n`). As you can&#39;t wait for the results before giving all the commands, here you can only use multiple exec channels (but as each channel spawns a new shell, they don&#39;t conserve state between them, like working directory or shell variables).\r\n\r\n\r\nIn the [**`shell` channel**][3], the shell will read input from the stream, and interpret the first line as a command (or several ones).\r\n\r\nThen it will execute this command. The command itself might read more input from the stream, if it wants.\r\n\r\nThen the shell will read the next line, interpret it as a command, and execute.\r\n\r\n(In some cases the shell has to read more than one line, for example for long strings or composed commands like if or loops.)\r\n\r\nThis will go on until either the end of the stream (e.g. stream.close() at your side) or executing an explicit exit command.\r\n\r\n\r\nIf you don&#39;t send any input to the shell via the channels input/output stream, the shell will simply wait until you either send more or close the stream. Thus you can quietly read the output of one command, do some calculations on the client side and then decide which command to send next.\r\n\r\nJust make sure you don&#39;t mix input to one command with the text of the next command - preferably don&#39;t use any commands which will read from standard input.\r\n\r\n\r\n\r\n  [1]: http://sourceforge.net/apps/mediawiki/jsch/index.php?title=Shell,_Exec_or_Subsystem_Channel\r\n  [2]: http://epaul.github.com/jsch-documentation/simple.javadoc/?com/jcraft/jsch/ChannelExec.html\r\n  [3]: http://epaul.github.com/jsch-documentation/simple.javadoc/?com/jcraft/jsch/ChannelShell.html","title":"What is the difference between the &#39;shell&#39; channel and the &#39;exec&#39; channel in JSch","body":"<p>An overview about the differences and similarities between these streams you can find at »<a href=\"http://sourceforge.net/apps/mediawiki/jsch/index.php?title=Shell,_Exec_or_Subsystem_Channel\" rel=\"noreferrer\">Shell, Exec or Subsystem Channel</a>« in the JSch wiki. Here some details for your use case.</p>\n\n<p>In the <a href=\"http://epaul.github.com/jsch-documentation/simple.javadoc/?com/jcraft/jsch/ChannelExec.html\" rel=\"noreferrer\"><strong><code>exec</code> channel</strong></a>, the commands come from the command string you did give with <code>setCommand()</code>. The SSH server will pass them at once to the shell (using something like <code>bash -c '&lt;command&gt;'</code>).</p>\n\n<p>They will all be executed, if the shell does not somehow exit before for some reason. (You could send a whole shell script here which implements some logic using <code>if</code> and similar, if this is wanted.)</p>\n\n<p>So, to execute multiple commands, you could pass them to the exec channel by separating them with <code>;</code> or newline (<code>\\n</code>). As you can't wait for the results before giving all the commands, here you can only use multiple exec channels (but as each channel spawns a new shell, they don't conserve state between them, like working directory or shell variables).</p>\n\n<p>In the <a href=\"http://epaul.github.com/jsch-documentation/simple.javadoc/?com/jcraft/jsch/ChannelShell.html\" rel=\"noreferrer\"><strong><code>shell</code> channel</strong></a>, the shell will read input from the stream, and interpret the first line as a command (or several ones).</p>\n\n<p>Then it will execute this command. The command itself might read more input from the stream, if it wants.</p>\n\n<p>Then the shell will read the next line, interpret it as a command, and execute.</p>\n\n<p>(In some cases the shell has to read more than one line, for example for long strings or composed commands like if or loops.)</p>\n\n<p>This will go on until either the end of the stream (e.g. stream.close() at your side) or executing an explicit exit command.</p>\n\n<p>If you don't send any input to the shell via the channels input/output stream, the shell will simply wait until you either send more or close the stream. Thus you can quietly read the output of one command, do some calculations on the client side and then decide which command to send next.</p>\n\n<p>Just make sure you don't mix input to one command with the text of the next command - preferably don't use any commands which will read from standard input.</p>\n"},{"tags":[],"owner":{"account_id":20177,"reputation":45320,"user_id":47961,"accept_rate":83,"display_name":"Eugene Mayevski &#39;Callback"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1690664965,"creation_date":1311224234,"answer_id":6771417,"question_id":6770206,"body_markdown":"With shell channel the shell (on Unix it&#39;s `sh` or `bash` or something like that, on Windows it&#39;s usually `cmd.exe`) is started and console is created (the same you see on the screen if you run them locally). You have a prompt which you can parse or use for detection of completion of command. \r\n\r\nWith command channel a shell instance is started for each command (actually the channel is opened for each command) and a command is passed as a parameter for the shell (on Windows it would look like &quot;`cmd.exe /c &lt;your command here&gt;`&quot;. \r\n\r\nIt&#39;s easier to use command channel cause you don&#39;t need to deal with command prompt. ","title":"What is the difference between the &#39;shell&#39; channel and the &#39;exec&#39; channel in JSch","body":"<p>With shell channel the shell (on Unix it's <code>sh</code> or <code>bash</code> or something like that, on Windows it's usually <code>cmd.exe</code>) is started and console is created (the same you see on the screen if you run them locally). You have a prompt which you can parse or use for detection of completion of command.</p>\n<p>With command channel a shell instance is started for each command (actually the channel is opened for each command) and a command is passed as a parameter for the shell (on Windows it would look like &quot;<code>cmd.exe /c &lt;your command here&gt;</code>&quot;.</p>\n<p>It's easier to use command channel cause you don't need to deal with command prompt.</p>\n"},{"tags":[],"owner":{"account_id":407719,"reputation":3158,"user_id":777961,"accept_rate":51,"display_name":"Martin Klosi"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1690664892,"creation_date":1311268734,"answer_id":6780058,"question_id":6770206,"body_markdown":"well, I found out that this works and it&#39;s really convenient if you want to preserve state like a regular shell would:\r\n\r\n    Session session = jsch.getSession(user, host, 22);\r\n    \r\n    Channel channel = session.openChannel(&quot;shell&quot;);\r\n    \t\t\r\n    OutputStream inputstream_for_the_channel = channel.getOutputStream();\r\n    PrintStream commander = new PrintStream(inputstream_for_the_channel, true);\r\n    \t\t\r\n    channel.setOutputStream(System.out, true);\r\n    \t\t\r\n    channel.connect();\r\n    \r\n    commander.println(&quot;ls -la&quot;);\t\r\n    commander.println(&quot;cd folder&quot;);\r\n    commander.println(&quot;ls -la&quot;);\r\n    commander.println(&quot;exit&quot;);\r\n    commander.close();\r\n    \t\t\r\n    do {\r\n        Thread.sleep(1000);\r\n    } while(!channel.isEOF());\r\n    \t\t\r\n    session.disconnect();\r\n\r\nYou could change \r\n\r\n    channel.setOutputStream(System.out, true);\r\n\r\nto\r\n\r\n    InputStream outputstream_from_the_channel = channel.getInputStream();\r\n    BufferedReader br = new BufferedReader(new InputStreamReader(outputstream_from_the_channel));\r\n    String line;\r\n    while ((line = br.readLine()) != null)\r\n        System.out.print(line+&quot;\\n&quot;);\r\n\r\nif you want more control over the output.\r\n\r\n=============================================================================\r\n\r\nEDITED: follow up\r\n\r\nwhy sometimes the commands I send through the PrintStream appear randomly in the output. i.e.\r\nthe following code: \r\n\r\n    shell[0].println(&quot;cd ..&quot;);\r\n    shell[0].println(&quot;cd ..&quot;);\r\n    shell[0].println(&quot;ls -la&quot;);\r\n    shell[0].println(&quot;exit&quot;);\r\n\r\nproduces this:\r\n(marked with {thing} are things that shouldnt be there!)\r\n\r\n&gt; Last login: Thu Jul 21 21:49:13 2011 from gateway\r\n&gt; \r\n&gt; Manifests: trunk-latest\r\n&gt;   \r\n&gt; [host ~]$ cd ..     \r\n&gt; {cd ..}[host home]$     \r\n&gt; [host home]$ cd ..    \r\n&gt; [host /]$    \r\n&gt; [host /]$ ls -la    \r\n&gt; {exit}   \r\n&gt;     \r\n&gt;      \r\n&gt; total 9999  \r\n&gt; ----------  27 root root  4096 Jan 26  2010 .          \r\n&gt; ----------  27 root root  4096 Jan 26  2010 ..  \r\n&gt; ----------   1 root root     0 Mar 14 19:16 .autojyk  \r\n&gt; ----------   1 root root     0 Feb  9  2009 .automan  \r\n&gt; ----------   1 root root  3550 May 14  2010 .bash_history  \r\n&gt; d---------   2 root root  4096 Apr 26 04:02 put    \r\n&gt; d---------   5 root root  4024 Apr 25 19:31 boot     \r\n&gt; [m[host /]$    \r\n&gt; [host /]$ exit   \r\n&gt; logout\r\n\r\n","title":"What is the difference between the &#39;shell&#39; channel and the &#39;exec&#39; channel in JSch","body":"<p>well, I found out that this works and it's really convenient if you want to preserve state like a regular shell would:</p>\n<pre><code>Session session = jsch.getSession(user, host, 22);\n\nChannel channel = session.openChannel(&quot;shell&quot;);\n        \nOutputStream inputstream_for_the_channel = channel.getOutputStream();\nPrintStream commander = new PrintStream(inputstream_for_the_channel, true);\n        \nchannel.setOutputStream(System.out, true);\n        \nchannel.connect();\n\ncommander.println(&quot;ls -la&quot;);    \ncommander.println(&quot;cd folder&quot;);\ncommander.println(&quot;ls -la&quot;);\ncommander.println(&quot;exit&quot;);\ncommander.close();\n        \ndo {\n    Thread.sleep(1000);\n} while(!channel.isEOF());\n        \nsession.disconnect();\n</code></pre>\n<p>You could change</p>\n<pre><code>channel.setOutputStream(System.out, true);\n</code></pre>\n<p>to</p>\n<pre><code>InputStream outputstream_from_the_channel = channel.getInputStream();\nBufferedReader br = new BufferedReader(new InputStreamReader(outputstream_from_the_channel));\nString line;\nwhile ((line = br.readLine()) != null)\n    System.out.print(line+&quot;\\n&quot;);\n</code></pre>\n<p>if you want more control over the output.</p>\n<p>=============================================================================</p>\n<p>EDITED: follow up</p>\n<p>why sometimes the commands I send through the PrintStream appear randomly in the output. i.e.\nthe following code:</p>\n<pre><code>shell[0].println(&quot;cd ..&quot;);\nshell[0].println(&quot;cd ..&quot;);\nshell[0].println(&quot;ls -la&quot;);\nshell[0].println(&quot;exit&quot;);\n</code></pre>\n<p>produces this:\n(marked with {thing} are things that shouldnt be there!)</p>\n<blockquote>\n<p>Last login: Thu Jul 21 21:49:13 2011 from gateway</p>\n<p>Manifests: trunk-latest</p>\n<p>[host ~]$ cd ..<br />\n{cd ..}[host home]$<br />\n[host home]$ cd ..<br />\n[host /]$<br />\n[host /]$ ls -la<br />\n{exit}</p>\n<p>total 9999<br />\n----------  27 root root  4096 Jan 26  2010 .<br />\n----------  27 root root  4096 Jan 26  2010 ..<br />\n----------   1 root root     0 Mar 14 19:16 .autojyk<br />\n----------   1 root root     0 Feb  9  2009 .automan<br />\n----------   1 root root  3550 May 14  2010 .bash_history<br />\nd---------   2 root root  4096 Apr 26 04:02 put<br />\nd---------   5 root root  4024 Apr 25 19:31 boot<br />\n[m[host /]$<br />\n[host /]$ exit<br />\nlogout</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":453710,"reputation":192083,"user_id":850848,"accept_rate":80,"display_name":"Martin Prikryl"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1601618943,"creation_date":1561188763,"answer_id":56713547,"question_id":6770206,"body_markdown":"It&#39;s not so much about JSch. It&#39;s about how the server implements the two channels.\r\n\r\n---\r\n\r\nIn common *nix OpenSSH server:\r\n\r\n- The `shell` channel executes a login shell (as if you login with SSH terminal client). The shell will then present a command prompt and wait for client/user to type the commands. The purpose of the `shell` channel is to implement an interactive shell session. That is something one will do very very rarely. If you do, you typically want to use terminal emulation.\r\n\r\n    The `shell` channel is obviously used by SSH terminal clients (like OpenSSH `ssh` or PuTTY), under normal circumstances.\r\n\r\n    The `shell` channel is a black box with an input and output. The input and output have no structure. If you for example execute a command by sending it to the input, you will never be able to tell when it ended. If you send two commands to input queue, you won&#39;t be able to distinguish what output comes from what command.\r\n\r\n- The `exec` command takes a command as an &quot;argument&quot; and executes it in an isolated environment &amp;ndash; still via user&#39;s default shell, but not as a &quot;login&quot; shell, what may cause significant differences in the command execution.  \r\n\r\n    The purpose of the `exec` channel is automating a command execution. So typically you do not want to use a terminal emulation, to avoid the command to do fancy stuff like pagination, coloring and mainly interactive confirmations.\r\n\r\n    `exec` channel is used by OpenSSH `ssh` or PuTTY `plink`, when you specify a command to execute on its command line:\r\n\r\n    ``` none\r\n    ssh user@host command\r\n    ```\r\n\r\n---\r\n\r\nWith less common SSH servers, the difference can be even more significant. Some servers may even not support one of the channels. It is also quite common that they seemingly support both, but one of them (typically the `exec`) is completely broken.\r\n\r\n---\r\n\r\nThere&#39;s a similar question for Python/Paramiko:   \r\nhttps://stackoverflow.com/q/55762006/850848","title":"What is the difference between the &#39;shell&#39; channel and the &#39;exec&#39; channel in JSch","body":"<p>It's not so much about JSch. It's about how the server implements the two channels.</p>\n<hr />\n<p>In common *nix OpenSSH server:</p>\n<ul>\n<li><p>The <code>shell</code> channel executes a login shell (as if you login with SSH terminal client). The shell will then present a command prompt and wait for client/user to type the commands. The purpose of the <code>shell</code> channel is to implement an interactive shell session. That is something one will do very very rarely. If you do, you typically want to use terminal emulation.</p>\n<p>The <code>shell</code> channel is obviously used by SSH terminal clients (like OpenSSH <code>ssh</code> or PuTTY), under normal circumstances.</p>\n<p>The <code>shell</code> channel is a black box with an input and output. The input and output have no structure. If you for example execute a command by sending it to the input, you will never be able to tell when it ended. If you send two commands to input queue, you won't be able to distinguish what output comes from what command.</p>\n</li>\n<li><p>The <code>exec</code> command takes a command as an &quot;argument&quot; and executes it in an isolated environment – still via user's default shell, but not as a &quot;login&quot; shell, what may cause significant differences in the command execution.</p>\n<p>The purpose of the <code>exec</code> channel is automating a command execution. So typically you do not want to use a terminal emulation, to avoid the command to do fancy stuff like pagination, coloring and mainly interactive confirmations.</p>\n<p><code>exec</code> channel is used by OpenSSH <code>ssh</code> or PuTTY <code>plink</code>, when you specify a command to execute on its command line:</p>\n<pre class=\"lang-none prettyprint-override\"><code>ssh user@host command\n</code></pre>\n</li>\n</ul>\n<hr />\n<p>With less common SSH servers, the difference can be even more significant. Some servers may even not support one of the channels. It is also quite common that they seemingly support both, but one of them (typically the <code>exec</code>) is completely broken.</p>\n<hr />\n<p>There's a similar question for Python/Paramiko:<br />\n<a href=\"https://stackoverflow.com/q/55762006/850848\">What is the difference between exec_command and send with invoke_shell() on Paramiko?</a></p>\n"}],"owner":{"account_id":407719,"reputation":3158,"user_id":777961,"accept_rate":51,"display_name":"Martin Klosi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43674,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":6771417,"answer_count":4,"score":31,"last_activity_date":1690664965,"creation_date":1311209342,"question_id":6770206,"body_markdown":"I want to be able to send many consecutive command represented as strings within a Java application to a SSH server for execution. Should I use: \r\n\r\n    Channel channel = session.openChannel(&quot;shell&quot;);\r\n\r\n-or-\r\n\r\n    Channel channel = session.openChannel(&quot;exec&quot;);","title":"What is the difference between the &#39;shell&#39; channel and the &#39;exec&#39; channel in JSch","body":"<p>I want to be able to send many consecutive command represented as strings within a Java application to a SSH server for execution. Should I use: </p>\n\n<pre><code>Channel channel = session.openChannel(\"shell\");\n</code></pre>\n\n<p>-or-</p>\n\n<pre><code>Channel channel = session.openChannel(\"exec\");\n</code></pre>\n"},{"tags":["java","multithreading","javafx"],"comments":[{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":3,"creation_date":1690669244,"post_id":76795410,"comment_id":135386361,"body_markdown":"See if something from the `Animation` API like `Timeline` or `AnimationTimer` can help","body":"See if something from the <code>Animation</code> API like <code>Timeline</code> or <code>AnimationTimer</code> can help"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1690669491,"post_id":76795410,"comment_id":135386373,"body_markdown":"So, that code should fail to compile, as `parseInt` returns an `int`, and `setText` expects a `String`. But I&#39;ll assume that&#39;s a mistake only in your question and in your real code you actually use something like `Integer.toString(i)`. Now, a quick fix for your code would be to use `String text = Integer.toString(i); Platform.runLater(() -&gt; textArea.setText(text));`. However, using background threads for something like this is overkill and makes everything harder. You should do as SedJ601 suggests and use an animation.","body":"So, that code should fail to compile, as <code>parseInt</code> returns an <code>int</code>, and <code>setText</code> expects a <code>String</code>. But I&#39;ll assume that&#39;s a mistake only in your question and in your real code you actually use something like <code>Integer.toString(i)</code>. Now, a quick fix for your code would be to use <code>String text = Integer.toString(i); Platform.runLater(() -&gt; textArea.setText(text));</code>. However, using background threads for something like this is overkill and makes everything harder. You should do as SedJ601 suggests and use an animation."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":4,"creation_date":1690669633,"post_id":76795410,"comment_id":135386386,"body_markdown":"See https://stackoverflow.com/a/60685975/6395627 for some more information.","body":"See <a href=\"https://stackoverflow.com/a/60685975/6395627\">stackoverflow.com/a/60685975/6395627</a> for some more information."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1690696993,"post_id":76795410,"comment_id":135387831,"body_markdown":"[JavaFX countdown using timeline and displaying as a label](https://stackoverflow.com/questions/67578178/javafx-countdown-using-timeline-and-displaying-as-a-label)","body":"<a href=\"https://stackoverflow.com/questions/67578178/javafx-countdown-using-timeline-and-displaying-as-a-label\">JavaFX countdown using timeline and displaying as a label</a>"},{"owner":{"account_id":2819940,"reputation":12538,"user_id":2423906,"accept_rate":100,"display_name":"SedJ601"},"score":0,"creation_date":1690699689,"post_id":76795410,"comment_id":135388034,"body_markdown":"https://stackoverflow.com/questions/50626831/how-to-set-up-two-timelines-to-one-app/50627639#50627639","body":"<a href=\"https://stackoverflow.com/questions/50626831/how-to-set-up-two-timelines-to-one-app/50627639#50627639\" title=\"how to set up two timelines to one app\">stackoverflow.com/questions/50626831/&hellip;</a>"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1690718303,"post_id":76795410,"comment_id":135389639,"body_markdown":"Understand that JavaFX is, by design, single threaded, **you must not**: *Modify JavaFX TextArea with a Thread other than &quot;JavaFX Application Thread&quot;*.  Techniques suggested in comments, don&#39;t actually modify the node from another thread at all.  All animation events and timeline events occur only on the JavaFX thread.   `runLater` calls schedule the thing to run later on the JavaFX application thread.  [Why?](https://web.archive.org/web/20120122082554/http://weblogs.java.net/blog/kgh/archive/2004/10/multithreaded_t.html)","body":"Understand that JavaFX is, by design, single threaded, <b>you must not</b>: <i>Modify JavaFX TextArea with a Thread other than &quot;JavaFX Application Thread&quot;</i>.  Techniques suggested in comments, don&#39;t actually modify the node from another thread at all.  All animation events and timeline events occur only on the JavaFX thread.   <code>runLater</code> calls schedule the thing to run later on the JavaFX application thread.  <a href=\"https://web.archive.org/web/20120122082554/http://weblogs.java.net/blog/kgh/archive/2004/10/multithreaded_t.html\" rel=\"nofollow noreferrer\">Why?</a>"}],"owner":{"account_id":27132096,"reputation":53,"user_id":20674162,"display_name":"nick16384"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690663556,"creation_date":1690663556,"question_id":76795410,"body_markdown":"My problem is that I have a JavaFX TextArea and want to update its contents in a separate thread to show new text instantly instead of a bunch after the method has finished.\r\nSay, for example, I wanted to build a timer. In the current case, the TextArea would show 10 at the beginning, then I would press the &quot;Start&quot; button, wait ten seconds and a zero shows up. If this works multithreaded, it would count down from ten to zero with all the numbers in between.\r\n\r\nHere&#39;s a sample code:\r\n```\r\nTextArea textArea = new TextArea();\r\nButton button = new Button(&quot;Start&quot;);\r\nGridPane root = new GridPane();\r\nroot.add(textArea);\r\nroot.add(button);\r\n\r\nbutton.setOnMouseClicked((event) -&gt; {\r\n   new Thread(() -&gt; {\r\n      for (int i = 10; i &gt;= 0; i--) {\r\n         textArea.setText(Integer.parseInt(i));\r\n         try { Thread.sleep(1000); }\r\n         catch (InterruptedException ie) { ie.printStackTrace(); }\r\n      }\r\n   }).start();\r\n});\r\n```\r\n\r\n\r\n\r\nThis code ends in an `IndexOutOfBoundsException` in the `FX Application Thread` for me, which only shows up when the `setOnMouseClicked` event is executed in another thread.\r\nIt works for both the &quot;FX Application Thread&quot; and the &quot;Main&quot; thread.\r\n","title":"Modify JavaFX TextArea with a Thread other than &quot;JavaFX Application Thread&quot; and &quot;Main&quot;","body":"<p>My problem is that I have a JavaFX TextArea and want to update its contents in a separate thread to show new text instantly instead of a bunch after the method has finished.\nSay, for example, I wanted to build a timer. In the current case, the TextArea would show 10 at the beginning, then I would press the &quot;Start&quot; button, wait ten seconds and a zero shows up. If this works multithreaded, it would count down from ten to zero with all the numbers in between.</p>\n<p>Here's a sample code:</p>\n<pre><code>TextArea textArea = new TextArea();\nButton button = new Button(&quot;Start&quot;);\nGridPane root = new GridPane();\nroot.add(textArea);\nroot.add(button);\n\nbutton.setOnMouseClicked((event) -&gt; {\n   new Thread(() -&gt; {\n      for (int i = 10; i &gt;= 0; i--) {\n         textArea.setText(Integer.parseInt(i));\n         try { Thread.sleep(1000); }\n         catch (InterruptedException ie) { ie.printStackTrace(); }\n      }\n   }).start();\n});\n</code></pre>\n<p>This code ends in an <code>IndexOutOfBoundsException</code> in the <code>FX Application Thread</code> for me, which only shows up when the <code>setOnMouseClicked</code> event is executed in another thread.\nIt works for both the &quot;FX Application Thread&quot; and the &quot;Main&quot; thread.</p>\n"},{"tags":["java","arrays","arraylist","collections"],"comments":[{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":3,"creation_date":1690661571,"post_id":76795151,"comment_id":135385649,"body_markdown":"This sounds like an actively bad idea.  Generally, you will have a specific use case in mind.","body":"This sounds like an actively bad idea.  Generally, you will have a specific use case in mind."},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":2,"creation_date":1690662254,"post_id":76795151,"comment_id":135385726,"body_markdown":"This sounds too general. PHP also has thing such as a list, a set or a stack. Each of them has different usages, no single data structure fits all purposes.","body":"This sounds too general. PHP also has thing such as a list, a set or a stack. Each of them has different usages, no single data structure fits all purposes."},{"owner":{"account_id":1912441,"reputation":2961,"user_id":1725871,"accept_rate":88,"display_name":"JoSSte"},"score":0,"creation_date":1690792954,"post_id":76795151,"comment_id":135397203,"body_markdown":"I code in bot PHP and Java - the approaches are too different. I would recommend looking at the Java way to do stuff, since you will defeinitely paint yourself into corners and tight spots if you try do do &quot;the same as in PHP&quot; in  java","body":"I code in bot PHP and Java - the approaches are too different. I would recommend looking at the Java way to do stuff, since you will defeinitely paint yourself into corners and tight spots if you try do do &quot;the same as in PHP&quot; in  java"}],"answers":[{"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1690663210,"creation_date":1690663210,"answer_id":76795393,"question_id":76795151,"body_markdown":"As a new user of Java you are likely being overwhelmed by the number of *implementations* of collections that are offered. You really don&#39;t need to worry about that too much to start with. Rather focus on the *interfaces* which describe how you plan to interact with the collection. There aren&#39;t too many of those. In fact there are really only three that you need to think about when you&#39;re starting to learn the language: `List`, `Set` and `Map`. Start by picking which of those makes sense for your application and then write all your code to that interface. Which implementation of the interface you use is in only one place - when the collection is constructed - and is very easy to change at a later time if you write for the interface.","title":"All-in-one Collection in Java","body":"<p>As a new user of Java you are likely being overwhelmed by the number of <em>implementations</em> of collections that are offered. You really don't need to worry about that too much to start with. Rather focus on the <em>interfaces</em> which describe how you plan to interact with the collection. There aren't too many of those. In fact there are really only three that you need to think about when you're starting to learn the language: <code>List</code>, <code>Set</code> and <code>Map</code>. Start by picking which of those makes sense for your application and then write all your code to that interface. Which implementation of the interface you use is in only one place - when the collection is constructed - and is very easy to change at a later time if you write for the interface.</p>\n"}],"owner":{"account_id":20473314,"reputation":31,"user_id":15023218,"display_name":"Nordeen"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76795393,"answer_count":1,"score":-1,"last_activity_date":1690663210,"creation_date":1690658855,"question_id":76795151,"body_markdown":"I am coming from PHP/laravel to JAVA/springboot.\r\n\r\nIn PHP we have only one type of collection which is called array that according to PHP community it&#39;s using hash table. \r\n\r\nJava it have a lot of collections and when read about their advantage over each other it&#39;s confusing to know which one to use.\r\n\r\nIs there any package or let&#39;s say a collection in java include all features for each type of collection it have and switch between those collection objects according to operation used as search, insert, update and delete.\r\n\r\nand if not, What advice did you give to me, solution for using them ? ","title":"All-in-one Collection in Java","body":"<p>I am coming from PHP/laravel to JAVA/springboot.</p>\n<p>In PHP we have only one type of collection which is called array that according to PHP community it's using hash table.</p>\n<p>Java it have a lot of collections and when read about their advantage over each other it's confusing to know which one to use.</p>\n<p>Is there any package or let's say a collection in java include all features for each type of collection it have and switch between those collection objects according to operation used as search, insert, update and delete.</p>\n<p>and if not, What advice did you give to me, solution for using them ?</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"comments":[{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1690661364,"post_id":76795044,"comment_id":135385623,"body_markdown":"You never initialize `fStore`. See the question I linked to learn how to troubleshoot this error going forward, and the documentation on [initializing Firestore in your Android app](https://firebase.google.com/docs/firestore/quickstart#kotlin+ktx_1) to learn how to initialize a reference to Firestore.","body":"You never initialize <code>fStore</code>. See the question I linked to learn how to troubleshoot this error going forward, and the documentation on <a href=\"https://firebase.google.com/docs/firestore/quickstart#kotlin+ktx_1\" rel=\"nofollow noreferrer\">initializing Firestore in your Android app</a> to learn how to initialize a reference to Firestore."}],"answers":[{"tags":[],"owner":{"account_id":21960464,"reputation":294,"user_id":16238436,"display_name":"Todd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690657206,"creation_date":1690657206,"answer_id":76795072,"question_id":76795044,"body_markdown":"I do not see where &quot;`fStore`&quot; is set.  From the code you posted it looks like maybe you forgot to set it and then attempt to use it in the line `DocumentReference df = fStore.collection(&quot;User&quot;).document(user.getUid());`.","title":"How to solve Attempt to invoke virtual method &#39;com.google.firebase.firestore.CollectionReference error","body":"<p>I do not see where &quot;<code>fStore</code>&quot; is set.  From the code you posted it looks like maybe you forgot to set it and then attempt to use it in the line <code>DocumentReference df = fStore.collection(&quot;User&quot;).document(user.getUid());</code>.</p>\n"}],"owner":{"account_id":13584166,"reputation":81,"user_id":9799333,"display_name":"Noor "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690661388,"answer_count":1,"score":0,"last_activity_date":1690661186,"creation_date":1690656773,"question_id":76795044,"body_markdown":"I&#39;m trying to achieve register a user in firestore and at the same time save the user&#39;s details into the firestore. I have successfully registered a user, but I&#39;m unable to save the user information as a collection in Firebase I&#39;m getting an error like the one below,\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/d9X2W.png\r\n\r\n&gt; **FATAL EXCEPTION: main\r\n                                                                                                    Process: com.example.loginapp, PID: 4826\r\n                                                                                                    java.lang.NullPointerException: Attempt to invoke virtual method &#39;com.google.firebase.firestore.CollectionReference com.google.firebase.firestore.FirebaseFirestore.collection(java.lang.String)&#39; on a null object reference**\r\n\r\nRegister.java\r\n\r\n```\r\npackage com.example.loginapp;\r\n\r\nimport static android.content.ContentValues.TAG;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.text.TextUtils;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.android.material.textfield.TextInputEditText;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.firestore.DocumentReference;\r\nimport com.google.firebase.firestore.FirebaseFirestore;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\npublic class Register extends AppCompatActivity {\r\n\r\n    TextInputEditText editTextEmail,editTextPassword;\r\n    EditText nameEditText;\r\n    Button buttonReg;\r\n    ProgressBar progressBar;\r\n    TextView textView;\r\n    FirebaseAuth mAuth;\r\n    FirebaseFirestore fStore;\r\n\r\n    public void onStart() {\r\n        super.onStart();\r\n        // Check if user is signed in (non-null) and update UI accordingly.\r\n        FirebaseUser currentUser = mAuth.getCurrentUser();\r\n        if(currentUser != null){\r\n            Intent intent = new Intent(getApplicationContext(), MainActivity.class);\r\n            startActivity(intent);\r\n            finish();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_register);\r\n\r\n        editTextEmail = findViewById(R.id.email);\r\n        editTextPassword = findViewById(R.id.password);\r\n        nameEditText = findViewById(R.id.regi_name);\r\n        buttonReg = findViewById(R.id.btn_register);\r\n        progressBar = findViewById(R.id.progressBar);\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n\r\n        textView = findViewById(R.id.loginNow);\r\n\r\n        textView.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(getApplicationContext(), Login.class);\r\n                startActivity(intent);\r\n                finish();\r\n            }\r\n        });\r\n\r\n        buttonReg.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                progressBar.setVisibility(View.VISIBLE);\r\n                String email, password;\r\n\r\n                email = String.valueOf(editTextEmail.getText());\r\n                password = String.valueOf(editTextPassword.getText());\r\n\r\n                if (TextUtils.isEmpty(email)){\r\n                    Toast.makeText(Register.this, &quot;Enter Email | NO Email&quot;, Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                }\r\n\r\n                if (TextUtils.isEmpty(password)){\r\n                    Toast.makeText(Register.this, &quot;Enter Password&quot;, Toast.LENGTH_SHORT).show();\r\n                    return;\r\n                }\r\n\r\n                mAuth.createUserWithEmailAndPassword(email, password)\r\n                        .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n                            @Override\r\n                            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n                                progressBar.setVisibility(View.GONE);\r\n\r\n                                if (task.isSuccessful()) {\r\n                                    Toast.makeText(Register.this, &quot;Account successfully created&quot;,\r\n                                            Toast.LENGTH_SHORT).show();\r\n                                    // save the user details to DB\r\n                                    FirebaseUser user = mAuth.getCurrentUser();\r\n                                    FirebaseUser currentFirebaseUser = FirebaseAuth.getInstance().getCurrentUser() ;\r\n                                    DocumentReference df = fStore.collection(&quot;User&quot;).document(user.getUid());\r\n                                    Map&lt;String, Object&gt;userInfo = new HashMap&lt;&gt;();\r\n                                    userInfo.put(&quot;Name&quot;,nameEditText.getText().toString());\r\n                                    userInfo.put(&quot;UserEmail&quot;,editTextEmail.getText().toString());\r\n                                     // access level\r\n                                    userInfo.put(&quot;isAdmin&quot;, &quot;0&quot;);\r\n\r\n                                    df.set(userInfo);\r\n\r\n                                    Intent intent = new Intent(getApplicationContext(), Login.class);\r\n                                    startActivity(intent);\r\n                                    finish();\r\n\r\n                                } else {\r\n                                    // If sign in fails, display a message to the user.\r\n                                    Log.w(TAG, &quot;createUserWithEmail:failure&quot;, task.getException());\r\n                                    Toast.makeText(Register.this, &quot;Authentication failed.&quot;,\r\n                                            Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            }\r\n                        });\r\n\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n*activity_register.xml*\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:padding=&quot;15dp&quot;\r\n    android:gravity=&quot;center&quot;\r\n    tools:context=&quot;.Register&quot;&gt;\r\n\r\n    &lt;TextView\r\n        android:text=&quot;@string/register&quot;\r\n        android:textSize=&quot;28sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:layout_marginBottom=&quot;15dp&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;/&gt;\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:id=&quot;@+id/regi_name&quot;\r\n            android:hint=&quot;@string/name&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;/&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:id=&quot;@+id/email&quot;\r\n            android:hint=&quot;@string/email&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;/&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n\r\n    &lt;com.google.android.material.textfield.TextInputLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n        &lt;com.google.android.material.textfield.TextInputEditText\r\n            android:id=&quot;@+id/password&quot;\r\n            android:hint=&quot;@string/password&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;/&gt;\r\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n    &lt;ProgressBar\r\n        android:id=&quot;@+id/progressBar&quot;\r\n        android:visibility=&quot;gone&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;/&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btn_register&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/btn_register&quot;\r\n        android:layout_margin=&quot;10dp&quot;/&gt;\r\n    &lt;TextView\r\n        android:id=&quot;@+id/loginNow&quot;\r\n        android:text=&quot;@string/click_to_login&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:gravity=&quot;center&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;/&gt;\r\n&lt;/LinearLayout&gt;\r\n\r\n\r\n```\r\n\r\nCan anyone help me with this?","title":"How to solve Attempt to invoke virtual method &#39;com.google.firebase.firestore.CollectionReference error","body":"<p>I'm trying to achieve register a user in firestore and at the same time save the user's details into the firestore. I have successfully registered a user, but I'm unable to save the user information as a collection in Firebase I'm getting an error like the one below,</p>\n<p><a href=\"https://i.stack.imgur.com/d9X2W.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/d9X2W.png\" alt=\"enter image description here\" /></a></p>\n<blockquote>\n<p><strong>FATAL EXCEPTION: main\nProcess: com.example.loginapp, PID: 4826\njava.lang.NullPointerException: Attempt to invoke virtual method 'com.google.firebase.firestore.CollectionReference com.google.firebase.firestore.FirebaseFirestore.collection(java.lang.String)' on a null object reference</strong></p>\n</blockquote>\n<p>Register.java</p>\n<pre><code>package com.example.loginapp;\n\nimport static android.content.ContentValues.TAG;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.text.TextUtils;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ProgressBar;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.android.material.textfield.TextInputEditText;\nimport com.google.firebase.auth.AuthResult;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\nimport com.google.firebase.firestore.DocumentReference;\nimport com.google.firebase.firestore.FirebaseFirestore;\n\nimport java.util.HashMap;\nimport java.util.Map;\n\npublic class Register extends AppCompatActivity {\n\n    TextInputEditText editTextEmail,editTextPassword;\n    EditText nameEditText;\n    Button buttonReg;\n    ProgressBar progressBar;\n    TextView textView;\n    FirebaseAuth mAuth;\n    FirebaseFirestore fStore;\n\n    public void onStart() {\n        super.onStart();\n        // Check if user is signed in (non-null) and update UI accordingly.\n        FirebaseUser currentUser = mAuth.getCurrentUser();\n        if(currentUser != null){\n            Intent intent = new Intent(getApplicationContext(), MainActivity.class);\n            startActivity(intent);\n            finish();\n        }\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_register);\n\n        editTextEmail = findViewById(R.id.email);\n        editTextPassword = findViewById(R.id.password);\n        nameEditText = findViewById(R.id.regi_name);\n        buttonReg = findViewById(R.id.btn_register);\n        progressBar = findViewById(R.id.progressBar);\n\n        mAuth = FirebaseAuth.getInstance();\n\n        textView = findViewById(R.id.loginNow);\n\n        textView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(getApplicationContext(), Login.class);\n                startActivity(intent);\n                finish();\n            }\n        });\n\n        buttonReg.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                progressBar.setVisibility(View.VISIBLE);\n                String email, password;\n\n                email = String.valueOf(editTextEmail.getText());\n                password = String.valueOf(editTextPassword.getText());\n\n                if (TextUtils.isEmpty(email)){\n                    Toast.makeText(Register.this, &quot;Enter Email | NO Email&quot;, Toast.LENGTH_SHORT).show();\n                    return;\n                }\n\n                if (TextUtils.isEmpty(password)){\n                    Toast.makeText(Register.this, &quot;Enter Password&quot;, Toast.LENGTH_SHORT).show();\n                    return;\n                }\n\n                mAuth.createUserWithEmailAndPassword(email, password)\n                        .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n                            @Override\n                            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n                                progressBar.setVisibility(View.GONE);\n\n                                if (task.isSuccessful()) {\n                                    Toast.makeText(Register.this, &quot;Account successfully created&quot;,\n                                            Toast.LENGTH_SHORT).show();\n                                    // save the user details to DB\n                                    FirebaseUser user = mAuth.getCurrentUser();\n                                    FirebaseUser currentFirebaseUser = FirebaseAuth.getInstance().getCurrentUser() ;\n                                    DocumentReference df = fStore.collection(&quot;User&quot;).document(user.getUid());\n                                    Map&lt;String, Object&gt;userInfo = new HashMap&lt;&gt;();\n                                    userInfo.put(&quot;Name&quot;,nameEditText.getText().toString());\n                                    userInfo.put(&quot;UserEmail&quot;,editTextEmail.getText().toString());\n                                     // access level\n                                    userInfo.put(&quot;isAdmin&quot;, &quot;0&quot;);\n\n                                    df.set(userInfo);\n\n                                    Intent intent = new Intent(getApplicationContext(), Login.class);\n                                    startActivity(intent);\n                                    finish();\n\n                                } else {\n                                    // If sign in fails, display a message to the user.\n                                    Log.w(TAG, &quot;createUserWithEmail:failure&quot;, task.getException());\n                                    Toast.makeText(Register.this, &quot;Authentication failed.&quot;,\n                                            Toast.LENGTH_SHORT).show();\n                                }\n                            }\n                        });\n\n            }\n        });\n    }\n}\n</code></pre>\n<p><em>activity_register.xml</em></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    android:padding=&quot;15dp&quot;\n    android:gravity=&quot;center&quot;\n    tools:context=&quot;.Register&quot;&gt;\n\n    &lt;TextView\n        android:text=&quot;@string/register&quot;\n        android:textSize=&quot;28sp&quot;\n        android:textStyle=&quot;bold&quot;\n        android:gravity=&quot;center&quot;\n        android:layout_marginBottom=&quot;15dp&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;/&gt;\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:id=&quot;@+id/regi_name&quot;\n            android:hint=&quot;@string/name&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;/&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:id=&quot;@+id/email&quot;\n            android:hint=&quot;@string/email&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;/&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n\n    &lt;com.google.android.material.textfield.TextInputLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n        &lt;com.google.android.material.textfield.TextInputEditText\n            android:id=&quot;@+id/password&quot;\n            android:hint=&quot;@string/password&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;/&gt;\n    &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n    &lt;ProgressBar\n        android:id=&quot;@+id/progressBar&quot;\n        android:visibility=&quot;gone&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;/&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btn_register&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;@string/btn_register&quot;\n        android:layout_margin=&quot;10dp&quot;/&gt;\n    &lt;TextView\n        android:id=&quot;@+id/loginNow&quot;\n        android:text=&quot;@string/click_to_login&quot;\n        android:textSize=&quot;20sp&quot;\n        android:textStyle=&quot;bold&quot;\n        android:gravity=&quot;center&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;/&gt;\n&lt;/LinearLayout&gt;\n\n\n</code></pre>\n<p>Can anyone help me with this?</p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":3056200,"reputation":108,"user_id":2589739,"display_name":"akfaisel"},"score":31,"creation_date":1482826265,"post_id":2983248,"comment_id":69885893,"body_markdown":"I was a stupid. MySQL server was not started :( It was successful after starting it.","body":"I was a stupid. MySQL server was not started :( It was successful after starting it."},{"owner":{"account_id":4006340,"reputation":1493,"user_id":3300911,"accept_rate":56,"display_name":"raikumardipak"},"score":0,"creation_date":1629877665,"post_id":2983248,"comment_id":121799752,"body_markdown":"I changed my Springboot datasource from\nurl: jdbc:mysql://XXX208465:localhost:3306/orv21_kafka_schema to\nurl: jdbc:mysql://localhost:3306/orv21_kafka_schema. So the XXX208465 was not required which is my laptop&#39;s hostname. I installed mysql in local and am using it through mySQL CLI","body":"I changed my Springboot datasource from url: jdbc:mysql://XXX208465:localhost:3306/orv21_kafka_schema to url: jdbc:mysql://localhost:3306/orv21_kafka_schema. So the XXX208465 was not required which is my laptop&#39;s hostname. I installed mysql in local and am using it through mySQL CLI"},{"owner":{"account_id":5852063,"reputation":77,"user_id":4610476,"display_name":"Suresh Huse"},"score":0,"creation_date":1687849388,"post_id":2983248,"comment_id":134990209,"body_markdown":"I am facing the same issue. On running &quot;FLUSH HOSTS;&quot; command it again starts connecting the server. But I dont want FLUSH HOSTS; rather find the root cause. Any leads? What can be the problem?","body":"I am facing the same issue. On running &quot;FLUSH HOSTS;&quot; command it again starts connecting the server. But I dont want FLUSH HOSTS; rather find the root cause. Any leads? What can be the problem?"}],"answers":[{"tags":[],"owner":{"account_id":87016,"reputation":68348,"user_id":241590,"accept_rate":99,"display_name":"stacker"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1275807038,"creation_date":1275807038,"answer_id":2983374,"question_id":2983248,"body_markdown":"Download MySQL-JDBC-Type-4-Treiber (i.g. &#39;mysql-connector-java-5.1.11-bin.jar&#39; from  &#39;mysql-connector-java-5.1.11.zip&#39;) at [Mysql](http://www.mysql.com).\r\n\r\nYou need to inculde the driver jar during compile- and runtime in your classpath.\r\n\r\n    Class.forName( &quot;com.mysql.jdbc.Driver&quot; ); // do this in init\r\n    // edit the jdbc url \r\n    Connection conn = DriverManager.getConnection( &quot;jdbc:mysql://MyDbComputerNameOrIP:3306/myDatabaseName&quot;, username, password );\r\n    Statement st = conn.createStatement();\r\n    ResultSet rs = st.executeQuery( &quot;select * from table&quot; );\r\n\r\n\r\n \r\n\r\n","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>Download MySQL-JDBC-Type-4-Treiber (i.g. 'mysql-connector-java-5.1.11-bin.jar' from  'mysql-connector-java-5.1.11.zip') at <a href=\"http://www.mysql.com\" rel=\"nofollow noreferrer\">Mysql</a>.</p>\n\n<p>You need to inculde the driver jar during compile- and runtime in your classpath.</p>\n\n<pre><code>Class.forName( \"com.mysql.jdbc.Driver\" ); // do this in init\n// edit the jdbc url \nConnection conn = DriverManager.getConnection( \"jdbc:mysql://MyDbComputerNameOrIP:3306/myDatabaseName\", username, password );\nStatement st = conn.createStatement();\nResultSet rs = st.executeQuery( \"select * from table\" );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":138860,"reputation":630,"user_id":344079,"accept_rate":43,"display_name":"Karl Walsh"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1275818631,"creation_date":1275818631,"answer_id":2983792,"question_id":2983248,"body_markdown":"I might be barking up the wrong tree here, but your exception seems to indicate your MySQL server isn&#39;t available.\r\n\r\n&gt; Exception in thread &quot;main&quot; com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: \r\nCommunications link failureThe last packet sent successfully to the server was 0 \r\nmilliseconds ago. The driver has not received any packets from the server.  at...\r\n\r\nWhat happens if you try (from the terminal) \r\n\r\n    mysql -u username -p\r\n\r\nYou will be prompted for the password associated with the username. After you give the correct password does the mysql client connect?\r\n\r\nYou may have to start MySQL from the Preferences if not. You can also set it to run at startup.","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>I might be barking up the wrong tree here, but your exception seems to indicate your MySQL server isn't available.</p>\n\n<blockquote>\n  <p>Exception in thread \"main\" com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: \n  Communications link failureThe last packet sent successfully to the server was 0 \n  milliseconds ago. The driver has not received any packets from the server.  at...</p>\n</blockquote>\n\n<p>What happens if you try (from the terminal) </p>\n\n<pre><code>mysql -u username -p\n</code></pre>\n\n<p>You will be prompted for the password associated with the username. After you give the correct password does the mysql client connect?</p>\n\n<p>You may have to start MySQL from the Preferences if not. You can also set it to run at startup.</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":2,"up_vote_count":327,"is_accepted":true,"score":325,"last_activity_date":1469599302,"creation_date":1275846040,"answer_id":2985169,"question_id":2983248,"body_markdown":"So, you have a \r\n\r\n&gt; com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure  \r\n&gt; java.net.ConnectException: Connection refused\r\n\r\nI&#39;m quoting from [this answer][1] which also contains a step-by-step MySQL+JDBC tutorial:\r\n\r\n&gt;    If you get a `SQLException: Connection refused` or `Connection timed out` or a MySQL specific `CommunicationsException: \r\nCommunications link failure`, then it means that the DB isn&#39;t reachable at all. This can have one or more of the following causes:\r\n\r\n&gt;    1. IP address or hostname in JDBC URL is wrong.\r\n&gt;    2. Hostname in JDBC URL is not recognized by local DNS server.\r\n&gt;    3. Port number is missing or wrong in JDBC URL.\r\n&gt;    4. DB server is down.\r\n&gt;    5. DB server doesn&#39;t accept TCP/IP connections.\r\n&gt;    6. DB server has run out of connections.\r\n&gt;    7. Something in between Java and DB is blocking connections, e.g. a firewall or proxy.\r\n&gt;&lt;br&gt;&lt;br&gt;\r\n&gt;\r\n&gt; To solve the one or the other, follow the following advices:\r\n&gt;\r\n&gt;    1. Verify and test them with `ping`.\r\n&gt;    2. Refresh DNS or use IP address in JDBC URL instead.\r\n&gt;    3. Verify it based on `my.cnf` of MySQL DB.\r\n&gt;    4. Start the DB.\r\n&gt;    5. Verify if mysqld is started without the `--skip-networking option`.\r\n&gt;    6. Restart the DB and fix your code accordingly that it closes connections in `finally`.\r\n&gt;    7. Disable firewall and/or configure firewall/proxy to allow/forward the port.\r\n&lt;br&gt;&lt;br&gt;\r\n\r\n###See also:\r\n\r\n- https://stackoverflow.com/questions/2299469/how-should-i-connect-to-jdbc-database-datasource-in-a-servlet-based-applicatio\r\n- https://stackoverflow.com/questions/9428573/is-it-safe-to-use-a-static-java-sql-connection-instance-in-a-multithreaded-syste\r\n\r\n  [1]: https://stackoverflow.com/questions/2839321/java-connectivity-with-mysql/2840358#2840358","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>So, you have a </p>\n\n<blockquote>\n  <p>com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure<br>\n  java.net.ConnectException: Connection refused</p>\n</blockquote>\n\n<p>I'm quoting from <a href=\"https://stackoverflow.com/questions/2839321/java-connectivity-with-mysql/2840358#2840358\">this answer</a> which also contains a step-by-step MySQL+JDBC tutorial:</p>\n\n<blockquote>\n  <p>If you get a <code>SQLException: Connection refused</code> or <code>Connection timed out</code> or a MySQL specific <code>CommunicationsException: \n  Communications link failure</code>, then it means that the DB isn't reachable at all. This can have one or more of the following causes:</p>\n  \n  <ol>\n  <li>IP address or hostname in JDBC URL is wrong.</li>\n  <li>Hostname in JDBC URL is not recognized by local DNS server.</li>\n  <li>Port number is missing or wrong in JDBC URL.</li>\n  <li>DB server is down.</li>\n  <li>DB server doesn't accept TCP/IP connections.</li>\n  <li>DB server has run out of connections.</li>\n  <li>Something in between Java and DB is blocking connections, e.g. a firewall or proxy.\n  <br><br></li>\n  </ol>\n  \n  <p>To solve the one or the other, follow the following advices:</p>\n  \n  <ol>\n  <li>Verify and test them with <code>ping</code>.</li>\n  <li>Refresh DNS or use IP address in JDBC URL instead.</li>\n  <li>Verify it based on <code>my.cnf</code> of MySQL DB.</li>\n  <li>Start the DB.</li>\n  <li>Verify if mysqld is started without the <code>--skip-networking option</code>.</li>\n  <li>Restart the DB and fix your code accordingly that it closes connections in <code>finally</code>.</li>\n  <li>Disable firewall and/or configure firewall/proxy to allow/forward the port.\n  <br><br></li>\n  </ol>\n</blockquote>\n\n<h3>See also:</h3>\n\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/2299469/how-should-i-connect-to-jdbc-database-datasource-in-a-servlet-based-applicatio\">How should I connect to JDBC database / datasource in a servlet based application?</a></li>\n<li><a href=\"https://stackoverflow.com/questions/9428573/is-it-safe-to-use-a-static-java-sql-connection-instance-in-a-multithreaded-syste\">Is it safe to use a static java.sql.Connection instance in a multithreaded system?</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1655674,"reputation":81,"user_id":1525313,"display_name":"rs2012"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1365051235,"creation_date":1365051235,"answer_id":15802788,"question_id":2983248,"body_markdown":"I got the same error because I was trying to run my program without starting mysql server. \r\n\r\nAfter starting the mysql server, everything went right.","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>I got the same error because I was trying to run my program without starting mysql server. </p>\n\n<p>After starting the mysql server, everything went right.</p>\n"},{"tags":[],"owner":{"account_id":2304091,"reputation":8985,"user_id":2023728,"accept_rate":83,"display_name":"mel3kings"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1368341958,"creation_date":1368341958,"answer_id":16504970,"question_id":2983248,"body_markdown":"Just experienced this.\r\n\r\nGot to make it work by:\r\n(this can be placed in the static block intializer)\r\n\r\n    static{ // would have to be surrounded by try catch\r\n        Class.forName(&quot;com.mysql.jdbc.Driver&quot;);   // this will load the class Driver\r\n    }\r\n\r\nAlso by obtaining the connection through:\r\n\r\n    conn = DriverManager.getConnection(DBURL,&lt;username&gt;,&lt;password&gt;);\r\n\r\ninstead of specifying the login parameters \r\n\r\n      Connection conn = DriverManager.getConnection( &quot;jdbc:mysql://localhost:3306/projects?user=user1&amp;password=123&quot;);\r\n\r\nRegards.\r\n\r\n  ","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>Just experienced this.</p>\n\n<p>Got to make it work by:\n(this can be placed in the static block intializer)</p>\n\n<pre><code>static{ // would have to be surrounded by try catch\n    Class.forName(\"com.mysql.jdbc.Driver\");   // this will load the class Driver\n}\n</code></pre>\n\n<p>Also by obtaining the connection through:</p>\n\n<pre><code>conn = DriverManager.getConnection(DBURL,&lt;username&gt;,&lt;password&gt;);\n</code></pre>\n\n<p>instead of specifying the login parameters </p>\n\n<pre><code>  Connection conn = DriverManager.getConnection( \"jdbc:mysql://localhost:3306/projects?user=user1&amp;password=123\");\n</code></pre>\n\n<p>Regards.</p>\n"},{"tags":[],"owner":{"account_id":1872336,"reputation":131,"user_id":1694306,"display_name":"user1694306"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1368729637,"creation_date":1368728420,"answer_id":16594661,"question_id":2983248,"body_markdown":"I catch this exception when Java out of heap. If I try to put in RAM many data items - first I catch &quot;**Communications link failure**&quot; and next &quot;**OutOfMemoryError**&quot;. \r\n\r\nI logged it and  I decrease memory consumption (delete 1/2 data) and all ok.","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>I catch this exception when Java out of heap. If I try to put in RAM many data items - first I catch \"<strong>Communications link failure</strong>\" and next \"<strong>OutOfMemoryError</strong>\". </p>\n\n<p>I logged it and  I decrease memory consumption (delete 1/2 data) and all ok.</p>\n"},{"tags":[],"owner":{"account_id":4159848,"reputation":191,"user_id":3410186,"display_name":"sureshAngamuthu"},"down_vote_count":5,"up_vote_count":20,"is_accepted":false,"score":15,"last_activity_date":1578040666,"creation_date":1394620327,"answer_id":22348666,"question_id":2983248,"body_markdown":"In my case, I needed to do a replacement of Localhost to the actual database server IP address\r\n\r\n Instead of \r\n\r\n     Connection con = DriverManager.getConnection(\r\n     &quot;jdbc:mysql://localhost:3306/DBname&quot;, &quot;root&quot;, &quot;root&quot;);\r\n\r\nI needed \r\n    \r\n     Connection con = DriverManager.getConnection(\r\n     &quot;jdbc:mysql://192.100.0.000:3306/DBname&quot;, &quot;root&quot;, &quot;root&quot;);\r\n\r\n\r\n","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>In my case, I needed to do a replacement of Localhost to the actual database server IP address</p>\n\n<p>Instead of </p>\n\n<pre><code> Connection con = DriverManager.getConnection(\n \"jdbc:mysql://localhost:3306/DBname\", \"root\", \"root\");\n</code></pre>\n\n<p>I needed </p>\n\n<pre><code> Connection con = DriverManager.getConnection(\n \"jdbc:mysql://192.100.0.000:3306/DBname\", \"root\", \"root\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4183285,"reputation":9,"user_id":3427633,"display_name":"user3427633"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1395035776,"creation_date":1395034489,"answer_id":22447608,"question_id":2983248,"body_markdown":"I had the same problem, and here&#39;s how it was fixed:\r\n\r\n 1. My .jsp was calling attributes that I had not yet defined in the\r\n    servlet.\r\n 2. I had two column names that I was passing into an object through `ResultSet (getString(&quot;columnName&quot;))` that didn&#39;t match the column names in my database.\r\n\r\nI&#39;m not exactly sure which one fixed the problem, but it worked. Also, be sure that you create a new `Statement` and `ResultSet` for each table query.","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>I had the same problem, and here's how it was fixed:</p>\n\n<ol>\n<li>My .jsp was calling attributes that I had not yet defined in the\nservlet.</li>\n<li>I had two column names that I was passing into an object through <code>ResultSet (getString(\"columnName\"))</code> that didn't match the column names in my database.</li>\n</ol>\n\n<p>I'm not exactly sure which one fixed the problem, but it worked. Also, be sure that you create a new <code>Statement</code> and <code>ResultSet</code> for each table query.</p>\n"},{"tags":[],"owner":{"account_id":3202267,"reputation":2714,"user_id":2704113,"accept_rate":50,"display_name":"Sreedhar GS"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1578040783,"creation_date":1397329678,"answer_id":23034876,"question_id":2983248,"body_markdown":"Please update your IP address in /etc/mysql/my.cnf file\r\n\r\n    bind-address  = 0.0.0.0\r\n\r\nRestart mysql deamon and mysql services.\r\n\r\n","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>Please update your IP address in /etc/mysql/my.cnf file</p>\n\n<pre><code>bind-address  = 0.0.0.0\n</code></pre>\n\n<p>Restart mysql deamon and mysql services.</p>\n"},{"tags":[],"owner":{"account_id":3236880,"reputation":12685,"user_id":2730862,"display_name":"Haimei"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1580106048,"creation_date":1401735293,"answer_id":24001346,"question_id":2983248,"body_markdown":"My same problem is solved by the following steps:\r\n\r\n\r\n1. Go to `my.cnf`\r\n\r\n        vi /etc/mysql/my.cnf\r\n\r\n\r\n2. Modify its bind-address\r\n\r\n        &quot;bind-address = 0.0.0.0&quot;\r\n\r\n3. Restart MySQL\r\n\r\n        sudo /etc/init.d/mysql restart","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>My same problem is solved by the following steps:</p>\n\n<ol>\n<li><p>Go to <code>my.cnf</code></p>\n\n<pre><code>vi /etc/mysql/my.cnf\n</code></pre></li>\n<li><p>Modify its bind-address</p>\n\n<pre><code>\"bind-address = 0.0.0.0\"\n</code></pre></li>\n<li><p>Restart MySQL</p>\n\n<pre><code>sudo /etc/init.d/mysql restart\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5276240,"reputation":39,"user_id":4212915,"display_name":"Ankit Jain"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1415079727,"creation_date":1415077803,"answer_id":26728125,"question_id":2983248,"body_markdown":"It could be a simple jar problem. may be you are using a old `mysql-connector-java-XXX-bin.jar` which is not supported by your current mysql version. i used   `mysql-connector-java-5.1.18-bin.jar` as i am using `mysql 5.5` and this problem is resolved for me.","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>It could be a simple jar problem. may be you are using a old <code>mysql-connector-java-XXX-bin.jar</code> which is not supported by your current mysql version. i used   <code>mysql-connector-java-5.1.18-bin.jar</code> as i am using <code>mysql 5.5</code> and this problem is resolved for me.</p>\n"},{"tags":[],"owner":{"account_id":469868,"reputation":5329,"user_id":876739,"accept_rate":57,"display_name":"xrcwrn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1415078342,"creation_date":1415078342,"answer_id":26728218,"question_id":2983248,"body_markdown":"\r\nIf you are using `WAMP` or `XAMP` server to install mysql database.\r\nThen you have to explicitly start mysql sever other wise it will show \r\n`com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure` while connecting with database","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>If you are using <code>WAMP</code> or <code>XAMP</code> server to install mysql database.\nThen you have to explicitly start mysql sever other wise it will show \n<code>com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure</code> while connecting with database</p>\n"},{"tags":[],"owner":{"account_id":3191409,"reputation":77,"user_id":2695558,"accept_rate":100,"display_name":"Maheshkumar.V"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1454690537,"creation_date":1415873105,"answer_id":26906139,"question_id":2983248,"body_markdown":"If you changed your port, you get this kind of error &quot;com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure&quot;\r\nPlease check your port number","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>If you changed your port, you get this kind of error \"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\"\nPlease check your port number</p>\n"},{"tags":[],"owner":{"account_id":5807560,"reputation":777,"user_id":4579740,"display_name":"Yogesh Funde"},"down_vote_count":1,"up_vote_count":13,"is_accepted":false,"score":12,"last_activity_date":1424969213,"creation_date":1424942570,"answer_id":28738544,"question_id":2983248,"body_markdown":"This `com.mysql.jdbc.exceptions.jdbc4.CommunicationsException` exception occurs if your database connection is idle for long time. \r\n\r\nThis idle connection returns true on `connection.isClosed();` but if we try to execute statement then it will fire this exception so I will suggest to go with database pooling. ","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>This <code>com.mysql.jdbc.exceptions.jdbc4.CommunicationsException</code> exception occurs if your database connection is idle for long time. </p>\n\n<p>This idle connection returns true on <code>connection.isClosed();</code> but if we try to execute statement then it will fire this exception so I will suggest to go with database pooling. </p>\n"},{"tags":[],"owner":{"account_id":5960644,"reputation":21,"user_id":4685927,"display_name":"Dario Castro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1429197606,"creation_date":1429197606,"answer_id":29679157,"question_id":2983248,"body_markdown":"i solved this problem  in a easy way, that worked for me. i had the seme problem &quot;com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure&quot;. In my db.properties file  i had this :  url:jdbc:mysql://localhost:90/myDB,\r\nonly removed the port url , resulting in this manner url:jdbc:mysql://localhost/myDB  and that worked for me.","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>i solved this problem  in a easy way, that worked for me. i had the seme problem \"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\". In my db.properties file  i had this :  url:jdbc:mysql://localhost:90/myDB,\nonly removed the port url , resulting in this manner url:jdbc:mysql://localhost/myDB  and that worked for me.</p>\n"},{"tags":[],"owner":{"account_id":6232587,"reputation":91,"user_id":4848823,"display_name":"Abdul Rahim Mohamad"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1430360485,"creation_date":1430360181,"answer_id":29957898,"question_id":2983248,"body_markdown":"I&#39;ve been having the same problem for hours. I&#39;m using MAMP Server\r\n\r\nInstead of using localhost:[Apache Port], use your MySQL port.\r\n\r\nBelow is the default MySQL Port for MAMP server.\r\n\r\n\tString url = &quot;jdbc:mysql://localhost:8889/db_name&quot;;\r\n\r\n\tConnection conn = DriverManager.getConnection(url, dbUsername, dbPassword);","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>I've been having the same problem for hours. I'm using MAMP Server</p>\n\n<p>Instead of using localhost:[Apache Port], use your MySQL port.</p>\n\n<p>Below is the default MySQL Port for MAMP server.</p>\n\n<pre><code>String url = \"jdbc:mysql://localhost:8889/db_name\";\n\nConnection conn = DriverManager.getConnection(url, dbUsername, dbPassword);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6253947,"reputation":934,"user_id":4863163,"accept_rate":69,"display_name":"MrPencil"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1431684520,"creation_date":1431684520,"answer_id":30256776,"question_id":2983248,"body_markdown":"Thats happened to me when I changed the mysql port from 3306 to 3307 in my.ini and the php.ini files but after changing  the ports (3307-&gt;3306) back  it worked fine again. ","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>Thats happened to me when I changed the mysql port from 3306 to 3307 in my.ini and the php.ini files but after changing  the ports (3307->3306) back  it worked fine again. </p>\n"},{"tags":[],"owner":{"account_id":1490980,"reputation":4670,"user_id":1398065,"accept_rate":86,"display_name":"shellbye"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1556988175,"creation_date":1435805648,"answer_id":31174882,"question_id":2983248,"body_markdown":"In my case, turn out to be that the version of ```mysql-connector-java``` was too old.\r\n\r\nIn my demo, I somehow use ```mysql-connector-java``` like this:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;5.1.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nBut in the develop environment, I use this:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;5.1.31&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAnd my MySQL version was 5.1.48(yes, it is old, just for mimic the product version). So I met the same error.\r\n\r\nSince the reason is found, the solution is found, too. Match the version!","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>In my case, turn out to be that the version of <code>mysql-connector-java</code> was too old.</p>\n\n<p>In my demo, I somehow use <code>mysql-connector-java</code> like this:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;5.1.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>But in the develop environment, I use this:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;5.1.31&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And my MySQL version was 5.1.48(yes, it is old, just for mimic the product version). So I met the same error.</p>\n\n<p>Since the reason is found, the solution is found, too. Match the version!</p>\n"},{"tags":[],"owner":{"account_id":3935287,"reputation":922,"user_id":3251882,"accept_rate":25,"display_name":"user3251882"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1484946710,"creation_date":1482403000,"answer_id":41281127,"question_id":2983248,"body_markdown":"Earlier answers are appropriate . But , I would also like to point towards a more generic issue.\r\n\r\nI faced similar issue and the reason was a network restriction of my company.\r\n\r\nSame connection was getting successful when I was in any other network.","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>Earlier answers are appropriate . But , I would also like to point towards a more generic issue.</p>\n\n<p>I faced similar issue and the reason was a network restriction of my company.</p>\n\n<p>Same connection was getting successful when I was in any other network.</p>\n"},{"tags":[],"owner":{"account_id":1045249,"reputation":3627,"user_id":1050389,"accept_rate":56,"display_name":"aclowkay"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1482930694,"creation_date":1482930694,"answer_id":41362843,"question_id":2983248,"body_markdown":"If there are any readers who encountered this issue for accessing remote server: make sure the port is open","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>If there are any readers who encountered this issue for accessing remote server: make sure the port is open</p>\n"},{"tags":[],"owner":{"account_id":1848023,"reputation":3458,"user_id":1841143,"accept_rate":78,"display_name":"Haozhe Xie"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1495070691,"creation_date":1495070691,"answer_id":44037137,"question_id":2983248,"body_markdown":"Try to change `localhost` to `127.0.0.1`.\r\n\r\nThe localhost would be resolved to `::1`. And MySQL cannot be connected via IPv6 by default.\r\n\r\nAnd here is the output of `telnet localhost 3306`:\r\n\r\n    $ telnet localhost 3306\r\n    Trying ::1...\r\n\r\nAnd there is no response from MySQL server.\r\n\r\nOf course, please make sure your MySQL server is running.","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>Try to change <code>localhost</code> to <code>127.0.0.1</code>.</p>\n\n<p>The localhost would be resolved to <code>::1</code>. And MySQL cannot be connected via IPv6 by default.</p>\n\n<p>And here is the output of <code>telnet localhost 3306</code>:</p>\n\n<pre><code>$ telnet localhost 3306\nTrying ::1...\n</code></pre>\n\n<p>And there is no response from MySQL server.</p>\n\n<p>Of course, please make sure your MySQL server is running.</p>\n"},{"tags":[],"owner":{"account_id":6858896,"reputation":471,"user_id":5273627,"display_name":"shivam gupta"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1500825886,"creation_date":1500825886,"answer_id":45267148,"question_id":2983248,"body_markdown":"Maybe you did not start your Mysql and Apache Server. After I started Apache server and Mysql from XAMPP Control Panel, connection was successfully established.\r\n\r\nGood luck!","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>Maybe you did not start your Mysql and Apache Server. After I started Apache server and Mysql from XAMPP Control Panel, connection was successfully established.</p>\n\n<p>Good luck!</p>\n"},{"tags":[],"owner":{"account_id":5048178,"reputation":174,"user_id":4053513,"accept_rate":50,"display_name":"Abdul Khalid"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1502870803,"creation_date":1502870803,"answer_id":45708280,"question_id":2983248,"body_markdown":"What solved for me is doing 2 thing:\r\n 1. create new user other than root with some password using following connads:\r\n \r\n\r\n    CREATE USER &#39;newuser&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;password&#39;;\r\n    GRANT ALL PRIVILEGES ON *.* TO &#39;newuser&#39;@&#39;localhost&#39;;\r\n    FLUSH PRIVILEGES;\r\n 2. comment IP address line on mysqld.conf\r\n\r\n\r\nthen connect with new username and password. it should work.\r\n\r\n","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>What solved for me is doing 2 thing:\n 1. create new user other than root with some password using following connads:</p>\n\n<pre><code>CREATE USER 'newuser'@'localhost' IDENTIFIED BY 'password';\nGRANT ALL PRIVILEGES ON *.* TO 'newuser'@'localhost';\nFLUSH PRIVILEGES;\n</code></pre>\n\n<p>2. comment IP address line on mysqld.conf</p>\n\n<p>then connect with new username and password. it should work.</p>\n"},{"tags":[],"owner":{"account_id":2394186,"reputation":3386,"user_id":2093371,"display_name":"hestellezg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518476833,"creation_date":1518476833,"answer_id":48757039,"question_id":2983248,"body_markdown":"It was trying to connect to an older version of MySQL (&#39;version&#39;, &#39;5.1.73&#39;\r\n); when you use a newer driver version you get an error that tells you to use the **&quot;com.mysql.cj.jdbc.Driver** or even that you don&#39;t have to especify which one you use:\r\n\r\n&gt; Loading class `com.mysql.jdbc.Driver&#39;. This is deprecated. The new\r\n&gt; driver class is `com.mysql.cj.jdbc.Driver&#39;. The driver is\r\n&gt; automatically registered via the SPI and manual loading of the driver\r\n&gt; class is generally unnecessary.\r\n\r\nI changed the declaration to use 5.1.38 version of the mysql-connector-java and, in the code, I kept the **com.mysql.jdbc.Driver**.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n        &lt;version&gt;5.1.38&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nAll started when I saw the Ankit Jain&#39;s [answer][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/26728125/2093371","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>It was trying to connect to an older version of MySQL ('version', '5.1.73'\n); when you use a newer driver version you get an error that tells you to use the <strong>\"com.mysql.cj.jdbc.Driver</strong> or even that you don't have to especify which one you use:</p>\n\n<blockquote>\n  <p>Loading class <code>com.mysql.jdbc.Driver'. This is deprecated. The new\n  driver class is</code>com.mysql.cj.jdbc.Driver'. The driver is\n  automatically registered via the SPI and manual loading of the driver\n  class is generally unnecessary.</p>\n</blockquote>\n\n<p>I changed the declaration to use 5.1.38 version of the mysql-connector-java and, in the code, I kept the <strong>com.mysql.jdbc.Driver</strong>.</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;5.1.38&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>All started when I saw the Ankit Jain's <a href=\"https://stackoverflow.com/a/26728125/2093371\">answer</a></p>\n"},{"tags":[],"owner":{"account_id":4039095,"reputation":436,"user_id":3322464,"accept_rate":100,"display_name":"Michal Sipek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1528352240,"creation_date":1528352240,"answer_id":50734132,"question_id":2983248,"body_markdown":"My firewall was blocking post 3307 which my MySQL listening on. So I changed port from 3307 to 3306.Then I can successfully connect to a database.","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>My firewall was blocking post 3307 which my MySQL listening on. So I changed port from 3307 to 3306.Then I can successfully connect to a database.</p>\n"},{"tags":[],"owner":{"account_id":10919070,"reputation":343,"user_id":8025999,"display_name":"m Piroli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540394153,"creation_date":1540394153,"answer_id":52972548,"question_id":2983248,"body_markdown":"In my MacBook i have solvet this error only when reinstall the new version of eclipse EE and remove local servers like xamp mysql or mamp but use only one of them ...\r\n","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>In my MacBook i have solvet this error only when reinstall the new version of eclipse EE and remove local servers like xamp mysql or mamp but use only one of them ...</p>\n"},{"tags":[],"owner":{"account_id":12971177,"reputation":153,"user_id":9376870,"display_name":"Prakhar Agrawal"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1541228090,"creation_date":1541228090,"answer_id":53129149,"question_id":2983248,"body_markdown":"I was facing the same problem while i was starting my application, \r\n\r\n    Caused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\n        The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\r\nThe issue was that in the mysql file **/etc/mysql/mysql.conf.d/mysqld.cnf**, the configuration was like that\r\n\r\n    [mysqld]\r\n    pid-file        = /var/run/mysqld/mysqld.pid\r\n    socket          = /var/run/mysqld/mysqld.sock\r\n    datadir         = /var/lib/mysql\r\n    log-error       = /var/log/mysql/error.log\r\n    # By default we only accept connections from localhost\r\n    bind-address    = 127.0.0.1\r\n    # Disabling symbolic-links is recommended to prevent assorted security risks\r\n    symbolic-links=0\r\n\r\nSo as we can see that bind address is pointing to the 127.0.0.1, so for starting your application, a simple solution is that we can use the **jdbc:mysql://127.0.0.1:3306/pizzeria** instead of **jdbc:mysql://localhost:3306/pizzeria** which will connect the mysql to the application or another solution is that you can check and change the mysql configurations to default.Both solution can work.\r\nI hope it will work for you guys too.\r\n \r\n","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>I was facing the same problem while i was starting my application, </p>\n\n<pre><code>Caused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n</code></pre>\n\n<p>The issue was that in the mysql file <strong>/etc/mysql/mysql.conf.d/mysqld.cnf</strong>, the configuration was like that</p>\n\n<pre><code>[mysqld]\npid-file        = /var/run/mysqld/mysqld.pid\nsocket          = /var/run/mysqld/mysqld.sock\ndatadir         = /var/lib/mysql\nlog-error       = /var/log/mysql/error.log\n# By default we only accept connections from localhost\nbind-address    = 127.0.0.1\n# Disabling symbolic-links is recommended to prevent assorted security risks\nsymbolic-links=0\n</code></pre>\n\n<p>So as we can see that bind address is pointing to the 127.0.0.1, so for starting your application, a simple solution is that we can use the <strong>jdbc:mysql://127.0.0.1:3306/pizzeria</strong> instead of <strong>jdbc:mysql://localhost:3306/pizzeria</strong> which will connect the mysql to the application or another solution is that you can check and change the mysql configurations to default.Both solution can work.\nI hope it will work for you guys too.</p>\n"},{"tags":[],"owner":{"account_id":6072621,"reputation":898,"user_id":4740914,"display_name":"Yugerten"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578041018,"creation_date":1541624779,"answer_id":53197814,"question_id":2983248,"body_markdown":"**For *Remote* Call to Mysql**  \r\n\r\n 1. Add *remote user* to *Mysql* from for exemple  IP=remoteIP :\r\n\r\n        mysql -u xxxx -p //local coonection to mysql\r\n        mysql&gt; GRANT ALL PRIVILEGES ON *.* TO &#39;theNewUser&#39;@&#39;remoteIP&#39; IDENTIFIED BY &#39;passWord&#39;;\r\n        //Query OK, 0 rows affected (xx sec)\r\n        mysql&gt; FLUSH PRIVILEGES;\r\n        //Query OK, 0 rows affected\r\n\r\n 2. Allow *remote access* to Mysql (by default all externall call is not allowed):\r\n\r\n        Edit \r\n        /etc/mysql/mysql.conf.d/mysqld.cnf    or    /etc/mysql/my.cnf\r\n        Change line:  bind-address = 127.0.0.1   to\r\n                      bind-address = 0.0.0.0\r\n        Restart Mysql: /etc/init.d/mysql restart\r\n 3. For The latest version of JDBC Driver, the JDBC :\r\n        \r\n        jdbc.url=&#39;jdbc:mysql://remoteIP:3306/yourDbInstance?autoReconnect=true&amp;amp;useUnicode=true&amp;amp;useJDBCCompliantTimezoneShift=true&amp;amp;useLegacyDatetimeCode=false&amp;amp;serverTimezone=UTC&#39;\r\n        jdbc.user=&#39;theNewUser&#39;","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p><strong>For <em>Remote</em> Call to Mysql</strong>  </p>\n\n<ol>\n<li><p>Add <em>remote user</em> to <em>Mysql</em> from for exemple  IP=remoteIP :</p>\n\n<pre><code>mysql -u xxxx -p //local coonection to mysql\nmysql&gt; GRANT ALL PRIVILEGES ON *.* TO 'theNewUser'@'remoteIP' IDENTIFIED BY 'passWord';\n//Query OK, 0 rows affected (xx sec)\nmysql&gt; FLUSH PRIVILEGES;\n//Query OK, 0 rows affected\n</code></pre></li>\n<li><p>Allow <em>remote access</em> to Mysql (by default all externall call is not allowed):</p>\n\n<pre><code>Edit \n/etc/mysql/mysql.conf.d/mysqld.cnf    or    /etc/mysql/my.cnf\nChange line:  bind-address = 127.0.0.1   to\n              bind-address = 0.0.0.0\nRestart Mysql: /etc/init.d/mysql restart\n</code></pre></li>\n<li><p>For The latest version of JDBC Driver, the JDBC :</p>\n\n<pre><code>jdbc.url='jdbc:mysql://remoteIP:3306/yourDbInstance?autoReconnect=true&amp;amp;useUnicode=true&amp;amp;useJDBCCompliantTimezoneShift=true&amp;amp;useLegacyDatetimeCode=false&amp;amp;serverTimezone=UTC'\njdbc.user='theNewUser'\n</code></pre></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1820446,"reputation":3830,"user_id":1654631,"accept_rate":0,"display_name":"Shiv Buyya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578041210,"creation_date":1542435516,"answer_id":53348776,"question_id":2983248,"body_markdown":"Open file /etc/mysql/my.cnf:\r\nchange below parameter from \r\n\r\n`bind-address = 127.0.0.1 \r\n\r\nto \r\n\r\nbind-address = 0.0.0.0 #this allows all systems to connect \r\n\r\nRun below command in mysql for specific IP Address-&gt;\r\n\r\n    grant all privileges on dbname.* to dbusername@&#39;192.168.0.3&#39; IDENTIFIED BY &#39;dbpassword&#39;;                      \r\n\r\nIf you want to give access to all IP Address, run below command:\r\n\r\n    grant all privileges on dbname.* to dbusername@&#39;%&#39; IDENTIFIED BY &#39;dbpassword&#39;; \r\n\r\n","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>Open file /etc/mysql/my.cnf:\nchange below parameter from </p>\n\n<p>`bind-address = 127.0.0.1 </p>\n\n<p>to </p>\n\n<p>bind-address = 0.0.0.0 #this allows all systems to connect </p>\n\n<p>Run below command in mysql for specific IP Address-></p>\n\n<pre><code>grant all privileges on dbname.* to dbusername@'192.168.0.3' IDENTIFIED BY 'dbpassword';                      \n</code></pre>\n\n<p>If you want to give access to all IP Address, run below command:</p>\n\n<pre><code>grant all privileges on dbname.* to dbusername@'%' IDENTIFIED BY 'dbpassword'; \n</code></pre>\n"},{"tags":[],"owner":{"account_id":6010670,"reputation":1863,"user_id":4721232,"display_name":"FullStack Alex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545529455,"creation_date":1545529455,"answer_id":53900594,"question_id":2983248,"body_markdown":"In my case I had to establish an ssh tunnel to the remote database and all the settings were correct and testing the connection with PhpStorm were also successful. And also the schema was loaded, but not the data. Instead I got: \r\n\r\n    [08S01] Communications link failure. The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n\r\nNo of the suggestions above worked. For any reason I tried to solve the problem by simply restarting PhpStorm and voila it worked!","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>In my case I had to establish an ssh tunnel to the remote database and all the settings were correct and testing the connection with PhpStorm were also successful. And also the schema was loaded, but not the data. Instead I got: </p>\n\n<pre><code>[08S01] Communications link failure. The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n</code></pre>\n\n<p>No of the suggestions above worked. For any reason I tried to solve the problem by simply restarting PhpStorm and voila it worked!</p>\n"},{"tags":[],"owner":{"account_id":13420325,"reputation":96,"user_id":9683314,"display_name":"Chase Owens"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1548194921,"creation_date":1548194921,"answer_id":54317184,"question_id":2983248,"body_markdown":"Also your server might just be closed. On a Mac, navigate to mySQL preference panel through the spotlight. When there, check the box to start your server when your computer starts and start the server.","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>Also your server might just be closed. On a Mac, navigate to mySQL preference panel through the spotlight. When there, check the box to start your server when your computer starts and start the server.</p>\n"},{"tags":[],"owner":{"account_id":6087537,"reputation":2443,"user_id":4750980,"accept_rate":75,"display_name":"10110"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1549813710,"creation_date":1549812637,"answer_id":54617959,"question_id":2983248,"body_markdown":"I was receiving multiple errors such as:\r\n\r\n - `CommunicationsException: Communications link failure` \r\n - `java.lang.NullPointerException: Attempt to invoke interface method &#39;java.sql.Statement java.sql.Connection.createStatement()&#39; on a null object reference at `.\r\n\r\nI had to add:\r\n\r\n- In AndroidManifest.xml include `&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;` just after the opening manifest tag.\r\n\r\n- Add the JDBC driver into your Gradle (or Maven) dependencies.\r\n\r\n","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>I was receiving multiple errors such as:</p>\n\n<ul>\n<li><code>CommunicationsException: Communications link failure</code> </li>\n<li><code>java.lang.NullPointerException: Attempt to invoke interface method 'java.sql.Statement java.sql.Connection.createStatement()' on a null object reference at</code>.</li>\n</ul>\n\n<p>I had to add:</p>\n\n<ul>\n<li><p>In AndroidManifest.xml include <code>&lt;uses-permission android:name=\"android.permission.INTERNET\"/&gt;</code> just after the opening manifest tag.</p></li>\n<li><p>Add the JDBC driver into your Gradle (or Maven) dependencies.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7764281,"reputation":811,"user_id":10336411,"display_name":"Peter Chen"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1578041236,"creation_date":1553629156,"answer_id":55365072,"question_id":2983248,"body_markdown":"I have the same connection error:\r\nThe problem I have is I used MySQL 8.0.15 but the Java Connector is 5.x.x.\r\n\r\nBelow is how I fixed it.\r\n1. download the 8.0.15. from Maven repository:\r\nhttps://search.maven.org/search?q=g:mysql%20AND%20a:mysql-connector-java\r\n\r\n2. In the Eclipse IDE, select the &quot;Referenced Libraries&quot; in Explorer\r\nRight Mouse Button &gt; Build Path &gt; Configure Build Path\r\na. remove the &quot;mysql-connector-5.x.jar&quot;\r\nb. Click &quot;Add External JARs...&quot; and select mysql-connector-java-8.0.15.jar.\r\n\r\nRe-run it, the problem went away.","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>I have the same connection error:\nThe problem I have is I used MySQL 8.0.15 but the Java Connector is 5.x.x.</p>\n\n<p>Below is how I fixed it.\n1. download the 8.0.15. from Maven repository:\n<a href=\"https://search.maven.org/search?q=g:mysql%20AND%20a:mysql-connector-java\" rel=\"nofollow noreferrer\">https://search.maven.org/search?q=g:mysql%20AND%20a:mysql-connector-java</a></p>\n\n<ol start=\"2\">\n<li>In the Eclipse IDE, select the \"Referenced Libraries\" in Explorer\nRight Mouse Button > Build Path > Configure Build Path\na. remove the \"mysql-connector-5.x.jar\"\nb. Click \"Add External JARs...\" and select mysql-connector-java-8.0.15.jar.</li>\n</ol>\n\n<p>Re-run it, the problem went away.</p>\n"},{"tags":[],"owner":{"account_id":2259804,"reputation":1640,"user_id":1990173,"display_name":"Ravinath"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1568861769,"creation_date":1568861769,"answer_id":58003090,"question_id":2983248,"body_markdown":"    dbhost=jdbc:mysql://172.18.23.100:3306/yourdatabase?useUnicode=yes&amp;characterEncoding=UTF-8&amp;useSSL=false\r\n    user=root\r\n    password=Password#321\r\n    \r\n    con = DriverManager.getConnection(dbhost, user, password);\r\n\r\nif mysql version 8 or higher user updated connector \r\n\r\n","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<pre><code>dbhost=jdbc:mysql://172.18.23.100:3306/yourdatabase?useUnicode=yes&amp;characterEncoding=UTF-8&amp;useSSL=false\nuser=root\npassword=Password#321\n\ncon = DriverManager.getConnection(dbhost, user, password);\n</code></pre>\n\n<p>if mysql version 8 or higher user updated connector </p>\n"},{"tags":[],"owner":{"account_id":208719,"reputation":3386,"user_id":459391,"accept_rate":100,"display_name":"Sadeq Dousti"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1573506417,"creation_date":1573505646,"answer_id":58808566,"question_id":2983248,"body_markdown":"This error may also happen if Java tries to connect to MySQL over SSL, but something goes wrong. (In my case, I was configuring Payara Server 5.193.1 connection pools to MySQL.)\n\nSome people suggested setting `useSSL=false`. However, since Connector/J version `8.0.13`, that setting is deprecated. Here&#39;s an excerpt from [MySQL Connector/J 8.0 Configuration Properties](https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-configuration-properties.html):\n\n&gt; ## sslMode\n&gt; By default, network connections are SSL encrypted; this property permits secure connections to be turned off, or a different levels of security to be chosen. The following values are allowed: `DISABLED` - Establish unencrypted connections; `PREFERRED` - (default) Establish encrypted connections if the server enabled them, otherwise fall back to unencrypted connections; `REQUIRED` - Establish secure connections if the server enabled them, fail otherwise; `VERIFY_CA` - Like `REQUIRED` but additionally verify the server TLS certificate against the configured Certificate Authority (CA) certificates; `VERIFY_IDENTITY` - Like `VERIFY_CA`, but additionally verify that the server certificate matches the host to which the connection is attempted.\n&gt;\n&gt; This property replaced the deprecated legacy properties `useSSL`, `requireSSL`, and `verifyServerCertificate`, which are still accepted but translated into a value for `sslMode` if `sslMode` is not explicitly set: `useSSL=false` is translated to `sslMode=DISABLED`; `{&quot;useSSL=true&quot;, &quot;requireSSL=false&quot;, &quot;verifyServerCertificate=false&quot;}` is translated to `sslMode=PREFERRED`; `{&quot;useSSL=true&quot;, &quot;requireSSL=true&quot;, &quot;verifyServerCertificate=false&quot;}` is translated to `sslMode=REQUIRED`; `{&quot;useSSL=true&quot; AND &quot;verifyServerCertificate=true&quot;}` is translated to `sslMode=VERIFY_CA`. There is no equivalent legacy settings for `sslMode=VERIFY_IDENTITY`. Note that, for ALL server versions, the default setting of `sslMode` is `PREFERRED`, and it is equivalent to the legacy settings of `useSSL=true`, `requireSSL=false`, and `verifyServerCertificate=false`, which are different from their default settings for Connector/J 8.0.12 and earlier in some situations. Applications that continue to use the legacy properties and rely on their old default settings should be reviewed.\n&gt;\n&gt; The legacy properties are ignored if `sslMode` is set explicitly. If none of `sslMode` or `useSSL` is set explicitly, the default setting of `sslMode=PREFERRED` applies.\n&gt;\n&gt; **Default**: `PREFERRED`\n&gt;\n&gt; **Since version**: 8.0.13\n\nSo, in my case, setting `sslMode=DISABLED` was all I needed to resolve the issue. \nThis was on a test machine. But for production, the secure solution would be properly configuring the Java client and MySQL server to use SSL.\n\n---------\n\nNotice that by disabling SSL, you might also have to set `allowPublicKeyRetrieval=true`. (Again, not a wise decision from security standpoint). Further information is provided in [MySQL ConnectionString Options](https://mysqlconnector.net/connection-options/):\n\n&gt; ## AllowPublicKeyRetrieval\n&gt;\n&gt; If the user account uses `sha256_password` authentication, the password must be protected during transmission; TLS is the preferred mechanism for this, but if it is not available then RSA public key encryption will be used. To specify the server’s RSA public key, use the `ServerRSAPublicKeyFile` connection string setting, or set `AllowPublicKeyRetrieval=True` to allow the client to automatically request the public key from the server. Note that `AllowPublicKeyRetrieval=True` could allow a malicious proxy to perform a MITM attack to get the plaintext password, so it is False by default and must be explicitly enabled.","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>This error may also happen if Java tries to connect to MySQL over SSL, but something goes wrong. (In my case, I was configuring Payara Server 5.193.1 connection pools to MySQL.)</p>\n<p>Some people suggested setting <code>useSSL=false</code>. However, since Connector/J version <code>8.0.13</code>, that setting is deprecated. Here's an excerpt from <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-configuration-properties.html\" rel=\"noreferrer\">MySQL Connector/J 8.0 Configuration Properties</a>:</p>\n<blockquote>\n<h2>sslMode</h2>\n<p>By default, network connections are SSL encrypted; this property permits secure connections to be turned off, or a different levels of security to be chosen. The following values are allowed: <code>DISABLED</code> - Establish unencrypted connections; <code>PREFERRED</code> - (default) Establish encrypted connections if the server enabled them, otherwise fall back to unencrypted connections; <code>REQUIRED</code> - Establish secure connections if the server enabled them, fail otherwise; <code>VERIFY_CA</code> - Like <code>REQUIRED</code> but additionally verify the server TLS certificate against the configured Certificate Authority (CA) certificates; <code>VERIFY_IDENTITY</code> - Like <code>VERIFY_CA</code>, but additionally verify that the server certificate matches the host to which the connection is attempted.</p>\n<p>This property replaced the deprecated legacy properties <code>useSSL</code>, <code>requireSSL</code>, and <code>verifyServerCertificate</code>, which are still accepted but translated into a value for <code>sslMode</code> if <code>sslMode</code> is not explicitly set: <code>useSSL=false</code> is translated to <code>sslMode=DISABLED</code>; <code>{&quot;useSSL=true&quot;, &quot;requireSSL=false&quot;, &quot;verifyServerCertificate=false&quot;}</code> is translated to <code>sslMode=PREFERRED</code>; <code>{&quot;useSSL=true&quot;, &quot;requireSSL=true&quot;, &quot;verifyServerCertificate=false&quot;}</code> is translated to <code>sslMode=REQUIRED</code>; <code>{&quot;useSSL=true&quot; AND &quot;verifyServerCertificate=true&quot;}</code> is translated to <code>sslMode=VERIFY_CA</code>. There is no equivalent legacy settings for <code>sslMode=VERIFY_IDENTITY</code>. Note that, for ALL server versions, the default setting of <code>sslMode</code> is <code>PREFERRED</code>, and it is equivalent to the legacy settings of <code>useSSL=true</code>, <code>requireSSL=false</code>, and <code>verifyServerCertificate=false</code>, which are different from their default settings for Connector/J 8.0.12 and earlier in some situations. Applications that continue to use the legacy properties and rely on their old default settings should be reviewed.</p>\n<p>The legacy properties are ignored if <code>sslMode</code> is set explicitly. If none of <code>sslMode</code> or <code>useSSL</code> is set explicitly, the default setting of <code>sslMode=PREFERRED</code> applies.</p>\n<p><strong>Default</strong>: <code>PREFERRED</code></p>\n<p><strong>Since version</strong>: 8.0.13</p>\n</blockquote>\n<p>So, in my case, setting <code>sslMode=DISABLED</code> was all I needed to resolve the issue.\nThis was on a test machine. But for production, the secure solution would be properly configuring the Java client and MySQL server to use SSL.</p>\n<hr />\n<p>Notice that by disabling SSL, you might also have to set <code>allowPublicKeyRetrieval=true</code>. (Again, not a wise decision from security standpoint). Further information is provided in <a href=\"https://mysqlconnector.net/connection-options/\" rel=\"noreferrer\">MySQL ConnectionString Options</a>:</p>\n<blockquote>\n<h2>AllowPublicKeyRetrieval</h2>\n<p>If the user account uses <code>sha256_password</code> authentication, the password must be protected during transmission; TLS is the preferred mechanism for this, but if it is not available then RSA public key encryption will be used. To specify the server’s RSA public key, use the <code>ServerRSAPublicKeyFile</code> connection string setting, or set <code>AllowPublicKeyRetrieval=True</code> to allow the client to automatically request the public key from the server. Note that <code>AllowPublicKeyRetrieval=True</code> could allow a malicious proxy to perform a MITM attack to get the plaintext password, so it is False by default and must be explicitly enabled.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2259804,"reputation":1640,"user_id":1990173,"display_name":"Ravinath"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1577774532,"creation_date":1577774532,"answer_id":59540560,"question_id":2983248,"body_markdown":"&gt; Sample jdbc connection class file. simply call the getConnection method when you want to get a connection. include related mysql-connector.jar\r\n\r\n\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    \r\n    \r\n    public class DBConnection {\r\n    \r\n        public Connection getConnection() {\r\n            Connection con = null;\r\n    \r\n            String dbhost;\r\n            String user;\r\n            String password;\r\n    // get properties\r\n    dbhost=&quot;jdbc:mysql://localhost:3306/cardmaildb&quot;;\r\n    user=&quot;root&quot;;\r\n    password=&quot;123&quot;;\r\n    \r\n     System.out.println(&quot;S=======db Connecting======&quot;);\r\n    \r\n            try {\r\n                Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n    \r\n                con = DriverManager.getConnection(dbhost, user, password);\r\n    \t\t\t//if you are facing with SSl issue please try this \r\n                //con = DriverManager.getConnection(&quot;jdbc:mysql://192.168.23.100:3306/cardmaildb?useUnicode=yes&amp;characterEncoding=UTF-8&amp;useSSL=false&quot;,user, password);\r\n    \r\n            } catch (Exception e) {\r\n                System.err.println(&quot;error in connection&quot;);\r\n                e.printStackTrace();\r\n            }\r\n            System.out.println(&quot;E=======db Connecting======&quot;);\r\n            return con;\r\n        }\r\n        \r\n        public static void main(String[] args) {\r\n            new DBConnection().getConnection();\r\n        }\r\n    }","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<blockquote>\n  <p>Sample jdbc connection class file. simply call the getConnection method when you want to get a connection. include related mysql-connector.jar</p>\n</blockquote>\n\n<pre><code>import java.sql.Connection;\nimport java.sql.DriverManager;\n\n\npublic class DBConnection {\n\n    public Connection getConnection() {\n        Connection con = null;\n\n        String dbhost;\n        String user;\n        String password;\n// get properties\ndbhost=\"jdbc:mysql://localhost:3306/cardmaildb\";\nuser=\"root\";\npassword=\"123\";\n\n System.out.println(\"S=======db Connecting======\");\n\n        try {\n            Class.forName(\"com.mysql.jdbc.Driver\");\n\n            con = DriverManager.getConnection(dbhost, user, password);\n            //if you are facing with SSl issue please try this \n            //con = DriverManager.getConnection(\"jdbc:mysql://192.168.23.100:3306/cardmaildb?useUnicode=yes&amp;characterEncoding=UTF-8&amp;useSSL=false\",user, password);\n\n        } catch (Exception e) {\n            System.err.println(\"error in connection\");\n            e.printStackTrace();\n        }\n        System.out.println(\"E=======db Connecting======\");\n        return con;\n    }\n\n    public static void main(String[] args) {\n        new DBConnection().getConnection();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5907691,"reputation":1742,"user_id":4648873,"accept_rate":59,"display_name":"A.R.K.S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1588964658,"creation_date":1588963567,"answer_id":61685973,"question_id":2983248,"body_markdown":"In my case, I faced this error when trying to connect to mysql-server running inside a container on a Ubuntu host VM from the same host. \r\n\r\nExample: \r\nIf my VM name is `abc.company.com`,  the following jdbc URL **would not work**:\r\n\r\n`jdbc:mysql://abc.company.com:3306/dbname`\r\n\r\nAbove jdbc url would work fine from other machines like `xyz.company.com` but just not `abc.company.com`.\r\n\r\nwhere as the following jdbc URL **would work just fine** on `abc.company.com` machine:\r\n\r\n`jdbc:mysql://localhost:3306/dbname`\r\n\r\nwhich led me to check the `/etc/hosts` file. \r\n\r\nAdding the following line to `/etc/hosts` fixed this issue: \r\n\r\n`127.0.1.1    abc.company.com    abc`\r\n\r\nThis seems to be an OS bug that requires us to add these on some Ubuntu versions. \r\nReference: https://www.debian.org/doc/manuals/debian-reference/ch05.en.html#_the_hostname_resolution\r\n\r\n\r\nBefore trying this, I had tried all other solutions like `GRANT ALL..`, changing the `bind-address` line in mysql.cnf.. None of them helped me in this case.","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>In my case, I faced this error when trying to connect to mysql-server running inside a container on a Ubuntu host VM from the same host. </p>\n\n<p>Example: \nIf my VM name is <code>abc.company.com</code>,  the following jdbc URL <strong>would not work</strong>:</p>\n\n<p><code>jdbc:mysql://abc.company.com:3306/dbname</code></p>\n\n<p>Above jdbc url would work fine from other machines like <code>xyz.company.com</code> but just not <code>abc.company.com</code>.</p>\n\n<p>where as the following jdbc URL <strong>would work just fine</strong> on <code>abc.company.com</code> machine:</p>\n\n<p><code>jdbc:mysql://localhost:3306/dbname</code></p>\n\n<p>which led me to check the <code>/etc/hosts</code> file. </p>\n\n<p>Adding the following line to <code>/etc/hosts</code> fixed this issue: </p>\n\n<p><code>127.0.1.1    abc.company.com    abc</code></p>\n\n<p>This seems to be an OS bug that requires us to add these on some Ubuntu versions. \nReference: <a href=\"https://www.debian.org/doc/manuals/debian-reference/ch05.en.html#_the_hostname_resolution\" rel=\"nofollow noreferrer\">https://www.debian.org/doc/manuals/debian-reference/ch05.en.html#_the_hostname_resolution</a></p>\n\n<p>Before trying this, I had tried all other solutions like <code>GRANT ALL..</code>, changing the <code>bind-address</code> line in mysql.cnf.. None of them helped me in this case.</p>\n"},{"tags":[],"owner":{"account_id":10895539,"reputation":64,"user_id":8009657,"display_name":"Adnan Asghar"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1598349224,"creation_date":1598349224,"answer_id":63576314,"question_id":2983248,"body_markdown":"In my case, turn out to be that the version of mysql-connector-java was different.\r\nI just changed mysql jdbc to maria jbdc\r\n---------------\r\nOld jdbc driver\r\n````\r\n&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    &lt;version&gt;8.0.21&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n\r\n````\r\nNew Jdbc driver\r\n\r\n````\r\n&lt;!-- https://mvnrepository.com/artifact/org.mariadb.jdbc/mariadb-java-client --&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\r\n    &lt;version&gt;2.6.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n````\r\n\r\n","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<h2>In my case, turn out to be that the version of mysql-connector-java was different.\nI just changed mysql jdbc to maria jbdc</h2>\n<p>Old jdbc driver</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/mysql/mysql-connector-java --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;8.0.21&lt;/version&gt;\n&lt;/dependency&gt;\n\n\n</code></pre>\n<p>New Jdbc driver</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.mariadb.jdbc/mariadb-java-client --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mariadb.jdbc&lt;/groupId&gt;\n    &lt;artifactId&gt;mariadb-java-client&lt;/artifactId&gt;\n    &lt;version&gt;2.6.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12043124,"reputation":381,"user_id":8809295,"display_name":"Pedro Queiroga"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604445165,"creation_date":1604445165,"answer_id":64672070,"question_id":2983248,"body_markdown":"This question has MANY answers, and I think mine would suit another question better, but the answers to that question are locked. It points to this thread.\r\n\r\nWhat solved it for me was appending `&amp;createDatabaseIfNotExist=true` to the `spring.datasource.url` string in `application.properties`.\r\n\r\nThis was very tricky because it manifested itself in a couple of different, weird, seemingly unrelated errors, and when I tried to fix what it complained about it simply would pop another error up, or the error was impossible to fix. It complained about not being able to load JDBC, saying it wasn&#39;t in the classpath, but I added it to the classpath in some 30 different ways and was already facedesking.","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>This question has MANY answers, and I think mine would suit another question better, but the answers to that question are locked. It points to this thread.</p>\n<p>What solved it for me was appending <code>&amp;createDatabaseIfNotExist=true</code> to the <code>spring.datasource.url</code> string in <code>application.properties</code>.</p>\n<p>This was very tricky because it manifested itself in a couple of different, weird, seemingly unrelated errors, and when I tried to fix what it complained about it simply would pop another error up, or the error was impossible to fix. It complained about not being able to load JDBC, saying it wasn't in the classpath, but I added it to the classpath in some 30 different ways and was already facedesking.</p>\n"},{"tags":[],"owner":{"account_id":3532567,"reputation":349,"user_id":2951657,"display_name":"Thuan Tran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619432011,"creation_date":1619432011,"answer_id":67264744,"question_id":2983248,"body_markdown":"I resolve this problem by downgrade jdk version.\r\nDowngrade from 11.0.11 to 11.0.10 or older java version","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>I resolve this problem by downgrade jdk version.\nDowngrade from 11.0.11 to 11.0.10 or older java version</p>\n"},{"tags":[],"owner":{"account_id":5515753,"reputation":86,"user_id":4380586,"display_name":"Neetesh Kumar Gupta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620218825,"creation_date":1620218486,"answer_id":67401529,"question_id":2983248,"body_markdown":"I was facing this issue while running the automation tests on remote Jenkins server. However while running the tests on local no issue was occurring.\r\n\r\nFor me this issue was resolved after updating the mysql-connector version to the latest in the POM file as the MySQL version was changed on server side.\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    &lt;version&gt;8.0.24&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nBut debugging of the same turned out a bit difficult and took almost two days as I was not aware of the MySQL version change and it was working fine in local.","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>I was facing this issue while running the automation tests on remote Jenkins server. However while running the tests on local no issue was occurring.</p>\n<p>For me this issue was resolved after updating the mysql-connector version to the latest in the POM file as the MySQL version was changed on server side.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;mysql&lt;/groupId&gt;\n    &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n    &lt;version&gt;8.0.24&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>But debugging of the same turned out a bit difficult and took almost two days as I was not aware of the MySQL version change and it was working fine in local.</p>\n"},{"tags":[],"owner":{"account_id":2678673,"reputation":7710,"user_id":2314443,"accept_rate":40,"display_name":"Gerard de Visser"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1672133905,"creation_date":1623670774,"answer_id":67969576,"question_id":2983248,"body_markdown":"In my case, the solution was to add the expected TLS protocol to the connection string like this:\r\n\r\n    jdbc:mysql://localhost:3306/database_name?enabledTLSProtocols=TLSv1.2\r\n\r\nFor testing/development purposes (not recommended for production) you can also try:\r\n\r\n    jdbc:mysql://localhost:3306/database_name?useSSL=false&amp;allowPublicKeyRetrieval=true\r\n","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>In my case, the solution was to add the expected TLS protocol to the connection string like this:</p>\n<pre><code>jdbc:mysql://localhost:3306/database_name?enabledTLSProtocols=TLSv1.2\n</code></pre>\n<p>For testing/development purposes (not recommended for production) you can also try:</p>\n<pre><code>jdbc:mysql://localhost:3306/database_name?useSSL=false&amp;allowPublicKeyRetrieval=true\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12381571,"reputation":1354,"user_id":10227261,"display_name":"Musfiq Shanta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1632891384,"creation_date":1632891384,"answer_id":69370606,"question_id":2983248,"body_markdown":"This problem is Create From xampp Port. First You should confirm your port number. Basically, everyone tries to use 3306 but sometimes it will be wrong. \r\nYou can try this jdbc:mysql://127.0.0.1:3307","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>This problem is Create From xampp Port. First You should confirm your port number. Basically, everyone tries to use 3306 but sometimes it will be wrong.\nYou can try this jdbc:mysql://127.0.0.1:3307</p>\n"},{"tags":[],"owner":{"account_id":10811702,"reputation":81,"user_id":7952107,"display_name":"Jackson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1642079464,"creation_date":1642079464,"answer_id":70697185,"question_id":2983248,"body_markdown":"Please use Platform Independent zip or tar, it works for me when encountering this error.\r\n\r\nhttps://dev.mysql.com/downloads/connector/j/?os=26","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>Please use Platform Independent zip or tar, it works for me when encountering this error.</p>\n<p><a href=\"https://dev.mysql.com/downloads/connector/j/?os=26\" rel=\"nofollow noreferrer\">https://dev.mysql.com/downloads/connector/j/?os=26</a></p>\n"},{"tags":[],"owner":{"account_id":10360796,"reputation":169,"user_id":7641341,"display_name":"user7641341"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1647070042,"creation_date":1647070042,"answer_id":71447760,"question_id":2983248,"body_markdown":"Add this \r\n useSSL=false&amp;allowPublicKeyRetrieval=true\r\n\r\njdbc:mysql://localhost:3306/cloudapp?useSSL=false&amp;allowPublicKeyRetrieval=true\r\n\r\nhttps://youtu.be/ray3YvnIohM","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>Add this\nuseSSL=false&amp;allowPublicKeyRetrieval=true</p>\n<p>jdbc:mysql://localhost:3306/cloudapp?useSSL=false&amp;allowPublicKeyRetrieval=true</p>\n<p><a href=\"https://youtu.be/ray3YvnIohM\" rel=\"noreferrer\">https://youtu.be/ray3YvnIohM</a></p>\n"},{"tags":[],"owner":{"account_id":23678540,"reputation":343,"user_id":17704418,"display_name":"salam_verdim_alana_panyatkasi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648946869,"creation_date":1648946869,"answer_id":71722182,"question_id":2983248,"body_markdown":"Generally this problem occur, when database, which you use executing turn off in your OS. if you use windows then go to the services and make sure that MySQL is Starting positon.","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>Generally this problem occur, when database, which you use executing turn off in your OS. if you use windows then go to the services and make sure that MySQL is Starting positon.</p>\n"},{"tags":[],"owner":{"account_id":2204705,"reputation":311,"user_id":1948214,"accept_rate":75,"display_name":"keesp"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1650220468,"creation_date":1650220468,"answer_id":71904498,"question_id":2983248,"body_markdown":"There is a very special situation when this problem can happen, with MySQL Workbench, and especially when using the Eclipse JPA and persistence under localhost. The problem is that, as mentioned in some other answers, that the MySQL server can be very restrictive to using localhost, 0.0.0.0.1 or 127.0.0.1 when creating a connection. In order to overcome this, the hosts file in (for Windows):\r\n\r\nC:\\Windows\\System32\\drivers\\etc\r\n\r\nneeds to have the following entry added to it for the main connection (e.g.myserver):    \r\n\r\n#MY DATABASE SERVER&lt;br&gt; \r\n127.0.0.1\tmyserver\r\n\r\nIf this is not added to hosts, the connection will fail every time you try to connect with the database from 127.0.0.1","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>There is a very special situation when this problem can happen, with MySQL Workbench, and especially when using the Eclipse JPA and persistence under localhost. The problem is that, as mentioned in some other answers, that the MySQL server can be very restrictive to using localhost, 0.0.0.0.1 or 127.0.0.1 when creating a connection. In order to overcome this, the hosts file in (for Windows):</p>\n<p>C:\\Windows\\System32\\drivers\\etc</p>\n<p>needs to have the following entry added to it for the main connection (e.g.myserver):</p>\n<p>#MY DATABASE SERVER<br>\n127.0.0.1   myserver</p>\n<p>If this is not added to hosts, the connection will fail every time you try to connect with the database from 127.0.0.1</p>\n"},{"tags":[],"owner":{"account_id":15081497,"reputation":95,"user_id":11802176,"display_name":"akib"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655543337,"creation_date":1655543337,"answer_id":72668073,"question_id":2983248,"body_markdown":"In my case I was getting this error while running from intellij IDEA while running from terminal with `./gradlew bootRun` was working fine. Then I figured out Intellij was pointing to some `liberica java` I&#39;d downloaded. I changed it to OpenJdk one and it started working fine. ","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>In my case I was getting this error while running from intellij IDEA while running from terminal with <code>./gradlew bootRun</code> was working fine. Then I figured out Intellij was pointing to some <code>liberica java</code> I'd downloaded. I changed it to OpenJdk one and it started working fine.</p>\n"},{"tags":[],"owner":{"account_id":15591403,"reputation":5743,"user_id":12894468,"display_name":"Sivaram Rasathurai"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1659012949,"creation_date":1659012949,"answer_id":73153326,"question_id":2983248,"body_markdown":"In my case,\r\nAdding the query parameter in the connection String solved the issue.\r\n`&amp;useSSL=false` \r\n\r\n[![enter image description here][1]][1]\r\n\r\n```\r\njdbc:mysql://${jdbc_url}:${jdbc_port}/${database_name}?serverTimezone=UTC&amp;autoReconnect=true&amp;useSSL=false&amp;failOverReadOnly=false&amp;maxReconnects=10\r\n\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MZy2k.png","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>In my case,\nAdding the query parameter in the connection String solved the issue.\n<code>&amp;useSSL=false</code></p>\n<p><a href=\"https://i.stack.imgur.com/MZy2k.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MZy2k.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>jdbc:mysql://${jdbc_url}:${jdbc_port}/${database_name}?serverTimezone=UTC&amp;autoReconnect=true&amp;useSSL=false&amp;failOverReadOnly=false&amp;maxReconnects=10\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":279220,"reputation":2393,"user_id":574263,"accept_rate":44,"display_name":"mjaggard"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663757315,"creation_date":1663757315,"answer_id":73799472,"question_id":2983248,"body_markdown":"This can also happen why MySQL is dying. In my case I had a query that triggered a bug in MySQL and so the server died and restarted whenever the query was executed. Look in your MySQL error log to see if that&#39;s happening.\r\nIn my case (Homebrew on MacOS) that was in `/usr/local/var/mysql/&lt;machinename&gt;.err`\r\n\r\nSince I was seeing this on a test system I ended up dropping and recreating my database which solved the problem but I dread to think what I would have done if it was on production.","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>This can also happen why MySQL is dying. In my case I had a query that triggered a bug in MySQL and so the server died and restarted whenever the query was executed. Look in your MySQL error log to see if that's happening.\nIn my case (Homebrew on MacOS) that was in <code>/usr/local/var/mysql/&lt;machinename&gt;.err</code></p>\n<p>Since I was seeing this on a test system I ended up dropping and recreating my database which solved the problem but I dread to think what I would have done if it was on production.</p>\n"},{"tags":[],"owner":{"account_id":16720659,"reputation":408,"user_id":12085680,"display_name":"BugsOverflow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690660413,"creation_date":1690660413,"answer_id":76795231,"question_id":2983248,"body_markdown":"I just want to add another answer because it is not always a problem in your backend configuration or connections pool, etc.\r\n\r\nSometimes it is also the infrastructure of your database, the location of the server where it is at, so make sure that you have a good database infrastructure (cpu, ram, network, etc.) and also that it is on the same region of your application, this way you will improve alot the performance and stop getting this error messages that in some cases as I am trying to explain, is more about your database","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>I just want to add another answer because it is not always a problem in your backend configuration or connections pool, etc.</p>\n<p>Sometimes it is also the infrastructure of your database, the location of the server where it is at, so make sure that you have a good database infrastructure (cpu, ram, network, etc.) and also that it is on the same region of your application, this way you will improve alot the performance and stop getting this error messages that in some cases as I am trying to explain, is more about your database</p>\n"}],"owner":{"account_id":62488,"reputation":28510,"user_id":185657,"accept_rate":66,"display_name":"Josh K"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":986955,"favorite_count":0,"down_vote_count":0,"up_vote_count":320,"accepted_answer_id":2985169,"answer_count":51,"score":320,"last_activity_date":1690660413,"creation_date":1275803350,"question_id":2983248,"body_markdown":"I&#39;m working on getting my database to talk to my Java programs.\r\n\r\nCan someone give me a quick and dirty sample program using the JDBC?\r\n\r\nI&#39;m getting a rather stupendous error:\r\n\r\n    Exception in thread &quot;main&quot; com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure \r\n        The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:513)\r\n        at com.mysql.jdbc.Util.handleNewInstance(Util.java:409)\r\n        at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1122)\r\n        at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2260)\r\n        at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:787)\r\n        at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:49)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:513)\r\n        at com.mysql.jdbc.Util.handleNewInstance(Util.java:409)\r\n        at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:357)\r\n        at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:285)\r\n        at java.sql.DriverManager.getConnection(DriverManager.java:582)\r\n        at java.sql.DriverManager.getConnection(DriverManager.java:207)\r\n        at SqlTest.main(SqlTest.java:22)\r\n    Caused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\r\n        The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n        at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\r\n        at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\r\n        at java.lang.reflect.Constructor.newInstance(Constructor.java:513)\r\n        at com.mysql.jdbc.Util.handleNewInstance(Util.java:409)\r\n        at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1122)\r\n        at com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:344)\r\n        at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2181)\r\n        ... 12 more\r\n    Caused by: java.net.ConnectException: Connection refused\r\n        at java.net.PlainSocketImpl.socketConnect(Native Method)\r\n        at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:333)\r\n        at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:195)\r\n        at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:182)\r\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)\r\n        at java.net.Socket.connect(Socket.java:529)\r\n        at java.net.Socket.connect(Socket.java:478)\r\n        at java.net.Socket.&lt;init&gt;(Socket.java:375)\r\n        at java.net.Socket.&lt;init&gt;(Socket.java:218)\r\n        at com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:256)\r\n        at com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:293)\r\n        ... 13 more\r\n\r\nContents of the test file:\r\n\r\n    import com.mysql.jdbc.*;\r\n    import java.sql.Connection;\r\n    import java.sql.DriverManager;\r\n    import java.sql.PreparedStatement;\r\n    import java.sql.ResultSet;\r\n    import java.sql.SQLException;\r\n    import java.sql.Statement;\r\n\r\n    public class SqlTest {\r\n\r\n    \tpublic static void main(String [] args) throws Exception {\r\n    \t\t// Class.forName( &quot;com.mysql.jdbc.Driver&quot; ); // do this in init\r\n    \t\t// // edit the jdbc url \r\n    \t\tConnection conn = DriverManager.getConnection( \r\n                &quot;jdbc:mysql://localhost:3306/projects?user=user1&amp;password=123&quot;);\r\n    \t\t// Statement st = conn.createStatement();\r\n    \t\t// ResultSet rs = st.executeQuery( &quot;select * from table&quot; );\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;Connected?&quot;);\r\n    \t}\r\n    }","title":"com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure","body":"<p>I'm working on getting my database to talk to my Java programs.</p>\n\n<p>Can someone give me a quick and dirty sample program using the JDBC?</p>\n\n<p>I'm getting a rather stupendous error:</p>\n\n<pre><code>Exception in thread \"main\" com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure \n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:513)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:409)\n    at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1122)\n    at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2260)\n    at com.mysql.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:787)\n    at com.mysql.jdbc.JDBC4Connection.&lt;init&gt;(JDBC4Connection.java:49)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:513)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:409)\n    at com.mysql.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:357)\n    at com.mysql.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:285)\n    at java.sql.DriverManager.getConnection(DriverManager.java:582)\n    at java.sql.DriverManager.getConnection(DriverManager.java:207)\n    at SqlTest.main(SqlTest.java:22)\nCaused by: com.mysql.jdbc.exceptions.jdbc4.CommunicationsException: Communications link failure\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:39)\n    at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:27)\n    at java.lang.reflect.Constructor.newInstance(Constructor.java:513)\n    at com.mysql.jdbc.Util.handleNewInstance(Util.java:409)\n    at com.mysql.jdbc.SQLError.createCommunicationsException(SQLError.java:1122)\n    at com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:344)\n    at com.mysql.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:2181)\n    ... 12 more\nCaused by: java.net.ConnectException: Connection refused\n    at java.net.PlainSocketImpl.socketConnect(Native Method)\n    at java.net.PlainSocketImpl.doConnect(PlainSocketImpl.java:333)\n    at java.net.PlainSocketImpl.connectToAddress(PlainSocketImpl.java:195)\n    at java.net.PlainSocketImpl.connect(PlainSocketImpl.java:182)\n    at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:432)\n    at java.net.Socket.connect(Socket.java:529)\n    at java.net.Socket.connect(Socket.java:478)\n    at java.net.Socket.&lt;init&gt;(Socket.java:375)\n    at java.net.Socket.&lt;init&gt;(Socket.java:218)\n    at com.mysql.jdbc.StandardSocketFactory.connect(StandardSocketFactory.java:256)\n    at com.mysql.jdbc.MysqlIO.&lt;init&gt;(MysqlIO.java:293)\n    ... 13 more\n</code></pre>\n\n<p>Contents of the test file:</p>\n\n<pre><code>import com.mysql.jdbc.*;\nimport java.sql.Connection;\nimport java.sql.DriverManager;\nimport java.sql.PreparedStatement;\nimport java.sql.ResultSet;\nimport java.sql.SQLException;\nimport java.sql.Statement;\n\npublic class SqlTest {\n\n    public static void main(String [] args) throws Exception {\n        // Class.forName( \"com.mysql.jdbc.Driver\" ); // do this in init\n        // // edit the jdbc url \n        Connection conn = DriverManager.getConnection( \n            \"jdbc:mysql://localhost:3306/projects?user=user1&amp;password=123\");\n        // Statement st = conn.createStatement();\n        // ResultSet rs = st.executeQuery( \"select * from table\" );\n\n        System.out.println(\"Connected?\");\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","for-loop","calculator","operation"],"answers":[{"tags":[],"owner":{"account_id":2540600,"reputation":1123,"user_id":2206489,"accept_rate":100,"display_name":"Keshav"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690630430,"creation_date":1690630430,"answer_id":76793370,"question_id":76793330,"body_markdown":"You need to change one line in the code.\r\n\r\n    res = val[i] / val[i + 1];\r\n\r\nyou are using `+ 2` for index but the operand is in `op[]` and not in `val[]`","title":"Basic math operations using array concept [java]","body":"<p>You need to change one line in the code.</p>\n<pre><code>res = val[i] / val[i + 1];\n</code></pre>\n<p>you are using <code>+ 2</code> for index but the operand is in <code>op[]</code> and not in <code>val[]</code></p>\n"},{"tags":[],"owner":{"account_id":3145385,"reputation":883,"user_id":2659962,"display_name":"Akhilesh Pandey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690630433,"creation_date":1690630433,"answer_id":76793371,"question_id":76793330,"body_markdown":"\r\nIn `res=val[i]/val[i+2]`, you are dividing the value at `i` by the value at `i+2`. This is not correct because it may result in an `ArrayIndexOutOfBoundsException` if `i+2` is beyond the length of the array.\r\n\r\nAlso,result of the division is not properly assigned back into the `val` array after the operation.\r\n\r\nYou are trying to perform operations and shrink the arrays in one pass. This is not an effective approach. It would be more easy to first apply all division and multiplication operations then proceed with addition and subtraction.\r\n\r\n\r\n```\r\npackage trial;\r\nimport java.util.Scanner;\r\npublic class trial {\r\n    public static void main(String[] args) {\r\n        float[] val = new float[10];\r\n        char[] op = new char[10];\r\n        int lim;\r\n        Scanner sc= new Scanner(System.in);\r\n        System.out.println(&quot;how many operands&quot;);\r\n        lim = sc.nextInt();\r\n        for(int i = 0; i &lt; lim; i++) {\r\n            System.out.println(&quot;enter a number&quot;);\r\n            val[i] = sc.nextFloat();\r\n            if(i != lim - 1) {\r\n                System.out.println(&quot;enter the operation(+,-,/,*)&quot;);\r\n                op[i] = sc.next().charAt(0);\r\n            }\r\n        }\r\n\r\n        // Perform the operations following BODMAS rules\r\n        for(int i = 0; i &lt; lim-1; i++) {\r\n            if(op[i] == &#39;/&#39;) {\r\n                val[i+1] = val[i] / val[i+1];\r\n                op[i] = &#39; &#39;;\r\n            }\r\n            else if(op[i] == &#39;*&#39;) {\r\n                val[i+1] = val[i] * val[i+1];\r\n                op[i] = &#39; &#39;;\r\n            }\r\n        }\r\n        for(int i = 0; i &lt; lim-1; i++) {\r\n            if(op[i] == &#39;+&#39;) {\r\n                val[i+1] = val[i] + val[i+1];\r\n            }\r\n            else if(op[i] == &#39;-&#39;) {\r\n                val[i+1] = val[i] - val[i+1];\r\n            }\r\n        }\r\n        System.out.println(&quot;Result is &quot;+val[lim-1]);\r\n    }\r\n}\r\n```","title":"Basic math operations using array concept [java]","body":"<p>In <code>res=val[i]/val[i+2]</code>, you are dividing the value at <code>i</code> by the value at <code>i+2</code>. This is not correct because it may result in an <code>ArrayIndexOutOfBoundsException</code> if <code>i+2</code> is beyond the length of the array.</p>\n<p>Also,result of the division is not properly assigned back into the <code>val</code> array after the operation.</p>\n<p>You are trying to perform operations and shrink the arrays in one pass. This is not an effective approach. It would be more easy to first apply all division and multiplication operations then proceed with addition and subtraction.</p>\n<pre><code>package trial;\nimport java.util.Scanner;\npublic class trial {\n    public static void main(String[] args) {\n        float[] val = new float[10];\n        char[] op = new char[10];\n        int lim;\n        Scanner sc= new Scanner(System.in);\n        System.out.println(&quot;how many operands&quot;);\n        lim = sc.nextInt();\n        for(int i = 0; i &lt; lim; i++) {\n            System.out.println(&quot;enter a number&quot;);\n            val[i] = sc.nextFloat();\n            if(i != lim - 1) {\n                System.out.println(&quot;enter the operation(+,-,/,*)&quot;);\n                op[i] = sc.next().charAt(0);\n            }\n        }\n\n        // Perform the operations following BODMAS rules\n        for(int i = 0; i &lt; lim-1; i++) {\n            if(op[i] == '/') {\n                val[i+1] = val[i] / val[i+1];\n                op[i] = ' ';\n            }\n            else if(op[i] == '*') {\n                val[i+1] = val[i] * val[i+1];\n                op[i] = ' ';\n            }\n        }\n        for(int i = 0; i &lt; lim-1; i++) {\n            if(op[i] == '+') {\n                val[i+1] = val[i] + val[i+1];\n            }\n            else if(op[i] == '-') {\n                val[i+1] = val[i] - val[i+1];\n            }\n        }\n        System.out.println(&quot;Result is &quot;+val[lim-1]);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690660184,"creation_date":1690660184,"answer_id":76795218,"question_id":76793330,"body_markdown":"```java\r\npublic static void main(String... args) {\r\n    Scanner scan = new Scanner(System.in);\r\n\r\n    System.out.print(&quot;how many operands: &quot;);\r\n    int totalOperands = scan.nextInt();\r\n    float[] nums = new float[totalOperands];\r\n    char[] operations = new char[totalOperands - 1];\r\n\r\n    for (int i = 0, j = 0; i &lt; totalOperands; i++) {\r\n        if (i &gt; 0) {\r\n            System.out.print(&quot;enter the operation (+,-,/,*): &quot;);\r\n            operations[j++] = scan.next().charAt(0);\r\n        }\r\n\r\n        System.out.print(&quot;enter a number: &quot;);\r\n        nums[i] = scan.nextFloat();\r\n    }\r\n\r\n    for (int i = 0, j = 0; i &lt; totalOperands; i++) {\r\n        if (i &gt; 0)\r\n            System.out.print(&#39; &#39;);\r\n\r\n        System.out.print(nums[i]);\r\n\r\n        if (j &lt; operations.length)\r\n            System.out.print(&quot; &quot; + operations[j++]);\r\n    }\r\n\r\n    float res = 0;\r\n\r\n    for (int i = 0, j = 0; i &lt; totalOperands; ) {\r\n        if (i == 0)\r\n            res = nums[i++];\r\n        else {\r\n            if (operations[j] == &#39;+&#39;)\r\n                res += nums[i++];\r\n            else if (operations[j] == &#39;-&#39;)\r\n                res -= nums[i++];\r\n            else if (operations[j] == &#39;/&#39;)\r\n                res /= nums[i++];\r\n            else if (operations[j] == &#39;*&#39;)\r\n                res *= nums[i++];\r\n            else\r\n                throw new RuntimeException(&quot;unknown operation&quot;);\r\n\r\n            j++;\r\n        }\r\n    }\r\n\r\n    System.out.println(&quot; = &quot; + res);\r\n}\r\n```","title":"Basic math operations using array concept [java]","body":"<pre class=\"lang-java prettyprint-override\"><code>public static void main(String... args) {\n    Scanner scan = new Scanner(System.in);\n\n    System.out.print(&quot;how many operands: &quot;);\n    int totalOperands = scan.nextInt();\n    float[] nums = new float[totalOperands];\n    char[] operations = new char[totalOperands - 1];\n\n    for (int i = 0, j = 0; i &lt; totalOperands; i++) {\n        if (i &gt; 0) {\n            System.out.print(&quot;enter the operation (+,-,/,*): &quot;);\n            operations[j++] = scan.next().charAt(0);\n        }\n\n        System.out.print(&quot;enter a number: &quot;);\n        nums[i] = scan.nextFloat();\n    }\n\n    for (int i = 0, j = 0; i &lt; totalOperands; i++) {\n        if (i &gt; 0)\n            System.out.print(' ');\n\n        System.out.print(nums[i]);\n\n        if (j &lt; operations.length)\n            System.out.print(&quot; &quot; + operations[j++]);\n    }\n\n    float res = 0;\n\n    for (int i = 0, j = 0; i &lt; totalOperands; ) {\n        if (i == 0)\n            res = nums[i++];\n        else {\n            if (operations[j] == '+')\n                res += nums[i++];\n            else if (operations[j] == '-')\n                res -= nums[i++];\n            else if (operations[j] == '/')\n                res /= nums[i++];\n            else if (operations[j] == '*')\n                res *= nums[i++];\n            else\n                throw new RuntimeException(&quot;unknown operation&quot;);\n\n            j++;\n        }\n    }\n\n    System.out.println(&quot; = &quot; + res);\n}\n</code></pre>\n"}],"owner":{"account_id":29054788,"reputation":29,"user_id":22256782,"display_name":"Amalshanth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1690660184,"creation_date":1690629785,"question_id":76793330,"body_markdown":"I,am creating a java code for doing basic math operations like Addition,Subtraction,Division,Multiplication.I build it using array concept.I want to perform multiple operations within an execution.And must follow the BODMAS rule.My code did run with no error.But did not get the output successfully. \r\nHere is the [minimal reproducible example][1]  .With Division(/) operator:\r\n\r\n    package trial;\r\n    import java.util.Scanner;\r\n    public class trial {\r\n    \tpublic static void main(String[] args) {\r\n    \tfloat[] val=new float[10];\r\n    \tchar[] op=new char[10];\r\n    \tfloat res;\r\n    \tint lim;\r\n    \t\tScanner sc= new Scanner(System.in);\r\n    \t\tSystem.out.println(&quot;how many operands&quot;);\r\n    \t\tlim=sc.nextInt();\r\n    \t\tfor(int i=0;i&lt;lim;i++) {\r\n    \t\t\tif(i==lim-1) {\r\n    \t\t\t\tSystem.out.println(&quot;enter a number&quot;);\r\n    \t\t\t\tval[i]=sc.nextFloat();\r\n    \t\t\t}\r\n    \t\telse {\r\n    \t\tSystem.out.println(&quot;enter a number&quot;);\r\n    \t\tval[i]=sc.nextFloat();\r\n    \t\tSystem.out.println(&quot;enter the operation(+,-,/,*)&quot;);\r\n    \t\top[i]=sc.next().charAt(0);\r\n    \t\t}}\r\n    \t\tfor(int i=0;i&lt;lim;i++) {\r\n    \t\t\tSystem.out.print(val[i]+&quot; &quot;+op[i]+&quot; &quot;);\r\n    \t\t}\r\n    \t\tfor(int i=0;i&lt;lim-1;i++) {\r\n    \t\t\tif(op[i]==&#39;/&#39;) {\r\n    \t\t\t\tres=val[i]/val[i+1];\r\n    \t\t\t\tval=removeArrayF(val,i);\r\n    \t\t\t\tval[i]=res;\r\n    \t\t\t\top=removeArrayC(op,i);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(&quot;res is&quot;+val[0]);\r\n    \t\t}\r\n    \tstatic float[] removeArrayF(float[] array,int index){\r\n    \t\tfloat[] r=new float[array.length-1];\r\n    \t\tSystem.arraycopy(array, 0, r, 0, index);\r\n    \t\tSystem.arraycopy(array, index+1, r, index,array.length-index-1);\r\n    \t\treturn r;\r\n    \t\t}\r\n    \tstatic char[] removeArrayC(char[] array,int index){\r\n    \t\tchar[] r=new char[array.length-1];\r\n    \t\tSystem.arraycopy(array, 0, r, 0, index);\r\n    \t\tSystem.arraycopy(array, index+1, r, index,array.length-index-1);\r\n    \t\treturn r;\r\n    \t\t}\r\n    } \r\nOutput example:\r\n\r\n    how many operands\r\n    2\r\n    enter a number\r\n    12\r\n    enter the operation(+,-,/,*)\r\n    /\r\n    enter a number\r\n    3\r\n    12.0 / 3.0 \r\nOutput stops Here .I didn&#39;t get the result of the operation.What is the mistake?What are the changes i need to do for the proper result!?\r\n\r\nWhen I adding an extra `System.out.println(&quot;&quot;);` statement anywhere on the program, It executes the `System.out.println(&quot;res is &quot;+val[0]);` statement.And didnt execute the extra added statement.There I get a problem, the second System.out.println() statement doesn&#39;t work. What is the reason for that?\r\n\r\n\r\n  [1]: https://minimal%20reproducible%20example","title":"Basic math operations using array concept [java]","body":"<p>I,am creating a java code for doing basic math operations like Addition,Subtraction,Division,Multiplication.I build it using array concept.I want to perform multiple operations within an execution.And must follow the BODMAS rule.My code did run with no error.But did not get the output successfully.\nHere is the <a href=\"https://minimal%20reproducible%20example\" rel=\"nofollow noreferrer\">minimal reproducible example</a>  .With Division(/) operator:</p>\n<pre><code>package trial;\nimport java.util.Scanner;\npublic class trial {\n    public static void main(String[] args) {\n    float[] val=new float[10];\n    char[] op=new char[10];\n    float res;\n    int lim;\n        Scanner sc= new Scanner(System.in);\n        System.out.println(&quot;how many operands&quot;);\n        lim=sc.nextInt();\n        for(int i=0;i&lt;lim;i++) {\n            if(i==lim-1) {\n                System.out.println(&quot;enter a number&quot;);\n                val[i]=sc.nextFloat();\n            }\n        else {\n        System.out.println(&quot;enter a number&quot;);\n        val[i]=sc.nextFloat();\n        System.out.println(&quot;enter the operation(+,-,/,*)&quot;);\n        op[i]=sc.next().charAt(0);\n        }}\n        for(int i=0;i&lt;lim;i++) {\n            System.out.print(val[i]+&quot; &quot;+op[i]+&quot; &quot;);\n        }\n        for(int i=0;i&lt;lim-1;i++) {\n            if(op[i]=='/') {\n                res=val[i]/val[i+1];\n                val=removeArrayF(val,i);\n                val[i]=res;\n                op=removeArrayC(op,i);\n            }\n        }\n        System.out.println(&quot;res is&quot;+val[0]);\n        }\n    static float[] removeArrayF(float[] array,int index){\n        float[] r=new float[array.length-1];\n        System.arraycopy(array, 0, r, 0, index);\n        System.arraycopy(array, index+1, r, index,array.length-index-1);\n        return r;\n        }\n    static char[] removeArrayC(char[] array,int index){\n        char[] r=new char[array.length-1];\n        System.arraycopy(array, 0, r, 0, index);\n        System.arraycopy(array, index+1, r, index,array.length-index-1);\n        return r;\n        }\n} \n</code></pre>\n<p>Output example:</p>\n<pre><code>how many operands\n2\nenter a number\n12\nenter the operation(+,-,/,*)\n/\nenter a number\n3\n12.0 / 3.0 \n</code></pre>\n<p>Output stops Here .I didn't get the result of the operation.What is the mistake?What are the changes i need to do for the proper result!?</p>\n<p>When I adding an extra <code>System.out.println(&quot;&quot;);</code> statement anywhere on the program, It executes the <code>System.out.println(&quot;res is &quot;+val[0]);</code> statement.And didnt execute the extra added statement.There I get a problem, the second System.out.println() statement doesn't work. What is the reason for that?</p>\n"},{"tags":["java","multithreading","mockito"],"comments":[{"owner":{"display_name":"user180100"},"score":0,"creation_date":1508917916,"post_id":46926798,"comment_id":80800516,"body_markdown":"This makes no sense. A mock is some instance of an object and you can setup some behavior on **this** instance. So I don&#39;t understand what you mean by propagation","body":"This makes no sense. A mock is some instance of an object and you can setup some behavior on <b>this</b> instance. So I don&#39;t understand what you mean by propagation"},{"owner":{"account_id":5665200,"reputation":1451,"user_id":4481541,"accept_rate":100,"display_name":"LenglBoy"},"score":0,"creation_date":1508917934,"post_id":46926798,"comment_id":80800523,"body_markdown":"maybe add some example tests of both threads which doesn&#180;t work like you want.","body":"maybe add some example tests of both threads which doesn&#180;t work like you want."},{"owner":{"account_id":281319,"reputation":2947,"user_id":577549,"accept_rate":58,"display_name":"mibutec"},"score":0,"creation_date":1508918142,"post_id":46926798,"comment_id":80800637,"body_markdown":"see https://en.wikipedia.org/wiki/Java_memory_model","body":"see <a href=\"https://en.wikipedia.org/wiki/Java_memory_model\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/Java_memory_model</a>"},{"owner":{"account_id":1496941,"reputation":1791,"user_id":1402658,"accept_rate":65,"display_name":"Taras Velykyy"},"score":0,"creation_date":1508924105,"post_id":46926798,"comment_id":80804486,"body_markdown":"What&#39;s the behavior on the build server? null is returned instead of &quot;42&quot;?","body":"What&#39;s the behavior on the build server? null is returned instead of &quot;42&quot;?"},{"owner":{"account_id":281319,"reputation":2947,"user_id":577549,"accept_rate":58,"display_name":"mibutec"},"score":0,"creation_date":1508927575,"post_id":46926798,"comment_id":80806901,"body_markdown":"As wroten the simple testcase above behaves correct. But adapted to the my real testcase the exception is not thrown","body":"As wroten the simple testcase above behaves correct. But adapted to the my real testcase the exception is not thrown"}],"answers":[{"tags":[],"owner":{"account_id":5996781,"reputation":131,"user_id":4711212,"display_name":"Андрей Пушкин"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664539467,"creation_date":1664539467,"answer_id":73908490,"question_id":46926798,"body_markdown":"I&#39;ve had an issue when the mock behaves like it wasn&#39;t configured properly.\r\nSo the interceptors were not invoked when calling the mocked object&#39;s stubbed method in other thread. I&#39;ve understand that Mockito resets my stubs when accessing the mock inside of other thread. Try to use the following.\r\n\r\n    @MockBean(reset = MockReset.NONE)\r\n    MyService myService\r\n\r\nIt may lead to problems if you have many tests in a row, but I&#39;m not sure. And if you have 1 test it will &quot;propagate&quot; (do not reset) your mocks behaviour (stubs) to (in) another threads.\r\n","title":"Is mock configuration propagated to other threads in mockito?","body":"<p>I've had an issue when the mock behaves like it wasn't configured properly.\nSo the interceptors were not invoked when calling the mocked object's stubbed method in other thread. I've understand that Mockito resets my stubs when accessing the mock inside of other thread. Try to use the following.</p>\n<pre><code>@MockBean(reset = MockReset.NONE)\nMyService myService\n</code></pre>\n<p>It may lead to problems if you have many tests in a row, but I'm not sure. And if you have 1 test it will &quot;propagate&quot; (do not reset) your mocks behaviour (stubs) to (in) another threads.</p>\n"},{"tags":[],"owner":{"account_id":3793452,"reputation":76,"user_id":3149343,"display_name":"mickle_ak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690659245,"creation_date":1690659245,"answer_id":76795172,"question_id":46926798,"body_markdown":"No, Mockito does not propagate configuration to other threads and can not do it by design, because Mockito stores configurations in LocalThread.\r\n\r\nI don&#39;t know any way to share configuration between threads.\r\n\r\nYou can try another mock-library, for example EasyMock - it has another design, and PROBABLY is &quot;thread-safe&quot;, in your sin","title":"Is mock configuration propagated to other threads in mockito?","body":"<p>No, Mockito does not propagate configuration to other threads and can not do it by design, because Mockito stores configurations in LocalThread.</p>\n<p>I don't know any way to share configuration between threads.</p>\n<p>You can try another mock-library, for example EasyMock - it has another design, and PROBABLY is &quot;thread-safe&quot;, in your sin</p>\n"}],"owner":{"account_id":281319,"reputation":2947,"user_id":577549,"accept_rate":58,"display_name":"mibutec"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":928,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690659245,"creation_date":1508917732,"question_id":46926798,"body_markdown":"I have a test consisting of a thread running test code and another thread running the system under test. The SuT contains some mocks being configured in test thread.\r\n\r\nThe behavior of my test is: It does on my local machine what it should. On our build server it doesn&#39;t. As far I have debugged, the problem is, that mock doesn&#39;t behave like configured.\r\n\r\nSo it seems to me like my configuration from test thread (in some circumstances) is not propagated to sut thread.\r\n\r\nCould this be the problem? Is Mockito not thread-safe in such use cases?\r\nHere&#39;s some example code, working on my machine and (unluckily) on our build server, too.\r\n\r\n    @Test\r\n    public void testConcurrency() throws Exception {\r\n        ExecutorService executor = Executors.newFixedThreadPool(1);\r\n\r\n        MyService serviceMock = mock(MyService.class);\r\n        MyApplication app = new MyApplication(serviceMock);\r\n        Future&lt;String&gt; future = executor.submit(app);\r\n        \r\n        when(serviceMock.call()).thenThrow(new RuntimeException(&quot;expected exception&quot;));\r\n        \r\n        String result = future.get(1, TimeUnit.SECONDS);\r\n        assertNotNull(result);\r\n    }\r\n\r\n    public class MyApplication implements Callable&lt;String&gt; {\r\n        private final MyService myService;\r\n\r\n        public MyApplication(MyService myService) {\r\n            super();\r\n            this.myService = myService;\r\n        }\r\n\r\n        @Override\r\n        public String call() throws Exception {\r\n            try {\r\n                while(true) {\r\n                    myService.call();\r\n                }\r\n            } catch (Exception e) {\r\n                return &quot;42&quot;;\r\n            }\r\n        }\r\n    }\r\n    \r\n    public static interface MyService {\r\n        String call();\r\n    }","title":"Is mock configuration propagated to other threads in mockito?","body":"<p>I have a test consisting of a thread running test code and another thread running the system under test. The SuT contains some mocks being configured in test thread.</p>\n\n<p>The behavior of my test is: It does on my local machine what it should. On our build server it doesn't. As far I have debugged, the problem is, that mock doesn't behave like configured.</p>\n\n<p>So it seems to me like my configuration from test thread (in some circumstances) is not propagated to sut thread.</p>\n\n<p>Could this be the problem? Is Mockito not thread-safe in such use cases?\nHere's some example code, working on my machine and (unluckily) on our build server, too.</p>\n\n<pre><code>@Test\npublic void testConcurrency() throws Exception {\n    ExecutorService executor = Executors.newFixedThreadPool(1);\n\n    MyService serviceMock = mock(MyService.class);\n    MyApplication app = new MyApplication(serviceMock);\n    Future&lt;String&gt; future = executor.submit(app);\n\n    when(serviceMock.call()).thenThrow(new RuntimeException(\"expected exception\"));\n\n    String result = future.get(1, TimeUnit.SECONDS);\n    assertNotNull(result);\n}\n\npublic class MyApplication implements Callable&lt;String&gt; {\n    private final MyService myService;\n\n    public MyApplication(MyService myService) {\n        super();\n        this.myService = myService;\n    }\n\n    @Override\n    public String call() throws Exception {\n        try {\n            while(true) {\n                myService.call();\n            }\n        } catch (Exception e) {\n            return \"42\";\n        }\n    }\n}\n\npublic static interface MyService {\n    String call();\n}\n</code></pre>\n"},{"tags":["java","android","firebase","kotlin","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1670143268,"post_id":74668553,"comment_id":131801411,"body_markdown":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your [Firebase Console](https://console.firebase.google.com/u/0/project/_/database/data).","body":"Please edit your question and add your database structure as a JSON file. You can simply get it by clicking the Export JSON in the overflow menu (⠇) in your <a href=\"https://console.firebase.google.com/u/0/project/_/database/data\" rel=\"nofollow noreferrer\">Firebase Console</a>."}],"answers":[{"tags":[],"owner":{"account_id":21502906,"reputation":963,"user_id":15856359,"display_name":"Mostafa Onaizan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690657041,"creation_date":1690657041,"answer_id":76795062,"question_id":74668553,"body_markdown":" -keep class com.yourCompany.yourModel.** { *; }\r\n","title":"com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.String to type com.example.fitnessdiary.models.GymLegsModel","body":"<p>-keep class com.yourCompany.yourModel.** { *; }</p>\n"}],"owner":{"account_id":27133962,"reputation":1,"user_id":20675760,"display_name":"Nate"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690657041,"creation_date":1670085229,"question_id":74668553,"body_markdown":"I&#39;m so new for android Kotlin programming. I try to do recyclerview in my android app using Kotlin, when it run ,it&#39;s shown like this.\r\n\r\n```\r\n2022-12-03 15:56:35.221 16931-16931/com.example.fitnessdiary E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.fitnessdiary, PID: 16931\r\n    com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.String to type com.example.fitnessdiary.models.GymLegsModel\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean(CustomClassMapper.java:436)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:232)\r\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertToCustomClass(CustomClassMapper.java:80)\r\n        at com.google.firebase.database.DataSnapshot.getValue(DataSnapshot.java:203)\r\n        at com.example.fitnessdiary.activities.startgym.HistoryLegActivity$getUserData$1.onDataChange(HistoryLegActivity.kt:47)\r\n        at com.google.firebase.database.core.ValueEventRegistration.fireEvent(ValueEventRegistration.java:75)\r\n        at com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\r\n        at com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n```\r\n\r\nhere is my code as follows which contain MainActivity.kt, Adapter.kt and Models.kt \r\n\r\nHistoryLegsActivity\r\n\r\n```\r\npackage com.example.fitnessdiary.activities.startgym\r\n\r\nimport android.os.Bundle\r\nimport androidx.appcompat.app.AppCompatActivity\r\nimport androidx.recyclerview.widget.LinearLayoutManager\r\nimport androidx.recyclerview.widget.RecyclerView\r\nimport com.example.fitnessdiary.Adapter.GymLegsAdapter\r\nimport com.example.fitnessdiary.R\r\nimport com.example.fitnessdiary.models.GymLegsModel\r\nimport com.google.firebase.database.*\r\nimport java.time.LocalDate\r\n\r\nclass HistoryLegActivity: AppCompatActivity() {\r\n\r\n    private lateinit var dbref : DatabaseReference\r\n    private lateinit var userRecyclerview : RecyclerView\r\n    private lateinit var userArrayList : ArrayList&lt;GymLegsModel&gt;\r\n\r\n    override fun onCreate(savedInstanceState: Bundle?) {\r\n        super.onCreate(savedInstanceState)\r\n        setContentView(R.layout.activity_gym_leg_history)\r\n\r\n        val uid : String = intent.getStringExtra(&quot;UID&quot;)?: &quot;No data&quot;\r\n        val date = LocalDate.now().toString()\r\n\r\n        // recyclerview\r\n        userRecyclerview = findViewById(R.id.userList)\r\n        userRecyclerview.layoutManager = LinearLayoutManager(this)\r\n        userRecyclerview.setHasFixedSize(true)\r\n        userArrayList = arrayListOf&lt;GymLegsModel&gt;()\r\n        getUserData(uid, date)\r\n    }\r\n\r\n    private fun getUserData(uid: String, date: String) {\r\n\r\n        dbref = FirebaseDatabase.getInstance().getReference(&quot;Legs&quot;)\r\n\r\n        dbref.child(uid).child(date).addValueEventListener(object : ValueEventListener {\r\n\r\n            override fun onDataChange(snapshot: DataSnapshot) {\r\n\r\n                if (snapshot.exists()){\r\n\r\n                    for (userSnapshot in snapshot.children){\r\n\r\n\r\n                        val user = userSnapshot.getValue(GymLegsModel::class.java)\r\n                        userArrayList.add(user!!)\r\n\r\n                    }\r\n\r\n                    userRecyclerview.adapter = GymLegsAdapter(userArrayList)\r\n\r\n\r\n                }\r\n\r\n            }\r\n\r\n            override fun onCancelled(error: DatabaseError) {\r\n                TODO(&quot;Not yet implemented&quot;)\r\n            }\r\n\r\n\r\n        })\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nGymLegsAdapter\r\n\r\n```\r\npackage com.example.fitnessdiary.Adapter\r\n\r\nimport android.view.LayoutInflater\r\nimport android.view.View\r\nimport android.view.ViewGroup\r\nimport android.widget.TextView\r\nimport androidx.recyclerview.widget.RecyclerView\r\nimport com.example.fitnessdiary.R\r\nimport com.example.fitnessdiary.models.GymLegsModel\r\nimport kotlin.collections.ArrayList\r\n\r\nclass GymLegsAdapter(private val userList : ArrayList&lt;GymLegsModel&gt;) : RecyclerView.Adapter&lt;GymLegsAdapter.MyViewHolder&gt;() {\r\n\r\n    inner class MyViewHolder(itemView : View) : RecyclerView.ViewHolder(itemView){\r\n\r\n        val totalkgL : TextView = itemView.findViewById(R.id.totalkgL)\r\n        val datestmpL : TextView = itemView.findViewById(R.id.datestmpL)\r\n\r\n        val we1 : TextView = itemView.findViewById(R.id.we1)\r\n        val we2 : TextView = itemView.findViewById(R.id.we2)\r\n        val we3 : TextView = itemView.findViewById(R.id.we3)\r\n        val re1 : TextView = itemView.findViewById(R.id.re1)\r\n        val re2 : TextView = itemView.findViewById(R.id.re2)\r\n        val re3 : TextView = itemView.findViewById(R.id.re3)\r\n\r\n        val we21 : TextView = itemView.findViewById(R.id.we21)\r\n        val we22 : TextView = itemView.findViewById(R.id.we22)\r\n        val we23 : TextView = itemView.findViewById(R.id.we23)\r\n        val re21 : TextView = itemView.findViewById(R.id.re21)\r\n        val re22 : TextView = itemView.findViewById(R.id.re22)\r\n        val re23 : TextView = itemView.findViewById(R.id.re23)\r\n    }\r\n\r\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MyViewHolder {\r\n\r\n        val itemView = LayoutInflater.from(parent.context).inflate(\r\n            R.layout.legs_item,\r\n            parent,false)\r\n        return MyViewHolder(itemView)\r\n\r\n    }\r\n\r\n    override fun onBindViewHolder(holder: MyViewHolder, position: Int) {\r\n\r\n        val currentitem = userList[position]\r\n\r\n        holder.totalkgL.text = currentitem.tkg\r\n        holder.datestmpL.text = currentitem.date\r\n\r\n        holder.we1.text = currentitem.w1\r\n        holder.we2.text = currentitem.w2\r\n        holder.we3.text = currentitem.w3\r\n        holder.re1.text = currentitem.r1\r\n        holder.re2.text = currentitem.r2\r\n        holder.re3.text = currentitem.r3\r\n\r\n        holder.we21.text = currentitem.w21\r\n        holder.we22.text = currentitem.w22\r\n        holder.we23.text = currentitem.w23\r\n        holder.re21.text = currentitem.r21\r\n        holder.re22.text = currentitem.r22\r\n        holder.re23.text = currentitem.r23\r\n\r\n    }\r\n\r\n    override fun getItemCount(): Int {\r\n\r\n        return userList.size\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nGymLegsModel\r\n\r\n```\r\npackage com.example.fitnessdiary.models\r\n\r\ndata class GymLegsModel(\r\n    var w1 : String ?= null,\r\n    var r1 : String ?= null,\r\n    var w2 : String ?= null,\r\n    var r2 : String ?= null,\r\n    var w3 : String ?= null,\r\n    var r3 : String ?= null,\r\n\r\n    var w21 : String ?= null,\r\n    var r21 : String ?= null,\r\n    var w22 : String ?= null,\r\n    var r22 : String ?= null,\r\n    var w23 : String ?= null,\r\n    var r23 : String ?= null,\r\n\r\n    var tkg : String ?= null,\r\n    var date : String ?= null,\r\n\r\n)\r\n```\r\n\r\nMost of answer I founded are for Java programming so I have no idea how to deal with this.","title":"com.google.firebase.database.DatabaseException: Can&#39;t convert object of type java.lang.String to type com.example.fitnessdiary.models.GymLegsModel","body":"<p>I'm so new for android Kotlin programming. I try to do recyclerview in my android app using Kotlin, when it run ,it's shown like this.</p>\n<pre><code>2022-12-03 15:56:35.221 16931-16931/com.example.fitnessdiary E/AndroidRuntime: FATAL EXCEPTION: main\n    Process: com.example.fitnessdiary, PID: 16931\n    com.google.firebase.database.DatabaseException: Can't convert object of type java.lang.String to type com.example.fitnessdiary.models.GymLegsModel\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertBean(CustomClassMapper.java:436)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.deserializeToClass(CustomClassMapper.java:232)\n        at com.google.firebase.database.core.utilities.encoding.CustomClassMapper.convertToCustomClass(CustomClassMapper.java:80)\n        at com.google.firebase.database.DataSnapshot.getValue(DataSnapshot.java:203)\n        at com.example.fitnessdiary.activities.startgym.HistoryLegActivity$getUserData$1.onDataChange(HistoryLegActivity.kt:47)\n        at com.google.firebase.database.core.ValueEventRegistration.fireEvent(ValueEventRegistration.java:75)\n        at com.google.firebase.database.core.view.DataEvent.fire(DataEvent.java:63)\n        at com.google.firebase.database.core.view.EventRaiser$1.run(EventRaiser.java:55)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loop(Looper.java:223)\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n</code></pre>\n<p>here is my code as follows which contain MainActivity.kt, Adapter.kt and Models.kt</p>\n<p>HistoryLegsActivity</p>\n<pre><code>package com.example.fitnessdiary.activities.startgym\n\nimport android.os.Bundle\nimport androidx.appcompat.app.AppCompatActivity\nimport androidx.recyclerview.widget.LinearLayoutManager\nimport androidx.recyclerview.widget.RecyclerView\nimport com.example.fitnessdiary.Adapter.GymLegsAdapter\nimport com.example.fitnessdiary.R\nimport com.example.fitnessdiary.models.GymLegsModel\nimport com.google.firebase.database.*\nimport java.time.LocalDate\n\nclass HistoryLegActivity: AppCompatActivity() {\n\n    private lateinit var dbref : DatabaseReference\n    private lateinit var userRecyclerview : RecyclerView\n    private lateinit var userArrayList : ArrayList&lt;GymLegsModel&gt;\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_gym_leg_history)\n\n        val uid : String = intent.getStringExtra(&quot;UID&quot;)?: &quot;No data&quot;\n        val date = LocalDate.now().toString()\n\n        // recyclerview\n        userRecyclerview = findViewById(R.id.userList)\n        userRecyclerview.layoutManager = LinearLayoutManager(this)\n        userRecyclerview.setHasFixedSize(true)\n        userArrayList = arrayListOf&lt;GymLegsModel&gt;()\n        getUserData(uid, date)\n    }\n\n    private fun getUserData(uid: String, date: String) {\n\n        dbref = FirebaseDatabase.getInstance().getReference(&quot;Legs&quot;)\n\n        dbref.child(uid).child(date).addValueEventListener(object : ValueEventListener {\n\n            override fun onDataChange(snapshot: DataSnapshot) {\n\n                if (snapshot.exists()){\n\n                    for (userSnapshot in snapshot.children){\n\n\n                        val user = userSnapshot.getValue(GymLegsModel::class.java)\n                        userArrayList.add(user!!)\n\n                    }\n\n                    userRecyclerview.adapter = GymLegsAdapter(userArrayList)\n\n\n                }\n\n            }\n\n            override fun onCancelled(error: DatabaseError) {\n                TODO(&quot;Not yet implemented&quot;)\n            }\n\n\n        })\n\n    }\n\n}\n</code></pre>\n<p>GymLegsAdapter</p>\n<pre><code>package com.example.fitnessdiary.Adapter\n\nimport android.view.LayoutInflater\nimport android.view.View\nimport android.view.ViewGroup\nimport android.widget.TextView\nimport androidx.recyclerview.widget.RecyclerView\nimport com.example.fitnessdiary.R\nimport com.example.fitnessdiary.models.GymLegsModel\nimport kotlin.collections.ArrayList\n\nclass GymLegsAdapter(private val userList : ArrayList&lt;GymLegsModel&gt;) : RecyclerView.Adapter&lt;GymLegsAdapter.MyViewHolder&gt;() {\n\n    inner class MyViewHolder(itemView : View) : RecyclerView.ViewHolder(itemView){\n\n        val totalkgL : TextView = itemView.findViewById(R.id.totalkgL)\n        val datestmpL : TextView = itemView.findViewById(R.id.datestmpL)\n\n        val we1 : TextView = itemView.findViewById(R.id.we1)\n        val we2 : TextView = itemView.findViewById(R.id.we2)\n        val we3 : TextView = itemView.findViewById(R.id.we3)\n        val re1 : TextView = itemView.findViewById(R.id.re1)\n        val re2 : TextView = itemView.findViewById(R.id.re2)\n        val re3 : TextView = itemView.findViewById(R.id.re3)\n\n        val we21 : TextView = itemView.findViewById(R.id.we21)\n        val we22 : TextView = itemView.findViewById(R.id.we22)\n        val we23 : TextView = itemView.findViewById(R.id.we23)\n        val re21 : TextView = itemView.findViewById(R.id.re21)\n        val re22 : TextView = itemView.findViewById(R.id.re22)\n        val re23 : TextView = itemView.findViewById(R.id.re23)\n    }\n\n    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): MyViewHolder {\n\n        val itemView = LayoutInflater.from(parent.context).inflate(\n            R.layout.legs_item,\n            parent,false)\n        return MyViewHolder(itemView)\n\n    }\n\n    override fun onBindViewHolder(holder: MyViewHolder, position: Int) {\n\n        val currentitem = userList[position]\n\n        holder.totalkgL.text = currentitem.tkg\n        holder.datestmpL.text = currentitem.date\n\n        holder.we1.text = currentitem.w1\n        holder.we2.text = currentitem.w2\n        holder.we3.text = currentitem.w3\n        holder.re1.text = currentitem.r1\n        holder.re2.text = currentitem.r2\n        holder.re3.text = currentitem.r3\n\n        holder.we21.text = currentitem.w21\n        holder.we22.text = currentitem.w22\n        holder.we23.text = currentitem.w23\n        holder.re21.text = currentitem.r21\n        holder.re22.text = currentitem.r22\n        holder.re23.text = currentitem.r23\n\n    }\n\n    override fun getItemCount(): Int {\n\n        return userList.size\n\n    }\n\n}\n</code></pre>\n<p>GymLegsModel</p>\n<pre><code>package com.example.fitnessdiary.models\n\ndata class GymLegsModel(\n    var w1 : String ?= null,\n    var r1 : String ?= null,\n    var w2 : String ?= null,\n    var r2 : String ?= null,\n    var w3 : String ?= null,\n    var r3 : String ?= null,\n\n    var w21 : String ?= null,\n    var r21 : String ?= null,\n    var w22 : String ?= null,\n    var r22 : String ?= null,\n    var w23 : String ?= null,\n    var r23 : String ?= null,\n\n    var tkg : String ?= null,\n    var date : String ?= null,\n\n)\n</code></pre>\n<p>Most of answer I founded are for Java programming so I have no idea how to deal with this.</p>\n"},{"tags":["java","circuit-breaker","resilience4j"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1630621434,"post_id":69028068,"comment_id":122014432,"body_markdown":"Can you clarify how you&#39;re testing, what you&#39;re expecting to happen, and what&#39;s actually happening instead?","body":"Can you clarify how you&#39;re testing, what you&#39;re expecting to happen, and what&#39;s actually happening instead?"},{"owner":{"account_id":2374041,"reputation":943,"user_id":2077917,"accept_rate":25,"display_name":"Winster"},"score":0,"creation_date":1630651886,"post_id":69028068,"comment_id":122019476,"body_markdown":"@TimMoore updated the question with details you asked for","body":"@TimMoore updated the question with details you asked for"}],"answers":[{"tags":[],"owner":{"account_id":2374041,"reputation":943,"user_id":2077917,"accept_rate":25,"display_name":"Winster"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1630927719,"creation_date":1630927719,"answer_id":69073805,"question_id":69028068,"body_markdown":"After some research, I came to know that fallback on intermittent failures is an expected behaviour, though I could not find it documented anywhere. So even if the circuit is CLOSED, fallback will be invoked if the method throws a matching exception.\r\n\r\nNote:\r\nIf you are not happy with the immediate fallback, wrap it with a RETRY config.","title":"CircuitBreaker immediate fallback","body":"<p>After some research, I came to know that fallback on intermittent failures is an expected behaviour, though I could not find it documented anywhere. So even if the circuit is CLOSED, fallback will be invoked if the method throws a matching exception.</p>\n<p>Note:\nIf you are not happy with the immediate fallback, wrap it with a RETRY config.</p>\n"},{"tags":[],"owner":{"account_id":8393641,"reputation":850,"user_id":6301562,"display_name":"dawis11"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642351663,"creation_date":1642351663,"answer_id":70732123,"question_id":69028068,"body_markdown":"`@CircuitBreaker`- you should expect the result that if it&#39;s status is **open** that you will immediately receive a fallback and it no longer calls your desired service.\r\n\r\nIf you expect the result that when you turn off your called backend service and you want 5 call until you get fallback you need use `@Retry`, if the call fails, then it will try to call your service again.\r\n\r\nIf you use multiple notations, you can read more about the order [here][1]\r\n\r\n\r\n  [1]: https://resilience4j.readme.io/docs/getting-started-3#aspect-order","title":"CircuitBreaker immediate fallback","body":"<p><code>@CircuitBreaker</code>- you should expect the result that if it's status is <strong>open</strong> that you will immediately receive a fallback and it no longer calls your desired service.</p>\n<p>If you expect the result that when you turn off your called backend service and you want 5 call until you get fallback you need use <code>@Retry</code>, if the call fails, then it will try to call your service again.</p>\n<p>If you use multiple notations, you can read more about the order <a href=\"https://resilience4j.readme.io/docs/getting-started-3#aspect-order\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":14991897,"reputation":81,"user_id":10822670,"display_name":"norullah karimi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690655925,"creation_date":1690655925,"answer_id":76795000,"question_id":69028068,"body_markdown":"I had the same error, the service was working correctly but it shows the error, for this issue, I used the @Retry like below : (put it on top of your @GetMapping)\r\n\r\n    @Retry(name = &quot;mycircuit&quot;, fallbackMethod = &quot;connectionFail&quot;)\r\n\r\nand then define the fallback function like example below : (  Throwable should be there and also the name method should be the same name in fallback, mean &quot;connectionFail&quot;) \r\n\r\n    public Posts connectionFail(Throwable throwable){\r\n        return new Posts(); // or any other fallback implementation that returns a valid Posts object\r\n    }\r\n\r\nalso you should define this configuration in your application.properties file : \r\n\r\n&gt;resilience4j.circuitbreaker.instances.mycircuit.maxRetryAttempts=3\r\n&gt; resilience4j.retry.instances.mycircuit.waitDuration=1s\r\n&gt;resilience4j.retry.instances.mycircuit.enableExponentialBackoff=true\r\n\r\nI hope it helpfull.","title":"CircuitBreaker immediate fallback","body":"<p>I had the same error, the service was working correctly but it shows the error, for this issue, I used the @Retry like below : (put it on top of your @GetMapping)</p>\n<pre><code>@Retry(name = &quot;mycircuit&quot;, fallbackMethod = &quot;connectionFail&quot;)\n</code></pre>\n<p>and then define the fallback function like example below : (  Throwable should be there and also the name method should be the same name in fallback, mean &quot;connectionFail&quot;)</p>\n<pre><code>public Posts connectionFail(Throwable throwable){\n    return new Posts(); // or any other fallback implementation that returns a valid Posts object\n}\n</code></pre>\n<p>also you should define this configuration in your application.properties file :</p>\n<blockquote>\n<p>resilience4j.circuitbreaker.instances.mycircuit.maxRetryAttempts=3\nresilience4j.retry.instances.mycircuit.waitDuration=1s\nresilience4j.retry.instances.mycircuit.enableExponentialBackoff=true</p>\n</blockquote>\n<p>I hope it helpfull.</p>\n"}],"owner":{"account_id":2374041,"reputation":943,"user_id":2077917,"accept_rate":25,"display_name":"Winster"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1913,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1690655925,"creation_date":1630576757,"question_id":69028068,"body_markdown":"I followed https://resilience4j.readme.io/docs/getting-started-3 for Resilience4J documentation.\r\n\r\nI have a problem, my circuitbreaker is immediately connecting to the fallback( on the first invoke) when the primary-backend is not available. \r\n\r\n    @Bean\r\n    public CircuitBreakerConfig circuitBreakerConfig() {\r\n        return CircuitBreakerConfig.custom()\r\n                .slidingWindowType(CircuitBreakerConfig.SlidingWindowType.COUNT_BASED)\r\n                .slidingWindowSize(5)\r\n                .minimumNumberOfCalls(5)\r\n                .failureRateThreshold(4)\r\n                .build();\r\n    }\r\n\r\nI also tried moving the config to application.yml, but still the same behavior.\r\n    \r\n    import io.github.resilience4j.circuitbreaker.annotation.CircuitBreaker;\r\n\r\n    @CircuitBreaker(name = &quot;backendA&quot;, fallbackMethod = &quot;fallbackA&quot;)\r\n    public String backendA() {\r\n      return restTemplate.getForObject(&quot;http://localhost:9999/backendA&quot;, String.class);\r\n    }\r\n\r\n    public String fallbackA(Exception e) {\r\n        return restTemplate.getForObject(&quot;http://localhost:8080/partner&quot;, String.class);\r\n    }\r\n\r\nCan someone help?\r\n\r\n//UPDATE\r\n\r\nMore details below.\r\nAs shown in the code above, my app is making a call to /backendA, behind a circuit breaker. It is expected that as per config, if backendA is not available, the should fail 5 times and 6th call onwards fallback to /partner API. Or in other words, circuit should open after 5 calls.\r\n\r\nThis is how I tested. \r\n\r\nI started the application. Both backendA and fallbackA are available. After a few calls, I killed backendA. the next call to backendA is falling back to /partner while I expect the next 5 calls to backendA fails without a fallback. Is my expectation correct?\r\n","title":"CircuitBreaker immediate fallback","body":"<p>I followed <a href=\"https://resilience4j.readme.io/docs/getting-started-3\" rel=\"nofollow noreferrer\">https://resilience4j.readme.io/docs/getting-started-3</a> for Resilience4J documentation.</p>\n<p>I have a problem, my circuitbreaker is immediately connecting to the fallback( on the first invoke) when the primary-backend is not available.</p>\n<pre><code>@Bean\npublic CircuitBreakerConfig circuitBreakerConfig() {\n    return CircuitBreakerConfig.custom()\n            .slidingWindowType(CircuitBreakerConfig.SlidingWindowType.COUNT_BASED)\n            .slidingWindowSize(5)\n            .minimumNumberOfCalls(5)\n            .failureRateThreshold(4)\n            .build();\n}\n</code></pre>\n<p>I also tried moving the config to application.yml, but still the same behavior.</p>\n<pre><code>import io.github.resilience4j.circuitbreaker.annotation.CircuitBreaker;\n\n@CircuitBreaker(name = &quot;backendA&quot;, fallbackMethod = &quot;fallbackA&quot;)\npublic String backendA() {\n  return restTemplate.getForObject(&quot;http://localhost:9999/backendA&quot;, String.class);\n}\n\npublic String fallbackA(Exception e) {\n    return restTemplate.getForObject(&quot;http://localhost:8080/partner&quot;, String.class);\n}\n</code></pre>\n<p>Can someone help?</p>\n<p>//UPDATE</p>\n<p>More details below.\nAs shown in the code above, my app is making a call to /backendA, behind a circuit breaker. It is expected that as per config, if backendA is not available, the should fail 5 times and 6th call onwards fallback to /partner API. Or in other words, circuit should open after 5 calls.</p>\n<p>This is how I tested.</p>\n<p>I started the application. Both backendA and fallbackA are available. After a few calls, I killed backendA. the next call to backendA is falling back to /partner while I expect the next 5 calls to backendA fails without a fallback. Is my expectation correct?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690464140,"post_id":76780103,"comment_id":135359794,"body_markdown":"Please indent your code correctly -- your IDE will do this for you.","body":"Please indent your code correctly -- your IDE will do this for you."},{"owner":{"account_id":29103423,"reputation":13,"user_id":22294770,"display_name":"math_sp"},"score":0,"creation_date":1690464524,"post_id":76780103,"comment_id":135359890,"body_markdown":"Sorry, I&#39;m aware I have a problem with readable code. I&#39;ll keep this in mind for the future!","body":"Sorry, I&#39;m aware I have a problem with readable code. I&#39;ll keep this in mind for the future!"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690465129,"post_id":76780103,"comment_id":135360069,"body_markdown":"And your question doesn&#39;t explain what your program needs to do -- what is `k`?","body":"And your question doesn&#39;t explain what your program needs to do -- what is <code>k</code>?"},{"owner":{"account_id":29103423,"reputation":13,"user_id":22294770,"display_name":"math_sp"},"score":0,"creation_date":1690466054,"post_id":76780103,"comment_id":135360274,"body_markdown":"I provided the prompt for that reason but basically, I have to find the length of the array after removing the minimum values, repeat till the array is empty and add up said lengths to find k. Do you need more clarification or is that good?","body":"I provided the prompt for that reason but basically, I have to find the length of the array after removing the minimum values, repeat till the array is empty and add up said lengths to find k. Do you need more clarification or is that good?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1690484409,"post_id":76780103,"comment_id":135364130,"body_markdown":"Way off-topic: Jess and Jerry evaluated only the time needed to scan the shrinking array. They didn&#39;t account for the time needed to find and move the targeted pandas at each pass","body":"Way off-topic: Jess and Jerry evaluated only the time needed to scan the shrinking array. They didn&#39;t account for the time needed to find and move the targeted pandas at each pass"}],"answers":[{"tags":[],"owner":{"account_id":27668746,"reputation":233,"user_id":21120027,"display_name":"Dulan Jayawickrama"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690464134,"creation_date":1690464134,"answer_id":76780196,"question_id":76780103,"body_markdown":"The main problem with your current approach is that you are modifying the original array **memory** while trying to count the occurrences and remove elements. This leads to unexpected behavior and incorrect results.\r\n\r\nInstead of modifying the original array, you can use a separate data structure to keep track of the occurrences of each element and remove the minimum element without altering the array. \r\n\r\n    import java.util.Scanner;\r\n    import java.util.Arrays;\r\n    \r\n    public class Sort {\r\n        public static void main(String[] args) {\r\n            Scanner sc = new Scanner(System.in);\r\n            int x = sc.nextInt();\r\n            int memory[] = new int[x];\r\n    \r\n            for (int i = 0; i &lt; x; i++) {\r\n                memory[i] = sc.nextInt();\r\n            }\r\n    \r\n            int min = Arrays.stream(memory).min().getAsInt();\r\n            int minCount = (int) Arrays.stream(memory).filter(num -&gt; num == min).count();\r\n            int k = x - minCount;\r\n    \r\n            while (minCount &gt; 0) {\r\n                memory = removeElements(memory, min);\r\n                minCount = (int) Arrays.stream(memory).filter(num -&gt; num == min).count();\r\n                k -= minCount;\r\n            }\r\n    \r\n            System.out.println(k);\r\n            sc.close();\r\n        }\r\n    \r\n        public static int[] removeElements(int[] arr, int key) {\r\n            return Arrays.stream(arr).filter(num -&gt; num != key).toArray();\r\n        }\r\n    }\r\n\r\nHere&#39;s what we did:\r\n\r\n1.Instead of using an additional array **mem2**, we directly use the original array **memory**.\r\n\r\n2.We find the minimum element in the array and count its occurrences.\r\n\r\n3.We remove the minimum element from the array in a loop until there are no more occurrences of the minimum element. In each iteration, we update the count of **k** and recalculate the count of the minimum element to be removed.\r\n\r\nBy doing this, you can avoid modifying the original array and calculate the correct value of **k** without resetting any values.","title":"How can I remove all instances of minimum values from array?","body":"<p>The main problem with your current approach is that you are modifying the original array <strong>memory</strong> while trying to count the occurrences and remove elements. This leads to unexpected behavior and incorrect results.</p>\n<p>Instead of modifying the original array, you can use a separate data structure to keep track of the occurrences of each element and remove the minimum element without altering the array.</p>\n<pre><code>import java.util.Scanner;\nimport java.util.Arrays;\n\npublic class Sort {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        int x = sc.nextInt();\n        int memory[] = new int[x];\n\n        for (int i = 0; i &lt; x; i++) {\n            memory[i] = sc.nextInt();\n        }\n\n        int min = Arrays.stream(memory).min().getAsInt();\n        int minCount = (int) Arrays.stream(memory).filter(num -&gt; num == min).count();\n        int k = x - minCount;\n\n        while (minCount &gt; 0) {\n            memory = removeElements(memory, min);\n            minCount = (int) Arrays.stream(memory).filter(num -&gt; num == min).count();\n            k -= minCount;\n        }\n\n        System.out.println(k);\n        sc.close();\n    }\n\n    public static int[] removeElements(int[] arr, int key) {\n        return Arrays.stream(arr).filter(num -&gt; num != key).toArray();\n    }\n}\n</code></pre>\n<p>Here's what we did:</p>\n<p>1.Instead of using an additional array <strong>mem2</strong>, we directly use the original array <strong>memory</strong>.</p>\n<p>2.We find the minimum element in the array and count its occurrences.</p>\n<p>3.We remove the minimum element from the array in a loop until there are no more occurrences of the minimum element. In each iteration, we update the count of <strong>k</strong> and recalculate the count of the minimum element to be removed.</p>\n<p>By doing this, you can avoid modifying the original array and calculate the correct value of <strong>k</strong> without resetting any values.</p>\n"},{"tags":[],"owner":{"account_id":27699053,"reputation":2348,"user_id":21144042,"display_name":"Diego Borba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690655836,"creation_date":1690467195,"answer_id":76780617,"question_id":76780103,"body_markdown":"The approach used in the code **does not follow the problem description correctly**, and the logic for sorting and counting the operations is not correct.\r\n\r\nSome problems are:\r\n\r\n - The `countFreq()` method is not used correctly. It&#39;s meant to count the frequency of elements in an array, but it&#39;s **not utilized in the sorting** process.\r\n - The `removeElements()` method is used to remove occurrences of the minimum element from the memory array, but this approach does **not simulate the described *teleportation* process correctly**.\r\n - The implemented loop does **not match the question**.\r\n - You can use `Java Collections` instead of primitive arrays.\r\n\r\nI was based on [the prompt][1] you passed, and I did it this way:\r\n\r\n`Main` - Just inputs\r\n\r\n```java\r\npublic static void main(String[] args) {\r\n    Scanner scanner = new Scanner(System.in);\r\n    int n = scanner.nextInt();\r\n    int[] redPandas = new int[n];\r\n    for (int i = 0; i &lt; n; i++) {\r\n        redPandas[i] = scanner.nextInt();\r\n    }\r\n    scanner.close();\r\n\r\n    int seconds = sortingOperationSeconds(redPandas);\r\n    System.out.println(seconds);\r\n}\r\n```\r\n\r\n`sortingOperationSeconds` - Implementation itself\r\n\r\n```java\r\npublic static int sortingOperationSeconds(int[] redPandas) {\r\n    Queue&lt;Integer&gt; firstLine = new PriorityQueue&lt;&gt;();\r\n    Queue&lt;Integer&gt; secondLine = new LinkedList&lt;&gt;();\r\n\r\n    for (int panda : redPandas) {\r\n        firstLine.offer(panda);\r\n    }\r\n\r\n    int seconds = 0;\r\n    while (!firstLine.isEmpty()) {\r\n        int flSize = firstLine.size();\r\n        int flSmallestId = firstLine.peek();\r\n        seconds += flSize;\r\n        for (int i = 0; i &lt; flSize; i++) {\r\n            int currentPanda = firstLine.poll();\r\n            if (currentPanda == flSmallestId) {\r\n                secondLine.offer(currentPanda);\r\n            } else {\r\n                firstLine.offer(currentPanda);\r\n            }\r\n        }\r\n    }\r\n\r\n    return seconds;\r\n}\r\n```\r\n\r\nLet’s step by step:\r\n\r\n1. **Red Panda Queues:**\r\n\r\n    ```java\r\n    Queue&lt;Integer&gt; firstLine = new PriorityQueue&lt;&gt;();\r\n    Queue&lt;Integer&gt; secondLine = new LinkedList&lt;&gt;();\r\n    ```\r\n\r\n    Two [`Queues`][2] are created to represent the two lines of red pandas, the `firstLine` is a [`PriorityQueue`][3], where the smallest ID always stays at the front of the queue and the `secondLine` is a [`LinkedList`][4], where red pandas are moved after being removed from `firstLine`.\r\n\r\n2. **Adding Red Pandas to firstLine:**\r\n\r\n    ```java\r\n    for (int panda : redPandas) {\r\n        firstLine.offer(panda);\r\n    }\r\n    ```\r\n\r\n    [`Offers`][5] all red pandas from the `redPandas` array to the `firstLine` queue.\r\n\r\n3. **Sorting Operation:**\r\n\r\n    ```java\r\n    int seconds = 0;\r\n    while (!firstLine.isEmpty()) {\r\n        int flSize = firstLine.size();\r\n        int flSmallestId = firstLine.peek();\r\n        seconds += flSize;\r\n        for (int i = 0; i &lt; flSize; i++) {\r\n            int currentPanda = firstLine.poll();\r\n            if (currentPanda == flSmallestId) {\r\n                secondLine.offer(currentPanda);\r\n            } else {\r\n                firstLine.offer(currentPanda);\r\n            }\r\n        }\r\n    }\r\n    ```\r\n\r\n    While `firstLine` is not empty, the loop runs. It calculates the **number of red pandas** in `firstLine` (`flSize`) and the [*smallest ID*][6] in `firstLine` (`flSmallestId`). Then, it adds `flSize` *seconds* to the `seconds` counter.\r\n\r\n    The inner loop **removes red pandas** from `firstLine` one by one. If the ID of the current red panda is **equal to the smallest ID** (`flSmallestId`), that red panda is moved to `secondLine`. Otherwise, it is returned to `firstLine`.\r\n\r\n    This process **continues until all red pandas have been moved** to `secondLine`.\r\n\r\n  [1]: https://codeforces.com/gym/103886/problem/A\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/Queue.html\r\n  [3]: https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/util/LinkedList.html\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/util/Queue.html#offer-E-\r\n  [6]: https://docs.oracle.com/javase/8/docs/api/java/util/Queue.html#peek--\r\n","title":"How can I remove all instances of minimum values from array?","body":"<p>The approach used in the code <strong>does not follow the problem description correctly</strong>, and the logic for sorting and counting the operations is not correct.</p>\n<p>Some problems are:</p>\n<ul>\n<li>The <code>countFreq()</code> method is not used correctly. It's meant to count the frequency of elements in an array, but it's <strong>not utilized in the sorting</strong> process.</li>\n<li>The <code>removeElements()</code> method is used to remove occurrences of the minimum element from the memory array, but this approach does <strong>not simulate the described <em>teleportation</em> process correctly</strong>.</li>\n<li>The implemented loop does <strong>not match the question</strong>.</li>\n<li>You can use <code>Java Collections</code> instead of primitive arrays.</li>\n</ul>\n<p>I was based on <a href=\"https://codeforces.com/gym/103886/problem/A\" rel=\"nofollow noreferrer\">the prompt</a> you passed, and I did it this way:</p>\n<p><code>Main</code> - Just inputs</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    int n = scanner.nextInt();\n    int[] redPandas = new int[n];\n    for (int i = 0; i &lt; n; i++) {\n        redPandas[i] = scanner.nextInt();\n    }\n    scanner.close();\n\n    int seconds = sortingOperationSeconds(redPandas);\n    System.out.println(seconds);\n}\n</code></pre>\n<p><code>sortingOperationSeconds</code> - Implementation itself</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static int sortingOperationSeconds(int[] redPandas) {\n    Queue&lt;Integer&gt; firstLine = new PriorityQueue&lt;&gt;();\n    Queue&lt;Integer&gt; secondLine = new LinkedList&lt;&gt;();\n\n    for (int panda : redPandas) {\n        firstLine.offer(panda);\n    }\n\n    int seconds = 0;\n    while (!firstLine.isEmpty()) {\n        int flSize = firstLine.size();\n        int flSmallestId = firstLine.peek();\n        seconds += flSize;\n        for (int i = 0; i &lt; flSize; i++) {\n            int currentPanda = firstLine.poll();\n            if (currentPanda == flSmallestId) {\n                secondLine.offer(currentPanda);\n            } else {\n                firstLine.offer(currentPanda);\n            }\n        }\n    }\n\n    return seconds;\n}\n</code></pre>\n<p>Let’s step by step:</p>\n<ol>\n<li><p><strong>Red Panda Queues:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>Queue&lt;Integer&gt; firstLine = new PriorityQueue&lt;&gt;();\nQueue&lt;Integer&gt; secondLine = new LinkedList&lt;&gt;();\n</code></pre>\n<p>Two <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Queue.html\" rel=\"nofollow noreferrer\"><code>Queues</code></a> are created to represent the two lines of red pandas, the <code>firstLine</code> is a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/PriorityQueue.html\" rel=\"nofollow noreferrer\"><code>PriorityQueue</code></a>, where the smallest ID always stays at the front of the queue and the <code>secondLine</code> is a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/LinkedList.html\" rel=\"nofollow noreferrer\"><code>LinkedList</code></a>, where red pandas are moved after being removed from <code>firstLine</code>.</p>\n</li>\n<li><p><strong>Adding Red Pandas to firstLine:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>for (int panda : redPandas) {\n    firstLine.offer(panda);\n}\n</code></pre>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Queue.html#offer-E-\" rel=\"nofollow noreferrer\"><code>Offers</code></a> all red pandas from the <code>redPandas</code> array to the <code>firstLine</code> queue.</p>\n</li>\n<li><p><strong>Sorting Operation:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>int seconds = 0;\nwhile (!firstLine.isEmpty()) {\n    int flSize = firstLine.size();\n    int flSmallestId = firstLine.peek();\n    seconds += flSize;\n    for (int i = 0; i &lt; flSize; i++) {\n        int currentPanda = firstLine.poll();\n        if (currentPanda == flSmallestId) {\n            secondLine.offer(currentPanda);\n        } else {\n            firstLine.offer(currentPanda);\n        }\n    }\n}\n</code></pre>\n<p>While <code>firstLine</code> is not empty, the loop runs. It calculates the <strong>number of red pandas</strong> in <code>firstLine</code> (<code>flSize</code>) and the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Queue.html#peek--\" rel=\"nofollow noreferrer\"><em>smallest ID</em></a> in <code>firstLine</code> (<code>flSmallestId</code>). Then, it adds <code>flSize</code> <em>seconds</em> to the <code>seconds</code> counter.</p>\n<p>The inner loop <strong>removes red pandas</strong> from <code>firstLine</code> one by one. If the ID of the current red panda is <strong>equal to the smallest ID</strong> (<code>flSmallestId</code>), that red panda is moved to <code>secondLine</code>. Otherwise, it is returned to <code>firstLine</code>.</p>\n<p>This process <strong>continues until all red pandas have been moved</strong> to <code>secondLine</code>.</p>\n</li>\n</ol>\n"}],"owner":{"account_id":29103423,"reputation":13,"user_id":22294770,"display_name":"math_sp"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76780617,"answer_count":2,"score":1,"last_activity_date":1690655836,"creation_date":1690463489,"question_id":76780103,"body_markdown":"I&#39;m trying to prepare for [USACO][1] Bronze by doing some practice problems on [Codeforces][2], and I&#39;ve been struggling on this one for a good two weeks.\r\n\r\n[Here&#39;s][3] the prompt.\r\n\r\nAt first, I was iterating through the array, removing the minimum element, storing the length in a variable, and repeating until there weren&#39;t any values left.\r\n\r\nHowever, that was very inefficient and was not working well, so I decided to instead count the number of instances of each element, subtract those from.\r\n\r\nThe value I expected was 8. However, the value I received was one, leading me to think the variable value keeps getting reset and it only print out the number of times the last/greatest instance occurs.\r\n\r\nHow do I modify my code so that I&#39;m able to successfully remove the number of instances of the minimum element from the array length, store the new length in a variable and repeat this without any of my values getting reset in the process?\r\n\r\nPlease excuse me if this is a really dumb question since I&#39;m just starting USACO, and I&#39;m not used to competitive programming yet.\r\n\r\n```java\r\npublic class sort {\r\n    public static void main(String[] args) {\r\n        Scanner sc = new Scanner(System.in);\r\n        // System.out.println(&quot;PLEASE INSERT AN ELEMENT&quot;);\r\n        int x = sc.nextInt();\r\n        int memory[];\r\n        memory = new int[x];\r\n        for (int i = 0; i &lt; x; i++) {\r\n            memory[i] = sc.nextInt();\r\n        }\r\n\r\n        Arrays.sort(memory);\r\n        int k = memory.length;\r\n        int mem2[] = new int[x];\r\n        int min = memory[0];\r\n        int array[];\r\n        for (int i = 0; i &lt; k; i++) {\r\n            countFreq(memory, k);\r\n            array = removeElements(memory, min);\r\n            k = k + array.length;\r\n            System.out.println(k);\r\n        }\r\n        System.out.println(k);\r\n        sc.close();\r\n    }\r\n\r\n    public static void countFreq(int arr[], int n) {\r\n        boolean visited[] = new boolean[n];\r\n\r\n        Arrays.fill(visited, false);\r\n        for (int i = 0; i &lt; n; i++) {\r\n            if (visited[i] == true)\r\n                continue;\r\n            int count = 1;\r\n            for (int j = i + 1; j &lt; n; j++) {\r\n                if (arr[i] == arr[j]) {\r\n                    visited[j] = true;\r\n                    count++;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    public static int[] removeElements(int[] arr, int key) {\r\n        int index = 0;\r\n        for (int i = 0; i &lt; arr.length; i++)\r\n            if (arr[i] != key)\r\n                arr[index++] = arr[i];\r\n        return Arrays.copyOf(arr, index);\r\n    }\r\n\r\n    public static int[] addX(int n, int arr[], int x) {\r\n        int j;\r\n        int newarr[] = new int[n + 1];\r\n        for (j = 0; j &lt; n; j++)\r\n            newarr[j] = arr[j];\r\n\r\n        newarr[n] = x;\r\n\r\n        return newarr;\r\n    }\r\n}\r\n```\r\n\r\n  [1]: https://en.wikipedia.org/wiki/United_States_of_America_Computing_Olympiad\r\n  [2]: https://en.wikipedia.org/wiki/Codeforces\r\n  [3]: https://codeforces.com/gym/103886/problem/A\r\n\r\n","title":"How can I remove all instances of minimum values from array?","body":"<p>I'm trying to prepare for <a href=\"https://en.wikipedia.org/wiki/United_States_of_America_Computing_Olympiad\" rel=\"nofollow noreferrer\">USACO</a> Bronze by doing some practice problems on <a href=\"https://en.wikipedia.org/wiki/Codeforces\" rel=\"nofollow noreferrer\">Codeforces</a>, and I've been struggling on this one for a good two weeks.</p>\n<p><a href=\"https://codeforces.com/gym/103886/problem/A\" rel=\"nofollow noreferrer\">Here's</a> the prompt.</p>\n<p>At first, I was iterating through the array, removing the minimum element, storing the length in a variable, and repeating until there weren't any values left.</p>\n<p>However, that was very inefficient and was not working well, so I decided to instead count the number of instances of each element, subtract those from.</p>\n<p>The value I expected was 8. However, the value I received was one, leading me to think the variable value keeps getting reset and it only print out the number of times the last/greatest instance occurs.</p>\n<p>How do I modify my code so that I'm able to successfully remove the number of instances of the minimum element from the array length, store the new length in a variable and repeat this without any of my values getting reset in the process?</p>\n<p>Please excuse me if this is a really dumb question since I'm just starting USACO, and I'm not used to competitive programming yet.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class sort {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        // System.out.println(&quot;PLEASE INSERT AN ELEMENT&quot;);\n        int x = sc.nextInt();\n        int memory[];\n        memory = new int[x];\n        for (int i = 0; i &lt; x; i++) {\n            memory[i] = sc.nextInt();\n        }\n\n        Arrays.sort(memory);\n        int k = memory.length;\n        int mem2[] = new int[x];\n        int min = memory[0];\n        int array[];\n        for (int i = 0; i &lt; k; i++) {\n            countFreq(memory, k);\n            array = removeElements(memory, min);\n            k = k + array.length;\n            System.out.println(k);\n        }\n        System.out.println(k);\n        sc.close();\n    }\n\n    public static void countFreq(int arr[], int n) {\n        boolean visited[] = new boolean[n];\n\n        Arrays.fill(visited, false);\n        for (int i = 0; i &lt; n; i++) {\n            if (visited[i] == true)\n                continue;\n            int count = 1;\n            for (int j = i + 1; j &lt; n; j++) {\n                if (arr[i] == arr[j]) {\n                    visited[j] = true;\n                    count++;\n                }\n            }\n        }\n    }\n\n    public static int[] removeElements(int[] arr, int key) {\n        int index = 0;\n        for (int i = 0; i &lt; arr.length; i++)\n            if (arr[i] != key)\n                arr[index++] = arr[i];\n        return Arrays.copyOf(arr, index);\n    }\n\n    public static int[] addX(int n, int arr[], int x) {\n        int j;\n        int newarr[] = new int[n + 1];\n        for (j = 0; j &lt; n; j++)\n            newarr[j] = arr[j];\n\n        newarr[n] = x;\n\n        return newarr;\n    }\n}\n</code></pre>\n"},{"tags":["java","sockets","nio","apache-mina"],"comments":[{"owner":{"account_id":2029491,"reputation":9823,"user_id":1813616,"display_name":"Uwe Plonus"},"score":0,"creation_date":1353496783,"post_id":13491876,"comment_id":18462658,"body_markdown":"Can you please send the crucial part of the server side code? For this question the client side code is of no help.","body":"Can you please send the crucial part of the server side code? For this question the client side code is of no help."}],"answers":[{"tags":[],"owner":{"account_id":1561156,"reputation":3620,"user_id":1450993,"display_name":"onon15"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1353497784,"creation_date":1353497784,"answer_id":13492429,"question_id":13491876,"body_markdown":"MINA is actually a very elaborate framework to solve your problem in an elegant way. Its basic concept is a filter chain, in which a series of filters are applied on an incoming message. \r\n\r\nYou should implement a protocol decoder (implementing `MessageDecoder`) and register it in your MINA filter chain. That decoder should parse byte buffers to the object representation of your choice.\r\n\r\nThen, you can register a message handler that handles complete messages.","title":"Traditional I/O on the client side and NIO in Server. How do I get specific message if the client sends multiple message in the same socket?","body":"<p>MINA is actually a very elaborate framework to solve your problem in an elegant way. Its basic concept is a filter chain, in which a series of filters are applied on an incoming message. </p>\n\n<p>You should implement a protocol decoder (implementing <code>MessageDecoder</code>) and register it in your MINA filter chain. That decoder should parse byte buffers to the object representation of your choice.</p>\n\n<p>Then, you can register a message handler that handles complete messages.</p>\n"},{"tags":[],"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1353538335,"creation_date":1353538335,"answer_id":13503379,"question_id":13491876,"body_markdown":"&gt; How do i get individual messages\r\n\r\nYou don&#39;t. There is no such thing as a message in TCP. It is a byte-stream protocol. There are no message boundaries and there is no guarantee that one read equals one write at the other end.\r\n\r\n&gt; (given i&#39;m not able to change anything in client, AND the length of individual messages are not known)\r\n\r\nYour are going to have to parse the messages to find where they stop according to the definition of the application protocol. If that isn&#39;t possible because, say, the protocol is ambiguous, the client will have to be junked. However it seems that as you can&#39;t change the client, it must already work with an existing system, so the guy before you had the same problem and solved it somehow.\r\n","title":"Traditional I/O on the client side and NIO in Server. How do I get specific message if the client sends multiple message in the same socket?","body":"<blockquote>\n  <p>How do i get individual messages</p>\n</blockquote>\n\n<p>You don't. There is no such thing as a message in TCP. It is a byte-stream protocol. There are no message boundaries and there is no guarantee that one read equals one write at the other end.</p>\n\n<blockquote>\n  <p>(given i'm not able to change anything in client, AND the length of individual messages are not known)</p>\n</blockquote>\n\n<p>Your are going to have to parse the messages to find where they stop according to the definition of the application protocol. If that isn't possible because, say, the protocol is ambiguous, the client will have to be junked. However it seems that as you can't change the client, it must already work with an existing system, so the guy before you had the same problem and solved it somehow.</p>\n"}],"owner":{"account_id":443904,"reputation":3383,"user_id":835415,"accept_rate":69,"display_name":"shahalpk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1064,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":13503379,"answer_count":2,"score":1,"last_activity_date":1690654479,"creation_date":1353495862,"question_id":13491876,"body_markdown":"I am using Apache Mina in the *server* side. I&#39;ve a client which is written in traditional I/O. Here&#39;s the *client* side code that sends data to the server.\r\n\r\n    class SomeClass extends Thread\r\n    {\r\n        Socket socket;\r\n\r\n        // Constructor\r\n        SomeClass()\r\n        {\r\n            Socket socket = ...\r\n        }\r\n\r\n        public void run()\r\n        {\r\n            while (j++ &lt; 10)\r\n            {\r\n                System.out.println(&quot;CLIENT[&quot; + clientNo + &quot;] Send Message =&gt;&quot; + requests[clientNo][j]);\r\n                OutputStream oStrm = socket.getOutputStream();\r\n                byte[] byteSendBuffer = (requests[clientNo][j]).getBytes();\r\n                oStrm.write(byteSendBuffer);\r\n                oStrm.flush();\r\n            }\r\n        }\r\n    }\r\n\r\nThe above thread is run for say 20 times. So 20 sockets are created. And in one socket, many messages are send. With a server written using I/O socket classes I&#39;m able to retrieve data perfectly.\r\n\r\nThe problem comes in the Apache Mina based server which uses BUFFER! I am not able to get individual messages.\r\n\r\nHow do I get individual messages (given I’m not able to change anything in the client, *and* the length of individual messages are not known).\r\n\r\n&lt;strong&gt;Server-side code&lt;/strong&gt;&lt;br /&gt;\r\n\r\n&lt;em&gt;Socket Creation&lt;/em&gt;&lt;br /&gt;\r\n\r\n&lt;pre&gt;\r\npublic static void main(String[] args) throws IOException, SQLException {\r\n    System.out.println(Charset.defaultCharset().name());\r\n    IoAcceptor acceptor = new NioSocketAcceptor();\r\n    ProtocolCodecFilter(charset.newEncoder(), charset.newDecoder()));\r\n    acceptor.setHandler(new TimeServerHandler());\r\n    acceptor.getSessionConfig().setReadBufferSize(64);\r\n    acceptor.getSessionConfig().setIdleTime(IdleStatus.BOTH_IDLE, 10);\r\n    acceptor.bind(new InetSocketAddress(PORT));\r\n}\r\n&lt;/pre&gt;\r\n\r\n&lt;em&gt;Handler Code&lt;/em&gt;&lt;br /&gt;\r\n\r\n&lt;pre&gt;\r\npublic void messageReceived(IoSession session, Object message) throws Exception {\r\n\r\n    AbstractIoBuffer bf = (AbstractIoBuffer)message;\r\n    Charset charset = Charset.forName(&quot;UTF-8&quot;);\r\n    CharsetDecoder decoder = charset.newDecoder();\r\n    String outString = bf.getString(decoder);\r\n}\r\n&lt;/pre&gt;\r\n\r\n\r\n","title":"Traditional I/O on the client side and NIO in Server. How do I get specific message if the client sends multiple message in the same socket?","body":"<p>I am using Apache Mina in the <em>server</em> side. I've a client which is written in traditional I/O. Here's the <em>client</em> side code that sends data to the server.</p>\n<pre><code>class SomeClass extends Thread\n{\n    Socket socket;\n\n    // Constructor\n    SomeClass()\n    {\n        Socket socket = ...\n    }\n\n    public void run()\n    {\n        while (j++ &lt; 10)\n        {\n            System.out.println(&quot;CLIENT[&quot; + clientNo + &quot;] Send Message =&gt;&quot; + requests[clientNo][j]);\n            OutputStream oStrm = socket.getOutputStream();\n            byte[] byteSendBuffer = (requests[clientNo][j]).getBytes();\n            oStrm.write(byteSendBuffer);\n            oStrm.flush();\n        }\n    }\n}\n</code></pre>\n<p>The above thread is run for say 20 times. So 20 sockets are created. And in one socket, many messages are send. With a server written using I/O socket classes I'm able to retrieve data perfectly.</p>\n<p>The problem comes in the Apache Mina based server which uses BUFFER! I am not able to get individual messages.</p>\n<p>How do I get individual messages (given I’m not able to change anything in the client, <em>and</em> the length of individual messages are not known).</p>\n<p><strong>Server-side code</strong><br /></p>\n<p><em>Socket Creation</em><br /></p>\n<pre>\npublic static void main(String[] args) throws IOException, SQLException {\n    System.out.println(Charset.defaultCharset().name());\n    IoAcceptor acceptor = new NioSocketAcceptor();\n    ProtocolCodecFilter(charset.newEncoder(), charset.newDecoder()));\n    acceptor.setHandler(new TimeServerHandler());\n    acceptor.getSessionConfig().setReadBufferSize(64);\n    acceptor.getSessionConfig().setIdleTime(IdleStatus.BOTH_IDLE, 10);\n    acceptor.bind(new InetSocketAddress(PORT));\n}\n</pre>\n<p><em>Handler Code</em><br /></p>\n<pre>\npublic void messageReceived(IoSession session, Object message) throws Exception {\n\n    AbstractIoBuffer bf = (AbstractIoBuffer)message;\n    Charset charset = Charset.forName(\"UTF-8\");\n    CharsetDecoder decoder = charset.newDecoder();\n    String outString = bf.getString(decoder);\n}\n</pre>\n"},{"tags":["java","spring","spring-security"],"comments":[{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1690387434,"post_id":76772191,"comment_id":135347316,"body_markdown":"why not just read the JWT-chapter in the docs? https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html#oauth2resourceserver-jwt-sansboot","body":"why not just read the JWT-chapter in the docs? <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html#oauth2resourceserver-jwt-sansboot\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/oauth2/&hellip;</a>"},{"owner":{"account_id":29089628,"reputation":1,"user_id":22283810,"display_name":"Cole Gvozdas"},"score":0,"creation_date":1690393162,"post_id":76772191,"comment_id":135348667,"body_markdown":"I did, and it keeps saying to use JWT decoder....which does not exist anymore.","body":"I did, and it keeps saying to use JWT decoder....which does not exist anymore."},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1690409884,"post_id":76772191,"comment_id":135351563,"body_markdown":"i have no idea what you are talking about, you are VERY unclear. the function does not take in a `class` it takes in something that implements the interface `JwtDecoder`. You have not posted anything about your code, all your question is basically saying is that &quot;something&quot; isnt working. Insert what your code looks like before, what it is you want it to do. What you are trying to get working because right now you are explaining nothing.","body":"i have no idea what you are talking about, you are VERY unclear. the function does not take in a <code>class</code> it takes in something that implements the interface <code>JwtDecoder</code>. You have not posted anything about your code, all your question is basically saying is that &quot;something&quot; isnt working. Insert what your code looks like before, what it is you want it to do. What you are trying to get working because right now you are explaining nothing."},{"owner":{"account_id":29089628,"reputation":1,"user_id":22283810,"display_name":"Cole Gvozdas"},"score":0,"creation_date":1690464972,"post_id":76772191,"comment_id":135360026,"body_markdown":"read it multiple times over, for days before i asked this question, and it does not help at all.\nonly difference between old code and my change is this one file that only has the security filter chain in it.  we switched to spring security core 6 from spring security oauth and the chain stopped working, i put an update above to show what it was before","body":"read it multiple times over, for days before i asked this question, and it does not help at all. only difference between old code and my change is this one file that only has the security filter chain in it.  we switched to spring security core 6 from spring security oauth and the chain stopped working, i put an update above to show what it was before"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1690469708,"post_id":76772191,"comment_id":135361206,"body_markdown":"it says right here how to expose a decoder, right here https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html#oauth2resourceserver-jwt-decoder-bean its right there, in the link i posted the documentation explains exactly everything you need to do, and if something is unclear about the documentation, you ask about the docs and we will explain them. Stack overflow is not a forum, its a Q&amp;A site, meaning you ask one well researched question and get one answer. And i have reported your comment","body":"it says right here how to expose a decoder, right here <a href=\"https://docs.spring.io/spring-security/reference/servlet/oauth2/resource-server/jwt.html#oauth2resourceserver-jwt-decoder-bean\" rel=\"nofollow noreferrer\">docs.spring.io/spring-security/reference/servlet/oauth2/&hellip;</a> its right there, in the link i posted the documentation explains exactly everything you need to do, and if something is unclear about the documentation, you ask about the docs and we will explain them. Stack overflow is not a forum, its a Q&amp;A site, meaning you ask one well researched question and get one answer. And i have reported your comment"},{"owner":{"account_id":2064278,"reputation":13128,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1690471481,"post_id":76772191,"comment_id":135361616,"body_markdown":"your comments have been reported, i have linked you exactly how to solve the problem, what you do with that information is up to you. I had no obligation to try to help you but still i did. So good luck with your problem, you are now on your own.","body":"your comments have been reported, i have linked you exactly how to solve the problem, what you do with that information is up to you. I had no obligation to try to help you but still i did. So good luck with your problem, you are now on your own."}],"answers":[{"tags":[],"owner":{"account_id":17054653,"reputation":605,"user_id":12339564,"display_name":"ABC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690646390,"creation_date":1690646390,"answer_id":76794373,"question_id":76772191,"body_markdown":"```JwtDecoder``` is still supported and you can find it here: https://mvnrepository.com/artifact/org.springframework.security/spring-security-oauth2-jose\r\n\r\nIf you are using Maven, you can add it to your project:\r\n```\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\r\n            &lt;version&gt;6.1.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nFor Gradle:\r\n```\r\n        implementation &#39;org.springframework.security:spring-security-oauth2-jose:6.1.0&#39;\r\n```","title":"JwtDecoder no longer exists in springsecurity6","body":"<p><code>JwtDecoder</code> is still supported and you can find it here: <a href=\"https://mvnrepository.com/artifact/org.springframework.security/spring-security-oauth2-jose\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.springframework.security/spring-security-oauth2-jose</a></p>\n<p>If you are using Maven, you can add it to your project:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-oauth2-jose&lt;/artifactId&gt;\n            &lt;version&gt;6.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>For Gradle:</p>\n<pre><code>        implementation 'org.springframework.security:spring-security-oauth2-jose:6.1.0'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":308139,"reputation":8199,"user_id":619830,"accept_rate":75,"display_name":"ch4mp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690654223,"creation_date":1690654223,"answer_id":76794909,"question_id":76772191,"body_markdown":"This should be enough in basic cases\r\n```java\r\n@EnableWebSecurity\r\n@EnableMethodSecurity\r\n@Configuration\r\npublic class WebSecurityConfig {\r\n\r\n\t@Bean\r\n\tSecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n\t\thttp.oauth2ResourceServer(oauth2 -&gt; oauth2.jwt((jwt) -&gt; {}));\r\n\r\n\t\t// State-less session (state in access-token only)\r\n\t\thttp.sessionManagement(sm -&gt; sm.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\r\n\r\n\t\t// Disable CSRF because of state-less session-management\r\n\t\thttp.csrf(csrf -&gt; csrf.disable());\r\n\r\n\t\t// Return 401 (unauthorized) instead of 302 (redirect to login) when\r\n\t\t// authorization is missing or invalid\r\n\t\thttp.exceptionHandling(eh -&gt; eh.authenticationEntryPoint((request, response, authException) -&gt; {\r\n\t\t\tresponse.addHeader(HttpHeaders.WWW_AUTHENTICATE, &quot;Basic realm=\\&quot;Restricted Content\\&quot;&quot;);\r\n\t\t\tresponse.sendError(HttpStatus.UNAUTHORIZED.value(), HttpStatus.UNAUTHORIZED.getReasonPhrase());\r\n\t\t}));\r\n\r\n        http.authorizeHttpRequests(requests -&gt; requests\r\n            .requestMatchers(new AntPathRequestMatcher(&quot;/public/**&quot;)).permitAll()\r\n            .anyRequest().authenticated());\r\n\r\n\t\treturn http.build();\r\n\t}\r\n}\r\n```\r\nFor more details, start [there][1].\r\n\r\n\r\n  [1]: https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials#oauth_essentials","title":"JwtDecoder no longer exists in springsecurity6","body":"<p>This should be enough in basic cases</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableWebSecurity\n@EnableMethodSecurity\n@Configuration\npublic class WebSecurityConfig {\n\n    @Bean\n    SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.oauth2ResourceServer(oauth2 -&gt; oauth2.jwt((jwt) -&gt; {}));\n\n        // State-less session (state in access-token only)\n        http.sessionManagement(sm -&gt; sm.sessionCreationPolicy(SessionCreationPolicy.STATELESS));\n\n        // Disable CSRF because of state-less session-management\n        http.csrf(csrf -&gt; csrf.disable());\n\n        // Return 401 (unauthorized) instead of 302 (redirect to login) when\n        // authorization is missing or invalid\n        http.exceptionHandling(eh -&gt; eh.authenticationEntryPoint((request, response, authException) -&gt; {\n            response.addHeader(HttpHeaders.WWW_AUTHENTICATE, &quot;Basic realm=\\&quot;Restricted Content\\&quot;&quot;);\n            response.sendError(HttpStatus.UNAUTHORIZED.value(), HttpStatus.UNAUTHORIZED.getReasonPhrase());\n        }));\n\n        http.authorizeHttpRequests(requests -&gt; requests\n            .requestMatchers(new AntPathRequestMatcher(&quot;/public/**&quot;)).permitAll()\n            .anyRequest().authenticated());\n\n        return http.build();\n    }\n}\n</code></pre>\n<p>For more details, start <a href=\"https://github.com/ch4mpy/spring-addons/tree/master/samples/tutorials#oauth_essentials\" rel=\"nofollow noreferrer\">there</a>.</p>\n"}],"owner":{"account_id":29089628,"reputation":1,"user_id":22283810,"display_name":"Cole Gvozdas"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":260,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1690654223,"creation_date":1690380679,"question_id":76772191,"body_markdown":"I have run into trouble with upgrading to spring security core 6.1 and my filter chain is lacking a decoder for jwt.  The problem is the only class the jwt.decoder() function takes in, JwtDecoder, is no longer a supported class.\r\n\r\nRight now I have changed it to look like the following:\r\n```\r\n  @Bean\r\n  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n    http.csrf(AbstractHttpConfigurer::disable).authorizeHttpRequests(auth -&gt; auth.anyRequest().permitAll())\r\n            .oauth2ResourceServer(oauth-&gt;oauth.jwt(jwt-&gt;jwt.decoder()));\r\n    return http.build();\r\n  }\r\n```\r\nand it used to look like the below block before the switch from spring security oauth2 to spring security 6\r\n```\r\n@Configuration\r\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n  @Override\r\n  protected void configure(HttpSecurity http) throws Exception {\r\n    http.csrf().disable().authorizeRequests().anyRequest().permitAll();\r\n  }\r\n```\r\nI don&#39;t believe i should need the resource server at all but without it, I receive a &quot;principalName cannot be empty error&quot;\r\n\r\nNeed help getting the new one to work just as the old one did.  I want to accept all requests.\r\n","title":"JwtDecoder no longer exists in springsecurity6","body":"<p>I have run into trouble with upgrading to spring security core 6.1 and my filter chain is lacking a decoder for jwt.  The problem is the only class the jwt.decoder() function takes in, JwtDecoder, is no longer a supported class.</p>\n<p>Right now I have changed it to look like the following:</p>\n<pre><code>  @Bean\n  public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n    http.csrf(AbstractHttpConfigurer::disable).authorizeHttpRequests(auth -&gt; auth.anyRequest().permitAll())\n            .oauth2ResourceServer(oauth-&gt;oauth.jwt(jwt-&gt;jwt.decoder()));\n    return http.build();\n  }\n</code></pre>\n<p>and it used to look like the below block before the switch from spring security oauth2 to spring security 6</p>\n<pre><code>@Configuration\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n\n  @Override\n  protected void configure(HttpSecurity http) throws Exception {\n    http.csrf().disable().authorizeRequests().anyRequest().permitAll();\n  }\n</code></pre>\n<p>I don't believe i should need the resource server at all but without it, I receive a &quot;principalName cannot be empty error&quot;</p>\n<p>Need help getting the new one to work just as the old one did.  I want to accept all requests.</p>\n"},{"tags":["java","oop","static","static-classes"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1690650801,"post_id":76794660,"comment_id":135384552,"body_markdown":"Why are you hard coding all of these classes? This is a design smell and is something that you really don&#39;t want to do. Instead, it would be much more straightforward to create a Npc class, and then create instances of them, each instance with different properties. Otherwise, if you&#39;re hard coding this stuff, you&#39;re really painting yourself into a bad corner.","body":"Why are you hard coding all of these classes? This is a design smell and is something that you really don&#39;t want to do. Instead, it would be much more straightforward to create a Npc class, and then create instances of them, each instance with different properties. Otherwise, if you&#39;re hard coding this stuff, you&#39;re really painting yourself into a bad corner."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1690650851,"post_id":76794660,"comment_id":135384557,"body_markdown":"And I think that your main question would be solved if you changed your program design as I suggested.","body":"And I think that your main question would be solved if you changed your program design as I suggested."},{"owner":{"account_id":27313298,"reputation":29,"user_id":21749640,"display_name":"user21749640"},"score":0,"creation_date":1690650950,"post_id":76794660,"comment_id":135384569,"body_markdown":"There is logic that is unique to every npc that cannot be handed in when the instance is constructed, for behaviour and dialogue and etc, so those methods are defined in the NPC class and then overwritten in the child classes","body":"There is logic that is unique to every npc that cannot be handed in when the instance is constructed, for behaviour and dialogue and etc, so those methods are defined in the NPC class and then overwritten in the child classes"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1690651123,"post_id":76794660,"comment_id":135384594,"body_markdown":"That isn&#39;t a hindrance and probably could be better handled with a few base Npc classes and use of an appropriate design pattern, such as perhaps the [Command Pattern](https://en.wikipedia.org/wiki/Command_pattern).","body":"That isn&#39;t a hindrance and probably could be better handled with a few base Npc classes and use of an appropriate design pattern, such as perhaps the <a href=\"https://en.wikipedia.org/wiki/Command_pattern\" rel=\"nofollow noreferrer\">Command Pattern</a>."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1690651625,"post_id":76794660,"comment_id":135384656,"body_markdown":"&quot;*My main concern at the moment is if these inner static classes would do anything funny with serialization, as static fields are all transient.*&quot; -- static nested classes are not the same as static fields and so you may be confusing different concepts here. Also, what happens when you try to serialize and deserialize?","body":"&quot;<i>My main concern at the moment is if these inner static classes would do anything funny with serialization, as static fields are all transient.</i>&quot; -- static nested classes are not the same as static fields and so you may be confusing different concepts here. Also, what happens when you try to serialize and deserialize?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":2,"creation_date":1690654744,"post_id":76794660,"comment_id":135384954,"body_markdown":"BTW there is no *inner class* in posted code! From the [Java Language Specification](https://docs.oracle.com/javase/specs/jls/se20/html/jls-8.html#jls-8.1.3-100): &quot;An inner class is a nested class that is not explicitly or implicitly `static`.&quot; (an inner class would need an instance of the enclosing class)","body":"BTW there is no <i>inner class</i> in posted code! From the <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-8.html#jls-8.1.3-100\" rel=\"nofollow noreferrer\">Java Language Specification</a>: &quot;An inner class is a nested class that is not explicitly or implicitly <code>static</code>.&quot; (an inner class would need an instance of the enclosing class)"},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1690666929,"post_id":76794660,"comment_id":135386189,"body_markdown":"@user16320674 &#39;static inner class&#39; is _very_ common slang. In the end, words are tools used to convey ideas. If I say &#39;irregardless&#39; and you know precisely what I mean, the word was a good tool. Even though irregardless &quot;is not a word&quot;. Now, normally if a term is explicitly used by the core controlling spec (The JLS), then that gives a ton of credibility to it, but in the end, the only relevant question is __what does the majority of the community understand when you use that word__. And given how incredibly common e.g. &quot;static inner class&quot; is, that definition __is not The Final Word__.","body":"@user16320674 &#39;static inner class&#39; is <i>very</i> common slang. In the end, words are tools used to convey ideas. If I say &#39;irregardless&#39; and you know precisely what I mean, the word was a good tool. Even though irregardless &quot;is not a word&quot;. Now, normally if a term is explicitly used by the core controlling spec (The JLS), then that gives a ton of credibility to it, but in the end, the only relevant question is <b>what does the majority of the community understand when you use that word</b>. And given how incredibly common e.g. &quot;static inner class&quot; is, that definition <b>is not The Final Word</b>."},{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1690667058,"post_id":76794660,"comment_id":135386206,"body_markdown":"The point is: Calling The `X` in `public class Foo { public static class X {}}` &quot;an inner class&quot; is mostly fine, if somewhat confusing. More to the point, calling the `X` in `public class Foo {public class X{}}` an &#39;inner class&#39; and then assuming that the person you said that too will of course be clued in to know that this means it isn&#39;t static, that&#39;s you failing your job as communicator, because that&#39;s a really bad assumption to make. __Eventhough__ the JLS uses that term specifically to mean &#39;non static nested class&#39;. What can I say? Communities trump specs.","body":"The point is: Calling The <code>X</code> in <code>public class Foo { public static class X {}}</code> &quot;an inner class&quot; is mostly fine, if somewhat confusing. More to the point, calling the <code>X</code> in <code>public class Foo {public class X{}}</code> an &#39;inner class&#39; and then assuming that the person you said that too will of course be clued in to know that this means it isn&#39;t static, that&#39;s you failing your job as communicator, because that&#39;s a really bad assumption to make. <b>Eventhough</b> the JLS uses that term specifically to mean &#39;non static nested class&#39;. What can I say? Communities trump specs."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690654095,"creation_date":1690654095,"answer_id":76794895,"question_id":76794660,"body_markdown":"static inner classes are identical to top-level classes in every way other than how they are named. Whether they serialize or not is utterly independent of the class they are inside of. There is no difference, whatsoever, between:\r\n\r\n```\r\n--- Michael.java:\r\n\r\npublic class Michael extends Npc { ... }\r\n\r\n--- Npc.java\r\n\r\npublic class Npc implements Serializable { .... }\r\n```\r\n\r\nand\r\n\r\n```\r\n---- Npc.java\r\n\r\npublic class Npc implements Serializable {\r\n  public static class Michael extends Npc { .... }\r\n}\r\n```\r\n\r\nif `Michael` is not going to contain any custom code (just inherits from `Npc` but otherwise doesn&#39;t define anything different or new), Michael should not be its own class.\r\n","title":"Serializing static inner classes java","body":"<p>static inner classes are identical to top-level classes in every way other than how they are named. Whether they serialize or not is utterly independent of the class they are inside of. There is no difference, whatsoever, between:</p>\n<pre><code>--- Michael.java:\n\npublic class Michael extends Npc { ... }\n\n--- Npc.java\n\npublic class Npc implements Serializable { .... }\n</code></pre>\n<p>and</p>\n<pre><code>---- Npc.java\n\npublic class Npc implements Serializable {\n  public static class Michael extends Npc { .... }\n}\n</code></pre>\n<p>if <code>Michael</code> is not going to contain any custom code (just inherits from <code>Npc</code> but otherwise doesn't define anything different or new), Michael should not be its own class.</p>\n"}],"owner":{"account_id":27313298,"reputation":29,"user_id":21749640,"display_name":"user21749640"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76794895,"answer_count":1,"score":0,"last_activity_date":1690654095,"creation_date":1690650611,"question_id":76794660,"body_markdown":"I&#39;m making a game in Java at the moment and how I am planning on handling NPCs at the moment is having each NPC be an instance of their own unique class, all of which inherit from an abstract NPC class.\r\n\r\nFor example, if I have a character named &#39;Michael&#39;, Michael will be an instance of the Michael class, which will inherit from NPC.\r\n\r\nWhile I was setting this up, it occured to me that perhaps I could have all the NPC classes defined as static classes within the body of the NPC class, mainly just because I will then only have the NPC.java file, and not a bunch of Michael.java, John.java, etc.\r\n\r\nso this would look like \r\n`````````````````\r\npublic abstract class NPC implements Seralizable {\r\n\r\n   //stuff\r\n\r\n   public static class Michael extends NPC {\r\n\r\n      //more stuff\r\n\r\n   } \r\n\r\n}\r\n````````````````````````\r\nand when I need to create an instance of Michael in the game, it would look like \r\n\r\n`````````````````\r\nNPC npc1 = NPC.Michael();\r\n`````````````````\r\n\r\nAs you can see above, NPC implements Seralizable, and this is so I can save the gamestate to a file. My main concern at the moment is if these inner static classes would do anything funny with serialization, as static *fields* are all transient.\r\n\r\nI would also appreciate feedback on this style of organizing the code, and if people would normally just prefer having the classes in their own files","title":"Serializing static inner classes java","body":"<p>I'm making a game in Java at the moment and how I am planning on handling NPCs at the moment is having each NPC be an instance of their own unique class, all of which inherit from an abstract NPC class.</p>\n<p>For example, if I have a character named 'Michael', Michael will be an instance of the Michael class, which will inherit from NPC.</p>\n<p>While I was setting this up, it occured to me that perhaps I could have all the NPC classes defined as static classes within the body of the NPC class, mainly just because I will then only have the NPC.java file, and not a bunch of Michael.java, John.java, etc.</p>\n<p>so this would look like</p>\n<pre><code>public abstract class NPC implements Seralizable {\n\n   //stuff\n\n   public static class Michael extends NPC {\n\n      //more stuff\n\n   } \n\n}\n</code></pre>\n<p>and when I need to create an instance of Michael in the game, it would look like</p>\n<pre><code>NPC npc1 = NPC.Michael();\n</code></pre>\n<p>As you can see above, NPC implements Seralizable, and this is so I can save the gamestate to a file. My main concern at the moment is if these inner static classes would do anything funny with serialization, as static <em>fields</em> are all transient.</p>\n<p>I would also appreciate feedback on this style of organizing the code, and if people would normally just prefer having the classes in their own files</p>\n"},{"tags":["java","windows","path"],"comments":[{"owner":{"account_id":321109,"reputation":1036,"user_id":639739,"accept_rate":90,"display_name":"Grault"},"score":1,"creation_date":1558294715,"post_id":50055291,"comment_id":99043910,"body_markdown":"Relevant investigation: https://stackoverflow.com/questions/49540325/which-jre-does-c-programdata-oracle-java-javapath-java-exe-use/49543305","body":"Relevant investigation: <a href=\"https://stackoverflow.com/questions/49540325/which-jre-does-c-programdata-oracle-java-javapath-java-exe-use/49543305\" title=\"which jre does c programdata oracle java javapath java exe use\">stackoverflow.com/questions/49540325/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":488522,"reputation":331,"user_id":1340223,"display_name":"fredless"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1525108864,"creation_date":1525108864,"answer_id":50105299,"question_id":50055291,"body_markdown":"On my machine, the files in C:\\ProgramData\\Oracle\\Java\\javapath used to symlink to files elsewhere.  But noticed this has changed in or before 8u112.  Worth noting that on my current release (8u171) both javapath folders symlink to &quot;target&quot; folders in the same directory.\r\n\r\nIf I undo the things in c:\\programdata I notice that my Eclipse environment stops working well.\r\n\r\nBut I don&#39;t have much more insight on the history or why behind all of this though. ","title":"How to best set the path to java in windows","body":"<p>On my machine, the files in C:\\ProgramData\\Oracle\\Java\\javapath used to symlink to files elsewhere.  But noticed this has changed in or before 8u112.  Worth noting that on my current release (8u171) both javapath folders symlink to \"target\" folders in the same directory.</p>\n\n<p>If I undo the things in c:\\programdata I notice that my Eclipse environment stops working well.</p>\n\n<p>But I don't have much more insight on the history or why behind all of this though. </p>\n"},{"tags":[],"owner":{"account_id":16849,"reputation":2520,"user_id":37144,"accept_rate":20,"display_name":"Rakesh N"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1598166803,"creation_date":1597389090,"answer_id":63408155,"question_id":50055291,"body_markdown":"When a new version of JRE is installed, this path `C:\\Program Files (x86)\\Common Files\\Oracle\\Java` appears to be updated with executables corresponding to the new JRE version. The problem is this would be **JRE** and not **JDK**. So, programs that depend on JDK (IDE for example) will fail to launch.\r\n\r\n**Here is how I get it to work consistently**\r\n\r\n 1. I always have an environment variable in *User Variables* (System Environment Variables by going to Control Panel -&gt; System -&gt; Advanced System Settings -&gt; Environment Variables -&gt;  User Variables) -- `JAVA_HOME` pointing to the **JDK** Home. And add `%JAVA_HOME%\\bin` to the `PATH` environment variable. \r\n 2. Interestingly, I remove the entry `C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath` from the `Path` environment variable in *System Environment Variables* (Control Panel -&gt; System -&gt; Advanced System Settings -&gt; Environment Variables -&gt;  System Variables).\r\n\r\nThis works as of Aug 2020 for Windows 10 (1903), Java 8u251. :)\r\n","title":"How to best set the path to java in windows","body":"<p>When a new version of JRE is installed, this path <code>C:\\Program Files (x86)\\Common Files\\Oracle\\Java</code> appears to be updated with executables corresponding to the new JRE version. The problem is this would be <strong>JRE</strong> and not <strong>JDK</strong>. So, programs that depend on JDK (IDE for example) will fail to launch.</p>\n<p><strong>Here is how I get it to work consistently</strong></p>\n<ol>\n<li>I always have an environment variable in <em>User Variables</em> (System Environment Variables by going to Control Panel -&gt; System -&gt; Advanced System Settings -&gt; Environment Variables -&gt;  User Variables) -- <code>JAVA_HOME</code> pointing to the <strong>JDK</strong> Home. And add <code>%JAVA_HOME%\\bin</code> to the <code>PATH</code> environment variable.</li>\n<li>Interestingly, I remove the entry <code>C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath</code> from the <code>Path</code> environment variable in <em>System Environment Variables</em> (Control Panel -&gt; System -&gt; Advanced System Settings -&gt; Environment Variables -&gt;  System Variables).</li>\n</ol>\n<p>This works as of Aug 2020 for Windows 10 (1903), Java 8u251. :)</p>\n"},{"tags":[],"owner":{"account_id":15648100,"reputation":3,"user_id":11289937,"display_name":"NJT145"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690653494,"creation_date":1690653494,"answer_id":76794862,"question_id":50055291,"body_markdown":"I just moved `%JAVA_HOME%\\bin` to before the `C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath` and it works without any problem. I suggest you to check your environment variables and your Path variable regularly, especially after you install something on your machine.","title":"How to best set the path to java in windows","body":"<p>I just moved <code>%JAVA_HOME%\\bin</code> to before the <code>C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath</code> and it works without any problem. I suggest you to check your environment variables and your Path variable regularly, especially after you install something on your machine.</p>\n"}],"owner":{"account_id":1755695,"reputation":402,"user_id":1603810,"accept_rate":28,"display_name":"gerardo flores"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18472,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":3,"score":11,"last_activity_date":1690653494,"creation_date":1524803481,"question_id":50055291,"body_markdown":"I&#39;m curious about the difference that exists between the paths that I see in the windows environment to java. \r\nIf I do a command `where java` I can see \r\n\r\n    C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath\\java.exe\r\n    C:\\ProgramData\\Oracle\\Java\\javapath\\java.exe\r\n    C:\\Program Files\\Java\\jdk1.6.0_21\\bin\\java.exe\r\n\r\nAnd I have seen that the first one, the javapath, gets updated with the latest java sdk I have installed. However, most of what you google tells you should set the environment variable PATH to the latest, the one with the jdk in the path. \r\nSo what is the best, how do they work. For example, what&#39;s best for Xamarin or Android development?\r\n\r\nHopefully someone has some insight, I&#39;d appreciate comments on this.\r\nNow I know, (everyone does) that to change the path to java you have to set the JAVA_HOME variable. I did this after posting this, it&#39;s hard to recall everything you read at any given moment! \r\nStill what&#39;s the purpose of the other paths, and why does updating java jre automatically sets the java version while downloading an sdk requires a manual update?","title":"How to best set the path to java in windows","body":"<p>I'm curious about the difference that exists between the paths that I see in the windows environment to java. \nIf I do a command <code>where java</code> I can see </p>\n\n<pre><code>C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath\\java.exe\nC:\\ProgramData\\Oracle\\Java\\javapath\\java.exe\nC:\\Program Files\\Java\\jdk1.6.0_21\\bin\\java.exe\n</code></pre>\n\n<p>And I have seen that the first one, the javapath, gets updated with the latest java sdk I have installed. However, most of what you google tells you should set the environment variable PATH to the latest, the one with the jdk in the path. \nSo what is the best, how do they work. For example, what's best for Xamarin or Android development?</p>\n\n<p>Hopefully someone has some insight, I'd appreciate comments on this.\nNow I know, (everyone does) that to change the path to java you have to set the JAVA_HOME variable. I did this after posting this, it's hard to recall everything you read at any given moment! \nStill what's the purpose of the other paths, and why does updating java jre automatically sets the java version while downloading an sdk requires a manual update?</p>\n"},{"tags":["java","docker","selenium-webdriver","automation-testing"],"answers":[{"tags":[],"owner":{"account_id":20852723,"reputation":1,"user_id":15316874,"display_name":"Glauber Faria"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690649938,"creation_date":1690649938,"answer_id":76794613,"question_id":76794279,"body_markdown":"From what I understand you loading the selenium engine through a container, running the java application locally in an IDE (Eclipse, Intelij or Vscode)?\r\n\r\nTry changing 172.17.0.2 to localhost\r\n\r\nTry using the instruction:\r\ndocker run -d -p 4444:4444 -p 7900:7900 --shm-size=&quot;2g&quot; selenium/standalone-chrome:latest\r\n\r\nTry accessing the selenium container through port 4444 or 7900\r\n\r\nIn your browser try accessing http://localhost:4444 or http://localhost:7900/?autoconnect=1&amp;resize=scale&amp;password=secret to check if the selenium container is working correctly.","title":"Unable to launch browser using selenium on Docker. Getting org.openqa.selenium.SessionNotCreatedException","body":"<p>From what I understand you loading the selenium engine through a container, running the java application locally in an IDE (Eclipse, Intelij or Vscode)?</p>\n<p>Try changing 172.17.0.2 to localhost</p>\n<p>Try using the instruction:\ndocker run -d -p 4444:4444 -p 7900:7900 --shm-size=&quot;2g&quot; selenium/standalone-chrome:latest</p>\n<p>Try accessing the selenium container through port 4444 or 7900</p>\n<p>In your browser try accessing http://localhost:4444 or http://localhost:7900/?autoconnect=1&amp;resize=scale&amp;password=secret to check if the selenium container is working correctly.</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690653445,"creation_date":1690653445,"answer_id":76794858,"question_id":76794279,"body_markdown":"As you are using `RemoteWebDriver` instead of using [`selenium-java`](https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java/4.10.0) dependency:\r\n\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t    &lt;version&gt;4.10.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t\r\nYou can use the [`selenium-remote-driver`](https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-remote-driver/4.10.0) dependency as follows:\r\n\r\n\t&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-remote-driver --&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;selenium-remote-driver&lt;/artifactId&gt;\r\n\t    &lt;version&gt;4.10.0&lt;/version&gt;\r\n\t&lt;/dependency&gt;","title":"Unable to launch browser using selenium on Docker. Getting org.openqa.selenium.SessionNotCreatedException","body":"<p>As you are using <code>RemoteWebDriver</code> instead of using <a href=\"https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-java/4.10.0\" rel=\"nofollow noreferrer\"><code>selenium-java</code></a> dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;4.10.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>You can use the <a href=\"https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-remote-driver/4.10.0\" rel=\"nofollow noreferrer\"><code>selenium-remote-driver</code></a> dependency as follows:</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.seleniumhq.selenium/selenium-remote-driver --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-remote-driver&lt;/artifactId&gt;\n    &lt;version&gt;4.10.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":20891017,"reputation":13,"user_id":15346379,"display_name":"pankaj yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":600,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690653445,"creation_date":1690644846,"question_id":76794279,"body_markdown":"I am trying to fetch title of the website &quot;https://www.google.com/&quot; in chrome browser using selenium on Docker. However whenever I execute I get the following exception \r\n\r\n```\r\n\r\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \r\n```\r\n\r\n\r\n\r\nActual Code\r\n\r\n\r\n```\r\n`package remoteTesting.DockerValidation;\r\n\r\nimport java.net.MalformedURLException;\r\nimport java.net.URL;\r\n\r\nimport org.openqa.selenium.WebDriver;\r\nimport org.openqa.selenium.remote.DesiredCapabilities;\r\nimport org.openqa.selenium.remote.RemoteWebDriver;\r\n\r\npublic class ChromeStandAloneTest {\r\n\tpublic static void main(String[] args) throws MalformedURLException {\r\n\t\t\r\n\t\tURL url = new URL(&quot;http://172.17.0.2:4444/wd/hub&quot;);\r\n\t\tDesiredCapabilities cap\t\t=new DesiredCapabilities();\r\n\t\tcap.setCapability(&quot;browserName&quot;,&quot;chrome&quot;);\r\n\t\tWebDriver remoteWebDriver = new RemoteWebDriver(url,cap);\r\n\t\tremoteWebDriver.get(&quot;https://www.google.com/&quot;);\r\n\t\tSystem.out.print(remoteWebDriver.getTitle());\r\n\t}\r\n\r\n}`\r\n\r\n```\r\n\r\nMaven dependency for selenium\r\n\r\n\r\n```\r\n`&lt;dependency&gt;\r\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n    &lt;version&gt;4.10.0&lt;/version&gt;\r\n&lt;/dependency&gt;`\r\n\r\n```\r\nDocker Logs\r\n\r\n\r\n```\r\n`[node]\r\nsession-timeout = &quot;300&quot;\r\noverride-max-sessions = false\r\ndetect-drivers = false\r\ndrain-after-session-count = 0\r\nmax-sessions = 1\r\n\r\n[[node.driver-configuration]]\r\ndisplay-name = &quot;chrome&quot;\r\nstereotype = &#39;{&quot;browserName&quot;: &quot;chrome&quot;, &quot;browserVersion&quot;: &quot;114.0&quot;, &quot;platformName&quot;: &quot;Linux&quot;}&#39;\r\nmax-sessions = 1\r\n\r\nStarting Selenium Grid Standalone...\r\nTracing is disabled\r\n14:28:51.150 INFO [LoggingOptions.configureLogEncoding] - Using the system default encoding\r\n14:28:51.212 INFO [OpenTelemetryTracer.createTracer] - Using OpenTelemetry for tracing\r\n14:28:58.003 INFO [NodeOptions.getSessionFactories] - Detected 4 available processors\r\n14:28:58.489 INFO [NodeOptions.report] - Adding chrome for {&quot;browserName&quot;: &quot;chrome&quot;,&quot;browserVersion&quot;: &quot;114.0&quot;,&quot;platformName&quot;: &quot;linux&quot;,&quot;se:noVncPort&quot;: 7900,&quot;se:vncEnabled&quot;: true} 1 times (Host)\r\n14:28:58.631 INFO [Node.&lt;init&gt;] - Binding additional locator mechanisms: relative\r\n14:28:58.805 INFO [GridModel.setAvailability] - Switching Node 2b995240-198b-47f2-99c3-301922c9a38b (uri: http://172.17.0.2:4444) from DOWN to UP\r\n14:28:58.808 INFO [LocalDistributor.add] - Added node 2b995240-198b-47f2-99c3-301922c9a38b at http://172.17.0.2:4444. Health check every 120s\r\n14:28:59.873 INFO [Standalone.execute] - Started Selenium Standalone 4.10.0 (revision c14d967899): http://172.17.0.2:4444`\r\n\r\n```\r\n\r\nError stack trace\r\n\r\n\r\n```\r\n`Jul 29, 2023 8:18:25 PM org.openqa.selenium.remote.tracing.opentelemetry.OpenTelemetryTracer createTracer\r\nINFO: Using OpenTelemetry for tracing\r\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \r\nHost info: host: &#39;Pankajs-MacBook-Air.local&#39;, ip: &#39;fe80:0:0:0:838:973c:93b8:49da%en0&#39;\r\nBuild info: version: &#39;4.10.0&#39;, revision: &#39;c14d967899&#39;\r\nSystem info: os.name: &#39;Mac OS X&#39;, os.arch: &#39;x86_64&#39;, os.version: &#39;13.4.1&#39;, java.version: &#39;18.0.1.1&#39;\r\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\r\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome}]}]\r\nCapabilities {browserName: chrome}\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:549)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:227)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:154)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:134)\r\n\tat remoteTesting.DockerValidation.ChromeStandAloneTest.main(ChromeStandAloneTest.java:16)\r\nCaused by: java.io.UncheckedIOException: java.net.ConnectException: connection timed out: /172.17.0.2:4444\r\n\tat org.openqa.selenium.remote.http.netty.NettyHttpHandler.makeCall(NettyHttpHandler.java:73)\r\n\tat org.openqa.selenium.remote.http.AddSeleniumUserAgent.lambda$apply$0(AddSeleniumUserAgent.java:42)\r\n\tat org.openqa.selenium.remote.http.Filter.lambda$andFinally$1(Filter.java:55)\r\n\tat org.openqa.selenium.remote.http.netty.NettyHttpHandler.execute(NettyHttpHandler.java:48)\r\n\tat org.openqa.selenium.remote.http.AddSeleniumUserAgent.lambda$apply$0(AddSeleniumUserAgent.java:42)\r\n\tat org.openqa.selenium.remote.http.Filter.lambda$andFinally$1(Filter.java:55)\r\n\tat org.openqa.selenium.remote.http.netty.NettyClient.execute(NettyClient.java:97)\r\n\tat org.openqa.selenium.remote.tracing.TracedHttpClient.execute(TracedHttpClient.java:54)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:115)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:96)\r\n\tat org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:68)\r\n\tat org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:163)\r\n\tat org.openqa.selenium.remote.TracedCommandExecutor.execute(TracedCommandExecutor.java:51)\r\n\tat org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:531)\r\n\t... 4 more\r\nCaused by: java.net.ConnectException: connection timed out: /172.17.0.2:4444\r\n\tat org.asynchttpclient.netty.channel.NettyConnectListener.onFailure(NettyConnectListener.java:179)\r\n\tat org.asynchttpclient.netty.channel.NettyChannelConnector$1.onFailure(NettyChannelConnector.java:108)\r\n\tat org.asynchttpclient.netty.SimpleChannelFutureListener.operationComplete(SimpleChannelFutureListener.java:28)\r\n\tat org.asynchttpclient.netty.SimpleChannelFutureListener.operationComplete(SimpleChannelFutureListener.java:20)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:583)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:559)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)\r\n\tat io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)\r\n\tat io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:629)\r\n\tat io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:118)\r\n\tat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe$1.run(AbstractNioChannel.java:262)\r\n\tat io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\r\n\tat io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:153)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: io.netty.channel.ConnectTimeoutException: connection timed out: /172.17.0.2:4444\r\n\tat io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe$1.run(AbstractNioChannel.java:261)\r\n\t... 10 more`\r\n\r\n```\r\n\r\nDocker command used to download image : `docker pull selenium/standalone-chrome:latest`\r\n\r\nDocker command used to run : `docker run -d -p 4444:4444 --shm-size=&quot;2g&quot; selenium/standalone-chrome:latest` \r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI have actually tried restarting the Docker, rechecking the selenium version but it did not help me .`","title":"Unable to launch browser using selenium on Docker. Getting org.openqa.selenium.SessionNotCreatedException","body":"<p>I am trying to fetch title of the website &quot;https://www.google.com/&quot; in chrome browser using selenium on Docker. However whenever I execute I get the following exception</p>\n<pre><code>\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \n</code></pre>\n<p>Actual Code</p>\n<pre><code>`package remoteTesting.DockerValidation;\n\nimport java.net.MalformedURLException;\nimport java.net.URL;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.remote.DesiredCapabilities;\nimport org.openqa.selenium.remote.RemoteWebDriver;\n\npublic class ChromeStandAloneTest {\n    public static void main(String[] args) throws MalformedURLException {\n        \n        URL url = new URL(&quot;http://172.17.0.2:4444/wd/hub&quot;);\n        DesiredCapabilities cap     =new DesiredCapabilities();\n        cap.setCapability(&quot;browserName&quot;,&quot;chrome&quot;);\n        WebDriver remoteWebDriver = new RemoteWebDriver(url,cap);\n        remoteWebDriver.get(&quot;https://www.google.com/&quot;);\n        System.out.print(remoteWebDriver.getTitle());\n    }\n\n}`\n\n</code></pre>\n<p>Maven dependency for selenium</p>\n<pre><code>`&lt;dependency&gt;\n    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n    &lt;version&gt;4.10.0&lt;/version&gt;\n&lt;/dependency&gt;`\n\n</code></pre>\n<p>Docker Logs</p>\n<pre><code>`[node]\nsession-timeout = &quot;300&quot;\noverride-max-sessions = false\ndetect-drivers = false\ndrain-after-session-count = 0\nmax-sessions = 1\n\n[[node.driver-configuration]]\ndisplay-name = &quot;chrome&quot;\nstereotype = '{&quot;browserName&quot;: &quot;chrome&quot;, &quot;browserVersion&quot;: &quot;114.0&quot;, &quot;platformName&quot;: &quot;Linux&quot;}'\nmax-sessions = 1\n\nStarting Selenium Grid Standalone...\nTracing is disabled\n14:28:51.150 INFO [LoggingOptions.configureLogEncoding] - Using the system default encoding\n14:28:51.212 INFO [OpenTelemetryTracer.createTracer] - Using OpenTelemetry for tracing\n14:28:58.003 INFO [NodeOptions.getSessionFactories] - Detected 4 available processors\n14:28:58.489 INFO [NodeOptions.report] - Adding chrome for {&quot;browserName&quot;: &quot;chrome&quot;,&quot;browserVersion&quot;: &quot;114.0&quot;,&quot;platformName&quot;: &quot;linux&quot;,&quot;se:noVncPort&quot;: 7900,&quot;se:vncEnabled&quot;: true} 1 times (Host)\n14:28:58.631 INFO [Node.&lt;init&gt;] - Binding additional locator mechanisms: relative\n14:28:58.805 INFO [GridModel.setAvailability] - Switching Node 2b995240-198b-47f2-99c3-301922c9a38b (uri: http://172.17.0.2:4444) from DOWN to UP\n14:28:58.808 INFO [LocalDistributor.add] - Added node 2b995240-198b-47f2-99c3-301922c9a38b at http://172.17.0.2:4444. Health check every 120s\n14:28:59.873 INFO [Standalone.execute] - Started Selenium Standalone 4.10.0 (revision c14d967899): http://172.17.0.2:4444`\n\n</code></pre>\n<p>Error stack trace</p>\n<pre><code>`Jul 29, 2023 8:18:25 PM org.openqa.selenium.remote.tracing.opentelemetry.OpenTelemetryTracer createTracer\nINFO: Using OpenTelemetry for tracing\nSLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\nException in thread &quot;main&quot; org.openqa.selenium.SessionNotCreatedException: Could not start a new session. Possible causes are invalid address of the remote server or browser start-up failure. \nHost info: host: 'Pankajs-MacBook-Air.local', ip: 'fe80:0:0:0:838:973c:93b8:49da%en0'\nBuild info: version: '4.10.0', revision: 'c14d967899'\nSystem info: os.name: 'Mac OS X', os.arch: 'x86_64', os.version: '13.4.1', java.version: '18.0.1.1'\nDriver info: org.openqa.selenium.remote.RemoteWebDriver\nCommand: [null, newSession {capabilities=[Capabilities {browserName: chrome}]}]\nCapabilities {browserName: chrome}\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:549)\n    at org.openqa.selenium.remote.RemoteWebDriver.startSession(RemoteWebDriver.java:227)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:154)\n    at org.openqa.selenium.remote.RemoteWebDriver.&lt;init&gt;(RemoteWebDriver.java:134)\n    at remoteTesting.DockerValidation.ChromeStandAloneTest.main(ChromeStandAloneTest.java:16)\nCaused by: java.io.UncheckedIOException: java.net.ConnectException: connection timed out: /172.17.0.2:4444\n    at org.openqa.selenium.remote.http.netty.NettyHttpHandler.makeCall(NettyHttpHandler.java:73)\n    at org.openqa.selenium.remote.http.AddSeleniumUserAgent.lambda$apply$0(AddSeleniumUserAgent.java:42)\n    at org.openqa.selenium.remote.http.Filter.lambda$andFinally$1(Filter.java:55)\n    at org.openqa.selenium.remote.http.netty.NettyHttpHandler.execute(NettyHttpHandler.java:48)\n    at org.openqa.selenium.remote.http.AddSeleniumUserAgent.lambda$apply$0(AddSeleniumUserAgent.java:42)\n    at org.openqa.selenium.remote.http.Filter.lambda$andFinally$1(Filter.java:55)\n    at org.openqa.selenium.remote.http.netty.NettyClient.execute(NettyClient.java:97)\n    at org.openqa.selenium.remote.tracing.TracedHttpClient.execute(TracedHttpClient.java:54)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:115)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:96)\n    at org.openqa.selenium.remote.ProtocolHandshake.createSession(ProtocolHandshake.java:68)\n    at org.openqa.selenium.remote.HttpCommandExecutor.execute(HttpCommandExecutor.java:163)\n    at org.openqa.selenium.remote.TracedCommandExecutor.execute(TracedCommandExecutor.java:51)\n    at org.openqa.selenium.remote.RemoteWebDriver.execute(RemoteWebDriver.java:531)\n    ... 4 more\nCaused by: java.net.ConnectException: connection timed out: /172.17.0.2:4444\n    at org.asynchttpclient.netty.channel.NettyConnectListener.onFailure(NettyConnectListener.java:179)\n    at org.asynchttpclient.netty.channel.NettyChannelConnector$1.onFailure(NettyChannelConnector.java:108)\n    at org.asynchttpclient.netty.SimpleChannelFutureListener.operationComplete(SimpleChannelFutureListener.java:28)\n    at org.asynchttpclient.netty.SimpleChannelFutureListener.operationComplete(SimpleChannelFutureListener.java:20)\n    at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:590)\n    at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:583)\n    at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:559)\n    at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:492)\n    at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:636)\n    at io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:629)\n    at io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:118)\n    at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe$1.run(AbstractNioChannel.java:262)\n    at io.netty.util.concurrent.PromiseTask.runTask(PromiseTask.java:98)\n    at io.netty.util.concurrent.ScheduledFutureTask.run(ScheduledFutureTask.java:153)\n    at io.netty.util.concurrent.AbstractEventExecutor.runTask(AbstractEventExecutor.java:174)\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:167)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:470)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:569)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: io.netty.channel.ConnectTimeoutException: connection timed out: /172.17.0.2:4444\n    at io.netty.channel.nio.AbstractNioChannel$AbstractNioUnsafe$1.run(AbstractNioChannel.java:261)\n    ... 10 more`\n\n</code></pre>\n<p>Docker command used to download image : <code>docker pull selenium/standalone-chrome:latest</code></p>\n<p>Docker command used to run : <code>docker run -d -p 4444:4444 --shm-size=&quot;2g&quot; selenium/standalone-chrome:latest</code></p>\n<p>I have actually tried restarting the Docker, rechecking the selenium version but it did not help me .`</p>\n"},{"tags":["java","android","regex"],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301824,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690653160,"creation_date":1690653160,"answer_id":76794838,"question_id":76793707,"body_markdown":"I suspect the syntax you are using for your regex pattern is not supported in all versions of Android. The [`\\p{}` Unicode property escapes](https://developer.android.com/reference/java/util/regex/Pattern#unicode-support) are a part of Java&#39;s regex engine, but they were not fully implemented in Android until API level 29.\r\n\r\nThat means that on any API level lower than 29, the pattern `&quot;[\\\\p{InCombiningDiacriticalMarks}\\\\p{IsLm}\\\\p{IsSk}]+&quot;` will throw a `PatternSyntaxException`, and on API level 29 or 30, the pattern is interpreted incorrectly.\r\n\r\nTo solve your problem, you can use the [`Normalizer` class in Java](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/Normalizer.html), which can remove diacritical marks from a string, as described in &quot;[**Remove Accents and Diacritics From a String in Java**](https://www.baeldung.com/java-remove-accents-from-text)&quot; by [Eugen Baeldung](https://www.baeldung.com/about/).  \r\nHowever, the behavior of Normalizer also varies depending on the Android API level. The following solution should work for all Android versions:\r\n\r\n```java\r\npublic static String removeDiacritics(String str) {\r\n    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.KITKAT) {\r\n        str = Normalizer.normalize(str, Normalizer.Form.NFKD);\r\n        str = str.replaceAll(&quot;\\\\p{M}&quot;, &quot;&quot;);\r\n    } else {\r\n        final Pattern DIACRITICS = Pattern.compile(&quot;\\\\p{InCombiningDiacriticalMarks}+&quot;);\r\n        str = Normalizer.normalize(str, Normalizer.Form.NFD);\r\n        str = DIACRITICS.matcher(str).replaceAll(&quot;&quot;);\r\n    }\r\n    return str;\r\n}\r\n```\r\n\r\nHere, for API 19 (KITKAT) and above, [`Normalizer.Form.NFKD`](https://developer.android.com/reference/java/text/Normalizer.Form) is used to decompose the string into separate characters and combining marks, and then all Unicode marks (`\\\\p{M}`) are removed.  \r\nFor versions below API 19, only the Combining Diacritical Marks Unicode block is removed (`\\\\p{InCombiningDiacriticalMarks}`), as this is the only Unicode property escape that is supported. \r\n\r\nThat will not remove characters categorized as &quot;Letter, modifier&quot; (`\\\\p{IsLm}`) or &quot;Symbol, modifier&quot; (`\\\\p{IsSk}`) (see for illustration &quot;[Remove diacritical marks from Unicode chars](https://stackoverflow.com/a/1453284/6309)&quot;), but it is unclear whether you wanted these removed in the first place, as your original code would have left these in on Android API levels below 29.\r\n\r\nKeep also in mind this depends on the language: for languages like German, you might want to convert &#39;&#252;&#39; to &#39;u&#39;, but it is important to be aware that for other languages this might be wrong. Technically, the code above is about removal of diacritics, but linguistically... this is a complex issue.","title":"PatternSyntaxException on old Android API","body":"<p>I suspect the syntax you are using for your regex pattern is not supported in all versions of Android. The <a href=\"https://developer.android.com/reference/java/util/regex/Pattern#unicode-support\" rel=\"nofollow noreferrer\"><code>\\p{}</code> Unicode property escapes</a> are a part of Java's regex engine, but they were not fully implemented in Android until API level 29.</p>\n<p>That means that on any API level lower than 29, the pattern <code>&quot;[\\\\p{InCombiningDiacriticalMarks}\\\\p{IsLm}\\\\p{IsSk}]+&quot;</code> will throw a <code>PatternSyntaxException</code>, and on API level 29 or 30, the pattern is interpreted incorrectly.</p>\n<p>To solve your problem, you can use the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/Normalizer.html\" rel=\"nofollow noreferrer\"><code>Normalizer</code> class in Java</a>, which can remove diacritical marks from a string, as described in &quot;<a href=\"https://www.baeldung.com/java-remove-accents-from-text\" rel=\"nofollow noreferrer\"><strong>Remove Accents and Diacritics From a String in Java</strong></a>&quot; by <a href=\"https://www.baeldung.com/about/\" rel=\"nofollow noreferrer\">Eugen Baeldung</a>.<br />\nHowever, the behavior of Normalizer also varies depending on the Android API level. The following solution should work for all Android versions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static String removeDiacritics(String str) {\n    if (android.os.Build.VERSION.SDK_INT &gt;= android.os.Build.VERSION_CODES.KITKAT) {\n        str = Normalizer.normalize(str, Normalizer.Form.NFKD);\n        str = str.replaceAll(&quot;\\\\p{M}&quot;, &quot;&quot;);\n    } else {\n        final Pattern DIACRITICS = Pattern.compile(&quot;\\\\p{InCombiningDiacriticalMarks}+&quot;);\n        str = Normalizer.normalize(str, Normalizer.Form.NFD);\n        str = DIACRITICS.matcher(str).replaceAll(&quot;&quot;);\n    }\n    return str;\n}\n</code></pre>\n<p>Here, for API 19 (KITKAT) and above, <a href=\"https://developer.android.com/reference/java/text/Normalizer.Form\" rel=\"nofollow noreferrer\"><code>Normalizer.Form.NFKD</code></a> is used to decompose the string into separate characters and combining marks, and then all Unicode marks (<code>\\\\p{M}</code>) are removed.<br />\nFor versions below API 19, only the Combining Diacritical Marks Unicode block is removed (<code>\\\\p{InCombiningDiacriticalMarks}</code>), as this is the only Unicode property escape that is supported.</p>\n<p>That will not remove characters categorized as &quot;Letter, modifier&quot; (<code>\\\\p{IsLm}</code>) or &quot;Symbol, modifier&quot; (<code>\\\\p{IsSk}</code>) (see for illustration &quot;<a href=\"https://stackoverflow.com/a/1453284/6309\">Remove diacritical marks from Unicode chars</a>&quot;), but it is unclear whether you wanted these removed in the first place, as your original code would have left these in on Android API levels below 29.</p>\n<p>Keep also in mind this depends on the language: for languages like German, you might want to convert 'ü' to 'u', but it is important to be aware that for other languages this might be wrong. Technically, the code above is about removal of diacritics, but linguistically... this is a complex issue.</p>\n"}],"owner":{"account_id":4570339,"reputation":2452,"user_id":3710195,"accept_rate":90,"display_name":"EstevaoLuis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76794838,"answer_count":1,"score":4,"last_activity_date":1690653160,"creation_date":1690635738,"question_id":76793707,"body_markdown":"I am developing an Android application with Android Studio and I have a class with a static property like this:\r\n\r\n    public static final Pattern DIACRITICS_AND_FRIENDS = Pattern.compile(&quot;[\\\\p{InCombiningDiacriticalMarks}\\\\p{IsLm}\\\\p{IsSk}]+&quot;);\r\n\r\nEverything is working fine when I debug the app on my physical device - API32.\r\n\r\nBut when I try to debug on an emulator API28, I get an exception whenever I try to reference any static property of the &#39;static&#39; class.\r\n\r\n    \r\n\r\n    FATAL EXCEPTION: main Process: com.example.myapp, PID: 10635\r\n    java.lang.ExceptionInInitializerError \r\n    at com.example.myapp.MainActivity.onCreate(MainActivity.java:40)\r\n    at android.app.Activity.performCreate(Activity.java:7136) \r\n    ... \r\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858) \r\n    Caused by: java.util.regex.PatternSyntaxException: U_ILLEGAL_ARGUMENT_ERROR\r\n    [\\p{InCombiningDiacriticalMarks}\\p{IsLm}\\p{IsSk}]+\r\n    at java.util.regex.Pattern.compileImpl(Native Method)\r\n    at java.util.regex.Pattern.compile(Pattern.java:1344)\r\n    at java.util.regex.Pattern.&lt;init&gt;(Pattern.java:1328)\r\n    at java.util.regex.Pattern.compile(Pattern.java:950)\r\n    at com.example.myapp.MyStaticClass.&lt;clinit&gt;(MyStaticClass.java:21)\r\n    ... 16 more\r\n\r\nHow can I fix this?\r\n\r\n**EDIT:** with an emulator API30 it does not throw an exception, but this line is not working as expected anymore (it is not removing diactricts, but everything):\r\n\r\n    str = DIACRITICS_AND_FRIENDS.matcher(str).replaceAll(&quot;&quot;)","title":"PatternSyntaxException on old Android API","body":"<p>I am developing an Android application with Android Studio and I have a class with a static property like this:</p>\n<pre><code>public static final Pattern DIACRITICS_AND_FRIENDS = Pattern.compile(&quot;[\\\\p{InCombiningDiacriticalMarks}\\\\p{IsLm}\\\\p{IsSk}]+&quot;);\n</code></pre>\n<p>Everything is working fine when I debug the app on my physical device - API32.</p>\n<p>But when I try to debug on an emulator API28, I get an exception whenever I try to reference any static property of the 'static' class.</p>\n<pre><code>FATAL EXCEPTION: main Process: com.example.myapp, PID: 10635\njava.lang.ExceptionInInitializerError \nat com.example.myapp.MainActivity.onCreate(MainActivity.java:40)\nat android.app.Activity.performCreate(Activity.java:7136) \n... \nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:858) \nCaused by: java.util.regex.PatternSyntaxException: U_ILLEGAL_ARGUMENT_ERROR\n[\\p{InCombiningDiacriticalMarks}\\p{IsLm}\\p{IsSk}]+\nat java.util.regex.Pattern.compileImpl(Native Method)\nat java.util.regex.Pattern.compile(Pattern.java:1344)\nat java.util.regex.Pattern.&lt;init&gt;(Pattern.java:1328)\nat java.util.regex.Pattern.compile(Pattern.java:950)\nat com.example.myapp.MyStaticClass.&lt;clinit&gt;(MyStaticClass.java:21)\n... 16 more\n</code></pre>\n<p>How can I fix this?</p>\n<p><strong>EDIT:</strong> with an emulator API30 it does not throw an exception, but this line is not working as expected anymore (it is not removing diactricts, but everything):</p>\n<pre><code>str = DIACRITICS_AND_FRIENDS.matcher(str).replaceAll(&quot;&quot;)\n</code></pre>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":27185696,"reputation":1,"user_id":20720177,"display_name":"Learner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690651295,"creation_date":1690651295,"answer_id":76794709,"question_id":76793891,"body_markdown":"You can change the text of a TextView in Android by using the setText() method. Here’s an example of how to change the text of a TextView in the main UI into a string that you got from another Activity:\r\n\r\n    // In your main Activity\r\n    TextView textView = findViewById(R.id.textView);\r\n    Intent intent = getIntent();\r\n    String text = intent.getStringExtra(&quot;text&quot;);\r\n    textView.setText(text);\r\n\r\nHere, textView is the TextView that you want to change the text of. getIntent() retrieves the Intent that started this Activity, and getStringExtra() retrieves the String that was passed to this Activity with the key &quot;text&quot;. Finally, setText() sets the text of textView to text.","title":"How can I apply change on textView of main UI after getting text value from another activity?","body":"<p>You can change the text of a TextView in Android by using the setText() method. Here’s an example of how to change the text of a TextView in the main UI into a string that you got from another Activity:</p>\n<pre><code>// In your main Activity\nTextView textView = findViewById(R.id.textView);\nIntent intent = getIntent();\nString text = intent.getStringExtra(&quot;text&quot;);\ntextView.setText(text);\n</code></pre>\n<p>Here, textView is the TextView that you want to change the text of. getIntent() retrieves the Intent that started this Activity, and getStringExtra() retrieves the String that was passed to this Activity with the key &quot;text&quot;. Finally, setText() sets the text of textView to text.</p>\n"}],"owner":{"account_id":29117498,"reputation":1,"user_id":22305895,"display_name":"Jackson Xailer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690651295,"creation_date":1690638923,"question_id":76793891,"body_markdown":"I want to change text of textView on main UI into String that I got from another Activity.\r\n\r\nThrough editText on `activity_targetpopup.xml`, I want to change text value of `targetButton` on `activity_main.xml`.\r\n\r\n\r\n\r\n\r\n\r\nhere&#39;s my code:\r\n\r\n# MainActivity.class\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    public static Context context_Main;\r\n   public TextView target; \r\n\r\n   @Override\r\n   protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n       setContentView(R.layout.activity_main);\r\n\r\n       context_Main = this;\r\n\r\n       target = (TextView)findViewById(R.id.targetButton);\r\n\r\n   }\r\n\r\n\r\n   public void targetButtonClicked(View v){\r\n        Toast.makeText(MainActivity.this, &quot;목표 버튼 눌림.&quot;, Toast.LENGTH_SHORT).show();\r\n       Intent intent = new Intent(this, TargetPopupActivity.class);\r\n       intent.putExtra(&quot;data&quot;, target.getText());\r\n       startActivity(intent);\r\n       target.setText(&quot;변경중 ...&quot;); \r\n       finish();\r\n   }\r\n\r\n\r\n   protected void targetChange(String result){\r\n        target.setText(result);\r\n       String targetTest = ((MainActivity)MainActivity.context_Main).target.getText().toString();\r\n   }\r\n```\r\n\r\n\r\n# activity_main.xml\r\n```\r\n &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n   xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n   xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n   android:layout_width=&quot;match_parent&quot;\r\n   android:layout_height=&quot;match_parent&quot;\r\n   android:background=&quot;#FFFFFF&quot;&gt;\r\n\r\n\r\n   &lt;!--    왼쪽 가이드라인--&gt;\r\n   &lt;androidx.constraintlayout.widget.Guideline\r\n       android:id=&quot;@+id/guidelineLeft&quot;\r\n       android:layout_width=&quot;wrap_content&quot;\r\n       android:layout_height=&quot;wrap_content&quot;\r\n       android:orientation=&quot;vertical&quot;\r\n       app:layout_constraintGuide_begin=&quot;16dp&quot; /&gt;\r\n\r\n   &lt;!--    오른쪽 가이드라인--&gt;\r\n   &lt;androidx.constraintlayout.widget.Guideline\r\n       android:id=&quot;@+id/guidelineRight&quot;\r\n       android:layout_width=&quot;wrap_content&quot;\r\n       android:layout_height=&quot;wrap_content&quot;\r\n       android:orientation=&quot;vertical&quot;\r\n       app:layout_constraintGuide_end=&quot;16dp&quot; /&gt;\r\n\r\n&lt;!--    목표 버튼--&gt;\r\n   &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n       android:id=&quot;@+id/topBar&quot;\r\n       android:layout_width=&quot;match_parent&quot;\r\n       android:layout_height=&quot;150dp&quot;\r\n       android:background=&quot;#FFFFFF&quot;\r\n       android:elevation=&quot;10dp&quot;\r\n       app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n       app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n       &gt;\r\n\r\n     &lt;TextView\r\n           android:id=&quot;@+id/targetButton&quot;\r\n           android:layout_width=&quot;378dp&quot;\r\n           android:layout_height=&quot;wrap_content&quot;\r\n           android:layout_marginStart=&quot;16dp&quot;\r\n           android:layout_marginBottom=&quot;10dp&quot;\r\n           android:background=&quot;@drawable/green_button&quot;\r\n           android:backgroundTint=&quot;#EDEECD&quot;\r\n           android:drawableLeft=&quot;@drawable/exclamation_mark_red&quot;\r\n           android:drawablePadding=&quot;5dp&quot;\r\n           android:gravity=&quot;left|center&quot;\r\n           android:padding=&quot;10dip&quot;\r\n           android:text=&quot;목표가 정해지지 않았어요!&quot;\r\n           android:textSize=&quot;20dp&quot;\r\n           android:textColor=&quot;@color/black&quot;\r\n           android:onClick=&quot;targetButtonClicked&quot;\r\n           app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n           app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n           app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n           app:layout_constraintVertical_bias=&quot;0.771&quot; /&gt;\r\n   &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n```\r\n\r\n[activity_main.xml image](https://i.stack.imgur.com/bIfy5.png)\r\n\r\n\r\n\r\n\r\n# TargetPopupActivity.class\r\n\r\n```\r\n public class TargetPopupActivity extends AppCompatActivity {\r\n\r\n    public static Context context_TargetPopup;\r\n\r\n   public EditText editText;\r\n\r\n   private Button saveButton;\r\n\r\n   @Override\r\n   protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n       setContentView(R.layout.activity_targetpopup);\r\n\r\n//        기존에 설정된 목표 값을 팝업창 힌트로 불러오기\r\n       editText = findViewById((R.id.targetBox));\r\n\r\n       Intent intent = getIntent();\r\n       String data = intent.getStringExtra(&quot;data&quot;);\r\n       editText.setText(data);\r\n\r\n       saveButton = findViewById(R.id.saveButton);\r\n       saveButton.setOnClickListener(new View.OnClickListener(){\r\n            @Override\r\n           public void onClick(View v){\r\n                //        Toast.makeText(TargetPopupActivity.this, &quot;저장 버튼 눌림.&quot;, Toast.LENGTH_SHORT).show();\r\n               Intent intent = new Intent(TargetPopupActivity.this, MainActivity.class);\r\n               editText = findViewById((R.id.targetBox));\r\n\r\n               if (editText.getText().length() == 0) { // 목표설정란이 비어있는지 확인하기.\r\n                   Toast.makeText(TargetPopupActivity.this, &quot;목표가 설정되지 않았어요!&quot;, Toast.LENGTH_SHORT).show();\r\n               }\r\n                else {\r\n                    if( ((MainActivity)MainActivity.context_Main).target.getText().toString() != editText.getText().toString()){ // 기존의 목표와 값이 다르다면 값을 변경함.\r\n                       String result = editText.getText().toString();\r\n                       ((MainActivity)MainActivity.context_Main).targetChange(result);\r\n//                        ((MainActivity)MainActivity.context_Main).target.setText(result);\r\n//                        String targetTest = ((MainActivity)MainActivity.context_Main).target.getText().toString();\r\n//                        Toast.makeText(TargetPopupActivity.this, targetTest, Toast.LENGTH_SHORT).show();\r\n//                        Toast.makeText(TargetPopupActivity.this, targetTest, Toast.LENGTH_SHORT).show();\r\n\r\n                       finish();\r\n                   }\r\n\r\n                    else {\r\n                        startActivity(intent);\r\n                       finish();\r\n                   }\r\n\r\n                    startActivity(intent);\r\n                   finish();\r\n               }\r\n            }\r\n        });\r\n\r\n\r\n   }\r\n\r\n\r\n\r\n\r\n    public void cancelButtonClicked(View v){\r\n        Toast.makeText(TargetPopupActivity.this, &quot;취소 버튼 눌림.&quot;, Toast.LENGTH_SHORT).show();\r\n       finish();\r\n   }\r\n}\r\n\r\n\r\n```\r\n\r\n\r\n\r\n# activity_targetpopup.xml\r\n\r\n```\r\n &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n   xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n   android:layout_width=&quot;350dp&quot;\r\n   android:layout_height=&quot;350dp&quot;\r\n   android:background=&quot;#eeeeee&quot;\r\n   android:orientation=&quot;vertical&quot;\r\n   android:layout_gravity=&quot;center&quot;&gt;\r\n\r\n &lt;TextView\r\n       android:id=&quot;@+id/myTarget&quot;\r\n       android:layout_width=&quot;wrap_content&quot;\r\n       android:layout_height=&quot;wrap_content&quot;\r\n       android:layout_margin=&quot;20dp&quot;\r\n       android:text=&quot;나의 목표&quot;\r\n       android:textColor=&quot;@color/black&quot;\r\n       android:textSize=&quot;30dp&quot;\r\n       android:textStyle=&quot;bold&quot;\r\n       app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n       app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n       android:layout_width=&quot;wrap_content&quot;\r\n       android:layout_height=&quot;wrap_content&quot;\r\n       android:layout_marginStart=&quot;24dp&quot;\r\n       android:layout_marginTop=&quot;36dp&quot;\r\n       app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n       app:layout_constraintTop_toBottomOf=&quot;@+id/myTarget&quot;&gt;\r\n\r\n       &lt;!--목표 작성하는 텍스트 박스--&gt;\r\n       &lt;EditText\r\n           android:id=&quot;@+id/targetBox&quot;\r\n           android:layout_width=&quot;300dp&quot;\r\n           android:layout_height=&quot;48dp&quot;\r\n           android:drawableLeft=&quot;@drawable/baseline_check_24&quot;\r\n           android:drawablePadding=&quot;8dp&quot;\r\n           android:hint=&quot;용돈사용 목표를 적어주세요&quot;\r\n           android:textColorHint=&quot;#5F5F5F&quot;\r\n           android:textColor=&quot;@color/black&quot;\r\n           android:textStyle=&quot;normal&quot;\r\n           android:padding=&quot;8dp&quot;\r\n           app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n           app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\r\n\r\n     &lt;TextView\r\n           android:id=&quot;@+id/info1&quot;\r\n           android:layout_width=&quot;wrap_content&quot;\r\n           android:layout_height=&quot;wrap_content&quot;\r\n           android:layout_marginTop=&quot;20dp&quot;\r\n           android:text=&quot;* 용돈 관리 목표를 적어보아요!&quot;\r\n           android:textColor=&quot;#5F5F5F&quot;\r\n           android:textSize=&quot;16dp&quot;\r\n           app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n           app:layout_constraintTop_toBottomOf=&quot;@+id/targetBox&quot; /&gt;\r\n     &lt;TextView\r\n           android:layout_width=&quot;wrap_content&quot;\r\n           android:layout_height=&quot;wrap_content&quot;\r\n           android:text=&quot;* 목표는 용돈기입장 페이지 위에 표시돼요&quot;\r\n           android:textSize=&quot;16dp&quot;\r\n           android:textColor=&quot;#5F5F5F&quot;\r\n           android:layout_marginTop=&quot;8dp&quot;\r\n           app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n           app:layout_constraintTop_toBottomOf=&quot;@+id/info1&quot;/&gt;\r\n&quot;\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n &lt;Button\r\n       android:id=&quot;@+id/saveButton&quot;\r\n       android:layout_width=&quot;wrap_content&quot;\r\n       android:layout_height=&quot;wrap_content&quot;\r\n       android:layout_marginStart=&quot;68dp&quot;\r\n       android:layout_marginBottom=&quot;20dp&quot;\r\n       android:background=&quot;@drawable/round_button&quot;\r\n       android:backgroundTint=&quot;#88BDA5&quot;\r\n       android:text=&quot;저장&quot;\r\n       android:textSize=&quot;20dp&quot;\r\n       app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n       app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n &lt;Button\r\n       android:id=&quot;@+id/cancelButton&quot;\r\n       android:layout_width=&quot;wrap_content&quot;\r\n       android:layout_height=&quot;wrap_content&quot;\r\n\r\n       android:layout_marginBottom=&quot;20dp&quot;\r\n       android:background=&quot;@drawable/round_button&quot;\r\n       android:backgroundTint=&quot;#CDCDCD&quot;\r\n       android:onClick=&quot;cancelButtonClicked&quot;\r\n       android:text=&quot;취소&quot;\r\n       android:textSize=&quot;20dp&quot;\r\n       app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n       app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n       app:layout_constraintHorizontal_bias=&quot;0.485&quot;\r\n       app:layout_constraintStart_toEndOf=&quot;@+id/saveButton&quot; /&gt;\r\n\r\n\r\n\r\n\r\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n```\r\n\r\n\r\n[enter image description here](https://i.stack.imgur.com/DPctx.png)\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nI found that to apply change, I need to refresh `mainActivity.class` after apply it on `TargetPopupActivity.class`, but I couldn&#39;t understand what should I do.\r\n\r\nUsing `setText()` on `MainActivity.class` was well functioned while doing it pn `TargetActivity.class` doesn&#39;t. at least, I understood how to use `setText()`","title":"How can I apply change on textView of main UI after getting text value from another activity?","body":"<p>I want to change text of textView on main UI into String that I got from another Activity.</p>\n<p>Through editText on <code>activity_targetpopup.xml</code>, I want to change text value of <code>targetButton</code> on <code>activity_main.xml</code>.</p>\n<p>here's my code:</p>\n<h1>MainActivity.class</h1>\n<pre><code>public class MainActivity extends AppCompatActivity {\n\n    public static Context context_Main;\n   public TextView target; \n\n   @Override\n   protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n       setContentView(R.layout.activity_main);\n\n       context_Main = this;\n\n       target = (TextView)findViewById(R.id.targetButton);\n\n   }\n\n\n   public void targetButtonClicked(View v){\n        Toast.makeText(MainActivity.this, &quot;목표 버튼 눌림.&quot;, Toast.LENGTH_SHORT).show();\n       Intent intent = new Intent(this, TargetPopupActivity.class);\n       intent.putExtra(&quot;data&quot;, target.getText());\n       startActivity(intent);\n       target.setText(&quot;변경중 ...&quot;); \n       finish();\n   }\n\n\n   protected void targetChange(String result){\n        target.setText(result);\n       String targetTest = ((MainActivity)MainActivity.context_Main).target.getText().toString();\n   }\n</code></pre>\n<h1>activity_main.xml</h1>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n   xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n   xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n   android:layout_width=&quot;match_parent&quot;\n   android:layout_height=&quot;match_parent&quot;\n   android:background=&quot;#FFFFFF&quot;&gt;\n\n\n   &lt;!--    왼쪽 가이드라인--&gt;\n   &lt;androidx.constraintlayout.widget.Guideline\n       android:id=&quot;@+id/guidelineLeft&quot;\n       android:layout_width=&quot;wrap_content&quot;\n       android:layout_height=&quot;wrap_content&quot;\n       android:orientation=&quot;vertical&quot;\n       app:layout_constraintGuide_begin=&quot;16dp&quot; /&gt;\n\n   &lt;!--    오른쪽 가이드라인--&gt;\n   &lt;androidx.constraintlayout.widget.Guideline\n       android:id=&quot;@+id/guidelineRight&quot;\n       android:layout_width=&quot;wrap_content&quot;\n       android:layout_height=&quot;wrap_content&quot;\n       android:orientation=&quot;vertical&quot;\n       app:layout_constraintGuide_end=&quot;16dp&quot; /&gt;\n\n&lt;!--    목표 버튼--&gt;\n   &lt;androidx.constraintlayout.widget.ConstraintLayout\n       android:id=&quot;@+id/topBar&quot;\n       android:layout_width=&quot;match_parent&quot;\n       android:layout_height=&quot;150dp&quot;\n       android:background=&quot;#FFFFFF&quot;\n       android:elevation=&quot;10dp&quot;\n       app:layout_constraintStart_toStartOf=&quot;parent&quot;\n       app:layout_constraintTop_toTopOf=&quot;parent&quot;\n       &gt;\n\n     &lt;TextView\n           android:id=&quot;@+id/targetButton&quot;\n           android:layout_width=&quot;378dp&quot;\n           android:layout_height=&quot;wrap_content&quot;\n           android:layout_marginStart=&quot;16dp&quot;\n           android:layout_marginBottom=&quot;10dp&quot;\n           android:background=&quot;@drawable/green_button&quot;\n           android:backgroundTint=&quot;#EDEECD&quot;\n           android:drawableLeft=&quot;@drawable/exclamation_mark_red&quot;\n           android:drawablePadding=&quot;5dp&quot;\n           android:gravity=&quot;left|center&quot;\n           android:padding=&quot;10dip&quot;\n           android:text=&quot;목표가 정해지지 않았어요!&quot;\n           android:textSize=&quot;20dp&quot;\n           android:textColor=&quot;@color/black&quot;\n           android:onClick=&quot;targetButtonClicked&quot;\n           app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n           app:layout_constraintStart_toStartOf=&quot;parent&quot;\n           app:layout_constraintTop_toTopOf=&quot;parent&quot;\n           app:layout_constraintVertical_bias=&quot;0.771&quot; /&gt;\n   &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/bIfy5.png\" rel=\"nofollow noreferrer\">activity_main.xml image</a></p>\n<h1>TargetPopupActivity.class</h1>\n<pre><code> public class TargetPopupActivity extends AppCompatActivity {\n\n    public static Context context_TargetPopup;\n\n   public EditText editText;\n\n   private Button saveButton;\n\n   @Override\n   protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n       setContentView(R.layout.activity_targetpopup);\n\n//        기존에 설정된 목표 값을 팝업창 힌트로 불러오기\n       editText = findViewById((R.id.targetBox));\n\n       Intent intent = getIntent();\n       String data = intent.getStringExtra(&quot;data&quot;);\n       editText.setText(data);\n\n       saveButton = findViewById(R.id.saveButton);\n       saveButton.setOnClickListener(new View.OnClickListener(){\n            @Override\n           public void onClick(View v){\n                //        Toast.makeText(TargetPopupActivity.this, &quot;저장 버튼 눌림.&quot;, Toast.LENGTH_SHORT).show();\n               Intent intent = new Intent(TargetPopupActivity.this, MainActivity.class);\n               editText = findViewById((R.id.targetBox));\n\n               if (editText.getText().length() == 0) { // 목표설정란이 비어있는지 확인하기.\n                   Toast.makeText(TargetPopupActivity.this, &quot;목표가 설정되지 않았어요!&quot;, Toast.LENGTH_SHORT).show();\n               }\n                else {\n                    if( ((MainActivity)MainActivity.context_Main).target.getText().toString() != editText.getText().toString()){ // 기존의 목표와 값이 다르다면 값을 변경함.\n                       String result = editText.getText().toString();\n                       ((MainActivity)MainActivity.context_Main).targetChange(result);\n//                        ((MainActivity)MainActivity.context_Main).target.setText(result);\n//                        String targetTest = ((MainActivity)MainActivity.context_Main).target.getText().toString();\n//                        Toast.makeText(TargetPopupActivity.this, targetTest, Toast.LENGTH_SHORT).show();\n//                        Toast.makeText(TargetPopupActivity.this, targetTest, Toast.LENGTH_SHORT).show();\n\n                       finish();\n                   }\n\n                    else {\n                        startActivity(intent);\n                       finish();\n                   }\n\n                    startActivity(intent);\n                   finish();\n               }\n            }\n        });\n\n\n   }\n\n\n\n\n    public void cancelButtonClicked(View v){\n        Toast.makeText(TargetPopupActivity.this, &quot;취소 버튼 눌림.&quot;, Toast.LENGTH_SHORT).show();\n       finish();\n   }\n}\n\n\n</code></pre>\n<h1>activity_targetpopup.xml</h1>\n<pre><code> &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n   xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n   android:layout_width=&quot;350dp&quot;\n   android:layout_height=&quot;350dp&quot;\n   android:background=&quot;#eeeeee&quot;\n   android:orientation=&quot;vertical&quot;\n   android:layout_gravity=&quot;center&quot;&gt;\n\n &lt;TextView\n       android:id=&quot;@+id/myTarget&quot;\n       android:layout_width=&quot;wrap_content&quot;\n       android:layout_height=&quot;wrap_content&quot;\n       android:layout_margin=&quot;20dp&quot;\n       android:text=&quot;나의 목표&quot;\n       android:textColor=&quot;@color/black&quot;\n       android:textSize=&quot;30dp&quot;\n       android:textStyle=&quot;bold&quot;\n       app:layout_constraintStart_toStartOf=&quot;parent&quot;\n       app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n &lt;androidx.constraintlayout.widget.ConstraintLayout\n       android:layout_width=&quot;wrap_content&quot;\n       android:layout_height=&quot;wrap_content&quot;\n       android:layout_marginStart=&quot;24dp&quot;\n       android:layout_marginTop=&quot;36dp&quot;\n       app:layout_constraintStart_toStartOf=&quot;parent&quot;\n       app:layout_constraintTop_toBottomOf=&quot;@+id/myTarget&quot;&gt;\n\n       &lt;!--목표 작성하는 텍스트 박스--&gt;\n       &lt;EditText\n           android:id=&quot;@+id/targetBox&quot;\n           android:layout_width=&quot;300dp&quot;\n           android:layout_height=&quot;48dp&quot;\n           android:drawableLeft=&quot;@drawable/baseline_check_24&quot;\n           android:drawablePadding=&quot;8dp&quot;\n           android:hint=&quot;용돈사용 목표를 적어주세요&quot;\n           android:textColorHint=&quot;#5F5F5F&quot;\n           android:textColor=&quot;@color/black&quot;\n           android:textStyle=&quot;normal&quot;\n           android:padding=&quot;8dp&quot;\n           app:layout_constraintStart_toStartOf=&quot;parent&quot;\n           app:layout_constraintTop_toTopOf=&quot;parent&quot; /&gt;\n\n     &lt;TextView\n           android:id=&quot;@+id/info1&quot;\n           android:layout_width=&quot;wrap_content&quot;\n           android:layout_height=&quot;wrap_content&quot;\n           android:layout_marginTop=&quot;20dp&quot;\n           android:text=&quot;* 용돈 관리 목표를 적어보아요!&quot;\n           android:textColor=&quot;#5F5F5F&quot;\n           android:textSize=&quot;16dp&quot;\n           app:layout_constraintStart_toStartOf=&quot;parent&quot;\n           app:layout_constraintTop_toBottomOf=&quot;@+id/targetBox&quot; /&gt;\n     &lt;TextView\n           android:layout_width=&quot;wrap_content&quot;\n           android:layout_height=&quot;wrap_content&quot;\n           android:text=&quot;* 목표는 용돈기입장 페이지 위에 표시돼요&quot;\n           android:textSize=&quot;16dp&quot;\n           android:textColor=&quot;#5F5F5F&quot;\n           android:layout_marginTop=&quot;8dp&quot;\n           app:layout_constraintStart_toStartOf=&quot;parent&quot;\n           app:layout_constraintTop_toBottomOf=&quot;@+id/info1&quot;/&gt;\n&quot;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n &lt;Button\n       android:id=&quot;@+id/saveButton&quot;\n       android:layout_width=&quot;wrap_content&quot;\n       android:layout_height=&quot;wrap_content&quot;\n       android:layout_marginStart=&quot;68dp&quot;\n       android:layout_marginBottom=&quot;20dp&quot;\n       android:background=&quot;@drawable/round_button&quot;\n       android:backgroundTint=&quot;#88BDA5&quot;\n       android:text=&quot;저장&quot;\n       android:textSize=&quot;20dp&quot;\n       app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n       app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n &lt;Button\n       android:id=&quot;@+id/cancelButton&quot;\n       android:layout_width=&quot;wrap_content&quot;\n       android:layout_height=&quot;wrap_content&quot;\n\n       android:layout_marginBottom=&quot;20dp&quot;\n       android:background=&quot;@drawable/round_button&quot;\n       android:backgroundTint=&quot;#CDCDCD&quot;\n       android:onClick=&quot;cancelButtonClicked&quot;\n       android:text=&quot;취소&quot;\n       android:textSize=&quot;20dp&quot;\n       app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n       app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n       app:layout_constraintHorizontal_bias=&quot;0.485&quot;\n       app:layout_constraintStart_toEndOf=&quot;@+id/saveButton&quot; /&gt;\n\n\n\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/DPctx.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I found that to apply change, I need to refresh <code>mainActivity.class</code> after apply it on <code>TargetPopupActivity.class</code>, but I couldn't understand what should I do.</p>\n<p>Using <code>setText()</code> on <code>MainActivity.class</code> was well functioned while doing it pn <code>TargetActivity.class</code> doesn't. at least, I understood how to use <code>setText()</code></p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9714,"page":278,"page_size":100}
