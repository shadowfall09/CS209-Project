{"items":[{"tags":["java","spring-boot","jar","classpath","liquibase"],"comments":[{"owner":{"account_id":881640,"reputation":4624,"user_id":266254,"accept_rate":47,"display_name":"bilak"},"score":0,"creation_date":1679932910,"post_id":75824954,"comment_id":133805844,"body_markdown":"which version of liquibase it is?","body":"which version of liquibase it is?"},{"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"score":0,"creation_date":1679992774,"post_id":75824954,"comment_id":133816139,"body_markdown":"@bilak Liquibase `4.20.0`","body":"@bilak Liquibase <code>4.20.0</code>"},{"owner":{"account_id":881640,"reputation":4624,"user_id":266254,"accept_rate":47,"display_name":"bilak"},"score":0,"creation_date":1679995472,"post_id":75824954,"comment_id":133816830,"body_markdown":"if you specify absolute path (e.g. `/Users/rbyrne/git/data-migration/build/libs/config/liquibase/changelog/root-changelog.xml`) does it work?","body":"if you specify absolute path (e.g. <code>&#47;Users&#47;rbyrne&#47;git&#47;data-migration&#47;build&#47;libs&#47;config&#47;liquibase&zwnj;&#8203;&#47;changelog&#47;root-chan&zwnj;&#8203;gelog.xml</code>) does it work?"}],"owner":{"account_id":292835,"reputation":6407,"user_id":595833,"accept_rate":94,"display_name":"bobbyrne01"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":405,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679585246,"creation_date":1679585246,"question_id":75824954,"body_markdown":"I have a Spring Boot 2.7.7 project which will be responsible for performing Liquibase database migrations.\r\n\r\nThe application will be packaged as a `.jar`, and then later the `.jar` and a collection of Liquibase changelogs will be packaged into a Docker image.\r\n\r\nSince the changelogs are not packaged inside the `.jar`, they are located in the same directory as the `.jar` at runtime on the Docker container.\r\n\r\nThis is the basic structure of the application:\r\n\r\n```\r\ndata-migration:\r\n  src/\r\n    main/\r\n      java/\r\n        com.example.demo/\r\n          SpringBootApplication.java\r\n          LiquibaseUpdate.java\r\n      resources/\r\n        application.properties\r\n  build.gradle.kts\r\n```\r\n\r\nIn `SpringBootApplication.java`:\r\n\r\n```\r\n@SpringBootApplication\r\npublic class SpringBootApplication {\r\n\r\n  public static void main(String[] args) {\r\n\r\n    // Trying to add additional directory containing the changelogs to classpath\r\n    System.setProperty(\r\n        &quot;java.class.path&quot;,\r\n        System.getProperty(&quot;java.class.path&quot;)\r\n            + &quot;:/Users/rbyrne/git/data-migration/build/libs:.&quot;);\r\n\r\n    new SpringApplicationBuilder(SpringBootApplication.class)\r\n        .web(WebApplicationType.NONE)\r\n        .run(args);\r\n  }\r\n}\r\n```\r\n\r\n`LiquibaseUpdate.java`:\r\n\r\n```\r\n@Configuration\r\n@EnableConfigurationProperties({LiquibaseProperties.class})\r\npublic class LiquibaseUpdate {\r\n\r\n  @Bean\r\n  public SpringLiquibase liquibase(\r\n      @Qualifier(&quot;taskExecutor&quot;) TaskExecutor taskExecutor,\r\n      DataSource dataSource,\r\n      LiquibaseProperties liquibaseProperties)\r\n      throws Exception {\r\n    SpringLiquibase liquibase = new SpringLiquibase();\r\n    liquibase.setShouldRun(false); // do not run against public schema\r\n    return liquibase;\r\n  }\r\n\r\n  @Bean(&quot;liquibaseMultiTenant&quot;)\r\n  @DependsOn(&quot;liquibase&quot;) // ensure execution after SpringLiquibase Bean\r\n  public MultiTenantSpringLiquibase liquibaseMultiTenant(\r\n      DataSource dataSource, LiquibaseProperties liquibaseProperties) {\r\n    MultiTenantSpringLiquibase liquibase = new MultiTenantSpringLiquibase();\r\n    liquibase.setShouldRun(true);\r\n    liquibase.setDataSource(dataSource);\r\n    liquibase.setContexts(liquibaseProperties.getContexts());\r\n    liquibase.setLabels(liquibaseProperties.getLabels());\r\n    liquibase.setChangeLog(&quot;config/liquibase/changelog/root-changelog.xml&quot;);\r\n    liquibase.setSchemas(Arrays.asList(&quot;tenant1&quot;, &quot;tenant2&quot;));\r\n    return liquibase;\r\n  }\r\n}\r\n```\r\n\r\nThis is the error:\r\n\r\n```\r\n2023-03-23 15:06:13.596  WARN 96151 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: \r\nError creating bean with name &#39;liquibaseMultiTenant&#39; defined in class path resource [com/example/demo/liquibase/LiquibaseCUpdate.class]: \r\nInvocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: \r\nThe file config/liquibase/changelog/root-changelog.xml was not found in the configured search path:\r\n    - Spring classpath\r\nMore locations can be added with the &#39;searchPath&#39; parameter.\r\n```\r\n\r\nThis is the state of the filesystem:\r\n\r\n```\r\nwork build/libs ‹main*› &#187; pwd\r\n/Users/rbyrne/git/data-migration/build/libs\r\nwork build/libs ‹main*› &#187; ls\r\ndata-migration-0.1.0-SNAPSHOT-plain.jar   data-migration-0.1.0-SNAPSHOT.jar\r\ndata-migration-0.1.0-SNAPSHOT-sources.jar config\r\nwork build/libs ‹main*› &#187; ls config/liquibase/changelog/\r\nroot-changelog.xml\r\n```\r\n\r\nI&#39;ve tried setting the Liquibase `searchPath` property inside `application.properties` with different variations but none have any effect:\r\n\r\n```\r\nliquibase.search-path=./\r\nliquibase.searchPath=./\r\n```","title":"How to reference Liquibase changelogs that are located alongside the executing SpringBoot jar rather than packaged inside the jar","body":"<p>I have a Spring Boot 2.7.7 project which will be responsible for performing Liquibase database migrations.</p>\n<p>The application will be packaged as a <code>.jar</code>, and then later the <code>.jar</code> and a collection of Liquibase changelogs will be packaged into a Docker image.</p>\n<p>Since the changelogs are not packaged inside the <code>.jar</code>, they are located in the same directory as the <code>.jar</code> at runtime on the Docker container.</p>\n<p>This is the basic structure of the application:</p>\n<pre><code>data-migration:\n  src/\n    main/\n      java/\n        com.example.demo/\n          SpringBootApplication.java\n          LiquibaseUpdate.java\n      resources/\n        application.properties\n  build.gradle.kts\n</code></pre>\n<p>In <code>SpringBootApplication.java</code>:</p>\n<pre><code>@SpringBootApplication\npublic class SpringBootApplication {\n\n  public static void main(String[] args) {\n\n    // Trying to add additional directory containing the changelogs to classpath\n    System.setProperty(\n        &quot;java.class.path&quot;,\n        System.getProperty(&quot;java.class.path&quot;)\n            + &quot;:/Users/rbyrne/git/data-migration/build/libs:.&quot;);\n\n    new SpringApplicationBuilder(SpringBootApplication.class)\n        .web(WebApplicationType.NONE)\n        .run(args);\n  }\n}\n</code></pre>\n<p><code>LiquibaseUpdate.java</code>:</p>\n<pre><code>@Configuration\n@EnableConfigurationProperties({LiquibaseProperties.class})\npublic class LiquibaseUpdate {\n\n  @Bean\n  public SpringLiquibase liquibase(\n      @Qualifier(&quot;taskExecutor&quot;) TaskExecutor taskExecutor,\n      DataSource dataSource,\n      LiquibaseProperties liquibaseProperties)\n      throws Exception {\n    SpringLiquibase liquibase = new SpringLiquibase();\n    liquibase.setShouldRun(false); // do not run against public schema\n    return liquibase;\n  }\n\n  @Bean(&quot;liquibaseMultiTenant&quot;)\n  @DependsOn(&quot;liquibase&quot;) // ensure execution after SpringLiquibase Bean\n  public MultiTenantSpringLiquibase liquibaseMultiTenant(\n      DataSource dataSource, LiquibaseProperties liquibaseProperties) {\n    MultiTenantSpringLiquibase liquibase = new MultiTenantSpringLiquibase();\n    liquibase.setShouldRun(true);\n    liquibase.setDataSource(dataSource);\n    liquibase.setContexts(liquibaseProperties.getContexts());\n    liquibase.setLabels(liquibaseProperties.getLabels());\n    liquibase.setChangeLog(&quot;config/liquibase/changelog/root-changelog.xml&quot;);\n    liquibase.setSchemas(Arrays.asList(&quot;tenant1&quot;, &quot;tenant2&quot;));\n    return liquibase;\n  }\n}\n</code></pre>\n<p>This is the error:</p>\n<pre><code>2023-03-23 15:06:13.596  WARN 96151 --- [           main] s.c.a.AnnotationConfigApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanCreationException: \nError creating bean with name 'liquibaseMultiTenant' defined in class path resource [com/example/demo/liquibase/LiquibaseCUpdate.class]: \nInvocation of init method failed; nested exception is liquibase.exception.ChangeLogParseException: \nThe file config/liquibase/changelog/root-changelog.xml was not found in the configured search path:\n    - Spring classpath\nMore locations can be added with the 'searchPath' parameter.\n</code></pre>\n<p>This is the state of the filesystem:</p>\n<pre><code>work build/libs ‹main*› » pwd\n/Users/rbyrne/git/data-migration/build/libs\nwork build/libs ‹main*› » ls\ndata-migration-0.1.0-SNAPSHOT-plain.jar   data-migration-0.1.0-SNAPSHOT.jar\ndata-migration-0.1.0-SNAPSHOT-sources.jar config\nwork build/libs ‹main*› » ls config/liquibase/changelog/\nroot-changelog.xml\n</code></pre>\n<p>I've tried setting the Liquibase <code>searchPath</code> property inside <code>application.properties</code> with different variations but none have any effect:</p>\n<pre><code>liquibase.search-path=./\nliquibase.searchPath=./\n</code></pre>\n"},{"tags":["java","postgresql","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":918256,"reputation":1641,"user_id":950558,"display_name":"Bastien Aracil"},"score":0,"creation_date":1679595637,"post_id":75824866,"comment_id":133754053,"body_markdown":"What does the query is supposed to do ? Find a specific embeddedObject ? Is that so, shouldn&#39;t there be a &#39;WHERE&#39; clause somewhere ?","body":"What does the query is supposed to do ? Find a specific embeddedObject ? Is that so, shouldn&#39;t there be a &#39;WHERE&#39; clause somewhere ?"},{"owner":{"account_id":25083408,"reputation":1,"user_id":18935900,"display_name":"Toughy"},"score":0,"creation_date":1679677988,"post_id":75824866,"comment_id":133769988,"body_markdown":"No, find all EmbeddedObject or just one. It&#39;s not the main part of my question. I could do a where clause.","body":"No, find all EmbeddedObject or just one. It&#39;s not the main part of my question. I could do a where clause."},{"owner":{"account_id":918256,"reputation":1641,"user_id":950558,"display_name":"Bastien Aracil"},"score":0,"creation_date":1679681728,"post_id":75824866,"comment_id":133770796,"body_markdown":"That is why I made a comment and not a answer, to get some precision before being able to write a correct solution (For instance, in your example, the query does not match the method signature, the query suggest multiple values, but the signature only 1).","body":"That is why I made a comment and not a answer, to get some precision before being able to write a correct solution (For instance, in your example, the query does not match the method signature, the query suggest multiple values, but the signature only 1)."},{"owner":{"account_id":25083408,"reputation":1,"user_id":18935900,"display_name":"Toughy"},"score":0,"creation_date":1679729203,"post_id":75824866,"comment_id":133776189,"body_markdown":"Okay, but it doesn&#39;t solve the problem sadly. The main part is to get an EmbeddedObject from columns in a table where Entities are being stored.","body":"Okay, but it doesn&#39;t solve the problem sadly. The main part is to get an EmbeddedObject from columns in a table where Entities are being stored."}],"owner":{"account_id":25083408,"reputation":1,"user_id":18935900,"display_name":"Toughy"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679584839,"creation_date":1679584839,"question_id":75824866,"body_markdown":"I use Java, Spring Boot and PostgreSQL.\r\nSo here&#39;s my 2 classes:\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@Entity\r\npublic class Entity {\r\n\r\n  @Id\r\n  private int id;\r\n  @Embedded\r\n  @ElementCollection\r\n  private List&lt;EmbeddedClass&gt; embeddedObjects;\r\n}\r\n```\r\n```\r\n@Getter\r\n@Setter\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Builder\r\n@ToString\r\n@Embeddable\r\npublic class EmbeddedClass {\r\n  private UUID userId;\r\n  private UUID friendId;\r\n  private int something;\r\n}\r\n```\r\nMy question is how to get an `EmbeddedClass` object from the `EntityRepository` which looks like this:\r\n```\r\n@Repository\r\npublic interface EntityRepository extends JpaRepository&lt;Entity, UUID&gt; {\r\n\r\n  @Query(value = &quot;SELECT user_id, friend_id, something FROM entity_embedded_objects&quot;, nativeQuery = true)\r\n  Optional&lt;EmbeddedClass&gt; findEmbeddedObject();\r\n}\r\n```\r\nAnd I get this error message now when I try this query:\r\n`org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.String] to type [EmbeddedClass]`\r\n\r\nI tried different solutions, the best I could get is this error message, but I don&#39;t remember how:\r\n`org.springframework.orm.jpa.JpaSystemException: No Dialect mapping for JDBC type: 1111; nested exception is org.hibernate.MappingException: No Dialect mapping for JDBC type: 1111`","title":"How to get Embedded object from Entity table?","body":"<p>I use Java, Spring Boot and PostgreSQL.\nSo here's my 2 classes:</p>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@Entity\npublic class Entity {\n\n  @Id\n  private int id;\n  @Embedded\n  @ElementCollection\n  private List&lt;EmbeddedClass&gt; embeddedObjects;\n}\n</code></pre>\n<pre><code>@Getter\n@Setter\n@NoArgsConstructor\n@AllArgsConstructor\n@Builder\n@ToString\n@Embeddable\npublic class EmbeddedClass {\n  private UUID userId;\n  private UUID friendId;\n  private int something;\n}\n</code></pre>\n<p>My question is how to get an <code>EmbeddedClass</code> object from the <code>EntityRepository</code> which looks like this:</p>\n<pre><code>@Repository\npublic interface EntityRepository extends JpaRepository&lt;Entity, UUID&gt; {\n\n  @Query(value = &quot;SELECT user_id, friend_id, something FROM entity_embedded_objects&quot;, nativeQuery = true)\n  Optional&lt;EmbeddedClass&gt; findEmbeddedObject();\n}\n</code></pre>\n<p>And I get this error message now when I try this query:\n<code>org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.String] to type [EmbeddedClass]</code></p>\n<p>I tried different solutions, the best I could get is this error message, but I don't remember how:\n<code>org.springframework.orm.jpa.JpaSystemException: No Dialect mapping for JDBC type: 1111; nested exception is org.hibernate.MappingException: No Dialect mapping for JDBC type: 1111</code></p>\n"},{"tags":["java","android","firebase","firebase-storage"],"comments":[{"owner":{"account_id":72426,"reputation":573804,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1555008129,"post_id":55639163,"comment_id":97969282,"body_markdown":"&quot;Use `android-studio` for questions about using Android Studio. Do NOT use for questions about programming for Android in general; instead use the `android` tag.&quot;","body":"&quot;Use <code>android-studio</code> for questions about using Android Studio. Do NOT use for questions about programming for Android in general; instead use the <code>android</code> tag.&quot;"}],"answers":[{"tags":[],"owner":{"account_id":15726606,"reputation":41,"user_id":11348072,"display_name":"William"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1555010589,"creation_date":1555010589,"answer_id":55639780,"question_id":55639163,"body_markdown":"If you are getting an error with permission, maybe the storage rules is blocking your access.\r\n\r\nAlso try to delete the file using your file name logic.\r\nLike:\r\n\r\n```js\r\n\r\nStorageReference storageRef = storage.getReference();\r\nStorageReference photoRef = storageRef.child(&quot;YOUR_PATH&quot; + userId + &quot;.jpg&quot;);\r\n\r\nphotoRef.delete().addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n    @Override\r\n    public void onSuccess(Void aVoid) {\r\n        // Success\r\n    }\r\n}).addOnFailureListener(new OnFailureListener() {\r\n    @Override\r\n    public void onFailure(@NonNull Exception exception) {\r\n       // Error\r\n    }\r\n});\r\n\r\n```","title":"How to delete picture from Firebase Storage","body":"<p>If you are getting an error with permission, maybe the storage rules is blocking your access.</p>\n\n<p>Also try to delete the file using your file name logic.\nLike:</p>\n\n<pre class=\"lang-js prettyprint-override\"><code>\nStorageReference storageRef = storage.getReference();\nStorageReference photoRef = storageRef.child(\"YOUR_PATH\" + userId + \".jpg\");\n\nphotoRef.delete().addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n    @Override\n    public void onSuccess(Void aVoid) {\n        // Success\n    }\n}).addOnFailureListener(new OnFailureListener() {\n    @Override\n    public void onFailure(@NonNull Exception exception) {\n       // Error\n    }\n});\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9545706,"reputation":1,"user_id":11884872,"display_name":"travah netshisaulu"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1665725646,"creation_date":1665725646,"answer_id":74064714,"question_id":55639163,"body_markdown":"You can also change your rules \r\nif you don&#39;t have firebase code from:\r\n\r\n    service firebase.storage {\r\n    match /b/{bucket}/o {\r\n    match /{allPaths=**} {\r\n    allow read, write: if\r\n    request.auth != null;\r\n    }\r\n    }\r\n    }\r\n\r\nTo:\r\n\r\n    service firebase.storage {\r\n    match /b/{bucket}/o {\r\n    match /{allPaths=**} {\r\n    allow read, write;\r\n    }\r\n    }\r\n    }\r\n\r\nJust make sure you change it back after you get your code from firebase","title":"How to delete picture from Firebase Storage","body":"<p>You can also change your rules\nif you don't have firebase code from:</p>\n<pre><code>service firebase.storage {\nmatch /b/{bucket}/o {\nmatch /{allPaths=**} {\nallow read, write: if\nrequest.auth != null;\n}\n}\n}\n</code></pre>\n<p>To:</p>\n<pre><code>service firebase.storage {\nmatch /b/{bucket}/o {\nmatch /{allPaths=**} {\nallow read, write;\n}\n}\n}\n</code></pre>\n<p>Just make sure you change it back after you get your code from firebase</p>\n"},{"tags":[],"owner":{"account_id":19170966,"reputation":1,"user_id":14004730,"display_name":"Nuwagaba Gerrald"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679584503,"creation_date":1679235621,"answer_id":75782632,"question_id":55639163,"body_markdown":"I did the same but it&#39;s working serious on retrieving data from firebase\r\n\r\n\r\n```\r\n\r\nretrieveUserInfo();\r\n\r\nuserRef = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(currentUserId);\r\n    private void retrieveUserInfo() {\r\n        String currentUserId = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n        userRef = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(currentUserId);\r\n        userRef.keepSynced(true);\r\n        userRef.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                if((snapshot.exists()) &amp;&amp;  (snapshot.hasChild(&quot;image&quot;)) ){\r\n                    StorageReference storageReference1;\r\n\r\n                    String retrieveProfileImage = snapshot.child(&quot;image&quot;).getValue().toString();\r\n                    String retrieveUserName = snapshot.child(&quot;name&quot;).getValue().toString();\r\n\r\n\r\n                    storageReference1 = FirebaseStorage.getInstance().getReferenceFromUrl(retrieveProfileImage);\r\n                    storageReference1.delete();\r\n                    Toast.makeText(ImageActivity.this, &quot;Welcome!&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n\r\n                    Picasso.get().load(retrieveProfileImage).placeholder(R.drawable.pro_pic).into(imageView);\r\n                    textView.setText(retrieveUserName);\r\n\r\n                }\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n    }\r\n}\r\n```","title":"How to delete picture from Firebase Storage","body":"<p>I did the same but it's working serious on retrieving data from firebase</p>\n<pre><code>\nretrieveUserInfo();\n\nuserRef = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(currentUserId);\n    private void retrieveUserInfo() {\n        String currentUserId = FirebaseAuth.getInstance().getCurrentUser().getUid();\n        userRef = FirebaseDatabase.getInstance().getReference(&quot;Users&quot;).child(currentUserId);\n        userRef.keepSynced(true);\n        userRef.addListenerForSingleValueEvent(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                if((snapshot.exists()) &amp;&amp;  (snapshot.hasChild(&quot;image&quot;)) ){\n                    StorageReference storageReference1;\n\n                    String retrieveProfileImage = snapshot.child(&quot;image&quot;).getValue().toString();\n                    String retrieveUserName = snapshot.child(&quot;name&quot;).getValue().toString();\n\n\n                    storageReference1 = FirebaseStorage.getInstance().getReferenceFromUrl(retrieveProfileImage);\n                    storageReference1.delete();\n                    Toast.makeText(ImageActivity.this, &quot;Welcome!&quot;, Toast.LENGTH_SHORT).show();\n\n\n                    Picasso.get().load(retrieveProfileImage).placeholder(R.drawable.pro_pic).into(imageView);\n                    textView.setText(retrieveUserName);\n\n                }\n\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n\n            }\n        });\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14067142,"reputation":43,"user_id":10161679,"display_name":"Justinas Tvarijonavicius"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":636,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":55639780,"answer_count":3,"score":0,"last_activity_date":1679584503,"creation_date":1555007871,"question_id":55639163,"body_markdown":"I have an app, that has many users they are all stored in Realtime Database. I&#39;m trying to delete user on button click with all the data, but the profile pictures are still left in Firebase Storage after deletion. So when I try to delete the picture from Firebase Storage aswell as users I get this error.\r\n User does not have permission to access this object.\r\n\r\n So I&#39;m trying to delete picture in the ValueEventListener method, because I can easily get the ImageURL from my Realtime Database.\r\n\r\nRealtime Database\r\n\r\nIn DB I have attribute profileimage: GeneratedPictureUrlWhenUploadingToStorage\r\nAlso my pictures in Firebase Storage are named currentUserId + &quot;.JPG&quot; so its like an indetifer\r\n\r\nStorage Rules:\r\n\r\n    service firebase.storage {\r\n      match /b/{bucket}/o {\r\n        match /{allPaths=**} {\r\n          allow read, write: if request.auth != null;\r\n        }\r\n      }\r\n    }\r\n\r\nCode:\r\n\r\n\r\n        switch (view.getId()){\r\n            case R.id.buttonEditProfile:\r\n                startActivity(new Intent(this, ProfileEditActivity.class));\r\n                break;\r\n            case R.id.buttonUserList:\r\n                startActivity(new Intent(this, UserListActivity.class));\r\n                break;\r\n            case R.id.buttonDeleteAccount:\r\n\r\n                profileUserRef.addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                        if(dataSnapshot.exists()){\r\n                            StorageReference storageReference1;\r\n                            String myImage = dataSnapshot.child(&quot;profileimage&quot;).getValue().toString();\r\n                            storageReference1 = FirebaseStorage.getInstance().getReferenceFromUrl(myImage);\r\n                            storageReference1.delete();\r\n                        }\r\n\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(@NonNull DatabaseError databaseError) {\r\n\r\n                    }\r\n                });\r\n\r\n                DatabaseReference drFailure = FirebaseDatabase.getInstance().getReference(&quot;failures&quot;).child(currentUserId);\r\n                DatabaseReference drVehicles = FirebaseDatabase.getInstance().getReference(&quot;vehicles&quot;).child(currentUserId);\r\n                DatabaseReference drUsers = FirebaseDatabase.getInstance().getReference(&quot;users&quot;).child(currentUserId);\r\n                FirebaseUser userDel = FirebaseAuth.getInstance().getCurrentUser();\r\n\r\n                drFailure.removeValue();\r\n                drVehicles.removeValue();\r\n                drUsers.removeValue();\r\n                userDel.delete();\r\n\r\nWhen I press the buttonDeleteAccount I want to delete Storaged pictures of uniqe User","title":"How to delete picture from Firebase Storage","body":"<p>I have an app, that has many users they are all stored in Realtime Database. I'm trying to delete user on button click with all the data, but the profile pictures are still left in Firebase Storage after deletion. So when I try to delete the picture from Firebase Storage aswell as users I get this error.\n User does not have permission to access this object.</p>\n\n<p>So I'm trying to delete picture in the ValueEventListener method, because I can easily get the ImageURL from my Realtime Database.</p>\n\n<p>Realtime Database</p>\n\n<p>In DB I have attribute profileimage: GeneratedPictureUrlWhenUploadingToStorage\nAlso my pictures in Firebase Storage are named currentUserId + \".JPG\" so its like an indetifer</p>\n\n<p>Storage Rules:</p>\n\n<pre><code>service firebase.storage {\n  match /b/{bucket}/o {\n    match /{allPaths=**} {\n      allow read, write: if request.auth != null;\n    }\n  }\n}\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>    switch (view.getId()){\n        case R.id.buttonEditProfile:\n            startActivity(new Intent(this, ProfileEditActivity.class));\n            break;\n        case R.id.buttonUserList:\n            startActivity(new Intent(this, UserListActivity.class));\n            break;\n        case R.id.buttonDeleteAccount:\n\n            profileUserRef.addValueEventListener(new ValueEventListener() {\n                @Override\n                public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\n                    if(dataSnapshot.exists()){\n                        StorageReference storageReference1;\n                        String myImage = dataSnapshot.child(\"profileimage\").getValue().toString();\n                        storageReference1 = FirebaseStorage.getInstance().getReferenceFromUrl(myImage);\n                        storageReference1.delete();\n                    }\n\n\n                }\n\n                @Override\n                public void onCancelled(@NonNull DatabaseError databaseError) {\n\n                }\n            });\n\n            DatabaseReference drFailure = FirebaseDatabase.getInstance().getReference(\"failures\").child(currentUserId);\n            DatabaseReference drVehicles = FirebaseDatabase.getInstance().getReference(\"vehicles\").child(currentUserId);\n            DatabaseReference drUsers = FirebaseDatabase.getInstance().getReference(\"users\").child(currentUserId);\n            FirebaseUser userDel = FirebaseAuth.getInstance().getCurrentUser();\n\n            drFailure.removeValue();\n            drVehicles.removeValue();\n            drUsers.removeValue();\n            userDel.delete();\n</code></pre>\n\n<p>When I press the buttonDeleteAccount I want to delete Storaged pictures of uniqe User</p>\n"},{"tags":["java","android","multimedia"],"answers":[{"tags":[],"owner":{"account_id":570419,"reputation":336,"user_id":207429,"display_name":"Ccazang"},"comment_count":0,"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1257815134,"creation_date":1257815134,"answer_id":1705041,"question_id":1681817,"body_markdown":"The PlayTo is all UPnP based. DLNA is just a layer of standardization on top of UPnP. So any UPnP device is able to talk with a DLNA device so to a Win7 machine. \r\nDLNA specifies 4 type of devices: DMP, DMR, DMC and DMS.\r\nA DMP (aka Digital Media Player) is a device, that is capable of finding and browsing remote servers (DMS=Digital Media Servers) and consume content (or pull content). PS3 is the perfect example of DMP. A DMP is not discoverable on the network, it just discovers and consumes content. Because it is not discoverable, you cannot control it with PlayTo.\r\nA DMR (aka Digital Media Renders) is a device that can accept commands received from the network. It is discoverable, exposes an UPnP description document and UPnP services like AVTransport and ConnectionManager or RenderingControl. A PlayTo device, is capable to find this device on a network, and it can push content to it. It can control the playback via AVTransport service and RenderingControl service.\r\nMany devices today are either 100% DMPs (cannot be controlled via PlayTo) or DMP-DMRs. That means they both expose the AVTransport and RenderingControl services but also have a GUI that the user can use to pull media from a server.\r\nA DMS (aka Digital Media Server) is a media server device. You can store media content in there and than you can consume it from other network devices. These are usually NAS devices, but they may also be mobile phones, Win7/Vista machines, etc. A DMS is discoverable on the network and exposes UPnP services as ContentDirectory service. This exposes methods as Browse and Search, which you may use to locate the content.\r\nA DMC device (aka Digital Media Controller) is a device that has no playback capabilities. It has only controlling capabilities, and it needs a remote DMS (to expose the content) and a remote DMR (to play the content) for completing the media experience. PlayTo is an example. There are also similar apps on Nokia N95/Nokia N78 phones or on iPhone. Twonky has a web based DMC also.\r\n\r\nAll these devices have one thing in common: they understand and speak UPnP. They may be implemented in C+, C#, Java, they may run on Windows, Linux or Apple platform but they are all UPnP based. So all you need to do is to get familiar with UPnP standard. I would recommend downloading the papers from upnp.org and the Intel Device Spy (and other related Intel UPnP tools) and start playing with those. \r\nIf you want to write a DMC (or PlayTo) - which is the easiest thing to do - all you need to understand is just some basic UPnP concepts (SOAP, XML, network discovery, etc). If you want to write your app on top of Win7 platform, you may want to use the Win UPnP API to discover the devices and send commands to them. Or you can write your own API for doing that (it is not that hard). I do not know on the phone what API you may use. However, you can always go to the basic: sending SOAP messages over the wire using basic network APIs.\r\nFor a DMP/DMR, you will need playback capabilities, and that may depend on the platform and what codecs you have there. \r\n\r\nLet me know if this helps a bit to get you started.\r\nThx\r\nCCazang\r\n","title":"Implementing DLNA/UPnP (Win7 Play To) on a mobile device","body":"<p>The PlayTo is all UPnP based. DLNA is just a layer of standardization on top of UPnP. So any UPnP device is able to talk with a DLNA device so to a Win7 machine. \nDLNA specifies 4 type of devices: DMP, DMR, DMC and DMS.\nA DMP (aka Digital Media Player) is a device, that is capable of finding and browsing remote servers (DMS=Digital Media Servers) and consume content (or pull content). PS3 is the perfect example of DMP. A DMP is not discoverable on the network, it just discovers and consumes content. Because it is not discoverable, you cannot control it with PlayTo.\nA DMR (aka Digital Media Renders) is a device that can accept commands received from the network. It is discoverable, exposes an UPnP description document and UPnP services like AVTransport and ConnectionManager or RenderingControl. A PlayTo device, is capable to find this device on a network, and it can push content to it. It can control the playback via AVTransport service and RenderingControl service.\nMany devices today are either 100% DMPs (cannot be controlled via PlayTo) or DMP-DMRs. That means they both expose the AVTransport and RenderingControl services but also have a GUI that the user can use to pull media from a server.\nA DMS (aka Digital Media Server) is a media server device. You can store media content in there and than you can consume it from other network devices. These are usually NAS devices, but they may also be mobile phones, Win7/Vista machines, etc. A DMS is discoverable on the network and exposes UPnP services as ContentDirectory service. This exposes methods as Browse and Search, which you may use to locate the content.\nA DMC device (aka Digital Media Controller) is a device that has no playback capabilities. It has only controlling capabilities, and it needs a remote DMS (to expose the content) and a remote DMR (to play the content) for completing the media experience. PlayTo is an example. There are also similar apps on Nokia N95/Nokia N78 phones or on iPhone. Twonky has a web based DMC also.</p>\n\n<p>All these devices have one thing in common: they understand and speak UPnP. They may be implemented in C+, C#, Java, they may run on Windows, Linux or Apple platform but they are all UPnP based. So all you need to do is to get familiar with UPnP standard. I would recommend downloading the papers from upnp.org and the Intel Device Spy (and other related Intel UPnP tools) and start playing with those. \nIf you want to write a DMC (or PlayTo) - which is the easiest thing to do - all you need to understand is just some basic UPnP concepts (SOAP, XML, network discovery, etc). If you want to write your app on top of Win7 platform, you may want to use the Win UPnP API to discover the devices and send commands to them. Or you can write your own API for doing that (it is not that hard). I do not know on the phone what API you may use. However, you can always go to the basic: sending SOAP messages over the wire using basic network APIs.\nFor a DMP/DMR, you will need playback capabilities, and that may depend on the platform and what codecs you have there. </p>\n\n<p>Let me know if this helps a bit to get you started.\nThx\nCCazang</p>\n"}],"owner":{"account_id":50535,"reputation":35297,"user_id":150771,"accept_rate":83,"display_name":"Chris Thompson"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7510,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":1705041,"answer_count":1,"score":8,"last_activity_date":1679584461,"creation_date":1257438845,"question_id":1681817,"body_markdown":"For a semester project, I had the idea to implement Windows 7&#39;s Play to infrastructure to either use a phone as the end point (the player) or to stream stuff from the phone to a Windows 7 machine.  Does anybody have experience working with this API?  Is this do able over a couple of weeks (prototype, just proof of concept, not end-user ready) or is it too much for a project of this scope?  Note: I&#39;m not looking for code samples, just an assessment of the feasibility of this project.  If you have any documentation from MS or otherwise that would be awesome although not the crux of the question.\r\n\r\n**Edit:**  I discovered that the Windows 7 Play-to functionality is based on DLNA and any device supporting DLNA (I think) can be used as a destination for the Play-To context menu.  However, I&#39;m having a really difficult time finding any sort of documentation on DLNA.  I&#39;m wondering if you need to be a member of the DNLA to actually get access to the spec?  Alternatively, I know DLNA is built on UPnP, it wouldn&#39;t exactly do what I want, but it would be a step in the right direction, so, to revise my question **does anybody know of any open-source C/C++ or Java (preferable) libraries that would help me implement UPnP or DLNA?**\r\n\r\nThanks!\r\nChris","title":"Implementing DLNA/UPnP (Win7 Play To) on a mobile device","body":"<p>For a semester project, I had the idea to implement Windows 7's Play to infrastructure to either use a phone as the end point (the player) or to stream stuff from the phone to a Windows 7 machine.  Does anybody have experience working with this API?  Is this do able over a couple of weeks (prototype, just proof of concept, not end-user ready) or is it too much for a project of this scope?  Note: I'm not looking for code samples, just an assessment of the feasibility of this project.  If you have any documentation from MS or otherwise that would be awesome although not the crux of the question.</p>\n\n<p><strong>Edit:</strong>  I discovered that the Windows 7 Play-to functionality is based on DLNA and any device supporting DLNA (I think) can be used as a destination for the Play-To context menu.  However, I'm having a really difficult time finding any sort of documentation on DLNA.  I'm wondering if you need to be a member of the DNLA to actually get access to the spec?  Alternatively, I know DLNA is built on UPnP, it wouldn't exactly do what I want, but it would be a step in the right direction, so, to revise my question <strong>does anybody know of any open-source C/C++ or Java (preferable) libraries that would help me implement UPnP or DLNA?</strong></p>\n\n<p>Thanks!\nChris</p>\n"},{"tags":["java","algorithm","time-complexity","big-o"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":2,"creation_date":1679575007,"post_id":75822998,"comment_id":133748010,"body_markdown":"well other than generating more code, it is still O(n)","body":"well other than generating more code, it is still O(n)"},{"owner":{"account_id":11396335,"reputation":60,"user_id":19646829,"display_name":"ayseguldmrblk"},"score":0,"creation_date":1679575267,"post_id":75822998,"comment_id":133748086,"body_markdown":"@OldProgrammer Then the only difference is writability and readability I guess, thank you.","body":"@OldProgrammer Then the only difference is writability and readability I guess, thank you."},{"owner":{"account_id":2698782,"reputation":38625,"user_id":2330053,"display_name":"Idle_Mind"},"score":1,"creation_date":1679575338,"post_id":75822998,"comment_id":133748115,"body_markdown":"They&#39;re both LINEAR TIME / O(n), meaning the length of time required to complete the algorithm will be DIRECTLY PROPORTIONAL to the amount of input. But the second version is a COMPLETE WASTE OF TIME and will get you FIRED. See the difference?  ;)","body":"They&#39;re both LINEAR TIME / O(n), meaning the length of time required to complete the algorithm will be DIRECTLY PROPORTIONAL to the amount of input. But the second version is a COMPLETE WASTE OF TIME and will get you FIRED. See the difference?  ;)"},{"owner":{"account_id":14620231,"reputation":4320,"user_id":10559142,"display_name":"Berthur"},"score":5,"creation_date":1679575575,"post_id":75822998,"comment_id":133748182,"body_markdown":"Technically, the second option requires a new program for each input length. So you can&#39;t really say that the time complexity of the PROGRAM is *Θ(n)*. It would be *O(1)*, because for any such program, the time doesn&#39;t actually depend on the size of your input anymore. It will just execute as many times as you have that instruction in your code, a constant time. However, the time complexity of the PROBLEM is still *O(n)*. And if, hypothetically, those 3 dots had been correct java syntax that actually produces *n* executions of your print, then it would be *O(n)*.","body":"Technically, the second option requires a new program for each input length. So you can&#39;t really say that the time complexity of the PROGRAM is <i>Θ(n)</i>. It would be <i>O(1)</i>, because for any such program, the time doesn&#39;t actually depend on the size of your input anymore. It will just execute as many times as you have that instruction in your code, a constant time. However, the time complexity of the PROBLEM is still <i>O(n)</i>. And if, hypothetically, those 3 dots had been correct java syntax that actually produces <i>n</i> executions of your print, then it would be <i>O(n)</i>."}],"answers":[{"tags":[],"owner":{"account_id":14620231,"reputation":4320,"user_id":10559142,"display_name":"Berthur"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679579520,"creation_date":1679579520,"answer_id":75823905,"question_id":75822998,"body_markdown":"It&#39;s a philosophical question.\r\n\r\nTechnically, the second option requires a new program for each input length. So you can&#39;t really say that the time complexity of the **program** is *Θ(n)*. Instead, it would be *O(1)* because for any such program, the time doesn&#39;t actually depend on the size of your input anymore. It will just execute as many times as you have that instruction in your code: a constant number. But such programs aren&#39;t really solutions to the problem for a general array, rather to the special-case problem when the length of the array is known, and thus constant.\r\n\r\nThe time complexity of the **problem** is still *O(n)*. And if, hypothetically, those three dots had been correct Java syntax that actually produces *n* executions of your print, then it would be O(n). And you can continue this argument: You could have a program that produces your second code snippet as a separate program, and then executes it. This would also be *O(n)*.\r\n\r\nSo it boils down to how you view it. If you want to be formal, you need to define a computation model (and delve into the realm of [Turing Machines][1], [Random Access Machines][1] etc.) and ask your question in relation to that.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Random-access_machine","title":"How complexity differs from calling a function actually n times or putting inside a loop that iterates n times?","body":"<p>It's a philosophical question.</p>\n<p>Technically, the second option requires a new program for each input length. So you can't really say that the time complexity of the <strong>program</strong> is <em>Θ(n)</em>. Instead, it would be <em>O(1)</em> because for any such program, the time doesn't actually depend on the size of your input anymore. It will just execute as many times as you have that instruction in your code: a constant number. But such programs aren't really solutions to the problem for a general array, rather to the special-case problem when the length of the array is known, and thus constant.</p>\n<p>The time complexity of the <strong>problem</strong> is still <em>O(n)</em>. And if, hypothetically, those three dots had been correct Java syntax that actually produces <em>n</em> executions of your print, then it would be O(n). And you can continue this argument: You could have a program that produces your second code snippet as a separate program, and then executes it. This would also be <em>O(n)</em>.</p>\n<p>So it boils down to how you view it. If you want to be formal, you need to define a computation model (and delve into the realm of <a href=\"https://en.wikipedia.org/wiki/Random-access_machine\" rel=\"nofollow noreferrer\">Turing Machines</a>, <a href=\"https://en.wikipedia.org/wiki/Random-access_machine\" rel=\"nofollow noreferrer\">Random Access Machines</a> etc.) and ask your question in relation to that.</p>\n"}],"owner":{"account_id":11396335,"reputation":60,"user_id":19646829,"display_name":"ayseguldmrblk"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75823905,"answer_count":1,"score":2,"last_activity_date":1679584422,"creation_date":1679574474,"question_id":75822998,"body_markdown":"Let&#39;s say the function simply prints the elements of an array. I know the time complexity of the following loop version will be O(n). \r\n\r\n    static void printArray(int[] myArray)\r\n    {\r\n        for(int i = 0; i &lt; myArray.length; i++)\r\n        {\r\n            System.out.println(myArray[i]);\r\n        }\r\n    }\r\n\r\nLet&#39;s say the print statement is written for the length of the myArray, the complexity is same or not? \r\n\r\n    static void printArray(int[] myArray)\r\n    {\r\n        int i = 0;\r\n        System.out.println(myArray[i++]);\r\n        System.out.println(myArray[i++]);\r\n        System.out.println(myArray[i++]);\r\n        .\r\n        .\r\n        .\r\n        System.out.println(myArray[i++]);\r\n    }\r\n\r\nThanks in advance. ","title":"How complexity differs from calling a function actually n times or putting inside a loop that iterates n times?","body":"<p>Let's say the function simply prints the elements of an array. I know the time complexity of the following loop version will be O(n).</p>\n<pre><code>static void printArray(int[] myArray)\n{\n    for(int i = 0; i &lt; myArray.length; i++)\n    {\n        System.out.println(myArray[i]);\n    }\n}\n</code></pre>\n<p>Let's say the print statement is written for the length of the myArray, the complexity is same or not?</p>\n<pre><code>static void printArray(int[] myArray)\n{\n    int i = 0;\n    System.out.println(myArray[i++]);\n    System.out.println(myArray[i++]);\n    System.out.println(myArray[i++]);\n    .\n    .\n    .\n    System.out.println(myArray[i++]);\n}\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["java","abstract"],"comments":[{"owner":{"account_id":11683,"reputation":1438219,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1679582573,"post_id":75824394,"comment_id":133750328,"body_markdown":"Think of it from the *caller&#39;s* perspective. If the abstract class is vague about what&#39;s required, how is the caller going to know what to provide? If a concrete implementation expects two parameters, but the caller only provides one, what do you expect to happen?","body":"Think of it from the <i>caller&#39;s</i> perspective. If the abstract class is vague about what&#39;s required, how is the caller going to know what to provide? If a concrete implementation expects two parameters, but the caller only provides one, what do you expect to happen?"},{"owner":{"account_id":6748620,"reputation":3059,"user_id":5199418,"display_name":"h0r53"},"score":2,"creation_date":1679582611,"post_id":75824394,"comment_id":133750341,"body_markdown":"You shouldn&#39;t name the argument the exact same (including casing) as the Type. That will cause inevitable errors.","body":"You shouldn&#39;t name the argument the exact same (including casing) as the Type. That will cause inevitable errors."},{"owner":{"account_id":17795939,"reputation":117,"user_id":12923772,"display_name":"Paco Pinazo Guna"},"score":0,"creation_date":1679582667,"post_id":75824394,"comment_id":133750363,"body_markdown":"Maybe I am not explaning well enough. By default, that logic will be used and that argument will be used. But if the developer wants to do that method in another way. How can I let the developer define their own arguments?","body":"Maybe I am not explaning well enough. By default, that logic will be used and that argument will be used. But if the developer wants to do that method in another way. How can I let the developer define their own arguments?"},{"owner":{"account_id":6748620,"reputation":3059,"user_id":5199418,"display_name":"h0r53"},"score":1,"creation_date":1679582701,"post_id":75824394,"comment_id":133750370,"body_markdown":"Developers &quot;defining their own arguments&quot; are effectively writing new methods and not implementing the abstract method.","body":"Developers &quot;defining their own arguments&quot; are effectively writing new methods and not implementing the abstract method."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1679582745,"post_id":75824394,"comment_id":133750389,"body_markdown":"Providing a different method with the same name, but different parameters is called &quot;overloading&quot;, not &quot;overriding&quot;.","body":"Providing a different method with the same name, but different parameters is called &quot;overloading&quot;, not &quot;overriding&quot;."},{"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"score":0,"creation_date":1679582777,"post_id":75824394,"comment_id":133750400,"body_markdown":"Do all of your DTOs have a `getTotalNumberOfPages()` method?","body":"Do all of your DTOs have a <code>getTotalNumberOfPages()</code> method?"},{"owner":{"account_id":17795939,"reputation":117,"user_id":12923772,"display_name":"Paco Pinazo Guna"},"score":0,"creation_date":1679583013,"post_id":75824394,"comment_id":133750488,"body_markdown":"No, only sortDto. But maybe the developer does not need or want to use that dto, and instead want another argument.","body":"No, only sortDto. But maybe the developer does not need or want to use that dto, and instead want another argument."},{"owner":{"account_id":6748620,"reputation":3059,"user_id":5199418,"display_name":"h0r53"},"score":1,"creation_date":1679583057,"post_id":75824394,"comment_id":133750505,"body_markdown":"If the developer doesn&#39;t want or need to use that DTO, then why are they inheriting from this Abstract Class? I would reconsider your class hierarchy. If you simply need to support different types of DTOs, you could create an abstract class (or Interface) for your DTOs that the other DTOs inherit.","body":"If the developer doesn&#39;t want or need to use that DTO, then why are they inheriting from this Abstract Class? I would reconsider your class hierarchy. If you simply need to support different types of DTOs, you could create an abstract class (or Interface) for your DTOs that the other DTOs inherit."},{"owner":{"account_id":17795939,"reputation":117,"user_id":12923772,"display_name":"Paco Pinazo Guna"},"score":0,"creation_date":1679583147,"post_id":75824394,"comment_id":133750533,"body_markdown":"This is not the only method that needs to be implented, there are more. But this is the method I have the doubt.","body":"This is not the only method that needs to be implented, there are more. But this is the method I have the doubt."},{"owner":{"account_id":6748620,"reputation":3059,"user_id":5199418,"display_name":"h0r53"},"score":1,"creation_date":1679583218,"post_id":75824394,"comment_id":133750559,"body_markdown":"You&#39;re going to have to give more concrete examples of the abstract class definition and inheriting classes. Your question as-is is &quot;What if a developer doesn&#39;t want to follow the abstract method definition&quot; to which the answer is simply &quot;Then they should likely not be inheriting this abstract class in the first place.&quot;","body":"You&#39;re going to have to give more concrete examples of the abstract class definition and inheriting classes. Your question as-is is &quot;What if a developer doesn&#39;t want to follow the abstract method definition&quot; to which the answer is simply &quot;Then they should likely not be inheriting this abstract class in the first place.&quot;"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1679586414,"post_id":75824394,"comment_id":133751562,"body_markdown":"aside: don&#39;t name a method setSomething if it doesn&#39;t change anything","body":"aside: don&#39;t name a method setSomething if it doesn&#39;t change anything"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":1,"creation_date":1679586639,"post_id":75824394,"comment_id":133751628,"body_markdown":"as to your perceived problem: if developers need many variants of many  methods in its api, then the design is broken. Take a step back and think again on how to do it differently, what&#39;s really needed, what are the commonalities and the differences and then re-design along those lines.","body":"as to your perceived problem: if developers need many variants of many  methods in its api, then the design is broken. Take a step back and think again on how to do it differently, what&#39;s really needed, what are the commonalities and the differences and then re-design along those lines."}],"answers":[{"tags":[],"owner":{"account_id":25466,"reputation":36566,"user_id":65464,"accept_rate":93,"display_name":"Erich Kitzmueller"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1679584386,"creation_date":1679583898,"answer_id":75824696,"question_id":75824394,"body_markdown":"Generally speaking, there are two ways to implement what you assumedly have in mind. \r\nOne is the use of an `interface` that `SortDto` and all other classes that can be used as a parameter must implement. This interface would then be the type of the (badly named) `setExitStatus` method. Within this interface, you need a method that generalizes the `sortDto.getTotalNumberOfPages() &gt; 0` condition.\r\n\r\n    interface DtoExit {\r\n        public boolean isDatos();\r\n    }\r\n\r\nin SortDto\r\n\r\n    public class SortDto implements DtoExit {\r\n        ...\r\n        @Override\r\n        public boolean isDatos() {\r\n            return sortDto.getTotalNumberOfPages() &gt; 0;\r\n        }\r\n    }\r\n\r\nYour initial method becomes\r\n\r\n    protected String setExitStatus(DtoExit dto) {\r\n        if (dto.isDatos()) {\r\n            return &quot;DATOS&quot;;\r\n        } else {\r\n            return &quot;SINDATOS&quot;;\r\n        }\r\n    }\r\n\r\nThe other possibility is to use polymorphism and create several `setExitStatus()` methods with different parameter types.\r\n\r\n    protected String setExitStatus(SortDto sortDto) {\r\n        if (sortDto.getTotalNumberOfPages() &gt; 0) {\r\n            return &quot;DATOS&quot;;\r\n        } else {\r\n            return &quot;SINDATOS&quot;;\r\n        }\r\n    }\r\n\r\n\r\n    protected String setExitStatus(AnotherDto anotherDto) {\r\n        if (anotherDto.someCondition()) {\r\n            return &quot;DATOS&quot;;\r\n        } else {\r\n            return &quot;SINDATOS&quot;;\r\n        }\r\n    }\r\n\r\n    ...\r\n\r\n(Theoretically, there is a third approach, as you could have just one method with a very general parameter type, like `Object`, and do a lot of `instanceof` checks in the method body to find out the actual type of the parameter and handle it accordingly. I will not provide an example fo this approach as it is a dirty hack and definitely not recommendable)","title":"Override method parameters in abstract class","body":"<p>Generally speaking, there are two ways to implement what you assumedly have in mind.\nOne is the use of an <code>interface</code> that <code>SortDto</code> and all other classes that can be used as a parameter must implement. This interface would then be the type of the (badly named) <code>setExitStatus</code> method. Within this interface, you need a method that generalizes the <code>sortDto.getTotalNumberOfPages() &gt; 0</code> condition.</p>\n<pre><code>interface DtoExit {\n    public boolean isDatos();\n}\n</code></pre>\n<p>in SortDto</p>\n<pre><code>public class SortDto implements DtoExit {\n    ...\n    @Override\n    public boolean isDatos() {\n        return sortDto.getTotalNumberOfPages() &gt; 0;\n    }\n}\n</code></pre>\n<p>Your initial method becomes</p>\n<pre><code>protected String setExitStatus(DtoExit dto) {\n    if (dto.isDatos()) {\n        return &quot;DATOS&quot;;\n    } else {\n        return &quot;SINDATOS&quot;;\n    }\n}\n</code></pre>\n<p>The other possibility is to use polymorphism and create several <code>setExitStatus()</code> methods with different parameter types.</p>\n<pre><code>protected String setExitStatus(SortDto sortDto) {\n    if (sortDto.getTotalNumberOfPages() &gt; 0) {\n        return &quot;DATOS&quot;;\n    } else {\n        return &quot;SINDATOS&quot;;\n    }\n}\n\n\nprotected String setExitStatus(AnotherDto anotherDto) {\n    if (anotherDto.someCondition()) {\n        return &quot;DATOS&quot;;\n    } else {\n        return &quot;SINDATOS&quot;;\n    }\n}\n\n...\n</code></pre>\n<p>(Theoretically, there is a third approach, as you could have just one method with a very general parameter type, like <code>Object</code>, and do a lot of <code>instanceof</code> checks in the method body to find out the actual type of the parameter and handle it accordingly. I will not provide an example fo this approach as it is a dirty hack and definitely not recommendable)</p>\n"}],"owner":{"account_id":17795939,"reputation":117,"user_id":12923772,"display_name":"Paco Pinazo Guna"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75824696,"answer_count":1,"score":0,"last_activity_date":1679584386,"creation_date":1679582308,"question_id":75824394,"body_markdown":"I am creating an abstract class, that will be implemented by some projects.\r\n\r\nThese projects, will implement that class, and their methods also.\r\n\r\n    protected String setExitStatus(SortDto sortDto) {\r\n        if (sortDto.getTotalNumberOfPages() &gt; 0) {\r\n            return &quot;DATOS&quot;;\r\n        } else {\r\n            return &quot;SINDATOS&quot;;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\nAs you can see, this method by defect has a SortDto as a parameter.\r\n\r\nWhat if, the developer that wants to use that method, but don&#39;t want to (or does not have) to supply a SortDto, and instead wants to supply another dto? or another pair of dtos?     \r\n\r\nIs there any way I can define this method, that by default, wants a SortDto, but it can be override with another argument?                                                    ","title":"Override method parameters in abstract class","body":"<p>I am creating an abstract class, that will be implemented by some projects.</p>\n<p>These projects, will implement that class, and their methods also.</p>\n<pre><code>protected String setExitStatus(SortDto sortDto) {\n    if (sortDto.getTotalNumberOfPages() &gt; 0) {\n        return &quot;DATOS&quot;;\n    } else {\n        return &quot;SINDATOS&quot;;\n    }\n}\n</code></pre>\n<p>As you can see, this method by defect has a SortDto as a parameter.</p>\n<p>What if, the developer that wants to use that method, but don't want to (or does not have) to supply a SortDto, and instead wants to supply another dto? or another pair of dtos?</p>\n<p>Is there any way I can define this method, that by default, wants a SortDto, but it can be override with another argument?</p>\n"},{"tags":["java","spring-boot","logging","slf4j"],"answers":[{"tags":[],"owner":{"account_id":193270,"reputation":462,"user_id":434903,"display_name":"Radio Rogal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679584184,"creation_date":1679584184,"answer_id":75824744,"question_id":75797650,"body_markdown":"Yeah, you can use **MDC**, see [Baeldung&#39;s article][1].\r\n\r\nNot all `slf4j`&#39;s binder/loggers support this feature. As far as I know `logback` one who supports it =&gt; [Chapter 8: Mapped Diagnostic Context][2]\r\n\r\nIf you want to suppress a class name tune a [custom layout][3].\r\n\r\nTo get JSON output try to use [`logback`&#39;s JSON appender][4].\r\n\r\n\r\n  [1]: https://www.baeldung.com/mdc-in-log4j-2-logback\r\n  [2]: https://logback.qos.ch/manual/mdc.html\r\n  [3]: https://logback.qos.ch/manual/layouts.html\r\n  [4]: https://www.baeldung.com/java-log-json-output","title":"Append a constant string to all the Slf4j logs in particular classes","body":"<p>Yeah, you can use <strong>MDC</strong>, see <a href=\"https://www.baeldung.com/mdc-in-log4j-2-logback\" rel=\"nofollow noreferrer\">Baeldung's article</a>.</p>\n<p>Not all <code>slf4j</code>'s binder/loggers support this feature. As far as I know <code>logback</code> one who supports it =&gt; <a href=\"https://logback.qos.ch/manual/mdc.html\" rel=\"nofollow noreferrer\">Chapter 8: Mapped Diagnostic Context</a></p>\n<p>If you want to suppress a class name tune a <a href=\"https://logback.qos.ch/manual/layouts.html\" rel=\"nofollow noreferrer\">custom layout</a>.</p>\n<p>To get JSON output try to use <a href=\"https://www.baeldung.com/java-log-json-output\" rel=\"nofollow noreferrer\"><code>logback</code>'s JSON appender</a>.</p>\n"}],"owner":{"account_id":13943714,"reputation":149,"user_id":10068935,"display_name":"Muhammed Thabjeel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679584184,"creation_date":1679377166,"question_id":75797650,"body_markdown":"I have few classes that i use for my spring batch job execution like one below. I want to append a constant string SPRING_BATCH_JOB to the names of loggers of all these classes so that it will make my log filtering easier. I tried passing topic to  @Slf4j annotation (`@Slf4j(topic = &quot;SPRING_BATCH_LOG&quot;)`\r\n). It will just print this constant literal and will not print the class name. That is not exactly what i want to achieve. \r\n\r\nFor an instance, I want to print the log statement         `log.info(&quot;Creating a retry job execution&quot;)` as `{&quot;@timestamp&quot;:&quot;2023-03-21T05:34:24.345+00:00&quot;,&quot;message&quot;:&quot;Creating a retry job execution&quot;,&quot;logger&quot;:&quot;SPRING_BATCH_LOG : c.v.r.r.c. RetryOb&quot;,&quot;thread&quot;:&quot;http-nio-8086-exec-2&quot;,&quot;level&quot;:&quot;INFO&quot;}`.\r\n\r\nIs there any way to achieve this ???\r\n\r\n\r\n    @Slf4j\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    public class RetryOb {\r\n    \r\n      private final RetryJobService retryJobService;\r\n    \r\n      public void retry(retryRequest retryRequest) {\r\n        log.info(&quot;Creating a retry Initiate job execution&quot;);\r\n        retryService.startJob(retryRequest);\r\n      }\r\n    }","title":"Append a constant string to all the Slf4j logs in particular classes","body":"<p>I have few classes that i use for my spring batch job execution like one below. I want to append a constant string SPRING_BATCH_JOB to the names of loggers of all these classes so that it will make my log filtering easier. I tried passing topic to  @Slf4j annotation (<code>@Slf4j(topic = &quot;SPRING_BATCH_LOG&quot;)</code>\n). It will just print this constant literal and will not print the class name. That is not exactly what i want to achieve.</p>\n<p>For an instance, I want to print the log statement         <code>log.info(&quot;Creating a retry job execution&quot;)</code> as <code>{&quot;@timestamp&quot;:&quot;2023-03-21T05:34:24.345+00:00&quot;,&quot;message&quot;:&quot;Creating a retry job execution&quot;,&quot;logger&quot;:&quot;SPRING_BATCH_LOG : c.v.r.r.c. RetryOb&quot;,&quot;thread&quot;:&quot;http-nio-8086-exec-2&quot;,&quot;level&quot;:&quot;INFO&quot;}</code>.</p>\n<p>Is there any way to achieve this ???</p>\n<pre><code>@Slf4j\n@Service\n@RequiredArgsConstructor\npublic class RetryOb {\n\n  private final RetryJobService retryJobService;\n\n  public void retry(retryRequest retryRequest) {\n    log.info(&quot;Creating a retry Initiate job execution&quot;);\n    retryService.startJob(retryRequest);\n  }\n}\n</code></pre>\n"},{"tags":["java","arraylist","selenium-chromedriver","extentreports"],"owner":{"account_id":4113062,"reputation":435,"user_id":3375417,"accept_rate":0,"display_name":"wheelerlc64"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679583800,"creation_date":1679583800,"question_id":75824680,"body_markdown":"I am looking to essentially create a test in Extent reports that will have a list of Strings printed out, and each String in the list should have a newline separator.  This means that in Extent report it should show all the strings printed out in a new line.  How can this be done?  I could not stream the list and print out since it would return void, so I put it into a StringBuilder class and attempted to use System.lineSeparator(), but it didn&#39;t not do any good once I added the SB.toString() method in the Extent test MarkupHelper.createLabel() method.\r\n\r\nHow can this be achieved?  Below is the code block I have along with the snapshot of the extent report showing all the string elements in the list in a long single line instead of separated appropriately:\r\n\r\n```\r\ntry {\r\n\tExecuteStep es = new ExecuteStep(elementDao);\r\n\tList&lt;Locator&gt; allLocators = elementDao.getAllPossibleLocators();\r\n\tList&lt;WebElement&gt; allElements = es.getSuitableWebElements(allLocators);\r\n\tfor (WebElement element : allElements) {\r\n\t\tif (!element.isDisplayed()) {\r\n\t\t\tJavascriptUtil.scrollIntoView(element, driver);\r\n\t\t}\r\n\t\tif (element.getText().contains(&quot;Week&quot;) &amp;&amp; element.getText().contains(&quot;-&quot;)) {\r\n\t\t\tAssert.assertTrue(element.getText().contains(&quot;Week&quot;) &amp;&amp; element.getText().contains(&quot;-&quot;));\r\n\t\t\tpassList.add(&quot;Fiscal Week and Date = &quot; + element.getText() + System.lineSeparator());\r\n\t\t} else {\r\n\t\t\tAssert.assertTrue(!(element.getText().contains(&quot;Week&quot;) &amp;&amp; element.getText().contains(&quot;-&quot;)));\r\n\t\t\tfailList.add(&quot;Fiscal Week and Date = &quot; + element.getText() + System.lineSeparator());\r\n\t\t}\r\n\t}\r\n\tStringBuilder sbPass = new StringBuilder();\r\n\tStringBuilder sbFail = new StringBuilder();\r\n\tfor (String passElementString : passList)\r\n\t{\r\n\t\tsbPass.append(passElementString);\r\n\t}\r\n\tfor (String failElementString : failList)\r\n\t{\r\n\t\tsbFail.append(failElementString);\r\n\t}\r\n\tif (passList.size() &gt; 0) {\r\n\t\tExtentCustom.eachTest.pass(MarkupHelper.createLabel(sbPass.toString(), ExtentColor.GREEN));\r\n\t}\r\n\tif (failList.size() &gt; 0) {\r\n\t\tExtentCustom.eachTest.fail(MarkupHelper.createLabel(sbFail.toString(), ExtentColor.RED));\r\n\t}\r\n} catch (Throwable e) {\r\n\tExtentCustom.eachTest.fail(MarkupHelper.createLabel(e.toString(), ExtentColor.RED));\r\n}\r\n```\r\n\r\nExtent report showing all on one line:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nPlease let me know for any suggestions or if there is a simplified way to do this as well.  Thank you!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XFL86.png","title":"Extent Reports createLabel print out List of Strings with line separator","body":"<p>I am looking to essentially create a test in Extent reports that will have a list of Strings printed out, and each String in the list should have a newline separator.  This means that in Extent report it should show all the strings printed out in a new line.  How can this be done?  I could not stream the list and print out since it would return void, so I put it into a StringBuilder class and attempted to use System.lineSeparator(), but it didn't not do any good once I added the SB.toString() method in the Extent test MarkupHelper.createLabel() method.</p>\n<p>How can this be achieved?  Below is the code block I have along with the snapshot of the extent report showing all the string elements in the list in a long single line instead of separated appropriately:</p>\n<pre><code>try {\n    ExecuteStep es = new ExecuteStep(elementDao);\n    List&lt;Locator&gt; allLocators = elementDao.getAllPossibleLocators();\n    List&lt;WebElement&gt; allElements = es.getSuitableWebElements(allLocators);\n    for (WebElement element : allElements) {\n        if (!element.isDisplayed()) {\n            JavascriptUtil.scrollIntoView(element, driver);\n        }\n        if (element.getText().contains(&quot;Week&quot;) &amp;&amp; element.getText().contains(&quot;-&quot;)) {\n            Assert.assertTrue(element.getText().contains(&quot;Week&quot;) &amp;&amp; element.getText().contains(&quot;-&quot;));\n            passList.add(&quot;Fiscal Week and Date = &quot; + element.getText() + System.lineSeparator());\n        } else {\n            Assert.assertTrue(!(element.getText().contains(&quot;Week&quot;) &amp;&amp; element.getText().contains(&quot;-&quot;)));\n            failList.add(&quot;Fiscal Week and Date = &quot; + element.getText() + System.lineSeparator());\n        }\n    }\n    StringBuilder sbPass = new StringBuilder();\n    StringBuilder sbFail = new StringBuilder();\n    for (String passElementString : passList)\n    {\n        sbPass.append(passElementString);\n    }\n    for (String failElementString : failList)\n    {\n        sbFail.append(failElementString);\n    }\n    if (passList.size() &gt; 0) {\n        ExtentCustom.eachTest.pass(MarkupHelper.createLabel(sbPass.toString(), ExtentColor.GREEN));\n    }\n    if (failList.size() &gt; 0) {\n        ExtentCustom.eachTest.fail(MarkupHelper.createLabel(sbFail.toString(), ExtentColor.RED));\n    }\n} catch (Throwable e) {\n    ExtentCustom.eachTest.fail(MarkupHelper.createLabel(e.toString(), ExtentColor.RED));\n}\n</code></pre>\n<p>Extent report showing all on one line:</p>\n<p><a href=\"https://i.stack.imgur.com/XFL86.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XFL86.png\" alt=\"enter image description here\" /></a></p>\n<p>Please let me know for any suggestions or if there is a simplified way to do this as well.  Thank you!</p>\n"},{"tags":["java","sql","database","postgresql","function"],"comments":[{"owner":{"account_id":5381866,"reputation":12874,"user_id":4286884,"accept_rate":50,"display_name":"SelVazi"},"score":0,"creation_date":1679578742,"post_id":75823668,"comment_id":133749042,"body_markdown":"Can you update your question and add some simple data and the expected output","body":"Can you update your question and add some simple data and the expected output"},{"owner":{"account_id":27290286,"reputation":11,"user_id":20808810,"display_name":"Melo"},"score":0,"creation_date":1679582582,"post_id":75823668,"comment_id":133750330,"body_markdown":"@SelVazi•  \nI updated the question, can you tell me if it is possible","body":"@SelVazi•   I updated the question, can you tell me if it is possible"}],"answers":[{"comments":[{"owner":{"account_id":27290286,"reputation":11,"user_id":20808810,"display_name":"Melo"},"score":0,"creation_date":1679592696,"post_id":75824072,"comment_id":133753344,"body_markdown":"but in this case if the second array has elements that are not in the first, those elements are added to the first one as well. remove the same and add the different","body":"but in this case if the second array has elements that are not in the first, those elements are added to the first one as well. remove the same and add the different"},{"owner":{"account_id":5381866,"reputation":12874,"user_id":4286884,"accept_rate":50,"display_name":"SelVazi"},"score":0,"creation_date":1679610944,"post_id":75824072,"comment_id":133757294,"body_markdown":"Your question is to remove elements of array from an other array, if those elements not exists they will not be removed right ?","body":"Your question is to remove elements of array from an other array, if those elements not exists they will not be removed right ?"}],"tags":[],"owner":{"account_id":5381866,"reputation":12874,"user_id":4286884,"accept_rate":50,"display_name":"SelVazi"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679583599,"creation_date":1679580417,"answer_id":75824072,"question_id":75823668,"body_markdown":"You can do it using [jsonb_set][1] as follows :\r\n\r\nTo remove one single element from the array :\r\n\r\n    update mytable\r\n    set fields = \r\n        jsonb_set(fields, &#39;{23}&#39;, (fields-&gt;&#39;23&#39;) - &#39;aaa&#39;);\r\n\r\nThis is to remove an array from an other array :\r\n\r\n    update mytable\r\n    set fields = \r\n        jsonb_set(fields, &#39;{23}&#39;, (fields-&gt;&#39;23&#39;) - &#39;{&quot;aaa&quot;, &quot;jjj&quot;, &quot;ddd&quot;}&#39;::text[]);\r\n\r\n[Demo here][2]\r\n\r\n\r\n  [1]: https://www.postgresql.org/docs/current/functions-json.html\r\n  [2]: https://dbfiddle.uk/nqW3GDJ8","title":"How to remove elements from an array in Jsonb. Using Postgres","body":"<p>You can do it using <a href=\"https://www.postgresql.org/docs/current/functions-json.html\" rel=\"nofollow noreferrer\">jsonb_set</a> as follows :</p>\n<p>To remove one single element from the array :</p>\n<pre><code>update mytable\nset fields = \n    jsonb_set(fields, '{23}', (fields-&gt;'23') - 'aaa');\n</code></pre>\n<p>This is to remove an array from an other array :</p>\n<pre><code>update mytable\nset fields = \n    jsonb_set(fields, '{23}', (fields-&gt;'23') - '{&quot;aaa&quot;, &quot;jjj&quot;, &quot;ddd&quot;}'::text[]);\n</code></pre>\n<p><a href=\"https://dbfiddle.uk/nqW3GDJ8\" rel=\"nofollow noreferrer\">Demo here</a></p>\n"}],"owner":{"account_id":27290286,"reputation":11,"user_id":20808810,"display_name":"Melo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":75824072,"answer_count":1,"score":-1,"last_activity_date":1679583599,"creation_date":1679578296,"question_id":75823668,"body_markdown":"I used the `( fields -&gt; ?1 ) - string_to_array( ?2, &#39;,&#39; )` function. To remove the elements that are in the array, however, the function adds to jsonb those that do not contain in the first array. I would only like to remove those that are in the second array, and not also add those that do not contain\r\n\r\nAdded the elements that were not equal\r\n\r\nThis is my function:\r\n\r\n    ( fields -&gt; ?1 ) - string_to_array( ?2, &#39;,&#39; )\r\n\r\nmy jsonb field is something like:\r\n    \r\n    {\r\n    &quot;23&quot;: [ &quot;aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot; ]\r\n    }\r\n    \r\nwith what I did if I passed the function with this second array:\r\n\r\n     [ &quot;aaa&quot;, &quot;jjj&quot;, &quot;ddd&quot; ] \r\n\r\nReturning:\r\n\r\n    {\r\n    &quot;23&quot;: [ &quot;bbb&quot;, &quot;ccc&quot;, &quot;ddd&quot;, &quot;jjj ]\r\n    }\r\n\r\nExpected:\r\n\r\n     {\r\n        &quot;23&quot;: [ &quot;bbb&quot;, &quot;ccc&quot; ]\r\n     }\r\n\r\nmy expected return is just remove:\r\n\r\n    `aaa`\r\n\r\nremove the same fields and not add the different ones\r\n\r\n    update mytable\r\n    set fields = \r\n        jsonb_set(fields, &#39;{23}&#39;, (fields-&gt;&#39;23&#39;) - [ &#39;aaa&#39;, &#39;bbb&#39; ] );\r\n\r\n\r\n\r\n","title":"How to remove elements from an array in Jsonb. Using Postgres","body":"<p>I used the <code>( fields -&gt; ?1 ) - string_to_array( ?2, ',' )</code> function. To remove the elements that are in the array, however, the function adds to jsonb those that do not contain in the first array. I would only like to remove those that are in the second array, and not also add those that do not contain</p>\n<p>Added the elements that were not equal</p>\n<p>This is my function:</p>\n<pre><code>( fields -&gt; ?1 ) - string_to_array( ?2, ',' )\n</code></pre>\n<p>my jsonb field is something like:</p>\n<pre><code>{\n&quot;23&quot;: [ &quot;aaa&quot;, &quot;bbb&quot;, &quot;ccc&quot; ]\n}\n</code></pre>\n<p>with what I did if I passed the function with this second array:</p>\n<pre><code> [ &quot;aaa&quot;, &quot;jjj&quot;, &quot;ddd&quot; ] \n</code></pre>\n<p>Returning:</p>\n<pre><code>{\n&quot;23&quot;: [ &quot;bbb&quot;, &quot;ccc&quot;, &quot;ddd&quot;, &quot;jjj ]\n}\n</code></pre>\n<p>Expected:</p>\n<pre><code> {\n    &quot;23&quot;: [ &quot;bbb&quot;, &quot;ccc&quot; ]\n }\n</code></pre>\n<p>my expected return is just remove:</p>\n<pre><code>`aaa`\n</code></pre>\n<p>remove the same fields and not add the different ones</p>\n<pre><code>update mytable\nset fields = \n    jsonb_set(fields, '{23}', (fields-&gt;'23') - [ 'aaa', 'bbb' ] );\n</code></pre>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1679580873,"post_id":75824125,"comment_id":133749743,"body_markdown":"You&#39;re inserting control codes inside other control codes.","body":"You&#39;re inserting control codes inside other control codes."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1679581496,"post_id":75824125,"comment_id":133749937,"body_markdown":"Think about what happens to `word`. After the 1st iteration the content would e `&quot;\\033[0;97;41mu\\033[0mngabunga&quot;`. Now you advance to index 1, i.e. the 2nd character. What&#39;s that character in `word` now? (Hint: it should be `3`). You probably want to use a separate string or even a `StringBuilder` and _append_ the results of each iteration to it (i.e. the character and the color control sequence). - However, you seem to always set the same color so why not insert the control sequence just once and include the first 7 characters in between?","body":"Think about what happens to <code>word</code>. After the 1st iteration the content would e <code>&quot;\\033[0;97;41mu\\033[0mngabunga&quot;</code>. Now you advance to index 1, i.e. the 2nd character. What&#39;s that character in <code>word</code> now? (Hint: it should be <code>3</code>). You probably want to use a separate string or even a <code>StringBuilder</code> and <i>append</i> the results of each iteration to it (i.e. the character and the color control sequence). - However, you seem to always set the same color so why not insert the control sequence just once and include the first 7 characters in between?"}],"answers":[{"tags":[],"owner":{"account_id":23067373,"reputation":640,"user_id":17181638,"display_name":"3Fish"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679582404,"creation_date":1679582404,"answer_id":75824411,"question_id":75824125,"body_markdown":"You should not change the string that is also the input for your for-loop. Moreover, control codes like this can be wrapped around the whole String you want to change.\r\n\r\nIf you intend to make the word &quot;ungabunga&quot; red, just insert the control statement for red in front and the reset statement at the end.\r\n\r\n``` java\r\nString word = &quot;ungabunga&quot;;\r\nword = &quot;\\033[0;97;41m&quot; + word + &quot;\\033[0m&quot;;\r\nSystem.out.println(word);\r\n``` \r\n\r\nOr if you want to highlight just a specific part of the text:\r\n``` java\r\nString word = &quot;ungabunga&quot;;\r\nint from = 1;\r\nint to = 7;\r\nword = word.substring(0,from) + &quot;\\033[0;97;41m&quot; + word.substring(from,to) + &quot;\\033[0m&quot; + word.substring(to);\r\nSystem.out.println(word);\r\n```","title":"How to properly change letter color using a for-loop in Java","body":"<p>You should not change the string that is also the input for your for-loop. Moreover, control codes like this can be wrapped around the whole String you want to change.</p>\n<p>If you intend to make the word &quot;ungabunga&quot; red, just insert the control statement for red in front and the reset statement at the end.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String word = &quot;ungabunga&quot;;\nword = &quot;\\033[0;97;41m&quot; + word + &quot;\\033[0m&quot;;\nSystem.out.println(word);\n</code></pre>\n<p>Or if you want to highlight just a specific part of the text:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String word = &quot;ungabunga&quot;;\nint from = 1;\nint to = 7;\nword = word.substring(0,from) + &quot;\\033[0;97;41m&quot; + word.substring(from,to) + &quot;\\033[0m&quot; + word.substring(to);\nSystem.out.println(word);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15650323,"reputation":835,"user_id":11291844,"display_name":"happy songs"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679583349,"creation_date":1679582631,"answer_id":75824457,"question_id":75824125,"body_markdown":"You were replacing your initial String `word` each iteration. You can use another String, `coloredWord` for instance, that will be used to display the word with a red background for *i-th* letter:\r\n\r\n```\r\npublic static void main(String... args) {\r\n        String word = &quot;ungabunga&quot;;\r\n        for (int i = 0; i &lt;= 8; i++){\r\n            String coloredWord = word.substring(0,i) + &quot;\\u001B[41m&quot; + word.charAt(i) + &quot;\\033[0m&quot; + word.substring(i+1);\r\n            System.out.println(coloredWord);\r\n        }\r\n    }\r\n```\r\n\r\nThere&#39;s no need to loop over each letter if you want the word to have a red background entirely:\r\n```\r\nSystem.out.println(&quot;\\u001B[41mungabunga\\033[0m&quot;);\r\n```\r\n\r\n","title":"How to properly change letter color using a for-loop in Java","body":"<p>You were replacing your initial String <code>word</code> each iteration. You can use another String, <code>coloredWord</code> for instance, that will be used to display the word with a red background for <em>i-th</em> letter:</p>\n<pre><code>public static void main(String... args) {\n        String word = &quot;ungabunga&quot;;\n        for (int i = 0; i &lt;= 8; i++){\n            String coloredWord = word.substring(0,i) + &quot;\\u001B[41m&quot; + word.charAt(i) + &quot;\\033[0m&quot; + word.substring(i+1);\n            System.out.println(coloredWord);\n        }\n    }\n</code></pre>\n<p>There's no need to loop over each letter if you want the word to have a red background entirely:</p>\n<pre><code>System.out.println(&quot;\\u001B[41mungabunga\\033[0m&quot;);\n</code></pre>\n"}],"owner":{"account_id":24849598,"reputation":1,"user_id":18726697,"display_name":"wall-e"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":2,"score":-3,"last_activity_date":1679583349,"creation_date":1679580680,"question_id":75824125,"body_markdown":"I used `substring` and `charAt` to add a colored background:\r\n```\r\nString word = &quot;ungabunga&quot;;\r\nfor (int i = 0; i &lt;= 7; i++){\r\n word = word.substring(0,i) + &quot;\\033[0;97;41m&quot; + word.charAt(i) + &quot;\\033[0m&quot; + word.substring(i+1);\r\n}\r\nSystem.out.println(word);\r\n```\r\nThis outputs\r\n```none\r\n[0;97;41m[0;97;41m[0;97;41m[0;97;41m[0;97;41m[0;97;41m[0;97;41mungabunga \r\n```\r\nwith only the first bracket colored red instead of ungabunga colored entirely in red.","title":"How to properly change letter color using a for-loop in Java","body":"<p>I used <code>substring</code> and <code>charAt</code> to add a colored background:</p>\n<pre><code>String word = &quot;ungabunga&quot;;\nfor (int i = 0; i &lt;= 7; i++){\n word = word.substring(0,i) + &quot;\\033[0;97;41m&quot; + word.charAt(i) + &quot;\\033[0m&quot; + word.substring(i+1);\n}\nSystem.out.println(word);\n</code></pre>\n<p>This outputs</p>\n<pre class=\"lang-none prettyprint-override\"><code>[0;97;41m[0;97;41m[0;97;41m[0;97;41m[0;97;41m[0;97;41m[0;97;41mungabunga \n</code></pre>\n<p>with only the first bracket colored red instead of ungabunga colored entirely in red.</p>\n"},{"tags":["java","angular","spring","spring-boot","cors"],"answers":[{"comments":[{"owner":{"account_id":23564131,"reputation":27,"user_id":17605107,"display_name":"Don Fleym"},"score":0,"creation_date":1679583158,"post_id":75824488,"comment_id":133750537,"body_markdown":"I heard using this configuration while using spring security will be neglected by the spring security, also I already tried it and nothing changes.","body":"I heard using this configuration while using spring security will be neglected by the spring security, also I already tried it and nothing changes."},{"owner":{"account_id":23564131,"reputation":27,"user_id":17605107,"display_name":"Don Fleym"},"score":0,"creation_date":1679583235,"post_id":75824488,"comment_id":133750567,"body_markdown":"also even when i add the @CrossOrigin to the controller nothing changes i keep recieving the same message","body":"also even when i add the @CrossOrigin to the controller nothing changes i keep recieving the same message"},{"owner":{"account_id":23699598,"reputation":66,"user_id":17722925,"display_name":"Предраг Дишленковиќ"},"score":0,"creation_date":1679586393,"post_id":75824488,"comment_id":133751551,"body_markdown":"delete the .cors().configurationSource(corsConfigurationSource)","body":"delete the .cors().configurationSource(corsConfigurationSource)"}],"tags":[],"owner":{"account_id":23699598,"reputation":66,"user_id":17722925,"display_name":"Предраг Дишленковиќ"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679582770,"creation_date":1679582770,"answer_id":75824488,"question_id":75824402,"body_markdown":"Add the **@CrossOrigin** annotaion on **top of the REST controller class**.\r\n\r\nNote: This will enable you to communicate your BE from anywhere, if there is a precise domain that should be handled then you should try with this:\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class WebConfig extends WebMvcConfigurerAdapter {\r\n        @Override\r\n        public void addCorsMappings(CorsRegistry registry) {\r\n            registry.addMapping(&quot;/api/**&quot;)\r\n                .allowedOrigins(&quot;http://somedomain.com&quot;)\r\n                .allowedMethods(&quot;PUT&quot;, &quot;DELETE&quot;, &quot;GET&quot;);\r\n        }\r\n    }","title":"I have problem with CORS with SpringBoot and angular","body":"<p>Add the <strong>@CrossOrigin</strong> annotaion on <strong>top of the REST controller class</strong>.</p>\n<p>Note: This will enable you to communicate your BE from anywhere, if there is a precise domain that should be handled then you should try with this:</p>\n<pre><code>@Configuration\n@EnableWebMvc\npublic class WebConfig extends WebMvcConfigurerAdapter {\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/api/**&quot;)\n            .allowedOrigins(&quot;http://somedomain.com&quot;)\n            .allowedMethods(&quot;PUT&quot;, &quot;DELETE&quot;, &quot;GET&quot;);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23564131,"reputation":27,"user_id":17605107,"display_name":"Don Fleym"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":242,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75824488,"answer_count":1,"score":0,"last_activity_date":1679582770,"creation_date":1679582349,"question_id":75824402,"body_markdown":"Access to XMLHttpRequest at &#39;http://localhost:8080/api/v1/public/auth/signup&#39; from origin &#39;http://localhost:4200&#39; has been blocked by CORS policy: Response to preflight request doesn&#39;t pass access control check: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n\r\nthis is the message i got when i try to interact with my backend application, i dont know why because I&#39;m literally setting up everything that i know to resolve the CORS problem but nothing seems to work here is my settings.\r\n\r\n\r\n\r\n\r\n\r\n    `@Bean\r\n        public DefaultSecurityFilterChain securityWebFilterChain(HttpSecurity http) throws Exception {\r\n            return http\r\n                    .csrf()\r\n                    .disable()\r\n                    .cors().configurationSource(corsConfigurationSource).and()\r\n                    .authorizeHttpRequests()\r\n                    .requestMatchers(&quot;/api/v1/public/**&quot;)\r\n                    .permitAll()\r\n                    .anyRequest()\r\n                    .authenticated()\r\n                    .and()\r\n                    .sessionManagement()\r\n                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\r\n                    .and()\r\n                    .apply(securityJwtConfigurer)\r\n                    .and()\r\n                    .formLogin().disable()\r\n                    .build();\r\n        }\r\n    `\r\n\r\n\r\n\r\n\r\nhere is my bean of the cors \r\n\r\n\r\n\r\n\r\n    `\r\n    @Configuration\r\n    public class CorsConfig {\r\n        @Bean\r\n        public CorsConfigurationSource corsConfigurationSource() {\r\n            CorsConfiguration configuration = new CorsConfiguration();\r\n            configuration.setAllowedOrigins(List.of(&quot;http://localhost:4200&quot;));\r\n            configuration.setAllowedMethods(List.of(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;));\r\n            configuration.setAllowedHeaders(List.of(&quot;Authorization&quot;));\r\n            UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\r\n            source.registerCorsConfiguration(&quot;/**&quot;, configuration);\r\n            return source;\r\n        }\r\n    }`","title":"I have problem with CORS with SpringBoot and angular","body":"<p>Access to XMLHttpRequest at 'http://localhost:8080/api/v1/public/auth/signup' from origin 'http://localhost:4200' has been blocked by CORS policy: Response to preflight request doesn't pass access control check: No 'Access-Control-Allow-Origin' header is present on the requested resource.</p>\n<p>this is the message i got when i try to interact with my backend application, i dont know why because I'm literally setting up everything that i know to resolve the CORS problem but nothing seems to work here is my settings.</p>\n<pre><code>`@Bean\n    public DefaultSecurityFilterChain securityWebFilterChain(HttpSecurity http) throws Exception {\n        return http\n                .csrf()\n                .disable()\n                .cors().configurationSource(corsConfigurationSource).and()\n                .authorizeHttpRequests()\n                .requestMatchers(&quot;/api/v1/public/**&quot;)\n                .permitAll()\n                .anyRequest()\n                .authenticated()\n                .and()\n                .sessionManagement()\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS)\n                .and()\n                .apply(securityJwtConfigurer)\n                .and()\n                .formLogin().disable()\n                .build();\n    }\n`\n</code></pre>\n<p>here is my bean of the cors</p>\n<pre><code>`\n@Configuration\npublic class CorsConfig {\n    @Bean\n    public CorsConfigurationSource corsConfigurationSource() {\n        CorsConfiguration configuration = new CorsConfiguration();\n        configuration.setAllowedOrigins(List.of(&quot;http://localhost:4200&quot;));\n        configuration.setAllowedMethods(List.of(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;));\n        configuration.setAllowedHeaders(List.of(&quot;Authorization&quot;));\n        UrlBasedCorsConfigurationSource source = new UrlBasedCorsConfigurationSource();\n        source.registerCorsConfiguration(&quot;/**&quot;, configuration);\n        return source;\n    }\n}`\n</code></pre>\n"},{"tags":["java","azure-devops","azure-functions","continuous-deployment"],"answers":[{"comments":[{"owner":{"account_id":8720058,"reputation":5,"user_id":6523487,"display_name":"Fagner Antunes Dornelles"},"score":1,"creation_date":1679600741,"post_id":75824460,"comment_id":133755216,"body_markdown":"I will try this and report here if have success. Thank you!","body":"I will try this and report here if have success. Thank you!"}],"tags":[],"owner":{"account_id":11226494,"reputation":13651,"user_id":8235971,"display_name":"Shamrai Aleksander"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679582659,"creation_date":1679582659,"answer_id":75824460,"question_id":75824186,"body_markdown":"To build your app, you may use maven with your function app pom file... \r\n\r\n[![enter image description here][1]][1]\r\n\r\nThen copy your build result to the build artifacts:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nAfter that, you may deploy it in the release pipelines. To do that, create a service connection to your Resource Group in Azure Subscription: [Create an Azure Resource Manager service connection using automated security][3]\r\n\r\nand deploy it through Azure Functions task.\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dcBul.png\r\n  [2]: https://i.stack.imgur.com/jtRFN.png\r\n  [3]: https://learn.microsoft.com/en-us/azure/devops/pipelines/library/connect-to-azure?view=azure-devops#create-an-azure-resource-manager-service-connection-using-automated-security\r\n  [4]: https://i.stack.imgur.com/HtCsd.png","title":"How to deploy a Azure Function on Linux using Java code using Azure DevOps Pipelines?","body":"<p>To build your app, you may use maven with your function app pom file...</p>\n<p><a href=\"https://i.stack.imgur.com/dcBul.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dcBul.png\" alt=\"enter image description here\" /></a></p>\n<p>Then copy your build result to the build artifacts:</p>\n<p><a href=\"https://i.stack.imgur.com/jtRFN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jtRFN.png\" alt=\"enter image description here\" /></a></p>\n<p>After that, you may deploy it in the release pipelines. To do that, create a service connection to your Resource Group in Azure Subscription: <a href=\"https://learn.microsoft.com/en-us/azure/devops/pipelines/library/connect-to-azure?view=azure-devops#create-an-azure-resource-manager-service-connection-using-automated-security\" rel=\"nofollow noreferrer\">Create an Azure Resource Manager service connection using automated security</a></p>\n<p>and deploy it through Azure Functions task.</p>\n<p><a href=\"https://i.stack.imgur.com/HtCsd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HtCsd.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":8720058,"reputation":5,"user_id":6523487,"display_name":"Fagner Antunes Dornelles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75824460,"answer_count":1,"score":0,"last_activity_date":1679582659,"creation_date":1679581053,"question_id":75824186,"body_markdown":"Using the offered templates in Azure Pipelines I have configured the build and deploy of a C# based function to a Azure Function on Windows. \r\nNow I need to do the same but with a Java function.\r\n\r\nIn the &quot;Set up build&quot;, it offer only a template to &quot;Node.js Function to Az Function in Linux&quot;, but I want to build and deploy the Java Function (Maven - Java 8) and deploy to a Az Function in Linux. \r\n[enter image description here](https://i.stack.imgur.com/B3dVj.png)\r\n\r\nSome tip about this task?\r\n\r\nI tried to create a new pipeline based in templates in Azure Devops, but not found a option for that I need.","title":"How to deploy a Azure Function on Linux using Java code using Azure DevOps Pipelines?","body":"<p>Using the offered templates in Azure Pipelines I have configured the build and deploy of a C# based function to a Azure Function on Windows.\nNow I need to do the same but with a Java function.</p>\n<p>In the &quot;Set up build&quot;, it offer only a template to &quot;Node.js Function to Az Function in Linux&quot;, but I want to build and deploy the Java Function (Maven - Java 8) and deploy to a Az Function in Linux.\n<a href=\"https://i.stack.imgur.com/B3dVj.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>Some tip about this task?</p>\n<p>I tried to create a new pipeline based in templates in Azure Devops, but not found a option for that I need.</p>\n"},{"tags":["java","jmap","jhat"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1678890051,"post_id":75745974,"comment_id":133620831,"body_markdown":"By downgrading from Java JDK 17 to Java JDK 8. Because [jhat was removed in Java 9](https://openjdk.org/jeps/241).","body":"By downgrading from Java JDK 17 to Java JDK 8. Because <a href=\"https://openjdk.org/jeps/241\" rel=\"nofollow noreferrer\">jhat was removed in Java 9</a>."},{"owner":{"account_id":15332241,"reputation":79,"user_id":11061645,"display_name":"Mr.D"},"score":1,"creation_date":1678890260,"post_id":75745974,"comment_id":133620897,"body_markdown":"I see... is there then an alternative to jhat that I can use with JDK 17? And without needing to be subscribed or have a licence or anything like that like with jprofiler?","body":"I see... is there then an alternative to jhat that I can use with JDK 17? And without needing to be subscribed or have a licence or anything like that like with jprofiler?"},{"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"score":0,"creation_date":1678890306,"post_id":75745974,"comment_id":133620913,"body_markdown":"It’s been [deprecated](https://docs.oracle.com/en/java/javase/18/migrate/removed-tools-and-components.html#GUID-B49A964D-A2EF-4DAF-8A71-A64EF3E77C00).","body":"It’s been <a href=\"https://docs.oracle.com/en/java/javase/18/migrate/removed-tools-and-components.html#GUID-B49A964D-A2EF-4DAF-8A71-A64EF3E77C00\" rel=\"nofollow noreferrer\">deprecated</a>."}],"answers":[{"tags":[],"owner":{"account_id":4104221,"reputation":3989,"user_id":3368818,"accept_rate":75,"display_name":"Woodchuck"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679582032,"creation_date":1678890735,"answer_id":75746157,"question_id":75745974,"body_markdown":"You could try [VisualVM][1] for profiling or [Eclipse Memory Analyzer][2] for heap analysis. There may be some similar functionality within those tools, depending on your specific needs.\r\n\r\n\r\n  [1]: https://visualvm.github.io/\r\n  [2]: https://www.eclipse.org/mat/","title":"How do I install jhat?","body":"<p>You could try <a href=\"https://visualvm.github.io/\" rel=\"nofollow noreferrer\">VisualVM</a> for profiling or <a href=\"https://www.eclipse.org/mat/\" rel=\"nofollow noreferrer\">Eclipse Memory Analyzer</a> for heap analysis. There may be some similar functionality within those tools, depending on your specific needs.</p>\n"}],"owner":{"account_id":15332241,"reputation":79,"user_id":11061645,"display_name":"Mr.D"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":944,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1679582032,"creation_date":1678889868,"question_id":75745974,"body_markdown":"I have downloaded Java JDK 17 and I need to analyse a dump I did with the jmap command.\r\n\r\nI have searched about how to do it and jhat is apparently an already installed command that lets you analyse the dumps from jmap but when I run the jhat command it says:\r\n\r\n&#39;jhat&#39; is not recognized as an internal or external command,\r\noperable program or batch file.\r\n\r\nSo I searched how to download it but I had no success and I tried to download it on my own with Chocolatey but with no results so does anyone have an idea about what to do to get jhat please?","title":"How do I install jhat?","body":"<p>I have downloaded Java JDK 17 and I need to analyse a dump I did with the jmap command.</p>\n<p>I have searched about how to do it and jhat is apparently an already installed command that lets you analyse the dumps from jmap but when I run the jhat command it says:</p>\n<p>'jhat' is not recognized as an internal or external command,\noperable program or batch file.</p>\n<p>So I searched how to download it but I had no success and I tried to download it on my own with Chocolatey but with no results so does anyone have an idea about what to do to get jhat please?</p>\n"},{"tags":["java","code-generation","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19775,"user_id":1115491,"display_name":"Filip"},"comment_count":0,"down_vote_count":0,"up_vote_count":29,"is_accepted":true,"score":29,"last_activity_date":1491936104,"creation_date":1491936104,"answer_id":43353867,"question_id":43347620,"body_markdown":"You can use `@Mapping(target = &quot;prop1&quot;, expression = &quot;java(null)&quot;)` to achieve that.\r\n\r\nYou can find more information about expression in the reference guide [here](http://mapstruct.org/documentation/stable/reference/html/#expressions).\r\n\r\nCurrently only java is supported as an expression language, MapStruct will just take what you have written within the brackets and directly apply it to the setter, the implementation will look exactly like in your example.","title":"Set null to target using mapstruct","body":"<p>You can use <code>@Mapping(target = \"prop1\", expression = \"java(null)\")</code> to achieve that.</p>\n\n<p>You can find more information about expression in the reference guide <a href=\"http://mapstruct.org/documentation/stable/reference/html/#expressions\" rel=\"noreferrer\">here</a>.</p>\n\n<p>Currently only java is supported as an expression language, MapStruct will just take what you have written within the brackets and directly apply it to the setter, the implementation will look exactly like in your example.</p>\n"},{"comments":[{"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"score":3,"creation_date":1492181132,"post_id":43387924,"comment_id":73886354,"body_markdown":"In this case, the property prop1 will be ignored and it will get the default value or the value set in the constructor.  Thank you for your answer but my need is to set the null value in the generated source by mupstruct.","body":"In this case, the property prop1 will be ignored and it will get the default value or the value set in the constructor.  Thank you for your answer but my need is to set the null value in the generated source by mupstruct."}],"tags":[],"owner":{"account_id":3429610,"reputation":735,"user_id":2874434,"display_name":"Vit Ias"},"comment_count":1,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1492074270,"creation_date":1492074270,"answer_id":43387924,"question_id":43347620,"body_markdown":"Also you can ignore mapping of this property:\r\n\r\n    @Mapping(target = &quot;prop1&quot;, ignore = true)\r\n\r\nthis will set this value to default which is null in your case ","title":"Set null to target using mapstruct","body":"<p>Also you can ignore mapping of this property:</p>\n\n<pre><code>@Mapping(target = \"prop1\", ignore = true)\n</code></pre>\n\n<p>this will set this value to default which is null in your case </p>\n"}],"owner":{"account_id":1139113,"reputation":18996,"user_id":1123501,"accept_rate":89,"display_name":"Georgios Syngouroglou"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19135,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":43353867,"answer_count":2,"score":12,"last_activity_date":1679581847,"creation_date":1491917852,"question_id":43347620,"body_markdown":"I am using mapstruct and I am wondering if there are any ways to set null value for some target properties. For example,\r\n\r\n    public class MySource {\r\n        private String prop1;\r\n        private String prop2;\r\n\r\n        public MySource() {\r\n            // Initialization.\r\n        }\r\n\r\n        // Getters - Setters.\r\n    }\r\n\r\n    public class MySourceDto {\r\n        private String prop1;\r\n        private String prop2;\r\n\r\n        public MySourceDto() {\r\n            // Initialization.\r\n        }\r\n\r\n        // Getters - Setters.\r\n    }\r\n    \r\n    @Mapper\r\n    public interface MySourceMapper {\r\n\r\n        @Mappings({\r\n            @Mapping(target = &quot;prop1&quot;, propertyToSetNull = null)})\r\n        public MySourceDto toView(MySource mySource);\r\n\r\n    }\r\n\r\nI would love the above source, dto and mapper to generate the below source code,\r\n\r\n    @Component\r\n    public class MySourceMapperImpl implements MySourceMapper {\r\n\r\n        @Override\r\n        public MySourceDto toView(MySource mySource) {\r\n            if ( mySource == null ) {\r\n                return null;\r\n            }\r\n\r\n            MySourceDto mySourceDto = new MySourceDto();\r\n\r\n            mySourceDto.setProp1( mySource.getId() );\r\n            mySourceDto.setProp2( null );\r\n\r\n            return mySourceDto;\r\n        }\r\n    }","title":"Set null to target using mapstruct","body":"<p>I am using mapstruct and I am wondering if there are any ways to set null value for some target properties. For example,</p>\n\n<pre><code>public class MySource {\n    private String prop1;\n    private String prop2;\n\n    public MySource() {\n        // Initialization.\n    }\n\n    // Getters - Setters.\n}\n\npublic class MySourceDto {\n    private String prop1;\n    private String prop2;\n\n    public MySourceDto() {\n        // Initialization.\n    }\n\n    // Getters - Setters.\n}\n\n@Mapper\npublic interface MySourceMapper {\n\n    @Mappings({\n        @Mapping(target = \"prop1\", propertyToSetNull = null)})\n    public MySourceDto toView(MySource mySource);\n\n}\n</code></pre>\n\n<p>I would love the above source, dto and mapper to generate the below source code,</p>\n\n<pre><code>@Component\npublic class MySourceMapperImpl implements MySourceMapper {\n\n    @Override\n    public MySourceDto toView(MySource mySource) {\n        if ( mySource == null ) {\n            return null;\n        }\n\n        MySourceDto mySourceDto = new MySourceDto();\n\n        mySourceDto.setProp1( mySource.getId() );\n        mySourceDto.setProp2( null );\n\n        return mySourceDto;\n    }\n}\n</code></pre>\n"},{"tags":["java","pdf","digital-signature","pdfa"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679581906,"post_id":75824109,"comment_id":133750092,"body_markdown":"Maybe you should ask the author(s) of that code? They might well ask you what&#39;s telling you that signing it is making it non-compliant","body":"Maybe you should ask the author(s) of that code? They might well ask you what&#39;s telling you that signing it is making it non-compliant"},{"owner":{"account_id":3156854,"reputation":614,"user_id":2669075,"accept_rate":38,"display_name":"Goldfish"},"score":0,"creation_date":1679595795,"post_id":75824109,"comment_id":133754098,"body_markdown":"I wanted to do that. But it proves rather difficult to contact the authors. The jira is not accessible. It is not possible to create issues in github and so on.","body":"I wanted to do that. But it proves rather difficult to contact the authors. The jira is not accessible. It is not possible to create issues in github and so on."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1680253681,"post_id":75824109,"comment_id":133870429,"body_markdown":"*&quot;The jira is not accessible.&quot;* - You merely need an account which is easy to get. And there actually is a recent entry that might help you, see https://ec.europa.eu/digital-building-blocks/tracker/browse/DSS-2981","body":"<i>&quot;The jira is not accessible.&quot;</i> - You merely need an account which is easy to get. And there actually is a recent entry that might help you, see <a href=\"https://ec.europa.eu/digital-building-blocks/tracker/browse/DSS-2981\" rel=\"nofollow noreferrer\">ec.europa.eu/digital-building-blocks/tracker/browse/DSS-2981</a>"}],"owner":{"account_id":3156854,"reputation":614,"user_id":2669075,"accept_rate":38,"display_name":"Goldfish"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679580623,"creation_date":1679580623,"question_id":75824109,"body_markdown":"Hi we are currently trying to sign a PDF A-2 compliant file with the Digital Signature Service library (DSS) based on this example(https://github.com/esig/dss/blob/master/dss-cookbook/src/test/java/eu/europa/esig/dss/cookbook/example/sign/SignPdfPadesBTest.java) which works basically fine. Also the signature validation afterwards is successful. The problem is that the result is no longer PDF A-2  compliant. \r\nIs there anything that makes it possible to keep the A-2 compliance maintained? I tried the same code with a PDF A-1 compliant file where everything works fine and the result is expected. May it be that the DSS is simply not supporting PDF A-2?","title":"Digital Signature Service PAdES with PDF A-2","body":"<p>Hi we are currently trying to sign a PDF A-2 compliant file with the Digital Signature Service library (DSS) based on this example(<a href=\"https://github.com/esig/dss/blob/master/dss-cookbook/src/test/java/eu/europa/esig/dss/cookbook/example/sign/SignPdfPadesBTest.java\" rel=\"nofollow noreferrer\">https://github.com/esig/dss/blob/master/dss-cookbook/src/test/java/eu/europa/esig/dss/cookbook/example/sign/SignPdfPadesBTest.java</a>) which works basically fine. Also the signature validation afterwards is successful. The problem is that the result is no longer PDF A-2  compliant.\nIs there anything that makes it possible to keep the A-2 compliance maintained? I tried the same code with a PDF A-1 compliant file where everything works fine and the result is expected. May it be that the DSS is simply not supporting PDF A-2?</p>\n"},{"tags":["java","hashmap","key","tostring"],"comments":[{"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"score":0,"creation_date":1679580580,"post_id":75823938,"comment_id":133749642,"body_markdown":"What order did you want?","body":"What order did you want?"}],"answers":[{"comments":[{"owner":{"account_id":23067373,"reputation":640,"user_id":17181638,"display_name":"3Fish"},"score":0,"creation_date":1679580808,"post_id":75824027,"comment_id":133749714,"body_markdown":"Hey, maybe provide an example of the usage of LinkedHashMaps and TreeMaps.","body":"Hey, maybe provide an example of the usage of LinkedHashMaps and TreeMaps."},{"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1679581267,"post_id":75824027,"comment_id":133749855,"body_markdown":"@3Fish From a storage perspective, they&#39;re used the same way as a HashMap. For other information such as retrieval options, I posted links to the `JavaDoc` for each which explains them in detail.","body":"@3Fish From a storage perspective, they&#39;re used the same way as a HashMap. For other information such as retrieval options, I posted links to the <code>JavaDoc</code> for each which explains them in detail."}],"tags":[],"owner":{"account_id":1689973,"reputation":37330,"user_id":1552534,"display_name":"WJS"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1679580463,"creation_date":1679580159,"answer_id":75824027,"question_id":75823938,"body_markdown":"Maps are unordered due to the `hashCode` used to determine in which &quot;bucket&quot; the entry is to be placed.  If you want to preserve the insertion order, you can use a [LinkedHashMap](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/LinkedHashMap.html) in place of `HashMap`.  If you want to ensure the keys (here `LocalDate`) are sorted (`LocalDate` implements [Comparable](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Comparable.html)) you can use a [TreeMap](https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/TreeMap.html)","title":"Hash map key weird key order","body":"<p>Maps are unordered due to the <code>hashCode</code> used to determine in which &quot;bucket&quot; the entry is to be placed.  If you want to preserve the insertion order, you can use a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/LinkedHashMap.html\" rel=\"nofollow noreferrer\">LinkedHashMap</a> in place of <code>HashMap</code>.  If you want to ensure the keys (here <code>LocalDate</code>) are sorted (<code>LocalDate</code> implements <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/Comparable.html\" rel=\"nofollow noreferrer\">Comparable</a>) you can use a <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/util/TreeMap.html\" rel=\"nofollow noreferrer\">TreeMap</a></p>\n"}],"owner":{"account_id":27120653,"reputation":77,"user_id":20664407,"display_name":"Daleo dorito"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75824027,"answer_count":1,"score":2,"last_activity_date":1679580463,"creation_date":1679579688,"question_id":75823938,"body_markdown":"I am doing a HashMap that uses dates as key and assigns them a pet obeject (pet of the month). Pet holds a bunch of values like name, age, type... (not relevant) and has a method that generates one randomly. It goes soemthing like this:\r\n\r\n    DateTimeFormatter date_format = DateTimeFormatter.ofPattern (&quot;dd/MM/yyyy&quot;);\r\n    LocalDate date = LocalDate.of(2023, 1, 1);\r\n    HashMap&lt;LocalDate, Pet&gt; pets = new HashMap&lt;&gt;();\r\n    \r\n    //* This next chunk generates a random pet (that has not yet been chosen) and makes it the pet of the month using the date as the key and the pet as the value\r\n\r\n    for (int i=0; i &lt; 12; i++){\r\n                Pet pet_of_the_month = Pet.randompet(); \r\n                if (!pets.containsValue(pet_of_the_month)){ \r\n                    pets.put(date, pet_of_the_month); \r\n                    date = date.plusMonths(1);\r\n                } else {\r\n                    i--;\r\n                }\r\n            }\r\n    \r\n    //*This loops around the map taking every key and printing both the key (date) and the object (pet)\r\n    \r\n    for (LocalDate month: pets.keySet()) {\r\n                System.out.println(&quot;Date of&quot; + month.format(date.format) + &quot;:&quot; + pets.get(month).toString());\r\n            }\r\n\r\nThe issue I have is that this for some reason ALWAYS prints the month 4 first and then the rest in order (4,1,2,3,5,6...); is there a reason for why it is doing that?;am I doing something wrong/missing something or is just some random interaction that I have to assume?","title":"Hash map key weird key order","body":"<p>I am doing a HashMap that uses dates as key and assigns them a pet obeject (pet of the month). Pet holds a bunch of values like name, age, type... (not relevant) and has a method that generates one randomly. It goes soemthing like this:</p>\n<pre><code>DateTimeFormatter date_format = DateTimeFormatter.ofPattern (&quot;dd/MM/yyyy&quot;);\nLocalDate date = LocalDate.of(2023, 1, 1);\nHashMap&lt;LocalDate, Pet&gt; pets = new HashMap&lt;&gt;();\n\n//* This next chunk generates a random pet (that has not yet been chosen) and makes it the pet of the month using the date as the key and the pet as the value\n\nfor (int i=0; i &lt; 12; i++){\n            Pet pet_of_the_month = Pet.randompet(); \n            if (!pets.containsValue(pet_of_the_month)){ \n                pets.put(date, pet_of_the_month); \n                date = date.plusMonths(1);\n            } else {\n                i--;\n            }\n        }\n\n//*This loops around the map taking every key and printing both the key (date) and the object (pet)\n\nfor (LocalDate month: pets.keySet()) {\n            System.out.println(&quot;Date of&quot; + month.format(date.format) + &quot;:&quot; + pets.get(month).toString());\n        }\n</code></pre>\n<p>The issue I have is that this for some reason ALWAYS prints the month 4 first and then the rest in order (4,1,2,3,5,6...); is there a reason for why it is doing that?;am I doing something wrong/missing something or is just some random interaction that I have to assume?</p>\n"},{"tags":["java","database","hibernate","tomcat","h2"],"owner":{"account_id":8348312,"reputation":1,"user_id":6271348,"display_name":"Santino"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":93,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679580085,"creation_date":1679579988,"question_id":75823994,"body_markdown":"I have an H2 database configured in my java application, using a dedicated app-hibernate.cfg.xml file.\r\n\r\nThe H2 version I&#39;m using is 1.4.196.\r\n\r\nI need to view H2 logs during query executions. I added the TRACE_LEVEL_FILE=3 parameter to the connection url as follows:\r\n\r\n```\r\n&lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:h2:tcp://localhost:&lt;myPort&gt;/&lt;myPath&gt;;CACHE_SIZE=129024;TRACE_LEVEL_FILE=3&lt;/property&gt;\r\n```\r\n\r\nBut this is causing the app to throw an exception from H2, this is the stack trace:\r\n\r\n```\r\n\r\n2023-03-23 14:57:07,676 WARN  [C3P0PooledConnectionPoolManager[identityToken-&gt;2u2xjhav418krm1ay0ysc|471061ea]-HelperThread-#1] com.mchange.v2.resourcepool.BasicResourcePool:223 - com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@22813dc8 -- Acquisition Attempt Failed!!! Clearing pending acquires. While trying to acquire a needed new resource, we failed to succeed more than the maximum number of allowed acquisition attempts (30). Last acquisition attempt exception:\r\norg.h2.jdbc.JdbcSQLException: Error while creating file &quot;/trace.db&quot; [90062-196]\r\n\tat org.h2.message.DbException.getJdbcSQLException(DbException.java:345)\r\n\tat org.h2.message.DbException.get(DbException.java:179)\r\n\tat org.h2.message.DbException.get(DbException.java:155)\r\n\tat org.h2.store.fs.FilePathDisk.createDirectory(FilePathDisk.java:274)\r\n\tat org.h2.store.fs.FileUtils.createDirectory(FileUtils.java:42)\r\n\tat org.h2.store.fs.FileUtils.createDirectories(FileUtils.java:309)\r\n\tat org.h2.store.fs.FilePathDisk.createTempFile(FilePathDisk.java:378)\r\n\tat org.h2.store.fs.FileUtils.createTempFile(FileUtils.java:342)\r\n\tat org.h2.engine.SessionRemote.connectServer(SessionRemote.java:397)\r\n\tat org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:334)\r\n\tat org.h2.jdbc.JdbcConnection.&lt;init&gt;(JdbcConnection.java:116)\r\n\tat org.h2.jdbc.JdbcConnection.&lt;init&gt;(JdbcConnection.java:100)\r\n\tat org.h2.Driver.connect(Driver.java:69)\r\n\tat com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:175)\r\n\tat com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:220)\r\n\tat com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:206)\r\n\tat com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:203)\r\n\tat com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1176)\r\n\tat com.mchange.v2.resourcepool.BasicResourcePool.doAcquireAndDecrementPendingAcquiresWithinLockOnSuccess(BasicResourcePool.java:1163)\r\n\tat com.mchange.v2.resourcepool.BasicResourcePool.access$700(BasicResourcePool.java:44)\r\n\tat com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask.run(BasicResourcePool.java:1908)\r\n\tat com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:696)\r\n\r\n```\r\n\r\nI tried playing with the directory permissions with no luck, other files in the same directory related to H2 have no problem being created/deleted when the app starts up.\r\n\r\nAny idea what could be the issue?\r\n\r\n","title":"H2 fails to create trace log file [trace.db] when using TRACE_LEVEL_FILE=3 in hibernate.cfg.xml","body":"<p>I have an H2 database configured in my java application, using a dedicated app-hibernate.cfg.xml file.</p>\n<p>The H2 version I'm using is 1.4.196.</p>\n<p>I need to view H2 logs during query executions. I added the TRACE_LEVEL_FILE=3 parameter to the connection url as follows:</p>\n<pre><code>&lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:h2:tcp://localhost:&lt;myPort&gt;/&lt;myPath&gt;;CACHE_SIZE=129024;TRACE_LEVEL_FILE=3&lt;/property&gt;\n</code></pre>\n<p>But this is causing the app to throw an exception from H2, this is the stack trace:</p>\n<pre><code>\n2023-03-23 14:57:07,676 WARN  [C3P0PooledConnectionPoolManager[identityToken-&gt;2u2xjhav418krm1ay0ysc|471061ea]-HelperThread-#1] com.mchange.v2.resourcepool.BasicResourcePool:223 - com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask@22813dc8 -- Acquisition Attempt Failed!!! Clearing pending acquires. While trying to acquire a needed new resource, we failed to succeed more than the maximum number of allowed acquisition attempts (30). Last acquisition attempt exception:\norg.h2.jdbc.JdbcSQLException: Error while creating file &quot;/trace.db&quot; [90062-196]\n    at org.h2.message.DbException.getJdbcSQLException(DbException.java:345)\n    at org.h2.message.DbException.get(DbException.java:179)\n    at org.h2.message.DbException.get(DbException.java:155)\n    at org.h2.store.fs.FilePathDisk.createDirectory(FilePathDisk.java:274)\n    at org.h2.store.fs.FileUtils.createDirectory(FileUtils.java:42)\n    at org.h2.store.fs.FileUtils.createDirectories(FileUtils.java:309)\n    at org.h2.store.fs.FilePathDisk.createTempFile(FilePathDisk.java:378)\n    at org.h2.store.fs.FileUtils.createTempFile(FileUtils.java:342)\n    at org.h2.engine.SessionRemote.connectServer(SessionRemote.java:397)\n    at org.h2.engine.SessionRemote.connectEmbeddedOrServer(SessionRemote.java:334)\n    at org.h2.jdbc.JdbcConnection.&lt;init&gt;(JdbcConnection.java:116)\n    at org.h2.jdbc.JdbcConnection.&lt;init&gt;(JdbcConnection.java:100)\n    at org.h2.Driver.connect(Driver.java:69)\n    at com.mchange.v2.c3p0.DriverManagerDataSource.getConnection(DriverManagerDataSource.java:175)\n    at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:220)\n    at com.mchange.v2.c3p0.WrapperConnectionPoolDataSource.getPooledConnection(WrapperConnectionPoolDataSource.java:206)\n    at com.mchange.v2.c3p0.impl.C3P0PooledConnectionPool$1PooledConnectionResourcePoolManager.acquireResource(C3P0PooledConnectionPool.java:203)\n    at com.mchange.v2.resourcepool.BasicResourcePool.doAcquire(BasicResourcePool.java:1176)\n    at com.mchange.v2.resourcepool.BasicResourcePool.doAcquireAndDecrementPendingAcquiresWithinLockOnSuccess(BasicResourcePool.java:1163)\n    at com.mchange.v2.resourcepool.BasicResourcePool.access$700(BasicResourcePool.java:44)\n    at com.mchange.v2.resourcepool.BasicResourcePool$ScatteredAcquireTask.run(BasicResourcePool.java:1908)\n    at com.mchange.v2.async.ThreadPoolAsynchronousRunner$PoolThread.run(ThreadPoolAsynchronousRunner.java:696)\n\n</code></pre>\n<p>I tried playing with the directory permissions with no luck, other files in the same directory related to H2 have no problem being created/deleted when the app starts up.</p>\n<p>Any idea what could be the issue?</p>\n"},{"tags":["java","gradle","bouncycastle","gradle-kotlin-dsl","j-interop"],"owner":{"account_id":1786366,"reputation":502,"user_id":17782348,"display_name":"devaskim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679580032,"creation_date":1679579348,"question_id":75823880,"body_markdown":"I tried to migrate from local jar dependencies to repository-oriented. Now it looks like:\r\n```\r\napi(files(&quot;thirdparty/j-interop-2.0.4.jar&quot;))\r\n```\r\nThe desired result is:\r\n```\r\napi(&quot;org.jinterop&quot;, &quot;j-interop&quot;, &quot;2.0.4&quot;)\r\n```\r\nThe problem is final *jar* should contain unpacked dependency of `j-interop` called `j-interopdeps` with excluded `org.bouncycastle` subtree. Because there is already another `bouncycastle` dependency.\r\n\r\nSo not it looks:\r\n\r\n```\r\ntasks.create&lt;Jar&gt;(&quot;proj-libs&quot;) {\r\n    archiveFileName.set(&quot;proj-libs.jar&quot;)\r\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n\r\n    from(zipTree(&quot;thirdparty/j-interopdeps-2.0.4.jar&quot;)) {\r\n        exclude(&quot;org/bouncycastle/**&quot;)\r\n    }\r\n    destinationDirectory.set(File(&quot;jar&quot;))\r\n    finalizedBy(&quot;final-libs&quot;)\r\n}\r\n```\r\n**The question is how to do the same but with dependency downloaded from Maven repository?**","title":"Gradle unzip api dependency to final jar with exclusion","body":"<p>I tried to migrate from local jar dependencies to repository-oriented. Now it looks like:</p>\n<pre><code>api(files(&quot;thirdparty/j-interop-2.0.4.jar&quot;))\n</code></pre>\n<p>The desired result is:</p>\n<pre><code>api(&quot;org.jinterop&quot;, &quot;j-interop&quot;, &quot;2.0.4&quot;)\n</code></pre>\n<p>The problem is final <em>jar</em> should contain unpacked dependency of <code>j-interop</code> called <code>j-interopdeps</code> with excluded <code>org.bouncycastle</code> subtree. Because there is already another <code>bouncycastle</code> dependency.</p>\n<p>So not it looks:</p>\n<pre><code>tasks.create&lt;Jar&gt;(&quot;proj-libs&quot;) {\n    archiveFileName.set(&quot;proj-libs.jar&quot;)\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n\n    from(zipTree(&quot;thirdparty/j-interopdeps-2.0.4.jar&quot;)) {\n        exclude(&quot;org/bouncycastle/**&quot;)\n    }\n    destinationDirectory.set(File(&quot;jar&quot;))\n    finalizedBy(&quot;final-libs&quot;)\n}\n</code></pre>\n<p><strong>The question is how to do the same but with dependency downloaded from Maven repository?</strong></p>\n"},{"tags":["java","mysql","json","aws-documentdb"],"comments":[{"owner":{"account_id":23067373,"reputation":640,"user_id":17181638,"display_name":"3Fish"},"score":1,"creation_date":1679567104,"post_id":75821514,"comment_id":133746036,"body_markdown":"Can you not just use Jackson to convert any instance of that class into a json and back? https://github.com/FasterXML/jackson-databind","body":"Can you not just use Jackson to convert any instance of that class into a json and back? <a href=\"https://github.com/FasterXML/jackson-databind\" rel=\"nofollow noreferrer\">github.com/FasterXML/jackson-databind</a>"},{"owner":{"account_id":22387209,"reputation":177,"user_id":16599849,"display_name":"Alfred Moon"},"score":0,"creation_date":1679569815,"post_id":75821514,"comment_id":133746640,"body_markdown":"@3Fish I don&#39;t want to create some custom JSON mapping logic because there is possibility that developers can create a bugs in this code in the future and structure will be destroyed.","body":"@3Fish I don&#39;t want to create some custom JSON mapping logic because there is possibility that developers can create a bugs in this code in the future and structure will be destroyed."},{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1679570128,"post_id":75821514,"comment_id":133746730,"body_markdown":"just use Gson to convert object properties to json, no?  Question is unclear.","body":"just use Gson to convert object properties to json, no?  Question is unclear."},{"owner":{"account_id":22387209,"reputation":177,"user_id":16599849,"display_name":"Alfred Moon"},"score":0,"creation_date":1679570589,"post_id":75821514,"comment_id":133746842,"body_markdown":"@ago I&#39;ve clarified question.","body":"@ago I&#39;ve clarified question."},{"owner":{"account_id":23067373,"reputation":640,"user_id":17181638,"display_name":"3Fish"},"score":0,"creation_date":1679578848,"post_id":75821514,"comment_id":133749084,"body_markdown":"So, you want to save an object as json to your DB without using any json library? I mean, you can write it yourself, but that is even more error-prone than relying on a proven library like jackson or gson.","body":"So, you want to save an object as json to your DB without using any json library? I mean, you can write it yourself, but that is even more error-prone than relying on a proven library like jackson or gson."},{"owner":{"account_id":10929,"reputation":545362,"user_id":20860,"accept_rate":92,"display_name":"Bill Karwin"},"score":0,"creation_date":1679588037,"post_id":75821514,"comment_id":133752017,"body_markdown":"I assume you mean to save an object, not a class. It doesn&#39;t make any sense to save a class in a database. Why does it have to be JSON? Why not just Java&#39;s native `serialize()` and store it in a `BLOB` column in the database?","body":"I assume you mean to save an object, not a class. It doesn&#39;t make any sense to save a class in a database. Why does it have to be JSON? Why not just Java&#39;s native <code>serialize()</code> and store it in a <code>BLOB</code> column in the database?"}],"answers":[{"tags":[],"owner":{"account_id":23067373,"reputation":640,"user_id":17181638,"display_name":"3Fish"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679579946,"creation_date":1679579946,"answer_id":75823988,"question_id":75821514,"body_markdown":"The most straight forward solution would be to use Jackson or Gson to convert any object into a json String or Byte[]. These can then be saved to your DB. restoring them is as easy as reversing that process.\r\nHere are some simple examples, `saveDataToDB(String, Sring):void` and `loadDataFromDB(String):String` are placeholders for whatever you need to do to save or load to your database.\r\n\r\n``` java\r\n//can be created globally and reused every time\r\nObjectMapper mapper = new ObjectMapper();\r\n\r\npublic void saveObjToDB(String id, Object obj)\r\n{\r\n    String jsonStr = mapper.writeValueAsString(myResultObject);\r\n    saveDataToDB(id, jsonStr);\r\n}\r\n\r\npublic &lt;T&gt; T loadObjFromDB(String id, Class&lt;T&gt; clazz)\r\n{\r\n    String jsonStr = loadDataFromDB(id);\r\n    return mapper.readValue(jsonStr, clazz);\r\n}\r\n```\r\n\r\nOr with Gson:\r\n``` java\r\n//can be created globally and reused every time\r\nGson gson = new Gson();\r\n\r\npublic void saveObjToDB(String id, Object obj)\r\n{\r\n    String jsonStr = gson.toJson(myResultObject);\r\n    saveDataToDB(id, jsonStr);\r\n}\r\n\r\npublic &lt;T&gt; T loadObjFromDB(String id, Class&lt;T&gt; clazz)\r\n{\r\n    String jsonStr = loadDataFromDB(id);\r\n    return gson.fromJson(jsonStr, clazz);\r\n}\r\n```\r\n\r\nThe default configuration should already work for most classes, and in most cases only complex nesting or generics need more configuration. But even then, the mapper/gson class can be supplied as Singleton globally so that the configuration is done only once and therefore developers don&#39;t have to touch this all the time.","title":"How to store Java class as JSON in MySQL8?","body":"<p>The most straight forward solution would be to use Jackson or Gson to convert any object into a json String or Byte[]. These can then be saved to your DB. restoring them is as easy as reversing that process.\nHere are some simple examples, <code>saveDataToDB(String, Sring):void</code> and <code>loadDataFromDB(String):String</code> are placeholders for whatever you need to do to save or load to your database.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//can be created globally and reused every time\nObjectMapper mapper = new ObjectMapper();\n\npublic void saveObjToDB(String id, Object obj)\n{\n    String jsonStr = mapper.writeValueAsString(myResultObject);\n    saveDataToDB(id, jsonStr);\n}\n\npublic &lt;T&gt; T loadObjFromDB(String id, Class&lt;T&gt; clazz)\n{\n    String jsonStr = loadDataFromDB(id);\n    return mapper.readValue(jsonStr, clazz);\n}\n</code></pre>\n<p>Or with Gson:</p>\n<pre class=\"lang-java prettyprint-override\"><code>//can be created globally and reused every time\nGson gson = new Gson();\n\npublic void saveObjToDB(String id, Object obj)\n{\n    String jsonStr = gson.toJson(myResultObject);\n    saveDataToDB(id, jsonStr);\n}\n\npublic &lt;T&gt; T loadObjFromDB(String id, Class&lt;T&gt; clazz)\n{\n    String jsonStr = loadDataFromDB(id);\n    return gson.fromJson(jsonStr, clazz);\n}\n</code></pre>\n<p>The default configuration should already work for most classes, and in most cases only complex nesting or generics need more configuration. But even then, the mapper/gson class can be supplied as Singleton globally so that the configuration is done only once and therefore developers don't have to touch this all the time.</p>\n"}],"owner":{"account_id":22387209,"reputation":177,"user_id":16599849,"display_name":"Alfred Moon"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75823988,"answer_count":1,"score":0,"last_activity_date":1679579946,"creation_date":1679565310,"question_id":75821514,"body_markdown":"In our project we have a need to store some Java objects (with nesting level &gt; 3) as JSONs because structure of this objects are often changed and this is really no convenient to use relational approach to store them.\r\n\r\nWe were considering different DBs to store objects as JSONs (we are using AWS): \r\n\r\n- DynamoDB;\r\n- DocumentDB;\r\n- MySQL 8;\r\n\r\nCurrently we are considering MySQL 8 as basic option because we are more familiar with this db and it will take less effort to setup it. I was trying to find how to properly store Java objects as JSONs in MySQL 8 and checked this articles:\r\n https://prateek-ashtikar512.medium.com/how-to-handle-json-in-mysql-4adaeeb1d42f\r\n https://vladmihalcea.com/how-to-map-json-objects-using-generic-hibernate-types/\r\n\r\nBut I did not find a way how to store whole class as a JSON, not only one field from some class or String field that will have JSON representation of the class.\r\n\r\nSo my question is - is that possible to store class like:\r\n\r\n    public class SomeClass {\r\n    \r\n      private Long id;\r\n\r\n      private Instant date;\r\n\r\n      private String someInfo;\r\n\r\n      private Integer version;\r\n \r\n    }\r\n\r\nas JSON without having this class as field in some other class ?\r\n\r\nP.S. I don&#39;t want to have using of Jackson libraries in my code because developers can add bugs in this part of the code and destroy structure of object to save.\r\n\r\nP.S.S.\r\n\r\nI understand that I can do something like this:\r\n\r\n    @Data\r\n    @Entity\r\n    @Table(name = &quot;my_table&quot;)\r\n    @TypeDef(name = &quot;json&quot;, typeClass = JsonStringType.class)\r\n    public class MyClassWrapper {\r\n    \r\n        @Id\r\n        private Long id;\r\n    \r\n        @Type(type = &quot;json&quot;)\r\n        @Column(name = &quot;json_data&quot;,columnDefinition = &quot;json&quot;)\r\n        private MyClass myClass;\r\n    }\r\n\r\n    @Data\r\n    public class MyClass {\r\n    \r\n        private Instant date;\r\n    \r\n        private String someInfo;\r\n    \r\n        private Integer version;\r\n    \r\n    }\r\n\r\nMy question is is - can I avoid having of MyClassWrapper and save MyClass as JSON directly (without using Jackson library by myself) ? ","title":"How to store Java class as JSON in MySQL8?","body":"<p>In our project we have a need to store some Java objects (with nesting level &gt; 3) as JSONs because structure of this objects are often changed and this is really no convenient to use relational approach to store them.</p>\n<p>We were considering different DBs to store objects as JSONs (we are using AWS):</p>\n<ul>\n<li>DynamoDB;</li>\n<li>DocumentDB;</li>\n<li>MySQL 8;</li>\n</ul>\n<p>Currently we are considering MySQL 8 as basic option because we are more familiar with this db and it will take less effort to setup it. I was trying to find how to properly store Java objects as JSONs in MySQL 8 and checked this articles:\n<a href=\"https://prateek-ashtikar512.medium.com/how-to-handle-json-in-mysql-4adaeeb1d42f\" rel=\"nofollow noreferrer\">https://prateek-ashtikar512.medium.com/how-to-handle-json-in-mysql-4adaeeb1d42f</a>\n<a href=\"https://vladmihalcea.com/how-to-map-json-objects-using-generic-hibernate-types/\" rel=\"nofollow noreferrer\">https://vladmihalcea.com/how-to-map-json-objects-using-generic-hibernate-types/</a></p>\n<p>But I did not find a way how to store whole class as a JSON, not only one field from some class or String field that will have JSON representation of the class.</p>\n<p>So my question is - is that possible to store class like:</p>\n<pre><code>public class SomeClass {\n\n  private Long id;\n\n  private Instant date;\n\n  private String someInfo;\n\n  private Integer version;\n\n}\n</code></pre>\n<p>as JSON without having this class as field in some other class ?</p>\n<p>P.S. I don't want to have using of Jackson libraries in my code because developers can add bugs in this part of the code and destroy structure of object to save.</p>\n<p>P.S.S.</p>\n<p>I understand that I can do something like this:</p>\n<pre><code>@Data\n@Entity\n@Table(name = &quot;my_table&quot;)\n@TypeDef(name = &quot;json&quot;, typeClass = JsonStringType.class)\npublic class MyClassWrapper {\n\n    @Id\n    private Long id;\n\n    @Type(type = &quot;json&quot;)\n    @Column(name = &quot;json_data&quot;,columnDefinition = &quot;json&quot;)\n    private MyClass myClass;\n}\n\n@Data\npublic class MyClass {\n\n    private Instant date;\n\n    private String someInfo;\n\n    private Integer version;\n\n}\n</code></pre>\n<p>My question is is - can I avoid having of MyClassWrapper and save MyClass as JSON directly (without using Jackson library by myself) ?</p>\n"},{"tags":["java","json","spring-boot"],"owner":{"account_id":22197900,"reputation":1,"user_id":16439027,"display_name":"Fynnyx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679579893,"creation_date":1679504081,"question_id":75815145,"body_markdown":"Hey i have connected my user with a twitchchannel class through a db and opened it to a restcontroller.\r\nNow my problem is, that Im using `@JsonIdentityInfo` to fix the json recursion.This all works fine until I show the Object in a reference and the other details are not show except of the id.\r\n```json\r\n[\r\n    {\r\n        &quot;id&quot;: 204,\r\n        &quot;twitchName&quot;: &quot;test&quot;,\r\n        &quot;doPing&quot;: true,\r\n        &quot;lastStreamId&quot;: null,\r\n        &quot;lastMessageId&quot;: null,\r\n        &quot;user&quot;: {a\r\n            &quot;id&quot;: 102,\r\n            &quot;username&quot;: &quot;Fynnyx&quot;,\r\n            &quot;birthday&quot;: null,\r\n            &quot;email&quot;: null,\r\n            &quot;ttvChannels&quot;: [\r\n                204,\r\n                {\r\n                    &quot;id&quot;: 252,   &lt;--- Here is the whole object\r\n                    &quot;twitchName&quot;: &quot;Hello&quot;,\r\n                    &quot;doPing&quot;: true,\r\n                    &quot;lastStreamId&quot;: null,\r\n                    &quot;lastMessageId&quot;: null,\r\n                    &quot;user&quot;: 102\r\n                }\r\n            ]\r\n        }\r\n    },\r\n    252 &lt;--- This is just an id and not the whole object bc it already exists in the other object\r\n]\r\n```\r\n\r\nHere the Channel 252 is shown bc of the same user reference but no shown a second time.How can I fix this in a smart way.\r\n\r\n\r\n```java\r\npackage ch.fwesterath.kahlifarspringapi.user.ttvchannel;\r\n\r\nimport ch.fwesterath.kahlifarspringapi.user.user.User;\r\nimport com.fasterxml.jackson.annotation.JsonIdentityInfo;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.annotation.ObjectIdGenerators;\r\nimport jakarta.persistence.*;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport lombok.ToString;\r\n\r\n@Entity\r\n@Table(name = &quot;ttv_channel&quot;)\r\n@Getter\r\n@Setter\r\n@ToString\r\n@JsonIdentityInfo(scope = TwitchChannel.class, generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\r\npublic class TwitchChannel {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    @Column(name = &quot;id&quot;, nullable = false)\r\n    private Long id;\r\n\r\n    @Column(nullable = false, unique = true)\r\n    private String twitchName;\r\n\r\n    @Column(nullable = false)\r\n    private Boolean doPing = false;\r\n\r\n    @Column\r\n    private Long lastStreamId;\r\n\r\n    @Column\r\n    private Long lastMessageId;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = &quot;user_id&quot;)\r\n    private User user;\r\n}\r\n\r\n```\r\n","title":"SpringBoot REST API Item just shown once with JsonIdentityInfo","body":"<p>Hey i have connected my user with a twitchchannel class through a db and opened it to a restcontroller.\nNow my problem is, that Im using <code>@JsonIdentityInfo</code> to fix the json recursion.This all works fine until I show the Object in a reference and the other details are not show except of the id.</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n    {\n        &quot;id&quot;: 204,\n        &quot;twitchName&quot;: &quot;test&quot;,\n        &quot;doPing&quot;: true,\n        &quot;lastStreamId&quot;: null,\n        &quot;lastMessageId&quot;: null,\n        &quot;user&quot;: {a\n            &quot;id&quot;: 102,\n            &quot;username&quot;: &quot;Fynnyx&quot;,\n            &quot;birthday&quot;: null,\n            &quot;email&quot;: null,\n            &quot;ttvChannels&quot;: [\n                204,\n                {\n                    &quot;id&quot;: 252,   &lt;--- Here is the whole object\n                    &quot;twitchName&quot;: &quot;Hello&quot;,\n                    &quot;doPing&quot;: true,\n                    &quot;lastStreamId&quot;: null,\n                    &quot;lastMessageId&quot;: null,\n                    &quot;user&quot;: 102\n                }\n            ]\n        }\n    },\n    252 &lt;--- This is just an id and not the whole object bc it already exists in the other object\n]\n</code></pre>\n<p>Here the Channel 252 is shown bc of the same user reference but no shown a second time.How can I fix this in a smart way.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package ch.fwesterath.kahlifarspringapi.user.ttvchannel;\n\nimport ch.fwesterath.kahlifarspringapi.user.user.User;\nimport com.fasterxml.jackson.annotation.JsonIdentityInfo;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.annotation.ObjectIdGenerators;\nimport jakarta.persistence.*;\nimport lombok.Getter;\nimport lombok.Setter;\nimport lombok.ToString;\n\n@Entity\n@Table(name = &quot;ttv_channel&quot;)\n@Getter\n@Setter\n@ToString\n@JsonIdentityInfo(scope = TwitchChannel.class, generator = ObjectIdGenerators.PropertyGenerator.class, property = &quot;id&quot;)\npublic class TwitchChannel {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    @Column(name = &quot;id&quot;, nullable = false)\n    private Long id;\n\n    @Column(nullable = false, unique = true)\n    private String twitchName;\n\n    @Column(nullable = false)\n    private Boolean doPing = false;\n\n    @Column\n    private Long lastStreamId;\n\n    @Column\n    private Long lastMessageId;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User user;\n}\n\n</code></pre>\n"},{"tags":["java","jdbc","sybase"],"owner":{"account_id":20968521,"reputation":308,"user_id":15406157,"display_name":"Igor_M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679579842,"creation_date":1679579842,"question_id":75823974,"body_markdown":"I used `net.sourceforge.jtds.jdbc.Driver` driver for write connection and `com.sybase.jdbc3.jdbc.SybDriver` for read connection with Sybase.\r\n\r\nI replaced both with `com.sybase.jdbc42.jdbc.SybDriver` and now I on some operation I get exception\r\n\r\n```\r\ncom.sybase.jdbc42.jdbc.SybSQLException: SQL Anywhere Error -188: Not enough values for host variables\r\n        at com.sybase.jdbc42.tds.Tds.processEed(Tds.java:4230)\r\n        at com.sybase.jdbc42.tds.Tds.nextResult(Tds.java:3347)\r\n        at com.sybase.jdbc42.jdbc.ResultGetter.nextResult(ResultGetter.java:78)\r\n        at com.sybase.jdbc42.jdbc.SybStatement.nextResult(SybStatement.java:308)\r\n        at com.sybase.jdbc42.jdbc.SybStatement.nextResult(SybStatement.java:290)\r\n        at com.sybase.jdbc42.jdbc.SybStatement.updateLoop(SybStatement.java:2793)\r\n        at com.sybase.jdbc42.jdbc.SybStatement.executeUpdate(SybStatement.java:2777)\r\n        at com.sybase.jdbc42.jdbc.SybPreparedStatement.executeUpdate(SybPreparedStatement.java:335)\r\n        at org.apache.commons.dbcp2.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:136)\r\n        at org.apache.commons.dbcp2.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:136)\r\n        at my.package.MyClass...\r\n```\r\n\r\nI execute here multiple statements (7 statements) that in summary require 30 parameters. With remote debug I checked that all parameters are passed and there is no `null` values.\r\n\r\nSome other queries to DB are executed successfully as with old drivers. I didn&#39;t find what is the difference between successful queries and this one that fails.\r\n\r\nWhat could be a reason?","title":"Migration from com.sybase.jdbc3 to com.sybase.jdbc42 leads to SybSQLException","body":"<p>I used <code>net.sourceforge.jtds.jdbc.Driver</code> driver for write connection and <code>com.sybase.jdbc3.jdbc.SybDriver</code> for read connection with Sybase.</p>\n<p>I replaced both with <code>com.sybase.jdbc42.jdbc.SybDriver</code> and now I on some operation I get exception</p>\n<pre><code>com.sybase.jdbc42.jdbc.SybSQLException: SQL Anywhere Error -188: Not enough values for host variables\n        at com.sybase.jdbc42.tds.Tds.processEed(Tds.java:4230)\n        at com.sybase.jdbc42.tds.Tds.nextResult(Tds.java:3347)\n        at com.sybase.jdbc42.jdbc.ResultGetter.nextResult(ResultGetter.java:78)\n        at com.sybase.jdbc42.jdbc.SybStatement.nextResult(SybStatement.java:308)\n        at com.sybase.jdbc42.jdbc.SybStatement.nextResult(SybStatement.java:290)\n        at com.sybase.jdbc42.jdbc.SybStatement.updateLoop(SybStatement.java:2793)\n        at com.sybase.jdbc42.jdbc.SybStatement.executeUpdate(SybStatement.java:2777)\n        at com.sybase.jdbc42.jdbc.SybPreparedStatement.executeUpdate(SybPreparedStatement.java:335)\n        at org.apache.commons.dbcp2.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:136)\n        at org.apache.commons.dbcp2.DelegatingPreparedStatement.executeUpdate(DelegatingPreparedStatement.java:136)\n        at my.package.MyClass...\n</code></pre>\n<p>I execute here multiple statements (7 statements) that in summary require 30 parameters. With remote debug I checked that all parameters are passed and there is no <code>null</code> values.</p>\n<p>Some other queries to DB are executed successfully as with old drivers. I didn't find what is the difference between successful queries and this one that fails.</p>\n<p>What could be a reason?</p>\n"},{"tags":["java","sorting"],"comments":[{"owner":{"account_id":15847779,"reputation":4627,"user_id":11434552,"display_name":"Nexevis"},"score":2,"creation_date":1679579045,"post_id":75823786,"comment_id":133749148,"body_markdown":"`int[] arrayOfNumbers = new int[2];` How does this pass any test when the problem requires you take in 3 numbers and you are only using a size of 2?","body":"<code>int[] arrayOfNumbers = new int[2];</code> How does this pass any test when the problem requires you take in 3 numbers and you are only using a size of 2?"},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1679579054,"post_id":75823786,"comment_id":133749154,"body_markdown":"You only read in two numbers. This is not about negative numbers.","body":"You only read in two numbers. This is not about negative numbers."},{"owner":{"account_id":16178880,"reputation":106,"user_id":11680905,"display_name":"Shoshinmas"},"score":0,"creation_date":1679579511,"post_id":75823786,"comment_id":133749293,"body_markdown":"yeah, basic error with the array size not index. thanks!","body":"yeah, basic error with the array size not index. thanks!"},{"owner":{"account_id":16178880,"reputation":106,"user_id":11680905,"display_name":"Shoshinmas"},"score":0,"creation_date":1679579765,"post_id":75823786,"comment_id":133749380,"body_markdown":"@Nexevis it did pass these two tests though because the first two numbers either added or not.","body":"@Nexevis it did pass these two tests though because the first two numbers either added or not."}],"answers":[{"tags":[],"owner":{"account_id":16178880,"reputation":106,"user_id":11680905,"display_name":"Shoshinmas"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1679579625,"creation_date":1679579625,"answer_id":75823925,"question_id":75823786,"body_markdown":"Obviously, I made a basic error with the size of the array (index 2 is third element, but not the size itself). Corrected + another in the piece of code while going through indexes. \r\nThanks! ","title":"Java: check pair if sum to a given number not working with negative number","body":"<p>Obviously, I made a basic error with the size of the array (index 2 is third element, but not the size itself). Corrected + another in the piece of code while going through indexes.\nThanks!</p>\n"}],"owner":{"account_id":16178880,"reputation":106,"user_id":11680905,"display_name":"Shoshinmas"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1679579625,"creation_date":1679578879,"question_id":75823786,"body_markdown":"I&#39;m going through hyperskill and found such Java problem:\r\n\r\n&gt; Write a program that reads the numbers a, b, c and checks if there&#39;s a pair of them that adds up to exactly 20.\r\n\r\n&gt; The program must output true or false.\r\n\r\nNow I wrote this which passes two tests: &quot;1 2 3&quot; and &quot;4 16 7&quot; but fails with a negative number. Can you help me? \r\n\r\n    import java.util.Scanner;\r\n    import java.util.*;\r\n\r\n    class Main {\r\n    public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        int[] arrayOfNumbers = new int[2];\r\n        int howMuch = 20;\r\n        int size = 2;\r\n        \r\n        for (int i = 0; i &lt;= (arrayOfNumbers.length -1); i++){\r\n            int number = scanner.nextInt();\r\n            arrayOfNumbers[i] = number;\r\n            }\r\n\r\n        if (hasArrayTwoCandidates(arrayOfNumbers, size, howMuch)) {\r\n            System.out.println(&quot;true&quot;);\r\n        }\r\n        else {\r\n            System.out.println(&quot;false&quot;);\r\n        }\r\n    }\r\n\r\n    static boolean hasArrayTwoCandidates(int A[], int arr_size, int sum)\r\n    {\r\n        int l, r;\r\n  \r\n        Arrays.sort(A);\r\n  \r\n        l = 0;\r\n        r = arr_size - 1;\r\n        while (l &lt; r) {\r\n            if (A[l] + A[r] == sum)\r\n                return true;\r\n            else if (A[l] + A[r] &lt; sum)\r\n                l++;\r\n            else // A[i] + A[j] &gt; sum\r\n                r--;\r\n        }\r\n        return false;\r\n    }\r\n}\r\n","title":"Java: check pair if sum to a given number not working with negative number","body":"<p>I'm going through hyperskill and found such Java problem:</p>\n<blockquote>\n<p>Write a program that reads the numbers a, b, c and checks if there's a pair of them that adds up to exactly 20.</p>\n</blockquote>\n<blockquote>\n<p>The program must output true or false.</p>\n</blockquote>\n<p>Now I wrote this which passes two tests: &quot;1 2 3&quot; and &quot;4 16 7&quot; but fails with a negative number. Can you help me?</p>\n<pre><code>import java.util.Scanner;\nimport java.util.*;\n\nclass Main {\npublic static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    int[] arrayOfNumbers = new int[2];\n    int howMuch = 20;\n    int size = 2;\n    \n    for (int i = 0; i &lt;= (arrayOfNumbers.length -1); i++){\n        int number = scanner.nextInt();\n        arrayOfNumbers[i] = number;\n        }\n\n    if (hasArrayTwoCandidates(arrayOfNumbers, size, howMuch)) {\n        System.out.println(&quot;true&quot;);\n    }\n    else {\n        System.out.println(&quot;false&quot;);\n    }\n}\n\nstatic boolean hasArrayTwoCandidates(int A[], int arr_size, int sum)\n{\n    int l, r;\n\n    Arrays.sort(A);\n\n    l = 0;\n    r = arr_size - 1;\n    while (l &lt; r) {\n        if (A[l] + A[r] == sum)\n            return true;\n        else if (A[l] + A[r] &lt; sum)\n            l++;\n        else // A[i] + A[j] &gt; sum\n            r--;\n    }\n    return false;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","gradle"],"comments":[{"owner":{"account_id":8532578,"reputation":39918,"user_id":6395627,"display_name":"Slaw"},"score":1,"creation_date":1679579903,"post_id":75823876,"comment_id":133749441,"body_markdown":"Only if `A` itself doesn&#39;t directly make use of the transitive dependency. Or, I suppose, if you know for a fact that you never use any classes in `A` that directly or indirectly require classes from the transitive dependency (though that won&#39;t work if you&#39;re using JPMS modules unless `A` uses `requires static` for the transitive dependency). Or this _might_ be safe if you&#39;re trying to _replace_ the transitive dependency with a different version.","body":"Only if <code>A</code> itself doesn&#39;t directly make use of the transitive dependency. Or, I suppose, if you know for a fact that you never use any classes in <code>A</code> that directly or indirectly require classes from the transitive dependency (though that won&#39;t work if you&#39;re using JPMS modules unless <code>A</code> uses <code>requires static</code> for the transitive dependency). Or this <i>might</i> be safe if you&#39;re trying to <i>replace</i> the transitive dependency with a different version."}],"owner":{"account_id":20439299,"reputation":105,"user_id":14996394,"display_name":"Ajay Sabarish"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679579338,"creation_date":1679579338,"question_id":75823876,"body_markdown":"In a Gradle project, can I exclude a transitive dependency safely if I am not using that module in my code ?\r\n\r\nSay I have a module B which is brought in as a transitive dependency by a direct dependency A. If I am not using module B directly in my code, can I safely remove the module B through through the below code ?\r\n\r\n```\r\ndependencies {\r\n    implementation(&#39;com.example.library:A:1.0.0&#39;) {\r\n        exclude group: &#39;com.example.exclude-group&#39;, module: &#39;B&#39;\r\n    }\r\n}\r\n```","title":"Can I remove a Gradle transitive dependency if I am not using the dependency in the code?","body":"<p>In a Gradle project, can I exclude a transitive dependency safely if I am not using that module in my code ?</p>\n<p>Say I have a module B which is brought in as a transitive dependency by a direct dependency A. If I am not using module B directly in my code, can I safely remove the module B through through the below code ?</p>\n<pre><code>dependencies {\n    implementation('com.example.library:A:1.0.0') {\n        exclude group: 'com.example.exclude-group', module: 'B'\n    }\n}\n</code></pre>\n"},{"tags":["java","maven","unit-testing","liquibase"],"comments":[{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1447585964,"post_id":33718685,"comment_id":55208141,"body_markdown":"Try to remove the `src/main/resources` part so that the path becomes `&lt;changeLogFile&gt;/db/changelog/changelog-master.xml&lt;/changeLogFile&gt;` and `&lt;sqlFile path=&quot;/db/changelog/inserts.sql&quot; /&gt;`","body":"Try to remove the <code>src&#47;main&#47;resources</code> part so that the path becomes <code>&lt;changeLogFile&gt;&#47;db&#47;changelog&#47;changelog-master.xml&lt;&#47;changeLog&zwnj;&#8203;File&gt;</code> and <code>&lt;sqlFile path=&quot;&#47;db&#47;changelog&#47;inserts.sql&quot; &#47;&gt;</code>"},{"owner":{"account_id":3842141,"reputation":345,"user_id":3184907,"accept_rate":43,"display_name":"naslami"},"score":0,"creation_date":1447586421,"post_id":33718685,"comment_id":55208262,"body_markdown":"nothing chenged. There is always no trace for the _inserts.sql_ file in the log","body":"nothing chenged. There is always no trace for the <i>inserts.sql</i> file in the log"},{"owner":{"account_id":3842141,"reputation":345,"user_id":3184907,"accept_rate":43,"display_name":"naslami"},"score":0,"creation_date":1447589109,"post_id":33718685,"comment_id":55208934,"body_markdown":"I tried also to add the sql script directly in the `sql tag` but always nothing new. No trace of the inserts","body":"I tried also to add the sql script directly in the <code>sql tag</code> but always nothing new. No trace of the inserts"},{"owner":{"account_id":3842141,"reputation":345,"user_id":3184907,"accept_rate":43,"display_name":"naslami"},"score":0,"creation_date":1447592080,"post_id":33718685,"comment_id":55209753,"body_markdown":"In fact I just noticed that the changelog is not executed at all","body":"In fact I just noticed that the changelog is not executed at all"},{"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"score":0,"creation_date":1447592175,"post_id":33718685,"comment_id":55209776,"body_markdown":"Try to move the change log inside `src/test/resources`.","body":"Try to move the change log inside <code>src&#47;test&#47;resources</code>."},{"owner":{"account_id":7047892,"reputation":2457,"user_id":5398113,"display_name":"question_maven_com"},"score":0,"creation_date":1447669543,"post_id":33718685,"comment_id":55234890,"body_markdown":"Add ${basedir} : ${basedir}/src/main/resources","body":"Add ${basedir} : ${basedir}/src/main/resources"},{"owner":{"account_id":7047892,"reputation":2457,"user_id":5398113,"display_name":"question_maven_com"},"score":0,"creation_date":1447669579,"post_id":33718685,"comment_id":55234905,"body_markdown":"Not forget   &lt;dependency&gt;&lt;groupId&gt;mysql&lt;/groupId&gt;           &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;","body":"Not forget   &lt;dependency&gt;&lt;groupId&gt;mysql&lt;/groupId&gt;           &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;"},{"owner":{"account_id":1260896,"reputation":1488,"user_id":1219213,"accept_rate":60,"display_name":"TheRealChx101"},"score":0,"creation_date":1599297009,"post_id":33718685,"comment_id":112735510,"body_markdown":"I would go with flyway. It&#39;s must cleaner and much more fluent that Liquibase. Liquibase is all over the place. You have to deal with XML files when all you want to do is write handle database migrations. Flyway handles everything for you. Liquibase is poorly written and its documentation is not that great either.","body":"I would go with flyway. It&#39;s must cleaner and much more fluent that Liquibase. Liquibase is all over the place. You have to deal with XML files when all you want to do is write handle database migrations. Flyway handles everything for you. Liquibase is poorly written and its documentation is not that great either."}],"answers":[{"comments":[{"owner":{"account_id":3514828,"reputation":7737,"user_id":2938526,"display_name":"Rodrigo Rodrigues"},"score":1,"creation_date":1642178962,"post_id":46817767,"comment_id":125010031,"body_markdown":"Tip: you can use `relativeToChangelogFile=&quot;true&quot;` attribute inside `sqlFile` tag if you don&#39;t want to put the absolute file path.","body":"Tip: you can use <code>relativeToChangelogFile=&quot;true&quot;</code> attribute inside <code>sqlFile</code> tag if you don&#39;t want to put the absolute file path."},{"owner":{"account_id":68986,"reputation":21295,"user_id":200987,"accept_rate":69,"display_name":"oligofren"},"score":0,"creation_date":1699982812,"post_id":46817767,"comment_id":136598003,"body_markdown":"That&#39;s incorrect. The XSD for `sqlFile` clearly shows dbms as one of the optional fields. This works fine without.","body":"That&#39;s incorrect. The XSD for <code>sqlFile</code> clearly shows dbms as one of the optional fields. This works fine without."}],"tags":[],"owner":{"account_id":6895596,"reputation":51,"user_id":5297663,"display_name":"Juan Sebastian Alvarez Eraso"},"comment_count":2,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1508354809,"creation_date":1508354809,"answer_id":46817767,"question_id":33718685,"body_markdown":"Your `&lt;sqlFile&gt;` tag needs an additional attribute called &quot;dbms&quot;. The dbms specifies your database provider. As you use a &quot;org.hsqldb.jdbcDriver&quot; you need this:\r\n\r\n    &lt;changeSet id=&quot;18&quot; author=&quot;naslami&quot;&gt;\r\n        &lt;sqlFile dbms=&quot;hsqldb&quot; path=&quot;src/main/resources/db/changelog/inserts.sql&quot; /&gt;\r\n    &lt;/changeSet&gt;\r\n\r\nor:\r\n\r\n    &lt;changeSet id=&quot;18&quot; author=&quot;naslami&quot;&gt;\r\n        &lt;sqlFile dbms=&quot;h2&quot; path=&quot;src/main/resources/db/changelog/inserts.sql&quot; /&gt;\r\n    &lt;/changeSet&gt;\r\n\r\nThe liquibase docs here http://www.liquibase.org/documentation/changes/sql_file.html","title":"SQL File in liquibase never executed","body":"<p>Your <code>&lt;sqlFile&gt;</code> tag needs an additional attribute called \"dbms\". The dbms specifies your database provider. As you use a \"org.hsqldb.jdbcDriver\" you need this:</p>\n\n<pre><code>&lt;changeSet id=\"18\" author=\"naslami\"&gt;\n    &lt;sqlFile dbms=\"hsqldb\" path=\"src/main/resources/db/changelog/inserts.sql\" /&gt;\n&lt;/changeSet&gt;\n</code></pre>\n\n<p>or:</p>\n\n<pre><code>&lt;changeSet id=\"18\" author=\"naslami\"&gt;\n    &lt;sqlFile dbms=\"h2\" path=\"src/main/resources/db/changelog/inserts.sql\" /&gt;\n&lt;/changeSet&gt;\n</code></pre>\n\n<p>The liquibase docs here <a href=\"http://www.liquibase.org/documentation/changes/sql_file.html\" rel=\"nofollow noreferrer\">http://www.liquibase.org/documentation/changes/sql_file.html</a></p>\n"},{"tags":[],"owner":{"account_id":4306454,"reputation":35,"user_id":3518701,"display_name":"Kuldeep Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679579298,"creation_date":1679579298,"answer_id":75823869,"question_id":33718685,"body_markdown":"Just remove the `src/main/resources/` from `path` tag\r\n\r\n    &lt;changeSet id=&quot;18&quot; author=&quot;naslami&quot;&gt;\r\n        &lt;sqlFile path=&quot;db/changelog/inserts.sql&quot; /&gt;\r\n    &lt;/changeSet&gt;","title":"SQL File in liquibase never executed","body":"<p>Just remove the <code>src/main/resources/</code> from <code>path</code> tag</p>\n<pre><code>&lt;changeSet id=&quot;18&quot; author=&quot;naslami&quot;&gt;\n    &lt;sqlFile path=&quot;db/changelog/inserts.sql&quot; /&gt;\n&lt;/changeSet&gt;\n</code></pre>\n"}],"owner":{"account_id":3842141,"reputation":345,"user_id":3184907,"accept_rate":43,"display_name":"naslami"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19941,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1679579298,"creation_date":1447583288,"question_id":33718685,"body_markdown":"I&#39;m using liquibase with maven and I have a configuration for unit test \r\n\r\n    &lt;configuration&gt;\r\n        &lt;changeLogFile&gt;src/main/resources/db/changelog/changelog-master.xml&lt;/changeLogFile&gt;\r\n        &lt;driver&gt;org.hsqldb.jdbcDriver&lt;/driver&gt;\r\n        &lt;url&gt;jdbc:hsqldb:mem:testdb;shutdown=true&lt;/url&gt;                 \r\n        &lt;referenceUrl&gt;persistence:webapp&lt;/referenceUrl&gt;                 \r\n        &lt;username&gt;sa&lt;/username&gt;\r\n        &lt;password&gt;&lt;/password&gt;\r\n    &lt;/configuration&gt; \r\nIn my changelog I use an sqlFile tag to execute insert statments. \r\n\r\n    &lt;changeSet id=&quot;18&quot; author=&quot;naslami&quot;&gt;\r\n        &lt;sqlFile path=&quot;src/main/resources/db/changelog/inserts.sql&quot; /&gt;\r\n    &lt;/changeSet&gt;\r\nBut when I look in the log, the _insert.sql_ file is never executed.\r\nDo you have and idea why liquibase does not execute the _insert.sql_ file?\r\n\r\n        &lt;plugin&gt;\r\n                &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\r\n                &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${liquibase.version}&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;install&lt;/id&gt;\r\n                        &lt;phase&gt;install&lt;/phase&gt;                                                                  \r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;update&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;changeLogFile&gt;src/main/resources/db/changelog/changelog-master.xml&lt;/changeLogFile&gt;\r\n                            &lt;driver&gt;com.mysql.jdbc.Driver&lt;/driver&gt;\r\n                            &lt;url&gt;jdbc:mysql://localhost:3306/mydb&lt;/url&gt;                 \r\n                            &lt;referenceUrl&gt;persistence:webapp&lt;/referenceUrl&gt;                 \r\n                            &lt;username&gt;user&lt;/username&gt;\r\n                            &lt;password&gt;password&lt;/password&gt;\r\n                        &lt;/configuration&gt; \r\n                    &lt;/execution&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;test&lt;/id&gt;\r\n                        &lt;phase&gt;test&lt;/phase&gt;                                                                  \r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;update&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;changeLogFile&gt;src/main/resources/db/changelog/changelog-master.xml&lt;/changeLogFile&gt;\r\n                            &lt;driver&gt;org.hsqldb.jdbcDriver&lt;/driver&gt;\r\n                            &lt;url&gt;jdbc:hsqldb:mem:testdb;shutdown=true&lt;/url&gt;                 \r\n                            &lt;referenceUrl&gt;persistence:webapp&lt;/referenceUrl&gt;                 \r\n                            &lt;username&gt;sa&lt;/username&gt;\r\n                            &lt;password&gt;&lt;/password&gt;\r\n                        &lt;/configuration&gt; \r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt; \t","title":"SQL File in liquibase never executed","body":"<p>I'm using liquibase with maven and I have a configuration for unit test </p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;changeLogFile&gt;src/main/resources/db/changelog/changelog-master.xml&lt;/changeLogFile&gt;\n    &lt;driver&gt;org.hsqldb.jdbcDriver&lt;/driver&gt;\n    &lt;url&gt;jdbc:hsqldb:mem:testdb;shutdown=true&lt;/url&gt;                 \n    &lt;referenceUrl&gt;persistence:webapp&lt;/referenceUrl&gt;                 \n    &lt;username&gt;sa&lt;/username&gt;\n    &lt;password&gt;&lt;/password&gt;\n&lt;/configuration&gt; \n</code></pre>\n\n<p>In my changelog I use an sqlFile tag to execute insert statments. </p>\n\n<pre><code>&lt;changeSet id=\"18\" author=\"naslami\"&gt;\n    &lt;sqlFile path=\"src/main/resources/db/changelog/inserts.sql\" /&gt;\n&lt;/changeSet&gt;\n</code></pre>\n\n<p>But when I look in the log, the <em>insert.sql</em> file is never executed.\nDo you have and idea why liquibase does not execute the <em>insert.sql</em> file?</p>\n\n<pre><code>    &lt;plugin&gt;\n            &lt;groupId&gt;org.liquibase&lt;/groupId&gt;\n            &lt;artifactId&gt;liquibase-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${liquibase.version}&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;install&lt;/id&gt;\n                    &lt;phase&gt;install&lt;/phase&gt;                                                                  \n                    &lt;goals&gt;\n                        &lt;goal&gt;update&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;changeLogFile&gt;src/main/resources/db/changelog/changelog-master.xml&lt;/changeLogFile&gt;\n                        &lt;driver&gt;com.mysql.jdbc.Driver&lt;/driver&gt;\n                        &lt;url&gt;jdbc:mysql://localhost:3306/mydb&lt;/url&gt;                 \n                        &lt;referenceUrl&gt;persistence:webapp&lt;/referenceUrl&gt;                 \n                        &lt;username&gt;user&lt;/username&gt;\n                        &lt;password&gt;password&lt;/password&gt;\n                    &lt;/configuration&gt; \n                &lt;/execution&gt;\n                &lt;execution&gt;\n                    &lt;id&gt;test&lt;/id&gt;\n                    &lt;phase&gt;test&lt;/phase&gt;                                                                  \n                    &lt;goals&gt;\n                        &lt;goal&gt;update&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;changeLogFile&gt;src/main/resources/db/changelog/changelog-master.xml&lt;/changeLogFile&gt;\n                        &lt;driver&gt;org.hsqldb.jdbcDriver&lt;/driver&gt;\n                        &lt;url&gt;jdbc:hsqldb:mem:testdb;shutdown=true&lt;/url&gt;                 \n                        &lt;referenceUrl&gt;persistence:webapp&lt;/referenceUrl&gt;                 \n                        &lt;username&gt;sa&lt;/username&gt;\n                        &lt;password&gt;&lt;/password&gt;\n                    &lt;/configuration&gt; \n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;   \n</code></pre>\n"},{"tags":["java","spring-webflux","project-reactor","server-sent-events"],"comments":[{"owner":{"account_id":12455565,"reputation":5317,"user_id":9068895,"display_name":"Alex"},"score":1,"creation_date":1679582546,"post_id":75823193,"comment_id":133750320,"body_markdown":"`subscribe` is not blocking operation and most probably you application exists before receiving data. Try to add Thread.sleep(N).","body":"<code>subscribe</code> is not blocking operation and most probably you application exists before receiving data. Try to add Thread.sleep(N)."}],"owner":{"account_id":3106126,"reputation":31281,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":266,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679579185,"creation_date":1679575733,"question_id":75823193,"body_markdown":"I want to use webflux to consume some server sent events in Java 11, this is the minimal runnable code looks like:\r\n\r\n\r\n\r\n    public static void main(String[] args) {\r\n            consumeServerSentEvent();\r\n        }\r\n    \r\n        public static void consumeServerSentEvent() {\r\n            WebClient client = WebClient.create(&quot;https://chat.poemhub.top&quot;);\r\n            ParameterizedTypeReference&lt;ServerSentEvent&lt;String&gt;&gt; type = new ParameterizedTypeReference&lt;&gt;() {};\r\n            Flux&lt;ServerSentEvent&lt;String&gt;&gt; eventStream = client.get()\r\n                    .uri(&quot;/v1/completions?q=hello&quot;)\r\n                    .headers(httpHeaders -&gt; {\r\n                        httpHeaders.set(&quot;Authorization&quot;, &quot;Bearer sk-DRjSqzDl3xHL1234663AfET3BlbkFJfQXGId4540GNmZqr7ss&quot;);\r\n                        httpHeaders.set(&quot;Content-Type&quot;,MediaType.TEXT_EVENT_STREAM.toString());\r\n                    })\r\n                    .retrieve()\r\n                    .bodyToFlux(type);\r\n    \r\n            eventStream.subscribe(\r\n                    content -&gt; {\r\n                        log.info(&quot;Time: {} - event: name[{}], id [{}], content[{}] &quot;,\r\n                            LocalTime.now(), content.event(), content.id(), content.data());\r\n                        },\r\n                    error -&gt; {\r\n                        log.error(&quot;Error receiving SSE: {}&quot;, error);\r\n                        },\r\n                    () -&gt; {\r\n                        log.info(&quot;Completed!!!&quot;);\r\n                    }\r\n            );\r\n        }\r\n\r\n\r\nwhen I using curl command to test the sse api, it works like this:\r\n\r\n\r\n    ➜  ~ curl -N -H &quot;Authorization: Bearer sk-DRjSqzDlwieHL12UvxAfET3BlbkFJfQioueNmZqr7ss&quot; https://chat.poemhub.top/v1/completions\\?q\\=hello\r\n    \r\n    [{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot;\\n&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot;\\n&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot;Hello&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot; there&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot;!&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot; How&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot; can&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot; I&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot; help&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot; you&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot;?&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;}]%\r\n\r\n\r\n\r\n\r\nbut when I run this code using webflux to recived the server side events, no log output. Am I missing something? what should I do to fixed this problem?\r\n\r\n\r\n","title":"the webflux to consume server sent events have no valid response","body":"<p>I want to use webflux to consume some server sent events in Java 11, this is the minimal runnable code looks like:</p>\n<pre><code>public static void main(String[] args) {\n        consumeServerSentEvent();\n    }\n\n    public static void consumeServerSentEvent() {\n        WebClient client = WebClient.create(&quot;https://chat.poemhub.top&quot;);\n        ParameterizedTypeReference&lt;ServerSentEvent&lt;String&gt;&gt; type = new ParameterizedTypeReference&lt;&gt;() {};\n        Flux&lt;ServerSentEvent&lt;String&gt;&gt; eventStream = client.get()\n                .uri(&quot;/v1/completions?q=hello&quot;)\n                .headers(httpHeaders -&gt; {\n                    httpHeaders.set(&quot;Authorization&quot;, &quot;Bearer sk-DRjSqzDl3xHL1234663AfET3BlbkFJfQXGId4540GNmZqr7ss&quot;);\n                    httpHeaders.set(&quot;Content-Type&quot;,MediaType.TEXT_EVENT_STREAM.toString());\n                })\n                .retrieve()\n                .bodyToFlux(type);\n\n        eventStream.subscribe(\n                content -&gt; {\n                    log.info(&quot;Time: {} - event: name[{}], id [{}], content[{}] &quot;,\n                        LocalTime.now(), content.event(), content.id(), content.data());\n                    },\n                error -&gt; {\n                    log.error(&quot;Error receiving SSE: {}&quot;, error);\n                    },\n                () -&gt; {\n                    log.info(&quot;Completed!!!&quot;);\n                }\n        );\n    }\n</code></pre>\n<p>when I using curl command to test the sse api, it works like this:</p>\n<pre><code>➜  ~ curl -N -H &quot;Authorization: Bearer sk-DRjSqzDlwieHL12UvxAfET3BlbkFJfQioueNmZqr7ss&quot; https://chat.poemhub.top/v1/completions\\?q\\=hello\n\n[{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot;\\n&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot;\\n&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot;Hello&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot; there&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot;!&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot; How&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot; can&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot; I&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot; help&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot; you&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;},{&quot;id&quot;:&quot;cmpl-6xEWYsb3cce1Xni4Xsqv8OdkU2EpQ&quot;,&quot;object&quot;:&quot;text_completion&quot;,&quot;created&quot;:1679575202,&quot;choices&quot;:[{&quot;text&quot;:&quot;?&quot;,&quot;index&quot;:0,&quot;logprobs&quot;:null,&quot;finish_reason&quot;:null}],&quot;model&quot;:&quot;text-davinci-003&quot;}]%\n</code></pre>\n<p>but when I run this code using webflux to recived the server side events, no log output. Am I missing something? what should I do to fixed this problem?</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":10014547,"reputation":1156,"user_id":7406338,"display_name":"Morph21"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679579184,"creation_date":1679579184,"answer_id":75823848,"question_id":75823650,"body_markdown":"It looks like the text that you are trying to parse is empty so it cannot be parsed. \r\n\r\nIf you read source description of function parseInt(String s) you will see that it&#39;s clearly stated that each character inside must be a digit not counting first character which can be a minus sign.\r\n\r\nquote\r\n\r\n    /**\r\n     * Parses the string argument as a signed decimal integer. The\r\n     * characters in the string must all be decimal digits, except\r\n     * that the first character may be an ASCII minus sign {@code &#39;-&#39;}\r\n     * ({@code &#39;\\u005Cu002D&#39;}) to indicate a negative value or an\r\n     * ASCII plus sign {@code &#39;+&#39;} ({@code &#39;\\u005Cu002B&#39;}) to\r\n     * indicate a positive value. The resulting integer value is\r\n     * returned, exactly as if the argument and the radix 10 were\r\n     * given as arguments to the {@link #parseInt(java.lang.String,\r\n     * int)} method.\r\n     *\r\n     * @param s    a {@code String} containing the {@code int}\r\n     *             representation to be parsed\r\n     * @return     the integer value represented by the argument in decimal.\r\n     * @exception  NumberFormatException  if the string does not contain a\r\n     *               parsable integer.\r\n     */\r\n","title":"java GUI did not open after in IntelliJ","body":"<p>It looks like the text that you are trying to parse is empty so it cannot be parsed.</p>\n<p>If you read source description of function parseInt(String s) you will see that it's clearly stated that each character inside must be a digit not counting first character which can be a minus sign.</p>\n<p>quote</p>\n<pre><code>/**\n * Parses the string argument as a signed decimal integer. The\n * characters in the string must all be decimal digits, except\n * that the first character may be an ASCII minus sign {@code '-'}\n * ({@code '\\u005Cu002D'}) to indicate a negative value or an\n * ASCII plus sign {@code '+'} ({@code '\\u005Cu002B'}) to\n * indicate a positive value. The resulting integer value is\n * returned, exactly as if the argument and the radix 10 were\n * given as arguments to the {@link #parseInt(java.lang.String,\n * int)} method.\n *\n * @param s    a {@code String} containing the {@code int}\n *             representation to be parsed\n * @return     the integer value represented by the argument in decimal.\n * @exception  NumberFormatException  if the string does not contain a\n *               parsable integer.\n */\n</code></pre>\n"}],"owner":{"account_id":23506485,"reputation":3,"user_id":17555685,"display_name":"Simon Devisch"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75823848,"answer_count":1,"score":0,"last_activity_date":1679579184,"creation_date":1679578207,"question_id":75823650,"body_markdown":"i try to run the GUI and the program opens but i can&#39;t see the window. After 10 seconds it closes again and gives this error:\r\n\r\n\\--\r\n\r\n```\r\n/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=49311:/Applications/IntelliJ IDEA.app/Contents/bin -Dfile.encoding=UTF-8 -classpath OverervingFiguren/target/classes presentatie.FiguurGUI\r\n\r\nException in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;&quot;\r\n\tat java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\r\n\tat java.base/java.lang.Integer.parseInt(Integer.java:678)\r\n\tat java.base/java.lang.Integer.parseInt(Integer.java:786)\r\n\tat presentatie.FiguurGUI.&lt;init&gt;(FiguurGUI.java:21)\r\n\tat presentatie.FiguurGUI.main(FiguurGUI.java:66)\r\n\r\nProcess finished with exit code 1\r\n```\r\n\r\nthis is my Figuur GUI in the same package &#39;presentatie&#39; as the form. i use code out of the package &#39;logica&#39;. i use an enum and two classes &#39;Vierkant&#39; and &#39;Cirkel&#39;. The error on line 21 indicates to &#39; `int x = Integer.parseInt(TextxCoordinaat.getText());&#39; `\r\n\r\nline 66 is \r\n\r\n```\r\nframe.setContentPane(new FiguurGUI().FiguurGUI);\r\n```\r\n\r\n```\r\npackage presentatie;\r\n\r\n\r\npublic class FiguurGUI {\r\n    private JTextField TextxCoordinaat;\r\n    int x = Integer.parseInt(TextxCoordinaat.getText());\r\n    private JTextField TextyCoordinaat;\r\n    int y = Integer.parseInt(TextyCoordinaat.getText());\r\n    private JComboBox&lt;Kleur&gt; comboKleur;\r\n    Kleur kleur = Kleur.valueOf((String) comboKleur.getSelectedItem());\r\n    private JComboBox&lt;Kleur&gt; comboKleurRand;\r\n    Kleur kleurRand = Kleur.valueOf((String) comboKleurRand.getSelectedItem());\r\n    private JRadioButton cirkelRadioButton;\r\n    private JRadioButton vierkantRadioButton;\r\n    private JButton voegToeButton;\r\n    private JButton undoButton;\r\n    private JSpinner SpinDikteRand;\r\n    int dikteRand = (int) SpinDikteRand.getValue();\r\n    private JTextField Textgrootte;\r\n    double grootte = Double.parseDouble(Textgrootte.getText());\r\n    private JPanel FiguurGUI;\r\n    private JTextField TextOutput;\r\n    private ArrayList&lt;String&gt; outputLijst = new ArrayList&lt;&gt;();\r\n\r\n\r\n    public FiguurGUI() {\r\n        voegToeButton.addActionListener(new ActionListener() {\r\n            @Override\r\n            public void actionPerformed(ActionEvent e) {\r\n                if (cirkelRadioButton.isSelected()) {\r\n                Cirkel cirkel = new Cirkel(new Punt(x, y), grootte, kleur, kleurRand, dikteRand);\r\n                    outputLijst.add(cirkel.toString());\r\n                    System.out.println(&quot;cirkel!!!&quot;);\r\n                } if (vierkantRadioButton.isSelected()) {\r\n                    Vierkant vierkant = new Vierkant(new Punt(x, y), grootte, kleur, kleurRand, dikteRand);\r\n                    outputLijst.add(vierkant.toString());\r\n                    System.out.println(&quot;vierkant!!!&quot;);\r\n                } else {\r\n                    throw new IllegalArgumentException(&quot;Kies uit cirkel of vierkant&quot;);\r\n                }\r\n\r\n                TextOutput.setText(outputLijst.toString());\r\n\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        JFrame frame = new JFrame(&quot;FiguurGUI&quot;);\r\n        frame.setContentPane(new FiguurGUI().FiguurGUI);\r\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n        frame.setSize(740, 440);\r\n        frame.setVisible(true);\r\n    }\r\n\r\n}\r\n```\r\n\r\nI tried to run project with GUI and that worked perfectly so I don&#39;t know what the problem can be.\r\n\r\nhere is a picture how i organized the form:\r\n\r\n[the form GUI](https://i.stack.imgur.com/ZJnjN.png) ","title":"java GUI did not open after in IntelliJ","body":"<p>i try to run the GUI and the program opens but i can't see the window. After 10 seconds it closes again and gives this error:</p>\n<p>--</p>\n<pre><code>/Library/Java/JavaVirtualMachines/temurin-17.jdk/Contents/Home/bin/java -javaagent:/Applications/IntelliJ IDEA.app/Contents/lib/idea_rt.jar=49311:/Applications/IntelliJ IDEA.app/Contents/bin -Dfile.encoding=UTF-8 -classpath OverervingFiguren/target/classes presentatie.FiguurGUI\n\nException in thread &quot;main&quot; java.lang.NumberFormatException: For input string: &quot;&quot;\n    at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:67)\n    at java.base/java.lang.Integer.parseInt(Integer.java:678)\n    at java.base/java.lang.Integer.parseInt(Integer.java:786)\n    at presentatie.FiguurGUI.&lt;init&gt;(FiguurGUI.java:21)\n    at presentatie.FiguurGUI.main(FiguurGUI.java:66)\n\nProcess finished with exit code 1\n</code></pre>\n<p>this is my Figuur GUI in the same package 'presentatie' as the form. i use code out of the package 'logica'. i use an enum and two classes 'Vierkant' and 'Cirkel'. The error on line 21 indicates to ' <code>int x = Integer.parseInt(TextxCoordinaat.getText());' </code></p>\n<p>line 66 is</p>\n<pre><code>frame.setContentPane(new FiguurGUI().FiguurGUI);\n</code></pre>\n<pre><code>package presentatie;\n\n\npublic class FiguurGUI {\n    private JTextField TextxCoordinaat;\n    int x = Integer.parseInt(TextxCoordinaat.getText());\n    private JTextField TextyCoordinaat;\n    int y = Integer.parseInt(TextyCoordinaat.getText());\n    private JComboBox&lt;Kleur&gt; comboKleur;\n    Kleur kleur = Kleur.valueOf((String) comboKleur.getSelectedItem());\n    private JComboBox&lt;Kleur&gt; comboKleurRand;\n    Kleur kleurRand = Kleur.valueOf((String) comboKleurRand.getSelectedItem());\n    private JRadioButton cirkelRadioButton;\n    private JRadioButton vierkantRadioButton;\n    private JButton voegToeButton;\n    private JButton undoButton;\n    private JSpinner SpinDikteRand;\n    int dikteRand = (int) SpinDikteRand.getValue();\n    private JTextField Textgrootte;\n    double grootte = Double.parseDouble(Textgrootte.getText());\n    private JPanel FiguurGUI;\n    private JTextField TextOutput;\n    private ArrayList&lt;String&gt; outputLijst = new ArrayList&lt;&gt;();\n\n\n    public FiguurGUI() {\n        voegToeButton.addActionListener(new ActionListener() {\n            @Override\n            public void actionPerformed(ActionEvent e) {\n                if (cirkelRadioButton.isSelected()) {\n                Cirkel cirkel = new Cirkel(new Punt(x, y), grootte, kleur, kleurRand, dikteRand);\n                    outputLijst.add(cirkel.toString());\n                    System.out.println(&quot;cirkel!!!&quot;);\n                } if (vierkantRadioButton.isSelected()) {\n                    Vierkant vierkant = new Vierkant(new Punt(x, y), grootte, kleur, kleurRand, dikteRand);\n                    outputLijst.add(vierkant.toString());\n                    System.out.println(&quot;vierkant!!!&quot;);\n                } else {\n                    throw new IllegalArgumentException(&quot;Kies uit cirkel of vierkant&quot;);\n                }\n\n                TextOutput.setText(outputLijst.toString());\n\n            }\n        });\n\n    }\n\n    public static void main(String[] args) {\n        JFrame frame = new JFrame(&quot;FiguurGUI&quot;);\n        frame.setContentPane(new FiguurGUI().FiguurGUI);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        frame.setSize(740, 440);\n        frame.setVisible(true);\n    }\n\n}\n</code></pre>\n<p>I tried to run project with GUI and that worked perfectly so I don't know what the problem can be.</p>\n<p>here is a picture how i organized the form:</p>\n<p><a href=\"https://i.stack.imgur.com/ZJnjN.png\" rel=\"nofollow noreferrer\">the form GUI</a></p>\n"},{"tags":["java","android","kotlin","accessibility"],"comments":[{"owner":{"account_id":28647,"reputation":16447,"user_id":76714,"accept_rate":0,"display_name":"slugolicious"},"score":0,"creation_date":1678058017,"post_id":75643643,"comment_id":133454758,"body_markdown":"You want to get the text that Talkback speaks? I&#39;m not sure if that&#39;s available. What would you do with it? In general, when a screen reader (whether Talkback, VoiceOver [iOS], NVDA [pc], etc) announces an element, it will say the element&#39;s name (usually called the accessible name) which is the label for a button, the value or state of an element (not required for a button but makes sense for a checkbox [checked}), and an optional description. Then a screen reader might also say whether to &quot;double tap&quot; to select the element. It all depends on the user&#39;s screen reader settings.","body":"You want to get the text that Talkback speaks? I&#39;m not sure if that&#39;s available. What would you do with it? In general, when a screen reader (whether Talkback, VoiceOver [iOS], NVDA [pc], etc) announces an element, it will say the element&#39;s name (usually called the accessible name) which is the label for a button, the value or state of an element (not required for a button but makes sense for a checkbox [checked}), and an optional description. Then a screen reader might also say whether to &quot;double tap&quot; to select the element. It all depends on the user&#39;s screen reader settings."},{"owner":{"account_id":18690095,"reputation":1,"user_id":21337172,"display_name":"Slavikwin"},"score":0,"creation_date":1678070900,"post_id":75643643,"comment_id":133456265,"body_markdown":"Yes, i want get text that Talkback speaks. I want to try to make a library with which it will be possible to write automatic tests to check the correctness of the accessibility, but for this I need to somehow get the string that will be voiced by Talkback","body":"Yes, i want get text that Talkback speaks. I want to try to make a library with which it will be possible to write automatic tests to check the correctness of the accessibility, but for this I need to somehow get the string that will be voiced by Talkback"},{"owner":{"account_id":28647,"reputation":16447,"user_id":76714,"accept_rate":0,"display_name":"slugolicious"},"score":0,"creation_date":1678086073,"post_id":75643643,"comment_id":133458070,"body_markdown":"Your automatic tests should calculate the name, role, and value of the element since that is what the screen reader will announce.","body":"Your automatic tests should calculate the name, role, and value of the element since that is what the screen reader will announce."}],"answers":[{"tags":[],"owner":{"account_id":21896421,"reputation":187,"user_id":17846979,"display_name":"RandomLonelyDev"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679579184,"creation_date":1679579184,"answer_id":75823846,"question_id":75643643,"body_markdown":"The xml element contentdescription deals with screen reader speakable text.  Set this element","title":"How to programmatically get string that will be voiced by talkback(accessibility) in Android app","body":"<p>The xml element contentdescription deals with screen reader speakable text.  Set this element</p>\n"}],"owner":{"account_id":18690095,"reputation":1,"user_id":21337172,"display_name":"Slavikwin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1679579184,"creation_date":1678033259,"question_id":75643643,"body_markdown":"Help me please. I need to programmatically somehow get a string that will be announced using Talkback when hovering over a focus element, I was looking for ways to get this string in such classes - AccessibilityRecord , AccessibilityEvent , AccessibilityNodeInfo , but I didn’t find it (maybe I didn’t look carefully). \r\nFor example, in the screenshot, the focus is on the &quot;DONE&quot; button, it will be voiced &quot;DONE, Button. Double-tap to active.&quot; (The text that is spoken is written from the bottom of the screen in toast, this toast was enabled in the developer options), and I need to somehow get the voiced string as a program object (String). How can i do this?\r\n\r\n[First screen (first part of voice acting)](https://i.stack.imgur.com/R8Vwv.jpg)\r\n\r\n[Second screen (second part of voice acting)](https://i.stack.imgur.com/xdFv5.jpg)\r\n\r\nI was looking for ways to get this string in such classes - AccessibilityRecord , AccessibilityEvent , AccessibilityNodeInfo , but I didn’t find it (maybe I didn’t look carefully). ","title":"How to programmatically get string that will be voiced by talkback(accessibility) in Android app","body":"<p>Help me please. I need to programmatically somehow get a string that will be announced using Talkback when hovering over a focus element, I was looking for ways to get this string in such classes - AccessibilityRecord , AccessibilityEvent , AccessibilityNodeInfo , but I didn’t find it (maybe I didn’t look carefully).\nFor example, in the screenshot, the focus is on the &quot;DONE&quot; button, it will be voiced &quot;DONE, Button. Double-tap to active.&quot; (The text that is spoken is written from the bottom of the screen in toast, this toast was enabled in the developer options), and I need to somehow get the voiced string as a program object (String). How can i do this?</p>\n<p><a href=\"https://i.stack.imgur.com/R8Vwv.jpg\" rel=\"nofollow noreferrer\">First screen (first part of voice acting)</a></p>\n<p><a href=\"https://i.stack.imgur.com/xdFv5.jpg\" rel=\"nofollow noreferrer\">Second screen (second part of voice acting)</a></p>\n<p>I was looking for ways to get this string in such classes - AccessibilityRecord , AccessibilityEvent , AccessibilityNodeInfo , but I didn’t find it (maybe I didn’t look carefully).</p>\n"},{"tags":["java","android","countdowntimer"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1679593406,"post_id":75823833,"comment_id":133753526,"body_markdown":"Try looking at [Android: How to pause and resume a Count Down Timer?](https://stackoverflow.com/a/39245596/16653700)","body":"Try looking at <a href=\"https://stackoverflow.com/a/39245596/16653700\">Android: How to pause and resume a Count Down Timer?</a>"}],"owner":{"account_id":26617169,"reputation":1,"user_id":20236388,"display_name":"Matt"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679579118,"creation_date":1679579118,"question_id":75823833,"body_markdown":"I have spent the evening trying to implement a pause/resume button for my countdown timer. I thought I had it all working until after pausing and resuming the countdown timer failed to start my next countdown timer.\r\n\r\nIn my code I have a timer that has 3 different durations (1 for &quot;Get Ready&quot;, &quot;Hang&quot; and &quot;Rest&quot;) which begin after the previous timer hits 0. This cycle repeats 10 times (for the 10 sets) then ends. \r\n\r\nWhat would be the best way to implement a pause/resume button that would work across all 3 of my countdown durations and resumes the time from its current position after pausing? Any and all suggestions, example code would be greatly appreciated.\r\n\r\nI did end up removing the pause/resume button for now.\r\nI am very new to any kind of coding and wanted to see how far I could get before I needed some help.\r\n\r\nThanks.\r\n\r\n\r\n```\r\npublic class TimerFragment extends Fragment {\r\n\r\n    private static final long COUNTDOWN_DURATION = 7100; // 7 seconds in milliseconds\r\n    private static final long REST_DURATION = 111000; // 1 minute 50 seconds in milliseconds\r\n    private static final int NUM_SETS = 10;\r\n    private boolean mIsTimerRunning = false;\r\n    private int mCurrentSet = 1;\r\n    private TextView mTextView;\r\n    private Button mButton;\r\n    private CountDownTimer mTimer;\r\n\r\n\r\n    public TimerFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        View view = inflater.inflate(R.layout.fragment_timer, container, false);\r\n        mTextView = view.findViewById(R.id.timerTextView);\r\n        mButton = view.findViewById(R.id.buttonStart);\r\n        mButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (mIsTimerRunning) {\r\n                    stopTimer();\r\n                } else {\r\n                    startTimer();\r\n                }\r\n            }\r\n        });\r\n        return view;\r\n    }\r\n\r\n    private void startTimer() {\r\n        mIsTimerRunning = true;\r\n        mButton.setText(R.string.stop);\r\n\r\n        // Starts the &quot;GET READY&quot; countdown.\r\n        mTimer = new CountDownTimer(11000, 1000) {\r\n            public void onTick(long millisUntilFinished) {\r\n                mTextView.setText(String.valueOf(millisUntilFinished / 1000));\r\n                TextView statusTextView = getView().findViewById(R.id.statusTextView);\r\n                statusTextView.setText(&quot;준비&quot;);\r\n            }\r\n\r\n            public void onFinish() {\r\n                // Starts the &quot;HANG&quot; countdown.\r\n                mTimer = new CountDownTimer(COUNTDOWN_DURATION, 1000) {\r\n                    public void onTick(long millisUntilFinished) {\r\n                        mTextView.setText(String.valueOf(millisUntilFinished / 1000));\r\n                        TextView statusTextView = getView().findViewById(R.id.statusTextView);\r\n                        statusTextView.setText(&quot;행&quot;);\r\n                    }\r\n\r\n                    // Starts the &quot;REST&quot; countdown.\r\n                    public void onFinish() {\r\n                        long restTime = REST_DURATION / 1000;\r\n                        long minutes = restTime / 60;\r\n                        long seconds = restTime % 60;\r\n                        mTextView.setText(String.format(&quot;%02d:%02d&quot;, minutes, seconds));\r\n                        TextView statusTextView = getView().findViewById(R.id.statusTextView);\r\n                        statusTextView.setText(&quot;잠시 쉬다&quot;);\r\n                        mTimer = new CountDownTimer(REST_DURATION, 1000) {\r\n                            public void onTick(long millisUntilFinished) {\r\n                                long restTime = millisUntilFinished / 1000;\r\n                                long minutes = restTime / 60;\r\n                                long seconds = restTime % 60;\r\n                                mTextView.setText(String.format(&quot;%02d:%02d&quot;, minutes, seconds));\r\n                            }\r\n\r\n                            public void onFinish() {\r\n                                if (mCurrentSet &lt; NUM_SETS) {\r\n                                    mCurrentSet++;\r\n                                    TextView setTextView = getView().findViewById(R.id.setTextView);\r\n                                    setTextView.setText(&quot;세트 &quot; + mCurrentSet);\r\n                                    startTimer();\r\n                                } else {\r\n                                    mIsTimerRunning = false;\r\n                                    mButton.setText(R.string.start);\r\n                                    mCurrentSet = 1;\r\n                                }\r\n                            }\r\n                        }.start();\r\n                    }\r\n                }.start();\r\n            }\r\n        }.start();\r\n    }\r\n\r\n    private void stopTimer() {\r\n        mIsTimerRunning = false;\r\n        mButton.setText(R.string.start);\r\n        mTextView.setText(&quot;10&quot;);\r\n        mCurrentSet = 1;\r\n        TextView setTextView = getView().findViewById(R.id.setTextView);\r\n        setTextView.setText(&quot;세트 1&quot;);\r\n        if (mTimer != null) {\r\n            mTimer.cancel();\r\n            mTimer = null;\r\n        }\r\n        TextView statusTextView = getView().findViewById(R.id.statusTextView);\r\n        statusTextView.setText(&quot;준비가 된?&quot;);\r\n    }\r\n}\r\n```\r\n \r\n\r\n","title":"Adding a pause/resume button to my countdown timer","body":"<p>I have spent the evening trying to implement a pause/resume button for my countdown timer. I thought I had it all working until after pausing and resuming the countdown timer failed to start my next countdown timer.</p>\n<p>In my code I have a timer that has 3 different durations (1 for &quot;Get Ready&quot;, &quot;Hang&quot; and &quot;Rest&quot;) which begin after the previous timer hits 0. This cycle repeats 10 times (for the 10 sets) then ends.</p>\n<p>What would be the best way to implement a pause/resume button that would work across all 3 of my countdown durations and resumes the time from its current position after pausing? Any and all suggestions, example code would be greatly appreciated.</p>\n<p>I did end up removing the pause/resume button for now.\nI am very new to any kind of coding and wanted to see how far I could get before I needed some help.</p>\n<p>Thanks.</p>\n<pre><code>public class TimerFragment extends Fragment {\n\n    private static final long COUNTDOWN_DURATION = 7100; // 7 seconds in milliseconds\n    private static final long REST_DURATION = 111000; // 1 minute 50 seconds in milliseconds\n    private static final int NUM_SETS = 10;\n    private boolean mIsTimerRunning = false;\n    private int mCurrentSet = 1;\n    private TextView mTextView;\n    private Button mButton;\n    private CountDownTimer mTimer;\n\n\n    public TimerFragment() {\n        // Required empty public constructor\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        View view = inflater.inflate(R.layout.fragment_timer, container, false);\n        mTextView = view.findViewById(R.id.timerTextView);\n        mButton = view.findViewById(R.id.buttonStart);\n        mButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (mIsTimerRunning) {\n                    stopTimer();\n                } else {\n                    startTimer();\n                }\n            }\n        });\n        return view;\n    }\n\n    private void startTimer() {\n        mIsTimerRunning = true;\n        mButton.setText(R.string.stop);\n\n        // Starts the &quot;GET READY&quot; countdown.\n        mTimer = new CountDownTimer(11000, 1000) {\n            public void onTick(long millisUntilFinished) {\n                mTextView.setText(String.valueOf(millisUntilFinished / 1000));\n                TextView statusTextView = getView().findViewById(R.id.statusTextView);\n                statusTextView.setText(&quot;준비&quot;);\n            }\n\n            public void onFinish() {\n                // Starts the &quot;HANG&quot; countdown.\n                mTimer = new CountDownTimer(COUNTDOWN_DURATION, 1000) {\n                    public void onTick(long millisUntilFinished) {\n                        mTextView.setText(String.valueOf(millisUntilFinished / 1000));\n                        TextView statusTextView = getView().findViewById(R.id.statusTextView);\n                        statusTextView.setText(&quot;행&quot;);\n                    }\n\n                    // Starts the &quot;REST&quot; countdown.\n                    public void onFinish() {\n                        long restTime = REST_DURATION / 1000;\n                        long minutes = restTime / 60;\n                        long seconds = restTime % 60;\n                        mTextView.setText(String.format(&quot;%02d:%02d&quot;, minutes, seconds));\n                        TextView statusTextView = getView().findViewById(R.id.statusTextView);\n                        statusTextView.setText(&quot;잠시 쉬다&quot;);\n                        mTimer = new CountDownTimer(REST_DURATION, 1000) {\n                            public void onTick(long millisUntilFinished) {\n                                long restTime = millisUntilFinished / 1000;\n                                long minutes = restTime / 60;\n                                long seconds = restTime % 60;\n                                mTextView.setText(String.format(&quot;%02d:%02d&quot;, minutes, seconds));\n                            }\n\n                            public void onFinish() {\n                                if (mCurrentSet &lt; NUM_SETS) {\n                                    mCurrentSet++;\n                                    TextView setTextView = getView().findViewById(R.id.setTextView);\n                                    setTextView.setText(&quot;세트 &quot; + mCurrentSet);\n                                    startTimer();\n                                } else {\n                                    mIsTimerRunning = false;\n                                    mButton.setText(R.string.start);\n                                    mCurrentSet = 1;\n                                }\n                            }\n                        }.start();\n                    }\n                }.start();\n            }\n        }.start();\n    }\n\n    private void stopTimer() {\n        mIsTimerRunning = false;\n        mButton.setText(R.string.start);\n        mTextView.setText(&quot;10&quot;);\n        mCurrentSet = 1;\n        TextView setTextView = getView().findViewById(R.id.setTextView);\n        setTextView.setText(&quot;세트 1&quot;);\n        if (mTimer != null) {\n            mTimer.cancel();\n            mTimer = null;\n        }\n        TextView statusTextView = getView().findViewById(R.id.statusTextView);\n        statusTextView.setText(&quot;준비가 된?&quot;);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","serialization","redis","jackson"],"owner":{"account_id":9735515,"reputation":1045,"user_id":7218881,"display_name":"Sankalpa Wijewickrama"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679578779,"creation_date":1679578779,"question_id":75823760,"body_markdown":"In my experience, I&#39;ve used Redis cache serializers for `RedisCacheManager` as well as `RedisTemplate`. For `RedisCacheManager`, the default key serializer is `StringRedisSerializer` and the default value serializer is `JdkSerializationRedisSerializer`. When it comes to `RedisTemplate`, the both default key and value serializers are `JdkSerializationRedisSerializer`. Apart from that the `RedisTemplate` has hash key serializer and hash value serializer. As far as I know, the hashing is fully supported via Redis and therefore the hash and key value serializers are not applicable for spring caching. When it comes to Redis serializers, I was able to figure out the following implementations.\r\n\r\n - `GenericJackson2JsonRedisSerializer`\r\n - `JdkSerializationRedisSerializer`\r\n - `StringRedisSerializer` \r\n - `Jackson2JsonRedisSerializer`\r\n - `ByteArrayRedisSerializer`\r\n - `GenericToStringSerializer` \r\n - `OxmSerializer`\r\n\r\nMy concern is how to determine the suitable serializer for my use case. I clearly understand that when using `StringRedisSerializer`, I will not be able to serialize a java object and for that I&#39;ll have to use either `Jackson2JsonRedisSerializer` or `GenericJackson2JsonRedisSerializer`. I also noticed that the `Jackson2JsonRedisSerializer` allows to set our own `ObjectMapper` which is very helpful when dealing with `JSON`. Determining the relevant serializer is fully depending on the use case and what type of values to be cached. However, I was not able to figure out a proper documentation where it is clearly distinguished these serializers. I think it would be very helpful to understand the difference of each serializer beforehand. That is my concern and thank you in advance for investing time to read my concern.   ","title":"How to determine what Redis cache serializer to be used?","body":"<p>In my experience, I've used Redis cache serializers for <code>RedisCacheManager</code> as well as <code>RedisTemplate</code>. For <code>RedisCacheManager</code>, the default key serializer is <code>StringRedisSerializer</code> and the default value serializer is <code>JdkSerializationRedisSerializer</code>. When it comes to <code>RedisTemplate</code>, the both default key and value serializers are <code>JdkSerializationRedisSerializer</code>. Apart from that the <code>RedisTemplate</code> has hash key serializer and hash value serializer. As far as I know, the hashing is fully supported via Redis and therefore the hash and key value serializers are not applicable for spring caching. When it comes to Redis serializers, I was able to figure out the following implementations.</p>\n<ul>\n<li><code>GenericJackson2JsonRedisSerializer</code></li>\n<li><code>JdkSerializationRedisSerializer</code></li>\n<li><code>StringRedisSerializer</code></li>\n<li><code>Jackson2JsonRedisSerializer</code></li>\n<li><code>ByteArrayRedisSerializer</code></li>\n<li><code>GenericToStringSerializer</code></li>\n<li><code>OxmSerializer</code></li>\n</ul>\n<p>My concern is how to determine the suitable serializer for my use case. I clearly understand that when using <code>StringRedisSerializer</code>, I will not be able to serialize a java object and for that I'll have to use either <code>Jackson2JsonRedisSerializer</code> or <code>GenericJackson2JsonRedisSerializer</code>. I also noticed that the <code>Jackson2JsonRedisSerializer</code> allows to set our own <code>ObjectMapper</code> which is very helpful when dealing with <code>JSON</code>. Determining the relevant serializer is fully depending on the use case and what type of values to be cached. However, I was not able to figure out a proper documentation where it is clearly distinguished these serializers. I think it would be very helpful to understand the difference of each serializer beforehand. That is my concern and thank you in advance for investing time to read my concern.</p>\n"},{"tags":["java","gson"],"answers":[{"comments":[{"owner":{"account_id":28086801,"reputation":3,"user_id":21457050,"display_name":"Kat"},"score":0,"creation_date":1679505527,"post_id":75814135,"comment_id":133735561,"body_markdown":"I&#39;m getting an error like this:\n`com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 742 path $[0].`\nThis is happening because the `id` is a String rather than a map - I removed the `id` to test with and it worked but I am going to expect an `id` with a string so removing it from the json is not an option.","body":"I&#39;m getting an error like this: <code>com.google.gson.JsonSyntaxException: java.lang.IllegalStateException: Expected BEGIN_OBJECT but was STRING at line 1 column 742 path $[0].</code> This is happening because the <code>id</code> is a String rather than a map - I removed the <code>id</code> to test with and it worked but I am going to expect an <code>id</code> with a string so removing it from the json is not an option."},{"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"score":0,"creation_date":1679509969,"post_id":75814135,"comment_id":133736672,"body_markdown":"Ah, right - well you&#39;re going to have to do custom serialization then: if it&#39;s &quot;id&quot;, parse a string, else parse a map. See the documentation for handling this scenario: https://github.com/google/gson/blob/master/UserGuide.md#serializing-and-deserializing-collection-with-objects-of-arbitrary-types","body":"Ah, right - well you&#39;re going to have to do custom serialization then: if it&#39;s &quot;id&quot;, parse a string, else parse a map. See the documentation for handling this scenario: <a href=\"https://github.com/google/gson/blob/master/UserGuide.md#serializing-and-deserializing-collection-with-objects-of-arbitrary-types\" rel=\"nofollow noreferrer\">github.com/google/gson/blob/master/&hellip;</a>"},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1679517269,"post_id":75814135,"comment_id":133738317,"body_markdown":"The problem with this answer is that `Map&lt;String, SecondaryType&gt;[].class` (and similar) will not work correctly due to type erasure (and also there is no need to use an array, can simply use `List`). You should use Gson&#39;s `TypeToken`, see the [user guide](https://github.com/google/gson/blob/master/UserGuide.md#maps-examples), e.g.: `new TypeToken&lt;List&lt;Map&lt;String, SecondaryType&gt;&gt;&gt;() {}`","body":"The problem with this answer is that <code>Map&lt;String, SecondaryType&gt;[].class</code> (and similar) will not work correctly due to type erasure (and also there is no need to use an array, can simply use <code>List</code>). You should use Gson&#39;s <code>TypeToken</code>, see the <a href=\"https://github.com/google/gson/blob/master/UserGuide.md#maps-examples\" rel=\"nofollow noreferrer\">user guide</a>, e.g.: <code>new TypeToken&lt;List&lt;Map&lt;String, SecondaryType&gt;&gt;&gt;() {}</code>"}],"tags":[],"owner":{"account_id":1233070,"reputation":9484,"user_id":1197251,"display_name":"dominicoder"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679498308,"creation_date":1679498308,"answer_id":75814135,"question_id":75813737,"body_markdown":"&gt; The firstMap turns out to be null.\r\n\r\nThat&#39;s because you don&#39;t have any json element name &quot;firstMap&quot;. GSON (and most JSON parsers) work by mapping json element names to a class field. If you don&#39;t have a consistent element name, then you need a map to represent the whole object that has the variable element names.\r\n\r\nFirst off looks like you have an Array of objects at the top level, so make sure you&#39;re asking GSON to parse an array object to begin with. Something like:\r\n\r\n    ItemType[] items = gson.fromJson(inputString, ItemType[].class)\r\n\r\nSo what is &quot;ItemType&quot; - well each item in the array has an &quot;id&quot; but then variable keys, so you can&#39;t use your `PolicyObject` class, you need a map of String to secondary item type:\r\n\r\n    Map&lt;String, SecondaryType&gt;[] items =\r\n        gson.fromJson(inputString, Map&lt;String, SecondaryType&gt;[].class)\r\n\r\nSo what is &quot;SecondaryType&quot;? Again, all keys are variable so again you need a map:\r\n\r\n    Map&lt;String, Map&lt;String, ThirdType&gt;[] items =\r\n        gson.fromJson(inputString, Map&lt;String, Map&lt;String, ThirdType[].class)\r\n\r\nSo what is &quot;ThirdType&quot;? Well, at this point, it seems you know you will have a key named `&quot;prio&quot;` so you can defined a well-named class:\r\n\r\n    public class ThirdType {\r\n        public Prio prio\r\n    }\r\n\r\nSo what is &quot;Prio&quot;? Again it seems to contain a variable list of keys, so we&#39;re actually back to generic maps:\r\n\r\n    public class ThirdType {\r\n        public Map&lt;String, FourthType&gt; prio\r\n    }\r\n\r\nSo what is &quot;FourthType&quot;? Well that looks like a consistent &quot;id&quot; and &quot;name&quot;:\r\n\r\n    public class FourthType {\r\n        public String id;\r\n        public String name;\r\n    }\r\n\r\nWith these definitions, we&#39;re back to:\r\n\r\n    Map&lt;String, Map&lt;String, ThirdType&gt;[] items =\r\n        gson.fromJson(inputString, Map&lt;String, Map&lt;String, ThirdType[].class)\r\n\r\nYou can clean this up with a class that _is_ the top-level map:\r\n\r\n    public class MyObject extends Map&lt;String, Map&lt;String, ThirdType&gt;&gt; { }\r\n\r\nSo then you can do something like:\r\n\r\n    MyObject[] items = gson.fromJson(inputString, MyObject[].class)\r\n\r\nDisclaimer: I don&#39;t know if any this will actually compile, but I think it should put you on the right track.","title":"Gson - How to use gson to deserialize nested objects with changing keys?","body":"<blockquote>\n<p>The firstMap turns out to be null.</p>\n</blockquote>\n<p>That's because you don't have any json element name &quot;firstMap&quot;. GSON (and most JSON parsers) work by mapping json element names to a class field. If you don't have a consistent element name, then you need a map to represent the whole object that has the variable element names.</p>\n<p>First off looks like you have an Array of objects at the top level, so make sure you're asking GSON to parse an array object to begin with. Something like:</p>\n<pre><code>ItemType[] items = gson.fromJson(inputString, ItemType[].class)\n</code></pre>\n<p>So what is &quot;ItemType&quot; - well each item in the array has an &quot;id&quot; but then variable keys, so you can't use your <code>PolicyObject</code> class, you need a map of String to secondary item type:</p>\n<pre><code>Map&lt;String, SecondaryType&gt;[] items =\n    gson.fromJson(inputString, Map&lt;String, SecondaryType&gt;[].class)\n</code></pre>\n<p>So what is &quot;SecondaryType&quot;? Again, all keys are variable so again you need a map:</p>\n<pre><code>Map&lt;String, Map&lt;String, ThirdType&gt;[] items =\n    gson.fromJson(inputString, Map&lt;String, Map&lt;String, ThirdType[].class)\n</code></pre>\n<p>So what is &quot;ThirdType&quot;? Well, at this point, it seems you know you will have a key named <code>&quot;prio&quot;</code> so you can defined a well-named class:</p>\n<pre><code>public class ThirdType {\n    public Prio prio\n}\n</code></pre>\n<p>So what is &quot;Prio&quot;? Again it seems to contain a variable list of keys, so we're actually back to generic maps:</p>\n<pre><code>public class ThirdType {\n    public Map&lt;String, FourthType&gt; prio\n}\n</code></pre>\n<p>So what is &quot;FourthType&quot;? Well that looks like a consistent &quot;id&quot; and &quot;name&quot;:</p>\n<pre><code>public class FourthType {\n    public String id;\n    public String name;\n}\n</code></pre>\n<p>With these definitions, we're back to:</p>\n<pre><code>Map&lt;String, Map&lt;String, ThirdType&gt;[] items =\n    gson.fromJson(inputString, Map&lt;String, Map&lt;String, ThirdType[].class)\n</code></pre>\n<p>You can clean this up with a class that <em>is</em> the top-level map:</p>\n<pre><code>public class MyObject extends Map&lt;String, Map&lt;String, ThirdType&gt;&gt; { }\n</code></pre>\n<p>So then you can do something like:</p>\n<pre><code>MyObject[] items = gson.fromJson(inputString, MyObject[].class)\n</code></pre>\n<p>Disclaimer: I don't know if any this will actually compile, but I think it should put you on the right track.</p>\n"}],"owner":{"account_id":28086801,"reputation":3,"user_id":21457050,"display_name":"Kat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75814135,"answer_count":1,"score":0,"last_activity_date":1679578640,"creation_date":1679496255,"question_id":75813737,"body_markdown":"An example json I am trying to parse is:\r\n\r\n```\r\n[\r\n    {\r\n        &quot;id&quot;: &quot;123&quot;,\r\n        &quot;a*&quot;: {\r\n            &quot;b*&quot;: {\r\n                &quot;prio&quot;: {\r\n                    &quot;d*&quot;: {\r\n                        &quot;id&quot;: &quot;234&quot;,\r\n                        &quot;name&quot;: &quot;test&quot;\r\n                    },\r\n                    &quot;d1*&quot;: {\r\n                        &quot;id&quot;: &quot;678&quot;,\r\n                        &quot;name&quot;: &quot;test1&quot;\r\n                    }\r\n                }\r\n            },\r\n            &quot;b1*&quot;: {\r\n                &quot;prio&quot;: {\r\n                    &quot;d2*&quot;: {\r\n                        &quot;id&quot;: &quot;234&quot;,\r\n                        &quot;name&quot;: &quot;test4&quot;\r\n                    }\r\n                },\r\n                &quot;prio&quot;: {\r\n                    &quot;d3*&quot;: {\r\n                        &quot;id&quot;: &quot;234&quot;,\r\n                        &quot;name&quot;: &quot;test3&quot;\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        &quot;a1*&quot;: {\r\n            &quot;b2*&quot;: {\r\n                &quot;prio&quot;: {\r\n                    &quot;d5*&quot;: {\r\n                        &quot;id&quot;: &quot;5435&quot;,\r\n                        &quot;name&quot;: &quot;test2&quot;\r\n                    },\r\n                    &quot;d6*&quot;: {\r\n                        &quot;id&quot;: &quot;675435438&quot;,\r\n                        &quot;name&quot;: &quot;test15&quot;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    {\r\n        &quot;id&quot;: &quot;345&quot;,\r\n        &quot;f*&quot;: {\r\n            &quot;g*&quot;: {\r\n                &quot;prio&quot;: {\r\n                    &quot;i*&quot;: {\r\n                        &quot;id&quot;: &quot;5435&quot;,\r\n                        &quot;name&quot;: &quot;test2&quot;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    {\r\n        &quot;id&quot;: &quot;342343&quot;\r\n    }\r\n]\r\n```\r\n\r\nFor explanation purposes, the ones with the asterisk will always have changing keys in different json files and the actual json files may or may not have asterisk in the key. The nesting amount won&#39;t be deeper than the nest shown but some can be less deep. `prio` will always be at the same level of deepness and I need all of the key names except for `prio` .\r\n\r\nHow can I parse this json with gson? Any help is appreciated.\r\n\r\nWhat I was trying (with names changed):\r\n\r\n```\r\n\r\n@Getter\r\n@Setter\r\npublic class PolicyObject {\r\n    private String id;\r\n    private Map&lt;String, First&gt; firstMap;\r\n\r\n    @Getter\r\n    @Setter\r\n    public class First {\r\n        private Map&lt;String, Second&gt; secondMap;\r\n    }\r\n\r\n    @Getter\r\n    @Setter\r\n    public class Second {\r\n        private Map&lt;String, Third&gt; prio;\r\n    }\r\n\r\n    @Getter\r\n    @Setter\r\n    public class Third {\r\n        private String name;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class mainClass {\r\n    public void main(InputStreamReader file) {\r\n        Type typeOfT = TypeToken.getParameterized(PolicyObject.class, clazz).getType();\r\n        List&lt;PolicyObject&gt; policies = gson.fromJson(file, typeOfT);\r\n    }\r\n}\r\n```\r\n\r\nThe firstMap turns out to be null. The reason I am using gson is because I&#39;m already using it for other json files that have a simpler format in the same package.\r\n\r\n**EDIT**\r\n\r\nIt was fixed using a custom TypeAdapter:\r\n```\r\npublic class CustomTypeAdapter extends TypeAdapter&lt;PolicyObject&gt; {\r\n    private static final String KEY_ID = &quot;id&quot;;\r\n    private static final String KEY_PRIO = &quot;prio&quot;;\r\n    private static final String KEY_NAME = &quot;name&quot;;\r\n\r\n    @Override\r\n    public void write(JsonWriter jsonWriter, PolicyObject policy) throws IOException {\r\n\r\n    }\r\n\r\n    @Override\r\n    public PolicyObject read(JsonReader reader) throws IOException {\r\n        PolicyObject policyObject = new PolicyObject();\r\n        PolicyObject.setFirstMap(new HashMap&lt;&gt;());\r\n\r\n        reader.beginObject();\r\n        PolicyObject.First first = new PolicyObject.First();\r\n        first.setSecondMap(new HashMap&lt;&gt;());\r\n        while (reader.hasNext()) {\r\n            String firstName = reader.nextName();\r\n            if (KEY_ID.equals(firstName)) {\r\n                policyObject.setId(reader.nextString());\r\n            } else {\r\n                reader.beginObject();\r\n                while (reader.hasNext()) {\r\n                    String secondName = reader.nextName();\r\n                    reader.beginObject();\r\n                    PolicyObject.Second second = new PolicyObject.Second();\r\n                    second.setPrio(new HashMap&lt;&gt;());\r\n                    while (reader.hasNext()) {\r\n                        String prio = reader.nextName();\r\n                        if (KEY_PRIO.equals(prio)) {\r\n                            reader.beginObject();\r\n                            while (reader.hasNext()) {\r\n                                String thirdName = reader.nextName();\r\n                                reader.beginObject();\r\n                                PolicyObject.Third rule = new PolicyObject.Third();\r\n                                while (reader.hasNext()) {\r\n                                    String ruleProperty = reader.nextName();\r\n                                    if (KEY_NAME.equals(ruleProperty)) {\r\n                                        rule.setComment(reader.nextString());\r\n                                    } else {\r\n                                        reader.skipValue();\r\n                                    }\r\n                                }\r\n                                second.getPrio().put(thirdName, rule);\r\n                                reader.endObject();\r\n                            }\r\n                            reader.endObject();\r\n                        } else {\r\n                            reader.skipValue();\r\n                        }\r\n                    }\r\n                    first.getSecondMap().put(secondName, second);\r\n                    reader.endObject();\r\n                }\r\n                reader.endObject();\r\n                policyObject.getFirstMap().put(firstName, first);\r\n            }\r\n        }\r\n        reader.endObject();\r\n\r\n        return policyObject;\r\n    }\r\n}\r\n```\r\n\r\n```\r\npublic class mainClass {\r\n    public void main(InputStreamReader file) {\r\n        Gson gson = new GsonBuilder().registerTypeAdapter(PolicyObject.class, new CustomTypeAdapter()).create();\r\n        Type typeOfT = TypeToken.getParameterized(PolicyObject.class, clazz).getType();\r\n        List&lt;PolicyObject&gt; policies = gson.fromJson(file, typeOfT);\r\n    }\r\n}\r\n","title":"Gson - How to use gson to deserialize nested objects with changing keys?","body":"<p>An example json I am trying to parse is:</p>\n<pre><code>[\n    {\n        &quot;id&quot;: &quot;123&quot;,\n        &quot;a*&quot;: {\n            &quot;b*&quot;: {\n                &quot;prio&quot;: {\n                    &quot;d*&quot;: {\n                        &quot;id&quot;: &quot;234&quot;,\n                        &quot;name&quot;: &quot;test&quot;\n                    },\n                    &quot;d1*&quot;: {\n                        &quot;id&quot;: &quot;678&quot;,\n                        &quot;name&quot;: &quot;test1&quot;\n                    }\n                }\n            },\n            &quot;b1*&quot;: {\n                &quot;prio&quot;: {\n                    &quot;d2*&quot;: {\n                        &quot;id&quot;: &quot;234&quot;,\n                        &quot;name&quot;: &quot;test4&quot;\n                    }\n                },\n                &quot;prio&quot;: {\n                    &quot;d3*&quot;: {\n                        &quot;id&quot;: &quot;234&quot;,\n                        &quot;name&quot;: &quot;test3&quot;\n                    }\n                }\n            }\n        },\n        &quot;a1*&quot;: {\n            &quot;b2*&quot;: {\n                &quot;prio&quot;: {\n                    &quot;d5*&quot;: {\n                        &quot;id&quot;: &quot;5435&quot;,\n                        &quot;name&quot;: &quot;test2&quot;\n                    },\n                    &quot;d6*&quot;: {\n                        &quot;id&quot;: &quot;675435438&quot;,\n                        &quot;name&quot;: &quot;test15&quot;\n                    }\n                }\n            }\n        }\n    },\n    {\n        &quot;id&quot;: &quot;345&quot;,\n        &quot;f*&quot;: {\n            &quot;g*&quot;: {\n                &quot;prio&quot;: {\n                    &quot;i*&quot;: {\n                        &quot;id&quot;: &quot;5435&quot;,\n                        &quot;name&quot;: &quot;test2&quot;\n                    }\n                }\n            }\n        }\n    },\n    {\n        &quot;id&quot;: &quot;342343&quot;\n    }\n]\n</code></pre>\n<p>For explanation purposes, the ones with the asterisk will always have changing keys in different json files and the actual json files may or may not have asterisk in the key. The nesting amount won't be deeper than the nest shown but some can be less deep. <code>prio</code> will always be at the same level of deepness and I need all of the key names except for <code>prio</code> .</p>\n<p>How can I parse this json with gson? Any help is appreciated.</p>\n<p>What I was trying (with names changed):</p>\n<pre><code>\n@Getter\n@Setter\npublic class PolicyObject {\n    private String id;\n    private Map&lt;String, First&gt; firstMap;\n\n    @Getter\n    @Setter\n    public class First {\n        private Map&lt;String, Second&gt; secondMap;\n    }\n\n    @Getter\n    @Setter\n    public class Second {\n        private Map&lt;String, Third&gt; prio;\n    }\n\n    @Getter\n    @Setter\n    public class Third {\n        private String name;\n    }\n}\n</code></pre>\n<pre><code>public class mainClass {\n    public void main(InputStreamReader file) {\n        Type typeOfT = TypeToken.getParameterized(PolicyObject.class, clazz).getType();\n        List&lt;PolicyObject&gt; policies = gson.fromJson(file, typeOfT);\n    }\n}\n</code></pre>\n<p>The firstMap turns out to be null. The reason I am using gson is because I'm already using it for other json files that have a simpler format in the same package.</p>\n<p><strong>EDIT</strong></p>\n<p>It was fixed using a custom TypeAdapter:</p>\n<pre><code>public class CustomTypeAdapter extends TypeAdapter&lt;PolicyObject&gt; {\n    private static final String KEY_ID = &quot;id&quot;;\n    private static final String KEY_PRIO = &quot;prio&quot;;\n    private static final String KEY_NAME = &quot;name&quot;;\n\n    @Override\n    public void write(JsonWriter jsonWriter, PolicyObject policy) throws IOException {\n\n    }\n\n    @Override\n    public PolicyObject read(JsonReader reader) throws IOException {\n        PolicyObject policyObject = new PolicyObject();\n        PolicyObject.setFirstMap(new HashMap&lt;&gt;());\n\n        reader.beginObject();\n        PolicyObject.First first = new PolicyObject.First();\n        first.setSecondMap(new HashMap&lt;&gt;());\n        while (reader.hasNext()) {\n            String firstName = reader.nextName();\n            if (KEY_ID.equals(firstName)) {\n                policyObject.setId(reader.nextString());\n            } else {\n                reader.beginObject();\n                while (reader.hasNext()) {\n                    String secondName = reader.nextName();\n                    reader.beginObject();\n                    PolicyObject.Second second = new PolicyObject.Second();\n                    second.setPrio(new HashMap&lt;&gt;());\n                    while (reader.hasNext()) {\n                        String prio = reader.nextName();\n                        if (KEY_PRIO.equals(prio)) {\n                            reader.beginObject();\n                            while (reader.hasNext()) {\n                                String thirdName = reader.nextName();\n                                reader.beginObject();\n                                PolicyObject.Third rule = new PolicyObject.Third();\n                                while (reader.hasNext()) {\n                                    String ruleProperty = reader.nextName();\n                                    if (KEY_NAME.equals(ruleProperty)) {\n                                        rule.setComment(reader.nextString());\n                                    } else {\n                                        reader.skipValue();\n                                    }\n                                }\n                                second.getPrio().put(thirdName, rule);\n                                reader.endObject();\n                            }\n                            reader.endObject();\n                        } else {\n                            reader.skipValue();\n                        }\n                    }\n                    first.getSecondMap().put(secondName, second);\n                    reader.endObject();\n                }\n                reader.endObject();\n                policyObject.getFirstMap().put(firstName, first);\n            }\n        }\n        reader.endObject();\n\n        return policyObject;\n    }\n}\n</code></pre>\n<pre><code>public class mainClass {\n    public void main(InputStreamReader file) {\n        Gson gson = new GsonBuilder().registerTypeAdapter(PolicyObject.class, new CustomTypeAdapter()).create();\n        Type typeOfT = TypeToken.getParameterized(PolicyObject.class, clazz).getType();\n        List&lt;PolicyObject&gt; policies = gson.fromJson(file, typeOfT);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","email","authentication"],"comments":[{"owner":{"account_id":3318693,"reputation":8181,"user_id":2790364,"accept_rate":89,"display_name":"Santhosh"},"score":0,"creation_date":1401105651,"post_id":18585682,"comment_id":36740807,"body_markdown":"Any suggestions on this question . Did u solve this ? If yes pls suggest me how to do this .","body":"Any suggestions on this question . Did u solve this ? If yes pls suggest me how to do this ."},{"owner":{"account_id":1413237,"reputation":17260,"user_id":1339429,"accept_rate":89,"display_name":"JeanValjean"},"score":0,"creation_date":1477345755,"post_id":18585682,"comment_id":67719460,"body_markdown":"Look at [this](https://github.com/ozimov/spring-boot-email-tools/issues/11) issue for an extension of Spring Boot","body":"Look at <a href=\"https://github.com/ozimov/spring-boot-email-tools/issues/11\" rel=\"nofollow noreferrer\">this</a> issue for an extension of Spring Boot"}],"answers":[{"tags":[],"owner":{"account_id":3318693,"reputation":8181,"user_id":2790364,"accept_rate":89,"display_name":"Santhosh"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1401106708,"creation_date":1401106708,"answer_id":23870015,"question_id":18585682,"body_markdown":"It is because authentication not supported by the `smtp` . to resolve this you need to remove the username and password from the config file .\r\n\r\n    &lt;jee:jndi-lookup id=&quot;mailSession&quot; jndi-name=&quot;${abc.app.mailSession}&quot; cache=&quot;true&quot;/&gt;\r\n\r\n    &lt;bean id=&quot;jndiMailSender&quot; class=&quot;com.abc.service.mail.JndiJavaMailService&quot;&gt;\r\n        &lt;property name=&quot;session&quot; ref=&quot;mailSession&quot;/&gt;\r\n        &lt;property name=&quot;defaultEncoding&quot; value=&quot;${mail.defaultEncoding}&quot;/&gt;\r\n        &lt;property name=&quot;mailMasterAdress&quot; value=&quot;${abc.mail.mailMasterAdress}&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nAnd also authentication to `false` like this,\r\n\r\n    &lt;prop key=&quot;mail.smtp.auth&quot;&gt;false&lt;/prop&gt;\r\n\r\nHope this helps !!","title":"Spring Mail Authentication Error","body":"<p>It is because authentication not supported by the <code>smtp</code> . to resolve this you need to remove the username and password from the config file .</p>\n\n<pre><code>&lt;jee:jndi-lookup id=\"mailSession\" jndi-name=\"${abc.app.mailSession}\" cache=\"true\"/&gt;\n\n&lt;bean id=\"jndiMailSender\" class=\"com.abc.service.mail.JndiJavaMailService\"&gt;\n    &lt;property name=\"session\" ref=\"mailSession\"/&gt;\n    &lt;property name=\"defaultEncoding\" value=\"${mail.defaultEncoding}\"/&gt;\n    &lt;property name=\"mailMasterAdress\" value=\"${abc.mail.mailMasterAdress}\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>And also authentication to <code>false</code> like this,</p>\n\n<pre><code>&lt;prop key=\"mail.smtp.auth\"&gt;false&lt;/prop&gt;\n</code></pre>\n\n<p>Hope this helps !!</p>\n"},{"comments":[{"owner":{"account_id":5523754,"reputation":19832,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozᴉʞS ツ"},"score":2,"creation_date":1554927904,"post_id":30791972,"comment_id":97934538,"body_markdown":"I&#39;ve added the lessecuredapps and still giving the same error :S","body":"I&#39;ve added the lessecuredapps and still giving the same error :S"},{"owner":{"account_id":12156027,"reputation":13933,"user_id":8874958,"display_name":"Kishan Solanki"},"score":0,"creation_date":1608003086,"post_id":30791972,"comment_id":115442956,"body_markdown":"https://stackoverflow.com/a/62604164/8874958 also helped me","body":"<a href=\"https://stackoverflow.com/a/62604164/8874958\">stackoverflow.com/a/62604164/8874958</a> also helped me"},{"owner":{"account_id":12156027,"reputation":13933,"user_id":8874958,"display_name":"Kishan Solanki"},"score":0,"creation_date":1608003932,"post_id":30791972,"comment_id":115443092,"body_markdown":"In your browser make sure your gmail account should only be login and then open this  https://accounts.google.com/DisplayUnlockCaptcha and click on Continue","body":"In your browser make sure your gmail account should only be login and then open this  <a href=\"https://accounts.google.com/DisplayUnlockCaptcha\" rel=\"nofollow noreferrer\">accounts.google.com/DisplayUnlockCaptcha</a> and click on Continue"}],"tags":[],"owner":{"account_id":6431558,"reputation":498,"user_id":4984475,"display_name":"sjaiswal"},"comment_count":3,"down_vote_count":0,"up_vote_count":40,"is_accepted":true,"score":40,"last_activity_date":1434058975,"creation_date":1434058975,"answer_id":30791972,"question_id":18585682,"body_markdown":"Use these properties:\r\n\r\n    mail.host=smtp.gmail.com\r\n    mail.port=587\r\n    mail.username=&lt;gmail-username@gmail.com&gt;\r\n    mail.password=&lt;gmail-password&gt;\r\n    mail.transport.protocol=smtp\r\n    mail.smtp.auth=true\r\n    mail.smtp.starttls.enable=true\r\n    mail.from.email=&lt;gmail-username@gmail.com&gt;\r\n\r\nBy default, gmail does not allow less secure apps to get authenticated. You need to turn on the option in you gmail account to allow less secure apps to get authenticated.\r\n\r\nFollow these steps:\r\n\r\n    1.Login to Gmail. \r\n    2.Access the URL as https://www.google.com/settings/security/lesssecureapps \r\n    3.Select &quot;Turn on&quot;\r\n\r\nTry running  your code again, it should work. \r\n   ","title":"Spring Mail Authentication Error","body":"<p>Use these properties:</p>\n\n<pre><code>mail.host=smtp.gmail.com\nmail.port=587\nmail.username=&lt;gmail-username@gmail.com&gt;\nmail.password=&lt;gmail-password&gt;\nmail.transport.protocol=smtp\nmail.smtp.auth=true\nmail.smtp.starttls.enable=true\nmail.from.email=&lt;gmail-username@gmail.com&gt;\n</code></pre>\n\n<p>By default, gmail does not allow less secure apps to get authenticated. You need to turn on the option in you gmail account to allow less secure apps to get authenticated.</p>\n\n<p>Follow these steps:</p>\n\n<pre><code>1.Login to Gmail. \n2.Access the URL as https://www.google.com/settings/security/lesssecureapps \n3.Select \"Turn on\"\n</code></pre>\n\n<p>Try running  your code again, it should work. </p>\n"},{"tags":[],"owner":{"account_id":284875,"reputation":3452,"user_id":583237,"accept_rate":73,"display_name":"Pradip Kharbuja"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1447714778,"creation_date":1447714778,"answer_id":33746227,"question_id":18585682,"body_markdown":"This worked for me:\r\n\r\nBean Cofiguration\r\n\r\n    &lt;bean id=&quot;mailSender&quot; class=&quot;org.springframework.mail.javamail.JavaMailSenderImpl&quot;&gt;\r\n\t\t&lt;property name=&quot;host&quot; value=&quot;smtp.gmail.com&quot; /&gt;\r\n\t\t&lt;property name=&quot;port&quot; value=&quot;587&quot; /&gt;\r\n\t\t&lt;property name=&quot;username&quot; value=&quot;&lt;!--Gmail ID --&gt;&quot; /&gt;\r\n\t\t&lt;property name=&quot;password&quot; value=&quot;&lt;!-- Gmail Password --&gt;&quot; /&gt;\r\n\r\n\t\t&lt;!-- The name of the property, following JavaBean naming conventions --&gt;\r\n\t\t&lt;property name=&quot;javaMailProperties&quot;&gt;\r\n\t\t\t&lt;props&gt;\r\n\t\t\t\t&lt;prop key=&quot;mail.transport.protocol&quot;&gt;smtp&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;mail.smtp.auth&quot;&gt;true&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;mail.smtp.starttls.enable&quot;&gt;true&lt;/prop&gt;\r\n\t\t\t\t&lt;prop key=&quot;mail.debug&quot;&gt;true&lt;/prop&gt;\r\n\t\t\t&lt;/props&gt;\r\n\t\t&lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\nSecondly, you need to turn on the access for less secure apps.\r\n\r\n    1. Login to Gmail. \r\n    2. Access the URL as https://www.google.com/settings/security/lesssecureapps \r\n    3. Select &quot;Turn on&quot;","title":"Spring Mail Authentication Error","body":"<p>This worked for me:</p>\n\n<p>Bean Cofiguration</p>\n\n<pre><code>&lt;bean id=\"mailSender\" class=\"org.springframework.mail.javamail.JavaMailSenderImpl\"&gt;\n    &lt;property name=\"host\" value=\"smtp.gmail.com\" /&gt;\n    &lt;property name=\"port\" value=\"587\" /&gt;\n    &lt;property name=\"username\" value=\"&lt;!--Gmail ID --&gt;\" /&gt;\n    &lt;property name=\"password\" value=\"&lt;!-- Gmail Password --&gt;\" /&gt;\n\n    &lt;!-- The name of the property, following JavaBean naming conventions --&gt;\n    &lt;property name=\"javaMailProperties\"&gt;\n        &lt;props&gt;\n            &lt;prop key=\"mail.transport.protocol\"&gt;smtp&lt;/prop&gt;\n            &lt;prop key=\"mail.smtp.auth\"&gt;true&lt;/prop&gt;\n            &lt;prop key=\"mail.smtp.starttls.enable\"&gt;true&lt;/prop&gt;\n            &lt;prop key=\"mail.debug\"&gt;true&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>Secondly, you need to turn on the access for less secure apps.</p>\n\n<pre><code>1. Login to Gmail. \n2. Access the URL as https://www.google.com/settings/security/lesssecureapps \n3. Select \"Turn on\"\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2220824,"reputation":16635,"user_id":3168721,"accept_rate":97,"display_name":"tk_"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1464590810,"creation_date":1464542108,"answer_id":37512758,"question_id":18585682,"body_markdown":"If you have enabled 2 step verification in your gmail account you have to disable that first. Please follow these steps:\r\n\r\n 1. Login to Gmail. \r\n 2. Go to [Gmail security page][1].\r\n 3. Find 2 step verification from there. open it.\r\n 4. Select &quot;Turn off&quot;\r\n\r\nSet(use) below properties:\r\n\r\n    mail.host=smtp.gmail.com\r\n    mail.port=587\r\n    mail.username=&lt;username@gmail.com&gt;\r\n    mail.password=&lt;password&gt;\r\n    mail.transport.protocol=smtp\r\n    mail.smtp.auth=true\r\n    mail.smtp.starttls.enable=true\r\n    mail.from.email=&lt;username@gmail.com&gt;\r\n\r\n\r\nTry now.\r\n   \r\n\r\n  [1]: https://myaccount.google.com/security#signin","title":"Spring Mail Authentication Error","body":"<p>If you have enabled 2 step verification in your gmail account you have to disable that first. Please follow these steps:</p>\n\n<ol>\n<li>Login to Gmail. </li>\n<li>Go to <a href=\"https://myaccount.google.com/security#signin\" rel=\"nofollow\">Gmail security page</a>.</li>\n<li>Find 2 step verification from there. open it.</li>\n<li>Select \"Turn off\"</li>\n</ol>\n\n<p>Set(use) below properties:</p>\n\n<pre><code>mail.host=smtp.gmail.com\nmail.port=587\nmail.username=&lt;username@gmail.com&gt;\nmail.password=&lt;password&gt;\nmail.transport.protocol=smtp\nmail.smtp.auth=true\nmail.smtp.starttls.enable=true\nmail.from.email=&lt;username@gmail.com&gt;\n</code></pre>\n\n<p>Try now.</p>\n"},{"tags":[],"owner":{"account_id":4496522,"reputation":563,"user_id":3656203,"display_name":"GSK"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1492788520,"creation_date":1492788520,"answer_id":43546588,"question_id":18585682,"body_markdown":"    using Spring 1.2.4\r\n    &lt;sun-mail.version&gt;1.5.3&lt;/sun-mail.version&gt;\r\n    spring.mail.host=smtp.gmail.com\r\n    spring.mail.username=*****@***.co.xx\r\n    spring.mail.password=.......\r\n    spring.mail.properties.mail.smtp.auth=true\r\n    spring.mail.properties.mail.smtp.socketFactory.port=465\r\n    #spring.mail.properties.mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory\r\n    spring.mail.properties.mail.smtp.socketFactory.fallback=false\r\n    spring.mail.properties.mail.smtp.starttls.enable=true\r\n    spring.mail.properties.mail.smtp.ssl.enable = true\r\n    \r\n    \r\n    all this  and goto https://myaccount.google.com/security of the configured account and \r\n    Allow less secure apps: ON\r\n    Worked for Me","title":"Spring Mail Authentication Error","body":"<pre><code>using Spring 1.2.4\n&lt;sun-mail.version&gt;1.5.3&lt;/sun-mail.version&gt;\nspring.mail.host=smtp.gmail.com\nspring.mail.username=*****@***.co.xx\nspring.mail.password=.......\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.smtp.socketFactory.port=465\n#spring.mail.properties.mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory\nspring.mail.properties.mail.smtp.socketFactory.fallback=false\nspring.mail.properties.mail.smtp.starttls.enable=true\nspring.mail.properties.mail.smtp.ssl.enable = true\n\n\nall this  and goto https://myaccount.google.com/security of the configured account and \nAllow less secure apps: ON\nWorked for Me\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10315992,"reputation":394,"user_id":7610305,"accept_rate":50,"display_name":"Shubham kapoor"},"comment_count":0,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1492789118,"creation_date":1492789118,"answer_id":43546780,"question_id":18585682,"body_markdown":"    using Spring 1.2.4\r\n    &lt;sun-mail.version&gt;1.5.3&lt;/sun-mail.version&gt;\r\n    spring.mail.host=smtp.gmail.com\r\n    spring.mail.username=*****@***.co.xx\r\n    spring.mail.password=.......\r\n    spring.mail.properties.mail.smtp.auth=true\r\n    spring.mail.properties.mail.smtp.socketFactory.port=465\r\n    spring.mail.properties.mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory\r\n    spring.mail.properties.mail.smtp.socketFactory.fallback=false\r\n    spring.mail.properties.mail.smtp.starttls.enable=true\r\n    spring.mail.properties.mail.smtp.ssl.enable = true\r\n    \r\n    \r\n    all this  and goto https://myaccount.google.com/security of the configured account and \r\n    Allow less secure apps: ON\r\n      \r\n\r\n","title":"Spring Mail Authentication Error","body":"<pre><code>using Spring 1.2.4\n&lt;sun-mail.version&gt;1.5.3&lt;/sun-mail.version&gt;\nspring.mail.host=smtp.gmail.com\nspring.mail.username=*****@***.co.xx\nspring.mail.password=.......\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.smtp.socketFactory.port=465\nspring.mail.properties.mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory\nspring.mail.properties.mail.smtp.socketFactory.fallback=false\nspring.mail.properties.mail.smtp.starttls.enable=true\nspring.mail.properties.mail.smtp.ssl.enable = true\n\n\nall this  and goto https://myaccount.google.com/security of the configured account and \nAllow less secure apps: ON\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5598693,"reputation":610,"user_id":4435552,"display_name":"Sandip S."},"comment_count":0,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1495453640,"creation_date":1495453640,"answer_id":44112079,"question_id":18585682,"body_markdown":"Use below configuration:\r\n\r\n    &lt;bean id=&quot;mailSender&quot; class=&quot;org.springframework.mail.javamail.JavaMailSenderImpl&quot;&gt;\r\n        &lt;property name=&quot;host&quot; value=&quot;smtp.gmail.com&quot;/&gt;\r\n        &lt;property name=&quot;port&quot; value=&quot;25&quot;/&gt;\r\n        &lt;property name=&quot;username&quot; value=&quot;xxxx@gmail.com&quot;/&gt;\r\n        &lt;property name=&quot;password&quot; value=&quot;xxxxxxxxx&quot;/&gt;\r\n        &lt;property name=&quot;javaMailProperties&quot;&gt;\r\n            &lt;props&gt;\r\n                &lt;prop key=&quot;mail.transport.protocol&quot;&gt;smtp&lt;/prop&gt;\r\n                &lt;prop key=&quot;mail.smtp.auth&quot;&gt;true&lt;/prop&gt;\r\n                &lt;prop key=&quot;mail.smtp.starttls.enable&quot;&gt;true&lt;/prop&gt;\r\n                &lt;prop key=&quot;mail.debug&quot;&gt;true&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\r\n    &lt;/bean&gt;\r\n\r\nand follow below procedure:\r\n\r\n1.\tLogin to Gmail. \r\n2.\tAccess the URL as https://www.google.com/settings/security/lesssecureapps \r\n3.\tSelect &quot;Turn on&quot;\r\n","title":"Spring Mail Authentication Error","body":"<p>Use below configuration:</p>\n\n<pre><code>&lt;bean id=\"mailSender\" class=\"org.springframework.mail.javamail.JavaMailSenderImpl\"&gt;\n    &lt;property name=\"host\" value=\"smtp.gmail.com\"/&gt;\n    &lt;property name=\"port\" value=\"25\"/&gt;\n    &lt;property name=\"username\" value=\"xxxx@gmail.com\"/&gt;\n    &lt;property name=\"password\" value=\"xxxxxxxxx\"/&gt;\n    &lt;property name=\"javaMailProperties\"&gt;\n        &lt;props&gt;\n            &lt;prop key=\"mail.transport.protocol\"&gt;smtp&lt;/prop&gt;\n            &lt;prop key=\"mail.smtp.auth\"&gt;true&lt;/prop&gt;\n            &lt;prop key=\"mail.smtp.starttls.enable\"&gt;true&lt;/prop&gt;\n            &lt;prop key=\"mail.debug\"&gt;true&lt;/prop&gt;\n        &lt;/props&gt;\n    &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>and follow below procedure:</p>\n\n<ol>\n<li>Login to Gmail. </li>\n<li>Access the URL as <a href=\"https://www.google.com/settings/security/lesssecureapps\" rel=\"nofollow noreferrer\">https://www.google.com/settings/security/lesssecureapps</a> </li>\n<li>Select \"Turn on\"</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3561836,"reputation":1206,"user_id":3408806,"display_name":"nobjta_9x_tq"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552625929,"creation_date":1552625929,"answer_id":55175809,"question_id":18585682,"body_markdown":"    spring.profiles.active=@active.mode@\r\n    spring.data.mongodb.database=karaoke-db\r\n    server.port=5813\r\n    base.host=@base.host@\r\n\r\n    spring.mail.host=smtp.gmail.com\r\n    spring.mail.port=587\r\n    spring.mail.username=yourEmail@gmail.com\r\n    spring.mail.password=yourEmailPassword\r\n    mail.transport.protocol=smtp\r\n    spring.mail.properties.mail.smtp.auth=true\r\n    spring.mail.properties.mail.smtp.starttls.enable=true\r\n    mail.from.email=yourEmail@gmail.com\r\n    mail.debug=true\r\n\r\n**And in your EmailConfig class**\r\n\r\n    package com.tlcreativeltd.karaoke.config.email;\r\n    \r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.context.annotation.PropertySource;\r\n    import org.springframework.mail.javamail.JavaMailSender;\r\n    import org.springframework.mail.javamail.JavaMailSenderImpl;\r\n    \r\n    import javax.mail.Authenticator;\r\n    import javax.mail.PasswordAuthentication;\r\n    import javax.mail.Session;\r\n    import java.util.Properties;\r\n    \r\n    @Configuration\r\n    @PropertySource(&quot;classpath:application.properties&quot;)\r\n    public class MailConfig {\r\n        @Value(&quot;${spring.mail.host}&quot;)\r\n        private String host;\r\n    \r\n        @Value(&quot;${spring.mail.port}&quot;)\r\n        private int port;\r\n    \r\n        @Value(&quot;${spring.mail.username}&quot;)\r\n        private String userName;\r\n    \r\n        @Value(&quot;${spring.mail.password}&quot;)\r\n        private String passwd;\r\n    \r\n        @Value(&quot;${mail.transport.protocol}&quot;)\r\n        private String protocol;\r\n    \r\n        @Value(&quot;${mail.from.email}&quot;)\r\n        private String from;\r\n    \r\n        @Bean\r\n        public JavaMailSender getJavaMailSender() {\r\n            JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\r\n            mailSender.setHost(host);\r\n            mailSender.setPort(port);\r\n    \r\n            mailSender.setUsername(userName);\r\n            mailSender.setPassword(passwd);\r\n    \r\n            Properties props = mailSender.getJavaMailProperties();\r\n            props.put(&quot;mail.transport.protocol&quot;, protocol);\r\n            props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n            props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n            props.put(&quot;mail.from.email&quot;, from);\r\n            props.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n    \r\n            // creates a new session with an authenticator\r\n            Authenticator auth = new Authenticator() {\r\n                public PasswordAuthentication getPasswordAuthentication() {\r\n                    return new PasswordAuthentication(userName, passwd);\r\n                }\r\n            };\r\n    \r\n            Session session = Session.getInstance(props, auth);\r\n            mailSender.setSession(session);\r\n    \r\n            return mailSender;\r\n        }\r\n    }","title":"Spring Mail Authentication Error","body":"<pre><code>spring.profiles.active=@active.mode@\nspring.data.mongodb.database=karaoke-db\nserver.port=5813\nbase.host=@base.host@\n\nspring.mail.host=smtp.gmail.com\nspring.mail.port=587\nspring.mail.username=yourEmail@gmail.com\nspring.mail.password=yourEmailPassword\nmail.transport.protocol=smtp\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.smtp.starttls.enable=true\nmail.from.email=yourEmail@gmail.com\nmail.debug=true\n</code></pre>\n\n<p><strong>And in your EmailConfig class</strong></p>\n\n<pre><code>package com.tlcreativeltd.karaoke.config.email;\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.mail.javamail.JavaMailSender;\nimport org.springframework.mail.javamail.JavaMailSenderImpl;\n\nimport javax.mail.Authenticator;\nimport javax.mail.PasswordAuthentication;\nimport javax.mail.Session;\nimport java.util.Properties;\n\n@Configuration\n@PropertySource(\"classpath:application.properties\")\npublic class MailConfig {\n    @Value(\"${spring.mail.host}\")\n    private String host;\n\n    @Value(\"${spring.mail.port}\")\n    private int port;\n\n    @Value(\"${spring.mail.username}\")\n    private String userName;\n\n    @Value(\"${spring.mail.password}\")\n    private String passwd;\n\n    @Value(\"${mail.transport.protocol}\")\n    private String protocol;\n\n    @Value(\"${mail.from.email}\")\n    private String from;\n\n    @Bean\n    public JavaMailSender getJavaMailSender() {\n        JavaMailSenderImpl mailSender = new JavaMailSenderImpl();\n        mailSender.setHost(host);\n        mailSender.setPort(port);\n\n        mailSender.setUsername(userName);\n        mailSender.setPassword(passwd);\n\n        Properties props = mailSender.getJavaMailProperties();\n        props.put(\"mail.transport.protocol\", protocol);\n        props.put(\"mail.smtp.auth\", \"true\");\n        props.put(\"mail.smtp.starttls.enable\", \"true\");\n        props.put(\"mail.from.email\", from);\n        props.put(\"mail.debug\", \"true\");\n\n        // creates a new session with an authenticator\n        Authenticator auth = new Authenticator() {\n            public PasswordAuthentication getPasswordAuthentication() {\n                return new PasswordAuthentication(userName, passwd);\n            }\n        };\n\n        Session session = Session.getInstance(props, auth);\n        mailSender.setSession(session);\n\n        return mailSender;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20886172,"reputation":31,"user_id":15342721,"display_name":"&#214;zg&#252;rhan Polat"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679578636,"creation_date":1679578636,"answer_id":75823731,"question_id":18585682,"body_markdown":"First, I tried to solve this problem by changing the &quot;less secure&quot; option to ON on Google Account Settings under Security, but now Google hasn&#39;t supported that option anymore. To fix this, get an &#39;app password&#39; by searching on the search bar on Google Account Settings. If you don&#39;t find the &#39;app password&#39;, enable &#39;2-Step Verification&#39; on your Google Account.","title":"Spring Mail Authentication Error","body":"<p>First, I tried to solve this problem by changing the &quot;less secure&quot; option to ON on Google Account Settings under Security, but now Google hasn't supported that option anymore. To fix this, get an 'app password' by searching on the search bar on Google Account Settings. If you don't find the 'app password', enable '2-Step Verification' on your Google Account.</p>\n"}],"owner":{"account_id":1074392,"reputation":1500,"user_id":1072848,"accept_rate":56,"display_name":"Neron"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47999,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"accepted_answer_id":30791972,"answer_count":9,"score":6,"last_activity_date":1679578636,"creation_date":1378190241,"question_id":18585682,"body_markdown":"I am using spring 3.1 in my project and in order to send email, I am using spring mail. When I am trying to send an email, I aıways get this error:\r\n\r\n    org.springframework.mail.MailAuthenticationException: Authentication failed; nested exception is javax.mail.AuthenticationFailedException: No authentication mechansims supported by both server and client\r\n\r\nMy mail server does not require a username/ password and this error seems normal according to this fact. But the case is; I could not find a way to not to pass username/password in spring mail&#39;s org.springframework.mail.javamail.JavaMailSenderImpl class.\r\n\r\nMy config is :\r\n\r\n    &lt;jee:jndi-lookup id=&quot;mailSession&quot; jndi-name=&quot;${abc.app.mailSession}&quot; cache=&quot;true&quot;/&gt;\r\n    \t\r\n    \t&lt;bean id=&quot;jndiMailSender&quot; class=&quot;com.abc.service.mail.JndiJavaMailService&quot;&gt;\r\n    \t\t&lt;property name=&quot;session&quot; ref=&quot;mailSession&quot;/&gt;\r\n    \t\t&lt;property name=&quot;defaultEncoding&quot; value=&quot;${mail.defaultEncoding}&quot;/&gt;\r\n    \t\t&lt;property name=&quot;username&quot; value=&quot;${abc.mail.username}&quot;/&gt;\r\n    \t\t&lt;property name=&quot;password&quot; value=&quot;${abc.mail.password}&quot;/&gt;\r\n    \t\t&lt;property name=&quot;mailMasterAdress&quot; value=&quot;${abc.mail.mailMasterAdress}&quot;/&gt;\r\n    \t&lt;/bean&gt;\r\n\r\nMailserver is in weblogic and it&#39;s configs are:\r\n\r\n&gt; mail.smtp.host=10.200.123.135 mail.transport.protocol=smtp\r\n\r\n\r\nAny ideas?\r\n","title":"Spring Mail Authentication Error","body":"<p>I am using spring 3.1 in my project and in order to send email, I am using spring mail. When I am trying to send an email, I aıways get this error:</p>\n\n<pre><code>org.springframework.mail.MailAuthenticationException: Authentication failed; nested exception is javax.mail.AuthenticationFailedException: No authentication mechansims supported by both server and client\n</code></pre>\n\n<p>My mail server does not require a username/ password and this error seems normal according to this fact. But the case is; I could not find a way to not to pass username/password in spring mail's org.springframework.mail.javamail.JavaMailSenderImpl class.</p>\n\n<p>My config is :</p>\n\n<pre><code>&lt;jee:jndi-lookup id=\"mailSession\" jndi-name=\"${abc.app.mailSession}\" cache=\"true\"/&gt;\n\n    &lt;bean id=\"jndiMailSender\" class=\"com.abc.service.mail.JndiJavaMailService\"&gt;\n        &lt;property name=\"session\" ref=\"mailSession\"/&gt;\n        &lt;property name=\"defaultEncoding\" value=\"${mail.defaultEncoding}\"/&gt;\n        &lt;property name=\"username\" value=\"${abc.mail.username}\"/&gt;\n        &lt;property name=\"password\" value=\"${abc.mail.password}\"/&gt;\n        &lt;property name=\"mailMasterAdress\" value=\"${abc.mail.mailMasterAdress}\"/&gt;\n    &lt;/bean&gt;\n</code></pre>\n\n<p>Mailserver is in weblogic and it's configs are:</p>\n\n<blockquote>\n  <p>mail.smtp.host=10.200.123.135 mail.transport.protocol=smtp</p>\n</blockquote>\n\n<p>Any ideas?</p>\n"},{"tags":["java","apache-flink","flink-streaming","rocksdb","flink-cep"],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1622790541,"creation_date":1622789548,"answer_id":67832673,"question_id":67830641,"body_markdown":"In Flink 1.13 we reorganized the state backends because the old way had resulted in many misunderstandings about how things work. So these two concerns were decoupled:\r\n\r\n1. Where your working state is stored (the state backend). (In the case of RocksDB, it should be configured to use the fastest available local disk.)\r\n1. Where checkpoints are stored (the checkpoint storage). In most cases, this should be a distributed filesystem.\r\n\r\nWith the old API, the fact that two different filesystems are involved in the case of RocksDB was obscured by the way the checkpointing path was passed to the `RocksDBStateBackend` constructor. So that bit of configuration has been moved elsewhere (see below).\r\n\r\nThis table shows the relationships between the legacy state backends and the new ones (in combination with checkpoint storage):\r\n\r\n| Legacy State Backend         | New State Backend + Checkpoint Storage                      |\r\n| :---                         | :---                                                        |\r\n| `MemoryStateBackend`         | `HashMapStateBackend + JobManagerCheckpointStorage`         |\r\n| `FsStateBackend`             | `HashMapStateBackend + FileSystemCheckpointStorage`         |\r\n| `RocksDBStateBackend`        | `EmbeddedRocksDBStateBackend + FileSystemCheckpointStorage` |\r\n\r\nIn your case you want to use the `EmbeddedRocksDBStateBackend` with `FileSystemCheckpointStorage`. The problem you are currently having is that you are using in-memory checkpoint storage (`JobManagerCheckpointStorage`) with RocksDB, which severely limits how much state can be checkpointed.\r\n\r\nYou can fix this by either specifying a checkpoint directory in`flink-conf.yaml`\r\n\r\n```java\r\nstate.backend: rocksdb\r\nstate.checkpoints.dir: file:///checkpoint-dir/\r\n\r\n# Optional, Flink will automatically default to FileSystemCheckpointStorage\r\n# when a checkpoint directory is specified.\r\nstate.checkpoint-storage: filesystem\r\n\r\n```\r\n\r\nor in your code\r\n\r\n```java\r\nStreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\nenv.setStateBackend(new EmbeddedRocksDBStateBackend());\r\nenv.getCheckpointConfig().setCheckpointStorage(&quot;file:///checkpoint-dir&quot;);\r\n\r\n// If you manually passed FsStateBackend into the RocksDBStateBackend constructor\r\n// to specify advanced checkpointing configurations such as write buffer size,\r\n// you can achieve the same results by using manually instantiating a FileSystemCheckpointStorage object.\r\nenv.getCheckpointConfig().setCheckpointStorage(new FileSystemCheckpointStorage(&quot;file:///checkpoint-dir&quot;));\r\n```\r\n\r\nSee the docs on [Migrating from Legacy Backends](https://ci.apache.org/projects/flink/flink-docs-stable/docs/ops/state/state_backends/#migrating-from-legacy-backends) for complete details.","title":"Configure RocksDB in flink 1.13","body":"<p>In Flink 1.13 we reorganized the state backends because the old way had resulted in many misunderstandings about how things work. So these two concerns were decoupled:</p>\n<ol>\n<li>Where your working state is stored (the state backend). (In the case of RocksDB, it should be configured to use the fastest available local disk.)</li>\n<li>Where checkpoints are stored (the checkpoint storage). In most cases, this should be a distributed filesystem.</li>\n</ol>\n<p>With the old API, the fact that two different filesystems are involved in the case of RocksDB was obscured by the way the checkpointing path was passed to the <code>RocksDBStateBackend</code> constructor. So that bit of configuration has been moved elsewhere (see below).</p>\n<p>This table shows the relationships between the legacy state backends and the new ones (in combination with checkpoint storage):</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th style=\"text-align: left;\">Legacy State Backend</th>\n<th style=\"text-align: left;\">New State Backend + Checkpoint Storage</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td style=\"text-align: left;\"><code>MemoryStateBackend</code></td>\n<td style=\"text-align: left;\"><code>HashMapStateBackend + JobManagerCheckpointStorage</code></td>\n</tr>\n<tr>\n<td style=\"text-align: left;\"><code>FsStateBackend</code></td>\n<td style=\"text-align: left;\"><code>HashMapStateBackend + FileSystemCheckpointStorage</code></td>\n</tr>\n<tr>\n<td style=\"text-align: left;\"><code>RocksDBStateBackend</code></td>\n<td style=\"text-align: left;\"><code>EmbeddedRocksDBStateBackend + FileSystemCheckpointStorage</code></td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>In your case you want to use the <code>EmbeddedRocksDBStateBackend</code> with <code>FileSystemCheckpointStorage</code>. The problem you are currently having is that you are using in-memory checkpoint storage (<code>JobManagerCheckpointStorage</code>) with RocksDB, which severely limits how much state can be checkpointed.</p>\n<p>You can fix this by either specifying a checkpoint directory in<code>flink-conf.yaml</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>state.backend: rocksdb\nstate.checkpoints.dir: file:///checkpoint-dir/\n\n# Optional, Flink will automatically default to FileSystemCheckpointStorage\n# when a checkpoint directory is specified.\nstate.checkpoint-storage: filesystem\n\n</code></pre>\n<p>or in your code</p>\n<pre class=\"lang-java prettyprint-override\"><code>StreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\nenv.setStateBackend(new EmbeddedRocksDBStateBackend());\nenv.getCheckpointConfig().setCheckpointStorage(&quot;file:///checkpoint-dir&quot;);\n\n// If you manually passed FsStateBackend into the RocksDBStateBackend constructor\n// to specify advanced checkpointing configurations such as write buffer size,\n// you can achieve the same results by using manually instantiating a FileSystemCheckpointStorage object.\nenv.getCheckpointConfig().setCheckpointStorage(new FileSystemCheckpointStorage(&quot;file:///checkpoint-dir&quot;));\n</code></pre>\n<p>See the docs on <a href=\"https://ci.apache.org/projects/flink/flink-docs-stable/docs/ops/state/state_backends/#migrating-from-legacy-backends\" rel=\"nofollow noreferrer\">Migrating from Legacy Backends</a> for complete details.</p>\n"},{"tags":[],"owner":{"account_id":23979946,"reputation":1,"user_id":17967547,"display_name":"Andr&#233; L S"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679578496,"creation_date":1679578496,"answer_id":75823707,"question_id":67830641,"body_markdown":"It really saved me, was struggling to get it working w/out any luck so far but the following did the trick:\r\n\r\nadded on flink-conf.yaml as mentioned\r\n\r\n    state.backend: rocksdb\r\n    state.checkpoints.dir: file:///checkpoint-dir/ \r\n\r\nI really appreciate, thanks a lot. ","title":"Configure RocksDB in flink 1.13","body":"<p>It really saved me, was struggling to get it working w/out any luck so far but the following did the trick:</p>\n<p>added on flink-conf.yaml as mentioned</p>\n<pre><code>state.backend: rocksdb\nstate.checkpoints.dir: file:///checkpoint-dir/ \n</code></pre>\n<p>I really appreciate, thanks a lot.</p>\n"}],"owner":{"account_id":8621268,"reputation":953,"user_id":6456107,"display_name":"Alter"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2503,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":67832673,"answer_count":2,"score":0,"last_activity_date":1679578496,"creation_date":1622772691,"question_id":67830641,"body_markdown":"I have read about `EmbeddedRocksDBStateBackend` in Flink 1.13 version but has size limitations, so I want to keep the current configuration of my previous Flink version 1.11, but the point is that this way of configuring the RocksDB is deprecated (`new RocksDBStateBackend(&quot;path&quot;, true);`). \r\n\r\nI have tried with the new configuration using `EmbeddedRocksDBStateBackend (new EmbeddedRocksDBStateBackend(true))` and I have this error:\r\n```\r\njava.util.concurrent.ExecutionException: java.io.IOException: Size of the state is larger than the maximum permitted memory-backed state. Size=9126648 , maxSize=5242880 . Consider using a different state backend, like the File System State backend.\r\n```\r\n\r\nWhat is the best way of configuring the RocksDB state backend for flink 1.13 programmatically from Java? ","title":"Configure RocksDB in flink 1.13","body":"<p>I have read about <code>EmbeddedRocksDBStateBackend</code> in Flink 1.13 version but has size limitations, so I want to keep the current configuration of my previous Flink version 1.11, but the point is that this way of configuring the RocksDB is deprecated (<code>new RocksDBStateBackend(&quot;path&quot;, true);</code>).</p>\n<p>I have tried with the new configuration using <code>EmbeddedRocksDBStateBackend (new EmbeddedRocksDBStateBackend(true))</code> and I have this error:</p>\n<pre><code>java.util.concurrent.ExecutionException: java.io.IOException: Size of the state is larger than the maximum permitted memory-backed state. Size=9126648 , maxSize=5242880 . Consider using a different state backend, like the File System State backend.\n</code></pre>\n<p>What is the best way of configuring the RocksDB state backend for flink 1.13 programmatically from Java?</p>\n"},{"tags":["java","android-studio","kotlin"],"comments":[{"owner":{"account_id":18309572,"reputation":51,"user_id":13332702,"display_name":"Jo&#233; Kei"},"score":0,"creation_date":1587057047,"post_id":61255977,"comment_id":108366317,"body_markdown":"i didnt start codig yet i got the problem when i first tried to build the app","body":"i didnt start codig yet i got the problem when i first tried to build the app"}],"answers":[{"comments":[{"owner":{"account_id":18309572,"reputation":51,"user_id":13332702,"display_name":"Jo&#233; Kei"},"score":1,"creation_date":1587060132,"post_id":61256097,"comment_id":108367956,"body_markdown":"thanks  i was wondring if i could change it back to java after starting the project","body":"thanks  i was wondring if i could change it back to java after starting the project"},{"owner":{"display_name":"user12637469"},"score":1,"creation_date":1587064841,"post_id":61256097,"comment_id":108370273,"body_markdown":"it can be android studio can be work both of them you can write aclass with kotlin and other with java","body":"it can be android studio can be work both of them you can write aclass with kotlin and other with java"},{"owner":{"display_name":"user12637469"},"score":1,"creation_date":1587064891,"post_id":61256097,"comment_id":108370299,"body_markdown":"if its a answer can you mark my answer tick for the answer","body":"if its a answer can you mark my answer tick for the answer"}],"tags":[],"owner":{"display_name":"user12637469"},"comment_count":3,"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1587057326,"creation_date":1587057326,"answer_id":61256097,"question_id":61255977,"body_markdown":"\r\n[![enter image description here][1]][1]\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/q1ecK.png\r\n\r\n\r\nyou can choose from start java or kotlin ","title":"How to change language used in a project from Kotlin to Java","body":"<p><a href=\"https://i.stack.imgur.com/q1ecK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/q1ecK.png\" alt=\"enter image description here\"></a></p>\n\n<p>you can choose from start java or kotlin </p>\n"}],"owner":{"account_id":18309572,"reputation":51,"user_id":13332702,"display_name":"Jo&#233; Kei"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7443,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":61256097,"answer_count":1,"score":1,"last_activity_date":1679578435,"creation_date":1587056981,"question_id":61255977,"body_markdown":"How to change  language used in a project from Kotlin to Java in android studio \r\nand \r\nwhat if i change the .ktto .java in directory ","title":"How to change language used in a project from Kotlin to Java","body":"<p>How to change  language used in a project from Kotlin to Java in android studio \nand \nwhat if i change the .ktto .java in directory </p>\n"},{"tags":["java","rest","webservice-client","jersey-client"],"owner":{"account_id":445904,"reputation":41,"user_id":838634,"display_name":"user838634"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1858,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1679578342,"creation_date":1515069633,"question_id":48095553,"body_markdown":"I am calling some rest API using `JersyClientBuilder.withConfig(config).build()` and \r\n`javax.ws.rs.client.Client`. Noramlly when running for one or two users everything is working fine but when running loadTest for users more then 50 intermittently I am seeing error as `javax.ws.rs.ProcessingException`: Already connected\r\n\r\nadding complete stack trace :\r\n\r\n    javax.ws.rs.ProcessingException: Already connected\r\n\tat org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:264)\r\n\tat org.glassfish.jersey.client.JerseyInvocation$1.call(JerseyInvocation.java:684)\r\n\tat org.glassfish.jersey.client.JerseyInvocation$1.call(JerseyInvocation.java:681)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:315)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:297)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:228)\r\n\tat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:444)\r\n\tat org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:681)\r\n\tat org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:437)\r\n\tat org.glassfish.jersey.client.JerseyInvocation$Builder.put(JerseyInvocation.java:326)\r\n\tat selfservice.util.ToolkitUtil.selectSelfServiceProfile(ToolkitUtil.java:681)\r\n\tat selfservice.util.ToolkitUtil.prepareSPGResponseWithLoginInfo(ToolkitUtil.java:365)\r\n\tat selfservice.util.ToolkitUtil.loginAgent(ToolkitUtil.java:427)\r\n\tat selfservice.util.ToolkitUtil.performAgentLoginUsingContextId(ToolkitUtil.java:1450)\r\n\tat selfservice.util.ToolkitUtil.performAgentLogin(ToolkitUtil.java:1250)\r\n\tat selfservice.ToolkitLoginResource.wsAuthenticate(ToolkitLoginResource.java:91)\r\n\tat sun.reflect.GeneratedMethodAccessor192.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory$1.invoke(ResourceMethodInvocationHandlerFactory.java:81)\r\n\tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:144)\r\n\tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:161)\r\n\tat org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:160)\r\n\tat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:99)\r\n\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:389)\r\n\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:347)\r\n\tat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:102)\r\n\tat org.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:309)\r\n\tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)\r\n\tat org.glassfish.jersey.internal.Errors$1.call(Errors.java:267)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:315)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:297)\r\n\tat org.glassfish.jersey.internal.Errors.process(Errors.java:267)\r\n\tat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:317)\r\n\tat org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:292)\r\n\tat org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1139)\r\n\tat org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:460)\r\n\tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:386)\r\n\tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:334)\r\n\tat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:221)\r\n\tat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:130)\r\n\tat com.egain.platform.client.ResponseCacheFilter.doFilter(ResponseCacheFilter.java:132)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132)\r\n\tat com.egain.platform.client.CookieSecurityFilter.doFilter(CookieSecurityFilter.java:92)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132)\r\n\tat com.egain.platform.client.EncodingFilter.doFilter(EncodingFilter.java:65)\r\n\tat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)\r\n\tat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132)\r\n\tat io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:85)\r\n\tat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:61)\r\n\tat io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\r\n\tat org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)\r\n\tat io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:56)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:45)\r\n\tat io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:63)\r\n\tat io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58)\r\n\tat io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:70)\r\n\tat io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:261)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:247)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:76)\r\n\tat io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:166)\r\n\tat io.undertow.server.Connectors.executeRootHandler(Connectors.java:197)\r\n\tat io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:759)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\n`Caused by: java.lang.IllegalStateException: Already connected\r\n\tat sun.net.www.protocol.http.HttpURLConnection.setRequestProperty(HttpURLConnection.java:3053)\r\n\tat sun.net.www.protocol.https.HttpsURLConnectionImpl.setRequestProperty(HttpsURLConnectionImpl.java:316)\r\n\tat org.glassfish.jersey.client.internal.HttpUrlConnector.setOutboundHeaders(HttpUrlConnector.java:416)\r\n\tat org.glassfish.jersey.client.internal.HttpUrlConnector.access$100(HttpUrlConnector.java:95)\r\n\tat org.glassfish.jersey.client.internal.HttpUrlConnector$4.getOutputStream(HttpUrlConnector.java:379)\r\n\tat org.glassfish.jersey.message.internal.CommittingOutputStream.commitStream(CommittingOutputStream.java:200)\r\n\tat org.glassfish.jersey.message.internal.CommittingOutputStream.commitStream(CommittingOutputStream.java:194)\r\n\tat org.glassfish.jersey.message.internal.CommittingOutputStream.commit(CommittingOutputStream.java:262)\r\n\tat org.glassfish.jersey.message.internal.OutboundMessageContext.commitStream(OutboundMessageContext.java:816)\r\n\tat org.glassfish.jersey.client.ClientRequest.writeEntity(ClientRequest.java:545)\r\n\tat org.glassfish.jersey.client.internal.HttpUrlConnector._apply(HttpUrlConnector.java:383)\r\n\tat org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:284)\r\n\tat org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:255)\r\n\t... 76 more`\r\n\r\nThis exception is coming irrespective of protocol I use i.e. `http` or `https` doesn&#39;t matter.\r\n\r\nAny body seen this error and resolved please help\r\nThanks in advance.","title":"Getting “javax.ws.rs.ProcessingException: Already connected” intermittently during load test","body":"<p>I am calling some rest API using <code>JersyClientBuilder.withConfig(config).build()</code> and \n<code>javax.ws.rs.client.Client</code>. Noramlly when running for one or two users everything is working fine but when running loadTest for users more then 50 intermittently I am seeing error as <code>javax.ws.rs.ProcessingException</code>: Already connected</p>\n\n<p>adding complete stack trace :</p>\n\n<pre><code>javax.ws.rs.ProcessingException: Already connected\nat org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:264)\nat org.glassfish.jersey.client.JerseyInvocation$1.call(JerseyInvocation.java:684)\nat org.glassfish.jersey.client.JerseyInvocation$1.call(JerseyInvocation.java:681)\nat org.glassfish.jersey.internal.Errors.process(Errors.java:315)\nat org.glassfish.jersey.internal.Errors.process(Errors.java:297)\nat org.glassfish.jersey.internal.Errors.process(Errors.java:228)\nat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:444)\nat org.glassfish.jersey.client.JerseyInvocation.invoke(JerseyInvocation.java:681)\nat org.glassfish.jersey.client.JerseyInvocation$Builder.method(JerseyInvocation.java:437)\nat org.glassfish.jersey.client.JerseyInvocation$Builder.put(JerseyInvocation.java:326)\nat selfservice.util.ToolkitUtil.selectSelfServiceProfile(ToolkitUtil.java:681)\nat selfservice.util.ToolkitUtil.prepareSPGResponseWithLoginInfo(ToolkitUtil.java:365)\nat selfservice.util.ToolkitUtil.loginAgent(ToolkitUtil.java:427)\nat selfservice.util.ToolkitUtil.performAgentLoginUsingContextId(ToolkitUtil.java:1450)\nat selfservice.util.ToolkitUtil.performAgentLogin(ToolkitUtil.java:1250)\nat selfservice.ToolkitLoginResource.wsAuthenticate(ToolkitLoginResource.java:91)\nat sun.reflect.GeneratedMethodAccessor192.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.glassfish.jersey.server.model.internal.ResourceMethodInvocationHandlerFactory$1.invoke(ResourceMethodInvocationHandlerFactory.java:81)\nat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher$1.run(AbstractJavaResourceMethodDispatcher.java:144)\nat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.invoke(AbstractJavaResourceMethodDispatcher.java:161)\nat org.glassfish.jersey.server.model.internal.JavaResourceMethodDispatcherProvider$ResponseOutInvoker.doDispatch(JavaResourceMethodDispatcherProvider.java:160)\nat org.glassfish.jersey.server.model.internal.AbstractJavaResourceMethodDispatcher.dispatch(AbstractJavaResourceMethodDispatcher.java:99)\nat org.glassfish.jersey.server.model.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:389)\nat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:347)\nat org.glassfish.jersey.server.model.ResourceMethodInvoker.apply(ResourceMethodInvoker.java:102)\nat org.glassfish.jersey.server.ServerRuntime$2.run(ServerRuntime.java:309)\nat org.glassfish.jersey.internal.Errors$1.call(Errors.java:271)\nat org.glassfish.jersey.internal.Errors$1.call(Errors.java:267)\nat org.glassfish.jersey.internal.Errors.process(Errors.java:315)\nat org.glassfish.jersey.internal.Errors.process(Errors.java:297)\nat org.glassfish.jersey.internal.Errors.process(Errors.java:267)\nat org.glassfish.jersey.process.internal.RequestScope.runInScope(RequestScope.java:317)\nat org.glassfish.jersey.server.ServerRuntime.process(ServerRuntime.java:292)\nat org.glassfish.jersey.server.ApplicationHandler.handle(ApplicationHandler.java:1139)\nat org.glassfish.jersey.servlet.WebComponent.service(WebComponent.java:460)\nat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:386)\nat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:334)\nat org.glassfish.jersey.servlet.ServletContainer.service(ServletContainer.java:221)\nat io.undertow.servlet.handlers.ServletHandler.handleRequest(ServletHandler.java:85)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:130)\nat com.egain.platform.client.ResponseCacheFilter.doFilter(ResponseCacheFilter.java:132)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132)\nat com.egain.platform.client.CookieSecurityFilter.doFilter(CookieSecurityFilter.java:92)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132)\nat com.egain.platform.client.EncodingFilter.doFilter(EncodingFilter.java:65)\nat io.undertow.servlet.core.ManagedFilter.doFilter(ManagedFilter.java:60)\nat io.undertow.servlet.handlers.FilterHandler$FilterChainImpl.doFilter(FilterHandler.java:132)\nat io.undertow.servlet.handlers.FilterHandler.handleRequest(FilterHandler.java:85)\nat io.undertow.servlet.handlers.security.ServletSecurityRoleHandler.handleRequest(ServletSecurityRoleHandler.java:61)\nat io.undertow.servlet.handlers.ServletDispatchingHandler.handleRequest(ServletDispatchingHandler.java:36)\nat org.wildfly.extension.undertow.security.SecurityContextAssociationHandler.handleRequest(SecurityContextAssociationHandler.java:78)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.servlet.handlers.security.SSLInformationAssociationHandler.handleRequest(SSLInformationAssociationHandler.java:131)\nat io.undertow.servlet.handlers.security.ServletAuthenticationCallHandler.handleRequest(ServletAuthenticationCallHandler.java:56)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.security.handlers.AbstractConfidentialityHandler.handleRequest(AbstractConfidentialityHandler.java:45)\nat io.undertow.servlet.handlers.security.ServletConfidentialityConstraintHandler.handleRequest(ServletConfidentialityConstraintHandler.java:63)\nat io.undertow.security.handlers.AuthenticationMechanismsHandler.handleRequest(AuthenticationMechanismsHandler.java:58)\nat io.undertow.servlet.handlers.security.CachedAuthenticatedSessionHandler.handleRequest(CachedAuthenticatedSessionHandler.java:70)\nat io.undertow.security.handlers.SecurityInitialHandler.handleRequest(SecurityInitialHandler.java:76)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat org.wildfly.extension.undertow.security.jacc.JACCContextIdHandler.handleRequest(JACCContextIdHandler.java:61)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.server.handlers.PredicateHandler.handleRequest(PredicateHandler.java:43)\nat io.undertow.servlet.handlers.ServletInitialHandler.handleFirstRequest(ServletInitialHandler.java:261)\nat io.undertow.servlet.handlers.ServletInitialHandler.dispatchRequest(ServletInitialHandler.java:247)\nat io.undertow.servlet.handlers.ServletInitialHandler.access$000(ServletInitialHandler.java:76)\nat io.undertow.servlet.handlers.ServletInitialHandler$1.handleRequest(ServletInitialHandler.java:166)\nat io.undertow.server.Connectors.executeRootHandler(Connectors.java:197)\nat io.undertow.server.HttpServerExchange$1.run(HttpServerExchange.java:759)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\nat java.lang.Thread.run(Thread.java:745)\n</code></pre>\n\n<p><code>Caused by: java.lang.IllegalStateException: Already connected\n    at sun.net.www.protocol.http.HttpURLConnection.setRequestProperty(HttpURLConnection.java:3053)\n    at sun.net.www.protocol.https.HttpsURLConnectionImpl.setRequestProperty(HttpsURLConnectionImpl.java:316)\n    at org.glassfish.jersey.client.internal.HttpUrlConnector.setOutboundHeaders(HttpUrlConnector.java:416)\n    at org.glassfish.jersey.client.internal.HttpUrlConnector.access$100(HttpUrlConnector.java:95)\n    at org.glassfish.jersey.client.internal.HttpUrlConnector$4.getOutputStream(HttpUrlConnector.java:379)\n    at org.glassfish.jersey.message.internal.CommittingOutputStream.commitStream(CommittingOutputStream.java:200)\n    at org.glassfish.jersey.message.internal.CommittingOutputStream.commitStream(CommittingOutputStream.java:194)\n    at org.glassfish.jersey.message.internal.CommittingOutputStream.commit(CommittingOutputStream.java:262)\n    at org.glassfish.jersey.message.internal.OutboundMessageContext.commitStream(OutboundMessageContext.java:816)\n    at org.glassfish.jersey.client.ClientRequest.writeEntity(ClientRequest.java:545)\n    at org.glassfish.jersey.client.internal.HttpUrlConnector._apply(HttpUrlConnector.java:383)\n    at org.glassfish.jersey.client.internal.HttpUrlConnector.apply(HttpUrlConnector.java:284)\n    at org.glassfish.jersey.client.ClientRuntime.invoke(ClientRuntime.java:255)\n    ... 76 more</code></p>\n\n<p>This exception is coming irrespective of protocol I use i.e. <code>http</code> or <code>https</code> doesn't matter.</p>\n\n<p>Any body seen this error and resolved please help\nThanks in advance.</p>\n"},{"tags":["java","xml","jaxb","maven-jaxb2-plugin"],"answers":[{"tags":[],"owner":{"account_id":13438375,"reputation":1,"user_id":9696191,"display_name":"Ph&#250; Phan"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1679577946,"creation_date":1679577946,"answer_id":75823600,"question_id":74546662,"body_markdown":"I dont think you should create JAXElement from scratch with  `new JAXBElement(elementName , clazz, value)`\r\n\r\nIn ObjectFactory, we can create JAXElement directly via method starting with `createSomething()` - and the newly-created JAXElement will have QName for itself. So my approach is:\r\n\r\n 1. Get the name of class for the value object that should be converted -&gt; by ClassUtils in spring core or something like that\r\n 2. Add `create` before the name we already get in step1\r\n 3. Initialize an instance of ObjectFactory and invoke method `createSomething(value)` with Reflection lib (of course dont forget catch exception in case there is no supported method in ObjectFactory!)\r\n\r\nHope it help and if possible, please give me a look of your schema files (xsd or wsdl, etc) or your classes which are generated from schema files, so that I can elaborate on those for detailed lines of code. ","title":"JAXB how to get QName based on java object","body":"<p>I dont think you should create JAXElement from scratch with  <code>new JAXBElement(elementName , clazz, value)</code></p>\n<p>In ObjectFactory, we can create JAXElement directly via method starting with <code>createSomething()</code> - and the newly-created JAXElement will have QName for itself. So my approach is:</p>\n<ol>\n<li>Get the name of class for the value object that should be converted -&gt; by ClassUtils in spring core or something like that</li>\n<li>Add <code>create</code> before the name we already get in step1</li>\n<li>Initialize an instance of ObjectFactory and invoke method <code>createSomething(value)</code> with Reflection lib (of course dont forget catch exception in case there is no supported method in ObjectFactory!)</li>\n</ol>\n<p>Hope it help and if possible, please give me a look of your schema files (xsd or wsdl, etc) or your classes which are generated from schema files, so that I can elaborate on those for detailed lines of code.</p>\n"}],"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":456,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679577946,"creation_date":1669205799,"question_id":74546662,"body_markdown":"We are using maven plugin to generate a large number of Java pojos and ObjectFactory, similar to:\r\n\r\n    @XmlAccessorType(XmlAccessType.FIELD)\r\n    @XmlType(name = &quot;ProtectedABC&quot;, propOrder = {\r\n        &quot;aBC&quot;\r\n    })\r\n    public class ABC {\r\n    \r\n        @XmlElement(required = true)\r\n        protected String aBC;\r\n    \r\n       \r\n        public String getABC() {\r\n            return aBC;\r\n        }\r\n    \r\n        \r\n        public void setABC(String value) {\r\n            this.aBC= value;\r\n        }\r\n    \r\n    }\r\n\r\nand\r\n\r\n    @XmlRegistry\r\n    public class ObjectFactory {\r\n    \r\n        private final static QName ABC = new QName(&quot;http://www&quot;, &quot;request1&quot;);\r\n        private final static QName DEF = new QName(&quot;http://www&quot;, &quot;response1&quot;);\r\n        private final static QName XYZ = new QName(&quot;http://www&quot;, &quot;result1&quot;);\r\n        /*\r\n         * A LOT OF QNAMES HERE\r\n         */\r\n        private final static QName END = new QName(&quot;http://www&quot;, &quot;end&quot;);\r\n      \r\n        //OTHER GENERATED METHODS\r\n    }\r\n\r\nI have a method that take a java object (value) and I need to convert it to JaxbElement\r\n\r\n      public DataBuffer encodeValue(Object value, DataBufferFactory bufferFactory, ResolvableType valueType, @Nullable MimeType mimeType, @Nullable Map&lt;String, Object&gt; hints) {\r\n        boolean release = true;\r\n        DataBuffer buffer = bufferFactory.allocateBuffer(1024);\r\n        try {\r\n          OutputStream outputStream = buffer.asOutputStream();\r\n          Class&lt;?&gt; clazz = ClassUtils.getUserClass(value);\r\n          \r\n          JAXBContext jaxbContext = JaxbUtils.createJaxbContext();\r\n          Marshaller marshaller = initMarshaller(jaxbContext);\r\n          JAXBIntrospector jaxbIntrospector = jaxbContext.createJAXBIntrospector();\r\n\r\n          //HERE I TRY TO GET QNAME BASED ON POJO:\r\n          //BASED ON THIS POST: https://stackoverflow.com/questions/5035716/obtain-java-class-name-from-qname\r\n          QName elementName = jaxbIntrospector.getElementName(value);\r\n\r\n          JAXBElement&lt;Object&gt; jaxbElement = new JAXBElement(elementName , clazz, value);\r\n          marshaller.marshal(jaxbElement, outputStream);\r\n          release = false;\r\n          return buffer;\r\n        } catch (Exception ex) {\r\n          throw new EncodingException(&quot;Could not marshal &quot; + value.getClass() + &quot; to XML&quot;, ex);\r\n        }\r\n      }\r\n\r\nThe problem is `QName elementName = jaxbIntrospector.getElementName(value);` return null so I cannot create JAXBElement. I don&#39;t want to check type/class of `value` like `if(value instance of ABC) {}` since I have a huge number of pojos. Please tell me is it possible to get/obtain QName based on a java object (do not know exactly its type)?\r\n\r\nNOTE: I have found a method `((JAXBContextImpl) jaxbContext).getTypeName(TypeReference)` that take a TypeReference and return QName, but I do&#39;nt know how to construct TypeReference, too.\r\n\r\nPLEASE HELP","title":"JAXB how to get QName based on java object","body":"<p>We are using maven plugin to generate a large number of Java pojos and ObjectFactory, similar to:</p>\n<pre><code>@XmlAccessorType(XmlAccessType.FIELD)\n@XmlType(name = &quot;ProtectedABC&quot;, propOrder = {\n    &quot;aBC&quot;\n})\npublic class ABC {\n\n    @XmlElement(required = true)\n    protected String aBC;\n\n   \n    public String getABC() {\n        return aBC;\n    }\n\n    \n    public void setABC(String value) {\n        this.aBC= value;\n    }\n\n}\n</code></pre>\n<p>and</p>\n<pre><code>@XmlRegistry\npublic class ObjectFactory {\n\n    private final static QName ABC = new QName(&quot;http://www&quot;, &quot;request1&quot;);\n    private final static QName DEF = new QName(&quot;http://www&quot;, &quot;response1&quot;);\n    private final static QName XYZ = new QName(&quot;http://www&quot;, &quot;result1&quot;);\n    /*\n     * A LOT OF QNAMES HERE\n     */\n    private final static QName END = new QName(&quot;http://www&quot;, &quot;end&quot;);\n  \n    //OTHER GENERATED METHODS\n}\n</code></pre>\n<p>I have a method that take a java object (value) and I need to convert it to JaxbElement</p>\n<pre><code>  public DataBuffer encodeValue(Object value, DataBufferFactory bufferFactory, ResolvableType valueType, @Nullable MimeType mimeType, @Nullable Map&lt;String, Object&gt; hints) {\n    boolean release = true;\n    DataBuffer buffer = bufferFactory.allocateBuffer(1024);\n    try {\n      OutputStream outputStream = buffer.asOutputStream();\n      Class&lt;?&gt; clazz = ClassUtils.getUserClass(value);\n      \n      JAXBContext jaxbContext = JaxbUtils.createJaxbContext();\n      Marshaller marshaller = initMarshaller(jaxbContext);\n      JAXBIntrospector jaxbIntrospector = jaxbContext.createJAXBIntrospector();\n\n      //HERE I TRY TO GET QNAME BASED ON POJO:\n      //BASED ON THIS POST: https://stackoverflow.com/questions/5035716/obtain-java-class-name-from-qname\n      QName elementName = jaxbIntrospector.getElementName(value);\n\n      JAXBElement&lt;Object&gt; jaxbElement = new JAXBElement(elementName , clazz, value);\n      marshaller.marshal(jaxbElement, outputStream);\n      release = false;\n      return buffer;\n    } catch (Exception ex) {\n      throw new EncodingException(&quot;Could not marshal &quot; + value.getClass() + &quot; to XML&quot;, ex);\n    }\n  }\n</code></pre>\n<p>The problem is <code>QName elementName = jaxbIntrospector.getElementName(value);</code> return null so I cannot create JAXBElement. I don't want to check type/class of <code>value</code> like <code>if(value instance of ABC) {}</code> since I have a huge number of pojos. Please tell me is it possible to get/obtain QName based on a java object (do not know exactly its type)?</p>\n<p>NOTE: I have found a method <code>((JAXBContextImpl) jaxbContext).getTypeName(TypeReference)</code> that take a TypeReference and return QName, but I do'nt know how to construct TypeReference, too.</p>\n<p>PLEASE HELP</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1462878127,"post_id":37136574,"comment_id":61811900,"body_markdown":"Your error message refers to `AppCompatButton`. You are not using `AppCompatActivity`.","body":"Your error message refers to <code>AppCompatButton</code>. You are not using <code>AppCompatActivity</code>."},{"owner":{"account_id":3686274,"reputation":923,"user_id":3069992,"accept_rate":83,"display_name":"Peter"},"score":0,"creation_date":1462878375,"post_id":37136574,"comment_id":61812090,"body_markdown":"I tried something before posting, apologies. I&#180;ve edited the code above to reflect my current code. With both options it doesn&#180;t work btw.","body":"I tried something before posting, apologies. I&#180;ve edited the code above to reflect my current code. With both options it doesn&#180;t work btw."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1463047236,"post_id":37136574,"comment_id":61900178,"body_markdown":"Your error still says AppCompatButton, but your question doesn&#39;t include one","body":"Your error still says AppCompatButton, but your question doesn&#39;t include one"},{"owner":{"account_id":3686274,"reputation":923,"user_id":3069992,"accept_rate":83,"display_name":"Peter"},"score":1,"creation_date":1463047705,"post_id":37136574,"comment_id":61900507,"body_markdown":"Yes cricket_007, that is correct and part of the reason why I am baffled...","body":"Yes cricket_007, that is correct and part of the reason why I am baffled..."}],"answers":[{"comments":[{"owner":{"account_id":1172561,"reputation":5924,"user_id":1149398,"accept_rate":100,"display_name":"sud007"},"score":0,"creation_date":1534575111,"post_id":43692540,"comment_id":90762630,"body_markdown":"Nope, not working as of today, I already was using `AppCompatButton`","body":"Nope, not working as of today, I already was using <code>AppCompatButton</code>"}],"tags":[],"owner":{"account_id":2614225,"reputation":14727,"user_id":2263683,"accept_rate":76,"display_name":"Ghasem"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1493447383,"creation_date":1493447383,"answer_id":43692540,"question_id":37136574,"body_markdown":"I had the same problem and in my case, I changed `Button` in XML to `android.support.v7.widget.AppCompatButton` and it worked.\r\n\r\nCode with Error:\r\n\r\n     &lt;Button\r\n            .... /&gt;\r\n\r\nFixed Code:\r\n\r\n     &lt;android.support.v7.widget.AppCompatButton\r\n            .... /&gt;\r\n","title":"How to solve error: Could not find method onClick(View) in a parent or ancestor Context for android:onClick","body":"<p>I had the same problem and in my case, I changed <code>Button</code> in XML to <code>android.support.v7.widget.AppCompatButton</code> and it worked.</p>\n\n<p>Code with Error:</p>\n\n<pre><code> &lt;Button\n        .... /&gt;\n</code></pre>\n\n<p>Fixed Code:</p>\n\n<pre><code> &lt;android.support.v7.widget.AppCompatButton\n        .... /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4526743,"reputation":2527,"user_id":3678308,"accept_rate":100,"display_name":"Muhammad Waleed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493448011,"creation_date":1493448011,"answer_id":43692611,"question_id":37136574,"body_markdown":"You need to change `android.support.v7.widget.AppCompatButton`\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:orientation=&quot;vertical&quot; android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;android.support.v7.widget.AppCompatButton\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Random Game&quot;\r\n            android:id=&quot;@+id/button_random&quot;\r\n            android:layout_gravity=&quot;center_horizontal&quot;\r\n            android:onClick=&quot;onClick&quot; /&gt;\r\n    &lt;/LinearLayout&gt;","title":"How to solve error: Could not find method onClick(View) in a parent or ancestor Context for android:onClick","body":"<p>You need to change <code>android.support.v7.widget.AppCompatButton</code></p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:orientation=\"vertical\" android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;android.support.v7.widget.AppCompatButton\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Random Game\"\n        android:id=\"@+id/button_random\"\n        android:layout_gravity=\"center_horizontal\"\n        android:onClick=\"onClick\" /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3943661,"reputation":322,"user_id":4792194,"display_name":"kgundula"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1532406071,"creation_date":1532346246,"answer_id":51477996,"question_id":37136574,"body_markdown":"Please rename `onClick` method to anything other than that, Android thinks you are calling the internal `onClick` from `View.java` exposed via `OnClickListener` interface   \r\n\r\n    &lt;Button\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Random Game&quot;\r\n        android:id=&quot;@+id/button_random&quot;\r\n        android:layout_gravity=&quot;center_horizontal&quot;\r\n        android:onClick=&quot;myOnClick&quot; /&gt;\r\n\r\nand in your Activity\r\n\r\n    public class StartActivity extends AppCompatActivity {\r\n    \r\n            @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n               super.onCreate(savedInstanceState);\r\n               setContentView(R.layout.activity_start);\r\n            }\r\n    \r\n            public void myOnClick(View v) {\r\n              Log.d(&quot;DEBUG&quot;, &quot;CLICKED &quot; + v.getId());\r\n            }\r\n    }\r\n\r\nYou can check the View documentation [here](https://developer.android.com/reference/android/view/View.OnClickListener) \r\n","title":"How to solve error: Could not find method onClick(View) in a parent or ancestor Context for android:onClick","body":"<p>Please rename <code>onClick</code> method to anything other than that, Android thinks you are calling the internal <code>onClick</code> from <code>View.java</code> exposed via <code>OnClickListener</code> interface   </p>\n\n<pre><code>&lt;Button\n    android:layout_width=\"wrap_content\"\n    android:layout_height=\"wrap_content\"\n    android:text=\"Random Game\"\n    android:id=\"@+id/button_random\"\n    android:layout_gravity=\"center_horizontal\"\n    android:onClick=\"myOnClick\" /&gt;\n</code></pre>\n\n<p>and in your Activity</p>\n\n<pre><code>public class StartActivity extends AppCompatActivity {\n\n        @Override\n        protected void onCreate(Bundle savedInstanceState) {\n           super.onCreate(savedInstanceState);\n           setContentView(R.layout.activity_start);\n        }\n\n        public void myOnClick(View v) {\n          Log.d(\"DEBUG\", \"CLICKED \" + v.getId());\n        }\n}\n</code></pre>\n\n<p>You can check the View documentation <a href=\"https://developer.android.com/reference/android/view/View.OnClickListener\" rel=\"noreferrer\">here</a> </p>\n"},{"tags":[],"owner":{"account_id":8615047,"reputation":949,"user_id":6452240,"accept_rate":60,"display_name":"Mohammed Riyadh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588340089,"creation_date":1588340089,"answer_id":61543513,"question_id":37136574,"body_markdown":"I had the same issue, in my case I have 2 activities using the same layout so when I changed the `OnClick` event name it will crash in other activity try to check the `setContentView` layout in the crashing activity","title":"How to solve error: Could not find method onClick(View) in a parent or ancestor Context for android:onClick","body":"<p>I had the same issue, in my case I have 2 activities using the same layout so when I changed the <code>OnClick</code> event name it will crash in other activity try to check the <code>setContentView</code> layout in the crashing activity</p>\n"},{"comments":[{"owner":{"account_id":16877265,"reputation":180,"user_id":12204327,"display_name":"Junior"},"score":3,"creation_date":1613828030,"post_id":64312991,"comment_id":117199363,"body_markdown":"brooo, you saved my day","body":"brooo, you saved my day"},{"owner":{"account_id":145567,"reputation":17881,"user_id":355456,"accept_rate":70,"display_name":"Hong"},"score":0,"creation_date":1628535562,"post_id":64312991,"comment_id":121442234,"body_markdown":"Thank you.  One would think AS would show the error.","body":"Thank you.  One would think AS would show the error."}],"tags":[],"owner":{"account_id":14028680,"reputation":479,"user_id":10133112,"display_name":"Sriraksha"},"comment_count":2,"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1679577531,"creation_date":1602485651,"answer_id":64312991,"question_id":37136574,"body_markdown":"In my case I missed closing bracket at the end.\r\n\r\n```\r\nandroid:onClick=&quot;@{(v) -&gt; CommentHandler.selectGallery(v)&quot;\r\n```\r\n\r\nIt should be like this.\r\n\r\n```\r\nandroid:onClick=&quot;@{(v) -&gt; CommentHandler.selectGallery(v)}&quot;\r\n```\r\n","title":"How to solve error: Could not find method onClick(View) in a parent or ancestor Context for android:onClick","body":"<p>In my case I missed closing bracket at the end.</p>\n<pre><code>android:onClick=&quot;@{(v) -&gt; CommentHandler.selectGallery(v)&quot;\n</code></pre>\n<p>It should be like this.</p>\n<pre><code>android:onClick=&quot;@{(v) -&gt; CommentHandler.selectGallery(v)}&quot;\n</code></pre>\n"}],"owner":{"account_id":3686274,"reputation":923,"user_id":3069992,"accept_rate":83,"display_name":"Peter"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26955,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":43692540,"answer_count":5,"score":10,"last_activity_date":1679577531,"creation_date":1462877991,"question_id":37136574,"body_markdown":"I have seen that there&#39;s been some similar questions but the answers to those haven&#39;t helped me so far. The full error:\r\n\r\n&gt; java.lang.IllegalStateException: Could not find method onClick(View)\r\n&gt; in a parent  or ancestor Context for android:onClick attribute defined\r\n&gt; on view class android.support.v7.widget.AppCompatButton with id\r\n&gt; &#39;button_random&#39;\r\n\r\nThe class (**StartActivity.java**):\r\n\r\n    public class StartActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_start);\r\n        }\r\n    \r\n        public void onClick(View v) {\r\n            Log.d(&quot;DEBUG&quot;, &quot;CLICKED &quot; + v.getId());\r\n        }\r\n    \r\n    }\r\n\r\nThe XML (**activity_start.xml**):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:orientation=&quot;vertical&quot; android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;&gt;\r\n    \r\n        &lt;Button\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Random Game&quot;\r\n            android:id=&quot;@+id/button_random&quot;\r\n            android:layout_gravity=&quot;center_horizontal&quot;\r\n            android:onClick=&quot;onClick&quot; /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\nI have added the activity to the AndroidManifest.xml. I have similar activities that work in the same way and I don&#39;t have any problems with those...\r\n\r\nDoes anyone see something where I am missing something or have made a mistake?\r\n","title":"How to solve error: Could not find method onClick(View) in a parent or ancestor Context for android:onClick","body":"<p>I have seen that there's been some similar questions but the answers to those haven't helped me so far. The full error:</p>\n\n<blockquote>\n  <p>java.lang.IllegalStateException: Could not find method onClick(View)\n  in a parent  or ancestor Context for android:onClick attribute defined\n  on view class android.support.v7.widget.AppCompatButton with id\n  'button_random'</p>\n</blockquote>\n\n<p>The class (<strong>StartActivity.java</strong>):</p>\n\n<pre><code>public class StartActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_start);\n    }\n\n    public void onClick(View v) {\n        Log.d(\"DEBUG\", \"CLICKED \" + v.getId());\n    }\n\n}\n</code></pre>\n\n<p>The XML (<strong>activity_start.xml</strong>):</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:orientation=\"vertical\" android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"&gt;\n\n    &lt;Button\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Random Game\"\n        android:id=\"@+id/button_random\"\n        android:layout_gravity=\"center_horizontal\"\n        android:onClick=\"onClick\" /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>I have added the activity to the AndroidManifest.xml. I have similar activities that work in the same way and I don't have any problems with those...</p>\n\n<p>Does anyone see something where I am missing something or have made a mistake?</p>\n"},{"tags":["java","android","qr-code"],"answers":[{"comments":[{"owner":{"account_id":27252115,"reputation":7,"user_id":21452351,"display_name":"Reborn"},"score":0,"creation_date":1679535748,"post_id":75810515,"comment_id":133741047,"body_markdown":"but it doesn&#39;t match the value which i have for **minutesArray** String","body":"but it doesn&#39;t match the value which i have for <b>minutesArray</b> String"},{"owner":{"account_id":28041624,"reputation":106,"user_id":21419095,"display_name":"Petra Minaler"},"score":0,"creation_date":1679577553,"post_id":75810515,"comment_id":133748717,"body_markdown":"Your, right. I edited my answer. I hope it makes sense now.","body":"Your, right. I edited my answer. I hope it makes sense now."}],"tags":[],"owner":{"account_id":28041624,"reputation":106,"user_id":21419095,"display_name":"Petra Minaler"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679577530,"creation_date":1679477854,"answer_id":75810515,"question_id":75808093,"body_markdown":"In the line\r\n\r\n`BitMatrix bitMatrix = multiFormatWriter.encode(String.valueOf(minNp), BarcodeFormat.QR_CODE,400,400);`\r\n\r\nby calling `String.valueOf(minNp)` you create a `String` that describes the instance of `NumberPicker`. Basically this is just another way of calling the `toString()` method of `minNp`. \r\n\r\nYou need to call `minNp.getValue()` which will return the value as an `int`. This value should be the index in the `minutesArray`.\r\n\r\nThe code would look like this:\r\n\r\n`BitMatrix bitMatrix = multiFormatWriter.encode(minutesArray[minNp.getValue()], BarcodeFormat.QR_CODE,400,400);`","title":"QR Code Generator with number picker and date picker in android","body":"<p>In the line</p>\n<p><code>BitMatrix bitMatrix = multiFormatWriter.encode(String.valueOf(minNp), BarcodeFormat.QR_CODE,400,400);</code></p>\n<p>by calling <code>String.valueOf(minNp)</code> you create a <code>String</code> that describes the instance of <code>NumberPicker</code>. Basically this is just another way of calling the <code>toString()</code> method of <code>minNp</code>.</p>\n<p>You need to call <code>minNp.getValue()</code> which will return the value as an <code>int</code>. This value should be the index in the <code>minutesArray</code>.</p>\n<p>The code would look like this:</p>\n<p><code>BitMatrix bitMatrix = multiFormatWriter.encode(minutesArray[minNp.getValue()], BarcodeFormat.QR_CODE,400,400);</code></p>\n"}],"owner":{"account_id":27252115,"reputation":7,"user_id":21452351,"display_name":"Reborn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75810515,"answer_count":1,"score":0,"last_activity_date":1679577530,"creation_date":1679453865,"question_id":75808093,"body_markdown":"I am new to android studio, I am doing a qr code project which i have used date picker and number picker and i have tried to write code and it came out with different result which not i expected.\r\nI have seen most of the qr code generator tutorial or example, it used zxing library and edittext for the qr code generator, so I have tried with myself coding it with date picker and nubmer picker.\r\nHow Can I make it the result which i expected? result like this: 1234567&lt;-id 1019&lt;-time 15&lt;-minutes\r\n\r\nMyCode java class:\r\n\r\n```\r\npublic class Visitor extends Activity {\r\n\r\n    DatePicker timeDp;\r\n    NumberPicker minNp;\r\n    private String[] minutesArray;\r\n    Button createBtn;\r\n    ImageView qrcodeIv;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.qrcode);\r\n        minNp = findViewById(R.id.npMin);\r\n        minNp.setMaxValue(5);\r\n        minNp.setMinValue(0);\r\n        minutesArray = new String[] {&quot;15&quot;,&quot;30&quot;,&quot;45&quot;,&quot;60&quot;,&quot;75&quot;,&quot;90&quot;};\r\n        minNp.setDisplayedValues(minutesArray);\r\n        qrcodeIv = findViewById(R.id.ivQrcode);\r\n        createBtn = findViewById(R.id.btnCreate);\r\n\r\n        Map&lt;String,String&gt; parameters = new HashMap&lt;String,String&gt;();\r\n        int value = minNp.getValue();\r\n        parameters.put(&quot;mins&quot;, Integer.toString(value));\r\n\r\n        createBtn.setOnClickListener(view -&gt; {\r\n            MultiFormatWriter multiFormatWriter = new MultiFormatWriter();\r\n            try {\r\n                BitMatrix bitMatrix = multiFormatWriter.encode(String.valueOf(minNp), BarcodeFormat.QR_CODE,400,400);\r\n                BarcodeEncoder barcodeEncoder = new BarcodeEncoder();\r\n                Bitmap bitmap = barcodeEncoder.createBitmap(bitMatrix);\r\n                qrcodeIv.setImageBitmap(bitmap);\r\n                InputMethodManager manager = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\r\n                manager.hideSoftInputFromWindow(minNp.getApplicationWindowToken(), 0);\r\n            } catch (WriterException e) {\r\n                e.printStackTrace();\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\nqr code design page:\r\n\r\n```\r\n&lt;TextView\r\n        android:id=&quot;@+id/txtTime&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Please Select Time&quot;\r\n        android:textSize=&quot;20dp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:textColor=&quot;@color/black&quot;/&gt;\r\n\r\n    &lt;TimePicker\r\n        android:id=&quot;@+id/tp&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:timePickerMode=&quot;spinner&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/txtMin&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Please Select Minutes&quot;\r\n        android:textSize=&quot;20dp&quot;\r\n        android:textStyle=&quot;bold&quot;\r\n        android:textColor=&quot;@color/black&quot;/&gt;\r\n\r\n    &lt;NumberPicker\r\n        android:id=&quot;@+id/npMin&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/btnCreate&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;Create&quot;\r\n        /&gt;\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/ivQrcode&quot;\r\n        android:layout_width=&quot;100dp&quot;\r\n        android:layout_height=&quot;100dp&quot;\r\n        android:layout_marginTop=&quot;50dp&quot;/&gt;\r\n```\r\n\r\nI had my qr code result show like this: **android.widget.NumberPicker{ba98302 VFED..... ........ 452,914-628,1409 #7f08013f app:id/npMin}**.\r\n\r\nI had import everything which I needed in android studio, but the result didn&#39;t show what I want.\r\n\r\nMy expected result should be like this:  1234567 1019 15\r\n                                            ^     ^    ^\r\n                                            id  time  minutes","title":"QR Code Generator with number picker and date picker in android","body":"<p>I am new to android studio, I am doing a qr code project which i have used date picker and number picker and i have tried to write code and it came out with different result which not i expected.\nI have seen most of the qr code generator tutorial or example, it used zxing library and edittext for the qr code generator, so I have tried with myself coding it with date picker and nubmer picker.\nHow Can I make it the result which i expected? result like this: 1234567&lt;-id 1019&lt;-time 15&lt;-minutes</p>\n<p>MyCode java class:</p>\n<pre><code>public class Visitor extends Activity {\n\n    DatePicker timeDp;\n    NumberPicker minNp;\n    private String[] minutesArray;\n    Button createBtn;\n    ImageView qrcodeIv;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.qrcode);\n        minNp = findViewById(R.id.npMin);\n        minNp.setMaxValue(5);\n        minNp.setMinValue(0);\n        minutesArray = new String[] {&quot;15&quot;,&quot;30&quot;,&quot;45&quot;,&quot;60&quot;,&quot;75&quot;,&quot;90&quot;};\n        minNp.setDisplayedValues(minutesArray);\n        qrcodeIv = findViewById(R.id.ivQrcode);\n        createBtn = findViewById(R.id.btnCreate);\n\n        Map&lt;String,String&gt; parameters = new HashMap&lt;String,String&gt;();\n        int value = minNp.getValue();\n        parameters.put(&quot;mins&quot;, Integer.toString(value));\n\n        createBtn.setOnClickListener(view -&gt; {\n            MultiFormatWriter multiFormatWriter = new MultiFormatWriter();\n            try {\n                BitMatrix bitMatrix = multiFormatWriter.encode(String.valueOf(minNp), BarcodeFormat.QR_CODE,400,400);\n                BarcodeEncoder barcodeEncoder = new BarcodeEncoder();\n                Bitmap bitmap = barcodeEncoder.createBitmap(bitMatrix);\n                qrcodeIv.setImageBitmap(bitmap);\n                InputMethodManager manager = (InputMethodManager) getSystemService(Context.INPUT_METHOD_SERVICE);\n                manager.hideSoftInputFromWindow(minNp.getApplicationWindowToken(), 0);\n            } catch (WriterException e) {\n                e.printStackTrace();\n            }\n        });\n    }\n}\n</code></pre>\n<p>qr code design page:</p>\n<pre><code>&lt;TextView\n        android:id=&quot;@+id/txtTime&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Please Select Time&quot;\n        android:textSize=&quot;20dp&quot;\n        android:textStyle=&quot;bold&quot;\n        android:textColor=&quot;@color/black&quot;/&gt;\n\n    &lt;TimePicker\n        android:id=&quot;@+id/tp&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:timePickerMode=&quot;spinner&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txtMin&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Please Select Minutes&quot;\n        android:textSize=&quot;20dp&quot;\n        android:textStyle=&quot;bold&quot;\n        android:textColor=&quot;@color/black&quot;/&gt;\n\n    &lt;NumberPicker\n        android:id=&quot;@+id/npMin&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot; /&gt;\n\n    &lt;Button\n        android:id=&quot;@+id/btnCreate&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Create&quot;\n        /&gt;\n\n    &lt;ImageView\n        android:id=&quot;@+id/ivQrcode&quot;\n        android:layout_width=&quot;100dp&quot;\n        android:layout_height=&quot;100dp&quot;\n        android:layout_marginTop=&quot;50dp&quot;/&gt;\n</code></pre>\n<p>I had my qr code result show like this: <strong>android.widget.NumberPicker{ba98302 VFED..... ........ 452,914-628,1409 #7f08013f app:id/npMin}</strong>.</p>\n<p>I had import everything which I needed in android studio, but the result didn't show what I want.</p>\n<p>My expected result should be like this:  1234567 1019 15\n^     ^    ^\nid  time  minutes</p>\n"},{"tags":["java","spring-integration"],"answers":[{"comments":[{"owner":{"account_id":12670622,"reputation":163,"user_id":9208293,"display_name":"Elias Khattar"},"score":0,"creation_date":1551448329,"post_id":54693033,"comment_id":96654896,"body_markdown":"Is it something close to what I can see in this link?https://github.com/spring-projects/spring-integration/blob/master/spring-integration-file/src/test/java/org/springframework/integration/file/remote/session/DelegatingSessionFactoryTests.java \nI could not find the proper was as per your suggested solution although I know it is the right one @Gary Russell","body":"Is it something close to what I can see in this link?<a href=\"https://github.com/spring-projects/spring-integration/blob/master/spring-integration-file/src/test/java/org/springframework/integration/file/remote/session/DelegatingSessionFactoryTests.java\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-integration/blob/mast&zwnj;&#8203;er/&hellip;</a>  I could not find the proper was as per your suggested solution although I know it is the right one @Gary Russell"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1551449644,"post_id":54693033,"comment_id":96655650,"body_markdown":"Yes; you just need to set the key before calling the adapter.","body":"Yes; you just need to set the key before calling the adapter."},{"owner":{"account_id":12670622,"reputation":163,"user_id":9208293,"display_name":"Elias Khattar"},"score":0,"creation_date":1552477498,"post_id":54693033,"comment_id":97022243,"body_markdown":"I edited my code as I understood, but still having errors in &#39;success()&#39; and not sure what to be done, errors are in this part&#39;.handle(delegatingSessionFactory().setThreadKey(&quot;&quot;))\n            .Ftp.outboundAdapter(delegatingSessionFactory(), FileExistsMode.REPLACE)&#39; ... can you please guide me if I&#39;m doing what should be done correctly or I&#39;m missing the concept here? In the &#39;sessionFactoryLocator()&#39; im creating connections to all the branches that I have inserted in the DB at run time an adding them to the &#39;delegatingSessionFactory&#39;, then using it in the success channel...thanks@Gary Russell","body":"I edited my code as I understood, but still having errors in &#39;success()&#39; and not sure what to be done, errors are in this part&#39;.handle(delegatingSessionFactory().setThreadKey(&quot;&quot;))             .Ftp.outboundAdapter(delegatingSessionFactory(), FileExistsMode.REPLACE)&#39; ... can you please guide me if I&#39;m doing what should be done correctly or I&#39;m missing the concept here? In the &#39;sessionFactoryLocator()&#39; im creating connections to all the branches that I have inserted in the DB at run time an adding them to the &#39;delegatingSessionFactory&#39;, then using it in the success channel...thanks@Gary Russell"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1552498965,"post_id":54693033,"comment_id":97036746,"body_markdown":"You need to add the delegate factories to the `DefaultSessionFactoryLocator` used by the `DelegatingSessionFactory`; each factory has a `key` which you must use in `setThreadKey()` to select the desired factory.","body":"You need to add the delegate factories to the <code>DefaultSessionFactoryLocator</code> used by the <code>DelegatingSessionFactory</code>; each factory has a <code>key</code> which you must use in <code>setThreadKey()</code> to select the desired factory."},{"owner":{"account_id":12670622,"reputation":163,"user_id":9208293,"display_name":"Elias Khattar"},"score":0,"creation_date":1552643611,"post_id":54693033,"comment_id":97097571,"body_markdown":"In method `sessionFactory()` I&#39;m iterating in a list of branches that I added and then adding them to a Map `factiories` with branch code as key, and finally adding factories to `DefaultSessionFactoryLocator` so now in the success channel where I need to use the `setThreadkey()`? if I&#39;m using `Ftp.outboundAdapter(delegatingSessionFactory().setThreadKey(&quot;BEY&quot;), FileExistsMode.REPLACE)` it is telling me that I cannot use void, should I do something like if branch is BEY then setThreadKey() and then in the adaptor I call getSession(&quot;BEY&quot;) or something else?thanks@Gary Russell","body":"In method <code>sessionFactory()</code> I&#39;m iterating in a list of branches that I added and then adding them to a Map <code>factiories</code> with branch code as key, and finally adding factories to <code>DefaultSessionFactoryLocator</code> so now in the success channel where I need to use the <code>setThreadkey()</code>? if I&#39;m using <code>Ftp.outboundAdapter(delegatingSessionFactory().setThreadKey(&zwnj;&#8203;&quot;BEY&quot;), FileExistsMode.REPLACE)</code> it is telling me that I cannot use void, should I do something like if branch is BEY then setThreadKey() and then in the adaptor I call getSession(&quot;BEY&quot;) or something else?thanks@Gary Russell"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1552656411,"post_id":54693033,"comment_id":97105225,"body_markdown":"One more time; `Ftp.outboundAdapter()` is processed one-time only, to set up the infrastructure, it has nothing to do with runtime. You just need the factory there; then, in your flow add a component `.handle(...)` that sets the threadKey based on the message information.","body":"One more time; <code>Ftp.outboundAdapter()</code> is processed one-time only, to set up the infrastructure, it has nothing to do with runtime. You just need the factory there; then, in your flow add a component <code>.handle(...)</code> that sets the threadKey based on the message information."},{"owner":{"account_id":12670622,"reputation":163,"user_id":9208293,"display_name":"Elias Khattar"},"score":0,"creation_date":1559045589,"post_id":54693033,"comment_id":99288989,"body_markdown":"I had the chance to work on it again, I updated my code for the **success**, **delegatingSessionFactory** and **sessionFactoryLocator** methods, if I run the app now and for example I entered branch CAI that should have key as CAI and should send to CAI on success, but it is sending to the default session that is BEY and not picking the correct session factory, trying it now with static threadKey to make sure it is working but not and if I add another branch it sends also to the default one, is there anything I missed adding here in the flow?thanks @Gary Russell","body":"I had the chance to work on it again, I updated my code for the <b>success</b>, <b>delegatingSessionFactory</b> and <b>sessionFactoryLocator</b> methods, if I run the app now and for example I entered branch CAI that should have key as CAI and should send to CAI on success, but it is sending to the default session that is BEY and not picking the correct session factory, trying it now with static threadKey to make sure it is working but not and if I add another branch it sends also to the default one, is there anything I missed adding here in the flow?thanks @Gary Russell"},{"owner":{"account_id":12670622,"reputation":163,"user_id":9208293,"display_name":"Elias Khattar"},"score":0,"creation_date":1559738999,"post_id":54693033,"comment_id":99513090,"body_markdown":"Haven&#39;t heard back on this, shall I submit a new question?thanks@Gary Russell","body":"Haven&#39;t heard back on this, shall I submit a new question?thanks@Gary Russell"},{"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1559739400,"post_id":54693033,"comment_id":99513341,"body_markdown":"I was out last week and missed this; but, yes, a new question with your current configuration would help. They don&#39;t like extended commentary here.","body":"I was out last week and missed this; but, yes, a new question with your current configuration would help. They don&#39;t like extended commentary here."}],"tags":[],"owner":{"account_id":1288095,"reputation":169336,"user_id":1240763,"display_name":"Gary Russell"},"comment_count":9,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550155455,"creation_date":1550155455,"answer_id":54693033,"question_id":54691115,"body_markdown":"You can&#39;t do that; the bean definition is only read once, during startup.\r\n\r\nUse a `DelegatingSessionFactory` with custom `SessionFactoryLocator` and add some logic the `onSuccess` flow to create the new factory if it doesn&#39;t already exist and set up the thread to invoke the factory based on the `Branch` (call `setThreadKey()`).","title":"Success Channel in Spring integration to be dynamic","body":"<p>You can't do that; the bean definition is only read once, during startup.</p>\n\n<p>Use a <code>DelegatingSessionFactory</code> with custom <code>SessionFactoryLocator</code> and add some logic the <code>onSuccess</code> flow to create the new factory if it doesn't already exist and set up the thread to invoke the factory based on the <code>Branch</code> (call <code>setThreadKey()</code>).</p>\n"}],"owner":{"account_id":12670622,"reputation":163,"user_id":9208293,"display_name":"Elias Khattar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679577420,"creation_date":1550149486,"question_id":54691115,"body_markdown":"I&#39;m sending a new payload header to a success channel using an advice and in the success channel I&#39;m sending the file_originalFile to FTP server using `outboundAdapter`, the issue is that success channel is only accepting static `outboundAdapter` and it is working fine,it receives the payload and send it to FTP server, I want to have the success channel outboundAdapter accepts different FTP connections at runtime, so if I add connection to FTP server 1 and the payload hits the success channel it sends it to FTP server 1 and then I add FTP server 2 then the new payload will be sent to FTP server 2 from the success channel, I tried to remove `@Bean` on the success and pass the FTP session factory in the parameter at run time same as what I&#39;m doing with the first flow in the code but it is recognizing it as success channel for the advice and if I add the `@Bean` with the parameter of the Branch the application will not run.\r\n\r\nHere is the code I have in place where I have the success channel taking `createNewFtpSessionFactory()` as predefined connection, I want to have it take `createNewFtpSessionFactory(Branch branch)` where the branch is FTP server that I will be adding at run time and continue to be a success channel for the advice.\r\n\r\n    /*\r\n    * Creating the outbound adaptor to send files from local to FTP server\r\n    *\r\n    * */\r\n    \r\n    \r\n    public IntegrationFlow localToFtpFlow(Branch myBranch) {\r\n    \r\n        return IntegrationFlows.from(Files.inboundAdapter(new File(myBranch.getBranchCode()))\r\n                        .filter(new ChainFileListFilter&lt;File&gt;()\r\n                                .addFilter(new RegexPatternFileListFilter(&quot;final&quot; + myBranch.getBranchCode() + &quot;.csv&quot;))\r\n                                .addFilter(new FileSystemPersistentAcceptOnceFileListFilter(metadataStore(dataSource), &quot;foo&quot;))),//FileSystemPersistentAcceptOnceFileListFilter\r\n                e -&gt; e.poller(Pollers.fixedDelay(10_000)))\r\n                .enrichHeaders(h -&gt;h.headerExpression(&quot;file_originalFile&quot;, &quot;new java.io.File(&#39;BEY/FEFOexport&quot; + myBranch.getBranchCode() + &quot;.csv&#39;)&quot;,true))\r\n                .transform(p -&gt; {\r\n                    LOG1.info(&quot;Sending file &quot; + p + &quot; to FTP branch &quot; + myBranch.getBranchCode());\r\n    \r\n                    return p;\r\n                })\r\n    \r\n                .log()\r\n                .handle(Ftp.outboundAdapter(createNewFtpSessionFactory(myBranch), FileExistsMode.REPLACE)\r\n                        .useTemporaryFileName(true)\r\n                        .autoCreateDirectory(false)\r\n                        .remoteDirectory(myBranch.getFolderPath()), e -&gt; e.advice(expressionAdvice()))\r\n    \r\n                .get();\r\n    }\r\n    \r\n    /*\r\n    * Creating the advice for routing the payload of the outbound message on different expressions (success, failure)\r\n    *\r\n    * */\r\n    \r\n    @Bean\r\n    public Advice expressionAdvice() {\r\n        ExpressionEvaluatingRequestHandlerAdvice advice = new ExpressionEvaluatingRequestHandlerAdvice();\r\n        advice.setSuccessChannelName(&quot;success.input&quot;);\r\n        advice.setOnSuccessExpressionString(&quot;payload.delete() + &#39; was successful&#39;&quot;);\r\n        //advice.setFailureChannelName(&quot;failure.input&quot;);\r\n        advice.setOnFailureExpressionString(&quot;payload + &#39; was bad, with reason: &#39; + #exception.cause.message&quot;);\r\n        advice.setTrapException(true);\r\n        return advice;\r\n    }\r\n    \r\n    /*\r\n    * Creating FTP connection based on the branch ftp data entered.\r\n    * */\r\n    \r\n    public DefaultFtpSessionFactory createNewFtpSessionFactory(Branch branch) {\r\n        final DefaultFtpSessionFactory factory = new DefaultFtpSessionFactory();\r\n        factory.setHost(branch.getHost());\r\n        factory.setUsername(branch.getUsern());\r\n        factory.setPort(branch.getFtpPort());\r\n        factory.setPassword(branch.getPassword());\r\n        return factory;\r\n    }\r\n    \r\n    public DefaultFtpSessionFactory createNewFtpSessionFactory() {\r\n        final DefaultFtpSessionFactory factory = new DefaultFtpSessionFactory();\r\n        factory.setHost(&quot;xxxx&quot;);\r\n        factory.setUsername(&quot;xx&quot;);\r\n        factory.setPort(xx);\r\n        factory.setPassword(&quot;xxxx&quot;);\r\n        return factory;\r\n    }\r\n    \r\n    /*\r\n    * Creating a metadata store to be used across the application flows to prevent reprocessing the file if it is already processed.\r\n    * This will save the new file in a metadata table in the DB with the state of the report, so when a new copy comes with different date it will be processed only.\r\n    * */\r\n    @Bean\r\n    public ConcurrentMetadataStore metadataStore(final DataSource dataSource) {\r\n        return new JdbcMetadataStore(dataSource);\r\n    }\r\n    \r\n    /*\r\n    * Success channel that will handle the AdviceMessage from the outbound adapter\r\n    *\r\n    * */\r\n    \r\n       @Bean\r\n    public IntegrationFlow success(){\r\n        return f -&gt; f.transform(&quot;inputMessage.headers[&#39;file_originalFile&#39;]&quot;)\r\n                 //    .handle(Message.class,(m,h)-&gt; this.delegatingSessionFactory().setThreadKey(m, h.get(String.valueOf(&quot;inputMessage.headers[&#39;file_originalFile&#39;]&quot;,1,3)))\r\n                .handle(Message.class,(m,h)-&gt; delegatingSessionFactory().setThreadKey(m,&quot;CAI&quot;))\r\n                .handle(Ftp.outboundAdapter(delegatingSessionFactory(), FileExistsMode.REPLACE)\r\n                        .useTemporaryFileName(true)\r\n                        .autoCreateDirectory(true)\r\n                        .remoteDirectory(&quot;/ftp/erbranch/EDMS/FEFO/History/&quot;).get());\r\n    }\r\n\r\n    @Bean\r\n    public DelegatingSessionFactory delegatingSessionFactory(){\r\n\r\n        SessionFactoryLocator&lt;FTPFile&gt; sff = sessionFactoryLocator();\r\n        return new DelegatingSessionFactory&lt;&gt;(sff);\r\n\r\n    }\r\n\r\n    @Bean\r\n    public SessionFactoryLocator&lt;FTPFile&gt; sessionFactoryLocator() {\r\n\r\n        final List&lt;Branch&gt; branchConnections = new ArrayList&lt;&gt;();\r\n        branchRepository.findAll().forEach(branchConnections::add);\r\n        final Map&lt;Object, SessionFactory&lt;FTPFile&gt;&gt; factories = new LinkedHashMap&lt;&gt;();\r\n\r\n        /*if(branchConnections.isEmpty()){\r\n            //return null;\r\n            factories.put(&quot;BEY&quot;,createNewFtpSessionFactory());\r\n        }*/\r\n\r\n        for (Branch br : branchConnections) {\r\n            // create a factory for every key containing server type, url and port\r\n            if (factories.get(br.getId()) == null) {\r\n                factories.put(br.getBranchCode(), createNewFtpSessionFactory(br));\r\n            }\r\n        }\r\n          return new DefaultSessionFactoryLocator&lt;FTPFile&gt;(factories,createNewFtpSessionFactory());//,defaultFtpSessionFactory);\r\n    }\r\n    }","title":"Success Channel in Spring integration to be dynamic","body":"<p>I'm sending a new payload header to a success channel using an advice and in the success channel I'm sending the file_originalFile to FTP server using <code>outboundAdapter</code>, the issue is that success channel is only accepting static <code>outboundAdapter</code> and it is working fine,it receives the payload and send it to FTP server, I want to have the success channel outboundAdapter accepts different FTP connections at runtime, so if I add connection to FTP server 1 and the payload hits the success channel it sends it to FTP server 1 and then I add FTP server 2 then the new payload will be sent to FTP server 2 from the success channel, I tried to remove <code>@Bean</code> on the success and pass the FTP session factory in the parameter at run time same as what I'm doing with the first flow in the code but it is recognizing it as success channel for the advice and if I add the <code>@Bean</code> with the parameter of the Branch the application will not run.</p>\n<p>Here is the code I have in place where I have the success channel taking <code>createNewFtpSessionFactory()</code> as predefined connection, I want to have it take <code>createNewFtpSessionFactory(Branch branch)</code> where the branch is FTP server that I will be adding at run time and continue to be a success channel for the advice.</p>\n<pre><code>/*\n* Creating the outbound adaptor to send files from local to FTP server\n*\n* */\n\n\npublic IntegrationFlow localToFtpFlow(Branch myBranch) {\n\n    return IntegrationFlows.from(Files.inboundAdapter(new File(myBranch.getBranchCode()))\n                    .filter(new ChainFileListFilter&lt;File&gt;()\n                            .addFilter(new RegexPatternFileListFilter(&quot;final&quot; + myBranch.getBranchCode() + &quot;.csv&quot;))\n                            .addFilter(new FileSystemPersistentAcceptOnceFileListFilter(metadataStore(dataSource), &quot;foo&quot;))),//FileSystemPersistentAcceptOnceFileListFilter\n            e -&gt; e.poller(Pollers.fixedDelay(10_000)))\n            .enrichHeaders(h -&gt;h.headerExpression(&quot;file_originalFile&quot;, &quot;new java.io.File('BEY/FEFOexport&quot; + myBranch.getBranchCode() + &quot;.csv')&quot;,true))\n            .transform(p -&gt; {\n                LOG1.info(&quot;Sending file &quot; + p + &quot; to FTP branch &quot; + myBranch.getBranchCode());\n\n                return p;\n            })\n\n            .log()\n            .handle(Ftp.outboundAdapter(createNewFtpSessionFactory(myBranch), FileExistsMode.REPLACE)\n                    .useTemporaryFileName(true)\n                    .autoCreateDirectory(false)\n                    .remoteDirectory(myBranch.getFolderPath()), e -&gt; e.advice(expressionAdvice()))\n\n            .get();\n}\n\n/*\n* Creating the advice for routing the payload of the outbound message on different expressions (success, failure)\n*\n* */\n\n@Bean\npublic Advice expressionAdvice() {\n    ExpressionEvaluatingRequestHandlerAdvice advice = new ExpressionEvaluatingRequestHandlerAdvice();\n    advice.setSuccessChannelName(&quot;success.input&quot;);\n    advice.setOnSuccessExpressionString(&quot;payload.delete() + ' was successful'&quot;);\n    //advice.setFailureChannelName(&quot;failure.input&quot;);\n    advice.setOnFailureExpressionString(&quot;payload + ' was bad, with reason: ' + #exception.cause.message&quot;);\n    advice.setTrapException(true);\n    return advice;\n}\n\n/*\n* Creating FTP connection based on the branch ftp data entered.\n* */\n\npublic DefaultFtpSessionFactory createNewFtpSessionFactory(Branch branch) {\n    final DefaultFtpSessionFactory factory = new DefaultFtpSessionFactory();\n    factory.setHost(branch.getHost());\n    factory.setUsername(branch.getUsern());\n    factory.setPort(branch.getFtpPort());\n    factory.setPassword(branch.getPassword());\n    return factory;\n}\n\npublic DefaultFtpSessionFactory createNewFtpSessionFactory() {\n    final DefaultFtpSessionFactory factory = new DefaultFtpSessionFactory();\n    factory.setHost(&quot;xxxx&quot;);\n    factory.setUsername(&quot;xx&quot;);\n    factory.setPort(xx);\n    factory.setPassword(&quot;xxxx&quot;);\n    return factory;\n}\n\n/*\n* Creating a metadata store to be used across the application flows to prevent reprocessing the file if it is already processed.\n* This will save the new file in a metadata table in the DB with the state of the report, so when a new copy comes with different date it will be processed only.\n* */\n@Bean\npublic ConcurrentMetadataStore metadataStore(final DataSource dataSource) {\n    return new JdbcMetadataStore(dataSource);\n}\n\n/*\n* Success channel that will handle the AdviceMessage from the outbound adapter\n*\n* */\n\n   @Bean\npublic IntegrationFlow success(){\n    return f -&gt; f.transform(&quot;inputMessage.headers['file_originalFile']&quot;)\n             //    .handle(Message.class,(m,h)-&gt; this.delegatingSessionFactory().setThreadKey(m, h.get(String.valueOf(&quot;inputMessage.headers['file_originalFile']&quot;,1,3)))\n            .handle(Message.class,(m,h)-&gt; delegatingSessionFactory().setThreadKey(m,&quot;CAI&quot;))\n            .handle(Ftp.outboundAdapter(delegatingSessionFactory(), FileExistsMode.REPLACE)\n                    .useTemporaryFileName(true)\n                    .autoCreateDirectory(true)\n                    .remoteDirectory(&quot;/ftp/erbranch/EDMS/FEFO/History/&quot;).get());\n}\n\n@Bean\npublic DelegatingSessionFactory delegatingSessionFactory(){\n\n    SessionFactoryLocator&lt;FTPFile&gt; sff = sessionFactoryLocator();\n    return new DelegatingSessionFactory&lt;&gt;(sff);\n\n}\n\n@Bean\npublic SessionFactoryLocator&lt;FTPFile&gt; sessionFactoryLocator() {\n\n    final List&lt;Branch&gt; branchConnections = new ArrayList&lt;&gt;();\n    branchRepository.findAll().forEach(branchConnections::add);\n    final Map&lt;Object, SessionFactory&lt;FTPFile&gt;&gt; factories = new LinkedHashMap&lt;&gt;();\n\n    /*if(branchConnections.isEmpty()){\n        //return null;\n        factories.put(&quot;BEY&quot;,createNewFtpSessionFactory());\n    }*/\n\n    for (Branch br : branchConnections) {\n        // create a factory for every key containing server type, url and port\n        if (factories.get(br.getId()) == null) {\n            factories.put(br.getBranchCode(), createNewFtpSessionFactory(br));\n        }\n    }\n      return new DefaultSessionFactoryLocator&lt;FTPFile&gt;(factories,createNewFtpSessionFactory());//,defaultFtpSessionFactory);\n}\n}\n</code></pre>\n"},{"tags":["java","windows","jar","classpath","javac"],"answers":[{"tags":[],"owner":{"account_id":5850460,"reputation":826,"user_id":4609258,"accept_rate":100,"display_name":"Florian Straub"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1491047013,"creation_date":1491047013,"answer_id":43156425,"question_id":43156180,"body_markdown":"Ouch! The problem was the order of parameters (and adding the current directory):\r\n    \r\n    java -cp &quot;metadata-extractor-2.9.1.jar;xmpcore-5.1.2.jar;.&quot; DescribeIt ","title":"Classpath option works for javac but not for java (Windows)","body":"<p>Ouch! The problem was the order of parameters (and adding the current directory):</p>\n\n<pre><code>java -cp \"metadata-extractor-2.9.1.jar;xmpcore-5.1.2.jar;.\" DescribeIt \n</code></pre>\n"}],"owner":{"account_id":5850460,"reputation":826,"user_id":4609258,"accept_rate":100,"display_name":"Florian Straub"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":43156425,"answer_count":1,"score":1,"last_activity_date":1679577418,"creation_date":1491045644,"question_id":43156180,"body_markdown":"After usually working with C# I tried writing some Java code yesterday to process an XML file. I didn&#39;t use an IDE or anything, just Notepad++, SDK and a lot of Google :)\r\n\r\nI needed to include some jar files for which I found out, that one needs to set the classpath as a command line parameter to find the jar file. That worked well:\r\n\r\n    javac -cp &quot;./metadata-extractor-2.9.1.jar;./xmpcore-5.1.2.jar&quot; DescribeIt.java\r\n\r\nAlthough using the same syntax when running it with java.exe I had less luck:\r\n\r\n    java DescribeIt -cp &quot;./metadata-extractor-2.9.1.jar;./xmpcore-5.1.2.jar&quot; \r\n\r\nLeads to:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/drewimaging/ImageMetadataReader at DescribeIt.main(DescribeIt.java:53)\r\n    Caused by: java.lang.ClassNotFoundException: com.drew.imaging.ImageMetadataReader\r\n            at java.net.URLClassLoader$1.run(Unknown Source)\r\n            at java.net.URLClassLoader$1.run(Unknown Source)\r\n            at java.security.AccessController.doPrivileged(Native Method)\r\n            at java.net.URLClassLoader.findClass(Unknown Source)\r\n            at java.lang.ClassLoader.loadClass(Unknown Source)\r\n            at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n            at java.lang.ClassLoader.loadClass(Unknown Source)\r\n            ... 1 more\r\n\r\nWhen I unzip the jar files, it works perfectly fine, but I guess that&#39;s not the way jar files are supposed to be used.\r\n\r\n[Code and build batch file can be found here](https://github.com/FlominatorTM/iptc_to_vicuna)","title":"Classpath option works for javac but not for java (Windows)","body":"<p>After usually working with C# I tried writing some Java code yesterday to process an XML file. I didn't use an IDE or anything, just Notepad++, SDK and a lot of Google :)</p>\n<p>I needed to include some jar files for which I found out, that one needs to set the classpath as a command line parameter to find the jar file. That worked well:</p>\n<pre><code>javac -cp &quot;./metadata-extractor-2.9.1.jar;./xmpcore-5.1.2.jar&quot; DescribeIt.java\n</code></pre>\n<p>Although using the same syntax when running it with java.exe I had less luck:</p>\n<pre><code>java DescribeIt -cp &quot;./metadata-extractor-2.9.1.jar;./xmpcore-5.1.2.jar&quot; \n</code></pre>\n<p>Leads to:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: com/drewimaging/ImageMetadataReader at DescribeIt.main(DescribeIt.java:53)\nCaused by: java.lang.ClassNotFoundException: com.drew.imaging.ImageMetadataReader\n        at java.net.URLClassLoader$1.run(Unknown Source)\n        at java.net.URLClassLoader$1.run(Unknown Source)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        ... 1 more\n</code></pre>\n<p>When I unzip the jar files, it works perfectly fine, but I guess that's not the way jar files are supposed to be used.</p>\n<p><a href=\"https://github.com/FlominatorTM/iptc_to_vicuna\" rel=\"nofollow noreferrer\">Code and build batch file can be found here</a></p>\n"},{"tags":["java","optimization","pdfbox"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1679605255,"post_id":75823511,"comment_id":133756255,"body_markdown":"We don&#39;t know your input file, so we can only guess. My guess is that your input file uses object streams. PDFBox has been able to read object streams for quite a while, but support for writing them only starts with version 3 (current development target). The main advantage of the use of object streams is that they can be compressed. With your version 2.0.27, therefore, manipulated files are likely to grow in size.","body":"We don&#39;t know your input file, so we can only guess. My guess is that your input file uses object streams. PDFBox has been able to read object streams for quite a while, but support for writing them only starts with version 3 (current development target). The main advantage of the use of object streams is that they can be compressed. With your version 2.0.27, therefore, manipulated files are likely to grow in size."},{"owner":{"account_id":14291246,"reputation":51,"user_id":10323128,"display_name":"Abhay Patel"},"score":0,"creation_date":1679893387,"post_id":75823511,"comment_id":133796161,"body_markdown":"@mkl Thank you for the response, can you suggest any optimization for the above code flow for removing the QR code?","body":"@mkl Thank you for the response, can you suggest any optimization for the above code flow for removing the QR code?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1679909730,"post_id":75823511,"comment_id":133799141,"body_markdown":"Try whether the current development version of PDFBox solves the issue. If it does, upgrade your program to PDFBox 3 as soon as it is released.","body":"Try whether the current development version of PDFBox solves the issue. If it does, upgrade your program to PDFBox 3 as soon as it is released."}],"owner":{"account_id":14291246,"reputation":51,"user_id":10323128,"display_name":"Abhay Patel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1679577406,"creation_date":1679577406,"question_id":75823511,"body_markdown":"I am currently using pdfbox 2.0.27 library for removing and adding the QR code image after loading the pdf file from the file system. Before removing the QR code image from the pdf file, the file size was 811 MB(10000 pages). After removing the QR code, the file size increases to 2.44 GB.\r\n\r\nIt was expected that after removing the QR code image, the file size should not increase, it should decrease or remain the same. Can you please help?\r\n\r\nAlso, it is taking too long to iterate all the pages Please suggest if any optimization is needed.\r\n\r\nBelow is the code for removing the Qr code : \r\n```\r\npdDocument = PDDocument.load(new File(aBarcodeVO.getSourceFilePath()));\r\nnewDocument = new PDDocument();\r\nIterator&lt;PDPage&gt; pageIterator = pdDocument.getPages().iterator();\r\n\r\nfor (int pageCount = 0; pageCount &lt; pdDocument.getNumberOfPages(); pageCount++) {\r\n    PDPage pdPage = newDocument.importPage(pageIterator.next());\r\n    String imgUniqueId = aBarcodeVO.getImgUniqueId().concat(String.valueOf(pageCount));\r\n    boolean hasQRCodeOnPage = removeQRCodeImage(newDocument, pdPage, imgUniqueId);\r\n    qRCodePageList.add(hasQRCodeOnPage);\r\n}\r\nif(qRCodePageList.contains(true)) {\r\n    newDocument.save(aBarcodeVO.getDestinationFilePath(true));\r\n}\r\nnewDocument.close();\r\npdDocument.close();\r\n```\r\n\r\nremove QR code image from page code : \r\n\r\n```\r\npublic static boolean removeQRCodeImage(PDDocument document, PDPage page, String imgUniqueId) throws Exception {\r\n        String qrCodeCosName = null;\r\n        PDResources pdResources = page.getResources();\r\n        boolean hasQRCodeOnPage=false;\r\n        for (COSName propertyName : pdResources.getXObjectNames()) {\r\n\r\n            if (!pdResources.isImageXObject(propertyName)) {\r\n                continue; \r\n            }\r\n            PDXObject o;\r\n            try {\r\n                o = pdResources.getXObject(propertyName);\r\n                if (o instanceof PDImageXObject) {\r\n                    PDImageXObject pdImageXObject = (PDImageXObject) o;\r\n                    if (pdImageXObject.getMetadata() != null) {     \r\n                        DomXmpParser xmpParser = new DomXmpParser();\r\n                       XMPMetadata xmpMetadata = xmpParser.parse(pdImageXObject.getMetadata().toByteArray());\r\n                     \r\n                       if(xmpMetadata.getDublinCoreSchema()!=null &amp;&amp; StringUtils.isNoneBlank(xmpMetadata.getDublinCoreSchema().getTitle())&amp;&amp;xmpMetadata.getDublinCoreSchema().getTitle().contains(&quot;_barcodeimg_&quot;)) {\r\n                            ((COSDictionary) pdResources.getCOSObject().getDictionaryObject(COSName.XOBJECT))\r\n                            .removeItem(propertyName);\r\n                           log.debug(&quot;propertyName REMOVED--&quot;+propertyName.getName());\r\n                            qrCodeCosName = propertyName.getName();\r\n                            hasQRCodeOnPage=true;\r\n                        }\r\n                    }\r\n                }\r\n            } catch (IOException e) {\r\n                log.error(&quot;Exception in removeQRCodeImage() while extracting QR image:&quot; + e, e);\r\n            }\r\n        }\r\n\r\n        PDFStreamParser parser = new PDFStreamParser(page);\r\n        parser.parse();\r\n        List&lt;Object&gt; tokens = parser.getTokens();\r\n        log.debug(&quot;original tokens size&quot; + tokens.size());\r\n        List&lt;Object&gt; newTokens = new ArrayList&lt;Object&gt;();\r\n\r\n        for (int j = 0; j &lt; tokens.size(); j++) {\r\n            Object token = tokens.get(j);\r\n            if (token instanceof Operator) {\r\n                Operator op = (Operator) token;\r\n                // find image - remove it\r\n                if (op.getName().equals(&quot;Do&quot;)) {\r\n                    COSName cosName = (COSName) tokens.get(j - 1);\r\n                    if (cosName.getName().equals(qrCodeCosName)) {\r\n                        newTokens.remove(newTokens.size() - 1);\r\n                        continue;\r\n                    }\r\n                }\r\n            }\r\n            newTokens.add(token);\r\n        }\r\n        log.debug(&quot;tokens size&quot; + newTokens.size());\r\n        PDStream newContents = new PDStream(document);\r\n        OutputStream out = newContents.createOutputStream();\r\n        ContentStreamWriter writer = new ContentStreamWriter(out);\r\n        writer.writeTokens(newTokens);\r\n        out.close();\r\n        page.setContents(newContents);\r\n        return hasQRCodeOnPage;\r\n    }\r\n```","title":"PDFBox File Size increasing after removing QR code also the process is too slow for large size pdf","body":"<p>I am currently using pdfbox 2.0.27 library for removing and adding the QR code image after loading the pdf file from the file system. Before removing the QR code image from the pdf file, the file size was 811 MB(10000 pages). After removing the QR code, the file size increases to 2.44 GB.</p>\n<p>It was expected that after removing the QR code image, the file size should not increase, it should decrease or remain the same. Can you please help?</p>\n<p>Also, it is taking too long to iterate all the pages Please suggest if any optimization is needed.</p>\n<p>Below is the code for removing the Qr code :</p>\n<pre><code>pdDocument = PDDocument.load(new File(aBarcodeVO.getSourceFilePath()));\nnewDocument = new PDDocument();\nIterator&lt;PDPage&gt; pageIterator = pdDocument.getPages().iterator();\n\nfor (int pageCount = 0; pageCount &lt; pdDocument.getNumberOfPages(); pageCount++) {\n    PDPage pdPage = newDocument.importPage(pageIterator.next());\n    String imgUniqueId = aBarcodeVO.getImgUniqueId().concat(String.valueOf(pageCount));\n    boolean hasQRCodeOnPage = removeQRCodeImage(newDocument, pdPage, imgUniqueId);\n    qRCodePageList.add(hasQRCodeOnPage);\n}\nif(qRCodePageList.contains(true)) {\n    newDocument.save(aBarcodeVO.getDestinationFilePath(true));\n}\nnewDocument.close();\npdDocument.close();\n</code></pre>\n<p>remove QR code image from page code :</p>\n<pre><code>public static boolean removeQRCodeImage(PDDocument document, PDPage page, String imgUniqueId) throws Exception {\n        String qrCodeCosName = null;\n        PDResources pdResources = page.getResources();\n        boolean hasQRCodeOnPage=false;\n        for (COSName propertyName : pdResources.getXObjectNames()) {\n\n            if (!pdResources.isImageXObject(propertyName)) {\n                continue; \n            }\n            PDXObject o;\n            try {\n                o = pdResources.getXObject(propertyName);\n                if (o instanceof PDImageXObject) {\n                    PDImageXObject pdImageXObject = (PDImageXObject) o;\n                    if (pdImageXObject.getMetadata() != null) {     \n                        DomXmpParser xmpParser = new DomXmpParser();\n                       XMPMetadata xmpMetadata = xmpParser.parse(pdImageXObject.getMetadata().toByteArray());\n                     \n                       if(xmpMetadata.getDublinCoreSchema()!=null &amp;&amp; StringUtils.isNoneBlank(xmpMetadata.getDublinCoreSchema().getTitle())&amp;&amp;xmpMetadata.getDublinCoreSchema().getTitle().contains(&quot;_barcodeimg_&quot;)) {\n                            ((COSDictionary) pdResources.getCOSObject().getDictionaryObject(COSName.XOBJECT))\n                            .removeItem(propertyName);\n                           log.debug(&quot;propertyName REMOVED--&quot;+propertyName.getName());\n                            qrCodeCosName = propertyName.getName();\n                            hasQRCodeOnPage=true;\n                        }\n                    }\n                }\n            } catch (IOException e) {\n                log.error(&quot;Exception in removeQRCodeImage() while extracting QR image:&quot; + e, e);\n            }\n        }\n\n        PDFStreamParser parser = new PDFStreamParser(page);\n        parser.parse();\n        List&lt;Object&gt; tokens = parser.getTokens();\n        log.debug(&quot;original tokens size&quot; + tokens.size());\n        List&lt;Object&gt; newTokens = new ArrayList&lt;Object&gt;();\n\n        for (int j = 0; j &lt; tokens.size(); j++) {\n            Object token = tokens.get(j);\n            if (token instanceof Operator) {\n                Operator op = (Operator) token;\n                // find image - remove it\n                if (op.getName().equals(&quot;Do&quot;)) {\n                    COSName cosName = (COSName) tokens.get(j - 1);\n                    if (cosName.getName().equals(qrCodeCosName)) {\n                        newTokens.remove(newTokens.size() - 1);\n                        continue;\n                    }\n                }\n            }\n            newTokens.add(token);\n        }\n        log.debug(&quot;tokens size&quot; + newTokens.size());\n        PDStream newContents = new PDStream(document);\n        OutputStream out = newContents.createOutputStream();\n        ContentStreamWriter writer = new ContentStreamWriter(out);\n        writer.writeTokens(newTokens);\n        out.close();\n        page.setContents(newContents);\n        return hasQRCodeOnPage;\n    }\n</code></pre>\n"},{"tags":["java","polymorphism"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":7,"creation_date":1679577225,"post_id":75823448,"comment_id":133748636,"body_markdown":"Because you&#39;re doing nothing with the return value from `super.getInfo()`","body":"Because you&#39;re doing nothing with the return value from <code>super.getInfo()</code>"},{"owner":{"account_id":24324261,"reputation":1,"user_id":18264073,"display_name":"BenNye09"},"score":0,"creation_date":1679578863,"post_id":75823448,"comment_id":133749089,"body_markdown":"I see, I thought return works like print or println, my bad.","body":"I see, I thought return works like print or println, my bad."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1679580064,"post_id":75823448,"comment_id":133749488,"body_markdown":"It&#39;s a common mistake for beginners. See [here](https://stackoverflow.com/questions/7129285/what-is-the-purpose-of-the-return-statement-how-is-it-different-from-printing) for an explanation (it&#39;s for python, but the concept is the same).","body":"It&#39;s a common mistake for beginners. See <a href=\"https://stackoverflow.com/questions/7129285/what-is-the-purpose-of-the-return-statement-how-is-it-different-from-printing\">here</a> for an explanation (it&#39;s for python, but the concept is the same)."}],"answers":[{"tags":[],"owner":{"account_id":7967944,"reputation":41,"user_id":6013634,"display_name":"menecats"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679577403,"creation_date":1679577403,"answer_id":75823510,"question_id":75823448,"body_markdown":"In the `getInfo()` method of the `Student` is getting invoked, but currently you are not using the result.\r\n\r\nIf, in the `GradStudent` class, you want to return a String that combines the result of the `Student.getInfo` method with the specific value from `GradStudent` you could do something like this:\r\n\r\n```java\r\npublic class GradStudent extends Student {\r\n    public String getFood(){\r\n        return &quot;Taco&quot;;\r\n    }\r\n    public String getInfo(){\r\n        String studentInfo = super.getInfo();\r\n        return studentInfo + &quot; Eating&quot;;\r\n    }\r\n\r\n    public static void main(String[] args){\r\n        Student s = new GradStudent();\r\n        System.out.println(s.getInfo());\r\n    }\r\n}\r\n```","title":"Why doesn&#39;t super. call the superclass method in this code?","body":"<p>In the <code>getInfo()</code> method of the <code>Student</code> is getting invoked, but currently you are not using the result.</p>\n<p>If, in the <code>GradStudent</code> class, you want to return a String that combines the result of the <code>Student.getInfo</code> method with the specific value from <code>GradStudent</code> you could do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class GradStudent extends Student {\n    public String getFood(){\n        return &quot;Taco&quot;;\n    }\n    public String getInfo(){\n        String studentInfo = super.getInfo();\n        return studentInfo + &quot; Eating&quot;;\n    }\n\n    public static void main(String[] args){\n        Student s = new GradStudent();\n        System.out.println(s.getInfo());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":24324261,"reputation":1,"user_id":18264073,"display_name":"BenNye09"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1679624041,"accepted_answer_id":75823510,"answer_count":1,"score":-2,"last_activity_date":1679577403,"creation_date":1679577070,"question_id":75823448,"body_markdown":"When I execute this code, it only returns &quot;Eating&quot; instead of &quot;Studying&quot; AND &quot;Eating.&quot; Can anyone explain it?\r\n\r\n```\r\npublic class Student {\r\n    public String getFood() {\r\n        return &quot;Pizza&quot;;\r\n    }\r\n    public String getInfo(){\r\n        return &quot;Studying&quot;;\r\n    }\r\n}\r\n\r\npublic class GradStudent extends Student {\r\n    public String getFood(){\r\n        return &quot;Taco&quot;;\r\n    }\r\n    public String getInfo(){\r\n        super.getInfo();\r\n        return &quot;Eating&quot;;\r\n    }\r\n\r\n    public static void main(String[] args){\r\n        Student s = new GradStudent();\r\n        System.out.println(s.getInfo());\r\n    }\r\n}\r\n```","title":"Why doesn&#39;t super. call the superclass method in this code?","body":"<p>When I execute this code, it only returns &quot;Eating&quot; instead of &quot;Studying&quot; AND &quot;Eating.&quot; Can anyone explain it?</p>\n<pre><code>public class Student {\n    public String getFood() {\n        return &quot;Pizza&quot;;\n    }\n    public String getInfo(){\n        return &quot;Studying&quot;;\n    }\n}\n\npublic class GradStudent extends Student {\n    public String getFood(){\n        return &quot;Taco&quot;;\n    }\n    public String getInfo(){\n        super.getInfo();\n        return &quot;Eating&quot;;\n    }\n\n    public static void main(String[] args){\n        Student s = new GradStudent();\n        System.out.println(s.getInfo());\n    }\n}\n</code></pre>\n"},{"tags":["java","performance-testing","gatling"],"answers":[{"tags":[],"owner":{"account_id":6852429,"reputation":6319,"user_id":5269205,"display_name":"St&#233;phane LANDELLE"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679563322,"creation_date":1679563322,"answer_id":75821175,"question_id":75820528,"body_markdown":"This is not how things work.\r\n\r\nScenarios are virtual users&#39; journey.\r\nDifferent scenarios mean different virtual users.\r\nUsing `check` saves the data in the Session of the virtual user that executed the request. So this data is not available for other virtual users, all the more if they belong to other scenarios.\r\n\r\nThis is not how you should be using Gatling. You should have 1 single scenario where virtual users first get a book and then read it.\r\n\r\nI really recommend that you go through [Gatling tutorials][1] and [free online trainings][2].\r\n\r\n\r\n  [1]: https://gatling.io/docs/gatling/tutorials/\r\n  [2]: https://gatling.io/academy/","title":"Gatling pass collected variable from a ChainBuilder to another ChainBuilder from a different class","body":"<p>This is not how things work.</p>\n<p>Scenarios are virtual users' journey.\nDifferent scenarios mean different virtual users.\nUsing <code>check</code> saves the data in the Session of the virtual user that executed the request. So this data is not available for other virtual users, all the more if they belong to other scenarios.</p>\n<p>This is not how you should be using Gatling. You should have 1 single scenario where virtual users first get a book and then read it.</p>\n<p>I really recommend that you go through <a href=\"https://gatling.io/docs/gatling/tutorials/\" rel=\"nofollow noreferrer\">Gatling tutorials</a> and <a href=\"https://gatling.io/academy/\" rel=\"nofollow noreferrer\">free online trainings</a>.</p>\n"},{"tags":[],"owner":{"account_id":353426,"reputation":5631,"user_id":691105,"display_name":"James Pulley"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679577369,"creation_date":1679577369,"answer_id":75823501,"question_id":75820528,"body_markdown":"Pass it through a queue.   One pushes to the queue, another reads from the same queue.   You have options such as RabbitMQ or even leveraging a cloud queue provider.   Most of the cloud providers are silly cheap on this, where a 100,000 messages a month may cost you a dollar.\r\n\r\nUsing a queue also has other advantages in that you can pass data between virtual user processes running on completely different machines, or even different tools exercising distinct portions of a system, such as Gatling to exercise a web service associated with inventory updates, the result is placed on a queue where it is picked up by LoadRunner to use the same data in a terminal virtual user interface as part of a warehouse management system.","title":"Gatling pass collected variable from a ChainBuilder to another ChainBuilder from a different class","body":"<p>Pass it through a queue.   One pushes to the queue, another reads from the same queue.   You have options such as RabbitMQ or even leveraging a cloud queue provider.   Most of the cloud providers are silly cheap on this, where a 100,000 messages a month may cost you a dollar.</p>\n<p>Using a queue also has other advantages in that you can pass data between virtual user processes running on completely different machines, or even different tools exercising distinct portions of a system, such as Gatling to exercise a web service associated with inventory updates, the result is placed on a queue where it is picked up by LoadRunner to use the same data in a terminal virtual user interface as part of a warehouse management system.</p>\n"}],"owner":{"account_id":12246014,"reputation":357,"user_id":8937649,"display_name":"Razvan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":409,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679577369,"creation_date":1679558999,"question_id":75820528,"body_markdown":"I&#39;m trying to pass a value collected from a test, to another test, but looks like the gatling session object is kept inside classes and is not allowing other classes to use it.\r\n\r\nMy code looks like this:\r\n\r\nTest class 1\r\n\r\n    public class BooksStore{\r\n\r\n    public static ScenarioBuilder getScenario() {\r\n\r\n    ChainBuilder getBooks =\r\n                exec(http(&quot;Get Books IDs&quot;)\r\n                        .get(path/to/books/ids)\r\n                        .check(jsonPath(&quot;$.idList[1]&quot;).saveAs(&quot;firstBookId&quot;)));\r\n\r\n    return scenario(&quot;Get all books ids&quot;).exec(getBooks);\r\n    }\r\n\r\nTest  class 2\r\n\r\n    public class Client{\r\n\r\n    public static ScenarioBuilder getScenario() {\r\n\r\n    ChainBuilder readBook =\r\n                exec(http(&quot;Get Book by ID&quot;)\r\n                        .get(path/to/book/${firstBookId}));\r\n                 \r\n    return scenario(&quot;Get book by id&quot;).exec(readBook);\r\n    }\r\n\r\nSimulation class\r\n\r\n    public class MySimulation extends Simulation {\r\n\r\n    HttpProtocolBuilder httpProtocol =\r\n            http\r\n                    .baseUrl(&quot;https://bookylova.com&quot;)\r\n                    .acceptHeader(AllAcceptHeaders)\r\n                    .header(Authorization, getGetAccessToken());\r\n\r\n    {\r\n        setUp(\r\n                BooksStore.getScenario().injectOpen(\r\n                rampUsers(10)\r\n                .during(Duration.ofSeconds(10)))\r\n                .andThen(\r\n                Client.getScenario().injectOpen(\r\n                rampUsers(10)\r\n                .during(Duration.ofSeconds(10)))\r\n                )).protocols(httpProtocol);\r\n      }\r\n    }\r\n\r\nI can run another exec function chained to **getBooks** and save the value in session, but it won&#39;t work to be called in **readBook** . Also tried to store variable outside class in another one then read it, but is not working.","title":"Gatling pass collected variable from a ChainBuilder to another ChainBuilder from a different class","body":"<p>I'm trying to pass a value collected from a test, to another test, but looks like the gatling session object is kept inside classes and is not allowing other classes to use it.</p>\n<p>My code looks like this:</p>\n<p>Test class 1</p>\n<pre><code>public class BooksStore{\n\npublic static ScenarioBuilder getScenario() {\n\nChainBuilder getBooks =\n            exec(http(&quot;Get Books IDs&quot;)\n                    .get(path/to/books/ids)\n                    .check(jsonPath(&quot;$.idList[1]&quot;).saveAs(&quot;firstBookId&quot;)));\n\nreturn scenario(&quot;Get all books ids&quot;).exec(getBooks);\n}\n</code></pre>\n<p>Test  class 2</p>\n<pre><code>public class Client{\n\npublic static ScenarioBuilder getScenario() {\n\nChainBuilder readBook =\n            exec(http(&quot;Get Book by ID&quot;)\n                    .get(path/to/book/${firstBookId}));\n             \nreturn scenario(&quot;Get book by id&quot;).exec(readBook);\n}\n</code></pre>\n<p>Simulation class</p>\n<pre><code>public class MySimulation extends Simulation {\n\nHttpProtocolBuilder httpProtocol =\n        http\n                .baseUrl(&quot;https://bookylova.com&quot;)\n                .acceptHeader(AllAcceptHeaders)\n                .header(Authorization, getGetAccessToken());\n\n{\n    setUp(\n            BooksStore.getScenario().injectOpen(\n            rampUsers(10)\n            .during(Duration.ofSeconds(10)))\n            .andThen(\n            Client.getScenario().injectOpen(\n            rampUsers(10)\n            .during(Duration.ofSeconds(10)))\n            )).protocols(httpProtocol);\n  }\n}\n</code></pre>\n<p>I can run another exec function chained to <strong>getBooks</strong> and save the value in session, but it won't work to be called in <strong>readBook</strong> . Also tried to store variable outside class in another one then read it, but is not working.</p>\n"},{"tags":["java","apache-flink","spark-streaming","flink-streaming"],"comments":[{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1679695325,"post_id":75823421,"comment_id":133773263,"body_markdown":"Adding artificial burstiness and lag into the first application seems like the wrong way to address the problem. It&#39;s hard to imagine how this will help. It just pushes the problem 10 seconds down the road, and causes the first job to use more resources.","body":"Adding artificial burstiness and lag into the first application seems like the wrong way to address the problem. It&#39;s hard to imagine how this will help. It just pushes the problem 10 seconds down the road, and causes the first job to use more resources."},{"owner":{"account_id":2274094,"reputation":40374,"user_id":2000823,"display_name":"David Anderson"},"score":0,"creation_date":1679695373,"post_id":75823421,"comment_id":133773271,"body_markdown":"Rather than collecting a new Tuple2.of(...), why not simply `collect(tuple)`?","body":"Rather than collecting a new Tuple2.of(...), why not simply <code>collect(tuple)</code>?"},{"owner":{"account_id":19463399,"reputation":1,"user_id":14237189,"display_name":"FelixNavidad"},"score":0,"creation_date":1679908201,"post_id":75823421,"comment_id":133798730,"body_markdown":"@DavidAnderson The main purpose of the artificial bursts is to reduce the load on the database input operation. Also, `out.collect(tuple.f0,  tuple.f1)` would not work because collect requires only one argument. Which is `Tuple.of(...)` is used.","body":"@DavidAnderson The main purpose of the artificial bursts is to reduce the load on the database input operation. Also, <code>out.collect(tuple.f0,  tuple.f1)</code> would not work because collect requires only one argument. Which is <code>Tuple.of(...)</code> is used."}],"owner":{"account_id":19463399,"reputation":1,"user_id":14237189,"display_name":"FelixNavidad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679576948,"creation_date":1679576948,"question_id":75823421,"body_markdown":"There is a flink application. It takes in a datastream from a Kafka topic. Let&#39;s call this datastream `A`. `A` undergoes a lot of processing within this Flink app. Post all the processing, we get a datastream of type `&lt;Headers, GenericRecord&gt;`, where `Headers` are Kafka Headers and `GenericRecord` are Avro Generic Records following a certain schema `sch`. Lets call this new post-processed datastream as `B`.\r\n\r\n`B` then flows into a sink Kafka topic which is then consumed by another Flink app. Now this second flink app has a lot of heavy procesing to do and hence, is a little slow. Due to this, there a heavy lag build up seen.\r\n\r\nTo counter this, a proposed solution which was offered was to add a Tumbling Window of time 10 seconds before the datastream enters the sink.\r\n\r\nThere is strict type checking happening everywhere so the type of datastream `B` needs to be the same before and after the tumbling window.\r\n\r\nI tried to create a new datastrem `C` that collected the required data from B in the correct type format like so:\r\n\r\n```\r\nDatastream&lt;Tuple2&lt;Headers, GenericRecord&gt; C = B\r\n                    .keyBy((KeySelector&lt;Tuple2&lt;Headers, GenericRecord&gt;, String&gt;) value -&gt; value.f1.get(&quot;id&quot;).toString())\r\n                    .window(TumblingProcessingTimeWindows.of(Time.seconds(10)))\r\n                    .process(new ProcessWindowFunction&lt;Tuple2&lt;Headers, GenericRecord&gt;, Tuple2&lt;Headers, GenericRecord&gt;, String, TimeWindow&gt;() {\r\n                        @Override\r\n                        public void process(String s, ProcessWindowFunction&lt;Tuple2&lt;Headers, GenericRecord&gt;, Tuple2&lt;Headers, GenericRecord&gt;, String, TimeWindow&gt;.Context context, Iterable&lt;Tuple2&lt;Headers, GenericRecord&gt;&gt; elements, Collector&lt;Tuple2&lt;Headers, GenericRecord&gt;&gt; out) throws Exception {\r\n                            for (Tuple2&lt;Headers, GenericRecord&gt; tuple : elements) {\r\n                                out.collect(Tuple2.of(tuple.f0, (GenericRecord) tuple.f1));\r\n                            }\r\n                        }\r\n                    })\r\n```\r\n\r\nBut I&#39;m getting a type mismatch in GenericRecord.\r\nHere&#39;s how the GenericRecord type info looks before the above code i.e. `B`:\r\n\r\n`GenericRecord(&quot; ...Avro schema here... &quot;)`\r\n\r\nBut post the above code, the GenericRecord type info for `C` looks like this:\r\n\r\n`GenericType&lt;org.apache.avro.generic.GenericRecord&gt;`\r\n\r\nWhy is this change in type info occuring? How do I fix it?","title":"Adding Tumbling Window before Sink in Apache Flink","body":"<p>There is a flink application. It takes in a datastream from a Kafka topic. Let's call this datastream <code>A</code>. <code>A</code> undergoes a lot of processing within this Flink app. Post all the processing, we get a datastream of type <code>&lt;Headers, GenericRecord&gt;</code>, where <code>Headers</code> are Kafka Headers and <code>GenericRecord</code> are Avro Generic Records following a certain schema <code>sch</code>. Lets call this new post-processed datastream as <code>B</code>.</p>\n<p><code>B</code> then flows into a sink Kafka topic which is then consumed by another Flink app. Now this second flink app has a lot of heavy procesing to do and hence, is a little slow. Due to this, there a heavy lag build up seen.</p>\n<p>To counter this, a proposed solution which was offered was to add a Tumbling Window of time 10 seconds before the datastream enters the sink.</p>\n<p>There is strict type checking happening everywhere so the type of datastream <code>B</code> needs to be the same before and after the tumbling window.</p>\n<p>I tried to create a new datastrem <code>C</code> that collected the required data from B in the correct type format like so:</p>\n<pre><code>Datastream&lt;Tuple2&lt;Headers, GenericRecord&gt; C = B\n                    .keyBy((KeySelector&lt;Tuple2&lt;Headers, GenericRecord&gt;, String&gt;) value -&gt; value.f1.get(&quot;id&quot;).toString())\n                    .window(TumblingProcessingTimeWindows.of(Time.seconds(10)))\n                    .process(new ProcessWindowFunction&lt;Tuple2&lt;Headers, GenericRecord&gt;, Tuple2&lt;Headers, GenericRecord&gt;, String, TimeWindow&gt;() {\n                        @Override\n                        public void process(String s, ProcessWindowFunction&lt;Tuple2&lt;Headers, GenericRecord&gt;, Tuple2&lt;Headers, GenericRecord&gt;, String, TimeWindow&gt;.Context context, Iterable&lt;Tuple2&lt;Headers, GenericRecord&gt;&gt; elements, Collector&lt;Tuple2&lt;Headers, GenericRecord&gt;&gt; out) throws Exception {\n                            for (Tuple2&lt;Headers, GenericRecord&gt; tuple : elements) {\n                                out.collect(Tuple2.of(tuple.f0, (GenericRecord) tuple.f1));\n                            }\n                        }\n                    })\n</code></pre>\n<p>But I'm getting a type mismatch in GenericRecord.\nHere's how the GenericRecord type info looks before the above code i.e. <code>B</code>:</p>\n<p><code>GenericRecord(&quot; ...Avro schema here... &quot;)</code></p>\n<p>But post the above code, the GenericRecord type info for <code>C</code> looks like this:</p>\n<p><code>GenericType&lt;org.apache.avro.generic.GenericRecord&gt;</code></p>\n<p>Why is this change in type info occuring? How do I fix it?</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":2265678,"reputation":86,"user_id":1994431,"display_name":"Vinod Bokare"},"score":0,"creation_date":1497967971,"post_id":23553094,"comment_id":76296288,"body_markdown":"I am also searching same implementation, an you share your solution","body":"I am also searching same implementation, an you share your solution"}],"answers":[{"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1452674247,"post_id":27986248,"comment_id":57268810,"body_markdown":"According to the PDF specification, the /Dest entry is not permitted if an /A entry is present, so you should delete the &quot;action&quot; part.","body":"According to the PDF specification, the /Dest entry is not permitted if an /A entry is present, so you should delete the &quot;action&quot; part."},{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":0,"creation_date":1467189175,"post_id":27986248,"comment_id":63623608,"body_markdown":"I believe there&#39;s a bug - Instead of dest.setPageNumber(3), use dest.setPage(PDPage). Numbers are for external destinations only.","body":"I believe there&#39;s a bug - Instead of dest.setPageNumber(3), use dest.setPage(PDPage). Numbers are for external destinations only."}],"tags":[],"owner":{"account_id":3403495,"reputation":3257,"user_id":2855152,"accept_rate":75,"display_name":"thaavik"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421418893,"creation_date":1421418893,"answer_id":27986248,"question_id":23553094,"body_markdown":"There&#39;s no simple method for doing this, but here&#39;s an approach.  I haven&#39;t figured out how to attach links directly to text, so my approach means you have to draw the annotations as rectangles and the text separately.  It&#39;s a bit rough around the edges, but it works.\r\n\r\n    // there are other types of destinations, choose what is appropriate\r\n    PDPageXYZDestination dest = new PDPageXYZDestination();\r\n    // the indexing is odd here.  if you are doing this on the first page of the pdf\r\n    // that page is -1, the next is 0, the next is 1 and so on.  odd.\r\n    dest.setPageNumber(3);\r\n    dest.setLeft(0);\r\n    dest.setTop(0); // link to top of page, this is the XYZ part\r\n\r\n    PDActionGoTo action = new PDActionGoTo();\r\n    action.setDestination(dest);\r\n\r\n    PDAnnotationLink link = new PDAnnotationLink();\r\n    link.setAction(action);\r\n    link.setDestination(dest);\r\n\r\n    PDRectangle rect = new PDRectangle();\r\n    // just making these x,y coords up for sample\r\n    rect.setLowerLeftX(72);\r\n    rect.setLowerLeftY(600);\r\n    rect.setUpperRightX(144);\r\n    rect.setUpperRightY(620);\r\n\r\n    PDPage page = // however you are getting your table of contents page, eg new PDPage() or doc.getDocumentCatalog().getAllPages().get(0)\r\n\r\n    page.getAnnotations().add(link);\r\n\r\n    PDPageContentStream stream = new PDPageContentStream(doc, page, true, true);\r\n    stream.beginText();\r\n    stream.setTextTranslation(85, 600); // made these up, have to test to see if padding is correct\r\n    stream.drawString(&quot;Page 1&quot;);\r\n    stream.endText();\r\n    stream.close();\r\n\r\nPhew!  That&#39;s a lotta code.  That should get you on your way.  You can make the rectangle the same color as your document background if you want it to look like they are just clicking a link, but that requires more experimentation.","title":"PDFBox - how to create table of contents","body":"<p>There's no simple method for doing this, but here's an approach.  I haven't figured out how to attach links directly to text, so my approach means you have to draw the annotations as rectangles and the text separately.  It's a bit rough around the edges, but it works.</p>\n\n<pre><code>// there are other types of destinations, choose what is appropriate\nPDPageXYZDestination dest = new PDPageXYZDestination();\n// the indexing is odd here.  if you are doing this on the first page of the pdf\n// that page is -1, the next is 0, the next is 1 and so on.  odd.\ndest.setPageNumber(3);\ndest.setLeft(0);\ndest.setTop(0); // link to top of page, this is the XYZ part\n\nPDActionGoTo action = new PDActionGoTo();\naction.setDestination(dest);\n\nPDAnnotationLink link = new PDAnnotationLink();\nlink.setAction(action);\nlink.setDestination(dest);\n\nPDRectangle rect = new PDRectangle();\n// just making these x,y coords up for sample\nrect.setLowerLeftX(72);\nrect.setLowerLeftY(600);\nrect.setUpperRightX(144);\nrect.setUpperRightY(620);\n\nPDPage page = // however you are getting your table of contents page, eg new PDPage() or doc.getDocumentCatalog().getAllPages().get(0)\n\npage.getAnnotations().add(link);\n\nPDPageContentStream stream = new PDPageContentStream(doc, page, true, true);\nstream.beginText();\nstream.setTextTranslation(85, 600); // made these up, have to test to see if padding is correct\nstream.drawString(\"Page 1\");\nstream.endText();\nstream.close();\n</code></pre>\n\n<p>Phew!  That's a lotta code.  That should get you on your way.  You can make the rectangle the same color as your document background if you want it to look like they are just clicking a link, but that requires more experimentation.</p>\n"},{"tags":[],"owner":{"account_id":11531106,"reputation":41,"user_id":8474641,"display_name":"Antony Glim"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679576854,"creation_date":1679576854,"answer_id":75823403,"question_id":23553094,"body_markdown":"These methods will add clickable table of contents to your document\r\n\r\n    public void addOutline(@NonNull PDDocument document) {\r\n        PDDocumentOutline outline = new PDDocumentOutline();\r\n        outline.addLast(buildPDOutlineItem(document, &quot;Section 1&quot;, 0));\r\n        outline.addLast(buildPDOutlineItem(document, &quot;Section 2&quot;, 5));\r\n        outline.addLast(buildPDOutlineItem(document, &quot;Section 3&quot;, 8));\r\n        document.getDocumentCatalog().setDocumentOutline(outline);\r\n    }\r\n\r\n    private PDOutlineItem buildPDOutlineItem(\r\n           @NonNull PDDocument document, String title, Integer pageNum) {\r\n        PDOutlineItem item = new PDOutlineItem();\r\n        item.setTitle(title);\r\n        item.setDestination(document.getPages().get(pageNum));\r\n        return item;\r\n    }","title":"PDFBox - how to create table of contents","body":"<p>These methods will add clickable table of contents to your document</p>\n<pre><code>public void addOutline(@NonNull PDDocument document) {\n    PDDocumentOutline outline = new PDDocumentOutline();\n    outline.addLast(buildPDOutlineItem(document, &quot;Section 1&quot;, 0));\n    outline.addLast(buildPDOutlineItem(document, &quot;Section 2&quot;, 5));\n    outline.addLast(buildPDOutlineItem(document, &quot;Section 3&quot;, 8));\n    document.getDocumentCatalog().setDocumentOutline(outline);\n}\n\nprivate PDOutlineItem buildPDOutlineItem(\n       @NonNull PDDocument document, String title, Integer pageNum) {\n    PDOutlineItem item = new PDOutlineItem();\n    item.setTitle(title);\n    item.setDestination(document.getPages().get(pageNum));\n    return item;\n}\n</code></pre>\n"}],"owner":{"account_id":4281705,"reputation":171,"user_id":3500860,"display_name":"Moshe.z"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6146,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1679576854,"creation_date":1399585379,"question_id":23553094,"body_markdown":"Is there a way to create a table of contents using `Java PDFBox` library?\r\n\r\nThe table of contents should be clickable (jump to the right page)\r\n\r\nThanks.","title":"PDFBox - how to create table of contents","body":"<p>Is there a way to create a table of contents using <code>Java PDFBox</code> library?</p>\n\n<p>The table of contents should be clickable (jump to the right page)</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","spring-webflux","spring-data-r2dbc","r2dbc"],"comments":[{"owner":{"account_id":3133914,"reputation":127,"user_id":6083264,"display_name":"user6083264"},"score":0,"creation_date":1686755496,"post_id":75823303,"comment_id":134843425,"body_markdown":"Did you find any solution for this?","body":"Did you find any solution for this?"}],"owner":{"account_id":27836545,"reputation":37,"user_id":21253875,"display_name":"Inessa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679576335,"creation_date":1679576335,"question_id":75823303,"body_markdown":"I&#39;m trying to save a record\r\n```\r\n    public Mono&lt;UUID&gt; save(Post p) {\r\n        return databaseClient.sql(&quot;INSERT INTO  posts (title, date, content) VALUES (:title, :date, :content)&quot;)\r\n                .filter((statement, executeFunction) -&gt; statement.returnGeneratedValues(&quot;id&quot;).execute())\r\n                .bind(&quot;title&quot;, p.getTitle())\r\n                .bind(&quot;date&quot;, DateTimeFormatter.ISO_LOCAL_DATE_TIME.parse(p.getDate())) //here exception\r\n                .bind(&quot;content&quot;, p.getContent())\r\n                .fetch()\r\n                .first()\r\n                .map(r -&gt; (UUID) r.get(&quot;id&quot;))\r\n                .onErrorResume(err -&gt; {\r\n                    log.error(e);\r\n                    return Flux.empty();\r\n                });\r\n    }\r\n```\r\nI expected if the date is in the wrong format, the error will be handled in the `onErrorResume` block, but I get the error `operator called default onErrorDropped`\r\n\r\nI tried to take out the `onErrorResume` block, but that doesn&#39;t work too\r\n```\r\n    public Mono&lt;UUID&gt; saveOne(Post p) {\r\n        return save(p)\r\n                .onErrorResume(err -&gt; {\r\n                    log.error(e);\r\n                    return Flux.empty();\r\n                });\r\n    }\r\n```","title":"R2dbc bind does not work with onErrorResume","body":"<p>I'm trying to save a record</p>\n<pre><code>    public Mono&lt;UUID&gt; save(Post p) {\n        return databaseClient.sql(&quot;INSERT INTO  posts (title, date, content) VALUES (:title, :date, :content)&quot;)\n                .filter((statement, executeFunction) -&gt; statement.returnGeneratedValues(&quot;id&quot;).execute())\n                .bind(&quot;title&quot;, p.getTitle())\n                .bind(&quot;date&quot;, DateTimeFormatter.ISO_LOCAL_DATE_TIME.parse(p.getDate())) //here exception\n                .bind(&quot;content&quot;, p.getContent())\n                .fetch()\n                .first()\n                .map(r -&gt; (UUID) r.get(&quot;id&quot;))\n                .onErrorResume(err -&gt; {\n                    log.error(e);\n                    return Flux.empty();\n                });\n    }\n</code></pre>\n<p>I expected if the date is in the wrong format, the error will be handled in the <code>onErrorResume</code> block, but I get the error <code>operator called default onErrorDropped</code></p>\n<p>I tried to take out the <code>onErrorResume</code> block, but that doesn't work too</p>\n<pre><code>    public Mono&lt;UUID&gt; saveOne(Post p) {\n        return save(p)\n                .onErrorResume(err -&gt; {\n                    log.error(e);\n                    return Flux.empty();\n                });\n    }\n</code></pre>\n"},{"tags":["java","jackson"],"answers":[{"tags":[],"owner":{"account_id":3309832,"reputation":183,"user_id":2783616,"display_name":"zonzon"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1534236175,"creation_date":1534234361,"answer_id":51836709,"question_id":51723156,"body_markdown":"The error seems to be related to ``mapper.enableDefaultTyping();``\r\n\r\nWhen enabled, the typing of each class is outputted in the JSON. (which I wanted)\r\n\r\nFor some reason, it causes the above error on a @ManyToOne\r\n\r\nWhen disabled, PersistentBag no longer appears in my serialized JSON, and the deserializing works...","title":"Jackson - Lazy List initialization error when deserializing a ManyToOne relation","body":"<p>The error seems to be related to <code>mapper.enableDefaultTyping();</code></p>\n\n<p>When enabled, the typing of each class is outputted in the JSON. (which I wanted)</p>\n\n<p>For some reason, it causes the above error on a @ManyToOne</p>\n\n<p>When disabled, PersistentBag no longer appears in my serialized JSON, and the deserializing works...</p>\n"},{"tags":[],"owner":{"account_id":1023013,"reputation":16655,"user_id":1032890,"accept_rate":100,"display_name":"GeertPt"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1534237322,"creation_date":1534237322,"answer_id":51837596,"question_id":51723156,"body_markdown":"If you use JPA, all your entities will be enhanced by bytecode to allow lazy loading and such. They are not really suitable for serialization, except by hibernate, who is aware of it. But Jackson doesn&#39;t know about it, so it will screw up the enhanced bytecode.\r\n\r\nIt&#39;s also not a good idea to use the same class for JPA mapping and for Jackson mapping. The JPA classes have fields that map to columns and such, whereas the classes for Jackson map to a javascript schema. If you use them in the same class, you can never change your database schema without affecting your JSON schema and possible breaking backwards compatibility with whoever is using the JSON.\r\n\r\nIt&#39;s better to have separate classes (DTO&#39;s) to use for Jackson, and do some mapping between them. Or use [mapstruct][1] to generate a mapper automatically.\r\n\r\n\r\n  [1]: http://mapstruct.org/","title":"Jackson - Lazy List initialization error when deserializing a ManyToOne relation","body":"<p>If you use JPA, all your entities will be enhanced by bytecode to allow lazy loading and such. They are not really suitable for serialization, except by hibernate, who is aware of it. But Jackson doesn't know about it, so it will screw up the enhanced bytecode.</p>\n\n<p>It's also not a good idea to use the same class for JPA mapping and for Jackson mapping. The JPA classes have fields that map to columns and such, whereas the classes for Jackson map to a javascript schema. If you use them in the same class, you can never change your database schema without affecting your JSON schema and possible breaking backwards compatibility with whoever is using the JSON.</p>\n\n<p>It's better to have separate classes (DTO's) to use for Jackson, and do some mapping between them. Or use <a href=\"http://mapstruct.org/\" rel=\"nofollow noreferrer\">mapstruct</a> to generate a mapper automatically.</p>\n"},{"tags":[],"owner":{"account_id":27200297,"reputation":1,"user_id":20732623,"display_name":"Marries"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679576122,"creation_date":1679576122,"answer_id":75823266,"question_id":51723156,"body_markdown":"I ran into exactly the same issue. To fix it while using `enableDefaultTyping` (or the currently recommended `activateDefaultTyping`) I had to use Hibernate5Module: (Note that the required module depends on your hibernate version and has to be added as an additional dependency.)\r\n\r\n```java\r\nmapper.registerModule(new Hibernate5Module()\r\n   .configure(Hibernate5Module.Feature.REPLACE_PERSISTENT_COLLECTIONS, true));\r\n```\r\nThis replaces the `PersistentBag` in your output with an `ArrayList` and prevents the deserialization error.\r\n\r\nHowever this feature does not seem to work with `FetchType.EAGER` for a reason unknown to me. Fortunately `@Fetch(FetchMode.JOIN)` does the trick.\r\n\r\nAnother thing to take into account is that the `REPLACE_PERSISTENT_COLLECTIONS`  feature generated malformed Json for me (wrapping the list content in double square brackets). But this was resolved by using lenient deserialization.","title":"Jackson - Lazy List initialization error when deserializing a ManyToOne relation","body":"<p>I ran into exactly the same issue. To fix it while using <code>enableDefaultTyping</code> (or the currently recommended <code>activateDefaultTyping</code>) I had to use Hibernate5Module: (Note that the required module depends on your hibernate version and has to be added as an additional dependency.)</p>\n<pre class=\"lang-java prettyprint-override\"><code>mapper.registerModule(new Hibernate5Module()\n   .configure(Hibernate5Module.Feature.REPLACE_PERSISTENT_COLLECTIONS, true));\n</code></pre>\n<p>This replaces the <code>PersistentBag</code> in your output with an <code>ArrayList</code> and prevents the deserialization error.</p>\n<p>However this feature does not seem to work with <code>FetchType.EAGER</code> for a reason unknown to me. Fortunately <code>@Fetch(FetchMode.JOIN)</code> does the trick.</p>\n<p>Another thing to take into account is that the <code>REPLACE_PERSISTENT_COLLECTIONS</code>  feature generated malformed Json for me (wrapping the list content in double square brackets). But this was resolved by using lenient deserialization.</p>\n"}],"owner":{"account_id":3309832,"reputation":183,"user_id":2783616,"display_name":"zonzon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1679576122,"creation_date":1533633479,"question_id":51723156,"body_markdown":"I have 2 simple classes:\r\n\r\n - `Cat`\r\n - `CatStore`\r\n\r\n`Cat` has nothing particular, and `CatStore` has a `List&lt;Cat&gt;`, the relation mapped as:\r\n\r\nIn `Cat` class:  \r\n\r\n    @ManyToOne\r\n    private CatStore catstore;\r\n\r\nIn `CatStore`:  \r\n\r\n    @OneToMany(mappedBy=&quot;catstore&quot;, fetch=FetchType.EAGER)\r\n    private List&lt;Cat&gt; cats;\r\n\r\nThe relation seems to work OK, as Jackson can generate me a correct JSON when I run\r\n  \r\n    String json = mapper.writeValueAsString(catStore);\r\n\r\n\r\nBut if I try to deserialize the JSON I just generated, with this line:  \r\n\r\n    CatStore c2 = mapper.readValue(json, CatStore.class);\r\n\r\nI get a `JsonProcessingException` saying\r\n\r\n    failed to lazily initialize a collection, could not initialize proxy - no Session (through reference chain: fr.truc.java.cleanspringbootMVC.model.CatStore[&quot;cats&quot;]\r\n\r\n\r\nThe deserialization actually works if there is no cats in the `CatStore` like with the following JSON: \r\n\r\n    {\r\n      &quot;id&quot;:123,\r\n      &quot;cats&quot;:[&quot;org.hibernate.collection.internal.PersistentBag&quot;,[]],\r\n      &quot;name&quot;:&quot;NO cats&quot;\r\n    }\r\n\r\nBut this one triggers the error:\r\n\r\n    {\r\n    \t&quot;id&quot;: 121,\r\n    \t&quot;cats&quot;: [&quot;org.hibernate.collection.internal.PersistentBag&quot;, [\r\n    \t\t[&quot;fr.truc.java.cleanspringbootMVC.model.Cat&quot;, {\r\n    \t\t\t&quot;id&quot;: 118,\r\n    \t\t\t&quot;name&quot;: &quot;luc&quot;,\r\n    \t\t\t&quot;nbPattes&quot;: 4\r\n    \t\t}],\r\n    \t\t[&quot;fr.truc.java.cleanspringbootMVC.model.Cat&quot;, {\r\n    \t\t\t&quot;id&quot;: 119,\r\n    \t\t\t&quot;name&quot;: &quot;andr&#233;&quot;,\r\n    \t\t\t&quot;nbPattes&quot;: 4\r\n    \t\t}],\r\n    \t\t[&quot;fr.truc.java.cleanspringbootMVC.model.Cat&quot;, {\r\n    \t\t\t&quot;id&quot;: 120,\r\n    \t\t\t&quot;name&quot;: &quot;cheval&quot;,\r\n    \t\t\t&quot;nbPattes&quot;: 4\r\n    \t\t}]\r\n    \t]],\r\n    \t&quot;name&quot;: &quot;Cat en kit&quot;\r\n    }\r\n\r\nI really do not know why a lazy loading exception would trigger here as the data is contained in the JSON string.\r\n\r\nIs this related to the PersistentBag?\r\n\r\nIs this because I do not use a custom serializer/deserializer?\r\n\r\n","title":"Jackson - Lazy List initialization error when deserializing a ManyToOne relation","body":"<p>I have 2 simple classes:</p>\n\n<ul>\n<li><code>Cat</code></li>\n<li><code>CatStore</code></li>\n</ul>\n\n<p><code>Cat</code> has nothing particular, and <code>CatStore</code> has a <code>List&lt;Cat&gt;</code>, the relation mapped as:</p>\n\n<p>In <code>Cat</code> class:  </p>\n\n<pre><code>@ManyToOne\nprivate CatStore catstore;\n</code></pre>\n\n<p>In <code>CatStore</code>:  </p>\n\n<pre><code>@OneToMany(mappedBy=\"catstore\", fetch=FetchType.EAGER)\nprivate List&lt;Cat&gt; cats;\n</code></pre>\n\n<p>The relation seems to work OK, as Jackson can generate me a correct JSON when I run</p>\n\n<pre><code>String json = mapper.writeValueAsString(catStore);\n</code></pre>\n\n<p>But if I try to deserialize the JSON I just generated, with this line:  </p>\n\n<pre><code>CatStore c2 = mapper.readValue(json, CatStore.class);\n</code></pre>\n\n<p>I get a <code>JsonProcessingException</code> saying</p>\n\n<pre><code>failed to lazily initialize a collection, could not initialize proxy - no Session (through reference chain: fr.truc.java.cleanspringbootMVC.model.CatStore[\"cats\"]\n</code></pre>\n\n<p>The deserialization actually works if there is no cats in the <code>CatStore</code> like with the following JSON: </p>\n\n<pre><code>{\n  \"id\":123,\n  \"cats\":[\"org.hibernate.collection.internal.PersistentBag\",[]],\n  \"name\":\"NO cats\"\n}\n</code></pre>\n\n<p>But this one triggers the error:</p>\n\n<pre><code>{\n    \"id\": 121,\n    \"cats\": [\"org.hibernate.collection.internal.PersistentBag\", [\n        [\"fr.truc.java.cleanspringbootMVC.model.Cat\", {\n            \"id\": 118,\n            \"name\": \"luc\",\n            \"nbPattes\": 4\n        }],\n        [\"fr.truc.java.cleanspringbootMVC.model.Cat\", {\n            \"id\": 119,\n            \"name\": \"andré\",\n            \"nbPattes\": 4\n        }],\n        [\"fr.truc.java.cleanspringbootMVC.model.Cat\", {\n            \"id\": 120,\n            \"name\": \"cheval\",\n            \"nbPattes\": 4\n        }]\n    ]],\n    \"name\": \"Cat en kit\"\n}\n</code></pre>\n\n<p>I really do not know why a lazy loading exception would trigger here as the data is contained in the JSON string.</p>\n\n<p>Is this related to the PersistentBag?</p>\n\n<p>Is this because I do not use a custom serializer/deserializer?</p>\n"},{"tags":["java","apache-camel"],"answers":[{"tags":[],"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679575680,"creation_date":1679575124,"answer_id":75823103,"question_id":75816445,"body_markdown":"## With mocks\r\n\r\nYou can use `AdviceWith` and `weaveAddLast` to add for example `mock:result` to end of a route. Then use the injected MockEndpoint to define assertions for the exchange. MockEndpoint comes with many handy methods that you can use to check validity of the exchange.\r\n\r\nWhen using AdviceWith to modify routes for tests, remember to use the @UseAdviceWith annotation and start the CamelContext manually before each test. This is to avoid [unnecessary restarts of adviced routes](https://camel.apache.org/manual/advice-with.html#_enabling_advice_during_testing). \r\n\r\n```java\r\npackage com.example;\r\n\r\nimport org.apache.camel.CamelContext;\r\nimport org.apache.camel.EndpointInject;\r\nimport org.apache.camel.ProducerTemplate;\r\nimport org.apache.camel.builder.AdviceWith;\r\nimport org.apache.camel.component.mock.MockEndpoint;\r\nimport org.apache.camel.test.spring.junit5.CamelSpringBootTest;\r\nimport org.apache.camel.test.spring.junit5.UseAdviceWith;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\n@SpringBootTest\r\n@CamelSpringBootTest\r\n@UseAdviceWith\r\npublic class MySpringBootApplicationTest  {\r\n\r\n\t@Autowired\r\n\tprivate CamelContext camelContext;\r\n\r\n\t@Autowired\r\n\tprivate ProducerTemplate producerTemplate;\r\n\r\n    @EndpointInject(uri = &quot;mock:result&quot;)\r\n    private MockEndpoint resulMockEndpoint;\r\n\r\n\t@Test\r\n\tpublic void test() throws Exception {\r\n\t\t\r\n        resulMockEndpoint.expectedMessageCount(1);\r\n        resulMockEndpoint.message(0)\r\n            .body().isEqualTo(&quot;Hello world&quot;);\r\n\r\n        addMockEndpointAsLast(&quot;hello&quot;);\r\n\r\n        camelContext.start();\r\n        producerTemplate.sendBody(&quot;direct:hello&quot;, &quot;world&quot;);\r\n\r\n        resulMockEndpoint.assertIsSatisfied();\r\n\t}\r\n\r\n    MockEndpoint addMockEndpointAsLast(String routeId) throws Exception {\r\n\r\n        AdviceWith.adviceWith(camelContext, routeId, builder -&gt; {\r\n            builder.weaveAddLast()\r\n                .to(&quot;mock:result&quot;)\r\n            ;\r\n        });\r\n        return resulMockEndpoint;\r\n    }\r\n}\r\n```\r\n\r\nIf you want to further examine the exchange, you can get it from the exchanges list of MockEndpoint. Below is example on how to get body of first exchange as String. \r\n\r\n```java\r\nString result = resulMockEndpoint.getExchanges().get(0)\r\n    .getMessage().getBody(String.class);\r\n```\r\n\r\n## Without mocks\r\n\r\nYou can use `ProducerTemplate.send` method which returns the resulting exchange. However instead of body of any type the method wants you to provide it with exchange object which you can create using `DefaultExchange` class. \r\n\r\n```java\r\npackage com.example;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\nimport org.apache.camel.CamelContext;\r\nimport org.apache.camel.Exchange;\r\nimport org.apache.camel.ProducerTemplate;\r\nimport org.apache.camel.support.DefaultExchange;\r\nimport org.apache.camel.test.spring.junit5.CamelSpringBootTest;\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\n\r\n@SpringBootTest\r\n@CamelSpringBootTest\r\npublic class MySpringBootApplicationTest  {\r\n\r\n\t@Autowired\r\n\tprivate CamelContext camelContext;\r\n\r\n\t@Autowired\r\n\tprivate ProducerTemplate producerTemplate;\r\n\r\n    @Test\r\n    void testWithoutMock(){\r\n\r\n        Exchange exchange = new DefaultExchange(camelContext);\r\n        exchange.getMessage().setBody(&quot;world&quot;);\r\n\r\n        Exchange resultExchange = producerTemplate.send(&quot;direct:hello&quot;, exchange);\r\n        assertEquals(&quot;Hello world&quot;, resultExchange.getMessage().getBody());\r\n    }\r\n}\r\n```\r\n\r\n## RouteBuilder \r\n\r\n```java\r\npackage com.example;\r\n\r\nimport org.apache.camel.builder.RouteBuilder;\r\nimport org.springframework.stereotype.Component;\r\n\r\n@Component\r\npublic class MySpringBootRouter extends RouteBuilder {\r\n\r\n    @Override\r\n    public void configure() {\r\n\r\n        from(&quot;direct:hello&quot;)\r\n            .routeId(&quot;hello&quot;)\r\n            .setBody().simple(&quot;Hello ${body}&quot;)\r\n            .log(&quot;${body}&quot;)\r\n        ;\r\n    }\r\n}\r\n```\r\n\r\nExamples use Apache Camel version 3.20.2","title":"Get body in unit test camel","body":"<h2>With mocks</h2>\n<p>You can use <code>AdviceWith</code> and <code>weaveAddLast</code> to add for example <code>mock:result</code> to end of a route. Then use the injected MockEndpoint to define assertions for the exchange. MockEndpoint comes with many handy methods that you can use to check validity of the exchange.</p>\n<p>When using AdviceWith to modify routes for tests, remember to use the @UseAdviceWith annotation and start the CamelContext manually before each test. This is to avoid <a href=\"https://camel.apache.org/manual/advice-with.html#_enabling_advice_during_testing\" rel=\"nofollow noreferrer\">unnecessary restarts of adviced routes</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport org.apache.camel.CamelContext;\nimport org.apache.camel.EndpointInject;\nimport org.apache.camel.ProducerTemplate;\nimport org.apache.camel.builder.AdviceWith;\nimport org.apache.camel.component.mock.MockEndpoint;\nimport org.apache.camel.test.spring.junit5.CamelSpringBootTest;\nimport org.apache.camel.test.spring.junit5.UseAdviceWith;\nimport org.junit.jupiter.api.Test;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest\n@CamelSpringBootTest\n@UseAdviceWith\npublic class MySpringBootApplicationTest  {\n\n    @Autowired\n    private CamelContext camelContext;\n\n    @Autowired\n    private ProducerTemplate producerTemplate;\n\n    @EndpointInject(uri = &quot;mock:result&quot;)\n    private MockEndpoint resulMockEndpoint;\n\n    @Test\n    public void test() throws Exception {\n        \n        resulMockEndpoint.expectedMessageCount(1);\n        resulMockEndpoint.message(0)\n            .body().isEqualTo(&quot;Hello world&quot;);\n\n        addMockEndpointAsLast(&quot;hello&quot;);\n\n        camelContext.start();\n        producerTemplate.sendBody(&quot;direct:hello&quot;, &quot;world&quot;);\n\n        resulMockEndpoint.assertIsSatisfied();\n    }\n\n    MockEndpoint addMockEndpointAsLast(String routeId) throws Exception {\n\n        AdviceWith.adviceWith(camelContext, routeId, builder -&gt; {\n            builder.weaveAddLast()\n                .to(&quot;mock:result&quot;)\n            ;\n        });\n        return resulMockEndpoint;\n    }\n}\n</code></pre>\n<p>If you want to further examine the exchange, you can get it from the exchanges list of MockEndpoint. Below is example on how to get body of first exchange as String.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String result = resulMockEndpoint.getExchanges().get(0)\n    .getMessage().getBody(String.class);\n</code></pre>\n<h2>Without mocks</h2>\n<p>You can use <code>ProducerTemplate.send</code> method which returns the resulting exchange. However instead of body of any type the method wants you to provide it with exchange object which you can create using <code>DefaultExchange</code> class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\nimport org.apache.camel.CamelContext;\nimport org.apache.camel.Exchange;\nimport org.apache.camel.ProducerTemplate;\nimport org.apache.camel.support.DefaultExchange;\nimport org.apache.camel.test.spring.junit5.CamelSpringBootTest;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.context.SpringBootTest;\n\n@SpringBootTest\n@CamelSpringBootTest\npublic class MySpringBootApplicationTest  {\n\n    @Autowired\n    private CamelContext camelContext;\n\n    @Autowired\n    private ProducerTemplate producerTemplate;\n\n    @Test\n    void testWithoutMock(){\n\n        Exchange exchange = new DefaultExchange(camelContext);\n        exchange.getMessage().setBody(&quot;world&quot;);\n\n        Exchange resultExchange = producerTemplate.send(&quot;direct:hello&quot;, exchange);\n        assertEquals(&quot;Hello world&quot;, resultExchange.getMessage().getBody());\n    }\n}\n</code></pre>\n<h2>RouteBuilder</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example;\n\nimport org.apache.camel.builder.RouteBuilder;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class MySpringBootRouter extends RouteBuilder {\n\n    @Override\n    public void configure() {\n\n        from(&quot;direct:hello&quot;)\n            .routeId(&quot;hello&quot;)\n            .setBody().simple(&quot;Hello ${body}&quot;)\n            .log(&quot;${body}&quot;)\n        ;\n    }\n}\n</code></pre>\n<p>Examples use Apache Camel version 3.20.2</p>\n"}],"owner":{"account_id":9415985,"reputation":453,"user_id":10950827,"display_name":"scafrs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":530,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75823103,"answer_count":1,"score":0,"last_activity_date":1679575680,"creation_date":1679512639,"question_id":75816445,"body_markdown":"I am trying to perform a unit test for one of my routes in camel however I can&#39;t find a way to check the body I receive from my route and check if it is what is expected. How can I do this with or without mocks?\r\n\r\nRoute\r\n\r\n    @Component\r\n    public class MyRoute extends RouteBuilder {    \r\n    \r\n        @Override public void configure() throws Exception {        \r\n            from(&quot;direct:MyRoute&quot;)                \r\n            .routeId(&quot;MyRoute&quot;)                \r\n            .marshal().json(JsonLibrary.Jackson)                \r\n            .log(&quot;Marshal to \\n${body}&quot;);    \r\n        }\r\n    }\r\n\r\nTest\r\n\r\n    public class MyRouteTest extends CamelTestSupport {    \r\n        @Override \r\n        protected RouteBuilder createRouteBuilder() throws Exception {    \r\n            return new MyRoute();    \r\n        }    \r\n\r\n        @Test\r\n        public void testRoute() throws Exception {\r\n            NotifyBuilder notify = new NotifyBuilder(context).whenDone(1).create();        \r\n            Map&lt;String,Object&gt; map = new LinkedHashMap&lt;&gt;();        \r\n            map.put(&quot;name&quot;,&quot;your_name&quot;); \r\n            template.sendBody(&quot;direct:MyRoute&quot;, map);     \r\n            assertTrue(notify.matchesWaitTime());\r\n       }\r\n    }","title":"Get body in unit test camel","body":"<p>I am trying to perform a unit test for one of my routes in camel however I can't find a way to check the body I receive from my route and check if it is what is expected. How can I do this with or without mocks?</p>\n<p>Route</p>\n<pre><code>@Component\npublic class MyRoute extends RouteBuilder {    \n\n    @Override public void configure() throws Exception {        \n        from(&quot;direct:MyRoute&quot;)                \n        .routeId(&quot;MyRoute&quot;)                \n        .marshal().json(JsonLibrary.Jackson)                \n        .log(&quot;Marshal to \\n${body}&quot;);    \n    }\n}\n</code></pre>\n<p>Test</p>\n<pre><code>public class MyRouteTest extends CamelTestSupport {    \n    @Override \n    protected RouteBuilder createRouteBuilder() throws Exception {    \n        return new MyRoute();    \n    }    \n\n    @Test\n    public void testRoute() throws Exception {\n        NotifyBuilder notify = new NotifyBuilder(context).whenDone(1).create();        \n        Map&lt;String,Object&gt; map = new LinkedHashMap&lt;&gt;();        \n        map.put(&quot;name&quot;,&quot;your_name&quot;); \n        template.sendBody(&quot;direct:MyRoute&quot;, map);     \n        assertTrue(notify.matchesWaitTime());\n   }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","maven"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1679327394,"post_id":75791735,"comment_id":133697793,"body_markdown":"As usual with these kinds of errors, crappy dependency management (sorry for the language). Remove the hibernate dependency, the jakarta-api and change the `javax.persistence` package to `jakarta.persistence` in your entities.","body":"As usual with these kinds of errors, crappy dependency management (sorry for the language). Remove the hibernate dependency, the jakarta-api and change the <code>javax.persistence</code> package to <code>jakarta.persistence</code> in your entities."},{"owner":{"account_id":26298843,"reputation":72,"user_id":19964630,"display_name":"jorge"},"score":0,"creation_date":1679575243,"post_id":75791735,"comment_id":133748082,"body_markdown":"Thank you this solved it. I also had to remove the jakarta and javax dependencies.","body":"Thank you this solved it. I also had to remove the jakarta and javax dependencies."}],"answers":[{"tags":[],"owner":{"account_id":2340029,"reputation":154,"user_id":2051532,"display_name":"Ramkumar Pillai"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679388576,"creation_date":1679388576,"answer_id":75798990,"question_id":75791735,"body_markdown":"look like you have redundant dependencies specified in the POM, \r\n \r\nuse this curl to generate a new Project \r\n\r\n    curl https://start.spring.io/starter.tgz -d dependencies=lombok,data-jpa,web,security,mysql -d type=maven-project | tar -xzvf -\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n        &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n        &lt;scope&gt;runtime&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    ","title":"Cannot execute mvn spring boot aplication. Error with entity manager and interface jakarta.persistence.spi.PersistenceProvider","body":"<p>look like you have redundant dependencies specified in the POM,</p>\n<p>use this curl to generate a new Project</p>\n<pre><code>curl https://start.spring.io/starter.tgz -d dependencies=lombok,data-jpa,web,security,mysql -d type=maven-project | tar -xzvf -\n\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n    &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n    &lt;scope&gt;runtime&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26298843,"reputation":72,"user_id":19964630,"display_name":"jorge"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679575620,"creation_date":1679575620,"answer_id":75823176,"question_id":75791735,"body_markdown":"As @M.Deinum said I solved the error by changing my `javax.persistence` package to `jakarta.persistence`. So my class `Task` ended up like this: \r\n\r\n        package com.taskManager.Entities;\r\n    \r\n    import java.time.LocalDateTime;\r\n    \r\n    import jakarta.persistence.Column;\r\n    import jakarta.persistence.Entity;\r\n    import jakarta.persistence.FetchType;\r\n    import jakarta.persistence.GeneratedValue;\r\n    import jakarta.persistence.GenerationType;\r\n    import jakarta.persistence.Id;\r\n    import jakarta.persistence.JoinColumn;\r\n    import jakarta.persistence.ManyToOne;\r\n    \r\n    \r\n    @Entity(name = &quot;task&quot;)\r\n    public class Task {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.AUTO)\r\n    \tprivate Long id;\r\n    \t\r\n    \t@Column(nullable = false)\r\n    \tprivate String name;\r\n    \t\r\n    \t@ManyToOne(fetch = FetchType.LAZY)\r\n    \t//@JoinColumn(name = &quot;user_id&quot;)\r\n    \t//private User user;\r\n    \tprivate String description;\r\n    \tprivate LocalDateTime date;\r\n    \tpublic Task(Long id, String name, String description, LocalDateTime date) {\r\n    \t\tsuper();\r\n    \t\tthis.id = id;\r\n    \t\tthis.name = name;\r\n    \t\tthis.description = description;\r\n    \t\tthis.date = date;\r\n    \t}\r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \tpublic String getDescription() {\r\n    \t\treturn description;\r\n    \t}\r\n    \tpublic void setDescription(String description) {\r\n    \t\tthis.description = description;\r\n    \t}\r\n    \tpublic LocalDateTime getDate() {\r\n    \t\treturn date;\r\n    \t}\r\n    \tpublic void setDate(LocalDateTime date) {\r\n    \t\tthis.date = date;\r\n    \t}\r\n    \tpublic Task(String name, String description, LocalDateTime date) {\r\n    \t\tsuper();\r\n    \t\tthis.name = name;\r\n    \t\tthis.description = description;\r\n    \t\tthis.date = date;\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n       }\r\n\r\nI also had to remove the `hibernate`,`jakarta` and `javax` dependencies in my pom.xml: \r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.taskManager&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;Task-Manager&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;Task-Manager&lt;/name&gt;\r\n    \t&lt;description&gt;Application for managing differentes taks&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\n","title":"Cannot execute mvn spring boot aplication. Error with entity manager and interface jakarta.persistence.spi.PersistenceProvider","body":"<p>As @M.Deinum said I solved the error by changing my <code>javax.persistence</code> package to <code>jakarta.persistence</code>. So my class <code>Task</code> ended up like this:</p>\n<pre><code>    package com.taskManager.Entities;\n\nimport java.time.LocalDateTime;\n\nimport jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.FetchType;\nimport jakarta.persistence.GeneratedValue;\nimport jakarta.persistence.GenerationType;\nimport jakarta.persistence.Id;\nimport jakarta.persistence.JoinColumn;\nimport jakarta.persistence.ManyToOne;\n\n\n@Entity(name = &quot;task&quot;)\npublic class Task {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private Long id;\n    \n    @Column(nullable = false)\n    private String name;\n    \n    @ManyToOne(fetch = FetchType.LAZY)\n    //@JoinColumn(name = &quot;user_id&quot;)\n    //private User user;\n    private String description;\n    private LocalDateTime date;\n    public Task(Long id, String name, String description, LocalDateTime date) {\n        super();\n        this.id = id;\n        this.name = name;\n        this.description = description;\n        this.date = date;\n    }\n    public Long getId() {\n        return id;\n    }\n    public void setId(Long id) {\n        this.id = id;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public String getDescription() {\n        return description;\n    }\n    public void setDescription(String description) {\n        this.description = description;\n    }\n    public LocalDateTime getDate() {\n        return date;\n    }\n    public void setDate(LocalDateTime date) {\n        this.date = date;\n    }\n    public Task(String name, String description, LocalDateTime date) {\n        super();\n        this.name = name;\n        this.description = description;\n        this.date = date;\n    }\n    \n    \n    \n   }\n</code></pre>\n<p>I also had to remove the <code>hibernate</code>,<code>jakarta</code> and <code>javax</code> dependencies in my pom.xml:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.taskManager&lt;/groupId&gt;\n    &lt;artifactId&gt;Task-Manager&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Task-Manager&lt;/name&gt;\n    &lt;description&gt;Application for managing differentes taks&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":26298843,"reputation":72,"user_id":19964630,"display_name":"jorge"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75823176,"answer_count":2,"score":0,"last_activity_date":1679575620,"creation_date":1679323458,"question_id":75791735,"body_markdown":"I am trying to run a spring boot project using maven with a MySQL database but I am getting the following error: \r\n\r\n    Error starting ApplicationContext. To display the condition evaluation report re-run your application with &#39;debug&#39; enabled.\r\n    2023-03-20T14:40:56.700+01:00 ERROR 13448 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\r\n    \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-6.0.6.jar:6.0.6]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.6.jar:6.0.6]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.6.jar:6.0.6]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.6.jar:6.0.6]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.6.jar:6.0.6]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.6.jar:6.0.6]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.6.jar:6.0.6]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.6.jar:6.0.6]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.6.jar:6.0.6]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.6.jar:6.0.6]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.4.jar:3.0.4]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.4.jar:3.0.4]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.4.jar:3.0.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.4.jar:3.0.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.4.jar:3.0.4]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.4.jar:3.0.4]\r\n    \tat com.taskManager.Task.Manager.TaskManagerApplication.main(TaskManagerApplication.java:10) ~[classes/:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\r\n    \tat org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.4.jar:3.0.4]\r\n    Caused by: java.lang.IncompatibleClassChangeError: Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.6.jar:6.0.6]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.6.jar:6.0.6]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.6.jar:6.0.6]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.6.jar:6.0.6]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.0.6.jar:6.0.6]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-6.0.6.jar:6.0.6]\r\n    \t... 21 common frames omitted\r\n\r\nThis is my Entity `Task`:\r\n\r\n    package com.taskManager.Entities;\r\n    \r\n    import java.time.LocalDateTime;\r\n    \r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.FetchType;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.JoinColumn;\r\n    import javax.persistence.ManyToOne;\r\n    \r\n    @Entity(name = &quot;task&quot;)\r\n    public class Task {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy=GenerationType.AUTO)\r\n    \tprivate Long id;\r\n    \t\r\n    \t@Column(nullable = false)\r\n    \tprivate String name;\r\n    \t\r\n    \t@ManyToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name = &quot;user_id&quot;)\r\n    \tprivate User user;\r\n    \tprivate String description;\r\n    \tprivate LocalDateTime date;\r\n    \tpublic Task(Long id, String name, User user, String description, LocalDateTime date) {\r\n    \t\tsuper();\r\n    \t\tthis.id = id;\r\n    \t\tthis.name = name;\r\n    \t\tthis.user = user;\r\n    \t\tthis.description = description;\r\n    \t\tthis.date = date;\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic Task(String name, User user, String description, LocalDateTime date) {\r\n    \t\tsuper();\r\n    \t\tthis.name = name;\r\n    \t\tthis.user = user;\r\n    \t\tthis.description = description;\r\n    \t\tthis.date = date;\r\n    \t}\r\n    \r\n    \r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \tpublic String getName() {\r\n    \t\treturn name;\r\n    \t}\r\n    \tpublic void setName(String name) {\r\n    \t\tthis.name = name;\r\n    \t}\r\n    \tpublic User getUser() {\r\n    \t\treturn user;\r\n    \t}\r\n    \tpublic void setUser(User user) {\r\n    \t\tthis.user = user;\r\n    \t}\r\n    \tpublic String getDescription() {\r\n    \t\treturn description;\r\n    \t}\r\n    \tpublic void setDescription(String description) {\r\n    \t\tthis.description = description;\r\n    \t}\r\n    \tpublic LocalDateTime getDate() {\r\n    \t\treturn date;\r\n    \t}\r\n    \tpublic void setDate(LocalDateTime date) {\r\n    \t\tthis.date = date;\r\n    \t}\r\n    \t\r\n    \t\r\n    \t\r\n    }\r\n\r\n\r\nThis is my pom.xml:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven- \r\n          4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.taskManager&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;Task-Manager&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;Task-Manager&lt;/name&gt;\r\n    \t&lt;description&gt;Application for managing differentes taks&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.6.9.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.6.9.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;8.0.18&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nThis is my application.properties where I have my configuration: \r\n\r\n    spring.jpa.hibernate.ddl-auto=update\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/taskmanager\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root\r\n    spring.datasource.driver-class-name=com.mysql.jdbc.Driver\r\n\r\nI saw similar post with Error creating bean with name &#39;entityManagerFactory&#39; but they were not the same as mine, and their solutions didn&#39;t work on my case.\r\n\r\n**What I have tried:**\r\n\r\n - Given solution in this post https://stackoverflow.com/questions/72761919/class-springhibernatejpapersistenceprovider-does-not-implement-the-requested-int Changed my hibernate version in pom.xml\r\n - Add and modify dependencies in pom.xml such as `hibernate-entitymanager` and `hibernate-core`.\r\n - Use mvn clean, mvn install, restart ide (Eclipse), run as java aplication, run as mvn spring-boot:run\r\n - In the entity `Task` remove the `@Id` notation.\r\n - Change `import javax.persistence.Id;` in entity `Task` for `import org.springframework.data.annotation.Id;`\r\n\r\n\r\nI do not know why this error is happening. Help please.\r\n \r\n\r\n","title":"Cannot execute mvn spring boot aplication. Error with entity manager and interface jakarta.persistence.spi.PersistenceProvider","body":"<p>I am trying to run a spring boot project using maven with a MySQL database but I am getting the following error:</p>\n<pre><code>Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.\n2023-03-20T14:40:56.700+01:00 ERROR 13448 --- [  restartedMain] o.s.boot.SpringApplication               : Application run failed\n\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1762) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:599) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:521) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1132) ~[spring-context-6.0.6.jar:6.0.6]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:907) ~[spring-context-6.0.6.jar:6.0.6]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:584) ~[spring-context-6.0.6.jar:6.0.6]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:434) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:310) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1304) ~[spring-boot-3.0.4.jar:3.0.4]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1293) ~[spring-boot-3.0.4.jar:3.0.4]\n    at com.taskManager.Task.Manager.TaskManagerApplication.main(TaskManagerApplication.java:10) ~[classes/:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:na]\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77) ~[na:na]\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:na]\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568) ~[na:na]\n    at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:49) ~[spring-boot-devtools-3.0.4.jar:3.0.4]\nCaused by: java.lang.IncompatibleClassChangeError: Class org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider does not implement the requested interface jakarta.persistence.spi.PersistenceProvider\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.6.jar:6.0.6]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.6.jar:6.0.6]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.6.jar:6.0.6]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1808) ~[spring-beans-6.0.6.jar:6.0.6]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1758) ~[spring-beans-6.0.6.jar:6.0.6]\n    ... 21 common frames omitted\n</code></pre>\n<p>This is my Entity <code>Task</code>:</p>\n<pre><code>package com.taskManager.Entities;\n\nimport java.time.LocalDateTime;\n\nimport javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.FetchType;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.JoinColumn;\nimport javax.persistence.ManyToOne;\n\n@Entity(name = &quot;task&quot;)\npublic class Task {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    private Long id;\n    \n    @Column(nullable = false)\n    private String name;\n    \n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;user_id&quot;)\n    private User user;\n    private String description;\n    private LocalDateTime date;\n    public Task(Long id, String name, User user, String description, LocalDateTime date) {\n        super();\n        this.id = id;\n        this.name = name;\n        this.user = user;\n        this.description = description;\n        this.date = date;\n    }\n    \n    \n    public Task(String name, User user, String description, LocalDateTime date) {\n        super();\n        this.name = name;\n        this.user = user;\n        this.description = description;\n        this.date = date;\n    }\n\n\n    public Long getId() {\n        return id;\n    }\n    public void setId(Long id) {\n        this.id = id;\n    }\n    public String getName() {\n        return name;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public User getUser() {\n        return user;\n    }\n    public void setUser(User user) {\n        this.user = user;\n    }\n    public String getDescription() {\n        return description;\n    }\n    public void setDescription(String description) {\n        this.description = description;\n    }\n    public LocalDateTime getDate() {\n        return date;\n    }\n    public void setDate(LocalDateTime date) {\n        this.date = date;\n    }\n    \n    \n    \n}\n</code></pre>\n<p>This is my pom.xml:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; \n     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven- \n      4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.0.4&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.taskManager&lt;/groupId&gt;\n    &lt;artifactId&gt;Task-Manager&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Task-Manager&lt;/name&gt;\n    &lt;description&gt;Application for managing differentes taks&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.6.9.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n            &lt;version&gt;5.6.9.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.18&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>This is my application.properties where I have my configuration:</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\nspring.datasource.url=jdbc:mysql://localhost:3306/taskmanager\nspring.datasource.username=root\nspring.datasource.password=root\nspring.datasource.driver-class-name=com.mysql.jdbc.Driver\n</code></pre>\n<p>I saw similar post with Error creating bean with name 'entityManagerFactory' but they were not the same as mine, and their solutions didn't work on my case.</p>\n<p><strong>What I have tried:</strong></p>\n<ul>\n<li>Given solution in this post <a href=\"https://stackoverflow.com/questions/72761919/class-springhibernatejpapersistenceprovider-does-not-implement-the-requested-int\">Class SpringHibernateJpaPersistenceProvider does not implement the requested interface PersistenceProvider</a> Changed my hibernate version in pom.xml</li>\n<li>Add and modify dependencies in pom.xml such as <code>hibernate-entitymanager</code> and <code>hibernate-core</code>.</li>\n<li>Use mvn clean, mvn install, restart ide (Eclipse), run as java aplication, run as mvn spring-boot:run</li>\n<li>In the entity <code>Task</code> remove the <code>@Id</code> notation.</li>\n<li>Change <code>import javax.persistence.Id;</code> in entity <code>Task</code> for <code>import org.springframework.data.annotation.Id;</code></li>\n</ul>\n<p>I do not know why this error is happening. Help please.</p>\n"},{"tags":["java","android","decode"],"owner":{"account_id":2853883,"reputation":1355,"user_id":2450494,"display_name":"pvalle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":596,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1679575179,"creation_date":1656122757,"question_id":72750811,"body_markdown":"So I managed to get the Integrity Token and Decode it as described here https://stackoverflow.com/questions/72193058/google-playintegrity-api-a-nightmare-solved/72511785 but now I have some bizarre situation.\r\n\r\nI get the correct decode answer from the Google Cloud Server in my **DEBUG** version (LICENSED, UNRECOGNIZED_VERSION) running on a physical phone connected to my computer for debugging.\r\n\r\n**DEBUG**\r\n\r\n```json\r\n {DecodeIntegrityTokenResponse@11016}  size = 1\r\n &quot;tokenPayloadExternal&quot; -&gt; {TokenPayloadExternal@11044}  size = 4\r\n key = &quot;tokenPayloadExternal&quot;\r\n value = {TokenPayloadExternal@11044}  size = 4\r\n       &quot;accountDetails&quot; -&gt; {AccountDetails@11052}  size = 1\r\n          key = &quot;accountDetails&quot;\r\n          value = {AccountDetails@11052}  size = 1\r\n             &quot;appLicensingVerdict&quot; -&gt; &quot;LICENSED&quot;\r\n       &quot;appIntegrity&quot; -&gt; {AppIntegrity@11054}  size = 4\r\n          key = &quot;appIntegrity&quot;\r\n          value = {AppIntegrity@11054}  size = 4\r\n             &quot;appRecognitionVerdict&quot; -&gt; &quot;UNRECOGNIZED_VERSION&quot;\r\n             &quot;certificateSha256Digest&quot; -&gt; {ArrayList@11072}  size = 1\r\n             &quot;packageName&quot; -&gt; &quot;com.package.name&quot;\r\n             &quot;versionCode&quot; -&gt; {Long@11076} 30707\r\n       &quot;deviceIntegrity&quot; -&gt; {DeviceIntegrity@11056}  size = 1\r\n          key = &quot;deviceIntegrity&quot;\r\n          value = {DeviceIntegrity@11056}  size = 1\r\n             &quot;deviceRecognitionVerdict&quot; -&gt; {ArrayList@11081}  size = 1\r\n             key = &quot;deviceRecognitionVerdict&quot;\r\n                value = {ArrayList@11081}  size = 1\r\n                0 = &quot;MEETS_DEVICE_INTEGRITY&quot;\r\n       &quot;requestDetails&quot; -&gt; {RequestDetails@11058}  size = 3\r\n          key = &quot;requestDetails&quot;\r\n          value = {RequestDetails@11058}  size = 3\r\n             &quot;nonce&quot; -&gt; &quot;my-nonce&quot;\r\n             &quot;requestPackageName&quot; -&gt; &quot;com.visacsoft.customcalc&quot;\r\n             &quot;timestampMillis&quot; -&gt; {Long@11094} 1654386755670\r\n```\r\n\r\nIn the **RELEASE** version with the Test group enabled to validate it, I get the correct decode response (LICENSED, PLAY_RECOGNIZED), running on a physical phone downloaded from Google Play.\r\n\r\n**RELEASE with Test group**\r\n```json\r\n{DecodeIntegrityTokenResponse@23464}  size = 1\r\n   &quot;tokenPayloadExternal&quot; -&gt; {TokenPayloadExternal@23474}  size = 5\r\n      key = &quot;tokenPayloadExternal&quot;\r\n      value = {TokenPayloadExternal@23474}  size = 5\r\n      &quot;accountDetails&quot; -&gt; {AccountDetails@23483}  size = 1\r\n         key = &quot;accountDetails&quot;\r\n         value = {AccountDetails@23483}  size = 1\r\n            &quot;appLicensingVerdict&quot; -&gt; &quot;LICENSED&quot;\r\n      &quot;appIntegrity&quot; -&gt; {AppIntegrity@23485}  size = 4\r\n         key = &quot;appIntegrity&quot;\r\n         value = {AppIntegrity@23485}  size = 4\r\n         &quot;appRecognitionVerdict&quot; -&gt; &quot;PLAY_RECOGNIZED&quot;\r\n            key = &quot;appRecognitionVerdict&quot;\r\n            value = &quot;PLAY_RECOGNIZED&quot;\r\n         &quot;certificateSha256Digest&quot; -&gt; {ArrayList@23505}  size = 1\r\n            key = &quot;certificateSha256Digest&quot;\r\n            value = {ArrayList@23505}  size = 1\r\n            0 = &quot;012345678901234567890b1mYS6Y6rQ4gFUw&quot;\r\n         &quot;packageName&quot; -&gt; &quot;com.package.name&quot;\r\n            key = &quot;packageName&quot;\r\n            value = &quot;com.package.name&quot;\r\n         &quot;versionCode&quot; -&gt; {Long@23509} 30707\r\n            key = &quot;versionCode&quot;\r\n            value = {Long@23509} 30707\r\n      &quot;deviceIntegrity&quot; -&gt; {DeviceIntegrity@23487}  size = 1\r\n         key = &quot;deviceIntegrity&quot;\r\n         value = {DeviceIntegrity@23487}  size = 1\r\n            &quot;deviceRecognitionVerdict&quot; -&gt; {ArrayList@23516}  size = 1\r\n               key = &quot;deviceRecognitionVerdict&quot;\r\n               value = {ArrayList@23516}  size = 1\r\n                  0 = &quot;MEETS_DEVICE_INTEGRITY&quot;\r\n      &quot;requestDetails&quot; -&gt; {RequestDetails@23489}  size = 3\r\n         key = &quot;requestDetails&quot;\r\n         value = {RequestDetails@23489}  size = 3\r\n            &quot;nonce&quot; -&gt; &quot;my-nonce&quot;\r\n               key = &quot;nonce&quot;\r\n               value = &quot;my-nonce&quot;\r\n            &quot;requestPackageName&quot; -&gt; &quot;com.package.name&quot;\r\n            &quot;timestampMillis&quot; -&gt; {Long@23529} 1654368020674\r\n\r\n```\r\nBut, if I delete the response for the Test group, in the same **RELEASE** version I get a weird error saying: \r\n\r\n**RELEASE without Test group**\r\n&gt; The requested URL /v1/:decode IntegrityToken? B=com.package.name was\r\n&gt; not found on this server.\r\n\r\nin an HTML page message\r\n[![enter image description here][1]][1] \r\n\r\nHow can it Decode correctly for the **DEBUG** and Test **RELEASE** but it gives `The requested URL not found on this server` for the same **RELEASE** uploaded to Google Play but not in the test group??\r\n\r\nI think I have missed some configuration somewhere, but I can&#39;t find any setting, in the Google Play Console or the Google Cloud, that fix this.\r\n\r\nI have tried with and without the Cloud Project Number for the `IntegrityTokenResponse` getting the same error.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sL1Ih.png","title":"Google Decode Integrity Token Error: URL not found","body":"<p>So I managed to get the Integrity Token and Decode it as described here <a href=\"https://stackoverflow.com/questions/72193058/google-playintegrity-api-a-nightmare-solved/72511785\">Google PlayIntegrity API: a Nightmare</a> but now I have some bizarre situation.</p>\n<p>I get the correct decode answer from the Google Cloud Server in my <strong>DEBUG</strong> version (LICENSED, UNRECOGNIZED_VERSION) running on a physical phone connected to my computer for debugging.</p>\n<p><strong>DEBUG</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code> {DecodeIntegrityTokenResponse@11016}  size = 1\n &quot;tokenPayloadExternal&quot; -&gt; {TokenPayloadExternal@11044}  size = 4\n key = &quot;tokenPayloadExternal&quot;\n value = {TokenPayloadExternal@11044}  size = 4\n       &quot;accountDetails&quot; -&gt; {AccountDetails@11052}  size = 1\n          key = &quot;accountDetails&quot;\n          value = {AccountDetails@11052}  size = 1\n             &quot;appLicensingVerdict&quot; -&gt; &quot;LICENSED&quot;\n       &quot;appIntegrity&quot; -&gt; {AppIntegrity@11054}  size = 4\n          key = &quot;appIntegrity&quot;\n          value = {AppIntegrity@11054}  size = 4\n             &quot;appRecognitionVerdict&quot; -&gt; &quot;UNRECOGNIZED_VERSION&quot;\n             &quot;certificateSha256Digest&quot; -&gt; {ArrayList@11072}  size = 1\n             &quot;packageName&quot; -&gt; &quot;com.package.name&quot;\n             &quot;versionCode&quot; -&gt; {Long@11076} 30707\n       &quot;deviceIntegrity&quot; -&gt; {DeviceIntegrity@11056}  size = 1\n          key = &quot;deviceIntegrity&quot;\n          value = {DeviceIntegrity@11056}  size = 1\n             &quot;deviceRecognitionVerdict&quot; -&gt; {ArrayList@11081}  size = 1\n             key = &quot;deviceRecognitionVerdict&quot;\n                value = {ArrayList@11081}  size = 1\n                0 = &quot;MEETS_DEVICE_INTEGRITY&quot;\n       &quot;requestDetails&quot; -&gt; {RequestDetails@11058}  size = 3\n          key = &quot;requestDetails&quot;\n          value = {RequestDetails@11058}  size = 3\n             &quot;nonce&quot; -&gt; &quot;my-nonce&quot;\n             &quot;requestPackageName&quot; -&gt; &quot;com.visacsoft.customcalc&quot;\n             &quot;timestampMillis&quot; -&gt; {Long@11094} 1654386755670\n</code></pre>\n<p>In the <strong>RELEASE</strong> version with the Test group enabled to validate it, I get the correct decode response (LICENSED, PLAY_RECOGNIZED), running on a physical phone downloaded from Google Play.</p>\n<p><strong>RELEASE with Test group</strong></p>\n<pre class=\"lang-json prettyprint-override\"><code>{DecodeIntegrityTokenResponse@23464}  size = 1\n   &quot;tokenPayloadExternal&quot; -&gt; {TokenPayloadExternal@23474}  size = 5\n      key = &quot;tokenPayloadExternal&quot;\n      value = {TokenPayloadExternal@23474}  size = 5\n      &quot;accountDetails&quot; -&gt; {AccountDetails@23483}  size = 1\n         key = &quot;accountDetails&quot;\n         value = {AccountDetails@23483}  size = 1\n            &quot;appLicensingVerdict&quot; -&gt; &quot;LICENSED&quot;\n      &quot;appIntegrity&quot; -&gt; {AppIntegrity@23485}  size = 4\n         key = &quot;appIntegrity&quot;\n         value = {AppIntegrity@23485}  size = 4\n         &quot;appRecognitionVerdict&quot; -&gt; &quot;PLAY_RECOGNIZED&quot;\n            key = &quot;appRecognitionVerdict&quot;\n            value = &quot;PLAY_RECOGNIZED&quot;\n         &quot;certificateSha256Digest&quot; -&gt; {ArrayList@23505}  size = 1\n            key = &quot;certificateSha256Digest&quot;\n            value = {ArrayList@23505}  size = 1\n            0 = &quot;012345678901234567890b1mYS6Y6rQ4gFUw&quot;\n         &quot;packageName&quot; -&gt; &quot;com.package.name&quot;\n            key = &quot;packageName&quot;\n            value = &quot;com.package.name&quot;\n         &quot;versionCode&quot; -&gt; {Long@23509} 30707\n            key = &quot;versionCode&quot;\n            value = {Long@23509} 30707\n      &quot;deviceIntegrity&quot; -&gt; {DeviceIntegrity@23487}  size = 1\n         key = &quot;deviceIntegrity&quot;\n         value = {DeviceIntegrity@23487}  size = 1\n            &quot;deviceRecognitionVerdict&quot; -&gt; {ArrayList@23516}  size = 1\n               key = &quot;deviceRecognitionVerdict&quot;\n               value = {ArrayList@23516}  size = 1\n                  0 = &quot;MEETS_DEVICE_INTEGRITY&quot;\n      &quot;requestDetails&quot; -&gt; {RequestDetails@23489}  size = 3\n         key = &quot;requestDetails&quot;\n         value = {RequestDetails@23489}  size = 3\n            &quot;nonce&quot; -&gt; &quot;my-nonce&quot;\n               key = &quot;nonce&quot;\n               value = &quot;my-nonce&quot;\n            &quot;requestPackageName&quot; -&gt; &quot;com.package.name&quot;\n            &quot;timestampMillis&quot; -&gt; {Long@23529} 1654368020674\n\n</code></pre>\n<p>But, if I delete the response for the Test group, in the same <strong>RELEASE</strong> version I get a weird error saying:</p>\n<p><strong>RELEASE without Test group</strong></p>\n<blockquote>\n<p>The requested URL /v1/:decode IntegrityToken? B=com.package.name was\nnot found on this server.</p>\n</blockquote>\n<p>in an HTML page message\n<a href=\"https://i.stack.imgur.com/sL1Ih.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/sL1Ih.png\" alt=\"enter image description here\" /></a></p>\n<p>How can it Decode correctly for the <strong>DEBUG</strong> and Test <strong>RELEASE</strong> but it gives <code>The requested URL not found on this server</code> for the same <strong>RELEASE</strong> uploaded to Google Play but not in the test group??</p>\n<p>I think I have missed some configuration somewhere, but I can't find any setting, in the Google Play Console or the Google Cloud, that fix this.</p>\n<p>I have tried with and without the Cloud Project Number for the <code>IntegrityTokenResponse</code> getting the same error.</p>\n"},{"tags":["java","c++","hook","jit"],"comments":[{"owner":{"account_id":5964120,"reputation":4275,"user_id":4688321,"display_name":"kiner_shah"},"score":0,"creation_date":1679555294,"post_id":75820047,"comment_id":133743254,"body_markdown":"It&#39;s difficult to understand the question like this, maybe you can give some example.","body":"It&#39;s difficult to understand the question like this, maybe you can give some example."},{"owner":{"account_id":1684984,"reputation":27030,"user_id":1548468,"display_name":"Botje"},"score":0,"creation_date":1679560085,"post_id":75820047,"comment_id":133744253,"body_markdown":"I don&#39;t understand why you care about the distinction between interpreted and compiled functions? Surely you just call them and/or hot reload them?","body":"I don&#39;t understand why you care about the distinction between interpreted and compiled functions? Surely you just call them and/or hot reload them?"},{"owner":{"account_id":26364508,"reputation":1,"user_id":20020196,"display_name":"InternetUser"},"score":0,"creation_date":1679573225,"post_id":75820047,"comment_id":133747492,"body_markdown":"@Botje I am performing detour hooks, the problem is that the jvm will constantly recompile functions every few minutes breaking the hooks I place. Therefore I need: to turn off this compilation OR be aware when the recompilation is about to take place","body":"@Botje I am performing detour hooks, the problem is that the jvm will constantly recompile functions every few minutes breaking the hooks I place. Therefore I need: to turn off this compilation OR be aware when the recompilation is about to take place"}],"owner":{"account_id":26364508,"reputation":1,"user_id":20020196,"display_name":"InternetUser"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679575017,"creation_date":1679555093,"question_id":75820047,"body_markdown":"I am currently working on a c++ project that involves injecting a dll into the java process (minecraft), one major component of this project requires that any java function i specify must remain as interpreted and not become compiled. If I disable the compiler fully then there is a huge drop in performance, making the game unplayable even high-end hardware.\r\n\r\nWhat im looking for is some way to allow function compilation to work as normal, but prevent a few target functions from compiling.\r\n\r\nAlternatively I could also use a system where im notified that my target function is about to be, or has just been compiled, and be given the new pointer to it, but I feel the approach of compilation prevention is more practical to do.\r\n\r\n\r\nI do not have the option to modify/specify arguments to java during the launch of the application, i cant do something like -X:CompileCommand=exclude,the/package/and/Class,methodName. Would it maybe be possible to somehow add functions I want to exclude during runtime?\r\nOr does anyone know of some place I could place a hook and monitor which functions the jvm plans on compiling, and prevent the ones I specify?\r\n\r\nI have thought about hooking compiler or GC threads but this dosnt seem like a safe or reliable approach, im told it would have a lot of drawbacks.","title":"Disable Java JIT compilation of specific functions","body":"<p>I am currently working on a c++ project that involves injecting a dll into the java process (minecraft), one major component of this project requires that any java function i specify must remain as interpreted and not become compiled. If I disable the compiler fully then there is a huge drop in performance, making the game unplayable even high-end hardware.</p>\n<p>What im looking for is some way to allow function compilation to work as normal, but prevent a few target functions from compiling.</p>\n<p>Alternatively I could also use a system where im notified that my target function is about to be, or has just been compiled, and be given the new pointer to it, but I feel the approach of compilation prevention is more practical to do.</p>\n<p>I do not have the option to modify/specify arguments to java during the launch of the application, i cant do something like -X:CompileCommand=exclude,the/package/and/Class,methodName. Would it maybe be possible to somehow add functions I want to exclude during runtime?\nOr does anyone know of some place I could place a hook and monitor which functions the jvm plans on compiling, and prevent the ones I specify?</p>\n<p>I have thought about hooking compiler or GC threads but this dosnt seem like a safe or reliable approach, im told it would have a lot of drawbacks.</p>\n"},{"tags":["java","android","xml","android-layout"],"comments":[{"owner":{"account_id":459638,"reputation":6041,"user_id":860212,"display_name":"karllindmark"},"score":0,"creation_date":1679559394,"post_id":75820191,"comment_id":133744119,"body_markdown":"What version of Android are you running it on?","body":"What version of Android are you running it on?"},{"owner":{"account_id":17692320,"reputation":1,"user_id":12852336,"display_name":"Mr.Krotos"},"score":0,"creation_date":1679561209,"post_id":75820191,"comment_id":133744485,"body_markdown":"@karllindmark Android 12","body":"@karllindmark Android 12"}],"answers":[{"tags":[],"owner":{"account_id":17692320,"reputation":1,"user_id":12852336,"display_name":"Mr.Krotos"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679574788,"creation_date":1679574758,"answer_id":75823041,"question_id":75820191,"body_markdown":"I`m do THIS! \r\n\r\n    \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n\r\n\r\n    public class RoundedCornerLayout extends MyMaterialCardView {\r\n\r\n        private Path path = new Path();\r\n        private RectF rect = new RectF();\r\n        private float[] cornerRadii = new float[8];\r\n\r\n        public RoundedCornerLayout(Context context) {\r\n            super(context);\r\n            init(context, null);\r\n        }\r\n\r\n        public RoundedCornerLayout(Context context, AttributeSet attrs) {\r\n            super(context, attrs);\r\n            init(context, attrs);\r\n        }\r\n\r\n        public RoundedCornerLayout(Context context, AttributeSet attrs, int defStyleAttr) {\r\n            super(context, attrs, defStyleAttr);\r\n            init(context, attrs);\r\n        }\r\n\r\n        private void init(Context context, AttributeSet attrs) {\r\n            if (attrs != null) {\r\n                TypedArray a = context.obtainStyledAttributes(attrs, R.styleable.RoundedCornerLayout);\r\n\r\n\r\n                float radiusTopLeft = a.getDimension(R.styleable.RoundedCornerLayout_cornerRadiusTopLeft, 0);\r\n                float radiusTopRight = a.getDimension(R.styleable.RoundedCornerLayout_cornerRadiusTopRight, 0);\r\n                float radiusBottomRight = a.getDimension(R.styleable.RoundedCornerLayout_cornerRadiusBottomRight, 0);\r\n                float radiusBottomLeft = a.getDimension(R.styleable.RoundedCornerLayout_cornerRadiusBottomLeft, 0);\r\n\r\n                cornerRadii[0] = cornerRadii[1] =radiusTopLeft;\r\n                cornerRadii[2] = cornerRadii[3] =radiusTopRight;\r\n                cornerRadii[4] = cornerRadii[5] =radiusBottomRight;\r\n                cornerRadii[6] = cornerRadii[7] =radiusBottomLeft;\r\n                a.recycle();\r\n\r\n\r\n                ShapeAppearanceModel shapeAppearanceModel = getShapeAppearanceModel()\r\n                        .toBuilder()\r\n                        .setTopLeftCorner(CornerFamily.ROUNDED, radiusTopLeft)\r\n                        .setTopRightCorner(CornerFamily.ROUNDED, radiusTopRight)\r\n                        .setBottomRightCorner(CornerFamily.ROUNDED, radiusBottomRight)\r\n                        .setBottomLeftCorner(CornerFamily.ROUNDED, radiusBottomLeft)\r\n                        .build();\r\n\r\n\r\n                setShapeAppearanceModel(shapeAppearanceModel);\r\n\r\n\r\n            }\r\n            setWillNotDraw(false);\r\n        }\r\n\r\n        @Override\r\n        protected void onMeasure(int widthMeasureSpec,int heightMeasureSpec){\r\n            int count=getChildCount();\r\n            int maxHeight=0;\r\n            int maxWidth=0;\r\n\r\n            for(int i=0;i&lt;count;i++){\r\n                final View child=getChildAt(i);\r\n                if(child.getVisibility()!=GONE){\r\n                    measureChild(child,widthMeasureSpec,heightMeasureSpec);\r\n                    maxWidth=Math.max(maxWidth,\r\n                            child.getMeasuredWidth());\r\n                    maxHeight=Math.max(maxHeight,\r\n                            child.getMeasuredHeight());\r\n                }\r\n            }\r\n\r\n            maxWidth+=getPaddingLeft()+getPaddingRight();\r\n            maxHeight+=getPaddingTop()+getPaddingBottom();\r\n\r\n            setMeasuredDimension(resolveSizeAndState(maxWidth,widthMeasureSpec , 0),\r\n                    resolveSizeAndState(maxHeight,heightMeasureSpec , 0));\r\n        }\r\n\r\n        @Override\r\n        protected void onLayout(boolean changed,int l,int t,int r,int b){\r\n            int count=getChildCount();\r\n\r\n            for(int i=0;i&lt;count;i++){\r\n                final View child=getChildAt(i);\r\n                if(child.getVisibility()!=GONE){\r\n                    child.layout(getPaddingLeft(),getPaddingTop(),\r\n                            getPaddingLeft()+child.getMeasuredWidth(),\r\n                            getPaddingTop()+child.getMeasuredHeight());\r\n                }\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void draw(Canvas canvas) {\r\n            canvas.save();\r\n            rect.set(0f , 0f , getWidth() , getHeight());\r\n\r\n            path.addRoundRect(rect,\r\n                    cornerRadii,\r\n                    Path.Direction.CW);\r\n\r\n            canvas.clipPath(path);\r\n\r\n            super.draw(canvas);\r\n\r\n            canvas.restore();\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"The elements inside the MaterialCardView are not clipped at the edges","body":"<p>I`m do THIS!</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>public class RoundedCornerLayout extends MyMaterialCardView {\n\n    private Path path = new Path();\n    private RectF rect = new RectF();\n    private float[] cornerRadii = new float[8];\n\n    public RoundedCornerLayout(Context context) {\n        super(context);\n        init(context, null);\n    }\n\n    public RoundedCornerLayout(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        init(context, attrs);\n    }\n\n    public RoundedCornerLayout(Context context, AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n        init(context, attrs);\n    }\n\n    private void init(Context context, AttributeSet attrs) {\n        if (attrs != null) {\n            TypedArray a = context.obtainStyledAttributes(attrs, R.styleable.RoundedCornerLayout);\n\n\n            float radiusTopLeft = a.getDimension(R.styleable.RoundedCornerLayout_cornerRadiusTopLeft, 0);\n            float radiusTopRight = a.getDimension(R.styleable.RoundedCornerLayout_cornerRadiusTopRight, 0);\n            float radiusBottomRight = a.getDimension(R.styleable.RoundedCornerLayout_cornerRadiusBottomRight, 0);\n            float radiusBottomLeft = a.getDimension(R.styleable.RoundedCornerLayout_cornerRadiusBottomLeft, 0);\n\n            cornerRadii[0] = cornerRadii[1] =radiusTopLeft;\n            cornerRadii[2] = cornerRadii[3] =radiusTopRight;\n            cornerRadii[4] = cornerRadii[5] =radiusBottomRight;\n            cornerRadii[6] = cornerRadii[7] =radiusBottomLeft;\n            a.recycle();\n\n\n            ShapeAppearanceModel shapeAppearanceModel = getShapeAppearanceModel()\n                    .toBuilder()\n                    .setTopLeftCorner(CornerFamily.ROUNDED, radiusTopLeft)\n                    .setTopRightCorner(CornerFamily.ROUNDED, radiusTopRight)\n                    .setBottomRightCorner(CornerFamily.ROUNDED, radiusBottomRight)\n                    .setBottomLeftCorner(CornerFamily.ROUNDED, radiusBottomLeft)\n                    .build();\n\n\n            setShapeAppearanceModel(shapeAppearanceModel);\n\n\n        }\n        setWillNotDraw(false);\n    }\n\n    @Override\n    protected void onMeasure(int widthMeasureSpec,int heightMeasureSpec){\n        int count=getChildCount();\n        int maxHeight=0;\n        int maxWidth=0;\n\n        for(int i=0;i&lt;count;i++){\n            final View child=getChildAt(i);\n            if(child.getVisibility()!=GONE){\n                measureChild(child,widthMeasureSpec,heightMeasureSpec);\n                maxWidth=Math.max(maxWidth,\n                        child.getMeasuredWidth());\n                maxHeight=Math.max(maxHeight,\n                        child.getMeasuredHeight());\n            }\n        }\n\n        maxWidth+=getPaddingLeft()+getPaddingRight();\n        maxHeight+=getPaddingTop()+getPaddingBottom();\n\n        setMeasuredDimension(resolveSizeAndState(maxWidth,widthMeasureSpec , 0),\n                resolveSizeAndState(maxHeight,heightMeasureSpec , 0));\n    }\n\n    @Override\n    protected void onLayout(boolean changed,int l,int t,int r,int b){\n        int count=getChildCount();\n\n        for(int i=0;i&lt;count;i++){\n            final View child=getChildAt(i);\n            if(child.getVisibility()!=GONE){\n                child.layout(getPaddingLeft(),getPaddingTop(),\n                        getPaddingLeft()+child.getMeasuredWidth(),\n                        getPaddingTop()+child.getMeasuredHeight());\n            }\n        }\n    }\n\n    @Override\n    public void draw(Canvas canvas) {\n        canvas.save();\n        rect.set(0f , 0f , getWidth() , getHeight());\n\n        path.addRoundRect(rect,\n                cornerRadii,\n                Path.Direction.CW);\n\n        canvas.clipPath(path);\n\n        super.draw(canvas);\n\n        canvas.restore();\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"}],"owner":{"account_id":17692320,"reputation":1,"user_id":12852336,"display_name":"Mr.Krotos"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679574788,"creation_date":1679556387,"question_id":75820191,"body_markdown":"I&#39;m trying to make a MaterialCardView with different rounds.\r\n\r\nEverything is fine on the layout in Android Studio. [Image](https://i.stack.imgur.com/Nst2Q.png)\r\n\r\nBut when I run it on android, there are no more rounds. [Image](https://i.stack.imgur.com/x1gya.png)\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/main&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:backgroundTint=&quot;@color/white&quot;\r\n    android:clipChildren=&quot;true&quot;\r\n    tools:context=&quot;.ui.main.MainFragment&quot;&gt;\r\n\r\n    &lt;com.google.android.material.card.MaterialCardView\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:clipChildren=&quot;true&quot;\r\n        app:cardElevation=&quot;15dp&quot;\r\n        app:cardPreventCornerOverlap=&quot;false&quot;\r\n        app:cardUseCompatPadding=&quot;true&quot;\r\n\r\n        app:shapeAppearanceOverlay=&quot;@style/CustomShapeAppearance&quot;&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:visibility=&quot;visible&quot;&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:background=&quot;@drawable/gradient_second&quot;\r\n                android:orientation=&quot;vertical&quot;&gt;\r\n\r\n                &lt;com.google.android.material.textfield.TextInputLayout\r\n                    android:id=&quot;@+id/filledTextField&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:background=&quot;@android:color/transparent&quot;\r\n                    android:hint=&quot;@string/InsertLogin&quot;&gt;\r\n\r\n                    &lt;com.google.android.material.textfield.TextInputEditText\r\n                        android:id=&quot;@+id/username_edit_text&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:background=&quot;@android:color/transparent&quot; /&gt;\r\n                &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n\r\n                &lt;com.google.android.material.textfield.TextInputLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:hint=&quot;@string/InsertPassWord&quot;\r\n                    app:boxBackgroundColor=&quot;#00FFFFFF&quot;&gt;\r\n\r\n                    &lt;com.google.android.material.textfield.TextInputEditText\r\n                        android:id=&quot;@+id/password_edit_text&quot;\r\n                        style=&quot;@style/AppTheme&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;wrap_content&quot;\r\n                        android:background=&quot;@android:color/transparent&quot;\r\n                        android:singleLine=&quot;true&quot; /&gt;\r\n\r\n                &lt;/com.google.android.material.textfield.TextInputLayout&gt;\r\n            \r\n            &lt;/LinearLayout&gt;\r\n\r\n            &lt;com.google.android.material.button.MaterialButton\r\n                android:id=&quot;@+id/login_button&quot;\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:background=&quot;@drawable/gradient_main&quot;\r\n                android:text=&quot;@string/Login&quot;\r\n                app:backgroundTint=&quot;@null&quot; /&gt;\r\n\r\n\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/com.google.android.material.card.MaterialCardView&gt;\r\n\r\n\r\n&lt;/FrameLayout&gt;\r\n```\r\n\r\n\r\n\r\n\r\nI tried to make my own class, but it doesn&#39;t work as it should. If one of the corners is different from all, then the rounding is not visible again.\r\n\r\n\r\n```\r\npublic class MyMaterialCardView extends MaterialCardView {\r\n    private float radiusTopLeft = 20;\r\n    private float radiusTopRight = 20;\r\n    private float radiusBottomRight = 20;\r\n    private float radiusBottomLeft = 20;\r\n\r\n    public MyMaterialCardView(Context context) {\r\n        super(context);\r\n        init(null);\r\n    }\r\n\r\n    public MyMaterialCardView(Context context, AttributeSet attrs) {\r\n        super(context, attrs);\r\n        init(attrs);\r\n    }\r\n\r\n    public MyMaterialCardView(Context context, AttributeSet attrs, int defStyleAttr) {\r\n        super(context, attrs, defStyleAttr);\r\n        init(attrs);\r\n    }\r\n\r\n    private void init(AttributeSet attrs) {\r\n        if (attrs != null) {\r\n            TypedArray a = getContext().obtainStyledAttributes(attrs, R.styleable.MyMaterialCardView);\r\n            radiusTopLeft = a.getDimension(R.styleable.MyMaterialCardView_radiusTopLeft, 20);\r\n            radiusTopRight = a.getDimension(R.styleable.MyMaterialCardView_radiusTopRight, 20);\r\n            radiusBottomRight = a.getDimension(R.styleable.MyMaterialCardView_radiusBottomRight, 20);\r\n            radiusBottomLeft = a.getDimension(R.styleable.MyMaterialCardView_radiusBottomLeft, 20);\r\n            a.recycle();\r\n        }\r\n        ShapeAppearanceModel shapeAppearanceModel = new ShapeAppearanceModel()\r\n                .toBuilder()\r\n                .setTopLeftCorner(CornerFamily.ROUNDED, radiusTopLeft)\r\n                .setTopRightCorner(CornerFamily.ROUNDED, radiusTopRight)\r\n                .setBottomRightCorner(CornerFamily.ROUNDED, radiusBottomRight)\r\n                .setBottomLeftCorner(CornerFamily.ROUNDED, radiusBottomLeft)\r\n                .build();\r\n\r\n\r\n        setShapeAppearanceModel(shapeAppearanceModel);\r\n    }\r\n}\r\n```\r\n","title":"The elements inside the MaterialCardView are not clipped at the edges","body":"<p>I'm trying to make a MaterialCardView with different rounds.</p>\n<p>Everything is fine on the layout in Android Studio. <a href=\"https://i.stack.imgur.com/Nst2Q.png\" rel=\"nofollow noreferrer\">Image</a></p>\n<p>But when I run it on android, there are no more rounds. <a href=\"https://i.stack.imgur.com/x1gya.png\" rel=\"nofollow noreferrer\">Image</a></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/main&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:backgroundTint=&quot;@color/white&quot;\n    android:clipChildren=&quot;true&quot;\n    tools:context=&quot;.ui.main.MainFragment&quot;&gt;\n\n    &lt;com.google.android.material.card.MaterialCardView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:clipChildren=&quot;true&quot;\n        app:cardElevation=&quot;15dp&quot;\n        app:cardPreventCornerOverlap=&quot;false&quot;\n        app:cardUseCompatPadding=&quot;true&quot;\n\n        app:shapeAppearanceOverlay=&quot;@style/CustomShapeAppearance&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_gravity=&quot;center&quot;\n            android:orientation=&quot;vertical&quot;\n            android:visibility=&quot;visible&quot;&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;match_parent&quot;\n                android:background=&quot;@drawable/gradient_second&quot;\n                android:orientation=&quot;vertical&quot;&gt;\n\n                &lt;com.google.android.material.textfield.TextInputLayout\n                    android:id=&quot;@+id/filledTextField&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:background=&quot;@android:color/transparent&quot;\n                    android:hint=&quot;@string/InsertLogin&quot;&gt;\n\n                    &lt;com.google.android.material.textfield.TextInputEditText\n                        android:id=&quot;@+id/username_edit_text&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:background=&quot;@android:color/transparent&quot; /&gt;\n                &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n\n                &lt;com.google.android.material.textfield.TextInputLayout\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;wrap_content&quot;\n                    android:hint=&quot;@string/InsertPassWord&quot;\n                    app:boxBackgroundColor=&quot;#00FFFFFF&quot;&gt;\n\n                    &lt;com.google.android.material.textfield.TextInputEditText\n                        android:id=&quot;@+id/password_edit_text&quot;\n                        style=&quot;@style/AppTheme&quot;\n                        android:layout_width=&quot;match_parent&quot;\n                        android:layout_height=&quot;wrap_content&quot;\n                        android:background=&quot;@android:color/transparent&quot;\n                        android:singleLine=&quot;true&quot; /&gt;\n\n                &lt;/com.google.android.material.textfield.TextInputLayout&gt;\n            \n            &lt;/LinearLayout&gt;\n\n            &lt;com.google.android.material.button.MaterialButton\n                android:id=&quot;@+id/login_button&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:background=&quot;@drawable/gradient_main&quot;\n                android:text=&quot;@string/Login&quot;\n                app:backgroundTint=&quot;@null&quot; /&gt;\n\n\n        &lt;/LinearLayout&gt;\n    &lt;/com.google.android.material.card.MaterialCardView&gt;\n\n\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>I tried to make my own class, but it doesn't work as it should. If one of the corners is different from all, then the rounding is not visible again.</p>\n<pre><code>public class MyMaterialCardView extends MaterialCardView {\n    private float radiusTopLeft = 20;\n    private float radiusTopRight = 20;\n    private float radiusBottomRight = 20;\n    private float radiusBottomLeft = 20;\n\n    public MyMaterialCardView(Context context) {\n        super(context);\n        init(null);\n    }\n\n    public MyMaterialCardView(Context context, AttributeSet attrs) {\n        super(context, attrs);\n        init(attrs);\n    }\n\n    public MyMaterialCardView(Context context, AttributeSet attrs, int defStyleAttr) {\n        super(context, attrs, defStyleAttr);\n        init(attrs);\n    }\n\n    private void init(AttributeSet attrs) {\n        if (attrs != null) {\n            TypedArray a = getContext().obtainStyledAttributes(attrs, R.styleable.MyMaterialCardView);\n            radiusTopLeft = a.getDimension(R.styleable.MyMaterialCardView_radiusTopLeft, 20);\n            radiusTopRight = a.getDimension(R.styleable.MyMaterialCardView_radiusTopRight, 20);\n            radiusBottomRight = a.getDimension(R.styleable.MyMaterialCardView_radiusBottomRight, 20);\n            radiusBottomLeft = a.getDimension(R.styleable.MyMaterialCardView_radiusBottomLeft, 20);\n            a.recycle();\n        }\n        ShapeAppearanceModel shapeAppearanceModel = new ShapeAppearanceModel()\n                .toBuilder()\n                .setTopLeftCorner(CornerFamily.ROUNDED, radiusTopLeft)\n                .setTopRightCorner(CornerFamily.ROUNDED, radiusTopRight)\n                .setBottomRightCorner(CornerFamily.ROUNDED, radiusBottomRight)\n                .setBottomLeftCorner(CornerFamily.ROUNDED, radiusBottomLeft)\n                .build();\n\n\n        setShapeAppearanceModel(shapeAppearanceModel);\n    }\n}\n</code></pre>\n"},{"tags":["java","json","jackson","objectmapper"],"comments":[{"owner":{"account_id":84585,"reputation":7493,"user_id":236345,"accept_rate":87,"display_name":"Alfabravo"},"score":0,"creation_date":1507148335,"post_id":46573452,"comment_id":80100588,"body_markdown":"How&#39;s your deserialization defined?","body":"How&#39;s your deserialization defined?"},{"owner":{"account_id":1730559,"reputation":1101,"user_id":1584263,"display_name":"blafasel"},"score":0,"creation_date":1507148799,"post_id":46573452,"comment_id":80100799,"body_markdown":"Just to get the most obvious out of the way: If `&quot;\\u00a2&quot;` is somehow part of your Java code then the Java compiler is doing the convertion not Jackson. If you want notate the string consisting of 6 chars you must use `&quot;\\\\u00a2&quot;`.","body":"Just to get the most obvious out of the way: If <code>&quot;\\u00a2&quot;</code> is somehow part of your Java code then the Java compiler is doing the convertion not Jackson. If you want notate the string consisting of 6 chars you must use <code>&quot;\\\\u00a2&quot;</code>."},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":0,"creation_date":1507149366,"post_id":46573452,"comment_id":80101032,"body_markdown":"Are you sure you&#39;re sending the JSON using the correct character set? How do you get the JSON text from the `ObjectMapper` and how is that text sent on to the remote server? Did you encode it in UTF-8 on that transmission? Did you tell the remote server what character set you sent it in? --- However, if the remote server cannot handle UTF-8, or whatever character set you&#39;re actually using, and you want to stick to US-ASCII and JSON escapes for the rest, have `ObjectMapper` output the JSON text as a `String`, and then convert non-ASCII to escapes yourself before sending it.","body":"Are you sure you&#39;re sending the JSON using the correct character set? How do you get the JSON text from the <code>ObjectMapper</code> and how is that text sent on to the remote server? Did you encode it in UTF-8 on that transmission? Did you tell the remote server what character set you sent it in? --- However, if the remote server cannot handle UTF-8, or whatever character set you&#39;re actually using, and you want to stick to US-ASCII and JSON escapes for the rest, have <code>ObjectMapper</code> output the JSON text as a <code>String</code>, and then convert non-ASCII to escapes yourself before sending it."}],"answers":[{"tags":[],"owner":{"account_id":2508750,"reputation":4397,"user_id":2181703,"accept_rate":20,"display_name":"Optional"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1507186666,"creation_date":1507185786,"answer_id":46579378,"question_id":46573452,"body_markdown":"What you are expecting is outside scope of Jackosn. It&#39;s java that converts the String while reading it. For same reason, if you have a properties file with value `\\u00a2` and read it using jdk API, you will get converted value. Depending on the file size, either you can double escape char \\ before passing the string to Json or &quot;escape&quot; the string back using your Deserializer (only for string) and something like below:\r\n\r\nThank you\r\n\r\n    package com.test.json;\r\n    \r\n    import com.fasterxml.jackson.core.JsonParser;\r\n    import com.fasterxml.jackson.core.JsonProcessingException;\r\n    import com.fasterxml.jackson.core.type.TypeReference;\r\n    import com.fasterxml.jackson.databind.DeserializationContext;\r\n    import com.fasterxml.jackson.databind.JsonDeserializer;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.module.SimpleModule;\r\n    import java.io.IOException;\r\n    import java.util.Map;\r\n    \r\n    public class Jackson {\r\n    \r\n        static ObjectMapper _MAPPER = new ObjectMapper();\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            String json = &quot;{\\&quot;field1\\&quot;: \\&quot;\\\\u00a2\\&quot;,\\&quot;field2\\&quot;: \\&quot;\\\\u00a2 this\\&quot;,\\&quot;numberField\\&quot;: 121212}&quot;;\r\n            SimpleModule testModule\r\n                    = new SimpleModule(&quot;StOvFl&quot;, _MAPPER.version()).addDeserializer(String.class,\r\n                            new UnEscapedSerializaer());\r\n    \r\n            _MAPPER.registerModule(testModule);\r\n    \r\n            Map m = _MAPPER.readValue(json, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {\r\n            });\r\n            System.out.println(&quot;m&quot; + m);\r\n    \r\n        }\r\n    }\r\n    \r\n    class UnEscapedSerializaer extends JsonDeserializer&lt;String&gt; {\r\n    \r\n        @Override\r\n        public String deserialize(JsonParser jp, DeserializationContext ctxt)\r\n                throws IOException, JsonProcessingException {\r\n            String s = jp.getValueAsString();\r\n            return org.apache.commons.lang.StringEscapeUtils.StringEscapeUtils.escapeJava(s);\r\n    \r\n        }\r\n    }\r\n\r\n","title":"How to prevent ObjectMapper from converting escaped unicode?","body":"<p>What you are expecting is outside scope of Jackosn. It's java that converts the String while reading it. For same reason, if you have a properties file with value <code>\\u00a2</code> and read it using jdk API, you will get converted value. Depending on the file size, either you can double escape char \\ before passing the string to Json or \"escape\" the string back using your Deserializer (only for string) and something like below:</p>\n\n<p>Thank you</p>\n\n<pre><code>package com.test.json;\n\nimport com.fasterxml.jackson.core.JsonParser;\nimport com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.core.type.TypeReference;\nimport com.fasterxml.jackson.databind.DeserializationContext;\nimport com.fasterxml.jackson.databind.JsonDeserializer;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.module.SimpleModule;\nimport java.io.IOException;\nimport java.util.Map;\n\npublic class Jackson {\n\n    static ObjectMapper _MAPPER = new ObjectMapper();\n\n    public static void main(String[] args) throws Exception {\n        String json = \"{\\\"field1\\\": \\\"\\\\u00a2\\\",\\\"field2\\\": \\\"\\\\u00a2 this\\\",\\\"numberField\\\": 121212}\";\n        SimpleModule testModule\n                = new SimpleModule(\"StOvFl\", _MAPPER.version()).addDeserializer(String.class,\n                        new UnEscapedSerializaer());\n\n        _MAPPER.registerModule(testModule);\n\n        Map m = _MAPPER.readValue(json, new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {\n        });\n        System.out.println(\"m\" + m);\n\n    }\n}\n\nclass UnEscapedSerializaer extends JsonDeserializer&lt;String&gt; {\n\n    @Override\n    public String deserialize(JsonParser jp, DeserializationContext ctxt)\n            throws IOException, JsonProcessingException {\n        String s = jp.getValueAsString();\n        return org.apache.commons.lang.StringEscapeUtils.StringEscapeUtils.escapeJava(s);\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6664978,"reputation":2169,"user_id":5142886,"display_name":"tianzhipeng"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618197182,"creation_date":1618197182,"answer_id":67052210,"question_id":46573452,"body_markdown":"Another way to custom Jackson&#39;s behavior is customized `JsonParser`. See jackson&#39;s source code of [JsonFactory](https://github.com/FasterXML/jackson-core/blob/master/src/main/java/com/fasterxml/jackson/core/json/JsonFactory.java), [ReaderBasedJsonParser](https://github.com/FasterXML/jackson-core/blob/master/src/main/java/com/fasterxml/jackson/core/json/ReaderBasedJsonParser.java);\r\n\r\nThe key methond is `_finishString2()` which is used to do &#39;decodeEscaped&#39;, so we can write a JsonParser extends ReaderBasedJsonParser and override the `_finishString2` method:\r\n\r\n```\r\npublic class MyJsonParser extends ReaderBasedJsonParser {\r\n    @Override\r\n    protected void _finishString2() throws IOException {\r\n        char[] outBuf = _textBuffer.getCurrentSegment();\r\n        int outPtr = _textBuffer.getCurrentSegmentSize();\r\n        final int[] codes = _icLatin1;\r\n        final int maxCode = codes.length;\r\n\r\n        while (true) {\r\n            if (_inputPtr &gt;= _inputEnd) {\r\n                if (!loadMore()) {\r\n                    _reportInvalidEOF(&quot;: was expecting closing quote for a string value&quot;);\r\n                }\r\n            }\r\n            char c = _inputBuffer[_inputPtr++];\r\n            int i = (int) c;\r\n            if (i &lt; maxCode &amp;&amp; codes[i] != 0) {\r\n                if (i == INT_QUOTE) {\r\n                    break;\r\n                } else {\r\n                    //c = _decodeEscaped();\r\n                    //do nth\r\n                }\r\n            }\r\n            // Need more room?\r\n            if (outPtr &gt;= outBuf.length) {\r\n                outBuf = _textBuffer.finishCurrentSegment();\r\n                outPtr = 0;\r\n            }\r\n            // Ok, let&#39;s add char to output:\r\n            outBuf[outPtr++] = c;\r\n        }\r\n        _textBuffer.setCurrentLength(outPtr);\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        String json = &quot;{\\&quot;field1\\&quot;: \\&quot;\\\\u00a2\\&quot;,\\&quot;field2\\&quot;: \\&quot;\\\\u00a2 this\\&quot;,\\&quot;numberField\\&quot;: 121212}&quot;;\r\n        ObjectMapper objectMapper = new ObjectMapper(new MyJsonParserFactory());\r\n        Object o = objectMapper.readValue(json, Object.class);\r\n        System.out.println(o);\r\n    }\r\n}\r\n```\r\nFull demo code [here](https://gist.github.com/tianzhipeng-git/2997a5afb44efc3308b5e59e8bf45971)\r\n","title":"How to prevent ObjectMapper from converting escaped unicode?","body":"<p>Another way to custom Jackson's behavior is customized <code>JsonParser</code>. See jackson's source code of <a href=\"https://github.com/FasterXML/jackson-core/blob/master/src/main/java/com/fasterxml/jackson/core/json/JsonFactory.java\" rel=\"nofollow noreferrer\">JsonFactory</a>, <a href=\"https://github.com/FasterXML/jackson-core/blob/master/src/main/java/com/fasterxml/jackson/core/json/ReaderBasedJsonParser.java\" rel=\"nofollow noreferrer\">ReaderBasedJsonParser</a>;</p>\n<p>The key methond is <code>_finishString2()</code> which is used to do 'decodeEscaped', so we can write a JsonParser extends ReaderBasedJsonParser and override the <code>_finishString2</code> method:</p>\n<pre><code>public class MyJsonParser extends ReaderBasedJsonParser {\n    @Override\n    protected void _finishString2() throws IOException {\n        char[] outBuf = _textBuffer.getCurrentSegment();\n        int outPtr = _textBuffer.getCurrentSegmentSize();\n        final int[] codes = _icLatin1;\n        final int maxCode = codes.length;\n\n        while (true) {\n            if (_inputPtr &gt;= _inputEnd) {\n                if (!loadMore()) {\n                    _reportInvalidEOF(&quot;: was expecting closing quote for a string value&quot;);\n                }\n            }\n            char c = _inputBuffer[_inputPtr++];\n            int i = (int) c;\n            if (i &lt; maxCode &amp;&amp; codes[i] != 0) {\n                if (i == INT_QUOTE) {\n                    break;\n                } else {\n                    //c = _decodeEscaped();\n                    //do nth\n                }\n            }\n            // Need more room?\n            if (outPtr &gt;= outBuf.length) {\n                outBuf = _textBuffer.finishCurrentSegment();\n                outPtr = 0;\n            }\n            // Ok, let's add char to output:\n            outBuf[outPtr++] = c;\n        }\n        _textBuffer.setCurrentLength(outPtr);\n    }\n\n    public static void main(String[] args) throws IOException {\n        String json = &quot;{\\&quot;field1\\&quot;: \\&quot;\\\\u00a2\\&quot;,\\&quot;field2\\&quot;: \\&quot;\\\\u00a2 this\\&quot;,\\&quot;numberField\\&quot;: 121212}&quot;;\n        ObjectMapper objectMapper = new ObjectMapper(new MyJsonParserFactory());\n        Object o = objectMapper.readValue(json, Object.class);\n        System.out.println(o);\n    }\n}\n</code></pre>\n<p>Full demo code <a href=\"https://gist.github.com/tianzhipeng-git/2997a5afb44efc3308b5e59e8bf45971\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":70000,"reputation":1477,"user_id":203415,"accept_rate":100,"display_name":"eitama"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679574771,"creation_date":1679574771,"answer_id":75823048,"question_id":46573452,"body_markdown":"Spent a few hours looking for a solution, and I found it.\r\n\r\nI had some Binary data. for example `0xab 0xa6 0xaa`\r\nI wanted my json to look like this:\r\n\r\n    {\r\n      &quot;binary-data-as-unicode&quot;: &quot;\\u00ab\\u00a6\\u00aa&quot;\r\n    }\r\n\r\nThe reader of this json would get rid of the `\\u00` and treat what&#39;s left as a hex string representing binary data.\r\n\r\nIn order to use jackson ObjectMapper, I prepared a String object with my formatted unicode notation string of hex data:\r\n\r\n    public static String toHexString(ByteArrayOutputStream stream) {\r\n        byte[] byteArray = stream.toByteArray();\r\n        StringBuilder hexString = new StringBuilder();\r\n        for (byte b : byteArray) {\r\n            hexString.append(String.format(&quot;\\\\u%04X&quot;, b &amp; 0xFF));\r\n        }\r\n        return String.format(&quot;\\&quot;%s\\&quot;&quot;, hexString.toString());\r\n    }\r\n\r\nThen, I used:\r\n\r\n    // stream of type ByteArrayOutputStream\r\n    String unicodedString = toHexString(stream);\r\n    ObjectNode objNode = mapper.createObjectNode();\r\n    objNode.putRawValue(&quot;field-name&quot;, new RawValue(unicodedString));\r\n\r\nThis way, there was no further escaping, and I got what I wanted.","title":"How to prevent ObjectMapper from converting escaped unicode?","body":"<p>Spent a few hours looking for a solution, and I found it.</p>\n<p>I had some Binary data. for example <code>0xab 0xa6 0xaa</code>\nI wanted my json to look like this:</p>\n<pre><code>{\n  &quot;binary-data-as-unicode&quot;: &quot;\\u00ab\\u00a6\\u00aa&quot;\n}\n</code></pre>\n<p>The reader of this json would get rid of the <code>\\u00</code> and treat what's left as a hex string representing binary data.</p>\n<p>In order to use jackson ObjectMapper, I prepared a String object with my formatted unicode notation string of hex data:</p>\n<pre><code>public static String toHexString(ByteArrayOutputStream stream) {\n    byte[] byteArray = stream.toByteArray();\n    StringBuilder hexString = new StringBuilder();\n    for (byte b : byteArray) {\n        hexString.append(String.format(&quot;\\\\u%04X&quot;, b &amp; 0xFF));\n    }\n    return String.format(&quot;\\&quot;%s\\&quot;&quot;, hexString.toString());\n}\n</code></pre>\n<p>Then, I used:</p>\n<pre><code>// stream of type ByteArrayOutputStream\nString unicodedString = toHexString(stream);\nObjectNode objNode = mapper.createObjectNode();\nobjNode.putRawValue(&quot;field-name&quot;, new RawValue(unicodedString));\n</code></pre>\n<p>This way, there was no further escaping, and I got what I wanted.</p>\n"}],"owner":{"account_id":1002968,"reputation":2073,"user_id":1017413,"accept_rate":16,"display_name":"user1017413"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14208,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1679574771,"creation_date":1507148205,"question_id":46573452,"body_markdown":"I&#39;m using Jackson 2.4 in Java to do some JSON legwork. I make a call to a remote server with Apache HttpGet, deserialize the results with Jackson into a POJO, manipulate those results, and then serialize them with Jackson to push back to a remote server with HttpPost. \r\n\r\nThe issue I&#39;m finding is that Jackson is translating unicode literals into unicode characters, which I need it not to do thanks to encoding issues on each end. For example, I might have this in the JSON:\r\n\r\n    &quot;field1&quot;: &quot;\\u00a2&quot;\r\n\r\nBut Jackson is converting the &quot;\\u00a2&quot; to &quot;&#162;&quot; when it&#39;s deserialized, which causes problems with the remote server. It has to be maintained as escaped unicode. If I use something like Apache EntityUtils (specifying UTF-8) or even make the call from my web browser to get the data, the escaped unicode is preserved, so I know that it&#39;s coming in properly from the server. If I have Jackson consume the input stream from the entity on the response, it does the conversion automatically.\r\n\r\nI&#39;ve tried writing with a JsonGenerator that is explicitly set to UTF-8 to write to the HttpPost. It didn&#39;t work, remote server still rejected it. I&#39;ve dug through the configuration options for ObjectMapper and JsonParser, but I don&#39;t see anything that would override this behavior. Escaping non-ASCII, sure, but that&#39;s not what I need to do here. Maybe I&#39;m missing something obvious, but I can&#39;t get Jackson to deserialize this string without replacing the escaped unicode.\r\n\r\nEDIT: Well, my bad, the only literals having problems have 3 or 5 leading slashes, not just one. That&#39;s some screwiness, but Java seems to be what&#39;s unpacking it by default during the deserialization, even if the raw text that came back from the server preserves it. Still not sure how to get Java to preserve this without checking an insane amount of text.","title":"How to prevent ObjectMapper from converting escaped unicode?","body":"<p>I'm using Jackson 2.4 in Java to do some JSON legwork. I make a call to a remote server with Apache HttpGet, deserialize the results with Jackson into a POJO, manipulate those results, and then serialize them with Jackson to push back to a remote server with HttpPost. </p>\n\n<p>The issue I'm finding is that Jackson is translating unicode literals into unicode characters, which I need it not to do thanks to encoding issues on each end. For example, I might have this in the JSON:</p>\n\n<pre><code>\"field1\": \"\\u00a2\"\n</code></pre>\n\n<p>But Jackson is converting the \"\\u00a2\" to \"¢\" when it's deserialized, which causes problems with the remote server. It has to be maintained as escaped unicode. If I use something like Apache EntityUtils (specifying UTF-8) or even make the call from my web browser to get the data, the escaped unicode is preserved, so I know that it's coming in properly from the server. If I have Jackson consume the input stream from the entity on the response, it does the conversion automatically.</p>\n\n<p>I've tried writing with a JsonGenerator that is explicitly set to UTF-8 to write to the HttpPost. It didn't work, remote server still rejected it. I've dug through the configuration options for ObjectMapper and JsonParser, but I don't see anything that would override this behavior. Escaping non-ASCII, sure, but that's not what I need to do here. Maybe I'm missing something obvious, but I can't get Jackson to deserialize this string without replacing the escaped unicode.</p>\n\n<p>EDIT: Well, my bad, the only literals having problems have 3 or 5 leading slashes, not just one. That's some screwiness, but Java seems to be what's unpacking it by default during the deserialization, even if the raw text that came back from the server preserves it. Still not sure how to get Java to preserve this without checking an insane amount of text.</p>\n"},{"tags":["java","shared-libraries","oracle-sqldeveloper","manjaro"],"comments":[{"owner":{"account_id":529084,"reputation":20905,"user_id":1156452,"display_name":"thatjeffsmith"},"score":2,"creation_date":1675346026,"post_id":75319884,"comment_id":132912215,"body_markdown":"FYI the product is setup to be ran with Oracle JDK, and doesn&#39;t technically support OpenJDK.","body":"FYI the product is setup to be ran with Oracle JDK, and doesn&#39;t technically support OpenJDK."},{"owner":{"account_id":2970554,"reputation":3932,"user_id":2522681,"accept_rate":75,"display_name":"Michael Lang"},"score":0,"creation_date":1676391817,"post_id":75319884,"comment_id":133125847,"body_markdown":"@thatjeffsmith I now tested the same with Oracle JDK 19. It was installed from the AUR (https://aur.archlinux.org/packages/jdk). It yields the same problem! The only difference is the undefined symbol is now `undefined symbol: ipv6_available`.","body":"@thatjeffsmith I now tested the same with Oracle JDK 19. It was installed from the AUR (<a href=\"https://aur.archlinux.org/packages/jdk\" rel=\"nofollow noreferrer\">aur.archlinux.org/packages/jdk</a>). It yields the same problem! The only difference is the undefined symbol is now <code>undefined symbol: ipv6_available</code>."},{"owner":{"account_id":529084,"reputation":20905,"user_id":1156452,"display_name":"thatjeffsmith"},"score":0,"creation_date":1676392649,"post_id":75319884,"comment_id":133126109,"body_markdown":"well we dont support 19 either, it&#39;s oracle java 11, that what we test for, and distribute for windows and macs","body":"well we dont support 19 either, it&#39;s oracle java 11, that what we test for, and distribute for windows and macs"},{"owner":{"account_id":2970554,"reputation":3932,"user_id":2522681,"accept_rate":75,"display_name":"Michael Lang"},"score":0,"creation_date":1676443434,"post_id":75319884,"comment_id":133135547,"body_markdown":"@thatjeffsmith thanks for the clarification! Unfortunately, it&#39;s exactly the same problem with Oracle JDK11. `jdk-11.0.17_linux-x64_bin.tar.gz` downloaded manually from oracle.com trying to reference `libjvm.so` that it can&#39;t locate in the `lib/server` directory without explicitly setting the `LD_LIBRARY_PATH`.","body":"@thatjeffsmith thanks for the clarification! Unfortunately, it&#39;s exactly the same problem with Oracle JDK11. <code>jdk-11.0.17_linux-x64_bin.tar.gz</code> downloaded manually from oracle.com trying to reference <code>libjvm.so</code> that it can&#39;t locate in the <code>lib&#47;server</code> directory without explicitly setting the <code>LD_LIBRARY_PATH</code>."},{"owner":{"account_id":529084,"reputation":20905,"user_id":1156452,"display_name":"thatjeffsmith"},"score":0,"creation_date":1676474366,"post_id":75319884,"comment_id":133144407,"body_markdown":"do we know your java is a valid home? Can you for example start sqlcl (it&#39;s the sql.sh in your sqldeveloper/bin) directory. From a cmd prompt, just run sql /nolog . Then if that gets you a prompt, run &#39;show java&#39; . Is it using the same home you think SQLDev is ?","body":"do we know your java is a valid home? Can you for example start sqlcl (it&#39;s the sql.sh in your sqldeveloper/bin) directory. From a cmd prompt, just run sql /nolog . Then if that gets you a prompt, run &#39;show java&#39; . Is it using the same home you think SQLDev is ?"},{"owner":{"account_id":2970554,"reputation":3932,"user_id":2522681,"accept_rate":75,"display_name":"Michael Lang"},"score":0,"creation_date":1676645751,"post_id":75319884,"comment_id":133184725,"body_markdown":"@thatjeffsmith No, I cannot start it as my default jdk installation is openjdk8. This is required by my daily business and the reason that I&#39;ve used `SetJavaHome` in `product.conf`. `JAVA_HOME` is not explicitly set. Is there anything else that you&#39;d relate to &quot;a valid home&quot;?","body":"@thatjeffsmith No, I cannot start it as my default jdk installation is openjdk8. This is required by my daily business and the reason that I&#39;ve used <code>SetJavaHome</code> in <code>product.conf</code>. <code>JAVA_HOME</code> is not explicitly set. Is there anything else that you&#39;d relate to &quot;a valid home&quot;?"},{"owner":{"account_id":529084,"reputation":20905,"user_id":1156452,"display_name":"thatjeffsmith"},"score":0,"creation_date":1678452787,"post_id":75319884,"comment_id":133539929,"body_markdown":"we don&#39;t support openJDK, esp openJDK 8 - i would expect problems","body":"we don&#39;t support openJDK, esp openJDK 8 - i would expect problems"}],"answers":[{"comments":[{"owner":{"account_id":2970554,"reputation":3932,"user_id":2522681,"accept_rate":75,"display_name":"Michael Lang"},"score":0,"creation_date":1676391812,"post_id":75441451,"comment_id":133125844,"body_markdown":"I now tested the same with Oracle JDK 19. It was installed from the AUR (https://aur.archlinux.org/packages/jdk). It yields the same problem! The only difference is the undefined symbol is now `undefined symbol: ipv6_available`.","body":"I now tested the same with Oracle JDK 19. It was installed from the AUR (<a href=\"https://aur.archlinux.org/packages/jdk\" rel=\"nofollow noreferrer\">aur.archlinux.org/packages/jdk</a>). It yields the same problem! The only difference is the undefined symbol is now <code>undefined symbol: ipv6_available</code>."}],"tags":[],"owner":{"account_id":173785,"reputation":930,"user_id":402723,"display_name":"Raul Lapeira Herrero"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676324463,"creation_date":1676324463,"answer_id":75441451,"question_id":75319884,"body_markdown":"As @thatjeffsmith has commented I would not expect SQLDeveloper to work 100% with OpenJDK (even if Oracle says so).\r\n\r\nAbout your specific scenario the only answer I can think of is having scripts (think of catalina.sh or catalina.bat) to specify diferent locations for that specific environment variable (LD_LIBRARY_PATH). This is not a Java problem, but more a specific JNI problem, which needs to be solved under the JVM (as opposed to IN the JVM).\r\n","title":"Oracle SQL Developer is missing libjvm.so","body":"<p>As @thatjeffsmith has commented I would not expect SQLDeveloper to work 100% with OpenJDK (even if Oracle says so).</p>\n<p>About your specific scenario the only answer I can think of is having scripts (think of catalina.sh or catalina.bat) to specify diferent locations for that specific environment variable (LD_LIBRARY_PATH). This is not a Java problem, but more a specific JNI problem, which needs to be solved under the JVM (as opposed to IN the JVM).</p>\n"},{"tags":[],"owner":{"account_id":7727733,"reputation":35,"user_id":6142737,"display_name":"Lu&#237;s Aur&#233;lio"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1676649152,"creation_date":1676642646,"answer_id":75485294,"question_id":75319884,"body_markdown":"On my Manjaro installation, i&#39;ve set the environment variables:\r\n\r\n`export JAVA_HOME=/usr/lib/jvm/default`\r\n\r\n`export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/lib/jvm/default/lib/server`\r\n\r\nI set the variables appointing to the `default` symlink, to appoint to default JVM set from the `archlinux-java` program. Before set this variables, the Oracle SQL Developer has opened normally.\r\n\r\n---\r\n\r\nFrom the .desktop file, other change is necessary. To do this, you can use the `menulibre` to edit the Oracle SQL Developer SQL Entry. In the command field (equivalent to the line which starts from `Exec=` text), change to the below line:\r\n\r\n`env LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/lib/jvm/default/lib/server /usr/bin/oracle-sqldeveloper`\r\n\r\n---\r\n\r\nMy solution is derived from the &#39;drslmr&#39; solution to fix the Eclipse installation: https://aur.archlinux.org/packages/eclipse-java#news","title":"Oracle SQL Developer is missing libjvm.so","body":"<p>On my Manjaro installation, i've set the environment variables:</p>\n<p><code>export JAVA_HOME=/usr/lib/jvm/default</code></p>\n<p><code>export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/lib/jvm/default/lib/server</code></p>\n<p>I set the variables appointing to the <code>default</code> symlink, to appoint to default JVM set from the <code>archlinux-java</code> program. Before set this variables, the Oracle SQL Developer has opened normally.</p>\n<hr />\n<p>From the .desktop file, other change is necessary. To do this, you can use the <code>menulibre</code> to edit the Oracle SQL Developer SQL Entry. In the command field (equivalent to the line which starts from <code>Exec=</code> text), change to the below line:</p>\n<p><code>env LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/usr/lib/jvm/default/lib/server /usr/bin/oracle-sqldeveloper</code></p>\n<hr />\n<p>My solution is derived from the 'drslmr' solution to fix the Eclipse installation: <a href=\"https://aur.archlinux.org/packages/eclipse-java#news\" rel=\"nofollow noreferrer\">https://aur.archlinux.org/packages/eclipse-java#news</a></p>\n"},{"tags":[],"owner":{"account_id":2970554,"reputation":3932,"user_id":2522681,"accept_rate":75,"display_name":"Michael Lang"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679574764,"creation_date":1679574764,"answer_id":75823044,"question_id":75319884,"body_markdown":"I&#39;ll leave my final solution here for reference in case anyone else also stumbles across that issue:\r\n\r\nOracle SQLDeveloper, at least on arch installations, also requires the [java11-openjfx][1] package. The `PKGBUILD` file even says so and lists it as an optional dependency. So all that was left to do after installing that was to reference the proper (on my system non-default) JDK installation to use in the `product.conf`:\r\n\r\n`SetJavaHome /usr/lib/jvm/java-11-jdk`\r\n\r\n  [1]: https://archlinux.org/packages/extra/x86_64/java11-openjfx/","title":"Oracle SQL Developer is missing libjvm.so","body":"<p>I'll leave my final solution here for reference in case anyone else also stumbles across that issue:</p>\n<p>Oracle SQLDeveloper, at least on arch installations, also requires the <a href=\"https://archlinux.org/packages/extra/x86_64/java11-openjfx/\" rel=\"nofollow noreferrer\">java11-openjfx</a> package. The <code>PKGBUILD</code> file even says so and lists it as an optional dependency. So all that was left to do after installing that was to reference the proper (on my system non-default) JDK installation to use in the <code>product.conf</code>:</p>\n<p><code>SetJavaHome /usr/lib/jvm/java-11-jdk</code></p>\n"}],"owner":{"account_id":2970554,"reputation":3932,"user_id":2522681,"accept_rate":75,"display_name":"Michael Lang"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":681,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":75823044,"answer_count":3,"score":2,"last_activity_date":1679574764,"creation_date":1675322849,"question_id":75319884,"body_markdown":"I am trying to run `Oracle SQL Developer 22.2.1` under `Manjaro 22.0.1` using `openjdk version &quot;17.0.6&quot; 2023-01-17`. For debugging purposes, I have experimented with and yielded the same results using `openjdk version &quot;11.0.18&quot; 2023-01-17`. Both have been installed using `pacman`from the official arch repositories (`jre17-openjdk` and `jre11-openjdk` respectively).\r\n\r\nThis resulted in the following error:\r\n\r\n```\r\n&gt; oracle-sqldeveloper\r\nError occurred during initialization of boot layer\r\njava.lang.UnsatisfiedLinkError: /usr/lib/jvm/java-17-openjdk/lib/libnio.so: /usr/lib/jvm/java-17-openjdk/lib/libnio.so: undefined symbol: reuseport_available\r\n```\r\n\r\nInspecting `libnio.so` more closely, the culprit seems to actually be `libjvm.so`:\r\n\r\n```\r\n&gt; ldd /usr/lib/jvm/java-17-openjdk/lib/libnio.so                                                                                                                                                                         \r\n        linux-vdso.so.1 (0x00007ffe0f1d7000)\r\n        libjava.so =&gt; /usr/lib/jvm/java-17-openjdk/lib/libjava.so (0x00007f7354ce7000)\r\n        libnet.so =&gt; /usr/lib/jvm/java-17-openjdk/lib/libnet.so (0x00007f7354ccf000)\r\n        libc.so.6 =&gt; /usr/lib/libc.so.6 (0x00007f7354abb000)\r\n        /usr/lib64/ld-linux-x86-64.so.2 (0x00007f7354d23000)\r\n        libjvm.so =&gt; not found\r\n        libjvm.so =&gt; not found\r\n```\r\n\r\nThis is in turn located under `/usr/lib/jvm/java-17-openjdk/lib/server/libjvm.so`. A bit of research [here][1] and [there][2] yields setting the `LD_LIBRARY_PATH` as a potential solution. And indeed, by doing so, the application starts just fine!\r\n\r\n**Now finally on to my actual questions:**\r\n * Is this some problem with my JDK installation and those links are supposed to work out-of-the-box?\r\n * I am regularly working with 2-3 different JDK installations (openjdk and GraalVM 8, 11 and 17). How would I best set the `LD_LIBRARY_PATH` for those different versions that each have their own `lib` directories?\r\n\r\nCurrently, I am only facing the problems with SQL Developer. I have already explicitly set the Java version to use in `~/.sqldeveloper/22.2.1/product.conf`. Maybe there would also be a possibility to supply the library path in there? Using `-Djava.library.path` did not work so far.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/60414619/java-symbol-lookup-error-usr-lib64-jvm-java-11-openjdk-11-lib-libnio-so-undef\r\n  [2]: https://anhqle.github.io/rstudio-cannot-load-rjava-in-ubuntu/","title":"Oracle SQL Developer is missing libjvm.so","body":"<p>I am trying to run <code>Oracle SQL Developer 22.2.1</code> under <code>Manjaro 22.0.1</code> using <code>openjdk version &quot;17.0.6&quot; 2023-01-17</code>. For debugging purposes, I have experimented with and yielded the same results using <code>openjdk version &quot;11.0.18&quot; 2023-01-17</code>. Both have been installed using <code>pacman</code>from the official arch repositories (<code>jre17-openjdk</code> and <code>jre11-openjdk</code> respectively).</p>\n<p>This resulted in the following error:</p>\n<pre><code>&gt; oracle-sqldeveloper\nError occurred during initialization of boot layer\njava.lang.UnsatisfiedLinkError: /usr/lib/jvm/java-17-openjdk/lib/libnio.so: /usr/lib/jvm/java-17-openjdk/lib/libnio.so: undefined symbol: reuseport_available\n</code></pre>\n<p>Inspecting <code>libnio.so</code> more closely, the culprit seems to actually be <code>libjvm.so</code>:</p>\n<pre><code>&gt; ldd /usr/lib/jvm/java-17-openjdk/lib/libnio.so                                                                                                                                                                         \n        linux-vdso.so.1 (0x00007ffe0f1d7000)\n        libjava.so =&gt; /usr/lib/jvm/java-17-openjdk/lib/libjava.so (0x00007f7354ce7000)\n        libnet.so =&gt; /usr/lib/jvm/java-17-openjdk/lib/libnet.so (0x00007f7354ccf000)\n        libc.so.6 =&gt; /usr/lib/libc.so.6 (0x00007f7354abb000)\n        /usr/lib64/ld-linux-x86-64.so.2 (0x00007f7354d23000)\n        libjvm.so =&gt; not found\n        libjvm.so =&gt; not found\n</code></pre>\n<p>This is in turn located under <code>/usr/lib/jvm/java-17-openjdk/lib/server/libjvm.so</code>. A bit of research <a href=\"https://stackoverflow.com/questions/60414619/java-symbol-lookup-error-usr-lib64-jvm-java-11-openjdk-11-lib-libnio-so-undef\">here</a> and <a href=\"https://anhqle.github.io/rstudio-cannot-load-rjava-in-ubuntu/\" rel=\"nofollow noreferrer\">there</a> yields setting the <code>LD_LIBRARY_PATH</code> as a potential solution. And indeed, by doing so, the application starts just fine!</p>\n<p><strong>Now finally on to my actual questions:</strong></p>\n<ul>\n<li>Is this some problem with my JDK installation and those links are supposed to work out-of-the-box?</li>\n<li>I am regularly working with 2-3 different JDK installations (openjdk and GraalVM 8, 11 and 17). How would I best set the <code>LD_LIBRARY_PATH</code> for those different versions that each have their own <code>lib</code> directories?</li>\n</ul>\n<p>Currently, I am only facing the problems with SQL Developer. I have already explicitly set the Java version to use in <code>~/.sqldeveloper/22.2.1/product.conf</code>. Maybe there would also be a possibility to supply the library path in there? Using <code>-Djava.library.path</code> did not work so far.</p>\n"},{"tags":["java","rabbitmq","throughput"],"owner":{"account_id":2889926,"reputation":27,"user_id":2478955,"display_name":"user2478955"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679574696,"creation_date":1679574696,"question_id":75823037,"body_markdown":"I have a service, which receive messages via queu rabbitmq and then sends it via rest to another system. The external system have some limitations (for example 50 messages per seconds). So, I need to set this limitation on our service side (if it is possible on rabbitmq side) \r\n I have only one idea to store messages in database, and before receiving from queue compare it with throughput and if it is greater send it to queue again.\r\nProbably someone solve similar task - would be helpfull. Thanks!","title":"RabbitMq java how to decrease throughput","body":"<p>I have a service, which receive messages via queu rabbitmq and then sends it via rest to another system. The external system have some limitations (for example 50 messages per seconds). So, I need to set this limitation on our service side (if it is possible on rabbitmq side)\nI have only one idea to store messages in database, and before receiving from queue compare it with throughput and if it is greater send it to queue again.\nProbably someone solve similar task - would be helpfull. Thanks!</p>\n"},{"tags":["java","keycloak","quarkus","rest-client","keycloak-spi"],"answers":[{"tags":[],"owner":{"account_id":14777499,"reputation":319,"user_id":10671944,"display_name":"Abdulraqeeb M."},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679574435,"creation_date":1679574435,"answer_id":75822991,"question_id":75813851,"body_markdown":"I found a field called ==&gt; &quot;json&quot; \r\nturns out it is the request body.\r\n","title":"Is there a way to set RequestBody when sending http request using SimpleHttp (org.keycloak.broker.provider.util.SimpleHttp)?","body":"<p>I found a field called ==&gt; &quot;json&quot;\nturns out it is the request body.</p>\n"}],"owner":{"account_id":14777499,"reputation":319,"user_id":10671944,"display_name":"Abdulraqeeb M."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":366,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679574627,"creation_date":1679496869,"question_id":75813851,"body_markdown":"My question is :\r\n\r\nIs there a way to set RequestBody when sending http request using SimpleHttp (org.keycloak.broker.provider.util.SimpleHttp)?\r\n\r\n\r\nWhy I am using SimpleHttp?\r\n\r\nI am writing a custom service provider (SPI) to be plugged in Keycloak version 20.0.0.\r\nI need to use any rest client to send HTTP requests, but I encountered lots of difficulties doing so thanks to the new Quarkus-based version of Keycloak.\r\n\r\nAfter a lot of searches, this [post ](https://keycloak.discourse.group/t/trying-to-send-http-rest-request-from-keycloak-x-user-storage-spi-to-an-external-api/15325/2)form Keycloak community was helpful. it suggests using SimpleHttp utility which does not require any external libraries.\r\n \r\n\r\n\r\n\r\n\r\nTried resteasy-client before SimpleHttp\r\nExpected the same behavior on the previous Keycloak version, but it is now different, you need to mention all external libraries in META-INF/services. but even this is not working. (reateasy is no longer included with the new codebase) \r\n\r\nThis is why I started looking for different rest clients.\r\n","title":"Is there a way to set RequestBody when sending http request using SimpleHttp (org.keycloak.broker.provider.util.SimpleHttp)?","body":"<p>My question is :</p>\n<p>Is there a way to set RequestBody when sending http request using SimpleHttp (org.keycloak.broker.provider.util.SimpleHttp)?</p>\n<p>Why I am using SimpleHttp?</p>\n<p>I am writing a custom service provider (SPI) to be plugged in Keycloak version 20.0.0.\nI need to use any rest client to send HTTP requests, but I encountered lots of difficulties doing so thanks to the new Quarkus-based version of Keycloak.</p>\n<p>After a lot of searches, this <a href=\"https://keycloak.discourse.group/t/trying-to-send-http-rest-request-from-keycloak-x-user-storage-spi-to-an-external-api/15325/2\" rel=\"nofollow noreferrer\">post </a>form Keycloak community was helpful. it suggests using SimpleHttp utility which does not require any external libraries.</p>\n<p>Tried resteasy-client before SimpleHttp\nExpected the same behavior on the previous Keycloak version, but it is now different, you need to mention all external libraries in META-INF/services. but even this is not working. (reateasy is no longer included with the new codebase)</p>\n<p>This is why I started looking for different rest clients.</p>\n"},{"tags":["java","eclipse-plugin","smbj"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1679576471,"post_id":75822817,"comment_id":133748425,"body_markdown":"Show us the MANIFEST.MF and the build.properties","body":"Show us the MANIFEST.MF and the build.properties"},{"owner":{"account_id":11283898,"reputation":27,"user_id":8275264,"display_name":"jrao"},"score":0,"creation_date":1679578268,"post_id":75822817,"comment_id":133748913,"body_markdown":"your previous comment of starting eclipse with -clean option actually helped. I don&#39;t see the problem anymore.","body":"your previous comment of starting eclipse with -clean option actually helped. I don&#39;t see the problem anymore."}],"owner":{"account_id":11283898,"reputation":27,"user_id":8275264,"display_name":"jrao"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679573313,"creation_date":1679573313,"question_id":75822817,"body_markdown":"I am developing an eclipse plugin. Within the plugin I have to access files in the shared drive, for that I&#39;m using SMBJ java library. I have downloaded the jar and its dependencies from [here](https://jar-download.com/artifact-search/smbj) and included it in the build path. I have checked if the library is included in .classpath file, in bundle class path in MANIFEST.MF and in build.properties.\r\n\r\nIn order to test the plugin in Test Environment, I am exporting the plugin as &#39;Deployable Plugins and Fragments&#39; (the exported jar also contains the libraries added) and including the jar in plugins folder of eclipse, but plugin complians that it cannot find the class during runtime.","title":"java.lang.ClassNotFoundException: com.hierynomus.smbj.SMBClient cannot be found","body":"<p>I am developing an eclipse plugin. Within the plugin I have to access files in the shared drive, for that I'm using SMBJ java library. I have downloaded the jar and its dependencies from <a href=\"https://jar-download.com/artifact-search/smbj\" rel=\"nofollow noreferrer\">here</a> and included it in the build path. I have checked if the library is included in .classpath file, in bundle class path in MANIFEST.MF and in build.properties.</p>\n<p>In order to test the plugin in Test Environment, I am exporting the plugin as 'Deployable Plugins and Fragments' (the exported jar also contains the libraries added) and including the jar in plugins folder of eclipse, but plugin complians that it cannot find the class during runtime.</p>\n"},{"tags":["java","cxf","server-sent-events"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679573437,"post_id":75819197,"comment_id":133747541,"body_markdown":"Given the 4.0.0 javadoc seem to be entirely missing from the site, I wonder if that documentation is for 3.5 or even an older version.","body":"Given the 4.0.0 javadoc seem to be entirely missing from the site, I wonder if that documentation is for 3.5 or even an older version."}],"owner":{"account_id":3106126,"reputation":31281,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679573248,"creation_date":1679544787,"question_id":75819197,"body_markdown":"I am using Apache CXF `implementation &#39;org.apache.cxf:cxf-rt-rs-client:4.0.0&#39;` to do a SSE client connection using Java 11. This is what my code looks like:\r\n\r\n```java\r\npublic SseEmitter askStream(AskRequest request) {\r\n    final SseEmitter emitter = new SseEmitter();\r\n    Client client = ClientBuilder.newClient();\r\n    WebTarget target = client.target(&quot;https://chat.example.top/v1/completions&quot;);\r\n    try (SseEventSource source = SseEventSource.target(target).build()) {\r\n        source.register((inboundSseEvent) -&gt; serverDataHandler(inboundSseEvent, emitter));\r\n        source.open();\r\n    }\r\n    return emitter;\r\n}\r\n```\r\n\r\nNow, I want to set the header for the SSE client connection. I have read the [official document][1] and found how to add header like this (actually it is a SOAP header):\r\n\r\n```java\r\n//client side:\r\n((BindingProvider)proxy).getRequestContext().put(Header.HEADER_LIST, headers);\r\n```\r\n\r\nHowever, this way does not seem to work in 4.0.0. How to add header for the SSE connection?\r\n\r\n\r\n  [1]: https://cxf.apache.org/faq.html#FAQ-HowcanIaddsoapheaderstotherequest/response?","title":"How to set HTTP header for Apache CXF when using SSE connection","body":"<p>I am using Apache CXF <code>implementation 'org.apache.cxf:cxf-rt-rs-client:4.0.0'</code> to do a SSE client connection using Java 11. This is what my code looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public SseEmitter askStream(AskRequest request) {\n    final SseEmitter emitter = new SseEmitter();\n    Client client = ClientBuilder.newClient();\n    WebTarget target = client.target(&quot;https://chat.example.top/v1/completions&quot;);\n    try (SseEventSource source = SseEventSource.target(target).build()) {\n        source.register((inboundSseEvent) -&gt; serverDataHandler(inboundSseEvent, emitter));\n        source.open();\n    }\n    return emitter;\n}\n</code></pre>\n<p>Now, I want to set the header for the SSE client connection. I have read the <a href=\"https://cxf.apache.org/faq.html#FAQ-HowcanIaddsoapheaderstotherequest/response?\" rel=\"nofollow noreferrer\">official document</a> and found how to add header like this (actually it is a SOAP header):</p>\n<pre class=\"lang-java prettyprint-override\"><code>//client side:\n((BindingProvider)proxy).getRequestContext().put(Header.HEADER_LIST, headers);\n</code></pre>\n<p>However, this way does not seem to work in 4.0.0. How to add header for the SSE connection?</p>\n"},{"tags":["java","spring","zip"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679475341,"post_id":75810078,"comment_id":133726997,"body_markdown":"Instead of a `FileOutputStream`, you should be able to use an output stream directly to the recipient (or a `ByteArrayOutputStream` to hold it in memory first, but I wouldn&#39;t recommend that). For example, using a `StreamingResponseBody`","body":"Instead of a <code>FileOutputStream</code>, you should be able to use an output stream directly to the recipient (or a <code>ByteArrayOutputStream</code> to hold it in memory first, but I wouldn&#39;t recommend that). For example, using a <code>StreamingResponseBody</code>"},{"owner":{"account_id":4094046,"reputation":1930,"user_id":3361335,"accept_rate":15,"display_name":"fresko"},"score":0,"creation_date":1679475693,"post_id":75810078,"comment_id":133727096,"body_markdown":"thanks for your answer: why you don&#39;t recommend that?","body":"thanks for your answer: why you don&#39;t recommend that?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679476492,"post_id":75810078,"comment_id":133727305,"body_markdown":"It wasn&#39;t an answer, but a comment hinting at a solution direction. Any case, I don&#39;t recommend using `ByteArrayOutputStream`, because if your zipfile is very large, it can consume a lot of memory (more than twice the actual file size, because when you obtain the data from it, it copies it. In addition, for extremely large zipfiles (&gt; 2GiB), it wouldn&#39;t even work because of maximum array sizes.","body":"It wasn&#39;t an answer, but a comment hinting at a solution direction. Any case, I don&#39;t recommend using <code>ByteArrayOutputStream</code>, because if your zipfile is very large, it can consume a lot of memory (more than twice the actual file size, because when you obtain the data from it, it copies it. In addition, for extremely large zipfiles (&gt; 2GiB), it wouldn&#39;t even work because of maximum array sizes."}],"answers":[{"comments":[{"owner":{"account_id":4094046,"reputation":1930,"user_id":3361335,"accept_rate":15,"display_name":"fresko"},"score":0,"creation_date":1679478873,"post_id":75810435,"comment_id":133727872,"body_markdown":"Thank you. Under certain conditions, I should not return any file, but `ResponseEntity.noContent();` . Where could I set that different response value?","body":"Thank you. Under certain conditions, I should not return any file, but <code>ResponseEntity.noContent();</code> . Where could I set that different response value?"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1679484915,"post_id":75810435,"comment_id":133729388,"body_markdown":"@fresko If those conditions are met, you can set the status in the response - `response.setStatus(204);` and then don&#39;t write to the output stream.","body":"@fresko If those conditions are met, you can set the status in the response - <code>response.setStatus(204);</code> and then don&#39;t write to the output stream."},{"owner":{"account_id":4094046,"reputation":1930,"user_id":3361335,"accept_rate":15,"display_name":"fresko"},"score":0,"creation_date":1679495648,"post_id":75810435,"comment_id":133732612,"body_markdown":"Chaosfire: everything seems OK (but I still have to test that). Last question, the zip file that will be returned does not have a name set. `String resultFile` is not used and I cannot access to a set method for the name","body":"Chaosfire: everything seems OK (but I still have to test that). Last question, the zip file that will be returned does not have a name set. <code>String resultFile</code> is not used and I cannot access to a set method for the name"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1679496930,"post_id":75810435,"comment_id":133733044,"body_markdown":"@fresko You need to set the content disposition header - `response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=&quot;.concat(resultFile));`","body":"@fresko You need to set the content disposition header - <code>response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=&quot;.concat(resultFile));</code>"}],"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":4,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1679573028,"creation_date":1679477339,"answer_id":75810435,"question_id":75810078,"body_markdown":"You can wrap the response stream in `ZipOutputStream` and write directly to it. Just add `HttpServletResponse` as method parameter and spring will provide you with it.\r\n```\r\n@PostMapping(value = &quot;/requireZip&quot;)\r\npublic void zipRequired(HttpServletResponse response) {\r\n  if (some condition) {\r\n    response.setStatus(204);\r\n    return;\r\n  }\r\n  String theFolder = &quot;/my/path/&quot;;\r\n  String resultFile = theFolder+&quot;FILES-list.zip&quot;;   //the container-zip file\r\n  //set name of the download file\r\n  response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=&quot; + resultFile);\r\n  try (ZipOutputStream zipOut = new ZipOutputStream(response.getOutputStream());) {\r\n    for (FileData aFile : fileList) {  //  collect the files to the result zip file\r\n      File fileToZip = new File(theFolder + aFile.getName());\r\n      zipOut.putNextEntry(new ZipEntry(fileToZip.getName()));\r\n      Files.copy(fileToZip.toPath(), zipOut);//easier copying, assuming java 7+\r\n    }\r\n  }\r\n  catch (IOException e) {\r\n    throw new RuntimeException(e);\r\n  }\r\n}\r\n```","title":"Create a zip file and send to client without saving it on server","body":"<p>You can wrap the response stream in <code>ZipOutputStream</code> and write directly to it. Just add <code>HttpServletResponse</code> as method parameter and spring will provide you with it.</p>\n<pre><code>@PostMapping(value = &quot;/requireZip&quot;)\npublic void zipRequired(HttpServletResponse response) {\n  if (some condition) {\n    response.setStatus(204);\n    return;\n  }\n  String theFolder = &quot;/my/path/&quot;;\n  String resultFile = theFolder+&quot;FILES-list.zip&quot;;   //the container-zip file\n  //set name of the download file\n  response.setHeader(&quot;Content-Disposition&quot;, &quot;attachment;filename=&quot; + resultFile);\n  try (ZipOutputStream zipOut = new ZipOutputStream(response.getOutputStream());) {\n    for (FileData aFile : fileList) {  //  collect the files to the result zip file\n      File fileToZip = new File(theFolder + aFile.getName());\n      zipOut.putNextEntry(new ZipEntry(fileToZip.getName()));\n      Files.copy(fileToZip.toPath(), zipOut);//easier copying, assuming java 7+\n    }\n  }\n  catch (IOException e) {\n    throw new RuntimeException(e);\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":4094046,"reputation":1930,"user_id":3361335,"accept_rate":15,"display_name":"fresko"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75810435,"answer_count":1,"score":0,"last_activity_date":1679573028,"creation_date":1679475059,"question_id":75810078,"body_markdown":"I have a Java server application (Java + Spring). Actually, when required this application (1) creates a zip file by collecting files from a directory, (2) saves this file on the hard disk, and (3) sends the result file to the client who required that.\r\n\r\nQuestion: How could I skip the saving step (2), and send directly the zipFile without saving it on the hard disk?\r\n\r\nIn this way I will save some resources and I also don&#39;t need to &quot;clean&quot; the hard disk.\r\n\r\nThank you\r\n\r\nNOTES: \r\nThe creation of the ZIP file is as following:\r\n\r\n```\r\n    @PostMapping(value = &quot;/requireZip&quot;)\r\n    public ResponseEntity zipRequired() {\r\n    //SOMETHING BEFORE\r\n\r\n        if( aConditionIsFalse ) {\r\n            return ResponseEntity.noContent().build();\r\n        } //else create and return a zip file\r\n\r\n        String theFolder = &quot;/my/path/&quot;;\r\n        String resultFile = theFolder+&quot;FILES-list.zip&quot;;   //the container-zip file\r\n        try {\r\n            FileOutputStream fos = new FileOutputStream(resultFile);\r\n            ZipOutputStream zipOut = new ZipOutputStream(fos);\r\n            for (FileData aFile : fileList) {  //  collect the files to the result zip file\r\n                File fileToZip = new File(theFolder + aFile.getName());\r\n\r\n                FileInputStream fis = new FileInputStream(fileToZip);\r\n                zipOut.putNextEntry(new ZipEntry(fileToZip.getName()));\r\n\r\n                byte[] bytes = new byte[1024];\r\n                int length;\r\n                while((length = fis.read(bytes)) &gt;= 0) {\r\n                    zipOut.write(bytes, 0, length);\r\n                }\r\n                fis.close();\r\n            }\r\n            zipOut.close();\r\n            fos.close();\r\n        }\r\n         catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n        // Read the file just saved on the disk, then return it\r\n        FileSystemResource file = new FileSystemResource(resultFile);\r\n        return ResponseEntity.ok().headers(headers).body(file);\r\n    }\r\n```","title":"Create a zip file and send to client without saving it on server","body":"<p>I have a Java server application (Java + Spring). Actually, when required this application (1) creates a zip file by collecting files from a directory, (2) saves this file on the hard disk, and (3) sends the result file to the client who required that.</p>\n<p>Question: How could I skip the saving step (2), and send directly the zipFile without saving it on the hard disk?</p>\n<p>In this way I will save some resources and I also don't need to &quot;clean&quot; the hard disk.</p>\n<p>Thank you</p>\n<p>NOTES:\nThe creation of the ZIP file is as following:</p>\n<pre><code>    @PostMapping(value = &quot;/requireZip&quot;)\n    public ResponseEntity zipRequired() {\n    //SOMETHING BEFORE\n\n        if( aConditionIsFalse ) {\n            return ResponseEntity.noContent().build();\n        } //else create and return a zip file\n\n        String theFolder = &quot;/my/path/&quot;;\n        String resultFile = theFolder+&quot;FILES-list.zip&quot;;   //the container-zip file\n        try {\n            FileOutputStream fos = new FileOutputStream(resultFile);\n            ZipOutputStream zipOut = new ZipOutputStream(fos);\n            for (FileData aFile : fileList) {  //  collect the files to the result zip file\n                File fileToZip = new File(theFolder + aFile.getName());\n\n                FileInputStream fis = new FileInputStream(fileToZip);\n                zipOut.putNextEntry(new ZipEntry(fileToZip.getName()));\n\n                byte[] bytes = new byte[1024];\n                int length;\n                while((length = fis.read(bytes)) &gt;= 0) {\n                    zipOut.write(bytes, 0, length);\n                }\n                fis.close();\n            }\n            zipOut.close();\n            fos.close();\n        }\n         catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n        // Read the file just saved on the disk, then return it\n        FileSystemResource file = new FileSystemResource(resultFile);\n        return ResponseEntity.ok().headers(headers).body(file);\n    }\n</code></pre>\n"},{"tags":["java","ms-word","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":17721432,"reputation":11,"user_id":12866345,"display_name":"artyom pretkov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677437006,"creation_date":1677434606,"answer_id":75574007,"question_id":74793860,"body_markdown":"I think only way is to use xml when you create list. This is specification url. You need to see on **&lt;w:suff w:val=&quot;space&quot;/&gt;**\r\n [docx format][1]\r\n\r\n\r\n  [1]: http://officeopenxml.com/WPnumberingLvl.php\r\n\r\n  \r\nI use all these libs in maven, without last my sample didnt work.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n        &lt;version&gt;5.2.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n        &lt;version&gt;5.2.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n        &lt;artifactId&gt;poi-ooxml-full&lt;/artifactId&gt;\r\n        &lt;version&gt;5.2.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n  \r\nCode for create list:\r\nFirst sample (I didnt use it and maybe you will have to change some operators and add null checks and etc, and maybe someone will found a way to replace xml string for enum value with CTLevelSuffixImpl):\r\n\r\n    CTNumbering ctNumbering = CTNumbering.Factory.newInstance();\r\n    ctNumbering.getNumArray()[0].addNewLvlOverride().getLvl().setSuff(CTLevelSuffix.Factory.parse(&quot;&lt;w:suff w:val=\\\\\\&quot;nothing\\\\\\&quot; /&gt;&quot;));\r\n    XWPFNumbering numbering = document.getNumbering();\r\n    if (numbering == null)\r\n        numbering = document.createNumbering();\r\n\r\n    CTAbstractNum ctAbstractNum = ctNumbering.getAbstractNumArray()[0];\r\n    ctAbstractNum.addNewLvl();\r\n    XWPFAbstractNum xwpfAbstractNum = new XWPFAbstractNum(ctAbstractNum);\r\n    BigInteger abstractNumId = numbering.addAbstractNum(xwpfAbstractNum);\r\n    BigInteger numId = numbering.addNum(abstractNumId);\r\n\r\nSecond sample (I use it and it work correctly):\r\n\r\n    CTNumbering ctNumbering = CTNumbering.Factory.parse(&quot;&lt;w:abstractNum xmlns:w=\\&quot;http://schemas.openxmlformats.org/wordprocessingml/2006/main\\&quot; w:abstractNumId=\\&quot;0\\&quot;&gt;&quot;\r\n                + &quot;&lt;w:multiLevelType w:val=\\&quot;hybridMultilevel\\&quot;/&gt;&quot;\r\n                + &quot;&lt;w:lvl w:ilvl=\\&quot;0\\&quot;&gt;&lt;w:suff w:val=\\&quot;nothing\\&quot; /&gt;&lt;w:start w:val=\\&quot;&quot; + begin + &quot;\\&quot;/&gt;&lt;w:numFmt w:val=\\&quot;decimal\\&quot;/&gt;&lt;w:lvlText w:val=\\&quot;%1.\\&quot;/&gt;&lt;w:lvlJc w:val=\\&quot;left\\&quot;/&gt;&quot;\r\n                + &quot;&lt;w:pPr&gt; &lt;w:ind w:left=\\&quot;720\\&quot; w:hanging=\\&quot;360\\&quot;/&gt;&lt;/w:pPr&gt;&lt;w:rPr&gt; \\&quot;&lt;w:rFonts w:ascii=\\&quot;Times New Roman\\&quot; w:hAnsi=\\&quot;Times New Roman\\&quot;/&gt;\\&quot;+\\n&quot; +\r\n                &quot;            \\&quot; &lt;w:b&gt; &lt;/w:b&gt; &lt;w:sz w:val=\\&quot;&quot; + 14 * 2 + &quot;\\&quot;/&gt;&lt;w:szCs w:val=\\&quot;&quot; + 14 * 2 + &quot;\\&quot;/&gt;&lt;/w:rPr&gt;&lt;/w:lvl&gt; &lt;/w:abstractNum&gt;&quot;); // paste in method argument your xml string with modification for your list\r\n        XWPFNumbering numbering = document.getNumbering();\r\n        if (numbering == null)\r\n            numbering = document.createNumbering();\r\n        CTAbstractNum ctAbstractNum = ctNumbering.getAbstractNumArray()[0];\r\n        XWPFAbstractNum xwpfAbstractNum = new XWPFAbstractNum(ctAbstractNum);\r\n        BigInteger abstractNumId = numbering.addAbstractNum(xwpfAbstractNum);\r\n        BigInteger numId = numbering.addNum(abstractNumId);","title":"How to remove follow number after indent item in MS Word by using apache poi?","body":"<p>I think only way is to use xml when you create list. This is specification url. You need to see on <strong>&lt;w:suff w:val=&quot;space&quot;/&gt;</strong>\n<a href=\"http://officeopenxml.com/WPnumberingLvl.php\" rel=\"nofollow noreferrer\">docx format</a></p>\n<p>I use all these libs in maven, without last my sample didnt work.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi&lt;/artifactId&gt;\n    &lt;version&gt;5.2.3&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n    &lt;version&gt;5.2.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n    &lt;artifactId&gt;poi-ooxml-full&lt;/artifactId&gt;\n    &lt;version&gt;5.2.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Code for create list:\nFirst sample (I didnt use it and maybe you will have to change some operators and add null checks and etc, and maybe someone will found a way to replace xml string for enum value with CTLevelSuffixImpl):</p>\n<pre><code>CTNumbering ctNumbering = CTNumbering.Factory.newInstance();\nctNumbering.getNumArray()[0].addNewLvlOverride().getLvl().setSuff(CTLevelSuffix.Factory.parse(&quot;&lt;w:suff w:val=\\\\\\&quot;nothing\\\\\\&quot; /&gt;&quot;));\nXWPFNumbering numbering = document.getNumbering();\nif (numbering == null)\n    numbering = document.createNumbering();\n\nCTAbstractNum ctAbstractNum = ctNumbering.getAbstractNumArray()[0];\nctAbstractNum.addNewLvl();\nXWPFAbstractNum xwpfAbstractNum = new XWPFAbstractNum(ctAbstractNum);\nBigInteger abstractNumId = numbering.addAbstractNum(xwpfAbstractNum);\nBigInteger numId = numbering.addNum(abstractNumId);\n</code></pre>\n<p>Second sample (I use it and it work correctly):</p>\n<pre><code>CTNumbering ctNumbering = CTNumbering.Factory.parse(&quot;&lt;w:abstractNum xmlns:w=\\&quot;http://schemas.openxmlformats.org/wordprocessingml/2006/main\\&quot; w:abstractNumId=\\&quot;0\\&quot;&gt;&quot;\n            + &quot;&lt;w:multiLevelType w:val=\\&quot;hybridMultilevel\\&quot;/&gt;&quot;\n            + &quot;&lt;w:lvl w:ilvl=\\&quot;0\\&quot;&gt;&lt;w:suff w:val=\\&quot;nothing\\&quot; /&gt;&lt;w:start w:val=\\&quot;&quot; + begin + &quot;\\&quot;/&gt;&lt;w:numFmt w:val=\\&quot;decimal\\&quot;/&gt;&lt;w:lvlText w:val=\\&quot;%1.\\&quot;/&gt;&lt;w:lvlJc w:val=\\&quot;left\\&quot;/&gt;&quot;\n            + &quot;&lt;w:pPr&gt; &lt;w:ind w:left=\\&quot;720\\&quot; w:hanging=\\&quot;360\\&quot;/&gt;&lt;/w:pPr&gt;&lt;w:rPr&gt; \\&quot;&lt;w:rFonts w:ascii=\\&quot;Times New Roman\\&quot; w:hAnsi=\\&quot;Times New Roman\\&quot;/&gt;\\&quot;+\\n&quot; +\n            &quot;            \\&quot; &lt;w:b&gt; &lt;/w:b&gt; &lt;w:sz w:val=\\&quot;&quot; + 14 * 2 + &quot;\\&quot;/&gt;&lt;w:szCs w:val=\\&quot;&quot; + 14 * 2 + &quot;\\&quot;/&gt;&lt;/w:rPr&gt;&lt;/w:lvl&gt; &lt;/w:abstractNum&gt;&quot;); // paste in method argument your xml string with modification for your list\n    XWPFNumbering numbering = document.getNumbering();\n    if (numbering == null)\n        numbering = document.createNumbering();\n    CTAbstractNum ctAbstractNum = ctNumbering.getAbstractNumArray()[0];\n    XWPFAbstractNum xwpfAbstractNum = new XWPFAbstractNum(ctAbstractNum);\n    BigInteger abstractNumId = numbering.addAbstractNum(xwpfAbstractNum);\n    BigInteger numId = numbering.addNum(abstractNumId);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2563687,"reputation":11,"user_id":2224297,"display_name":"moryakovdv"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679572733,"creation_date":1679572733,"answer_id":75822710,"question_id":74793860,"body_markdown":"The following code seems to work for me with pretty-old POI v3.17 and ooxml-schemas v1.4\r\n\r\npom:\r\n```xml\r\n    &lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.17&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;ooxml-schemas&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.4&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;poi-ooxml-schemas&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.17&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.17&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;poi-scratchpad&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.17&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n```\r\njava:\r\n```java    \r\n    CTAbstractNum cTAbstractNum = CTAbstractNum.Factory.newInstance();\r\n\tcTAbstractNum.setAbstractNumId(BigInteger.valueOf(c));\r\n    \r\n\tCTLvl cTLvl = cTAbstractNum.addNewLvl();\r\n\tcTLvl.addNewNumFmt().setVal(STNumberFormat.DECIMAL);\r\n\tcTLvl.addNewLvlText().setVal(&quot;%1.&quot;);\r\n\tcTLvl.addNewStart().setVal(BigInteger.valueOf(1));\r\n\tcTLvl.setIlvl(BigInteger.valueOf(0)); \r\n    \r\n\tCTLevelSuffix sfx = CTLevelSuffix.Factory.newInstance();\r\n\tsfx.setVal(STLevelSuffix.NOTHING);\r\n\tcTLvl.setSuff(sfx);\r\n    \r\n    XWPFAbstractNum abstractNum = new XWPFAbstractNum(cTAbstractNum);\r\n\tXWPFNumbering numbering = document.createNumbering();\t\r\n\tBigInteger abstractNumID = numbering.addAbstractNum(abstractNum);\r\n\tBigInteger numID = numbering.addNum(abstractNumID); //set it to paragraph\r\n```","title":"How to remove follow number after indent item in MS Word by using apache poi?","body":"<p>The following code seems to work for me with pretty-old POI v3.17 and ooxml-schemas v1.4</p>\n<p>pom:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi&lt;/artifactId&gt;\n        &lt;version&gt;3.17&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;ooxml-schemas&lt;/artifactId&gt;\n        &lt;version&gt;1.4&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-ooxml-schemas&lt;/artifactId&gt;\n        &lt;version&gt;3.17&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n        &lt;version&gt;3.17&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n        &lt;artifactId&gt;poi-scratchpad&lt;/artifactId&gt;\n        &lt;version&gt;3.17&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    CTAbstractNum cTAbstractNum = CTAbstractNum.Factory.newInstance();\n    cTAbstractNum.setAbstractNumId(BigInteger.valueOf(c));\n    \n    CTLvl cTLvl = cTAbstractNum.addNewLvl();\n    cTLvl.addNewNumFmt().setVal(STNumberFormat.DECIMAL);\n    cTLvl.addNewLvlText().setVal(&quot;%1.&quot;);\n    cTLvl.addNewStart().setVal(BigInteger.valueOf(1));\n    cTLvl.setIlvl(BigInteger.valueOf(0)); \n    \n    CTLevelSuffix sfx = CTLevelSuffix.Factory.newInstance();\n    sfx.setVal(STLevelSuffix.NOTHING);\n    cTLvl.setSuff(sfx);\n    \n    XWPFAbstractNum abstractNum = new XWPFAbstractNum(cTAbstractNum);\n    XWPFNumbering numbering = document.createNumbering();   \n    BigInteger abstractNumID = numbering.addAbstractNum(abstractNum);\n    BigInteger numID = numbering.addNum(abstractNumID); //set it to paragraph\n</code></pre>\n"}],"owner":{"account_id":5151465,"reputation":33,"user_id":4125968,"display_name":"Casper Liao"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679572733,"creation_date":1670994976,"question_id":74793860,"body_markdown":"I use the following code to generate List idents in MS Word\r\n\r\n```\r\nCTAbstractNum cTAbstractNum = CTAbstractNum.Factory.newInstance();\r\nCTLvl cTLvl = cTAbstractNum.addNewLvl();\r\n\r\ncTLvl.addNewNumFmt().setVal(STNumberFormat.CHINESE_COUNTING);\r\ncTLvl.addNewLvlText().setVal(&quot;%1、&quot;); \r\ncTLvl.addNewStart().setVal(BigInteger.valueOf(1)); \r\n\r\nCTInd cInd = cTLvl.addNewPPr().addNewInd();\r\ncInd.setLeft(BigInteger.valueOf(960 + 120)); \r\ncInd.setHanging(BigInteger.valueOf(360));\r\n```\r\n\r\nafter generated, it seems the indent with follow tab char by default\r\n[![enter image description here](https://i.stack.imgur.com/zwxYX.jpg)](https://i.stack.imgur.com/zwxYX.jpg)\r\n\r\n\r\n\r\nIs there any way to set Follow number with &quot;nothing&quot; by code ?","title":"How to remove follow number after indent item in MS Word by using apache poi?","body":"<p>I use the following code to generate List idents in MS Word</p>\n<pre><code>CTAbstractNum cTAbstractNum = CTAbstractNum.Factory.newInstance();\nCTLvl cTLvl = cTAbstractNum.addNewLvl();\n\ncTLvl.addNewNumFmt().setVal(STNumberFormat.CHINESE_COUNTING);\ncTLvl.addNewLvlText().setVal(&quot;%1、&quot;); \ncTLvl.addNewStart().setVal(BigInteger.valueOf(1)); \n\nCTInd cInd = cTLvl.addNewPPr().addNewInd();\ncInd.setLeft(BigInteger.valueOf(960 + 120)); \ncInd.setHanging(BigInteger.valueOf(360));\n</code></pre>\n<p>after generated, it seems the indent with follow tab char by default\n<a href=\"https://i.stack.imgur.com/zwxYX.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zwxYX.jpg\" alt=\"enter image description here\" /></a></p>\n<p>Is there any way to set Follow number with &quot;nothing&quot; by code ?</p>\n"},{"tags":["java","cron","quartz-scheduler","quartz"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1669101204,"post_id":74528244,"comment_id":131560695,"body_markdown":"&quot;it can&#39;t do what I want&quot; isn&#39;t going to help much - you might want to provide some details, e.g. what happens instead. The expression already seems to be on a good way - I&#39;d just have 2 observations: 1) instead of `MON-SUN` why not just `*` as it covers every day of the week? (and it might have to be `SUN-MON` in any case) 2) you seem to have forgotten to mention the year in the end - not sure if the scheduler is lenient enough to accept it that way.","body":"&quot;it can&#39;t do what I want&quot; isn&#39;t going to help much - you might want to provide some details, e.g. what happens instead. The expression already seems to be on a good way - I&#39;d just have 2 observations: 1) instead of <code>MON-SUN</code> why not just <code>*</code> as it covers every day of the week? (and it might have to be <code>SUN-MON</code> in any case) 2) you seem to have forgotten to mention the year in the end - not sure if the scheduler is lenient enough to accept it that way."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1669101265,"post_id":74528244,"comment_id":131560717,"body_markdown":"Finally, if the expression doesn&#39;t work you might want to share some more details on how you&#39;re using it and what you tried to confirm that other expressions work.","body":"Finally, if the expression doesn&#39;t work you might want to share some more details on how you&#39;re using it and what you tried to confirm that other expressions work."},{"owner":{"account_id":4831718,"reputation":1056,"user_id":3899765,"display_name":"Yonatan Karp-Rudin"},"score":0,"creation_date":1669144964,"post_id":74528244,"comment_id":131576514,"body_markdown":"More details are required, what is the current behavior, and how is that different from what you expect?","body":"More details are required, what is the current behavior, and how is that different from what you expect?"},{"owner":{"account_id":26134572,"reputation":29,"user_id":19824745,"display_name":"Daniel Lee"},"score":0,"creation_date":1669165137,"post_id":74528244,"comment_id":131581221,"body_markdown":"Updated my question and added working status now.","body":"Updated my question and added working status now."}],"answers":[{"tags":[],"owner":{"account_id":25144328,"reputation":162,"user_id":18990321,"display_name":"johann"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679572464,"creation_date":1669895154,"answer_id":74641370,"question_id":74528244,"body_markdown":"You could use two cron expressions to achieve what you want:\r\n\r\n1. `30 0-29 9 * * ?`\r\n\r\nExecutes every minute from 09:00:30 to 09:29:30\r\n\r\n~~~\r\nOutput\r\n\r\n09:00:30\r\n09:01:30\r\n09:02:30\r\n09:03:30\r\n09:04:30\r\n...\r\n09:29:30\r\n~~~\r\n\r\n2. `0 1-30 9 * * ?`\r\n\r\nExecutes every minute from 09:01:00 to 09:30:00\r\n\r\n~~~\r\nOutput\r\n\r\n09:01:00\r\n09:02:00\r\n09:03:00\r\n09:04:00\r\n09:05:00\r\n...\r\n09:30:00\r\n~~~","title":"start at 9:00:30 and every 30s execute cron?","body":"<p>You could use two cron expressions to achieve what you want:</p>\n<ol>\n<li><code>30 0-29 9 * * ?</code></li>\n</ol>\n<p>Executes every minute from 09:00:30 to 09:29:30</p>\n<pre><code>Output\n\n09:00:30\n09:01:30\n09:02:30\n09:03:30\n09:04:30\n...\n09:29:30\n</code></pre>\n<ol start=\"2\">\n<li><code>0 1-30 9 * * ?</code></li>\n</ol>\n<p>Executes every minute from 09:01:00 to 09:30:00</p>\n<pre><code>Output\n\n09:01:00\n09:02:00\n09:03:00\n09:04:00\n09:05:00\n...\n09:30:00\n</code></pre>\n"}],"owner":{"account_id":26134572,"reputation":29,"user_id":19824745,"display_name":"Daniel Lee"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":96,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1679572464,"creation_date":1669097911,"question_id":74528244,"body_markdown":"Is there a way to set it to start at 9:00:30 every morning, execute it every 30 seconds until 9:30:00 ?\r\n\r\n\r\n\r\n\r\nMy expression is ```30/30 0-30 9 ? * MON-SUN```, but it can&#39;t do what I want.\r\n\r\n--edit--\r\n\r\nIt is now from 9:00 to 9:30 and the schedule will be executed in 30 seconds\r\n```\r\n9:00:30 executed \r\n9:01:30 executed \r\n9:02:30 executed \r\n9:03:30 executed \r\n9:04:30 executed\r\n...\r\n...\r\n9:30:30 executed\r\n```\r\n-----------------------------------------------\r\nthe job I want\r\n```\r\n9:00:30 executed\r\n9:01:00 executed\r\n9:01:30 executed\r\n9:02:00 executed\r\n9:02:30 executed\r\n9:03:00 executed\r\n9:03:30 executed\r\n...\r\n...\r\n9:30:00 executed\r\n```\r\nPlease Help","title":"start at 9:00:30 and every 30s execute cron?","body":"<p>Is there a way to set it to start at 9:00:30 every morning, execute it every 30 seconds until 9:30:00 ?</p>\n<p>My expression is <code>30/30 0-30 9 ? * MON-SUN</code>, but it can't do what I want.</p>\n<p>--edit--</p>\n<p>It is now from 9:00 to 9:30 and the schedule will be executed in 30 seconds</p>\n<pre><code>9:00:30 executed \n9:01:30 executed \n9:02:30 executed \n9:03:30 executed \n9:04:30 executed\n...\n...\n9:30:30 executed\n</code></pre>\n<hr />\n<p>the job I want</p>\n<pre><code>9:00:30 executed\n9:01:00 executed\n9:01:30 executed\n9:02:00 executed\n9:02:30 executed\n9:03:00 executed\n9:03:30 executed\n...\n...\n9:30:00 executed\n</code></pre>\n<p>Please Help</p>\n"},{"tags":["java","spring-boot","telegram","telegram-bot"],"answers":[{"tags":[],"owner":{"account_id":17236275,"reputation":1,"user_id":13188516,"display_name":"megoRU"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679572380,"creation_date":1679572380,"answer_id":75822642,"question_id":74986452,"body_markdown":"I also wondered this question. I spent an hour to find a solution.\r\n\r\nHere is my solution:\r\n\r\nYou need to create Web Controller\r\n\r\n```\r\n@RestController\r\n@Validated\r\npublic class WebhookController {\r\n\r\n    private final WebhookBot webHookBot;\r\n\r\n    @Autowired\r\n    public WebhookController(WebhookBot webHookBot) {\r\n        this.webHookBot = webHookBot;\r\n    }\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public ResponseEntity&lt;?&gt; main() {\r\n        return ResponseEntity.status(HttpStatus.SERVICE_UNAVAILABLE).build();\r\n    }\r\n\r\n    @PostMapping(&quot;/callback&quot;)\r\n    public ResponseEntity&lt;?&gt; onUpdateReceived(@RequestBody Update update, @RequestHeader(HttpHeaders.TELEGRAM_SECRET_TOKEN) String secretToken) {\r\n        if (!secretToken.equals(Config.getSecretToken())) {\r\n            System.out.println(&quot;Кто-то попытался нас взломать :)&quot;);\r\n            return ResponseEntity.status(HttpStatus.BAD_REQUEST).build();\r\n        } else {\r\n            webHookBot.onWebhookUpdateReceived(update);\r\n            return ResponseEntity.status(HttpStatus.OK).build();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThen you need to do redo your WebhookBot class\r\n\r\n\r\n```\r\n@Service\r\npublic class WebhookBot extends TelegramWebhookBot {\r\n\r\n    private final UpdateController updateController;\r\n\r\n    @Autowired\r\n    public CoreBot(UpdateController updateController) throws TelegramApiException {\r\n        super(Config.getToken()); //Передаем токен Бота\r\n        this.updateController = updateController;\r\n        registerBot();\r\n    }\r\n\r\n    @Override\r\n    public BotApiMethod&lt;?&gt; onWebhookUpdateReceived(Update update) {\r\n        updateController.processUpdate(update);\r\n        return null;\r\n    }\r\n\r\n    @Override\r\n    public String getBotPath() {\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    private void registerBot() throws TelegramApiException {\r\n        SetWebhook setWebhook = SetWebhook.builder()\r\n                .url(Config.getWebhookUrl())\r\n                .secretToken(Config.getSecretToken())\r\n                .build();\r\n\r\n        Webhook webhook = new DefaultWebhook();\r\n        this.onRegister();\r\n        webhook.registerWebhook(this);\r\n        this.setWebhook(setWebhook);\r\n    }\r\n\r\n    @Override\r\n    public String getBotUsername() {\r\n        return Config.getUsername();\r\n    }\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n        updateController.registerBot(this);\r\n    }\r\n\r\n```\r\n\r\nI used my implementation a bit. But you can redo it for yourself. I hope my solution is a good practice\r\n\r\nLinks: https://github.com/pengrad/java-telegram-bot-api","title":"Telegram bot does not working via webhook in Java","body":"<p>I also wondered this question. I spent an hour to find a solution.</p>\n<p>Here is my solution:</p>\n<p>You need to create Web Controller</p>\n<pre><code>@RestController\n@Validated\npublic class WebhookController {\n\n    private final WebhookBot webHookBot;\n\n    @Autowired\n    public WebhookController(WebhookBot webHookBot) {\n        this.webHookBot = webHookBot;\n    }\n\n    @GetMapping(&quot;/&quot;)\n    public ResponseEntity&lt;?&gt; main() {\n        return ResponseEntity.status(HttpStatus.SERVICE_UNAVAILABLE).build();\n    }\n\n    @PostMapping(&quot;/callback&quot;)\n    public ResponseEntity&lt;?&gt; onUpdateReceived(@RequestBody Update update, @RequestHeader(HttpHeaders.TELEGRAM_SECRET_TOKEN) String secretToken) {\n        if (!secretToken.equals(Config.getSecretToken())) {\n            System.out.println(&quot;Кто-то попытался нас взломать :)&quot;);\n            return ResponseEntity.status(HttpStatus.BAD_REQUEST).build();\n        } else {\n            webHookBot.onWebhookUpdateReceived(update);\n            return ResponseEntity.status(HttpStatus.OK).build();\n        }\n    }\n}\n</code></pre>\n<p>Then you need to do redo your WebhookBot class</p>\n<pre><code>@Service\npublic class WebhookBot extends TelegramWebhookBot {\n\n    private final UpdateController updateController;\n\n    @Autowired\n    public CoreBot(UpdateController updateController) throws TelegramApiException {\n        super(Config.getToken()); //Передаем токен Бота\n        this.updateController = updateController;\n        registerBot();\n    }\n\n    @Override\n    public BotApiMethod&lt;?&gt; onWebhookUpdateReceived(Update update) {\n        updateController.processUpdate(update);\n        return null;\n    }\n\n    @Override\n    public String getBotPath() {\n        return &quot;&quot;;\n    }\n\n    private void registerBot() throws TelegramApiException {\n        SetWebhook setWebhook = SetWebhook.builder()\n                .url(Config.getWebhookUrl())\n                .secretToken(Config.getSecretToken())\n                .build();\n\n        Webhook webhook = new DefaultWebhook();\n        this.onRegister();\n        webhook.registerWebhook(this);\n        this.setWebhook(setWebhook);\n    }\n\n    @Override\n    public String getBotUsername() {\n        return Config.getUsername();\n    }\n\n    @PostConstruct\n    public void init() {\n        updateController.registerBot(this);\n    }\n\n</code></pre>\n<p>I used my implementation a bit. But you can redo it for yourself. I hope my solution is a good practice</p>\n<p>Links: <a href=\"https://github.com/pengrad/java-telegram-bot-api\" rel=\"nofollow noreferrer\">https://github.com/pengrad/java-telegram-bot-api</a></p>\n"}],"owner":{"account_id":11357788,"reputation":51,"user_id":8510521,"display_name":"Максат Орунханов"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":546,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679572380,"creation_date":1672688783,"question_id":74986452,"body_markdown":"I&#39;m creating telegram-bot. When I use longpolling-bot it works correct, but I can&#39;t create bot that works on webhooks - http-request don&#39;t reach endpoint that has been registered as webhook-url in telegram.\r\n\r\nFor local deployment I use ngrok application.\r\nI&#39;m trying to send POST-request using Postman, which simulates an http-request from telegram-server, but the requests don&#39;t reach the method `org.telegram.telegrambots.updatesreceivers.RestApi::updateReceived`\r\n\r\nThis is the code:\r\n\r\nbuild.gradle\r\n```\r\nplugins {\r\n    id &quot;java&quot;\r\n    id &quot;org.springframework.boot&quot; version &quot;3.0.1&quot;\r\n    id &quot;io.spring.dependency-management&quot; version &quot;1.1.0&quot;\r\n}\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    mavenLocal()\r\n}\r\n\r\n\r\ngroup &#39;com.example&#39;\r\nsourceCompatibility = JavaVersion.VERSION_17\r\n\r\ndef telegramBotVersion = &quot;6.3.0&quot;\r\n\r\ndependencies {\r\n\r\n    compileOnly &#39;org.projectlombok:lombok&#39;\r\n    annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n\r\n    implementation &#39;org.springframework.boot:spring-boot-starter&#39;\r\n\r\n    implementation &quot;org.telegram:telegrambots-spring-boot-starter:$telegramBotVersion&quot;\r\n    implementation &quot;org.telegram:telegrambotsextensions:$telegramBotVersion&quot;\r\n\r\n    implementation &#39;javax.ws.rs:javax.ws.rs-api:2.0-m08&#39;\r\n    implementation &#39;javax.xml.bind:jaxb-api:2.4.0-b180830.0359&#39;\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\npackage com.example.telegram.bot;\r\n\r\nimport com.example.telegram.service.TelegramService;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.telegram.telegrambots.extensions.bots.commandbot.TelegramWebhookCommandBot;\r\nimport org.telegram.telegrambots.meta.api.objects.Update;\r\n\r\n@Slf4j\r\npublic class WebhookBot extends TelegramWebhookCommandBot {\r\n\r\n    private final String name;\r\n\r\n    private final String token;\r\n\r\n    public WebhookBot(String name, String token) {\r\n        this.name = name;\r\n        this.token = token;\r\n    }\r\n\r\n    @Autowired\r\n    private TelegramService telegramService;\r\n\r\n    @Override\r\n    public String getBotUsername() {\r\n        return name;\r\n    }\r\n\r\n    @Override\r\n    public String getBotToken() {\r\n        return token;\r\n    }\r\n\r\n    @Override\r\n    public String getBotPath() {\r\n        return &quot;webhookurl&quot;;\r\n    }\r\n\r\n    @Override\r\n    public void processNonCommandUpdate(Update update) {\r\n        System.out.println(&quot;processNonCommandUpdate&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\n```\r\npackage com.example.telegram.config;\r\n\r\nimport com.example.telegram.bot.WebhookBot;\r\nimport lombok.extern.slf4j.Slf4j;\r\nimport org.springframework.beans.factory.annotation.Value;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.context.annotation.Profile;\r\nimport org.telegram.telegrambots.bots.TelegramWebhookBot;\r\nimport org.telegram.telegrambots.meta.TelegramBotsApi;\r\nimport org.telegram.telegrambots.meta.api.methods.updates.SetWebhook;\r\nimport org.telegram.telegrambots.meta.exceptions.TelegramApiException;\r\nimport org.telegram.telegrambots.meta.exceptions.TelegramApiRequestException;\r\nimport org.telegram.telegrambots.updatesreceivers.DefaultBotSession;\r\nimport org.telegram.telegrambots.updatesreceivers.DefaultWebhook;\r\n\r\n@Configuration\r\n@Profile(&quot;webhook&quot;)\r\n@Slf4j\r\npublic class WebHookBotConfig {\r\n\r\n    @Value(&quot;${telegram.bot.name}&quot;)\r\n    private String name; //bot-name\r\n\r\n    @Value(&quot;${telegram.bot.token}&quot;)\r\n    private String token; //bot-token\r\n\r\n    @Value(&quot;${telegram.bot.webhook.uri}&quot;)\r\n    private String webhookUri; // https://7b66-188-130-157-6.eu.ngrok.io/ for example\r\n\r\n    @Value(&quot;${telegram.bot.webhook.internalUrl}&quot;)\r\n    private String internalWebServerUrl; // http://localhost:8080\r\n\r\n\r\n    @Bean\r\n    public TelegramWebhookBot telegramWebhookBot() throws TelegramApiException {\r\n\r\n        DefaultWebhook defaultWebhook = new DefaultWebhook();\r\n        defaultWebhook.setInternalUrl(internalWebServerUrl);\r\n\r\n        TelegramBotsApi botsApi = new TelegramBotsApi(DefaultBotSession.class, defaultWebhook);\r\n\r\n        WebhookBot telegramBot = new WebhookBot(name, token);\r\n\r\n        SetWebhook setWebhook = new SetWebhook();\r\n        setWebhook.setUrl(webhookUri);\r\n\r\n        botsApi.registerBot(telegramBot, setWebhook);\r\n        \r\n        return telegramBot;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\n./ngrok http 8080\r\n```\r\n","title":"Telegram bot does not working via webhook in Java","body":"<p>I'm creating telegram-bot. When I use longpolling-bot it works correct, but I can't create bot that works on webhooks - http-request don't reach endpoint that has been registered as webhook-url in telegram.</p>\n<p>For local deployment I use ngrok application.\nI'm trying to send POST-request using Postman, which simulates an http-request from telegram-server, but the requests don't reach the method <code>org.telegram.telegrambots.updatesreceivers.RestApi::updateReceived</code></p>\n<p>This is the code:</p>\n<p>build.gradle</p>\n<pre><code>plugins {\n    id &quot;java&quot;\n    id &quot;org.springframework.boot&quot; version &quot;3.0.1&quot;\n    id &quot;io.spring.dependency-management&quot; version &quot;1.1.0&quot;\n}\n\nrepositories {\n    mavenCentral()\n    mavenLocal()\n}\n\n\ngroup 'com.example'\nsourceCompatibility = JavaVersion.VERSION_17\n\ndef telegramBotVersion = &quot;6.3.0&quot;\n\ndependencies {\n\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n\n    implementation 'org.springframework.boot:spring-boot-starter'\n\n    implementation &quot;org.telegram:telegrambots-spring-boot-starter:$telegramBotVersion&quot;\n    implementation &quot;org.telegram:telegrambotsextensions:$telegramBotVersion&quot;\n\n    implementation 'javax.ws.rs:javax.ws.rs-api:2.0-m08'\n    implementation 'javax.xml.bind:jaxb-api:2.4.0-b180830.0359'\n\n}\n\n</code></pre>\n<pre><code>package com.example.telegram.bot;\n\nimport com.example.telegram.service.TelegramService;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.telegram.telegrambots.extensions.bots.commandbot.TelegramWebhookCommandBot;\nimport org.telegram.telegrambots.meta.api.objects.Update;\n\n@Slf4j\npublic class WebhookBot extends TelegramWebhookCommandBot {\n\n    private final String name;\n\n    private final String token;\n\n    public WebhookBot(String name, String token) {\n        this.name = name;\n        this.token = token;\n    }\n\n    @Autowired\n    private TelegramService telegramService;\n\n    @Override\n    public String getBotUsername() {\n        return name;\n    }\n\n    @Override\n    public String getBotToken() {\n        return token;\n    }\n\n    @Override\n    public String getBotPath() {\n        return &quot;webhookurl&quot;;\n    }\n\n    @Override\n    public void processNonCommandUpdate(Update update) {\n        System.out.println(&quot;processNonCommandUpdate&quot;);\n    }\n}\n\n</code></pre>\n<pre><code>package com.example.telegram.config;\n\nimport com.example.telegram.bot.WebhookBot;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.context.annotation.Profile;\nimport org.telegram.telegrambots.bots.TelegramWebhookBot;\nimport org.telegram.telegrambots.meta.TelegramBotsApi;\nimport org.telegram.telegrambots.meta.api.methods.updates.SetWebhook;\nimport org.telegram.telegrambots.meta.exceptions.TelegramApiException;\nimport org.telegram.telegrambots.meta.exceptions.TelegramApiRequestException;\nimport org.telegram.telegrambots.updatesreceivers.DefaultBotSession;\nimport org.telegram.telegrambots.updatesreceivers.DefaultWebhook;\n\n@Configuration\n@Profile(&quot;webhook&quot;)\n@Slf4j\npublic class WebHookBotConfig {\n\n    @Value(&quot;${telegram.bot.name}&quot;)\n    private String name; //bot-name\n\n    @Value(&quot;${telegram.bot.token}&quot;)\n    private String token; //bot-token\n\n    @Value(&quot;${telegram.bot.webhook.uri}&quot;)\n    private String webhookUri; // https://7b66-188-130-157-6.eu.ngrok.io/ for example\n\n    @Value(&quot;${telegram.bot.webhook.internalUrl}&quot;)\n    private String internalWebServerUrl; // http://localhost:8080\n\n\n    @Bean\n    public TelegramWebhookBot telegramWebhookBot() throws TelegramApiException {\n\n        DefaultWebhook defaultWebhook = new DefaultWebhook();\n        defaultWebhook.setInternalUrl(internalWebServerUrl);\n\n        TelegramBotsApi botsApi = new TelegramBotsApi(DefaultBotSession.class, defaultWebhook);\n\n        WebhookBot telegramBot = new WebhookBot(name, token);\n\n        SetWebhook setWebhook = new SetWebhook();\n        setWebhook.setUrl(webhookUri);\n\n        botsApi.registerBot(telegramBot, setWebhook);\n        \n        return telegramBot;\n    }\n\n}\n\n</code></pre>\n<pre><code>./ngrok http 8080\n</code></pre>\n"},{"tags":["java","java-stream"],"answers":[{"comments":[{"owner":{"account_id":28092974,"reputation":21,"user_id":21462180,"display_name":"Kto Tam"},"score":0,"creation_date":1679555990,"post_id":75820048,"comment_id":133743394,"body_markdown":"thanks, it works\nStream&lt;Integer&gt; integerStream = Arrays.stream(students)\n                .flatMap(s -&gt; s.getMarks().values().stream())\n                .flatMap(Collection::stream);\n        integerStream.forEach(x -&gt; System.out.print(x + &quot; &quot;));","body":"thanks, it works Stream&lt;Integer&gt; integerStream = Arrays.stream(students)                 .flatMap(s -&gt; s.getMarks().values().stream())                 .flatMap(Collection::stream);         integerStream.forEach(x -&gt; System.out.print(x + &quot; &quot;));"}],"tags":[],"owner":{"account_id":6651855,"reputation":224850,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1679556461,"creation_date":1679555101,"answer_id":75820048,"question_id":75819990,"body_markdown":"You can `flatMap` twice. The intermediate `flatMap` flattens the stream to `Stream&lt;List&lt;Integer&gt;&gt;` - the scores of all students but grouped by subject.\r\n\r\n```\r\nStream&lt;Integer&gt; integerStream = Arrays.stream(students)\r\n    .flatMap(s -&gt; s.getMarks().values().stream()) // Stream&lt;List&lt;Integer&gt;&gt;\r\n    .flatMap(Collection::stream); // now flatten it again\r\n```","title":"Convert array Students to stream&lt;Integer&gt;","body":"<p>You can <code>flatMap</code> twice. The intermediate <code>flatMap</code> flattens the stream to <code>Stream&lt;List&lt;Integer&gt;&gt;</code> - the scores of all students but grouped by subject.</p>\n<pre><code>Stream&lt;Integer&gt; integerStream = Arrays.stream(students)\n    .flatMap(s -&gt; s.getMarks().values().stream()) // Stream&lt;List&lt;Integer&gt;&gt;\n    .flatMap(Collection::stream); // now flatten it again\n</code></pre>\n"}],"owner":{"account_id":28092974,"reputation":21,"user_id":21462180,"display_name":"Kto Tam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1679572123,"creation_date":1679554627,"question_id":75819990,"body_markdown":"How convert an array of students to Stream&lt;Integer&gt; all marks of all students?\r\n\r\n\r\n```\r\nMap&lt;String, List&lt;Integer&gt;&gt; markAnn = new HashMap&lt;&gt;();\r\nmarkAnn.put(&quot;Physics&quot;, List.of(4,4,5));\r\nmarkAnn.put(&quot;Mathematics&quot;, List.of(2,3,4));\r\n\r\nMap&lt;String, List&lt;Integer&gt;&gt; markKate = new HashMap&lt;&gt;();\r\nmarkKate.put(&quot;Physics&quot;, List.of(1,2,3));\r\nmarkKate.put(&quot;Mathematics&quot;, List.of(5,5,3));\r\n\r\nStudenT[] students = {new StudenT(&quot;Ann&quot;, markAnn),new StudenT(&quot;Kate&quot;, markKate)};\r\n```\r\n\r\n```\r\nclass Lesson6 {\r\n    public static void main(String[] args) {\r\n\r\n        Map&lt;String, List&lt;Integer&gt;&gt; markAnn = new HashMap&lt;&gt;();\r\n        markAnn.put(&quot;Physics&quot;, List.of(4,4,5));\r\n        markAnn.put(&quot;Mathematics&quot;, List.of(2,3,4));\r\n\r\n        Map&lt;String, List&lt;Integer&gt;&gt; markKate = new HashMap&lt;&gt;();\r\n        markKate.put(&quot;Physics&quot;, List.of(1,2,3));\r\n        markKate.put(&quot;Mathematics&quot;, List.of(5,5,3));\r\n\r\n        StudenT[] students = {new StudenT(&quot;Ann&quot;, markAnn),new StudenT(&quot;Kate&quot;, markKate)};\r\n        Stream&lt;Integer&gt; integerStream = Stream.of(students).map(StudenT::getMarks).flatMap()               \r\n\r\n    }\r\n}\r\n\r\nclass StudenT {\r\n\r\n    private String name;\r\n    private Map&lt;String, List&lt;Integer&gt;&gt; marks;\r\n\r\n     public StudenT(String name, Map&lt;String, List&lt;Integer&gt;&gt; marks) {\r\n         this.name = name;\r\n         this.marks = marks;\r\n     }\r\n\r\n     public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public Map&lt;String, List&lt;Integer&gt;&gt; getMarks() {\r\n        return marks;\r\n    }\r\n}\r\n```\r\n","title":"Convert array Students to stream&lt;Integer&gt;","body":"<p>How convert an array of students to Stream all marks of all students?</p>\n<pre><code>Map&lt;String, List&lt;Integer&gt;&gt; markAnn = new HashMap&lt;&gt;();\nmarkAnn.put(&quot;Physics&quot;, List.of(4,4,5));\nmarkAnn.put(&quot;Mathematics&quot;, List.of(2,3,4));\n\nMap&lt;String, List&lt;Integer&gt;&gt; markKate = new HashMap&lt;&gt;();\nmarkKate.put(&quot;Physics&quot;, List.of(1,2,3));\nmarkKate.put(&quot;Mathematics&quot;, List.of(5,5,3));\n\nStudenT[] students = {new StudenT(&quot;Ann&quot;, markAnn),new StudenT(&quot;Kate&quot;, markKate)};\n</code></pre>\n<pre><code>class Lesson6 {\n    public static void main(String[] args) {\n\n        Map&lt;String, List&lt;Integer&gt;&gt; markAnn = new HashMap&lt;&gt;();\n        markAnn.put(&quot;Physics&quot;, List.of(4,4,5));\n        markAnn.put(&quot;Mathematics&quot;, List.of(2,3,4));\n\n        Map&lt;String, List&lt;Integer&gt;&gt; markKate = new HashMap&lt;&gt;();\n        markKate.put(&quot;Physics&quot;, List.of(1,2,3));\n        markKate.put(&quot;Mathematics&quot;, List.of(5,5,3));\n\n        StudenT[] students = {new StudenT(&quot;Ann&quot;, markAnn),new StudenT(&quot;Kate&quot;, markKate)};\n        Stream&lt;Integer&gt; integerStream = Stream.of(students).map(StudenT::getMarks).flatMap()               \n\n    }\n}\n\nclass StudenT {\n\n    private String name;\n    private Map&lt;String, List&lt;Integer&gt;&gt; marks;\n\n     public StudenT(String name, Map&lt;String, List&lt;Integer&gt;&gt; marks) {\n         this.name = name;\n         this.marks = marks;\n     }\n\n     public String getName() {\n        return name;\n    }\n\n    public Map&lt;String, List&lt;Integer&gt;&gt; getMarks() {\n        return marks;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","xss"],"answers":[{"comments":[{"owner":{"account_id":21382922,"reputation":89,"user_id":15748526,"display_name":"coman"},"score":0,"creation_date":1679580388,"post_id":75822450,"comment_id":133749594,"body_markdown":"But I need to implement any of that filter class, or just defining them into web.xml is enough?","body":"But I need to implement any of that filter class, or just defining them into web.xml is enough?"}],"tags":[],"owner":{"account_id":18326048,"reputation":56,"user_id":13345659,"display_name":"Sunny Jaiswal"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679571170,"creation_date":1679571170,"answer_id":75822450,"question_id":75822294,"body_markdown":"IMHO these should be enough. The best way to know is to test it. Testing XSS vulnerability is quite easy. You may refer this [link](https://owasp.org/www-project-web-security-testing-guide/latest/4-Web_Application_Security_Testing/07-Input_Validation_Testing/01-Testing_for_Reflected_Cross_Site_Scripting). Please do make sure that you test the old application also to reproduce the issue and then verify that its fixed in the latest version.","title":"Prevent xss attack on spring","body":"<p>IMHO these should be enough. The best way to know is to test it. Testing XSS vulnerability is quite easy. You may refer this <a href=\"https://owasp.org/www-project-web-security-testing-guide/latest/4-Web_Application_Security_Testing/07-Input_Validation_Testing/01-Testing_for_Reflected_Cross_Site_Scripting\" rel=\"nofollow noreferrer\">link</a>. Please do make sure that you test the old application also to reproduce the issue and then verify that its fixed in the latest version.</p>\n"}],"owner":{"account_id":21382922,"reputation":89,"user_id":15748526,"display_name":"coman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":333,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679572057,"creation_date":1679570082,"question_id":75822294,"body_markdown":"\r\nIn my spring application I have some endpoints which are affected by xss vulnerability. I have been asked to fix this problem.\r\nThis is what I have done until now:\r\n\r\nIn web.xml I adedd as first:\r\n\r\n    &lt;context-param&gt;\r\n    &lt;param-name&gt;defaultHtmlEscape&lt;/param-name&gt;\r\n    &lt;param-value&gt;true&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n\r\nSecondly I added this filter:\r\n ```\r\n  &lt;filter&gt;\r\n    &lt;filter-name&gt;charEncodingFilter&lt;/filter-name&gt;\r\n    &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\r\n    &lt;init-param&gt;\r\n      &lt;javaee:param-name&gt;encoding&lt;/javaee:param-name&gt;\r\n      &lt;javaee:param-value&gt;UTF-8&lt;/javaee:param-value&gt;\r\n    &lt;/init-param&gt;\r\n    &lt;init-param&gt;\r\n      &lt;javaee:param-name&gt;forceEncoding&lt;/javaee:param-name&gt;\r\n      &lt;javaee:param-value&gt;true&lt;/javaee:param-value&gt;\r\n    &lt;/init-param&gt;\r\n  &lt;/filter&gt;\r\n  &lt;filter-mapping&gt;\r\n    &lt;filter-name&gt;charEncodingFilter&lt;/filter-name&gt;\r\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n  &lt;/filter-mapping&gt;\r\n ```\r\n\r\nAnd then I addedd xssFilter:\r\n\r\n ```\r\n  &lt;filter&gt; \r\n  \t&lt;filter-name&gt;XSSFilter&lt;/filter-name&gt;\r\n  \t&lt;filter-class&gt;com.cj.xss.XSSFilter&lt;/filter-class&gt;\r\n  &lt;/filter&gt;\r\n  &lt;filter-mapping&gt; \r\n  \t&lt;filter-name&gt;XSSFilter&lt;/filter-name&gt;\r\n  \t&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n  &lt;/filter-mapping&gt;\r\n ```\r\n\r\nand copied the xssflt.jar in WEB-INF/lib.\r\n\r\nNow I&#39;m asking can be this enough and the correct way to prevent xss?\r\nUnfortunatly we are using old version of spring-security (and we cannot update it cause this is a very legacy project) and we cannot implement CSP header. At the same time sanitize the user input is very hard for the nature of legacy code.\r\nCan you tell me if this is the right path to follow in order to protect my spring (no boot) application?","title":"Prevent xss attack on spring","body":"<p>In my spring application I have some endpoints which are affected by xss vulnerability. I have been asked to fix this problem.\nThis is what I have done until now:</p>\n<p>In web.xml I adedd as first:</p>\n<pre><code>&lt;context-param&gt;\n&lt;param-name&gt;defaultHtmlEscape&lt;/param-name&gt;\n&lt;param-value&gt;true&lt;/param-value&gt;\n&lt;/context-param&gt;\n</code></pre>\n<p>Secondly I added this filter:</p>\n<pre><code> &lt;filter&gt;\n   &lt;filter-name&gt;charEncodingFilter&lt;/filter-name&gt;\n   &lt;filter-class&gt;org.springframework.web.filter.CharacterEncodingFilter&lt;/filter-class&gt;\n   &lt;init-param&gt;\n     &lt;javaee:param-name&gt;encoding&lt;/javaee:param-name&gt;\n     &lt;javaee:param-value&gt;UTF-8&lt;/javaee:param-value&gt;\n   &lt;/init-param&gt;\n   &lt;init-param&gt;\n     &lt;javaee:param-name&gt;forceEncoding&lt;/javaee:param-name&gt;\n     &lt;javaee:param-value&gt;true&lt;/javaee:param-value&gt;\n   &lt;/init-param&gt;\n &lt;/filter&gt;\n &lt;filter-mapping&gt;\n   &lt;filter-name&gt;charEncodingFilter&lt;/filter-name&gt;\n   &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n &lt;/filter-mapping&gt;\n</code></pre>\n<p>And then I addedd xssFilter:</p>\n<pre><code> &lt;filter&gt; \n   &lt;filter-name&gt;XSSFilter&lt;/filter-name&gt;\n   &lt;filter-class&gt;com.cj.xss.XSSFilter&lt;/filter-class&gt;\n &lt;/filter&gt;\n &lt;filter-mapping&gt; \n   &lt;filter-name&gt;XSSFilter&lt;/filter-name&gt;\n   &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n &lt;/filter-mapping&gt;\n</code></pre>\n<p>and copied the xssflt.jar in WEB-INF/lib.</p>\n<p>Now I'm asking can be this enough and the correct way to prevent xss?\nUnfortunatly we are using old version of spring-security (and we cannot update it cause this is a very legacy project) and we cannot implement CSP header. At the same time sanitize the user input is very hard for the nature of legacy code.\nCan you tell me if this is the right path to follow in order to protect my spring (no boot) application?</p>\n"},{"tags":["java","performance","io","nfs"],"owner":{"account_id":1250833,"reputation":103,"user_id":1216437,"display_name":"ashishSinghT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679571836,"creation_date":1679571836,"question_id":75822564,"body_markdown":"I have a JSE application that writes files to a mountpoint in the network file system. The number of files created during the process can vary from 1 to 500,000. Each file varies in its size but on average it&#39;s 20KiB. Each file has a specific location, if the mountpoint is /etc/dir1 then file1 can be under /etc/dir1/dirX and file2 can be under /etc/dir1/dirY and so on.\r\n\r\nCurrently, I am checking the performance by calculating the write throughput like below:\r\n\r\n&#39;&#39;&#39; Total Data Transferred in MiB / Total Time Taken in Seconds &#39;&#39;&#39; \r\n\r\nHowever, this does not give consistent results. Current results show that the bandwidth throughput is inversely proportional to the number of files. Is there a better way to keep track of the performance than checking the throughput or is there a fault in the current calculation? I want to record the performance each time this tool is executed to keep track of the performance of NFS.","title":"How do I keep track of write performance to a network file system","body":"<p>I have a JSE application that writes files to a mountpoint in the network file system. The number of files created during the process can vary from 1 to 500,000. Each file varies in its size but on average it's 20KiB. Each file has a specific location, if the mountpoint is /etc/dir1 then file1 can be under /etc/dir1/dirX and file2 can be under /etc/dir1/dirY and so on.</p>\n<p>Currently, I am checking the performance by calculating the write throughput like below:</p>\n<p>''' Total Data Transferred in MiB / Total Time Taken in Seconds '''</p>\n<p>However, this does not give consistent results. Current results show that the bandwidth throughput is inversely proportional to the number of files. Is there a better way to keep track of the performance than checking the throughput or is there a fault in the current calculation? I want to record the performance each time this tool is executed to keep track of the performance of NFS.</p>\n"},{"tags":["java","android","react-native","react-native-reanimated"],"owner":{"account_id":12687682,"reputation":742,"user_id":9218897,"display_name":"Preetika"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679571563,"creation_date":1679571563,"question_id":75822525,"body_markdown":"Upgraded to version: &quot;react-native-reanimated&quot;: &quot;^3.0.2&quot; with New Architecture for react native 0.71.3\r\n\r\nGetting the issue java.lang.NullPointerException: Here is the complete log:\r\n\r\n```\r\njava.lang.NullPointerException: Attempt to invoke virtual method &#39;void com.swmansion.reanimated.NativeProxy.performOperations()&#39; on a null object reference\r\n\tat com.swmansion.reanimated.NodesManager.performOperations(NodesManager.java:188)\r\n\tat com.swmansion.reanimated.NodesManager.onAnimationFrame(NodesManager.java:249)\r\n\tat com.swmansion.reanimated.NodesManager.access$000(NodesManager.java:42)\r\n\tat com.swmansion.reanimated.NodesManager$1.doFrameGuarded(NodesManager.java:142)\r\n\tat com.facebook.react.uimanager.GuardedFrameCallback.doFrame(GuardedFrameCallback.java:29)\r\n\tat com.facebook.react.modules.core.ReactChoreographer$ReactChoreographerDispatcher.doFrame(ReactChoreographer.java:175)\r\n\tat com.facebook.react.modules.core.ChoreographerCompat$FrameCallback$1.doFrame(ChoreographerCompat.java:85)\r\n\tat android.view.Choreographer$CallbackRecord.run(Choreographer.java:1127)\r\n\tat android.view.Choreographer.doCallbacks(Choreographer.java:926)\r\n\tat android.view.Choreographer.doFrame(Choreographer.java:835)\r\n\tat android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:1114)\r\n\tat android.os.Handler.handleCallback(Handler.java:938)\r\n\tat android.os.Handler.dispatchMessage(Handler.java:99)\r\n\tat android.os.Looper.loopOnce(Looper.java:210)\r\n\tat android.os.Looper.loop(Looper.java:299)\r\n\tat android.app.ActivityThread.main(ActivityThread.java:8298)\r\n\tat java.lang.reflect.Method.invoke(Native Method)\r\n\tat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:576)\r\n\tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1073)has context menuComposeParagraph\r\n```\r\n","title":"React native New Arch: Attempt to invoke virtual method &#39;void com.swmansion.reanimated.NativeProxy.performOperations()&#39;","body":"<p>Upgraded to version: &quot;react-native-reanimated&quot;: &quot;^3.0.2&quot; with New Architecture for react native 0.71.3</p>\n<p>Getting the issue java.lang.NullPointerException: Here is the complete log:</p>\n<pre><code>java.lang.NullPointerException: Attempt to invoke virtual method 'void com.swmansion.reanimated.NativeProxy.performOperations()' on a null object reference\n    at com.swmansion.reanimated.NodesManager.performOperations(NodesManager.java:188)\n    at com.swmansion.reanimated.NodesManager.onAnimationFrame(NodesManager.java:249)\n    at com.swmansion.reanimated.NodesManager.access$000(NodesManager.java:42)\n    at com.swmansion.reanimated.NodesManager$1.doFrameGuarded(NodesManager.java:142)\n    at com.facebook.react.uimanager.GuardedFrameCallback.doFrame(GuardedFrameCallback.java:29)\n    at com.facebook.react.modules.core.ReactChoreographer$ReactChoreographerDispatcher.doFrame(ReactChoreographer.java:175)\n    at com.facebook.react.modules.core.ChoreographerCompat$FrameCallback$1.doFrame(ChoreographerCompat.java:85)\n    at android.view.Choreographer$CallbackRecord.run(Choreographer.java:1127)\n    at android.view.Choreographer.doCallbacks(Choreographer.java:926)\n    at android.view.Choreographer.doFrame(Choreographer.java:835)\n    at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:1114)\n    at android.os.Handler.handleCallback(Handler.java:938)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loopOnce(Looper.java:210)\n    at android.os.Looper.loop(Looper.java:299)\n    at android.app.ActivityThread.main(ActivityThread.java:8298)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:576)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1073)has context menuComposeParagraph\n</code></pre>\n"},{"tags":["java","html","spring-boot","networking","thymeleaf"],"comments":[{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1679572638,"post_id":75822474,"comment_id":133747331,"body_markdown":"Take a look at [WebSockets](https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API) for one possible option. Spring has support for WebSockets (you can search for various tutorials).","body":"Take a look at <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API\" rel=\"nofollow noreferrer\">WebSockets</a> for one possible option. Spring has support for WebSockets (you can search for various tutorials)."},{"owner":{"account_id":15189062,"reputation":1,"user_id":10960164,"display_name":"DomePB"},"score":0,"creation_date":1679598036,"post_id":75822474,"comment_id":133754604,"body_markdown":"I have added a Websocket and now i can send the moves played trough the console to the other player but im not quite sure how i use this to set the field. I dont know how i can access the move method for example.","body":"I have added a Websocket and now i can send the moves played trough the console to the other player but im not quite sure how i use this to set the field. I dont know how i can access the move method for example."},{"owner":{"account_id":12743722,"reputation":19966,"user_id":12567365,"display_name":"andrewJames"},"score":0,"creation_date":1679599418,"post_id":75822474,"comment_id":133754922,"body_markdown":"You can ask a new, specific question describing this new, specific problem (with a new [mre]).","body":"You can ask a new, specific question describing this new, specific problem (with a new <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>)."}],"owner":{"account_id":15189062,"reputation":1,"user_id":10960164,"display_name":"DomePB"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679571284,"creation_date":1679571284,"question_id":75822474,"body_markdown":"I am coding a little Chess game and if i move a piece i want it to change on all Users Websites which it does but only after refreshing the page. How do i automatically refresh or send the Move directly to different Users?\r\n\r\n```\r\npackage com.example.handandbrainchess;\r\n\r\nimport com.example.handandbrainchess.Service.ApplicationService;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\n\r\n@Controller\r\npublic class WebController {\r\n\r\n    private final ApplicationService service;\r\n    private Integer moveRow1;\r\n    private Integer moveRow2;\r\n    private Integer moveColumn1;\r\n    private Integer moveColumn2;\r\n    public WebController(ApplicationService service) {\r\n        this.service = service;\r\n    }\r\n\r\n    @GetMapping(&quot;/&quot;)\r\n    public String index(Model m){\r\n        m.addAttribute(&quot;Feld&quot;,service.getFeld());\r\n        return &quot;start&quot;;\r\n    }\r\n    @GetMapping(&quot;/move&quot;)\r\n    public String move(Model m, @RequestParam(&quot;idrow&quot;) int idrow, @RequestParam(&quot;idcolumn&quot;) int idcolumn){\r\n      //  System.out.println(&quot;Reihe: &quot; + idrow + &quot; Spalte: &quot;+ idcolumn);\r\n      //  m.addAttribute(&quot;Feld&quot;,service.getFeld());\r\n        if(moveRow1 == null){\r\n            moveRow1 = idrow;\r\n        }\r\n        else if(moveRow2 == null){\r\n            moveRow2 = idrow;\r\n        }\r\n        if(moveColumn1 == null){\r\n            moveColumn1 = idcolumn;\r\n        }else if(moveColumn2 == null){\r\n            moveColumn2 = idcolumn;\r\n        }\r\n        if(moveRow2 != null &amp;&amp; moveColumn2 != null){\r\n            service.move(moveRow1,moveColumn1,moveRow2,moveColumn2); //after this refresh\r\n            moveRow1 = null;\r\n            moveRow2 = null;\r\n            moveColumn1 = null;\r\n            moveColumn2= null;\r\n        }\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/&quot;)\r\n    public String init(){\r\n        service.init();\r\n        return &quot;redirect:/&quot;;\r\n    }\r\n}\r\n```\r\nThis is currently my Controller and after /move when service.move gets called i want it to refresh.\r\n\r\nIts my first Project with Spring Boot and HttpServelt in general.\r\nSo i dont really know what i can try to do.","title":"Spring Boot with Thymeleaf: Is there a Way to refresh page automaticly for different User? (Or send Data from Endpoint to Endpoint)","body":"<p>I am coding a little Chess game and if i move a piece i want it to change on all Users Websites which it does but only after refreshing the page. How do i automatically refresh or send the Move directly to different Users?</p>\n<pre><code>package com.example.handandbrainchess;\n\nimport com.example.handandbrainchess.Service.ApplicationService;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.ui.Model;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestParam;\n\n@Controller\npublic class WebController {\n\n    private final ApplicationService service;\n    private Integer moveRow1;\n    private Integer moveRow2;\n    private Integer moveColumn1;\n    private Integer moveColumn2;\n    public WebController(ApplicationService service) {\n        this.service = service;\n    }\n\n    @GetMapping(&quot;/&quot;)\n    public String index(Model m){\n        m.addAttribute(&quot;Feld&quot;,service.getFeld());\n        return &quot;start&quot;;\n    }\n    @GetMapping(&quot;/move&quot;)\n    public String move(Model m, @RequestParam(&quot;idrow&quot;) int idrow, @RequestParam(&quot;idcolumn&quot;) int idcolumn){\n      //  System.out.println(&quot;Reihe: &quot; + idrow + &quot; Spalte: &quot;+ idcolumn);\n      //  m.addAttribute(&quot;Feld&quot;,service.getFeld());\n        if(moveRow1 == null){\n            moveRow1 = idrow;\n        }\n        else if(moveRow2 == null){\n            moveRow2 = idrow;\n        }\n        if(moveColumn1 == null){\n            moveColumn1 = idcolumn;\n        }else if(moveColumn2 == null){\n            moveColumn2 = idcolumn;\n        }\n        if(moveRow2 != null &amp;&amp; moveColumn2 != null){\n            service.move(moveRow1,moveColumn1,moveRow2,moveColumn2); //after this refresh\n            moveRow1 = null;\n            moveRow2 = null;\n            moveColumn1 = null;\n            moveColumn2= null;\n        }\n        return &quot;redirect:/&quot;;\n    }\n\n    @PostMapping(&quot;/&quot;)\n    public String init(){\n        service.init();\n        return &quot;redirect:/&quot;;\n    }\n}\n</code></pre>\n<p>This is currently my Controller and after /move when service.move gets called i want it to refresh.</p>\n<p>Its my first Project with Spring Boot and HttpServelt in general.\nSo i dont really know what i can try to do.</p>\n"},{"tags":["java","mysql","spring-boot","flyway"],"answers":[{"tags":[],"owner":{"account_id":20338,"reputation":63801,"user_id":48503,"accept_rate":100,"display_name":"Luke Woodward"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679570609,"creation_date":1679570609,"answer_id":75822374,"question_id":75821286,"body_markdown":"It seems you have encountered &lt;a href=&quot;https://github.com/flyway/flyway/issues/3616&quot;&gt;bug #3616&lt;/a&gt; in Flyway, and also that you are using the Turkish locale. This bug reports the exact same behaviour that you are seeing.\r\n\r\nYou are using Flyway 9.14.1. Try updating Flyway to version 9.15 or later.","title":"FlywayException: Invalid migration state &#39;ignored&#39;. Valid states are: [*, missing, pending, ıgnored, future]","body":"<p>It seems you have encountered <a href=\"https://github.com/flyway/flyway/issues/3616\" rel=\"nofollow noreferrer\">bug #3616</a> in Flyway, and also that you are using the Turkish locale. This bug reports the exact same behaviour that you are seeing.</p>\n<p>You are using Flyway 9.14.1. Try updating Flyway to version 9.15 or later.</p>\n"}],"owner":{"account_id":26342844,"reputation":204,"user_id":20001685,"display_name":"omers"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":244,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75822374,"answer_count":1,"score":0,"last_activity_date":1679570609,"creation_date":1679563933,"question_id":75821286,"body_markdown":"I&#39;m trying to run spring boot application using flyway and Mysql database. When I run the application,   I&#39;m getting below error. \r\n\r\n````\r\nCaused by: org.flywaydb.core.api.FlywayException: Invalid migration state &#39;ignored&#39;. Valid states are: [*, missing, pending, ıgnored, future]\r\n\tat org.flywaydb.core.api.pattern.ValidatePattern.fromPattern(ValidatePattern.java:70) ~[flyway-core-9.14.1.jar:na]\r\n\tat org.flywaydb.core.internal.util.ValidatePatternUtils.lambda$isIgnoredIgnored$3(ValidatePatternUtils.java:31) ~[flyway-core-9.14.1.jar:na]\r\n\tat java.base/java.util.stream.MatchOps$1MatchSink.accept(MatchOps.java:90) ~[na:na]\r\n\tat java.base/java.util.Spliterators$ArraySpliterator.tryAdvance(Spliterators.java:1002) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:129) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:527) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:513) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\r\n\tat java.base/java.util.stream.MatchOps$MatchOp.evaluateSequential(MatchOps.java:230) ~[na:na]\r\n\tat java.base/java.util.stream.MatchOps$MatchOp.evaluateSequential(MatchOps.java:196) ~[na:na]\r\n\tat java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\r\n\tat java.base/java.util.stream.ReferencePipeline.anyMatch(ReferencePipeline.java:632) ~[na:na]\r\n\tat org.flywaydb.core.internal.util.ValidatePatternUtils.isIgnoredIgnored(ValidatePatternUtils.java:31) ~[flyway-core-9.14.1.jar:na]\r\n\tat org.flywaydb.core.internal.info.MigrationInfoContext.isIgnoredIgnored(MigrationInfoContext.java:43) ~[flyway-core-9.14.1.jar:na]\r\n\tat org.flywaydb.core.internal.info.MigrationInfoImpl.validate(MigrationInfoImpl.java:251) ~[flyway-core-9.14.1.jar:na]\r\n\tat org.flywaydb.core.internal.info.MigrationInfoServiceImpl.validate(MigrationInfoServiceImpl.java:511) ~[flyway-core-9.14.1.jar:na]\r\n\tat org.flywaydb.core.internal.command.DbValidate.lambda$validate$0(DbValidate.java:111) ~[flyway-core-9.14.1.jar:na]\r\n\tat org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55) ~[flyway-core-9.14.1.jar:na]\r\n\tat org.flywaydb.core.internal.command.DbValidate.validate(DbValidate.java:101) ~[flyway-core-9.14.1.jar:na]\r\n\tat org.flywaydb.core.Flyway.doValidate(Flyway.java:365) ~[flyway-core-9.14.1.jar:na]\r\n\tat org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:133) ~[flyway-core-9.14.1.jar:na]\r\n\tat org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:196) ~[flyway-core-9.14.1.jar:na]\r\n\tat org.flywaydb.core.Flyway.migrate(Flyway.java:129) ~[flyway-core-9.14.1.jar:na]\r\n\tat org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.4.jar:6.0.4]\r\n\t... 18 common frames omitted\r\n````\r\npom.xml\r\n````\r\n  &lt;groupId&gt;net.sayilir&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-application&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;spring-application&lt;/name&gt;\r\n\t&lt;description&gt;An example project demonstrates testing Spring Kafka&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n\t\t&lt;flyway.version&gt;9.14.1&lt;/flyway.version&gt;\r\n\t\t&lt;flyway.url&gt;jdbc:mysql://localhost:3306/test&lt;/flyway.url&gt;\r\n\t\t&lt;flyway.user&gt;***&lt;/flyway.user&gt;\r\n\t\t&lt;flyway.password&gt;***&lt;/flyway.password&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\r\n````\r\n\r\n\r\nI try to clean or repair but it doesn&#39;t work\r\n\r\n```\r\n./mvnw flyway:clean \r\n```\r\n\r\n```\r\n./mvnw flyway:repair\r\n```\r\n\r\n","title":"FlywayException: Invalid migration state &#39;ignored&#39;. Valid states are: [*, missing, pending, ıgnored, future]","body":"<p>I'm trying to run spring boot application using flyway and Mysql database. When I run the application,   I'm getting below error.</p>\n<pre><code>Caused by: org.flywaydb.core.api.FlywayException: Invalid migration state 'ignored'. Valid states are: [*, missing, pending, ıgnored, future]\n    at org.flywaydb.core.api.pattern.ValidatePattern.fromPattern(ValidatePattern.java:70) ~[flyway-core-9.14.1.jar:na]\n    at org.flywaydb.core.internal.util.ValidatePatternUtils.lambda$isIgnoredIgnored$3(ValidatePatternUtils.java:31) ~[flyway-core-9.14.1.jar:na]\n    at java.base/java.util.stream.MatchOps$1MatchSink.accept(MatchOps.java:90) ~[na:na]\n    at java.base/java.util.Spliterators$ArraySpliterator.tryAdvance(Spliterators.java:1002) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:129) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:527) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:513) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499) ~[na:na]\n    at java.base/java.util.stream.MatchOps$MatchOp.evaluateSequential(MatchOps.java:230) ~[na:na]\n    at java.base/java.util.stream.MatchOps$MatchOp.evaluateSequential(MatchOps.java:196) ~[na:na]\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234) ~[na:na]\n    at java.base/java.util.stream.ReferencePipeline.anyMatch(ReferencePipeline.java:632) ~[na:na]\n    at org.flywaydb.core.internal.util.ValidatePatternUtils.isIgnoredIgnored(ValidatePatternUtils.java:31) ~[flyway-core-9.14.1.jar:na]\n    at org.flywaydb.core.internal.info.MigrationInfoContext.isIgnoredIgnored(MigrationInfoContext.java:43) ~[flyway-core-9.14.1.jar:na]\n    at org.flywaydb.core.internal.info.MigrationInfoImpl.validate(MigrationInfoImpl.java:251) ~[flyway-core-9.14.1.jar:na]\n    at org.flywaydb.core.internal.info.MigrationInfoServiceImpl.validate(MigrationInfoServiceImpl.java:511) ~[flyway-core-9.14.1.jar:na]\n    at org.flywaydb.core.internal.command.DbValidate.lambda$validate$0(DbValidate.java:111) ~[flyway-core-9.14.1.jar:na]\n    at org.flywaydb.core.internal.jdbc.TransactionalExecutionTemplate.execute(TransactionalExecutionTemplate.java:55) ~[flyway-core-9.14.1.jar:na]\n    at org.flywaydb.core.internal.command.DbValidate.validate(DbValidate.java:101) ~[flyway-core-9.14.1.jar:na]\n    at org.flywaydb.core.Flyway.doValidate(Flyway.java:365) ~[flyway-core-9.14.1.jar:na]\n    at org.flywaydb.core.Flyway.lambda$migrate$0(Flyway.java:133) ~[flyway-core-9.14.1.jar:na]\n    at org.flywaydb.core.FlywayExecutor.execute(FlywayExecutor.java:196) ~[flyway-core-9.14.1.jar:na]\n    at org.flywaydb.core.Flyway.migrate(Flyway.java:129) ~[flyway-core-9.14.1.jar:na]\n    at org.springframework.boot.autoconfigure.flyway.FlywayMigrationInitializer.afterPropertiesSet(FlywayMigrationInitializer.java:66) ~[spring-boot-autoconfigure-3.0.2.jar:3.0.2]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1797) ~[spring-beans-6.0.4.jar:6.0.4]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1747) ~[spring-beans-6.0.4.jar:6.0.4]\n    ... 18 common frames omitted\n</code></pre>\n<p>pom.xml</p>\n<pre><code>  &lt;groupId&gt;net.sayilir&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-application&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;spring-application&lt;/name&gt;\n    &lt;description&gt;An example project demonstrates testing Spring Kafka&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;flyway.version&gt;9.14.1&lt;/flyway.version&gt;\n        &lt;flyway.url&gt;jdbc:mysql://localhost:3306/test&lt;/flyway.url&gt;\n        &lt;flyway.user&gt;***&lt;/flyway.user&gt;\n        &lt;flyway.password&gt;***&lt;/flyway.password&gt;\n    &lt;/properties&gt;\n\n\n</code></pre>\n<p>I try to clean or repair but it doesn't work</p>\n<pre><code>./mvnw flyway:clean \n</code></pre>\n<pre><code>./mvnw flyway:repair\n</code></pre>\n"},{"tags":["java","jquery","arrays","android-studio-3.0","android-camera2"],"owner":{"account_id":27959189,"reputation":1,"user_id":21351414,"display_name":"FELIPE EDUARDO ROJAS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679570461,"creation_date":1679496978,"question_id":75813871,"body_markdown":"the getDefaultDisplay() method is deprecated and I don&#39;t know how to update it to make my code work more efficiently.\r\n\r\ntry this:\r\nDisplay display = ((WindowManager) getSystemService(Context.WINDOW_SERVICE)).getDefaultDisplay();\r\n                int rotation = display.getRotation();\r\n\r\nbut it didn&#39;t work, it ends up giving me an error in captureBuilder.set(CaptureRequest.JPEG_ORIENTATION, ORIENTATIONS.get(rotation));\r\n```\r\nImageReader reader = ImageReader.newInstance(whdth, height, ImageFormat.JPEG, 1);\r\n                List&lt;Surface&gt; outputSurfaces = new ArrayList&lt;Surface&gt;(2);\r\n                outputSurfaces.add(reader.getSurface());\r\n                outputSurfaces.add(new Surface((textureView.getSurfaceTexture())));\r\n                final CaptureRequest.Builder captureBuilder = cameraDevice.createCaptureRequest(CameraDevice.TEMPLATE_STILL_CAPTURE);\r\n                captureBuilder.addTarget(reader.getSurface());\r\n                captureBuilder.set(CaptureRequest.CONTROL_MODE, CameraMetadata.CONTROL_MODE_AUTO);\r\n                //Orientacion\r\n                int rotation = getWindowManager().getDefaultDisplay().getRotation();\r\n                /*//la actualizacion de getDefaultDisplay() seria mas o menos como se ve acontinuacion:\r\n                Display display = ((WindowManager) getSystemService(Context.WINDOW_SERVICE)).getDefaultDisplay();\r\n                int rotation = display.getRotation();\r\n                //Actualizacion getDefaultDisplay(); ↑*/\r\n                captureBuilder.set(CaptureRequest.JPEG_ORIENTATION, ORIENTATIONS.get(rotation));\r\n                file = null;\r\n                folder = new File(folderName);\r\n                String timeStamp = new SimpleDateFormat(&quot;ddMMyyyy_HHmmss&quot;).format(new Date());\r\n                String imageFileName = &quot;IMG_&quot; + timeStamp + &quot;.jpg&quot;;\r\n                file = new File(getExternalFilesDir(folderName), &quot;/&quot; + imageFileName);\r\n                if ( !folder.exists()){\r\n                    folder.mkdirs();\r\n```\r\n","title":"Android getDefaultDisplay() method is deprecated and I don&#39;t know how to update it to make my code work more efficiently","body":"<p>the getDefaultDisplay() method is deprecated and I don't know how to update it to make my code work more efficiently.</p>\n<p>try this:\nDisplay display = ((WindowManager) getSystemService(Context.WINDOW_SERVICE)).getDefaultDisplay();\nint rotation = display.getRotation();</p>\n<p>but it didn't work, it ends up giving me an error in captureBuilder.set(CaptureRequest.JPEG_ORIENTATION, ORIENTATIONS.get(rotation));</p>\n<pre><code>ImageReader reader = ImageReader.newInstance(whdth, height, ImageFormat.JPEG, 1);\n                List&lt;Surface&gt; outputSurfaces = new ArrayList&lt;Surface&gt;(2);\n                outputSurfaces.add(reader.getSurface());\n                outputSurfaces.add(new Surface((textureView.getSurfaceTexture())));\n                final CaptureRequest.Builder captureBuilder = cameraDevice.createCaptureRequest(CameraDevice.TEMPLATE_STILL_CAPTURE);\n                captureBuilder.addTarget(reader.getSurface());\n                captureBuilder.set(CaptureRequest.CONTROL_MODE, CameraMetadata.CONTROL_MODE_AUTO);\n                //Orientacion\n                int rotation = getWindowManager().getDefaultDisplay().getRotation();\n                /*//la actualizacion de getDefaultDisplay() seria mas o menos como se ve acontinuacion:\n                Display display = ((WindowManager) getSystemService(Context.WINDOW_SERVICE)).getDefaultDisplay();\n                int rotation = display.getRotation();\n                //Actualizacion getDefaultDisplay(); ↑*/\n                captureBuilder.set(CaptureRequest.JPEG_ORIENTATION, ORIENTATIONS.get(rotation));\n                file = null;\n                folder = new File(folderName);\n                String timeStamp = new SimpleDateFormat(&quot;ddMMyyyy_HHmmss&quot;).format(new Date());\n                String imageFileName = &quot;IMG_&quot; + timeStamp + &quot;.jpg&quot;;\n                file = new File(getExternalFilesDir(folderName), &quot;/&quot; + imageFileName);\n                if ( !folder.exists()){\n                    folder.mkdirs();\n</code></pre>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":9226883,"reputation":4936,"user_id":6854407,"display_name":"Jim Rogers"},"score":0,"creation_date":1679505269,"post_id":75813611,"comment_id":133735491,"body_markdown":"Is the time stamp adjusted for your local time zone?","body":"Is the time stamp adjusted for your local time zone?"},{"owner":{"account_id":28086830,"reputation":1,"user_id":21457071,"display_name":"ddezzz12"},"score":0,"creation_date":1679511848,"post_id":75813611,"comment_id":133737073,"body_markdown":"Yes, time stamp implements by LocalDateTime.now().","body":"Yes, time stamp implements by LocalDateTime.now()."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":1,"creation_date":1679514759,"post_id":75813611,"comment_id":133737736,"body_markdown":"You didn&#39;t say which assertion actually fails, but the threads created by your `newThread` function only add anything to the `resultList` if the given `Runnable&#160;r` throws an exception. If the `fineThreads` Runnables don&#39;t throw any exception, then those will not add any results to the list. I would _expect_ the `assertEquals(shortThreadsCount,&#160;shortResults.size())` assertion to fail.","body":"You didn&#39;t say which assertion actually fails, but the threads created by your <code>newThread</code> function only add anything to the <code>resultList</code> if the given <code>Runnable r</code> throws an exception. If the <code>fineThreads</code> Runnables don&#39;t throw any exception, then those will not add any results to the list. I would <i>expect</i> the <code>assertEquals(shortThreadsCount, shortResults.size())</code> assertion to fail."}],"answers":[{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679569909,"creation_date":1679569909,"answer_id":75822262,"question_id":75813611,"body_markdown":"If you want to run a thread and than monitor when it finished execution and get its result read about [ScheduledExecutorService][1] interface. It provides out of the box solution for your problem\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html","title":"How get a list of results of finished threads?","body":"<p>If you want to run a thread and than monitor when it finished execution and get its result read about <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/ScheduledExecutorService.html\" rel=\"nofollow noreferrer\">ScheduledExecutorService</a> interface. It provides out of the box solution for your problem</p>\n"}],"owner":{"account_id":28086830,"reputation":1,"user_id":21457071,"display_name":"ddezzz12"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679569909,"creation_date":1679495639,"question_id":75813611,"body_markdown":"Methods description:\r\n\r\nThread newThread (Runnable runnable)\r\nCreates and registers a new Thread. Name of the thread should be &quot;&lt;thread-union-name&gt;-worker-n&quot;, where n is a number of a thread. A ThreadUnion must monitor execution of a created thread - refer to results() method.\r\n\r\nList&lt;FinishedThreadResult&gt; results()\r\nReturns a list of results of finished threads. No results must be returned for threads that are not finished yet. A result must contain a thread name, a timestamp when it finished execution and a Throwable if it was thrown\r\n\r\nNote that your ThreadUnion implementation should be thread-safe and support concurrent thread generating.                   \r\n```\r\npublic FinishedThreadResult(final String threadName) {\r\n        this(threadName, null);\r\n    }\r\n\r\n    public FinishedThreadResult(final String threadName, final Throwable throwable) {\r\n        this.threadName = threadName;\r\n        this.throwable = throwable;\r\n        this.finished = LocalDateTime.now();\r\n    }\r\n\r\n    public String getThreadName() {\r\n        return threadName;\r\n    }\r\n\r\n    public LocalDateTime getFinished() {\r\n        return finished;\r\n    }\r\n\r\n    public Throwable getThrowable() {\r\n        return throwable;\r\n    }        \r\n```\r\nTest:       \r\n```\r\n void testResults() {\r\n        ...\r\n        final ThreadUnion threadUnion = ThreadUnion.newInstance(unionName);\r\n\r\n        final Set&lt;RuntimeException&gt; exceptionsToThrow = ...;\r\n        final int fineThreadsCount = 3;\r\n        final int longThreadsCount = 2;\r\n        final int shortThreadsCount = fineThreadsCount + exceptionsToThrow.size();\r\n        final int allResultsCount = fineThreadsCount + longThreadsCount + exceptionsToThrow.size();\r\n\r\n        final List&lt;Thread&gt; exceptionThreads = exceptionsToThrow.stream()\r\n                .map(e -&gt; threadUnion.newThread(() -&gt; throwException(e)))\r\n                .collect(toList());\r\n\r\n        final List&lt;Thread&gt; fineThreads = Stream.generate(() -&gt; threadUnion.newThread(this::printThreadName))\r\n                .limit(fineThreadsCount)\r\n                .collect(toList());\r\n\r\n        CountDownLatch latch = new CountDownLatch(1);\r\n        final List&lt;Thread&gt; longThreads = Stream.generate(() -&gt; threadUnion.newThread(() -&gt; awaitLatch(latch)))\r\n                .limit(longThreadsCount)\r\n                .collect(toList());\r\n\r\n        final LocalDateTime beforeStart = LocalDateTime.now();\r\n        final LocalDateTime afterStart;\r\n        final LocalDateTime afterShortThreadsFinish;\r\n        final LocalDateTime afterLongThreadsFinish;\r\n\r\n        final List&lt;FinishedThreadResult&gt; shortResults;\r\n\r\n        try {\r\n            startThreads(exceptionThreads, fineThreads, longThreads);\r\n            afterStart = LocalDateTime.now();\r\n\r\n            joinThreads(exceptionThreads, fineThreads);\r\n            afterShortThreadsFinish = LocalDateTime.now();\r\n\r\n            shortResults = threadUnion.results();\r\n            assertEquals(shortThreadsCount, shortResults.size());\r\n            assertEquals(expectedNames(unionName, 0, shortThreadsCount), resultThreadNames(shortResults));\r\n            //!FAILs\r\n            shortResults.stream()\r\n                    .map(FinishedThreadResult::getFinished)\r\n                    .forEach(finished -&gt; assertAll(\r\n                            () -&gt; {\r\n                                System.out.println(&quot;before &quot;+beforeStart);\r\n                                System.out.println(&quot;tread &quot; + finished.toString());\r\n                                assertFalse(finished.isBefore(beforeStart));\r\n                            },\r\n                            () -&gt; {\r\n                                System.out.println(&quot;after &quot;+afterShortThreadsFinish);\r\n                                assertFalse(finished.isAfter(afterShortThreadsFinish));\r\n                            }\r\n                    ));\r\n\r\n            assertEquals(exceptionsToThrow, collectThrowables(shortResults));  \r\n```\r\n                                                                              \r\n\r\nI tried:\r\n\r\n```\r\n  private final String nameThread;\r\n    private final Collection&lt;Thread&gt; syncResultsThreadList = Collections.synchronizedCollection(new ArrayList&lt;&gt;());\r\n    private final Collection&lt;FinishedThreadResult&gt; resultList = Collections.synchronizedCollection(new ArrayList&lt;&gt;());\r\n    private final AtomicInteger numberThreads = new AtomicInteger(0);\r\n    private final Map&lt;Thread, FinishedThreadResult&gt; resultMap = Collections.synchronizedMap(new HashMap&lt;&gt;());\r\n...\r\n@Override\r\n    public Thread newThread(Runnable r) {\r\n\r\n        Thread thread = new Thread( r, nameThread + &quot;-worker-&quot; + numberThreads.get());\r\n        numberThreads.incrementAndGet();\r\n\r\n        syncResultsThreadList.add(thread);\r\n        thread.setUncaughtExceptionHandler((t, throwable) -&gt; {\r\n                resultList.add(new FinishedThreadResult(thread.getName(), throwable));\r\n            });\r\n        return thread;\r\n     }\r\n\r\n @Override\r\n    public  List&lt;FinishedThreadResult&gt; results() {\r\n         List&lt;FinishedThreadResult&gt; results = new ArrayList&lt;&gt;();\r\n        for (Thread tr : syncResultsThreadList) {\r\n                resultMap.put(tr, new FinishedThreadResult(tr.getName()));\r\n            }\r\n\r\n        if (resultList.size() &gt; 0) {\r\n            for (FinishedThreadResult ftr : resultList) {\r\n                resultMap.forEach((t, f) -&gt; {\r\n                   if (Objects.equals(f.getThreadName(), ftr.getThreadName())) {\r\n                        resultMap.replace(t, f, ftr);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n\r\n        resultMap.forEach((t, f) -&gt; {\r\n            if (!t.isAlive()) {\r\n                results.add(f);\r\n           }\r\n        });\r\n\r\n        return Collections.unmodifiableList(results);\r\n    }\r\n\r\n```\r\nBut sometimes timestamp is wrong. And sometimes throws java.util.ConcurrentModificationException.","title":"How get a list of results of finished threads?","body":"<p>Methods description:</p>\n<p>Thread newThread (Runnable runnable)\nCreates and registers a new Thread. Name of the thread should be &quot;-worker-n&quot;, where n is a number of a thread. A ThreadUnion must monitor execution of a created thread - refer to results() method.</p>\n<p>List results()\nReturns a list of results of finished threads. No results must be returned for threads that are not finished yet. A result must contain a thread name, a timestamp when it finished execution and a Throwable if it was thrown</p>\n<p>Note that your ThreadUnion implementation should be thread-safe and support concurrent thread generating.</p>\n<pre><code>public FinishedThreadResult(final String threadName) {\n        this(threadName, null);\n    }\n\n    public FinishedThreadResult(final String threadName, final Throwable throwable) {\n        this.threadName = threadName;\n        this.throwable = throwable;\n        this.finished = LocalDateTime.now();\n    }\n\n    public String getThreadName() {\n        return threadName;\n    }\n\n    public LocalDateTime getFinished() {\n        return finished;\n    }\n\n    public Throwable getThrowable() {\n        return throwable;\n    }        \n</code></pre>\n<p>Test:</p>\n<pre><code> void testResults() {\n        ...\n        final ThreadUnion threadUnion = ThreadUnion.newInstance(unionName);\n\n        final Set&lt;RuntimeException&gt; exceptionsToThrow = ...;\n        final int fineThreadsCount = 3;\n        final int longThreadsCount = 2;\n        final int shortThreadsCount = fineThreadsCount + exceptionsToThrow.size();\n        final int allResultsCount = fineThreadsCount + longThreadsCount + exceptionsToThrow.size();\n\n        final List&lt;Thread&gt; exceptionThreads = exceptionsToThrow.stream()\n                .map(e -&gt; threadUnion.newThread(() -&gt; throwException(e)))\n                .collect(toList());\n\n        final List&lt;Thread&gt; fineThreads = Stream.generate(() -&gt; threadUnion.newThread(this::printThreadName))\n                .limit(fineThreadsCount)\n                .collect(toList());\n\n        CountDownLatch latch = new CountDownLatch(1);\n        final List&lt;Thread&gt; longThreads = Stream.generate(() -&gt; threadUnion.newThread(() -&gt; awaitLatch(latch)))\n                .limit(longThreadsCount)\n                .collect(toList());\n\n        final LocalDateTime beforeStart = LocalDateTime.now();\n        final LocalDateTime afterStart;\n        final LocalDateTime afterShortThreadsFinish;\n        final LocalDateTime afterLongThreadsFinish;\n\n        final List&lt;FinishedThreadResult&gt; shortResults;\n\n        try {\n            startThreads(exceptionThreads, fineThreads, longThreads);\n            afterStart = LocalDateTime.now();\n\n            joinThreads(exceptionThreads, fineThreads);\n            afterShortThreadsFinish = LocalDateTime.now();\n\n            shortResults = threadUnion.results();\n            assertEquals(shortThreadsCount, shortResults.size());\n            assertEquals(expectedNames(unionName, 0, shortThreadsCount), resultThreadNames(shortResults));\n            //!FAILs\n            shortResults.stream()\n                    .map(FinishedThreadResult::getFinished)\n                    .forEach(finished -&gt; assertAll(\n                            () -&gt; {\n                                System.out.println(&quot;before &quot;+beforeStart);\n                                System.out.println(&quot;tread &quot; + finished.toString());\n                                assertFalse(finished.isBefore(beforeStart));\n                            },\n                            () -&gt; {\n                                System.out.println(&quot;after &quot;+afterShortThreadsFinish);\n                                assertFalse(finished.isAfter(afterShortThreadsFinish));\n                            }\n                    ));\n\n            assertEquals(exceptionsToThrow, collectThrowables(shortResults));  \n</code></pre>\n<p>I tried:</p>\n<pre><code>  private final String nameThread;\n    private final Collection&lt;Thread&gt; syncResultsThreadList = Collections.synchronizedCollection(new ArrayList&lt;&gt;());\n    private final Collection&lt;FinishedThreadResult&gt; resultList = Collections.synchronizedCollection(new ArrayList&lt;&gt;());\n    private final AtomicInteger numberThreads = new AtomicInteger(0);\n    private final Map&lt;Thread, FinishedThreadResult&gt; resultMap = Collections.synchronizedMap(new HashMap&lt;&gt;());\n...\n@Override\n    public Thread newThread(Runnable r) {\n\n        Thread thread = new Thread( r, nameThread + &quot;-worker-&quot; + numberThreads.get());\n        numberThreads.incrementAndGet();\n\n        syncResultsThreadList.add(thread);\n        thread.setUncaughtExceptionHandler((t, throwable) -&gt; {\n                resultList.add(new FinishedThreadResult(thread.getName(), throwable));\n            });\n        return thread;\n     }\n\n @Override\n    public  List&lt;FinishedThreadResult&gt; results() {\n         List&lt;FinishedThreadResult&gt; results = new ArrayList&lt;&gt;();\n        for (Thread tr : syncResultsThreadList) {\n                resultMap.put(tr, new FinishedThreadResult(tr.getName()));\n            }\n\n        if (resultList.size() &gt; 0) {\n            for (FinishedThreadResult ftr : resultList) {\n                resultMap.forEach((t, f) -&gt; {\n                   if (Objects.equals(f.getThreadName(), ftr.getThreadName())) {\n                        resultMap.replace(t, f, ftr);\n                    }\n                });\n            }\n        }\n\n        resultMap.forEach((t, f) -&gt; {\n            if (!t.isAlive()) {\n                results.add(f);\n           }\n        });\n\n        return Collections.unmodifiableList(results);\n    }\n\n</code></pre>\n<p>But sometimes timestamp is wrong. And sometimes throws java.util.ConcurrentModificationException.</p>\n"},{"tags":["java","j-security-check"],"owner":{"account_id":13677737,"reputation":9,"user_id":9868784,"display_name":"Arnau"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679569507,"creation_date":1679569507,"question_id":75822189,"body_markdown":"I have an app with protected directory, so when I enter in it asks for username and password in a form, with the action &quot;j_security_check&quot; and &quot;j_username&quot; and &quot;j_password&quot;. j_security its working fine, because if I put wrong credentials it redirects to the form, and if I put correct ones, it redirects to the original url I was trying to go.\r\nThe problem is when login is successfull, because the redirection to the protected file returns a 404, and the url is fine. Its very weird. Im stuck with this since a few days ago, and its very frustrating.\r\n\r\nHope somebody could help me.\r\n\r\nThank you,","title":"Java j_security_check 404","body":"<p>I have an app with protected directory, so when I enter in it asks for username and password in a form, with the action &quot;j_security_check&quot; and &quot;j_username&quot; and &quot;j_password&quot;. j_security its working fine, because if I put wrong credentials it redirects to the form, and if I put correct ones, it redirects to the original url I was trying to go.\nThe problem is when login is successfull, because the redirection to the protected file returns a 404, and the url is fine. Its very weird. Im stuck with this since a few days ago, and its very frustrating.</p>\n<p>Hope somebody could help me.</p>\n<p>Thank you,</p>\n"},{"tags":["java","database","servlets","jdbc"],"comments":[{"owner":{"account_id":3509196,"reputation":16493,"user_id":2933977,"display_name":"stdunbar"},"score":2,"creation_date":1679518908,"post_id":75817203,"comment_id":133738650,"body_markdown":"If you&#39;re not using a connection pool, making your code much more fragile, then you&#39;ll need to create and destroy the connection every time.  You cannot guarantee that the DB server connection will remain usable throughout the life cycle of your servlet.  Note that this is a terrible way to do it and will slow down your application but it will work.","body":"If you&#39;re not using a connection pool, making your code much more fragile, then you&#39;ll need to create and destroy the connection every time.  You cannot guarantee that the DB server connection will remain usable throughout the life cycle of your servlet.  Note that this is a terrible way to do it and will slow down your application but it will work."},{"owner":{"account_id":75804,"reputation":94840,"user_id":217324,"accept_rate":96,"display_name":"Nathan Hughes"},"score":3,"creation_date":1679519305,"post_id":75817203,"comment_id":133738719,"body_markdown":"Just use a connection pool. The lowest number of users I would need to be planning for in order to decide to use a connection pool is 1.","body":"Just use a connection pool. The lowest number of users I would need to be planning for in order to decide to use a connection pool is 1."},{"owner":{"account_id":22051693,"reputation":61,"user_id":16317008,"display_name":"Shaowen Zhu"},"score":0,"creation_date":1679519469,"post_id":75817203,"comment_id":133738749,"body_markdown":"@stdunbar, thanks for your reply, does this mean that I&#39;m just establishing connection only once for many http requests, I cannot guarantee that this connection is in a &quot;good&quot; condition at all time, and if this connection is broken, my application will crush because I just established db connection only once at the begin of my Servlet.","body":"@stdunbar, thanks for your reply, does this mean that I&#39;m just establishing connection only once for many http requests, I cannot guarantee that this connection is in a &quot;good&quot; condition at all time, and if this connection is broken, my application will crush because I just established db connection only once at the begin of my Servlet."},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1679520313,"post_id":75817203,"comment_id":133738946,"body_markdown":"It’s worse than that. This example will share the same connection between multiple concurrent requests, but connection is not threadsafe. So, this will cause problems even if the connection to the server is fine.","body":"It’s worse than that. This example will share the same connection between multiple concurrent requests, but connection is not threadsafe. So, this will cause problems even if the connection to the server is fine."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":1,"creation_date":1679527838,"post_id":75817203,"comment_id":133740203,"body_markdown":"As soon as you are in doGet or display take the arts in immediately into a new processing method using the synchronized keyword on the method. All methods called in that must then use the synchronized keyword  If you are using classForName() you load it once in the server but must close your queries , resultsets e.t.c. , the Main problems with connections is timeout and statelessness. You should close connection each query only because it is stateless with classForName() in that situation unlike connection pools.","body":"As soon as you are in doGet or display take the arts in immediately into a new processing method using the synchronized keyword on the method. All methods called in that must then use the synchronized keyword  If you are using classForName() you load it once in the server but must close your queries , resultsets e.t.c. , the Main problems with connections is timeout and statelessness. You should close connection each query only because it is stateless with classForName() in that situation unlike connection pools."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1679565620,"post_id":75817203,"comment_id":133745649,"body_markdown":"The recommended way is to configure your database connection as a connection pool in the container (in your case Tomcat) and provide it to the web application via JNDI. the web application should not care about opening and closing the database connection at all but obtain the pre-configured database connection via JNDI.","body":"The recommended way is to configure your database connection as a connection pool in the container (in your case Tomcat) and provide it to the web application via JNDI. the web application should not care about opening and closing the database connection at all but obtain the pre-configured database connection via JNDI."}],"owner":{"account_id":22051693,"reputation":61,"user_id":16317008,"display_name":"Shaowen Zhu"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":315,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1679569355,"answer_count":0,"score":0,"last_activity_date":1679569369,"creation_date":1679518571,"question_id":75817203,"body_markdown":"I currently learn the JSP &amp; Servlet in java web with tomcat 9.0, \r\n\r\n- I saw [some websites](https://www.tutorialspoint.com/servlets/servlets-life-cycle.htm) say that a servlet will be initialized only once, and the `destroy()` method will be called when the server want to terminate the life of that servlet,\r\n\r\n- and a servlet will be used for multiple same type requests, http request for example,\r\n\r\n- and database connection resources are important.\r\n\r\nSo, I think, I should **make the `Connection object` as a member of my Servlet** so that I won&#39;t need to establish a new connection every time when there is a new http request, and **close the connection when the servlet is destroyed**. \r\n\r\nlike this:\r\n\r\n```java\r\npublic class LoginServlet extends HttpServlet {\r\n    private Connection conn;\r\n\r\n    // init, get mysql Connection\r\n    public TeamBlueServlet() {\r\n        initiate();\r\n    }\r\n\r\n    private void initiate() {\r\n        // do something and get connection...\r\n        this.conn = controller.getConnection();\r\n       \r\n    }\r\n\r\n    // close connection in this method\r\n    @Override\r\n    public void destroy() {\r\n         // try, catch\r\n         this.conn.close();\r\n    }\r\n\r\n    @Override\r\n    public void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\r\n        // do some query\r\n        try {\r\n            ResultSet resultSet = ...;\r\n            PreparedStatement statement = ...;\r\n        } catch (SQLException e) {\r\n            ...\r\n        } finally {\r\n            close(statement, resultSet);\r\n        }\r\n    }\r\n\r\n    private void close(PreparedStatement sta, ResultSet rs) {\r\n        try {\r\n            if(sta !=null) sta.close();\r\n        } catch (SQLException e) {\r\n            logger.error(e.getMessage());\r\n        }\r\n\r\n        try {\r\n            if(rs !=null) rs.close();\r\n        } catch (SQLException e) {\r\n            logger.error(e.getMessage());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBut I also [saw some](https://stackoverflow.com/a/4111621/16317008) say that we should, open connections as late as possible &amp; close connections as soon as possible. \r\n\r\nTherefore I get confused, **I want to know if I need to make the connection and close it with each query or should I keep the connection open**? I know there is something called connection pool probably can solve this problem, but I want to know in this case, which would be better. \r\n\r\nAny help would appreciate, thanks. ","title":"Should I close database connection every time after every query or insert?","body":"<p>I currently learn the JSP &amp; Servlet in java web with tomcat 9.0,</p>\n<ul>\n<li><p>I saw <a href=\"https://www.tutorialspoint.com/servlets/servlets-life-cycle.htm\" rel=\"nofollow noreferrer\">some websites</a> say that a servlet will be initialized only once, and the <code>destroy()</code> method will be called when the server want to terminate the life of that servlet,</p>\n</li>\n<li><p>and a servlet will be used for multiple same type requests, http request for example,</p>\n</li>\n<li><p>and database connection resources are important.</p>\n</li>\n</ul>\n<p>So, I think, I should <strong>make the <code>Connection object</code> as a member of my Servlet</strong> so that I won't need to establish a new connection every time when there is a new http request, and <strong>close the connection when the servlet is destroyed</strong>.</p>\n<p>like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LoginServlet extends HttpServlet {\n    private Connection conn;\n\n    // init, get mysql Connection\n    public TeamBlueServlet() {\n        initiate();\n    }\n\n    private void initiate() {\n        // do something and get connection...\n        this.conn = controller.getConnection();\n       \n    }\n\n    // close connection in this method\n    @Override\n    public void destroy() {\n         // try, catch\n         this.conn.close();\n    }\n\n    @Override\n    public void doGet(HttpServletRequest request, HttpServletResponse response) throws IOException {\n        // do some query\n        try {\n            ResultSet resultSet = ...;\n            PreparedStatement statement = ...;\n        } catch (SQLException e) {\n            ...\n        } finally {\n            close(statement, resultSet);\n        }\n    }\n\n    private void close(PreparedStatement sta, ResultSet rs) {\n        try {\n            if(sta !=null) sta.close();\n        } catch (SQLException e) {\n            logger.error(e.getMessage());\n        }\n\n        try {\n            if(rs !=null) rs.close();\n        } catch (SQLException e) {\n            logger.error(e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>But I also <a href=\"https://stackoverflow.com/a/4111621/16317008\">saw some</a> say that we should, open connections as late as possible &amp; close connections as soon as possible.</p>\n<p>Therefore I get confused, <strong>I want to know if I need to make the connection and close it with each query or should I keep the connection open</strong>? I know there is something called connection pool probably can solve this problem, but I want to know in this case, which would be better.</p>\n<p>Any help would appreciate, thanks.</p>\n"},{"tags":["java","inheritance","polymorphism"],"answers":[{"comments":[{"owner":{"account_id":5240687,"reputation":1727,"user_id":4187837,"accept_rate":86,"display_name":"Gavin"},"score":0,"creation_date":1570350114,"post_id":58255419,"comment_id":102880205,"body_markdown":"I would go further and say  fields in `Language` should be made private and given getters.","body":"I would go further and say  fields in <code>Language</code> should be made private and given getters."},{"owner":{"account_id":5379259,"reputation":7396,"user_id":4601149,"accept_rate":88,"display_name":"Dan"},"score":0,"creation_date":1570350320,"post_id":58255419,"comment_id":102880244,"body_markdown":"@Gavin you are right, you can further restrict the access modifiers depending on how the OP is planning on using the code in their project","body":"@Gavin you are right, you can further restrict the access modifiers depending on how the OP is planning on using the code in their project"},{"owner":{"account_id":5379259,"reputation":7396,"user_id":4601149,"accept_rate":88,"display_name":"Dan"},"score":1,"creation_date":1570350378,"post_id":58255419,"comment_id":102880254,"body_markdown":"@HimanshuKandpal I&#39;m glad I was able to help. If you feel this has solved your problem, could you hit the tick to let others know the problem has been solved. I appreciate it","body":"@HimanshuKandpal I&#39;m glad I was able to help. If you feel this has solved your problem, could you hit the tick to let others know the problem has been solved. I appreciate it"},{"owner":{"account_id":5240687,"reputation":1727,"user_id":4187837,"accept_rate":86,"display_name":"Gavin"},"score":0,"creation_date":1570350647,"post_id":58255419,"comment_id":102880304,"body_markdown":"@Dan totally agree, we only have the above snippet to go on, and not the full intent of the code :)","body":"@Dan totally agree, we only have the above snippet to go on, and not the full intent of the code :)"}],"tags":[],"owner":{"account_id":5379259,"reputation":7396,"user_id":4601149,"accept_rate":88,"display_name":"Dan"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1570353892,"creation_date":1570349622,"answer_id":58255419,"question_id":58255295,"body_markdown":"In `Mayan` you have the fields\r\n\r\n    protected String name;\r\n    protected int numSpeakers;\r\n\r\nRemoving these will fix your issue. The reason this issue is happening is because when you define the two lines above, you are hiding the two fields from `Language` and you would have to access the fields from `Language` like `super.name`, `super.numSpeakers`, etc...\r\n\r\nSomething like the following is what you are probably after.\r\n\r\n    public class Mayan extends Language {\r\n        private static final String REGION = &quot;Central America&quot;;\r\n        private static final String WORD_ORDER = &quot;verb-object-subject&quot;;\r\n    \r\n        public Mayan(String languageName, int speakers) {\r\n            super(languageName, speakers, REGION, WORD_ORDER);\r\n        }\r\n    \r\n        @Override\r\n        public void getInfo() {\r\n            super.getInfo();\r\n            System.out.println(&quot;Fun fact: &quot; + name + &quot; is an ergative language.&quot;);\r\n        }\r\n    }\r\n\r\n___\r\n\r\nAs Gavin pointed out, the access modifiers can be restricted. If you are working within a single package for your program, you might end up with something like\r\n\r\n*Language.java*\r\n\r\n    class Language {\r\n        String name;\r\n        private int numSpeakers;\r\n        private String regionsSpoken;\r\n        private String wordOrder;\r\n\r\n        Language(String getName, int getNumSpeakers, String getRegionsSpoken, String getWordOrder) {\r\n            this.name = getName;\r\n            this.numSpeakers = getNumSpeakers;\r\n            this.regionsSpoken = getRegionsSpoken;\r\n            this.wordOrder = getWordOrder;\r\n        }\r\n\r\n        void getInfo() {\r\n            System.out.println(name + &quot; is spoken by &quot; + numSpeakers + &quot;  people mainly in &quot; + regionsSpoken);\r\n            System.out.println(&quot;The language follows the word order: &quot; + wordOrder);\r\n        }\r\n\r\n        public static void main(String[] args) {\r\n            Mayan mayanLanguage = new Mayan(&quot;Ki&#39;che&#39;&quot;,30000);\r\n            mayanLanguage.getInfo();\r\n        }\r\n    }\r\n\r\n\r\n*Mayan.java*\r\n\r\n    class Mayan extends Language {\r\n        private static final String REGION = &quot;Central America&quot;;\r\n        private static final String WORD_ORDER = &quot;verb-object-subject&quot;;\r\n\r\n        Mayan(String languageName, int speakers) {\r\n            super(languageName, speakers, REGION, WORD_ORDER);\r\n        }\r\n\r\n        @Override\r\n        void getInfo() {\r\n            super.getInfo();\r\n            System.out.println(&quot;Fun fact: &quot; + name + &quot; is an ergative language.&quot;);\r\n        }\r\n    }\r\n\r\n","title":"Why child class method is printing null ? What am i doing wrong?","body":"<p>In <code>Mayan</code> you have the fields</p>\n\n<pre><code>protected String name;\nprotected int numSpeakers;\n</code></pre>\n\n<p>Removing these will fix your issue. The reason this issue is happening is because when you define the two lines above, you are hiding the two fields from <code>Language</code> and you would have to access the fields from <code>Language</code> like <code>super.name</code>, <code>super.numSpeakers</code>, etc...</p>\n\n<p>Something like the following is what you are probably after.</p>\n\n<pre><code>public class Mayan extends Language {\n    private static final String REGION = \"Central America\";\n    private static final String WORD_ORDER = \"verb-object-subject\";\n\n    public Mayan(String languageName, int speakers) {\n        super(languageName, speakers, REGION, WORD_ORDER);\n    }\n\n    @Override\n    public void getInfo() {\n        super.getInfo();\n        System.out.println(\"Fun fact: \" + name + \" is an ergative language.\");\n    }\n}\n</code></pre>\n\n<hr>\n\n<p>As Gavin pointed out, the access modifiers can be restricted. If you are working within a single package for your program, you might end up with something like</p>\n\n<p><em>Language.java</em></p>\n\n<pre><code>class Language {\n    String name;\n    private int numSpeakers;\n    private String regionsSpoken;\n    private String wordOrder;\n\n    Language(String getName, int getNumSpeakers, String getRegionsSpoken, String getWordOrder) {\n        this.name = getName;\n        this.numSpeakers = getNumSpeakers;\n        this.regionsSpoken = getRegionsSpoken;\n        this.wordOrder = getWordOrder;\n    }\n\n    void getInfo() {\n        System.out.println(name + \" is spoken by \" + numSpeakers + \"  people mainly in \" + regionsSpoken);\n        System.out.println(\"The language follows the word order: \" + wordOrder);\n    }\n\n    public static void main(String[] args) {\n        Mayan mayanLanguage = new Mayan(\"Ki'che'\",30000);\n        mayanLanguage.getInfo();\n    }\n}\n</code></pre>\n\n<p><em>Mayan.java</em></p>\n\n<pre><code>class Mayan extends Language {\n    private static final String REGION = \"Central America\";\n    private static final String WORD_ORDER = \"verb-object-subject\";\n\n    Mayan(String languageName, int speakers) {\n        super(languageName, speakers, REGION, WORD_ORDER);\n    }\n\n    @Override\n    void getInfo() {\n        super.getInfo();\n        System.out.println(\"Fun fact: \" + name + \" is an ergative language.\");\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":11617072,"reputation":41,"user_id":8509416,"display_name":"Himanshu Kandpal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":58255419,"answer_count":1,"score":0,"last_activity_date":1679569333,"creation_date":1570348552,"question_id":58255295,"body_markdown":"Why my code is taking null as output value instead of the parameter passed on?\r\n\r\n**Parent Class:**\r\n\r\n    class Language{\r\n\t  protected String name;\r\n\t  protected int numSpeakers;\r\n\t  protected String regionsSpoken;\r\n\t  protected String wordOrder;\r\n\t  \r\n\t  public Language(String getName, int getNumSpeakers, String getRegionsSpoken, String getWordOrder){\r\n\t    this.name = getName;\r\n\t    this.numSpeakers = getNumSpeakers;\r\n\t    this.regionsSpoken = getRegionsSpoken;\r\n\t    this.wordOrder = getWordOrder;\r\n\t  }\r\n\t  \r\n\t  public void getInfo(){\r\n\t    System.out.println(name+ &quot; is spoken by &quot;+numSpeakers+&quot;  people mainly in &quot;+regionsSpoken);\r\n\t    System.out.println(&quot;The language follows the word order: &quot;+wordOrder);\r\n\t  }\r\n\t  \r\n\t  public static void main(String[] args){\r\n\t    Mayan mayanLanguage = new Mayan(&quot;Ki&#39;che&#39;&quot;,30000);\r\n\t    mayanLanguage.getInfo();\r\n\t  }\r\n\t}\r\n\r\n**Child Class:**\r\n\r\n    class Mayan extends Language {\r\n\t  protected String name;\r\n\t  protected int numSpeakers;\r\n\t  \r\n\t  Mayan(String languageName,int speakers ){\r\n\t    super(languageName,speakers,&quot;Central America&quot;,&quot;verb-object-subject&quot;);\r\n\t  }\r\n\t  \r\n\t  @Override\r\n\t  public void getInfo() {\r\n\t    System.out.println(name+&quot; is spoken by &quot;+numSpeakers+&quot; people mainly in Central America.&quot;);\r\n\t    System.out.println(&quot;The language follows the word order: verb-object-subject&quot;);\r\n\t    System.out.println(&quot;Fun fact: &quot;+name+&quot; is an ergative language.&quot;);\r\n\t  }\r\n\t}\r\n\r\nI have looked into the code and tried to resolve it by making changes but nothing seems to work, I am getting stuck into what is the mistake that I am not seeing in the code. \r\n\r\nExpected is: \r\n&gt;Ki&#39;che&#39; is spoken by 2330000 people mainly in Central America.\r\nThe language follows the word order: verb-object-subject\r\nFun fact: Ki&#39;che&#39; is an ergative language.\r\n\r\nActual is: \r\n&gt;null is spoken by 0 people mainly in Central America.\r\nThe language follows the word order: verb-object-subject\r\nFun fact: null is an ergative language.","title":"Why child class method is printing null ? What am i doing wrong?","body":"<p>Why my code is taking null as output value instead of the parameter passed on?</p>\n<p><strong>Parent Class:</strong></p>\n<pre><code>class Language{\n  protected String name;\n  protected int numSpeakers;\n  protected String regionsSpoken;\n  protected String wordOrder;\n  \n  public Language(String getName, int getNumSpeakers, String getRegionsSpoken, String getWordOrder){\n    this.name = getName;\n    this.numSpeakers = getNumSpeakers;\n    this.regionsSpoken = getRegionsSpoken;\n    this.wordOrder = getWordOrder;\n  }\n  \n  public void getInfo(){\n    System.out.println(name+ &quot; is spoken by &quot;+numSpeakers+&quot;  people mainly in &quot;+regionsSpoken);\n    System.out.println(&quot;The language follows the word order: &quot;+wordOrder);\n  }\n  \n  public static void main(String[] args){\n    Mayan mayanLanguage = new Mayan(&quot;Ki'che'&quot;,30000);\n    mayanLanguage.getInfo();\n  }\n}\n</code></pre>\n<p><strong>Child Class:</strong></p>\n<pre><code>class Mayan extends Language {\n  protected String name;\n  protected int numSpeakers;\n  \n  Mayan(String languageName,int speakers ){\n    super(languageName,speakers,&quot;Central America&quot;,&quot;verb-object-subject&quot;);\n  }\n  \n  @Override\n  public void getInfo() {\n    System.out.println(name+&quot; is spoken by &quot;+numSpeakers+&quot; people mainly in Central America.&quot;);\n    System.out.println(&quot;The language follows the word order: verb-object-subject&quot;);\n    System.out.println(&quot;Fun fact: &quot;+name+&quot; is an ergative language.&quot;);\n  }\n}\n</code></pre>\n<p>I have looked into the code and tried to resolve it by making changes but nothing seems to work, I am getting stuck into what is the mistake that I am not seeing in the code.</p>\n<p>Expected is:</p>\n<blockquote>\n<p>Ki'che' is spoken by 2330000 people mainly in Central America.\nThe language follows the word order: verb-object-subject\nFun fact: Ki'che' is an ergative language.</p>\n</blockquote>\n<p>Actual is:</p>\n<blockquote>\n<p>null is spoken by 0 people mainly in Central America.\nThe language follows the word order: verb-object-subject\nFun fact: null is an ergative language.</p>\n</blockquote>\n"},{"tags":["java","spring","spring-boot","soap","java-11"],"owner":{"account_id":28103122,"reputation":1,"user_id":21472085,"display_name":"Shubham Tailong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679569050,"creation_date":1679569050,"question_id":75822117,"body_markdown":"I am creating new instance of Soap factory and it is giving me null value when calling newInstance().\r\nError: javax.xml.soap.SOAPException: Unable to create SOAP connection factory: Provider com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnectionFactory not found\r\n\r\n\r\n\r\nI already have these dependencies in my build.gradle\r\nVersion : Java 11\r\n\r\n implementation group: &#39;com.sun.xml.messaging.saaj&#39;, name: &#39;saaj-impl&#39;, version: &#39;2.0.1&#39;\r\n implementation group: &#39;com.sun.xml.ws&#39;, name: &#39;jaxws-ri&#39;, version: &#39;2.3.2&#39;","title":"Soap connection factory is giving null while creating new instance in Java 11","body":"<p>I am creating new instance of Soap factory and it is giving me null value when calling newInstance().\nError: javax.xml.soap.SOAPException: Unable to create SOAP connection factory: Provider com.sun.xml.internal.messaging.saaj.client.p2p.HttpSOAPConnectionFactory not found</p>\n<p>I already have these dependencies in my build.gradle\nVersion : Java 11</p>\n<p>implementation group: 'com.sun.xml.messaging.saaj', name: 'saaj-impl', version: '2.0.1'\nimplementation group: 'com.sun.xml.ws', name: 'jaxws-ri', version: '2.3.2'</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1679558252,"post_id":75820276,"comment_id":133743881,"body_markdown":"When you say &quot;after a specific substring&quot;, your substring is &#39;Element:&#39;&quot; - &quot;Element:Neo&quot; is the whole string you want to retain a substring of.","body":"When you say &quot;after a specific substring&quot;, your substring is &#39;Element:&#39;&quot; - &quot;Element:Neo&quot; is the whole string you want to retain a substring of."},{"owner":{"account_id":20257557,"reputation":260,"user_id":14856909,"display_name":"tyzion"},"score":0,"creation_date":1679558316,"post_id":75820276,"comment_id":133743894,"body_markdown":"No element neo is part of a larger substring","body":"No element neo is part of a larger substring"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1679558406,"post_id":75820276,"comment_id":133743910,"body_markdown":"`indexOf` returns the *start* of the string it matches","body":"<code>indexOf</code> returns the <i>start</i> of the string it matches"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1679558867,"post_id":75820276,"comment_id":133744003,"body_markdown":"So your actual String is something like &quot;Some String Element:Neo&quot;, and you want to extract Neo.","body":"So your actual String is something like &quot;Some String Element:Neo&quot;, and you want to extract Neo."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679563852,"post_id":75820276,"comment_id":133745125,"body_markdown":"`Neo` is not **after** the substring, it is **part of** your substring. How do you determine you want `Neo`, is it because it is comes after `:`, or something else?","body":"<code>Neo</code> is not <b>after</b> the substring, it is <b>part of</b> your substring. How do you determine you want <code>Neo</code>, is it because it is comes after <code>:</code>, or something else?"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1679566453,"post_id":75820276,"comment_id":133745860,"body_markdown":"api doc is your friend, best to study that of whatever method you are using :) Here that would be: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#indexOf(java.lang.String)","body":"api doc is your friend, best to study that of whatever method you are using :) Here that would be: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#indexOf(java.lang.String)\" rel=\"nofollow noreferrer\">docs.oracle.com/en/java/javase/17/docs/api/java.base/java/la&zwnj;&#8203;ng/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":25125122,"reputation":468,"user_id":18973005,"display_name":"Randommm"},"score":1,"creation_date":1679557670,"post_id":75820311,"comment_id":133743720,"body_markdown":"The indexOf would only be needed if it&#39;s a part of a longer string, which OP did not say it would be. Also the length() would provide the proper position alone so the +1 is&#39;t required.","body":"The indexOf would only be needed if it&#39;s a part of a longer string, which OP did not say it would be. Also the length() would provide the proper position alone so the +1 is&#39;t required."},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":1,"creation_date":1679558103,"post_id":75820311,"comment_id":133743847,"body_markdown":"@Randommm where does OP state that it&#39;s not part of a longer string?","body":"@Randommm where does OP state that it&#39;s not part of a longer string?"},{"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"score":0,"creation_date":1679560181,"post_id":75820311,"comment_id":133744281,"body_markdown":"@Randommm OP never stated that it would not be part of longer string. Also I removed the +1, thanks for pointing out that. I also updated the answer for handling multiple scenarios","body":"@Randommm OP never stated that it would not be part of longer string. Also I removed the +1, thanks for pointing out that. I also updated the answer for handling multiple scenarios"},{"owner":{"account_id":25125122,"reputation":468,"user_id":18973005,"display_name":"Randommm"},"score":0,"creation_date":1679560954,"post_id":75820311,"comment_id":133744434,"body_markdown":"@daniu Well then they would need help with figuring out how long they need to make the substring too.","body":"@daniu Well then they would need help with figuring out how long they need to make the substring too."}],"tags":[],"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"comment_count":4,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1679560127,"creation_date":1679557447,"answer_id":75820311,"question_id":75820276,"body_markdown":"If you have only one occurence of required element then you can use `indexOf` and `substring`:\r\n\r\n    String baseString = &quot;Element:&quot;;\r\n    String checker = descriptions.indexOf(baseString) &lt; 0\r\n      ? &quot;&quot;\r\n      : descriptions\r\n          .substring(descriptions.indexOf(baseString)\r\n            + baseString.length());\r\n\r\nBut if you have multiple occurences of required elements then you can use `String.split`:\r\n\r\n    String descriptions = &quot;Some Element not needed Element:NeoElement:AgentElement:TrinityElement:Oracle&quot;;\r\n    String baseString = &quot;Element:&quot;;\r\n    List&lt;String&gt; checker;\r\n    int firstIndex = descriptions.indexOf(baseString);\r\n    if (firstIndex &gt;= 0){\r\n      // remove unwanted first element\r\n      checker = Arrays.stream(descriptions.split(baseString))\r\n        .skip(1).collect(Collectors.toList());\r\n    } else {\r\n      checker = Collections.emptyList();\r\n    }\r\n    System.out.println(checker);","title":"How to get a set of characters after a specific substring","body":"<p>If you have only one occurence of required element then you can use <code>indexOf</code> and <code>substring</code>:</p>\n<pre><code>String baseString = &quot;Element:&quot;;\nString checker = descriptions.indexOf(baseString) &lt; 0\n  ? &quot;&quot;\n  : descriptions\n      .substring(descriptions.indexOf(baseString)\n        + baseString.length());\n</code></pre>\n<p>But if you have multiple occurences of required elements then you can use <code>String.split</code>:</p>\n<pre><code>String descriptions = &quot;Some Element not needed Element:NeoElement:AgentElement:TrinityElement:Oracle&quot;;\nString baseString = &quot;Element:&quot;;\nList&lt;String&gt; checker;\nint firstIndex = descriptions.indexOf(baseString);\nif (firstIndex &gt;= 0){\n  // remove unwanted first element\n  checker = Arrays.stream(descriptions.split(baseString))\n    .skip(1).collect(Collectors.toList());\n} else {\n  checker = Collections.emptyList();\n}\nSystem.out.println(checker);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":244572,"reputation":2040,"user_id":2266682,"accept_rate":75,"display_name":"Aqeel Ashiq"},"score":0,"creation_date":1679560670,"post_id":75820622,"comment_id":133744366,"body_markdown":"Nice generic solution using regex","body":"Nice generic solution using regex"}],"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679560146,"creation_date":1679559673,"answer_id":75820622,"question_id":75820276,"body_markdown":"You can do\r\n\r\n```\r\nString input = &quot;This is a line containing Element:Neo&quot;;\r\nString[] split = input.split(&quot;Element:&quot;);\r\nString result = (split.length &gt; 1)\r\n  ? result = split[1]  // match found\r\n  : &quot;&quot;                 // some default\r\n}\r\n```\r\n\r\nOr, if you want to overengineer things,\r\n\r\n```\r\nPattern pattern = Pattern.compile(&quot;.*Element:(.*)&quot;);\r\nString input = &quot;This is a line containing Element:Neo&quot;;\r\nMatcher matcher = pattern.matcher(input);\r\nString result = matcher.groupCount() &gt; 0\r\n  ? matcher.group(1)\r\n  : &quot;&quot;;  \r\n}\r\n```\r\n","title":"How to get a set of characters after a specific substring","body":"<p>You can do</p>\n<pre><code>String input = &quot;This is a line containing Element:Neo&quot;;\nString[] split = input.split(&quot;Element:&quot;);\nString result = (split.length &gt; 1)\n  ? result = split[1]  // match found\n  : &quot;&quot;                 // some default\n}\n</code></pre>\n<p>Or, if you want to overengineer things,</p>\n<pre><code>Pattern pattern = Pattern.compile(&quot;.*Element:(.*)&quot;);\nString input = &quot;This is a line containing Element:Neo&quot;;\nMatcher matcher = pattern.matcher(input);\nString result = matcher.groupCount() &gt; 0\n  ? matcher.group(1)\n  : &quot;&quot;;  \n}\n</code></pre>\n"}],"owner":{"account_id":20257557,"reputation":260,"user_id":14856909,"display_name":"tyzion"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1679566671,"accepted_answer_id":75820622,"answer_count":2,"score":-1,"last_activity_date":1679568885,"creation_date":1679557184,"question_id":75820276,"body_markdown":"I want to get a specific set of characters after a substring:\r\n\r\nMy substring is:\r\n\r\n    &quot;Element:Neo&quot;\r\n\r\nThe set of characters I want are : `Neo`\r\n\r\nSolutions I have tried:\r\n\r\n    String descriptions = &quot;Element:Neo&quot;;\r\n    String checker = descriptions.substring(descriptions.indexOf(&quot;Element:&quot;)+1);\r\n    System.out.println(checker);\r\n\r\nbut I got my print statement as: `lement:Neo`, instead of the desired Neo\r\n\r\nSo is it possible to use `indexof` and get just `Neo`\r\n\r\nLinks I followed: https://stackoverflow.com/questions/8871682/how-to-find-before-and-after-sub-string-in-a-string - but the given solution, didn&#39;t help me, hence I asked the question.","title":"How to get a set of characters after a specific substring","body":"<p>I want to get a specific set of characters after a substring:</p>\n<p>My substring is:</p>\n<pre><code>&quot;Element:Neo&quot;\n</code></pre>\n<p>The set of characters I want are : <code>Neo</code></p>\n<p>Solutions I have tried:</p>\n<pre><code>String descriptions = &quot;Element:Neo&quot;;\nString checker = descriptions.substring(descriptions.indexOf(&quot;Element:&quot;)+1);\nSystem.out.println(checker);\n</code></pre>\n<p>but I got my print statement as: <code>lement:Neo</code>, instead of the desired Neo</p>\n<p>So is it possible to use <code>indexof</code> and get just <code>Neo</code></p>\n<p>Links I followed: <a href=\"https://stackoverflow.com/questions/8871682/how-to-find-before-and-after-sub-string-in-a-string\">how to find before and after sub-string in a string</a> - but the given solution, didn't help me, hence I asked the question.</p>\n"},{"tags":["java","spring","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1679569147,"post_id":75822018,"comment_id":133746509,"body_markdown":"The one with the request body already has a predefined reactive flow as it needed to deserialize the request body, the one without doesn&#39;t. If you create a reactive flow each part can be executed by a different thread (as you notice here). So it isn&#39;t so much Spring but rather a result of what is done before this controller method is even being called.","body":"The one with the request body already has a predefined reactive flow as it needed to deserialize the request body, the one without doesn&#39;t. If you create a reactive flow each part can be executed by a different thread (as you notice here). So it isn&#39;t so much Spring but rather a result of what is done before this controller method is even being called."},{"owner":{"account_id":3101358,"reputation":962,"user_id":2625393,"display_name":"Numichi"},"score":0,"creation_date":1679571052,"post_id":75822018,"comment_id":133746952,"body_markdown":"Your code will not be executed in the written place. In the future, another task will be to subscribe to your mono, and that thread will be used. In the reactive environment, thread management differs significantly from the classic WebMvc model with Tomcat. For example, you mustn&#39;t use any blocker methods, and not recommended to save any information into ThreadLocal because there is a good chance it will be run by a different thread than the one you saved.","body":"Your code will not be executed in the written place. In the future, another task will be to subscribe to your mono, and that thread will be used. In the reactive environment, thread management differs significantly from the classic WebMvc model with Tomcat. For example, you mustn&#39;t use any blocker methods, and not recommended to save any information into ThreadLocal because there is a good chance it will be run by a different thread than the one you saved."}],"owner":{"account_id":2626283,"reputation":407,"user_id":2273203,"accept_rate":43,"display_name":"kemenov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679568318,"creation_date":1679568318,"question_id":75822018,"body_markdown":"I need advice, there are two controller methods:\r\n\r\nMethod with body parameter\r\n\r\n        @RequestMapping(value = &quot;/test1&quot;, method = RequestMethod.POST)\r\n    public Mono&lt;SuccessEmptyResponse&gt; withBody(@RequestBody CreatePhoneCode command) {\r\n        return Mono.fromCallable(() -&gt; {\r\n                    System.out.println(&quot;Current thread: &quot; + Thread.currentThread().getName());\r\n                    return SuccessEmptyResponse.getInstance();\r\n                });\r\n    }\r\n\r\n\r\nMethod without body\r\n\r\n\r\n    @RequestMapping(value = &quot;/test2&quot;, method = RequestMethod.POST)\r\n    public Mono&lt;SuccessEmptyResponse&gt; methodWithoutBody() {\r\n        return Mono.fromCallable(() -&gt; {\r\n            System.out.println(&quot;Current thread: &quot; + Thread.currentThread().getName());\r\n            return SuccessEmptyResponse.getInstance();\r\n        });\r\n    }\r\n\r\n\r\n\r\nMethod test1 prints log &quot;Current thread **reactor-http-nio-n**&quot;\r\n\r\nMethod test2 prints log &quot;Current thread **parallel-n**&quot;\r\n\r\n\r\nHow we can see, by default spring uses parallel pool for handle methods without body, and event loop pool for handle requests with body. I understand that i can change pool by call method subscribeOn and publishOn, but i have two question.\r\n\r\n1. Why spring has this logic by default?\r\n2. Can i use parallel worker for handle requests with body by default (without change pool manually?).\r\n\r\n\r\n\r\n\r\n\r\n","title":"Spring WebFlux Controller default pools","body":"<p>I need advice, there are two controller methods:</p>\n<p>Method with body parameter</p>\n<pre><code>    @RequestMapping(value = &quot;/test1&quot;, method = RequestMethod.POST)\npublic Mono&lt;SuccessEmptyResponse&gt; withBody(@RequestBody CreatePhoneCode command) {\n    return Mono.fromCallable(() -&gt; {\n                System.out.println(&quot;Current thread: &quot; + Thread.currentThread().getName());\n                return SuccessEmptyResponse.getInstance();\n            });\n}\n</code></pre>\n<p>Method without body</p>\n<pre><code>@RequestMapping(value = &quot;/test2&quot;, method = RequestMethod.POST)\npublic Mono&lt;SuccessEmptyResponse&gt; methodWithoutBody() {\n    return Mono.fromCallable(() -&gt; {\n        System.out.println(&quot;Current thread: &quot; + Thread.currentThread().getName());\n        return SuccessEmptyResponse.getInstance();\n    });\n}\n</code></pre>\n<p>Method test1 prints log &quot;Current thread <strong>reactor-http-nio-n</strong>&quot;</p>\n<p>Method test2 prints log &quot;Current thread <strong>parallel-n</strong>&quot;</p>\n<p>How we can see, by default spring uses parallel pool for handle methods without body, and event loop pool for handle requests with body. I understand that i can change pool by call method subscribeOn and publishOn, but i have two question.</p>\n<ol>\n<li>Why spring has this logic by default?</li>\n<li>Can i use parallel worker for handle requests with body by default (without change pool manually?).</li>\n</ol>\n"},{"tags":["java","processing"],"owner":{"account_id":28076391,"reputation":11,"user_id":21448167,"display_name":"Gene Takavic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679568261,"creation_date":1679407094,"question_id":75802164,"body_markdown":"I try to have a function who can detect intersection of a vector in a PShape of type Box. I create a function GetIntersection for that. It work for all box&#39;s faces execept for Front and Back faces. \r\n\r\n```\r\n   public PVector getIntersection(PVector rayOrigin, PVector rayDirection, PShape shape) {\r\n\r\n        if (shape.getKind() == PShape.BOX) {\r\n            // Get the dimensions of the box\r\n            float x = shape.getWidth();\r\n            float y = shape.getHeight();\r\n            float z = shape.getDepth();\r\n\r\n            \r\n            PVector frontIntersection = intersect(rayOrigin, rayDirection, new PVector(-x/2, -y/2, -z/2), new PVector(x/2, -y/2, -z/2));\r\n\r\n            PVector backIntersection = intersect(rayOrigin, rayDirection, new PVector(-x/2, -y/2, z/2), new PVector(x/2, -y/2, z/2));\r\n\r\n            // Calculate left intersection\r\n            PVector leftIntersection = intersect(rayOrigin, rayDirection, new PVector(-x/2, -y/2, -z/2), new PVector(-x/2, y/2, -z/2));\r\n\r\n            // Calculate right intersection\r\n            PVector rightIntersection = intersect(rayOrigin, rayDirection, new PVector(x/2, -y/2, -z/2), new PVector(x/2, y/2, -z/2));\r\n\r\n            // Calculate top intersection\r\n            PVector topIntersection = intersect(rayOrigin, rayDirection, new PVector(-x/2, y/2, -z/2), new PVector(x/2, y/2, -z/2));\r\n\r\n            // Calculate bottom intersection\r\n            PVector bottomIntersection = intersect(rayOrigin, rayDirection, new PVector(-x/2, -y/2, -z/2), new PVector(x/2, -y/2, z/2));\r\n\r\n\r\n            if ( backIntersection != null &amp;&amp; pointTouchesBox(backIntersection, shape) ) {\r\n                test = backIntersection ;\r\n            }\r\n\r\n\r\n            // Check for intersections and return the closest one\r\n            if (frontIntersection != null &amp;&amp; pointTouchesBox(frontIntersection, shape) ) {\r\n                println(&quot;return front\\n&quot;);\r\n                return frontIntersection;\r\n            } else if (backIntersection != null &amp;&amp; pointTouchesBox(backIntersection, shape) ) {\r\n                println(&quot;return back\\n&quot;);\r\n                return backIntersection;\r\n            } else if (leftIntersection != null &amp;&amp; pointTouchesBox(leftIntersection, shape)  ) {\r\n                return leftIntersection;\r\n            } else if (rightIntersection != null &amp;&amp; pointTouchesBox(rightIntersection, shape) ) {\r\n                return rightIntersection;\r\n            } else if (topIntersection != null &amp;&amp; pointTouchesBox(topIntersection, shape) ) {\r\n                return topIntersection;\r\n            } else if (bottomIntersection != null &amp;&amp; pointTouchesBox(bottomIntersection, shape) ) {\r\n                return bottomIntersection;\r\n            } else {\r\n                // If no intersection was found, return null\r\n                return null;\r\n            }\r\n\r\n\r\n        } else {\r\n            // For other shape types, use the original getIntersection function\r\n            for (int i = 0; i &lt; shape.getChildCount(); i++) {\r\n                PVector intersection = getIntersection(rayOrigin, rayDirection, shape.getChild(i));\r\n                if (intersection != null) {\r\n                    return intersection;\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n    public PVector intersect(PVector rayOrigin, PVector rayDirection, PVector p1, PVector p2) {\r\n        PVector v1 = PVector.sub(rayOrigin, p1);\r\n        PVector v2 = PVector.sub(p2, p1);\r\n        PVector v3 = new PVector(-rayDirection.y, rayDirection.x, 0);\r\n        float dot = PVector.dot(v2, v3);\r\n        if (abs(dot) &lt; 0.0001) {\r\n            return null;\r\n        }\r\n        float t1 = cross(v2, v1).z / dot;\r\n        float t2 = PVector.dot(v1, v3) / dot;\r\n        if (t1 &gt;= 0 &amp;&amp; (t2 &gt;= 0 &amp;&amp; t2 &lt;= 1)) {\r\n            return PVector.add(rayOrigin, PVector.mult(rayDirection, t1));\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n    public static PVector cross(PVector v1, PVector v2) {\r\n        float x = v1.y * v2.z - v1.z * v2.y;\r\n        float y = v1.z * v2.x - v1.x * v2.z;\r\n        float z = v1.x * v2.y - v1.y * v2.x;\r\n        return new PVector(x, y, z);\r\n    }\r\n```\r\n\r\nI know that the error is in the calculation of the variable frontIntersection and backIntersection but I didn&#39;t sucess. ","title":"P5 intersection of a vector in a PShape type Box","body":"<p>I try to have a function who can detect intersection of a vector in a PShape of type Box. I create a function GetIntersection for that. It work for all box's faces execept for Front and Back faces.</p>\n<pre><code>   public PVector getIntersection(PVector rayOrigin, PVector rayDirection, PShape shape) {\n\n        if (shape.getKind() == PShape.BOX) {\n            // Get the dimensions of the box\n            float x = shape.getWidth();\n            float y = shape.getHeight();\n            float z = shape.getDepth();\n\n            \n            PVector frontIntersection = intersect(rayOrigin, rayDirection, new PVector(-x/2, -y/2, -z/2), new PVector(x/2, -y/2, -z/2));\n\n            PVector backIntersection = intersect(rayOrigin, rayDirection, new PVector(-x/2, -y/2, z/2), new PVector(x/2, -y/2, z/2));\n\n            // Calculate left intersection\n            PVector leftIntersection = intersect(rayOrigin, rayDirection, new PVector(-x/2, -y/2, -z/2), new PVector(-x/2, y/2, -z/2));\n\n            // Calculate right intersection\n            PVector rightIntersection = intersect(rayOrigin, rayDirection, new PVector(x/2, -y/2, -z/2), new PVector(x/2, y/2, -z/2));\n\n            // Calculate top intersection\n            PVector topIntersection = intersect(rayOrigin, rayDirection, new PVector(-x/2, y/2, -z/2), new PVector(x/2, y/2, -z/2));\n\n            // Calculate bottom intersection\n            PVector bottomIntersection = intersect(rayOrigin, rayDirection, new PVector(-x/2, -y/2, -z/2), new PVector(x/2, -y/2, z/2));\n\n\n            if ( backIntersection != null &amp;&amp; pointTouchesBox(backIntersection, shape) ) {\n                test = backIntersection ;\n            }\n\n\n            // Check for intersections and return the closest one\n            if (frontIntersection != null &amp;&amp; pointTouchesBox(frontIntersection, shape) ) {\n                println(&quot;return front\\n&quot;);\n                return frontIntersection;\n            } else if (backIntersection != null &amp;&amp; pointTouchesBox(backIntersection, shape) ) {\n                println(&quot;return back\\n&quot;);\n                return backIntersection;\n            } else if (leftIntersection != null &amp;&amp; pointTouchesBox(leftIntersection, shape)  ) {\n                return leftIntersection;\n            } else if (rightIntersection != null &amp;&amp; pointTouchesBox(rightIntersection, shape) ) {\n                return rightIntersection;\n            } else if (topIntersection != null &amp;&amp; pointTouchesBox(topIntersection, shape) ) {\n                return topIntersection;\n            } else if (bottomIntersection != null &amp;&amp; pointTouchesBox(bottomIntersection, shape) ) {\n                return bottomIntersection;\n            } else {\n                // If no intersection was found, return null\n                return null;\n            }\n\n\n        } else {\n            // For other shape types, use the original getIntersection function\n            for (int i = 0; i &lt; shape.getChildCount(); i++) {\n                PVector intersection = getIntersection(rayOrigin, rayDirection, shape.getChild(i));\n                if (intersection != null) {\n                    return intersection;\n                }\n            }\n            return null;\n        }\n    }\n\n\n\n\n    public PVector intersect(PVector rayOrigin, PVector rayDirection, PVector p1, PVector p2) {\n        PVector v1 = PVector.sub(rayOrigin, p1);\n        PVector v2 = PVector.sub(p2, p1);\n        PVector v3 = new PVector(-rayDirection.y, rayDirection.x, 0);\n        float dot = PVector.dot(v2, v3);\n        if (abs(dot) &lt; 0.0001) {\n            return null;\n        }\n        float t1 = cross(v2, v1).z / dot;\n        float t2 = PVector.dot(v1, v3) / dot;\n        if (t1 &gt;= 0 &amp;&amp; (t2 &gt;= 0 &amp;&amp; t2 &lt;= 1)) {\n            return PVector.add(rayOrigin, PVector.mult(rayDirection, t1));\n        } else {\n            return null;\n        }\n    }\n    public static PVector cross(PVector v1, PVector v2) {\n        float x = v1.y * v2.z - v1.z * v2.y;\n        float y = v1.z * v2.x - v1.x * v2.z;\n        float z = v1.x * v2.y - v1.y * v2.x;\n        return new PVector(x, y, z);\n    }\n</code></pre>\n<p>I know that the error is in the calculation of the variable frontIntersection and backIntersection but I didn't sucess.</p>\n"},{"tags":["java"],"answers":[{"comments":[{"owner":{"account_id":3142019,"reputation":1563,"user_id":2657302,"accept_rate":62,"display_name":"mahesh"},"score":0,"creation_date":1391564564,"post_id":21566951,"comment_id":32575626,"body_markdown":"Excellent @Josh M, it means if the service is not running it will not show up, tasklist will only show running?","body":"Excellent @Josh M, it means if the service is not running it will not show up, tasklist will only show running?"},{"owner":{"account_id":1306954,"reputation":11661,"user_id":1255746,"accept_rate":78,"display_name":"Josh M"},"score":0,"creation_date":1391568667,"post_id":21566951,"comment_id":32576900,"body_markdown":"@mahesh Correct : ) Tasklist only shows active service and processes.","body":"@mahesh Correct : ) Tasklist only shows active service and processes."},{"owner":{"account_id":3142019,"reputation":1563,"user_id":2657302,"accept_rate":62,"display_name":"mahesh"},"score":1,"creation_date":1391803266,"post_id":21566951,"comment_id":32697636,"body_markdown":"after testing this, it is only searching for windows currently running process and not Services !","body":"after testing this, it is only searching for windows currently running process and not Services !"}],"tags":[],"owner":{"account_id":1306954,"reputation":11661,"user_id":1255746,"accept_rate":78,"display_name":"Josh M"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1391563604,"creation_date":1391563604,"answer_id":21566951,"question_id":21566847,"body_markdown":"This works for me:\r\n\r\n    public boolean isProcessRunning(final String processName) throws Exception{\r\n        final Process process = Runtime.getRuntime().exec(&quot;tasklist&quot;);\r\n        final Scanner reader = new Scanner(process.getInputStream(), &quot;UTF-8&quot;);\r\n        while(reader.hasNextLine())\r\n            if(reader.nextLine().startsWith(processName))\r\n                return true;\r\n        return false;\r\n    }\r\n\r\nNote: With the method above, you have to enter the exact process name (case sensitive).\r\nHere is what the table looks like:\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/sN5Zv.png","title":"how to check particular windows service is running using","body":"<p>This works for me:</p>\n\n<pre><code>public boolean isProcessRunning(final String processName) throws Exception{\n    final Process process = Runtime.getRuntime().exec(\"tasklist\");\n    final Scanner reader = new Scanner(process.getInputStream(), \"UTF-8\");\n    while(reader.hasNextLine())\n        if(reader.nextLine().startsWith(processName))\n            return true;\n    return false;\n}\n</code></pre>\n\n<p>Note: With the method above, you have to enter the exact process name (case sensitive).\nHere is what the table looks like:</p>\n\n<p><img src=\"https://i.stack.imgur.com/sN5Zv.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":3142019,"reputation":1563,"user_id":2657302,"accept_rate":62,"display_name":"mahesh"},"comment_count":0,"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1391804204,"creation_date":1391804204,"answer_id":21636976,"question_id":21566847,"body_markdown":"below is the correct code for verifying service!\r\n\r\n\t     Process process = Runtime.getRuntime().exec(&quot;sc query &quot;+nameOfService);\r\n\t    Scanner reader = new Scanner(process.getInputStream(), &quot;UTF-8&quot;);\r\n\t    while(reader.hasNextLine())\r\n\t        if(reader.nextLine().contains(serviceNAME))\r\n\t            return true;\r\n\t    return false;","title":"how to check particular windows service is running using","body":"<p>below is the correct code for verifying service!</p>\n\n<pre><code>     Process process = Runtime.getRuntime().exec(\"sc query \"+nameOfService);\n    Scanner reader = new Scanner(process.getInputStream(), \"UTF-8\");\n    while(reader.hasNextLine())\n        if(reader.nextLine().contains(serviceNAME))\n            return true;\n    return false;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24659648,"reputation":21,"user_id":18555998,"display_name":"Gourav Kaushal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679568207,"creation_date":1679568207,"answer_id":75821997,"question_id":21566847,"body_markdown":"With the help of ProcessBuilder we can launch the command prompt(in background) and fetch the status of service.\r\n\r\n    Process process = new ProcessBuilder(&quot;C:\\\\Windows\\\\System32\\\\sc.exe&quot;, &quot;query&quot;, \r\n    serviceName).start(); //serviceName is the name of the service.\r\n    InputStream is = process.getInputStream();\r\n    InputStreamReader isr = new InputStreamReader(is);\r\n    BufferedReader br = new BufferedReader(isr);\r\n\r\n    String resultLine;\r\n    String consoleOutput = &quot;&quot;;\r\n\r\n    while ((resultLine = br.readresultLine()) != null) {\r\n\t    consoleOutput += resultLine + &quot;\\n&quot;;\r\n    }\r\n\r\n    if (consoleOutput.contains(&quot;STATE&quot;)) {\r\n\t    if (consoleOutput.contains(&quot;RUNNING&quot;)) {\r\n\t\t    // Service is Running...!!\r\n\t    } else {\r\n\t\t    // Service is Not Running...!!\r\n\t    }\r\n    } else {\r\n\t    // Service Not Found..!!\r\n    }","title":"how to check particular windows service is running using","body":"<p>With the help of ProcessBuilder we can launch the command prompt(in background) and fetch the status of service.</p>\n<pre><code>Process process = new ProcessBuilder(&quot;C:\\\\Windows\\\\System32\\\\sc.exe&quot;, &quot;query&quot;, \nserviceName).start(); //serviceName is the name of the service.\nInputStream is = process.getInputStream();\nInputStreamReader isr = new InputStreamReader(is);\nBufferedReader br = new BufferedReader(isr);\n\nString resultLine;\nString consoleOutput = &quot;&quot;;\n\nwhile ((resultLine = br.readresultLine()) != null) {\n    consoleOutput += resultLine + &quot;\\n&quot;;\n}\n\nif (consoleOutput.contains(&quot;STATE&quot;)) {\n    if (consoleOutput.contains(&quot;RUNNING&quot;)) {\n        // Service is Running...!!\n    } else {\n        // Service is Not Running...!!\n    }\n} else {\n    // Service Not Found..!!\n}\n</code></pre>\n"}],"owner":{"account_id":3142019,"reputation":1563,"user_id":2657302,"accept_rate":62,"display_name":"mahesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3345,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":21636976,"answer_count":3,"score":0,"last_activity_date":1679568207,"creation_date":1391562996,"question_id":21566847,"body_markdown":"I have a requirement to check if the given windows service say &quot;XYZService&quot; is running fine.\r\n\r\nI understand that we can issue a &quot;sc query &lt;SERVICENAME&gt;&quot; command and check the status of it, windows command prompt.\r\n\r\nbut I don&#39;t know how to do in java.\r\n\r\nI am using JDK1.6 in my application.\r\n\r\nappreciate any help.","title":"how to check particular windows service is running using","body":"<p>I have a requirement to check if the given windows service say \"XYZService\" is running fine.</p>\n\n<p>I understand that we can issue a \"sc query \" command and check the status of it, windows command prompt.</p>\n\n<p>but I don't know how to do in java.</p>\n\n<p>I am using JDK1.6 in my application.</p>\n\n<p>appreciate any help.</p>\n"},{"tags":["java","mysql","stored-procedures","client","call"],"owner":{"account_id":28102498,"reputation":1,"user_id":21471497,"display_name":"Marco Lorenzini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679568053,"creation_date":1679567774,"question_id":75821928,"body_markdown":"I have a problem with my java client calling the stored procedure, this is the code of the call:\r\n\r\n    try {   \r\n        Connection conn = ConnectionFactory.getConnection();\r\n        CallableStatement cs = conn.prepareCall(&quot;{call inserisci_corso(?,?,?,?,?,?,?)}&quot;);\r\n        cs.setString(1, nomeCorso);\r\n        cs.setInt(2, minPart);\r\n        cs.setInt(3, maxPart);\r\n        cs.setDate(4, dataInizioCorso);\r\n        cs.setInt(5, idVasca);\r\n        cs.setBigDecimal(6, prezzo);\r\n        cs.registerOutParameter(7, Types.INTEGER);                \r\n        cs.executeQuery(); //Eseguo chiamata\r\n        idCorso = cs.getInt(7);\r\n    } catch (SQLException e) { //Gestione errore\r\n        throw new DAOException(&quot;Errore nell&#39;aggiunta del corso: &quot; + e.getMessage());\r\n    }\r\n\r\nThis is the code of the stored procedure on mySQL Workbench:\r\n\r\n    CREATE PROCEDURE `inserisci_corso` (in var_nomeCorso VARCHAR(45), in var_minPartecipanti INT, in var_maxPartecipanti INT, in var_dataInizioCorso DATE, in var_idVasca INT, in var_costo DECIMAL, out var_codiceCorso INT)\r\n    BEGIN\r\n        declare exit handler for sqlexception\r\n        begin\r\n    \t\trollback;\r\n            resignal;\r\n    \tend;\r\n        \r\n        if var_maxPartecipanti &lt; var_minPartecipanti then\r\n            signal sqlstate &#39;45000&#39; set message_text = &#39;Il numero minimo di partecipanti deve essere inferiore al numero massimo di partecipanti&#39;;\r\n        elseif var_dataInizioCorso &lt; current_date() then\r\n    \t\tsignal sqlstate &#39;45000&#39; set message_text = &#39;La data di inizio corso non pu&#242; essere antecedente alla data odierna&#39;;\r\n    \tend if;\r\n            \r\n        set transaction isolation level repeatable read;\r\n        start transaction;\r\n    \t\tinsert into `Corso`(`Nome`, `MinPartecipanti`,`MaxPartecipanti`,`DataInizioCorso`,`Vasca_IdVasca`,`Costo`)\r\n            values(var_nomeCorso,var_minPartecipanti,var_maxPartecipanti,var_dataInizioCorso,var_idVasca, var_costo);\r\n            set var_codiceCorso = last_insert_id();\r\n            commit;\r\n            \r\n    end\r\n\r\nI tried to write the call like: `mydb.inserisci_corso` but it does not work\r\n\r\n","title":"Error: Parameter number 7 is not an OUT parameter","body":"<p>I have a problem with my java client calling the stored procedure, this is the code of the call:</p>\n<pre><code>try {   \n    Connection conn = ConnectionFactory.getConnection();\n    CallableStatement cs = conn.prepareCall(&quot;{call inserisci_corso(?,?,?,?,?,?,?)}&quot;);\n    cs.setString(1, nomeCorso);\n    cs.setInt(2, minPart);\n    cs.setInt(3, maxPart);\n    cs.setDate(4, dataInizioCorso);\n    cs.setInt(5, idVasca);\n    cs.setBigDecimal(6, prezzo);\n    cs.registerOutParameter(7, Types.INTEGER);                \n    cs.executeQuery(); //Eseguo chiamata\n    idCorso = cs.getInt(7);\n} catch (SQLException e) { //Gestione errore\n    throw new DAOException(&quot;Errore nell'aggiunta del corso: &quot; + e.getMessage());\n}\n</code></pre>\n<p>This is the code of the stored procedure on mySQL Workbench:</p>\n<pre><code>CREATE PROCEDURE `inserisci_corso` (in var_nomeCorso VARCHAR(45), in var_minPartecipanti INT, in var_maxPartecipanti INT, in var_dataInizioCorso DATE, in var_idVasca INT, in var_costo DECIMAL, out var_codiceCorso INT)\nBEGIN\n    declare exit handler for sqlexception\n    begin\n        rollback;\n        resignal;\n    end;\n    \n    if var_maxPartecipanti &lt; var_minPartecipanti then\n        signal sqlstate '45000' set message_text = 'Il numero minimo di partecipanti deve essere inferiore al numero massimo di partecipanti';\n    elseif var_dataInizioCorso &lt; current_date() then\n        signal sqlstate '45000' set message_text = 'La data di inizio corso non può essere antecedente alla data odierna';\n    end if;\n        \n    set transaction isolation level repeatable read;\n    start transaction;\n        insert into `Corso`(`Nome`, `MinPartecipanti`,`MaxPartecipanti`,`DataInizioCorso`,`Vasca_IdVasca`,`Costo`)\n        values(var_nomeCorso,var_minPartecipanti,var_maxPartecipanti,var_dataInizioCorso,var_idVasca, var_costo);\n        set var_codiceCorso = last_insert_id();\n        commit;\n        \nend\n</code></pre>\n<p>I tried to write the call like: <code>mydb.inserisci_corso</code> but it does not work</p>\n"},{"tags":["java","gson"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1679467660,"post_id":75808978,"comment_id":133725405,"body_markdown":"A date in java has no format. Please share the related code!","body":"A date in java has no format. Please share the related code!"},{"owner":{"account_id":21724606,"reputation":722,"user_id":16034206,"display_name":"experiment unit 1998X"},"score":1,"creation_date":1679468687,"post_id":75808978,"comment_id":133725549,"body_markdown":"I m not sure whats in your mind, but I dont think a JSON parser can convert date formats. You are looking for java.time library","body":"I m not sure whats in your mind, but I dont think a JSON parser can convert date formats. You are looking for java.time library"},{"owner":{"account_id":4033699,"reputation":99,"user_id":3318934,"display_name":"Purushothama"},"score":0,"creation_date":1679470646,"post_id":75808978,"comment_id":133725916,"body_markdown":"@experimentunit1998X question updated ,please  check","body":"@experimentunit1998X question updated ,please  check"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679471663,"post_id":75808978,"comment_id":133726141,"body_markdown":"Seems related: [Java 8 LocalDateTime deserialized using Gson](https://stackoverflow.com/questions/22310143/java-8-localdatetime-deserialized-using-gson) Did you search? What did you find?","body":"Seems related: <a href=\"https://stackoverflow.com/questions/22310143/java-8-localdatetime-deserialized-using-gson\">Java 8 LocalDateTime deserialized using Gson</a> Did you search? What did you find?"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679570139,"post_id":75808978,"comment_id":133746733,"body_markdown":"A `LocalDateTime` does not have a format (its `toString()` will always use the ISO-8601 format. If you want to show a different format, you&#39;ll need to format it explicitly. Where are you having problems, converting from JSON, or displaying the `LocalDateTime`?","body":"A <code>LocalDateTime</code> does not have a format (its <code>toString()</code> will always use the ISO-8601 format. If you want to show a different format, you&#39;ll need to format it explicitly. Where are you having problems, converting from JSON, or displaying the <code>LocalDateTime</code>?"}],"answers":[{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679472956,"post_id":75809662,"comment_id":133726391,"body_markdown":"The formatting of the `LocalDateTime` can be put in the `toString` method and/or other methods of the enclosing class (`TestJava` in the question) is desired (typically it would not be the most important part).","body":"The formatting of the <code>LocalDateTime</code> can be put in the <code>toString</code> method and/or other methods of the enclosing class (<code>TestJava</code> in the question) is desired (typically it would not be the most important part)."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679479865,"post_id":75809662,"comment_id":133728109,"body_markdown":"Your deserializer didn’t work for me. I got *com.google.gson.JsonIOException: Failed making field &#39;java.time.LocalDateTime#date&#39; accessible; either increase its visibility or write a custom TypeAdapter for its declaring type.*","body":"Your deserializer didn’t work for me. I got <i>com.google.gson.JsonIOException: Failed making field &#39;java.time.LocalDateTime#date&#39; accessible; either increase its visibility or write a custom TypeAdapter for its declaring type.</i>"},{"owner":{"account_id":4033699,"reputation":99,"user_id":3318934,"display_name":"Purushothama"},"score":1,"creation_date":1679481014,"post_id":75809662,"comment_id":133728394,"body_markdown":"deserializer didn’t work for me to","body":"deserializer didn’t work for me to"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679481711,"post_id":75809662,"comment_id":133728553,"body_markdown":"The way I read [the docs](https://www.javadoc.io/static/com.google.code.gson/gson/2.8.5/com/google/gson/GsonBuilder.html#setDateFormat-java.lang.String-) `setDateFormat()` only affected serialization and deserialization of `Date` objects back when we used those a decade ago. You probably need to register a type adapter.","body":"The way I read <a href=\"https://www.javadoc.io/static/com.google.code.gson/gson/2.8.5/com/google/gson/GsonBuilder.html#setDateFormat-java.lang.String-\" rel=\"nofollow noreferrer\">the docs</a> <code>setDateFormat()</code> only affected serialization and deserialization of <code>Date</code> objects back when we used those a decade ago. You probably need to register a type adapter."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1679490764,"post_id":75809662,"comment_id":133730992,"body_markdown":"@OleV.V. I have corrected/rewritten my answer.","body":"@OleV.V. I have corrected/rewritten my answer."},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1679498103,"post_id":75809662,"comment_id":133733444,"body_markdown":"@OleV.V.  LocalDateTime object does not have a format.","body":"@OleV.V.  LocalDateTime object does not have a format."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679499201,"post_id":75809662,"comment_id":133733726,"body_markdown":"Very true. [Jens said that in a comment already.](https://stackoverflow.com/questions/75808978/gson-date-conversion/75809662?noredirect=1#comment133725405_75808978) It’s unclear to me whether the OP falsely thought it could have or they wanted string output in the mentioned format. Or maybe it didn’t matter at all.","body":"Very true. <a href=\"https://stackoverflow.com/questions/75808978/gson-date-conversion/75809662?noredirect=1#comment133725405_75808978\">Jens said that in a comment already.</a> It’s unclear to me whether the OP falsely thought it could have or they wanted string output in the mentioned format. Or maybe it didn’t matter at all."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679507399,"post_id":75809662,"comment_id":133736058,"body_markdown":"I get `toString: TestJava [service=2, userIP=10.1.1.2.3, startDateTime=2023-mar.-21 12:55:44`. One will probably want to specify locale on the formatters. Otherwise your solution works the way you describe. +1","body":"I get <code>toString: TestJava [service=2, userIP=10.1.1.2.3, startDateTime=2023-mar.-21 12:55:44</code>. One will probably want to specify locale on the formatters. Otherwise your solution works the way you describe. +1"}],"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"comment_count":8,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679490676,"creation_date":1679472015,"answer_id":75809662,"question_id":75808978,"body_markdown":"If you want to read **and output** json. \r\n\r\nDefine a custom deserialiser as follows:\r\n\r\n    class LocalDateTimeDeserializer implements JsonDeserializer &lt; LocalDateTime &gt; {\r\n        @Override\r\n        public LocalDateTime deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\r\n        throws JsonParseException {\r\n            return LocalDateTime.parse(json.getAsString(), \r\n                DateTimeFormatter.ofPattern(&quot;yyyyMMdd HH:mm:ss&quot;).withLocale(Locale.ENGLISH));\r\n        }\r\n    }\r\n\r\nDefine a custom serialiser as follows;\r\n\r\n    class LocalDateTimeSerializer implements JsonSerializer &lt; LocalDateTime &gt; { \r\n        private static final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MMM-dd HH:mm:ss&quot;);\r\n    \r\n        @Override\r\n        public JsonElement serialize(LocalDateTime localDateTime, Type srcType, JsonSerializationContext context) {\r\n            return new JsonPrimitive(formatter.format(localDateTime));\r\n        }\r\n    }\r\n\r\nString them together like this (for calling from static main):\r\n\r\n    private static Gson buildGson() {\r\n    \tGsonBuilder gsonBuilder = new GsonBuilder();\r\n    \tgsonBuilder.registerTypeAdapter(LocalDateTime.class, new LocalDateTimeSerializer());\r\n    \tgsonBuilder.registerTypeAdapter(LocalDateTime.class, new LocalDateTimeDeserializer());\r\n    \r\n    \tGson gson = gsonBuilder.setPrettyPrinting().create();\r\n    \treturn gson;\r\n    }\r\n\r\nImprove the definition of TestJava.toString() like this:\r\n\r\n    @Override\r\n    public String toString() {\r\n    \treturn &quot;TestJava [service=&quot; + service + &quot;, userIP=&quot; + userIP + &quot;, startDateTime=&quot; + formatter.format(startDateTime) + &quot;]&quot;;\r\n    }\r\n    \r\n    private static final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MMM-dd HH:mm:ss&quot;);\r\n\r\nUse it like this:\r\n\r\n    public static void main(String[] args) {\r\n    \r\n    \tGson gson = buildGson();\r\n    \t\r\n    \tString inputValue = &quot;{\\&quot;service\\&quot;: 2,\\&quot;userIP\\&quot;: \\&quot;10.1.1.2.3\\&quot;,\\&quot;startDateTime\\&quot;: \\&quot;20230321 12:55:44\\&quot;}&quot;;\r\n    \t\r\n    \tTestJava object = gson.fromJson(inputValue, TestJava.class);\r\n    \t\r\n    \tString outputValue = gson.toJson(object);\r\n    \t\r\n    \tSystem.out.println(&quot;Serialised: &quot; + outputValue);\r\n    \t\r\n    \tSystem.out.println(&quot;toString: &quot; + object);\r\n    \r\n    }\r\n\r\nOutput:\r\n\r\n    Serialised: {\r\n      &quot;service&quot;: 2,\r\n      &quot;userIP&quot;: &quot;10.1.1.2.3&quot;,\r\n      &quot;startDateTime&quot;: &quot;2023-Mar-21 12:55:44&quot;\r\n    }\r\n    toString: TestJava [service=2, userIP=10.1.1.2.3, startDateTime=2023-Mar-21 12:55:44]\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Gson Date Conversion","body":"<p>If you want to read <strong>and output</strong> json.</p>\n<p>Define a custom deserialiser as follows:</p>\n<pre><code>class LocalDateTimeDeserializer implements JsonDeserializer &lt; LocalDateTime &gt; {\n    @Override\n    public LocalDateTime deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context)\n    throws JsonParseException {\n        return LocalDateTime.parse(json.getAsString(), \n            DateTimeFormatter.ofPattern(&quot;yyyyMMdd HH:mm:ss&quot;).withLocale(Locale.ENGLISH));\n    }\n}\n</code></pre>\n<p>Define a custom serialiser as follows;</p>\n<pre><code>class LocalDateTimeSerializer implements JsonSerializer &lt; LocalDateTime &gt; { \n    private static final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MMM-dd HH:mm:ss&quot;);\n\n    @Override\n    public JsonElement serialize(LocalDateTime localDateTime, Type srcType, JsonSerializationContext context) {\n        return new JsonPrimitive(formatter.format(localDateTime));\n    }\n}\n</code></pre>\n<p>String them together like this (for calling from static main):</p>\n<pre><code>private static Gson buildGson() {\n    GsonBuilder gsonBuilder = new GsonBuilder();\n    gsonBuilder.registerTypeAdapter(LocalDateTime.class, new LocalDateTimeSerializer());\n    gsonBuilder.registerTypeAdapter(LocalDateTime.class, new LocalDateTimeDeserializer());\n\n    Gson gson = gsonBuilder.setPrettyPrinting().create();\n    return gson;\n}\n</code></pre>\n<p>Improve the definition of TestJava.toString() like this:</p>\n<pre><code>@Override\npublic String toString() {\n    return &quot;TestJava [service=&quot; + service + &quot;, userIP=&quot; + userIP + &quot;, startDateTime=&quot; + formatter.format(startDateTime) + &quot;]&quot;;\n}\n\nprivate static final DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;yyyy-MMM-dd HH:mm:ss&quot;);\n</code></pre>\n<p>Use it like this:</p>\n<pre><code>public static void main(String[] args) {\n\n    Gson gson = buildGson();\n    \n    String inputValue = &quot;{\\&quot;service\\&quot;: 2,\\&quot;userIP\\&quot;: \\&quot;10.1.1.2.3\\&quot;,\\&quot;startDateTime\\&quot;: \\&quot;20230321 12:55:44\\&quot;}&quot;;\n    \n    TestJava object = gson.fromJson(inputValue, TestJava.class);\n    \n    String outputValue = gson.toJson(object);\n    \n    System.out.println(&quot;Serialised: &quot; + outputValue);\n    \n    System.out.println(&quot;toString: &quot; + object);\n\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>Serialised: {\n  &quot;service&quot;: 2,\n  &quot;userIP&quot;: &quot;10.1.1.2.3&quot;,\n  &quot;startDateTime&quot;: &quot;2023-Mar-21 12:55:44&quot;\n}\ntoString: TestJava [service=2, userIP=10.1.1.2.3, startDateTime=2023-Mar-21 12:55:44]\n</code></pre>\n"}],"owner":{"account_id":4033699,"reputation":99,"user_id":3318934,"display_name":"Purushothama"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":370,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1679570153,"answer_count":1,"score":-1,"last_activity_date":1679567811,"creation_date":1679466224,"question_id":75808978,"body_markdown":"I&#39;m receiving the date in the format from the server is `yyyyMMdd HH:mm:ss` and I need to convert  to the date format `yyyy-MMM-dd HH:mm:ss` using Gson JsonDeserializer.\r\n\r\nExample:\r\n\r\nReceived date from server: `20230320 16:09:05`\r\n\r\nto be converted to: `2023-Mar-20 16:09:05`\r\n\r\nI want to convert JSON to Java using Gson API\r\n\r\nJSON\r\n```json\r\n{&quot;service&quot;: 2,&quot;userIP&quot;: &quot;10.1.1.2.3&quot;,&quot;startDateTime&quot;: &quot;20230321 12:55:44&quot;}\r\n```\r\n \r\nJava class\r\n\r\n```java\r\npublic class TestJava \r\n{ \r\n    private Long service;\r\n    private String userIP;\r\n    private LocalDateTime startDateTime;\r\n    //setter and getter\r\n}\r\n```\r\n\r\nExpected output as below\r\n\r\n```none\r\nTestJava [service=2, userIP=10.1.1.2.3, startDateTime=2023-Mar-21 12:55:44]\r\n```\r\n","title":"Gson Date Conversion","body":"<p>I'm receiving the date in the format from the server is <code>yyyyMMdd HH:mm:ss</code> and I need to convert  to the date format <code>yyyy-MMM-dd HH:mm:ss</code> using Gson JsonDeserializer.</p>\n<p>Example:</p>\n<p>Received date from server: <code>20230320 16:09:05</code></p>\n<p>to be converted to: <code>2023-Mar-20 16:09:05</code></p>\n<p>I want to convert JSON to Java using Gson API</p>\n<p>JSON</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;service&quot;: 2,&quot;userIP&quot;: &quot;10.1.1.2.3&quot;,&quot;startDateTime&quot;: &quot;20230321 12:55:44&quot;}\n</code></pre>\n<p>Java class</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class TestJava \n{ \n    private Long service;\n    private String userIP;\n    private LocalDateTime startDateTime;\n    //setter and getter\n}\n</code></pre>\n<p>Expected output as below</p>\n<pre class=\"lang-none prettyprint-override\"><code>TestJava [service=2, userIP=10.1.1.2.3, startDateTime=2023-Mar-21 12:55:44]\n</code></pre>\n"},{"tags":["java","postgresql","jdbc"],"comments":[{"owner":{"account_id":2675582,"reputation":1012,"user_id":2312064,"display_name":"krzydyn"},"score":0,"creation_date":1679563789,"post_id":75821134,"comment_id":133745105,"body_markdown":"https://stackoverflow.com/questions/17842211/how-to-use-an-arraylist-as-a-prepared-statement-parameter\nhttps://stackoverflow.com/questions/3107044/preparedstatement-with-list-of-parameters-in-a-in-clause","body":"<a href=\"https://stackoverflow.com/questions/17842211/how-to-use-an-arraylist-as-a-prepared-statement-parameter\" title=\"how to use an arraylist as a prepared statement parameter\">stackoverflow.com/questions/17842211/&hellip;</a> <a href=\"https://stackoverflow.com/questions/3107044/preparedstatement-with-list-of-parameters-in-a-in-clause\" title=\"preparedstatement with list of parameters in a in clause\">stackoverflow.com/questions/3107044/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13222912,"reputation":13,"user_id":9549042,"display_name":"Ehenoma"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679564941,"creation_date":1679564941,"answer_id":75821446,"question_id":75821134,"body_markdown":"You can use the `ANY` Operator. Or use two placeholders and then set them individually.\r\n\r\n**Solution 1: Any Operator** \r\n\r\nChange your query to \r\n\r\n    WHERE id = ANY (?)\r\n\r\nThis should have the same result and work with the current code you have.\r\n\r\n\r\n**Solution 2: Multiple placeholders**\r\n\r\nChange your query to \r\n\r\n    WHERE id = IN (?, ?)\r\n\r\nAnd then set both UUIDs \r\n\r\n    stm.setString(1, &quot;1a93f6f4-c1b4-489a-83dc-a7fe0a15d8ce&quot;);\r\n    stm.setString(2, &quot;1a93f6f4-c1b4-489a-83dc-a7fe0a15d8ce&quot;);\r\n\r\n ","title":"How to delete a number of rows from Postgresql where UUID is in a list of array?","body":"<p>You can use the <code>ANY</code> Operator. Or use two placeholders and then set them individually.</p>\n<p><strong>Solution 1: Any Operator</strong></p>\n<p>Change your query to</p>\n<pre><code>WHERE id = ANY (?)\n</code></pre>\n<p>This should have the same result and work with the current code you have.</p>\n<p><strong>Solution 2: Multiple placeholders</strong></p>\n<p>Change your query to</p>\n<pre><code>WHERE id = IN (?, ?)\n</code></pre>\n<p>And then set both UUIDs</p>\n<pre><code>stm.setString(1, &quot;1a93f6f4-c1b4-489a-83dc-a7fe0a15d8ce&quot;);\nstm.setString(2, &quot;1a93f6f4-c1b4-489a-83dc-a7fe0a15d8ce&quot;);\n</code></pre>\n"}],"owner":{"account_id":1199784,"reputation":18304,"user_id":1170677,"accept_rate":54,"display_name":"Adelin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1679567558,"creation_date":1679563071,"question_id":75821134,"body_markdown":"I have a table with an ID that is of type UUID, how do I delete the records where id is in a list of UUIDs? How to construct this query? \r\n\r\n    List&lt;UUID&gt; s = new ArrayList&lt;&gt;();\r\n        s.add(UUID.fromString(&quot;1a93f6f4-c1b4-489a-83dc-a7fe0a15d8ce&quot;));\r\n        s.add(UUID.fromString(&quot;1a93f6f4-c1b4-489a-83dc-a7fe0a15d8ce&quot;));\r\n\r\n    PreparedStatement stm = conn.prepareStatement(\r\n                            &quot;delete from table_name where id in (?)&quot;);\r\n            Array array = conn.createArrayOf(&quot;UUID&quot;, s.toArray());\r\n            stm.setArray(1, array);\r\n            int deletedCount = stm.executeUpdate();\r\n\r\nid is of type UUID \r\nI get the following error. \r\n\r\n    Exception in thread &quot;main&quot; org.postgresql.util.PSQLException: ERROR: cannot cast type uuid[] to uuid\r\n      Position: 129\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)\r\n    \tat org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)\r\n    \tat org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)\r\n    \tat org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)\r\n    \tat org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)\r\n    \tat org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)\r\n    \tat org.example.TestJJDBCUUID.main(TestJJDBCUUID.java:35)\r\n\r\n \r\n\r\n\r\n","title":"How to delete a number of rows from Postgresql where UUID is in a list of array?","body":"<p>I have a table with an ID that is of type UUID, how do I delete the records where id is in a list of UUIDs? How to construct this query?</p>\n<pre><code>List&lt;UUID&gt; s = new ArrayList&lt;&gt;();\n    s.add(UUID.fromString(&quot;1a93f6f4-c1b4-489a-83dc-a7fe0a15d8ce&quot;));\n    s.add(UUID.fromString(&quot;1a93f6f4-c1b4-489a-83dc-a7fe0a15d8ce&quot;));\n\nPreparedStatement stm = conn.prepareStatement(\n                        &quot;delete from table_name where id in (?)&quot;);\n        Array array = conn.createArrayOf(&quot;UUID&quot;, s.toArray());\n        stm.setArray(1, array);\n        int deletedCount = stm.executeUpdate();\n</code></pre>\n<p>id is of type UUID\nI get the following error.</p>\n<pre><code>Exception in thread &quot;main&quot; org.postgresql.util.PSQLException: ERROR: cannot cast type uuid[] to uuid\n  Position: 129\n    at org.postgresql.core.v3.QueryExecutorImpl.receiveErrorResponse(QueryExecutorImpl.java:2713)\n    at org.postgresql.core.v3.QueryExecutorImpl.processResults(QueryExecutorImpl.java:2401)\n    at org.postgresql.core.v3.QueryExecutorImpl.execute(QueryExecutorImpl.java:368)\n    at org.postgresql.jdbc.PgStatement.executeInternal(PgStatement.java:498)\n    at org.postgresql.jdbc.PgStatement.execute(PgStatement.java:415)\n    at org.postgresql.jdbc.PgPreparedStatement.executeWithFlags(PgPreparedStatement.java:190)\n    at org.postgresql.jdbc.PgPreparedStatement.executeUpdate(PgPreparedStatement.java:152)\n    at org.example.TestJJDBCUUID.main(TestJJDBCUUID.java:35)\n</code></pre>\n"},{"tags":["java","lambda","java-8","java-stream"],"comments":[{"owner":{"account_id":134022,"reputation":717193,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"score":0,"creation_date":1424351478,"post_id":28607191,"comment_id":45518545,"body_markdown":"What do you mean by &quot;reverse order&quot;? If you replace `-1 * answer` with `answer`, the order will change to reverse of what it was with `-1 * ...`.","body":"What do you mean by &quot;reverse order&quot;? If you replace <code>-1 * answer</code> with <code>answer</code>, the order will change to reverse of what it was with <code>-1 * ...</code>."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1424379161,"post_id":28607191,"comment_id":45536385,"body_markdown":"Beware! All of your code suggests that you want to use [`forEachOrdered`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#forEachOrdered-java.util.function.Consumer-) instead of [`forEach`](http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#forEach-java.util.function.Consumer-)","body":"Beware! All of your code suggests that you want to use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#forEachOrdered-java.util.function.Consumer-\" rel=\"nofollow noreferrer\"><code>forEachOrdered</code></a> instead of <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#forEach-java.util.function.Consumer-\" rel=\"nofollow noreferrer\"><code>forEach</code></a>"},{"owner":{"account_id":1065081,"reputation":14112,"user_id":1065869,"accept_rate":57,"display_name":"Elad Benda2"},"score":0,"creation_date":1424450424,"post_id":28607191,"comment_id":45567737,"body_markdown":"why is that? can you explain?","body":"why is that? can you explain?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1424452850,"post_id":28607191,"comment_id":45569162,"body_markdown":"Follow the links. Simply said, `forEachOrdered`, as the name suggests, cares about encounter order which is relevant as you want to skip a certain number of *newest* files which relies on the “sorted by modification time” *order*.","body":"Follow the links. Simply said, <code>forEachOrdered</code>, as the name suggests, cares about encounter order which is relevant as you want to skip a certain number of <i>newest</i> files which relies on the “sorted by modification time” <i>order</i>."},{"owner":{"account_id":1065081,"reputation":14112,"user_id":1065869,"accept_rate":57,"display_name":"Elad Benda2"},"score":0,"creation_date":1424505947,"post_id":28607191,"comment_id":45585364,"body_markdown":"I don&#39;t fully get it. as the `forEach` in my example happens after the `skip`. meaning after my filter, I don&#39;t care about the order","body":"I don&#39;t fully get it. as the <code>forEach</code> in my example happens after the <code>skip</code>. meaning after my filter, I don&#39;t care about the order"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1494241244,"post_id":28607191,"comment_id":74727538,"body_markdown":"A bit late, I want to acknowledge that your understanding of how `sort`→`skip`→(unordered)`forEach` should work, is correct and that it is indeed implemented to work this way in today’s JREs, but back in 2015, when the previous comments were made, it was indeed an issue (as you may read in [this question](https://stackoverflow.com/q/28259636/2711488)).","body":"A bit late, I want to acknowledge that your understanding of how <code>sort</code>→<code>skip</code>→(unordered)<code>forEach</code> should work, is correct and that it is indeed implemented to work this way in today’s JREs, but back in 2015, when the previous comments were made, it was indeed an issue (as you may read in <a href=\"https://stackoverflow.com/q/28259636/2711488\">this question</a>)."}],"answers":[{"comments":[{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":330,"creation_date":1424379068,"post_id":28607266,"comment_id":45536338,"body_markdown":"… or `Comparator.comparingLong(File::lastModified).reversed()`","body":"… or <code>Comparator.comparingLong(File::lastModified).reversed()</code>"},{"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"score":7,"creation_date":1494401431,"post_id":28607266,"comment_id":74806425,"body_markdown":"@Holger Stream of String, and having `comparingLong(v-&gt;Long.valueOf(v)).reversed()` throws compiling error: `java.lang.valueOf(java.lang.String) cannot be used on java.lang.valueOf(java.lang.Object)`. Why?","body":"@Holger Stream of String, and having <code>comparingLong(v-&gt;Long.valueOf(v)).reversed()</code> throws compiling error: <code>java.lang.valueOf(java.lang.String) cannot be used on java.lang.valueOf(java.lang.Object)</code>. Why?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":7,"creation_date":1494409236,"post_id":28607266,"comment_id":74811532,"body_markdown":"@Tiina: see [Comparator.reversed() does not compile using lambda](http://stackoverflow.com/q/25172595/2711488). You may try `comparingLong(Long::valueOf).reversed()` instead. Or `Collections.reverseOrder(comparingLong(v-&gt;Long.valueOf(v)))`","body":"@Tiina: see <a href=\"http://stackoverflow.com/q/25172595/2711488\">Comparator.reversed() does not compile using lambda</a>. You may try <code>comparingLong(Long::valueOf).reversed()</code> instead. Or <code>Collections.reverseOrder(comparingLong(v-&gt;Long.valueOf(v)))</code>"},{"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"score":0,"creation_date":1494412765,"post_id":28607266,"comment_id":74813940,"body_markdown":"@Holger thanks for the link. But the Stuart &quot;not entirely sure why&quot;. I was confused when i saw both methods refer `T` instead of `Object`, meaning the object type should not be lost. But actually it is. That is what I am confused about.","body":"@Holger thanks for the link. But the Stuart &quot;not entirely sure why&quot;. I was confused when i saw both methods refer <code>T</code> instead of <code>Object</code>, meaning the object type should not be lost. But actually it is. That is what I am confused about."},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":0,"creation_date":1494422021,"post_id":28607266,"comment_id":74821193,"body_markdown":"@Tiina: Well, Brian Goetz’ comment explains the difference. I was surprised too that Stuart didn’t know that “target typing” doesn’t work through chained invocations, but on the other hand, that was 2014. See [here](http://stackoverflow.com/a/31383947/2711488) for more details.","body":"@Tiina: Well, Brian Goetz’ comment explains the difference. I was surprised too that Stuart didn’t know that “target typing” doesn’t work through chained invocations, but on the other hand, that was 2014. See <a href=\"http://stackoverflow.com/a/31383947/2711488\">here</a> for more details."},{"owner":{"account_id":1424899,"reputation":4365,"user_id":1348691,"accept_rate":67,"display_name":"Tiina"},"score":0,"creation_date":1494509364,"post_id":28607266,"comment_id":74866854,"body_markdown":"@Holger if chained style would cause type lose, how can we write builder pattern?","body":"@Holger if chained style would cause type lose, how can we write builder pattern?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":4,"creation_date":1494573569,"post_id":28607266,"comment_id":74895747,"body_markdown":"@Tiina: it’s the back-propagation of the *target type* which doesn’t work. If the initial expression of your chain has a stand-alone type, it works through the chain like it did before Java&#160;8. As you can see with the comparator example, using a method reference, i.e. `comparingLong(Long::valueOf).reversed()` works, likewise an explicitly-typed lambda expression works `comparingLong((String v) -&gt; Long.valueOf(v)).reversed()` works. Also `Stream.of(&quot;foo&quot;).mapToInt(s-&gt;s.length()).sum()` works, as the `&quot;foo&quot;` provides the stand-alone type whereas `Stream.of().mapToInt(s-&gt; s.length()).sum()` fails.","body":"@Tiina: it’s the back-propagation of the <i>target type</i> which doesn’t work. If the initial expression of your chain has a stand-alone type, it works through the chain like it did before Java 8. As you can see with the comparator example, using a method reference, i.e. <code>comparingLong(Long::valueOf).reversed()</code> works, likewise an explicitly-typed lambda expression works <code>comparingLong((String v) -&gt; Long.valueOf(v)).reversed()</code> works. Also <code>Stream.of(&quot;foo&quot;).mapToInt(s-&gt;s.length()).sum()</code> works, as the <code>&quot;foo&quot;</code> provides the stand-alone type whereas <code>Stream.of().mapToInt(s-&gt; s.length()).sum()</code> fails."},{"owner":{"account_id":4802929,"reputation":4350,"user_id":3879007,"accept_rate":50,"display_name":"Julian"},"score":0,"creation_date":1545327805,"post_id":28607266,"comment_id":94594456,"body_markdown":"Downvoted because didn&#39;t mention `reversed()` (see comments and other solutions). Happy to turn this into an upvote if corrected.","body":"Downvoted because didn&#39;t mention <code>reversed()</code> (see comments and other solutions). Happy to turn this into an upvote if corrected."},{"owner":{"account_id":3849703,"reputation":435,"user_id":3190174,"accept_rate":75,"display_name":"Javo"},"score":0,"creation_date":1620300595,"post_id":28607266,"comment_id":119163102,"body_markdown":"But isn&#39;t 1. sorting 2. reversing more ineffective then 1. inverted sort ?! My only concern are null values","body":"But isn&#39;t 1. sorting 2. reversing more ineffective then 1. inverted sort ?! My only concern are null values"}],"tags":[],"owner":{"account_id":2247970,"reputation":7110,"user_id":1980909,"accept_rate":100,"display_name":"Adrian Leonhard"},"comment_count":9,"down_vote_count":4,"up_vote_count":302,"is_accepted":true,"score":298,"last_activity_date":1424353122,"creation_date":1424351329,"answer_id":28607266,"question_id":28607191,"body_markdown":"You can adapt the solution you linked in https://stackoverflow.com/questions/5894818/how-to-sort-arraylistlong-in-java-in-decreasing-order by wrapping it in a lambda:\r\n\r\n`.sorted((f1, f2) -&gt; Long.compare(f2.lastModified(), f1.lastModified())`\r\n\r\nnote that *f2* is the first argument of `Long.compare`, not the second, so the result will be reversed.","title":"How to use a Java8 lambda to sort a stream in reverse order?","body":"<p>You can adapt the solution you linked in <a href=\"https://stackoverflow.com/questions/5894818/how-to-sort-arraylistlong-in-java-in-decreasing-order\">How to sort ArrayList&lt;Long&gt; in Java in decreasing order?</a> by wrapping it in a lambda:</p>\n\n<p><code>.sorted((f1, f2) -&gt; Long.compare(f2.lastModified(), f1.lastModified())</code></p>\n\n<p>note that <em>f2</em> is the first argument of <code>Long.compare</code>, not the second, so the result will be reversed.</p>\n"},{"comments":[{"owner":{"account_id":23949,"reputation":63054,"user_id":60518,"accept_rate":59,"display_name":"Tim B&#252;the"},"score":3,"creation_date":1472068574,"post_id":28607267,"comment_id":65609341,"body_markdown":"Well, he asked about streams, but I like your answer nonetheless.","body":"Well, he asked about streams, but I like your answer nonetheless."},{"owner":{"account_id":348277,"reputation":1874,"user_id":1052099,"accept_rate":60,"display_name":"TriCore"},"score":0,"creation_date":1510806677,"post_id":28607267,"comment_id":81594164,"body_markdown":"This is not &quot;functional&quot; way of doing it... it&#39;s got side affects!!","body":"This is not &quot;functional&quot; way of doing it... it&#39;s got side affects!!"}],"tags":[],"owner":{"account_id":1545748,"reputation":2904,"user_id":1439333,"accept_rate":70,"display_name":"Vishnudev K"},"comment_count":2,"down_vote_count":4,"up_vote_count":89,"is_accepted":false,"score":85,"last_activity_date":1541983120,"creation_date":1424351337,"answer_id":28607267,"question_id":28607191,"body_markdown":"Use\r\n\r\n    Comparator&lt;File&gt; comparator = Comparator.comparing(File::lastModified); \r\n    Collections.sort(list, comparator.reversed());\r\n\r\nThen \r\n\r\n    .forEach(item -&gt; item.delete());","title":"How to use a Java8 lambda to sort a stream in reverse order?","body":"<p>Use</p>\n\n<pre><code>Comparator&lt;File&gt; comparator = Comparator.comparing(File::lastModified); \nCollections.sort(list, comparator.reversed());\n</code></pre>\n\n<p>Then </p>\n\n<pre><code>.forEach(item -&gt; item.delete());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4481658,"reputation":845,"user_id":3645564,"display_name":"iFederx"},"comment_count":0,"down_vote_count":0,"up_vote_count":61,"is_accepted":false,"score":61,"last_activity_date":1523794852,"creation_date":1441841720,"answer_id":32490757,"question_id":28607191,"body_markdown":"You can use a method reference:\r\n\r\n    import static java.util.Comparator.*;\r\n    import static java.util.stream.Collectors.*;\r\n\r\n    Arrays.asList(files).stream()\r\n        .filter(file -&gt; isNameLikeBaseLine(file, baseLineFile.getName()))\r\n        .sorted(comparing(File::lastModified).reversed())\r\n        .skip(numOfNewestToLeave)\r\n        .forEach(item -&gt; item.delete());\r\n\r\nIn alternative of method reference you can use a lambda expression, so the argument of comparing become:\r\n\r\n    .sorted(comparing(file -&gt; file.lastModified()).reversed());","title":"How to use a Java8 lambda to sort a stream in reverse order?","body":"<p>You can use a method reference:</p>\n\n<pre><code>import static java.util.Comparator.*;\nimport static java.util.stream.Collectors.*;\n\nArrays.asList(files).stream()\n    .filter(file -&gt; isNameLikeBaseLine(file, baseLineFile.getName()))\n    .sorted(comparing(File::lastModified).reversed())\n    .skip(numOfNewestToLeave)\n    .forEach(item -&gt; item.delete());\n</code></pre>\n\n<p>In alternative of method reference you can use a lambda expression, so the argument of comparing become:</p>\n\n<pre><code>.sorted(comparing(file -&gt; file.lastModified()).reversed());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":16282,"reputation":4128,"user_id":35274,"accept_rate":78,"display_name":"Philippe"},"score":11,"creation_date":1551109512,"post_id":42814603,"comment_id":96510157,"body_markdown":"or `...stream().max(Comparator.naturalOrder())`","body":"or <code>...stream().max(Comparator.naturalOrder())</code>"},{"owner":{"account_id":146361,"reputation":492,"user_id":356765,"display_name":"Marco Pelegrini"},"score":3,"creation_date":1556692325,"post_id":42814603,"comment_id":98517758,"body_markdown":"For the most recent element in a collection comparing by date\n`.stream().max(Comparator.comparing(Clazz::getDate))`","body":"For the most recent element in a collection comparing by date <code>.stream().max(Comparator.comparing(Clazz::getDate))</code>"},{"owner":{"account_id":8129122,"reputation":1496,"user_id":6122976,"display_name":"wilmol"},"score":4,"creation_date":1569921941,"post_id":42814603,"comment_id":102743524,"body_markdown":"What if the elements are not ```Comparable```. ```Collections.reverse``` does not have such a restriction.","body":"What if the elements are not <code>Comparable</code>. <code>Collections.reverse</code> does not have such a restriction."}],"tags":[],"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"comment_count":3,"down_vote_count":1,"up_vote_count":286,"is_accepted":false,"score":285,"last_activity_date":1662762291,"creation_date":1489592891,"answer_id":42814603,"question_id":28607191,"body_markdown":"If your stream elements implement `Comparable` then the solution becomes simpler:\r\n\r\n      \r\n     ...stream()\r\n     .sorted(Comparator.reverseOrder())","title":"How to use a Java8 lambda to sort a stream in reverse order?","body":"<p>If your stream elements implement <code>Comparable</code> then the solution becomes simpler:</p>\n<pre><code> ...stream()\n .sorted(Comparator.reverseOrder())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7902935,"reputation":6346,"user_id":5969411,"accept_rate":80,"display_name":"ManoDestra"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1493761368,"creation_date":1493761368,"answer_id":43747715,"question_id":28607191,"body_markdown":"This can easily be done using Java 8 and the use of a reversed [Comparator](https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html).\r\n\r\nI have created a list of files from a directory, which I display unsorted, sorted and reverse sorted using a simple Comparator for the sort and then calling reversed() on it to get the reversed version of that Comparator.\r\n\r\nSee code below:\r\n\r\n    package test;\r\n    \r\n    import java.io.File;\r\n    import java.util.Arrays;\r\n    import java.util.Comparator;\r\n    import java.util.Date;\r\n    import java.util.List;\r\n    import java.util.stream.Collectors;\r\n    \r\n    public class SortTest {\r\n    \tpublic static void main(String... args) {\r\n    \t\tFile directory = new File(&quot;C:/Media&quot;);\r\n    \t\tFile[] files = directory.listFiles();\r\n    \t\tList&lt;File&gt; filesList = Arrays.asList(files);\r\n    \r\n    \t\tComparator&lt;File&gt; comparator = Comparator.comparingLong(File::lastModified);\r\n    \t\tComparator&lt;File&gt; reverseComparator = comparator.reversed();\r\n    \r\n    \t\tList&lt;File&gt; forwardOrder = filesList.stream().sorted(comparator).collect(Collectors.toList());\r\n    \t\tList&lt;File&gt; reverseOrder = filesList.stream().sorted(reverseComparator).collect(Collectors.toList());\r\n    \r\n    \t\tSystem.out.println(&quot;*** Unsorted ***&quot;);\r\n    \t\tfilesList.forEach(SortTest::processFile);\r\n    \r\n    \t\tSystem.out.println(&quot;*** Sort ***&quot;);\r\n    \t\tforwardOrder.forEach(SortTest::processFile);\r\n    \r\n    \t\tSystem.out.println(&quot;*** Reverse Sort ***&quot;);\r\n    \t\treverseOrder.forEach(SortTest::processFile);\r\n    \t}\r\n    \r\n    \tprivate static void processFile(File file) {\r\n    \t\ttry {\r\n    \t\t\tif (file.isFile()) {\r\n    \t\t\t\tSystem.out.println(file.getCanonicalPath() + &quot; - &quot; + new Date(file.lastModified()));\r\n    \t\t\t}\r\n    \t\t} catch (Exception e) {\r\n    \t\t\tSystem.out.println(e.getMessage());\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n","title":"How to use a Java8 lambda to sort a stream in reverse order?","body":"<p>This can easily be done using Java 8 and the use of a reversed <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Comparator.html\" rel=\"nofollow noreferrer\">Comparator</a>.</p>\n\n<p>I have created a list of files from a directory, which I display unsorted, sorted and reverse sorted using a simple Comparator for the sort and then calling reversed() on it to get the reversed version of that Comparator.</p>\n\n<p>See code below:</p>\n\n<pre><code>package test;\n\nimport java.io.File;\nimport java.util.Arrays;\nimport java.util.Comparator;\nimport java.util.Date;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class SortTest {\n    public static void main(String... args) {\n        File directory = new File(\"C:/Media\");\n        File[] files = directory.listFiles();\n        List&lt;File&gt; filesList = Arrays.asList(files);\n\n        Comparator&lt;File&gt; comparator = Comparator.comparingLong(File::lastModified);\n        Comparator&lt;File&gt; reverseComparator = comparator.reversed();\n\n        List&lt;File&gt; forwardOrder = filesList.stream().sorted(comparator).collect(Collectors.toList());\n        List&lt;File&gt; reverseOrder = filesList.stream().sorted(reverseComparator).collect(Collectors.toList());\n\n        System.out.println(\"*** Unsorted ***\");\n        filesList.forEach(SortTest::processFile);\n\n        System.out.println(\"*** Sort ***\");\n        forwardOrder.forEach(SortTest::processFile);\n\n        System.out.println(\"*** Reverse Sort ***\");\n        reverseOrder.forEach(SortTest::processFile);\n    }\n\n    private static void processFile(File file) {\n        try {\n            if (file.isFile()) {\n                System.out.println(file.getCanonicalPath() + \" - \" + new Date(file.lastModified()));\n            }\n        } catch (Exception e) {\n            System.out.println(e.getMessage());\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1670487,"reputation":990,"user_id":1537029,"accept_rate":40,"display_name":"Kim"},"comment_count":0,"down_vote_count":0,"up_vote_count":34,"is_accepted":false,"score":34,"last_activity_date":1512097889,"creation_date":1512097889,"answer_id":47586085,"question_id":28607191,"body_markdown":"Alternative way sharing:\r\n\r\n**ASC**\r\n\r\n    List&lt;Animal&gt; animals = this.service.findAll();\r\n\tanimals = animals.stream().sorted(Comparator.comparing(Animal::getName)).collect(Collectors.toList());\r\n\r\n**DESC**\r\n\r\n    List&lt;Animal&gt; animals = this.service.findAll();\r\n\tanimals = animals.stream().sorted(Comparator.comparing(Animal::getName).reversed()).collect(Collectors.toList());","title":"How to use a Java8 lambda to sort a stream in reverse order?","body":"<p>Alternative way sharing:</p>\n\n<p><strong>ASC</strong></p>\n\n<pre><code>List&lt;Animal&gt; animals = this.service.findAll();\nanimals = animals.stream().sorted(Comparator.comparing(Animal::getName)).collect(Collectors.toList());\n</code></pre>\n\n<p><strong>DESC</strong></p>\n\n<pre><code>List&lt;Animal&gt; animals = this.service.findAll();\nanimals = animals.stream().sorted(Comparator.comparing(Animal::getName).reversed()).collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14204637,"reputation":470,"user_id":11375887,"display_name":"Jonathan Mendoza"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1556150421,"creation_date":1556150421,"answer_id":55840060,"question_id":28607191,"body_markdown":"Sort file list with java 8 Collections\r\n\r\nExample how to use Collections and Comparator Java 8 to sort a File list.\r\n\r\n\r\n    import java.io.File;\r\n    import java.util.ArrayList;\r\n    import java.util.Collections;\r\n    import java.util.Comparator;\r\n    import java.util.List;\r\n    \r\n    public class ShortFile {\r\n    \r\n        public static void main(String[] args) {\r\n            List&lt;File&gt; fileList = new ArrayList&lt;&gt;();\r\n            fileList.add(new File(&quot;infoSE-201904270100.txt&quot;));\r\n            fileList.add(new File(&quot;infoSE-201904280301.txt&quot;));\r\n            fileList.add(new File(&quot;infoSE-201904280101.txt&quot;));\r\n            fileList.add(new File(&quot;infoSE-201904270101.txt&quot;));\r\n    \r\n            fileList.forEach(x -&gt; System.out.println(x.getName()));\r\n            Collections.sort(fileList, Comparator.comparing(File::getName).reversed());\r\n            System.out.println(&quot;===========================================&quot;);\r\n            fileList.forEach(x -&gt; System.out.println(x.getName()));\r\n        }\r\n    }","title":"How to use a Java8 lambda to sort a stream in reverse order?","body":"<p>Sort file list with java 8 Collections</p>\n\n<p>Example how to use Collections and Comparator Java 8 to sort a File list.</p>\n\n<pre><code>import java.io.File;\nimport java.util.ArrayList;\nimport java.util.Collections;\nimport java.util.Comparator;\nimport java.util.List;\n\npublic class ShortFile {\n\n    public static void main(String[] args) {\n        List&lt;File&gt; fileList = new ArrayList&lt;&gt;();\n        fileList.add(new File(\"infoSE-201904270100.txt\"));\n        fileList.add(new File(\"infoSE-201904280301.txt\"));\n        fileList.add(new File(\"infoSE-201904280101.txt\"));\n        fileList.add(new File(\"infoSE-201904270101.txt\"));\n\n        fileList.forEach(x -&gt; System.out.println(x.getName()));\n        Collections.sort(fileList, Comparator.comparing(File::getName).reversed());\n        System.out.println(\"===========================================\");\n        fileList.forEach(x -&gt; System.out.println(x.getName()));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2093262,"reputation":9491,"user_id":1862590,"display_name":"Sathiamoorthy"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1679567433,"creation_date":1591334836,"answer_id":62208724,"question_id":28607191,"body_markdown":"In simple, using Comparator and Collection you can sort like below in **reversal** order using **JAVA 8** \r\n\r\n    import java.util.Comparator;;\r\n    import java.util.stream.Collectors;\r\n    \r\n    Arrays.asList(files).stream()\r\n        .sorted(Comparator.comparing(File::getLastModified).reversed())\r\n        .collect(Collectors.toList());\r\n\r\nMake sure that, you are `override` the object with `hashCode()` and `equals` methods, otherwise the above code will not work.","title":"How to use a Java8 lambda to sort a stream in reverse order?","body":"<p>In simple, using Comparator and Collection you can sort like below in <strong>reversal</strong> order using <strong>JAVA 8</strong></p>\n<pre><code>import java.util.Comparator;;\nimport java.util.stream.Collectors;\n\nArrays.asList(files).stream()\n    .sorted(Comparator.comparing(File::getLastModified).reversed())\n    .collect(Collectors.toList());\n</code></pre>\n<p>Make sure that, you are <code>override</code> the object with <code>hashCode()</code> and <code>equals</code> methods, otherwise the above code will not work.</p>\n"},{"tags":[],"owner":{"account_id":15974771,"reputation":1023,"user_id":11527968,"display_name":"Jimmy"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592214818,"creation_date":1592214818,"answer_id":62385672,"question_id":28607191,"body_markdown":"For reverse sorting just change the order of x1, x2 for calling the x1.compareTo(x2) method the result will be reverse to one another\r\n\r\n**Default order** \r\n\r\n    List&lt;String&gt; sortedByName = citiesName.stream().sorted((s1,s2)-&gt;s1.compareTo(s2)).collect(Collectors.toList());\r\n    System.out.println(&quot;Sorted by Name : &quot;+ sortedByName);\r\n\r\n**Reverse Order**\r\n\r\n    List&lt;String&gt; reverseSortedByName = citiesName.stream().sorted((s1,s2)-&gt;s2.compareTo(s1)).collect(Collectors.toList());\r\n    System.out.println(&quot;Reverse Sorted by Name : &quot;+ reverseSortedByName );\r\n\r\n\t\t\r\n\r\n","title":"How to use a Java8 lambda to sort a stream in reverse order?","body":"<p>For reverse sorting just change the order of x1, x2 for calling the x1.compareTo(x2) method the result will be reverse to one another</p>\n\n<p><strong>Default order</strong> </p>\n\n<pre><code>List&lt;String&gt; sortedByName = citiesName.stream().sorted((s1,s2)-&gt;s1.compareTo(s2)).collect(Collectors.toList());\nSystem.out.println(\"Sorted by Name : \"+ sortedByName);\n</code></pre>\n\n<p><strong>Reverse Order</strong></p>\n\n<pre><code>List&lt;String&gt; reverseSortedByName = citiesName.stream().sorted((s1,s2)-&gt;s2.compareTo(s1)).collect(Collectors.toList());\nSystem.out.println(\"Reverse Sorted by Name : \"+ reverseSortedByName );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1829075,"reputation":1414,"user_id":2502267,"accept_rate":0,"display_name":"fjkjava"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1595538399,"creation_date":1595538399,"answer_id":63063126,"question_id":28607191,"body_markdown":"If you want to sort by Object&#39;s date type property then\r\n\r\n    public class Visit implements Serializable, Comparable&lt;Visit&gt;{\r\n    private static final long serialVersionUID = 4976278839883192037L;\r\n    \r\n    private Date dos;\r\n\r\n    public Date getDos() {\r\n        return dos;\r\n    }\r\n\r\n    public void setDos(Date dos) {\r\n        this.dos = dos;\r\n    }\r\n\r\n    @Override\r\n    public int compareTo(Visit visit) {\r\n        return this.getDos().compareTo(visit.getDos());\r\n    }\r\n}\r\n\r\n    List&lt;Visit&gt; visits = getResults();//Method making the list\r\n    Collections.sort(visits, Collections.reverseOrder());//Reverser order\r\n\r\n","title":"How to use a Java8 lambda to sort a stream in reverse order?","body":"<p>If you want to sort by Object's date type property then</p>\n<pre><code>public class Visit implements Serializable, Comparable&lt;Visit&gt;{\nprivate static final long serialVersionUID = 4976278839883192037L;\n\nprivate Date dos;\n\npublic Date getDos() {\n    return dos;\n}\n\npublic void setDos(Date dos) {\n    this.dos = dos;\n}\n\n@Override\npublic int compareTo(Visit visit) {\n    return this.getDos().compareTo(visit.getDos());\n}\n</code></pre>\n<p>}</p>\n<pre><code>List&lt;Visit&gt; visits = getResults();//Method making the list\nCollections.sort(visits, Collections.reverseOrder());//Reverser order\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9096271,"reputation":531,"user_id":6770146,"display_name":"Milan Paudyal"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1602340758,"creation_date":1602340758,"answer_id":64294589,"question_id":28607191,"body_markdown":"You can define your Comparator with your own logic like this;\r\n        \r\n    private static final Comparator&lt;UserResource&gt; sortByLastLogin = (c1, c2) -&gt; {\r\n        if (Objects.isNull(c1.getLastLoggedin())) {\r\n            return -1;\r\n        } else if (Objects.isNull(c2.getLastLoggedin())) {\r\n            return 1;\r\n        }\r\n        return c1.getLastLoggedin().compareTo(c2.getLastLoggedin());\r\n    };   \r\n\r\n \r\n    \r\nAnd use it inside foreach as:\r\n\r\n    list.stream()\r\n         .sorted(sortCredentialsByLastLogin.reversed())\r\n         .collect(Collectors.toList());\r\n    \r\n\r\n","title":"How to use a Java8 lambda to sort a stream in reverse order?","body":"<p>You can define your Comparator with your own logic like this;</p>\n<pre><code>private static final Comparator&lt;UserResource&gt; sortByLastLogin = (c1, c2) -&gt; {\n    if (Objects.isNull(c1.getLastLoggedin())) {\n        return -1;\n    } else if (Objects.isNull(c2.getLastLoggedin())) {\n        return 1;\n    }\n    return c1.getLastLoggedin().compareTo(c2.getLastLoggedin());\n};   \n</code></pre>\n<p>And use it inside foreach as:</p>\n<pre><code>list.stream()\n     .sorted(sortCredentialsByLastLogin.reversed())\n     .collect(Collectors.toList());\n</code></pre>\n"},{"comments":[{"owner":{"account_id":482363,"reputation":1742,"user_id":896718,"accept_rate":77,"display_name":"Sathish Kumar k k"},"score":0,"creation_date":1671616350,"post_id":64521869,"comment_id":132135495,"body_markdown":"Its not clear, please explain it.","body":"Its not clear, please explain it."}],"tags":[],"owner":{"account_id":11846697,"reputation":119,"user_id":8669079,"accept_rate":100,"display_name":"Huzefa"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1603615357,"creation_date":1603615357,"answer_id":64521869,"question_id":28607191,"body_markdown":"Instead of all these complications, this simple step should do the trick for reverse sorting using Lambda **.sorted(Comparator.reverseOrder())**\r\n\r\n    Arrays.asList(files).stream()\r\n    .filter(file -&gt; isNameLikeBaseLine(file, baseLineFile.getName()))\r\n    .sorted(Comparator.reverseOrder()).skip(numOfNewestToLeave)\r\n    .forEach(item -&gt; item.delete());","title":"How to use a Java8 lambda to sort a stream in reverse order?","body":"<p>Instead of all these complications, this simple step should do the trick for reverse sorting using Lambda <strong>.sorted(Comparator.reverseOrder())</strong></p>\n<pre><code>Arrays.asList(files).stream()\n.filter(file -&gt; isNameLikeBaseLine(file, baseLineFile.getName()))\n.sorted(Comparator.reverseOrder()).skip(numOfNewestToLeave)\n.forEach(item -&gt; item.delete());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13133174,"reputation":421,"user_id":9487096,"display_name":"Ram Chhabra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1625902389,"creation_date":1625902389,"answer_id":68325675,"question_id":28607191,"body_markdown":"\t\t//sort Stream in reverse oreder with using Lambda Expressrion.\r\n    \r\n\t\tList&lt;String&gt; list = Arrays.asList(&quot;Ram&quot;,&quot;Rahul&quot;,&quot;Ravi&quot;,&quot;Vishal&quot;,&quot;Vaibhav&quot;,&quot;Rohit&quot;,&quot;Harit&quot;,&quot;Raghav&quot;,&quot;Shubhan&quot;);\r\n\t\tList&lt;String&gt; sortedListLambda = list.stream().sorted((x,y)-&gt;y.compareTo(x)).collect(Collectors.toList());\r\n\t\tSystem.out.println(sortedListLambda);","title":"How to use a Java8 lambda to sort a stream in reverse order?","body":"<pre><code>    //sort Stream in reverse oreder with using Lambda Expressrion.\n\n    List&lt;String&gt; list = Arrays.asList(&quot;Ram&quot;,&quot;Rahul&quot;,&quot;Ravi&quot;,&quot;Vishal&quot;,&quot;Vaibhav&quot;,&quot;Rohit&quot;,&quot;Harit&quot;,&quot;Raghav&quot;,&quot;Shubhan&quot;);\n    List&lt;String&gt; sortedListLambda = list.stream().sorted((x,y)-&gt;y.compareTo(x)).collect(Collectors.toList());\n    System.out.println(sortedListLambda);\n</code></pre>\n"}],"owner":{"account_id":1065081,"reputation":14112,"user_id":1065869,"accept_rate":57,"display_name":"Elad Benda2"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":488957,"favorite_count":0,"down_vote_count":0,"up_vote_count":267,"accepted_answer_id":28607266,"answer_count":13,"score":267,"last_activity_date":1679567433,"creation_date":1424351054,"question_id":28607191,"body_markdown":"I&#39;m using java lambda to sort a list.\r\n\r\nhow can I sort it in a reverse way?\r\n\r\nI saw this [post][1], but I want to use java 8 lambda.\r\n\r\n\r\nHere is my code (I used * -1) as a hack\r\n\r\n    Arrays.asList(files).stream()\r\n        .filter(file -&gt; isNameLikeBaseLine(file, baseLineFile.getName()))\r\n        .sorted(new Comparator&lt;File&gt;() {\r\n            public int compare(File o1, File o2) {\r\n                int answer;\r\n                if (o1.lastModified() == o2.lastModified()) {\r\n                    answer = 0;\r\n                } else if (o1.lastModified() &gt; o2.lastModified()) {\r\n                    answer = 1;\r\n                } else {\r\n                    answer = -1;\r\n                }\r\n                return -1 * answer;\r\n            }\r\n        })\r\n        .skip(numOfNewestToLeave)\r\n        .forEach(item -&gt; item.delete());\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5894818/how-to-sort-arraylistlong-in-java-in-decreasing-order","title":"How to use a Java8 lambda to sort a stream in reverse order?","body":"<p>I'm using java lambda to sort a list.</p>\n\n<p>how can I sort it in a reverse way?</p>\n\n<p>I saw this <a href=\"https://stackoverflow.com/questions/5894818/how-to-sort-arraylistlong-in-java-in-decreasing-order\">post</a>, but I want to use java 8 lambda.</p>\n\n<p>Here is my code (I used * -1) as a hack</p>\n\n<pre><code>Arrays.asList(files).stream()\n    .filter(file -&gt; isNameLikeBaseLine(file, baseLineFile.getName()))\n    .sorted(new Comparator&lt;File&gt;() {\n        public int compare(File o1, File o2) {\n            int answer;\n            if (o1.lastModified() == o2.lastModified()) {\n                answer = 0;\n            } else if (o1.lastModified() &gt; o2.lastModified()) {\n                answer = 1;\n            } else {\n                answer = -1;\n            }\n            return -1 * answer;\n        }\n    })\n    .skip(numOfNewestToLeave)\n    .forEach(item -&gt; item.delete());\n</code></pre>\n"},{"tags":["java","amazon-web-services","amazon-dynamodb"],"comments":[{"owner":{"account_id":5481715,"reputation":176,"user_id":4357942,"display_name":"Sachin"},"score":0,"creation_date":1607796199,"post_id":65268107,"comment_id":115387756,"body_markdown":"Did you tried @jsonignore over property named content?","body":"Did you tried @jsonignore over property named content?"},{"owner":{"account_id":6283574,"reputation":1578,"user_id":4883694,"accept_rate":100,"display_name":"Yogesh D"},"score":0,"creation_date":1607802805,"post_id":65268107,"comment_id":115389632,"body_markdown":"Yes, I tried that as you can see I have commented it on line 2. If I ignore it, it returns null value even if I pass the value for `content` in the json object.","body":"Yes, I tried that as you can see I have commented it on line 2. If I ignore it, it returns null value even if I pass the value for <code>content</code> in the json object."},{"owner":{"account_id":6283574,"reputation":1578,"user_id":4883694,"accept_rate":100,"display_name":"Yogesh D"},"score":0,"creation_date":1607803442,"post_id":65268107,"comment_id":115389807,"body_markdown":"For now, I solved the problem by setting the `content` to null after storing it in S3, so that it does not get stored in DynamoDB(since DynamoDB is very expensive).","body":"For now, I solved the problem by setting the <code>content</code> to null after storing it in S3, so that it does not get stored in DynamoDB(since DynamoDB is very expensive)."}],"answers":[{"tags":[],"owner":{"account_id":2433490,"reputation":147,"user_id":2123924,"display_name":"mikethe"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647781949,"creation_date":1637248209,"answer_id":70022246,"question_id":65268107,"body_markdown":"You can use ```@DynamoDBIgnore``` - [AWS documentation](https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.Annotations.html#DynamoDBMapper.Annotations.DynamoDBIgnore)\r\n\r\nIn your example:\r\n\r\n```\r\n    @DynamoDBIgnore\r\n    public String getContent() {\r\n        return content;\r\n    }\r\n```\r\n\r\n","title":"How to Ignore a JsonProperty to be stored in DynamoDB","body":"<p>You can use <code>@DynamoDBIgnore</code> - <a href=\"https://docs.aws.amazon.com/amazondynamodb/latest/developerguide/DynamoDBMapper.Annotations.html#DynamoDBMapper.Annotations.DynamoDBIgnore\" rel=\"nofollow noreferrer\">AWS documentation</a></p>\n<p>In your example:</p>\n<pre><code>    @DynamoDBIgnore\n    public String getContent() {\n        return content;\n    }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2568291,"reputation":69680,"user_id":2227743,"accept_rate":100,"display_name":"Eric Aya"},"score":0,"creation_date":1679576539,"post_id":75821806,"comment_id":133748440,"body_markdown":"That&#39;s not what the documentation says.","body":"That&#39;s not what the documentation says."},{"owner":{"account_id":19939841,"reputation":131,"user_id":14611777,"display_name":"Surajit Sarkar"},"score":0,"creation_date":1680264675,"post_id":75821806,"comment_id":133872969,"body_markdown":"This is what I am using in projects with \nimplementation &#39;software.amazon.awssdk:dynamodb-enhanced:2.19.0&#39;","body":"This is what I am using in projects with  implementation &#39;software.amazon.awssdk:dynamodb-enhanced:2.19.0&#39;"}],"tags":[],"owner":{"account_id":19939841,"reputation":131,"user_id":14611777,"display_name":"Surajit Sarkar"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679566989,"creation_date":1679566989,"answer_id":75821806,"question_id":65268107,"body_markdown":"it&#39;s @DynamoDbIgnore annotation.. not @DynamoDBIgnore","title":"How to Ignore a JsonProperty to be stored in DynamoDB","body":"<p>it's @DynamoDbIgnore annotation.. not @DynamoDBIgnore</p>\n"}],"owner":{"account_id":6283574,"reputation":1578,"user_id":4883694,"accept_rate":100,"display_name":"Yogesh D"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2165,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70022246,"answer_count":2,"score":1,"last_activity_date":1679566989,"creation_date":1607795942,"question_id":65268107,"body_markdown":"Here is my POJO that I use to store in DynamoDB using DynamodbMapper\r\n\r\n    @DynamoDBTable(tableName = &quot;Data&quot;)\r\n    // @JsonIgnoreProperties(value = { &quot;content&quot; })\r\n    public class Data {\r\n        @DynamoDBRangeKey(attributeName = &quot;Url&quot;)\r\n        @DynamoDBAutoGeneratedKey\r\n        @JsonProperty(&quot;url&quot;)\r\n        private String url;\r\n    \r\n        @DynamoDBHashKey(attributeName = &quot;UserName&quot;)\r\n        @JsonProperty(&quot;userName&quot;)\r\n        private String userName;\r\n    \r\n        @JsonProperty(&quot;title&quot;)\r\n        @DynamoDBAttribute(attributeName = &quot;Title&quot;)\r\n        private String pasteTitle;\r\n    \r\n        @JsonProperty(&quot;content&quot;)\r\n        private String content;\r\n    \r\n        @JsonProperty(&quot;date&quot;)\r\n        @DynamoDBAttribute(attributeName = &quot;Date&quot;)\r\n        private String date;\r\n    \r\n    }\r\n\r\nEvery time I run `DynamoDBMapper.save(data)`, it stores `content` as well even if it does not have `DynamoDBAttribute` annotation. By using `@JsonIgnoreProperties(value = { &quot;content&quot; })` it makes the value as null and does not store the content. But I would like to store the content in S3 and not DynamoDB and hence looking for a way to ignore this in DynamoDBAttribute.","title":"How to Ignore a JsonProperty to be stored in DynamoDB","body":"<p>Here is my POJO that I use to store in DynamoDB using DynamodbMapper</p>\n<pre><code>@DynamoDBTable(tableName = &quot;Data&quot;)\n// @JsonIgnoreProperties(value = { &quot;content&quot; })\npublic class Data {\n    @DynamoDBRangeKey(attributeName = &quot;Url&quot;)\n    @DynamoDBAutoGeneratedKey\n    @JsonProperty(&quot;url&quot;)\n    private String url;\n\n    @DynamoDBHashKey(attributeName = &quot;UserName&quot;)\n    @JsonProperty(&quot;userName&quot;)\n    private String userName;\n\n    @JsonProperty(&quot;title&quot;)\n    @DynamoDBAttribute(attributeName = &quot;Title&quot;)\n    private String pasteTitle;\n\n    @JsonProperty(&quot;content&quot;)\n    private String content;\n\n    @JsonProperty(&quot;date&quot;)\n    @DynamoDBAttribute(attributeName = &quot;Date&quot;)\n    private String date;\n\n}\n</code></pre>\n<p>Every time I run <code>DynamoDBMapper.save(data)</code>, it stores <code>content</code> as well even if it does not have <code>DynamoDBAttribute</code> annotation. By using <code>@JsonIgnoreProperties(value = { &quot;content&quot; })</code> it makes the value as null and does not store the content. But I would like to store the content in S3 and not DynamoDB and hence looking for a way to ignore this in DynamoDBAttribute.</p>\n"},{"tags":["java","opengl","lwjgl"],"comments":[{"owner":{"account_id":7322082,"reputation":205330,"user_id":5577765,"display_name":"Rabbid76"},"score":0,"creation_date":1679432601,"post_id":75806142,"comment_id":133720958,"body_markdown":"Is `Float.SIZE` the size in bits but not in bytes? So is it 32 instead of 4?","body":"Is <code>Float.SIZE</code> the size in bits but not in bytes? So is it 32 instead of 4?"}],"answers":[{"comments":[{"owner":{"account_id":20517487,"reputation":151,"user_id":15057809,"display_name":"squid233"},"score":2,"creation_date":1679458983,"post_id":75806350,"comment_id":133724465,"body_markdown":"I suggest to use `Float.BYTES`.","body":"I suggest to use <code>Float.BYTES</code>."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1679566957,"post_id":75806350,"comment_id":133745997,"body_markdown":"I replaced the `Float.BYTES / 8` with `FLOAT.BYTES`.","body":"I replaced the <code>Float.BYTES &#47; 8</code> with <code>FLOAT.BYTES</code>."}],"tags":[],"owner":{"account_id":7322082,"reputation":205330,"user_id":5577765,"display_name":"Rabbid76"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1679566940,"creation_date":1679432766,"answer_id":75806350,"question_id":75806142,"body_markdown":"The `SIZE` constant represents the size in **bits**, but not in bytes. However, the _stride_ argument of [`glVertexAttribPointer`](https://registry.khronos.org/OpenGL-Refpages/gl4/html/glVertexAttribPointer.xhtml) specifies the **byte** offset between consecutive generic vertex attributes\r\n\r\n&lt;s&gt;`glVertexAttribPointer(0, 3, GL_FLOAT, false, 3 * Float.SIZE, 0);`&lt;/s&gt;\r\n```java\r\nglVertexAttribPointer(0, 3, GL_FLOAT, false, 3 * Float.SIZE / 8, 0);\r\n```\r\n\r\nor \r\n\r\n```java\r\nglVertexAttribPointer(0, 3, GL_FLOAT, false, 3 * Float.BYTES, 0);\r\n```","title":"GLFW3 Hello Triangle","body":"<p>The <code>SIZE</code> constant represents the size in <strong>bits</strong>, but not in bytes. However, the <em>stride</em> argument of <a href=\"https://registry.khronos.org/OpenGL-Refpages/gl4/html/glVertexAttribPointer.xhtml\" rel=\"nofollow noreferrer\"><code>glVertexAttribPointer</code></a> specifies the <strong>byte</strong> offset between consecutive generic vertex attributes</p>\n<p><s><code>glVertexAttribPointer(0, 3, GL_FLOAT, false, 3 * Float.SIZE, 0);</code></s></p>\n<pre class=\"lang-java prettyprint-override\"><code>glVertexAttribPointer(0, 3, GL_FLOAT, false, 3 * Float.SIZE / 8, 0);\n</code></pre>\n<p>or</p>\n<pre class=\"lang-java prettyprint-override\"><code>glVertexAttribPointer(0, 3, GL_FLOAT, false, 3 * Float.BYTES, 0);\n</code></pre>\n"}],"owner":{"account_id":13247849,"reputation":91,"user_id":9566365,"display_name":"Bruno Ara&#250;jo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75806350,"answer_count":1,"score":1,"last_activity_date":1679566940,"creation_date":1679431121,"question_id":75806142,"body_markdown":"I&#39;m stuck trying to figure out why this code is wrong. Its suposed to show a square on the screen. With GL_FRONT_AND_BACK to GL_LINE i see a single line. With GL_FRONT_AND_BACK to GL_FILL a get nothing.\r\n\r\nFragment shader:\r\n```glsl\r\n#version 330 core\r\n\r\nout vec4 oColor;\r\n\r\nvoid main() {\r\n   oColor = vec4(1.0f, 0.5f, 0.2f, 1.0f);\r\n}\r\n```\r\n\r\nVertex Shader:\r\n```glsl\r\n#version 330 core\r\n\r\nlayout (location = 0) in vec3 iPosition;\r\n\r\nvoid main() {\r\n    gl_Position = vec4(iPosition, 1.0);\r\n}\r\n```\r\n\r\nAll this code is basicaly copied from the learn opengl site https://learnopengl.com/Getting-started/Hello-Triangle\r\n\r\n```java\r\nimport org.lwjgl.opengl.GL;\r\nimport org.lwjgl.opengl.GL11;\r\nimport org.lwjgl.system.MemoryUtil;\r\n\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Paths;\r\n\r\nimport static org.lwjgl.opengl.GL15.*;\r\nimport static org.lwjgl.opengl.GL20.*;\r\nimport static org.lwjgl.opengl.GL30.*;\r\nimport static org.lwjgl.glfw.GLFW.*;\r\n\r\npublic class HelloTriangle {\r\n\r\n    public static void main(String[] args) {\r\n        if (!glfwInit()) {\r\n            System.out.println(&quot;GLFW failed to initialize&quot;);\r\n            System.exit(9);\r\n        }\r\n\r\n        glfwWindowHint(GLFW_VISIBLE, GLFW_FALSE);\r\n        glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 3);\r\n        glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 3);\r\n        glfwWindowHint(GLFW_OPENGL_PROFILE, GLFW_OPENGL_CORE_PROFILE);\r\n\r\n        final var window = glfwCreateWindow(800, 600, &quot;LearnOpenGL&quot;, MemoryUtil.NULL, MemoryUtil.NULL);\r\n        if (window == 0) {\r\n            System.out.println(&quot;GLFW failed to create window&quot;);\r\n            glfwTerminate();\r\n            System.exit(9);\r\n        }\r\n\r\n        {\r\n            glfwMakeContextCurrent(window);\r\n            GL.createCapabilities();\r\n            glfwSetFramebufferSizeCallback(window, (long w, int width, int height) -&gt; GL11.glViewport(0,0, width, height));\r\n        }\r\n\r\n        final var program = glCreateProgram();\r\n        {\r\n            final var vertex = glCreateShader(GL_VERTEX_SHADER);\r\n            glShaderSource(vertex, getResourceAsString(&quot;basic.vert&quot;));\r\n            glCompileShader(vertex);\r\n            if(glGetShaderi(vertex, GL_COMPILE_STATUS) != GL_TRUE) {\r\n                System.out.printf(&quot;Failed to compile VERTEX Shader: %s%n&quot;, glGetShaderInfoLog(vertex, Integer.MAX_VALUE));\r\n                GL.destroy();\r\n                glfwTerminate();\r\n                System.exit(9);\r\n            }\r\n            glAttachShader(program, vertex);\r\n\r\n            final var fragment = glCreateShader(GL_FRAGMENT_SHADER);\r\n            glShaderSource(fragment, getResourceAsString(&quot;basic.frag&quot;));\r\n            glCompileShader(fragment);\r\n            if(glGetShaderi(vertex, GL_COMPILE_STATUS) != GL_TRUE) {\r\n                System.out.printf(&quot;Failed to compile FRAGMENT Shader: %s%n&quot;, glGetShaderInfoLog(vertex, Integer.MAX_VALUE));\r\n                GL.destroy();\r\n                glfwTerminate();\r\n                System.exit(9);\r\n            }\r\n            glAttachShader(program, fragment);\r\n\r\n            glLinkProgram(program);\r\n            glDeleteShader(vertex);\r\n            glDeleteShader(fragment);\r\n        }\r\n\r\n        final var VAO = glGenVertexArrays();\r\n        final var VBO = glGenBuffers();\r\n        final var EBO = glGenBuffers();\r\n        {\r\n            glBindVertexArray(VAO);\r\n            float[] vertices = {\r\n                    0.5f,  0.5f, 0.0f,  // top right\r\n                    0.5f, -0.5f, 0.0f,  // bottom right\r\n                    -0.5f, -0.5f, 0.0f,  // bottom left\r\n                    -0.5f,  0.5f, 0.0f   // top left\r\n            };\r\n\r\n            glBindBuffer(GL_ARRAY_BUFFER, VBO);\r\n            glBufferData(GL_ARRAY_BUFFER, vertices, GL_STATIC_DRAW);\r\n\r\n            int[] indices = {  // note that we start from 0!\r\n                    0, 1, 3,  // first Triangle\r\n                    1, 2, 3   // second Triangle\r\n            };\r\n\r\n            glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, EBO);\r\n            glBufferData(GL_ELEMENT_ARRAY_BUFFER, indices, GL_STATIC_DRAW);\r\n\r\n            glVertexAttribPointer(0, 3, GL_FLOAT, false, 3 * Float.SIZE, 0);\r\n            glEnableVertexAttribArray(0);\r\n\r\n            glBindBuffer(GL_ARRAY_BUFFER, 0);\r\n        }\r\n\r\n        glClearColor(0.2f, 0.3f, 0.3f, 1.0f);\r\n        glPolygonMode(GL_FRONT_AND_BACK, GL_LINE);\r\n\r\n        glfwShowWindow(window);\r\n        while (!glfwWindowShouldClose(window))\r\n        {\r\n            // input\r\n            // -----\r\n            if (glfwGetKey(window, GLFW_KEY_ESCAPE) == GLFW_PRESS)\r\n                glfwSetWindowShouldClose(window, true);\r\n\r\n            // render\r\n            // ------\r\n            glClear(GL_COLOR_BUFFER_BIT);\r\n\r\n            // draw our first triangle\r\n            glUseProgram(program);\r\n            glBindVertexArray(VAO);\r\n            glDrawElements(GL_TRIANGLES, 6, GL_UNSIGNED_INT, 0);\r\n\r\n            // glfw: swap buffers and poll IO events (keys pressed/released, mouse moved etc.)\r\n            // -------------------------------------------------------------------------------\r\n            glfwSwapBuffers(window);\r\n            glfwPollEvents();\r\n        }\r\n\r\n        // optional: de-allocate all resources once they&#39;ve outlived their purpose:\r\n        // ------------------------------------------------------------------------\r\n        glDeleteVertexArrays(VAO);\r\n        glDeleteBuffers(VBO);\r\n        glDeleteBuffers(EBO);\r\n        glDeleteProgram(program);\r\n\r\n        // glfw: terminate, clearing all previously allocated GLFW resources.\r\n        // ------------------------------------------------------------------\r\n        GL.destroy();\r\n        glfwTerminate();\r\n    }\r\n\r\n    private static String getResourceAsString(String name) {\r\n        try {\r\n            final var resource = Thread.currentThread().getContextClassLoader().getResource(name);\r\n            if (resource == null) return null;\r\n\r\n            final var path = Paths.get(resource.toURI());\r\n            return Files.readString(path);\r\n        } catch (Exception ex) {\r\n            return null;\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"GLFW3 Hello Triangle","body":"<p>I'm stuck trying to figure out why this code is wrong. Its suposed to show a square on the screen. With GL_FRONT_AND_BACK to GL_LINE i see a single line. With GL_FRONT_AND_BACK to GL_FILL a get nothing.</p>\n<p>Fragment shader:</p>\n<pre class=\"lang-c prettyprint-override\"><code>#version 330 core\n\nout vec4 oColor;\n\nvoid main() {\n   oColor = vec4(1.0f, 0.5f, 0.2f, 1.0f);\n}\n</code></pre>\n<p>Vertex Shader:</p>\n<pre class=\"lang-c prettyprint-override\"><code>#version 330 core\n\nlayout (location = 0) in vec3 iPosition;\n\nvoid main() {\n    gl_Position = vec4(iPosition, 1.0);\n}\n</code></pre>\n<p>All this code is basicaly copied from the learn opengl site <a href=\"https://learnopengl.com/Getting-started/Hello-Triangle\" rel=\"nofollow noreferrer\">https://learnopengl.com/Getting-started/Hello-Triangle</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.lwjgl.opengl.GL;\nimport org.lwjgl.opengl.GL11;\nimport org.lwjgl.system.MemoryUtil;\n\nimport java.nio.file.Files;\nimport java.nio.file.Paths;\n\nimport static org.lwjgl.opengl.GL15.*;\nimport static org.lwjgl.opengl.GL20.*;\nimport static org.lwjgl.opengl.GL30.*;\nimport static org.lwjgl.glfw.GLFW.*;\n\npublic class HelloTriangle {\n\n    public static void main(String[] args) {\n        if (!glfwInit()) {\n            System.out.println(&quot;GLFW failed to initialize&quot;);\n            System.exit(9);\n        }\n\n        glfwWindowHint(GLFW_VISIBLE, GLFW_FALSE);\n        glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 3);\n        glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 3);\n        glfwWindowHint(GLFW_OPENGL_PROFILE, GLFW_OPENGL_CORE_PROFILE);\n\n        final var window = glfwCreateWindow(800, 600, &quot;LearnOpenGL&quot;, MemoryUtil.NULL, MemoryUtil.NULL);\n        if (window == 0) {\n            System.out.println(&quot;GLFW failed to create window&quot;);\n            glfwTerminate();\n            System.exit(9);\n        }\n\n        {\n            glfwMakeContextCurrent(window);\n            GL.createCapabilities();\n            glfwSetFramebufferSizeCallback(window, (long w, int width, int height) -&gt; GL11.glViewport(0,0, width, height));\n        }\n\n        final var program = glCreateProgram();\n        {\n            final var vertex = glCreateShader(GL_VERTEX_SHADER);\n            glShaderSource(vertex, getResourceAsString(&quot;basic.vert&quot;));\n            glCompileShader(vertex);\n            if(glGetShaderi(vertex, GL_COMPILE_STATUS) != GL_TRUE) {\n                System.out.printf(&quot;Failed to compile VERTEX Shader: %s%n&quot;, glGetShaderInfoLog(vertex, Integer.MAX_VALUE));\n                GL.destroy();\n                glfwTerminate();\n                System.exit(9);\n            }\n            glAttachShader(program, vertex);\n\n            final var fragment = glCreateShader(GL_FRAGMENT_SHADER);\n            glShaderSource(fragment, getResourceAsString(&quot;basic.frag&quot;));\n            glCompileShader(fragment);\n            if(glGetShaderi(vertex, GL_COMPILE_STATUS) != GL_TRUE) {\n                System.out.printf(&quot;Failed to compile FRAGMENT Shader: %s%n&quot;, glGetShaderInfoLog(vertex, Integer.MAX_VALUE));\n                GL.destroy();\n                glfwTerminate();\n                System.exit(9);\n            }\n            glAttachShader(program, fragment);\n\n            glLinkProgram(program);\n            glDeleteShader(vertex);\n            glDeleteShader(fragment);\n        }\n\n        final var VAO = glGenVertexArrays();\n        final var VBO = glGenBuffers();\n        final var EBO = glGenBuffers();\n        {\n            glBindVertexArray(VAO);\n            float[] vertices = {\n                    0.5f,  0.5f, 0.0f,  // top right\n                    0.5f, -0.5f, 0.0f,  // bottom right\n                    -0.5f, -0.5f, 0.0f,  // bottom left\n                    -0.5f,  0.5f, 0.0f   // top left\n            };\n\n            glBindBuffer(GL_ARRAY_BUFFER, VBO);\n            glBufferData(GL_ARRAY_BUFFER, vertices, GL_STATIC_DRAW);\n\n            int[] indices = {  // note that we start from 0!\n                    0, 1, 3,  // first Triangle\n                    1, 2, 3   // second Triangle\n            };\n\n            glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, EBO);\n            glBufferData(GL_ELEMENT_ARRAY_BUFFER, indices, GL_STATIC_DRAW);\n\n            glVertexAttribPointer(0, 3, GL_FLOAT, false, 3 * Float.SIZE, 0);\n            glEnableVertexAttribArray(0);\n\n            glBindBuffer(GL_ARRAY_BUFFER, 0);\n        }\n\n        glClearColor(0.2f, 0.3f, 0.3f, 1.0f);\n        glPolygonMode(GL_FRONT_AND_BACK, GL_LINE);\n\n        glfwShowWindow(window);\n        while (!glfwWindowShouldClose(window))\n        {\n            // input\n            // -----\n            if (glfwGetKey(window, GLFW_KEY_ESCAPE) == GLFW_PRESS)\n                glfwSetWindowShouldClose(window, true);\n\n            // render\n            // ------\n            glClear(GL_COLOR_BUFFER_BIT);\n\n            // draw our first triangle\n            glUseProgram(program);\n            glBindVertexArray(VAO);\n            glDrawElements(GL_TRIANGLES, 6, GL_UNSIGNED_INT, 0);\n\n            // glfw: swap buffers and poll IO events (keys pressed/released, mouse moved etc.)\n            // -------------------------------------------------------------------------------\n            glfwSwapBuffers(window);\n            glfwPollEvents();\n        }\n\n        // optional: de-allocate all resources once they've outlived their purpose:\n        // ------------------------------------------------------------------------\n        glDeleteVertexArrays(VAO);\n        glDeleteBuffers(VBO);\n        glDeleteBuffers(EBO);\n        glDeleteProgram(program);\n\n        // glfw: terminate, clearing all previously allocated GLFW resources.\n        // ------------------------------------------------------------------\n        GL.destroy();\n        glfwTerminate();\n    }\n\n    private static String getResourceAsString(String name) {\n        try {\n            final var resource = Thread.currentThread().getContextClassLoader().getResource(name);\n            if (resource == null) return null;\n\n            final var path = Paths.get(resource.toURI());\n            return Files.readString(path);\n        } catch (Exception ex) {\n            return null;\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","xml","spring","xml-parsing"],"comments":[{"owner":{"account_id":9607023,"reputation":281,"user_id":7132739,"display_name":"The Frozen One"},"score":0,"creation_date":1679567640,"post_id":75821752,"comment_id":133746169,"body_markdown":"What you probably need is the @XmlList annotation which does exactly what you want: https://howtodoinjava.com/jaxb/jaxb-annotations/#XmlList","body":"What you probably need is the @XmlList annotation which does exactly what you want: <a href=\"https://howtodoinjava.com/jaxb/jaxb-annotations/#XmlList\" rel=\"nofollow noreferrer\">howtodoinjava.com/jaxb/jaxb-annotations/#XmlList</a>"}],"owner":{"account_id":10959500,"reputation":210,"user_id":8053244,"display_name":"Buda Sergiu Flavius"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679566689,"creation_date":1679566689,"question_id":75821752,"body_markdown":"I have an object that I want to parse to XML. I manage to parse it but it does contain also some tagname/fieldname that I don&#39;t want:\r\n\r\nThis is how it looks right now:\r\n\r\n\r\n```\r\n&lt;polygon&gt;\r\n        &lt;pointList&gt;\r\n          &lt;latitude&gt;42.316&lt;/latitude&gt;\r\n          &lt;longitude&gt;-71.3914&lt;/longitude&gt;\r\n        &lt;/pointList&gt;\r\n        &lt;pointList&gt;\r\n          &lt;latitude&gt;42.3158&lt;/latitude&gt;\r\n          &lt;longitude&gt;-71.3952&lt;/longitude&gt;\r\n        &lt;/pointList&gt;\r\n        &lt;pointList&gt;\r\n          &lt;latitude&gt;42.3159&lt;/latitude&gt;\r\n          &lt;longitude&gt;-71.3968&lt;/longitude&gt;\r\n        &lt;/pointList&gt;\r\n &lt;/polygon&gt;\r\n\r\n```\r\nAnd I want it like this:\r\n\r\n\r\n```\r\n&lt;polygon&gt;42.316,-71.3914 42.3158,-71.3952 42.3159,-71.3968&lt;/polygon&gt;\r\n```\r\n\r\nI have the classes defined like this:\r\n\r\n\r\n```\r\n@Data\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@XmlRootElement(name = &quot;area&quot;)\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\n@XmlSeeAlso(ArrayList.class)\r\npublic class Area {\r\n    @XmlElement(name = &quot;polygon&quot;)\r\n    List&lt;Polygon&gt; polygonList = new ArrayList&lt;&gt;();\r\n\r\n    public void addPolygon(Polygon polugon) {\r\n        if (polygonCList == null) {\r\n            throw new NullPointerException();\r\n        }\r\n        polygonCList.add(polugon);\r\n    }\r\n}\r\n```\r\n\r\n```\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Getter\r\n@Setter\r\n@XmlRootElement(name = &quot;polygon&quot;)\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\npublic class Polygon {\r\n    List&lt;Point&gt; pointList = new ArrayList&lt;&gt;();\r\n     \r\n    public void addPoint(Point pointC) {\r\n        if (pointC == null) {\r\n            throw new NullPointerException();\r\n        }\r\n        pointCList.add(pointC);\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n\r\n```\r\n@Getter\r\n@Setter\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\npublic class Point {\r\n    Double latitude = 0D;\r\n    Double longitude = 0D;\r\n}\r\n\r\n```\r\n\r\nAnd I was parsing using:\r\n\r\n\r\n```\r\nJAXBContext jaxbContext3 = JAXBContext.newInstance(Area.class);\r\nMarshaller jaxbMarshaller3 = jaxbContext3.createMarshaller();\r\njaxbMarshaller3.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n\r\naxbMarshaller3.marshal(alert, document);\r\n```\r\n\r\nIs there a way to achieve that format?\r\n","title":"How to parse an object to XML without specifying the tagname(fieldName)?","body":"<p>I have an object that I want to parse to XML. I manage to parse it but it does contain also some tagname/fieldname that I don't want:</p>\n<p>This is how it looks right now:</p>\n<pre><code>&lt;polygon&gt;\n        &lt;pointList&gt;\n          &lt;latitude&gt;42.316&lt;/latitude&gt;\n          &lt;longitude&gt;-71.3914&lt;/longitude&gt;\n        &lt;/pointList&gt;\n        &lt;pointList&gt;\n          &lt;latitude&gt;42.3158&lt;/latitude&gt;\n          &lt;longitude&gt;-71.3952&lt;/longitude&gt;\n        &lt;/pointList&gt;\n        &lt;pointList&gt;\n          &lt;latitude&gt;42.3159&lt;/latitude&gt;\n          &lt;longitude&gt;-71.3968&lt;/longitude&gt;\n        &lt;/pointList&gt;\n &lt;/polygon&gt;\n\n</code></pre>\n<p>And I want it like this:</p>\n<pre><code>&lt;polygon&gt;42.316,-71.3914 42.3158,-71.3952 42.3159,-71.3968&lt;/polygon&gt;\n</code></pre>\n<p>I have the classes defined like this:</p>\n<pre><code>@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@XmlRootElement(name = &quot;area&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\n@XmlSeeAlso(ArrayList.class)\npublic class Area {\n    @XmlElement(name = &quot;polygon&quot;)\n    List&lt;Polygon&gt; polygonList = new ArrayList&lt;&gt;();\n\n    public void addPolygon(Polygon polugon) {\n        if (polygonCList == null) {\n            throw new NullPointerException();\n        }\n        polygonCList.add(polugon);\n    }\n}\n</code></pre>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\n@XmlRootElement(name = &quot;polygon&quot;)\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class Polygon {\n    List&lt;Point&gt; pointList = new ArrayList&lt;&gt;();\n     \n    public void addPoint(Point pointC) {\n        if (pointC == null) {\n            throw new NullPointerException();\n        }\n        pointCList.add(pointC);\n    }\n}\n\n</code></pre>\n<pre><code>@Getter\n@Setter\n@AllArgsConstructor\n@NoArgsConstructor\npublic class Point {\n    Double latitude = 0D;\n    Double longitude = 0D;\n}\n\n</code></pre>\n<p>And I was parsing using:</p>\n<pre><code>JAXBContext jaxbContext3 = JAXBContext.newInstance(Area.class);\nMarshaller jaxbMarshaller3 = jaxbContext3.createMarshaller();\njaxbMarshaller3.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\n\naxbMarshaller3.marshal(alert, document);\n</code></pre>\n<p>Is there a way to achieve that format?</p>\n"},{"tags":["java","android","worker"],"comments":[{"owner":{"account_id":18430574,"reputation":601,"user_id":13425836,"display_name":"Bratislav Damnjanovic"},"score":0,"creation_date":1660806331,"post_id":69058278,"comment_id":129620666,"body_markdown":"Did you manage to find out what was the problem?","body":"Did you manage to find out what was the problem?"},{"owner":{"account_id":3406675,"reputation":105,"user_id":2857564,"display_name":"OlsonLong"},"score":0,"creation_date":1662127605,"post_id":69058278,"comment_id":129941072,"body_markdown":"@BratislavDamnjanovic Unfortunately not. I had to pause the project for a while but will work on it in the future again. Hope I&#39;ll solve it until then","body":"@BratislavDamnjanovic Unfortunately not. I had to pause the project for a while but will work on it in the future again. Hope I&#39;ll solve it until then"}],"answers":[{"tags":[],"owner":{"account_id":9212866,"reputation":177,"user_id":6845311,"display_name":"Torima"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679520408,"creation_date":1679520408,"answer_id":75817380,"question_id":69058278,"body_markdown":"I&#39;ll try to answer some of these to my best knowledge.\r\n\r\n&gt; Why does the worker execute after closing the process and opening the\r\n&gt; App?\r\n\r\nNot sure, but you can cancel all unique work with that tag on app startup, which will stop it from automatically executing.\r\n\r\n&gt; Why are there so many workers listed?\r\n\r\n`WorkManager` keeps `WorkInfo`s in it&#39;s internal database and cleans it automatically when it thinks its best time to do so.\r\nYou can use `workmanager.pruneWork()` to do this cleaning yourself, but use it with caution as explained in the documentation.\r\n \r\n\r\n&gt; Does my logic create one single worker chain or multiple ones?\r\n\r\nIt creates single chain since you are using `uniqeWork` and `ExistingWorkPolicy.REPLACE`.\r\n\r\n&gt; Is my logic even consistent/usable like this?\r\n\r\nI do not see a reason why it should not be, you created your own implementation of periodic worker which can be executed with less than 15 minutes period.\r\n\r\n&gt; Why are the worker not closing using .cancelAllWorkByTag(TAG)?\r\n\r\nIf it is not cancelling it is most likely doe your code. Cancelation is on best effort, as explained in [documentation][1], so you need to check for it.\r\nI will quote separate [answer][2]:\r\n\r\n&gt; In summary, if you have a pending worker which hasn&#39;t started yet, the\r\n&gt; worker will be cancelled and will not run. However if the worker is\r\n&gt; already running, cancelling work does not terminate the worker in a\r\n&gt; hard fashion - it simply sets the state flag of the worker to\r\n&gt; CANCELLED, as explained in the docs. It is up to you to handle the\r\n&gt; cancellation inside your doWork and terminate the worker.\r\n&gt; \r\n&gt; One way to do this is to put a few checks in your doWork method to\r\n&gt; check if the worker has been cancelled, by calling isStopped(). If\r\n&gt; isStopped is true, return from the method with a Result instead of\r\n&gt; continuing with the rest of the work.\r\n\r\n Also double check that same tags are used. Since you are using `uniqueWork` you can also use `cancelUniqueWork`.\r\n\r\n\r\n  [1]: https://developer.android.com/guide/background/persistent/how-to/manage-work#cancelling\r\n  [2]: https://stackoverflow.com/a/56891687/6845311","title":"Problem with Androids &quot;OneTimeWorker&quot;, it executes when app starts","body":"<p>I'll try to answer some of these to my best knowledge.</p>\n<blockquote>\n<p>Why does the worker execute after closing the process and opening the\nApp?</p>\n</blockquote>\n<p>Not sure, but you can cancel all unique work with that tag on app startup, which will stop it from automatically executing.</p>\n<blockquote>\n<p>Why are there so many workers listed?</p>\n</blockquote>\n<p><code>WorkManager</code> keeps <code>WorkInfo</code>s in it's internal database and cleans it automatically when it thinks its best time to do so.\nYou can use <code>workmanager.pruneWork()</code> to do this cleaning yourself, but use it with caution as explained in the documentation.</p>\n<blockquote>\n<p>Does my logic create one single worker chain or multiple ones?</p>\n</blockquote>\n<p>It creates single chain since you are using <code>uniqeWork</code> and <code>ExistingWorkPolicy.REPLACE</code>.</p>\n<blockquote>\n<p>Is my logic even consistent/usable like this?</p>\n</blockquote>\n<p>I do not see a reason why it should not be, you created your own implementation of periodic worker which can be executed with less than 15 minutes period.</p>\n<blockquote>\n<p>Why are the worker not closing using .cancelAllWorkByTag(TAG)?</p>\n</blockquote>\n<p>If it is not cancelling it is most likely doe your code. Cancelation is on best effort, as explained in <a href=\"https://developer.android.com/guide/background/persistent/how-to/manage-work#cancelling\" rel=\"nofollow noreferrer\">documentation</a>, so you need to check for it.\nI will quote separate <a href=\"https://stackoverflow.com/a/56891687/6845311\">answer</a>:</p>\n<blockquote>\n<p>In summary, if you have a pending worker which hasn't started yet, the\nworker will be cancelled and will not run. However if the worker is\nalready running, cancelling work does not terminate the worker in a\nhard fashion - it simply sets the state flag of the worker to\nCANCELLED, as explained in the docs. It is up to you to handle the\ncancellation inside your doWork and terminate the worker.</p>\n<p>One way to do this is to put a few checks in your doWork method to\ncheck if the worker has been cancelled, by calling isStopped(). If\nisStopped is true, return from the method with a Result instead of\ncontinuing with the rest of the work.</p>\n</blockquote>\n<p>Also double check that same tags are used. Since you are using <code>uniqueWork</code> you can also use <code>cancelUniqueWork</code>.</p>\n"}],"owner":{"account_id":3406675,"reputation":105,"user_id":2857564,"display_name":"OlsonLong"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":530,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1679566439,"answer_count":1,"score":2,"last_activity_date":1679566433,"creation_date":1630782655,"question_id":69058278,"body_markdown":"### Short description:\r\n\r\nI am currently working in Android Studio with ```OneTimeWorkRequest()```. What I want to achieve is to create a background-worker that runs and repeats **&quot;almost&quot;** on a specific time, like every hour (09:00, 10:00, etc). It has not to be exactly but should not vary too much after a long time running.\r\n\r\nI already know that the worker only runs every 15 minutes at minimum due to Android restrictions (like battery saving mechanism and so on). I do not need the worker to run exactly at the given time but at least almost around a target time! That is why I used ```OneTimeWorkRequest()``` instead of ```PeriodicWorkRequest()``` because I needed the possibility of variation in setting the interval for the worker since the documentation mentions that the ```PeriodicWorkRequest()``` will add up a time delay from one execution to another.\r\n\r\n### What I did:\r\n\r\nI have created a custom Worker-Class and used ```OneTimeWorkRequest()``` in my ```MainActivity``` to create the BackgroundWorker. I have set the ```setInitialDelay()``` of the worker to 20 minutes for testing purpose. Every time the worker did ```doWork()```, it creates another ```OneTimeWorkRequest()``` at the end of execution so a chain of worker gets created in at a given time. The worker gets queued with the ```enqueueUniqueWork()``` method from the ```WorkerManager.getInstance(context)``` and the interval is calculated.\r\n\r\n### The Problem:\r\n\r\nEvery time I close the app&#39;s process and reopen the app, the worker executes directly. Also when I list all worker created by the specified tag, it lists many workers. It seems to me that my logic created too many worker without closing the old ones, or it creates multiple ones? Yet I thought the ```enqueueUniqueWork()``` would replace or create only unique/single worker with the given tag. In addition the ```WorkManager.getInstance(this).cancelAllWorkByTag(TAG)``` function does not close the (later in this post) listed worker!\r\n\r\nRight now it is not important for me how to create worker execution at a given time, but how to create consistent worker-chain with ```OneTimeWorkRequest()``` that do not create a &quot;worker-overload&quot;, if possible. Yet I am open for alternative solutions.\r\n\r\nSo again:\r\n- Why does the worker execute after closing the process and opening the App?\r\n- Why are there so many workers listed?\r\n- Does my logic create one single worker chain or multiple ones?\r\n- Is my logic even consistent/usable like this?\r\n- Why are the worker not closing using ```.cancelAllWorkByTag(TAG)```?\r\n\r\n### Code:\r\n\r\nMainActivity.java:\r\n```java\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n\tsuper.onCreate(savedInstanceState);\r\n\t\r\n\t...\r\n\t\r\n        // For testing purpose used...\r\n\tListScheduledWorker(TAG);\r\n\tWorkManager.getInstance(this).cancelAllWorkByTag(TAG);\r\n\tListScheduledWorker(TAG);\r\n        // ...until here.\r\n\r\n\tCreateOneTimeWorker();\r\n\t\r\n\t...\r\n}\r\n\r\nprivate void CreateOneTimeWorker(){\r\n    long timeValue = 20;\r\n    TimeUnit timeUnit = TimeUnit.MINUTES;\r\n\tString workerTag = MhdExpirationPushNotification.class.getSimpleName();\r\n\tOneTimeWorkRequest worker = new OneTimeWorkRequest.Builder(CustomPeriodicallyWorker.class)\r\n\t\t\t.setInitialDelay(timeValue, timeUnit)\r\n\t\t\t.addTag(workerTag)\r\n\t\t\t.setConstraints(Constraints.NONE)\r\n\t\t\t.build();\r\n\tWorkManager.getInstance(this).enqueueUniqueWork(workerTag, ExistingWorkPolicy.KEEP, worker);\r\n}\r\n```\r\n\r\nCustomPeriodicallyWorker.java:\r\n```java\r\npublic Result doWork(){\r\n\tLog.v(TAG, &quot;Work is in progress&quot;);\r\n\ttry {\r\n\t\tCustomDateFormatter currentDateTime = new CustomDateFormatter();\r\n\t\tCustomDateFormatter targetDateTime = new CustomDateFormatter();\r\n\t\ttargetDateTime.AddMinutes(20);\r\n\t\tlong timeDifference = targetDateTime.GetDateTime().getTime() - currentDateTime.GetDateTime().getTime();\r\n\r\n\t\tOneTimeWorkRequest worker = new OneTimeWorkRequest.Builder(CustomPeriodicallyWorker.class)\r\n\t\t\t\t.setInitialDelay(timeDifference, TimeUnit.MILLISECONDS)\r\n\t\t\t\t.addTag(TAG)\r\n\t\t\t\t.build();\r\n\t\tWorkManager.getInstance(context).enqueueUniqueWork(TAG, ExistingWorkPolicy.REPLACE, worker);\r\n\r\n\t} catch (Exception e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\tLog.v(TAG, &quot;Work finished&quot;);;\r\n\r\n\treturn Result.success();\r\n}\r\n```\r\n\r\nThe function in ```MainActivity.java``` that lists all scheduled worker:\r\n```java\r\nprivate boolean ListScheduledWorker(String tag) {\r\n\tWorkManager instance = WorkManager.getInstance(this);\r\n\tListenableFuture&lt;List&lt;WorkInfo&gt;&gt; statuses = instance.getWorkInfosByTag(tag);\r\n\ttry {\r\n\t\tboolean running = false;\r\n\t\tList&lt;WorkInfo&gt; workInfoList = statuses.get();\r\n\t\tfor (WorkInfo workInfo : workInfoList) {\r\n\t\t\tLog.i(TAG, &quot;Scheduled Worker running with ID: &quot; + workInfo.getId());\r\n\t\t\tWorkInfo.State state = workInfo.getState();\r\n\t\t\trunning = state == WorkInfo.State.RUNNING | state == WorkInfo.State.ENQUEUED;\r\n\t\t}\r\n\t\treturn running;\r\n\t} catch (ExecutionException e) {\r\n\t\te.printStackTrace();\r\n\t\treturn false;\r\n\t} catch (InterruptedException e) {\r\n\t\te.printStackTrace();\r\n\t\treturn false;\r\n\t}\r\n}\r\n```\r\n\r\nThe ```ListScheduledWorker(String tag)``` prints me this out:\r\n```none\r\nI/TAG: Scheduled Worker running with ID: 27bb31ed-5984-434f-a6ca-08b50462b3df\r\n    Scheduled Worker running with ID: 2d6abbb1-3a55-4652-83ca-60617631e0ab\r\n    Scheduled Worker running with ID: 3e89851d-7e0b-410d-86b8-e664a4d710f0\r\n    Scheduled Worker running with ID: 430e77b2-5fb8-4596-acd5-51e35a6a538b\r\n    Scheduled Worker running with ID: 73b57443-8195-4c55-a24d-bd643b88e13c\r\n    Scheduled Worker running with ID: 74c8a44b-2a9a-4448-b3d5-e2c085be3d06\r\n    Scheduled Worker running with ID: 75deabd3-08e8-403a-b9d7-6c23f114a908\r\n    Scheduled Worker running with ID: 89ec6239-e215-4ea1-a7bc-fcaa8b63065c\r\n    Scheduled Worker running with ID: 9363038e-be74-4a83-9d1f-eeeda35ebbfa\r\n    Scheduled Worker running with ID: 9a09806f-f0cf-43c1-a4f6-1f10448904f4\r\n    Scheduled Worker running with ID: c6686c56-fd8a-4866-8eb1-5124654b6cb7\r\n    Scheduled Worker running with ID: d3343328-db8f-4c8d-8055-a1acfc9d1c5c\r\n    Scheduled Worker running with ID: dea9272f-6770-45f0-ba66-2c845e156d7b\r\n    Scheduled Worker running with ID: eb4c111c-97c5-46c3-ba5c-ceefe652398c\r\n    Scheduled Worker running with ID: fc71f8dc-1785-43cd-9a44-1fe4e913ca6e\r\n    Scheduled Worker running with ID: fca1bcea-97d9-4066-8b5a-8b5496ffed1e\r\n```\r\n\r\n..and the list grows every time when I rebuild/restart the app in Android Studio or on my physical device.","title":"Problem with Androids &quot;OneTimeWorker&quot;, it executes when app starts","body":"<h3>Short description:</h3>\n<p>I am currently working in Android Studio with <code>OneTimeWorkRequest()</code>. What I want to achieve is to create a background-worker that runs and repeats <strong>&quot;almost&quot;</strong> on a specific time, like every hour (09:00, 10:00, etc). It has not to be exactly but should not vary too much after a long time running.</p>\n<p>I already know that the worker only runs every 15 minutes at minimum due to Android restrictions (like battery saving mechanism and so on). I do not need the worker to run exactly at the given time but at least almost around a target time! That is why I used <code>OneTimeWorkRequest()</code> instead of <code>PeriodicWorkRequest()</code> because I needed the possibility of variation in setting the interval for the worker since the documentation mentions that the <code>PeriodicWorkRequest()</code> will add up a time delay from one execution to another.</p>\n<h3>What I did:</h3>\n<p>I have created a custom Worker-Class and used <code>OneTimeWorkRequest()</code> in my <code>MainActivity</code> to create the BackgroundWorker. I have set the <code>setInitialDelay()</code> of the worker to 20 minutes for testing purpose. Every time the worker did <code>doWork()</code>, it creates another <code>OneTimeWorkRequest()</code> at the end of execution so a chain of worker gets created in at a given time. The worker gets queued with the <code>enqueueUniqueWork()</code> method from the <code>WorkerManager.getInstance(context)</code> and the interval is calculated.</p>\n<h3>The Problem:</h3>\n<p>Every time I close the app's process and reopen the app, the worker executes directly. Also when I list all worker created by the specified tag, it lists many workers. It seems to me that my logic created too many worker without closing the old ones, or it creates multiple ones? Yet I thought the <code>enqueueUniqueWork()</code> would replace or create only unique/single worker with the given tag. In addition the <code>WorkManager.getInstance(this).cancelAllWorkByTag(TAG)</code> function does not close the (later in this post) listed worker!</p>\n<p>Right now it is not important for me how to create worker execution at a given time, but how to create consistent worker-chain with <code>OneTimeWorkRequest()</code> that do not create a &quot;worker-overload&quot;, if possible. Yet I am open for alternative solutions.</p>\n<p>So again:</p>\n<ul>\n<li>Why does the worker execute after closing the process and opening the App?</li>\n<li>Why are there so many workers listed?</li>\n<li>Does my logic create one single worker chain or multiple ones?</li>\n<li>Is my logic even consistent/usable like this?</li>\n<li>Why are the worker not closing using <code>.cancelAllWorkByTag(TAG)</code>?</li>\n</ul>\n<h3>Code:</h3>\n<p>MainActivity.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    \n    ...\n    \n        // For testing purpose used...\n    ListScheduledWorker(TAG);\n    WorkManager.getInstance(this).cancelAllWorkByTag(TAG);\n    ListScheduledWorker(TAG);\n        // ...until here.\n\n    CreateOneTimeWorker();\n    \n    ...\n}\n\nprivate void CreateOneTimeWorker(){\n    long timeValue = 20;\n    TimeUnit timeUnit = TimeUnit.MINUTES;\n    String workerTag = MhdExpirationPushNotification.class.getSimpleName();\n    OneTimeWorkRequest worker = new OneTimeWorkRequest.Builder(CustomPeriodicallyWorker.class)\n            .setInitialDelay(timeValue, timeUnit)\n            .addTag(workerTag)\n            .setConstraints(Constraints.NONE)\n            .build();\n    WorkManager.getInstance(this).enqueueUniqueWork(workerTag, ExistingWorkPolicy.KEEP, worker);\n}\n</code></pre>\n<p>CustomPeriodicallyWorker.java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Result doWork(){\n    Log.v(TAG, &quot;Work is in progress&quot;);\n    try {\n        CustomDateFormatter currentDateTime = new CustomDateFormatter();\n        CustomDateFormatter targetDateTime = new CustomDateFormatter();\n        targetDateTime.AddMinutes(20);\n        long timeDifference = targetDateTime.GetDateTime().getTime() - currentDateTime.GetDateTime().getTime();\n\n        OneTimeWorkRequest worker = new OneTimeWorkRequest.Builder(CustomPeriodicallyWorker.class)\n                .setInitialDelay(timeDifference, TimeUnit.MILLISECONDS)\n                .addTag(TAG)\n                .build();\n        WorkManager.getInstance(context).enqueueUniqueWork(TAG, ExistingWorkPolicy.REPLACE, worker);\n\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    Log.v(TAG, &quot;Work finished&quot;);;\n\n    return Result.success();\n}\n</code></pre>\n<p>The function in <code>MainActivity.java</code> that lists all scheduled worker:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private boolean ListScheduledWorker(String tag) {\n    WorkManager instance = WorkManager.getInstance(this);\n    ListenableFuture&lt;List&lt;WorkInfo&gt;&gt; statuses = instance.getWorkInfosByTag(tag);\n    try {\n        boolean running = false;\n        List&lt;WorkInfo&gt; workInfoList = statuses.get();\n        for (WorkInfo workInfo : workInfoList) {\n            Log.i(TAG, &quot;Scheduled Worker running with ID: &quot; + workInfo.getId());\n            WorkInfo.State state = workInfo.getState();\n            running = state == WorkInfo.State.RUNNING | state == WorkInfo.State.ENQUEUED;\n        }\n        return running;\n    } catch (ExecutionException e) {\n        e.printStackTrace();\n        return false;\n    } catch (InterruptedException e) {\n        e.printStackTrace();\n        return false;\n    }\n}\n</code></pre>\n<p>The <code>ListScheduledWorker(String tag)</code> prints me this out:</p>\n<pre class=\"lang-none prettyprint-override\"><code>I/TAG: Scheduled Worker running with ID: 27bb31ed-5984-434f-a6ca-08b50462b3df\n    Scheduled Worker running with ID: 2d6abbb1-3a55-4652-83ca-60617631e0ab\n    Scheduled Worker running with ID: 3e89851d-7e0b-410d-86b8-e664a4d710f0\n    Scheduled Worker running with ID: 430e77b2-5fb8-4596-acd5-51e35a6a538b\n    Scheduled Worker running with ID: 73b57443-8195-4c55-a24d-bd643b88e13c\n    Scheduled Worker running with ID: 74c8a44b-2a9a-4448-b3d5-e2c085be3d06\n    Scheduled Worker running with ID: 75deabd3-08e8-403a-b9d7-6c23f114a908\n    Scheduled Worker running with ID: 89ec6239-e215-4ea1-a7bc-fcaa8b63065c\n    Scheduled Worker running with ID: 9363038e-be74-4a83-9d1f-eeeda35ebbfa\n    Scheduled Worker running with ID: 9a09806f-f0cf-43c1-a4f6-1f10448904f4\n    Scheduled Worker running with ID: c6686c56-fd8a-4866-8eb1-5124654b6cb7\n    Scheduled Worker running with ID: d3343328-db8f-4c8d-8055-a1acfc9d1c5c\n    Scheduled Worker running with ID: dea9272f-6770-45f0-ba66-2c845e156d7b\n    Scheduled Worker running with ID: eb4c111c-97c5-46c3-ba5c-ceefe652398c\n    Scheduled Worker running with ID: fc71f8dc-1785-43cd-9a44-1fe4e913ca6e\n    Scheduled Worker running with ID: fca1bcea-97d9-4066-8b5a-8b5496ffed1e\n</code></pre>\n<p>..and the list grows every time when I rebuild/restart the app in Android Studio or on my physical device.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-remoting"],"answers":[{"tags":[],"owner":{"account_id":300800,"reputation":10941,"user_id":608164,"accept_rate":62,"display_name":"30thh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679566382,"creation_date":1679566382,"answer_id":75821702,"question_id":72905946,"body_markdown":"According to\r\n\r\nhttps://docs.spring.io/spring-framework/docs/6.0.7/javadoc-api/\r\n\r\nthe whole package branch org.`springframework.remoting` is not available for Spring 6.","title":"HttpInvokerServiceExporter is deprecated in spring 5. Is there any replacement? Will it be available in spring 6?","body":"<p>According to</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/6.0.7/javadoc-api/\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/6.0.7/javadoc-api/</a></p>\n<p>the whole package branch org.<code>springframework.remoting</code> is not available for Spring 6.</p>\n"}],"owner":{"account_id":1241770,"reputation":36,"user_id":1204207,"display_name":"Kablu Mandal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":979,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1679566382,"creation_date":1657245690,"question_id":72905946,"body_markdown":"HttpInvokerServiceExporter is deprecated in spring 5. I want to call  spring remote bean via HTTP protocol. Is there any replacement? HttpInvokerServiceExporter has a vulnerability of RCE also so i need to use some replacement of HttpInvokerServiceExporter.\r\n\r\nRMI skeleton \r\n\r\n    @Configuration\r\n    public class RMIServer {\r\n    \r\n        @Bean\r\n        DTBookingService bookingService() {\r\n        return new DTBookingServiceImpl();\r\n    \t}\r\n    \r\n        @Bean(name = &quot;exporter&quot;)\r\n    \tRmiServiceExporter exporter(DTBookingService implementation) {\r\n    \t\tClass&lt;DTBookingService&gt; serviceInterface = DTBookingService.class;\r\n            RmiServiceExporter exporter = new RmiServiceExporter();\r\n            exporter.setServiceInterface(serviceInterface); //interface\r\n            exporter.setService(implementation); //bean\r\n            exporter.setServiceName(&quot;bookingService&quot;); //bean name\r\n            exporter.setRegistryPort(1099);\r\n            try {\r\n    \t\t\texporter.prepare();\r\n    \t\t} catch (RemoteException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}        \r\n            return exporter;\r\n    \t}\r\n    }\r\n\r\nRMI Stub to call remote bean\r\nimport javax.naming.Context;\r\n\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.remoting.rmi.RmiProxyFactoryBean;\r\n    \r\n    @Configuration\r\n    public class RMIClientConfig {\r\n    \r\n    \t@Bean\r\n    \tRmiProxyFactoryBean service() {\r\n    \t\tRmiProxyFactoryBean proxyFactoryBean = new RmiProxyFactoryBean();\r\n    \t\tproxyFactoryBean.setServiceUrl(&quot;rmi://localhost:1099/bookingService&quot;);\r\n    \t\tproxyFactoryBean.setServiceInterface(DTBookingService.class);\r\n    \t\treturn proxyFactoryBean;\r\n    \t}\r\n    }\r\n\r\nNow i am trying to call bean via  HttpInvokerServiceExporter via http protocol instead of rmi://(RmiServiceExporter). Please suggest if any replacement of HttpInvokerServiceExporter.\r\n","title":"HttpInvokerServiceExporter is deprecated in spring 5. Is there any replacement? Will it be available in spring 6?","body":"<p>HttpInvokerServiceExporter is deprecated in spring 5. I want to call  spring remote bean via HTTP protocol. Is there any replacement? HttpInvokerServiceExporter has a vulnerability of RCE also so i need to use some replacement of HttpInvokerServiceExporter.</p>\n<p>RMI skeleton</p>\n<pre><code>@Configuration\npublic class RMIServer {\n\n    @Bean\n    DTBookingService bookingService() {\n    return new DTBookingServiceImpl();\n    }\n\n    @Bean(name = &quot;exporter&quot;)\n    RmiServiceExporter exporter(DTBookingService implementation) {\n        Class&lt;DTBookingService&gt; serviceInterface = DTBookingService.class;\n        RmiServiceExporter exporter = new RmiServiceExporter();\n        exporter.setServiceInterface(serviceInterface); //interface\n        exporter.setService(implementation); //bean\n        exporter.setServiceName(&quot;bookingService&quot;); //bean name\n        exporter.setRegistryPort(1099);\n        try {\n            exporter.prepare();\n        } catch (RemoteException e) {\n            e.printStackTrace();\n        }        \n        return exporter;\n    }\n}\n</code></pre>\n<p>RMI Stub to call remote bean\nimport javax.naming.Context;</p>\n<pre><code>import org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.remoting.rmi.RmiProxyFactoryBean;\n\n@Configuration\npublic class RMIClientConfig {\n\n    @Bean\n    RmiProxyFactoryBean service() {\n        RmiProxyFactoryBean proxyFactoryBean = new RmiProxyFactoryBean();\n        proxyFactoryBean.setServiceUrl(&quot;rmi://localhost:1099/bookingService&quot;);\n        proxyFactoryBean.setServiceInterface(DTBookingService.class);\n        return proxyFactoryBean;\n    }\n}\n</code></pre>\n<p>Now i am trying to call bean via  HttpInvokerServiceExporter via http protocol instead of rmi://(RmiServiceExporter). Please suggest if any replacement of HttpInvokerServiceExporter.</p>\n"},{"tags":["java","multithreading","locking","java.util.concurrent","reentrantlock"],"comments":[{"owner":{"account_id":317953,"reputation":50102,"user_id":634919,"display_name":"Nate Eldredge"},"score":0,"creation_date":1679582011,"post_id":75820698,"comment_id":133750125,"body_markdown":"This probably needs a [mcve].  The simplest explanation is that you are mistaken when you say that the lock is free, but no way to tell without seeing the code.","body":"This probably needs a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>.  The simplest explanation is that you are mistaken when you say that the lock is free, but no way to tell without seeing the code."}],"owner":{"account_id":25462110,"reputation":23,"user_id":19261690,"display_name":"vishal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679566183,"creation_date":1679560229,"question_id":75820698,"body_markdown":"I&#39;m working on multithreading issue where threads failed to acquire the lock even though the lock is free i.e., none of the threads acquire the lock\r\n\r\nI&#39;m using ```java.util.concurrent.locks.ReentrantLock.ReentrantLock()```\r\n\r\nI&#39;m trying to acquire the lock using tryLock() with 3 seconds timeout ```lock.tryLock(3, TimeUnit.SECONDS)``` but threads are failing to acquire the lock, not even a single thread acquired the lock, I&#39;m not getting what may be the reason behind it?","title":"Is there any chance that even though the lock object is free thread fails to acquire the lock?","body":"<p>I'm working on multithreading issue where threads failed to acquire the lock even though the lock is free i.e., none of the threads acquire the lock</p>\n<p>I'm using <code>java.util.concurrent.locks.ReentrantLock.ReentrantLock()</code></p>\n<p>I'm trying to acquire the lock using tryLock() with 3 seconds timeout <code>lock.tryLock(3, TimeUnit.SECONDS)</code> but threads are failing to acquire the lock, not even a single thread acquired the lock, I'm not getting what may be the reason behind it?</p>\n"},{"tags":["java","jakarta-ee","classpath","smartcard","java-platform-module-system"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1515599758,"post_id":48191306,"comment_id":83362852,"body_markdown":"*I have just found out that javax.smartcardio still exists as a module java.smartcardio* So, what are you asking now?","body":"<i>I have just found out that javax.smartcardio still exists as a module java.smartcardio</i> So, what are you asking now?"},{"owner":{"account_id":1939636,"reputation":28467,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"score":0,"creation_date":1515600302,"post_id":48191306,"comment_id":83363241,"body_markdown":"Could you explain what do you mean when you say *this doesn&#39;t help me because I am still working with the ClassPath in my project* when `module java.smartcardio` is present in the JDK itself?","body":"Could you explain what do you mean when you say <i>this doesn&#39;t help me because I am still working with the ClassPath in my project</i> when <code>module java.smartcardio</code> is present in the JDK itself?"},{"owner":{"account_id":9478143,"reputation":61,"user_id":7046900,"display_name":"spellsleeper"},"score":0,"creation_date":1515661079,"post_id":48191306,"comment_id":83387038,"body_markdown":"I&#39;m working in my application without an moduldescriptor. So I can&#39;t use the module &#39;java.smartcardio&#39;. If I would use a module-info.java I should have to  use the module system in the full application.","body":"I&#39;m working in my application without an moduldescriptor. So I can&#39;t use the module &#39;java.smartcardio&#39;. If I would use a module-info.java I should have to  use the module system in the full application."},{"owner":{"account_id":9478143,"reputation":61,"user_id":7046900,"display_name":"spellsleeper"},"score":0,"creation_date":1516195652,"post_id":48191306,"comment_id":83589076,"body_markdown":"My goal is that I create a JAR with javax.smartcardio included or which automaticly reads the module java.smartcardio(manifest?). So that it runs with Java 9. Again, using module-info seems to be no solution for me.","body":"My goal is that I create a JAR with javax.smartcardio included or which automaticly reads the module java.smartcardio(manifest?). So that it runs with Java 9. Again, using module-info seems to be no solution for me."},{"owner":{"account_id":1806248,"reputation":441,"user_id":1643298,"display_name":"Andrea Mariottini"},"score":0,"creation_date":1524149765,"post_id":48191306,"comment_id":86864171,"body_markdown":"I have the same problem, please let me know if you solved.","body":"I have the same problem, please let me know if you solved."}],"answers":[{"tags":[],"owner":{"account_id":1806248,"reputation":441,"user_id":1643298,"display_name":"Andrea Mariottini"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1524563399,"creation_date":1524563399,"answer_id":49998510,"question_id":48191306,"body_markdown":"I verified that at runtime javax.smartcardio is available out of the box if you are on the classpath.&lt;br/&gt;\r\nNo --add-modules is required.\r\n","title":"javax.smartcardio with Java 9 and ClassPath","body":"<p>I verified that at runtime javax.smartcardio is available out of the box if you are on the classpath.<br/>\nNo --add-modules is required.</p>\n"},{"tags":[],"owner":{"account_id":9837339,"reputation":558,"user_id":7287324,"display_name":"Chemah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589166122,"creation_date":1589166122,"answer_id":61721622,"question_id":48191306,"body_markdown":"Use a `module-info.java` to require the `java.smartcardio` module. This worked for me.\r\n\r\nI posted a bit more detailed answer here:\r\nhttps://stackoverflow.com/a/61721513/7287324","title":"javax.smartcardio with Java 9 and ClassPath","body":"<p>Use a <code>module-info.java</code> to require the <code>java.smartcardio</code> module. This worked for me.</p>\n\n<p>I posted a bit more detailed answer here:\n<a href=\"https://stackoverflow.com/a/61721513/7287324\">https://stackoverflow.com/a/61721513/7287324</a></p>\n"},{"tags":[],"owner":{"account_id":2971195,"reputation":9,"user_id":2783150,"display_name":"Eranda Ediriweera"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1679565847,"creation_date":1679565847,"answer_id":75821600,"question_id":48191306,"body_markdown":"I had the same problem because I was using a project with Java 8 for compile time.\r\n\r\nYou have to add this to your POM\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/javax/javaee-api --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;javax&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\r\n        &lt;version&gt;XXXX&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nThen it compiles ok.","title":"javax.smartcardio with Java 9 and ClassPath","body":"<p>I had the same problem because I was using a project with Java 8 for compile time.</p>\n<p>You have to add this to your POM</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/javax/javaee-api --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;javax&lt;/groupId&gt;\n    &lt;artifactId&gt;javaee-api&lt;/artifactId&gt;\n    &lt;version&gt;XXXX&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then it compiles ok.</p>\n"}],"owner":{"account_id":9478143,"reputation":61,"user_id":7046900,"display_name":"spellsleeper"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3151,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1679565847,"creation_date":1515599697,"question_id":48191306,"body_markdown":"Under Java 9, various default packages have been switched to Java EE packages (no longer included in JVM - optionally addable).\r\nThis is not a problem for most of them because I simply specify the Java EE packages as dependencies. With the said package **javax.smartcardio**, however, I didn&#39;t find anything where it could have landed (github-jee, no Maven search result,...). Can someone give me a tip where to get the latest version of the package? Thank you much!\r\n\r\n*I have just found out that **javax.smartcardio** still exists as a module **java.smartcardio**. However, this doesn&#39;t help me because I am still working with the ClassPath in my project and would have to work with Jigsaw to get it.*\r\n","title":"javax.smartcardio with Java 9 and ClassPath","body":"<p>Under Java 9, various default packages have been switched to Java EE packages (no longer included in JVM - optionally addable).\nThis is not a problem for most of them because I simply specify the Java EE packages as dependencies. With the said package <strong>javax.smartcardio</strong>, however, I didn't find anything where it could have landed (github-jee, no Maven search result,...). Can someone give me a tip where to get the latest version of the package? Thank you much!</p>\n\n<p><em>I have just found out that <strong>javax.smartcardio</strong> still exists as a module <strong>java.smartcardio</strong>. However, this doesn't help me because I am still working with the ClassPath in my project and would have to work with Jigsaw to get it.</em></p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":3557625,"reputation":199021,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1679496527,"post_id":75813757,"comment_id":133732893,"body_markdown":"Change the first line of every Java file you moved to the correct name for your &quot;perfect&quot; hierarchy. It must be identical. Also, you can&#39;t change the `src` folder without modifying the project properties. `src` isn&#39;t part of the package name. See [source folders](https://i.imgur.com/vd0LWFu.png) under Java Build Path under project properties.","body":"Change the first line of every Java file you moved to the correct name for your &quot;perfect&quot; hierarchy. It must be identical. Also, you can&#39;t change the <code>src</code> folder without modifying the project properties. <code>src</code> isn&#39;t part of the package name. See <a href=\"https://i.imgur.com/vd0LWFu.png\" rel=\"nofollow noreferrer\">source folders</a> under Java Build Path under project properties."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1679498060,"post_id":75813757,"comment_id":133733430,"body_markdown":"Also note: packages _are_ folders. There&#39;s no distinction. Additionally, `.java` files are _never_ executable, they are only compilable into `.class` files which a jvm can run for you.","body":"Also note: packages <i>are</i> folders. There&#39;s no distinction. Additionally, <code>.java</code> files are <i>never</i> executable, they are only compilable into <code>.class</code> files which a jvm can run for you."},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":1,"creation_date":1679520208,"post_id":75813757,"comment_id":133738929,"body_markdown":"When you move files again, use Eclipse&#39;s refactor tool. It will move files, adjust package declarations, and even import statements of users of the moved classes.","body":"When you move files again, use Eclipse&#39;s refactor tool. It will move files, adjust package declarations, and even import statements of users of the moved classes."},{"owner":{"account_id":19481778,"reputation":1,"user_id":14251920,"display_name":"user14251920"},"score":0,"creation_date":1679730947,"post_id":75813757,"comment_id":133776359,"body_markdown":"Thank you for the comment.\nI changed the first line of Java files, and it solved problem.","body":"Thank you for the comment. I changed the first line of Java files, and it solved problem."}],"owner":{"account_id":19481778,"reputation":1,"user_id":14251920,"display_name":"user14251920"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679565707,"creation_date":1679496362,"question_id":75813757,"body_markdown":"### Background and what we want to achieve\r\nI am developing Java in Eclipse. I originally stored and managed .java files in packages, but in order to organize .java files, I moved .java files in packages to folders as shown in the following hierarchy.\r\n\r\nHowever, as a result, the .java files are no longer executable. Probably the reason for this is because the .java files are stored in a folder, not in a package. I would like to move all .java folders into a package.\r\n\r\nIdeally, I would like to create the following package hierarchy.\r\n\r\n### The hierarchy I would like to make\r\n\r\nsrc {Java_basic (chapter1, chapter2)}{Java_Practice(chapter1, chapter2)}\r\n\r\n### Problems that are occurring / Question\r\nHowever, when I drag and drop a specific file into a specific package, an error occurs. How can I achieve the above hierarchy with .java files stored in a package?\r\n\r\n![screen image](https://i.stack.imgur.com/6GP5u.png)\r\n\r\n### Version\r\nLanguage: Java\\\r\nDevelopment environment: Eclipse\\\r\nVersion : 2022-12 (4.26.0)\r\n\r\nAfter moving the .java file to a specific package, the first line in the file `package chapter10;` to `package Java_basic`, but the error message _&quot;The declared package &quot;chaoter10&quot; does not match the expected package &quot;Java_basic&quot;&quot;_ is displayed and the file cannot be executed.","title":"I want to drag and drop .java files into a specific package in Eclipse to achieve the ideal hierarchy","body":"<h3>Background and what we want to achieve</h3>\n<p>I am developing Java in Eclipse. I originally stored and managed .java files in packages, but in order to organize .java files, I moved .java files in packages to folders as shown in the following hierarchy.</p>\n<p>However, as a result, the .java files are no longer executable. Probably the reason for this is because the .java files are stored in a folder, not in a package. I would like to move all .java folders into a package.</p>\n<p>Ideally, I would like to create the following package hierarchy.</p>\n<h3>The hierarchy I would like to make</h3>\n<p>src {Java_basic (chapter1, chapter2)}{Java_Practice(chapter1, chapter2)}</p>\n<h3>Problems that are occurring / Question</h3>\n<p>However, when I drag and drop a specific file into a specific package, an error occurs. How can I achieve the above hierarchy with .java files stored in a package?</p>\n<p><img src=\"https://i.stack.imgur.com/6GP5u.png\" alt=\"screen image\" /></p>\n<h3>Version</h3>\n<p>Language: Java<br />\nDevelopment environment: Eclipse<br />\nVersion : 2022-12 (4.26.0)</p>\n<p>After moving the .java file to a specific package, the first line in the file <code>package chapter10;</code> to <code>package Java_basic</code>, but the error message <em>&quot;The declared package &quot;chaoter10&quot; does not match the expected package &quot;Java_basic&quot;&quot;</em> is displayed and the file cannot be executed.</p>\n"},{"tags":["java","ant"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1679564814,"post_id":75820763,"comment_id":133745409,"body_markdown":"You forgot to set the classpath to the build directory for the java task.","body":"You forgot to set the classpath to the build directory for the java task."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1679564827,"post_id":75820763,"comment_id":133745413,"body_markdown":"the `.class` file is not in the directory where `java` is being executed.... must add `${build.dir}` to the `java` task (as classpath, e.g. `classpath=&quot;${build.dir}&quot;` or so [long time not using ant]) -- see suggested related question for example: [0 error running java in another dir from ant](https://stackoverflow.com/questions/5260846/error-running-java-in-another-dir-from-ant?rq=2)","body":"the <code>.class</code> file is not in the directory where <code>java</code> is being executed.... must add <code>${build.dir}</code> to the <code>java</code> task (as classpath, e.g. <code>classpath=&quot;${build.dir}&quot;</code> or so [long time not using ant]) -- see suggested related question for example: <a href=\"https://stackoverflow.com/questions/5260846/error-running-java-in-another-dir-from-ant?rq=2\">0 error running java in another dir from ant</a>"}],"answers":[{"tags":[],"owner":{"account_id":35955,"reputation":1059,"user_id":102221,"accept_rate":100,"display_name":"BaruchLi"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1679565239,"creation_date":1679565239,"answer_id":75821502,"question_id":75820763,"body_markdown":"@user16320675 was correct. \r\nThis is a fix a `build.xml` `run` section fix:\r\n\r\n```\r\n&lt;target name=&quot;run&quot; depends=&quot;build&quot;&gt;\r\n  &lt;java classname=&quot;${main.class}&quot; classpath=&quot;${classpath}:${build.dir}&quot;&gt;\r\n  &lt;/java&gt;\r\n&lt;/target&gt;\r\n```","title":"Ant run failure to load main","body":"<p>@user16320675 was correct.\nThis is a fix a <code>build.xml</code> <code>run</code> section fix:</p>\n<pre><code>&lt;target name=&quot;run&quot; depends=&quot;build&quot;&gt;\n  &lt;java classname=&quot;${main.class}&quot; classpath=&quot;${classpath}:${build.dir}&quot;&gt;\n  &lt;/java&gt;\n&lt;/target&gt;\n</code></pre>\n"}],"owner":{"account_id":35955,"reputation":1059,"user_id":102221,"accept_rate":100,"display_name":"BaruchLi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":75821502,"answer_count":1,"score":0,"last_activity_date":1679565239,"creation_date":1679560732,"question_id":75820763,"body_markdown":"I have oversimple Main.java file of next contents:\r\n```\r\npublic class Main {\r\n  public static void main(String[] args) {\r\n    System.out.println(&quot;Hello, world!&quot;);\r\n  }\r\n}\r\n```\r\nThe file was compiled by `ant` with next `compile` section in build.xml:\r\n```\r\n  &lt;target name=&quot;compile&quot;&gt;\r\n    &lt;mkdir dir=&quot;${build.dir}&quot; /&gt;\r\n    &lt;javac srcdir=&quot;${src.dir}&quot; destdir=&quot;${build.dir}&quot; includeantruntime=&quot;false&quot;/&gt;\r\n  &lt;/target&gt;\r\n```\r\n`Main.class` file has been created in `./build` directory.\r\nChanging directory to `./build` and running`&quot;%JAVA_HOME%\\bin\\java.exe&quot; Main` brings correct output.\r\nHowever, running `ant -v run` from project root directory brungs next error:\r\n\r\n```\r\nrun:\r\n     [java] Executing &#39;C:\\Program Files\\Microsoft\\jdk-11.0.12.7-hotspot\\bin\\java.exe&#39; with arguments:\r\n     [java] &#39;Main&#39;\r\n     [java]\r\n     [java] The &#39; characters around the executable and arguments are\r\n     [java] not part of the command.\r\n     [java] Error: Could not find or load main class Main\r\n     [java] Caused by: java.lang.ClassNotFoundException: Main\r\n     [java] Java Result: 1\r\n```\r\nThis is `run` section of `build.xml`:\r\n\r\n```\r\n  &lt;target name=&quot;run&quot; depends=&quot;compile&quot;&gt;\r\n    &lt;java classname=&quot;Main&quot; fork=&quot;true&quot;&gt;\r\n    &lt;/java&gt;\r\n  &lt;/target&gt;\r\n```\r\n\r\nWhat is wrong? ","title":"Ant run failure to load main","body":"<p>I have oversimple Main.java file of next contents:</p>\n<pre><code>public class Main {\n  public static void main(String[] args) {\n    System.out.println(&quot;Hello, world!&quot;);\n  }\n}\n</code></pre>\n<p>The file was compiled by <code>ant</code> with next <code>compile</code> section in build.xml:</p>\n<pre><code>  &lt;target name=&quot;compile&quot;&gt;\n    &lt;mkdir dir=&quot;${build.dir}&quot; /&gt;\n    &lt;javac srcdir=&quot;${src.dir}&quot; destdir=&quot;${build.dir}&quot; includeantruntime=&quot;false&quot;/&gt;\n  &lt;/target&gt;\n</code></pre>\n<p><code>Main.class</code> file has been created in <code>./build</code> directory.\nChanging directory to <code>./build</code> and running<code>&quot;%JAVA_HOME%\\bin\\java.exe&quot; Main</code> brings correct output.\nHowever, running <code>ant -v run</code> from project root directory brungs next error:</p>\n<pre><code>run:\n     [java] Executing 'C:\\Program Files\\Microsoft\\jdk-11.0.12.7-hotspot\\bin\\java.exe' with arguments:\n     [java] 'Main'\n     [java]\n     [java] The ' characters around the executable and arguments are\n     [java] not part of the command.\n     [java] Error: Could not find or load main class Main\n     [java] Caused by: java.lang.ClassNotFoundException: Main\n     [java] Java Result: 1\n</code></pre>\n<p>This is <code>run</code> section of <code>build.xml</code>:</p>\n<pre><code>  &lt;target name=&quot;run&quot; depends=&quot;compile&quot;&gt;\n    &lt;java classname=&quot;Main&quot; fork=&quot;true&quot;&gt;\n    &lt;/java&gt;\n  &lt;/target&gt;\n</code></pre>\n<p>What is wrong?</p>\n"},{"tags":["java","dictionary","jframe","jlabel"],"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1679565792,"post_id":75821482,"comment_id":133745705,"body_markdown":"As an aside I strongly recommend that you don’t use `SimpleDateFormat` and `Date`. Those classes were troublesome and were supplanted nearly 10 years ago for that reason. Today use for example `ZonedDateTime` and `DateTimeFormatter` from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/index.html).","body":"As an aside I strongly recommend that you don’t use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes were troublesome and were supplanted nearly 10 years ago for that reason. Today use for example <code>ZonedDateTime</code> and <code>DateTimeFormatter</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/index.html\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":23067373,"reputation":640,"user_id":17181638,"display_name":"3Fish"},"score":0,"creation_date":1679565975,"post_id":75821482,"comment_id":133745747,"body_markdown":"Hi, please clean up the code a bit. I don&#39;t understand why the JPanel and JLabels are recreated every time an item is added (after the first). Also, what does `getLicense` do? Is that an add function? Think about descriptive names. And lastly, I would not check against the testmap size but rather if the new window is already visible, you should just need to add the new JLabel to the existing window, and make the window visible if it&#39;s not.","body":"Hi, please clean up the code a bit. I don&#39;t understand why the JPanel and JLabels are recreated every time an item is added (after the first). Also, what does <code>getLicense</code> do? Is that an add function? Think about descriptive names. And lastly, I would not check against the testmap size but rather if the new window is already visible, you should just need to add the new JLabel to the existing window, and make the window visible if it&#39;s not."},{"owner":{"account_id":28100127,"reputation":1,"user_id":21469168,"display_name":"henry58"},"score":0,"creation_date":1679566163,"post_id":75821482,"comment_id":133745801,"body_markdown":"Function getLicense is a function which start JFrame and also serch the data from data bases based on parametr license which I add in TextFrame","body":"Function getLicense is a function which start JFrame and also serch the data from data bases based on parametr license which I add in TextFrame"},{"owner":{"account_id":28100127,"reputation":1,"user_id":21469168,"display_name":"henry58"},"score":0,"creation_date":1679566477,"post_id":75821482,"comment_id":133745866,"body_markdown":"getLicense is a function which start second window when I add the first record in Map and then I would like to add new JLabels when I add new records to map but I can&#39;t call getLicense again only one time because this function start window","body":"getLicense is a function which start second window when I add the first record in Map and then I would like to add new JLabels when I add new records to map but I can&#39;t call getLicense again only one time because this function start window"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1679571482,"post_id":75821482,"comment_id":133747039,"body_markdown":"You seem to be mixing the modeling of your data and its presentation. Worse, lines like *licname = nameField.getText();* suggest that you&#39;re even deriving the data from the presentation in some way (&#39;global&#39; variables are not good either btw). I would keep these layers of your program quite separate. Yes, they can *interact*, but at the moment they don&#39;t appear sufficiently separated from the outset","body":"You seem to be mixing the modeling of your data and its presentation. Worse, lines like <i>licname = nameField.getText();</i> suggest that you&#39;re even deriving the data from the presentation in some way (&#39;global&#39; variables are not good either btw). I would keep these layers of your program quite separate. Yes, they can <i>interact</i>, but at the moment they don&#39;t appear sufficiently separated from the outset"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1679580902,"post_id":75821482,"comment_id":133749757,"body_markdown":"`testlabel.setBounds(10, 140 + (i * 10), 200, 50);` ← You can remove that line, because it does nothing.  The parent JPanel’s layout determines the size and location of its children.  The initial layout of a JPanel created with [the zero-argument JPanel constructor](https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/JPanel.html#%3Cinit%3E()) is a FlowLayout, which I suspect is why you don’t see all of your labels.  For a vertical stack of labels, you probably want a GridLayout or a BoxLayout.","body":"<code>testlabel.setBounds(10, 140 + (i * 10), 200, 50);</code> ← You can remove that line, because it does nothing.  The parent JPanel’s layout determines the size and location of its children.  The initial layout of a JPanel created with <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.desktop/javax/swing/JPanel.html#%3Cinit%3E()\" rel=\"nofollow noreferrer\">the zero-argument JPanel constructor</a> is a FlowLayout, which I suspect is why you don’t see all of your labels.  For a vertical stack of labels, you probably want a GridLayout or a BoxLayout."}],"owner":{"account_id":28100127,"reputation":1,"user_id":21469168,"display_name":"henry58"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679565150,"creation_date":1679565150,"question_id":75821482,"body_markdown":"I want to add new JLabels to JFrame with number and currenct date when I add new records to my Map. \r\n\r\nI&#39;m trying to create app in Java swing which will display new records in JLables in my Frame during I add new records to the Map in the second window (window with textField and button). When I add the first record - window will start and display one record, when I add second record in Frame I will see two JLabels. Now I can start first window when in map is one record but when I add next one I don&#39;t see nothing more. What is wrong ? \r\nThanks in advance!\r\n\r\n\r\n```\r\n public void actionPerformed(ActionEvent e) {\r\n        Object source = e.getSource();\r\n        if (source == button1) {\r\n\r\n            //Current date - when click on button\r\n            currentdata = new Date();\r\n            SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;YYYY-mm-dd HH:mm:ss&quot;);\r\n\r\n            //Read textfield and save in variable\r\n            licname = nameField.getText();\r\n\r\n            //add license number and date of click to Map\r\n            testmap.put(licname, currentdata);\r\n            //Display of map\r\n            System.out.println(testmap);\r\n\r\n            //Check if map has only 1 field - if yes application start, windows opens\r\n            if (testmap.size() == 1) {\r\n                Rest rest = new Rest();\r\n                try {\r\n                    rest.getLicense(licname, currentdata);\r\n                } catch (IOException ex) {\r\n                    throw new RuntimeException(ex);\r\n                } catch (XMLStreamException ex) {\r\n                    throw new RuntimeException(ex);\r\n                }\r\n            }\r\n           //Check if map has 2 or more fields - add new label\r\n                   else if (testmap.size() &gt; 1) {\r\n   \r\n                   ArrayList&lt;JLabel&gt; labellist = new ArrayList&lt;JLabel&gt;();\r\n                    for (int i = 2; i &gt; testmap.size(); i++) {\r\n                    testlabel = new JLabel();\r\n                        testlabel.setIcon(new ImageIcon(&quot;C:/images/tab.jpg&quot;));\r\n                        testlabel.setFont(new Font(&quot;Verdana&quot;, Font.PLAIN, 18));\r\n                        testlabel.setHorizontalTextPosition(JLabel.CENTER);\r\n                        testlabel.setVerticalTextPosition(JLabel.CENTER);\r\n                        testlabel.setBounds(10, 140 + (i * 10), 200, 50);\r\n                    labellist.add(testlabel);\r\n                }\r\n                    JPanel p = new JPanel();\r\n                    for(JLabel j:labellist) {\r\n                        p.add(j);\r\n                    }\r\n                    f.add(p);\r\n            }\r\n        }\r\n\r\n    }\r\n```\r\n","title":"adding JLabels to JFrame during adding new records to Map","body":"<p>I want to add new JLabels to JFrame with number and currenct date when I add new records to my Map.</p>\n<p>I'm trying to create app in Java swing which will display new records in JLables in my Frame during I add new records to the Map in the second window (window with textField and button). When I add the first record - window will start and display one record, when I add second record in Frame I will see two JLabels. Now I can start first window when in map is one record but when I add next one I don't see nothing more. What is wrong ?\nThanks in advance!</p>\n<pre><code> public void actionPerformed(ActionEvent e) {\n        Object source = e.getSource();\n        if (source == button1) {\n\n            //Current date - when click on button\n            currentdata = new Date();\n            SimpleDateFormat simpleDateFormat = new SimpleDateFormat(&quot;YYYY-mm-dd HH:mm:ss&quot;);\n\n            //Read textfield and save in variable\n            licname = nameField.getText();\n\n            //add license number and date of click to Map\n            testmap.put(licname, currentdata);\n            //Display of map\n            System.out.println(testmap);\n\n            //Check if map has only 1 field - if yes application start, windows opens\n            if (testmap.size() == 1) {\n                Rest rest = new Rest();\n                try {\n                    rest.getLicense(licname, currentdata);\n                } catch (IOException ex) {\n                    throw new RuntimeException(ex);\n                } catch (XMLStreamException ex) {\n                    throw new RuntimeException(ex);\n                }\n            }\n           //Check if map has 2 or more fields - add new label\n                   else if (testmap.size() &gt; 1) {\n   \n                   ArrayList&lt;JLabel&gt; labellist = new ArrayList&lt;JLabel&gt;();\n                    for (int i = 2; i &gt; testmap.size(); i++) {\n                    testlabel = new JLabel();\n                        testlabel.setIcon(new ImageIcon(&quot;C:/images/tab.jpg&quot;));\n                        testlabel.setFont(new Font(&quot;Verdana&quot;, Font.PLAIN, 18));\n                        testlabel.setHorizontalTextPosition(JLabel.CENTER);\n                        testlabel.setVerticalTextPosition(JLabel.CENTER);\n                        testlabel.setBounds(10, 140 + (i * 10), 200, 50);\n                    labellist.add(testlabel);\n                }\n                    JPanel p = new JPanel();\n                    for(JLabel j:labellist) {\n                        p.add(j);\n                    }\n                    f.add(p);\n            }\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","linux","sockets","thread-dump"],"comments":[{"owner":{"account_id":3293773,"reputation":3947,"user_id":2771469,"accept_rate":32,"display_name":"MojoJojo"},"score":0,"creation_date":1452174141,"post_id":34656396,"comment_id":57058393,"body_markdown":"Is this for a server or a client? E.g. server socket or a client socket?","body":"Is this for a server or a client? E.g. server socket or a client socket?"},{"owner":{"account_id":7589651,"reputation":41,"user_id":5757696,"display_name":"Jaganathan Sadasivan"},"score":0,"creation_date":1452176968,"post_id":34656396,"comment_id":57060540,"body_markdown":"Sorry I don&#39;t have that info. All i have is only thread dump taken from the server. It interacts with many interfaces including DB, Webserver ... etc.It says &#39;SocketInputStream.read&#39;. Could it be server socket ?","body":"Sorry I don&#39;t have that info. All i have is only thread dump taken from the server. It interacts with many interfaces including DB, Webserver ... etc.It says &#39;SocketInputStream.read&#39;. Could it be server socket ?"},{"owner":{"account_id":3293773,"reputation":3947,"user_id":2771469,"accept_rate":32,"display_name":"MojoJojo"},"score":0,"creation_date":1452177043,"post_id":34656396,"comment_id":57060588,"body_markdown":"How big is the dump? Can you perhaps upload to Github or some other share?","body":"How big is the dump? Can you perhaps upload to Github or some other share?"},{"owner":{"account_id":7589651,"reputation":41,"user_id":5757696,"display_name":"Jaganathan Sadasivan"},"score":0,"creation_date":1452183275,"post_id":34656396,"comment_id":57065189,"body_markdown":"What i provided is thread dump only. It is nothing but the stack trace of what the thread is doing by the time the dump is taken.","body":"What i provided is thread dump only. It is nothing but the stack trace of what the thread is doing by the time the dump is taken."}],"answers":[{"comments":[{"owner":{"account_id":7589651,"reputation":41,"user_id":5757696,"display_name":"Jaganathan Sadasivan"},"score":0,"creation_date":1452178014,"post_id":34657725,"comment_id":57061274,"body_markdown":"Did this, but not getting the result. Not sure lsof accepts only the process id as opposed to thread id. Also, when i convert hex to decimal, and issue &#39;ps -eLf | grep 25781&#39; to get the thread detail, not getting any result. Here 25781 is the decimal value for Hex nid(0x64b5).","body":"Did this, but not getting the result. Not sure lsof accepts only the process id as opposed to thread id. Also, when i convert hex to decimal, and issue &#39;ps -eLf | grep 25781&#39; to get the thread detail, not getting any result. Here 25781 is the decimal value for Hex nid(0x64b5)."}],"tags":[],"owner":{"account_id":3535938,"reputation":4707,"user_id":2954288,"accept_rate":48,"display_name":"Harald"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1452178950,"creation_date":1452177192,"answer_id":34657725,"question_id":34656396,"body_markdown":"The `nid` is actually the process/thread ID of the underlying OS (at least for Linux), albeit in hex notation. Convert to decimal pid and use \r\n\r\n    lsof -p pid |grep -Ei &#39;tcp|socket&#39;\r\n\r\nto learn more about the socket connections used. It may turn out though, that all sockets are opened by the main thread, in which case the sub-threads only inherit several (many) so it may be difficult to see which thread it connected where.\r\n\r\nIf `lsof` does not show the thread of the main process (seems it indeed does not) you may have to resolve to looking into `/proc/&lt;pid&gt;/fd`.","title":"Socket information from Linux-Java thread dump","body":"<p>The <code>nid</code> is actually the process/thread ID of the underlying OS (at least for Linux), albeit in hex notation. Convert to decimal pid and use </p>\n\n<pre><code>lsof -p pid |grep -Ei 'tcp|socket'\n</code></pre>\n\n<p>to learn more about the socket connections used. It may turn out though, that all sockets are opened by the main thread, in which case the sub-threads only inherit several (many) so it may be difficult to see which thread it connected where.</p>\n\n<p>If <code>lsof</code> does not show the thread of the main process (seems it indeed does not) you may have to resolve to looking into <code>/proc/&lt;pid&gt;/fd</code>.</p>\n"},{"comments":[{"owner":{"account_id":7589651,"reputation":41,"user_id":5757696,"display_name":"Jaganathan Sadasivan"},"score":1,"creation_date":1452261983,"post_id":34660391,"comment_id":57102983,"body_markdown":"Thank you MajoJojo. But this approach again talks at pid level. What I want to know is at the thread level. Pid has many threads, and thread dump shows what each thread is doing. In unix, ps -eLf commands lists the threads along with process. If we know the process id, we can run &#39;ps -eLf | grep pid&#39; to know the list of threads. In my thread dump, many threads are reading data from socket, but I couldn&#39;t identify what that socket is. Hope I am clear on my question.","body":"Thank you MajoJojo. But this approach again talks at pid level. What I want to know is at the thread level. Pid has many threads, and thread dump shows what each thread is doing. In unix, ps -eLf commands lists the threads along with process. If we know the process id, we can run &#39;ps -eLf | grep pid&#39; to know the list of threads. In my thread dump, many threads are reading data from socket, but I couldn&#39;t identify what that socket is. Hope I am clear on my question."}],"tags":[],"owner":{"account_id":3293773,"reputation":3947,"user_id":2771469,"accept_rate":32,"display_name":"MojoJojo"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1452184425,"creation_date":1452184425,"answer_id":34660391,"question_id":34656396,"body_markdown":"tid is the Java level thread id and nid is the native thread id. What nid actually refers to on different OS&#39;es, is [somewhat confusing][1]. What I would recommend is connecting to your application using a tool such as Visual VM and noting down the PID of the application. Once you have the PID, try the command below:\r\n\r\n    sudo netstat -nlpt\r\n\r\nThis should give you something like below (with remote/local address and PID and program name):\r\n\r\n    Active Internet connections (only servers)\r\n    Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name\r\n    tcp        0      0 127.0.1.1:53            0.0.0.0:*               LISTEN      1144/dnsmasq    \r\n    tcp        0      0 127.0.0.1:631           0.0.0.0:*               LISTEN      661/cupsd       \r\n    tcp6       0      0 ::1:631                 :::*                    LISTEN      661/cupsd\r\n\r\nThat should tell you which connections are open from your Java program.\r\n\r\n\r\n  [1]: https://gist.github.com/rednaxelafx/843622","title":"Socket information from Linux-Java thread dump","body":"<p>tid is the Java level thread id and nid is the native thread id. What nid actually refers to on different OS'es, is <a href=\"https://gist.github.com/rednaxelafx/843622\" rel=\"nofollow\">somewhat confusing</a>. What I would recommend is connecting to your application using a tool such as Visual VM and noting down the PID of the application. Once you have the PID, try the command below:</p>\n\n<pre><code>sudo netstat -nlpt\n</code></pre>\n\n<p>This should give you something like below (with remote/local address and PID and program name):</p>\n\n<pre><code>Active Internet connections (only servers)\nProto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name\ntcp        0      0 127.0.1.1:53            0.0.0.0:*               LISTEN      1144/dnsmasq    \ntcp        0      0 127.0.0.1:631           0.0.0.0:*               LISTEN      661/cupsd       \ntcp6       0      0 ::1:631                 :::*                    LISTEN      661/cupsd\n</code></pre>\n\n<p>That should tell you which connections are open from your Java program.</p>\n"},{"tags":[],"owner":{"account_id":2268036,"reputation":628,"user_id":1996150,"display_name":"Mariano Paniga"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679565096,"creation_date":1679565096,"answer_id":75821475,"question_id":34656396,"body_markdown":"From comments and replies to similar questions https://stackoverflow.com/questions/59777155/find-thread-id-that-open-socket-for-net , https://stackoverflow.com/questions/6044136/how-to-view-thread-id-of-a-process-which-has-opened-a-socket-connection , it seems there is no tracking, from the operating system, of the thread that is using a specific opened socket. So it appears to be very difficult to obtain the information you requested.\r\n\r\nIn the https://stackoverflow.com/a/50273809/1996150 reply there is a suggested (complex) method that requires to log the system calls with strace from the start of the process, and finally debug with gdb the process to find the thread.","title":"Socket information from Linux-Java thread dump","body":"<p>From comments and replies to similar questions <a href=\"https://stackoverflow.com/questions/59777155/find-thread-id-that-open-socket-for-net\">Find thread id that open socket for net</a> , <a href=\"https://stackoverflow.com/questions/6044136/how-to-view-thread-id-of-a-process-which-has-opened-a-socket-connection\">How to view thread id of a process which has opened a socket connection?</a> , it seems there is no tracking, from the operating system, of the thread that is using a specific opened socket. So it appears to be very difficult to obtain the information you requested.</p>\n<p>In the <a href=\"https://stackoverflow.com/a/50273809/1996150\">https://stackoverflow.com/a/50273809/1996150</a> reply there is a suggested (complex) method that requires to log the system calls with strace from the start of the process, and finally debug with gdb the process to find the thread.</p>\n"}],"owner":{"account_id":7589651,"reputation":41,"user_id":5757696,"display_name":"Jaganathan Sadasivan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2061,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1679565096,"creation_date":1452173418,"question_id":34656396,"body_markdown":"While analyzing a performance issue, I took continuous thread dumps for every 5 secs, and analyzed using samurai thread dump analyzer. Noticed that, many threads are in runnable state with below stack dump continuously on all the occurrences. But I couldn&#39;t find to which host they are communicating. I tried using the commands `ss -t -a`, `watch ss -tp` and `netstat -A inet -p`, but couldn&#39;t relate their results with the thread. Any idea? Thanks in advance.\r\n\r\n    \r\n\r\n    Thread dump 2/5 &quot;TP-Processor125&quot;   prio=5 tid=0x25756 nid=0x649c RUNNABLE (JNI Native Code) - stats: cpu=828 blk=-1 wait=-1 &#160;&#160;&#160;&#160; java.lang.Thread.State: RUNNABLE &#160;&#160;&#160;&#160; \r\n         at java.net.SocketInputStream.socketRead0(Native Method) &#160;&#160;&#160;&#160; \r\n         at java.net.SocketInputStream.read(SocketInputStream.java:152) &#160;&#160;&#160;&#160; \r\n         at java.net.SocketInputStream.read(SocketInputStream.java:122) &#160;&#160;&#160;&#160; \r\n         at java.io.BufferedInputStream.fill(BufferedInputStream.java:235) &#160;&#160;&#160;&#160; \r\n         at java.io.BufferedInputStream.read1(BufferedInputStream.java:275) &#160;&#160;&#160;&#160; \r\n         at java.io.BufferedInputStream.read(BufferedInputStream.java:334) &#160;&#160;&#160;&#160; \r\n         at org.apache.jk.common.ChannelSocket.read(ChannelSocket.java:628)\r\n    &#160;&#160;&#160;&#160; at org.apache.jk.common.ChannelSocket.receive(ChannelSocket.java:566)\r\n    &#160;&#160;&#160;&#160; at org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:693)\r\n    &#160;&#160;&#160;&#160; at org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSocket.java:898)\r\n    &#160;&#160;&#160;&#160; at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:690)\r\n    &#160;&#160;&#160;&#160; at java.lang.Thread.run(Thread.java:745) &#160;&#160;&#160;&#160; Locked synchronizers: count = 0","title":"Socket information from Linux-Java thread dump","body":"<p>While analyzing a performance issue, I took continuous thread dumps for every 5 secs, and analyzed using samurai thread dump analyzer. Noticed that, many threads are in runnable state with below stack dump continuously on all the occurrences. But I couldn't find to which host they are communicating. I tried using the commands <code>ss -t -a</code>, <code>watch ss -tp</code> and <code>netstat -A inet -p</code>, but couldn't relate their results with the thread. Any idea? Thanks in advance.</p>\n\n<pre><code>Thread dump 2/5 \"TP-Processor125\"   prio=5 tid=0x25756 nid=0x649c RUNNABLE (JNI Native Code) - stats: cpu=828 blk=-1 wait=-1      java.lang.Thread.State: RUNNABLE      \n     at java.net.SocketInputStream.socketRead0(Native Method)      \n     at java.net.SocketInputStream.read(SocketInputStream.java:152)      \n     at java.net.SocketInputStream.read(SocketInputStream.java:122)      \n     at java.io.BufferedInputStream.fill(BufferedInputStream.java:235)      \n     at java.io.BufferedInputStream.read1(BufferedInputStream.java:275)      \n     at java.io.BufferedInputStream.read(BufferedInputStream.java:334)      \n     at org.apache.jk.common.ChannelSocket.read(ChannelSocket.java:628)\n     at org.apache.jk.common.ChannelSocket.receive(ChannelSocket.java:566)\n     at org.apache.jk.common.ChannelSocket.processConnection(ChannelSocket.java:693)\n     at org.apache.jk.common.ChannelSocket$SocketConnection.runIt(ChannelSocket.java:898)\n     at org.apache.tomcat.util.threads.ThreadPool$ControlRunnable.run(ThreadPool.java:690)\n     at java.lang.Thread.run(Thread.java:745)      Locked synchronizers: count = 0\n</code></pre>\n"},{"tags":["java","ibm-mq"],"answers":[{"tags":[],"owner":{"account_id":74767,"reputation":31622,"user_id":214668,"accept_rate":100,"display_name":"T.Rob"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1351710644,"creation_date":1351710644,"answer_id":13165934,"question_id":13163256,"body_markdown":"To create a dynamic queue, you just open a model queue.  The dynamic queue is created and you get back a handle to it.  The name of the queue is provided as well and you can place that in the Reply-To-Queue field of a request message.\r\n\r\nIf you want to create a permanent queue, have a look at [`com.ibm.mq.pcf`][1] in the Infocenter.  To execute any WMQ admin command from an application, submit a Programmable Command Format (PCF) message to the `SYSTEM.ADMIN.COMMAND.QUEUE`.  The application must be authorized to put a message onto the queue for this to work.  Furthermore, the command server will use the user ID in the message header to look up authorizations for the specific command being executed.  To create a queue, the submitter must have `+crt` authority on queues.\r\n\r\nNote that any person or app with the ability to create a permanent queue is a defacto administrator.  If their ID is not authorized to create authorization control list entries, they need only to create an alias over the command queue and can then spoof the administrative user ID.  For this reason, it is rare that any non-administrator would be granted rights to create queues.\r\n\r\n\r\n  [1]: http://pic.dhe.ibm.com/infocenter/wmqv7/v7r5/topic/com.ibm.mq.javadoc.doc/WMQJavaClasses/com/ibm/mq/pcf/package-frame.html","title":"Creating IBM queue programmatically in java","body":"<p>To create a dynamic queue, you just open a model queue.  The dynamic queue is created and you get back a handle to it.  The name of the queue is provided as well and you can place that in the Reply-To-Queue field of a request message.</p>\n\n<p>If you want to create a permanent queue, have a look at <a href=\"http://pic.dhe.ibm.com/infocenter/wmqv7/v7r5/topic/com.ibm.mq.javadoc.doc/WMQJavaClasses/com/ibm/mq/pcf/package-frame.html\" rel=\"nofollow\"><code>com.ibm.mq.pcf</code></a> in the Infocenter.  To execute any WMQ admin command from an application, submit a Programmable Command Format (PCF) message to the <code>SYSTEM.ADMIN.COMMAND.QUEUE</code>.  The application must be authorized to put a message onto the queue for this to work.  Furthermore, the command server will use the user ID in the message header to look up authorizations for the specific command being executed.  To create a queue, the submitter must have <code>+crt</code> authority on queues.</p>\n\n<p>Note that any person or app with the ability to create a permanent queue is a defacto administrator.  If their ID is not authorized to create authorization control list entries, they need only to create an alias over the command queue and can then spoof the administrative user ID.  For this reason, it is rare that any non-administrator would be granted rights to create queues.</p>\n"},{"comments":[{"owner":{"account_id":2454201,"reputation":1324,"user_id":2139775,"display_name":"Tiago Sippert"},"score":1,"creation_date":1391510867,"post_id":21549779,"comment_id":32544409,"body_markdown":"Please give some of these examples in here","body":"Please give some of these examples in here"}],"tags":[],"owner":{"account_id":3751910,"reputation":529,"user_id":3119246,"accept_rate":100,"display_name":"InCh"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1679564948,"creation_date":1391509566,"answer_id":21549779,"question_id":13163256,"body_markdown":"If you have the IBM WMQ installed go to the installation location on your system.\r\n\r\n&lt;installation folder&gt;\\IBM\\WebSphere MQ\\tools\\pcf\\samples (Windows)\r\n\r\nThey have given examples with code for how to do some basic operations using JAVA and PCF&#39;s.","title":"Creating IBM queue programmatically in java","body":"<p>If you have the IBM WMQ installed go to the installation location on your system.</p>\n<p>\\IBM\\WebSphere MQ\\tools\\pcf\\samples (Windows)</p>\n<p>They have given examples with code for how to do some basic operations using JAVA and PCF's.</p>\n"}],"owner":{"account_id":1268618,"reputation":160,"user_id":1225378,"accept_rate":50,"display_name":"siddhesh jog"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3686,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":13165934,"answer_count":2,"score":4,"last_activity_date":1679564948,"creation_date":1351703541,"question_id":13163256,"body_markdown":"How can you create a new queue programmatically using the `MQQueueManager` and `MQQueue` objects?\r\n\r\nIs there a guide on how to use these classes? The javadocs don&#39;t say much.","title":"Creating IBM queue programmatically in java","body":"<p>How can you create a new queue programmatically using the <code>MQQueueManager</code> and <code>MQQueue</code> objects?</p>\n\n<p>Is there a guide on how to use these classes? The javadocs don't say much.</p>\n"},{"tags":["java","android","webrtc","webrtc-android"],"comments":[{"owner":{"account_id":8539054,"reputation":1396,"user_id":6399762,"display_name":"Andy A."},"score":0,"creation_date":1679471507,"post_id":75790375,"comment_id":133726102,"body_markdown":"Welcome to SO! I think there should be a [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example)!","body":"Welcome to SO! I think there should be a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>!"}],"owner":{"account_id":28064939,"reputation":11,"user_id":21438463,"display_name":"Tokens"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1679624359,"answer_count":0,"score":1,"last_activity_date":1679564251,"creation_date":1679315984,"question_id":75790375,"body_markdown":"For a few days I have a problem that I do not understand at all. Everything seems to be working well, finally everything should be working well with everything I read right and left and all my tries.\r\nI would like to share audio and video on android with Webrtc from client A to client B and vice versa.\r\n\r\nThe problem is that when **onAddStream**(MediaStream mediaStream) is called I have `mediaStream.videoTracks.get(0).state() = LIVE` and `mediaStream.videoTracks.size()) = 1` but 0 frames received in the Remoterender. (But on both clients everything is OK in the Localrender).\r\n\r\nI think the problem is a network issue in that when client B creates the response to client A&#39;s offer it only receives half of the candidate ices and only audio with sdpindex at 0.\r\n\r\nI don&#39;t understand why! (I tried on different emulator or real phone devices and different networks always the same)\r\n\r\nHere is the code I am using. I specify that I know it&#39;s not the best, but for my tests I use a somewhat rudimentary signaling server with the Google Volley library and an SQL database instead of node or Firebase database.\r\n\r\nIf anyone has any idea why I only have audio on client B, or 0 frames in the remoteRender.\r\n\r\n```\r\npublic void createPeerConnection() {\r\n        if (mPeerConnection != null) return;\r\n        final ArrayList&lt;PeerConnection.IceServer&gt; iceServers = new ArrayList&lt;&gt;();\r\n         iceServers.add(PeerConnection.IceServer.builder(&quot;stun:stun1.l.google.com:19302&quot;).createIceServer());\r\n     iceServers.add(PeerConnection.IceServer.builder(&quot;stun:stun2.l.google.com:19302&quot;).createIceServer());\r\n      iceServers.add(PeerConnection.IceServer.builder(&quot;stun:stun3.l.google.com:19302&quot;).createIceServer());\r\n      iceServers.add(PeerConnection.IceServer.builder(&quot;stun:stun4.l.google.com:19302&quot;).createIceServer());\r\n        iceServers.add(PeerConnection.IceServer.builder(&quot;stun:relay.meterd.ca:80&quot;).createIceServer());\r\n        iceServers.add(PeerConnection.IceServer.builder(&quot;turn:relay.meterd.ca:80&quot;).setUsername(&quot;877d7df597a8a3c4hf48275566&quot;).setPassword(&quot;tmprAF+d/lDMEzbfAhtt&quot;).createIceServer());\r\n        iceServers.add(PeerConnection.IceServer.builder(&quot;turn:relay.meterd.ca:443&quot;).setUsername(&quot;877d7df597a8a3c4hf48275566&quot;).setPassword(&quot;tmprAF+d/lDMEzbfAhtt&quot;).createIceServer());\r\n        iceServers.add(PeerConnection.IceServer.builder(&quot;turn:relay.metered.ca:443?transport=tcp&quot;).setUsername(&quot;877d7df597a8a3c4hf48275566&quot;).setPassword(&quot;tmprAF+d/lDMEzbfAhtt&quot;).createIceServer());\r\n        mPeerConnection = mFactory.createPeerConnection(rtcConfiguration, this);\r\n        Log.d(TAG, &quot;Peer Connection created&quot;);\r\n\r\n    }\r\n\r\n    Connection(final Context context, ConnectionListener listener) {\r\n        final PeerConnectionFactory.InitializationOptions options = PeerConnectionFactory.InitializationOptions.builder(context)\r\n               .setEnableInternalTracer(true)\r\n                .setFieldTrials(&quot;WebRTC-H264HighProfile/Enabled/&quot;)\r\n                .createInitializationOptions();\r\n        final VideoEncoderFactory encoderFactory;\r\n        final VideoDecoderFactory decoderFactory;\r\n     encoderFactory = new SoftwareVideoEncoderFactory();\r\n     decoderFactory = new SoftwareVideoDecoderFactory();\r\n    \r\n        PeerConnectionFactory.initialize(options);\r\n        PeerConnectionFactory.Options options1 = new PeerConnectionFactory.Options();\r\n     options1.disableEncryption = true;\r\n     options1.disableNetworkMonitor  =  true;\r\n\r\n        mFactory = PeerConnectionFactory.builder()\r\n                .setOptions(options1)\r\n                .setVideoEncoderFactory(encoderFactory)\r\n                .setVideoDecoderFactory(decoderFactory)\r\n                .createPeerConnectionFactory();\r\n                 mListener = listener;\r\n    }\r\n\r\n   public void initializeMediaDevices(final Context context,  SurfaceViewRenderer localRenderer) throws Exception {\r\n\r\n        MediaStream mMediaStream = mFactory.createLocalMediaStream(MEDIA_STREAM_ID);;\r\n         mVideoCapturer =   createCameraCapturer(context);\r\n        final VideoSource videoSource = mFactory.createVideoSource(false);\r\n\r\n      //  videoSource.adaptOutputFormat(VIDEO_WIDTH, VIDEO_HEIGHT, VIDEO_FPS);\r\n        final EglBase.Context eglContext = EglBase.create().getEglBaseContext();\r\n        final SurfaceTextureHelper surfaceTextureHelper = SurfaceTextureHelper.create(&quot;captureThread&quot;, eglContext);\r\n        mVideoCapturer.initialize(surfaceTextureHelper, context, videoSource.getCapturerObserver());\r\n\r\n        localRenderer.init(eglContext, new RendererCommon.RendererEvents() {\r\n            @Override\r\n            public void onFirstFrameRendered() {\r\n                Log.d(TAG, &quot;onFirstFrameRendered&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onFrameResolutionChanged(int i, int i1, int i2) {\r\n                Log.d(TAG, &quot;Frame resolution changed&quot;);\r\n                Log.d(TAG, &quot;Frame resolution changed : &quot;+i);\r\n                Log.d(TAG, &quot;Frame resolution changed : &quot;+i1);\r\n                Log.d(TAG, &quot;Frame resolution changed : &quot;+i2);\r\n            }\r\n        });\r\n\r\n    localRenderer.setEnableHardwareScaler(true);\r\n\r\n        mVideoCapturer.startCapture(VIDEO_WIDTH, VIDEO_HEIGHT, VIDEO_FPS);\r\n\r\n      //  localRenderer.setEnableHardwareScaler(true);\r\n        final VideoTrack videoTrack = mFactory.createVideoTrack(VIDEO_TRACK_ID, videoSource);\r\n        videoTrack.setEnabled(true);\r\n       localRenderer.setMirror(true);\r\n       videoTrack.addSink(localRenderer);\r\n\r\n      final AudioSource audioSource = mFactory.createAudioSource(new MediaConstraints());\r\n   final AudioTrack audioTrack = mFactory.createAudioTrack(AUDIO_TRACK_ID, audioSource);\r\n    audioTrack.setEnabled(true);\r\n      //  audioTrack.setEnabled(true);\r\n      //  audioTrack.setVolume(100);\r\n\r\n      mMediaStream.addTrack(videoTrack);\r\n       mMediaStream.addTrack(audioTrack);\r\n   mPeerConnection.addStream(mMediaStream);\r\n```\r\n\r\n```\r\n public void createOffer() {\r\n        final MediaConstraints mediaConstraints = new MediaConstraints();\r\n        mediaConstraints.mandatory.add(new MediaConstraints.KeyValuePair(&quot;OfferToReceiveVideo&quot;, &quot;true&quot;));\r\n      mediaConstraints.mandatory.add(new MediaConstraints.KeyValuePair(&quot;OfferToReceiveAudio&quot;, &quot;true&quot;));\r\n      \r\n        mPeerConnection.createOffer(new SdpObserver() {\r\n            @Override\r\n            public void onCreateSuccess(SessionDescription sessionDescription) {\r\n                mListener.createofferonCreateSuccess(sessionDescription);\r\n                mPeerConnection.setLocalDescription(this, sessionDescription);\r\n            }\r\n\r\n            @Override\r\n            public void onSetSuccess() {\r\n                Log.d(TAG, &quot;Local description set success&quot;);\r\n\r\n                mListener.createofferonSetSuccess();\r\n            }\r\n\r\n            @Override\r\n            public void onCreateFailure(String s) {\r\n                Log.e(TAG, &quot;Failed to create local offer error:&quot; + s);\r\n            }\r\n\r\n            @Override\r\n            public void onSetFailure(String s) {\r\n                Log.e(TAG, &quot;Failed to set local description error:&quot; + s);\r\n            }\r\n        }, mediaConstraints);\r\n    }\r\n```\r\n\r\n```\r\npublic static void createAnswerFromRemoteOffer(final String remoteOffer) {\r\n        SdpObserver observer = new SdpObserver() {\r\n            @Override\r\n            public void onCreateSuccess(SessionDescription sessionDescription) {\r\n                Log.d(TAG, &quot;Local answer created&quot;);\r\n                mPeerConnection.setLocalDescription(this,sessionDescription);\r\n                mListener.createAnswerFromRemoteOffercreatesuccess(sessionDescription);\r\n            }\r\n    \r\n            @Override\r\n            public void onSetSuccess() {\r\n                mListener.createAnswerFromRemoteOfferSetsuccess();\r\n                Log.d(TAG, &quot;Set offer description was successful&quot;);\r\n            }\r\n    \r\n            @Override\r\n            public void onCreateFailure(String s) {\r\n                Log.e(TAG, &quot;Failed to create local answer error:&quot; + s);\r\n            }\r\n    \r\n            @Override\r\n            public void onSetFailure(String s) {\r\n                Log.e(TAG, &quot;Failed to set offer description error :&quot; + s);\r\n            }\r\n        };\r\n    \r\n      final    SessionDescription sessionDescription = new SessionDescription(SessionDescription.Type.OFFER, remoteOffer);\r\n      final MediaConstraints mediaConstraintss = new MediaConstraints();\r\n       mediaConstraintss.mandatory.add(new MediaConstraints.KeyValuePair(&quot;OfferToReceiveVideo&quot;, &quot;true&quot;));\r\n      mediaConstraintss.mandatory.add(new MediaConstraints.KeyValuePair(&quot;OfferToReceiveAudio&quot;, &quot;true&quot;));\r\n    \r\n        mPeerConnection.setRemoteDescription(observer, sessionDescription) ;\r\n        mPeerConnection.createAnswer(observer,  new MediaConstraints());\r\n    }\r\n```\r\n\r\n```\r\n public static void createAnswerFromRemoteOffer2(final String remoteOffer) {\r\n        SdpObserver observer = new SdpObserver() {\r\n            @Override\r\n            public void onCreateSuccess(SessionDescription sessionDescription) {\r\n                Log.d(TAG, &quot;Local answer created 3&quot;);\r\n\r\n                mListener.createAnswerFromRemoteOffer2onCreateSucess(sessionDescription);\r\n            }\r\n\r\n            @Override\r\n            public void onSetSuccess() {\r\n                mListener.createAnswerFromRemoteOffer2onSetSuces();\r\n                Log.d(TAG, &quot;Set offer description 3  was successful&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onCreateFailure(String s) {\r\n                Log.e(TAG, &quot;Failed to create local 3 answer error:&quot; + s);\r\n            }\r\n\r\n            @Override\r\n            public void onSetFailure(String s) {\r\n                Log.e(TAG, &quot;Failed to set offer 3 description error :&quot; + s);\r\n            }\r\n        };\r\n  final SessionDescription sessionDescription = new SessionDescription(SessionDescription.Type.ANSWER, remoteOffer);\r\n        mPeerConnection.setRemoteDescription(observer, sessionDescription) ;\r\n    }\r\n\r\n  public static void addRemoteIceCandidate(final JSONObject iceCandidateData) throws JSONException {\r\n        String icecandidate = iceCandidateData.getString(&quot;ICECANDIDATE&quot;);\r\n        final String sdpmid = iceCandidateData.getString(&quot;SDPMID&quot;);\r\n        final int sdpMLineIndex = iceCandidateData.getInt(&quot;SDPINDEX&quot;);\r\n        IceCandidate iceCandidate = new IceCandidate(sdpmid, sdpMLineIndex, icecandidate);\r\n\r\n        Log.d(TAG,&quot;add remote candidate &quot;+iceCandidate.toString());\r\n        Log.d(TAG,&quot;add remote sdpmid &quot;+sdpmid);\r\n        Log.d(TAG,&quot;add remote sdpindex &quot;+sdpMLineIndex);\r\n\r\n         if (queuedRemoteCandidates != null) {\r\n            queuedRemoteCandidates.add(iceCandidate);\r\n       } else {\r\n            mPeerConnection.addIceCandidate(iceCandidate);\r\n       }\r\n\r\n    }\r\n```\r\n\r\nCLIENT B only audio candidate\r\n\r\n```none\r\n2023-03-19 16:08:17.575 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:1800307301 1 udp 2122187263 fec0::5054:ff:fe12:3456 59467 typ host generation 0 ufrag iT+A network-id 2::UNKNOWN\r\n2023-03-19 16:08:17.579 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:841689039 1 udp 2122129151 10.0.2.16 37211 typ host generation 0 ufrag iT+A network-id 5 network-cost 10::UNKNOWN\r\n2023-03-19 16:08:17.583 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:3776784094 1 udp 2122056191 fec0::9ebc:2b3f:a56d:1ed8 48463 typ host generation 0 ufrag iT+A network-id 6 network-cost 10::UNKNOWN\r\n2023-03-19 16:08:17.585 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:559267639 1 udp 2122005759 ::1 33214 typ host generation 0 ufrag iT+A network-id 4::UNKNOWN\r\n2023-03-19 16:08:17.591 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:1510613869 1 udp 2121932543 127.0.0.1 54583 typ host generation 0 ufrag iT+A network-id 3::UNKNOWN\r\n2023-03-19 16:08:17.626 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:1847424209 1 tcp 1518280447 10.0.2.15 55839 typ host tcptype passive generation 0 ufrag iT+A network-id 1::UNKNOWN\r\n2023-03-19 16:08:17.632 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:1889982791 1 udp 1685921535 92.134.12.255 63997 typ srflx raddr 10.0.2.16 rport 37211 generation 0 ufrag iT+A network-id 5 network-cost 10:stun:64.233.163.127:19302:UNKNOWN\r\n2023-03-19 16:08:17.636 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:634224277 1 tcp 1518207487 fec0::5054:ff:fe12:3456 43771 typ host tcptype passive generation 0 ufrag iT+A network-id 2::UNKNOWN\r\n2023-03-19 16:08:17.651 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:2091440959 1 tcp 1518149375 10.0.2.16 47563 typ host tcptype passive generation 0 ufrag iT+A network-id 5 network-cost 10::UNKNOWN\r\n2023-03-19 16:08:17.690 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:2946423342 1 tcp 1518076415 fec0::9ebc:2b3f:a56d:1ed8 51819 typ host tcptype passive generation 0 ufrag iT+A network-id 6 network-cost 10::UNKNOWN\r\n2023-03-19 16:08:17.695 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:1645442729 1 udp 1686052607 92.134.12.255 63999 typ srflx raddr 10.0.2.15 rport 56570 generation 0 ufrag iT+A network-id 1:stun:64.233.163.127:19302:UNKNOWN\r\n2023-03-19 16:08:17.702 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:1876313031 1 tcp 1518025983 ::1 52341 typ host tcptype passive generation 0 ufrag iT+A network-id 4::UNKNOWN\r\n2023-03-19 16:08:17.707 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:344579997 1 tcp 1517952767 127.0.0.1 53745 typ host tcptype passive generation 0 ufrag iT+A network-id 3::UNKNOWN\r\n2023-03-19 16:08:17.711 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:2181291358 1 udp 1685858559 2a01:cb10:8bce:d100:e429:c6d5:f617:76b6 64000 typ srflx raddr fec0::9ebc:2b3f:a56d:1ed8 rport 48463 generation 0 ufrag iT+A network-id 6 network-cost 10:stun:2a00:1450:4010:c06::7f:19302:UNKNOWN\r\n```\r\n\r\nCLIENT A audio and video candidate\r\n\r\n```none\r\n2023-03-19 16:08:07.023  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : audio:0:candidate:2091440959 1 tcp 1518149375 10.0.2.16 59483 typ host tcptype passive generation 0 ufrag 5HN1 network-id 5 network-cost 10::UNKNOWN\r\n2023-03-19 16:08:07.023  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : audio:0:candidate:1942891970 1 tcp 1518076415 fec0::523e:50b8:47ba:4673 47321 typ host tcptype passive generation 0 ufrag 5HN1 network-id 6 network-cost 10::UNKNOWN\r\n2023-03-19 16:08:07.023  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : audio:0:candidate:1876313031 1 tcp 1518025983 ::1 52945 typ host tcptype passive generation 0 ufrag 5HN1 network-id 4::UNKNOWN\r\n2023-03-19 16:08:07.078  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : audio:0:candidate:344579997 1 tcp 1517952767 127.0.0.1 37085 typ host tcptype passive generation 0 ufrag 5HN1 network-id 3::UNKNOWN\r\n2023-03-19 16:08:07.082  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:1847424209 1 tcp 1518280447 10.0.2.15 41627 typ host tcptype passive generation 0 ufrag 5HN1 network-id 1::UNKNOWN\r\n2023-03-19 16:08:07.085  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:634224277 1 tcp 1518207487 fec0::5054:ff:fe12:3456 55563 typ host tcptype passive generation 0 ufrag 5HN1 network-id 2::UNKNOWN\r\n2023-03-19 16:08:07.089  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:2091440959 1 tcp 1518149375 10.0.2.16 51877 typ host tcptype passive generation 0 ufrag 5HN1 network-id 5 network-cost 10::UNKNOWN\r\n2023-03-19 16:08:07.101  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:1942891970 1 tcp 1518076415 fec0::523e:50b8:47ba:4673 46365 typ host tcptype passive generation 0 ufrag 5HN1 network-id 6 network-cost 10::UNKNOWN\r\n2023-03-19 16:08:07.102  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:1876313031 1 tcp 1518025983 ::1 33561 typ host tcptype passive generation 0 ufrag 5HN1 network-id 4::UNKNOWN\r\n2023-03-19 16:08:07.103  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:344579997 1 tcp 1517952767 127.0.0.1 56545 typ host tcptype passive generation 0 ufrag 5HN1 network-id 3::UNKNOWN\r\n2023-03-19 16:08:07.103  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : audio:0:candidate:1582508722 1 udp 1685858559 2a01:cb10:8bce:d100:e429:c6d5:f617:76b6 63983 typ srflx raddr fec0::523e:50b8:47ba:4673 rport 43345 generation 0 ufrag 5HN1 network-id 6 network-cost 10:stun:2a00:1450:4010:c06::7f:19302:UNKNOWN\r\n2023-03-19 16:08:07.152  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : audio:0:candidate:1645442729 1 udp 1686052607 92.134.12.255 63981 typ srflx raddr 10.0.2.15 rport 35078 generation 0 ufrag 5HN1 network-id 1:stun:64.233.163.127:19302:UNKNOWN\r\n2023-03-19 16:08:07.154  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : audio:0:candidate:1889982791 1 udp 1685921535 92.134.12.255 63982 typ srflx raddr 10.0.2.16 rport 45157 generation 0 ufrag 5HN1 network-id 5 network-cost 10:stun:64.233.163.127:19302:UNKNOWN\r\n2023-03-19 16:08:07.159  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:1645442729 1 udp 1686052607 92.134.12.255 63984 typ srflx raddr 10.0.2.15 rport 34609 generation 0 ufrag 5HN1 network-id 1:stun:64.233.163.127:19302:UNKNOWN\r\n2023-03-19 16:08:07.165  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:1582508722 1 udp 1685858559 2a01:cb10:8bce:d100:e429:c6d5:f617:76b6 63988 typ srflx raddr fec0::523e:50b8:47ba:4673 rport 59153 generation 0 ufrag 5HN1 network-id 6 network-cost 10:stun:2a00:1450:4010:c06::7f:19302:UNKNOWN\r\n2023-03-19 16:08:07.168  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:1889982791 1 udp 1685921535 92.134.12.255 63985 typ srflx raddr 10.0.2.16 rport 33873 generation 0 ufrag 5HN1 network-id 5 network-cost 10:stun:64.233.163.127:19302:UNKNOWN\r\n2023-03-19 16:08:07.773  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : audio:0:candidate:3729096449 1 udp 25108223 216.39.253.20 43389 typ relay raddr 92.134.12.255 rport 57285 generation 0 ufrag 5HN1 network-id 1:turn:216.39.253.20:443?transport=tcp:UNKNOWN\r\n2023-03-19 16:08:07.774  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : audio:0:candidate:3729096449 1 udp 24977151 216.39.253.20 36391 typ relay raddr 92.134.12.255 rport 57284 generation 0 ufrag 5HN1 network-id 5 network-cost 10:turn:216.39.253.20:443?transport=tcp:UNKNOWN\r\n2023-03-19 16:08:07.783  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:3729096449 1 udp 25108223 216.39.253.20 41892 typ relay raddr 92.134.12.255 rport 57286 generation 0 ufrag 5HN1 network-id 1:turn:216.39.253.20:443?transport=tcp:UNKNOWN\r\n2023-03-19 16:08:07.784  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:3729096449 1 udp 24977151 216.39.253.20 43228 typ relay raddr 92.134.12.255 rport 57287 generation 0 ufrag 5HN1 network-id 5 network-cost 10:turn:216.39.253.20:443?transport=tcp:UNKNOWN`\r\n```\r\n\r\n0 frames on client A and B on remoteRender, but the localRender good and display it\r\n\r\n```none\r\n2023-03-19 16:08:35.861 29728-29779 org.webrtc.Logging      pid-29728                            I  CameraStatistics: Camera fps: 11.\r\n2023-03-19 16:08:37.690 29728-29950 org.webrtc.Logging      pid-29728                            I  EglRenderer: remoteRendererDuration: 4003 ms. Frames received: 0. Dropped: 0. Rendered: 0. Render fps: .0. Average render time: NA. Average swapBuffer time: NA.\r\n2023-03-19 16:08:37.862 29728-29779 org.webrtc.Logging      pid-29728                            I  CameraStatistics: Camera fps: 12.\r\n2023-03-19 16:08:39.757 29728-29780 org.webrtc.Logging      pid-29728                            I  EglRenderer: local_viewDuration: 4003 ms. Frames received: 45. Dropped: 0. Rendered: 45. Render fps: 11.2. Average render time: 1100 us. Average swapBuffer time: 987 us.\r\n2023-03-19 16:08:39.863 29728-29779 org.webrtc.Logging      pid-29728                            I  CameraStatistics: Camera fps: 11.\r\n2023-03-19 16:08:41.696 29728-29950 org.webrtc.Logging      pid-29728                            I  EglRenderer: remoteRendererDuration: 4005 ms. Frames received: 0. Dropped: 0. Rendered: 0. Render fps: .0. Average render time: NA. Average swapBuffer time: NA.\r\n2023-03-19 16:08:41.864 29728-29779 org.webrtc.Logging      pid-29728                            I  CameraStatistics: Camera fps: 12.\r\n2023-03-19 16:08:43.758 29728-29780 org.webrtc.Logging      pid-29728                            I  EglRenderer: local_viewDuration: 4001 ms. Frames received: 45. Dropped: 0. Rendered: 45. Render fps: 11.2. Average render time: 1107 us. Average swapBuffer time: 980 us.\r\n2023-03-19 16:08:43.865 29728-29779 org.webrtc.Logging      pid-29728                            I  CameraStatistics: Camera fps: 11.\r\n2023-03-19 16:08:45.702 29728-29950 org.webrtc.Logging      pid-29728                            I  EglRenderer: remoteRendererDuration: 4006 ms. Frames received: 0. Dropped: 0. Rendered: 0. Render fps: .0. Average render time: NA. Average swapBuffer time: NA.\r\n```","title":"Webrtc issue with android (java) only audio in ice candidate on client B and 0 frame onAddstream but status is LIVE","body":"<p>For a few days I have a problem that I do not understand at all. Everything seems to be working well, finally everything should be working well with everything I read right and left and all my tries.\nI would like to share audio and video on android with Webrtc from client A to client B and vice versa.</p>\n<p>The problem is that when <strong>onAddStream</strong>(MediaStream mediaStream) is called I have <code>mediaStream.videoTracks.get(0).state() = LIVE</code> and <code>mediaStream.videoTracks.size()) = 1</code> but 0 frames received in the Remoterender. (But on both clients everything is OK in the Localrender).</p>\n<p>I think the problem is a network issue in that when client B creates the response to client A's offer it only receives half of the candidate ices and only audio with sdpindex at 0.</p>\n<p>I don't understand why! (I tried on different emulator or real phone devices and different networks always the same)</p>\n<p>Here is the code I am using. I specify that I know it's not the best, but for my tests I use a somewhat rudimentary signaling server with the Google Volley library and an SQL database instead of node or Firebase database.</p>\n<p>If anyone has any idea why I only have audio on client B, or 0 frames in the remoteRender.</p>\n<pre><code>public void createPeerConnection() {\n        if (mPeerConnection != null) return;\n        final ArrayList&lt;PeerConnection.IceServer&gt; iceServers = new ArrayList&lt;&gt;();\n         iceServers.add(PeerConnection.IceServer.builder(&quot;stun:stun1.l.google.com:19302&quot;).createIceServer());\n     iceServers.add(PeerConnection.IceServer.builder(&quot;stun:stun2.l.google.com:19302&quot;).createIceServer());\n      iceServers.add(PeerConnection.IceServer.builder(&quot;stun:stun3.l.google.com:19302&quot;).createIceServer());\n      iceServers.add(PeerConnection.IceServer.builder(&quot;stun:stun4.l.google.com:19302&quot;).createIceServer());\n        iceServers.add(PeerConnection.IceServer.builder(&quot;stun:relay.meterd.ca:80&quot;).createIceServer());\n        iceServers.add(PeerConnection.IceServer.builder(&quot;turn:relay.meterd.ca:80&quot;).setUsername(&quot;877d7df597a8a3c4hf48275566&quot;).setPassword(&quot;tmprAF+d/lDMEzbfAhtt&quot;).createIceServer());\n        iceServers.add(PeerConnection.IceServer.builder(&quot;turn:relay.meterd.ca:443&quot;).setUsername(&quot;877d7df597a8a3c4hf48275566&quot;).setPassword(&quot;tmprAF+d/lDMEzbfAhtt&quot;).createIceServer());\n        iceServers.add(PeerConnection.IceServer.builder(&quot;turn:relay.metered.ca:443?transport=tcp&quot;).setUsername(&quot;877d7df597a8a3c4hf48275566&quot;).setPassword(&quot;tmprAF+d/lDMEzbfAhtt&quot;).createIceServer());\n        mPeerConnection = mFactory.createPeerConnection(rtcConfiguration, this);\n        Log.d(TAG, &quot;Peer Connection created&quot;);\n\n    }\n\n    Connection(final Context context, ConnectionListener listener) {\n        final PeerConnectionFactory.InitializationOptions options = PeerConnectionFactory.InitializationOptions.builder(context)\n               .setEnableInternalTracer(true)\n                .setFieldTrials(&quot;WebRTC-H264HighProfile/Enabled/&quot;)\n                .createInitializationOptions();\n        final VideoEncoderFactory encoderFactory;\n        final VideoDecoderFactory decoderFactory;\n     encoderFactory = new SoftwareVideoEncoderFactory();\n     decoderFactory = new SoftwareVideoDecoderFactory();\n    \n        PeerConnectionFactory.initialize(options);\n        PeerConnectionFactory.Options options1 = new PeerConnectionFactory.Options();\n     options1.disableEncryption = true;\n     options1.disableNetworkMonitor  =  true;\n\n        mFactory = PeerConnectionFactory.builder()\n                .setOptions(options1)\n                .setVideoEncoderFactory(encoderFactory)\n                .setVideoDecoderFactory(decoderFactory)\n                .createPeerConnectionFactory();\n                 mListener = listener;\n    }\n\n   public void initializeMediaDevices(final Context context,  SurfaceViewRenderer localRenderer) throws Exception {\n\n        MediaStream mMediaStream = mFactory.createLocalMediaStream(MEDIA_STREAM_ID);;\n         mVideoCapturer =   createCameraCapturer(context);\n        final VideoSource videoSource = mFactory.createVideoSource(false);\n\n      //  videoSource.adaptOutputFormat(VIDEO_WIDTH, VIDEO_HEIGHT, VIDEO_FPS);\n        final EglBase.Context eglContext = EglBase.create().getEglBaseContext();\n        final SurfaceTextureHelper surfaceTextureHelper = SurfaceTextureHelper.create(&quot;captureThread&quot;, eglContext);\n        mVideoCapturer.initialize(surfaceTextureHelper, context, videoSource.getCapturerObserver());\n\n        localRenderer.init(eglContext, new RendererCommon.RendererEvents() {\n            @Override\n            public void onFirstFrameRendered() {\n                Log.d(TAG, &quot;onFirstFrameRendered&quot;);\n            }\n\n            @Override\n            public void onFrameResolutionChanged(int i, int i1, int i2) {\n                Log.d(TAG, &quot;Frame resolution changed&quot;);\n                Log.d(TAG, &quot;Frame resolution changed : &quot;+i);\n                Log.d(TAG, &quot;Frame resolution changed : &quot;+i1);\n                Log.d(TAG, &quot;Frame resolution changed : &quot;+i2);\n            }\n        });\n\n    localRenderer.setEnableHardwareScaler(true);\n\n        mVideoCapturer.startCapture(VIDEO_WIDTH, VIDEO_HEIGHT, VIDEO_FPS);\n\n      //  localRenderer.setEnableHardwareScaler(true);\n        final VideoTrack videoTrack = mFactory.createVideoTrack(VIDEO_TRACK_ID, videoSource);\n        videoTrack.setEnabled(true);\n       localRenderer.setMirror(true);\n       videoTrack.addSink(localRenderer);\n\n      final AudioSource audioSource = mFactory.createAudioSource(new MediaConstraints());\n   final AudioTrack audioTrack = mFactory.createAudioTrack(AUDIO_TRACK_ID, audioSource);\n    audioTrack.setEnabled(true);\n      //  audioTrack.setEnabled(true);\n      //  audioTrack.setVolume(100);\n\n      mMediaStream.addTrack(videoTrack);\n       mMediaStream.addTrack(audioTrack);\n   mPeerConnection.addStream(mMediaStream);\n</code></pre>\n<pre><code> public void createOffer() {\n        final MediaConstraints mediaConstraints = new MediaConstraints();\n        mediaConstraints.mandatory.add(new MediaConstraints.KeyValuePair(&quot;OfferToReceiveVideo&quot;, &quot;true&quot;));\n      mediaConstraints.mandatory.add(new MediaConstraints.KeyValuePair(&quot;OfferToReceiveAudio&quot;, &quot;true&quot;));\n      \n        mPeerConnection.createOffer(new SdpObserver() {\n            @Override\n            public void onCreateSuccess(SessionDescription sessionDescription) {\n                mListener.createofferonCreateSuccess(sessionDescription);\n                mPeerConnection.setLocalDescription(this, sessionDescription);\n            }\n\n            @Override\n            public void onSetSuccess() {\n                Log.d(TAG, &quot;Local description set success&quot;);\n\n                mListener.createofferonSetSuccess();\n            }\n\n            @Override\n            public void onCreateFailure(String s) {\n                Log.e(TAG, &quot;Failed to create local offer error:&quot; + s);\n            }\n\n            @Override\n            public void onSetFailure(String s) {\n                Log.e(TAG, &quot;Failed to set local description error:&quot; + s);\n            }\n        }, mediaConstraints);\n    }\n</code></pre>\n<pre><code>public static void createAnswerFromRemoteOffer(final String remoteOffer) {\n        SdpObserver observer = new SdpObserver() {\n            @Override\n            public void onCreateSuccess(SessionDescription sessionDescription) {\n                Log.d(TAG, &quot;Local answer created&quot;);\n                mPeerConnection.setLocalDescription(this,sessionDescription);\n                mListener.createAnswerFromRemoteOffercreatesuccess(sessionDescription);\n            }\n    \n            @Override\n            public void onSetSuccess() {\n                mListener.createAnswerFromRemoteOfferSetsuccess();\n                Log.d(TAG, &quot;Set offer description was successful&quot;);\n            }\n    \n            @Override\n            public void onCreateFailure(String s) {\n                Log.e(TAG, &quot;Failed to create local answer error:&quot; + s);\n            }\n    \n            @Override\n            public void onSetFailure(String s) {\n                Log.e(TAG, &quot;Failed to set offer description error :&quot; + s);\n            }\n        };\n    \n      final    SessionDescription sessionDescription = new SessionDescription(SessionDescription.Type.OFFER, remoteOffer);\n      final MediaConstraints mediaConstraintss = new MediaConstraints();\n       mediaConstraintss.mandatory.add(new MediaConstraints.KeyValuePair(&quot;OfferToReceiveVideo&quot;, &quot;true&quot;));\n      mediaConstraintss.mandatory.add(new MediaConstraints.KeyValuePair(&quot;OfferToReceiveAudio&quot;, &quot;true&quot;));\n    \n        mPeerConnection.setRemoteDescription(observer, sessionDescription) ;\n        mPeerConnection.createAnswer(observer,  new MediaConstraints());\n    }\n</code></pre>\n<pre><code> public static void createAnswerFromRemoteOffer2(final String remoteOffer) {\n        SdpObserver observer = new SdpObserver() {\n            @Override\n            public void onCreateSuccess(SessionDescription sessionDescription) {\n                Log.d(TAG, &quot;Local answer created 3&quot;);\n\n                mListener.createAnswerFromRemoteOffer2onCreateSucess(sessionDescription);\n            }\n\n            @Override\n            public void onSetSuccess() {\n                mListener.createAnswerFromRemoteOffer2onSetSuces();\n                Log.d(TAG, &quot;Set offer description 3  was successful&quot;);\n            }\n\n            @Override\n            public void onCreateFailure(String s) {\n                Log.e(TAG, &quot;Failed to create local 3 answer error:&quot; + s);\n            }\n\n            @Override\n            public void onSetFailure(String s) {\n                Log.e(TAG, &quot;Failed to set offer 3 description error :&quot; + s);\n            }\n        };\n  final SessionDescription sessionDescription = new SessionDescription(SessionDescription.Type.ANSWER, remoteOffer);\n        mPeerConnection.setRemoteDescription(observer, sessionDescription) ;\n    }\n\n  public static void addRemoteIceCandidate(final JSONObject iceCandidateData) throws JSONException {\n        String icecandidate = iceCandidateData.getString(&quot;ICECANDIDATE&quot;);\n        final String sdpmid = iceCandidateData.getString(&quot;SDPMID&quot;);\n        final int sdpMLineIndex = iceCandidateData.getInt(&quot;SDPINDEX&quot;);\n        IceCandidate iceCandidate = new IceCandidate(sdpmid, sdpMLineIndex, icecandidate);\n\n        Log.d(TAG,&quot;add remote candidate &quot;+iceCandidate.toString());\n        Log.d(TAG,&quot;add remote sdpmid &quot;+sdpmid);\n        Log.d(TAG,&quot;add remote sdpindex &quot;+sdpMLineIndex);\n\n         if (queuedRemoteCandidates != null) {\n            queuedRemoteCandidates.add(iceCandidate);\n       } else {\n            mPeerConnection.addIceCandidate(iceCandidate);\n       }\n\n    }\n</code></pre>\n<p>CLIENT B only audio candidate</p>\n<pre class=\"lang-none prettyprint-override\"><code>2023-03-19 16:08:17.575 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:1800307301 1 udp 2122187263 fec0::5054:ff:fe12:3456 59467 typ host generation 0 ufrag iT+A network-id 2::UNKNOWN\n2023-03-19 16:08:17.579 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:841689039 1 udp 2122129151 10.0.2.16 37211 typ host generation 0 ufrag iT+A network-id 5 network-cost 10::UNKNOWN\n2023-03-19 16:08:17.583 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:3776784094 1 udp 2122056191 fec0::9ebc:2b3f:a56d:1ed8 48463 typ host generation 0 ufrag iT+A network-id 6 network-cost 10::UNKNOWN\n2023-03-19 16:08:17.585 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:559267639 1 udp 2122005759 ::1 33214 typ host generation 0 ufrag iT+A network-id 4::UNKNOWN\n2023-03-19 16:08:17.591 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:1510613869 1 udp 2121932543 127.0.0.1 54583 typ host generation 0 ufrag iT+A network-id 3::UNKNOWN\n2023-03-19 16:08:17.626 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:1847424209 1 tcp 1518280447 10.0.2.15 55839 typ host tcptype passive generation 0 ufrag iT+A network-id 1::UNKNOWN\n2023-03-19 16:08:17.632 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:1889982791 1 udp 1685921535 92.134.12.255 63997 typ srflx raddr 10.0.2.16 rport 37211 generation 0 ufrag iT+A network-id 5 network-cost 10:stun:64.233.163.127:19302:UNKNOWN\n2023-03-19 16:08:17.636 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:634224277 1 tcp 1518207487 fec0::5054:ff:fe12:3456 43771 typ host tcptype passive generation 0 ufrag iT+A network-id 2::UNKNOWN\n2023-03-19 16:08:17.651 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:2091440959 1 tcp 1518149375 10.0.2.16 47563 typ host tcptype passive generation 0 ufrag iT+A network-id 5 network-cost 10::UNKNOWN\n2023-03-19 16:08:17.690 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:2946423342 1 tcp 1518076415 fec0::9ebc:2b3f:a56d:1ed8 51819 typ host tcptype passive generation 0 ufrag iT+A network-id 6 network-cost 10::UNKNOWN\n2023-03-19 16:08:17.695 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:1645442729 1 udp 1686052607 92.134.12.255 63999 typ srflx raddr 10.0.2.15 rport 56570 generation 0 ufrag iT+A network-id 1:stun:64.233.163.127:19302:UNKNOWN\n2023-03-19 16:08:17.702 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:1876313031 1 tcp 1518025983 ::1 52341 typ host tcptype passive generation 0 ufrag iT+A network-id 4::UNKNOWN\n2023-03-19 16:08:17.707 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:344579997 1 tcp 1517952767 127.0.0.1 53745 typ host tcptype passive generation 0 ufrag iT+A network-id 3::UNKNOWN\n2023-03-19 16:08:17.711 29728-29772 CCC                     pid-29728                            D  onIceCandidateReceived : audio:0:candidate:2181291358 1 udp 1685858559 2a01:cb10:8bce:d100:e429:c6d5:f617:76b6 64000 typ srflx raddr fec0::9ebc:2b3f:a56d:1ed8 rport 48463 generation 0 ufrag iT+A network-id 6 network-cost 10:stun:2a00:1450:4010:c06::7f:19302:UNKNOWN\n</code></pre>\n<p>CLIENT A audio and video candidate</p>\n<pre class=\"lang-none prettyprint-override\"><code>2023-03-19 16:08:07.023  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : audio:0:candidate:2091440959 1 tcp 1518149375 10.0.2.16 59483 typ host tcptype passive generation 0 ufrag 5HN1 network-id 5 network-cost 10::UNKNOWN\n2023-03-19 16:08:07.023  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : audio:0:candidate:1942891970 1 tcp 1518076415 fec0::523e:50b8:47ba:4673 47321 typ host tcptype passive generation 0 ufrag 5HN1 network-id 6 network-cost 10::UNKNOWN\n2023-03-19 16:08:07.023  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : audio:0:candidate:1876313031 1 tcp 1518025983 ::1 52945 typ host tcptype passive generation 0 ufrag 5HN1 network-id 4::UNKNOWN\n2023-03-19 16:08:07.078  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : audio:0:candidate:344579997 1 tcp 1517952767 127.0.0.1 37085 typ host tcptype passive generation 0 ufrag 5HN1 network-id 3::UNKNOWN\n2023-03-19 16:08:07.082  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:1847424209 1 tcp 1518280447 10.0.2.15 41627 typ host tcptype passive generation 0 ufrag 5HN1 network-id 1::UNKNOWN\n2023-03-19 16:08:07.085  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:634224277 1 tcp 1518207487 fec0::5054:ff:fe12:3456 55563 typ host tcptype passive generation 0 ufrag 5HN1 network-id 2::UNKNOWN\n2023-03-19 16:08:07.089  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:2091440959 1 tcp 1518149375 10.0.2.16 51877 typ host tcptype passive generation 0 ufrag 5HN1 network-id 5 network-cost 10::UNKNOWN\n2023-03-19 16:08:07.101  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:1942891970 1 tcp 1518076415 fec0::523e:50b8:47ba:4673 46365 typ host tcptype passive generation 0 ufrag 5HN1 network-id 6 network-cost 10::UNKNOWN\n2023-03-19 16:08:07.102  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:1876313031 1 tcp 1518025983 ::1 33561 typ host tcptype passive generation 0 ufrag 5HN1 network-id 4::UNKNOWN\n2023-03-19 16:08:07.103  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:344579997 1 tcp 1517952767 127.0.0.1 56545 typ host tcptype passive generation 0 ufrag 5HN1 network-id 3::UNKNOWN\n2023-03-19 16:08:07.103  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : audio:0:candidate:1582508722 1 udp 1685858559 2a01:cb10:8bce:d100:e429:c6d5:f617:76b6 63983 typ srflx raddr fec0::523e:50b8:47ba:4673 rport 43345 generation 0 ufrag 5HN1 network-id 6 network-cost 10:stun:2a00:1450:4010:c06::7f:19302:UNKNOWN\n2023-03-19 16:08:07.152  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : audio:0:candidate:1645442729 1 udp 1686052607 92.134.12.255 63981 typ srflx raddr 10.0.2.15 rport 35078 generation 0 ufrag 5HN1 network-id 1:stun:64.233.163.127:19302:UNKNOWN\n2023-03-19 16:08:07.154  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : audio:0:candidate:1889982791 1 udp 1685921535 92.134.12.255 63982 typ srflx raddr 10.0.2.16 rport 45157 generation 0 ufrag 5HN1 network-id 5 network-cost 10:stun:64.233.163.127:19302:UNKNOWN\n2023-03-19 16:08:07.159  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:1645442729 1 udp 1686052607 92.134.12.255 63984 typ srflx raddr 10.0.2.15 rport 34609 generation 0 ufrag 5HN1 network-id 1:stun:64.233.163.127:19302:UNKNOWN\n2023-03-19 16:08:07.165  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:1582508722 1 udp 1685858559 2a01:cb10:8bce:d100:e429:c6d5:f617:76b6 63988 typ srflx raddr fec0::523e:50b8:47ba:4673 rport 59153 generation 0 ufrag 5HN1 network-id 6 network-cost 10:stun:2a00:1450:4010:c06::7f:19302:UNKNOWN\n2023-03-19 16:08:07.168  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:1889982791 1 udp 1685921535 92.134.12.255 63985 typ srflx raddr 10.0.2.16 rport 33873 generation 0 ufrag 5HN1 network-id 5 network-cost 10:stun:64.233.163.127:19302:UNKNOWN\n2023-03-19 16:08:07.773  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : audio:0:candidate:3729096449 1 udp 25108223 216.39.253.20 43389 typ relay raddr 92.134.12.255 rport 57285 generation 0 ufrag 5HN1 network-id 1:turn:216.39.253.20:443?transport=tcp:UNKNOWN\n2023-03-19 16:08:07.774  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : audio:0:candidate:3729096449 1 udp 24977151 216.39.253.20 36391 typ relay raddr 92.134.12.255 rport 57284 generation 0 ufrag 5HN1 network-id 5 network-cost 10:turn:216.39.253.20:443?transport=tcp:UNKNOWN\n2023-03-19 16:08:07.783  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:3729096449 1 udp 25108223 216.39.253.20 41892 typ relay raddr 92.134.12.255 rport 57286 generation 0 ufrag 5HN1 network-id 1:turn:216.39.253.20:443?transport=tcp:UNKNOWN\n2023-03-19 16:08:07.784  9017-9059  CCC                     pid-9017                             D  onIceCandidateReceived : video:1:candidate:3729096449 1 udp 24977151 216.39.253.20 43228 typ relay raddr 92.134.12.255 rport 57287 generation 0 ufrag 5HN1 network-id 5 network-cost 10:turn:216.39.253.20:443?transport=tcp:UNKNOWN`\n</code></pre>\n<p>0 frames on client A and B on remoteRender, but the localRender good and display it</p>\n<pre class=\"lang-none prettyprint-override\"><code>2023-03-19 16:08:35.861 29728-29779 org.webrtc.Logging      pid-29728                            I  CameraStatistics: Camera fps: 11.\n2023-03-19 16:08:37.690 29728-29950 org.webrtc.Logging      pid-29728                            I  EglRenderer: remoteRendererDuration: 4003 ms. Frames received: 0. Dropped: 0. Rendered: 0. Render fps: .0. Average render time: NA. Average swapBuffer time: NA.\n2023-03-19 16:08:37.862 29728-29779 org.webrtc.Logging      pid-29728                            I  CameraStatistics: Camera fps: 12.\n2023-03-19 16:08:39.757 29728-29780 org.webrtc.Logging      pid-29728                            I  EglRenderer: local_viewDuration: 4003 ms. Frames received: 45. Dropped: 0. Rendered: 45. Render fps: 11.2. Average render time: 1100 us. Average swapBuffer time: 987 us.\n2023-03-19 16:08:39.863 29728-29779 org.webrtc.Logging      pid-29728                            I  CameraStatistics: Camera fps: 11.\n2023-03-19 16:08:41.696 29728-29950 org.webrtc.Logging      pid-29728                            I  EglRenderer: remoteRendererDuration: 4005 ms. Frames received: 0. Dropped: 0. Rendered: 0. Render fps: .0. Average render time: NA. Average swapBuffer time: NA.\n2023-03-19 16:08:41.864 29728-29779 org.webrtc.Logging      pid-29728                            I  CameraStatistics: Camera fps: 12.\n2023-03-19 16:08:43.758 29728-29780 org.webrtc.Logging      pid-29728                            I  EglRenderer: local_viewDuration: 4001 ms. Frames received: 45. Dropped: 0. Rendered: 45. Render fps: 11.2. Average render time: 1107 us. Average swapBuffer time: 980 us.\n2023-03-19 16:08:43.865 29728-29779 org.webrtc.Logging      pid-29728                            I  CameraStatistics: Camera fps: 11.\n2023-03-19 16:08:45.702 29728-29950 org.webrtc.Logging      pid-29728                            I  EglRenderer: remoteRendererDuration: 4006 ms. Frames received: 0. Dropped: 0. Rendered: 0. Render fps: .0. Average render time: NA. Average swapBuffer time: NA.\n</code></pre>\n"},{"tags":["java","xml","web-services","dom"],"comments":[{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1409145433,"post_id":25527971,"comment_id":39854985,"body_markdown":"what is the expected namespace for the Request element?","body":"what is the expected namespace for the Request element?"},{"owner":{"account_id":4384330,"reputation":1124,"user_id":3575011,"accept_rate":48,"display_name":"Renjith"},"score":0,"creation_date":1409147516,"post_id":25527971,"comment_id":39856370,"body_markdown":"I declared the namespace &#39;http://myservice.test.com/2013/8/v1.0&#39; for Body, &lt;SOAP-ENV:Body xmlns=&quot;http://myservice.test.com/2013/8/v1.0&quot;&gt;. I i belive it will be default one for whatever coming under it. So i dont need a seperate namespace for Request.","body":"I declared the namespace &#39;<a href=\"http://myservice.test.com/2013/8/v1.0\" rel=\"nofollow noreferrer\">myservice.test.com/2013/8/v1.0</a>&#39; for Body, &lt;SOAP-ENV:Body xmlns=&quot;<a href=\"http://myservice.test.com/2013/8/v1.0\" rel=\"nofollow noreferrer\">myservice.test.com/2013/8/v1.0</a>&quot;&gt;. I i belive it will be default one for whatever coming under it. So i dont need a seperate namespace for Request."},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1409147613,"post_id":25527971,"comment_id":39856445,"body_markdown":"then you need to set that as the namespace on those elements when you add them to the dom.","body":"then you need to set that as the namespace on those elements when you add them to the dom."},{"owner":{"account_id":4384330,"reputation":1124,"user_id":3575011,"accept_rate":48,"display_name":"Renjith"},"score":0,"creation_date":1409147889,"post_id":25527971,"comment_id":39856682,"body_markdown":"How do i do that?. Help required. my code is given in other thread.[http://stackoverflow.com/questions/25479797/namespace-related-error-on-creating-soap-request]","body":"How do i do that?. Help required. my code is given in other thread.[<a href=\"http://stackoverflow.com/questions/25479797/namespace-related-error-on-creating-soap-request]\" title=\"namespace related error on creating soap request%5d\">stackoverflow.com/questions/25479797/&hellip;</a>"},{"owner":{"account_id":4384330,"reputation":1124,"user_id":3575011,"accept_rate":48,"display_name":"Renjith"},"score":0,"creation_date":1409148015,"post_id":25527971,"comment_id":39856775,"body_markdown":"again, it works fine when i have websphere runtime library in classpath. how does that works?","body":"again, it works fine when i have websphere runtime library in classpath. how does that works?"},{"owner":{"account_id":265649,"reputation":53086,"user_id":552759,"display_name":"jtahlborn"},"score":0,"creation_date":1409148331,"post_id":25527971,"comment_id":39856991,"body_markdown":"you haven&#39;t shown any code, so i have no clue how it works.","body":"you haven&#39;t shown any code, so i have no clue how it works."},{"owner":{"account_id":4384330,"reputation":1124,"user_id":3575011,"accept_rate":48,"display_name":"Renjith"},"score":0,"creation_date":1409148495,"post_id":25527971,"comment_id":39857112,"body_markdown":"Please look at this thread [http://stackoverflow.com/questions/25479797/namespace-related-error-on-creating-soap-request]. thats the code i am working on","body":"Please look at this thread [<a href=\"http://stackoverflow.com/questions/25479797/namespace-related-error-on-creating-soap-request]\" title=\"namespace related error on creating soap request%5d\">stackoverflow.com/questions/25479797/&hellip;</a>. thats the code i am working on"},{"owner":{"account_id":2796827,"reputation":2767,"user_id":2405914,"accept_rate":94,"display_name":"Leonardo Alves Machado"},"score":0,"creation_date":1495552389,"post_id":25527971,"comment_id":75295908,"body_markdown":"Possible duplicate of [Namespace related error on creating SOAP Request](https://stackoverflow.com/questions/25479797/namespace-related-error-on-creating-soap-request)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/25479797/namespace-related-error-on-creating-soap-request\">Namespace related error on creating SOAP Request</a>"}],"answers":[{"tags":[],"owner":{"account_id":11035054,"reputation":205,"user_id":8105206,"display_name":"Paweł"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539591176,"creation_date":1539591176,"answer_id":52812347,"question_id":25527971,"body_markdown":"The simplest way what i found is:\r\n\r\nfirst:\r\nin child set nasmespace as in root:\r\nsecond:\r\nremove namespace\r\n\r\n     Document doc = new Document();\r\n            Namespace xmlns = Namespace.getNamespace(&quot;http://www.microsoft.com/networking/WLAN/profile/v1&quot;);\r\n            Element rootXML = new Element(&quot;WLANProfile&quot;, xmlns);\r\n    \r\n    \r\n            Element nameXML = new Element(&quot;name&quot;);\r\n                nameXML.addContent(name);\r\n            rootXML.addContent(nameXML);\r\n    //below solution\r\n                nameXML.setNamespace(xmlns);\r\n                nameXML.removeNamespaceDeclaration(xmlns);","title":"Remove empty namespace in java using DOM","body":"<p>The simplest way what i found is:</p>\n\n<p>first:\nin child set nasmespace as in root:\nsecond:\nremove namespace</p>\n\n<pre><code> Document doc = new Document();\n        Namespace xmlns = Namespace.getNamespace(\"http://www.microsoft.com/networking/WLAN/profile/v1\");\n        Element rootXML = new Element(\"WLANProfile\", xmlns);\n\n\n        Element nameXML = new Element(\"name\");\n            nameXML.addContent(name);\n        rootXML.addContent(nameXML);\n//below solution\n            nameXML.setNamespace(xmlns);\n            nameXML.removeNamespaceDeclaration(xmlns);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23999761,"reputation":1,"user_id":17984837,"display_name":"Sergey Kazakov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679563981,"creation_date":1675413663,"answer_id":75333305,"question_id":25527971,"body_markdown":"Finally I found several solutions of the described problem.\r\n\r\nFirst, you can remove all namespaces from all xml using [this](https://stackoverflow.com/a/25202177/17984837) answer.\r\n\r\nSecond, if you do not need to remove all namespaces in Xml, but only empty ones, they arise due to the fact that some namespace is written in the root elements, which is not in the child.  For example:\r\n```\r\n&lt;Request xmlns=&quot;http://пф.рф/КСАФ/2018-04-03&quot;\r\n        xmlns:AF4=&quot;xx&quot;...&gt;\r\n   &lt;EMP xmlns=&quot;&quot;&gt;   \r\n   ...\r\n   &lt;/EMP&gt;\r\n```\r\nSo you need to set the same namespace for all children of root elements. It can be done using this code (call `setTheSameNamespaceForChildren(rootElement)` for root element before saving):\r\n```\r\n    private static final String namespaceKey = &quot;xmlns&quot;;\r\n    private static String namespaceValue;\r\n\r\n    public static void setTheSameNamespaceForChildren(Element rootEl) {\r\n        namespaceValue = rootEl.getAttribute(namespaceKey);\r\n        NodeList list = rootEl.getChildNodes();\r\n        for (int i = 0; i &lt; list.getLength(); i++) {\r\n            Node child = list.item(i);\r\n            setTheSameNamespaceRecursively(child);\r\n        }\r\n    }\r\n\r\n    private static void setTheSameNamespaceRecursively(Node node) {\r\n        if (node.getNodeType() == Node.ELEMENT_NODE) {\r\n            boolean isChanged = setTheSameNamespace((Element) node);\r\n            if (isChanged) {\r\n                NodeList list = node.getChildNodes();\r\n                for (int i = 0; i &lt; list.getLength(); i++) {\r\n                    Node child = list.item(i);\r\n                    setTheSameNamespaceRecursively(child);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    private static boolean setTheSameNamespace(Element node) {\r\n        String curValue = node.getAttribute(namespaceKey);\r\n        if (curValue.length() == 0) {\r\n            node.setAttribute(namespaceKey, namespaceValue);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n```","title":"Remove empty namespace in java using DOM","body":"<p>Finally I found several solutions of the described problem.</p>\n<p>First, you can remove all namespaces from all xml using <a href=\"https://stackoverflow.com/a/25202177/17984837\">this</a> answer.</p>\n<p>Second, if you do not need to remove all namespaces in Xml, but only empty ones, they arise due to the fact that some namespace is written in the root elements, which is not in the child.  For example:</p>\n<pre><code>&lt;Request xmlns=&quot;http://пф.рф/КСАФ/2018-04-03&quot;\n        xmlns:AF4=&quot;xx&quot;...&gt;\n   &lt;EMP xmlns=&quot;&quot;&gt;   \n   ...\n   &lt;/EMP&gt;\n</code></pre>\n<p>So you need to set the same namespace for all children of root elements. It can be done using this code (call <code>setTheSameNamespaceForChildren(rootElement)</code> for root element before saving):</p>\n<pre><code>    private static final String namespaceKey = &quot;xmlns&quot;;\n    private static String namespaceValue;\n\n    public static void setTheSameNamespaceForChildren(Element rootEl) {\n        namespaceValue = rootEl.getAttribute(namespaceKey);\n        NodeList list = rootEl.getChildNodes();\n        for (int i = 0; i &lt; list.getLength(); i++) {\n            Node child = list.item(i);\n            setTheSameNamespaceRecursively(child);\n        }\n    }\n\n    private static void setTheSameNamespaceRecursively(Node node) {\n        if (node.getNodeType() == Node.ELEMENT_NODE) {\n            boolean isChanged = setTheSameNamespace((Element) node);\n            if (isChanged) {\n                NodeList list = node.getChildNodes();\n                for (int i = 0; i &lt; list.getLength(); i++) {\n                    Node child = list.item(i);\n                    setTheSameNamespaceRecursively(child);\n                }\n            }\n        }\n    }\n    private static boolean setTheSameNamespace(Element node) {\n        String curValue = node.getAttribute(namespaceKey);\n        if (curValue.length() == 0) {\n            node.setAttribute(namespaceKey, namespaceValue);\n            return true;\n        }\n        return false;\n    }\n</code></pre>\n"}],"owner":{"account_id":4384330,"reputation":1124,"user_id":3575011,"accept_rate":48,"display_name":"Renjith"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1412,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1679563981,"creation_date":1409144691,"question_id":25527971,"body_markdown":"    &lt;Request&gt;\r\n      &lt;EMPId&gt;?&lt;/EMPId&gt;\r\n    &lt;/Request&gt;\r\n\r\nI know this is a repeated question, but i would like to post it again as i dint get a convincing answer from any of the threads i went through.\r\n\r\nMy ultimate aim is to add the XML given above as the Body content of a SOAP message.\r\nYou can have a look at the following link to see how i am doing it.\r\nhttps://stackoverflow.com/questions/25479797/namespace-related-error-on-creating-soap-request\r\nIt worked fine when i was using the Websphere Application Server 7.0 library.JRE is also present, forgot to include in screen shot.\r\n\r\n![With Websphere runtime (JRE is also present, forgot to include)][1]\r\n\r\nSince i have to export it as a jar and run it as a stand alone application, i have to remove the dependency of &#39;Websphere Application Server 7.0 library&#39;. Because, by keeping this library, my jar size will go above 100MB. So i thought of taking only the library which i needed.\r\n\r\n&gt; &#39;com.ibm.ws.prereq.soap.jar&#39;\r\n\r\n![With out Websphere runtime][2]\r\n\r\nNow the issue is, the Request tag of the generated SOAP request is coming in following format.\r\n\r\n    &lt;Request xmlns=&quot;&quot;&gt;\r\n      &lt;EMPId&gt;?&lt;/EMPId&gt;\r\n    &lt;/Request&gt;\r\n\r\nI am able to create a &#39;org.w3c.dom.Document&#39; representation for the generated SOAP message.\r\nNow, can any one tell me how can I delete the xmlns=&quot;&quot; from Request tag.\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/GXGiW.png\r\n  [2]: http://i.stack.imgur.com/XgGit.png","title":"Remove empty namespace in java using DOM","body":"<pre><code>&lt;Request&gt;\n  &lt;EMPId&gt;?&lt;/EMPId&gt;\n&lt;/Request&gt;\n</code></pre>\n\n<p>I know this is a repeated question, but i would like to post it again as i dint get a convincing answer from any of the threads i went through.</p>\n\n<p>My ultimate aim is to add the XML given above as the Body content of a SOAP message.\nYou can have a look at the following link to see how i am doing it.\n<a href=\"https://stackoverflow.com/questions/25479797/namespace-related-error-on-creating-soap-request\">Namespace related error on creating SOAP Request</a>\nIt worked fine when i was using the Websphere Application Server 7.0 library.JRE is also present, forgot to include in screen shot.</p>\n\n<p><img src=\"https://i.stack.imgur.com/GXGiW.png\" alt=\"With Websphere runtime (JRE is also present, forgot to include)\"></p>\n\n<p>Since i have to export it as a jar and run it as a stand alone application, i have to remove the dependency of 'Websphere Application Server 7.0 library'. Because, by keeping this library, my jar size will go above 100MB. So i thought of taking only the library which i needed.</p>\n\n<blockquote>\n  <p>'com.ibm.ws.prereq.soap.jar'</p>\n</blockquote>\n\n<p><img src=\"https://i.stack.imgur.com/XgGit.png\" alt=\"With out Websphere runtime\"></p>\n\n<p>Now the issue is, the Request tag of the generated SOAP request is coming in following format.</p>\n\n<pre><code>&lt;Request xmlns=\"\"&gt;\n  &lt;EMPId&gt;?&lt;/EMPId&gt;\n&lt;/Request&gt;\n</code></pre>\n\n<p>I am able to create a 'org.w3c.dom.Document' representation for the generated SOAP message.\nNow, can any one tell me how can I delete the xmlns=\"\" from Request tag.</p>\n"},{"tags":["java","spring-boot","jackson"],"answers":[{"comments":[{"owner":{"account_id":975141,"reputation":2185,"user_id":2968729,"accept_rate":72,"display_name":"anat0lius"},"score":0,"creation_date":1539260322,"post_id":52759810,"comment_id":92442784,"body_markdown":"That would work for a single class, but I want the serializer to be applied for all objects. The same what was asking the guy from the original question.","body":"That would work for a single class, but I want the serializer to be applied for all objects. The same what was asking the guy from the original question."},{"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"score":0,"creation_date":1539262444,"post_id":52759810,"comment_id":92444121,"body_markdown":"@anat0lius Just give it `Object` then, right? `module.addSerializer(Object.class, new NullSerializer&lt;&gt;());`","body":"@anat0lius Just give it <code>Object</code> then, right? <code>module.addSerializer(Object.class, new NullSerializer&lt;&gt;());</code>"},{"owner":{"account_id":975141,"reputation":2185,"user_id":2968729,"accept_rate":72,"display_name":"anat0lius"},"score":0,"creation_date":1539262798,"post_id":52759810,"comment_id":92444368,"body_markdown":"Right! I wrongly was trying `new NullSerializer&lt;&gt;(Object.class)`. Now I&#39;m getting errors from the serializer. The line with `jgen.writeObject(value);` I&#39;m going to see if I can solve it by meself.","body":"Right! I wrongly was trying <code>new NullSerializer&lt;&gt;(Object.class)</code>. Now I&#39;m getting errors from the serializer. The line with <code>jgen.writeObject(value);</code> I&#39;m going to see if I can solve it by meself."},{"owner":{"account_id":975141,"reputation":2185,"user_id":2968729,"accept_rate":72,"display_name":"anat0lius"},"score":0,"creation_date":1539586396,"post_id":52759810,"comment_id":92540194,"body_markdown":"can u help with the serializer code? It doesn&#39;t work for me. If the `value = field.get(item)` is not null and try to write it `jgen.writeObject(value)` it fails. Javadoc of the write method says `Method for writing given Java object (POJO) as Json.` but the value is not a POJO  but a simple String (the value of one of the fields of `item`)","body":"can u help with the serializer code? It doesn&#39;t work for me. If the <code>value = field.get(item)</code> is not null and try to write it <code>jgen.writeObject(value)</code> it fails. Javadoc of the write method says <code>Method for writing given Java object (POJO) as Json.</code> but the value is not a POJO  but a simple String (the value of one of the fields of <code>item</code>)"},{"owner":{"account_id":975141,"reputation":2185,"user_id":2968729,"accept_rate":72,"display_name":"anat0lius"},"score":0,"creation_date":1539586796,"post_id":52759810,"comment_id":92540392,"body_markdown":"The error is `Can not start an object, expecting field name (context: Object)`","body":"The error is <code>Can not start an object, expecting field name (context: Object)</code>"}],"tags":[],"owner":{"account_id":2139538,"reputation":42521,"user_id":1898563,"accept_rate":78,"display_name":"Michael"},"comment_count":5,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1539262847,"creation_date":1539259972,"answer_id":52759810,"question_id":52759359,"body_markdown":"I think the problem is that you&#39;re using the raw type. You need to give it a class.\r\n\r\n    module.addSerializer(Object.class, new NullSerializer&lt;&gt;());\r\n","title":"How do I register my JsonSerializer on Spring","body":"<p>I think the problem is that you're using the raw type. You need to give it a class.</p>\n\n<pre><code>module.addSerializer(Object.class, new NullSerializer&lt;&gt;());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12216169,"reputation":775,"user_id":8916556,"display_name":"erayerdem"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679563810,"creation_date":1679563810,"answer_id":75821268,"question_id":52759359,"body_markdown":"    you can configure with this method with spring\r\n        \r\n\r\n    public class TestClass {\r\n        \r\n            public static void main(String[] args) {\r\n                SpringApplication.run(LocalsFinanceCommissionServiceApplication.class, args);\r\n            }\r\n        \r\n            @Bean\r\n            CommandLineRunner sx(ObjectMapper mapper) {\r\n                return args -&gt; {\r\n        \r\n                    Map&lt;String, BigDecimal&gt; hello = Map.of(&quot;hello&quot;, BigDecimal.valueOf(12.11231));\r\n                    System.out.println(mapper.writeValueAsString(hello));\r\n    //{&quot;hello&quot;:12.1123}\r\n                };\r\n            }\r\n        }\r\n        \r\n        class PriceSerializer extends JsonSerializer&lt;BigDecimal&gt; {\r\n            @Override\r\n            public void serialize(BigDecimal value, JsonGenerator jgen, SerializerProvider provider) throws IOException {\r\n                // Using writNumber and removing toString make sure the output is number but not String.\r\n                jgen.writeNumber(value.setScale(4, RoundingMode.HALF_UP));\r\n            }\r\n        \r\n            @Override\r\n            public Class&lt;BigDecimal&gt; handledType() {\r\n                return BigDecimal.class;\r\n            }\r\n        }\r\n        \r\n        @Configuration\r\n        class JacksonConfig {\r\n        \r\n            @Bean\r\n            public com.fasterxml.jackson.databind.Module customSerializer() {\r\n                SimpleModule module = new SimpleModule();\r\n                module.addSerializer(new PriceSerializer());\r\n                return module;\r\n            }\r\n        }","title":"How do I register my JsonSerializer on Spring","body":"<pre><code>you can configure with this method with spring\n    \n\npublic class TestClass {\n    \n        public static void main(String[] args) {\n            SpringApplication.run(LocalsFinanceCommissionServiceApplication.class, args);\n        }\n    \n        @Bean\n        CommandLineRunner sx(ObjectMapper mapper) {\n            return args -&gt; {\n    \n                Map&lt;String, BigDecimal&gt; hello = Map.of(&quot;hello&quot;, BigDecimal.valueOf(12.11231));\n                System.out.println(mapper.writeValueAsString(hello));\n//{&quot;hello&quot;:12.1123}\n            };\n        }\n    }\n    \n    class PriceSerializer extends JsonSerializer&lt;BigDecimal&gt; {\n        @Override\n        public void serialize(BigDecimal value, JsonGenerator jgen, SerializerProvider provider) throws IOException {\n            // Using writNumber and removing toString make sure the output is number but not String.\n            jgen.writeNumber(value.setScale(4, RoundingMode.HALF_UP));\n        }\n    \n        @Override\n        public Class&lt;BigDecimal&gt; handledType() {\n            return BigDecimal.class;\n        }\n    }\n    \n    @Configuration\n    class JacksonConfig {\n    \n        @Bean\n        public com.fasterxml.jackson.databind.Module customSerializer() {\n            SimpleModule module = new SimpleModule();\n            module.addSerializer(new PriceSerializer());\n            return module;\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":975141,"reputation":2185,"user_id":2968729,"accept_rate":72,"display_name":"anat0lius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4538,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":52759810,"answer_count":2,"score":3,"last_activity_date":1679563810,"creation_date":1539258616,"question_id":52759359,"body_markdown":"Taking the response from this question: https://stackoverflow.com/a/45566139/2968729 I want to add the `NullSerializer` to the autoconfigured `ObjectMapper`. Spring Boot documentation:\r\n\r\n&gt; Any beans of type com.fasterxml.jackson.databind.Module are\r\n&gt; automatically registered with the auto-configured\r\n&gt; Jackson2ObjectMapperBuilder and are applied to any ObjectMapper\r\n&gt; instances that it creates. This provides a global mechanism for\r\n&gt; contributing custom modules when you add new features to your\r\n&gt; application.\r\n\r\nSo this is how I&#39;m trying:\r\n\r\n    @Configuration\r\n    public class JacksonConfig {\r\n    \r\n        @Bean\r\n        public Module customSerializer() {\r\n            SimpleModule module = new SimpleModule();\r\n            module.addSerializer(new NullSerializer());\r\n            return module;\r\n        }\r\n    }\r\n\r\nBut I&#39;m getting:\r\n\r\n    NullSerializer does not define valid handledType() -- must either register with method that takes type argument or make serializer extend com.fasterxml.jackson.databind.ser.std.StdSerializer\r\n\r\n\r\nJavadoc of handleType() method says:\r\n\r\n    \r\n\r\n&gt; Method for accessing type of Objects this serializer can handle. Note\r\n&gt; that this information is not guaranteed to be exact -- it may be a\r\n&gt; more generic (super-type) -- but it should not be incorrect (return a\r\n&gt; non-related type).\r\n&gt;     Default implementation will return null, which essentially means same as returning Object.class would; that is, that nothing is known\r\n&gt; about handled type.\r\n\r\n\r\nUsing Spring Boot 2.0.5.RELEASE","title":"How do I register my JsonSerializer on Spring","body":"<p>Taking the response from this question: <a href=\"https://stackoverflow.com/a/45566139/2968729\">https://stackoverflow.com/a/45566139/2968729</a> I want to add the <code>NullSerializer</code> to the autoconfigured <code>ObjectMapper</code>. Spring Boot documentation:</p>\n\n<blockquote>\n  <p>Any beans of type com.fasterxml.jackson.databind.Module are\n  automatically registered with the auto-configured\n  Jackson2ObjectMapperBuilder and are applied to any ObjectMapper\n  instances that it creates. This provides a global mechanism for\n  contributing custom modules when you add new features to your\n  application.</p>\n</blockquote>\n\n<p>So this is how I'm trying:</p>\n\n<pre><code>@Configuration\npublic class JacksonConfig {\n\n    @Bean\n    public Module customSerializer() {\n        SimpleModule module = new SimpleModule();\n        module.addSerializer(new NullSerializer());\n        return module;\n    }\n}\n</code></pre>\n\n<p>But I'm getting:</p>\n\n<pre><code>NullSerializer does not define valid handledType() -- must either register with method that takes type argument or make serializer extend com.fasterxml.jackson.databind.ser.std.StdSerializer\n</code></pre>\n\n<p>Javadoc of handleType() method says:</p>\n\n<blockquote>\n  <p>Method for accessing type of Objects this serializer can handle. Note\n  that this information is not guaranteed to be exact -- it may be a\n  more generic (super-type) -- but it should not be incorrect (return a\n  non-related type).\n      Default implementation will return null, which essentially means same as returning Object.class would; that is, that nothing is known\n  about handled type.</p>\n</blockquote>\n\n<p>Using Spring Boot 2.0.5.RELEASE</p>\n"},{"tags":["java","hibernate","jpa","persistence"],"owner":{"account_id":4380236,"reputation":1,"user_id":3572065,"display_name":"Charlie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679563505,"creation_date":1679501147,"question_id":75814662,"body_markdown":"I have an Entity I want to define a Unique Index for that is a field of the JSON column.\r\n\r\n```\r\nimport jakarta.persistence.Column;\r\nimport jakarta.persistence.Entity;\r\nimport jakarta.persistence.Table;\r\nimport lombok.EqualsAndHashCode;\r\n\r\nimport org.hibernate.annotations.JdbcTypeCode;\r\nimport org.hibernate.type.SqlTypes;\r\n\r\n@Entity\r\n@EqualsAndHashCode(callSuper = true)\r\n@Table(name = &quot;OWNER&quot;)\r\npublic class Owner extends AbstractEntity&lt;Integer&gt;\r\n{\r\n    @Column(name = &quot;CHEESE&quot;)\r\n    private String cheese;\r\n\r\n    @JdbcTypeCode(SqlTypes.JSON)\r\n    @Column(name = &quot;JSON&quot;)\r\n    private String json;\r\n}\r\n```\r\nUsing hibernate 6.2, Postgres, and Jakarta Persistence 3.1.0. For information, the AbstractEntity just defines the id field.\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nIf I want to define a unique index on the CHEESE column, I can do the following:\r\n\r\n```\r\n@Table(name = &quot;OWNER&quot;, indexes = { @Index(unique = true, name = &quot;CHEESE_UNIQUE_IDX&quot;, columnList = &quot;CHEESE&quot;) })\r\n```\r\nThen when auto generating the schema, I get the index constraint generated.\r\n\r\nIf my json looks like this:\r\n\r\n```\r\n{&quot;name&quot;:&quot;John&quot;, &quot;age&quot;:30}\r\n```\r\nand I want to make &#39;name&#39; a unique index, I can do the following manually:\r\n\r\n```\r\nCREATE UNIQUE INDEX NAME_JSON_UNIQUE_IDX ON OWNER( (JSON-&gt;&gt;&#39;name&#39;) );\r\n```\r\n\r\nHowever, I want this constraint to be auto generated when I run my schema generator. What&#39;s the syntax for defining the Index? For example I&#39;ve tried things like:\r\n\r\n```\r\n@Table(name = &quot;OWNER&quot;, indexes = { @Index(unique = true, name = &quot;NAME_JSON_UNIQUE_IDX&quot;, columnList = &quot;JSON-&gt;&gt;&#39;name&#39;&quot;) })\r\n```\r\nBut that fails as it&#39;s not the correct syntax.\r\n","title":"JPA: Defining an Index using JPA for a field in a JSON column?","body":"<p>I have an Entity I want to define a Unique Index for that is a field of the JSON column.</p>\n<pre><code>import jakarta.persistence.Column;\nimport jakarta.persistence.Entity;\nimport jakarta.persistence.Table;\nimport lombok.EqualsAndHashCode;\n\nimport org.hibernate.annotations.JdbcTypeCode;\nimport org.hibernate.type.SqlTypes;\n\n@Entity\n@EqualsAndHashCode(callSuper = true)\n@Table(name = &quot;OWNER&quot;)\npublic class Owner extends AbstractEntity&lt;Integer&gt;\n{\n    @Column(name = &quot;CHEESE&quot;)\n    private String cheese;\n\n    @JdbcTypeCode(SqlTypes.JSON)\n    @Column(name = &quot;JSON&quot;)\n    private String json;\n}\n</code></pre>\n<p>Using hibernate 6.2, Postgres, and Jakarta Persistence 3.1.0. For information, the AbstractEntity just defines the id field.</p>\n<p>If I want to define a unique index on the CHEESE column, I can do the following:</p>\n<pre><code>@Table(name = &quot;OWNER&quot;, indexes = { @Index(unique = true, name = &quot;CHEESE_UNIQUE_IDX&quot;, columnList = &quot;CHEESE&quot;) })\n</code></pre>\n<p>Then when auto generating the schema, I get the index constraint generated.</p>\n<p>If my json looks like this:</p>\n<pre><code>{&quot;name&quot;:&quot;John&quot;, &quot;age&quot;:30}\n</code></pre>\n<p>and I want to make 'name' a unique index, I can do the following manually:</p>\n<pre><code>CREATE UNIQUE INDEX NAME_JSON_UNIQUE_IDX ON OWNER( (JSON-&gt;&gt;'name') );\n</code></pre>\n<p>However, I want this constraint to be auto generated when I run my schema generator. What's the syntax for defining the Index? For example I've tried things like:</p>\n<pre><code>@Table(name = &quot;OWNER&quot;, indexes = { @Index(unique = true, name = &quot;NAME_JSON_UNIQUE_IDX&quot;, columnList = &quot;JSON-&gt;&gt;'name'&quot;) })\n</code></pre>\n<p>But that fails as it's not the correct syntax.</p>\n"},{"tags":["java","maven","pom.xml","artifactory","maven-dependency"],"answers":[{"comments":[{"owner":{"account_id":16704955,"reputation":423,"user_id":15407955,"display_name":"user124"},"score":0,"creation_date":1648708549,"post_id":71687775,"comment_id":126694123,"body_markdown":"as i see, &lt;dependencyManagement&gt; is parent tag for &lt;dependencies&gt;, but i cannot use it because it may some unknown effect.Can you tell me the way i asked in question? Do i need exclusion tag or not?","body":"as i see, &lt;dependencyManagement&gt; is parent tag for &lt;dependencies&gt;, but i cannot use it because it may some unknown effect.Can you tell me the way i asked in question? Do i need exclusion tag or not?"},{"owner":{"account_id":16704955,"reputation":423,"user_id":15407955,"display_name":"user124"},"score":0,"creation_date":1648711075,"post_id":71687775,"comment_id":126694968,"body_markdown":"thanks for updating. But do i need dependency management. There is Maven’s nearest definition logic, by which if i just add the 1.4.11(updated version) without &lt; dependencyManagement &gt;, it should take it?","body":"thanks for updating. But do i need dependency management. There is Maven’s nearest definition logic, by which if i just add the 1.4.11(updated version) without &lt; dependencyManagement &gt;, it should take it?"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1648711591,"post_id":71687775,"comment_id":126695179,"body_markdown":"@user124 yes you can add 1.4.11 version of xstream to your pom.xml and it will work. you dont need to add exclution","body":"@user124 yes you can add 1.4.11 version of xstream to your pom.xml and it will work. you dont need to add exclution"},{"owner":{"account_id":16704955,"reputation":423,"user_id":15407955,"display_name":"user124"},"score":0,"creation_date":1648711757,"post_id":71687775,"comment_id":126695232,"body_markdown":"But then, do i need to exclude xstream 1.4.11  artifact from spring-batch-core?","body":"But then, do i need to exclude xstream 1.4.11  artifact from spring-batch-core?"},{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1648712626,"post_id":71687775,"comment_id":126695517,"body_markdown":"@user124 no need to, also in exclusion version won&#39;t be mentioned only groupId and artifactId will be mentioned. You can verify which version is used by running the command `mvn dependency:list`","body":"@user124 no need to, also in exclusion version won&#39;t be mentioned only groupId and artifactId will be mentioned. You can verify which version is used by running the command <code>mvn dependency:list</code>"},{"owner":{"account_id":16704955,"reputation":423,"user_id":15407955,"display_name":"user124"},"score":0,"creation_date":1648721537,"post_id":71687775,"comment_id":126698870,"body_markdown":"i specifically asked for exclusion because someone told me that if we add in exclusion, then it wont download that particular dependency and it saves n/w bandwidth and m2 size.But i cannot find anyhwere that putting in exclusion means it wont download, though it wont use is mentioned","body":"i specifically asked for exclusion because someone told me that if we add in exclusion, then it wont download that particular dependency and it saves n/w bandwidth and m2 size.But i cannot find anyhwere that putting in exclusion means it wont download, though it wont use is mentioned"}],"tags":[],"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"comment_count":6,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1648710864,"creation_date":1648707797,"answer_id":71687775,"question_id":71687675,"body_markdown":"Better way will be using `&lt;dependencyManagement/&gt;` tag. Dependency management will make sure the version will be maintained even if some other transitive dependency brings higher version of the dependency.\r\n\r\nUsage:\r\n\r\n```xml\r\n&lt;dependencyManagement&gt;\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\r\n            &lt;artifactId&gt;xstream&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n   &lt;/dependencies&gt;\r\n&lt;/dependencyManagement&gt;\r\n```\r\nNote: `dependencyManagement` tag is used for defining the version and scope (if not in the default scope which is compile) of a dependency it does not add the dependencies in it to you project, you must define separate `&lt;dependencies/&gt;` section in your pom.xml for adding dependencies to your project. \r\n\r\nIn your case it will be like.\r\n\r\n```xml\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\r\n...\r\n\r\n    &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\r\n                &lt;artifactId&gt;xstream&lt;/artifactId&gt;\r\n                &lt;version&gt;1.4.11&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n       &lt;/dependencies&gt;\r\n       ...\r\n    &lt;/dependencyManagement&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-batch-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.9.RELEASE&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        ...\r\n    &lt;/dependencies&gt;\r\n...\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nIn this case `spring-batch-core` is added as a direct dependency and if it has `xstream` as dependecny you project will use `1.4.11` version even `spring-batch-core` has a different version of `xstream` as dependency. \r\n\r\nRef: [Dependency Management](https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#dependency-management)","title":"How to override default version of library included by artifact in maven?","body":"<p>Better way will be using <code>&lt;dependencyManagement/&gt;</code> tag. Dependency management will make sure the version will be maintained even if some other transitive dependency brings higher version of the dependency.</p>\n<p>Usage:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\n            &lt;artifactId&gt;xstream&lt;/artifactId&gt;\n            &lt;version&gt;1.4.11&lt;/version&gt;\n        &lt;/dependency&gt;\n   &lt;/dependencies&gt;\n&lt;/dependencyManagement&gt;\n</code></pre>\n<p>Note: <code>dependencyManagement</code> tag is used for defining the version and scope (if not in the default scope which is compile) of a dependency it does not add the dependencies in it to you project, you must define separate <code>&lt;dependencies/&gt;</code> section in your pom.xml for adding dependencies to your project.</p>\n<p>In your case it will be like.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n\n...\n\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\n                &lt;artifactId&gt;xstream&lt;/artifactId&gt;\n                &lt;version&gt;1.4.11&lt;/version&gt;\n            &lt;/dependency&gt;\n       &lt;/dependencies&gt;\n       ...\n    &lt;/dependencyManagement&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-batch-core&lt;/artifactId&gt;\n            &lt;version&gt;3.0.9.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        ...\n    &lt;/dependencies&gt;\n...\n\n&lt;/project&gt;\n</code></pre>\n<p>In this case <code>spring-batch-core</code> is added as a direct dependency and if it has <code>xstream</code> as dependecny you project will use <code>1.4.11</code> version even <code>spring-batch-core</code> has a different version of <code>xstream</code> as dependency.</p>\n<p>Ref: <a href=\"https://maven.apache.org/guides/introduction/introduction-to-dependency-mechanism.html#dependency-management\" rel=\"nofollow noreferrer\">Dependency Management</a></p>\n"}],"owner":{"account_id":16704955,"reputation":423,"user_id":15407955,"display_name":"user124"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":613,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71687775,"answer_count":1,"score":0,"last_activity_date":1679563369,"creation_date":1648707278,"question_id":71687675,"body_markdown":"I have a spring batch dependency in my pom.xml declared as below: \r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-batch-core&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.9.RELEASE&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThere is one artifact xstream that is included by above with version 1.4.7 and it needs to be updated to 1.4.11.\r\n\r\nIt can be added as follow:\r\n\r\n```xml\r\n    &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\r\n    &lt;artifactId&gt;xstream&lt;/artifactId&gt;\r\n    &lt;version&gt;1.4.11&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nWhat is the correct way for this?I am thinking of following approach:\r\n\r\nBoth above pieces of code will be there but do I need to use &lt; exclusions &gt; to specifically exclude xstream artifact old version from spring-batch-core or does maven takes care of this automatically?","title":"How to override default version of library included by artifact in maven?","body":"<p>I have a spring batch dependency in my pom.xml declared as below:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.batch&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-batch-core&lt;/artifactId&gt;\n    &lt;version&gt;3.0.9.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>There is one artifact xstream that is included by above with version 1.4.7 and it needs to be updated to 1.4.11.</p>\n<p>It can be added as follow:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;groupId&gt;com.thoughtworks.xstream&lt;/groupId&gt;\n    &lt;artifactId&gt;xstream&lt;/artifactId&gt;\n    &lt;version&gt;1.4.11&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>What is the correct way for this?I am thinking of following approach:</p>\n<p>Both above pieces of code will be there but do I need to use &lt; exclusions &gt; to specifically exclude xstream artifact old version from spring-batch-core or does maven takes care of this automatically?</p>\n"},{"tags":["java","eclipse","osgi","java-11","rcp"],"comments":[{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1679478459,"post_id":75810175,"comment_id":133727761,"body_markdown":"You should have `javax.annotation` in the `Import-Package` in the MANIFEST.MF","body":"You should have <code>javax.annotation</code> in the <code>Import-Package</code> in the MANIFEST.MF"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1679485308,"post_id":75810175,"comment_id":133729489,"body_markdown":"Try recompiling it, if it was over the Maven net  link it may been interrupted, or the local maven cache cleared. That should though failed texts and compile somewhere in the output info. Also noticed &quot;application start&quot; in the exception. Runtime annotation processing would-be needed to load before much of anything. Did you use the old binaries untouched or did you recompile?","body":"Try recompiling it, if it was over the Maven net  link it may been interrupted, or the local maven cache cleared. That should though failed texts and compile somewhere in the output info. Also noticed &quot;application start&quot; in the exception. Runtime annotation processing would-be needed to load before much of anything. Did you use the old binaries untouched or did you recompile?"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1679494126,"post_id":75810175,"comment_id":133732082,"body_markdown":"`javax.annotation.PostConstruct` has been moved to `jakarta.annotation.PostConstruct`. You have to make sure that all libraries are on the same level.","body":"<code>javax.annotation.PostConstruct</code> has been moved to <code>jakarta.annotation.PostConstruct</code>. You have to make sure that all libraries are on the same level."},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1679494265,"post_id":75810175,"comment_id":133732127,"body_markdown":"@Holger Eclipse includes a javax.annotation plug-in for RCPs with the old javax classes","body":"@Holger Eclipse includes a javax.annotation plug-in for RCPs with the old javax classes"},{"owner":{"account_id":3211603,"reputation":289317,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1679494632,"post_id":75810175,"comment_id":133732252,"body_markdown":"@greg-449 so, if library X checks whether library Y is annotated with `jakarta.annotation.PostConstruct`, this check gets somehow converted to a check whether Y is annotated with `javax.annotation.PostConstruct`?","body":"@greg-449 so, if library X checks whether library Y is annotated with <code>jakarta.annotation.PostConstruct</code>, this check gets somehow converted to a check whether Y is annotated with <code>javax.annotation.PostConstruct</code>?"},{"owner":{"account_id":3159259,"reputation":109678,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1679499602,"post_id":75810175,"comment_id":133733828,"body_markdown":"@Holger This is just for Eclipse/OSGi plug-ins which still use javax.annotation. The question seems to be about such a plug-in.","body":"@Holger This is just for Eclipse/OSGi plug-ins which still use javax.annotation. The question seems to be about such a plug-in."},{"owner":{"account_id":28076537,"reputation":1,"user_id":21448292,"display_name":"Maximilian Lutz"},"score":0,"creation_date":1679500573,"post_id":75810175,"comment_id":133734163,"body_markdown":"@greg-449 yeah that seems to be the problem: org.eclipse.e4.core.di is a plugin provided by eclipse, I dont know in which way I could adjust the Manifest of that. \nTo everyone else: I will check your suggestions and give some Feedback, Thanks a lot everyone.","body":"@greg-449 yeah that seems to be the problem: org.eclipse.e4.core.di is a plugin provided by eclipse, I dont know in which way I could adjust the Manifest of that.  To everyone else: I will check your suggestions and give some Feedback, Thanks a lot everyone."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1679520228,"post_id":75810175,"comment_id":133738933,"body_markdown":"The difficulty may be in the library names now supplied in Maven and it&#39;s compile files. Shifting from javax to Jakarta is a source code library compilation problem that mainly affects IBM web IBM eclipse, it splits away from proprietary naming of libraries enforced by Oracle since (aka level) Oracle java 1.8.0_202, the last free licensed Oracle SDK/JRE and equivalent OpenJDK 11. Shortly after, Oracle took over - reserved the javax library name as proprietary. IBM continued source upgrades and used the name Jakarta under the &quot;Jakarta project&quot;.  That is immense trouble in JSF tomcat 10.","body":"The difficulty may be in the library names now supplied in Maven and it&#39;s compile files. Shifting from javax to Jakarta is a source code library compilation problem that mainly affects IBM web IBM eclipse, it splits away from proprietary naming of libraries enforced by Oracle since (aka level) Oracle java 1.8.0_202, the last free licensed Oracle SDK/JRE and equivalent OpenJDK 11. Shortly after, Oracle took over - reserved the javax library name as proprietary. IBM continued source upgrades and used the name Jakarta under the &quot;Jakarta project&quot;.  That is immense trouble in JSF tomcat 10."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1679521349,"post_id":75810175,"comment_id":133739134,"body_markdown":"Technically Jakarta or javax should not be a problem if the JDK is the only upgrade, however, the jre can trip over older code dependent architectures it&#39;s compiled or run on being different.  TIP, anything that uses core SE javax name remains the same, Extended functionalities such as frameworks and libraries e.g. JSF , java servers e.t.c changed since Oracle 1.8.0_202","body":"Technically Jakarta or javax should not be a problem if the JDK is the only upgrade, however, the jre can trip over older code dependent architectures it&#39;s compiled or run on being different.  TIP, anything that uses core SE javax name remains the same, Extended functionalities such as frameworks and libraries e.g. JSF , java servers e.t.c changed since Oracle 1.8.0_202"}],"owner":{"account_id":28076537,"reputation":1,"user_id":21448292,"display_name":"Maximilian Lutz"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1820,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1679563080,"creation_date":1679475602,"question_id":75810175,"body_markdown":"our RCP OSGi Application does not run anymore after upgrading to Java 11. This is because Java 11 removed javax.annotation and this leads to the following Exception while running our application:\r\n\r\n\r\n```\r\norg.eclipse.e4.core.di.InjectionException: java.lang.NoClassDefFoundError: javax/annotation/PostConstruct\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.internalMake(InjectorImpl.java:414)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.make(InjectorImpl.java:330)\r\n\tat org.eclipse.e4.core.contexts.ContextInjectionFactory.make(ContextInjectionFactory.java:202)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.E4Application.createDefaultHeadlessContext(E4Application.java:481)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.E4Application.createDefaultContext(E4Application.java:495)\r\n\tat org.eclipse.e4.ui.internal.workbench.swt.E4Application.createE4Workbench(E4Application.java:213)\r\n\tat org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:573)\r\n\tat org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\r\n\tat org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:551)\r\n\tat org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:156)\r\n\tat *.application.Application.start(Application.java:534)\r\n\tat org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\r\n\tat org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\r\n\tat org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\r\n\tat org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\r\n\tat org.eclipse.equinox.launcher.Main.run(Main.java:1467)\r\n\tat org.eclipse.equinox.launcher.Main.main(Main.java:1440)\r\nCaused by: java.lang.NoClassDefFoundError: javax/annotation/PostConstruct\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.internalInject(InjectorImpl.java:140)\r\n\tat org.eclipse.e4.core.internal.di.InjectorImpl.internalMake(InjectorImpl.java:403)\r\n\t... 23 more\r\nCaused by: java.lang.ClassNotFoundException: javax.annotation.PostConstruct cannot be found by org.eclipse.e4.core.di_1.8.200.v20220512-1957\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.generateException(BundleLoader.java:541)\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.findClass0(BundleLoader.java:536)\r\n\tat org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:416)\r\n\tat org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:168)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n\t... 25 more\r\n```\r\n\r\nThe Eclipse Plugin for Dependency Injection &quot;org.eclipse.e4.core.di&quot; cannot find the javax.annotation package at runtime right after starting the application. The Application runs as mentioned in an OSGi Container. There are no unresolved requirements or something similar at Compile time, furthermore javax.annotation is present in the Build and in the target platform. See the Manifest of the org.eclipse.e4.core.di Bundle below:\r\n\r\n\r\n```\r\n Automatic-Module-Name = org.eclipse.e4.core.di\r\n Build-Jdk-Spec = 11\r\n Bundle-ActivationPolicy = lazy\r\n Bundle-Localization = plugin\r\n Bundle-ManifestVersion = 2\r\n Bundle-Name = Eclipse Dependency Injection\r\n Bundle-RequiredExecutionEnvironment = JavaSE-11\r\n Bundle-SymbolicName = org.eclipse.e4.core.di\r\n Bundle-Vendor = Eclipse.org\r\n Bundle-Version = 1.8.200.v20220512-1957\r\n Created-By = Maven Archiver 3.5.2\r\n Eclipse-SourceReferences = scm:git:https://github.com/eclipse-platform/eclipse.platform.runtime.git;path=&quot;bundles/org.eclipse.e4.core.di&quot;;tag=&quot;I20220512-1800&quot;;commitId=ada015b6ae742e99f70411886c4f72f1a1fe1713\r\n Export-Package = org.eclipse.e4.core.di;version=&quot;1.7.0&quot;,org.eclipse.e4.core.di.suppliers;version=&quot;1.7.0&quot;,org.eclipse.e4.core.internal.di;x-friends:=&quot;org.eclipse.e4.core.contexts&quot;,org.eclipse.e4.core.internal.di.osgi;x-internal:=true,org.eclipse.e4.core.internal.di.shared;x-friends:=&quot;org.eclipse.e4.core.contexts,org.eclipse.e4.core.di.extensions.supplier&quot;\r\n Import-Package = javax.inject;version=&quot;1.0.0&quot;,org.eclipse.osgi.framework.log;version=&quot;1.1.0&quot;,org.osgi.framework;version=&quot;1.8.0&quot;,org.osgi.util.tracker;version=&quot;1.5.1&quot;\r\n Manifest-Version = 1.0\r\n Require-Bundle = org.eclipse.e4.core.di.annotations;bundle-version=&quot;[1.4.0,2.0.0)&quot;;visibility:=reexport,javax.annotation;bundle-version=&quot;[1.3.5,2.0.0)&quot;\r\n```\r\n\r\nThis Bundle requires the javax.annotation package, but does not import it. We have another Application that is built the same way and that one somehow works. We cannot really figure out why. As I understood OSGi correctly, every plugin has its own classloader and it seems like that javax.annotation is not loaded within the scope of the org.eclipse.e4.core.di plugin. Furthermore in the OSGi runtime it is visible that a javax.annotation bundle is started and active, so it should be available at runtime for the Dependency Injection Plugin. \r\n\r\nWe wonder how can we add javax.annotation to the OSGi runtime so that it is available for the dependency injection plugin? Has anybody maybe already had a similar problem? \r\n\r\nThe things we tried so far:\r\n\r\n- Adding the javax.annotation dependency to the maven tycho build: This did not change anything at all since the dependency is resolved by OSGi.\r\n- Comparison of the runtime environments of both applications: The OSGi runtimes are the same, we expected to see a difference here.  \r\n- We checked all versions of the package and the bundles regarding compatibility, nothing unusual here.\r\n- Adding javax.annotation to the run configuration in eclipse: Did not work as well, nothing changed here.\r\n\r\nEclipse BundleId: 20220609-1112\r\nJDK: 11.0.14.1","title":"Java 11 and javax.annotation: ClassNotFoundException","body":"<p>our RCP OSGi Application does not run anymore after upgrading to Java 11. This is because Java 11 removed javax.annotation and this leads to the following Exception while running our application:</p>\n<pre><code>org.eclipse.e4.core.di.InjectionException: java.lang.NoClassDefFoundError: javax/annotation/PostConstruct\n    at org.eclipse.e4.core.internal.di.InjectorImpl.internalMake(InjectorImpl.java:414)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.make(InjectorImpl.java:330)\n    at org.eclipse.e4.core.contexts.ContextInjectionFactory.make(ContextInjectionFactory.java:202)\n    at org.eclipse.e4.ui.internal.workbench.swt.E4Application.createDefaultHeadlessContext(E4Application.java:481)\n    at org.eclipse.e4.ui.internal.workbench.swt.E4Application.createDefaultContext(E4Application.java:495)\n    at org.eclipse.e4.ui.internal.workbench.swt.E4Application.createE4Workbench(E4Application.java:213)\n    at org.eclipse.ui.internal.Workbench.lambda$3(Workbench.java:573)\n    at org.eclipse.core.databinding.observable.Realm.runWithDefault(Realm.java:338)\n    at org.eclipse.ui.internal.Workbench.createAndRunWorkbench(Workbench.java:551)\n    at org.eclipse.ui.PlatformUI.createAndRunWorkbench(PlatformUI.java:156)\n    at *.application.Application.start(Application.java:534)\n    at org.eclipse.equinox.internal.app.EclipseAppHandle.run(EclipseAppHandle.java:203)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.runApplication(EclipseAppLauncher.java:136)\n    at org.eclipse.core.runtime.internal.adaptor.EclipseAppLauncher.start(EclipseAppLauncher.java:104)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:402)\n    at org.eclipse.core.runtime.adaptor.EclipseStarter.run(EclipseStarter.java:255)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n    at org.eclipse.equinox.launcher.Main.invokeFramework(Main.java:659)\n    at org.eclipse.equinox.launcher.Main.basicRun(Main.java:596)\n    at org.eclipse.equinox.launcher.Main.run(Main.java:1467)\n    at org.eclipse.equinox.launcher.Main.main(Main.java:1440)\nCaused by: java.lang.NoClassDefFoundError: javax/annotation/PostConstruct\n    at org.eclipse.e4.core.internal.di.InjectorImpl.internalInject(InjectorImpl.java:140)\n    at org.eclipse.e4.core.internal.di.InjectorImpl.internalMake(InjectorImpl.java:403)\n    ... 23 more\nCaused by: java.lang.ClassNotFoundException: javax.annotation.PostConstruct cannot be found by org.eclipse.e4.core.di_1.8.200.v20220512-1957\n    at org.eclipse.osgi.internal.loader.BundleLoader.generateException(BundleLoader.java:541)\n    at org.eclipse.osgi.internal.loader.BundleLoader.findClass0(BundleLoader.java:536)\n    at org.eclipse.osgi.internal.loader.BundleLoader.findClass(BundleLoader.java:416)\n    at org.eclipse.osgi.internal.loader.ModuleClassLoader.loadClass(ModuleClassLoader.java:168)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 25 more\n</code></pre>\n<p>The Eclipse Plugin for Dependency Injection &quot;org.eclipse.e4.core.di&quot; cannot find the javax.annotation package at runtime right after starting the application. The Application runs as mentioned in an OSGi Container. There are no unresolved requirements or something similar at Compile time, furthermore javax.annotation is present in the Build and in the target platform. See the Manifest of the org.eclipse.e4.core.di Bundle below:</p>\n<pre><code> Automatic-Module-Name = org.eclipse.e4.core.di\n Build-Jdk-Spec = 11\n Bundle-ActivationPolicy = lazy\n Bundle-Localization = plugin\n Bundle-ManifestVersion = 2\n Bundle-Name = Eclipse Dependency Injection\n Bundle-RequiredExecutionEnvironment = JavaSE-11\n Bundle-SymbolicName = org.eclipse.e4.core.di\n Bundle-Vendor = Eclipse.org\n Bundle-Version = 1.8.200.v20220512-1957\n Created-By = Maven Archiver 3.5.2\n Eclipse-SourceReferences = scm:git:https://github.com/eclipse-platform/eclipse.platform.runtime.git;path=&quot;bundles/org.eclipse.e4.core.di&quot;;tag=&quot;I20220512-1800&quot;;commitId=ada015b6ae742e99f70411886c4f72f1a1fe1713\n Export-Package = org.eclipse.e4.core.di;version=&quot;1.7.0&quot;,org.eclipse.e4.core.di.suppliers;version=&quot;1.7.0&quot;,org.eclipse.e4.core.internal.di;x-friends:=&quot;org.eclipse.e4.core.contexts&quot;,org.eclipse.e4.core.internal.di.osgi;x-internal:=true,org.eclipse.e4.core.internal.di.shared;x-friends:=&quot;org.eclipse.e4.core.contexts,org.eclipse.e4.core.di.extensions.supplier&quot;\n Import-Package = javax.inject;version=&quot;1.0.0&quot;,org.eclipse.osgi.framework.log;version=&quot;1.1.0&quot;,org.osgi.framework;version=&quot;1.8.0&quot;,org.osgi.util.tracker;version=&quot;1.5.1&quot;\n Manifest-Version = 1.0\n Require-Bundle = org.eclipse.e4.core.di.annotations;bundle-version=&quot;[1.4.0,2.0.0)&quot;;visibility:=reexport,javax.annotation;bundle-version=&quot;[1.3.5,2.0.0)&quot;\n</code></pre>\n<p>This Bundle requires the javax.annotation package, but does not import it. We have another Application that is built the same way and that one somehow works. We cannot really figure out why. As I understood OSGi correctly, every plugin has its own classloader and it seems like that javax.annotation is not loaded within the scope of the org.eclipse.e4.core.di plugin. Furthermore in the OSGi runtime it is visible that a javax.annotation bundle is started and active, so it should be available at runtime for the Dependency Injection Plugin.</p>\n<p>We wonder how can we add javax.annotation to the OSGi runtime so that it is available for the dependency injection plugin? Has anybody maybe already had a similar problem?</p>\n<p>The things we tried so far:</p>\n<ul>\n<li>Adding the javax.annotation dependency to the maven tycho build: This did not change anything at all since the dependency is resolved by OSGi.</li>\n<li>Comparison of the runtime environments of both applications: The OSGi runtimes are the same, we expected to see a difference here.</li>\n<li>We checked all versions of the package and the bundles regarding compatibility, nothing unusual here.</li>\n<li>Adding javax.annotation to the run configuration in eclipse: Did not work as well, nothing changed here.</li>\n</ul>\n<p>Eclipse BundleId: 20220609-1112\nJDK: 11.0.14.1</p>\n"},{"tags":["java","sql-server","spring-boot","encryption","spring-data-jpa"],"owner":{"account_id":25580356,"reputation":53,"user_id":19359032,"display_name":"LeoL"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":306,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1679563079,"creation_date":1679562730,"question_id":75821071,"body_markdown":"I&#39;m trying to integrate SQL SERVER column level encryption with a Spring Boot application, without success. In my application I defined an entity called Transaction\r\n\r\n    @Entity\r\n    @Table(name = &quot;TRANSACTIONS&quot;)\r\n    public class Transaction {\r\n    \r\n        @Id\r\n        @Column(name = &quot;TRANSACTION_ID&quot;)\r\n        private String id;\r\n    \r\n        @Column(name = &quot;AMOUNT&quot;, nullable = false)\r\n        private BigDecimal amount;\r\n    \r\n        @Column(name = &quot;DESCRIPTION&quot;, nullable = false)\r\n        private String description;\r\n    \r\n        @Column(name = &quot;INSERT_TIMESTAMP&quot;)\r\n        private LocalDate insertTimestamp;\r\n    ...\r\n    }\r\nAnd a JPA repository like this:\r\n\r\n    @Repository\r\n    public interface TransactionRepository extends JpaRepository&lt;Transaction, String&gt; { ... }\r\n\r\n\r\nIn my SQL SERVER 2019 I have defined this table\r\n\r\n    CREATE TABLE [dbo].[TRANSACTIONS](\r\n    \t[transaction_id] [nvarchar](64) NOT NULL,\r\n    \t[amount] [numeric](16,2) ENCRYPTED WITH (COLUMN_ENCRYPTION_KEY = [CEK1], ENCRYPTION_TYPE = Deterministic, ALGORITHM = &#39;AEAD_AES_256_CBC_HMAC_SHA_256&#39;) NOT NULL,\r\n    \t[insert_timestamp] [date] NULL,\r\n    \t[description] [varchar](1024) COLLATE Latin1_General_BIN2 ENCRYPTED WITH (COLUMN_ENCRYPTION_KEY = [CEK1], ENCRYPTION_TYPE = Deterministic, ALGORITHM = &#39;AEAD_AES_256_CBC_HMAC_SHA_256&#39;) NOT NULL,\r\n     CONSTRAINT [TRANSACTIONS_PK] PRIMARY KEY CLUSTERED \r\n    (\r\n    \t[transaction_id] ASC\r\n    )WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]\r\n    ) ON [PRIMARY]\r\n    GO\r\n\r\nThen I defined an endpoint:\r\n\r\n    @PostMapping\r\n    public Transaction saveTransaction(@RequestBody Transaction request){\r\n    ...\r\n    }\r\n\r\nFrom Postman, I&#39;m calling the endpoint with this body:\r\n\r\n    {\r\n        &quot;amount&quot;:120.0,\r\n        &quot;description&quot;:&quot;TV&quot;\r\n    }\r\n\r\nBut I get this error:\r\n\r\n`com.microsoft.sqlserver.jdbc.SQLServerException: Operand type clash: decimal(18,1) encrypted with (encryption_type = &#39;DETERMINISTIC&#39;, encryption_algorithm_name = &#39;AEAD_AES_256_CBC_HMAC_SHA_256&#39;, column_encryption_key_name = &#39;CEK1&#39;, column_encryption_key_database_name = &#39;BANK&#39;) is incompatible with numeric(16,2) encrypted with (encryption_type = &#39;DETERMINISTIC&#39;, encryption_algorithm_name = &#39;AEAD_AES_256_CBC_HMAC_SHA_256&#39;, column_encryption_key_name = &#39;CEK1&#39;, column_encryption_key_database_name = &#39;BANK&#39;)`\r\n\r\n\r\n\r\n\r\nSince the error states an operand type clash, I modified the data type in the DB table, so from `[amount] [numeric](16,2)` to `[amount] [decimal](18,1)`.\r\nNow, ironically let me say, the error is:\r\n\r\n`com.microsoft.sqlserver.jdbc.SQLServerException: Operand type clash: numeric(4,1) encrypted with (encryption_type = &#39;DETERMINISTIC&#39;, encryption_algorithm_name = &#39;AEAD_AES_256_CBC_HMAC_SHA_256&#39;, column_encryption_key_name = &#39;CEK1&#39;, column_encryption_key_database_name = &#39;BANK&#39;) is incompatible with decimal(18,1) encrypted with (encryption_type = &#39;DETERMINISTIC&#39;, encryption_algorithm_name = &#39;AEAD_AES_256_CBC_HMAC_SHA_256&#39;, column_encryption_key_name = &#39;CEK1&#39;, column_encryption_key_database_name = &#39;BANK&#39;)`\r\n\r\nI also tried to use Double for the amount on Java entity and float for amount on DB table. This works, but I would like to use numeric(16,2) data type on DB. \r\n\r\nPlease notice I have this error only for decimal/numeric data types, everything works fine if I use varchar or integers.\r\n\r\nAny ideas?","title":"SQL Server always encrypted and JpaRepository in SpringBoot","body":"<p>I'm trying to integrate SQL SERVER column level encryption with a Spring Boot application, without success. In my application I defined an entity called Transaction</p>\n<pre><code>@Entity\n@Table(name = &quot;TRANSACTIONS&quot;)\npublic class Transaction {\n\n    @Id\n    @Column(name = &quot;TRANSACTION_ID&quot;)\n    private String id;\n\n    @Column(name = &quot;AMOUNT&quot;, nullable = false)\n    private BigDecimal amount;\n\n    @Column(name = &quot;DESCRIPTION&quot;, nullable = false)\n    private String description;\n\n    @Column(name = &quot;INSERT_TIMESTAMP&quot;)\n    private LocalDate insertTimestamp;\n...\n}\n</code></pre>\n<p>And a JPA repository like this:</p>\n<pre><code>@Repository\npublic interface TransactionRepository extends JpaRepository&lt;Transaction, String&gt; { ... }\n</code></pre>\n<p>In my SQL SERVER 2019 I have defined this table</p>\n<pre><code>CREATE TABLE [dbo].[TRANSACTIONS](\n    [transaction_id] [nvarchar](64) NOT NULL,\n    [amount] [numeric](16,2) ENCRYPTED WITH (COLUMN_ENCRYPTION_KEY = [CEK1], ENCRYPTION_TYPE = Deterministic, ALGORITHM = 'AEAD_AES_256_CBC_HMAC_SHA_256') NOT NULL,\n    [insert_timestamp] [date] NULL,\n    [description] [varchar](1024) COLLATE Latin1_General_BIN2 ENCRYPTED WITH (COLUMN_ENCRYPTION_KEY = [CEK1], ENCRYPTION_TYPE = Deterministic, ALGORITHM = 'AEAD_AES_256_CBC_HMAC_SHA_256') NOT NULL,\n CONSTRAINT [TRANSACTIONS_PK] PRIMARY KEY CLUSTERED \n(\n    [transaction_id] ASC\n)WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]\n) ON [PRIMARY]\nGO\n</code></pre>\n<p>Then I defined an endpoint:</p>\n<pre><code>@PostMapping\npublic Transaction saveTransaction(@RequestBody Transaction request){\n...\n}\n</code></pre>\n<p>From Postman, I'm calling the endpoint with this body:</p>\n<pre><code>{\n    &quot;amount&quot;:120.0,\n    &quot;description&quot;:&quot;TV&quot;\n}\n</code></pre>\n<p>But I get this error:</p>\n<p><code>com.microsoft.sqlserver.jdbc.SQLServerException: Operand type clash: decimal(18,1) encrypted with (encryption_type = 'DETERMINISTIC', encryption_algorithm_name = 'AEAD_AES_256_CBC_HMAC_SHA_256', column_encryption_key_name = 'CEK1', column_encryption_key_database_name = 'BANK') is incompatible with numeric(16,2) encrypted with (encryption_type = 'DETERMINISTIC', encryption_algorithm_name = 'AEAD_AES_256_CBC_HMAC_SHA_256', column_encryption_key_name = 'CEK1', column_encryption_key_database_name = 'BANK')</code></p>\n<p>Since the error states an operand type clash, I modified the data type in the DB table, so from <code>[amount] [numeric](16,2)</code> to <code>[amount] [decimal](18,1)</code>.\nNow, ironically let me say, the error is:</p>\n<p><code>com.microsoft.sqlserver.jdbc.SQLServerException: Operand type clash: numeric(4,1) encrypted with (encryption_type = 'DETERMINISTIC', encryption_algorithm_name = 'AEAD_AES_256_CBC_HMAC_SHA_256', column_encryption_key_name = 'CEK1', column_encryption_key_database_name = 'BANK') is incompatible with decimal(18,1) encrypted with (encryption_type = 'DETERMINISTIC', encryption_algorithm_name = 'AEAD_AES_256_CBC_HMAC_SHA_256', column_encryption_key_name = 'CEK1', column_encryption_key_database_name = 'BANK')</code></p>\n<p>I also tried to use Double for the amount on Java entity and float for amount on DB table. This works, but I would like to use numeric(16,2) data type on DB.</p>\n<p>Please notice I have this error only for decimal/numeric data types, everything works fine if I use varchar or integers.</p>\n<p>Any ideas?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9671,"page":554,"page_size":100}
