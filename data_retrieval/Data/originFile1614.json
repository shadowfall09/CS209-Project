{"items":[{"tags":["java","primes"],"answers":[{"tags":[],"owner":{"account_id":1233631,"reputation":411,"user_id":1197699,"accept_rate":100,"display_name":"ggrigery"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1331244131,"creation_date":1331244131,"answer_id":9625716,"question_id":9625663,"body_markdown":"    int counter = 0;\r\n\r\n    for(int i = 1; ; i++) {\r\n        if(isPrime(i)\r\n            counter++;\r\n\r\n        if(counter == userInput) {\r\n            print(i);\r\n            break;\r\n        }\r\n    }\r\n\r\nEdit: Your prime function could use a bit of work. Here&#39;s one that I have written:\r\n\r\n\tprivate static boolean isPrime(long n) {\r\n\t\tif(n &lt; 2)\r\n\t\t\treturn false;\r\n\t\t\r\n\t\tfor (long i = 2; i * i &lt;= n; i++) {\r\n\t\t\tif (n % i == 0)\r\n\t\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n\r\nNote - you only need to go up to sqrt(n) when looking at factors, hence the `i * i &lt;= n`","title":"Calculating and printing the nth prime number","body":"<pre><code>int counter = 0;\n\nfor(int i = 1; ; i++) {\n    if(isPrime(i)\n        counter++;\n\n    if(counter == userInput) {\n        print(i);\n        break;\n    }\n}\n</code></pre>\n\n<p>Edit: Your prime function could use a bit of work. Here's one that I have written:</p>\n\n<pre><code>private static boolean isPrime(long n) {\n    if(n &lt; 2)\n        return false;\n\n    for (long i = 2; i * i &lt;= n; i++) {\n        if (n % i == 0)\n            return false;\n    }\n    return true;\n}\n</code></pre>\n\n<p>Note - you only need to go up to sqrt(n) when looking at factors, hence the <code>i * i &lt;= n</code></p>\n"},{"tags":[],"owner":{"account_id":81527,"reputation":2678,"user_id":229810,"accept_rate":68,"display_name":"kevin cline"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1331244202,"creation_date":1331244202,"answer_id":9625734,"question_id":9625663,"body_markdown":"You are trying to do too much in the main method.  You need to break this up into more manageable parts.  Write a method `boolean isPrime(int n)` that returns true if a number is prime, and false otherwise.  Then modify the main method to use isPrime.","title":"Calculating and printing the nth prime number","body":"<p>You are trying to do too much in the main method.  You need to break this up into more manageable parts.  Write a method <code>boolean isPrime(int n)</code> that returns true if a number is prime, and false otherwise.  Then modify the main method to use isPrime.</p>\n"},{"tags":[],"owner":{"account_id":483323,"reputation":36115,"user_id":898289,"accept_rate":92,"display_name":"Adam"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1331247591,"creation_date":1331247591,"answer_id":9626398,"question_id":9625663,"body_markdown":"java.math.BigInteger has a nextProbablePrime() method. Whilst I&#39;m guessing this is meant for cryptography you could use it for you work.\r\n\r\n    BigInteger prime = BigInteger.valueOf(0);\r\n    for (int i = 0; i &lt; n; i++) {\r\n        prime = prime.nextProbablePrime();\r\n    }\r\n    System.out.println(prime.intValue());\r\n\r\n","title":"Calculating and printing the nth prime number","body":"<p>java.math.BigInteger has a nextProbablePrime() method. Whilst I'm guessing this is meant for cryptography you could use it for you work.</p>\n\n<pre><code>BigInteger prime = BigInteger.valueOf(0);\nfor (int i = 0; i &lt; n; i++) {\n    prime = prime.nextProbablePrime();\n}\nSystem.out.println(prime.intValue());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":996105,"reputation":182284,"user_id":1011995,"display_name":"Daniel Fischer"},"down_vote_count":1,"up_vote_count":233,"is_accepted":true,"score":232,"last_activity_date":1359385339,"creation_date":1331739005,"answer_id":9704912,"question_id":9625663,"body_markdown":"To calculate the n-th prime, I know two main variants.\r\n\r\n## The straightforward way\r\n\r\nThat is to count all the primes starting from 2 as you find them until you have reached the desired n&lt;sup&gt;th&lt;/sup&gt;.\r\n\r\nThis can be done with different levels of sophistication and efficiency, and there are two conceptually different ways to do it. The first is\r\n\r\n### Testing the primality of all numbers in sequence\r\n\r\nThis would be accomplished by a driver function like\r\n\r\n    public static int nthPrime(int n) {\r\n        int candidate, count;\r\n        for(candidate = 2, count = 0; count &lt; n; ++candidate) {\r\n            if (isPrime(candidate)) {\r\n                ++count;\r\n            }\r\n        }\r\n        // The candidate has been incremented once after the count reached n\r\n        return candidate-1;\r\n    }\r\n\r\nand the interesting part that determines the efficiency is the `isPrime` function.\r\n\r\nThe obvious way for a primality check, given the definition of a prime as a number greater than 1 that is divisible only by 1 and by itself that we learned in school&#185;, is\r\n\r\n### Trial division\r\n\r\nThe direct translation of the definition into code is\r\n\r\n    private static boolean isPrime(int n) {\r\n        for(int i = 2; i &lt; n; ++i) {\r\n            if (n % i == 0) {\r\n                // We are naive, but not stupid, if\r\n                // the number has a divisor other\r\n                // than 1 or itself, we return immediately.\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\nbut, as you will soon discover if you try it, its simplicity is accompanied by slowness.\r\nWith that primality test, you can find the 1000&lt;sup&gt;th&lt;/sup&gt; prime, 7919, in a few milliseconds (about 20 on my computer), but finding the 10000&lt;sup&gt;th&lt;/sup&gt; prime, 104729, takes seconds (~2.4s), the 100000&lt;sup&gt;th&lt;/sup&gt; prime,1299709, several minutes (about 5), the millionth prime, 15485863, would take about eight and a half hours, the ten-millionth prime, 179424673, weeks, and so on. The runtime complexity is worse than quadratic - Θ(n&#178; * log n).\r\n\r\nSo we&#39;d like to speed the primality test up somewhat. A step that many people take is the realisation that a divisor of `n` (other than `n` itself) can be at most `n/2`.\r\nIf we use that fact and let the trial division loop only run to `n/2` instead of `n-1`, how does the running time of the algorithm change?\r\nFor composite numbers, the lower loop limit doesn&#39;t change anything. For primes, the number of trial divisions is halved, so overall, the running time should be reduced by a factor somewhat smaller than 2. If you try it out, you will find that the running time is almost exactly halved, so **almost all the time is spent verifying the primality of primes** despite there being many more composites than primes.\r\n\r\nNow, that didn&#39;t help much if we want to find the one-hundred-millionth prime, so we have to do better. Trying to reduce the loop limit further, let us see for what numbers the upper bound of `n/2` is actually needed. If `n/2` is a divisor of `n`, then `n/2` is an integer, in other words, `n` is divisible by 2. But then the loop doesn&#39;t go past 2, so it never (except for `n = 4`) reaches `n/2`. Jolly good, so what&#39;s the next largest possible divisor of `n`?\r\nWhy, `n/3` of course. But `n/3` can only be a divisor of `n` if it is an integer, in other words, if `n` is divisible by 3. Then the loop will exit at 3 (or before, at 2) and never reach `n/3` (except for `n = 9`). The next largest possible divisor ...\r\n\r\nHang on a minute! We have `2 &lt;-&gt; n/2` and `3 &lt;-&gt; n/3`. **The divisors of n come in pairs.**\r\n\r\nIf we consider the pair `(d, n/d)` of corresponding divisors of `n`, either `d = n/d`, i.e. `d = √n`, or one of them, say `d`, is smaller than the other. But then `d*d &lt; d*(n/d) = n` and `d &lt; √n`. Each pair of corresponding divisors of `n` contains (at least) one which does not exceed `√n`.\r\n\r\n**If** `n` **is composite, its smallest nontrivial divisor does not exceed** `√n`.\r\n\r\nSo we can reduce the loop limit to `√n`, and that reduces the runtime complexity of the algorithm. It should now be Θ(n&lt;sup&gt;1.5&lt;/sup&gt; * √(log n)), but empirically it seems to scale a little bit better - however, there&#39;s not enough data to draw reliable conclusions from empirical results.\r\n\r\nThat finds the millionth prime in about 16 seconds, the ten-millionth in just under nine minutes, and it would find the one-hundred-millionth in about four and a half hours. That&#39;s still slow, but a far cry from the ten years or so it would take the naive trial division.\r\n\r\nSince there are squares of primes and products of two close primes, like 323 = 17*19, we cannot reduce the limit for the trial division loop below `√n`. Therefore, while staying with trial division, we must look for other ways to improve the algorithm now.\r\n\r\nOne easily seen thing is that no prime other than 2 is even, so we need only check odd numbers after we have taken care of 2. That doesn&#39;t make much of a difference, though, since the even numbers are the cheapest to find composite - and the bulk of time is still spent verifying the primality of primes. However, if we look at the even numbers as candidate divisors, we see that if `n` is divisible by an even number, `n` itself must be even, so (excepting 2) it will have been recognised as composite before division by any even number greater than 2 is attempted. So all divisions by even numbers greater than 2 that occur in the algorithm must necessarily leave a nonzero remainder. We can thus omit these divisions and check for divisibility only by 2 and the odd numbers from 3 to `√n`. This halves (not quite exactly) the number of divisions required to determine a number as prime or composite and therefore the running time. That&#39;s a good start, but can we do better?\r\n\r\nAnother large family of numbers is the multiples of 3. Every third division we perform is by a multiple of 3, but if `n` is divisible by one of them, it is also divisible by 3, and hence no division by 9, 15, 21, ... that we perform in our algorithm will ever leave a remainder of 0.\r\nSo, how can we skip these divisions? Well, the numbers divisible by neither 2 nor 3 are precisely the numbers of the form `6*k &#177; 1`. Starting from 5 (since we&#39;re only interested in numbers greater than 1), they are 5, 7, 11, 13, 17, 19, ..., the step from one to the next alternates between 2 and 4, which is easy enough, so we can use\r\n\r\n    private static boolean isPrime(int n) {\r\n        if (n % 2 == 0) return n == 2;\r\n        if (n % 3 == 0) return n == 3;\r\n        int step = 4, m = (int)Math.sqrt(n) + 1;\r\n        for(int i = 5; i &lt; m; step = 6-step, i += step) {\r\n            if (n % i == 0) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\nThis gives us another speedup by a factor of (nearly) 1.5, so we&#39;d need about one and a half hours to the hundred-millionth prime.\r\n\r\nIf we continue this route, the next step is the elimination of multiples of 5. The numbers coprime to 2, 3 and 5 are the numbers of the form\r\n\r\n    30*k + 1, 30*k + 7, 30*k + 11, 30*k + 13, 30*k + 17, 30*k + 19, 30*k + 23, 30*k + 29\r\n\r\nso we&#39;d need only divide by eight out of every thirty numbers (plus the three smallest primes). The steps from one to the next, starting from 7, cycle through 4, 2, 4, 2, 4, 6, 2, 6. That&#39;s still easy enough to implement and yields another speedup by a factor of 1.25 (minus a bit for more complicated code). Going further, the multiples of 7 would be eliminated, leaving 48 out of every 210 numbers to divide by, then 11 (480/2310), 13 (5760/30030) and so on. Each prime `p` whose multiples are eliminated yields a speedup of (almost) `p/(p-1)`, so the return decreases while the cost (code complexity, space for the lookup table for the steps) increases with each prime.\r\n\r\nIn general, one would stop soonish, after eliminating the multiples of maybe six or seven primes (or even fewer). Here, however, we can follow through to the very end, when the multiples of all primes have been eliminated and only the primes are left as candidate divisors. Since we are finding all primes in order, each prime is found before it is needed as a candidate divisor and can then be stored for future use. This reduces the algorithmic complexity to - if I haven&#39;t miscalculated - O(n&lt;sup&gt;1.5&lt;/sup&gt; / √(log n)). At the cost of space usage for storing the primes.\r\n\r\nWith trial division, that is as good as it gets, you have to try and divide by all primes to `√n` or the first dividing `n` to determine the primality of `n`. That finds the hundred-millionth prime in about half an hour here.\r\n\r\nSo how about\r\n\r\n### Fast primality tests\r\n\r\nPrimes have other number-theoretic properties than the absence of nontrivial divisors which composite numbers usually don&#39;t have. Such properties, if they are fast to check, can form the basis of probabilistic or deterministic primality tests. The archetypical such property is associated with the name of Pierre de Fermat, who, in the early 17&lt;sup&gt;th&lt;/sup&gt; century, found that\r\n\r\n&gt; If `p` is a prime, then `p` is a divisor of (a&lt;sup&gt;p&lt;/sup&gt;-a) for all `a`.\r\n\r\nThis - Fermat&#39;s so-called &#39;little theorem&#39; - is, in the equivalent formulation\r\n\r\n&gt; Let `p` be a prime and `a` not divisible by `p`. Then `p` divides a&lt;sup&gt;p-1&lt;/sup&gt; - 1.\r\n\r\nthe basis of most of the widespread fast primality tests (for example Miller-Rabin) and variants or analogues of that appear in even more (e.g. Lucas-Selfridge).\r\n\r\nSo if we want to know if a not too small odd number `n` is a prime (even and small numbers are efficiently treated by trial division), we can choose any number `a` (&gt; 1) which is not a multiple of `n`, for example 2, and check whether `n` divides a&lt;sup&gt;n-1&lt;/sup&gt; - 1. Since a&lt;sup&gt;n-1&lt;/sup&gt; becomes huge, that is most efficiently done by checking whether\r\n`a^(n-1) ≡ 1 (mod n)`, i.e. by modular exponentiation. If that congruence doesn&#39;t hold, we know that `n` is composite. If it holds, however, we cannot conclude that `n` is prime, for example `2^340 ≡ 1 (mod 341)`, but `341 = 11 * 31` is composite. Composite numbers `n` such that `a^(n-1) ≡ 1 (mod n)` are called Fermat pseudoprimes for the base `a`.\r\n\r\nBut such occurrences are rare. Given any base `a &gt; 1`, although there are an infinite number of Fermat pseudoprimes to base `a`, they are much rarer than actual primes. For example, there are only 78 base-2 Fermat pseudoprimes and 76 base-3 Fermat pseudoprimes below 100000, but 9592 primes. So if one chooses an arbitrary odd `n &gt; 1` and an arbitrary base `a &gt; 1` and finds `a^(n-1) ≡ 1 (mod n)`, there&#39;s a good chance that `n` is actually prime.\r\n\r\nHowever, we are in a slightly different situation, we are given `n` and can only choose `a`. So, for an odd composite `n`, for how many `a`, `1 &lt; a &lt; n-1` can `a^(n-1) ≡ 1 (mod n)` hold?\r\nUnfortunately, there are composite numbers - Carmichael numbers - such that the congruence holds for _every_ `a` coprime to `n`. That means that to identify a Carmichael number as composite with the Fermat test, we have to pick a base that is a multiple of one of `n`&#39;s prime divisors - there may not be many such multiples.\r\n\r\nBut we can strengthen the Fermat test so that composites are more reliably detected. If `p` is an odd prime, write `p-1 = 2*m`. Then, if `0 &lt; a &lt; p`,\r\n\r\n    a^(p-1) - 1 = (a^m + 1) * (a^m - 1)\r\n\r\nand `p` divides exactly one of the two factors (the two factors differ by 2, so their greatest common divisor is either 1 or 2). If `m` is even, we can split `a^m - 1` in the same way. Continuing, if `p-1 = 2^s * k` with `k` odd, write\r\n\r\n    a^(p-1) - 1 = (a^(2^(s-1)*k) + 1) * (a^(2^(s-2)*k) + 1) * ... * (a^k + 1) * (a^k - 1)\r\n\r\nthen `p` divides exactly one of the factors. This gives rise to the strong Fermat test,\r\n\r\nLet `n &gt; 2` be an odd number. Write `n-1 = 2^s * k` with `k` odd. Given any `a` with `1 &lt; a &lt; n-1`, if\r\n\r\n1. `a^k ≡ 1 (mod n)` or\r\n2. `a^((2^j)*k) ≡ -1 (mod n)` for any `j` with `0 &lt;= j &lt; s`\r\n\r\nthen `n` is a _strong (Fermat) probable prime_ for base `a`. A composite strong base `a` (Fermat) probable prime is called a strong (Fermat) pseudoprime for the base `a`. Strong Fermat pseudoprimes are even rarer than ordinary Fermat pseudoprimes, below 1000000, there are 78498 primes, 245 base-2 Fermat pseudoprimes and only 46 base-2 strong Fermat pseudoprimes. More importantly, for any odd composite `n`, there are at most `(n-9)/4` bases `1 &lt; a &lt; n-1` for which `n` is a strong Fermat pseudoprime.\r\n\r\nSo if `n` is an odd composite, the probability that `n` passes `k` strong Fermat tests with randomly chosen bases between 1 and `n-1` (exclusive bounds) is less than `1/4^k`.\r\n\r\nA strong Fermat test takes O(log n) steps, each step involves one or two multiplications of numbers with O(log n) bits, so the complexity is O((log n)^3) with naive multiplication [for huge `n`, more sophisticated multiplication algorithms can be worthwhile].\r\n\r\nThe Miller-Rabin test is the k-fold strong Fermat test with randomly chosen bases. It is a probabilistic test, but for small enough bounds, short combinations of bases are known which give a deterministic result.\r\n\r\nStrong Fermat tests are part of the deterministic APRCL test.\r\n\r\nIt is advisable to precede such tests with trial division by the first few small primes, since divisions are comparatively cheap and that weeds out most composites.\r\n\r\nFor the problem of finding the `n`&lt;sup&gt;th&lt;/sup&gt; prime, in the range where testing all numbers for primality is feasible, there are known combinations of bases that make the multiple strong Fermat test correct, so that would give a faster - O(n*(log n)&lt;sup&gt;4&lt;/sup&gt;) - algorithm.\r\n\r\nFor `n &lt; 2^32`, the bases 2, 7, and 61 are sufficient to verify primality. Using that, the hundred-millionth prime is found in about six minutes.\r\n\r\n### Eliminating composites by prime divisors, the Sieve of Eratosthenes\r\n\r\nInstead of investigating the numbers in sequence and checking whether each is prime from scratch, one can also consider the whole set of relevant numbers as one piece and eliminate the multiples of a given prime in one go. This is known as the Sieve of Eratosthenes:\r\n\r\nTo find the prime numbers not exceeding `N`\r\n\r\n1. make a list of all numbers from 2 to `N`\r\n2. for each `k` from 2 to `N`: if `k` is not yet crossed off, it is prime; cross off all multiples of `k` as composites\r\n\r\nThe primes are the numbers in the list which aren&#39;t crossed off.\r\n\r\nThis algorithm is fundamentally different from trial division, although both directly use the divisibility characterisation of primes, in contrast to the Fermat test and similar tests which use other properties of primes.\r\n\r\nIn trial division, each number `n` is paired with all primes not exceeding the smaller of `√n` and the smallest prime divisor of `n`. Since most composites have a very small prime divisor, detecting composites is cheap here on average. But testing primes is expensive, since there are relatively many primes below `√n`. Although there are many more composites than primes, the cost of testing primes is so high that it completely dominates the overall running time and renders trial division a relatively slow algorithm. Trial division for all numbers less than `N` takes O(N&lt;sup&gt;1.5&lt;/sup&gt; / (log N)&#178;) steps.\r\n\r\nIn the sieve, each composite `n` is paired with all of its prime divisors, but _only_ with those. Thus there the primes are the cheap numbers, they are only ever looked at once, while the composites are more expensive, they are crossed off multiple times. One might believe that since a sieve contains many more &#39;expensive&#39; numbers than &#39;cheap&#39; ones, it would overall be a bad algorithm. However, a composite number does not have many distinct prime divisors - the number of distinct prime divisors of `n` is bounded by `log n`, but usually it is _much_ smaller, the average of the number of distinct prime divisors of the numbers `&lt;= n` is `log log n` - so even the &#39;expensive&#39; numbers in the sieve are on average no more (or hardly more) expensive than the &#39;cheap&#39; numbers for trial division.\r\n\r\nSieving up to `N`, for each prime `p`, there are `Θ(N/p)` multiples to cross off, so the total number of crossings-off is `Θ(∑ (N/p)) = Θ(N * log (log N))`. This yields **much** faster algorithms for finding the primes up to `N` than trial division or sequential testing with the faster primality tests.\r\n\r\nThere is, however, a disadvantage to the sieve, it uses `O(N)` memory. (But with a segmented sieve, that can be reduced to `O(√N)` without increasing the time complexity.)\r\n\r\nFor finding the `n`&lt;sup&gt;th&lt;/sup&gt; prime, instead of the primes up to `N`, there is also the problem that it is not known beforehand how far the sieve should reach.\r\n\r\nThe latter can be solved using the prime number theorem. The PNT says\r\n\r\n    π(x) ~ x/log x (equivalently: lim π(x)*log x/x = 1),\r\n\r\nwhere `π(x)` is the number of primes not exceeding `x` (here and below, `log` must be the natural logarithm, for the algorithmic complexities it is not important which base is chosen for the logarithms). From that, it follows that `p(n) ~ n*log n`, where `p(n)` is the `n`&lt;sup&gt;th&lt;/sup&gt; prime, and there are good upper bounds for `p(n)` known from deeper analysis, in particular\r\n\r\n    n*(log n + log (log n) - 1) &lt; p(n) &lt; n*(log n + log (log n)), for n &gt;= 6.\r\n\r\nSo one can use that as the sieving limit, it doesn&#39;t exceed the target far.\r\n\r\nThe `O(N)` space requirement can be overcome by using a segmented sieve. One can then record the primes below `√N` for `O(√N / log N)` memory consumption and use segments of increasing length (O(√N) when the sieve is near N).\r\n\r\nThere are some easy improvements on the algorithm as stated above:\r\n\r\n1. start crossing off multiples of `p` only at `p&#178;`, not at `2*p`\r\n2. eliminate the even numbers from the sieve\r\n3. eliminate the multiples of further small primes from the sieve\r\n\r\nNone of these reduce the algorithmic complexity, but they all reduce the constant factors by a significant amount (as with trial division, the elimination of multiples of `p` yields lesser speedup for larger `p` while increasing the code complexity more than for smaller `p`).\r\n\r\nUsing the first two improvements yields\r\n\r\n    // Entry k in the array represents the number 2*k+3, so we have to do\r\n    // a bit of arithmetic to get the indices right.\r\n    public static int nthPrime(int n) {\r\n        if (n &lt; 2) return 2;\r\n        if (n == 2) return 3;\r\n        int limit, root, count = 1;\r\n        limit = (int)(n*(Math.log(n) + Math.log(Math.log(n)))) + 3;\r\n        root = (int)Math.sqrt(limit) + 1;\r\n        limit = (limit-1)/2;\r\n        root = root/2 - 1;\r\n        boolean[] sieve = new boolean[limit];\r\n        for(int i = 0; i &lt; root; ++i) {\r\n            if (!sieve[i]) {\r\n                ++count;\r\n                for(int j = 2*i*(i+3)+3, p = 2*i+3; j &lt; limit; j += p) {\r\n                    sieve[j] = true;\r\n                }\r\n            }\r\n        }\r\n        int p;\r\n        for(p = root; count &lt; n; ++p) {\r\n            if (!sieve[p]) {\r\n                ++count;\r\n            }\r\n        }\r\n        return 2*p+1;\r\n    }\r\n\r\nwhich finds the hundred-millionth prime, 2038074743, in about 18 seconds. This time can be reduced to about 15 seconds (here, YMMV) by storing the flags packed, one bit per flag, instead of as `boolean`s, since the reduced memory usage gives better cache locality.\r\n\r\nPacking the flags, eliminating also multiples of 3 and using bit-twiddling for faster faster counting,\r\n\r\n    // Count number of set bits in an int\r\n    public static int popCount(int n) {\r\n        n -= (n &gt;&gt;&gt; 1) &amp; 0x55555555;\r\n        n = ((n &gt;&gt;&gt; 2) &amp; 0x33333333) + (n &amp; 0x33333333);\r\n        n = ((n &gt;&gt; 4) &amp; 0x0F0F0F0F) + (n &amp; 0x0F0F0F0F);\r\n        return (n * 0x01010101) &gt;&gt; 24;\r\n    }\r\n\r\n    // Speed up counting by counting the primes per\r\n    // array slot and not individually. This yields\r\n    // another factor of about 1.24 or so.\r\n    public static int nthPrime(int n) {\r\n        if (n &lt; 2) return 2;\r\n        if (n == 2) return 3;\r\n        if (n == 3) return 5;\r\n        int limit, root, count = 2;\r\n        limit = (int)(n*(Math.log(n) + Math.log(Math.log(n)))) + 3;\r\n        root = (int)Math.sqrt(limit);\r\n        switch(limit%6) {\r\n            case 0:\r\n                limit = 2*(limit/6) - 1;\r\n                break;\r\n            case 5:\r\n                limit = 2*(limit/6) + 1;\r\n                break;\r\n            default:\r\n                limit = 2*(limit/6);\r\n        }\r\n        switch(root%6) {\r\n            case 0:\r\n                root = 2*(root/6) - 1;\r\n                break;\r\n            case 5:\r\n                root = 2*(root/6) + 1;\r\n                break;\r\n            default:\r\n                root = 2*(root/6);\r\n        }\r\n        int dim = (limit+31) &gt;&gt; 5;\r\n        int[] sieve = new int[dim];\r\n        for(int i = 0; i &lt; root; ++i) {\r\n            if ((sieve[i &gt;&gt; 5] &amp; (1 &lt;&lt; (i&amp;31))) == 0) {\r\n                int start, s1, s2;\r\n                if ((i &amp; 1) == 1) {\r\n                    start = i*(3*i+8)+4;\r\n                    s1 = 4*i+5;\r\n                    s2 = 2*i+3;\r\n                } else {\r\n                    start = i*(3*i+10)+7;\r\n                    s1 = 2*i+3;\r\n                    s2 = 4*i+7;\r\n                }\r\n                for(int j = start; j &lt; limit; j += s2) {\r\n                    sieve[j &gt;&gt; 5] |= 1 &lt;&lt; (j&amp;31);\r\n                    j += s1;\r\n                    if (j &gt;= limit) break;\r\n                    sieve[j &gt;&gt; 5] |= 1 &lt;&lt; (j&amp;31);\r\n                }\r\n            }\r\n        }\r\n        int i;\r\n        for(i = 0; count &lt; n; ++i) {\r\n            count += popCount(~sieve[i]);\r\n        }\r\n        --i;\r\n        int mask = ~sieve[i];\r\n        int p;\r\n        for(p = 31; count &gt;= n; --p) {\r\n            count -= (mask &gt;&gt; p) &amp; 1;\r\n        }\r\n        return 3*(p+(i&lt;&lt;5))+7+(p&amp;1);\r\n    }\r\n\r\nfinds the hundred-millionth prime in about 9 seconds, which is not unbearably long.\r\n\r\nThere are other types of prime sieves, of particular interest is the Sieve of Atkin, which exploits the fact that certain congruence classes of (rational) primes are composites in the ring of algebraic integers of some quadratic extensions of ℚ. Here is not the place to expand on the mathematical theory, suffice it to say that the Sieve of Atkin has lower algorithmic complexity than the Sieve of Eratosthenes and hence is preferable for large limits (for small limits, a not overly optimised Atkin sieve has higher overhead and thus can be slower than a comparably optimised Eratosthenes sieve).\r\nD. J. Bernstein&#39;s [primegen](http://cr.yp.to/primegen.html) library (written in C) is well optimised for numbers below 2&lt;sup&gt;32&lt;/sup&gt; and finds the hundred-millionth prime (here) in about 1.1 seconds.\r\n\r\n## The fast way\r\n\r\nIf we only want to find the `n`&lt;sup&gt;th&lt;/sup&gt; prime, there is no intrinsic value in also finding all the smaller primes. If we can skip most of them, we can save a lot of time and work. Given a good approximation `a(n)` to the `n`&lt;sup&gt;th&lt;/sup&gt; prime `p(n)`, if we have a fast way to calculate the number of primes `π(a(n))` not exceeding `a(n)`, we can then sieve a small range above or below `a(n)` to identify the few missing or excess primes between `a(n)` and `p(n)`.\r\n\r\nWe have seen an easily computed fairly good approximation to `p(n)` above, we could take\r\n\r\n    a(n) = n*(log n + log (log n))\r\n\r\nfor example.\r\n\r\nA good method to compute `π(x)` is the [Meissel-Lehmer method](http://en.wikipedia.org/wiki/Prime-counting_function#Algorithms_for_evaluating_.CF.80.28x.29), which computes `π(x)` in roughly `O(x^0.7)` time (the exact complexity depends on the implementation, a refinement by Lagarias, Miller, Odlyzko, Del&#233;glise and Rivat lets one compute `π(x)` in O(x&lt;sup&gt;2/3&lt;/sup&gt; / log&#178; x) time).\r\n\r\nStarting with the simple approximation `a(n)`, we compute `e(n) = π(a(n)) - n`. By the prime number theorem, the density of primes near `a(n)` is about `1/log a(n)`, so we expect `p(n)` to be near `b(n) = a(n) - log a(n)*e(n)` and we would sieve a range slightly larger than `log a(n)*e(n)`. For greater confidence that `p(n)` is in the sieved range, one can increase the range by a factor of 2, say, which almost certainly will be large enough. If the range seems too large, one can iterate with the better approximation `b(n)` in place of `a(n)`, compute `π(b(n))` and `f(n) = π((b(n)) - n`. Typically, `|f(n)|` will be much smaller than `|e(n)|`. If `f(n)` is approximately `-e(n)`, `c(n) = (a(n) + b(n)) / 2` will be a better approximation to `p(n)`. Only in the very unlikely case that `f(n)` is very close to `e(n)` (and not very close to 0), finding a sufficiently good approximation to `p(n)` that the final sieving stage can be done in time comparable to computing `π(a(n))` becomes a problem.\r\n\r\nIn general, after one or two improvements to the initial approximation, the range to be sieved is small enough for the sieving stage to have a complexity of O(n^0.75) or better.\r\n\r\nThis method finds the hundred-millionth prime in about 40 milliseconds, and the 10&lt;sup&gt;12&lt;/sup&gt;-th prime, 29996224275833, in under eight seconds.\r\n\r\n----\r\n\r\n**tl;dr:** Finding the `n`&lt;sup&gt;th&lt;/sup&gt; prime can be efficiently done, but the more efficient you want it, the more mathematics is involved.\r\n\r\n----\r\n\r\nI have Java code for most of the discussed algorithms prepared [here](https://bitbucket.org/dafis/javaprimes), in case somebody wants to play around with them.\r\n\r\n----\r\n\r\n&#185; Aside remark for overinterested souls: The definition of primes used in modern mathematics is different, applicable in much more general situations. If we adapt the school definition to include negative numbers - so a number is prime if it&#39;s neither 1 nor -1 and divisible only by 1, -1, itself and its negative - that defines (for integers) what is nowadays called an _irreducible_ element of ℤ, however, for integers, the definitions of prime and irreducible elements coincide.\r\n\r\n\r\n\r\n","title":"Calculating and printing the nth prime number","body":"<p>To calculate the n-th prime, I know two main variants.</p>\n\n<h2>The straightforward way</h2>\n\n<p>That is to count all the primes starting from 2 as you find them until you have reached the desired n<sup>th</sup>.</p>\n\n<p>This can be done with different levels of sophistication and efficiency, and there are two conceptually different ways to do it. The first is</p>\n\n<h3>Testing the primality of all numbers in sequence</h3>\n\n<p>This would be accomplished by a driver function like</p>\n\n<pre><code>public static int nthPrime(int n) {\n    int candidate, count;\n    for(candidate = 2, count = 0; count &lt; n; ++candidate) {\n        if (isPrime(candidate)) {\n            ++count;\n        }\n    }\n    // The candidate has been incremented once after the count reached n\n    return candidate-1;\n}\n</code></pre>\n\n<p>and the interesting part that determines the efficiency is the <code>isPrime</code> function.</p>\n\n<p>The obvious way for a primality check, given the definition of a prime as a number greater than 1 that is divisible only by 1 and by itself that we learned in school¹, is</p>\n\n<h3>Trial division</h3>\n\n<p>The direct translation of the definition into code is</p>\n\n<pre><code>private static boolean isPrime(int n) {\n    for(int i = 2; i &lt; n; ++i) {\n        if (n % i == 0) {\n            // We are naive, but not stupid, if\n            // the number has a divisor other\n            // than 1 or itself, we return immediately.\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n\n<p>but, as you will soon discover if you try it, its simplicity is accompanied by slowness.\nWith that primality test, you can find the 1000<sup>th</sup> prime, 7919, in a few milliseconds (about 20 on my computer), but finding the 10000<sup>th</sup> prime, 104729, takes seconds (~2.4s), the 100000<sup>th</sup> prime,1299709, several minutes (about 5), the millionth prime, 15485863, would take about eight and a half hours, the ten-millionth prime, 179424673, weeks, and so on. The runtime complexity is worse than quadratic - Θ(n² * log n).</p>\n\n<p>So we'd like to speed the primality test up somewhat. A step that many people take is the realisation that a divisor of <code>n</code> (other than <code>n</code> itself) can be at most <code>n/2</code>.\nIf we use that fact and let the trial division loop only run to <code>n/2</code> instead of <code>n-1</code>, how does the running time of the algorithm change?\nFor composite numbers, the lower loop limit doesn't change anything. For primes, the number of trial divisions is halved, so overall, the running time should be reduced by a factor somewhat smaller than 2. If you try it out, you will find that the running time is almost exactly halved, so <strong>almost all the time is spent verifying the primality of primes</strong> despite there being many more composites than primes.</p>\n\n<p>Now, that didn't help much if we want to find the one-hundred-millionth prime, so we have to do better. Trying to reduce the loop limit further, let us see for what numbers the upper bound of <code>n/2</code> is actually needed. If <code>n/2</code> is a divisor of <code>n</code>, then <code>n/2</code> is an integer, in other words, <code>n</code> is divisible by 2. But then the loop doesn't go past 2, so it never (except for <code>n = 4</code>) reaches <code>n/2</code>. Jolly good, so what's the next largest possible divisor of <code>n</code>?\nWhy, <code>n/3</code> of course. But <code>n/3</code> can only be a divisor of <code>n</code> if it is an integer, in other words, if <code>n</code> is divisible by 3. Then the loop will exit at 3 (or before, at 2) and never reach <code>n/3</code> (except for <code>n = 9</code>). The next largest possible divisor ...</p>\n\n<p>Hang on a minute! We have <code>2 &lt;-&gt; n/2</code> and <code>3 &lt;-&gt; n/3</code>. <strong>The divisors of n come in pairs.</strong></p>\n\n<p>If we consider the pair <code>(d, n/d)</code> of corresponding divisors of <code>n</code>, either <code>d = n/d</code>, i.e. <code>d = √n</code>, or one of them, say <code>d</code>, is smaller than the other. But then <code>d*d &lt; d*(n/d) = n</code> and <code>d &lt; √n</code>. Each pair of corresponding divisors of <code>n</code> contains (at least) one which does not exceed <code>√n</code>.</p>\n\n<p><strong>If</strong> <code>n</code> <strong>is composite, its smallest nontrivial divisor does not exceed</strong> <code>√n</code>.</p>\n\n<p>So we can reduce the loop limit to <code>√n</code>, and that reduces the runtime complexity of the algorithm. It should now be Θ(n<sup>1.5</sup> * √(log n)), but empirically it seems to scale a little bit better - however, there's not enough data to draw reliable conclusions from empirical results.</p>\n\n<p>That finds the millionth prime in about 16 seconds, the ten-millionth in just under nine minutes, and it would find the one-hundred-millionth in about four and a half hours. That's still slow, but a far cry from the ten years or so it would take the naive trial division.</p>\n\n<p>Since there are squares of primes and products of two close primes, like 323 = 17*19, we cannot reduce the limit for the trial division loop below <code>√n</code>. Therefore, while staying with trial division, we must look for other ways to improve the algorithm now.</p>\n\n<p>One easily seen thing is that no prime other than 2 is even, so we need only check odd numbers after we have taken care of 2. That doesn't make much of a difference, though, since the even numbers are the cheapest to find composite - and the bulk of time is still spent verifying the primality of primes. However, if we look at the even numbers as candidate divisors, we see that if <code>n</code> is divisible by an even number, <code>n</code> itself must be even, so (excepting 2) it will have been recognised as composite before division by any even number greater than 2 is attempted. So all divisions by even numbers greater than 2 that occur in the algorithm must necessarily leave a nonzero remainder. We can thus omit these divisions and check for divisibility only by 2 and the odd numbers from 3 to <code>√n</code>. This halves (not quite exactly) the number of divisions required to determine a number as prime or composite and therefore the running time. That's a good start, but can we do better?</p>\n\n<p>Another large family of numbers is the multiples of 3. Every third division we perform is by a multiple of 3, but if <code>n</code> is divisible by one of them, it is also divisible by 3, and hence no division by 9, 15, 21, ... that we perform in our algorithm will ever leave a remainder of 0.\nSo, how can we skip these divisions? Well, the numbers divisible by neither 2 nor 3 are precisely the numbers of the form <code>6*k ± 1</code>. Starting from 5 (since we're only interested in numbers greater than 1), they are 5, 7, 11, 13, 17, 19, ..., the step from one to the next alternates between 2 and 4, which is easy enough, so we can use</p>\n\n<pre><code>private static boolean isPrime(int n) {\n    if (n % 2 == 0) return n == 2;\n    if (n % 3 == 0) return n == 3;\n    int step = 4, m = (int)Math.sqrt(n) + 1;\n    for(int i = 5; i &lt; m; step = 6-step, i += step) {\n        if (n % i == 0) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n\n<p>This gives us another speedup by a factor of (nearly) 1.5, so we'd need about one and a half hours to the hundred-millionth prime.</p>\n\n<p>If we continue this route, the next step is the elimination of multiples of 5. The numbers coprime to 2, 3 and 5 are the numbers of the form</p>\n\n<pre><code>30*k + 1, 30*k + 7, 30*k + 11, 30*k + 13, 30*k + 17, 30*k + 19, 30*k + 23, 30*k + 29\n</code></pre>\n\n<p>so we'd need only divide by eight out of every thirty numbers (plus the three smallest primes). The steps from one to the next, starting from 7, cycle through 4, 2, 4, 2, 4, 6, 2, 6. That's still easy enough to implement and yields another speedup by a factor of 1.25 (minus a bit for more complicated code). Going further, the multiples of 7 would be eliminated, leaving 48 out of every 210 numbers to divide by, then 11 (480/2310), 13 (5760/30030) and so on. Each prime <code>p</code> whose multiples are eliminated yields a speedup of (almost) <code>p/(p-1)</code>, so the return decreases while the cost (code complexity, space for the lookup table for the steps) increases with each prime.</p>\n\n<p>In general, one would stop soonish, after eliminating the multiples of maybe six or seven primes (or even fewer). Here, however, we can follow through to the very end, when the multiples of all primes have been eliminated and only the primes are left as candidate divisors. Since we are finding all primes in order, each prime is found before it is needed as a candidate divisor and can then be stored for future use. This reduces the algorithmic complexity to - if I haven't miscalculated - O(n<sup>1.5</sup> / √(log n)). At the cost of space usage for storing the primes.</p>\n\n<p>With trial division, that is as good as it gets, you have to try and divide by all primes to <code>√n</code> or the first dividing <code>n</code> to determine the primality of <code>n</code>. That finds the hundred-millionth prime in about half an hour here.</p>\n\n<p>So how about</p>\n\n<h3>Fast primality tests</h3>\n\n<p>Primes have other number-theoretic properties than the absence of nontrivial divisors which composite numbers usually don't have. Such properties, if they are fast to check, can form the basis of probabilistic or deterministic primality tests. The archetypical such property is associated with the name of Pierre de Fermat, who, in the early 17<sup>th</sup> century, found that</p>\n\n<blockquote>\n  <p>If <code>p</code> is a prime, then <code>p</code> is a divisor of (a<sup>p</sup>-a) for all <code>a</code>.</p>\n</blockquote>\n\n<p>This - Fermat's so-called 'little theorem' - is, in the equivalent formulation</p>\n\n<blockquote>\n  <p>Let <code>p</code> be a prime and <code>a</code> not divisible by <code>p</code>. Then <code>p</code> divides a<sup>p-1</sup> - 1.</p>\n</blockquote>\n\n<p>the basis of most of the widespread fast primality tests (for example Miller-Rabin) and variants or analogues of that appear in even more (e.g. Lucas-Selfridge).</p>\n\n<p>So if we want to know if a not too small odd number <code>n</code> is a prime (even and small numbers are efficiently treated by trial division), we can choose any number <code>a</code> (> 1) which is not a multiple of <code>n</code>, for example 2, and check whether <code>n</code> divides a<sup>n-1</sup> - 1. Since a<sup>n-1</sup> becomes huge, that is most efficiently done by checking whether\n<code>a^(n-1) ≡ 1 (mod n)</code>, i.e. by modular exponentiation. If that congruence doesn't hold, we know that <code>n</code> is composite. If it holds, however, we cannot conclude that <code>n</code> is prime, for example <code>2^340 ≡ 1 (mod 341)</code>, but <code>341 = 11 * 31</code> is composite. Composite numbers <code>n</code> such that <code>a^(n-1) ≡ 1 (mod n)</code> are called Fermat pseudoprimes for the base <code>a</code>.</p>\n\n<p>But such occurrences are rare. Given any base <code>a &gt; 1</code>, although there are an infinite number of Fermat pseudoprimes to base <code>a</code>, they are much rarer than actual primes. For example, there are only 78 base-2 Fermat pseudoprimes and 76 base-3 Fermat pseudoprimes below 100000, but 9592 primes. So if one chooses an arbitrary odd <code>n &gt; 1</code> and an arbitrary base <code>a &gt; 1</code> and finds <code>a^(n-1) ≡ 1 (mod n)</code>, there's a good chance that <code>n</code> is actually prime.</p>\n\n<p>However, we are in a slightly different situation, we are given <code>n</code> and can only choose <code>a</code>. So, for an odd composite <code>n</code>, for how many <code>a</code>, <code>1 &lt; a &lt; n-1</code> can <code>a^(n-1) ≡ 1 (mod n)</code> hold?\nUnfortunately, there are composite numbers - Carmichael numbers - such that the congruence holds for <em>every</em> <code>a</code> coprime to <code>n</code>. That means that to identify a Carmichael number as composite with the Fermat test, we have to pick a base that is a multiple of one of <code>n</code>'s prime divisors - there may not be many such multiples.</p>\n\n<p>But we can strengthen the Fermat test so that composites are more reliably detected. If <code>p</code> is an odd prime, write <code>p-1 = 2*m</code>. Then, if <code>0 &lt; a &lt; p</code>,</p>\n\n<pre><code>a^(p-1) - 1 = (a^m + 1) * (a^m - 1)\n</code></pre>\n\n<p>and <code>p</code> divides exactly one of the two factors (the two factors differ by 2, so their greatest common divisor is either 1 or 2). If <code>m</code> is even, we can split <code>a^m - 1</code> in the same way. Continuing, if <code>p-1 = 2^s * k</code> with <code>k</code> odd, write</p>\n\n<pre><code>a^(p-1) - 1 = (a^(2^(s-1)*k) + 1) * (a^(2^(s-2)*k) + 1) * ... * (a^k + 1) * (a^k - 1)\n</code></pre>\n\n<p>then <code>p</code> divides exactly one of the factors. This gives rise to the strong Fermat test,</p>\n\n<p>Let <code>n &gt; 2</code> be an odd number. Write <code>n-1 = 2^s * k</code> with <code>k</code> odd. Given any <code>a</code> with <code>1 &lt; a &lt; n-1</code>, if</p>\n\n<ol>\n<li><code>a^k ≡ 1 (mod n)</code> or</li>\n<li><code>a^((2^j)*k) ≡ -1 (mod n)</code> for any <code>j</code> with <code>0 &lt;= j &lt; s</code></li>\n</ol>\n\n<p>then <code>n</code> is a <em>strong (Fermat) probable prime</em> for base <code>a</code>. A composite strong base <code>a</code> (Fermat) probable prime is called a strong (Fermat) pseudoprime for the base <code>a</code>. Strong Fermat pseudoprimes are even rarer than ordinary Fermat pseudoprimes, below 1000000, there are 78498 primes, 245 base-2 Fermat pseudoprimes and only 46 base-2 strong Fermat pseudoprimes. More importantly, for any odd composite <code>n</code>, there are at most <code>(n-9)/4</code> bases <code>1 &lt; a &lt; n-1</code> for which <code>n</code> is a strong Fermat pseudoprime.</p>\n\n<p>So if <code>n</code> is an odd composite, the probability that <code>n</code> passes <code>k</code> strong Fermat tests with randomly chosen bases between 1 and <code>n-1</code> (exclusive bounds) is less than <code>1/4^k</code>.</p>\n\n<p>A strong Fermat test takes O(log n) steps, each step involves one or two multiplications of numbers with O(log n) bits, so the complexity is O((log n)^3) with naive multiplication [for huge <code>n</code>, more sophisticated multiplication algorithms can be worthwhile].</p>\n\n<p>The Miller-Rabin test is the k-fold strong Fermat test with randomly chosen bases. It is a probabilistic test, but for small enough bounds, short combinations of bases are known which give a deterministic result.</p>\n\n<p>Strong Fermat tests are part of the deterministic APRCL test.</p>\n\n<p>It is advisable to precede such tests with trial division by the first few small primes, since divisions are comparatively cheap and that weeds out most composites.</p>\n\n<p>For the problem of finding the <code>n</code><sup>th</sup> prime, in the range where testing all numbers for primality is feasible, there are known combinations of bases that make the multiple strong Fermat test correct, so that would give a faster - O(n*(log n)<sup>4</sup>) - algorithm.</p>\n\n<p>For <code>n &lt; 2^32</code>, the bases 2, 7, and 61 are sufficient to verify primality. Using that, the hundred-millionth prime is found in about six minutes.</p>\n\n<h3>Eliminating composites by prime divisors, the Sieve of Eratosthenes</h3>\n\n<p>Instead of investigating the numbers in sequence and checking whether each is prime from scratch, one can also consider the whole set of relevant numbers as one piece and eliminate the multiples of a given prime in one go. This is known as the Sieve of Eratosthenes:</p>\n\n<p>To find the prime numbers not exceeding <code>N</code></p>\n\n<ol>\n<li>make a list of all numbers from 2 to <code>N</code></li>\n<li>for each <code>k</code> from 2 to <code>N</code>: if <code>k</code> is not yet crossed off, it is prime; cross off all multiples of <code>k</code> as composites</li>\n</ol>\n\n<p>The primes are the numbers in the list which aren't crossed off.</p>\n\n<p>This algorithm is fundamentally different from trial division, although both directly use the divisibility characterisation of primes, in contrast to the Fermat test and similar tests which use other properties of primes.</p>\n\n<p>In trial division, each number <code>n</code> is paired with all primes not exceeding the smaller of <code>√n</code> and the smallest prime divisor of <code>n</code>. Since most composites have a very small prime divisor, detecting composites is cheap here on average. But testing primes is expensive, since there are relatively many primes below <code>√n</code>. Although there are many more composites than primes, the cost of testing primes is so high that it completely dominates the overall running time and renders trial division a relatively slow algorithm. Trial division for all numbers less than <code>N</code> takes O(N<sup>1.5</sup> / (log N)²) steps.</p>\n\n<p>In the sieve, each composite <code>n</code> is paired with all of its prime divisors, but <em>only</em> with those. Thus there the primes are the cheap numbers, they are only ever looked at once, while the composites are more expensive, they are crossed off multiple times. One might believe that since a sieve contains many more 'expensive' numbers than 'cheap' ones, it would overall be a bad algorithm. However, a composite number does not have many distinct prime divisors - the number of distinct prime divisors of <code>n</code> is bounded by <code>log n</code>, but usually it is <em>much</em> smaller, the average of the number of distinct prime divisors of the numbers <code>&lt;= n</code> is <code>log log n</code> - so even the 'expensive' numbers in the sieve are on average no more (or hardly more) expensive than the 'cheap' numbers for trial division.</p>\n\n<p>Sieving up to <code>N</code>, for each prime <code>p</code>, there are <code>Θ(N/p)</code> multiples to cross off, so the total number of crossings-off is <code>Θ(∑ (N/p)) = Θ(N * log (log N))</code>. This yields <strong>much</strong> faster algorithms for finding the primes up to <code>N</code> than trial division or sequential testing with the faster primality tests.</p>\n\n<p>There is, however, a disadvantage to the sieve, it uses <code>O(N)</code> memory. (But with a segmented sieve, that can be reduced to <code>O(√N)</code> without increasing the time complexity.)</p>\n\n<p>For finding the <code>n</code><sup>th</sup> prime, instead of the primes up to <code>N</code>, there is also the problem that it is not known beforehand how far the sieve should reach.</p>\n\n<p>The latter can be solved using the prime number theorem. The PNT says</p>\n\n<pre><code>π(x) ~ x/log x (equivalently: lim π(x)*log x/x = 1),\n</code></pre>\n\n<p>where <code>π(x)</code> is the number of primes not exceeding <code>x</code> (here and below, <code>log</code> must be the natural logarithm, for the algorithmic complexities it is not important which base is chosen for the logarithms). From that, it follows that <code>p(n) ~ n*log n</code>, where <code>p(n)</code> is the <code>n</code><sup>th</sup> prime, and there are good upper bounds for <code>p(n)</code> known from deeper analysis, in particular</p>\n\n<pre><code>n*(log n + log (log n) - 1) &lt; p(n) &lt; n*(log n + log (log n)), for n &gt;= 6.\n</code></pre>\n\n<p>So one can use that as the sieving limit, it doesn't exceed the target far.</p>\n\n<p>The <code>O(N)</code> space requirement can be overcome by using a segmented sieve. One can then record the primes below <code>√N</code> for <code>O(√N / log N)</code> memory consumption and use segments of increasing length (O(√N) when the sieve is near N).</p>\n\n<p>There are some easy improvements on the algorithm as stated above:</p>\n\n<ol>\n<li>start crossing off multiples of <code>p</code> only at <code>p²</code>, not at <code>2*p</code></li>\n<li>eliminate the even numbers from the sieve</li>\n<li>eliminate the multiples of further small primes from the sieve</li>\n</ol>\n\n<p>None of these reduce the algorithmic complexity, but they all reduce the constant factors by a significant amount (as with trial division, the elimination of multiples of <code>p</code> yields lesser speedup for larger <code>p</code> while increasing the code complexity more than for smaller <code>p</code>).</p>\n\n<p>Using the first two improvements yields</p>\n\n<pre><code>// Entry k in the array represents the number 2*k+3, so we have to do\n// a bit of arithmetic to get the indices right.\npublic static int nthPrime(int n) {\n    if (n &lt; 2) return 2;\n    if (n == 2) return 3;\n    int limit, root, count = 1;\n    limit = (int)(n*(Math.log(n) + Math.log(Math.log(n)))) + 3;\n    root = (int)Math.sqrt(limit) + 1;\n    limit = (limit-1)/2;\n    root = root/2 - 1;\n    boolean[] sieve = new boolean[limit];\n    for(int i = 0; i &lt; root; ++i) {\n        if (!sieve[i]) {\n            ++count;\n            for(int j = 2*i*(i+3)+3, p = 2*i+3; j &lt; limit; j += p) {\n                sieve[j] = true;\n            }\n        }\n    }\n    int p;\n    for(p = root; count &lt; n; ++p) {\n        if (!sieve[p]) {\n            ++count;\n        }\n    }\n    return 2*p+1;\n}\n</code></pre>\n\n<p>which finds the hundred-millionth prime, 2038074743, in about 18 seconds. This time can be reduced to about 15 seconds (here, YMMV) by storing the flags packed, one bit per flag, instead of as <code>boolean</code>s, since the reduced memory usage gives better cache locality.</p>\n\n<p>Packing the flags, eliminating also multiples of 3 and using bit-twiddling for faster faster counting,</p>\n\n<pre><code>// Count number of set bits in an int\npublic static int popCount(int n) {\n    n -= (n &gt;&gt;&gt; 1) &amp; 0x55555555;\n    n = ((n &gt;&gt;&gt; 2) &amp; 0x33333333) + (n &amp; 0x33333333);\n    n = ((n &gt;&gt; 4) &amp; 0x0F0F0F0F) + (n &amp; 0x0F0F0F0F);\n    return (n * 0x01010101) &gt;&gt; 24;\n}\n\n// Speed up counting by counting the primes per\n// array slot and not individually. This yields\n// another factor of about 1.24 or so.\npublic static int nthPrime(int n) {\n    if (n &lt; 2) return 2;\n    if (n == 2) return 3;\n    if (n == 3) return 5;\n    int limit, root, count = 2;\n    limit = (int)(n*(Math.log(n) + Math.log(Math.log(n)))) + 3;\n    root = (int)Math.sqrt(limit);\n    switch(limit%6) {\n        case 0:\n            limit = 2*(limit/6) - 1;\n            break;\n        case 5:\n            limit = 2*(limit/6) + 1;\n            break;\n        default:\n            limit = 2*(limit/6);\n    }\n    switch(root%6) {\n        case 0:\n            root = 2*(root/6) - 1;\n            break;\n        case 5:\n            root = 2*(root/6) + 1;\n            break;\n        default:\n            root = 2*(root/6);\n    }\n    int dim = (limit+31) &gt;&gt; 5;\n    int[] sieve = new int[dim];\n    for(int i = 0; i &lt; root; ++i) {\n        if ((sieve[i &gt;&gt; 5] &amp; (1 &lt;&lt; (i&amp;31))) == 0) {\n            int start, s1, s2;\n            if ((i &amp; 1) == 1) {\n                start = i*(3*i+8)+4;\n                s1 = 4*i+5;\n                s2 = 2*i+3;\n            } else {\n                start = i*(3*i+10)+7;\n                s1 = 2*i+3;\n                s2 = 4*i+7;\n            }\n            for(int j = start; j &lt; limit; j += s2) {\n                sieve[j &gt;&gt; 5] |= 1 &lt;&lt; (j&amp;31);\n                j += s1;\n                if (j &gt;= limit) break;\n                sieve[j &gt;&gt; 5] |= 1 &lt;&lt; (j&amp;31);\n            }\n        }\n    }\n    int i;\n    for(i = 0; count &lt; n; ++i) {\n        count += popCount(~sieve[i]);\n    }\n    --i;\n    int mask = ~sieve[i];\n    int p;\n    for(p = 31; count &gt;= n; --p) {\n        count -= (mask &gt;&gt; p) &amp; 1;\n    }\n    return 3*(p+(i&lt;&lt;5))+7+(p&amp;1);\n}\n</code></pre>\n\n<p>finds the hundred-millionth prime in about 9 seconds, which is not unbearably long.</p>\n\n<p>There are other types of prime sieves, of particular interest is the Sieve of Atkin, which exploits the fact that certain congruence classes of (rational) primes are composites in the ring of algebraic integers of some quadratic extensions of ℚ. Here is not the place to expand on the mathematical theory, suffice it to say that the Sieve of Atkin has lower algorithmic complexity than the Sieve of Eratosthenes and hence is preferable for large limits (for small limits, a not overly optimised Atkin sieve has higher overhead and thus can be slower than a comparably optimised Eratosthenes sieve).\nD. J. Bernstein's <a href=\"http://cr.yp.to/primegen.html\" rel=\"noreferrer\">primegen</a> library (written in C) is well optimised for numbers below 2<sup>32</sup> and finds the hundred-millionth prime (here) in about 1.1 seconds.</p>\n\n<h2>The fast way</h2>\n\n<p>If we only want to find the <code>n</code><sup>th</sup> prime, there is no intrinsic value in also finding all the smaller primes. If we can skip most of them, we can save a lot of time and work. Given a good approximation <code>a(n)</code> to the <code>n</code><sup>th</sup> prime <code>p(n)</code>, if we have a fast way to calculate the number of primes <code>π(a(n))</code> not exceeding <code>a(n)</code>, we can then sieve a small range above or below <code>a(n)</code> to identify the few missing or excess primes between <code>a(n)</code> and <code>p(n)</code>.</p>\n\n<p>We have seen an easily computed fairly good approximation to <code>p(n)</code> above, we could take</p>\n\n<pre><code>a(n) = n*(log n + log (log n))\n</code></pre>\n\n<p>for example.</p>\n\n<p>A good method to compute <code>π(x)</code> is the <a href=\"http://en.wikipedia.org/wiki/Prime-counting_function#Algorithms_for_evaluating_.CF.80.28x.29\" rel=\"noreferrer\">Meissel-Lehmer method</a>, which computes <code>π(x)</code> in roughly <code>O(x^0.7)</code> time (the exact complexity depends on the implementation, a refinement by Lagarias, Miller, Odlyzko, Deléglise and Rivat lets one compute <code>π(x)</code> in O(x<sup>2/3</sup> / log² x) time).</p>\n\n<p>Starting with the simple approximation <code>a(n)</code>, we compute <code>e(n) = π(a(n)) - n</code>. By the prime number theorem, the density of primes near <code>a(n)</code> is about <code>1/log a(n)</code>, so we expect <code>p(n)</code> to be near <code>b(n) = a(n) - log a(n)*e(n)</code> and we would sieve a range slightly larger than <code>log a(n)*e(n)</code>. For greater confidence that <code>p(n)</code> is in the sieved range, one can increase the range by a factor of 2, say, which almost certainly will be large enough. If the range seems too large, one can iterate with the better approximation <code>b(n)</code> in place of <code>a(n)</code>, compute <code>π(b(n))</code> and <code>f(n) = π((b(n)) - n</code>. Typically, <code>|f(n)|</code> will be much smaller than <code>|e(n)|</code>. If <code>f(n)</code> is approximately <code>-e(n)</code>, <code>c(n) = (a(n) + b(n)) / 2</code> will be a better approximation to <code>p(n)</code>. Only in the very unlikely case that <code>f(n)</code> is very close to <code>e(n)</code> (and not very close to 0), finding a sufficiently good approximation to <code>p(n)</code> that the final sieving stage can be done in time comparable to computing <code>π(a(n))</code> becomes a problem.</p>\n\n<p>In general, after one or two improvements to the initial approximation, the range to be sieved is small enough for the sieving stage to have a complexity of O(n^0.75) or better.</p>\n\n<p>This method finds the hundred-millionth prime in about 40 milliseconds, and the 10<sup>12</sup>-th prime, 29996224275833, in under eight seconds.</p>\n\n<hr>\n\n<p><strong>tl;dr:</strong> Finding the <code>n</code><sup>th</sup> prime can be efficiently done, but the more efficient you want it, the more mathematics is involved.</p>\n\n<hr>\n\n<p>I have Java code for most of the discussed algorithms prepared <a href=\"https://bitbucket.org/dafis/javaprimes\" rel=\"noreferrer\">here</a>, in case somebody wants to play around with them.</p>\n\n<hr>\n\n<p>¹ Aside remark for overinterested souls: The definition of primes used in modern mathematics is different, applicable in much more general situations. If we adapt the school definition to include negative numbers - so a number is prime if it's neither 1 nor -1 and divisible only by 1, -1, itself and its negative - that defines (for integers) what is nowadays called an <em>irreducible</em> element of ℤ, however, for integers, the definitions of prime and irreducible elements coincide.</p>\n"},{"tags":[],"owner":{"account_id":438088,"reputation":421,"user_id":826143,"accept_rate":83,"display_name":"Zeena"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572605054,"creation_date":1424278782,"answer_id":28589337,"question_id":9625663,"body_markdown":"I just added the missing lines in your own thought process. \r\n\r\n    static int nthPrimeFinder(int n) {\r\n    \r\n    \t\tint counter = 1; // For 1 and 2. assuming n is not 1 or 2.\r\n    \t\tint i = 2;\r\n    \t\tint x = 2;\r\n    \t\tint tempLength = n;\r\n    \t\t\r\n    \t\twhile (counter &lt;= n) {\r\n    \t\t\tfor (; i &lt;= tempLength; i++) {\r\n    \t\t\t\tfor (x = 2; x &lt; i; x++) {\r\n    \t\t\t\t\tif (i % x == 0) {\r\n    \t\t\t\t\t\tbreak;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t\tif (x == i &amp;&amp; counter &lt; n) {\r\n    \t\t\t\t\t//System.out.printf(&quot;\\n%d is prime&quot;, x);\r\n    \t\t\t\t\tcounter++;\r\n    \t\t\t\t\tif (counter == n) {\r\n    \t\t\t\t\t\tSystem.out.printf(&quot;\\n%d is prime&quot;, x);\r\n    \t\t\t\t\t\treturn counter;\r\n    \t\t\t\t\t}\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\ttempLength = tempLength+n;\r\n    \t\t}\r\n    \t\treturn 0;\r\n    \t}","title":"Calculating and printing the nth prime number","body":"<p>I just added the missing lines in your own thought process. </p>\n\n<pre><code>static int nthPrimeFinder(int n) {\n\n        int counter = 1; // For 1 and 2. assuming n is not 1 or 2.\n        int i = 2;\n        int x = 2;\n        int tempLength = n;\n\n        while (counter &lt;= n) {\n            for (; i &lt;= tempLength; i++) {\n                for (x = 2; x &lt; i; x++) {\n                    if (i % x == 0) {\n                        break;\n                    }\n                }\n                if (x == i &amp;&amp; counter &lt; n) {\n                    //System.out.printf(\"\\n%d is prime\", x);\n                    counter++;\n                    if (counter == n) {\n                        System.out.printf(\"\\n%d is prime\", x);\n                        return counter;\n                    }\n                }\n            }\n            tempLength = tempLength+n;\n        }\n        return 0;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5909318,"reputation":1,"user_id":4650081,"display_name":"shravankumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425911216,"creation_date":1425909949,"answer_id":28943952,"question_id":9625663,"body_markdown":"\r\n\r\n    public class prime{\r\n     \tpublic static void main(String ar[])\r\n        {\r\n          int count;\r\n          int no=0;\r\n          for(int i=0;i&lt;1000;i++){\r\n          \tcount=0;\r\n            for(int j=1;j&lt;=i;j++){\r\n            \r\n            if(i%j==0){\r\n              count++;\r\n             }\r\n            }\r\n            if(count==2){\r\n              no++;\r\n              if(no==Integer.parseInt(ar[0])){\r\n             \tSystem.out.println(no+&quot;\\t&quot;+i+&quot;\\t&quot;) ;\r\n              }\r\n            }\r\n          }\r\n        }\r\n    }","title":"Calculating and printing the nth prime number","body":"<pre><code>public class prime{\n    public static void main(String ar[])\n    {\n      int count;\n      int no=0;\n      for(int i=0;i&lt;1000;i++){\n        count=0;\n        for(int j=1;j&lt;=i;j++){\n\n        if(i%j==0){\n          count++;\n         }\n        }\n        if(count==2){\n          no++;\n          if(no==Integer.parseInt(ar[0])){\n            System.out.println(no+\"\\t\"+i+\"\\t\") ;\n          }\n        }\n      }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2405368,"reputation":96,"user_id":2101998,"accept_rate":50,"display_name":"Nitesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1461505616,"creation_date":1461505616,"answer_id":36823959,"question_id":9625663,"body_markdown":"I can see that you have received many correct answers and very detailed one. I believe you are not testing it for very large prime numbers. And your only concern is to avoid printing intermediary prime number by your program.\r\n\r\nA tiny change your program will do the trick.\r\n\r\n&gt; Keep your logic same way and just pull out the print statement outside of loop.\r\n&gt; Break outer loop after n prime numbers.\r\n\r\n    import java.util.Scanner;\r\n    /**\r\n     * Calculates the nth prime number\r\n     * @author {Zyst}\r\n     */\r\n    public class Prime {\r\n        public static void main(String[] args) {\r\n    \r\n            Scanner input = new Scanner(System.in);\r\n            int n, \r\n                i = 2, \r\n                x = 2;\r\n    \r\n            System.out.printf(&quot;This program calculates the nth Prime number\\n&quot;);\r\n            System.out.printf(&quot;Please enter the nth prime number you want to find:&quot;);\r\n            n = input.nextInt();\r\n    \r\n            for(i = 2, x = 2; n &gt; 0; i++) {\r\n                for(x = 2; x &lt; i; x++) {\r\n                    if(i % x == 0) {\r\n                        break;\r\n                    }\r\n                }\r\n                if(x == i) {\r\n                    n--;\r\n                }\r\n            }\r\n            System.out.printf(&quot;\\n%d is prime&quot;, x);\r\n\r\n        }\r\n    }","title":"Calculating and printing the nth prime number","body":"<p>I can see that you have received many correct answers and very detailed one. I believe you are not testing it for very large prime numbers. And your only concern is to avoid printing intermediary prime number by your program.</p>\n\n<p>A tiny change your program will do the trick.</p>\n\n<blockquote>\n  <p>Keep your logic same way and just pull out the print statement outside of loop.\n  Break outer loop after n prime numbers.</p>\n</blockquote>\n\n<pre><code>import java.util.Scanner;\n/**\n * Calculates the nth prime number\n * @author {Zyst}\n */\npublic class Prime {\n    public static void main(String[] args) {\n\n        Scanner input = new Scanner(System.in);\n        int n, \n            i = 2, \n            x = 2;\n\n        System.out.printf(\"This program calculates the nth Prime number\\n\");\n        System.out.printf(\"Please enter the nth prime number you want to find:\");\n        n = input.nextInt();\n\n        for(i = 2, x = 2; n &gt; 0; i++) {\n            for(x = 2; x &lt; i; x++) {\n                if(i % x == 0) {\n                    break;\n                }\n            }\n            if(x == i) {\n                n--;\n            }\n        }\n        System.out.printf(\"\\n%d is prime\", x);\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6200696,"reputation":951,"user_id":4830612,"display_name":"Anuj"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1473625665,"creation_date":1473625665,"answer_id":39440326,"question_id":9625663,"body_markdown":"Using Java 8 parallelStream would be faster. Below is my code for finding Nth prime number\r\n\r\n    public static Integer findNthPrimeNumber(Integer nthNumber) {\r\n        List&lt;Integer&gt; primeList = new ArrayList&lt;&gt;();\r\n        primeList.addAll(Arrays.asList(2, 3));\r\n        Integer initializer = 4;\r\n        while (primeList.size() &lt; nthNumber) {\r\n            if (isPrime(initializer, primeList)) {\r\n                primeList.add(initializer);\r\n            }\r\n            initializer++;\r\n        }\r\n        return primeList.get(primeList.size() - 1);\r\n    }\r\n\r\n    public static Boolean isPrime(Integer input, List&lt;Integer&gt; primeList) {\r\n        return !(primeList.parallelStream().anyMatch(i -&gt; input % i == 0));\r\n    }\r\n\r\n    @Test\r\n    public void findNthPrimeTest() {\r\n        Problem7 inputObj = new Problem7();\r\n        Integer methodOutput = inputObj.findNthPrimeNumber(100);\r\n        Assert.assertEquals((Integer) 541, methodOutput);\r\n        Assert.assertEquals((Integer) 104743, inputObj.findNthPrimeNumber(10001));\r\n    }","title":"Calculating and printing the nth prime number","body":"<p>Using Java 8 parallelStream would be faster. Below is my code for finding Nth prime number</p>\n\n<pre><code>public static Integer findNthPrimeNumber(Integer nthNumber) {\n    List&lt;Integer&gt; primeList = new ArrayList&lt;&gt;();\n    primeList.addAll(Arrays.asList(2, 3));\n    Integer initializer = 4;\n    while (primeList.size() &lt; nthNumber) {\n        if (isPrime(initializer, primeList)) {\n            primeList.add(initializer);\n        }\n        initializer++;\n    }\n    return primeList.get(primeList.size() - 1);\n}\n\npublic static Boolean isPrime(Integer input, List&lt;Integer&gt; primeList) {\n    return !(primeList.parallelStream().anyMatch(i -&gt; input % i == 0));\n}\n\n@Test\npublic void findNthPrimeTest() {\n    Problem7 inputObj = new Problem7();\n    Integer methodOutput = inputObj.findNthPrimeNumber(100);\n    Assert.assertEquals((Integer) 541, methodOutput);\n    Assert.assertEquals((Integer) 104743, inputObj.findNthPrimeNumber(10001));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9436782,"reputation":513,"user_id":7018546,"display_name":"Kashif Faraz Shamsi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644237808,"creation_date":1502591064,"answer_id":45656516,"question_id":9625663,"body_markdown":"Although many correct and detailed explanations are available. but here is my\r\nC implementation:\r\n\r\n    #include&lt;stdio.h&gt;\r\n    \r\n    #include&lt;conio.h&gt;\r\n    \r\n    main() {\r\n      int pk, qd, am, no, c = 0;\r\n      printf(&quot;\\n Enter the Number U want to Find&quot;);\r\n      scanf(&quot;%d&quot;, &amp; no);\r\n      for (pk = 2; pk &lt;= 1000; pk++) {\r\n        am = 0;\r\n        for (qd = 2; qd &lt;= pk / 2; qd++) {\r\n          if (pk % qd == 0) {\r\n            am = 1;\r\n            break;\r\n          }\r\n        }\r\n        if (am == 0)\r\n          c++;\r\n        if (c == no) {\r\n          printf(&quot;%d&quot;, pk);\r\n          break;\r\n        }\r\n      }\r\n      getch();\r\n      return 0;\r\n    }","title":"Calculating and printing the nth prime number","body":"<p>Although many correct and detailed explanations are available. but here is my\nC implementation:</p>\n<pre><code>#include&lt;stdio.h&gt;\n\n#include&lt;conio.h&gt;\n\nmain() {\n  int pk, qd, am, no, c = 0;\n  printf(&quot;\\n Enter the Number U want to Find&quot;);\n  scanf(&quot;%d&quot;, &amp; no);\n  for (pk = 2; pk &lt;= 1000; pk++) {\n    am = 0;\n    for (qd = 2; qd &lt;= pk / 2; qd++) {\n      if (pk % qd == 0) {\n        am = 1;\n        break;\n      }\n    }\n    if (am == 0)\n      c++;\n    if (c == no) {\n      printf(&quot;%d&quot;, pk);\n      break;\n    }\n  }\n  getch();\n  return 0;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3845739,"reputation":6759,"user_id":3187349,"accept_rate":56,"display_name":"Maheshwar Ligade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1567092108,"creation_date":1567092108,"answer_id":57713308,"question_id":9625663,"body_markdown":"This program is an efficient one.  I have added one more check-in if to get the square root of a number and check is it divisible or not if it&#39;s then its not a prime number. this will solve all the problems efficiently. \r\n\r\n    public static void main(String[] args) {\r\n    \r\n                Scanner sc = new Scanner(System.in);\r\n            int T; // number of test cases\r\n            T = sc.nextInt();\r\n            long[] number = new long[T];\r\n            if(1&lt;= T &amp;&amp; T &lt;= 30){\r\n            for(int i =0;i&lt;T;i++){\r\n                number[i]=sc.nextInt(); // read all the numbers\r\n            }\r\n            for(int i =0;i&lt;T;i++){\r\n                if(isPrime(number[i]))\r\n                    System.out.println(&quot;Prime&quot;);\r\n                else\r\n                   System.out.println(&quot;Not prime&quot;);    \r\n            }\r\n        }\r\n        else\r\n          return;\r\n        }\r\n        // is prime or not\r\n        static boolean isPrime(long num){\r\n            if(num==1)\r\n              return false;\r\n            if(num &lt;= 3)\r\n              return true;\r\n            if(num % 2 == 0 || num % 3 == 0 || num % (int)Math.sqrt(num) == 0)\r\n              return false;  \r\n            for(int i=4;i&lt;(int)Math.sqrt(num);i++){\r\n                if(num%i==0)\r\n                  return false;\r\n            }\r\n           return true;     \r\n        }","title":"Calculating and printing the nth prime number","body":"<p>This program is an efficient one.  I have added one more check-in if to get the square root of a number and check is it divisible or not if it's then its not a prime number. this will solve all the problems efficiently. </p>\n\n<pre><code>public static void main(String[] args) {\n\n            Scanner sc = new Scanner(System.in);\n        int T; // number of test cases\n        T = sc.nextInt();\n        long[] number = new long[T];\n        if(1&lt;= T &amp;&amp; T &lt;= 30){\n        for(int i =0;i&lt;T;i++){\n            number[i]=sc.nextInt(); // read all the numbers\n        }\n        for(int i =0;i&lt;T;i++){\n            if(isPrime(number[i]))\n                System.out.println(\"Prime\");\n            else\n               System.out.println(\"Not prime\");    \n        }\n    }\n    else\n      return;\n    }\n    // is prime or not\n    static boolean isPrime(long num){\n        if(num==1)\n          return false;\n        if(num &lt;= 3)\n          return true;\n        if(num % 2 == 0 || num % 3 == 0 || num % (int)Math.sqrt(num) == 0)\n          return false;  \n        for(int i=4;i&lt;(int)Math.sqrt(num);i++){\n            if(num%i==0)\n              return false;\n        }\n       return true;     \n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13045395,"reputation":2899,"user_id":9427395,"display_name":"dasunse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572604019,"creation_date":1572603562,"answer_id":58657521,"question_id":9625663,"body_markdown":"An another solution\r\n\r\n    import java.util.Scanner;\r\n\r\n    public class Prime {\r\n        public static void main(String[] args) {\r\n            Scanner in = new Scanner(System.in);\r\n\r\n            int[] arr = new int[10000000];\r\n            for(int i=2;i&lt;10000000;i++)\r\n            {\r\n                arr[i]=i;\r\n            }\r\n            for(int i=2;i&lt;10000000;i++)\r\n                for(int j=i+i;j&lt;10000000;j+=i)\r\n                    arr[j]=0;\r\n\r\n            int t = in.nextInt();\r\n            for(int a0 = 0; a0 &lt; t; a0++){\r\n                int n = in.nextInt();\r\n                int count=0;\r\n                for(int j=2;j&lt;10000000;j++)\r\n                {\r\n                    if(arr[j]!=0)\r\n                    {\r\n                        count++;\r\n                        if(count==n)\r\n                        {\r\n                            System.out.println(j);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nHope this will help for larger numbers...","title":"Calculating and printing the nth prime number","body":"<p>An another solution</p>\n\n<pre><code>import java.util.Scanner;\n\npublic class Prime {\n    public static void main(String[] args) {\n        Scanner in = new Scanner(System.in);\n\n        int[] arr = new int[10000000];\n        for(int i=2;i&lt;10000000;i++)\n        {\n            arr[i]=i;\n        }\n        for(int i=2;i&lt;10000000;i++)\n            for(int j=i+i;j&lt;10000000;j+=i)\n                arr[j]=0;\n\n        int t = in.nextInt();\n        for(int a0 = 0; a0 &lt; t; a0++){\n            int n = in.nextInt();\n            int count=0;\n            for(int j=2;j&lt;10000000;j++)\n            {\n                if(arr[j]!=0)\n                {\n                    count++;\n                    if(count==n)\n                    {\n                        System.out.println(j);\n                        break;\n                    }\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>Hope this will help for larger numbers...</p>\n"}],"owner":{"account_id":1267162,"reputation":2528,"user_id":1224232,"accept_rate":84,"display_name":"Erick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108935,"favorite_count":0,"down_vote_count":0,"up_vote_count":47,"accepted_answer_id":9704912,"answer_count":11,"score":47,"last_activity_date":1644237808,"creation_date":1331243908,"question_id":9625663,"body_markdown":"I am trying to calculate prime numbers, which I&#39;ve already done. But I want to calculate and print ONLY the nth prime number (User input), while calculating the rest (They won&#39;t be printed) only the nth prime number will be printed.\r\n\r\nHere&#39;s what I&#39;ve written so far:\r\n\r\n    import java.util.Scanner;\r\n    /**\r\n     * Calculates the nth prime number\r\n     * @author {Zyst}\r\n     */\r\n    public class Prime {\r\n        public static void main(String[] args) {\r\n            \r\n            Scanner input = new Scanner(System.in);\r\n            int n, \r\n                i = 2, \r\n                x = 2;\r\n\r\n            System.out.printf(&quot;This program calculates the nth Prime number\\n&quot;);\r\n            System.out.printf(&quot;Please enter the nth prime number you want to find: &quot;);\r\n            n = input.nextInt();\r\n\r\n            for(i = 2, x = 2; i &lt;= n; i++) {\r\n                for(x = 2; x &lt; i; x++) {\r\n                    if(i % x == 0) {\r\n                        break;\r\n                    }\r\n                }\r\n                if(x == i) {\r\n                    System.out.printf(&quot;\\n%d is prime&quot;, x);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nThis is the program I wrote to calculate the prime numbers from 1 to n. However, I want it to only print the nth prime number,\r\n\r\nWhat I&#39;ve thought of doing is making some sort of count int and ++ing it every time it finds a prime, and when the count == n then it prints out that number, but I can&#39;t quite figure out how to land it.\r\n","title":"Calculating and printing the nth prime number","body":"<p>I am trying to calculate prime numbers, which I've already done. But I want to calculate and print ONLY the nth prime number (User input), while calculating the rest (They won't be printed) only the nth prime number will be printed.</p>\n\n<p>Here's what I've written so far:</p>\n\n<pre><code>import java.util.Scanner;\n/**\n * Calculates the nth prime number\n * @author {Zyst}\n */\npublic class Prime {\n    public static void main(String[] args) {\n\n        Scanner input = new Scanner(System.in);\n        int n, \n            i = 2, \n            x = 2;\n\n        System.out.printf(\"This program calculates the nth Prime number\\n\");\n        System.out.printf(\"Please enter the nth prime number you want to find: \");\n        n = input.nextInt();\n\n        for(i = 2, x = 2; i &lt;= n; i++) {\n            for(x = 2; x &lt; i; x++) {\n                if(i % x == 0) {\n                    break;\n                }\n            }\n            if(x == i) {\n                System.out.printf(\"\\n%d is prime\", x);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>This is the program I wrote to calculate the prime numbers from 1 to n. However, I want it to only print the nth prime number,</p>\n\n<p>What I've thought of doing is making some sort of count int and ++ing it every time it finds a prime, and when the count == n then it prints out that number, but I can't quite figure out how to land it.</p>\n"},{"tags":["javascript","java","firebase","web","firebase-cloud-messaging"],"answers":[{"tags":[],"owner":{"account_id":10585400,"reputation":69,"user_id":7797931,"display_name":"J.Porras"},"down_vote_count":1,"up_vote_count":4,"is_accepted":true,"score":3,"last_activity_date":1495800143,"creation_date":1495800143,"answer_id":44201135,"question_id":44198652,"body_markdown":"I&#39;m not sure if there is another way to solve this, but I just created a new notification and used the payload received in the messageReceived method:\r\n\r\n    function messageReceived(payload) {    \r\n      var notificationOptions = {\r\n        body: payload.notification.body,\r\n        icon: payload.notification.icon,\r\n        click_action: payload.notification.click_action\r\n      };\r\n      new Notification(payload.notification.title, notificationOptions);\r\n    }\r\n\r\n","title":"FCM Web - Same foreground and background notification (reuse background notification in foreground)","body":"<p>I'm not sure if there is another way to solve this, but I just created a new notification and used the payload received in the messageReceived method:</p>\n\n<pre><code>function messageReceived(payload) {    \n  var notificationOptions = {\n    body: payload.notification.body,\n    icon: payload.notification.icon,\n    click_action: payload.notification.click_action\n  };\n  new Notification(payload.notification.title, notificationOptions);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4055896,"reputation":141,"user_id":3333935,"display_name":"cristi804"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581851511,"creation_date":1581851511,"answer_id":60247863,"question_id":44198652,"body_markdown":"To work on Android, notifications have to be sent from the serviceWorker.\r\n\r\nTo get the Firebase serviceWorker registration and use that to show the notification, you can do:\r\n\r\n    messaging.onMessage(function(payload) {\r\n        console.log(&quot;onMessage: &quot;, payload);\r\n        navigator.serviceWorker.getRegistration(&#39;/firebase-cloud-messaging-push-scope&#39;).then(registration =&gt; {\r\n            registration.showNotification(\r\n                payload.notification.title,\r\n                payload.notification\r\n            )\r\n        });\r\n    });","title":"FCM Web - Same foreground and background notification (reuse background notification in foreground)","body":"<p>To work on Android, notifications have to be sent from the serviceWorker.</p>\n\n<p>To get the Firebase serviceWorker registration and use that to show the notification, you can do:</p>\n\n<pre><code>messaging.onMessage(function(payload) {\n    console.log(\"onMessage: \", payload);\n    navigator.serviceWorker.getRegistration('/firebase-cloud-messaging-push-scope').then(registration =&gt; {\n        registration.showNotification(\n            payload.notification.title,\n            payload.notification\n        )\n    });\n});\n</code></pre>\n"}],"owner":{"account_id":10585400,"reputation":69,"user_id":7797931,"display_name":"J.Porras"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1387,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":44201135,"answer_count":2,"score":3,"last_activity_date":1644237805,"creation_date":1495792650,"question_id":44198652,"body_markdown":"I would like to know if it&#39;s possible to show the same notification when my website is in foreground, as when it is in background. I don&#39;t want to personalize the looks of the notification, I want to reuse it exactly how it is. \r\n\r\nRight now, I&#39;m handling the arrival of the notification using this function:\r\n\r\n    function messageReceived(payload) {\r\n        // TODO implement actions on message received\r\n        console.log(payload);\r\n    }\r\n\r\nBut I don&#39;t want to do it. Deleting this function doesn&#39;t help.","title":"FCM Web - Same foreground and background notification (reuse background notification in foreground)","body":"<p>I would like to know if it's possible to show the same notification when my website is in foreground, as when it is in background. I don't want to personalize the looks of the notification, I want to reuse it exactly how it is.</p>\n<p>Right now, I'm handling the arrival of the notification using this function:</p>\n<pre><code>function messageReceived(payload) {\n    // TODO implement actions on message received\n    console.log(payload);\n}\n</code></pre>\n<p>But I don't want to do it. Deleting this function doesn't help.</p>\n"},{"tags":["java","sorting","dictionary","collections","java-stream"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":1,"creation_date":1644235783,"post_id":71018315,"comment_id":125542997,"body_markdown":"Does this answer your question? [Sort a Map&lt;Key, Value&gt; by values](https://stackoverflow.com/questions/109383/sort-a-mapkey-value-by-values)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/109383/sort-a-mapkey-value-by-values\">Sort a Map&lt;Key, Value&gt; by values</a>"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1644235797,"post_id":71018315,"comment_id":125543004,"body_markdown":"Create an additional class `CountedAnswer`? Or you can just iterate the `Map.Entry`s.","body":"Create an additional class <code>CountedAnswer</code>? Or you can just iterate the <code>Map.Entry</code>s."},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1644235809,"post_id":71018315,"comment_id":125543012,"body_markdown":"Many different ways. You can use a TreeMap (which does sorting by itself) and provide a Comparator that sorts on your preferred criteria. Then you only need one colluction ... that tree map instance.","body":"Many different ways. You can use a TreeMap (which does sorting by itself) and provide a Comparator that sorts on your preferred criteria. Then you only need one colluction ... that tree map instance."},{"owner":{"account_id":6802882,"reputation":195,"user_id":5235665,"display_name":"hotmeatballsoup"},"score":0,"creation_date":1644236453,"post_id":71018315,"comment_id":125543242,"body_markdown":"@pringi no in that question they are doing the sorting but are not processing the resultant map in the stream-based fashion like I need. I need sorting and stream traversal.","body":"@pringi no in that question they are doing the sorting but are not processing the resultant map in the stream-based fashion like I need. I need sorting and stream traversal."},{"owner":{"account_id":249169,"reputation":19388,"user_id":525036,"accept_rate":25,"display_name":"Didier L"},"score":0,"creation_date":1644237958,"post_id":71018315,"comment_id":125543761,"body_markdown":"The question proposed by @pringi _is_ exactly what you need. Several answers, including the top one, build a `LinkedHashMap` in the order you need. Just call `.entrySet().stream()` on it. Those answers rely on an intermediate `List&lt;Entry&gt;` or `Stream&lt;Entry&gt;` that you could use as well.","body":"The question proposed by @pringi <i>is</i> exactly what you need. Several answers, including the top one, build a <code>LinkedHashMap</code> in the order you need. Just call <code>.entrySet().stream()</code> on it. Those answers rely on an intermediate <code>List&lt;Entry&gt;</code> or <code>Stream&lt;Entry&gt;</code> that you could use as well."},{"owner":{"account_id":6802882,"reputation":195,"user_id":5235665,"display_name":"hotmeatballsoup"},"score":0,"creation_date":1644239724,"post_id":71018315,"comment_id":125544410,"body_markdown":"No it duzzint that question answers another question","body":"No it duzzint that question answers another question"}],"answers":[{"tags":[],"owner":{"account_id":20121469,"reputation":71,"user_id":14755898,"display_name":"AlexM28"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1644237772,"creation_date":1644237772,"answer_id":71018780,"question_id":71018315,"body_markdown":"Use a **LinkedHashMap** instead of a Map. The difference is that the first one has an order, so when you sort it it will remain sorted (until you modify or add new elements)\r\n\r\nBy the way, you can stream over a Map\r\n\r\n    answerCounts.entrySet()\r\n      .stream()\r\n      .sorted(Map.Entry.comparingByValue())\r\n      .forEach(System.out::println);\r\nThis will sort the Map but in the wrong order, and i can&#39;t find a way to reverse it","title":"Converting Java map into ordered collection based on map values","body":"<p>Use a <strong>LinkedHashMap</strong> instead of a Map. The difference is that the first one has an order, so when you sort it it will remain sorted (until you modify or add new elements)</p>\n<p>By the way, you can stream over a Map</p>\n<pre><code>answerCounts.entrySet()\n  .stream()\n  .sorted(Map.Entry.comparingByValue())\n  .forEach(System.out::println);\n</code></pre>\n<p>This will sort the Map but in the wrong order, and i can't find a way to reverse it</p>\n"}],"owner":{"account_id":6802882,"reputation":195,"user_id":5235665,"display_name":"hotmeatballsoup"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":530,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71018780,"answer_count":1,"score":0,"last_activity_date":1644237772,"creation_date":1644235633,"question_id":71018315,"body_markdown":"**Please note:** I see that this question _appears_ similar to [this one](https://stackoverflow.com/questions/109383/sort-a-mapkey-value-by-values) but in that question, they are simply sorting a map. Here I need to extract keys and their values out of a map, sort them and place them, in order into another collection. And that collection must be streamable and present the elements of that stream in the order that the sorting method placed them in.\r\n\r\n---\r\n\r\nJava 11 here. I have the following POJO:\r\n```\r\n@Data // lombok generates ctor, getters, setters, etc.\r\npublic class Answer {\r\n    private String text;\r\n    // ... many other fields here, omitted for brevity\r\n}\r\n```\r\n\r\nI have a `Map&lt;Answer,Integer&gt;` that represents the _number_ of instances for each `Answer`, for example:\r\n```\r\nMap&lt;Answer,Integer&gt; answerCounts = new HashMap&lt;&gt;();\r\nanswerCounts.put(answer1, 14); // answer #1 occurs 14 times\r\nanswerCounts.put(answer2, 7);\r\nanswerCounts.put(answer3, 239);\r\nanswerCounts.put(answer4, 7);\r\nanswerCounts.put(answer5, 54);\r\nanswerCounts.put(answer6, 2);\r\n```\r\n\r\nI would like to convert this map into a collection (likely either a `List` or `Set`) where the `Answer` elements are ordered according to their count values in the map. In the case of &quot;ties&quot; (where two map keys have the same count value) then it doesn&#39;t really matter what order the `Answer` elements appear in, so long as they are sorted correctly according to other, non-tying elements.\r\n\r\nSo using the map example above, I&#39;d like the output of this conversion to be a list/set that provides `Answer` elements in the following order:\r\n\r\n1. Answer #3 (count = 239)\r\n2. Answer #5 (count = 54)\r\n3. Answer #1 (count = 14)\r\n4. Answer #2 (count = 7)\r\n5. Answer #4 (count = 7) (&lt;-- #2 and #4 have same count so their respective order doesn&#39;t matter to me)\r\n6. Answer #6 (count = 2)\r\n\r\n**Any idea how I could accomplish this?** The objective is to have a collection that I can then stream over (`someCollection.stream()...`) and process elements in order of how they appear in the &quot;counts map&quot;.","title":"Converting Java map into ordered collection based on map values","body":"<p><strong>Please note:</strong> I see that this question <em>appears</em> similar to <a href=\"https://stackoverflow.com/questions/109383/sort-a-mapkey-value-by-values\">this one</a> but in that question, they are simply sorting a map. Here I need to extract keys and their values out of a map, sort them and place them, in order into another collection. And that collection must be streamable and present the elements of that stream in the order that the sorting method placed them in.</p>\n<hr />\n<p>Java 11 here. I have the following POJO:</p>\n<pre><code>@Data // lombok generates ctor, getters, setters, etc.\npublic class Answer {\n    private String text;\n    // ... many other fields here, omitted for brevity\n}\n</code></pre>\n<p>I have a <code>Map&lt;Answer,Integer&gt;</code> that represents the <em>number</em> of instances for each <code>Answer</code>, for example:</p>\n<pre><code>Map&lt;Answer,Integer&gt; answerCounts = new HashMap&lt;&gt;();\nanswerCounts.put(answer1, 14); // answer #1 occurs 14 times\nanswerCounts.put(answer2, 7);\nanswerCounts.put(answer3, 239);\nanswerCounts.put(answer4, 7);\nanswerCounts.put(answer5, 54);\nanswerCounts.put(answer6, 2);\n</code></pre>\n<p>I would like to convert this map into a collection (likely either a <code>List</code> or <code>Set</code>) where the <code>Answer</code> elements are ordered according to their count values in the map. In the case of &quot;ties&quot; (where two map keys have the same count value) then it doesn't really matter what order the <code>Answer</code> elements appear in, so long as they are sorted correctly according to other, non-tying elements.</p>\n<p>So using the map example above, I'd like the output of this conversion to be a list/set that provides <code>Answer</code> elements in the following order:</p>\n<ol>\n<li>Answer #3 (count = 239)</li>\n<li>Answer #5 (count = 54)</li>\n<li>Answer #1 (count = 14)</li>\n<li>Answer #2 (count = 7)</li>\n<li>Answer #4 (count = 7) (&lt;-- #2 and #4 have same count so their respective order doesn't matter to me)</li>\n<li>Answer #6 (count = 2)</li>\n</ol>\n<p><strong>Any idea how I could accomplish this?</strong> The objective is to have a collection that I can then stream over (<code>someCollection.stream()...</code>) and process elements in order of how they appear in the &quot;counts map&quot;.</p>\n"},{"tags":["java","user-input"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1644230711,"post_id":71017167,"comment_id":125541090,"body_markdown":"Does this answer your question? [How to get the user input in Java?](https://stackoverflow.com/questions/5287538/how-to-get-the-user-input-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5287538/how-to-get-the-user-input-in-java\">How to get the user input in Java?</a>"},{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":2,"creation_date":1644230802,"post_id":71017167,"comment_id":125541116,"body_markdown":"You are asking twice for user input. (scanner.nextInt)","body":"You are asking twice for user input. (scanner.nextInt)"}],"answers":[{"tags":[],"owner":{"account_id":20121469,"reputation":71,"user_id":14755898,"display_name":"AlexM28"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644232059,"creation_date":1644232059,"answer_id":71017524,"question_id":71017167,"body_markdown":"You are asking for input 2 times in your while condition\r\nUse a variable to save the input and then work with that\r\n\r\n    public static void main(String[] args) throws IOException {\r\n    \t\r\n    \tBufferedReader input = new BufferedReader(new InputStreamReader(System.in));\r\n    \t\r\n    \tString x = input.readLine();\r\n    \twhile (!isInt(x)) {\r\n    \t\tx = input.readLine();\r\n    \t}\r\n    \tSystem.out.println(x);\r\n    }\r\nI ask for input, i get a String, now i have to check if this string can be a number. For that i&#39;ve created a boolean function isInt(String)\r\nTakes the String and returns if it can be a number.\r\n\r\n    public static boolean isInt(String str) {//function that checks if String can be parsed into an integer\r\n    \ttry {\r\n    \t\tInteger.parseInt(str);\r\n    \t\treturn true;\r\n    \t}catch (NumberFormatException e) {\r\n    \t\treturn false;\r\n    \t}\r\n    }\r\nI hope i&#39;ve been helpfull","title":"How to make the program ask the user for input until they give a valid response?","body":"<p>You are asking for input 2 times in your while condition\nUse a variable to save the input and then work with that</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    \n    BufferedReader input = new BufferedReader(new InputStreamReader(System.in));\n    \n    String x = input.readLine();\n    while (!isInt(x)) {\n        x = input.readLine();\n    }\n    System.out.println(x);\n}\n</code></pre>\n<p>I ask for input, i get a String, now i have to check if this string can be a number. For that i've created a boolean function isInt(String)\nTakes the String and returns if it can be a number.</p>\n<pre><code>public static boolean isInt(String str) {//function that checks if String can be parsed into an integer\n    try {\n        Integer.parseInt(str);\n        return true;\n    }catch (NumberFormatException e) {\n        return false;\n    }\n}\n</code></pre>\n<p>I hope i've been helpfull</p>\n"}],"owner":{"account_id":24005057,"reputation":1,"user_id":17989345,"display_name":"Alena"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644237722,"creation_date":1644230532,"question_id":71017167,"body_markdown":"could you please help me to make this program to get a correct number? The program should check the input type, it should be int. Also, the program should check that the value is from 1 to 10. If these conditions are true, the value should be assigned to correctNumber. So far I came up to this piece of code but I have difficulties in making it work properly.\r\n\r\n\r\n    System.out.println(&quot;Enter a number from 1 to 10:&quot;);\r\n        Scanner scanner = new Scanner(System.in);\r\n        while (!scanner.hasNextInt() || !isCorrectNumber(scanner.nextInt())) {\r\n                    System.out.println(&quot;Incorrect input!&quot;);\r\n                    scanner.next();\r\n                }\r\n                int correctNumber = scanner.nextInt();\r\n        \r\n            }\r\n        private static boolean isCorrectNumber(int n) {\r\n            return size &gt;= 1 &amp;&amp; size &lt;= 10;\r\n        }\r\n\r\n\r\n\r\n","title":"How to make the program ask the user for input until they give a valid response?","body":"<p>could you please help me to make this program to get a correct number? The program should check the input type, it should be int. Also, the program should check that the value is from 1 to 10. If these conditions are true, the value should be assigned to correctNumber. So far I came up to this piece of code but I have difficulties in making it work properly.</p>\n<pre><code>System.out.println(&quot;Enter a number from 1 to 10:&quot;);\n    Scanner scanner = new Scanner(System.in);\n    while (!scanner.hasNextInt() || !isCorrectNumber(scanner.nextInt())) {\n                System.out.println(&quot;Incorrect input!&quot;);\n                scanner.next();\n            }\n            int correctNumber = scanner.nextInt();\n    \n        }\n    private static boolean isCorrectNumber(int n) {\n        return size &gt;= 1 &amp;&amp; size &lt;= 10;\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","log4j"],"comments":[{"owner":{"account_id":4271284,"reputation":12416,"user_id":3493036,"accept_rate":81,"display_name":"Patrick"},"score":0,"creation_date":1626335006,"post_id":68302603,"comment_id":120866438,"body_markdown":"can you show the code.","body":"can you show the code."}],"answers":[{"tags":[],"owner":{"account_id":15108154,"reputation":67,"user_id":11623444,"display_name":"giande"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1626362855,"creation_date":1626362855,"answer_id":68396636,"question_id":68302603,"body_markdown":"without dispalying your current implementation it is rather hard to know what has already been attempted. The following code is a method that logs a variable.\r\n```\r\n    private static DataNotFoundException notFound(final long id) {\r\n        log.warn(&quot;Event not found for id: {}&quot;, id);\r\n        return new DataNotFoundException(&quot;No group event found with id &quot; + id);\r\n    }\r\n```\r\nIf the following is what returns a null, then we can use the NullAppender class of Log4j2. I advise looking at the [Apache documentation](https://logging.apache.org/log4j/2.x/manual/extending.html#Appenders) for the boilerplate code necessary to implement the following:\r\n```\r\n@Plugin(name = &quot;Stub&quot;, category = &quot;Core&quot;, elementType = &quot;appender&quot;, printObject = true)\r\npublic final class StubAppender extends AbstractOutputStreamAppender&lt;StubManager&gt; {\r\n \r\n    private StubAppender(String name,\r\n                         Layout&lt;? extends Serializable&gt; layout,\r\n                         Filter filter,\r\n                         boolean ignoreExceptions,\r\n                         StubManager  manager) {\r\n        super(name, layout, filter, ignoreExceptions, true, manager);\r\n    }\r\n \r\n    @PluginFactory\r\n    public static StubAppender createAppender(@PluginAttribute(&quot;name&quot;) String name,\r\n                                              @PluginAttribute(&quot;ignoreExceptions&quot;) boolean ignoreExceptions,\r\n                                              @PluginElement(&quot;Layout&quot;) Layout layout,\r\n                                              @PluginElement(&quot;Filters&quot;) Filter filter) {\r\n \r\n        if (name == null) {\r\n            LOGGER.error(&quot;No name provided for StubAppender&quot;);\r\n            return null;\r\n        }\r\n \r\n        StubManager manager = StubManager.getStubManager(name);\r\n        if (manager == null) {\r\n            return null;\r\n        }\r\n        if (layout == null) {\r\n            layout = PatternLayout.createDefaultLayout();\r\n        }\r\n        return new StubAppender(name, layout, filter, ignoreExceptions, manager);\r\n    }\r\n}\r\n```","title":"Log4j prints json key name when value is null","body":"<p>without dispalying your current implementation it is rather hard to know what has already been attempted. The following code is a method that logs a variable.</p>\n<pre><code>    private static DataNotFoundException notFound(final long id) {\n        log.warn(&quot;Event not found for id: {}&quot;, id);\n        return new DataNotFoundException(&quot;No group event found with id &quot; + id);\n    }\n</code></pre>\n<p>If the following is what returns a null, then we can use the NullAppender class of Log4j2. I advise looking at the <a href=\"https://logging.apache.org/log4j/2.x/manual/extending.html#Appenders\" rel=\"nofollow noreferrer\">Apache documentation</a> for the boilerplate code necessary to implement the following:</p>\n<pre><code>@Plugin(name = &quot;Stub&quot;, category = &quot;Core&quot;, elementType = &quot;appender&quot;, printObject = true)\npublic final class StubAppender extends AbstractOutputStreamAppender&lt;StubManager&gt; {\n \n    private StubAppender(String name,\n                         Layout&lt;? extends Serializable&gt; layout,\n                         Filter filter,\n                         boolean ignoreExceptions,\n                         StubManager  manager) {\n        super(name, layout, filter, ignoreExceptions, true, manager);\n    }\n \n    @PluginFactory\n    public static StubAppender createAppender(@PluginAttribute(&quot;name&quot;) String name,\n                                              @PluginAttribute(&quot;ignoreExceptions&quot;) boolean ignoreExceptions,\n                                              @PluginElement(&quot;Layout&quot;) Layout layout,\n                                              @PluginElement(&quot;Filters&quot;) Filter filter) {\n \n        if (name == null) {\n            LOGGER.error(&quot;No name provided for StubAppender&quot;);\n            return null;\n        }\n \n        StubManager manager = StubManager.getStubManager(name);\n        if (manager == null) {\n            return null;\n        }\n        if (layout == null) {\n            layout = PatternLayout.createDefaultLayout();\n        }\n        return new StubAppender(name, layout, filter, ignoreExceptions, manager);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1626366361,"creation_date":1626365256,"answer_id":68397231,"question_id":68302603,"body_markdown":"You are better off providing **non empty** default value for cases where the variable look up returns null or missing. The current implementation returns the value as is when it can not be resolved. Adding a default value would return the default value when it can&#39;t be resolved.\r\n\r\n    &lt;KeyValuePair key=&quot;status&quot; value=&quot;$${ctx:status:-missingornullorempty}&quot;/&gt;\r\n\r\nAdding an empty default value will remove the field from log message as the log4j json object mappper is configured to only include non empty field (https://github.com/apache/logging-log4j2/blob/master/log4j-layout-jackson-json/src/main/java/org/apache/logging/log4j/jackson/json/Log4jJsonObjectMapper.java#L48) and currently there is no way to configure the object mapper (https://issues.apache.org/jira/browse/LOG4J2-2670). \r\n\r\n\r\n\r\n\r\n","title":"Log4j prints json key name when value is null","body":"<p>You are better off providing <strong>non empty</strong> default value for cases where the variable look up returns null or missing. The current implementation returns the value as is when it can not be resolved. Adding a default value would return the default value when it can't be resolved.</p>\n<pre><code>&lt;KeyValuePair key=&quot;status&quot; value=&quot;$${ctx:status:-missingornullorempty}&quot;/&gt;\n</code></pre>\n<p>Adding an empty default value will remove the field from log message as the log4j json object mappper is configured to only include non empty field (<a href=\"https://github.com/apache/logging-log4j2/blob/master/log4j-layout-jackson-json/src/main/java/org/apache/logging/log4j/jackson/json/Log4jJsonObjectMapper.java#L48\" rel=\"nofollow noreferrer\">https://github.com/apache/logging-log4j2/blob/master/log4j-layout-jackson-json/src/main/java/org/apache/logging/log4j/jackson/json/Log4jJsonObjectMapper.java#L48</a>) and currently there is no way to configure the object mapper (<a href=\"https://issues.apache.org/jira/browse/LOG4J2-2670\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/LOG4J2-2670</a>).</p>\n"},{"tags":[],"owner":{"account_id":11119792,"reputation":2581,"user_id":8163025,"display_name":"saver"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1626828972,"creation_date":1626828972,"answer_id":68462848,"question_id":68302603,"body_markdown":"I wanted to add some details for ```s7vr&#39;s``` answer. I totally agree with answer, but there is work around. The issue with printing empty value is depended on ```jackson-databind``` library. If you use value pattern as below \r\n```\r\n&lt;KeyValuePair key=&quot;status&quot; value=&quot;$${ctx:status:-}&quot;/&gt;\r\n```\r\nand want to put empty string in final json object, you can use the version of ```jackson-databind``` no newer than ```2.10.5```.\r\n\r\nThis means the following configuration will work:\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    &lt;version&gt;2.14.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n    &lt;version&gt;2.10.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"Log4j prints json key name when value is null","body":"<p>I wanted to add some details for <code>s7vr's</code> answer. I totally agree with answer, but there is work around. The issue with printing empty value is depended on <code>jackson-databind</code> library. If you use value pattern as below</p>\n<pre><code>&lt;KeyValuePair key=&quot;status&quot; value=&quot;$${ctx:status:-}&quot;/&gt;\n</code></pre>\n<p>and want to put empty string in final json object, you can use the version of <code>jackson-databind</code> no newer than <code>2.10.5</code>.</p>\n<p>This means the following configuration will work:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n    &lt;version&gt;2.14.1&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n    &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n    &lt;version&gt;2.10.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":12351994,"reputation":1109,"user_id":9010081,"accept_rate":71,"display_name":"masterofdisaster"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1099,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68462848,"answer_count":3,"score":2,"last_activity_date":1644237680,"creation_date":1625751037,"question_id":68302603,"body_markdown":"I am having a problem with printing my context variables by log4j.\r\nIf variable is null then it&#39;s printed like:\r\n{ &quot;status&quot;:&quot;${ctx:status}&quot; }\r\n\r\nBut I want it to be printed like:\r\n{ &quot;status&quot;:&quot;&quot; }\r\n\r\nPlease share your ideas with me.","title":"Log4j prints json key name when value is null","body":"<p>I am having a problem with printing my context variables by log4j.\nIf variable is null then it's printed like:\n{ &quot;status&quot;:&quot;${ctx:status}&quot; }</p>\n<p>But I want it to be printed like:\n{ &quot;status&quot;:&quot;&quot; }</p>\n<p>Please share your ideas with me.</p>\n"},{"tags":["java","unit-testing","junit","junit4"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":4,"creation_date":1644237203,"post_id":71018642,"comment_id":125543493,"body_markdown":"all you have there is a constructor, what is there to test?","body":"all you have there is a constructor, what is there to test?"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1644237935,"post_id":71018642,"comment_id":125543756,"body_markdown":"the only member, the constructor, has 2 parameters - so I can think of tests for: 1) is it constructing an instance (no {other] Exception being thrown by constructor); 2) is the passed message being stored; 3) is the passed Throwable being stored; 4) *eventually* inheritance (some method(s) of super-class)","body":"the only member, the constructor, has 2 parameters - so I can think of tests for: 1) is it constructing an instance (no {other] Exception being thrown by constructor); 2) is the passed message being stored; 3) is the passed Throwable being stored; 4) <i>eventually</i> inheritance (some method(s) of super-class)"},{"owner":{"account_id":5889510,"reputation":119,"user_id":4636563,"accept_rate":22,"display_name":"DeltaRage"},"score":1,"creation_date":1644239422,"post_id":71018642,"comment_id":125544302,"body_markdown":"Have a look at this answer. It may help\nhttps://stackoverflow.com/questions/40268446/junit-5-how-to-assert-an-exception-is-thrown","body":"Have a look at this answer. It may help <a href=\"https://stackoverflow.com/questions/40268446/junit-5-how-to-assert-an-exception-is-thrown\" title=\"junit 5 how to assert an exception is thrown\">stackoverflow.com/questions/40268446/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644237267,"creation_date":1644237267,"answer_id":71018668,"question_id":71018642,"body_markdown":"Testing exceptions in JUnit 5 is done through `Assertions.assertThrows`. You give it an exception type and an action that should throw exceptions of this type. If it doesn&#39;t the assertion fails. If it does it returns the thrown exception, which allows you to perform more assertions on the exception itself.","title":"Unit testing a custom exception in Java","body":"<p>Testing exceptions in JUnit 5 is done through <code>Assertions.assertThrows</code>. You give it an exception type and an action that should throw exceptions of this type. If it doesn't the assertion fails. If it does it returns the thrown exception, which allows you to perform more assertions on the exception itself.</p>\n"}],"owner":{"account_id":18326535,"reputation":47,"user_id":13346039,"display_name":"hotspuds"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1529,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644237323,"creation_date":1644237142,"question_id":71018642,"body_markdown":"Pretty new to Java and trying to practice writing unit tests. I have a few similar custom exceptions to the below and wondering what way I can write a test to cover this.\r\n```\r\npublic class ExampleException extends RuntimeException{\r\n    public ExampleException(String message, Throwable e) {\r\n        super(message, e);\r\n    }\r\n}\r\n```","title":"Unit testing a custom exception in Java","body":"<p>Pretty new to Java and trying to practice writing unit tests. I have a few similar custom exceptions to the below and wondering what way I can write a test to cover this.</p>\n<pre><code>public class ExampleException extends RuntimeException{\n    public ExampleException(String message, Throwable e) {\n        super(message, e);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":10224580,"reputation":307,"user_id":7547670,"display_name":"Mr code."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644237276,"creation_date":1644237276,"answer_id":71018670,"question_id":71017803,"body_markdown":"updating line by line might not be best idea. Instead I suggest\r\n\r\nJob 1\r\n1. Read entire file\r\n2. Write it to the tmp table\r\n\r\nHere write **update query** that join original table and tmp table based on primary key.\r\n\r\nAfter query execution, call second job\r\n\r\nJob 2\r\n1. Read records from table\r\n2. Write it to the file\r\n\r\nFinally clear tmp table for next Job sequence.\r\n\r\nThis Ans is based on my thought process. there might be other best approaches as well.","title":"Spring batch job step up defenition","body":"<p>updating line by line might not be best idea. Instead I suggest</p>\n<p>Job 1</p>\n<ol>\n<li>Read entire file</li>\n<li>Write it to the tmp table</li>\n</ol>\n<p>Here write <strong>update query</strong> that join original table and tmp table based on primary key.</p>\n<p>After query execution, call second job</p>\n<p>Job 2</p>\n<ol>\n<li>Read records from table</li>\n<li>Write it to the file</li>\n</ol>\n<p>Finally clear tmp table for next Job sequence.</p>\n<p>This Ans is based on my thought process. there might be other best approaches as well.</p>\n"}],"owner":{"account_id":10276322,"reputation":1023,"user_id":7583108,"display_name":"Bruno Miguel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":186,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644237276,"creation_date":1644233271,"question_id":71017803,"body_markdown":"Im developing a Spring Batch application, technology which by the way I&#39;m new to.\r\n\r\nI have made some tutoriais, and read some docs in order to prepare myself to this development. \r\nIm already &quot;confortable&quot; with some of the most common APIs (ItemRead, ItemProcessor, ItemWriter, Setps, Tasklets, Jobs, Parameters...)\r\n\r\nMy requirement is simple. \r\n\r\n1 - Read some data from CSV file.\r\n\r\n2 - Fetch an Entity from database by each line of the CSV file.\r\n\r\n3 - Update the state of the Entity.\r\n\r\n4 - Export a new CSV file with some generated data from each Entity.\r\n\r\nMy problem is not how to fetch, how to update or how to export a csv file, but more conceptualy how to setup my JOB.\r\n\r\nThe way I see it I like to end up with a Job something like\r\n\r\n**1 - ItemRead            -&gt; to read the whole csv file.**\r\n\r\n**2 - ItemProcessor   -&gt; to update the entity.**\r\n\r\n**3 - ItemWriter          -&gt; to persist the entity.**\r\n\r\n**4 - ItemWriter          -&gt; to export the new CSV file based on the entity state.**\r\n\r\nDoes it make sense? There&#39;s a better way. Am I missisng some pitfalls?","title":"Spring batch job step up defenition","body":"<p>Im developing a Spring Batch application, technology which by the way I'm new to.</p>\n<p>I have made some tutoriais, and read some docs in order to prepare myself to this development.\nIm already &quot;confortable&quot; with some of the most common APIs (ItemRead, ItemProcessor, ItemWriter, Setps, Tasklets, Jobs, Parameters...)</p>\n<p>My requirement is simple.</p>\n<p>1 - Read some data from CSV file.</p>\n<p>2 - Fetch an Entity from database by each line of the CSV file.</p>\n<p>3 - Update the state of the Entity.</p>\n<p>4 - Export a new CSV file with some generated data from each Entity.</p>\n<p>My problem is not how to fetch, how to update or how to export a csv file, but more conceptualy how to setup my JOB.</p>\n<p>The way I see it I like to end up with a Job something like</p>\n<p><strong>1 - ItemRead            -&gt; to read the whole csv file.</strong></p>\n<p><strong>2 - ItemProcessor   -&gt; to update the entity.</strong></p>\n<p><strong>3 - ItemWriter          -&gt; to persist the entity.</strong></p>\n<p><strong>4 - ItemWriter          -&gt; to export the new CSV file based on the entity state.</strong></p>\n<p>Does it make sense? There's a better way. Am I missisng some pitfalls?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1713048,"reputation":1374,"user_id":1570688,"accept_rate":86,"display_name":"bluelurker"},"score":0,"creation_date":1644182371,"post_id":71011590,"comment_id":125532286,"body_markdown":"Why are you creating 2 objects? One for Student and the other for MonitoredStudent?\nYou are essentialy, populating the Student object but fetching the probation status from MonitoredSudent, which has never been populated.","body":"Why are you creating 2 objects? One for Student and the other for MonitoredStudent? You are essentialy, populating the Student object but fetching the probation status from MonitoredSudent, which has never been populated."},{"owner":{"account_id":12469735,"reputation":13915,"user_id":9078341,"display_name":"Randy Casburn"},"score":1,"creation_date":1644182419,"post_id":71011590,"comment_id":125532298,"body_markdown":"`monStu` is already a student - you created an _IS A_ relationship with the use of `extends`. But, you go on to create two other Student objects. So you have a total three separate Objects that are students. The first `stuName` is only used for the name, the second and separate is `stu` which is used for the scores, and the third `monStu` which is only used for `offProb`. Just use the `monStu` for everything and you should be fine.","body":"<code>monStu</code> is already a student - you created an <i>IS A</i> relationship with the use of <code>extends</code>. But, you go on to create two other Student objects. So you have a total three separate Objects that are students. The first <code>stuName</code> is only used for the name, the second and separate is <code>stu</code> which is used for the scores, and the third <code>monStu</code> which is only used for <code>offProb</code>. Just use the <code>monStu</code> for everything and you should be fine."},{"owner":{"account_id":19441255,"reputation":3,"user_id":14219609,"display_name":"jacob"},"score":0,"creation_date":1644183410,"post_id":71011590,"comment_id":125532516,"body_markdown":"Randy, when erasing all other unnecessary objects, and using monStu for every method call (don&#39;t know why it didn&#39;t occur to me that I could use monStu for method calls outside of MonitoredStudent when the whole section is on inheritance, but I digress) I&#39;m now getting &quot;true&quot; for every input no matter if it fits the condition. Sample: Enter the student&#39;s name:\nBob\nWhat is the minimum passing average score: \n70\nEnter a quiz score: \n69\nWould you like to enter any more scores?: (Y for yes, N for no)\nN\n&#39;s Total Score is: 69.0\n&#39;s Average Score is: 69.0\nIs off academic probation?: true","body":"Randy, when erasing all other unnecessary objects, and using monStu for every method call (don&#39;t know why it didn&#39;t occur to me that I could use monStu for method calls outside of MonitoredStudent when the whole section is on inheritance, but I digress) I&#39;m now getting &quot;true&quot; for every input no matter if it fits the condition. Sample: Enter the student&#39;s name: Bob What is the minimum passing average score:  70 Enter a quiz score:  69 Would you like to enter any more scores?: (Y for yes, N for no) N &#39;s Total Score is: 69.0 &#39;s Average Score is: 69.0 Is off academic probation?: true"},{"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"score":0,"creation_date":1644237558,"post_id":71011590,"comment_id":125543616,"body_markdown":"small tip: `isOffProbation` can just be implemented as `return getAverageScore() &gt;= minPassingAvg;`. Any code of the form `if (condition) return true; else return false;` can be written as `return condition;`","body":"small tip: <code>isOffProbation</code> can just be implemented as <code>return getAverageScore() &gt;= minPassingAvg;</code>. Any code of the form <code>if (condition) return true; else return false;</code> can be written as <code>return condition;</code>"}],"answers":[{"tags":[],"owner":{"account_id":1713048,"reputation":1374,"user_id":1570688,"accept_rate":86,"display_name":"bluelurker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644182859,"creation_date":1644182859,"answer_id":71011828,"question_id":71011590,"body_markdown":"You main class should be something like this.\r\n\r\n    public class MonitoredStudentTester {\r\n    \r\n      public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n        MonitoredStudent monStu = new MonitoredStudent();\r\n        String repeat = &quot;n&quot;;\r\n        int currentScore = 0;\r\n        int minPassAv;\r\n    \r\n        System.out.println(&quot;Enter the student&#39;s name:&quot;);\r\n        monStu.setName(scan.next());\r\n        System.out.println(&quot;What is the minimum passing average score: &quot;);\r\n        minPassAv = scan.nextInt();\r\n    \r\n        do {\r\n          System.out.println(&quot;Enter a quiz score: &quot;);\r\n          currentScore = scan.nextInt();\r\n    \r\n          monStu.addQuiz(currentScore);\r\n          monStu.setMinPassingAvg(minPassAv);\r\n    \r\n          System.out.println(&quot;Would you like to enter any more scores?: (Y for yes, N for no)&quot;);\r\n          scan.nextLine();\r\n          repeat = scan.nextLine();\r\n    \r\n        } while (repeat.equalsIgnoreCase(&quot;y&quot;));\r\n    \r\n        String studName = monStu.getName();\r\n        double totalScore = monStu.getTotalScore();\r\n        double avgScore = monStu.getAverageScore();\r\n        boolean offProb = monStu.isOffProbation();\r\n    \r\n        System.out.println(studName + &quot;&#39;s Total Score is: &quot; + totalScore);\r\n        System.out.println(studName + &quot;&#39;s Average Score is: &quot; + avgScore);\r\n        System.out.println(&quot;Is &quot; + studName + &quot;off academic probation?: &quot; + offProb);\r\n      }\r\n    }\r\n\r\nWhen using inheritance you just need to create an object of child class.","title":"Condition is not verifying the validity of the input","body":"<p>You main class should be something like this.</p>\n<pre><code>public class MonitoredStudentTester {\n\n  public static void main(String[] args) {\n    Scanner scan = new Scanner(System.in);\n    MonitoredStudent monStu = new MonitoredStudent();\n    String repeat = &quot;n&quot;;\n    int currentScore = 0;\n    int minPassAv;\n\n    System.out.println(&quot;Enter the student's name:&quot;);\n    monStu.setName(scan.next());\n    System.out.println(&quot;What is the minimum passing average score: &quot;);\n    minPassAv = scan.nextInt();\n\n    do {\n      System.out.println(&quot;Enter a quiz score: &quot;);\n      currentScore = scan.nextInt();\n\n      monStu.addQuiz(currentScore);\n      monStu.setMinPassingAvg(minPassAv);\n\n      System.out.println(&quot;Would you like to enter any more scores?: (Y for yes, N for no)&quot;);\n      scan.nextLine();\n      repeat = scan.nextLine();\n\n    } while (repeat.equalsIgnoreCase(&quot;y&quot;));\n\n    String studName = monStu.getName();\n    double totalScore = monStu.getTotalScore();\n    double avgScore = monStu.getAverageScore();\n    boolean offProb = monStu.isOffProbation();\n\n    System.out.println(studName + &quot;'s Total Score is: &quot; + totalScore);\n    System.out.println(studName + &quot;'s Average Score is: &quot; + avgScore);\n    System.out.println(&quot;Is &quot; + studName + &quot;off academic probation?: &quot; + offProb);\n  }\n}\n</code></pre>\n<p>When using inheritance you just need to create an object of child class.</p>\n"}],"owner":{"account_id":19441255,"reputation":3,"user_id":14219609,"display_name":"jacob"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71011828,"answer_count":1,"score":0,"last_activity_date":1644237176,"creation_date":1644181105,"question_id":71011590,"body_markdown":"I&#39;m doing an assignment that asks a user to input a student name, and then quiz scores until the user chooses to stop. It then calculates the total score and the average of all those scores and outputs them to the screen.\r\n\r\nWe are moving on to the subject of inheritance and now we are requested to make a class called MonitoredStudent which extends Student. The point of the MonitoredStudent class is to check if the average is above a user inputted average and display whether the student is off academic probation. \r\n\r\nI have got most of the program written and when I input just one score (such as 71, when the average I set is 70) it is still displaying that I am on academic probation, even though the one quiz score is above the average I set of 70.\r\n\r\nThe main issue is that no matter what integer is set for the minimum passing average, I always get a return of false.\r\n\r\nI added the &quot;return false&quot; statement in the isOffProbation method as when I add an if-else statement to check if the averageScore (from the Student class) is less than or equal to minPassingAvg eclipse tells me that the method needs a return type of boolean.\r\n\r\n````\r\npublic class MonitoredStudent extends Student {\r\n\t\r\n\tint minPassingAvg;\r\n\t\r\n\tpublic MonitoredStudent(){\r\n\t\tsuper();\r\n\t\tminPassingAvg = 0;\r\n\t}\r\n\t\r\n\tpublic MonitoredStudent(String name, int minPassingAvg) {\r\n\t\tsuper(name);\r\n\t\tthis.minPassingAvg = minPassingAvg;\r\n\t}\r\n\t\r\n\tpublic int getMinPassingAvg() {\r\n\t\treturn minPassingAvg;\r\n\t}\r\n\t\r\n\tpublic void setMinPassingAvg(int minPassingAvg) {\r\n\t\tthis.minPassingAvg = minPassingAvg;\r\n\t}\r\n\t\r\n\tboolean isOffProbation() {\r\n\t\tif(getAverageScore() &gt;= minPassingAvg)\r\n\t\t\treturn true;\r\n\t\treturn false;\r\n\t}\r\n}\r\n````\r\n\r\nThis is the Student super class:\r\n\r\n```\r\npublic class Student{\r\n\r\n   private String name;\r\n\r\n   private double totalScore;\r\n\r\n   private int quizCount;\r\n  \r\n\r\n   public Student(){  \r\n      name = &quot;&quot;;\r\n      totalScore = 0;\r\n      quizCount = 0;\r\n   }\r\n\r\n\r\n   public Student(String n){  \r\n      name = n;\r\n      totalScore = 0;\r\n      quizCount = 0;\r\n   }\r\n\r\n\r\n   public void setName(String aName){\r\n      name = aName;\r\n   }\r\n   \r\n   \r\n   public String getName(){  \r\n      return name;\r\n   }\r\n\r\n\r\n   public void addQuiz(int score){  \r\n      if(score &gt;= 0 &amp;&amp; score &lt;= 100){\r\n         totalScore = totalScore + score;\r\n         quizCount = quizCount + 1;\r\n      }else{\r\n         System.out.println(&quot;Score must be between 0 and 100, inclusive&quot;);\r\n      }\r\n   }\r\n\r\n\r\n   public double getTotalScore(){  \r\n      return totalScore;\r\n   }\r\n\r\n   public double getAverageScore(){  \r\n      return totalScore / quizCount;\r\n   }   \r\n}\r\n````\r\n\r\nThis is the main method:\r\n\r\n````\r\nimport java.util.Scanner;\r\n\r\npublic class MonitoredStudentTester{\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\tMonitoredStudent monStu = new MonitoredStudent();\r\n\t\tString repeat = &quot;n&quot;;\r\n\t\tint currentScore = 0;\r\n\t\tint minPassAv;\r\n\t\t\r\n\t\tSystem.out.println(&quot;Enter the student&#39;s name:&quot;);\r\n\t\tString stuName = scan.next();\r\n\t\tStudent sName = new Student(stuName);\r\n\t\tSystem.out.println(&quot;What is the minimum passing average score: &quot;);\r\n\t\tminPassAv = scan.nextInt();\r\n\t\t\r\n\t\tStudent stu = new Student();\r\n\t\tdo {\r\n\t\t\tSystem.out.println(&quot;Enter a quiz score: &quot;);\r\n\t\t\tcurrentScore = scan.nextInt();\r\n\t\t\t\r\n\t\t\tstu.addQuiz(currentScore);\r\n\t\t\tmonStu.setMinPassingAvg(currentScore);\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;Would you like to enter any more scores?: (Y for yes, N for no)&quot;);\r\n\t\t\tscan.nextLine();\r\n\t\t\trepeat = scan.nextLine();\r\n\t\t\t\r\n\t\t}while(repeat.equalsIgnoreCase(&quot;y&quot;));\t\r\n\t\t\r\n\t\tString studName = stu.getName();\r\n\t\tdouble totalScore = stu.getTotalScore();\r\n\t    double avgScore = stu.getAverageScore();\r\n\t    boolean offProb = monStu.isOffProbation();\r\n\t    \r\n\t    System.out.println(studName + &quot;&#39;s Total Score is: &quot; + totalScore);\r\n\t    System.out.println(studName + &quot;&#39;s Average Score is: &quot; + avgScore);\r\n\t    System.out.println(&quot;Is &quot; + studName + &quot;off academic probation?: &quot; + offProb);\r\n\t\r\n\t}\r\n}\r\n````\r\n\r\n","title":"Condition is not verifying the validity of the input","body":"<p>I'm doing an assignment that asks a user to input a student name, and then quiz scores until the user chooses to stop. It then calculates the total score and the average of all those scores and outputs them to the screen.</p>\n<p>We are moving on to the subject of inheritance and now we are requested to make a class called MonitoredStudent which extends Student. The point of the MonitoredStudent class is to check if the average is above a user inputted average and display whether the student is off academic probation.</p>\n<p>I have got most of the program written and when I input just one score (such as 71, when the average I set is 70) it is still displaying that I am on academic probation, even though the one quiz score is above the average I set of 70.</p>\n<p>The main issue is that no matter what integer is set for the minimum passing average, I always get a return of false.</p>\n<p>I added the &quot;return false&quot; statement in the isOffProbation method as when I add an if-else statement to check if the averageScore (from the Student class) is less than or equal to minPassingAvg eclipse tells me that the method needs a return type of boolean.</p>\n<pre><code>public class MonitoredStudent extends Student {\n    \n    int minPassingAvg;\n    \n    public MonitoredStudent(){\n        super();\n        minPassingAvg = 0;\n    }\n    \n    public MonitoredStudent(String name, int minPassingAvg) {\n        super(name);\n        this.minPassingAvg = minPassingAvg;\n    }\n    \n    public int getMinPassingAvg() {\n        return minPassingAvg;\n    }\n    \n    public void setMinPassingAvg(int minPassingAvg) {\n        this.minPassingAvg = minPassingAvg;\n    }\n    \n    boolean isOffProbation() {\n        if(getAverageScore() &gt;= minPassingAvg)\n            return true;\n        return false;\n    }\n}\n</code></pre>\n<p>This is the Student super class:</p>\n<pre><code>public class Student{\n\n   private String name;\n\n   private double totalScore;\n\n   private int quizCount;\n  \n\n   public Student(){  \n      name = &quot;&quot;;\n      totalScore = 0;\n      quizCount = 0;\n   }\n\n\n   public Student(String n){  \n      name = n;\n      totalScore = 0;\n      quizCount = 0;\n   }\n\n\n   public void setName(String aName){\n      name = aName;\n   }\n   \n   \n   public String getName(){  \n      return name;\n   }\n\n\n   public void addQuiz(int score){  \n      if(score &gt;= 0 &amp;&amp; score &lt;= 100){\n         totalScore = totalScore + score;\n         quizCount = quizCount + 1;\n      }else{\n         System.out.println(&quot;Score must be between 0 and 100, inclusive&quot;);\n      }\n   }\n\n\n   public double getTotalScore(){  \n      return totalScore;\n   }\n\n   public double getAverageScore(){  \n      return totalScore / quizCount;\n   }   \n}\n</code></pre>\n<p>This is the main method:</p>\n<pre><code>import java.util.Scanner;\n\npublic class MonitoredStudentTester{\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n        MonitoredStudent monStu = new MonitoredStudent();\n        String repeat = &quot;n&quot;;\n        int currentScore = 0;\n        int minPassAv;\n        \n        System.out.println(&quot;Enter the student's name:&quot;);\n        String stuName = scan.next();\n        Student sName = new Student(stuName);\n        System.out.println(&quot;What is the minimum passing average score: &quot;);\n        minPassAv = scan.nextInt();\n        \n        Student stu = new Student();\n        do {\n            System.out.println(&quot;Enter a quiz score: &quot;);\n            currentScore = scan.nextInt();\n            \n            stu.addQuiz(currentScore);\n            monStu.setMinPassingAvg(currentScore);\n            \n            System.out.println(&quot;Would you like to enter any more scores?: (Y for yes, N for no)&quot;);\n            scan.nextLine();\n            repeat = scan.nextLine();\n            \n        }while(repeat.equalsIgnoreCase(&quot;y&quot;));   \n        \n        String studName = stu.getName();\n        double totalScore = stu.getTotalScore();\n        double avgScore = stu.getAverageScore();\n        boolean offProb = monStu.isOffProbation();\n        \n        System.out.println(studName + &quot;'s Total Score is: &quot; + totalScore);\n        System.out.println(studName + &quot;'s Average Score is: &quot; + avgScore);\n        System.out.println(&quot;Is &quot; + studName + &quot;off academic probation?: &quot; + offProb);\n    \n    }\n}\n</code></pre>\n"},{"tags":["java","ssh","jsch"],"answers":[{"tags":[],"owner":{"account_id":2467530,"reputation":1876,"user_id":2150274,"accept_rate":100,"display_name":"Damienknight"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1368194774,"creation_date":1368194774,"answer_id":16484142,"question_id":16468475,"body_markdown":"I suggest looking at the hidden example on the JCraft website: [http://www.jcraft.com/jsch/examples/UserAuthKI.java][1]\r\n\r\nTheir example prompts for username, hostname, password, so it is ready to test out of the box.  I ran it on my network and was able to connect to an AIX server without changing any code.\r\n\r\nNote, their example has a problem (this may be why it is hidden).. it does not ever close the channel.  If you send &#39;exit&#39; the server will disconnect you, but the channel object stays open and your Java program never exits.  I have provided a fix for that here: [https://stackoverflow.com/questions/16298279/never-ending-of-reading-server-response-using-jsch/16319567#16319567][2]\r\n\r\n\r\n  [1]: http://www.jcraft.com/jsch/examples/UserAuthKI.java\r\n  [2]: https://stackoverflow.com/questions/16298279/never-ending-of-reading-server-response-using-jsch/16319567#16319567","title":"Sending commands to remote server through ssh by Java with JSch","body":"<p>I suggest looking at the hidden example on the JCraft website: <a href=\"http://www.jcraft.com/jsch/examples/UserAuthKI.java\" rel=\"nofollow noreferrer\">http://www.jcraft.com/jsch/examples/UserAuthKI.java</a></p>\n\n<p>Their example prompts for username, hostname, password, so it is ready to test out of the box.  I ran it on my network and was able to connect to an AIX server without changing any code.</p>\n\n<p>Note, their example has a problem (this may be why it is hidden).. it does not ever close the channel.  If you send 'exit' the server will disconnect you, but the channel object stays open and your Java program never exits.  I have provided a fix for that here: <a href=\"https://stackoverflow.com/questions/16298279/never-ending-of-reading-server-response-using-jsch/16319567#16319567\">Never ending of reading server response using jSch</a></p>\n"},{"tags":[],"owner":{"account_id":2897519,"reputation":384,"user_id":2484944,"accept_rate":0,"display_name":"Shamnad"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1431937559,"creation_date":1371191990,"answer_id":17102534,"question_id":16468475,"body_markdown":"Try this:\r\n    \r\n    JSch jsch=new JSch();\r\n    Session session=jsch.getSession(remoteHostUserName, RemoteHostName, 22);\r\n    session.setPassword(remoteHostpassword);\r\n    Properties config = new Properties();\r\n    config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n    session.setConfig(config);\r\n    session.connect();\r\n    \r\n    ChannelExec channel=(ChannelExec) session.openChannel(&quot;exec&quot;);\r\n    BufferedReader in=new BufferedReader(new InputStreamReader(channel.getInputStream()));\r\n    channel.setCommand(&quot;pwd;&quot;);\r\n    channel.connect();\r\n    \r\n    String msg=null;\r\n    while((msg=in.readLine())!=null){\r\n      System.out.println(msg);\r\n    }\r\n    \r\n    channel.disconnect();\r\n    session.disconnect();","title":"Sending commands to remote server through ssh by Java with JSch","body":"<p>Try this:</p>\n\n<pre><code>JSch jsch=new JSch();\nSession session=jsch.getSession(remoteHostUserName, RemoteHostName, 22);\nsession.setPassword(remoteHostpassword);\nProperties config = new Properties();\nconfig.put(\"StrictHostKeyChecking\", \"no\");\nsession.setConfig(config);\nsession.connect();\n\nChannelExec channel=(ChannelExec) session.openChannel(\"exec\");\nBufferedReader in=new BufferedReader(new InputStreamReader(channel.getInputStream()));\nchannel.setCommand(\"pwd;\");\nchannel.connect();\n\nString msg=null;\nwhile((msg=in.readLine())!=null){\n  System.out.println(msg);\n}\n\nchannel.disconnect();\nsession.disconnect();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1873480,"reputation":257,"user_id":1695212,"display_name":"gageorge"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1412968104,"creation_date":1412968104,"answer_id":26306390,"question_id":16468475,"body_markdown":"shamnu&#39;s answer above was right.  I couldn&#39;t add a comment to it, so here are a few examples to enhance his answer.  One is how to do a remote execution of &#39;ls -l&#39;, another of &#39;mkdir&#39;, and another of a local to remote copy.  All done with version 0.1.51 of jsch (http://www.jcraft.com/jsch/).\r\n\r\n\r\n      public void remoteLs() throws JSchException, IOException {\r\n        JSch js = new JSch();\r\n        Session s = js.getSession(&quot;myusername&quot;, &quot;myremotemachine.mycompany.com&quot;, 22);\r\n        s.setPassword(&quot;mypassword&quot;);\r\n        Properties config = new Properties();\r\n        config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n        s.setConfig(config);\r\n        s.connect();\r\n    \r\n        Channel c = s.openChannel(&quot;exec&quot;);\r\n        ChannelExec ce = (ChannelExec) c;\r\n        \r\n        ce.setCommand(&quot;ls -l&quot;);\r\n        ce.setErrStream(System.err);\r\n    \r\n        ce.connect();\r\n    \r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(ce.getInputStream()));\r\n        String line;\r\n        while ((line = reader.readLine()) != null) {\r\n          System.out.println(line);\r\n        }\r\n    \r\n        ce.disconnect();\r\n        s.disconnect();\r\n    \r\n        System.out.println(&quot;Exit code: &quot; + ce.getExitStatus());\r\n    \r\n      }\r\n\r\n  \r\n\r\n      public void remoteMkdir() throws JSchException, IOException {\r\n        JSch js = new JSch();\r\n        Session s = js.getSession(&quot;myusername&quot;, &quot;myremotemachine.mycompany.com&quot;, 22);\r\n        s.setPassword(&quot;mypassword&quot;);\r\n        Properties config = new Properties();\r\n        config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n        s.setConfig(config);\r\n        s.connect();\r\n    \r\n        Channel c = s.openChannel(&quot;exec&quot;);\r\n        ChannelExec ce = (ChannelExec) c;\r\n        \r\n        ce.setCommand(&quot;mkdir remotetestdir&quot;);\r\n        ce.setErrStream(System.err);\r\n    \r\n        ce.connect();\r\n    \r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(ce.getInputStream()));\r\n        String line;\r\n        while ((line = reader.readLine()) != null) {\r\n          System.out.println(line);\r\n        }\r\n    \r\n        ce.disconnect();\r\n        s.disconnect();\r\n    \r\n        System.out.println(&quot;Exit code: &quot; + ce.getExitStatus());\r\n    \r\n      }\r\n      \r\n      public void remoteCopy() throws JSchException, IOException, SftpException {\r\n        JSch js = new JSch();\r\n        Session s = js.getSession(&quot;myusername&quot;, &quot;myremotemachine.mycompany.com&quot;, 22);\r\n        s.setPassword(&quot;mypassword&quot;);\r\n        Properties config = new Properties();\r\n        config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n        s.setConfig(config);\r\n        s.connect();\r\n    \r\n        Channel c = s.openChannel(&quot;sftp&quot;);\r\n        ChannelSftp ce = (ChannelSftp) c;\r\n        \r\n        ce.connect();\r\n    \r\n        ce.put(&quot;/home/myuser/test.txt&quot;,&quot;test.txt&quot;);\r\n    \r\n        ce.disconnect();\r\n        s.disconnect();    \r\n      }","title":"Sending commands to remote server through ssh by Java with JSch","body":"<p>shamnu's answer above was right.  I couldn't add a comment to it, so here are a few examples to enhance his answer.  One is how to do a remote execution of 'ls -l', another of 'mkdir', and another of a local to remote copy.  All done with version 0.1.51 of jsch (<a href=\"http://www.jcraft.com/jsch/\" rel=\"noreferrer\">http://www.jcraft.com/jsch/</a>).</p>\n\n<pre><code>  public void remoteLs() throws JSchException, IOException {\n    JSch js = new JSch();\n    Session s = js.getSession(\"myusername\", \"myremotemachine.mycompany.com\", 22);\n    s.setPassword(\"mypassword\");\n    Properties config = new Properties();\n    config.put(\"StrictHostKeyChecking\", \"no\");\n    s.setConfig(config);\n    s.connect();\n\n    Channel c = s.openChannel(\"exec\");\n    ChannelExec ce = (ChannelExec) c;\n\n    ce.setCommand(\"ls -l\");\n    ce.setErrStream(System.err);\n\n    ce.connect();\n\n    BufferedReader reader = new BufferedReader(new InputStreamReader(ce.getInputStream()));\n    String line;\n    while ((line = reader.readLine()) != null) {\n      System.out.println(line);\n    }\n\n    ce.disconnect();\n    s.disconnect();\n\n    System.out.println(\"Exit code: \" + ce.getExitStatus());\n\n  }\n\n\n\n  public void remoteMkdir() throws JSchException, IOException {\n    JSch js = new JSch();\n    Session s = js.getSession(\"myusername\", \"myremotemachine.mycompany.com\", 22);\n    s.setPassword(\"mypassword\");\n    Properties config = new Properties();\n    config.put(\"StrictHostKeyChecking\", \"no\");\n    s.setConfig(config);\n    s.connect();\n\n    Channel c = s.openChannel(\"exec\");\n    ChannelExec ce = (ChannelExec) c;\n\n    ce.setCommand(\"mkdir remotetestdir\");\n    ce.setErrStream(System.err);\n\n    ce.connect();\n\n    BufferedReader reader = new BufferedReader(new InputStreamReader(ce.getInputStream()));\n    String line;\n    while ((line = reader.readLine()) != null) {\n      System.out.println(line);\n    }\n\n    ce.disconnect();\n    s.disconnect();\n\n    System.out.println(\"Exit code: \" + ce.getExitStatus());\n\n  }\n\n  public void remoteCopy() throws JSchException, IOException, SftpException {\n    JSch js = new JSch();\n    Session s = js.getSession(\"myusername\", \"myremotemachine.mycompany.com\", 22);\n    s.setPassword(\"mypassword\");\n    Properties config = new Properties();\n    config.put(\"StrictHostKeyChecking\", \"no\");\n    s.setConfig(config);\n    s.connect();\n\n    Channel c = s.openChannel(\"sftp\");\n    ChannelSftp ce = (ChannelSftp) c;\n\n    ce.connect();\n\n    ce.put(\"/home/myuser/test.txt\",\"test.txt\");\n\n    ce.disconnect();\n    s.disconnect();    \n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7909661,"reputation":9,"user_id":5974091,"display_name":"user5974091"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1456312380,"creation_date":1456312380,"answer_id":35600558,"question_id":16468475,"body_markdown":"     1. List item\r\n    \r\n    import java.io.InputStream;\r\n    \r\n    import com.jcraft.jsch.Channel;\r\n    import com.jcraft.jsch.ChannelExec;\r\n    import com.jcraft.jsch.JSch;\r\n    import com.jcraft.jsch.Session;\r\n     \r\n    public class SSHCommandExecutor {\r\n    \t \r\n        /**\r\n         * @param args\r\n         */\r\n        public static void main(String[] args) {\r\n            String host=&quot;10.75.81.21&quot;;\r\n            String user=&quot;root&quot;;\r\n            String password=&quot;Avaya_123&quot;;\r\n            String command1=&quot;ls -l&quot;;\r\n            try{\r\n                 \r\n                java.util.Properties config = new java.util.Properties(); \r\n                config.put(&quot;StrictHostKeyChecking&quot;, &quot;no&quot;);\r\n                JSch jsch = new JSch();\r\n                Session session=jsch.getSession(user, host, 22);\r\n                session.setPassword(password);\r\n                session.setConfig(config);\r\n                session.connect();\r\n                System.out.println(&quot;Connected&quot;);\r\n                 \r\n                Channel channel=session.openChannel(&quot;exec&quot;);\r\n                ((ChannelExec)channel).setCommand(command1);\r\n                channel.setInputStream(null);\r\n                ((ChannelExec)channel).setErrStream(System.err);\r\n                 \r\n                InputStream in=channel.getInputStream();\r\n                channel.connect();\r\n                byte[] tmp=new byte[1024];\r\n                while(true){\r\n                  while(in.available()&gt;0){\r\n                    int i=in.read(tmp, 0, 1024);\r\n                    if(i&lt;0)break;\r\n                    System.out.print(new String(tmp, 0, i));\r\n                  }`enter code here`\r\n                  if(channel.isClosed()){\r\n                    System.out.println(&quot;exit-status: &quot;+channel.getExitStatus());\r\n                    break;\r\n                  }\r\n                  try{Thread.sleep(1000);}catch(Exception ee){}\r\n                }\r\n                channel.disconnect();\r\n                session.disconnect();\r\n                System.out.println(&quot;DONE&quot;);\r\n            }catch(Exception e){\r\n                e.printStackTrace();\r\n            }\r\n     \r\n        }\r\n     \r\n    \r\n     1. List item\r\n    \r\n    }","title":"Sending commands to remote server through ssh by Java with JSch","body":"<pre><code> 1. List item\n\nimport java.io.InputStream;\n\nimport com.jcraft.jsch.Channel;\nimport com.jcraft.jsch.ChannelExec;\nimport com.jcraft.jsch.JSch;\nimport com.jcraft.jsch.Session;\n\npublic class SSHCommandExecutor {\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        String host=\"10.75.81.21\";\n        String user=\"root\";\n        String password=\"Avaya_123\";\n        String command1=\"ls -l\";\n        try{\n\n            java.util.Properties config = new java.util.Properties(); \n            config.put(\"StrictHostKeyChecking\", \"no\");\n            JSch jsch = new JSch();\n            Session session=jsch.getSession(user, host, 22);\n            session.setPassword(password);\n            session.setConfig(config);\n            session.connect();\n            System.out.println(\"Connected\");\n\n            Channel channel=session.openChannel(\"exec\");\n            ((ChannelExec)channel).setCommand(command1);\n            channel.setInputStream(null);\n            ((ChannelExec)channel).setErrStream(System.err);\n\n            InputStream in=channel.getInputStream();\n            channel.connect();\n            byte[] tmp=new byte[1024];\n            while(true){\n              while(in.available()&gt;0){\n                int i=in.read(tmp, 0, 1024);\n                if(i&lt;0)break;\n                System.out.print(new String(tmp, 0, i));\n              }`enter code here`\n              if(channel.isClosed()){\n                System.out.println(\"exit-status: \"+channel.getExitStatus());\n                break;\n              }\n              try{Thread.sleep(1000);}catch(Exception ee){}\n            }\n            channel.disconnect();\n            session.disconnect();\n            System.out.println(\"DONE\");\n        }catch(Exception e){\n            e.printStackTrace();\n        }\n\n    }\n\n\n 1. List item\n\n}\n</code></pre>\n"}],"owner":{"account_id":1910476,"reputation":453,"user_id":1724421,"accept_rate":25,"display_name":"snario"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":57351,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":4,"score":12,"last_activity_date":1644236964,"creation_date":1368123698,"question_id":16468475,"body_markdown":"I&#39;m trying to set up a class so that I can ssh into a remote server (I have the IP, username, and password) and then send a command like `echo &quot;test&quot;` and then receive back the output (e.g., &quot;test&quot;). I&#39;m using JSch to do this but I don&#39;t understand how to do it. \r\n\r\n    import com.jcraft.jsch.*;\r\n\r\n    public class ConnectSSH {\r\n\t\r\n\tpublic int execute (String command) {\r\n\t\t\r\n\t\tJSch jsch \t= new JSch();\r\n\t\tString ip \t= &quot;00.00.00.00&quot;;\r\n\t\tString user = &quot;root&quot;;\r\n\t\tString pass = &quot;password&quot;;\r\n\t\tint port \t= 22;\r\n\t\r\n\t\tSession session = jsch.getSession(user, ip, port);   \r\n\t\tsession.setPassword(pass);\r\n\t\tsession.connect();\r\n\r\n        ...\r\n\r\nI&#39;m stuck after connecting.","title":"Sending commands to remote server through ssh by Java with JSch","body":"<p>I'm trying to set up a class so that I can ssh into a remote server (I have the IP, username, and password) and then send a command like <code>echo &quot;test&quot;</code> and then receive back the output (e.g., &quot;test&quot;). I'm using JSch to do this but I don't understand how to do it.</p>\n<pre><code>import com.jcraft.jsch.*;\n\npublic class ConnectSSH {\n\npublic int execute (String command) {\n    \n    JSch jsch   = new JSch();\n    String ip   = &quot;00.00.00.00&quot;;\n    String user = &quot;root&quot;;\n    String pass = &quot;password&quot;;\n    int port    = 22;\n\n    Session session = jsch.getSession(user, ip, port);   \n    session.setPassword(pass);\n    session.connect();\n\n    ...\n</code></pre>\n<p>I'm stuck after connecting.</p>\n"},{"tags":["java","post","vert.x","vertx-verticle","abstractverticle"],"comments":[{"owner":{"account_id":2872193,"reputation":3005,"user_id":7263027,"display_name":"taygetos"},"score":1,"creation_date":1650721346,"post_id":71017962,"comment_id":127190011,"body_markdown":"I am not sure what you are trying to achieve, but be aware that you deploy ResponseVerticle twice. You dont use RequestVerticle. And you are missing BodyHandler on the route.","body":"I am not sure what you are trying to achieve, but be aware that you deploy ResponseVerticle twice. You dont use RequestVerticle. And you are missing BodyHandler on the route."}],"answers":[{"tags":[],"owner":{"account_id":4130267,"reputation":763,"user_id":3388381,"accept_rate":100,"display_name":"ph0enix"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644236657,"creation_date":1644236657,"answer_id":71018533,"question_id":71017962,"body_markdown":"When the user invokes POST `/Test/Result` and sends some POST value, you receive it in your Response verticle class (third snippet). If you want to share that method with other verticles, you should store it somewhere inside the `handler` method so other verticles access it or immediately forward it to other verticle via the event bus.\r\n\r\nOne possible solution would be to create a third verticle (e.g. `StorageVerticle`) which has `get` and `set` methods. That way, `ResponseVerticle` invokes the `set` method to store the value it got, and the `RequestVerticle` invokes the `get` method to fetch the value the user sent on calling POST method.\r\n\r\nThe other solution of direct communication between verticles involves the Event Bus message exchange - one verticle publishes/sends a message and all other verticles can register as a consumer to get that message. More on this you can find here: https://vertx.io/docs/vertx-core/java/#_the_event_bus_api.\r\n\r\nIt is hard to say which approach is better because it is case-to-case basis and I have limited information here about the scope of the project.\r\n\r\n","title":"Vert.x - How to get POST Value passed between Verticles?","body":"<p>When the user invokes POST <code>/Test/Result</code> and sends some POST value, you receive it in your Response verticle class (third snippet). If you want to share that method with other verticles, you should store it somewhere inside the <code>handler</code> method so other verticles access it or immediately forward it to other verticle via the event bus.</p>\n<p>One possible solution would be to create a third verticle (e.g. <code>StorageVerticle</code>) which has <code>get</code> and <code>set</code> methods. That way, <code>ResponseVerticle</code> invokes the <code>set</code> method to store the value it got, and the <code>RequestVerticle</code> invokes the <code>get</code> method to fetch the value the user sent on calling POST method.</p>\n<p>The other solution of direct communication between verticles involves the Event Bus message exchange - one verticle publishes/sends a message and all other verticles can register as a consumer to get that message. More on this you can find here: <a href=\"https://vertx.io/docs/vertx-core/java/#_the_event_bus_api\" rel=\"nofollow noreferrer\">https://vertx.io/docs/vertx-core/java/#_the_event_bus_api</a>.</p>\n<p>It is hard to say which approach is better because it is case-to-case basis and I have limited information here about the scope of the project.</p>\n"}],"owner":{"account_id":15841617,"reputation":19,"user_id":11429952,"display_name":"RABII SISSI"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":310,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1644236946,"creation_date":1644234089,"question_id":71017962,"body_markdown":"This the class that runs verticles : \r\n\r\n    public class RequestResponseExample {\r\n        public static void main(String[] args) throws InterruptedException {\r\n            Logger LOG = LoggerFactory.getLogger(RequestResponseExample.class);\r\n\r\n            final Vertx vertx = Vertx.vertx();\r\n            final Handler&lt;AsyncResult&lt;String&gt;&gt; RequestHandler = dar-&gt; vertx.deployVerticle(new ResponseVerticle());\r\n\r\n            vertx.deployVerticle(new ResponseVerticle(), RequestHandler);\r\n        }\r\n    }\r\n\r\nThis is The Request verticle Class : \r\n\r\n    \r\n    public class RequestVerticle extends AbstractVerticle{\r\n        public static final Logger LOG = LoggerFactory.getLogger(RequestVerticle.class);\r\n        static final String ADDRESS = &quot;my.request.address&quot;;\r\n\r\n        @Override\r\n        public void start() throws Exception {\r\n           \r\n            Router router = Router.router(vertx);\r\n            router.get(&quot;/Test&quot;).handler(rc -&gt; rc.response().sendFile(&quot;index.html&quot;));\r\n\r\n            vertx.createHttpServer()\r\n                .requestHandler(router)\r\n                .listen(8080);\r\n        }\r\n    }\r\n\r\nThis is The Response verticle Class: Here Im having a difficulty getting The Inserted value in the HTML file\r\n\r\n    public class ResponseVerticle extends AbstractVerticle{\r\n        public static final Logger LOG = LoggerFactory.getLogger(RequestVerticle.class);\r\n        @Override\r\n        public void start() throws Exception {\r\n\r\n        Router router = Router.router(vertx);\r\n\r\n        // How to handle the POST value ?\r\n        router.post(&quot;/Test/Result&quot;).handler(rc -&gt; rc.end(&quot;The Post Value&quot;));\r\n    \r\n        vertx.createHttpServer()\r\n                .requestHandler(router)\r\n                .listen(8080);\r\n    }\r\n\r\n","title":"Vert.x - How to get POST Value passed between Verticles?","body":"<p>This the class that runs verticles :</p>\n<pre><code>public class RequestResponseExample {\n    public static void main(String[] args) throws InterruptedException {\n        Logger LOG = LoggerFactory.getLogger(RequestResponseExample.class);\n\n        final Vertx vertx = Vertx.vertx();\n        final Handler&lt;AsyncResult&lt;String&gt;&gt; RequestHandler = dar-&gt; vertx.deployVerticle(new ResponseVerticle());\n\n        vertx.deployVerticle(new ResponseVerticle(), RequestHandler);\n    }\n}\n</code></pre>\n<p>This is The Request verticle Class :</p>\n<pre><code>public class RequestVerticle extends AbstractVerticle{\n    public static final Logger LOG = LoggerFactory.getLogger(RequestVerticle.class);\n    static final String ADDRESS = &quot;my.request.address&quot;;\n\n    @Override\n    public void start() throws Exception {\n       \n        Router router = Router.router(vertx);\n        router.get(&quot;/Test&quot;).handler(rc -&gt; rc.response().sendFile(&quot;index.html&quot;));\n\n        vertx.createHttpServer()\n            .requestHandler(router)\n            .listen(8080);\n    }\n}\n</code></pre>\n<p>This is The Response verticle Class: Here Im having a difficulty getting The Inserted value in the HTML file</p>\n<pre><code>public class ResponseVerticle extends AbstractVerticle{\n    public static final Logger LOG = LoggerFactory.getLogger(RequestVerticle.class);\n    @Override\n    public void start() throws Exception {\n\n    Router router = Router.router(vertx);\n\n    // How to handle the POST value ?\n    router.post(&quot;/Test/Result&quot;).handler(rc -&gt; rc.end(&quot;The Post Value&quot;));\n\n    vertx.createHttpServer()\n            .requestHandler(router)\n            .listen(8080);\n}\n</code></pre>\n"},{"tags":["java","generics","builder-pattern"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1642864770,"post_id":70813444,"comment_id":125188488,"body_markdown":"You can see that there is no `&lt;` after the word `Builder` on that line, right?  That aside, I suspect `T extends Builder&lt;T&gt;` is not what you really want to do.  You probably just want `public static class Builder&lt;D&gt;`.  (You could use `&lt;T&gt;`, but it would be confusing, since the Builder class is entirely separate from the PageabgleResponse class, and their generic types are unrelated, whether or not they use the same letter.)","body":"You can see that there is no <code>&lt;</code> after the word <code>Builder</code> on that line, right?  That aside, I suspect <code>T extends Builder&lt;T&gt;</code> is not what you really want to do.  You probably just want <code>public static class Builder&lt;D&gt;</code>.  (You could use <code>&lt;T&gt;</code>, but it would be confusing, since the Builder class is entirely separate from the PageabgleResponse class, and their generic types are unrelated, whether or not they use the same letter.)"},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1642870281,"post_id":70813444,"comment_id":125189903,"body_markdown":"Did you try? What was the result?","body":"Did you try? What was the result?"}],"answers":[{"tags":[],"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1642870061,"creation_date":1642870061,"answer_id":70814984,"question_id":70813444,"body_markdown":"You can fix the warning by adding the type parameter to your `PageResponse(Builder)` constructor.\r\n\r\n    protected PageableResponse(Builder&lt;T&gt; builder)\r\n\r\n\r\nAdditionally the type parameter definition for your `Builder` is a bit weird.\r\n\r\n    public static class Builder&lt;T extends Builder&lt;T&gt;&gt;\r\n\r\nImplicates `T` has to be a `Builder`. \r\n\r\n    public static class Builder&lt;T&gt;\r\n\r\nMeans `T` can be anything. Probably makes more sense?","title":"Change immutable builder constructor to use generics","body":"<p>You can fix the warning by adding the type parameter to your <code>PageResponse(Builder)</code> constructor.</p>\n<pre><code>protected PageableResponse(Builder&lt;T&gt; builder)\n</code></pre>\n<p>Additionally the type parameter definition for your <code>Builder</code> is a bit weird.</p>\n<pre><code>public static class Builder&lt;T extends Builder&lt;T&gt;&gt;\n</code></pre>\n<p>Implicates <code>T</code> has to be a <code>Builder</code>.</p>\n<pre><code>public static class Builder&lt;T&gt;\n</code></pre>\n<p>Means <code>T</code> can be anything. Probably makes more sense?</p>\n"}],"owner":{"account_id":4216557,"reputation":740,"user_id":3452571,"accept_rate":73,"display_name":"badCoder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644236822,"creation_date":1642859398,"question_id":70813444,"body_markdown":"I have a following class which is a basic DTO for child classes. I need to fix protected constructor because Intellij says: &#39;raw use of parameterized class builder&#39;.\r\nCan someone please take a look and point how to re-write this constructor to support generic style here.\r\n\r\n```import com.fasterxml.jackson.annotation.JsonProperty;\r\nimport com.fasterxml.jackson.databind.annotation.JsonDeserialize;\r\nimport com.fasterxml.jackson.databind.annotation.JsonPOJOBuilder;\r\n\r\nimport java.util.List;\r\nimport java.util.Objects;\r\n\r\nimport static com.fasterxml.jackson.annotation.JsonProperty.Access.READ_ONLY;\r\n\r\n@JsonDeserialize(builder = PageableResponse.Builder.class)\r\npublic class PageableResponse&lt;T&gt;\r\n{\r\n    @JsonProperty(value = &quot;data&quot;, required = true, access = READ_ONLY)\r\n    private final List&lt;T&gt; data;\r\n    @JsonProperty(value = &quot;total&quot;, required = true, access = READ_ONLY)\r\n    private final Long total;\r\n\r\n    // constructor required for spring\r\n    public PageableResponse(List&lt;T&gt; data, Long total)\r\n    {\r\n        this.data = data;\r\n        this.total = total;\r\n    }\r\n\r\n    // here is an issue: Raw use of parameterized class Builder\r\n    protected PageableResponse(Builder builder)\r\n    {\r\n        data = (List&lt;T&gt;) builder.data; // and here unchecked cast as well\r\n        total = builder.total;\r\n    }\r\n\r\n    public static &lt;T extends Builder&lt;T&gt;&gt; Builder&lt;T&gt; newBuilder()\r\n    {\r\n        return new Builder&lt;T&gt;();\r\n    }\r\n\r\n    public static &lt;T extends Builder&lt;T&gt;&gt; Builder&lt;T&gt; newBuilder(PageableResponse&lt;T&gt; copy)\r\n    {\r\n        Builder&lt;T&gt; builder = new Builder&lt;T&gt;();\r\n        builder.data = copy.getData();\r\n        builder.total = copy.getTotal();\r\n        return builder;\r\n    }\r\n\r\n    public List&lt;T&gt; getData()\r\n    {\r\n        return data;\r\n    }\r\n\r\n    public Long getTotal()\r\n    {\r\n        return total;\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o)\r\n    {\r\n        if (this == o)\r\n        {\r\n            return true;\r\n        }\r\n        if (o == null || getClass() != o.getClass())\r\n        {\r\n            return false;\r\n        }\r\n        PageableResponse&lt;?&gt; that = (PageableResponse&lt;?&gt;) o;\r\n        return Objects.equals(data, that.data) &amp;&amp; Objects.equals(total, that.total);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode()\r\n    {\r\n        return Objects.hash(data, total);\r\n    }\r\n\r\n    @JsonPOJOBuilder(withPrefix = &quot;&quot;)\r\n    public static class Builder&lt;T extends Builder&lt;T&gt;&gt;\r\n    {\r\n        private List&lt;T&gt; data;\r\n        private Long total;\r\n\r\n        protected Builder()\r\n        {\r\n        }\r\n\r\n        public Builder&lt;T&gt; data(List&lt;T&gt; data)\r\n        {\r\n            this.data = data;\r\n            return this;\r\n        }\r\n\r\n        public Builder&lt;T&gt; total(Long total)\r\n        {\r\n            this.total = total;\r\n            return this;\r\n        }\r\n\r\n        public PageableResponse&lt;T&gt; build()\r\n        {\r\n            return new PageableResponse&lt;T&gt;(this);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nDo you think it is possible? Does someone seeing potential issues with this code?","title":"Change immutable builder constructor to use generics","body":"<p>I have a following class which is a basic DTO for child classes. I need to fix protected constructor because Intellij says: 'raw use of parameterized class builder'.\nCan someone please take a look and point how to re-write this constructor to support generic style here.</p>\n<pre><code>import com.fasterxml.jackson.databind.annotation.JsonDeserialize;\nimport com.fasterxml.jackson.databind.annotation.JsonPOJOBuilder;\n\nimport java.util.List;\nimport java.util.Objects;\n\nimport static com.fasterxml.jackson.annotation.JsonProperty.Access.READ_ONLY;\n\n@JsonDeserialize(builder = PageableResponse.Builder.class)\npublic class PageableResponse&lt;T&gt;\n{\n    @JsonProperty(value = &quot;data&quot;, required = true, access = READ_ONLY)\n    private final List&lt;T&gt; data;\n    @JsonProperty(value = &quot;total&quot;, required = true, access = READ_ONLY)\n    private final Long total;\n\n    // constructor required for spring\n    public PageableResponse(List&lt;T&gt; data, Long total)\n    {\n        this.data = data;\n        this.total = total;\n    }\n\n    // here is an issue: Raw use of parameterized class Builder\n    protected PageableResponse(Builder builder)\n    {\n        data = (List&lt;T&gt;) builder.data; // and here unchecked cast as well\n        total = builder.total;\n    }\n\n    public static &lt;T extends Builder&lt;T&gt;&gt; Builder&lt;T&gt; newBuilder()\n    {\n        return new Builder&lt;T&gt;();\n    }\n\n    public static &lt;T extends Builder&lt;T&gt;&gt; Builder&lt;T&gt; newBuilder(PageableResponse&lt;T&gt; copy)\n    {\n        Builder&lt;T&gt; builder = new Builder&lt;T&gt;();\n        builder.data = copy.getData();\n        builder.total = copy.getTotal();\n        return builder;\n    }\n\n    public List&lt;T&gt; getData()\n    {\n        return data;\n    }\n\n    public Long getTotal()\n    {\n        return total;\n    }\n\n    @Override\n    public boolean equals(Object o)\n    {\n        if (this == o)\n        {\n            return true;\n        }\n        if (o == null || getClass() != o.getClass())\n        {\n            return false;\n        }\n        PageableResponse&lt;?&gt; that = (PageableResponse&lt;?&gt;) o;\n        return Objects.equals(data, that.data) &amp;&amp; Objects.equals(total, that.total);\n    }\n\n    @Override\n    public int hashCode()\n    {\n        return Objects.hash(data, total);\n    }\n\n    @JsonPOJOBuilder(withPrefix = &quot;&quot;)\n    public static class Builder&lt;T extends Builder&lt;T&gt;&gt;\n    {\n        private List&lt;T&gt; data;\n        private Long total;\n\n        protected Builder()\n        {\n        }\n\n        public Builder&lt;T&gt; data(List&lt;T&gt; data)\n        {\n            this.data = data;\n            return this;\n        }\n\n        public Builder&lt;T&gt; total(Long total)\n        {\n            this.total = total;\n            return this;\n        }\n\n        public PageableResponse&lt;T&gt; build()\n        {\n            return new PageableResponse&lt;T&gt;(this);\n        }\n    }\n}\n</code></pre>\n<p>Do you think it is possible? Does someone seeing potential issues with this code?</p>\n"},{"tags":["java","android","date"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1643451469,"post_id":70904295,"comment_id":125346211,"body_markdown":"[Edit] your question and post sample two dates. Then post the list you want to get based on those two dates.","body":"<a href=\"https://stackoverflow.com/posts/70904295/edit\">Edit</a> your question and post sample two dates. Then post the list you want to get based on those two dates."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1643779331,"post_id":70904295,"comment_id":125427117,"body_markdown":"This has been asked and answered before. Please search.","body":"This has been asked and answered before. Please search."}],"answers":[{"tags":[],"owner":{"account_id":21192690,"reputation":335,"user_id":15584866,"display_name":"patpatwithhat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1643453668,"creation_date":1643453668,"answer_id":70904593,"question_id":70904295,"body_markdown":"checkout, if this is helpfull to you:\r\n\r\n    import java.time.LocalDate;\r\n    import java.util.LinkedList;\r\n    import java.util.List;\r\n\r\n    public class DateManager {\r\n\r\n         public DateManager() {\r\n         }\r\n\r\n        public List&lt;LocalDate&gt; getLocalDateListBetween(LocalDate date1, LocalDate date2) {\r\n             List&lt;LocalDate&gt; list = new LinkedList&lt;&gt;();\r\n             //return empty list, if same days\r\n             if(date1.isEqual(date2)) return list;\r\n             //swap days if wrong order\r\n             if(date1.isAfter(date2)) {\r\n                LocalDate temp = date1;\r\n                date1 = date2;\r\n                date2 = temp;\r\n             }\r\n             list.add(date1);//remove this, if you don&#39;t want first Date to be in List\r\n             while(!date1.isEqual(date2)) {\r\n                 date1 = date1.plusDays(1);\r\n                 list.add(date1);\r\n             }\r\n             return list;\r\n         }\r\n     }\r\n\r\ncall from anywhere like this:\r\n\r\n        public static void main(String[] args) {\r\n             //localdate: year-month-day\r\n             LocalDate date1 = LocalDate.parse(&quot;2021-05-05&quot;);\r\n             LocalDate date2 = LocalDate.parse(&quot;2021-05-10&quot;);\r\n\r\n             DateManager manager = new DateManager();\r\n             System.out.println(manager.getLocalDateListBetween(date1, date2));\r\n        }","title":"How to get Date List Between two dates on Android using with Java","body":"<p>checkout, if this is helpfull to you:</p>\n<pre><code>import java.time.LocalDate;\nimport java.util.LinkedList;\nimport java.util.List;\n\npublic class DateManager {\n\n     public DateManager() {\n     }\n\n    public List&lt;LocalDate&gt; getLocalDateListBetween(LocalDate date1, LocalDate date2) {\n         List&lt;LocalDate&gt; list = new LinkedList&lt;&gt;();\n         //return empty list, if same days\n         if(date1.isEqual(date2)) return list;\n         //swap days if wrong order\n         if(date1.isAfter(date2)) {\n            LocalDate temp = date1;\n            date1 = date2;\n            date2 = temp;\n         }\n         list.add(date1);//remove this, if you don't want first Date to be in List\n         while(!date1.isEqual(date2)) {\n             date1 = date1.plusDays(1);\n             list.add(date1);\n         }\n         return list;\n     }\n }\n</code></pre>\n<p>call from anywhere like this:</p>\n<pre><code>    public static void main(String[] args) {\n         //localdate: year-month-day\n         LocalDate date1 = LocalDate.parse(&quot;2021-05-05&quot;);\n         LocalDate date2 = LocalDate.parse(&quot;2021-05-10&quot;);\n\n         DateManager manager = new DateManager();\n         System.out.println(manager.getLocalDateListBetween(date1, date2));\n    }\n</code></pre>\n"}],"owner":{"account_id":16210155,"reputation":179,"user_id":14160951,"display_name":"Hridoy Krisna Das"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1644236800,"creation_date":1643451331,"question_id":70904295,"body_markdown":"I am working with Leave Application. \r\nI need a list of all dates between two dates. But I can&#39;t do this.","title":"How to get Date List Between two dates on Android using with Java","body":"<p>I am working with Leave Application.\nI need a list of all dates between two dates. But I can't do this.</p>\n"},{"tags":["java","oop","processing"],"answers":[{"tags":[],"owner":{"account_id":4826604,"reputation":833,"user_id":3895938,"accept_rate":61,"display_name":"Cyrill"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644236764,"creation_date":1644236764,"answer_id":71018551,"question_id":71017220,"body_markdown":"+++ EDIT +++\r\n\r\nFound a solution here:\r\nhttps://processing.org/tutorials/objects\r\n\r\nAnd this gave me the hint to really work with an array. And then it says for the PGraphic:\r\n\r\n      void drawPG () {\r\n      pg.beginDraw();\r\n      pg.pushMatrix();\r\n      pg.translate(100, height/4.75);\r\n      pg.background(255);\r\n      pg.noStroke();\r\n      int blocks = int(map(mouseX, 0, width, 0, rectangles.length));\r\n      for (int i = 0; i &lt; blocks; i++) {\r\n        pg.pushMatrix();\r\n        pg.translate(i * 200 + i*100, 0);\r\n        rectangles[i].display(pg);\r\n        pg.popMatrix();\r\n      }\r\n      pg.popMatrix();\r\n      pg.endDraw();\r\n    }\r\n\r\nAbove setup();\r\n\r\n       Rectangle[] rectangles = new Rectangle[7];\r\n\r\nAnd in setup();\r\n\r\n       for (int i = 0; i &lt; rectangles.length; i++) {\r\n        rectangles[i] = new Rectangle();\r\n      }\r\n\r\n ","title":"Using Ani Library on Objects (Processing)","body":"<p>+++ EDIT +++</p>\n<p>Found a solution here:\n<a href=\"https://processing.org/tutorials/objects\" rel=\"nofollow noreferrer\">https://processing.org/tutorials/objects</a></p>\n<p>And this gave me the hint to really work with an array. And then it says for the PGraphic:</p>\n<pre><code>  void drawPG () {\n  pg.beginDraw();\n  pg.pushMatrix();\n  pg.translate(100, height/4.75);\n  pg.background(255);\n  pg.noStroke();\n  int blocks = int(map(mouseX, 0, width, 0, rectangles.length));\n  for (int i = 0; i &lt; blocks; i++) {\n    pg.pushMatrix();\n    pg.translate(i * 200 + i*100, 0);\n    rectangles[i].display(pg);\n    pg.popMatrix();\n  }\n  pg.popMatrix();\n  pg.endDraw();\n}\n</code></pre>\n<p>Above setup();</p>\n<pre><code>   Rectangle[] rectangles = new Rectangle[7];\n</code></pre>\n<p>And in setup();</p>\n<pre><code>   for (int i = 0; i &lt; rectangles.length; i++) {\n    rectangles[i] = new Rectangle();\n  }\n</code></pre>\n"}],"owner":{"account_id":4826604,"reputation":833,"user_id":3895938,"accept_rate":61,"display_name":"Cyrill"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1644236764,"creation_date":1644230716,"question_id":71017220,"body_markdown":"I am currently working with the Ani Library in Processing.\r\nI&#39;m trying to fade in some rectangles one by one (on a PGraphics). To let the rectangles appear I use a loop - whose size I can control with MouseX. So one rectangle appears after the other. But I also want to fade in each one individually using the Ani Library. Currently I can only get the fade in to affect all of them at once. \r\n\r\nSo I tried to make an object out of the rectangle and put the FadeIn inside the object. But it behaves similar here – all fade in at once.\r\nHow can I solve this? Do I need an Array or an Array List for this?\r\n\r\nThis is my Code without an object:\r\n\r\n    import de.looksgood.ani.*;\r\n    PGraphics pg;\r\n    float alpha;\r\n    \r\n    void setup() {\r\n      size(1920, 1920);\r\n      rectMode(CENTER);\r\n      Ani.init(this);\r\n      pg = createGraphics(width, height);\r\n    }\r\n    \r\n    void draw() {\r\n      drawPG();\r\n      image(pg, 0,0);\r\n    }\r\n\r\n    void drawPG () {\r\n      pg.beginDraw();\r\n      pg.pushMatrix();\r\n      pg.translate(100, height/4.75);\r\n      pg.background(255);\r\n      pg.noStroke();\r\n      Ani.to(this, 10, &quot;alpha&quot;, 255, Ani.EXPO_OUT);\r\n      color black = color(0, 0, 0, alpha);\r\n      pg.fill(black);\r\n      int blocks = int(map(mouseX, 0, width, 0, 7));\r\n      for (int i = 0; i &lt; blocks; i++) {\r\n        pg.pushMatrix();\r\n        pg.translate(i * 200 + i*100, 0);\r\n        pg.rect(0, 0, 200, 200);\r\n        pg.popMatrix();\r\n      }\r\n      pg.popMatrix();\r\n      pg.endDraw();\r\n    }\r\n\r\n\r\nAnd this is my tried out version with an Object:\r\n\r\n    import de.looksgood.ani.*;\r\n    \r\n    PGraphics pg;\r\n    Rectangle myRect;\r\n    \r\n    \r\n    void setup() {\r\n      size(1920, 1920);\r\n      rectMode(CENTER);\r\n      myRect = new Rectangle();\r\n      Ani.init(this);\r\n      pg = createGraphics(width, height);\r\n    \r\n    }\r\n    \r\n    void draw() {\r\n      drawPG();\r\n      image(pg, 0,0);\r\n    }\r\n\r\n    void drawPG () {\r\n      pg.beginDraw();\r\n      pg.pushMatrix();\r\n      pg.translate(100, height/4.75);\r\n      pg.background(255);\r\n      pg.noStroke();\r\n      int blocks = int(map(mouseX, 0, width, 0, 7));\r\n      for (int i = 0; i &lt; blocks; i++) {\r\n        pg.pushMatrix();\r\n        pg.translate(i * 200 + i*100, 0);\r\n        myRect.display(pg);\r\n        pg.popMatrix();\r\n      }\r\n      pg.popMatrix();\r\n      pg.endDraw();\r\n    }\r\n\r\n    class Rectangle {\r\n      float alpha;\r\n      \r\n      Rectangle() {\r\n      }\r\n\r\n      void display(PGraphics pg) {\r\n        Ani.to(this, 10, &quot;alpha&quot;, 255, Ani.EXPO_OUT);\r\n        color black = color(0, 0, 0, alpha);\r\n        pg.fill(black);\r\n        pg.rect(0, 0, 200, 200);\r\n      }\r\n    }\r\n\r\n","title":"Using Ani Library on Objects (Processing)","body":"<p>I am currently working with the Ani Library in Processing.\nI'm trying to fade in some rectangles one by one (on a PGraphics). To let the rectangles appear I use a loop - whose size I can control with MouseX. So one rectangle appears after the other. But I also want to fade in each one individually using the Ani Library. Currently I can only get the fade in to affect all of them at once.</p>\n<p>So I tried to make an object out of the rectangle and put the FadeIn inside the object. But it behaves similar here – all fade in at once.\nHow can I solve this? Do I need an Array or an Array List for this?</p>\n<p>This is my Code without an object:</p>\n<pre><code>import de.looksgood.ani.*;\nPGraphics pg;\nfloat alpha;\n\nvoid setup() {\n  size(1920, 1920);\n  rectMode(CENTER);\n  Ani.init(this);\n  pg = createGraphics(width, height);\n}\n\nvoid draw() {\n  drawPG();\n  image(pg, 0,0);\n}\n\nvoid drawPG () {\n  pg.beginDraw();\n  pg.pushMatrix();\n  pg.translate(100, height/4.75);\n  pg.background(255);\n  pg.noStroke();\n  Ani.to(this, 10, &quot;alpha&quot;, 255, Ani.EXPO_OUT);\n  color black = color(0, 0, 0, alpha);\n  pg.fill(black);\n  int blocks = int(map(mouseX, 0, width, 0, 7));\n  for (int i = 0; i &lt; blocks; i++) {\n    pg.pushMatrix();\n    pg.translate(i * 200 + i*100, 0);\n    pg.rect(0, 0, 200, 200);\n    pg.popMatrix();\n  }\n  pg.popMatrix();\n  pg.endDraw();\n}\n</code></pre>\n<p>And this is my tried out version with an Object:</p>\n<pre><code>import de.looksgood.ani.*;\n\nPGraphics pg;\nRectangle myRect;\n\n\nvoid setup() {\n  size(1920, 1920);\n  rectMode(CENTER);\n  myRect = new Rectangle();\n  Ani.init(this);\n  pg = createGraphics(width, height);\n\n}\n\nvoid draw() {\n  drawPG();\n  image(pg, 0,0);\n}\n\nvoid drawPG () {\n  pg.beginDraw();\n  pg.pushMatrix();\n  pg.translate(100, height/4.75);\n  pg.background(255);\n  pg.noStroke();\n  int blocks = int(map(mouseX, 0, width, 0, 7));\n  for (int i = 0; i &lt; blocks; i++) {\n    pg.pushMatrix();\n    pg.translate(i * 200 + i*100, 0);\n    myRect.display(pg);\n    pg.popMatrix();\n  }\n  pg.popMatrix();\n  pg.endDraw();\n}\n\nclass Rectangle {\n  float alpha;\n  \n  Rectangle() {\n  }\n\n  void display(PGraphics pg) {\n    Ani.to(this, 10, &quot;alpha&quot;, 255, Ani.EXPO_OUT);\n    color black = color(0, 0, 0, alpha);\n    pg.fill(black);\n    pg.rect(0, 0, 200, 200);\n  }\n}\n</code></pre>\n"},{"tags":["java","jax-rs"],"comments":[{"owner":{"account_id":3013228,"reputation":205797,"user_id":2587435,"accept_rate":88,"display_name":"Paul Samsotha"},"score":0,"creation_date":1643848549,"post_id":70955077,"comment_id":125451549,"body_markdown":"An example in code would help us understand what you are saying.","body":"An example in code would help us understand what you are saying."}],"answers":[{"tags":[],"owner":{"account_id":1370355,"reputation":5676,"user_id":1305740,"display_name":"Carlo Pellegrini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644236563,"creation_date":1644236154,"answer_id":71018424,"question_id":70955077,"body_markdown":"You could add a filter, disallowing all the methods you don&#39;t want to support:\r\n\r\n    import java.io.IOException;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    import javax.ws.rs.container.ContainerRequestContext;\r\n    import javax.ws.rs.container.ContainerRequestFilter;\r\n    import javax.ws.rs.core.Response;\r\n    import javax.ws.rs.core.SecurityContext;\r\n    import javax.ws.rs.ext.Provider;\r\n\r\n    @Provider \r\n    public class AuthorizationRequestFilter implements ContainerRequestFilter {\r\n\t    private final List&lt;String&gt; disallowed=Arrays.asList(&quot;POST&quot;,&quot;PUT&quot;,&quot;DELETE&quot;,&quot;PATCH&quot;);\r\n\t\r\n       @Override\r\n       public void filter(ContainerRequestContext requestContext)\r\n                    throws IOException {\r\n        \tif (disallowed.contains(requestContext.getMethod())){\r\n        \t\trequestContext.abortWith(Response\r\n                        .status(Response.Status.FORBIDDEN)\r\n                        .entity(&quot;User cannot modify the resource.&quot;)\r\n                        .build());\r\n        \t}\r\n        }\r\n    }","title":"Multiple functions for the same path in jax.ws.rs?","body":"<p>You could add a filter, disallowing all the methods you don't want to support:</p>\n<pre><code>import java.io.IOException;\nimport java.util.Arrays;\nimport java.util.List;\nimport javax.ws.rs.container.ContainerRequestContext;\nimport javax.ws.rs.container.ContainerRequestFilter;\nimport javax.ws.rs.core.Response;\nimport javax.ws.rs.core.SecurityContext;\nimport javax.ws.rs.ext.Provider;\n\n@Provider \npublic class AuthorizationRequestFilter implements ContainerRequestFilter {\n    private final List&lt;String&gt; disallowed=Arrays.asList(&quot;POST&quot;,&quot;PUT&quot;,&quot;DELETE&quot;,&quot;PATCH&quot;);\n\n   @Override\n   public void filter(ContainerRequestContext requestContext)\n                throws IOException {\n        if (disallowed.contains(requestContext.getMethod())){\n            requestContext.abortWith(Response\n                    .status(Response.Status.FORBIDDEN)\n                    .entity(&quot;User cannot modify the resource.&quot;)\n                    .build());\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":14354817,"reputation":626,"user_id":10369064,"display_name":"Sheen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71018424,"answer_count":1,"score":0,"last_activity_date":1644236563,"creation_date":1643802539,"question_id":70955077,"body_markdown":"Lets say I wanted in implement readonly behaviour on my application (not allowing posts/puts). Could I do this by disabling these types/setting a @POST/@PUT that catches requests on any endpoint? (As opposed to putting a boolean flag on every single post/put in my application","title":"Multiple functions for the same path in jax.ws.rs?","body":"<p>Lets say I wanted in implement readonly behaviour on my application (not allowing posts/puts). Could I do this by disabling these types/setting a @POST/@PUT that catches requests on any endpoint? (As opposed to putting a boolean flag on every single post/put in my application</p>\n"},{"tags":["java","jaxb","cxf","wsdl2java","wadl"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1644235250,"post_id":71017184,"comment_id":125542768,"body_markdown":"Perhaps you should show your WSDL for someone to be able to help","body":"Perhaps you should show your WSDL for someone to be able to help"},{"owner":{"account_id":4754685,"reputation":69,"user_id":3843722,"accept_rate":31,"display_name":"lifeline2"},"score":0,"creation_date":1644236321,"post_id":71017184,"comment_id":125543192,"body_markdown":"thanks @SMA for the response! Yes now  I have updated how the wadl file looks like. It has bunch of xsd files as grammars and Resource paths for the REST end points. There are multiple but I added just one for easy understanding.","body":"thanks @SMA for the response! Yes now  I have updated how the wadl file looks like. It has bunch of xsd files as grammars and Resource paths for the REST end points. There are multiple but I added just one for easy understanding."},{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1644237910,"post_id":71017184,"comment_id":125543749,"body_markdown":"see if this helps https://stackoverflow.com/questions/25822771/how-to-construct-the-wadl-file-to-get-following-java-interface","body":"see if this helps <a href=\"https://stackoverflow.com/questions/25822771/how-to-construct-the-wadl-file-to-get-following-java-interface\" title=\"how to construct the wadl file to get following java interface\">stackoverflow.com/questions/25822771/&hellip;</a>"}],"owner":{"account_id":4754685,"reputation":69,"user_id":3843722,"accept_rate":31,"display_name":"lifeline2"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644236192,"creation_date":1644230594,"question_id":71017184,"body_markdown":"I had generated java classes from wadl file through cxf-wadl2java-plugin but the generated Resources file have just null implementation. I was referring [wadl options here ][1] but found no solution for e.g. -impl : Generates starting implementation code. Can also be used with -interface option\r\n\r\nBut what about the full implementation of REST endpoints with InputParameters and OutputParameters/Response? Possible to share how it can be done?\r\n\r\ncurrently:\r\n\r\n    @Path(&quot;getdetails/&quot;)\r\n    public class GetdetailsResource {\r\n    \r\n        @POST\r\n        @Consumes({&quot;application/xml&quot;, &quot;application/json&quot; })\r\n        @Produces({&quot;application/xml&quot;, &quot;application/json&quot; })\r\n        public Response GETDETAILS() {\r\n            //TODO: implement\r\n            return null;\r\n        }\r\n    }\r\n\r\nwhat I wanted:\r\n\r\n    @Path(&quot;getdetails/&quot;)\r\n    public class GetdetailsResource {\r\n    \r\n        @POST\r\n        @Consumes({&quot;application/xml&quot;, &quot;application/json&quot; })\r\n        @Produces({&quot;application/xml&quot;, &quot;application/json&quot; })\r\n        public Response GETDETAILS(InputParameters inputParameters) {\r\n            //TODO: implement\r\n            ....\r\n            ......\r\n            OutputParameters outputparamters;\r\n            ....\r\n            ......\r\n            return outputparamters;\r\n        }\r\n    }\r\n\r\ntried with :\r\n\r\n    &lt;wadlOption&gt; &lt;impl&gt;true&lt;/impl&gt;\r\n    &lt;generateImpl&gt;true&lt;/generateImpl&gt;\r\n\r\nCurrently I am referring : [https://cxf.apache.org/docs/jaxrs-services-description.html][1]\r\n\r\nAnd the wadl file looks something like below:\r\n\r\n    &lt;?xml version = &#39;1.0&#39; encoding = &#39;UTF-8&#39;?&gt;\r\n    &lt;application name=&quot;APIS&quot; targetNamespace=&quot;http://xmlns.oracle.com/apps/soaprovider/plsql/rest/apis/&quot; xmlns:tns=&quot;http://xmlns.oracle.com/apps/apis/&quot;  xmlns:tns=&quot;http://xmlns.oracle.com/apps/soaprovider/plsql/rest/apis/&quot; xmlns=&quot;http://wadl.dev.java.net/2009/02&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:tns11=&quot;http://xmlns.oracle.com/apps/rest/apis/getdetails/&quot; \r\n       &lt;grammars&gt;\r\n    \r\n          &lt;include href=&quot;getdetails_TYPEDEF.xsd&quot; /&gt;\r\n       \r\n       &lt;/grammars&gt;\r\n       &lt;resources base=&quot;http://localhost:8080/webservices/rest/apis/&quot;&gt;\r\n          \r\n          &lt;resource path=&quot;getdetails/&quot;&gt;\r\n             &lt;method id=&quot;getdetails&quot; name=&quot;POST&quot;&gt;\r\n                &lt;request&gt;\r\n                   &lt;representation mediaType=&quot;application/xml&quot; type=&quot;getdetails_Input&quot;/&gt;\r\n                   &lt;representation mediaType=&quot;application/json&quot; type=&quot;getdetails_Input&quot;/&gt;\r\n                &lt;/request&gt;\r\n                &lt;response&gt;\r\n                   &lt;representation mediaType=&quot;application/xml&quot; type=&quot;getdetails_Output&quot;/&gt;\r\n                   &lt;representation mediaType=&quot;application/json&quot; type=&quot;getdetails_Output&quot;/&gt;\r\n                &lt;/response&gt;\r\n             &lt;/method&gt;\r\n          &lt;/resource&gt;\r\n         \r\n       &lt;/resources&gt;\r\n    &lt;/application&gt;\r\n\r\n  [1]: https://cxf.apache.org/docs/jaxrs-services-description.html","title":"How to generate full implementation of Resources cxf-wadl2java-plugin","body":"<p>I had generated java classes from wadl file through cxf-wadl2java-plugin but the generated Resources file have just null implementation. I was referring <a href=\"https://cxf.apache.org/docs/jaxrs-services-description.html\" rel=\"nofollow noreferrer\">wadl options here </a> but found no solution for e.g. -impl : Generates starting implementation code. Can also be used with -interface option</p>\n<p>But what about the full implementation of REST endpoints with InputParameters and OutputParameters/Response? Possible to share how it can be done?</p>\n<p>currently:</p>\n<pre><code>@Path(&quot;getdetails/&quot;)\npublic class GetdetailsResource {\n\n    @POST\n    @Consumes({&quot;application/xml&quot;, &quot;application/json&quot; })\n    @Produces({&quot;application/xml&quot;, &quot;application/json&quot; })\n    public Response GETDETAILS() {\n        //TODO: implement\n        return null;\n    }\n}\n</code></pre>\n<p>what I wanted:</p>\n<pre><code>@Path(&quot;getdetails/&quot;)\npublic class GetdetailsResource {\n\n    @POST\n    @Consumes({&quot;application/xml&quot;, &quot;application/json&quot; })\n    @Produces({&quot;application/xml&quot;, &quot;application/json&quot; })\n    public Response GETDETAILS(InputParameters inputParameters) {\n        //TODO: implement\n        ....\n        ......\n        OutputParameters outputparamters;\n        ....\n        ......\n        return outputparamters;\n    }\n}\n</code></pre>\n<p>tried with :</p>\n<pre><code>&lt;wadlOption&gt; &lt;impl&gt;true&lt;/impl&gt;\n&lt;generateImpl&gt;true&lt;/generateImpl&gt;\n</code></pre>\n<p>Currently I am referring : <a href=\"https://cxf.apache.org/docs/jaxrs-services-description.html\" rel=\"nofollow noreferrer\">https://cxf.apache.org/docs/jaxrs-services-description.html</a></p>\n<p>And the wadl file looks something like below:</p>\n<pre><code>&lt;?xml version = '1.0' encoding = 'UTF-8'?&gt;\n&lt;application name=&quot;APIS&quot; targetNamespace=&quot;http://xmlns.oracle.com/apps/soaprovider/plsql/rest/apis/&quot; xmlns:tns=&quot;http://xmlns.oracle.com/apps/apis/&quot;  xmlns:tns=&quot;http://xmlns.oracle.com/apps/soaprovider/plsql/rest/apis/&quot; xmlns=&quot;http://wadl.dev.java.net/2009/02&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; xmlns:tns11=&quot;http://xmlns.oracle.com/apps/rest/apis/getdetails/&quot; \n   &lt;grammars&gt;\n\n      &lt;include href=&quot;getdetails_TYPEDEF.xsd&quot; /&gt;\n   \n   &lt;/grammars&gt;\n   &lt;resources base=&quot;http://localhost:8080/webservices/rest/apis/&quot;&gt;\n      \n      &lt;resource path=&quot;getdetails/&quot;&gt;\n         &lt;method id=&quot;getdetails&quot; name=&quot;POST&quot;&gt;\n            &lt;request&gt;\n               &lt;representation mediaType=&quot;application/xml&quot; type=&quot;getdetails_Input&quot;/&gt;\n               &lt;representation mediaType=&quot;application/json&quot; type=&quot;getdetails_Input&quot;/&gt;\n            &lt;/request&gt;\n            &lt;response&gt;\n               &lt;representation mediaType=&quot;application/xml&quot; type=&quot;getdetails_Output&quot;/&gt;\n               &lt;representation mediaType=&quot;application/json&quot; type=&quot;getdetails_Output&quot;/&gt;\n            &lt;/response&gt;\n         &lt;/method&gt;\n      &lt;/resource&gt;\n     \n   &lt;/resources&gt;\n&lt;/application&gt;\n</code></pre>\n"},{"tags":["java","nio","java-nio"],"comments":[{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":1,"creation_date":1644000566,"post_id":70991244,"comment_id":125497735,"body_markdown":"It is better to collate events and wait for publishing to end or pause. Your strategy may be failing because you are responding to every event and maybe falling behind, as your event processing might be running 100s of times for the same file edit. See more info [here](https://stackoverflow.com/questions/65223686/java-watchservice-perform-action-on-event-using-threads/65251819#65251819).","body":"It is better to collate events and wait for publishing to end or pause. Your strategy may be failing because you are responding to every event and maybe falling behind, as your event processing might be running 100s of times for the same file edit. See more info <a href=\"https://stackoverflow.com/questions/65223686/java-watchservice-perform-action-on-event-using-threads/65251819#65251819\">here</a>."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1644020203,"post_id":70991244,"comment_id":125502931,"body_markdown":"If you don&#39;t want to miss events your `take()` loop should do nothing except queue the event for processing on another thread.","body":"If you don&#39;t want to miss events your <code>take()</code> loop should do nothing except queue the event for processing on another thread."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1644020824,"post_id":70991244,"comment_id":125503034,"body_markdown":"Also, did seem to be ignoring OVERFLOW events.  Those would tell you when events got discarded.","body":"Also, did seem to be ignoring OVERFLOW events.  Those would tell you when events got discarded."},{"owner":{"account_id":3659497,"reputation":389,"user_id":3049693,"display_name":"saurabh.in"},"score":0,"creation_date":1644063907,"post_id":70991244,"comment_id":125508994,"body_markdown":"Thanks for the comments. I have noticed that the watcher service was indeed sensitive to the processing time per event. Also I tried scheduled executer service and was trying to delay and process each notified file just once. But it looks like watch service is getting affected with the synchronisation involved. I will try with lmax disruptor where my disruptor consumer will performed delayed processing.","body":"Thanks for the comments. I have noticed that the watcher service was indeed sensitive to the processing time per event. Also I tried scheduled executer service and was trying to delay and process each notified file just once. But it looks like watch service is getting affected with the synchronisation involved. I will try with lmax disruptor where my disruptor consumer will performed delayed processing."}],"answers":[{"tags":[],"owner":{"account_id":3659497,"reputation":389,"user_id":3049693,"display_name":"saurabh.in"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644236190,"creation_date":1644141862,"answer_id":71006020,"question_id":70991244,"body_markdown":"Based on the helpful comments by DuncG and Jim Garrison, I realised that Watch Service is sensitive to the processing times of each notification. I was copying 6,416 files to the folder it was watching and if I was doing anything more than logging the ENTRY_XX event, it was missing on many of the updates.\r\n\r\nHere is what worked for me:\r\n1. While handling ENTRY_XX events, I am writing it to a LMAX Disruptor which has ring buffer size higher than max files expected in a batch (I set it to  2^19 i.e. 524,288 slots, and it&#39;s good enough to handle 50k or more file updates without blocking, assuming file will have 10 watch service notications).\r\n\r\n[**PS**: writing to a simple ExecutorService queue didn&#39;t help due to latency around thread synchronisation. I only got 1273 file names out of the 6,416!].\r\n\r\n2. I also had to warm up the ring buffer or else I was still missing some Watch Service updates. I am filling all its slots with test messages and then sending an async event to the function which copies 6,416 files to the watched folder. \r\n\r\nSample code:\r\n```\r\n// publishing file names from watch service event to Disrupto ring buffer\r\n \r\n    private void watchStagingFolder() {\r\n        try {\r\n            WatchService watchService = FileSystems.getDefault().newWatchService();\r\n            Path path = Paths.get( coreProperties.getStagingLocation() );\r\n            path.register( watchService,\r\n                    new WatchEvent.Kind[] { ENTRY_MODIFY, ENTRY_CREATE },\r\n                    SensitivityWatchEventModifier.HIGH\r\n            );\r\n\r\n            WatchKey key;\r\n            while ( ( key = watchService.take() ) != null ) {\r\n                log.info( &quot;key found: {}&quot;, key );\r\n                for ( WatchEvent&lt;?&gt; event : key.pollEvents() ) {\r\n                    String eventKindStr = event.kind().name();\r\n                    log.info( &quot;Event kind: {} . File affected: {}&quot;, eventKindStr, event.context() );\r\n                    if ( event.kind().equals( ENTRY_CREATE ) || event.kind().equals( ENTRY_MODIFY ) ) {\r\n                        String fileName = event.context().toString();\r\n                        log.info( &quot;File to be processed: {}&quot;, fileName );\r\n                        fileProcessorDisruptorEventProducer.send( fileName );\r\n                    } else {\r\n                        log.info( &quot;Ignoring event kind {}&quot;, event.kind() );\r\n                    }\r\n                }\r\n                key.reset();\r\n            }\r\n        } catch ( Exception e ) {\r\n            log.error( &quot;Found error while watching the staging directory.&quot;, e );\r\n        }\r\n    }\r\n\r\n// ensuring Disruptor ring buffer is warmed up\r\n@Component\r\n@RequiredArgsConstructor\r\n@Slf4j\r\npublic class DisruptorWarmer {\r\n    public static final String TEST_FILE_NAME = &quot;TEST_FILE_NAME&quot;;\r\n    private final CoreProperties coreProperties;\r\n    private final FileProcessorDisruptorEventProducer fileProcessorDisruptorEventProducer;\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n        int bufferSize = coreProperties.getDisruptor().getBufferSize();\r\n        for ( int i = 0; i &lt; bufferSize; i++ ) {\r\n            fileProcessorDisruptorEventProducer.send( TEST_FILE_NAME );\r\n        }\r\n        log.info( &quot;Warmed up disruptor with {} test messages.&quot;, bufferSize );\r\n    }\r\n}\r\n\r\n// processing files in the Disruptor consumer/handler\r\n    @Override\r\n    public void onEvent( Msg msg, long l, boolean b ) {\r\n        try {\r\n            if ( count &lt; bufferSize ) {\r\n                log.debug( &quot;Disruptor warming up. Count: {}. Ignoring msg: {}&quot;, count, msg.getPayload() );\r\n                count++;\r\n            } else if ( count == bufferSize ) {\r\n                log.info( &quot;Disruptor warmed up now with {} test messages.&quot;, count + 1 );\r\n                newSingleThreadExecutor.submit( () -&gt;\r\n                        applicationEventPublisher.publishEvent( new FileProcessorDisruptorReadyEvent( this, &quot;Disruptor warmed up.&quot; ) )\r\n                );\r\n                count++;\r\n            } else {\r\n                log.debug( &quot;File: {}&quot;, msg.getPayload() );\r\n############ \r\n// no longer worried about slow processing impacting watch service\r\n                processFile( ( String ) msg.getPayload() );\r\n############\r\n            }\r\n        } catch ( RuntimeException rte ) {\r\n            log.error( &quot;Found error while processing msg: [{}]. Skipping to next message.&quot;, msg, rte );\r\n        }\r\n    }\r\n```\r\n\r\n","title":"Reliable alternative to Java Watch Service","body":"<p>Based on the helpful comments by DuncG and Jim Garrison, I realised that Watch Service is sensitive to the processing times of each notification. I was copying 6,416 files to the folder it was watching and if I was doing anything more than logging the ENTRY_XX event, it was missing on many of the updates.</p>\n<p>Here is what worked for me:</p>\n<ol>\n<li>While handling ENTRY_XX events, I am writing it to a LMAX Disruptor which has ring buffer size higher than max files expected in a batch (I set it to  2^19 i.e. 524,288 slots, and it's good enough to handle 50k or more file updates without blocking, assuming file will have 10 watch service notications).</li>\n</ol>\n<p>[<strong>PS</strong>: writing to a simple ExecutorService queue didn't help due to latency around thread synchronisation. I only got 1273 file names out of the 6,416!].</p>\n<ol start=\"2\">\n<li>I also had to warm up the ring buffer or else I was still missing some Watch Service updates. I am filling all its slots with test messages and then sending an async event to the function which copies 6,416 files to the watched folder.</li>\n</ol>\n<p>Sample code:</p>\n<pre><code>// publishing file names from watch service event to Disrupto ring buffer\n \n    private void watchStagingFolder() {\n        try {\n            WatchService watchService = FileSystems.getDefault().newWatchService();\n            Path path = Paths.get( coreProperties.getStagingLocation() );\n            path.register( watchService,\n                    new WatchEvent.Kind[] { ENTRY_MODIFY, ENTRY_CREATE },\n                    SensitivityWatchEventModifier.HIGH\n            );\n\n            WatchKey key;\n            while ( ( key = watchService.take() ) != null ) {\n                log.info( &quot;key found: {}&quot;, key );\n                for ( WatchEvent&lt;?&gt; event : key.pollEvents() ) {\n                    String eventKindStr = event.kind().name();\n                    log.info( &quot;Event kind: {} . File affected: {}&quot;, eventKindStr, event.context() );\n                    if ( event.kind().equals( ENTRY_CREATE ) || event.kind().equals( ENTRY_MODIFY ) ) {\n                        String fileName = event.context().toString();\n                        log.info( &quot;File to be processed: {}&quot;, fileName );\n                        fileProcessorDisruptorEventProducer.send( fileName );\n                    } else {\n                        log.info( &quot;Ignoring event kind {}&quot;, event.kind() );\n                    }\n                }\n                key.reset();\n            }\n        } catch ( Exception e ) {\n            log.error( &quot;Found error while watching the staging directory.&quot;, e );\n        }\n    }\n\n// ensuring Disruptor ring buffer is warmed up\n@Component\n@RequiredArgsConstructor\n@Slf4j\npublic class DisruptorWarmer {\n    public static final String TEST_FILE_NAME = &quot;TEST_FILE_NAME&quot;;\n    private final CoreProperties coreProperties;\n    private final FileProcessorDisruptorEventProducer fileProcessorDisruptorEventProducer;\n\n    @PostConstruct\n    public void init() {\n        int bufferSize = coreProperties.getDisruptor().getBufferSize();\n        for ( int i = 0; i &lt; bufferSize; i++ ) {\n            fileProcessorDisruptorEventProducer.send( TEST_FILE_NAME );\n        }\n        log.info( &quot;Warmed up disruptor with {} test messages.&quot;, bufferSize );\n    }\n}\n\n// processing files in the Disruptor consumer/handler\n    @Override\n    public void onEvent( Msg msg, long l, boolean b ) {\n        try {\n            if ( count &lt; bufferSize ) {\n                log.debug( &quot;Disruptor warming up. Count: {}. Ignoring msg: {}&quot;, count, msg.getPayload() );\n                count++;\n            } else if ( count == bufferSize ) {\n                log.info( &quot;Disruptor warmed up now with {} test messages.&quot;, count + 1 );\n                newSingleThreadExecutor.submit( () -&gt;\n                        applicationEventPublisher.publishEvent( new FileProcessorDisruptorReadyEvent( this, &quot;Disruptor warmed up.&quot; ) )\n                );\n                count++;\n            } else {\n                log.debug( &quot;File: {}&quot;, msg.getPayload() );\n############ \n// no longer worried about slow processing impacting watch service\n                processFile( ( String ) msg.getPayload() );\n############\n            }\n        } catch ( RuntimeException rte ) {\n            log.error( &quot;Found error while processing msg: [{}]. Skipping to next message.&quot;, msg, rte );\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":3659497,"reputation":389,"user_id":3049693,"display_name":"saurabh.in"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1041,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1644236190,"creation_date":1643999505,"question_id":70991244,"body_markdown":"I am using Java nio&#39;s WatchService but I find it quite unreliable for the following use cases:\r\n\r\n1. When a very big file (&gt;500 megs) is written to the directory being watched, if I rely on ENTRY_CREATE event, the file is often times not yet ready to read - it&#39;s still being written by the other thread. So I normally resort to listening for ENTRY_MODIFY instead.\r\n\r\n2. But when thousands of small sized (~2Kb) files are copied to the watched directory, the ENTRY_CREATE or ENTRY_MODIFY doesn&#39;t get invoked for 80% of them!\r\n\r\nHas anyone else faced this? And is there a better more reliable lib or should I simply switch to a blocking queue imlementation where the file copier adds the file name into the queue and the consumer thread handles processing of the files?\r\n\r\nCode around WatchService implementation:\r\n```\r\n\r\n            WatchService watchService = FileSystems.getDefault().newWatchService();\r\n            Path path = Paths.get( coreProperties.getStagingLocation() );\r\n            path.register( watchService,\r\n                    new WatchEvent.Kind[] { ENTRY_MODIFY, ENTRY_CREATE },\r\n                    SensitivityWatchEventModifier.MEDIUM\r\n            );\r\n\r\n            WatchKey key;\r\n            while ( ( key = watchService.take() ) != null ) {\r\n                for ( WatchEvent&lt;?&gt; event : key.pollEvents() ) {\r\n                    log.info( &quot;Event kind: {} . File affected: {}.&quot;, event.kind(), event.context() );\r\n            // Processing the file..\r\n                }\r\n                key.reset();\r\n            }\r\n\r\n \r\n```","title":"Reliable alternative to Java Watch Service","body":"<p>I am using Java nio's WatchService but I find it quite unreliable for the following use cases:</p>\n<ol>\n<li><p>When a very big file (&gt;500 megs) is written to the directory being watched, if I rely on ENTRY_CREATE event, the file is often times not yet ready to read - it's still being written by the other thread. So I normally resort to listening for ENTRY_MODIFY instead.</p>\n</li>\n<li><p>But when thousands of small sized (~2Kb) files are copied to the watched directory, the ENTRY_CREATE or ENTRY_MODIFY doesn't get invoked for 80% of them!</p>\n</li>\n</ol>\n<p>Has anyone else faced this? And is there a better more reliable lib or should I simply switch to a blocking queue imlementation where the file copier adds the file name into the queue and the consumer thread handles processing of the files?</p>\n<p>Code around WatchService implementation:</p>\n<pre><code>\n            WatchService watchService = FileSystems.getDefault().newWatchService();\n            Path path = Paths.get( coreProperties.getStagingLocation() );\n            path.register( watchService,\n                    new WatchEvent.Kind[] { ENTRY_MODIFY, ENTRY_CREATE },\n                    SensitivityWatchEventModifier.MEDIUM\n            );\n\n            WatchKey key;\n            while ( ( key = watchService.take() ) != null ) {\n                for ( WatchEvent&lt;?&gt; event : key.pollEvents() ) {\n                    log.info( &quot;Event kind: {} . File affected: {}.&quot;, event.kind(), event.context() );\n            // Processing the file..\n                }\n                key.reset();\n            }\n\n \n</code></pre>\n"},{"tags":["java","junit","hashtable"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1644232034,"post_id":71017379,"comment_id":125541599,"body_markdown":"Why would you expect the size to be negative? I&#39;m not saying your `HashSet` class is correct, merely that the test feels obviously wrong.","body":"Why would you expect the size to be negative? I&#39;m not saying your <code>HashSet</code> class is correct, merely that the test feels obviously wrong."},{"owner":{"account_id":2889245,"reputation":3533,"user_id":2478398,"display_name":"BeUndead"},"score":0,"creation_date":1644232436,"post_id":71017379,"comment_id":125541743,"body_markdown":"As @Andy Turner has alluded to, your `expectedSize = 0;` (followed by looped `expectedSize—;`) makes no sense. You add 10 elements in the setup, so why do you not expect 10 things in it on the first pass? (You also create a new set in the test, rather than using the one you set up, which is why it actually contains 0…)","body":"As @Andy Turner has alluded to, your <code>expectedSize = 0;</code> (followed by looped <code>expectedSize—;</code>) makes no sense. You add 10 elements in the setup, so why do you not expect 10 things in it on the first pass? (You also create a new set in the test, rather than using the one you set up, which is why it actually contains 0…)"},{"owner":{"display_name":"user17024023"},"score":0,"creation_date":1644234028,"post_id":71017379,"comment_id":125542310,"body_markdown":"@BeUndead How would you have started the test?","body":"@BeUndead How would you have started the test?"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1644234227,"post_id":71017379,"comment_id":125542384,"body_markdown":"@user17024023 by putting things into the set, and setting the expected size to the size of the set.","body":"@user17024023 by putting things into the set, and setting the expected size to the size of the set."},{"owner":{"display_name":"user17024023"},"score":0,"creation_date":1644236094,"post_id":71017379,"comment_id":125543117,"body_markdown":"@AndyTurner I do not know have you meant, but I have implemented a new code for the test. Now the test goes through. Please Look if this is how you meant","body":"@AndyTurner I do not know have you meant, but I have implemented a new code for the test. Now the test goes through. Please Look if this is how you meant"}],"owner":{"display_name":"user17024023"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644236027,"creation_date":1644231410,"question_id":71017379,"body_markdown":"I have one test in this testclass that is not going through. I have implemented how I think it should be written, but I get a message : \r\n```\r\njava.lang.AssertionError: \r\nExpected: &lt;-1&gt;\r\n     but: was &lt;0&gt;\r\nExpected :&lt;-1&gt;\r\nActual   :&lt;0&gt;\r\n```\r\n \r\nI dont know what I am doing wrong. I think that my Hashtable code is correct however, this test does not work. Please look at the code.\r\n\r\n//EDIT: I have added the new implementation of the test, where it goes through in JUNIT test.\r\n\r\n\r\n//TODO: How should I write this test in the testclass.\r\n\r\n\r\n\r\nInterface class:\r\n```\r\n/**\r\n * An interface describing a generic set. Duplicates are not allowed.\r\n */\r\npublic interface Set&lt;T&gt; {\r\n\r\n    boolean add(T elem);\r\n\r\n    boolean remove(T elem);\r\n\r\n    boolean contains(T elem);\r\n\r\n    int size();\r\n}\r\n\r\n```\r\n\r\nHashtable class:\r\n```\r\n\r\nimport java.util.LinkedList;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\nimport static java.util.Objects.hash;\r\n\r\n/**\r\n * A hash table-based implementation of the Set interface.\r\n */\r\npublic class HashSet&lt;T&gt; implements Set&lt;T&gt; {\r\n   private List&lt;T&gt;[] table;\r\n    private int size;\r\n    private int capacity;\r\n    private int index;\r\n\r\n\r\n\r\n     /**\r\n     * Creates a hash table with the given capacity (amount of buckets).\r\n     *\r\n     * @throws IllegalArgumentException if capacity &lt;= 0.\r\n     */\r\n    public HashSet(int capacity) {\r\n        if (capacity &lt;= 0) {\r\n            throw new IllegalArgumentException(\r\n                &quot;capacity must be a positive, non-zero value! Provided: &quot; + capacity);\r\n        } \r\n     @SuppressWarnings(&quot;unchecked&quot;) // for this declaration only\r\n      List&lt;T&gt;[] t = new LinkedList[capacity];\r\n      table = t;\r\n      size = 0;\r\n    }\r\n\r\n\r\n    /**\r\n     * Adds the given element to the set.\r\n     *\r\n     * Complexity: O(1) expected time.\r\n     *\r\n     * @param elem An element to add to the set.\r\n     * @return true if the set did not contain the element, otherwise false.\r\n     */\r\n    @Override\r\n    public boolean add(T elem) {\r\n    if (elem == null || elem.equals(&quot;&quot;)){\r\n            return false;\r\n        }\r\n\r\n        int hash = Math.abs(elem.hashCode() % table.length);\r\n\r\n        if (table[hash]== null){\r\n            table[hash] = new LinkedList&lt;T&gt;();\r\n            table[hash].add(elem);\r\n            size ++;\r\n            return true;\r\n        }\r\n        if (table[hash].contains(elem)){\r\n            return false;\r\n        }else{\r\n            table[hash].add(elem);\r\n            size++;\r\n            return true;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Removes the given element from the dictionary, if it is present.\r\n     *\r\n     * Complexity: O(1) expected time.\r\n     *\r\n     * @param elem An element to remove from the set.\r\n     * @return true if the set contained the element, false otherwise.\r\n     */\r\n    @Override\r\n    public boolean remove(T elem) {\r\n        if (elem == null || elem.equals(&quot;&quot;)){\r\n            return false;\r\n        }\r\n\r\n        int hash = Math.abs(elem.hashCode() % table.length);\r\n\r\n        if (table[hash] != null &amp;&amp; table[hash].contains(elem)){\r\n            table[hash].remove(elem);\r\n            size --;\r\n            return true;\r\n        }else{\r\n            return false;\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Check if an element is in the Set.\r\n     *\r\n     * Complexity: O(1) expected time.\r\n     *\r\n     * @param elem An element to look for.\r\n     * @return true if the element is in the set, false otherwise.\r\n     */\r\n    @Override\r\n    public boolean contains(T elem) {\r\n        if (elem == null || elem .equals(&quot;&quot;)){\r\n            return false;\r\n        }\r\n        int hash = Math.abs(elem.hashCode() % table.length);\r\n\r\n        if (table[hash] != null &amp;&amp; table[hash].contains(elem)){\r\n            return true;\r\n        }else{\r\n            return false;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        HashSet&lt;?&gt; hashSet = (HashSet&lt;?&gt;) o;\r\n        return capacity == hashSet.capacity &amp;&amp; size == hashSet.size &amp;&amp; index == hashSet.index &amp;&amp; Objects.equals(table, hashSet.table);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return hash(capacity, size, index, table);\r\n    }\r\n\r\n    /**\r\n     * Returns the number of elements in this set.\r\n     *\r\n     * Complexity: O(1) expected time.\r\n     *\r\n     * @return The amount of elements in this set.\r\n     */\r\n    @Override\r\n    public int size() {\r\n        return size;\r\n    }\r\n}\r\n\r\n\r\n```\r\nTest class:\r\n```\r\nimport org.junit.Test;\r\nimport org.junit.Before;\r\nimport static org.junit.Assert.*;\r\nimport static org.hamcrest.MatcherAssert.assertThat;\r\nimport static org.hamcrest.CoreMatchers.*;\r\n\r\nimport java.util.Arrays;\r\n\r\n/**\r\n * Test for the HashSet implementation of the Set interface. Runs both the\r\n * SetTest tests, as well as tests specific to hashing.\r\n *\r\n * This test class mostly contains only hash collision tests.\r\n */\r\npublic class HashSetTest extends SetTest {\r\n    private Set&lt;SingleHashUnequal&gt; set;\r\n    private SingleHashUnequal[] uniqueObjsWithEqualHashes;\r\n\r\n    /**\r\n     * Returns an implementation of Set that can hold at least &#39;minCapacity&#39;\r\n     * Integers.\r\n     *\r\n     * @param minCapacity The least amount of elements the Set must be able to\r\n     * hold.\r\n     * @return An implementation of Set.\r\n     */\r\n    @Override\r\n    protected Set&lt;Integer&gt; getIntegerSet(int minCapacity) {\r\n        return new HashSet&lt;Integer&gt;(minCapacity);\r\n    }\r\n\r\n    @Override\r\n    @Before\r\n    public void setUp() {\r\n        // We are overriding the setUp method of SetTest, so we need to call\r\n        // it explicitly to not break everything.\r\n        super.setUp();\r\n\r\n        int numDummies = 10;\r\n        uniqueObjsWithEqualHashes = new SingleHashUnequal[numDummies];\r\n        set = new HashSet&lt;SingleHashUnequal&gt;(numDummies * 2);\r\n        for (int i = 0; i &lt; numDummies; i++) {\r\n            SingleHashUnequal dummy = new SingleHashUnequal();\r\n            set.add(dummy);\r\n            uniqueObjsWithEqualHashes[i] = dummy;\r\n        }\r\n    }\r\n\r\n  @Test\r\n    public void removeUniqueElementsWithEqualHashesDecrementsSize() { //TESTT\r\n        SingleHashUnequal elem = new SingleHashUnequal();\r\n        int expectedSize = set.size();\r\n            // Act\r\n            set.remove(elem);\r\n            // Assert\r\n            assertThat(set.size(), equalTo(expectedSize));\r\n        }\r\n    }\r\n    /**\r\n     * A helper class for testing hash collisions. Instances equal only\r\n     * themselves, and all instances have the same hashCode.\r\n     */\r\n    private static class SingleHashUnequal {\r\n        private static final int HASH = 0;\r\n\r\n        @Override\r\n        public boolean equals(Object o) {\r\n\r\n            return this == o;\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return HASH;\r\n        }\r\n    }\r\n}\r\n```","title":"removeUniqueElementsWithEqualHashesDecrementsSize test nor workin with hastable","body":"<p>I have one test in this testclass that is not going through. I have implemented how I think it should be written, but I get a message :</p>\n<pre><code>java.lang.AssertionError: \nExpected: &lt;-1&gt;\n     but: was &lt;0&gt;\nExpected :&lt;-1&gt;\nActual   :&lt;0&gt;\n</code></pre>\n<p>I dont know what I am doing wrong. I think that my Hashtable code is correct however, this test does not work. Please look at the code.</p>\n<p>//EDIT: I have added the new implementation of the test, where it goes through in JUNIT test.</p>\n<p>//TODO: How should I write this test in the testclass.</p>\n<p>Interface class:</p>\n<pre><code>/**\n * An interface describing a generic set. Duplicates are not allowed.\n */\npublic interface Set&lt;T&gt; {\n\n    boolean add(T elem);\n\n    boolean remove(T elem);\n\n    boolean contains(T elem);\n\n    int size();\n}\n\n</code></pre>\n<p>Hashtable class:</p>\n<pre><code>\nimport java.util.LinkedList;\nimport java.util.List;\nimport java.util.Objects;\nimport static java.util.Objects.hash;\n\n/**\n * A hash table-based implementation of the Set interface.\n */\npublic class HashSet&lt;T&gt; implements Set&lt;T&gt; {\n   private List&lt;T&gt;[] table;\n    private int size;\n    private int capacity;\n    private int index;\n\n\n\n     /**\n     * Creates a hash table with the given capacity (amount of buckets).\n     *\n     * @throws IllegalArgumentException if capacity &lt;= 0.\n     */\n    public HashSet(int capacity) {\n        if (capacity &lt;= 0) {\n            throw new IllegalArgumentException(\n                &quot;capacity must be a positive, non-zero value! Provided: &quot; + capacity);\n        } \n     @SuppressWarnings(&quot;unchecked&quot;) // for this declaration only\n      List&lt;T&gt;[] t = new LinkedList[capacity];\n      table = t;\n      size = 0;\n    }\n\n\n    /**\n     * Adds the given element to the set.\n     *\n     * Complexity: O(1) expected time.\n     *\n     * @param elem An element to add to the set.\n     * @return true if the set did not contain the element, otherwise false.\n     */\n    @Override\n    public boolean add(T elem) {\n    if (elem == null || elem.equals(&quot;&quot;)){\n            return false;\n        }\n\n        int hash = Math.abs(elem.hashCode() % table.length);\n\n        if (table[hash]== null){\n            table[hash] = new LinkedList&lt;T&gt;();\n            table[hash].add(elem);\n            size ++;\n            return true;\n        }\n        if (table[hash].contains(elem)){\n            return false;\n        }else{\n            table[hash].add(elem);\n            size++;\n            return true;\n        }\n    }\n\n    /**\n     * Removes the given element from the dictionary, if it is present.\n     *\n     * Complexity: O(1) expected time.\n     *\n     * @param elem An element to remove from the set.\n     * @return true if the set contained the element, false otherwise.\n     */\n    @Override\n    public boolean remove(T elem) {\n        if (elem == null || elem.equals(&quot;&quot;)){\n            return false;\n        }\n\n        int hash = Math.abs(elem.hashCode() % table.length);\n\n        if (table[hash] != null &amp;&amp; table[hash].contains(elem)){\n            table[hash].remove(elem);\n            size --;\n            return true;\n        }else{\n            return false;\n        }\n    }\n\n\n    /**\n     * Check if an element is in the Set.\n     *\n     * Complexity: O(1) expected time.\n     *\n     * @param elem An element to look for.\n     * @return true if the element is in the set, false otherwise.\n     */\n    @Override\n    public boolean contains(T elem) {\n        if (elem == null || elem .equals(&quot;&quot;)){\n            return false;\n        }\n        int hash = Math.abs(elem.hashCode() % table.length);\n\n        if (table[hash] != null &amp;&amp; table[hash].contains(elem)){\n            return true;\n        }else{\n            return false;\n        }\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        HashSet&lt;?&gt; hashSet = (HashSet&lt;?&gt;) o;\n        return capacity == hashSet.capacity &amp;&amp; size == hashSet.size &amp;&amp; index == hashSet.index &amp;&amp; Objects.equals(table, hashSet.table);\n    }\n\n    @Override\n    public int hashCode() {\n        return hash(capacity, size, index, table);\n    }\n\n    /**\n     * Returns the number of elements in this set.\n     *\n     * Complexity: O(1) expected time.\n     *\n     * @return The amount of elements in this set.\n     */\n    @Override\n    public int size() {\n        return size;\n    }\n}\n\n\n</code></pre>\n<p>Test class:</p>\n<pre><code>import org.junit.Test;\nimport org.junit.Before;\nimport static org.junit.Assert.*;\nimport static org.hamcrest.MatcherAssert.assertThat;\nimport static org.hamcrest.CoreMatchers.*;\n\nimport java.util.Arrays;\n\n/**\n * Test for the HashSet implementation of the Set interface. Runs both the\n * SetTest tests, as well as tests specific to hashing.\n *\n * This test class mostly contains only hash collision tests.\n */\npublic class HashSetTest extends SetTest {\n    private Set&lt;SingleHashUnequal&gt; set;\n    private SingleHashUnequal[] uniqueObjsWithEqualHashes;\n\n    /**\n     * Returns an implementation of Set that can hold at least 'minCapacity'\n     * Integers.\n     *\n     * @param minCapacity The least amount of elements the Set must be able to\n     * hold.\n     * @return An implementation of Set.\n     */\n    @Override\n    protected Set&lt;Integer&gt; getIntegerSet(int minCapacity) {\n        return new HashSet&lt;Integer&gt;(minCapacity);\n    }\n\n    @Override\n    @Before\n    public void setUp() {\n        // We are overriding the setUp method of SetTest, so we need to call\n        // it explicitly to not break everything.\n        super.setUp();\n\n        int numDummies = 10;\n        uniqueObjsWithEqualHashes = new SingleHashUnequal[numDummies];\n        set = new HashSet&lt;SingleHashUnequal&gt;(numDummies * 2);\n        for (int i = 0; i &lt; numDummies; i++) {\n            SingleHashUnequal dummy = new SingleHashUnequal();\n            set.add(dummy);\n            uniqueObjsWithEqualHashes[i] = dummy;\n        }\n    }\n\n  @Test\n    public void removeUniqueElementsWithEqualHashesDecrementsSize() { //TESTT\n        SingleHashUnequal elem = new SingleHashUnequal();\n        int expectedSize = set.size();\n            // Act\n            set.remove(elem);\n            // Assert\n            assertThat(set.size(), equalTo(expectedSize));\n        }\n    }\n    /**\n     * A helper class for testing hash collisions. Instances equal only\n     * themselves, and all instances have the same hashCode.\n     */\n    private static class SingleHashUnequal {\n        private static final int HASH = 0;\n\n        @Override\n        public boolean equals(Object o) {\n\n            return this == o;\n        }\n\n        @Override\n        public int hashCode() {\n            return HASH;\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644235888,"creation_date":1644235888,"answer_id":71018367,"question_id":71017739,"body_markdown":"You could use `BETWEEN` first day of month and last day of month. According to [jpql doc][1] `BETWEEN` is inclusive.\r\n\r\nThe downside is doing some date calculations, but they are trivial with `java.time` classes. Let&#39;s say you want dates from February 2020. You could get first and last day like this:\r\n```\r\nint year = 2020;\r\nint month = 2;\r\nLocalDate firstDay = LocalDate.of(year, month, 1);\r\nLocalDate lastDay = firstDay.withDayOfMonth(firstDay.lengthOfMonth());\r\n```\r\nThen the query will look like this:\r\n```\r\n@Query(&quot;SELECT t FROM Transaction t WHERE t.insuranceDate BETWEEN :firstDay AND :lastDay&quot;)\r\n```\r\n\r\n  [1]: https://docs.oracle.com/cd/E17904_01/apirefs.1111/e13946/ejb3_langref.html#ejb3_langref_between","title":"Spring JPA - JPQL Named Query Find All By Year And And month","body":"<p>You could use <code>BETWEEN</code> first day of month and last day of month. According to <a href=\"https://docs.oracle.com/cd/E17904_01/apirefs.1111/e13946/ejb3_langref.html#ejb3_langref_between\" rel=\"nofollow noreferrer\">jpql doc</a> <code>BETWEEN</code> is inclusive.</p>\n<p>The downside is doing some date calculations, but they are trivial with <code>java.time</code> classes. Let's say you want dates from February 2020. You could get first and last day like this:</p>\n<pre><code>int year = 2020;\nint month = 2;\nLocalDate firstDay = LocalDate.of(year, month, 1);\nLocalDate lastDay = firstDay.withDayOfMonth(firstDay.lengthOfMonth());\n</code></pre>\n<p>Then the query will look like this:</p>\n<pre><code>@Query(&quot;SELECT t FROM Transaction t WHERE t.insuranceDate BETWEEN :firstDay AND :lastDay&quot;)\n</code></pre>\n"}],"owner":{"account_id":19998921,"reputation":83,"user_id":14658317,"display_name":"Ugleethyn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":524,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644235888,"creation_date":1644232925,"question_id":71017739,"body_markdown":"I am trying to get all objects by specific month and year. \r\nI have done this with Native Query \r\n\r\n       @Query(value = &quot;select * from transaction_log as t where year(t.insurance_period)=(:year) AND user_id =(:userId) AND t.employer_id is null&quot;, nativeQuery = true)\r\n\r\nAnd I want to be done with another way so I can use entity graphs etc.\r\nI have try \r\n\r\n    @Query(&quot;select t from Transaction t where year(t.insuranceDate) = ?1 and month(t.insuranceDate) = ?2&quot;)\r\nAnd I get error on method Year () for unexcepted &#39;(&#39;\r\n\r\nand the following with the same error at EXTRACT method.\r\n\r\n    @Query(&quot;SELECT t FROM Transaction t WHERE EXTRACT (YEAR FROM t.insuranceDate) = :year AND EXTRACT (month FROMt.insuranceDate) = :month&quot;)\r\n\r\n","title":"Spring JPA - JPQL Named Query Find All By Year And And month","body":"<p>I am trying to get all objects by specific month and year.\nI have done this with Native Query</p>\n<pre><code>   @Query(value = &quot;select * from transaction_log as t where year(t.insurance_period)=(:year) AND user_id =(:userId) AND t.employer_id is null&quot;, nativeQuery = true)\n</code></pre>\n<p>And I want to be done with another way so I can use entity graphs etc.\nI have try</p>\n<pre><code>@Query(&quot;select t from Transaction t where year(t.insuranceDate) = ?1 and month(t.insuranceDate) = ?2&quot;)\n</code></pre>\n<p>And I get error on method Year () for unexcepted '('</p>\n<p>and the following with the same error at EXTRACT method.</p>\n<pre><code>@Query(&quot;SELECT t FROM Transaction t WHERE EXTRACT (YEAR FROM t.insuranceDate) = :year AND EXTRACT (month FROMt.insuranceDate) = :month&quot;)\n</code></pre>\n"},{"tags":["java","spring","jpa"],"comments":[{"owner":{"account_id":5916763,"reputation":3250,"user_id":4655324,"accept_rate":79,"display_name":"Mevl&#252;t&#214;zdemir"},"score":0,"creation_date":1644222730,"post_id":71012292,"comment_id":125538279,"body_markdown":"You could try to add @OneToOne(cascade = CascadeType.ALL) to your OneToOne relations. After all: I&#39;m not sure your solution will work, since in the Queue.java you define a OneToOne relation, and in QueueItem.java you define a ManyToOne relation back. A solution for your problem could be that you define a new column in QueueItem.java like &#39;type&#39; that could have the value of HEAD/TAIL/??. Then you can create a normal bi-directional OneToMany and ManyToOne relation between Queue.java and QueueItem.java.","body":"You could try to add @OneToOne(cascade = CascadeType.ALL) to your OneToOne relations. After all: I&#39;m not sure your solution will work, since in the Queue.java you define a OneToOne relation, and in QueueItem.java you define a ManyToOne relation back. A solution for your problem could be that you define a new column in QueueItem.java like &#39;type&#39; that could have the value of HEAD/TAIL/??. Then you can create a normal bi-directional OneToMany and ManyToOne relation between Queue.java and QueueItem.java."},{"owner":{"account_id":5665214,"reputation":325,"user_id":4481550,"accept_rate":88,"display_name":"Micka&#235;l B."},"score":0,"creation_date":1644222862,"post_id":71012292,"comment_id":125538311,"body_markdown":"Why have you commented the &quot;queueItemRepository.save()&quot; ? You are currently adding a transient QueueItem to the Queue children list, that will not work because that QueueItem is unknown from a DB point of view. You need to save first the children, and add the children to the list while being sure that the association between the two is set (queueItem.queue must references the parent too)","body":"Why have you commented the &quot;queueItemRepository.save()&quot; ? You are currently adding a transient QueueItem to the Queue children list, that will not work because that QueueItem is unknown from a DB point of view. You need to save first the children, and add the children to the list while being sure that the association between the two is set (queueItem.queue must references the parent too)"},{"owner":{"account_id":16160199,"reputation":41,"user_id":14729270,"display_name":"randomlyalex"},"score":0,"creation_date":1644230884,"post_id":71012292,"comment_id":125541154,"body_markdown":"Ah I think you&#39;re right, i have a OneToOne on head and tail, but I initialised with the head and the tail as the senintel, thinking it would be easier to check head == tail over null.  This is probably whats causing it.  \n\nAnd that commented out is my bad, I had a builder in there that i swapped out and this code is copied and pasted inbetween that stage. \n\nI&#39;ll remove my Queue create initing with a head and tail of the same QueueItem","body":"Ah I think you&#39;re right, i have a OneToOne on head and tail, but I initialised with the head and the tail as the senintel, thinking it would be easier to check head == tail over null.  This is probably whats causing it.    And that commented out is my bad, I had a builder in there that i swapped out and this code is copied and pasted inbetween that stage.   I&#39;ll remove my Queue create initing with a head and tail of the same QueueItem"},{"owner":{"account_id":16160199,"reputation":41,"user_id":14729270,"display_name":"randomlyalex"},"score":0,"creation_date":1644238603,"post_id":71012292,"comment_id":125544025,"body_markdown":"So I don&#39;t know exactly which is the issue, but I have (had) some circular dependency where i couldn&#39;t save one without the other etc...  I removed all the restrictions on the entities and it all works but without the database owning the nullable or uniqueness.  I&#39;ll work on that next :)","body":"So I don&#39;t know exactly which is the issue, but I have (had) some circular dependency where i couldn&#39;t save one without the other etc...  I removed all the restrictions on the entities and it all works but without the database owning the nullable or uniqueness.  I&#39;ll work on that next :)"}],"owner":{"account_id":16160199,"reputation":41,"user_id":14729270,"display_name":"randomlyalex"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1071,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644235877,"creation_date":1644193388,"question_id":71012292,"body_markdown":"I know I&#39;m doing something funky, and I have spent more than i care to admit debugging in the IDE, swapping annotations and reading other peoples questions &amp; answers, but i&#39;m truly failing.  So i&#39;m willing to take the wrap from the replies at this stage.\r\n\r\nQueue Entity:\r\n```\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity (name = &quot;Queue&quot;)\r\n@Table(name = &quot;queues&quot;)\r\npublic class Queue implements Serializable {\r\n\r\n\t@Id\r\n\t@Column(name = &quot;uuid&quot;, unique = true, nullable = false)\r\n\tprivate UUID uuid = UUID.randomUUID();\r\n\r\n\t@Column(name = &quot;name&quot;, nullable = false)\r\n\tprivate String name;\r\n\r\n\t@OneToOne(optional = false)\r\n\t@JoinColumn(name = &quot;head&quot;, nullable = false, unique = true)\r\n\tprivate QueueItem head;\r\n\r\n\t@OneToOne(optional = false)\r\n\t@JoinColumn(name = &quot;tail&quot;, nullable = false, unique = true)\r\n\tprivate QueueItem tail;\r\n\r\n\t@OneToMany(mappedBy = &quot;queue&quot;, cascade = CascadeType.ALL)\r\n\tprivate List&lt;QueueItem&gt; queueItems = new ArrayList&lt;&gt;();\r\n\r\n\\\\getters &amp; setters\r\n\r\n```\r\nQueueItem Entity:\r\n```\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@Entity (name = &quot;QueueItem&quot;)\r\n@Table(name = &quot;queue_items&quot;)\r\npublic class QueueItem implements Serializable {\r\n\r\n\t@Id\r\n\t@Column(name = &quot;uuid&quot;, unique = true, nullable = false)\r\n\tprivate UUID uuid;\r\n\r\n\t@ManyToOne\r\n\t@JoinColumn(name=&quot;queue_id&quot;, nullable=false)\r\n\tprivate Queue queue;  //queue and position are unique\r\n\r\n\t@Column(name = &quot;position&quot;, nullable = false)\r\n\tprivate Integer position;\r\n\r\n\t@ManyToOne()\r\n\t@JoinColumn(name=&quot;user_id&quot;, nullable=false)\r\n\tprivate User user;\r\n\r\n\tpublic QueueItem( Queue queue, Integer position, User user ) {\r\n\t\tthis.queue = queue;\r\n\t\tthis.position = position;\r\n\t\tthis.user = user;\r\n\t\tthis.uuid = UUID.randomUUID();\r\n\t}\r\n\r\n\\\\getters &amp; setters\r\n```\r\n\r\nI also have a User Entity which is simple.\r\n\r\nMy RestController QueueController calls a QueueService.createQueue.\r\n\r\n```\r\n@Component\r\npublic class QueueService {\r\n\r\n\t@Autowired\r\n\tprivate QueueRepository queueRepository;\r\n\t@Autowired\r\n\tprivate QueueItemService queueItemService;\r\n\r\n\tpublic Queue createQueue(final String name) {\r\n\t\tQueue queueToSave = new Queue(name);\r\n\t\tQueueItem sentinelQueueItem = queueItemService.createSentinelItem( queueToSave );\r\n\t\tqueueToSave.setHead( sentinelQueueItem );\r\n\t\tqueueToSave.setTail( sentinelQueueItem ); // make this a builder\r\n\t\tqueueToSave.addtoQueueItemsList(sentinelQueueItem );\r\n\t\treturn queueRepository.save(queueToSave);\r\n\t}\r\n}\r\n```\r\nwhich as you can see interacts with a QueueItemService.\r\n```\r\n@Component\r\npublic class QueueItemService {\r\n\r\n\t@Autowired\r\n\tprivate QueueItemRepository queueItemRepository;\r\n\t@Autowired\r\n\tprivate UserService userService;\r\n\r\n\tpublic QueueItem createSentinelItem( Queue queue) {\r\n\r\n\t\tUUID sentinelQueueUuid = UUID.nameUUIDFromBytes(String.format( &quot;sentinal_{}&quot;, queue.getName()).getBytes());\r\n\t\tUser sentinelUser = userService.getSentinelUser();\r\n\t\tQueueItem sentinelQueueItem = new QueueItem(sentinelQueueUuid , queue, 1, sentinelUser);\r\n\t\treturn queueItemRepository.save(sentinelQueueItem);\r\n\t}\r\n}\r\n```\r\n\r\nWe are failing when saving here: `queueRepository.save(queueToSave)` or earlier `queueItemRepository.save(sentinelQueueItem)` if i try and save it first.\r\n\r\n\r\n\r\nwith error: \r\n```\r\nUnable to find click.whosnext.restapiback.domains.QueueItem with id 86bfd489-7ce0-3137-b714-79bc59b7685c; nested exception is javax.persistence.EntityNotFoundException: Unable to find click.whosnext.restapiback.domains.QueueItem with id 86bfd489-7ce0-3137-b714-79bc59b7685c&quot;\r\n```\r\n\r\nI&#39;ve debugged and I feel like I end up with the object i want in the shape it should be ready for the queueRepo.save.  But i&#39;m missing something obvious clearly.","title":"Exception is javax.persistence.EntityNotFoundException: Unable to find the EntityClass with id &quot;xx&quot;","body":"<p>I know I'm doing something funky, and I have spent more than i care to admit debugging in the IDE, swapping annotations and reading other peoples questions &amp; answers, but i'm truly failing.  So i'm willing to take the wrap from the replies at this stage.</p>\n<p>Queue Entity:</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Entity (name = &quot;Queue&quot;)\n@Table(name = &quot;queues&quot;)\npublic class Queue implements Serializable {\n\n    @Id\n    @Column(name = &quot;uuid&quot;, unique = true, nullable = false)\n    private UUID uuid = UUID.randomUUID();\n\n    @Column(name = &quot;name&quot;, nullable = false)\n    private String name;\n\n    @OneToOne(optional = false)\n    @JoinColumn(name = &quot;head&quot;, nullable = false, unique = true)\n    private QueueItem head;\n\n    @OneToOne(optional = false)\n    @JoinColumn(name = &quot;tail&quot;, nullable = false, unique = true)\n    private QueueItem tail;\n\n    @OneToMany(mappedBy = &quot;queue&quot;, cascade = CascadeType.ALL)\n    private List&lt;QueueItem&gt; queueItems = new ArrayList&lt;&gt;();\n\n\\\\getters &amp; setters\n\n</code></pre>\n<p>QueueItem Entity:</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Entity (name = &quot;QueueItem&quot;)\n@Table(name = &quot;queue_items&quot;)\npublic class QueueItem implements Serializable {\n\n    @Id\n    @Column(name = &quot;uuid&quot;, unique = true, nullable = false)\n    private UUID uuid;\n\n    @ManyToOne\n    @JoinColumn(name=&quot;queue_id&quot;, nullable=false)\n    private Queue queue;  //queue and position are unique\n\n    @Column(name = &quot;position&quot;, nullable = false)\n    private Integer position;\n\n    @ManyToOne()\n    @JoinColumn(name=&quot;user_id&quot;, nullable=false)\n    private User user;\n\n    public QueueItem( Queue queue, Integer position, User user ) {\n        this.queue = queue;\n        this.position = position;\n        this.user = user;\n        this.uuid = UUID.randomUUID();\n    }\n\n\\\\getters &amp; setters\n</code></pre>\n<p>I also have a User Entity which is simple.</p>\n<p>My RestController QueueController calls a QueueService.createQueue.</p>\n<pre><code>@Component\npublic class QueueService {\n\n    @Autowired\n    private QueueRepository queueRepository;\n    @Autowired\n    private QueueItemService queueItemService;\n\n    public Queue createQueue(final String name) {\n        Queue queueToSave = new Queue(name);\n        QueueItem sentinelQueueItem = queueItemService.createSentinelItem( queueToSave );\n        queueToSave.setHead( sentinelQueueItem );\n        queueToSave.setTail( sentinelQueueItem ); // make this a builder\n        queueToSave.addtoQueueItemsList(sentinelQueueItem );\n        return queueRepository.save(queueToSave);\n    }\n}\n</code></pre>\n<p>which as you can see interacts with a QueueItemService.</p>\n<pre><code>@Component\npublic class QueueItemService {\n\n    @Autowired\n    private QueueItemRepository queueItemRepository;\n    @Autowired\n    private UserService userService;\n\n    public QueueItem createSentinelItem( Queue queue) {\n\n        UUID sentinelQueueUuid = UUID.nameUUIDFromBytes(String.format( &quot;sentinal_{}&quot;, queue.getName()).getBytes());\n        User sentinelUser = userService.getSentinelUser();\n        QueueItem sentinelQueueItem = new QueueItem(sentinelQueueUuid , queue, 1, sentinelUser);\n        return queueItemRepository.save(sentinelQueueItem);\n    }\n}\n</code></pre>\n<p>We are failing when saving here: <code>queueRepository.save(queueToSave)</code> or earlier <code>queueItemRepository.save(sentinelQueueItem)</code> if i try and save it first.</p>\n<p>with error:</p>\n<pre><code>Unable to find click.whosnext.restapiback.domains.QueueItem with id 86bfd489-7ce0-3137-b714-79bc59b7685c; nested exception is javax.persistence.EntityNotFoundException: Unable to find click.whosnext.restapiback.domains.QueueItem with id 86bfd489-7ce0-3137-b714-79bc59b7685c&quot;\n</code></pre>\n<p>I've debugged and I feel like I end up with the object i want in the shape it should be ready for the queueRepo.save.  But i'm missing something obvious clearly.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":1138392,"reputation":9603,"user_id":1122959,"accept_rate":100,"display_name":"rocketboy"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1376473034,"creation_date":1376472284,"answer_id":18227832,"question_id":18227634,"body_markdown":"How about comparing the paths?\r\n\r\n\r\n        boolean areRelated = file.getAbsolutePath().contains(dir.getAbsolutePath());\r\n        System.out.println(areRelated);\r\n\r\nor \r\n\r\n    boolean areRelated = child.getAbsolutePath().startsWith(parent.getAbsolutePath())","title":"Check if file is in (sub)directory","body":"<p>How about comparing the paths?</p>\n\n<pre><code>    boolean areRelated = file.getAbsolutePath().contains(dir.getAbsolutePath());\n    System.out.println(areRelated);\n</code></pre>\n\n<p>or </p>\n\n<pre><code>boolean areRelated = child.getAbsolutePath().startsWith(parent.getAbsolutePath())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3052937,"reputation":17914,"user_id":2587166,"accept_rate":83,"display_name":"Luca Basso Ricci"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1376472560,"creation_date":1376472560,"answer_id":18227949,"question_id":18227634,"body_markdown":"If you plan to works with file and filenames heavly check apache fileutils and filenameutils libraries. Are full of useful (and portale if portability is mamdatory)  functions ","title":"Check if file is in (sub)directory","body":"<p>If you plan to works with file and filenames heavly check apache fileutils and filenameutils libraries. Are full of useful (and portale if portability is mamdatory)  functions </p>\n"},{"tags":[],"owner":{"account_id":2061440,"reputation":2775,"user_id":1837873,"display_name":"r3ap3r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376472576,"creation_date":1376472576,"answer_id":18227952,"question_id":18227634,"body_markdown":"    public class Test {\r\n    public static void main(String[] args) {\r\n        File root = new File(&quot;c:\\\\test&quot;);\r\n        String fileName = &quot;a.txt&quot;;\r\n        try {\r\n            boolean recursive = true;\r\n\r\n            Collection files = FileUtils.listFiles(root, null, recursive);\r\n\r\n            for (Iterator iterator = files.iterator(); iterator.hasNext();) {\r\n                File file = (File) iterator.next();\r\n                if (file.getName().equals(fileName))\r\n                    System.out.println(file.getAbsolutePath());\r\n            }\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n\r\n","title":"Check if file is in (sub)directory","body":"<pre><code>public class Test {\npublic static void main(String[] args) {\n    File root = new File(\"c:\\\\test\");\n    String fileName = \"a.txt\";\n    try {\n        boolean recursive = true;\n\n        Collection files = FileUtils.listFiles(root, null, recursive);\n\n        for (Iterator iterator = files.iterator(); iterator.hasNext();) {\n            File file = (File) iterator.next();\n            if (file.getName().equals(fileName))\n                System.out.println(file.getAbsolutePath());\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":100718,"reputation":43156,"user_id":271357,"accept_rate":83,"display_name":"dacwe"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1376472701,"creation_date":1376472701,"answer_id":18228003,"question_id":18227634,"body_markdown":"I would create a small utility method:\r\n\r\n    public static boolean isInSubDirectory(File dir, File file) {\r\n        \r\n        if (file == null)\r\n            return false;\r\n\r\n        if (file.equals(dir))\r\n            return true;\r\n\r\n        return isInSubDirectory(dir, file.getParentFile());\r\n    }","title":"Check if file is in (sub)directory","body":"<p>I would create a small utility method:</p>\n\n<pre><code>public static boolean isInSubDirectory(File dir, File file) {\n\n    if (file == null)\n        return false;\n\n    if (file.equals(dir))\n        return true;\n\n    return isInSubDirectory(dir, file.getParentFile());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2787966,"reputation":1796,"user_id":2398860,"display_name":"michal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1376473101,"creation_date":1376473101,"answer_id":18228165,"question_id":18227634,"body_markdown":"You can traverse File Tree starting from your specific DIR.\r\nAt Java 7, there is `Files.walkFileTree` method. You have only to write your own visitor\r\nto check if current node is searched file. More doc:\r\nhttp://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#walkFileTree%28java.nio.file.Path,%20java.util.Set,%20int,%20java.nio.file.FileVisitor%29 ","title":"Check if file is in (sub)directory","body":"<p>You can traverse File Tree starting from your specific DIR.\nAt Java 7, there is <code>Files.walkFileTree</code> method. You have only to write your own visitor\nto check if current node is searched file. More doc:\n<a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#walkFileTree%28java.nio.file.Path,%20java.util.Set,%20int,%20java.nio.file.FileVisitor%29\" rel=\"nofollow\">http://docs.oracle.com/javase/7/docs/api/java/nio/file/Files.html#walkFileTree%28java.nio.file.Path,%20java.util.Set,%20int,%20java.nio.file.FileVisitor%29</a> </p>\n"},{"tags":[],"owner":{"account_id":1655910,"reputation":11659,"user_id":1525495,"accept_rate":96,"display_name":"Jorge Fuentes Gonz&#225;lez"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1432146942,"creation_date":1397305285,"answer_id":23030314,"question_id":18227634,"body_markdown":"In addition to the asnwer from rocketboy, use `getCanonicalPath()` instad of `getAbsolutePath()` so `\\dir\\dir2\\..\\file` is converted to `\\dir\\file`:\r\n\r\n        boolean areRelated = file.getCanonicalPath().contains(dir.getCanonicalPath() + File.separator);\r\n        System.out.println(areRelated);\r\nor\r\n\r\n    boolean areRelated = child.getCanonicalPath().startsWith(parent.getCanonicalPath() + File.separator);\r\n\r\nDo not forget to catch any `Exception` with `try {...} catch {...}`.\r\n\r\nNOTE: You can use `FileSystem.getSeparator()` instead of `File.separator`. The &#39;correct&#39; way of doing this will be to get the `getCanonicalPath()` of the directory that you are going to check against as a `String`, then check if ends with a `File.separator` and if not then add `File.separator` to the end of that `String`, to avoid double slashes. This way you skip future odd behaviours if Java decides to return directories with a slash in the end or if your directory string comes from somewhere else than `Java.io.File`.\r\n\r\nNOTE2: Thanx to @david for pointing the `File.separator` problem.","title":"Check if file is in (sub)directory","body":"<p>In addition to the asnwer from rocketboy, use <code>getCanonicalPath()</code> instad of <code>getAbsolutePath()</code> so <code>\\dir\\dir2\\..\\file</code> is converted to <code>\\dir\\file</code>:</p>\n\n<pre><code>    boolean areRelated = file.getCanonicalPath().contains(dir.getCanonicalPath() + File.separator);\n    System.out.println(areRelated);\n</code></pre>\n\n<p>or</p>\n\n<pre><code>boolean areRelated = child.getCanonicalPath().startsWith(parent.getCanonicalPath() + File.separator);\n</code></pre>\n\n<p>Do not forget to catch any <code>Exception</code> with <code>try {...} catch {...}</code>.</p>\n\n<p>NOTE: You can use <code>FileSystem.getSeparator()</code> instead of <code>File.separator</code>. The 'correct' way of doing this will be to get the <code>getCanonicalPath()</code> of the directory that you are going to check against as a <code>String</code>, then check if ends with a <code>File.separator</code> and if not then add <code>File.separator</code> to the end of that <code>String</code>, to avoid double slashes. This way you skip future odd behaviours if Java decides to return directories with a slash in the end or if your directory string comes from somewhere else than <code>Java.io.File</code>.</p>\n\n<p>NOTE2: Thanx to @david for pointing the <code>File.separator</code> problem.</p>\n"},{"tags":[],"owner":{"account_id":41293,"reputation":5871,"user_id":119937,"accept_rate":62,"display_name":"tsauerwein"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1406721374,"creation_date":1406721374,"answer_id":25036212,"question_id":18227634,"body_markdown":"This method looks pretty solid:\r\n\r\n    /**\r\n     * Checks, whether the child directory is a subdirectory of the base \r\n     * directory.\r\n     *\r\n     * @param base the base directory.\r\n     * @param child the suspected child directory.\r\n     * @return true, if the child is a subdirectory of the base directory.\r\n     * @throws IOException if an IOError occured during the test.\r\n     */\r\n    public boolean isSubDirectory(File base, File child)\r\n        throws IOException {\r\n        base = base.getCanonicalFile();\r\n        child = child.getCanonicalFile();\r\n\r\n        File parentFile = child;\r\n        while (parentFile != null) {\r\n            if (base.equals(parentFile)) {\r\n                return true;\r\n            }\r\n            parentFile = parentFile.getParentFile();\r\n        }\r\n        return false;\r\n    }\r\n\r\n[Source](http://www.java2s.com/Tutorial/Java/0180__File/Checkswhetherthechilddirectoryisasubdirectoryofthebasedirectory.htm)\r\n\r\nIt is similar to the solution by dacwe but doesn&#39;t use recursion (though that shouldn&#39;t make a big difference in this case).","title":"Check if file is in (sub)directory","body":"<p>This method looks pretty solid:</p>\n\n<pre><code>/**\n * Checks, whether the child directory is a subdirectory of the base \n * directory.\n *\n * @param base the base directory.\n * @param child the suspected child directory.\n * @return true, if the child is a subdirectory of the base directory.\n * @throws IOException if an IOError occured during the test.\n */\npublic boolean isSubDirectory(File base, File child)\n    throws IOException {\n    base = base.getCanonicalFile();\n    child = child.getCanonicalFile();\n\n    File parentFile = child;\n    while (parentFile != null) {\n        if (base.equals(parentFile)) {\n            return true;\n        }\n        parentFile = parentFile.getParentFile();\n    }\n    return false;\n}\n</code></pre>\n\n<p><a href=\"http://www.java2s.com/Tutorial/Java/0180__File/Checkswhetherthechilddirectoryisasubdirectoryofthebasedirectory.htm\" rel=\"noreferrer\">Source</a></p>\n\n<p>It is similar to the solution by dacwe but doesn't use recursion (though that shouldn't make a big difference in this case).</p>\n"},{"tags":[],"owner":{"account_id":7902935,"reputation":6346,"user_id":5969411,"accept_rate":80,"display_name":"ManoDestra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558649157,"creation_date":1558649157,"answer_id":56283504,"question_id":18227634,"body_markdown":"You can do this, however it won&#39;t catch every use case e.g. dir = /somedir/../tmp/dir/etc..., unless that&#39;s how the file was defined also.\r\n\r\n    import java.nio.file.Path;\r\n    import java.nio.file.Paths;\r\n    \r\n    public class FileTest {\r\n    \tpublic static void main(final String... args) {\r\n   \t\t\tfinal Path dir = Paths.get(&quot;/tmp/dir&quot;).toAbsolutePath();\r\n   \t\t\tfinal Path file = Paths.get(&quot;/tmp/dir/subdir1/subdir2/file.txt&quot;).toAbsolutePath();\r\n   \t\t\tSystem.out.println(&quot;Dir: &quot; + dir);\r\n   \t\t\tSystem.out.println(&quot;File: &quot; + file);\r\n   \t\t\tfinal boolean valid = file.startsWith(dir);\r\n   \t\t\tSystem.out.println(&quot;Valid: &quot; + valid);\r\n    \t}\r\n    }\r\n\r\nIn order for the checks to work correctly, you really need to map these using `toRealPath()` or, in your example, `getCanonicalPath()`, but you then have to handle exceptions for these examples which is absolutely correct that you should do so.","title":"Check if file is in (sub)directory","body":"<p>You can do this, however it won't catch every use case e.g. dir = /somedir/../tmp/dir/etc..., unless that's how the file was defined also.</p>\n\n<pre><code>import java.nio.file.Path;\nimport java.nio.file.Paths;\n\npublic class FileTest {\n    public static void main(final String... args) {\n        final Path dir = Paths.get(\"/tmp/dir\").toAbsolutePath();\n        final Path file = Paths.get(\"/tmp/dir/subdir1/subdir2/file.txt\").toAbsolutePath();\n        System.out.println(\"Dir: \" + dir);\n        System.out.println(\"File: \" + file);\n        final boolean valid = file.startsWith(dir);\n        System.out.println(\"Valid: \" + valid);\n    }\n}\n</code></pre>\n\n<p>In order for the checks to work correctly, you really need to map these using <code>toRealPath()</code> or, in your example, <code>getCanonicalPath()</code>, but you then have to handle exceptions for these examples which is absolutely correct that you should do so.</p>\n"},{"tags":[],"owner":{"account_id":2481346,"reputation":3567,"user_id":2160765,"display_name":"Rosberg Linhares"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644235688,"creation_date":1644235688,"answer_id":71018323,"question_id":18227634,"body_markdown":"Since Java 7+ you can just do this:\r\n\r\n```java\r\nfile.toPath().startsWith(dir.toPath());\r\n```","title":"Check if file is in (sub)directory","body":"<p>Since Java 7+ you can just do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>file.toPath().startsWith(dir.toPath());\n</code></pre>\n"}],"owner":{"account_id":2427579,"reputation":1307,"user_id":2119191,"accept_rate":69,"display_name":"Johannes Dorn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19543,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":9,"score":16,"last_activity_date":1644235688,"creation_date":1376471752,"question_id":18227634,"body_markdown":"I would like to check whether an existing file is in a specific directory or a subdirectory  of that.\r\n\r\nI have two File objects.\r\n\r\n    File dir;\r\n    File file;\r\n\r\nBoth are guaranteed to exist. Let&#39;s assume \r\n\r\n    dir  = /tmp/dir \r\n    file = /tmp/dir/subdir1/subdir2/file.txt\r\n\r\nI want this check to return true\r\n\r\nFor now i am doing the check this way:\r\n\r\n    String canonicalDir = dir.getCanonicalPath() + File.separator;\r\n    boolean subdir = file.getCanonicalPath().startsWith(canonicalDir);\r\n\r\nThis seems to work with my limited tests, but i am unsure whether this might make problems on some operating systems. I also do not like that getCanonicalPath() can throw an IOException which i have to handle.\r\n\r\nIs there a better way? Possibly in some library?\r\n\r\nThanks\r\n\r\n","title":"Check if file is in (sub)directory","body":"<p>I would like to check whether an existing file is in a specific directory or a subdirectory  of that.</p>\n\n<p>I have two File objects.</p>\n\n<pre><code>File dir;\nFile file;\n</code></pre>\n\n<p>Both are guaranteed to exist. Let's assume </p>\n\n<pre><code>dir  = /tmp/dir \nfile = /tmp/dir/subdir1/subdir2/file.txt\n</code></pre>\n\n<p>I want this check to return true</p>\n\n<p>For now i am doing the check this way:</p>\n\n<pre><code>String canonicalDir = dir.getCanonicalPath() + File.separator;\nboolean subdir = file.getCanonicalPath().startsWith(canonicalDir);\n</code></pre>\n\n<p>This seems to work with my limited tests, but i am unsure whether this might make problems on some operating systems. I also do not like that getCanonicalPath() can throw an IOException which i have to handle.</p>\n\n<p>Is there a better way? Possibly in some library?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":13464558,"reputation":8533,"user_id":9715339,"display_name":"Mayur Gajra"},"score":0,"creation_date":1644243632,"post_id":71018307,"comment_id":125546072,"body_markdown":"What version of `android-pdf-viewer` are you using?","body":"What version of <code>android-pdf-viewer</code> are you using?"},{"owner":{"account_id":23870445,"reputation":35,"user_id":17872214,"display_name":"Stud 20178034"},"score":0,"creation_date":1644250493,"post_id":71018307,"comment_id":125549282,"body_markdown":"implementation &#39;com.github.barteksc:android-pdf-viewer:3.2.0-beta.1&#39;","body":"implementation &#39;com.github.barteksc:android-pdf-viewer:3.2.0-beta.1&#39;"},{"owner":{"account_id":13464558,"reputation":8533,"user_id":9715339,"display_name":"Mayur Gajra"},"score":0,"creation_date":1644330006,"post_id":71018307,"comment_id":125573913,"body_markdown":"I tried with `3.2.0-beta.1` &amp; if you use `enableSwipe(true)` &amp; remove `setOnTouchListener`. It works fine for me.","body":"I tried with <code>3.2.0-beta.1</code> &amp; if you use <code>enableSwipe(true)</code> &amp; remove <code>setOnTouchListener</code>. It works fine for me."}],"owner":{"account_id":23870445,"reputation":35,"user_id":17872214,"display_name":"Stud 20178034"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":684,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644235588,"creation_date":1644235588,"question_id":71018307,"body_markdown":"I am building android application which contain pdf and I use this library \r\nhttps://github.com/barteksc/AndroidPdfViewer\r\nI want to zoom pdf when I double click on it on my application\r\nI set minZoom, midZoom and maxZoom in my code but it doesn&#39;t zoom\r\nthis is my code\r\n```\r\nprivate int index = 0;\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        pdf = findViewById(R.id.pdf);\r\n        Load(index);\r\n        pdf.setOnTouchListener(new OnSwipeTouchListener(MainActivity.this) {\r\n            public void onSwipeTop() {\r\n            }\r\n\r\n            public void onDoubleTab() {\r\n            }\r\n\r\n            public void onSwipeRight() {\r\n                if (index &gt; 0) {\r\n                    index--;\r\n                }\r\n                Load(index);\r\n            }\r\n\r\n            public void onSwipeLeft() {\r\n                if (index &lt; pdf.getPageCount()-1) {\r\n                    index++;\r\n                }\r\n                Load(index);\r\n            }\r\n\r\n            public void onSwipeBottom() {\r\n            }\r\n        });\r\n}\r\n        private void Load(int index) {\r\n                pdf.fromAsset(&quot;file.pdf&quot;)\r\n                        .enableSwipe(false)\r\n                        .swipeHorizontal(true)\r\n                        .autoSpacing(true)\r\n                        .defaultPage(index)\r\n                        .fitEachPage(true)\r\n                        .pageFitPolicy(FitPolicy.BOTH)\r\n                        .enableDoubletap(true)\r\n                        .load();\r\n                pdf.setMinZoom(1);\r\n                pdf.setMidZoom(2);\r\n                pdf.setMaxZoom(3);\r\n            }\r\n```\r\nit swipe right and left well but its not zoom in or out\r\nhow can I solve that","title":"Zoom in and Zoom out not applying in PDFView android","body":"<p>I am building android application which contain pdf and I use this library\n<a href=\"https://github.com/barteksc/AndroidPdfViewer\" rel=\"nofollow noreferrer\">https://github.com/barteksc/AndroidPdfViewer</a>\nI want to zoom pdf when I double click on it on my application\nI set minZoom, midZoom and maxZoom in my code but it doesn't zoom\nthis is my code</p>\n<pre><code>private int index = 0;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        pdf = findViewById(R.id.pdf);\n        Load(index);\n        pdf.setOnTouchListener(new OnSwipeTouchListener(MainActivity.this) {\n            public void onSwipeTop() {\n            }\n\n            public void onDoubleTab() {\n            }\n\n            public void onSwipeRight() {\n                if (index &gt; 0) {\n                    index--;\n                }\n                Load(index);\n            }\n\n            public void onSwipeLeft() {\n                if (index &lt; pdf.getPageCount()-1) {\n                    index++;\n                }\n                Load(index);\n            }\n\n            public void onSwipeBottom() {\n            }\n        });\n}\n        private void Load(int index) {\n                pdf.fromAsset(&quot;file.pdf&quot;)\n                        .enableSwipe(false)\n                        .swipeHorizontal(true)\n                        .autoSpacing(true)\n                        .defaultPage(index)\n                        .fitEachPage(true)\n                        .pageFitPolicy(FitPolicy.BOTH)\n                        .enableDoubletap(true)\n                        .load();\n                pdf.setMinZoom(1);\n                pdf.setMidZoom(2);\n                pdf.setMaxZoom(3);\n            }\n</code></pre>\n<p>it swipe right and left well but its not zoom in or out\nhow can I solve that</p>\n"},{"tags":["java","intellij-idea","java-native-interface"],"comments":[{"owner":{"account_id":1354373,"reputation":4359,"user_id":1293087,"display_name":"Laksitha Ranasingha"},"score":0,"creation_date":1644225824,"post_id":71016036,"comment_id":125539308,"body_markdown":"Are you using `javah` or `javac? In order to generate native header files, you should use `javah`.","body":"Are you using <code>javah</code> or <code>javac? In order to generate native header files, you should use </code>javah`."},{"owner":{"display_name":"user11416826"},"score":0,"creation_date":1644226358,"post_id":71016036,"comment_id":125539500,"body_markdown":"i am using javac because i am on jdk 11 (updated above question) and javah is no longer present in the Jdk 11 version","body":"i am using javac because i am on jdk 11 (updated above question) and javah is no longer present in the Jdk 11 version"}],"answers":[{"tags":[],"owner":{"display_name":"user11416826"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1644230155,"creation_date":1644230155,"answer_id":71017083,"question_id":71016036,"body_markdown":"Fixed my own problem.\r\n\r\nSince Intellij ignored the compiler options for my jdk11 project via `Files &gt; Setting &gt; Build,Execution,Deployment &gt; Compiler &gt; Java Compiler &gt; Additional Command line parameter` I simply set them in gradle.build and it now runs perfectly.\r\n\r\nIn your `gradle.build` include following:\r\n\r\n    compileJava {\r\n        options.compilerArgs += [&#39;-h&#39;, &#39;absolute dir where you want to put the header files&#39;]\r\n    }\r\n\r\n ","title":"Intellij ignores java Compiler additional compiler options","body":"<p>Fixed my own problem.</p>\n<p>Since Intellij ignored the compiler options for my jdk11 project via <code>Files &gt; Setting &gt; Build,Execution,Deployment &gt; Compiler &gt; Java Compiler &gt; Additional Command line parameter</code> I simply set them in gradle.build and it now runs perfectly.</p>\n<p>In your <code>gradle.build</code> include following:</p>\n<pre><code>compileJava {\n    options.compilerArgs += ['-h', 'absolute dir where you want to put the header files']\n}\n</code></pre>\n"}],"owner":{"display_name":"user11416826"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":260,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71017083,"answer_count":1,"score":0,"last_activity_date":1644235400,"creation_date":1644225356,"question_id":71016036,"body_markdown":"I have a java 11 project which has some native functions. \r\nI am trying to generate the corresponding Header-files by adding &#39;-h myDir&#39; to the additional compiler options in Intellij but it seems like IntelliJ does not even look for those.\r\n\r\nI am going to: Files &gt; Setting &gt; Build,Execution,Deployment &gt; Compiler &gt; Java Compiler &gt; Additional Command line parameter\r\n\r\nCan someone tell me what i am doing wrong.","title":"Intellij ignores java Compiler additional compiler options","body":"<p>I have a java 11 project which has some native functions.\nI am trying to generate the corresponding Header-files by adding '-h myDir' to the additional compiler options in Intellij but it seems like IntelliJ does not even look for those.</p>\n<p>I am going to: Files &gt; Setting &gt; Build,Execution,Deployment &gt; Compiler &gt; Java Compiler &gt; Additional Command line parameter</p>\n<p>Can someone tell me what i am doing wrong.</p>\n"},{"tags":["java","spring","dependency-injection"],"comments":[{"owner":{"account_id":6512125,"reputation":5701,"user_id":5039001,"accept_rate":50,"display_name":"prem kumar"},"score":16,"creation_date":1449646081,"post_id":34172888,"comment_id":56092785,"body_markdown":"Bean annotation is for registering your bean in the spring context whereas Autowried annotation is for getting the bean from spring application content and wiring it as a dependency for another object","body":"Bean annotation is for registering your bean in the spring context whereas Autowried annotation is for getting the bean from spring application content and wiring it as a dependency for another object"},{"owner":{"account_id":6373600,"reputation":1609,"user_id":4945303,"accept_rate":75,"display_name":"PowerFlower"},"score":0,"creation_date":1493981946,"post_id":34172888,"comment_id":74645494,"body_markdown":"You should deliver the BookingService class too. Because if that is annotated with Component then your first class would also work like the second.","body":"You should deliver the BookingService class too. Because if that is annotated with Component then your first class would also work like the second."}],"answers":[{"tags":[],"owner":{"account_id":1882348,"reputation":1653,"user_id":1702242,"accept_rate":56,"display_name":"pmverma"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1644235082,"creation_date":1449647272,"answer_id":34173365,"question_id":34172888,"body_markdown":"    @Bean\r\n    BookingService bookingService() {\r\n        return new BookingService();\r\n    }\r\n\r\nAnnotating `@Bean` only registers the service as a bean(kind of an Object) in the spring application context. In simple words, it is just registration and nothing else.\r\n\r\n\r\n    @Autowired\r\n    BookingService bookingService;\r\n\r\nAnnotating a variable with `@Autowired` injects a `BookingService` bean(i.e Object) from Spring Application Context. \r\n\r\n(i.e) The registered object with `@Bean` annotation will be injected to the variable annotated with `@Autowired`.\r\n\r\nHope this clears your doubt!","title":"Difference between @Bean and @Autowired","body":"<pre><code>@Bean\nBookingService bookingService() {\n    return new BookingService();\n}\n</code></pre>\n<p>Annotating <code>@Bean</code> only registers the service as a bean(kind of an Object) in the spring application context. In simple words, it is just registration and nothing else.</p>\n<pre><code>@Autowired\nBookingService bookingService;\n</code></pre>\n<p>Annotating a variable with <code>@Autowired</code> injects a <code>BookingService</code> bean(i.e Object) from Spring Application Context.</p>\n<p>(i.e) The registered object with <code>@Bean</code> annotation will be injected to the variable annotated with <code>@Autowired</code>.</p>\n<p>Hope this clears your doubt!</p>\n"},{"tags":[],"owner":{"account_id":128226,"reputation":10041,"user_id":325900,"accept_rate":78,"display_name":"DaveyDaveDave"},"down_vote_count":1,"up_vote_count":266,"is_accepted":true,"score":265,"last_activity_date":1449730000,"creation_date":1449652428,"answer_id":34174782,"question_id":34172888,"body_markdown":"`@Bean` and `@Autowired` do two very different things. The other answers here explain in a little more detail, but at a simpler level:\r\n\r\n- `@Bean` tells Spring &#39;here is an instance of this class, please keep hold of it and give it back to me when I ask&#39;.\r\n\r\n- `@Autowired` says &#39;please give me an instance of this class, for example, one that I created with an `@Bean` annotation earlier&#39;.\r\n\r\nDoes that make sense? In your first example, you&#39;re asking Spring to give you an instance of `BookingService`, but you&#39;re never creating one, so Spring has nothing to give you. In your second example, you&#39;re creating a new instance of `BookingService`, telling Spring about it, and then, in the `main()` method, asking for it back.\r\n\r\nIf you wanted, you could remove the two additional lines from the second `main()` method, and combine your two examples as below:\r\n\r\n    @SpringBootApplication\r\n    public class Application {\r\n\r\n      @Autowired\r\n      BookingService bookingService;\r\n\r\n      @Bean\r\n      BookingService bookingService() {\r\n        return new BookingService();\r\n      }\r\n\r\n      public static void main(String[] args) {\n        bookingService.book(&quot;Alice&quot;, &quot;Bob&quot;, &quot;Carol&quot;);\r\n      }\r\n    }\r\n\r\nIn this case, the `@Bean` annotation gives Spring the `BookingService`, and the `@Autowired` makes use of it.\r\n\r\nThis would be a slightly pointless example, as you&#39;re using it all in the same class, but it becomes useful if you have the `@Bean` defined in one class, and the `@Autowired` in a different one.","title":"Difference between @Bean and @Autowired","body":"<p><code>@Bean</code> and <code>@Autowired</code> do two very different things. The other answers here explain in a little more detail, but at a simpler level:</p>\n\n<ul>\n<li><p><code>@Bean</code> tells Spring 'here is an instance of this class, please keep hold of it and give it back to me when I ask'.</p></li>\n<li><p><code>@Autowired</code> says 'please give me an instance of this class, for example, one that I created with an <code>@Bean</code> annotation earlier'.</p></li>\n</ul>\n\n<p>Does that make sense? In your first example, you're asking Spring to give you an instance of <code>BookingService</code>, but you're never creating one, so Spring has nothing to give you. In your second example, you're creating a new instance of <code>BookingService</code>, telling Spring about it, and then, in the <code>main()</code> method, asking for it back.</p>\n\n<p>If you wanted, you could remove the two additional lines from the second <code>main()</code> method, and combine your two examples as below:</p>\n\n<pre><code>@SpringBootApplication\npublic class Application {\n\n  @Autowired\n  BookingService bookingService;\n\n  @Bean\n  BookingService bookingService() {\n    return new BookingService();\n  }\n\n  public static void main(String[] args) {\n    bookingService.book(\"Alice\", \"Bob\", \"Carol\");\n  }\n}\n</code></pre>\n\n<p>In this case, the <code>@Bean</code> annotation gives Spring the <code>BookingService</code>, and the <code>@Autowired</code> makes use of it.</p>\n\n<p>This would be a slightly pointless example, as you're using it all in the same class, but it becomes useful if you have the <code>@Bean</code> defined in one class, and the <code>@Autowired</code> in a different one.</p>\n"},{"tags":[],"owner":{"account_id":2295846,"reputation":824,"user_id":2017299,"accept_rate":80,"display_name":"Kris Swat"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1489528094,"creation_date":1489528094,"answer_id":42797189,"question_id":34172888,"body_markdown":"great answer by @DaveyDaveDave\r\nIn the example  instead of\r\n\r\n    @Bean\r\n      BookingService bookingService() {\r\n        return new BookingService();\r\n      }\r\n\r\nYou can use @Service annotation on BookingService class\r\n","title":"Difference between @Bean and @Autowired","body":"<p>great answer by @DaveyDaveDave\nIn the example  instead of</p>\n\n<pre><code>@Bean\n  BookingService bookingService() {\n    return new BookingService();\n  }\n</code></pre>\n\n<p>You can use @Service annotation on BookingService class</p>\n"},{"tags":[],"owner":{"account_id":10153599,"reputation":39,"user_id":7586223,"display_name":"n0rtan"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1612271144,"creation_date":1522353912,"answer_id":49564191,"question_id":34172888,"body_markdown":"Here&#39;s good article about `@Autowired` annotation: http://www.baeldung.com/spring-autowire \r\n\r\nThe `@Autowired` annotation can instantiate your injectables by defining `@ComponentScan(&quot;namespace.with.your.components.for.inject&quot;)` on config class\r\n\r\n    @Configuration\r\n    @ComponentScan(&quot;com.baeldung.autowire.sample&quot;)\r\n    public class AppConfig {}\r\n\r\nAll components must be marked by `@Component` annotation. It replaces the `@Bean` annotation.","title":"Difference between @Bean and @Autowired","body":"<p>Here's good article about <code>@Autowired</code> annotation: <a href=\"http://www.baeldung.com/spring-autowire\" rel=\"nofollow noreferrer\">http://www.baeldung.com/spring-autowire</a></p>\n<p>The <code>@Autowired</code> annotation can instantiate your injectables by defining <code>@ComponentScan(&quot;namespace.with.your.components.for.inject&quot;)</code> on config class</p>\n<pre><code>@Configuration\n@ComponentScan(&quot;com.baeldung.autowire.sample&quot;)\npublic class AppConfig {}\n</code></pre>\n<p>All components must be marked by <code>@Component</code> annotation. It replaces the <code>@Bean</code> annotation.</p>\n"},{"tags":[],"owner":{"account_id":14160384,"reputation":29,"user_id":10229851,"display_name":"SARIKA"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1556821072,"creation_date":1556821072,"answer_id":55958100,"question_id":34172888,"body_markdown":"@Bean is just for the metadata definition to create the bean(equivalent to &lt;bean&gt; tag). @Autowired is to inject the dependancy into a bean(equivalent to ref XML tag/attribute).","title":"Difference between @Bean and @Autowired","body":"<p>@Bean is just for the metadata definition to create the bean(equivalent to  tag). @Autowired is to inject the dependancy into a bean(equivalent to ref XML tag/attribute).</p>\n"},{"tags":[],"owner":{"account_id":1122367,"reputation":15418,"user_id":1110437,"accept_rate":71,"display_name":"developer747"},"down_vote_count":3,"up_vote_count":10,"is_accepted":false,"score":7,"last_activity_date":1630885431,"creation_date":1599689269,"answer_id":63820184,"question_id":34172888,"body_markdown":" **Contrary to what the highest voted answer here claims, they are NOT two very different things. @Bean and @Autowired and interchangeable in most cases.**  \r\n\r\n Suppose you have a @Bean method that returns an instance of a Car. You can literally get rid of that bean method and add @Component on the Car class and then autowire it. \r\n\r\nAnd vice versa. Whatever class you have instantiated using @Autowired, you can instantiate it inside a class with @Configuration annotation using @Bean on the method.\r\n\r\n\r\n**Places where you will use @Bean instead of @Autowired**\r\n\r\n1&gt;You do not have access to change the class to add @Component annotation, hence you cannot autowire it.\r\n\r\n2&gt;You want to customize the instantiation of the class.\r\n\r\nFor example if you are instantiating a Resilience4J Circuit breaker class, if you do it inside a method with @Bean, you have the option of setting all the config using code like this\r\n\r\n    @Bean\r\n    public CircuitBreaker fooCircuitBreaker() {\r\n        CircuitBreakerConfig.Builder builder = CircuitBreakerConfig.custom().\r\n                slidingWindowSize(xxx).\r\n                failureRateThreshold(xxx).\r\n                waitDurationInOpenState(xxx)).\r\n                ignoreException(e -&gt; {\r\n                    if (e instanceof HttpStatusCodeException) {\r\n                        HttpStatusCodeException httpStatusCodeException = (HttpStatusCodeException) e;\r\n                        if (httpStatusCodeException.getStatusCode().is4xxClientError()) {\r\n                            return true;\r\n                        }\r\n                    }\r\n                    return false;\r\n                });\r\n        circuitBreakerRegistry.addConfiguration(xxx, builder.build());\r\n        return circuitBreakerRegistry.circuitBreaker(xxx, xxx);\r\n    }\r\n","title":"Difference between @Bean and @Autowired","body":"<p><strong>Contrary to what the highest voted answer here claims, they are NOT two very different things. @Bean and @Autowired and interchangeable in most cases.</strong></p>\n<p>Suppose you have a @Bean method that returns an instance of a Car. You can literally get rid of that bean method and add @Component on the Car class and then autowire it.</p>\n<p>And vice versa. Whatever class you have instantiated using @Autowired, you can instantiate it inside a class with @Configuration annotation using @Bean on the method.</p>\n<p><strong>Places where you will use @Bean instead of @Autowired</strong></p>\n<p>1&gt;You do not have access to change the class to add @Component annotation, hence you cannot autowire it.</p>\n<p>2&gt;You want to customize the instantiation of the class.</p>\n<p>For example if you are instantiating a Resilience4J Circuit breaker class, if you do it inside a method with @Bean, you have the option of setting all the config using code like this</p>\n<pre><code>@Bean\npublic CircuitBreaker fooCircuitBreaker() {\n    CircuitBreakerConfig.Builder builder = CircuitBreakerConfig.custom().\n            slidingWindowSize(xxx).\n            failureRateThreshold(xxx).\n            waitDurationInOpenState(xxx)).\n            ignoreException(e -&gt; {\n                if (e instanceof HttpStatusCodeException) {\n                    HttpStatusCodeException httpStatusCodeException = (HttpStatusCodeException) e;\n                    if (httpStatusCodeException.getStatusCode().is4xxClientError()) {\n                        return true;\n                    }\n                }\n                return false;\n            });\n    circuitBreakerRegistry.addConfiguration(xxx, builder.build());\n    return circuitBreakerRegistry.circuitBreaker(xxx, xxx);\n}\n</code></pre>\n"}],"owner":{"account_id":6066252,"reputation":1703,"user_id":4736415,"accept_rate":11,"display_name":"zhuochen shen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124081,"favorite_count":0,"down_vote_count":1,"up_vote_count":134,"accepted_answer_id":34174782,"answer_count":6,"score":133,"last_activity_date":1644235082,"creation_date":1449645662,"question_id":34172888,"body_markdown":"Why can&#39;t I use `@Autowired` in this case?\r\n\r\n    @SpringBootApplication\r\n    public class Application {\r\n    \r\n    \t@Autowired\r\n    \tBookingService bookingService;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tbookingService.book(&quot;Alice&quot;, &quot;Bob&quot;, &quot;Carol&quot;);\r\n    \t}\r\n    }\r\n\r\nbut can use `@Bean` \r\n\r\n    @SpringBootApplication\r\n    public class Application {\r\n    \r\n    \t@Bean\r\n    \tBookingService bookingService() {\r\n    \t\treturn new BookingService();\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tApplicationContext ctx = SpringApplication.run(Application.class, args);\r\n    \t\tBookingService bookingService = ctx.getBean(BookingService.class);\r\n    \t\tbookingService.book(&quot;Alice&quot;, &quot;Bob&quot;, &quot;Carol&quot;);\r\n    \t}\r\n    }\r\n\r\nAren&#39;t the two ways to generate `BookingService` the same thing?","title":"Difference between @Bean and @Autowired","body":"<p>Why can't I use <code>@Autowired</code> in this case?</p>\n\n<pre><code>@SpringBootApplication\npublic class Application {\n\n    @Autowired\n    BookingService bookingService;\n\n    public static void main(String[] args) {\n        bookingService.book(\"Alice\", \"Bob\", \"Carol\");\n    }\n}\n</code></pre>\n\n<p>but can use <code>@Bean</code> </p>\n\n<pre><code>@SpringBootApplication\npublic class Application {\n\n    @Bean\n    BookingService bookingService() {\n        return new BookingService();\n    }\n\n    public static void main(String[] args) {\n        ApplicationContext ctx = SpringApplication.run(Application.class, args);\n        BookingService bookingService = ctx.getBean(BookingService.class);\n        bookingService.book(\"Alice\", \"Bob\", \"Carol\");\n    }\n}\n</code></pre>\n\n<p>Aren't the two ways to generate <code>BookingService</code> the same thing?</p>\n"},{"tags":["java","php","android","mysql","json"],"comments":[{"owner":{"account_id":2116162,"reputation":45265,"user_id":1880431,"accept_rate":98,"display_name":"meda"},"score":1,"creation_date":1400774011,"post_id":23811583,"comment_id":36630114,"body_markdown":"You are not getting a response bro, make sure PHP send a response","body":"You are not getting a response bro, make sure PHP send a response"},{"owner":{"account_id":3659775,"reputation":2473,"user_id":3049917,"accept_rate":100,"display_name":"Top Cat"},"score":1,"creation_date":1400774027,"post_id":23811583,"comment_id":36630123,"body_markdown":"Check your json string. Use jsonlint.com to validate json.","body":"Check your json string. Use jsonlint.com to validate json."},{"owner":{"account_id":3411256,"reputation":3476,"user_id":2861108,"display_name":"MjZac"},"score":1,"creation_date":1400774140,"post_id":23811583,"comment_id":36630207,"body_markdown":"Make sure you are getting structured json response","body":"Make sure you are getting structured json response"}],"answers":[{"tags":[],"owner":{"account_id":1650476,"reputation":5482,"user_id":1521186,"accept_rate":88,"display_name":"Bogdan Burym"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1400774116,"creation_date":1400774116,"answer_id":23811766,"question_id":23811583,"body_markdown":"Looks like your PHP file is returning invalid response.\r\n\r\nIf you are writing a handler which returns JSON, it should return valid JSON response ANYWAY.\r\n\r\nHere is how it should be:\r\n\r\n    $response = array();\r\n    $response[&quot;success&quot;] = 0;\r\n    $response[&quot;message&quot;] = &quot;No products found&quot;;\r\n\r\n    // include db connect class\r\n    require_once __DIR__ . &#39;/db_connect.php&#39;;\r\n    \r\n    // connecting to db\r\n    $db = new DB_CONNECT();\r\n    \r\n    // get all products from products table\r\n    $result = mysql_query(&quot;SELECT *FROM products&quot;);\r\n    \r\n    // check for empty result\r\n    if ($result &amp;&amp; mysql_num_rows($result) &gt; 0) {\r\n        // looping through all results\r\n        // products node\r\n        $response[&quot;products&quot;] = array();\r\n    \r\n        while ($row = mysql_fetch_array($result)) {\r\n            // temp user array\r\n            $product = array();\r\n            $product[&quot;pid&quot;] = $row[&quot;pid&quot;];\r\n            $product[&quot;name&quot;] = $row[&quot;name&quot;];\r\n            $product[&quot;price&quot;] = $row[&quot;price&quot;];\r\n            $product[&quot;created_at&quot;] = $row[&quot;created_at&quot;];\r\n            $product[&quot;updated_at&quot;] = $row[&quot;updated_at&quot;];\r\n    \r\n            // push single product into final response array\r\n            array_push($response[&quot;products&quot;], $product);\r\n        }\r\n        // success\r\n        $response[&quot;success&quot;] = 1;\r\n    \r\n    }\r\n    // Echo JSON anyway!\r\n    echo json_encode($response);\r\n    die();\r\n    ?&gt;","title":"Error parsing data org.json.JSONException: End of input at character 0 of - Android","body":"<p>Looks like your PHP file is returning invalid response.</p>\n\n<p>If you are writing a handler which returns JSON, it should return valid JSON response ANYWAY.</p>\n\n<p>Here is how it should be:</p>\n\n<pre><code>$response = array();\n$response[\"success\"] = 0;\n$response[\"message\"] = \"No products found\";\n\n// include db connect class\nrequire_once __DIR__ . '/db_connect.php';\n\n// connecting to db\n$db = new DB_CONNECT();\n\n// get all products from products table\n$result = mysql_query(\"SELECT *FROM products\");\n\n// check for empty result\nif ($result &amp;&amp; mysql_num_rows($result) &gt; 0) {\n    // looping through all results\n    // products node\n    $response[\"products\"] = array();\n\n    while ($row = mysql_fetch_array($result)) {\n        // temp user array\n        $product = array();\n        $product[\"pid\"] = $row[\"pid\"];\n        $product[\"name\"] = $row[\"name\"];\n        $product[\"price\"] = $row[\"price\"];\n        $product[\"created_at\"] = $row[\"created_at\"];\n        $product[\"updated_at\"] = $row[\"updated_at\"];\n\n        // push single product into final response array\n        array_push($response[\"products\"], $product);\n    }\n    // success\n    $response[\"success\"] = 1;\n\n}\n// Echo JSON anyway!\necho json_encode($response);\ndie();\n?&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1784973,"reputation":69,"user_id":1626638,"display_name":"ashutosh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1515701847,"creation_date":1515695753,"answer_id":48213789,"question_id":23811583,"body_markdown":"    private static String url_all_products = &quot;http://192.168.43.86/andyphp/get_all_products.php&quot;;\r\n\r\nPlease put your wampserver online.","title":"Error parsing data org.json.JSONException: End of input at character 0 of - Android","body":"<pre><code>private static String url_all_products = \"http://192.168.43.86/andyphp/get_all_products.php\";\n</code></pre>\n\n<p>Please put your wampserver online.</p>\n"},{"tags":[],"owner":{"account_id":4153518,"reputation":178,"user_id":3405331,"display_name":"Khalid Lakhani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644235059,"creation_date":1644235059,"answer_id":71018187,"question_id":23811583,"body_markdown":"UTF_8 encoding helped me survived\r\njust use it like\r\n\r\n    $conn = mysqli_connect($HostName,$HostUser,$HostPass,$DatabaseName);\r\n    mysqli_set_charset($conn, &#39;utf8&#39;);\r\n\r\nreference https://stackoverflow.com/a/53425156/3405331\r\n","title":"Error parsing data org.json.JSONException: End of input at character 0 of - Android","body":"<p>UTF_8 encoding helped me survived\njust use it like</p>\n<pre><code>$conn = mysqli_connect($HostName,$HostUser,$HostPass,$DatabaseName);\nmysqli_set_charset($conn, 'utf8');\n</code></pre>\n<p>reference <a href=\"https://stackoverflow.com/a/53425156/3405331\">https://stackoverflow.com/a/53425156/3405331</a></p>\n"}],"owner":{"account_id":2898342,"reputation":245,"user_id":2485633,"accept_rate":60,"display_name":"F.M."},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24839,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":23811766,"answer_count":3,"score":2,"last_activity_date":1644235059,"creation_date":1400773661,"question_id":23811583,"body_markdown":"I&#39;m developing a test Android application that must display some data from a mysql db.\r\nHere my logs:\r\n\r\n    05-22 17:10:56.865: E/JSON Parser(31648): Error parsing data org.json.JSONException: End of input at character 0 of \r\n    05-22 17:10:56.865: W/dalvikvm(31648): threadid=11: thread exiting with uncaught exception (group=0x418e3da0)\r\n    05-22 17:10:56.875: E/AndroidRuntime(31648): FATAL EXCEPTION: AsyncTask #1\r\n    05-22 17:10:56.875: E/AndroidRuntime(31648): Process: com.example.androidhive, PID: 31648\r\n    05-22 17:10:56.875: E/AndroidRuntime(31648): java.lang.RuntimeException: An error occured while executing doInBackground()\r\n    05-22 17:10:56.875: E/AndroidRuntime(31648): \tat android.os.AsyncTask$3.done(AsyncTask.java:300)\r\n    05-22 17:10:56.875: E/AndroidRuntime(31648): \tat java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:355)\r\n    05-22 17:10:56.875: E/AndroidRuntime(31648): \tat java.util.concurrent.FutureTask.setException(FutureTask.java:222)\r\n    05-22 17:10:56.875: E/AndroidRuntime(31648): \tat java.util.concurrent.FutureTask.run(FutureTask.java:242)\r\n    05-22 17:10:56.875: E/AndroidRuntime(31648): \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\r\n    05-22 17:10:56.875: E/AndroidRuntime(31648): \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\r\n    05-22 17:10:56.875: E/AndroidRuntime(31648): \tat java.lang.Thread.run(Thread.java:841)\r\n    05-22 17:10:56.875: E/AndroidRuntime(31648): Caused by: java.lang.NullPointerException\r\n    05-22 17:10:56.875: E/AndroidRuntime(31648): \tat com.example.androidhive.AllProductsActivity$LoadAllProducts.doInBackground(AllProductsActivity.java:130)\r\n    05-22 17:10:56.875: E/AndroidRuntime(31648): \tat com.example.androidhive.AllProductsActivity$LoadAllProducts.doInBackground(AllProductsActivity.java:1)\r\n    05-22 17:10:56.875: E/AndroidRuntime(31648): \tat android.os.AsyncTask$2.call(AsyncTask.java:288)\r\n    05-22 17:10:56.875: E/AndroidRuntime(31648): \tat java.util.concurrent.FutureTask.run(FutureTask.java:237)\r\n    05-22 17:10:56.875: E/AndroidRuntime(31648): \t... 3 more\r\n    05-22 17:10:57.436: D/AbsListView(31648): onDetachedFromWindow\r\n    05-22 17:10:57.436: D/AbsListView(31648): unregisterIRListener() is called \r\n    05-22 17:10:57.446: E/WindowManager(31648): android.view.WindowLeaked: Activity com.example.androidhive.AllProductsActivity has leaked window com.android.internal.policy.impl.PhoneWindow$DecorView{42c02238 V.E..... R.....ID 0,0-914,346} that was originally added here\r\n    05-22 17:10:57.446: E/WindowManager(31648): \tat android.view.ViewRootImpl.&lt;init&gt;(ViewRootImpl.java:456)\r\n    05-22 17:10:57.446: E/WindowManager(31648): \tat android.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:267)\r\n    05-22 17:10:57.446: E/WindowManager(31648): \tat android.view.WindowManagerImpl.addView(WindowManagerImpl.java:69)\r\n    05-22 17:10:57.446: E/WindowManager(31648): \tat android.app.Dialog.show(Dialog.java:288)\r\n    05-22 17:10:57.446: E/WindowManager(31648): \tat com.example.androidhive.AllProductsActivity$LoadAllProducts.onPreExecute(AllProductsActivity.java:117)\r\n    05-22 17:10:57.446: E/WindowManager(31648): \tat android.os.AsyncTask.executeOnExecutor(AsyncTask.java:587)\r\n    05-22 17:10:57.446: E/WindowManager(31648): \tat android.os.AsyncTask.execute(AsyncTask.java:535)\r\n    05-22 17:10:57.446: E/WindowManager(31648): \tat com.example.androidhive.AllProductsActivity.onCreate(AllProductsActivity.java:57)\r\n    05-22 17:10:57.446: E/WindowManager(31648): \tat android.app.Activity.performCreate(Activity.java:5426)\r\n    05-22 17:10:57.446: E/WindowManager(31648): \tat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1105)\r\n    05-22 17:10:57.446: E/WindowManager(31648): \tat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2269)\r\n    05-22 17:10:57.446: E/WindowManager(31648): \tat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2363)\r\n    05-22 17:10:57.446: E/WindowManager(31648): \tat android.app.ActivityThread.access$900(ActivityThread.java:161)\r\n    05-22 17:10:57.446: E/WindowManager(31648): \tat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1265)\r\n    05-22 17:10:57.446: E/WindowManager(31648): \tat android.os.Handler.dispatchMessage(Handler.java:102)\r\n    05-22 17:10:57.446: E/WindowManager(31648): \tat android.os.Looper.loop(Looper.java:157)\r\n    05-22 17:10:57.446: E/WindowManager(31648): \tat android.app.ActivityThread.main(ActivityThread.java:5356)\r\n    05-22 17:10:57.446: E/WindowManager(31648): \tat java.lang.reflect.Method.invokeNative(Native Method)\r\n    05-22 17:10:57.446: E/WindowManager(31648): \tat java.lang.reflect.Method.invoke(Method.java:515)\r\n    05-22 17:10:57.446: E/WindowManager(31648): \tat com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1265)\r\n    05-22 17:10:57.446: E/WindowManager(31648): \tat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1081)\r\n    05-22 17:10:57.446: E/WindowManager(31648): \tat dalvik.system.NativeStart.main(Native Method)\r\n    05-22 17:11:01.279: I/Process(31648): Sending signal. PID: 31648 SIG: 9\r\n\r\nHere the class JSONParser.java\r\n\r\n    package com.example.androidhive;\r\n     \r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.InputStreamReader;\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.util.List;\r\n     \r\n    import org.apache.http.HttpEntity;\r\n    import org.apache.http.HttpResponse;\r\n    import org.apache.http.NameValuePair;\r\n    import org.apache.http.client.ClientProtocolException;\r\n    import org.apache.http.client.entity.UrlEncodedFormEntity;\r\n    import org.apache.http.client.methods.HttpGet;\r\n    import org.apache.http.client.methods.HttpPost;\r\n    import org.apache.http.client.utils.URLEncodedUtils;\r\n    import org.apache.http.impl.client.DefaultHttpClient;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n     \r\n    import android.util.Log;\r\n     \r\n    public class JSONParser {\r\n     \r\n        static InputStream is = null;\r\n        static JSONObject jObj = null;\r\n        static String json = &quot;&quot;;\r\n     \r\n        // constructor\r\n        public JSONParser() {\r\n     \r\n        }\r\n     \r\n        // function get json from url\r\n        // by making HTTP POST or GET mehtod\r\n        public JSONObject makeHttpRequest(String url, String method,\r\n                List&lt;NameValuePair&gt; params) {\r\n     \r\n            // Making HTTP request\r\n            try {\r\n     \r\n                // check for request method\r\n                if(method == &quot;POST&quot;){\r\n                    // request method is POST\r\n                    // defaultHttpClient\r\n                    DefaultHttpClient httpClient = new DefaultHttpClient();\r\n                    HttpPost httpPost = new HttpPost(url);\r\n                    httpPost.setEntity(new UrlEncodedFormEntity(params));\r\n     \r\n                    HttpResponse httpResponse = httpClient.execute(httpPost);\r\n                    HttpEntity httpEntity = httpResponse.getEntity();\r\n                    is = httpEntity.getContent();\r\n     \r\n                }else if(method == &quot;GET&quot;){\r\n                    // request method is GET\r\n                    DefaultHttpClient httpClient = new DefaultHttpClient();\r\n                    String paramString = URLEncodedUtils.format(params, &quot;utf-8&quot;);\r\n                    url += &quot;?&quot; + paramString;\r\n                    HttpGet httpGet = new HttpGet(url);\r\n     \r\n                    HttpResponse httpResponse = httpClient.execute(httpGet);\r\n                    HttpEntity httpEntity = httpResponse.getEntity();\r\n                    is = httpEntity.getContent();\r\n                }\r\n\r\nHere the class I use to display the selected data:\r\n\r\n    package com.example.androidhive;\r\n     \r\n    import java.util.ArrayList;\r\n    import java.util.HashMap;\r\n    import java.util.List;\r\n     \r\n    import org.apache.http.NameValuePair;\r\n    import org.json.JSONArray;\r\n    import org.json.JSONException;\r\n    import org.json.JSONObject;\r\n     \r\n    import android.app.ListActivity;\r\n    import android.app.ProgressDialog;\r\n    import android.content.Intent;\r\n    import android.os.AsyncTask;\r\n    import android.os.Bundle;\r\n    import android.util.Log;\r\n    import android.view.View;\r\n    import android.widget.AdapterView;\r\n    import android.widget.AdapterView.OnItemClickListener;\r\n    import android.widget.ListAdapter;\r\n    import android.widget.ListView;\r\n    import android.widget.SimpleAdapter;\r\n    import android.widget.TextView;\r\n     \r\n    public class AllProductsActivity extends ListActivity {\r\n     \r\n        // Progress Dialog\r\n        private ProgressDialog pDialog;\r\n     \r\n        // Creating JSON Parser object\r\n        JSONParser jParser = new JSONParser();\r\n     \r\n        ArrayList&lt;HashMap&lt;String, String&gt;&gt; productsList;\r\n     \r\n        // url to get all products list\r\n        private static String url_all_products = &quot;http://10.1.20.10/android/get_all_products.php&quot;;\r\n     \r\n        // JSON Node names\r\n        private static final String TAG_SUCCESS = &quot;success&quot;;\r\n        private static final String TAG_PRODUCTS = &quot;products&quot;;\r\n        private static final String TAG_PID = &quot;pid&quot;;\r\n        private static final String TAG_NAME = &quot;name&quot;;\r\n     \r\n        // products JSONArray\r\n        JSONArray products = null;\r\n     \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.all_products);\r\n     \r\n            // Hashmap for ListView\r\n            productsList = new ArrayList&lt;HashMap&lt;String, String&gt;&gt;();\r\n     \r\n            // Loading products in Background Thread\r\n            new LoadAllProducts().execute();\r\n     \r\n            // Get listview\r\n            ListView lv = getListView();\r\n     \r\n            // on seleting single product\r\n            // launching Edit Product Screen\r\n            lv.setOnItemClickListener(new OnItemClickListener() {\r\n     \r\n                @Override\r\n                public void onItemClick(AdapterView&lt;?&gt; parent, View view,\r\n                        int position, long id) {\r\n                    // getting values from selected ListItem\r\n                    String pid = ((TextView) view.findViewById(R.id.pid)).getText()\r\n                            .toString();\r\n     \r\n                    // Starting new intent\r\n                    Intent in = new Intent(getApplicationContext(),\r\n                            EditProductActivity.class);\r\n                    // sending pid to next activity\r\n                    in.putExtra(TAG_PID, pid);\r\n     \r\n                    // starting new activity and expecting some response back\r\n                    startActivityForResult(in, 100);\r\n                }\r\n            });\r\n     \r\n        }\r\n     \r\n        // Response from Edit Product Activity\r\n        @Override\r\n        protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n            super.onActivityResult(requestCode, resultCode, data);\r\n            // if result code 100\r\n            if (resultCode == 100) {\r\n                // if result code 100 is received\r\n                // means user edited/deleted product\r\n                // reload this screen again\r\n                Intent intent = getIntent();\r\n                finish();\r\n                startActivity(intent);\r\n            }\r\n     \r\n        }\r\n     \r\n        /**\r\n         * Background Async Task to Load all product by making HTTP Request\r\n         * */\r\n        class LoadAllProducts extends AsyncTask&lt;String, String, String&gt; {\r\n     \r\n            /**\r\n             * Before starting background thread Show Progress Dialog\r\n             * */\r\n            @Override\r\n            protected void onPreExecute() {\r\n                super.onPreExecute();\r\n                pDialog = new ProgressDialog(AllProductsActivity.this);\r\n                pDialog.setMessage(&quot;Loading products. Please wait...&quot;);\r\n                pDialog.setIndeterminate(false);\r\n                pDialog.setCancelable(false);\r\n                pDialog.show();\r\n            }\r\n     \r\n            /**\r\n             * getting All products from url\r\n             * */\r\n            protected String doInBackground(String... args) {\r\n                // Building Parameters\r\n                List&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;();\r\n                // getting JSON string from URL\r\n                JSONObject json = jParser.makeHttpRequest(url_all_products, &quot;GET&quot;, params);\r\n     \r\n                // Check your log cat for JSON reponse\r\n                Log.d(&quot;All Products: &quot;, json.toString());\r\n     \r\n                try {\r\n                    // Checking for SUCCESS TAG\r\n                    int success = json.getInt(TAG_SUCCESS);\r\n     \r\n                    if (success == 1) {\r\n                        // products found\r\n                        // Getting Array of Products\r\n                        products = json.getJSONArray(TAG_PRODUCTS);\r\n     \r\n                        // looping through All Products\r\n                        for (int i = 0; i &lt; products.length(); i++) {\r\n                            JSONObject c = products.getJSONObject(i);\r\n     \r\n                            // Storing each json item in variable\r\n                            String id = c.getString(TAG_PID);\r\n                            String name = c.getString(TAG_NAME);\r\n     \r\n                            // creating new HashMap\r\n                            HashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n     \r\n                            // adding each child node to HashMap key =&gt; value\r\n                            map.put(TAG_PID, id);\r\n                            map.put(TAG_NAME, name);\r\n     \r\n                            // adding HashList to ArrayList\r\n                            productsList.add(map);\r\n                        }\r\n                    } else {\r\n                        // no products found\r\n                        // Launch Add New product Activity\r\n                        Intent i = new Intent(getApplicationContext(),\r\n                                NewProductActivity.class);\r\n                        // Closing all previous activities\r\n                        i.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n                        startActivity(i);\r\n                    }\r\n                } catch (JSONException e) {\r\n                    e.printStackTrace();\r\n                }\r\n     \r\n                return null;\r\n            }\r\n     \r\n            /**\r\n             * After completing background task Dismiss the progress dialog\r\n             * **/\r\n            protected void onPostExecute(String file_url) {\r\n                // dismiss the dialog after getting all products\r\n                pDialog.dismiss();\r\n                // updating UI from Background Thread\r\n                runOnUiThread(new Runnable() {\r\n                    public void run() {\r\n                        /**\r\n                         * Updating parsed JSON data into ListView\r\n                         * */\r\n                        ListAdapter adapter = new SimpleAdapter(\r\n                                AllProductsActivity.this, productsList,\r\n                                R.layout.list_item, new String[] { TAG_PID,\r\n                                        TAG_NAME},\r\n                                new int[] { R.id.pid, R.id.name });\r\n                        // updating listview\r\n                        setListAdapter(adapter);\r\n                    }\r\n                });\r\n     \r\n            }\r\n     \r\n        }\r\n    }\r\n\r\nHere the php file:\r\n\r\n    get_all_products.php\r\n    &lt;?php\r\n     \r\n    /*\r\n     * Following code will list all the products\r\n     */\r\n     \r\n    // array for JSON response\r\n    $response = array();\r\n     \r\n    // include db connect class\r\n    require_once __DIR__ . &#39;/db_connect.php&#39;;\r\n     \r\n    // connecting to db\r\n    $db = new DB_CONNECT();\r\n     \r\n    // get all products from products table\r\n    $result = mysql_query(&quot;SELECT *FROM products&quot;) or die(mysql_error());\r\n     \r\n    // check for empty result\r\n    if (mysql_num_rows($result) &gt; 0) {\r\n        // looping through all results\r\n        // products node\r\n        $response[&quot;products&quot;] = array();\r\n     \r\n        while ($row = mysql_fetch_array($result)) {\r\n            // temp user array\r\n            $product = array();\r\n            $product[&quot;pid&quot;] = $row[&quot;pid&quot;];\r\n            $product[&quot;name&quot;] = $row[&quot;name&quot;];\r\n            $product[&quot;price&quot;] = $row[&quot;price&quot;];\r\n            $product[&quot;created_at&quot;] = $row[&quot;created_at&quot;];\r\n            $product[&quot;updated_at&quot;] = $row[&quot;updated_at&quot;];\r\n     \r\n            // push single product into final response array\r\n            array_push($response[&quot;products&quot;], $product);\r\n        }\r\n        // success\r\n        $response[&quot;success&quot;] = 1;\r\n     \r\n        // echoing JSON response\r\n        echo json_encode($response);\r\n    } else {\r\n        // no products found\r\n        $response[&quot;success&quot;] = 0;\r\n        $response[&quot;message&quot;] = &quot;No products found&quot;;\r\n     \r\n        // echo no users JSON\r\n        echo json_encode($response);\r\n    }\r\n    ?&gt;\r\n\r\nIn addition, here the main Activity:\r\n\r\n    package com.example.androidhive;\r\n     \r\n    import android.app.Activity;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n     \r\n    public class MainScreenActivity extends Activity{\r\n     \r\n        Button btnViewProducts;\r\n        Button btnNewProduct;\r\n     \r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.main_screen);\r\n     \r\n            // Buttons\r\n            btnViewProducts = (Button) findViewById(R.id.btnViewProducts);\r\n            btnNewProduct = (Button) findViewById(R.id.btnCreateProduct);\r\n     \r\n            // view products click event\r\n            btnViewProducts.setOnClickListener(new View.OnClickListener() {\r\n     \r\n                @Override\r\n                public void onClick(View view) {\r\n                    // Launching All products Activity\r\n                    Intent i = new Intent(getApplicationContext(), AllProductsActivity.class);\r\n                    startActivity(i);\r\n     \r\n                }\r\n            });\r\n     \r\n            // view products click event\r\n            btnNewProduct.setOnClickListener(new View.OnClickListener() {\r\n     \r\n                @Override\r\n                public void onClick(View view) {\r\n                    // Launching create new product activity\r\n                    Intent i = new Intent(getApplicationContext(), NewProductActivity.class);\r\n                    startActivity(i);\r\n     \r\n                }\r\n            });\r\n        }\r\n        \r\n    }\r\n\r\nI read various thread around the internet about this error, but it is even caused by differents problems, and I did not found a case similar to mine or a solution that solved my problem.","title":"Error parsing data org.json.JSONException: End of input at character 0 of - Android","body":"<p>I'm developing a test Android application that must display some data from a mysql db.\nHere my logs:</p>\n\n<pre><code>05-22 17:10:56.865: E/JSON Parser(31648): Error parsing data org.json.JSONException: End of input at character 0 of \n05-22 17:10:56.865: W/dalvikvm(31648): threadid=11: thread exiting with uncaught exception (group=0x418e3da0)\n05-22 17:10:56.875: E/AndroidRuntime(31648): FATAL EXCEPTION: AsyncTask #1\n05-22 17:10:56.875: E/AndroidRuntime(31648): Process: com.example.androidhive, PID: 31648\n05-22 17:10:56.875: E/AndroidRuntime(31648): java.lang.RuntimeException: An error occured while executing doInBackground()\n05-22 17:10:56.875: E/AndroidRuntime(31648):    at android.os.AsyncTask$3.done(AsyncTask.java:300)\n05-22 17:10:56.875: E/AndroidRuntime(31648):    at java.util.concurrent.FutureTask.finishCompletion(FutureTask.java:355)\n05-22 17:10:56.875: E/AndroidRuntime(31648):    at java.util.concurrent.FutureTask.setException(FutureTask.java:222)\n05-22 17:10:56.875: E/AndroidRuntime(31648):    at java.util.concurrent.FutureTask.run(FutureTask.java:242)\n05-22 17:10:56.875: E/AndroidRuntime(31648):    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1112)\n05-22 17:10:56.875: E/AndroidRuntime(31648):    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:587)\n05-22 17:10:56.875: E/AndroidRuntime(31648):    at java.lang.Thread.run(Thread.java:841)\n05-22 17:10:56.875: E/AndroidRuntime(31648): Caused by: java.lang.NullPointerException\n05-22 17:10:56.875: E/AndroidRuntime(31648):    at com.example.androidhive.AllProductsActivity$LoadAllProducts.doInBackground(AllProductsActivity.java:130)\n05-22 17:10:56.875: E/AndroidRuntime(31648):    at com.example.androidhive.AllProductsActivity$LoadAllProducts.doInBackground(AllProductsActivity.java:1)\n05-22 17:10:56.875: E/AndroidRuntime(31648):    at android.os.AsyncTask$2.call(AsyncTask.java:288)\n05-22 17:10:56.875: E/AndroidRuntime(31648):    at java.util.concurrent.FutureTask.run(FutureTask.java:237)\n05-22 17:10:56.875: E/AndroidRuntime(31648):    ... 3 more\n05-22 17:10:57.436: D/AbsListView(31648): onDetachedFromWindow\n05-22 17:10:57.436: D/AbsListView(31648): unregisterIRListener() is called \n05-22 17:10:57.446: E/WindowManager(31648): android.view.WindowLeaked: Activity com.example.androidhive.AllProductsActivity has leaked window com.android.internal.policy.impl.PhoneWindow$DecorView{42c02238 V.E..... R.....ID 0,0-914,346} that was originally added here\n05-22 17:10:57.446: E/WindowManager(31648):     at android.view.ViewRootImpl.&lt;init&gt;(ViewRootImpl.java:456)\n05-22 17:10:57.446: E/WindowManager(31648):     at android.view.WindowManagerGlobal.addView(WindowManagerGlobal.java:267)\n05-22 17:10:57.446: E/WindowManager(31648):     at android.view.WindowManagerImpl.addView(WindowManagerImpl.java:69)\n05-22 17:10:57.446: E/WindowManager(31648):     at android.app.Dialog.show(Dialog.java:288)\n05-22 17:10:57.446: E/WindowManager(31648):     at com.example.androidhive.AllProductsActivity$LoadAllProducts.onPreExecute(AllProductsActivity.java:117)\n05-22 17:10:57.446: E/WindowManager(31648):     at android.os.AsyncTask.executeOnExecutor(AsyncTask.java:587)\n05-22 17:10:57.446: E/WindowManager(31648):     at android.os.AsyncTask.execute(AsyncTask.java:535)\n05-22 17:10:57.446: E/WindowManager(31648):     at com.example.androidhive.AllProductsActivity.onCreate(AllProductsActivity.java:57)\n05-22 17:10:57.446: E/WindowManager(31648):     at android.app.Activity.performCreate(Activity.java:5426)\n05-22 17:10:57.446: E/WindowManager(31648):     at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1105)\n05-22 17:10:57.446: E/WindowManager(31648):     at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2269)\n05-22 17:10:57.446: E/WindowManager(31648):     at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2363)\n05-22 17:10:57.446: E/WindowManager(31648):     at android.app.ActivityThread.access$900(ActivityThread.java:161)\n05-22 17:10:57.446: E/WindowManager(31648):     at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1265)\n05-22 17:10:57.446: E/WindowManager(31648):     at android.os.Handler.dispatchMessage(Handler.java:102)\n05-22 17:10:57.446: E/WindowManager(31648):     at android.os.Looper.loop(Looper.java:157)\n05-22 17:10:57.446: E/WindowManager(31648):     at android.app.ActivityThread.main(ActivityThread.java:5356)\n05-22 17:10:57.446: E/WindowManager(31648):     at java.lang.reflect.Method.invokeNative(Native Method)\n05-22 17:10:57.446: E/WindowManager(31648):     at java.lang.reflect.Method.invoke(Method.java:515)\n05-22 17:10:57.446: E/WindowManager(31648):     at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:1265)\n05-22 17:10:57.446: E/WindowManager(31648):     at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1081)\n05-22 17:10:57.446: E/WindowManager(31648):     at dalvik.system.NativeStart.main(Native Method)\n05-22 17:11:01.279: I/Process(31648): Sending signal. PID: 31648 SIG: 9\n</code></pre>\n\n<p>Here the class JSONParser.java</p>\n\n<pre><code>package com.example.androidhive;\n\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.InputStreamReader;\nimport java.io.UnsupportedEncodingException;\nimport java.util.List;\n\nimport org.apache.http.HttpEntity;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.NameValuePair;\nimport org.apache.http.client.ClientProtocolException;\nimport org.apache.http.client.entity.UrlEncodedFormEntity;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.client.utils.URLEncodedUtils;\nimport org.apache.http.impl.client.DefaultHttpClient;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport android.util.Log;\n\npublic class JSONParser {\n\n    static InputStream is = null;\n    static JSONObject jObj = null;\n    static String json = \"\";\n\n    // constructor\n    public JSONParser() {\n\n    }\n\n    // function get json from url\n    // by making HTTP POST or GET mehtod\n    public JSONObject makeHttpRequest(String url, String method,\n            List&lt;NameValuePair&gt; params) {\n\n        // Making HTTP request\n        try {\n\n            // check for request method\n            if(method == \"POST\"){\n                // request method is POST\n                // defaultHttpClient\n                DefaultHttpClient httpClient = new DefaultHttpClient();\n                HttpPost httpPost = new HttpPost(url);\n                httpPost.setEntity(new UrlEncodedFormEntity(params));\n\n                HttpResponse httpResponse = httpClient.execute(httpPost);\n                HttpEntity httpEntity = httpResponse.getEntity();\n                is = httpEntity.getContent();\n\n            }else if(method == \"GET\"){\n                // request method is GET\n                DefaultHttpClient httpClient = new DefaultHttpClient();\n                String paramString = URLEncodedUtils.format(params, \"utf-8\");\n                url += \"?\" + paramString;\n                HttpGet httpGet = new HttpGet(url);\n\n                HttpResponse httpResponse = httpClient.execute(httpGet);\n                HttpEntity httpEntity = httpResponse.getEntity();\n                is = httpEntity.getContent();\n            }\n</code></pre>\n\n<p>Here the class I use to display the selected data:</p>\n\n<pre><code>package com.example.androidhive;\n\nimport java.util.ArrayList;\nimport java.util.HashMap;\nimport java.util.List;\n\nimport org.apache.http.NameValuePair;\nimport org.json.JSONArray;\nimport org.json.JSONException;\nimport org.json.JSONObject;\n\nimport android.app.ListActivity;\nimport android.app.ProgressDialog;\nimport android.content.Intent;\nimport android.os.AsyncTask;\nimport android.os.Bundle;\nimport android.util.Log;\nimport android.view.View;\nimport android.widget.AdapterView;\nimport android.widget.AdapterView.OnItemClickListener;\nimport android.widget.ListAdapter;\nimport android.widget.ListView;\nimport android.widget.SimpleAdapter;\nimport android.widget.TextView;\n\npublic class AllProductsActivity extends ListActivity {\n\n    // Progress Dialog\n    private ProgressDialog pDialog;\n\n    // Creating JSON Parser object\n    JSONParser jParser = new JSONParser();\n\n    ArrayList&lt;HashMap&lt;String, String&gt;&gt; productsList;\n\n    // url to get all products list\n    private static String url_all_products = \"http://10.1.20.10/android/get_all_products.php\";\n\n    // JSON Node names\n    private static final String TAG_SUCCESS = \"success\";\n    private static final String TAG_PRODUCTS = \"products\";\n    private static final String TAG_PID = \"pid\";\n    private static final String TAG_NAME = \"name\";\n\n    // products JSONArray\n    JSONArray products = null;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.all_products);\n\n        // Hashmap for ListView\n        productsList = new ArrayList&lt;HashMap&lt;String, String&gt;&gt;();\n\n        // Loading products in Background Thread\n        new LoadAllProducts().execute();\n\n        // Get listview\n        ListView lv = getListView();\n\n        // on seleting single product\n        // launching Edit Product Screen\n        lv.setOnItemClickListener(new OnItemClickListener() {\n\n            @Override\n            public void onItemClick(AdapterView&lt;?&gt; parent, View view,\n                    int position, long id) {\n                // getting values from selected ListItem\n                String pid = ((TextView) view.findViewById(R.id.pid)).getText()\n                        .toString();\n\n                // Starting new intent\n                Intent in = new Intent(getApplicationContext(),\n                        EditProductActivity.class);\n                // sending pid to next activity\n                in.putExtra(TAG_PID, pid);\n\n                // starting new activity and expecting some response back\n                startActivityForResult(in, 100);\n            }\n        });\n\n    }\n\n    // Response from Edit Product Activity\n    @Override\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        // if result code 100\n        if (resultCode == 100) {\n            // if result code 100 is received\n            // means user edited/deleted product\n            // reload this screen again\n            Intent intent = getIntent();\n            finish();\n            startActivity(intent);\n        }\n\n    }\n\n    /**\n     * Background Async Task to Load all product by making HTTP Request\n     * */\n    class LoadAllProducts extends AsyncTask&lt;String, String, String&gt; {\n\n        /**\n         * Before starting background thread Show Progress Dialog\n         * */\n        @Override\n        protected void onPreExecute() {\n            super.onPreExecute();\n            pDialog = new ProgressDialog(AllProductsActivity.this);\n            pDialog.setMessage(\"Loading products. Please wait...\");\n            pDialog.setIndeterminate(false);\n            pDialog.setCancelable(false);\n            pDialog.show();\n        }\n\n        /**\n         * getting All products from url\n         * */\n        protected String doInBackground(String... args) {\n            // Building Parameters\n            List&lt;NameValuePair&gt; params = new ArrayList&lt;NameValuePair&gt;();\n            // getting JSON string from URL\n            JSONObject json = jParser.makeHttpRequest(url_all_products, \"GET\", params);\n\n            // Check your log cat for JSON reponse\n            Log.d(\"All Products: \", json.toString());\n\n            try {\n                // Checking for SUCCESS TAG\n                int success = json.getInt(TAG_SUCCESS);\n\n                if (success == 1) {\n                    // products found\n                    // Getting Array of Products\n                    products = json.getJSONArray(TAG_PRODUCTS);\n\n                    // looping through All Products\n                    for (int i = 0; i &lt; products.length(); i++) {\n                        JSONObject c = products.getJSONObject(i);\n\n                        // Storing each json item in variable\n                        String id = c.getString(TAG_PID);\n                        String name = c.getString(TAG_NAME);\n\n                        // creating new HashMap\n                        HashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n\n                        // adding each child node to HashMap key =&gt; value\n                        map.put(TAG_PID, id);\n                        map.put(TAG_NAME, name);\n\n                        // adding HashList to ArrayList\n                        productsList.add(map);\n                    }\n                } else {\n                    // no products found\n                    // Launch Add New product Activity\n                    Intent i = new Intent(getApplicationContext(),\n                            NewProductActivity.class);\n                    // Closing all previous activities\n                    i.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n                    startActivity(i);\n                }\n            } catch (JSONException e) {\n                e.printStackTrace();\n            }\n\n            return null;\n        }\n\n        /**\n         * After completing background task Dismiss the progress dialog\n         * **/\n        protected void onPostExecute(String file_url) {\n            // dismiss the dialog after getting all products\n            pDialog.dismiss();\n            // updating UI from Background Thread\n            runOnUiThread(new Runnable() {\n                public void run() {\n                    /**\n                     * Updating parsed JSON data into ListView\n                     * */\n                    ListAdapter adapter = new SimpleAdapter(\n                            AllProductsActivity.this, productsList,\n                            R.layout.list_item, new String[] { TAG_PID,\n                                    TAG_NAME},\n                            new int[] { R.id.pid, R.id.name });\n                    // updating listview\n                    setListAdapter(adapter);\n                }\n            });\n\n        }\n\n    }\n}\n</code></pre>\n\n<p>Here the php file:</p>\n\n<pre><code>get_all_products.php\n&lt;?php\n\n/*\n * Following code will list all the products\n */\n\n// array for JSON response\n$response = array();\n\n// include db connect class\nrequire_once __DIR__ . '/db_connect.php';\n\n// connecting to db\n$db = new DB_CONNECT();\n\n// get all products from products table\n$result = mysql_query(\"SELECT *FROM products\") or die(mysql_error());\n\n// check for empty result\nif (mysql_num_rows($result) &gt; 0) {\n    // looping through all results\n    // products node\n    $response[\"products\"] = array();\n\n    while ($row = mysql_fetch_array($result)) {\n        // temp user array\n        $product = array();\n        $product[\"pid\"] = $row[\"pid\"];\n        $product[\"name\"] = $row[\"name\"];\n        $product[\"price\"] = $row[\"price\"];\n        $product[\"created_at\"] = $row[\"created_at\"];\n        $product[\"updated_at\"] = $row[\"updated_at\"];\n\n        // push single product into final response array\n        array_push($response[\"products\"], $product);\n    }\n    // success\n    $response[\"success\"] = 1;\n\n    // echoing JSON response\n    echo json_encode($response);\n} else {\n    // no products found\n    $response[\"success\"] = 0;\n    $response[\"message\"] = \"No products found\";\n\n    // echo no users JSON\n    echo json_encode($response);\n}\n?&gt;\n</code></pre>\n\n<p>In addition, here the main Activity:</p>\n\n<pre><code>package com.example.androidhive;\n\nimport android.app.Activity;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\n\npublic class MainScreenActivity extends Activity{\n\n    Button btnViewProducts;\n    Button btnNewProduct;\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main_screen);\n\n        // Buttons\n        btnViewProducts = (Button) findViewById(R.id.btnViewProducts);\n        btnNewProduct = (Button) findViewById(R.id.btnCreateProduct);\n\n        // view products click event\n        btnViewProducts.setOnClickListener(new View.OnClickListener() {\n\n            @Override\n            public void onClick(View view) {\n                // Launching All products Activity\n                Intent i = new Intent(getApplicationContext(), AllProductsActivity.class);\n                startActivity(i);\n\n            }\n        });\n\n        // view products click event\n        btnNewProduct.setOnClickListener(new View.OnClickListener() {\n\n            @Override\n            public void onClick(View view) {\n                // Launching create new product activity\n                Intent i = new Intent(getApplicationContext(), NewProductActivity.class);\n                startActivity(i);\n\n            }\n        });\n    }\n\n}\n</code></pre>\n\n<p>I read various thread around the internet about this error, but it is even caused by differents problems, and I did not found a case similar to mine or a solution that solved my problem.</p>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":4598289,"reputation":1210,"user_id":3763032,"accept_rate":62,"display_name":"mochadwi"},"score":0,"creation_date":1626937391,"post_id":68480040,"comment_id":121025589,"body_markdown":"looks like there&#39;s no JSON payloads included as snippet code, you might wanna update it first, e.g: `{ &quot;books&quot;: [ { &quot;date&quot;: &quot;1-12-2021&quot;, &quot;title&quot;: &quot;Book Wonderland!&quot; } ] }`","body":"looks like there&#39;s no JSON payloads included as snippet code, you might wanna update it first, e.g: <code>{ &quot;books&quot;: [ { &quot;date&quot;: &quot;1-12-2021&quot;, &quot;title&quot;: &quot;Book Wonderland!&quot; } ] }</code>"},{"owner":{"account_id":18729807,"reputation":25,"user_id":13655487,"display_name":"Serya"},"score":0,"creation_date":1626940027,"post_id":68480040,"comment_id":121026551,"body_markdown":"@mochadwi I do have the json url data in json data attribute,but I replace it with myurl because of company confidential policy","body":"@mochadwi I do have the json url data in json data attribute,but I replace it with myurl because of company confidential policy"},{"owner":{"account_id":4598289,"reputation":1210,"user_id":3763032,"accept_rate":62,"display_name":"mochadwi"},"score":0,"creation_date":1627211036,"post_id":68480040,"comment_id":121091242,"body_markdown":"`org.json.JSONException` possibly this is thrown because either the attributes is missing (no value), just for the e.g, expected: `{ &quot;books&quot;: [] }, actual: {}","body":"<code>org.json.JSONException</code> possibly this is thrown because either the attributes is missing (no value), just for the e.g, expected: `{ &quot;books&quot;: [] }, actual: {}"},{"owner":{"account_id":4598289,"reputation":1210,"user_id":3763032,"accept_rate":62,"display_name":"mochadwi"},"score":0,"creation_date":1627211145,"post_id":68480040,"comment_id":121091270,"body_markdown":"did you already place a breakpoint in `JSONObject jsonObject = jsonArray.getJSONObject(i);` in case the exception thrown when trying to access the `JSONObject` by its index, that would be great, your current description seems still vagues to know which line throws the exception :pray:","body":"did you already place a breakpoint in <code>JSONObject jsonObject = jsonArray.getJSONObject(i);</code> in case the exception thrown when trying to access the <code>JSONObject</code> by its index, that would be great, your current description seems still vagues to know which line throws the exception :pray:"}],"answers":[{"tags":[],"owner":{"account_id":18729807,"reputation":25,"user_id":13655487,"display_name":"Serya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644235050,"creation_date":1627289775,"answer_id":68527046,"question_id":68480040,"body_markdown":"I found the solution.The reason why the error tells \r\n`W/System.err: org.json.JSONException: No value for [Ljava.lang.String;@1b3da99`\r\nis because that I shouldn&#39;t get jsonObject data and transfer the formation at the same time. \r\n \r\n`book.setDate(jsonObject.getString(String.valueOf(dateFormat)));`\r\n\r\nthe key of value was named `&#39;date&#39;` in my json data.However, I thought it would be fine to run through the argument in `dateformat` and parse the value to string as an jsonObject value. jsonObject didn&#39;t have the key `&#39;dateformat&#39;` ,so there was no clue can find my value.The ide can only find automatic-generated id in dateformat and transfer it to String `@1b3da99` during the runtime.\r\n\r\nthe solution just seperate the procedure.\r\nget the jsonObject in the main class\r\n\r\n`book.setDate(jsonObject.getString(&quot;date&quot;));`\r\n\r\n`bList.add(book)`\r\n\r\nand put the argument in the setDate.\r\n\r\n\r\n`public void setDate(String date) {//dateFormat argument}`\r\n\r\n\r\n\r\n\r\n\r\n \r\n","title":"How to set the ListObject in RecyclerView","body":"<p>I found the solution.The reason why the error tells\n<code>W/System.err: org.json.JSONException: No value for [Ljava.lang.String;@1b3da99</code>\nis because that I shouldn't get jsonObject data and transfer the formation at the same time.</p>\n<p><code>book.setDate(jsonObject.getString(String.valueOf(dateFormat)));</code></p>\n<p>the key of value was named <code>'date'</code> in my json data.However, I thought it would be fine to run through the argument in <code>dateformat</code> and parse the value to string as an jsonObject value. jsonObject didn't have the key <code>'dateformat'</code> ,so there was no clue can find my value.The ide can only find automatic-generated id in dateformat and transfer it to String <code>@1b3da99</code> during the runtime.</p>\n<p>the solution just seperate the procedure.\nget the jsonObject in the main class</p>\n<p><code>book.setDate(jsonObject.getString(&quot;date&quot;));</code></p>\n<p><code>bList.add(book)</code></p>\n<p>and put the argument in the setDate.</p>\n<p><code>public void setDate(String date) {//dateFormat argument}</code></p>\n"}],"owner":{"account_id":18729807,"reputation":25,"user_id":13655487,"display_name":"Serya"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644235050,"creation_date":1626934791,"question_id":68480040,"body_markdown":"I just started combining json data with recyclerView. After checking ArrayList can completed save key and value\r\n\r\n```\r\npublic class test extends AppCompatActivity {\r\n\r\n//set Attributes and storage List for json\r\n\r\n    public String jsonData = &quot;myurl&quot;;\r\n\r\n    ArrayList&lt;HashMap&lt;String, String&gt;&gt; arrayList = new ArrayList&lt;&gt;();\r\n\r\n...\r\n\r\n  private void loadingData() {//the method is called in onCreate\r\n\r\nProgressDialog dialog = ProgressDialog.show(this, &quot;update&quot;,\r\n                &quot;Loading Data&quot;, true);\r\n\r\n//using Thread and Dialog while loading the data\r\n\r\n        new Thread(() -&gt; {\r\n\r\n            try {\r\n\r\n//use GetData(AsyncTask) &amp; parse json\r\n                String jsonOpendata = new GetData().execute(jsonData).get();\r\n\r\n                JSONArray jsonArray = new JSONArray(jsonOpendata);\r\n\r\n                for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n\r\n                    JSONObject jsonObject = jsonArray.getJSONObject(i);\r\n\r\n//   Set key &amp; value for Hashmap             \r\n         \r\n                  String Date = jsonObject.getString(&quot;date&quot;);\r\n                    String[] dateFormat = Date.split(&quot;-&quot;);\r\n                    switch (dateFormat[1]) {\r\n                        case &quot;1&quot;:\r\n                            dateFormat[1] = &quot;Jan.&quot;;\r\n                            break;\r\n                        case &quot;2&quot;:\r\n                            dateFormat[1] = &quot;Feb.&quot;;\r\n                            break;\r\n                        case &quot;3&quot;:\r\n                            dateFormat[1] = &quot;Mar.&quot;;\r\n                            break;\r\n                        case &quot;4&quot;:\r\n                            dateFormat[1] = &quot;Apr.&quot;;\r\n                            break;\r\n                        case &quot;5&quot;:\r\n                            dateFormat[1] = &quot;May.&quot;;\r\n                            break;\r\n                        case &quot;6&quot;:\r\n                            dateFormat[1] = &quot;Jun.&quot;;\r\n                            break;\r\n                        case &quot;7&quot;:\r\n                            dateFormat[1] = &quot;Jul.&quot;;\r\n                            break;\r\n                        case &quot;8&quot;:\r\n                            dateFormat[1] = &quot;Aug.&quot;;\r\n                            break;\r\n                        case &quot;9&quot;:\r\n                            dateFormat[1] = &quot;Sep.&quot;;\r\n                            break;\r\n                        case &quot;10&quot;:\r\n                            dateFormat[1] = &quot;Oct.&quot;;\r\n                            break;\r\n                        case &quot;11&quot;:\r\n                            dateFormat[1] = &quot;Nov.&quot;;\r\n                            break;\r\n                        case &quot;12&quot;:\r\n                            dateFormat[1] = &quot;Dec.&quot;;\r\n                            break;\r\n                    }\r\n                    String dateFormat = jsonObject.getString(String.valueOf(dateFormat)));\r\n\r\n       HashMap&lt;String, String&gt; hashMap = new HashMap&lt;&gt;();\r\n                    hashMap.put(&quot;date&quot;, dateFormat);\r\n                   ...\r\n\r\n                    arrayList.add(hashMap);\r\n\r\n                }\r\n//loading completed Thread\r\n                runOnUiThread(() -&gt; {\r\n                    dialog.dismiss();\r\n                    recyclerView = (RecyclerView) findViewById(R.id.recyclerview);\r\n                    recyclerView.setLayoutManager(new GridLayoutManager(this,4));\r\n                    recyclerView.addItemDecoration(new DividerItemDecoration(this, DividerItemDecoration.VERTICAL));\r\n                    RecyclerAdapter recyclerAdapter = new RecyclerAdapter();\r\n                    recyclerView.setAdapter(recyclerAdapter);\r\n                });\r\n//catch....\r\n```\r\nAnd my recyclerView can read adapter and display the data successfully.\r\nHowever, I found out the way more efficient and useful to save the data in arrayList is to put it into ListObject,so I&#39;ve attempted it as follows\r\n```\r\npublic class test extends AppCompatActivity {\r\n\r\n//replacement\r\n\r\n    public String jsonData = &quot;myurl&quot;;\r\n\r\n    **List&lt;Book&gt; bList = new ArrayList&lt;&gt;();**\r\n\r\n...\r\n\r\n  private void loadingData() {//the method is called in onCreate\r\n\r\n//using Thread and Dialog while loading the data\r\n\r\n//use GetData(AsyncTask) &amp; parse json\r\n              ...\r\n\r\n                for (int i = 0; i &lt; jsonArray.length(); i++) {\r\n\r\n                    JSONObject jsonObject = jsonArray.getJSONObject(i);\r\n\r\n//   Set key &amp; value in Object\r\n                    **Book book = new Book();**\r\n                   String Date = jsonObject.getString(&quot;date&quot;);\r\n                    String[] dateFormat = Date.split(&quot;-&quot;);\r\n                    switch (dateFormat[1]) {\r\n                        case &quot;1&quot;:\r\n                            dateFormat[1] = &quot;Jan.&quot;;\r\n                            break;\r\n                        case &quot;2&quot;:\r\n                            dateFormat[1] = &quot;Feb.&quot;;\r\n                            break;\r\n                        case &quot;3&quot;:\r\n                            dateFormat[1] = &quot;Mar.&quot;;\r\n                            break;\r\n                        case &quot;4&quot;:\r\n                            dateFormat[1] = &quot;Apr.&quot;;\r\n                            break;\r\n                        case &quot;5&quot;:\r\n                            dateFormat[1] = &quot;May.&quot;;\r\n                            break;\r\n                        case &quot;6&quot;:\r\n                            dateFormat[1] = &quot;Jun.&quot;;\r\n                            break;\r\n                        case &quot;7&quot;:\r\n                            dateFormat[1] = &quot;Jul.&quot;;\r\n                            break;\r\n                        case &quot;8&quot;:\r\n                            dateFormat[1] = &quot;Aug.&quot;;\r\n                            break;\r\n                        case &quot;9&quot;:\r\n                            dateFormat[1] = &quot;Sep.&quot;;\r\n                            break;\r\n                        case &quot;10&quot;:\r\n                            dateFormat[1] = &quot;Oct.&quot;;\r\n                            break;\r\n                        case &quot;11&quot;:\r\n                            dateFormat[1] = &quot;Nov.&quot;;\r\n                            break;\r\n                        case &quot;12&quot;:\r\n                            dateFormat[1] = &quot;Dec.&quot;;\r\n                            break;\r\n                    }\r\n                   **astro.setDate(jsonObject.getString(String.valueOf(dateFormat)));**\r\n                   ...\r\n                    **bList.add(book);**\r\n\r\n                }\r\n//loading completed Thread\r\n                runOnUiThread(() -&gt; {\r\n                    dialog.dismiss();\r\n                    recyclerView = (RecyclerView) findViewById(R.id.recyclerview);\r\n                    recyclerView.setLayoutManager(new GridLayoutManager(this,4));\r\n                    recyclerView.addItemDecoration(new DividerItemDecoration(this, DividerItemDecoration.VERTICAL));\r\n                    RecyclerAdapter recyclerAdapter = new RecyclerAdapter(**this,bList**);\r\n                    recyclerView.setAdapter(recyclerAdapter);\r\n                });\r\n//catch....\r\n```\r\nThen add a Book class\r\n```\r\npublic class Book {\r\n    String date;\r\n\r\n    public Book(String date) {\r\n           this.date = date;\r\n    }\r\n\r\n    public Book() {\r\n    }\r\n\r\n    public String getDate() {\r\n        return date;\r\n    }\r\n\r\n    public void setDate(String date) {\r\n        this.date= date;\r\n    } \r\n```\r\nAnd the errors occur said\r\n*W/System.err: org.json.JSONException: No value for [Ljava.lang.String;@1b3da99*\r\nI will really appreciate if someone could give me any solution or direction to solve this problem\r\n","title":"How to set the ListObject in RecyclerView","body":"<p>I just started combining json data with recyclerView. After checking ArrayList can completed save key and value</p>\n<pre><code>public class test extends AppCompatActivity {\n\n//set Attributes and storage List for json\n\n    public String jsonData = &quot;myurl&quot;;\n\n    ArrayList&lt;HashMap&lt;String, String&gt;&gt; arrayList = new ArrayList&lt;&gt;();\n\n...\n\n  private void loadingData() {//the method is called in onCreate\n\nProgressDialog dialog = ProgressDialog.show(this, &quot;update&quot;,\n                &quot;Loading Data&quot;, true);\n\n//using Thread and Dialog while loading the data\n\n        new Thread(() -&gt; {\n\n            try {\n\n//use GetData(AsyncTask) &amp; parse json\n                String jsonOpendata = new GetData().execute(jsonData).get();\n\n                JSONArray jsonArray = new JSONArray(jsonOpendata);\n\n                for (int i = 0; i &lt; jsonArray.length(); i++) {\n\n                    JSONObject jsonObject = jsonArray.getJSONObject(i);\n\n//   Set key &amp; value for Hashmap             \n         \n                  String Date = jsonObject.getString(&quot;date&quot;);\n                    String[] dateFormat = Date.split(&quot;-&quot;);\n                    switch (dateFormat[1]) {\n                        case &quot;1&quot;:\n                            dateFormat[1] = &quot;Jan.&quot;;\n                            break;\n                        case &quot;2&quot;:\n                            dateFormat[1] = &quot;Feb.&quot;;\n                            break;\n                        case &quot;3&quot;:\n                            dateFormat[1] = &quot;Mar.&quot;;\n                            break;\n                        case &quot;4&quot;:\n                            dateFormat[1] = &quot;Apr.&quot;;\n                            break;\n                        case &quot;5&quot;:\n                            dateFormat[1] = &quot;May.&quot;;\n                            break;\n                        case &quot;6&quot;:\n                            dateFormat[1] = &quot;Jun.&quot;;\n                            break;\n                        case &quot;7&quot;:\n                            dateFormat[1] = &quot;Jul.&quot;;\n                            break;\n                        case &quot;8&quot;:\n                            dateFormat[1] = &quot;Aug.&quot;;\n                            break;\n                        case &quot;9&quot;:\n                            dateFormat[1] = &quot;Sep.&quot;;\n                            break;\n                        case &quot;10&quot;:\n                            dateFormat[1] = &quot;Oct.&quot;;\n                            break;\n                        case &quot;11&quot;:\n                            dateFormat[1] = &quot;Nov.&quot;;\n                            break;\n                        case &quot;12&quot;:\n                            dateFormat[1] = &quot;Dec.&quot;;\n                            break;\n                    }\n                    String dateFormat = jsonObject.getString(String.valueOf(dateFormat)));\n\n       HashMap&lt;String, String&gt; hashMap = new HashMap&lt;&gt;();\n                    hashMap.put(&quot;date&quot;, dateFormat);\n                   ...\n\n                    arrayList.add(hashMap);\n\n                }\n//loading completed Thread\n                runOnUiThread(() -&gt; {\n                    dialog.dismiss();\n                    recyclerView = (RecyclerView) findViewById(R.id.recyclerview);\n                    recyclerView.setLayoutManager(new GridLayoutManager(this,4));\n                    recyclerView.addItemDecoration(new DividerItemDecoration(this, DividerItemDecoration.VERTICAL));\n                    RecyclerAdapter recyclerAdapter = new RecyclerAdapter();\n                    recyclerView.setAdapter(recyclerAdapter);\n                });\n//catch....\n</code></pre>\n<p>And my recyclerView can read adapter and display the data successfully.\nHowever, I found out the way more efficient and useful to save the data in arrayList is to put it into ListObject,so I've attempted it as follows</p>\n<pre><code>public class test extends AppCompatActivity {\n\n//replacement\n\n    public String jsonData = &quot;myurl&quot;;\n\n    **List&lt;Book&gt; bList = new ArrayList&lt;&gt;();**\n\n...\n\n  private void loadingData() {//the method is called in onCreate\n\n//using Thread and Dialog while loading the data\n\n//use GetData(AsyncTask) &amp; parse json\n              ...\n\n                for (int i = 0; i &lt; jsonArray.length(); i++) {\n\n                    JSONObject jsonObject = jsonArray.getJSONObject(i);\n\n//   Set key &amp; value in Object\n                    **Book book = new Book();**\n                   String Date = jsonObject.getString(&quot;date&quot;);\n                    String[] dateFormat = Date.split(&quot;-&quot;);\n                    switch (dateFormat[1]) {\n                        case &quot;1&quot;:\n                            dateFormat[1] = &quot;Jan.&quot;;\n                            break;\n                        case &quot;2&quot;:\n                            dateFormat[1] = &quot;Feb.&quot;;\n                            break;\n                        case &quot;3&quot;:\n                            dateFormat[1] = &quot;Mar.&quot;;\n                            break;\n                        case &quot;4&quot;:\n                            dateFormat[1] = &quot;Apr.&quot;;\n                            break;\n                        case &quot;5&quot;:\n                            dateFormat[1] = &quot;May.&quot;;\n                            break;\n                        case &quot;6&quot;:\n                            dateFormat[1] = &quot;Jun.&quot;;\n                            break;\n                        case &quot;7&quot;:\n                            dateFormat[1] = &quot;Jul.&quot;;\n                            break;\n                        case &quot;8&quot;:\n                            dateFormat[1] = &quot;Aug.&quot;;\n                            break;\n                        case &quot;9&quot;:\n                            dateFormat[1] = &quot;Sep.&quot;;\n                            break;\n                        case &quot;10&quot;:\n                            dateFormat[1] = &quot;Oct.&quot;;\n                            break;\n                        case &quot;11&quot;:\n                            dateFormat[1] = &quot;Nov.&quot;;\n                            break;\n                        case &quot;12&quot;:\n                            dateFormat[1] = &quot;Dec.&quot;;\n                            break;\n                    }\n                   **astro.setDate(jsonObject.getString(String.valueOf(dateFormat)));**\n                   ...\n                    **bList.add(book);**\n\n                }\n//loading completed Thread\n                runOnUiThread(() -&gt; {\n                    dialog.dismiss();\n                    recyclerView = (RecyclerView) findViewById(R.id.recyclerview);\n                    recyclerView.setLayoutManager(new GridLayoutManager(this,4));\n                    recyclerView.addItemDecoration(new DividerItemDecoration(this, DividerItemDecoration.VERTICAL));\n                    RecyclerAdapter recyclerAdapter = new RecyclerAdapter(**this,bList**);\n                    recyclerView.setAdapter(recyclerAdapter);\n                });\n//catch....\n</code></pre>\n<p>Then add a Book class</p>\n<pre><code>public class Book {\n    String date;\n\n    public Book(String date) {\n           this.date = date;\n    }\n\n    public Book() {\n    }\n\n    public String getDate() {\n        return date;\n    }\n\n    public void setDate(String date) {\n        this.date= date;\n    } \n</code></pre>\n<p>And the errors occur said\n<em>W/System.err: org.json.JSONException: No value for [Ljava.lang.String;@1b3da99</em>\nI will really appreciate if someone could give me any solution or direction to solve this problem</p>\n"},{"tags":["java","performance","tomcat","grails","newrelic"],"comments":[{"owner":{"account_id":1299143,"reputation":605,"user_id":1249421,"display_name":"Bertl"},"score":0,"creation_date":1643881240,"post_id":70952415,"comment_id":125458573,"body_markdown":"For such analysis we use XRebel, which does a great job in Grails as well. It even displays slow SQL queries, etc.","body":"For such analysis we use XRebel, which does a great job in Grails as well. It even displays slow SQL queries, etc."}],"answers":[{"tags":[],"owner":{"account_id":22659087,"reputation":106,"user_id":16832501,"display_name":"Fernando henrique"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643978299,"creation_date":1643978299,"answer_id":70986519,"question_id":70952415,"body_markdown":"Run the siege command to check the total time of several users making the request at the same point.\r\n\r\nI made a repository trying to do what you said\r\n\r\nhttps://github.com/fernando88to/slowness5","title":"Slowness after migrating to Grails 5.1.1 - time spent on GrailsControllerUrlMappingInfo","body":"<p>Run the siege command to check the total time of several users making the request at the same point.</p>\n<p>I made a repository trying to do what you said</p>\n<p><a href=\"https://github.com/fernando88to/slowness5\" rel=\"nofollow noreferrer\">https://github.com/fernando88to/slowness5</a></p>\n"},{"tags":[],"owner":{"account_id":22659087,"reputation":106,"user_id":16832501,"display_name":"Fernando henrique"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1644234876,"creation_date":1644234876,"answer_id":71018153,"question_id":70952415,"body_markdown":"In the link https://github.com/spring-projects/spring-boot/issues/16471 has the following report:\r\n\r\n&quot;It&#39;s quite low priority as the problem can be avoided by using .jar packaging rather than .war packaging or, I believe, by switching to another embedded container. As things stand, we have no plans to tackle this in the 2.x timeframe.&quot;\r\n\r\nSo I ran the command &#39;./gradlew bootJar&#39;. \r\n\r\n\r\nAnd I did the test with siege and the first request was from 1.62 seconds to 0.47 seconds\r\n\r\n","title":"Slowness after migrating to Grails 5.1.1 - time spent on GrailsControllerUrlMappingInfo","body":"<p>In the link <a href=\"https://github.com/spring-projects/spring-boot/issues/16471\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/16471</a> has the following report:</p>\n<p>&quot;It's quite low priority as the problem can be avoided by using .jar packaging rather than .war packaging or, I believe, by switching to another embedded container. As things stand, we have no plans to tackle this in the 2.x timeframe.&quot;</p>\n<p>So I ran the command './gradlew bootJar'.</p>\n<p>And I did the test with siege and the first request was from 1.62 seconds to 0.47 seconds</p>\n"}],"owner":{"account_id":1355300,"reputation":2617,"user_id":1293827,"accept_rate":46,"display_name":"Shurik Agulyansky"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":420,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71018153,"answer_count":2,"score":2,"last_activity_date":1644234876,"creation_date":1643790224,"question_id":70952415,"body_markdown":"Recently, we migrated our backend APIs from Grails 3 to Grails 5.1.1\r\nTogether with it we also upgraded java version to 11. Everything is running on Docker. Otherwise, nothing else has changed.\r\n\r\nAfter the migration, we are now facing performance issues. But it&#39;s a weird one.\r\n\r\nFirst, we got some results from NewRelic:\r\n[![enter image description here][1]][1]\r\n\r\nNewRelic is showing that `org.grails.web.mapping.mvc.GrailsControllerUrlMappingInfo` is to blame. There is nothing else underneath it that is slow. \r\nDigging a bit deeper, we found an [article][2] (from a while ago) which claims that NewRelic is not instrumenting Grails very well.\r\n\r\nAt this point, we were trying to reproduce the issues locally and we did. Created a simple function that wraps whatever we need with a timer to measure how long things taking to execute:\r\n\r\n```\r\ndef withExecutionTimeLog(Closure closure) {\r\n        Long start = System.currentTimeMillis()\r\n        def result = closure()\r\n        log.warn &quot;Execution time -&gt; ${System.currentTimeMillis() - start} ms&quot;\r\n\r\n        result\r\n    }\r\n```\r\n\r\nAnd as an example, used it for one of the slowest endpoints:\r\n\r\nThis is a controller (the highest(ish) point under our control)\r\n\r\n```\r\ndef create(Long workspaceId, Long projectId) {\r\n        withExecutionTimeLog {\r\n            canUpdateProject(projectId) {\r\n                withExceptionsHandling {\r\n                    CecUtilization utilization =\r\n                            cecUtilizationService.create(workspaceId, projectId, getCurrentUser())\r\n\r\n                    [utilization: utilization]\r\n                }\r\n            }\r\n        }\r\n    }\r\n```\r\n\r\nSo, in this case, the `timer` function wraps everything including the DB calls, all the way to view rendering.\r\n\r\nAnd here is the result:\r\n\r\nThe full request cycle takes `524ms` (out of which `432ms` is server-side:\r\n[![enter image description here][3]][3]\r\n\r\nFrom that little execution time logger I&#39;ve got `161ms`\r\n[![enter image description here][4]][4]\r\n\r\nGiven all of that, it looks like NewRelic is kinda right. Something else is wasting cycles. The biggest question is `WHAT?`\r\n\r\nHow can I profile that? Maybe someone came across a similar situation.\r\nHow can I resolve it?\r\n\r\n\r\nOn another note, since we have all the possible monitoring tools in place, I can tell for sure that the servers are not doing much (including the DB). The allocated heap size is up to 3G.\r\nUsually, the first request to the same endpoint takes much longer, and the consecutive ones are much better but still slow.\r\n\r\n\r\n**UPDATE**\r\n\r\nDecided to dig deeper. Hooked up the Async Profiler and I think my original assumptions were proved true. \r\n[![enter image description here][5]][5]\r\n\r\nThe class loader seems to be the one causing the performance issues. This also explains the slowness of the first request (of any type), while subsequent ones start working faster. But, if I do the same call in another 4-5 minutes, it loads the classes again and is slow.\r\n\r\nSo, unless I am mistaken, the issue here is the class loader. I am blaming TomcatEmbeddedWebappClassLoader for this.\r\n\r\nNow, the biggest question is how do I fix that in Grails? I am running a war file in prod -&gt; `java -Dgrails.env=prod -Xms1500m -Xmx3000m -jar app.war`  \r\n\r\nI found [this post][6] that is somewhat in the same direction, but I am not sure how to wire it in, in Grails.\r\n\r\n\r\n**UPDATE #2**\r\n\r\nLooking for the class loader solution brought me to [this issue][7]. The proposed solution is for Spring. I am wondering what is the way to solve that for grails.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/yt1pK.png\r\n  [2]: https://github.com/grails/grails-core/issues/9886\r\n  [3]: https://i.stack.imgur.com/qXuNc.png\r\n  [4]: https://i.stack.imgur.com/80tz1.png\r\n  [5]: https://i.stack.imgur.com/XwzOk.png\r\n  [6]: https://stackoverflow.com/questions/59242577/why-my-springboot-with-embbeded-tomcat-too-slow-when-process-first-request\r\n  [7]: https://github.com/spring-projects/spring-boot/issues/16471","title":"Slowness after migrating to Grails 5.1.1 - time spent on GrailsControllerUrlMappingInfo","body":"<p>Recently, we migrated our backend APIs from Grails 3 to Grails 5.1.1\nTogether with it we also upgraded java version to 11. Everything is running on Docker. Otherwise, nothing else has changed.</p>\n<p>After the migration, we are now facing performance issues. But it's a weird one.</p>\n<p>First, we got some results from NewRelic:\n<a href=\"https://i.stack.imgur.com/yt1pK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/yt1pK.png\" alt=\"enter image description here\" /></a></p>\n<p>NewRelic is showing that <code>org.grails.web.mapping.mvc.GrailsControllerUrlMappingInfo</code> is to blame. There is nothing else underneath it that is slow.\nDigging a bit deeper, we found an <a href=\"https://github.com/grails/grails-core/issues/9886\" rel=\"nofollow noreferrer\">article</a> (from a while ago) which claims that NewRelic is not instrumenting Grails very well.</p>\n<p>At this point, we were trying to reproduce the issues locally and we did. Created a simple function that wraps whatever we need with a timer to measure how long things taking to execute:</p>\n<pre><code>def withExecutionTimeLog(Closure closure) {\n        Long start = System.currentTimeMillis()\n        def result = closure()\n        log.warn &quot;Execution time -&gt; ${System.currentTimeMillis() - start} ms&quot;\n\n        result\n    }\n</code></pre>\n<p>And as an example, used it for one of the slowest endpoints:</p>\n<p>This is a controller (the highest(ish) point under our control)</p>\n<pre><code>def create(Long workspaceId, Long projectId) {\n        withExecutionTimeLog {\n            canUpdateProject(projectId) {\n                withExceptionsHandling {\n                    CecUtilization utilization =\n                            cecUtilizationService.create(workspaceId, projectId, getCurrentUser())\n\n                    [utilization: utilization]\n                }\n            }\n        }\n    }\n</code></pre>\n<p>So, in this case, the <code>timer</code> function wraps everything including the DB calls, all the way to view rendering.</p>\n<p>And here is the result:</p>\n<p>The full request cycle takes <code>524ms</code> (out of which <code>432ms</code> is server-side:\n<a href=\"https://i.stack.imgur.com/qXuNc.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/qXuNc.png\" alt=\"enter image description here\" /></a></p>\n<p>From that little execution time logger I've got <code>161ms</code>\n<a href=\"https://i.stack.imgur.com/80tz1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/80tz1.png\" alt=\"enter image description here\" /></a></p>\n<p>Given all of that, it looks like NewRelic is kinda right. Something else is wasting cycles. The biggest question is <code>WHAT?</code></p>\n<p>How can I profile that? Maybe someone came across a similar situation.\nHow can I resolve it?</p>\n<p>On another note, since we have all the possible monitoring tools in place, I can tell for sure that the servers are not doing much (including the DB). The allocated heap size is up to 3G.\nUsually, the first request to the same endpoint takes much longer, and the consecutive ones are much better but still slow.</p>\n<p><strong>UPDATE</strong></p>\n<p>Decided to dig deeper. Hooked up the Async Profiler and I think my original assumptions were proved true.\n<a href=\"https://i.stack.imgur.com/XwzOk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XwzOk.png\" alt=\"enter image description here\" /></a></p>\n<p>The class loader seems to be the one causing the performance issues. This also explains the slowness of the first request (of any type), while subsequent ones start working faster. But, if I do the same call in another 4-5 minutes, it loads the classes again and is slow.</p>\n<p>So, unless I am mistaken, the issue here is the class loader. I am blaming TomcatEmbeddedWebappClassLoader for this.</p>\n<p>Now, the biggest question is how do I fix that in Grails? I am running a war file in prod -&gt; <code>java -Dgrails.env=prod -Xms1500m -Xmx3000m -jar app.war</code></p>\n<p>I found <a href=\"https://stackoverflow.com/questions/59242577/why-my-springboot-with-embbeded-tomcat-too-slow-when-process-first-request\">this post</a> that is somewhat in the same direction, but I am not sure how to wire it in, in Grails.</p>\n<p><strong>UPDATE #2</strong></p>\n<p>Looking for the class loader solution brought me to <a href=\"https://github.com/spring-projects/spring-boot/issues/16471\" rel=\"nofollow noreferrer\">this issue</a>. The proposed solution is for Spring. I am wondering what is the way to solve that for grails.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":8928886,"reputation":1066,"user_id":9719337,"display_name":"Dred"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644234213,"creation_date":1554369380,"answer_id":55512152,"question_id":55511310,"body_markdown":"You can use `List&lt;String&gt;` \r\nYou can use `String s =id+&quot; | &quot; + name + &quot; | &quot; + quantity + &quot; | &quot; + amount` \r\nIt is not clear what you can&#39;t do.\r\n\r\nBut if you need you can create the object, and name its... Menu.\r\n\r\n    public class Menu {\r\n    \r\n\t\tprivate int productId;\r\n\t\tprivate int quantity;\r\n\t\tprivate int price; \r\n\t\tprivate int totalPrice;\r\n\t\tprivate String productName;\r\n    \r\n\t\tpublic Menu(){}\r\n    \r\n\t\tpublic Menu(int productId,int quantity,int price,int totalPrice,String productName){\r\n\t\t\tthis.productId=productId;\r\n\t\t\tthis.quantity=quantity;\r\n\t\t\tthis.price=price;\r\n\t\t\tthis.totalPrice=totalPrice;\r\n\t\t\tthis.productName=productName;\r\n\t\t}\r\n\r\n        //setters and getters\r\n\t\tpublic void setProductId(int productId) {\r\n\t\t\tthis.productId = productId;\r\n\t\t}\r\n\t\t\r\n\t\tpublic int getProductId() {\r\n\t\t\treturn productId;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setProductName(int productName) {\r\n\t\t\tthis.productName= productName;\r\n\t\t}\r\n\t\t\r\n\t\tpublic int getProductName() {\r\n\t\t\treturn productName;\r\n\t\t}\r\n\t\tpublic int getQuantity() {\r\n\t\t\treturn quantity;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setQuantity(int quantity) {\r\n\t\t\tthis.quantity = quantity;\r\n\t\t}\r\n\t\t\r\n\t\tpublic int getPrice() {\r\n\t\t\treturn price;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setPrice(double price) {\r\n\t\t\tthis.price = price;\r\n\t\t}\r\n\t\t\r\n\t\tpublic int getTotalPrice() {\r\n\t\t\treturn totalPrice;\r\n\t\t}\r\n\t\t\r\n\t\tpublic void setTotalPrice(double totalPrice) {\r\n\t\t\tthis.totalPrice = totalPrice;\r\n\t\t}\r\n    \r\n    }\r\n\r\nand in your current class, you can make something like\r\n\r\n    Menu menu=new Menu();\r\n    \r\n    System.out.print(&quot;Select ID Number: &quot;);\r\n    menu.setProductId(id.nextInt());\r\n    \r\n     System.out.println(&quot;Input quantity: &quot;);\r\n    menu.setQuantity(id.nextInt());\r\n     System.out.println(&quot;Quantity: &quot;+menu.getQuantity());\r\n    \r\n    menu.setProductName(products[menu.getProductId()])\r\n    System.out.println(&quot;Product Name: &quot;+menu.getProductName());\r\n    \r\n    menu.setPrice(prices[menu.getProduct(id)]);\r\n    \r\n    menu.setTotalPrice(menu.getPrice()*menu.getQuantity());\r\n    System.out.println(&quot;Amount to be Paid: &quot;+menu.getTotatPrice());\r\n\r\n","title":"Can I replace values on a single variable in Java","body":"<p>You can use <code>List&lt;String&gt;</code>\nYou can use <code>String s =id+&quot; | &quot; + name + &quot; | &quot; + quantity + &quot; | &quot; + amount</code>\nIt is not clear what you can't do.</p>\n<p>But if you need you can create the object, and name its... Menu.</p>\n<pre><code>public class Menu {\n\n    private int productId;\n    private int quantity;\n    private int price; \n    private int totalPrice;\n    private String productName;\n\n    public Menu(){}\n\n    public Menu(int productId,int quantity,int price,int totalPrice,String productName){\n        this.productId=productId;\n        this.quantity=quantity;\n        this.price=price;\n        this.totalPrice=totalPrice;\n        this.productName=productName;\n    }\n\n    //setters and getters\n    public void setProductId(int productId) {\n        this.productId = productId;\n    }\n    \n    public int getProductId() {\n        return productId;\n    }\n    \n    public void setProductName(int productName) {\n        this.productName= productName;\n    }\n    \n    public int getProductName() {\n        return productName;\n    }\n    public int getQuantity() {\n        return quantity;\n    }\n    \n    public void setQuantity(int quantity) {\n        this.quantity = quantity;\n    }\n    \n    public int getPrice() {\n        return price;\n    }\n    \n    public void setPrice(double price) {\n        this.price = price;\n    }\n    \n    public int getTotalPrice() {\n        return totalPrice;\n    }\n    \n    public void setTotalPrice(double totalPrice) {\n        this.totalPrice = totalPrice;\n    }\n\n}\n</code></pre>\n<p>and in your current class, you can make something like</p>\n<pre><code>Menu menu=new Menu();\n\nSystem.out.print(&quot;Select ID Number: &quot;);\nmenu.setProductId(id.nextInt());\n\n System.out.println(&quot;Input quantity: &quot;);\nmenu.setQuantity(id.nextInt());\n System.out.println(&quot;Quantity: &quot;+menu.getQuantity());\n\nmenu.setProductName(products[menu.getProductId()])\nSystem.out.println(&quot;Product Name: &quot;+menu.getProductName());\n\nmenu.setPrice(prices[menu.getProduct(id)]);\n\nmenu.setTotalPrice(menu.getPrice()*menu.getQuantity());\nSystem.out.println(&quot;Amount to be Paid: &quot;+menu.getTotatPrice());\n</code></pre>\n"}],"owner":{"account_id":15593707,"reputation":3,"user_id":11249879,"display_name":"DevHitoriii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":55512152,"answer_count":1,"score":-2,"last_activity_date":1644234213,"creation_date":1554366737,"question_id":55511310,"body_markdown":"I have program that the user picks their products in the product menu in which after they inputted the item ID and the quantity, the program will ask if they want to buy another, if YES then the transaction repeats again and asking the same question. My central question is can I replace the value in the single variable? \r\n\r\n\t\tScanner id = new Scanner (System.in);\r\n\t\tString products [] = {&quot;Donut&quot;, &quot;Ice Cream&quot;, &quot;Kitkat&quot;, &quot;Marshmallow&quot;, &quot;Nutella&quot;};\r\n\t\tint prices [] = {25, 15, 40, 60, 150};\r\n\t\tint number [] = {0, 1, 2 ,3 , 4};\r\n\t\tchar result [] = {&#39;a&#39;, &#39;b&#39;, &#39;c&#39;,&#39;d&#39;};\r\n\t\tSystem.out.println(&quot;\t\t\t\tMenu\t\t\t\t&quot;);\t\r\n\t\tSystem.out.println(&quot;Item ID\\tItem Name\\tPrice (Php)&quot;);\r\n\t\tSystem.out.println(number [0]+&quot;\\t&quot;+products [0]+&quot;\\t\\t&quot;+prices[0]);\t\r\n\t\tSystem.out.println(number [1]+&quot;\\t&quot;+products [1]+&quot;\\t&quot;+prices[1]);\r\n\t\tSystem.out.println(number [2]+&quot;\\t&quot;+products [2]+&quot;\\t\\t&quot;+prices[2]);\r\n\t\tSystem.out.println(number [3]+&quot;\\t&quot;+products [3]+&quot;\\t&quot;+prices[3]);\r\n\t\tSystem.out.println(number [4]+&quot;\\t&quot;+products [4]+&quot;\\t\\t&quot;+prices[4]);\r\n\t\tSystem.out.println();\r\n\t\tSystem.out.print(&quot;Select ID Number: &quot;);\r\n\t  int ID = id.nextInt();\r\n\t  \tSystem.out.println(&quot;Input quantity: &quot;);\r\n\t  int QUANTITY = id.nextInt();\r\n\t  System.out.println(&quot;Product ID: &quot;+ID);\r\n\t  int a = ID;\r\n\t  System.out.println(&quot;Product Name: &quot;+products[ID]);\r\n\t  String b = products[ID];\r\n\t  System.out.println(&quot;Quantity: &quot;+QUANTITY);\r\n\t  int c = QUANTITY;\r\n\t  System.out.println(&quot;Product Price: &quot;+prices[ID]);\r\n\t  int d = prices[ID];\r\n\t  System.out.println(&quot;Amount to be Paid: &quot;+(QUANTITY * prices[ID]));\r\n\t  int e = QUANTITY * prices[ID];\r\n\t  System.out.println(&quot;Added to cart, want to buy another? [Y] [N]&quot;);\r\n\t  \tchar keys = id.next().charAt(0);\r\n\t  \tswitch (keys) {\r\n\t  \tcase &#39;Y&#39;:\r\n\t  \t\tmethod6();\r\n\t  \t\tbreak;\r\n\t  \tcase &#39;N&#39;:\r\n\t  \t\tSystem.out.println(&quot;*******************************************************************&quot;);\r\n\t\t\tSystem.out.println(&quot;Item ID\\tItem Name\\tQuantity\\tAmount&quot;);\r\n\t\t\tSystem.out.println(a+&quot;\\t&quot;+b+&quot;\\t\\t&quot;+c+&quot;\\t&quot;+e+&quot;\\t&quot;);\r\n\t\t\tSystem.out.println(&quot;*******************************************************************&quot;);\r\n\t  \t\tint x = d;\r\n\t  \t\tSystem.out.println(&quot;Total: &quot;+x);\r\n\t  \t\tSystem.out.print(&quot;Cash: &quot;);\r\n\t  \t\tint y = id.nextInt();\r\n\t  \t\tint z = y-x;\r\n\t  \t\tSystem.out.println(&quot;Exchange: &quot;+z);\r\n\t  \t\tSystem.out.println(&quot;Do you want to create another transaction? [Y] [N]&quot;);\r\n\t  \t\tchar condition = id.next().charAt(0);\r\n\t  \t\tswitch (condition) {\r\n\t  \t\tcase &#39;Y&#39;:\r\n\t  \t\t\tmethod6();\r\n\t  \t\t\tbreak;\r\n\t  \t\tcase &#39;N&#39;:\r\n\t  \t\t\tmethod4();\r\n\t  \t\t\tbreak;\r\n\t  \t\t}\r\n\t\t\tbreak;\r\n\t  \tdefault:\r\n\t  \t\tSystem.out.println(&quot;Invalid function!&quot;);\r\n\t  \t\tbreak;\r\n         }\r\nThe output must be the product id, name, quantity, and amount must be displayed in different value which shared the single variable.","title":"Can I replace values on a single variable in Java","body":"<p>I have program that the user picks their products in the product menu in which after they inputted the item ID and the quantity, the program will ask if they want to buy another, if YES then the transaction repeats again and asking the same question. My central question is can I replace the value in the single variable? </p>\n\n<pre><code>    Scanner id = new Scanner (System.in);\n    String products [] = {\"Donut\", \"Ice Cream\", \"Kitkat\", \"Marshmallow\", \"Nutella\"};\n    int prices [] = {25, 15, 40, 60, 150};\n    int number [] = {0, 1, 2 ,3 , 4};\n    char result [] = {'a', 'b', 'c','d'};\n    System.out.println(\"                Menu                \"); \n    System.out.println(\"Item ID\\tItem Name\\tPrice (Php)\");\n    System.out.println(number [0]+\"\\t\"+products [0]+\"\\t\\t\"+prices[0]);  \n    System.out.println(number [1]+\"\\t\"+products [1]+\"\\t\"+prices[1]);\n    System.out.println(number [2]+\"\\t\"+products [2]+\"\\t\\t\"+prices[2]);\n    System.out.println(number [3]+\"\\t\"+products [3]+\"\\t\"+prices[3]);\n    System.out.println(number [4]+\"\\t\"+products [4]+\"\\t\\t\"+prices[4]);\n    System.out.println();\n    System.out.print(\"Select ID Number: \");\n  int ID = id.nextInt();\n    System.out.println(\"Input quantity: \");\n  int QUANTITY = id.nextInt();\n  System.out.println(\"Product ID: \"+ID);\n  int a = ID;\n  System.out.println(\"Product Name: \"+products[ID]);\n  String b = products[ID];\n  System.out.println(\"Quantity: \"+QUANTITY);\n  int c = QUANTITY;\n  System.out.println(\"Product Price: \"+prices[ID]);\n  int d = prices[ID];\n  System.out.println(\"Amount to be Paid: \"+(QUANTITY * prices[ID]));\n  int e = QUANTITY * prices[ID];\n  System.out.println(\"Added to cart, want to buy another? [Y] [N]\");\n    char keys = id.next().charAt(0);\n    switch (keys) {\n    case 'Y':\n        method6();\n        break;\n    case 'N':\n        System.out.println(\"*******************************************************************\");\n        System.out.println(\"Item ID\\tItem Name\\tQuantity\\tAmount\");\n        System.out.println(a+\"\\t\"+b+\"\\t\\t\"+c+\"\\t\"+e+\"\\t\");\n        System.out.println(\"*******************************************************************\");\n        int x = d;\n        System.out.println(\"Total: \"+x);\n        System.out.print(\"Cash: \");\n        int y = id.nextInt();\n        int z = y-x;\n        System.out.println(\"Exchange: \"+z);\n        System.out.println(\"Do you want to create another transaction? [Y] [N]\");\n        char condition = id.next().charAt(0);\n        switch (condition) {\n        case 'Y':\n            method6();\n            break;\n        case 'N':\n            method4();\n            break;\n        }\n        break;\n    default:\n        System.out.println(\"Invalid function!\");\n        break;\n     }\n</code></pre>\n\n<p>The output must be the product id, name, quantity, and amount must be displayed in different value which shared the single variable.</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1644007268,"post_id":70992383,"comment_id":125499892,"body_markdown":"Show us the full log, not an incomplete fragment. Why are you using an Eclipse release which is 8 releases old, try the current Eclipse 4.22 (2021-12)","body":"Show us the full log, not an incomplete fragment. Why are you using an Eclipse release which is 8 releases old, try the current Eclipse 4.22 (2021-12)"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1644057516,"post_id":70992383,"comment_id":125507673,"body_markdown":"What greg-449 says. And Eclipse 4.14 was released long before Java 17, so it&#39;s strange where you get this _&quot;(jdk17)&quot;_ (probably just a label you named misleadingly).","body":"What greg-449 says. And Eclipse 4.14 was released long before Java 17, so it&#39;s strange where you get this <i>&quot;(jdk17)&quot;</i> (probably just a label you named misleadingly)."}],"answers":[{"tags":[],"owner":{"account_id":11158744,"reputation":1,"user_id":8189628,"display_name":"Jo&#227;o Lopes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644234210,"creation_date":1644234210,"answer_id":71017993,"question_id":70992383,"body_markdown":"Thanks guys.\r\n\r\nJDK17 stands for jdk-17.0.1 (I think is the last version)\r\n\r\nI installed the last Eclipse Version: 2021-12 (4.22.0)\r\n\r\nNow the error was gone. I am a newbie in Java and also Eclipse, I just started to learn now.\r\n\r\nI suppose that is a incompatibility JDK 17 and Eclipse 2019.\r\nNow everything OK.\r\nThanks so much for the help.\r\n","title":"eclipse 4.14.0 using var keyword in java, made changed to javaSE10 (jdk17), then error on building project","body":"<p>Thanks guys.</p>\n<p>JDK17 stands for jdk-17.0.1 (I think is the last version)</p>\n<p>I installed the last Eclipse Version: 2021-12 (4.22.0)</p>\n<p>Now the error was gone. I am a newbie in Java and also Eclipse, I just started to learn now.</p>\n<p>I suppose that is a incompatibility JDK 17 and Eclipse 2019.\nNow everything OK.\nThanks so much for the help.</p>\n"}],"owner":{"account_id":11158744,"reputation":1,"user_id":8189628,"display_name":"Jo&#227;o Lopes"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":257,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1644234210,"creation_date":1644005798,"question_id":70992383,"body_markdown":"\tpublic static void main(String[] args) {\r\n\t\tvar x = 1;\r\n\t}\r\n\r\n\r\n!ENTRY org.eclipse.core.resources 4 2 2022-02-04 20:07:11.784\r\n!MESSAGE Problems occurred when invoking code from plug-in: &quot;org.eclipse.core.resources&quot;.\r\n!STACK 0\r\n\r\n","title":"eclipse 4.14.0 using var keyword in java, made changed to javaSE10 (jdk17), then error on building project","body":"<pre><code>public static void main(String[] args) {\n    var x = 1;\n}\n</code></pre>\n<p>!ENTRY org.eclipse.core.resources 4 2 2022-02-04 20:07:11.784\n!MESSAGE Problems occurred when invoking code from plug-in: &quot;org.eclipse.core.resources&quot;.\n!STACK 0</p>\n"},{"tags":["javascript","java","reactjs","spring","spring-boot"],"comments":[{"owner":{"account_id":9566029,"reputation":305,"user_id":7105295,"display_name":"Prashant Vishwakarma"},"score":0,"creation_date":1662064059,"post_id":69496255,"comment_id":129926291,"body_markdown":"Can you share a JSON equivalent example?","body":"Can you share a JSON equivalent example?"}],"owner":{"account_id":13789522,"reputation":67,"user_id":10857968,"display_name":"Raghav"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1644233785,"creation_date":1633698064,"question_id":69496255,"body_markdown":"I am not able to figure out how to Send Map of Map from Java(Spring Boot) to ReactJS as Map of Map only.(GET API)   \r\nFor example, I have a Map of Map, Map&lt;Integer,Pair&lt;Map&lt;String,String&gt;,String&gt;&gt; that I need to send to ReactJS in this format.   \r\nCan I somehow retain this format?   \r\nI have tried various things, also played around Jackson API but was not able to land on anything.\r\nThank you.\r\n","title":"Sending Map of Map(POJO) from Spring Boot to Reactjs","body":"<p>I am not able to figure out how to Send Map of Map from Java(Spring Boot) to ReactJS as Map of Map only.(GET API)<br />\nFor example, I have a Map of Map, Map&lt;Integer,Pair&lt;Map&lt;String,String&gt;,String&gt;&gt; that I need to send to ReactJS in this format.<br />\nCan I somehow retain this format?<br />\nI have tried various things, also played around Jackson API but was not able to land on anything.\nThank you.</p>\n"},{"tags":["java","json","gson"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":0,"creation_date":1644234012,"post_id":71017888,"comment_id":125542300,"body_markdown":"Does this answer your question? [Java File Replace Lines](https://stackoverflow.com/questions/21133391/java-file-replace-lines)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/21133391/java-file-replace-lines\">Java File Replace Lines</a>"},{"owner":{"account_id":20535648,"reputation":1,"user_id":15601352,"display_name":"Vladi Stoyanov"},"score":0,"creation_date":1644236962,"post_id":71017888,"comment_id":125543413,"body_markdown":"@pringi as far as I&#39;m concerned json objects are written without new line symbol, so I&#39;m not sure if this works in my case.","body":"@pringi as far as I&#39;m concerned json objects are written without new line symbol, so I&#39;m not sure if this works in my case."},{"owner":{"account_id":5384013,"reputation":6035,"user_id":4288506,"accept_rate":77,"display_name":"Marcono1234"},"score":0,"creation_date":1644265616,"post_id":71017888,"comment_id":125555302,"body_markdown":"Might be a duplicate of https://stackoverflow.com/q/70480667. What do you mean by &quot;instead of rewriting the whole content of the file&quot;? As pointed out in a comment on that other question the OS does not support inserting characters in the middle of a file.","body":"Might be a duplicate of <a href=\"https://stackoverflow.com/q/70480667\">stackoverflow.com/q/70480667</a>. What do you mean by &quot;instead of rewriting the whole content of the file&quot;? As pointed out in a comment on that other question the OS does not support inserting characters in the middle of a file."}],"owner":{"account_id":20535648,"reputation":1,"user_id":15601352,"display_name":"Vladi Stoyanov"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644233677,"creation_date":1644233677,"question_id":71017888,"body_markdown":"We have a complex class containing Collection. Every object of this class should be written into file. Is there an efficient way to update the data of the files, instead of rewriting the whole content of the file. \r\nExample: \r\n```java\r\nArrayList&lt;String&gt; arr = new ArrayList&lt;&gt;();\r\n        arr.add(&quot;foo&quot;);\r\n        arr.add(&quot;bar&quot;);\r\n        Gson gson = new Gson();\r\n        System.out.println(gson.toJson(arr));\r\n        arr.add(&quot;baz&quot;);\r\n        System.out.println(gson.toJson(arr));\r\n```\r\nOutput:\r\n```\r\n[&quot;foo&quot;,&quot;bar&quot;]\r\n[&quot;foo&quot;,&quot;bar&quot;,&quot;baz&quot;]\r\n```\r\n\r\n","title":"Is there a way to update existing file with Json data in Java","body":"<p>We have a complex class containing Collection. Every object of this class should be written into file. Is there an efficient way to update the data of the files, instead of rewriting the whole content of the file.\nExample:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;String&gt; arr = new ArrayList&lt;&gt;();\n        arr.add(&quot;foo&quot;);\n        arr.add(&quot;bar&quot;);\n        Gson gson = new Gson();\n        System.out.println(gson.toJson(arr));\n        arr.add(&quot;baz&quot;);\n        System.out.println(gson.toJson(arr));\n</code></pre>\n<p>Output:</p>\n<pre><code>[&quot;foo&quot;,&quot;bar&quot;]\n[&quot;foo&quot;,&quot;bar&quot;,&quot;baz&quot;]\n</code></pre>\n"},{"tags":["java","spring-boot","docker","docker-image"],"comments":[{"owner":{"account_id":13863020,"reputation":137033,"user_id":10008173,"display_name":"David Maze"},"score":0,"creation_date":1644233679,"post_id":71017802,"comment_id":125542202,"body_markdown":"A Docker image isn&#39;t guaranteed to be running a Java program or to have any of the tools you&#39;d need to find this out.  It&#39;d be easier to run something like `./gradlew dependencies` on the original source tree, before you build an image out of it.","body":"A Docker image isn&#39;t guaranteed to be running a Java program or to have any of the tools you&#39;d need to find this out.  It&#39;d be easier to run something like <code>.&#47;gradlew dependencies</code> on the original source tree, before you build an image out of it."},{"owner":{"account_id":19087570,"reputation":780,"user_id":13938503,"display_name":"Anurag Sharma"},"score":0,"creation_date":1645174680,"post_id":71017802,"comment_id":125806038,"body_markdown":"Please check (https://stackoverflow.com/help/how-to-ask)how to ask a good question. Your question is currently missing too much information to be able to help you","body":"Please check (<a href=\"https://stackoverflow.com/help/how-to-ask)how\">stackoverflow.com/help/how-to-ask)how</a> to ask a good question. Your question is currently missing too much information to be able to help you"}],"owner":{"account_id":21085935,"reputation":63,"user_id":15499060,"display_name":"Shivam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":142,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644233264,"creation_date":1644233264,"question_id":71017802,"body_markdown":"I have a custom docker image. I need to check what all java dependency that image using. Is there any way to find out?\r\nPlease help.","title":"Docker Image java library information","body":"<p>I have a custom docker image. I need to check what all java dependency that image using. Is there any way to find out?\nPlease help.</p>\n"},{"tags":["java","collections","java-stream"],"comments":[{"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"score":0,"creation_date":1643873381,"post_id":70967230,"comment_id":125455958,"body_markdown":"if there is 2 identical cars in rawCarEnumDataList , for example two red Ford Fiesta, would the resulting list have List.of(ColorEnum.RED, ColorEnum.RED) or only just one time the color red then?","body":"if there is 2 identical cars in rawCarEnumDataList , for example two red Ford Fiesta, would the resulting list have List.of(ColorEnum.RED, ColorEnum.RED) or only just one time the color red then?"},{"owner":{"account_id":3931383,"reputation":1862,"user_id":4012392,"accept_rate":58,"display_name":"hc0re"},"score":0,"creation_date":1643873736,"post_id":70967230,"comment_id":125456070,"body_markdown":"The assumption is that that a situation where two identical cars will be in this list will NEVER occur, but as Your question is very good - the result should contain only ONE car of that color, so two identical cars in `rawCarEnumDataList` will result in only ONE car in `carEnumData` list","body":"The assumption is that that a situation where two identical cars will be in this list will NEVER occur, but as Your question is very good - the result should contain only ONE car of that color, so two identical cars in <code>rawCarEnumDataList</code> will result in only ONE car in <code>carEnumData</code> list"}],"answers":[{"tags":[],"owner":{"account_id":1642711,"reputation":19842,"user_id":1514861,"accept_rate":86,"display_name":"Ivo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1643874884,"creation_date":1643874884,"answer_id":70967595,"question_id":70967230,"body_markdown":"I know this is a Java question but I like to provide a Kotlin answer. It might help you come up with a Java solution or you might even want to include the Kotlin solution in your project since it should be interoperable with Java. The following code seems to do what you would like:\r\n\r\n    fun main() {\r\n        val rawCarEnumDataList = listOf(\r\n            RawCarEnumData(BrandEnum.FORD, ModelEnum.FIESTA, ColorEnum.RED),\r\n            RawCarEnumData(BrandEnum.FORD, ModelEnum.FIESTA, ColorEnum.BLUE),\r\n            RawCarEnumData(BrandEnum.FORD, ModelEnum.FIESTA, ColorEnum.YELLOW),\r\n            RawCarEnumData(BrandEnum.FORD, ModelEnum.FOCUS, ColorEnum.YELLOW)\r\n        )\r\n        \r\n        val carEnumData = rawCarEnumDataList\r\n            .groupBy { Pair(it.brand, it.model) }\r\n            .values.map { cars -&gt; CarEnumData(cars.first().brand,cars.first().model, cars.map { it.color }.distinct()) }\r\n    \r\n        print(carEnumData)\r\n        // prints [CarEnumData(brand=FORD, model=FIESTA, colors=[RED, BLUE, YELLOW]), CarEnumData(brand=FORD, model=FOCUS, colors=[YELLOW])]\r\n    }\r\n    \r\n    data class RawCarEnumData(\r\n        val brand: BrandEnum,\r\n        val model: ModelEnum,\r\n        val color: ColorEnum\r\n    )\r\n    \r\n    data class CarEnumData (\r\n        val brand: BrandEnum,\r\n        val model: ModelEnum,\r\n        val colors: List&lt;ColorEnum&gt;\r\n    )\r\n    \r\n    enum class BrandEnum { FORD }\r\n    enum class ModelEnum { FIESTA, FOCUS }\r\n    enum class ColorEnum { RED, BLUE, YELLOW }","title":"How to map multiple objects having two identical values and one different value to one object with list of those different values?","body":"<p>I know this is a Java question but I like to provide a Kotlin answer. It might help you come up with a Java solution or you might even want to include the Kotlin solution in your project since it should be interoperable with Java. The following code seems to do what you would like:</p>\n<pre><code>fun main() {\n    val rawCarEnumDataList = listOf(\n        RawCarEnumData(BrandEnum.FORD, ModelEnum.FIESTA, ColorEnum.RED),\n        RawCarEnumData(BrandEnum.FORD, ModelEnum.FIESTA, ColorEnum.BLUE),\n        RawCarEnumData(BrandEnum.FORD, ModelEnum.FIESTA, ColorEnum.YELLOW),\n        RawCarEnumData(BrandEnum.FORD, ModelEnum.FOCUS, ColorEnum.YELLOW)\n    )\n    \n    val carEnumData = rawCarEnumDataList\n        .groupBy { Pair(it.brand, it.model) }\n        .values.map { cars -&gt; CarEnumData(cars.first().brand,cars.first().model, cars.map { it.color }.distinct()) }\n\n    print(carEnumData)\n    // prints [CarEnumData(brand=FORD, model=FIESTA, colors=[RED, BLUE, YELLOW]), CarEnumData(brand=FORD, model=FOCUS, colors=[YELLOW])]\n}\n\ndata class RawCarEnumData(\n    val brand: BrandEnum,\n    val model: ModelEnum,\n    val color: ColorEnum\n)\n\ndata class CarEnumData (\n    val brand: BrandEnum,\n    val model: ModelEnum,\n    val colors: List&lt;ColorEnum&gt;\n)\n\nenum class BrandEnum { FORD }\nenum class ModelEnum { FIESTA, FOCUS }\nenum class ColorEnum { RED, BLUE, YELLOW }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1256882,"reputation":2244,"user_id":1216166,"display_name":"Andreas Berheim Brudin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644233128,"creation_date":1644218223,"answer_id":71014713,"question_id":70967230,"body_markdown":"So what you want to do is to **group** your `RawCarEnumData`s by brand and model, and then **reduce** each list of `RawCarEnumData`s into one `CarEnumData`. One way to do this would be the following (like Ivo Beckers answer but in Java):\r\n```\r\nrawCarEnumDataList.stream()\r\n    .collect(Collectors.groupingBy(car -&gt; Map.entry(car.brand, car.model)))\r\n    .values()\r\n    .stream()\r\n    .map(\r\n        list -&gt;\r\n            new CarEnumData(\r\n                list.get(0).brand,\r\n                list.get(0).model,\r\n                list.stream().map(RawCarEnumData::color).distinct().toList()))\r\n    .toList();\r\n```\r\nBreaking it down, the `Collectors.groupingBy` gives you a map with keys given by applying a function, and a list of all values that corresponds to that key. Then we pick out the values from this map (giving us a collection of lists of `RawCarEnumData`) and map each list to a `CarEnumData` using the first `RawCarEnumData` for the brand and model, and collecting distinct colors from all the `RawCarEnumData`s.\r\n\r\nYou didn&#39;t mention which Java version you use, if using an older version you may have to use `collect(Collectors.toList())` and some other way to create the group key.\r\n\r\nA slightly fancier way to go about would be to use `Collectors.teeing` introduced in Java 12:\r\n```\r\nfinal var result =\r\n    rawCarEnumDataList.stream()\r\n        .collect(\r\n            Collectors.groupingBy(\r\n                car -&gt; Map.entry(car.brand, car.model),\r\n                Collectors.teeing(\r\n                    toList(),\r\n                    Collectors.mapping(car -&gt; car.color, toSet()),\r\n                    (list, colors) -&gt;\r\n                        new CarEnumData(\r\n                            list.get(0).brand, list.get(0).model, List.copyOf(colors)))))\r\n        .values();\r\n```","title":"How to map multiple objects having two identical values and one different value to one object with list of those different values?","body":"<p>So what you want to do is to <strong>group</strong> your <code>RawCarEnumData</code>s by brand and model, and then <strong>reduce</strong> each list of <code>RawCarEnumData</code>s into one <code>CarEnumData</code>. One way to do this would be the following (like Ivo Beckers answer but in Java):</p>\n<pre><code>rawCarEnumDataList.stream()\n    .collect(Collectors.groupingBy(car -&gt; Map.entry(car.brand, car.model)))\n    .values()\n    .stream()\n    .map(\n        list -&gt;\n            new CarEnumData(\n                list.get(0).brand,\n                list.get(0).model,\n                list.stream().map(RawCarEnumData::color).distinct().toList()))\n    .toList();\n</code></pre>\n<p>Breaking it down, the <code>Collectors.groupingBy</code> gives you a map with keys given by applying a function, and a list of all values that corresponds to that key. Then we pick out the values from this map (giving us a collection of lists of <code>RawCarEnumData</code>) and map each list to a <code>CarEnumData</code> using the first <code>RawCarEnumData</code> for the brand and model, and collecting distinct colors from all the <code>RawCarEnumData</code>s.</p>\n<p>You didn't mention which Java version you use, if using an older version you may have to use <code>collect(Collectors.toList())</code> and some other way to create the group key.</p>\n<p>A slightly fancier way to go about would be to use <code>Collectors.teeing</code> introduced in Java 12:</p>\n<pre><code>final var result =\n    rawCarEnumDataList.stream()\n        .collect(\n            Collectors.groupingBy(\n                car -&gt; Map.entry(car.brand, car.model),\n                Collectors.teeing(\n                    toList(),\n                    Collectors.mapping(car -&gt; car.color, toSet()),\n                    (list, colors) -&gt;\n                        new CarEnumData(\n                            list.get(0).brand, list.get(0).model, List.copyOf(colors)))))\n        .values();\n</code></pre>\n"}],"owner":{"account_id":3931383,"reputation":1862,"user_id":4012392,"accept_rate":58,"display_name":"hc0re"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":900,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1644233128,"creation_date":1643872889,"question_id":70967230,"body_markdown":"I have an object called `RawCarEnumData` having 3 enums:\r\n\r\n    public class RawCarEnumData {\r\n    \r\n        private BrandEnum brand;\r\n        private ModelEnum model;\r\n        private ColorEnum color;\r\n    \r\n        //getters, setters, constructors\r\n    \r\n    }\r\n\r\nand an object `CarEnumData` having 2 enums and a list of enums:\r\n\r\n    public class CarEnumData {\r\n\r\n        private BrandEnum brand;\r\n        private ModelEnum model;\r\n        private List&lt;ColorEnum&gt; colors;\r\n    \r\n        //getters, setters, constructors\r\n    \r\n    }\r\n\r\nNow I have a list of `RawCarEnumData` objects:\r\n\r\n    List&lt;RawCarEnumData&gt; rawCarEnumDataList = List.of(\r\n        new RawCarEnumData(BrandEnum.FORD, ModelEnum.FIESTA, ColorEnum.RED),\r\n        new RawCarEnumData(BrandEnum.FORD, ModelEnum.FIESTA, ColorEnum.BLUE),\r\n        new RawCarEnumData(BrandEnum.FORD, ModelEnum.FIESTA, ColorEnum.YELLOW),\r\n        new RawCarEnumData(BrandEnum.FORD, ModelEnum.FOCUS, ColorEnum.YELLOW)\r\n    }\r\n\r\nNow I want to use stream API to map the `List&lt;RawCarEnumData&gt;` to `List&lt;CarEnumData&gt;` so the final output will look like this:\r\n\r\n    List&lt;CarEnumData&gt; carEnumData:\r\n        - CarEnumData(BrandEnum.FORD, ModelEnum.FIESTA, List.of(ColorEnum.RED, ColorEnum.BLUE, ColorEnum.YELLOW))\r\n        - CarEnumData(BrandEnum.FORD, ModelEnum.FOCUS, List.of(ColorEnum.YELLOW))\r\n\r\nI have tried a few things but without success. How can this be achieved? Is this even possible?","title":"How to map multiple objects having two identical values and one different value to one object with list of those different values?","body":"<p>I have an object called <code>RawCarEnumData</code> having 3 enums:</p>\n<pre><code>public class RawCarEnumData {\n\n    private BrandEnum brand;\n    private ModelEnum model;\n    private ColorEnum color;\n\n    //getters, setters, constructors\n\n}\n</code></pre>\n<p>and an object <code>CarEnumData</code> having 2 enums and a list of enums:</p>\n<pre><code>public class CarEnumData {\n\n    private BrandEnum brand;\n    private ModelEnum model;\n    private List&lt;ColorEnum&gt; colors;\n\n    //getters, setters, constructors\n\n}\n</code></pre>\n<p>Now I have a list of <code>RawCarEnumData</code> objects:</p>\n<pre><code>List&lt;RawCarEnumData&gt; rawCarEnumDataList = List.of(\n    new RawCarEnumData(BrandEnum.FORD, ModelEnum.FIESTA, ColorEnum.RED),\n    new RawCarEnumData(BrandEnum.FORD, ModelEnum.FIESTA, ColorEnum.BLUE),\n    new RawCarEnumData(BrandEnum.FORD, ModelEnum.FIESTA, ColorEnum.YELLOW),\n    new RawCarEnumData(BrandEnum.FORD, ModelEnum.FOCUS, ColorEnum.YELLOW)\n}\n</code></pre>\n<p>Now I want to use stream API to map the <code>List&lt;RawCarEnumData&gt;</code> to <code>List&lt;CarEnumData&gt;</code> so the final output will look like this:</p>\n<pre><code>List&lt;CarEnumData&gt; carEnumData:\n    - CarEnumData(BrandEnum.FORD, ModelEnum.FIESTA, List.of(ColorEnum.RED, ColorEnum.BLUE, ColorEnum.YELLOW))\n    - CarEnumData(BrandEnum.FORD, ModelEnum.FOCUS, List.of(ColorEnum.YELLOW))\n</code></pre>\n<p>I have tried a few things but without success. How can this be achieved? Is this even possible?</p>\n"},{"tags":["java","garbage-collection"],"comments":[{"owner":{"account_id":20039,"reputation":33532,"user_id":47493,"accept_rate":96,"display_name":"Ricket"},"score":4,"creation_date":1268189900,"post_id":2414105,"comment_id":2395633,"body_markdown":"I think a good time to call System.gc() is when you&#39;re doing something that is a long loading process already. For example I&#39;m working on a game and plan to call System.gc() when the game loads a new level, at the end of the loading process. The user is already waiting a bit, and the extra performance increase may be worth it; but I will also place an option in the configuration screen to disable this behavior.","body":"I think a good time to call System.gc() is when you&#39;re doing something that is a long loading process already. For example I&#39;m working on a game and plan to call System.gc() when the game loads a new level, at the end of the loading process. The user is already waiting a bit, and the extra performance increase may be worth it; but I will also place an option in the configuration screen to disable this behavior."},{"owner":{"account_id":3673566,"reputation":2692,"user_id":3060133,"accept_rate":92,"display_name":"Shirishkumar Bari"},"score":1,"creation_date":1409559992,"post_id":2414105,"comment_id":39991640,"body_markdown":"Another case has been explained in  http://java-monitor.com/forum/showthread.php?t=188  Where it explains how it can be bad practice to call the System.gc()","body":"Another case has been explained in  <a href=\"http://java-monitor.com/forum/showthread.php?t=188\" rel=\"nofollow noreferrer\">java-monitor.com/forum/showthread.php?t=188</a>  Where it explains how it can be bad practice to call the System.gc()"},{"owner":{"account_id":2172916,"reputation":592,"user_id":1924386,"display_name":"Twisted on STRIKE at1687989253"},"score":0,"creation_date":1618074928,"post_id":2414105,"comment_id":118494752,"body_markdown":"just my two cents after reading some of the answers (and it should be noted that I am fairly new to Java, so please take my opinion with a grain of salt), but... I think the better question might be &quot;why do you have such a big HashMap in the first place?&quot;","body":"just my two cents after reading some of the answers (and it should be noted that I am fairly new to Java, so please take my opinion with a grain of salt), but... I think the better question might be &quot;why do you have such a big HashMap in the first place?&quot;"}],"answers":[{"tags":[],"owner":{"account_id":57112,"reputation":37790,"user_id":171061,"accept_rate":76,"display_name":"Steven Schlansker"},"down_vote_count":5,"up_vote_count":262,"is_accepted":true,"score":257,"last_activity_date":1639437962,"creation_date":1268187851,"answer_id":2414120,"question_id":2414105,"body_markdown":"The reason everyone always says to avoid `System.gc()` is that it is a *pretty good indicator of fundamentally broken code*.  Any code that depends on it for correctness is certainly broken; any that rely on it for performance are most likely broken.\r\n\r\nYou don&#39;t know what sort of garbage collector you are running under.  There are certainly some that do not *&quot;stop the world&quot;* as you assert, but some JVMs aren&#39;t that smart or for various reasons (perhaps they are on a phone?) don&#39;t do it.  You don&#39;t know what it&#39;s going to do.\r\n\r\nAlso, it&#39;s not guaranteed to do anything.  The JVM may just entirely ignore your request.\r\n\r\nThe combination of &quot;you don&#39;t know what it will do,&quot; &quot;you don&#39;t know if it will even help,&quot; and &quot;you shouldn&#39;t need to call it anyway&quot; are why people are so forceful in saying that generally you shouldn&#39;t call it.  I think it&#39;s a case of &quot;if you need to ask whether you should be using this, you shouldn&#39;t&quot;\r\n\r\n\r\n----------\r\n\r\n\r\n**EDIT** to address a few concerns from the other thread:\r\n\r\nAfter reading the thread you linked, there&#39;s a few more things I&#39;d like to point out.\r\nFirst, someone suggested that calling `gc()` may return memory to the system.  That&#39;s certainly not necessarily true - the Java heap itself grows independently of Java allocations.  \r\n\r\nAs in, the JVM will hold memory (many tens of megabytes) and grow the heap as necessary.  It doesn&#39;t necessarily return that memory to the system even when you free Java objects; it is perfectly free to hold on to the allocated memory to use for future Java allocations.\r\n\r\n\r\nTo show that it&#39;s possible that `System.gc()` does nothing, view\r\n[JDK bug 6668279][1]\r\nand in particular that there&#39;s a [`-XX:DisableExplicitGC`][2] VM option:\r\n\r\n&gt; By default calls to `System.gc()` are enabled (`-XX:-DisableExplicitGC`). Use `-XX:+DisableExplicitGC` to disable calls to `System.gc()`. Note that the JVM still performs garbage collection when necessary.\r\n\r\n\r\n  [1]: https://bugs.java.com/bugdatabase/view_bug.do?bug_id=6668279\r\n  [2]: https://www.oracle.com/java/technologies/javase/vmoptions-jsp.html","title":"Why is it bad practice to call System.gc()?","body":"<p>The reason everyone always says to avoid <code>System.gc()</code> is that it is a <em>pretty good indicator of fundamentally broken code</em>.  Any code that depends on it for correctness is certainly broken; any that rely on it for performance are most likely broken.</p>\n<p>You don't know what sort of garbage collector you are running under.  There are certainly some that do not <em>&quot;stop the world&quot;</em> as you assert, but some JVMs aren't that smart or for various reasons (perhaps they are on a phone?) don't do it.  You don't know what it's going to do.</p>\n<p>Also, it's not guaranteed to do anything.  The JVM may just entirely ignore your request.</p>\n<p>The combination of &quot;you don't know what it will do,&quot; &quot;you don't know if it will even help,&quot; and &quot;you shouldn't need to call it anyway&quot; are why people are so forceful in saying that generally you shouldn't call it.  I think it's a case of &quot;if you need to ask whether you should be using this, you shouldn't&quot;</p>\n<hr />\n<p><strong>EDIT</strong> to address a few concerns from the other thread:</p>\n<p>After reading the thread you linked, there's a few more things I'd like to point out.\nFirst, someone suggested that calling <code>gc()</code> may return memory to the system.  That's certainly not necessarily true - the Java heap itself grows independently of Java allocations.</p>\n<p>As in, the JVM will hold memory (many tens of megabytes) and grow the heap as necessary.  It doesn't necessarily return that memory to the system even when you free Java objects; it is perfectly free to hold on to the allocated memory to use for future Java allocations.</p>\n<p>To show that it's possible that <code>System.gc()</code> does nothing, view\n<a href=\"https://bugs.java.com/bugdatabase/view_bug.do?bug_id=6668279\" rel=\"nofollow noreferrer\">JDK bug 6668279</a>\nand in particular that there's a <a href=\"https://www.oracle.com/java/technologies/javase/vmoptions-jsp.html\" rel=\"nofollow noreferrer\"><code>-XX:DisableExplicitGC</code></a> VM option:</p>\n<blockquote>\n<p>By default calls to <code>System.gc()</code> are enabled (<code>-XX:-DisableExplicitGC</code>). Use <code>-XX:+DisableExplicitGC</code> to disable calls to <code>System.gc()</code>. Note that the JVM still performs garbage collection when necessary.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":109145,"reputation":1027,"user_id":289354,"display_name":"tom"},"down_vote_count":2,"up_vote_count":3,"is_accepted":false,"score":1,"last_activity_date":1268188477,"creation_date":1268188477,"answer_id":2414143,"question_id":2414105,"body_markdown":"Yes, calling System.gc() doesn&#39;t guarantee that it will run, it&#39;s a request to the JVM that may be ignored. From the docs:\r\n\r\n&gt; Calling the gc method suggests that the Java Virtual Machine expend effort toward recycling unused objects\r\n\r\nIt&#39;s almost always a bad idea to call it because the automatic memory management usually knows better than you when to gc. It will do so when its internal pool of free memory is low, or if the OS requests some memory be handed back. \r\n\r\nIt might be acceptable to call System.gc() if you **know** that it helps. By that I mean you&#39;ve thoroughly tested and measured the behaviour of both scenarios on the *deployment platform*, and you can show it helps. Be aware though that the gc isn&#39;t easily predictable - it may help on one run and hurt on another.","title":"Why is it bad practice to call System.gc()?","body":"<p>Yes, calling System.gc() doesn't guarantee that it will run, it's a request to the JVM that may be ignored. From the docs:</p>\n\n<blockquote>\n  <p>Calling the gc method suggests that the Java Virtual Machine expend effort toward recycling unused objects</p>\n</blockquote>\n\n<p>It's almost always a bad idea to call it because the automatic memory management usually knows better than you when to gc. It will do so when its internal pool of free memory is low, or if the OS requests some memory be handed back. </p>\n\n<p>It might be acceptable to call System.gc() if you <strong>know</strong> that it helps. By that I mean you've thoroughly tested and measured the behaviour of both scenarios on the <em>deployment platform</em>, and you can show it helps. Be aware though that the gc isn't easily predictable - it may help on one run and hurt on another.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":3,"up_vote_count":155,"is_accepted":false,"score":152,"last_activity_date":1526505492,"creation_date":1268197100,"answer_id":2414621,"question_id":2414105,"body_markdown":"It has already been explained that calling `system.gc()` *may* do nothing, and that any code that &quot;needs&quot; the garbage collector to run is broken.\r\n\r\nHowever, the pragmatic reason that it is bad practice to call `System.gc()` is that it is inefficient.  And in the worst case, it is **horribly inefficient**!  Let me explain.\r\n\r\nA typical GC algorithm identifies garbage by traversing all non-garbage objects in the heap, and inferring that any object not visited must be garbage.  From this, we can model the total work of a garbage collection consists of one part that is proportional to the amount of live data, and another part that is proportional to the amount of garbage; i.e. `work = (live * W1 + garbage * W2)`.  \r\n\r\nNow suppose that you do the following in a single-threaded application.\r\n\r\n    System.gc(); System.gc();\r\n\r\nThe first call will (we predict) do `(live * W1 + garbage * W2)` work, and get rid of the outstanding garbage.\r\n\r\nThe second call will do `(live* W1 + 0 * W2)` work and reclaim nothing.  In other words we have done `(live * W1)` work and *achieved absolutely nothing*.\r\n\r\nWe can model the efficiency of the collector as the amount of work needed to collect a unit of garbage; i.e. `efficiency = (live * W1 + garbage * W2) / garbage`.  So to make the GC as efficient as possible, we need to *maximize* the value of `garbage` when we run the GC; i.e. wait until the heap is full.  (And also, make the heap as big as possible.  But that is a separate topic.)\r\n\r\nIf the application does not interfere (by calling `System.gc()`), the GC will wait until the heap is full before running, resulting in efficient collection of garbage&lt;sup&gt;1&lt;/sup&gt;.  But if the application forces the GC to run, the chances are that the heap won&#39;t be full, and the result will be that garbage is collected inefficiently.  And the more often the application forces GC, the more inefficient the GC becomes.\r\n\r\nNote: the above explanation glosses over the fact that a typical modern GC partitions the heap into &quot;spaces&quot;, the GC may dynamically expand the heap, the application&#39;s working set of non-garbage objects may vary and so on.  Even so, the same basic principal applies across the board to all true garbage collectors&lt;sup&gt;2&lt;/sup&gt;.  It is inefficient to force the GC to run.\r\n\r\n-----------------\r\n\r\n&lt;sup&gt;1 - This is how the &quot;throughput&quot; collector works.  Concurrent collectors such as CMS and G1 use different criteria to decide when to start the garbage collector.&lt;/sup&gt;\r\n\r\n&lt;sup&gt;2 - I&#39;m also excluding memory managers that use reference counting exclusively, but no current Java implementation uses that approach ... for good reason.&lt;/sup&gt;","title":"Why is it bad practice to call System.gc()?","body":"<p>It has already been explained that calling <code>system.gc()</code> <em>may</em> do nothing, and that any code that \"needs\" the garbage collector to run is broken.</p>\n\n<p>However, the pragmatic reason that it is bad practice to call <code>System.gc()</code> is that it is inefficient.  And in the worst case, it is <strong>horribly inefficient</strong>!  Let me explain.</p>\n\n<p>A typical GC algorithm identifies garbage by traversing all non-garbage objects in the heap, and inferring that any object not visited must be garbage.  From this, we can model the total work of a garbage collection consists of one part that is proportional to the amount of live data, and another part that is proportional to the amount of garbage; i.e. <code>work = (live * W1 + garbage * W2)</code>.  </p>\n\n<p>Now suppose that you do the following in a single-threaded application.</p>\n\n<pre><code>System.gc(); System.gc();\n</code></pre>\n\n<p>The first call will (we predict) do <code>(live * W1 + garbage * W2)</code> work, and get rid of the outstanding garbage.</p>\n\n<p>The second call will do <code>(live* W1 + 0 * W2)</code> work and reclaim nothing.  In other words we have done <code>(live * W1)</code> work and <em>achieved absolutely nothing</em>.</p>\n\n<p>We can model the efficiency of the collector as the amount of work needed to collect a unit of garbage; i.e. <code>efficiency = (live * W1 + garbage * W2) / garbage</code>.  So to make the GC as efficient as possible, we need to <em>maximize</em> the value of <code>garbage</code> when we run the GC; i.e. wait until the heap is full.  (And also, make the heap as big as possible.  But that is a separate topic.)</p>\n\n<p>If the application does not interfere (by calling <code>System.gc()</code>), the GC will wait until the heap is full before running, resulting in efficient collection of garbage<sup>1</sup>.  But if the application forces the GC to run, the chances are that the heap won't be full, and the result will be that garbage is collected inefficiently.  And the more often the application forces GC, the more inefficient the GC becomes.</p>\n\n<p>Note: the above explanation glosses over the fact that a typical modern GC partitions the heap into \"spaces\", the GC may dynamically expand the heap, the application's working set of non-garbage objects may vary and so on.  Even so, the same basic principal applies across the board to all true garbage collectors<sup>2</sup>.  It is inefficient to force the GC to run.</p>\n\n<hr>\n\n<p><sup>1 - This is how the \"throughput\" collector works.  Concurrent collectors such as CMS and G1 use different criteria to decide when to start the garbage collector.</sup></p>\n\n<p><sup>2 - I'm also excluding memory managers that use reference counting exclusively, but no current Java implementation uses that approach ... for good reason.</sup></p>\n"},{"tags":[],"owner":{"account_id":598283,"reputation":381,"user_id":290267,"display_name":"JT."},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1297260827,"creation_date":1268206575,"answer_id":2415234,"question_id":2414105,"body_markdown":"People have been doing a good job explaining why NOT to use, so I will tell you a couple situations where you should use it:\r\n\r\n(The following comments apply to Hotspot running on Linux with the CMS collector, where I feel confident saying that `System.gc()` does in fact always invoke a full garbage collection).\r\n\r\n1. After the initial work of starting up your application, you may be a terrible state of memory usage. Half your tenured generation could be full of garbage, meaning that you are that much closer to your first CMS. In applications where that matters, it is not a bad idea to call System.gc() to &quot;reset&quot; your heap to the starting state of live data.\r\n \t\r\n \t\r\n2. Along the same lines as #1, if you monitor your heap usage closely, you want to have an accurate reading of what your baseline memory usage is. If the first 2 minutes of your application&#39;s uptime is all initialization, your data is going to be messed up unless you force (ahem... &quot;suggest&quot;) the full gc up front. \r\n \t\r\n \t\r\n3. You may have an application that is designed to never promote anything to the tenured generation while it is running. But maybe you need to initialize some data up-front that is not-so-huge as to automatically get moved to the tenured generation. Unless you call System.gc() after everything is set up, your data could sit in the new generation until the time comes for it to get promoted. All of a sudden your super-duper low-latency, low-GC application gets hit with a HUGE (relatively speaking, of course) latency penalty for promoting those objects during normal operations.\r\n \t\r\n \t\r\n4. It is sometimes useful to have a System.gc call available in a production application for verifying the existence of a memory leak. If you know that the set of live data at time X should exist in a certain ratio to the set of live data at time Y, then it could be useful to call System.gc() a time X and time Y and compare memory usage.","title":"Why is it bad practice to call System.gc()?","body":"<p>People have been doing a good job explaining why NOT to use, so I will tell you a couple situations where you should use it:</p>\n\n<p>(The following comments apply to Hotspot running on Linux with the CMS collector, where I feel confident saying that <code>System.gc()</code> does in fact always invoke a full garbage collection).</p>\n\n<ol>\n<li><p>After the initial work of starting up your application, you may be a terrible state of memory usage. Half your tenured generation could be full of garbage, meaning that you are that much closer to your first CMS. In applications where that matters, it is not a bad idea to call System.gc() to \"reset\" your heap to the starting state of live data.</p></li>\n<li><p>Along the same lines as #1, if you monitor your heap usage closely, you want to have an accurate reading of what your baseline memory usage is. If the first 2 minutes of your application's uptime is all initialization, your data is going to be messed up unless you force (ahem... \"suggest\") the full gc up front. </p></li>\n<li><p>You may have an application that is designed to never promote anything to the tenured generation while it is running. But maybe you need to initialize some data up-front that is not-so-huge as to automatically get moved to the tenured generation. Unless you call System.gc() after everything is set up, your data could sit in the new generation until the time comes for it to get promoted. All of a sudden your super-duper low-latency, low-GC application gets hit with a HUGE (relatively speaking, of course) latency penalty for promoting those objects during normal operations.</p></li>\n<li><p>It is sometimes useful to have a System.gc call available in a production application for verifying the existence of a memory leak. If you know that the set of live data at time X should exist in a certain ratio to the set of live data at time Y, then it could be useful to call System.gc() a time X and time Y and compare memory usage.</p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":38908,"reputation":8308,"user_id":111991,"accept_rate":76,"display_name":"Ryan Fernandes"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1268212193,"creation_date":1268212193,"answer_id":2415625,"question_id":2414105,"body_markdown":"Maybe I write crappy code, but I&#39;ve come to realize that clicking the trash-can icon on eclipse and netbeans IDEs is a &#39;good practice&#39;.","title":"Why is it bad practice to call System.gc()?","body":"<p>Maybe I write crappy code, but I've come to realize that clicking the trash-can icon on eclipse and netbeans IDEs is a 'good practice'.</p>\n"},{"tags":[],"owner":{"account_id":92852,"reputation":73276,"user_id":254279,"display_name":"Thomas Pornin"},"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1268238308,"creation_date":1268238308,"answer_id":2418576,"question_id":2414105,"body_markdown":"GC efficiency relies on a number of heuristics. For instance, a common heuristic is that write accesses to objects usually occur on objects which were created not long ago. Another is that many objects are very short-lived (some objects will be used for a long time, but many will be discarded a few microseconds after their creation).\r\n\r\nCalling `System.gc()` is like kicking the GC. It means: &quot;all those carefully tuned parameters, those smart organizations, all the effort you just put into allocating and managing the objects such that things go smoothly, well, just drop the whole lot, and start from scratch&quot;. It *may* improve performance, but most of the time it just *degrades* performance.\r\n\r\nTo use `System.gc()` reliably(*) you need to know how the GC operates in all its fine details. Such details tend to change quite a bit if you use a JVM from another vendor, or the next version from the same vendor, or the same JVM but with slightly different command-line options. So it is rarely a good idea, unless you want to address a specific issue in which you control all those parameters. Hence the notion of &quot;bad practice&quot;: that&#39;s not forbidden, the method exists, but it rarely pays off.\r\n\r\n(*) I am talking about efficiency here. `System.gc()` will never *break* a correct Java program. It will neither conjure extra memory that the JVM could not have obtained otherwise: before throwing an `OutOfMemoryError`, the JVM does the job of `System.gc()`, even if as a last resort.\r\n","title":"Why is it bad practice to call System.gc()?","body":"<p>GC efficiency relies on a number of heuristics. For instance, a common heuristic is that write accesses to objects usually occur on objects which were created not long ago. Another is that many objects are very short-lived (some objects will be used for a long time, but many will be discarded a few microseconds after their creation).</p>\n\n<p>Calling <code>System.gc()</code> is like kicking the GC. It means: \"all those carefully tuned parameters, those smart organizations, all the effort you just put into allocating and managing the objects such that things go smoothly, well, just drop the whole lot, and start from scratch\". It <em>may</em> improve performance, but most of the time it just <em>degrades</em> performance.</p>\n\n<p>To use <code>System.gc()</code> reliably(*) you need to know how the GC operates in all its fine details. Such details tend to change quite a bit if you use a JVM from another vendor, or the next version from the same vendor, or the same JVM but with slightly different command-line options. So it is rarely a good idea, unless you want to address a specific issue in which you control all those parameters. Hence the notion of \"bad practice\": that's not forbidden, the method exists, but it rarely pays off.</p>\n\n<p>(*) I am talking about efficiency here. <code>System.gc()</code> will never <em>break</em> a correct Java program. It will neither conjure extra memory that the JVM could not have obtained otherwise: before throwing an <code>OutOfMemoryError</code>, the JVM does the job of <code>System.gc()</code>, even if as a last resort.</p>\n"},{"tags":[],"owner":{"account_id":31498,"reputation":12813,"user_id":86515,"accept_rate":100,"display_name":"KitsuneYMG"},"down_vote_count":4,"up_vote_count":55,"is_accepted":false,"score":51,"last_activity_date":1349876933,"creation_date":1268544032,"answer_id":2441295,"question_id":2414105,"body_markdown":"Lots of people seem to be telling you not to do this. I disagree. If, after a large loading process like loading a level, you believe that:\r\n\r\n 1. You have a lot of objects that are unreachable and may not have been gc&#39;ed. and\r\n 2. You think the user could put up with a small slowdown at this point\r\n\r\nthere is no harm in calling System.gc().  I look at it like the c/c++ `inline` keyword. It&#39;s just a hint to the gc that you, the developer, have decided that time/performance is not as important as it usually is and that some of it could be used reclaiming memory.\r\n\r\nAdvice to not rely on it doing anything is correct. Don&#39;t rely on it working, but giving the hint that now is an acceptable time to collect is perfectly fine. I&#39;d rather waste time at a point in the code where it doesn&#39;t matter (loading screen) than when the user is  actively interacting with the program (like during a level of a game.)\r\n\r\nThere is one time when i will [_force_][1] collection: when attempting to find out is a particular object leaks (either native code or large, complex callback interaction. Oh and any UI component that so much as glances at Matlab.) **This should never be used in production code.**\r\n\r\n\r\n  [1]: http://java.sun.com/javase/6/docs/platform/jvmti/jvmti.html#ForceGarbageCollection","title":"Why is it bad practice to call System.gc()?","body":"<p>Lots of people seem to be telling you not to do this. I disagree. If, after a large loading process like loading a level, you believe that:</p>\n\n<ol>\n<li>You have a lot of objects that are unreachable and may not have been gc'ed. and</li>\n<li>You think the user could put up with a small slowdown at this point</li>\n</ol>\n\n<p>there is no harm in calling System.gc().  I look at it like the c/c++ <code>inline</code> keyword. It's just a hint to the gc that you, the developer, have decided that time/performance is not as important as it usually is and that some of it could be used reclaiming memory.</p>\n\n<p>Advice to not rely on it doing anything is correct. Don't rely on it working, but giving the hint that now is an acceptable time to collect is perfectly fine. I'd rather waste time at a point in the code where it doesn't matter (loading screen) than when the user is  actively interacting with the program (like during a level of a game.)</p>\n\n<p>There is one time when i will <a href=\"http://java.sun.com/javase/6/docs/platform/jvmti/jvmti.html#ForceGarbageCollection\" rel=\"noreferrer\"><em>force</em></a> collection: when attempting to find out is a particular object leaks (either native code or large, complex callback interaction. Oh and any UI component that so much as glances at Matlab.) <strong>This should never be used in production code.</strong></p>\n"},{"tags":[],"owner":{"account_id":18868,"reputation":82004,"user_id":43681,"accept_rate":70,"display_name":"sleske"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1284720962,"creation_date":1284720962,"answer_id":3734708,"question_id":2414105,"body_markdown":"In my experience, using System.gc() is effectively a platform-specific form of optimization (where &quot;platform&quot; is the combination of hardware architecture, OS, JVM version and possible more runtime parameters such as RAM available), because its behaviour, while roughly predictable on a specific platform, can (and will) vary considerably between platforms.\r\n\r\nYes, there *are* situations where System.gc() will improve (perceived) performance. On example is if delays are tolerable in some parts of your app, but not in others (the game example cited above, where you want GC to happen at the start of a level, not during the level).\r\n\r\nHowever, whether it will help or hurt (or do nothing) is *highly* dependent on the platform (as defined above).\r\n\r\nSo I think it is valid as a last-resort platform-specific optimization (i.e. if other performance optimizations are not enough). But you should never call it just because you believe it might help(without specific benchmarks), because chances are it will not.","title":"Why is it bad practice to call System.gc()?","body":"<p>In my experience, using System.gc() is effectively a platform-specific form of optimization (where \"platform\" is the combination of hardware architecture, OS, JVM version and possible more runtime parameters such as RAM available), because its behaviour, while roughly predictable on a specific platform, can (and will) vary considerably between platforms.</p>\n\n<p>Yes, there <em>are</em> situations where System.gc() will improve (perceived) performance. On example is if delays are tolerable in some parts of your app, but not in others (the game example cited above, where you want GC to happen at the start of a level, not during the level).</p>\n\n<p>However, whether it will help or hurt (or do nothing) is <em>highly</em> dependent on the platform (as defined above).</p>\n\n<p>So I think it is valid as a last-resort platform-specific optimization (i.e. if other performance optimizations are not enough). But you should never call it just because you believe it might help(without specific benchmarks), because chances are it will not.</p>\n"},{"tags":[],"owner":{"account_id":425164,"reputation":749,"user_id":805608,"display_name":"Kirk"},"down_vote_count":3,"up_vote_count":4,"is_accepted":false,"score":1,"last_activity_date":1378117741,"creation_date":1378117741,"answer_id":18570988,"question_id":2414105,"body_markdown":"First, there is a difference between spec and reality. The spec says that System.gc() is a hint that GC should run and the VM is free to ignore it. The reality is, the VM will *never* ignore a call to System.gc().\r\n\r\nCalling GC comes with a non-trivial overhead to the call and if you do this at some random point in time it&#39;s likely you&#39;ll see no reward for your efforts. On the other hand, a naturally triggered collection is very likely to recoup the costs of the call. If you have information that indicates that a GC should be run than you can make the call to System.gc() and you should see benefits. However, it&#39;s my experience that this happens only in a few edge cases as it&#39;s very unlikely that you&#39;ll have enough information to understand if and when System.gc() should be called.\r\n\r\nOne example listed here, hitting the garbage can in your IDE. If you&#39;re off to a meeting why not hit it. The overhead isn&#39;t going to affect you and heap might be cleaned up for when you get back. Do this in a production system and frequent calls to collect will bring it to a grinding halt! Even occasional calls such as those made by RMI can be disruptive to performance.","title":"Why is it bad practice to call System.gc()?","body":"<p>First, there is a difference between spec and reality. The spec says that System.gc() is a hint that GC should run and the VM is free to ignore it. The reality is, the VM will <em>never</em> ignore a call to System.gc().</p>\n\n<p>Calling GC comes with a non-trivial overhead to the call and if you do this at some random point in time it's likely you'll see no reward for your efforts. On the other hand, a naturally triggered collection is very likely to recoup the costs of the call. If you have information that indicates that a GC should be run than you can make the call to System.gc() and you should see benefits. However, it's my experience that this happens only in a few edge cases as it's very unlikely that you'll have enough information to understand if and when System.gc() should be called.</p>\n\n<p>One example listed here, hitting the garbage can in your IDE. If you're off to a meeting why not hit it. The overhead isn't going to affect you and heap might be cleaned up for when you get back. Do this in a production system and frequent calls to collect will bring it to a grinding halt! Even occasional calls such as those made by RMI can be disruptive to performance.</p>\n"},{"tags":[],"owner":{"account_id":22965,"reputation":51428,"user_id":57159,"accept_rate":89,"display_name":"Ian Ringrose"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1644233026,"creation_date":1411997247,"answer_id":26101078,"question_id":2414105,"body_markdown":"Sometimes (**not often!**) you do truly know more about past, current and future memory usage then the run time does.   This does not happen very often, and I would claim never in a web application while normal pages are being served.\r\n\r\nMany year ago I work on a report generator, that\r\n\r\n- Had a single thread \r\n- Read the “report request” from a queue\r\n- Loaded the data needed for the report from the database\r\n- Generated the report and emailed it out.\r\n- Repeated forever, sleeping when there were no outstanding requests.\r\n- It did not reuse any data between reports and did not do any cashing.\r\n\r\nFirstly as it was not real time and the users expected to wait for a report, a delay while the GC run was not an issue, but we needed to produce reports at a rate that was faster than they were requested. \r\n\r\nLooking at the above outline of the process, it is clear that.\r\n\r\n- We know there would be very few live objects just after a report had been emailed out, as the next request had not started being processed yet.\r\n- It is well known that the cost of running a garbage collection cycle is depending on the **number of live objects,** the amount of garbage has little effect on the cost of a GC run.\r\n- That when the queue is empty there is nothing better to do then run the GC.\r\n\r\nTherefore clearly it was well worth while doing a GC run whenever the request queue was empty; there was no downside to this.\r\n\r\nIt may be worth doing a GC run after each report is emailed, as we know this is a good time for a GC run.   However if the computer had enough ram, better results would be obtained by delaying the GC run.\r\n\r\nThis behaviour was configured on a per installation bases, for **some** customers enabling a forced GC after each report **greatly speeded** up the production of reports.   (I expect this was due to low memory on their server and it running lots of other processes, so hence a well time forced GC reduced paging.)\r\n\r\nWe never detected an installation that did not benefit from a forced GC run every time the work queue was empty.\r\n\r\nBut, let be clear, the above is not a common case. \r\n==================================================  \r\n\r\nThese days I would be more inclined to run each report in a seperate process leaving the operating system to clear up memory rather then the garbage collector and having the custom queue manager service use mulple working processes on large servers. \r\n","title":"Why is it bad practice to call System.gc()?","body":"<p>Sometimes (<strong>not often!</strong>) you do truly know more about past, current and future memory usage then the run time does.   This does not happen very often, and I would claim never in a web application while normal pages are being served.</p>\n<p>Many year ago I work on a report generator, that</p>\n<ul>\n<li>Had a single thread</li>\n<li>Read the “report request” from a queue</li>\n<li>Loaded the data needed for the report from the database</li>\n<li>Generated the report and emailed it out.</li>\n<li>Repeated forever, sleeping when there were no outstanding requests.</li>\n<li>It did not reuse any data between reports and did not do any cashing.</li>\n</ul>\n<p>Firstly as it was not real time and the users expected to wait for a report, a delay while the GC run was not an issue, but we needed to produce reports at a rate that was faster than they were requested.</p>\n<p>Looking at the above outline of the process, it is clear that.</p>\n<ul>\n<li>We know there would be very few live objects just after a report had been emailed out, as the next request had not started being processed yet.</li>\n<li>It is well known that the cost of running a garbage collection cycle is depending on the <strong>number of live objects,</strong> the amount of garbage has little effect on the cost of a GC run.</li>\n<li>That when the queue is empty there is nothing better to do then run the GC.</li>\n</ul>\n<p>Therefore clearly it was well worth while doing a GC run whenever the request queue was empty; there was no downside to this.</p>\n<p>It may be worth doing a GC run after each report is emailed, as we know this is a good time for a GC run.   However if the computer had enough ram, better results would be obtained by delaying the GC run.</p>\n<p>This behaviour was configured on a per installation bases, for <strong>some</strong> customers enabling a forced GC after each report <strong>greatly speeded</strong> up the production of reports.   (I expect this was due to low memory on their server and it running lots of other processes, so hence a well time forced GC reduced paging.)</p>\n<p>We never detected an installation that did not benefit from a forced GC run every time the work queue was empty.</p>\n<h1>But, let be clear, the above is not a common case.</h1>\n<p>These days I would be more inclined to run each report in a seperate process leaving the operating system to clear up memory rather then the garbage collector and having the custom queue manager service use mulple working processes on large servers.</p>\n"},{"tags":[],"owner":{"account_id":2289455,"reputation":5106,"user_id":2012715,"accept_rate":66,"display_name":"Dmytro"},"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1467245649,"creation_date":1467244329,"answer_id":38111886,"question_id":2414105,"body_markdown":"This is a very bothersome question, and I feel contributes to many being opposed to Java despite how useful of a language it is.\r\n\r\nThe fact that you can&#39;t trust &quot;System.gc&quot; to do anything is incredibly daunting and can easily invoke &quot;Fear, Uncertainty, Doubt&quot; feel to the language.\r\n\r\nIn many cases, it is nice to deal with memory spikes that you cause on purpose before an important event occurs, which would cause users to think your program is badly designed/unresponsive.\r\n\r\nHaving ability to control the garbage collection would be very a great education tool, in turn improving people&#39;s understanding how the garbage collection works and how to make programs exploit it&#39;s default behavior as well as controlled behavior.\r\n\r\nLet me review the arguments of this thread.\r\n\r\n1. It is inefficient:\r\n\r\nOften, the program may not be doing anything and you know it&#39;s not doing anything because of the way it was designed. For instance, it might be doing some kind of long wait with a large wait message box, and at the end it may as well add a call to collect garbage because the time to run it will take a really small fraction of the time of the long wait but will avoid gc from acting up in the middle of a more important operation.\r\n\r\n2. It is always a bad practice and indicates broken code.\r\n\r\nI disagree, it doesn&#39;t matter what garbage collector you have. Its&#39; job is to track garbage and clean it. \r\n\r\nBy calling the gc during times where usage is less critical, you reduce odds of it running when your life relies on the specific code being run but instead it decides to collect garbage. \r\n\r\nSure, it might not behave the way you want or expect, but when you do want to call it, you know nothing is happening, and user is willing to tolerate slowness/downtime. If the System.gc works, great! If it doesn&#39;t, at least you tried. There&#39;s simply no down side unless the garbage collector has inherent side effects that do something horribly unexpected to how a garbage collector is suppose to behave if invoked manually, and this by itself causes distrust.\r\n\r\n3. It is not a common use case:\r\n\r\nIt is a use case that cannot be achieved reliably, but could be if the system was designed that way. It&#39;s like making a traffic light and making it so that some/all of the traffic lights&#39; buttons don&#39;t do anything, it makes you question why the button is there to begin with, javascript doesn&#39;t have garbage collection function so we don&#39;t scrutinize it as much for it.\r\n\r\n4. The spec says that System.gc() is a hint that GC should run and the VM is free to ignore it.\r\n\r\nwhat is a &quot;hint&quot;? what is &quot;ignore&quot;? a computer cannot simply take hints or ignore something, there are strict behavior paths it takes that may be dynamic that are guided by the intent of the system. A proper answer would include what the garbage collector is actually doing, at implementation level, that causes it to not perform collection when you request it. Is the feature simply a nop? Is there some kind of conditions that must me met? What are these conditions?\r\n\r\nAs it stands, Java&#39;s GC often seems like a monster that you just don&#39;t trust. You don&#39;t know when it&#39;s going to come or go, you don&#39;t know what it&#39;s going to do, how it&#39;s going to do it. I can imagine some experts having better idea of how  their Garbage Collection works on per-instruction basis, but vast majority simply hopes it &quot;just works&quot;, and having to trust an opaque-seeming algorithm to do work for you is frustrating.\r\n\r\nThere is a big gap between reading about something or being taught something, and actually seeing the implementation of it, the differences across systems, and being able to play with it without having to look at the source code. This creates confidence and feeling of mastery/understanding/control.\r\n\r\nTo summarize, there is an inherent problem with the answers &quot;this feature might not do anything, and I won&#39;t go into details how to tell when it does do something and when it doesn&#39;t and why it won&#39;t or will, often implying that it is simply against the philosophy to try to do it, even if the intent behind it is reasonable&quot;.\r\n\r\nIt might be okay for Java GC to behave the way it does, or it might not, but to understand it, it is difficult to truly follow in which direction to go to get a comprehensive overview of what you can trust the GC to do and not to do, so it&#39;s too easy simply distrust the language, because the purpose of a language is to have controlled behavior up to philosophical extent(it&#39;s easy for a programmer, especially novices to fall into existential crisis from certain system/language behaviors) you are capable of tolerating(and if you can&#39;t, you just won&#39;t use the language until you have to), and more things you can&#39;t control for no known reason why you can&#39;t control them is inherently harmful.\r\n","title":"Why is it bad practice to call System.gc()?","body":"<p>This is a very bothersome question, and I feel contributes to many being opposed to Java despite how useful of a language it is.</p>\n\n<p>The fact that you can't trust \"System.gc\" to do anything is incredibly daunting and can easily invoke \"Fear, Uncertainty, Doubt\" feel to the language.</p>\n\n<p>In many cases, it is nice to deal with memory spikes that you cause on purpose before an important event occurs, which would cause users to think your program is badly designed/unresponsive.</p>\n\n<p>Having ability to control the garbage collection would be very a great education tool, in turn improving people's understanding how the garbage collection works and how to make programs exploit it's default behavior as well as controlled behavior.</p>\n\n<p>Let me review the arguments of this thread.</p>\n\n<ol>\n<li>It is inefficient:</li>\n</ol>\n\n<p>Often, the program may not be doing anything and you know it's not doing anything because of the way it was designed. For instance, it might be doing some kind of long wait with a large wait message box, and at the end it may as well add a call to collect garbage because the time to run it will take a really small fraction of the time of the long wait but will avoid gc from acting up in the middle of a more important operation.</p>\n\n<ol start=\"2\">\n<li>It is always a bad practice and indicates broken code.</li>\n</ol>\n\n<p>I disagree, it doesn't matter what garbage collector you have. Its' job is to track garbage and clean it. </p>\n\n<p>By calling the gc during times where usage is less critical, you reduce odds of it running when your life relies on the specific code being run but instead it decides to collect garbage. </p>\n\n<p>Sure, it might not behave the way you want or expect, but when you do want to call it, you know nothing is happening, and user is willing to tolerate slowness/downtime. If the System.gc works, great! If it doesn't, at least you tried. There's simply no down side unless the garbage collector has inherent side effects that do something horribly unexpected to how a garbage collector is suppose to behave if invoked manually, and this by itself causes distrust.</p>\n\n<ol start=\"3\">\n<li>It is not a common use case:</li>\n</ol>\n\n<p>It is a use case that cannot be achieved reliably, but could be if the system was designed that way. It's like making a traffic light and making it so that some/all of the traffic lights' buttons don't do anything, it makes you question why the button is there to begin with, javascript doesn't have garbage collection function so we don't scrutinize it as much for it.</p>\n\n<ol start=\"4\">\n<li>The spec says that System.gc() is a hint that GC should run and the VM is free to ignore it.</li>\n</ol>\n\n<p>what is a \"hint\"? what is \"ignore\"? a computer cannot simply take hints or ignore something, there are strict behavior paths it takes that may be dynamic that are guided by the intent of the system. A proper answer would include what the garbage collector is actually doing, at implementation level, that causes it to not perform collection when you request it. Is the feature simply a nop? Is there some kind of conditions that must me met? What are these conditions?</p>\n\n<p>As it stands, Java's GC often seems like a monster that you just don't trust. You don't know when it's going to come or go, you don't know what it's going to do, how it's going to do it. I can imagine some experts having better idea of how  their Garbage Collection works on per-instruction basis, but vast majority simply hopes it \"just works\", and having to trust an opaque-seeming algorithm to do work for you is frustrating.</p>\n\n<p>There is a big gap between reading about something or being taught something, and actually seeing the implementation of it, the differences across systems, and being able to play with it without having to look at the source code. This creates confidence and feeling of mastery/understanding/control.</p>\n\n<p>To summarize, there is an inherent problem with the answers \"this feature might not do anything, and I won't go into details how to tell when it does do something and when it doesn't and why it won't or will, often implying that it is simply against the philosophy to try to do it, even if the intent behind it is reasonable\".</p>\n\n<p>It might be okay for Java GC to behave the way it does, or it might not, but to understand it, it is difficult to truly follow in which direction to go to get a comprehensive overview of what you can trust the GC to do and not to do, so it's too easy simply distrust the language, because the purpose of a language is to have controlled behavior up to philosophical extent(it's easy for a programmer, especially novices to fall into existential crisis from certain system/language behaviors) you are capable of tolerating(and if you can't, you just won't use the language until you have to), and more things you can't control for no known reason why you can't control them is inherently harmful.</p>\n"},{"tags":[],"owner":{"account_id":10885904,"reputation":1295,"user_id":8003421,"display_name":"Tanmay Delhikar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1500748263,"creation_date":1500748263,"answer_id":45257879,"question_id":2414105,"body_markdown":" 1. Since objects are dynamically allocated by using the new operator,  \r\n    you might be wondering how such objects are destroyed and their   \r\n    memory released for later reallocation.\r\n\r\n \r\n\r\n 1. In some languages, such as C++, dynamically allocated objects must\r\n    be manually released by use of a delete operator.\r\n 2. Java takes a different approach; it handles deallocation for you\r\n    automatically.\r\n 3. The technique that accomplishes this is called garbage collection.\r\n    It works like this: when no references to an object exist, that object is assumed to be no longer needed, and the memory occupied by the object can be reclaimed. There is no explicit need to destroy objects as in C++.\r\n 4. Garbage collection only occurs sporadically (if at all) during the\r\n   execution of your program.\r\n 5. It will not occur simply because one or more objects exist that are\r\n   no longer used.\r\n 6. Furthermore, different Java run-time implementations will take\r\n    varying approaches to garbage collection, but for the most part, you\r\n    should not have to think about it while writing your programs.","title":"Why is it bad practice to call System.gc()?","body":"<ol>\n<li><p>Since objects are dynamically allocated by using the new operator,<br>\nyou might be wondering how such objects are destroyed and their<br>\nmemory released for later reallocation.</p></li>\n<li><p>In some languages, such as C++, dynamically allocated objects must\nbe manually released by use of a delete operator.</p></li>\n<li>Java takes a different approach; it handles deallocation for you\nautomatically.</li>\n<li>The technique that accomplishes this is called garbage collection.\nIt works like this: when no references to an object exist, that object is assumed to be no longer needed, and the memory occupied by the object can be reclaimed. There is no explicit need to destroy objects as in C++.</li>\n<li>Garbage collection only occurs sporadically (if at all) during the\nexecution of your program.</li>\n<li>It will not occur simply because one or more objects exist that are\nno longer used.</li>\n<li>Furthermore, different Java run-time implementations will take\nvarying approaches to garbage collection, but for the most part, you\nshould not have to think about it while writing your programs.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1620375658,"creation_date":1620374835,"answer_id":67431175,"question_id":2414105,"body_markdown":"Some of what I am about to write is simply a summarization of what has already been written in other answers, and some is new.\r\n\r\nThe question &quot;Why is it bad practice to call System.gc()?&quot; does not compute. It assumes that it is bad practice, while it is not. It greatly depends on what you are trying to accomplish. \r\n\r\nThe vast majority of programmers out there have no need for `System.gc()`, and it will never do anything useful to them in the vast majority of use cases. So, for the majority, calling it is bad practice because it will not do whatever it is that they think it will do, it will only add overhead.\r\n\r\nHowever, there are a few rare cases where invoking `System.gc()` is actually beneficial:\r\n\r\n1. When you are absolutely sure that you have some CPU time to spare *now*, and you want to improve the throughput of code that will run later. For example, a web server that discovers that there are no pending web requests at the moment can initiate garbage collection now, so as to reduce the chances that garbage collection will be needed during the processing of a barrage of web requests later on. (Of course this can hurt if a web request arrives during collection, but the web server could be smart about it and abandon collection if a request comes in.) Desktop GUIs are another example: on the idle event (or, more broadly, after a period of inactivity,) you can give the JVM a hint that if it has any garbage collection to do, now is better than later.\r\n\r\n2. When you want to detect memory leaks. This is often done in combination with a debug-mode-only finalizer, or with the `java.lang.ref.Cleaner` class from Java 9 onwards. The idea is that by forcing garbage collection *now*, and thus discovering memory leaks *now* as opposed to some random point in time in the future, you can detect the memory leaks as soon as possible after they have happened, and therefore be in a better position to tell precisely which piece of code has leaked memory and why. (Incidentally, this is also one of, or perhaps the only, legitimate use cases for finalizers or the `Cleaner`. The practice of using finalization for recycling of unmanaged resources is flawed, despite being very widespread and even officially recommended, because it is non-deterministic. For more on this topic, read this: https://blog.michael.gr/2021/01/object-lifetime-awareness.html)\r\n\r\n3. When you are measuring the performance of code, (benchmarking,) in order to reduce/minimize the chances of garbage collection occurring during the benchmark, or in order to guarantee that whatever overhead is suffered due to garbage collection during the benchmark is due to garbage generated by the code under benchmark, and not by unrelated code. A good benchmark always starts with an as thorough as possible garbage collection.\r\n\r\n4. When you are measuring the memory consumption of code, in order to determine how much garbage is generated by a piece of code. The idea is to perform a full garbage collection so as to start in a clean state, run the code under measurement, obtain the heap size, then do another full garbage collection, obtain the heap size again, and take the difference.  (Incidentally, the ability to temporarily *suppress* garbage collection while running the code under measurement would be useful here, alas, the JVM does not support that. This is deplorable.)\r\n\r\nNote that of the above use cases, only one is in a production scenario; the rest are in testing / diagnostics scenarios.\r\n\r\nThis means that `System.gc()` can be quite useful under some circumstances, which in turn means that it being &quot;only a hint&quot; is problematic.\r\n\r\n(For as long as the JVM is not offering some deterministic and guaranteed means of controlling garbage collection, the JVM is broken in this respect.)\r\n\r\nHere is how you can turn `System.gc()` into a bit less of a hint:\r\n\r\n\tprivate static void runGarbageCollection()\r\n\t{\r\n\t\tfor( WeakReference&lt;Object&gt; ref = new WeakReference&lt;&gt;( new Object() ); ; )\r\n\t\t{\r\n\t\t\tSystem.gc(); //optional\r\n\t\t\tRuntime.getRuntime().runFinalization(); //optional\r\n\t\t\tif( ref.get() == null )\r\n\t\t\t\tbreak;\r\n\t\t\tThread.yield();\r\n\t\t}\r\n\t}\r\n\r\nThis still does not guarantee that you will get a full GC, but it gets a lot closer. Specifically, it will give you some amount of garbage collection even if the `-XX:DisableExplicitGC` VM option has been used. (So, it truly uses `System.gc()` as a hint; it does not rely on it.)\r\n","title":"Why is it bad practice to call System.gc()?","body":"<p>Some of what I am about to write is simply a summarization of what has already been written in other answers, and some is new.</p>\n<p>The question &quot;Why is it bad practice to call System.gc()?&quot; does not compute. It assumes that it is bad practice, while it is not. It greatly depends on what you are trying to accomplish.</p>\n<p>The vast majority of programmers out there have no need for <code>System.gc()</code>, and it will never do anything useful to them in the vast majority of use cases. So, for the majority, calling it is bad practice because it will not do whatever it is that they think it will do, it will only add overhead.</p>\n<p>However, there are a few rare cases where invoking <code>System.gc()</code> is actually beneficial:</p>\n<ol>\n<li><p>When you are absolutely sure that you have some CPU time to spare <em>now</em>, and you want to improve the throughput of code that will run later. For example, a web server that discovers that there are no pending web requests at the moment can initiate garbage collection now, so as to reduce the chances that garbage collection will be needed during the processing of a barrage of web requests later on. (Of course this can hurt if a web request arrives during collection, but the web server could be smart about it and abandon collection if a request comes in.) Desktop GUIs are another example: on the idle event (or, more broadly, after a period of inactivity,) you can give the JVM a hint that if it has any garbage collection to do, now is better than later.</p>\n</li>\n<li><p>When you want to detect memory leaks. This is often done in combination with a debug-mode-only finalizer, or with the <code>java.lang.ref.Cleaner</code> class from Java 9 onwards. The idea is that by forcing garbage collection <em>now</em>, and thus discovering memory leaks <em>now</em> as opposed to some random point in time in the future, you can detect the memory leaks as soon as possible after they have happened, and therefore be in a better position to tell precisely which piece of code has leaked memory and why. (Incidentally, this is also one of, or perhaps the only, legitimate use cases for finalizers or the <code>Cleaner</code>. The practice of using finalization for recycling of unmanaged resources is flawed, despite being very widespread and even officially recommended, because it is non-deterministic. For more on this topic, read this: <a href=\"https://blog.michael.gr/2021/01/object-lifetime-awareness.html\" rel=\"nofollow noreferrer\">https://blog.michael.gr/2021/01/object-lifetime-awareness.html</a>)</p>\n</li>\n<li><p>When you are measuring the performance of code, (benchmarking,) in order to reduce/minimize the chances of garbage collection occurring during the benchmark, or in order to guarantee that whatever overhead is suffered due to garbage collection during the benchmark is due to garbage generated by the code under benchmark, and not by unrelated code. A good benchmark always starts with an as thorough as possible garbage collection.</p>\n</li>\n<li><p>When you are measuring the memory consumption of code, in order to determine how much garbage is generated by a piece of code. The idea is to perform a full garbage collection so as to start in a clean state, run the code under measurement, obtain the heap size, then do another full garbage collection, obtain the heap size again, and take the difference.  (Incidentally, the ability to temporarily <em>suppress</em> garbage collection while running the code under measurement would be useful here, alas, the JVM does not support that. This is deplorable.)</p>\n</li>\n</ol>\n<p>Note that of the above use cases, only one is in a production scenario; the rest are in testing / diagnostics scenarios.</p>\n<p>This means that <code>System.gc()</code> can be quite useful under some circumstances, which in turn means that it being &quot;only a hint&quot; is problematic.</p>\n<p>(For as long as the JVM is not offering some deterministic and guaranteed means of controlling garbage collection, the JVM is broken in this respect.)</p>\n<p>Here is how you can turn <code>System.gc()</code> into a bit less of a hint:</p>\n<pre><code>private static void runGarbageCollection()\n{\n    for( WeakReference&lt;Object&gt; ref = new WeakReference&lt;&gt;( new Object() ); ; )\n    {\n        System.gc(); //optional\n        Runtime.getRuntime().runFinalization(); //optional\n        if( ref.get() == null )\n            break;\n        Thread.yield();\n    }\n}\n</code></pre>\n<p>This still does not guarantee that you will get a full GC, but it gets a lot closer. Specifically, it will give you some amount of garbage collection even if the <code>-XX:DisableExplicitGC</code> VM option has been used. (So, it truly uses <code>System.gc()</code> as a hint; it does not rely on it.)</p>\n"}],"owner":{"account_id":91491,"reputation":135854,"user_id":251153,"accept_rate":86,"display_name":"zneak"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135913,"favorite_count":0,"down_vote_count":0,"up_vote_count":362,"accepted_answer_id":2414120,"answer_count":13,"score":362,"last_activity_date":1644233026,"creation_date":1268187578,"question_id":2414105,"body_markdown":"After [answering][1] a question about how to [force-free objects in Java][2] (the guy was clearing a 1.5GB HashMap) with `System.gc()`, I was told it&#39;s bad practice to call `System.gc()` manually, but the comments were not entirely convincing. In addition, no one seemed to dare to upvote, nor downvote my answer.\r\n\r\nI was told there that it&#39;s bad practice, but then I was also told that garbage collector runs don&#39;t systematically stop the world anymore, and that it could also effectively be used by the JVM only as a hint, so I&#39;m kind of at loss.\r\n\r\nI do understand that the JVM usually knows better than you when it needs to reclaim memory. I also understand that worrying about a few kilobytes of data is silly. I also understand that even megabytes of data isn&#39;t what it was a few years back. But still, 1.5 gigabytes? And you _know_ there&#39;s like 1.5 GB of data hanging around in memory; it&#39;s not like it&#39;s a shot in the dark. Is `System.gc()` systematically bad, or is there some point at which it becomes okay?\r\n\r\nSo the question is actually double:\r\n\r\n* Why is or isn&#39;t it bad practice to call `System.gc()`? Is it really merely a hint to the JVM under certain implementations, or is it always a full collection cycle? Are there really garbage collector implementations that can do their work without stopping the world? Please shed some light over the various assertions people have made in the comments to my [answer][3].\r\n* Where&#39;s the threshold? Is it _never_ a good idea to call `System.gc()`, or are there times when it&#39;s acceptable? If so, what are those times?\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/2406360/3650944\r\n  [2]: https://stackoverflow.com/questions/2406349/forcing-deallocation-of-large-cache-object-in-java/\r\n  [3]: https://stackoverflow.com/a/2406360/3650944","title":"Why is it bad practice to call System.gc()?","body":"<p>After <a href=\"https://stackoverflow.com/a/2406360/3650944\">answering</a> a question about how to <a href=\"https://stackoverflow.com/questions/2406349/forcing-deallocation-of-large-cache-object-in-java/\">force-free objects in Java</a> (the guy was clearing a 1.5GB HashMap) with <code>System.gc()</code>, I was told it's bad practice to call <code>System.gc()</code> manually, but the comments were not entirely convincing. In addition, no one seemed to dare to upvote, nor downvote my answer.</p>\n\n<p>I was told there that it's bad practice, but then I was also told that garbage collector runs don't systematically stop the world anymore, and that it could also effectively be used by the JVM only as a hint, so I'm kind of at loss.</p>\n\n<p>I do understand that the JVM usually knows better than you when it needs to reclaim memory. I also understand that worrying about a few kilobytes of data is silly. I also understand that even megabytes of data isn't what it was a few years back. But still, 1.5 gigabytes? And you <em>know</em> there's like 1.5 GB of data hanging around in memory; it's not like it's a shot in the dark. Is <code>System.gc()</code> systematically bad, or is there some point at which it becomes okay?</p>\n\n<p>So the question is actually double:</p>\n\n<ul>\n<li>Why is or isn't it bad practice to call <code>System.gc()</code>? Is it really merely a hint to the JVM under certain implementations, or is it always a full collection cycle? Are there really garbage collector implementations that can do their work without stopping the world? Please shed some light over the various assertions people have made in the comments to my <a href=\"https://stackoverflow.com/a/2406360/3650944\">answer</a>.</li>\n<li>Where's the threshold? Is it <em>never</em> a good idea to call <code>System.gc()</code>, or are there times when it's acceptable? If so, what are those times?</li>\n</ul>\n"},{"tags":["java","spring","spring-boot","google-cloud-pubsub","spring-cloud-gcp"],"comments":[{"owner":{"account_id":1411507,"reputation":1184,"user_id":1337998,"accept_rate":29,"display_name":"Molay"},"score":0,"creation_date":1651713034,"post_id":59239391,"comment_id":127430789,"body_markdown":"did you find a solution to your issue?","body":"did you find a solution to your issue?"}],"answers":[{"tags":[],"owner":{"account_id":15929747,"reputation":864,"user_id":11494461,"display_name":"Lauren"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1576168258,"creation_date":1576168258,"answer_id":59308990,"question_id":59239391,"body_markdown":"Consider creating a [BeanFactory][1] to generate a PubSubMessageHandler Bean given a topic name. [PubSubMessageHandler][2] also has a setTopic() method, which may be of use.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/beans/factory/BeanFactory.html\r\n  [2]: https://docs.spring.io/spring-cloud-gcp/docs/1.0.0.RELEASE/api/org/springframework/cloud/gcp/pubsub/integration/outbound/PubSubMessageHandler.html","title":"Spring boot: push message to specific topic for each request","body":"<p>Consider creating a <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/beans/factory/BeanFactory.html\" rel=\"nofollow noreferrer\">BeanFactory</a> to generate a PubSubMessageHandler Bean given a topic name. <a href=\"https://docs.spring.io/spring-cloud-gcp/docs/1.0.0.RELEASE/api/org/springframework/cloud/gcp/pubsub/integration/outbound/PubSubMessageHandler.html\" rel=\"nofollow noreferrer\">PubSubMessageHandler</a> also has a setTopic() method, which may be of use.</p>\n"},{"tags":[],"owner":{"account_id":9470424,"reputation":21,"user_id":7041433,"display_name":"Sadashiv Gour"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644233021,"creation_date":1644233021,"answer_id":71017760,"question_id":59239391,"body_markdown":"To override the default topic you can use the GcpPubSubHeaders.TOPIC header.\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    final Message&lt;?&gt; message = MessageBuilder\r\n            .withPayload(msg.getPayload())\r\n            .setHeader(GcpPubSubHeaders.TOPIC, &quot;newTopic&quot;).build();\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nand modify your `sendToPubsub(Message&lt;byte[]&gt; message)` to use message as input.\r\n\r\n[Refer for more information][1]\r\n\r\n\r\n  [1]: https://googlecloudplatform.github.io/spring-cloud-gcp/2.0.2/reference/html/index.html#outbound-channel-adapter","title":"Spring boot: push message to specific topic for each request","body":"<p>To override the default topic you can use the GcpPubSubHeaders.TOPIC header.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Message&lt;?&gt; message = MessageBuilder\n        .withPayload(msg.getPayload())\n        .setHeader(GcpPubSubHeaders.TOPIC, &quot;newTopic&quot;).build();\n</code></pre>\n<p>and modify your <code>sendToPubsub(Message&lt;byte[]&gt; message)</code> to use message as input.</p>\n<p><a href=\"https://googlecloudplatform.github.io/spring-cloud-gcp/2.0.2/reference/html/index.html#outbound-channel-adapter\" rel=\"nofollow noreferrer\">Refer for more information</a></p>\n"}],"owner":{"account_id":3579176,"reputation":4110,"user_id":2987780,"accept_rate":50,"display_name":"Indrajeet Gour"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":755,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1644233021,"creation_date":1575835259,"question_id":59239391,"body_markdown":"I am using pub sub integration with spring boot, for which my configuration class look like this:\r\n\r\n    @Configuration\r\n    public class PubSubConfiguration {\r\n    \r\n    \t@Value(&quot;${spring.pubsub.topic.name}&quot;)\r\n    \tprivate String topicName;\r\n    \r\n    \t@Bean\r\n    \t@ServiceActivator(inputChannel = &quot;MyOutputChannel&quot;)\r\n    \tpublic PubSubMessageHandler messageSender(PubSubTemplate pubsubTemplate) {\r\n    \t\treturn new PubSubMessageHandler(pubsubTemplate, topicName);\r\n    \t}\r\n    \r\n    \t@MessagingGateway(defaultRequestChannel = &quot;MyOutputChannel&quot;)\r\n    \tpublic interface PubsubOutboundGateway {\r\n    \t\tvoid sendToPubsub(String attribute);\r\n    \t}\r\n    \r\n    }\r\n\r\nSo now, I was calling only sendToPubSub method which add payload into topic from my app, like this:\r\n\r\n    @Autowired\r\n    private PubSubConfiguration.PubsubOutboundGateway outboundGateway;\r\n\r\n    // used line in my code wherever is needed. \r\n    outboundGateway.sendToPubsub(jsonInString);\r\n\r\nThe above code is just meant for one topic which i loaded from application property file.\r\n\r\nBut now I wanted to make my topic name is dynamically added into messageSender, how to do that.\r\n\r\n","title":"Spring boot: push message to specific topic for each request","body":"<p>I am using pub sub integration with spring boot, for which my configuration class look like this:</p>\n\n<pre><code>@Configuration\npublic class PubSubConfiguration {\n\n    @Value(\"${spring.pubsub.topic.name}\")\n    private String topicName;\n\n    @Bean\n    @ServiceActivator(inputChannel = \"MyOutputChannel\")\n    public PubSubMessageHandler messageSender(PubSubTemplate pubsubTemplate) {\n        return new PubSubMessageHandler(pubsubTemplate, topicName);\n    }\n\n    @MessagingGateway(defaultRequestChannel = \"MyOutputChannel\")\n    public interface PubsubOutboundGateway {\n        void sendToPubsub(String attribute);\n    }\n\n}\n</code></pre>\n\n<p>So now, I was calling only sendToPubSub method which add payload into topic from my app, like this:</p>\n\n<pre><code>@Autowired\nprivate PubSubConfiguration.PubsubOutboundGateway outboundGateway;\n\n// used line in my code wherever is needed. \noutboundGateway.sendToPubsub(jsonInString);\n</code></pre>\n\n<p>The above code is just meant for one topic which i loaded from application property file.</p>\n\n<p>But now I wanted to make my topic name is dynamically added into messageSender, how to do that.</p>\n"},{"tags":["java","ios","rest","ssl","mobile"],"answers":[{"tags":[],"owner":{"account_id":1403473,"reputation":1791,"user_id":1331805,"accept_rate":78,"display_name":"GeoffreyB"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490047238,"creation_date":1490047238,"answer_id":42914775,"question_id":42914659,"body_markdown":"What I usually do is crafting a JSON web token (https://jwt.io/), and handle the sessions on my own.\r\n\r\nJWT is really nice, since you only need to define a secret key on the server side. As long as your clients are able to pass the string you crafted (inside the headers for example), and as long as nobody gets to retrieve your secret key, you are sure that every data you push when creating the token was generated by you. (Don&#39;t hesitate to use the strongest encryption algorithm)\r\n","title":"Rest API security for mobile apps","body":"<p>What I usually do is crafting a JSON web token (<a href=\"https://jwt.io/\" rel=\"nofollow noreferrer\">https://jwt.io/</a>), and handle the sessions on my own.</p>\n\n<p>JWT is really nice, since you only need to define a secret key on the server side. As long as your clients are able to pass the string you crafted (inside the headers for example), and as long as nobody gets to retrieve your secret key, you are sure that every data you push when creating the token was generated by you. (Don't hesitate to use the strongest encryption algorithm)</p>\n"},{"tags":[],"owner":{"account_id":203680,"reputation":112068,"user_id":451475,"accept_rate":100,"display_name":"zaph"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1490047706,"creation_date":1490047706,"answer_id":42914878,"question_id":42914659,"body_markdown":"For a secure connection use HTTPS at level TLS 1.2 level. Then pin the server certificate in the app, that will prevent MITM attacks.\r\n\r\nIt is safe to pass the user name and password. You can return a time-limited token for further authentication is needed/desired.\r\n\r\nWith HTTPS everything but the address portion of the URL is encrypted. But be careful with the query string, it may end up in the server logs.","title":"Rest API security for mobile apps","body":"<p>For a secure connection use HTTPS at level TLS 1.2 level. Then pin the server certificate in the app, that will prevent MITM attacks.</p>\n\n<p>It is safe to pass the user name and password. You can return a time-limited token for further authentication is needed/desired.</p>\n\n<p>With HTTPS everything but the address portion of the URL is encrypted. But be careful with the query string, it may end up in the server logs.</p>\n"},{"tags":[],"owner":{"account_id":1477722,"reputation":141,"user_id":1387735,"display_name":"user1387735"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490806203,"creation_date":1490806203,"answer_id":43099562,"question_id":42914659,"body_markdown":"Thanks again for these replies.  I&#39;ve been implementing my service to run under https by using server.ssl.key-store parameters and it looks like it&#39;s working okay.  I have used keytool.exe to create a trust store and I run my SpringBoot app (with Tomcat embedded) using that trust store. I can open a browser to my REST endpoint (using https this time, not http), the browser asks for authentication and when I enter my user details, it matches them against my db user and allows me to see the response from the server.\r\n\r\nOne question though, what&#39;s the point of having a trust store on the server side (Java) if I can just access the REST endpoint using any old browser and just enter my user name and password?  Eventually, this REST endpoint won&#39;t be accessed via a browser, it&#39;ll be accessed using a mobile app programmatically, so I assume I&#39;ll be logging on using that with username and password over https.  I thought I&#39;d need to have a certificate of some sort on the client side in order to communicate or does it not work like this?\r\n\r\nThanks again","title":"Rest API security for mobile apps","body":"<p>Thanks again for these replies.  I've been implementing my service to run under https by using server.ssl.key-store parameters and it looks like it's working okay.  I have used keytool.exe to create a trust store and I run my SpringBoot app (with Tomcat embedded) using that trust store. I can open a browser to my REST endpoint (using https this time, not http), the browser asks for authentication and when I enter my user details, it matches them against my db user and allows me to see the response from the server.</p>\n\n<p>One question though, what's the point of having a trust store on the server side (Java) if I can just access the REST endpoint using any old browser and just enter my user name and password?  Eventually, this REST endpoint won't be accessed via a browser, it'll be accessed using a mobile app programmatically, so I assume I'll be logging on using that with username and password over https.  I thought I'd need to have a certificate of some sort on the client side in order to communicate or does it not work like this?</p>\n\n<p>Thanks again</p>\n"},{"tags":[],"owner":{"account_id":8618867,"reputation":11924,"user_id":6454622,"display_name":"Exadra37"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1644232974,"creation_date":1551095010,"answer_id":54865425,"question_id":42914659,"body_markdown":"# OAUTH2 IS NOT ONLY FOR WEB\r\n\r\n&gt; Can anyone recommend any very simple reading on this? \r\n&gt;\r\n&gt; I&#39;ve looked at OAuth2 but that appears to be for logging into web services using another account (like Google, GitHub, etc).\r\n\r\nNo OAUTH2 is not only for web apps is also for mobile apps and you read [this article](https://www.oauth.com/oauth2-servers/mobile-and-native-apps/) for a more in depth explanation, but I will leave you with the article introduction:\r\n\r\n&gt; Like single-page apps, mobile apps also cannot maintain the confidentiality of a client secret. Because of this, mobile apps must also use an OAuth flow that does not require a client secret. The current best practice is to use the Authorization Flow along with launching an external browser, in order to ensure the native app cannot modify the browser window or inspect the contents. If the service supports PKCE, then that adds a layer of security to the mobile and native app flow.\r\n\r\nThe linked article is very brief, you will need to follow the next chapters to get the full picture.\r\n\r\n\r\n# DO NOT ROLL YOUR OWN AUTHENTICATION / AUTHORIZATION SOLUTION\r\n\r\n&gt; Would it be acceptable to login over https (SSL) by passing username and password to a rest endpoint and returning some sort of token (a GUID?). Then have the client (mobile app) pass that GUID with each subsequent call so the server can verify the call? \r\n\r\nWhile you can do it I strongly advise you to use an already established OAUTH2 or OPENID connect solution, because they are developed and maintained by experts in the field and battle tested by millions of web and mobile apps using them. This enables to identify ans fix security issues much more quickly that anyone could do in their own in-house solution.\r\n\r\n[OAuth2](https://oauth.net/2/)\r\n\r\n&gt; OAuth 2.0 is the industry-standard protocol for authorization. OAuth 2.0 supersedes the work done on the original OAuth protocol created in 2006. OAuth 2.0 focuses on client developer simplicity while providing specific authorization flows for web applications, desktop applications, mobile phones, and living room devices. This specification and its extensions are being developed within the [IETF OAuth Working Group](https://www.ietf.org/mailman/listinfo/oauth).\r\n\r\n[OpenID Connect](https://openid.net/connect/)\r\n\r\n&gt; OpenID Connect 1.0 is a simple identity layer on top of the OAuth 2.0 protocol. It allows Clients to verify the identity of the End-User based on the authentication performed by an Authorization Server, as well as to obtain basic profile information about the End-User in an interoperable and REST-like manner.\r\n&gt; OpenID Connect performs many of the same tasks as OpenID 2.0, but does so in a way that is API-friendly, and usable by native and mobile applications. OpenID Connect defines optional mechanisms for robust signing and encryption. Whereas integration of OAuth 1.0a and OpenID 2.0 required an extension, in OpenID Connect, OAuth 2.0 capabilities are integrated with the protocol itself.\r\n\r\nSo for your authentication/authorization needs I would recommend you to go with an OpenID connect solution, that leverages OAuth2 under the hood. \r\n\r\n# SSL IS ALWAYS NECESSARY?\r\n\r\n&gt; Is it better to just do everything over SSL in this scenario?\r\n\r\nSSL must be always used for everything, http MUST not be used at all in any situation, because once you allow an http request you are vulnerable to a man in the middle attack and I strongly recommend you to read [this article](https://www.troyhunt.com/heres-why-your-static-website-needs-https/) from a well know security researcher, Troy Hunt, to see how even a static website must use https and he goes to a great extent to explain why and names very important attack vectors that can harm an application not using https, like WiFi hot-spots hijacking, DNS Hijeacking, Router Exploits, China great cannon, and others.\r\n\r\n\r\n# IMPROVE SSL WITH CERTIFICATE PINNING\r\n\r\nCommunicating using https is the way to go for any kind of application but developers must be aware that an attacker in control of device where the application is installed can spy https traffic by doing a man in the middle attack with a custom certificate installed in the device the mobiel app is installed, enabling this way for him to understand how the mobile app communicates with the API server in order to mount automated attacks to abuse from same API.\r\n \r\n[Certificate Pinning](https://www.owasp.org/index.php/Certificate_and_Public_Key_Pinning)\r\n\r\n&gt; Pinning is the process of associating a host with their expected X509 certificate or public key. Once a certificate or public key is known or seen for a host, the certificate or public key is associated or &#39;pinned&#39; to the host. If more than one certificate or public key is acceptable, then the program holds a pinset (taking from Jon Larimer and Kenny Root Google I/O talk). In this case, the advertised identity must match one of the elements in the pinset.\r\n\r\nYou can read [this article](https://blog.approov.io/the-problem-with-pinning), with code sample to see how easy is to implement certificate pinning, how it can be difficult to maintain in the operational side, and with a video to see how an attacker can bypass pass certificate pinning in the client side by using Xposed framework.\r\n\r\n[xPosed](https://repo.xposed.info/module/de.robv.android.xposed.installer)\r\n&gt; Xposed is a framework for modules that can change the behavior of the system and apps without touching any APKs. That&#39;s great because it means that modules can work for different versions and even ROMs without any changes (as long as the original code was not changed too much). It&#39;s also easy to undo.\r\n\r\n**EDIT:**\r\n\r\nNowadays, you can use the Mobile Certificate Pinning Generator to help you with implementing certificate pinning in your mobile app:\r\n\r\n[![Mobile Certificate Pinning Generator - Config tab][1]][1]\r\n\r\nThat will give you a ready to use pinning configuration for Android and iOS:\r\n\r\n[![Mobile Certificate Pinning Generator - iOS Tab][2]][2]\r\n\r\n# RESEARCHING FOR A SOLUTION\r\n\r\nBefore I point you out to a possible solution I would like to make clear the distinction between 2 concepts that developers frequently are not aware off or take as being the same thing...\r\n\r\n### The Difference Between WHO and WHAT is Accessing the API Server\r\n\r\nThe **WHO** is the user of the mobile app that you can authenticate,authorize and identify in several ways, like using OpenID Connect or OAUTH2 flows.\r\n\r\nNow you need a way to identify **WHAT** is calling your API server and here things become more tricky than most developers may think. The **WHAT** is the thing making the request to the API server, is it really your genuine mobile app or is a bot, an automated script or an attacker manually poking around your API server with a tool like Postman?\r\n\r\nWell to identify the **WHAT** developers tend to resort to an API key that usually they hard-code in the code of their mobile app and some go the extra mile and compute it at run-time in the mobile app, thus becomes a dynamic secret in opposition to the former approach that is a static secret embedded in the code.\r\n\r\n### Some Mobile API Security Techniques\r\n\r\n&gt; I have done a fair bit of research but I don&#39;t seem to be able to find anything that quite matches what I&#39;m trying to do.\r\n\r\nYou can start by read [this series](https://blog.approov.io/tag/a-series-mobile-api-security) of articles about Mobile API Security techniques to understand how Https, Certificate Pinning, APi Keys, HMAC, OAuth2 and other techniques can be used to protect the communication channel between your mobile app and the API serve, and how they can be bypassed.\r\n\r\nTo solve the problem of **WHAT** is accessing your mobile app you need to use one or all the solutions mentioned in the series of articles about Mobile API Security Techniques that I mentioned above and accepted that they can only make unauthorized access to your API server harder to bypass but not impossible.\r\n\r\nA better solution can be employed by using a Mobile App Attestation solution that will enable the API server to know is receiving only requests from a genuine mobile app.\r\n\r\n# A POSSIBLE BETTER SOLUTION\r\n\r\nThe use of a Mobile App Attestation solution will enable the API server to know **WHAT** is sending the requests, thus allowing to respond only to requests from a genuine mobile app while rejecting all other requests from unsafe sources.\r\n\r\nThe role of a Mobile App Attestation service is to guarantee at run-time that your mobile app was not tampered or is not running in a rooted device by running a SDK in the background that will communicate with a service running in the cloud to attest the integrity of the mobile app and device is running on.\r\n\r\nOn successful attestation of the mobile app integrity a short time lived JWT token is issued and signed with a secret that only the API server and the Mobile App Attestation service in the cloud are aware. In the case of failure on the mobile app attestation the JWT token is signed with a secret that the API server does not know.\r\n\r\nNow the App must sent with every API call the JWT token in the headers of the request. This will allow the API server to only serve requests when it can verify the signature and expiration time in the JWT token and refuse them when it fails the verification.\r\n\r\nOnce the secret used by the Mobile App Attestation service is not known by the mobile app, is not possible to reverse engineer it at run-time even when the App is tampered, running in a rooted device or communicating over a connection that is being the target of a Man in the Middle Attack.\r\n\r\nThis is a positive model where false positives do not occur, thus the API server is able to deny requests with the confidence of not blocking legit users of your mobile app.\r\n\r\nThe Mobile App Attestation service already exists as a SAAS solution at [Approov](https://approov.io/approov-in-detail.html)(I work here) that provides SDKs for several platforms, including iOS, Android, React Native and others. The integration will also need a small check in the API server code to verify the JWT token issued by the cloud service. This check is necessary for the API server to be able to decide what requests to serve and what ones to deny.\r\n\r\n\r\n# CONCLUSION\r\n\r\nProperly securing a mobile app and the API server is a task composed of several layers of defense that you must put together in order to protect it. \r\n\r\nHow many layers to use will depend on the data your are protecting, the value it have for the business, the damage it can cause when leaked in a data breach and how much you may be penalized by law enforcement, like GDPR in Europe.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/D6780.png\r\n  [2]: https://i.stack.imgur.com/kL2Wr.png","title":"Rest API security for mobile apps","body":"<h1>OAUTH2 IS NOT ONLY FOR WEB</h1>\n<blockquote>\n<p>Can anyone recommend any very simple reading on this?</p>\n<p>I've looked at OAuth2 but that appears to be for logging into web services using another account (like Google, GitHub, etc).</p>\n</blockquote>\n<p>No OAUTH2 is not only for web apps is also for mobile apps and you read <a href=\"https://www.oauth.com/oauth2-servers/mobile-and-native-apps/\" rel=\"nofollow noreferrer\">this article</a> for a more in depth explanation, but I will leave you with the article introduction:</p>\n<blockquote>\n<p>Like single-page apps, mobile apps also cannot maintain the confidentiality of a client secret. Because of this, mobile apps must also use an OAuth flow that does not require a client secret. The current best practice is to use the Authorization Flow along with launching an external browser, in order to ensure the native app cannot modify the browser window or inspect the contents. If the service supports PKCE, then that adds a layer of security to the mobile and native app flow.</p>\n</blockquote>\n<p>The linked article is very brief, you will need to follow the next chapters to get the full picture.</p>\n<h1>DO NOT ROLL YOUR OWN AUTHENTICATION / AUTHORIZATION SOLUTION</h1>\n<blockquote>\n<p>Would it be acceptable to login over https (SSL) by passing username and password to a rest endpoint and returning some sort of token (a GUID?). Then have the client (mobile app) pass that GUID with each subsequent call so the server can verify the call?</p>\n</blockquote>\n<p>While you can do it I strongly advise you to use an already established OAUTH2 or OPENID connect solution, because they are developed and maintained by experts in the field and battle tested by millions of web and mobile apps using them. This enables to identify ans fix security issues much more quickly that anyone could do in their own in-house solution.</p>\n<p><a href=\"https://oauth.net/2/\" rel=\"nofollow noreferrer\">OAuth2</a></p>\n<blockquote>\n<p>OAuth 2.0 is the industry-standard protocol for authorization. OAuth 2.0 supersedes the work done on the original OAuth protocol created in 2006. OAuth 2.0 focuses on client developer simplicity while providing specific authorization flows for web applications, desktop applications, mobile phones, and living room devices. This specification and its extensions are being developed within the <a href=\"https://www.ietf.org/mailman/listinfo/oauth\" rel=\"nofollow noreferrer\">IETF OAuth Working Group</a>.</p>\n</blockquote>\n<p><a href=\"https://openid.net/connect/\" rel=\"nofollow noreferrer\">OpenID Connect</a></p>\n<blockquote>\n<p>OpenID Connect 1.0 is a simple identity layer on top of the OAuth 2.0 protocol. It allows Clients to verify the identity of the End-User based on the authentication performed by an Authorization Server, as well as to obtain basic profile information about the End-User in an interoperable and REST-like manner.\nOpenID Connect performs many of the same tasks as OpenID 2.0, but does so in a way that is API-friendly, and usable by native and mobile applications. OpenID Connect defines optional mechanisms for robust signing and encryption. Whereas integration of OAuth 1.0a and OpenID 2.0 required an extension, in OpenID Connect, OAuth 2.0 capabilities are integrated with the protocol itself.</p>\n</blockquote>\n<p>So for your authentication/authorization needs I would recommend you to go with an OpenID connect solution, that leverages OAuth2 under the hood.</p>\n<h1>SSL IS ALWAYS NECESSARY?</h1>\n<blockquote>\n<p>Is it better to just do everything over SSL in this scenario?</p>\n</blockquote>\n<p>SSL must be always used for everything, http MUST not be used at all in any situation, because once you allow an http request you are vulnerable to a man in the middle attack and I strongly recommend you to read <a href=\"https://www.troyhunt.com/heres-why-your-static-website-needs-https/\" rel=\"nofollow noreferrer\">this article</a> from a well know security researcher, Troy Hunt, to see how even a static website must use https and he goes to a great extent to explain why and names very important attack vectors that can harm an application not using https, like WiFi hot-spots hijacking, DNS Hijeacking, Router Exploits, China great cannon, and others.</p>\n<h1>IMPROVE SSL WITH CERTIFICATE PINNING</h1>\n<p>Communicating using https is the way to go for any kind of application but developers must be aware that an attacker in control of device where the application is installed can spy https traffic by doing a man in the middle attack with a custom certificate installed in the device the mobiel app is installed, enabling this way for him to understand how the mobile app communicates with the API server in order to mount automated attacks to abuse from same API.</p>\n<p><a href=\"https://www.owasp.org/index.php/Certificate_and_Public_Key_Pinning\" rel=\"nofollow noreferrer\">Certificate Pinning</a></p>\n<blockquote>\n<p>Pinning is the process of associating a host with their expected X509 certificate or public key. Once a certificate or public key is known or seen for a host, the certificate or public key is associated or 'pinned' to the host. If more than one certificate or public key is acceptable, then the program holds a pinset (taking from Jon Larimer and Kenny Root Google I/O talk). In this case, the advertised identity must match one of the elements in the pinset.</p>\n</blockquote>\n<p>You can read <a href=\"https://blog.approov.io/the-problem-with-pinning\" rel=\"nofollow noreferrer\">this article</a>, with code sample to see how easy is to implement certificate pinning, how it can be difficult to maintain in the operational side, and with a video to see how an attacker can bypass pass certificate pinning in the client side by using Xposed framework.</p>\n<p><a href=\"https://repo.xposed.info/module/de.robv.android.xposed.installer\" rel=\"nofollow noreferrer\">xPosed</a></p>\n<blockquote>\n<p>Xposed is a framework for modules that can change the behavior of the system and apps without touching any APKs. That's great because it means that modules can work for different versions and even ROMs without any changes (as long as the original code was not changed too much). It's also easy to undo.</p>\n</blockquote>\n<p><strong>EDIT:</strong></p>\n<p>Nowadays, you can use the Mobile Certificate Pinning Generator to help you with implementing certificate pinning in your mobile app:</p>\n<p><a href=\"https://i.stack.imgur.com/D6780.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/D6780.png\" alt=\"Mobile Certificate Pinning Generator - Config tab\" /></a></p>\n<p>That will give you a ready to use pinning configuration for Android and iOS:</p>\n<p><a href=\"https://i.stack.imgur.com/kL2Wr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kL2Wr.png\" alt=\"Mobile Certificate Pinning Generator - iOS Tab\" /></a></p>\n<h1>RESEARCHING FOR A SOLUTION</h1>\n<p>Before I point you out to a possible solution I would like to make clear the distinction between 2 concepts that developers frequently are not aware off or take as being the same thing...</p>\n<h3>The Difference Between WHO and WHAT is Accessing the API Server</h3>\n<p>The <strong>WHO</strong> is the user of the mobile app that you can authenticate,authorize and identify in several ways, like using OpenID Connect or OAUTH2 flows.</p>\n<p>Now you need a way to identify <strong>WHAT</strong> is calling your API server and here things become more tricky than most developers may think. The <strong>WHAT</strong> is the thing making the request to the API server, is it really your genuine mobile app or is a bot, an automated script or an attacker manually poking around your API server with a tool like Postman?</p>\n<p>Well to identify the <strong>WHAT</strong> developers tend to resort to an API key that usually they hard-code in the code of their mobile app and some go the extra mile and compute it at run-time in the mobile app, thus becomes a dynamic secret in opposition to the former approach that is a static secret embedded in the code.</p>\n<h3>Some Mobile API Security Techniques</h3>\n<blockquote>\n<p>I have done a fair bit of research but I don't seem to be able to find anything that quite matches what I'm trying to do.</p>\n</blockquote>\n<p>You can start by read <a href=\"https://blog.approov.io/tag/a-series-mobile-api-security\" rel=\"nofollow noreferrer\">this series</a> of articles about Mobile API Security techniques to understand how Https, Certificate Pinning, APi Keys, HMAC, OAuth2 and other techniques can be used to protect the communication channel between your mobile app and the API serve, and how they can be bypassed.</p>\n<p>To solve the problem of <strong>WHAT</strong> is accessing your mobile app you need to use one or all the solutions mentioned in the series of articles about Mobile API Security Techniques that I mentioned above and accepted that they can only make unauthorized access to your API server harder to bypass but not impossible.</p>\n<p>A better solution can be employed by using a Mobile App Attestation solution that will enable the API server to know is receiving only requests from a genuine mobile app.</p>\n<h1>A POSSIBLE BETTER SOLUTION</h1>\n<p>The use of a Mobile App Attestation solution will enable the API server to know <strong>WHAT</strong> is sending the requests, thus allowing to respond only to requests from a genuine mobile app while rejecting all other requests from unsafe sources.</p>\n<p>The role of a Mobile App Attestation service is to guarantee at run-time that your mobile app was not tampered or is not running in a rooted device by running a SDK in the background that will communicate with a service running in the cloud to attest the integrity of the mobile app and device is running on.</p>\n<p>On successful attestation of the mobile app integrity a short time lived JWT token is issued and signed with a secret that only the API server and the Mobile App Attestation service in the cloud are aware. In the case of failure on the mobile app attestation the JWT token is signed with a secret that the API server does not know.</p>\n<p>Now the App must sent with every API call the JWT token in the headers of the request. This will allow the API server to only serve requests when it can verify the signature and expiration time in the JWT token and refuse them when it fails the verification.</p>\n<p>Once the secret used by the Mobile App Attestation service is not known by the mobile app, is not possible to reverse engineer it at run-time even when the App is tampered, running in a rooted device or communicating over a connection that is being the target of a Man in the Middle Attack.</p>\n<p>This is a positive model where false positives do not occur, thus the API server is able to deny requests with the confidence of not blocking legit users of your mobile app.</p>\n<p>The Mobile App Attestation service already exists as a SAAS solution at <a href=\"https://approov.io/approov-in-detail.html\" rel=\"nofollow noreferrer\">Approov</a>(I work here) that provides SDKs for several platforms, including iOS, Android, React Native and others. The integration will also need a small check in the API server code to verify the JWT token issued by the cloud service. This check is necessary for the API server to be able to decide what requests to serve and what ones to deny.</p>\n<h1>CONCLUSION</h1>\n<p>Properly securing a mobile app and the API server is a task composed of several layers of defense that you must put together in order to protect it.</p>\n<p>How many layers to use will depend on the data your are protecting, the value it have for the business, the damage it can cause when leaked in a data breach and how much you may be penalized by law enforcement, like GDPR in Europe.</p>\n"}],"owner":{"account_id":1477722,"reputation":141,"user_id":1387735,"display_name":"user1387735"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2958,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1644232974,"creation_date":1490046863,"question_id":42914659,"body_markdown":"I&#39;m in the process of designing a mobile application that will need to connect to a server-side process for its business logic and data transactions.  I&#39;m writing my server-side code in Java using Spring Boot and I intend to create a Rest API in order for the mobile app to connect to the server.\r\n\r\nI&#39;m just doing some research at the moment for the best way to secure the connection between mobile app and server.  What I&#39;d like to do is allow the user on the mobile app to log in once they open the app and for them to use the app for as long as they like and for their access to time out after a period of inactivity.\r\n\r\nCan anyone recommend any very simple reading on this?  I&#39;ve looked at OAuth2 but that appears to be for logging into web services using another account (like Google, GitHub, etc).\r\n\r\nWould it be acceptable to login over https (SSL) by passing username and password to a rest endpoint and returning some sort of token (a GUID?).  Then have the client (mobile app) pass that GUID with each subsequent call so the server can verify the call?  Is it better to just do everything over SSL in this scenario?\r\n\r\nI have done a fair bit of research but I don&#39;t seem to be able to find anything that quite matches what I&#39;m trying to do.\r\n\r\nHope someone can help\r\n\r\nThanks","title":"Rest API security for mobile apps","body":"<p>I'm in the process of designing a mobile application that will need to connect to a server-side process for its business logic and data transactions.  I'm writing my server-side code in Java using Spring Boot and I intend to create a Rest API in order for the mobile app to connect to the server.</p>\n\n<p>I'm just doing some research at the moment for the best way to secure the connection between mobile app and server.  What I'd like to do is allow the user on the mobile app to log in once they open the app and for them to use the app for as long as they like and for their access to time out after a period of inactivity.</p>\n\n<p>Can anyone recommend any very simple reading on this?  I've looked at OAuth2 but that appears to be for logging into web services using another account (like Google, GitHub, etc).</p>\n\n<p>Would it be acceptable to login over https (SSL) by passing username and password to a rest endpoint and returning some sort of token (a GUID?).  Then have the client (mobile app) pass that GUID with each subsequent call so the server can verify the call?  Is it better to just do everything over SSL in this scenario?</p>\n\n<p>I have done a fair bit of research but I don't seem to be able to find anything that quite matches what I'm trying to do.</p>\n\n<p>Hope someone can help</p>\n\n<p>Thanks</p>\n"},{"tags":["java","android","android-studio","kotlin"],"answers":[{"tags":[],"owner":{"account_id":5784888,"reputation":523,"user_id":4564449,"accept_rate":67,"display_name":"Sceada"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644232523,"creation_date":1644232523,"answer_id":71017638,"question_id":70906066,"body_markdown":"This plugin is outdated since 2020 I guess, same with the Library. \r\nAn up to date Library based on the old one can be found here https://github.com/SceneView/sceneform-android\r\nThe SFB-Support has been abandoned. The new kid on block is called glb/gltf. If you know Blender you can convert your OBJ-files to GLB-files https://docs.blender.org/manual/en/2.80/addons/io_scene_gltf2.html\r\nIf you have still questions feel free to join the SceneView Discord-Server https://discord.gg/UbNDDBTNqb\r\n","title":"How to use obj file at ARCore with new version of android studio","body":"<p>This plugin is outdated since 2020 I guess, same with the Library.\nAn up to date Library based on the old one can be found here <a href=\"https://github.com/SceneView/sceneform-android\" rel=\"nofollow noreferrer\">https://github.com/SceneView/sceneform-android</a>\nThe SFB-Support has been abandoned. The new kid on block is called glb/gltf. If you know Blender you can convert your OBJ-files to GLB-files <a href=\"https://docs.blender.org/manual/en/2.80/addons/io_scene_gltf2.html\" rel=\"nofollow noreferrer\">https://docs.blender.org/manual/en/2.80/addons/io_scene_gltf2.html</a>\nIf you have still questions feel free to join the SceneView Discord-Server <a href=\"https://discord.gg/UbNDDBTNqb\" rel=\"nofollow noreferrer\">https://discord.gg/UbNDDBTNqb</a></p>\n"}],"owner":{"account_id":4103894,"reputation":17105,"user_id":3369042,"accept_rate":60,"display_name":"S.M_Emamian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":802,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644232523,"creation_date":1643464098,"question_id":70906066,"body_markdown":"I&#39;m using:\r\n\r\n    Android Studio Bumblebee | 2021.1.1\r\n\r\nnow I want to render an obj file.\r\neach obj file have three files:\r\n1. obj file\r\n2. mtl file\r\n3. a jpg/png file\r\n\r\nIn previous versions of Android Studio I used to convert these 3 files into one file (sfb).\r\n\r\n1. Install the Google Sceneform Tools plugin from plugins.\r\n2. Create a sampleData folder in your project&#39;s app folder.\r\n3. Copy your 3D model source asset file (three files)\r\n4. Right-click the 3D model and select Import Sceneform Asset.\r\n5. Change the path or name as per the requirements.\r\n6. Click Finish to begin the import process.\r\n7. You will find the .sfb file at the location that you mentioned in the fifth point.\r\n\r\n\r\nthen I used this file to render my 3d file (the my texture was inside of this sfb file.)\r\nbut this version not supported `Google Sceneform Tools plugin`. \r\n","title":"How to use obj file at ARCore with new version of android studio","body":"<p>I'm using:</p>\n<pre><code>Android Studio Bumblebee | 2021.1.1\n</code></pre>\n<p>now I want to render an obj file.\neach obj file have three files:</p>\n<ol>\n<li>obj file</li>\n<li>mtl file</li>\n<li>a jpg/png file</li>\n</ol>\n<p>In previous versions of Android Studio I used to convert these 3 files into one file (sfb).</p>\n<ol>\n<li>Install the Google Sceneform Tools plugin from plugins.</li>\n<li>Create a sampleData folder in your project's app folder.</li>\n<li>Copy your 3D model source asset file (three files)</li>\n<li>Right-click the 3D model and select Import Sceneform Asset.</li>\n<li>Change the path or name as per the requirements.</li>\n<li>Click Finish to begin the import process.</li>\n<li>You will find the .sfb file at the location that you mentioned in the fifth point.</li>\n</ol>\n<p>then I used this file to render my 3d file (the my texture was inside of this sfb file.)\nbut this version not supported <code>Google Sceneform Tools plugin</code>.</p>\n"},{"tags":["java","unity-game-engine","kotlin","augmented-reality","arcore"],"comments":[{"owner":{"account_id":8296744,"reputation":4073,"user_id":6236752,"accept_rate":100,"display_name":"Nouman Ch"},"score":0,"creation_date":1568703911,"post_id":53053083,"comment_id":102348155,"body_markdown":"how to do this for android?","body":"how to do this for android?"}],"answers":[{"tags":[],"owner":{"account_id":8834917,"reputation":50835,"user_id":6599590,"accept_rate":96,"display_name":"Andy Jazz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1540853824,"creation_date":1540853824,"answer_id":53055096,"question_id":53053083,"body_markdown":"Try `DestroyImmediate(session)` or `Destroy(session)`. One of them may work.\r\n\r\n    ARCoreSession session = goARCoreDevice.GetComponent&lt;ARCoreSession&gt;();\r\n    ARCoreSessionConfig myConfig = session.SessionConfig;\r\n\r\n    DestroyImmediate(session);\r\n    // Destroy(session);\r\n\r\n    yield return null;\r\n\r\n    session = goARCoreDevice.AddComponent&lt;ARCoreSession&gt;();\r\n    session.SessionConfig = myConfig;\r\n    session.enabled = true;\r\n\r\nHope this helps.","title":"How to reset or restart the ARCore session?","body":"<p>Try <code>DestroyImmediate(session)</code> or <code>Destroy(session)</code>. One of them may work.</p>\n\n<pre><code>ARCoreSession session = goARCoreDevice.GetComponent&lt;ARCoreSession&gt;();\nARCoreSessionConfig myConfig = session.SessionConfig;\n\nDestroyImmediate(session);\n// Destroy(session);\n\nyield return null;\n\nsession = goARCoreDevice.AddComponent&lt;ARCoreSession&gt;();\nsession.SessionConfig = myConfig;\nsession.enabled = true;\n</code></pre>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":9564031,"reputation":12915,"user_id":7103882,"display_name":"Codemaker2015"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578487363,"creation_date":1578487363,"answer_id":59646120,"question_id":53053083,"body_markdown":"For disabling the ARCore session,\r\n\r\n    GameObject.Find (&quot;ARCore Device&quot;).GetComponent&lt;ARCoreSession&gt; ().enabled = false;\r\n\r\nFor resetting the ARCore session,\r\n\r\n    //Resetting ARCoreSession\r\n    ARCoreSession session = GameObject.Find (&quot;ARCore Device&quot;).GetComponent&lt;ARCoreSession&gt; ();\r\n    ARCoreSessionConfig myConfig = session.SessionConfig;\r\n    DestroyImmediate (session);","title":"How to reset or restart the ARCore session?","body":"<p>For disabling the ARCore session,</p>\n\n<pre><code>GameObject.Find (\"ARCore Device\").GetComponent&lt;ARCoreSession&gt; ().enabled = false;\n</code></pre>\n\n<p>For resetting the ARCore session,</p>\n\n<pre><code>//Resetting ARCoreSession\nARCoreSession session = GameObject.Find (\"ARCore Device\").GetComponent&lt;ARCoreSession&gt; ();\nARCoreSessionConfig myConfig = session.SessionConfig;\nDestroyImmediate (session);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3053718,"reputation":505,"user_id":2587808,"accept_rate":60,"display_name":"Andrea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644232353,"creation_date":1644232006,"answer_id":71017514,"question_id":53053083,"body_markdown":"In my case, I inherited a Unity3D ARCore project a bit weirdly setup.\r\n\r\nThe easiest solution in my case, in order to correctly reset the session (otherwise it would not restart tracking on scene load) was to first find the ARCore Device gameobject and uncheck the script enabled in the Unity3D editor.\r\n\r\nOnce that was done, I just needed to find the ARCoreSession in the Awake() function (but you may need it to do that in Start(), depending on how your project is setup if you have other pre-conditions) and then simply enable the script\r\n\r\n    GoogleARCore.ARCoreSession g = GameObject.Find(&quot;ARCore Device&quot;).GetComponent&lt;GoogleARCore.ARCoreSession&gt;();\r\n    g.enabled = true;\r\n\r\n","title":"How to reset or restart the ARCore session?","body":"<p>In my case, I inherited a Unity3D ARCore project a bit weirdly setup.</p>\n<p>The easiest solution in my case, in order to correctly reset the session (otherwise it would not restart tracking on scene load) was to first find the ARCore Device gameobject and uncheck the script enabled in the Unity3D editor.</p>\n<p>Once that was done, I just needed to find the ARCoreSession in the Awake() function (but you may need it to do that in Start(), depending on how your project is setup if you have other pre-conditions) and then simply enable the script</p>\n<pre><code>GoogleARCore.ARCoreSession g = GameObject.Find(&quot;ARCore Device&quot;).GetComponent&lt;GoogleARCore.ARCoreSession&gt;();\ng.enabled = true;\n</code></pre>\n"}],"owner":{"account_id":556677,"reputation":503,"user_id":1193873,"display_name":"Mikiko Jane"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4592,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":53055096,"answer_count":3,"score":5,"last_activity_date":1644232353,"creation_date":1540843726,"question_id":53053083,"body_markdown":"I need to `reset`/`restart` the ARCore session. In ARKit, I just have to create a new configuration and execute the `RunWithConfigAndOptions` method, but I can&#39;t find any information on how to do this in ARCore. The following is the code I use in Unity for ARKit:\r\n\r\n    ARKitWorldTrackingSessionConfiguration config = new ARKitWorldTrackingSessionConfiguration();\r\n    config.planeDetection = UnityARPlaneDetection.Horizontal;\r\n    config.alignment = UnityARAlignment.UnityARAlignmentGravity;\r\n    config.enableLightEstimation = true;  \r\n\r\n    UnityARSessionNativeInterface.GetARSessionNativeInterface().RunWithConfigAndOptions(config, \r\n                                                                                        UnityARSessionRunOption.ARSessionRunOptionRemoveExistingAnchors | \r\n                                                                                        UnityARSessionRunOption.ARSessionRunOptionResetTracking);\r\n\r\nI&#39;m working in Unity, but I guess any information will be useful.\r\n\r\nThanks\r\n\r\n","title":"How to reset or restart the ARCore session?","body":"<p>I need to <code>reset</code>/<code>restart</code> the ARCore session. In ARKit, I just have to create a new configuration and execute the <code>RunWithConfigAndOptions</code> method, but I can't find any information on how to do this in ARCore. The following is the code I use in Unity for ARKit:</p>\n\n<pre><code>ARKitWorldTrackingSessionConfiguration config = new ARKitWorldTrackingSessionConfiguration();\nconfig.planeDetection = UnityARPlaneDetection.Horizontal;\nconfig.alignment = UnityARAlignment.UnityARAlignmentGravity;\nconfig.enableLightEstimation = true;  \n\nUnityARSessionNativeInterface.GetARSessionNativeInterface().RunWithConfigAndOptions(config, \n                                                                                    UnityARSessionRunOption.ARSessionRunOptionRemoveExistingAnchors | \n                                                                                    UnityARSessionRunOption.ARSessionRunOptionResetTracking);\n</code></pre>\n\n<p>I'm working in Unity, but I guess any information will be useful.</p>\n\n<p>Thanks</p>\n"},{"tags":["java","while-loop"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1644209778,"post_id":71013536,"comment_id":125535258,"body_markdown":"Well if you are trying to compute `e` ... that is `e^1`.  In other words `x` is `1`.  (High school maths!)  Otherwise, it is unclear what you are really asking here.  It doesn&#39;t make sense to compute `e^x` if you don&#39;t know what the value of `x` is, and don&#39;t ask.  (But I don&#39;t see anything in the problem statement to say that you can&#39;t ask what `x` is.)","body":"Well if you are trying to compute <code>e</code> ... that is <code>e^1</code>.  In other words <code>x</code> is <code>1</code>.  (High school maths!)  Otherwise, it is unclear what you are really asking here.  It doesn&#39;t make sense to compute <code>e^x</code> if you don&#39;t know what the value of <code>x</code> is, and don&#39;t ask.  (But I don&#39;t see anything in the problem statement to say that you can&#39;t ask what <code>x</code> is.)"},{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1644212331,"post_id":71013536,"comment_id":125535735,"body_markdown":"Is your teacher expecting a numerical answer, or do they want you to literally output the expression `1 + x + x^2 / 2 + ...` as a string?","body":"Is your teacher expecting a numerical answer, or do they want you to literally output the expression <code>1 + x + x^2 &#47; 2 + ...</code> as a string?"},{"owner":{"account_id":23243440,"reputation":13,"user_id":17332335,"display_name":"gnarlee"},"score":0,"creation_date":1644213700,"post_id":71013536,"comment_id":125536024,"body_markdown":"They&#39;re looking for a numerical answer. e is supposed to represent Euler&#39;s number, I&#39;m supposed to be writing a while loop to prove what e^x is","body":"They&#39;re looking for a numerical answer. e is supposed to represent Euler&#39;s number, I&#39;m supposed to be writing a while loop to prove what e^x is"}],"answers":[{"tags":[],"owner":{"account_id":1232799,"reputation":1734,"user_id":1197030,"display_name":"Joeblade"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644232333,"creation_date":1644232333,"answer_id":71017585,"question_id":71013536,"body_markdown":"Firstly the question you seem to be asking:\r\n\r\nThere is no way to make a program that will give e for a specific number unless you ask the user for that number. \r\n\r\nHowever it might be that they just want you to make a method that provides the solution (if it were called) independently of user input. (because the code to get user input isn&#39;t very interesting, what is interesting is how you reach the result).\r\n\r\nAn alternative way to provide x and n are for instance passing them as commandline arguments. (args[] in your main would be a way to provide them)\r\n\r\n\r\nI would create a separate method that receives x and n that covers the main calculation: \r\n\r\n    e^x = 1 + (x/1!) + (x^2/2!) + (x^3/3!) + ...\r\n\r\nAnd separate methods that cover &#39;calculating a single term (x^1/1!), (x^2/2!), etc&#39; and &#39;factorialize(n)&#39;\r\n\r\n    public void calculatePartialE_term(int x, int n) {\r\n        if (n == 0) {\r\n            return 1; // this will allow you to use a while loop, covers the n = 0 case\r\n        } else {\r\n            // removed the implementation, but basically do \r\n            // x^n/n! here for whatever value of n this term is calculating.\r\n        }\r\n    }\r\n\r\n    public int calcualteNFactorial(int n) {\r\n        // assert n &gt;= 1\r\n        // use a while loop to calculate n factorial\r\n    }\r\n\r\nthe benefit of doing this in a separate methods is that you can prove / verify the working of calculatePartialE_term or calcualteNFactorial independently of one another.\r\n\r\nnow you can simply write a while loop based on x and n to do something like\r\n\r\n    public int calculateE_to_x(int x, int n) {\r\n        int current = 0;\r\n        int sum = 0;\r\n        while (current &lt;= n) {\r\n            sum += calculatePartialE_term(x, current);\r\n        }\r\n    }\r\n\r\nI wouldn&#39;t expect your teacher to expect you to show code that handles user input but even if that is the case it will be easier for them to verify your work if the actual work (of calculating) is done in a separate method. ","title":"How to write a java program that computes the value of e^x","body":"<p>Firstly the question you seem to be asking:</p>\n<p>There is no way to make a program that will give e for a specific number unless you ask the user for that number.</p>\n<p>However it might be that they just want you to make a method that provides the solution (if it were called) independently of user input. (because the code to get user input isn't very interesting, what is interesting is how you reach the result).</p>\n<p>An alternative way to provide x and n are for instance passing them as commandline arguments. (args[] in your main would be a way to provide them)</p>\n<p>I would create a separate method that receives x and n that covers the main calculation:</p>\n<pre><code>e^x = 1 + (x/1!) + (x^2/2!) + (x^3/3!) + ...\n</code></pre>\n<p>And separate methods that cover 'calculating a single term (x^1/1!), (x^2/2!), etc' and 'factorialize(n)'</p>\n<pre><code>public void calculatePartialE_term(int x, int n) {\n    if (n == 0) {\n        return 1; // this will allow you to use a while loop, covers the n = 0 case\n    } else {\n        // removed the implementation, but basically do \n        // x^n/n! here for whatever value of n this term is calculating.\n    }\n}\n\npublic int calcualteNFactorial(int n) {\n    // assert n &gt;= 1\n    // use a while loop to calculate n factorial\n}\n</code></pre>\n<p>the benefit of doing this in a separate methods is that you can prove / verify the working of calculatePartialE_term or calcualteNFactorial independently of one another.</p>\n<p>now you can simply write a while loop based on x and n to do something like</p>\n<pre><code>public int calculateE_to_x(int x, int n) {\n    int current = 0;\n    int sum = 0;\n    while (current &lt;= n) {\n        sum += calculatePartialE_term(x, current);\n    }\n}\n</code></pre>\n<p>I wouldn't expect your teacher to expect you to show code that handles user input but even if that is the case it will be easier for them to verify your work if the actual work (of calculating) is done in a separate method.</p>\n"}],"owner":{"account_id":23243440,"reputation":13,"user_id":17332335,"display_name":"gnarlee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":482,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1644232333,"creation_date":1644208468,"question_id":71013536,"body_markdown":"I&#39;m trying to figure out how to answer this question for my Java class, using only while loops:\r\n\r\n&gt;Write an application that computes the value of mathematical constant e^x by using the following formula. Allow the user to enter the number of terms to calculate. e^x = 1 + (x/1!) + (x^2/2!) + (x^3/3!) + ...\r\n\r\nI can&#39;t figure out how I would do this without also asking the user for a value for x? Below is the code that I created for calculating x with the number of terms and just the number 1 for the exponent of each fraction. Any help is appreciated\r\n\r\n    import java.util.Scanner;\r\n    public class FactorialB {\r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            int counter = 0;\r\n            float answer = 0;\r\n    \r\n            System.out.print(&quot;Enter number of terms: &quot;);\r\n    \tint n = scanner.nextInt();\r\n    \r\n    \twhile (counter &lt; n) {\r\n                double factorial = 1;\r\n                int factCounter = counter;\r\n                while (factCounter &gt; 1) {\r\n    \t\tfactorial = factCounter * factorial;\r\n    \t\tfactCounter--;\r\n                }\r\n                \r\n                answer += 1 / factorial;\r\n                counter++;\r\n    \t}\r\n    \r\n    \tSystem.out.printf(&quot;e = %f%n&quot;, answer);\r\n        }\r\n    }\r\n\r\n\r\n\r\n\r\n","title":"How to write a java program that computes the value of e^x","body":"<p>I'm trying to figure out how to answer this question for my Java class, using only while loops:</p>\n<blockquote>\n<p>Write an application that computes the value of mathematical constant e^x by using the following formula. Allow the user to enter the number of terms to calculate. e^x = 1 + (x/1!) + (x^2/2!) + (x^3/3!) + ...</p>\n</blockquote>\n<p>I can't figure out how I would do this without also asking the user for a value for x? Below is the code that I created for calculating x with the number of terms and just the number 1 for the exponent of each fraction. Any help is appreciated</p>\n<pre><code>import java.util.Scanner;\npublic class FactorialB {\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        int counter = 0;\n        float answer = 0;\n\n        System.out.print(&quot;Enter number of terms: &quot;);\n    int n = scanner.nextInt();\n\n    while (counter &lt; n) {\n            double factorial = 1;\n            int factCounter = counter;\n            while (factCounter &gt; 1) {\n        factorial = factCounter * factorial;\n        factCounter--;\n            }\n            \n            answer += 1 / factorial;\n            counter++;\n    }\n\n    System.out.printf(&quot;e = %f%n&quot;, answer);\n    }\n}\n</code></pre>\n"},{"tags":["java","android","string","double"],"comments":[{"owner":{"account_id":2611382,"reputation":6389,"user_id":2261424,"accept_rate":100,"display_name":"AntonH"},"score":0,"creation_date":1396388373,"post_id":22797382,"comment_id":34763031,"body_markdown":"Use `String#split` to get array of doubles in `String` format, then use `Double` class.","body":"Use <code>String#split</code> to get array of doubles in <code>String</code> format, then use <code>Double</code> class."}],"answers":[{"tags":[],"owner":{"account_id":2619749,"reputation":2637,"user_id":2268061,"accept_rate":64,"display_name":"Matej Špil&#225;r"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1396388461,"creation_date":1396388461,"answer_id":22797434,"question_id":22797382,"body_markdown":"You can do it like ...\r\n\r\n    String s = &quot;122.32,20.543&quot;;\r\n    String[] splitted = s.split(&quot;,&quot;);\r\n    \r\n    for(String value: splitted){\r\n        Log.w(&quot;Activity&quot;,Double.parseDouble(value));\r\n    }","title":"convert string to double (java/android)","body":"<p>You can do it like ...</p>\n\n<pre><code>String s = \"122.32,20.543\";\nString[] splitted = s.split(\",\");\n\nfor(String value: splitted){\n    Log.w(\"Activity\",Double.parseDouble(value));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23146679,"reputation":1,"user_id":17249335,"display_name":"THABO MATHEBULA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644232230,"creation_date":1644231788,"answer_id":71017463,"question_id":22797382,"body_markdown":"    \r\nUse Double.parseDouble() which takes in a string\r\n\r\n    String s1 = &quot;122.32&quot;;\r\n    String s2 = &quot;20.543&quot;;\r\n    double d1 = Double.parseDouble(s1);\r\n    double d2 = Double.parseDouble(s2);\r\n\r\n\r\n        \r\n// &quot;d1 and d2&quot; will be a &quot;double&quot; formats of string &quot;s1 and s2&quot;, \r\n\r\n","title":"convert string to double (java/android)","body":"<p>Use Double.parseDouble() which takes in a string</p>\n<pre><code>String s1 = &quot;122.32&quot;;\nString s2 = &quot;20.543&quot;;\ndouble d1 = Double.parseDouble(s1);\ndouble d2 = Double.parseDouble(s2);\n\n\n    \n</code></pre>\n<p>// &quot;d1 and d2&quot; will be a &quot;double&quot; formats of string &quot;s1 and s2&quot;,</p>\n"}],"owner":{"account_id":4238373,"reputation":1,"user_id":3468963,"display_name":"user3468963"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":445,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":2,"score":-2,"last_activity_date":1644232230,"creation_date":1396388300,"question_id":22797382,"body_markdown":"I have string like `&quot;122.32,20.543&quot;`. I tried to use `DecimalFormatSymbols`, but I had some problems.\r\nHow to convert it to double like `double1 = 122.32` and `double = 20.543` in Java /android.","title":"convert string to double (java/android)","body":"<p>I have string like <code>\"122.32,20.543\"</code>. I tried to use <code>DecimalFormatSymbols</code>, but I had some problems.\nHow to convert it to double like <code>double1 = 122.32</code> and <code>double = 20.543</code> in Java /android.</p>\n"},{"tags":["java","jsp"],"comments":[{"owner":{"account_id":8712968,"reputation":312,"user_id":6518591,"display_name":"Abhinav Pandey"},"score":0,"creation_date":1644229325,"post_id":71016770,"comment_id":125540580,"body_markdown":"Could you please use javascript/jquery tags as well? Also, it would be nice to indent the code block better. When you say loader is not working, do you mean the response is coming too quickly? - in which case it&#39;s a Java issue and we need to see some Java code. Otherwise, if the response takes time but the loader does not appear, it is a JS issue. It would be better to add HTML of the loader too if you think it could be relevant.","body":"Could you please use javascript/jquery tags as well? Also, it would be nice to indent the code block better. When you say loader is not working, do you mean the response is coming too quickly? - in which case it&#39;s a Java issue and we need to see some Java code. Otherwise, if the response takes time but the loader does not appear, it is a JS issue. It would be better to add HTML of the loader too if you think it could be relevant."},{"owner":{"account_id":22815505,"reputation":13,"user_id":16966202,"display_name":"No Name Needed"},"score":0,"creation_date":1644229568,"post_id":71016770,"comment_id":125540663,"body_markdown":"I am new here don&#39;t know how to add code properly here so please wait  I am trying to add code here","body":"I am new here don&#39;t know how to add code properly here so please wait  I am trying to add code here"},{"owner":{"account_id":8712968,"reputation":312,"user_id":6518591,"display_name":"Abhinav Pandey"},"score":0,"creation_date":1644230187,"post_id":71016770,"comment_id":125540892,"body_markdown":"No problem. Just trying to help you make the question better.","body":"No problem. Just trying to help you make the question better."},{"owner":{"account_id":22815505,"reputation":13,"user_id":16966202,"display_name":"No Name Needed"},"score":0,"creation_date":1644231707,"post_id":71016770,"comment_id":125541483,"body_markdown":"I added Register.java and signup.jsp code please help why my loader is not working when  I press submit button also form do not appear it shows only green registered successfully","body":"I added Register.java and signup.jsp code please help why my loader is not working when  I press submit button also form do not appear it shows only green registered successfully"}],"answers":[{"tags":[],"owner":{"account_id":8712968,"reputation":312,"user_id":6518591,"display_name":"Abhinav Pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644231997,"creation_date":1644231997,"answer_id":71017513,"question_id":71016770,"body_markdown":"The problem is in the HTML.\r\n\r\nYou need to move the loader outside this div to make it work.\r\n\r\n```html\r\n&lt;div class=&quot;form center-align&quot;&gt;\r\n```\r\n\r\nOtherwise, when you call `$(&quot;.form&quot;).hide();`, everything inside this div will be hidden, including the loader.","title":"loader is not working when I am clicking submit button","body":"<p>The problem is in the HTML.</p>\n<p>You need to move the loader outside this div to make it work.</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;div class=&quot;form center-align&quot;&gt;\n</code></pre>\n<p>Otherwise, when you call <code>$(&quot;.form&quot;).hide();</code>, everything inside this div will be hidden, including the loader.</p>\n"}],"owner":{"account_id":22815505,"reputation":13,"user_id":16966202,"display_name":"No Name Needed"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71017513,"answer_count":1,"score":0,"last_activity_date":1644231997,"creation_date":1644228760,"question_id":71016770,"body_markdown":"loader is not working when I am clicking submit button  on Register page. I hava added Thread.sleep(3000; in Register.java page      \r\n                `&lt;script&gt;\r\n                $(document).ready(function(){\r\n                console.log(&quot;Page is ready...... &quot;) ;\r\n                $(&quot;#myform&quot;).on(&#39;submit&#39;,function(event){\r\n                event.preventDefault();\r\n                var f = $(this).serialize();\r\n                console.log(f);\r\n                $(&quot;.loader&quot;).show();\r\n                $(&quot;.form&quot;).hide();\r\n                     \r\n                    $.ajax({\r\n                       url:&quot;Register&quot;,\r\n                       data:f,\r\n                       type:&#39;POST&#39;,\r\n                       success:function(data,textStatus,jqXHR){\r\n                           console.log(data);\r\n                           console.log(&quot;Success......&quot;);\r\n                           $(&quot;.loader&quot;).hide();\r\n                           $(&quot;.form&quot;).show();\r\n                           if(data.trim()===&quot;Done&quot;){\r\n                               $(&quot;#msg&quot;).html(&quot;Succesfully Registered !!!&quot;);\r\n                               $(&quot;#msg&quot;).addClass(&quot;green-text&quot;);\r\n                           }else{\r\n                               $(&quot;#msg&quot;).html(&quot;Something went wrong !!!&quot;);\r\n                               $(&quot;#msg&quot;).addClass(&quot;red-text&quot;);\r\n                           }\r\n                           \r\n                       },\r\n                       error:function(jqXHR,textStatus,errorThrown){\r\n                           console.log(data);\r\n                           console.log(&quot;error&quot;);\r\n                           $(&quot;.loader&quot;).hide();\r\n                           $(&quot;.form&quot;).show();\r\n                           $(&quot;#msg&quot;).html(&quot;Something went wrong !!!&quot;);\r\n                           $(&quot;#msg&quot;).addClass(&quot;red-text&quot;);\r\n                       }\r\n                   });   \r\n                });\r\n                });`\r\n``` Register.java\r\npackage com.user;\r\n\r\nimport java.io.IOException;\r\nimport java.io.PrintWriter;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.http.HttpServlet;\r\nimport javax.servlet.http.HttpServletRequest;\r\nimport javax.servlet.http.HttpServletResponse;\r\nimport java.sql.*;\r\n\r\npublic class Register extends HttpServlet {\r\n\r\n    protected void processRequest(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n        response.setContentType(&quot;text/html;charset=UTF-8&quot;);\r\n        try (PrintWriter out = response.getWriter()) {\r\n            /* TODO output your page here. You may use following sample code. */\r\n            /*out.println(&quot;&lt;!DOCTYPE html&gt;&quot;);\r\n            out.println(&quot;&lt;html&gt;&quot;);\r\n            out.println(&quot;&lt;head&gt;&quot;);\r\n            out.println(&quot;&lt;title&gt;Servlet Register&lt;/title&gt;&quot;);            \r\n            out.println(&quot;&lt;/head&gt;&quot;);\r\n            out.println(&quot;&lt;body&gt;&quot;);*/\r\n            //Getting all the details from incoming from request\r\n            String name=request.getParameter(&quot;user_name&quot;);\r\n            String email=request.getParameter(&quot;user_email&quot;);\r\n            String password=request.getParameter(&quot;user_password&quot;);\r\n            //out.println(name);\r\n            //out.println(email);\r\n            //out.println(password);\r\n            //connection\r\n             try{\r\n                 Thread.sleep(3000);\r\n                 Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\r\n                 Connection con=DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/youtube1&quot;,&quot;root&quot;,&quot;Vandana&quot;);\r\n                 \r\n                 //query\r\n                 String q=&quot;insert into user(name,email,password) value(?, ?, ?)&quot;;\r\n                 PreparedStatement pstmpt= con.prepareStatement(q);\r\n                 pstmpt.setString(1, name);\r\n                 pstmpt.setString(2, password);\r\n                 pstmpt.setString(3, email);\r\n            \r\n                 \r\n                 pstmpt.executeUpdate();\r\n                 \r\n                 out.println(&quot;Done&quot;);\r\n             } \r\n             \r\n             catch (Exception e){\r\n                e.printStackTrace() ;\r\n                out.println(&quot;Error&quot;);\r\n             }\r\n\r\n            \r\n            \r\n            //......\r\n            //out.println(&quot;&lt;/body&gt;&quot;);\r\n            //out.println(&quot;&lt;/html&gt;&quot;);\r\n        }\r\n    }\r\n\r\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;HttpServlet methods. Click on the + sign on the left to edit the code.&quot;&gt;\r\n    /**\r\n     * Handles the HTTP &lt;code&gt;GET&lt;/code&gt; method.\r\n     *\r\n     * @param request servlet request\r\n     * @param response servlet response\r\n     * @throws ServletException if a servlet-specific error occurs\r\n     * @throws IOException if an I/O error occurs\r\n     */\r\n    @Override\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n        processRequest(request, response);\r\n    }\r\n\r\n    /**\r\n     * Handles the HTTP &lt;code&gt;POST&lt;/code&gt; method.\r\n     *\r\n     * @param request servlet request\r\n     * @param response servlet response\r\n     * @throws ServletException if a servlet-specific error occurs\r\n     * @throws IOException if an I/O error occurs\r\n     */\r\n    @Override\r\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\r\n            throws ServletException, IOException {\r\n        processRequest(request, response);\r\n    }\r\n\r\n    /**\r\n     * Returns a short description of the servlet.\r\n     *\r\n     * @return a String containing servlet description\r\n     */\r\n    @Override\r\n    public String getServletInfo() {\r\n        return &quot;Short description&quot;;\r\n    }// &lt;/editor-fold&gt;\r\n\r\n}\r\n ```\r\n```&lt;%-- \r\n    Document   : signup\r\n    Created on : 01-Feb-2022, 2:13:08 PM\r\n--%&gt;\r\n\r\n&lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html&gt;\r\n    &lt;head&gt;\r\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n        &lt;title&gt;JSP Page&lt;/title&gt;\r\n        &lt;!-- Compiled and minified CSS --&gt;\r\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css&quot;&gt;\r\n\r\n        &lt;!-- Compiled and minified JavaScript --&gt;\r\n        &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js&quot;&gt;&lt;/script&gt;\r\n            \r\n    &lt;/head&gt;\r\n    &lt;body style=&quot;background-image: url(images/bg.jpg); background-size: cover;background-attachment: fixed;&quot;&gt;\r\n        &lt;div class=&quot;container&quot;&gt;\r\n            &lt;div class=&quot;row&quot;&gt;\r\n                &lt;div class=&quot;col m6 offset-m3&quot;&gt;\r\n                    \r\n                    &lt;div class=&quot;card&quot;&gt;\r\n                         &lt;div class=&quot;card-content&quot;&gt;\r\n                             &lt;div class=&quot;form center-align&quot;&gt;\r\n                                 &lt;h3 style=&quot;margin-top: 10px;&quot;class=&quot;center-align&quot;&gt;Register Here !!&lt;/h3&gt;\r\n                                 &lt;h5 id=&quot;msg&quot; class=&quot;center-align&quot;&lt;/h5&gt;\r\n                                &lt;div class=&quot;form&quot;&gt;\r\n                                &lt;!-- creating form --&gt;\r\n                                &lt;form action=&quot;Register&quot; method=&quot;post&quot; id=&quot;myform&quot;&gt;\r\n                                    &lt;input type=&quot;text&quot; name=&quot;user_name&quot; placeholder=&quot;Enter user_name&quot;\\&gt;\r\n                                    &lt;input type=&quot;password&quot; name=&quot;user_password&quot; placeholder=&quot;Enter password&quot;\\&gt;\r\n                                    &lt;input type=&quot;email&quot; name=&quot;user_email&quot; placeholder=&quot;Enter your email&quot;\\&gt;\r\n                                    \r\n                                    &lt;button type=&quot;submit&quot; name=&quot;btn&quot; style=&quot;background-color:#b3e5fc;&quot;&gt;Submit&lt;/button&gt;\r\n                                    \r\n                                &lt;/form&gt;\r\n                                &lt;div class=&quot;loader center-align&quot; style=&quot;margin-top: 10px; display: none;&quot; &gt;\r\n                                        &lt;div class=&quot;preloader-wrapper big active&quot;&gt;\r\n                                            &lt;div class=&quot;spinner-layer spinner-blue-only&quot;&gt;\r\n                                              &lt;div class=&quot;circle-clipper left&quot;&gt;\r\n                                                &lt;div class=&quot;circle&quot;&gt;&lt;/div&gt;\r\n                                              &lt;/div&gt;&lt;div class=&quot;gap-patch&quot;&gt;\r\n                                                &lt;div class=&quot;circle&quot;&gt;&lt;/div&gt;\r\n                                              &lt;/div&gt;&lt;div class=&quot;circle-clipper right&quot;&gt;\r\n                                                &lt;div class=&quot;circle&quot;&gt;&lt;/div&gt;\r\n                                              &lt;/div&gt;\r\n                                            &lt;/div&gt;\r\n                                          &lt;/div&gt;\r\n                                            \r\n                                    &lt;h5&gt;Please Wait....&lt;/h5&gt;\r\n                                &lt;/div&gt;\r\n                                \r\n                            &lt;/div&gt;\r\n                    &lt;/div&gt;\r\n                &lt;/div&gt;\r\n            &lt;/div&gt;\r\n        &lt;/div&gt;\r\n      &lt;/div&gt; \r\n    &lt;/div&gt;\r\n        &lt;script\r\n            src=&quot;https://code.jquery.com/jquery-3.6.0.min.js&quot;\r\n            integrity=&quot;sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=&quot;\r\n            crossorigin=&quot;anonymous&quot;&gt;\r\n                \r\n        &lt;/script&gt;\r\n        &lt;script&gt;\r\n                $(document).ready(function(){\r\n                console.log(&quot;Page is ready...... &quot;) ;\r\n                $(&quot;#myform&quot;).on(&#39;submit&#39;,function(event){\r\n                event.preventDefault();\r\n                var f = $(this).serialize();\r\n                console.log(f);\r\n                $(&quot;.loader&quot;).show();\r\n                $(&quot;.form&quot;).hide();\r\n                     \r\n                    $.ajax({\r\n                       url:&quot;Register&quot;,\r\n                       data:f,\r\n                       type:&#39;POST&#39;,\r\n                       success:function(data,textStatus,jqXHR){\r\n                           console.log(data);\r\n                           console.log(&quot;Success......&quot;);\r\n                           $(&quot;.loader&quot;).hide();\r\n                           $(&quot;.form&quot;).show();\r\n                           if(data.trim()===&quot;Done&quot;){\r\n                               $(&quot;#msg&quot;).html(&quot;Succesfully Registered !!!&quot;);\r\n                               $(&quot;#msg&quot;).addClass(&quot;green-text&quot;);\r\n                           }else{\r\n                               $(&quot;#msg&quot;).html(&quot;Something went wrong !!!&quot;);\r\n                               $(&quot;#msg&quot;).addClass(&quot;red-text&quot;);\r\n                           }\r\n                           \r\n                       },\r\n                       error:function(jqXHR,textStatus,errorThrown){\r\n                           console.log(data);\r\n                           console.log(&quot;error&quot;);\r\n                           $(&quot;.loader&quot;).hide();\r\n                           $(&quot;.form&quot;).show();\r\n                           $(&quot;#msg&quot;).html(&quot;Something went wrong !!!&quot;);\r\n                           $(&quot;#msg&quot;).addClass(&quot;red-text&quot;);\r\n                       }\r\n                   });   \r\n                });\r\n                });\r\n       \r\n        &lt;/script&gt;\r\n    &lt;/body&gt;\r\n&lt;/html&gt;```\r\n\r\n       ","title":"loader is not working when I am clicking submit button","body":"<p>loader is not working when I am clicking submit button  on Register page. I hava added Thread.sleep(3000; in Register.java page<br />\n`\n$(document).ready(function(){\nconsole.log(&quot;Page is ready...... &quot;) ;\n$(&quot;#myform&quot;).on('submit',function(event){\nevent.preventDefault();\nvar f = $(this).serialize();\nconsole.log(f);\n$(&quot;.loader&quot;).show();\n$(&quot;.form&quot;).hide();</p>\n<pre><code>                $.ajax({\n                   url:&quot;Register&quot;,\n                   data:f,\n                   type:'POST',\n                   success:function(data,textStatus,jqXHR){\n                       console.log(data);\n                       console.log(&quot;Success......&quot;);\n                       $(&quot;.loader&quot;).hide();\n                       $(&quot;.form&quot;).show();\n                       if(data.trim()===&quot;Done&quot;){\n                           $(&quot;#msg&quot;).html(&quot;Succesfully Registered !!!&quot;);\n                           $(&quot;#msg&quot;).addClass(&quot;green-text&quot;);\n                       }else{\n                           $(&quot;#msg&quot;).html(&quot;Something went wrong !!!&quot;);\n                           $(&quot;#msg&quot;).addClass(&quot;red-text&quot;);\n                       }\n                       \n                   },\n                   error:function(jqXHR,textStatus,errorThrown){\n                       console.log(data);\n                       console.log(&quot;error&quot;);\n                       $(&quot;.loader&quot;).hide();\n                       $(&quot;.form&quot;).show();\n                       $(&quot;#msg&quot;).html(&quot;Something went wrong !!!&quot;);\n                       $(&quot;#msg&quot;).addClass(&quot;red-text&quot;);\n                   }\n               });   \n            });\n            });`\n</code></pre>\n<pre><code>package com.user;\n\nimport java.io.IOException;\nimport java.io.PrintWriter;\nimport javax.servlet.ServletException;\nimport javax.servlet.http.HttpServlet;\nimport javax.servlet.http.HttpServletRequest;\nimport javax.servlet.http.HttpServletResponse;\nimport java.sql.*;\n\npublic class Register extends HttpServlet {\n\n    protected void processRequest(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        response.setContentType(&quot;text/html;charset=UTF-8&quot;);\n        try (PrintWriter out = response.getWriter()) {\n            /* TODO output your page here. You may use following sample code. */\n            /*out.println(&quot;&lt;!DOCTYPE html&gt;&quot;);\n            out.println(&quot;&lt;html&gt;&quot;);\n            out.println(&quot;&lt;head&gt;&quot;);\n            out.println(&quot;&lt;title&gt;Servlet Register&lt;/title&gt;&quot;);            \n            out.println(&quot;&lt;/head&gt;&quot;);\n            out.println(&quot;&lt;body&gt;&quot;);*/\n            //Getting all the details from incoming from request\n            String name=request.getParameter(&quot;user_name&quot;);\n            String email=request.getParameter(&quot;user_email&quot;);\n            String password=request.getParameter(&quot;user_password&quot;);\n            //out.println(name);\n            //out.println(email);\n            //out.println(password);\n            //connection\n             try{\n                 Thread.sleep(3000);\n                 Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);\n                 Connection con=DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/youtube1&quot;,&quot;root&quot;,&quot;Vandana&quot;);\n                 \n                 //query\n                 String q=&quot;insert into user(name,email,password) value(?, ?, ?)&quot;;\n                 PreparedStatement pstmpt= con.prepareStatement(q);\n                 pstmpt.setString(1, name);\n                 pstmpt.setString(2, password);\n                 pstmpt.setString(3, email);\n            \n                 \n                 pstmpt.executeUpdate();\n                 \n                 out.println(&quot;Done&quot;);\n             } \n             \n             catch (Exception e){\n                e.printStackTrace() ;\n                out.println(&quot;Error&quot;);\n             }\n\n            \n            \n            //......\n            //out.println(&quot;&lt;/body&gt;&quot;);\n            //out.println(&quot;&lt;/html&gt;&quot;);\n        }\n    }\n\n    // &lt;editor-fold defaultstate=&quot;collapsed&quot; desc=&quot;HttpServlet methods. Click on the + sign on the left to edit the code.&quot;&gt;\n    /**\n     * Handles the HTTP &lt;code&gt;GET&lt;/code&gt; method.\n     *\n     * @param request servlet request\n     * @param response servlet response\n     * @throws ServletException if a servlet-specific error occurs\n     * @throws IOException if an I/O error occurs\n     */\n    @Override\n    protected void doGet(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        processRequest(request, response);\n    }\n\n    /**\n     * Handles the HTTP &lt;code&gt;POST&lt;/code&gt; method.\n     *\n     * @param request servlet request\n     * @param response servlet response\n     * @throws ServletException if a servlet-specific error occurs\n     * @throws IOException if an I/O error occurs\n     */\n    @Override\n    protected void doPost(HttpServletRequest request, HttpServletResponse response)\n            throws ServletException, IOException {\n        processRequest(request, response);\n    }\n\n    /**\n     * Returns a short description of the servlet.\n     *\n     * @return a String containing servlet description\n     */\n    @Override\n    public String getServletInfo() {\n        return &quot;Short description&quot;;\n    }// &lt;/editor-fold&gt;\n\n}\n</code></pre>\n<pre><code>    Document   : signup\n    Created on : 01-Feb-2022, 2:13:08 PM\n--%&gt;\n\n&lt;%@page contentType=&quot;text/html&quot; pageEncoding=&quot;UTF-8&quot;%&gt;\n&lt;!DOCTYPE html&gt;\n&lt;html&gt;\n    &lt;head&gt;\n        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\n        &lt;title&gt;JSP Page&lt;/title&gt;\n        &lt;!-- Compiled and minified CSS --&gt;\n        &lt;link rel=&quot;stylesheet&quot; href=&quot;https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css&quot;&gt;\n\n        &lt;!-- Compiled and minified JavaScript --&gt;\n        &lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js&quot;&gt;&lt;/script&gt;\n            \n    &lt;/head&gt;\n    &lt;body style=&quot;background-image: url(images/bg.jpg); background-size: cover;background-attachment: fixed;&quot;&gt;\n        &lt;div class=&quot;container&quot;&gt;\n            &lt;div class=&quot;row&quot;&gt;\n                &lt;div class=&quot;col m6 offset-m3&quot;&gt;\n                    \n                    &lt;div class=&quot;card&quot;&gt;\n                         &lt;div class=&quot;card-content&quot;&gt;\n                             &lt;div class=&quot;form center-align&quot;&gt;\n                                 &lt;h3 style=&quot;margin-top: 10px;&quot;class=&quot;center-align&quot;&gt;Register Here !!&lt;/h3&gt;\n                                 &lt;h5 id=&quot;msg&quot; class=&quot;center-align&quot;&lt;/h5&gt;\n                                &lt;div class=&quot;form&quot;&gt;\n                                &lt;!-- creating form --&gt;\n                                &lt;form action=&quot;Register&quot; method=&quot;post&quot; id=&quot;myform&quot;&gt;\n                                    &lt;input type=&quot;text&quot; name=&quot;user_name&quot; placeholder=&quot;Enter user_name&quot;\\&gt;\n                                    &lt;input type=&quot;password&quot; name=&quot;user_password&quot; placeholder=&quot;Enter password&quot;\\&gt;\n                                    &lt;input type=&quot;email&quot; name=&quot;user_email&quot; placeholder=&quot;Enter your email&quot;\\&gt;\n                                    \n                                    &lt;button type=&quot;submit&quot; name=&quot;btn&quot; style=&quot;background-color:#b3e5fc;&quot;&gt;Submit&lt;/button&gt;\n                                    \n                                &lt;/form&gt;\n                                &lt;div class=&quot;loader center-align&quot; style=&quot;margin-top: 10px; display: none;&quot; &gt;\n                                        &lt;div class=&quot;preloader-wrapper big active&quot;&gt;\n                                            &lt;div class=&quot;spinner-layer spinner-blue-only&quot;&gt;\n                                              &lt;div class=&quot;circle-clipper left&quot;&gt;\n                                                &lt;div class=&quot;circle&quot;&gt;&lt;/div&gt;\n                                              &lt;/div&gt;&lt;div class=&quot;gap-patch&quot;&gt;\n                                                &lt;div class=&quot;circle&quot;&gt;&lt;/div&gt;\n                                              &lt;/div&gt;&lt;div class=&quot;circle-clipper right&quot;&gt;\n                                                &lt;div class=&quot;circle&quot;&gt;&lt;/div&gt;\n                                              &lt;/div&gt;\n                                            &lt;/div&gt;\n                                          &lt;/div&gt;\n                                            \n                                    &lt;h5&gt;Please Wait....&lt;/h5&gt;\n                                &lt;/div&gt;\n                                \n                            &lt;/div&gt;\n                    &lt;/div&gt;\n                &lt;/div&gt;\n            &lt;/div&gt;\n        &lt;/div&gt;\n      &lt;/div&gt; \n    &lt;/div&gt;\n        &lt;script\n            src=&quot;https://code.jquery.com/jquery-3.6.0.min.js&quot;\n            integrity=&quot;sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=&quot;\n            crossorigin=&quot;anonymous&quot;&gt;\n                \n        &lt;/script&gt;\n        &lt;script&gt;\n                $(document).ready(function(){\n                console.log(&quot;Page is ready...... &quot;) ;\n                $(&quot;#myform&quot;).on('submit',function(event){\n                event.preventDefault();\n                var f = $(this).serialize();\n                console.log(f);\n                $(&quot;.loader&quot;).show();\n                $(&quot;.form&quot;).hide();\n                     \n                    $.ajax({\n                       url:&quot;Register&quot;,\n                       data:f,\n                       type:'POST',\n                       success:function(data,textStatus,jqXHR){\n                           console.log(data);\n                           console.log(&quot;Success......&quot;);\n                           $(&quot;.loader&quot;).hide();\n                           $(&quot;.form&quot;).show();\n                           if(data.trim()===&quot;Done&quot;){\n                               $(&quot;#msg&quot;).html(&quot;Succesfully Registered !!!&quot;);\n                               $(&quot;#msg&quot;).addClass(&quot;green-text&quot;);\n                           }else{\n                               $(&quot;#msg&quot;).html(&quot;Something went wrong !!!&quot;);\n                               $(&quot;#msg&quot;).addClass(&quot;red-text&quot;);\n                           }\n                           \n                       },\n                       error:function(jqXHR,textStatus,errorThrown){\n                           console.log(data);\n                           console.log(&quot;error&quot;);\n                           $(&quot;.loader&quot;).hide();\n                           $(&quot;.form&quot;).show();\n                           $(&quot;#msg&quot;).html(&quot;Something went wrong !!!&quot;);\n                           $(&quot;#msg&quot;).addClass(&quot;red-text&quot;);\n                       }\n                   });   \n                });\n                });\n       \n        &lt;/script&gt;\n    &lt;/body&gt;\n&lt;/html&gt;```\n\n       \n</code></pre>\n"},{"tags":["java","spring","docker","docker-compose"],"answers":[{"tags":[],"owner":{"account_id":9064433,"reputation":568,"user_id":6749813,"display_name":"S.Tushinov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644012741,"creation_date":1644012741,"answer_id":70993405,"question_id":70993150,"body_markdown":"You&#39;re currently mounting the folder `/var/home/my-app` from your host machine to the folder `/var/lib/docker/containers/docker_my-app` inside the container. \r\n\r\nAs your application is running inside a container the method you&#39;ve written\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n        if (!Files.exists(Paths.get(&quot;./var/home/my-app&quot;))) {\r\n            try {\r\n                Files.createDirectory(root);\r\n            } catch (IOException e) {\r\n                throw new StorageException(&quot;Error initializing directory: &quot; + e.getMessage());\r\n            } \r\n    }\r\n\r\ncreates the directory structure `/var/home/my-app` **inside the container filesystem.**\r\n\r\nIf your Java code is written to save data under the folder `/var/home/my-app` you should create your volume in the following way:\r\n\r\n    volumes:\r\n       - /var/home/my-app:/var/home/my-app\r\n\r\n\r\n","title":"Can not find path to host volume in docker","body":"<p>You're currently mounting the folder <code>/var/home/my-app</code> from your host machine to the folder <code>/var/lib/docker/containers/docker_my-app</code> inside the container.</p>\n<p>As your application is running inside a container the method you've written</p>\n<pre><code>@PostConstruct\npublic void init() {\n    if (!Files.exists(Paths.get(&quot;./var/home/my-app&quot;))) {\n        try {\n            Files.createDirectory(root);\n        } catch (IOException e) {\n            throw new StorageException(&quot;Error initializing directory: &quot; + e.getMessage());\n        } \n}\n</code></pre>\n<p>creates the directory structure <code>/var/home/my-app</code> <strong>inside the container filesystem.</strong></p>\n<p>If your Java code is written to save data under the folder <code>/var/home/my-app</code> you should create your volume in the following way:</p>\n<pre><code>volumes:\n   - /var/home/my-app:/var/home/my-app\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9469531,"reputation":126,"user_id":7040764,"display_name":"thortiede"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1644231056,"creation_date":1644012993,"answer_id":70993434,"question_id":70993150,"body_markdown":"Assuming your check-method is inside your Spring application, i.e., inside the my-app container, you need to check for the \r\n\r\n    /var/lib/docker/containers/docker_my-app\r\n\r\nfolder, instead of the \r\n\r\n    ./var/home/my-app\r\nfolder:\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n      if (!Files.exists(Paths.get(&quot;/var/lib/docker/containers/docker_my-app&quot;))) {\r\n        try {\r\n            Files.createDirectory(root);\r\n        } catch (IOException e) {\r\n            throw new StorageException(&quot;Error initializing directory: &quot; + e.getMessage());\r\n        } \r\n    }\r\n\r\n\r\nOn the first use of the volume-folder, the respective folder on the host should be created (as you are using the short-notation for the volume definition).\r\nThe folder that should be created would be alongside your docker-compose.yml file, named var/home/my-app\r\n\r\nTo be able to create subfolders based on the provided url, for instance `localhost:8080/image/12/picture.png`, you need to define the endpoint `/image/{id}/{image_name}` where the `id` is a path variable and `image_name` is a path variable. \r\n\r\nSimilarly, your POST request that you use to upload the file needs to have `id` path variable, which you translate to a folder name in your code, and create it if it is not present.\r\n\r\nRegarding your third question:\r\n&gt; If host will be with read write permissions should I add something in docker-compose.yml file?\r\n\r\nThat depends on whether you defined a user to isolate your container.\r\nHave a look here: https://docs.docker.com/engine/security/userns-remap/\r\nUnless you did something like this, your process inside the container is running as root and can then write on your host regardless of missing permissions.\r\n\r\nEdit to clarify the folders that are created due to the line in  docker-compose.yml:\r\n\r\n     - ./var/home/my-app:/var/lib/docker/containers/docker_my-app  //&quot;path to the host:path to the docker container&quot;\r\n\r\nAs you correctly commented on this line,\r\nthe ./var/home/my-app is the path on your host machine.\r\nSince it starts with a &#39;.&#39; it is a relative path and will start at the current location where the docker-compose.yml file is located.\r\n\r\nThe second part: /var/lib/docker/containers/docker_my-app is the path inside the container, which gets mapped to the folder on your host.\r\nThis is an absolute path, since it starts with &#39;/&#39;.\r\n\r\nAnything that your application places in this folder (/var/lib/docker/containers/docker_my-app) will be accessible on your host machine (so outside of your docker container) in the other folder (./var/home/my-app).\r\nThey are the same space on your hard drive, once accessed from inside the container and once accessed from the host.\r\n\r\nIn you application that runs in the docker-container, you exclusively use the path: /var/lib/docker/containers/docker_my-app.\r\n\r\nOutside of the container, so on your host, you exclusively use the path ./var/home/my-app.\r\n\r\nSuppose on your host the docker-compose.yml file is located in the folder:\r\n    \r\n    /home/thortiede/docker/docker-compose.yml\r\n\r\nThen you will find the contents of the shared folder under\r\n\r\n    /home/thortiede/docker/var/home/my-app\r\n\r\nIf you want to have files from your host accessible inside the docker-container, you need to put them in this directory.\r\nThen, from inside the docker-container, you access these files by navigating to :\r\n\r\n    /var/lib/docker/containers/docker_my-app","title":"Can not find path to host volume in docker","body":"<p>Assuming your check-method is inside your Spring application, i.e., inside the my-app container, you need to check for the</p>\n<pre><code>/var/lib/docker/containers/docker_my-app\n</code></pre>\n<p>folder, instead of the</p>\n<pre><code>./var/home/my-app\n</code></pre>\n<p>folder:</p>\n<pre><code>@PostConstruct\npublic void init() {\n  if (!Files.exists(Paths.get(&quot;/var/lib/docker/containers/docker_my-app&quot;))) {\n    try {\n        Files.createDirectory(root);\n    } catch (IOException e) {\n        throw new StorageException(&quot;Error initializing directory: &quot; + e.getMessage());\n    } \n}\n</code></pre>\n<p>On the first use of the volume-folder, the respective folder on the host should be created (as you are using the short-notation for the volume definition).\nThe folder that should be created would be alongside your docker-compose.yml file, named var/home/my-app</p>\n<p>To be able to create subfolders based on the provided url, for instance <code>localhost:8080/image/12/picture.png</code>, you need to define the endpoint <code>/image/{id}/{image_name}</code> where the <code>id</code> is a path variable and <code>image_name</code> is a path variable.</p>\n<p>Similarly, your POST request that you use to upload the file needs to have <code>id</code> path variable, which you translate to a folder name in your code, and create it if it is not present.</p>\n<p>Regarding your third question:</p>\n<blockquote>\n<p>If host will be with read write permissions should I add something in docker-compose.yml file?</p>\n</blockquote>\n<p>That depends on whether you defined a user to isolate your container.\nHave a look here: <a href=\"https://docs.docker.com/engine/security/userns-remap/\" rel=\"nofollow noreferrer\">https://docs.docker.com/engine/security/userns-remap/</a>\nUnless you did something like this, your process inside the container is running as root and can then write on your host regardless of missing permissions.</p>\n<p>Edit to clarify the folders that are created due to the line in  docker-compose.yml:</p>\n<pre><code> - ./var/home/my-app:/var/lib/docker/containers/docker_my-app  //&quot;path to the host:path to the docker container&quot;\n</code></pre>\n<p>As you correctly commented on this line,\nthe ./var/home/my-app is the path on your host machine.\nSince it starts with a '.' it is a relative path and will start at the current location where the docker-compose.yml file is located.</p>\n<p>The second part: /var/lib/docker/containers/docker_my-app is the path inside the container, which gets mapped to the folder on your host.\nThis is an absolute path, since it starts with '/'.</p>\n<p>Anything that your application places in this folder (/var/lib/docker/containers/docker_my-app) will be accessible on your host machine (so outside of your docker container) in the other folder (./var/home/my-app).\nThey are the same space on your hard drive, once accessed from inside the container and once accessed from the host.</p>\n<p>In you application that runs in the docker-container, you exclusively use the path: /var/lib/docker/containers/docker_my-app.</p>\n<p>Outside of the container, so on your host, you exclusively use the path ./var/home/my-app.</p>\n<p>Suppose on your host the docker-compose.yml file is located in the folder:</p>\n<pre><code>/home/thortiede/docker/docker-compose.yml\n</code></pre>\n<p>Then you will find the contents of the shared folder under</p>\n<pre><code>/home/thortiede/docker/var/home/my-app\n</code></pre>\n<p>If you want to have files from your host accessible inside the docker-container, you need to put them in this directory.\nThen, from inside the docker-container, you access these files by navigating to :</p>\n<pre><code>/var/lib/docker/containers/docker_my-app\n</code></pre>\n"}],"owner":{"account_id":17086924,"reputation":85,"user_id":12363920,"display_name":"Piotror"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3413,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70993434,"answer_count":2,"score":0,"last_activity_date":1644231056,"creation_date":1644010931,"question_id":70993150,"body_markdown":"I am working on an application in spring boot in which photos will be uploaded to the server and then read from the server using the url. The application is on the docker and tomcat server. From what I have learned the best way would be to store photos on docker volume using the host. So using the docker-compose.yml file I create the volume and give the path to the host. File fragment:\r\n\r\n    version: &#39;3.8&#39;\r\n    services:\r\n      my-app:\r\n        image: app\r\n        environment:\r\n          - _JAVA_OPTIONS=-Xmx512m -Xms256m\r\n          - SPRING_PROFILES_ACTIVE=prod,api-docs\r\n          .\r\n          .\r\n          .\r\n        ports:\r\n          - 8085:8085\r\n        networks:\r\n          default: \r\n            ipv4_address: 172.19.0.2\r\n        volumes:\r\n           - ./var/home/my-app:/var/lib/docker/containers/docker_my-app  //&quot;path to the host:path to the docker container&quot;\r\n\r\nFrom what I read on the Docker website [there][1], this is how you should create a path to the host where the photos will be stored, i.e. on the left the path to the host, and on the right the path to the container. The problem is that no path is created or is, but I can&#39;t find it. I also have a method that runs every time it checks to see if a path exists:\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n        if (!Files.exists(Paths.get(&quot;./var/home/my-app&quot;))) {\r\n            try {\r\n                Files.createDirectory(root);\r\n            } catch (IOException e) {\r\n                throw new StorageException(&quot;Error initializing directory: &quot; + e.getMessage());\r\n            } \r\n    }\r\n\r\nAnd this throws that path does not exists.\r\n \r\nSo, I have questions: \r\n - Am I creating a good path to the host?\r\n - Or should the path to the host be different?\r\n - If host will be with read write permissions should I add something in docker-compose.yml file?\r\n\r\n**Edit**\r\n\r\nSo to specify my problem. I wanto save files in volume host and then gets image by URL e.g.  localhost:8080/image/12/picture.png\r\nI have to specify path where the files are ulpoded. Method init() checks if path exists and then a path is assigned to the variable root where the files should be saved. \r\n\r\n    @PostConstruct\r\n    public void init() {\r\n        if (isProd) {\r\n            root = Paths.get(&quot;./var/home/my-app&quot;);\r\n        } else {\r\n            root = Paths.get(&quot;./uploads&quot;);\r\n        }\r\n\r\n        if (!Files.exists(root)) {\r\n            try {\r\n                Files.createDirectory(root);\r\n            } catch (IOException e) {\r\n                throw new StorageException(&quot;Error initializing directory: &quot; + e.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\nAnd then I saved files like this:\r\n\r\n    Files.copy(inputStream, filePath, StandardCopyOption.REPLACE_EXISTING);  //filePath: ./upluads/image/12/picture.png\r\n\r\nfilePath should contains path to host and unique folders for each photo with id in the name.\r\n\r\n  [1]: https://docs.docker.com/compose/compose-file/compose-file-v3/?fbclid=IwAR0NwHUc2W_Ce8T7g_UQC9FL-cmVywgaQksCs_yxFbB4tQQFHxrwVs5mn7Q#short-syntax-3","title":"Can not find path to host volume in docker","body":"<p>I am working on an application in spring boot in which photos will be uploaded to the server and then read from the server using the url. The application is on the docker and tomcat server. From what I have learned the best way would be to store photos on docker volume using the host. So using the docker-compose.yml file I create the volume and give the path to the host. File fragment:</p>\n<pre><code>version: '3.8'\nservices:\n  my-app:\n    image: app\n    environment:\n      - _JAVA_OPTIONS=-Xmx512m -Xms256m\n      - SPRING_PROFILES_ACTIVE=prod,api-docs\n      .\n      .\n      .\n    ports:\n      - 8085:8085\n    networks:\n      default: \n        ipv4_address: 172.19.0.2\n    volumes:\n       - ./var/home/my-app:/var/lib/docker/containers/docker_my-app  //&quot;path to the host:path to the docker container&quot;\n</code></pre>\n<p>From what I read on the Docker website <a href=\"https://docs.docker.com/compose/compose-file/compose-file-v3/?fbclid=IwAR0NwHUc2W_Ce8T7g_UQC9FL-cmVywgaQksCs_yxFbB4tQQFHxrwVs5mn7Q#short-syntax-3\" rel=\"nofollow noreferrer\">there</a>, this is how you should create a path to the host where the photos will be stored, i.e. on the left the path to the host, and on the right the path to the container. The problem is that no path is created or is, but I can't find it. I also have a method that runs every time it checks to see if a path exists:</p>\n<pre><code>@PostConstruct\npublic void init() {\n    if (!Files.exists(Paths.get(&quot;./var/home/my-app&quot;))) {\n        try {\n            Files.createDirectory(root);\n        } catch (IOException e) {\n            throw new StorageException(&quot;Error initializing directory: &quot; + e.getMessage());\n        } \n}\n</code></pre>\n<p>And this throws that path does not exists.</p>\n<p>So, I have questions:</p>\n<ul>\n<li>Am I creating a good path to the host?</li>\n<li>Or should the path to the host be different?</li>\n<li>If host will be with read write permissions should I add something in docker-compose.yml file?</li>\n</ul>\n<p><strong>Edit</strong></p>\n<p>So to specify my problem. I wanto save files in volume host and then gets image by URL e.g.  localhost:8080/image/12/picture.png\nI have to specify path where the files are ulpoded. Method init() checks if path exists and then a path is assigned to the variable root where the files should be saved.</p>\n<pre><code>@PostConstruct\npublic void init() {\n    if (isProd) {\n        root = Paths.get(&quot;./var/home/my-app&quot;);\n    } else {\n        root = Paths.get(&quot;./uploads&quot;);\n    }\n\n    if (!Files.exists(root)) {\n        try {\n            Files.createDirectory(root);\n        } catch (IOException e) {\n            throw new StorageException(&quot;Error initializing directory: &quot; + e.getMessage());\n        }\n    }\n}\n</code></pre>\n<p>And then I saved files like this:</p>\n<pre><code>Files.copy(inputStream, filePath, StandardCopyOption.REPLACE_EXISTING);  //filePath: ./upluads/image/12/picture.png\n</code></pre>\n<p>filePath should contains path to host and unique folders for each photo with id in the name.</p>\n"},{"tags":["java","ssl","nullpointerexception","ssl-certificate","burp"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1644672938,"post_id":71017303,"comment_id":125671708,"body_markdown":"Chrome/Windows do support PEM encoded certificates, you just have to rename the file to `&lt;something&gt;.cer` and you can open/import it.","body":"Chrome/Windows do support PEM encoded certificates, you just have to rename the file to <code>&lt;something&gt;.cer</code> and you can open/import it."},{"owner":{"account_id":16932882,"reputation":31,"user_id":12246677,"display_name":"Seyed_Mojtaba1997"},"score":0,"creation_date":1646167088,"post_id":71017303,"comment_id":126055454,"body_markdown":"https://stackoverflow.com/questions/67360622/burp-suite-ssl-error-handshake-failure-alert-or-err-ssl-protocol-error","body":"<a href=\"https://stackoverflow.com/questions/67360622/burp-suite-ssl-error-handshake-failure-alert-or-err-ssl-protocol-error\" title=\"burp suite ssl error handshake failure alert or err ssl protocol error\">stackoverflow.com/questions/67360622/&hellip;</a>"},{"owner":{"account_id":9308308,"reputation":103,"user_id":7660925,"display_name":"Behroozfar"},"score":0,"creation_date":1660586356,"post_id":71017303,"comment_id":129562426,"body_markdown":"any solutions ?","body":"any solutions ?"}],"owner":{"account_id":18027435,"reputation":13,"user_id":13103006,"display_name":"Behrad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":448,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1644231035,"creation_date":1644231035,"question_id":71017303,"body_markdown":"I have burp suite installed on windows 10, I tried to configure the certificate and when I try to download it from the embedded browser I see that it is in cer format and can&#39;t be added to firefox or chrome, so I tried to export it using burp option in Der format, but it failed with java.lang.NullPointerException error. \r\n\r\n[Error Picture][1]\r\n\r\n[1]: https://i.stack.imgur.com/iZJCo.png\r\n","title":"Java.lang.NullPointerException error while exporting SSL Certificate BurpSuit","body":"<p>I have burp suite installed on windows 10, I tried to configure the certificate and when I try to download it from the embedded browser I see that it is in cer format and can't be added to firefox or chrome, so I tried to export it using burp option in Der format, but it failed with java.lang.NullPointerException error.</p>\n<p><a href=\"https://i.stack.imgur.com/iZJCo.png\" rel=\"nofollow noreferrer\">Error Picture</a></p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1387379662,"creation_date":1387379662,"answer_id":20661766,"question_id":20661724,"body_markdown":"1. You didn&#39;t call `matches` or `find` on the matcher. It hasn&#39;t done any work.\r\n\r\n2. `getGroupCount` is the wrong method to call. Your regex has no capture groups, and even if it did, it wouldn&#39;t give you the character count.\r\n\r\nYou should be using `find`, but with a different regex, one without anchors. I would also advise using the proper Unicode character class: `&quot;\\\\p{Lu}+&quot;`. Use this in a `while (m.find())` loop, and accumulate the total number of characters obtained from `m.group(0).length()` at each step.","title":"Regular Expression for UpperCase Letters In A String","body":"<ol>\n<li><p>You didn't call <code>matches</code> or <code>find</code> on the matcher. It hasn't done any work.</p></li>\n<li><p><code>getGroupCount</code> is the wrong method to call. Your regex has no capture groups, and even if it did, it wouldn't give you the character count.</p></li>\n</ol>\n\n<p>You should be using <code>find</code>, but with a different regex, one without anchors. I would also advise using the proper Unicode character class: <code>\"\\\\p{Lu}+\"</code>. Use this in a <code>while (m.find())</code> loop, and accumulate the total number of characters obtained from <code>m.group(0).length()</code> at each step.</p>\n"},{"tags":[],"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1526681065,"creation_date":1387379665,"answer_id":20661768,"question_id":20661724,"body_markdown":"It doesn&#39;t work because you have 2 problems:\r\n\r\n1. Regex is incorrect, it should be `&quot;[A-Z]&quot;` for ASCII letter or `\\p{Lu}` for Unicode uppercase letters\r\n2. You&#39;re not calling `while (matcher.find())` before `matcher.groupCount()`\r\n\r\n**Correct code:**\r\n\r\n    public void testCountTheNumberOfUpperCaseCharacters() {\r\n        String testStr = &quot;abcdefghijkTYYtyyQ&quot;;\r\n        String regEx = &quot;(\\\\p{Lu})&quot;;\r\n        Pattern pattern = Pattern.compile(regEx);\r\n        Matcher matcher = pattern.matcher(testStr);\r\n        while (matcher.find())\r\n            System.out.printf(&quot;Found %d, of capital letters in %s%n&quot;, \r\n              matcher.groupCount(), testStr);\r\n\r\n    }\r\n\r\nUPDATE: Use this **much simpler one-liner code** to count number of Unicode upper case letters in a string:\r\n\r\n    int countuc = testStr.split(&quot;(?=\\\\p{Lu})&quot;).length - 1;","title":"Regular Expression for UpperCase Letters In A String","body":"<p>It doesn't work because you have 2 problems:</p>\n\n<ol>\n<li>Regex is incorrect, it should be <code>\"[A-Z]\"</code> for ASCII letter or <code>\\p{Lu}</code> for Unicode uppercase letters</li>\n<li>You're not calling <code>while (matcher.find())</code> before <code>matcher.groupCount()</code></li>\n</ol>\n\n<p><strong>Correct code:</strong></p>\n\n<pre><code>public void testCountTheNumberOfUpperCaseCharacters() {\n    String testStr = \"abcdefghijkTYYtyyQ\";\n    String regEx = \"(\\\\p{Lu})\";\n    Pattern pattern = Pattern.compile(regEx);\n    Matcher matcher = pattern.matcher(testStr);\n    while (matcher.find())\n        System.out.printf(\"Found %d, of capital letters in %s%n\", \n          matcher.groupCount(), testStr);\n\n}\n</code></pre>\n\n<p>UPDATE: Use this <strong>much simpler one-liner code</strong> to count number of Unicode upper case letters in a string:</p>\n\n<pre><code>int countuc = testStr.split(\"(?=\\\\p{Lu})\").length - 1;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":134022,"reputation":717183,"user_id":335858,"accept_rate":81,"display_name":"Sergey Kalinichenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1387379680,"creation_date":1387379680,"answer_id":20661775,"question_id":20661724,"body_markdown":"&gt; It should find upper case letters in the given string and give me the count.\r\n\r\nNo, it shouldn&#39;t: the `^` and `$` anchors prevent it from doing so, forcing to look for a non-empty string composed *entirely* of uppercase characters.\r\n\r\nMoreover, you cannot expect a group count in an expression that does not define groups to be anything other than zero (no matches) or one (a single match).\r\n\r\nIf you insist on using a regex, use a simple `[A-Z]` expression with no anchors, and call `matcher.find()` in a loop. A better approach, however, would be calling [`Character.isUpperCase`][1] on the characters of your string, and counting the hits:\r\n\r\n    int count = 0;\r\n    for (char c : str.toCharArray()) {\r\n        if (Character.isUpperCase(c)) {\r\n            count++;\r\n        }\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Character.html#isUpperCase%28char%29","title":"Regular Expression for UpperCase Letters In A String","body":"<blockquote>\n  <p>It should find upper case letters in the given string and give me the count.</p>\n</blockquote>\n\n<p>No, it shouldn't: the <code>^</code> and <code>$</code> anchors prevent it from doing so, forcing to look for a non-empty string composed <em>entirely</em> of uppercase characters.</p>\n\n<p>Moreover, you cannot expect a group count in an expression that does not define groups to be anything other than zero (no matches) or one (a single match).</p>\n\n<p>If you insist on using a regex, use a simple <code>[A-Z]</code> expression with no anchors, and call <code>matcher.find()</code> in a loop. A better approach, however, would be calling <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Character.html#isUpperCase%28char%29\" rel=\"nofollow\"><code>Character.isUpperCase</code></a> on the characters of your string, and counting the hits:</p>\n\n<pre><code>int count = 0;\nfor (char c : str.toCharArray()) {\n    if (Character.isUpperCase(c)) {\n        count++;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1365317,"reputation":909,"user_id":1301881,"accept_rate":100,"display_name":"James Gawron"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1387379739,"creation_date":1387379739,"answer_id":20661793,"question_id":20661724,"body_markdown":"Your pattern as you&#39;ve written it looks for 1 or more capital letters between the beginning and the end of the line...if there are any lowercase characters in the line it won&#39;t match.\r\n","title":"Regular Expression for UpperCase Letters In A String","body":"<p>Your pattern as you've written it looks for 1 or more capital letters between the beginning and the end of the line...if there are any lowercase characters in the line it won't match.</p>\n"},{"tags":[],"owner":{"account_id":3024170,"reputation":1867,"user_id":2564545,"display_name":"M21B8"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1387380271,"creation_date":1387379823,"answer_id":20661822,"question_id":20661724,"body_markdown":"This should do what you&#39;re after,    \r\n\r\n    @Test\r\n    public void testCountTheNumberOfUpperCaseCharacters() {\r\n      String testStr = &quot;abcdefghijkTYYtyyQ&quot;;\r\n      String regEx = &quot;[A-Z]+&quot;;\r\n      Pattern pattern = Pattern.compile(regEx);\r\n      Matcher matcher = pattern.matcher(testStr);\r\n      int count = 0;\r\n      while (matcher.find()) {\r\n        count+=matcher.group(0).length();\r\n      }\r\n      System.out.printf(&quot;Found %d, of capital letters in %s%n&quot;, count, testStr);\r\n    }","title":"Regular Expression for UpperCase Letters In A String","body":"<p>This should do what you're after,    </p>\n\n<pre><code>@Test\npublic void testCountTheNumberOfUpperCaseCharacters() {\n  String testStr = \"abcdefghijkTYYtyyQ\";\n  String regEx = \"[A-Z]+\";\n  Pattern pattern = Pattern.compile(regEx);\n  Matcher matcher = pattern.matcher(testStr);\n  int count = 0;\n  while (matcher.find()) {\n    count+=matcher.group(0).length();\n  }\n  System.out.printf(\"Found %d, of capital letters in %s%n\", count, testStr);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8544190,"reputation":317,"user_id":6403202,"accept_rate":100,"display_name":"ganesh konathala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500327422,"creation_date":1500186442,"answer_id":45125731,"question_id":20661724,"body_markdown":"In this example i&#39;m using a regex(regular Expression) to count the number of UpperCase and LowerCase letters in the given string using Java.\r\n   \r\n    import java.util.regex.*;\r\n    import java.util.Scanner;\r\n    import java.io.*;\r\n    public class CandidateCode {\r\n        public static void main(String args[] ) throws Exception {\r\n            Scanner sc= new Scanner(System.in);\r\n        //  Reads the String of data entered in a line\r\n            String str = sc.nextLine();\r\n\r\n        //counts uppercase letteres in the given String \r\n            int countuc = str.split(&quot;([A-Z]+?)&quot;).length; \r\n\r\n        //counts lowercase letteres in the given String \r\n            int countlc = str.split(&quot;([a-z]+?)&quot;).length; \r\n\r\n            System.out.println(&quot;UpperCase count: &quot;+countuc-1);\r\n            System.out.println(&quot;LowerCase count: &quot;+countlc-1);\r\n       }\r\n    }","title":"Regular Expression for UpperCase Letters In A String","body":"<p>In this example i'm using a regex(regular Expression) to count the number of UpperCase and LowerCase letters in the given string using Java.</p>\n\n<pre><code>import java.util.regex.*;\nimport java.util.Scanner;\nimport java.io.*;\npublic class CandidateCode {\n    public static void main(String args[] ) throws Exception {\n        Scanner sc= new Scanner(System.in);\n    //  Reads the String of data entered in a line\n        String str = sc.nextLine();\n\n    //counts uppercase letteres in the given String \n        int countuc = str.split(\"([A-Z]+?)\").length; \n\n    //counts lowercase letteres in the given String \n        int countlc = str.split(\"([a-z]+?)\").length; \n\n        System.out.println(\"UpperCase count: \"+countuc-1);\n        System.out.println(\"LowerCase count: \"+countlc-1);\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4088027,"reputation":1554,"user_id":3356847,"display_name":"vivekkurien"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1526831066,"creation_date":1526831066,"answer_id":50436581,"question_id":20661724,"body_markdown":"Change the regular expression to \r\n**[A-Z]** which checks all occurrences of capital letters\r\n\r\nPlease refer the below example which counts number of capital letters in a string using pattern\r\n\r\n\r\n    @Test\r\n    public void testCountTheNumberOfUpperCaseCharacters() {\r\n        Pattern ptrn = Pattern.compile(&quot;[A-Z]&quot;);\r\n        Matcher matcher = ptrn.matcher(&quot;ivekKVVV&quot;);\r\n        int from = 0;\r\n        int count = 0;\r\n        while(matcher.find(from)) {\r\n            count++;\r\n            from = matcher.start() + 1;\r\n        }\r\n        System.out.println(count);\r\n    }\r\n}","title":"Regular Expression for UpperCase Letters In A String","body":"<p>Change the regular expression to \n<strong>[A-Z]</strong> which checks all occurrences of capital letters</p>\n\n<p>Please refer the below example which counts number of capital letters in a string using pattern</p>\n\n<pre><code>@Test\npublic void testCountTheNumberOfUpperCaseCharacters() {\n    Pattern ptrn = Pattern.compile(\"[A-Z]\");\n    Matcher matcher = ptrn.matcher(\"ivekKVVV\");\n    int from = 0;\n    int count = 0;\n    while(matcher.find(from)) {\n        count++;\n        from = matcher.start() + 1;\n    }\n    System.out.println(count);\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":10469845,"reputation":55,"user_id":11898558,"display_name":"JuBz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1602080636,"creation_date":1602064357,"answer_id":64241542,"question_id":20661724,"body_markdown":"You can also use Java Regex, for example: \r\n\r\n    .+[\\p{javaUpperCase}].+ \r\n\r\nAn example from my work project:\r\n[![RegEx Result Image][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/dw6f8.png","title":"Regular Expression for UpperCase Letters In A String","body":"<p>You can also use Java Regex, for example:</p>\n<pre><code>.+[\\p{javaUpperCase}].+ \n</code></pre>\n<p>An example from my work project:\n<a href=\"https://i.stack.imgur.com/dw6f8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/dw6f8.png\" alt=\"RegEx Result Image\" /></a></p>\n"},{"tags":[],"owner":{"account_id":188312,"reputation":586,"user_id":427009,"accept_rate":73,"display_name":"MiB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644230683,"creation_date":1644229238,"answer_id":71016873,"question_id":20661724,"body_markdown":"Here&#39;s a solution for Java 9 and later that makes use of the [results() method][1] of Matcher, which returns a stream of the results, out of which the entries can be counted. The suggestion from @Sergey Kalinichenko to remove the `^` and `$` anchors has also been incorporated into the regex string.\r\n\r\n    public class RegEx {\r\n     @Test\r\n     public void testCountTheNumberOfUpperCaseCharacters() {\r\n        String testStr = &quot;abcdefghijkTYYtyyQ&quot;;\r\n        String regEx = &quot;\\\\p{Lu}&quot;;\r\n\r\n        Pattern pattern = Pattern.compile(regEx);\r\n        Matcher matcher = pattern.matcher(testStr);\r\n        long count = matcher.results().count();\r\n        \r\n        System.out.printf(&quot;Found %d of capital letters in %s%n&quot;, count, testStr);\r\n\r\n     }\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#results--","title":"Regular Expression for UpperCase Letters In A String","body":"<p>Here's a solution for Java 9 and later that makes use of the <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/regex/Matcher.html#results--\" rel=\"nofollow noreferrer\">results() method</a> of Matcher, which returns a stream of the results, out of which the entries can be counted. The suggestion from @Sergey Kalinichenko to remove the <code>^</code> and <code>$</code> anchors has also been incorporated into the regex string.</p>\n<pre><code>public class RegEx {\n @Test\n public void testCountTheNumberOfUpperCaseCharacters() {\n    String testStr = &quot;abcdefghijkTYYtyyQ&quot;;\n    String regEx = &quot;\\\\p{Lu}&quot;;\n\n    Pattern pattern = Pattern.compile(regEx);\n    Matcher matcher = pattern.matcher(testStr);\n    long count = matcher.results().count();\n    \n    System.out.printf(&quot;Found %d of capital letters in %s%n&quot;, count, testStr);\n\n }\n}\n</code></pre>\n"}],"owner":{"account_id":232400,"reputation":653,"user_id":497209,"accept_rate":50,"display_name":"David"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51418,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":20661766,"answer_count":9,"score":11,"last_activity_date":1644230683,"creation_date":1387379547,"question_id":20661724,"body_markdown":"For the life of me, I can&#39;t figure out why this regular expression is not working. It should find upper case letters in the given string and give me the count. Any ideas are welcome.\r\n\r\nHere is the unit test code:\r\n\r\n    public class RegEx {\r\n    \r\n        @Test\r\n        public void testCountTheNumberOfUpperCaseCharacters() {\r\n            String testStr = &quot;abcdefghijkTYYtyyQ&quot;;\r\n            String regEx = &quot;^[A-Z]+$&quot;;\r\n    \r\n            Pattern pattern = Pattern.compile(regEx);\r\n    \r\n            Matcher matcher = pattern.matcher(testStr);\r\n    \r\n            System.out.printf(&quot;Found %d, of capital letters in %s%n&quot;, matcher.groupCount(), testStr);\r\n    \r\n        }\r\n    }","title":"Regular Expression for UpperCase Letters In A String","body":"<p>For the life of me, I can't figure out why this regular expression is not working. It should find upper case letters in the given string and give me the count. Any ideas are welcome.</p>\n\n<p>Here is the unit test code:</p>\n\n<pre><code>public class RegEx {\n\n    @Test\n    public void testCountTheNumberOfUpperCaseCharacters() {\n        String testStr = \"abcdefghijkTYYtyyQ\";\n        String regEx = \"^[A-Z]+$\";\n\n        Pattern pattern = Pattern.compile(regEx);\n\n        Matcher matcher = pattern.matcher(testStr);\n\n        System.out.printf(\"Found %d, of capital letters in %s%n\", matcher.groupCount(), testStr);\n\n    }\n}\n</code></pre>\n"},{"tags":["java","arrays","xor"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1644229398,"post_id":71016831,"comment_id":125540604,"body_markdown":"`x ^ x = 0` (anything xor&#39;d with itself is zero). `a ^ b ^ c = (a ^ b) ^ c = a ^ (b ^ c)` (xor is associative). `a ^ b = b ^ a` (xor is commutative). Does that help?","body":"<code>x ^ x = 0</code> (anything xor&#39;d with itself is zero). <code>a ^ b ^ c = (a ^ b) ^ c = a ^ (b ^ c)</code> (xor is associative). <code>a ^ b = b ^ a</code> (xor is commutative). Does that help?"},{"owner":{"account_id":23246470,"reputation":541,"user_id":17335001,"display_name":"nquincampoix"},"score":0,"creation_date":1644230541,"post_id":71016831,"comment_id":125541036,"body_markdown":"This algorithm may not work in every possible situation. Are there any assumptions we should be aware of ?","body":"This algorithm may not work in every possible situation. Are there any assumptions we should be aware of ?"}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644229666,"creation_date":1644229666,"answer_id":71016983,"question_id":71016831,"body_markdown":"If all the elements of the array can be grouped as pairs of equal numbers, XORing each pair of numbers will result in `0`.\r\nThe order in which the elements are XORed doesn&#39;t matter.\r\n\r\nFor example, if the array is 4,5,4,5\r\n\r\n    xor = arr[0] ^ xor; // 0..0100 ^ 0..0000 = 0..0100\r\n    xor = arr[1] ^ xor; // 0..0101 ^ 0..0100 = 0..0001\r\n    xor = arr[2] ^ xor; // 0..0100 ^ 0..0001 = 0..0101\r\n    xor = arr[3] ^ xor; // 0..0101 ^ 0..0101 = 0..0000 = 0\r\n\r\nIf, on the other hand, all the elements of the array but one can be paired, after XORing all of them, only that one un-paired element will remain.\r\n\r\nFor example, if the array is 4,5,6,4,5\r\n\r\n    xor = arr[0] ^ xor; // 0..0100 ^ 0..0000 = 0..0100\r\n    xor = arr[1] ^ xor; // 0..0101 ^ 0..0100 = 0..0001\r\n    xor = arr[2] ^ xor; // 0..0110 ^ 0..0001 = 0..0111\r\n    xor = arr[3] ^ xor; // 0..0100 ^ 0..0111 = 0..0011\r\n    xor = arr[4] ^ xor; // 0..0101 ^ 0..0011 = 0..0110 = 6\r\n\r\n ","title":"How is XOR helping find the unique value?","body":"<p>If all the elements of the array can be grouped as pairs of equal numbers, XORing each pair of numbers will result in <code>0</code>.\nThe order in which the elements are XORed doesn't matter.</p>\n<p>For example, if the array is 4,5,4,5</p>\n<pre><code>xor = arr[0] ^ xor; // 0..0100 ^ 0..0000 = 0..0100\nxor = arr[1] ^ xor; // 0..0101 ^ 0..0100 = 0..0001\nxor = arr[2] ^ xor; // 0..0100 ^ 0..0001 = 0..0101\nxor = arr[3] ^ xor; // 0..0101 ^ 0..0101 = 0..0000 = 0\n</code></pre>\n<p>If, on the other hand, all the elements of the array but one can be paired, after XORing all of them, only that one un-paired element will remain.</p>\n<p>For example, if the array is 4,5,6,4,5</p>\n<pre><code>xor = arr[0] ^ xor; // 0..0100 ^ 0..0000 = 0..0100\nxor = arr[1] ^ xor; // 0..0101 ^ 0..0100 = 0..0001\nxor = arr[2] ^ xor; // 0..0110 ^ 0..0001 = 0..0111\nxor = arr[3] ^ xor; // 0..0100 ^ 0..0111 = 0..0011\nxor = arr[4] ^ xor; // 0..0101 ^ 0..0011 = 0..0110 = 6\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20635961,"reputation":531,"user_id":15149644,"display_name":"THUNDER 07"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644229912,"creation_date":1644229912,"answer_id":71017036,"question_id":71016831,"body_markdown":"This work only when you have one unique value and even number of duplicate values.\r\n\r\nConsider the following test case:\r\n```7 ^ 3 ^ 5 ^ 4 ^ 5 ^ 3 ^ 4```\r\nThis can be rearranged as ```7 ^ (3 ^ 3) ^ (4 ^ 4) ^ (5 ^ 5)```\r\n&lt;ul&gt;\r\n&lt;li&gt;xor is commutative: A ^ B = B ^ A\r\n&lt;li&gt;xor is associative: (A ^ B) ^ C = A ^ (B ^ C)\r\n&lt;li&gt;xoring with zero does nothing: A ^ 0 = A\r\n&lt;li&gt;xoring something twice removes it: A ^ A = 0\r\n&lt;/ul&gt;\r\n\r\nApplying this rules on above test case gives \r\n```7 ^ 0 ^ 0 ^ 0``` then ```7 ^ 0``` i.e ```7```\r\n\r\n[Refer this](https://www.geeksforgeeks.org/bitwise-operators-in-c-cpp/) for more info about XOR\r\n","title":"How is XOR helping find the unique value?","body":"<p>This work only when you have one unique value and even number of duplicate values.</p>\n<p>Consider the following test case:\n<code>7 ^ 3 ^ 5 ^ 4 ^ 5 ^ 3 ^ 4</code>\nThis can be rearranged as <code>7 ^ (3 ^ 3) ^ (4 ^ 4) ^ (5 ^ 5)</code></p>\n<ul>\n<li>xor is commutative: A ^ B = B ^ A\n<li>xor is associative: (A ^ B) ^ C = A ^ (B ^ C)\n<li>xoring with zero does nothing: A ^ 0 = A\n<li>xoring something twice removes it: A ^ A = 0\n</ul>\n<p>Applying this rules on above test case gives\n<code>7 ^ 0 ^ 0 ^ 0</code> then <code>7 ^ 0</code> i.e <code>7</code></p>\n<p><a href=\"https://www.geeksforgeeks.org/bitwise-operators-in-c-cpp/\" rel=\"nofollow noreferrer\">Refer this</a> for more info about XOR</p>\n"}],"owner":{"account_id":23985436,"reputation":13,"user_id":17972302,"display_name":"Marius"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":486,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71016983,"answer_count":2,"score":1,"last_activity_date":1644229912,"creation_date":1644229051,"question_id":71016831,"body_markdown":"I have a problem to writhe a function that finds the unique value from an array, i could not solve the problem but i asked someone to help, he provided the solution by using XOR(^), but could not explain for me to understand it. I know that XOR has the following table:\r\n\r\n    1 ^ 0 = 1\r\n    1 ^ 1 = 0\r\n    0 ^ 0 = 0\r\n    0 ^ 1 = 1\r\n\r\nSo, if the values are different XOR returns 1 or a non negative value in case of other numbers but I still don&#39;t get how this is helping me to solve this.\r\n  Can someone please explain how the code below is working and how is it finding the unique value? \r\n```java\r\nint xor = 0;\r\nint index = 0;\r\n    \r\nwhile(index &lt; arr.length) {\r\n    xor = arr[index] ^ xor;\r\n    index++;\r\n}\r\n    \r\nreturn xor;\r\n```","title":"How is XOR helping find the unique value?","body":"<p>I have a problem to writhe a function that finds the unique value from an array, i could not solve the problem but i asked someone to help, he provided the solution by using XOR(^), but could not explain for me to understand it. I know that XOR has the following table:</p>\n<pre><code>1 ^ 0 = 1\n1 ^ 1 = 0\n0 ^ 0 = 0\n0 ^ 1 = 1\n</code></pre>\n<p>So, if the values are different XOR returns 1 or a non negative value in case of other numbers but I still don't get how this is helping me to solve this.\nCan someone please explain how the code below is working and how is it finding the unique value?</p>\n<pre class=\"lang-java prettyprint-override\"><code>int xor = 0;\nint index = 0;\n    \nwhile(index &lt; arr.length) {\n    xor = arr[index] ^ xor;\n    index++;\n}\n    \nreturn xor;\n</code></pre>\n"},{"tags":["java","activemq-artemis"],"answers":[{"tags":[],"owner":{"account_id":9190575,"reputation":8919,"user_id":6831257,"display_name":"GolamMazid Sajib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1546246434,"creation_date":1546246434,"answer_id":53985427,"question_id":53257375,"body_markdown":"# Solution\n\nThis problem occurred for jolokia-access.xml.\nremove allow-origin and add below configuration:\n\n    &lt;remote&gt;\n          &lt;host&gt;localhost&lt;/host&gt;\n          &lt;host&gt;192.168.0.0/16&lt;/host&gt;\n    &lt;/remote&gt;\n\nHere I allowed 192.168 block ip.\n\nDocumentation [here][1]\n\n\n  [1]: https://jolokia.org/reference/html/security.html","title":"Artemis-2.6.3 console: Service Unavailable","body":"<h1>Solution</h1>\n<p>This problem occurred for jolokia-access.xml.\nremove allow-origin and add below configuration:</p>\n<pre><code>&lt;remote&gt;\n      &lt;host&gt;localhost&lt;/host&gt;\n      &lt;host&gt;192.168.0.0/16&lt;/host&gt;\n&lt;/remote&gt;\n</code></pre>\n<p>Here I allowed 192.168 block ip.</p>\n<p>Documentation <a href=\"https://jolokia.org/reference/html/security.html\" rel=\"nofollow noreferrer\">here</a></p>\n"},{"tags":[],"owner":{"account_id":1308473,"reputation":12,"user_id":7208117,"display_name":"jonny.zhu"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1551951061,"creation_date":1551951061,"answer_id":55040330,"question_id":53257375,"body_markdown":"\r\n```\r\n 26         &lt;!-- Allow cross origin access from localhost ... --&gt;\r\n 27         &lt;allow-origin&gt;*&lt;/allow-origin&gt;\r\n```\r\n\r\nmatch all","title":"Artemis-2.6.3 console: Service Unavailable","body":"<pre><code> 26         &lt;!-- Allow cross origin access from localhost ... --&gt;\n 27         &lt;allow-origin&gt;*&lt;/allow-origin&gt;\n</code></pre>\n\n<p>match all</p>\n"},{"tags":[],"owner":{"account_id":15103756,"reputation":77,"user_id":10900030,"display_name":"Alchemisz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644229901,"creation_date":1644229901,"answer_id":71017030,"question_id":53257375,"body_markdown":"I had same problem when i tried to setup the broker as Windows service.\r\nAfter some tries i just start the broker by executing:\r\n\r\n**artemis run** \r\n\r\n(from broker bin directory)\r\nNow i got access to the console.","title":"Artemis-2.6.3 console: Service Unavailable","body":"<p>I had same problem when i tried to setup the broker as Windows service.\nAfter some tries i just start the broker by executing:</p>\n<p><strong>artemis run</strong></p>\n<p>(from broker bin directory)\nNow i got access to the console.</p>\n"}],"owner":{"account_id":9190575,"reputation":8919,"user_id":6831257,"display_name":"GolamMazid Sajib"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1266,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":53985427,"answer_count":3,"score":1,"last_activity_date":1644229901,"creation_date":1542006746,"question_id":53257375,"body_markdown":"I started artemis-service successfully. But web console not working.\r\n\r\ncmnd: **sudo &quot;/usr/lib/myBroker/bin/artemis-service&quot; start**\r\n\r\nurl: *http://ip:8161/console/*\r\n\r\nresponse:\r\n\r\n&gt; HTTP ERROR 503 Problem accessing /console/. Reason:\r\n&gt; \r\n&gt;     Service Unavailable\r\n\r\nI change the **bootstrap.xml** to access **8161** port from outside.\r\n\r\nFrom: **bind=&quot;http://localhost:8161&quot;**\r\n\r\nTo: **bind=&quot;http://0.0.0.0:8161&quot;** \r\n\r\n**N.B**: when I start it in my local-machine working fine without change bootstrap.xml.\r\n","title":"Artemis-2.6.3 console: Service Unavailable","body":"<p>I started artemis-service successfully. But web console not working.</p>\n\n<p>cmnd: <strong>sudo \"/usr/lib/myBroker/bin/artemis-service\" start</strong></p>\n\n<p>url: <em><a href=\"http://ip:8161/console/\" rel=\"nofollow noreferrer\">http://ip:8161/console/</a></em></p>\n\n<p>response:</p>\n\n<blockquote>\n  <p>HTTP ERROR 503 Problem accessing /console/. Reason:</p>\n\n<pre><code>Service Unavailable\n</code></pre>\n</blockquote>\n\n<p>I change the <strong>bootstrap.xml</strong> to access <strong>8161</strong> port from outside.</p>\n\n<p>From: <strong>bind=\"http://localhost:8161\"</strong></p>\n\n<p>To: <strong>bind=\"http://0.0.0.0:8161\"</strong> </p>\n\n<p><strong>N.B</strong>: when I start it in my local-machine working fine without change bootstrap.xml.</p>\n"},{"tags":["java","selenium","selenium-firefoxdriver","htmlunit-driver"],"answers":[{"tags":[],"owner":{"account_id":4261091,"reputation":32684,"user_id":3485434,"accept_rate":97,"display_name":"Prophet"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644229427,"creation_date":1644229427,"answer_id":71016923,"question_id":71016767,"body_markdown":"The URL you are trying to open blocks access to it for Chrome too.  \r\nI tried to open it with regular Chrome browser on my PC even without Selenium.  \r\nIt presents the following message:  \r\n&gt;Error 1020 Ray ID: 6d9bdf8b1b729131 • 2022-02-07 10:18:16 UTC  \r\n&gt;Access denied  \r\n&gt;What happened?  \r\n&gt;This website is using a security service to protect itself from online attacks.\r\n\r\n&gt;Cloudflare Ray ID: 6d9bdf8b1b729131 • Your IP: 77.137.69.164 • Performance &amp; security by Cloudflare\r\n\r\nOccurs both for `https://new.hollywoodbets.net` and for `https://www.hollywoodbets.net`.  The former link is actually redirecting to the first one. ","title":"Unable to Access a website using FirefoxDriver and HtmlUnitDriver","body":"<p>The URL you are trying to open blocks access to it for Chrome too.<br />\nI tried to open it with regular Chrome browser on my PC even without Selenium.<br />\nIt presents the following message:</p>\n<blockquote>\n<p>Error 1020 Ray ID: 6d9bdf8b1b729131 • 2022-02-07 10:18:16 UTC<br />\nAccess denied<br />\nWhat happened?<br />\nThis website is using a security service to protect itself from online attacks.</p>\n</blockquote>\n<blockquote>\n<p>Cloudflare Ray ID: 6d9bdf8b1b729131 • Your IP: 77.137.69.164 • Performance &amp; security by Cloudflare</p>\n</blockquote>\n<p>Occurs both for <code>https://new.hollywoodbets.net</code> and for <code>https://www.hollywoodbets.net</code>.  The former link is actually redirecting to the first one.</p>\n"}],"owner":{"account_id":11808254,"reputation":37,"user_id":8640260,"display_name":"rich25"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644229427,"creation_date":1644228746,"question_id":71016767,"body_markdown":"\r\nI&#39;m trying to access the website using FirefoxDriver but I&#39;m getting a ***not a valid url exception***\r\n\r\nI also tried with HtmlUnitDriver there the website title come back as ***null***\r\n\r\nI tied the old and new website on the below \r\n\r\n```\r\n\r\nSystem.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;C:\\\\Users\\\\Family\\\\path to firefox driver\\\\geckodriver.exe&quot;);\r\n\r\n//WebDriver driver = HtmlUnitDriver();\r\n\r\nWebDriver driver = new FirefoxDriver();&#160;\r\n\r\ndriver.manage().window().maximize();\r\n\r\ndriver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);&#160;\r\n\r\n//this is an old website\r\n//driver.get(&quot;https://www.hollywoodbets.net&quot;);\r\n\r\n//this is a new website\r\ndriver.get(&quot;https://new.hollywoodbets.net&quot;);\r\n\r\nSystem.out.println(&quot;WEBSITE TITTLE &quot; + driver.getTitle());\r\n\r\n```","title":"Unable to Access a website using FirefoxDriver and HtmlUnitDriver","body":"<p>I'm trying to access the website using FirefoxDriver but I'm getting a <em><strong>not a valid url exception</strong></em></p>\n<p>I also tried with HtmlUnitDriver there the website title come back as <em><strong>null</strong></em></p>\n<p>I tied the old and new website on the below</p>\n<pre><code>\nSystem.setProperty(&quot;webdriver.gecko.driver&quot;,&quot;C:\\\\Users\\\\Family\\\\path to firefox driver\\\\geckodriver.exe&quot;);\n\n//WebDriver driver = HtmlUnitDriver();\n\nWebDriver driver = new FirefoxDriver(); \n\ndriver.manage().window().maximize();\n\ndriver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS); \n\n//this is an old website\n//driver.get(&quot;https://www.hollywoodbets.net&quot;);\n\n//this is a new website\ndriver.get(&quot;https://new.hollywoodbets.net&quot;);\n\nSystem.out.println(&quot;WEBSITE TITTLE &quot; + driver.getTitle());\n\n</code></pre>\n"},{"tags":["java","spring","multithreading","spring-boot","microservices"],"comments":[{"owner":{"account_id":1310803,"reputation":2557,"user_id":1258838,"accept_rate":68,"display_name":"Juliyanage Silva"},"score":0,"creation_date":1644227203,"post_id":71016368,"comment_id":125539810,"body_markdown":"Unless you have anything working as a shared resource, it should work fine","body":"Unless you have anything working as a shared resource, it should work fine"},{"owner":{"account_id":15166317,"reputation":1,"user_id":10943738,"display_name":"Ansh Arora"},"score":0,"creation_date":1644227304,"post_id":71016368,"comment_id":125539846,"body_markdown":"The code contains just a print line, no shared resources involved.\nTried running on local as well as on Kubernetes. Always gets called in sequence.","body":"The code contains just a print line, no shared resources involved. Tried running on local as well as on Kubernetes. Always gets called in sequence."},{"owner":{"account_id":1310803,"reputation":2557,"user_id":1258838,"accept_rate":68,"display_name":"Juliyanage Silva"},"score":0,"creation_date":1644227412,"post_id":71016368,"comment_id":125539889,"body_markdown":"How do you send the requests?","body":"How do you send the requests?"},{"owner":{"account_id":15166317,"reputation":1,"user_id":10943738,"display_name":"Ansh Arora"},"score":0,"creation_date":1644227440,"post_id":71016368,"comment_id":125539904,"body_markdown":"Using postman manually.","body":"Using postman manually."},{"owner":{"account_id":1310803,"reputation":2557,"user_id":1258838,"accept_rate":68,"display_name":"Juliyanage Silva"},"score":0,"creation_date":1644227555,"post_id":71016368,"comment_id":125539950,"body_markdown":"so they cant be considered parallel, they get executed in a sequence","body":"so they cant be considered parallel, they get executed in a sequence"},{"owner":{"account_id":15166317,"reputation":1,"user_id":10943738,"display_name":"Ansh Arora"},"score":0,"creation_date":1644227604,"post_id":71016368,"comment_id":125539969,"body_markdown":"But the print should happen as soon as the API is hit, but the print happens 10s after the previous print.","body":"But the print should happen as soon as the API is hit, but the print happens 10s after the previous print."},{"owner":{"account_id":5665214,"reputation":325,"user_id":4481550,"accept_rate":88,"display_name":"Micka&#235;l B."},"score":1,"creation_date":1644228109,"post_id":71016368,"comment_id":125540136,"body_markdown":"Your method is blocking by default, so it will wait that Thread.sleep() returns. If you want an async behaviour you can achieve it with @Async that will delegate the execution of your method to a task.","body":"Your method is blocking by default, so it will wait that Thread.sleep() returns. If you want an async behaviour you can achieve it with @Async that will delegate the execution of your method to a task."},{"owner":{"account_id":1310803,"reputation":2557,"user_id":1258838,"accept_rate":68,"display_name":"Juliyanage Silva"},"score":0,"creation_date":1644228155,"post_id":71016368,"comment_id":125540153,"body_markdown":"sleep might be holding println resources. You might need to do more research on println.","body":"sleep might be holding println resources. You might need to do more research on println."},{"owner":{"account_id":15166317,"reputation":1,"user_id":10943738,"display_name":"Ansh Arora"},"score":1,"creation_date":1644228608,"post_id":71016368,"comment_id":125540321,"body_markdown":"@Micka&#235;lB. by default, on a prod environment, an API is accessible to only 1 request at a time?\nIf an API responds back in 5 seconds, does that mean other calls to the same API will wait?","body":"@Micka&#235;lB. by default, on a prod environment, an API is accessible to only 1 request at a time? If an API responds back in 5 seconds, does that mean other calls to the same API will wait?"},{"owner":{"account_id":1310803,"reputation":2557,"user_id":1258838,"accept_rate":68,"display_name":"Juliyanage Silva"},"score":0,"creation_date":1644228983,"post_id":71016368,"comment_id":125540460,"body_markdown":"No, each request is served in it&#39;s own thread and I suspect in your case, print resources are being held while the thread goes to sleep","body":"No, each request is served in it&#39;s own thread and I suspect in your case, print resources are being held while the thread goes to sleep"},{"owner":{"account_id":15166317,"reputation":1,"user_id":10943738,"display_name":"Ansh Arora"},"score":0,"creation_date":1644229440,"post_id":71016368,"comment_id":125540624,"body_markdown":"Added an update, was able to make it work but still no reason justifies the behaviour","body":"Added an update, was able to make it work but still no reason justifies the behaviour"},{"owner":{"account_id":5168218,"reputation":234,"user_id":4137589,"display_name":"Pradeep Krishna Govindaraju"},"score":0,"creation_date":1644231995,"post_id":71016368,"comment_id":125541590,"body_markdown":"I&#39;m suspecting that postman was the one waiting for the response to be received and not the server. Try simulating the same call using curl in 3 different terminal windows.","body":"I&#39;m suspecting that postman was the one waiting for the response to be received and not the server. Try simulating the same call using curl in 3 different terminal windows."},{"owner":{"account_id":15166317,"reputation":1,"user_id":10943738,"display_name":"Ansh Arora"},"score":0,"creation_date":1644233064,"post_id":71016368,"comment_id":125541981,"body_markdown":"Hey @PradeepKrishnaGovindaraju, thanks for the reply.\nI did try calling the same API in 3 different postman tabs. \nThe first call responds back in 10s, second in 20s, third in 30s, hence indicating the waiting.","body":"Hey @PradeepKrishnaGovindaraju, thanks for the reply. I did try calling the same API in 3 different postman tabs.  The first call responds back in 10s, second in 20s, third in 30s, hence indicating the waiting."},{"owner":{"account_id":7749923,"reputation":563,"user_id":5866166,"accept_rate":60,"display_name":"Pavan"},"score":0,"creation_date":1644235437,"post_id":71016368,"comment_id":125542854,"body_markdown":"@AnshArora how are you sending all the 3 requests at once?  is that the delay in sending the requests.","body":"@AnshArora how are you sending all the 3 requests at once?  is that the delay in sending the requests."},{"owner":{"account_id":15166317,"reputation":1,"user_id":10943738,"display_name":"Ansh Arora"},"score":0,"creation_date":1644238317,"post_id":71016368,"comment_id":125543895,"body_markdown":"Sending them one after another, but not with a 10s delay, maybe a second after each other. But the logs are being printed 10s apart due to the thread sleeping.","body":"Sending them one after another, but not with a 10s delay, maybe a second after each other. But the logs are being printed 10s apart due to the thread sleeping."}],"owner":{"account_id":15166317,"reputation":1,"user_id":10943738,"display_name":"Ansh Arora"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1052,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644229337,"creation_date":1644226883,"question_id":71016368,"body_markdown":"I have a simple API that just prints Hello on the console. After printing, the thread sleeps for 10 seconds.\r\n\r\nI hit this API thrice one after another within a second using postman.\r\n\r\nIdeally, the print should happen as soon as the API is called but they happen at a gap of 10s each.\r\n\r\nI&#39;m not able to figure out why is this happening and how to make it work?\r\n\r\nThe API: \r\n\r\n    @GetMapping(value = &quot;/print-hello&quot;)\r\n    public void printHello() throws InterruptedException {\r\n        System.out.println(LocalDateTime.now().atZone(ZoneId.of(&quot;Asia/Kolkata&quot;)) +  &quot;Hello on &quot; + Thread.currentThread().getName());\r\n        Thread.sleep(10000);\r\n    }\r\n\r\nConsole log (Note the ~10s difference in each):\r\n\r\n    2022-02-07T09:43:15.659257+05:30[Asia/Kolkata]Hello on http-nio-8080-exec-10\r\n    2022-02-07T09:43:26.144665+05:30[Asia/Kolkata]Hello on http-nio-8080-exec-1\r\n    2022-02-07T09:43:36.187410+05:30[Asia/Kolkata]Hello on http-nio-8080-exec-3\r\n\r\n**Update**:\r\n\r\nI was able to make it print as soon as the API hits by creating a util function:\r\n\r\n    @GetMapping(value = &quot;/print-hello&quot;)\r\n    public void printHello() throws InterruptedException {\r\n        printHelloUtil();\r\n    }\r\n\r\n    public void printHelloUtil() throws InterruptedException {\r\n        System.out.println(LocalDateTime.now().atZone(ZoneId.of(&quot;Asia/Kolkata&quot;)) +  &quot;Hello on &quot; + Thread.currentThread().getName());\r\n        Thread.sleep(10000);\r\n    }\r\n\r\nOutput (Time difference now is just 1s):\r\n\r\n    2022-02-07T15:49:40.027275+05:30[Asia/Kolkata]Hello on http-nio-8080-exec-9\r\n    2022-02-07T15:49:41.502248+05:30[Asia/Kolkata]Hello on http-nio-8080-exec-10\r\n    2022-02-07T15:49:42.496611+05:30[Asia/Kolkata]Hello on http-nio-8080-exec-2\r\n\r\nStill clueless about what&#39;s happening behind the scenes.","title":"Springboot API not running in parallel for multiple API calls","body":"<p>I have a simple API that just prints Hello on the console. After printing, the thread sleeps for 10 seconds.</p>\n<p>I hit this API thrice one after another within a second using postman.</p>\n<p>Ideally, the print should happen as soon as the API is called but they happen at a gap of 10s each.</p>\n<p>I'm not able to figure out why is this happening and how to make it work?</p>\n<p>The API:</p>\n<pre><code>@GetMapping(value = &quot;/print-hello&quot;)\npublic void printHello() throws InterruptedException {\n    System.out.println(LocalDateTime.now().atZone(ZoneId.of(&quot;Asia/Kolkata&quot;)) +  &quot;Hello on &quot; + Thread.currentThread().getName());\n    Thread.sleep(10000);\n}\n</code></pre>\n<p>Console log (Note the ~10s difference in each):</p>\n<pre><code>2022-02-07T09:43:15.659257+05:30[Asia/Kolkata]Hello on http-nio-8080-exec-10\n2022-02-07T09:43:26.144665+05:30[Asia/Kolkata]Hello on http-nio-8080-exec-1\n2022-02-07T09:43:36.187410+05:30[Asia/Kolkata]Hello on http-nio-8080-exec-3\n</code></pre>\n<p><strong>Update</strong>:</p>\n<p>I was able to make it print as soon as the API hits by creating a util function:</p>\n<pre><code>@GetMapping(value = &quot;/print-hello&quot;)\npublic void printHello() throws InterruptedException {\n    printHelloUtil();\n}\n\npublic void printHelloUtil() throws InterruptedException {\n    System.out.println(LocalDateTime.now().atZone(ZoneId.of(&quot;Asia/Kolkata&quot;)) +  &quot;Hello on &quot; + Thread.currentThread().getName());\n    Thread.sleep(10000);\n}\n</code></pre>\n<p>Output (Time difference now is just 1s):</p>\n<pre><code>2022-02-07T15:49:40.027275+05:30[Asia/Kolkata]Hello on http-nio-8080-exec-9\n2022-02-07T15:49:41.502248+05:30[Asia/Kolkata]Hello on http-nio-8080-exec-10\n2022-02-07T15:49:42.496611+05:30[Asia/Kolkata]Hello on http-nio-8080-exec-2\n</code></pre>\n<p>Still clueless about what's happening behind the scenes.</p>\n"},{"tags":["java","gradle","javafx","module"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1643698611,"post_id":70935160,"comment_id":125402496,"body_markdown":"Probably you need to do something in gradle to get the JTranaforms jar on the module path (I don’t know what because I don’t use Gradle much).  But, separately from the immediate issue you have, you are also trying to use jlink.  From looking at the JTranaforms project, it doesn’t have a module-info.java, so it will be treated as an [automatic module](https://www.logicbig.com/tutorials/core-java-tutorial/modules/automatic-modules.html), so you will have [difficulty trying to link it](https://stackoverflow.com/questions/48408454/java-9-generating-a-runtime-image-with-jlink-using-3rd-party-jars)","body":"Probably you need to do something in gradle to get the JTranaforms jar on the module path (I don’t know what because I don’t use Gradle much).  But, separately from the immediate issue you have, you are also trying to use jlink.  From looking at the JTranaforms project, it doesn’t have a module-info.java, so it will be treated as an <a href=\"https://www.logicbig.com/tutorials/core-java-tutorial/modules/automatic-modules.html\" rel=\"nofollow noreferrer\">automatic module</a>, so you will have <a href=\"https://stackoverflow.com/questions/48408454/java-9-generating-a-runtime-image-with-jlink-using-3rd-party-jars\">difficulty trying to link it</a>"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1643698617,"post_id":70935160,"comment_id":125402498,"body_markdown":"Also, double check the actual jar names in your build folder to make sure you have the automatic module name right. Run describe module on the jar to see the derived name: `jar --file JTransforms-3.1.jar --describe-module`.","body":"Also, double check the actual jar names in your build folder to make sure you have the automatic module name right. Run describe module on the jar to see the derived name: <code>jar --file JTransforms-3.1.jar --describe-module</code>."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1643706653,"post_id":70935160,"comment_id":125404950,"body_markdown":"See the section titled “using libraries that are not modules” in the [Gradle documentation](https://docs.gradle.org/current/userguide/java_library_plugin.html#sec:java_library_modular).  By default Gradle puts those on the class path not the module path. You can’t require them in your module info unless you do some additional work like patching the dependent jar to add a module info, or you implement one of the other solutions mentioned but not really explained in the linked document..","body":"See the section titled “using libraries that are not modules” in the <a href=\"https://docs.gradle.org/current/userguide/java_library_plugin.html#sec:java_library_modular\" rel=\"nofollow noreferrer\">Gradle documentation</a>.  By default Gradle puts those on the class path not the module path. You can’t require them in your module info unless you do some additional work like patching the dependent jar to add a module info, or you implement one of the other solutions mentioned but not really explained in the linked document.."},{"owner":{"account_id":14937373,"reputation":328,"user_id":10901306,"display_name":"Zukaru"},"score":0,"creation_date":1643783213,"post_id":70935160,"comment_id":125427821,"body_markdown":"Thank you for the reply! I will try your suggestion for linking it by considering the automatic module you are mentioned","body":"Thank you for the reply! I will try your suggestion for linking it by considering the automatic module you are mentioned"}],"answers":[{"tags":[],"owner":{"account_id":14937373,"reputation":328,"user_id":10901306,"display_name":"Zukaru"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644229315,"creation_date":1644228041,"answer_id":71016619,"question_id":70935160,"body_markdown":"Guided by [@jewelsea](https://stackoverflow.com/users/1155209/jewelsea) in the comment, I have finally resolved this issue.\r\n\r\nAfter several days, I figured out that my imported libraries in modular java project are treated as an *unnamed module* (correct me if I am wrong). As I understood so far, libraries like `JTransforms` may belong to traditional libraries that do not cover the modularity feature like in Java 9. This means that the jar library does not have `Automatic-Module-Name` at the very least in its manifest metadata. See the [gradle documentation](https://docs.gradle.org/7.0/userguide/java_library_plugin.html#using_libraries_that_are_not_modules).\r\n\r\nThat is to say, I will have another approach using a grade plugin [`extra-java-module-info`](https://github.com/jjohannes/extra-java-module-info) and found a somewhat similar case in this [post](https://stackoverflow.com/questions/66819713/dependening-on-legacy-jar-in-java-9-module-system-library-using-gradle).\r\n\r\nUltimately, I add the following script in `build.gradle`\r\n\r\n```\r\nplugins {\r\n    ... // other plugins\r\n\r\n    id &#39;de.jjohannes.extra-java-module-info&#39; version &#39;0.11&#39;\r\n}\r\n\r\nextraJavaModuleInfo {\r\n    module(&quot;JTransforms-3.1.jar&quot;, &quot;JTransforms&quot;, &quot;3.1&quot;) {\r\n        exports(&quot;org.jtransforms&quot;)\r\n    }\r\n}\r\n```\r\n\r\nThen hit that sync button. That&#39;s all!\r\n\r\nCheers! Thanks again to @jewelsea.\r\n ","title":"&quot;Module not found, required by&quot; when implementing maven library via gradle using javafx?","body":"<p>Guided by <a href=\"https://stackoverflow.com/users/1155209/jewelsea\">@jewelsea</a> in the comment, I have finally resolved this issue.</p>\n<p>After several days, I figured out that my imported libraries in modular java project are treated as an <em>unnamed module</em> (correct me if I am wrong). As I understood so far, libraries like <code>JTransforms</code> may belong to traditional libraries that do not cover the modularity feature like in Java 9. This means that the jar library does not have <code>Automatic-Module-Name</code> at the very least in its manifest metadata. See the <a href=\"https://docs.gradle.org/7.0/userguide/java_library_plugin.html#using_libraries_that_are_not_modules\" rel=\"nofollow noreferrer\">gradle documentation</a>.</p>\n<p>That is to say, I will have another approach using a grade plugin <a href=\"https://github.com/jjohannes/extra-java-module-info\" rel=\"nofollow noreferrer\"><code>extra-java-module-info</code></a> and found a somewhat similar case in this <a href=\"https://stackoverflow.com/questions/66819713/dependening-on-legacy-jar-in-java-9-module-system-library-using-gradle\">post</a>.</p>\n<p>Ultimately, I add the following script in <code>build.gradle</code></p>\n<pre><code>plugins {\n    ... // other plugins\n\n    id 'de.jjohannes.extra-java-module-info' version '0.11'\n}\n\nextraJavaModuleInfo {\n    module(&quot;JTransforms-3.1.jar&quot;, &quot;JTransforms&quot;, &quot;3.1&quot;) {\n        exports(&quot;org.jtransforms&quot;)\n    }\n}\n</code></pre>\n<p>Then hit that sync button. That's all!</p>\n<p>Cheers! Thanks again to @jewelsea.</p>\n"}],"owner":{"account_id":14937373,"reputation":328,"user_id":10901306,"display_name":"Zukaru"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1181,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71016619,"answer_count":1,"score":1,"last_activity_date":1644229315,"creation_date":1643684586,"question_id":70935160,"body_markdown":"I am using gradle 7.3.1 in Intellij 2021.3 to build a JavaFX application. And I need external libraries dependency for the backend part.\r\n\r\nThis is the complete `build.gradle` script that is pre-built by the idea:\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;application&#39;\r\n    id &#39;org.openjfx.javafxplugin&#39; version &#39;0.0.10&#39;\r\n    id &#39;org.beryx.jlink&#39; version &#39;2.24.1&#39;\r\n}\r\n\r\ngroup &#39;com.github.zukarusan&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n}\r\n\r\next {\r\n    junitVersion = &#39;5.8.1&#39;\r\n}\r\n\r\nsourceCompatibility = &#39;11&#39;\r\ntargetCompatibility = &#39;11&#39;\r\n\r\ntasks.withType(JavaCompile) {\r\n    options.encoding = &#39;UTF-8&#39;\r\n}\r\n\r\napplication {\r\n    mainModule = &#39;com.github.zukarusan.app&#39;\r\n    mainClass = &#39;com.github.zukarusan.app.MainApplication&#39;\r\n}\r\n\r\njavafx {\r\n    version = &#39;11.0.2&#39;\r\n    modules = [&#39;javafx.controls&#39;, &#39;javafx.fxml&#39;]\r\n}\r\n\r\ndependencies {\r\n    implementation(&#39;org.controlsfx:controlsfx:11.1.0&#39;)\r\n    implementation(&#39;com.dlsc.formsfx:formsfx-core:11.3.2&#39;) {\r\n        exclude(group: &#39;org.openjfx&#39;)\r\n    }\r\n    implementation(&#39;org.kordamp.ikonli:ikonli-javafx:12.2.0&#39;)\r\n    implementation(&#39;org.kordamp.bootstrapfx:bootstrapfx-core:0.4.0&#39;)\r\n\r\n    implementation(&#39;com.github.wendykierp:JTransforms:3.1&#39;) // THIS IS THE EXTERNAL LIBRARY I ADDED\r\n\r\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\r\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n\r\njlink {\r\n    imageZip = project.file(&quot;${buildDir}/distributions/app-${javafx.platform.classifier}.zip&quot;)\r\n    options = [&#39;--strip-debug&#39;, &#39;--compress&#39;, &#39;2&#39;, &#39;--no-header-files&#39;, &#39;--no-man-pages&#39;]\r\n    launcher {\r\n        name = &#39;app&#39;\r\n    }\r\n}\r\n\r\njlinkZip {\r\n    group = &#39;distribution&#39;\r\n}\r\n```\r\nand then I updated `module-info.java`:\r\n```\r\nmodule com.github.zukarusan.app {\r\n    requires javafx.controls;\r\n    requires javafx.fxml;\r\n    requires org.controlsfx.controls;\r\n    requires com.dlsc.formsfx;\r\n    requires org.kordamp.ikonli.javafx;\r\n    requires org.kordamp.bootstrapfx.core;\r\n    requires java.desktop;\r\n\r\n    requires JTransforms; // UPDATED\r\n\r\n    exports com.github.zukarusan.app.controller;\r\n    exports com.github.zukarusan.app.model;\r\n    exports com.github.zukarusan.app;\r\n    opens com.github.zukarusan.app.controller to javafx.fxml;\r\n}\r\n```\r\n\r\nBefore I updated the `module-info`\r\n, the application launches just fine and shows a javafx window application.\r\nBut, after I updated that, `java.lang.FindException` is thrown. resulting the following error:\r\n```\r\n&gt; Task :MainApplication.main() FAILED\r\nError occurred during initialization of boot layer\r\njava.lang.module.FindException: Module JTransforms not found, required by com.github.zukarusan.app\r\n```\r\nDo I have to download manually the modules? or any steps that I miss?\r\n\r\n&lt;br&gt; Please enlighten me. :&#39;(","title":"&quot;Module not found, required by&quot; when implementing maven library via gradle using javafx?","body":"<p>I am using gradle 7.3.1 in Intellij 2021.3 to build a JavaFX application. And I need external libraries dependency for the backend part.</p>\n<p>This is the complete <code>build.gradle</code> script that is pre-built by the idea:</p>\n<pre><code>plugins {\n    id 'java'\n    id 'application'\n    id 'org.openjfx.javafxplugin' version '0.0.10'\n    id 'org.beryx.jlink' version '2.24.1'\n}\n\ngroup 'com.github.zukarusan'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    junitVersion = '5.8.1'\n}\n\nsourceCompatibility = '11'\ntargetCompatibility = '11'\n\ntasks.withType(JavaCompile) {\n    options.encoding = 'UTF-8'\n}\n\napplication {\n    mainModule = 'com.github.zukarusan.app'\n    mainClass = 'com.github.zukarusan.app.MainApplication'\n}\n\njavafx {\n    version = '11.0.2'\n    modules = ['javafx.controls', 'javafx.fxml']\n}\n\ndependencies {\n    implementation('org.controlsfx:controlsfx:11.1.0')\n    implementation('com.dlsc.formsfx:formsfx-core:11.3.2') {\n        exclude(group: 'org.openjfx')\n    }\n    implementation('org.kordamp.ikonli:ikonli-javafx:12.2.0')\n    implementation('org.kordamp.bootstrapfx:bootstrapfx-core:0.4.0')\n\n    implementation('com.github.wendykierp:JTransforms:3.1') // THIS IS THE EXTERNAL LIBRARY I ADDED\n\n    testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:${junitVersion}&quot;)\n    testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:${junitVersion}&quot;)\n}\n\ntest {\n    useJUnitPlatform()\n}\n\njlink {\n    imageZip = project.file(&quot;${buildDir}/distributions/app-${javafx.platform.classifier}.zip&quot;)\n    options = ['--strip-debug', '--compress', '2', '--no-header-files', '--no-man-pages']\n    launcher {\n        name = 'app'\n    }\n}\n\njlinkZip {\n    group = 'distribution'\n}\n</code></pre>\n<p>and then I updated <code>module-info.java</code>:</p>\n<pre><code>module com.github.zukarusan.app {\n    requires javafx.controls;\n    requires javafx.fxml;\n    requires org.controlsfx.controls;\n    requires com.dlsc.formsfx;\n    requires org.kordamp.ikonli.javafx;\n    requires org.kordamp.bootstrapfx.core;\n    requires java.desktop;\n\n    requires JTransforms; // UPDATED\n\n    exports com.github.zukarusan.app.controller;\n    exports com.github.zukarusan.app.model;\n    exports com.github.zukarusan.app;\n    opens com.github.zukarusan.app.controller to javafx.fxml;\n}\n</code></pre>\n<p>Before I updated the <code>module-info</code>\n, the application launches just fine and shows a javafx window application.\nBut, after I updated that, <code>java.lang.FindException</code> is thrown. resulting the following error:</p>\n<pre><code>&gt; Task :MainApplication.main() FAILED\nError occurred during initialization of boot layer\njava.lang.module.FindException: Module JTransforms not found, required by com.github.zukarusan.app\n</code></pre>\n<p>Do I have to download manually the modules? or any steps that I miss?</p>\n<p><br> Please enlighten me. :'(</p>\n"},{"tags":["java","jpa-2.1","netbeans-8.1"],"comments":[{"owner":{"account_id":160350,"reputation":11421,"user_id":380338,"display_name":"Neil Stockton"},"score":0,"creation_date":1477419949,"post_id":40105853,"comment_id":67756467,"body_markdown":"Maybe if you DECLARE the field to be of type Map rather than an implementation (HashMap). JPA provider I use supports the code you use there, but seemingly EclipseLink is not so reliable.","body":"Maybe if you DECLARE the field to be of type Map rather than an implementation (HashMap). JPA provider I use supports the code you use there, but seemingly EclipseLink is not so reliable."}],"answers":[{"tags":[],"owner":{"account_id":319704,"reputation":5844,"user_id":637609,"accept_rate":96,"display_name":"Mark W"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644229213,"creation_date":1644229213,"answer_id":71016867,"question_id":40105853,"body_markdown":"As @Neil Stockton says in his comment. The solution is to change your declaration of `HashMap` to the interface `Map`\r\n\r\n    private HashMap&lt;Integer, Ejemplar&gt; ejemplarlibro;\r\n\r\nbecomes \r\n\r\n    private Map&lt;Integer, Ejemplar&gt; ejemplarlibro;","title":"Persistence for Hashmap&lt;Integer,Object&gt;","body":"<p>As @Neil Stockton says in his comment. The solution is to change your declaration of <code>HashMap</code> to the interface <code>Map</code></p>\n<pre><code>private HashMap&lt;Integer, Ejemplar&gt; ejemplarlibro;\n</code></pre>\n<p>becomes</p>\n<pre><code>private Map&lt;Integer, Ejemplar&gt; ejemplarlibro;\n</code></pre>\n"}],"owner":{"account_id":9462641,"reputation":11,"user_id":7035977,"display_name":"Ivan Bachmann"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1644229213,"creation_date":1476786695,"question_id":40105853,"body_markdown":"\r\nI&#39;m getting these errors trying to mapping a Hashmap&lt;Integer, Object&gt;\r\ni dont know how to solve this.\r\nNetbeans 8.1\r\nJpa 2.1\r\n\r\nMapping \r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;libros&quot;)\r\n    public class Libro implements Serializable {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    @Column(name = &quot;idlibro&quot;, nullable = false)\r\n    private int idlibro;\r\n    \r\n    @Column(name = &quot;isbn&quot;, nullable = false, length = 50, unique = true)\r\n    private long isbn;\r\n    \r\n    @Column(name = &quot;titulo&quot;, nullable = false, length = 200, unique = false)\r\n    private String titulo;\r\n    \r\n    @Column(name = &quot;anio&quot;, nullable = true, length = 4, unique = false)\r\n    private int anio;\r\n    \r\n    @Column(name = &quot;idioma&quot;, nullable = true, length = 50, unique = false)\r\n    private String idioma;\r\n\r\n    @JoinColumn(name = &quot;idautor&quot;, referencedColumnName = &quot;idautor&quot;, insertable=false, updatable=true)\r\n    @ManyToOne(optional = false)\r\n    private Autor elautor;\r\n   \r\n    @Column(name = &quot;genero&quot;, nullable = true, length = 50, unique = false)\r\n    private String genero;\r\n    \r\n    @JoinColumn(name = &quot;ideditorial&quot;, referencedColumnName = &quot;ideditorial&quot;, insertable=false, updatable=true)\r\n    @ManyToOne(optional = false)\r\n    private Editorial laeditorial;\r\n    \r\n    @ElementCollection\r\n    @MapKeyColumn(name=&quot;nrocopia&quot;)\r\n    @Column(name=&quot;ejemplares&quot;)\r\n    @CollectionTable(name=&quot;ejemplares&quot;, joinColumns=@JoinColumn(name=&quot;idejemplar&quot;))\r\n    private HashMap&lt;Integer, Ejemplar&gt; ejemplarlibro;\r\n    \r\n    \r\n    @Column(name = &quot;estado&quot;, nullable = true, length = 50, unique = false)\r\n    private String estado;\r\n\r\n\r\n\r\n\r\nException in thread &quot;main&quot; javax.persistence.PersistenceException: Exception        [EclipseLink-28019] (Eclipse Persistence Services - 2.5.2.v20140319-9ad6abd): org.eclipse.persistence.exceptions.EntityManagerSetupException\r\nException Description: Deployment of PersistenceUnit [BibliotecaTPFINALPU] failed. Close all factories for this PersistenceUnit.\r\nInternal Exception: Exception [EclipseLink-0] (Eclipse Persistence Services - 2.5.2.v20140319-9ad6abd): org.eclipse.persistence.exceptions.IntegrityException\r\nDescriptor Exceptions: \r\n---------------------------------------------------------\r\n\r\nException [EclipseLink-138] (Eclipse Persistence Services - 2.5.2.v20140319-9ad6abd): org.eclipse.persistence.exceptions.DescriptorException\r\nException Description: The attribute [ejemplarlibro] is of type [class java.util.HashMap] but the mapping uses transparent indirection (lazy loading), requiring it to be a superclass of [IndirectMap].\r\nMapping: org.eclipse.persistence.mappings.DirectMapMapping[ejemplarlibro]\r\nDescriptor: RelationalDescriptor(Clases.Libro --&gt; [DatabaseTable(libros)])\r\n\r\nRuntime Exceptions: \r\n---------------------------------------------------------\r\n\r\n\tat org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.createDeployFailedPersistenceException(EntityManagerSetupImpl.java:820)\r\n\tat org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.deploy(EntityManagerSetupImpl.java:760)\r\n\tat org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.getAbstractSession(EntityManagerFactoryDelegate.java:204)\r\n\tat org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.getDatabaseSession(EntityManagerFactoryDelegate.java:182)\r\n\tat org.eclipse.persistence.internal.jpa.EntityManagerFactoryImpl.getDatabaseSession(EntityManagerFactoryImpl.java:527)\r\n\tat org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactoryImpl(PersistenceProvider.java:140)\r\n\tat org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactory(PersistenceProvider.java:177)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\r\n\tat Jpa.ControladorPersistencia.getEmf(ControladorPersistencia.java:20)\r\n\tat Controladores.BibliotecaControlador.&lt;init&gt;(BibliotecaControlador.java:54)\r\n\tat bibliotecatpfinal.BibliotecaMain.main(BibliotecaMain.java:46)\r\nCaused by: Exception [EclipseLink-28019] (Eclipse Persistence Services - 2.5.2.v20140319-9ad6abd): org.eclipse.persistence.exceptions.EntityManagerSetupException\r\nException Description: Deployment of PersistenceUnit [BibliotecaTPFINALPU] failed. Close all factories for this PersistenceUnit.\r\nInternal Exception: Exception [EclipseLink-0] (Eclipse Persistence Services - 2.5.2.v20140319-9ad6abd): org.eclipse.persistence.exceptions.IntegrityException\r\nDescriptor Exceptions: ","title":"Persistence for Hashmap&lt;Integer,Object&gt;","body":"<p>I'm getting these errors trying to mapping a Hashmap\ni dont know how to solve this.\nNetbeans 8.1\nJpa 2.1</p>\n\n<p>Mapping </p>\n\n<pre><code>@Entity\n@Table(name = \"libros\")\npublic class Libro implements Serializable {\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\n@Column(name = \"idlibro\", nullable = false)\nprivate int idlibro;\n\n@Column(name = \"isbn\", nullable = false, length = 50, unique = true)\nprivate long isbn;\n\n@Column(name = \"titulo\", nullable = false, length = 200, unique = false)\nprivate String titulo;\n\n@Column(name = \"anio\", nullable = true, length = 4, unique = false)\nprivate int anio;\n\n@Column(name = \"idioma\", nullable = true, length = 50, unique = false)\nprivate String idioma;\n\n@JoinColumn(name = \"idautor\", referencedColumnName = \"idautor\", insertable=false, updatable=true)\n@ManyToOne(optional = false)\nprivate Autor elautor;\n\n@Column(name = \"genero\", nullable = true, length = 50, unique = false)\nprivate String genero;\n\n@JoinColumn(name = \"ideditorial\", referencedColumnName = \"ideditorial\", insertable=false, updatable=true)\n@ManyToOne(optional = false)\nprivate Editorial laeditorial;\n\n@ElementCollection\n@MapKeyColumn(name=\"nrocopia\")\n@Column(name=\"ejemplares\")\n@CollectionTable(name=\"ejemplares\", joinColumns=@JoinColumn(name=\"idejemplar\"))\nprivate HashMap&lt;Integer, Ejemplar&gt; ejemplarlibro;\n\n\n@Column(name = \"estado\", nullable = true, length = 50, unique = false)\nprivate String estado;\n</code></pre>\n\n<p>Exception in thread \"main\" javax.persistence.PersistenceException: Exception        [EclipseLink-28019] (Eclipse Persistence Services - 2.5.2.v20140319-9ad6abd): org.eclipse.persistence.exceptions.EntityManagerSetupException\nException Description: Deployment of PersistenceUnit [BibliotecaTPFINALPU] failed. Close all factories for this PersistenceUnit.\nInternal Exception: Exception [EclipseLink-0] (Eclipse Persistence Services - 2.5.2.v20140319-9ad6abd): org.eclipse.persistence.exceptions.IntegrityException</p>\n\n<h2>Descriptor Exceptions:</h2>\n\n<p>Exception [EclipseLink-138] (Eclipse Persistence Services - 2.5.2.v20140319-9ad6abd): org.eclipse.persistence.exceptions.DescriptorException\nException Description: The attribute [ejemplarlibro] is of type [class java.util.HashMap] but the mapping uses transparent indirection (lazy loading), requiring it to be a superclass of [IndirectMap].\nMapping: org.eclipse.persistence.mappings.DirectMapMapping[ejemplarlibro]\nDescriptor: RelationalDescriptor(Clases.Libro --> [DatabaseTable(libros)])</p>\n\n<h2>Runtime Exceptions:</h2>\n\n<pre><code>at org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.createDeployFailedPersistenceException(EntityManagerSetupImpl.java:820)\nat org.eclipse.persistence.internal.jpa.EntityManagerSetupImpl.deploy(EntityManagerSetupImpl.java:760)\nat org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.getAbstractSession(EntityManagerFactoryDelegate.java:204)\nat org.eclipse.persistence.internal.jpa.EntityManagerFactoryDelegate.getDatabaseSession(EntityManagerFactoryDelegate.java:182)\nat org.eclipse.persistence.internal.jpa.EntityManagerFactoryImpl.getDatabaseSession(EntityManagerFactoryImpl.java:527)\nat org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactoryImpl(PersistenceProvider.java:140)\nat org.eclipse.persistence.jpa.PersistenceProvider.createEntityManagerFactory(PersistenceProvider.java:177)\nat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:79)\nat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:54)\nat Jpa.ControladorPersistencia.getEmf(ControladorPersistencia.java:20)\nat Controladores.BibliotecaControlador.&lt;init&gt;(BibliotecaControlador.java:54)\nat bibliotecatpfinal.BibliotecaMain.main(BibliotecaMain.java:46)\n</code></pre>\n\n<p>Caused by: Exception [EclipseLink-28019] (Eclipse Persistence Services - 2.5.2.v20140319-9ad6abd): org.eclipse.persistence.exceptions.EntityManagerSetupException\nException Description: Deployment of PersistenceUnit [BibliotecaTPFINALPU] failed. Close all factories for this PersistenceUnit.\nInternal Exception: Exception [EclipseLink-0] (Eclipse Persistence Services - 2.5.2.v20140319-9ad6abd): org.eclipse.persistence.exceptions.IntegrityException\nDescriptor Exceptions: </p>\n"},{"tags":["java","google-cloud-platform","google-cloud-functions","google-cloud-messaging","google-cloud-pubsub"],"comments":[{"owner":{"account_id":4927857,"reputation":5042,"user_id":3968623,"accept_rate":95,"display_name":"MD. Khairul Basar"},"score":0,"creation_date":1643967289,"post_id":70983468,"comment_id":125484657,"body_markdown":"Any help anyone?","body":"Any help anyone?"},{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1643976542,"post_id":70983468,"comment_id":125488059,"body_markdown":"Can you share your whole JAVA file? Especially to see which import that you perform","body":"Can you share your whole JAVA file? Especially to see which import that you perform"},{"owner":{"account_id":4927857,"reputation":5042,"user_id":3968623,"accept_rate":95,"display_name":"MD. Khairul Basar"},"score":0,"creation_date":1643976863,"post_id":70983468,"comment_id":125488170,"body_markdown":"@guillaumeblaquiere I&#39;ve updated the code now.","body":"@guillaumeblaquiere I&#39;ve updated the code now."}],"answers":[{"tags":[],"owner":{"account_id":4927857,"reputation":5042,"user_id":3968623,"accept_rate":95,"display_name":"MD. Khairul Basar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1644229040,"creation_date":1644098727,"answer_id":71002562,"question_id":70983468,"body_markdown":"Eventually I fugured out the problem. I had to define my own class for function parameter instead of using `com.google.pubsub.v1.PubsubMessage`.\r\n\r\nDefined below `PubSubMessage` class and used as `public class OrderBillPdfGeneratorFunction implements BackgroundFunction&lt;PubSubMessage&gt;`\r\n\r\n\tpublic static class PubSubMessage {\r\n\t\tpublic String data;\r\n\t\tpublic Map&lt;String, String&gt; attributes;\r\n\t\tpublic String messageId;\r\n\t\tpublic String publishTime;\r\n\t}\r\n\r\nThis solved the issue.\r\n\r\n**EDIT**\r\n\r\nHere&#39;s the full working code.\r\n\r\n    package com.dsam.assignment02.functions;\r\n    \r\n    import com.google.cloud.functions.BackgroundFunction;\r\n    import com.google.cloud.functions.Context;\r\n    import com.google.pubsub.v1.PubsubMessage;\r\n    \r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.Base64;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n\r\n    public class OrderBillPdfGeneratorFunction implements BackgroundFunction&lt;PubSubMessage&gt; {\r\n        private static final Logger logger = Logger.getLogger(OrderBillPdfGeneratorFunction.class.getName());\r\n    \r\n        @Override\r\n        public void accept(PubSubMessage payload, Context context) throws Exception {\r\n            String s = payload.getData().isEmpty() ? &quot;No data&quot; : new String(\r\n                Base64.getDecoder().decode(payload.getData().toByteArray()),\r\n                StandardCharsets.UTF_8\r\n            );\r\n            String t = String.valueOf(payload.getAttributesCount());\r\n            logger.log(Level.INFO, String.format(&quot;Data: %s\\nAttribute Count: %s&quot;, s, t));\r\n        }\r\n\r\n\t    public static class PubSubMessage {\r\n\t\t    public String data;\r\n\t\t    public Map&lt;String, String&gt; attributes;\r\n\t\t    public String messageId;\r\n\t\t    public String publishTime;\r\n\t    }\r\n    }","title":"Java: PubsubMessage Subscriber receives message with no data or attribute","body":"<p>Eventually I fugured out the problem. I had to define my own class for function parameter instead of using <code>com.google.pubsub.v1.PubsubMessage</code>.</p>\n<p>Defined below <code>PubSubMessage</code> class and used as <code>public class OrderBillPdfGeneratorFunction implements BackgroundFunction&lt;PubSubMessage&gt;</code></p>\n<pre><code>public static class PubSubMessage {\n    public String data;\n    public Map&lt;String, String&gt; attributes;\n    public String messageId;\n    public String publishTime;\n}\n</code></pre>\n<p>This solved the issue.</p>\n<p><strong>EDIT</strong></p>\n<p>Here's the full working code.</p>\n<pre><code>package com.dsam.assignment02.functions;\n\nimport com.google.cloud.functions.BackgroundFunction;\nimport com.google.cloud.functions.Context;\nimport com.google.pubsub.v1.PubsubMessage;\n\nimport java.nio.charset.StandardCharsets;\nimport java.util.Base64;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class OrderBillPdfGeneratorFunction implements BackgroundFunction&lt;PubSubMessage&gt; {\n    private static final Logger logger = Logger.getLogger(OrderBillPdfGeneratorFunction.class.getName());\n\n    @Override\n    public void accept(PubSubMessage payload, Context context) throws Exception {\n        String s = payload.getData().isEmpty() ? &quot;No data&quot; : new String(\n            Base64.getDecoder().decode(payload.getData().toByteArray()),\n            StandardCharsets.UTF_8\n        );\n        String t = String.valueOf(payload.getAttributesCount());\n        logger.log(Level.INFO, String.format(&quot;Data: %s\\nAttribute Count: %s&quot;, s, t));\n    }\n\n    public static class PubSubMessage {\n        public String data;\n        public Map&lt;String, String&gt; attributes;\n        public String messageId;\n        public String publishTime;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":4927857,"reputation":5042,"user_id":3968623,"accept_rate":95,"display_name":"MD. Khairul Basar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1010,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71002562,"answer_count":1,"score":0,"last_activity_date":1644229040,"creation_date":1643963792,"question_id":70983468,"body_markdown":"I&#39;m trying to receive message to a topic and receive the message in the subscriber. But in the subscriber I don&#39;t receive any message, only an empty `PubsubMessage`.\r\n\r\n**Subscriber**\r\n\r\n    package com.dsam.assignment02.functions;\r\n    \r\n    import com.google.cloud.functions.BackgroundFunction;\r\n    import com.google.cloud.functions.Context;\r\n    import com.google.pubsub.v1.PubsubMessage;\r\n    \r\n    import java.nio.charset.StandardCharsets;\r\n    import java.util.Base64;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n\r\n    public class OrderBillPdfGeneratorFunction implements BackgroundFunction&lt;PubsubMessage&gt; {\r\n        private static final Logger logger = Logger.getLogger(OrderBillPdfGeneratorFunction.class.getName());\r\n    \r\n        @Override\r\n        public void accept(PubsubMessage payload, Context context) throws Exception {\r\n            String s = payload.getData().isEmpty() ? &quot;No data&quot; : new String(\r\n                Base64.getDecoder().decode(payload.getData().toByteArray()),\r\n                StandardCharsets.UTF_8\r\n            );\r\n            String t = String.valueOf(payload.getAttributesCount());\r\n            logger.log(Level.INFO, String.format(&quot;Data: %s\\nAttribute Count: %s&quot;, s, t));\r\n        }\r\n    }\r\n\r\n**Log Output**\r\n\r\n    Data: No data\r\n    Attribute Count: 0\r\n\r\nAny idea what I&#39;m missing here?\r\n\r\n**Update**\r\n\r\nI published message from cloud console pub/sub topic, but still didn&#39;t receive any data, which rules out the possiblity of issue being related to the publisher code.","title":"Java: PubsubMessage Subscriber receives message with no data or attribute","body":"<p>I'm trying to receive message to a topic and receive the message in the subscriber. But in the subscriber I don't receive any message, only an empty <code>PubsubMessage</code>.</p>\n<p><strong>Subscriber</strong></p>\n<pre><code>package com.dsam.assignment02.functions;\n\nimport com.google.cloud.functions.BackgroundFunction;\nimport com.google.cloud.functions.Context;\nimport com.google.pubsub.v1.PubsubMessage;\n\nimport java.nio.charset.StandardCharsets;\nimport java.util.Base64;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\n\npublic class OrderBillPdfGeneratorFunction implements BackgroundFunction&lt;PubsubMessage&gt; {\n    private static final Logger logger = Logger.getLogger(OrderBillPdfGeneratorFunction.class.getName());\n\n    @Override\n    public void accept(PubsubMessage payload, Context context) throws Exception {\n        String s = payload.getData().isEmpty() ? &quot;No data&quot; : new String(\n            Base64.getDecoder().decode(payload.getData().toByteArray()),\n            StandardCharsets.UTF_8\n        );\n        String t = String.valueOf(payload.getAttributesCount());\n        logger.log(Level.INFO, String.format(&quot;Data: %s\\nAttribute Count: %s&quot;, s, t));\n    }\n}\n</code></pre>\n<p><strong>Log Output</strong></p>\n<pre><code>Data: No data\nAttribute Count: 0\n</code></pre>\n<p>Any idea what I'm missing here?</p>\n<p><strong>Update</strong></p>\n<p>I published message from cloud console pub/sub topic, but still didn't receive any data, which rules out the possiblity of issue being related to the publisher code.</p>\n"},{"tags":["java","junit","mocking","mockito"],"comments":[{"owner":{"account_id":1232799,"reputation":1734,"user_id":1197030,"display_name":"Joeblade"},"score":0,"creation_date":1644227651,"post_id":71015804,"comment_id":125539984,"body_markdown":"Does this answer your question? [Using Mockito&#39;s ArgumentCaptor class to match a child class](https://stackoverflow.com/questions/5403706/using-mockitos-argumentcaptor-class-to-match-a-child-class)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5403706/using-mockitos-argumentcaptor-class-to-match-a-child-class\">Using Mockito&#39;s ArgumentCaptor class to match a child class</a>"},{"owner":{"account_id":12985038,"reputation":309,"user_id":9386181,"display_name":"Bleach"},"score":0,"creation_date":1644228131,"post_id":71015804,"comment_id":125540149,"body_markdown":"I checked this one already, and no it does not.","body":"I checked this one already, and no it does not."},{"owner":{"account_id":1232799,"reputation":1734,"user_id":1197030,"display_name":"Joeblade"},"score":1,"creation_date":1644228843,"post_id":71015804,"comment_id":125540412,"body_markdown":"Fair enough. I thought it would as one answer it explains where the problem inside mockito is: public boolean matches always says true. so the captor says yes to any class. To fix it you&#39;ll likely have to verify by hand it is xMessage and not yMessage. I would expect if you were to do xCaptor.get() for all 5 answers you would get the classcast exception the poster of that issue is mentioning.","body":"Fair enough. I thought it would as one answer it explains where the problem inside mockito is: public boolean matches always says true. so the captor says yes to any class. To fix it you&#39;ll likely have to verify by hand it is xMessage and not yMessage. I would expect if you were to do xCaptor.get() for all 5 answers you would get the classcast exception the poster of that issue is mentioning."}],"answers":[{"tags":[],"owner":{"account_id":3653540,"reputation":868,"user_id":3045105,"accept_rate":83,"display_name":"Pavel Polivka"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1644228480,"creation_date":1644227538,"answer_id":71016511,"question_id":71015804,"body_markdown":"This is a known issue in Mockito. The issue is that `ArgumentCaptor` is not type aware.\r\n\r\nSee https://github.com/mockito/mockito/issues/565 \r\n\r\nThis is open from 2016 and still not fully fixed so I would just did some workaround around it. \r\n\r\nYou can capture all of the arguments and then `instanceof` just the ones you need.\r\n\r\n```java\r\nArgumentCaptor&lt;ZClass&gt; zCaptor = ArgumentCaptor.forClass(ZClass.class);\r\n\r\nMockito.verify(publisherService, times(5)).publish(zCaptor.capture(), ArgumentMatchers.&lt;Properties&gt;any());\r\n\r\nList&lt;XMessage&gt; xMessages = zCaptor.getAllValues()\r\n                                  .stream()\r\n                                  .filter(arg -&gt; arg instanceof XMessage)\r\n                                  .map(arg -&gt; (XMessage) arg)\r\n                                  .collect(Collectors.toList());\r\n```","title":"Method with Interface Parameters with Mockito Argument Capture","body":"<p>This is a known issue in Mockito. The issue is that <code>ArgumentCaptor</code> is not type aware.</p>\n<p>See <a href=\"https://github.com/mockito/mockito/issues/565\" rel=\"nofollow noreferrer\">https://github.com/mockito/mockito/issues/565</a></p>\n<p>This is open from 2016 and still not fully fixed so I would just did some workaround around it.</p>\n<p>You can capture all of the arguments and then <code>instanceof</code> just the ones you need.</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArgumentCaptor&lt;ZClass&gt; zCaptor = ArgumentCaptor.forClass(ZClass.class);\n\nMockito.verify(publisherService, times(5)).publish(zCaptor.capture(), ArgumentMatchers.&lt;Properties&gt;any());\n\nList&lt;XMessage&gt; xMessages = zCaptor.getAllValues()\n                                  .stream()\n                                  .filter(arg -&gt; arg instanceof XMessage)\n                                  .map(arg -&gt; (XMessage) arg)\n                                  .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":12985038,"reputation":309,"user_id":9386181,"display_name":"Bleach"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":776,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71016511,"answer_count":1,"score":0,"last_activity_date":1644228480,"creation_date":1644224279,"question_id":71015804,"body_markdown":"I&#39;ve one simple question. I&#39;ve got two classes \r\n\r\n`XMessage` and `YMessage`. These two classes are the sub class of `ZClass`.\r\n\r\nThese messages are published from a `PublisherService` with method \r\n\r\n    public void publish(ZClass message, Properties props){\r\n         // some lowlevel stuff.\r\n         // note that method is taking ZClass as an arg.\r\n    }\r\n\r\nAccording to my logic `XMessage` is sent many times while `YMessage` is sent only once in one test.\r\n\r\nLet&#39;s say `XMessage` is supposed to be sent 4 times where `YMessage` is sent 1 time. I would assume below code would work.\r\n\r\n\r\n            ArgumentCaptor&lt;XMessage&gt; xCaptor = ArgumentCaptor.forClass(XMessage.class);\r\n\r\n            verify(publisherService, times(4)).sendMessage(isA(XMessage.class),any());\r\n            verify(publisherService, times(1)).sendMessage(isA(YMessage.class),any());\r\n            verify(publisherService, times(4)).sendMessage(xCaptor,any());\r\n\r\nHowever it fails with captor and the captor has 5 values.\r\n\r\nWhat am I doing wrong? \r\n\r\n\r\nThanks in advance.","title":"Method with Interface Parameters with Mockito Argument Capture","body":"<p>I've one simple question. I've got two classes</p>\n<p><code>XMessage</code> and <code>YMessage</code>. These two classes are the sub class of <code>ZClass</code>.</p>\n<p>These messages are published from a <code>PublisherService</code> with method</p>\n<pre><code>public void publish(ZClass message, Properties props){\n     // some lowlevel stuff.\n     // note that method is taking ZClass as an arg.\n}\n</code></pre>\n<p>According to my logic <code>XMessage</code> is sent many times while <code>YMessage</code> is sent only once in one test.</p>\n<p>Let's say <code>XMessage</code> is supposed to be sent 4 times where <code>YMessage</code> is sent 1 time. I would assume below code would work.</p>\n<pre><code>        ArgumentCaptor&lt;XMessage&gt; xCaptor = ArgumentCaptor.forClass(XMessage.class);\n\n        verify(publisherService, times(4)).sendMessage(isA(XMessage.class),any());\n        verify(publisherService, times(1)).sendMessage(isA(YMessage.class),any());\n        verify(publisherService, times(4)).sendMessage(xCaptor,any());\n</code></pre>\n<p>However it fails with captor and the captor has 5 values.</p>\n<p>What am I doing wrong?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","jersey"],"answers":[{"tags":[],"owner":{"account_id":8698932,"reputation":322,"user_id":6509481,"accept_rate":50,"display_name":"Marco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644228190,"creation_date":1644228190,"answer_id":71016650,"question_id":71016525,"body_markdown":"I solved by downgrading software.amazon.awssdk.lambda dependency to 2.5.10\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lambda&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.10&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"No such method memberName when building InvokeRequest for lambda function","body":"<p>I solved by downgrading software.amazon.awssdk.lambda dependency to 2.5.10</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;lambda&lt;/artifactId&gt;\n            &lt;version&gt;2.5.10&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":8698932,"reputation":322,"user_id":6509481,"accept_rate":50,"display_name":"Marco"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71016650,"answer_count":1,"score":1,"last_activity_date":1644228190,"creation_date":1644227583,"question_id":71016525,"body_markdown":"I&#39;m trying to create a request, in java, to call a lambda function locally.\r\nWhen creating the request: \r\n\r\n    InvokeRequest request = InvokeRequest.builder()\r\n                    .functionName(&quot;examplelambda&quot;)\r\n                    .payload(SdkBytes.fromUtf8String(&quot;{\\n&quot; +\r\n                            &quot; \\&quot;Hello \\&quot;: \\&quot;Paris\\&quot;,\\n&quot; +\r\n                            &quot; \\&quot;countryCode\\&quot;: \\&quot;FR\\&quot;\\n&quot; +\r\n                            &quot;}&quot;)).build();\r\n\r\nit gives an error like this:\r\n\r\n    java.lang.NoSuchMethodError: software.amazon.awssdk.core.SdkField$Builder.memberName(Ljava/lang/String;)Lsoftware/amazon/awssdk/core/SdkField$Builder;\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5zJU3.png\r\n\r\nI&#39;m using \r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aws-lambda-java-core&lt;/artifactId&gt;\r\n                &lt;version&gt;1.2.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\r\n                &lt;artifactId&gt;lambda&lt;/artifactId&gt;\r\n                &lt;version&gt;2.17.124&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nHow to solve it?","title":"No such method memberName when building InvokeRequest for lambda function","body":"<p>I'm trying to create a request, in java, to call a lambda function locally.\nWhen creating the request:</p>\n<pre><code>InvokeRequest request = InvokeRequest.builder()\n                .functionName(&quot;examplelambda&quot;)\n                .payload(SdkBytes.fromUtf8String(&quot;{\\n&quot; +\n                        &quot; \\&quot;Hello \\&quot;: \\&quot;Paris\\&quot;,\\n&quot; +\n                        &quot; \\&quot;countryCode\\&quot;: \\&quot;FR\\&quot;\\n&quot; +\n                        &quot;}&quot;)).build();\n</code></pre>\n<p>it gives an error like this:</p>\n<pre><code>java.lang.NoSuchMethodError: software.amazon.awssdk.core.SdkField$Builder.memberName(Ljava/lang/String;)Lsoftware/amazon/awssdk/core/SdkField$Builder;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/5zJU3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/5zJU3.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm using</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-lambda-java-core&lt;/artifactId&gt;\n            &lt;version&gt;1.2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;software.amazon.awssdk&lt;/groupId&gt;\n            &lt;artifactId&gt;lambda&lt;/artifactId&gt;\n            &lt;version&gt;2.17.124&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>How to solve it?</p>\n"},{"tags":["java","grpc"],"comments":[{"owner":{"account_id":1262646,"reputation":2597,"user_id":1220560,"display_name":"morgwai"},"score":0,"creation_date":1634279915,"post_id":69567534,"comment_id":122986704,"body_markdown":"not really sure about it, but maybe it is possible to create a context with a deadline for each message, or something: try looking at the javadoc: https://grpc.github.io/grpc-java/javadoc/io/grpc/Context.html . Oherwise you will probably have to implement it completely manually using some background timer thread etc...","body":"not really sure about it, but maybe it is possible to create a context with a deadline for each message, or something: try looking at the javadoc: <a href=\"https://grpc.github.io/grpc-java/javadoc/io/grpc/Context.html\" rel=\"nofollow noreferrer\">grpc.github.io/grpc-java/javadoc/io/grpc/Context.html</a> . Oherwise you will probably have to implement it completely manually using some background timer thread etc..."},{"owner":{"account_id":14947494,"reputation":506,"user_id":10792320,"display_name":"San P"},"score":0,"creation_date":1634842419,"post_id":69567534,"comment_id":123142372,"body_markdown":"What do you mean &quot;a timeout between two messages&quot; ? Is that where the peer should expect the next message within the timeout or is that a timeout on the client side to expect a &quot;response message&quot; within the timeout? You can use `ServerCall.Listener` to receive events for the call i.e. the stream","body":"What do you mean &quot;a timeout between two messages&quot; ? Is that where the peer should expect the next message within the timeout or is that a timeout on the client side to expect a &quot;response message&quot; within the timeout? You can use <code>ServerCall.Listener</code> to receive events for the call i.e. the stream"},{"owner":{"account_id":6356877,"reputation":918,"user_id":4933827,"accept_rate":72,"display_name":"OrlandoL"},"score":0,"creation_date":1644227842,"post_id":69567534,"comment_id":125540050,"body_markdown":"@SanP Sorry about the late reply. I edited my question to better answer this.","body":"@SanP Sorry about the late reply. I edited my question to better answer this."},{"owner":{"account_id":6909540,"reputation":417,"user_id":5306011,"display_name":"Joe"},"score":1,"creation_date":1657221741,"post_id":69567534,"comment_id":128766034,"body_markdown":"See https://github.com/grpc/grpc-java/issues/4814 and https://gist.github.com/jhaber/65eb9fc78413a419c3341b64db4fa2e9 for an implementation of this.","body":"See <a href=\"https://github.com/grpc/grpc-java/issues/4814\" rel=\"nofollow noreferrer\">github.com/grpc/grpc-java/issues/4814</a> and <a href=\"https://gist.github.com/jhaber/65eb9fc78413a419c3341b64db4fa2e9\" rel=\"nofollow noreferrer\">gist.github.com/jhaber/65eb9fc78413a419c3341b64db4fa2e9</a> for an implementation of this."}],"owner":{"account_id":6356877,"reputation":918,"user_id":4933827,"accept_rate":72,"display_name":"OrlandoL"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1415,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1644227782,"creation_date":1634200400,"question_id":69567534,"body_markdown":"When I have a streaming RPC (be it client-side or server-side or bidirectional streaming), if I want to monitor if my stream is still active, by setting a timeout between two messages, how do I achieve that? (Java is preferred as gRPC APIs are quite different between languages) Thanks in advance!\r\n\r\nEdit: Added explanation on &quot;timeout between two messages&quot;.\r\n\r\nWhat I imagine for &quot;timeout between two messages&quot; is like this. The client receives a stream of messages from the server, and the client does not know when the stream is expected to end (the server completes the stream). For example the server streams back S1,S2,S3,S4...S10 back to the client. If the server is somehow stuck before sending S5, the client will &quot;time out&quot; after receiving S4. Note that it&#39;s not the timeout for the whole stream to complete, but the timeout between message Si and S(i+1) (between every two messages in a stream.","title":"gRPC how to set timeout between two messages in a stream","body":"<p>When I have a streaming RPC (be it client-side or server-side or bidirectional streaming), if I want to monitor if my stream is still active, by setting a timeout between two messages, how do I achieve that? (Java is preferred as gRPC APIs are quite different between languages) Thanks in advance!</p>\n<p>Edit: Added explanation on &quot;timeout between two messages&quot;.</p>\n<p>What I imagine for &quot;timeout between two messages&quot; is like this. The client receives a stream of messages from the server, and the client does not know when the stream is expected to end (the server completes the stream). For example the server streams back S1,S2,S3,S4...S10 back to the client. If the server is somehow stuck before sending S5, the client will &quot;time out&quot; after receiving S4. Note that it's not the timeout for the whole stream to complete, but the timeout between message Si and S(i+1) (between every two messages in a stream.</p>\n"},{"tags":["java","regex","sqlite","jpa"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1644199671,"post_id":71012155,"comment_id":125534050,"body_markdown":"Why don&#39;t you implements it in your business rules?","body":"Why don&#39;t you implements it in your business rules?"},{"owner":{"account_id":3620793,"reputation":324,"user_id":3490004,"accept_rate":50,"display_name":"Daniel Ferreira Castro"},"score":0,"creation_date":1644220987,"post_id":71012155,"comment_id":125537746,"body_markdown":"Because if I do that on my BR I will post process it.  I don&#180;t want to do that.  It means that if I do on BR I will fetch a larger set from DB and then discard part of it.","body":"Because if I do that on my BR I will post process it.  I don&#180;t want to do that.  It means that if I do on BR I will fetch a larger set from DB and then discard part of it."}],"answers":[{"tags":[],"owner":{"account_id":24059439,"reputation":282,"user_id":18036868,"display_name":"HUTUTU"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1644207604,"creation_date":1644207604,"answer_id":71013443,"question_id":71012155,"body_markdown":"You should check when you receive user input, not in the database. Depending on a database-specific function or feature is not a good choice.","title":"How to use REGEX on SQLLite3 with JPA?","body":"<p>You should check when you receive user input, not in the database. Depending on a database-specific function or feature is not a good choice.</p>\n"}],"owner":{"account_id":3620793,"reputation":324,"user_id":3490004,"accept_rate":50,"display_name":"Daniel Ferreira Castro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":285,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1644227680,"creation_date":1644191959,"question_id":71012155,"body_markdown":"I found out that in order to filter a column of my SQLLite3 database (a number phone) I need to use REGEX because there is a formation rule and on my database I have some valid phone numbers and invalid ones. I can not update the database, it is read only, and I have a RGEX to validate the numbers.\r\n\r\nThe problem is that by default SQLite does not provide implementation for the regular expression comparison, so you have to provide one. It&#39;s done by implementing the regexp() custom SQL function.\r\n\r\nI googled around to know better how to d it but I still have doubts.\r\nSo far I found \r\n- https://stackoverflow.com/questions/25786996/sqlite-query-with-regex\r\n- https://stackoverflow.com/questions/3192443/writing-user-defined-sql-functions-for-sqlite-using-java-or-groovy\r\n- https://github.com/xerial/sqlite-jdbc/issues/60\r\n- https://gitanswer.com/sqlite-jdbc-no-such-function-regexp-java-111823316\r\n\r\nWell I really don&#39;t know where to start.\r\n\r\n- Where should I implement the REGEX operator?  \r\nMy best guess is inside the SQLLite3 Dialect.  Is it right? How?\r\nDoes it make sense what I did below?\r\nI am assuming it is required to use registerFunction.  How should I do it?\r\n```\r\npackage com.jumia.db.dialect;\r\n\r\nimport java.sql.Connection;\r\nimport java.sql.SQLException;\r\nimport java.sql.Types;\r\nimport java.util.regex.Pattern;\r\n\r\nimport org.hibernate.dialect.Dialect;\r\nimport org.hibernate.dialect.function.SQLFunctionTemplate;\r\nimport org.hibernate.dialect.identity.IdentityColumnSupport;\r\nimport org.hibernate.type.StandardBasicTypes;\r\nimport org.sqlite.Function;\r\n\r\npublic class SQLiteDialect extends Dialect {\r\n\r\n    public SQLiteDialect() {\r\n        registerColumnType(Types.BIT, &quot;integer&quot;);\r\n        registerColumnType(Types.TINYINT, &quot;tinyint&quot;);\r\n        registerColumnType(Types.SMALLINT, &quot;smallint&quot;);\r\n        registerColumnType(Types.INTEGER, &quot;integer&quot;);\r\n        registerColumnType(Types.BIGINT, &quot;bigint&quot;);\r\n        registerColumnType(Types.FLOAT, &quot;float&quot;);\r\n        registerColumnType(Types.REAL, &quot;real&quot;);\r\n        registerColumnType(Types.DOUBLE, &quot;double&quot;);\r\n        registerColumnType(Types.NUMERIC, &quot;numeric&quot;);\r\n        registerColumnType(Types.DECIMAL, &quot;decimal&quot;);\r\n        registerColumnType(Types.CHAR, &quot;char&quot;);\r\n        registerColumnType(Types.VARCHAR, &quot;varchar&quot;);\r\n        registerColumnType(Types.LONGVARCHAR, &quot;longvarchar&quot;);\r\n        registerColumnType(Types.DATE, &quot;date&quot;);\r\n        registerColumnType(Types.TIME, &quot;time&quot;);\r\n        registerColumnType(Types.TIMESTAMP, &quot;timestamp&quot;);\r\n        registerColumnType(Types.BINARY, &quot;blob&quot;);\r\n        registerColumnType(Types.VARBINARY, &quot;blob&quot;);\r\n        registerColumnType(Types.LONGVARBINARY, &quot;blob&quot;);\r\n        registerColumnType(Types.BLOB, &quot;blob&quot;);\r\n        registerColumnType(Types.CLOB, &quot;clob&quot;);\r\n        registerColumnType(Types.BOOLEAN, &quot;integer&quot;);\r\n        \r\n        //How to do it?\r\nregisterFunction( &quot;REGEXP&quot;, new SQLFunctionTemplate(StandardBasicTypes.INTEGER, &quot;?1 REGEXP ?2&quot;));\r\n    }\r\n    \r\n    public static void createREGEXP(Connection connection) throws SQLException\r\n    {\r\n    \tFunction.create(connection, &quot;REGEXP&quot;, new Function() \r\n    \t{\r\n    \t\t@Override\r\n    \t\tprotected void xFunc() throws SQLException \r\n    \t\t{\r\n    \t\t\tString expression = value_text(0);\r\n    \t\t\tString value = value_text(1);\r\n    \t\t\tif (value == null)\r\n    \t\t\tvalue = &quot;&quot;;\r\n    \t\t\tPattern pattern=Pattern.compile(expression);\r\n    \t\t\tresult(pattern.matcher(value).find() ? 1 : 0);\r\n    \t\t}\r\n    \t});\r\n    }\r\n    public boolean dropConstraints() {\r\n        return false;\r\n    }\r\n\r\n    public String getAddColumnString() {\r\n        return &quot;add column&quot;;\r\n    }\r\n\r\n    public String getAddForeignKeyConstraintString(String constraintName, String[] foreignKey, String referencedTable, String[] primaryKey, boolean referencesPrimaryKey) {\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    public String getAddPrimaryKeyConstraintString(String constraintName) {\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    public String getDropForeignKeyString() {\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    public String getForUpdateString() {\r\n        return &quot;&quot;;\r\n    }\r\n\r\n    public IdentityColumnSupport getIdentityColumnSupport() {\r\n        return new SQLiteIdentityColumnSupport();\r\n    }\r\n\r\n    public boolean hasAlterTable() {\r\n        return false;\r\n    }\r\n\r\n    public boolean supportsCascadeDelete() {\r\n        return false;\r\n    }\r\n\r\n    public boolean supportsIfExistsBeforeTableName() {\r\n        return true;\r\n    }\r\n\r\n    public boolean supportsOuterJoinForUpdate() {\r\n        return false;\r\n    }\r\n}\r\n```\r\n\r\nEDIT:\r\nOn my Repositry I know that I need to create a method like below.\r\n```\r\n\t@Query(value = &quot;SELECT * FROM Customer c WHERE c.phone REGEXP :regex&quot;, nativeQuery = true)\r\n\tpublic Page&lt;Customer&gt; findAllValid(Pageable pageable, @Param(&quot;regex&quot;) String regex);\r\n```\r\n\r\nAlthough I have registered this Dialect I still get errors like it was not registered.\r\n\r\n2022-02-07 09:50:25.681 ERROR 101004 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.orm.jpa.JpaSystemException: could not prepare statement; nested exception is org.hibernate.exception.GenericJDBCException: could not prepare statement] with root cause\r\n\r\norg.sqlite.SQLiteException: [SQLITE_ERROR] SQL error or missing database (no such function: REGEXP)\r\n\tat org.sqlite.core.DB.newSQLException(DB.java:1030) ~[sqlite-jdbc-3.36.0.3.jar:na]\r\n\tat org.sqlite.core.DB.newSQLException(DB.java:1042) ~[sqlite-jdbc-3.36.0.3.jar:na]","title":"How to use REGEX on SQLLite3 with JPA?","body":"<p>I found out that in order to filter a column of my SQLLite3 database (a number phone) I need to use REGEX because there is a formation rule and on my database I have some valid phone numbers and invalid ones. I can not update the database, it is read only, and I have a RGEX to validate the numbers.</p>\n<p>The problem is that by default SQLite does not provide implementation for the regular expression comparison, so you have to provide one. It's done by implementing the regexp() custom SQL function.</p>\n<p>I googled around to know better how to d it but I still have doubts.\nSo far I found</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/25786996/sqlite-query-with-regex\">SQLite query with regex</a></li>\n<li><a href=\"https://stackoverflow.com/questions/3192443/writing-user-defined-sql-functions-for-sqlite-using-java-or-groovy\">Writing user defined SQL functions for SQLite using Java or Groovy?</a></li>\n<li><a href=\"https://github.com/xerial/sqlite-jdbc/issues/60\" rel=\"nofollow noreferrer\">https://github.com/xerial/sqlite-jdbc/issues/60</a></li>\n<li><a href=\"https://gitanswer.com/sqlite-jdbc-no-such-function-regexp-java-111823316\" rel=\"nofollow noreferrer\">https://gitanswer.com/sqlite-jdbc-no-such-function-regexp-java-111823316</a></li>\n</ul>\n<p>Well I really don't know where to start.</p>\n<ul>\n<li>Where should I implement the REGEX operator?<br />\nMy best guess is inside the SQLLite3 Dialect.  Is it right? How?\nDoes it make sense what I did below?\nI am assuming it is required to use registerFunction.  How should I do it?</li>\n</ul>\n<pre><code>package com.jumia.db.dialect;\n\nimport java.sql.Connection;\nimport java.sql.SQLException;\nimport java.sql.Types;\nimport java.util.regex.Pattern;\n\nimport org.hibernate.dialect.Dialect;\nimport org.hibernate.dialect.function.SQLFunctionTemplate;\nimport org.hibernate.dialect.identity.IdentityColumnSupport;\nimport org.hibernate.type.StandardBasicTypes;\nimport org.sqlite.Function;\n\npublic class SQLiteDialect extends Dialect {\n\n    public SQLiteDialect() {\n        registerColumnType(Types.BIT, &quot;integer&quot;);\n        registerColumnType(Types.TINYINT, &quot;tinyint&quot;);\n        registerColumnType(Types.SMALLINT, &quot;smallint&quot;);\n        registerColumnType(Types.INTEGER, &quot;integer&quot;);\n        registerColumnType(Types.BIGINT, &quot;bigint&quot;);\n        registerColumnType(Types.FLOAT, &quot;float&quot;);\n        registerColumnType(Types.REAL, &quot;real&quot;);\n        registerColumnType(Types.DOUBLE, &quot;double&quot;);\n        registerColumnType(Types.NUMERIC, &quot;numeric&quot;);\n        registerColumnType(Types.DECIMAL, &quot;decimal&quot;);\n        registerColumnType(Types.CHAR, &quot;char&quot;);\n        registerColumnType(Types.VARCHAR, &quot;varchar&quot;);\n        registerColumnType(Types.LONGVARCHAR, &quot;longvarchar&quot;);\n        registerColumnType(Types.DATE, &quot;date&quot;);\n        registerColumnType(Types.TIME, &quot;time&quot;);\n        registerColumnType(Types.TIMESTAMP, &quot;timestamp&quot;);\n        registerColumnType(Types.BINARY, &quot;blob&quot;);\n        registerColumnType(Types.VARBINARY, &quot;blob&quot;);\n        registerColumnType(Types.LONGVARBINARY, &quot;blob&quot;);\n        registerColumnType(Types.BLOB, &quot;blob&quot;);\n        registerColumnType(Types.CLOB, &quot;clob&quot;);\n        registerColumnType(Types.BOOLEAN, &quot;integer&quot;);\n        \n        //How to do it?\nregisterFunction( &quot;REGEXP&quot;, new SQLFunctionTemplate(StandardBasicTypes.INTEGER, &quot;?1 REGEXP ?2&quot;));\n    }\n    \n    public static void createREGEXP(Connection connection) throws SQLException\n    {\n        Function.create(connection, &quot;REGEXP&quot;, new Function() \n        {\n            @Override\n            protected void xFunc() throws SQLException \n            {\n                String expression = value_text(0);\n                String value = value_text(1);\n                if (value == null)\n                value = &quot;&quot;;\n                Pattern pattern=Pattern.compile(expression);\n                result(pattern.matcher(value).find() ? 1 : 0);\n            }\n        });\n    }\n    public boolean dropConstraints() {\n        return false;\n    }\n\n    public String getAddColumnString() {\n        return &quot;add column&quot;;\n    }\n\n    public String getAddForeignKeyConstraintString(String constraintName, String[] foreignKey, String referencedTable, String[] primaryKey, boolean referencesPrimaryKey) {\n        return &quot;&quot;;\n    }\n\n    public String getAddPrimaryKeyConstraintString(String constraintName) {\n        return &quot;&quot;;\n    }\n\n    public String getDropForeignKeyString() {\n        return &quot;&quot;;\n    }\n\n    public String getForUpdateString() {\n        return &quot;&quot;;\n    }\n\n    public IdentityColumnSupport getIdentityColumnSupport() {\n        return new SQLiteIdentityColumnSupport();\n    }\n\n    public boolean hasAlterTable() {\n        return false;\n    }\n\n    public boolean supportsCascadeDelete() {\n        return false;\n    }\n\n    public boolean supportsIfExistsBeforeTableName() {\n        return true;\n    }\n\n    public boolean supportsOuterJoinForUpdate() {\n        return false;\n    }\n}\n</code></pre>\n<p>EDIT:\nOn my Repositry I know that I need to create a method like below.</p>\n<pre><code>    @Query(value = &quot;SELECT * FROM Customer c WHERE c.phone REGEXP :regex&quot;, nativeQuery = true)\n    public Page&lt;Customer&gt; findAllValid(Pageable pageable, @Param(&quot;regex&quot;) String regex);\n</code></pre>\n<p>Although I have registered this Dialect I still get errors like it was not registered.</p>\n<p>2022-02-07 09:50:25.681 ERROR 101004 --- [nio-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed; nested exception is org.springframework.orm.jpa.JpaSystemException: could not prepare statement; nested exception is org.hibernate.exception.GenericJDBCException: could not prepare statement] with root cause</p>\n<p>org.sqlite.SQLiteException: [SQLITE_ERROR] SQL error or missing database (no such function: REGEXP)\nat org.sqlite.core.DB.newSQLException(DB.java:1030) ~[sqlite-jdbc-3.36.0.3.jar:na]\nat org.sqlite.core.DB.newSQLException(DB.java:1042) ~[sqlite-jdbc-3.36.0.3.jar:na]</p>\n"},{"tags":["java","android","android-cardview","android-design-library"],"answers":[{"tags":[],"owner":{"account_id":23767251,"reputation":565,"user_id":17781856,"display_name":"OneDev"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1644227371,"creation_date":1644227371,"answer_id":71016478,"question_id":71015930,"body_markdown":"It&#39;s Because of Elevation and z-index, by default card view has 4dp elevation and that&#39;s the reason the card view place on top of the other views, if you have a view that has 4dp elevation and another view that has 6dp the view with 6dp elevation always be on top of other views, when you set the elevation 0 to card view, the other view that has elevation place on top of this card view. to solve this problem, you have 2 options: &lt;br&gt;\r\n**1- make your both card view elevation to 0dp**&lt;br&gt;\r\n**2- wrap your second card view that has black background in first card view**\r\nfor example:\r\n```\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:layout_width=&quot;42dp&quot;\r\n        android:layout_height=&quot;42dp&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:layout_margin=&quot;2dp&quot;\r\n        app:cardCornerRadius=&quot;20dp&quot;&gt;\r\n\r\n        &lt;androidx.cardview.widget.CardView\r\n            android:layout_width=&quot;38dp&quot;\r\n            android:layout_height=&quot;38dp&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            app:cardElevation=&quot;0dp&quot;\r\n            app:cardBackgroundColor=&quot;@color/black&quot;\r\n            app:cardCornerRadius=&quot;19dp&quot;/&gt;\r\n\r\n      &lt;androidx.cardview.widget.CardView/&gt;\r\n&lt;/FrameLayout&gt;","title":"CardBackgroundColor cannot work while give cardElevation=&quot;0dp&quot;","body":"<p>It's Because of Elevation and z-index, by default card view has 4dp elevation and that's the reason the card view place on top of the other views, if you have a view that has 4dp elevation and another view that has 6dp the view with 6dp elevation always be on top of other views, when you set the elevation 0 to card view, the other view that has elevation place on top of this card view. to solve this problem, you have 2 options: <br>\n<strong>1- make your both card view elevation to 0dp</strong><br>\n<strong>2- wrap your second card view that has black background in first card view</strong>\nfor example:</p>\n<pre><code>&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n    &lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;42dp&quot;\n        android:layout_height=&quot;42dp&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:layout_margin=&quot;2dp&quot;\n        app:cardCornerRadius=&quot;20dp&quot;&gt;\n\n        &lt;androidx.cardview.widget.CardView\n            android:layout_width=&quot;38dp&quot;\n            android:layout_height=&quot;38dp&quot;\n            android:layout_gravity=&quot;center&quot;\n            app:cardElevation=&quot;0dp&quot;\n            app:cardBackgroundColor=&quot;@color/black&quot;\n            app:cardCornerRadius=&quot;19dp&quot;/&gt;\n\n      &lt;androidx.cardview.widget.CardView/&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":24081976,"reputation":260,"user_id":18056527,"display_name":"Abhi S"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71016478,"answer_count":1,"score":2,"last_activity_date":1644227371,"creation_date":1644224835,"question_id":71015930,"body_markdown":"When I&#39;m giving CardView to `app:CardBackgroudColor=&quot;@color/black&quot;` it&#39;s work\r\n\r\n```\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:layout_width=&quot;42dp&quot;\r\n        android:layout_height=&quot;42dp&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:layout_margin=&quot;2dp&quot;\r\n        app:cardCornerRadius=&quot;20dp&quot;/&gt;\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:layout_width=&quot;38dp&quot;\r\n        android:layout_height=&quot;38dp&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        app:cardBackgroundColor=&quot;@color/black&quot;\r\n        app:cardCornerRadius=&quot;19dp&quot;/&gt;\r\n&lt;/FrameLayout&gt;\r\n```\r\n\r\n[CardView img 1][1]\r\n\r\n\r\nBut, When I&#39;m giving CardView to `app:CardBackgroudColor=&quot;@color/black&quot;` and app:cardElevation=&quot;0dp&quot; card background color remove from the card.\r\n\r\n```\r\n&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:layout_width=&quot;42dp&quot;\r\n        android:layout_height=&quot;42dp&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        android:layout_margin=&quot;2dp&quot;\r\n        app:cardCornerRadius=&quot;20dp&quot;/&gt;\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:layout_width=&quot;38dp&quot;\r\n        android:layout_height=&quot;38dp&quot;\r\n        android:layout_gravity=&quot;center&quot;\r\n        app:cardElevation=&quot;0dp&quot;\r\n        app:cardBackgroundColor=&quot;@color/black&quot;\r\n        app:cardCornerRadius=&quot;19dp&quot;/&gt;\r\n&lt;/FrameLayout&gt;\r\n```\r\n\r\n[CardView img 2][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aAqCA.png\r\n  [2]: https://i.stack.imgur.com/SUR98.png","title":"CardBackgroundColor cannot work while give cardElevation=&quot;0dp&quot;","body":"<p>When I'm giving CardView to <code>app:CardBackgroudColor=&quot;@color/black&quot;</code> it's work</p>\n<pre><code>&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n    &lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;42dp&quot;\n        android:layout_height=&quot;42dp&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:layout_margin=&quot;2dp&quot;\n        app:cardCornerRadius=&quot;20dp&quot;/&gt;\n    &lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;38dp&quot;\n        android:layout_height=&quot;38dp&quot;\n        android:layout_gravity=&quot;center&quot;\n        app:cardBackgroundColor=&quot;@color/black&quot;\n        app:cardCornerRadius=&quot;19dp&quot;/&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/aAqCA.png\" rel=\"nofollow noreferrer\">CardView img 1</a></p>\n<p>But, When I'm giving CardView to <code>app:CardBackgroudColor=&quot;@color/black&quot;</code> and app:cardElevation=&quot;0dp&quot; card background color remove from the card.</p>\n<pre><code>&lt;FrameLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n    &lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;42dp&quot;\n        android:layout_height=&quot;42dp&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:layout_margin=&quot;2dp&quot;\n        app:cardCornerRadius=&quot;20dp&quot;/&gt;\n    &lt;androidx.cardview.widget.CardView\n        android:layout_width=&quot;38dp&quot;\n        android:layout_height=&quot;38dp&quot;\n        android:layout_gravity=&quot;center&quot;\n        app:cardElevation=&quot;0dp&quot;\n        app:cardBackgroundColor=&quot;@color/black&quot;\n        app:cardCornerRadius=&quot;19dp&quot;/&gt;\n&lt;/FrameLayout&gt;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/SUR98.png\" rel=\"nofollow noreferrer\">CardView img 2</a></p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1532455336,"post_id":51496100,"comment_id":89978801,"body_markdown":"Just to make it clear, you are sending the request with an `Authentication`header and the header contains a valid username and password?","body":"Just to make it clear, you are sending the request with an <code>Authentication</code>header and the header contains a valid username and password?"},{"owner":{"account_id":13571921,"reputation":93,"user_id":9790444,"display_name":"Anoobizzz"},"score":0,"creation_date":1532460710,"post_id":51496100,"comment_id":89981461,"body_markdown":"@dur No, its Authorization header and its content doesn&#39;t matter since that endpoint should be opened.","body":"@dur No, its Authorization header and its content doesn&#39;t matter since that endpoint should be opened."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1532461583,"post_id":51496100,"comment_id":89981873,"body_markdown":"No, the authentication is before authorization, so username and password matters.","body":"No, the authentication is before authorization, so username and password matters."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1532461911,"post_id":51496100,"comment_id":89982053,"body_markdown":"Possible duplicate of https://stackoverflow.com/questions/47433314/spring-security-permitall-denies-access-when-sending-authorization-header","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/47433314/spring-security-permitall-denies-access-when-sending-authorization-header\" title=\"spring security permitall denies access when sending authorization header\">stackoverflow.com/questions/47433314/&hellip;</a>"},{"owner":{"account_id":13571921,"reputation":93,"user_id":9790444,"display_name":"Anoobizzz"},"score":0,"creation_date":1532466999,"post_id":51496100,"comment_id":89984337,"body_markdown":"@dur Well if what you say is true than it is kind of weird since before Spring supported security.basic.path and actuator sensetivity configurations and other rest endpoints were not affected.","body":"@dur Well if what you say is true than it is kind of weird since before Spring supported security.basic.path and actuator sensetivity configurations and other rest endpoints were not affected."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1532502175,"post_id":51496100,"comment_id":89993761,"body_markdown":"Spring Boot 1.x has separated configurations for actuator and application. It supported a lot of properties (doing some magic). Because of too much problems, Spring Boot 2 removed almost all properties (the magic). Now you have to go the Spring Security way, because there is no more Spring Boot way.","body":"Spring Boot 1.x has separated configurations for actuator and application. It supported a lot of properties (doing some magic). Because of too much problems, Spring Boot 2 removed almost all properties (the magic). Now you have to go the Spring Security way, because there is no more Spring Boot way."}],"answers":[{"tags":[],"owner":{"account_id":3234239,"reputation":908,"user_id":2728815,"accept_rate":95,"display_name":"ntakouris"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1532428643,"creation_date":1532428643,"answer_id":51496487,"question_id":51496100,"body_markdown":"By calling `.authorizeRequests()` , you enforce authorization of all these requests because you&#39;ve not called `.ignore()` on some matcher.\r\n\r\nI suggest to use `ignore` on a `**` matcher and then incrementally enforce authorization on specified matchers ontop of the permit-all layer so that everything is accessible except of the ones explicitly specified.\r\n\r\nThis accomplishes what you want to do but beware, it&#39;s not a best practise for a very good reason: You should deny all unauthorized traffic by default and only explicitly permit unauthorized requests for specific route templates.\r\n\r\nThat said, it would be wiser to just use `ignore` explicitly on the routes you want to be accessible without authentication, not just `**` (for example only for `/home - /about - /login - /signup`)","title":"Spring Boot 2: Basic Http Auth causes unprotected endpoints to respond with 401 &quot;Unauthorized&quot; if Authorization header is attached","body":"<p>By calling <code>.authorizeRequests()</code> , you enforce authorization of all these requests because you've not called <code>.ignore()</code> on some matcher.</p>\n\n<p>I suggest to use <code>ignore</code> on a <code>**</code> matcher and then incrementally enforce authorization on specified matchers ontop of the permit-all layer so that everything is accessible except of the ones explicitly specified.</p>\n\n<p>This accomplishes what you want to do but beware, it's not a best practise for a very good reason: You should deny all unauthorized traffic by default and only explicitly permit unauthorized requests for specific route templates.</p>\n\n<p>That said, it would be wiser to just use <code>ignore</code> explicitly on the routes you want to be accessible without authentication, not just <code>**</code> (for example only for <code>/home - /about - /login - /signup</code>)</p>\n"},{"tags":[],"owner":{"account_id":312560,"reputation":1308,"user_id":626698,"accept_rate":75,"display_name":"Mark Bakker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644227114,"creation_date":1644227114,"answer_id":71016418,"question_id":51496100,"body_markdown":"Found a solution un cased if case when using the spring security oauth2 library. For me it went wrong in the org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter. The default behaviour this filter extracts all Authorization when send. \r\n\r\nI solved this by reconfiguring this one;\r\n\r\n    OAuth2AuthenticationProcessingFilter.setTokenExtractor(myTokenExtractor)\r\n\r\nMy token extractor I have implemented like this\r\n\r\n    public class MyTokenExtractor implements TokenExtractor {\r\n    \r\n    private final BearerTokenExtractor bearerTokenExtractor = new BearerTokenExtractor()\r\n    @Overide\r\n    public Authentication extract(HttpServletRequest request) {\r\n      String requestURI = request.getRequestURI();\r\n      if (requestURI.startsWith(&quot;/someuri&quot;) {\r\n        return null;\r\n      }\r\n      return bearerTokenExtractor.extract(request);\r\n    }\r\n    \r\n\r\n ","title":"Spring Boot 2: Basic Http Auth causes unprotected endpoints to respond with 401 &quot;Unauthorized&quot; if Authorization header is attached","body":"<p>Found a solution un cased if case when using the spring security oauth2 library. For me it went wrong in the org.springframework.security.oauth2.provider.authentication.OAuth2AuthenticationProcessingFilter. The default behaviour this filter extracts all Authorization when send.</p>\n<p>I solved this by reconfiguring this one;</p>\n<pre><code>OAuth2AuthenticationProcessingFilter.setTokenExtractor(myTokenExtractor)\n</code></pre>\n<p>My token extractor I have implemented like this</p>\n<pre><code>public class MyTokenExtractor implements TokenExtractor {\n\nprivate final BearerTokenExtractor bearerTokenExtractor = new BearerTokenExtractor()\n@Overide\npublic Authentication extract(HttpServletRequest request) {\n  String requestURI = request.getRequestURI();\n  if (requestURI.startsWith(&quot;/someuri&quot;) {\n    return null;\n  }\n  return bearerTokenExtractor.extract(request);\n}\n</code></pre>\n"}],"owner":{"account_id":13571921,"reputation":93,"user_id":9790444,"display_name":"Anoobizzz"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2936,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":51496487,"answer_count":2,"score":5,"last_activity_date":1644227114,"creation_date":1532427416,"question_id":51496100,"body_markdown":"After migration to Spring Boot 2 and adding basic authorization requirement for actuator and another application controlling endpoint it became impossible to call any unprotected endpoint with Authorization header.\r\n\r\n**Configuration snippet:**\r\n\r\n    @Override\r\n    public void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n                .authorizeRequests()\r\n                .requestMatchers(EndpointRequest.to(&quot;shutdown&quot;)).fullyAuthenticated()\r\n                .antMatchers(&quot;/payment/status/*&quot;).fullyAuthenticated()\r\n                .and().httpBasic();\r\n    }\r\n\r\nE.g. call to .../health with &quot;Authorization: Basic ...&quot; will cause 401 &quot;Unauthorized&quot; even though it is not protected by spring security.\r\n\r\n**Question:** How can i adjust the configuration so that it is possible to send request with Authorization header to any unprotected endpoint without being denied?\r\n\r\n&lt;strike&gt;\r\n**UPD:** This fix worked as i wanted\r\n\r\n    @Override\r\n    public void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n                .authorizeRequests()\r\n                .requestMatchers(EndpointRequest.to(&quot;shutdown&quot;)).fullyAuthenticated()\r\n                .antMatchers(&quot;/payment/status/*&quot;).fullyAuthenticated()\r\n                .antMatchers(&quot;/payment/**&quot;).permitAll()\r\n                .and().httpBasic();\r\n    }\r\n&lt;/strike&gt;\r\n**UPD2:** Nevermind, just tested another request and still receive 401 &quot;Unauthorized&quot;.\r\n\r\n    curl localhost:8080/payment/&lt;any_endpoint&gt; -H &quot;Authorization: Basic asdadas&quot;\r\n    {&quot;code&quot;:401,&quot;message&quot;:&quot;Unauthorized&quot;}\r\n\r\nThis approach unfortunately overrides HttpSecurity matchers, e.g.: /payment/&lt;any&gt; becomes accessible\r\n\r\n    @Override\r\n    public void configure(HttpSecurity http) throws Exception {\r\n        http.csrf().disable()\r\n                .authorizeRequests()\r\n                .requestMatchers(EndpointRequest.to(&quot;shutdown&quot;)).fullyAuthenticated()\r\n                .antMatchers(&quot;/payment/status/*&quot;).fullyAuthenticated()\r\n                .and().httpBasic();\r\n    }\r\n    \r\n    @Override\r\n    public void configure(WebSecurity webSecurity) throws Exception {\r\n        webSecurity.ignoring().antMatchers(&quot;/payment/**&quot;);\r\n    }\r\n\r\n\r\n**UPD 3:** I&#39;ve created a simple project with this issue being reproduced\r\n[https://github.com/Anoobizzz/SpringSecurity2BasicAuthDemo][1]\r\n\r\n\r\n  [1]: https://github.com/Anoobizzz/SpringSecurity2BasicAuthDemo\r\n1. /internal &amp; /shutdown are only accessible with user:P455W0RD\r\n2. /exposed accessible without authorization\r\n3. /exposed with header &quot;Authorization: Basic 123123&quot; responds with 401 &quot;Unauthorized&quot;","title":"Spring Boot 2: Basic Http Auth causes unprotected endpoints to respond with 401 &quot;Unauthorized&quot; if Authorization header is attached","body":"<p>After migration to Spring Boot 2 and adding basic authorization requirement for actuator and another application controlling endpoint it became impossible to call any unprotected endpoint with Authorization header.</p>\n\n<p><strong>Configuration snippet:</strong></p>\n\n<pre><code>@Override\npublic void configure(HttpSecurity http) throws Exception {\n    http.csrf().disable()\n            .authorizeRequests()\n            .requestMatchers(EndpointRequest.to(\"shutdown\")).fullyAuthenticated()\n            .antMatchers(\"/payment/status/*\").fullyAuthenticated()\n            .and().httpBasic();\n}\n</code></pre>\n\n<p>E.g. call to .../health with \"Authorization: Basic ...\" will cause 401 \"Unauthorized\" even though it is not protected by spring security.</p>\n\n<p><strong>Question:</strong> How can i adjust the configuration so that it is possible to send request with Authorization header to any unprotected endpoint without being denied?</p>\n\n<p><strike>\n<strong>UPD:</strong> This fix worked as i wanted</p>\n\n<pre><code>@Override\npublic void configure(HttpSecurity http) throws Exception {\n    http.csrf().disable()\n            .authorizeRequests()\n            .requestMatchers(EndpointRequest.to(\"shutdown\")).fullyAuthenticated()\n            .antMatchers(\"/payment/status/*\").fullyAuthenticated()\n            .antMatchers(\"/payment/**\").permitAll()\n            .and().httpBasic();\n}\n</code></pre>\n\n<p></strike>\n<strong>UPD2:</strong> Nevermind, just tested another request and still receive 401 \"Unauthorized\".</p>\n\n<pre><code>curl localhost:8080/payment/&lt;any_endpoint&gt; -H \"Authorization: Basic asdadas\"\n{\"code\":401,\"message\":\"Unauthorized\"}\n</code></pre>\n\n<p>This approach unfortunately overrides HttpSecurity matchers, e.g.: /payment/ becomes accessible</p>\n\n<pre><code>@Override\npublic void configure(HttpSecurity http) throws Exception {\n    http.csrf().disable()\n            .authorizeRequests()\n            .requestMatchers(EndpointRequest.to(\"shutdown\")).fullyAuthenticated()\n            .antMatchers(\"/payment/status/*\").fullyAuthenticated()\n            .and().httpBasic();\n}\n\n@Override\npublic void configure(WebSecurity webSecurity) throws Exception {\n    webSecurity.ignoring().antMatchers(\"/payment/**\");\n}\n</code></pre>\n\n<p><strong>UPD 3:</strong> I've created a simple project with this issue being reproduced\n<a href=\"https://github.com/Anoobizzz/SpringSecurity2BasicAuthDemo\" rel=\"nofollow noreferrer\">https://github.com/Anoobizzz/SpringSecurity2BasicAuthDemo</a></p>\n\n<ol>\n<li>/internal &amp; /shutdown are only accessible with user:P455W0RD</li>\n<li>/exposed accessible without authorization</li>\n<li>/exposed with header \"Authorization: Basic 123123\" responds with 401 \"Unauthorized\"</li>\n</ol>\n"},{"tags":["javascript","java","jsp"],"comments":[{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1643998791,"post_id":70988841,"comment_id":125497100,"body_markdown":"Please give us more details. What is name of the file that contains your code? Where is that file located? Are you using Tomcat or some other web server? What is a &lt;uw:dropdown tag ? Can you get a simple Hello World example JSP to work in your environment?","body":"Please give us more details. What is name of the file that contains your code? Where is that file located? Are you using Tomcat or some other web server? What is a &lt;uw:dropdown tag ? Can you get a simple Hello World example JSP to work in your environment?"},{"owner":{"account_id":1626038,"reputation":4046,"user_id":1501582,"accept_rate":54,"display_name":"Stefano Maglione"},"score":0,"creation_date":1644226948,"post_id":70988841,"comment_id":125539715,"body_markdown":"the html rendered is not rendered with the jsp variable content but like functionName(this.form, &#39;&lt;%=envtoken %&gt;&#39;) @rickz","body":"the html rendered is not rendered with the jsp variable content but like functionName(this.form, &#39;&lt;%=envtoken %&gt;&#39;) @rickz"},{"owner":{"account_id":1122178,"reputation":4384,"user_id":1110291,"display_name":"rickz"},"score":0,"creation_date":1644249161,"post_id":70988841,"comment_id":125548675,"body_markdown":"I understand that the JSP expression is not being evaluated.  In order to help you, we must know the answers to my questions.","body":"I understand that the JSP expression is not being evaluated.  In order to help you, we must know the answers to my questions."}],"owner":{"account_id":1626038,"reputation":4046,"user_id":1501582,"accept_rate":54,"display_name":"Stefano Maglione"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644226983,"creation_date":1643988286,"question_id":70988841,"body_markdown":"I have defined a variable:\r\n\r\n    &lt;% String envtoken= System.getProperty(&quot;token&quot;); %&gt;\r\n\r\nand inside a `&lt;uw:dropdown` tag I have an `onchange=&quot;functionName(this.form, &#39;&lt;%=envtoken %&gt;&#39;);&quot;`\r\n\r\nI set a console.log in the javascript function and instead of printing the value of the variable it prints: \r\n\r\n\r\n    &lt;%=envtoken %&gt;\r\n\r\nthe html rendered is not rendered with the jsp variable content but like \r\n\r\n    functionName(this.form, &#39;&lt;%=envtoken %&gt;&#39;)\r\n    ","title":"Pass variable defined in JSP to JavaScript function","body":"<p>I have defined a variable:</p>\n<pre><code>&lt;% String envtoken= System.getProperty(&quot;token&quot;); %&gt;\n</code></pre>\n<p>and inside a <code>&lt;uw:dropdown</code> tag I have an <code>onchange=&quot;functionName(this.form, '&lt;%=envtoken %&gt;');&quot;</code></p>\n<p>I set a console.log in the javascript function and instead of printing the value of the variable it prints:</p>\n<pre><code>&lt;%=envtoken %&gt;\n</code></pre>\n<p>the html rendered is not rendered with the jsp variable content but like</p>\n<pre><code>functionName(this.form, '&lt;%=envtoken %&gt;')\n</code></pre>\n"},{"tags":["java","jpql","java-ee-6","java-ee-7","java-ee-8"],"comments":[{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1644226187,"post_id":71016132,"comment_id":125539433,"body_markdown":"Instead of WHERE, try &quot;ORDER BY max(...) DESCENDING LIMIT 1&quot;. Also is `s` really a column name? The first SELECT should specify a column name or &quot;*&quot;.","body":"Instead of WHERE, try &quot;ORDER BY max(...) DESCENDING LIMIT 1&quot;. Also is <code>s</code> really a column name? The first SELECT should specify a column name or &quot;*&quot;."},{"owner":{"account_id":24179189,"reputation":1,"user_id":18140116,"display_name":"Oblio096"},"score":0,"creation_date":1644226963,"post_id":71016132,"comment_id":125539719,"body_markdown":"Yes s is a column and i have other queries with select s that correctly work.","body":"Yes s is a column and i have other queries with select s that correctly work."},{"owner":{"account_id":24179189,"reputation":1,"user_id":18140116,"display_name":"Oblio096"},"score":0,"creation_date":1644227482,"post_id":71016132,"comment_id":125539923,"body_markdown":"Can you write the full query? I tried  @NamedQuery(name = FIND_FOR_MAX_VOTES, query = &quot;SELECT s FROM Song s ORDER BY max(s.votes1+ s.votes2+ s.votes3) DESCENDING LIMIT 1&quot;) but i got many warnings like &quot;the order by item is not a valid exception, the left/right side of the addition is not a valid arithmetic expression, DESCENDIN and LIMIT are not defined in FROM clause","body":"Can you write the full query? I tried  @NamedQuery(name = FIND_FOR_MAX_VOTES, query = &quot;SELECT s FROM Song s ORDER BY max(s.votes1+ s.votes2+ s.votes3) DESCENDING LIMIT 1&quot;) but i got many warnings like &quot;the order by item is not a valid exception, the left/right side of the addition is not a valid arithmetic expression, DESCENDIN and LIMIT are not defined in FROM clause"},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1644229276,"post_id":71016132,"comment_id":125540567,"body_markdown":"&quot;the left/right side of the addition is not a valid arithmetic expression&quot; means that s.votes1 etc are not data types that can be added, such as integers.","body":"&quot;the left/right side of the addition is not a valid arithmetic expression&quot; means that s.votes1 etc are not data types that can be added, such as integers."},{"owner":{"account_id":24179189,"reputation":1,"user_id":18140116,"display_name":"Oblio096"},"score":0,"creation_date":1644230338,"post_id":71016132,"comment_id":125540956,"body_markdown":"That&#39;s weird because votes1 etc... are integers.","body":"That&#39;s weird because votes1 etc... are integers."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1644252680,"post_id":71016132,"comment_id":125550265,"body_markdown":"Sorry, I got it a bit wrong: &quot;max&quot; doesn&#39;t make sense there. It should be &quot;SELECT s FROM Song s ORDER BY s.votes1 + s.votes2 + s.votes3 DESC&quot;. (I think &quot;LIMIT 1&quot; is not recognised, but you can just get the first row that comes back and ignore the rest.) Try it now.","body":"Sorry, I got it a bit wrong: &quot;max&quot; doesn&#39;t make sense there. It should be &quot;SELECT s FROM Song s ORDER BY s.votes1 + s.votes2 + s.votes3 DESC&quot;. (I think &quot;LIMIT 1&quot; is not recognised, but you can just get the first row that comes back and ignore the rest.) Try it now."},{"owner":{"account_id":19118721,"reputation":6319,"user_id":13963086,"display_name":"k314159"},"score":0,"creation_date":1644252942,"post_id":71016132,"comment_id":125550374,"body_markdown":"If the above doesn&#39;t work, try &quot;SELECT s FROM Song s WHERE s.votes1 + s.votes2 + s.votes3 = (SELECT max(s.votes1 + s.votes2 + s.votes3) FROM Song)&quot;","body":"If the above doesn&#39;t work, try &quot;SELECT s FROM Song s WHERE s.votes1 + s.votes2 + s.votes3 = (SELECT max(s.votes1 + s.votes2 + s.votes3) FROM Song)&quot;"}],"owner":{"account_id":24179189,"reputation":1,"user_id":18140116,"display_name":"Oblio096"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644225765,"creation_date":1644225765,"question_id":71016132,"body_markdown":"I have an entity &quot;Song&quot; and i need a query to get the song(not the title, the entity) with the max number of votes (there are three types of votes called votes1, votes2, votes3).\r\nIt&#39;s possible to define this type of query in jpql?\r\n\r\nI tried with this type of code but is syntactically wrong.\r\n\r\n\r\n@NamedQuery(name = FIND_FOR_MAX_VOTES, query = &quot;SELECT  s FROM Song s WHERE (SELECT (MAX s.votes1+ s.votes2+ s.votes3))&quot;),","title":"Query jpql with max","body":"<p>I have an entity &quot;Song&quot; and i need a query to get the song(not the title, the entity) with the max number of votes (there are three types of votes called votes1, votes2, votes3).\nIt's possible to define this type of query in jpql?</p>\n<p>I tried with this type of code but is syntactically wrong.</p>\n<p>@NamedQuery(name = FIND_FOR_MAX_VOTES, query = &quot;SELECT  s FROM Song s WHERE (SELECT (MAX s.votes1+ s.votes2+ s.votes3))&quot;),</p>\n"},{"tags":["java","enums"],"answers":[{"tags":[],"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1644224561,"creation_date":1644224561,"answer_id":71015866,"question_id":71015721,"body_markdown":"Enums can contain method definitions, so one way is to define the method that retrieves the field name based on the enum value. I assume you have the actual field name stored as a member field also. Then you can override the method for the special `ALL` value:\r\n\r\n    enum SearchableFields {\r\n        ALL(&quot;all&quot;) { // all is just a placeholder in this case\r\n            @Override\r\n            String retrieveField(FieldPojo f) {\r\n                // logic for all fields\r\n            }\r\n        },\r\n        FIELD1(&quot;field1&quot;),\r\n        FIELD2(&quot;field2&quot;),\r\n        FIELD3(&quot;field3&quot;);\r\n        \r\n        SearchableFields(String fieldName) {\r\n            this.fieldName = Optional.of(fieldName);\r\n        }\r\n        SearchableFields() {\r\n            fieldName = Optional.empty();\r\n        }\r\n        private final Optional&lt;String&gt; fieldName;\r\n\r\n        String retrieveField(FieldPojo f) {\r\n            if (fieldName.isPresent()) {\r\n                return (String) f.getClass().getField(fieldName.get()).get(f);\r\n            } else {\r\n               // ...\r\n            }\r\n        }\r\n    }","title":"Call specific method on object depending on selected enum value","body":"<p>Enums can contain method definitions, so one way is to define the method that retrieves the field name based on the enum value. I assume you have the actual field name stored as a member field also. Then you can override the method for the special <code>ALL</code> value:</p>\n<pre><code>enum SearchableFields {\n    ALL(&quot;all&quot;) { // all is just a placeholder in this case\n        @Override\n        String retrieveField(FieldPojo f) {\n            // logic for all fields\n        }\n    },\n    FIELD1(&quot;field1&quot;),\n    FIELD2(&quot;field2&quot;),\n    FIELD3(&quot;field3&quot;);\n    \n    SearchableFields(String fieldName) {\n        this.fieldName = Optional.of(fieldName);\n    }\n    SearchableFields() {\n        fieldName = Optional.empty();\n    }\n    private final Optional&lt;String&gt; fieldName;\n\n    String retrieveField(FieldPojo f) {\n        if (fieldName.isPresent()) {\n            return (String) f.getClass().getField(fieldName.get()).get(f);\n        } else {\n           // ...\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12593956,"reputation":279,"user_id":9159407,"display_name":"omer blechman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644224755,"creation_date":1644224755,"answer_id":71015908,"question_id":71015721,"body_markdown":"You can create a static map instead of the switch-case.\r\n\r\n    private static final Map&lt;SearchableFields,Supplier&lt;String&gt;&gt; searchableFieldsToFieldPojo = Map.of(\r\n        ALL, this::retrieveAll,\r\n        FIELD1, FieldPojo::retrieveAll\r\n        );\r\n\r\nAnd then you can access via:\r\n\r\n    searchableFieldsToFieldPojo.get(selectedField).get();","title":"Call specific method on object depending on selected enum value","body":"<p>You can create a static map instead of the switch-case.</p>\n<pre><code>private static final Map&lt;SearchableFields,Supplier&lt;String&gt;&gt; searchableFieldsToFieldPojo = Map.of(\n    ALL, this::retrieveAll,\n    FIELD1, FieldPojo::retrieveAll\n    );\n</code></pre>\n<p>And then you can access via:</p>\n<pre><code>searchableFieldsToFieldPojo.get(selectedField).get();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644225248,"creation_date":1644225248,"answer_id":71016014,"question_id":71015721,"body_markdown":"Given that you can modify all parts of the code, you have several options:\r\n* Put the `retrieveField` into the class `FieldPojo` and modify it&#39;s parameter so it takes the enum `SearchableFields` as parameter.\r\n* Put the fields of `FieldPojo` as values into a map with a key of type `SearchableFields`. You can then decide whether you want to have &quot;ALL&quot; as an extra entry of the map or handle it as special case in a method similar to `retrieveField`. You could use this to have a &quot;default&quot; handling if you want to update the enum but not the `FieldPojo` class.\r\n* You put `retrieveField` into the class `FieldPojo` together with the `SearchableFields` enum - since only `FieldPojo` knows, which fields it actually provides as searchable fields.\r\n* You use introspection to gather the list of possible searchable fields and also access their contents.\r\n\r\nDepending on your real requirements (you only showed a very abstract and specific version of them) one or the other method might be &quot;the right one&quot; for you. I would actually prefer the &quot;everything into `FieldPojo`&quot; as the most robust one, but on the other hand if you are not able to change `FieldPojo` and have to handle many different classes like it, the introspection variant might be the right one. (Be aware that it is fragile in terms of security and also probably very slow.)","title":"Call specific method on object depending on selected enum value","body":"<p>Given that you can modify all parts of the code, you have several options:</p>\n<ul>\n<li>Put the <code>retrieveField</code> into the class <code>FieldPojo</code> and modify it's parameter so it takes the enum <code>SearchableFields</code> as parameter.</li>\n<li>Put the fields of <code>FieldPojo</code> as values into a map with a key of type <code>SearchableFields</code>. You can then decide whether you want to have &quot;ALL&quot; as an extra entry of the map or handle it as special case in a method similar to <code>retrieveField</code>. You could use this to have a &quot;default&quot; handling if you want to update the enum but not the <code>FieldPojo</code> class.</li>\n<li>You put <code>retrieveField</code> into the class <code>FieldPojo</code> together with the <code>SearchableFields</code> enum - since only <code>FieldPojo</code> knows, which fields it actually provides as searchable fields.</li>\n<li>You use introspection to gather the list of possible searchable fields and also access their contents.</li>\n</ul>\n<p>Depending on your real requirements (you only showed a very abstract and specific version of them) one or the other method might be &quot;the right one&quot; for you. I would actually prefer the &quot;everything into <code>FieldPojo</code>&quot; as the most robust one, but on the other hand if you are not able to change <code>FieldPojo</code> and have to handle many different classes like it, the introspection variant might be the right one. (Be aware that it is fragile in terms of security and also probably very slow.)</p>\n"},{"tags":[],"owner":{"account_id":4994171,"reputation":2831,"user_id":4015372,"display_name":"OhleC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644225684,"creation_date":1644225684,"answer_id":71016108,"question_id":71015721,"body_markdown":"You could store a reference to the getter in your enum constants:\r\n\r\n```java\r\nenum SearchableFields {\r\n    ALL(FieldPojo::retrieveAll),\r\n    FIELD1(FieldPojo::getField1)\r\n\r\n    private final Function&lt;FieldPojo, String&gt; accessor;\r\n    SearchableFields(Function&lt;FieldPojo, String&gt; acccessor) {\r\n        this.accessor = accessor;\r\n    }\r\n\r\n    public String get(FieldPojo fp) {\r\n        return accessor.apply(fp);\r\n    }\r\n}\r\n```\r\n","title":"Call specific method on object depending on selected enum value","body":"<p>You could store a reference to the getter in your enum constants:</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum SearchableFields {\n    ALL(FieldPojo::retrieveAll),\n    FIELD1(FieldPojo::getField1)\n\n    private final Function&lt;FieldPojo, String&gt; accessor;\n    SearchableFields(Function&lt;FieldPojo, String&gt; acccessor) {\n        this.accessor = accessor;\n    }\n\n    public String get(FieldPojo fp) {\n        return accessor.apply(fp);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71016108,"answer_count":4,"score":1,"last_activity_date":1644225684,"creation_date":1644223895,"question_id":71015721,"body_markdown":"Let&#39;s assume we have an enum, that represents searchable fields:\r\n\r\n```lang-java\r\nenum SearchableFields {\r\n    ALL,\r\n    FIELD1,\r\n    FIELD2,\r\n    FIELD3;\r\n}\r\n```\r\nThis enum is displayed via a (combobox) selection inside a GUI. At runtime, I want to evaluate the selection of this combobox and search accordingly. \r\n\r\nDepending on the selection, I need to retrieve the fields to search from a POJO (example below) via a getter.\r\n\r\n```lang-java\r\nclass FieldPojo {\r\n    private String field1;\r\n    private String field2;\r\n    private String field3;\r\n    ...\r\n    public String getField1() {\r\n        return field1;\r\n    }\r\n    ...\r\n}\r\n```\r\n\r\nI currently use a `switch` statement to evaluate the selection of `SelectableFields` and to then retrieve the correct field(s) to search:\r\n\r\n```lang-java\r\nprivate String retrieveField(FieldPojo f) {\r\n    switch (selectedField) {\r\n    case ALL:\r\n        return retrieveAll(); // method that retrieves all available fields\r\n    case FIELD1:\r\n        return f.getField1();\r\n    ...\r\n}\r\n```\r\n\r\nThis does work, however I feel like it&#39;s clunky.\r\n\r\n**Question:**\r\n\r\nIs there a more concise way to do this without evaluating the `enum` via a `switch`? (Java 8)\r\n","title":"Call specific method on object depending on selected enum value","body":"<p>Let's assume we have an enum, that represents searchable fields:</p>\n<pre class=\"lang-java prettyprint-override\"><code>enum SearchableFields {\n    ALL,\n    FIELD1,\n    FIELD2,\n    FIELD3;\n}\n</code></pre>\n<p>This enum is displayed via a (combobox) selection inside a GUI. At runtime, I want to evaluate the selection of this combobox and search accordingly.</p>\n<p>Depending on the selection, I need to retrieve the fields to search from a POJO (example below) via a getter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class FieldPojo {\n    private String field1;\n    private String field2;\n    private String field3;\n    ...\n    public String getField1() {\n        return field1;\n    }\n    ...\n}\n</code></pre>\n<p>I currently use a <code>switch</code> statement to evaluate the selection of <code>SelectableFields</code> and to then retrieve the correct field(s) to search:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String retrieveField(FieldPojo f) {\n    switch (selectedField) {\n    case ALL:\n        return retrieveAll(); // method that retrieves all available fields\n    case FIELD1:\n        return f.getField1();\n    ...\n}\n</code></pre>\n<p>This does work, however I feel like it's clunky.</p>\n<p><strong>Question:</strong></p>\n<p>Is there a more concise way to do this without evaluating the <code>enum</code> via a <code>switch</code>? (Java 8)</p>\n"},{"tags":["java","rest-assured"],"comments":[{"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"score":0,"creation_date":1644077134,"post_id":70998377,"comment_id":125512021,"body_markdown":"I tested your model and it worked as expected. It&#39;s only create a json with selected keys.","body":"I tested your model and it worked as expected. It&#39;s only create a json with selected keys."}],"answers":[{"tags":[],"owner":{"account_id":7547772,"reputation":8583,"user_id":5730279,"display_name":"hc_dev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644225584,"creation_date":1644225584,"answer_id":71016089,"question_id":70998377,"body_markdown":"If you add the Jackson annotation `@JsonInclude(Include.NON_NULL)` an easy selection could be made, by setting all fields that you want to exclude to `null`.\r\n\r\nSee also:\r\n* https://stackoverflow.com/questions/26256720/jsonincludeinclude-non-null-not-working-as-expected\r\n* Baeldung tutorial: [Ignore Null Fields with Jackson](https://www.baeldung.com/jackson-ignore-null-fields)","title":"How to send only certain parameters of the model in a request?","body":"<p>If you add the Jackson annotation <code>@JsonInclude(Include.NON_NULL)</code> an easy selection could be made, by setting all fields that you want to exclude to <code>null</code>.</p>\n<p>See also:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/26256720/jsonincludeinclude-non-null-not-working-as-expected\">@JsonInclude(Include.NON_NULL) not working as expected</a></li>\n<li>Baeldung tutorial: <a href=\"https://www.baeldung.com/jackson-ignore-null-fields\" rel=\"nofollow noreferrer\">Ignore Null Fields with Jackson</a></li>\n</ul>\n"}],"owner":{"account_id":22845348,"reputation":11,"user_id":18127538,"display_name":"lanzarotte21"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":192,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71016089,"answer_count":1,"score":0,"last_activity_date":1644225584,"creation_date":1644067013,"question_id":70998377,"body_markdown":"I have a question. How to send only selected parameters in a JSON?\r\nFor example I have a class:\r\n\r\n    @Getter\r\n    @Setter\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    @JsonInclude(JsonInclude.Include.NON_EMPTY)\r\n    public class City {\r\n    \r\n    private String name;\r\n    private String country;\r\n    private long population;\r\n    private String postCode;\r\n    }\r\n\r\nIf I would like to make changes and send a **PUT** request which allows only &quot;population&quot; and &quot;postCode&quot;.\r\n\r\nInstead when I am sending a put request, all the parameters from the model **City** class are sent.\r\n\r\n\r\n","title":"How to send only certain parameters of the model in a request?","body":"<p>I have a question. How to send only selected parameters in a JSON?\nFor example I have a class:</p>\n<pre><code>@Getter\n@Setter\n@JsonIgnoreProperties(ignoreUnknown = true)\n@JsonInclude(JsonInclude.Include.NON_EMPTY)\npublic class City {\n\nprivate String name;\nprivate String country;\nprivate long population;\nprivate String postCode;\n}\n</code></pre>\n<p>If I would like to make changes and send a <strong>PUT</strong> request which allows only &quot;population&quot; and &quot;postCode&quot;.</p>\n<p>Instead when I am sending a put request, all the parameters from the model <strong>City</strong> class are sent.</p>\n"},{"tags":["java","swing","jspinner"],"comments":[{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":0,"creation_date":1363232457,"post_id":15400781,"comment_id":21772628,"body_markdown":"Please don&#39;t add the language in title since the question is already tagged with it.","body":"Please don&#39;t add the language in title since the question is already tagged with it."},{"owner":{"account_id":1243783,"reputation":995,"user_id":1205699,"accept_rate":57,"display_name":"Johnny Dahdah"},"score":0,"creation_date":1363232553,"post_id":15400781,"comment_id":21772656,"body_markdown":"@LuiggiMendoza Sorry, I didn&#39;t know that.","body":"@LuiggiMendoza Sorry, I didn&#39;t know that."},{"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"score":1,"creation_date":1363232624,"post_id":15400781,"comment_id":21772674,"body_markdown":"Apart from that, what have you tried?","body":"Apart from that, what have you tried?"}],"answers":[{"tags":[],"owner":{"account_id":18600,"reputation":39591,"user_id":42769,"accept_rate":95,"display_name":"Adeel Ansari"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1477901669,"creation_date":1363232660,"answer_id":15400823,"question_id":15400781,"body_markdown":"`spinner.getValue()` should do the trick. You can cast it to `Integer`, like\r\n\r\n    int value = (Integer) spinner.getValue();\r\n\r\n\r\n**Note from [reggoodwin][1]:** You should also call `spinner.commitEdit()` prior to calling `getValue()` to ensure manually typed values with the editor are propagated to the model, otherwise you will only get the old value.\r\n\r\nHence, it should be something like below,\r\n\r\n    try {\r\n        spinner.commitEdit();\r\n    } catch ( java.text.ParseException e ) { .. }\r\n    int value = (Integer) spinner.getValue();\r\n\r\n\r\n\r\n  [1]: https://stackoverflow.com/users/2116622/reggoodwin","title":"How to get int value from spinner","body":"<p><code>spinner.getValue()</code> should do the trick. You can cast it to <code>Integer</code>, like</p>\n\n<pre><code>int value = (Integer) spinner.getValue();\n</code></pre>\n\n<p><strong>Note from <a href=\"https://stackoverflow.com/users/2116622/reggoodwin\">reggoodwin</a>:</strong> You should also call <code>spinner.commitEdit()</code> prior to calling <code>getValue()</code> to ensure manually typed values with the editor are propagated to the model, otherwise you will only get the old value.</p>\n\n<p>Hence, it should be something like below,</p>\n\n<pre><code>try {\n    spinner.commitEdit();\n} catch ( java.text.ParseException e ) { .. }\nint value = (Integer) spinner.getValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11157512,"reputation":1,"user_id":8188779,"display_name":"Ash Pangster"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497964766,"creation_date":1497964766,"answer_id":44654253,"question_id":15400781,"body_markdown":"        String spinner = &quot;catch Value&quot;;\r\n        Integer myint = (Integer) jSpinner1.getValue();\r\n        spinner = myint.toString();\r\n        jTextField1.setText(spinner);\r\n\r\n\r\nThis worked for me. Wanted to write the Integer value from jSpinner to a textfield.","title":"How to get int value from spinner","body":"<pre><code>    String spinner = \"catch Value\";\n    Integer myint = (Integer) jSpinner1.getValue();\n    spinner = myint.toString();\n    jTextField1.setText(spinner);\n</code></pre>\n\n<p>This worked for me. Wanted to write the Integer value from jSpinner to a textfield.</p>\n"},{"tags":[],"owner":{"account_id":8456353,"reputation":21,"user_id":6343486,"display_name":"M4rc05"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1502693835,"creation_date":1502693835,"answer_id":45668975,"question_id":15400781,"body_markdown":"    String value = getSpinner().getValue() + &quot;&quot;;\r\n    \r\n    Integer.parseInt(value)\r\n\r\nMy solution, this working for me...  \r\nNot work:\r\n\r\n    Integer.parseInt( getSpinner().getValue().toString()) //get object toString\r\n\r\nI do not understand, but it works, I leave it in case anyone needs it.\r\n\r\n","title":"How to get int value from spinner","body":"<pre><code>String value = getSpinner().getValue() + \"\";\n\nInteger.parseInt(value)\n</code></pre>\n\n<p>My solution, this working for me...<br>\nNot work:</p>\n\n<pre><code>Integer.parseInt( getSpinner().getValue().toString()) //get object toString\n</code></pre>\n\n<p>I do not understand, but it works, I leave it in case anyone needs it.</p>\n"}],"owner":{"account_id":1243783,"reputation":995,"user_id":1205699,"accept_rate":57,"display_name":"Johnny Dahdah"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":92335,"favorite_count":0,"down_vote_count":1,"up_vote_count":19,"accepted_answer_id":15400823,"answer_count":3,"score":18,"last_activity_date":1644225574,"creation_date":1363232403,"question_id":15400781,"body_markdown":"I&#39;m using NetBeans 7.1 to code in Java. I have a `JFrame` where I have spinner with integer values on it, I want to know how to get the active value in the spinner, I mean, the one that the user picks when the program is running; to use it on another methods.\r\n","title":"How to get int value from spinner","body":"<p>I'm using NetBeans 7.1 to code in Java. I have a <code>JFrame</code> where I have spinner with integer values on it, I want to know how to get the active value in the spinner, I mean, the one that the user picks when the program is running; to use it on another methods.</p>\n"},{"tags":["java","jxbrowser","edt"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":2,"creation_date":1640582414,"post_id":70491932,"comment_id":124608211,"body_markdown":"Basically, you&#39;re trying to create an instance of `JXBrowser` from a thread other than the Event Dispatching Thread.","body":"Basically, you&#39;re trying to create an instance of <code>JXBrowser</code> from a thread other than the Event Dispatching Thread."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1640582540,"post_id":70491932,"comment_id":124608227,"body_markdown":"Consider having a look at the [quick start example](https://www.teamdev.com/jxbrowser)","body":"Consider having a look at the <a href=\"https://www.teamdev.com/jxbrowser\" rel=\"nofollow noreferrer\">quick start example</a>"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640588119,"creation_date":1640587343,"answer_id":70492388,"question_id":70491932,"body_markdown":"JavaFX (OpenJFX) is *not* thread-safe. \r\n\r\nLike [Swing](https://en.wikipedia.org/wiki/Swing_(Java)), [Vaadin](https://en.m.wikipedia.org/wiki/Vaadin), and most  any other user-interface framework, you must limit all access to, and manipulation of, the widgets and other UI-related objects only from within the one thread dedicated to that framework. \r\n\r\nApparently your app is starting other threads and then performing JavaFX work on them. Never do this. \r\n\r\nThere are ways for you to perform lengthy tasks on background threads, and then upon completion post a request to the UI thread to update the UI widgets with the results. But you must study to learn those techniques. \r\n\r\nSee [this tutorial](https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/concurrency.htm) and [this one](https://fxdocs.github.io/docs/html5/).\r\n\r\n ","title":"What does this error mean JXBrowser should only be constructed on the EDT","body":"<p>JavaFX (OpenJFX) is <em>not</em> thread-safe.</p>\n<p>Like <a href=\"https://en.wikipedia.org/wiki/Swing_(Java)\" rel=\"nofollow noreferrer\">Swing</a>, <a href=\"https://en.m.wikipedia.org/wiki/Vaadin\" rel=\"nofollow noreferrer\">Vaadin</a>, and most  any other user-interface framework, you must limit all access to, and manipulation of, the widgets and other UI-related objects only from within the one thread dedicated to that framework.</p>\n<p>Apparently your app is starting other threads and then performing JavaFX work on them. Never do this.</p>\n<p>There are ways for you to perform lengthy tasks on background threads, and then upon completion post a request to the UI thread to update the UI widgets with the results. But you must study to learn those techniques.</p>\n<p>See <a href=\"https://docs.oracle.com/javase/8/javafx/interoperability-tutorial/concurrency.htm\" rel=\"nofollow noreferrer\">this tutorial</a> and <a href=\"https://fxdocs.github.io/docs/html5/\" rel=\"nofollow noreferrer\">this one</a>.</p>\n"},{"tags":[],"owner":{"account_id":1278033,"reputation":562,"user_id":1287056,"accept_rate":75,"display_name":"Vladyslav Lubenskyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644225547,"creation_date":1644225547,"answer_id":71016079,"question_id":70491932,"body_markdown":"JxBrowser dropped this requirement since version 7. \r\n\r\nIn JxBrowser 7, you can initialize `Engine` and `Browser` in any thread. These operations are heavy and it&#39;s better not to do them in EDT. \r\n\r\nOnce the browser is created, you will need to create `BrowserView` and add it to your interface inside of EDT, according to Swing rules.","title":"What does this error mean JXBrowser should only be constructed on the EDT","body":"<p>JxBrowser dropped this requirement since version 7.</p>\n<p>In JxBrowser 7, you can initialize <code>Engine</code> and <code>Browser</code> in any thread. These operations are heavy and it's better not to do them in EDT.</p>\n<p>Once the browser is created, you will need to create <code>BrowserView</code> and add it to your interface inside of EDT, according to Swing rules.</p>\n"}],"owner":{"account_id":20966890,"reputation":37,"user_id":15404910,"display_name":"Henry Keskitalo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1644225547,"creation_date":1640582292,"question_id":70491932,"body_markdown":"I have some code and when it executes, it throws a RuntimeException, saying:\r\n\r\n     JXBrowser should only be constructed on the EDT\r\n\r\nit is stemming from when I&#39;m creating a JXbrowser component\r\n\r\n    browser = (JXBrowser) browserFactory.create(true, WebBrowserType.JX);\r\n\r\nWhat should I look for in fixing this error?","title":"What does this error mean JXBrowser should only be constructed on the EDT","body":"<p>I have some code and when it executes, it throws a RuntimeException, saying:</p>\n<pre><code> JXBrowser should only be constructed on the EDT\n</code></pre>\n<p>it is stemming from when I'm creating a JXbrowser component</p>\n<pre><code>browser = (JXBrowser) browserFactory.create(true, WebBrowserType.JX);\n</code></pre>\n<p>What should I look for in fixing this error?</p>\n"},{"tags":["java","spring-boot","apache-kafka","apache-kafka-streams","spring-annotations"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1644246920,"post_id":71015916,"comment_id":125547610,"body_markdown":"Why do you think this wouldn&#39;t be ran in a separate thread? I.e. Spring&#39;s Component Scanner thread","body":"Why do you think this wouldn&#39;t be ran in a separate thread? I.e. Spring&#39;s Component Scanner thread"}],"answers":[{"tags":[],"owner":{"account_id":1041176,"reputation":542,"user_id":5567528,"display_name":"Thomas Raffelsieper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644225418,"creation_date":1644225418,"answer_id":71016048,"question_id":71015916,"body_markdown":"`@Autowired` instructs Spring to inject an existing StreamsBuilder bean as a parameter to the `process(...)` function. This is done while bootstrapping the application context, so it will not block the running topology itself which is started as a seperate thread via some kind of `new KafkaStreams(builder.build(), props);`\r\n\r\nTherefore this is absolutely okay to do.","title":"Why to use @Autowired to run Kafka Streams topology in a Spring Boot Application?","body":"<p><code>@Autowired</code> instructs Spring to inject an existing StreamsBuilder bean as a parameter to the <code>process(...)</code> function. This is done while bootstrapping the application context, so it will not block the running topology itself which is started as a seperate thread via some kind of <code>new KafkaStreams(builder.build(), props);</code></p>\n<p>Therefore this is absolutely okay to do.</p>\n"}],"owner":{"account_id":295763,"reputation":1157,"user_id":600331,"accept_rate":82,"display_name":"Ahmad Houri"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":922,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1644225418,"creation_date":1644224779,"question_id":71015916,"body_markdown":"I am trying to run Kafka Streams Topology inside a spring boot application.  \r\nIn the [example on confluent website][1] they did the following:\r\n\r\n```\r\n@Component\r\nclass Processor {\r\n\t@Autowired\r\n\tpublic void process(final StreamsBuilder builder) {\r\n\t\t// the logic to run the topology which is a blocking call\r\n\t}\r\n}\r\n``` \r\n  \r\n\r\nI think the @Autowired annotation means that the method process will be invoked by the Spring framework.\r\n\r\nMy question is: Given that the call to the method process is blocking call \r\nis this the best practice to run the topology inside a spring boot application? \r\nWhy not run it in a separate thread?\r\n\r\n\r\n  [1]: https://developer.confluent.io/learn-kafka/spring/hands-on-process-messages-with-kafka-streams/","title":"Why to use @Autowired to run Kafka Streams topology in a Spring Boot Application?","body":"<p>I am trying to run Kafka Streams Topology inside a spring boot application.<br />\nIn the <a href=\"https://developer.confluent.io/learn-kafka/spring/hands-on-process-messages-with-kafka-streams/\" rel=\"nofollow noreferrer\">example on confluent website</a> they did the following:</p>\n<pre><code>@Component\nclass Processor {\n    @Autowired\n    public void process(final StreamsBuilder builder) {\n        // the logic to run the topology which is a blocking call\n    }\n}\n</code></pre>\n<p>I think the @Autowired annotation means that the method process will be invoked by the Spring framework.</p>\n<p>My question is: Given that the call to the method process is blocking call\nis this the best practice to run the topology inside a spring boot application?\nWhy not run it in a separate thread?</p>\n"},{"tags":["java","windows","process-management"],"comments":[{"owner":{"account_id":1564360,"reputation":1462,"user_id":1453475,"accept_rate":65,"display_name":"mostafa.S"},"score":0,"creation_date":1350979606,"post_id":13025900,"comment_id":17681224,"body_markdown":"check following\r\n[enter link description here][1]\r\n\r\n\r\n  [1]: http://stackoverflow.com/questions/8435952/how-to-get-pid-from-command-line-filtered-by-username-and-imagename","body":"check following  [enter link description here][1]        [1]: <a href=\"http://stackoverflow.com/questions/8435952/how-to-get-pid-from-command-line-filtered-by-username-and-imagename\" title=\"how to get pid from command line filtered by username and imagename\">stackoverflow.com/questions/8435952/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":900581,"reputation":46749,"user_id":936832,"accept_rate":75,"display_name":"Ingo Kegel"},"down_vote_count":0,"up_vote_count":56,"is_accepted":true,"score":56,"last_activity_date":1604395135,"creation_date":1350979332,"answer_id":13025928,"question_id":13025900,"body_markdown":"You can use the `jps` utility that is [included in the JDK][1] to find the process id of a Java process. The output will show you the name of the executable JAR file or the name of the main class.\r\n\r\nThen use the Windows task manager to terminate the process. If you want to do it on the command line, use\r\n\r\n    TASKKILL /PID %PID%\r\n\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/tools/jps.html#GUID-6EB65B96-F9DD-4356-B825-6146E9EEC81E","title":"How to find the process id of a running Java process on Windows? And how to kill the process alone?","body":"<p>You can use the <code>jps</code> utility that is <a href=\"https://docs.oracle.com/en/java/javase/11/tools/jps.html#GUID-6EB65B96-F9DD-4356-B825-6146E9EEC81E\" rel=\"noreferrer\">included in the JDK</a> to find the process id of a Java process. The output will show you the name of the executable JAR file or the name of the main class.</p>\n<p>Then use the Windows task manager to terminate the process. If you want to do it on the command line, use</p>\n<pre><code>TASKKILL /PID %PID%\n</code></pre>\n"},{"tags":[],"owner":{"account_id":482174,"reputation":2664,"user_id":1321399,"accept_rate":71,"display_name":"khan"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1350979781,"creation_date":1350979380,"answer_id":13025941,"question_id":13025900,"body_markdown":"After setting the path of your jdk use `JPS`.Then You can eaisly kill it by Task Manager&lt;br/&gt;`JPS` will give you all java processes\r\n ","title":"How to find the process id of a running Java process on Windows? And how to kill the process alone?","body":"<p>After setting the path of your jdk use <code>JPS</code>.Then You can eaisly kill it by Task Manager<br/><code>JPS</code> will give you all java processes</p>\n"},{"tags":[],"owner":{"account_id":33015,"reputation":2955,"user_id":92063,"accept_rate":76,"display_name":"heikkim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1520026297,"creation_date":1350979471,"answer_id":13025960,"question_id":13025900,"body_markdown":"In windows XP and later, there&#39;s a command: **tasklist** that lists all process id&#39;s.\r\n\r\nFor killing a process in Windows, see:\r\n\r\n[Really killing a process in Windows | Stack Overflow][1]\r\n\r\nYou can execute OS-commands in Java by:\r\n\r\n    Runtime.getRuntime().exec(&quot;your command here&quot;);\r\n\r\nIf you need to handle the output of a command, see example: https://stackoverflow.com/questions/1319286/using-runtime-exec-in-java\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/49990/92063","title":"How to find the process id of a running Java process on Windows? And how to kill the process alone?","body":"<p>In windows XP and later, there's a command: <strong>tasklist</strong> that lists all process id's.</p>\n\n<p>For killing a process in Windows, see:</p>\n\n<p><a href=\"https://stackoverflow.com/a/49990/92063\">Really killing a process in Windows | Stack Overflow</a></p>\n\n<p>You can execute OS-commands in Java by:</p>\n\n<pre><code>Runtime.getRuntime().exec(\"your command here\");\n</code></pre>\n\n<p>If you need to handle the output of a command, see example: <a href=\"https://stackoverflow.com/questions/1319286/using-runtime-exec-in-java\">using Runtime.exec() in Java</a></p>\n"},{"tags":[],"owner":{"account_id":1063475,"reputation":677,"user_id":1064781,"accept_rate":75,"display_name":"cete3"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1382026013,"creation_date":1382026013,"answer_id":19431784,"question_id":13025900,"body_markdown":"You can also find the PID of a java program with the task manager. You enable the **PID** and **Command Line** columns `View -&gt; Select Columns` and are then able to find the right process.\r\n\r\nYour result will be something like this :\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/0XzWh.png","title":"How to find the process id of a running Java process on Windows? And how to kill the process alone?","body":"<p>You can also find the PID of a java program with the task manager. You enable the <strong>PID</strong> and <strong>Command Line</strong> columns <code>View -&gt; Select Columns</code> and are then able to find the right process.</p>\n\n<p>Your result will be something like this :\n<img src=\"https://i.stack.imgur.com/0XzWh.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":3686493,"reputation":757,"user_id":3070179,"display_name":"elite21"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1481482287,"creation_date":1389175941,"answer_id":20992562,"question_id":13025900,"body_markdown":"\r\nThis is specific to Windows.\r\nI was facing the same issue where I have to kill one specific java program using taskkill. When I run the java program, tasklist was showing the same program with Image name set as java.exe.\r\nBut killing it using `taskkill /F java.exe` will stop all other java applications other than intended one which is not required.\r\n\r\nSo I run the same java program using:\r\n\r\n    start &quot;MyProgramName&quot; java java-program..\r\n\r\nHere start command will open a new window and run the java program with window&#39;s title set to MyProgramName.\r\n\r\nNow to kill this java-program use the following taskkill command:\r\n\r\n    taskkill /fi &quot;MyProgramName&quot;\r\n\r\nYour Java program will be killed only. Rest will be unaffected.\r\n","title":"How to find the process id of a running Java process on Windows? And how to kill the process alone?","body":"<p>This is specific to Windows.\nI was facing the same issue where I have to kill one specific java program using taskkill. When I run the java program, tasklist was showing the same program with Image name set as java.exe.\nBut killing it using <code>taskkill /F java.exe</code> will stop all other java applications other than intended one which is not required.</p>\n\n<p>So I run the same java program using:</p>\n\n<pre><code>start \"MyProgramName\" java java-program..\n</code></pre>\n\n<p>Here start command will open a new window and run the java program with window's title set to MyProgramName.</p>\n\n<p>Now to kill this java-program use the following taskkill command:</p>\n\n<pre><code>taskkill /fi \"MyProgramName\"\n</code></pre>\n\n<p>Your Java program will be killed only. Rest will be unaffected.</p>\n"},{"tags":[],"owner":{"account_id":1775027,"reputation":404,"user_id":1618958,"display_name":"noblemaster"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1452583095,"creation_date":1452582651,"answer_id":34737509,"question_id":13025900,"body_markdown":"The solution I found is very simple. Use Window&#39;s WMIC &amp; Java&#39;s Runtime to locate &amp; kill the process.\r\n\r\nPart 1: You need to put some sort of identifier into your app&#39;s startup command line. E.g. something like:\r\n\r\n    String id = &quot;com.domain.app&quot;;\r\n\r\nPart 2: When you run your app, make sure to include the string. Let&#39;s say you start it from within Java, do the following:\r\n\r\n    Runtime.getRuntime().exec(\r\n       &quot;C:\\...\\javaw.exe -cp ... -Dwhatever=&quot; + id + &quot; com.domain.app.Main&quot;\r\n    );\r\n\r\n\r\nPart 3: To kill the process, use Window&#39;s WMIC. Just make sure you app was started containing your id from above:\r\n\r\n    Runtime.getRuntime().exec(\r\n      &quot;wmic process Where \\&quot;CommandLine Like &#39;%&quot; + id + &quot;%&#39;\\&quot; Call Terminate&quot;\r\n    );","title":"How to find the process id of a running Java process on Windows? And how to kill the process alone?","body":"<p>The solution I found is very simple. Use Window's WMIC &amp; Java's Runtime to locate &amp; kill the process.</p>\n\n<p>Part 1: You need to put some sort of identifier into your app's startup command line. E.g. something like:</p>\n\n<pre><code>String id = \"com.domain.app\";\n</code></pre>\n\n<p>Part 2: When you run your app, make sure to include the string. Let's say you start it from within Java, do the following:</p>\n\n<pre><code>Runtime.getRuntime().exec(\n   \"C:\\...\\javaw.exe -cp ... -Dwhatever=\" + id + \" com.domain.app.Main\"\n);\n</code></pre>\n\n<p>Part 3: To kill the process, use Window's WMIC. Just make sure you app was started containing your id from above:</p>\n\n<pre><code>Runtime.getRuntime().exec(\n  \"wmic process Where \\\"CommandLine Like '%\" + id + \"%'\\\" Call Terminate\"\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2426816,"reputation":864,"user_id":2118565,"accept_rate":6,"display_name":"Vinaykumar Patel"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1483688799,"creation_date":1483688799,"answer_id":41501219,"question_id":13025900,"body_markdown":"This will work even when there are multiple instance of jar is running\r\n\r\n    wmic Path win32_process Where &quot;CommandLine Like &#39;%yourname.jar%&#39;&quot; Call Terminate","title":"How to find the process id of a running Java process on Windows? And how to kill the process alone?","body":"<p>This will work even when there are multiple instance of jar is running</p>\n\n<pre><code>wmic Path win32_process Where \"CommandLine Like '%yourname.jar%'\" Call Terminate\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17683874,"reputation":11,"user_id":12837156,"display_name":"Wena Tan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602874183,"creation_date":1602844735,"answer_id":64387573,"question_id":13025900,"body_markdown":"1. Open Git Bash\r\n2. Type `ps -ef | grep java`\r\n3. Find the `pid` of running jdk \r\n4. `kill -9 [pid]`","title":"How to find the process id of a running Java process on Windows? And how to kill the process alone?","body":"<ol>\n<li>Open Git Bash</li>\n<li>Type <code>ps -ef | grep java</code></li>\n<li>Find the <code>pid</code> of running jdk</li>\n<li><code>kill -9 [pid]</code></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11697339,"reputation":1663,"user_id":8563654,"display_name":"Senthuran"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1644225231,"creation_date":1644225231,"answer_id":71016009,"question_id":13025900,"body_markdown":"In windows, we can use the PowerShell to list the java running process. Then using the process id we can kill the process. Please find the below commands that needs to be executed in the PowerShell.\r\n\r\n**To list the Java Process.**\r\n\r\n    ps | Where-Object -Property ProcessName -EQ -Value &#39;Java&#39;\r\n\r\n**To kill the java process with specific id.**\r\n\r\n    Stop-Process &lt;PID&gt;\r\n\r\nThe above approach worked for me. ","title":"How to find the process id of a running Java process on Windows? And how to kill the process alone?","body":"<p>In windows, we can use the PowerShell to list the java running process. Then using the process id we can kill the process. Please find the below commands that needs to be executed in the PowerShell.</p>\n<p><strong>To list the Java Process.</strong></p>\n<pre><code>ps | Where-Object -Property ProcessName -EQ -Value 'Java'\n</code></pre>\n<p><strong>To kill the java process with specific id.</strong></p>\n<pre><code>Stop-Process &lt;PID&gt;\n</code></pre>\n<p>The above approach worked for me.</p>\n"}],"owner":{"account_id":1888021,"reputation":490,"user_id":1706844,"display_name":"Muthu Kumar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":167862,"favorite_count":0,"down_vote_count":0,"up_vote_count":43,"accepted_answer_id":13025928,"answer_count":9,"score":43,"last_activity_date":1644225231,"creation_date":1350979152,"question_id":13025900,"body_markdown":"I want to kill the particular Java process in Windows, like in Linux (`ps -aux` to get processid and then `kill processid` to kill the process).","title":"How to find the process id of a running Java process on Windows? And how to kill the process alone?","body":"<p>I want to kill the particular Java process in Windows, like in Linux (<code>ps -aux</code> to get processid and then <code>kill processid</code> to kill the process).</p>\n"},{"tags":["java","json","casting","gson"],"comments":[{"owner":{"account_id":1038775,"reputation":9724,"user_id":1045296,"accept_rate":100,"display_name":"Code Spy"},"score":1,"creation_date":1535352553,"post_id":27253555,"comment_id":91017742,"body_markdown":"Try this https://www.freakyjolly.com/com-google-gson-internal-linkedtreemap-cannot-be-cast-to-how-to-resolve/","body":"Try this <a href=\"https://www.freakyjolly.com/com-google-gson-internal-linkedtreemap-cannot-be-cast-to-how-to-resolve/\" rel=\"nofollow noreferrer\">freakyjolly.com/&hellip;</a>"},{"owner":{"account_id":6696781,"reputation":349,"user_id":5164572,"display_name":"Vivek Gupta"},"score":0,"creation_date":1574777169,"post_id":27253555,"comment_id":104345268,"body_markdown":"Try  this -keepattributes Signature","body":"Try  this -keepattributes Signature"},{"owner":{"account_id":1073145,"reputation":7191,"user_id":6512057,"display_name":"Mr-IDE"},"score":0,"creation_date":1622489443,"post_id":27253555,"comment_id":119802647,"body_markdown":"You can iterate through the `ArrayList` to convert each `LinkedTreeMap` item to a `Product` item. You can use `Gson` a second time to do the conversion. See example code here: https://randomgyan.com/mapping-linkedtreemap-response-to-class-using-gson-utility/","body":"You can iterate through the <code>ArrayList</code> to convert each <code>LinkedTreeMap</code> item to a <code>Product</code> item. You can use <code>Gson</code> a second time to do the conversion. See example code here: <a href=\"https://randomgyan.com/mapping-linkedtreemap-response-to-class-using-gson-utility/\" rel=\"nofollow noreferrer\">randomgyan.com/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1734091,"reputation":92376,"user_id":1587046,"accept_rate":62,"display_name":"Alexis C."},"down_vote_count":0,"up_vote_count":112,"is_accepted":false,"score":112,"last_activity_date":1417608644,"creation_date":1417608334,"answer_id":27271365,"question_id":27253555,"body_markdown":"In my opinion, due to type erasure, the parser can&#39;t fetch the real type T at runtime. One workaround would be to provide the class type as parameter to the method. \r\n\r\nSomething like this works, there are certainly other possible workarounds but I find this one very clear and concise.\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; stringToArray(String s, Class&lt;T[]&gt; clazz) {\r\n        T[] arr = new Gson().fromJson(s, clazz);\r\n        return Arrays.asList(arr); //or return Arrays.asList(new Gson().fromJson(s, clazz)); for a one-liner\r\n    }\r\n\r\nAnd call it like:\r\n\r\n    String name = stringToArray(message, Product[].class).get(0).getName();","title":"com.google.gson.internal.LinkedTreeMap cannot be cast to my class","body":"<p>In my opinion, due to type erasure, the parser can't fetch the real type T at runtime. One workaround would be to provide the class type as parameter to the method. </p>\n\n<p>Something like this works, there are certainly other possible workarounds but I find this one very clear and concise.</p>\n\n<pre><code>public static &lt;T&gt; List&lt;T&gt; stringToArray(String s, Class&lt;T[]&gt; clazz) {\n    T[] arr = new Gson().fromJson(s, clazz);\n    return Arrays.asList(arr); //or return Arrays.asList(new Gson().fromJson(s, clazz)); for a one-liner\n}\n</code></pre>\n\n<p>And call it like:</p>\n\n<pre><code>String name = stringToArray(message, Product[].class).get(0).getName();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2440174,"reputation":1633,"user_id":2128921,"display_name":"welshk91"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1462830077,"creation_date":1462830077,"answer_id":37125936,"question_id":27253555,"body_markdown":"I also had problems with GSON complaining about casting LinkedTreeMaps. \r\n\r\nThe [answer](https://stackoverflow.com/a/27271365/2128921) provided by Alexis and the [comment](https://stackoverflow.com/a/14506181/2128921) by Aljoscha explains why the error occurs; &quot;Generics on a type are typically erased at runtime.&quot; My issue was that my code worked when I ran it normally, but using ProGuard caused code to be stripped that was vital to casting.\r\n\r\nYou can follow Alexis&#39;s answer and more clearly define the cast and that should fix the problems. You can also add the ProGuard [rules](https://github.com/google/gson/blob/master/examples/android-proguard-example/proguard.cfg) given by Google (simply doing this cleared the issue up for me).\r\n\r\n    ##---------------Begin: proguard configuration for Gson  ----------\r\n    # Gson uses generic type information stored in a class file when working with fields. Proguard\r\n    # removes such information by default, so configure it to keep all of it.\r\n    -keepattributes Signature\r\n    \r\n    # For using GSON @Expose annotation\r\n    -keepattributes *Annotation*\r\n    \r\n    # Gson specific classes\r\n    -keep class sun.misc.Unsafe { *; }\r\n    #-keep class com.google.gson.stream.** { *; }\r\n    \r\n    # Application classes that will be serialized/deserialized over Gson\r\n    -keep class com.google.gson.examples.android.model.** { *; }\r\n    \r\n    ##---------------End: proguard configuration for Gson  ----------\r\n\r\n\r\nMoral of the Story: Always check to see what ProGuard rules you need.","title":"com.google.gson.internal.LinkedTreeMap cannot be cast to my class","body":"<p>I also had problems with GSON complaining about casting LinkedTreeMaps. </p>\n\n<p>The <a href=\"https://stackoverflow.com/a/27271365/2128921\">answer</a> provided by Alexis and the <a href=\"https://stackoverflow.com/a/14506181/2128921\">comment</a> by Aljoscha explains why the error occurs; \"Generics on a type are typically erased at runtime.\" My issue was that my code worked when I ran it normally, but using ProGuard caused code to be stripped that was vital to casting.</p>\n\n<p>You can follow Alexis's answer and more clearly define the cast and that should fix the problems. You can also add the ProGuard <a href=\"https://github.com/google/gson/blob/master/examples/android-proguard-example/proguard.cfg\" rel=\"noreferrer\">rules</a> given by Google (simply doing this cleared the issue up for me).</p>\n\n<pre><code>##---------------Begin: proguard configuration for Gson  ----------\n# Gson uses generic type information stored in a class file when working with fields. Proguard\n# removes such information by default, so configure it to keep all of it.\n-keepattributes Signature\n\n# For using GSON @Expose annotation\n-keepattributes *Annotation*\n\n# Gson specific classes\n-keep class sun.misc.Unsafe { *; }\n#-keep class com.google.gson.stream.** { *; }\n\n# Application classes that will be serialized/deserialized over Gson\n-keep class com.google.gson.examples.android.model.** { *; }\n\n##---------------End: proguard configuration for Gson  ----------\n</code></pre>\n\n<p>Moral of the Story: Always check to see what ProGuard rules you need.</p>\n"},{"tags":[],"owner":{"account_id":1740106,"reputation":69,"user_id":1645960,"display_name":"Ganesan"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1644224958,"creation_date":1469708922,"answer_id":38636392,"question_id":27253555,"body_markdown":"I also faced class cast exception of com.google.gson.internal.LinkedTreeMap for my signed build only. I added these below lines in progurard. Then it works fine.\r\n\r\n    -keepattributes Signature\r\n    \r\n    -keepattributes *Annotation*\r\n    \r\n    -keep class com.google.** { *; }\r\n    \r\n    -keep class sun.misc.** { *; }","title":"com.google.gson.internal.LinkedTreeMap cannot be cast to my class","body":"<p>I also faced class cast exception of com.google.gson.internal.LinkedTreeMap for my signed build only. I added these below lines in progurard. Then it works fine.</p>\n<pre><code>-keepattributes Signature\n\n-keepattributes *Annotation*\n\n-keep class com.google.** { *; }\n\n-keep class sun.misc.** { *; }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1497826,"reputation":29,"user_id":1403367,"display_name":"Ozzie"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1492103827,"creation_date":1492103827,"answer_id":43398181,"question_id":27253555,"body_markdown":"    {&quot;root&quot;: \r\n     [\r\n      {&quot;mBarcode&quot;:&quot;123&quot;,&quot;mName&quot;:&quot;Apfel&quot;,&quot;mPrice&quot;:&quot;2.7&quot;},\r\n      {&quot;mBarcode&quot;:&quot;456&quot;,&quot;mName&quot;:&quot;Pfirsich&quot;,&quot;mPrice&quot;:&quot;1.1111&quot;},\r\n      {&quot;mBarcode&quot;:&quot;89325982&quot;,&quot;mName&quot;:&quot;Birne&quot;,&quot;mPrice&quot;:&quot;1.5555&quot;}\r\n     ]\r\n    } \r\n\r\n\r\n    JsonObject root = g.fromJson(json, JsonObject.class);\r\n    //read root element which contains list\r\n    JsonElement e = root.get(&quot;root&quot;);\r\n    //as the element is array convert it \r\n    JsonArray ja  = e.getAsJsonArray();\r\n    \r\n    for(JsonElement j : ja){\r\n       //here use the json to parse into your custom object \r\n    }\r\n\r\n","title":"com.google.gson.internal.LinkedTreeMap cannot be cast to my class","body":"<pre><code>{\"root\": \n [\n  {\"mBarcode\":\"123\",\"mName\":\"Apfel\",\"mPrice\":\"2.7\"},\n  {\"mBarcode\":\"456\",\"mName\":\"Pfirsich\",\"mPrice\":\"1.1111\"},\n  {\"mBarcode\":\"89325982\",\"mName\":\"Birne\",\"mPrice\":\"1.5555\"}\n ]\n} \n\n\nJsonObject root = g.fromJson(json, JsonObject.class);\n//read root element which contains list\nJsonElement e = root.get(\"root\");\n//as the element is array convert it \nJsonArray ja  = e.getAsJsonArray();\n\nfor(JsonElement j : ja){\n   //here use the json to parse into your custom object \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1312257,"reputation":7773,"user_id":1260028,"accept_rate":71,"display_name":"Serguei Fedorov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1512742749,"creation_date":1512742749,"answer_id":47716194,"question_id":27253555,"body_markdown":"To add to the answers already mentioned here, if you have a generic class that handles, say, HTTP calls, it maybe useful to pass `Class&lt;T&gt;` as part of the constructor.\r\n\r\nTo give a little more detail, this happens because Java cannot infer the `Class&lt;T&gt;` during runtime with just `T`. It needs the actual solid class to make the determination.\r\n\r\nSo, if you have something like this, like I do:\r\n\r\n    class HttpEndpoint&lt;T&gt; implements IEndpoint&lt;T&gt;\r\n\r\nyou can allow the inheriting code to also send the `class&lt;T&gt;`, since at that point is it clear what T is.\r\n\r\n    public HttpEndpoint(String baseurl, String route, Class&lt;T&gt; cls) {\r\n        this.baseurl = baseurl;\r\n        this.route = route;\r\n        this.cls = cls;\r\n    }\r\n\r\ninheriting class:\r\n\r\n    public class Players extends HttpEndpoint&lt;Player&gt; {\r\n\r\n        public Players() {\r\n            super(&quot;http://127.0.0.1:8080&quot;, &quot;/players&quot;,  Player.class);\r\n        }\r\n    }\r\n\r\nwhile not entirely a clean solution, it does keep the code packaged up and you don&#39;t have to `Class&lt;T&gt;` between methods.","title":"com.google.gson.internal.LinkedTreeMap cannot be cast to my class","body":"<p>To add to the answers already mentioned here, if you have a generic class that handles, say, HTTP calls, it maybe useful to pass <code>Class&lt;T&gt;</code> as part of the constructor.</p>\n\n<p>To give a little more detail, this happens because Java cannot infer the <code>Class&lt;T&gt;</code> during runtime with just <code>T</code>. It needs the actual solid class to make the determination.</p>\n\n<p>So, if you have something like this, like I do:</p>\n\n<pre><code>class HttpEndpoint&lt;T&gt; implements IEndpoint&lt;T&gt;\n</code></pre>\n\n<p>you can allow the inheriting code to also send the <code>class&lt;T&gt;</code>, since at that point is it clear what T is.</p>\n\n<pre><code>public HttpEndpoint(String baseurl, String route, Class&lt;T&gt; cls) {\n    this.baseurl = baseurl;\n    this.route = route;\n    this.cls = cls;\n}\n</code></pre>\n\n<p>inheriting class:</p>\n\n<pre><code>public class Players extends HttpEndpoint&lt;Player&gt; {\n\n    public Players() {\n        super(\"http://127.0.0.1:8080\", \"/players\",  Player.class);\n    }\n}\n</code></pre>\n\n<p>while not entirely a clean solution, it does keep the code packaged up and you don't have to <code>Class&lt;T&gt;</code> between methods.</p>\n"},{"tags":[],"owner":{"account_id":4506881,"reputation":1834,"user_id":3663980,"display_name":"Johnny"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1515802968,"creation_date":1515802968,"answer_id":48235783,"question_id":27253555,"body_markdown":"Similar to Alexis C&#39;s answers. but in Kotlin.  \r\nJust pass the class type into function and clarify what generic type is.  \r\nHere is simplified example.\r\n\r\n    inline fun &lt;reified T&gt; parseArray(json: String, typeToken: Type): T {\r\n        val gson = GsonBuilder().create()\r\n        return gson.fromJson&lt;T&gt;(json, typeToken)\r\n    }\r\n    \r\nHere is example call \r\n\r\n    fun test() {\r\n        val json: String = &quot;.......&quot;\r\n        val type = object : TypeToken&lt;List&lt;MyObject&gt;&gt;() {}.type\r\n        val result: List&lt;MyObject&gt; = parseArray&lt;List&lt;MyObject&gt;&gt;(json = json, typeToken = type)\r\n        println(result)\r\n    }\r\n","title":"com.google.gson.internal.LinkedTreeMap cannot be cast to my class","body":"<p>Similar to Alexis C's answers. but in Kotlin.<br>\nJust pass the class type into function and clarify what generic type is.<br>\nHere is simplified example.</p>\n\n<pre><code>inline fun &lt;reified T&gt; parseArray(json: String, typeToken: Type): T {\n    val gson = GsonBuilder().create()\n    return gson.fromJson&lt;T&gt;(json, typeToken)\n}\n</code></pre>\n\n<p>Here is example call </p>\n\n<pre><code>fun test() {\n    val json: String = \".......\"\n    val type = object : TypeToken&lt;List&lt;MyObject&gt;&gt;() {}.type\n    val result: List&lt;MyObject&gt; = parseArray&lt;List&lt;MyObject&gt;&gt;(json = json, typeToken = type)\n    println(result)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1038775,"reputation":9724,"user_id":1045296,"accept_rate":100,"display_name":"Code Spy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1535545522,"creation_date":1535352728,"answer_id":52033948,"question_id":27253555,"body_markdown":"\r\nFor **JSON** \r\n\r\n\t{\r\n\t\tresults: [\r\n\t\t{\r\n\t\t\tid: &quot;10&quot;,\r\n\t\t\tphone: &quot;+91783XXXX345&quot;,\r\n\t\t\tname: &quot;Mr Example&quot;,\r\n\t\t\temail: &quot;freaky@jolly.com&quot;\r\n\t\t},\r\n\t\t{\r\n\t\t\tid: &quot;11&quot;,\r\n\t\t\tphone: &quot;+9178XXXX66&quot;,\r\n\t\t\tname: &quot;Mr Foo&quot;,\r\n\t\t\temail: &quot;freaky@jolly.com&quot;\r\n\t\t}],\r\n\t\tstatusCode: &quot;1&quot;,\r\n\t\tcount: &quot;2&quot;\r\n\t}\r\n\r\nIn **listView BaseAdapter file** we need to map data using LinkedTreeMap Key Value object to get row attribute value as below:\r\n\r\n\t...\r\n\t...\r\n\r\n\t\t@Override\r\n\t\tpublic View getView(final int i, View view, ViewGroup viewGroup) {\r\n\t\t\tif(view==null)\r\n\t\t\t{\r\n\t\t\t\tview= LayoutInflater.from(c).inflate(R.layout.listview_manage_clients,viewGroup,false);\r\n\t\t\t}\r\n\r\n\t\t\tTextView mUserName = (TextView) view.findViewById(R.id.userName);\r\n\t\t\tTextView mUserPhone = (TextView) view.findViewById(R.id.userPhone);\r\n\r\n\r\n\t\t\tObject getrow = this.users.get(i);\r\n\t\t\tLinkedTreeMap&lt;Object,Object&gt; t = (LinkedTreeMap) getrow;\r\n\t\t\tString name = t.get(&quot;name&quot;).toString();\r\n\r\n\t\t\tmUserName.setText(&quot;Name is &quot;+name);\r\n\t\t\tmUserPhone.setText(&quot;Phone is &quot;+phone);\r\n\r\n\t\t\treturn view;\r\n\t\t}\r\n\t...\r\n\t...\r\n\r\n[ListView from JSON Data using Retrofit2 in Android Example][1]\r\n\r\n[Source Link][2]\r\n\r\n\r\n  [1]: https://www.freakyjolly.com/create-multiple-columns-listview-from-json-data-using-retrofit2-in-android-example/\r\n  [2]: https://www.freakyjolly.com/com-google-gson-internal-linkedtreemap-cannot-be-cast-to-how-to-resolve/","title":"com.google.gson.internal.LinkedTreeMap cannot be cast to my class","body":"<p>For <strong>JSON</strong> </p>\n\n<pre><code>{\n    results: [\n    {\n        id: \"10\",\n        phone: \"+91783XXXX345\",\n        name: \"Mr Example\",\n        email: \"freaky@jolly.com\"\n    },\n    {\n        id: \"11\",\n        phone: \"+9178XXXX66\",\n        name: \"Mr Foo\",\n        email: \"freaky@jolly.com\"\n    }],\n    statusCode: \"1\",\n    count: \"2\"\n}\n</code></pre>\n\n<p>In <strong>listView BaseAdapter file</strong> we need to map data using LinkedTreeMap Key Value object to get row attribute value as below:</p>\n\n<pre><code>...\n...\n\n    @Override\n    public View getView(final int i, View view, ViewGroup viewGroup) {\n        if(view==null)\n        {\n            view= LayoutInflater.from(c).inflate(R.layout.listview_manage_clients,viewGroup,false);\n        }\n\n        TextView mUserName = (TextView) view.findViewById(R.id.userName);\n        TextView mUserPhone = (TextView) view.findViewById(R.id.userPhone);\n\n\n        Object getrow = this.users.get(i);\n        LinkedTreeMap&lt;Object,Object&gt; t = (LinkedTreeMap) getrow;\n        String name = t.get(\"name\").toString();\n\n        mUserName.setText(\"Name is \"+name);\n        mUserPhone.setText(\"Phone is \"+phone);\n\n        return view;\n    }\n...\n...\n</code></pre>\n\n<p><a href=\"https://www.freakyjolly.com/create-multiple-columns-listview-from-json-data-using-retrofit2-in-android-example/\" rel=\"nofollow noreferrer\">ListView from JSON Data using Retrofit2 in Android Example</a></p>\n\n<p><a href=\"https://www.freakyjolly.com/com-google-gson-internal-linkedtreemap-cannot-be-cast-to-how-to-resolve/\" rel=\"nofollow noreferrer\">Source Link</a></p>\n"},{"tags":[],"owner":{"account_id":5588973,"reputation":859,"user_id":4428766,"display_name":"MFQ"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1536089966,"creation_date":1536089966,"answer_id":52172978,"question_id":27253555,"body_markdown":"use this when parsing \r\n\r\n      public static &lt;T&gt; List&lt;T&gt; parseGsonArray(String json, Class&lt;T[]&gt; model) {\r\n        return Arrays.asList(new Gson().fromJson(json, model));\r\n    }\r\n","title":"com.google.gson.internal.LinkedTreeMap cannot be cast to my class","body":"<p>use this when parsing </p>\n\n<pre><code>  public static &lt;T&gt; List&lt;T&gt; parseGsonArray(String json, Class&lt;T[]&gt; model) {\n    return Arrays.asList(new Gson().fromJson(json, model));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7424694,"reputation":141,"user_id":5647631,"display_name":"muratGursel"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1547808469,"creation_date":1536329843,"answer_id":52224425,"question_id":27253555,"body_markdown":"If you use your own `ArrayList&lt;MyObject&gt;` in gson when parsing;\r\n\r\n    Type typeMyType = new TypeToken&lt;ArrayList&lt;MyObject&gt;&gt;(){}.getType();\r\n\r\n    ArrayList&lt;MyObject&gt; myObject = gson.fromJson(jsonString, typeMyType)\r\n\r\n","title":"com.google.gson.internal.LinkedTreeMap cannot be cast to my class","body":"<p>If you use your own <code>ArrayList&lt;MyObject&gt;</code> in gson when parsing;</p>\n\n<pre><code>Type typeMyType = new TypeToken&lt;ArrayList&lt;MyObject&gt;&gt;(){}.getType();\n\nArrayList&lt;MyObject&gt; myObject = gson.fromJson(jsonString, typeMyType)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4426660,"reputation":960,"user_id":3604955,"accept_rate":67,"display_name":"kaiser"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1542841143,"creation_date":1542841143,"answer_id":53421631,"question_id":27253555,"body_markdown":"I had the same problem. I noticed it only occures when you have List&lt;YourObject&gt; as argument.\r\n\r\nMy solution is to wrap the list in another Object:\r\n\r\n    class YourObjectList {\r\n\r\n        private List&lt;YourObject&gt; items;\r\n\r\n        // constructor, getter and setter\r\n    }\r\n\r\nWith that single object, i had no more problems with class cast exception.","title":"com.google.gson.internal.LinkedTreeMap cannot be cast to my class","body":"<p>I had the same problem. I noticed it only occures when you have List as argument.</p>\n\n<p>My solution is to wrap the list in another Object:</p>\n\n<pre><code>class YourObjectList {\n\n    private List&lt;YourObject&gt; items;\n\n    // constructor, getter and setter\n}\n</code></pre>\n\n<p>With that single object, i had no more problems with class cast exception.</p>\n"}],"owner":{"account_id":3371306,"reputation":1101,"user_id":2830453,"display_name":"Tanzmaus"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141527,"favorite_count":0,"down_vote_count":0,"up_vote_count":97,"closed_date":1572798380,"answer_count":10,"score":97,"last_activity_date":1644224958,"creation_date":1417535604,"question_id":27253555,"body_markdown":"I have some problems with getting my object from a JSON string. \r\n\r\nI got the class `Product`\r\n\r\n    public class Product {\r\n        private String mBarcode;\r\n        private String mName;\r\n        private String mPrice;\r\n        \r\n        public Product(String barcode, String name, String price) {\r\n            mBarcode = barcode;\r\n            mName = name;\r\n            mPrice = price;\r\n        }\r\n\r\n        public int getBarcode() {\r\n            return Integer.parseInt(mBarcode);\r\n        }\r\n\r\n        public String getName() {\r\n            return mName;\r\n        }\r\n\r\n        public double getPrice() {\r\n            return Double.parseDouble(mPrice);\r\n        }\r\n    }    \r\n\r\nFrom my server I get an `ArrayList&lt;Product&gt;` in JSON String representation. For example:\r\n\r\n    [{&quot;mBarcode&quot;:&quot;123&quot;,&quot;mName&quot;:&quot;Apfel&quot;,&quot;mPrice&quot;:&quot;2.7&quot;},\r\n    {&quot;mBarcode&quot;:&quot;456&quot;,&quot;mName&quot;:&quot;Pfirsich&quot;,&quot;mPrice&quot;:&quot;1.1111&quot;},\r\n    {&quot;mBarcode&quot;:&quot;89325982&quot;,&quot;mName&quot;:&quot;Birne&quot;,&quot;mPrice&quot;:&quot;1.5555&quot;}] \r\n\r\n   \r\nThis String is generated like this:\r\n\r\n    public static &lt;T&gt; String arrayToString(ArrayList&lt;T&gt; list) {\r\n        Gson g = new Gson();\r\n        return g.toJson(list);\r\n    }\r\nTo get my Object back I use this function:\r\n\r\n    public static &lt;T&gt; ArrayList&lt;T&gt; stringToArray(String s) {\r\n        Gson g = new Gson();\r\n        Type listType = new TypeToken&lt;ArrayList&lt;T&gt;&gt;(){}.getType();\r\n        ArrayList&lt;T&gt; list = g.fromJson(s, listType);\r\n        return list;\r\n    }\r\n\r\nBut when calling \r\n\r\n    String name = Util.stringToArray(message).get(i).getName();\r\nI get the error \r\n*com.google.gson.internal.LinkedTreeMap cannot be cast to object.Product*\r\n\r\nWhat am I doing wrong? It looks like it created a List of LinkedTreeMaps but how do i convert those into my Product Object?","title":"com.google.gson.internal.LinkedTreeMap cannot be cast to my class","body":"<p>I have some problems with getting my object from a JSON string. </p>\n\n<p>I got the class <code>Product</code></p>\n\n<pre><code>public class Product {\n    private String mBarcode;\n    private String mName;\n    private String mPrice;\n\n    public Product(String barcode, String name, String price) {\n        mBarcode = barcode;\n        mName = name;\n        mPrice = price;\n    }\n\n    public int getBarcode() {\n        return Integer.parseInt(mBarcode);\n    }\n\n    public String getName() {\n        return mName;\n    }\n\n    public double getPrice() {\n        return Double.parseDouble(mPrice);\n    }\n}    \n</code></pre>\n\n<p>From my server I get an <code>ArrayList&lt;Product&gt;</code> in JSON String representation. For example:</p>\n\n<pre><code>[{\"mBarcode\":\"123\",\"mName\":\"Apfel\",\"mPrice\":\"2.7\"},\n{\"mBarcode\":\"456\",\"mName\":\"Pfirsich\",\"mPrice\":\"1.1111\"},\n{\"mBarcode\":\"89325982\",\"mName\":\"Birne\",\"mPrice\":\"1.5555\"}] \n</code></pre>\n\n<p>This String is generated like this:</p>\n\n<pre><code>public static &lt;T&gt; String arrayToString(ArrayList&lt;T&gt; list) {\n    Gson g = new Gson();\n    return g.toJson(list);\n}\n</code></pre>\n\n<p>To get my Object back I use this function:</p>\n\n<pre><code>public static &lt;T&gt; ArrayList&lt;T&gt; stringToArray(String s) {\n    Gson g = new Gson();\n    Type listType = new TypeToken&lt;ArrayList&lt;T&gt;&gt;(){}.getType();\n    ArrayList&lt;T&gt; list = g.fromJson(s, listType);\n    return list;\n}\n</code></pre>\n\n<p>But when calling </p>\n\n<pre><code>String name = Util.stringToArray(message).get(i).getName();\n</code></pre>\n\n<p>I get the error \n<em>com.google.gson.internal.LinkedTreeMap cannot be cast to object.Product</em></p>\n\n<p>What am I doing wrong? It looks like it created a List of LinkedTreeMaps but how do i convert those into my Product Object?</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1644223221,"post_id":71015560,"comment_id":125538415,"body_markdown":"those are `arraylist.get(0)`, `arraylist.get(1)` and `arraylist.get(2)`, `arraylist.get(3)`. What is it that confuses you?","body":"those are <code>arraylist.get(0)</code>, <code>arraylist.get(1)</code> and <code>arraylist.get(2)</code>, <code>arraylist.get(3)</code>. What is it that confuses you?"},{"owner":{"account_id":24178843,"reputation":3,"user_id":18139810,"display_name":"Glaciers"},"score":0,"creation_date":1644223561,"post_id":71015560,"comment_id":125538535,"body_markdown":"So the print statement would be system.out.prntln(&quot;your value: &quot; + arraylist.get(1) + arraylist.get(2) + arraylist.get(3)); ?","body":"So the print statement would be system.out.prntln(&quot;your value: &quot; + arraylist.get(1) + arraylist.get(2) + arraylist.get(3)); ?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1644223616,"post_id":71015560,"comment_id":125538553,"body_markdown":"@Glaciers no, that would print &quot;Your Value: uoe&quot;.","body":"@Glaciers no, that would print &quot;Your Value: uoe&quot;."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1644223699,"post_id":71015560,"comment_id":125538575,"body_markdown":"@Glaciers close. You&#39;re missing the first one (`arraylist.get(0)`) and `&quot;, &quot;` between &quot;u&quot; and &quot;o&quot;.","body":"@Glaciers close. You&#39;re missing the first one (<code>arraylist.get(0)</code>) and <code>&quot;, &quot;</code> between &quot;u&quot; and &quot;o&quot;."},{"owner":{"account_id":24178843,"reputation":3,"user_id":18139810,"display_name":"Glaciers"},"score":0,"creation_date":1644223736,"post_id":71015560,"comment_id":125538590,"body_markdown":"What if the length of array isnt static?  Im sorry Im newbie in programming things","body":"What if the length of array isnt static?  Im sorry Im newbie in programming things"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1644223800,"post_id":71015560,"comment_id":125538611,"body_markdown":"@Glaciers that&#39;s not the problem as you stated it. You said you had an ArrayList with four elements. If you have a different problem please [edit] your question with the exact problem you&#39;re having.","body":"@Glaciers that&#39;s not the problem as you stated it. You said you had an ArrayList with four elements. If you have a different problem please <a href=\"https://stackoverflow.com/posts/71015560/edit\">edit</a> your question with the exact problem you&#39;re having."},{"owner":{"account_id":24178843,"reputation":3,"user_id":18139810,"display_name":"Glaciers"},"score":0,"creation_date":1644223979,"post_id":71015560,"comment_id":125538669,"body_markdown":"I did edit the question, thx for advice","body":"I did edit the question, thx for advice"},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":0,"creation_date":1644224196,"post_id":71015560,"comment_id":125538749,"body_markdown":"This does not look like Java - are you confusing Java and Javascript?","body":"This does not look like Java - are you confusing Java and Javascript?"}],"answers":[{"tags":[],"owner":{"account_id":20353400,"reputation":124,"user_id":14929537,"display_name":"fabio19933"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644224931,"creation_date":1644223984,"answer_id":71015738,"question_id":71015560,"body_markdown":"You can concatenate String with character &quot;+&quot; like this.\r\n\r\n    System.out.println(&quot;Your Value: &quot; + arraylist.get(0) + arraylist.get(1) + &quot;, &quot; + arraylist.get(2) + arraylist.get(3));\r\n\r\n\r\nor you can use a smarter way, using static method inside String class called &quot;format&quot; like this:\r\n\r\n    System.out.println(String.format(&quot;Your Value: %s%s, %s%s&quot;, arraylist.get(0), arraylist.get(1), arraylist.get(2), arraylist.get(3)));\r\n\r\nYou can learn more about String.format() reading this post:\r\n\r\n\r\nhttps://www.javatpoint.com/java-string-format","title":"Print per 2 char in java arraylist (non static arraylist)","body":"<p>You can concatenate String with character &quot;+&quot; like this.</p>\n<pre><code>System.out.println(&quot;Your Value: &quot; + arraylist.get(0) + arraylist.get(1) + &quot;, &quot; + arraylist.get(2) + arraylist.get(3));\n</code></pre>\n<p>or you can use a smarter way, using static method inside String class called &quot;format&quot; like this:</p>\n<pre><code>System.out.println(String.format(&quot;Your Value: %s%s, %s%s&quot;, arraylist.get(0), arraylist.get(1), arraylist.get(2), arraylist.get(3)));\n</code></pre>\n<p>You can learn more about String.format() reading this post:</p>\n<p><a href=\"https://www.javatpoint.com/java-string-format\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/java-string-format</a></p>\n"},{"tags":[],"owner":{"account_id":5889510,"reputation":119,"user_id":4636563,"accept_rate":22,"display_name":"DeltaRage"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644224622,"creation_date":1644224622,"answer_id":71015878,"question_id":71015560,"body_markdown":"So an array is a datatype that we use to store multiple values in a single variable. Arrays start at index 0 rather than 1. So this means the first element in the array has an index of 0\r\n\r\n    array = {0, 1, 2, 3, 4}\r\n\r\nSo, for your example we would want to do this:\r\n\r\n    System.out.println(&quot;Your Value: &quot; + arrayList.get(0) + arrayList.get(1) + &quot;,&quot; + arrayList.get(2) + arrayList.get(3)\r\n\r\nWhere we say `arrayList.get(0)` that is accessing the first letter in the array which is &#39;a&#39;\r\n\r\n","title":"Print per 2 char in java arraylist (non static arraylist)","body":"<p>So an array is a datatype that we use to store multiple values in a single variable. Arrays start at index 0 rather than 1. So this means the first element in the array has an index of 0</p>\n<pre><code>array = {0, 1, 2, 3, 4}\n</code></pre>\n<p>So, for your example we would want to do this:</p>\n<pre><code>System.out.println(&quot;Your Value: &quot; + arrayList.get(0) + arrayList.get(1) + &quot;,&quot; + arrayList.get(2) + arrayList.get(3)\n</code></pre>\n<p>Where we say <code>arrayList.get(0)</code> that is accessing the first letter in the array which is 'a'</p>\n"},{"tags":[],"owner":{"account_id":22018848,"reputation":51,"user_id":16287946,"display_name":"seyoatda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644224709,"creation_date":1644224709,"answer_id":71015893,"question_id":71015560,"body_markdown":"you can simply loop the array and print each character, and when `(index +1) % 2 == 0 &amp;&amp; i != list.size() -1`, which means it is the 2rd,4th,6th,... element and not the last one, print an extra `,`.\r\n\r\n```java\r\n  public void printArray() {\r\n        List&lt;Character&gt; list = new ArrayList&lt;&gt;(Arrays.asList(&#39;a&#39;, &#39;u&#39;, &#39;o&#39;, &#39;e&#39;));\r\n        System.out.print(&quot;Your Value: &quot;);\r\n        for (int i = 0; i &lt; list.size(); i++) {\r\n            System.out.print(list.get(i));\r\n            if ((i + 1) % 2 == 0 &amp;&amp; i != list.size() - 1) {\r\n                System.out.print(&quot;,&quot;);\r\n            }\r\n        }\r\n    }\r\n```","title":"Print per 2 char in java arraylist (non static arraylist)","body":"<p>you can simply loop the array and print each character, and when <code>(index +1) % 2 == 0 &amp;&amp; i != list.size() -1</code>, which means it is the 2rd,4th,6th,... element and not the last one, print an extra <code>,</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>  public void printArray() {\n        List&lt;Character&gt; list = new ArrayList&lt;&gt;(Arrays.asList('a', 'u', 'o', 'e'));\n        System.out.print(&quot;Your Value: &quot;);\n        for (int i = 0; i &lt; list.size(); i++) {\n            System.out.print(list.get(i));\n            if ((i + 1) % 2 == 0 &amp;&amp; i != list.size() - 1) {\n                System.out.print(&quot;,&quot;);\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":24178843,"reputation":3,"user_id":18139810,"display_name":"Glaciers"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71015893,"answer_count":3,"score":-1,"last_activity_date":1644224931,"creation_date":1644222956,"question_id":71015560,"body_markdown":"Im new with java. im getting struggle with printin something, this is my arraylist\r\n\r\n    arraylist = [&#39;a&#39;,&#39;u&#39;,&#39;o&#39;,&#39;e&#39;]\r\n\r\nIf my arraylist isnt a static length arraylist. How could I print that list into this\r\n\r\n&quot;Your Value: au, oe&quot;\r\n\r\n\r\nIm kinda confused\r\n\r\n\r\nThanks for advance","title":"Print per 2 char in java arraylist (non static arraylist)","body":"<p>Im new with java. im getting struggle with printin something, this is my arraylist</p>\n<pre><code>arraylist = ['a','u','o','e']\n</code></pre>\n<p>If my arraylist isnt a static length arraylist. How could I print that list into this</p>\n<p>&quot;Your Value: au, oe&quot;</p>\n<p>Im kinda confused</p>\n<p>Thanks for advance</p>\n"},{"tags":["java","spring","aop","spring-aop","pointcut"],"comments":[{"owner":{"account_id":7463529,"reputation":101,"user_id":5673999,"accept_rate":0,"display_name":"arslan sana"},"score":0,"creation_date":1644158715,"post_id":71007484,"comment_id":125526245,"body_markdown":"Hmm, I just realized I can get it to work If I put in the full package name within the &quot;execution&quot; statement. But it should work without that as well, no?","body":"Hmm, I just realized I can get it to work If I put in the full package name within the &quot;execution&quot; statement. But it should work without that as well, no?"}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644224753,"creation_date":1644195121,"answer_id":71012408,"question_id":71007484,"body_markdown":"It is a feature, not a bug of AOP that you can implement cross-cutting concerns which have a wide scope. The wide scope is a default, if you do not limit it. This applies to both native AspectJ and Spring AOP. We are talking about the latter here.\r\n\r\nIt is a typical AOP beginner&#39;s mistake to &quot;weave the world&quot;, i.e. to write too widely-scoped pointcuts. In Spring AOP this can lead to intercepting internal Spring components or third-party ones, and sometimes that might be exactly what you want, depending on your aspect&#39;s purpose. In many cases, however, you simply want to apply the aspect to your own application, which hopefully lives in its own base package such as `org.acme.myapp`. Then you simply add `&amp;&amp; within(org.acme.myapp..*)` to your pointcut in order to focus on everything in those packages (and their subpackages by virtue of `..*`) as potential AOP targets.\r\n\r\nSo for your simple logging advice, it would look like this:\r\n\r\n```java\r\n@Before(&quot;execution(public * get*()) &amp;&amp; within(org.acme.myapp..*)&quot;)\r\npublic void loggingAdvice(JoinPoint joinPoint) {\r\n  // Instead of a static message, log what we are actually intercepting\r\n  System.out.println(joinPoint);\r\n}\r\n```\r\n\r\nOf course, like you noticed, you could also extend the `execution` pointcut in order to add some scope, but firstly that makes the pointcut a bit harder to read and secondly it does not help you for pointcuts other than `execution`.","title":"Using Aspect advice with wildcard leading to multiple triggers and exceptions","body":"<p>It is a feature, not a bug of AOP that you can implement cross-cutting concerns which have a wide scope. The wide scope is a default, if you do not limit it. This applies to both native AspectJ and Spring AOP. We are talking about the latter here.</p>\n<p>It is a typical AOP beginner's mistake to &quot;weave the world&quot;, i.e. to write too widely-scoped pointcuts. In Spring AOP this can lead to intercepting internal Spring components or third-party ones, and sometimes that might be exactly what you want, depending on your aspect's purpose. In many cases, however, you simply want to apply the aspect to your own application, which hopefully lives in its own base package such as <code>org.acme.myapp</code>. Then you simply add <code>&amp;&amp; within(org.acme.myapp..*)</code> to your pointcut in order to focus on everything in those packages (and their subpackages by virtue of <code>..*</code>) as potential AOP targets.</p>\n<p>So for your simple logging advice, it would look like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Before(&quot;execution(public * get*()) &amp;&amp; within(org.acme.myapp..*)&quot;)\npublic void loggingAdvice(JoinPoint joinPoint) {\n  // Instead of a static message, log what we are actually intercepting\n  System.out.println(joinPoint);\n}\n</code></pre>\n<p>Of course, like you noticed, you could also extend the <code>execution</code> pointcut in order to add some scope, but firstly that makes the pointcut a bit harder to read and secondly it does not help you for pointcuts other than <code>execution</code>.</p>\n"}],"owner":{"account_id":7463529,"reputation":101,"user_id":5673999,"accept_rate":0,"display_name":"arslan sana"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71012408,"answer_count":1,"score":0,"last_activity_date":1644224753,"creation_date":1644153071,"question_id":71007484,"body_markdown":"Im new to AOP and have created a simple SpringBoot project to learn it. I&#39;ve created a logging aspect which simple logs a message before triggering a get method that returns String. Upon adding wildcards (so it triggers for all get methods, regardless of return-type), im seeing an odd behavior - it seems to be triggering for internal method calls spring uses to load the context and then runs into an NPE. Not sure how to resolve this, code is below:\r\n\r\n    @SpringBootApplication\r\n    @ComponentScan\r\n    @EnableAutoConfiguration\r\n    public class AspectOrientedProgrammingApplication implements ApplicationContextAware {\r\n    \r\n    \tprivate static ApplicationContext applicationContext;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(AspectOrientedProgrammingApplication.class, args);\r\n    \t\tShapeService shapeService = applicationContext.getBean(ShapeService.class);\r\n    \t\tSystem.out.println(shapeService.getCircle().getName());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void setApplicationContext(ApplicationContext context) throws BeansException {\r\n    \t\tapplicationContext = context;\r\n    \t}\r\n    }\r\n\r\n\r\nMy Circle class: \r\n\r\n    @Component\r\n    public class Circle {\r\n        @Value(&quot;${spring.app.circleName}&quot;)\r\n        private String name;\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    }\r\n\r\nShapeService class:\r\n\r\n    @Component\r\n    public class ShapeService {\r\n        @Autowired\r\n        private Triangle triangle;\r\n    \r\n        @Autowired\r\n        private Circle circle;\r\n    \r\n        public Triangle getTriangle() {\r\n            return triangle;\r\n        }\r\n    \r\n        public void setTriangle(Triangle triangle) {\r\n            this.triangle = triangle;\r\n        }\r\n    \r\n        public Circle getCircle() {\r\n            return circle;\r\n        }\r\n    \r\n        public void setCircle(Circle circle) {\r\n            this.circle = circle;\r\n        }\r\n    }\r\n\r\n\r\nAspect class:\r\n\r\n    @Aspect\r\n    @Component\r\n    public class LoggingAspect {\r\n    \r\n        @Before(&quot;execution(public * get*())&quot;) // works fine with &quot;execution(public String getName())&quot;\r\n        public void loggingAdvice(){\r\n            System.out.println(&quot;Advice run: Get method called&quot;);\r\n        }\r\n    }\r\n\r\nRunning this results in following:\r\n\r\n    Advice run: Get method called\r\n    Advice run: Get method called\r\n    Advice run: Get method called\r\n    Advice run: Get method called\r\n    Advice run: Get method called\r\n    Advice run: Get method called\r\n    Advice run: Get method called\r\n    Advice run: Get method called\r\n    Advice run: Get method called\r\n    Advice run: Get method called\r\n    Advice run: Get method called\r\n    Advice run: Get method called\r\n    Advice run: Get method called\r\n    Advice run: Get method called\r\n    Advice run: Get method called\r\n    Advice run: Get method called\r\n    Advice run: Get method called\r\n    Advice run: Get method called\r\n    Advice run: Get method called\r\n    Advice run: Get method called\r\n    Advice run: Get method called\r\n    Advice run: Get method called\r\n    Advice run: Get method called\r\n    Advice run: Get method called\r\n    Advice run: Get method called\r\n    Advice run: Get method called\r\n    Advice run: Get method called\r\n    Advice run: Get method called\r\n    Advice run: Get method called\r\n    Advice run: Get method called\r\n    Advice run: Get method called\r\n    WARNING: An illegal reflective access operation has occurred\r\n    WARNING: Illegal reflective access by org.springframework.cglib.core.ReflectUtils (file:/C:/Users/Arslan/.m2/repository/org/springframework/spring-core/5.3.15/spring-core-5.3.15.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)\r\n    WARNING: Please consider reporting this to the maintainers of org.springframework.cglib.core.ReflectUtils\r\n    WARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\n    WARNING: All illegal access operations will be denied in a future release\r\n    2022-02-06 08:14:28.566  INFO 8004 --- [           main] o.s.aop.framework.CglibAopProxy          : Unable to proxy interface-implementing method [public final void org.springframework.boot.web.servlet.RegistrationBean.onStartup(javax.servlet.ServletContext) throws javax.servlet.ServletException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n    Advice run: Get method called\r\n    2022-02-06 08:14:29.163  INFO 8004 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\r\n    2022-02-06 08:14:29.179  INFO 8004 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\r\n    2022-02-06 08:14:29.179  INFO 8004 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]\r\n    2022-02-06 08:14:29.327  INFO 8004 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\r\n    2022-02-06 08:14:29.327  INFO 8004 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2959 ms\r\n    Advice run: Get method called\r\n    2022-02-06 08:14:29.339  INFO 8004 --- [           main] o.s.aop.framework.CglibAopProxy          : Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(javax.servlet.ServletRequest,javax.servlet.ServletResponse,javax.servlet.FilterChain) throws javax.servlet.ServletException,java.io.IOException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n    2022-02-06 08:14:29.339  INFO 8004 --- [           main] o.s.aop.framework.CglibAopProxy          : Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(javax.servlet.FilterConfig) throws javax.servlet.ServletException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n    2022-02-06 08:14:29.363  INFO 8004 --- [           main] o.s.aop.framework.CglibAopProxy          : Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(javax.servlet.ServletRequest,javax.servlet.ServletResponse,javax.servlet.FilterChain) throws javax.servlet.ServletException,java.io.IOException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n    2022-02-06 08:14:29.363  INFO 8004 --- [           main] o.s.aop.framework.CglibAopProxy          : Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(javax.servlet.FilterConfig) throws javax.servlet.ServletException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n    2022-02-06 08:14:29.391  INFO 8004 --- [           main] o.s.aop.framework.CglibAopProxy          : Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(javax.servlet.ServletRequest,javax.servlet.ServletResponse,javax.servlet.FilterChain) throws javax.servlet.ServletException,java.io.IOException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n    2022-02-06 08:14:29.391  INFO 8004 --- [           main] o.s.aop.framework.CglibAopProxy          : Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(javax.servlet.FilterConfig) throws javax.servlet.ServletException] because it is marked as final: Consider using interface-based JDK proxies instead!\r\n    Advice run: Get method called\r\n    Advice run: Get method called\r\n    Advice run: Get method called\r\n    Advice run: Get method called\r\n    Advice run: Get method called\r\n    Advice run: Get method called\r\n    Advice run: Get method called\r\n    2022-02-06 08:14:29.548 ERROR 8004 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Exception starting filter [requestContextFilter]\r\n    \r\n    java.lang.NullPointerException: null\r\n    \tat org.springframework.web.filter.GenericFilterBean.init(GenericFilterBean.java:241) ~[spring-web-5.3.15.jar:5.3.15]\r\n    \tat org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:272) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:106) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4613) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5256) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n    \tat org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-2.6.3.jar:2.6.3]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-2.6.3.jar:2.6.3]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:478) ~[spring-boot-2.6.3.jar:2.6.3]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-2.6.3.jar:2.6.3]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory$$FastClassBySpringCGLIB$$9c83fa9f.invoke(&lt;generated&gt;) ~[spring-boot-2.6.3.jar:2.6.3]\r\n    \tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory$$EnhancerBySpringCGLIB$$e5201eaa.getWebServer(&lt;generated&gt;) ~[spring-boot-2.6.3.jar:2.6.3]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) ~[spring-boot-2.6.3.jar:2.6.3]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-2.6.3.jar:2.6.3]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.15.jar:5.3.15]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.3.jar:2.6.3]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-2.6.3.jar:2.6.3]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414) ~[spring-boot-2.6.3.jar:2.6.3]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.3.jar:2.6.3]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.6.3.jar:2.6.3]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.6.3.jar:2.6.3]\r\n    \tat com.arslan.javabrains.AspectOrientedProgrammingApplication.main(AspectOrientedProgrammingApplication.java:20) ~[classes/:na]\r\n    \r\n    2022-02-06 08:14:29.548 ERROR 8004 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Exception starting filter [characterEncodingFilter]\r\n\r\n","title":"Using Aspect advice with wildcard leading to multiple triggers and exceptions","body":"<p>Im new to AOP and have created a simple SpringBoot project to learn it. I've created a logging aspect which simple logs a message before triggering a get method that returns String. Upon adding wildcards (so it triggers for all get methods, regardless of return-type), im seeing an odd behavior - it seems to be triggering for internal method calls spring uses to load the context and then runs into an NPE. Not sure how to resolve this, code is below:</p>\n<pre><code>@SpringBootApplication\n@ComponentScan\n@EnableAutoConfiguration\npublic class AspectOrientedProgrammingApplication implements ApplicationContextAware {\n\n    private static ApplicationContext applicationContext;\n\n    public static void main(String[] args) {\n        SpringApplication.run(AspectOrientedProgrammingApplication.class, args);\n        ShapeService shapeService = applicationContext.getBean(ShapeService.class);\n        System.out.println(shapeService.getCircle().getName());\n    }\n\n    @Override\n    public void setApplicationContext(ApplicationContext context) throws BeansException {\n        applicationContext = context;\n    }\n}\n</code></pre>\n<p>My Circle class:</p>\n<pre><code>@Component\npublic class Circle {\n    @Value(&quot;${spring.app.circleName}&quot;)\n    private String name;\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n</code></pre>\n<p>ShapeService class:</p>\n<pre><code>@Component\npublic class ShapeService {\n    @Autowired\n    private Triangle triangle;\n\n    @Autowired\n    private Circle circle;\n\n    public Triangle getTriangle() {\n        return triangle;\n    }\n\n    public void setTriangle(Triangle triangle) {\n        this.triangle = triangle;\n    }\n\n    public Circle getCircle() {\n        return circle;\n    }\n\n    public void setCircle(Circle circle) {\n        this.circle = circle;\n    }\n}\n</code></pre>\n<p>Aspect class:</p>\n<pre><code>@Aspect\n@Component\npublic class LoggingAspect {\n\n    @Before(&quot;execution(public * get*())&quot;) // works fine with &quot;execution(public String getName())&quot;\n    public void loggingAdvice(){\n        System.out.println(&quot;Advice run: Get method called&quot;);\n    }\n}\n</code></pre>\n<p>Running this results in following:</p>\n<pre><code>Advice run: Get method called\nAdvice run: Get method called\nAdvice run: Get method called\nAdvice run: Get method called\nAdvice run: Get method called\nAdvice run: Get method called\nAdvice run: Get method called\nAdvice run: Get method called\nAdvice run: Get method called\nAdvice run: Get method called\nAdvice run: Get method called\nAdvice run: Get method called\nAdvice run: Get method called\nAdvice run: Get method called\nAdvice run: Get method called\nAdvice run: Get method called\nAdvice run: Get method called\nAdvice run: Get method called\nAdvice run: Get method called\nAdvice run: Get method called\nAdvice run: Get method called\nAdvice run: Get method called\nAdvice run: Get method called\nAdvice run: Get method called\nAdvice run: Get method called\nAdvice run: Get method called\nAdvice run: Get method called\nAdvice run: Get method called\nAdvice run: Get method called\nAdvice run: Get method called\nAdvice run: Get method called\nWARNING: An illegal reflective access operation has occurred\nWARNING: Illegal reflective access by org.springframework.cglib.core.ReflectUtils (file:/C:/Users/Arslan/.m2/repository/org/springframework/spring-core/5.3.15/spring-core-5.3.15.jar) to method java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain)\nWARNING: Please consider reporting this to the maintainers of org.springframework.cglib.core.ReflectUtils\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\nWARNING: All illegal access operations will be denied in a future release\n2022-02-06 08:14:28.566  INFO 8004 --- [           main] o.s.aop.framework.CglibAopProxy          : Unable to proxy interface-implementing method [public final void org.springframework.boot.web.servlet.RegistrationBean.onStartup(javax.servlet.ServletContext) throws javax.servlet.ServletException] because it is marked as final: Consider using interface-based JDK proxies instead!\nAdvice run: Get method called\n2022-02-06 08:14:29.163  INFO 8004 --- [           main] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)\n2022-02-06 08:14:29.179  INFO 8004 --- [           main] o.apache.catalina.core.StandardService   : Starting service [Tomcat]\n2022-02-06 08:14:29.179  INFO 8004 --- [           main] org.apache.catalina.core.StandardEngine  : Starting Servlet engine: [Apache Tomcat/9.0.56]\n2022-02-06 08:14:29.327  INFO 8004 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext\n2022-02-06 08:14:29.327  INFO 8004 --- [           main] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2959 ms\nAdvice run: Get method called\n2022-02-06 08:14:29.339  INFO 8004 --- [           main] o.s.aop.framework.CglibAopProxy          : Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(javax.servlet.ServletRequest,javax.servlet.ServletResponse,javax.servlet.FilterChain) throws javax.servlet.ServletException,java.io.IOException] because it is marked as final: Consider using interface-based JDK proxies instead!\n2022-02-06 08:14:29.339  INFO 8004 --- [           main] o.s.aop.framework.CglibAopProxy          : Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(javax.servlet.FilterConfig) throws javax.servlet.ServletException] because it is marked as final: Consider using interface-based JDK proxies instead!\n2022-02-06 08:14:29.363  INFO 8004 --- [           main] o.s.aop.framework.CglibAopProxy          : Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(javax.servlet.ServletRequest,javax.servlet.ServletResponse,javax.servlet.FilterChain) throws javax.servlet.ServletException,java.io.IOException] because it is marked as final: Consider using interface-based JDK proxies instead!\n2022-02-06 08:14:29.363  INFO 8004 --- [           main] o.s.aop.framework.CglibAopProxy          : Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(javax.servlet.FilterConfig) throws javax.servlet.ServletException] because it is marked as final: Consider using interface-based JDK proxies instead!\n2022-02-06 08:14:29.391  INFO 8004 --- [           main] o.s.aop.framework.CglibAopProxy          : Unable to proxy interface-implementing method [public final void org.springframework.web.filter.OncePerRequestFilter.doFilter(javax.servlet.ServletRequest,javax.servlet.ServletResponse,javax.servlet.FilterChain) throws javax.servlet.ServletException,java.io.IOException] because it is marked as final: Consider using interface-based JDK proxies instead!\n2022-02-06 08:14:29.391  INFO 8004 --- [           main] o.s.aop.framework.CglibAopProxy          : Unable to proxy interface-implementing method [public final void org.springframework.web.filter.GenericFilterBean.init(javax.servlet.FilterConfig) throws javax.servlet.ServletException] because it is marked as final: Consider using interface-based JDK proxies instead!\nAdvice run: Get method called\nAdvice run: Get method called\nAdvice run: Get method called\nAdvice run: Get method called\nAdvice run: Get method called\nAdvice run: Get method called\nAdvice run: Get method called\n2022-02-06 08:14:29.548 ERROR 8004 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Exception starting filter [requestContextFilter]\n\njava.lang.NullPointerException: null\n    at org.springframework.web.filter.GenericFilterBean.init(GenericFilterBean.java:241) ~[spring-web-5.3.15.jar:5.3.15]\n    at org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:272) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:106) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4613) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5256) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:835) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1396) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1386) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:140) ~[na:na]\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:919) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:263) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardService.startInternal(StandardService.java:432) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:927) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.apache.catalina.startup.Tomcat.start(Tomcat.java:486) ~[tomcat-embed-core-9.0.56.jar:9.0.56]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.&lt;init&gt;(TomcatWebServer.java:104) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:478) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory$$FastClassBySpringCGLIB$$9c83fa9f.invoke(&lt;generated&gt;) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218) ~[spring-core-5.3.15.jar:5.3.15]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:783) ~[spring-aop-5.3.15.jar:5.3.15]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163) ~[spring-aop-5.3.15.jar:5.3.15]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97) ~[spring-aop-5.3.15.jar:5.3.15]\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186) ~[spring-aop-5.3.15.jar:5.3.15]\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:753) ~[spring-aop-5.3.15.jar:5.3.15]\n    at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:698) ~[spring-aop-5.3.15.jar:5.3.15]\n    at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory$$EnhancerBySpringCGLIB$$e5201eaa.getWebServer(&lt;generated&gt;) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:182) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:160) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:577) ~[spring-context-5.3.15.jar:5.3.15]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:145) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:414) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:302) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1303) ~[spring-boot-2.6.3.jar:2.6.3]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1292) ~[spring-boot-2.6.3.jar:2.6.3]\n    at com.arslan.javabrains.AspectOrientedProgrammingApplication.main(AspectOrientedProgrammingApplication.java:20) ~[classes/:na]\n\n2022-02-06 08:14:29.548 ERROR 8004 --- [           main] o.a.c.c.C.[Tomcat].[localhost].[/]       : Exception starting filter [characterEncodingFilter]\n</code></pre>\n"},{"tags":["java","unit-testing","quarkus","quarkus-rest-client","elasticsearch-high-level-restclient"],"comments":[{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1643902128,"post_id":70970827,"comment_id":125467324,"body_markdown":"Are both classes in the same maven module?","body":"Are both classes in the same maven module?"},{"owner":{"account_id":14993806,"reputation":941,"user_id":11396982,"display_name":"IbrahimD"},"score":0,"creation_date":1643972321,"post_id":70970827,"comment_id":125486575,"body_markdown":"Yes, they both are.","body":"Yes, they both are."},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1643977665,"post_id":70970827,"comment_id":125488449,"body_markdown":"Any chance you can upload a sample to Github?","body":"Any chance you can upload a sample to Github?"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1644231053,"post_id":70970827,"comment_id":125541230,"body_markdown":"Does it work when you inject the REST client as a field instead of through the constructor? If it does, then maybe this is a limitation in the REST client Quarkus integration. Also, did you define the endpoint URL in application.properties? Example:\n`xxx.GoogleMapsApiService/mp-rest/url=https://whatever`.","body":"Does it work when you inject the REST client as a field instead of through the constructor? If it does, then maybe this is a limitation in the REST client Quarkus integration. Also, did you define the endpoint URL in application.properties? Example: <code>xxx.GoogleMapsApiService&#47;mp-rest&#47;url=https:&#47;&#47;whatever</code>."},{"owner":{"account_id":14993806,"reputation":941,"user_id":11396982,"display_name":"IbrahimD"},"score":0,"creation_date":1644505762,"post_id":70970827,"comment_id":125629486,"body_markdown":"No, it doesn&#39;t work when injected as a field and the endpoint URL is defined. As I have stated, this is a service that builds works without any problem. The only issue is that it fails to build when you add a QuarkusTest.","body":"No, it doesn&#39;t work when injected as a field and the endpoint URL is defined. As I have stated, this is a service that builds works without any problem. The only issue is that it fails to build when you add a QuarkusTest."},{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":0,"creation_date":1644600412,"post_id":70970827,"comment_id":125657928,"body_markdown":"can you put a reproducer to github or gitlab ?","body":"can you put a reproducer to github or gitlab ?"},{"owner":{"account_id":5926985,"reputation":767,"user_id":4662593,"display_name":"Michał Szynkiewicz"},"score":0,"creation_date":1644756156,"post_id":70970827,"comment_id":125685337,"body_markdown":"This should work. Do you get the failure during a maven/gradle build or while running the test in the IDE? If the former, can you clear IDE caches and restart?\n\nIf it fails when building with gradle or maven, please create an issue in https://github.com/quarkusio/quarkus/issues and attach a reproducer","body":"This should work. Do you get the failure during a maven/gradle build or while running the test in the IDE? If the former, can you clear IDE caches and restart?  If it fails when building with gradle or maven, please create an issue in <a href=\"https://github.com/quarkusio/quarkus/issues\" rel=\"nofollow noreferrer\">github.com/quarkusio/quarkus/issues</a> and attach a reproducer"}],"owner":{"account_id":14993806,"reputation":941,"user_id":11396982,"display_name":"IbrahimD"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1659,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1644224731,"creation_date":1643889275,"question_id":70970827,"body_markdown":"I try to write a QuarkusTest in order to test a class that is actually working as an ElasticSearchStore. In the app, there is a rest client for accessing GoogleMaps API which looks like:\r\n```\r\n    @RegisterRestClient(configKey = &quot;google-maps-api&quot;)\r\n    public interface GoogleMapsApiService {\r\n\r\n    @GET\r\n    @Retry(retryOn = {InternalServerException.class})\r\n    @Path(&quot;address&quot;)\r\n    String geocode(@QueryParam(&quot;address&quot;) String address);\r\n}\r\n```\r\nThe rest client is not injected into the class I want to test but it is injected to another class through the constructor:\r\n```\r\n@JBossLog\r\n@ApplicationScoped\r\npublic class GoogleMapsClient {\r\n\r\n    private final GoogleMapsApiService googleMapsApiService;\r\n\r\n\r\npublic GoogleMapsClient(\r\n        @RestClient GoogleMapsApiService googleMapsApiService\r\n    ) {\r\n        this.googleMapsApiService = googleMapsApiService;\r\n    }\r\n```\r\nNormally, the application builds without any problem on the IDE and CI/CD pipelines.\r\nHowever, when I try to run the test with QuarkusTest annotation I get the following error:\r\n```\r\njava.lang.RuntimeException: java.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n\t[error]: Build step io.quarkus.arc.deployment.ArcProcessor#validate threw an exception: javax.enterprise.inject.spi.DeploymentException: javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type \r\n xxxx.GoogleMapsApiService and qualifiers [@RestClient]\r\n\t- java member: xxxx.GoogleMapsClient().googleMapsApiService\r\n\t- declared on CLASS bean [types=[xxxx.GoogleMapsClient, java.lang.Object], qualifiers=[@Default, @Any], target=xxxx.GoogleMapsClient]\r\n\tat io.quarkus.arc.processor.BeanDeployment.processErrors(BeanDeployment.java:1196)\r\n\tat io.quarkus.arc.processor.BeanDeployment.init(BeanDeployment.java:269)\r\n\tat io.quarkus.arc.processor.BeanProcessor.initialize(BeanProcessor.java:134)\r\n\tat io.quarkus.arc.deployment.ArcProcessor.validate(ArcProcessor.java:454)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n\tat io.quarkus.deployment.ExtensionLoader$2.execute(ExtensionLoader.java:887)\r\n\tat io.quarkus.builder.BuildContext.run(BuildContext.java:277)\r\n\tat org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n\tat org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n\tat org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\nCaused by: javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type xxxx.GoogleMapsApiService and qualifiers [@RestClient]\r\n\t- java member: xxxx.GoogleMapsClient().googleMapsApiService\r\n\t- declared on CLASS bean [types=[xxxx.GoogleMapsClient, java.lang.Object], qualifiers=[@Default, @Any], target=xxxx.GoogleMapsClient]\r\n\tat io.quarkus.arc.processor.Beans.resolveInjectionPoint(Beans.java:428)\r\n\tat io.quarkus.arc.processor.BeanInfo.init(BeanInfo.java:508)\r\n\tat io.quarkus.arc.processor.BeanDeployment.init(BeanDeployment.java:257)\r\n","title":"Build error in QuarkusTest due to @RestClient","body":"<p>I try to write a QuarkusTest in order to test a class that is actually working as an ElasticSearchStore. In the app, there is a rest client for accessing GoogleMaps API which looks like:</p>\n<pre><code>    @RegisterRestClient(configKey = &quot;google-maps-api&quot;)\n    public interface GoogleMapsApiService {\n\n    @GET\n    @Retry(retryOn = {InternalServerException.class})\n    @Path(&quot;address&quot;)\n    String geocode(@QueryParam(&quot;address&quot;) String address);\n}\n</code></pre>\n<p>The rest client is not injected into the class I want to test but it is injected to another class through the constructor:</p>\n<pre><code>@JBossLog\n@ApplicationScoped\npublic class GoogleMapsClient {\n\n    private final GoogleMapsApiService googleMapsApiService;\n\n\npublic GoogleMapsClient(\n        @RestClient GoogleMapsApiService googleMapsApiService\n    ) {\n        this.googleMapsApiService = googleMapsApiService;\n    }\n</code></pre>\n<p>Normally, the application builds without any problem on the IDE and CI/CD pipelines.\nHowever, when I try to run the test with QuarkusTest annotation I get the following error:</p>\n<pre><code>java.lang.RuntimeException: java.lang.RuntimeException: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\n    [error]: Build step io.quarkus.arc.deployment.ArcProcessor#validate threw an exception: javax.enterprise.inject.spi.DeploymentException: javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type \n xxxx.GoogleMapsApiService and qualifiers [@RestClient]\n    - java member: xxxx.GoogleMapsClient().googleMapsApiService\n    - declared on CLASS bean [types=[xxxx.GoogleMapsClient, java.lang.Object], qualifiers=[@Default, @Any], target=xxxx.GoogleMapsClient]\n    at io.quarkus.arc.processor.BeanDeployment.processErrors(BeanDeployment.java:1196)\n    at io.quarkus.arc.processor.BeanDeployment.init(BeanDeployment.java:269)\n    at io.quarkus.arc.processor.BeanProcessor.initialize(BeanProcessor.java:134)\n    at io.quarkus.arc.deployment.ArcProcessor.validate(ArcProcessor.java:454)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n    at io.quarkus.deployment.ExtensionLoader$2.execute(ExtensionLoader.java:887)\n    at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\n    at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\n    at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n    at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n    at java.base/java.lang.Thread.run(Thread.java:833)\n    at org.jboss.threads.JBossThread.run(JBossThread.java:501)\nCaused by: javax.enterprise.inject.UnsatisfiedResolutionException: Unsatisfied dependency for type xxxx.GoogleMapsApiService and qualifiers [@RestClient]\n    - java member: xxxx.GoogleMapsClient().googleMapsApiService\n    - declared on CLASS bean [types=[xxxx.GoogleMapsClient, java.lang.Object], qualifiers=[@Default, @Any], target=xxxx.GoogleMapsClient]\n    at io.quarkus.arc.processor.Beans.resolveInjectionPoint(Beans.java:428)\n    at io.quarkus.arc.processor.BeanInfo.init(BeanInfo.java:508)\n    at io.quarkus.arc.processor.BeanDeployment.init(BeanDeployment.java:257)\n</code></pre>\n"},{"tags":["java","jxbrowser"],"answers":[{"tags":[],"owner":{"account_id":1278033,"reputation":562,"user_id":1287056,"accept_rate":75,"display_name":"Vladyslav Lubenskyi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644224664,"creation_date":1644224664,"answer_id":71015884,"question_id":71003829,"body_markdown":"There is a `BrowserClosed` event to track when a particular browser is closed:\r\n\r\n    browser.on(BrowserClosed.class, event -&gt; { System.out.println(&quot;Bye&quot;) });\r\n\r\nAnd `EngineClosed` to detect when the whole engine has been closed:\r\n\r\n    engine.on(EngineClosed.class, event -&gt; {});","title":"Unable to find replacement for `DisposeListener` class","body":"<p>There is a <code>BrowserClosed</code> event to track when a particular browser is closed:</p>\n<pre><code>browser.on(BrowserClosed.class, event -&gt; { System.out.println(&quot;Bye&quot;) });\n</code></pre>\n<p>And <code>EngineClosed</code> to detect when the whole engine has been closed:</p>\n<pre><code>engine.on(EngineClosed.class, event -&gt; {});\n</code></pre>\n"}],"owner":{"account_id":2292409,"reputation":187,"user_id":3849756,"accept_rate":70,"display_name":"rcantrel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71015884,"answer_count":1,"score":1,"last_activity_date":1644224664,"creation_date":1644115553,"question_id":71003829,"body_markdown":"Upgrading to 7.21.2 from 6.20.  Having trouble finding a callback that replaces the `com.teamdev.jxbrowser.chromium.events.DisposeListener` class.","title":"Unable to find replacement for `DisposeListener` class","body":"<p>Upgrading to 7.21.2 from 6.20.  Having trouble finding a callback that replaces the <code>com.teamdev.jxbrowser.chromium.events.DisposeListener</code> class.</p>\n"},{"tags":["java","xml","spring","jackson"],"comments":[{"owner":{"account_id":12469735,"reputation":13915,"user_id":9078341,"display_name":"Randy Casburn"},"score":1,"creation_date":1644183207,"post_id":71011588,"comment_id":125532466,"body_markdown":"you never write `xmlContent` to the file? You simply create the XML string and then close the File.","body":"you never write <code>xmlContent</code> to the file? You simply create the XML string and then close the File."},{"owner":{"account_id":23408321,"reputation":35,"user_id":17470383,"display_name":"Daxforcel"},"score":0,"creation_date":1644188148,"post_id":71011588,"comment_id":125532826,"body_markdown":"cant believe my numbness","body":"cant believe my numbness"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1644196303,"post_id":71011588,"comment_id":125533574,"body_markdown":"First, the `getFile()` method of URL **does not** return a valid file name.  Your code will eventually fail, when the program happens to reside in a directory containing characters (like space) which are not legal in URLs.  Second, if your program is running inside a .jar, a resource is not writable, period.  Treat your resource as *default data* and write the new file to a known location, like the user’s home directory.  Finally, never ever write an empty `catch` block.  At the very least, call `e.printStackTrace()`.  You want to know if the operation fails, right?","body":"First, the <code>getFile()</code> method of URL <b>does not</b> return a valid file name.  Your code will eventually fail, when the program happens to reside in a directory containing characters (like space) which are not legal in URLs.  Second, if your program is running inside a .jar, a resource is not writable, period.  Treat your resource as <i>default data</i> and write the new file to a known location, like the user’s home directory.  Finally, never ever write an empty <code>catch</code> block.  At the very least, call <code>e.printStackTrace()</code>.  You want to know if the operation fails, right?"}],"answers":[{"tags":[],"owner":{"account_id":5916763,"reputation":3250,"user_id":4655324,"accept_rate":79,"display_name":"Mevl&#252;t&#214;zdemir"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644224508,"creation_date":1644224508,"answer_id":71015856,"question_id":71011588,"body_markdown":"You could use `FileUtils` from Apache. \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-io&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\nhttps://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html\r\n\r\n \r\n      FileUtils.writeStringToFile(\r\n                        file,\r\n                        xmlContent,\r\n                        StandardCharsets.UTF_8,\r\n                        true // == append to end of file\r\n                );\r\n\r\nThe JavaDoc of this method:\r\n\r\n             /**\r\n             * Writes a String to a file creating the file if it does not exist.\r\n             *\r\n             * @param file     the file to write\r\n             * @param data     the content to write to the file\r\n             * @param charset the charset to use, {@code null} means platform default\r\n             * @param append   if {@code true}, then the String will be added to the\r\n             *                 end of the file rather than overwriting\r\n             * @throws IOException in case of an I/O error\r\n             * @since 2.3\r\n             */","title":"Java Spring - write to existing file in resource folder","body":"<p>You could use <code>FileUtils</code> from Apache.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;commons-io&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p><a href=\"https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html\" rel=\"nofollow noreferrer\">https://commons.apache.org/proper/commons-io/apidocs/org/apache/commons/io/FileUtils.html</a></p>\n<pre><code>  FileUtils.writeStringToFile(\n                    file,\n                    xmlContent,\n                    StandardCharsets.UTF_8,\n                    true // == append to end of file\n            );\n</code></pre>\n<p>The JavaDoc of this method:</p>\n<pre><code>         /**\n         * Writes a String to a file creating the file if it does not exist.\n         *\n         * @param file     the file to write\n         * @param data     the content to write to the file\n         * @param charset the charset to use, {@code null} means platform default\n         * @param append   if {@code true}, then the String will be added to the\n         *                 end of the file rather than overwriting\n         * @throws IOException in case of an I/O error\n         * @since 2.3\n         */\n</code></pre>\n"}],"owner":{"account_id":23408321,"reputation":35,"user_id":17470383,"display_name":"Daxforcel"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1269,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1644224508,"creation_date":1644181100,"question_id":71011588,"body_markdown":"I have a simple in-memory db in which I load users from XML file at app startup.\r\nNow whenever someone registers I want to save that new user in this xml file. \r\nMy approach is to everytime get all the users, append new one and save to xml.\r\nHowever, seems like nothing is written in file at time the new user registers.\r\nI am aware that this approach is not save but this is for educational reason only.\r\n\r\nThis is my save to xml class\r\n```\r\npublic class SaveXml {\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n    public void saveUserToXml (User newUser) {\r\n        try {\r\n            ClassLoader classLoader = getClass().getClassLoader();\r\n            File file = new File(classLoader.getResource(&quot;Users.xml&quot;).getFile());\r\n            FileWriter fileWriter = new FileWriter(file);\r\n\r\n            List&lt;User&gt; usersList = new ArrayList&lt;&gt;();\r\n            //populate arraylist with all users;\r\n            userRepository.findAll().forEach(usersList::add);\r\n            usersList.add(newUser);\r\n\r\n            XmlMapper xmlMapper = new XmlMapper();\r\n            String xmlContent = xmlMapper.writeValueAsString(usersList);\r\n            fileWriter.close();\r\n        }\r\n        catch (Exception e){}\r\n    }\r\n}\r\n```\r\n\r\n\r\nXml file that is placed in resource folder:\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;users&gt;\r\n    &lt;user&gt;\r\n        &lt;username&gt;Tom&lt;/username&gt;\r\n        &lt;password&gt;123&lt;/password&gt;\r\n    &lt;/user&gt;\r\n    &lt;user&gt;\r\n        &lt;username&gt;Moc&lt;/username&gt;\r\n        &lt;password&gt;1234&lt;/password&gt;\r\n    &lt;/user&gt;\r\n&lt;/users&gt;\r\n```\r\n\r\nUsers class\r\n```\r\n@JacksonXmlRootElement(localName = &quot;users&quot;)\r\n@Data\r\n@NoArgsConstructor\r\npublic class Users {\r\n    @JacksonXmlElementWrapper(useWrapping = false)\r\n    private List&lt;User&gt; user;\r\n\r\n    public Users(List&lt;User&gt; newUser) {\r\n        this.user = newUser;\r\n    }\r\n\r\n    public List&lt;User&gt; getUser() {\r\n        return user;\r\n    }\r\n\r\n    public void setUser(List&lt;User&gt; user) {\r\n        this.user = user;\r\n    }\r\n}\r\n```\r\nUser class\r\n```\r\n@Data\r\npublic class User\r\n{\r\n    @Id @GeneratedValue(strategy= GenerationType.IDENTITY)\r\n    //defining id as column name\r\n    @Column\r\n    private int id;\r\n    //defining name as column name\r\n    @Column\r\n    private String username;\r\n    //defining password column\r\n    @Column\r\n    private String password;\r\n}\r\n```","title":"Java Spring - write to existing file in resource folder","body":"<p>I have a simple in-memory db in which I load users from XML file at app startup.\nNow whenever someone registers I want to save that new user in this xml file.\nMy approach is to everytime get all the users, append new one and save to xml.\nHowever, seems like nothing is written in file at time the new user registers.\nI am aware that this approach is not save but this is for educational reason only.</p>\n<p>This is my save to xml class</p>\n<pre><code>public class SaveXml {\n    @Autowired\n    private UserRepository userRepository;\n\n    public void saveUserToXml (User newUser) {\n        try {\n            ClassLoader classLoader = getClass().getClassLoader();\n            File file = new File(classLoader.getResource(&quot;Users.xml&quot;).getFile());\n            FileWriter fileWriter = new FileWriter(file);\n\n            List&lt;User&gt; usersList = new ArrayList&lt;&gt;();\n            //populate arraylist with all users;\n            userRepository.findAll().forEach(usersList::add);\n            usersList.add(newUser);\n\n            XmlMapper xmlMapper = new XmlMapper();\n            String xmlContent = xmlMapper.writeValueAsString(usersList);\n            fileWriter.close();\n        }\n        catch (Exception e){}\n    }\n}\n</code></pre>\n<p>Xml file that is placed in resource folder:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;users&gt;\n    &lt;user&gt;\n        &lt;username&gt;Tom&lt;/username&gt;\n        &lt;password&gt;123&lt;/password&gt;\n    &lt;/user&gt;\n    &lt;user&gt;\n        &lt;username&gt;Moc&lt;/username&gt;\n        &lt;password&gt;1234&lt;/password&gt;\n    &lt;/user&gt;\n&lt;/users&gt;\n</code></pre>\n<p>Users class</p>\n<pre><code>@JacksonXmlRootElement(localName = &quot;users&quot;)\n@Data\n@NoArgsConstructor\npublic class Users {\n    @JacksonXmlElementWrapper(useWrapping = false)\n    private List&lt;User&gt; user;\n\n    public Users(List&lt;User&gt; newUser) {\n        this.user = newUser;\n    }\n\n    public List&lt;User&gt; getUser() {\n        return user;\n    }\n\n    public void setUser(List&lt;User&gt; user) {\n        this.user = user;\n    }\n}\n</code></pre>\n<p>User class</p>\n<pre><code>@Data\npublic class User\n{\n    @Id @GeneratedValue(strategy= GenerationType.IDENTITY)\n    //defining id as column name\n    @Column\n    private int id;\n    //defining name as column name\n    @Column\n    private String username;\n    //defining password column\n    @Column\n    private String password;\n}\n</code></pre>\n"},{"tags":["java","spring","mongodb","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":5665214,"reputation":325,"user_id":4481550,"accept_rate":88,"display_name":"Micka&#235;l B."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644224406,"creation_date":1644224406,"answer_id":71015832,"question_id":71008429,"body_markdown":"I think you are trying to recreate the Bean validation behaviour which is already something standard, [try to use it][1], as it will be easier than creating a heavy hierarchy of classes for achieving that.\r\n  \r\nSpring will be able to verify your validation automatically (After deserializing a JSON body, before inserting in DB..)\r\n\r\n\r\n  [1]: https://www.baeldung.com/javax-validation","title":"Reflection problems with super class in Spring Boot","body":"<p>I think you are trying to recreate the Bean validation behaviour which is already something standard, <a href=\"https://www.baeldung.com/javax-validation\" rel=\"nofollow noreferrer\">try to use it</a>, as it will be easier than creating a heavy hierarchy of classes for achieving that.</p>\n<p>Spring will be able to verify your validation automatically (After deserializing a JSON body, before inserting in DB..)</p>\n"}],"owner":{"account_id":19094220,"reputation":590,"user_id":13943867,"display_name":"Lightning Gaming"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644224406,"creation_date":1644159788,"question_id":71008429,"body_markdown":"My goal is to create class level annotations, but I keep getting this error. For some reason, reflection isn&#39;t working when I use getClass to get the information of the annotation. I tried using aspects, but I&#39;m not sure how to make spring boot aspect annotations class level.\r\n\r\n```\r\norg.bson.codecs.configuration.CodecConfigurationException: Can&#39;t find a codec for class java.lang.Class.\r\n```\r\n\r\nBelow are the classes I used\r\n```\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\n@Target(ElementType.TYPE)\r\npublic @interface ValidateInput {\r\n    short minLength();\r\n    short maxLength();\r\n    String regex() default &quot;&quot;; \r\n}\r\n```\r\n\r\n```\r\npublic abstract class SimpleValidation {\r\n\r\n    private String text;\r\n    private ValidateInput info = this.getClass().getAnnotation(ValidateInput.class);\r\n\r\n    protected SimpleValidation(String text) {\r\n\t    this.text = text;\t\r\n    }\r\n}\r\n```\r\n```\r\n@Value\r\n@EqualsAndHashCode(callSuper = true)\r\n@ValidateInput(maxLength = 50, minLength = 5, regex = &quot;^[a-zA-Z0-9_!#$%&amp;&#39;*+/=?`{|}~^.-]+@[a-zA-Z0-9.-]+$&quot;)\r\npublic class Email extends SimpleValidation {\r\n    String email;\r\n\r\n    public Email(String email) {\r\n\t    super(email);\r\n\t    this.email = email;\r\n    }\r\n}\r\n```\r\n","title":"Reflection problems with super class in Spring Boot","body":"<p>My goal is to create class level annotations, but I keep getting this error. For some reason, reflection isn't working when I use getClass to get the information of the annotation. I tried using aspects, but I'm not sure how to make spring boot aspect annotations class level.</p>\n<pre><code>org.bson.codecs.configuration.CodecConfigurationException: Can't find a codec for class java.lang.Class.\n</code></pre>\n<p>Below are the classes I used</p>\n<pre><code>@Retention(RetentionPolicy.RUNTIME)\n@Documented\n@Target(ElementType.TYPE)\npublic @interface ValidateInput {\n    short minLength();\n    short maxLength();\n    String regex() default &quot;&quot;; \n}\n</code></pre>\n<pre><code>public abstract class SimpleValidation {\n\n    private String text;\n    private ValidateInput info = this.getClass().getAnnotation(ValidateInput.class);\n\n    protected SimpleValidation(String text) {\n        this.text = text;   \n    }\n}\n</code></pre>\n<pre><code>@Value\n@EqualsAndHashCode(callSuper = true)\n@ValidateInput(maxLength = 50, minLength = 5, regex = &quot;^[a-zA-Z0-9_!#$%&amp;'*+/=?`{|}~^.-]+@[a-zA-Z0-9.-]+$&quot;)\npublic class Email extends SimpleValidation {\n    String email;\n\n    public Email(String email) {\n        super(email);\n        this.email = email;\n    }\n}\n</code></pre>\n"},{"tags":["java","javac","org.json"],"comments":[{"owner":{"account_id":94218,"reputation":27823,"user_id":257356,"accept_rate":59,"display_name":"SyntaxT3rr0r"},"score":0,"creation_date":1298759836,"post_id":5129792,"comment_id":5754968,"body_markdown":"I *always* install everything Java-related on Un*x systems in the user&#39;s directory and I do this without needing root privileges (you cannot do it on Windows: on Windows you **must** have admin right to install Java).  So, for me, *&quot;java packages live somewhere in the user&#39;s directory&quot;* :)","body":"I <i>always</i> install everything Java-related on Un<i>x systems in the user&#39;s directory and I do this without needing root privileges (you cannot do it on Windows: on Windows you <b>must</b> have admin right to install Java).  So, for me, *&quot;java packages live somewhere in the user&#39;s directory&quot;</i> :)"}],"answers":[{"tags":[],"owner":{"account_id":16216,"reputation":110776,"user_id":35092,"accept_rate":83,"display_name":"Charlie Martin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1298755498,"creation_date":1298754925,"answer_id":5129807,"question_id":5129792,"body_markdown":"Wherever you like.  What you need to do is examine your CLASSPATH variable, and make sure it includes the directory with your library.\r\n\r\nHere&#39;s the first thing:\r\n\r\n      $ echo $CLASSPATH\r\n\r\nand you&#39;ll see your classpath as it is.\r\n\r\nNow you need to find the jar file containing the org.json; consult the documentation, but it may be something as simple as `json.jar`.  On most LINUX systems you can then just run\r\n\r\n     $ locate json.jar\r\n\r\nAnd you&#39;ll get a path name for the jarfile.  Make sure that path is part of your CLASSPATH and you&#39;ll be in fat city.\r\n\r\nOh, and the &quot;[Getting started][1]&quot; tutorials at &lt;strike&gt;Sun&lt;/strike&gt; Oracle are the easiest place to start.\r\n\r\n-----\r\nActually, having looked at the files, they may not be packaged as a jar file.  In that case, you want to put them into your sources starting at some top directory (`src` in this example.)\r\n\r\n       /src\r\n           /org/json/ ... put the json files here\r\n           ... put your files here\r\n\r\nand when you compile, they&#39;ll all be included, which will resolve all the dependencies.\r\n\r\nAgain, the place to look for first steps is that tutorial.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/tutorial/getStarted/index.html","title":"Where do java packages live on a linux system? Package org.json does not exist Error using javac","body":"<p>Wherever you like.  What you need to do is examine your CLASSPATH variable, and make sure it includes the directory with your library.</p>\n\n<p>Here's the first thing:</p>\n\n<pre><code>  $ echo $CLASSPATH\n</code></pre>\n\n<p>and you'll see your classpath as it is.</p>\n\n<p>Now you need to find the jar file containing the org.json; consult the documentation, but it may be something as simple as <code>json.jar</code>.  On most LINUX systems you can then just run</p>\n\n<pre><code> $ locate json.jar\n</code></pre>\n\n<p>And you'll get a path name for the jarfile.  Make sure that path is part of your CLASSPATH and you'll be in fat city.</p>\n\n<p>Oh, and the \"<a href=\"http://download.oracle.com/javase/tutorial/getStarted/index.html\" rel=\"nofollow\">Getting started</a>\" tutorials at <strike>Sun</strike> Oracle are the easiest place to start.</p>\n\n<hr>\n\n<p>Actually, having looked at the files, they may not be packaged as a jar file.  In that case, you want to put them into your sources starting at some top directory (<code>src</code> in this example.)</p>\n\n<pre><code>   /src\n       /org/json/ ... put the json files here\n       ... put your files here\n</code></pre>\n\n<p>and when you compile, they'll all be included, which will resolve all the dependencies.</p>\n\n<p>Again, the place to look for first steps is that tutorial.</p>\n"},{"tags":[],"owner":{"account_id":35502,"reputation":28362,"user_id":100565,"accept_rate":59,"display_name":"MeBigFatGuy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1386762600,"creation_date":1298755276,"answer_id":5129842,"question_id":5129792,"body_markdown":"Whatever external jars you need to compile with should be on the classpath when you compile. The most non-invasive way to do this is do add these items to the javac command line such as\r\n\r\n\r\n`javac -classpath /path/to/json.jar;. -g YourClass.java`\r\n\r\nor more likely if you use an IDE, add these jars to your referenced jars of the project in your IDE.\r\n\r\nIt usually isn&#39;t a good idea to pollute the global `$CLASSPATH` variable, as this then gets pulled in for everything you do with java, which may cause unintended conflicts.","title":"Where do java packages live on a linux system? Package org.json does not exist Error using javac","body":"<p>Whatever external jars you need to compile with should be on the classpath when you compile. The most non-invasive way to do this is do add these items to the javac command line such as</p>\n\n<p><code>javac -classpath /path/to/json.jar;. -g YourClass.java</code></p>\n\n<p>or more likely if you use an IDE, add these jars to your referenced jars of the project in your IDE.</p>\n\n<p>It usually isn't a good idea to pollute the global <code>$CLASSPATH</code> variable, as this then gets pulled in for everything you do with java, which may cause unintended conflicts.</p>\n"},{"tags":[],"owner":{"account_id":11013544,"reputation":19,"user_id":11753054,"display_name":"Dhamma Bharne"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1644224184,"creation_date":1644224184,"answer_id":71015783,"question_id":5129792,"body_markdown":"use &quot;java&quot; command instead of &quot;javac&quot;","title":"Where do java packages live on a linux system? Package org.json does not exist Error using javac","body":"<p>use &quot;java&quot; command instead of &quot;javac&quot;</p>\n"}],"owner":{"account_id":292061,"reputation":54934,"user_id":594589,"accept_rate":96,"display_name":"dm03514"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7400,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"closed_date":1644224299,"accepted_answer_id":5129807,"answer_count":3,"score":4,"last_activity_date":1644224184,"creation_date":1298754807,"question_id":5129792,"body_markdown":"I am trying to compile a library I wrote, using javac and I am getting the error: `package org.json does not exist`.  My program includes `org.json.JSONArray` and `org.json.JSONException`.  \r\n\r\nI have this package installed on my computer because I have successfully compiled android apps that import `org.json` libraries.  I&#39;m pretty sure all I have to do is specify a `-classpath` but I have been unable to find where these files live on my system (ubuntu 10.10 64-bit sun-java6). \r\n\r\nHaving been unable to find these on my own system I downloaded the `org.json` files from [here](https://github.com/douglascrockford/JSON-java), but I was unable to compile them individually because they were co-dependent on each other.  \r\n\r\nSo I have a couple questions:\r\n\r\n\r\n 1. Does anyone know where the org.json\r\n    package lives from android sdk\r\n    install?\r\n 2. Where might I find a tutorial\r\n    explaining these basic concepts\r\n    regarding compiling, and javac.","title":"Where do java packages live on a linux system? Package org.json does not exist Error using javac","body":"<p>I am trying to compile a library I wrote, using javac and I am getting the error: <code>package org.json does not exist</code>.  My program includes <code>org.json.JSONArray</code> and <code>org.json.JSONException</code>.  </p>\n\n<p>I have this package installed on my computer because I have successfully compiled android apps that import <code>org.json</code> libraries.  I'm pretty sure all I have to do is specify a <code>-classpath</code> but I have been unable to find where these files live on my system (ubuntu 10.10 64-bit sun-java6). </p>\n\n<p>Having been unable to find these on my own system I downloaded the <code>org.json</code> files from <a href=\"https://github.com/douglascrockford/JSON-java\" rel=\"nofollow\">here</a>, but I was unable to compile them individually because they were co-dependent on each other.  </p>\n\n<p>So I have a couple questions:</p>\n\n<ol>\n<li>Does anyone know where the org.json\npackage lives from android sdk\ninstall?</li>\n<li>Where might I find a tutorial\nexplaining these basic concepts\nregarding compiling, and javac.</li>\n</ol>\n"},{"tags":["java","maven","build","continuous-integration"],"comments":[{"owner":{"account_id":3893766,"reputation":1244,"user_id":3223340,"accept_rate":38,"display_name":"Jugi"},"score":1,"creation_date":1575911966,"post_id":15405413,"comment_id":104717096,"body_markdown":"Hi, i have a doubt. If your module let&#39;s say service is using a final constant value (final int FOO=5) and it is referenced in domain module. Now Your changing the constant value as (final int FOO=10) and if you try to deploy only the service module, wouldn&#39;t this cause a issue in domain module as the constant value will be still set to previous value (FOO=5) during earlier compilation. In order to reflect the new final constant value, we need to compile the domain module also. How could we handle this use case?","body":"Hi, i have a doubt. If your module let&#39;s say service is using a final constant value (final int FOO=5) and it is referenced in domain module. Now Your changing the constant value as (final int FOO=10) and if you try to deploy only the service module, wouldn&#39;t this cause a issue in domain module as the constant value will be still set to previous value (FOO=5) during earlier compilation. In order to reflect the new final constant value, we need to compile the domain module also. How could we handle this use case?"}],"answers":[{"tags":[],"owner":{"account_id":238157,"reputation":37489,"user_id":506855,"accept_rate":47,"display_name":"Puce"},"down_vote_count":1,"up_vote_count":42,"is_accepted":false,"score":41,"last_activity_date":1417530326,"creation_date":1363253646,"answer_id":15405561,"question_id":15405413,"body_markdown":"If you only call &quot;mvn install&quot; without &quot;clean&quot;, the compiler plugin will compile only modified classes. ","title":"Maven building only changed files","body":"<p>If you only call \"mvn install\" without \"clean\", the compiler plugin will compile only modified classes. </p>\n"},{"tags":[],"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1363265700,"creation_date":1363265700,"answer_id":15409894,"question_id":15405413,"body_markdown":"Within a multi-module build you can use:\r\n\r\n    mvn -pl ChangedModule compile\r\n\r\nfrom the root module will compile only the given **ChangedModule**. The compiler plugin will only compile the files which have been changed. But it can happen that the module you have changed would cause a recompile of other module which are depending on the **ChangedModule**. This can be achieved by using the following:\r\n\r\n    mvn -amd -pl ChangedModule compile\r\n\r\nwhere the -amd means **also make dependents**. This will work without installing the whole modules into the local repository by a **mvn install**.\r\n\r\n\r\n","title":"Maven building only changed files","body":"<p>Within a multi-module build you can use:</p>\n\n<pre><code>mvn -pl ChangedModule compile\n</code></pre>\n\n<p>from the root module will compile only the given <strong>ChangedModule</strong>. The compiler plugin will only compile the files which have been changed. But it can happen that the module you have changed would cause a recompile of other module which are depending on the <strong>ChangedModule</strong>. This can be achieved by using the following:</p>\n\n<pre><code>mvn -amd -pl ChangedModule compile\n</code></pre>\n\n<p>where the -amd means <strong>also make dependents</strong>. This will work without installing the whole modules into the local repository by a <strong>mvn install</strong>.</p>\n"},{"tags":[],"owner":{"account_id":316467,"reputation":108,"user_id":632666,"display_name":"sebasjm"},"down_vote_count":5,"up_vote_count":8,"is_accepted":true,"score":3,"last_activity_date":1414172431,"creation_date":1414172431,"answer_id":26553328,"question_id":15405413,"body_markdown":"If you are using SVN and *nix, from the root module\r\n\r\n    mvn install -amd -pl $(svn st | colrm 1 8 | sed &#39;s /.*  &#39; | xargs echo | sed &#39;s- -,:-g&#39; | sed &#39;s ^ : &#39;) \r\n\r\n","title":"Maven building only changed files","body":"<p>If you are using SVN and *nix, from the root module</p>\n\n<pre><code>mvn install -amd -pl $(svn st | colrm 1 8 | sed 's /.*  ' | xargs echo | sed 's- -,:-g' | sed 's ^ : ') \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2488727,"reputation":217,"user_id":2166673,"display_name":"buggy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1485259171,"creation_date":1465538699,"answer_id":37740955,"question_id":15405413,"body_markdown":"After trying and using aforementioned advises, I&#39;ve met following problems:\r\n\r\n 1. Maven install (without clean) still takes a lot of time, which for several projects can be 10-20s extra time. \r\n 2. Sebasjm&#39;s solution is fast and useful (I was using it for a couple of months), but if you have several changed projects, rebuilding them all the time (if you even hadn&#39;t change anything) is a huge waste of time\r\n\r\nWhat really worked for me is comparing source modification dates against .jar modification in local repository. And if you check only for VCS changed files (see sebasjm&#39;s answer), then date comparison won&#39;t take noticeable time (for me it was less than 1s for 100 changed files).\r\nMain benefit of such approach is very accurate rebuild of only really changed projects.\r\nMain problem is doing modification date comparison is a bit more than one-liner script. \r\n\r\nFor those, who want to try it, but too lazy to write such script themself sharing my version of it: https://github.com/bugy/rebuilder (linux/windows). \r\nIt can do some additional useful things, but the main idea and central algorithm is as explained above.","title":"Maven building only changed files","body":"<p>After trying and using aforementioned advises, I've met following problems:</p>\n\n<ol>\n<li>Maven install (without clean) still takes a lot of time, which for several projects can be 10-20s extra time. </li>\n<li>Sebasjm's solution is fast and useful (I was using it for a couple of months), but if you have several changed projects, rebuilding them all the time (if you even hadn't change anything) is a huge waste of time</li>\n</ol>\n\n<p>What really worked for me is comparing source modification dates against .jar modification in local repository. And if you check only for VCS changed files (see sebasjm's answer), then date comparison won't take noticeable time (for me it was less than 1s for 100 changed files).\nMain benefit of such approach is very accurate rebuild of only really changed projects.\nMain problem is doing modification date comparison is a bit more than one-liner script. </p>\n\n<p>For those, who want to try it, but too lazy to write such script themself sharing my version of it: <a href=\"https://github.com/bugy/rebuilder\" rel=\"nofollow noreferrer\">https://github.com/bugy/rebuilder</a> (linux/windows). \nIt can do some additional useful things, but the main idea and central algorithm is as explained above.</p>\n"},{"tags":[],"owner":{"account_id":1069033,"reputation":27720,"user_id":1068746,"accept_rate":57,"display_name":"guy mograbi"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1474372859,"creation_date":1474372859,"answer_id":39593535,"question_id":15405413,"body_markdown":"I had the same frustration and I also wrote a project at the time - alas it is not available but I found people who implemented something similar: \r\n\r\nfor example - https://github.com/erickzanardo/maven-watcher\r\n\r\nIt uses `nodejs` and assumes an `maven` project but should work on windows and unix alike. \r\n\r\n\r\nThe idea of my implementation is to watch for changes and then compile what changed. - kind of like `nodemon`. \r\n\r\nSo for example\r\n\r\n - When a java file changes - I compile the module\r\n - When a class file or jar changes  - I do something else (for example copy the jar under tomcat and restart tomcat)\r\n\r\nAnd the two are unrelated.. so if the java compilation failed, there should be no reason for the jar file to update.. and it&#39;s quite stable. \r\n\r\nI have used it on a project with 23K `.java` files and it worked smoothly. \r\n\r\nIt took the watch process a couple of seconds to start - but then it would only run if change was detected so the overall experience was nice. \r\n\r\nThe next step I intended to add is similar to your SVN support - list the modified files and use them as initialization. \r\n\r\nImportant to note - if compilation fails, it will retry on the next modification. so if you are modifying multiple jars, and the compilation fails as long as you are writing code, it will retry to compile everything on each code change until it compiled successfully. \r\n\r\nIf you&#39;d like I can try find my old project, fix it up a bit and publish it.. ","title":"Maven building only changed files","body":"<p>I had the same frustration and I also wrote a project at the time - alas it is not available but I found people who implemented something similar: </p>\n\n<p>for example - <a href=\"https://github.com/erickzanardo/maven-watcher\" rel=\"nofollow\">https://github.com/erickzanardo/maven-watcher</a></p>\n\n<p>It uses <code>nodejs</code> and assumes an <code>maven</code> project but should work on windows and unix alike. </p>\n\n<p>The idea of my implementation is to watch for changes and then compile what changed. - kind of like <code>nodemon</code>. </p>\n\n<p>So for example</p>\n\n<ul>\n<li>When a java file changes - I compile the module</li>\n<li>When a class file or jar changes  - I do something else (for example copy the jar under tomcat and restart tomcat)</li>\n</ul>\n\n<p>And the two are unrelated.. so if the java compilation failed, there should be no reason for the jar file to update.. and it's quite stable. </p>\n\n<p>I have used it on a project with 23K <code>.java</code> files and it worked smoothly. </p>\n\n<p>It took the watch process a couple of seconds to start - but then it would only run if change was detected so the overall experience was nice. </p>\n\n<p>The next step I intended to add is similar to your SVN support - list the modified files and use them as initialization. </p>\n\n<p>Important to note - if compilation fails, it will retry on the next modification. so if you are modifying multiple jars, and the compilation fails as long as you are writing code, it will retry to compile everything on each code change until it compiled successfully. </p>\n\n<p>If you'd like I can try find my old project, fix it up a bit and publish it.. </p>\n"},{"tags":[],"owner":{"account_id":2386002,"reputation":5151,"user_id":2086966,"accept_rate":73,"display_name":"smilyface"},"down_vote_count":1,"up_vote_count":21,"is_accepted":false,"score":20,"last_activity_date":1640502659,"creation_date":1524480491,"answer_id":49979240,"question_id":15405413,"body_markdown":"**For GIT**\r\n\r\n`mvn install -amd -pl $(git status | grep -E &quot;modified:|deleted:|added:&quot; | awk &#39;{print $2}&#39; | cut -f1 -d&quot;/&quot;)`\r\n\r\n\r\nOR\r\n\r\n**In your .bashrc file** (.bashrc can be found in home directory ~/.bashrc , or create it if doesn&#39;t exists) add the following function.\r\n\r\n    mvn_changed_modules(){\r\n        [ -z &quot;$1&quot; ] &amp;&amp; echo &quot;Expected command : mvn_changed_modules (install/build/clean or any maven command)&quot; &amp;&amp; exit 0\r\n    \r\n            modules=$(git status | grep -E &quot;modified:|deleted:|added:&quot; | awk &#39;{print $2}&#39; | cut -f1 -d&quot;/&quot;)\r\n    \r\n                    if [  -z &quot;$modules&quot; ];\r\n                    then\r\n                            echo &quot;No changes (modified / deleted / added)  found&quot;\r\n                    else\r\n                            echo -e &quot;Changed modules are : `echo $modules`\\n\\n&quot;\r\n                            mvn $1 -amd -pl $modules\r\n                    fi\r\n    }\r\n\r\n&lt;br&gt;\r\n**Then after re-starting your bash** (command prompt), you **can just use the following command** from the ROOT directory itself.\r\n\r\n&gt; smilyface@machine&gt;ProjectRootDir]$ **mvn_changed_module install**\r\n\r\n\r\n\r\n***How it works***\r\n&lt;br&gt;As per the question `mvn install -amd -pl services` is the command when &quot;some changes done in *services* module&quot;. So, first get module name from the changed file(s) and put it as input for mvn-install command&lt;br&gt;\r\n\r\n**Say for example**, below is a list of modified files (output of `git status`) - &lt;br&gt;\r\n**services**/pom.xml&lt;br&gt;\r\n**services**/ReadMe.txt&lt;br&gt;\r\n**web**/src/java/com/some/Name.java&lt;br&gt;\r\nThen `services` and `web` are the modules name which need to be build / compile / install\r\n\r\n","title":"Maven building only changed files","body":"<p><strong>For GIT</strong></p>\n<p><code>mvn install -amd -pl $(git status | grep -E &quot;modified:|deleted:|added:&quot; | awk '{print $2}' | cut -f1 -d&quot;/&quot;)</code></p>\n<p>OR</p>\n<p><strong>In your .bashrc file</strong> (.bashrc can be found in home directory ~/.bashrc , or create it if doesn't exists) add the following function.</p>\n<pre><code>mvn_changed_modules(){\n    [ -z &quot;$1&quot; ] &amp;&amp; echo &quot;Expected command : mvn_changed_modules (install/build/clean or any maven command)&quot; &amp;&amp; exit 0\n\n        modules=$(git status | grep -E &quot;modified:|deleted:|added:&quot; | awk '{print $2}' | cut -f1 -d&quot;/&quot;)\n\n                if [  -z &quot;$modules&quot; ];\n                then\n                        echo &quot;No changes (modified / deleted / added)  found&quot;\n                else\n                        echo -e &quot;Changed modules are : `echo $modules`\\n\\n&quot;\n                        mvn $1 -amd -pl $modules\n                fi\n}\n</code></pre>\n<br>\n**Then after re-starting your bash** (command prompt), you **can just use the following command** from the ROOT directory itself.\n<blockquote>\n<p>smilyface@machine&gt;ProjectRootDir]$ <strong>mvn_changed_module install</strong></p>\n</blockquote>\n<p><em><strong>How it works</strong></em>\n<br>As per the question <code>mvn install -amd -pl services</code> is the command when &quot;some changes done in <em>services</em> module&quot;. So, first get module name from the changed file(s) and put it as input for mvn-install command<br></p>\n<p><strong>Say for example</strong>, below is a list of modified files (output of <code>git status</code>) - <br>\n<strong>services</strong>/pom.xml<br>\n<strong>services</strong>/ReadMe.txt<br>\n<strong>web</strong>/src/java/com/some/Name.java<br>\nThen <code>services</code> and <code>web</code> are the modules name which need to be build / compile / install</p>\n"},{"tags":[],"owner":{"account_id":191204,"reputation":61,"user_id":431640,"display_name":"user431640"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596147970,"creation_date":1596147970,"answer_id":63182258,"question_id":15405413,"body_markdown":"The question and the answers posted so far do not take the dependency tree into account. What if the **utils** module is changed? We need to rebuild (retest at least) it and all the modules depending on it.\r\n\r\nWays to do so:\r\n\r\n - https://github.com/avodonosov/hashver-maven-plugin/\r\n - https://github.com/vackosar/gitflow-incremental-builder/\r\n - Gradle Enterprise is a commercial service which provides build cache, in\r\n   particular for maven\r\n - Migrate to newer build tools like Gradle or Bazel which support build caches out of box.","title":"Maven building only changed files","body":"<p>The question and the answers posted so far do not take the dependency tree into account. What if the <strong>utils</strong> module is changed? We need to rebuild (retest at least) it and all the modules depending on it.</p>\n<p>Ways to do so:</p>\n<ul>\n<li><a href=\"https://github.com/avodonosov/hashver-maven-plugin/\" rel=\"nofollow noreferrer\">https://github.com/avodonosov/hashver-maven-plugin/</a></li>\n<li><a href=\"https://github.com/vackosar/gitflow-incremental-builder/\" rel=\"nofollow noreferrer\">https://github.com/vackosar/gitflow-incremental-builder/</a></li>\n<li>Gradle Enterprise is a commercial service which provides build cache, in\nparticular for maven</li>\n<li>Migrate to newer build tools like Gradle or Bazel which support build caches out of box.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7421871,"reputation":991,"user_id":5645869,"display_name":"Rohit Kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644224031,"creation_date":1644224031,"answer_id":71015748,"question_id":15405413,"body_markdown":" - `mvn clean install` to run full build\r\n - `mvn install` to compile only changed and prepare war/jars other binaries\r\n - `mvn compile` to compile only changed files...\r\n\r\nSo `mvn compile` is the fastest. but if run/debug your project with war/jars it might not show those changes.","title":"Maven building only changed files","body":"<ul>\n<li><code>mvn clean install</code> to run full build</li>\n<li><code>mvn install</code> to compile only changed and prepare war/jars other binaries</li>\n<li><code>mvn compile</code> to compile only changed files...</li>\n</ul>\n<p>So <code>mvn compile</code> is the fastest. but if run/debug your project with war/jars it might not show those changes.</p>\n"}],"owner":{"account_id":1266911,"reputation":998,"user_id":1224036,"accept_rate":91,"display_name":"user1224036"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55215,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":26553328,"answer_count":8,"score":44,"last_activity_date":1644224031,"creation_date":1363253125,"question_id":15405413,"body_markdown":"Lets say i have module structure like below \r\n \r\n         Modules\r\n           -&gt;utils\r\n           -&gt;domain\r\n           -&gt;client\r\n           -&gt;services\r\n           -&gt;deploy (this is at the module level)\r\n\r\nNow to lauch the client i need to make a build of all the modules, `i.e utils, domain, client, services,` because i am loading the jars of all the above modules to fianlly lanch the client\r\n\r\nAnd all the jars gets assembled in the module deploy. \r\n\r\nMy question is if i change anything in services for example, then is there a way when running a build from `deploy maven` could recognise it has to build only `services` and hence build it and deploy it in deploy folder?\r\n ","title":"Maven building only changed files","body":"<p>Lets say i have module structure like below </p>\n\n<pre><code>     Modules\n       -&gt;utils\n       -&gt;domain\n       -&gt;client\n       -&gt;services\n       -&gt;deploy (this is at the module level)\n</code></pre>\n\n<p>Now to lauch the client i need to make a build of all the modules, <code>i.e utils, domain, client, services,</code> because i am loading the jars of all the above modules to fianlly lanch the client</p>\n\n<p>And all the jars gets assembled in the module deploy. </p>\n\n<p>My question is if i change anything in services for example, then is there a way when running a build from <code>deploy maven</code> could recognise it has to build only <code>services</code> and hence build it and deploy it in deploy folder?</p>\n"},{"tags":["java","spring-data-jpa"],"comments":[{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1644222206,"post_id":71015374,"comment_id":125538122,"body_markdown":"Please add more sample data and explanation to your question.  Can you write out all/most of the update queries you need to support here?","body":"Please add more sample data and explanation to your question.  Can you write out all/most of the update queries you need to support here?"},{"owner":{"account_id":24037632,"reputation":1,"user_id":18017724,"display_name":"ccznyo"},"score":0,"creation_date":1644223430,"post_id":71015374,"comment_id":125538482,"body_markdown":"they&#39;re all same only column name will be changed but I don&#39;t want to keep like 10 update queries just for different column name","body":"they&#39;re all same only column name will be changed but I don&#39;t want to keep like 10 update queries just for different column name"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644223823,"creation_date":1644223823,"answer_id":71015704,"question_id":71015374,"body_markdown":"Here is a general pattern which might be along the lines of what you want.  We can write an update involving all columns, except that we will use `CASE` expressions to no-op in the event that no input parameter be set for that column.  For example, for a 3 column update we can try:\r\n\r\n&lt;!-- language: sql --&gt;\r\n\r\n    update SomeEntity e\r\n    set e.field1 = case when :val1 is not null then :val1 else e.field1 end,\r\n        e.field2 = case when :val2 is not null then :val2 else e.field2 end,\r\n        e.field3 = case when :val3 is not null then :val3 else e.field3 end;\r\n\r\nNote the behavior here is that if say `:val1` be not null, then we update `field1` with that value, otherwise we just set `field1` back to its original value (i.e. do a no-op).  For example, if you only wanted to update the second and third fields, you would bind `NULL` for `:val1`, and the two respective values you want to set for `:val2` and `:val3`.","title":"JPA QUERY Update data with dynamic column name","body":"<p>Here is a general pattern which might be along the lines of what you want.  We can write an update involving all columns, except that we will use <code>CASE</code> expressions to no-op in the event that no input parameter be set for that column.  For example, for a 3 column update we can try:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>update SomeEntity e\nset e.field1 = case when :val1 is not null then :val1 else e.field1 end,\n    e.field2 = case when :val2 is not null then :val2 else e.field2 end,\n    e.field3 = case when :val3 is not null then :val3 else e.field3 end;\n</code></pre>\n<p>Note the behavior here is that if say <code>:val1</code> be not null, then we update <code>field1</code> with that value, otherwise we just set <code>field1</code> back to its original value (i.e. do a no-op).  For example, if you only wanted to update the second and third fields, you would bind <code>NULL</code> for <code>:val1</code>, and the two respective values you want to set for <code>:val2</code> and <code>:val3</code>.</p>\n"}],"owner":{"account_id":24037632,"reputation":1,"user_id":18017724,"display_name":"ccznyo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":757,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644223823,"creation_date":1644221879,"question_id":71015374,"body_markdown":"I&#39;ve a long list and according to it&#39;s substring, I&#39;ll update my table which has 10 columns. It will be like if substring is 2 update column 2 etc. So that&#39;s why I need to use dynamic column name. Is there any way to do it because :keyName for example doesn&#39;t work.\r\n\r\n    @Modifying\r\n    @Query(&quot;UPDATE Students s SET s.key2 = :key&quot;)\r\n    void updateKey(Integer key);","title":"JPA QUERY Update data with dynamic column name","body":"<p>I've a long list and according to it's substring, I'll update my table which has 10 columns. It will be like if substring is 2 update column 2 etc. So that's why I need to use dynamic column name. Is there any way to do it because :keyName for example doesn't work.</p>\n<pre><code>@Modifying\n@Query(&quot;UPDATE Students s SET s.key2 = :key&quot;)\nvoid updateKey(Integer key);\n</code></pre>\n"},{"tags":["java","exception","indexoutofboundsexception","java-15"],"comments":[{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":1,"creation_date":1644093262,"post_id":71001564,"comment_id":125515782,"body_markdown":"*PQRST should be the output*  That is not possible with the code as shown - R and S are mutually exclusive, since if R is printed, there&#39;s nothing following that can throw the out-of-bounds exception to print S.","body":"<i>PQRST should be the output</i>  That is not possible with the code as shown - R and S are mutually exclusive, since if R is printed, there&#39;s nothing following that can throw the out-of-bounds exception to print S."}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644090738,"creation_date":1644090738,"answer_id":71001613,"question_id":71001564,"body_markdown":"Your code is currently throwing an `ArrayIndexOutOfBoundsException`. Because you exceed the length of the array. This\r\n\r\n    for (int index = 0; index &lt;= studentId.length; index++) {\r\n\r\nshould be\r\n\r\n    for (int index = 0; index &lt; studentId.length; index++) {\r\n\r\nBut then `S` will not be printed (because it won&#39;t throw an `Exception`).\r\n\r\nToday is an ***excellent*** day to learn how to use a debugger.","title":"Why R is not being printed ? why the output is PQST?","body":"<p>Your code is currently throwing an <code>ArrayIndexOutOfBoundsException</code>. Because you exceed the length of the array. This</p>\n<pre><code>for (int index = 0; index &lt;= studentId.length; index++) {\n</code></pre>\n<p>should be</p>\n<pre><code>for (int index = 0; index &lt; studentId.length; index++) {\n</code></pre>\n<p>But then <code>S</code> will not be printed (because it won't throw an <code>Exception</code>).</p>\n<p>Today is an <em><strong>excellent</strong></em> day to learn how to use a debugger.</p>\n"},{"tags":[],"owner":{"account_id":24166695,"reputation":51,"user_id":18129429,"display_name":"Vojtěch V&#225;chal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1644095343,"creation_date":1644095343,"answer_id":71002174,"question_id":71001564,"body_markdown":"The problem is that the validateStudent method ends with an `ArrayIndexOutOfBoundsException exception`, and therefore the `System.out.print (&quot;R&quot;);` statement does not execute. When the exception happens.\r\n\r\nI would probably try to solve this problem a little differently and not with exceptions, which in my opinion are quite complicated in terms of logic and processing. It simply slows down the program that could be more simple.","title":"Why R is not being printed ? why the output is PQST?","body":"<p>The problem is that the validateStudent method ends with an <code>ArrayIndexOutOfBoundsException exception</code>, and therefore the <code>System.out.print (&quot;R&quot;);</code> statement does not execute. When the exception happens.</p>\n<p>I would probably try to solve this problem a little differently and not with exceptions, which in my opinion are quite complicated in terms of logic and processing. It simply slows down the program that could be more simple.</p>\n"}],"owner":{"account_id":20676365,"reputation":1,"user_id":17735756,"display_name":"Debjit Datta"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":71002174,"answer_count":2,"score":-2,"last_activity_date":1644223621,"creation_date":1644090326,"question_id":71001564,"body_markdown":"Here&#39;s my code. Here PQRST should be the output but R is not printed. I don&#39;t understand why ?\r\n\r\n```\r\nclass Validator{\r\n\tpublic int[] studentId = { 101, 102, 103 };\r\n\r\n\tpublic void validateStudent(int id) {\r\n\t\ttry {\r\n\t\t\tfor (int index = 0; index &lt;= studentId.length; index++) {\r\n\t\t\t\tif (id == studentId[index])\r\n\t\t\t\t\tSystem.out.println(&quot;P&quot;);\r\n\t\t\t}\r\n\t\t} finally {\r\n\t\t\tSystem.out.println(&quot;Q&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n\r\npublic class Tester {\r\n\tpublic static void main(String[] args) {\r\n\t\tValidator validator = new Validator();\r\n\t\ttry {\r\n\t\t\tvalidator.validateStudent(101);\r\n\t\t\tSystem.out.print(&quot;R&quot;);\r\n\t\t} catch (ArrayIndexOutOfBoundsException e) {\r\n\t\t\tSystem.out.println(&quot;S&quot;);\r\n\t\t} finally {\r\n\t\t\tSystem.out.println(&quot;T&quot;);\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"Why R is not being printed ? why the output is PQST?","body":"<p>Here's my code. Here PQRST should be the output but R is not printed. I don't understand why ?</p>\n<pre><code>class Validator{\n    public int[] studentId = { 101, 102, 103 };\n\n    public void validateStudent(int id) {\n        try {\n            for (int index = 0; index &lt;= studentId.length; index++) {\n                if (id == studentId[index])\n                    System.out.println(&quot;P&quot;);\n            }\n        } finally {\n            System.out.println(&quot;Q&quot;);\n        }\n    }\n}\n\n\npublic class Tester {\n    public static void main(String[] args) {\n        Validator validator = new Validator();\n        try {\n            validator.validateStudent(101);\n            System.out.print(&quot;R&quot;);\n        } catch (ArrayIndexOutOfBoundsException e) {\n            System.out.println(&quot;S&quot;);\n        } finally {\n            System.out.println(&quot;T&quot;);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","internationalization","wildfly","vaadin"],"comments":[{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1644246402,"post_id":71015648,"comment_id":125547363,"body_markdown":"The DefaultInstantiator only works with the property.  Do you plan to use Spring - if so you don&#39;t need the property. Otherwise I think the &quot;easiest&quot; way would be to inject your own Instantiator impl (derived from DefaultInstantiator where you just overide loading your I18nProvider)","body":"The DefaultInstantiator only works with the property.  Do you plan to use Spring - if so you don&#39;t need the property. Otherwise I think the &quot;easiest&quot; way would be to inject your own Instantiator impl (derived from DefaultInstantiator where you just overide loading your I18nProvider)"},{"owner":{"account_id":11804419,"reputation":75,"user_id":8637270,"display_name":"Luca Trecarichi"},"score":0,"creation_date":1644246723,"post_id":71015648,"comment_id":125547520,"body_markdown":"We&#39;ve started using Spring recently for future development, but this application in particular will remain without spring for the foreseeable future. I have no knowledge of Instantiator implementations, could you maybe link websites where I can start looking into them?","body":"We&#39;ve started using Spring recently for future development, but this application in particular will remain without spring for the foreseeable future. I have no knowledge of Instantiator implementations, could you maybe link websites where I can start looking into them?"},{"owner":{"account_id":3837378,"reputation":35463,"user_id":3181392,"display_name":"cfrick"},"score":0,"creation_date":1644247442,"post_id":71015648,"comment_id":125547830,"body_markdown":"I don&#39;t think there is some HowTo. You would have to follow the code comments.","body":"I don&#39;t think there is some HowTo. You would have to follow the code comments."},{"owner":{"account_id":11804419,"reputation":75,"user_id":8637270,"display_name":"Luca Trecarichi"},"score":0,"creation_date":1644248805,"post_id":71015648,"comment_id":125548460,"body_markdown":"Well isn&#39;t that nice? Anyway, thank you for the pointer!","body":"Well isn&#39;t that nice? Anyway, thank you for the pointer!"}],"owner":{"account_id":11804419,"reputation":75,"user_id":8637270,"display_name":"Luca Trecarichi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644223553,"creation_date":1644223553,"question_id":71015648,"body_markdown":"I&#39;m using Vaadin 14.5.1 and Wildfly 17. I have several applications deployed in Wildfly. Now I&#39;m implementing internationalization using Vaadin&#39;s `I18nProvider` interface.\r\nSo I created a `TranslationProvider` class which implements the interface in module A, and as per [this guide][1] I activate it using:\r\n\r\n`setProperty(&quot;vaadin.i18n.provider&quot;, TranslationProvider.class.getName());`\r\n\r\nAfter deployment, if I try to go to module B, it gives an error like:\r\n\r\n`Caused by: java.lang.ClassNotFoundException: my.module.A.TranslationProvider from [Module &quot;deployment.B.war&quot; from Service Module Loader]`\r\n\r\nThe error is clear, my `TranslationProvider` is in module A, so of course module B can&#39;t find it. But the translation provider should be only for module A and nothing else. How should I go about this? Can I &quot;disable&quot; the system property once I exit from my module? Is there a way for other modules just to ignore it?\r\n\r\n\r\n  [1]: https://vaadin.com/learn/tutorials/i18n/i18nprovider","title":"I18nProvider defined in WAR causes other WARs in web server to crash","body":"<p>I'm using Vaadin 14.5.1 and Wildfly 17. I have several applications deployed in Wildfly. Now I'm implementing internationalization using Vaadin's <code>I18nProvider</code> interface.\nSo I created a <code>TranslationProvider</code> class which implements the interface in module A, and as per <a href=\"https://vaadin.com/learn/tutorials/i18n/i18nprovider\" rel=\"nofollow noreferrer\">this guide</a> I activate it using:</p>\n<p><code>setProperty(&quot;vaadin.i18n.provider&quot;, TranslationProvider.class.getName());</code></p>\n<p>After deployment, if I try to go to module B, it gives an error like:</p>\n<p><code>Caused by: java.lang.ClassNotFoundException: my.module.A.TranslationProvider from [Module &quot;deployment.B.war&quot; from Service Module Loader]</code></p>\n<p>The error is clear, my <code>TranslationProvider</code> is in module A, so of course module B can't find it. But the translation provider should be only for module A and nothing else. How should I go about this? Can I &quot;disable&quot; the system property once I exit from my module? Is there a way for other modules just to ignore it?</p>\n"},{"tags":["java","eclipse","eclipse-rcp","eclipse-jdt"],"comments":[{"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"score":0,"creation_date":1450298840,"post_id":34320848,"comment_id":56385315,"body_markdown":"ICompilationUnit is part of the JDT [Abstract Syntax Tree](http://www.vogella.com/tutorials/EclipseJDT/article.html)","body":"ICompilationUnit is part of the JDT <a href=\"http://www.vogella.com/tutorials/EclipseJDT/article.html\" rel=\"nofollow noreferrer\">Abstract Syntax Tree</a>"}],"answers":[{"tags":[],"owner":{"account_id":4842762,"reputation":3093,"user_id":3907364,"accept_rate":91,"display_name":"Raven"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1450331893,"creation_date":1450331893,"answer_id":34327590,"question_id":34320848,"body_markdown":"You could try to use the [java reflection API][1] to get all the members of this certain class (`YourClass.getMethods()` or `YourClass.getDeclaredMethods()`).  \r\n\r\nTo make it dynamic according to your input you can use `Class.forName(&lt;fullClassName&gt;)` to get the respective class (see [this post][2] for further information about that).  \r\n  \r\nThe problem you might run into is that you have to give the full qualified class name therefore you might have to check the imports to find out in which package you have to search for the respective class but it&#39;s the only way to go with this method.  \r\nSimple names are just not always unique and therefore not suitable for this kind of search (explained [here][3].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/reflect/\r\n  [2]: https://stackoverflow.com/questions/10119956/getting-class-by-its-name\r\n  [3]: https://stackoverflow.com/questions/13215403/finding-a-class-reflectively-by-its-simple-name-alone","title":"Eclipse JDT: how to get data model for Java content assist","body":"<p>You could try to use the <a href=\"https://docs.oracle.com/javase/tutorial/reflect/\" rel=\"nofollow noreferrer\">java reflection API</a> to get all the members of this certain class (<code>YourClass.getMethods()</code> or <code>YourClass.getDeclaredMethods()</code>).  </p>\n\n<p>To make it dynamic according to your input you can use <code>Class.forName(&lt;fullClassName&gt;)</code> to get the respective class (see <a href=\"https://stackoverflow.com/questions/10119956/getting-class-by-its-name\">this post</a> for further information about that).  </p>\n\n<p>The problem you might run into is that you have to give the full qualified class name therefore you might have to check the imports to find out in which package you have to search for the respective class but it's the only way to go with this method.<br>\nSimple names are just not always unique and therefore not suitable for this kind of search (explained <a href=\"https://stackoverflow.com/questions/13215403/finding-a-class-reflectively-by-its-simple-name-alone\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":549364,"reputation":20582,"user_id":2986905,"accept_rate":78,"display_name":"R&#252;diger Herrmann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1450345728,"creation_date":1450345728,"answer_id":34331397,"question_id":34320848,"body_markdown":"It seems that the only option is to create a (temporary) compilation unit, which in turn requires a properly set up Java project. The _infrastructure_ is necessary for JDT to know which JRE is used, which compiler settings are used, etc.\r\n\r\nSee [here](http://www.programcreek.com/2011/05/eclipse-jdt-tutorial-java-model/) how to set up a Java project, and [here](https://stackoverflow.com/questions/11166862/eclipse-create-compilationunit-from-java-file) how to get a compilation unit.\r\n\r\nThe compilation unit would look something like \r\n\r\n    class Foo {\r\n      void bar() {\r\n        java.lang.System.\r\n      }\r\n    }\r\n\r\nand `codeComplete()` would have to be called with an offset that denotes the position right after `System.`.","title":"Eclipse JDT: how to get data model for Java content assist","body":"<p>It seems that the only option is to create a (temporary) compilation unit, which in turn requires a properly set up Java project. The <em>infrastructure</em> is necessary for JDT to know which JRE is used, which compiler settings are used, etc.</p>\n\n<p>See <a href=\"http://www.programcreek.com/2011/05/eclipse-jdt-tutorial-java-model/\" rel=\"nofollow noreferrer\">here</a> how to set up a Java project, and <a href=\"https://stackoverflow.com/questions/11166862/eclipse-create-compilationunit-from-java-file\">here</a> how to get a compilation unit.</p>\n\n<p>The compilation unit would look something like </p>\n\n<pre><code>class Foo {\n  void bar() {\n    java.lang.System.\n  }\n}\n</code></pre>\n\n<p>and <code>codeComplete()</code> would have to be called with an offset that denotes the position right after <code>System.</code>.</p>\n"},{"tags":[],"owner":{"account_id":2174203,"reputation":1767,"user_id":1925327,"display_name":"moritz.vieli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644223542,"creation_date":1644223542,"answer_id":71015645,"question_id":34320848,"body_markdown":"You can use the Eclipse JDT Language Server, which is used by different editors already (e.g. Visual Studio Code, and EMACS):\r\nhttps://github.com/eclipse/eclipse.jdt.ls\r\n\r\nThis way, you&#39;ll be able to provide many JDT features available in the LSP definition (e.g. code completions, references, diagnostics, etc.):\r\nhttps://microsoft.github.io/language-server-protocol/specifications/specification-current/\r\n\r\nThere are bindings for Java available with LSP4J over Maven:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.eclipse.lsp4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;org.eclipse.lsp4j&lt;/artifactId&gt;\r\n        &lt;version&gt;0.12.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nA simple implementation might look like this:\r\n\r\n**ExpressionLanguageClient.java**\r\n\r\n    import org.eclipse.lsp4j.MessageActionItem;\r\n    import org.eclipse.lsp4j.MessageParams;\r\n    import org.eclipse.lsp4j.PublishDiagnosticsParams;\r\n    import org.eclipse.lsp4j.ShowMessageRequestParams;\r\n    import org.eclipse.lsp4j.jsonrpc.services.JsonNotification;\r\n    import org.eclipse.lsp4j.services.LanguageClient;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n\r\n    import java.util.concurrent.CompletableFuture;\r\n\r\n    public class ExpressionLanguageClient implements LanguageClient {\r\n\r\n        private final static Logger logger = LoggerFactory.getLogger(ExpressionLanguageClient.class);\r\n\r\n        final private ExpressionCodeAssistantService expressionCodeAssistantService;\r\n\r\n        public ExpressionLanguageClient(ExpressionCodeAssistantService expressionCodeAssistantService) {\r\n            this.expressionCodeAssistantService = expressionCodeAssistantService;\r\n        }\r\n\r\n        @Override\r\n        public void telemetryEvent(Object o) {\r\n            // TODO\r\n            logger.info(&quot;Expression LSP telemetry: &quot; + o);\r\n        }\r\n\r\n        @Override\r\n        public void publishDiagnostics(PublishDiagnosticsParams publishDiagnosticsParams) {\r\n            // TODO\r\n            logger.info(&quot;Expression LSP diagnostics: &quot; + publishDiagnosticsParams);\r\n        }\r\n\r\n        @Override\r\n        public void showMessage(MessageParams messageParams) {\r\n            // TODO\r\n            logger.info(&quot;Expression LSP show message: &quot; + messageParams);\r\n        }\r\n\r\n        @Override\r\n        public CompletableFuture&lt;MessageActionItem&gt; showMessageRequest(ShowMessageRequestParams showMessageRequestParams) {\r\n            return null;\r\n        }\r\n\r\n        @Override\r\n        public void logMessage(MessageParams messageParams) {\r\n            expressionCodeAssistantService.lspLogMessage(messageParams.getMessage());\r\n        }\r\n\r\n        @JsonNotification(&quot;language/status&quot;)\r\n        public void languageStatus(Object o) {\r\n            // avoid unsupported notification warnings\r\n        }\r\n    }\r\n\r\n\r\n**CodeAssistantService.java**\r\n\r\n    // start the Eclipse JDT LS required for the code assistant features\r\n    try {\r\n        String[] command = new String[]{\r\n                &quot;java&quot;,\r\n                &quot;-Declipse.application=org.eclipse.jdt.ls.core.id1&quot;,\r\n                &quot;-Dosgi.bundles.defaultStartLevel=4&quot;,\r\n                &quot;-Declipse.product=org.eclipse.jdt.ls.core.product&quot;,\r\n                &quot;-Dlog.level=ALL&quot;,\r\n                &quot;-noverify&quot;,\r\n                &quot;-Xmx1G&quot;,\r\n                &quot;-jar&quot;,\r\n                &quot;.../eclipse.jdt.ls/org.eclipse.jdt.ls.product/target/repository/plugins/org.eclipse.equinox.launcher_1.6.400.v20210924-0641.jar&quot;,\r\n                &quot;-configuration&quot;,\r\n                &quot;.../eclipse.jdt.ls/org.eclipse.jdt.ls.product/target/repository/config_linux&quot;,\r\n                &quot;-data&quot;,\r\n                &quot;...&quot;,\r\n                &quot;--add-modules=ALL-SYSTEM&quot;,\r\n                &quot;--add-opens java.base/java.util=ALL-UNNAMED&quot;,\r\n                &quot;--add-opens java.base/java.lang=ALL-UNNAMED&quot;\r\n        };\r\n\r\n        Process process = new ProcessBuilder(command)\r\n                .redirectErrorStream(true)\r\n                .start();\r\n\r\n        ExpressionLanguageClient expressionLanguageClient = new ExpressionLanguageClient(this);\r\n\r\n        launcher = LSPLauncher.createClientLauncher(\r\n                expressionLanguageClient,\r\n                process.getInputStream(),\r\n                process.getOutputStream()\r\n        );\r\n        launcher.startListening();\r\n    } catch (Exception e) {\r\n        logger.error(&quot;Could not start the language server&quot;, e);\r\n    }\r\n\r\nBe sure to customize the commands where necessary (paths and config_mac/linux/windows).\r\n\r\nAs soon as the language server is running (maybe listen for a log message), you need to call the init event (be sure to call from a separate thread, if you call it from the language client, because it would cause a deadlock otherwise):\r\n\r\n    InitializeParams initializeParams = new InitializeParams();\r\n    initializeParams.setProcessId(((int) ProcessHandle.current().pid()));\r\n\r\n    // workspace folders are read from the initialization options, not from the param\r\n    List&lt;String&gt; workspaceFolders = new ArrayList&lt;&gt;();\r\n    workspaceFolders.add(&quot;file:&quot; + getTempDirectory());\r\n\r\n    Map&lt;String, Object&gt; initializationOptions = new HashMap&lt;&gt;();\r\n    initializationOptions.put(&quot;workspaceFolders&quot;, workspaceFolders);\r\n    initializeParams.setInitializationOptions(initializationOptions);\r\n\r\n    CompletableFuture&lt;InitializeResult&gt; init = launcher.getRemoteProxy().initialize(initializeParams);\r\n    try {\r\n        init.get();\r\n        logger.info(&quot;LSP initialized&quot;);\r\n    } catch (Exception e) {\r\n        logger.error(&quot;Could not initialize LSP server&quot;, e);\r\n    }\r\n\r\nNow, you&#39;re able to get code completions like this:\r\n\r\n    TextDocumentItem textDocumentItem = new TextDocumentItem();\r\n    textDocumentItem.setText(isolatedCodeResult.getCode());\r\n    textDocumentItem.setUri(&quot;file:&quot; + dummyFilePath);\r\n    textDocumentItem.setLanguageId(&quot;java&quot;);\r\n\r\n    DidOpenTextDocumentParams didOpenTextDocumentParams = new DidOpenTextDocumentParams();\r\n    didOpenTextDocumentParams.setTextDocument(textDocumentItem);\r\n    launcher.getRemoteProxy().getTextDocumentService().didOpen(didOpenTextDocumentParams);\r\n\r\n    TextDocumentIdentifier textDocumentIdentifier = new TextDocumentIdentifier();\r\n    textDocumentIdentifier.setUri(&quot;file:&quot; + dummyFilePath);\r\n\r\n    CompletionParams completionParams = new CompletionParams();\r\n    completionParams.setPosition(new Position(line + lineOffset, column));\r\n    completionParams.setTextDocument(textDocumentIdentifier);\r\n\r\n    CompletableFuture&lt;Either&lt;List&lt;CompletionItem&gt;, CompletionList&gt;&gt; completion =\r\n            launcher.getRemoteProxy().getTextDocumentService().completion(completionParams);\r\n\r\n    logger.info(&quot;Found completions: &quot; + completion.get().getRight().getItems());\r\n\r\nMake sure, the dummyFilePath is a an existing java file. The content does not matter, but it needs to exist in order for the JDT LS to work.\r\n\r\nI am not sure, whether it would be better to always sync the source files with the language server. Maybe this would be faster, especially for large projects. If you just need content assistant features for minor source files, the provided example should be sufficient.","title":"Eclipse JDT: how to get data model for Java content assist","body":"<p>You can use the Eclipse JDT Language Server, which is used by different editors already (e.g. Visual Studio Code, and EMACS):\n<a href=\"https://github.com/eclipse/eclipse.jdt.ls\" rel=\"nofollow noreferrer\">https://github.com/eclipse/eclipse.jdt.ls</a></p>\n<p>This way, you'll be able to provide many JDT features available in the LSP definition (e.g. code completions, references, diagnostics, etc.):\n<a href=\"https://microsoft.github.io/language-server-protocol/specifications/specification-current/\" rel=\"nofollow noreferrer\">https://microsoft.github.io/language-server-protocol/specifications/specification-current/</a></p>\n<p>There are bindings for Java available with LSP4J over Maven:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.eclipse.lsp4j&lt;/groupId&gt;\n    &lt;artifactId&gt;org.eclipse.lsp4j&lt;/artifactId&gt;\n    &lt;version&gt;0.12.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>A simple implementation might look like this:</p>\n<p><strong>ExpressionLanguageClient.java</strong></p>\n<pre><code>import org.eclipse.lsp4j.MessageActionItem;\nimport org.eclipse.lsp4j.MessageParams;\nimport org.eclipse.lsp4j.PublishDiagnosticsParams;\nimport org.eclipse.lsp4j.ShowMessageRequestParams;\nimport org.eclipse.lsp4j.jsonrpc.services.JsonNotification;\nimport org.eclipse.lsp4j.services.LanguageClient;\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport java.util.concurrent.CompletableFuture;\n\npublic class ExpressionLanguageClient implements LanguageClient {\n\n    private final static Logger logger = LoggerFactory.getLogger(ExpressionLanguageClient.class);\n\n    final private ExpressionCodeAssistantService expressionCodeAssistantService;\n\n    public ExpressionLanguageClient(ExpressionCodeAssistantService expressionCodeAssistantService) {\n        this.expressionCodeAssistantService = expressionCodeAssistantService;\n    }\n\n    @Override\n    public void telemetryEvent(Object o) {\n        // TODO\n        logger.info(&quot;Expression LSP telemetry: &quot; + o);\n    }\n\n    @Override\n    public void publishDiagnostics(PublishDiagnosticsParams publishDiagnosticsParams) {\n        // TODO\n        logger.info(&quot;Expression LSP diagnostics: &quot; + publishDiagnosticsParams);\n    }\n\n    @Override\n    public void showMessage(MessageParams messageParams) {\n        // TODO\n        logger.info(&quot;Expression LSP show message: &quot; + messageParams);\n    }\n\n    @Override\n    public CompletableFuture&lt;MessageActionItem&gt; showMessageRequest(ShowMessageRequestParams showMessageRequestParams) {\n        return null;\n    }\n\n    @Override\n    public void logMessage(MessageParams messageParams) {\n        expressionCodeAssistantService.lspLogMessage(messageParams.getMessage());\n    }\n\n    @JsonNotification(&quot;language/status&quot;)\n    public void languageStatus(Object o) {\n        // avoid unsupported notification warnings\n    }\n}\n</code></pre>\n<p><strong>CodeAssistantService.java</strong></p>\n<pre><code>// start the Eclipse JDT LS required for the code assistant features\ntry {\n    String[] command = new String[]{\n            &quot;java&quot;,\n            &quot;-Declipse.application=org.eclipse.jdt.ls.core.id1&quot;,\n            &quot;-Dosgi.bundles.defaultStartLevel=4&quot;,\n            &quot;-Declipse.product=org.eclipse.jdt.ls.core.product&quot;,\n            &quot;-Dlog.level=ALL&quot;,\n            &quot;-noverify&quot;,\n            &quot;-Xmx1G&quot;,\n            &quot;-jar&quot;,\n            &quot;.../eclipse.jdt.ls/org.eclipse.jdt.ls.product/target/repository/plugins/org.eclipse.equinox.launcher_1.6.400.v20210924-0641.jar&quot;,\n            &quot;-configuration&quot;,\n            &quot;.../eclipse.jdt.ls/org.eclipse.jdt.ls.product/target/repository/config_linux&quot;,\n            &quot;-data&quot;,\n            &quot;...&quot;,\n            &quot;--add-modules=ALL-SYSTEM&quot;,\n            &quot;--add-opens java.base/java.util=ALL-UNNAMED&quot;,\n            &quot;--add-opens java.base/java.lang=ALL-UNNAMED&quot;\n    };\n\n    Process process = new ProcessBuilder(command)\n            .redirectErrorStream(true)\n            .start();\n\n    ExpressionLanguageClient expressionLanguageClient = new ExpressionLanguageClient(this);\n\n    launcher = LSPLauncher.createClientLauncher(\n            expressionLanguageClient,\n            process.getInputStream(),\n            process.getOutputStream()\n    );\n    launcher.startListening();\n} catch (Exception e) {\n    logger.error(&quot;Could not start the language server&quot;, e);\n}\n</code></pre>\n<p>Be sure to customize the commands where necessary (paths and config_mac/linux/windows).</p>\n<p>As soon as the language server is running (maybe listen for a log message), you need to call the init event (be sure to call from a separate thread, if you call it from the language client, because it would cause a deadlock otherwise):</p>\n<pre><code>InitializeParams initializeParams = new InitializeParams();\ninitializeParams.setProcessId(((int) ProcessHandle.current().pid()));\n\n// workspace folders are read from the initialization options, not from the param\nList&lt;String&gt; workspaceFolders = new ArrayList&lt;&gt;();\nworkspaceFolders.add(&quot;file:&quot; + getTempDirectory());\n\nMap&lt;String, Object&gt; initializationOptions = new HashMap&lt;&gt;();\ninitializationOptions.put(&quot;workspaceFolders&quot;, workspaceFolders);\ninitializeParams.setInitializationOptions(initializationOptions);\n\nCompletableFuture&lt;InitializeResult&gt; init = launcher.getRemoteProxy().initialize(initializeParams);\ntry {\n    init.get();\n    logger.info(&quot;LSP initialized&quot;);\n} catch (Exception e) {\n    logger.error(&quot;Could not initialize LSP server&quot;, e);\n}\n</code></pre>\n<p>Now, you're able to get code completions like this:</p>\n<pre><code>TextDocumentItem textDocumentItem = new TextDocumentItem();\ntextDocumentItem.setText(isolatedCodeResult.getCode());\ntextDocumentItem.setUri(&quot;file:&quot; + dummyFilePath);\ntextDocumentItem.setLanguageId(&quot;java&quot;);\n\nDidOpenTextDocumentParams didOpenTextDocumentParams = new DidOpenTextDocumentParams();\ndidOpenTextDocumentParams.setTextDocument(textDocumentItem);\nlauncher.getRemoteProxy().getTextDocumentService().didOpen(didOpenTextDocumentParams);\n\nTextDocumentIdentifier textDocumentIdentifier = new TextDocumentIdentifier();\ntextDocumentIdentifier.setUri(&quot;file:&quot; + dummyFilePath);\n\nCompletionParams completionParams = new CompletionParams();\ncompletionParams.setPosition(new Position(line + lineOffset, column));\ncompletionParams.setTextDocument(textDocumentIdentifier);\n\nCompletableFuture&lt;Either&lt;List&lt;CompletionItem&gt;, CompletionList&gt;&gt; completion =\n        launcher.getRemoteProxy().getTextDocumentService().completion(completionParams);\n\nlogger.info(&quot;Found completions: &quot; + completion.get().getRight().getItems());\n</code></pre>\n<p>Make sure, the dummyFilePath is a an existing java file. The content does not matter, but it needs to exist in order for the JDT LS to work.</p>\n<p>I am not sure, whether it would be better to always sync the source files with the language server. Maybe this would be faster, especially for large projects. If you just need content assistant features for minor source files, the provided example should be sufficient.</p>\n"}],"owner":{"account_id":5821747,"reputation":601,"user_id":4589588,"accept_rate":61,"display_name":"CMZS"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":382,"favorite_count":0,"down_vote_count":1,"up_vote_count":7,"answer_count":3,"score":6,"last_activity_date":1644223542,"creation_date":1450295440,"question_id":34320848,"body_markdown":"When writing Java code on Eclipse IDE, press &lt;kbd&gt;Control + Space&lt;/kbd&gt; will pop up the content assist window.  \r\nFor example, the content assist window for `System.` will list all the available fields and methods for class System.  \r\n\r\nI need to access the &quot;data model&quot; for the content assist window by code.  \r\nUsing the above example, it is: given the class name `System`, how can I retrieve all the available fields and methods?  \r\nI spent some time on the source code of these three classes on grepcode.com:\r\n\r\n    org.eclipse.jdt.ui.text.java.JavaContentAssistInvocationContext\r\n    org.eclipse.jdt.internal.ui.text.java.JavaCompletionProposalComputer\r\n    org.eclipse.jdt.ui.text.java.CompletionProposalCollector\r\n \r\nIt looks like the an `ICompilationUnit` instance is used to provide the fields and method names.  \r\n\r\nThen I don&#39;t understand how to generate the `ICompilationUnit` instance for a class in jre system library or third party library? Or if I didn&#39;t read the code in a correct way, then how did the program find fields and methods name? (I don&#39;t need to worry about the offset and UI stuff, just the &quot;data model&quot; part).\r\n","title":"Eclipse JDT: how to get data model for Java content assist","body":"<p>When writing Java code on Eclipse IDE, press <kbd>Control + Space</kbd> will pop up the content assist window.<br>\nFor example, the content assist window for <code>System.</code> will list all the available fields and methods for class System.  </p>\n\n<p>I need to access the \"data model\" for the content assist window by code.<br>\nUsing the above example, it is: given the class name <code>System</code>, how can I retrieve all the available fields and methods?<br>\nI spent some time on the source code of these three classes on grepcode.com:</p>\n\n<pre><code>org.eclipse.jdt.ui.text.java.JavaContentAssistInvocationContext\norg.eclipse.jdt.internal.ui.text.java.JavaCompletionProposalComputer\norg.eclipse.jdt.ui.text.java.CompletionProposalCollector\n</code></pre>\n\n<p>It looks like the an <code>ICompilationUnit</code> instance is used to provide the fields and method names.  </p>\n\n<p>Then I don't understand how to generate the <code>ICompilationUnit</code> instance for a class in jre system library or third party library? Or if I didn't read the code in a correct way, then how did the program find fields and methods name? (I don't need to worry about the offset and UI stuff, just the \"data model\" part).</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1644222143,"post_id":71015397,"comment_id":125538101,"body_markdown":"Why do you have a common `BeanInjectionService` interface? `SessionServiceImpl` needs an instance of `SessionService` because the parent defines it so -&gt; somewhat cyclic dependency, where the error might occur","body":"Why do you have a common <code>BeanInjectionService</code> interface? <code>SessionServiceImpl</code> needs an instance of <code>SessionService</code> because the parent defines it so -&gt; somewhat cyclic dependency, where the error might occur"},{"owner":{"account_id":8712968,"reputation":312,"user_id":6518591,"display_name":"Abhinav Pandey"},"score":0,"creation_date":1644222353,"post_id":71015397,"comment_id":125538168,"body_markdown":"Does your `SessionServiceImpl` have a `@Service` annotation?","body":"Does your <code>SessionServiceImpl</code> have a <code>@Service</code> annotation?"},{"owner":{"account_id":18957495,"reputation":3,"user_id":13833771,"display_name":"Bala Kiran"},"score":0,"creation_date":1644222404,"post_id":71015397,"comment_id":125538185,"body_markdown":"BeanInjectionService is a class where we have all sesionRepository and sessionService variable are defined once and used every where.","body":"BeanInjectionService is a class where we have all sesionRepository and sessionService variable are defined once and used every where."},{"owner":{"account_id":18957495,"reputation":3,"user_id":13833771,"display_name":"Bala Kiran"},"score":0,"creation_date":1644222439,"post_id":71015397,"comment_id":125538197,"body_markdown":"@AbhinavPandey tried it getting circular error","body":"@AbhinavPandey tried it getting circular error"},{"owner":{"account_id":18957495,"reputation":3,"user_id":13833771,"display_name":"Bala Kiran"},"score":0,"creation_date":1644222626,"post_id":71015397,"comment_id":125538256,"body_markdown":"When i tried removing @autowired to sessionService and running when accessing the route its saying sessionService is **null**","body":"When i tried removing @autowired to sessionService and running when accessing the route its saying sessionService is <b>null</b>"},{"owner":{"account_id":18957495,"reputation":3,"user_id":13833771,"display_name":"Bala Kiran"},"score":0,"creation_date":1644222969,"post_id":71015397,"comment_id":125538345,"body_markdown":"**ERROR**\n   sessionController (field public com.example.conferencedemo.services.SessionService com.example.conferencedemo.services.BeanInjectionService.sessionService)\n┌─────┐\n|  sessionServiceImpl (field public com.example.conferencedemo.services.SessionService com.example.conferencedemo.services.BeanInjectionService.sessionService)\n└─────┘\nRelying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans.","body":"<b>ERROR</b>    sessionController (field public com.example.conferencedemo.services.SessionService com.example.conferencedemo.services.BeanInjectionService.ses&zwnj;&#8203;sionService) ┌─────┐ |  sessionServiceImpl (field public com.example.conferencedemo.services.SessionService com.example.conferencedemo.services.BeanInjectionService.ses&zwnj;&#8203;sionService) └─────┘ Relying upon circular references is discouraged and they are prohibited by default. Update your application to remove the dependency cycle between beans."}],"answers":[{"tags":[],"owner":{"account_id":8712968,"reputation":312,"user_id":6518591,"display_name":"Abhinav Pandey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644223227,"creation_date":1644223227,"answer_id":71015591,"question_id":71015397,"body_markdown":"I find using `BeanInjectionService` a little weird, but I&#39;ll answer around it.\r\n\r\n1. Unless you add `@Service` on `SessionServiceImpl`, you can&#39;t autowire it.\r\n2. **Circular dependency** - If you do step 1, it will create a circular dependency because `SessionServiceImpl` needs its superclass object(`BeanInjectionService`) to be created first. But `BeanInjectionService` cannot be created unless it finds an object of `SessionServiceImpl`.\r\n3. To break the circular dependency, you have only one option. Don&#39;t extend `BeanInjectionService`. Rather, autowire `SessionRepository` directly into `SessionServiceImpl`.\r\n\r\n```java\r\n@Service\r\npublic class SessionServiceImpl  implements SessionService {\r\n\r\n    @Autowired\r\n    private SessionRepository sessionRepository;\r\n\r\n    @Override\r\n    public List&lt;Session&gt; findAll(){\r\n        return sessionRepository.findAll();\r\n    }\r\n}\r\n```\r\n","title":"Consider defining a bean of type &#39;com.example.conferencedemo.services.SessionService&#39; in your configuration","body":"<p>I find using <code>BeanInjectionService</code> a little weird, but I'll answer around it.</p>\n<ol>\n<li>Unless you add <code>@Service</code> on <code>SessionServiceImpl</code>, you can't autowire it.</li>\n<li><strong>Circular dependency</strong> - If you do step 1, it will create a circular dependency because <code>SessionServiceImpl</code> needs its superclass object(<code>BeanInjectionService</code>) to be created first. But <code>BeanInjectionService</code> cannot be created unless it finds an object of <code>SessionServiceImpl</code>.</li>\n<li>To break the circular dependency, you have only one option. Don't extend <code>BeanInjectionService</code>. Rather, autowire <code>SessionRepository</code> directly into <code>SessionServiceImpl</code>.</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>@Service\npublic class SessionServiceImpl  implements SessionService {\n\n    @Autowired\n    private SessionRepository sessionRepository;\n\n    @Override\n    public List&lt;Session&gt; findAll(){\n        return sessionRepository.findAll();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":18957495,"reputation":3,"user_id":13833771,"display_name":"Bala Kiran"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":392,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71015591,"answer_count":1,"score":0,"last_activity_date":1644223227,"creation_date":1644222005,"question_id":71015397,"body_markdown":"I am trying to implement as of enterprise level, there they have folders like **Repository**,**Service**,**ServiceImpl**\r\n1. In Services they have interface with method declaration\r\n2. In ServiceImpl they have class implementing the interface of services\r\n3. In Repository they have all Repository interfaces\r\n4. BeanInjection is a class where we have all repositories and service classes and interfaces with\r\n**@Autowired** annotation.\r\n5. When I tried to implement &quot;@Autowired&quot; to service class getting this Error. \r\n\r\n1. Tried this no help [link](https://stackoverflow.com/questions/40384056/consider-defining-a-bean-of-type-package-in-your-configuration-spring-boot)\r\n\r\n2. Tried this no help but getting loop error  [link](https://stackoverflow.com/questions/10604298/spring-component-versus-bean)\r\n\r\n**Controller.java**\r\n\r\n```\r\npublic class SessionController extends BeanInjectionService {\r\n\r\n    @GetMapping\r\n    public ResponseEntity&lt;List&lt;Session&gt;&gt; list(){\r\n        LOGGER.info(&quot;Request received to view the sessions&quot;);\r\n        List&lt;Session&gt; sessions = sessionService.findAll();\r\n        LOGGER.info(&quot;Successfully fetched all the sessions&quot;);\r\n        return new ResponseEntity&lt;&gt;(sessions, HttpStatus.OK);\r\n    }\r\n```\r\n\r\n\r\n**SessionService.java(Interface)**\r\n\r\n```\r\npublic interface SessionService {\r\n\r\n    List&lt;Session&gt; findAll();\r\n}\r\n\r\n\r\n```\r\n\r\n**SessionServiceImpl.java(Class)**\r\n\r\n```\r\npublic class SessionServiceImpl  extends BeanInjectionService implements SessionService {\r\n\r\n    @Override\r\n    public List&lt;Session&gt; findAll(){\r\n        return sessionRepository.findAll();\r\n    }\r\n```\r\n\r\n**BeanInjectionService.java(Class)**\r\n\r\n```\r\n\r\npublic class BeanInjectionService {\r\n\r\n    @Autowired\r\n    public SessionRepository sessionRepository;\r\n\r\n    **// Error Showing here while starting application\r\n    // Consider defining a bean of type &#39;com.example.conferencedemo.services.SessionService&#39; in your configuration.**\r\n    @Autowired\r\n    public SessionService sessionService;\r\n\r\n    @Autowired\r\n    public SpeakerRepository speakerRepository;\r\n\r\n    @Autowired\r\n    public SpeakerService speakerService;\r\n\r\n}\r\n```\r\n\r\n**SessionRepository.java(Interface)**\r\n\r\n```\r\npublic interface SessionRepository extends JpaRepository&lt;Session,Long&gt; {\r\n\r\n}\r\n```\r\n\r\n\r\n**Thanks in advance**","title":"Consider defining a bean of type &#39;com.example.conferencedemo.services.SessionService&#39; in your configuration","body":"<p>I am trying to implement as of enterprise level, there they have folders like <strong>Repository</strong>,<strong>Service</strong>,<strong>ServiceImpl</strong></p>\n<ol>\n<li><p>In Services they have interface with method declaration</p>\n</li>\n<li><p>In ServiceImpl they have class implementing the interface of services</p>\n</li>\n<li><p>In Repository they have all Repository interfaces</p>\n</li>\n<li><p>BeanInjection is a class where we have all repositories and service classes and interfaces with\n<strong>@Autowired</strong> annotation.</p>\n</li>\n<li><p>When I tried to implement &quot;@Autowired&quot; to service class getting this Error.</p>\n</li>\n<li><p>Tried this no help <a href=\"https://stackoverflow.com/questions/40384056/consider-defining-a-bean-of-type-package-in-your-configuration-spring-boot\">link</a></p>\n</li>\n<li><p>Tried this no help but getting loop error  <a href=\"https://stackoverflow.com/questions/10604298/spring-component-versus-bean\">link</a></p>\n</li>\n</ol>\n<p><strong>Controller.java</strong></p>\n<pre><code>public class SessionController extends BeanInjectionService {\n\n    @GetMapping\n    public ResponseEntity&lt;List&lt;Session&gt;&gt; list(){\n        LOGGER.info(&quot;Request received to view the sessions&quot;);\n        List&lt;Session&gt; sessions = sessionService.findAll();\n        LOGGER.info(&quot;Successfully fetched all the sessions&quot;);\n        return new ResponseEntity&lt;&gt;(sessions, HttpStatus.OK);\n    }\n</code></pre>\n<p><strong>SessionService.java(Interface)</strong></p>\n<pre><code>public interface SessionService {\n\n    List&lt;Session&gt; findAll();\n}\n\n\n</code></pre>\n<p><strong>SessionServiceImpl.java(Class)</strong></p>\n<pre><code>public class SessionServiceImpl  extends BeanInjectionService implements SessionService {\n\n    @Override\n    public List&lt;Session&gt; findAll(){\n        return sessionRepository.findAll();\n    }\n</code></pre>\n<p><strong>BeanInjectionService.java(Class)</strong></p>\n<pre><code>\npublic class BeanInjectionService {\n\n    @Autowired\n    public SessionRepository sessionRepository;\n\n    **// Error Showing here while starting application\n    // Consider defining a bean of type 'com.example.conferencedemo.services.SessionService' in your configuration.**\n    @Autowired\n    public SessionService sessionService;\n\n    @Autowired\n    public SpeakerRepository speakerRepository;\n\n    @Autowired\n    public SpeakerService speakerService;\n\n}\n</code></pre>\n<p><strong>SessionRepository.java(Interface)</strong></p>\n<pre><code>public interface SessionRepository extends JpaRepository&lt;Session,Long&gt; {\n\n}\n</code></pre>\n<p><strong>Thanks in advance</strong></p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":8803777,"reputation":2946,"user_id":6579116,"accept_rate":27,"display_name":"Pirate"},"score":0,"creation_date":1644223263,"post_id":71015557,"comment_id":125538428,"body_markdown":"you are closing connection only when customer list is not empty. If the customer list is empty, you are opening connection but not closing.","body":"you are closing connection only when customer list is not empty. If the customer list is empty, you are opening connection but not closing."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1644227171,"post_id":71015557,"comment_id":125539800,"body_markdown":"You aren&#39;t showing what happens if this method throws an `SQLException` on `commit()` or `close()`, or that that only one instance of this class can exist, and if that is the case it shouldn&#39;t be. In general `Connection` objects should be local variables closed by a `finally` block or a try-with-resources` block, not class members. That way they cannot survive the method they are created in.","body":"You aren&#39;t showing what happens if this method throws an <code>SQLException</code> on <code>commit()</code> or <code>close()</code>, or that that only one instance of this class can exist, and if that is the case it shouldn&#39;t be. In general <code>Connection</code> objects should be local variables closed by a <code>finally</code> block or a try-with-resources` block, not class members. That way they cannot survive the method they are created in."},{"owner":{"account_id":5600783,"reputation":41,"user_id":8582055,"display_name":"Mohammad"},"score":0,"creation_date":1644232188,"post_id":71015557,"comment_id":125541654,"body_markdown":"juts one object of this class is created on the main method and SQLException  just has been thrown to the main method \n, Can we say if we have just one connection object we will have just one socket connection to the database?","body":"juts one object of this class is created on the main method and SQLException  just has been thrown to the main method  , Can we say if we have just one connection object we will have just one socket connection to the database?"}],"owner":{"account_id":5600783,"reputation":41,"user_id":8582055,"display_name":"Mohammad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644222941,"creation_date":1644222941,"question_id":71015557,"body_markdown":"I just created one JDBC connection object, and I got too many connection errors while inserting data into the database. I tried to find the cause in a different thread, but as far as I see, the &quot;too many connections&quot; error is caused by not closing the old connection and creating the new one.\r\n\r\n    public class LoadToDB {\r\n        Connection conn;\r\n    \r\n        public LoadToDB(String url, String user, String password) {\r\n            try {\r\n                conn = DriverManager.getConnection(url, user, password);\r\n                conn.setAutoCommit(true);\r\n            } catch (SQLException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n    static final String insertCustomer = &quot;INSERT INTO bank_customer (&quot; +\r\n                &quot;CUSTOMER_ID, &quot; +\r\n                &quot;CUSTOMER_NAME, &quot; +\r\n                &quot;CUSTOMER_SURNAME, &quot; +\r\n                &quot;CUSTOMER_ADDRESS, &quot; +\r\n                &quot;CUSTOMER_ZIP_CODE, &quot; +\r\n                &quot;CUSTOMER_NATIONAL_ID, &quot; +\r\n                &quot;CUSTOMER_BIRTH_DATE ) &quot; +\r\n                &quot;values (?, ?, ?, ?, ?, ?, ?)&quot;;\r\n    \r\n    \r\n    public boolean insertCustomer(List&lt;Customer&gt; customerList) throws SQLException {\r\n            int row = 0;\r\n            for (Customer customer : customerList) {\r\n                try {\r\n                    PreparedStatement insertCustomerStatement = conn.prepareStatement(insertCustomer);\r\n                    insertCustomerStatement.setString(1, String.valueOf(customer.getCustomerID()));\r\n                    insertCustomerStatement.setString(2, customer.getCustomerName());\r\n                    insertCustomerStatement.setString(3, customer.getCustomerSurname());\r\n                    insertCustomerStatement.setString(4, customer.getCustomerAddress());\r\n                    insertCustomerStatement.setString(5, customer.getCustomerZipCode());\r\n                    insertCustomerStatement.setString(6, String.valueOf(customer.getCustomerNationalID()));\r\n                    insertCustomerStatement.setString(7, new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(customer.getCustomerBirthDate()));\r\n    \r\n                    row += insertCustomerStatement.executeUpdate();\r\n    \r\n                } catch (SQLException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            if (row &gt; 0) {\r\n                System.out.println(row + &quot; Customers was inserted&quot;);\r\n            }\r\n                        conn.commit();\r\n    conn.close();\r\n            return true;\r\n        }\r\n    \r\n    }","title":"create one jdbc onnection object but got too many connection","body":"<p>I just created one JDBC connection object, and I got too many connection errors while inserting data into the database. I tried to find the cause in a different thread, but as far as I see, the &quot;too many connections&quot; error is caused by not closing the old connection and creating the new one.</p>\n<pre><code>public class LoadToDB {\n    Connection conn;\n\n    public LoadToDB(String url, String user, String password) {\n        try {\n            conn = DriverManager.getConnection(url, user, password);\n            conn.setAutoCommit(true);\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n\nstatic final String insertCustomer = &quot;INSERT INTO bank_customer (&quot; +\n            &quot;CUSTOMER_ID, &quot; +\n            &quot;CUSTOMER_NAME, &quot; +\n            &quot;CUSTOMER_SURNAME, &quot; +\n            &quot;CUSTOMER_ADDRESS, &quot; +\n            &quot;CUSTOMER_ZIP_CODE, &quot; +\n            &quot;CUSTOMER_NATIONAL_ID, &quot; +\n            &quot;CUSTOMER_BIRTH_DATE ) &quot; +\n            &quot;values (?, ?, ?, ?, ?, ?, ?)&quot;;\n\n\npublic boolean insertCustomer(List&lt;Customer&gt; customerList) throws SQLException {\n        int row = 0;\n        for (Customer customer : customerList) {\n            try {\n                PreparedStatement insertCustomerStatement = conn.prepareStatement(insertCustomer);\n                insertCustomerStatement.setString(1, String.valueOf(customer.getCustomerID()));\n                insertCustomerStatement.setString(2, customer.getCustomerName());\n                insertCustomerStatement.setString(3, customer.getCustomerSurname());\n                insertCustomerStatement.setString(4, customer.getCustomerAddress());\n                insertCustomerStatement.setString(5, customer.getCustomerZipCode());\n                insertCustomerStatement.setString(6, String.valueOf(customer.getCustomerNationalID()));\n                insertCustomerStatement.setString(7, new SimpleDateFormat(&quot;yyyy-MM-dd&quot;).format(customer.getCustomerBirthDate()));\n\n                row += insertCustomerStatement.executeUpdate();\n\n            } catch (SQLException e) {\n                e.printStackTrace();\n            }\n        }\n        if (row &gt; 0) {\n            System.out.println(row + &quot; Customers was inserted&quot;);\n        }\n                    conn.commit();\nconn.close();\n        return true;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","java-8","option-type"],"comments":[{"owner":{"account_id":7226774,"reputation":19717,"user_id":5515060,"accept_rate":100,"display_name":"Lino"},"score":0,"creation_date":1644222999,"post_id":71015537,"comment_id":125538352,"body_markdown":"*What* is the exact error your getting?","body":"<i>What</i> is the exact error your getting?"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1644223561,"post_id":71015537,"comment_id":125538536,"body_markdown":"It&#39;s a similar issue to this one: https://stackoverflow.com/questions/24436871/very-confused-by-java-8-comparator-type-inference","body":"It&#39;s a similar issue to this one: <a href=\"https://stackoverflow.com/questions/24436871/very-confused-by-java-8-comparator-type-inference\" title=\"very confused by java 8 comparator type inference\">stackoverflow.com/questions/24436871/&hellip;</a>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1644228080,"post_id":71015537,"comment_id":125540127,"body_markdown":"Type inference with wildcard types is rather weird. When you use `Optional.&lt;List&lt;?&gt;&gt; ofNullable(nullableList).orElse(another);`, it will work.","body":"Type inference with wildcard types is rather weird. When you use <code>Optional.&lt;List&lt;?&gt;&gt; ofNullable(nullableList).orElse(another);</code>, it will work."},{"owner":{"account_id":7705017,"reputation":43,"user_id":5836232,"display_name":"clembo590"},"score":0,"creation_date":1644954743,"post_id":71015537,"comment_id":125741074,"body_markdown":"Thank you for your comments. They indeed helped me.","body":"Thank you for your comments. They indeed helped me."}],"owner":{"account_id":7705017,"reputation":43,"user_id":5836232,"display_name":"clembo590"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644222829,"creation_date":1644222829,"question_id":71015537,"body_markdown":"Here is a piece of code that shows a compilation error that I cannot really explain.\r\n\r\n\r\n    List&lt;?&gt; another = new ArrayList&lt;&gt;();\r\n    List&lt;?&gt; nullableList = null;\r\n\r\n    // this Actually works\r\n    Optional&lt;List&lt;?&gt;&gt; a2 = Optional.ofNullable(nullableList);\r\n    List&lt;?&gt; result = a2.orElse(another);\r\n\r\n    // THIS IS NOT ALLOWED!!!! COMPILATION ERROR\r\n    Optional.ofNullable(nullableList).orElse(another);\r\n\r\n\r\nThis is the description of Optional.ofNullable\r\n\r\n    @SuppressWarnings(&quot;unchecked&quot;)\r\n    public static &lt;T&gt; Optional&lt;T&gt; ofNullable(T value) {\r\n        return value == null ? (Optional&lt;T&gt;) EMPTY\r\n                             : new Optional&lt;&gt;(value);\r\n    }\r\n\r\nIn our case, T should be `List&lt;?&gt;` so why is it not allowed to do `Optional.ofNullable(nullableList).orElse(another);`\r\n\r\n\r\nIf anybody can explain why the &quot;two steps&quot; is allowed and why the &quot;one step&quot; is not, that would make my day. Thank you.","title":"java 8 optional generic strange compilation error","body":"<p>Here is a piece of code that shows a compilation error that I cannot really explain.</p>\n<pre><code>List&lt;?&gt; another = new ArrayList&lt;&gt;();\nList&lt;?&gt; nullableList = null;\n\n// this Actually works\nOptional&lt;List&lt;?&gt;&gt; a2 = Optional.ofNullable(nullableList);\nList&lt;?&gt; result = a2.orElse(another);\n\n// THIS IS NOT ALLOWED!!!! COMPILATION ERROR\nOptional.ofNullable(nullableList).orElse(another);\n</code></pre>\n<p>This is the description of Optional.ofNullable</p>\n<pre><code>@SuppressWarnings(&quot;unchecked&quot;)\npublic static &lt;T&gt; Optional&lt;T&gt; ofNullable(T value) {\n    return value == null ? (Optional&lt;T&gt;) EMPTY\n                         : new Optional&lt;&gt;(value);\n}\n</code></pre>\n<p>In our case, T should be <code>List&lt;?&gt;</code> so why is it not allowed to do <code>Optional.ofNullable(nullableList).orElse(another);</code></p>\n<p>If anybody can explain why the &quot;two steps&quot; is allowed and why the &quot;one step&quot; is not, that would make my day. Thank you.</p>\n"},{"tags":["java","spring","unit-testing","spring-mvc","junit"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1644220304,"post_id":71014818,"comment_id":125537538,"body_markdown":"Where you have `ex.zip` it should be `file` as that is the name in your model object. The name should match the request parameter. Also what you posted doesn&#39;t make sense, are you writing a unit test with Mockito or are you using MockMVC? Those 2 methods don&#39;t match (nor make sense to use together).","body":"Where you have <code>ex.zip</code> it should be <code>file</code> as that is the name in your model object. The name should match the request parameter. Also what you posted doesn&#39;t make sense, are you writing a unit test with Mockito or are you using MockMVC? Those 2 methods don&#39;t match (nor make sense to use together)."},{"owner":{"account_id":1148811,"reputation":916,"user_id":1130968,"accept_rate":71,"display_name":"Mattisdada"},"score":0,"creation_date":1644221246,"post_id":71014818,"comment_id":125537824,"body_markdown":"I might remove my commentary with Mockito, that was the *existing* solution which also doesn&#39;t work","body":"I might remove my commentary with Mockito, that was the <i>existing</i> solution which also doesn&#39;t work"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1644221325,"post_id":71014818,"comment_id":125537851,"body_markdown":"As mentioned `ex.zip` should be `file` in your test.","body":"As mentioned <code>ex.zip</code> should be <code>file</code> in your test."},{"owner":{"account_id":1148811,"reputation":916,"user_id":1130968,"accept_rate":71,"display_name":"Mattisdada"},"score":0,"creation_date":1644221462,"post_id":71014818,"comment_id":125537889,"body_markdown":"Well, that was the problem, thanks! Do you want to add that as an answer?","body":"Well, that was the problem, thanks! Do you want to add that as an answer?"}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1644222544,"creation_date":1644222544,"answer_id":71015491,"question_id":71014818,"body_markdown":"[The javadoc][1] of the `file` method states that the `name` should be the name of the file. I agree that that is a bit misleading. Instead it should be the name of the request parameter to use, which should be (generally speaking) the same as the property in your model object. \r\n\r\n```java\r\n.file(&quot;ex.zip&quot;,  FileUtils.readFileToByteArray(mockFile));\r\n```\r\nWith this a request parameter named `ex.zip` will be part of the request, however you have one that is named `file`. \r\n\r\n```java\r\n.file(&quot;file&quot;,  FileUtils.readFileToByteArray(mockFile));\r\n```\r\n\r\nUsing the above line should fix it and properly bind to your object in turn properly invoking your validator. \r\n\r\nOn a side node, your validator should properly handle the `null` case as well or add a `@NotNull` on the field as well. The `@Valid` on the field doesn&#39;t do anything so you can remove that. \r\n\r\n[1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/web/servlet/request/MockMultipartHttpServletRequestBuilder.html#file-java.lang.String-byte:A-","title":"ConstraintValidator always has null value during test","body":"<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/test/web/servlet/request/MockMultipartHttpServletRequestBuilder.html#file-java.lang.String-byte:A-\" rel=\"nofollow noreferrer\">The javadoc</a> of the <code>file</code> method states that the <code>name</code> should be the name of the file. I agree that that is a bit misleading. Instead it should be the name of the request parameter to use, which should be (generally speaking) the same as the property in your model object.</p>\n<pre class=\"lang-java prettyprint-override\"><code>.file(&quot;ex.zip&quot;,  FileUtils.readFileToByteArray(mockFile));\n</code></pre>\n<p>With this a request parameter named <code>ex.zip</code> will be part of the request, however you have one that is named <code>file</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>.file(&quot;file&quot;,  FileUtils.readFileToByteArray(mockFile));\n</code></pre>\n<p>Using the above line should fix it and properly bind to your object in turn properly invoking your validator.</p>\n<p>On a side node, your validator should properly handle the <code>null</code> case as well or add a <code>@NotNull</code> on the field as well. The <code>@Valid</code> on the field doesn't do anything so you can remove that.</p>\n"}],"owner":{"account_id":1148811,"reputation":916,"user_id":1130968,"accept_rate":71,"display_name":"Mattisdada"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":248,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":71015491,"answer_count":1,"score":-1,"last_activity_date":1644222544,"creation_date":1644218948,"question_id":71014818,"body_markdown":"after fixing a bug in an older Java Spring MVC 4.1 application, I wanted to add a unit test, but the method the current code base is using for testing won&#39;t actually execute validation.\r\n\r\nSo I wanted to add MVCMock, but when it executes the validation methods, the values passed to `isValid` is always null.\r\n\r\nRelevant files below (I&#39;ve tried to strip out as much noise as possible):\r\n\r\n```java\r\n// Unit Test\r\n@RunWith(SpringJUnit4ClassRunner.class)\r\n@WebAppConfiguration\r\n@EnableWebMvc\r\n@ContextConfiguration(locations = {&quot;/applicationContext-test.xml&quot;})\r\npublic class ExampleControllerTest extends AbstractControllerTestBase {\r\n    @Autowired\r\n    private WebApplicationContext context;\r\n\r\n    private MockMvc mockMvc;\r\n\r\n\r\n    @Before\r\n    public void setup() {\r\n        this.mockMvc = webAppContextSetup(this.context).build();\r\n    }\r\n\r\n    @Test\r\n    public void fileUploadZipArchive() throws Exception {\r\n        // Upload a zip file\r\n        File mockFile = new File(&quot;src/test/resources/fixtures/ex.zip&quot;);\r\n\r\n        MockHttpServletRequestBuilder multipart = MockMvcRequestBuilders\r\n                .fileUpload(&quot;/files/ex/upload/Tex&quot;)\r\n                .file(&quot;ex.zip&quot;,  FileUtils.readFileToByteArray(mockFile));\r\n\r\n        MvcResult result = mockMvc.perform(multipart)\r\n                .andReturn();\r\n    }\r\n```\r\n\r\n```java\r\n// Bean\r\npublic class FileUploadBean {\r\n\r\n\t@Valid\r\n\t@MultipartMimeTypeMatch\r\n\tprivate MultipartFile file = null;\r\n\r\n\t// ...\r\n\r\n}\r\n```\r\n\r\n```java\r\n// Validator\r\npublic class MultipartMimeTypeMatchValidator implements ConstraintValidator&lt;MultipartMimeTypeMatch, Object&gt; {\r\n\r\n    // ...\r\n\r\n    public boolean isValid(Object value, final ConstraintValidatorContext context) {\r\n        // value and context is always null\r\n    }\r\n}\r\n```\r\n\r\n```java\r\n// Controller\r\n@RequestMapping(value = &quot;/files/{ex1}/upload/{ex2}&quot;, method = RequestMethod.POST)\r\n    public Object uploadFile(HttpServletRequest request, @PathVariable String ex1,\r\n            @PathVariable String ex2, @Valid FileUploadBean fileUploadBean, BindingResult result) throws IllegalStateException, IOException {\r\n         // ...\r\n     }\r\n}\r\n```\r\n\r\nWhat could be going wrong?\r\n\r\nNOTE: Spring 4.1","title":"ConstraintValidator always has null value during test","body":"<p>after fixing a bug in an older Java Spring MVC 4.1 application, I wanted to add a unit test, but the method the current code base is using for testing won't actually execute validation.</p>\n<p>So I wanted to add MVCMock, but when it executes the validation methods, the values passed to <code>isValid</code> is always null.</p>\n<p>Relevant files below (I've tried to strip out as much noise as possible):</p>\n<pre class=\"lang-java prettyprint-override\"><code>// Unit Test\n@RunWith(SpringJUnit4ClassRunner.class)\n@WebAppConfiguration\n@EnableWebMvc\n@ContextConfiguration(locations = {&quot;/applicationContext-test.xml&quot;})\npublic class ExampleControllerTest extends AbstractControllerTestBase {\n    @Autowired\n    private WebApplicationContext context;\n\n    private MockMvc mockMvc;\n\n\n    @Before\n    public void setup() {\n        this.mockMvc = webAppContextSetup(this.context).build();\n    }\n\n    @Test\n    public void fileUploadZipArchive() throws Exception {\n        // Upload a zip file\n        File mockFile = new File(&quot;src/test/resources/fixtures/ex.zip&quot;);\n\n        MockHttpServletRequestBuilder multipart = MockMvcRequestBuilders\n                .fileUpload(&quot;/files/ex/upload/Tex&quot;)\n                .file(&quot;ex.zip&quot;,  FileUtils.readFileToByteArray(mockFile));\n\n        MvcResult result = mockMvc.perform(multipart)\n                .andReturn();\n    }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// Bean\npublic class FileUploadBean {\n\n    @Valid\n    @MultipartMimeTypeMatch\n    private MultipartFile file = null;\n\n    // ...\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// Validator\npublic class MultipartMimeTypeMatchValidator implements ConstraintValidator&lt;MultipartMimeTypeMatch, Object&gt; {\n\n    // ...\n\n    public boolean isValid(Object value, final ConstraintValidatorContext context) {\n        // value and context is always null\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>// Controller\n@RequestMapping(value = &quot;/files/{ex1}/upload/{ex2}&quot;, method = RequestMethod.POST)\n    public Object uploadFile(HttpServletRequest request, @PathVariable String ex1,\n            @PathVariable String ex2, @Valid FileUploadBean fileUploadBean, BindingResult result) throws IllegalStateException, IOException {\n         // ...\n     }\n}\n</code></pre>\n<p>What could be going wrong?</p>\n<p>NOTE: Spring 4.1</p>\n"},{"tags":["java","sorting","mergesort","insertion-sort"],"answers":[{"tags":[],"owner":{"account_id":13125144,"reputation":163,"user_id":9481374,"display_name":"Varadharajan Raghavendran"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644222041,"creation_date":1644222041,"answer_id":71015404,"question_id":71015177,"body_markdown":"a.length returns you 30 which is the length of your random array from the genrandarray method i believe. And your array is indexed 0 through 29. Try changing the main method like this and it will work out \r\n\r\n    public static void main(String[] args) { \r\n            int[] a = genrandarray(30);\r\n            \r\n            long bgn, end;\r\n            bgn = System.currentTimeMillis();\r\n            \r\n            imsort(a, 0, a.length-1, 30);\r\n            \r\n            end = System.currentTimeMillis();\r\n            \r\n            for(int i = 1; i &lt; a.length; i++){\r\n                if(a[i-1] &gt; a[i]){\r\n                    System.out.println(&quot;failed&quot;);\r\n                    break;\r\n                }\r\n            }\r\n            System.out.println(&quot;milliseconds &quot; + (end-bgn));\r\n        }","title":"Hybrid sorting using insertion sort and merge sort","body":"<p>a.length returns you 30 which is the length of your random array from the genrandarray method i believe. And your array is indexed 0 through 29. Try changing the main method like this and it will work out</p>\n<pre><code>public static void main(String[] args) { \n        int[] a = genrandarray(30);\n        \n        long bgn, end;\n        bgn = System.currentTimeMillis();\n        \n        imsort(a, 0, a.length-1, 30);\n        \n        end = System.currentTimeMillis();\n        \n        for(int i = 1; i &lt; a.length; i++){\n            if(a[i-1] &gt; a[i]){\n                System.out.println(&quot;failed&quot;);\n                break;\n            }\n        }\n        System.out.println(&quot;milliseconds &quot; + (end-bgn));\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":171499,"reputation":11291,"user_id":398963,"accept_rate":60,"display_name":"Konrad H&#246;ffner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644222138,"creation_date":1644222138,"answer_id":71015419,"question_id":71015177,"body_markdown":"First, let me congratulate on a very good post for someone new. You didn&#39;t post the line of code where the error is happening and code isn&#39;t complete, so I filled in some blanks and executed it:\r\n\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.Random;\r\n\r\npublic class Test {\r\n\r\n\tpublic static int[] genrandarray(int n)\r\n\t{\r\n\t\tint[] a = new int[n];\r\n\t\tRandom r = new Random();\r\n\t\tfor(int i=0;i&lt;n;i++) a[i] = r.nextInt();\r\n\t\treturn a;\r\n\t}\r\n\t\r\n    public static void main(String[] args) { \r\n        int[] a = genrandarray(30);\r\n        \r\n        long bgn, end;\r\n        bgn = System.currentTimeMillis();\r\n        \r\n        imsort(a, 0, a.length, 30);\r\n        \r\n        end = System.currentTimeMillis();\r\n        \r\n        for(int i = 1; i &lt; a.length; i++){\r\n            if(a[i-1] &gt; a[i]){\r\n                System.out.println(&quot;failed&quot;);\r\n                break;\r\n            }\r\n        }\r\n        System.out.println(&quot;milliseconds &quot; + (end-bgn));\r\n    }\r\n\r\n    public static void imsort(int [] slot, int b, int e, int size) {\r\n        \r\n        //if smaller than 20, use insertion sort\r\n        if (e-b&lt;=20) {\r\n        \tArrays.sort(slot, 0, e);\r\n           System.out.println(&quot;imsort entered!&quot;);\r\n        }\r\n        \r\n\r\n        else {\r\n            mergesort(b, e, slot);\r\n            \r\n            System.out.println(&quot;mergesort entered!&quot;);\r\n        }\r\n    }\r\n\r\n    public static int merge(int n, int m, int[] slot) {\r\n        int mid = (n+m)/2;\r\n        int a = n, b = mid+1, i, tmp, cmp=0, comp=0;\r\n        \r\n        //sanity check \r\n        if (m-n &lt;= 0) return -1000;\r\n        \r\n        while (a &lt;= mid &amp;&amp; b &lt;= m) {\r\n            cmp = slot[a] - slot[b]; \r\n            comp++;\r\n            \r\n            if (cmp &gt; 0) { //slot[a] &gt; slot[b]\r\n                tmp = slot[b++];\r\n                for (i = ++mid; i &gt; a; i--)\r\n                    slot[i] = slot[i-1];\r\n                    slot[a++] = tmp;\r\n            } \r\n            \r\n            else if (cmp &lt; 0) //slot[a] &lt; slot[b] \r\n                    a++;\r\n            \r\n            else {\r\n                //slot[a] == slot[b]\r\n                if (a == mid &amp;&amp; b == m) break;\r\n                tmp = slot[b++];\r\n                a++;\r\n                for (i = ++mid; i &gt; a; i--)\r\n                slot[i] = slot[i-1]; slot[a++] = tmp;\r\n            }\r\n        } // end of while loop;\r\n        \r\n        return comp;\r\n    } // end of merge   \r\n\r\n    public static int mergesort(int s, int e, int[] slot) {\r\n        //int comp =0;\r\n        int mid = (s+e)/2;  \r\n        int right=0, left=0;\r\n        \r\n        if(e-s&gt;0) {\r\n            //comp++;\r\n            left = mergesort(s,mid, slot);\r\n            //comp++;\r\n            right = mergesort(mid+1,e, slot);\r\n        }\r\n        return right + left + merge(s,e,slot);\r\n    }\r\n}\r\n```\r\n\r\nThe error is caused by setting variable a to n in your merge function and then in the line `cmp = slot[a] - slot[b]`. Because arrays go from 0 to n-1, n will cause an out of bounds exception.","title":"Hybrid sorting using insertion sort and merge sort","body":"<p>First, let me congratulate on a very good post for someone new. You didn't post the line of code where the error is happening and code isn't complete, so I filled in some blanks and executed it:</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Random;\n\npublic class Test {\n\n    public static int[] genrandarray(int n)\n    {\n        int[] a = new int[n];\n        Random r = new Random();\n        for(int i=0;i&lt;n;i++) a[i] = r.nextInt();\n        return a;\n    }\n    \n    public static void main(String[] args) { \n        int[] a = genrandarray(30);\n        \n        long bgn, end;\n        bgn = System.currentTimeMillis();\n        \n        imsort(a, 0, a.length, 30);\n        \n        end = System.currentTimeMillis();\n        \n        for(int i = 1; i &lt; a.length; i++){\n            if(a[i-1] &gt; a[i]){\n                System.out.println(&quot;failed&quot;);\n                break;\n            }\n        }\n        System.out.println(&quot;milliseconds &quot; + (end-bgn));\n    }\n\n    public static void imsort(int [] slot, int b, int e, int size) {\n        \n        //if smaller than 20, use insertion sort\n        if (e-b&lt;=20) {\n            Arrays.sort(slot, 0, e);\n           System.out.println(&quot;imsort entered!&quot;);\n        }\n        \n\n        else {\n            mergesort(b, e, slot);\n            \n            System.out.println(&quot;mergesort entered!&quot;);\n        }\n    }\n\n    public static int merge(int n, int m, int[] slot) {\n        int mid = (n+m)/2;\n        int a = n, b = mid+1, i, tmp, cmp=0, comp=0;\n        \n        //sanity check \n        if (m-n &lt;= 0) return -1000;\n        \n        while (a &lt;= mid &amp;&amp; b &lt;= m) {\n            cmp = slot[a] - slot[b]; \n            comp++;\n            \n            if (cmp &gt; 0) { //slot[a] &gt; slot[b]\n                tmp = slot[b++];\n                for (i = ++mid; i &gt; a; i--)\n                    slot[i] = slot[i-1];\n                    slot[a++] = tmp;\n            } \n            \n            else if (cmp &lt; 0) //slot[a] &lt; slot[b] \n                    a++;\n            \n            else {\n                //slot[a] == slot[b]\n                if (a == mid &amp;&amp; b == m) break;\n                tmp = slot[b++];\n                a++;\n                for (i = ++mid; i &gt; a; i--)\n                slot[i] = slot[i-1]; slot[a++] = tmp;\n            }\n        } // end of while loop;\n        \n        return comp;\n    } // end of merge   \n\n    public static int mergesort(int s, int e, int[] slot) {\n        //int comp =0;\n        int mid = (s+e)/2;  \n        int right=0, left=0;\n        \n        if(e-s&gt;0) {\n            //comp++;\n            left = mergesort(s,mid, slot);\n            //comp++;\n            right = mergesort(mid+1,e, slot);\n        }\n        return right + left + merge(s,e,slot);\n    }\n}\n</code></pre>\n<p>The error is caused by setting variable a to n in your merge function and then in the line <code>cmp = slot[a] - slot[b]</code>. Because arrays go from 0 to n-1, n will cause an out of bounds exception.</p>\n"}],"owner":{"display_name":"user14436230"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":485,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71015404,"answer_count":2,"score":2,"last_activity_date":1644222138,"creation_date":1644221010,"question_id":71015177,"body_markdown":"I wish to implement a hybrid algorithm that switches from insertion sort to merge sort once the input array size becomes too big.\r\n\r\nThis is my main function (I fixed my input array size at 30 currently as I wish to test my merge sort function) :\r\n\r\n```\r\n    public static void main(String[] args) { \r\n    \tint[] a = genrandarray(30);\r\n    \t\r\n        long bgn, end;\r\n        bgn = System.currentTimeMillis();\r\n        \r\n        imsort(a, 0, a.length, 30);\r\n        \r\n        end = System.currentTimeMillis();\r\n        \r\n        for(int i = 1; i &lt; a.length; i++){\r\n            if(a[i-1] &gt; a[i]){\r\n                System.out.println(&quot;failed&quot;);\r\n                break;\r\n            }\r\n        }\r\n        System.out.println(&quot;milliseconds &quot; + (end-bgn));\r\n    }\r\n```\r\n\r\nInsertion sort is called when the array size is &lt;20, else merge sort is called:\r\n```\r\n    public static void imsort(int [] slot, int b, int e, int size) {\r\n    \t\r\n    \t//if smaller than 20, use insertion sort\r\n    \tif (e-b&lt;=20) {\r\n    \t\tinsertionSort(slot, e);  //e is the length of slot[]\r\n    \t\tSystem.out.println(&quot;imsort entered!&quot;);\r\n    \t}\r\n    \t\r\n\r\n    \telse {\r\n    \t\tmergesort(b, e, slot);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;mergesort entered!&quot;);\r\n    \t}\r\n    }\r\n```\r\n\r\nThere is a Index 30 out of bounds error for my merge sort function currently.\r\n```\r\n\tpublic static int merge(int n, int m, int[] slot) {\r\n\t\tint mid = (n+m)/2;\r\n\t\tint a = n, b = mid+1, i, tmp, cmp=0, comp=0;\r\n\t\t\r\n\t\t//sanity check \r\n\t\tif (m-n &lt;= 0) return -1000;\r\n\t\t\r\n\t\twhile (a &lt;= mid &amp;&amp; b &lt;= m) {\r\n\t\t\tcmp = compare(slot[a], slot[b]); \r\n\t\t\tcomp++;\r\n\t\t\t\r\n\t\t\tif (cmp &gt; 0) { //slot[a] &gt; slot[b]\r\n\t\t\t\ttmp = slot[b++];\r\n\t\t\t\tfor (i = ++mid; i &gt; a; i--)\r\n\t\t\t\t\tslot[i] = slot[i-1];\r\n\t\t\t\t\tslot[a++] = tmp;\r\n\t\t\t} \r\n\t\t\t\r\n\t\t\telse if (cmp &lt; 0) //slot[a] &lt; slot[b] \r\n\t\t\t\t\ta++;\r\n\t\t\t\r\n\t\t\telse {\r\n\t\t\t\t//slot[a] == slot[b]\r\n\t\t\t\tif (a == mid &amp;&amp; b == m) break;\r\n\t\t\t\ttmp = slot[b++];\r\n\t\t\t\ta++;\r\n\t\t\t\tfor (i = ++mid; i &gt; a; i--)\r\n\t\t\t\tslot[i] = slot[i-1]; slot[a++] = tmp;\r\n\t\t\t}\r\n\t\t} // end of while loop;\r\n\t\t\r\n\t\treturn comp;\r\n\t} // end of merge\t\r\n```\r\n```\t\t\r\n\tpublic static int mergesort(int s, int e, int[] slot) {\r\n\t\t//int comp =0;\r\n\t\tint mid = (s+e)/2;  \r\n\t\tint right=0, left=0;\r\n\t\t\r\n\t\tif(e-s&gt;0) {\r\n\t\t\t//comp++;\r\n\t\t\tleft = mergesort(s,mid, slot);\r\n\t\t\t//comp++;\r\n\t\t\tright = mergesort(mid+1,e, slot);\r\n\t\t}\r\n\t\treturn right + left + merge(s,e,slot);\r\n\t}\r\n```\r\n\r\nI am unsure of the error in my merge / mergesort function. Can I get some further advice?\r\n","title":"Hybrid sorting using insertion sort and merge sort","body":"<p>I wish to implement a hybrid algorithm that switches from insertion sort to merge sort once the input array size becomes too big.</p>\n<p>This is my main function (I fixed my input array size at 30 currently as I wish to test my merge sort function) :</p>\n<pre><code>    public static void main(String[] args) { \n        int[] a = genrandarray(30);\n        \n        long bgn, end;\n        bgn = System.currentTimeMillis();\n        \n        imsort(a, 0, a.length, 30);\n        \n        end = System.currentTimeMillis();\n        \n        for(int i = 1; i &lt; a.length; i++){\n            if(a[i-1] &gt; a[i]){\n                System.out.println(&quot;failed&quot;);\n                break;\n            }\n        }\n        System.out.println(&quot;milliseconds &quot; + (end-bgn));\n    }\n</code></pre>\n<p>Insertion sort is called when the array size is &lt;20, else merge sort is called:</p>\n<pre><code>    public static void imsort(int [] slot, int b, int e, int size) {\n        \n        //if smaller than 20, use insertion sort\n        if (e-b&lt;=20) {\n            insertionSort(slot, e);  //e is the length of slot[]\n            System.out.println(&quot;imsort entered!&quot;);\n        }\n        \n\n        else {\n            mergesort(b, e, slot);\n            \n            System.out.println(&quot;mergesort entered!&quot;);\n        }\n    }\n</code></pre>\n<p>There is a Index 30 out of bounds error for my merge sort function currently.</p>\n<pre><code>    public static int merge(int n, int m, int[] slot) {\n        int mid = (n+m)/2;\n        int a = n, b = mid+1, i, tmp, cmp=0, comp=0;\n        \n        //sanity check \n        if (m-n &lt;= 0) return -1000;\n        \n        while (a &lt;= mid &amp;&amp; b &lt;= m) {\n            cmp = compare(slot[a], slot[b]); \n            comp++;\n            \n            if (cmp &gt; 0) { //slot[a] &gt; slot[b]\n                tmp = slot[b++];\n                for (i = ++mid; i &gt; a; i--)\n                    slot[i] = slot[i-1];\n                    slot[a++] = tmp;\n            } \n            \n            else if (cmp &lt; 0) //slot[a] &lt; slot[b] \n                    a++;\n            \n            else {\n                //slot[a] == slot[b]\n                if (a == mid &amp;&amp; b == m) break;\n                tmp = slot[b++];\n                a++;\n                for (i = ++mid; i &gt; a; i--)\n                slot[i] = slot[i-1]; slot[a++] = tmp;\n            }\n        } // end of while loop;\n        \n        return comp;\n    } // end of merge   \n</code></pre>\n<pre><code>    public static int mergesort(int s, int e, int[] slot) {\n        //int comp =0;\n        int mid = (s+e)/2;  \n        int right=0, left=0;\n        \n        if(e-s&gt;0) {\n            //comp++;\n            left = mergesort(s,mid, slot);\n            //comp++;\n            right = mergesort(mid+1,e, slot);\n        }\n        return right + left + merge(s,e,slot);\n    }\n</code></pre>\n<p>I am unsure of the error in my merge / mergesort function. Can I get some further advice?</p>\n"},{"tags":["java","vaadin8"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1636353451,"post_id":69879332,"comment_id":123524052,"body_markdown":"The default is 500. You can increase this by calling `setMaximumAllowedRows` on your `DataCommunicator`.","body":"The default is 500. You can increase this by calling <code>setMaximumAllowedRows</code> on your <code>DataCommunicator</code>."},{"owner":{"account_id":2759852,"reputation":7920,"user_id":2376954,"display_name":"Leif &#197;strand"},"score":0,"creation_date":1636354310,"post_id":69879332,"comment_id":123524257,"body_markdown":"Could you describe under which circumstances you need to have more than 500 rows lazy loaded at once to a Grid or ComboBox?","body":"Could you describe under which circumstances you need to have more than 500 rows lazy loaded at once to a Grid or ComboBox?"},{"owner":{"account_id":3097504,"reputation":315,"user_id":2622413,"accept_rate":0,"display_name":"avdhesh"},"score":0,"creation_date":1636354623,"post_id":69879332,"comment_id":123524320,"body_markdown":"Thanks for the quick reply. But there is no such method (&quot;setMaximumAllowedRows &quot;) in DataCommunicator as I see","body":"Thanks for the quick reply. But there is no such method (&quot;setMaximumAllowedRows &quot;) in DataCommunicator as I see"},{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":1,"creation_date":1636358131,"post_id":69879332,"comment_id":123525225,"body_markdown":"DataCommunicator#setMaximumAllowedRows is coming in next release, you can use it with 8.15-SNAPSHOT already. Jut noting ListSelect, TwinColSelect, ... do not have lazy loading support at all, and not purposed for large data sets.","body":"DataCommunicator#setMaximumAllowedRows is coming in next release, you can use it with 8.15-SNAPSHOT already. Jut noting ListSelect, TwinColSelect, ... do not have lazy loading support at all, and not purposed for large data sets."},{"owner":{"account_id":3097504,"reputation":315,"user_id":2622413,"accept_rate":0,"display_name":"avdhesh"},"score":0,"creation_date":1636358850,"post_id":69879332,"comment_id":123525396,"body_markdown":"Thanks, @TatuLund. I see version 8.15-SNAPSHOT is not available in the central maven repository","body":"Thanks, @TatuLund. I see version 8.15-SNAPSHOT is not available in the central maven repository"},{"owner":{"account_id":12280349,"reputation":10212,"user_id":8962195,"display_name":"Tatu Lund"},"score":1,"creation_date":1636361416,"post_id":69879332,"comment_id":123526288,"body_markdown":"Vaadin snapshots and other prereleases are not published in maven central, you need to add vaadin prereleases repo https://maven.vaadin.com/vaadin-prereleases/","body":"Vaadin snapshots and other prereleases are not published in maven central, you need to add vaadin prereleases repo <a href=\"https://maven.vaadin.com/vaadin-prereleases/\" rel=\"nofollow noreferrer\">maven.vaadin.com/vaadin-prereleases</a>"},{"owner":{"account_id":295383,"reputation":4686,"user_id":599765,"accept_rate":22,"display_name":"Andr&#233; Schild"},"score":0,"creation_date":1636387900,"post_id":69879332,"comment_id":123537158,"body_markdown":"Seems to have been been introduced in 8.14.x our users just reported it today after we did an upgrade from 8.13.x to 8.14.1 last week","body":"Seems to have been been introduced in 8.14.x our users just reported it today after we did an upgrade from 8.13.x to 8.14.1 last week"}],"answers":[{"tags":[],"owner":{"account_id":24178655,"reputation":21,"user_id":18139639,"display_name":"Melentsov Ivan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1644221296,"creation_date":1644221296,"answer_id":71015237,"question_id":69879332,"body_markdown":"There is a bug on 8.14.x version when scrolling grid \r\nwith grid scroll element and grid has lazy data provider and a lot available hieght. Grid client element fetchs more than 500 rows. If I minimize grid no exception thrown. [Exception img][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0Qmzc.png","title":"Unexpected exception after update to vaadin 8","body":"<p>There is a bug on 8.14.x version when scrolling grid\nwith grid scroll element and grid has lazy data provider and a lot available hieght. Grid client element fetchs more than 500 rows. If I minimize grid no exception thrown. <a href=\"https://i.stack.imgur.com/0Qmzc.png\" rel=\"nofollow noreferrer\">Exception img</a></p>\n"}],"owner":{"account_id":3097504,"reputation":315,"user_id":2622413,"accept_rate":0,"display_name":"avdhesh"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":628,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1644221296,"creation_date":1636352643,"question_id":69879332,"body_markdown":"I&#39;m getting the below error on the ListSelect component. A few version back in vaadin 8 it&#39;s working file. Now I&#39;ve updated the version to 8.14.2 then I&#39;m getting this:\r\n\r\n\r\n    java.lang.IllegalStateException: Client tried fetch more rows than allowed. This is denied to prevent denial of service.\r\n        at com.vaadin.data.provider.DataCommunicator.onRequestRows(DataCommunicator.java:311)\r\n        at com.vaadin.data.provider.DataCommunicator$SimpleDataRequestRpc.requestRows(DataCommunicator.java:74)\r\n        at jdk.internal.reflect.GeneratedMethodAccessor370.invoke(Unknown Source)","title":"Unexpected exception after update to vaadin 8","body":"<p>I'm getting the below error on the ListSelect component. A few version back in vaadin 8 it's working file. Now I've updated the version to 8.14.2 then I'm getting this:</p>\n<pre><code>java.lang.IllegalStateException: Client tried fetch more rows than allowed. This is denied to prevent denial of service.\n    at com.vaadin.data.provider.DataCommunicator.onRequestRows(DataCommunicator.java:311)\n    at com.vaadin.data.provider.DataCommunicator$SimpleDataRequestRpc.requestRows(DataCommunicator.java:74)\n    at jdk.internal.reflect.GeneratedMethodAccessor370.invoke(Unknown Source)\n</code></pre>\n"},{"tags":["java","netty","tls1.3","netty4","tls-psk"],"comments":[{"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"score":0,"creation_date":1645096449,"post_id":71014786,"comment_id":125782523,"body_markdown":"What is your question ? Where are you stuck exactly ?","body":"What is your question ? Where are you stuck exactly ?"}],"owner":{"account_id":24176982,"reputation":19,"user_id":18138200,"display_name":"igogoxfox"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":193,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1644219525,"creation_date":1644218697,"question_id":71014786,"body_markdown":"We are using Netty4, and we plan to expand SSL security mode of Netty, I am not sure whether Netty4 supports PSK key exchange mode, have the guidance of those who know this aspect, thank you very much  ","title":"netty ssl key exchange mode，how to use TLS-PSK mode with netty","body":"<p>We are using Netty4, and we plan to expand SSL security mode of Netty, I am not sure whether Netty4 supports PSK key exchange mode, have the guidance of those who know this aspect, thank you very much</p>\n"},{"tags":["java","decimal","bigdecimal","decimalformat","rounding-error"],"comments":[{"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"score":0,"creation_date":1476943737,"post_id":40146569,"comment_id":67562646,"body_markdown":"You just want to format the number for printing. Don&#39;t mess around with the value (i.e. don&#39;t &quot;reduce to n digits&quot;).","body":"You just want to format the number for printing. Don&#39;t mess around with the value (i.e. don&#39;t &quot;reduce to n digits&quot;)."},{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1476943781,"post_id":40146569,"comment_id":67562670,"body_markdown":"@ScaryWombat Disagree. He just wants to format a double for output.","body":"@ScaryWombat Disagree. He just wants to format a double for output."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1476943962,"post_id":40146569,"comment_id":67562775,"body_markdown":"@JimGarrison Ok, looks like I put too much weight on the title.","body":"@JimGarrison Ok, looks like I put too much weight on the title."}],"answers":[{"tags":[],"owner":{"account_id":9447652,"reputation":1303,"user_id":7025735,"accept_rate":75,"display_name":"Ghost Developer"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1476943593,"creation_date":1476943593,"answer_id":40146630,"question_id":40146569,"body_markdown":"`double d = 5.433306166802499E-5;\r\nBigDecimal dc = new BigDecimal(d);\r\ndc = dc .round(new MathContext(3)); // desired significant digits\r\ndouble rounded = dc .doubleValue();`","title":"How do you reduce a java double to n significant digits?","body":"<p><code>double d = 5.433306166802499E-5;\nBigDecimal dc = new BigDecimal(d);\ndc = dc .round(new MathContext(3)); // desired significant digits\ndouble rounded = dc .doubleValue();</code></p>\n"},{"tags":[],"owner":{"account_id":308815,"reputation":3962,"user_id":620908,"display_name":"Adrian Colomitchi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1476943807,"creation_date":1476943611,"answer_id":40146637,"question_id":40146569,"body_markdown":"&gt;  I am looking **to print** small digits (doubles)\r\n\r\n    System.out.printf(&quot;%.4e&quot;,  5.433306166802499E-5);\r\n\r\nResult: `5.4333e-05`\r\n\r\n*Note*: it doesn&#39;t *reduce* the precision of your original value, it just *prints* it with a lower precision.","title":"How do you reduce a java double to n significant digits?","body":"<blockquote>\n  <p>I am looking <strong>to print</strong> small digits (doubles)</p>\n</blockquote>\n\n<pre><code>System.out.printf(\"%.4e\",  5.433306166802499E-5);\n</code></pre>\n\n<p>Result: <code>5.4333e-05</code></p>\n\n<p><em>Note</em>: it doesn't <em>reduce</em> the precision of your original value, it just <em>prints</em> it with a lower precision.</p>\n"},{"tags":[],"owner":{"account_id":9472328,"reputation":174,"user_id":7042823,"display_name":"Lucurious"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1476945521,"creation_date":1476944282,"answer_id":40146805,"question_id":40146569,"body_markdown":"You can indeed use BigDecimal, it would then look as follows:\n\n    BigDecimal d = BigDecimal.valueOf(val).setScale(scale, RoundingMode.HALF_UP);\n    double scaled = d.doubleValue();\n\nOr you could use:\n\n    Math.round(val*Math.pow(10, scale))/Math.pow(10, scale);","title":"How do you reduce a java double to n significant digits?","body":"<p>You can indeed use BigDecimal, it would then look as follows:</p>\n\n<pre><code>BigDecimal d = BigDecimal.valueOf(val).setScale(scale, RoundingMode.HALF_UP);\ndouble scaled = d.doubleValue();\n</code></pre>\n\n<p>Or you could use:</p>\n\n<pre><code>Math.round(val*Math.pow(10, scale))/Math.pow(10, scale);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10422879,"reputation":79,"user_id":7685063,"display_name":"Mourits de Beer"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1644219494,"creation_date":1573639244,"answer_id":58834523,"question_id":40146569,"body_markdown":"To answer the general question of reducing a double&#39;s significant digits, and not just the case of _printing_ with `System.out.printf`:\r\n\r\nIf you&#39;re using Java: `Double.parseDouble(String.format(&quot;%1.4e&quot;, 5.433306166802499E-5))`\r\n\r\nIn Scala, you can use the `f` string interpolator, or the format method:\r\n\r\n```\r\nval a: Double = 5.433306166802499E-5\r\nval reduced1: Double = f&quot;$a%1.4e&quot;.toDouble\r\nval reduced2: Double = &quot;%1.4e&quot;.format(a).toDouble\r\n```\r\n\r\nBoth are equal: `5.4333e-05`","title":"How do you reduce a java double to n significant digits?","body":"<p>To answer the general question of reducing a double's significant digits, and not just the case of <em>printing</em> with <code>System.out.printf</code>:</p>\n<p>If you're using Java: <code>Double.parseDouble(String.format(&quot;%1.4e&quot;, 5.433306166802499E-5))</code></p>\n<p>In Scala, you can use the <code>f</code> string interpolator, or the format method:</p>\n<pre><code>val a: Double = 5.433306166802499E-5\nval reduced1: Double = f&quot;$a%1.4e&quot;.toDouble\nval reduced2: Double = &quot;%1.4e&quot;.format(a).toDouble\n</code></pre>\n<p>Both are equal: <code>5.4333e-05</code></p>\n"}],"owner":{"account_id":9477025,"reputation":11,"user_id":7046055,"display_name":"Christopher Lee"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3816,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1644219494,"creation_date":1476943291,"question_id":40146569,"body_markdown":"I am looking to print small digits (`doubles`) for the purpose of printing the errors in using the `Newton` &amp; `Secant` methods.\r\n\r\nOne of my errors is `5.433306166802499E-5`\r\n\r\nI&#39;d like to print `5.4333E-5`\r\n\r\nI thought of using `BigDecimal` but I am not familiar with this class. ","title":"How do you reduce a java double to n significant digits?","body":"<p>I am looking to print small digits (<code>doubles</code>) for the purpose of printing the errors in using the <code>Newton</code> &amp; <code>Secant</code> methods.</p>\n\n<p>One of my errors is <code>5.433306166802499E-5</code></p>\n\n<p>I'd like to print <code>5.4333E-5</code></p>\n\n<p>I thought of using <code>BigDecimal</code> but I am not familiar with this class. </p>\n"},{"tags":["java","annotations","lombok"],"comments":[{"owner":{"account_id":8199432,"reputation":8202,"user_id":6171211,"display_name":"Monzurul Shimul"},"score":3,"creation_date":1543984139,"post_id":53625175,"comment_id":94110451,"body_markdown":"install lombok plugin for your ide.","body":"install lombok plugin for your ide."},{"owner":{"account_id":12682930,"reputation":1163,"user_id":9215910,"display_name":"Pooja Aggarwal"},"score":0,"creation_date":1543984162,"post_id":53625175,"comment_id":94110458,"body_markdown":"You are having parameterized constructor, but while creating new MyObject you are not paasing the values.","body":"You are having parameterized constructor, but while creating new MyObject you are not paasing the values."},{"owner":{"account_id":10392942,"reputation":79,"user_id":7663545,"display_name":"Immanjunath"},"score":0,"creation_date":1543984693,"post_id":53625175,"comment_id":94110610,"body_markdown":"Monzurul Haque Shimul It worked.! Thanks for the help","body":"Monzurul Haque Shimul It worked.! Thanks for the help"}],"answers":[{"tags":[],"owner":{"account_id":10392942,"reputation":79,"user_id":7663545,"display_name":"Immanjunath"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1543984912,"creation_date":1543984912,"answer_id":53625303,"question_id":53625175,"body_markdown":"I was able to fix this by downloading Lombok plugin from this [Link][1] and it worked. \r\n\r\n\r\n  [1]: https://projectlombok.org/download","title":"Lombok @Getter and @Setter unable to get or set values to object","body":"<p>I was able to fix this by downloading Lombok plugin from this <a href=\"https://projectlombok.org/download\" rel=\"nofollow noreferrer\">Link</a> and it worked. </p>\n"},{"tags":[],"owner":{"account_id":6428583,"reputation":6399,"user_id":4982691,"display_name":"jumping_monkey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644219326,"creation_date":1580290027,"answer_id":59964024,"question_id":53625175,"body_markdown":"If you are using Eclipse or one of its offshoots(I am using STS `4.5.1.RELEASE`), all that you need to do is:\r\n\r\n- In build.gradle, you **ONLY** need these 2 &quot;extra&quot; instructions:&lt;br&gt;\r\n\r\n      dependencies {\r\n        compileOnly &#39;org.projectlombok:lombok&#39;  \r\n        annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n      }\r\n\r\n- Right-click on your project &gt; Gradle &gt; Refresh Gradle Project. The `lombok-&quot;version&quot;.jar` will appear inside your project&#39;s **Project and External Dependencies**\r\n- Right-click on that `lombok-&quot;version&quot;.jar` &gt; Run As &gt; Java Application (similar to double-clicking on the actual jar or running `java -jar lombok-&quot;version&quot;.jar` on the command line.)\r\n- A GUI will appear, follow the instructions and one of the thing it does is to copy `lombok.jar` to your IDE&#39;s root.\r\n\r\n**Note: Remember to restart your IDE and clean all your previously compiled files.**","title":"Lombok @Getter and @Setter unable to get or set values to object","body":"<p>If you are using Eclipse or one of its offshoots(I am using STS <code>4.5.1.RELEASE</code>), all that you need to do is:</p>\n<ul>\n<li><p>In build.gradle, you <strong>ONLY</strong> need these 2 &quot;extra&quot; instructions:<br></p>\n<pre><code>dependencies {\n  compileOnly 'org.projectlombok:lombok'  \n  annotationProcessor 'org.projectlombok:lombok'\n}\n</code></pre>\n</li>\n<li><p>Right-click on your project &gt; Gradle &gt; Refresh Gradle Project. The <code>lombok-&quot;version&quot;.jar</code> will appear inside your project's <strong>Project and External Dependencies</strong></p>\n</li>\n<li><p>Right-click on that <code>lombok-&quot;version&quot;.jar</code> &gt; Run As &gt; Java Application (similar to double-clicking on the actual jar or running <code>java -jar lombok-&quot;version&quot;.jar</code> on the command line.)</p>\n</li>\n<li><p>A GUI will appear, follow the instructions and one of the thing it does is to copy <code>lombok.jar</code> to your IDE's root.</p>\n</li>\n</ul>\n<p><strong>Note: Remember to restart your IDE and clean all your previously compiled files.</strong></p>\n"}],"owner":{"account_id":10392942,"reputation":79,"user_id":7663545,"display_name":"Immanjunath"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2840,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":2,"score":4,"last_activity_date":1644219326,"creation_date":1543984006,"question_id":53625175,"body_markdown":"Below is my object class:\r\n\r\n    import lombok.Getter;\r\n    import lombok.Setter;\r\n    \r\n    @Getter\r\n    @Setter\r\n    public class MyObject {\r\n    \r\n    \tpublic Long empID;\r\n    \tpublic String firstName;\r\n    \tpublic String lastName;\r\n    \t\r\n    \t\r\n    \tpublic MyObject(Long empID, String firstName, String lastName) {\r\n    \t\tsuper();\r\n    \t\tthis.empID = empID;\r\n    \t\tthis.firstName = firstName;\r\n    \t\tthis.lastName = lastName;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;MyObject [empID=&quot; + empID + &quot;, firstName=&quot; + firstName + &quot;, lastName=&quot; + lastName + &quot;]&quot;;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nI tried to use and create an object in another class as below:\r\n\r\n    MyObject myobj = new MyObject();\r\n\r\nAfter typing `myObj`, I don&#39;t see `getEmpId()` or `getfirstName()` as if I had written explicit getters and setters.\r\n\r\nKindly suggest a solution if I am missing anything here.","title":"Lombok @Getter and @Setter unable to get or set values to object","body":"<p>Below is my object class:</p>\n\n<pre><code>import lombok.Getter;\nimport lombok.Setter;\n\n@Getter\n@Setter\npublic class MyObject {\n\n    public Long empID;\n    public String firstName;\n    public String lastName;\n\n\n    public MyObject(Long empID, String firstName, String lastName) {\n        super();\n        this.empID = empID;\n        this.firstName = firstName;\n        this.lastName = lastName;\n    }\n\n    @Override\n    public String toString() {\n        return \"MyObject [empID=\" + empID + \", firstName=\" + firstName + \", lastName=\" + lastName + \"]\";\n    }\n\n}\n</code></pre>\n\n<p>I tried to use and create an object in another class as below:</p>\n\n<pre><code>MyObject myobj = new MyObject();\n</code></pre>\n\n<p>After typing <code>myObj</code>, I don't see <code>getEmpId()</code> or <code>getfirstName()</code> as if I had written explicit getters and setters.</p>\n\n<p>Kindly suggest a solution if I am missing anything here.</p>\n"},{"tags":["java","junit","guice"],"comments":[{"owner":{"account_id":9066455,"reputation":726,"user_id":6751083,"display_name":"Mohammad Reza Khahani"},"score":0,"creation_date":1643144840,"post_id":70854126,"comment_id":125261408,"body_markdown":"It would be best to define such behaviour in your DI, as it provides the instances of User class.","body":"It would be best to define such behaviour in your DI, as it provides the instances of User class."},{"owner":{"account_id":20274915,"reputation":1,"user_id":14870203,"display_name":"grav"},"score":0,"creation_date":1643192898,"post_id":70854126,"comment_id":125272577,"body_markdown":"@MohammadRezaKhahani Is there a way to do this in the google guice?","body":"@MohammadRezaKhahani Is there a way to do this in the google guice?"},{"owner":{"account_id":9066455,"reputation":726,"user_id":6751083,"display_name":"Mohammad Reza Khahani"},"score":0,"creation_date":1643199303,"post_id":70854126,"comment_id":125274967,"body_markdown":"&#39;Scopes allow you to reuse instances: for the lifetime of an application, a session, or a request.&#39; said guice [docs](https://github.com/google/guice/wiki/Scopes). I have no experience with guice, but generally, the definition between DIs is the same. Probably you shouldn&#39;t use DI for your case if what guice is provided is not exactly what you want.","body":"&#39;Scopes allow you to reuse instances: for the lifetime of an application, a session, or a request.&#39; said guice <a href=\"https://github.com/google/guice/wiki/Scopes\" rel=\"nofollow noreferrer\">docs</a>. I have no experience with guice, but generally, the definition between DIs is the same. Probably you shouldn&#39;t use DI for your case if what guice is provided is not exactly what you want."}],"answers":[{"tags":[],"owner":{"account_id":9940511,"reputation":595,"user_id":7357291,"display_name":"Jens Vagts"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644219180,"creation_date":1643213073,"answer_id":70866485,"question_id":70854126,"body_markdown":"In order to access inject a dedicated object instance not being a singleton from Guice into a Junit extension you can implement these three steps:\r\n\r\n**Guice JUnit support**  \r\nFor adding support of Guice to JUnit you can use the [GuiceExtension](https://github.com/JeffreyFalgout/junit5-extensions/tree/master/guice-extension). This enables injection at any state of you unit test but **not** for any other test extension, as explained within the references docs.\r\n\r\n**Accessing Guice from extension**  \r\nWith following code snippet you can access the Guice injector, created by the `GuiceExtension`, within your own extension:\r\n```\r\n  private static Injector getInjector(ExtensionContext context) {\r\n    final Namespace GUICE_EXT_NAMESPACE = Namespace.create(&quot;name&quot;, &quot;falgout&quot;, &quot;jeffrey&quot;, &quot;testing&quot;, &quot;junit&quot;, &quot;guice&quot;);\r\n    if (!context.getElement().isPresent()) {\r\n      return null;\r\n    }\r\n    AnnotatedElement element = context.getElement().get();\r\n    Store store = context.getStore(GUICE_EXT_NAMESPACE);\r\n    Injector injector = store.get(element, Injector.class);\r\n    if (injector == null) {\r\n      //traverse to parent context (recursively!)\r\n      if (context.getParent().isPresent()) {\r\n        return getInjector(context.getParent().get());\r\n      }\r\n      return null;\r\n    }\r\n\r\n    return injector;\r\n  }\r\n``` \r\nInside the extension you simple provide the `ExtensionContext` like:\r\n```\r\n@Override\r\npublic void afterEach(ExtensionContext context) throws Exception {\r\n  Injector injector = getInjector(context);\r\n  ...\r\n```\r\n\r\n**Injecting dedicated type instance**  \r\nWithout defining a type instance as `@Singleton` Guice will create one new object on each access with `@Inject` or `Injector.getInstance()`. To retrieve a particular object instance of your class `User` you can use a binding annotation like `@Named` as documented in [Guice Binding Annotations](https://github.com/google/guice/wiki/BindingAnnotations#named):\r\n```\r\n@Provides\r\n@Named(&quot;MyUser&quot;)\r\npublic User myUser() {\r\n   return new MyUserImpl();\r\n}\r\n```\r\n\r\nand access it with \r\n```\r\n@Provides\r\n@Named(&quot;MyUser&quot;)\r\nprivate User user();\r\n```\r\n","title":"How to create single object in extension and injection","body":"<p>In order to access inject a dedicated object instance not being a singleton from Guice into a Junit extension you can implement these three steps:</p>\n<p><strong>Guice JUnit support</strong><br />\nFor adding support of Guice to JUnit you can use the <a href=\"https://github.com/JeffreyFalgout/junit5-extensions/tree/master/guice-extension\" rel=\"nofollow noreferrer\">GuiceExtension</a>. This enables injection at any state of you unit test but <strong>not</strong> for any other test extension, as explained within the references docs.</p>\n<p><strong>Accessing Guice from extension</strong><br />\nWith following code snippet you can access the Guice injector, created by the <code>GuiceExtension</code>, within your own extension:</p>\n<pre><code>  private static Injector getInjector(ExtensionContext context) {\n    final Namespace GUICE_EXT_NAMESPACE = Namespace.create(&quot;name&quot;, &quot;falgout&quot;, &quot;jeffrey&quot;, &quot;testing&quot;, &quot;junit&quot;, &quot;guice&quot;);\n    if (!context.getElement().isPresent()) {\n      return null;\n    }\n    AnnotatedElement element = context.getElement().get();\n    Store store = context.getStore(GUICE_EXT_NAMESPACE);\n    Injector injector = store.get(element, Injector.class);\n    if (injector == null) {\n      //traverse to parent context (recursively!)\n      if (context.getParent().isPresent()) {\n        return getInjector(context.getParent().get());\n      }\n      return null;\n    }\n\n    return injector;\n  }\n</code></pre>\n<p>Inside the extension you simple provide the <code>ExtensionContext</code> like:</p>\n<pre><code>@Override\npublic void afterEach(ExtensionContext context) throws Exception {\n  Injector injector = getInjector(context);\n  ...\n</code></pre>\n<p><strong>Injecting dedicated type instance</strong><br />\nWithout defining a type instance as <code>@Singleton</code> Guice will create one new object on each access with <code>@Inject</code> or <code>Injector.getInstance()</code>. To retrieve a particular object instance of your class <code>User</code> you can use a binding annotation like <code>@Named</code> as documented in <a href=\"https://github.com/google/guice/wiki/BindingAnnotations#named\" rel=\"nofollow noreferrer\">Guice Binding Annotations</a>:</p>\n<pre><code>@Provides\n@Named(&quot;MyUser&quot;)\npublic User myUser() {\n   return new MyUserImpl();\n}\n</code></pre>\n<p>and access it with</p>\n<pre><code>@Provides\n@Named(&quot;MyUser&quot;)\nprivate User user();\n</code></pre>\n"}],"owner":{"account_id":20274915,"reputation":1,"user_id":14870203,"display_name":"grav"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":229,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644219180,"creation_date":1643136622,"question_id":70854126,"body_markdown":"I have the following class \r\n\r\n    @ExtendWith({SomeExtension.class})\r\n    public class Test{\r\n    @Inject\r\n    private User user\r\n    //some code\r\n    }\r\nThe code of SomeExtension class\r\n\r\n    public class SomeExtension implements BeforeAllCallback, BeforeEachCallback, AfterAllCallback, AfterEachCallback {\r\n    \r\n    @Inject\r\n    private User user;\r\n    //some code\r\n    }\r\n\r\nIs it possible for each class that implements the SomeExtension extension to create only one instance of the User class, or in other words, is it possible for the User class variable from the SomeExtension extension and the User class variable from the Test class to refer to the same object? @Singleton is not suitable for me, because it create single object for all classes\r\n","title":"How to create single object in extension and injection","body":"<p>I have the following class</p>\n<pre><code>@ExtendWith({SomeExtension.class})\npublic class Test{\n@Inject\nprivate User user\n//some code\n}\n</code></pre>\n<p>The code of SomeExtension class</p>\n<pre><code>public class SomeExtension implements BeforeAllCallback, BeforeEachCallback, AfterAllCallback, AfterEachCallback {\n\n@Inject\nprivate User user;\n//some code\n}\n</code></pre>\n<p>Is it possible for each class that implements the SomeExtension extension to create only one instance of the User class, or in other words, is it possible for the User class variable from the SomeExtension extension and the User class variable from the Test class to refer to the same object? @Singleton is not suitable for me, because it create single object for all classes</p>\n"},{"tags":["java","arrays","sorting","arraylist","collectors"],"comments":[{"owner":{"account_id":5553464,"reputation":17547,"user_id":4405757,"accept_rate":57,"display_name":"Thiyagu"},"score":0,"creation_date":1644151466,"post_id":71006843,"comment_id":125524483,"body_markdown":"Have you tried anything?","body":"Have you tried anything?"},{"owner":{"account_id":24124481,"reputation":1,"user_id":18093052,"display_name":"Qazzablanca"},"score":0,"creation_date":1644153117,"post_id":71006843,"comment_id":125524866,"body_markdown":"yepp, I&#39;ve edited now. Sorry @user7","body":"yepp, I&#39;ve edited now. Sorry @user7"}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644163496,"creation_date":1644154460,"answer_id":71007699,"question_id":71006843,"body_markdown":"Use the [`reversed()`][1] method of `Comparator` to sort *descending* and employ the [`thenComparing()`][2] method to break ties. \r\n\r\nUsing Comparator methods, it’s a one-liner:\r\n\r\n    public void sort(List&lt;TheDList&gt; list) {\r\n        list.sort(\r\n          comparing(TheDList::getValue)\r\n          .reversed()\r\n          .thenComparing(TheDList::getString));\r\n    }\r\n\r\n---\r\n\r\nTo leave the original list unchanged and instead return a new, sorted list, use [`ArrayList`’s copy constructor][3] before sorting:\r\n\r\n    public List&lt;TheDList&gt; sort(List&lt;TheDList&gt; list) {\r\n        list = new ArrayList(list);\r\n        list.sort(\r\n          comparing(TheDList::getValue)\r\n          .reversed()\r\n          .thenComparing(TheDList::getString));\r\n        return list;\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#reversed()\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#thenComparing(java.util.function.Function)\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ArrayList.html#%3Cinit%3E(java.util.Collection)","title":"Sorting a generic list of two types","body":"<p>Use the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#reversed()\" rel=\"nofollow noreferrer\"><code>reversed()</code></a> method of <code>Comparator</code> to sort <em>descending</em> and employ the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Comparator.html#thenComparing(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>thenComparing()</code></a> method to break ties.</p>\n<p>Using Comparator methods, it’s a one-liner:</p>\n<pre><code>public void sort(List&lt;TheDList&gt; list) {\n    list.sort(\n      comparing(TheDList::getValue)\n      .reversed()\n      .thenComparing(TheDList::getString));\n}\n</code></pre>\n<hr />\n<p>To leave the original list unchanged and instead return a new, sorted list, use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ArrayList.html#%3Cinit%3E(java.util.Collection)\" rel=\"nofollow noreferrer\"><code>ArrayList</code>’s copy constructor</a> before sorting:</p>\n<pre><code>public List&lt;TheDList&gt; sort(List&lt;TheDList&gt; list) {\n    list = new ArrayList(list);\n    list.sort(\n      comparing(TheDList::getValue)\n      .reversed()\n      .thenComparing(TheDList::getString));\n    return list;\n}\n</code></pre>\n"}],"owner":{"account_id":24124481,"reputation":1,"user_id":18093052,"display_name":"Qazzablanca"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644218957,"creation_date":1644148111,"question_id":71006843,"body_markdown":"          \r\n      List.add(new TheDList(&quot;abc123&quot;, 9986));\r\n      List.add(new TheDList(&quot;ads314&quot;, 9986));\r\n      List.add(new TheDList(&quot;dal192&quot;, 3214));\r\n      List.add(new TheDList(&quot;sam273&quot;, 3214));\r\n      List.add(new TheDList(&quot;wor213&quot;, 7643));\r\n      List.add(new TheDList(&quot;wos987&quot;, 1292));\r\n      List.add(new TheDList(&quot;cat202&quot;, 9986));\r\n      List.add(new TheDList(&quot;jga213&quot;, 1292));\r\n      List.add(new TheDList(&quot;gog113&quot;, 1493));\r\n      List.add(new TheDList(&quot;aba231&quot;, 9831)); \r\n\r\nThere&#39;s a Class called TheDList and it has the name and value\r\nas `final` variables, but it also has a constructor and (get) methods. \r\n\r\n\r\nThe list above is from a method called sort and the elements in the list above are shuffled before the list is sent to me through this method. \r\n\r\n\r\nthere are two methods within the Class TheDList, `getValue` and `getString`\r\nhow do I sort this using `Collector` or sort methods within Java? \r\n\r\n \r\n\r\n\r\n\r\n\r\n\r\n\r\n    \r\n\r\n \r\n","title":"Sorting a generic list of two types","body":"<pre><code>  List.add(new TheDList(&quot;abc123&quot;, 9986));\n  List.add(new TheDList(&quot;ads314&quot;, 9986));\n  List.add(new TheDList(&quot;dal192&quot;, 3214));\n  List.add(new TheDList(&quot;sam273&quot;, 3214));\n  List.add(new TheDList(&quot;wor213&quot;, 7643));\n  List.add(new TheDList(&quot;wos987&quot;, 1292));\n  List.add(new TheDList(&quot;cat202&quot;, 9986));\n  List.add(new TheDList(&quot;jga213&quot;, 1292));\n  List.add(new TheDList(&quot;gog113&quot;, 1493));\n  List.add(new TheDList(&quot;aba231&quot;, 9831)); \n</code></pre>\n<p>There's a Class called TheDList and it has the name and value\nas <code>final</code> variables, but it also has a constructor and (get) methods.</p>\n<p>The list above is from a method called sort and the elements in the list above are shuffled before the list is sent to me through this method.</p>\n<p>there are two methods within the Class TheDList, <code>getValue</code> and <code>getString</code>\nhow do I sort this using <code>Collector</code> or sort methods within Java?</p>\n"},{"tags":["java","json","serialization","jackson"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1643342519,"post_id":70888612,"comment_id":125319765,"body_markdown":"I&#39;d recommend just using a comment to avoid unexpected side effects","body":"I&#39;d recommend just using a comment to avoid unexpected side effects"},{"owner":{"account_id":80775,"reputation":80356,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":0,"creation_date":1643342879,"post_id":70888612,"comment_id":125319816,"body_markdown":"I don&#39;t find it an anti-pattern at all.  It succinctly documents the purpose of the empty constructor, but more importantly, IDEs such as IntelliJ can be easily configured to stop warning about unused constructors (and methods, fields, etc) when a specific annotation is present.  Regardless of whether your tests *should* have caught this, catching it sooner than tests has value.","body":"I don&#39;t find it an anti-pattern at all.  It succinctly documents the purpose of the empty constructor, but more importantly, IDEs such as IntelliJ can be easily configured to stop warning about unused constructors (and methods, fields, etc) when a specific annotation is present.  Regardless of whether your tests <i>should</i> have caught this, catching it sooner than tests has value."},{"owner":{"account_id":112963,"reputation":28051,"user_id":297776,"accept_rate":94,"display_name":"soc"},"score":0,"creation_date":1643350112,"post_id":70888612,"comment_id":125321045,"body_markdown":"@ControlAltDel the comments haven&#39;t worked out, that&#39;s why I&#39;m asking.","body":"@ControlAltDel the comments haven&#39;t worked out, that&#39;s why I&#39;m asking."},{"owner":{"account_id":893101,"reputation":3385,"user_id":931004,"accept_rate":100,"display_name":"Ghokun"},"score":0,"creation_date":1643355756,"post_id":70888612,"comment_id":125322310,"body_markdown":"&quot;Create unit/integration tests and force pull/merge requests run these tests&quot; would be a better approach.","body":"&quot;Create unit/integration tests and force pull/merge requests run these tests&quot; would be a better approach."},{"owner":{"account_id":112963,"reputation":28051,"user_id":297776,"accept_rate":94,"display_name":"soc"},"score":0,"creation_date":1643368779,"post_id":70888612,"comment_id":125326917,"body_markdown":"That&#39;s already being done. \nI&#39;m asking this question because I prefer preventing mistakes to finding out about them after running tests.","body":"That&#39;s already being done.  I&#39;m asking this question because I prefer preventing mistakes to finding out about them after running tests."}],"answers":[{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1643342644,"creation_date":1643342644,"answer_id":70888678,"question_id":70888612,"body_markdown":"It&#39;s an anti pattern, because the default constructor is the `@JsonCreator` default and everyone knows it - it is useless code.\r\n\r\nYou don&#39;t need to *prevent developers from removing it* because your functional tests will fail if they do so.  ","title":"Is it an anti-pattern to use Jackson&#39;s `@JsonCreator` on empty constructors?","body":"<p>It's an anti pattern, because the default constructor is the <code>@JsonCreator</code> default and everyone knows it - it is useless code.</p>\n<p>You don't need to <em>prevent developers from removing it</em> because your functional tests will fail if they do so.</p>\n"},{"tags":[],"owner":{"account_id":3391382,"reputation":3687,"user_id":2846138,"display_name":"cyberbrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644218540,"creation_date":1644218540,"answer_id":71014756,"question_id":70888612,"body_markdown":"Reading more documentation about this I and regarding all the comments to the question and other answer(s) I came to the conclusion that it really is an anti-pattern to use the `@JsonCreator` for the default constructor. \r\n\r\nThe Javadoc (e.g. [from version 2.13][1]) specifies that a ctor annotated with that annotation should have at least one parameter. (It doesn&#39;t explicitly say so, but a ctor without arguments would be useless more or less.)\r\n\r\n&gt;  NOTE: when annotating creator methods (constructors, factory methods), method must either be:\r\n&gt;\r\n&gt; * Single-argument constructor/factory method without JsonProperty annotation for the argument: if so, this is so-called &quot;delegate creator&quot;, in which case Jackson first binds JSON into type of the argument, and then calls creator. This is often used in conjunction with JsonValue (used for serialization).\r\n&gt; * Constructor/factory method where every argument is annotated with either JsonProperty or JacksonInject, to indicate name of property to bind to\r\n\r\nSo for your problem I would suggest that you get rid of the default ctor and instead annotate at least one of the remaining ctor(s) used in code as well properly. Jackson can use that and the IDE will not mark it as unused.\r\n\r\nIt also could save you from workarounds for not properly or completely initialized objects.\r\n\r\nIn your example this could be\r\n\r\n    public class Person {\r\n      private String name;\r\n      private int age;\r\n    \r\n      @JsonCreator\r\n      public Person(@JsonProperty(&quot;name&quot;) String name, @JsonProperty(&quot;age&quot;) int age) {\r\n        this.name = name;\r\n        this.age = age;\r\n      }\r\n    \r\n      // other getters / setters / business logic come here\r\n    \r\n    }\r\n  [1]: https://fasterxml.github.io/jackson-annotations/javadoc/2.13/com/fasterxml/jackson/annotation/JsonCreator.html","title":"Is it an anti-pattern to use Jackson&#39;s `@JsonCreator` on empty constructors?","body":"<p>Reading more documentation about this I and regarding all the comments to the question and other answer(s) I came to the conclusion that it really is an anti-pattern to use the <code>@JsonCreator</code> for the default constructor.</p>\n<p>The Javadoc (e.g. <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.13/com/fasterxml/jackson/annotation/JsonCreator.html\" rel=\"nofollow noreferrer\">from version 2.13</a>) specifies that a ctor annotated with that annotation should have at least one parameter. (It doesn't explicitly say so, but a ctor without arguments would be useless more or less.)</p>\n<blockquote>\n<p>NOTE: when annotating creator methods (constructors, factory methods), method must either be:</p>\n<ul>\n<li>Single-argument constructor/factory method without JsonProperty annotation for the argument: if so, this is so-called &quot;delegate creator&quot;, in which case Jackson first binds JSON into type of the argument, and then calls creator. This is often used in conjunction with JsonValue (used for serialization).</li>\n<li>Constructor/factory method where every argument is annotated with either JsonProperty or JacksonInject, to indicate name of property to bind to</li>\n</ul>\n</blockquote>\n<p>So for your problem I would suggest that you get rid of the default ctor and instead annotate at least one of the remaining ctor(s) used in code as well properly. Jackson can use that and the IDE will not mark it as unused.</p>\n<p>It also could save you from workarounds for not properly or completely initialized objects.</p>\n<p>In your example this could be</p>\n<pre><code>public class Person {\n  private String name;\n  private int age;\n\n  @JsonCreator\n  public Person(@JsonProperty(&quot;name&quot;) String name, @JsonProperty(&quot;age&quot;) int age) {\n    this.name = name;\n    this.age = age;\n  }\n\n  // other getters / setters / business logic come here\n\n}\n</code></pre>\n"}],"owner":{"account_id":112963,"reputation":28051,"user_id":297776,"accept_rate":94,"display_name":"soc"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":849,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1644218540,"creation_date":1643341835,"question_id":70888612,"body_markdown":"I repeatedly saw code like the following, where the empty constructor was deleted by well-intentioned developers (because it appeared unused), which then broke Jackson serialization (caught by tests later on):\r\n\r\n```\r\npublic class Person {\r\n  private String name;\r\n  private int age;\r\n  \r\n  // appears unused – only used by Jackson\r\n  public Person() {}\r\n\r\n  // used in code\r\n  public Person(String name, int age) {\r\n    this.name = name;\r\n    this.age = age;\r\n  }\r\n\r\n  public String getName() {\r\n    return name;\r\n  }\r\n  public void setName(String name) {\r\n    this.name = name;\r\n  }\r\n\r\n  public int getAge() {\r\n    return age;\r\n  }\r\n  public void setAge(int age) {\r\n    this.age = age;\r\n  }\r\n}\r\n```\r\n\r\nI&#39;m thinking of adding a `@JsonCreator` annotation to the empty constructor to make it more obvious that the constructor is used by Jackson to prevent developers from removing it:\r\n\r\n```\r\npublic class Person {\r\n  private String name;\r\n  private int age;\r\n  \r\n  @JsonCreator // &lt;--------\r\n  public Person() {}\r\n\r\n  // used in code\r\n  public Person(String name, int age) {\r\n    this.name = name;\r\n    this.age = age;\r\n  }\r\n\r\n  public String getName() {\r\n    return name;\r\n  }\r\n  public void setName(String name) {\r\n    this.name = name;\r\n  }\r\n\r\n  public int getAge() {\r\n    return age;\r\n  }\r\n  public void setAge(int age) {\r\n    this.age = age;\r\n  }\r\n}\r\n```\r\n\r\nIs this a good idea or does this have unintended consequences (i. e. changing semantics compared to the no-annotation case)?\r\n\r\nOr is this use of `@JsonCreator` an anti-pattern and there is a better way to achieve this (short of converting the class to a record)?","title":"Is it an anti-pattern to use Jackson&#39;s `@JsonCreator` on empty constructors?","body":"<p>I repeatedly saw code like the following, where the empty constructor was deleted by well-intentioned developers (because it appeared unused), which then broke Jackson serialization (caught by tests later on):</p>\n<pre><code>public class Person {\n  private String name;\n  private int age;\n  \n  // appears unused – only used by Jackson\n  public Person() {}\n\n  // used in code\n  public Person(String name, int age) {\n    this.name = name;\n    this.age = age;\n  }\n\n  public String getName() {\n    return name;\n  }\n  public void setName(String name) {\n    this.name = name;\n  }\n\n  public int getAge() {\n    return age;\n  }\n  public void setAge(int age) {\n    this.age = age;\n  }\n}\n</code></pre>\n<p>I'm thinking of adding a <code>@JsonCreator</code> annotation to the empty constructor to make it more obvious that the constructor is used by Jackson to prevent developers from removing it:</p>\n<pre><code>public class Person {\n  private String name;\n  private int age;\n  \n  @JsonCreator // &lt;--------\n  public Person() {}\n\n  // used in code\n  public Person(String name, int age) {\n    this.name = name;\n    this.age = age;\n  }\n\n  public String getName() {\n    return name;\n  }\n  public void setName(String name) {\n    this.name = name;\n  }\n\n  public int getAge() {\n    return age;\n  }\n  public void setAge(int age) {\n    this.age = age;\n  }\n}\n</code></pre>\n<p>Is this a good idea or does this have unintended consequences (i. e. changing semantics compared to the no-annotation case)?</p>\n<p>Or is this use of <code>@JsonCreator</code> an anti-pattern and there is a better way to achieve this (short of converting the class to a record)?</p>\n"},{"tags":["java","selenium","maven"],"comments":[{"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"score":0,"creation_date":1644164355,"post_id":71008690,"comment_id":125527668,"body_markdown":"I see the same was asked here https://stackoverflow.com/questions/70562352/testng-detected-testng-version-7-4-0-error, have you tried any suggestions?","body":"I see the same was asked here <a href=\"https://stackoverflow.com/questions/70562352/testng-detected-testng-version-7-4-0-error\" title=\"testng detected testng version 7 4 0 error\">stackoverflow.com/questions/70562352/&hellip;</a>, have you tried any suggestions?"}],"answers":[{"tags":[],"owner":{"account_id":6788662,"reputation":2778,"user_id":5226491,"display_name":"Max Daroshchanka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644218413,"creation_date":1644164207,"answer_id":71009157,"question_id":71008690,"body_markdown":"This issue looks like not related to TestNG.\r\n\r\nIt just appeared within TestNG lifecycle, so testng is mentioned in the error.\r\n\r\nThe line, which throws the error is:\r\n```\r\nat resources.ExtentReporterNG.getReportObject(ExtentReporterNG.java:14)\r\n```\r\n\r\nand this is your project class, but from `ExtentReporterNG` name I guess you are using \r\n\r\nhttps://github.com/extent-framework/extentreports-java tool for generation the report.\r\n\r\nAnd the error message:\r\n\r\n```\r\n&quot;java.lang.NoClassDefFoundError: io/reactivex/rxjava3/core/Observer&quot;\r\n```\r\n\r\nmeans that the issue is related to `io.reactivex.rxjava3` dependency.\r\n\r\n\r\nAnd `extentreports-java` has this dependency in `pom.xml`.\r\n\r\nhttps://github.com/extent-framework/extentreports-java/blob/master/pom.xml\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;io.reactivex.rxjava3&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;rxjava&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n---\r\n\r\n__Conclusion__\r\n\r\nI believe you have some other dependency in the project, which has another version of `io.reactivex` and the final resolved dependency doesn&#39;t contain `io/reactivex/rxjava3/core/Observer` class.\r\n\r\nSo, I suggest to add this dependency explicitly to the project pom.\r\n\r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;io.reactivex.rxjava3&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;rxjava&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.0.4&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n---\r\n\r\n## Investigate Maven Dependency Conflicts\r\n\r\nAdd this plugin with next configuration to your pom (`&lt;plugins&gt;..&lt;/plugins&gt;`)\r\n```\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n\t&lt;version&gt;3.0.0&lt;/version&gt;\r\n\t&lt;configuration&gt;\r\n\t\t&lt;rules&gt;&lt;DependencyConvergence/&gt;&lt;/rules&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nand execute:\r\n\r\n```\r\nmvn enforcer:enforce\r\n```\r\n\r\nThis will print all potential dependency issues.\r\n\r\nLook for lines with\r\n\r\n```\r\nio.reactivex\r\n```\r\n\r\nThere are should be dependencies, which introduces the potential \r\n\r\n```\r\njava.lang.NoClassDefFoundError: io/reactivex/rxjava3/core/Observer\r\n```\r\n\r\nerror.\r\n","title":"How to solve &quot;java.lang.NoClassDefFoundError: io/reactivex/rxjava3/core/Observer&quot;","body":"<p>This issue looks like not related to TestNG.</p>\n<p>It just appeared within TestNG lifecycle, so testng is mentioned in the error.</p>\n<p>The line, which throws the error is:</p>\n<pre><code>at resources.ExtentReporterNG.getReportObject(ExtentReporterNG.java:14)\n</code></pre>\n<p>and this is your project class, but from <code>ExtentReporterNG</code> name I guess you are using</p>\n<p><a href=\"https://github.com/extent-framework/extentreports-java\" rel=\"nofollow noreferrer\">https://github.com/extent-framework/extentreports-java</a> tool for generation the report.</p>\n<p>And the error message:</p>\n<pre><code>&quot;java.lang.NoClassDefFoundError: io/reactivex/rxjava3/core/Observer&quot;\n</code></pre>\n<p>means that the issue is related to <code>io.reactivex.rxjava3</code> dependency.</p>\n<p>And <code>extentreports-java</code> has this dependency in <code>pom.xml</code>.</p>\n<p><a href=\"https://github.com/extent-framework/extentreports-java/blob/master/pom.xml\" rel=\"nofollow noreferrer\">https://github.com/extent-framework/extentreports-java/blob/master/pom.xml</a></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.reactivex.rxjava3&lt;/groupId&gt;\n    &lt;artifactId&gt;rxjava&lt;/artifactId&gt;\n    &lt;version&gt;3.0.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<hr />\n<p><strong>Conclusion</strong></p>\n<p>I believe you have some other dependency in the project, which has another version of <code>io.reactivex</code> and the final resolved dependency doesn't contain <code>io/reactivex/rxjava3/core/Observer</code> class.</p>\n<p>So, I suggest to add this dependency explicitly to the project pom.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.reactivex.rxjava3&lt;/groupId&gt;\n    &lt;artifactId&gt;rxjava&lt;/artifactId&gt;\n    &lt;version&gt;3.0.4&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<hr />\n<h2>Investigate Maven Dependency Conflicts</h2>\n<p>Add this plugin with next configuration to your pom (<code>&lt;plugins&gt;..&lt;/plugins&gt;</code>)</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;rules&gt;&lt;DependencyConvergence/&gt;&lt;/rules&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>and execute:</p>\n<pre><code>mvn enforcer:enforce\n</code></pre>\n<p>This will print all potential dependency issues.</p>\n<p>Look for lines with</p>\n<pre><code>io.reactivex\n</code></pre>\n<p>There are should be dependencies, which introduces the potential</p>\n<pre><code>java.lang.NoClassDefFoundError: io/reactivex/rxjava3/core/Observer\n</code></pre>\n<p>error.</p>\n"}],"owner":{"account_id":19117293,"reputation":27,"user_id":13961933,"display_name":"mb13"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1321,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1644218413,"creation_date":1644161320,"question_id":71008690,"body_markdown":"I am trying to run suite using testNG but I got this error :\r\nI search some information on this issue on this site and the web \r\nbut with no success.\r\n\r\n\r\n    [RemoteTestNG] detected TestNG version 7.4.0\r\n    java.lang.NoClassDefFoundError: io/reactivex/rxjava3/core/Observer\r\n    \tat resources.ExtentReporterNG.getReportObject(ExtentReporterNG.java:14)\r\n    \tat ShufersalMiron.Sprod.Listeners.&lt;init&gt;(Listeners.java:22)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:64)\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\r\n    \tat java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\r\n    \tat java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:350)\r\n    \tat java.base/java.lang.Class.newInstance(Class.java:645)\r\n    \tat org.testng.internal.InstanceCreator.newInstance(InstanceCreator.java:30)\r\n    \tat org.testng.TestNG.addListeners(TestNG.java:964)\r\n    \tat org.testng.TestNG.initializeConfiguration(TestNG.java:924)\r\n    \tat org.testng.TestNG.initializeEverything(TestNG.java:1012)\r\n    \tat org.testng.remote.support.RemoteTestNG6_12.initialize(RemoteTestNG6_12.java:22)\r\n    \tat org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:98)\r\n    \tat org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\r\n    \tat org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\r\n    Caused by: java.lang.ClassNotFoundException: io.reactivex.rxjava3.core.Observer\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:606)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:168)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n    \t... 17 more\r\n\r\n\r\n\r\nTestNG :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n        &lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\r\n        &lt;suite name=&quot;Suite&quot;&gt;\r\n        &lt;listeners&gt;\r\n        &lt;listener class-name=&quot;ShufersalMiron.Sprod.Listeners&quot;/&gt;\r\n        &lt;/listeners&gt;\r\n        &lt;test name=&quot;Test1&quot;&gt;\r\n        &lt;classes&gt;\r\n        &lt;class name=&quot;ShufersalMiron.Sprod.PA_Coupons&quot;/&gt;\r\n        &lt;/classes&gt;\r\n        &lt;/test&gt; &lt;!-- Test --&gt;\r\n        &lt;test  name=&quot;Test2&quot;&gt;\r\n        &lt;classes&gt;\r\n        &lt;class name=&quot;ShufersalMiron.Sprod.PA_SupermeCoins&quot;/&gt;\r\n        &lt;/classes&gt;\r\n        &lt;/test&gt; &lt;!-- Test --&gt;\r\n        &lt;/suite&gt; &lt;!-- Suite --&gt;\r\n\r\n\r\n\r\nI search for an answer in the net but with no success.\r\n\r\nCan someone help me with this issue please ?\r\n\r\n\r\n","title":"How to solve &quot;java.lang.NoClassDefFoundError: io/reactivex/rxjava3/core/Observer&quot;","body":"<p>I am trying to run suite using testNG but I got this error :\nI search some information on this issue on this site and the web\nbut with no success.</p>\n<pre><code>[RemoteTestNG] detected TestNG version 7.4.0\njava.lang.NoClassDefFoundError: io/reactivex/rxjava3/core/Observer\n    at resources.ExtentReporterNG.getReportObject(ExtentReporterNG.java:14)\n    at ShufersalMiron.Sprod.Listeners.&lt;init&gt;(Listeners.java:22)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\n    at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:64)\n    at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)\n    at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:500)\n    at java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)\n    at java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:350)\n    at java.base/java.lang.Class.newInstance(Class.java:645)\n    at org.testng.internal.InstanceCreator.newInstance(InstanceCreator.java:30)\n    at org.testng.TestNG.addListeners(TestNG.java:964)\n    at org.testng.TestNG.initializeConfiguration(TestNG.java:924)\n    at org.testng.TestNG.initializeEverything(TestNG.java:1012)\n    at org.testng.remote.support.RemoteTestNG6_12.initialize(RemoteTestNG6_12.java:22)\n    at org.testng.remote.AbstractRemoteTestNG.run(AbstractRemoteTestNG.java:98)\n    at org.testng.remote.RemoteTestNG.initAndRun(RemoteTestNG.java:251)\n    at org.testng.remote.RemoteTestNG.main(RemoteTestNG.java:77)\nCaused by: java.lang.ClassNotFoundException: io.reactivex.rxjava3.core.Observer\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:606)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:168)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n    ... 17 more\n</code></pre>\n<p>TestNG :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n    &lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\n    &lt;suite name=&quot;Suite&quot;&gt;\n    &lt;listeners&gt;\n    &lt;listener class-name=&quot;ShufersalMiron.Sprod.Listeners&quot;/&gt;\n    &lt;/listeners&gt;\n    &lt;test name=&quot;Test1&quot;&gt;\n    &lt;classes&gt;\n    &lt;class name=&quot;ShufersalMiron.Sprod.PA_Coupons&quot;/&gt;\n    &lt;/classes&gt;\n    &lt;/test&gt; &lt;!-- Test --&gt;\n    &lt;test  name=&quot;Test2&quot;&gt;\n    &lt;classes&gt;\n    &lt;class name=&quot;ShufersalMiron.Sprod.PA_SupermeCoins&quot;/&gt;\n    &lt;/classes&gt;\n    &lt;/test&gt; &lt;!-- Test --&gt;\n    &lt;/suite&gt; &lt;!-- Suite --&gt;\n</code></pre>\n<p>I search for an answer in the net but with no success.</p>\n<p>Can someone help me with this issue please ?</p>\n"},{"tags":["java","junit","hashtable"],"answers":[{"tags":[],"owner":{"account_id":8712968,"reputation":312,"user_id":6518591,"display_name":"Abhinav Pandey"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1644218047,"creation_date":1644218047,"answer_id":71014677,"question_id":71014605,"body_markdown":"You are removing all elements from the set and still expecting the size to be the original size. Set `expectedSize` to 0 and it would be fine.\r\n\r\n```java\r\n@Test\r\n    public void removeElementsInSetDecrementsSize() { //TEST\r\n        int expectedSize = 0;\r\n        for (int elem : uniqueSetElements) {\r\n            // Act\r\n            set.remove(elem);\r\n        }\r\n        assertThat(set.size(), equalTo(expectedSize));\r\n    }\r\n```\r\n\r\n\r\n","title":"removeElementsInSetDecrementsSize test not going through with HashTable","body":"<p>You are removing all elements from the set and still expecting the size to be the original size. Set <code>expectedSize</code> to 0 and it would be fine.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\n    public void removeElementsInSetDecrementsSize() { //TEST\n        int expectedSize = 0;\n        for (int elem : uniqueSetElements) {\n            // Act\n            set.remove(elem);\n        }\n        assertThat(set.size(), equalTo(expectedSize));\n    }\n</code></pre>\n"}],"owner":{"display_name":"user18126504"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1644218047,"creation_date":1644217451,"question_id":71014605,"body_markdown":"I have one test that is not going through in this testclass. I have implemented the code that I have tried, however it is not working. I dont know what I am doing wrong. I think that my Hashtable code is correct however, this test does not work. \r\n\r\n//TODO: How should I write this test in the testclass.\r\n\r\nThe message I get is :\r\n```\r\njava.lang.AssertionError: \r\nExpected: &lt;7&gt;\r\n     but: was &lt;0&gt;\r\nExpected :&lt;7&gt;\r\nActual   :&lt;0&gt;\r\n```\r\n\r\n```\r\n/**\r\n * An interface describing a generic set. Duplicates are not allowed.\r\n */\r\npublic interface Set&lt;T&gt; {\r\n\r\n    boolean add(T elem);\r\n\r\n    boolean remove(T elem);\r\n\r\n    boolean contains(T elem);\r\n\r\n    int size();\r\n}\r\n\r\n```\r\n```\r\nimport java.util.LinkedList;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\n\r\nimport static java.util.Objects.hash;\r\n\r\n/**\r\n * A hash table-based implementation of the Set interface.\r\n */\r\npublic class HashSet&lt;T&gt; implements Set&lt;T&gt; {\r\n   private List&lt;T&gt;[] table;\r\n    private int size;\r\n    private int capacity;\r\n    private int index;\r\n\r\n\r\n\r\n     /**\r\n     * Creates a hash table with the given capacity (amount of buckets).\r\n     *\r\n     * @throws IllegalArgumentException if capacity &lt;= 0.\r\n     */\r\n    public HashSet(int capacity) {\r\n        if (capacity &lt;= 0) {\r\n            throw new IllegalArgumentException(\r\n                &quot;capacity must be a positive, non-zero value! Provided: &quot; + capacity);\r\n        }\r\n     @SuppressWarnings(&quot;unchecked&quot;) // for this declaration only\r\n      List&lt;T&gt;[] t = new LinkedList[capacity];\r\n      table = t;\r\n      size = 0;\r\n    }\r\n\r\n\r\n    /**\r\n     * Adds the given element to the set.\r\n     *\r\n     * Complexity: O(1) expected time.\r\n     *\r\n     * @param elem An element to add to the set.\r\n     * @return true if the set did not contain the element, otherwise false.\r\n     */\r\n    @Override\r\n    public boolean add(T elem) {\r\n    if (elem == null || elem.equals(&quot;&quot;)){\r\n            return false;\r\n        }\r\n\r\n        int hash = Math.abs(elem.hashCode() % table.length);\r\n\r\n        if (table[hash]== null){\r\n            table[hash] = new LinkedList&lt;T&gt;();\r\n            table[hash].add(elem);\r\n            size ++;\r\n            return true;\r\n        }\r\n        if (table[hash].contains(elem)){\r\n            return false;\r\n        }else{\r\n            table[hash].add(elem);\r\n            size++;\r\n            return true;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Removes the given element from the dictionary, if it is present.\r\n     *\r\n     * Complexity: O(1) expected time.\r\n     *\r\n     * @param elem An element to remove from the set.\r\n     * @return true if the set contained the element, false otherwise.\r\n     */\r\n    @Override\r\n    public boolean remove(T elem) {\r\n        if (elem == null || elem.equals(&quot;&quot;)){\r\n            return false;\r\n        }\r\n\r\n        int hash = Math.abs(elem.hashCode() % table.length);\r\n\r\n        if (table[hash] != null &amp;&amp; table[hash].contains(elem)){\r\n            table[hash].remove(elem);\r\n            size --;\r\n            return true;\r\n        }else{\r\n            return false;\r\n        }\r\n    }\r\n\r\n\r\n    /**\r\n     * Check if an element is in the Set.\r\n     *\r\n     * Complexity: O(1) expected time.\r\n     *\r\n     * @param elem An element to look for.\r\n     * @return true if the element is in the set, false otherwise.\r\n     */\r\n    @Override\r\n    public boolean contains(T elem) {\r\n        if (elem == null || elem .equals(&quot;&quot;)){\r\n            return false;\r\n        }\r\n        int hash = Math.abs(elem.hashCode() % table.length);\r\n\r\n        if (table[hash] != null &amp;&amp; table[hash].contains(elem)){\r\n            return true;\r\n        }else{\r\n            return false;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean equals(Object o) {\r\n        if (this == o) return true;\r\n        if (o == null || getClass() != o.getClass()) return false;\r\n        HashSet&lt;?&gt; hashSet = (HashSet&lt;?&gt;) o;\r\n        return capacity == hashSet.capacity &amp;&amp; size == hashSet.size &amp;&amp; index == hashSet.index &amp;&amp; Objects.equals(table, hashSet.table);\r\n    }\r\n\r\n    @Override\r\n    public int hashCode() {\r\n        return hash(capacity, size, index, table);\r\n    }\r\n\r\n    /**\r\n     * Returns the number of elements in this set.\r\n     *\r\n     * Complexity: O(1) expected time.\r\n     *\r\n     * @return The amount of elements in this set.\r\n     */\r\n    @Override\r\n    public int size() {\r\n        return size;\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\n```\r\nimport org.junit.Test;\r\nimport org.junit.Before;\r\nimport static org.junit.Assert.*;\r\nimport org.junit.Rule;\r\nimport org.junit.rules.Timeout;\r\nimport static org.hamcrest.MatcherAssert.assertThat;\r\nimport static org.hamcrest.CoreMatchers.*;\r\n\r\nimport java.util.Arrays;\r\nimport java.util.EmptyStackException;\r\nimport java.util.stream.IntStream;\r\n/**\r\n * Abstract test class for Set implementations.\r\n *\r\n * Implementing test classes must override the getIntegerSet method.\r\n *\r\n */\r\npublic abstract class SetTest {\r\n    @Rule public Timeout globalTimeout = Timeout.seconds(5); // 5 seconds max per method tested\r\n\r\n    private Set&lt;Integer&gt; set;\r\n    private final int CAPACITY = 20;\r\n    private int[] uniqueSetElements;\r\n    private int[] elementsNotInSet;\r\n\r\n    /**\r\n     * Returns an implementation of Set that can hold at least &#39;minCapacity&#39;\r\n     * Integers.\r\n     *\r\n     * @param minCapacity The least amount of elements the Set must be able to\r\n     * hold.\r\n     * @return An implementation of Set.\r\n     */\r\n    protected abstract Set&lt;Integer&gt; getIntegerSet(int minCapacity);\r\n\r\n    @Before\r\n    public void setUp() {\r\n        // Arrange\r\n        set = getIntegerSet(CAPACITY);\r\n        uniqueSetElements =\r\n            new int[] {-234, 32, 443, Integer.MAX_VALUE, Integer.MIN_VALUE, 0, -231};\r\n        // Works because all elements in uniqueSetElements are more than 2 values apart\r\n        // -2 as Integer.MIN_VALUE - 1 == Integer.MAX_VALUE because of underflow\r\n        elementsNotInSet = Arrays.stream(uniqueSetElements).map(elem -&gt; elem - 2).toArray();\r\n\r\n        for (int elem : uniqueSetElements) {\r\n            set.add(elem);\r\n        }\r\n    }\r\n\r\n    @Test\r\n    public void removeElementsInSetDecrementsSize() { //TEST\r\n        int expectedSize = uniqueSetElements.length;\r\n        for (int elem : uniqueSetElements) {\r\n            // Act\r\n            set.remove(elem);\r\n        }\r\n        assertThat(set.size(), equalTo(expectedSize));\r\n    }\r\n}\r\n```","title":"removeElementsInSetDecrementsSize test not going through with HashTable","body":"<p>I have one test that is not going through in this testclass. I have implemented the code that I have tried, however it is not working. I dont know what I am doing wrong. I think that my Hashtable code is correct however, this test does not work.</p>\n<p>//TODO: How should I write this test in the testclass.</p>\n<p>The message I get is :</p>\n<pre><code>java.lang.AssertionError: \nExpected: &lt;7&gt;\n     but: was &lt;0&gt;\nExpected :&lt;7&gt;\nActual   :&lt;0&gt;\n</code></pre>\n<pre><code>/**\n * An interface describing a generic set. Duplicates are not allowed.\n */\npublic interface Set&lt;T&gt; {\n\n    boolean add(T elem);\n\n    boolean remove(T elem);\n\n    boolean contains(T elem);\n\n    int size();\n}\n\n</code></pre>\n<pre><code>import java.util.LinkedList;\nimport java.util.List;\nimport java.util.Objects;\n\nimport static java.util.Objects.hash;\n\n/**\n * A hash table-based implementation of the Set interface.\n */\npublic class HashSet&lt;T&gt; implements Set&lt;T&gt; {\n   private List&lt;T&gt;[] table;\n    private int size;\n    private int capacity;\n    private int index;\n\n\n\n     /**\n     * Creates a hash table with the given capacity (amount of buckets).\n     *\n     * @throws IllegalArgumentException if capacity &lt;= 0.\n     */\n    public HashSet(int capacity) {\n        if (capacity &lt;= 0) {\n            throw new IllegalArgumentException(\n                &quot;capacity must be a positive, non-zero value! Provided: &quot; + capacity);\n        }\n     @SuppressWarnings(&quot;unchecked&quot;) // for this declaration only\n      List&lt;T&gt;[] t = new LinkedList[capacity];\n      table = t;\n      size = 0;\n    }\n\n\n    /**\n     * Adds the given element to the set.\n     *\n     * Complexity: O(1) expected time.\n     *\n     * @param elem An element to add to the set.\n     * @return true if the set did not contain the element, otherwise false.\n     */\n    @Override\n    public boolean add(T elem) {\n    if (elem == null || elem.equals(&quot;&quot;)){\n            return false;\n        }\n\n        int hash = Math.abs(elem.hashCode() % table.length);\n\n        if (table[hash]== null){\n            table[hash] = new LinkedList&lt;T&gt;();\n            table[hash].add(elem);\n            size ++;\n            return true;\n        }\n        if (table[hash].contains(elem)){\n            return false;\n        }else{\n            table[hash].add(elem);\n            size++;\n            return true;\n        }\n    }\n\n    /**\n     * Removes the given element from the dictionary, if it is present.\n     *\n     * Complexity: O(1) expected time.\n     *\n     * @param elem An element to remove from the set.\n     * @return true if the set contained the element, false otherwise.\n     */\n    @Override\n    public boolean remove(T elem) {\n        if (elem == null || elem.equals(&quot;&quot;)){\n            return false;\n        }\n\n        int hash = Math.abs(elem.hashCode() % table.length);\n\n        if (table[hash] != null &amp;&amp; table[hash].contains(elem)){\n            table[hash].remove(elem);\n            size --;\n            return true;\n        }else{\n            return false;\n        }\n    }\n\n\n    /**\n     * Check if an element is in the Set.\n     *\n     * Complexity: O(1) expected time.\n     *\n     * @param elem An element to look for.\n     * @return true if the element is in the set, false otherwise.\n     */\n    @Override\n    public boolean contains(T elem) {\n        if (elem == null || elem .equals(&quot;&quot;)){\n            return false;\n        }\n        int hash = Math.abs(elem.hashCode() % table.length);\n\n        if (table[hash] != null &amp;&amp; table[hash].contains(elem)){\n            return true;\n        }else{\n            return false;\n        }\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n        HashSet&lt;?&gt; hashSet = (HashSet&lt;?&gt;) o;\n        return capacity == hashSet.capacity &amp;&amp; size == hashSet.size &amp;&amp; index == hashSet.index &amp;&amp; Objects.equals(table, hashSet.table);\n    }\n\n    @Override\n    public int hashCode() {\n        return hash(capacity, size, index, table);\n    }\n\n    /**\n     * Returns the number of elements in this set.\n     *\n     * Complexity: O(1) expected time.\n     *\n     * @return The amount of elements in this set.\n     */\n    @Override\n    public int size() {\n        return size;\n    }\n}\n\n</code></pre>\n<pre><code>import org.junit.Test;\nimport org.junit.Before;\nimport static org.junit.Assert.*;\nimport org.junit.Rule;\nimport org.junit.rules.Timeout;\nimport static org.hamcrest.MatcherAssert.assertThat;\nimport static org.hamcrest.CoreMatchers.*;\n\nimport java.util.Arrays;\nimport java.util.EmptyStackException;\nimport java.util.stream.IntStream;\n/**\n * Abstract test class for Set implementations.\n *\n * Implementing test classes must override the getIntegerSet method.\n *\n */\npublic abstract class SetTest {\n    @Rule public Timeout globalTimeout = Timeout.seconds(5); // 5 seconds max per method tested\n\n    private Set&lt;Integer&gt; set;\n    private final int CAPACITY = 20;\n    private int[] uniqueSetElements;\n    private int[] elementsNotInSet;\n\n    /**\n     * Returns an implementation of Set that can hold at least 'minCapacity'\n     * Integers.\n     *\n     * @param minCapacity The least amount of elements the Set must be able to\n     * hold.\n     * @return An implementation of Set.\n     */\n    protected abstract Set&lt;Integer&gt; getIntegerSet(int minCapacity);\n\n    @Before\n    public void setUp() {\n        // Arrange\n        set = getIntegerSet(CAPACITY);\n        uniqueSetElements =\n            new int[] {-234, 32, 443, Integer.MAX_VALUE, Integer.MIN_VALUE, 0, -231};\n        // Works because all elements in uniqueSetElements are more than 2 values apart\n        // -2 as Integer.MIN_VALUE - 1 == Integer.MAX_VALUE because of underflow\n        elementsNotInSet = Arrays.stream(uniqueSetElements).map(elem -&gt; elem - 2).toArray();\n\n        for (int elem : uniqueSetElements) {\n            set.add(elem);\n        }\n    }\n\n    @Test\n    public void removeElementsInSetDecrementsSize() { //TEST\n        int expectedSize = uniqueSetElements.length;\n        for (int elem : uniqueSetElements) {\n            // Act\n            set.remove(elem);\n        }\n        assertThat(set.size(), equalTo(expectedSize));\n    }\n}\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1644216888,"post_id":71014475,"comment_id":125536674,"body_markdown":"According to your log, you have a NullPointerException","body":"According to your log, you have a NullPointerException"},{"owner":{"account_id":263656,"reputation":1,"user_id":549372,"accept_rate":100,"display_name":"Martin Zeitler"},"score":0,"creation_date":1644219067,"post_id":71014475,"comment_id":125537231,"body_markdown":"`NavigationView.getHeaderView(int)` needs a `NavigationView`, to begin with.","body":"<code>NavigationView.getHeaderView(int)</code> needs a <code>NavigationView</code>, to begin with."}],"answers":[{"tags":[],"owner":{"account_id":16474455,"reputation":1051,"user_id":11902787,"display_name":"Nisa Efendioglu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644217695,"creation_date":1644217695,"answer_id":71014635,"question_id":71014475,"body_markdown":"you have a NullPointerException. You should check whether the data you receive is full. For example \r\nif(data != null){\r\n.\r\n.\r\n.\r\n...\r\n}","title":"My app crashed when clicking new dependency question. I don&#39;t know what is the error and how to solved it","body":"<p>you have a NullPointerException. You should check whether the data you receive is full. For example\nif(data != null){\n.\n.\n.\n...\n}</p>\n"}],"owner":{"account_id":23782351,"reputation":9,"user_id":17794866,"display_name":"Prasanth M"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":216,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1644218806,"answer_count":1,"score":-1,"last_activity_date":1644217695,"creation_date":1644216300,"question_id":71014475,"body_markdown":" `Error`\r\n   E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.login, PID: 6969\r\n    java.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.login/com.example.login.NavigationDrawer}: android.view.InflateException: Binary XML file line #15: Binary XML file line #19: Error inflating class fragment\r\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2946)\r\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3081)\r\n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\r\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\r\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\r\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1831)\r\n    at android.os.Handler.dispatchMessage(Handler.java:106)\r\n    at android.os.Looper.loop(Looper.java:201)\r\n    at android.app.ActivityThread.main(ActivityThread.java:6810)\r\n    at java.lang.reflect.Method.invoke(Native Method)\r\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)\r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:873)\r\n    Caused by: android.view.InflateException: Binary XML file line #15: Binary XML file line #19: Error inflating class fragment\r\n    Caused by: android.view.InflateException: Binary XML file line #19: Error inflating class fragment\r\n    Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;android.view.View com.google.android.material.navigation.NavigationView.getHeaderView(int)&#39; on a null object reference\r\n    at com.example.login.ui.questionnaire.QuestionnaireFragment.onCreateView(QuestionnaireFragment.java:80)\r\n    at androidx.fragment.app.Fragment.performCreateView(Fragment.java:2995)\r\n    at androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:523)\r\n    at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261)\r\n    at androidx.fragment.app.FragmentStore.moveToExpectedState(FragmentStore.java:113)\r\n    at androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1374)\r\n    at androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:2841)\r\n    at androidx.fragment.app.FragmentManager.dispatchViewCreated(FragmentManager.java:2777)\r\n    at androidx.fragment.app.Fragment.performViewCreated(Fragment.java:3020)\r\n    at androidx.fragment.app.FragmentStateManager.ensureInflatedView(FragmentStateManager.java:394)\r\n    at androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:260)\r\n    at androidx.fragment.app.FragmentLayoutInflaterFactory.onCreateView(FragmentLayoutInflaterFactory.java:142)\r\n    at androidx.fragment.app.FragmentController.onCreateView(FragmentController.java:135)\r\n    at androidx.fragment.app.FragmentActivity.dispatchFragmentsOnCreateView(FragmentActivity.java:295)\r\n    at androidx.fragment.app.FragmentActivity.onCreateView(FragmentActivity.java:274)\r\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:784)\r\n    at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:734)\r\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:867)\r\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:828)\r\n    at android.view.LayoutInflater.parseInclude(LayoutInflater.java:999)\r\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:863)\r\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:828)\r\n    at android.view.LayoutInflater.parseInclude(LayoutInflater.java:999)\r\n    at android.view.LayoutInflater.rInflate(LayoutInflater.java:863)\r\n    at android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:828)\r\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:519)\r\n    at android.view.LayoutInflater.inflate(LayoutInflater.java:427)\r\n    at com.example.login.databinding.ActivityNavigationDrawerBinding.inflate(ActivityNavigationDrawerBinding.java:54)\r\n    at com.example.login.databinding.ActivityNavigationDrawerBinding.inflate(ActivityNavigationDrawerBinding.java:48)\r\n    E/AndroidRuntime:     at com.example.login.NavigationDrawer.onCreate(NavigationDrawer.java:42)\r\n    at android.app.Activity.performCreate(Activity.java:7224)\r\n    at android.app.Activity.performCreate(Activity.java:7213)\r\n    at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1272)\r\n    at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2926)\r\n    at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3081)\r\n    at android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\r\n    at android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\r\n    at android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\r\n    at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1831)\r\n    at android.os.Handler.dispatchMessage(Handler.java:106)\r\n    at android.os.Looper.loop(Looper.java:201)\r\n    at android.app.ActivityThread.main(ActivityThread.java:6810)\r\n    at java.lang.reflect.Method.invoke(Native Method)\r\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)\r\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:873\r\n\r\n    Java Code\r\n    \r\n    package com.example.login;\r\n    import android.content.DialogInterface;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.Menu;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.EditText;\r\n    import androidx.appcompat.app.AlertDialog;\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    import androidx.drawerlayout.widget.DrawerLayout;\r\n    import androidx.navigation.NavController;\r\n    import androidx.navigation.Navigation;\r\n    import androidx.navigation.ui.AppBarConfiguration;\r\n    import androidx.navigation.ui.NavigationUI;\r\n    import com.example.login.databinding.ActivityNavigationDrawerBinding;\r\n    import com.google.android.material.navigation.NavigationView;\r\n    import com.google.android.material.snackbar.Snackbar;\r\n    public class NavigationDrawer extends AppCompatActivity {\r\n    private AppBarConfiguration mAppBarConfiguration;\r\n    private ActivityNavigationDrawerBinding binding;\r\n    private String username;\r\n    private EditText etUsername;\r\n    Pref pref;\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    pref = new Pref(getApplicationContext());\r\n    //get username from login page\r\n    username = pref.getUsername();\r\n    //System.out.println(&quot;username in 2nd  &quot;+username);\r\n    binding = ActivityNavigationDrawerBinding.inflate(getLayoutInflater());\r\n    setContentView(binding.getRoot());\r\n    //setContentView(binding.navView);\r\n    setSupportActionBar(binding.appBarNavigationDrawer.toolbar);\r\n    binding.appBarNavigationDrawer.fab.setOnClickListener(new View.OnClickListener() {\r\n    @Override\r\n    public void onClick(View view) {\r\n    Snackbar.make(view, &quot;Replace with your own action&quot;, Snackbar.LENGTH_LONG)\r\n    .setAction(&quot;Action&quot;, null).show();\r\n    }\r\n    });\r\n    DrawerLayout drawer = binding.drawerLayout;\r\n    NavigationView navigationView = binding.navView;\r\n    // Passing each menu ID as a set of Ids because each\r\n    // menu should be considered as top level destinations.\r\n    mAppBarConfiguration = new AppBarConfiguration.Builder(\r\n    R.id.nav_questionnaire, R.id.nav_submitsurvey, R.id.nav_responses, R.id.nav_imagecapture, R.id.nav_dashboard)\r\n    .setOpenableLayout(drawer)\r\n    .build();\r\n     NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_navigation_drawer);\r\n    NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\r\n    NavigationUI.setupWithNavController(navigationView, navController);\r\n    }\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n    // Inflate the menu; this adds items to the action bar if it is present.\r\n    getMenuInflater().inflate(R.menu.navigation_drawer, menu);\r\n    //display welcome username\r\n    etUsername = findViewById(R.id.welcomeUsername);\r\n     etUsername.setText(username);\r\n     Button button_log_out = findViewById(R.id.button_log_out);\r\n    button_log_out.setOnClickListener(new View.OnClickListener() {\r\n     @Override\r\n    public void onClick(View v) {\r\n    logoutDialog();\r\n    }\r\n    });\r\n    return true;\r\n        }\r\n        @Override\r\n        public boolean onSupportNavigateUp() {\r\n     NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_navigation_drawer);\r\n    return NavigationUI.navigateUp(navController, mAppBarConfiguration)\r\n     || super.onSupportNavigateUp();\r\n    }\r\n    public void logoutDialog() {\r\n    AlertDialog.Builder alertDialog = new AlertDialog.Builder(this);\r\n    alertDialog.setTitle(&quot;LogOut Alert!&quot;);\r\n    alertDialog.setMessage(&quot;Are you sure want to LogOut this Application?&quot;);\r\n    alertDialog.setCancelable(true);\r\n    alertDialog.setPositiveButton(&quot;YES&quot;, new DialogInterface.OnClickListener() {\r\n    @Override\r\n    public void onClick(DialogInterface dialog, int which) {\r\n      pref.setLogin(&quot;no&quot;);\r\n    dialog.dismiss();\r\n    Intent intent = new Intent(NavigationDrawer.this, MainActivity.class);\r\n    intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_NEW_TASK);\r\n    startActivity(intent);\r\n    }\r\n    });\r\n    alertDialog.setNegativeButton(&quot;NO&quot;, new DialogInterface.OnClickListener() {\r\n     @Override\r\n     public void onClick(DialogInterface dialog, int which) {\r\n     dialog.dismiss();\r\n     }\r\n            });\r\n    alertDialog.show();\r\n        }\r\n    }","title":"My app crashed when clicking new dependency question. I don&#39;t know what is the error and how to solved it","body":"<p><code>Error</code>\nE/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.login, PID: 6969\njava.lang.RuntimeException: Unable to start activity ComponentInfo{com.example.login/com.example.login.NavigationDrawer}: android.view.InflateException: Binary XML file line #15: Binary XML file line #19: Error inflating class fragment\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2946)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3081)\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1831)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loop(Looper.java:201)\nat android.app.ActivityThread.main(ActivityThread.java:6810)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:873)\nCaused by: android.view.InflateException: Binary XML file line #15: Binary XML file line #19: Error inflating class fragment\nCaused by: android.view.InflateException: Binary XML file line #19: Error inflating class fragment\nCaused by: java.lang.NullPointerException: Attempt to invoke virtual method 'android.view.View com.google.android.material.navigation.NavigationView.getHeaderView(int)' on a null object reference\nat com.example.login.ui.questionnaire.QuestionnaireFragment.onCreateView(QuestionnaireFragment.java:80)\nat androidx.fragment.app.Fragment.performCreateView(Fragment.java:2995)\nat androidx.fragment.app.FragmentStateManager.createView(FragmentStateManager.java:523)\nat androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:261)\nat androidx.fragment.app.FragmentStore.moveToExpectedState(FragmentStore.java:113)\nat androidx.fragment.app.FragmentManager.moveToState(FragmentManager.java:1374)\nat androidx.fragment.app.FragmentManager.dispatchStateChange(FragmentManager.java:2841)\nat androidx.fragment.app.FragmentManager.dispatchViewCreated(FragmentManager.java:2777)\nat androidx.fragment.app.Fragment.performViewCreated(Fragment.java:3020)\nat androidx.fragment.app.FragmentStateManager.ensureInflatedView(FragmentStateManager.java:394)\nat androidx.fragment.app.FragmentStateManager.moveToExpectedState(FragmentStateManager.java:260)\nat androidx.fragment.app.FragmentLayoutInflaterFactory.onCreateView(FragmentLayoutInflaterFactory.java:142)\nat androidx.fragment.app.FragmentController.onCreateView(FragmentController.java:135)\nat androidx.fragment.app.FragmentActivity.dispatchFragmentsOnCreateView(FragmentActivity.java:295)\nat androidx.fragment.app.FragmentActivity.onCreateView(FragmentActivity.java:274)\nat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:784)\nat android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:734)\nat android.view.LayoutInflater.rInflate(LayoutInflater.java:867)\nat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:828)\nat android.view.LayoutInflater.parseInclude(LayoutInflater.java:999)\nat android.view.LayoutInflater.rInflate(LayoutInflater.java:863)\nat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:828)\nat android.view.LayoutInflater.parseInclude(LayoutInflater.java:999)\nat android.view.LayoutInflater.rInflate(LayoutInflater.java:863)\nat android.view.LayoutInflater.rInflateChildren(LayoutInflater.java:828)\nat android.view.LayoutInflater.inflate(LayoutInflater.java:519)\nat android.view.LayoutInflater.inflate(LayoutInflater.java:427)\nat com.example.login.databinding.ActivityNavigationDrawerBinding.inflate(ActivityNavigationDrawerBinding.java:54)\nat com.example.login.databinding.ActivityNavigationDrawerBinding.inflate(ActivityNavigationDrawerBinding.java:48)\nE/AndroidRuntime:     at com.example.login.NavigationDrawer.onCreate(NavigationDrawer.java:42)\nat android.app.Activity.performCreate(Activity.java:7224)\nat android.app.Activity.performCreate(Activity.java:7213)\nat android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1272)\nat android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2926)\nat android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:3081)\nat android.app.servertransaction.LaunchActivityItem.execute(LaunchActivityItem.java:78)\nat android.app.servertransaction.TransactionExecutor.executeCallbacks(TransactionExecutor.java:108)\nat android.app.servertransaction.TransactionExecutor.execute(TransactionExecutor.java:68)\nat android.app.ActivityThread$H.handleMessage(ActivityThread.java:1831)\nat android.os.Handler.dispatchMessage(Handler.java:106)\nat android.os.Looper.loop(Looper.java:201)\nat android.app.ActivityThread.main(ActivityThread.java:6810)\nat java.lang.reflect.Method.invoke(Native Method)\nat com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:547)\nat com.android.internal.os.ZygoteInit.main(ZygoteInit.java:873</p>\n<pre><code>Java Code\n\npackage com.example.login;\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.Menu;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport androidx.appcompat.app.AlertDialog;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.drawerlayout.widget.DrawerLayout;\nimport androidx.navigation.NavController;\nimport androidx.navigation.Navigation;\nimport androidx.navigation.ui.AppBarConfiguration;\nimport androidx.navigation.ui.NavigationUI;\nimport com.example.login.databinding.ActivityNavigationDrawerBinding;\nimport com.google.android.material.navigation.NavigationView;\nimport com.google.android.material.snackbar.Snackbar;\npublic class NavigationDrawer extends AppCompatActivity {\nprivate AppBarConfiguration mAppBarConfiguration;\nprivate ActivityNavigationDrawerBinding binding;\nprivate String username;\nprivate EditText etUsername;\nPref pref;\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\nsuper.onCreate(savedInstanceState);\npref = new Pref(getApplicationContext());\n//get username from login page\nusername = pref.getUsername();\n//System.out.println(&quot;username in 2nd  &quot;+username);\nbinding = ActivityNavigationDrawerBinding.inflate(getLayoutInflater());\nsetContentView(binding.getRoot());\n//setContentView(binding.navView);\nsetSupportActionBar(binding.appBarNavigationDrawer.toolbar);\nbinding.appBarNavigationDrawer.fab.setOnClickListener(new View.OnClickListener() {\n@Override\npublic void onClick(View view) {\nSnackbar.make(view, &quot;Replace with your own action&quot;, Snackbar.LENGTH_LONG)\n.setAction(&quot;Action&quot;, null).show();\n}\n});\nDrawerLayout drawer = binding.drawerLayout;\nNavigationView navigationView = binding.navView;\n// Passing each menu ID as a set of Ids because each\n// menu should be considered as top level destinations.\nmAppBarConfiguration = new AppBarConfiguration.Builder(\nR.id.nav_questionnaire, R.id.nav_submitsurvey, R.id.nav_responses, R.id.nav_imagecapture, R.id.nav_dashboard)\n.setOpenableLayout(drawer)\n.build();\n NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_navigation_drawer);\nNavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);\nNavigationUI.setupWithNavController(navigationView, navController);\n}\n@Override\npublic boolean onCreateOptionsMenu(Menu menu) {\n// Inflate the menu; this adds items to the action bar if it is present.\ngetMenuInflater().inflate(R.menu.navigation_drawer, menu);\n//display welcome username\netUsername = findViewById(R.id.welcomeUsername);\n etUsername.setText(username);\n Button button_log_out = findViewById(R.id.button_log_out);\nbutton_log_out.setOnClickListener(new View.OnClickListener() {\n @Override\npublic void onClick(View v) {\nlogoutDialog();\n}\n});\nreturn true;\n    }\n    @Override\n    public boolean onSupportNavigateUp() {\n NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment_content_navigation_drawer);\nreturn NavigationUI.navigateUp(navController, mAppBarConfiguration)\n || super.onSupportNavigateUp();\n}\npublic void logoutDialog() {\nAlertDialog.Builder alertDialog = new AlertDialog.Builder(this);\nalertDialog.setTitle(&quot;LogOut Alert!&quot;);\nalertDialog.setMessage(&quot;Are you sure want to LogOut this Application?&quot;);\nalertDialog.setCancelable(true);\nalertDialog.setPositiveButton(&quot;YES&quot;, new DialogInterface.OnClickListener() {\n@Override\npublic void onClick(DialogInterface dialog, int which) {\n  pref.setLogin(&quot;no&quot;);\ndialog.dismiss();\nIntent intent = new Intent(NavigationDrawer.this, MainActivity.class);\nintent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TASK | Intent.FLAG_ACTIVITY_NEW_TASK);\nstartActivity(intent);\n}\n});\nalertDialog.setNegativeButton(&quot;NO&quot;, new DialogInterface.OnClickListener() {\n @Override\n public void onClick(DialogInterface dialog, int which) {\n dialog.dismiss();\n }\n        });\nalertDialog.show();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-mediaplayer","android-seekbar"],"answers":[{"tags":[],"owner":{"account_id":17679173,"reputation":1273,"user_id":12833551,"display_name":"Pratik Fagadiya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1644209301,"creation_date":1644209301,"answer_id":71013617,"question_id":70999194,"body_markdown":"Replace `Thread.sleep(1000000000)` to `Thread.sleep(1000)` because you just need to update text and seek bar every second\r\n\r\n     new Thread(() -&gt; {\r\n            while (player1 != null) {\r\n                try {\r\n                    Message msg = new Message();\r\n                    msg.what = player1.getCurrentPosition();\r\n                    handler1.sendMessage(msg);\r\n                    Thread.sleep(1000);\r\n                } catch (InterruptedException e) {\r\n\r\n                }\r\n            }\r\n        }).start();\r\n\r\n     new Thread(() -&gt; {\r\n                while (player2 != null) {\r\n                    try {\r\n                        Message msg = new Message();\r\n                        msg.what = player2.getCurrentPosition();\r\n                        handler2.sendMessage(msg);\r\n                        Thread.sleep(1000);\r\n                    } catch (InterruptedException e) {\r\n    \r\n                    }\r\n                }\r\n            }).start();\r\n\r\n ","title":"Media Player - Seek bar and Time lable is not progressing","body":"<p>Replace <code>Thread.sleep(1000000000)</code> to <code>Thread.sleep(1000)</code> because you just need to update text and seek bar every second</p>\n<pre><code> new Thread(() -&gt; {\n        while (player1 != null) {\n            try {\n                Message msg = new Message();\n                msg.what = player1.getCurrentPosition();\n                handler1.sendMessage(msg);\n                Thread.sleep(1000);\n            } catch (InterruptedException e) {\n\n            }\n        }\n    }).start();\n\n new Thread(() -&gt; {\n            while (player2 != null) {\n                try {\n                    Message msg = new Message();\n                    msg.what = player2.getCurrentPosition();\n                    handler2.sendMessage(msg);\n                    Thread.sleep(1000);\n                } catch (InterruptedException e) {\n\n                }\n            }\n        }).start();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21792039,"reputation":81,"user_id":16092119,"display_name":"Ehsan Pagheh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644217566,"creation_date":1644217566,"answer_id":71014619,"question_id":70999194,"body_markdown":"So well why should threads  sleep 1000000000 milliseconds.\r\nIn that case your thread does its tasks every 1000000 seconds.\r\n\r\n1000000000 ms =&gt; 1000000 sec =&gt; 16666 min =&gt; 277 hour\r\n\r\nSo your thread does its task every 277 hours.\r\nThe param of sleep is millisecond so put st like 1000(1 second) or something like that which is a lot shorter.\r\nIf this wasn&#39;t solution let me know.\r\n","title":"Media Player - Seek bar and Time lable is not progressing","body":"<p>So well why should threads  sleep 1000000000 milliseconds.\nIn that case your thread does its tasks every 1000000 seconds.</p>\n<p>1000000000 ms =&gt; 1000000 sec =&gt; 16666 min =&gt; 277 hour</p>\n<p>So your thread does its task every 277 hours.\nThe param of sleep is millisecond so put st like 1000(1 second) or something like that which is a lot shorter.\nIf this wasn't solution let me know.</p>\n"}],"owner":{"account_id":17183107,"reputation":245,"user_id":12438238,"display_name":"Vasant Raval"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71014619,"answer_count":2,"score":0,"last_activity_date":1644217566,"creation_date":1644073309,"question_id":70999194,"body_markdown":"IDK why but after just coping the entier mainactivty.java file from this [video][1] \r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=zCYQBIcePaw&amp;list=PLJ4O8neQ9nvLqkMX4Mk_1ZedTBNCjaPRj&amp;index=1\r\n\r\nIDK why my seek bar and timetable are not showing any progress \r\n\r\nthere is an exception I have 2 audio files but the video show has only one so I have doubled all the methods also the onClick and a dialog which is different from it\r\n\r\n**MainActivity.java**\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        MediaPlayer player1;\r\n        MediaPlayer player2;\r\n        SeekBar seekBar1;\r\n        SeekBar seekBar2;\r\n        TextView elapsedTimeLable1;\r\n        TextView elapsedTimeLable2;\r\n        TextView remainingTimeLable1;\r\n        TextView remainingTimeLable2;\r\n        ImageView play1;\r\n        ImageView play2;\r\n        int totalTime1;\r\n        int totalTime2;\r\n    \r\n        @Override\r\n    \r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            // PlayButton    *  The ButtonClick is in the last if you want to jump directly there  *\r\n    \r\n            play1 = findViewById(R.id.playbtn1);\r\n            play2 = findViewById(R.id.playbtn2);\r\n    \r\n            // TimeLables\r\n    \r\n            elapsedTimeLable1 = findViewById(R.id.cTime1);\r\n            elapsedTimeLable2 = findViewById(R.id.cTime2);\r\n            remainingTimeLable1 = findViewById(R.id.tTime1);\r\n            remainingTimeLable2 = findViewById(R.id.tTime2);\r\n    \r\n            // MediaPlayer\r\n    \r\n            player1 = MediaPlayer.create(this, R.raw.dog_howl);\r\n            player1.setLooping(true);\r\n            player1.seekTo(0);\r\n            totalTime1 = player1.getDuration();\r\n            player2 = MediaPlayer.create(this, R.raw.dog_bark);\r\n            player2.setLooping(true);\r\n            player2.seekTo(0);\r\n            totalTime2 = player2.getDuration();\r\n    \r\n    \r\n            //SeekBar\r\n    \r\n            seekBar1 = findViewById(R.id.seekbar1);\r\n            seekBar2 = findViewById(R.id.seekbar2);\r\n            seekBar1.setMax(totalTime1);\r\n            seekBar2.setMax(totalTime2);\r\n    \r\n            seekBar1.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\r\n                @Override\r\n                public void onProgressChanged(SeekBar seekBar, int progress1, boolean fromUser1) {\r\n                    if (fromUser1) {\r\n                        player1.seekTo(progress1);\r\n                        seekBar1.setProgress(progress1);\r\n                    }\r\n                }\r\n    \r\n                @Override\r\n                public void onStartTrackingTouch(SeekBar seekBar) {\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onStopTrackingTouch(SeekBar seekBar) {\r\n    \r\n    \r\n                }\r\n            });\r\n            seekBar2.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\r\n                @Override\r\n                public void onProgressChanged(SeekBar seekBar, int progress2, boolean fromUser2) {\r\n                    if (fromUser2) {\r\n                        player2.seekTo(progress2);\r\n                        seekBar2.setProgress(progress2);\r\n                    }\r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onStartTrackingTouch(SeekBar seekBar) {\r\n    \r\n    \r\n                }\r\n    \r\n                @Override\r\n                public void onStopTrackingTouch(SeekBar seekBar) {\r\n    \r\n    \r\n                }\r\n            });\r\n    \r\n            // Thread (Update SeekBar &amp; TimeLabel)\r\n            new Thread(() -&gt; {\r\n                while (player1 != null) {\r\n                    try {\r\n                        Message msg = new Message();\r\n                        msg.what = player1.getCurrentPosition();\r\n                        handler1.sendMessage(msg);\r\n                        Thread.sleep(1000000000);\r\n                    } catch (InterruptedException e) {\r\n    \r\n                    }\r\n                }\r\n            }).start();\r\n    \r\n            new Thread(() -&gt; {\r\n                while (player2 != null) {\r\n                    try {\r\n                        Message msg = new Message();\r\n                        msg.what = player2.getCurrentPosition();\r\n                        handler2.sendMessage(msg);\r\n                        Thread.sleep(1000000000);\r\n                    } catch (InterruptedException e) {\r\n    \r\n                    }\r\n                }\r\n            }).start();\r\n    \r\n    \r\n            // Admob Banner Ad\r\n    \r\n            MobileAds.initialize(this, initializationStatus -&gt; {\r\n            });\r\n    \r\n            AdView mAdView = findViewById(R.id.adView);\r\n            AdRequest adRequest = new AdRequest.Builder().build();\r\n            mAdView.loadAd(adRequest);\r\n    \r\n            // Caution dialog\r\n    \r\n            SharedPreferences preferences = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\r\n            boolean firstStart = preferences.getBoolean(&quot;firstStart&quot;, true);\r\n            if (firstStart) {\r\n    \r\n    \r\n                showDialog();\r\n            }\r\n    \r\n        }\r\n    \r\n        // Caution dialog\r\n        private void showDialog() {\r\n            new AlertDialog.Builder(this)\r\n                    .setTitle(&quot;Caution!&quot;)\r\n                    .setMessage(&quot;In case you&#39;re wearing any kind of headphones please remove it before playing the &#39; Howl &#39; audio&quot;)\r\n                    .setPositiveButton(&quot;ok&quot;, new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialogInterface, int i) {\r\n                            dialogInterface.dismiss();\r\n                        }\r\n                    })\r\n                    .create().show();\r\n            SharedPreferences preferences = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\r\n            SharedPreferences.Editor editor = preferences.edit();\r\n            editor.putBoolean(&quot;firstStart&quot;, false);\r\n            editor.apply();\r\n        }\r\n    \r\n    \r\n        private  Handler handler1 = new Handler() {\r\n            @Override\r\n            public void handleMessage(@NonNull Message msg) {\r\n                int currentPosition1 = msg.what;\r\n                //Update SeekBar\r\n                seekBar1.setProgress(currentPosition1);\r\n                // Update Timelable\r\n                String elapsedTime1 = createTimerLable1(currentPosition1);\r\n                elapsedTimeLable1.setText(elapsedTime1);\r\n                String remainingTime1 = createTimerLable1(totalTime1 - currentPosition1);\r\n                remainingTimeLable1.setText(&quot;- &quot; + remainingTime1);\r\n    \r\n            }\r\n        };\r\n        private  Handler handler2 = new Handler() {\r\n            @SuppressLint(&quot;SetTextI18n&quot;)\r\n            @Override\r\n            public void handleMessage(@NonNull Message msg) {\r\n                int currentPosition2 = msg.what;\r\n                // Update SeekBar\r\n                seekBar2.setProgress(currentPosition2);\r\n                // Update Timelable\r\n                String elapsedTime2 = createTimerLable2(currentPosition2);\r\n                elapsedTimeLable2.setText(elapsedTime2);\r\n                String remainingTime2 = createTimerLable2(totalTime2 - currentPosition2);\r\n                remainingTimeLable2.setText(&quot;- &quot; + remainingTime2);\r\n    \r\n            }\r\n        };\r\n    \r\n        public String createTimerLable1(int duration) {\r\n            String timerLabel1 = &quot;&quot;;\r\n            int min = duration / 1000 / 60;\r\n            int sec = duration / 1000 % 60;\r\n            timerLabel1 += min + &quot;:&quot;;\r\n            if (sec &lt; 10) timerLabel1 += &quot;0&quot;;\r\n            timerLabel1 += sec;\r\n            return timerLabel1;\r\n    \r\n    \r\n        }\r\n    \r\n        public String createTimerLable2(int duration) {\r\n            String timerLabel2 = &quot;&quot;;\r\n            int min = duration / 1000 / 60;\r\n            int sec = duration / 1000 % 60;\r\n            timerLabel2 += min + &quot;:&quot;;\r\n            if (sec &lt; 10) timerLabel2 += &quot;0&quot;;\r\n            timerLabel2 += sec;\r\n            return timerLabel2;\r\n    \r\n    \r\n        }\r\n    \r\n        public void playBtnClick1(View view) {\r\n    \r\n            if (player2.isPlaying()) {\r\n                player2.pause();\r\n                play2.setImageResource(R.drawable.ic_baseline_play_circle_filled_24);\r\n            }\r\n    \r\n            if (!player1.isPlaying()) {\r\n                // Stoping\r\n                player1.start();\r\n                play1.setImageResource(R.drawable.ic_baseline_pause_circle_filled_24);\r\n            } else {\r\n                // Playing\r\n                player1.pause();\r\n                play1.setImageResource(R.drawable.ic_baseline_play_circle_filled_24);\r\n            }\r\n    \r\n        }\r\n    \r\n        public void playBtnClick2(View view) {\r\n    \r\n            if (player1.isPlaying()) {\r\n                player1.pause();\r\n                play1.setImageResource(R.drawable.ic_baseline_play_circle_filled_24);\r\n            }\r\n    \r\n            if (!player2.isPlaying()) {\r\n                // Stoping\r\n                player2.start();\r\n                play2.setImageResource(R.drawable.ic_baseline_pause_circle_filled_24);\r\n            } else {\r\n                // Playing\r\n                player2.pause();\r\n                play2.setImageResource(R.drawable.ic_baseline_play_circle_filled_24);\r\n            }\r\n    \r\n        }\r\n    \r\n    }","title":"Media Player - Seek bar and Time lable is not progressing","body":"<p>IDK why but after just coping the entier mainactivty.java file from this <a href=\"https://www.youtube.com/watch?v=zCYQBIcePaw&amp;list=PLJ4O8neQ9nvLqkMX4Mk_1ZedTBNCjaPRj&amp;index=1\" rel=\"nofollow noreferrer\">video</a></p>\n<p>IDK why my seek bar and timetable are not showing any progress</p>\n<p>there is an exception I have 2 audio files but the video show has only one so I have doubled all the methods also the onClick and a dialog which is different from it</p>\n<p><strong>MainActivity.java</strong></p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    MediaPlayer player1;\n    MediaPlayer player2;\n    SeekBar seekBar1;\n    SeekBar seekBar2;\n    TextView elapsedTimeLable1;\n    TextView elapsedTimeLable2;\n    TextView remainingTimeLable1;\n    TextView remainingTimeLable2;\n    ImageView play1;\n    ImageView play2;\n    int totalTime1;\n    int totalTime2;\n\n    @Override\n\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // PlayButton    *  The ButtonClick is in the last if you want to jump directly there  *\n\n        play1 = findViewById(R.id.playbtn1);\n        play2 = findViewById(R.id.playbtn2);\n\n        // TimeLables\n\n        elapsedTimeLable1 = findViewById(R.id.cTime1);\n        elapsedTimeLable2 = findViewById(R.id.cTime2);\n        remainingTimeLable1 = findViewById(R.id.tTime1);\n        remainingTimeLable2 = findViewById(R.id.tTime2);\n\n        // MediaPlayer\n\n        player1 = MediaPlayer.create(this, R.raw.dog_howl);\n        player1.setLooping(true);\n        player1.seekTo(0);\n        totalTime1 = player1.getDuration();\n        player2 = MediaPlayer.create(this, R.raw.dog_bark);\n        player2.setLooping(true);\n        player2.seekTo(0);\n        totalTime2 = player2.getDuration();\n\n\n        //SeekBar\n\n        seekBar1 = findViewById(R.id.seekbar1);\n        seekBar2 = findViewById(R.id.seekbar2);\n        seekBar1.setMax(totalTime1);\n        seekBar2.setMax(totalTime2);\n\n        seekBar1.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\n            @Override\n            public void onProgressChanged(SeekBar seekBar, int progress1, boolean fromUser1) {\n                if (fromUser1) {\n                    player1.seekTo(progress1);\n                    seekBar1.setProgress(progress1);\n                }\n            }\n\n            @Override\n            public void onStartTrackingTouch(SeekBar seekBar) {\n\n            }\n\n            @Override\n            public void onStopTrackingTouch(SeekBar seekBar) {\n\n\n            }\n        });\n        seekBar2.setOnSeekBarChangeListener(new SeekBar.OnSeekBarChangeListener() {\n            @Override\n            public void onProgressChanged(SeekBar seekBar, int progress2, boolean fromUser2) {\n                if (fromUser2) {\n                    player2.seekTo(progress2);\n                    seekBar2.setProgress(progress2);\n                }\n\n            }\n\n            @Override\n            public void onStartTrackingTouch(SeekBar seekBar) {\n\n\n            }\n\n            @Override\n            public void onStopTrackingTouch(SeekBar seekBar) {\n\n\n            }\n        });\n\n        // Thread (Update SeekBar &amp; TimeLabel)\n        new Thread(() -&gt; {\n            while (player1 != null) {\n                try {\n                    Message msg = new Message();\n                    msg.what = player1.getCurrentPosition();\n                    handler1.sendMessage(msg);\n                    Thread.sleep(1000000000);\n                } catch (InterruptedException e) {\n\n                }\n            }\n        }).start();\n\n        new Thread(() -&gt; {\n            while (player2 != null) {\n                try {\n                    Message msg = new Message();\n                    msg.what = player2.getCurrentPosition();\n                    handler2.sendMessage(msg);\n                    Thread.sleep(1000000000);\n                } catch (InterruptedException e) {\n\n                }\n            }\n        }).start();\n\n\n        // Admob Banner Ad\n\n        MobileAds.initialize(this, initializationStatus -&gt; {\n        });\n\n        AdView mAdView = findViewById(R.id.adView);\n        AdRequest adRequest = new AdRequest.Builder().build();\n        mAdView.loadAd(adRequest);\n\n        // Caution dialog\n\n        SharedPreferences preferences = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\n        boolean firstStart = preferences.getBoolean(&quot;firstStart&quot;, true);\n        if (firstStart) {\n\n\n            showDialog();\n        }\n\n    }\n\n    // Caution dialog\n    private void showDialog() {\n        new AlertDialog.Builder(this)\n                .setTitle(&quot;Caution!&quot;)\n                .setMessage(&quot;In case you're wearing any kind of headphones please remove it before playing the ' Howl ' audio&quot;)\n                .setPositiveButton(&quot;ok&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialogInterface, int i) {\n                        dialogInterface.dismiss();\n                    }\n                })\n                .create().show();\n        SharedPreferences preferences = getSharedPreferences(&quot;prefs&quot;, MODE_PRIVATE);\n        SharedPreferences.Editor editor = preferences.edit();\n        editor.putBoolean(&quot;firstStart&quot;, false);\n        editor.apply();\n    }\n\n\n    private  Handler handler1 = new Handler() {\n        @Override\n        public void handleMessage(@NonNull Message msg) {\n            int currentPosition1 = msg.what;\n            //Update SeekBar\n            seekBar1.setProgress(currentPosition1);\n            // Update Timelable\n            String elapsedTime1 = createTimerLable1(currentPosition1);\n            elapsedTimeLable1.setText(elapsedTime1);\n            String remainingTime1 = createTimerLable1(totalTime1 - currentPosition1);\n            remainingTimeLable1.setText(&quot;- &quot; + remainingTime1);\n\n        }\n    };\n    private  Handler handler2 = new Handler() {\n        @SuppressLint(&quot;SetTextI18n&quot;)\n        @Override\n        public void handleMessage(@NonNull Message msg) {\n            int currentPosition2 = msg.what;\n            // Update SeekBar\n            seekBar2.setProgress(currentPosition2);\n            // Update Timelable\n            String elapsedTime2 = createTimerLable2(currentPosition2);\n            elapsedTimeLable2.setText(elapsedTime2);\n            String remainingTime2 = createTimerLable2(totalTime2 - currentPosition2);\n            remainingTimeLable2.setText(&quot;- &quot; + remainingTime2);\n\n        }\n    };\n\n    public String createTimerLable1(int duration) {\n        String timerLabel1 = &quot;&quot;;\n        int min = duration / 1000 / 60;\n        int sec = duration / 1000 % 60;\n        timerLabel1 += min + &quot;:&quot;;\n        if (sec &lt; 10) timerLabel1 += &quot;0&quot;;\n        timerLabel1 += sec;\n        return timerLabel1;\n\n\n    }\n\n    public String createTimerLable2(int duration) {\n        String timerLabel2 = &quot;&quot;;\n        int min = duration / 1000 / 60;\n        int sec = duration / 1000 % 60;\n        timerLabel2 += min + &quot;:&quot;;\n        if (sec &lt; 10) timerLabel2 += &quot;0&quot;;\n        timerLabel2 += sec;\n        return timerLabel2;\n\n\n    }\n\n    public void playBtnClick1(View view) {\n\n        if (player2.isPlaying()) {\n            player2.pause();\n            play2.setImageResource(R.drawable.ic_baseline_play_circle_filled_24);\n        }\n\n        if (!player1.isPlaying()) {\n            // Stoping\n            player1.start();\n            play1.setImageResource(R.drawable.ic_baseline_pause_circle_filled_24);\n        } else {\n            // Playing\n            player1.pause();\n            play1.setImageResource(R.drawable.ic_baseline_play_circle_filled_24);\n        }\n\n    }\n\n    public void playBtnClick2(View view) {\n\n        if (player1.isPlaying()) {\n            player1.pause();\n            play1.setImageResource(R.drawable.ic_baseline_play_circle_filled_24);\n        }\n\n        if (!player2.isPlaying()) {\n            // Stoping\n            player2.start();\n            play2.setImageResource(R.drawable.ic_baseline_pause_circle_filled_24);\n        } else {\n            // Playing\n            player2.pause();\n            play2.setImageResource(R.drawable.ic_baseline_play_circle_filled_24);\n        }\n\n    }\n\n}\n</code></pre>\n"},{"tags":["python","java","django","embedded"],"comments":[{"owner":{"account_id":285695,"reputation":198878,"user_id":584518,"accept_rate":96,"display_name":"Lundin"},"score":0,"creation_date":1644229927,"post_id":71014585,"comment_id":125540791,"body_markdown":"Please stop asking the same question over and over. If you have some new information then edit the original question instead.","body":"Please stop asking the same question over and over. If you have some new information then edit the original question instead."},{"owner":{"account_id":10448887,"reputation":118,"user_id":12461858,"display_name":"ksa"},"score":0,"creation_date":1649308051,"post_id":71014585,"comment_id":126843715,"body_markdown":"Did you implement a Python-based server or not yet? If yes is it found on Github?","body":"Did you implement a Python-based server or not yet? If yes is it found on Github?"},{"owner":{"account_id":21464230,"reputation":1,"user_id":18134056,"display_name":"Huy Nguyen"},"score":0,"creation_date":1649510248,"post_id":71014585,"comment_id":126896672,"body_markdown":"@ksa I found this on this [link](https://github.com/mobilityhouse/ocpp)","body":"@ksa I found this on this <a href=\"https://github.com/mobilityhouse/ocpp\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":5407242,"reputation":1404,"user_id":4305330,"accept_rate":95,"display_name":"Igor"},"score":0,"creation_date":1665332355,"post_id":71014585,"comment_id":130670404,"body_markdown":"@HuyNguyen check this https://www.reddit.com/r/learnpython/comments/twqukd/ocpp_python_based_server_with_fastapi_integration/ as starting point","body":"@HuyNguyen check this <a href=\"https://www.reddit.com/r/learnpython/comments/twqukd/ocpp_python_based_server_with_fastapi_integration/\" rel=\"nofollow noreferrer\">reddit.com/r/learnpython/comments/twqukd/&hellip;</a> as starting point"}],"owner":{"account_id":21464230,"reputation":1,"user_id":18134056,"display_name":"Huy Nguyen"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":3552,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1644229950,"answer_count":0,"score":0,"last_activity_date":1644217317,"creation_date":1644217317,"question_id":71014585,"body_markdown":"I am programming a a PoC of OCPP server which can communicate with an EV charger using OCPP protocol, in Python Django and Java Spring boot. I was using a OCPP python package given in the link [here][1] and I was able to create a OCPP center system using Python and make connections. My server should be able to have the method to list all connected chargers, but I could not find any documentation about this. Is this method available on the Python OCPP package [here][1]. If not, can anyone tell me how to implement this method?\r\n\r\nAny help will be appreciated. \r\n\r\n\r\n\r\n  [1]: https://github.com/mobilityhouse/ocpp","title":"Open charge point protocol (OCPP) server implementation using Python Djago or Java Spring boot","body":"<p>I am programming a a PoC of OCPP server which can communicate with an EV charger using OCPP protocol, in Python Django and Java Spring boot. I was using a OCPP python package given in the link <a href=\"https://github.com/mobilityhouse/ocpp\" rel=\"nofollow noreferrer\">here</a> and I was able to create a OCPP center system using Python and make connections. My server should be able to have the method to list all connected chargers, but I could not find any documentation about this. Is this method available on the Python OCPP package <a href=\"https://github.com/mobilityhouse/ocpp\" rel=\"nofollow noreferrer\">here</a>. If not, can anyone tell me how to implement this method?</p>\n<p>Any help will be appreciated.</p>\n"},{"tags":["java","httpclient"],"comments":[{"owner":{"account_id":468289,"reputation":178176,"user_id":874188,"accept_rate":62,"display_name":"tripleee"},"score":1,"creation_date":1644216560,"post_id":71014471,"comment_id":125536594,"body_markdown":"Please [don’t post images of code, error messages, or other textual data.](https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors)","body":"Please <a href=\"https://meta.stackoverflow.com/questions/303812/discourage-screenshots-of-code-and-or-errors\">don’t post images of code, error messages, or other textual data.</a>"},{"owner":{"account_id":8712968,"reputation":312,"user_id":6518591,"display_name":"Abhinav Pandey"},"score":0,"creation_date":1644217050,"post_id":71014471,"comment_id":125536703,"body_markdown":"[Check this](https://stackoverflow.com/questions/23218785/how-do-i-create-and-post-a-multipart-mixed-http-request-using-apache-httpcompone)","body":"<a href=\"https://stackoverflow.com/questions/23218785/how-do-i-create-and-post-a-multipart-mixed-http-request-using-apache-httpcompone\">Check this</a>"},{"owner":{"account_id":23735094,"reputation":11,"user_id":17753855,"display_name":"niuton super"},"score":0,"creation_date":1644219652,"post_id":71014471,"comment_id":125537368,"body_markdown":"Thanks a million Abhinav ! which works!!","body":"Thanks a million Abhinav ! which works!!"}],"owner":{"account_id":23735094,"reputation":11,"user_id":17753855,"display_name":"niuton super"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644216538,"creation_date":1644216283,"question_id":71014471,"body_markdown":"This is the API I need to use:\r\n\r\n![obnoxious picture of text][1]\r\n\r\n  [1]: https://i.stack.imgur.com/tojaA.png\r\n\r\nThis is the request by Curl:\r\n```\r\ncurl -k -i -X POST --form &#39;session.id=e7a29776-5783-49d7-afa0-b0e688096b5e&#39; --form &#39;ajax=upload&#39; --form &#39;file=@myproject.zip;type=application/zip&#39; --form &#39;project=MyProject&#39; http://localhost:8443/manager**\r\n```\r\n\r\nWhat I tried:\r\n- I tested the API by Postman and it worked\r\n- i tried to send the request with `httpclient`, but I can&#39;t do it, `FileEntity` can send a file, but can&#39;t carry other params\r\n\r\nHow can I use Java to send the request? Which HTTP library can do this?","title":"How to send a http request which uploads a file with params?","body":"<p>This is the API I need to use:</p>\n<p><img src=\"https://i.stack.imgur.com/tojaA.png\" alt=\"obnoxious picture of text\" /></p>\n<p>This is the request by Curl:</p>\n<pre><code>curl -k -i -X POST --form 'session.id=e7a29776-5783-49d7-afa0-b0e688096b5e' --form 'ajax=upload' --form 'file=@myproject.zip;type=application/zip' --form 'project=MyProject' http://localhost:8443/manager**\n</code></pre>\n<p>What I tried:</p>\n<ul>\n<li>I tested the API by Postman and it worked</li>\n<li>i tried to send the request with <code>httpclient</code>, but I can't do it, <code>FileEntity</code> can send a file, but can't carry other params</li>\n</ul>\n<p>How can I use Java to send the request? Which HTTP library can do this?</p>\n"},{"tags":["java","ssl","https"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1612544649,"post_id":66066005,"comment_id":116808947,"body_markdown":"what if you `curl -v https://example.com/api/auth` ?","body":"what if you <code>curl -v https:&#47;&#47;example.com&#47;api&#47;auth</code> ?"}],"answers":[{"tags":[],"owner":{"account_id":13301015,"reputation":170,"user_id":9602527,"display_name":"HeatZync"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1644216128,"creation_date":1643922480,"answer_id":70978323,"question_id":66066005,"body_markdown":"I&#39;ve also experienced the exception as listed by you, although it was in a different scenario. I see there isn&#39;t an answer to the question yet, so I&#39;m sharing my experience of how I fixed it, based on the answer to [this question][1] that helped me realise the issue was somehow related to `https` vs `http`. This answer might also be useful to someone who&#39;s trying to achieve what I tried below.\r\n\r\nI experienced this with Apache HttpClient when trying to connect to a secure endpoint whilst routing via a proxy.\r\n\r\nI had implemented a custom `RoutePlanner` by extending `DefaultRoutePlanner` and implemented the `determineProxy` method as follows:\r\n\r\n```\r\n@Override\r\nprotected HttpHost determineProxy(final HttpHost target, final HttpRequest request, final HttpContext context) {\r\n    return new HttpHost(proxyHost, proxyPort, target.getScheme());\r\n}\r\n```\r\n\r\nThe problem was that the target&#39;s scheme was `https`. By dropping the scheme argument the `HttpHost` will automatically set it to just `http`.\r\n\r\nHere is the working code:\r\n\r\n```\r\n@Override\r\nprotected HttpHost determineProxy(final HttpHost target, final HttpRequest request, final HttpContext context) {\r\n    return new HttpHost(proxyHost, proxyPort);\r\n}\r\n\r\n```\r\n\r\nIn other words, in order to reach the `https` endpoint I needed to route via the proxy, whose host is just `http`.\r\n\r\n  [1]: https://stackoverflow.com/q/63400245/9602527","title":"Getting Unsupported or unrecognized SSL message; nested exception is javax.net.ssl.SSLException while calling external API","body":"<p>I've also experienced the exception as listed by you, although it was in a different scenario. I see there isn't an answer to the question yet, so I'm sharing my experience of how I fixed it, based on the answer to <a href=\"https://stackoverflow.com/q/63400245/9602527\">this question</a> that helped me realise the issue was somehow related to <code>https</code> vs <code>http</code>. This answer might also be useful to someone who's trying to achieve what I tried below.</p>\n<p>I experienced this with Apache HttpClient when trying to connect to a secure endpoint whilst routing via a proxy.</p>\n<p>I had implemented a custom <code>RoutePlanner</code> by extending <code>DefaultRoutePlanner</code> and implemented the <code>determineProxy</code> method as follows:</p>\n<pre><code>@Override\nprotected HttpHost determineProxy(final HttpHost target, final HttpRequest request, final HttpContext context) {\n    return new HttpHost(proxyHost, proxyPort, target.getScheme());\n}\n</code></pre>\n<p>The problem was that the target's scheme was <code>https</code>. By dropping the scheme argument the <code>HttpHost</code> will automatically set it to just <code>http</code>.</p>\n<p>Here is the working code:</p>\n<pre><code>@Override\nprotected HttpHost determineProxy(final HttpHost target, final HttpRequest request, final HttpContext context) {\n    return new HttpHost(proxyHost, proxyPort);\n}\n\n</code></pre>\n<p>In other words, in order to reach the <code>https</code> endpoint I needed to route via the proxy, whose host is just <code>http</code>.</p>\n"}],"owner":{"account_id":2043101,"reputation":4295,"user_id":1823822,"accept_rate":29,"display_name":"Joy"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22767,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1644216128,"creation_date":1612538863,"question_id":66066005,"body_markdown":"I am calling an external Rest endpoint in my application. But I am getting the following error:\r\n\r\n\r\n     The response body does not contain an access token\r\n     org.springframework.web.client.ResourceAccessException: I/O error on POST request for \r\n     &quot;https://example.com/api/auth&quot;: Unsupported or unrecognized SSL message; nested exception is \r\n      javax.net.ssl.SSLException: Unsupported or unrecognized SSL message\r\n\r\nIn this context, I found an article as follows:\r\n\r\n   https://stackoverflow.com/questions/6532273/unrecognized-ssl-message-plaintext-connection-exception\r\n\r\nBut, I did not find this useful, as I am talking to an HTTPS server with port number 443.\r\n\r\nCan this happen because of the whitelisting, I mean the HTTPS server endpoint, that I am connecting to, is not whitelisted yet?\r\n\r\n    ","title":"Getting Unsupported or unrecognized SSL message; nested exception is javax.net.ssl.SSLException while calling external API","body":"<p>I am calling an external Rest endpoint in my application. But I am getting the following error:</p>\n<pre><code> The response body does not contain an access token\n org.springframework.web.client.ResourceAccessException: I/O error on POST request for \n &quot;https://example.com/api/auth&quot;: Unsupported or unrecognized SSL message; nested exception is \n  javax.net.ssl.SSLException: Unsupported or unrecognized SSL message\n</code></pre>\n<p>In this context, I found an article as follows:</p>\n<p><a href=\"https://stackoverflow.com/questions/6532273/unrecognized-ssl-message-plaintext-connection-exception\">Unrecognized SSL message, plaintext connection? Exception</a></p>\n<p>But, I did not find this useful, as I am talking to an HTTPS server with port number 443.</p>\n<p>Can this happen because of the whitelisting, I mean the HTTPS server endpoint, that I am connecting to, is not whitelisted yet?</p>\n"},{"tags":["java","arrays","loops","if-statement","java.util.scanner"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1644214479,"post_id":71014198,"comment_id":125536166,"body_markdown":"How to compare Strings in Java ? Not like this `if (arr[i] == arr[i - 1])`","body":"How to compare Strings in Java ? Not like this <code>if (arr[i] == arr[i - 1])</code>"},{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1644214914,"post_id":71014198,"comment_id":125536254,"body_markdown":"Shouldn&#39;t it be: `if (arr[i].length() == arr[i - 1].length()) {`?","body":"Shouldn&#39;t it be: <code>if (arr[i].length() == arr[i - 1].length()) {</code>?"}],"answers":[{"tags":[],"owner":{"account_id":8712968,"reputation":312,"user_id":6518591,"display_name":"Abhinav Pandey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644215352,"creation_date":1644215352,"answer_id":71014351,"question_id":71014198,"body_markdown":"1. String comparison - `arr[i] == arr[i-1]` does not work. Each string object is different for Java. Use `arr[i].equals(arr[i-1])`.\r\n2. When you check `count &gt; maxCount`, it means there is definitely a string more frequent than the previous one. However, what if `count == maxCount`? - It would mean you have found two strings with equal frequency. \r\n\r\nUse a flag that tells you if there are multiple max frequency strings or not. So now we are going to check both for greater and equal conditions and based on what is true, we are going to set a flag `unique`.\r\n\r\n```java\r\n//Return the length of the most common words\r\npublic static int lengthOfWord(String[] arr){\r\n  \r\n  int arrLength = arr.length;\r\n  int count = 1; \r\n  int maxCount = 1;\r\n  boolean unique = true;\r\n  String temp = arr[0]; \r\n  \r\n  //Sort through array\r\n  for (int i = 1; i &lt; arr.length; i++)  { \r\n     if (arr[i] == arr[i - 1]) {\r\n        count++;\r\n     } else {\r\n     if (count &gt; maxCount) { \r\n        unique = true;\r\n        maxCount = count; \r\n        temp = arr[i - 1];\r\n     } else if(count == maxCount) {\r\n        unique = false;\r\n     }\r\n     //End of conditional\r\n     count = 1;\r\n     }//End of conditional\r\n  }// End of for loop \r\n\r\n  //Declare most frequent length\r\n  if (count &gt; maxCount) { \r\n      unique = true;\r\n      maxCount = count; \r\n      temp = arr[i - 1];\r\n  } else if(count == maxCount) {\r\n      unique = false;\r\n  }//End of conditional\r\n\r\n  if(!unique) {\r\n    System.out.println(&quot;ERROR&quot;); // or whatever you want to do in this condition \r\n  }\r\n\r\n\r\n  return temp.length(): ;\r\n\r\n}//End\r\n```\r\n\r\n","title":"Method that scans array for most common word length, but sends error message if two different elements have the same length","body":"<ol>\n<li>String comparison - <code>arr[i] == arr[i-1]</code> does not work. Each string object is different for Java. Use <code>arr[i].equals(arr[i-1])</code>.</li>\n<li>When you check <code>count &gt; maxCount</code>, it means there is definitely a string more frequent than the previous one. However, what if <code>count == maxCount</code>? - It would mean you have found two strings with equal frequency.</li>\n</ol>\n<p>Use a flag that tells you if there are multiple max frequency strings or not. So now we are going to check both for greater and equal conditions and based on what is true, we are going to set a flag <code>unique</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//Return the length of the most common words\npublic static int lengthOfWord(String[] arr){\n  \n  int arrLength = arr.length;\n  int count = 1; \n  int maxCount = 1;\n  boolean unique = true;\n  String temp = arr[0]; \n  \n  //Sort through array\n  for (int i = 1; i &lt; arr.length; i++)  { \n     if (arr[i] == arr[i - 1]) {\n        count++;\n     } else {\n     if (count &gt; maxCount) { \n        unique = true;\n        maxCount = count; \n        temp = arr[i - 1];\n     } else if(count == maxCount) {\n        unique = false;\n     }\n     //End of conditional\n     count = 1;\n     }//End of conditional\n  }// End of for loop \n\n  //Declare most frequent length\n  if (count &gt; maxCount) { \n      unique = true;\n      maxCount = count; \n      temp = arr[i - 1];\n  } else if(count == maxCount) {\n      unique = false;\n  }//End of conditional\n\n  if(!unique) {\n    System.out.println(&quot;ERROR&quot;); // or whatever you want to do in this condition \n  }\n\n\n  return temp.length(): ;\n\n}//End\n</code></pre>\n"}],"owner":{"account_id":18176327,"reputation":139,"user_id":13224990,"display_name":"Limbo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71014351,"answer_count":1,"score":0,"last_activity_date":1644215352,"creation_date":1644214161,"question_id":71014198,"body_markdown":"I have a method that takes in an array (created by Scanner input in main) and sorts the array to find the most common words before printing the length of those words. However, I&#39;m also trying to have an error message pop up if two different elements have the same length; this is where I&#39;m having trouble getting started.\r\n\r\nMethod:\r\n\r\n    //Return the length of the most common words\r\n    public static int lengthOfWord(String[] arr){\r\n      \r\n      int arrLength = arr.length;\r\n      int count = 1; \r\n      int maxCount = 1;\r\n      String temp = arr[0]; \r\n      \r\n      //Sort through array\r\n      for (int i = 1; i &lt; arr.length; i++)  { \r\n         if (arr[i] == arr[i - 1]) {\r\n            count++;\r\n         } else {\r\n         if (count &gt; maxCount) { \r\n            maxCount = count; \r\n            temp = arr[i - 1];\r\n         }//End of conditional\r\n         count = 1;\r\n         }//End of conditional\r\n      }// End of for loop \r\n\r\n      //Declare most frequent length\r\n      if (count &gt; maxCount) { \r\n         maxCount = count; \r\n         temp = arr[arrLength - 1];\r\n      }//End of conditional\r\n\r\n      return temp.length();\r\n    \r\n    }//End of lengthOfWord\r\nAny suggestions?","title":"Method that scans array for most common word length, but sends error message if two different elements have the same length","body":"<p>I have a method that takes in an array (created by Scanner input in main) and sorts the array to find the most common words before printing the length of those words. However, I'm also trying to have an error message pop up if two different elements have the same length; this is where I'm having trouble getting started.</p>\n<p>Method:</p>\n<pre><code>//Return the length of the most common words\npublic static int lengthOfWord(String[] arr){\n  \n  int arrLength = arr.length;\n  int count = 1; \n  int maxCount = 1;\n  String temp = arr[0]; \n  \n  //Sort through array\n  for (int i = 1; i &lt; arr.length; i++)  { \n     if (arr[i] == arr[i - 1]) {\n        count++;\n     } else {\n     if (count &gt; maxCount) { \n        maxCount = count; \n        temp = arr[i - 1];\n     }//End of conditional\n     count = 1;\n     }//End of conditional\n  }// End of for loop \n\n  //Declare most frequent length\n  if (count &gt; maxCount) { \n     maxCount = count; \n     temp = arr[arrLength - 1];\n  }//End of conditional\n\n  return temp.length();\n\n}//End of lengthOfWord\n</code></pre>\n<p>Any suggestions?</p>\n"},{"tags":["java","loops","filter","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1644214247,"post_id":71011420,"comment_id":125536128,"body_markdown":"Where are you actually printing anything? I assume you&#39;re only doing it once?","body":"Where are you actually printing anything? I assume you&#39;re only doing it once?"},{"owner":{"display_name":"user12309917"},"score":0,"creation_date":1644223028,"post_id":71011420,"comment_id":125538361,"body_markdown":"yes further in the course of the program","body":"yes further in the course of the program"}],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644214406,"creation_date":1644214406,"answer_id":71014222,"question_id":71011420,"body_markdown":"Sure, it&#39;s possible, but the foreach action happens in a separate thread than any print outside of it, and that thread will keep running... In other words, if you print the list immediately after the add method within the foreach, then it won&#39;t be empty\r\n\r\nYou&#39;d need to terminate the stream topology and wait for it somehow to get the final list (at which point it would make more sense to use a plain Consumer that you could actually pause/stop polling)\r\n\r\nGenerally, only use a KTable / KSQL if you want to dedupe the record keys ","title":"A way to convert a filtered KStream from Kafka into an array in Java","body":"<p>Sure, it's possible, but the foreach action happens in a separate thread than any print outside of it, and that thread will keep running... In other words, if you print the list immediately after the add method within the foreach, then it won't be empty</p>\n<p>You'd need to terminate the stream topology and wait for it somehow to get the final list (at which point it would make more sense to use a plain Consumer that you could actually pause/stop polling)</p>\n<p>Generally, only use a KTable / KSQL if you want to dedupe the record keys</p>\n"}],"owner":{"display_name":"user12309917"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1644214406,"creation_date":1644179755,"question_id":71011420,"body_markdown":"Is there a way to convert a filtered KStream into an array just as java streams-api has the `toArray()`-method.\r\n\r\nI tried by:\r\n\r\n    builder.filter().foreach({ list.add(element);});\r\n\r\nThat did not work at all and I always get an empty array while printing the content.\r\n\r\nIs it possible or should I use something else like a K-Table or KSQLDB?","title":"A way to convert a filtered KStream from Kafka into an array in Java","body":"<p>Is there a way to convert a filtered KStream into an array just as java streams-api has the <code>toArray()</code>-method.</p>\n<p>I tried by:</p>\n<pre><code>builder.filter().foreach({ list.add(element);});\n</code></pre>\n<p>That did not work at all and I always get an empty array while printing the content.</p>\n<p>Is it possible or should I use something else like a K-Table or KSQLDB?</p>\n"},{"tags":["java","tostring"],"comments":[{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1328856914,"post_id":9223903,"comment_id":11614818,"body_markdown":"If `RED` is 255,0,0, what is the name for 254,0,0?  Do you expect 16,777,216 color names?","body":"If <code>RED</code> is 255,0,0, what is the name for 254,0,0?  Do you expect 16,777,216 color names?"},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1328857080,"post_id":9223903,"comment_id":11614852,"body_markdown":"possible duplicate of [Java color code convert to color name](http://stackoverflow.com/questions/4126029/java-color-code-convert-to-color-name)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/4126029/java-color-code-convert-to-color-name\">Java color code convert to color name</a>"},{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":0,"creation_date":1328857197,"post_id":9223903,"comment_id":11614875,"body_markdown":"Those static fields you&#39;re using from the `Color` class are there for convenience and reference `Color` objects which do not have any sort of textual names; they are RGB values.","body":"Those static fields you&#39;re using from the <code>Color</code> class are there for convenience and reference <code>Color</code> objects which do not have any sort of textual names; they are RGB values."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1328857257,"post_id":9223903,"comment_id":11614891,"body_markdown":"I take that back, looking more closely at the post makes me realize the OP was talking about the pre-defined colors, and a limited number of them.","body":"I take that back, looking more closely at the post makes me realize the OP was talking about the pre-defined colors, and a limited number of them."},{"owner":{"account_id":115344,"reputation":76329,"user_id":302916,"display_name":"Brian Roach"},"score":0,"creation_date":1328857340,"post_id":9223903,"comment_id":11614912,"body_markdown":"@AndrewThompson - Yeah but it doesn&#39;t change anything, there&#39;s no matching `String`s for them in the `Color` class. You have to do the mapping yourself.","body":"@AndrewThompson - Yeah but it doesn&#39;t change anything, there&#39;s no matching <code>String</code>s for them in the <code>Color</code> class. You have to do the mapping yourself."}],"answers":[{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1328856999,"creation_date":1328856999,"answer_id":9223945,"question_id":9223903,"body_markdown":"One option would be to create a `NamedColor` enum:\r\n\r\n    public enum NamedColor {\r\n        BLUE(Color.BLUE),\r\n        RED(Color.RED),\r\n        ...;\r\n\r\n        private final Color awtColor;\r\n\r\n        private NamedColor(Color awtColor) {\r\n            this.awtColor = awtColor;\r\n        }\r\n\r\n        public Color getAwtColor() {\r\n            return awtColor;\r\n        }\r\n    }\r\n\r\nYou&#39;d then make your `TEAM_COLORS` array an array of `NamedColor` values instead of `Color` values, and fetch the AWT color when you need it. The default `toString` implementation of an enum is its name.\r\n\r\nAnother alternative would be to create your own `Map&lt;Color, String&gt;` and consult that when you need the string representation for a color.","title":"How To Print String representation of Color in Java","body":"<p>One option would be to create a <code>NamedColor</code> enum:</p>\n\n<pre><code>public enum NamedColor {\n    BLUE(Color.BLUE),\n    RED(Color.RED),\n    ...;\n\n    private final Color awtColor;\n\n    private NamedColor(Color awtColor) {\n        this.awtColor = awtColor;\n    }\n\n    public Color getAwtColor() {\n        return awtColor;\n    }\n}\n</code></pre>\n\n<p>You'd then make your <code>TEAM_COLORS</code> array an array of <code>NamedColor</code> values instead of <code>Color</code> values, and fetch the AWT color when you need it. The default <code>toString</code> implementation of an enum is its name.</p>\n\n<p>Another alternative would be to create your own <code>Map&lt;Color, String&gt;</code> and consult that when you need the string representation for a color.</p>\n"},{"tags":[],"owner":{"account_id":1202728,"reputation":941,"user_id":1173047,"accept_rate":80,"display_name":"Rocky"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1328857173,"creation_date":1328857173,"answer_id":9223972,"question_id":9223903,"body_markdown":"You can try using\r\n       String.valueOf(color.getRGB())","title":"How To Print String representation of Color in Java","body":"<p>You can try using\n       String.valueOf(color.getRGB())</p>\n"},{"tags":[],"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1328857328,"creation_date":1328857328,"answer_id":9224003,"question_id":9223903,"body_markdown":"You might create a class that stores both a `String` representing the color name, as well as the `Color` itself.","title":"How To Print String representation of Color in Java","body":"<p>You might create a class that stores both a <code>String</code> representing the color name, as well as the <code>Color</code> itself.</p>\n"},{"tags":[],"owner":{"account_id":1232316,"reputation":1548,"user_id":1196618,"accept_rate":100,"display_name":"ughzan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1328857721,"creation_date":1328857721,"answer_id":9224060,"question_id":9223903,"body_markdown":"If you want your NamedColor to be used as a java.awt.Color and you don&#39;t have many colors you can extend it and store the name.\r\n\r\n    public class NamedColor extends java.awt.Color {\r\n        \r\n        private String name;\r\n        \r\n        public NamedColor(String name, java.awt.Color c) {\r\n            super(c.getRGB());\r\n            this.name = name;\r\n        }\r\n        \r\n        public String toString() {\r\n            return name;\r\n        }\r\n    }","title":"How To Print String representation of Color in Java","body":"<p>If you want your NamedColor to be used as a java.awt.Color and you don't have many colors you can extend it and store the name.</p>\n\n<pre><code>public class NamedColor extends java.awt.Color {\n\n    private String name;\n\n    public NamedColor(String name, java.awt.Color c) {\n        super(c.getRGB());\n        this.name = name;\n    }\n\n    public String toString() {\n        return name;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":249720,"reputation":9560,"user_id":525978,"display_name":"havexz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1383325227,"creation_date":1328857785,"answer_id":9224073,"question_id":9223903,"body_markdown":"Extending @Jon_Skeet reply by adding name also to the enum.\r\n\r\n    public enum NamedColor {\r\n      BLUE(Color.BLUE, &quot;Blue&quot;),\r\n      RED(Color.RED, &quot;Red&quot;),\r\n      ...;\r\n\r\n      private final Color awtColor;\r\n      private final String colorName;\r\n\r\n      private NamedColor(Color awtColor, String name) {\r\n        this.awtColor = awtColor;\r\n        this.colorName = name;\r\n      }\r\n\r\n      public Color getAwtColor() {\r\n        return awtColor;\r\n      }\r\n\r\n      public String getColorName() {\r\n        return colorName;\r\n      }\r\n    }\r\n\r\n\r\nNOTE: IF voting this pls vote @Jon_Skeet reply too as it is extension of that...","title":"How To Print String representation of Color in Java","body":"<p>Extending @Jon_Skeet reply by adding name also to the enum.</p>\n\n<pre><code>public enum NamedColor {\n  BLUE(Color.BLUE, \"Blue\"),\n  RED(Color.RED, \"Red\"),\n  ...;\n\n  private final Color awtColor;\n  private final String colorName;\n\n  private NamedColor(Color awtColor, String name) {\n    this.awtColor = awtColor;\n    this.colorName = name;\n  }\n\n  public Color getAwtColor() {\n    return awtColor;\n  }\n\n  public String getColorName() {\n    return colorName;\n  }\n}\n</code></pre>\n\n<p>NOTE: IF voting this pls vote @Jon_Skeet reply too as it is extension of that...</p>\n"},{"tags":[],"owner":{"account_id":154498,"reputation":27407,"user_id":370483,"accept_rate":82,"display_name":"quantumSoup"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1349905412,"creation_date":1349905047,"answer_id":12828811,"question_id":9223903,"body_markdown":"Here&#39;s a Reflection-based approach:\r\n\r\n    public static String getColorName(Color c) {\r\n        for (Field f : Color.class.getFields()) {\r\n            try {\r\n                if (f.getType() == Color.class &amp;&amp; f.get(null).equals(c)) {\r\n                    return f.getName();\r\n                }\r\n            } catch (java.lang.IllegalAccessException e) {\r\n                // it should never get to here\r\n            } \r\n        }\r\n        return &quot;unknown&quot;;\r\n    }\r\n\r\nExamples:\r\n\r\n    getColorName(Color.BLACK); // black\r\n    getColorName(Color.BLUE); // blue\r\n    getColorName(new Color(0,1,2)); // unknown\r\n\r\n**Demo: http://ideone.com/6cIBD**\r\n\r\n---\r\n\r\nThis will only work with colors defined as fields in [`java.awt.Color`](http://docs.oracle.com/javase/1.4.2/docs/api/java/awt/Color.html), namely: white, light gray, gray, dark gray, black, red, pink, orange, yellow, green, magenta, cyan and blue.","title":"How To Print String representation of Color in Java","body":"<p>Here's a Reflection-based approach:</p>\n\n<pre><code>public static String getColorName(Color c) {\n    for (Field f : Color.class.getFields()) {\n        try {\n            if (f.getType() == Color.class &amp;&amp; f.get(null).equals(c)) {\n                return f.getName();\n            }\n        } catch (java.lang.IllegalAccessException e) {\n            // it should never get to here\n        } \n    }\n    return \"unknown\";\n}\n</code></pre>\n\n<p>Examples:</p>\n\n<pre><code>getColorName(Color.BLACK); // black\ngetColorName(Color.BLUE); // blue\ngetColorName(new Color(0,1,2)); // unknown\n</code></pre>\n\n<p><strong>Demo: <a href=\"http://ideone.com/6cIBD\" rel=\"nofollow\">http://ideone.com/6cIBD</a></strong></p>\n\n<hr>\n\n<p>This will only work with colors defined as fields in <a href=\"http://docs.oracle.com/javase/1.4.2/docs/api/java/awt/Color.html\" rel=\"nofollow\"><code>java.awt.Color</code></a>, namely: white, light gray, gray, dark gray, black, red, pink, orange, yellow, green, magenta, cyan and blue.</p>\n"},{"tags":[],"owner":{"account_id":1157559,"reputation":315,"user_id":1390116,"accept_rate":0,"display_name":"silvalli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644214335,"creation_date":1644214335,"answer_id":71014214,"question_id":9223903,"body_markdown":"```\r\n  public static String colorToString(Color c) {\r\n    if (c == null)  return &quot;NullColor&quot;;\r\n    for (var f : Color.class.getFields()) {\r\n      if (f.getType() != Color.class)  continue;\r\n      try {\r\n        if (c.equals(f.get(null)))  return f.getName().toLowerCase();\r\n      } catch (java.lang.IllegalAccessException e) {\r\n        // Ignore. https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/Field.html#get(java.lang.Object)\r\n      }\r\n    }\r\n    return c.toString();\r\n  }\r\n```","title":"How To Print String representation of Color in Java","body":"<pre><code>  public static String colorToString(Color c) {\n    if (c == null)  return &quot;NullColor&quot;;\n    for (var f : Color.class.getFields()) {\n      if (f.getType() != Color.class)  continue;\n      try {\n        if (c.equals(f.get(null)))  return f.getName().toLowerCase();\n      } catch (java.lang.IllegalAccessException e) {\n        // Ignore. https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/reflect/Field.html#get(java.lang.Object)\n      }\n    }\n    return c.toString();\n  }\n</code></pre>\n"}],"owner":{"account_id":393857,"reputation":5191,"user_id":755934,"accept_rate":73,"display_name":"Daniel Kats"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15035,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":9224073,"answer_count":7,"score":0,"last_activity_date":1644214335,"creation_date":1328856738,"question_id":9223903,"body_markdown":"I have an array of colours of size n. In my program, the number of teams is always &lt;= n, and I need to assign each team a unique color. This is my color array:\r\n\r\n    private static Color[] TEAM_COLORS = {Color.BLUE, Color.RED, Color.CYAN, Color.GREEN, Color.ORANGE, Color.PINK};\r\n\r\nWhen I print information about the players in the console, I want to print what color is associated with them. When I print the color, I get \r\n\r\n    java.awt.Color[r=...,g=...,b=...]. \r\n\r\nI understand that this is how Java prints colours. I was wondering if there was a way to instead print BLUE, RED, etc. (so the pre-defined color string).\r\n\r\n","title":"How To Print String representation of Color in Java","body":"<p>I have an array of colours of size n. In my program, the number of teams is always &lt;= n, and I need to assign each team a unique color. This is my color array:</p>\n\n<pre><code>private static Color[] TEAM_COLORS = {Color.BLUE, Color.RED, Color.CYAN, Color.GREEN, Color.ORANGE, Color.PINK};\n</code></pre>\n\n<p>When I print information about the players in the console, I want to print what color is associated with them. When I print the color, I get </p>\n\n<pre><code>java.awt.Color[r=...,g=...,b=...]. \n</code></pre>\n\n<p>I understand that this is how Java prints colours. I was wondering if there was a way to instead print BLUE, RED, etc. (so the pre-defined color string).</p>\n"},{"tags":["java","selenium","cucumber"],"comments":[{"owner":{"account_id":8712968,"reputation":312,"user_id":6518591,"display_name":"Abhinav Pandey"},"score":1,"creation_date":1644216000,"post_id":71014179,"comment_id":125536470,"body_markdown":"I don&#39;t see anything wrong with this. If you absolutely want to remove `if`, you can use the `Optional.ofNullable(scenarioContext.getContext(presetValue)).orElse(presetValue)` utility or a ternary statement. but that&#39;s just aesthetics.","body":"I don&#39;t see anything wrong with this. If you absolutely want to remove <code>if</code>, you can use the <code>Optional.ofNullable(scenarioContext.getContext(presetValue))&zwnj;&#8203;.orElse(presetValue)</code> utility or a ternary statement. but that&#39;s just aesthetics."},{"owner":{"account_id":14301249,"reputation":105,"user_id":10330523,"display_name":"Piotrek Kapczyński"},"score":0,"creation_date":1644225666,"post_id":71014179,"comment_id":125539257,"body_markdown":"Thanks, is there any possibility to add comment if getContext is null ?","body":"Thanks, is there any possibility to add comment if getContext is null ?"}],"owner":{"account_id":14301249,"reputation":105,"user_id":10330523,"display_name":"Piotrek Kapczyński"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":101,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1644213968,"creation_date":1644213968,"question_id":71014179,"body_markdown":"I am going to use method addPresetToTaskView that will send text in selenium.\r\nThis method should use String presetValue or overwrite it if map scenarioContext contains key exactly like presetValue \r\n\r\n\r\n\r\nI am not sure if this is the best practice.\r\n\r\nCould you share with me your opinion please ?\r\n\r\n    @And(&quot;Added preset by {string} text {string} for permission {string} to data view&quot;)\r\n    public void addPresetToTaskView(String option, String presetValue, String permissionName) {\r\n        if(scenarioContext.contextContainsKey(presetValue)) {\r\n            presetValue = (String) scenarioContext.getContext(presetValue);\r\n        }\r\n                    setSingleSelectformItem(presetValue, visibleTabsSelect);\r\n    \r\n    }\r\n\r\nScenario context with HashMap class\r\n\r\n    public class ScenarioContext {\r\n\r\n    public Map&lt;String, Object&gt; scenarioContext = new HashMap&lt;&gt;();\r\n\r\n    public void setContext(String key, Object value) {\r\n        scenarioContext.put(key, value);\r\n    }\r\n\r\n    public Object getContext(String key){\r\n        return scenarioContext.get(key);\r\n    }\r\n\r\n    public Boolean contextContainsKey(String key){\r\n        return scenarioContext.containsKey(key);\r\n    }\r\n\r\n","title":"How to overwrite String depending on whether the map contains a key in java without using &#39;if&#39;?","body":"<p>I am going to use method addPresetToTaskView that will send text in selenium.\nThis method should use String presetValue or overwrite it if map scenarioContext contains key exactly like presetValue</p>\n<p>I am not sure if this is the best practice.</p>\n<p>Could you share with me your opinion please ?</p>\n<pre><code>@And(&quot;Added preset by {string} text {string} for permission {string} to data view&quot;)\npublic void addPresetToTaskView(String option, String presetValue, String permissionName) {\n    if(scenarioContext.contextContainsKey(presetValue)) {\n        presetValue = (String) scenarioContext.getContext(presetValue);\n    }\n                setSingleSelectformItem(presetValue, visibleTabsSelect);\n\n}\n</code></pre>\n<p>Scenario context with HashMap class</p>\n<pre><code>public class ScenarioContext {\n\npublic Map&lt;String, Object&gt; scenarioContext = new HashMap&lt;&gt;();\n\npublic void setContext(String key, Object value) {\n    scenarioContext.put(key, value);\n}\n\npublic Object getContext(String key){\n    return scenarioContext.get(key);\n}\n\npublic Boolean contextContainsKey(String key){\n    return scenarioContext.containsKey(key);\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8378,"page":1614,"page_size":100}
