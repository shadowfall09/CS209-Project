{"items":[{"tags":["java","yaml","snakeyaml"],"comments":[{"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"score":0,"creation_date":1636548912,"post_id":69909461,"comment_id":123585565,"body_markdown":"Upvoting despite this being off-topic for StackOverflow due to the sheer gravity of this issue: The repository has been moved, no redirect has been put in place, and it is non-trivial to find it again. Hopefully this question can point people in the right direction.","body":"Upvoting despite this being off-topic for StackOverflow due to the sheer gravity of this issue: The repository has been moved, no redirect has been put in place, and it is non-trivial to find it again. Hopefully this question can point people in the right direction."}],"answers":[{"tags":[],"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1636548743,"creation_date":1636548743,"answer_id":69913601,"question_id":69909461,"body_markdown":"Quoting from the [mailing list](https://groups.google.com/g/snakeyaml-core/c/b_zrgaxL2dQ):\r\n\r\n&gt; Dear all,  \r\n&gt; important news.  \r\n&gt; The SnakeYAML team was using snakeyaml.org domain a few years.  \r\n&gt; From this year on the domain was not continued any longer.  \r\n&gt; Please refer to the new home:  \r\n&gt; https://bitbucket.org/snakeyaml/snakeyaml\r\n&gt;\r\n&gt; And its mirror:  \r\n&gt; https://github.com/snakeyaml/snakeyaml\r\n&gt;\r\n&gt; As you can see there is an important change, the project went away from the personal account.\r\n&gt;\r\n&gt; Cheers,\r\n&gt; Andrey\r\n\r\nHow they can do this without redirecting the original repository is beyond me.","title":"SnakeYAML - Where is documentation and project homepage (is it still alive)?","body":"<p>Quoting from the <a href=\"https://groups.google.com/g/snakeyaml-core/c/b_zrgaxL2dQ\" rel=\"noreferrer\">mailing list</a>:</p>\n<blockquote>\n<p>Dear all,<br />\nimportant news.<br />\nThe SnakeYAML team was using snakeyaml.org domain a few years.<br />\nFrom this year on the domain was not continued any longer.<br />\nPlease refer to the new home:<br />\n<a href=\"https://bitbucket.org/snakeyaml/snakeyaml\" rel=\"noreferrer\">https://bitbucket.org/snakeyaml/snakeyaml</a></p>\n<p>And its mirror:<br />\n<a href=\"https://github.com/snakeyaml/snakeyaml\" rel=\"noreferrer\">https://github.com/snakeyaml/snakeyaml</a></p>\n<p>As you can see there is an important change, the project went away from the personal account.</p>\n<p>Cheers,\nAndrey</p>\n</blockquote>\n<p>How they can do this without redirecting the original repository is beyond me.</p>\n"}],"owner":{"account_id":792027,"reputation":2645,"user_id":869368,"display_name":"Matthias"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4326,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":69913601,"answer_count":1,"score":7,"last_activity_date":1636548743,"creation_date":1636530346,"question_id":69909461,"body_markdown":"I&#39;m  trying to figure out how to fine control a specific feature in SnakeYaml (local tags). \r\n\r\nUnfortunately, I seem to be unable to find a project homepage or the repository of Snake Yaml? \r\n\r\nAll references I find point to either a website, that seems to have been hacked (www dot snakeyaml dot org - not putting the link here as the site is clearly hacked) or to a bitbucket repository which is private. \r\n\r\nIs that project still alive? If not, is there someone having the latest version of the original source code (I assume it is open source, but can&#39;t even find that out) who could publish that on a public github so that work can continue? ","title":"SnakeYAML - Where is documentation and project homepage (is it still alive)?","body":"<p>I'm  trying to figure out how to fine control a specific feature in SnakeYaml (local tags).</p>\n<p>Unfortunately, I seem to be unable to find a project homepage or the repository of Snake Yaml?</p>\n<p>All references I find point to either a website, that seems to have been hacked (www dot snakeyaml dot org - not putting the link here as the site is clearly hacked) or to a bitbucket repository which is private.</p>\n<p>Is that project still alive? If not, is there someone having the latest version of the original source code (I assume it is open source, but can't even find that out) who could publish that on a public github so that work can continue?</p>\n"},{"tags":["java","spring-boot","apache-kafka","kafka-consumer-api","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":19340242,"reputation":1122,"user_id":14139968,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1606958879,"creation_date":1606958879,"answer_id":65118589,"question_id":65117921,"body_markdown":"I found the issue. Debugging deep into the rest client for confluent, I was hit with a 401 (terrible logs btw)\r\n\r\nI needed to add this: \r\n`spring.kafka.properties.basic.auth.credentials.source=SASL_INHERIT`\r\n\r\nsince I&#39;m using SASL auth and needed registry to inherit the SASL config I added up above. fun stuff..","title":"Avro GenericRecord deserialization not working via SpringKafka","body":"<p>I found the issue. Debugging deep into the rest client for confluent, I was hit with a 401 (terrible logs btw)</p>\n<p>I needed to add this:\n<code>spring.kafka.properties.basic.auth.credentials.source=SASL_INHERIT</code></p>\n<p>since I'm using SASL auth and needed registry to inherit the SASL config I added up above. fun stuff..</p>\n"},{"tags":[],"owner":{"account_id":341845,"reputation":19101,"user_id":672689,"accept_rate":82,"display_name":"Roee Gavirel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636548208,"creation_date":1636548208,"answer_id":69913475,"question_id":65117921,"body_markdown":"Had the same issue.  \r\nfor me I just needed to set the protocol of the schema-registry url from `http://` to `https://` and it worked.  \r\n\r\n@Ryan answered gave me a clue.","title":"Avro GenericRecord deserialization not working via SpringKafka","body":"<p>Had the same issue.<br />\nfor me I just needed to set the protocol of the schema-registry url from <code>http://</code> to <code>https://</code> and it worked.</p>\n<p>@Ryan answered gave me a clue.</p>\n"}],"owner":{"account_id":19340242,"reputation":1122,"user_id":14139968,"display_name":"Ryan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2304,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":65118589,"answer_count":2,"score":1,"last_activity_date":1636548208,"creation_date":1606953465,"question_id":65117921,"body_markdown":"I&#39;m trying to simplify my consumer as much as possible. The problem is, when looking at the records coming in my Kafka listener:\r\n\r\n`List&lt;GenericRecord&gt; incomingRecords` the values are just string values. I&#39;ve tried turning specific reader to true and false. I&#39;ve set the value deserializer as well. Am I missing something? This worked fine when I use a Java configuration class, but want to keep consolidated to this application.properties file. \r\n\r\n# application.properties\r\n\r\n```\r\nspring.kafka.properties.security.protocol=SASL_SSL\r\nspring.kafka.properties.sasl.mechanism=SCRAM-SHA-256\r\nspring.kafka.properties.sasl.jaas.config=org.apache.kafka.common.security.scram.ScramLoginModule required username=&quot;${SASL_ACCESS_KEY}&quot; password=&quot;${SASL_SECRET}&quot;;\r\nspring.kafka.consumer.auto-offset-reset=earliest\r\n\r\n#### Consumer Properties Configuration\r\nspring.kafka.properties.key.deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\nspring.kafka.properties.value.deserializer=io.confluent.kafka.serializers.KafkaAvroDeserializer\r\nspring.kafka.properties.value.subject.name.strategy=io.confluent.kafka.serializers.subject.TopicRecordNameStrategy\r\n\r\nspring.kafka.bootstrap-servers=\r\nspring.kafka.properties.schema.registry.url=\r\nspring.kafka.properties.specific.avro.reader=true\r\nspring.kafka.consumer.properties.spring.json.trusted.packages=*\r\n\r\nlogging.level.org.apache.kafka=TRACE\r\nlogging.level.io.confluent.kafka.schemaregistry=TRACE\r\n```\r\n\r\n# consumer\r\n\r\n```java\r\n    @KafkaListener(topics = &quot;${topic}&quot;, groupId = &quot;${group}&quot;)\r\n    public void processMessageBatch(List&lt;GenericRecord&gt; incomingRecords,\r\n                                    @Header(KafkaHeaders.RECEIVED_PARTITION_ID) List&lt;Integer&gt; partitions,\r\n                                    @Header(KafkaHeaders.RECEIVED_TOPIC) List&lt;String&gt; topics,\r\n                                    @Header(KafkaHeaders.OFFSET) List&lt;Long&gt; offsets) {\r\n        currentMicroBatch = Stream.of(currentMicroBatch, incomingRecords).flatMap(List::stream).collect(Collectors.toList());\r\n        if (currentMicroBatch.size() &gt;= maxRecords || validatedElapsedDuration(durationMonitor)) {\r\n            System.out.println(&quot;ETL processing logic will be done here&quot;);\r\n        }\r\n        clearBatch();\r\n    }\r\n```\r\n\r\nI notice when I use:\r\n\r\n&gt; spring.kafka.consumer.value-deserializer=io.confluent.kafka.serializers.KafkaAvroDeserializer\r\nspring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer\r\n\r\nI get the following error:\r\n\r\n\r\n&gt; 2020-12-02 17:04:42.745 DEBUG 51910 --- [ntainer#0-0-C-1] i.c.k.s.client.rest.RestService          : Sending GET with input null to https://myschemaregistry.com \r\n\r\n```\r\n2020-12-02 17:04:42.852 ERROR 51910 --- [ntainer#0-0-C-1] o.s.kafka.listener.LoggingErrorHandler   : Error while processing: null\r\n\r\norg.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition my-topic-avro-32 at offset 7836. If needed, please seek past the record to continue consumption.\r\n```\r\n\r\n\r\n```\r\njava.lang.IllegalArgumentException: argument &quot;src&quot; is null\r\n\tat com.fasterxml.jackson.databind.ObjectMapper._assertNotNull(ObjectMapper.java:4735)\r\n\tat com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3502)\r\n\tat io.confluent.kafka.schemaregistry.client.rest.RestService.sendHttpRequest(RestService.java:270)\r\n\tat io.confluent.kafka.schemaregistry.client.rest.RestService.httpRequest(RestService.java:334)\r\n\tat io.confluent.kafka.schemaregistry.client.rest.RestService.getId(RestService.java:573)\r\n\tat io.confluent.kafka.schemaregistry.client.rest.RestService.getId(RestService.java:557)\r\n\tat io.confluent.kafka.schemaregistry.client.CachedSchemaRegistryClient.getSchemaByIdFromRegistry(CachedSchemaRegistryClient.java:149)\r\n\tat io.confluent.kafka.schemaregistry.client.CachedSchemaRegistryClient.getBySubjectAndId(CachedSchemaRegistryClient.java:230)\r\n\tat io.confluent.kafka.schemaregistry.client.CachedSchemaRegistryClient.getById(CachedSchemaRegistryClient.java:209)\r\n\tat io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer$DeserializationContext.schemaFromRegistry(AbstractKafkaAvroDeserializer.java:241)\r\n\tat io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.deserialize(AbstractKafkaAvroDeserializer.java:102)\r\n\tat io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.deserialize(AbstractKafkaAvroDeserializer.java:81)\r\n\tat io.confluent.kafka.serializers.KafkaAvroDeserializer.deserialize(KafkaAvroDeserializer.java:55)\r\n\tat org.apache.kafka.common.serialization.Deserializer.deserialize(Deserializer.java:60)\r\n\tat org.apache.kafka.clients.consumer.internals.Fetcher.parseRecord(Fetcher.java:1268)\r\n\tat org.apache.kafka.clients.consumer.internals.Fetcher.access$3600(Fetcher.java:124)\r\n\tat org.apache.kafka.clients.consumer.internals.Fetcher$PartitionRecords.fetchRecords(Fetcher.java:1492)\r\n\tat org.apache.kafka.clients.consumer.internals.Fetcher$PartitionRecords.access$1600(Fetcher.java:1332)\r\n\tat org.apache.kafka.clients.consumer.internals.Fetcher.fetchRecords(Fetcher.java:645)\r\n\tat org.apache.kafka.clients.consumer.internals.Fetcher.fetchedRecords(Fetcher.java:606)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.pollForFetches(KafkaConsumer.java:1263)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1225)\r\n\tat org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1201)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1062)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1018)\r\n\tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:949)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.lang.Thread.run(Thread.java:834)\r\n```","title":"Avro GenericRecord deserialization not working via SpringKafka","body":"<p>I'm trying to simplify my consumer as much as possible. The problem is, when looking at the records coming in my Kafka listener:</p>\n<p><code>List&lt;GenericRecord&gt; incomingRecords</code> the values are just string values. I've tried turning specific reader to true and false. I've set the value deserializer as well. Am I missing something? This worked fine when I use a Java configuration class, but want to keep consolidated to this application.properties file.</p>\n<h1>application.properties</h1>\n<pre><code>spring.kafka.properties.security.protocol=SASL_SSL\nspring.kafka.properties.sasl.mechanism=SCRAM-SHA-256\nspring.kafka.properties.sasl.jaas.config=org.apache.kafka.common.security.scram.ScramLoginModule required username=&quot;${SASL_ACCESS_KEY}&quot; password=&quot;${SASL_SECRET}&quot;;\nspring.kafka.consumer.auto-offset-reset=earliest\n\n#### Consumer Properties Configuration\nspring.kafka.properties.key.deserializer=org.apache.kafka.common.serialization.StringDeserializer\nspring.kafka.properties.value.deserializer=io.confluent.kafka.serializers.KafkaAvroDeserializer\nspring.kafka.properties.value.subject.name.strategy=io.confluent.kafka.serializers.subject.TopicRecordNameStrategy\n\nspring.kafka.bootstrap-servers=\nspring.kafka.properties.schema.registry.url=\nspring.kafka.properties.specific.avro.reader=true\nspring.kafka.consumer.properties.spring.json.trusted.packages=*\n\nlogging.level.org.apache.kafka=TRACE\nlogging.level.io.confluent.kafka.schemaregistry=TRACE\n</code></pre>\n<h1>consumer</h1>\n<pre class=\"lang-java prettyprint-override\"><code>    @KafkaListener(topics = &quot;${topic}&quot;, groupId = &quot;${group}&quot;)\n    public void processMessageBatch(List&lt;GenericRecord&gt; incomingRecords,\n                                    @Header(KafkaHeaders.RECEIVED_PARTITION_ID) List&lt;Integer&gt; partitions,\n                                    @Header(KafkaHeaders.RECEIVED_TOPIC) List&lt;String&gt; topics,\n                                    @Header(KafkaHeaders.OFFSET) List&lt;Long&gt; offsets) {\n        currentMicroBatch = Stream.of(currentMicroBatch, incomingRecords).flatMap(List::stream).collect(Collectors.toList());\n        if (currentMicroBatch.size() &gt;= maxRecords || validatedElapsedDuration(durationMonitor)) {\n            System.out.println(&quot;ETL processing logic will be done here&quot;);\n        }\n        clearBatch();\n    }\n</code></pre>\n<p>I notice when I use:</p>\n<blockquote>\n<p>spring.kafka.consumer.value-deserializer=io.confluent.kafka.serializers.KafkaAvroDeserializer\nspring.kafka.consumer.key-deserializer=org.apache.kafka.common.serialization.StringDeserializer</p>\n</blockquote>\n<p>I get the following error:</p>\n<blockquote>\n<p>2020-12-02 17:04:42.745 DEBUG 51910 --- [ntainer#0-0-C-1] i.c.k.s.client.rest.RestService          : Sending GET with input null to <a href=\"https://myschemaregistry.com\" rel=\"nofollow noreferrer\">https://myschemaregistry.com</a></p>\n</blockquote>\n<pre><code>2020-12-02 17:04:42.852 ERROR 51910 --- [ntainer#0-0-C-1] o.s.kafka.listener.LoggingErrorHandler   : Error while processing: null\n\norg.apache.kafka.common.errors.SerializationException: Error deserializing key/value for partition my-topic-avro-32 at offset 7836. If needed, please seek past the record to continue consumption.\n</code></pre>\n<pre><code>java.lang.IllegalArgumentException: argument &quot;src&quot; is null\n    at com.fasterxml.jackson.databind.ObjectMapper._assertNotNull(ObjectMapper.java:4735)\n    at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3502)\n    at io.confluent.kafka.schemaregistry.client.rest.RestService.sendHttpRequest(RestService.java:270)\n    at io.confluent.kafka.schemaregistry.client.rest.RestService.httpRequest(RestService.java:334)\n    at io.confluent.kafka.schemaregistry.client.rest.RestService.getId(RestService.java:573)\n    at io.confluent.kafka.schemaregistry.client.rest.RestService.getId(RestService.java:557)\n    at io.confluent.kafka.schemaregistry.client.CachedSchemaRegistryClient.getSchemaByIdFromRegistry(CachedSchemaRegistryClient.java:149)\n    at io.confluent.kafka.schemaregistry.client.CachedSchemaRegistryClient.getBySubjectAndId(CachedSchemaRegistryClient.java:230)\n    at io.confluent.kafka.schemaregistry.client.CachedSchemaRegistryClient.getById(CachedSchemaRegistryClient.java:209)\n    at io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer$DeserializationContext.schemaFromRegistry(AbstractKafkaAvroDeserializer.java:241)\n    at io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.deserialize(AbstractKafkaAvroDeserializer.java:102)\n    at io.confluent.kafka.serializers.AbstractKafkaAvroDeserializer.deserialize(AbstractKafkaAvroDeserializer.java:81)\n    at io.confluent.kafka.serializers.KafkaAvroDeserializer.deserialize(KafkaAvroDeserializer.java:55)\n    at org.apache.kafka.common.serialization.Deserializer.deserialize(Deserializer.java:60)\n    at org.apache.kafka.clients.consumer.internals.Fetcher.parseRecord(Fetcher.java:1268)\n    at org.apache.kafka.clients.consumer.internals.Fetcher.access$3600(Fetcher.java:124)\n    at org.apache.kafka.clients.consumer.internals.Fetcher$PartitionRecords.fetchRecords(Fetcher.java:1492)\n    at org.apache.kafka.clients.consumer.internals.Fetcher$PartitionRecords.access$1600(Fetcher.java:1332)\n    at org.apache.kafka.clients.consumer.internals.Fetcher.fetchRecords(Fetcher.java:645)\n    at org.apache.kafka.clients.consumer.internals.Fetcher.fetchedRecords(Fetcher.java:606)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.pollForFetches(KafkaConsumer.java:1263)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1225)\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1201)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1062)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1018)\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:949)\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.lang.Thread.run(Thread.java:834)\n</code></pre>\n"},{"tags":["java","swing","jtable","defaulttablemodel"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1636458497,"post_id":69896299,"comment_id":123557065,"body_markdown":"Not answering your question, I recommend you don’t use `SimpleDateFormat` and `Calendar`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead for getting the current time as a string use `ZonedDateTime.now(ZoneId.systemDefault()).format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;))` using classes from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"Not answering your question, I recommend you don’t use <code>SimpleDateFormat</code> and <code>Calendar</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead for getting the current time as a string use <code>ZonedDateTime.now(ZoneId.systemDefault()).format(DateTimeFor&zwnj;&#8203;matter.ofPattern(&quot;yy&zwnj;&#8203;yy-MM-dd HH:mm:ss&quot;))</code> using classes from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":22279338,"reputation":23,"user_id":16507914,"display_name":"Blaz Cus"},"score":0,"creation_date":1636462022,"post_id":69896299,"comment_id":123558440,"body_markdown":"@OleV.V. tnx for the note!","body":"@OleV.V. tnx for the note!"},{"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"score":0,"creation_date":1636464216,"post_id":69896299,"comment_id":123559336,"body_markdown":"Can you please provide a [mre]?","body":"Can you please provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>?"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":3,"creation_date":1636469413,"post_id":69896299,"comment_id":123561846,"body_markdown":"1) Method names should NOT start with an upper case character. 2) Variable names should not start with an upper case character. Learn and follow Java conventions. 3) An application should only have a single JFrame. If you need child windows then you can use a `JDialog`. 4) You should NOT be using code like: `FIRSTFRAME_Okno.jTable1` to access variables of another class. If you want to update the table then you pass the &quot;table&quot; as a parameter to your child dialog. If the child dialog has a reference to the visible table, then the above code should work.","body":"1) Method names should NOT start with an upper case character. 2) Variable names should not start with an upper case character. Learn and follow Java conventions. 3) An application should only have a single JFrame. If you need child windows then you can use a <code>JDialog</code>. 4) You should NOT be using code like: <code>FIRSTFRAME_Okno.jTable1</code> to access variables of another class. If you want to update the table then you pass the &quot;table&quot; as a parameter to your child dialog. If the child dialog has a reference to the visible table, then the above code should work."},{"owner":{"account_id":22279338,"reputation":23,"user_id":16507914,"display_name":"Blaz Cus"},"score":0,"creation_date":1636529665,"post_id":69896299,"comment_id":123578312,"body_markdown":"@camickr thank you for answer! I updated my question. I think i have problem with SwingWorker which i have in first jframe.","body":"@camickr thank you for answer! I updated my question. I think i have problem with SwingWorker which i have in first jframe."}],"answers":[{"tags":[],"owner":{"account_id":22279338,"reputation":23,"user_id":16507914,"display_name":"Blaz Cus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636547639,"creation_date":1636547639,"answer_id":69913346,"question_id":69896299,"body_markdown":"I found solution!\r\n\r\nIt is really stupid one, but anyway...\r\n\r\nI have in second class:\r\n\r\n```\r\nFIRSTFRAME_Okno = new FIRSTFRAME_Okno();\r\n```\r\n\r\nBecause of that jTable1 was not updated. \r\n\r\nEvery function which i call from second class i use:\r\n```\r\nFIRSTFRAME_Okno.functionName();\r\n```\r\n\r\nTnx!","title":"Why cannot add row to jtable?","body":"<p>I found solution!</p>\n<p>It is really stupid one, but anyway...</p>\n<p>I have in second class:</p>\n<pre><code>FIRSTFRAME_Okno = new FIRSTFRAME_Okno();\n</code></pre>\n<p>Because of that jTable1 was not updated.</p>\n<p>Every function which i call from second class i use:</p>\n<pre><code>FIRSTFRAME_Okno.functionName();\n</code></pre>\n<p>Tnx!</p>\n"}],"owner":{"account_id":22279338,"reputation":23,"user_id":16507914,"display_name":"Blaz Cus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636547639,"creation_date":1636452684,"question_id":69896299,"body_markdown":"I need some help with addrow to jTable.\r\n\r\nI have 2 jFrames, first one has jTable1 and second one has jTextfields. I would like to add data (string) from second frame to jTable1 in first frame. I tried many versions and watch many tutorials..but no success.\r\n\r\n\r\nin first frame where i have jTable1 i have SwingWorker and i wrote:\r\n```\r\nprivate void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \r\n         jButton1.setEnabled(false);\r\n         jButton2.setEnabled(true);\r\n         Boolean praznaMapa = false;         \r\n         worker = new SwingWorker&lt;Void, String&gt;(){\r\n            @Override\r\n            protected Void doInBackground() throws Exception {\r\n \r\n                if(isCancelled())\r\n                {\r\n                    return null;\r\n                }\r\n                AddRowToTable(new Object[]\r\n                {\r\n                    PrviStolpec,DrugiStolpec,TretjiStolpec,timeStamp,\r\n                });\r\n}}\r\nworker.execute();}\r\n\r\n     public static void AddRowToTable (Object [] data)\r\n    {\r\n       \r\n        DefaultTableModel tblmodel = (DefaultTableModel)jTable1.getModel();\r\n        tblmodel.insertRow(0, data);\r\n    }\r\n```\r\n\r\nand in the second frame where i have textfields i wrote:\r\n\r\n```\r\nString PrviStolpec = FIRSTFRAME_Okno.withoutExtension;\r\nString DrugiStolpec = &quot;OK&quot;;\r\nString TretjiStolpec = FIRSTFRAME_Okno.stSledenja;\r\nString timeStamp = new SimpleDateFormat (&quot;yyyy-MM-dd HH:mm:ss&quot;).format(Calendar.getInstance().getTime());\r\n                FIRSTFRAME_Okno.AddRowToTable(new Object[]\r\n                {\r\n                    PrviStolpec,DrugiStolpec,TretjiStolpec,timeStamp,\r\n                });     \r\n                FIRSTFRAME_Okno.jTable1.setSelectionBackground(Color.green);\r\n```\r\n\r\nbut when i run program, nothing happen. No error and no data in jTable1 :( \r\n\r\nAny suggestion?\r\n\r\nThank you!","title":"Why cannot add row to jtable?","body":"<p>I need some help with addrow to jTable.</p>\n<p>I have 2 jFrames, first one has jTable1 and second one has jTextfields. I would like to add data (string) from second frame to jTable1 in first frame. I tried many versions and watch many tutorials..but no success.</p>\n<p>in first frame where i have jTable1 i have SwingWorker and i wrote:</p>\n<pre><code>private void jButton1ActionPerformed(java.awt.event.ActionEvent evt) {                                         \n         jButton1.setEnabled(false);\n         jButton2.setEnabled(true);\n         Boolean praznaMapa = false;         \n         worker = new SwingWorker&lt;Void, String&gt;(){\n            @Override\n            protected Void doInBackground() throws Exception {\n \n                if(isCancelled())\n                {\n                    return null;\n                }\n                AddRowToTable(new Object[]\n                {\n                    PrviStolpec,DrugiStolpec,TretjiStolpec,timeStamp,\n                });\n}}\nworker.execute();}\n\n     public static void AddRowToTable (Object [] data)\n    {\n       \n        DefaultTableModel tblmodel = (DefaultTableModel)jTable1.getModel();\n        tblmodel.insertRow(0, data);\n    }\n</code></pre>\n<p>and in the second frame where i have textfields i wrote:</p>\n<pre><code>String PrviStolpec = FIRSTFRAME_Okno.withoutExtension;\nString DrugiStolpec = &quot;OK&quot;;\nString TretjiStolpec = FIRSTFRAME_Okno.stSledenja;\nString timeStamp = new SimpleDateFormat (&quot;yyyy-MM-dd HH:mm:ss&quot;).format(Calendar.getInstance().getTime());\n                FIRSTFRAME_Okno.AddRowToTable(new Object[]\n                {\n                    PrviStolpec,DrugiStolpec,TretjiStolpec,timeStamp,\n                });     \n                FIRSTFRAME_Okno.jTable1.setSelectionBackground(Color.green);\n</code></pre>\n<p>but when i run program, nothing happen. No error and no data in jTable1 :(</p>\n<p>Any suggestion?</p>\n<p>Thank you!</p>\n"},{"tags":["java","swagger","openapi"],"answers":[{"tags":[],"owner":{"account_id":39252,"reputation":89812,"user_id":113116,"display_name":"Helen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636547484,"creation_date":1636473438,"answer_id":69901259,"question_id":69900147,"body_markdown":"&gt; Do any solutions exist to make such things, or it&#39;s only possible to write your own parser?\r\n\r\nThere are [OpenAPI parsers](https://openapi.tools/#parsers) for various programming languages. In Java, you can use [Swagger Parser](https://github.com/swagger-api/swagger-parser/) - use version 2.x for OpenAPI 3.0.x or v. 1.x for OpenAPI 2.0 (`swagger: &#39;2.0&#39;`).\r\n\r\nI think [openapi-filter](https://github.com/Mermade/openapi-filter) can filter content by tags, among other things.\r\n\r\nYou can also try using a YAML parser/processor such as [yq](https://mikefarah.gitbook.io/yq/).","title":"Is it possible to generate Openapi spec file from the another spec with slight modifications?","body":"<blockquote>\n<p>Do any solutions exist to make such things, or it's only possible to write your own parser?</p>\n</blockquote>\n<p>There are <a href=\"https://openapi.tools/#parsers\" rel=\"nofollow noreferrer\">OpenAPI parsers</a> for various programming languages. In Java, you can use <a href=\"https://github.com/swagger-api/swagger-parser/\" rel=\"nofollow noreferrer\">Swagger Parser</a> - use version 2.x for OpenAPI 3.0.x or v. 1.x for OpenAPI 2.0 (<code>swagger: '2.0'</code>).</p>\n<p>I think <a href=\"https://github.com/Mermade/openapi-filter\" rel=\"nofollow noreferrer\">openapi-filter</a> can filter content by tags, among other things.</p>\n<p>You can also try using a YAML parser/processor such as <a href=\"https://mikefarah.gitbook.io/yq/\" rel=\"nofollow noreferrer\">yq</a>.</p>\n"}],"owner":{"account_id":7313625,"reputation":6030,"user_id":5572007,"display_name":"amseager"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":255,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69901259,"answer_count":1,"score":2,"last_activity_date":1636547484,"creation_date":1636469021,"question_id":69900147,"body_markdown":"Suppose I have Openapi specification file (api-docs.yml). I need to create a copy of it with:\r\n1. different `servers` block\r\n2. filtered `paths` by tag (with removing unnecessary schemas)\r\n\r\nDo any solutions exist to make such things, or it&#39;s only possible to write your own parser? \r\n\r\nI&#39;m using Java so Java-based solutions (maven plugins etc.) are preferred.","title":"Is it possible to generate Openapi spec file from the another spec with slight modifications?","body":"<p>Suppose I have Openapi specification file (api-docs.yml). I need to create a copy of it with:</p>\n<ol>\n<li>different <code>servers</code> block</li>\n<li>filtered <code>paths</code> by tag (with removing unnecessary schemas)</li>\n</ol>\n<p>Do any solutions exist to make such things, or it's only possible to write your own parser?</p>\n<p>I'm using Java so Java-based solutions (maven plugins etc.) are preferred.</p>\n"},{"tags":["java","functional-programming"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1636545090,"post_id":69912756,"comment_id":123584033,"body_markdown":"`Collection`s like `List`s have a method [`removeIf`](https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-)","body":"<code>Collection</code>s like <code>List</code>s have a method <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Collection.html#removeIf-java.util.function.Predicate-\" rel=\"nofollow noreferrer\"><code>removeIf</code></a>"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1636545207,"post_id":69912756,"comment_id":123584079,"body_markdown":"Alternatively, [Stream.filter](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#filter(java.util.function.Predicate)) allows you to only pass elements matching a prediate to the next operation in your pipeline.","body":"Alternatively, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#filter(java.util.function.Predicate)\" rel=\"nofollow noreferrer\">Stream.filter</a> allows you to only pass elements matching a prediate to the next operation in your pipeline."},{"owner":{"account_id":8739741,"reputation":6543,"user_id":6537157,"accept_rate":100,"display_name":"akop"},"score":0,"creation_date":1636545260,"post_id":69912756,"comment_id":123584102,"body_markdown":"You can use `.stream()` and filter the bad rooms out (`.filter()`). After that, you can collect the rooms and assign it to your `this.rooms`.","body":"You can use <code>.stream()</code> and filter the bad rooms out (<code>.filter()</code>). After that, you can collect the rooms and assign it to your <code>this.rooms</code>."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636545323,"creation_date":1636545323,"answer_id":69912845,"question_id":69912756,"body_markdown":"    lamps.stream().map(SmartLamp::getRoom).anyMatch(rooms::contains);\r\n\r\nThe predicate does not expect a stream, you would need to make a lambda `room -&gt; ...`.\r\n\r\nHowever you already have to make a stream for mapping lamps, so I would start with that stream. And really `contains` is not very good, but fine enough.\r\n\r\nA `Set&lt;Room&gt;` would be better.","title":"How can I solve the following exercise with streams","body":"<pre><code>lamps.stream().map(SmartLamp::getRoom).anyMatch(rooms::contains);\n</code></pre>\n<p>The predicate does not expect a stream, you would need to make a lambda <code>room -&gt; ...</code>.</p>\n<p>However you already have to make a stream for mapping lamps, so I would start with that stream. And really <code>contains</code> is not very good, but fine enough.</p>\n<p>A <code>Set&lt;Room&gt;</code> would be better.</p>\n"},{"tags":[],"owner":{"account_id":6385475,"reputation":98,"user_id":4953535,"display_name":"bgore"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636545376,"creation_date":1636545376,"answer_id":69912858,"question_id":69912756,"body_markdown":"I believe anymatch isnt what you would like here. Any match is a stream method that returns true or false if anything in the stream matches what you want.\r\n\r\nBut regardless you would want a Predicate \r\n\r\nwhich is of the form\r\n\r\n    List&lt;Room&gt; lampRoomList = lamps.stream().map(SmartLamp::getRoom).ToList()\r\n    //predicate is in the filter method\r\n    List&lt;Room&gt; roomsWithLamps = rooms.stream().filter(room.toroom -&gt; lampRoomList.Contains(Room)).toList();\r\n\r\nwhere room in the second line means object in the stream. in your case a room.\r\n\r\nThe first line is to hold the list of all rooms in lamps so you do not need to to the mapping for every room.\r\n\r\nyou can read more about predicates here\r\nhttps://www.geeksforgeeks.org/java-8-predicate-with-examples/\r\n\r\n","title":"How can I solve the following exercise with streams","body":"<p>I believe anymatch isnt what you would like here. Any match is a stream method that returns true or false if anything in the stream matches what you want.</p>\n<p>But regardless you would want a Predicate</p>\n<p>which is of the form</p>\n<pre><code>List&lt;Room&gt; lampRoomList = lamps.stream().map(SmartLamp::getRoom).ToList()\n//predicate is in the filter method\nList&lt;Room&gt; roomsWithLamps = rooms.stream().filter(room.toroom -&gt; lampRoomList.Contains(Room)).toList();\n</code></pre>\n<p>where room in the second line means object in the stream. in your case a room.</p>\n<p>The first line is to hold the list of all rooms in lamps so you do not need to to the mapping for every room.</p>\n<p>you can read more about predicates here\n<a href=\"https://www.geeksforgeeks.org/java-8-predicate-with-examples/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/java-8-predicate-with-examples/</a></p>\n"},{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636546110,"creation_date":1636545445,"answer_id":69912871,"question_id":69912756,"body_markdown":"&gt; I should keep all the Rooms, which have SmartLamps in it.\r\n\r\nOK, so you can do like this ... \r\n\r\n```\r\npublic class SmartHome {\r\n\r\nprivate final List&lt;Room&gt; rooms;\r\nprivate final List&lt;SmartLamp&gt; lamps;\r\n\r\nvoid deleteRoomsWithoutSmartLamps() {\r\n  var goodRooms = roomsWithSmartLamps();\r\n  // This line will remove the bad rooms from the list\r\n  rooms = rooms.stream().filter( r -&gt; goodRooms.contains(r)).collect(toList())\r\n}\r\n\r\n// This method gives you a list of rooms with smart lamps\r\npublic List&lt;Room&gt; roomsWithSmartLamps() {\r\n var goodRooms = lamps.stream().filter( lamp -&gt; lamp.isSmartLamp() ).map(lamp -&gt; lamp.getRoom()).filter(room != null)collect(toList());\r\n  \r\n  return goodRooms;\r\n}\r\n}\r\n```\r\n\r\nDoes this solve your problem ? Tell me in the comments.","title":"How can I solve the following exercise with streams","body":"<blockquote>\n<p>I should keep all the Rooms, which have SmartLamps in it.</p>\n</blockquote>\n<p>OK, so you can do like this ...</p>\n<pre><code>public class SmartHome {\n\nprivate final List&lt;Room&gt; rooms;\nprivate final List&lt;SmartLamp&gt; lamps;\n\nvoid deleteRoomsWithoutSmartLamps() {\n  var goodRooms = roomsWithSmartLamps();\n  // This line will remove the bad rooms from the list\n  rooms = rooms.stream().filter( r -&gt; goodRooms.contains(r)).collect(toList())\n}\n\n// This method gives you a list of rooms with smart lamps\npublic List&lt;Room&gt; roomsWithSmartLamps() {\n var goodRooms = lamps.stream().filter( lamp -&gt; lamp.isSmartLamp() ).map(lamp -&gt; lamp.getRoom()).filter(room != null)collect(toList());\n  \n  return goodRooms;\n}\n}\n</code></pre>\n<p>Does this solve your problem ? Tell me in the comments.</p>\n"},{"tags":[],"owner":{"account_id":19184394,"reputation":153,"user_id":14015478,"display_name":"Deep"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636546250,"creation_date":1636546250,"answer_id":69913049,"question_id":69912756,"body_markdown":"You can try    \r\n\r\n    lamps.stream()\r\n             .map(SmartLamp::getRoom)\r\n             .filter(rooms::contains)\r\n             .collect(Collectors.toSet());","title":"How can I solve the following exercise with streams","body":"<p>You can try</p>\n<pre><code>lamps.stream()\n         .map(SmartLamp::getRoom)\n         .filter(rooms::contains)\n         .collect(Collectors.toSet());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1636547387,"creation_date":1636546940,"answer_id":69913192,"question_id":69912756,"body_markdown":"It was not wrong to use `anyMatch` but only at the wrong place: \r\n\r\n    public void deleteRooms() {\r\n        rooms = rooms.stream().filter(r -&gt; lamps.stream().map(SmartLamp::getRoom).anyMatch(r::equals);\r\n    }\r\n\r\nbut the above is not ideal since you have to iterate over the list of lamps for each room. Extracting all rooms which appear in the lamps list beforehand can help:\r\n\r\n    public void deleteRooms() {\r\n        Set&lt;Room&gt; smartRooms = lamps.stream().map(SmartLamp::getRoom).collect(Collectors.toSet());\r\n        rooms = rooms.stream().filter(r -&gt; smartRomms.contains(r)).collect(Collectors.toList());\r\n    }\r\n\r\nor using List.removeIf \r\n\r\n    public void deleteRooms() {\r\n        Set&lt;Room&gt; smartRooms = lamps.stream().map(SmartLamp::getRoom).collect(Collectors.toSet());\r\n        rooms.removeIf(r -&gt; !smartRomms.contains(r));\r\n    }","title":"How can I solve the following exercise with streams","body":"<p>It was not wrong to use <code>anyMatch</code> but only at the wrong place:</p>\n<pre><code>public void deleteRooms() {\n    rooms = rooms.stream().filter(r -&gt; lamps.stream().map(SmartLamp::getRoom).anyMatch(r::equals);\n}\n</code></pre>\n<p>but the above is not ideal since you have to iterate over the list of lamps for each room. Extracting all rooms which appear in the lamps list beforehand can help:</p>\n<pre><code>public void deleteRooms() {\n    Set&lt;Room&gt; smartRooms = lamps.stream().map(SmartLamp::getRoom).collect(Collectors.toSet());\n    rooms = rooms.stream().filter(r -&gt; smartRomms.contains(r)).collect(Collectors.toList());\n}\n</code></pre>\n<p>or using List.removeIf</p>\n<pre><code>public void deleteRooms() {\n    Set&lt;Room&gt; smartRooms = lamps.stream().map(SmartLamp::getRoom).collect(Collectors.toSet());\n    rooms.removeIf(r -&gt; !smartRomms.contains(r));\n}\n</code></pre>\n"}],"owner":{"account_id":4404941,"reputation":121,"user_id":4161113,"display_name":"CuriousIndeed"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":88,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69913192,"answer_count":5,"score":0,"last_activity_date":1636547387,"creation_date":1636544819,"question_id":69912756,"body_markdown":"In the following exercise I should keep all the Rooms, which have SmartLamps in it. How can I solve this with streams? Since each SmartLamp has attribute Room I need to stream over rooms and lamps. I tried to do it with anyMatch, but cannot find a working solution. Can somebody help? ( I know how to solve it without streams)\r\n\r\n    public class SmartHome {\r\n\r\n    private final List&lt;Room&gt; rooms;\r\n    private final List&lt;SmartLamp&gt; lamps;\r\n\r\n    public void deleteRooms() {\r\n     rooms.stream().anyMatch(lamps.stream().map(SmartLamp::getRoom));\r\n    }\r\n    }\r\n\r\nCode gives error:\r\n&quot;Type mismatch: cannot convert from Stream&lt;Room&gt; to Predicate&lt;? super Room&gt;&quot;","title":"How can I solve the following exercise with streams","body":"<p>In the following exercise I should keep all the Rooms, which have SmartLamps in it. How can I solve this with streams? Since each SmartLamp has attribute Room I need to stream over rooms and lamps. I tried to do it with anyMatch, but cannot find a working solution. Can somebody help? ( I know how to solve it without streams)</p>\n<pre><code>public class SmartHome {\n\nprivate final List&lt;Room&gt; rooms;\nprivate final List&lt;SmartLamp&gt; lamps;\n\npublic void deleteRooms() {\n rooms.stream().anyMatch(lamps.stream().map(SmartLamp::getRoom));\n}\n}\n</code></pre>\n<p>Code gives error:\n&quot;Type mismatch: cannot convert from Stream to Predicate&lt;? super Room&gt;&quot;</p>\n"},{"tags":["java","html","selenium"],"comments":[{"owner":{"account_id":7608227,"reputation":700,"user_id":5770116,"display_name":"JonR85"},"score":0,"creation_date":1636507476,"post_id":69906893,"comment_id":123574364,"body_markdown":"Show use your code.","body":"Show use your code."},{"owner":{"account_id":7380656,"reputation":1500,"user_id":5617485,"display_name":"tsamridh86"},"score":0,"creation_date":1636516830,"post_id":69906893,"comment_id":123575836,"body_markdown":"has the element rendered on screen by the time your code executes? if not, the you should wait before you find the element, maybe try a classical sleep for 10 seconds and see the results?","body":"has the element rendered on screen by the time your code executes? if not, the you should wait before you find the element, maybe try a classical sleep for 10 seconds and see the results?"}],"answers":[{"tags":[],"owner":{"account_id":9207703,"reputation":28723,"user_id":9444073,"display_name":"cruisepandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636517777,"creation_date":1636517777,"answer_id":69907936,"question_id":69906893,"body_markdown":"I could locate the web element with the below XPath\r\n\r\n    //*[name()=&#39;div&#39; and @id=&#39;cookiescript_accept&#39;]\r\n\r\nand could perform click on it with the help of below code :\r\n\r\n\r\n    WebDriverWait wait = new WebDriverWait(driver, 30);\r\n    wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//*[name()=&#39;div&#39; and @id=&#39;cookiescript_accept&#39;]&quot;))).click();","title":"Selenium can&#39;t locate ANY element","body":"<p>I could locate the web element with the below XPath</p>\n<pre><code>//*[name()='div' and @id='cookiescript_accept']\n</code></pre>\n<p>and could perform click on it with the help of below code :</p>\n<pre><code>WebDriverWait wait = new WebDriverWait(driver, 30);\nwait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//*[name()='div' and @id='cookiescript_accept']&quot;))).click();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636547202,"creation_date":1636532054,"answer_id":69909777,"question_id":69906893,"body_markdown":"To `click()` on the element &lt;kbd&gt;ALLES ACCEPTEREN&lt;/kbd&gt; you can use either of the following [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n\r\n- `cssSelector`:\r\n\r\n\t  driver.findElement(By.cssSelector(&quot;div#cookiescript_accept&quot;)).click();\r\n           \t\r\n- `xpath`:\r\n\r\n\t  driver.findElement(By.xpath(&quot;//div[@id=&#39;cookiescript_accept&#39;]&quot;)).click();\r\n\r\nHowever, the element is a dynamic element so to `click()` on the element you need to induce [WebDriverWait](https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165) for the `elementToBeClickable()` and you can use either of the following [Locator Strategies](https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890):\r\n\r\n- `cssSelector`:\r\n\r\n\t  new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;div#cookiescript_accept&quot;))).click();\r\n           \t\r\n- `xpath`:\r\n\r\n\t  new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@id=&#39;cookiescript_accept&#39;]&quot;))).click();\r\n\r\n\r\n----------\r\n\r\n\r\nAlternative\r\n-----------\t  \r\nAs an alternative you can also use the `executeScript()` as follows:\r\n\r\n- `cssSelector`:\r\n\r\n\t  ((JavascriptExecutor)driver).executeScript(&quot;arguments[0].click();&quot;, new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;div#cookiescript_accept&quot;))));\r\n           \t\r\n- `xpath`:\r\n\r\n\t  ((JavascriptExecutor)driver).executeScript(&quot;arguments[0].click();&quot;, new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@id=&#39;cookiescript_accept&#39;]&quot;))));\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n\r\n\t  \r\nReference\r\n---------\r\nYou can find a detailed discussion on [NoSuchElementException](https://stackoverflow.com/questions/46202283/exception-in-thread-main-org-openqa-selenium-nosuchelementexception-unable-to/46212233#46212233) in:\r\n\r\n- [NoSuchElementException, Selenium unable to locate element](https://stackoverflow.com/questions/48471321/nosuchelementexception-selenium-unable-to-locate-element/48472940#48472940)","title":"Selenium can&#39;t locate ANY element","body":"<p>To <code>click()</code> on the element <kbd>ALLES ACCEPTEREN</kbd> you can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n<ul>\n<li><p><code>cssSelector</code>:</p>\n<pre><code>driver.findElement(By.cssSelector(&quot;div#cookiescript_accept&quot;)).click();\n</code></pre>\n</li>\n<li><p><code>xpath</code>:</p>\n<pre><code>driver.findElement(By.xpath(&quot;//div[@id='cookiescript_accept']&quot;)).click();\n</code></pre>\n</li>\n</ul>\n<p>However, the element is a dynamic element so to <code>click()</code> on the element you need to induce <a href=\"https://stackoverflow.com/questions/48989049/selenium-how-selenium-identifies-elements-visible-or-not-is-is-possible-that-i/48990165#48990165\">WebDriverWait</a> for the <code>elementToBeClickable()</code> and you can use either of the following <a href=\"https://stackoverflow.com/questions/48369043/official-locator-strategies-for-the-webdriver/48376890#48376890\">Locator Strategies</a>:</p>\n<ul>\n<li><p><code>cssSelector</code>:</p>\n<pre><code>new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;div#cookiescript_accept&quot;))).click();\n</code></pre>\n</li>\n<li><p><code>xpath</code>:</p>\n<pre><code>new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@id='cookiescript_accept']&quot;))).click();\n</code></pre>\n</li>\n</ul>\n<hr />\n<h2>Alternative</h2>\n<p>As an alternative you can also use the <code>executeScript()</code> as follows:</p>\n<ul>\n<li><p><code>cssSelector</code>:</p>\n<pre><code>((JavascriptExecutor)driver).executeScript(&quot;arguments[0].click();&quot;, new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.cssSelector(&quot;div#cookiescript_accept&quot;))));\n</code></pre>\n</li>\n<li><p><code>xpath</code>:</p>\n<pre><code>((JavascriptExecutor)driver).executeScript(&quot;arguments[0].click();&quot;, new WebDriverWait(driver, 20).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//div[@id='cookiescript_accept']&quot;))));\n</code></pre>\n</li>\n</ul>\n<hr />\n<h2>Reference</h2>\n<p>You can find a detailed discussion on <a href=\"https://stackoverflow.com/questions/46202283/exception-in-thread-main-org-openqa-selenium-nosuchelementexception-unable-to/46212233#46212233\">NoSuchElementException</a> in:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/48471321/nosuchelementexception-selenium-unable-to-locate-element/48472940#48472940\">NoSuchElementException, Selenium unable to locate element</a></li>\n</ul>\n"}],"owner":{"account_id":20910683,"reputation":113,"user_id":15361662,"display_name":"Tim U"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":508,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1636547202,"creation_date":1636506892,"question_id":69906893,"body_markdown":"So I have a webscraper which first of all needs to get past the cookie banner of a given website. Normally I&#39;d just locate the element by id or classname and be done with it, but on [this site][1] none of the elements can be located. I&#39;ve tried/checked the following:\r\n\r\n - The element of interest is `&lt;div id=&quot;cookiescript_accept&quot; tabindex=&quot;0&quot; role=&quot;button&quot; data-cs-i18n-text=&quot;[]&quot;&gt;Alles accepteren&lt;/div&gt;`\r\n - The element is not part of an iframe\r\n - The element is not part of a shadow DOM\r\n - Using `wait.until(ExpectedConditions.visibilityOfElementLocated` hits the 15 seconds timeout\r\n - Using `driver.executeScript(&quot;return document.getElementById(&#39;cookiescript_accept&#39;);&quot;);` doesn&#39;t work either\r\n - The parent element and parent of parent can also not be found\r\n\r\nI&#39;m still fairly new to Selenium and HTML so I must be missing something, please tell me if you know what that is\r\n\r\nCode:\r\n\r\n    public void loadUrl(String url) {\r\n        System.out.println(&quot;\\t\\t- loadUrl &quot; + url);\r\n        idle5000();\r\n\r\n        driver.get(url);\r\n        idle5000();\r\n\r\n        setWindowSize();\r\n        idle5000();\r\n        printFirefoxCPU();\r\n\r\n        scrollViewport();\r\n        idle5000();\r\n        printFirefoxCPU();\r\n    }\r\n    loadUrl(&quot;https://www.schoolplaten.com/&quot;);\r\n    prepRunnable.getDriver().findElement(By.id(&quot;cc-cookiescript_accept&quot;)).click();\r\n    //  -&gt; NoSuchElementException\r\n    WebDriverWait wait = new WebDriverWait(prepRunnable.getDriver(), 15);\r\n    wait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;cookiescript_accept&quot;)));\r\n    //  -&gt; Timeout\r\n    WebElement elem = (WebElement) prepRunnable.getDriver().executeScript(&quot;return document.getElementById(&#39;cookiescript_accept&#39;);&quot;);\r\n    elem.click();\r\n    //  -&gt; elem is null\r\n\r\n  [1]: https://www.schoolplaten.com/","title":"Selenium can&#39;t locate ANY element","body":"<p>So I have a webscraper which first of all needs to get past the cookie banner of a given website. Normally I'd just locate the element by id or classname and be done with it, but on <a href=\"https://www.schoolplaten.com/\" rel=\"nofollow noreferrer\">this site</a> none of the elements can be located. I've tried/checked the following:</p>\n<ul>\n<li>The element of interest is <code>&lt;div id=&quot;cookiescript_accept&quot; tabindex=&quot;0&quot; role=&quot;button&quot; data-cs-i18n-text=&quot;[]&quot;&gt;Alles accepteren&lt;/div&gt;</code></li>\n<li>The element is not part of an iframe</li>\n<li>The element is not part of a shadow DOM</li>\n<li>Using <code>wait.until(ExpectedConditions.visibilityOfElementLocated</code> hits the 15 seconds timeout</li>\n<li>Using <code>driver.executeScript(&quot;return document.getElementById('cookiescript_accept');&quot;);</code> doesn't work either</li>\n<li>The parent element and parent of parent can also not be found</li>\n</ul>\n<p>I'm still fairly new to Selenium and HTML so I must be missing something, please tell me if you know what that is</p>\n<p>Code:</p>\n<pre><code>public void loadUrl(String url) {\n    System.out.println(&quot;\\t\\t- loadUrl &quot; + url);\n    idle5000();\n\n    driver.get(url);\n    idle5000();\n\n    setWindowSize();\n    idle5000();\n    printFirefoxCPU();\n\n    scrollViewport();\n    idle5000();\n    printFirefoxCPU();\n}\nloadUrl(&quot;https://www.schoolplaten.com/&quot;);\nprepRunnable.getDriver().findElement(By.id(&quot;cc-cookiescript_accept&quot;)).click();\n//  -&gt; NoSuchElementException\nWebDriverWait wait = new WebDriverWait(prepRunnable.getDriver(), 15);\nwait.until(ExpectedConditions.visibilityOfElementLocated(By.id(&quot;cookiescript_accept&quot;)));\n//  -&gt; Timeout\nWebElement elem = (WebElement) prepRunnable.getDriver().executeScript(&quot;return document.getElementById('cookiescript_accept');&quot;);\nelem.click();\n//  -&gt; elem is null\n</code></pre>\n"},{"tags":["java","image","hadoop","mapreduce","hdfs"],"comments":[{"owner":{"account_id":2013433,"reputation":6765,"user_id":1801327,"display_name":"Ashrith"},"score":0,"creation_date":1423115623,"post_id":28336244,"comment_id":45019996,"body_markdown":"May be you want to take a look this library: [HIPI](http://hipi.cs.virginia.edu/index.html)","body":"May be you want to take a look this library: <a href=\"http://hipi.cs.virginia.edu/index.html\" rel=\"nofollow noreferrer\">HIPI</a>"},{"owner":{"account_id":2309610,"reputation":6099,"user_id":2028043,"accept_rate":64,"display_name":"USB"},"score":0,"creation_date":1423123382,"post_id":28336244,"comment_id":45023110,"body_markdown":"@Ashrith: Thought like will do it in Mapreduce and later move on to HIPI for optimizing. Is there any example code available?","body":"@Ashrith: Thought like will do it in Mapreduce and later move on to HIPI for optimizing. Is there any example code available?"}],"owner":{"account_id":2309610,"reputation":6099,"user_id":2028043,"accept_rate":64,"display_name":"USB"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":511,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636547137,"creation_date":1423110572,"question_id":28336244,"body_markdown":"I  haved only played accross text files in hadoop. I would like to experiment on images too.\r\n\r\nHow can I read an image and display(output) images?\r\n\r\nWhen I googled,the stackoverflow itself gave me an idea that \r\n\r\nWe need to convert images to sequence file and then this file is taken as the input to MapReduce job. Is it like that. So in 2 nd MapReduce job how can we out it as images?\r\n\r\nAnd we will not get the exact single image in our map(if the image size is large), Do we need to go with WholeFileInputFormat?\r\n\r\nWhat I did so far is \r\n\r\n 1. Copied images into HDFS\r\n 2. Wrote a MapReduce job to convert images to sequence file .\r\n\r\nPlease Advice.\r\n\r\nCan any one help me with examples.\r\n","title":"Read images and displaying(Outputting) from HDFS using Hadoop MapReduce","body":"<p>I  haved only played accross text files in hadoop. I would like to experiment on images too.</p>\n\n<p>How can I read an image and display(output) images?</p>\n\n<p>When I googled,the stackoverflow itself gave me an idea that </p>\n\n<p>We need to convert images to sequence file and then this file is taken as the input to MapReduce job. Is it like that. So in 2 nd MapReduce job how can we out it as images?</p>\n\n<p>And we will not get the exact single image in our map(if the image size is large), Do we need to go with WholeFileInputFormat?</p>\n\n<p>What I did so far is </p>\n\n<ol>\n<li>Copied images into HDFS</li>\n<li>Wrote a MapReduce job to convert images to sequence file .</li>\n</ol>\n\n<p>Please Advice.</p>\n\n<p>Can any one help me with examples.</p>\n"},{"tags":["java","annotations"],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636544753,"creation_date":1636544753,"answer_id":69912743,"question_id":69912545,"body_markdown":"&gt; can I take SomeClass.class as input parameter from CustomAnnotation and make it generic?\r\n\r\nYes, you can. Here&#39;s an [example][1] of the `@Import` annotation from the `Spring` framework.\r\n\r\n**You use it like this ...**\r\n```\r\n@SpringBootTest\r\n@Import(other.namespace.Foo.class) // class name specified here\r\nclass SpringBootImportTest {\r\n```\r\n\r\nAnd its [implemented][2] like this ...\r\n\r\n```\r\n@Target(ElementType.TYPE)\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Documented\r\npublic @interface Import {\r\n\r\n\t/**\r\n\t * {@link Configuration @Configuration}, {@link ImportSelector},\r\n\t * {@link ImportBeanDefinitionRegistrar}, or regular component classes to import.\r\n\t */\r\n\tClass&lt;?&gt;[] value();\r\n}\r\n```\r\n\r\nFor more details about creating custom annotation check [this][3].\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Import.html\r\n  [2]: https://github.com/spring-projects/spring-framework/blob/main/spring-context/src/main/java/org/springframework/context/annotation/Import.java\r\n  [3]: https://dzone.com/articles/creating-custom-annotations-in-java","title":"Pass argument to java annotations","body":"<blockquote>\n<p>can I take SomeClass.class as input parameter from CustomAnnotation and make it generic?</p>\n</blockquote>\n<p>Yes, you can. Here's an <a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/context/annotation/Import.html\" rel=\"nofollow noreferrer\">example</a> of the <code>@Import</code> annotation from the <code>Spring</code> framework.</p>\n<p><strong>You use it like this ...</strong></p>\n<pre><code>@SpringBootTest\n@Import(other.namespace.Foo.class) // class name specified here\nclass SpringBootImportTest {\n</code></pre>\n<p>And its <a href=\"https://github.com/spring-projects/spring-framework/blob/main/spring-context/src/main/java/org/springframework/context/annotation/Import.java\" rel=\"nofollow noreferrer\">implemented</a> like this ...</p>\n<pre><code>@Target(ElementType.TYPE)\n@Retention(RetentionPolicy.RUNTIME)\n@Documented\npublic @interface Import {\n\n    /**\n     * {@link Configuration @Configuration}, {@link ImportSelector},\n     * {@link ImportBeanDefinitionRegistrar}, or regular component classes to import.\n     */\n    Class&lt;?&gt;[] value();\n}\n</code></pre>\n<p>For more details about creating custom annotation check <a href=\"https://dzone.com/articles/creating-custom-annotations-in-java\" rel=\"nofollow noreferrer\">this</a>.</p>\n"}],"owner":{"account_id":7618268,"reputation":27,"user_id":5776992,"display_name":"Balkrishna Kardam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":780,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636547091,"creation_date":1636543958,"question_id":69912545,"body_markdown":"I&#39;m combining multiple annotations into a single custom annotation.\r\n```\r\n@Target({ElementType.METHOD, ElementType.ANNOTATION_TYPE})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Annotation1(input = SomeClass.class)\r\n@Annotation2(input = SomeClass.class)\r\n@Annotation3(input = SomeClass.class)\r\npublic @interface CustomAnnotation {\r\n}\r\n```\r\ncan I take SomeClass.class as input parameter from CustomAnnotation and make it generic?\r\nSo I can use it somewhere like below\r\n```\r\n@CustomAnnotation(input=SomeClass.class)\r\n```","title":"Pass argument to java annotations","body":"<p>I'm combining multiple annotations into a single custom annotation.</p>\n<pre><code>@Target({ElementType.METHOD, ElementType.ANNOTATION_TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Annotation1(input = SomeClass.class)\n@Annotation2(input = SomeClass.class)\n@Annotation3(input = SomeClass.class)\npublic @interface CustomAnnotation {\n}\n</code></pre>\n<p>can I take SomeClass.class as input parameter from CustomAnnotation and make it generic?\nSo I can use it somewhere like below</p>\n<pre><code>@CustomAnnotation(input=SomeClass.class)\n</code></pre>\n"},{"tags":["java","spring","spring-boot","freemarker"],"comments":[{"owner":{"account_id":2610609,"reputation":1889,"user_id":2260777,"display_name":"Dzmitry Paulenka"},"score":0,"creation_date":1453714403,"post_id":34988679,"comment_id":57706435,"body_markdown":"Duplicate of this one? http://stackoverflow.com/questions/15302775/how-to-access-a-spring-application-property-in-a-freemarker-template?rq=1","body":"Duplicate of this one? <a href=\"http://stackoverflow.com/questions/15302775/how-to-access-a-spring-application-property-in-a-freemarker-template?rq=1\" title=\"how to access a spring application property in a freemarker template\">stackoverflow.com/questions/15302775/&hellip;</a>"},{"owner":{"account_id":42465,"reputation":2933,"user_id":123699,"accept_rate":79,"display_name":"Pierre Gayvallet"},"score":0,"creation_date":1453716038,"post_id":34988679,"comment_id":57707500,"body_markdown":"nope, this is specifically in a spring-boot (aka all-is-configured-automatically-without-asking-ya environ), not bare spring MVC","body":"nope, this is specifically in a spring-boot (aka all-is-configured-automatically-without-asking-ya environ), not bare spring MVC"}],"answers":[{"tags":[],"owner":{"account_id":42465,"reputation":2933,"user_id":123699,"accept_rate":79,"display_name":"Pierre Gayvallet"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1453716149,"creation_date":1453716149,"answer_id":34989704,"question_id":34988679,"body_markdown":"Gonna answer myself :\r\n\r\nEasiest way in spring-boot 1.3 is to overrides the FreeMarkerConfiguration class :\r\n\r\n    /**\r\n     * Overrides the default spring-boot configuration to allow adding shared variables to the freemarker context\r\n     */\r\n    @Configuration\r\n    public class FreemarkerConfiguration extends FreeMarkerAutoConfiguration.FreeMarkerWebConfiguration {\r\n    \r\n        @Value(&quot;${myProp}&quot;)\r\n        private String myProp;\r\n    \r\n        @Override\r\n        public FreeMarkerConfigurer freeMarkerConfigurer() {\r\n            FreeMarkerConfigurer configurer = super.freeMarkerConfigurer();\r\n    \r\n            Map&lt;String, Object&gt; sharedVariables = new HashMap&lt;&gt;();\r\n            sharedVariables.put(&quot;myProp&quot;, myProp);\r\n            configurer.setFreemarkerVariables(sharedVariables);\r\n    \r\n            return configurer;\r\n        }\r\n    }","title":"How to access spring boot properties from freemarker template","body":"<p>Gonna answer myself :</p>\n\n<p>Easiest way in spring-boot 1.3 is to overrides the FreeMarkerConfiguration class :</p>\n\n<pre><code>/**\n * Overrides the default spring-boot configuration to allow adding shared variables to the freemarker context\n */\n@Configuration\npublic class FreemarkerConfiguration extends FreeMarkerAutoConfiguration.FreeMarkerWebConfiguration {\n\n    @Value(\"${myProp}\")\n    private String myProp;\n\n    @Override\n    public FreeMarkerConfigurer freeMarkerConfigurer() {\n        FreeMarkerConfigurer configurer = super.freeMarkerConfigurer();\n\n        Map&lt;String, Object&gt; sharedVariables = new HashMap&lt;&gt;();\n        sharedVariables.put(\"myProp\", myProp);\n        configurer.setFreemarkerVariables(sharedVariables);\n\n        return configurer;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":42361,"reputation":17687,"user_id":123378,"accept_rate":100,"display_name":"kaliatech"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1539123807,"creation_date":1539123807,"answer_id":52730143,"question_id":34988679,"body_markdown":"One option in spring boot 2:\r\n\r\n    @Configuration\r\n    public class CustomFreeMarkerConfig implements BeanPostProcessor {\r\n    \r\n      @Value(&quot;${myProp}&quot;)\r\n      private String myProp;\r\n     \r\n      @Override\r\n      public Object postProcessBeforeInitialization(Object bean, String beanName)\r\n      throws BeansException {\r\n          if (bean instanceof FreeMarkerConfigurer) {\r\n              FreeMarkerConfigurer configurer = (FreeMarkerConfigurer) bean;\r\n              Map&lt;String, Object&gt; sharedVariables = new HashMap&lt;&gt;();\r\n              sharedVariables.put(&quot;myProp&quot;, myProp);\r\n              configurer.setFreemarkerVariables(sharedVariables);\r\n          }\r\n          return bean;\r\n      }\r\n    }\r\n\r\nSpring Boot 2.x changed class structure so it&#39;s no longer possible to subclass and keep the auto configuration like was possible with Spring Boot 1.x.\r\n","title":"How to access spring boot properties from freemarker template","body":"<p>One option in spring boot 2:</p>\n\n<pre><code>@Configuration\npublic class CustomFreeMarkerConfig implements BeanPostProcessor {\n\n  @Value(\"${myProp}\")\n  private String myProp;\n\n  @Override\n  public Object postProcessBeforeInitialization(Object bean, String beanName)\n  throws BeansException {\n      if (bean instanceof FreeMarkerConfigurer) {\n          FreeMarkerConfigurer configurer = (FreeMarkerConfigurer) bean;\n          Map&lt;String, Object&gt; sharedVariables = new HashMap&lt;&gt;();\n          sharedVariables.put(\"myProp\", myProp);\n          configurer.setFreemarkerVariables(sharedVariables);\n      }\n      return bean;\n  }\n}\n</code></pre>\n\n<p>Spring Boot 2.x changed class structure so it's no longer possible to subclass and keep the auto configuration like was possible with Spring Boot 1.x.</p>\n"},{"tags":[],"owner":{"account_id":1666502,"reputation":1120,"user_id":1533783,"display_name":"Khalid Habib"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636546912,"creation_date":1636544760,"answer_id":69912746,"question_id":34988679,"body_markdown":"    import freemarker.template.Configuration;\r\n    \r\n    @Component\r\n    public class FreemarkerConfiguration {\r\n    \r\n        @Autowired\r\n        private Configuration freemarkerConfig;\r\n    \r\n        @Value(&quot;${myProp}&quot;)\r\n        private String myProp;\r\n\r\n        Map&lt;String, Object&gt; model = new HashMap();\r\n        model.put(&quot;myProperty&quot;, myProp);\r\n      \r\n    \r\n        // set loading location to src/main/resources\r\n        freemarkerConfig.setClassForTemplateLoading(this.getClass(), &quot;/&quot;);\r\n        Template template = freemarkerConfig.getTemplate(&quot;template.ftl&quot;);\r\n        String templateText = FreeMarkerTemplateUtils.\r\n                                        processTemplateIntoString(template, model);\r\n    \r\n    }   \r\n    \r\n\r\n         \r\n      step 2, \r\n       get property in freemarker template code.\r\n         &lt;div&gt;${myProperty}&lt;/td&gt;\r\n       \r\n\r\n","title":"How to access spring boot properties from freemarker template","body":"<pre><code>import freemarker.template.Configuration;\n\n@Component\npublic class FreemarkerConfiguration {\n\n    @Autowired\n    private Configuration freemarkerConfig;\n\n    @Value(&quot;${myProp}&quot;)\n    private String myProp;\n\n    Map&lt;String, Object&gt; model = new HashMap();\n    model.put(&quot;myProperty&quot;, myProp);\n  \n\n    // set loading location to src/main/resources\n    freemarkerConfig.setClassForTemplateLoading(this.getClass(), &quot;/&quot;);\n    Template template = freemarkerConfig.getTemplate(&quot;template.ftl&quot;);\n    String templateText = FreeMarkerTemplateUtils.\n                                    processTemplateIntoString(template, model);\n\n}   \n\n\n     \n  step 2, \n   get property in freemarker template code.\n     &lt;div&gt;${myProperty}&lt;/td&gt;\n   \n</code></pre>\n"}],"owner":{"account_id":42465,"reputation":2933,"user_id":123699,"accept_rate":79,"display_name":"Pierre Gayvallet"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6455,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":34989704,"answer_count":3,"score":6,"last_activity_date":1636546912,"creation_date":1453712901,"question_id":34988679,"body_markdown":"My problematic is really simple :\r\n\r\nIn my spring-boot web application, I have some env-related properties that the front/client-side needs to know about (let&#39;s say, a CORS remote url to call that is env dependant).\r\n\r\nI have correctly defined my application-{ENV}.properties files and all the per-env-props mecanism is working fine.\r\n\r\nThe question I can&#39;t seem to find answer to is : how do you allow your freemarker context to know about your properties file to be able to inject them (specifically in a spring-boot app). This is probably very easy but I cant find any example...\r\n\r\nThanks,\r\n","title":"How to access spring boot properties from freemarker template","body":"<p>My problematic is really simple :</p>\n\n<p>In my spring-boot web application, I have some env-related properties that the front/client-side needs to know about (let's say, a CORS remote url to call that is env dependant).</p>\n\n<p>I have correctly defined my application-{ENV}.properties files and all the per-env-props mecanism is working fine.</p>\n\n<p>The question I can't seem to find answer to is : how do you allow your freemarker context to know about your properties file to be able to inject them (specifically in a spring-boot app). This is probably very easy but I cant find any example...</p>\n\n<p>Thanks,</p>\n"},{"tags":["java","maven","intellij-idea","jar"],"comments":[{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":0,"creation_date":1636581868,"post_id":69912217,"comment_id":123599105,"body_markdown":"If you run a Maven goal - then this is not related to the IDE. Maven will package the jar according to your Maven configuration. Normally this could be the compiled sources from the src/main/java src/test/java directories and the resources from the src/main/resources src/test/resources.","body":"If you run a Maven goal - then this is not related to the IDE. Maven will package the jar according to your Maven configuration. Normally this could be the compiled sources from the src/main/java src/test/java directories and the resources from the src/main/resources src/test/resources."}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636546816,"creation_date":1636546816,"answer_id":69913162,"question_id":69912217,"body_markdown":"&gt; If anyone can tell what exactly does the deployed jar include that&#39;d be great!\r\n\r\nHere&#39;s the [official doc][1] of what you&#39;re interested in.\r\n\r\nIt says that `mvn deploy` does the following ... \r\n\r\n&gt; deploy:deploy is used to automatically install the artifact, its pom and the attached artifacts produced by a particular project. Most if not all of the information related to the deployment is stored in the project&#39;s pom.\r\n\r\nSo what does it mean concretely ... well, we can look at an [example artifact][2] the maven central repo.\r\n\r\nHere&#39;s what we see ...\r\n\r\n```\r\nactiveio-2.0-r118.jar                             2005-11-22 02:00    239185      \r\nactiveio-2.0-r118.jar.md5                         2005-11-22 02:00        32      \r\nactiveio-2.0-r118.jar.sha1                        2005-11-22 02:00        40      \r\nactiveio-2.0.pom                                  2005-11-22 02:00       148      \r\nactiveio-2.0.pom.md5                              2005-11-22 02:00        32      \r\nactiveio-2.0.pom.sha1                             2005-11-22 02:00        40      \r\nmaven-metadata.xml                                2005-11-22 02:00       113      \r\nmaven-metadata.xml.md5                            2005-11-22 02:00        77      \r\nmaven-metadata.xml.sha1                           2005-11-22 02:00       132 \r\n```\r\n\r\nWe have ... \r\n\r\n 1. `jar` file. Needed for the thing to work.\r\n 2. `pom.xml` for this dependency. Needed to download transitive dependencies\r\n 3. Metadata file\r\n 4. Hashes `.md5` and `.sha1` which allow to validate the integrity of the other files\r\n\r\n  [1]: https://maven.apache.org/plugins/maven-deploy-plugin/\r\n  [2]: https://repo1.maven.org/maven2/activeio/activeio/2.0/","title":"what files are included when using maven deploy?","body":"<blockquote>\n<p>If anyone can tell what exactly does the deployed jar include that'd be great!</p>\n</blockquote>\n<p>Here's the <a href=\"https://maven.apache.org/plugins/maven-deploy-plugin/\" rel=\"nofollow noreferrer\">official doc</a> of what you're interested in.</p>\n<p>It says that <code>mvn deploy</code> does the following ...</p>\n<blockquote>\n<p>deploy:deploy is used to automatically install the artifact, its pom and the attached artifacts produced by a particular project. Most if not all of the information related to the deployment is stored in the project's pom.</p>\n</blockquote>\n<p>So what does it mean concretely ... well, we can look at an <a href=\"https://repo1.maven.org/maven2/activeio/activeio/2.0/\" rel=\"nofollow noreferrer\">example artifact</a> the maven central repo.</p>\n<p>Here's what we see ...</p>\n<pre><code>activeio-2.0-r118.jar                             2005-11-22 02:00    239185      \nactiveio-2.0-r118.jar.md5                         2005-11-22 02:00        32      \nactiveio-2.0-r118.jar.sha1                        2005-11-22 02:00        40      \nactiveio-2.0.pom                                  2005-11-22 02:00       148      \nactiveio-2.0.pom.md5                              2005-11-22 02:00        32      \nactiveio-2.0.pom.sha1                             2005-11-22 02:00        40      \nmaven-metadata.xml                                2005-11-22 02:00       113      \nmaven-metadata.xml.md5                            2005-11-22 02:00        77      \nmaven-metadata.xml.sha1                           2005-11-22 02:00       132 \n</code></pre>\n<p>We have ...</p>\n<ol>\n<li><code>jar</code> file. Needed for the thing to work.</li>\n<li><code>pom.xml</code> for this dependency. Needed to download transitive dependencies</li>\n<li>Metadata file</li>\n<li>Hashes <code>.md5</code> and <code>.sha1</code> which allow to validate the integrity of the other files</li>\n</ol>\n"}],"owner":{"account_id":5501272,"reputation":37,"user_id":4374931,"display_name":"anonymous"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69913162,"answer_count":1,"score":0,"last_activity_date":1636546816,"creation_date":1636542507,"question_id":69912217,"body_markdown":"I want to run maven deploy to a project, I understand the deploy packages the project as a jar and puts this jar on a remote repository, however I was wondering, in project section of Intellij there are several files including reports generated when I run my code, so does the deployed jar include those files? for example: report.json , report.xml. etc...\r\nIf anyone can tell what exactly does the deployed jar include that&#39;d be great!\r\n","title":"what files are included when using maven deploy?","body":"<p>I want to run maven deploy to a project, I understand the deploy packages the project as a jar and puts this jar on a remote repository, however I was wondering, in project section of Intellij there are several files including reports generated when I run my code, so does the deployed jar include those files? for example: report.json , report.xml. etc...\nIf anyone can tell what exactly does the deployed jar include that'd be great!</p>\n"},{"tags":["java","types","arithmetic-expressions"],"comments":[{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":1,"creation_date":1636533902,"post_id":69910048,"comment_id":123579661,"body_markdown":"You cannot call the / operator on Number type instances. What you should pass to the method is an Int or a Double. Or cast the Number instance to one of these values inside the method","body":"You cannot call the / operator on Number type instances. What you should pass to the method is an Int or a Double. Or cast the Number instance to one of these values inside the method"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1689921156,"post_id":69910048,"comment_id":135284130,"body_markdown":"Number is abstract and particularly in this class is simply the base template for subclasses to extend from their own implementation as most methods are abstract and it has no class fields or instance fields so thereabout no state almost alike an interface.    https://docs.oracle.com/javase/8/docs/api/index.html?java/io/File.html","body":"Number is abstract and particularly in this class is simply the base template for subclasses to extend from their own implementation as most methods are abstract and it has no class fields or instance fields so thereabout no state almost alike an interface.    <a href=\"https://docs.oracle.com/javase/8/docs/api/index.html?java/io/File.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/8/docs/api/index.html?java/io/File.ht&zwnj;&#8203;ml</a>"}],"answers":[{"tags":[],"owner":{"account_id":4799133,"reputation":462,"user_id":3876213,"accept_rate":50,"display_name":"ramazankul"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636534630,"creation_date":1636534630,"answer_id":69910294,"question_id":69910048,"body_markdown":"yes divide operator not applicable for the argument java.lang.Number. But you can convert Number to java.math.BigDecimal you can apply this. Example code is below.\r\n\r\nOutput is :\r\n\r\n5\r\n\r\n5.0\r\n\r\n5.0\r\n\r\n5\r\n\r\n\r\n    public static void main(String[] args) {\r\n\r\n\t\tNumber result = divideByNumber(10l, 2l);\r\n\r\n\t\t//Test data\r\n\t\tresult = divideByNumber(10, 2l);\r\n\t\tSystem.out.println(result);\r\n\r\n\t\tresult = divideByNumber(10.0, 2l);\r\n\t\tSystem.out.println(result);\r\n\r\n\t\tresult = divideByNumber(10.0f, 2l);\r\n\t\tSystem.out.println(result);\r\n\r\n\t\tresult = divideByNumber(new BigDecimal(&quot;10&quot;), 2l);\r\n\t\tSystem.out.println(result);\r\n\t}\r\n\t\r\n\tstatic Number divideByNumber(Number n1, Number n2){\r\n\t\treturn new BigDecimal(n1.toString()).divide(new BigDecimal(n2.toString()));\r\n\t}","title":"Division with Number type","body":"<p>yes divide operator not applicable for the argument java.lang.Number. But you can convert Number to java.math.BigDecimal you can apply this. Example code is below.</p>\n<p>Output is :</p>\n<p>5</p>\n<p>5.0</p>\n<p>5.0</p>\n<p>5</p>\n<pre><code>public static void main(String[] args) {\n\n    Number result = divideByNumber(10l, 2l);\n\n    //Test data\n    result = divideByNumber(10, 2l);\n    System.out.println(result);\n\n    result = divideByNumber(10.0, 2l);\n    System.out.println(result);\n\n    result = divideByNumber(10.0f, 2l);\n    System.out.println(result);\n\n    result = divideByNumber(new BigDecimal(&quot;10&quot;), 2l);\n    System.out.println(result);\n}\n\nstatic Number divideByNumber(Number n1, Number n2){\n    return new BigDecimal(n1.toString()).divide(new BigDecimal(n2.toString()));\n}\n</code></pre>\n"}],"owner":{"account_id":14638583,"reputation":387,"user_id":10571898,"display_name":"Rakshan Premsagar Kapikad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":300,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69910294,"answer_count":1,"score":0,"last_activity_date":1636546710,"creation_date":1636533489,"question_id":69910048,"body_markdown":"I have a server call which returns values of type &quot;Number&quot;.\r\nThis value needs to be transformed and stored.\r\n\r\nEg: Transformation = value/10( Here value is the response from the server)\r\n\r\n\r\nThese transformation could be different for different datapoints. For now, I consider the transformation to be (value/10)\r\n\r\n```\r\nNumber modifiedValue = applyTransformation(event.getValue().getValue(),transformation);\r\n\r\n\r\nprivate Number applyTransformation(Number value, String transformation) {\r\n    Number dinominator = Integer.parseInt(transformation.substring(transformation.lastIndexOf(&quot;/&quot;)+1));\r\n    \r\n    Number modifiedValue = value/dinominator; //Produces an error\r\n\r\n     return modifiedValue;\r\n\r\n\r\n  }\r\n```\r\nError : &quot;The operator / is undefined for the argument type(s) java.lang.Number, java.lang.Number&quot;\r\n\r\n\r\nAny suggestions to handle this please?","title":"Division with Number type","body":"<p>I have a server call which returns values of type &quot;Number&quot;.\nThis value needs to be transformed and stored.</p>\n<p>Eg: Transformation = value/10( Here value is the response from the server)</p>\n<p>These transformation could be different for different datapoints. For now, I consider the transformation to be (value/10)</p>\n<pre><code>Number modifiedValue = applyTransformation(event.getValue().getValue(),transformation);\n\n\nprivate Number applyTransformation(Number value, String transformation) {\n    Number dinominator = Integer.parseInt(transformation.substring(transformation.lastIndexOf(&quot;/&quot;)+1));\n    \n    Number modifiedValue = value/dinominator; //Produces an error\n\n     return modifiedValue;\n\n\n  }\n</code></pre>\n<p>Error : &quot;The operator / is undefined for the argument type(s) java.lang.Number, java.lang.Number&quot;</p>\n<p>Any suggestions to handle this please?</p>\n"},{"tags":["java","spring-integration","spring-integration-dsl"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1587567376,"creation_date":1587567376,"answer_id":61368231,"question_id":61357623,"body_markdown":"You don&#39;t show (or don&#39;t have) the code which sends messages into the `inputChannel`.\r\n\r\nThe `Http.outboundGateway()` is not an active components and its work has to be triggered by the request message.\r\n\r\nAlso there are two main phases in Spring application context: bean creation and runtime.\r\nSo, you see that `System.out.println()` during bean creation phase. It has nothing to do with runtime when really a send over HTTP happens.\r\n\r\nSo, after crating and starting an application context (`SpringApplication.run(DemosiApplication.class, args);`) you need to take an `inputChannel` bean and send a `Message&lt;?&gt;` into it. Only  after that your HTTP Outbound Gateway is going to be triggered.\r\n\r\nSee more info in samples: https://github.com/spring-projects/spring-integration-samples","title":"Http outbound gateway is working but not making the call - using spring integration DSL java","body":"<p>You don't show (or don't have) the code which sends messages into the <code>inputChannel</code>.</p>\n\n<p>The <code>Http.outboundGateway()</code> is not an active components and its work has to be triggered by the request message.</p>\n\n<p>Also there are two main phases in Spring application context: bean creation and runtime.\nSo, you see that <code>System.out.println()</code> during bean creation phase. It has nothing to do with runtime when really a send over HTTP happens.</p>\n\n<p>So, after crating and starting an application context (<code>SpringApplication.run(DemosiApplication.class, args);</code>) you need to take an <code>inputChannel</code> bean and send a <code>Message&lt;?&gt;</code> into it. Only  after that your HTTP Outbound Gateway is going to be triggered.</p>\n\n<p>See more info in samples: <a href=\"https://github.com/spring-projects/spring-integration-samples\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-integration-samples</a></p>\n"},{"tags":[],"owner":{"account_id":6824277,"reputation":1354,"user_id":5250414,"accept_rate":31,"display_name":"SakthiSureshAnand"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587615976,"creation_date":1587615976,"answer_id":61379373,"question_id":61357623,"body_markdown":"I am sharing my answer those who are looking for an example for HTTP outbound gateway using java DSL .\r\n\r\n**Main class**\r\n```\r\n@SpringBootApplication(scanBasePackages=&quot;com.testsi&quot;)\r\n@EnableIntegration\r\n@IntegrationComponentScan\r\npublic class DemosiApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemosiApplication.class, args);\r\n\t}\r\n\r\n\r\n\t\t\r\n\t\t@Bean\r\n\t\t@Qualifier(&quot;get_send_channel&quot;)\r\n\t\tMessageChannel getSendChannel() {\r\n\t\t\treturn MessageChannels.direct().get();\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\t@Qualifier(&quot;get_receive_channel&quot;)\r\n\t\tPollableChannel getReceiveChannel() {\r\n\t\t return new PriorityChannel() ;\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tpublic CommandLineRunner commandLineRunner(ApplicationContext ctx) {\r\n\t\t\tSystem.out.println(&quot;inside the command liner &quot;);\r\n\t\t\treturn args -&gt; {\r\n\t\t\t\tMessage&lt;?&gt; message = MessageBuilder.withPayload(&quot;&quot;).build();\r\n\t\t\t\tSystem.out.println(&quot;Message [ayload =&gt;&quot;+ message.getPayload());\r\n\t\t\t\tgetSendChannel().send(message);\r\n\t\t\t\tSystem.out.println(&quot;we are getting an output from test application&quot;+getReceiveChannel().receive().getPayload());\r\n\t\t\t};\r\n\t\t}\r\n\t\t\r\n\t\t@Bean\r\n\t\tpublic IntegrationFlow outBoundFlow() {\r\n\t\t\tSystem.out.println(&quot;Inside t outBoundFlow flow &quot;);\r\n\t\t\tfinal String uri = &quot;http://localhost:9090/api/test/1&quot;;\r\n\t\t\treturn IntegrationFlows.from(getSendChannel())\r\n\t\t\t\t\t.handle(Http.outboundGateway(uri).httpMethod(HttpMethod.POST).expectedResponseType(String.class))\r\n\t\t\t\t\t.channel(getReceiveChannel()).get();\r\n\t\t}\r\n \r\n\t\t@Bean\r\n\t\tpublic IntegrationFlow outBoundFlow() {\r\n\t\t\tSystem.out.println(&quot;Inside t outBoundFlow flow &quot;);\r\n\t\t\tfinal String uri = &quot;http://localhost:9090/api/test&quot;;\r\n\t\t\treturn IntegrationFlows.from(getSendChannel())\r\n\t\t\t\t\t.handle(Http.outboundGateway(uri).httpMethod(HttpMethod.GET).expectedResponseType(String.class))\r\n\t\t\t\t\t.channel(getReceiveChannel()).get();\r\n\t\t}\r\n\t\t}\r\n```\r\n\r\nThanks @Artem Bilan.\r\n","title":"Http outbound gateway is working but not making the call - using spring integration DSL java","body":"<p>I am sharing my answer those who are looking for an example for HTTP outbound gateway using java DSL .</p>\n\n<p><strong>Main class</strong></p>\n\n<pre><code>@SpringBootApplication(scanBasePackages=\"com.testsi\")\n@EnableIntegration\n@IntegrationComponentScan\npublic class DemosiApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemosiApplication.class, args);\n    }\n\n\n\n        @Bean\n        @Qualifier(\"get_send_channel\")\n        MessageChannel getSendChannel() {\n            return MessageChannels.direct().get();\n        }\n\n        @Bean\n        @Qualifier(\"get_receive_channel\")\n        PollableChannel getReceiveChannel() {\n         return new PriorityChannel() ;\n        }\n\n        @Bean\n        public CommandLineRunner commandLineRunner(ApplicationContext ctx) {\n            System.out.println(\"inside the command liner \");\n            return args -&gt; {\n                Message&lt;?&gt; message = MessageBuilder.withPayload(\"\").build();\n                System.out.println(\"Message [ayload =&gt;\"+ message.getPayload());\n                getSendChannel().send(message);\n                System.out.println(\"we are getting an output from test application\"+getReceiveChannel().receive().getPayload());\n            };\n        }\n\n        @Bean\n        public IntegrationFlow outBoundFlow() {\n            System.out.println(\"Inside t outBoundFlow flow \");\n            final String uri = \"http://localhost:9090/api/test/1\";\n            return IntegrationFlows.from(getSendChannel())\n                    .handle(Http.outboundGateway(uri).httpMethod(HttpMethod.POST).expectedResponseType(String.class))\n                    .channel(getReceiveChannel()).get();\n        }\n\n        @Bean\n        public IntegrationFlow outBoundFlow() {\n            System.out.println(\"Inside t outBoundFlow flow \");\n            final String uri = \"http://localhost:9090/api/test\";\n            return IntegrationFlows.from(getSendChannel())\n                    .handle(Http.outboundGateway(uri).httpMethod(HttpMethod.GET).expectedResponseType(String.class))\n                    .channel(getReceiveChannel()).get();\n        }\n        }\n</code></pre>\n\n<p>Thanks @Artem Bilan.</p>\n"}],"owner":{"account_id":6824277,"reputation":1354,"user_id":5250414,"accept_rate":31,"display_name":"SakthiSureshAnand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1009,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61368231,"answer_count":2,"score":0,"last_activity_date":1636546643,"creation_date":1587531700,"question_id":61357623,"body_markdown":"I am a newbie in the spring integration framework. Below is my code, I am actually trying to make some HTTP calls using HTTP outbound gateway using SI DSL configuration. When I ran the code the ```IntegrationFlow``` methods are called but the HTTP hit is not making. I am not sure why. \r\n\r\n**Main class**\r\n\r\n```@SpringBootApplication\r\n@EnableIntegration\r\n@Configuration\r\n@Import({ AptHttp.class })\r\npublic class DemosiApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DemosiApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n**config class**\r\n```\r\n@Configuration\r\n@IntegrationComponentScan\r\npublic class AptHttp {\r\n\r\n\t@EnableIntegration\r\n\tpublic static class ContextConfiguration {\r\n\r\n\t\t@Bean(&quot;inputChannel&quot;)\r\n\t\tpublic MessageChannel inputChannel() {\r\n\t\t\treturn MessageChannels.direct().get();\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tpublic MessageChannel outputChannel() {\r\n\t\t\treturn MessageChannels.direct().get();\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tpublic IntegrationFlow outBoundFlow() {\r\n\t\t\tSystem.out.println(&quot;Inside t outBoundFlow flow &quot;);\r\n\t\t\tfinal String uri = &quot;http://localhost:9090/api/test&quot;;\r\n\t\t\treturn f -&gt; f.channel(inputChannel())\r\n\t\t\t\t\t.handle(Http.outboundGateway(uri).httpMethod(HttpMethod.GET).expectedResponseType(String.class))\r\n\t\t\t\t\t.channel(outputChannel());\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAbove two classes only. I don&#39;t get any error too when I ran the SI application (sysout are printing but the call is not made I don&#39;t know why ). I have another application where I can have some API through the spring integration code I am trying to hit that API method. To understand the flow of HTTP outbound gateway I am trying this way. \r\n\r\nCould anyone please help/ suggest me on this.\r\n\r\n","title":"Http outbound gateway is working but not making the call - using spring integration DSL java","body":"<p>I am a newbie in the spring integration framework. Below is my code, I am actually trying to make some HTTP calls using HTTP outbound gateway using SI DSL configuration. When I ran the code the <code>IntegrationFlow</code> methods are called but the HTTP hit is not making. I am not sure why. </p>\n\n<p><strong>Main class</strong></p>\n\n<pre><code>@EnableIntegration\n@Configuration\n@Import({ AptHttp.class })\npublic class DemosiApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DemosiApplication.class, args);\n    }\n\n}\n</code></pre>\n\n<p><strong>config class</strong></p>\n\n<pre><code>@Configuration\n@IntegrationComponentScan\npublic class AptHttp {\n\n    @EnableIntegration\n    public static class ContextConfiguration {\n\n        @Bean(\"inputChannel\")\n        public MessageChannel inputChannel() {\n            return MessageChannels.direct().get();\n        }\n\n        @Bean\n        public MessageChannel outputChannel() {\n            return MessageChannels.direct().get();\n        }\n\n        @Bean\n        public IntegrationFlow outBoundFlow() {\n            System.out.println(\"Inside t outBoundFlow flow \");\n            final String uri = \"http://localhost:9090/api/test\";\n            return f -&gt; f.channel(inputChannel())\n                    .handle(Http.outboundGateway(uri).httpMethod(HttpMethod.GET).expectedResponseType(String.class))\n                    .channel(outputChannel());\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Above two classes only. I don't get any error too when I ran the SI application (sysout are printing but the call is not made I don't know why ). I have another application where I can have some API through the spring integration code I am trying to hit that API method. To understand the flow of HTTP outbound gateway I am trying this way. </p>\n\n<p>Could anyone please help/ suggest me on this.</p>\n"},{"tags":["java","junit","mockito","crud"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1636528502,"post_id":69908522,"comment_id":123577999,"body_markdown":"Why do you want to mock `Optional`? Mocks should be used for hard-to-replace or hard-to-fake objects. `Optional` is a quite simple class that you should not need to mock.","body":"Why do you want to mock <code>Optional</code>? Mocks should be used for hard-to-replace or hard-to-fake objects. <code>Optional</code> is a quite simple class that you should not need to mock."}],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636531232,"creation_date":1636530648,"answer_id":69909515,"question_id":69908522,"body_markdown":"    @Mock\r\n    @Autowired\r\n    private UserRepository repo;\r\n\r\nThis part of your code can lead to confusion. The principle behind `mocking` is to create a `mock` objects that is used by the class you want to test. \r\n\r\nLooks like you want to test your repository. To do that you can use [test slice][1] with `@DataJpaTest`.\r\n\r\nThen in your case, you don&#39;t need to mock the `optional`. \r\n\r\nIn case you want to test a `Service` class or another class that use your `UserRepository`, you will define a `mock` and your class will looks like this : \r\n\r\n    @Mock\r\n    private UserRepository repo;\r\n    \r\n    @InjectMocks\r\n    private UserService service;\r\n    \r\n    @Test\r\n    public void testUpdateUser() {\r\n    \r\n        when(repo.findById(anyInt()).get()).thenReturn(aNewInstanceOfUser());\r\n\r\n        ...\r\n\r\n    }\r\n\r\nFor more [reading][2].\r\n\r\n\r\n  [1]: https://reflectoring.io/spring-boot-data-jpa-test/\r\n  [2]: https://www.vogella.com/tutorials/Mockito/article.html","title":"How do I mock an optional class in java?","body":"<pre><code>@Mock\n@Autowired\nprivate UserRepository repo;\n</code></pre>\n<p>This part of your code can lead to confusion. The principle behind <code>mocking</code> is to create a <code>mock</code> objects that is used by the class you want to test.</p>\n<p>Looks like you want to test your repository. To do that you can use <a href=\"https://reflectoring.io/spring-boot-data-jpa-test/\" rel=\"nofollow noreferrer\">test slice</a> with <code>@DataJpaTest</code>.</p>\n<p>Then in your case, you don't need to mock the <code>optional</code>.</p>\n<p>In case you want to test a <code>Service</code> class or another class that use your <code>UserRepository</code>, you will define a <code>mock</code> and your class will looks like this :</p>\n<pre><code>@Mock\nprivate UserRepository repo;\n\n@InjectMocks\nprivate UserService service;\n\n@Test\npublic void testUpdateUser() {\n\n    when(repo.findById(anyInt()).get()).thenReturn(aNewInstanceOfUser());\n\n    ...\n\n}\n</code></pre>\n<p>For more <a href=\"https://www.vogella.com/tutorials/Mockito/article.html\" rel=\"nofollow noreferrer\">reading</a>.</p>\n"},{"tags":[],"owner":{"account_id":4799133,"reputation":462,"user_id":3876213,"accept_rate":50,"display_name":"ramazankul"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636546405,"creation_date":1636546405,"answer_id":69913078,"question_id":69908522,"body_markdown":"Optional class is a final class, so you cannot mock this class with Mockito. You should use PowerMockito. I add below a sample code. Please try this.\r\n\r\n    @RunWith(PowerMockRunner.class)\r\n    @PrepareForTest(Optional.class)\r\n    public class PowerMockitoExample {\r\n\r\n\t\r\n\t    @Mock\r\n\t    Optional&lt;User&gt; optionalMock;\r\n\t\r\n\t    @Mock Repository repo;\r\n\t\r\n\t    @Test\r\n\t    public void testUpdateUser() {\r\n\t\t\r\n\t\t  //edit your mock user\r\n\t\t  User yourUserData = null;\r\n          \r\n\t\t  Mockito.when(repo.findById(Matchers.anyInt())).thenReturn(optionalMock);\r\n\t\t  PowerMockito.when(optionalMock.get()).thenReturn(yourUserData);\r\n\t\t\r\n\t\t  Integer userId = 3;\r\n\r\n\t      Optional&lt;User&gt; optionalUser = repo.findById(userId);\r\n\r\n\t      User user = optionalUser.get();\r\n\t      user.setFirstName(&quot;Paul&quot;);\r\n\t      repo.save(user);\r\n\r\n\t      User updatedUser = repo.findById(userId).get();\r\n\t      Assertions.assertThat(updatedUser.getFirstName()).isEqualTo(&quot;Paul&quot;);\r\n\t}\r\n}","title":"How do I mock an optional class in java?","body":"<p>Optional class is a final class, so you cannot mock this class with Mockito. You should use PowerMockito. I add below a sample code. Please try this.</p>\n<pre><code>@RunWith(PowerMockRunner.class)\n@PrepareForTest(Optional.class)\npublic class PowerMockitoExample {\n\n\n    @Mock\n    Optional&lt;User&gt; optionalMock;\n\n    @Mock Repository repo;\n\n    @Test\n    public void testUpdateUser() {\n    \n      //edit your mock user\n      User yourUserData = null;\n      \n      Mockito.when(repo.findById(Matchers.anyInt())).thenReturn(optionalMock);\n      PowerMockito.when(optionalMock.get()).thenReturn(yourUserData);\n    \n      Integer userId = 3;\n\n      Optional&lt;User&gt; optionalUser = repo.findById(userId);\n\n      User user = optionalUser.get();\n      user.setFirstName(&quot;Paul&quot;);\n      repo.save(user);\n\n      User updatedUser = repo.findById(userId).get();\n      Assertions.assertThat(updatedUser.getFirstName()).isEqualTo(&quot;Paul&quot;);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":18901608,"reputation":319,"user_id":13789467,"display_name":"Prashant Mishra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4064,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69913078,"answer_count":2,"score":0,"last_activity_date":1636546405,"creation_date":1636523907,"question_id":69908522,"body_markdown":"I was mocking my crud app and I was trying to mock the update API. As findById() method belongs to Optional class, I can&#39;t find a way to mock it. Here is the code snippet.\r\n\r\n    @Mock\r\n    @Autowired\r\n    private UserRepository repo;\r\n\r\n    @Test\r\n    public void testUpdateUser() {\r\n        Integer userId = 3;\r\n\r\n        Optional&lt;User&gt; optionalUser = repo.findById(userId);\r\n\r\n        User user = optionalUser.get();\r\n        user.setFirstName(&quot;Paul&quot;);\r\n        repo.save(user);\r\n\r\n        User updatedUser = repo.findById(userId).get();\r\n        Assertions.assertThat(updatedUser.getFirstName()).isEqualTo(&quot;Paul&quot;);\r\n    }\r\n\r\n","title":"How do I mock an optional class in java?","body":"<p>I was mocking my crud app and I was trying to mock the update API. As findById() method belongs to Optional class, I can't find a way to mock it. Here is the code snippet.</p>\n<pre><code>@Mock\n@Autowired\nprivate UserRepository repo;\n\n@Test\npublic void testUpdateUser() {\n    Integer userId = 3;\n\n    Optional&lt;User&gt; optionalUser = repo.findById(userId);\n\n    User user = optionalUser.get();\n    user.setFirstName(&quot;Paul&quot;);\n    repo.save(user);\n\n    User updatedUser = repo.findById(userId).get();\n    Assertions.assertThat(updatedUser.getFirstName()).isEqualTo(&quot;Paul&quot;);\n}\n</code></pre>\n"},{"tags":["java","xls"],"comments":[{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1636540093,"post_id":69911405,"comment_id":123582146,"body_markdown":"Please clarify &quot;it’s not working&quot;. You should post any error message and the full stack trace. On which line exactly is the error?","body":"Please clarify &quot;it’s not working&quot;. You should post any error message and the full stack trace. On which line exactly is the error?"},{"owner":{"account_id":963594,"reputation":525,"user_id":987431,"display_name":"Kainda"},"score":0,"creation_date":1636540166,"post_id":69911405,"comment_id":123582181,"body_markdown":"Can you please improve your question by including the stack trace of the error that you are getting? Otherwise, there is no way you can be assisted with the information that you have provided.","body":"Can you please improve your question by including the stack trace of the error that you are getting? Otherwise, there is no way you can be assisted with the information that you have provided."},{"owner":{"account_id":15895655,"reputation":1313,"user_id":11469519,"display_name":"tnavidi"},"score":0,"creation_date":1636540210,"post_id":69911405,"comment_id":123582196,"body_markdown":"I&#39;d start out by replacing all `catch(Exception e)` with `catch(NumberFormatException e)` this may give you a better feedback on what is wrong","body":"I&#39;d start out by replacing all <code>catch(Exception e)</code> with <code>catch(NumberFormatException e)</code> this may give you a better feedback on what is wrong"},{"owner":{"account_id":8307572,"reputation":373,"user_id":12315034,"display_name":"Hamad"},"score":0,"creation_date":1636543665,"post_id":69911405,"comment_id":123583521,"body_markdown":"Have editied the question","body":"Have editied the question"}],"answers":[{"tags":[],"owner":{"account_id":15895655,"reputation":1313,"user_id":11469519,"display_name":"tnavidi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636546119,"creation_date":1636546119,"answer_id":69913013,"question_id":69911405,"body_markdown":"You need to reset counter to 0 when starting the 3rd sheet. As it is now sheet 3 will start on row 65000 and going down towards 65535","title":"Not writing to new xls sheet using Java","body":"<p>You need to reset counter to 0 when starting the 3rd sheet. As it is now sheet 3 will start on row 65000 and going down towards 65535</p>\n"}],"owner":{"account_id":8307572,"reputation":373,"user_id":12315034,"display_name":"Hamad"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69913013,"answer_count":1,"score":0,"last_activity_date":1636546119,"creation_date":1636539324,"question_id":69911405,"body_markdown":"I have a java app where it’s writing sql statement output from database to an excel file(xls)\r\nSo when it reaches a the limited number of row that xls has which is around 65000 then it writes to a new sheet.\r\n\r\nThis was done previously where it was able to write to second sheet, but when adding the new sheet(sheet4) it’s not working.\r\n\r\nI’m using JXL library and error I’m getting is exceed maximum number of rows, so the two sheets are full but when adding the third it’s not writing to it\r\n\r\nBelow is the code.\r\n\r\n\r\nrs5 is nothing but an sql statement.\r\n\r\n```\r\n\r\nWritableSheet sheet2 = workbook.getSheet(&quot;ServiceSummary&quot;);\r\n                WritableSheet sheet3 = workbook.getSheet(&quot;ServiceSummary2&quot;);\r\n                WritableSheet sheet4 = workbook.getSheet(&quot;ServiceSummary3&quot;); // added third sheet to handle more rows\r\n \r\n                       \r\n                     // Added sheet4 and if else statement to handle max row exception 65000\r\n                        \r\n                        System.out.println(&quot;number of rows in xls&quot; + pos );\r\n                       \r\n                        \r\n                        \r\n                        if (pos &gt; 130000)\r\n                        {\r\n                              System.out.println(&quot;third sheet for ServiceSummary3&quot;);\r\n                               while(rs5.next()){\r\n                                     sheet4.addCell(new Label(0,1+(counter), customerAccount, arial10format));\r\n                                     sheet4.addCell(new Label(1,1+(counter), rs5.getString(1), arial10format));\r\n                                     sheet4.addCell(new Label(2,1+(counter), rs5.getString(2), arial10format));\r\n                                     sheet4.addCell(new Label(3,1+(counter), rs5.getString(3), arial10format));\r\n                                     sheet4.addCell(new Label(4,1+(counter), rs5.getString(4), arial10format));\r\n                                     sheet4.addCell(new Label(5,1+(counter), rs5.getString(5), arial10format));\r\n                                     sheet4.addCell(new Label(6,1+(counter), rs5.getString(6), arial10format));\r\n                                     sheet4.addCell(new Label(7,1+(counter), rs5.getString(7), arial10format));\r\n                                 try{sheet4.addCell(new Number(8,1+(counter), Double.parseDouble(rs5.getString(8)), arial10format));}catch(Exception e){sheet4.addCell(new Label(8,1+(counter), rs5.getString(8), arial10format));}\r\n                                 try{sheet4.addCell(new Number(9,1+(counter), Double.parseDouble(rs5.getString(9)), arial10format));}catch(Exception e){sheet4.addCell(new Label(9,1+(counter), rs5.getString(9), arial10format));}\r\n                                 try{sheet4.addCell(new Number(10,1+(counter), Double.parseDouble(rs5.getString(10)), arial10format));}catch(Exception e){sheet4.addCell(new Label(10,1+(counter), rs5.getString(10), arial10format));}\r\n                                 counter ++;\r\n                                 pos++;\r\n                             }\r\n                             \r\n                        }\r\n                       \r\n                        else if (pos &gt;= 65000)\r\n                        {\r\n                               \r\n                               while(rs5.next()){\r\n                                 sheet3.addCell(new Label(0,1+(counter), customerAccount, arial10format));\r\n                                 sheet3.addCell(new Label(1,1+(counter), rs5.getString(1), arial10format));\r\n                                 sheet3.addCell(new Label(2,1+(counter), rs5.getString(2), arial10format));\r\n                                 sheet3.addCell(new Label(3,1+(counter), rs5.getString(3), arial10format));\r\n                                 sheet3.addCell(new Label(4,1+(counter), rs5.getString(4), arial10format));\r\n                                 sheet3.addCell(new Label(5,1+(counter), rs5.getString(5), arial10format));\r\n                                 sheet3.addCell(new Label(6,1+(counter), rs5.getString(6), arial10format));\r\n                                 sheet3.addCell(new Label(7,1+(counter), rs5.getString(7), arial10format));\r\n                                 try{sheet3.addCell(new Number(8,1+(counter), Double.parseDouble(rs5.getString(8)), arial10format));}catch(Exception e){sheet3.addCell(new Label(8,1+(counter), rs5.getString(8), arial10format));}\r\n                                 try{sheet3.addCell(new Number(9,1+(counter), Double.parseDouble(rs5.getString(9)), arial10format));}catch(Exception e){sheet3.addCell(new Label(9,1+(counter), rs5.getString(9), arial10format));}\r\n                                 try{sheet3.addCell(new Number(10,1+(counter), Double.parseDouble(rs5.getString(10)), arial10format));}catch(Exception e){sheet3.addCell(new Label(10,1+(counter), rs5.getString(10), arial10format));}\r\n                                 counter ++;\r\n                                 pos++;\r\n                             }\r\n                             \r\n                        }\r\n                       \r\n                        else\r\n                         \r\n                        {\r\n                        \r\n                        while(rs5.next()){\r\n                            sheet2.addCell(new Label(0,1+(pos), customerAccount, arial10format));\r\n                            sheet2.addCell(new Label(1,1+(pos), rs5.getString(1), arial10format));\r\n                            sheet2.addCell(new Label(2,1+(pos), rs5.getString(2), arial10format));\r\n                            sheet2.addCell(new Label(3,1+(pos), rs5.getString(3), arial10format));\r\n                            sheet2.addCell(new Label(4,1+(pos), rs5.getString(4), arial10format));\r\n                            sheet2.addCell(new Label(5,1+(pos), rs5.getString(5), arial10format));\r\n                            sheet2.addCell(new Label(6,1+(pos), rs5.getString(6), arial10format));\r\n                            sheet2.addCell(new Label(7,1+(pos), rs5.getString(7), arial10format));\r\n                            try{sheet2.addCell(new Number(8,1+(pos), Double.parseDouble(rs5.getString(8)), arial10format));}catch(Exception e){sheet2.addCell(new Label(8,1+(pos), rs5.getString(8), arial10format));}\r\n                            try{sheet2.addCell(new Number(9,1+(pos), Double.parseDouble(rs5.getString(9)), arial10format));}catch(Exception e){sheet2.addCell(new Label(9,1+(pos), rs5.getString(9), arial10format));}\r\n                            try{sheet2.addCell(new Number(10,1+(pos), Double.parseDouble(rs5.getString(10)), arial10format));}catch(Exception e){sheet2.addCell(new Label(10,1+(pos), rs5.getString(10), arial10format));}\r\n                            pos++;\r\n                        }}\r\n                      \r\n                        rs5.close();\r\n                        rs5 = null;\r\n                    }\r\n                }\r\n```\r\n","title":"Not writing to new xls sheet using Java","body":"<p>I have a java app where it’s writing sql statement output from database to an excel file(xls)\nSo when it reaches a the limited number of row that xls has which is around 65000 then it writes to a new sheet.</p>\n<p>This was done previously where it was able to write to second sheet, but when adding the new sheet(sheet4) it’s not working.</p>\n<p>I’m using JXL library and error I’m getting is exceed maximum number of rows, so the two sheets are full but when adding the third it’s not writing to it</p>\n<p>Below is the code.</p>\n<p>rs5 is nothing but an sql statement.</p>\n<pre><code>\nWritableSheet sheet2 = workbook.getSheet(&quot;ServiceSummary&quot;);\n                WritableSheet sheet3 = workbook.getSheet(&quot;ServiceSummary2&quot;);\n                WritableSheet sheet4 = workbook.getSheet(&quot;ServiceSummary3&quot;); // added third sheet to handle more rows\n \n                       \n                     // Added sheet4 and if else statement to handle max row exception 65000\n                        \n                        System.out.println(&quot;number of rows in xls&quot; + pos );\n                       \n                        \n                        \n                        if (pos &gt; 130000)\n                        {\n                              System.out.println(&quot;third sheet for ServiceSummary3&quot;);\n                               while(rs5.next()){\n                                     sheet4.addCell(new Label(0,1+(counter), customerAccount, arial10format));\n                                     sheet4.addCell(new Label(1,1+(counter), rs5.getString(1), arial10format));\n                                     sheet4.addCell(new Label(2,1+(counter), rs5.getString(2), arial10format));\n                                     sheet4.addCell(new Label(3,1+(counter), rs5.getString(3), arial10format));\n                                     sheet4.addCell(new Label(4,1+(counter), rs5.getString(4), arial10format));\n                                     sheet4.addCell(new Label(5,1+(counter), rs5.getString(5), arial10format));\n                                     sheet4.addCell(new Label(6,1+(counter), rs5.getString(6), arial10format));\n                                     sheet4.addCell(new Label(7,1+(counter), rs5.getString(7), arial10format));\n                                 try{sheet4.addCell(new Number(8,1+(counter), Double.parseDouble(rs5.getString(8)), arial10format));}catch(Exception e){sheet4.addCell(new Label(8,1+(counter), rs5.getString(8), arial10format));}\n                                 try{sheet4.addCell(new Number(9,1+(counter), Double.parseDouble(rs5.getString(9)), arial10format));}catch(Exception e){sheet4.addCell(new Label(9,1+(counter), rs5.getString(9), arial10format));}\n                                 try{sheet4.addCell(new Number(10,1+(counter), Double.parseDouble(rs5.getString(10)), arial10format));}catch(Exception e){sheet4.addCell(new Label(10,1+(counter), rs5.getString(10), arial10format));}\n                                 counter ++;\n                                 pos++;\n                             }\n                             \n                        }\n                       \n                        else if (pos &gt;= 65000)\n                        {\n                               \n                               while(rs5.next()){\n                                 sheet3.addCell(new Label(0,1+(counter), customerAccount, arial10format));\n                                 sheet3.addCell(new Label(1,1+(counter), rs5.getString(1), arial10format));\n                                 sheet3.addCell(new Label(2,1+(counter), rs5.getString(2), arial10format));\n                                 sheet3.addCell(new Label(3,1+(counter), rs5.getString(3), arial10format));\n                                 sheet3.addCell(new Label(4,1+(counter), rs5.getString(4), arial10format));\n                                 sheet3.addCell(new Label(5,1+(counter), rs5.getString(5), arial10format));\n                                 sheet3.addCell(new Label(6,1+(counter), rs5.getString(6), arial10format));\n                                 sheet3.addCell(new Label(7,1+(counter), rs5.getString(7), arial10format));\n                                 try{sheet3.addCell(new Number(8,1+(counter), Double.parseDouble(rs5.getString(8)), arial10format));}catch(Exception e){sheet3.addCell(new Label(8,1+(counter), rs5.getString(8), arial10format));}\n                                 try{sheet3.addCell(new Number(9,1+(counter), Double.parseDouble(rs5.getString(9)), arial10format));}catch(Exception e){sheet3.addCell(new Label(9,1+(counter), rs5.getString(9), arial10format));}\n                                 try{sheet3.addCell(new Number(10,1+(counter), Double.parseDouble(rs5.getString(10)), arial10format));}catch(Exception e){sheet3.addCell(new Label(10,1+(counter), rs5.getString(10), arial10format));}\n                                 counter ++;\n                                 pos++;\n                             }\n                             \n                        }\n                       \n                        else\n                         \n                        {\n                        \n                        while(rs5.next()){\n                            sheet2.addCell(new Label(0,1+(pos), customerAccount, arial10format));\n                            sheet2.addCell(new Label(1,1+(pos), rs5.getString(1), arial10format));\n                            sheet2.addCell(new Label(2,1+(pos), rs5.getString(2), arial10format));\n                            sheet2.addCell(new Label(3,1+(pos), rs5.getString(3), arial10format));\n                            sheet2.addCell(new Label(4,1+(pos), rs5.getString(4), arial10format));\n                            sheet2.addCell(new Label(5,1+(pos), rs5.getString(5), arial10format));\n                            sheet2.addCell(new Label(6,1+(pos), rs5.getString(6), arial10format));\n                            sheet2.addCell(new Label(7,1+(pos), rs5.getString(7), arial10format));\n                            try{sheet2.addCell(new Number(8,1+(pos), Double.parseDouble(rs5.getString(8)), arial10format));}catch(Exception e){sheet2.addCell(new Label(8,1+(pos), rs5.getString(8), arial10format));}\n                            try{sheet2.addCell(new Number(9,1+(pos), Double.parseDouble(rs5.getString(9)), arial10format));}catch(Exception e){sheet2.addCell(new Label(9,1+(pos), rs5.getString(9), arial10format));}\n                            try{sheet2.addCell(new Number(10,1+(pos), Double.parseDouble(rs5.getString(10)), arial10format));}catch(Exception e){sheet2.addCell(new Label(10,1+(pos), rs5.getString(10), arial10format));}\n                            pos++;\n                        }}\n                      \n                        rs5.close();\n                        rs5 = null;\n                    }\n                }\n</code></pre>\n"},{"tags":["java","swing","awt"],"comments":[{"owner":{"account_id":12733210,"reputation":126,"user_id":9249043,"display_name":"Marko Marinkovic"},"score":1,"creation_date":1636538699,"post_id":69910717,"comment_id":123581549,"body_markdown":"If you store your buttons in a list that you pass in to the function you will be able to iterate through it and set the background color for each button.","body":"If you store your buttons in a list that you pass in to the function you will be able to iterate through it and set the background color for each button."},{"owner":{"account_id":19790911,"reputation":3,"user_id":17341927,"display_name":"Mason Gabe"},"score":0,"creation_date":1636538989,"post_id":69910717,"comment_id":123581661,"body_markdown":"@MarkoMarinkovic Can I do it without a list? With using EventQueue, for instance?","body":"@MarkoMarinkovic Can I do it without a list? With using EventQueue, for instance?"},{"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"score":0,"creation_date":1636543614,"post_id":69910717,"comment_id":123583505,"body_markdown":"If you want to _change button background for every button in the program_ you need to reference each and every button. The best is to store the references in a Collection as proposed by @MarkoMarinkovic or alternatively list all of them in the code.","body":"If you want to <i>change button background for every button in the program</i> you need to reference each and every button. The best is to store the references in a Collection as proposed by @MarkoMarinkovic or alternatively list all of them in the code."},{"owner":{"account_id":19790911,"reputation":3,"user_id":17341927,"display_name":"Mason Gabe"},"score":0,"creation_date":1636544826,"post_id":69910717,"comment_id":123583957,"body_markdown":"@MarkoMarinkovic I&#39;ve added a list, thanks for the comment","body":"@MarkoMarinkovic I&#39;ve added a list, thanks for the comment"},{"owner":{"account_id":12733210,"reputation":126,"user_id":9249043,"display_name":"Marko Marinkovic"},"score":0,"creation_date":1636545210,"post_id":69910717,"comment_id":123584082,"body_markdown":"No worries, please accept the answer if it was helpful.","body":"No worries, please accept the answer if it was helpful."}],"answers":[{"tags":[],"owner":{"account_id":12733210,"reputation":126,"user_id":9249043,"display_name":"Marko Marinkovic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636545186,"creation_date":1636545186,"answer_id":69912816,"question_id":69910717,"body_markdown":"If you store your buttons in a list that you pass in to the function you will be able to iterate through it and set the background color for each button. ","title":"How to change button&#39;s color?","body":"<p>If you store your buttons in a list that you pass in to the function you will be able to iterate through it and set the background color for each button.</p>\n"}],"owner":{"account_id":19790911,"reputation":3,"user_id":17341927,"display_name":"Mason Gabe"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":436,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69912816,"answer_count":1,"score":0,"last_activity_date":1636545186,"creation_date":1636536374,"question_id":69910717,"body_markdown":"In my program I&#39;ve got 2 buttons: the first one changes frame background, the second one changes button background(only for itself). The point is that program should change button background for every button in the program(not only for itself). How am I supposed to to rewrite *dialog*?\r\n``` \r\nclass ButtonBackgroundChange implements ActionListener{\r\n    private JDialog dialog;\r\n    private JColorChooser chooser;\r\n    private Color currentBackground;\r\n\r\n    public ButtonBackgroundChange(JButton button1, Component component, Color currentBackground){\r\n        this.currentBackground = currentBackground;\r\n        chooser = new JColorChooser();\r\n        dialog = JColorChooser.createDialog(component, &quot;Background Color&quot;, false /* not modal */, chooser, event -&gt; button1.setBackground(chooser.getColor()), null /* no Cancel button listener */);\r\n    }\r\n\r\n    @Override\r\n    public void actionPerformed(ActionEvent e) {\r\n        chooser.setColor(currentBackground);\r\n        dialog.setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\n","title":"How to change button&#39;s color?","body":"<p>In my program I've got 2 buttons: the first one changes frame background, the second one changes button background(only for itself). The point is that program should change button background for every button in the program(not only for itself). How am I supposed to to rewrite <em>dialog</em>?</p>\n<pre><code>class ButtonBackgroundChange implements ActionListener{\n    private JDialog dialog;\n    private JColorChooser chooser;\n    private Color currentBackground;\n\n    public ButtonBackgroundChange(JButton button1, Component component, Color currentBackground){\n        this.currentBackground = currentBackground;\n        chooser = new JColorChooser();\n        dialog = JColorChooser.createDialog(component, &quot;Background Color&quot;, false /* not modal */, chooser, event -&gt; button1.setBackground(chooser.getColor()), null /* no Cancel button listener */);\n    }\n\n    @Override\n    public void actionPerformed(ActionEvent e) {\n        chooser.setColor(currentBackground);\n        dialog.setVisible(true);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":1,"creation_date":1636544042,"post_id":69912260,"comment_id":123583654,"body_markdown":"See https://thorben-janssen.com/static-metamodel/ for a discussion on this (no affiliation with the author, it was just the first good hit I got).","body":"See <a href=\"https://thorben-janssen.com/static-metamodel/\" rel=\"nofollow noreferrer\">thorben-janssen.com/static-metamodel</a> for a discussion on this (no affiliation with the author, it was just the first good hit I got)."}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636545180,"creation_date":1636545180,"answer_id":69912813,"question_id":69912260,"body_markdown":"&gt; Then, what is the purposes using JPA Hibernate Metamodel classes in a Java app.\r\n\r\n**Why do we need metamodel classes you ask ?** \r\n\r\nThey are an internal detail which allows to achieve type safety for [criteria queries][1]. They are a means to an end. And this end is type safety for criteria queries. If this could be achieved in an easier way, without these extra classes it would be ideal to do it like this. Less classes -&gt; less RAM used -&gt; less classloading -&gt; less startup time.\r\n\r\n**Specifically, here&#39;s the motivation for this ...**\r\n\r\n&gt; When you write a criteria query or create a dynamic entity graph, you need to reference the entity classes and their attributes. The quickest and easiest way is to provide the required names as Strings. But this has several drawbacks, e.g. you have to remember or look-up all the names of the entity attributes when you write the query. But it will also cause even greater issues at later phases of the project if you have to refactor your entities and change the names of some attributes. In that case, you have to use the search function of your IDE and try to find all Strings that reference the changed attributes. This is a tedious and error-prone activity which will easily take up the most time of the refactoring.\r\n\r\nYou can lookup more [details][2] here.\r\n\r\nIf you want to go deep and understand why such an implementation was chosen to achieve this goal you can look at the original [Java Specification Request][3] and get all the details.\r\n\r\nDoes this resolve your question ? Let me know in the comments.\r\n\r\n\r\n  [1]: https://www.baeldung.com/hibernate-criteria-queries\r\n  [2]: https://thorben-janssen.com/static-metamodel/\r\n  [3]: https://jcp.org/en/jsr/detail?id=317","title":"Why JPA Hibernate Metamodel classes are used in Java app?","body":"<blockquote>\n<p>Then, what is the purposes using JPA Hibernate Metamodel classes in a Java app.</p>\n</blockquote>\n<p><strong>Why do we need metamodel classes you ask ?</strong></p>\n<p>They are an internal detail which allows to achieve type safety for <a href=\"https://www.baeldung.com/hibernate-criteria-queries\" rel=\"nofollow noreferrer\">criteria queries</a>. They are a means to an end. And this end is type safety for criteria queries. If this could be achieved in an easier way, without these extra classes it would be ideal to do it like this. Less classes -&gt; less RAM used -&gt; less classloading -&gt; less startup time.</p>\n<p><strong>Specifically, here's the motivation for this ...</strong></p>\n<blockquote>\n<p>When you write a criteria query or create a dynamic entity graph, you need to reference the entity classes and their attributes. The quickest and easiest way is to provide the required names as Strings. But this has several drawbacks, e.g. you have to remember or look-up all the names of the entity attributes when you write the query. But it will also cause even greater issues at later phases of the project if you have to refactor your entities and change the names of some attributes. In that case, you have to use the search function of your IDE and try to find all Strings that reference the changed attributes. This is a tedious and error-prone activity which will easily take up the most time of the refactoring.</p>\n</blockquote>\n<p>You can lookup more <a href=\"https://thorben-janssen.com/static-metamodel/\" rel=\"nofollow noreferrer\">details</a> here.</p>\n<p>If you want to go deep and understand why such an implementation was chosen to achieve this goal you can look at the original <a href=\"https://jcp.org/en/jsr/detail?id=317\" rel=\"nofollow noreferrer\">Java Specification Request</a> and get all the details.</p>\n<p>Does this resolve your question ? Let me know in the comments.</p>\n"}],"owner":{"display_name":"user17186249"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69912813,"answer_count":1,"score":1,"last_activity_date":1636545180,"creation_date":1636542697,"question_id":69912260,"body_markdown":"I a Java app that I work on, there are several metamodel classes e.g. &quot;Company_&quot;. However, these are in target folder and I am wondering why do we use them because the other files e.g. &quot;Company&quot; will also be built and generated in the target folder. Then, what is the purposes using JPA Hibernate Metamodel classes in a Java app. \r\n\r\nAny explanations would be appreciated. ","title":"Why JPA Hibernate Metamodel classes are used in Java app?","body":"<p>I a Java app that I work on, there are several metamodel classes e.g. &quot;Company_&quot;. However, these are in target folder and I am wondering why do we use them because the other files e.g. &quot;Company&quot; will also be built and generated in the target folder. Then, what is the purposes using JPA Hibernate Metamodel classes in a Java app.</p>\n<p>Any explanations would be appreciated.</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636543313,"creation_date":1636543313,"answer_id":69912412,"question_id":69912085,"body_markdown":"&gt; I plan to remove an item from the RecyclerView that the user has already voted on but in a way that it does not remove it from the database itself.\r\n\r\nThe simplest solution would be to add a field of type boolean with the default value of false, into each document. You can simply call it &quot;deleted&quot;. When you want to perform a delete operation, don&#39;t remove the document from the database, rather change its value from false to true.\r\n\r\nIf you want to have a temporary removal, you might also consider [moving a document from a location to another][1].\r\n\r\n&gt; If not, is there any workaround to make my concept work?\r\n\r\nYou can also use [Cloud Functions][2], to trigger a function that contains a particular logic, when a delete operation takes place.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/47244403/how-to-move-a-document-in-cloud-firestore\r\n  [2]: https://firebase.google.com/docs/functions","title":"Is it possible to temporarily remove an item from RecyclerView that is connected to Firestore DB?","body":"<blockquote>\n<p>I plan to remove an item from the RecyclerView that the user has already voted on but in a way that it does not remove it from the database itself.</p>\n</blockquote>\n<p>The simplest solution would be to add a field of type boolean with the default value of false, into each document. You can simply call it &quot;deleted&quot;. When you want to perform a delete operation, don't remove the document from the database, rather change its value from false to true.</p>\n<p>If you want to have a temporary removal, you might also consider <a href=\"https://stackoverflow.com/questions/47244403/how-to-move-a-document-in-cloud-firestore\">moving a document from a location to another</a>.</p>\n<blockquote>\n<p>If not, is there any workaround to make my concept work?</p>\n</blockquote>\n<p>You can also use <a href=\"https://firebase.google.com/docs/functions\" rel=\"nofollow noreferrer\">Cloud Functions</a>, to trigger a function that contains a particular logic, when a delete operation takes place.</p>\n"}],"owner":{"account_id":21660400,"reputation":79,"user_id":15979590,"display_name":"HeroreH29"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69912412,"answer_count":1,"score":0,"last_activity_date":1636544686,"creation_date":1636542034,"question_id":69912085,"body_markdown":"On the online voting system that I am currently working on, I am preparing for the voting feature. I plan to remove an item from the RecyclerView that the user has already voted on but in a way that it does not remove it from the Firestore database itself. Is there a way to do that? If not, is there any workaround to make my concept work? Thank you in advance for the responses.","title":"Is it possible to temporarily remove an item from RecyclerView that is connected to Firestore DB?","body":"<p>On the online voting system that I am currently working on, I am preparing for the voting feature. I plan to remove an item from the RecyclerView that the user has already voted on but in a way that it does not remove it from the Firestore database itself. Is there a way to do that? If not, is there any workaround to make my concept work? Thank you in advance for the responses.</p>\n"},{"tags":["java","cmd"],"comments":[{"owner":{"account_id":7167110,"reputation":2729,"user_id":5475891,"display_name":"phflack"},"score":0,"creation_date":1517335408,"post_id":48527756,"comment_id":84050491,"body_markdown":"If you give them the compiled class files, they should run with that command.  What filetype are they asking for?  If they ask for the source code, they probably know how to compile it and it&#39;s implied","body":"If you give them the compiled class files, they should run with that command.  What filetype are they asking for?  If they ask for the source code, they probably know how to compile it and it&#39;s implied"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1517335413,"post_id":48527756,"comment_id":84050492,"body_markdown":"The example isn&#39;t in a class called JavaClassName if it is in a &quot;.java&quot; file. Yes, you must compile &quot;.java&quot; files to be &quot;.class&quot; files (and then you can package those in a &quot;.jar&quot; file) before you can run it with Java. Try `javac -cp . JavaClassName.java` and then your example command.","body":"The example isn&#39;t in a class called JavaClassName if it is in a &quot;.java&quot; file. Yes, you must compile &quot;.java&quot; files to be &quot;.class&quot; files (and then you can package those in a &quot;.jar&quot; file) before you can run it with Java. Try <code>javac -cp . JavaClassName.java</code> and then your example command."},{"owner":{"account_id":10776008,"reputation":134,"user_id":7928026,"accept_rate":75,"display_name":"Cambray"},"score":0,"creation_date":1517335558,"post_id":48527756,"comment_id":84050564,"body_markdown":"They are asking for the files submitted in a zip file, so I assume the compiled class files, as well as the source .java files","body":"They are asking for the files submitted in a zip file, so I assume the compiled class files, as well as the source .java files"},{"owner":{"account_id":7167110,"reputation":2729,"user_id":5475891,"display_name":"phflack"},"score":0,"creation_date":1517335650,"post_id":48527756,"comment_id":84050620,"body_markdown":"Just include the java and class files in your submission, if their process is to compile the source code, then your class files will be overwritten and no harm done.  If they don&#39;t compile your source code, then the class files will still be there ready to run","body":"Just include the java and class files in your submission, if their process is to compile the source code, then your class files will be overwritten and no harm done.  If they don&#39;t compile your source code, then the class files will still be there ready to run"},{"owner":{"account_id":7167110,"reputation":2729,"user_id":5475891,"display_name":"phflack"},"score":0,"creation_date":1517335687,"post_id":48527756,"comment_id":84050633,"body_markdown":"This is also why it&#39;s common to use/request a make file with run and compile targets","body":"This is also why it&#39;s common to use/request a make file with run and compile targets"},{"owner":{"account_id":10776008,"reputation":134,"user_id":7928026,"accept_rate":75,"display_name":"Cambray"},"score":0,"creation_date":1517335753,"post_id":48527756,"comment_id":84050682,"body_markdown":"@phflack yes, that sounds good to me. I asked the question originally as I have never had to compile or run Java from the cmd line before, so did not know the correct standards in doing so. I suppose no matter what I send, they will be able to get it to run in their workspace before running it anyway.","body":"@phflack yes, that sounds good to me. I asked the question originally as I have never had to compile or run Java from the cmd line before, so did not know the correct standards in doing so. I suppose no matter what I send, they will be able to get it to run in their workspace before running it anyway."}],"answers":[{"tags":[],"owner":{"account_id":11180480,"reputation":7021,"user_id":8207228,"display_name":"Ralf Kleberhoff"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1517586171,"creation_date":1517338950,"answer_id":48528713,"question_id":48527756,"body_markdown":"You ask:\r\n\r\n&gt; Isn&#39;t this skipping the compile process?\r\n\r\nAbsolutely yes. A command line like `java JavaClassName 4 7 file.csv` assumes that there is a compiled class file &quot;JavaClassName.class&quot; in the current directory (or in some other directory or Zip/Jar file found in the CLASSPATH environment variable). And yes, to produce that &quot;JavaClassName.class&quot; class file, you have to use a java compiler first.","title":"Is it possible to run Java program from command line without compiling?","body":"<p>You ask:</p>\n\n<blockquote>\n  <p>Isn't this skipping the compile process?</p>\n</blockquote>\n\n<p>Absolutely yes. A command line like <code>java JavaClassName 4 7 file.csv</code> assumes that there is a compiled class file \"JavaClassName.class\" in the current directory (or in some other directory or Zip/Jar file found in the CLASSPATH environment variable). And yes, to produce that \"JavaClassName.class\" class file, you have to use a java compiler first.</p>\n"},{"tags":[],"owner":{"account_id":3371237,"reputation":75,"user_id":2830393,"display_name":"Matteo Mazza"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636543984,"creation_date":1636543984,"answer_id":69912554,"question_id":48527756,"body_markdown":"from Java 10 **it is possible** to run java programs that fit a single file without manually run the compiler first.  \r\nIt will be compiled on the fly before execution. Nice and useful for scripting.\r\n\r\ne.g. writing HelloWorld.java file\r\n\r\n    public class HelloWorld{\r\n      public static void main(String[] args) { \r\n            System.out.println(&quot;Hello World&quot;);\r\n      }\r\n    }\r\n\r\nwe can run it as\r\n\r\n    java HelloWorld.java\r\n\r\nWe can also add more classes in the single file.\r\n\r\n\r\n----------\r\n\r\n\r\nfrom Java 11 we can also use **shebang** files\r\n- we have to specify which version of the java language you want to use\r\n- we have to save the file without `.java` extension\r\n- remember to give executable permissions `chmod +x HelloWorld`\r\n\r\nwriting HelloWorld file\r\n\r\n    #!/path/to/java --source 11\r\n    \r\n    public class HelloWorld{\r\n      public static void main(String[] args) { \r\n            System.out.println(&quot;Hello World&quot;);\r\n      }\r\n    }\r\n\r\nand we can run it as\r\n\r\n    ./HelloWorld","title":"Is it possible to run Java program from command line without compiling?","body":"<p>from Java 10 <strong>it is possible</strong> to run java programs that fit a single file without manually run the compiler first.<br />\nIt will be compiled on the fly before execution. Nice and useful for scripting.</p>\n<p>e.g. writing HelloWorld.java file</p>\n<pre><code>public class HelloWorld{\n  public static void main(String[] args) { \n        System.out.println(&quot;Hello World&quot;);\n  }\n}\n</code></pre>\n<p>we can run it as</p>\n<pre><code>java HelloWorld.java\n</code></pre>\n<p>We can also add more classes in the single file.</p>\n<hr />\n<p>from Java 11 we can also use <strong>shebang</strong> files</p>\n<ul>\n<li>we have to specify which version of the java language you want to use</li>\n<li>we have to save the file without <code>.java</code> extension</li>\n<li>remember to give executable permissions <code>chmod +x HelloWorld</code></li>\n</ul>\n<p>writing HelloWorld file</p>\n<pre><code>#!/path/to/java --source 11\n\npublic class HelloWorld{\n  public static void main(String[] args) { \n        System.out.println(&quot;Hello World&quot;);\n  }\n}\n</code></pre>\n<p>and we can run it as</p>\n<pre><code>./HelloWorld\n</code></pre>\n"}],"owner":{"account_id":10776008,"reputation":134,"user_id":7928026,"accept_rate":75,"display_name":"Cambray"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2559,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":48528713,"answer_count":2,"score":2,"last_activity_date":1636543984,"creation_date":1517335237,"question_id":48527756,"body_markdown":"I have a set of instructions to create a Java application that takes multiple arguments when running the application from a CMD line.\r\n\r\nThe instructions state:\r\n\r\n&gt; Thus, using the example set of above, assuming the main() method of your program is in a class called JavaClassName, the output should be:\r\n\r\n    $ java JavaClassName 4 7 file.csv\r\n    program output here\r\n\r\nMy question is: \r\n\r\nIsn&#39;t this skipping the compile process?  \r\nWould they assume that loading the Java classes onto a computer that has never run this application before (or a directory with purely the `.java` files needed to run); running the cmd \r\n\r\n    $ java JavaClassName 4 7 file.csv\r\n would output something?\r\n\r\n\r\nSidenote: Currently, running that CMD outputs \r\n\r\n    Error: Could not find or load main class JavaClassName\r\nHave ran through multiple SO questions and online tutorials trying to get this to even run but I have yet to get it to work.","title":"Is it possible to run Java program from command line without compiling?","body":"<p>I have a set of instructions to create a Java application that takes multiple arguments when running the application from a CMD line.</p>\n\n<p>The instructions state:</p>\n\n<blockquote>\n  <p>Thus, using the example set of above, assuming the main() method of your program is in a class called JavaClassName, the output should be:</p>\n</blockquote>\n\n<pre><code>$ java JavaClassName 4 7 file.csv\nprogram output here\n</code></pre>\n\n<p>My question is: </p>\n\n<p>Isn't this skipping the compile process?<br>\nWould they assume that loading the Java classes onto a computer that has never run this application before (or a directory with purely the <code>.java</code> files needed to run); running the cmd </p>\n\n<pre><code>$ java JavaClassName 4 7 file.csv\n</code></pre>\n\n<p>would output something?</p>\n\n<p>Sidenote: Currently, running that CMD outputs </p>\n\n<pre><code>Error: Could not find or load main class JavaClassName\n</code></pre>\n\n<p>Have ran through multiple SO questions and online tutorials trying to get this to even run but I have yet to get it to work.</p>\n"},{"tags":["java","equals","primitive","autoboxing"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":3,"creation_date":1636541717,"post_id":69911992,"comment_id":123582767,"body_markdown":"They are all more or less identical. In particular V1 and V2 are the same after compilation (check their bytecode). Be careful with V1 and V2 who will **both** throw a NPE if `y` is `null`. V3 will box `x` to `Long` and do a `Long` vs `Long` comparison, hence support `null` correctly and wont throw.","body":"They are all more or less identical. In particular V1 and V2 are the same after compilation (check their bytecode). Be careful with V1 and V2 who will <b>both</b> throw a NPE if <code>y</code> is <code>null</code>. V3 will box <code>x</code> to <code>Long</code> and do a <code>Long</code> vs <code>Long</code> comparison, hence support <code>null</code> correctly and wont throw."},{"owner":{"account_id":1336579,"reputation":5252,"user_id":1279180,"accept_rate":74,"display_name":"nimo23"},"score":0,"creation_date":1636542008,"post_id":69911992,"comment_id":123582868,"body_markdown":"Imagine, x is also a LONG (and not a long), then version 1 would not be correct, because `Long x = 200L;\nLong y = 200L; var isEqual = x == y;` returned false.","body":"Imagine, x is also a LONG (and not a long), then version 1 would not be correct, because <code>Long x = 200L; Long y = 200L; var isEqual = x == y;</code> returned false."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1636542148,"post_id":69911992,"comment_id":123582928,"body_markdown":"Well, yeah. But you specifically made `x` a `long`. And `long == Long` leads to unwrapping conversion to get `long == long`, which the compiler does by calling `longValue()`. So V1 and V2 are identical after compilation (with the types you have in your question).","body":"Well, yeah. But you specifically made <code>x</code> a <code>long</code>. And <code>long == Long</code> leads to unwrapping conversion to get <code>long == long</code>, which the compiler does by calling <code>longValue()</code>. So V1 and V2 are identical after compilation (with the types you have in your question)."},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":2,"creation_date":1636542235,"post_id":69911992,"comment_id":123582970,"body_markdown":"As a minor side note, comparing `Long == Long` (you did not do this here, but I am still noting it) can lead to undesired results since `Long` instances are not cached for the full range.","body":"As a minor side note, comparing <code>Long == Long</code> (you did not do this here, but I am still noting it) can lead to undesired results since <code>Long</code> instances are not cached for the full range."},{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":1,"creation_date":1636542414,"post_id":69911992,"comment_id":123583050,"body_markdown":"@nimo23, @Zabuzard: I think that you are both right! Zabuzard is right that in this case it is perfectly safe to compare with `==`. But I think nimo23 is right in that even if it is safe, it is a bit hard to understand and easy to make mistakes when using `==` with boxes. So it&#39;s better to avoid it altogether!","body":"@nimo23, @Zabuzard: I think that you are both right! Zabuzard is right that in this case it is perfectly safe to compare with <code>==</code>. But I think nimo23 is right in that even if it is safe, it is a bit hard to understand and easy to make mistakes when using <code>==</code> with boxes. So it&#39;s better to avoid it altogether!"},{"owner":{"account_id":204515,"reputation":11679,"user_id":452775,"accept_rate":63,"display_name":"Lii"},"score":1,"creation_date":1636542598,"post_id":69911992,"comment_id":123583124,"body_markdown":"Side note: In Project Valhalla the Java developers are working on a way to unify boxes with primitives. This will, among other things, make comparitions using `==` between boxes safe. See [here](http://mail.openjdk.java.net/pipermail/valhalla-spec-experts/2021-November/001617.html) for example.","body":"Side note: In Project Valhalla the Java developers are working on a way to unify boxes with primitives. This will, among other things, make comparitions using <code>==</code> between boxes safe. See <a href=\"http://mail.openjdk.java.net/pipermail/valhalla-spec-experts/2021-November/001617.html\" rel=\"nofollow noreferrer\">here</a> for example."},{"owner":{"account_id":1336579,"reputation":5252,"user_id":1279180,"accept_rate":74,"display_name":"nimo23"},"score":0,"creation_date":1636543902,"post_id":69911992,"comment_id":123583601,"body_markdown":"Thanks. I made some corrections.","body":"Thanks. I made some corrections."}],"answers":[{"tags":[],"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1636542031,"creation_date":1636542031,"answer_id":69912083,"question_id":69911992,"body_markdown":"The advantage of `Objects.equals(x, y)` is that it covers null cases. The first two would throw a NPE if the `Long` variable is null.\r\n\r\nOn the other hand, `Objects.equals(x, y)` would autobox the `long` (primitive) argument, hence creating an object. But normally this shouldn&#39;t be a concern.\r\n\r\nSo: just `Objects.equals()` because the comparison involves a wrapper object and to keep the code simple and readable, otherwise just check for nullability before comparing primitives with `Long.longValue()`.","title":"Comparing &quot;long&quot; and &quot;Long&quot;","body":"<p>The advantage of <code>Objects.equals(x, y)</code> is that it covers null cases. The first two would throw a NPE if the <code>Long</code> variable is null.</p>\n<p>On the other hand, <code>Objects.equals(x, y)</code> would autobox the <code>long</code> (primitive) argument, hence creating an object. But normally this shouldn't be a concern.</p>\n<p>So: just <code>Objects.equals()</code> because the comparison involves a wrapper object and to keep the code simple and readable, otherwise just check for nullability before comparing primitives with <code>Long.longValue()</code>.</p>\n"}],"owner":{"account_id":1336579,"reputation":5252,"user_id":1279180,"accept_rate":74,"display_name":"nimo23"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4189,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":69912083,"answer_count":1,"score":6,"last_activity_date":1636543834,"creation_date":1636541607,"question_id":69911992,"body_markdown":"I want to compare a `long` value (primitive type) with another `Long` value (wrapper type):\r\n\r\n    long x = 5;\r\n    Long y = 5L;\r\n\r\n    // version 1: only safe, if x is a primitive type\r\n    var isEqual = x == y;\r\n\r\n    // version 2: y needs to be converted to its primitive type\r\n    var isEqual = x == y.longValue();\r\n\r\n    // version 3: using Object.equals(), x will be converted to its wrapper type\r\n    var isEqual = Objects.equals(x, y);\r\n\r\nThe question is: \r\nIs there any benefit in using **version 2** instead of **version 3**? \r\n\r\n\r\n\r\n","title":"Comparing &quot;long&quot; and &quot;Long&quot;","body":"<p>I want to compare a <code>long</code> value (primitive type) with another <code>Long</code> value (wrapper type):</p>\n<pre><code>long x = 5;\nLong y = 5L;\n\n// version 1: only safe, if x is a primitive type\nvar isEqual = x == y;\n\n// version 2: y needs to be converted to its primitive type\nvar isEqual = x == y.longValue();\n\n// version 3: using Object.equals(), x will be converted to its wrapper type\nvar isEqual = Objects.equals(x, y);\n</code></pre>\n<p>The question is:\nIs there any benefit in using <strong>version 2</strong> instead of <strong>version 3</strong>?</p>\n"},{"tags":["java","ide","classpath","myeclipse"],"comments":[{"owner":{"account_id":348827,"reputation":509,"user_id":683755,"display_name":"Brian Fernandes"},"score":0,"creation_date":1612465504,"post_id":66051234,"comment_id":116782760,"body_markdown":"Dale, there are several ways to search in MyEclipse - there&#39;s the open resource dialog and the workspace wide search (that you get to from the Search menu). Can you tell us which you&#39;re using? Since you mention classpath, can you also mention the types of files you&#39;re search for? Are you looking for Java classes?","body":"Dale, there are several ways to search in MyEclipse - there&#39;s the open resource dialog and the workspace wide search (that you get to from the Search menu). Can you tell us which you&#39;re using? Since you mention classpath, can you also mention the types of files you&#39;re search for? Are you looking for Java classes?"},{"owner":{"account_id":1174921,"reputation":1613,"user_id":1151144,"accept_rate":79,"display_name":"Dale"},"score":0,"creation_date":1612514447,"post_id":66051234,"comment_id":116795651,"body_markdown":"Correct.  I&#39;m looking for just java classes and it is picking up java classes that are not on the classpath.","body":"Correct.  I&#39;m looking for just java classes and it is picking up java classes that are not on the classpath."},{"owner":{"account_id":348827,"reputation":509,"user_id":683755,"display_name":"Brian Fernandes"},"score":1,"creation_date":1612516400,"post_id":66051234,"comment_id":116796463,"body_markdown":"The best way to find Java classes on your classpath is to use Ctrl/Cmd + Shift + T (the Open Type action). If you use a simple file search (you didn&#39;t answer my question about what search you&#39;re using) it will find all files in the workspace and is Java agnostic. You can also consider using The Search &gt; Java Search option to limit your results to Java entities on the classpath.","body":"The best way to find Java classes on your classpath is to use Ctrl/Cmd + Shift + T (the Open Type action). If you use a simple file search (you didn&#39;t answer my question about what search you&#39;re using) it will find all files in the workspace and is Java agnostic. You can also consider using The Search &gt; Java Search option to limit your results to Java entities on the classpath."},{"owner":{"account_id":1174921,"reputation":1613,"user_id":1151144,"accept_rate":79,"display_name":"Dale"},"score":0,"creation_date":1612542018,"post_id":66051234,"comment_id":116807850,"body_markdown":"I think this is happening due to the structure of my project in Eclipse.  I have a main folder and then all of the projects in that.  Like  Project/Main Project/second Project/third so the files so up under both Project/Main and Main.","body":"I think this is happening due to the structure of my project in Eclipse.  I have a main folder and then all of the projects in that.  Like  Project/Main Project/second Project/third so the files so up under both Project/Main and Main."}],"owner":{"account_id":1174921,"reputation":1613,"user_id":1151144,"accept_rate":79,"display_name":"Dale"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636543764,"creation_date":1612461525,"question_id":66051234,"body_markdown":" In MyEclipse, when I do a search there are duplicate files that show up in the search results.  One is in the classpath and the other is not.  Is there a way I can exclude the directory(ies) that are not in my src directory from showing up in my search results?\r\n\r\nCheers!","title":"Extra files showing up in searching that are not in classpath","body":"<p>In MyEclipse, when I do a search there are duplicate files that show up in the search results.  One is in the classpath and the other is not.  Is there a way I can exclude the directory(ies) that are not in my src directory from showing up in my search results?</p>\n<p>Cheers!</p>\n"},{"tags":["java","for-loop","sum","calculated-columns"],"answers":[{"tags":[],"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636542551,"creation_date":1636542226,"answer_id":69912141,"question_id":69912059,"body_markdown":"The way you are entering input is wrong. You have switch row and column which results your input be like this.\r\n````\r\n1  4  6  8\r\n2  4  5  9\r\n3  5  7  5\r\n````\r\nand sum be \r\n````\r\n6  13  18  22\r\n````\r\nEither you&#39;ll have to change how you enter input \r\n````\r\n1  4  7\r\n2  5  8\r\n3  6  9\r\n4  5  5\r\n````\r\nor switch row and col back to usual(row as outer loop and column as inner loop) for taking input and doing `sum` separately in another loop\r\n````\r\nfor(int row=0; row&lt;r; row++) {\r\n    for(int col=0; col&lt;n; col++) {\r\n        ....// take input\r\n    }\r\n}\r\nfor(int row=0; row&lt;r; row++) {\r\n    int sum=0;\r\n    for(int col=0; col&lt;n; col++) {\r\n        Sum+=array[row][col];\r\n    }\r\n    System.out.println(Sum);\r\n}\r\n````","title":"Sum of the column in 2D Array, Java","body":"<p>The way you are entering input is wrong. You have switch row and column which results your input be like this.</p>\n<pre><code>1  4  6  8\n2  4  5  9\n3  5  7  5\n</code></pre>\n<p>and sum be</p>\n<pre><code>6  13  18  22\n</code></pre>\n<p>Either you'll have to change how you enter input</p>\n<pre><code>1  4  7\n2  5  8\n3  6  9\n4  5  5\n</code></pre>\n<p>or switch row and col back to usual(row as outer loop and column as inner loop) for taking input and doing <code>sum</code> separately in another loop</p>\n<pre><code>for(int row=0; row&lt;r; row++) {\n    for(int col=0; col&lt;n; col++) {\n        ....// take input\n    }\n}\nfor(int row=0; row&lt;r; row++) {\n    int sum=0;\n    for(int col=0; col&lt;n; col++) {\n        Sum+=array[row][col];\n    }\n    System.out.println(Sum);\n}\n</code></pre>\n"}],"owner":{"account_id":23090422,"reputation":3,"user_id":17201372,"display_name":"imnfrhn"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69912141,"answer_count":1,"score":-1,"last_activity_date":1636543445,"creation_date":1636541897,"question_id":69912059,"body_markdown":"I was trying to sum the each column but I failed to get the expected output, as you can see I take the element of this 2d array like normal(row and col), but for the For-loop I loop the column first then loop the row. \r\n\r\ninput;\r\n\r\n    3\r\n    4\r\n    1 2 3 4\r\n    4 5 6 5\r\n    7 8 9 5\r\n\r\nexpected outout;\r\n\r\n    12\r\n    15\r\n    18\r\n    14\r\n\r\n my output;\r\n\r\n    6\r\n    13\r\n    18\r\n    22\r\n\r\n\r\nmy code;\r\n\r\n    import java.util.Scanner;\r\n        public class exercise2_2darray {\r\n        \tpublic static void main(String[] args) {\r\n        \t\t\r\n        \t\tScanner sc=new Scanner(System.in);   \r\n        \t\tint m = sc.nextInt();  //take input row \r\n        \t\tint n = sc.nextInt();  //take input col \r\n        \t\tint array[][] = new int[m][n]; \t\t\r\n        \t\t\r\n        \t\tfor(int col =0; col&lt;n; col++) { \r\n        \t\t      int Sum = 0; \r\n        \t\t      \r\n        \t\t\tfor (int row=0;row&lt;m; row++) {\r\n        \t\t\t\t\t\r\n        \t\t\t\tarray[row][col] = sc.nextInt();  \t\r\n        \t\t\t\tSum+=array[row][col]; \t\t\t\t\r\n        \t\t\t}\t\t\t\r\n        \t\t\tSystem.out.println(Sum); \t\t\t\r\n        \t\t}\t\r\n        \t}\r\n        }\r\n\r\nthe right answer is to seperate the taking user input for loop and the array sum loop;\r\n\r\n    import java.util.Scanner;\r\n    public class exercise2_2darray {\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tScanner sc=new Scanner(System.in);   \r\n    \t\tint m = sc.nextInt();  //take input row \r\n    \t\tint n = sc.nextInt();  //take input col \r\n    \t\tint array[][] = new int[m][n]; \t\t\r\n    \t\t\r\n    \t\tfor(int row =0; row&lt;m; row++) { \r\n    \t\t   \t      \r\n    \t\t\tfor (int col=0;col&lt;n; col++) {\r\n    \t\t\t\t\t\r\n    \t\t\t\tarray[row][col] = sc.nextInt();  \t\t\t\t\t\t\r\n    \t\t\t}\t\t\t\t\t\t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t\tfor(int col =0; col&lt;n; col++) { \r\n    \t\t      int Sum = 0; \r\n    \t\t      \r\n    \t\t\tfor (int row=0;row&lt;m; row++) {\r\n    \t\t\t\t\t\t\r\n    \t\t\t\tSum+=array[row][col]; \t\t\t\t\r\n    \t\t\t}\t\t\t\r\n    \t\t\tSystem.out.println(Sum); \t\t\t\r\n    \t\t}\t\r\n    \t\t\r\n    \t}\r\n    }","title":"Sum of the column in 2D Array, Java","body":"<p>I was trying to sum the each column but I failed to get the expected output, as you can see I take the element of this 2d array like normal(row and col), but for the For-loop I loop the column first then loop the row.</p>\n<p>input;</p>\n<pre><code>3\n4\n1 2 3 4\n4 5 6 5\n7 8 9 5\n</code></pre>\n<p>expected outout;</p>\n<pre><code>12\n15\n18\n14\n</code></pre>\n<p>my output;</p>\n<pre><code>6\n13\n18\n22\n</code></pre>\n<p>my code;</p>\n<pre><code>import java.util.Scanner;\n    public class exercise2_2darray {\n        public static void main(String[] args) {\n            \n            Scanner sc=new Scanner(System.in);   \n            int m = sc.nextInt();  //take input row \n            int n = sc.nextInt();  //take input col \n            int array[][] = new int[m][n];      \n            \n            for(int col =0; col&lt;n; col++) { \n                  int Sum = 0; \n                  \n                for (int row=0;row&lt;m; row++) {\n                        \n                    array[row][col] = sc.nextInt();     \n                    Sum+=array[row][col];               \n                }           \n                System.out.println(Sum);            \n            }   \n        }\n    }\n</code></pre>\n<p>the right answer is to seperate the taking user input for loop and the array sum loop;</p>\n<pre><code>import java.util.Scanner;\npublic class exercise2_2darray {\n    public static void main(String[] args) {\n        \n        Scanner sc=new Scanner(System.in);   \n        int m = sc.nextInt();  //take input row \n        int n = sc.nextInt();  //take input col \n        int array[][] = new int[m][n];      \n        \n        for(int row =0; row&lt;m; row++) { \n                  \n            for (int col=0;col&lt;n; col++) {\n                    \n                array[row][col] = sc.nextInt();                         \n            }                               \n        }\n        \n        for(int col =0; col&lt;n; col++) { \n              int Sum = 0; \n              \n            for (int row=0;row&lt;m; row++) {\n                        \n                Sum+=array[row][col];               \n            }           \n            System.out.println(Sum);            \n        }   \n        \n    }\n}\n</code></pre>\n"},{"tags":["java","json","jackson","fasterxml"],"comments":[{"owner":{"account_id":3043386,"reputation":4957,"user_id":2579786,"display_name":"jbarrueta"},"score":0,"creation_date":1448091545,"post_id":33840755,"comment_id":55446652,"body_markdown":"Why would you need the type info for &#39;a&#39; when serializing B? When you deserialize to &#39;B&#39; the type of &#39;a&#39; will be given by B.","body":"Why would you need the type info for &#39;a&#39; when serializing B? When you deserialize to &#39;B&#39; the type of &#39;a&#39; will be given by B."},{"owner":{"account_id":1145089,"reputation":49,"user_id":1128051,"display_name":"Akshay Sharma"},"score":0,"creation_date":1448093197,"post_id":33840755,"comment_id":55446977,"body_markdown":"A is an interface and can have many implementations. How do you know which type to deserialize without the type information?","body":"A is an interface and can have many implementations. How do you know which type to deserialize without the type information?"},{"owner":{"account_id":3043386,"reputation":4957,"user_id":2579786,"display_name":"jbarrueta"},"score":0,"creation_date":1448095245,"post_id":33840755,"comment_id":55447438,"body_markdown":"I see the problem now, also got it working.","body":"I see the problem now, also got it working."}],"answers":[{"tags":[],"owner":{"account_id":3043386,"reputation":4957,"user_id":2579786,"display_name":"jbarrueta"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1448095587,"creation_date":1448095587,"answer_id":33841470,"question_id":33840755,"body_markdown":"It seems you were pretty close, all you need to add is a way to tell jackson how to handle your interface type.\r\n\r\n    @JsonTypeInfo(\r\n            use = JsonTypeInfo.Id.NAME,\r\n            include = JsonTypeInfo.As.PROPERTY,\r\n            property = &quot;@class&quot;)\r\n    @JsonSubTypes({\r\n            @JsonSubTypes.Type(value = ConcreteA.class)})\r\n    interface A {\r\n    }\r\n\r\nSo adding the ```@JsonTypeInfo``` to your interface will add the type information in a property you can configure to be the one you expect, in this case I chose ```@class```.\r\n\r\nThe Json output I got from my example:\r\n\r\n```{&quot;@class&quot;:&quot;com.company.jackson.Test$ConcreteB&quot;,&quot;a&quot;:{&quot;@type&quot;:&quot;Test$ConcreteA&quot;}}\r\n```\r\n\r\nHope it helps,\r\n\r\nJos&#233; Luis","title":"Jackson does not include type info for fields while serialization","body":"<p>It seems you were pretty close, all you need to add is a way to tell jackson how to handle your interface type.</p>\n\n<pre><code>@JsonTypeInfo(\n        use = JsonTypeInfo.Id.NAME,\n        include = JsonTypeInfo.As.PROPERTY,\n        property = \"@class\")\n@JsonSubTypes({\n        @JsonSubTypes.Type(value = ConcreteA.class)})\ninterface A {\n}\n</code></pre>\n\n<p>So adding the <code>@JsonTypeInfo</code> to your interface will add the type information in a property you can configure to be the one you expect, in this case I chose <code>@class</code>.</p>\n\n<p>The Json output I got from my example:</p>\n\n<p><code>{\"@class\":\"com.company.jackson.Test$ConcreteB\",\"a\":{\"@type\":\"Test$ConcreteA\"}}\n</code></p>\n\n<p>Hope it helps,</p>\n\n<p>José Luis</p>\n"},{"tags":[],"owner":{"account_id":1356587,"reputation":6293,"user_id":1294870,"accept_rate":36,"display_name":"NIrav Modi"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1524484516,"creation_date":1524484516,"answer_id":49980497,"question_id":33840755,"body_markdown":"I have faced the same issue.\r\nI had imported wrong ObjectMapper class.\r\n\r\nIdeally, it should be **jackson-databind.jar**\r\n\r\n    com.fasterxml.jackson.databind.ObjectMapper\r\n\r\nbut I have imported **jackson-mapper-asl.jar**\r\n\r\n    org.codehaus.jackson.map.ObjectMapper","title":"Jackson does not include type info for fields while serialization","body":"<p>I have faced the same issue.\nI had imported wrong ObjectMapper class.</p>\n\n<p>Ideally, it should be <strong>jackson-databind.jar</strong></p>\n\n<pre><code>com.fasterxml.jackson.databind.ObjectMapper\n</code></pre>\n\n<p>but I have imported <strong>jackson-mapper-asl.jar</strong></p>\n\n<pre><code>org.codehaus.jackson.map.ObjectMapper\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18191790,"reputation":1488,"user_id":13237531,"display_name":"Vladimir Stanciu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636543172,"creation_date":1636543172,"answer_id":69912377,"question_id":33840755,"body_markdown":"You also have to set the **visible** property to true, otherwise it might still not work(my case). I will enhance one of the above answers:\r\n\r\n    @JsonTypeInfo(\r\n            use = JsonTypeInfo.Id.NAME,\r\n            include = JsonTypeInfo.As.PROPERTY,\r\n            property = &quot;@class&quot;,\r\n            visible = true)\r\n    @JsonSubTypes({\r\n            @JsonSubTypes.Type(value = ConcreteA.class)})\r\n    interface A {\r\n    }","title":"Jackson does not include type info for fields while serialization","body":"<p>You also have to set the <strong>visible</strong> property to true, otherwise it might still not work(my case). I will enhance one of the above answers:</p>\n<pre><code>@JsonTypeInfo(\n        use = JsonTypeInfo.Id.NAME,\n        include = JsonTypeInfo.As.PROPERTY,\n        property = &quot;@class&quot;,\n        visible = true)\n@JsonSubTypes({\n        @JsonSubTypes.Type(value = ConcreteA.class)})\ninterface A {\n}\n</code></pre>\n"}],"owner":{"account_id":1145089,"reputation":49,"user_id":1128051,"display_name":"Akshay Sharma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9533,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1636543172,"creation_date":1448090098,"question_id":33840755,"body_markdown":"I am trying to serialize an object to json using jackson 2.6.3\r\nI want to include type info in the serialized json. This does not work for members nested within this class. \r\n\r\nHere is the test code.\r\n\r\n    public class Test {\r\n\r\n    @JsonSubTypes({ @JsonSubTypes.Type(value = ConcreteA.class)})\r\n    interface A {\r\n\r\n    }\r\n    @JsonTypeInfo( use=JsonTypeInfo.Id.CLASS)\r\n    class ConcreteA implements A {\r\n\r\n    }\r\n\r\n    @JsonSubTypes({ @JsonSubTypes.Type(value = ConcreteB.class)})\r\n    interface B {\r\n\r\n    }\r\n    @JsonTypeInfo( use=JsonTypeInfo.Id.CLASS)\r\n    class ConcreteB implements B {\r\n        A a;\r\n        public A getA() {\r\n            return a=new ConcreteA();\r\n        }\r\n    }\r\n\r\n    @org.junit.Test\r\n    public void testSerialisation() throws JsonProcessingException {\r\n        ObjectMapper objectMapper = new ObjectMapper();\r\n        objectMapper.disable(SerializationFeature.FAIL_ON_EMPTY_BEANS);\r\n        System.out.println(objectMapper.writeValueAsString(new ConcreteB()));\r\n    }\r\n    }\r\n\r\nThe json being converted by jackson is\r\n\r\n    {&quot;@class&quot;:&quot;Test$ConcreteB&quot;,&quot;a&quot;:{}}\r\nNote that it does not include type info for field &#39;a&#39;. The type info does get included while serializing just A.\r\n\r\n    {&quot;@class&quot;:&quot;Test$ConcreteA&quot;} \r\n\r\nUPDATE:\r\nHere is the explanation and solution from jackson dev for the problem\r\nhttps://github.com/FasterXML/jackson-databind/issues/1015","title":"Jackson does not include type info for fields while serialization","body":"<p>I am trying to serialize an object to json using jackson 2.6.3\nI want to include type info in the serialized json. This does not work for members nested within this class. </p>\n\n<p>Here is the test code.</p>\n\n<pre><code>public class Test {\n\n@JsonSubTypes({ @JsonSubTypes.Type(value = ConcreteA.class)})\ninterface A {\n\n}\n@JsonTypeInfo( use=JsonTypeInfo.Id.CLASS)\nclass ConcreteA implements A {\n\n}\n\n@JsonSubTypes({ @JsonSubTypes.Type(value = ConcreteB.class)})\ninterface B {\n\n}\n@JsonTypeInfo( use=JsonTypeInfo.Id.CLASS)\nclass ConcreteB implements B {\n    A a;\n    public A getA() {\n        return a=new ConcreteA();\n    }\n}\n\n@org.junit.Test\npublic void testSerialisation() throws JsonProcessingException {\n    ObjectMapper objectMapper = new ObjectMapper();\n    objectMapper.disable(SerializationFeature.FAIL_ON_EMPTY_BEANS);\n    System.out.println(objectMapper.writeValueAsString(new ConcreteB()));\n}\n}\n</code></pre>\n\n<p>The json being converted by jackson is</p>\n\n<pre><code>{\"@class\":\"Test$ConcreteB\",\"a\":{}}\n</code></pre>\n\n<p>Note that it does not include type info for field 'a'. The type info does get included while serializing just A.</p>\n\n<pre><code>{\"@class\":\"Test$ConcreteA\"} \n</code></pre>\n\n<p>UPDATE:\nHere is the explanation and solution from jackson dev for the problem\n<a href=\"https://github.com/FasterXML/jackson-databind/issues/1015\" rel=\"nofollow\">https://github.com/FasterXML/jackson-databind/issues/1015</a></p>\n"},{"tags":["java","mysql","jdbc"],"comments":[{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":1,"creation_date":1636380303,"post_id":69884717,"comment_id":123533790,"body_markdown":"Which JVM version are you using ? And what build tool ?","body":"Which JVM version are you using ? And what build tool ?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1636380739,"post_id":69884717,"comment_id":123533994,"body_markdown":"You probably loaded a different driver to the one that your jdbc url requires.  You should get rid of the `Class.forName` call ... and check that you have the correct driver JAR for the &quot;path&quot; that you are trying to use.  (How do you check?  Start by reading the documentation ...)","body":"You probably loaded a different driver to the one that your jdbc url requires.  You should get rid of the <code>Class.forName</code> call ... and check that you have the correct driver JAR for the &quot;path&quot; that you are trying to use.  (How do you check?  Start by reading the documentation ...)"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1636543206,"post_id":69884717,"comment_id":123583343,"body_markdown":"You&#39;re using the wrong URL. It should be `jdbc:mysql://localhost:3306/assign` (notice the `//` before the host name).","body":"You&#39;re using the wrong URL. It should be <code>jdbc:mysql:&#47;&#47;localhost:3306&#47;assign</code> (notice the <code>&#47;&#47;</code> before the host name)."}],"answers":[{"tags":[],"owner":{"account_id":11403359,"reputation":1479,"user_id":8359623,"display_name":"Papai from BEKOAIL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636380434,"creation_date":1636380434,"answer_id":69884798,"question_id":69884717,"body_markdown":"The most common reason for this type of error is missing updated jar in classpath folder. \r\n\r\nIf you are using latest version of jdbc jar make sure it correctly points to classpath where the jar is located.\r\n\r\nHint: put some debug statement before invoking of class so that you can be sure correct jar is invoking everytime. ","title":"SQLException even after loading JDBC driver correctly","body":"<p>The most common reason for this type of error is missing updated jar in classpath folder.</p>\n<p>If you are using latest version of jdbc jar make sure it correctly points to classpath where the jar is located.</p>\n<p>Hint: put some debug statement before invoking of class so that you can be sure correct jar is invoking everytime.</p>\n"}],"owner":{"account_id":21972394,"reputation":1,"user_id":16248670,"display_name":"whiteDevil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1636543169,"creation_date":1636380086,"question_id":69884717,"body_markdown":"I&#39;m new to java and I am using Visual Studio Code for making a Java project. I&#39;m trying to write SQL queries after loading driver in Visual Studio Code, but I&#39;m repeatedly getting SQLException. Here is my project folder:\r\n\r\n    src\r\n      -com/folder\r\n      -db\r\n        -DBConnection.java\r\n\r\n&lt;!-- --&gt;\r\n\r\n    try {\r\n\t\t\tClass.forName(DRIVER);\r\n\t\t\tconn = DriverManager.getConnection(path, username, password);\r\n\t\t} catch (ClassNotFoundException | SQLException ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\nEvery time I run, I get the following error\r\n\r\n&gt; Exception in thread &quot;main&quot; java.sql.SQLException: No suitable driver\r\n&gt; found for jdbc:mysql:localhost:3306/assign\r\n\r\nI&#39;m getting correct results when I run the same program in the `src` folder. \r\n\r\n","title":"SQLException even after loading JDBC driver correctly","body":"<p>I'm new to java and I am using Visual Studio Code for making a Java project. I'm trying to write SQL queries after loading driver in Visual Studio Code, but I'm repeatedly getting SQLException. Here is my project folder:</p>\n<pre><code>src\n  -com/folder\n  -db\n    -DBConnection.java\n</code></pre>\n\n<pre><code>try {\n        Class.forName(DRIVER);\n        conn = DriverManager.getConnection(path, username, password);\n    } catch (ClassNotFoundException | SQLException ex) {\n        ex.printStackTrace();\n        return false;\n    }\n</code></pre>\n<p>Every time I run, I get the following error</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.sql.SQLException: No suitable driver\nfound for jdbc:mysql:localhost:3306/assign</p>\n</blockquote>\n<p>I'm getting correct results when I run the same program in the <code>src</code> folder.</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":2,"creation_date":1636543008,"post_id":69912251,"comment_id":123583263,"body_markdown":"Dont close scanners tied to `System.in`. You are not responsible for closing `System.in`, the JVM is. In this case, this is a false-positive warning, suppress it.","body":"Dont close scanners tied to <code>System.in</code>. You are not responsible for closing <code>System.in</code>, the JVM is. In this case, this is a false-positive warning, suppress it."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1636551088,"post_id":69912251,"comment_id":123586535,"body_markdown":"In all other cases, you should close what you have opened indeed. But `System.in`, `System.out` and `System.err` are special cases. They are I/O streams wired by the JVM at startup.","body":"In all other cases, you should close what you have opened indeed. But <code>System.in</code>, <code>System.out</code> and <code>System.err</code> are special cases. They are I/O streams wired by the JVM at startup."}],"owner":{"account_id":23294850,"reputation":11,"user_id":17376401,"display_name":"Siriki Lohit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1636543013,"answer_count":0,"score":0,"last_activity_date":1636542638,"creation_date":1636542638,"question_id":69912251,"body_markdown":"I am a Java Beginner.\r\n\r\nI got an error when running this code.\r\n\r\nIt says the following error:\r\nResource Leak: &#39;yourName&#39; is never closed. \r\n\r\nAnd i am using VS Code insiders.\r\n\r\nThe file name is PrintName.java and the code is --&gt;\r\n\r\n```\r\nimport java.util.*;\r\npublic class PrintName {\r\n    public static void main(String[] args) {\r\n        // Prints your name\r\n        System.out.print(&quot;What is your name? &quot;);\r\n        Scanner yourName = new Scanner(System.in);\r\n        System.out.println(&quot;Your name is: &quot; + yourName.next());\r\n    }\r\n}\r\n\r\n```\r\nAnd.. could anyone help me with the solution please?","title":"Resource leak: &#39;yourName&#39; is never closed","body":"<p>I am a Java Beginner.</p>\n<p>I got an error when running this code.</p>\n<p>It says the following error:\nResource Leak: 'yourName' is never closed.</p>\n<p>And i am using VS Code insiders.</p>\n<p>The file name is PrintName.java and the code is --&gt;</p>\n<pre><code>import java.util.*;\npublic class PrintName {\n    public static void main(String[] args) {\n        // Prints your name\n        System.out.print(&quot;What is your name? &quot;);\n        Scanner yourName = new Scanner(System.in);\n        System.out.println(&quot;Your name is: &quot; + yourName.next());\n    }\n}\n\n</code></pre>\n<p>And.. could anyone help me with the solution please?</p>\n"},{"tags":["java","android","firebase","image","firebase-storage"],"answers":[{"tags":[],"owner":{"account_id":16496760,"reputation":43,"user_id":11919131,"display_name":"Guilherme A. Rom&#227;o"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1577647519,"creation_date":1577647519,"answer_id":59522586,"question_id":59522191,"body_markdown":"I think I found a solution, in the meantime.\r\n\r\nOn my onSignedInInitialize method, I had stated that if the ChildEventListener was null, only then I would add my ChildEventListener to the Database Reference. Being that I was removing this listener on onPause, and that it probably wasn&#39;t null as I was returning to the mainActivity (on onActivityResult), I believe I wasn&#39;t attaching the event listener to the database reference, hence nothing being displayed after the image being uploaded.\r\n\r\nSo I removed the mentioned condition, and added the ChildEventListener instance to the database reference as soon as I was back on onResume. It worked.\r\n\r\nThank you, still!\r\nBest regards,","title":"Firebase (Android): image not being displayed on my listView, once I first upload it to Storage","body":"<p>I think I found a solution, in the meantime.</p>\n\n<p>On my onSignedInInitialize method, I had stated that if the ChildEventListener was null, only then I would add my ChildEventListener to the Database Reference. Being that I was removing this listener on onPause, and that it probably wasn't null as I was returning to the mainActivity (on onActivityResult), I believe I wasn't attaching the event listener to the database reference, hence nothing being displayed after the image being uploaded.</p>\n\n<p>So I removed the mentioned condition, and added the ChildEventListener instance to the database reference as soon as I was back on onResume. It worked.</p>\n\n<p>Thank you, still!\nBest regards,</p>\n"}],"owner":{"account_id":16496760,"reputation":43,"user_id":11919131,"display_name":"Guilherme A. Rom&#227;o"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":59522586,"answer_count":1,"score":1,"last_activity_date":1636542539,"creation_date":1577644430,"question_id":59522191,"body_markdown":"I&#39;m implementing an instant message app in Android (FriendlyChat, part of the Firebase Udacity course, by the way).\r\n\r\nIt saves and displays either a written message, or an image, per message. The class for these saved items is called FriendlyMessage, which contains the message&#39;s author, and then text or an image.\r\n\r\nI&#39;ve set the ChildEventListener within onAuthStateChanged, which is coded on onCreate. This being said, the AuthListener is only called on onResume (attaching/adding it to the DatabaseReference), and on onPause (detaching/removing).\r\n\r\nThe Send button&#39;s onClickListener is also set within onCreate. The text in the EditText is passed to a String, the FriendlyMessage instance is created, and then saved to the database with the .push().setValue(object) method.\r\n\r\nWhenever I do this, the onChildAdded is called, where I can add the most recent FriendlyMessage instance to the adapter, and the written message is displayed in the ListView.\r\n\r\nWith images, I&#39;ve got a button that opens my image files, and then I select one, then being called onto onActivityResult.\r\n\r\nHere, I&#39;m able to retrieve the image, store it in FirebaseStorage, and even save it to the database (also with push().setValue(object) method).\r\n\r\n**However**, and with the help of some logs I&#39;ve coded, I notice that the **onChildAdded isn&#39;t being called**, and therefore, also because the app has probably been paused in the meantime, my ListView remains blank (the ListView is cleared upon onPause). When I rotate the phone, or when I restart the app, all the content appears, including the image uploaded. But of course, as you know, it&#39;s important that the image is shown right away, upon being uploaded by the user.\r\n\r\nWhat am I doing wrong? Or what can I do so that the onChildAdded is called when the image FriendlyMessage instance is saved onto the database (knowing that right now this is being called on onActivityResult) ?\r\n\r\nMainActivity.java:\r\n```\r\npackage com.google.firebase.udacity.friendlychat;\r\n\r\nimport android.content.Intent;\r\nimport android.net.Uri;\r\nimport android.os.Bundle;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.text.Editable;\r\nimport android.text.InputFilter;\r\nimport android.text.TextWatcher;\r\nimport android.util.Log;\r\nimport android.view.Menu;\r\nimport android.view.MenuInflater;\r\nimport android.view.MenuItem;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageButton;\r\nimport android.widget.ListView;\r\nimport android.widget.ProgressBar;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport com.firebase.ui.auth.AuthUI;\r\nimport com.google.android.gms.tasks.Continuation;\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.database.ChildEventListener;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.storage.FirebaseStorage;\r\nimport com.google.firebase.storage.StorageReference;\r\nimport com.google.firebase.storage.UploadTask;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\n    private static final String TAG = &quot;MainActivity&quot;;\r\n\r\n    public static final String ANONYMOUS = &quot;anonymous&quot;;\r\n    public static final int DEFAULT_MSG_LENGTH_LIMIT = 1000;\r\n    public static final int RC_SIGN_IN = 1;\r\n    public static final int RC_PHOTO_PICKER = 2;\r\n\r\n    private ListView mMessageListView;\r\n    private MessageAdapter mMessageAdapter;\r\n    private ProgressBar mProgressBar;\r\n    private ImageButton mPhotoPickerButton;\r\n    private EditText mMessageEditText;\r\n    private Button mSendButton;\r\n    private TextView mDisplayNameTextView;\r\n\r\n    private String mUsername;\r\n\r\n    private int countChildEventCalls; //for testing ChildEventListener calls\r\n\r\n    //Firebase variables\r\n    private FirebaseDatabase mFirebaseDatabase;\r\n    private DatabaseReference mDatabaseReference;\r\n    private FirebaseAuth mFirebaseAuth;\r\n    private FirebaseAuth.AuthStateListener mAuthListener;\r\n    private ChildEventListener mChildEventListener;\r\n    private FirebaseStorage mFirebaseStorage;\r\n    private StorageReference mChatPhotosStorageReference;\r\n\r\n    private List&lt;AuthUI.IdpConfig&gt; mAuthProviders = Arrays.asList(\r\n            new AuthUI.IdpConfig.EmailBuilder().build(),\r\n            new AuthUI.IdpConfig.GoogleBuilder().build());\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        mUsername = ANONYMOUS;\r\n        countChildEventCalls = 0;\r\n\r\n        mFirebaseDatabase = FirebaseDatabase.getInstance();\r\n        mFirebaseStorage = FirebaseStorage.getInstance();\r\n        mFirebaseAuth = FirebaseAuth.getInstance();\r\n\r\n        mDatabaseReference = mFirebaseDatabase.getReference().child(&quot;messages&quot;);\r\n        mChatPhotosStorageReference = mFirebaseStorage.getReference().child(&quot;chat_photos&quot;);\r\n\r\n        // Initialize references to views\r\n        mProgressBar = (ProgressBar) findViewById(R.id.progressBar);\r\n        mMessageListView = (ListView) findViewById(R.id.messageListView);\r\n        mPhotoPickerButton = (ImageButton) findViewById(R.id.photoPickerButton);\r\n        mMessageEditText = (EditText) findViewById(R.id.messageEditText);\r\n        mSendButton = (Button) findViewById(R.id.sendButton);\r\n        mDisplayNameTextView = (TextView) findViewById(R.id.display_name);\r\n\r\n        // Initialize message ListView and its adapter\r\n        List&lt;FriendlyMessage&gt; friendlyMessages = new ArrayList&lt;&gt;();\r\n        mMessageAdapter = new MessageAdapter(this, R.layout.item_message, friendlyMessages);\r\n        mMessageListView.setAdapter(mMessageAdapter);\r\n\r\n        // Initialize progress bar\r\n        mProgressBar.setVisibility(ProgressBar.INVISIBLE);\r\n\r\n        // Enable Send button when there&#39;s text to send\r\n        mMessageEditText.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n            }\r\n\r\n            @Override\r\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\r\n                if (charSequence.toString().trim().length() &gt; 0) {\r\n                    mSendButton.setEnabled(true);\r\n                } else {\r\n                    mSendButton.setEnabled(false);\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable editable) {\r\n            }\r\n        });\r\n\r\n        mMessageEditText.setFilters(new InputFilter[]{new InputFilter.LengthFilter(DEFAULT_MSG_LENGTH_LIMIT)});\r\n\r\n        // Send button sends a message and clears the EditText\r\n        mSendButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                // TODO: Send messages on click\r\n                FriendlyMessage friendlyMessage = new FriendlyMessage(mMessageEditText.getText().toString(), mUsername, null);\r\n\r\n                mDatabaseReference.push().setValue(friendlyMessage);\r\n\r\n                // Clear input box\r\n                mMessageEditText.setText(&quot;&quot;);\r\n            }\r\n        });\r\n\r\n        // ImagePickerButton shows an image picker to upload a image for a message\r\n        mPhotoPickerButton.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\r\n                intent.setType(&quot;image/jpeg&quot;);\r\n                intent.putExtra(Intent.EXTRA_LOCAL_ONLY, true);\r\n                startActivityForResult(Intent.createChooser(intent, &quot;Complete action using&quot;), RC_PHOTO_PICKER);\r\n              }\r\n        });\r\n\r\n        mAuthListener = new FirebaseAuth.AuthStateListener() {\r\n\r\n            @Override\r\n            public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) {\r\n                FirebaseUser user = firebaseAuth.getCurrentUser();\r\n\r\n                if(user != null) { //the user is logged in\r\n                    onSignedInInitialize(user.getDisplayName());\r\n                }\r\n\r\n                else { //the user isn&#39;t logged in yet. Gotta launch FirebaseAuthUI\r\n                    onSignedOutCleanup();\r\n                    startActivityForResult(AuthUI.getInstance()\r\n                        .createSignInIntentBuilder()\r\n                        .setIsSmartLockEnabled(false)\r\n                        .setAvailableProviders(mAuthProviders)\r\n                        .build(),\r\n                            RC_SIGN_IN);\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\n    @Override\r\n    public boolean onCreateOptionsMenu(Menu menu) {\r\n        MenuInflater inflater = getMenuInflater();\r\n        inflater.inflate(R.menu.main_menu, menu);\r\n        return true;\r\n    }\r\n\r\n    @Override\r\n    public boolean onOptionsItemSelected(MenuItem item) {\r\n        switch(item.getItemId()){\r\n            case R.id.sign_out_menu:\r\n                AuthUI.getInstance().signOut(this);\r\n                return true;\r\n\r\n            default: return super.onOptionsItemSelected(item);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    protected void onResume(){\r\n        super.onResume();\r\n        mFirebaseAuth.addAuthStateListener(mAuthListener);\r\n    }\r\n\r\n    @Override\r\n    protected void onPause(){\r\n        super.onPause();\r\n        if(mAuthListener != null) {\r\n            mFirebaseAuth.removeAuthStateListener(mAuthListener);\r\n        }\r\n        detachDatabaseReadListener();\r\n        mMessageAdapter.clear();\r\n    }\r\n\r\n    public void onSignedInInitialize(String displayName){\r\n        mUsername = displayName;\r\n        mDisplayNameTextView.setText(mUsername);\r\n\r\n        if(mChildEventListener == null){\r\n            attachDatabaseReadListener();\r\n        }\r\n    }\r\n\r\n    public void attachDatabaseReadListener(){\r\n        mChildEventListener = new ChildEventListener() {\r\n\r\n            @Override\r\n            public void onChildAdded(@NonNull DataSnapshot dataSnapshot, @Nullable String s) {\r\n                countChildEventCalls++;\r\n                Log.v(TAG, &quot;Could be Text or Photos: calling ChildEventListener&quot;);\r\n                FriendlyMessage message = dataSnapshot.getValue(FriendlyMessage.class);\r\n                mMessageAdapter.add(message);\r\n                Log.v(TAG, &quot;Text or Photos: message added to Adapter. Calls: &quot; + countChildEventCalls);\r\n            }\r\n\r\n            @Override\r\n            public void onChildChanged(@NonNull DataSnapshot dataSnapshot, @Nullable String s) {\r\n                Log.v(TAG, &quot;Text or Photos: calling onChildChange!&quot;);\r\n            }\r\n\r\n            @Override\r\n            public void onChildRemoved(@NonNull DataSnapshot dataSnapshot) {\r\n            }\r\n\r\n            @Override\r\n            public void onChildMoved(@NonNull DataSnapshot dataSnapshot, @Nullable String s) {\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n                Log.v(TAG, &quot;Text or Photos: onCancelled called.&quot;);\r\n            }\r\n        };\r\n\r\n        mDatabaseReference.addChildEventListener(mChildEventListener);\r\n    }\r\n\r\n    public void onSignedOutCleanup(){\r\n        mUsername = ANONYMOUS;\r\n        mMessageAdapter.clear();\r\n        detachDatabaseReadListener();\r\n    }\r\n\r\n    public void detachDatabaseReadListener(){\r\n        if(mChildEventListener != null){\r\n            mDatabaseReference.removeEventListener(mChildEventListener);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, Intent data){\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n\r\n        Log.v(TAG, &quot;Photos: Started activitiyForResult&quot;);\r\n        Log.v(TAG, &quot;for Photos purpose, requestCode = &quot; + requestCode + &quot;, resultCode = &quot; + resultCode);\r\n\r\n        if(requestCode == RC_SIGN_IN){\r\n            if(resultCode == RESULT_OK){\r\n                Toast.makeText(MainActivity.this, &quot;You&#39;re logged in! Type with your friends&quot;, Toast.LENGTH_LONG).show();\r\n            }\r\n            else if (resultCode == RESULT_CANCELED){\r\n                Toast.makeText(MainActivity.this, &quot;Sign-in cancelled&quot;, Toast.LENGTH_LONG).show();\r\n                finish();\r\n            }\r\n        }\r\n        else if (requestCode == RC_PHOTO_PICKER &amp;&amp; resultCode == RESULT_OK) {\r\n            uploadImageToChat(data);\r\n        }\r\n\r\n    }\r\n\r\n    public void uploadImageToChat(Intent dataIntent){\r\n        Log.v(TAG, &quot;Photos: Reached photo picker RC request&quot;);\r\n        Uri imageUri = dataIntent.getData();\r\n        final StorageReference photoRef = mChatPhotosStorageReference.child(imageUri.getLastPathSegment());\r\n        UploadTask uploadTask = photoRef.putFile(imageUri);\r\n\r\n        uploadTask.addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n            @Override\r\n            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                taskSnapshot.getStorage().getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\r\n                    @Override\r\n                    public void onSuccess(Uri uri) {\r\n                        String stringUrl = uri.toString();\r\n                        Log.v(TAG, &quot;Photos, uploaded, path: &quot; + stringUrl);\r\n\r\n                        FriendlyMessage imageMessage = new FriendlyMessage(null, mUsername, stringUrl);\r\n                        mDatabaseReference.push().setValue(imageMessage);\r\n                        Log.v(TAG, &quot;Photos: Added Message to database&quot;);\r\n                    }\r\n                });\r\n\r\n            }\r\n        });\r\n        //mMessageAdapter.notifyDataSetChanged();\r\n        /*\r\n            Task&lt;Uri&gt; taskUri = uploadTask.continueWithTask(new Continuation&lt;UploadTask.TaskSnapshot, Task&lt;Uri&gt;&gt;() {\r\n                @Override\r\n                public Task&lt;Uri&gt; then(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) throws Exception {\r\n                    if (!task.isSuccessful()) {\r\n                        throw task.getException();\r\n                    }\r\n\r\n                    // Continue with the task to get the download URL\r\n                    return photoRef.getDownloadUrl();\r\n                }\r\n            }).addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\r\n                @Override\r\n                public void onComplete(@NonNull Task&lt;Uri&gt; task) {\r\n                    if (task.isSuccessful()) {\r\n                        Log.v(TAG, &quot;Photos: upload successful&quot;);\r\n                        Uri downloadUri = task.getResult();\r\n                        String stringUrl = task.toString();\r\n                        FriendlyMessage imageMessage = new FriendlyMessage(null, mUsername, stringUrl);\r\n                    } else {\r\n                        // Handle failures\r\n                        // ...\r\n                        Log.v(TAG, &quot;Photos: wasn&#39;t able to upload photo&quot;);\r\n                    }\r\n                }\r\n            }); */\r\n\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nMessageAdapter.java:\r\n```\r\npackage com.google.firebase.udacity.friendlychat;\r\n\r\nimport android.app.Activity;\r\nimport android.content.Context;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.ImageView;\r\nimport android.widget.TextView;\r\n\r\nimport com.bumptech.glide.Glide;\r\n\r\nimport java.util.List;\r\n\r\npublic class MessageAdapter extends ArrayAdapter&lt;FriendlyMessage&gt; {\r\n    public MessageAdapter(Context context, int resource, List&lt;FriendlyMessage&gt; objects) {\r\n        super(context, resource, objects);\r\n    }\r\n\r\n    @Override\r\n    public View getView(int position, View convertView, ViewGroup parent) {\r\n        if (convertView == null) {\r\n            convertView = ((Activity) getContext()).getLayoutInflater().inflate(R.layout.item_message, parent, false);\r\n        }\r\n\r\n        ImageView photoImageView = (ImageView) convertView.findViewById(R.id.photoImageView);\r\n        TextView messageTextView = (TextView) convertView.findViewById(R.id.messageTextView);\r\n        TextView authorTextView = (TextView) convertView.findViewById(R.id.nameTextView);\r\n\r\n        FriendlyMessage message = getItem(position);\r\n\r\n        boolean isPhoto = message.getPhotoUrl() != null;\r\n        if (isPhoto) {\r\n            messageTextView.setVisibility(View.GONE);\r\n            photoImageView.setVisibility(View.VISIBLE);\r\n            Glide.with(photoImageView.getContext())\r\n                    .load(message.getPhotoUrl())\r\n                    .into(photoImageView);\r\n        } else {\r\n            messageTextView.setVisibility(View.VISIBLE);\r\n            photoImageView.setVisibility(View.GONE);\r\n            messageTextView.setText(message.getText());\r\n        }\r\n        authorTextView.setText(message.getName());\r\n\r\n        return convertView;\r\n    }\r\n}\r\n```","title":"Firebase (Android): image not being displayed on my listView, once I first upload it to Storage","body":"<p>I'm implementing an instant message app in Android (FriendlyChat, part of the Firebase Udacity course, by the way).</p>\n<p>It saves and displays either a written message, or an image, per message. The class for these saved items is called FriendlyMessage, which contains the message's author, and then text or an image.</p>\n<p>I've set the ChildEventListener within onAuthStateChanged, which is coded on onCreate. This being said, the AuthListener is only called on onResume (attaching/adding it to the DatabaseReference), and on onPause (detaching/removing).</p>\n<p>The Send button's onClickListener is also set within onCreate. The text in the EditText is passed to a String, the FriendlyMessage instance is created, and then saved to the database with the .push().setValue(object) method.</p>\n<p>Whenever I do this, the onChildAdded is called, where I can add the most recent FriendlyMessage instance to the adapter, and the written message is displayed in the ListView.</p>\n<p>With images, I've got a button that opens my image files, and then I select one, then being called onto onActivityResult.</p>\n<p>Here, I'm able to retrieve the image, store it in FirebaseStorage, and even save it to the database (also with push().setValue(object) method).</p>\n<p><strong>However</strong>, and with the help of some logs I've coded, I notice that the <strong>onChildAdded isn't being called</strong>, and therefore, also because the app has probably been paused in the meantime, my ListView remains blank (the ListView is cleared upon onPause). When I rotate the phone, or when I restart the app, all the content appears, including the image uploaded. But of course, as you know, it's important that the image is shown right away, upon being uploaded by the user.</p>\n<p>What am I doing wrong? Or what can I do so that the onChildAdded is called when the image FriendlyMessage instance is saved onto the database (knowing that right now this is being called on onActivityResult) ?</p>\n<p>MainActivity.java:</p>\n<pre><code>package com.google.firebase.udacity.friendlychat;\n\nimport android.content.Intent;\nimport android.net.Uri;\nimport android.os.Bundle;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.text.Editable;\nimport android.text.InputFilter;\nimport android.text.TextWatcher;\nimport android.util.Log;\nimport android.view.Menu;\nimport android.view.MenuInflater;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.ImageButton;\nimport android.widget.ListView;\nimport android.widget.ProgressBar;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\nimport androidx.fragment.app.Fragment;\n\nimport com.firebase.ui.auth.AuthUI;\nimport com.google.android.gms.tasks.Continuation;\nimport com.google.android.gms.tasks.OnCompleteListener;\nimport com.google.android.gms.tasks.OnSuccessListener;\nimport com.google.android.gms.tasks.Task;\nimport com.google.firebase.auth.FirebaseAuth;\nimport com.google.firebase.auth.FirebaseUser;\nimport com.google.firebase.database.ChildEventListener;\nimport com.google.firebase.database.DataSnapshot;\nimport com.google.firebase.database.DatabaseError;\nimport com.google.firebase.database.DatabaseReference;\nimport com.google.firebase.database.FirebaseDatabase;\nimport com.google.firebase.storage.FirebaseStorage;\nimport com.google.firebase.storage.StorageReference;\nimport com.google.firebase.storage.UploadTask;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class MainActivity extends AppCompatActivity {\n\n    private static final String TAG = &quot;MainActivity&quot;;\n\n    public static final String ANONYMOUS = &quot;anonymous&quot;;\n    public static final int DEFAULT_MSG_LENGTH_LIMIT = 1000;\n    public static final int RC_SIGN_IN = 1;\n    public static final int RC_PHOTO_PICKER = 2;\n\n    private ListView mMessageListView;\n    private MessageAdapter mMessageAdapter;\n    private ProgressBar mProgressBar;\n    private ImageButton mPhotoPickerButton;\n    private EditText mMessageEditText;\n    private Button mSendButton;\n    private TextView mDisplayNameTextView;\n\n    private String mUsername;\n\n    private int countChildEventCalls; //for testing ChildEventListener calls\n\n    //Firebase variables\n    private FirebaseDatabase mFirebaseDatabase;\n    private DatabaseReference mDatabaseReference;\n    private FirebaseAuth mFirebaseAuth;\n    private FirebaseAuth.AuthStateListener mAuthListener;\n    private ChildEventListener mChildEventListener;\n    private FirebaseStorage mFirebaseStorage;\n    private StorageReference mChatPhotosStorageReference;\n\n    private List&lt;AuthUI.IdpConfig&gt; mAuthProviders = Arrays.asList(\n            new AuthUI.IdpConfig.EmailBuilder().build(),\n            new AuthUI.IdpConfig.GoogleBuilder().build());\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        mUsername = ANONYMOUS;\n        countChildEventCalls = 0;\n\n        mFirebaseDatabase = FirebaseDatabase.getInstance();\n        mFirebaseStorage = FirebaseStorage.getInstance();\n        mFirebaseAuth = FirebaseAuth.getInstance();\n\n        mDatabaseReference = mFirebaseDatabase.getReference().child(&quot;messages&quot;);\n        mChatPhotosStorageReference = mFirebaseStorage.getReference().child(&quot;chat_photos&quot;);\n\n        // Initialize references to views\n        mProgressBar = (ProgressBar) findViewById(R.id.progressBar);\n        mMessageListView = (ListView) findViewById(R.id.messageListView);\n        mPhotoPickerButton = (ImageButton) findViewById(R.id.photoPickerButton);\n        mMessageEditText = (EditText) findViewById(R.id.messageEditText);\n        mSendButton = (Button) findViewById(R.id.sendButton);\n        mDisplayNameTextView = (TextView) findViewById(R.id.display_name);\n\n        // Initialize message ListView and its adapter\n        List&lt;FriendlyMessage&gt; friendlyMessages = new ArrayList&lt;&gt;();\n        mMessageAdapter = new MessageAdapter(this, R.layout.item_message, friendlyMessages);\n        mMessageListView.setAdapter(mMessageAdapter);\n\n        // Initialize progress bar\n        mProgressBar.setVisibility(ProgressBar.INVISIBLE);\n\n        // Enable Send button when there's text to send\n        mMessageEditText.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void beforeTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n            }\n\n            @Override\n            public void onTextChanged(CharSequence charSequence, int i, int i1, int i2) {\n                if (charSequence.toString().trim().length() &gt; 0) {\n                    mSendButton.setEnabled(true);\n                } else {\n                    mSendButton.setEnabled(false);\n                }\n            }\n\n            @Override\n            public void afterTextChanged(Editable editable) {\n            }\n        });\n\n        mMessageEditText.setFilters(new InputFilter[]{new InputFilter.LengthFilter(DEFAULT_MSG_LENGTH_LIMIT)});\n\n        // Send button sends a message and clears the EditText\n        mSendButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                // TODO: Send messages on click\n                FriendlyMessage friendlyMessage = new FriendlyMessage(mMessageEditText.getText().toString(), mUsername, null);\n\n                mDatabaseReference.push().setValue(friendlyMessage);\n\n                // Clear input box\n                mMessageEditText.setText(&quot;&quot;);\n            }\n        });\n\n        // ImagePickerButton shows an image picker to upload a image for a message\n        mPhotoPickerButton.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                Intent intent = new Intent(Intent.ACTION_GET_CONTENT);\n                intent.setType(&quot;image/jpeg&quot;);\n                intent.putExtra(Intent.EXTRA_LOCAL_ONLY, true);\n                startActivityForResult(Intent.createChooser(intent, &quot;Complete action using&quot;), RC_PHOTO_PICKER);\n              }\n        });\n\n        mAuthListener = new FirebaseAuth.AuthStateListener() {\n\n            @Override\n            public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) {\n                FirebaseUser user = firebaseAuth.getCurrentUser();\n\n                if(user != null) { //the user is logged in\n                    onSignedInInitialize(user.getDisplayName());\n                }\n\n                else { //the user isn't logged in yet. Gotta launch FirebaseAuthUI\n                    onSignedOutCleanup();\n                    startActivityForResult(AuthUI.getInstance()\n                        .createSignInIntentBuilder()\n                        .setIsSmartLockEnabled(false)\n                        .setAvailableProviders(mAuthProviders)\n                        .build(),\n                            RC_SIGN_IN);\n                }\n            }\n        };\n    }\n\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu) {\n        MenuInflater inflater = getMenuInflater();\n        inflater.inflate(R.menu.main_menu, menu);\n        return true;\n    }\n\n    @Override\n    public boolean onOptionsItemSelected(MenuItem item) {\n        switch(item.getItemId()){\n            case R.id.sign_out_menu:\n                AuthUI.getInstance().signOut(this);\n                return true;\n\n            default: return super.onOptionsItemSelected(item);\n        }\n    }\n\n    @Override\n    protected void onResume(){\n        super.onResume();\n        mFirebaseAuth.addAuthStateListener(mAuthListener);\n    }\n\n    @Override\n    protected void onPause(){\n        super.onPause();\n        if(mAuthListener != null) {\n            mFirebaseAuth.removeAuthStateListener(mAuthListener);\n        }\n        detachDatabaseReadListener();\n        mMessageAdapter.clear();\n    }\n\n    public void onSignedInInitialize(String displayName){\n        mUsername = displayName;\n        mDisplayNameTextView.setText(mUsername);\n\n        if(mChildEventListener == null){\n            attachDatabaseReadListener();\n        }\n    }\n\n    public void attachDatabaseReadListener(){\n        mChildEventListener = new ChildEventListener() {\n\n            @Override\n            public void onChildAdded(@NonNull DataSnapshot dataSnapshot, @Nullable String s) {\n                countChildEventCalls++;\n                Log.v(TAG, &quot;Could be Text or Photos: calling ChildEventListener&quot;);\n                FriendlyMessage message = dataSnapshot.getValue(FriendlyMessage.class);\n                mMessageAdapter.add(message);\n                Log.v(TAG, &quot;Text or Photos: message added to Adapter. Calls: &quot; + countChildEventCalls);\n            }\n\n            @Override\n            public void onChildChanged(@NonNull DataSnapshot dataSnapshot, @Nullable String s) {\n                Log.v(TAG, &quot;Text or Photos: calling onChildChange!&quot;);\n            }\n\n            @Override\n            public void onChildRemoved(@NonNull DataSnapshot dataSnapshot) {\n            }\n\n            @Override\n            public void onChildMoved(@NonNull DataSnapshot dataSnapshot, @Nullable String s) {\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError databaseError) {\n                Log.v(TAG, &quot;Text or Photos: onCancelled called.&quot;);\n            }\n        };\n\n        mDatabaseReference.addChildEventListener(mChildEventListener);\n    }\n\n    public void onSignedOutCleanup(){\n        mUsername = ANONYMOUS;\n        mMessageAdapter.clear();\n        detachDatabaseReadListener();\n    }\n\n    public void detachDatabaseReadListener(){\n        if(mChildEventListener != null){\n            mDatabaseReference.removeEventListener(mChildEventListener);\n        }\n    }\n\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, Intent data){\n        super.onActivityResult(requestCode, resultCode, data);\n\n        Log.v(TAG, &quot;Photos: Started activitiyForResult&quot;);\n        Log.v(TAG, &quot;for Photos purpose, requestCode = &quot; + requestCode + &quot;, resultCode = &quot; + resultCode);\n\n        if(requestCode == RC_SIGN_IN){\n            if(resultCode == RESULT_OK){\n                Toast.makeText(MainActivity.this, &quot;You're logged in! Type with your friends&quot;, Toast.LENGTH_LONG).show();\n            }\n            else if (resultCode == RESULT_CANCELED){\n                Toast.makeText(MainActivity.this, &quot;Sign-in cancelled&quot;, Toast.LENGTH_LONG).show();\n                finish();\n            }\n        }\n        else if (requestCode == RC_PHOTO_PICKER &amp;&amp; resultCode == RESULT_OK) {\n            uploadImageToChat(data);\n        }\n\n    }\n\n    public void uploadImageToChat(Intent dataIntent){\n        Log.v(TAG, &quot;Photos: Reached photo picker RC request&quot;);\n        Uri imageUri = dataIntent.getData();\n        final StorageReference photoRef = mChatPhotosStorageReference.child(imageUri.getLastPathSegment());\n        UploadTask uploadTask = photoRef.putFile(imageUri);\n\n        uploadTask.addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n            @Override\n            public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                taskSnapshot.getStorage().getDownloadUrl().addOnSuccessListener(new OnSuccessListener&lt;Uri&gt;() {\n                    @Override\n                    public void onSuccess(Uri uri) {\n                        String stringUrl = uri.toString();\n                        Log.v(TAG, &quot;Photos, uploaded, path: &quot; + stringUrl);\n\n                        FriendlyMessage imageMessage = new FriendlyMessage(null, mUsername, stringUrl);\n                        mDatabaseReference.push().setValue(imageMessage);\n                        Log.v(TAG, &quot;Photos: Added Message to database&quot;);\n                    }\n                });\n\n            }\n        });\n        //mMessageAdapter.notifyDataSetChanged();\n        /*\n            Task&lt;Uri&gt; taskUri = uploadTask.continueWithTask(new Continuation&lt;UploadTask.TaskSnapshot, Task&lt;Uri&gt;&gt;() {\n                @Override\n                public Task&lt;Uri&gt; then(@NonNull Task&lt;UploadTask.TaskSnapshot&gt; task) throws Exception {\n                    if (!task.isSuccessful()) {\n                        throw task.getException();\n                    }\n\n                    // Continue with the task to get the download URL\n                    return photoRef.getDownloadUrl();\n                }\n            }).addOnCompleteListener(new OnCompleteListener&lt;Uri&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;Uri&gt; task) {\n                    if (task.isSuccessful()) {\n                        Log.v(TAG, &quot;Photos: upload successful&quot;);\n                        Uri downloadUri = task.getResult();\n                        String stringUrl = task.toString();\n                        FriendlyMessage imageMessage = new FriendlyMessage(null, mUsername, stringUrl);\n                    } else {\n                        // Handle failures\n                        // ...\n                        Log.v(TAG, &quot;Photos: wasn't able to upload photo&quot;);\n                    }\n                }\n            }); */\n\n\n    }\n\n}\n</code></pre>\n<p>MessageAdapter.java:</p>\n<pre><code>package com.google.firebase.udacity.friendlychat;\n\nimport android.app.Activity;\nimport android.content.Context;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ArrayAdapter;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport com.bumptech.glide.Glide;\n\nimport java.util.List;\n\npublic class MessageAdapter extends ArrayAdapter&lt;FriendlyMessage&gt; {\n    public MessageAdapter(Context context, int resource, List&lt;FriendlyMessage&gt; objects) {\n        super(context, resource, objects);\n    }\n\n    @Override\n    public View getView(int position, View convertView, ViewGroup parent) {\n        if (convertView == null) {\n            convertView = ((Activity) getContext()).getLayoutInflater().inflate(R.layout.item_message, parent, false);\n        }\n\n        ImageView photoImageView = (ImageView) convertView.findViewById(R.id.photoImageView);\n        TextView messageTextView = (TextView) convertView.findViewById(R.id.messageTextView);\n        TextView authorTextView = (TextView) convertView.findViewById(R.id.nameTextView);\n\n        FriendlyMessage message = getItem(position);\n\n        boolean isPhoto = message.getPhotoUrl() != null;\n        if (isPhoto) {\n            messageTextView.setVisibility(View.GONE);\n            photoImageView.setVisibility(View.VISIBLE);\n            Glide.with(photoImageView.getContext())\n                    .load(message.getPhotoUrl())\n                    .into(photoImageView);\n        } else {\n            messageTextView.setVisibility(View.VISIBLE);\n            photoImageView.setVisibility(View.GONE);\n            messageTextView.setText(message.getText());\n        }\n        authorTextView.setText(message.getName());\n\n        return convertView;\n    }\n}\n</code></pre>\n"},{"tags":["javascript","java","opentripplanner"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1632865602,"post_id":69365573,"comment_id":122608705,"body_markdown":"Why have you tagged Java if the website is JavaScript?  Java != JavaScript.","body":"Why have you tagged Java if the website is JavaScript?  Java != JavaScript."},{"owner":{"account_id":11221046,"reputation":73,"user_id":11957639,"display_name":"Joe Nordling"},"score":0,"creation_date":1633019192,"post_id":69365573,"comment_id":122656537,"body_markdown":"OpenTripPlanner is written in Java so I thought I should add the tag.","body":"OpenTripPlanner is written in Java so I thought I should add the tag."}],"answers":[{"tags":[],"owner":{"account_id":9066860,"reputation":101,"user_id":6751385,"display_name":"cwoods"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636542349,"creation_date":1636542349,"answer_id":69912167,"question_id":69365573,"body_markdown":"The OpenTripPlanner platform provides a web front-end to plan journeys so you can embed that into your website using an iframe.\r\n\r\nhttp://docs.opentripplanner.org/en/latest/Basic-Tutorial/#simple-one-step-server\r\n\r\nhttps://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe","title":"How to use OpenTripPlanner inside of a javascript website?","body":"<p>The OpenTripPlanner platform provides a web front-end to plan journeys so you can embed that into your website using an iframe.</p>\n<p><a href=\"http://docs.opentripplanner.org/en/latest/Basic-Tutorial/#simple-one-step-server\" rel=\"nofollow noreferrer\">http://docs.opentripplanner.org/en/latest/Basic-Tutorial/#simple-one-step-server</a></p>\n<p><a href=\"https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe\" rel=\"nofollow noreferrer\">https://developer.mozilla.org/en-US/docs/Web/HTML/Element/iframe</a></p>\n"}],"owner":{"account_id":11221046,"reputation":73,"user_id":11957639,"display_name":"Joe Nordling"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1636542349,"creation_date":1632847459,"question_id":69365573,"body_markdown":"I am fairly new to the OpenTripPlanner and would like to implement it into a small portion of an already built website. Is this possible and if so how would I go about adding it?","title":"How to use OpenTripPlanner inside of a javascript website?","body":"<p>I am fairly new to the OpenTripPlanner and would like to implement it into a small portion of an already built website. Is this possible and if so how would I go about adding it?</p>\n"},{"tags":["java","android","xml","android-edittext","position"],"answers":[{"tags":[],"owner":{"account_id":13694976,"reputation":1797,"user_id":9881903,"display_name":"GHH"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636540681,"creation_date":1636540681,"answer_id":69911772,"question_id":69911349,"body_markdown":"modify\r\n```\r\napp:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n```\r\nto\r\n```\r\napp:layout_constraintTop_toBottomOf=&quot;@id/your_textview_id&quot;\r\n```","title":"Text Moving Up in Edittext","body":"<p>modify</p>\n<pre><code>app:layout_constraintTop_toTopOf=&quot;parent&quot;\n</code></pre>\n<p>to</p>\n<pre><code>app:layout_constraintTop_toBottomOf=&quot;@id/your_textview_id&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8213164,"reputation":508,"user_id":6228731,"accept_rate":80,"display_name":"Mohammad Arman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636542024,"creation_date":1636542024,"answer_id":69912082,"question_id":69911349,"body_markdown":"Yes , it is moving up. You need to place your edit text inside linear layout like this. It will work fine.\r\n\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;vertical&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Title&quot;\r\n            android:id=&quot;@+id/textView&quot;\r\n            android:textSize=&quot;@dimen/_40sdp&quot;\r\n            app:layout_constraintBottom_toTopOf=&quot;@id/noteInput&quot;\r\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot; /&gt;\r\n\r\n        &lt;EditText\r\n            android:id=&quot;@+id/noteInput&quot;\r\n            android:layout_width=&quot;300dp&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:autofillHints=&quot;Title&quot;\r\n            android:background=&quot;@android:color/transparent&quot;\r\n            android:digits=&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz 123456789!@#$%^&amp;amp;*()-_=+{[}]\\&#39;|:;,./?&quot;\r\n            android:hint=&quot;hint&quot;\r\n            android:inputType=&quot;text|textNoSuggestions|textVisiblePassword&quot;\r\n            android:maxLength=&quot;250&quot;\r\n            android:maxLines=&quot;12&quot;\r\n            android:textColor=&quot;#000000&quot;\r\n            android:textColorHint=&quot;#363636&quot;\r\n            android:textCursorDrawable=&quot;@null&quot;\r\n            android:textSize=&quot;28sp&quot;\r\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n            app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n            app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n            app:layout_constraintVertical_bias=&quot;0.240&quot; /&gt;\r\n    &lt;/LinearLayout&gt;","title":"Text Moving Up in Edittext","body":"<p>Yes , it is moving up. You need to place your edit text inside linear layout like this. It will work fine.</p>\n<pre><code>&lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n    &lt;TextView\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;Title&quot;\n        android:id=&quot;@+id/textView&quot;\n        android:textSize=&quot;@dimen/_40sdp&quot;\n        app:layout_constraintBottom_toTopOf=&quot;@id/noteInput&quot;\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/noteInput&quot;\n        android:layout_width=&quot;300dp&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:autofillHints=&quot;Title&quot;\n        android:background=&quot;@android:color/transparent&quot;\n        android:digits=&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz 123456789!@#$%^&amp;amp;*()-_=+{[}]\\'|:;,./?&quot;\n        android:hint=&quot;hint&quot;\n        android:inputType=&quot;text|textNoSuggestions|textVisiblePassword&quot;\n        android:maxLength=&quot;250&quot;\n        android:maxLines=&quot;12&quot;\n        android:textColor=&quot;#000000&quot;\n        android:textColorHint=&quot;#363636&quot;\n        android:textCursorDrawable=&quot;@null&quot;\n        android:textSize=&quot;28sp&quot;\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\n        app:layout_constraintVertical_bias=&quot;0.240&quot; /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n"}],"owner":{"display_name":"user16257123"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":181,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69911772,"answer_count":2,"score":0,"last_activity_date":1636542024,"creation_date":1636539078,"question_id":69911349,"body_markdown":"I have an edittext and every time the text goes to the other line, the text slowly moves up and comes in the way of the first edittext.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/8NW6L.jpg\r\n  [2]: https://i.stack.imgur.com/AEeZo.jpg\r\n\r\nAs you can see in the pics, the edittext &quot;Sample&quot; looks normal. But everytime the text goes to the next line, the whole edittext goes up and kind of hits the first edittext &quot;Title&quot;. The code of the edittext is below.\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/noteInput&quot;\r\n        android:layout_width=&quot;300dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:background=&quot;@android:color/transparent&quot;\r\n        android:inputType=&quot;text|textNoSuggestions|textVisiblePassword&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\r\n        app:layout_constraintRight_toRightOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.240&quot;\r\n        android:hint=&quot;@string/noteHint&quot;\r\n        android:textColorHint=&quot;#363636&quot;\r\n        android:autofillHints=&quot;Title&quot;\r\n        android:textSize=&quot;28sp&quot;\r\n        android:textColor=&quot;#000000&quot;\r\n        android:digits=&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz 123456789!@#$%^&amp;amp;*()-_=+{[}]\\&#39;|:;,./?&quot;\r\n        android:maxLength=&quot;250&quot;\r\n        android:maxLines=&quot;12&quot;\r\n        android:textCursorDrawable=&quot;@null&quot;/&gt;\r\n\r\nCan someone please tell me a way to solve this simple issue? Thanks in advance","title":"Text Moving Up in Edittext","body":"<p>I have an edittext and every time the text goes to the other line, the text slowly moves up and comes in the way of the first edittext.</p>\n<p><a href=\"https://i.stack.imgur.com/8NW6L.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/8NW6L.jpg\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/AEeZo.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/AEeZo.jpg\" alt=\"enter image description here\" /></a></p>\n<p>As you can see in the pics, the edittext &quot;Sample&quot; looks normal. But everytime the text goes to the next line, the whole edittext goes up and kind of hits the first edittext &quot;Title&quot;. The code of the edittext is below.</p>\n<pre><code>&lt;EditText\n    android:id=&quot;@+id/noteInput&quot;\n    android:layout_width=&quot;300dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:background=&quot;@android:color/transparent&quot;\n    android:inputType=&quot;text|textNoSuggestions|textVisiblePassword&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintLeft_toLeftOf=&quot;parent&quot;\n    app:layout_constraintRight_toRightOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:layout_constraintVertical_bias=&quot;0.240&quot;\n    android:hint=&quot;@string/noteHint&quot;\n    android:textColorHint=&quot;#363636&quot;\n    android:autofillHints=&quot;Title&quot;\n    android:textSize=&quot;28sp&quot;\n    android:textColor=&quot;#000000&quot;\n    android:digits=&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz 123456789!@#$%^&amp;amp;*()-_=+{[}]\\'|:;,./?&quot;\n    android:maxLength=&quot;250&quot;\n    android:maxLines=&quot;12&quot;\n    android:textCursorDrawable=&quot;@null&quot;/&gt;\n</code></pre>\n<p>Can someone please tell me a way to solve this simple issue? Thanks in advance</p>\n"},{"tags":["java","maven","jar","version"],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1636541696,"creation_date":1636541696,"answer_id":69912012,"question_id":69911376,"body_markdown":"If you have two different versions of the same JAR in the lib folder and load the whole lib folder onto the classpath, then you are playing roulette.\r\n\r\nThe JVM may pick one or the other version, and while in theory, you probably can figure out the rules, in practise, it is just unstable. \r\n\r\nSo, what can you do? Some alternatives:\r\n\r\n- Remove the version 1.1 from the lib folder and see whether the other module runs with 2.0 as well (often, version upgrades are more or less compatible)\r\n- Use two different lib folders, or construct the classpath manually for the two JARs. Only possible if they do not run in the same JVM.\r\n- Use the maven shade plugin to shade the required library into your own JAR.\r\n- Most of `commons-io` is obsolete by now because adequate classes/methods are already part of the JDK (from Java 8 upwards). So you might just be able to remove `commons-io` from your project and do the file handling with Java itself.","title":"Jar picks wrong dependency version from on-premise lib","body":"<p>If you have two different versions of the same JAR in the lib folder and load the whole lib folder onto the classpath, then you are playing roulette.</p>\n<p>The JVM may pick one or the other version, and while in theory, you probably can figure out the rules, in practise, it is just unstable.</p>\n<p>So, what can you do? Some alternatives:</p>\n<ul>\n<li>Remove the version 1.1 from the lib folder and see whether the other module runs with 2.0 as well (often, version upgrades are more or less compatible)</li>\n<li>Use two different lib folders, or construct the classpath manually for the two JARs. Only possible if they do not run in the same JVM.</li>\n<li>Use the maven shade plugin to shade the required library into your own JAR.</li>\n<li>Most of <code>commons-io</code> is obsolete by now because adequate classes/methods are already part of the JDK (from Java 8 upwards). So you might just be able to remove <code>commons-io</code> from your project and do the file handling with Java itself.</li>\n</ul>\n"}],"owner":{"account_id":22385773,"reputation":86,"user_id":16598611,"display_name":"fko"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":577,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":69912012,"answer_count":1,"score":2,"last_activity_date":1636541696,"creation_date":1636539186,"question_id":69911376,"body_markdown":"I have a system where modules are build and deployed into a system. All jars are located under lib folder in that system. My jar has a dependency to commons-io of version 2.0 and other module has dependency to commons-io, too but of version 1.1. So, both versions are deployed to lib folder. There is a method that exists in 2.0 but not in 1.1. When I ran my own jar, it goes and picks old version which is 1.1 ,and it causes NoSuchMethodError. I am using maven. Is there a way to force my module to use the version that I set in pom.xml? I cannot ask other module maintainer for a version change as this lib comes as 4th level transitive dependency. ","title":"Jar picks wrong dependency version from on-premise lib","body":"<p>I have a system where modules are build and deployed into a system. All jars are located under lib folder in that system. My jar has a dependency to commons-io of version 2.0 and other module has dependency to commons-io, too but of version 1.1. So, both versions are deployed to lib folder. There is a method that exists in 2.0 but not in 1.1. When I ran my own jar, it goes and picks old version which is 1.1 ,and it causes NoSuchMethodError. I am using maven. Is there a way to force my module to use the version that I set in pom.xml? I cannot ask other module maintainer for a version change as this lib comes as 4th level transitive dependency.</p>\n"},{"tags":["java","for-loop","foreach","conditional-execution"],"comments":[{"owner":{"account_id":8537,"reputation":40691,"user_id":15459,"accept_rate":70,"display_name":"PhiLho"},"score":3,"creation_date":1226527848,"post_id":285523,"comment_id":135446,"body_markdown":"Yeah! It is funny, I just wanted to ask the exact same question!","body":"Yeah! It is funny, I just wanted to ask the exact same question!"},{"owner":{"account_id":4413,"reputation":40863,"user_id":6610,"accept_rate":72,"display_name":"xtofl"},"score":0,"creation_date":1226668455,"post_id":285523,"comment_id":138706,"body_markdown":"The same kind of question returns (and will so).  Now why would you want to create a loop if one element needs a different treatment?  http://stackoverflow.com/questions/156650/does-the-last-element-in-a-loop-deserve-a-separate-treatment","body":"The same kind of question returns (and will so).  Now why would you want to create a loop if one element needs a different treatment?  <a href=\"http://stackoverflow.com/questions/156650/does-the-last-element-in-a-loop-deserve-a-separate-treatment\" title=\"does the last element in a loop deserve a separate treatment\">stackoverflow.com/questions/156650/&hellip;</a>"},{"owner":{"account_id":1100048,"reputation":1008,"user_id":1092670,"accept_rate":93,"display_name":"AnthonyJClink"},"score":0,"creation_date":1497494739,"post_id":285523,"comment_id":76105415,"body_markdown":"Since you have a fixed array why use the enhanced for? for(int i = 0; i&lt; array.length; i++ if(i &lt; array.lenth),,,","body":"Since you have a fixed array why use the enhanced for? for(int i = 0; i&lt; array.length; i++ if(i &lt; array.lenth),,,"}],"answers":[{"tags":[],"owner":{"account_id":285,"reputation":53172,"user_id":356,"accept_rate":100,"display_name":"Dinah"},"down_vote_count":1,"up_vote_count":40,"is_accepted":false,"score":39,"last_activity_date":1272477942,"creation_date":1226527309,"answer_id":285530,"question_id":285523,"body_markdown":"It might be easier to always append. And then, when you&#39;re done with your loop, just remove the final character. Tons less conditionals that way too.\r\n\r\nYou can use `StringBuilder`&#39;s `deleteCharAt(int index)` with index being `length() - 1`","title":"Last iteration of enhanced for loop in java","body":"<p>It might be easier to always append. And then, when you're done with your loop, just remove the final character. Tons less conditionals that way too.</p>\n\n<p>You can use <code>StringBuilder</code>'s <code>deleteCharAt(int index)</code> with index being <code>length() - 1</code></p>\n"},{"tags":[],"owner":{"account_id":3393,"reputation":60796,"user_id":4893,"accept_rate":64,"display_name":"sblundy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1254950529,"creation_date":1226527425,"answer_id":285534,"question_id":285523,"body_markdown":"If you convert it to a classic index loop, yes.\r\n\r\nOr you could just delete the last comma after it&#39;s done. Like so:\r\n\r\n    int[] array = {1, 2, 3...};\r\n    StringBuilder\r\n\r\n    builder = new StringBuilder();\r\n\r\n    for(int i : array)\r\n    {\r\n        builder.append(i + &quot;,&quot;);\r\n    }\r\n\r\n    if(builder.charAt((builder.length() - 1) == &#39;,&#39;))\r\n        builder.deleteCharAt(builder.length() - 1);\r\n\r\nMe, I just use [`StringUtils.join()`][1] from [commons-lang][2].\r\n\r\n\r\n  [1]: http://commons.apache.org/lang/api-release/org/apache/commons/lang/StringUtils.html#join(java.util.Collection,%20char)\r\n  [2]: http://commons.apache.org/lang/","title":"Last iteration of enhanced for loop in java","body":"<p>If you convert it to a classic index loop, yes.</p>\n\n<p>Or you could just delete the last comma after it's done. Like so:</p>\n\n<pre><code>int[] array = {1, 2, 3...};\nStringBuilder\n\nbuilder = new StringBuilder();\n\nfor(int i : array)\n{\n    builder.append(i + \",\");\n}\n\nif(builder.charAt((builder.length() - 1) == ','))\n    builder.deleteCharAt(builder.length() - 1);\n</code></pre>\n\n<p>Me, I just use <a href=\"http://commons.apache.org/lang/api-release/org/apache/commons/lang/StringUtils.html#join(java.util.Collection,%20char)\" rel=\"nofollow noreferrer\"><code>StringUtils.join()</code></a> from <a href=\"http://commons.apache.org/lang/\" rel=\"nofollow noreferrer\">commons-lang</a>.</p>\n"},{"tags":[],"owner":{"account_id":15075,"reputation":27761,"user_id":31480,"accept_rate":71,"display_name":"Gareth Davis"},"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1331318733,"creation_date":1226527446,"answer_id":285537,"question_id":285523,"body_markdown":"keep it simple and use a standard for loop:\r\n\r\n    for(int i = 0 ; i &lt; array.length ; i ++ ){\r\n        builder.append(array[i]);\r\n        if( i != array.length - 1 ){\r\n            builder.append(&#39;,&#39;);\r\n        }\r\n    }\r\n\r\n\r\nor just use apache [commons-lang StringUtils.join()][1]\r\n\r\n\r\n\r\n\r\n  [1]: http://commons.apache.org/lang/api-release/org/apache/commons/lang/StringUtils.html#join(java.lang.Object[],%20char)","title":"Last iteration of enhanced for loop in java","body":"<p>keep it simple and use a standard for loop:</p>\n\n<pre><code>for(int i = 0 ; i &lt; array.length ; i ++ ){\n    builder.append(array[i]);\n    if( i != array.length - 1 ){\n        builder.append(',');\n    }\n}\n</code></pre>\n\n<p>or just use apache <a href=\"http://commons.apache.org/lang/api-release/org/apache/commons/lang/StringUtils.html#join(java.lang.Object[],%20char)\" rel=\"nofollow noreferrer\">commons-lang StringUtils.join()</a></p>\n"},{"tags":[],"owner":{"account_id":6358,"reputation":386072,"user_id":10661,"accept_rate":91,"display_name":"S.Lott"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1226527533,"creation_date":1226527533,"answer_id":285543,"question_id":285523,"body_markdown":"Explicit loops always work better than implicit ones.\r\n\r\n    builder.append( &quot;&quot; + array[0] );\r\n    for( int i = 1; i != array.length; i += 1 ) {\r\n       builder.append( &quot;, &quot; + array[i] );\r\n    }\r\n\r\nYou should wrap the whole thing in an if-statement just in case you&#39;re dealing with a zero-length array.","title":"Last iteration of enhanced for loop in java","body":"<p>Explicit loops always work better than implicit ones.</p>\n\n<pre><code>builder.append( \"\" + array[0] );\nfor( int i = 1; i != array.length; i += 1 ) {\n   builder.append( \", \" + array[i] );\n}\n</code></pre>\n\n<p>You should wrap the whole thing in an if-statement just in case you're dealing with a zero-length array.</p>\n"},{"tags":[],"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"down_vote_count":4,"up_vote_count":229,"is_accepted":false,"score":225,"last_activity_date":1317324890,"creation_date":1226527561,"answer_id":285544,"question_id":285523,"body_markdown":"Another alternative is to append the comma before you append i, just not on the *first* iteration. (Please don&#39;t use `&quot;&quot; + i`, by the way - you don&#39;t really want concatenation here, and StringBuilder has a perfectly good append(int) overload.)\r\n\r\n    int[] array = {1, 2, 3...};\r\n    StringBuilder builder = new StringBuilder();\r\n    \r\n    for (int i : array) {\r\n        if (builder.length() != 0) {\r\n            builder.append(&quot;,&quot;);\r\n        }\r\n        builder.append(i);\r\n    }\r\n\r\nThe nice thing about this is that it will work with any `Iterable` - you can&#39;t always index things. (The &quot;add the comma and then remove it at the end&quot; is a nice suggestion when you&#39;re really using StringBuilder - but it doesn&#39;t work for things like writing to streams. It&#39;s possibly the best approach for this exact problem though.)","title":"Last iteration of enhanced for loop in java","body":"<p>Another alternative is to append the comma before you append i, just not on the <em>first</em> iteration. (Please don't use <code>\"\" + i</code>, by the way - you don't really want concatenation here, and StringBuilder has a perfectly good append(int) overload.)</p>\n\n<pre><code>int[] array = {1, 2, 3...};\nStringBuilder builder = new StringBuilder();\n\nfor (int i : array) {\n    if (builder.length() != 0) {\n        builder.append(\",\");\n    }\n    builder.append(i);\n}\n</code></pre>\n\n<p>The nice thing about this is that it will work with any <code>Iterable</code> - you can't always index things. (The \"add the comma and then remove it at the end\" is a nice suggestion when you're really using StringBuilder - but it doesn't work for things like writing to streams. It's possibly the best approach for this exact problem though.)</p>\n"},{"tags":[],"owner":{"account_id":9005,"reputation":3477,"user_id":16457,"accept_rate":88,"display_name":"Brian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1226527570,"creation_date":1226527570,"answer_id":285546,"question_id":285523,"body_markdown":"Another approach is to have the length of the array (if available) stored in a separate variable (more efficient than re-checking the length each time).  You can then compare your index to that length to determine whether or not to add the final comma.\r\n\r\nEDIT:  Another consideration is weighing the performance cost of removing a final character (which may cause a string copy) against having a conditional be checked in each iteration.","title":"Last iteration of enhanced for loop in java","body":"<p>Another approach is to have the length of the array (if available) stored in a separate variable (more efficient than re-checking the length each time).  You can then compare your index to that length to determine whether or not to add the final comma.</p>\n\n<p>EDIT:  Another consideration is weighing the performance cost of removing a final character (which may cause a string copy) against having a conditional be checked in each iteration.</p>\n"},{"tags":[],"owner":{"account_id":16796,"reputation":4079,"user_id":36965,"accept_rate":80,"display_name":"FallenAvatar"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1380185139,"creation_date":1226527614,"answer_id":285548,"question_id":285523,"body_markdown":"Here is a solution:\r\n\r\n    int[] array = {1, 2, 3...};\r\n    StringBuilder builder = new StringBuilder();\r\n    bool firstiteration=true;\r\n    \r\n    for(int i : array)\r\n    {\r\n        if(!firstiteration)\r\n            builder.append(&quot;,&quot;);\r\n    \r\n        builder.append(&quot;&quot; + i);\r\n        firstiteration=false;\r\n    }\r\n\r\nLook for the first iteration :)\r\n&amp;nbsp;","title":"Last iteration of enhanced for loop in java","body":"<p>Here is a solution:</p>\n\n<pre><code>int[] array = {1, 2, 3...};\nStringBuilder builder = new StringBuilder();\nbool firstiteration=true;\n\nfor(int i : array)\n{\n    if(!firstiteration)\n        builder.append(\",\");\n\n    builder.append(\"\" + i);\n    firstiteration=false;\n}\n</code></pre>\n\n<p>Look for the first iteration :)\n&nbsp;</p>\n"},{"tags":[],"owner":{"account_id":9763,"reputation":6303,"user_id":18160,"accept_rate":44,"display_name":"Paul Brinkley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1464612616,"creation_date":1226527683,"answer_id":285552,"question_id":285523,"body_markdown":"Two alternate paths here:\r\n\r\n1: [Apache Commons String Utils](https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringUtils.html#join(java.lang.Object[],%20char))\r\n\r\n2: Keep a boolean called `first`, set to true.  In each iteration, if `first` is false, append your comma; after that, set `first` to false.","title":"Last iteration of enhanced for loop in java","body":"<p>Two alternate paths here:</p>\n\n<p>1: <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/StringUtils.html#join(java.lang.Object[],%20char)\" rel=\"nofollow noreferrer\">Apache Commons String Utils</a></p>\n\n<p>2: Keep a boolean called <code>first</code>, set to true.  In each iteration, if <code>first</code> is false, append your comma; after that, set <code>first</code> to false.</p>\n"},{"tags":[],"owner":{"account_id":10732,"reputation":54820,"user_id":20400,"accept_rate":72,"display_name":"Omar Kooheji"},"down_vote_count":0,"up_vote_count":33,"is_accepted":false,"score":33,"last_activity_date":1226528009,"creation_date":1226528009,"answer_id":285571,"question_id":285523,"body_markdown":" Maybe you are using the wrong tool for the Job.\r\n\r\nThis is more manual than what you are doing but it&#39;s in a way more elegant if not a bit &quot;old school&quot;\r\n\r\n\r\n     StringBuffer buffer = new StringBuffer();\r\n     Iterator iter = s.iterator();\r\n     while (iter.hasNext()) {\r\n          buffer.append(iter.next());\r\n          if (iter.hasNext()) {\r\n                buffer.append(delimiter);\r\n          }\r\n     }\r\n\r\n","title":"Last iteration of enhanced for loop in java","body":"<p>Maybe you are using the wrong tool for the Job.</p>\n\n<p>This is more manual than what you are doing but it's in a way more elegant if not a bit \"old school\"</p>\n\n<pre><code> StringBuffer buffer = new StringBuffer();\n Iterator iter = s.iterator();\n while (iter.hasNext()) {\n      buffer.append(iter.next());\n      if (iter.hasNext()) {\n            buffer.append(delimiter);\n      }\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14954,"reputation":47917,"user_id":31136,"accept_rate":50,"display_name":"bruno conde"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1226584180,"creation_date":1226528405,"answer_id":285592,"question_id":285523,"body_markdown":"Another solution (perhaps the most efficient)\r\n\r\n        int[] array = {1, 2, 3};\r\n        StringBuilder builder = new StringBuilder();\r\n\r\n        if (array.length != 0) {\r\n            builder.append(array[0]);\r\n            for (int i = 1; i &lt; array.length; i++ )\r\n            {\r\n                builder.append(&quot;,&quot;);\r\n                builder.append(array[i]);\r\n            }\r\n        }","title":"Last iteration of enhanced for loop in java","body":"<p>Another solution (perhaps the most efficient)</p>\n\n<pre><code>    int[] array = {1, 2, 3};\n    StringBuilder builder = new StringBuilder();\n\n    if (array.length != 0) {\n        builder.append(array[0]);\n        for (int i = 1; i &lt; array.length; i++ )\n        {\n            builder.append(\",\");\n            builder.append(array[i]);\n        }\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2379,"reputation":49899,"user_id":3295,"accept_rate":62,"display_name":"toolkit"},"down_vote_count":0,"up_vote_count":148,"is_accepted":false,"score":148,"last_activity_date":1426474887,"creation_date":1226529004,"answer_id":285628,"question_id":285523,"body_markdown":"Another way to do this:\r\n\r\n    String delim = &quot;&quot;;\r\n    for (int i : ints) {\r\n        sb.append(delim).append(i);\r\n        delim = &quot;,&quot;;\r\n    }\r\n\r\nUpdate: For Java 8, you now have [Collectors][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html","title":"Last iteration of enhanced for loop in java","body":"<p>Another way to do this:</p>\n\n<pre><code>String delim = \"\";\nfor (int i : ints) {\n    sb.append(delim).append(i);\n    delim = \",\";\n}\n</code></pre>\n\n<p>Update: For Java 8, you now have <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html\" rel=\"noreferrer\">Collectors</a></p>\n"},{"tags":[],"owner":{"account_id":285,"reputation":53172,"user_id":356,"accept_rate":100,"display_name":"Dinah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1226529898,"creation_date":1226529898,"answer_id":285670,"question_id":285523,"body_markdown":"If you&#39;re only turning an array into a comma delimited array, many languages have a join function for exactly this. It turns an array into a string with a delimiter between each element.","title":"Last iteration of enhanced for loop in java","body":"<p>If you're only turning an array into a comma delimited array, many languages have a join function for exactly this. It turns an array into a string with a delimiter between each element.</p>\n"},{"tags":[],"owner":{"account_id":12436,"reputation":27545,"user_id":24468,"accept_rate":100,"display_name":"akuhn"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1226854554,"creation_date":1226656800,"answer_id":289669,"question_id":285523,"body_markdown":"You need [Class Separator][1].\r\n\r\n    Separator s = new Separator(&quot;, &quot;);\r\n    for(int i : array)\r\n    {\r\n         builder.append(s).append(i);\r\n    }\r\n\r\nThe implementation of class `Separator` is straight forward. It wraps a string that is returned on every call of `toString()` except for the first call, which returns an empty string.\r\n\r\n\r\n  [1]: http://ssdl-wiki.cs.technion.ac.il/wiki/index.php/Class_Separator","title":"Last iteration of enhanced for loop in java","body":"<p>You need <a href=\"http://ssdl-wiki.cs.technion.ac.il/wiki/index.php/Class_Separator\" rel=\"nofollow noreferrer\">Class Separator</a>.</p>\n\n<pre><code>Separator s = new Separator(\", \");\nfor(int i : array)\n{\n     builder.append(s).append(i);\n}\n</code></pre>\n\n<p>The implementation of class <code>Separator</code> is straight forward. It wraps a string that is returned on every call of <code>toString()</code> except for the first call, which returns an empty string.</p>\n"},{"tags":[],"owner":{"account_id":21085,"reputation":11957,"user_id":50979,"accept_rate":88,"display_name":"13ren"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1237637586,"creation_date":1237637586,"answer_id":669201,"question_id":285523,"body_markdown":"Based on java.util.AbstractCollection.toString(), it exits early to avoid the delimiter.\r\n\r\n    StringBuffer buffer = new StringBuffer();\r\n    Iterator iter = s.iterator();\r\n    for (;;) {\r\n      buffer.append(iter.next());\r\n      if (! iter.hasNext())\r\n        break;\r\n      buffer.append(delimiter);\r\n    }\r\n\r\nIt&#39;s efficient and elegant, but not as self-evident as some of the other answers.","title":"Last iteration of enhanced for loop in java","body":"<p>Based on java.util.AbstractCollection.toString(), it exits early to avoid the delimiter.</p>\n\n<pre><code>StringBuffer buffer = new StringBuffer();\nIterator iter = s.iterator();\nfor (;;) {\n  buffer.append(iter.next());\n  if (! iter.hasNext())\n    break;\n  buffer.append(delimiter);\n}\n</code></pre>\n\n<p>It's efficient and elegant, but not as self-evident as some of the other answers.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1237638345,"creation_date":1237638345,"answer_id":669221,"question_id":285523,"body_markdown":"Yet another option.\r\n\r\n    StringBuilder builder = new StringBuilder();\r\n    for(int i : array)\r\n        builder.append(&#39;,&#39;).append(i);\r\n    String text = builder.toString();\r\n    if (text.startsWith(&quot;,&quot;)) text=text.substring(1);\r\n\r\n","title":"Last iteration of enhanced for loop in java","body":"<p>Yet another option.</p>\n\n<pre><code>StringBuilder builder = new StringBuilder();\nfor(int i : array)\n    builder.append(',').append(i);\nString text = builder.toString();\nif (text.startsWith(\",\")) text=text.substring(1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16660,"reputation":19988,"user_id":36537,"accept_rate":74,"display_name":"Phil H"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1237638906,"creation_date":1237638906,"answer_id":669233,"question_id":285523,"body_markdown":"This is almost a repeat of [this StackOverflow question][1]. What you want is **StringUtils**, and to call the **join** method.\r\n\r\n    StringUtils.join(strArr, &#39;,&#39;);\r\n\r\n  [1]: https://stackoverflow.com/questions/187676/string-operations-in-java/187738#187738","title":"Last iteration of enhanced for loop in java","body":"<p>This is almost a repeat of <a href=\"https://stackoverflow.com/questions/187676/string-operations-in-java/187738#187738\">this StackOverflow question</a>. What you want is <strong>StringUtils</strong>, and to call the <strong>join</strong> method.</p>\n\n<pre><code>StringUtils.join(strArr, ',');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15307,"reputation":17620,"user_id":32174,"accept_rate":71,"display_name":"Julien Chastang"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1237700142,"creation_date":1237663381,"answer_id":669806,"question_id":285523,"body_markdown":"Many of the solutions described here are a bit over the top, IMHO, especially those that rely on external libraries. There is a nice clean, clear idiom for achieving a comma separated list that I have always used. It relies on the conditional (?) operator:\r\n\r\n**Edit**: Original solution correct, but non-optimal according to comments. Trying a second time:\r\n\r\n        int[] array = {1, 2, 3};\r\n        StringBuilder builder = new StringBuilder();\r\n        for (int i = 0 ;  i &lt; array.length; i++)\r\n               builder.append(i == 0 ? &quot;&quot; : &quot;,&quot;).append(array[i]); \r\n\r\nThere you go, in 4 lines of code including the declaration of the array and the StringBuilder.\r\n","title":"Last iteration of enhanced for loop in java","body":"<p>Many of the solutions described here are a bit over the top, IMHO, especially those that rely on external libraries. There is a nice clean, clear idiom for achieving a comma separated list that I have always used. It relies on the conditional (?) operator:</p>\n\n<p><strong>Edit</strong>: Original solution correct, but non-optimal according to comments. Trying a second time:</p>\n\n<pre><code>    int[] array = {1, 2, 3};\n    StringBuilder builder = new StringBuilder();\n    for (int i = 0 ;  i &lt; array.length; i++)\n           builder.append(i == 0 ? \"\" : \",\").append(array[i]); \n</code></pre>\n\n<p>There you go, in 4 lines of code including the declaration of the array and the StringBuilder.</p>\n"},{"tags":[],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1306220328,"creation_date":1306220328,"answer_id":6106805,"question_id":285523,"body_markdown":"In this case there is really no need to know if it is the last repetition.\r\nThere are many ways we can solve this. One way would be:\r\n\r\n    String del = null;\r\n    for(int i : array)\r\n    {\r\n        if (del != null)\r\n           builder.append(del);\r\n        else\r\n           del = &quot;,&quot;;\r\n        builder.append(i);\r\n    }\r\n","title":"Last iteration of enhanced for loop in java","body":"<p>In this case there is really no need to know if it is the last repetition.\nThere are many ways we can solve this. One way would be:</p>\n\n<pre><code>String del = null;\nfor(int i : array)\n{\n    if (del != null)\n       builder.append(del);\n    else\n       del = \",\";\n    builder.append(i);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":352002,"reputation":3871,"user_id":688843,"accept_rate":87,"display_name":"Buffalo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1406905106,"creation_date":1406905106,"answer_id":25083058,"question_id":285523,"body_markdown":"Here&#39;s a SSCCE benchmark I ran (related to what I had to implement) with these results: \r\n\r\n    elapsed time with checks at every iteration: 12055(ms)\r\n    elapsed time with deletion at the end: 11977(ms)\r\n\r\nOn my example at least, skipping the check at every iteration isn&#39;t noticeably faster especially for sane volumes of data, but it **is** faster.\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    \r\n    public class TestCommas {\r\n    \r\n      public static String GetUrlsIn(int aProjectID, List&lt;String&gt; aUrls, boolean aPreferChecks)\r\n      {\r\n    \r\n        if (aPreferChecks) {\r\n        \r\n          StringBuffer sql = new StringBuffer(&quot;select * from mytable_&quot; + aProjectID + &quot; WHERE hash IN &quot;);\r\n        \r\n          StringBuffer inHashes = new StringBuffer(&quot;(&quot;);\r\n          StringBuffer inURLs = new StringBuffer(&quot;(&quot;);\r\n          \r\n          if (aUrls.size() &gt; 0)\r\n          {\r\n        \r\n          for (String url : aUrls)\r\n          {\r\n        \r\n            if (inHashes.length() &gt; 0) {\r\n            inHashes.append(&quot;,&quot;);\r\n            inURLs.append(&quot;,&quot;);\r\n            }\r\n            \r\n            inHashes.append(url.hashCode());\r\n        \r\n            inURLs.append(&quot;\\&quot;&quot;).append(url.replace(&quot;\\&quot;&quot;, &quot;\\\\\\&quot;&quot;)).append(&quot;\\&quot;&quot;);//.append(&quot;,&quot;);\r\n            \r\n          }\r\n        \r\n          }\r\n          \r\n          inHashes.append(&quot;)&quot;);\r\n          inURLs.append(&quot;)&quot;);\r\n          \r\n          return sql.append(inHashes).append(&quot; AND url IN &quot;).append(inURLs).toString();\r\n        }\r\n        \r\n        else {\r\n          \r\n          StringBuffer sql = new StringBuffer(&quot;select * from mytable&quot; + aProjectID + &quot; WHERE hash IN &quot;);\r\n        \r\n          StringBuffer inHashes = new StringBuffer(&quot;(&quot;);\r\n          StringBuffer inURLs = new StringBuffer(&quot;(&quot;);\r\n          \r\n          if (aUrls.size() &gt; 0)\r\n          {\r\n        \r\n          for (String url : aUrls)\r\n          {\r\n            inHashes.append(url.hashCode()).append(&quot;,&quot;); \r\n        \r\n            inURLs.append(&quot;\\&quot;&quot;).append(url.replace(&quot;\\&quot;&quot;, &quot;\\\\\\&quot;&quot;)).append(&quot;\\&quot;&quot;).append(&quot;,&quot;);\r\n          }\r\n        \r\n          }\r\n        \r\n          inHashes.deleteCharAt(inHashes.length()-1);\r\n          inURLs.deleteCharAt(inURLs.length()-1);\r\n          \r\n          inHashes.append(&quot;)&quot;);\r\n          inURLs.append(&quot;)&quot;);\r\n          \r\n          return sql.append(inHashes).append(&quot; AND url IN &quot;).append(inURLs).toString();\r\n        }\r\n    \r\n      }\r\n      \r\n      public static void main(String[] args) { \r\n            List&lt;String&gt; urls = new ArrayList&lt;String&gt;();\r\n        \r\n        for (int i = 0; i &lt; 10000; i++) {\r\n          urls.add(&quot;http://www.google.com/&quot; + System.currentTimeMillis());\r\n          urls.add(&quot;http://www.yahoo.com/&quot; + System.currentTimeMillis());\r\n          urls.add(&quot;http://www.bing.com/&quot; + System.currentTimeMillis());\r\n        }\r\n        \r\n        \r\n        long startTime = System.currentTimeMillis();\r\n        for (int i = 0; i &lt; 300; i++) {\r\n          GetUrlsIn(5, urls, true);\r\n        }\r\n        long endTime = System.currentTimeMillis();\r\n        System.out.println(&quot;elapsed time with checks at every iteration: &quot; + (endTime-startTime) + &quot;(ms)&quot;);\r\n    \r\n        startTime = System.currentTimeMillis();\r\n        for (int i = 0; i &lt; 300; i++) {\r\n          GetUrlsIn(5, urls, false);\r\n        }\r\n        endTime = System.currentTimeMillis();\r\n        System.out.println(&quot;elapsed time with deletion at the end: &quot; + (endTime-startTime) + &quot;(ms)&quot;);\r\n      }\r\n    }","title":"Last iteration of enhanced for loop in java","body":"<p>Here's a SSCCE benchmark I ran (related to what I had to implement) with these results: </p>\n\n<pre><code>elapsed time with checks at every iteration: 12055(ms)\nelapsed time with deletion at the end: 11977(ms)\n</code></pre>\n\n<p>On my example at least, skipping the check at every iteration isn't noticeably faster especially for sane volumes of data, but it <strong>is</strong> faster.</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.List;\n\n\npublic class TestCommas {\n\n  public static String GetUrlsIn(int aProjectID, List&lt;String&gt; aUrls, boolean aPreferChecks)\n  {\n\n    if (aPreferChecks) {\n\n      StringBuffer sql = new StringBuffer(\"select * from mytable_\" + aProjectID + \" WHERE hash IN \");\n\n      StringBuffer inHashes = new StringBuffer(\"(\");\n      StringBuffer inURLs = new StringBuffer(\"(\");\n\n      if (aUrls.size() &gt; 0)\n      {\n\n      for (String url : aUrls)\n      {\n\n        if (inHashes.length() &gt; 0) {\n        inHashes.append(\",\");\n        inURLs.append(\",\");\n        }\n\n        inHashes.append(url.hashCode());\n\n        inURLs.append(\"\\\"\").append(url.replace(\"\\\"\", \"\\\\\\\"\")).append(\"\\\"\");//.append(\",\");\n\n      }\n\n      }\n\n      inHashes.append(\")\");\n      inURLs.append(\")\");\n\n      return sql.append(inHashes).append(\" AND url IN \").append(inURLs).toString();\n    }\n\n    else {\n\n      StringBuffer sql = new StringBuffer(\"select * from mytable\" + aProjectID + \" WHERE hash IN \");\n\n      StringBuffer inHashes = new StringBuffer(\"(\");\n      StringBuffer inURLs = new StringBuffer(\"(\");\n\n      if (aUrls.size() &gt; 0)\n      {\n\n      for (String url : aUrls)\n      {\n        inHashes.append(url.hashCode()).append(\",\"); \n\n        inURLs.append(\"\\\"\").append(url.replace(\"\\\"\", \"\\\\\\\"\")).append(\"\\\"\").append(\",\");\n      }\n\n      }\n\n      inHashes.deleteCharAt(inHashes.length()-1);\n      inURLs.deleteCharAt(inURLs.length()-1);\n\n      inHashes.append(\")\");\n      inURLs.append(\")\");\n\n      return sql.append(inHashes).append(\" AND url IN \").append(inURLs).toString();\n    }\n\n  }\n\n  public static void main(String[] args) { \n        List&lt;String&gt; urls = new ArrayList&lt;String&gt;();\n\n    for (int i = 0; i &lt; 10000; i++) {\n      urls.add(\"http://www.google.com/\" + System.currentTimeMillis());\n      urls.add(\"http://www.yahoo.com/\" + System.currentTimeMillis());\n      urls.add(\"http://www.bing.com/\" + System.currentTimeMillis());\n    }\n\n\n    long startTime = System.currentTimeMillis();\n    for (int i = 0; i &lt; 300; i++) {\n      GetUrlsIn(5, urls, true);\n    }\n    long endTime = System.currentTimeMillis();\n    System.out.println(\"elapsed time with checks at every iteration: \" + (endTime-startTime) + \"(ms)\");\n\n    startTime = System.currentTimeMillis();\n    for (int i = 0; i &lt; 300; i++) {\n      GetUrlsIn(5, urls, false);\n    }\n    endTime = System.currentTimeMillis();\n    System.out.println(\"elapsed time with deletion at the end: \" + (endTime-startTime) + \"(ms)\");\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3021686,"reputation":379,"user_id":2562562,"display_name":"b1tw153"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1478827490,"creation_date":1478827490,"answer_id":40539794,"question_id":285523,"body_markdown":"As toolkit mentioned, in Java 8 we now have [Collectors][1]. Here&#39;s what the code would look like:\r\n\r\n    String joined = array.stream().map(Object::toString).collect(Collectors.joining(&quot;, &quot;));\r\n\r\nI think that does exactly what you&#39;re looking for, and it&#39;s a pattern you could use for many other things.\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html","title":"Last iteration of enhanced for loop in java","body":"<p>As toolkit mentioned, in Java 8 we now have <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html\" rel=\"noreferrer\">Collectors</a>. Here's what the code would look like:</p>\n\n<pre><code>String joined = array.stream().map(Object::toString).collect(Collectors.joining(\", \"));\n</code></pre>\n\n<p>I think that does exactly what you're looking for, and it's a pattern you could use for many other things.</p>\n"},{"tags":[],"owner":{"account_id":1100048,"reputation":1008,"user_id":1092670,"accept_rate":93,"display_name":"AnthonyJClink"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1497495350,"creation_date":1497495350,"answer_id":44557769,"question_id":285523,"body_markdown":"Since its a fixed array, it would be easier simply to avoid the enhanced for... If the Object is a collection an iterator would be easier.\r\n\r\n\r\n    int nums[] = getNumbersArray();\r\n    StringBuilder builder = new StringBuilder();\r\n\r\n    // non enhanced version\r\n    for(int i = 0; i &lt; nums.length; i++){\r\n       builder.append(nums[i]);\r\n       if(i &lt; nums.length - 1){\r\n           builder.append(&quot;,&quot;);\r\n       }   \r\n    }\r\n\r\n    //using iterator\r\n    Iterator&lt;int&gt; numIter = Arrays.asList(nums).iterator();\r\n\r\n    while(numIter.hasNext()){\r\n       int num = numIter.next();\r\n       builder.append(num);\r\n       if(numIter.hasNext()){\r\n          builder.append(&quot;,&quot;);\r\n       }\r\n    }\r\n","title":"Last iteration of enhanced for loop in java","body":"<p>Since its a fixed array, it would be easier simply to avoid the enhanced for... If the Object is a collection an iterator would be easier.</p>\n\n<pre><code>int nums[] = getNumbersArray();\nStringBuilder builder = new StringBuilder();\n\n// non enhanced version\nfor(int i = 0; i &lt; nums.length; i++){\n   builder.append(nums[i]);\n   if(i &lt; nums.length - 1){\n       builder.append(\",\");\n   }   \n}\n\n//using iterator\nIterator&lt;int&gt; numIter = Arrays.asList(nums).iterator();\n\nwhile(numIter.hasNext()){\n   int num = numIter.next();\n   builder.append(num);\n   if(numIter.hasNext()){\n      builder.append(\",\");\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4008309,"reputation":3678,"user_id":3302424,"accept_rate":70,"display_name":"Hari Krishna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636541453,"creation_date":1636541453,"answer_id":69911951,"question_id":285523,"body_markdown":"You can use [StringJoiner][1].\r\n\r\n    int[] array = { 1, 2, 3 };\r\n    StringJoiner stringJoiner = new StringJoiner(&quot;,&quot;);\r\n    \r\n    for (int i : array) {\r\n    \tstringJoiner.add(String.valueOf(i));\r\n    }\r\n    \r\n    System.out.println(stringJoiner);\r\n\r\n\r\n  [1]: https://self-learning-java-tutorial.blogspot.com/2015/12/stringjoiner-class.html","title":"Last iteration of enhanced for loop in java","body":"<p>You can use <a href=\"https://self-learning-java-tutorial.blogspot.com/2015/12/stringjoiner-class.html\" rel=\"nofollow noreferrer\">StringJoiner</a>.</p>\n<pre><code>int[] array = { 1, 2, 3 };\nStringJoiner stringJoiner = new StringJoiner(&quot;,&quot;);\n\nfor (int i : array) {\n    stringJoiner.add(String.valueOf(i));\n}\n\nSystem.out.println(stringJoiner);\n</code></pre>\n"}],"owner":{"account_id":16763,"reputation":3228,"user_id":36858,"accept_rate":67,"display_name":"Mercurious"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84089,"favorite_count":0,"down_vote_count":1,"up_vote_count":148,"answer_count":22,"score":147,"last_activity_date":1636541453,"creation_date":1226526983,"question_id":285523,"body_markdown":"Is there a way to determine if the loop is iterating for the last time. My code looks something like this:\r\n\r\n    int[] array = {1, 2, 3...};\r\n    StringBuilder builder = new StringBuilder();\r\n    \r\n    for(int i : array)\r\n    {\r\n        builder.append(&quot;&quot; + i);\r\n        if(!lastiteration)\r\n            builder.append(&quot;,&quot;);\r\n    }\r\n\r\nNow the thing is I don&#39;t want to append the comma in the last iteration. Now is there a way to determine if it is the last iteration or am I stuck with the for loop or using an external counter to keep track.","title":"Last iteration of enhanced for loop in java","body":"<p>Is there a way to determine if the loop is iterating for the last time. My code looks something like this:</p>\n\n<pre><code>int[] array = {1, 2, 3...};\nStringBuilder builder = new StringBuilder();\n\nfor(int i : array)\n{\n    builder.append(\"\" + i);\n    if(!lastiteration)\n        builder.append(\",\");\n}\n</code></pre>\n\n<p>Now the thing is I don't want to append the comma in the last iteration. Now is there a way to determine if it is the last iteration or am I stuck with the for loop or using an external counter to keep track.</p>\n"},{"tags":["java","spring-boot","hibernate"],"answers":[{"tags":[],"owner":{"account_id":15180324,"reputation":1,"user_id":10953763,"display_name":"Mounika Bollampalli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636526999,"creation_date":1636526999,"answer_id":69908908,"question_id":69908606,"body_markdown":".saveOrUpdate() method you can use it\r\n\r\n-Calls either save() or update() on the basis of identifier exists or not. e.g if identifier exists, update() will be called or else save() will be called.","title":"@OneToOne mapping delete then insert instead of updating","body":"<p>.saveOrUpdate() method you can use it</p>\n<p>-Calls either save() or update() on the basis of identifier exists or not. e.g if identifier exists, update() will be called or else save() will be called.</p>\n"},{"tags":[],"owner":{"account_id":11026225,"reputation":41,"user_id":8099064,"display_name":"ironside"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636541219,"creation_date":1636541219,"answer_id":69911891,"question_id":69908606,"body_markdown":"Move @JoinColumn on StudentClub entity \r\n\r\n    @Entity\r\n    @Table(name = &quot;STUDENT&quot;)\r\n    public class StudentEntity {\r\n        @Id\r\n        @SequenceGenerator(name = &quot;StudentGen&quot;, sequenceName = &quot;STUDENT_SEQ&quot;, allocationSize = 1)\r\n        @GeneratedValue(generator = &quot;StudentGen&quot;, strategy = GenerationType.SEQUENCE)\r\n        @Column(name = &quot;ID&quot;, unique = true)\r\n        protected Long id;\r\n    \r\n        @OneToOne(fetch = FetchType.LAZY, cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REMOVE})\r\n        @JoinColumn(name = &quot;CLUB&quot;)\r\n        public StudentClubEntity club;\r\n    }\r\n\r\n\r\n    @Entity\r\n    @Table(name = &quot;STUDENT_CLUB&quot;)\r\n    public class StudentClubEntity {\r\n        @Id\r\n        @SequenceGenerator(name = &quot;StudentClubGen&quot;, sequenceName = &quot;STUDENT_CLUB_SEQ&quot;, allocationSize = 1)\r\n        @GeneratedValue(generator = &quot;StudentClubGen&quot;, strategy = GenerationType.SEQUENCE)\r\n        @Column(name = &quot;ID&quot;, unique = true)\r\n        protected Long id;\r\n    \r\n    \r\n        @Column(name = &quot;NAME&quot;)\r\n        public String name = &quot;&quot;;\r\n    \r\n        @OneToOne(fetch = FetchType.LAZY)\r\n        public StudentEntity student;\r\n    }\r\n\r\nTry to test ...\r\n\r\n    @Test\r\n    public void test() {\r\n        System.out.println(&quot;test&quot;);\r\n\r\n        StudentEntity student = new StudentEntity();\r\n        StudentClubEntity club = new StudentClubEntity();\r\n\r\n        student.club = club;\r\n\r\n        System.out.println(&quot;*****************************&quot;);\r\n        student = studentRepository.saveAndFlush(student);\r\n\r\n        student.club.name = &quot;NEW NAME&quot;;\r\n        student = studentRepository.saveAndFlush(student);\r\n\r\n        System.out.println(&quot;*****************************&quot;);\r\n    }\r\n\r\nResult\r\n\r\n    *****************************\r\n    Hibernate: call next value for student_seq\r\n    Hibernate: call next value for student_club_seq\r\n    Hibernate: insert into student_club (name, student_id, id) values (?, ?, ?)\r\n    Hibernate: insert into student (club, id) values (?, ?)\r\n    Hibernate: update student_club set name=?, student_id=? where id=?\r\n    *****************************","title":"@OneToOne mapping delete then insert instead of updating","body":"<p>Move @JoinColumn on StudentClub entity</p>\n<pre><code>@Entity\n@Table(name = &quot;STUDENT&quot;)\npublic class StudentEntity {\n    @Id\n    @SequenceGenerator(name = &quot;StudentGen&quot;, sequenceName = &quot;STUDENT_SEQ&quot;, allocationSize = 1)\n    @GeneratedValue(generator = &quot;StudentGen&quot;, strategy = GenerationType.SEQUENCE)\n    @Column(name = &quot;ID&quot;, unique = true)\n    protected Long id;\n\n    @OneToOne(fetch = FetchType.LAZY, cascade = {CascadeType.PERSIST, CascadeType.MERGE, CascadeType.REMOVE})\n    @JoinColumn(name = &quot;CLUB&quot;)\n    public StudentClubEntity club;\n}\n\n\n@Entity\n@Table(name = &quot;STUDENT_CLUB&quot;)\npublic class StudentClubEntity {\n    @Id\n    @SequenceGenerator(name = &quot;StudentClubGen&quot;, sequenceName = &quot;STUDENT_CLUB_SEQ&quot;, allocationSize = 1)\n    @GeneratedValue(generator = &quot;StudentClubGen&quot;, strategy = GenerationType.SEQUENCE)\n    @Column(name = &quot;ID&quot;, unique = true)\n    protected Long id;\n\n\n    @Column(name = &quot;NAME&quot;)\n    public String name = &quot;&quot;;\n\n    @OneToOne(fetch = FetchType.LAZY)\n    public StudentEntity student;\n}\n</code></pre>\n<p>Try to test ...</p>\n<pre><code>@Test\npublic void test() {\n    System.out.println(&quot;test&quot;);\n\n    StudentEntity student = new StudentEntity();\n    StudentClubEntity club = new StudentClubEntity();\n\n    student.club = club;\n\n    System.out.println(&quot;*****************************&quot;);\n    student = studentRepository.saveAndFlush(student);\n\n    student.club.name = &quot;NEW NAME&quot;;\n    student = studentRepository.saveAndFlush(student);\n\n    System.out.println(&quot;*****************************&quot;);\n}\n</code></pre>\n<p>Result</p>\n<pre><code>*****************************\nHibernate: call next value for student_seq\nHibernate: call next value for student_club_seq\nHibernate: insert into student_club (name, student_id, id) values (?, ?, ?)\nHibernate: insert into student (club, id) values (?, ?)\nHibernate: update student_club set name=?, student_id=? where id=?\n*****************************\n</code></pre>\n"}],"owner":{"account_id":17715265,"reputation":35,"user_id":12861752,"display_name":"Capmu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":326,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1636541219,"creation_date":1636524597,"question_id":69908606,"body_markdown":"I&#39;ve written some spring boot entities that have one-to-one relations inside. For example:\r\n\r\n`Student` Entity\r\n```\r\n@OneToOne(cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY, mappedBy = &quot;student&quot;)\r\nprivate StudentClub studenttClub;\r\n```\r\n`StudentClub` Entity\r\n```\r\n@OneToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\r\n@JoinColumn(name = &quot;student_id&quot;, insertable = false, updatable = false)\r\nprivate Student student;\r\n```\r\nWhen I try to update some student club information (i.e. club_code) by using `.save` of the `Student` repository, it deletes then inserts the updated data.\r\n\r\n&gt; Hibernate: delete from student_club where club_code=? and student_id=?\r\n&gt;\r\n&gt; Hibernate: insert into student_club (club_code, student_id) values (?,?)\r\n\r\nCan we make it done by only 1 statement for example like\r\n&gt; Hibernate: update ...\r\n\r\n\r\n","title":"@OneToOne mapping delete then insert instead of updating","body":"<p>I've written some spring boot entities that have one-to-one relations inside. For example:</p>\n<p><code>Student</code> Entity</p>\n<pre><code>@OneToOne(cascade = CascadeType.ALL, orphanRemoval = true, fetch = FetchType.LAZY, mappedBy = &quot;student&quot;)\nprivate StudentClub studenttClub;\n</code></pre>\n<p><code>StudentClub</code> Entity</p>\n<pre><code>@OneToOne(cascade = CascadeType.ALL, fetch = FetchType.LAZY)\n@JoinColumn(name = &quot;student_id&quot;, insertable = false, updatable = false)\nprivate Student student;\n</code></pre>\n<p>When I try to update some student club information (i.e. club_code) by using <code>.save</code> of the <code>Student</code> repository, it deletes then inserts the updated data.</p>\n<blockquote>\n<p>Hibernate: delete from student_club where club_code=? and student_id=?</p>\n<p>Hibernate: insert into student_club (club_code, student_id) values (?,?)</p>\n</blockquote>\n<p>Can we make it done by only 1 statement for example like</p>\n<blockquote>\n<p>Hibernate: update ...</p>\n</blockquote>\n"},{"tags":["java","xml","jaxb","moxy"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1636445587,"post_id":69854658,"comment_id":123552067,"body_markdown":"Looks like a MOXy bug.","body":"Looks like a MOXy bug."},{"owner":{"account_id":1110483,"reputation":1683,"user_id":1101040,"accept_rate":58,"display_name":"AweSIM"},"score":0,"creation_date":1636469059,"post_id":69854658,"comment_id":123561678,"body_markdown":"@Olivier Sure seems like that to me. But I doubt it should be so, given that Moxy has been in the works for so long and surely someone would&#39;ve stumbled across this long before I did. :(","body":"@Olivier Sure seems like that to me. But I doubt it should be so, given that Moxy has been in the works for so long and surely someone would&#39;ve stumbled across this long before I did. :("}],"answers":[{"tags":[],"owner":{"account_id":23067373,"reputation":640,"user_id":17181638,"display_name":"3Fish"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636540905,"creation_date":1636474820,"answer_id":69901587,"question_id":69854658,"body_markdown":"How about using `@XmlAnyAttribute` with a Map&lt;String,Object&gt;. That should put all attributes that are not accounted for into the map. \r\n\r\n``` java \r\nclass Element {\r\n    @XmlAnyAttribute private Map&lt;String,String&gt; attributes;\r\n    @XmlElement(name = &quot;element&quot;) List&lt;Element&gt; children;\r\n}\r\n``` \r\nUsing it like `element.attributes.get(&quot;name)`\r\n\r\nAlternatively, you could extend a common `Attributes` class.\r\nThese would look in the XML just as if they are in the Element class.\r\n``` java\r\npublic class Attributes {\r\n\r\n    @XmlAttribute\r\n    private String name;\r\n\r\n    @XmlAttribute\r\n    private String bounds;\r\n}\r\n```\r\nand\r\n``` java\r\nclass Element extends Attributes {\r\n\r\n    @XmlElement(name = &quot;element&quot;)\r\n    List&lt;Element&gt; children;\r\n}\r\n```","title":"Moxy Xpath :: &quot;Lifting&quot; attributes","body":"<p>How about using <code>@XmlAnyAttribute</code> with a Map&lt;String,Object&gt;. That should put all attributes that are not accounted for into the map.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Element {\n    @XmlAnyAttribute private Map&lt;String,String&gt; attributes;\n    @XmlElement(name = &quot;element&quot;) List&lt;Element&gt; children;\n}\n</code></pre>\n<p>Using it like <code>element.attributes.get(&quot;name)</code></p>\n<p>Alternatively, you could extend a common <code>Attributes</code> class.\nThese would look in the XML just as if they are in the Element class.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Attributes {\n\n    @XmlAttribute\n    private String name;\n\n    @XmlAttribute\n    private String bounds;\n}\n</code></pre>\n<p>and</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Element extends Attributes {\n\n    @XmlElement(name = &quot;element&quot;)\n    List&lt;Element&gt; children;\n}\n</code></pre>\n"}],"owner":{"account_id":1110483,"reputation":1683,"user_id":1101040,"accept_rate":58,"display_name":"AweSIM"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1636540905,"creation_date":1636121774,"question_id":69854658,"body_markdown":"I have an XML representing a hierarchical DOM where each element is an `&lt;element ...&gt;` with zero or more children each. Each `&lt;element&gt;` has a ton of attributes and I don&#39;t want to litter the `Element` class with all those attributes, given it has a bunch of its own methods too.\r\n\r\nThe first draft of `Element` class was as follows. This works flawlessly:\r\n\r\n```java\r\nclass Element {\r\n\r\n    @XmlAttribute private String name;\r\n    @XmlAttribute private String bounds;\r\n    // A whole bunch of other attributes\r\n    @XmlElement(name = &quot;element&quot;) List&lt;Element&gt; children;\r\n    // A whole bunch of other methods\r\n\r\n}\r\n```\r\n\r\nI tried to improve this by:\r\n```java\r\nclass Element {\r\n\r\n    @XmlPath(&quot;.&quot;) private Attributes attributes;\r\n    @XmlElement(name = &quot;element&quot;) List&lt;Element&gt; children;\r\n    // A whole bunch of other methods\r\n\r\n}\r\n\r\nclass Attributes {\r\n\r\n    @XmlAttribute private String name;\r\n    @XmlAttribute private String bounds;\r\n    // A whole bunch of other attributes\r\n\r\n}\r\n```\r\n\r\nThis seems to work fine, however, it actually messes up data upon closer inspection. If I input the following XML:\r\n\r\n```xml\r\n&lt;element name=&quot;Hello&quot; bounds=&quot;[0,0][1,1]&quot;&gt;\r\n  &lt;element name=&quot;World&quot; bounds=&quot;[1,1][2,2]&quot;&gt;\r\n    &lt;element name=&quot;Testing&quot; bounds=&quot;[2,2][3,3]&quot;&gt;\r\n      &lt;element name=&quot;One two three&quot; bounds=&quot;[3,3][4,4]&quot; /&gt;\r\n    &lt;/element&gt;\r\n  &lt;/element&gt;\r\n&lt;/element&gt;\r\n```\r\n\r\nThe unmarshalled object has the following structure/properties:\r\n```\r\n+ [Element]\r\n   - name = &quot;World&quot;\r\n   - bounds = &quot;[1,1][2,2]&quot;\r\n   + children[0]\r\n      - name = &quot;Testing&quot;\r\n      - bounds = &quot;[2,2][3,3]&quot;\r\n      + children[0]\r\n        - name = &quot;One two three&quot;\r\n        - bounds = &quot;[3,3][4,4]&quot;\r\n        + children[0]\r\n          - name = &quot;One two three&quot;\r\n          - bounds = &quot;[3,3][4,4]&quot;\r\n          - children = null\r\n```\r\n\r\nMy assumption was that `XPath(&quot;.&quot;)` would &quot;lift&quot; the attributes of the `Attributes` class to the parent `Element` class. But in fact it is lifting those attributes two levels upwards.\r\n\r\nWhen I construct the `Element` hierarchy manually, then try to marshall it, the resulting XML is just fine. It is just the unmarshalling that is producing the incorrect object.\r\n\r\nAm I using `XPath` incorrectly here? I have a working solution by including all attributes directly within the `Element` class, but I just wanted to group those attributes into a separate class and marshall/unmarshall them to the container `Element` class.\r\n\r\nThanks!\r\nAsim","title":"Moxy Xpath :: &quot;Lifting&quot; attributes","body":"<p>I have an XML representing a hierarchical DOM where each element is an <code>&lt;element ...&gt;</code> with zero or more children each. Each <code>&lt;element&gt;</code> has a ton of attributes and I don't want to litter the <code>Element</code> class with all those attributes, given it has a bunch of its own methods too.</p>\n<p>The first draft of <code>Element</code> class was as follows. This works flawlessly:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Element {\n\n    @XmlAttribute private String name;\n    @XmlAttribute private String bounds;\n    // A whole bunch of other attributes\n    @XmlElement(name = &quot;element&quot;) List&lt;Element&gt; children;\n    // A whole bunch of other methods\n\n}\n</code></pre>\n<p>I tried to improve this by:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Element {\n\n    @XmlPath(&quot;.&quot;) private Attributes attributes;\n    @XmlElement(name = &quot;element&quot;) List&lt;Element&gt; children;\n    // A whole bunch of other methods\n\n}\n\nclass Attributes {\n\n    @XmlAttribute private String name;\n    @XmlAttribute private String bounds;\n    // A whole bunch of other attributes\n\n}\n</code></pre>\n<p>This seems to work fine, however, it actually messes up data upon closer inspection. If I input the following XML:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;element name=&quot;Hello&quot; bounds=&quot;[0,0][1,1]&quot;&gt;\n  &lt;element name=&quot;World&quot; bounds=&quot;[1,1][2,2]&quot;&gt;\n    &lt;element name=&quot;Testing&quot; bounds=&quot;[2,2][3,3]&quot;&gt;\n      &lt;element name=&quot;One two three&quot; bounds=&quot;[3,3][4,4]&quot; /&gt;\n    &lt;/element&gt;\n  &lt;/element&gt;\n&lt;/element&gt;\n</code></pre>\n<p>The unmarshalled object has the following structure/properties:</p>\n<pre><code>+ [Element]\n   - name = &quot;World&quot;\n   - bounds = &quot;[1,1][2,2]&quot;\n   + children[0]\n      - name = &quot;Testing&quot;\n      - bounds = &quot;[2,2][3,3]&quot;\n      + children[0]\n        - name = &quot;One two three&quot;\n        - bounds = &quot;[3,3][4,4]&quot;\n        + children[0]\n          - name = &quot;One two three&quot;\n          - bounds = &quot;[3,3][4,4]&quot;\n          - children = null\n</code></pre>\n<p>My assumption was that <code>XPath(&quot;.&quot;)</code> would &quot;lift&quot; the attributes of the <code>Attributes</code> class to the parent <code>Element</code> class. But in fact it is lifting those attributes two levels upwards.</p>\n<p>When I construct the <code>Element</code> hierarchy manually, then try to marshall it, the resulting XML is just fine. It is just the unmarshalling that is producing the incorrect object.</p>\n<p>Am I using <code>XPath</code> incorrectly here? I have a working solution by including all attributes directly within the <code>Element</code> class, but I just wanted to group those attributes into a separate class and marshall/unmarshall them to the container <code>Element</code> class.</p>\n<p>Thanks!\nAsim</p>\n"},{"tags":["java","methods","char","hex"],"comments":[{"owner":{"account_id":50598,"reputation":32356,"user_id":151019,"accept_rate":83,"display_name":"mmmmmm"},"score":0,"creation_date":1322740435,"post_id":4477714,"comment_id":10285092,"body_markdown":"possible duplicate of [Performance question: Fastest way to convert hexadecimal char to its number value in Java?](http://stackoverflow.com/questions/221001/performance-question-fastest-way-to-convert-hexadecimal-char-to-its-number-valu)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/221001/performance-question-fastest-way-to-convert-hexadecimal-char-to-its-number-valu\">Performance question: Fastest way to convert hexadecimal char to its number value in Java?</a>"}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1292699568,"creation_date":1292670729,"answer_id":4477789,"question_id":4477714,"body_markdown":"You can convert from char to hex string.\r\n\r\n    char ch = \r\n    String hex = String.format(&quot;%04x&quot;, (int) ch);\r\n\r\nTo read hex and convert to binary you can do\r\n\r\n    int num = Integer.parseInt(text, 16);\r\n    String bin = Integer.toString(num, 2);\r\n","title":"How to convert a char from an alphabetical character to a hexadecimal number in Java?","body":"<p>You can convert from char to hex string.</p>\n\n<pre><code>char ch = \nString hex = String.format(\"%04x\", (int) ch);\n</code></pre>\n\n<p>To read hex and convert to binary you can do</p>\n\n<pre><code>int num = Integer.parseInt(text, 16);\nString bin = Integer.toString(num, 2);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20450,"reputation":1040,"user_id":48891,"accept_rate":100,"display_name":"Jim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1292671064,"creation_date":1292671064,"answer_id":4477800,"question_id":4477714,"body_markdown":"Use the [apache commons codec library][1]\r\n\r\nSpecifically:\r\nhttp://commons.apache.org/codec/apidocs/org/apache/commons/codec/binary/Hex.html\r\n\r\n\r\n  [1]: http://commons.apache.org/codec/","title":"How to convert a char from an alphabetical character to a hexadecimal number in Java?","body":"<p>Use the <a href=\"http://commons.apache.org/codec/\" rel=\"nofollow\">apache commons codec library</a></p>\n\n<p>Specifically:\n<a href=\"http://commons.apache.org/codec/apidocs/org/apache/commons/codec/binary/Hex.html\" rel=\"nofollow\">http://commons.apache.org/codec/apidocs/org/apache/commons/codec/binary/Hex.html</a></p>\n"},{"tags":[],"owner":{"account_id":246313,"reputation":10189,"user_id":520394,"display_name":"barti_ddu"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1292674243,"creation_date":1292673312,"answer_id":4477918,"question_id":4477714,"body_markdown":"You could use:\r\n\r\n    Integer.toHexString((int) &#39;a&#39;);\r\n    Integer.toBinaryString((int) &#39;b&#39;);\r\n\r\nUpdate: hex -&gt; binary conversion:\r\n\r\n    Integer.toBinaryString(Integer.parseInt(&quot;fa&quot;, 16))","title":"How to convert a char from an alphabetical character to a hexadecimal number in Java?","body":"<p>You could use:</p>\n\n<pre><code>Integer.toHexString((int) 'a');\nInteger.toBinaryString((int) 'b');\n</code></pre>\n\n<p>Update: hex -> binary conversion:</p>\n\n<pre><code>Integer.toBinaryString(Integer.parseInt(\"fa\", 16))\n</code></pre>\n"}],"owner":{"account_id":686287,"reputation":467,"user_id":546924,"accept_rate":0,"display_name":"Cooper"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66689,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"answer_count":3,"score":22,"last_activity_date":1636540884,"creation_date":1292669276,"question_id":4477714,"body_markdown":"How do I convert a char from an alphabetical character to hexadecimal number in Java? If any one knows any built-in methods in Java that does the job or if you have your own method, could you please help?\r\n\r\nAlso, how would I convert from hex to binary?\r\n\r\n","title":"How to convert a char from an alphabetical character to a hexadecimal number in Java?","body":"<p>How do I convert a char from an alphabetical character to hexadecimal number in Java? If any one knows any built-in methods in Java that does the job or if you have your own method, could you please help?</p>\n<p>Also, how would I convert from hex to binary?</p>\n"},{"tags":["java","jakarta-mail"],"owner":{"account_id":2911375,"reputation":255,"user_id":2495495,"accept_rate":75,"display_name":"Christian Ibanibo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":589,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1636540339,"creation_date":1636540339,"question_id":69911691,"body_markdown":"I am reading mails from my inbox using javamail with spring boot, which is successful. But when i added dsn to my maven which is used for parsing and creating messages containing Delivery Status Notifications, i started having error messages when it&#39;s about to read a failed delivery mail from my mail server but if the mail is not a failed one it will read it except the failed mail.\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-integration-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;dsn&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nthis is the error i keep getting\r\n\r\n    2021-11-10 10:59:11.195 ERROR 6420 --- [   scheduling-1] o.s.integration.handler.LoggingHandler   : java.lang.NoClassDefFoundError: jakarta/activation/DataContentHandler\r\n\tat java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n\tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\r\n\tat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\tat java.base/java.lang.Class.forName0(Native Method)\r\n\tat java.base/java.lang.Class.forName(Class.java:467)\r\n\tat org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:145)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\tat javax.activation.MailcapCommandMap.getDataContentHandler(MailcapCommandMap.java:595)\r\n\tat javax.activation.MailcapCommandMap.createDataContentHandler(MailcapCommandMap.java:555)\r\n\tat javax.activation.CommandMap.createDataContentHandler(CommandMap.java:205)\r\n\tat javax.activation.DataHandler.getDataContentHandler(DataHandler.java:597)\r\n\tat javax.activation.DataHandler.getContent(DataHandler.java:524)\r\n\tat javax.mail.internet.MimeMessage.getContent(MimeMessage.java:1484)\r\n\tat org.apache.commons.mail.util.MimeMessageParser.parse(MimeMessageParser.java:194)\r\n\tat org.apache.commons.mail.util.MimeMessageParser.parse(MimeMessageParser.java:95)\r\n\tat org.cpa.churchms.mail.ProcessInboxMail.extractMail(ProcessInboxMail.java:152)\r\n\tat org.cpa.churchms.mail.ProcessInboxMail.lambda$0(ProcessInboxMail.java:111)\r\n\tat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)\r\n\tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n\tat org.cpa.churchms.mail.ProcessInboxMail.handleInboxMail(ProcessInboxMail.java:110)\r\n\tat org.cpa.churchms.config.MailConfig$1.handleMessage(MailConfig.java:93)\r\n\tat org.springframework.integration.handler.ReplyProducingMessageHandlerWrapper.handleRequestMessage(ReplyProducingMessageHandlerWrapper.java:59)\r\n\tat org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:136)\r\n\tat org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:56)\r\n\tat org.springframework.integration.endpoint.PollingConsumer.handleMessage(PollingConsumer.java:158)\r\n\tat org.springframework.integration.endpoint.AbstractPollingEndpoint.messageReceived(AbstractPollingEndpoint.java:475)\r\n\tat org.springframework.integration.endpoint.AbstractPollingEndpoint.doPoll(AbstractPollingEndpoint.java:461)\r\n\tat org.springframework.integration.endpoint.AbstractPollingEndpoint.pollForMessage(AbstractPollingEndpoint.java:413)\r\n\tat org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$4(AbstractPollingEndpoint.java:348)\r\n\tat org.springframework.integration.util.ErrorHandlingTaskExecutor.lambda$execute$0(ErrorHandlingTaskExecutor.java:57)\r\n\tat org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\r\n\tat org.springframework.integration.util.ErrorHandlingTaskExecutor.execute(ErrorHandlingTaskExecutor.java:55)\r\n\tat org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$5(AbstractPollingEndpoint.java:341)\r\n\tat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\r\n\tat org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)\r\n\tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n\tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n\tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n\tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: java.lang.ClassNotFoundException: jakarta.activation.DataContentHandler\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\r\n\t... 47 more\r\n\r\ni added a lower version of the dsn to my maven\r\n\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;dsn&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\ni still had the same error. I added Jakarta Activation\r\n\r\n        &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.sun.activation&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jakarta.activation&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.0.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nYet no improvement. I changed to this\r\n\r\n        &lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;jakarta.activation&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jakarta.activation-api&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nStill the same error. Please i need help","title":"Jakarta Dsn - Caused by: java.lang.ClassNotFoundException: jakarta.activation.DataContentHandler","body":"<p>I am reading mails from my inbox using javamail with spring boot, which is successful. But when i added dsn to my maven which is used for parsing and creating messages containing Delivery Status Notifications, i started having error messages when it's about to read a failed delivery mail from my mail server but if the mail is not a failed one it will read it except the failed mail.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-integration-mail&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-mail&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n        &lt;artifactId&gt;dsn&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>this is the error i keep getting</p>\n<pre><code>2021-11-10 10:59:11.195 ERROR 6420 --- [   scheduling-1] o.s.integration.handler.LoggingHandler   : java.lang.NoClassDefFoundError: jakarta/activation/DataContentHandler\nat java.base/java.lang.ClassLoader.defineClass1(Native Method)\nat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1012)\nat java.base/java.security.SecureClassLoader.defineClass(SecureClassLoader.java:150)\nat java.base/jdk.internal.loader.BuiltinClassLoader.defineClass(BuiltinClassLoader.java:862)\nat java.base/jdk.internal.loader.BuiltinClassLoader.findClassOnClassPathOrNull(BuiltinClassLoader.java:760)\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClassOrNull(BuiltinClassLoader.java:681)\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:639)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\nat java.base/java.lang.Class.forName0(Native Method)\nat java.base/java.lang.Class.forName(Class.java:467)\nat org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:145)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\nat javax.activation.MailcapCommandMap.getDataContentHandler(MailcapCommandMap.java:595)\nat javax.activation.MailcapCommandMap.createDataContentHandler(MailcapCommandMap.java:555)\nat javax.activation.CommandMap.createDataContentHandler(CommandMap.java:205)\nat javax.activation.DataHandler.getDataContentHandler(DataHandler.java:597)\nat javax.activation.DataHandler.getContent(DataHandler.java:524)\nat javax.mail.internet.MimeMessage.getContent(MimeMessage.java:1484)\nat org.apache.commons.mail.util.MimeMessageParser.parse(MimeMessageParser.java:194)\nat org.apache.commons.mail.util.MimeMessageParser.parse(MimeMessageParser.java:95)\nat org.cpa.churchms.mail.ProcessInboxMail.extractMail(ProcessInboxMail.java:152)\nat org.cpa.churchms.mail.ProcessInboxMail.lambda$0(ProcessInboxMail.java:111)\nat java.base/java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:992)\nat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\nat org.cpa.churchms.mail.ProcessInboxMail.handleInboxMail(ProcessInboxMail.java:110)\nat org.cpa.churchms.config.MailConfig$1.handleMessage(MailConfig.java:93)\nat org.springframework.integration.handler.ReplyProducingMessageHandlerWrapper.handleRequestMessage(ReplyProducingMessageHandlerWrapper.java:59)\nat org.springframework.integration.handler.AbstractReplyProducingMessageHandler.handleMessageInternal(AbstractReplyProducingMessageHandler.java:136)\nat org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:56)\nat org.springframework.integration.endpoint.PollingConsumer.handleMessage(PollingConsumer.java:158)\nat org.springframework.integration.endpoint.AbstractPollingEndpoint.messageReceived(AbstractPollingEndpoint.java:475)\nat org.springframework.integration.endpoint.AbstractPollingEndpoint.doPoll(AbstractPollingEndpoint.java:461)\nat org.springframework.integration.endpoint.AbstractPollingEndpoint.pollForMessage(AbstractPollingEndpoint.java:413)\nat org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$4(AbstractPollingEndpoint.java:348)\nat org.springframework.integration.util.ErrorHandlingTaskExecutor.lambda$execute$0(ErrorHandlingTaskExecutor.java:57)\nat org.springframework.core.task.SyncTaskExecutor.execute(SyncTaskExecutor.java:50)\nat org.springframework.integration.util.ErrorHandlingTaskExecutor.execute(ErrorHandlingTaskExecutor.java:55)\nat org.springframework.integration.endpoint.AbstractPollingEndpoint.lambda$createPoller$5(AbstractPollingEndpoint.java:341)\nat org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)\nat org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:95)\nat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\nat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\nat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\nat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\nat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\nat java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.lang.ClassNotFoundException: jakarta.activation.DataContentHandler\nat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641)\nat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188)\nat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:520)\n... 47 more\n</code></pre>\n<p>i added a lower version of the dsn to my maven</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.mail&lt;/groupId&gt;\n        &lt;artifactId&gt;dsn&lt;/artifactId&gt;\n        &lt;version&gt;1.6.6&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>i still had the same error. I added Jakarta Activation</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.activation&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.activation&lt;/artifactId&gt;\n        &lt;version&gt;2.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Yet no improvement. I changed to this</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.activation&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.activation-api&lt;/artifactId&gt;\n        &lt;version&gt;1.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Still the same error. Please i need help</p>\n"},{"tags":["java","class","object","type-conversion"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1366662600,"post_id":1893349,"comment_id":23086543,"body_markdown":"That code doesn&#39;t convert: it typecasts. Is that what you mean?","body":"That code doesn&#39;t convert: it typecasts. Is that what you mean?"}],"answers":[{"tags":[],"owner":{"account_id":75307,"reputation":69281,"user_id":216063,"accept_rate":64,"display_name":"Gregory Pakosz"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1378341950,"creation_date":1260623065,"answer_id":1893355,"question_id":1893349,"body_markdown":"you don&#39;t, declare an interface that declares the methods you would like to call:\r\n\r\n    public interface MyInterface\r\n    {\r\n      void doStuff();\r\n    }\r\n\r\n    public class MyClass implements MyInterface\r\n    {\r\n      public void doStuff()\r\n      {\r\n        System.Console.Writeln(&quot;done!&quot;);\r\n      }\r\n    }\r\n\r\nthen you use\r\n\r\n    MyInterface mobj = (myInterface)obj;\r\n    mobj.doStuff();\r\n\r\nIf `MyClass`is not under your control then you can&#39;t make it implement some interface, and the other option is to rely on reflection ([see this tutorial][1]).\r\n\r\n\r\n  [1]: http://tutorials.jenkov.com/java-reflection/index.html","title":"Dynamically converting java object of Object class to a given class when class name is known","body":"<p>you don't, declare an interface that declares the methods you would like to call:</p>\n\n<pre><code>public interface MyInterface\n{\n  void doStuff();\n}\n\npublic class MyClass implements MyInterface\n{\n  public void doStuff()\n  {\n    System.Console.Writeln(\"done!\");\n  }\n}\n</code></pre>\n\n<p>then you use</p>\n\n<pre><code>MyInterface mobj = (myInterface)obj;\nmobj.doStuff();\n</code></pre>\n\n<p>If <code>MyClass</code>is not under your control then you can't make it implement some interface, and the other option is to rely on reflection (<a href=\"http://tutorials.jenkov.com/java-reflection/index.html\" rel=\"noreferrer\">see this tutorial</a>).</p>\n"},{"tags":[],"owner":{"account_id":9396,"reputation":14580,"user_id":17335,"display_name":"Chii"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1260623308,"creation_date":1260623308,"answer_id":1893371,"question_id":1893349,"body_markdown":"If you didnt know that `mojb` is of type `MyClass`, then how can you create that variable?\r\n\r\nIf MyClass is an interface type, or a super type, then there is no need to do a cast. \r\n","title":"Dynamically converting java object of Object class to a given class when class name is known","body":"<p>If you didnt know that <code>mojb</code> is of type <code>MyClass</code>, then how can you create that variable?</p>\n\n<p>If MyClass is an interface type, or a super type, then there is no need to do a cast. </p>\n"},{"tags":[],"owner":{"account_id":25466,"reputation":36566,"user_id":65464,"accept_rate":93,"display_name":"Erich Kitzmueller"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1630744177,"creation_date":1260623674,"answer_id":1893384,"question_id":1893349,"body_markdown":"You don&#39;t have to convert the object to a MyClass object because it already is. What you really want to do is to cast it, but since the class name is not known at compile time, you can&#39;t do that, since you can&#39;t declare a variable of that class. My guess is that you want/need something like &quot;duck typing&quot;, i.e. you don&#39;t know the class name but you know the method name at compile time. Interfaces, as proposed by Gregory, are your best bet to do that.","title":"Dynamically converting java object of Object class to a given class when class name is known","body":"<p>You don't have to convert the object to a MyClass object because it already is. What you really want to do is to cast it, but since the class name is not known at compile time, you can't do that, since you can't declare a variable of that class. My guess is that you want/need something like &quot;duck typing&quot;, i.e. you don't know the class name but you know the method name at compile time. Interfaces, as proposed by Gregory, are your best bet to do that.</p>\n"},{"tags":[],"owner":{"display_name":"user2308814"},"down_vote_count":1,"up_vote_count":98,"is_accepted":false,"score":97,"last_activity_date":1366667287,"creation_date":1366660963,"answer_id":16155695,"question_id":1893349,"body_markdown":"I think its pretty straight forward with reflection \r\n\r\n    MyClass mobj = MyClass.class.cast(obj);\r\n\r\nand if class name is different\r\n\r\n    Object newObj = Class.forName(classname).cast(obj);","title":"Dynamically converting java object of Object class to a given class when class name is known","body":"<p>I think its pretty straight forward with reflection </p>\n\n<pre><code>MyClass mobj = MyClass.class.cast(obj);\n</code></pre>\n\n<p>and if class name is different</p>\n\n<pre><code>Object newObj = Class.forName(classname).cast(obj);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":44076,"reputation":783,"user_id":129134,"accept_rate":75,"display_name":"JoseJC"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1551991376,"creation_date":1551991376,"answer_id":55052497,"question_id":1893349,"body_markdown":"    @SuppressWarnings(&quot;unchecked&quot;)\r\n    private static &lt;T extends Object&gt; T cast(Object obj) {\r\n        return (T) obj;\r\n    }\r\n\r\n","title":"Dynamically converting java object of Object class to a given class when class name is known","body":"<pre><code>@SuppressWarnings(\"unchecked\")\nprivate static &lt;T extends Object&gt; T cast(Object obj) {\n    return (T) obj;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6155702,"reputation":61,"user_id":4798788,"display_name":"Nehra An"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636540109,"creation_date":1636540109,"answer_id":69911643,"question_id":1893349,"body_markdown":"If you want to cast an object (ob1) to a class (classA), you can use the following code.\r\n\r\n`classA instance = (classA) ob1;`\r\n","title":"Dynamically converting java object of Object class to a given class when class name is known","body":"<p>If you want to cast an object (ob1) to a class (classA), you can use the following code.</p>\n<p><code>classA instance = (classA) ob1;</code></p>\n"}],"owner":{"account_id":15748,"reputation":2526,"user_id":33599,"accept_rate":58,"display_name":"Pawka"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269257,"favorite_count":0,"down_vote_count":0,"up_vote_count":46,"accepted_answer_id":1893355,"answer_count":6,"score":46,"last_activity_date":1636540109,"creation_date":1260622922,"question_id":1893349,"body_markdown":"Yeah, I know. Long title of question... So I have class name in string. I&#39;m dynamically creating object of that class in this way:  \r\n\r\n    String className = &quot;com.package.MyClass&quot;; \t\r\n    Class c = Class.forName(className);\r\n    Object obj = c.newInstance();\r\n\r\nHow I can dynamically convert that **obj** to **MyClass** object? I can&#39;t write this way:\r\n\r\n    MyClass mobj = (MyClass)obj;\r\n\r\n...because **className** can be different.","title":"Dynamically converting java object of Object class to a given class when class name is known","body":"<p>Yeah, I know. Long title of question... So I have class name in string. I'm dynamically creating object of that class in this way:  </p>\n\n<pre><code>String className = \"com.package.MyClass\";   \nClass c = Class.forName(className);\nObject obj = c.newInstance();\n</code></pre>\n\n<p>How I can dynamically convert that <strong>obj</strong> to <strong>MyClass</strong> object? I can't write this way:</p>\n\n<pre><code>MyClass mobj = (MyClass)obj;\n</code></pre>\n\n<p>...because <strong>className</strong> can be different.</p>\n"},{"tags":["java","swing","layout-manager","cardlayout"],"comments":[{"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"score":0,"creation_date":1636536252,"post_id":69910637,"comment_id":123580521,"body_markdown":"When asking questions, make the title as informative as possible while keeping it short and to-the-point.","body":"When asking questions, make the title as informative as possible while keeping it short and to-the-point."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":0,"creation_date":1636538568,"post_id":69910637,"comment_id":123581503,"body_markdown":"1) Try `internalJP2.setBorder(new TitledBorder(&quot;Enter your hobbies&quot;));` or more intuitive `&quot;Hobbies&quot;`. 2) When taking screenshots, trim them to the size of the GUI itself. 3) Add `fame.pack();` immediately before `frame.setVisible(true);`","body":"1) Try <code>internalJP2.setBorder(new TitledBorder(&quot;Enter your hobbies&quot;));</code> or more intuitive <code>&quot;Hobbies&quot;</code>. 2) When taking screenshots, trim them to the size of the GUI itself. 3) Add <code>fame.pack();</code> immediately before <code>frame.setVisible(true);</code>"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636539541,"creation_date":1636537363,"answer_id":69910936,"question_id":69910637,"body_markdown":"Just change this line of code (in constructor of class `MyFrame`)\r\n```java\r\nJPanel internalJP1 = new JPanel(new GridLayout(5,1));\r\n```\r\nto this\r\n```java\r\nJPanel internalJP1 = new JPanel(new GridLayout(0,1));\r\n```\r\ni.e. replace 5 with 0\r\n\r\nI find [GridLayout][1] to not be intuitive. When the `row` parameter of `GridLayout` constructor is zero, then each row will contain exactly the number of columns indicated. Hence `new GridLayout(0, 1)` will ensure that each row (in the grid) will contain exactly one column and it will create as many rows as required in order to ensure this.\r\n\r\nNote that `GridLayout` is not the only layout manager to use when you want to place GUI components in a single column. *Swing* also has `BoxLayout`, `GridBagLayout`, `GroupLayout` and `SpringLayout`.\r\n\r\nThere are also third party layout managers including [JGoodies][2] and [MiG Layout][3].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/layout/grid.html\r\n  [2]: https://www.jgoodies.com/freeware/libraries/forms/\r\n  [3]: https://www.miglayout.com/","title":"GUI components not aligning vertically inside JPanel in Card layout","body":"<p>Just change this line of code (in constructor of class <code>MyFrame</code>)</p>\n<pre class=\"lang-java prettyprint-override\"><code>JPanel internalJP1 = new JPanel(new GridLayout(5,1));\n</code></pre>\n<p>to this</p>\n<pre class=\"lang-java prettyprint-override\"><code>JPanel internalJP1 = new JPanel(new GridLayout(0,1));\n</code></pre>\n<p>i.e. replace 5 with 0</p>\n<p>I find <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/grid.html\" rel=\"nofollow noreferrer\">GridLayout</a> to not be intuitive. When the <code>row</code> parameter of <code>GridLayout</code> constructor is zero, then each row will contain exactly the number of columns indicated. Hence <code>new GridLayout(0, 1)</code> will ensure that each row (in the grid) will contain exactly one column and it will create as many rows as required in order to ensure this.</p>\n<p>Note that <code>GridLayout</code> is not the only layout manager to use when you want to place GUI components in a single column. <em>Swing</em> also has <code>BoxLayout</code>, <code>GridBagLayout</code>, <code>GroupLayout</code> and <code>SpringLayout</code>.</p>\n<p>There are also third party layout managers including <a href=\"https://www.jgoodies.com/freeware/libraries/forms/\" rel=\"nofollow noreferrer\">JGoodies</a> and <a href=\"https://www.miglayout.com/\" rel=\"nofollow noreferrer\">MiG Layout</a>.</p>\n"},{"tags":[],"owner":{"account_id":8546,"reputation":17688,"user_id":15472,"accept_rate":87,"display_name":"tucuxi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636540010,"creation_date":1636537440,"answer_id":69910964,"question_id":69910637,"body_markdown":"The fact that you are using a `CardLayout` to view one panel or the other does not affect the layout of those panels. Your problem is entirely related to the layout of the 2 panels.\r\n\r\nThere are 2 easy ways to fix the panels to make them 1-column:\r\n\r\n1. fix their number of rows so that it is &gt;= the number of elements that you actually add. Now, you have `JPanel internalJP1 = new JPanel(new GridLayout(5,1));` - but add 6 elements. If you change it to `JPanel internalJP1 = new JPanel(new GridLayout(6,1));`, you will solve the problem for your 1st panel. The same fix applies to your second panel. Even better, use 0 to make the layout use `as many rows as it needs` (see [docs](https://docs.oracle.com/javase/8/docs/api/java/awt/GridLayout.html#GridLayout-int-int-)).\r\n2. use a vertical BoxLayout and do not worry about the number of elements at all - just stack them vertically. This has the additional advantage that they look better, because even if you give the layout more size than it needs, they still stack together nicely: `JPanel internalJP1 = new JPanel(); internalJP1.setLayout(new BoxLayout(internalJP1, BoxLayout.Y_AXIS));`","title":"GUI components not aligning vertically inside JPanel in Card layout","body":"<p>The fact that you are using a <code>CardLayout</code> to view one panel or the other does not affect the layout of those panels. Your problem is entirely related to the layout of the 2 panels.</p>\n<p>There are 2 easy ways to fix the panels to make them 1-column:</p>\n<ol>\n<li>fix their number of rows so that it is &gt;= the number of elements that you actually add. Now, you have <code>JPanel internalJP1 = new JPanel(new GridLayout(5,1));</code> - but add 6 elements. If you change it to <code>JPanel internalJP1 = new JPanel(new GridLayout(6,1));</code>, you will solve the problem for your 1st panel. The same fix applies to your second panel. Even better, use 0 to make the layout use <code>as many rows as it needs</code> (see <a href=\"https://docs.oracle.com/javase/8/docs/api/java/awt/GridLayout.html#GridLayout-int-int-\" rel=\"nofollow noreferrer\">docs</a>).</li>\n<li>use a vertical BoxLayout and do not worry about the number of elements at all - just stack them vertically. This has the additional advantage that they look better, because even if you give the layout more size than it needs, they still stack together nicely: <code>JPanel internalJP1 = new JPanel(); internalJP1.setLayout(new BoxLayout(internalJP1, BoxLayout.Y_AXIS));</code></li>\n</ol>\n"}],"owner":{"account_id":8091424,"reputation":21,"user_id":6445074,"display_name":"Nick"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1636540010,"creation_date":1636536070,"question_id":69910637,"body_markdown":"[Image of my GUI.][1]\r\n\r\nI am trying to add components to two `JPanel` containers and then add those panels as cards. I want the checkboxes after labels in a vertical manner. The problem I am facing is that the components are coming in a grid of two columns:\r\n\r\n    public class MyFrame extends JFrame {\r\n    \r\n        MyFrame(int width, int height, String title){\r\n            setTitle(title);\r\n            setSize(width, height);\r\n            JPanel internalJP1 = new JPanel(new GridLayout(5,1));\r\n            JLabel hobby = new JLabel(&quot;Enter your hobbies:&quot;);\r\n            JCheckBox cricket = new JCheckBox(&quot;Cricket&quot;);\r\n            JCheckBox music = new JCheckBox(&quot;Music&quot;);\r\n            JCheckBox drawing = new JCheckBox(&quot;Drawing&quot;);\r\n            JCheckBox dancing = new JCheckBox(&quot;Dancing&quot;);\r\n            JCheckBox other = new JCheckBox(&quot;Other&quot;);\r\n\r\n            internalJP1.add(hobby);\r\n            internalJP1.add(cricket);\r\n            internalJP1.add(music);\r\n            internalJP1.add(drawing);\r\n            internalJP1.add(dancing);\r\n            internalJP1.add(other);\r\n\r\n            JPanel internalJP2 = new JPanel(new GridLayout(4,1));\r\n            JLabel payment = new JLabel(&quot;Payment by:&quot;);\r\n            ButtonGroup buttonGroup = new ButtonGroup();\r\n            JRadioButton cheque = new JRadioButton(&quot;Cheque&quot;, false);\r\n            JRadioButton cash = new JRadioButton(&quot;Cash&quot;, false);\r\n            JRadioButton debitCard = new JRadioButton(&quot;Debit Card&quot;, false);\r\n            JRadioButton creditCard = new JRadioButton(&quot;Credit Card&quot;, false);\r\n            buttonGroup.add(cheque);\r\n            buttonGroup.add(cash);\r\n            buttonGroup.add(debitCard);\r\n            buttonGroup.add(creditCard);\r\n\r\n            internalJP2.add(payment);\r\n            internalJP2.add(cheque);\r\n            internalJP2.add(cash);\r\n            internalJP2.add(debitCard);\r\n            internalJP2.add(creditCard);\r\n\r\n            Container c = getContentPane();\r\n            CardLayout cl = new CardLayout();\r\n            c.setLayout(cl);\r\n            c.add(internalJP1,&quot;crd1&quot;);\r\n            c.add(internalJP2,&quot;crd2&quot;);\r\n            cl.show(c,&quot;crd1&quot;);\r\n        }\r\n    }\r\n\r\n    public class Jtest {\r\n      public static void main(String[] args) {\r\n          MyFrame frame = new MyFrame(300,200,&quot;FirstFrame&quot;);\r\n          frame.setVisible(true);\r\n      }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EfE1k.png","title":"GUI components not aligning vertically inside JPanel in Card layout","body":"<p><a href=\"https://i.stack.imgur.com/EfE1k.png\" rel=\"nofollow noreferrer\">Image of my GUI.</a></p>\n<p>I am trying to add components to two <code>JPanel</code> containers and then add those panels as cards. I want the checkboxes after labels in a vertical manner. The problem I am facing is that the components are coming in a grid of two columns:</p>\n<pre><code>public class MyFrame extends JFrame {\n\n    MyFrame(int width, int height, String title){\n        setTitle(title);\n        setSize(width, height);\n        JPanel internalJP1 = new JPanel(new GridLayout(5,1));\n        JLabel hobby = new JLabel(&quot;Enter your hobbies:&quot;);\n        JCheckBox cricket = new JCheckBox(&quot;Cricket&quot;);\n        JCheckBox music = new JCheckBox(&quot;Music&quot;);\n        JCheckBox drawing = new JCheckBox(&quot;Drawing&quot;);\n        JCheckBox dancing = new JCheckBox(&quot;Dancing&quot;);\n        JCheckBox other = new JCheckBox(&quot;Other&quot;);\n\n        internalJP1.add(hobby);\n        internalJP1.add(cricket);\n        internalJP1.add(music);\n        internalJP1.add(drawing);\n        internalJP1.add(dancing);\n        internalJP1.add(other);\n\n        JPanel internalJP2 = new JPanel(new GridLayout(4,1));\n        JLabel payment = new JLabel(&quot;Payment by:&quot;);\n        ButtonGroup buttonGroup = new ButtonGroup();\n        JRadioButton cheque = new JRadioButton(&quot;Cheque&quot;, false);\n        JRadioButton cash = new JRadioButton(&quot;Cash&quot;, false);\n        JRadioButton debitCard = new JRadioButton(&quot;Debit Card&quot;, false);\n        JRadioButton creditCard = new JRadioButton(&quot;Credit Card&quot;, false);\n        buttonGroup.add(cheque);\n        buttonGroup.add(cash);\n        buttonGroup.add(debitCard);\n        buttonGroup.add(creditCard);\n\n        internalJP2.add(payment);\n        internalJP2.add(cheque);\n        internalJP2.add(cash);\n        internalJP2.add(debitCard);\n        internalJP2.add(creditCard);\n\n        Container c = getContentPane();\n        CardLayout cl = new CardLayout();\n        c.setLayout(cl);\n        c.add(internalJP1,&quot;crd1&quot;);\n        c.add(internalJP2,&quot;crd2&quot;);\n        cl.show(c,&quot;crd1&quot;);\n    }\n}\n\npublic class Jtest {\n  public static void main(String[] args) {\n      MyFrame frame = new MyFrame(300,200,&quot;FirstFrame&quot;);\n      frame.setVisible(true);\n  }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","spotify","android-music-player"],"answers":[{"tags":[],"owner":{"account_id":17307723,"reputation":75,"user_id":12536083,"display_name":"Shahid Iqbal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1636480069,"creation_date":1636480069,"answer_id":69902780,"question_id":69901038,"body_markdown":"Using the following code might help you. But I recommend you use google ExoPlayer as it has more features than MediaPlayer from android.\r\n\r\n     MediaPlayer mp = new MediaPlayer(); \r\n     mp.setDataSource(context,Uri.parse(&quot;your url&quot;)); \r\n     mp.prepare(); \r\n     mp.start();\r\n\r\nCheck that for Google ExoPlayer\r\n[ExoPlayer Documentation ][1]\r\n\r\n\r\n  [1]: https://exoplayer.dev/","title":"I want to add online music streaming to an existing android local music player","body":"<p>Using the following code might help you. But I recommend you use google ExoPlayer as it has more features than MediaPlayer from android.</p>\n<pre><code> MediaPlayer mp = new MediaPlayer(); \n mp.setDataSource(context,Uri.parse(&quot;your url&quot;)); \n mp.prepare(); \n mp.start();\n</code></pre>\n<p>Check that for Google ExoPlayer\n<a href=\"https://exoplayer.dev/\" rel=\"nofollow noreferrer\">ExoPlayer Documentation </a></p>\n"},{"tags":[],"owner":{"account_id":23280643,"reputation":229,"user_id":17364139,"display_name":"Joe199382"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1636539619,"creation_date":1636539619,"answer_id":69911492,"question_id":69901038,"body_markdown":"Do you mean to play Spotify music in your app? This is usually not possible, because music requires authorization, but if you have an audio file, you can put it in the cloud and use the following code to play it.\r\n\r\n```\r\nMediaPlayer mediaPlayer = new MediaPlayer(); \r\nmediaPlayer.setDataSource(applicationContext, Uri.parse(&quot;music url&quot;))\r\nmediaPlayer.setOnPreparedListener { it.start() }\r\nmediaPlayer.prepareAsync()\r\n```\r\n\r\n# Alternative plan\r\nThe Spotify SDK allows your application to interact with the Spotify app running in the background as a service. The capabilities of this API include getting metadata for the currently playing track and context, issuing basic playback commands and initiating playback of tracks.\r\n\r\nPlease refer to: https://developer.spotify.com/documentation/android/","title":"I want to add online music streaming to an existing android local music player","body":"<p>Do you mean to play Spotify music in your app? This is usually not possible, because music requires authorization, but if you have an audio file, you can put it in the cloud and use the following code to play it.</p>\n<pre><code>MediaPlayer mediaPlayer = new MediaPlayer(); \nmediaPlayer.setDataSource(applicationContext, Uri.parse(&quot;music url&quot;))\nmediaPlayer.setOnPreparedListener { it.start() }\nmediaPlayer.prepareAsync()\n</code></pre>\n<h1>Alternative plan</h1>\n<p>The Spotify SDK allows your application to interact with the Spotify app running in the background as a service. The capabilities of this API include getting metadata for the currently playing track and context, issuing basic playback commands and initiating playback of tracks.</p>\n<p>Please refer to: <a href=\"https://developer.spotify.com/documentation/android/\" rel=\"nofollow noreferrer\">https://developer.spotify.com/documentation/android/</a></p>\n"}],"owner":{"account_id":21999119,"reputation":11,"user_id":16271082,"display_name":"Vivek Anand"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":826,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1636556317,"accepted_answer_id":69911492,"answer_count":2,"score":-1,"last_activity_date":1636539619,"creation_date":1636472524,"question_id":69901038,"body_markdown":"I have developed an android music player app. That Play music from local storage\r\n\r\nI would like to add online streaming options like Spotify,Gana.  Etc....\r\n\r\nIm not a professional android developer I&#39;ve developed the app based on other music player source code \r\n\r\nSo anyone can help me how to add Spotify api or other options...\r\n\r\n","title":"I want to add online music streaming to an existing android local music player","body":"<p>I have developed an android music player app. That Play music from local storage</p>\n<p>I would like to add online streaming options like Spotify,Gana.  Etc....</p>\n<p>Im not a professional android developer I've developed the app based on other music player source code</p>\n<p>So anyone can help me how to add Spotify api or other options...</p>\n"},{"tags":["java","sql-server","jdbc","callable-statement"],"comments":[{"owner":{"account_id":20264817,"reputation":56082,"user_id":14868997,"display_name":"Charlieface"},"score":0,"creation_date":1617334920,"post_id":66914046,"comment_id":118281362,"body_markdown":"Not sure, but `return` values are often hassle to deal with and it&#39;s easier to just use another `output` parameter. Any case, why mess about catching errors and returning them, just let them bubble back to the client? By the way, unless triggers are involved, you can simplify the main code to just `insert ... output inserted.* values ...` instead of the extra `select`","body":"Not sure, but <code>return</code> values are often hassle to deal with and it&#39;s easier to just use another <code>output</code> parameter. Any case, why mess about catching errors and returning them, just let them bubble back to the client? By the way, unless triggers are involved, you can simplify the main code to just <code>insert ... output inserted.* values ...</code> instead of the extra <code>select</code>"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1617356201,"post_id":66914046,"comment_id":118286390,"body_markdown":"You **always** need to call `next()` before calling a getter on result set, but the problem here is you&#39;re confusing output parameters (which are generally accessed through `CallableStatement.getXXX`) with values in the result set produced by the stored procedure.","body":"You <b>always</b> need to call <code>next()</code> before calling a getter on result set, but the problem here is you&#39;re confusing output parameters (which are generally accessed through <code>CallableStatement.getXXX</code>) with values in the result set produced by the stored procedure."},{"owner":{"account_id":111333,"reputation":597,"user_id":294156,"accept_rate":100,"display_name":"Eric H"},"score":0,"creation_date":1617653355,"post_id":66914046,"comment_id":118358811,"body_markdown":"@Charlieface I do agree, and if I was starting from scratch I&#39;d rewrite the procedures as you suggested.  However, as this is dealing with hundreds of stored procedures that already exist and have been running in production environments for some time, I&#39;d prefer not to rewrite them.","body":"@Charlieface I do agree, and if I was starting from scratch I&#39;d rewrite the procedures as you suggested.  However, as this is dealing with hundreds of stored procedures that already exist and have been running in production environments for some time, I&#39;d prefer not to rewrite them."},{"owner":{"account_id":111333,"reputation":597,"user_id":294156,"accept_rate":100,"display_name":"Eric H"},"score":0,"creation_date":1617653526,"post_id":66914046,"comment_id":118358876,"body_markdown":"@MarkRotteveel Not sure I follow.  I know how to get the output parameter value, the return value, or the result set; my question is about getting all 3 of them.  As you can see from the error, when trying to get the return value and then loop through the ResultSet, I get an error that the result set is closed.  If I bypass the retrieval of the return value, then I no longer get that error.","body":"@MarkRotteveel Not sure I follow.  I know how to get the output parameter value, the return value, or the result set; my question is about getting all 3 of them.  As you can see from the error, when trying to get the return value and then loop through the ResultSet, I get an error that the result set is closed.  If I bypass the retrieval of the return value, then I no longer get that error."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1617701916,"post_id":66914046,"comment_id":118371251,"body_markdown":"Given the order of processing in your stored procedure, I guess you need to process the result set *before* you retrieve the return value with `CallableStatement.getXXX`; but I don&#39;t have a SQL Server at hand to test that.","body":"Given the order of processing in your stored procedure, I guess you need to process the result set <i>before</i> you retrieve the return value with <code>CallableStatement.getXXX</code>; but I don&#39;t have a SQL Server at hand to test that."},{"owner":{"account_id":111333,"reputation":597,"user_id":294156,"accept_rate":100,"display_name":"Eric H"},"score":0,"creation_date":1617721919,"post_id":66914046,"comment_id":118380816,"body_markdown":"Actually I&#39;d prefer to test the return value before attempting to retrieve the result set.","body":"Actually I&#39;d prefer to test the return value before attempting to retrieve the result set."},{"owner":{"account_id":111333,"reputation":597,"user_id":294156,"accept_rate":100,"display_name":"Eric H"},"score":1,"creation_date":1636498770,"post_id":66914046,"comment_id":123572830,"body_markdown":"@MarkRotteveel I know this is from a while back, but we did exactly what you recommended and processed the ResultSet before getting the output parameters, and that made all the difference.","body":"@MarkRotteveel I know this is from a while back, but we did exactly what you recommended and processed the ResultSet before getting the output parameters, and that made all the difference."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1636539378,"post_id":66914046,"comment_id":123581830,"body_markdown":"@EricH Good to hear. I posted a community wiki answer to that effect so it&#39;s more visible.","body":"@EricH Good to hear. I posted a community wiki answer to that effect so it&#39;s more visible."}],"answers":[{"tags":[],"owner":{"account_id":21076859,"reputation":31,"user_id":15492078,"display_name":"hollowpurple"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617335629,"creation_date":1617334908,"answer_id":66914153,"question_id":66914046,"body_markdown":"The output is in the `ResultSet rs` retrieved from `executeQuery()`.\r\n\r\nYou may want to use the excute method as such:\r\n\r\n        call.execute();\r\n        String returnValue = call.getString(&quot;ResultMessage&quot;);\r\n\r\nYou also want to map correctly to the output type.\r\n\r\n","title":"JDBC SQL Server Stored Procedure with ResultSet, return value, and output parameters","body":"<p>The output is in the <code>ResultSet rs</code> retrieved from <code>executeQuery()</code>.</p>\n<p>You may want to use the excute method as such:</p>\n<pre><code>    call.execute();\n    String returnValue = call.getString(&quot;ResultMessage&quot;);\n</code></pre>\n<p>You also want to map correctly to the output type.</p>\n"},{"tags":[],"owner":{"account_id":17072834,"reputation":1,"user_id":12353131,"display_name":"CHANDRA SEKHAR VARMA"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1617336059,"creation_date":1617336059,"answer_id":66914269,"question_id":66914046,"body_markdown":"Your connection got closed once the execute query is executed. Basically mysql jdbc connection extends to AutoCloseable implicitly. Since your result is only entity from procedure,please get the value by index 0 and do a proper index out of bound exception handling.","title":"JDBC SQL Server Stored Procedure with ResultSet, return value, and output parameters","body":"<p>Your connection got closed once the execute query is executed. Basically mysql jdbc connection extends to AutoCloseable implicitly. Since your result is only entity from procedure,please get the value by index 0 and do a proper index out of bound exception handling.</p>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636539340,"creation_date":1636539340,"answer_id":69911408,"question_id":66914046,"body_markdown":"Given the order of processing in your stored procedure (insert, select, then populate result parameters), you need to process the result set *before* you retrieve the return value with `CallableStatement.getXXX`.\r\n","title":"JDBC SQL Server Stored Procedure with ResultSet, return value, and output parameters","body":"<p>Given the order of processing in your stored procedure (insert, select, then populate result parameters), you need to process the result set <em>before</em> you retrieve the return value with <code>CallableStatement.getXXX</code>.</p>\n"}],"owner":{"account_id":111333,"reputation":597,"user_id":294156,"accept_rate":100,"display_name":"Eric H"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3883,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69911408,"answer_count":3,"score":0,"last_activity_date":1636539340,"creation_date":1617333897,"question_id":66914046,"body_markdown":"I am in the process of converting an application from Jython to compiled Java.  The application uses a host of SQL Server stored procedures to do CRUD operations.  All of the procedures are defined with a return value that indicates status, and some output parameters used to provide feedback to the application.  Most of the procedures also return a result set.  I&#39;m struggling with how to retrieve the return value and the result set and the output parameters.\r\n\r\nI normally work with C# so the nuances of JDBC are new to me.  I&#39;ve been testing with one of the procedures that does an insert to the database and then does a select on the inserted object.\r\n\r\nHere&#39;s a simplified example procedure **just to use for the purpose of illustration**.  The actual procedures are more complex than this.\r\n\r\n    CREATE PROCEDURE [dbo].[sp_Thing_Add]\r\n    (\r\n       @Name NVARCHAR(50),\r\n       @Description NVARCHAR(100),\r\n       @ResultMessage NVARCHAR(200) = N&#39;&#39; OUTPUT\r\n    )\r\n    AS\r\n    BEGIN\r\n       SET NOCOUNT ON\r\n       \r\n       DECLARE @Result INT = -1\r\n       DECLARE @ResultMessage = &#39;Procedure incomplete&#39;\r\n       \r\n       BEGIN TRY\r\n          INSERT INTO Things (Name, Description) VALUES (@Name, @Description)\r\n    \r\n          SELECT * FROM Things WHERE ThingID = SCOPE_IDENTITY()\r\n       END TRY\r\n       BEGIN CATCH\r\n          SELECT @Result = CASE WHEN ERROR_NUMBER() &lt;&gt; 0 THEN ERROR_NUMBER() ELSE 1 END,\r\n             @ResultMessage = ERROR_MESSAGE()\r\n          GOTO EXIT_SUB\r\n       END CATCH\r\n    SUCCESS:\r\n       SET @Result = 0\r\n       SET @ResultMessage = N&#39;Procedure completed successfully&#39;\r\n       RETURN @Result\r\n    EXIT_SUB:\r\n       IF @Result &lt;&gt; 0\r\n       BEGIN\r\n       -- Do some error handling stuff\r\n       END\r\n       RETURN @Result\r\n    \r\n          \r\n\r\nI can successfully retrieve the ResultSet using the following code.\r\n\r\n    var conn = myConnectionProvider.getConnection();\r\n    String sql = &quot;{? = call dbo.sp_Thing_Add(?, ?, ?)}&quot;\r\n    \r\n    call = conn.prepareCall(sql);\r\n    call.registerOutParameter(1, TYPES.Integer); // Return value\r\n    call.setString(&quot;Name&quot;, thing.getName());\r\n    call.setString(&quot;Description&quot;, thing.getDescription());\r\n    call.registerOutParameter(&quot;ResultMessage&quot;, TYPES.NVARCHAR);\r\n    ResultSet rs = call.executeQuery();\r\n\r\n    // Try to get the return value. This appears to close the ResultSet and prevents data retrieval.\r\n    //int returnValue = call.getInt(1);\r\n    // Normally there&#39;d be a check here to make sure things executed properly, \r\n    // and if necessary the output parameter(s) may also be leveraged\r\n    \r\n    if (rs.next()) {\r\n       thing.setId(rs.getLong(&quot;ThingID&quot;));\r\n       // Other stuff actually happens here too...\r\n    }\r\n\r\nIf I try retrieving the return value using the line that&#39;s commented out, I get an error stating that the ResultSet is closed.\r\n\r\n&gt; com.microsoft.sqlserver.jdbc.SQLServerException: The result set is closed.\r\n\r\nI&#39;ve been through the documentation and have seen how to do return values, output parameters, and result sets.  But how can I leverage all 3?","title":"JDBC SQL Server Stored Procedure with ResultSet, return value, and output parameters","body":"<p>I am in the process of converting an application from Jython to compiled Java.  The application uses a host of SQL Server stored procedures to do CRUD operations.  All of the procedures are defined with a return value that indicates status, and some output parameters used to provide feedback to the application.  Most of the procedures also return a result set.  I'm struggling with how to retrieve the return value and the result set and the output parameters.</p>\n<p>I normally work with C# so the nuances of JDBC are new to me.  I've been testing with one of the procedures that does an insert to the database and then does a select on the inserted object.</p>\n<p>Here's a simplified example procedure <strong>just to use for the purpose of illustration</strong>.  The actual procedures are more complex than this.</p>\n<pre><code>CREATE PROCEDURE [dbo].[sp_Thing_Add]\n(\n   @Name NVARCHAR(50),\n   @Description NVARCHAR(100),\n   @ResultMessage NVARCHAR(200) = N'' OUTPUT\n)\nAS\nBEGIN\n   SET NOCOUNT ON\n   \n   DECLARE @Result INT = -1\n   DECLARE @ResultMessage = 'Procedure incomplete'\n   \n   BEGIN TRY\n      INSERT INTO Things (Name, Description) VALUES (@Name, @Description)\n\n      SELECT * FROM Things WHERE ThingID = SCOPE_IDENTITY()\n   END TRY\n   BEGIN CATCH\n      SELECT @Result = CASE WHEN ERROR_NUMBER() &lt;&gt; 0 THEN ERROR_NUMBER() ELSE 1 END,\n         @ResultMessage = ERROR_MESSAGE()\n      GOTO EXIT_SUB\n   END CATCH\nSUCCESS:\n   SET @Result = 0\n   SET @ResultMessage = N'Procedure completed successfully'\n   RETURN @Result\nEXIT_SUB:\n   IF @Result &lt;&gt; 0\n   BEGIN\n   -- Do some error handling stuff\n   END\n   RETURN @Result\n\n      \n</code></pre>\n<p>I can successfully retrieve the ResultSet using the following code.</p>\n<pre><code>var conn = myConnectionProvider.getConnection();\nString sql = &quot;{? = call dbo.sp_Thing_Add(?, ?, ?)}&quot;\n\ncall = conn.prepareCall(sql);\ncall.registerOutParameter(1, TYPES.Integer); // Return value\ncall.setString(&quot;Name&quot;, thing.getName());\ncall.setString(&quot;Description&quot;, thing.getDescription());\ncall.registerOutParameter(&quot;ResultMessage&quot;, TYPES.NVARCHAR);\nResultSet rs = call.executeQuery();\n\n// Try to get the return value. This appears to close the ResultSet and prevents data retrieval.\n//int returnValue = call.getInt(1);\n// Normally there'd be a check here to make sure things executed properly, \n// and if necessary the output parameter(s) may also be leveraged\n\nif (rs.next()) {\n   thing.setId(rs.getLong(&quot;ThingID&quot;));\n   // Other stuff actually happens here too...\n}\n</code></pre>\n<p>If I try retrieving the return value using the line that's commented out, I get an error stating that the ResultSet is closed.</p>\n<blockquote>\n<p>com.microsoft.sqlserver.jdbc.SQLServerException: The result set is closed.</p>\n</blockquote>\n<p>I've been through the documentation and have seen how to do return values, output parameters, and result sets.  But how can I leverage all 3?</p>\n"},{"tags":["java","sql","transactions","sap-ase","spring-transactions"],"answers":[{"tags":[],"owner":{"account_id":9379913,"reputation":1,"user_id":7163333,"display_name":"Kevin Sherlock"},"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1479234497,"creation_date":1479232132,"answer_id":40616458,"question_id":40412818,"body_markdown":"    1&gt; select newid(),newid(1)\r\n    2&gt; go\r\n    \r\n     ------------------------------------ ------------------------------------\r\n     086ae8a4920944dcb45f81b8c983b3f1     3c23dabf-d989-48dc-807b-81b8c983b3f1\r\n\r\n","title":"How can I generate an ID in Sybase SQL before inserting rows","body":"<pre><code>1&gt; select newid(),newid(1)\n2&gt; go\n\n ------------------------------------ ------------------------------------\n 086ae8a4920944dcb45f81b8c983b3f1     3c23dabf-d989-48dc-807b-81b8c983b3f1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23294266,"reputation":1,"user_id":17375889,"display_name":"teknolojikyardim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636539230,"creation_date":1636539230,"answer_id":69911382,"question_id":40412818,"body_markdown":"newid() func didn&#39;t worked for me. I found another solution\r\n\r\n    with queryname as (\r\n    SELECT *,row_number() over (order by somecol) n, -- get row number\r\n    DATEPART(ms, now()) t -- get current ms value\r\n    FROM sometable )\r\n   \r\n    select top 10 * from queryname order by  cast(t * n as char)\r\n\r\n","title":"How can I generate an ID in Sybase SQL before inserting rows","body":"<p>newid() func didn't worked for me. I found another solution</p>\n<pre><code>with queryname as (\nSELECT *,row_number() over (order by somecol) n, -- get row number\nDATEPART(ms, now()) t -- get current ms value\nFROM sometable )\n\nselect top 10 * from queryname order by  cast(t * n as char)\n</code></pre>\n"}],"owner":{"account_id":3430858,"reputation":171,"user_id":2875332,"accept_rate":20,"display_name":"vinnygray"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":817,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1636539230,"creation_date":1478215045,"question_id":40412818,"body_markdown":"I have a distributed system where I need to generate an ID and then use that ID in multiple records. The records reference each other so I rather not insert the master to generate an ID followed by the children\r\n\r\nWhat I am hoping to do is generate a unique ID in sequence from Sybase, use that ID to create all of my associated records, then perform all of the inserts in a batch update.\r\n\r\nI can have a table with a single IDENTITY field, and just insert records there and get the generated ID. However with that approach I am creating lots of useless records.\r\n\r\nI tried this approach but it throws an exception\r\n\r\n    @Transactional(isolation = Isolation.SERIALIZABLE)\r\n      public synchronized Long getNextId(){\r\n    \r\n      Long id = -1;\r\n      String sql = &quot;UPDATE MY_IDS SET MY_ID=MY_ID+1\\n\\n&quot; +\r\n                   &quot;SELECT MY_ID FROM MY_IDS&quot;;\r\n      List&lt;Long&gt; list = jdbcTemplate.query(sql, new RowMapper&lt;Long&gt;() {\r\n        @Override\r\n        public Long mapRow(ResultSet resultSet, int i) throws SQLException\r\n        {\r\n            return resultSet.getLong(1);\r\n        }\r\n      });\r\n      if(!list.isEmpty()) {\r\n          id = list.get(0);\r\n      }\r\n      return id;\r\n     }\r\n\r\nI also tried this but also got a SQL exception:\r\n\r\n    KeyHolder holder = new GeneratedKeyHolder();\r\n    jdbcTemplate.update(new PreparedStatementCreator() {\r\n\r\n        String sql = &quot;UPDATE MY_IDS SET MY_ID=MY_ID+1&quot; +\r\n                     &quot;SELECT MY_ID FROM MY_IDS&quot;;\r\n        @Override\r\n        public PreparedStatement createPreparedStatement(Connection connection)\r\n                throws SQLException {\r\n            PreparedStatement ps = connection.prepareStatement(sql, Statement.RETURN_GENERATED_KEYS);\r\n            return ps;\r\n        }\r\n    }, holder);\r\n\r\n    Long id = holder.getKey().longValue();\r\n\r\nIs there a more straightforward way\r\n\r\n","title":"How can I generate an ID in Sybase SQL before inserting rows","body":"<p>I have a distributed system where I need to generate an ID and then use that ID in multiple records. The records reference each other so I rather not insert the master to generate an ID followed by the children</p>\n\n<p>What I am hoping to do is generate a unique ID in sequence from Sybase, use that ID to create all of my associated records, then perform all of the inserts in a batch update.</p>\n\n<p>I can have a table with a single IDENTITY field, and just insert records there and get the generated ID. However with that approach I am creating lots of useless records.</p>\n\n<p>I tried this approach but it throws an exception</p>\n\n<pre><code>@Transactional(isolation = Isolation.SERIALIZABLE)\n  public synchronized Long getNextId(){\n\n  Long id = -1;\n  String sql = \"UPDATE MY_IDS SET MY_ID=MY_ID+1\\n\\n\" +\n               \"SELECT MY_ID FROM MY_IDS\";\n  List&lt;Long&gt; list = jdbcTemplate.query(sql, new RowMapper&lt;Long&gt;() {\n    @Override\n    public Long mapRow(ResultSet resultSet, int i) throws SQLException\n    {\n        return resultSet.getLong(1);\n    }\n  });\n  if(!list.isEmpty()) {\n      id = list.get(0);\n  }\n  return id;\n }\n</code></pre>\n\n<p>I also tried this but also got a SQL exception:</p>\n\n<pre><code>KeyHolder holder = new GeneratedKeyHolder();\njdbcTemplate.update(new PreparedStatementCreator() {\n\n    String sql = \"UPDATE MY_IDS SET MY_ID=MY_ID+1\" +\n                 \"SELECT MY_ID FROM MY_IDS\";\n    @Override\n    public PreparedStatement createPreparedStatement(Connection connection)\n            throws SQLException {\n        PreparedStatement ps = connection.prepareStatement(sql, Statement.RETURN_GENERATED_KEYS);\n        return ps;\n    }\n}, holder);\n\nLong id = holder.getKey().longValue();\n</code></pre>\n\n<p>Is there a more straightforward way</p>\n"},{"tags":["java","annotations","grammar","bnf","ebnf"],"comments":[{"owner":{"account_id":26075,"reputation":41643,"user_id":67566,"accept_rate":73,"display_name":"James Black"},"score":0,"creation_date":1269219574,"post_id":2489416,"comment_id":2482792,"body_markdown":"Any particular annotations?  I expect that the answer is no, btw.","body":"Any particular annotations?  I expect that the answer is no, btw."},{"owner":{"account_id":96837,"reputation":94466,"user_id":263004,"accept_rate":96,"display_name":"Vivin Paliath"},"score":0,"creation_date":1269280609,"post_id":2489416,"comment_id":2488336,"body_markdown":"Just in general - I was trying to look at how it handles the parsing.","body":"Just in general - I was trying to look at how it handles the parsing."}],"answers":[{"tags":[],"owner":{"account_id":102191,"reputation":40009,"user_id":274466,"display_name":"ig0774"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1269219696,"creation_date":1269219696,"answer_id":2489461,"question_id":2489416,"body_markdown":"`/* Annotation syntax follows. */\r\n\r\nAnnotation  ::=   NormalAnnotation\r\n  |   SingleMemberAnnotation\r\n  |   MarkerAnnotation\r\nNormalAnnotation  ::=   &quot;@&quot; Name &quot;(&quot; ( MemberValuePairs )? &quot;)&quot;\r\nMarkerAnnotation  ::=   &quot;@&quot; Name\r\nSingleMemberAnnotation  ::=   &quot;@&quot; Name &quot;(&quot; MemberValue &quot;)&quot;\r\nMemberValuePairs  ::=   MemberValuePair ( &quot;,&quot; MemberValuePair )*\r\nMemberValuePair   ::=   &lt;IDENTIFIER&gt; &quot;=&quot; MemberValue\r\nMemberValue   ::=   Annotation\r\n  |   MemberValueArrayInitializer\r\n  |   ConditionalExpression\r\nMemberValueArrayInitializer   ::=   &quot;{&quot; ( MemberValue ( &quot;,&quot; MemberValue )* ( &quot;,&quot; )? )? &quot;}&quot;\r\n\r\n/* Annotation Types. */\r\n\r\nAnnotationTypeDeclaration   ::=   &quot;@&quot; &quot;interface&quot; &lt;IDENTIFIER&gt; AnnotationTypeBody\r\nAnnotationTypeBody  ::=   &quot;{&quot; ( AnnotationTypeMemberDeclaration )* &quot;}&quot;\r\nAnnotationTypeMemberDeclaration   ::=   Modifiers ( Type &lt;IDENTIFIER&gt; &quot;(&quot; &quot;)&quot; ( DefaultValue )? &quot;;&quot; | ClassOrInterfaceDeclaration | EnumDeclaration | AnnotationTypeDeclaration | FieldDeclaration )\r\n  |   ( &quot;;&quot; )\r\nDefaultValue  ::=   &quot;default&quot; MemberValue` [from here][1]. Also see his [blog post][2].\r\n\r\n\r\n  [1]: http://infoether.com/~tom/java.bnf\r\n  [2]: http://tomcopeland.blogs.com/juniordeveloper/2009/06/lovely-svg-railroad-diagrams-with-javacc-and-clapham.html","title":"Grammar for Java&#39;s annotations","body":"<p>`/* Annotation syntax follows. */</p>\n\n<p>Annotation  ::=   NormalAnnotation\n  |   SingleMemberAnnotation\n  |   MarkerAnnotation\nNormalAnnotation  ::=   \"@\" Name \"(\" ( MemberValuePairs )? \")\"\nMarkerAnnotation  ::=   \"@\" Name\nSingleMemberAnnotation  ::=   \"@\" Name \"(\" MemberValue \")\"\nMemberValuePairs  ::=   MemberValuePair ( \",\" MemberValuePair )*\nMemberValuePair   ::=    \"=\" MemberValue\nMemberValue   ::=   Annotation\n  |   MemberValueArrayInitializer\n  |   ConditionalExpression\nMemberValueArrayInitializer   ::=   \"{\" ( MemberValue ( \",\" MemberValue )* ( \",\" )? )? \"}\"</p>\n\n<p>/* Annotation Types. */</p>\n\n<p>AnnotationTypeDeclaration   ::=   \"@\" \"interface\"  AnnotationTypeBody\nAnnotationTypeBody  ::=   \"{\" ( AnnotationTypeMemberDeclaration )* \"}\"\nAnnotationTypeMemberDeclaration   ::=   Modifiers ( Type  \"(\" \")\" ( DefaultValue )? \";\" | ClassOrInterfaceDeclaration | EnumDeclaration | AnnotationTypeDeclaration | FieldDeclaration )\n  |   ( \";\" )\nDefaultValue  ::=   \"default\" MemberValue` <a href=\"http://infoether.com/~tom/java.bnf\" rel=\"nofollow noreferrer\">from here</a>. Also see his <a href=\"http://tomcopeland.blogs.com/juniordeveloper/2009/06/lovely-svg-railroad-diagrams-with-javacc-and-clapham.html\" rel=\"nofollow noreferrer\">blog post</a>.</p>\n"},{"tags":[],"owner":{"account_id":102991,"reputation":378282,"user_id":276101,"accept_rate":67,"display_name":"polygenelubricants"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1269220524,"creation_date":1269220524,"answer_id":2489504,"question_id":2489416,"body_markdown":"The authoritative source for Java-related grammar, is, of course, the JLS.\r\n\r\n[JLS 18.1 The Grammar of the Java Programming Language](http://java.sun.com/docs/books/jls/third_edition/html/syntax.html#18.1)\r\n\r\n    Annotations:\r\n            Annotation [Annotations]\r\n    \r\n    Annotation:\r\n            @ TypeName [( [Identifier =] ElementValue)]\r\n    \r\n    ElementValue:\r\n            ConditionalExpression\r\n            Annotation\r\n            ElementValueArrayInitializer\r\n\r\n    ... rest ommitted\r\n","title":"Grammar for Java&#39;s annotations","body":"<p>The authoritative source for Java-related grammar, is, of course, the JLS.</p>\n\n<p><a href=\"http://java.sun.com/docs/books/jls/third_edition/html/syntax.html#18.1\" rel=\"nofollow noreferrer\">JLS 18.1 The Grammar of the Java Programming Language</a></p>\n\n<pre><code>Annotations:\n        Annotation [Annotations]\n\nAnnotation:\n        @ TypeName [( [Identifier =] ElementValue)]\n\nElementValue:\n        ConditionalExpression\n        Annotation\n        ElementValueArrayInitializer\n\n... rest ommitted\n</code></pre>\n"},{"tags":[],"owner":{"account_id":54888,"reputation":101111,"user_id":164299,"accept_rate":99,"display_name":"Rachel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1269221131,"creation_date":1269221131,"answer_id":2489537,"question_id":2489416,"body_markdown":"Java language grammar\r\n\r\n   1. Any Type may be prefixed by [Annotations]:\r\n\r\n  `Type:\r\n      [Annotations] Identifier [TypeArguments] {. Identifier [TypeArguments]} {[]}\r\n      [Annotations] BasicType`\r\n\r\n   2. To permit annotations on levels of an array (in declarations, not constructors), change “{[]}” to “{[Annotations] []}”. (This was abstracted out as “BracketsOpt” in the 2nd edition of the JLS [GJSB00].) For example:\r\n  \r\n\r\n`Type:\r\n      [Annotations] Identifier [TypeArguments]{ . Identifier [TypeArguments]} {[Annotations] []}\r\n      [Annotations] BasicType`\r\n \r\n\r\n `Also permit annotations on varargs (...):\r\n  FormalParameterDeclsRest:\r\n      VariableDeclaratorId [, FormalParameterDecls]\r\n      [Annotations] ... VariableDeclaratorId`\r\n\r\n   3. Annotations may appear on the receiver type by changing uses of “FormalParameters” (in all 5 places it appears in the grammar) to “FormalParameters [Annotations]”. For example:\r\n\r\n ` VoidMethodDeclaratorRest:\r\n      FormalParameters [Annotations] [throws QualifiedIdentifierList] ( MethodBody | ; )`\r\n\r\n\r\n","title":"Grammar for Java&#39;s annotations","body":"<p>Java language grammar</p>\n\n<ol>\n<li><p>Any Type may be prefixed by [Annotations]:</p>\n\n<p><code>Type:\n  [Annotations] Identifier [TypeArguments] {. Identifier [TypeArguments]} {[]}\n  [Annotations] BasicType</code></p></li>\n<li><p>To permit annotations on levels of an array (in declarations, not constructors), change “{[]}” to “{[Annotations] []}”. (This was abstracted out as “BracketsOpt” in the 2nd edition of the JLS [GJSB00].) For example:</p></li>\n</ol>\n\n<p><code>Type:\n      [Annotations] Identifier [TypeArguments]{ . Identifier [TypeArguments]} {[Annotations] []}\n      [Annotations] BasicType</code></p>\n\n<p><code>Also permit annotations on varargs (...):\n  FormalParameterDeclsRest:\n      VariableDeclaratorId [, FormalParameterDecls]\n      [Annotations] ... VariableDeclaratorId</code></p>\n\n<ol start=\"3\">\n<li><p>Annotations may appear on the receiver type by changing uses of “FormalParameters” (in all 5 places it appears in the grammar) to “FormalParameters [Annotations]”. For example:</p>\n\n<p><code>VoidMethodDeclaratorRest:\n  FormalParameters [Annotations] [throws QualifiedIdentifierList] ( MethodBody | ; )</code></p></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7247451,"reputation":53,"user_id":5528924,"display_name":"nickshoe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636539169,"creation_date":1636539169,"answer_id":69911371,"question_id":2489416,"body_markdown":"This is the ANTLRv4 grammar for Java Annotations (usage and definition) from the official [ANTLR GitHub repository](https://github.com/antlr/grammars-v4/blob/master/java/java/JavaParser.g4#L300-L364).\r\n\r\nAnnotation usage grammar:\r\n```antlr\r\naltAnnotationQualifiedName\r\n    : (IDENTIFIER DOT)* &#39;@&#39; IDENTIFIER\r\n    ;\r\n\r\n\r\nannotation\r\n    : (&#39;@&#39; qualifiedName | altAnnotationQualifiedName) (&#39;(&#39; ( elementValuePairs | elementValue )? &#39;)&#39;)?\r\n    ;\r\n\r\n\r\nelementValuePairs\r\n    : elementValuePair (&#39;,&#39; elementValuePair)*\r\n    ;\r\n\r\n\r\nelementValuePair\r\n    : IDENTIFIER &#39;=&#39; elementValue\r\n    ;\r\n\r\n\r\nelementValue\r\n    : expression\r\n    | annotation\r\n    | elementValueArrayInitializer\r\n    ;\r\n\r\n\r\nelementValueArrayInitializer\r\n    : &#39;{&#39; (elementValue (&#39;,&#39; elementValue)*)? (&#39;,&#39;)? &#39;}&#39;\r\n    ;\r\n```\r\n\r\nAnnotation declaration grammar:\r\n```antlr\r\nannotationTypeDeclaration\r\n    : &#39;@&#39; INTERFACE IDENTIFIER annotationTypeBody\r\n    ;\r\n\r\n\r\nannotationTypeBody\r\n    : &#39;{&#39; (annotationTypeElementDeclaration)* &#39;}&#39;\r\n    ;\r\n\r\n\r\nannotationTypeElementDeclaration\r\n    : modifier* annotationTypeElementRest\r\n    | &#39;;&#39; // this is not allowed by the grammar, but apparently allowed by the actual compiler\r\n    ;\r\n\r\n\r\nannotationTypeElementRest\r\n    : typeType annotationMethodOrConstantRest &#39;;&#39;\r\n    | classDeclaration &#39;;&#39;?\r\n    | interfaceDeclaration &#39;;&#39;?\r\n    | enumDeclaration &#39;;&#39;?\r\n    | annotationTypeDeclaration &#39;;&#39;?\r\n    ;\r\n\r\n\r\nannotationMethodOrConstantRest\r\n    : annotationMethodRest\r\n    | annotationConstantRest\r\n    ;\r\n\r\n\r\nannotationMethodRest\r\n    : IDENTIFIER &#39;(&#39; &#39;)&#39; defaultValue?\r\n    ;\r\n\r\n\r\nannotationConstantRest\r\n    : variableDeclarators\r\n    ;\r\n\r\n\r\ndefaultValue\r\n    : DEFAULT elementValue\r\n    ;\r\n```","title":"Grammar for Java&#39;s annotations","body":"<p>This is the ANTLRv4 grammar for Java Annotations (usage and definition) from the official <a href=\"https://github.com/antlr/grammars-v4/blob/master/java/java/JavaParser.g4#L300-L364\" rel=\"nofollow noreferrer\">ANTLR GitHub repository</a>.</p>\n<p>Annotation usage grammar:</p>\n<pre><code>altAnnotationQualifiedName\n    : (IDENTIFIER DOT)* '@' IDENTIFIER\n    ;\n\n\nannotation\n    : ('@' qualifiedName | altAnnotationQualifiedName) ('(' ( elementValuePairs | elementValue )? ')')?\n    ;\n\n\nelementValuePairs\n    : elementValuePair (',' elementValuePair)*\n    ;\n\n\nelementValuePair\n    : IDENTIFIER '=' elementValue\n    ;\n\n\nelementValue\n    : expression\n    | annotation\n    | elementValueArrayInitializer\n    ;\n\n\nelementValueArrayInitializer\n    : '{' (elementValue (',' elementValue)*)? (',')? '}'\n    ;\n</code></pre>\n<p>Annotation declaration grammar:</p>\n<pre><code>annotationTypeDeclaration\n    : '@' INTERFACE IDENTIFIER annotationTypeBody\n    ;\n\n\nannotationTypeBody\n    : '{' (annotationTypeElementDeclaration)* '}'\n    ;\n\n\nannotationTypeElementDeclaration\n    : modifier* annotationTypeElementRest\n    | ';' // this is not allowed by the grammar, but apparently allowed by the actual compiler\n    ;\n\n\nannotationTypeElementRest\n    : typeType annotationMethodOrConstantRest ';'\n    | classDeclaration ';'?\n    | interfaceDeclaration ';'?\n    | enumDeclaration ';'?\n    | annotationTypeDeclaration ';'?\n    ;\n\n\nannotationMethodOrConstantRest\n    : annotationMethodRest\n    | annotationConstantRest\n    ;\n\n\nannotationMethodRest\n    : IDENTIFIER '(' ')' defaultValue?\n    ;\n\n\nannotationConstantRest\n    : variableDeclarators\n    ;\n\n\ndefaultValue\n    : DEFAULT elementValue\n    ;\n</code></pre>\n"}],"owner":{"account_id":96837,"reputation":94466,"user_id":263004,"accept_rate":96,"display_name":"Vivin Paliath"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":958,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":2489504,"answer_count":4,"score":2,"last_activity_date":1636539169,"creation_date":1269218517,"question_id":2489416,"body_markdown":"Is there a BNF or EBNF that describes the grammar for Java&#39;s annotations?","title":"Grammar for Java&#39;s annotations","body":"<p>Is there a BNF or EBNF that describes the grammar for Java's annotations?</p>\n"},{"tags":["java","constructor","final"],"answers":[{"tags":[],"owner":{"account_id":2177522,"reputation":120796,"user_id":1927832,"accept_rate":49,"display_name":"Suresh Atta"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1520333301,"creation_date":1520332967,"answer_id":49128870,"question_id":49128840,"body_markdown":"You are almost there. Rewrite your constructors such way that your default constructor call the overloaded constructor with value 0.\r\n\r\n   \r\n\r\n    public class MyClass {\r\n    \tprivate final int variable;\r\n    \r\n    \tpublic MyClass() {\r\n    \t\tthis(0);\r\n    \t}\r\n    \r\n    \tpublic MyClass(int value) {\r\n    \t\tvariable = value;\r\n    \t}\r\n    \r\n    }","title":"Final variable and Constructor Overloading","body":"<p>You are almost there. Rewrite your constructors such way that your default constructor call the overloaded constructor with value 0.</p>\n\n<pre><code>public class MyClass {\n    private final int variable;\n\n    public MyClass() {\n        this(0);\n    }\n\n    public MyClass(int value) {\n        variable = value;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10878617,"reputation":2606,"user_id":7998319,"display_name":"gati sahu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520333890,"creation_date":1520333890,"answer_id":49129178,"question_id":49128840,"body_markdown":"If you have small number variable then it is ok to use Telescoping Constructor pattern.   \r\nMyClass() { ... }\r\nMyClass(int value1) { ... }       \r\nPizza(int value1, int value2,int value3) { ... }\r\n\r\n                                                                                                    If there is multiple variable and instead of using method overloading you can use builder pattern so you can make all variable final and will build object gradually.\r\n\r\n\r\n    public class Employee {\r\n    \tprivate final int id;\r\n    \tprivate final String name;\r\n    \r\n    \tprivate Employee(String name) {\r\n    \t\tsuper();\r\n    \t\tthis.id = generateId();\r\n    \t\tthis.name = name;\r\n    \r\n    \t}\r\n    \r\n    \tprivate int generateId() {\r\n    \t\t// Generate an id with some mechanism\r\n    \t\tint id = 0;\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tstatic public class Builder {\r\n    \t\tprivate int id;\r\n    \t\tprivate String name;\r\n    \r\n    \t\tpublic Builder() {\r\n    \t\t}\r\n    \r\n    \t\tpublic Builder name(String name) {\r\n    \t\t\tthis.name = name;\r\n    \t\t\treturn this;\r\n    \t\t}\r\n    \r\n    \t\tpublic Employee build() {\r\n    \t\t\tEmployee emp = new Employee(name);\r\n    \t\t\treturn emp;\r\n    \t\t}\r\n    \t}\r\n    }","title":"Final variable and Constructor Overloading","body":"<p>If you have small number variable then it is ok to use Telescoping Constructor pattern.<br>\nMyClass() { ... }\nMyClass(int value1) { ... }<br>\nPizza(int value1, int value2,int value3) { ... }</p>\n\n<pre><code>                                                                                                If there is multiple variable and instead of using method overloading you can use builder pattern so you can make all variable final and will build object gradually.\n\n\npublic class Employee {\n    private final int id;\n    private final String name;\n\n    private Employee(String name) {\n        super();\n        this.id = generateId();\n        this.name = name;\n\n    }\n\n    private int generateId() {\n        // Generate an id with some mechanism\n        int id = 0;\n        return id;\n    }\n\n    static public class Builder {\n        private int id;\n        private String name;\n\n        public Builder() {\n        }\n\n        public Builder name(String name) {\n            this.name = name;\n            return this;\n        }\n\n        public Employee build() {\n            Employee emp = new Employee(name);\n            return emp;\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1485563,"reputation":2200,"user_id":1520767,"display_name":"fabfas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520336930,"creation_date":1520336930,"answer_id":49130134,"question_id":49128840,"body_markdown":"You can not assign `final` variable in both constructors. If you want to keep the `final` variable and also want to set via constructor then one possibility that you will dedicate one constructor to set the final variable and also include common code functionality needed by the class. Then call this from another constructor like `this(*finalVariableValue*);`\r\n\r\n","title":"Final variable and Constructor Overloading","body":"<p>You can not assign <code>final</code> variable in both constructors. If you want to keep the <code>final</code> variable and also want to set via constructor then one possibility that you will dedicate one constructor to set the final variable and also include common code functionality needed by the class. Then call this from another constructor like <code>this(*finalVariableValue*);</code></p>\n"}],"owner":{"account_id":5145091,"reputation":499,"user_id":4121314,"accept_rate":100,"display_name":"Niles"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1669,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":49128870,"answer_count":3,"score":5,"last_activity_date":1636539094,"creation_date":1520332860,"question_id":49128840,"body_markdown":"I want to use **Constructor Overloading** in my class and I also would like to have some **final** variables to define.\r\n\r\nThe structure I would like to have is this:\r\n\r\n    public class MyClass{\r\n        private final int variable;\r\n\r\n        public MyClass(){\r\n            /* some code and \r\n               other final variable declaration */\r\n            variable = 0;\r\n        }\r\n        \r\n        public MyClass(int value){\r\n            this();\r\n            variable = value;\r\n        }\r\n    }\r\n\r\nI would like to call *this()* to avoid to rewrite the code in my first constructor but I have already defined the final variable so this give a compilation error.\r\nThe most convenient solution I have in mind is to avoid the final keyword but of course it is the worst solution.\r\n\r\nWhat can be the best way to define the variable in multiple constructors and avoid code repetitions?","title":"Final variable and Constructor Overloading","body":"<p>I want to use <strong>Constructor Overloading</strong> in my class and I also would like to have some <strong>final</strong> variables to define.</p>\n\n<p>The structure I would like to have is this:</p>\n\n<pre><code>public class MyClass{\n    private final int variable;\n\n    public MyClass(){\n        /* some code and \n           other final variable declaration */\n        variable = 0;\n    }\n\n    public MyClass(int value){\n        this();\n        variable = value;\n    }\n}\n</code></pre>\n\n<p>I would like to call <em>this()</em> to avoid to rewrite the code in my first constructor but I have already defined the final variable so this give a compilation error.\nThe most convenient solution I have in mind is to avoid the final keyword but of course it is the worst solution.</p>\n\n<p>What can be the best way to define the variable in multiple constructors and avoid code repetitions?</p>\n"},{"tags":["java","kotlin","appium","android-espresso","appium-android"],"owner":{"account_id":10526668,"reputation":3195,"user_id":10426052,"display_name":"Baterka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1636538894,"creation_date":1636538894,"question_id":69911308,"body_markdown":"I am using Appium to test Android application and today I was instructed to switch from `UIAutomator2` to `Espresso` automator. I realized that it will not be so simple as just changing automator name.\r\n\r\nAs far as my searching go, Appium with `Espresso` automator have very little (almost none) documentation for writing selectors (view/data matchers) in Java/Kotlin.\r\n\r\nI am trying to find out how to for example rewrite my current method for `search by text`. It looks like this:\r\n```kotlin\r\n(driver as AndroidDriver&lt;*&gt;).findElementByAndroidUIAutomator(&quot;new UiSelector().textContains(\\&quot;$text\\&quot;)&quot;)\r\n// Written for UIAutomator2\r\n```\r\n\r\nI tried:\r\n```kotlin\r\n(driver as AndroidDriver&lt;*&gt;).findElement(MobileBy.androidViewMatcher(Json().toJson(\r\n    ImmutableMap.of(\r\n        &quot;name&quot;, &quot;withText&quot;,\r\n        &quot;args&quot;, ImmutableList.of(&quot;&lt;text&gt;&quot;),\r\n    )\r\n)))\r\n```\r\nBut does not seems to work...\r\n\r\nI see in `appium-espresso-driver` readme that I [can search by text and by much more][1], but I cannot simply find a documentation how to send those commands to Appium Server trough `Appium java client`.\r\n\r\nAny recommendations for docs, or help how to do it? Thanks\r\n\r\n\r\n  [1]: https://github.com/appium/appium-espresso-driver#element-location","title":"How to write Espresso view/data matchers in Appium Java Client?","body":"<p>I am using Appium to test Android application and today I was instructed to switch from <code>UIAutomator2</code> to <code>Espresso</code> automator. I realized that it will not be so simple as just changing automator name.</p>\n<p>As far as my searching go, Appium with <code>Espresso</code> automator have very little (almost none) documentation for writing selectors (view/data matchers) in Java/Kotlin.</p>\n<p>I am trying to find out how to for example rewrite my current method for <code>search by text</code>. It looks like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>(driver as AndroidDriver&lt;*&gt;).findElementByAndroidUIAutomator(&quot;new UiSelector().textContains(\\&quot;$text\\&quot;)&quot;)\n// Written for UIAutomator2\n</code></pre>\n<p>I tried:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>(driver as AndroidDriver&lt;*&gt;).findElement(MobileBy.androidViewMatcher(Json().toJson(\n    ImmutableMap.of(\n        &quot;name&quot;, &quot;withText&quot;,\n        &quot;args&quot;, ImmutableList.of(&quot;&lt;text&gt;&quot;),\n    )\n)))\n</code></pre>\n<p>But does not seems to work...</p>\n<p>I see in <code>appium-espresso-driver</code> readme that I <a href=\"https://github.com/appium/appium-espresso-driver#element-location\" rel=\"nofollow noreferrer\">can search by text and by much more</a>, but I cannot simply find a documentation how to send those commands to Appium Server trough <code>Appium java client</code>.</p>\n<p>Any recommendations for docs, or help how to do it? Thanks</p>\n"},{"tags":["java","enums","enumeration","abstraction"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":2,"creation_date":1636534226,"post_id":69909969,"comment_id":123579781,"body_markdown":"Do you mean something like `EFormSw.OBJ_KEY_LIST.enumType.values()`? I don&#39;t see how you can access `enumType` directly from `EFormSw`. You&#39;d have to use `OBJ_KEY_LIST` or `OBJ_NOTE_LIST`.","body":"Do you mean something like <code>EFormSw.OBJ_KEY_LIST.enumType.values()</code>? I don&#39;t see how you can access <code>enumType</code> directly from <code>EFormSw</code>. You&#39;d have to use <code>OBJ_KEY_LIST</code> or <code>OBJ_NOTE_LIST</code>."},{"owner":{"account_id":6346113,"reputation":549,"user_id":4926622,"display_name":"Daniel Methner"},"score":0,"creation_date":1636534512,"post_id":69909969,"comment_id":123579884,"body_markdown":"@Sweeper: yes of course, that was a typo. Thank you for pointing that out!","body":"@Sweeper: yes of course, that was a typo. Thank you for pointing that out!"},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1636535040,"post_id":69909969,"comment_id":123580098,"body_markdown":"Then it raises the question of, if you know that it’s `OBJ_KEY_LIST`, why can’t you just do `EObjKeyType.values()` directly? If you don’t know which constant it is, then you would only get an array of `Enum&lt;?&gt;`s, since each constant has a different type of `enumType` and you don’t know which one it is. Is that actually useful to you?","body":"Then it raises the question of, if you know that it’s <code>OBJ_KEY_LIST</code>, why can’t you just do <code>EObjKeyType.values()</code> directly? If you don’t know which constant it is, then you would only get an array of <code>Enum&lt;?&gt;</code>s, since each constant has a different type of <code>enumType</code> and you don’t know which one it is. Is that actually useful to you?"},{"owner":{"account_id":6346113,"reputation":549,"user_id":4926622,"display_name":"Daniel Methner"},"score":0,"creation_date":1636536098,"post_id":69909969,"comment_id":123580467,"body_markdown":"The code snippet is a simplication of the subject to make the issue more precise for the SO question. In the actual code there will be an iteration over the EFormSw enumeration, leading to this question.","body":"The code snippet is a simplication of the subject to make the issue more precise for the SO question. In the actual code there will be an iteration over the EFormSw enumeration, leading to this question."}],"answers":[{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636538880,"creation_date":1636538880,"answer_id":69911305,"question_id":69909969,"body_markdown":"You can make `enumType` a `Class&lt;? extends Enum&lt;?&gt;&gt;`:\r\n\r\n```\r\nenum EFormSw {\r\n\r\n  OBJ_KEY_LIST(&quot;Object Keys&quot;, EObjKeyType.class),\r\n  OBJ_NOTE_LIST(&quot;Object Notes&quot;, EObjNoteType.class);\r\n\r\n  private final String label;\r\n  private final Class&lt;? extends Enum&lt;?&gt;&gt; enumType;\r\n\r\n  EFormSw(String label, Class&lt;? extends Enum&lt;?&gt;&gt; enumType) {\r\n    this.label = label;\r\n    this.enumType = enumType;\r\n  }\r\n\r\n  public String getLabel() {\r\n    return label;\r\n  }\r\n\r\n  public Class&lt;? extends Enum&lt;?&gt;&gt; getEnumType() {\r\n    return enumType;\r\n  }\r\n}\r\n```\r\n\r\nWhen you are looping through the values of `EFormSw`, you can use `getEnumConstants` to get an `Enum&lt;?&gt;[]` representing the enum values of the enum type, but you won&#39;t be able to do much with it, because you don&#39;t know which exact enum type it is:\r\n\r\n    for (EFormSw constant: EFormSw.values()) {\r\n        Enum&lt;?&gt;[] values = constant.getEnumType().getEnumConstants();\r\n    }\r\n\r\n(You can still call most of the methods declared in `java.lang.Enum` and `java.lang.Object` on the array elements, so if that&#39;s all you need, you can just use that.)\r\n\r\nIf you want to use some common functionality shared between `EObjKeyType` and `EObjNoteType`, you can extract all the common functionality into a common interface that they both implement:\r\n\r\n```\r\ninterface EObjType {\r\n    // ...\r\n}\r\n\r\nenum EObjKeyType implements EObjType {\r\n    // ...\r\n}\r\n\r\nenum EObjNoteType implements EObjType {\r\n    // ...\r\n}\r\n```\r\n\r\nThen change `enumType` to:\r\n\r\n    private final Class&lt;? extends EObjType &gt; enumType;\r\n\r\nNow you can get a `EObjType[]` instead.","title":"Java Enum with field of type enum","body":"<p>You can make <code>enumType</code> a <code>Class&lt;? extends Enum&lt;?&gt;&gt;</code>:</p>\n<pre><code>enum EFormSw {\n\n  OBJ_KEY_LIST(&quot;Object Keys&quot;, EObjKeyType.class),\n  OBJ_NOTE_LIST(&quot;Object Notes&quot;, EObjNoteType.class);\n\n  private final String label;\n  private final Class&lt;? extends Enum&lt;?&gt;&gt; enumType;\n\n  EFormSw(String label, Class&lt;? extends Enum&lt;?&gt;&gt; enumType) {\n    this.label = label;\n    this.enumType = enumType;\n  }\n\n  public String getLabel() {\n    return label;\n  }\n\n  public Class&lt;? extends Enum&lt;?&gt;&gt; getEnumType() {\n    return enumType;\n  }\n}\n</code></pre>\n<p>When you are looping through the values of <code>EFormSw</code>, you can use <code>getEnumConstants</code> to get an <code>Enum&lt;?&gt;[]</code> representing the enum values of the enum type, but you won't be able to do much with it, because you don't know which exact enum type it is:</p>\n<pre><code>for (EFormSw constant: EFormSw.values()) {\n    Enum&lt;?&gt;[] values = constant.getEnumType().getEnumConstants();\n}\n</code></pre>\n<p>(You can still call most of the methods declared in <code>java.lang.Enum</code> and <code>java.lang.Object</code> on the array elements, so if that's all you need, you can just use that.)</p>\n<p>If you want to use some common functionality shared between <code>EObjKeyType</code> and <code>EObjNoteType</code>, you can extract all the common functionality into a common interface that they both implement:</p>\n<pre><code>interface EObjType {\n    // ...\n}\n\nenum EObjKeyType implements EObjType {\n    // ...\n}\n\nenum EObjNoteType implements EObjType {\n    // ...\n}\n</code></pre>\n<p>Then change <code>enumType</code> to:</p>\n<pre><code>private final Class&lt;? extends EObjType &gt; enumType;\n</code></pre>\n<p>Now you can get a <code>EObjType[]</code> instead.</p>\n"}],"owner":{"account_id":6346113,"reputation":549,"user_id":4926622,"display_name":"Daniel Methner"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":952,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69911305,"answer_count":1,"score":3,"last_activity_date":1636538880,"creation_date":1636533102,"question_id":69909969,"body_markdown":"Not sure how to phrase the question so please feel free to update it. \r\nI have a complex enumeration which references other enumerations based on the enumeration value, like this:\r\n```\r\npublic enum EFormSw {\r\n\r\n    OBJ_KEY_LIST(&quot;Object Keys&quot;, EObjKeyType.class),\r\n    OBJ_NOTE_LIST(&quot;Object Notes&quot;,  EObjNoteType.class);\r\n\r\npublic final String label;\r\npublic final Class&lt;/*&quot;E is an Enum&quot;*/&gt; enumType;\r\n\r\n// Constructor...\r\n```\r\n\r\nWhat I want to be able to do in another class is to write something like \r\n\r\n```\r\nEFormSw.OBJ_KEY_LIST.enumType.values().someThingElse().\r\n```\r\nWhich is only possible if its clear by the field type that this is an enumeration. \r\n\r\nIs there any way to achieve this at all? \r\n\r\n","title":"Java Enum with field of type enum","body":"<p>Not sure how to phrase the question so please feel free to update it.\nI have a complex enumeration which references other enumerations based on the enumeration value, like this:</p>\n<pre><code>public enum EFormSw {\n\n    OBJ_KEY_LIST(&quot;Object Keys&quot;, EObjKeyType.class),\n    OBJ_NOTE_LIST(&quot;Object Notes&quot;,  EObjNoteType.class);\n\npublic final String label;\npublic final Class&lt;/*&quot;E is an Enum&quot;*/&gt; enumType;\n\n// Constructor...\n</code></pre>\n<p>What I want to be able to do in another class is to write something like</p>\n<pre><code>EFormSw.OBJ_KEY_LIST.enumType.values().someThingElse().\n</code></pre>\n<p>Which is only possible if its clear by the field type that this is an enumeration.</p>\n<p>Is there any way to achieve this at all?</p>\n"},{"tags":["java","spring","spring-batch","camunda"],"answers":[{"tags":[],"owner":{"account_id":1612994,"reputation":7243,"user_id":1491439,"display_name":"rob2universe"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636338198,"creation_date":1636338198,"answer_id":69878082,"question_id":69873275,"body_markdown":"Approaching it with BPM gives you transparency, flexibility, faster implementation, and out of the box persistence and error handling, and most importantly support for long-running processes. I don&#39;t share the performance concern. 250,000 (daily? Monthly or every 20 days?) is not much for Camunda. You write process instances may run for about 20 days, but I don&#39;t see how frequently you start these jobs of 250,000. If it is a business daily run, you would still only end up with 5,500,000 instances per month. Not an issue. You should consider \r\n\r\n - what history level you need. Likely full is not required here,audit may be sufficient.\r\n - how big the batch items are and where they will be stored. It is not a good design to persist large business objects as process data. A simple CRUD service for the business object would be better. You can work with transient process data when accessing them from the engine. (OK... if the object are not big and we are only talking 250k instance a month, even simple JSON serialization as process data may do.)\r\n- how long you want to store the audit data? Set the TTL on the process accordingly. Seem like &lt;30 days could be enough.\r\n","title":"Batch vs BPMN processing with long wait states","body":"<p>Approaching it with BPM gives you transparency, flexibility, faster implementation, and out of the box persistence and error handling, and most importantly support for long-running processes. I don't share the performance concern. 250,000 (daily? Monthly or every 20 days?) is not much for Camunda. You write process instances may run for about 20 days, but I don't see how frequently you start these jobs of 250,000. If it is a business daily run, you would still only end up with 5,500,000 instances per month. Not an issue. You should consider</p>\n<ul>\n<li>what history level you need. Likely full is not required here,audit may be sufficient.</li>\n<li>how big the batch items are and where they will be stored. It is not a good design to persist large business objects as process data. A simple CRUD service for the business object would be better. You can work with transient process data when accessing them from the engine. (OK... if the object are not big and we are only talking 250k instance a month, even simple JSON serialization as process data may do.)</li>\n<li>how long you want to store the audit data? Set the TTL on the process accordingly. Seem like &lt;30 days could be enough.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":191862,"reputation":101,"user_id":432685,"display_name":"Mensfeld"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636538869,"creation_date":1636538869,"answer_id":69911300,"question_id":69873275,"body_markdown":"I discussed this issue also with my technical lead and there were several arguments against BPMN (Camunda).\r\n1. level of difficulty of a potential process update in case there are instances still in wait state (e.g. running processes).\r\n2. using BPMN and potentially solving scaling and performance could be in contradiction for what we originally intended to use it (simple message orchestration).\r\n\r\nBecause of these reasons the decision was to go with Spring Batch, where we divide the business batch (as described in the activity diagrams, with the wait states etc.) and the technical batch (the Spring Batch implementation). In that case, every step can take the current context, perform the operation and update it. One technical batch would potentially handle every business batch currently planned to be processed (e.g. data of the newly created batch and all those where the wait states expired today). This also require us to create a state machine; probably one which supports parallel execution as well (for example Petri net).","title":"Batch vs BPMN processing with long wait states","body":"<p>I discussed this issue also with my technical lead and there were several arguments against BPMN (Camunda).</p>\n<ol>\n<li>level of difficulty of a potential process update in case there are instances still in wait state (e.g. running processes).</li>\n<li>using BPMN and potentially solving scaling and performance could be in contradiction for what we originally intended to use it (simple message orchestration).</li>\n</ol>\n<p>Because of these reasons the decision was to go with Spring Batch, where we divide the business batch (as described in the activity diagrams, with the wait states etc.) and the technical batch (the Spring Batch implementation). In that case, every step can take the current context, perform the operation and update it. One technical batch would potentially handle every business batch currently planned to be processed (e.g. data of the newly created batch and all those where the wait states expired today). This also require us to create a state machine; probably one which supports parallel execution as well (for example Petri net).</p>\n"}],"owner":{"account_id":191862,"reputation":101,"user_id":432685,"display_name":"Mensfeld"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":595,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69911300,"answer_count":2,"score":1,"last_activity_date":1636538869,"creation_date":1636294896,"question_id":69873275,"body_markdown":"I am working on a Java project (Spring) where I need to create batch processing for a rather complex scenario. Some of the steps would have to do a rather long waiting, e.g. 20 days. I am not really sure, how I should tackle this scenario.\r\n\r\nMy first thought was to do it in a BPMN engine (like Camunda), where wait states are part of the modelling elements. Taking in consideration the amount of data that need to be processed, I would end up with around 250.000 process instances for a single run and this amount of data concerns from a performance perspective in case of a BPMN-based processing.\r\n\r\nThe other solution would be taking a framework designed for batch processing, e.g. Spring Batch. My problem in that case is the long wait states. As far as I understood it, Spring Batch doesn&#39;t support wait states. Each draft solution I came up with however, has some limitation.\r\n\r\nWould I do it in one big batch, the step, where potentially the wait can occur, will halt until the 20 days are over. This would block processing the rest of the data to be processed. I guess I could mark the given data item to be processed later, and re-run the batch until every item is processed. This would mean I would need to lay out every branch of the processing in a linear fashion and the steps themselves would accept only data items marked for them. \r\n\r\nWould I start a new batch job for every item to be processed, I would need a mechanism to stop at a given point and then later revive the job/step from a given step. A natural solution would be to create a more fine grained job system but then I would lose the context information about the processing.\r\n\r\nIn both cases, I would end up with my own BPMN solution implemented as a state machine in the database...\r\n\r\nI would appreciate any help or hint you can give me. Thanks in advance.","title":"Batch vs BPMN processing with long wait states","body":"<p>I am working on a Java project (Spring) where I need to create batch processing for a rather complex scenario. Some of the steps would have to do a rather long waiting, e.g. 20 days. I am not really sure, how I should tackle this scenario.</p>\n<p>My first thought was to do it in a BPMN engine (like Camunda), where wait states are part of the modelling elements. Taking in consideration the amount of data that need to be processed, I would end up with around 250.000 process instances for a single run and this amount of data concerns from a performance perspective in case of a BPMN-based processing.</p>\n<p>The other solution would be taking a framework designed for batch processing, e.g. Spring Batch. My problem in that case is the long wait states. As far as I understood it, Spring Batch doesn't support wait states. Each draft solution I came up with however, has some limitation.</p>\n<p>Would I do it in one big batch, the step, where potentially the wait can occur, will halt until the 20 days are over. This would block processing the rest of the data to be processed. I guess I could mark the given data item to be processed later, and re-run the batch until every item is processed. This would mean I would need to lay out every branch of the processing in a linear fashion and the steps themselves would accept only data items marked for them.</p>\n<p>Would I start a new batch job for every item to be processed, I would need a mechanism to stop at a given point and then later revive the job/step from a given step. A natural solution would be to create a more fine grained job system but then I would lose the context information about the processing.</p>\n<p>In both cases, I would end up with my own BPMN solution implemented as a state machine in the database...</p>\n<p>I would appreciate any help or hint you can give me. Thanks in advance.</p>\n"},{"tags":["java","spring","spring-cloud-gateway"],"comments":[{"owner":{"account_id":1833925,"reputation":1433,"user_id":1664664,"accept_rate":58,"display_name":"Kevin"},"score":0,"creation_date":1617954562,"post_id":67016887,"comment_id":118460102,"body_markdown":"My proxy added X-Forwarded-* headers, how SCG capture those headers?","body":"My proxy added X-Forwarded-* headers, how SCG capture those headers?"}],"answers":[{"tags":[],"owner":{"account_id":5130430,"reputation":428,"user_id":4110827,"display_name":"zhang-yuan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617954544,"creation_date":1617954544,"answer_id":67017083,"question_id":67016887,"body_markdown":"you could check your request headers key, like [X-Forwarded-For](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-For) (depends on your proxy settings)\r\n\r\n&gt; The X-Forwarded-For (XFF) header is a de-facto standard header for identifying the originating IP address of a client connecting to a web server through an HTTP proxy or a load balancer.\r\n\r\n`getFirst` will return the origin ip\r\n\r\n```\r\nexchange.getRequest().getHeaders().getFirst(&quot;X-Forwarded-For&quot;)\r\n```","title":"Get real client IP address in Spring Cloud Gateway","body":"<p>you could check your request headers key, like <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-For\" rel=\"nofollow noreferrer\">X-Forwarded-For</a> (depends on your proxy settings)</p>\n<blockquote>\n<p>The X-Forwarded-For (XFF) header is a de-facto standard header for identifying the originating IP address of a client connecting to a web server through an HTTP proxy or a load balancer.</p>\n</blockquote>\n<p><code>getFirst</code> will return the origin ip</p>\n<pre><code>exchange.getRequest().getHeaders().getFirst(&quot;X-Forwarded-For&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1833925,"reputation":1433,"user_id":1664664,"accept_rate":58,"display_name":"Kevin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1617960861,"creation_date":1617960861,"answer_id":67018627,"question_id":67016887,"body_markdown":"I found a solution!. There is an implementation of `RemoteAddressResolver` is `XForwardedRemoteAddressResolver`. Just use it, don&#39;t need to implement logic again.\r\n\r\n```\r\n@Component\r\npublic class RemoteAddressKeyResolver implements KeyResolver {\r\n    @Override\r\n    public Mono&lt;String&gt; resolve(ServerWebExchange exchange) {\r\n        XForwardedRemoteAddressResolver resolver = XForwardedRemoteAddressResolver.maxTrustedIndex(1);\r\n        InetSocketAddress inetSocketAddress = resolver.resolve(exchange);\r\n        return Mono.just(inetSocketAddress.getAddress().getHostAddress());\r\n    }\r\n}\r\n```\r\n\r\nThat&#39;s all, so simple!\r\n","title":"Get real client IP address in Spring Cloud Gateway","body":"<p>I found a solution!. There is an implementation of <code>RemoteAddressResolver</code> is <code>XForwardedRemoteAddressResolver</code>. Just use it, don't need to implement logic again.</p>\n<pre><code>@Component\npublic class RemoteAddressKeyResolver implements KeyResolver {\n    @Override\n    public Mono&lt;String&gt; resolve(ServerWebExchange exchange) {\n        XForwardedRemoteAddressResolver resolver = XForwardedRemoteAddressResolver.maxTrustedIndex(1);\n        InetSocketAddress inetSocketAddress = resolver.resolve(exchange);\n        return Mono.just(inetSocketAddress.getAddress().getHostAddress());\n    }\n}\n</code></pre>\n<p>That's all, so simple!</p>\n"},{"tags":[],"owner":{"account_id":13764396,"reputation":21,"user_id":9933300,"display_name":"WENPIN1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636538598,"creation_date":1636538598,"answer_id":69911222,"question_id":67016887,"body_markdown":"\t\treturn exchange -&gt; {\r\n\t\t\t// String origin = exchange.getRequest().getHeaders().getFirst(&quot;X-Forwarded-For&quot;);\r\n\t\t\t// if (origin == null) \r\n\t\t\t// origin = exchange.getRequest().getRemoteAddress().getAddress().getHostAddress();\r\n\t\t\t// return Mono.just(origin);\r\n\t\t\tXForwardedRemoteAddressResolver resolver = XForwardedRemoteAddressResolver.maxTrustedIndex(1);\r\n\t\t\tInetSocketAddress inetSocketAddress = resolver.resolve(exchange);\r\n\t\t\tlogger.trace(&quot;inetSocketAddress {}&quot;, inetSocketAddress);\r\n\t\t\tlogger.trace(&quot;.getHostName() {}&quot;, inetSocketAddress.getHostName());\r\n\t\t\treturn Mono.just(inetSocketAddress.getHostName());\r\n\t\t};","title":"Get real client IP address in Spring Cloud Gateway","body":"<pre><code>    return exchange -&gt; {\n        // String origin = exchange.getRequest().getHeaders().getFirst(&quot;X-Forwarded-For&quot;);\n        // if (origin == null) \n        // origin = exchange.getRequest().getRemoteAddress().getAddress().getHostAddress();\n        // return Mono.just(origin);\n        XForwardedRemoteAddressResolver resolver = XForwardedRemoteAddressResolver.maxTrustedIndex(1);\n        InetSocketAddress inetSocketAddress = resolver.resolve(exchange);\n        logger.trace(&quot;inetSocketAddress {}&quot;, inetSocketAddress);\n        logger.trace(&quot;.getHostName() {}&quot;, inetSocketAddress.getHostName());\n        return Mono.just(inetSocketAddress.getHostName());\n    };\n</code></pre>\n"}],"owner":{"account_id":1833925,"reputation":1433,"user_id":1664664,"accept_rate":58,"display_name":"Kevin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6861,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":67018627,"answer_count":3,"score":3,"last_activity_date":1636538827,"creation_date":1617953629,"question_id":67016887,"body_markdown":"I implement rate limiting in Spring Cloud Gateway (SCG). I get client IP address with below code\r\n\r\n```\r\n@Component\r\npublic class RemoteAddressKeyResolver implements KeyResolver {\r\n    @Override\r\n    public Mono&lt;String&gt; resolve(ServerWebExchange exchange) {\r\n        return Mono.just(exchange.getRequest().getRemoteAddress().getAddress().getHostAddress());\r\n    }\r\n}\r\n```\r\n\r\nMy SCG is behind a proxy so it gets address of proxy not real client address. How can I get real client address?","title":"Get real client IP address in Spring Cloud Gateway","body":"<p>I implement rate limiting in Spring Cloud Gateway (SCG). I get client IP address with below code</p>\n<pre><code>@Component\npublic class RemoteAddressKeyResolver implements KeyResolver {\n    @Override\n    public Mono&lt;String&gt; resolve(ServerWebExchange exchange) {\n        return Mono.just(exchange.getRequest().getRemoteAddress().getAddress().getHostAddress());\n    }\n}\n</code></pre>\n<p>My SCG is behind a proxy so it gets address of proxy not real client address. How can I get real client address?</p>\n"},{"tags":["java","spring-boot","jackson"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636536598,"creation_date":1636535736,"answer_id":69910553,"question_id":69910485,"body_markdown":"If I am not mistaken, since it is a private field, then the Field `@JsonProperty` annotation itself is not used, but rather the Getter/Setter.\r\n\r\nThe Getter/Setter will be used for serialization/de-serialization and in both cases they do not match `device_id` name;\r\n\r\nTo Fix it: Add `@JsonProperty` to your Getter/Setter.\r\n\r\n\r\nOn the other hand, if it was a public variable, then the below without Getter/Setter would work fine:\r\n\r\n    @JsonProperty(&quot;device_id&quot;)\r\n    public String deviceId;\r\n\r\n\r\n=== Tested Code ===\r\n\r\n\r\n    @JsonIgnoreProperties(ignoreUnknown = true)\r\n    public class LogMdto {\r\n    \r\n        private String id;\r\n    \r\n        @JsonProperty(value = &quot;object_id&quot;)\r\n        private String objectId;\r\n    \r\n        @JsonProperty(value = &quot;object_name&quot;)\r\n        private String objectName;\r\n    \r\n        private String deviceId;\r\n    \r\n        @NotNull(message = &quot;may not be null&quot;)\r\n        private String description;\r\n    \r\n        @NotNull(message = &quot;may not be null&quot;)\r\n        private String code;\r\n    \r\n        private Integer action;\r\n    \r\n        private int severity;\r\n    \r\n        @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;)\r\n        private Timestamp date;\r\n    \r\n\r\n        public String getId() {\r\n            return id;\r\n        }\r\n    \r\n        public Timestamp getDate() {\r\n            return date;\r\n        }\r\n    \r\n        public void setDate(String date) {\r\n            DateTimeFormatter dft = DateTimeFormatter.ISO_LOCAL_DATE_TIME;\r\n            this.date = Timestamp.valueOf(LocalDateTime.from(dft.parse(date)));\r\n        }\r\n    \r\n        public String getObjectId() {\r\n            return objectId;\r\n        }\r\n    \r\n        public void setObjectId(String objectId) {\r\n            this.objectId = objectId;\r\n        }\r\n    \r\n        public String getObjectName() {\r\n            return objectName;\r\n        }\r\n    \r\n        public void setObjectName(String objectName) {\r\n            this.objectName = objectName;\r\n        }\r\n        @JsonProperty(&quot;device_id&quot;)\r\n        public String getDeviceId() {\r\n            return deviceId;\r\n        }\r\n        @JsonProperty(&quot;device_id&quot;)\r\n        public void setDeviceId(String deviceId) {\r\n            this.deviceId = deviceId;\r\n        }\r\n    \r\n        public String getDescription() {\r\n            return description;\r\n        }\r\n    \r\n        public void setDescription(String description) {\r\n            this.description = description;\r\n        }\r\n    \r\n        public String getCode() {\r\n            return code;\r\n        }\r\n    \r\n        public void setCode(String code) {\r\n            this.code = code;\r\n        }\r\n    \r\n        public Integer getAction() {\r\n            return action;\r\n        }\r\n    \r\n        public void setAction(Integer action) {\r\n            this.action = action;\r\n        }\r\n    \r\n        public void setId(String id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public int getSeverity() {\r\n            return severity;\r\n        }\r\n    \r\n        public void setSeverity(int severity) {\r\n            this.severity = severity;\r\n        }\r\n    }\r\n\r\n----------\r\n\r\n\r\n&gt;     public static void main(String[] args) throws Exception{\r\n&gt;         String jsonTest = &quot;{\\n&quot; +\r\n&gt;                 &quot;        \\&quot;id\\&quot;: \\&quot;8a599509-994a-4cff-ad6d-c3f770e8d159\\&quot;,\\n&quot; +\r\n&gt;                 &quot;        \\&quot;action\\&quot;: \\&quot;0\\&quot;,\\n&quot; +\r\n&gt;                 &quot;        \\&quot;code\\&quot;: \\&quot;13\\&quot;,\\n&quot; +\r\n&gt;                 &quot;        \\&quot;device_id\\&quot;: \\&quot;0BC813D9-37FE-4FAB-9FA0-05F85CBAE777\\&quot;,\\n&quot; +\r\n&gt;                 &quot;        \\&quot;branch_id\\&quot;: \\&quot;0BC813D9-37FE-4FAB-9FA0-05F85CBAE999\\&quot;,\\n&quot; +\r\n&gt;                 &quot;        \\&quot;description\\&quot;: \\&quot;Sergio sei uno stra-figo\\&quot;,\\n&quot; +\r\n&gt;                 &quot;        \\&quot;date\\&quot;: \\&quot;2021-11-09T10:22:45\\&quot;,\\n&quot; +\r\n&gt;                 &quot;        \\&quot;severity\\&quot;: 1\\n&quot; +\r\n&gt;                 &quot;      }&quot;;\r\n&gt; \r\n&gt;         LogMdto logMdto = new ObjectMapper().readValue(jsonTest, LogMdto.class);\r\n&gt; \r\n&gt;         System.out.println(logMdto.getDeviceId());\r\n&gt;     }\r\n\r\n\r\n----------\r\nLog:\r\n\r\n    0BC813D9-37FE-4FAB-9FA0-05F85CBAE777\r\n\r\n\r\n\r\n\r\n","title":"Jackson insisting in throwing confusing exception when deserializing a POJO","body":"<p>If I am not mistaken, since it is a private field, then the Field <code>@JsonProperty</code> annotation itself is not used, but rather the Getter/Setter.</p>\n<p>The Getter/Setter will be used for serialization/de-serialization and in both cases they do not match <code>device_id</code> name;</p>\n<p>To Fix it: Add <code>@JsonProperty</code> to your Getter/Setter.</p>\n<p>On the other hand, if it was a public variable, then the below without Getter/Setter would work fine:</p>\n<pre><code>@JsonProperty(&quot;device_id&quot;)\npublic String deviceId;\n</code></pre>\n<p>=== Tested Code ===</p>\n<pre><code>@JsonIgnoreProperties(ignoreUnknown = true)\npublic class LogMdto {\n\n    private String id;\n\n    @JsonProperty(value = &quot;object_id&quot;)\n    private String objectId;\n\n    @JsonProperty(value = &quot;object_name&quot;)\n    private String objectName;\n\n    private String deviceId;\n\n    @NotNull(message = &quot;may not be null&quot;)\n    private String description;\n\n    @NotNull(message = &quot;may not be null&quot;)\n    private String code;\n\n    private Integer action;\n\n    private int severity;\n\n    @JsonFormat(shape = JsonFormat.Shape.STRING, pattern = &quot;yyyy-MM-dd'T'HH:mm:ss&quot;)\n    private Timestamp date;\n\n\n    public String getId() {\n        return id;\n    }\n\n    public Timestamp getDate() {\n        return date;\n    }\n\n    public void setDate(String date) {\n        DateTimeFormatter dft = DateTimeFormatter.ISO_LOCAL_DATE_TIME;\n        this.date = Timestamp.valueOf(LocalDateTime.from(dft.parse(date)));\n    }\n\n    public String getObjectId() {\n        return objectId;\n    }\n\n    public void setObjectId(String objectId) {\n        this.objectId = objectId;\n    }\n\n    public String getObjectName() {\n        return objectName;\n    }\n\n    public void setObjectName(String objectName) {\n        this.objectName = objectName;\n    }\n    @JsonProperty(&quot;device_id&quot;)\n    public String getDeviceId() {\n        return deviceId;\n    }\n    @JsonProperty(&quot;device_id&quot;)\n    public void setDeviceId(String deviceId) {\n        this.deviceId = deviceId;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public String getCode() {\n        return code;\n    }\n\n    public void setCode(String code) {\n        this.code = code;\n    }\n\n    public Integer getAction() {\n        return action;\n    }\n\n    public void setAction(Integer action) {\n        this.action = action;\n    }\n\n    public void setId(String id) {\n        this.id = id;\n    }\n\n    public int getSeverity() {\n        return severity;\n    }\n\n    public void setSeverity(int severity) {\n        this.severity = severity;\n    }\n}\n</code></pre>\n<hr />\n<blockquote>\n<pre><code>public static void main(String[] args) throws Exception{\n    String jsonTest = &quot;{\\n&quot; +\n            &quot;        \\&quot;id\\&quot;: \\&quot;8a599509-994a-4cff-ad6d-c3f770e8d159\\&quot;,\\n&quot; +\n            &quot;        \\&quot;action\\&quot;: \\&quot;0\\&quot;,\\n&quot; +\n            &quot;        \\&quot;code\\&quot;: \\&quot;13\\&quot;,\\n&quot; +\n            &quot;        \\&quot;device_id\\&quot;: \\&quot;0BC813D9-37FE-4FAB-9FA0-05F85CBAE777\\&quot;,\\n&quot; +\n            &quot;        \\&quot;branch_id\\&quot;: \\&quot;0BC813D9-37FE-4FAB-9FA0-05F85CBAE999\\&quot;,\\n&quot; +\n            &quot;        \\&quot;description\\&quot;: \\&quot;Sergio sei uno stra-figo\\&quot;,\\n&quot; +\n            &quot;        \\&quot;date\\&quot;: \\&quot;2021-11-09T10:22:45\\&quot;,\\n&quot; +\n            &quot;        \\&quot;severity\\&quot;: 1\\n&quot; +\n            &quot;      }&quot;;\n\n    LogMdto logMdto = new ObjectMapper().readValue(jsonTest, LogMdto.class);\n\n    System.out.println(logMdto.getDeviceId());\n}\n</code></pre>\n</blockquote>\n<hr />\n<p>Log:</p>\n<pre><code>0BC813D9-37FE-4FAB-9FA0-05F85CBAE777\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636536811,"creation_date":1636536811,"answer_id":69910817,"question_id":69910485,"body_markdown":"The answer from Susan is correct.\r\n\r\nYou have to add the `@JsonProperty(&quot;device_id&quot;)` to your getters and setters.\r\n\r\nTo avoid Errors like these, you could always use a `AnySetter` that keeps the data that could not be correctly mapped.\r\n\r\nFor example:\r\n\r\n```java\r\npublic class LogMdto {\r\n....\r\n\r\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;&gt;(); // This Map holds all the properties that were not found.\r\n    // You could check what is wrong with the names that this POJO receives from your JSON\r\n\r\n    @JsonAnyGetter\r\n    public Map&lt;String, Object&gt; getAdditionalProperties() {\r\n        return this.additionalProperties;\r\n    }\r\n\r\n    @JsonAnySetter\r\n    public void setAdditionalProperty(String name, Object value) {\r\n        this.additionalProperties.put(name, value);\r\n    }\r\n\r\n....\r\n```\r\n ","title":"Jackson insisting in throwing confusing exception when deserializing a POJO","body":"<p>The answer from Susan is correct.</p>\n<p>You have to add the <code>@JsonProperty(&quot;device_id&quot;)</code> to your getters and setters.</p>\n<p>To avoid Errors like these, you could always use a <code>AnySetter</code> that keeps the data that could not be correctly mapped.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class LogMdto {\n....\n\n    private Map&lt;String, Object&gt; additionalProperties = new HashMap&lt;&gt;(); // This Map holds all the properties that were not found.\n    // You could check what is wrong with the names that this POJO receives from your JSON\n\n    @JsonAnyGetter\n    public Map&lt;String, Object&gt; getAdditionalProperties() {\n        return this.additionalProperties;\n    }\n\n    @JsonAnySetter\n    public void setAdditionalProperty(String name, Object value) {\n        this.additionalProperties.put(name, value);\n    }\n\n....\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1488593,"reputation":848,"user_id":2090322,"accept_rate":38,"display_name":"Sergiob"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1636538688,"creation_date":1636538688,"answer_id":69911247,"question_id":69910485,"body_markdown":"Ok, thank you all for your help, but the answer is a little more subtle. There is nothing wrong with the code, the problem is that the mapper is not the right one, it was imported by mistake the \r\n\r\n&gt; org.codehaus.jackson\r\n\r\n version instead of \r\n\r\n&gt; fasterxml\r\n\r\n.... changed the import directive... everything was fine again.\r\n","title":"Jackson insisting in throwing confusing exception when deserializing a POJO","body":"<p>Ok, thank you all for your help, but the answer is a little more subtle. There is nothing wrong with the code, the problem is that the mapper is not the right one, it was imported by mistake the</p>\n<blockquote>\n<p>org.codehaus.jackson</p>\n</blockquote>\n<p>version instead of</p>\n<blockquote>\n<p>fasterxml</p>\n</blockquote>\n<p>.... changed the import directive... everything was fine again.</p>\n"}],"owner":{"account_id":1488593,"reputation":848,"user_id":2090322,"accept_rate":38,"display_name":"Sergiob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1636538688,"creation_date":1636535408,"question_id":69910485,"body_markdown":"I cannot find why I get an exception from Jacksoin even if everything looks ok.\r\n\r\nI have the following ***Json***:\r\n\r\n          {\r\n            &quot;id&quot;: &quot;8a599509-994a-4cff-ad6d-c3f770e8d159&quot;,\r\n            &quot;action&quot;: &quot;0&quot;,\r\n            &quot;code&quot;: &quot;13&quot;,\r\n            &quot;device_id&quot;: &quot;0BC813D9-37FE-4FAB-9FA0-05F85CBAE777&quot;,\r\n            &quot;branch_id&quot;: &quot;0BC813D9-37FE-4FAB-9FA0-05F85CBAE999&quot;,\r\n            &quot;description&quot;: &quot;Sergio sei uno stra-figo&quot;,\r\n            &quot;date&quot;: &quot;2021-11-09T10:22:45&quot;,\r\n            &quot;severity&quot;: 1\r\n          }\r\n\r\nAnd the class I need to deserialize the Json to:\r\n\r\n    @JsonIgnorePropenter code hereerties(ignoreUnknown = true)\r\n    public class LogMdto {\r\n\r\n    private String id;\r\n\r\n\tpublic String getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\t@JsonProperty(value = &quot;object_id&quot;)\r\n\tprivate String objectId;\r\n\t\r\n\t@Size(max = Log.objectNameSize, message = &quot;size may not by bigger than &quot; + Log.objectNameSize)\r\n\t@JsonProperty(value = &quot;object_name&quot;)\r\n\tprivate String objectName;\r\n\r\n\t@JsonProperty(&quot;device_id&quot;)\r\n\tprivate String deviceId;\r\n\r\n\t@NotNull(message = &quot;may not be null&quot;)\r\n\tprivate String description;\r\n\t\r\n\t@NotNull(message = &quot;may not be null&quot;)\r\n\t@Size(max = Log.codeSize, \r\n\t\t\tmessage = &quot;size may not by bigger than &quot; + Log.codeSize)\r\n\tprivate String code;\r\n\r\n\tprivate Integer action;\r\n\r\n\tprivate String id;\r\n\t\r\n\tprivate int severity;\r\n\r\n\t@JsonFormat(shape = JsonFormat.Shape.STRING, pattern=&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&quot;)\r\n\tprivate Timestamp date;\r\n\r\n\r\n\tpublic Timestamp getDate() {\r\n\t\treturn date;\r\n\t}\r\n\r\n\tpublic void setDate(String date) {\r\n\t\tDateTimeFormatter dft = DateTimeFormatter.ISO_LOCAL_DATE_TIME;\r\n\t\tthis.date = Timestamp.valueOf(LocalDateTime.from(dft.parse(date)));\r\n\t}\r\n\r\n\tpublic String getObjectId() {\r\n\t\treturn objectId;\r\n\t}\r\n\r\n\tpublic void setObjectId(String objectId) {\r\n\t\tthis.objectId = objectId;\r\n\t}\r\n\r\n\tpublic String getObjectName() {\r\n\t\treturn objectName;\r\n\t}\r\n\r\n\tpublic void setObjectName(String objectName) {\r\n\t\tthis.objectName = objectName;\r\n\t}\r\n\r\n\tpublic String getDeviceId() {\r\n\t\treturn deviceId;\r\n\t}\r\n\r\n\tpublic void setDeviceId(String deviceId) {\r\n\t\tthis.deviceId = deviceId;\r\n\t}\r\n\r\n\tpublic String getDescription() {\r\n\t\treturn description;\r\n\t}\r\n\r\n\tpublic void setDescription(String description) {\r\n\t\tthis.description = description;\r\n\t}\r\n\r\n\tpublic String getCode() {\r\n\t\treturn code;\r\n\t}\r\n\r\n\tpublic void setCode(String code) {\r\n\t\tthis.code = code;\r\n\t}\r\n\r\n\tpublic Integer getAction() {\r\n\t\treturn action;\r\n\t}\r\n\r\n\tpublic void setAction(Integer action) {\r\n\t\tthis.action = action;\r\n\t}\r\n\r\n\tpublic void setId(String id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic int getSeverity() {\r\n\t\treturn severity;\r\n\t}\r\n\r\n\tpublic void setSeverity(int severity) {\r\n\t\tthis.severity = severity;\r\n\t}\r\n}\r\n\r\nWhen I call `ObjectMapper().readValue(json, LogMdto.class)` I get the following excepion;\r\n\r\n&gt; Unrecognized field &quot;device_id&quot; (Class com.plintech.LorikeetNestSpring.models.dto.mobile.LogMdto), not marked as ignorable\r\n\r\nI do not understand why this exception. The field *deviceId* is mapped with @JsonProperty(&quot;device_id&quot;), I have setter and getter but I still an error.\r\n\r\n***UPDATE***\r\n\r\n\r\nI have done the following changes:\r\n\r\n    //Removed the annotation\r\n    private String deviceId;\r\n\r\n....\r\n....\r\n\r\nChanged setter and getter as follows:\r\n\r\n    @JsonProperty(value = &quot;device_id&quot;)\r\n    public String getDeviceId() {\r\n    \treturn deviceId;\r\n    }\r\n\r\n    @JsonProperty(value = &quot;device_id&quot;)\r\n    public void setDeviceId(String deviceId) {\r\n    \tthis.deviceId = deviceId;\r\n    }\r\n\r\nBut the result is always the same exception, I don&#39;t understand what is wrong with my code and I cannot figure out what else I can try to make sure there aren&#39;t other hidden issues.","title":"Jackson insisting in throwing confusing exception when deserializing a POJO","body":"<p>I cannot find why I get an exception from Jacksoin even if everything looks ok.</p>\n<p>I have the following <em><strong>Json</strong></em>:</p>\n<pre><code>      {\n        &quot;id&quot;: &quot;8a599509-994a-4cff-ad6d-c3f770e8d159&quot;,\n        &quot;action&quot;: &quot;0&quot;,\n        &quot;code&quot;: &quot;13&quot;,\n        &quot;device_id&quot;: &quot;0BC813D9-37FE-4FAB-9FA0-05F85CBAE777&quot;,\n        &quot;branch_id&quot;: &quot;0BC813D9-37FE-4FAB-9FA0-05F85CBAE999&quot;,\n        &quot;description&quot;: &quot;Sergio sei uno stra-figo&quot;,\n        &quot;date&quot;: &quot;2021-11-09T10:22:45&quot;,\n        &quot;severity&quot;: 1\n      }\n</code></pre>\n<p>And the class I need to deserialize the Json to:</p>\n<pre><code>@JsonIgnorePropenter code hereerties(ignoreUnknown = true)\npublic class LogMdto {\n\nprivate String id;\n\npublic String getId() {\n    return id;\n}\n\n@JsonProperty(value = &quot;object_id&quot;)\nprivate String objectId;\n\n@Size(max = Log.objectNameSize, message = &quot;size may not by bigger than &quot; + Log.objectNameSize)\n@JsonProperty(value = &quot;object_name&quot;)\nprivate String objectName;\n\n@JsonProperty(&quot;device_id&quot;)\nprivate String deviceId;\n\n@NotNull(message = &quot;may not be null&quot;)\nprivate String description;\n\n@NotNull(message = &quot;may not be null&quot;)\n@Size(max = Log.codeSize, \n        message = &quot;size may not by bigger than &quot; + Log.codeSize)\nprivate String code;\n\nprivate Integer action;\n\nprivate String id;\n\nprivate int severity;\n\n@JsonFormat(shape = JsonFormat.Shape.STRING, pattern=&quot;yyyy-MM-dd'T'HH:mm:ss&quot;)\nprivate Timestamp date;\n\n\npublic Timestamp getDate() {\n    return date;\n}\n\npublic void setDate(String date) {\n    DateTimeFormatter dft = DateTimeFormatter.ISO_LOCAL_DATE_TIME;\n    this.date = Timestamp.valueOf(LocalDateTime.from(dft.parse(date)));\n}\n\npublic String getObjectId() {\n    return objectId;\n}\n\npublic void setObjectId(String objectId) {\n    this.objectId = objectId;\n}\n\npublic String getObjectName() {\n    return objectName;\n}\n\npublic void setObjectName(String objectName) {\n    this.objectName = objectName;\n}\n\npublic String getDeviceId() {\n    return deviceId;\n}\n\npublic void setDeviceId(String deviceId) {\n    this.deviceId = deviceId;\n}\n\npublic String getDescription() {\n    return description;\n}\n\npublic void setDescription(String description) {\n    this.description = description;\n}\n\npublic String getCode() {\n    return code;\n}\n\npublic void setCode(String code) {\n    this.code = code;\n}\n\npublic Integer getAction() {\n    return action;\n}\n\npublic void setAction(Integer action) {\n    this.action = action;\n}\n\npublic void setId(String id) {\n    this.id = id;\n}\n\npublic int getSeverity() {\n    return severity;\n}\n\npublic void setSeverity(int severity) {\n    this.severity = severity;\n}\n</code></pre>\n<p>}</p>\n<p>When I call <code>ObjectMapper().readValue(json, LogMdto.class)</code> I get the following excepion;</p>\n<blockquote>\n<p>Unrecognized field &quot;device_id&quot; (Class com.plintech.LorikeetNestSpring.models.dto.mobile.LogMdto), not marked as ignorable</p>\n</blockquote>\n<p>I do not understand why this exception. The field <em>deviceId</em> is mapped with @JsonProperty(&quot;device_id&quot;), I have setter and getter but I still an error.</p>\n<p><em><strong>UPDATE</strong></em></p>\n<p>I have done the following changes:</p>\n<pre><code>//Removed the annotation\nprivate String deviceId;\n</code></pre>\n<p>....\n....</p>\n<p>Changed setter and getter as follows:</p>\n<pre><code>@JsonProperty(value = &quot;device_id&quot;)\npublic String getDeviceId() {\n    return deviceId;\n}\n\n@JsonProperty(value = &quot;device_id&quot;)\npublic void setDeviceId(String deviceId) {\n    this.deviceId = deviceId;\n}\n</code></pre>\n<p>But the result is always the same exception, I don't understand what is wrong with my code and I cannot figure out what else I can try to make sure there aren't other hidden issues.</p>\n"},{"tags":["java","output","cplex"],"answers":[{"tags":[],"owner":{"account_id":4592706,"reputation":9381,"user_id":3725596,"display_name":"Alex Fleischer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636365805,"creation_date":1636365805,"answer_id":69881673,"question_id":69880887,"body_markdown":"within java you could rely on IloConversion objects that will allow you to locally change the type of one or more variables. \r\n\r\nSee the sample AdMIPex6.java \r\n\r\n    /* --------------------------------------------------------------------------\r\n     * File: AdMIPex6.java\r\n     * Version 20.1.0  \r\n     * --------------------------------------------------------------------------\r\n     * Licensed Materials - Property of IBM\r\n     * 5725-A06 5725-A29 5724-Y48 5724-Y49 5724-Y54 5724-Y55 5655-Y21\r\n     * Copyright IBM Corporation 2001, 2021. All Rights Reserved.\r\n     *\r\n     * US Government Users Restricted Rights - Use, duplication or\r\n     * disclosure restricted by GSA ADP Schedule Contract with\r\n     * IBM Corp.\r\n     * --------------------------------------------------------------------------\r\n     *\r\n     * AdMIPex6.java -- Solving a model by passing in a solution for the root node\r\n     *                  and using that in a solve callback\r\n     *\r\n     * To run this example, command line arguments are required:\r\n     *     java AdMIPex6  filename\r\n     * where \r\n     *     filename  Name of the file, with .mps, .lp, or .sav\r\n     *               extension, and a possible additional .gz \r\n     *               extension.\r\n     * Example:\r\n     *     java AdMIPex6  mexample.mps.gz\r\n     */\r\n    \r\n    import ilog.concert.*;\r\n    import ilog.cplex.*;\r\n    \r\n    \r\n    public class AdMIPex6 {\r\n       static class Solve extends IloCplex.SolveCallback {\r\n          boolean     _done = false;\r\n          IloNumVar[] _vars;\r\n          double[]    _x;\r\n          Solve(IloNumVar[] vars, double[] x) { _vars = vars; _x = x; }\r\n        \r\n          public void main() throws IloException {\r\n             if ( !_done ) {\r\n                setStart(_x, _vars, null, null);\r\n                _done = true;\r\n             }\r\n          }\r\n       }\r\n    \r\n       public static void main(String[] args) {\r\n          try (IloCplex cplex = new IloCplex()) {\r\n             cplex.importModel(args[0]);\r\n             IloLPMatrix lp = (IloLPMatrix)cplex.LPMatrixIterator().next();\r\n           \r\n             IloConversion relax = cplex.conversion(lp.getNumVars(),\r\n                                                    IloNumVarType.Float);\r\n             cplex.add(relax);\r\n    \r\n             cplex.solve();\r\n             System.out.println(&quot;Relaxed solution status = &quot; + cplex.getStatus());\r\n             System.out.println(&quot;Relaxed solution value  = &quot; + cplex.getObjValue());\r\n    \r\n             double[] vals = cplex.getValues(lp.getNumVars());\r\n             cplex.use(new Solve(lp.getNumVars(), vals));\r\n    \r\n             cplex.delete(relax);\r\n    \r\n             cplex.setParam(IloCplex.Param.MIP.Strategy.Search,\r\n                            IloCplex.MIPSearch.Traditional);\r\n             if ( cplex.solve() ) {\r\n                System.out.println(&quot;Solution status = &quot; + cplex.getStatus());\r\n                System.out.println(&quot;Solution value  = &quot; + cplex.getObjValue());\r\n             }\r\n          }\r\n          catch (IloException e) {\r\n             System.err.println(&quot;Concert exception caught: &quot; + e);\r\n          }\r\n       }\r\n    }\r\n\r\nif you use OPL then you could have a look at [Relax integrity constraints and dual value][1]\r\n\r\n    int nbKids=300;\r\n    float costBus40=500;\r\n    float costBus30=400;\r\n     \r\n    dvar int+ nbBus40;\r\n    dvar int+ nbBus30;\r\n     \r\n    minimize\r\n     costBus40*nbBus40  +nbBus30*costBus30;\r\n     \r\n    subject to\r\n    {\r\n     ctKids:40*nbBus40+nbBus30*30&gt;=nbKids;\r\n    }\r\n    main {\r\n      var status = 0;\r\n      thisOplModel.generate();\r\n      if (cplex.solve()) {\r\n        writeln(&quot;Integer Model&quot;);   \r\n        writeln(&quot;OBJECTIVE: &quot;,cplex.getObjValue());   \r\n        \r\n      }\r\n      // relax integrity constraint\r\n      thisOplModel.convertAllIntVars();\r\n     \r\n      if (cplex.solve()) {\r\n        writeln(&quot;Relaxed Model&quot;);   \r\n        writeln(&quot;OBJECTIVE: &quot;,cplex.getObjValue());  \r\n        \r\n        writeln(&quot;dual of the kids constraint = &quot;,thisOplModel.ctKids.dual);\r\n      }\r\n       \r\n     \r\n    }\r\n\r\n\r\n\r\n  [1]: https://github.com/AlexFleischerParis/zooopl/blob/master/zoorelaxinteger.mod","title":"How to enable linear relaxation outputs","body":"<p>within java you could rely on IloConversion objects that will allow you to locally change the type of one or more variables.</p>\n<p>See the sample AdMIPex6.java</p>\n<pre><code>/* --------------------------------------------------------------------------\n * File: AdMIPex6.java\n * Version 20.1.0  \n * --------------------------------------------------------------------------\n * Licensed Materials - Property of IBM\n * 5725-A06 5725-A29 5724-Y48 5724-Y49 5724-Y54 5724-Y55 5655-Y21\n * Copyright IBM Corporation 2001, 2021. All Rights Reserved.\n *\n * US Government Users Restricted Rights - Use, duplication or\n * disclosure restricted by GSA ADP Schedule Contract with\n * IBM Corp.\n * --------------------------------------------------------------------------\n *\n * AdMIPex6.java -- Solving a model by passing in a solution for the root node\n *                  and using that in a solve callback\n *\n * To run this example, command line arguments are required:\n *     java AdMIPex6  filename\n * where \n *     filename  Name of the file, with .mps, .lp, or .sav\n *               extension, and a possible additional .gz \n *               extension.\n * Example:\n *     java AdMIPex6  mexample.mps.gz\n */\n\nimport ilog.concert.*;\nimport ilog.cplex.*;\n\n\npublic class AdMIPex6 {\n   static class Solve extends IloCplex.SolveCallback {\n      boolean     _done = false;\n      IloNumVar[] _vars;\n      double[]    _x;\n      Solve(IloNumVar[] vars, double[] x) { _vars = vars; _x = x; }\n    \n      public void main() throws IloException {\n         if ( !_done ) {\n            setStart(_x, _vars, null, null);\n            _done = true;\n         }\n      }\n   }\n\n   public static void main(String[] args) {\n      try (IloCplex cplex = new IloCplex()) {\n         cplex.importModel(args[0]);\n         IloLPMatrix lp = (IloLPMatrix)cplex.LPMatrixIterator().next();\n       \n         IloConversion relax = cplex.conversion(lp.getNumVars(),\n                                                IloNumVarType.Float);\n         cplex.add(relax);\n\n         cplex.solve();\n         System.out.println(&quot;Relaxed solution status = &quot; + cplex.getStatus());\n         System.out.println(&quot;Relaxed solution value  = &quot; + cplex.getObjValue());\n\n         double[] vals = cplex.getValues(lp.getNumVars());\n         cplex.use(new Solve(lp.getNumVars(), vals));\n\n         cplex.delete(relax);\n\n         cplex.setParam(IloCplex.Param.MIP.Strategy.Search,\n                        IloCplex.MIPSearch.Traditional);\n         if ( cplex.solve() ) {\n            System.out.println(&quot;Solution status = &quot; + cplex.getStatus());\n            System.out.println(&quot;Solution value  = &quot; + cplex.getObjValue());\n         }\n      }\n      catch (IloException e) {\n         System.err.println(&quot;Concert exception caught: &quot; + e);\n      }\n   }\n}\n</code></pre>\n<p>if you use OPL then you could have a look at <a href=\"https://github.com/AlexFleischerParis/zooopl/blob/master/zoorelaxinteger.mod\" rel=\"nofollow noreferrer\">Relax integrity constraints and dual value</a></p>\n<pre><code>int nbKids=300;\nfloat costBus40=500;\nfloat costBus30=400;\n \ndvar int+ nbBus40;\ndvar int+ nbBus30;\n \nminimize\n costBus40*nbBus40  +nbBus30*costBus30;\n \nsubject to\n{\n ctKids:40*nbBus40+nbBus30*30&gt;=nbKids;\n}\nmain {\n  var status = 0;\n  thisOplModel.generate();\n  if (cplex.solve()) {\n    writeln(&quot;Integer Model&quot;);   \n    writeln(&quot;OBJECTIVE: &quot;,cplex.getObjValue());   \n    \n  }\n  // relax integrity constraint\n  thisOplModel.convertAllIntVars();\n \n  if (cplex.solve()) {\n    writeln(&quot;Relaxed Model&quot;);   \n    writeln(&quot;OBJECTIVE: &quot;,cplex.getObjValue());  \n    \n    writeln(&quot;dual of the kids constraint = &quot;,thisOplModel.ctKids.dual);\n  }\n   \n \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2413938,"reputation":2052,"user_id":2108433,"accept_rate":20,"display_name":"TimChippingtonDerrick"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636538666,"creation_date":1636538666,"answer_id":69911240,"question_id":69880887,"body_markdown":"It sounds like you are asking for extra detailed logging during the linear relaxation part of the solve during the B&amp;B. Have a look at the CPLEX parameter settings like IloCplex.Param.MIP.Display (try setting this to 5) and also IloCplex.Param.Simplex.Display (try setting to 1 or 2).","title":"How to enable linear relaxation outputs","body":"<p>It sounds like you are asking for extra detailed logging during the linear relaxation part of the solve during the B&amp;B. Have a look at the CPLEX parameter settings like IloCplex.Param.MIP.Display (try setting this to 5) and also IloCplex.Param.Simplex.Display (try setting to 1 or 2).</p>\n"}],"owner":{"account_id":9528160,"reputation":125,"user_id":7080778,"display_name":"Layla"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69911240,"answer_count":2,"score":1,"last_activity_date":1636538666,"creation_date":1636362015,"question_id":69880887,"body_markdown":"I have a rather complex MILP, but the main problem is the number of continuous variables, not the number of binaries. I just &quot;hard-coded&quot; the linear relaxation to understand its output, and it takes approx. 10-15 minutes to solve (which is not extremely surprising). If I run the MILP with outputs, I don&#39;t see anything happening for the first 10 minutes, because it takes those 10 minutes to construct a first integer-feasible solution. So it would help to be able to enable the same outputs I am seeing when solving the linear relaxation &quot;manually&quot; (so something like `Iteration:     1   Dual objective     =      52322816.412592`) within the B&amp;B output. \r\n\r\nIs this possible? I googled at bit, but I only found solutions for steering the solution algorithm, or for deriving linear relaxations using callbacks, while I am interested in a &quot;simple&quot; output of the intermediate steps. \r\n\r\n","title":"How to enable linear relaxation outputs","body":"<p>I have a rather complex MILP, but the main problem is the number of continuous variables, not the number of binaries. I just &quot;hard-coded&quot; the linear relaxation to understand its output, and it takes approx. 10-15 minutes to solve (which is not extremely surprising). If I run the MILP with outputs, I don't see anything happening for the first 10 minutes, because it takes those 10 minutes to construct a first integer-feasible solution. So it would help to be able to enable the same outputs I am seeing when solving the linear relaxation &quot;manually&quot; (so something like <code>Iteration:     1   Dual objective     =      52322816.412592</code>) within the B&amp;B output.</p>\n<p>Is this possible? I googled at bit, but I only found solutions for steering the solution algorithm, or for deriving linear relaxations using callbacks, while I am interested in a &quot;simple&quot; output of the intermediate steps.</p>\n"},{"tags":["java","mysql"],"comments":[{"owner":{"account_id":4360732,"reputation":83,"user_id":3557912,"display_name":"AdamBat"},"score":2,"creation_date":1620126548,"post_id":63000171,"comment_id":119102869,"body_markdown":"1. Use `-Djavax.net.debug=all` to get more details, specifically which TLS versions are supported by your client.\n2. Verify which TLS versions your MySQL supports on server&#39;s side: https://dev.mysql.com/doc/refman/5.7/en/server-system-variables.html#sysvar_tls_version\n3. Configure both sides to match common TLS version. More here: https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-using-ssl.html","body":"1. Use <code>-Djavax.net.debug=all</code> to get more details, specifically which TLS versions are supported by your client. 2. Verify which TLS versions your MySQL supports on server&#39;s side: <a href=\"https://dev.mysql.com/doc/refman/5.7/en/server-system-variables.html#sysvar_tls_version\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/refman/5.7/en/&hellip;</a> 3. Configure both sides to match common TLS version. More here: <a href=\"https://dev.mysql.com/doc/connector-j/8.0/en/connector-j-reference-using-ssl.html\" rel=\"nofollow noreferrer\">dev.mysql.com/doc/connector-j/8.0/en/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10048688,"reputation":94,"user_id":7429156,"display_name":"Abhiram S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636538534,"creation_date":1636538534,"answer_id":69911207,"question_id":63000171,"body_markdown":"If your connection is genuinely exposed to the network or you are working in a production environment with real data, then sure: we shouldn&#39;t be disabling SSL by including the option useSSL=false.\r\n\r\nTry to update the JDBC connection string to include the latest protocol version as foloowing:\r\n```jdbc:mysql://&lt;hostName&gt;:&lt;portNumber&gt;/&lt;schemaName&gt;?enabledTLSProtocols=TLSv1.2```\r\n\r\nWe have to explicitly mention the type of TLS protocol while establishing the DB connection in JDK 11.\r\n","title":"Migrating jdk 8 to jdk 11, mysql throwing error for SSL","body":"<p>If your connection is genuinely exposed to the network or you are working in a production environment with real data, then sure: we shouldn't be disabling SSL by including the option useSSL=false.</p>\n<p>Try to update the JDBC connection string to include the latest protocol version as foloowing:\n<code>jdbc:mysql://&lt;hostName&gt;:&lt;portNumber&gt;/&lt;schemaName&gt;?enabledTLSProtocols=TLSv1.2</code></p>\n<p>We have to explicitly mention the type of TLS protocol while establishing the DB connection in JDK 11.</p>\n"}],"owner":{"account_id":18619871,"reputation":81,"user_id":13570343,"display_name":"Aishwarya Patil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4170,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1636538534,"creation_date":1595263784,"question_id":63000171,"body_markdown":"The mysql connector version is 5.1.42 and the connector string in ds.properties.j2 is:\r\n\r\n    ds.datasource.name=coreDS\r\n    ds.datasource.driver=com.mysql.jdbc.Driver\r\n    ds.datasource.url=jdbc:mysql://{{ core_db_host }}:{{ core_db_port }}/{{ core_db_schema }}?useSSl=true&amp;amp;requireSSL=true&amp;amp;verifyServerCertificate=false\r\n    ds.datasource.username={{ core_db_user }}\r\n    ds.datasource.password={{ core_db_password }}\r\n\r\nGetting below Error:\r\n\r\n    &gt; TASK [jetty : Jetty | Report errors in\r\n    &gt; /opt/jetty/base/default/logs/error.log]\r\n    &gt; **************************************************** ok: [localhost] =&gt; {\r\n    &gt;     &quot;msg&quot;: &quot;ERRORS found in /opt/jetty/base/default/logs/error.log: 2020-07-17 11:54:44,652 ERROR [com.zaxxer.hikari.pool.HikariPool]\r\n    &gt; (main) coreDS - Exception during pool initialization.\\n2020-07-17\r\n    &gt; 11:54:44,659 ERROR [org.springframework.web.context.ContextLoader]\r\n    &gt; (main) Context initialization failed&quot; } Caused by:\r\n    &gt; javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol\r\n    &gt; is disabled or cipher suites are inappropriate)\r\n\r\n","title":"Migrating jdk 8 to jdk 11, mysql throwing error for SSL","body":"<p>The mysql connector version is 5.1.42 and the connector string in ds.properties.j2 is:</p>\n<pre><code>ds.datasource.name=coreDS\nds.datasource.driver=com.mysql.jdbc.Driver\nds.datasource.url=jdbc:mysql://{{ core_db_host }}:{{ core_db_port }}/{{ core_db_schema }}?useSSl=true&amp;amp;requireSSL=true&amp;amp;verifyServerCertificate=false\nds.datasource.username={{ core_db_user }}\nds.datasource.password={{ core_db_password }}\n</code></pre>\n<p>Getting below Error:</p>\n<pre><code>&gt; TASK [jetty : Jetty | Report errors in\n&gt; /opt/jetty/base/default/logs/error.log]\n&gt; **************************************************** ok: [localhost] =&gt; {\n&gt;     &quot;msg&quot;: &quot;ERRORS found in /opt/jetty/base/default/logs/error.log: 2020-07-17 11:54:44,652 ERROR [com.zaxxer.hikari.pool.HikariPool]\n&gt; (main) coreDS - Exception during pool initialization.\\n2020-07-17\n&gt; 11:54:44,659 ERROR [org.springframework.web.context.ContextLoader]\n&gt; (main) Context initialization failed&quot; } Caused by:\n&gt; javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol\n&gt; is disabled or cipher suites are inappropriate)\n</code></pre>\n"},{"tags":["java","multithreading","benchmarking","microbenchmark","jmh"],"answers":[{"tags":[],"owner":{"account_id":23183223,"reputation":1,"user_id":17280749,"display_name":"user17280749"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635516231,"creation_date":1635516231,"answer_id":69770269,"question_id":69760827,"body_markdown":"See answers to [this question](https://stackoverflow.com/q/504103) to learn how to write benchmarks in java.\r\n\r\n---\r\n\r\n&gt; ... executorService maybe correct (but i am still unsure) ...\r\n&gt; \r\n&gt; ```\r\n&gt; Benchmark                              (amountOfTasks)  Mode  Cnt         Score         Error  Units\r\n&gt; ThreadPoolSamples.executorService                     24  avgt    3    255102,966 &#177; 4460279,056  ns/op\r\n&gt; ```\r\n\r\nIt doesn&#39;t look correct like a correct result: \r\nthe error `4460279,056` is 17 times greater than the base value `255102,966`.\r\n\r\n---\r\n\r\n\r\nAlso you have an error in:\r\n```java\r\n@Benchmark\r\npublic void executorService(ExecutorServiceState e, Work w, Blackhole bh) {\r\n    for (int i = 0; i &lt; amountOfTasks; i++) {\r\n         e.service.execute(() -&gt; bh.consume(w.doWork(strs)));\r\n    }\r\n}\r\n```\r\nYou submit the tasks to the `ExecutorService`, but doesn&#39;t wait for them to complete.","title":"JMH - How to correctly benchmark Thread Pools?","body":"<p>See answers to <a href=\"https://stackoverflow.com/q/504103\">this question</a> to learn how to write benchmarks in java.</p>\n<hr />\n<blockquote>\n<p>... executorService maybe correct (but i am still unsure) ...</p>\n<pre><code>Benchmark                              (amountOfTasks)  Mode  Cnt         Score         Error  Units\nThreadPoolSamples.executorService                     24  avgt    3    255102,966 ± 4460279,056  ns/op\n</code></pre>\n</blockquote>\n<p>It doesn't look correct like a correct result:\nthe error <code>4460279,056</code> is 17 times greater than the base value <code>255102,966</code>.</p>\n<hr />\n<p>Also you have an error in:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Benchmark\npublic void executorService(ExecutorServiceState e, Work w, Blackhole bh) {\n    for (int i = 0; i &lt; amountOfTasks; i++) {\n         e.service.execute(() -&gt; bh.consume(w.doWork(strs)));\n    }\n}\n</code></pre>\n<p>You submit the tasks to the <code>ExecutorService</code>, but doesn't wait for them to complete.</p>\n"},{"tags":[],"owner":{"account_id":23199481,"reputation":1,"user_id":17294549,"display_name":"user17294549"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635708007,"creation_date":1635708007,"answer_id":69789869,"question_id":69760827,"body_markdown":"Look at this code:\r\n```java\r\n    @TearDown(Level.Iteration)\r\n    public void downMethod() {\r\n        service.shutdownNow();\r\n        service = null;\r\n    }\r\n```\r\nYou don&#39;t wait for the threads to stop. Read [the docs](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#shutdownNow()) for details.  \r\nSo some of your benchmarks might run in parallel with another 128 threads spawned by `cachedThreadPool` in a previous benchmark.\r\n\r\n&gt; so for simplicity I used Thread.sleep() as &quot;work&quot;\r\n\r\nAre you sure?  \r\nThere is a big difference between real work and `Thread.sleep()`:\r\n- for real work: only 2 tasks can run simultaneously on a 2-core system\r\n- for `Thread.sleep()`: any number of tasks can run simultaneously on a 2-core system","title":"JMH - How to correctly benchmark Thread Pools?","body":"<p>Look at this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @TearDown(Level.Iteration)\n    public void downMethod() {\n        service.shutdownNow();\n        service = null;\n    }\n</code></pre>\n<p>You don't wait for the threads to stop. Read <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ExecutorService.html#shutdownNow()\" rel=\"nofollow noreferrer\">the docs</a> for details.<br />\nSo some of your benchmarks might run in parallel with another 128 threads spawned by <code>cachedThreadPool</code> in a previous benchmark.</p>\n<blockquote>\n<p>so for simplicity I used Thread.sleep() as &quot;work&quot;</p>\n</blockquote>\n<p>Are you sure?<br />\nThere is a big difference between real work and <code>Thread.sleep()</code>:</p>\n<ul>\n<li>for real work: only 2 tasks can run simultaneously on a 2-core system</li>\n<li>for <code>Thread.sleep()</code>: any number of tasks can run simultaneously on a 2-core system</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":23204308,"reputation":1,"user_id":17298733,"display_name":"user17298733"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635760391,"creation_date":1635760391,"answer_id":69795208,"question_id":69760827,"body_markdown":"Here is what I got on my machine (maybe this might help you understand what&#39;s the problem):\r\n\r\nThis is the benchmark (I modified it a little bit):\r\n```java\r\npackage io.denery;\r\n\r\nimport org.openjdk.jmh.annotations.*;\r\nimport org.openjdk.jmh.infra.Blackhole;\r\nimport org.openjdk.jmh.Main;\r\nimport java.util.concurrent.*;\r\n\r\n@OutputTimeUnit(TimeUnit.NANOSECONDS)\r\n@Fork(1)\r\n@Threads(1)\r\n@BenchmarkMode(Mode.AverageTime)\r\n@Warmup(iterations = 5)\r\n@Measurement(iterations = 5)\r\n@State(Scope.Benchmark)\r\npublic class ThreadPoolSamples {\r\n  @Param({&quot;1&quot;, &quot;24&quot;, &quot;128&quot;})\r\n  int amountOfTasks;\r\n  private static final int tts = Runtime.getRuntime().availableProcessors() * 2;\r\n\r\n  private static void doWork() {\r\n    Blackhole.consumeCPU(4096);\r\n  }\r\n\r\n  public static void main(String[] args) throws Exception {\r\n    Main.main(args);\r\n  }\r\n\r\n  @Benchmark\r\n  public void noThreading() {\r\n    for (int i = 0; i &lt; amountOfTasks; i++) {\r\n      doWork();\r\n    }\r\n  }\r\n\r\n  @Benchmark\r\n  public void fixedThreadPool(Blackhole bh) throws Exception {\r\n    runInThreadPool(amountOfTasks, bh, Executors.newFixedThreadPool(tts));\r\n  }\r\n\r\n  @Benchmark\r\n  public void cachedThreadPool(Blackhole bh) throws Exception {\r\n    runInThreadPool(amountOfTasks, bh, Executors.newCachedThreadPool());\r\n  }\r\n\r\n  private static void runInThreadPool(int amountOfTasks, Blackhole bh, ExecutorService threadPool)\r\n      throws Exception {\r\n    Future&lt;?&gt;[] futures = new Future[amountOfTasks];\r\n    for (int i = 0; i &lt; amountOfTasks; i++) {\r\n      futures[i] = threadPool.submit(ThreadPoolSamples::doWork);\r\n    }\r\n    for (Future&lt;?&gt; future : futures) {\r\n      bh.consume(future.get());\r\n    }\r\n\r\n    threadPool.shutdownNow();\r\n    threadPool.awaitTermination(5, TimeUnit.MINUTES);\r\n  }\r\n}\r\n```\r\n\r\nSpecs and versions:\r\n```\r\nJMH version: 1.33  \r\nVM version: JDK 17.0.1, OpenJDK 64-Bit Server\r\nLinux 5.14.14\r\nCPU: Intel(R) Core(TM) i5-2320 CPU @ 3.00GHz, 4 Cores, No Hyper-Threading\r\n```\r\n\r\nResults:\r\n```\r\nBenchmark                           (amountOfTasks)  Mode  Cnt        Score        Error  Units\r\nThreadPoolSamples.cachedThreadPool                1  avgt    5    92968.252 &#177;   2853.687  ns/op\r\nThreadPoolSamples.cachedThreadPool               24  avgt    5   547558.977 &#177;  88937.441  ns/op\r\nThreadPoolSamples.cachedThreadPool              128  avgt    5  1502909.128 &#177;  40698.141  ns/op\r\nThreadPoolSamples.fixedThreadPool                 1  avgt    5    97945.026 &#177;    435.458  ns/op\r\nThreadPoolSamples.fixedThreadPool                24  avgt    5   643453.028 &#177; 135859.966  ns/op\r\nThreadPoolSamples.fixedThreadPool               128  avgt    5   998425.118 &#177; 126463.792  ns/op\r\nThreadPoolSamples.noThreading                     1  avgt    5    10165.462 &#177;     78.008  ns/op\r\nThreadPoolSamples.noThreading                    24  avgt    5   245942.867 &#177;  10594.808  ns/op\r\nThreadPoolSamples.noThreading                   128  avgt    5  1302173.090 &#177;   5482.655  ns/op\r\n```","title":"JMH - How to correctly benchmark Thread Pools?","body":"<p>Here is what I got on my machine (maybe this might help you understand what's the problem):</p>\n<p>This is the benchmark (I modified it a little bit):</p>\n<pre class=\"lang-java prettyprint-override\"><code>package io.denery;\n\nimport org.openjdk.jmh.annotations.*;\nimport org.openjdk.jmh.infra.Blackhole;\nimport org.openjdk.jmh.Main;\nimport java.util.concurrent.*;\n\n@OutputTimeUnit(TimeUnit.NANOSECONDS)\n@Fork(1)\n@Threads(1)\n@BenchmarkMode(Mode.AverageTime)\n@Warmup(iterations = 5)\n@Measurement(iterations = 5)\n@State(Scope.Benchmark)\npublic class ThreadPoolSamples {\n  @Param({&quot;1&quot;, &quot;24&quot;, &quot;128&quot;})\n  int amountOfTasks;\n  private static final int tts = Runtime.getRuntime().availableProcessors() * 2;\n\n  private static void doWork() {\n    Blackhole.consumeCPU(4096);\n  }\n\n  public static void main(String[] args) throws Exception {\n    Main.main(args);\n  }\n\n  @Benchmark\n  public void noThreading() {\n    for (int i = 0; i &lt; amountOfTasks; i++) {\n      doWork();\n    }\n  }\n\n  @Benchmark\n  public void fixedThreadPool(Blackhole bh) throws Exception {\n    runInThreadPool(amountOfTasks, bh, Executors.newFixedThreadPool(tts));\n  }\n\n  @Benchmark\n  public void cachedThreadPool(Blackhole bh) throws Exception {\n    runInThreadPool(amountOfTasks, bh, Executors.newCachedThreadPool());\n  }\n\n  private static void runInThreadPool(int amountOfTasks, Blackhole bh, ExecutorService threadPool)\n      throws Exception {\n    Future&lt;?&gt;[] futures = new Future[amountOfTasks];\n    for (int i = 0; i &lt; amountOfTasks; i++) {\n      futures[i] = threadPool.submit(ThreadPoolSamples::doWork);\n    }\n    for (Future&lt;?&gt; future : futures) {\n      bh.consume(future.get());\n    }\n\n    threadPool.shutdownNow();\n    threadPool.awaitTermination(5, TimeUnit.MINUTES);\n  }\n}\n</code></pre>\n<p>Specs and versions:</p>\n<pre><code>JMH version: 1.33  \nVM version: JDK 17.0.1, OpenJDK 64-Bit Server\nLinux 5.14.14\nCPU: Intel(R) Core(TM) i5-2320 CPU @ 3.00GHz, 4 Cores, No Hyper-Threading\n</code></pre>\n<p>Results:</p>\n<pre><code>Benchmark                           (amountOfTasks)  Mode  Cnt        Score        Error  Units\nThreadPoolSamples.cachedThreadPool                1  avgt    5    92968.252 ±   2853.687  ns/op\nThreadPoolSamples.cachedThreadPool               24  avgt    5   547558.977 ±  88937.441  ns/op\nThreadPoolSamples.cachedThreadPool              128  avgt    5  1502909.128 ±  40698.141  ns/op\nThreadPoolSamples.fixedThreadPool                 1  avgt    5    97945.026 ±    435.458  ns/op\nThreadPoolSamples.fixedThreadPool                24  avgt    5   643453.028 ± 135859.966  ns/op\nThreadPoolSamples.fixedThreadPool               128  avgt    5   998425.118 ± 126463.792  ns/op\nThreadPoolSamples.noThreading                     1  avgt    5    10165.462 ±     78.008  ns/op\nThreadPoolSamples.noThreading                    24  avgt    5   245942.867 ±  10594.808  ns/op\nThreadPoolSamples.noThreading                   128  avgt    5  1302173.090 ±   5482.655  ns/op\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18391865,"reputation":53,"user_id":13397358,"display_name":"ExtraExtremeERA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636538431,"creation_date":1636491381,"answer_id":69904979,"question_id":69760827,"body_markdown":"I solved this issue by myself with the help of other answerers. In the last edit (And in all other edits) the issue was in my gradle configuration, so I was running this benchmark in all of my system threads, I use [this gradle plugin](https://github.com/melix/jmh-gradle-plugin) to run JMH and before making all of my benchmarks in my gradle buildscript I set ```threads = 4``` value, so you saw these strange benchmark results because JMH tried to benchmark on all available threads thread pool doing work on all available threads. I removed this configuration and set `@State(Scope.Thread)` and `@Threads(1)` annotations in benchmark class, a bit edited `runInThreadPool()` method to:\r\n\r\n```java\r\npublic static void runInThreadPool(int amountOfTasks, Blackhole bh, ExecutorService threadPool)\r\n            throws InterruptedException, ExecutionException {\r\n        Future&lt;?&gt;[] futures = new Future[amountOfTasks];\r\n        for (int i = 0; i &lt; amountOfTasks; i++) {\r\n            futures[i] = threadPool.submit(PrioritySchedulerSamples::doWork, (ThreadFactory) runnable -&gt; {\r\n                Thread thread = new Thread(runnable);\r\n                thread.setPriority(10);\r\n                return thread;\r\n            });\r\n        }\r\n        for (Future&lt;?&gt; future : futures) {\r\n            bh.consume(future.get());\r\n        }\r\n\r\n        threadPool.shutdownNow();\r\n        threadPool.awaitTermination(10, TimeUnit.SECONDS);\r\n    }\r\n```\r\n\r\nSo each thread in this thread pool runs in maximal priority.\r\nAnd benchmark of all these changes:\r\n\r\n```\r\nBenchmark                                 (amountOfTasks)  Mode  Cnt         Score         Error  Units\r\nPrioritySchedulerSamples.fixedThreadPool             2048  avgt    3   8021054,516 &#177; 2874987,327  ns/op\r\nPrioritySchedulerSamples.noThreading                 2048  avgt    3  17583295,617 &#177; 5499026,016  ns/op\r\n```\r\n\r\nThese results seems to be correct. (Especially for my system.)\r\n\r\nI also made a list of common problems in microbenchmarking thread pools and basically all of the concurrent java components:\r\n\r\n1. Make sure your microbenchmark is executing **in one thread**, use `@Threads(1)` and `@State(Scope.Thread)` annotations to make your microbenchmark executing in one thread. (use, for example, `htop` command to find out how many and which threads are consuming the most CPU percentage)\r\n2. Make sure you execute the task **completely** in your microbenchmark, and wait for all Threads to complete this task. (maybe your microbenchmark doesn&#39;t wait for tasks to complete?)\r\n3. Don&#39;t use `Thread.sleep()` for imitating **the real** work, instead JMH provides `Blackhole.consumeCPU(long tokens)` method which you can freely use as imitation of some work.\r\n4. Make sure you know the component that you benchmark. (obvious, but I didn&#39;t know before this post java thread pools very well)\r\n5. Make sure you know compiler optimization effects described in [these JMH samles](http://hg.openjdk.java.net/code-tools/jmh/file/tip/jmh-samples/src/main/java/org/openjdk/jmh/samples/) basically know JMH very well.","title":"JMH - How to correctly benchmark Thread Pools?","body":"<p>I solved this issue by myself with the help of other answerers. In the last edit (And in all other edits) the issue was in my gradle configuration, so I was running this benchmark in all of my system threads, I use <a href=\"https://github.com/melix/jmh-gradle-plugin\" rel=\"nofollow noreferrer\">this gradle plugin</a> to run JMH and before making all of my benchmarks in my gradle buildscript I set <code>threads = 4</code> value, so you saw these strange benchmark results because JMH tried to benchmark on all available threads thread pool doing work on all available threads. I removed this configuration and set <code>@State(Scope.Thread)</code> and <code>@Threads(1)</code> annotations in benchmark class, a bit edited <code>runInThreadPool()</code> method to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void runInThreadPool(int amountOfTasks, Blackhole bh, ExecutorService threadPool)\n            throws InterruptedException, ExecutionException {\n        Future&lt;?&gt;[] futures = new Future[amountOfTasks];\n        for (int i = 0; i &lt; amountOfTasks; i++) {\n            futures[i] = threadPool.submit(PrioritySchedulerSamples::doWork, (ThreadFactory) runnable -&gt; {\n                Thread thread = new Thread(runnable);\n                thread.setPriority(10);\n                return thread;\n            });\n        }\n        for (Future&lt;?&gt; future : futures) {\n            bh.consume(future.get());\n        }\n\n        threadPool.shutdownNow();\n        threadPool.awaitTermination(10, TimeUnit.SECONDS);\n    }\n</code></pre>\n<p>So each thread in this thread pool runs in maximal priority.\nAnd benchmark of all these changes:</p>\n<pre><code>Benchmark                                 (amountOfTasks)  Mode  Cnt         Score         Error  Units\nPrioritySchedulerSamples.fixedThreadPool             2048  avgt    3   8021054,516 ± 2874987,327  ns/op\nPrioritySchedulerSamples.noThreading                 2048  avgt    3  17583295,617 ± 5499026,016  ns/op\n</code></pre>\n<p>These results seems to be correct. (Especially for my system.)</p>\n<p>I also made a list of common problems in microbenchmarking thread pools and basically all of the concurrent java components:</p>\n<ol>\n<li>Make sure your microbenchmark is executing <strong>in one thread</strong>, use <code>@Threads(1)</code> and <code>@State(Scope.Thread)</code> annotations to make your microbenchmark executing in one thread. (use, for example, <code>htop</code> command to find out how many and which threads are consuming the most CPU percentage)</li>\n<li>Make sure you execute the task <strong>completely</strong> in your microbenchmark, and wait for all Threads to complete this task. (maybe your microbenchmark doesn't wait for tasks to complete?)</li>\n<li>Don't use <code>Thread.sleep()</code> for imitating <strong>the real</strong> work, instead JMH provides <code>Blackhole.consumeCPU(long tokens)</code> method which you can freely use as imitation of some work.</li>\n<li>Make sure you know the component that you benchmark. (obvious, but I didn't know before this post java thread pools very well)</li>\n<li>Make sure you know compiler optimization effects described in <a href=\"http://hg.openjdk.java.net/code-tools/jmh/file/tip/jmh-samples/src/main/java/org/openjdk/jmh/samples/\" rel=\"nofollow noreferrer\">these JMH samles</a> basically know JMH very well.</li>\n</ol>\n"}],"owner":{"account_id":18391865,"reputation":53,"user_id":13397358,"display_name":"ExtraExtremeERA"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1734,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69904979,"answer_count":4,"score":1,"last_activity_date":1636538431,"creation_date":1635454537,"question_id":69760827,"body_markdown":"**Please, read the newest EDIT of this question.**\r\n\r\n**Issue:** I need to write a correct benchmark to compare a **different work** using **different Thread Pool** realizations (also from external libraries) using **different methods of execution** to **other work** using **other Thread Pool** realizations and to a **work** without any threading.\r\n\r\nFor example I have 24 tasks to complete and 10000 random Strings in benchmark state:\r\n```\r\n@OutputTimeUnit(TimeUnit.NANOSECONDS)\r\n@Fork(1)\r\n@BenchmarkMode(Mode.AverageTime)\r\n@Warmup(iterations = 3)\r\n@Measurement(iterations = 3)\r\n@State(Scope.Benchmark)\r\npublic class ThreadPoolSamples {\r\n    @Param({&quot;24&quot;})\r\n    int amountOfTasks;\r\n    private static final int tts = Runtime.getRuntime().availableProcessors() * 2;\r\n    private String[] strs = new String[10000];\r\n\r\n    @Setup\r\n    public void setup() {\r\n        for (int i = 0; i &lt; strs.length; i++) {\r\n            strs[i] = String.valueOf(Math.random());\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd two States as inner classes representing Work (string concat.) and ExecutorService setup and shutdown:\r\n```\r\n@State(Scope.Thread)\r\npublic static class Work {\r\n    public String doWork(String[] strs) {\r\n        StringBuilder conc = new StringBuilder();\r\n        for (String str : strs) {\r\n            conc.append(str);\r\n        }\r\n        return conc.toString();\r\n    }\r\n}\r\n\r\n@State(Scope.Benchmark)\r\npublic static class ExecutorServiceState {\r\n    ExecutorService service;\r\n\r\n    @Setup(Level.Iteration)\r\n    public void setupMethod() {\r\n        service = Executors.newFixedThreadPool(tts);\r\n    }\r\n\r\n    @TearDown(Level.Iteration)\r\n    public void downMethod() {\r\n        service.shutdownNow();\r\n        service = null;\r\n    }\r\n}\r\n```\r\nMore strict question is: How to write correct benchmark to measure average time of doWork();  first: without any threading, second: using .execute() method and third: using .submit() method getting results of futures later.\r\nImplementation that I tried to wrote:\r\n```\r\n@Benchmark\r\npublic void noThreading(Work w, Blackhole bh) {\r\n    for (int i = 0; i &lt; amountOfTasks; i++) {\r\n        bh.consume(w.doWork(strs));\r\n    }\r\n}\r\n\r\n@Benchmark\r\npublic void executorService(ExecutorServiceState e, Work w, Blackhole bh) {\r\n    for (int i = 0; i &lt; amountOfTasks; i++) {\r\n         e.service.execute(() -&gt; bh.consume(w.doWork(strs)));\r\n    }\r\n}\r\n\r\n@Benchmark\r\npublic void noThreadingResult(Work w, Blackhole bh) {\r\n    String[] strss = new String[amountOfTasks];\r\n    for (int i = 0; i &lt; amountOfTasks; i++) {\r\n        strss[i] = w.doWork(strs);\r\n    }\r\n    bh.consume(strss);\r\n}\r\n\r\n@Benchmark\r\npublic void executorServiceResult(ExecutorServiceState e, Work w, Blackhole bh) throws ExecutionException, InterruptedException {\r\n    Future[] strss = new Future[amountOfTasks];\r\n    for (int i = 0; i &lt; amountOfTasks; i++) {\r\n        strss[i] = e.service.submit(() -&gt; {return w.doWork(strs);});\r\n    }\r\n    for (Future future : strss) {\r\n        bh.consume(future.get());\r\n    }\r\n}\r\n```\r\nAfter benchmarking this implementation on my PC (2 Cores, 4 threads) I got:\r\n```\r\nBenchmark                              (amountOfTasks)  Mode  Cnt         Score         Error  Units\r\nThreadPoolSamples.executorService                     24  avgt    3    255102,966 &#177; 4460279,056  ns/op\r\nThreadPoolSamples.executorServiceResult               24  avgt    3  19790020,180 &#177; 7676762,394  ns/op\r\nThreadPoolSamples.noThreading                         24  avgt    3  18881360,497 &#177;  340778,773  ns/op\r\nThreadPoolSamples.noThreadingResult                   24  avgt    3  19283976,445 &#177;  471788,642  ns/op\r\n```\r\nnoThreading and executorService maybe correct (but i am still unsure) and noThreadingResult and executorServiceResult doesn&#39;t look correct at all.\r\n\r\nEDIT:\r\n\r\nI find out some new details, but i think the result is still incorrect: as answered [user17280749](https://stackoverflow.com/users/17280749/user17280749) in [this](https://stackoverflow.com/a/69770269/13397358) answer that the thread pool wasn&#39;t waiting for submitted tasks to complete, but there wasn&#39;t only one issue: javac also somehow optimises doWork() method in the Work class (prob the result of that operation was predictable by JVM), so for simplicity I used Thread.sleep() as &quot;work&quot; and also setted amountOfTasks new two params: &quot;1&quot; and &quot;128&quot; to demonstrate that on 1 task threading will be slower than noThreading, and 24 and 128 will be approx. four times faster than noThreading, also to the correctness of measurement I setted thread pools starting up and shutting down in benchmark:\r\n```\r\npackage io.denery;\r\n\r\nimport org.openjdk.jmh.annotations.*;\r\nimport org.openjdk.jmh.infra.Blackhole;\r\n\r\nimport java.util.concurrent.*;\r\n\r\n@OutputTimeUnit(TimeUnit.NANOSECONDS)\r\n@Fork(1)\r\n@BenchmarkMode(Mode.AverageTime)\r\n@Warmup(iterations = 3)\r\n@Measurement(iterations = 3)\r\n@State(Scope.Benchmark)\r\npublic class ThreadPoolSamples {\r\n    @Param({&quot;1&quot;, &quot;24&quot;, &quot;128&quot;})\r\n    int amountOfTasks;\r\n    private static final int tts = Runtime.getRuntime().availableProcessors() * 2;\r\n\r\n    @State(Scope.Thread)\r\n    public static class Work {\r\n        public void doWork() {\r\n            try {\r\n                Thread.sleep(1);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    @Benchmark\r\n    public void noThreading(Work w) {\r\n        for (int i = 0; i &lt; amountOfTasks; i++) {\r\n            w.doWork();\r\n        }\r\n    }\r\n\r\n    @Benchmark\r\n    public void fixedThreadPool(Work w)\r\n            throws ExecutionException, InterruptedException {\r\n        ExecutorService service = Executors.newFixedThreadPool(tts);\r\n        Future[] futures = new Future[amountOfTasks];\r\n        for (int i = 0; i &lt; amountOfTasks; i++) {\r\n            futures[i] = service.submit(w::doWork);\r\n        }\r\n        for (Future future : futures) {\r\n            future.get();\r\n        }\r\n\r\n        service.shutdown();\r\n    }\r\n\r\n    @Benchmark\r\n    public void cachedThreadPool(Work w)\r\n            throws ExecutionException, InterruptedException {\r\n        ExecutorService service = Executors.newCachedThreadPool();\r\n        Future[] futures = new Future[amountOfTasks];\r\n        for (int i = 0; i &lt; amountOfTasks; i++) {\r\n            futures[i] = service.submit(() -&gt; {\r\n                w.doWork();\r\n            });\r\n        }\r\n        for (Future future : futures) {\r\n            future.get();\r\n        }\r\n\r\n        service.shutdown();\r\n    }\r\n}\r\n```\r\nAnd the result of this benchmark is:\r\n```\r\nBenchmark                         (amountOfTasks)  Mode  Cnt          Score         Error  Units\r\nThreadPoolSamples.cachedThreadPool                1  avgt    3    1169075,866 &#177;   47607,783  ns/op\r\nThreadPoolSamples.cachedThreadPool               24  avgt    3    5208437,498 &#177; 4516260,543  ns/op\r\nThreadPoolSamples.cachedThreadPool              128  avgt    3   13112351,066 &#177; 1905089,389  ns/op\r\nThreadPoolSamples.fixedThreadPool                 1  avgt    3    1166087,665 &#177;   61193,085  ns/op\r\nThreadPoolSamples.fixedThreadPool                24  avgt    3    4721503,799 &#177;  313206,519  ns/op\r\nThreadPoolSamples.fixedThreadPool               128  avgt    3   18337097,997 &#177; 5781847,191  ns/op\r\nThreadPoolSamples.noThreading                     1  avgt    3    1066035,522 &#177;   83736,346  ns/op\r\nThreadPoolSamples.noThreading                    24  avgt    3   25525744,055 &#177;   45422,015  ns/op\r\nThreadPoolSamples.noThreading                   128  avgt    3  136126357,514 &#177;  200461,808  ns/op\r\n```\r\nWe see that error doesn&#39;t really huge, and thread pools with task 1 are slower than noThreading, but if you compare 25525744,055 and 4721503,799 the speedup is: 5.406 and it is faster somehow than excpected ~4, and if you compare 136126357,514 and 18337097,997 the speedup is: 7.4, and this **fake** speedup is growing with amountOfTasks, and i think it is still incorrect. I think to look at this using [PrintAssembly](https://wiki.openjdk.java.net/display/HotSpot/PrintAssembly) to find out is there are any JVM optimisations.\r\n\r\nEDIT:\r\n\r\nAs mentioned [user17294549](https://stackoverflow.com/users/17294549/user17294549) in [this](https://stackoverflow.com/a/69789869/13397358) answer, I used Thread.sleep() as imitation of real work and it doesn&#39;t correct because:\r\n\r\n&gt;     for real work: only 2 tasks can run simultaneously on a 2-core system\r\n&gt;     for Thread.sleep(): any number of tasks can run simultaneously on a 2-core system\r\nI remembered about Blackhole.consumeCPU(long tokens) JMH method that &quot;burns cycles&quot; and imitating a work, there is [JMH example](http://hg.openjdk.java.net/code-tools/jmh/file/2be2df7dbaf8/jmh-samples/src/main/java/org/openjdk/jmh/samples/JMHSample_21_ConsumeCPU.java) and [docs](https://javadoc.io/static/org.openjdk.jmh/jmh-core/1.33/org/openjdk/jmh/infra/Blackhole.html#consumeCPU-long-) for it.\r\nSo I changed work to:\r\n```java\r\n@State(Scope.Thread)\r\npublic static class Work {\r\n    public void doWork() {\r\n        Blackhole.consumeCPU(4096);\r\n    }\r\n}\r\n```\r\n\r\nAnd benchmarks for this change:\r\n```\r\nBenchmark                         (amountOfTasks)  Mode  Cnt         Score          Error  Units\r\nThreadPoolSamples.cachedThreadPool                1  avgt    3    301187,897 &#177;    95819,153  ns/op\r\nThreadPoolSamples.cachedThreadPool               24  avgt    3   2421815,991 &#177;   545978,808  ns/op\r\nThreadPoolSamples.cachedThreadPool              128  avgt    3   6648647,025 &#177;    30442,510  ns/op\r\nThreadPoolSamples.cachedThreadPool             2048  avgt    3  60229404,756 &#177; 21537786,512  ns/op\r\nThreadPoolSamples.fixedThreadPool                 1  avgt    3    293364,540 &#177;    10709,841  ns/op\r\nThreadPoolSamples.fixedThreadPool                24  avgt    3   1459852,773 &#177;   160912,520  ns/op\r\nThreadPoolSamples.fixedThreadPool               128  avgt    3   2846790,222 &#177;    78929,182  ns/op\r\nThreadPoolSamples.fixedThreadPool              2048  avgt    3  25102603,592 &#177;  1825740,124  ns/op\r\nThreadPoolSamples.noThreading                     1  avgt    3     10071,049 &#177;      407,519  ns/op\r\nThreadPoolSamples.noThreading                    24  avgt    3    241561,416 &#177;    15326,274  ns/op\r\nThreadPoolSamples.noThreading                   128  avgt    3   1300241,347 &#177;   148051,168  ns/op\r\nThreadPoolSamples.noThreading                  2048  avgt    3  20683253,408 &#177;  1433365,542  ns/op\r\n```\r\nWe see that fixedThreadPool is somehow slower than the example without threading, and when amountOfTasks is bigger, then difference between fixedThreadPool and noThreading examples is smaller. What&#39;s happening in there? Same phenomenon I saw with String concatenation in the beginning of this question, but I didn&#39;t report it. (btw, thanks who read this novel and trying to answer this question you&#39;re really help me)","title":"JMH - How to correctly benchmark Thread Pools?","body":"<p><strong>Please, read the newest EDIT of this question.</strong></p>\n<p><strong>Issue:</strong> I need to write a correct benchmark to compare a <strong>different work</strong> using <strong>different Thread Pool</strong> realizations (also from external libraries) using <strong>different methods of execution</strong> to <strong>other work</strong> using <strong>other Thread Pool</strong> realizations and to a <strong>work</strong> without any threading.</p>\n<p>For example I have 24 tasks to complete and 10000 random Strings in benchmark state:</p>\n<pre><code>@OutputTimeUnit(TimeUnit.NANOSECONDS)\n@Fork(1)\n@BenchmarkMode(Mode.AverageTime)\n@Warmup(iterations = 3)\n@Measurement(iterations = 3)\n@State(Scope.Benchmark)\npublic class ThreadPoolSamples {\n    @Param({&quot;24&quot;})\n    int amountOfTasks;\n    private static final int tts = Runtime.getRuntime().availableProcessors() * 2;\n    private String[] strs = new String[10000];\n\n    @Setup\n    public void setup() {\n        for (int i = 0; i &lt; strs.length; i++) {\n            strs[i] = String.valueOf(Math.random());\n        }\n    }\n}\n</code></pre>\n<p>And two States as inner classes representing Work (string concat.) and ExecutorService setup and shutdown:</p>\n<pre><code>@State(Scope.Thread)\npublic static class Work {\n    public String doWork(String[] strs) {\n        StringBuilder conc = new StringBuilder();\n        for (String str : strs) {\n            conc.append(str);\n        }\n        return conc.toString();\n    }\n}\n\n@State(Scope.Benchmark)\npublic static class ExecutorServiceState {\n    ExecutorService service;\n\n    @Setup(Level.Iteration)\n    public void setupMethod() {\n        service = Executors.newFixedThreadPool(tts);\n    }\n\n    @TearDown(Level.Iteration)\n    public void downMethod() {\n        service.shutdownNow();\n        service = null;\n    }\n}\n</code></pre>\n<p>More strict question is: How to write correct benchmark to measure average time of doWork();  first: without any threading, second: using .execute() method and third: using .submit() method getting results of futures later.\nImplementation that I tried to wrote:</p>\n<pre><code>@Benchmark\npublic void noThreading(Work w, Blackhole bh) {\n    for (int i = 0; i &lt; amountOfTasks; i++) {\n        bh.consume(w.doWork(strs));\n    }\n}\n\n@Benchmark\npublic void executorService(ExecutorServiceState e, Work w, Blackhole bh) {\n    for (int i = 0; i &lt; amountOfTasks; i++) {\n         e.service.execute(() -&gt; bh.consume(w.doWork(strs)));\n    }\n}\n\n@Benchmark\npublic void noThreadingResult(Work w, Blackhole bh) {\n    String[] strss = new String[amountOfTasks];\n    for (int i = 0; i &lt; amountOfTasks; i++) {\n        strss[i] = w.doWork(strs);\n    }\n    bh.consume(strss);\n}\n\n@Benchmark\npublic void executorServiceResult(ExecutorServiceState e, Work w, Blackhole bh) throws ExecutionException, InterruptedException {\n    Future[] strss = new Future[amountOfTasks];\n    for (int i = 0; i &lt; amountOfTasks; i++) {\n        strss[i] = e.service.submit(() -&gt; {return w.doWork(strs);});\n    }\n    for (Future future : strss) {\n        bh.consume(future.get());\n    }\n}\n</code></pre>\n<p>After benchmarking this implementation on my PC (2 Cores, 4 threads) I got:</p>\n<pre><code>Benchmark                              (amountOfTasks)  Mode  Cnt         Score         Error  Units\nThreadPoolSamples.executorService                     24  avgt    3    255102,966 ± 4460279,056  ns/op\nThreadPoolSamples.executorServiceResult               24  avgt    3  19790020,180 ± 7676762,394  ns/op\nThreadPoolSamples.noThreading                         24  avgt    3  18881360,497 ±  340778,773  ns/op\nThreadPoolSamples.noThreadingResult                   24  avgt    3  19283976,445 ±  471788,642  ns/op\n</code></pre>\n<p>noThreading and executorService maybe correct (but i am still unsure) and noThreadingResult and executorServiceResult doesn't look correct at all.</p>\n<p>EDIT:</p>\n<p>I find out some new details, but i think the result is still incorrect: as answered <a href=\"https://stackoverflow.com/users/17280749/user17280749\">user17280749</a> in <a href=\"https://stackoverflow.com/a/69770269/13397358\">this</a> answer that the thread pool wasn't waiting for submitted tasks to complete, but there wasn't only one issue: javac also somehow optimises doWork() method in the Work class (prob the result of that operation was predictable by JVM), so for simplicity I used Thread.sleep() as &quot;work&quot; and also setted amountOfTasks new two params: &quot;1&quot; and &quot;128&quot; to demonstrate that on 1 task threading will be slower than noThreading, and 24 and 128 will be approx. four times faster than noThreading, also to the correctness of measurement I setted thread pools starting up and shutting down in benchmark:</p>\n<pre><code>package io.denery;\n\nimport org.openjdk.jmh.annotations.*;\nimport org.openjdk.jmh.infra.Blackhole;\n\nimport java.util.concurrent.*;\n\n@OutputTimeUnit(TimeUnit.NANOSECONDS)\n@Fork(1)\n@BenchmarkMode(Mode.AverageTime)\n@Warmup(iterations = 3)\n@Measurement(iterations = 3)\n@State(Scope.Benchmark)\npublic class ThreadPoolSamples {\n    @Param({&quot;1&quot;, &quot;24&quot;, &quot;128&quot;})\n    int amountOfTasks;\n    private static final int tts = Runtime.getRuntime().availableProcessors() * 2;\n\n    @State(Scope.Thread)\n    public static class Work {\n        public void doWork() {\n            try {\n                Thread.sleep(1);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    @Benchmark\n    public void noThreading(Work w) {\n        for (int i = 0; i &lt; amountOfTasks; i++) {\n            w.doWork();\n        }\n    }\n\n    @Benchmark\n    public void fixedThreadPool(Work w)\n            throws ExecutionException, InterruptedException {\n        ExecutorService service = Executors.newFixedThreadPool(tts);\n        Future[] futures = new Future[amountOfTasks];\n        for (int i = 0; i &lt; amountOfTasks; i++) {\n            futures[i] = service.submit(w::doWork);\n        }\n        for (Future future : futures) {\n            future.get();\n        }\n\n        service.shutdown();\n    }\n\n    @Benchmark\n    public void cachedThreadPool(Work w)\n            throws ExecutionException, InterruptedException {\n        ExecutorService service = Executors.newCachedThreadPool();\n        Future[] futures = new Future[amountOfTasks];\n        for (int i = 0; i &lt; amountOfTasks; i++) {\n            futures[i] = service.submit(() -&gt; {\n                w.doWork();\n            });\n        }\n        for (Future future : futures) {\n            future.get();\n        }\n\n        service.shutdown();\n    }\n}\n</code></pre>\n<p>And the result of this benchmark is:</p>\n<pre><code>Benchmark                         (amountOfTasks)  Mode  Cnt          Score         Error  Units\nThreadPoolSamples.cachedThreadPool                1  avgt    3    1169075,866 ±   47607,783  ns/op\nThreadPoolSamples.cachedThreadPool               24  avgt    3    5208437,498 ± 4516260,543  ns/op\nThreadPoolSamples.cachedThreadPool              128  avgt    3   13112351,066 ± 1905089,389  ns/op\nThreadPoolSamples.fixedThreadPool                 1  avgt    3    1166087,665 ±   61193,085  ns/op\nThreadPoolSamples.fixedThreadPool                24  avgt    3    4721503,799 ±  313206,519  ns/op\nThreadPoolSamples.fixedThreadPool               128  avgt    3   18337097,997 ± 5781847,191  ns/op\nThreadPoolSamples.noThreading                     1  avgt    3    1066035,522 ±   83736,346  ns/op\nThreadPoolSamples.noThreading                    24  avgt    3   25525744,055 ±   45422,015  ns/op\nThreadPoolSamples.noThreading                   128  avgt    3  136126357,514 ±  200461,808  ns/op\n</code></pre>\n<p>We see that error doesn't really huge, and thread pools with task 1 are slower than noThreading, but if you compare 25525744,055 and 4721503,799 the speedup is: 5.406 and it is faster somehow than excpected ~4, and if you compare 136126357,514 and 18337097,997 the speedup is: 7.4, and this <strong>fake</strong> speedup is growing with amountOfTasks, and i think it is still incorrect. I think to look at this using <a href=\"https://wiki.openjdk.java.net/display/HotSpot/PrintAssembly\" rel=\"nofollow noreferrer\">PrintAssembly</a> to find out is there are any JVM optimisations.</p>\n<p>EDIT:</p>\n<p>As mentioned <a href=\"https://stackoverflow.com/users/17294549/user17294549\">user17294549</a> in <a href=\"https://stackoverflow.com/a/69789869/13397358\">this</a> answer, I used Thread.sleep() as imitation of real work and it doesn't correct because:</p>\n<blockquote>\n<pre><code>for real work: only 2 tasks can run simultaneously on a 2-core system\nfor Thread.sleep(): any number of tasks can run simultaneously on a 2-core system\n</code></pre>\n</blockquote>\n<p>I remembered about Blackhole.consumeCPU(long tokens) JMH method that &quot;burns cycles&quot; and imitating a work, there is <a href=\"http://hg.openjdk.java.net/code-tools/jmh/file/2be2df7dbaf8/jmh-samples/src/main/java/org/openjdk/jmh/samples/JMHSample_21_ConsumeCPU.java\" rel=\"nofollow noreferrer\">JMH example</a> and <a href=\"https://javadoc.io/static/org.openjdk.jmh/jmh-core/1.33/org/openjdk/jmh/infra/Blackhole.html#consumeCPU-long-\" rel=\"nofollow noreferrer\">docs</a> for it.\nSo I changed work to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@State(Scope.Thread)\npublic static class Work {\n    public void doWork() {\n        Blackhole.consumeCPU(4096);\n    }\n}\n</code></pre>\n<p>And benchmarks for this change:</p>\n<pre><code>Benchmark                         (amountOfTasks)  Mode  Cnt         Score          Error  Units\nThreadPoolSamples.cachedThreadPool                1  avgt    3    301187,897 ±    95819,153  ns/op\nThreadPoolSamples.cachedThreadPool               24  avgt    3   2421815,991 ±   545978,808  ns/op\nThreadPoolSamples.cachedThreadPool              128  avgt    3   6648647,025 ±    30442,510  ns/op\nThreadPoolSamples.cachedThreadPool             2048  avgt    3  60229404,756 ± 21537786,512  ns/op\nThreadPoolSamples.fixedThreadPool                 1  avgt    3    293364,540 ±    10709,841  ns/op\nThreadPoolSamples.fixedThreadPool                24  avgt    3   1459852,773 ±   160912,520  ns/op\nThreadPoolSamples.fixedThreadPool               128  avgt    3   2846790,222 ±    78929,182  ns/op\nThreadPoolSamples.fixedThreadPool              2048  avgt    3  25102603,592 ±  1825740,124  ns/op\nThreadPoolSamples.noThreading                     1  avgt    3     10071,049 ±      407,519  ns/op\nThreadPoolSamples.noThreading                    24  avgt    3    241561,416 ±    15326,274  ns/op\nThreadPoolSamples.noThreading                   128  avgt    3   1300241,347 ±   148051,168  ns/op\nThreadPoolSamples.noThreading                  2048  avgt    3  20683253,408 ±  1433365,542  ns/op\n</code></pre>\n<p>We see that fixedThreadPool is somehow slower than the example without threading, and when amountOfTasks is bigger, then difference between fixedThreadPool and noThreading examples is smaller. What's happening in there? Same phenomenon I saw with String concatenation in the beginning of this question, but I didn't report it. (btw, thanks who read this novel and trying to answer this question you're really help me)</p>\n"},{"tags":["java","sql","database","ibatis"],"answers":[{"tags":[],"owner":{"account_id":2051638,"reputation":6978,"user_id":1830513,"accept_rate":80,"display_name":"Sazzadur Rahaman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1353513445,"creation_date":1353513445,"answer_id":13497069,"question_id":13495093,"body_markdown":"Yes, you can do that like bellow:\r\n    \r\n    &lt;select ...&gt;\r\n    SELECT * FROM RESULT \r\n    &lt;dynamic prepend=&quot;WHERE &quot;&gt;\r\n       &lt;isNull property=&quot;id&quot;&gt;\r\n          id IS NULL\r\n       &lt;/isNull&gt;\r\n       &lt;isNotNull property=&quot;id&quot;&gt;\r\n         id = #id#\r\n       &lt;/isNotNull&gt;\r\n    &lt;/dynamic&gt;\r\n    &lt;/select&gt;\r\n\r\ncheers and happy coding!","title":"Check if bean is null in iBatis using dynamic mapped statements","body":"<p>Yes, you can do that like bellow:</p>\n\n<pre><code>&lt;select ...&gt;\nSELECT * FROM RESULT \n&lt;dynamic prepend=\"WHERE \"&gt;\n   &lt;isNull property=\"id\"&gt;\n      id IS NULL\n   &lt;/isNull&gt;\n   &lt;isNotNull property=\"id\"&gt;\n     id = #id#\n   &lt;/isNotNull&gt;\n&lt;/dynamic&gt;\n&lt;/select&gt;\n</code></pre>\n\n<p>cheers and happy coding!</p>\n"},{"tags":[],"owner":{"account_id":2436754,"reputation":53,"user_id":2126471,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636537765,"creation_date":1427961866,"answer_id":29407938,"question_id":13495093,"body_markdown":"Ibatis throws a NullpointerException when trying to call getId() on that bean if you provide a bean that is null. You must ensure that the bean is not null priorly in your code.","title":"Check if bean is null in iBatis using dynamic mapped statements","body":"<p>Ibatis throws a NullpointerException when trying to call getId() on that bean if you provide a bean that is null. You must ensure that the bean is not null priorly in your code.</p>\n"}],"owner":{"account_id":1035568,"reputation":699,"user_id":1042944,"accept_rate":76,"display_name":"JBerta93"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2919,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":13497069,"answer_count":2,"score":0,"last_activity_date":1636537765,"creation_date":1353507035,"question_id":13495093,"body_markdown":"i want to check if the bean that i use as parameter is null using dynamic statements.\r\n\r\n    &lt;select id=&quot;my-query&quot; resultClass=&quot;my.package.Results&quot; parameterClass=&quot;my.package.Bean&quot;&gt;\r\n         //MY QUERY\r\n    &lt;/select&gt;\r\n\r\nThere is a way to check if my bean is null directly inside the query or i must check if the property is available, null, etc?\r\n\r\nThanks \r\n\r\n","title":"Check if bean is null in iBatis using dynamic mapped statements","body":"<p>i want to check if the bean that i use as parameter is null using dynamic statements.</p>\n\n<pre><code>&lt;select id=\"my-query\" resultClass=\"my.package.Results\" parameterClass=\"my.package.Bean\"&gt;\n     //MY QUERY\n&lt;/select&gt;\n</code></pre>\n\n<p>There is a way to check if my bean is null directly inside the query or i must check if the property is available, null, etc?</p>\n\n<p>Thanks </p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":4597596,"reputation":3927,"user_id":3729184,"accept_rate":67,"display_name":"Omri Attiya"},"score":0,"creation_date":1553108618,"post_id":55268322,"comment_id":97267828,"body_markdown":"Please detailed the methods you tried that did not work, because otherwise its possible that we will suggest you solutions that you tried. Try this: https://www.jetbrains.com/help/idea/configuring-code-style.html","body":"Please detailed the methods you tried that did not work, because otherwise its possible that we will suggest you solutions that you tried. Try this: <a href=\"https://www.jetbrains.com/help/idea/configuring-code-style.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/configuring-code-style.html</a>"},{"owner":{"account_id":8247406,"reputation":129,"user_id":6203077,"display_name":"Vin Qin"},"score":0,"creation_date":1553147811,"post_id":55268322,"comment_id":97279491,"body_markdown":"@OmriAttiya thanks your advice. I will take it next time.","body":"@OmriAttiya thanks your advice. I will take it next time."},{"owner":{"account_id":6329490,"reputation":1510,"user_id":4914803,"accept_rate":90,"display_name":"Chris Gilardi"},"score":0,"creation_date":1553205775,"post_id":55268322,"comment_id":97309062,"body_markdown":"@VinQin, if my answer is correct, please mark it as the answer to make it easier for people to find it in the future.","body":"@VinQin, if my answer is correct, please mark it as the answer to make it easier for people to find it in the future."},{"owner":{"account_id":8247406,"reputation":129,"user_id":6203077,"display_name":"Vin Qin"},"score":1,"creation_date":1553275812,"post_id":55268322,"comment_id":97338373,"body_markdown":"@ChrisGilardi yes, thanks your answer. I thought the system will accept the best answer automatically since I am a newbie in this site. Sorry for that.","body":"@ChrisGilardi yes, thanks your answer. I thought the system will accept the best answer automatically since I am a newbie in this site. Sorry for that."},{"owner":{"account_id":6329490,"reputation":1510,"user_id":4914803,"accept_rate":90,"display_name":"Chris Gilardi"},"score":0,"creation_date":1553534582,"post_id":55268322,"comment_id":97411509,"body_markdown":"@VinQin No worries, just wanted to let you know!","body":"@VinQin No worries, just wanted to let you know!"}],"answers":[{"tags":[],"owner":{"account_id":15571619,"reputation":1344,"user_id":11233871,"display_name":"Happy Singh"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1553111030,"creation_date":1553108698,"answer_id":55268405,"question_id":55268322,"body_markdown":"go to setting-&gt;code-style-&gt;java and check everything looks great there.\r\n\r\n**Edited**\r\n\r\n[for loop setting][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eV6th.png\r\n\r\nCheck for For Loop Setting","title":"IntelliJ IDEA always formats one-line for statement into multi-line","body":"<p>go to setting->code-style->java and check everything looks great there.</p>\n\n<p><strong>Edited</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/eV6th.png\" rel=\"nofollow noreferrer\">for loop setting</a></p>\n\n<p>Check for For Loop Setting</p>\n"},{"tags":[],"owner":{"account_id":6329490,"reputation":1510,"user_id":4914803,"accept_rate":90,"display_name":"Chris Gilardi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1553108761,"creation_date":1553108761,"answer_id":55268421,"question_id":55268322,"body_markdown":"You can change this by going to your Preferences (`Command-,` on Mac) Go to\r\n\r\n`Editor -&gt; Code Style -&gt; Java -&gt; Wrapping and Braces`. \r\n\r\nFind `for() statement` in the list. Next to `for() statement`, you may see `always wrap`, click this and change it to `Do not wrap`.","title":"IntelliJ IDEA always formats one-line for statement into multi-line","body":"<p>You can change this by going to your Preferences (<code>Command-,</code> on Mac) Go to</p>\n\n<p><code>Editor -&gt; Code Style -&gt; Java -&gt; Wrapping and Braces</code>. </p>\n\n<p>Find <code>for() statement</code> in the list. Next to <code>for() statement</code>, you may see <code>always wrap</code>, click this and change it to <code>Do not wrap</code>.</p>\n"},{"tags":[],"owner":{"account_id":964645,"reputation":662,"user_id":988314,"accept_rate":83,"display_name":"Adamsan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636537722,"creation_date":1636537722,"answer_id":69911032,"question_id":55268322,"body_markdown":"I also found a solution for this.\r\n\r\nThe problem is caused by the android style.\r\nGo to `Settings/Editor/Live templates/` select `Android/foreach` and uncheck the checkbox `Reformat according to style` in the lower right corner.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6t9S8.png","title":"IntelliJ IDEA always formats one-line for statement into multi-line","body":"<p>I also found a solution for this.</p>\n<p>The problem is caused by the android style.\nGo to <code>Settings/Editor/Live templates/</code> select <code>Android/foreach</code> and uncheck the checkbox <code>Reformat according to style</code> in the lower right corner.</p>\n<p><a href=\"https://i.stack.imgur.com/6t9S8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/6t9S8.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":8247406,"reputation":129,"user_id":6203077,"display_name":"Vin Qin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":939,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":55268421,"answer_count":3,"score":1,"last_activity_date":1636537722,"creation_date":1553108372,"question_id":55268322,"body_markdown":"IntelliJ keeps formatting this:\r\n```java\r\nfor (int i = 0; i &lt; 10; i++) {\r\n\r\n}\r\n```\r\ninto this:\r\n```java\r\nfor (int i = 0;\r\n     i &lt; 10;\r\n     i++) {\r\n\r\n}\r\n\r\n```\r\nI prefer the first style(one-line statement) than the second. I tried many methods but failed, please help me.","title":"IntelliJ IDEA always formats one-line for statement into multi-line","body":"<p>IntelliJ keeps formatting this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0; i &lt; 10; i++) {\n\n}\n</code></pre>\n\n<p>into this:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>for (int i = 0;\n     i &lt; 10;\n     i++) {\n\n}\n\n</code></pre>\n\n<p>I prefer the first style(one-line statement) than the second. I tried many methods but failed, please help me.</p>\n"},{"tags":["java","spring","hibernate","jpa"],"answers":[{"tags":[],"owner":{"account_id":4054336,"reputation":79,"user_id":3332843,"display_name":"jetGeekster"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1458226306,"creation_date":1458226306,"answer_id":36064072,"question_id":36062288,"body_markdown":"**SOLVED:**\r\n\r\nI should have tried it. It&#39;s as simple as referencing the field with dot (.) operator. Wow.\r\n\r\n    case DEPARTMENT_NAME:\r\n           sort = new Sort(new Order(direction, &quot;department.name&quot;),\r\n                           new Order(Direction.DESC, &quot;created&quot;));","title":"How do I sort a foreign column in JPA Hibernate?","body":"<p><strong>SOLVED:</strong></p>\n\n<p>I should have tried it. It's as simple as referencing the field with dot (.) operator. Wow.</p>\n\n<pre><code>case DEPARTMENT_NAME:\n       sort = new Sort(new Order(direction, \"department.name\"),\n                       new Order(Direction.DESC, \"created\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11793786,"reputation":373,"user_id":8629025,"display_name":"Mateusz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636537706,"creation_date":1636537706,"answer_id":69911029,"question_id":36062288,"body_markdown":"**UPDATE**  \r\nIn newest version of spring data (2.5.5) new Sort() has private access,\r\nshould use:\r\n\r\n   \r\n\r\n     Sort.by(new Order(direction, &quot;department.name&quot;))","title":"How do I sort a foreign column in JPA Hibernate?","body":"<p><strong>UPDATE</strong><br />\nIn newest version of spring data (2.5.5) new Sort() has private access,\nshould use:</p>\n<pre><code> Sort.by(new Order(direction, &quot;department.name&quot;))\n</code></pre>\n"}],"owner":{"account_id":4054336,"reputation":79,"user_id":3332843,"display_name":"jetGeekster"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2281,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":36064072,"answer_count":2,"score":3,"last_activity_date":1636537706,"creation_date":1458222036,"question_id":36062288,"body_markdown":"I have an entity named `Project` with a foreign `Department` entity that has a `name` field (See below):\r\n\r\n    @Entity\r\n    @Table(name = &quot;project&quot;)\r\n    public class Project \r\n    {\r\n      @GeneratedValue(generator = &quot;system-uuid&quot;)\r\n      @GenericGenerator(name = &quot;system-uuid&quot;, strategy = &quot;uuid2&quot;)\r\n      @Type(type = &quot;pg-uuid&quot;)\r\n      @Id\r\n      @Column(name = &quot;project_id&quot;)\r\n      private UUID id;\r\n    \r\n      @Column(nullable = false)\r\n      private String name;\r\n    \r\n      @Column(nullable = true, unique = false)\r\n      private String description;\r\n    \r\n      @ManyToOne(fetch = FetchType.LAZY)\r\n      @JoinColumn(name = &quot;department_id&quot;, nullable = false)\r\n      private Department department;\r\n\r\n      ...\r\n    }\r\n\r\nThen, in my `ProjectService` class I have a method:\r\n\r\n        public Page&lt;Project&gt; findByFilterSort(final ProjectSearchDTO dto,\r\n                                              ProjectSortBy sortBy,\r\n                                              Direction direction,\r\n                                              int pageNumber,\r\n                                              int pageSize)\r\n        {\r\n            BooleanBuilder builder = createFilter(dto);\r\n    \r\n            Sort sort;\r\n            switch (sortBy)\r\n            {\r\n                case NAME:\r\n                    sort = new Sort(new Order(direction, &quot;name&quot;),\r\n                                    new Order(Direction.DESC, &quot;created&quot;));\r\n                    break;\r\n                case DEPARTMENT_NAME:\r\n                    ???\r\n                \r\n                ...\r\n            }\r\n    \r\n            PageRequest request = new PageRequest(pageNumber-1, pageSize, sort);\r\n    \r\n            return projectRepository.findAll(builder, request);\r\n        }\r\n\r\nIs there a way to sort the `Department` by `name` using this approach? If yes, how? If no, what is the best way?\r\n\r\nThanks in advance.","title":"How do I sort a foreign column in JPA Hibernate?","body":"<p>I have an entity named <code>Project</code> with a foreign <code>Department</code> entity that has a <code>name</code> field (See below):</p>\n\n<pre><code>@Entity\n@Table(name = \"project\")\npublic class Project \n{\n  @GeneratedValue(generator = \"system-uuid\")\n  @GenericGenerator(name = \"system-uuid\", strategy = \"uuid2\")\n  @Type(type = \"pg-uuid\")\n  @Id\n  @Column(name = \"project_id\")\n  private UUID id;\n\n  @Column(nullable = false)\n  private String name;\n\n  @Column(nullable = true, unique = false)\n  private String description;\n\n  @ManyToOne(fetch = FetchType.LAZY)\n  @JoinColumn(name = \"department_id\", nullable = false)\n  private Department department;\n\n  ...\n}\n</code></pre>\n\n<p>Then, in my <code>ProjectService</code> class I have a method:</p>\n\n<pre><code>    public Page&lt;Project&gt; findByFilterSort(final ProjectSearchDTO dto,\n                                          ProjectSortBy sortBy,\n                                          Direction direction,\n                                          int pageNumber,\n                                          int pageSize)\n    {\n        BooleanBuilder builder = createFilter(dto);\n\n        Sort sort;\n        switch (sortBy)\n        {\n            case NAME:\n                sort = new Sort(new Order(direction, \"name\"),\n                                new Order(Direction.DESC, \"created\"));\n                break;\n            case DEPARTMENT_NAME:\n                ???\n\n            ...\n        }\n\n        PageRequest request = new PageRequest(pageNumber-1, pageSize, sort);\n\n        return projectRepository.findAll(builder, request);\n    }\n</code></pre>\n\n<p>Is there a way to sort the <code>Department</code> by <code>name</code> using this approach? If yes, how? If no, what is the best way?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","jackson"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1636536717,"post_id":69910720,"comment_id":123580705,"body_markdown":"You don&#39;t need to call `super.clone()` if you&#39;re not going to use the result.","body":"You don&#39;t need to call <code>super.clone()</code> if you&#39;re not going to use the result."}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636536793,"creation_date":1636536793,"answer_id":69910814,"question_id":69910720,"body_markdown":"&gt; In this case calling super.clone() is useless right? \r\n\r\nNot quiet. `Jackson` will do everything behind the scenes to correctly instantiate your object but only based on the **public** fields or those which you&#39;ve configured to be serializable to JSON. **Information about the private fields will be lost**. \r\n\r\n```\r\nclass A {\r\n   public int x = 10;\r\n   private int y = 100; // this info will be lost when cloning with Jackson\r\n}\r\n```\r\n\r\nWhile this method is perfectly workable on small projects. I think, it will generate too much overhead if you use it as a clone method on a large one. Too much deserealisation and serialisation can get expensive.\r\n\r\nYou should consider using the [proxy pattern][1] to implement cloning in java. [This][2] can also help.\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-pattern-prototype\r\n  [2]: https://www.baeldung.com/java-deep-copy","title":"java: super.clone() with Jackon ObjectMapper","body":"<blockquote>\n<p>In this case calling super.clone() is useless right?</p>\n</blockquote>\n<p>Not quiet. <code>Jackson</code> will do everything behind the scenes to correctly instantiate your object but only based on the <strong>public</strong> fields or those which you've configured to be serializable to JSON. <strong>Information about the private fields will be lost</strong>.</p>\n<pre><code>class A {\n   public int x = 10;\n   private int y = 100; // this info will be lost when cloning with Jackson\n}\n</code></pre>\n<p>While this method is perfectly workable on small projects. I think, it will generate too much overhead if you use it as a clone method on a large one. Too much deserealisation and serialisation can get expensive.</p>\n<p>You should consider using the <a href=\"https://www.baeldung.com/java-pattern-prototype\" rel=\"nofollow noreferrer\">proxy pattern</a> to implement cloning in java. <a href=\"https://www.baeldung.com/java-deep-copy\" rel=\"nofollow noreferrer\">This</a> can also help.</p>\n"},{"tags":[],"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636537173,"creation_date":1636537173,"answer_id":69910898,"question_id":69910720,"body_markdown":"Java&#39;s `clone` method and Jackson are not related in any way. So you do not even need to implement a `clone` method.\r\n\r\nSerializing and deserializing objects has always been a common approach to copy objects. Just keep in mind that it comes with downsides as well.","title":"java: super.clone() with Jackon ObjectMapper","body":"<p>Java's <code>clone</code> method and Jackson are not related in any way. So you do not even need to implement a <code>clone</code> method.</p>\n<p>Serializing and deserializing objects has always been a common approach to copy objects. Just keep in mind that it comes with downsides as well.</p>\n"}],"owner":{"account_id":14414394,"reputation":452,"user_id":10412230,"display_name":"Chris"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69910898,"answer_count":2,"score":0,"last_activity_date":1636537173,"creation_date":1636536393,"question_id":69910720,"body_markdown":"So I understand when implementing the `clone()` method, that you should first call `super.clone()` so the (potential) super class can do its thing and then do your own cloning. This all makes sure that not variables from the superclass are list / not cloned.\r\n\r\nWhat now if I use Jacksons ObjectMapper to do the cloning:  \r\n`return objectMapper.readValue(objectMapper.writeValueAsString(this), Mail.class);`  \r\nI decided to do this as my object (`Mail`) was already fully convertible to and from json which is basically cloning anyways.  \r\nIn this case calling super.clone() is useless right? Jackson will make a copy of the super variables anyways when it is set up that way so the result of `super.clone()` doesn&#39;t do anything.\r\n\r\nAm I missing somthing here?\r\n\r\nGreets,  \r\nChris","title":"java: super.clone() with Jackon ObjectMapper","body":"<p>So I understand when implementing the <code>clone()</code> method, that you should first call <code>super.clone()</code> so the (potential) super class can do its thing and then do your own cloning. This all makes sure that not variables from the superclass are list / not cloned.</p>\n<p>What now if I use Jacksons ObjectMapper to do the cloning:<br />\n<code>return objectMapper.readValue(objectMapper.writeValueAsString(this), Mail.class);</code><br />\nI decided to do this as my object (<code>Mail</code>) was already fully convertible to and from json which is basically cloning anyways.<br />\nIn this case calling super.clone() is useless right? Jackson will make a copy of the super variables anyways when it is set up that way so the result of <code>super.clone()</code> doesn't do anything.</p>\n<p>Am I missing somthing here?</p>\n<p>Greets,<br />\nChris</p>\n"},{"tags":["java","spring","spring-boot","validation"],"comments":[{"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"score":1,"creation_date":1636472844,"post_id":69901065,"comment_id":123563476,"body_markdown":"have you imported hibernate validator dependency? do you have the @Valid annotation on the request parameter? i don&#39;t see it in the code.","body":"have you imported hibernate validator dependency? do you have the @Valid annotation on the request parameter? i don&#39;t see it in the code."},{"owner":{"account_id":18969022,"reputation":70,"user_id":13842927,"display_name":"Sanady_"},"score":0,"creation_date":1636473032,"post_id":69901065,"comment_id":123563565,"body_markdown":"I haven&#39;t imported hibernate, because of the non-relational database. In my case, I am using MongoDB. Here is updated post with controller.","body":"I haven&#39;t imported hibernate, because of the non-relational database. In my case, I am using MongoDB. Here is updated post with controller."},{"owner":{"account_id":18969022,"reputation":70,"user_id":13842927,"display_name":"Sanady_"},"score":0,"creation_date":1636476702,"post_id":69901065,"comment_id":123565214,"body_markdown":"Maybe the issue could be that I am directly inserting data from the controller into the constructor, without any object mappers or other things to control data that are flowing into the app.","body":"Maybe the issue could be that I am directly inserting data from the controller into the constructor, without any object mappers or other things to control data that are flowing into the app."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1636525343,"post_id":69901065,"comment_id":123577221,"body_markdown":"You need `@Valid` on the `addresses` field, else validation will not propagate (this is documenten in the javax.validation specification). And make sure you have `spring-boot-starter-validation` on your classpath and not only the `javax.validation` (or worse `jakarta.validation`) api on your classpath.","body":"You need <code>@Valid</code> on the <code>addresses</code> field, else validation will not propagate (this is documenten in the javax.validation specification). And make sure you have <code>spring-boot-starter-validation</code> on your classpath and not only the <code>javax.validation</code> (or worse <code>jakarta.validation</code>) api on your classpath."},{"owner":{"account_id":18969022,"reputation":70,"user_id":13842927,"display_name":"Sanady_"},"score":0,"creation_date":1636535717,"post_id":69901065,"comment_id":123580321,"body_markdown":"I have added `@Valid` annotation to the addresses field, but still the same issue, the request passes to the repo...  About `@Valid` it is imported from `javax.validation` so I don&#39;t see the problem there...","body":"I have added <code>@Valid</code> annotation to the addresses field, but still the same issue, the request passes to the repo...  About <code>@Valid</code> it is imported from <code>javax.validation</code> so I don&#39;t see the problem there..."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1636537214,"post_id":69901065,"comment_id":123580926,"body_markdown":"And as stated make sure you have `spring-boot-starter-validation` as a dependency and not just `javax.validation` as an API. An API without an implementatin doesn&#39;t do anything.","body":"And as stated make sure you have <code>spring-boot-starter-validation</code> as a dependency and not just <code>javax.validation</code> as an API. An API without an implementatin doesn&#39;t do anything."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1636538020,"post_id":69901065,"comment_id":123581269,"body_markdown":"Another thing is you have security annotations on your controller, which leads to proxies, which might make the `@Valid` annotation invisible. Try without the `@PreAuthorize` and see if it works, if so then explicitly add configuration to enable class proxies for the controller. Also please add the **full controller** instead of only a snippet of the method involved.","body":"Another thing is you have security annotations on your controller, which leads to proxies, which might make the <code>@Valid</code> annotation invisible. Try without the <code>@PreAuthorize</code> and see if it works, if so then explicitly add configuration to enable class proxies for the controller. Also please add the <b>full controller</b> instead of only a snippet of the method involved."},{"owner":{"account_id":18969022,"reputation":70,"user_id":13842927,"display_name":"Sanady_"},"score":0,"creation_date":1636538325,"post_id":69901065,"comment_id":123581412,"body_markdown":"The issue is fixed. I used hibernate dependency with security validations dependency and somehow I had collisions with these two dependencies. Thank you M. Deinum for your help I would like to give the correct answer to that.","body":"The issue is fixed. I used hibernate dependency with security validations dependency and somehow I had collisions with these two dependencies. Thank you M. Deinum for your help I would like to give the correct answer to that."}],"answers":[{"tags":[],"owner":{"account_id":19970181,"reputation":186,"user_id":14635852,"display_name":"Josh Van de Walle"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636494044,"creation_date":1636477259,"answer_id":69902158,"question_id":69901065,"body_markdown":"Per [this][1] question I recommend adding the @Valid annotation (javax.validation.Valid) to the addresses property of the Business class. Also see the example [here][2]\r\n\r\nEDIT:\r\nAfter adding the annotation you can use BindingResult for controller validation. An example would like this: \r\n```\r\n@PostMapping(&quot;/&quot;)\r\npublic String doSomething(@Valid @RequestBody SomeModel model, BindingResult bindingResult) \r\n{\r\n   if (bindingResult.hasErrors()) \r\n   {\r\n      // handle validation error\r\n   }\r\n}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/53999226/javax-validation-on-nested-objects-not-working\r\n  [2]: https://riptutorial.com/spring/example/30721/-valid-usage-to-validate-nested-pojos","title":"Model contains correct annotation but still passes empty field to the repository - Spring boot, Java","body":"<p>Per <a href=\"https://stackoverflow.com/questions/53999226/javax-validation-on-nested-objects-not-working\">this</a> question I recommend adding the @Valid annotation (javax.validation.Valid) to the addresses property of the Business class. Also see the example <a href=\"https://riptutorial.com/spring/example/30721/-valid-usage-to-validate-nested-pojos\" rel=\"nofollow noreferrer\">here</a></p>\n<p>EDIT:\nAfter adding the annotation you can use BindingResult for controller validation. An example would like this:</p>\n<pre><code>@PostMapping(&quot;/&quot;)\npublic String doSomething(@Valid @RequestBody SomeModel model, BindingResult bindingResult) \n{\n   if (bindingResult.hasErrors()) \n   {\n      // handle validation error\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636479680,"creation_date":1636479680,"answer_id":69902699,"question_id":69901065,"body_markdown":"My guess is that you are missing one key dependency:\r\n```xml\r\n&lt;dependency&gt; \r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; \r\n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt; \r\n&lt;/dependency&gt;\r\n```","title":"Model contains correct annotation but still passes empty field to the repository - Spring boot, Java","body":"<p>My guess is that you are missing one key dependency:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt; \n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt; \n    &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt; \n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11725107,"reputation":754,"user_id":8582685,"display_name":"Lee Greiner"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1636483332,"creation_date":1636483332,"answer_id":69903443,"question_id":69901065,"body_markdown":"To fully configure method level security you need to add the following annotation/class:\r\n```\r\n@Configuration\r\n@EnableGlobalMethodSecurity(\r\n  prePostEnabled = true, \r\n  securedEnabled = true, \r\n  jsr250Enabled = true)\r\npublic class MethodSecurityConfig extends GlobalMethodSecurityConfiguration {\r\n}\r\n```\r\nThis will turn on validation of your service methods. As mentioned earlier, you can add BindingResult to your controller and check for errors in the controller if needed.","title":"Model contains correct annotation but still passes empty field to the repository - Spring boot, Java","body":"<p>To fully configure method level security you need to add the following annotation/class:</p>\n<pre><code>@Configuration\n@EnableGlobalMethodSecurity(\n  prePostEnabled = true, \n  securedEnabled = true, \n  jsr250Enabled = true)\npublic class MethodSecurityConfig extends GlobalMethodSecurityConfiguration {\n}\n</code></pre>\n<p>This will turn on validation of your service methods. As mentioned earlier, you can add BindingResult to your controller and check for errors in the controller if needed.</p>\n"}],"owner":{"account_id":18969022,"reputation":70,"user_id":13842927,"display_name":"Sanady_"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1636537063,"creation_date":1636472648,"question_id":69901065,"body_markdown":"some strange issue has shown up, in the business model I use the list of addresses that cannot be empty or null, but each field in the object address cannot be null or empty either. But when I send a request with one of the fields empty, the request will pass to the repository, which shouldn&#39;t happen. Instead of passing a request, the server should return an internal server error.\r\n\r\nAddress object:\r\n\r\n```java\r\n@Data\r\n@NoArgsConstructor\r\npublic class Address {\r\n    @NotEmpty(message = &quot;Street may not be empty&quot;)\r\n    @Size(min = 2, max = 256)\r\n    private String street;\r\n\r\n    @NotEmpty(message = &quot;Number may not be empty&quot;)\r\n    @Size(min = 1, max = 5)\r\n    private String number;\r\n\r\n    @NotEmpty(message = &quot;Postal code may not be empty&quot;)\r\n    @Field(&quot;postal_code&quot;)\r\n    @JsonProperty(&quot;postal_code&quot;)\r\n    @Size(min = 5, max = 6)\r\n    private String postalCode;\r\n\r\n    @NotEmpty(message = &quot;City may not be empty&quot;)\r\n    @Size(min = 2, max = 256)\r\n    private String city;\r\n\r\n    @NotEmpty(message = &quot;Province may not be empty&quot;)\r\n    @Size(min = 2, max = 256)\r\n    private String province;\r\n\r\n    @NotEmpty(message = &quot;Country may not be empty&quot;)\r\n    @Size(min = 2, max = 256)\r\n    private String country;\r\n}\r\n```\r\n\r\nBusiness object which contains list of addresses:\r\n\r\n```java\r\n@Data\r\n@NoArgsConstructor\r\n@Document(collection = &quot;businesses&quot;)\r\npublic class Business {\r\n    @Id\r\n    private String id;\r\n\r\n    @NotBlank\r\n    @Size(max = 64)\r\n    private String name;\r\n\r\n    @Field(&quot;created_at&quot;)\r\n    private Date createdAt;\r\n\r\n    @Field(&quot;updated_at&quot;)\r\n    private Date updatedAt;\r\n\r\n    private Boolean active;\r\n\r\n    @DBRef\r\n    private User owner;\r\n\r\n    @Valid\r\n    private List&lt;Address&gt; addresses;\r\n\r\n    public Business(String name, User owner, List&lt;Address&gt; addresses, Date createdAt, Date updatedAt, Boolean active) {\r\n        this.name = name;\r\n        this.owner = owner;\r\n        this.addresses = addresses;\r\n        this.createdAt = createdAt;\r\n        this.updatedAt = updatedAt;\r\n        this.active = active;\r\n    }\r\n\r\n    public Business(String name, User owner, List&lt;Address&gt; addresses, Date updatedAt, Boolean active) {\r\n        this.name = name;\r\n        this.owner = owner;\r\n        this.addresses = addresses;\r\n        this.updatedAt = updatedAt;\r\n        this.active = active;\r\n    }\r\n}\r\n```\r\n\r\nAnd in the end, service:\r\n\r\n```java\r\n@Override\r\npublic ResponseEntity&lt;?&gt; createBusiness(CreateBusinessRequest request, String token) throws RuntimeException {\r\n    Optional&lt;User&gt; user = userRepository.findByUsername(jwtUtils.getUserNameFromJwtToken(token.substring(7)));\r\n    if(businessRepository.existsByName(request.getName())) {\r\n        throw new ItemAlreadyExistsException(&quot;Business with &quot; + request.getName() + &quot; already exists!&quot;);\r\n    }\r\n\r\n    if(user.isEmpty()) {\r\n        throw new NotFoundException(&quot;User with &quot;+ user.get().getUsername() +&quot; does not exist!&quot;);\r\n    }\r\n\r\n    if(request.getAddresses().isEmpty() || request.getAddresses() == null) {\r\n        throw new InvalidInputException(&quot;Address is empty!&quot;);\r\n    }\r\n\r\n    Business business = new Business(\r\n            request.getName(),\r\n            user.get(),\r\n            request.getAddresses(),\r\n            new Date(),\r\n            new Date(),\r\n            true\r\n    );\r\n\r\n    businessRepository.save(business);\r\n    return ResponseEntity.ok(business);\r\n}\r\n```\r\n\r\nController:\r\n```java\r\n@PreAuthorize(&quot;hasRole(&#39;USER&#39;) or hasRole(&#39;MODERATOR&#39;) or hasRole(&#39;ADMIN&#39;)&quot;)\r\n@PostMapping(&quot;/create&quot;)\r\npublic ResponseEntity&lt;?&gt; createBusiness(@Valid @RequestBody CreateBusinessRequest request, @RequestHeader (name=&quot;Authorization&quot;) String token) {\r\n    return businessService.createBusiness(request, token);\r\n}\r\n```\r\n\r\nCreateBusinessRequest request model\r\n```java\r\n@Data\r\npublic class CreateBusinessRequest {\r\n    @NotNull\r\n    private String name;\r\n\r\n    @Valid\r\n    private List&lt;Address&gt; addresses;\r\n}\r\n```\r\n\r\nRequest:\r\n```json\r\n{\r\n    &quot;name&quot;: &quot;Test business&quot;,\r\n    &quot;addresses&quot;: [\r\n        {\r\n            &quot;street&quot;: &quot;&quot;,\r\n            &quot;number&quot;: &quot;100&quot;,\r\n            &quot;postal_code&quot;: &quot;84104&quot;,\r\n            &quot;city&quot;: &quot;Test city&quot;,\r\n            &quot;province&quot;: &quot;Test&quot;,\r\n            &quot;country&quot;: &quot;Slovakia&quot;\r\n        }\r\n    ]\r\n}\r\n```\r\n\r\nPom.xml\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.5.6&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.ratify&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;backend&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;backend&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t\t&lt;json.webtoken.version&gt;0.9.1&lt;/json.webtoken.version&gt;\r\n\t\t&lt;lombok.version&gt;1.18.22&lt;/lombok.version&gt;\r\n\t\t&lt;jakarta.xml.bind.version&gt;2.3.2&lt;/jakarta.xml.bind.version&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jjwt&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${json.webtoken.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${lombok.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${jakarta.xml.bind.version}&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n```\r\n\r\nI hope that I explained my issue correctly.\r\nIs there any solution to this issue?\r\n\r\nThanks in advance.","title":"Model contains correct annotation but still passes empty field to the repository - Spring boot, Java","body":"<p>some strange issue has shown up, in the business model I use the list of addresses that cannot be empty or null, but each field in the object address cannot be null or empty either. But when I send a request with one of the fields empty, the request will pass to the repository, which shouldn't happen. Instead of passing a request, the server should return an internal server error.</p>\n<p>Address object:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@NoArgsConstructor\npublic class Address {\n    @NotEmpty(message = &quot;Street may not be empty&quot;)\n    @Size(min = 2, max = 256)\n    private String street;\n\n    @NotEmpty(message = &quot;Number may not be empty&quot;)\n    @Size(min = 1, max = 5)\n    private String number;\n\n    @NotEmpty(message = &quot;Postal code may not be empty&quot;)\n    @Field(&quot;postal_code&quot;)\n    @JsonProperty(&quot;postal_code&quot;)\n    @Size(min = 5, max = 6)\n    private String postalCode;\n\n    @NotEmpty(message = &quot;City may not be empty&quot;)\n    @Size(min = 2, max = 256)\n    private String city;\n\n    @NotEmpty(message = &quot;Province may not be empty&quot;)\n    @Size(min = 2, max = 256)\n    private String province;\n\n    @NotEmpty(message = &quot;Country may not be empty&quot;)\n    @Size(min = 2, max = 256)\n    private String country;\n}\n</code></pre>\n<p>Business object which contains list of addresses:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\n@NoArgsConstructor\n@Document(collection = &quot;businesses&quot;)\npublic class Business {\n    @Id\n    private String id;\n\n    @NotBlank\n    @Size(max = 64)\n    private String name;\n\n    @Field(&quot;created_at&quot;)\n    private Date createdAt;\n\n    @Field(&quot;updated_at&quot;)\n    private Date updatedAt;\n\n    private Boolean active;\n\n    @DBRef\n    private User owner;\n\n    @Valid\n    private List&lt;Address&gt; addresses;\n\n    public Business(String name, User owner, List&lt;Address&gt; addresses, Date createdAt, Date updatedAt, Boolean active) {\n        this.name = name;\n        this.owner = owner;\n        this.addresses = addresses;\n        this.createdAt = createdAt;\n        this.updatedAt = updatedAt;\n        this.active = active;\n    }\n\n    public Business(String name, User owner, List&lt;Address&gt; addresses, Date updatedAt, Boolean active) {\n        this.name = name;\n        this.owner = owner;\n        this.addresses = addresses;\n        this.updatedAt = updatedAt;\n        this.active = active;\n    }\n}\n</code></pre>\n<p>And in the end, service:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic ResponseEntity&lt;?&gt; createBusiness(CreateBusinessRequest request, String token) throws RuntimeException {\n    Optional&lt;User&gt; user = userRepository.findByUsername(jwtUtils.getUserNameFromJwtToken(token.substring(7)));\n    if(businessRepository.existsByName(request.getName())) {\n        throw new ItemAlreadyExistsException(&quot;Business with &quot; + request.getName() + &quot; already exists!&quot;);\n    }\n\n    if(user.isEmpty()) {\n        throw new NotFoundException(&quot;User with &quot;+ user.get().getUsername() +&quot; does not exist!&quot;);\n    }\n\n    if(request.getAddresses().isEmpty() || request.getAddresses() == null) {\n        throw new InvalidInputException(&quot;Address is empty!&quot;);\n    }\n\n    Business business = new Business(\n            request.getName(),\n            user.get(),\n            request.getAddresses(),\n            new Date(),\n            new Date(),\n            true\n    );\n\n    businessRepository.save(business);\n    return ResponseEntity.ok(business);\n}\n</code></pre>\n<p>Controller:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PreAuthorize(&quot;hasRole('USER') or hasRole('MODERATOR') or hasRole('ADMIN')&quot;)\n@PostMapping(&quot;/create&quot;)\npublic ResponseEntity&lt;?&gt; createBusiness(@Valid @RequestBody CreateBusinessRequest request, @RequestHeader (name=&quot;Authorization&quot;) String token) {\n    return businessService.createBusiness(request, token);\n}\n</code></pre>\n<p>CreateBusinessRequest request model</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class CreateBusinessRequest {\n    @NotNull\n    private String name;\n\n    @Valid\n    private List&lt;Address&gt; addresses;\n}\n</code></pre>\n<p>Request:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;name&quot;: &quot;Test business&quot;,\n    &quot;addresses&quot;: [\n        {\n            &quot;street&quot;: &quot;&quot;,\n            &quot;number&quot;: &quot;100&quot;,\n            &quot;postal_code&quot;: &quot;84104&quot;,\n            &quot;city&quot;: &quot;Test city&quot;,\n            &quot;province&quot;: &quot;Test&quot;,\n            &quot;country&quot;: &quot;Slovakia&quot;\n        }\n    ]\n}\n</code></pre>\n<p>Pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.6&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.ratify&lt;/groupId&gt;\n    &lt;artifactId&gt;backend&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;backend&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;json.webtoken.version&gt;0.9.1&lt;/json.webtoken.version&gt;\n        &lt;lombok.version&gt;1.18.22&lt;/lombok.version&gt;\n        &lt;jakarta.xml.bind.version&gt;2.3.2&lt;/jakarta.xml.bind.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-mongodb&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.jsonwebtoken&lt;/groupId&gt;\n            &lt;artifactId&gt;jjwt&lt;/artifactId&gt;\n            &lt;version&gt;${json.webtoken.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;version&gt;${lombok.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n            &lt;version&gt;${jakarta.xml.bind.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I hope that I explained my issue correctly.\nIs there any solution to this issue?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","search","hashmap","substring"],"comments":[{"owner":{"account_id":7391605,"reputation":1968,"user_id":5624825,"display_name":"DhaRmvEEr siNgh"},"score":0,"creation_date":1636529245,"post_id":69908967,"comment_id":123578188,"body_markdown":"As per your example seems like first part of key in mapA like &#39;aaa&#39; or &#39;bbb&#39; (part before first &#39;|&#39;) can be there in mapB as a key. is that assumption is correct?","body":"As per your example seems like first part of key in mapA like &#39;aaa&#39; or &#39;bbb&#39; (part before first &#39;|&#39;) can be there in mapB as a key. is that assumption is correct?"},{"owner":{"account_id":12605696,"reputation":171,"user_id":9166690,"display_name":"zhwlx22"},"score":0,"creation_date":1636529605,"post_id":69908967,"comment_id":123578288,"body_markdown":"Correct, but in some reason, mapB should be traversed","body":"Correct, but in some reason, mapB should be traversed"},{"owner":{"account_id":7391605,"reputation":1968,"user_id":5624825,"display_name":"DhaRmvEEr siNgh"},"score":0,"creation_date":1636530347,"post_id":69908967,"comment_id":123578499,"body_markdown":"for mapA can we use Map&lt;Custom, String&gt; in place of Map&lt;String, String&gt;? if yes then in  Custom class we can modify equals and hashCode to use &#39;String&#39; before first pipeline?","body":"for mapA can we use Map&lt;Custom, String&gt; in place of Map&lt;String, String&gt;? if yes then in  Custom class we can modify equals and hashCode to use &#39;String&#39; before first pipeline?"}],"answers":[{"tags":[],"owner":{"account_id":11731268,"reputation":271,"user_id":8586670,"display_name":"I AM GROOT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636530200,"creation_date":1636529560,"answer_id":69909326,"question_id":69908967,"body_markdown":"**containsKey(Object key)** will check that this map contains a mapping for a key k such that **(key==null ? k==null : key.equals(k))**. However in your case **aaa|111|osdf** or **bbb|222|dfsf** considered as single key.\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.Set;\r\n    \r\n    public class MapMain {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tMap&lt;String, String&gt; mapA = new HashMap&lt;&gt;();\r\n    \t\tmapA.put(&quot;aaa|111|osdf&quot;, &quot;value1&quot;);\r\n    \t\tmapA.put(&quot;bbb|222|dfsf&quot;, &quot;value2&quot;);\r\n    \r\n    \t\tMap&lt;String, String&gt; mapB = new HashMap&lt;&gt;();\r\n    \t\tmapB.put(&quot;aaa&quot;, &quot;valueM&quot;);\r\n    \t\tmapB.put(&quot;bbb&quot;, &quot;valueN&quot;);\r\n    \r\n    \t\tmapB.forEach((k, v) -&gt; {\r\n    \t\t\tSet&lt;String&gt; mapAKeySet = mapA.keySet();\r\n    \t\t\tmapAKeySet.stream().filter(key -&gt; key.contains(k)).forEach(System.out::println);\r\n    \t\t});\r\n    \t}\r\n    \r\n    }","title":"How can I get keys in mapA as keys in mapB is a substring of key in mapA?","body":"<p><strong>containsKey(Object key)</strong> will check that this map contains a mapping for a key k such that <strong>(key==null ? k==null : key.equals(k))</strong>. However in your case <strong>aaa|111|osdf</strong> or <strong>bbb|222|dfsf</strong> considered as single key.</p>\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport java.util.Set;\n\npublic class MapMain {\n\n    public static void main(String[] args) {\n\n        Map&lt;String, String&gt; mapA = new HashMap&lt;&gt;();\n        mapA.put(&quot;aaa|111|osdf&quot;, &quot;value1&quot;);\n        mapA.put(&quot;bbb|222|dfsf&quot;, &quot;value2&quot;);\n\n        Map&lt;String, String&gt; mapB = new HashMap&lt;&gt;();\n        mapB.put(&quot;aaa&quot;, &quot;valueM&quot;);\n        mapB.put(&quot;bbb&quot;, &quot;valueN&quot;);\n\n        mapB.forEach((k, v) -&gt; {\n            Set&lt;String&gt; mapAKeySet = mapA.keySet();\n            mapAKeySet.stream().filter(key -&gt; key.contains(k)).forEach(System.out::println);\n        });\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636536572,"creation_date":1636530140,"answer_id":69909432,"question_id":69908967,"body_markdown":"You may change your comparison block to the following:\r\n\r\n    mapB.forEach( ( key, value ) -&gt; {\r\n\t\tmapA.keySet().forEach( k -&gt; { if( k.contains( key ) ) System.out.println( k ); } );\r\n\t} );\r\n\r\nYou may change the `if` condition to `startsWith()` or some other check that `String` provides and suits your needs better.\r\n\r\nThis **may** print a key multiple times depending upon the actual keys in both maps. So, you may instead of printing, collect the matched keys in a `Set` inside the `if` block and print later.\r\n\r\n\r\n----------\r\n\r\n## Using a custom map implementation ##\r\nThis only ensures that the looping is shifted into the `Map` implementation. However, the looping is not avoided. I would love to see a technique that doesn&#39;t use looping over the keys.\r\n\r\n    public static void main( String[] args ){\r\n\t\tclass CustomHashMap extends HashMap&lt;String, String&gt;{\r\n\t\t\t/* This method will find the matching keys. May be changed to return List&lt;String&gt;. */\r\n\t\t\tpublic String getStartingKey( String key ) {\r\n\t\t\t\tif( key == null || !( key instanceof String ) ) return null;\r\n\t\t\t\tfor( String k : keySet() ) if( k.startsWith( key.toString() ) ) return k;\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\t\t};\r\n\t\t\r\n\t\tCustomHashMap mapA = new CustomHashMap();\r\n\t\t\r\n\t\tmapA.put( &quot;aaa|111|osdf&quot;, &quot;value1&quot; );\r\n\t\tmapA.put( &quot;bbb|222|dfsf&quot;, &quot;value2&quot; );\r\n\t\tmapA.put( &quot;ccc|222|dfsf&quot;, &quot;value2&quot; );\r\n\r\n\t\tMap&lt;String, String&gt; mapB = new HashMap&lt;&gt;();\r\n\t\tmapB.put( &quot;aaa&quot;, &quot;valueM&quot; );\r\n\t\tmapB.put( &quot;bbb&quot;, &quot;valueN&quot; );\r\n\r\n\t\tmapB.forEach( ( key, value ) -&gt; {\r\n\t\t\tSystem.out.println( mapA.getStartingKey( key ) );\r\n\t\t} );\r\n\t}\r\n","title":"How can I get keys in mapA as keys in mapB is a substring of key in mapA?","body":"<p>You may change your comparison block to the following:</p>\n<pre><code>mapB.forEach( ( key, value ) -&gt; {\n    mapA.keySet().forEach( k -&gt; { if( k.contains( key ) ) System.out.println( k ); } );\n} );\n</code></pre>\n<p>You may change the <code>if</code> condition to <code>startsWith()</code> or some other check that <code>String</code> provides and suits your needs better.</p>\n<p>This <strong>may</strong> print a key multiple times depending upon the actual keys in both maps. So, you may instead of printing, collect the matched keys in a <code>Set</code> inside the <code>if</code> block and print later.</p>\n<hr />\n<h2>Using a custom map implementation</h2>\n<p>This only ensures that the looping is shifted into the <code>Map</code> implementation. However, the looping is not avoided. I would love to see a technique that doesn't use looping over the keys.</p>\n<pre><code>public static void main( String[] args ){\n    class CustomHashMap extends HashMap&lt;String, String&gt;{\n        /* This method will find the matching keys. May be changed to return List&lt;String&gt;. */\n        public String getStartingKey( String key ) {\n            if( key == null || !( key instanceof String ) ) return null;\n            for( String k : keySet() ) if( k.startsWith( key.toString() ) ) return k;\n            return null;\n        }\n    };\n    \n    CustomHashMap mapA = new CustomHashMap();\n    \n    mapA.put( &quot;aaa|111|osdf&quot;, &quot;value1&quot; );\n    mapA.put( &quot;bbb|222|dfsf&quot;, &quot;value2&quot; );\n    mapA.put( &quot;ccc|222|dfsf&quot;, &quot;value2&quot; );\n\n    Map&lt;String, String&gt; mapB = new HashMap&lt;&gt;();\n    mapB.put( &quot;aaa&quot;, &quot;valueM&quot; );\n    mapB.put( &quot;bbb&quot;, &quot;valueN&quot; );\n\n    mapB.forEach( ( key, value ) -&gt; {\n        System.out.println( mapA.getStartingKey( key ) );\n    } );\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10114825,"reputation":41,"user_id":7473867,"display_name":"Bhoomika G"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636531951,"creation_date":1636531951,"answer_id":69909757,"question_id":69908967,"body_markdown":"This should work\r\n\r\n```\r\n mapB.forEach((k, v) -&gt; {\r\n            String key = mapA.entrySet().stream()\r\n                    .filter(entry -&gt; entry.getKey().contains(k))\r\n                    .findFirst()\r\n                    .get()\r\n                    .getKey();\r\n            System.out.println(key);\r\n        });\r\n```","title":"How can I get keys in mapA as keys in mapB is a substring of key in mapA?","body":"<p>This should work</p>\n<pre><code> mapB.forEach((k, v) -&gt; {\n            String key = mapA.entrySet().stream()\n                    .filter(entry -&gt; entry.getKey().contains(k))\n                    .findFirst()\n                    .get()\n                    .getKey();\n            System.out.println(key);\n        });\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17223316"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636532643,"creation_date":1636532643,"answer_id":69909881,"question_id":69908967,"body_markdown":"Try this.\r\n\r\n\r\n    public static void main(String[] args) {\r\n        Map&lt;String, String&gt; mapA = new HashMap&lt;&gt;();\r\n        mapA.put(&quot;aaa|111|osdf&quot;, &quot;value1&quot;);\r\n        mapA.put(&quot;bbb|222|dfsf&quot;, &quot;value2&quot;);\r\n\r\n        Map&lt;String, String&gt; mapB = new HashMap&lt;&gt;();\r\n        mapB.put(&quot;aaa&quot;, &quot;valueM&quot;);\r\n        mapB.put(&quot;bbb&quot;, &quot;valueN&quot;);\r\n        \r\n        for (String aKey : mapA.keySet())\r\n            for (String bKey : mapB.keySet())\r\n                if (aKey.contains(bKey)) {\r\n                    System.out.println(aKey);\r\n                    break;\r\n                }\r\n    }\r\n\r\noutput:\r\n\r\n    aaa|111|osdf\r\n    bbb|222|dfsf\r\n\r\nOr\r\n\r\n        mapA.keySet().stream()\r\n            .filter(aKey -&gt; mapB.keySet().stream()\r\n                .anyMatch(bKey -&gt; aKey.contains(bKey)))\r\n            .forEach(System.out::println);\r\n\r\n\r\n","title":"How can I get keys in mapA as keys in mapB is a substring of key in mapA?","body":"<p>Try this.</p>\n<pre><code>public static void main(String[] args) {\n    Map&lt;String, String&gt; mapA = new HashMap&lt;&gt;();\n    mapA.put(&quot;aaa|111|osdf&quot;, &quot;value1&quot;);\n    mapA.put(&quot;bbb|222|dfsf&quot;, &quot;value2&quot;);\n\n    Map&lt;String, String&gt; mapB = new HashMap&lt;&gt;();\n    mapB.put(&quot;aaa&quot;, &quot;valueM&quot;);\n    mapB.put(&quot;bbb&quot;, &quot;valueN&quot;);\n    \n    for (String aKey : mapA.keySet())\n        for (String bKey : mapB.keySet())\n            if (aKey.contains(bKey)) {\n                System.out.println(aKey);\n                break;\n            }\n}\n</code></pre>\n<p>output:</p>\n<pre><code>aaa|111|osdf\nbbb|222|dfsf\n</code></pre>\n<p>Or</p>\n<pre><code>    mapA.keySet().stream()\n        .filter(aKey -&gt; mapB.keySet().stream()\n            .anyMatch(bKey -&gt; aKey.contains(bKey)))\n        .forEach(System.out::println);\n</code></pre>\n"}],"owner":{"account_id":12605696,"reputation":171,"user_id":9166690,"display_name":"zhwlx22"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":4,"score":0,"last_activity_date":1636536572,"creation_date":1636527450,"question_id":69908967,"body_markdown":"I have two maps here:\r\n\r\n**mapA**\r\n```\r\nMap&lt;String, String&gt; mapA = new HashMap&lt;&gt;();\r\nmapA.put(&quot;aaa|111|osdf&quot;, &quot;value1&quot;);\r\nmapA.put(&quot;bbb|222|dfsf&quot;, &quot;value2&quot;);\r\n...\r\n```\r\n\r\n**mapB**\r\n```\r\nMap&lt;String, String&gt; mapB = new HashMap&lt;&gt;();\r\nmapB.put(&quot;aaa&quot;, &quot;valueM&quot;);\r\nmapB.put(&quot;bbb&quot;, &quot;valueN&quot;);\r\n...\r\n```\r\n\r\nNow I want to get keys in mapA if key in mapB is substring of keys in mapA, just like:\r\n```\r\nmapB.forEach((key, value) -&gt; {\r\n  if (mapA.containsKey(key)) {\r\n     // This is not what I want, because key in mapB is substring of key in mapA.\r\n     // nested loop is not suggested here.\r\n\r\n ​ }\r\n\r\n})\r\n```\r\n\r\n**OUTPUTS**\r\n```\r\naaa|111|osdf\r\nbbb|222|dfsf\r\n```\r\n\r\n\r\nHow can I get keys in mapA as keys in mapB is a substring of key in mapA?","title":"How can I get keys in mapA as keys in mapB is a substring of key in mapA?","body":"<p>I have two maps here:</p>\n<p><strong>mapA</strong></p>\n<pre><code>Map&lt;String, String&gt; mapA = new HashMap&lt;&gt;();\nmapA.put(&quot;aaa|111|osdf&quot;, &quot;value1&quot;);\nmapA.put(&quot;bbb|222|dfsf&quot;, &quot;value2&quot;);\n...\n</code></pre>\n<p><strong>mapB</strong></p>\n<pre><code>Map&lt;String, String&gt; mapB = new HashMap&lt;&gt;();\nmapB.put(&quot;aaa&quot;, &quot;valueM&quot;);\nmapB.put(&quot;bbb&quot;, &quot;valueN&quot;);\n...\n</code></pre>\n<p>Now I want to get keys in mapA if key in mapB is substring of keys in mapA, just like:</p>\n<pre><code>mapB.forEach((key, value) -&gt; {\n  if (mapA.containsKey(key)) {\n     // This is not what I want, because key in mapB is substring of key in mapA.\n     // nested loop is not suggested here.\n\n ​ }\n\n})\n</code></pre>\n<p><strong>OUTPUTS</strong></p>\n<pre><code>aaa|111|osdf\nbbb|222|dfsf\n</code></pre>\n<p>How can I get keys in mapA as keys in mapB is a substring of key in mapA?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":2,"creation_date":1636536277,"post_id":69910601,"comment_id":123580533,"body_markdown":"&quot;_If I enter a number..._&quot; - `Scanner#next()` does not care if you enter a number or a letter. Why do you expect an `InputMismatchException`?","body":"&quot;<i>If I enter a number...</i>&quot; - <code>Scanner#next()</code> does not care if you enter a number or a letter. Why do you expect an <code>InputMismatchException</code>?"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":1,"creation_date":1636536394,"post_id":69910601,"comment_id":123580587,"body_markdown":"The reason you are getting the `InvalidLetterException` is because you specifically throw it. Since if you enter a number as the answer, the answer does not equal any of your choices and `else if (!answer.equals(choices))` will always be true, since `answer` is of type `String` and `choices` is a `String[]`. Then your custom exception is thrown.","body":"The reason you are getting the <code>InvalidLetterException</code> is because you specifically throw it. Since if you enter a number as the answer, the answer does not equal any of your choices and <code>else if (!answer.equals(choices))</code> will always be true, since <code>answer</code> is of type <code>String</code> and <code>choices</code> is a <code>String[]</code>. Then your custom exception is thrown."}],"answers":[{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636536301,"creation_date":1636536301,"answer_id":69910694,"question_id":69910601,"body_markdown":"Well, an `InputMismatchException` can never be thrown within your `try` block. If you would have called `nextInt()` instead, then it would. But `next()` does not expect the input to be in a certain format, you can enter whatever you want.\r\n\r\n```java\r\n!answer.equals(choices)\r\n```\r\n\r\nThis is always true if the other `if` statements are false, so effectively, it can be replaced by just `else`.\r\n\r\n","title":"Try Catch Exception not working as intended to be","body":"<p>Well, an <code>InputMismatchException</code> can never be thrown within your <code>try</code> block. If you would have called <code>nextInt()</code> instead, then it would. But <code>next()</code> does not expect the input to be in a certain format, you can enter whatever you want.</p>\n<pre class=\"lang-java prettyprint-override\"><code>!answer.equals(choices)\n</code></pre>\n<p>This is always true if the other <code>if</code> statements are false, so effectively, it can be replaced by just <code>else</code>.</p>\n"}],"owner":{"account_id":23072726,"reputation":29,"user_id":17186130,"display_name":"Pablo Job"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636536301,"creation_date":1636535937,"question_id":69910601,"body_markdown":"My `InputMismatchException` won&#39;t work. Instead the one working is the exception I manually made from the other class called `InvalidLetterException`. If I enter a number the exception doing the catch is the `InvalidLetterException` instead of the `InputMismatchException` because I&#39;m entering an integer, a different data type. I&#39;m hinting there&#39;s a problem with my `if-else` statement but I don&#39;t know what to do.\r\n\r\n    public static void main(String[] args) {\r\n    \r\n        Scanner scan = new Scanner(System.in);\r\n    \r\n        String questions[] = {&quot;What is the color of the sky? &quot;, &quot;What is 1 + 1? &quot;,\r\n                &quot;What is the capital of the Philippines? &quot;, &quot;Who is the current president of the Philippines? &quot;,\r\n                &quot;What is the capital of Japan? &quot;, &quot;What is 2 + 3? &quot;,\r\n                &quot;What is 9 + 1?&quot;, &quot;What is the capital of the United States? &quot;,\r\n                &quot;What is 10 + 10? &quot;, &quot;How many hand fingers do humans have? &quot;};\r\n    \r\n        String choices[] = {&quot;a&quot;,&quot;b&quot;,&quot;c&quot;};\r\n    \r\n    \r\n        int x = 0;\r\n        int y = 0;\r\n    \r\n    \r\n    \r\n        try {\r\n    \r\n            while(x&lt;=9) {\r\n    \r\n                System.out.println(&quot;No.&quot; + (x+1) + &quot;.&quot; + questions[x]);\r\n                String answer = scan.next();\r\n                x++;\r\n    \r\n                if(answer.equals(choices[0])) {\r\n                    scan.nextLine();\r\n    \r\n                } else if (answer.equals(choices[1])) {\r\n                    scan.nextLine();\r\n    \r\n                } else if (answer.equals(choices[2])) {\r\n                    scan.nextLine();\r\n    \r\n                } else if (!answer.equals(choices)) {\r\n                    throw new InvalidLetterException(); \r\n    \r\n    \r\n                }\r\n    \r\n            } \r\n    \r\n        } catch(InvalidLetterException e) {\r\n            System.out.println(e.getMessage());\r\n            System.out.println(); //Spacing\r\n            System.out.println(&quot;You can try again.&quot;);\r\n            System.out.println(); //Spacing\r\n            do {\r\n                System.out.println(&quot;No.&quot; + (y+1) + &quot;.&quot; + questions[y]);\r\n                scan.next();\r\n                y++;\r\n            }while(y&lt;=9);\r\n    \r\n        } catch (InputMismatchException i) {\r\n            System.out.println(&quot;Please don&#39;t enter numbers.&quot;);\r\n        }\r\n    \r\n    \r\n    \r\n    }","title":"Try Catch Exception not working as intended to be","body":"<p>My <code>InputMismatchException</code> won't work. Instead the one working is the exception I manually made from the other class called <code>InvalidLetterException</code>. If I enter a number the exception doing the catch is the <code>InvalidLetterException</code> instead of the <code>InputMismatchException</code> because I'm entering an integer, a different data type. I'm hinting there's a problem with my <code>if-else</code> statement but I don't know what to do.</p>\n<pre><code>public static void main(String[] args) {\n\n    Scanner scan = new Scanner(System.in);\n\n    String questions[] = {&quot;What is the color of the sky? &quot;, &quot;What is 1 + 1? &quot;,\n            &quot;What is the capital of the Philippines? &quot;, &quot;Who is the current president of the Philippines? &quot;,\n            &quot;What is the capital of Japan? &quot;, &quot;What is 2 + 3? &quot;,\n            &quot;What is 9 + 1?&quot;, &quot;What is the capital of the United States? &quot;,\n            &quot;What is 10 + 10? &quot;, &quot;How many hand fingers do humans have? &quot;};\n\n    String choices[] = {&quot;a&quot;,&quot;b&quot;,&quot;c&quot;};\n\n\n    int x = 0;\n    int y = 0;\n\n\n\n    try {\n\n        while(x&lt;=9) {\n\n            System.out.println(&quot;No.&quot; + (x+1) + &quot;.&quot; + questions[x]);\n            String answer = scan.next();\n            x++;\n\n            if(answer.equals(choices[0])) {\n                scan.nextLine();\n\n            } else if (answer.equals(choices[1])) {\n                scan.nextLine();\n\n            } else if (answer.equals(choices[2])) {\n                scan.nextLine();\n\n            } else if (!answer.equals(choices)) {\n                throw new InvalidLetterException(); \n\n\n            }\n\n        } \n\n    } catch(InvalidLetterException e) {\n        System.out.println(e.getMessage());\n        System.out.println(); //Spacing\n        System.out.println(&quot;You can try again.&quot;);\n        System.out.println(); //Spacing\n        do {\n            System.out.println(&quot;No.&quot; + (y+1) + &quot;.&quot; + questions[y]);\n            scan.next();\n            y++;\n        }while(y&lt;=9);\n\n    } catch (InputMismatchException i) {\n        System.out.println(&quot;Please don't enter numbers.&quot;);\n    }\n\n\n\n}\n</code></pre>\n"},{"tags":["java","pdf-generation","pdfbox","digital-signature"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1634905053,"post_id":69676156,"comment_id":123158897,"body_markdown":"Please share an example PDF signed by your code. Often a quick analysis of the PDF makes clear where to look in the code or in the environment.","body":"Please share an example PDF signed by your code. Often a quick analysis of the PDF makes clear where to look in the code or in the environment."},{"owner":{"account_id":6568844,"reputation":31,"user_id":5077573,"display_name":"NunoMMC"},"score":0,"creation_date":1634909501,"post_id":69676156,"comment_id":123160913,"body_markdown":"I can&#39;t add attachments here, i sent it to you by e-mail (filename tst_nunommc_signed_fos.pdf). thanks @mkl","body":"I can&#39;t add attachments here, i sent it to you by e-mail (filename tst_nunommc_signed_fos.pdf). thanks @mkl"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1635084026,"post_id":69676156,"comment_id":123195193,"body_markdown":"Ok, after a first glance at your files: The _signature_ you have to embed is not the array of naked signature bytes but instead a full fledged CMS signature container wrapping and detailing the signature bytes. In your iText 7 based solution you use the iText `PdfPKCS7` class for that. PDFBox does not have own classes for that, you can use BouncyCastle classes, though.","body":"Ok, after a first glance at your files: The <i>signature</i> you have to embed is not the array of naked signature bytes but instead a full fledged CMS signature container wrapping and detailing the signature bytes. In your iText 7 based solution you use the iText <code>PdfPKCS7</code> class for that. PDFBox does not have own classes for that, you can use BouncyCastle classes, though."},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1635087726,"post_id":69676156,"comment_id":123196199,"body_markdown":"An example of BouncyCastle use to create a CMS signature container can be found in `org.apache.pdfbox.examples.signature.CreateSignatureBase.sign(InputStream)`.","body":"An example of BouncyCastle use to create a CMS signature container can be found in <code>org.apache.pdfbox.examples.signature.CreateSignatureBase.sig&zwnj;&#8203;n(InputStream)</code>."}],"answers":[{"tags":[],"owner":{"account_id":6568844,"reputation":31,"user_id":5077573,"display_name":"NunoMMC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636536258,"creation_date":1636536258,"answer_id":69910676,"question_id":69676156,"body_markdown":"I already found a solution. The key was to create a CMS signature container with BouncyCastle.\r\n\r\n\r\n    public static byte[] createSignature(InputStream content, Certificate [] chain, String fileName) throws Exception {\r\n        //BufferedInputStream bis = new BufferedInputStream(content);\r\n\r\n        List&lt;Certificate&gt; certList = new ArrayList&lt;&gt;();\r\n\r\n        for (Certificate cert: chain){\r\n            certList.add(cert);\r\n        }\r\n\r\n        Store certs = new JcaCertStore(certList);\r\n\r\n        CMSSignedDataGenerator gen = new CMSSignedDataGenerator();\r\n        gen.addCertificates(certs);\r\n\r\n        MessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n        byte [] hashBytes = digest.digest(content.readAllBytes());\r\n\r\n        String hashToSign = SafePdfHelper.getHashtoSign(hashBytes);\r\n        String signatureHash_B64 = SafeAmaHelper.getAssinat(token,hashToSign,fileName,credentialID).getSignatures().get(0); //GET SIGNHASH WITH A EXTERNAL ENTITY\r\n        byte[] signedHash = Base64.getDecoder().decode(String.valueOf(signatureHash_B64.toCharArray()));\r\n\r\n        ContentSigner nonSigner = new ContentSigner() {\r\n\r\n            @Override\r\n            public byte[] getSignature() {\r\n                return signedHash;\r\n            }\r\n\r\n            @Override\r\n            public OutputStream getOutputStream() {\r\n                return new ByteArrayOutputStream();\r\n            }\r\n\r\n            @Override\r\n            public AlgorithmIdentifier getAlgorithmIdentifier() {\r\n                return new DefaultSignatureAlgorithmIdentifierFinder().find(&quot;SHA256WithRSA&quot;);\r\n            }\r\n        };\r\n\r\n        JcaSignerInfoGeneratorBuilder sigb = new JcaSignerInfoGeneratorBuilder(new JcaDigestCalculatorProviderBuilder().build());\r\n        sigb.setDirectSignature(true);\r\n\r\n        for (Certificate cert: chain){\r\n            //Certificate x = cert;\r\n            org.bouncycastle.asn1.x509.Certificate certx509 = org.bouncycastle.asn1.x509.Certificate.getInstance(ASN1Primitive.fromByteArray(cert.getEncoded()));\r\n            gen.addSignerInfoGenerator(sigb.build(nonSigner, new X509CertificateHolder(certx509)));\r\n        }\r\n\r\n        CMSTypedData msg = new CMSProcessableInputStream(new ByteArrayInputStream(&quot;not used&quot;.getBytes()));\r\n\r\n        CMSSignedData signedData = gen.generate(msg, false);\r\n        byte[] signature = signedData.getEncoded();\r\n\r\n        return signature;\r\n    }\r\n\r\n thanks @mkl","title":"Java PdfBox - PDF Sign Problem -External Signature -Invalid signature There are errors in formatting or in the information contained in this signature","body":"<p>I already found a solution. The key was to create a CMS signature container with BouncyCastle.</p>\n<pre><code>public static byte[] createSignature(InputStream content, Certificate [] chain, String fileName) throws Exception {\n    //BufferedInputStream bis = new BufferedInputStream(content);\n\n    List&lt;Certificate&gt; certList = new ArrayList&lt;&gt;();\n\n    for (Certificate cert: chain){\n        certList.add(cert);\n    }\n\n    Store certs = new JcaCertStore(certList);\n\n    CMSSignedDataGenerator gen = new CMSSignedDataGenerator();\n    gen.addCertificates(certs);\n\n    MessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\n    byte [] hashBytes = digest.digest(content.readAllBytes());\n\n    String hashToSign = SafePdfHelper.getHashtoSign(hashBytes);\n    String signatureHash_B64 = SafeAmaHelper.getAssinat(token,hashToSign,fileName,credentialID).getSignatures().get(0); //GET SIGNHASH WITH A EXTERNAL ENTITY\n    byte[] signedHash = Base64.getDecoder().decode(String.valueOf(signatureHash_B64.toCharArray()));\n\n    ContentSigner nonSigner = new ContentSigner() {\n\n        @Override\n        public byte[] getSignature() {\n            return signedHash;\n        }\n\n        @Override\n        public OutputStream getOutputStream() {\n            return new ByteArrayOutputStream();\n        }\n\n        @Override\n        public AlgorithmIdentifier getAlgorithmIdentifier() {\n            return new DefaultSignatureAlgorithmIdentifierFinder().find(&quot;SHA256WithRSA&quot;);\n        }\n    };\n\n    JcaSignerInfoGeneratorBuilder sigb = new JcaSignerInfoGeneratorBuilder(new JcaDigestCalculatorProviderBuilder().build());\n    sigb.setDirectSignature(true);\n\n    for (Certificate cert: chain){\n        //Certificate x = cert;\n        org.bouncycastle.asn1.x509.Certificate certx509 = org.bouncycastle.asn1.x509.Certificate.getInstance(ASN1Primitive.fromByteArray(cert.getEncoded()));\n        gen.addSignerInfoGenerator(sigb.build(nonSigner, new X509CertificateHolder(certx509)));\n    }\n\n    CMSTypedData msg = new CMSProcessableInputStream(new ByteArrayInputStream(&quot;not used&quot;.getBytes()));\n\n    CMSSignedData signedData = gen.generate(msg, false);\n    byte[] signature = signedData.getEncoded();\n\n    return signature;\n}\n</code></pre>\n<p>thanks @mkl</p>\n"}],"owner":{"account_id":6568844,"reputation":31,"user_id":5077573,"display_name":"NunoMMC"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1459,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1636536258,"creation_date":1634902357,"question_id":69676156,"body_markdown":"I&#39;m having problems signing pdf&#39;s with pdfbox.\r\nThe idea is the same as used with itext (https://stackoverflow.com/questions/69131022/java-itext7-pdf-sign-problem-document-has-been-altered-or-corrupted-since-it-w). Get bytearray from a pdf with empty signature, send byte array to an external entity that returns a hash-signature, and embed that hash in pdf with empty signature.\r\n\r\n**PDF error:\r\nInvalid signature\r\nThere are errors in formatting or in the information contained in this signature.**\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThe java code (small resume) that i use are:\r\n\r\n    \t\t\t//GET External signing content\t\r\n            PDDocument doc = PDDocument.load(inputPDF);\r\n\r\n            PDSignature signature = new PDSignature();\r\n            signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE); // default filter\r\n            signature.setSubFilter(PDSignature.SUBFILTER_ADBE_PKCS7_DETACHED);\r\n            \r\n            signature.setReason(sigReason);\r\n            signature.setLocation(sigLocation);\r\n            \r\n            \r\n            SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy HH:mm:ss&quot;);\r\n            Calendar cal = Calendar.getInstance();\r\n            cal.setTime(sdf.parse(sdf.format(forcedDate)));\r\n            signature.setSignDate(cal);\r\n\r\n            \r\n            SignatureOptions signatureOptions = new SignatureOptions();\r\n            signatureOptions.setPreferredSignatureSize(SignatureOptions.DEFAULT_SIGNATURE_SIZE * 8);\r\n\r\n            doc.addSignature(signature,signatureOptions);\r\n\r\n            ExternalSigningSupport externalSigningSupport = doc.saveIncrementalForExternalSigning(null);\r\n            byte[] content = IOUtils.toByteArray(externalSigningSupport.getContent());\r\n\t\t\t\r\n            MessageDigest md = MessageDigest.getInstance(&quot;SHA256&quot;, new BouncyCastleProvider());\r\n            hashtosign = md.digest(content); // this is sent to client\r\n\r\n            return hashtosign;\r\n        \r\n\r\n\t\t// CALL AMA(entity - external client webservice) TO GET SIGNATURE-HASH (signatureHash)\r\n\t\t   String hashToSendAMA = SafePdfHelper.getHashtoSign(hashtosign);\r\n\t\t   String signatureHash_B64 = SafeAmaHelper.getAssinat(token,hashToSendAMA,&quot;tst_nunommc&quot;,credentialID).getSignatures().get(0);\r\n\t\t// SIGNATURE-HASH \r\n\t\t   byte[] signatureHash = Base64.getDecoder().decode(String.valueOf(signatureHash_B64.toCharArray()));\r\n\t\t\r\n\r\n\t\r\n\t\t//InsertHash SIGNATURE-HASH in PDF\t\r\n\t\t\r\n\t\t#code\r\n\t\t\r\n\t\tExternalSigningSupport externalSigningSupport = doc.saveIncrementalForExternalSigning(fosSigned);\r\n\t\texternalSigningSupport.setSignature(signatureHash);\r\n\r\n\t\tdoc.save(&quot;C:/INTEGRACOES/Ama/omitf/tst_signed.pdf&quot;);\r\n\t\treturn &quot;Signed&quot;;\r\n\r\nBase64 format of the signature (AMA) is:\r\nPMPk04d/sj5OxRZpZfGSJlrQthryaWjmj6tNs3a7g3CgOB02c/a9omVaZD1Upl87XI/FvVMBMoKlGcm7MRO+ENgKApr9O1/joKN5dnucm11OXL8rxov/EAV8cQOLqCVTNvsDDylDy1L7LdYSBCDzvqCKmR8OF7955wyZJeTDiCcYDm3gGN9IDQ82fwMKPuiIt7e1ToZdm7qzLBLTr38K2eM784NUNCFMI152QdtZIxQHl03qXk6IrNoWxW0axh9YcJmbBWlkUo75wm6BjuJzkPOYgaT4/CWTyjuCKtYg748gQQmh89xbBswmtZxw7NRVRXl4DtWE9ceRClKZx0JrIawzkWNhJt42+u62ntNs/Z4a/LRNg8rfmru2C9mhqZ5h6jfIJzk9bX219csIekM46pXofEizAnnMTjDZLWYedHFWojJGybdA76fVlBQx+9nTA7xD/gqDY9NUKW0bjfF9j+diHxNZklZ+0+RzUMF9l3Pq9Hlg2InaZM08yUyhdSYl\r\n\r\n\r\n**Can anyone help please?**\r\n\r\n\r\n-sorry for the bad formatting post\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/R5CbG.png\r\n  [2]: https://i.stack.imgur.com/KLTS9.png","title":"Java PdfBox - PDF Sign Problem -External Signature -Invalid signature There are errors in formatting or in the information contained in this signature","body":"<p>I'm having problems signing pdf's with pdfbox.\nThe idea is the same as used with itext (<a href=\"https://stackoverflow.com/questions/69131022/java-itext7-pdf-sign-problem-document-has-been-altered-or-corrupted-since-it-w\">Java IText7 PDF Sign Problem - Document has been altered or corrupted since it was signed</a>). Get bytearray from a pdf with empty signature, send byte array to an external entity that returns a hash-signature, and embed that hash in pdf with empty signature.</p>\n<p><strong>PDF error:\nInvalid signature\nThere are errors in formatting or in the information contained in this signature.</strong></p>\n<p><a href=\"https://i.stack.imgur.com/KLTS9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KLTS9.png\" alt=\"enter image description here\" /></a></p>\n<p>The java code (small resume) that i use are:</p>\n<pre><code>            //GET External signing content  \n        PDDocument doc = PDDocument.load(inputPDF);\n\n        PDSignature signature = new PDSignature();\n        signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE); // default filter\n        signature.setSubFilter(PDSignature.SUBFILTER_ADBE_PKCS7_DETACHED);\n        \n        signature.setReason(sigReason);\n        signature.setLocation(sigLocation);\n        \n        \n        SimpleDateFormat sdf = new SimpleDateFormat(&quot;dd/MM/yyyy HH:mm:ss&quot;);\n        Calendar cal = Calendar.getInstance();\n        cal.setTime(sdf.parse(sdf.format(forcedDate)));\n        signature.setSignDate(cal);\n\n        \n        SignatureOptions signatureOptions = new SignatureOptions();\n        signatureOptions.setPreferredSignatureSize(SignatureOptions.DEFAULT_SIGNATURE_SIZE * 8);\n\n        doc.addSignature(signature,signatureOptions);\n\n        ExternalSigningSupport externalSigningSupport = doc.saveIncrementalForExternalSigning(null);\n        byte[] content = IOUtils.toByteArray(externalSigningSupport.getContent());\n        \n        MessageDigest md = MessageDigest.getInstance(&quot;SHA256&quot;, new BouncyCastleProvider());\n        hashtosign = md.digest(content); // this is sent to client\n\n        return hashtosign;\n    \n\n    // CALL AMA(entity - external client webservice) TO GET SIGNATURE-HASH (signatureHash)\n       String hashToSendAMA = SafePdfHelper.getHashtoSign(hashtosign);\n       String signatureHash_B64 = SafeAmaHelper.getAssinat(token,hashToSendAMA,&quot;tst_nunommc&quot;,credentialID).getSignatures().get(0);\n    // SIGNATURE-HASH \n       byte[] signatureHash = Base64.getDecoder().decode(String.valueOf(signatureHash_B64.toCharArray()));\n    \n\n\n    //InsertHash SIGNATURE-HASH in PDF  \n    \n    #code\n    \n    ExternalSigningSupport externalSigningSupport = doc.saveIncrementalForExternalSigning(fosSigned);\n    externalSigningSupport.setSignature(signatureHash);\n\n    doc.save(&quot;C:/INTEGRACOES/Ama/omitf/tst_signed.pdf&quot;);\n    return &quot;Signed&quot;;\n</code></pre>\n<p>Base64 format of the signature (AMA) is:\nPMPk04d/sj5OxRZpZfGSJlrQthryaWjmj6tNs3a7g3CgOB02c/a9omVaZD1Upl87XI/FvVMBMoKlGcm7MRO+ENgKApr9O1/joKN5dnucm11OXL8rxov/EAV8cQOLqCVTNvsDDylDy1L7LdYSBCDzvqCKmR8OF7955wyZJeTDiCcYDm3gGN9IDQ82fwMKPuiIt7e1ToZdm7qzLBLTr38K2eM784NUNCFMI152QdtZIxQHl03qXk6IrNoWxW0axh9YcJmbBWlkUo75wm6BjuJzkPOYgaT4/CWTyjuCKtYg748gQQmh89xbBswmtZxw7NRVRXl4DtWE9ceRClKZx0JrIawzkWNhJt42+u62ntNs/Z4a/LRNg8rfmru2C9mhqZ5h6jfIJzk9bX219csIekM46pXofEizAnnMTjDZLWYedHFWojJGybdA76fVlBQx+9nTA7xD/gqDY9NUKW0bjfF9j+diHxNZklZ+0+RzUMF9l3Pq9Hlg2InaZM08yUyhdSYl</p>\n<p><strong>Can anyone help please?</strong></p>\n<p>-sorry for the bad formatting post</p>\n"},{"tags":["java","zip","zipinputstream"],"comments":[{"owner":{"account_id":12247478,"reputation":278,"user_id":8938788,"display_name":"Dhanasekaran Don"},"score":3,"creation_date":1634875541,"post_id":69671048,"comment_id":123149110,"body_markdown":"is this code not efficient ?","body":"is this code not efficient ?"},{"owner":{"account_id":7001148,"reputation":111,"user_id":5367150,"display_name":"grigory mendel"},"score":0,"creation_date":1634876316,"post_id":69671048,"comment_id":123149218,"body_markdown":"@DhanasekaranDon   it loops through each zipentry and if its a huge zip file with a lot entries, it takes a good amount of time.","body":"@DhanasekaranDon   it loops through each zipentry and if its a huge zip file with a lot entries, it takes a good amount of time."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1634876730,"post_id":69671048,"comment_id":123149286,"body_markdown":"Nothing you can do about that. It&#39;s a sequential format. Make sure you break out of the loop after you&#39;ve dealt with the file you want.","body":"Nothing you can do about that. It&#39;s a sequential format. Make sure you break out of the loop after you&#39;ve dealt with the file you want."},{"owner":{"account_id":10814530,"reputation":4195,"user_id":7954021,"display_name":"Renis1235"},"score":0,"creation_date":1634884482,"post_id":69671048,"comment_id":123150940,"body_markdown":"`con.getInputStream()` gets the complete file so you cannot just get parts of the file. So as @user207421 said, you cannot do anything about that.","body":"<code>con.getInputStream()</code> gets the complete file so you cannot just get parts of the file. So as @user207421 said, you cannot do anything about that."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1634890871,"post_id":69671048,"comment_id":123153159,"body_markdown":"@Renis1235  `getInputStream()` returns the input stream. You then have to read data from it, as much as you need. You haven&#39;t downloaded the whole file. Just the part you read.","body":"@Renis1235  <code>getInputStream()</code> returns the input stream. You then have to read data from it, as much as you need. You haven&#39;t downloaded the whole file. Just the part you read."},{"owner":{"account_id":7001148,"reputation":111,"user_id":5367150,"display_name":"grigory mendel"},"score":0,"creation_date":1634911050,"post_id":69671048,"comment_id":123161581,"body_markdown":"@user207421 I am breaking out if i find the required file. the problem is there are huge files which doesn&#39;t have the particular file which I am looking for. So its kind of looping until the end for that file.","body":"@user207421 I am breaking out if i find the required file. the problem is there are huge files which doesn&#39;t have the particular file which I am looking for. So its kind of looping until the end for that file."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1634945675,"post_id":69671048,"comment_id":123172203,"body_markdown":"@grigorymendel Very good, so there is nothing you can do, except find a way not to download files that don&#39;t have what you&#39;re looking for in them, or have the individual files available at the server instead of a huge ZIP file, which isn&#39;t much use to anyone really.","body":"@grigorymendel Very good, so there is nothing you can do, except find a way not to download files that don&#39;t have what you&#39;re looking for in them, or have the individual files available at the server instead of a huge ZIP file, which isn&#39;t much use to anyone really."}],"answers":[{"tags":[],"owner":{"account_id":18396380,"reputation":4116,"user_id":13400729,"display_name":"Parsifal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634918312,"creation_date":1634918312,"answer_id":69679877,"question_id":69671048,"body_markdown":"ZIP files store their directory at the end of the file, so _if_ you have some way to randomly access the contents of the file you could do this.\r\n\r\nHowever, that&#39;s a big &quot;if&quot;: it requires Artifactory to support byte-range GETs, and requires you to re-implement (or find/adapt) the code to read the directory structure and retrieve a file from the middle of the archive.\r\n\r\nIf you need to do this frequently, a far better solution is to change the process that puts those files in Artifactory in the first place. If it&#39;s packaged in a JAR that&#39;s produced by Maven or another build tool, then it&#39;s a simple matter of extracting the files into their own dependency.","title":"Efficient way to read a small file from a very large Zip file in Java","body":"<p>ZIP files store their directory at the end of the file, so <em>if</em> you have some way to randomly access the contents of the file you could do this.</p>\n<p>However, that's a big &quot;if&quot;: it requires Artifactory to support byte-range GETs, and requires you to re-implement (or find/adapt) the code to read the directory structure and retrieve a file from the middle of the archive.</p>\n<p>If you need to do this frequently, a far better solution is to change the process that puts those files in Artifactory in the first place. If it's packaged in a JAR that's produced by Maven or another build tool, then it's a simple matter of extracting the files into their own dependency.</p>\n"},{"tags":[],"owner":{"account_id":7001148,"reputation":111,"user_id":5367150,"display_name":"grigory mendel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636536142,"creation_date":1636536142,"answer_id":69910652,"question_id":69671048,"body_markdown":"As many of you mentioned, the code mentioned in the question itself is probably the most efficient solution. Thank you for the help anyway.","title":"Efficient way to read a small file from a very large Zip file in Java","body":"<p>As many of you mentioned, the code mentioned in the question itself is probably the most efficient solution. Thank you for the help anyway.</p>\n"}],"owner":{"account_id":7001148,"reputation":111,"user_id":5367150,"display_name":"grigory mendel"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":356,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69910652,"answer_count":2,"score":0,"last_activity_date":1636536142,"creation_date":1634872984,"question_id":69671048,"body_markdown":"I was wondering if there is any efficient way to read a small file from a very large zip. I am not interested in any other file in the zip except a small file called inventory.xml.\r\n\r\nTo be exact, the zip file resides in artifactory. So I don&#39;t want to download entire file into my disk as well. Here is what I have now. \r\n\r\n\r\n    URL url = new URL(&quot;artifactory-url&quot;);\r\n\t\tHttpURLConnection con = (HttpURLConnection) url.openConnection();\r\n\t\tcon.setRequestMethod(&quot;GET&quot;);\r\n\t\tint status = con.getResponseCode();\r\n\t\tif (status != 200) {\r\n\t\t\tSystem.out.println(&quot;Unable to find the artifact : &quot; + url.toString());\r\n\t\t\treturn bugs;\r\n\t\t}\r\n\t\ttry (ZipInputStream zipStream = new ZipInputStream(con.getInputStream())) {\r\n\t\t\tZipEntry entry;\r\n\t\t\twhile ((entry = zipStream.getNextEntry()) != null) {\r\n\t\t\t\tif (entry.getName().contains(&quot;inventory.xml&quot;)) {\r\n\t\t\t\t\t//do something here\r\n\t\t\t\t}\r\n\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\nAnother query is, If I know the co-ordinates of the file, would it help?","title":"Efficient way to read a small file from a very large Zip file in Java","body":"<p>I was wondering if there is any efficient way to read a small file from a very large zip. I am not interested in any other file in the zip except a small file called inventory.xml.</p>\n<p>To be exact, the zip file resides in artifactory. So I don't want to download entire file into my disk as well. Here is what I have now.</p>\n<pre><code>URL url = new URL(&quot;artifactory-url&quot;);\n    HttpURLConnection con = (HttpURLConnection) url.openConnection();\n    con.setRequestMethod(&quot;GET&quot;);\n    int status = con.getResponseCode();\n    if (status != 200) {\n        System.out.println(&quot;Unable to find the artifact : &quot; + url.toString());\n        return bugs;\n    }\n    try (ZipInputStream zipStream = new ZipInputStream(con.getInputStream())) {\n        ZipEntry entry;\n        while ((entry = zipStream.getNextEntry()) != null) {\n            if (entry.getName().contains(&quot;inventory.xml&quot;)) {\n                //do something here\n            }\n\n        }\n    }\n</code></pre>\n<p>Another query is, If I know the co-ordinates of the file, would it help?</p>\n"},{"tags":["java","filenet"],"answers":[{"tags":[],"owner":{"account_id":22899315,"reputation":1,"user_id":17038324,"display_name":"Gerold Krommer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632951845,"creation_date":1632951845,"answer_id":69383666,"question_id":69207587,"body_markdown":"The retention period is probably additionally set on the storage device and the storage device is not aligned with filenet.\r\n\r\nWhat type of storage backend are you using. ","title":"filenet JAVA API retention periode not updated","body":"<p>The retention period is probably additionally set on the storage device and the storage device is not aligned with filenet.</p>\n<p>What type of storage backend are you using.</p>\n"},{"tags":[],"owner":{"account_id":2188410,"reputation":491,"user_id":1936214,"display_name":"swepss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636535902,"creation_date":1636535902,"answer_id":69910594,"question_id":69207587,"body_markdown":"Please check this doc https://www.ibm.com/docs/en/filenet-p8-platform/5.2.1?topic=objects-retention-limitations-constraints\r\n\r\nAnd this https://www.ibm.com/docs/en/filenet-p8-platform/5.2.1?topic=objects-security-permissions-required-setting-modifying-retention\r\n\r\nSure that you have enough permissions for the principal that you are using for API  calls.\r\n\r\nAnd check this page https://www.ibm.com/docs/en/filenet-p8-platform/5.2.1?topic=sweeps-deleting-objects-sweep and this https://www.ibm.com/docs/en/filenet-p8-platform/5.2.1?topic=sweeps-updating-object-retention as alternative way to delete objects without API and custom app.","title":"filenet JAVA API retention periode not updated","body":"<p>Please check this doc <a href=\"https://www.ibm.com/docs/en/filenet-p8-platform/5.2.1?topic=objects-retention-limitations-constraints\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/filenet-p8-platform/5.2.1?topic=objects-retention-limitations-constraints</a></p>\n<p>And this <a href=\"https://www.ibm.com/docs/en/filenet-p8-platform/5.2.1?topic=objects-security-permissions-required-setting-modifying-retention\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/filenet-p8-platform/5.2.1?topic=objects-security-permissions-required-setting-modifying-retention</a></p>\n<p>Sure that you have enough permissions for the principal that you are using for API  calls.</p>\n<p>And check this page <a href=\"https://www.ibm.com/docs/en/filenet-p8-platform/5.2.1?topic=sweeps-deleting-objects-sweep\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/filenet-p8-platform/5.2.1?topic=sweeps-deleting-objects-sweep</a> and this <a href=\"https://www.ibm.com/docs/en/filenet-p8-platform/5.2.1?topic=sweeps-updating-object-retention\" rel=\"nofollow noreferrer\">https://www.ibm.com/docs/en/filenet-p8-platform/5.2.1?topic=sweeps-updating-object-retention</a> as alternative way to delete objects without API and custom app.</p>\n"}],"owner":{"account_id":8545250,"reputation":1,"user_id":6404000,"display_name":"Metaladdict"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":359,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1636535902,"creation_date":1631791577,"question_id":69207587,"body_markdown":"I&#39;ve been working on a project that use filenet for multiple parts of the project.\r\nI&#39;ve been asked to remove a boatload of file&#39;s that need to be removed. The reason why I was asked is because the assumtion was made we could remove the data through a java application. \r\n\r\nAnd so far so good honestly. I&#39;ve been able to use code left by former project members to create a delete application. However, i&#39;ve come to a single problem in this issue: the retention date. \r\n\r\nWhen I delete a file it will display the error message: *Content Engine cannot delete or move content because the retention period for the item has not yet expired. Current time: 9/16/21 8:43 AM; Storage period: 20-12-99 1:00.*\r\n\r\n\r\nI&#39;ve created code that does change this. However the above error is still appearing. I;ve doubled checked the retentiondate property in the specifice file, and this has been changed. \r\n\r\nI&#39;ve looked through all the properties of the file and have not spotted anything that includes this date.\r\n\r\nSo my questions is, what am I missing? Is this something from filenet?","title":"filenet JAVA API retention periode not updated","body":"<p>I've been working on a project that use filenet for multiple parts of the project.\nI've been asked to remove a boatload of file's that need to be removed. The reason why I was asked is because the assumtion was made we could remove the data through a java application.</p>\n<p>And so far so good honestly. I've been able to use code left by former project members to create a delete application. However, i've come to a single problem in this issue: the retention date.</p>\n<p>When I delete a file it will display the error message: <em>Content Engine cannot delete or move content because the retention period for the item has not yet expired. Current time: 9/16/21 8:43 AM; Storage period: 20-12-99 1:00.</em></p>\n<p>I've created code that does change this. However the above error is still appearing. I;ve doubled checked the retentiondate property in the specifice file, and this has been changed.</p>\n<p>I've looked through all the properties of the file and have not spotted anything that includes this date.</p>\n<p>So my questions is, what am I missing? Is this something from filenet?</p>\n"},{"tags":["java","conditional-operator"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1636531765,"post_id":69909680,"comment_id":123578907,"body_markdown":"Does `fiscalDocumentUtil.getFullValue(fiscalDocument.getInvoice())` *return* `null`?","body":"Does <code>fiscalDocumentUtil.getFullValue(fiscalDocument.getInvoice())</code> <i>return</i> <code>null</code>?"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1636531860,"post_id":69909680,"comment_id":123578939,"body_markdown":"It&#39;s likely either a case of `(long) null` or `null.someMethod()`. Check the returns of `#getReceipt`, `#getAmount`, and any other method dereferencing a value (aka `value.dereferencing()`, the period) for a value of `null`, which you cannot call methods on.","body":"It&#39;s likely either a case of <code>(long) null</code> or <code>null.someMethod()</code>. Check the returns of <code>#getReceipt</code>, <code>#getAmount</code>, and any other method dereferencing a value (aka <code>value.dereferencing()</code>, the period) for a value of <code>null</code>, which you cannot call methods on."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1636531915,"post_id":69909680,"comment_id":123578960,"body_markdown":"@Rogue I think he understands that, what he&#39;s asking is : true ? shouldBeExecuted() : shouldNotBeExecuted(); while it&#39;s the shouldNotBeExecuted() that throws the NPE","body":"@Rogue I think he understands that, what he&#39;s asking is : true ? shouldBeExecuted() : shouldNotBeExecuted(); while it&#39;s the shouldNotBeExecuted() that throws the NPE"},{"owner":{"account_id":14656252,"reputation":672,"user_id":10869284,"display_name":"sigur"},"score":1,"creation_date":1636532152,"post_id":69909680,"comment_id":123579031,"body_markdown":"Could you provide the signature of the methods? I suspect it&#39;s NPE is related to the Java unboxing, If you return Long and then you use it as &#39;long&#39; (primitive), when Long is null than it throws NPE.","body":"Could you provide the signature of the methods? I suspect it&#39;s NPE is related to the Java unboxing, If you return Long and then you use it as &#39;long&#39; (primitive), when Long is null than it throws NPE."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":1,"creation_date":1636532355,"post_id":69909680,"comment_id":123579104,"body_markdown":"@Stultuske similarly, it can still be a problem of `(long) null`, and that can be _caused_ by the fact that it is a ternary expression (and less likely to be caught with the first `#getFullValue` alone). Per JLS [&#167;15.25.2](https://docs.oracle.com/javase/specs/jls/se9/html/jls-15.html#jls-15.25.2), the entire ternary expression is evaluated to `long`: `If one of the second and third operands is of primitive type T, and the type of the other is the result of applying boxing conversion (&#167;5.1.7) to T, then the type of the conditional expression is T.`","body":"@Stultuske similarly, it can still be a problem of <code>(long) null</code>, and that can be <i>caused</i> by the fact that it is a ternary expression (and less likely to be caught with the first <code>#getFullValue</code> alone). Per JLS <a href=\"https://docs.oracle.com/javase/specs/jls/se9/html/jls-15.html#jls-15.25.2\" rel=\"nofollow noreferrer\">&#167;15.25.2</a>, the entire ternary expression is evaluated to <code>long</code>: <code>If one of the second and third operands is of primitive type T, and the type of the other is the result of applying boxing conversion (&#167;5.1.7) to T, then the type of the conditional expression is T.</code>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1636532442,"post_id":69909680,"comment_id":123579139,"body_markdown":"Whatever is going on here is not caused by evaluating the wrong side of the ternary.  It will be happening in the right side.  Somehow.","body":"Whatever is going on here is not caused by evaluating the wrong side of the ternary.  It will be happening in the right side.  Somehow."},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1636532575,"post_id":69909680,"comment_id":123579186,"body_markdown":"@StephenC by &quot;right side&quot;, do you mean right (not left), or right (not wrong)?","body":"@StephenC by &quot;right side&quot;, do you mean right (not left), or right (not wrong)?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1636532616,"post_id":69909680,"comment_id":123579200,"body_markdown":"If the exception is in that code, the 3 possibilities are: `fiscalDocumentUtil` is `null`, `fiscalDocument` is `null`, or `fiscalDocument.getInvoice()` is returning `null` which is being unboxed for some reason.  But it is not clear from the information provided why it *needs* to unbox something here.","body":"If the exception is in that code, the 3 possibilities are: <code>fiscalDocumentUtil</code> is <code>null</code>, <code>fiscalDocument</code> is <code>null</code>, or <code>fiscalDocument.getInvoice()</code> is returning <code>null</code> which is being unboxed for some reason.  But it is not clear from the information provided why it <i>needs</i> to unbox something here."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1636532661,"post_id":69909680,"comment_id":123579227,"body_markdown":"I mean right as in not wrong.  (Read my 2nd sentence in the context of my 1st one ....)","body":"I mean right as in not wrong.  (Read my 2nd sentence in the context of my 1st one ....)"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":3,"creation_date":1636532964,"post_id":69909680,"comment_id":123579343,"body_markdown":"But my take on this is that we need a proper [minimal reproducible example](https://stackoverflow.com/help/minimal-reproducible-example) if we are going to give a definitive answer.  There is too much &quot;missing information&quot;.","body":"But my take on this is that we need a proper <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> if we are going to give a definitive answer.  There is too much &quot;missing information&quot;."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1636533336,"post_id":69909680,"comment_id":123579453,"body_markdown":"@Rogue not if you take into account the other remarks in the question, that the part that should be executed on it&#39;s own doesn&#39;t throw the exception if you change the other part","body":"@Rogue not if you take into account the other remarks in the question, that the part that should be executed on it&#39;s own doesn&#39;t throw the exception if you change the other part"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1636533994,"post_id":69909680,"comment_id":123579699,"body_markdown":"Never ever go &quot;code does this or that&quot;. Give us a [mcve] please.","body":"Never ever go &quot;code does this or that&quot;. Give us a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1636537940,"post_id":69909680,"comment_id":123581231,"body_markdown":"@Stultuske It&#39;s still a possibility (and I&#39;m in the MRE camp too). In `a ? b : c`, if `b` is `null`, then `Long ex = b;` is valid. But if `Long ex = true ? null : (long) c`, then null will be boxed to `long`, hence the NPE.","body":"@Stultuske It&#39;s still a possibility (and I&#39;m in the MRE camp too). In <code>a ? b : c</code>, if <code>b</code> is <code>null</code>, then <code>Long ex = b;</code> is valid. But if <code>Long ex = true ? null : (long) c</code>, then null will be boxed to <code>long</code>, hence the NPE."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1636538149,"post_id":69909680,"comment_id":123581331,"body_markdown":"@Rogue if a ? b : c with a = true throws an NPE because b = null, then a ? b : null with a being true should throw an NPE as well, according to the question, that is not the case","body":"@Rogue if a ? b : c with a = true throws an NPE because b = null, then a ? b : null with a being true should throw an NPE as well, according to the question, that is not the case"},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1636539285,"post_id":69909680,"comment_id":123581790,"body_markdown":"@Stultuske that&#39;d only occur if you put a literal null there, this is a null from a function call. See here: https://ideone.com/JT3QYo , you get an NPE.","body":"@Stultuske that&#39;d only occur if you put a literal null there, this is a null from a function call. See here: <a href=\"https://ideone.com/JT3QYo\" rel=\"nofollow noreferrer\">ideone.com/JT3QYo</a> , you get an NPE."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1636541655,"post_id":69909680,"comment_id":123582746,"body_markdown":"@Rogue I&#39;ve given the exact example as is stated in the question. That&#39;s the point.","body":"@Rogue I&#39;ve given the exact example as is stated in the question. That&#39;s the point."}],"answers":[{"tags":[],"owner":{"account_id":953149,"reputation":177303,"user_id":978917,"accept_rate":86,"display_name":"ruakh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1636534497,"creation_date":1636532605,"answer_id":69909870,"question_id":69909680,"body_markdown":"If `foo` has type `Long` and `bar` has type `long`, then `true ? foo : bar` has type `long`, and is equivalent to `true ? foo.longValue() : bar`. As the *Java Language Specification* [puts it](https://docs.oracle.com/javase/specs/jls/se15/html/jls-15.html#jls-15.25.2):\r\n\r\n&gt; If one of the second and third operands is of primitive type T, and the type of the other is the result of applying boxing conversion (&#167;5.1.7) to T, then the type of the conditional expression is T.\r\n\r\n(In your case, `T` is `long`, and &quot;the result of applying boxing conversion (&#167;5.1.7) to T&quot; is `Long`.)\r\n\r\nThe fact that you try to put the result in a `Long` variable doesn&#39;t change that fact; it just gives you the equivalent of `Long.valueOf(true ? foo.longValue() : bar)`, with unboxing followed by boxing.\r\n\r\nIn your case, `foo == null`, so the unboxing throws a NullPointerException, so the boxing never happens.","title":"Why is Java evaluating the wrong side of ternary operation?","body":"<p>If <code>foo</code> has type <code>Long</code> and <code>bar</code> has type <code>long</code>, then <code>true ? foo : bar</code> has type <code>long</code>, and is equivalent to <code>true ? foo.longValue() : bar</code>. As the <em>Java Language Specification</em> <a href=\"https://docs.oracle.com/javase/specs/jls/se15/html/jls-15.html#jls-15.25.2\" rel=\"nofollow noreferrer\">puts it</a>:</p>\n<blockquote>\n<p>If one of the second and third operands is of primitive type T, and the type of the other is the result of applying boxing conversion (§5.1.7) to T, then the type of the conditional expression is T.</p>\n</blockquote>\n<p>(In your case, <code>T</code> is <code>long</code>, and &quot;the result of applying boxing conversion (§5.1.7) to T&quot; is <code>Long</code>.)</p>\n<p>The fact that you try to put the result in a <code>Long</code> variable doesn't change that fact; it just gives you the equivalent of <code>Long.valueOf(true ? foo.longValue() : bar)</code>, with unboxing followed by boxing.</p>\n<p>In your case, <code>foo == null</code>, so the unboxing throws a NullPointerException, so the boxing never happens.</p>\n"},{"tags":[],"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636533846,"creation_date":1636533620,"answer_id":69910076,"question_id":69909680,"body_markdown":"Well, Java only evaluates the left expression, as the condition is `true`.\r\n\r\nYou said that `fiscalDocumentUtil.getFullValue(fiscalDocument.getInvoice())` in itself does not throw an NullPointerException.\r\n\r\nThe only thing I can think of, is that `fiscalDocumentUtil.getFullValue(fiscalDocument.getInvoice())` *returns* `null`. Reproducible with:\r\n\r\n```java\r\nLong sum = true ? null : (long) 23L;\r\n```\r\n\r\nBecause one of the operands is a primitive, the other one is *subject to boxing conversion*, in this case, unboxed to `long`.","title":"Why is Java evaluating the wrong side of ternary operation?","body":"<p>Well, Java only evaluates the left expression, as the condition is <code>true</code>.</p>\n<p>You said that <code>fiscalDocumentUtil.getFullValue(fiscalDocument.getInvoice())</code> in itself does not throw an NullPointerException.</p>\n<p>The only thing I can think of, is that <code>fiscalDocumentUtil.getFullValue(fiscalDocument.getInvoice())</code> <em>returns</em> <code>null</code>. Reproducible with:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Long sum = true ? null : (long) 23L;\n</code></pre>\n<p>Because one of the operands is a primitive, the other one is <em>subject to boxing conversion</em>, in this case, unboxed to <code>long</code>.</p>\n"}],"owner":{"account_id":21738198,"reputation":81,"user_id":16045922,"display_name":"maybesomename"},"comment_count":16,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":179,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":69909870,"answer_count":2,"score":1,"last_activity_date":1636535865,"creation_date":1636531512,"question_id":69909680,"body_markdown":"I might miss some simple explanation, but the following line throws a `NullPointerException`:\r\n\r\n\tLong sum = true \r\n\t\t\t   ? \r\n\t\t\t   fiscalDocumentUtil.getFullValue(fiscalDocument.getInvoice()) \r\n\t\t\t   :\r\n\t\t\t   (long) fiscalDocument.getReceipt().getAmount();\r\n\r\nWhile \r\n\r\n\tLong sum = true \r\n\t\t\t   ? \r\n\t\t\t   fiscalDocumentUtil.getFullValue(fiscalDocument.getInvoice()) \r\n\t\t\t   :\r\n\t\t\t   null\r\n\r\ndoes not. I would also like to mention that \r\n    \r\n    fiscalDocumentUtil.getFullValue(fiscalDocument.getInvoice())\r\n\r\ndoes not throw an exception on its own, while\r\n\r\n    (long) fiscalDocument.getReceipt().getAmount()\r\n\r\ndoes.\r\n\r\nIs the second side evaluated? Or am I butchering something?\r\n\r\nEDIT\r\n\r\nSome additional info, asked in the comments:\r\n`fiscalDocumentUtil.getFullValue(fiscalDocument.getInvoice())` returns null.\r\nThe return type of `fiscalDocumentUtil.getFullValue(fiscalDocument.getInvoice())` is Long.\r\n\r\nThe return type of `fiscalDocument.getReceipt().getAmount()` is `Integer`.\r\n\r\nIf I emit the explicit (long) conversion, the behavior is the same.\r\n\r\nEdit 2\r\n\r\nA minimal reproducible example: `Long val =true ? (Long) null: Integer.valueOf(1);`. This was partially suggested by the answer of MC Emperor and partially suggested by comments. Of course, this example already somewhat answers the question, since the second expression does not need to throw an exception, as it turns out.\r\n","title":"Why is Java evaluating the wrong side of ternary operation?","body":"<p>I might miss some simple explanation, but the following line throws a <code>NullPointerException</code>:</p>\n<pre><code>Long sum = true \n           ? \n           fiscalDocumentUtil.getFullValue(fiscalDocument.getInvoice()) \n           :\n           (long) fiscalDocument.getReceipt().getAmount();\n</code></pre>\n<p>While</p>\n<pre><code>Long sum = true \n           ? \n           fiscalDocumentUtil.getFullValue(fiscalDocument.getInvoice()) \n           :\n           null\n</code></pre>\n<p>does not. I would also like to mention that</p>\n<pre><code>fiscalDocumentUtil.getFullValue(fiscalDocument.getInvoice())\n</code></pre>\n<p>does not throw an exception on its own, while</p>\n<pre><code>(long) fiscalDocument.getReceipt().getAmount()\n</code></pre>\n<p>does.</p>\n<p>Is the second side evaluated? Or am I butchering something?</p>\n<p>EDIT</p>\n<p>Some additional info, asked in the comments:\n<code>fiscalDocumentUtil.getFullValue(fiscalDocument.getInvoice())</code> returns null.\nThe return type of <code>fiscalDocumentUtil.getFullValue(fiscalDocument.getInvoice())</code> is Long.</p>\n<p>The return type of <code>fiscalDocument.getReceipt().getAmount()</code> is <code>Integer</code>.</p>\n<p>If I emit the explicit (long) conversion, the behavior is the same.</p>\n<p>Edit 2</p>\n<p>A minimal reproducible example: <code>Long val =true ? (Long) null: Integer.valueOf(1);</code>. This was partially suggested by the answer of MC Emperor and partially suggested by comments. Of course, this example already somewhat answers the question, since the second expression does not need to throw an exception, as it turns out.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":23019255,"reputation":320,"user_id":17140506,"display_name":"Digsb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636535732,"creation_date":1636535732,"answer_id":69910552,"question_id":69910396,"body_markdown":"    while(true){\r\n                ServerSocket ss=new ServerSocket(port);  \r\n                Socket s=ss.accept();\r\n                DataInputStream dis=new DataInputStream(s.getInputStream());  \r\n                String str=(String)dis.readUTF();  \r\n                queue.add(str);\r\n                ss.close();\r\n            }\r\n\r\nIdeally you should create &amp; close a socket outside while loop and just read within the while loop.\r\n\r\nSimilarly for Send, you should not create a socket every time you have to send. If you have to do that than your Server has to have accept() as well in while loop.\r\n\r\nHope this resolves your issue.","title":"I am getting java.net.SocketException: Connection reset by peer: socket write error ,when executing main function in class screenshot","body":"<pre><code>while(true){\n            ServerSocket ss=new ServerSocket(port);  \n            Socket s=ss.accept();\n            DataInputStream dis=new DataInputStream(s.getInputStream());  \n            String str=(String)dis.readUTF();  \n            queue.add(str);\n            ss.close();\n        }\n</code></pre>\n<p>Ideally you should create &amp; close a socket outside while loop and just read within the while loop.</p>\n<p>Similarly for Send, you should not create a socket every time you have to send. If you have to do that than your Server has to have accept() as well in while loop.</p>\n<p>Hope this resolves your issue.</p>\n"}],"owner":{"account_id":23293674,"reputation":1,"user_id":17375372,"display_name":"Shadow Strike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636535732,"creation_date":1636535056,"question_id":69910396,"body_markdown":"I am getting java.net.SocketException: Connection reset by peer: socket write error ,when executing main function in class screenshot.\r\n\r\nI am getting a problem which i dont get when i run the main function with simple words like &quot;hello&quot;. I am trying to make a program to send a ss of another computer wirelessly\r\n\r\nHelp solutions or what went wrong are appriciated\r\n\r\n\r\n\r\n```\r\nimport java.io.*;\r\nimport java.util.*;\r\nimport java.awt.image.*;\r\nimport java.awt.*;\r\nimport java.awt.event.*;\r\npublic class screenshot\r\n{\r\n    public static void main(){\r\n        Link l=new Link(&quot;localhost&quot;,1111);\r\n        System.out.println(Link.getIpAddress());\r\n        String s[]=its();\r\n        for(int i=0;i&lt;s.length;i++){\r\n            l.send(s[i]);//l.send(&quot;hello22&quot;);\r\n        }\r\n        for(int i=0;i&lt;s.length;i++){\r\n            System.out.println(l.recieve());\r\n        }\r\n\r\n        //System.out.println(l.recieve());\r\n    }\r\n\r\n    public static String[] its(){\r\n        String[] tbo=null;\r\n        try{\r\n            Robot r=new Robot();\r\n            BufferedImage img=r.createScreenCapture(new Rectangle(Toolkit.getDefaultToolkit().getScreenSize()));\r\n            System.out.println(img.getWidth()+&quot; &quot;+img.getHeight());\r\n            tbo=new String[img.getWidth()];\r\n            for(int i=0;i&lt;tbo.length;i++){\r\n                tbo[i]=&quot;&quot;;\r\n            }\r\n            for(int i=0;i&lt;img.getWidth();i++){\r\n                for(int j=0;j&lt;img.getHeight();j++){\r\n                    tbo[i]+=img.getRGB(i,j);//out+=img.getRGB(i,j);\r\n                }\r\n                System.out.println(i);\r\n                //out+=&quot;b&quot;;\r\n            }\r\n            //for(int i=0;i&lt;img.getWidth();i++){\r\n            //    out+=tbo[i]+&quot;\\n&quot;;\r\n            //}\r\n        }catch(Exception e){}\r\n        //Base bo=new Base(&quot;1234567890-\\n&quot;);\r\n        //Base bn=new Base(&quot;1234567890qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM&quot;);\r\n        //BaseNumber bnum=new BaseNumber(out,bo);\r\n        //out=bnum.valueAs(bn).toString();\r\n        return tbo;\r\n    }\r\n\r\n    public static void main2(){\r\n        System.out.println(its());\r\n    }\r\n}\r\n```\r\nLink class that creates a link object to send to localhost in this situation\r\n```\r\nclass Link\r\n{\r\n    final public String ip;final public int port;Listener l;\r\n    //protected ArrayList&lt;String&gt; queue=new ArrayList&lt;String&gt;();\r\n    public Link(String ip,int port)\r\n    {\r\n        this.ip=ip;\r\n        this.port=port;\r\n        this.l=new Listener(port);\r\n        l.start();\r\n    }\r\n\r\n    public static String getIpAddress(){\r\n        try{\r\n            return InetAddress.getLocalHost().getHostAddress();\r\n        }catch(Exception e){\r\n            System.out.println(&quot;An error ocurrerd in getIp\\n &quot;+e);\r\n            System.exit(0);\r\n            return null;\r\n        }\r\n    }\r\n\r\n    public void send(String st)\r\n    {\r\n        try{      \r\n            Socket s=new Socket(ip,port);  \r\n            DataOutputStream dout=new DataOutputStream(s.getOutputStream()); \r\n            dout.writeUTF(st);  \r\n            dout.flush();  \r\n            dout.close();  \r\n            s.close();  \r\n        }catch(Exception e){\r\n            System.out.println(&quot;An error ocurrerd in send\\n &quot;+e);\r\n            e.printStackTrace();\r\n            System.exit(0);\r\n        }\r\n    }\r\n\r\n    public String recieve(){\r\n        while(l.queue.size()==0);\r\n        String s=l.queue.get(0);\r\n        l.queue.remove(0);\r\n        return s;\r\n    }\r\n}\r\nclass Listener extends Thread{\r\n    ArrayList&lt;String&gt; queue=new ArrayList&lt;String&gt;();int port;\r\n    Listener(int port){\r\n        this.port=port;\r\n    }\r\n    public void run(){\r\n        try{  \r\n            while(true){\r\n                ServerSocket ss=new ServerSocket(port);  \r\n                Socket s=ss.accept();\r\n                DataInputStream dis=new DataInputStream(s.getInputStream());  \r\n                String str=(String)dis.readUTF();  \r\n                queue.add(str);\r\n                ss.close();\r\n            }\r\n        }catch(Exception e){\r\n            System.out.println(&quot;An error ocurrerd in recieve\\n &quot;+e);\r\n            System.exit(0);\r\n\r\n        }\r\n\r\n    }\r\n}\r\n```","title":"I am getting java.net.SocketException: Connection reset by peer: socket write error ,when executing main function in class screenshot","body":"<p>I am getting java.net.SocketException: Connection reset by peer: socket write error ,when executing main function in class screenshot.</p>\n<p>I am getting a problem which i dont get when i run the main function with simple words like &quot;hello&quot;. I am trying to make a program to send a ss of another computer wirelessly</p>\n<p>Help solutions or what went wrong are appriciated</p>\n<pre><code>import java.io.*;\nimport java.util.*;\nimport java.awt.image.*;\nimport java.awt.*;\nimport java.awt.event.*;\npublic class screenshot\n{\n    public static void main(){\n        Link l=new Link(&quot;localhost&quot;,1111);\n        System.out.println(Link.getIpAddress());\n        String s[]=its();\n        for(int i=0;i&lt;s.length;i++){\n            l.send(s[i]);//l.send(&quot;hello22&quot;);\n        }\n        for(int i=0;i&lt;s.length;i++){\n            System.out.println(l.recieve());\n        }\n\n        //System.out.println(l.recieve());\n    }\n\n    public static String[] its(){\n        String[] tbo=null;\n        try{\n            Robot r=new Robot();\n            BufferedImage img=r.createScreenCapture(new Rectangle(Toolkit.getDefaultToolkit().getScreenSize()));\n            System.out.println(img.getWidth()+&quot; &quot;+img.getHeight());\n            tbo=new String[img.getWidth()];\n            for(int i=0;i&lt;tbo.length;i++){\n                tbo[i]=&quot;&quot;;\n            }\n            for(int i=0;i&lt;img.getWidth();i++){\n                for(int j=0;j&lt;img.getHeight();j++){\n                    tbo[i]+=img.getRGB(i,j);//out+=img.getRGB(i,j);\n                }\n                System.out.println(i);\n                //out+=&quot;b&quot;;\n            }\n            //for(int i=0;i&lt;img.getWidth();i++){\n            //    out+=tbo[i]+&quot;\\n&quot;;\n            //}\n        }catch(Exception e){}\n        //Base bo=new Base(&quot;1234567890-\\n&quot;);\n        //Base bn=new Base(&quot;1234567890qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM&quot;);\n        //BaseNumber bnum=new BaseNumber(out,bo);\n        //out=bnum.valueAs(bn).toString();\n        return tbo;\n    }\n\n    public static void main2(){\n        System.out.println(its());\n    }\n}\n</code></pre>\n<p>Link class that creates a link object to send to localhost in this situation</p>\n<pre><code>class Link\n{\n    final public String ip;final public int port;Listener l;\n    //protected ArrayList&lt;String&gt; queue=new ArrayList&lt;String&gt;();\n    public Link(String ip,int port)\n    {\n        this.ip=ip;\n        this.port=port;\n        this.l=new Listener(port);\n        l.start();\n    }\n\n    public static String getIpAddress(){\n        try{\n            return InetAddress.getLocalHost().getHostAddress();\n        }catch(Exception e){\n            System.out.println(&quot;An error ocurrerd in getIp\\n &quot;+e);\n            System.exit(0);\n            return null;\n        }\n    }\n\n    public void send(String st)\n    {\n        try{      \n            Socket s=new Socket(ip,port);  \n            DataOutputStream dout=new DataOutputStream(s.getOutputStream()); \n            dout.writeUTF(st);  \n            dout.flush();  \n            dout.close();  \n            s.close();  \n        }catch(Exception e){\n            System.out.println(&quot;An error ocurrerd in send\\n &quot;+e);\n            e.printStackTrace();\n            System.exit(0);\n        }\n    }\n\n    public String recieve(){\n        while(l.queue.size()==0);\n        String s=l.queue.get(0);\n        l.queue.remove(0);\n        return s;\n    }\n}\nclass Listener extends Thread{\n    ArrayList&lt;String&gt; queue=new ArrayList&lt;String&gt;();int port;\n    Listener(int port){\n        this.port=port;\n    }\n    public void run(){\n        try{  \n            while(true){\n                ServerSocket ss=new ServerSocket(port);  \n                Socket s=ss.accept();\n                DataInputStream dis=new DataInputStream(s.getInputStream());  \n                String str=(String)dis.readUTF();  \n                queue.add(str);\n                ss.close();\n            }\n        }catch(Exception e){\n            System.out.println(&quot;An error ocurrerd in recieve\\n &quot;+e);\n            System.exit(0);\n\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":["java","file"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1636488132,"post_id":69904308,"comment_id":123569449,"body_markdown":"instead of comparing `count` you need to parse the first part of the line (use `split`), convert it to a number and then compare that.","body":"instead of comparing <code>count</code> you need to parse the first part of the line (use <code>split</code>), convert it to a number and then compare that."}],"answers":[{"tags":[],"owner":{"account_id":9725613,"reputation":53334,"user_id":7212686,"accept_rate":100,"display_name":"azro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636488184,"creation_date":1636488184,"answer_id":69904382,"question_id":69904308,"body_markdown":"You may split your line on space, convert the first element to an `int` and compare to the user input\r\n\r\n    while ((currentLine = reader.readLine()) != null) {\r\n        String[] parts = line.split(&quot; &quot;);\r\n        if (Integer.parseInt(parts[0]) == lineToRemove) {\r\n            continue;\r\n        }\r\n        writer.write(currentLine + System.getProperty(&quot;line.separator&quot;));\r\n    }","title":"Delete a row in the java file if it meets the condition","body":"<p>You may split your line on space, convert the first element to an <code>int</code> and compare to the user input</p>\n<pre><code>while ((currentLine = reader.readLine()) != null) {\n    String[] parts = line.split(&quot; &quot;);\n    if (Integer.parseInt(parts[0]) == lineToRemove) {\n        continue;\n    }\n    writer.write(currentLine + System.getProperty(&quot;line.separator&quot;));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19150103,"reputation":1,"user_id":15916806,"display_name":"Nacherasg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636535680,"creation_date":1636489325,"answer_id":69904599,"question_id":69904308,"body_markdown":"This worked for me, I tried it and it worked correctly\r\n```\r\npublic static void borrarLinea() throws IOException {\r\n\t    File inputFile = new File(&quot;Departamentos.dat&quot;);\r\n\t    File tempFile = new File(&quot;DepartamentosTemp.dat&quot;);\r\n\r\n\t    BufferedReader reader = new BufferedReader(new FileReader(inputFile));\r\n\t    BufferedWriter writer = new BufferedWriter(new FileWriter(tempFile));\r\n\t    \r\n\t    Scanner entrada = new Scanner(System.in);\r\n\t    int lineToRemove;\r\n\t    \r\n\t    System.out.println(&quot;&#191;Que n&#250;mero de departamento deseas borrar?&quot;);\r\n\t    lineToRemove = entrada.nextInt();\r\n\t    entrada.nextLine();\r\n\t    \r\n\t    String currentLine;\r\n\t   \r\n\t    while ((currentLine = reader.readLine()) != null) {\r\n\t        String[] line_arr = currentLine.split(&quot;|&quot;);\r\n\t        int num_linea = Integer.parseInt(line_arr[0]);\r\n\t        if(num_linea == lineToRemove){\r\n\t             continue;\r\n\t        }else{\r\n\t            writer.write(currentLine + System.getProperty(&quot;line.separator&quot;));   \r\n\t        }\r\n\t        \r\n\t    }\r\n\t    writer.close();\r\n\t    reader.close();\r\n\t    inputFile.delete();\r\n\t    tempFile.renameTo(inputFile);\r\n\t}\r\n```","title":"Delete a row in the java file if it meets the condition","body":"<p>This worked for me, I tried it and it worked correctly</p>\n<pre><code>public static void borrarLinea() throws IOException {\n        File inputFile = new File(&quot;Departamentos.dat&quot;);\n        File tempFile = new File(&quot;DepartamentosTemp.dat&quot;);\n\n        BufferedReader reader = new BufferedReader(new FileReader(inputFile));\n        BufferedWriter writer = new BufferedWriter(new FileWriter(tempFile));\n        \n        Scanner entrada = new Scanner(System.in);\n        int lineToRemove;\n        \n        System.out.println(&quot;¿Que número de departamento deseas borrar?&quot;);\n        lineToRemove = entrada.nextInt();\n        entrada.nextLine();\n        \n        String currentLine;\n       \n        while ((currentLine = reader.readLine()) != null) {\n            String[] line_arr = currentLine.split(&quot;|&quot;);\n            int num_linea = Integer.parseInt(line_arr[0]);\n            if(num_linea == lineToRemove){\n                 continue;\n            }else{\n                writer.write(currentLine + System.getProperty(&quot;line.separator&quot;));   \n            }\n            \n        }\n        writer.close();\n        reader.close();\n        inputFile.delete();\n        tempFile.renameTo(inputFile);\n    }\n</code></pre>\n"}],"owner":{"account_id":19150103,"reputation":1,"user_id":15916806,"display_name":"Nacherasg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1636535680,"creation_date":1636487746,"question_id":69904308,"body_markdown":"I am doing a practice, in which I have to ask the user for the department number and then delete the line that contains the department ID. So far I have only managed to remove the entire line, but not by department number if not by line number. The file contains the following information:\r\n```\r\n1 | bird | Barcelona\r\n2 | rabbit | Dublin\r\n3 | turtle | Malaga\r\n4 | bird | Madrid\r\n7 | turtle | Dublin\r\n```\r\nmy code is the following:\r\n```\r\npublic static void borrarLinea() throws IOException {\r\n        File inputFile = new File(&quot;Departamentos.dat&quot;);\r\n        File tempFile = new File(&quot;DepartamentosTemp.dat&quot;);\r\n    \r\n        BufferedReader reader = new BufferedReader(new FileReader(inputFile));\r\n        BufferedWriter writer = new BufferedWriter(new FileWriter(tempFile));\r\n        \r\n        Scanner entrada = new Scanner(System.in);\r\n        int lineToRemove;\r\n        \r\n        System.out.println(&quot;&#191;Que n&#250;mero de departamento deseas borrar?&quot;);\r\n        lineToRemove = entrada.nextInt();\r\n        entrada.nextLine();\r\n        \r\n        String currentLine;\r\n        int count = 0;\r\n    \r\n        while ((currentLine = reader.readLine()) != null) {\r\n            count++;\r\n            if (count == lineToRemove) {\r\n                continue;\r\n            }\r\n            writer.write(currentLine + System.getProperty(&quot;line.separator&quot;));\r\n        }\r\n        writer.close();\r\n        reader.close();\r\n        inputFile.delete();\r\n        tempFile.renameTo(inputFile);\r\n    }\r\n```","title":"Delete a row in the java file if it meets the condition","body":"<p>I am doing a practice, in which I have to ask the user for the department number and then delete the line that contains the department ID. So far I have only managed to remove the entire line, but not by department number if not by line number. The file contains the following information:</p>\n<pre><code>1 | bird | Barcelona\n2 | rabbit | Dublin\n3 | turtle | Malaga\n4 | bird | Madrid\n7 | turtle | Dublin\n</code></pre>\n<p>my code is the following:</p>\n<pre><code>public static void borrarLinea() throws IOException {\n        File inputFile = new File(&quot;Departamentos.dat&quot;);\n        File tempFile = new File(&quot;DepartamentosTemp.dat&quot;);\n    \n        BufferedReader reader = new BufferedReader(new FileReader(inputFile));\n        BufferedWriter writer = new BufferedWriter(new FileWriter(tempFile));\n        \n        Scanner entrada = new Scanner(System.in);\n        int lineToRemove;\n        \n        System.out.println(&quot;¿Que número de departamento deseas borrar?&quot;);\n        lineToRemove = entrada.nextInt();\n        entrada.nextLine();\n        \n        String currentLine;\n        int count = 0;\n    \n        while ((currentLine = reader.readLine()) != null) {\n            count++;\n            if (count == lineToRemove) {\n                continue;\n            }\n            writer.write(currentLine + System.getProperty(&quot;line.separator&quot;));\n        }\n        writer.close();\n        reader.close();\n        inputFile.delete();\n        tempFile.renameTo(inputFile);\n    }\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":1,"creation_date":1636529246,"post_id":69909248,"comment_id":123578189,"body_markdown":"&quot;_why i am getting this error?_&quot; - Because the value at the last array index is `0` and `if(arr[i]==0)` then you try to access `arr[i+1]`. This is out of bounds of the array, hence the exception.","body":"&quot;<i>why i am getting this error?</i>&quot; - Because the value at the last array index is <code>0</code> and <code>if(arr[i]==0)</code> then you try to access <code>arr[i+1]</code>. This is out of bounds of the array, hence the exception."},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1636529265,"post_id":69909248,"comment_id":123578195,"body_markdown":"Does this answer your question? [What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?](https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/5554734/what-causes-a-java-lang-arrayindexoutofboundsexception-and-how-do-i-prevent-it\">What causes a java.lang.ArrayIndexOutOfBoundsException and how do I prevent it?</a>"},{"owner":{"account_id":17078834,"reputation":109,"user_id":12357785,"display_name":"ProgramCOder"},"score":0,"creation_date":1636529312,"post_id":69909248,"comment_id":123578209,"body_markdown":"so i can solve this error by incrementing the length?","body":"so i can solve this error by incrementing the length?"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1636529626,"post_id":69909248,"comment_id":123578301,"body_markdown":"No, you will not have to increase the size of the array (as you can see by the expected output). The solution consists of _inserting an element into the array, while shifting the following values back, losing the last value each time_.","body":"No, you will not have to increase the size of the array (as you can see by the expected output). The solution consists of <i>inserting an element into the array, while shifting the following values back, losing the last value each time</i>."},{"owner":{"account_id":17078834,"reputation":109,"user_id":12357785,"display_name":"ProgramCOder"},"score":0,"creation_date":1636529952,"post_id":69909248,"comment_id":123578398,"body_markdown":"could you pls help me to implement the algorithm , i am just knewly , maybe just links for resourses)","body":"could you pls help me to implement the algorithm , i am just knewly , maybe just links for resourses)"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":0,"creation_date":1636530014,"post_id":69909248,"comment_id":123578423,"body_markdown":"https://stackoverflow.com/questions/11638123/how-to-add-an-element-to-array-and-shift-indexes/11638195","body":"<a href=\"https://stackoverflow.com/questions/11638123/how-to-add-an-element-to-array-and-shift-indexes/11638195\" title=\"how to add an element to array and shift indexes\">stackoverflow.com/questions/11638123/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"display_name":"user17223316"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636530892,"creation_date":1636530576,"answer_id":69909498,"question_id":69909248,"body_markdown":"Try this.\r\n\r\n    public static void duplicateZeros(int[] arr) {\r\n        int length = arr.length;\r\n        for (int i = 0; i &lt; length; i++) {\r\n            if (arr[i] == 0) {\r\n                System.arraycopy(arr, i, arr, i + 1, length - i - 1);\r\n                ++i;\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        int[] a = { 1, 0, 2, 3, 0, 4, 5, 0 };\r\n        duplicateZeros(a);\r\n        System.out.println(Arrays.toString(a));\r\n    }\r\n\r\noutput:\r\n\r\n    [1, 0, 0, 2, 3, 0, 0, 4]\r\n","title":"Given a fixed-length integer array arr, duplicate each occurrence of zero, shifting them to right - leetCode","body":"<p>Try this.</p>\n<pre><code>public static void duplicateZeros(int[] arr) {\n    int length = arr.length;\n    for (int i = 0; i &lt; length; i++) {\n        if (arr[i] == 0) {\n            System.arraycopy(arr, i, arr, i + 1, length - i - 1);\n            ++i;\n        }\n    }\n}\n\npublic static void main(String[] args) {\n    int[] a = { 1, 0, 2, 3, 0, 4, 5, 0 };\n    duplicateZeros(a);\n    System.out.println(Arrays.toString(a));\n}\n</code></pre>\n<p>output:</p>\n<pre><code>[1, 0, 0, 2, 3, 0, 0, 4]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636535673,"creation_date":1636531909,"answer_id":69909750,"question_id":69909248,"body_markdown":"Your solution is wrong, and `i+1` will cause an index out of bounds on the last i.\r\n\r\nYou want some result index, named `j` here:\r\n\r\n         [1,0,2,3,0,4,5,0] \r\n      i   0 1 2 3 4 5 6 7   ---&gt; for i\r\n      j?  0   1 2   3 4    5 6 7\r\n         [1,  2,3,  4,5,   0,0,0] ","title":"Given a fixed-length integer array arr, duplicate each occurrence of zero, shifting them to right - leetCode","body":"<p>Your solution is wrong, and <code>i+1</code> will cause an index out of bounds on the last i.</p>\n<p>You want some result index, named <code>j</code> here:</p>\n<pre><code>     [1,0,2,3,0,4,5,0] \n  i   0 1 2 3 4 5 6 7   ---&gt; for i\n  j?  0   1 2   3 4    5 6 7\n     [1,  2,3,  4,5,   0,0,0] \n</code></pre>\n"}],"owner":{"account_id":17078834,"reputation":109,"user_id":12357785,"display_name":"ProgramCOder"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":216,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69909498,"answer_count":2,"score":0,"last_activity_date":1636535673,"creation_date":1636529132,"question_id":69909248,"body_markdown":"condition is \r\nInput: arr = [1,0,2,3,0,4,5,0]\r\nOutput: [1,0,0,2,3,0,0,4]\r\nExplanation: After calling your function, the input array is modified to: [1,0,0,2,3,0,0,4]\r\n\r\n```class Solution {\r\n    public void duplicateZeros(int[] arr) {\r\n        int length = arr.length;\r\n        for(int i=0;i&lt;length;i++){\r\n            if(arr[i]==0){\r\n              arr[i+1]=arr[i];\r\n\r\n            }\r\n        }\r\n        \r\n        \r\n    }\r\n}\r\n```\r\nerror is \r\n```\r\njava.lang.ArrayIndexOutOfBoundsException: Index 8 out of bounds for length 8\r\n  at line 6, Solution.duplicateZeros\r\n  at line 54, __DriverSolution__.__helper__\r\n  at line 84, __Driver__.main\r\n```\r\nwhy i am getting this error?","title":"Given a fixed-length integer array arr, duplicate each occurrence of zero, shifting them to right - leetCode","body":"<p>condition is\nInput: arr = [1,0,2,3,0,4,5,0]\nOutput: [1,0,0,2,3,0,0,4]\nExplanation: After calling your function, the input array is modified to: [1,0,0,2,3,0,0,4]</p>\n<pre><code>    public void duplicateZeros(int[] arr) {\n        int length = arr.length;\n        for(int i=0;i&lt;length;i++){\n            if(arr[i]==0){\n              arr[i+1]=arr[i];\n\n            }\n        }\n        \n        \n    }\n}\n</code></pre>\n<p>error is</p>\n<pre><code>java.lang.ArrayIndexOutOfBoundsException: Index 8 out of bounds for length 8\n  at line 6, Solution.duplicateZeros\n  at line 54, __DriverSolution__.__helper__\n  at line 84, __Driver__.main\n</code></pre>\n<p>why i am getting this error?</p>\n"},{"tags":["java","json","parsing","yaml","snakeyaml"],"comments":[{"owner":{"account_id":141151,"reputation":36461,"user_id":347964,"accept_rate":79,"display_name":"flyx"},"score":0,"creation_date":1635869144,"post_id":69794601,"comment_id":123405115,"body_markdown":"I guess you could inject a custom Parser that processes tags as `objectType: Button` pair, but sadly the SnakeYAML repository has become private for some reason, so I can&#39;t check on the specifics. If the indentation is not actually broken like in the code you show, a quick regex replace on the input might be the simple solution.","body":"I guess you could inject a custom Parser that processes tags as <code>objectType: Button</code> pair, but sadly the SnakeYAML repository has become private for some reason, so I can&#39;t check on the specifics. If the indentation is not actually broken like in the code you show, a quick regex replace on the input might be the simple solution."}],"answers":[{"tags":[],"owner":{"account_id":23191479,"reputation":56,"user_id":17287795,"display_name":"somayaj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636159241,"creation_date":1636159241,"answer_id":69860617,"question_id":69794601,"body_markdown":"what worked was this, \r\n\r\n```\r\n!!ControlGroup\r\nname: myGroup\r\ncontrols:\r\n  - !!Button\r\n    name: button1\r\n    size: 10\r\n  - !!Knob\r\n    name: knob1\r\n    maxValue: 11\r\n    size: 7\r\n\r\n```\r\n```\r\nYaml yaml = new Yaml();\r\n        InputStream url = SnakeYml.class.getClassLoader().getResourceAsStream(&quot;sample.yaml&quot;);\r\n        Map&lt;String, Object&gt; obj = yaml.load(url);\r\n        System.out.println(obj);\r\n```\r\n```\r\npublic class ControlGroup {\r\n    String name;\r\n    public ControlGroup() {};\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n}\r\n....\r\n```\r\n","title":"How do you convert tagged YAML objects to JSON objects using a Java library?","body":"<p>what worked was this,</p>\n<pre><code>!!ControlGroup\nname: myGroup\ncontrols:\n  - !!Button\n    name: button1\n    size: 10\n  - !!Knob\n    name: knob1\n    maxValue: 11\n    size: 7\n\n</code></pre>\n<pre><code>Yaml yaml = new Yaml();\n        InputStream url = SnakeYml.class.getClassLoader().getResourceAsStream(&quot;sample.yaml&quot;);\n        Map&lt;String, Object&gt; obj = yaml.load(url);\n        System.out.println(obj);\n</code></pre>\n<pre><code>public class ControlGroup {\n    String name;\n    public ControlGroup() {};\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n}\n....\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23191479,"reputation":56,"user_id":17287795,"display_name":"somayaj"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1636255463,"creation_date":1636255463,"answer_id":69869581,"question_id":69794601,"body_markdown":"Try this, \r\n```InputStream url = SnakeYml.class.getClassLoader().getResourceAsStream(&quot;sample.yaml&quot;);\r\n        ControlGroup controlGroup = yaml.load(url);\r\n        controlGroup.setObjectType(ControlGroup.class.getName());\r\n        System.out.println(yaml.dumpAsMap(controlGroup));\r\n\r\n```\r\n```\r\npublic class ControlGroup {\r\n    String objectType = this.getClass().getTypeName();\r\n    String name;\r\n    public ControlGroup() {};\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n    public String getObjectType()\r\n    {\r\n        return this.getClass().getTypeName();\r\n    }\r\n    public void setObjectType(String className)\r\n    {\r\n        this.objectType = className;\r\n    }\r\n\r\n}\r\n\r\nMAP --&gt; \r\nname: myGroup\r\nobjectType: ControlGroup\r\n\r\n```","title":"How do you convert tagged YAML objects to JSON objects using a Java library?","body":"<p>Try this,</p>\n<pre><code>        ControlGroup controlGroup = yaml.load(url);\n        controlGroup.setObjectType(ControlGroup.class.getName());\n        System.out.println(yaml.dumpAsMap(controlGroup));\n\n</code></pre>\n<pre><code>public class ControlGroup {\n    String objectType = this.getClass().getTypeName();\n    String name;\n    public ControlGroup() {};\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n    public String getObjectType()\n    {\n        return this.getClass().getTypeName();\n    }\n    public void setObjectType(String className)\n    {\n        this.objectType = className;\n    }\n\n}\n\nMAP --&gt; \nname: myGroup\nobjectType: ControlGroup\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636535643,"creation_date":1636462471,"answer_id":69898531,"question_id":69794601,"body_markdown":"I&#39;ve written the [code][1] in the form of a unit test, which parses exactly the file you provide using `snakeYml`. Just run it. \r\n\r\n```\r\n @Test\r\n    void testYamlConvert() throws IOException {\r\n\r\n        // Step 1: Raad in file\r\n        var in = this.getClass().getResourceAsStream(&quot;/test.yml&quot;);\r\n        // System.out.println(in);\r\n        String yml = IOUtils.toString(in,&quot;UTF-8&quot;);\r\n\r\n\r\n        // Step 2: Do in memory replacement to standard form\r\n        Pattern p = Pattern.compile(&quot;!!(.*)&quot;);\r\n        Matcher m = p.matcher(yml);\r\n\r\n        String ymlWithReplacement = yml;\r\n        while (m.find()) {\r\n            var nameToken = m.group().substring(2);\r\n            // System.out.println(&quot;Name token:&quot;+nameToken);\r\n            ymlWithReplacement=ymlWithReplacement.replace(&quot;!!&quot;+nameToken, &quot;objectType: &quot;+nameToken);\r\n        }\r\n        // System.out.println(ymlWithReplacement);\r\n\r\n        // Step 3: Do the parse ...\r\n        Yaml yaml = new Yaml();\r\n        var myYamlMap = (Map&lt;String,Object&gt;) yaml.load(ymlWithReplacement);\r\n\r\n        for(var entry : myYamlMap.entrySet()) {\r\n            System.out.println(&quot;Key:&quot; + entry.getKey() + &quot;Value:&quot; + entry.getValue());\r\n        }\r\n    }\r\n```\r\n\r\nHere&#39;s how the resulting map looks like.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIt should be very easy to get the necessary data from here. \r\nThe principle of work is explained in the comments.\r\n\r\n**If you need something else for me to be able to claim the bounty, let me know !**\r\n\r\n  [1]: https://github.com/klezovics/java-generalized-eigenvalue-problem/blob/master/src/test/java/com/example/javabootpad/TestYamlConvert.java\r\n  [2]: https://i.stack.imgur.com/Peu54.png","title":"How do you convert tagged YAML objects to JSON objects using a Java library?","body":"<p>I've written the <a href=\"https://github.com/klezovics/java-generalized-eigenvalue-problem/blob/master/src/test/java/com/example/javabootpad/TestYamlConvert.java\" rel=\"nofollow noreferrer\">code</a> in the form of a unit test, which parses exactly the file you provide using <code>snakeYml</code>. Just run it.</p>\n<pre><code> @Test\n    void testYamlConvert() throws IOException {\n\n        // Step 1: Raad in file\n        var in = this.getClass().getResourceAsStream(&quot;/test.yml&quot;);\n        // System.out.println(in);\n        String yml = IOUtils.toString(in,&quot;UTF-8&quot;);\n\n\n        // Step 2: Do in memory replacement to standard form\n        Pattern p = Pattern.compile(&quot;!!(.*)&quot;);\n        Matcher m = p.matcher(yml);\n\n        String ymlWithReplacement = yml;\n        while (m.find()) {\n            var nameToken = m.group().substring(2);\n            // System.out.println(&quot;Name token:&quot;+nameToken);\n            ymlWithReplacement=ymlWithReplacement.replace(&quot;!!&quot;+nameToken, &quot;objectType: &quot;+nameToken);\n        }\n        // System.out.println(ymlWithReplacement);\n\n        // Step 3: Do the parse ...\n        Yaml yaml = new Yaml();\n        var myYamlMap = (Map&lt;String,Object&gt;) yaml.load(ymlWithReplacement);\n\n        for(var entry : myYamlMap.entrySet()) {\n            System.out.println(&quot;Key:&quot; + entry.getKey() + &quot;Value:&quot; + entry.getValue());\n        }\n    }\n</code></pre>\n<p>Here's how the resulting map looks like.</p>\n<p><a href=\"https://i.stack.imgur.com/Peu54.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Peu54.png\" alt=\"enter image description here\" /></a></p>\n<p>It should be very easy to get the necessary data from here.\nThe principle of work is explained in the comments.</p>\n<p><strong>If you need something else for me to be able to claim the bounty, let me know !</strong></p>\n"}],"owner":{"account_id":12880652,"reputation":59,"user_id":10264746,"display_name":"user10264746"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":601,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1636535643,"creation_date":1635756785,"question_id":69794601,"body_markdown":"How do you parse a YAML file containing tagged maps and return nested Java Map&lt;String, Object&gt; objects, where each Java Map contains all entries from the corresponding YAML map, plus an entry where the key is a the String “objectType” and the value is the (String) name of the tag?\r\n\r\nIn other words, I&#39;d like to parse tagged YAML objects as if they were JSON objects with an entry for the type.\r\n\r\nFor example, how do you parse this:\r\n```\r\n!ControlGroup\r\nname: myGroup\r\ncontrols:\r\n- !Button\r\n  name: button1\r\n  size: 10\r\n- !Knob\r\n  name: knob1\r\n  maxValue: 11\r\n  size: 7\r\n```\r\nas if it were this?:\r\n```\r\nobjectType: ControlGroup\r\nname: myGroup\r\ncontrols:\r\n- objectType: Button\r\n  name: button1\r\n  size: 10\r\n- objectType: Knob\r\n  name: knob1\r\n  maxValue: 11\r\n  size: 7\r\n```\r\n\r\nI&#39;m already using SnakeYAML in the project I&#39;m working on, so if a solution exists using SnakeYAML, that would be ideal.","title":"How do you convert tagged YAML objects to JSON objects using a Java library?","body":"<p>How do you parse a YAML file containing tagged maps and return nested Java Map&lt;String, Object&gt; objects, where each Java Map contains all entries from the corresponding YAML map, plus an entry where the key is a the String “objectType” and the value is the (String) name of the tag?</p>\n<p>In other words, I'd like to parse tagged YAML objects as if they were JSON objects with an entry for the type.</p>\n<p>For example, how do you parse this:</p>\n<pre><code>!ControlGroup\nname: myGroup\ncontrols:\n- !Button\n  name: button1\n  size: 10\n- !Knob\n  name: knob1\n  maxValue: 11\n  size: 7\n</code></pre>\n<p>as if it were this?:</p>\n<pre><code>objectType: ControlGroup\nname: myGroup\ncontrols:\n- objectType: Button\n  name: button1\n  size: 10\n- objectType: Knob\n  name: knob1\n  maxValue: 11\n  size: 7\n</code></pre>\n<p>I'm already using SnakeYAML in the project I'm working on, so if a solution exists using SnakeYAML, that would be ideal.</p>\n"},{"tags":["java","c","utf-8","jniwrapper"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1565294797,"post_id":57419723,"comment_id":101319263,"body_markdown":"if you can get the bytes, there&#39;s an answer here:  https://stackoverflow.com/questions/655891/converting-utf-8-to-iso-8859-1-in-java-how-to-keep-it-as-single-byte?rq=1","body":"if you can get the bytes, there&#39;s an answer here:  <a href=\"https://stackoverflow.com/questions/655891/converting-utf-8-to-iso-8859-1-in-java-how-to-keep-it-as-single-byte?rq=1\" title=\"converting utf 8 to iso 8859 1 in java how to keep it as single byte\">stackoverflow.com/questions/655891/&hellip;</a>"},{"owner":{"account_id":6780825,"reputation":155680,"user_id":5221149,"display_name":"Andreas"},"score":2,"creation_date":1565294805,"post_id":57419723,"comment_id":101319269,"body_markdown":"Don&#39;t use `DataInput`, it is not intended for cross-language data exchange. Your question is an [XY problem](https://meta.stackexchange.com/q/66377/351454), i.e. you&#39;ve decided to use `DataInput` for reading a string from a C library, and that is not the right choice. Go back a step, describe your real problem, i.e. what is the format of the string data coming from C, then ask: How do I read that in Java?","body":"Don&#39;t use <code>DataInput</code>, it is not intended for cross-language data exchange. Your question is an <a href=\"https://meta.stackexchange.com/q/66377/351454\">XY problem</a>, i.e. you&#39;ve decided to use <code>DataInput</code> for reading a string from a C library, and that is not the right choice. Go back a step, describe your real problem, i.e. what is the format of the string data coming from C, then ask: How do I read that in Java?"},{"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"score":0,"creation_date":1565295029,"post_id":57419723,"comment_id":101319359,"body_markdown":"ICU can do it, but it&#39;ll have to pass through UTF-16 in the middle. [Documentation](http://icu-project.org/apiref/icu4c/ustring_8h.html#aef59ec61e141905bf7b5970ae21f5dd2).","body":"ICU can do it, but it&#39;ll have to pass through UTF-16 in the middle. <a href=\"http://icu-project.org/apiref/icu4c/ustring_8h.html#aef59ec61e141905bf7b5970ae21f5dd2\" rel=\"nofollow noreferrer\">Documentation</a>."},{"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"score":0,"creation_date":1565298088,"post_id":57419723,"comment_id":101320465,"body_markdown":"Note that although Java&#39;s modified UTF-8 is *almost* identical to UTF-8 for characters assigned to Unicode&#39;s basic multilingual plane, it is quite different for other characters.  The differences can be expressed very simply, but the actual encoded data for non-BMP characters is completely different between the two.","body":"Note that although Java&#39;s modified UTF-8 is <i>almost</i> identical to UTF-8 for characters assigned to Unicode&#39;s basic multilingual plane, it is quite different for other characters.  The differences can be expressed very simply, but the actual encoded data for non-BMP characters is completely different between the two."},{"owner":{"account_id":160089,"reputation":210397,"user_id":379897,"accept_rate":61,"display_name":"R.. GitHub STOP HELPING ICE"},"score":1,"creation_date":1565298099,"post_id":57419723,"comment_id":101320469,"body_markdown":"Essentially any solution has to pass through UTF-16 (at least in some sense) internally since the &quot;Java-modified&quot; thing is just encoding UTF-16 code units in a UTF-8-like encoding (plus misencoding NUL).","body":"Essentially any solution has to pass through UTF-16 (at least in some sense) internally since the &quot;Java-modified&quot; thing is just encoding UTF-16 code units in a UTF-8-like encoding (plus misencoding NUL)."}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1565299997,"creation_date":1565299997,"answer_id":57420896,"question_id":57419723,"body_markdown":"&gt; My question is what is a standard reliable way to convert the “Java\r\n&gt; modified UTF-8” to the regular UTF-8 and back?\r\n\r\nFirst, consider whether you really need or want to do that.  The only reason I can think of for doing so in the context of wrapping a C library is to use the JNI functions that work with Java `String`s in terms of byte arrays encoded in modified UTF-8, but that&#39;s neither the only nor the best way to proceed except in rather specific circumstances.\r\n\r\nFor most cases, I would recommend going directly from UTF-8 to String objects, and getting Java to do most of that work.  Simple tools Java provides for that include the constructor `String(byte[], String)`, which initializes a String with data whose encoding you specify, and `String.getBytes(String)`, which gives you the string&#39;s character data in the encoding of your choice.  Both of these are limited to encodings known to the JVM, but UTF-8 is guaranteed to be among those.  You can use those directly from your JNI code, or provide suitable for-purpose wrapper methods for your JNI code to invoke.\r\n\r\nIf you really do want the modified UTF-8 form for its own sake, then your JNI code can obtain it from the corresponding Java string (obtained as summarized above) via the `GetStringUTFChars` JNI function, and you can go the other way with `NewStringUTF`.  Of course, this makes Java `String`s the intermediate form, which is entirely appropos in this case.","title":"How to convert the &quot;Java modified UTF-8&quot; to the regular UTF-8 and back?","body":"<blockquote>\n  <p>My question is what is a standard reliable way to convert the “Java\n  modified UTF-8” to the regular UTF-8 and back?</p>\n</blockquote>\n\n<p>First, consider whether you really need or want to do that.  The only reason I can think of for doing so in the context of wrapping a C library is to use the JNI functions that work with Java <code>String</code>s in terms of byte arrays encoded in modified UTF-8, but that's neither the only nor the best way to proceed except in rather specific circumstances.</p>\n\n<p>For most cases, I would recommend going directly from UTF-8 to String objects, and getting Java to do most of that work.  Simple tools Java provides for that include the constructor <code>String(byte[], String)</code>, which initializes a String with data whose encoding you specify, and <code>String.getBytes(String)</code>, which gives you the string's character data in the encoding of your choice.  Both of these are limited to encodings known to the JVM, but UTF-8 is guaranteed to be among those.  You can use those directly from your JNI code, or provide suitable for-purpose wrapper methods for your JNI code to invoke.</p>\n\n<p>If you really do want the modified UTF-8 form for its own sake, then your JNI code can obtain it from the corresponding Java string (obtained as summarized above) via the <code>GetStringUTFChars</code> JNI function, and you can go the other way with <code>NewStringUTF</code>.  Of course, this makes Java <code>String</code>s the intermediate form, which is entirely appropos in this case.</p>\n"},{"tags":[],"owner":{"account_id":4076593,"reputation":73,"user_id":3348108,"display_name":"Roman Zacharia"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565310870,"creation_date":1565310870,"answer_id":57422164,"question_id":57419723,"body_markdown":"Thanks everyone for your replies! I finally found the answer.\r\nThe only documented way of such conversions is using InputStreamReader and OutputStreamWriter \r\n\r\n&gt; In normal usage, the Java programming language supports standard UTF-8\r\n&gt; when reading and writing strings through InputStreamReader and\r\n&gt; OutputStreamWriter (if it is the platform&#39;s default character set or\r\n&gt; as requested by the program).\r\n\r\nhttps://en.wikipedia.org/wiki/UTF-8#Modified_UTF-8\r\n\r\nAlso the NewStringUTF JNI method expects the Modified UTF-8 input, not the standard one. And it will crash the app if it receives a forbidden byte sequence and the JNI Exception handling can&#39;t prevent it from crashing the app.\r\n\r\nSo my second conclusion is that passing String/jstring from JNI to Java or the other way is always a bad idea. Never do that. Perform all of the conversions with the InputStreamReader and OutputStreamWriter on the Java layer and pass the raw byte arrays to/from the JNI.","title":"How to convert the &quot;Java modified UTF-8&quot; to the regular UTF-8 and back?","body":"<p>Thanks everyone for your replies! I finally found the answer.\nThe only documented way of such conversions is using InputStreamReader and OutputStreamWriter </p>\n\n<blockquote>\n  <p>In normal usage, the Java programming language supports standard UTF-8\n  when reading and writing strings through InputStreamReader and\n  OutputStreamWriter (if it is the platform's default character set or\n  as requested by the program).</p>\n</blockquote>\n\n<p><a href=\"https://en.wikipedia.org/wiki/UTF-8#Modified_UTF-8\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/UTF-8#Modified_UTF-8</a></p>\n\n<p>Also the NewStringUTF JNI method expects the Modified UTF-8 input, not the standard one. And it will crash the app if it receives a forbidden byte sequence and the JNI Exception handling can't prevent it from crashing the app.</p>\n\n<p>So my second conclusion is that passing String/jstring from JNI to Java or the other way is always a bad idea. Never do that. Perform all of the conversions with the InputStreamReader and OutputStreamWriter on the Java layer and pass the raw byte arrays to/from the JNI.</p>\n"},{"tags":[],"owner":{"account_id":404649,"reputation":57172,"user_id":773113,"accept_rate":72,"display_name":"Mike Nakis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636535577,"creation_date":1590845838,"answer_id":62103230,"question_id":57419723,"body_markdown":"There is absolutely nothing that can only be achieved by using some library. You can always do it yourself.\r\n\r\n&lt;sup&gt;Note: class `Buffer` below just wraps an array of `byte` the same way a `String` wraps an array of `char`.&lt;/sup&gt;\r\n\r\n\r\n\tpublic static String stringFromBuffer( Buffer buffer )\r\n\t{\r\n\t\tString result = stringFromBuffer0( buffer );\r\n        assert bufferFromString0( result ).equals( buffer );\r\n\t\treturn result;\r\n\t}\r\n\r\n\tpublic static Buffer bufferFromString( String s )\r\n\t{\r\n\t\tBuffer result = bufferFromString0( s );\r\n        assert stringFromBuffer( result ).equals( s );\r\n\t\treturn result;\r\n\t}\r\n\r\n\tprivate static String stringFromBuffer0( Buffer buffer )\r\n\t{\r\n\t\tbyte[] bytes = buffer.getBytes();\r\n\t\tint end = bytes.length;\r\n\t\tchar[] chars = new char[end];\r\n\t\tint t = 0;\r\n\t\tfor( int s = 0; s &lt; end; )\r\n\t\t{\r\n\t\t\tint b1 = bytes[s++] &amp; 0xff;\r\n\t\t\tassert b1 &gt;&gt; 4 &gt;= 0;\r\n\t\t\tif( /*b1 &gt;&gt; 4 &gt;= 0 &amp;&amp;*/ b1 &gt;&gt; 4 &lt;= 7 ) /* 0x0xxx_xxxx */\r\n\t\t\t\tchars[t++] = (char)b1;\r\n\t\t\telse if( b1 &gt;&gt; 4 &gt;= 8 &amp;&amp; b1 &gt;&gt; 4 &lt;= 11 ) /* 0x10xx_xxxx */\r\n\t\t\t\tthrow new MalformedUtf8Exception( s - 1 );\r\n\t\t\telse if( b1 &gt;&gt; 4 &gt;= 12 &amp;&amp; b1 &gt;&gt; 4 &lt;= 13 ) /* 0x110x_xxxx 0x10xx_xxxx */\r\n\t\t\t{\r\n\t\t\t\tassert s &lt; end : new IncompleteUtf8Exception( s - 1 );\r\n\t\t\t\tint b2 = bytes[s++] &amp; 0xff;\r\n\t\t\t\tassert (b2 &amp; 0xc0) == 0x80 : new MalformedUtf8Exception( s - 1 );\r\n\t\t\t\tchars[t++] = (char)(((b1 &amp; 0x1f) &lt;&lt; 6) | (b2 &amp; 0x3f));\r\n\t\t\t}\r\n\t\t\telse if( b1 &gt;&gt; 4 == 14 ) /* 0x1110_xxxx 0x10xx_xxxx 0x10xx_xxxx */\r\n\t\t\t{\r\n\t\t\t\tassert s &lt; end : new IncompleteUtf8Exception( s - 1 );\r\n\t\t\t\tint b2 = bytes[s++] &amp; 0xff;\r\n\t\t\t\tassert (b2 &amp; 0xc0) == 0x80 : new MalformedUtf8Exception( s - 1 );\r\n\t\t\t\tassert s &lt; end : new IncompleteUtf8Exception( s - 1 );\r\n\t\t\t\tint b3 = bytes[s++] &amp; 0xff;\r\n\t\t\t\tassert (b3 &amp; 0xc0) == 0x80 : new MalformedUtf8Exception( s - 1 );\r\n\t\t\t\tchars[t++] = (char)(((b1 &amp; 0x0f) &lt;&lt; 12) | ((b2 &amp; 0x3f) &lt;&lt; 6) | (b3 &amp; 0x3f));\r\n\t\t\t}\r\n\t\t\telse /* 0x1111_xxxx */\r\n\t\t\t\tthrow new MalformedUtf8Exception( s - 1 );\r\n\t\t}\r\n\t\treturn new String( chars, 0, t );\r\n\t}\r\n\r\n\tprivate static Buffer bufferFromString0( String s )\r\n\t{\r\n\t\tchar[] chars = s.toCharArray();\r\n\t\tbyte[] bytes = new byte[chars.length * 3];\r\n\t\tint p = 0;\r\n\t\tfor( char c : chars )\r\n\t\t{\r\n\t\t\tif( (c &gt;= 1) &amp;&amp; (c &lt;= 0x7f) )\r\n\t\t\t\tbytes[p++] = (byte)c;\r\n\t\t\telse if( c &gt; 0x07ff )\r\n\t\t\t{\r\n\t\t\t\tbytes[p++] = (byte)(0xe0 | ((c &gt;&gt; 12) &amp; 0x0f));\r\n\t\t\t\tbytes[p++] = (byte)(0x80 | ((c &gt;&gt; 6) &amp; 0x3f));\r\n\t\t\t\tbytes[p++] = (byte)(0x80 | (c &amp; 0x3f));\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tbytes[p++] = (byte)(0xc0 | ((c &gt;&gt; 6) &amp; 0x1f));\r\n\t\t\t\tbytes[p++] = (byte)(0x80 | (c &amp; 0x3f));\r\n\t\t\t}\r\n\t\t}\r\n\t\tif( p &gt; 0xffff )\r\n\t\t\tthrow new StringTooLongException( p );\r\n\t\treturn Buffer.create( bytes, 0, p );\r\n\t}\r\n\r\n","title":"How to convert the &quot;Java modified UTF-8&quot; to the regular UTF-8 and back?","body":"<p>There is absolutely nothing that can only be achieved by using some library. You can always do it yourself.</p>\n<p><sup>Note: class <code>Buffer</code> below just wraps an array of <code>byte</code> the same way a <code>String</code> wraps an array of <code>char</code>.</sup></p>\n<pre><code>public static String stringFromBuffer( Buffer buffer )\n{\n    String result = stringFromBuffer0( buffer );\n    assert bufferFromString0( result ).equals( buffer );\n    return result;\n}\n\npublic static Buffer bufferFromString( String s )\n{\n    Buffer result = bufferFromString0( s );\n    assert stringFromBuffer( result ).equals( s );\n    return result;\n}\n\nprivate static String stringFromBuffer0( Buffer buffer )\n{\n    byte[] bytes = buffer.getBytes();\n    int end = bytes.length;\n    char[] chars = new char[end];\n    int t = 0;\n    for( int s = 0; s &lt; end; )\n    {\n        int b1 = bytes[s++] &amp; 0xff;\n        assert b1 &gt;&gt; 4 &gt;= 0;\n        if( /*b1 &gt;&gt; 4 &gt;= 0 &amp;&amp;*/ b1 &gt;&gt; 4 &lt;= 7 ) /* 0x0xxx_xxxx */\n            chars[t++] = (char)b1;\n        else if( b1 &gt;&gt; 4 &gt;= 8 &amp;&amp; b1 &gt;&gt; 4 &lt;= 11 ) /* 0x10xx_xxxx */\n            throw new MalformedUtf8Exception( s - 1 );\n        else if( b1 &gt;&gt; 4 &gt;= 12 &amp;&amp; b1 &gt;&gt; 4 &lt;= 13 ) /* 0x110x_xxxx 0x10xx_xxxx */\n        {\n            assert s &lt; end : new IncompleteUtf8Exception( s - 1 );\n            int b2 = bytes[s++] &amp; 0xff;\n            assert (b2 &amp; 0xc0) == 0x80 : new MalformedUtf8Exception( s - 1 );\n            chars[t++] = (char)(((b1 &amp; 0x1f) &lt;&lt; 6) | (b2 &amp; 0x3f));\n        }\n        else if( b1 &gt;&gt; 4 == 14 ) /* 0x1110_xxxx 0x10xx_xxxx 0x10xx_xxxx */\n        {\n            assert s &lt; end : new IncompleteUtf8Exception( s - 1 );\n            int b2 = bytes[s++] &amp; 0xff;\n            assert (b2 &amp; 0xc0) == 0x80 : new MalformedUtf8Exception( s - 1 );\n            assert s &lt; end : new IncompleteUtf8Exception( s - 1 );\n            int b3 = bytes[s++] &amp; 0xff;\n            assert (b3 &amp; 0xc0) == 0x80 : new MalformedUtf8Exception( s - 1 );\n            chars[t++] = (char)(((b1 &amp; 0x0f) &lt;&lt; 12) | ((b2 &amp; 0x3f) &lt;&lt; 6) | (b3 &amp; 0x3f));\n        }\n        else /* 0x1111_xxxx */\n            throw new MalformedUtf8Exception( s - 1 );\n    }\n    return new String( chars, 0, t );\n}\n\nprivate static Buffer bufferFromString0( String s )\n{\n    char[] chars = s.toCharArray();\n    byte[] bytes = new byte[chars.length * 3];\n    int p = 0;\n    for( char c : chars )\n    {\n        if( (c &gt;= 1) &amp;&amp; (c &lt;= 0x7f) )\n            bytes[p++] = (byte)c;\n        else if( c &gt; 0x07ff )\n        {\n            bytes[p++] = (byte)(0xe0 | ((c &gt;&gt; 12) &amp; 0x0f));\n            bytes[p++] = (byte)(0x80 | ((c &gt;&gt; 6) &amp; 0x3f));\n            bytes[p++] = (byte)(0x80 | (c &amp; 0x3f));\n        }\n        else\n        {\n            bytes[p++] = (byte)(0xc0 | ((c &gt;&gt; 6) &amp; 0x1f));\n            bytes[p++] = (byte)(0x80 | (c &amp; 0x3f));\n        }\n    }\n    if( p &gt; 0xffff )\n        throw new StringTooLongException( p );\n    return Buffer.create( bytes, 0, p );\n}\n</code></pre>\n"}],"owner":{"account_id":4076593,"reputation":73,"user_id":3348108,"display_name":"Roman Zacharia"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1835,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":3,"score":4,"last_activity_date":1636535577,"creation_date":1565293965,"question_id":57419723,"body_markdown":"I have created a Java wrapper around a native C library and have a question about the string encodings. There are slight differences in the “Java modified UTF-8” encoding that is used by Java from the regular UTF-8. And these differences may cause serious problems: the JNI functions may crash the app when passed the regular UTF-8 because it may contain byte sequences forbidden for the “Java modified UTF-8”. Please see the following topic: https://stackoverflow.com/questions/7921016/what-does-it-mean-to-say-java-modified-utf-8-encoding\r\n\r\nMy question is what is a standard reliable way to convert the “Java modified UTF-8” to the regular UTF-8 and back?","title":"How to convert the &quot;Java modified UTF-8&quot; to the regular UTF-8 and back?","body":"<p>I have created a Java wrapper around a native C library and have a question about the string encodings. There are slight differences in the “Java modified UTF-8” encoding that is used by Java from the regular UTF-8. And these differences may cause serious problems: the JNI functions may crash the app when passed the regular UTF-8 because it may contain byte sequences forbidden for the “Java modified UTF-8”. Please see the following topic: <a href=\"https://stackoverflow.com/questions/7921016/what-does-it-mean-to-say-java-modified-utf-8-encoding\">What does it mean to say &quot;Java Modified UTF-8 Encoding&quot;?</a></p>\n\n<p>My question is what is a standard reliable way to convert the “Java modified UTF-8” to the regular UTF-8 and back?</p>\n"},{"tags":["python","java","scipy","linear-algebra"],"comments":[{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":0,"creation_date":1636122883,"post_id":69850825,"comment_id":123480004,"body_markdown":"What does this b parameter do ? Why is it necessary ?","body":"What does this b parameter do ? Why is it necessary ?"},{"owner":{"account_id":14575753,"reputation":306,"user_id":10527665,"display_name":"wl.GIG"},"score":0,"creation_date":1636123836,"post_id":69850825,"comment_id":123480426,"body_markdown":"@ArthurKlezovich I think it’s kind of reference matrix.As it says, identity matrix would be reference matrix if b is none","body":"@ArthurKlezovich I think it’s kind of reference matrix.As it says, identity matrix would be reference matrix if b is none"}],"answers":[{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1636535571,"creation_date":1636123257,"answer_id":69854984,"question_id":69850825,"body_markdown":"It seems that the [OjAlgo][1] library is likely to have what you need.\r\n\r\nHere&#39;s an [example][2] with eigenvalues.\r\n\r\n```\r\n        var dim = 2;\r\n        \r\n        Primitive64Store mtrxA = Primitive64Store.FACTORY.make(2, 2);\r\n        mtrxA.fillOne(0, 0, 4.0);\r\n        mtrxA.fillOne(0, 1, 0.0);\r\n        mtrxA.fillOne(1, 0, 0.0);\r\n        mtrxA.fillOne(1, 1, 1.0);\r\n\r\n        System.out.println(mtrxA);\r\n\r\n        Primitive64Store mtrxB = Primitive64Store.FACTORY.make(2, 2);\r\n\r\n        mtrxB.fillOne(0, 0, 0.6);\r\n        mtrxB.fillOne(0, 1, -0.5);\r\n        mtrxB.fillOne(1, 0, -0.5);\r\n        mtrxB.fillOne(1, 1, 0.7);\r\n\r\n        System.out.println(mtrxB);\r\n        /*\r\n         * There are several generalisations. 3 are supported by ojAlgo, specified by the enum:\r\n         * Eigenvalue.Generalisation This factory method returns the most common alternative.\r\n         */\r\n        Eigenvalue.Generalised&lt;Double&gt; generalisedEvD = Eigenvalue.PRIMITIVE.makeGeneralised(mtrxA);\r\n        // Generalisation: [A][V] = [B][V][D]\r\n\r\n        // Use 2-args alternative\r\n\r\n        generalisedEvD.computeValuesOnly(mtrxA, mtrxB);\r\n        generalisedEvD.decompose(mtrxA, mtrxB);\r\n\r\n        // Eigenvectors in the columns\r\n        System.out.println(&quot;Eigenvectors are in the columns below&quot;);\r\n        System.out.println(generalisedEvD.getV());\r\n\r\n        // Eigenvalues on the diagonal\r\n        System.out.println(&quot;Eigenvalues are on the diagonal in the matrix below&quot;);\r\n        System.out.println(generalisedEvD.getD());\r\n\r\n        // You can also transpose the matrices with this lib\r\n        var transposed = mtrxB.transpose();\r\n        // Printing out the transposed matrix\r\n        System.out.println(transposed.toString());\r\n```\r\n\r\n**EDIT:** Here&#39;s a [working code example][3], which solves the problem for you specific data case.\r\n\r\n\r\n  [1]: https://www.ojalgo.org/\r\n  [2]: https://www.ojalgo.org/2019/08/generalised-eigenvalue-problems/\r\n  [3]: https://github.com/klezovics/java-generalized-eigenvalue-problem/blob/master/src/test/java/com/example/javabootpad/EigenValueTest.java","title":"java equivalent of scipy.linalg.eigh with parameter optional matrix","body":"<p>It seems that the <a href=\"https://www.ojalgo.org/\" rel=\"nofollow noreferrer\">OjAlgo</a> library is likely to have what you need.</p>\n<p>Here's an <a href=\"https://www.ojalgo.org/2019/08/generalised-eigenvalue-problems/\" rel=\"nofollow noreferrer\">example</a> with eigenvalues.</p>\n<pre><code>        var dim = 2;\n        \n        Primitive64Store mtrxA = Primitive64Store.FACTORY.make(2, 2);\n        mtrxA.fillOne(0, 0, 4.0);\n        mtrxA.fillOne(0, 1, 0.0);\n        mtrxA.fillOne(1, 0, 0.0);\n        mtrxA.fillOne(1, 1, 1.0);\n\n        System.out.println(mtrxA);\n\n        Primitive64Store mtrxB = Primitive64Store.FACTORY.make(2, 2);\n\n        mtrxB.fillOne(0, 0, 0.6);\n        mtrxB.fillOne(0, 1, -0.5);\n        mtrxB.fillOne(1, 0, -0.5);\n        mtrxB.fillOne(1, 1, 0.7);\n\n        System.out.println(mtrxB);\n        /*\n         * There are several generalisations. 3 are supported by ojAlgo, specified by the enum:\n         * Eigenvalue.Generalisation This factory method returns the most common alternative.\n         */\n        Eigenvalue.Generalised&lt;Double&gt; generalisedEvD = Eigenvalue.PRIMITIVE.makeGeneralised(mtrxA);\n        // Generalisation: [A][V] = [B][V][D]\n\n        // Use 2-args alternative\n\n        generalisedEvD.computeValuesOnly(mtrxA, mtrxB);\n        generalisedEvD.decompose(mtrxA, mtrxB);\n\n        // Eigenvectors in the columns\n        System.out.println(&quot;Eigenvectors are in the columns below&quot;);\n        System.out.println(generalisedEvD.getV());\n\n        // Eigenvalues on the diagonal\n        System.out.println(&quot;Eigenvalues are on the diagonal in the matrix below&quot;);\n        System.out.println(generalisedEvD.getD());\n\n        // You can also transpose the matrices with this lib\n        var transposed = mtrxB.transpose();\n        // Printing out the transposed matrix\n        System.out.println(transposed.toString());\n</code></pre>\n<p><strong>EDIT:</strong> Here's a <a href=\"https://github.com/klezovics/java-generalized-eigenvalue-problem/blob/master/src/test/java/com/example/javabootpad/EigenValueTest.java\" rel=\"nofollow noreferrer\">working code example</a>, which solves the problem for you specific data case.</p>\n"},{"tags":[],"owner":{"account_id":93599,"reputation":2732,"user_id":255985,"display_name":"lessthanoptimal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636235703,"creation_date":1636235703,"answer_id":69868201,"question_id":69850825,"body_markdown":"[EJML][1] has flags to avoid computing eigenvalues and you can select different variants. [JavaDoc for the factory.][2]\r\n\r\n\r\n  [1]: https://ejml.org\r\n  [2]: http://ejml.org/javadoc/org/ejml/dense/row/factory/DecompositionFactory_DDRM.html#eig(boolean,boolean)","title":"java equivalent of scipy.linalg.eigh with parameter optional matrix","body":"<p><a href=\"https://ejml.org\" rel=\"nofollow noreferrer\">EJML</a> has flags to avoid computing eigenvalues and you can select different variants. <a href=\"http://ejml.org/javadoc/org/ejml/dense/row/factory/DecompositionFactory_DDRM.html#eig(boolean,boolean)\" rel=\"nofollow noreferrer\">JavaDoc for the factory.</a></p>\n"}],"owner":{"account_id":14575753,"reputation":306,"user_id":10527665,"display_name":"wl.GIG"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69854984,"answer_count":2,"score":1,"last_activity_date":1636535571,"creation_date":1636103397,"question_id":69850825,"body_markdown":"I need calculate eigenvalue in java. And I need the relative matrix which is like the parameter b in  scipy.linalg.eigh.\r\n\r\n    def eigh(a, b=None, lower=True, eigvals_only=False, overwrite_a=False,\r\n         overwrite_b=False, turbo=True, eigvals=None, type=1,\r\n         check_finite=True, subset_by_index=None, subset_by_value=None,\r\n         driver=None):\r\n\r\n\r\n\r\n   \r\n----------\r\n    Method description\r\n    Solve a standard or generalized eigenvalue problem for a complex\r\n    Hermitian or real symmetric matrix.\r\n\r\n    Find eigenvalues array ``w`` and optionally eigenvectors array ``v`` of\r\n    array ``a``, where ``b`` is positive definite such that for every\r\n    eigenvalue λ (i-th entry of w) and its eigenvector ``vi`` (i-th column of\r\n    ``v``) satisfies::\r\n\r\n                      a @ vi = λ * b @ vi\r\n        vi.conj().T @ a @ vi = λ\r\n        vi.conj().T @ b @ vi = 1\r\n\r\n    In the standard problem, ``b`` is assumed to be the identity matrix.\r\n\r\n    Parameters\r\n    ----------\r\n    a : (M, M) array_like\r\n        A complex Hermitian or real symmetric matrix whose eigenvalues and\r\n        eigenvectors will be computed.\r\n    b : (M, M) array_like, optional\r\n        A complex Hermitian or real symmetric definite positive matrix in.\r\n        If omitted, identity matrix is assumed\r\n\r\nI have tried apache.math. All of them only offer the similar eig method without parameter. Is there any equivalent in java?","title":"java equivalent of scipy.linalg.eigh with parameter optional matrix","body":"<p>I need calculate eigenvalue in java. And I need the relative matrix which is like the parameter b in  scipy.linalg.eigh.</p>\n<pre><code>def eigh(a, b=None, lower=True, eigvals_only=False, overwrite_a=False,\n     overwrite_b=False, turbo=True, eigvals=None, type=1,\n     check_finite=True, subset_by_index=None, subset_by_value=None,\n     driver=None):\n</code></pre>\n<hr />\n<pre><code>Method description\nSolve a standard or generalized eigenvalue problem for a complex\nHermitian or real symmetric matrix.\n\nFind eigenvalues array ``w`` and optionally eigenvectors array ``v`` of\narray ``a``, where ``b`` is positive definite such that for every\neigenvalue λ (i-th entry of w) and its eigenvector ``vi`` (i-th column of\n``v``) satisfies::\n\n                  a @ vi = λ * b @ vi\n    vi.conj().T @ a @ vi = λ\n    vi.conj().T @ b @ vi = 1\n\nIn the standard problem, ``b`` is assumed to be the identity matrix.\n\nParameters\n----------\na : (M, M) array_like\n    A complex Hermitian or real symmetric matrix whose eigenvalues and\n    eigenvectors will be computed.\nb : (M, M) array_like, optional\n    A complex Hermitian or real symmetric definite positive matrix in.\n    If omitted, identity matrix is assumed\n</code></pre>\n<p>I have tried apache.math. All of them only offer the similar eig method without parameter. Is there any equivalent in java?</p>\n"},{"tags":["java","tomcat","url-rewriting","tomcat8.5"],"comments":[{"owner":{"account_id":9847991,"reputation":56906,"user_id":7294900,"accept_rate":94,"display_name":"Ori Marko"},"score":0,"creation_date":1574669586,"post_id":59027468,"comment_id":104299328,"body_markdown":"Did you check https://stackoverflow.com/questions/34619751/tomcat-8-url-rewrite-issues","body":"Did you check <a href=\"https://stackoverflow.com/questions/34619751/tomcat-8-url-rewrite-issues\" title=\"tomcat 8 url rewrite issues\">stackoverflow.com/questions/34619751/&hellip;</a>"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1574670145,"post_id":59027468,"comment_id":104299542,"body_markdown":"@user7294900: that is about redirecting inside a single webapp. I am essentially trying to do that _before_ my webapp is accessed, adding a context to a URL without a context (without using a ROOT.war). I am also not enabling the valve for a specific context (because it should work _without_ one)","body":"@user7294900: that is about redirecting inside a single webapp. I am essentially trying to do that <i>before</i> my webapp is accessed, adding a context to a URL without a context (without using a ROOT.war). I am also not enabling the valve for a specific context (because it should work <i>without</i> one)"},{"owner":{"account_id":13600,"reputation":2691,"user_id":27449,"accept_rate":86,"display_name":"Alexander Malfait"},"score":0,"creation_date":1601896043,"post_id":59027468,"comment_id":113538584,"body_markdown":"I&#39;m having the same problem. \nStrange thing is that I had simulated the very same thing you&#39;re doing on my Windows development machine using Tomcat 8.5.58 and it worked, but Ubuntu Server&#39;s Tomcat 8.5.39-1ubuntu1~18.04.3 has the problem you&#39;re seeing. So it might be a bug in Tomcat?","body":"I&#39;m having the same problem.  Strange thing is that I had simulated the very same thing you&#39;re doing on my Windows development machine using Tomcat 8.5.58 and it worked, but Ubuntu Server&#39;s Tomcat 8.5.39-1ubuntu1~18.04.3 has the problem you&#39;re seeing. So it might be a bug in Tomcat?"}],"answers":[{"tags":[],"owner":{"account_id":3242663,"reputation":41,"user_id":2735252,"display_name":"Sandworm"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636535253,"creation_date":1636535253,"answer_id":69910448,"question_id":59027468,"body_markdown":"The problem here is that there is no context bound to the request. Make sure to configure some (empty) ROOT context that the request gets bound to.","title":"Tomcat 8.5 rewrite Valve to redirect root request to specific webapp","body":"<p>The problem here is that there is no context bound to the request. Make sure to configure some (empty) ROOT context that the request gets bound to.</p>\n"}],"owner":{"display_name":"user330315"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2216,"favorite_count":0,"down_vote_count":2,"up_vote_count":4,"answer_count":1,"score":2,"last_activity_date":1636535253,"creation_date":1574669277,"question_id":59027468,"body_markdown":"I have a requirement to allow certain URLs without a context to be forwarded to specific webapp. \r\n\r\nSo, I have a webapp &quot;app1&quot; deployed and working. The following URL `http://localhost:8080/app1/ping` is working fine. In `$CATALINA_HOME/webapps` I only have `app1.war`, no `ROOT.war`\r\n\r\nI want to configure the rewrite valve to redirect `http://localhost:8080/ping` to `/app1/ping`\r\n\r\nIn my `server.xml` I have enabled the Rewrite valve. Then I created `$CATALINA_HOME/conf/Catalina/localhost/rewrite.config` with the following content:\r\n\r\n```none\r\nRewriteRule ^/ping /app1/ping\r\n```\r\n\r\nIn the Tomcat logfile I can see the rule is invoked:\r\n\r\n```none\r\n25-Nov-2019 09:02:11.442 FINE [http-nio-8080-exec-1] org.apache.catalina.valves.rewrite.RewriteValve.invoke Rewrote /ping as /app1/ping with rule pattern ^/ping\r\n```\r\n\r\nBut nevertheless I get a 404 in the browser for `/ping` (but not for `/app1/ping`)\r\n\r\nIn the access log I can see both request show up with the same URL, but the redirected one (the first line in the below log) is listed with a 404\r\n\r\n```none\r\n0:0:0:0:0:0:0:1 [25/Nov/2019:09:02:11 +0100] &quot;GET /app1/ping HTTP/1.1&quot; 404 1078\r\n0:0:0:0:0:0:0:1 [25/Nov/2019:09:02:23 +0100] &quot;GET /app1/ping HTTP/1.1&quot; 200 4\r\n```\r\n\r\nWhat am I missing here? \r\n\r\nI am using Tomcat 8.5.40 together with Oracle&#39;s JDK 8 on Windows 10\r\n\r\nIf I add a redirect flag to the rule:\r\n\r\n```none\r\nRewriteRule ^/ping /app1/ping [R]\r\n```\r\n\r\nthen I get a NPE inside Tomcat: \r\n\r\n```none\r\njava.lang.NullPointerException\r\n  at org.apache.catalina.connector.Response.sendRedirect(Response.java:1318)\r\n  at org.apache.catalina.connector.Response.sendRedirect(Response.java:1288)\r\n  at org.apache.catalina.valves.rewrite.RewriteValve.invoke(RewriteValve.java:435)\r\n  at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\r\n  at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\r\n  at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:609)\r\n  at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n  at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:810)\r\n  at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1506)\r\n  at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n  at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n  at java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\n\r\n","title":"Tomcat 8.5 rewrite Valve to redirect root request to specific webapp","body":"<p>I have a requirement to allow certain URLs without a context to be forwarded to specific webapp. </p>\n\n<p>So, I have a webapp \"app1\" deployed and working. The following URL <code>http://localhost:8080/app1/ping</code> is working fine. In <code>$CATALINA_HOME/webapps</code> I only have <code>app1.war</code>, no <code>ROOT.war</code></p>\n\n<p>I want to configure the rewrite valve to redirect <code>http://localhost:8080/ping</code> to <code>/app1/ping</code></p>\n\n<p>In my <code>server.xml</code> I have enabled the Rewrite valve. Then I created <code>$CATALINA_HOME/conf/Catalina/localhost/rewrite.config</code> with the following content:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>RewriteRule ^/ping /app1/ping\n</code></pre>\n\n<p>In the Tomcat logfile I can see the rule is invoked:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>25-Nov-2019 09:02:11.442 FINE [http-nio-8080-exec-1] org.apache.catalina.valves.rewrite.RewriteValve.invoke Rewrote /ping as /app1/ping with rule pattern ^/ping\n</code></pre>\n\n<p>But nevertheless I get a 404 in the browser for <code>/ping</code> (but not for <code>/app1/ping</code>)</p>\n\n<p>In the access log I can see both request show up with the same URL, but the redirected one (the first line in the below log) is listed with a 404</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>0:0:0:0:0:0:0:1 [25/Nov/2019:09:02:11 +0100] \"GET /app1/ping HTTP/1.1\" 404 1078\n0:0:0:0:0:0:0:1 [25/Nov/2019:09:02:23 +0100] \"GET /app1/ping HTTP/1.1\" 200 4\n</code></pre>\n\n<p>What am I missing here? </p>\n\n<p>I am using Tomcat 8.5.40 together with Oracle's JDK 8 on Windows 10</p>\n\n<p>If I add a redirect flag to the rule:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>RewriteRule ^/ping /app1/ping [R]\n</code></pre>\n\n<p>then I get a NPE inside Tomcat: </p>\n\n<pre class=\"lang-none prettyprint-override\"><code>java.lang.NullPointerException\n  at org.apache.catalina.connector.Response.sendRedirect(Response.java:1318)\n  at org.apache.catalina.connector.Response.sendRedirect(Response.java:1288)\n  at org.apache.catalina.valves.rewrite.RewriteValve.invoke(RewriteValve.java:435)\n  at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:87)\n  at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:343)\n  at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:609)\n  at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n  at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:810)\n  at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1506)\n  at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n  at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n  at java.lang.Thread.run(Thread.java:748)\n</code></pre>\n"},{"tags":["java","unit-testing","spring-boot","mockito"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1525741697,"post_id":50224366,"comment_id":87466338,"body_markdown":"Try @RunWith(MockitoJUnitRunner.class), or if you need to use SpringRunner, initialise your mocks -- see https://stackoverflow.com/questions/10806345/runwithmockitojunitrunner-class-vs-mockitoannotations-initmocksthis","body":"Try @RunWith(MockitoJUnitRunner.class), or if you need to use SpringRunner, initialise your mocks -- see <a href=\"https://stackoverflow.com/questions/10806345/runwithmockitojunitrunner-class-vs-mockitoannotations-initmocksthis\" title=\"runwithmockitojunitrunner class vs mockitoannotations initmocksthis\">stackoverflow.com/questions/10806345/&hellip;</a>"},{"owner":{"account_id":10752975,"reputation":761,"user_id":7911712,"display_name":"Luay Abdulraheem"},"score":0,"creation_date":1525750916,"post_id":50224366,"comment_id":87468250,"body_markdown":"Have you added `@SpringBootTest` to your test?","body":"Have you added <code>@SpringBootTest</code> to your test?"},{"owner":{"account_id":3748322,"reputation":463,"user_id":3116461,"display_name":"vsk.rahul"},"score":0,"creation_date":1525761641,"post_id":50224366,"comment_id":87471972,"body_markdown":"@tgdavies Agreed but that&#39;s a completely different story. I am sure `@RunWith(MockitoJUnitRunner.class)` will work.\n\n@Luay - @SpringBootTest is not working either.","body":"@tgdavies Agreed but that&#39;s a completely different story. I am sure <code>@RunWith(MockitoJUnitRunner.class)</code> will work.  @Luay - @SpringBootTest is not working either."}],"answers":[{"tags":[],"owner":{"account_id":3748322,"reputation":463,"user_id":3116461,"display_name":"vsk.rahul"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1525763713,"creation_date":1525763713,"answer_id":50227965,"question_id":50224366,"body_markdown":"I figured it out. But the solution is still weird to me...\r\n\r\nI was facing this issue because, I was instantiating the `request` and `response` in `@Before` annotated method... as describing below.\r\n\r\n        @Before\r\n    public void setup() {\r\n    \tRequest reqA = new Request();\r\n    \treqA.set..(..);\r\n    \r\n    \tResponse res = new Response();\r\n    \tres.set..(..);\r\n    \r\n    \tMockito.when(this.respository.post(reqA)).thenReturn(res);\r\n    }\r\n    \r\n    @Test\r\n    public void test() {\r\n    \t\r\n    \t// Creating Request instance again with all same properties. \r\n    \t// Such that this req instance is technically similarly as instantiated in @Before annotated method (above). \r\n    \t// By, implementing the equals and hashCode method.\r\n    \tRequest reqB = new Request();\r\n    \treqB.set..(..);\r\n    \r\n    \t// Getting res as &#39;null&#39; here....\r\n    \tResponse res = this.service.post(reqB);\r\n    }\r\n\r\n\r\nSince, `reqA` and `reqB` are technically similar then why mocked call not returning the same response as registered.\r\n\r\nIf I moved `setup()` method code inside `test()` method every thing starts working !!!!!","title":"Spring boot mocked object returning null on call","body":"<p>I figured it out. But the solution is still weird to me...</p>\n\n<p>I was facing this issue because, I was instantiating the <code>request</code> and <code>response</code> in <code>@Before</code> annotated method... as describing below.</p>\n\n<pre><code>    @Before\npublic void setup() {\n    Request reqA = new Request();\n    reqA.set..(..);\n\n    Response res = new Response();\n    res.set..(..);\n\n    Mockito.when(this.respository.post(reqA)).thenReturn(res);\n}\n\n@Test\npublic void test() {\n\n    // Creating Request instance again with all same properties. \n    // Such that this req instance is technically similarly as instantiated in @Before annotated method (above). \n    // By, implementing the equals and hashCode method.\n    Request reqB = new Request();\n    reqB.set..(..);\n\n    // Getting res as 'null' here....\n    Response res = this.service.post(reqB);\n}\n</code></pre>\n\n<p>Since, <code>reqA</code> and <code>reqB</code> are technically similar then why mocked call not returning the same response as registered.</p>\n\n<p>If I moved <code>setup()</code> method code inside <code>test()</code> method every thing starts working !!!!!</p>\n"},{"tags":[],"owner":{"account_id":4920519,"reputation":563,"user_id":3963197,"display_name":"farukcankaya"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1636535100,"creation_date":1526719244,"answer_id":50423407,"question_id":50224366,"body_markdown":"I faced similar situation, the problem is given parameter in `Mockito.when()` block may not be the same as spring generated. I&#39;ll explain my case below, hope to help you:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n    Product product = new Product(..);\r\n    Mockito.when(service.addProduct(product)).thenReturn(saveProduct)\r\n\r\nWhen I send a request, spring generates new Project object which has same fields with `product` but instance is different. That is, Mockito cannot catch `when` statement. I changed it like below and it&#39;s worked:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n    Mockito.when(service.addProduct(Mockito.any())).thenReturn(savedProduct)\r\n\r\n","title":"Spring boot mocked object returning null on call","body":"<p>I faced similar situation, the problem is given parameter in <code>Mockito.when()</code> block may not be the same as spring generated. I'll explain my case below, hope to help you:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Product product = new Product(..);\nMockito.when(service.addProduct(product)).thenReturn(saveProduct)\n</code></pre>\n<p>When I send a request, spring generates new Project object which has same fields with <code>product</code> but instance is different. That is, Mockito cannot catch <code>when</code> statement. I changed it like below and it's worked:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mockito.when(service.addProduct(Mockito.any())).thenReturn(savedProduct)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16924420,"reputation":1,"user_id":12240421,"display_name":"Gustavo Yamaguchi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1582130661,"creation_date":1582130661,"answer_id":60305257,"question_id":50224366,"body_markdown":"I had the same issue here, vsk.rahul&#39;s comment helped me a lot.  \r\nI was trying to to use a method to return a mock interaction, but not succeeded, turning it into a **static method** gave me the expected behavior.\r\n\r\n**Problem**:  \r\nThe method `bar.foo()` was returning `null` for any interaction\r\n\r\n    public void test1() {\r\n        doReturn(mockReturn()).when(bar).foo();\r\n    }\r\n    \r\n    private String mockReturn() {\r\n        return &quot;abc&quot;;\r\n    }\r\n\r\n**Solution**:  \r\nThe method `bar.foo()` is returning `abc` String for any interaction\r\n\r\n    public void test1() {\r\n        doReturn(mockReturn()).when(bar).foo();\r\n    }\r\n    \r\n    private static String mockReturn() {\r\n        return &quot;abc&quot;;\r\n    }\r\n\r\n","title":"Spring boot mocked object returning null on call","body":"<p>I had the same issue here, vsk.rahul's comment helped me a lot.<br>\nI was trying to to use a method to return a mock interaction, but not succeeded, turning it into a <strong>static method</strong> gave me the expected behavior.</p>\n\n<p><strong>Problem</strong>:<br>\nThe method <code>bar.foo()</code> was returning <code>null</code> for any interaction</p>\n\n<pre><code>public void test1() {\n    doReturn(mockReturn()).when(bar).foo();\n}\n\nprivate String mockReturn() {\n    return \"abc\";\n}\n</code></pre>\n\n<p><strong>Solution</strong>:<br>\nThe method <code>bar.foo()</code> is returning <code>abc</code> String for any interaction</p>\n\n<pre><code>public void test1() {\n    doReturn(mockReturn()).when(bar).foo();\n}\n\nprivate static String mockReturn() {\n    return \"abc\";\n}\n</code></pre>\n"}],"owner":{"account_id":3748322,"reputation":463,"user_id":3116461,"display_name":"vsk.rahul"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10932,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1636535100,"creation_date":1525741228,"question_id":50224366,"body_markdown":"I am using `@RunWith(SpringRunner.class)` to writing unit test case to mock the object. I am trying to mock the repository instance which is accepting request object and returning response, but in unit test case implementation I have mocked the repository using `@MockBean` annotation and register the it&#39;s method call using `Mockito.when(respository.post(request)).thenReturn(response)`. But this call is returning `null`.","title":"Spring boot mocked object returning null on call","body":"<p>I am using <code>@RunWith(SpringRunner.class)</code> to writing unit test case to mock the object. I am trying to mock the repository instance which is accepting request object and returning response, but in unit test case implementation I have mocked the repository using <code>@MockBean</code> annotation and register the it's method call using <code>Mockito.when(respository.post(request)).thenReturn(response)</code>. But this call is returning <code>null</code>.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":10164387,"reputation":4961,"user_id":7506820,"display_name":"Nico Van Belle"},"score":0,"creation_date":1636535397,"post_id":69910402,"comment_id":123580216,"body_markdown":"At the very least you could run everything in a transaction so that you don&#39;t have to re-connect for every db statement.","body":"At the very least you could run everything in a transaction so that you don&#39;t have to re-connect for every db statement."},{"owner":{"account_id":2978820,"reputation":1757,"user_id":2529284,"display_name":"GiorgosDev"},"score":0,"creation_date":1636535400,"post_id":69910402,"comment_id":123580218,"body_markdown":"you could wrap updateTrackProfileIdMapping in a Runnable and then use Thgread Pool to process it concurrently","body":"you could wrap updateTrackProfileIdMapping in a Runnable and then use Thgread Pool to process it concurrently"}],"owner":{"account_id":7750108,"reputation":1287,"user_id":5866297,"accept_rate":25,"display_name":"Coding_Rabbit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636535073,"creation_date":1636535073,"question_id":69910402,"body_markdown":"I&#39;m using Azure Table Storage to store around a million records of mappings information, e.g. &lt;trackId, profileId&gt;. Those mapping information should be updated monthly by sending a query to an API endpoint. I wrote the following codes to do a simply check for each record and update the record stored in the storage.\r\n\r\n\r\n    public void updateTrackProfileIdMappings() {\r\n        List&lt;TrackProfileIdMapping&gt; mappings = trackProfileIdMappingRepository.getAllMappings();\r\n\r\n        logger.info(&quot;Start updating TrackProfileIdMappings. {} mappings will be checked.&quot;, mappings.size());\r\n        Stopwatch stopwatch = Stopwatch.createStarted();\r\n        int count = 0;\r\n        for (TrackProfileIdMapping mapping : mappings) {\r\n            String trackId = mapping.getTrackId();\r\n            count = updateTrackProfileIdMapping(trackId, count);\r\n\r\n            if(countTrackProfileIdMappingUpdate % 10000 == 0) {\r\n                logger.info(&quot;Updating TrackProfileIdMappings: {} out of {} mappings have been checked and updated.&quot;, countTrackProfileIdMappingUpdate, mappings.size());\r\n            }\r\n        }\r\n        stopwatch.stop();\r\n\r\n        logger.info(&quot;Finished updating TrackProfileIdMappings. {} mappings have been checked and updated.&quot;, mappings.size());\r\n    }\r\n\r\n\r\n    private int updateTrackProfileIdMapping(String trackId, int count) {\r\n        try {\r\n            String profileId = ApiService.getProfileId(trackId);\r\n            trackProfileIdMappingRepository.insertOrUpdateMapping(trackId, profileId);\r\n            count++;\r\n        } catch (.ApiCallException e) {\r\n            logger.error(&quot;Failed to retrieve profileId for trackId {}&quot;, trackId);\r\n        }\r\n    }\r\n\r\nWhile it took almost 30 minutes to update record 10k records. Is there a way to use multi-thread to increase the performance in Java?","title":"How to increase the performance when updating a large table in Java?","body":"<p>I'm using Azure Table Storage to store around a million records of mappings information, e.g. &lt;trackId, profileId&gt;. Those mapping information should be updated monthly by sending a query to an API endpoint. I wrote the following codes to do a simply check for each record and update the record stored in the storage.</p>\n<pre><code>public void updateTrackProfileIdMappings() {\n    List&lt;TrackProfileIdMapping&gt; mappings = trackProfileIdMappingRepository.getAllMappings();\n\n    logger.info(&quot;Start updating TrackProfileIdMappings. {} mappings will be checked.&quot;, mappings.size());\n    Stopwatch stopwatch = Stopwatch.createStarted();\n    int count = 0;\n    for (TrackProfileIdMapping mapping : mappings) {\n        String trackId = mapping.getTrackId();\n        count = updateTrackProfileIdMapping(trackId, count);\n\n        if(countTrackProfileIdMappingUpdate % 10000 == 0) {\n            logger.info(&quot;Updating TrackProfileIdMappings: {} out of {} mappings have been checked and updated.&quot;, countTrackProfileIdMappingUpdate, mappings.size());\n        }\n    }\n    stopwatch.stop();\n\n    logger.info(&quot;Finished updating TrackProfileIdMappings. {} mappings have been checked and updated.&quot;, mappings.size());\n}\n\n\nprivate int updateTrackProfileIdMapping(String trackId, int count) {\n    try {\n        String profileId = ApiService.getProfileId(trackId);\n        trackProfileIdMappingRepository.insertOrUpdateMapping(trackId, profileId);\n        count++;\n    } catch (.ApiCallException e) {\n        logger.error(&quot;Failed to retrieve profileId for trackId {}&quot;, trackId);\n    }\n}\n</code></pre>\n<p>While it took almost 30 minutes to update record 10k records. Is there a way to use multi-thread to increase the performance in Java?</p>\n"},{"tags":["java","spring","spring-boot","cloud","service-discovery"],"answers":[{"tags":[],"owner":{"account_id":11409938,"reputation":9,"user_id":8364384,"display_name":"Haiyoung"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636534995,"creation_date":1636534995,"answer_id":69910372,"question_id":66732780,"body_markdown":"you can inject you config like:\r\n\r\n    @NacosValue(value = &quot;${spring.application.name}&quot;, autoRefreshed = true)\r\n\tprivate String applicationName;","title":"Java Spring Cloud - How to read a configuration in Nacos?","body":"<p>you can inject you config like:</p>\n<pre><code>@NacosValue(value = &quot;${spring.application.name}&quot;, autoRefreshed = true)\nprivate String applicationName;\n</code></pre>\n"}],"owner":{"account_id":11331822,"reputation":1937,"user_id":8309113,"display_name":"Liki Crus"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636534995,"creation_date":1616332673,"question_id":66732780,"body_markdown":"I am going to read a configuration in Nacos in my controller.\r\nOn Windows, I can read it correctly, but not on Linux.\r\nI need this to implement REST APIs for file uploading and downloading with Java Spring Cloud. I did get it on windows perfectly. But it doesn&#39;t work at all on Linux. \r\n\r\nHere is the detail.\r\n\r\n**JDK: 1.8**\r\n\r\n**pom.xml**\r\n\r\n```\r\n&lt;spring.boot.version&gt;2.2.11.RELEASE&lt;/spring.boot.version&gt;\r\n&lt;spring.plugin.version&gt;2.2.0.RELEASE&lt;/spring.plugin.version&gt;\r\n&lt;spring.cloud.version&gt;Hoxton.SR8&lt;/spring.cloud.version&gt;\r\n```\r\n\r\n\r\n``` \r\n@Slf4j\r\n@RestController\r\n@AllArgsConstructor\r\n@RequestMapping(&quot;/media-file&quot;)\r\n@Api(value = &quot;File Upload&quot;, tags = &quot;&quot;)\r\npublic class MediaFileController extends BladeController {\r\n\tpublic static final String MEDIA_FILE_TYPE_BOND_PRICE = &quot;bondPrice&quot;;\r\n\r\n\t@Autowired\r\n\tpublic Environment env;\r\n\r\n    @PostMapping(&quot;upload&quot;)\r\n\t@ApiOperationSupport(order = 12)\r\n\t@ApiOperation(value = &quot;Upload&quot;, notes = &quot;Import excel&quot;)\r\n\tpublic R upload(MultipartFile file, @ApiParam(value = &quot;文件类型&quot;, required = true) @RequestParam \r\n    String type, @RequestParam Map&lt;String, Object&gt; data) {\r\n\r\n        log.info(&quot;===&gt; &quot; + this.env.getProperty(&quot;spring.servlet.multipart.file-size-threshold&quot;));\r\n    }\r\n}\r\n```\r\n\r\n**Problem:** \r\n\r\nI can read the exact value ```this.env.getProperty(&quot;spring.servlet.multipart.file-size-threshold&quot;) ```on windows.\r\nBut I couldn&#39;t read it on Linux.\r\nI&#39;d like to know how I can access narcos configuration.\r\n\r\nAdditionally, file uploading doesn&#39;t work on Linux at all. Is there any specific configuration or permission setting?\r\n\r\nThanks in advance!\r\n\r\n\r\n","title":"Java Spring Cloud - How to read a configuration in Nacos?","body":"<p>I am going to read a configuration in Nacos in my controller.\nOn Windows, I can read it correctly, but not on Linux.\nI need this to implement REST APIs for file uploading and downloading with Java Spring Cloud. I did get it on windows perfectly. But it doesn't work at all on Linux.</p>\n<p>Here is the detail.</p>\n<p><strong>JDK: 1.8</strong></p>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;spring.boot.version&gt;2.2.11.RELEASE&lt;/spring.boot.version&gt;\n&lt;spring.plugin.version&gt;2.2.0.RELEASE&lt;/spring.plugin.version&gt;\n&lt;spring.cloud.version&gt;Hoxton.SR8&lt;/spring.cloud.version&gt;\n</code></pre>\n<pre><code>@Slf4j\n@RestController\n@AllArgsConstructor\n@RequestMapping(&quot;/media-file&quot;)\n@Api(value = &quot;File Upload&quot;, tags = &quot;&quot;)\npublic class MediaFileController extends BladeController {\n    public static final String MEDIA_FILE_TYPE_BOND_PRICE = &quot;bondPrice&quot;;\n\n    @Autowired\n    public Environment env;\n\n    @PostMapping(&quot;upload&quot;)\n    @ApiOperationSupport(order = 12)\n    @ApiOperation(value = &quot;Upload&quot;, notes = &quot;Import excel&quot;)\n    public R upload(MultipartFile file, @ApiParam(value = &quot;文件类型&quot;, required = true) @RequestParam \n    String type, @RequestParam Map&lt;String, Object&gt; data) {\n\n        log.info(&quot;===&gt; &quot; + this.env.getProperty(&quot;spring.servlet.multipart.file-size-threshold&quot;));\n    }\n}\n</code></pre>\n<p><strong>Problem:</strong></p>\n<p>I can read the exact value <code>this.env.getProperty(&quot;spring.servlet.multipart.file-size-threshold&quot;) </code>on windows.\nBut I couldn't read it on Linux.\nI'd like to know how I can access narcos configuration.</p>\n<p>Additionally, file uploading doesn't work on Linux at all. Is there any specific configuration or permission setting?</p>\n<p>Thanks in advance!</p>\n"},{"tags":["java","azure","docker"],"comments":[{"owner":{"account_id":417729,"reputation":6909,"user_id":793891,"display_name":"CSharpRocks"},"score":3,"creation_date":1636453768,"post_id":69894668,"comment_id":123555216,"body_markdown":"There&#39;s no such thing as a &quot;docker environment on azure&quot; or &quot;azure environment&quot;. Do you mean &quot;virtual machine&quot;?","body":"There&#39;s no such thing as a &quot;docker environment on azure&quot; or &quot;azure environment&quot;. Do you mean &quot;virtual machine&quot;?"},{"owner":{"account_id":23159741,"reputation":13,"user_id":17260541,"display_name":"Yoshihide Suga"},"score":0,"creation_date":1636534891,"post_id":69894668,"comment_id":123580040,"body_markdown":"hi i fixed it myself by adding the following scripts to my docker file:RUN \napt-get -y update\nRUN apt-get -y install apt-utils\nRUN mkdir -p /usr/share/man/man1\nRUN DEBIAN_FRONTEND=noninteractive apt-get -y install openjdk-11-jdk-headless","body":"hi i fixed it myself by adding the following scripts to my docker file:RUN  apt-get -y update RUN apt-get -y install apt-utils RUN mkdir -p /usr/share/man/man1 RUN DEBIAN_FRONTEND=noninteractive apt-get -y install openjdk-11-jdk-headless"}],"owner":{"account_id":23159741,"reputation":13,"user_id":17260541,"display_name":"Yoshihide Suga"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1636466729,"answer_count":0,"score":1,"last_activity_date":1636534981,"creation_date":1636445072,"question_id":69894668,"body_markdown":"my boss gave me a docker environment on azure.\r\ni need to use java but my azure environment does not have it.\r\nso i requested my boss to change the azure environemnt to another one which is available for java.\r\nbut my boss said that its impossible. so that i need to install java to the current environment.\r\n\r\ni tried to install java by adding the following statement to my docker file.\r\n\r\n    RUN apt-get update  -y \\\r\n      &amp;&amp; apt-get install -y default-jdk\r\n\r\nbut the following errors have been shown.\r\n\r\n    The command &#39;/bin/sh -c apt-get update  -y   &amp;&amp; apt-get install -y default-jdk&#39; returned a non-zero code: 100\r\n    ##[error]The command &#39;/bin/sh -c apt-get update  -y   &amp;&amp; apt-get install -y default-jdk&#39; returned a non-zero code: 100\r\n    ##[error]The process &#39;/usr/bin/docker&#39; failed with exit code 100 Finishing: Build and push an image to container registry\r\n\r\nmy source.list is the following:\r\n\r\n&gt; deb http://deb.debian.org/debian buster main\r\n&gt; \r\n&gt; deb http://security.debian.org/debian-security buster/updates main\r\n&gt; \r\n&gt; deb http://deb.debian.org/debian buster-updates main\r\n\r\n\r\nhow can i resolve the problem?\r\n\r\n----\r\noh no, i fixed it myselef by adding the following scripts to my docker file.\r\n\r\n\r\n    RUN apt-get -y update\r\n    RUN apt-get -y install apt-utils\r\n    RUN mkdir -p /usr/share/man/man1\r\n    RUN DEBIAN_FRONTEND=noninteractive apt-get -y install openjdk-11-jdk-headless","title":"how to install java into azure docker environment?","body":"<p>my boss gave me a docker environment on azure.\ni need to use java but my azure environment does not have it.\nso i requested my boss to change the azure environemnt to another one which is available for java.\nbut my boss said that its impossible. so that i need to install java to the current environment.</p>\n<p>i tried to install java by adding the following statement to my docker file.</p>\n<pre><code>RUN apt-get update  -y \\\n  &amp;&amp; apt-get install -y default-jdk\n</code></pre>\n<p>but the following errors have been shown.</p>\n<pre><code>The command '/bin/sh -c apt-get update  -y   &amp;&amp; apt-get install -y default-jdk' returned a non-zero code: 100\n##[error]The command '/bin/sh -c apt-get update  -y   &amp;&amp; apt-get install -y default-jdk' returned a non-zero code: 100\n##[error]The process '/usr/bin/docker' failed with exit code 100 Finishing: Build and push an image to container registry\n</code></pre>\n<p>my source.list is the following:</p>\n<blockquote>\n<p>deb <a href=\"http://deb.debian.org/debian\" rel=\"nofollow noreferrer\">http://deb.debian.org/debian</a> buster main</p>\n<p>deb <a href=\"http://security.debian.org/debian-security\" rel=\"nofollow noreferrer\">http://security.debian.org/debian-security</a> buster/updates main</p>\n<p>deb <a href=\"http://deb.debian.org/debian\" rel=\"nofollow noreferrer\">http://deb.debian.org/debian</a> buster-updates main</p>\n</blockquote>\n<p>how can i resolve the problem?</p>\n<hr />\n<p>oh no, i fixed it myselef by adding the following scripts to my docker file.</p>\n<pre><code>RUN apt-get -y update\nRUN apt-get -y install apt-utils\nRUN mkdir -p /usr/share/man/man1\nRUN DEBIAN_FRONTEND=noninteractive apt-get -y install openjdk-11-jdk-headless\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":1347103,"reputation":63,"user_id":1287627,"accept_rate":20,"display_name":"umesh"},"score":0,"creation_date":1636441420,"post_id":69893904,"comment_id":123550692,"body_markdown":"Please share the crash log. It will help to identify the problem","body":"Please share the crash log. It will help to identify the problem"},{"owner":{"account_id":16328205,"reputation":31,"user_id":17363964,"display_name":"Chanuka Jayamal"},"score":0,"creation_date":1636441490,"post_id":69893904,"comment_id":123550714,"body_markdown":"hii , pls can you tell me how to find the crash log? Thank you for ur help","body":"hii , pls can you tell me how to find the crash log? Thank you for ur help"},{"owner":{"account_id":22710188,"reputation":126,"user_id":16876259,"display_name":"Damian Piszka"},"score":0,"creation_date":1636442585,"post_id":69893904,"comment_id":123551070,"body_markdown":"How to analyze stack trace: https://developer.android.com/studio/debug/stacktraces","body":"How to analyze stack trace: <a href=\"https://developer.android.com/studio/debug/stacktraces\" rel=\"nofollow noreferrer\">developer.android.com/studio/debug/stacktraces</a>"},{"owner":{"account_id":16328205,"reputation":31,"user_id":17363964,"display_name":"Chanuka Jayamal"},"score":0,"creation_date":1636444294,"post_id":69893904,"comment_id":123551656,"body_markdown":"I edit the question and attach the logcat error pls help me guys...","body":"I edit the question and attach the logcat error pls help me guys..."},{"owner":{"account_id":15180977,"reputation":1256,"user_id":10954249,"display_name":"DeePanShu"},"score":0,"creation_date":1636444614,"post_id":69893904,"comment_id":123551755,"body_markdown":"add inputType=&quot;number&quot; in edittext: age, grade or distance, so its take numbers only","body":"add inputType=&quot;number&quot; in edittext: age, grade or distance, so its take numbers only"},{"owner":{"account_id":6023206,"reputation":7990,"user_id":4729721,"display_name":"a_local_nobody"},"score":0,"creation_date":1636445611,"post_id":69893904,"comment_id":123552079,"body_markdown":"`java.lang.NumberFormatException: For input string: &quot;stephen&quot;`","body":"<code>java.lang.NumberFormatException: For input string: &quot;stephen&quot;</code>"},{"owner":{"account_id":20231096,"reputation":344,"user_id":14837619,"display_name":"Yechiel babani"},"score":0,"creation_date":1636448035,"post_id":69893904,"comment_id":123552919,"body_markdown":"Your&#39;e trying to make stephan as double ... and it&#39;s imposible","body":"Your&#39;e trying to make stephan as double ... and it&#39;s imposible"}],"answers":[{"tags":[],"owner":{"account_id":14474123,"reputation":1147,"user_id":12469165,"display_name":"Amit pandey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636534823,"creation_date":1636445245,"answer_id":69894707,"question_id":69893904,"body_markdown":"```\r\nstudent1.distance = Double.parseDouble(editName.getText().toString());\r\n```\r\n\r\nYou are using ```editName``` for getting distance grade and address. Please, change them according to your needs. ","title":"click button crashing when click android studio","body":"<pre><code>student1.distance = Double.parseDouble(editName.getText().toString());\n</code></pre>\n<p>You are using <code>editName</code> for getting distance grade and address. Please, change them according to your needs.</p>\n"},{"tags":[],"owner":{"account_id":15284082,"reputation":1,"user_id":11027593,"display_name":"Nicholas Anyanwu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636452532,"creation_date":1636452532,"answer_id":69896265,"question_id":69893904,"body_markdown":"&gt; Looking at your Locat message, it seems you&#39;re saving the String name in an Integer variable, kindly look at your codebase to see if you&#39;re making that mistake, if so reassign the name variable to a string variable.","title":"click button crashing when click android studio","body":"<blockquote>\n<p>Looking at your Locat message, it seems you're saving the String name in an Integer variable, kindly look at your codebase to see if you're making that mistake, if so reassign the name variable to a string variable.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":18034455,"reputation":87,"user_id":13108216,"display_name":"zon1k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636453502,"creation_date":1636453502,"answer_id":69896470,"question_id":69893904,"body_markdown":"You are using wrong editText for grade and distance.\r\n\r\nyour code:\r\n\r\n    student1.grade = Integer.parseInt(editName.getText().toString());\r\n\r\nchange **editName** to **editGrade** :\r\n\r\n    student1.grade = Integer.parseInt(editGrade.getText().toString());\r\n\r\n\r\naswell for:\r\n\r\n    student1.distance = Double.parseDouble(editName.getText().toString());\r\n\r\nchange **editName** to **editDistance**:\r\n\r\n    student1.distance = Double.parseDouble(editDistance.getText().toString());\r\n\r\n\r\n","title":"click button crashing when click android studio","body":"<p>You are using wrong editText for grade and distance.</p>\n<p>your code:</p>\n<pre><code>student1.grade = Integer.parseInt(editName.getText().toString());\n</code></pre>\n<p>change <strong>editName</strong> to <strong>editGrade</strong> :</p>\n<pre><code>student1.grade = Integer.parseInt(editGrade.getText().toString());\n</code></pre>\n<p>aswell for:</p>\n<pre><code>student1.distance = Double.parseDouble(editName.getText().toString());\n</code></pre>\n<p>change <strong>editName</strong> to <strong>editDistance</strong>:</p>\n<pre><code>student1.distance = Double.parseDouble(editDistance.getText().toString());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17489603,"reputation":13,"user_id":12682013,"display_name":"Abhishek Tulse"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636464931,"creation_date":1636464931,"answer_id":69899127,"question_id":69893904,"body_markdown":"Your code\r\n\r\n    student1.grade = Integer.parseInt( editName.getText().toString());\r\n    student1.distance = Double.parseDouble( editName.getText().toString());\r\n\r\nExpected code\r\n\r\n    student1.grade = Integer.parseInt( editGrade.getText().toString());\r\n    student1.distance = Double.parseDouble( editDistance.getText().toString());\r\n\r\nYour are trying to parse string to integer `Integer.parseInt( editName.getText().toString())`. It won&#39;t work for non numbers input.","title":"click button crashing when click android studio","body":"<p>Your code</p>\n<pre><code>student1.grade = Integer.parseInt( editName.getText().toString());\nstudent1.distance = Double.parseDouble( editName.getText().toString());\n</code></pre>\n<p>Expected code</p>\n<pre><code>student1.grade = Integer.parseInt( editGrade.getText().toString());\nstudent1.distance = Double.parseDouble( editDistance.getText().toString());\n</code></pre>\n<p>Your are trying to parse string to integer <code>Integer.parseInt( editName.getText().toString())</code>. It won't work for non numbers input.</p>\n"}],"owner":{"account_id":16328205,"reputation":31,"user_id":17363964,"display_name":"Chanuka Jayamal"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":4,"score":2,"last_activity_date":1636534823,"creation_date":1636440672,"question_id":69893904,"body_markdown":"I am trying to make a form that includes students details and again show that detail in text views. When the user types the details in edit texts save them into the model class then show them again in text views. first, I have created a model class to save variables of students.\r\n\r\nLogcat:\r\n\r\n    2021-11-09 13:12:47.784 30040-30040/com.example.studentapp E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.studentapp, PID: 30040\r\n    java.lang.NumberFormatException: For input string: &quot;stephen&quot;\r\n        at java.lang.Integer.parseInt(Integer.java:608)\r\n        at java.lang.Integer.parseInt(Integer.java:643)\r\n        at com.example.studentapp.MainActivity$1.onClick(MainActivity.java:52)\r\n        at android.view.View.performClick(View.java:6291)\r\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)\r\n        at android.view.View$PerformClick.run(View.java:24931)\r\n        at android.os.Handler.handleCallback(Handler.java:808)\r\n        at android.os.Handler.dispatchMessage(Handler.java:101)\r\n        at android.os.Looper.loop(Looper.java:166)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7529)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:245)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:921)\r\n\r\nXML file:\r\n```XML\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    tools:context=&quot;.MainActivity&quot;&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/edit_name&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:hint=&quot;@string/name&quot;\r\n\r\n        android:autofillHints=&quot;&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/edit_age&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:hint=&quot;Age&quot;\r\n\r\n        android:autofillHints=&quot;&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/edit_grade&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:hint=&quot;Grade&quot;\r\n\r\n        android:autofillHints=&quot;&quot; /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/edit_address&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:hint=&quot;Address&quot;\r\n\r\n         /&gt;\r\n\r\n    &lt;EditText\r\n        android:id=&quot;@+id/edit_distance&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:hint=&quot;Distance&quot;\r\n\r\n         /&gt;\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_marginTop=&quot;50dp&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/txtName&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n\r\n            android:paddingTop=&quot;10dp&quot;\r\n            android:paddingBottom=&quot;10dp&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/txtAge&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n\r\n            android:paddingTop=&quot;10dp&quot;\r\n            android:paddingBottom=&quot;10dp&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/txtGrade&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n\r\n            android:paddingTop=&quot;10dp&quot;\r\n            android:paddingBottom=&quot;10dp&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/txtAddress&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n\r\n            android:paddingTop=&quot;10dp&quot;\r\n            android:paddingBottom=&quot;10dp&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/txtDistance&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n\r\n            android:paddingTop=&quot;10dp&quot;\r\n            android:paddingBottom=&quot;10dp&quot; /&gt;\r\n        \r\n        &lt;Button\r\n            android:text=&quot;View&quot;\r\n            \r\n            android:id=&quot;@+id/btnView&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n             /&gt;\r\n\r\n        \r\n    &lt;/LinearLayout&gt;\r\n\r\n&lt;/LinearLayout&gt;\r\n```\r\n\r\nModel class:\r\n```java\r\npackage com.example.studentapp;\r\n   public class Student {\r\n   public String name = &quot;&quot;;\r\n   public int age = 0;\r\n   public int grade = 0;\r\n   public String address = &quot;&quot;;\r\n   public double distance = 0;\r\n}\r\n```\r\n\r\nThis is .java file: \r\n```java\r\npackage com.example.studentapp;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\nimport android.os.Bundle;\r\nimport android.view.View;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\npublic class MainActivity extends AppCompatActivity {\r\n\r\nButton buttonView;\r\nEditText editName;\r\nEditText editAge;\r\nEditText editGrade;\r\nEditText editAddress;\r\nEditText editDistance;\r\n\r\nTextView textName, textAge, textGrade, textAddress, textDistance;\r\n\r\n@Override\r\nprotected void onCreate(Bundle savedInstanceState) {\r\n    super.onCreate(savedInstanceState);\r\n    setContentView(R.layout.activity_main);\r\n\r\n    editName = findViewById(R.id.edit_name);\r\n    editAge = findViewById(R.id.edit_age);\r\n    editGrade = findViewById(R.id.edit_grade);\r\n    editAddress = findViewById(R.id.edit_address);\r\n    editDistance = findViewById(R.id.edit_distance);\r\n\r\n    textName = findViewById(R.id.txtName);\r\n    textAge = findViewById(R.id.txtAge);\r\n    textGrade = findViewById(R.id.txtGrade);\r\n    textAddress = findViewById(R.id.txtAddress);\r\n    textDistance = findViewById(R.id.txtDistance);\r\n\r\n    buttonView = findViewById(R.id.btnView);\r\n\r\n    buttonView.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View v) {\r\n\r\n            Student student1 = new Student();\r\n            student1.name = editName.getText().toString();\r\n            student1.age = Integer.parseInt(editAge.getText().toString());\r\n            student1.grade = Integer.parseInt( editName.getText().toString());\r\n            student1.address = editName.getText().toString();\r\n            student1.distance = Double.parseDouble( editName.getText().toString());\r\n\r\n            textName.setText(student1.name);\r\n            textAge.setText(&quot;&quot;+student1.age);\r\n            textGrade.setText(student1.grade+&quot; Years&quot;);\r\n            textAddress.setText(student1.address);\r\n            textDistance.setText(student1.distance+&quot;km&quot;);\r\n\r\n        }\r\n    });\r\n  }\r\n}\r\n```\r\nPlease, bear in mind that I am a very beginner at android development.\r\n    ","title":"click button crashing when click android studio","body":"<p>I am trying to make a form that includes students details and again show that detail in text views. When the user types the details in edit texts save them into the model class then show them again in text views. first, I have created a model class to save variables of students.</p>\n<p>Logcat:</p>\n<pre><code>2021-11-09 13:12:47.784 30040-30040/com.example.studentapp E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.studentapp, PID: 30040\njava.lang.NumberFormatException: For input string: &quot;stephen&quot;\n    at java.lang.Integer.parseInt(Integer.java:608)\n    at java.lang.Integer.parseInt(Integer.java:643)\n    at com.example.studentapp.MainActivity$1.onClick(MainActivity.java:52)\n    at android.view.View.performClick(View.java:6291)\n    at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)\n    at android.view.View$PerformClick.run(View.java:24931)\n    at android.os.Handler.handleCallback(Handler.java:808)\n    at android.os.Handler.dispatchMessage(Handler.java:101)\n    at android.os.Looper.loop(Looper.java:166)\n    at android.app.ActivityThread.main(ActivityThread.java:7529)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:245)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:921)\n</code></pre>\n<p>XML file:</p>\n<pre><code>    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:orientation=&quot;vertical&quot;\n    tools:context=&quot;.MainActivity&quot;&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/edit_name&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;@string/name&quot;\n\n        android:autofillHints=&quot;&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/edit_age&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Age&quot;\n\n        android:autofillHints=&quot;&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/edit_grade&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Grade&quot;\n\n        android:autofillHints=&quot;&quot; /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/edit_address&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Address&quot;\n\n         /&gt;\n\n    &lt;EditText\n        android:id=&quot;@+id/edit_distance&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:hint=&quot;Distance&quot;\n\n         /&gt;\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:layout_marginTop=&quot;50dp&quot;\n        android:orientation=&quot;vertical&quot;&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/txtName&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n\n            android:paddingTop=&quot;10dp&quot;\n            android:paddingBottom=&quot;10dp&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/txtAge&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n\n            android:paddingTop=&quot;10dp&quot;\n            android:paddingBottom=&quot;10dp&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/txtGrade&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n\n            android:paddingTop=&quot;10dp&quot;\n            android:paddingBottom=&quot;10dp&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/txtAddress&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n\n            android:paddingTop=&quot;10dp&quot;\n            android:paddingBottom=&quot;10dp&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/txtDistance&quot;\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n\n            android:paddingTop=&quot;10dp&quot;\n            android:paddingBottom=&quot;10dp&quot; /&gt;\n        \n        &lt;Button\n            android:text=&quot;View&quot;\n            \n            android:id=&quot;@+id/btnView&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n             /&gt;\n\n        \n    &lt;/LinearLayout&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>Model class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.studentapp;\n   public class Student {\n   public String name = &quot;&quot;;\n   public int age = 0;\n   public int grade = 0;\n   public String address = &quot;&quot;;\n   public double distance = 0;\n}\n</code></pre>\n<p>This is .java file:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.studentapp;\nimport androidx.appcompat.app.AppCompatActivity;\nimport android.os.Bundle;\nimport android.view.View;\nimport android.widget.Button;\nimport android.widget.EditText;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\npublic class MainActivity extends AppCompatActivity {\n\nButton buttonView;\nEditText editName;\nEditText editAge;\nEditText editGrade;\nEditText editAddress;\nEditText editDistance;\n\nTextView textName, textAge, textGrade, textAddress, textDistance;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    editName = findViewById(R.id.edit_name);\n    editAge = findViewById(R.id.edit_age);\n    editGrade = findViewById(R.id.edit_grade);\n    editAddress = findViewById(R.id.edit_address);\n    editDistance = findViewById(R.id.edit_distance);\n\n    textName = findViewById(R.id.txtName);\n    textAge = findViewById(R.id.txtAge);\n    textGrade = findViewById(R.id.txtGrade);\n    textAddress = findViewById(R.id.txtAddress);\n    textDistance = findViewById(R.id.txtDistance);\n\n    buttonView = findViewById(R.id.btnView);\n\n    buttonView.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n\n            Student student1 = new Student();\n            student1.name = editName.getText().toString();\n            student1.age = Integer.parseInt(editAge.getText().toString());\n            student1.grade = Integer.parseInt( editName.getText().toString());\n            student1.address = editName.getText().toString();\n            student1.distance = Double.parseDouble( editName.getText().toString());\n\n            textName.setText(student1.name);\n            textAge.setText(&quot;&quot;+student1.age);\n            textGrade.setText(student1.grade+&quot; Years&quot;);\n            textAddress.setText(student1.address);\n            textDistance.setText(student1.distance+&quot;km&quot;);\n\n        }\n    });\n  }\n}\n</code></pre>\n<p>Please, bear in mind that I am a very beginner at android development.</p>\n"},{"tags":["java","android","json","kotlin","moshi"],"comments":[{"owner":{"account_id":13774089,"reputation":2593,"user_id":9940820,"display_name":"AlexT"},"score":0,"creation_date":1636534050,"post_id":69910119,"comment_id":123579725,"body_markdown":"what should the boolean be if the given value is null? Should it be null or false?","body":"what should the boolean be if the given value is null? Should it be null or false?"}],"answers":[{"tags":[],"owner":{"account_id":13774089,"reputation":2593,"user_id":9940820,"display_name":"AlexT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636534518,"creation_date":1636534518,"answer_id":69910274,"question_id":69910119,"body_markdown":"Your `fromJson` does not accept `null` as an input.\r\n\r\nIf you want `null` to become false:\r\n\r\n```\r\nfun fromJson(value: Int?): Boolean {\r\n      return \r\n}\r\n```\r\n\r\nIf you want `null` to stay `null` (you&#39;ll also have to modify the `toJson` fun to accept nulls as well then):\r\n\r\n```\r\nfun fromJson(value: Int?): Boolean? {\r\n\treturn value?.let { it == 1 }\r\n}\r\n```","title":"Moshi fail to deserialize 0, 1 to &quot;Boolean?&quot;","body":"<p>Your <code>fromJson</code> does not accept <code>null</code> as an input.</p>\n<p>If you want <code>null</code> to become false:</p>\n<pre><code>fun fromJson(value: Int?): Boolean {\n      return \n}\n</code></pre>\n<p>If you want <code>null</code> to stay <code>null</code> (you'll also have to modify the <code>toJson</code> fun to accept nulls as well then):</p>\n<pre><code>fun fromJson(value: Int?): Boolean? {\n    return value?.let { it == 1 }\n}\n</code></pre>\n"}],"owner":{"account_id":4288197,"reputation":588,"user_id":3505241,"display_name":"RedSIght"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":668,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636534518,"creation_date":1636533841,"question_id":69910119,"body_markdown":"We try to deserialize JSON field from 0, 1, null to &quot;Boolean?&quot;\r\nAnd we have this customize Annotation:\r\n```\r\n@Retention(AnnotationRetention.RUNTIME)\r\n@JsonQualifier\r\nannotation class BooleanType\r\n\r\nclass BooleanAdapter {\r\n    @FromJson\r\n    @BooleanType\r\n    fun fromJson(value: Int): Boolean {\r\n        return value == 1\r\n    }\r\n\r\n    @ToJson\r\n    fun toJson(@BooleanType value: Boolean): Int {\r\n        return if (value) 1 else 0\r\n    }\r\n}\r\n```\r\n\r\nEverything works fine if the field is 0 or 1. But when it comes to &quot;null&quot;, \r\nit always throw exception\r\n```\r\nNo JsonAdapter for class java.lang.Boolean annotated [@com.pk.data.serialize.BooleanType()]\r\n....\r\n```\r\nHere is the dummy data and unit test \r\n```\r\n@JsonClass(generateAdapter = true)\r\ndata class HaHaData(\r\n    @BooleanType\r\n    @Json(name = &quot;haha&quot;) val haha: Boolean?,\r\n)\r\n\r\n\r\n @Test\r\n    fun parseNullBooleanTest() {\r\n        val moshi = Moshi.Builder()\r\n            .add(BooleanAdapter())\r\n            .build()\r\n        val json = &quot;{\\&quot;haha\\&quot;:1}&quot;\r\n        val jsonWithNull = &quot;{\\&quot;haha\\&quot;:null}&quot;\r\n        val data = HaHaDataJsonAdapter(moshi).fromJson(json)\r\n        val dataWithNull = HaHaDataJsonAdapter(moshi).fromJson(jsonWithNull) // exception thrown\r\n        assert(data?.haha== true)\r\n        assert(dataWithNull?.haha == null)\r\n    }\r\n```","title":"Moshi fail to deserialize 0, 1 to &quot;Boolean?&quot;","body":"<p>We try to deserialize JSON field from 0, 1, null to &quot;Boolean?&quot;\nAnd we have this customize Annotation:</p>\n<pre><code>@Retention(AnnotationRetention.RUNTIME)\n@JsonQualifier\nannotation class BooleanType\n\nclass BooleanAdapter {\n    @FromJson\n    @BooleanType\n    fun fromJson(value: Int): Boolean {\n        return value == 1\n    }\n\n    @ToJson\n    fun toJson(@BooleanType value: Boolean): Int {\n        return if (value) 1 else 0\n    }\n}\n</code></pre>\n<p>Everything works fine if the field is 0 or 1. But when it comes to &quot;null&quot;,\nit always throw exception</p>\n<pre><code>No JsonAdapter for class java.lang.Boolean annotated [@com.pk.data.serialize.BooleanType()]\n....\n</code></pre>\n<p>Here is the dummy data and unit test</p>\n<pre><code>@JsonClass(generateAdapter = true)\ndata class HaHaData(\n    @BooleanType\n    @Json(name = &quot;haha&quot;) val haha: Boolean?,\n)\n\n\n @Test\n    fun parseNullBooleanTest() {\n        val moshi = Moshi.Builder()\n            .add(BooleanAdapter())\n            .build()\n        val json = &quot;{\\&quot;haha\\&quot;:1}&quot;\n        val jsonWithNull = &quot;{\\&quot;haha\\&quot;:null}&quot;\n        val data = HaHaDataJsonAdapter(moshi).fromJson(json)\n        val dataWithNull = HaHaDataJsonAdapter(moshi).fromJson(jsonWithNull) // exception thrown\n        assert(data?.haha== true)\n        assert(dataWithNull?.haha == null)\n    }\n</code></pre>\n"},{"tags":["java","android","rx-java","paging","android-paging-3"],"owner":{"account_id":3192678,"reputation":51,"user_id":2696609,"display_name":"Andrey Cherkasov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1636534145,"creation_date":1636534145,"question_id":69910188,"body_markdown":"I am using a android paging library to display a list of data in a fragment. It works, but when i rotate the screen, the list is loaded again instead of get already loaded data.\r\nI did it for [this][1] article. What is the problem?\r\n\r\nThis is my RxPagingSource\r\n\r\n    \r\n    public Single&lt;LoadResult&lt;Integer, Book&gt;&gt; loadSingle(@NotNull LoadParams&lt;Integer&gt; loadParams) {\r\n        Integer nextPageNumber = loadParams.getKey();\r\n        if (nextPageNumber == null) {\r\n            nextPageNumber = 1;\r\n        }\r\n\r\n        return dataApi.getBooksCatalog(nextPageNumber, new ArrayMap&lt;&gt;(), preferencesHelper.auth())\r\n                .subscribeOn(Schedulers.io())\r\n                .map(this::toLoadResult)\r\n                .onErrorReturn(LoadResult.Error::new);\r\n    }\r\n\r\n    private LoadResult&lt;Integer, Book&gt; toLoadResult(ResponseData&lt;DataList&lt;Book&gt;&gt; response) {\r\n        int currentPage = response.getData().getCurrentPage();\r\n        return new LoadResult.Page&lt;&gt;(\r\n                response.getData().getData(),\r\n                currentPage &gt; 1 ? currentPage - 1 : null,\r\n                response.getData().getData().isEmpty() ? null : currentPage + 1);\r\n    }\r\n\r\n    public Integer getRefreshKey(@NotNull PagingState&lt;Integer, Book&gt; pagingState) {\r\n        Integer anchorPosition = pagingState.getAnchorPosition();\r\n        if (anchorPosition == null) {\r\n            return null;\r\n        }\r\n\r\n        LoadResult.Page&lt;Integer, Book&gt; anchorPage = pagingState.closestPageToPosition(anchorPosition);\r\n        if (anchorPage == null) {\r\n            return null;\r\n        }\r\n\r\n        Integer prevKey = anchorPage.getPrevKey();\r\n        if (prevKey != null) {\r\n            return prevKey + 1;\r\n        }\r\n\r\n        Integer nextKey = anchorPage.getNextKey();\r\n        if (nextKey != null) {\r\n            return nextKey - 1;\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\nI did not understand in which case the getRefreshKey() method should be called.\r\n\r\nPagingDataAdapter&lt;T, V&gt; and DiffUtil.ItemCallback&lt;T&gt; are standard...\r\n\r\nIn My ViewModel\r\n\r\n    @HiltViewModel\r\n    public class BooksViewModel extends BaseDisposablesViewModel {\r\n    \r\n        PagingConfig pagingConfig = new PagingConfig(50, 25, true, 100, 200);\r\n        private final DataApiInterface dataApi;\r\n        private final SharedPreferencesHelper preferencesHelper;\r\n        Flowable&lt;PagingData&lt;Book&gt;&gt; flowable;\r\n    \r\n    \r\n        @Inject\r\n        BooksViewModel(DataApiInterface dataApi, SharedPreferencesHelper preferencesHelper) {\r\n            this.dataApi = dataApi;\r\n            this.preferencesHelper = preferencesHelper;\r\n            init();\r\n        }\r\n    \r\n        private void init() {\r\n            CoroutineScope viewModelScope = ViewModelKt.getViewModelScope(this);\r\n            Pager&lt;Integer, Book&gt; pager = new Pager&lt;&gt;(\r\n                    pagingConfig,\r\n                    () -&gt; new BooksPagingSource(dataApi, preferencesHelper)\r\n            );\r\n    \r\n            flowable = PagingRx.getFlowable(pager);\r\n            PagingRx.cachedIn(flowable, viewModelScope);\r\n        }\r\n    \r\n    }\r\n\r\nAnd my Fragment...\r\n\r\n    @AndroidEntryPoint\r\n    public class BooksFragment extends BaseFragment {\r\n    \r\n        private FragmentBooksBinding binding;\r\n        private final CompositeDisposable disposable = new CompositeDisposable();\r\n        private BooksPagingAdapter pagingAdapter;\r\n    \r\n    \r\n        @Override\r\n        public void onCreate(@Nullable Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            BooksViewModel viewModel = new ViewModelProvider(requireActivity()).get(BooksViewModel.class);\r\n    \r\n            pagingAdapter = new BooksPagingAdapter(new BooksPagingAdapter.BookComparator());\r\n            disposable.add(viewModel.flowable.subscribeOn(Schedulers.io())\r\n                    .observeOn(AndroidSchedulers.mainThread())\r\n                    .subscribe(bookPagingData -&gt; pagingAdapter.submitData(getLifecycle(), bookPagingData)));\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n            binding = FragmentBooksBinding.inflate(inflater, container, false);\r\n            return binding.getRoot();\r\n        }\r\n    \r\n        @Override\r\n        public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n            super.onViewCreated(view, savedInstanceState);\r\n            binding.list.setAdapter(pagingAdapter);\r\n        }\r\n    \r\n        @Override\r\n        public void onDestroy() {\r\n            super.onDestroy();\r\n            disposable.clear();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://developer.android.com/topic/libraries/architecture/paging/v3-paged-data","title":"RecyclerView reload data on activity/frgment re-create(rotate screen)","body":"<p>I am using a android paging library to display a list of data in a fragment. It works, but when i rotate the screen, the list is loaded again instead of get already loaded data.\nI did it for <a href=\"https://developer.android.com/topic/libraries/architecture/paging/v3-paged-data\" rel=\"nofollow noreferrer\">this</a> article. What is the problem?</p>\n<p>This is my RxPagingSource</p>\n<pre><code>public Single&lt;LoadResult&lt;Integer, Book&gt;&gt; loadSingle(@NotNull LoadParams&lt;Integer&gt; loadParams) {\n    Integer nextPageNumber = loadParams.getKey();\n    if (nextPageNumber == null) {\n        nextPageNumber = 1;\n    }\n\n    return dataApi.getBooksCatalog(nextPageNumber, new ArrayMap&lt;&gt;(), preferencesHelper.auth())\n            .subscribeOn(Schedulers.io())\n            .map(this::toLoadResult)\n            .onErrorReturn(LoadResult.Error::new);\n}\n\nprivate LoadResult&lt;Integer, Book&gt; toLoadResult(ResponseData&lt;DataList&lt;Book&gt;&gt; response) {\n    int currentPage = response.getData().getCurrentPage();\n    return new LoadResult.Page&lt;&gt;(\n            response.getData().getData(),\n            currentPage &gt; 1 ? currentPage - 1 : null,\n            response.getData().getData().isEmpty() ? null : currentPage + 1);\n}\n\npublic Integer getRefreshKey(@NotNull PagingState&lt;Integer, Book&gt; pagingState) {\n    Integer anchorPosition = pagingState.getAnchorPosition();\n    if (anchorPosition == null) {\n        return null;\n    }\n\n    LoadResult.Page&lt;Integer, Book&gt; anchorPage = pagingState.closestPageToPosition(anchorPosition);\n    if (anchorPage == null) {\n        return null;\n    }\n\n    Integer prevKey = anchorPage.getPrevKey();\n    if (prevKey != null) {\n        return prevKey + 1;\n    }\n\n    Integer nextKey = anchorPage.getNextKey();\n    if (nextKey != null) {\n        return nextKey - 1;\n    }\n\n    return null;\n}\n</code></pre>\n<p>I did not understand in which case the getRefreshKey() method should be called.</p>\n<p>PagingDataAdapter&lt;T, V&gt; and DiffUtil.ItemCallback are standard...</p>\n<p>In My ViewModel</p>\n<pre><code>@HiltViewModel\npublic class BooksViewModel extends BaseDisposablesViewModel {\n\n    PagingConfig pagingConfig = new PagingConfig(50, 25, true, 100, 200);\n    private final DataApiInterface dataApi;\n    private final SharedPreferencesHelper preferencesHelper;\n    Flowable&lt;PagingData&lt;Book&gt;&gt; flowable;\n\n\n    @Inject\n    BooksViewModel(DataApiInterface dataApi, SharedPreferencesHelper preferencesHelper) {\n        this.dataApi = dataApi;\n        this.preferencesHelper = preferencesHelper;\n        init();\n    }\n\n    private void init() {\n        CoroutineScope viewModelScope = ViewModelKt.getViewModelScope(this);\n        Pager&lt;Integer, Book&gt; pager = new Pager&lt;&gt;(\n                pagingConfig,\n                () -&gt; new BooksPagingSource(dataApi, preferencesHelper)\n        );\n\n        flowable = PagingRx.getFlowable(pager);\n        PagingRx.cachedIn(flowable, viewModelScope);\n    }\n\n}\n</code></pre>\n<p>And my Fragment...</p>\n<pre><code>@AndroidEntryPoint\npublic class BooksFragment extends BaseFragment {\n\n    private FragmentBooksBinding binding;\n    private final CompositeDisposable disposable = new CompositeDisposable();\n    private BooksPagingAdapter pagingAdapter;\n\n\n    @Override\n    public void onCreate(@Nullable Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        BooksViewModel viewModel = new ViewModelProvider(requireActivity()).get(BooksViewModel.class);\n\n        pagingAdapter = new BooksPagingAdapter(new BooksPagingAdapter.BookComparator());\n        disposable.add(viewModel.flowable.subscribeOn(Schedulers.io())\n                .observeOn(AndroidSchedulers.mainThread())\n                .subscribe(bookPagingData -&gt; pagingAdapter.submitData(getLifecycle(), bookPagingData)));\n    }\n\n    @Override\n    public View onCreateView(@NonNull LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        binding = FragmentBooksBinding.inflate(inflater, container, false);\n        return binding.getRoot();\n    }\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        binding.list.setAdapter(pagingAdapter);\n    }\n\n    @Override\n    public void onDestroy() {\n        super.onDestroy();\n        disposable.clear();\n    }\n}\n</code></pre>\n"},{"tags":["java","http","executorservice"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1636533610,"post_id":69909720,"comment_id":123579563,"body_markdown":"Your code is blocking due to the `future.get` so basically you are issuing 1 request at a time. Use a `CompletableFuture` and do a `thenAccept` put all of those in a collection pass that to the `CompletableFuture.allOf` method and then call `isDone` on the resulting future, call it periodically until it finishes.","body":"Your code is blocking due to the <code>future.get</code> so basically you are issuing 1 request at a time. Use a <code>CompletableFuture</code> and do a <code>thenAccept</code> put all of those in a collection pass that to the <code>CompletableFuture.allOf</code> method and then call <code>isDone</code> on the resulting future, call it periodically until it finishes."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1636533836,"post_id":69909720,"comment_id":123579645,"body_markdown":"Yea ... so you need to submit all of the requests before you &quot;get&quot; the results.  However, if you are using the free API you are rate-limited to 60 requests a minute anyway; see https://openweathermap.org/price","body":"Yea ... so you need to submit all of the requests before you &quot;get&quot; the results.  However, if you are using the free API you are rate-limited to 60 requests a minute anyway; see <a href=\"https://openweathermap.org/price\" rel=\"nofollow noreferrer\">openweathermap.org/price</a>"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1636533836,"post_id":69909720,"comment_id":123579646,"body_markdown":"Even easier, just update the result in the future, no need for a `CompletableFuture` that way.","body":"Even easier, just update the result in the future, no need for a <code>CompletableFuture</code> that way."}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636534098,"creation_date":1636534098,"answer_id":69910176,"question_id":69909720,"body_markdown":"Instead of what you are doing now \r\n\r\n```java\r\nFuture&lt;String&gt;future=executor. Submit(() - &gt;findWeatherReport(URL) ;\r\nUpdateweatherreport(future.get());\r\n```\r\n\r\nCreate a method that does both in 1 go and call that. \r\n\r\n```java\r\nprivate String findAndUpdateWeatherReport(String url) {\r\n  String report = findWeatherReport(url);\r\n  return Updateweatherreport(report);\r\n}\r\n```\r\n\r\nNow in the calling code do \r\n\r\n```java\r\nexecutor.submit(() -&gt; findAndUpdateWeatherReport(URL));\r\n```\r\n\r\nThen after the submits do the following\r\n\r\n```java\r\nexecutor.shutdown();\r\nwhile (!executor.awaitTermination(500, TimeUnit.MILLISECONDS)) {}\r\n```\r\n\r\nThis will shutdown the executor and wait until all tasks have finished and then cleanup the executor. ","title":"ExecutorService: how to increase performance","body":"<p>Instead of what you are doing now</p>\n<pre class=\"lang-java prettyprint-override\"><code>Future&lt;String&gt;future=executor. Submit(() - &gt;findWeatherReport(URL) ;\nUpdateweatherreport(future.get());\n</code></pre>\n<p>Create a method that does both in 1 go and call that.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private String findAndUpdateWeatherReport(String url) {\n  String report = findWeatherReport(url);\n  return Updateweatherreport(report);\n}\n</code></pre>\n<p>Now in the calling code do</p>\n<pre class=\"lang-java prettyprint-override\"><code>executor.submit(() -&gt; findAndUpdateWeatherReport(URL));\n</code></pre>\n<p>Then after the submits do the following</p>\n<pre class=\"lang-java prettyprint-override\"><code>executor.shutdown();\nwhile (!executor.awaitTermination(500, TimeUnit.MILLISECONDS)) {}\n</code></pre>\n<p>This will shutdown the executor and wait until all tasks have finished and then cleanup the executor.</p>\n"}],"owner":{"account_id":23204966,"reputation":23,"user_id":17299313,"display_name":"The_N"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":281,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1636534098,"creation_date":1636531767,"question_id":69909720,"body_markdown":"I have a list which contain latitude and longitude values I just traverse this list fetching the lat and longitude and find the weather report for particular Lat and longitude  and update the weather report in dB but it takes around 75 sec for 100 times. How can I decrease this time?\r\n```java\r\nExecutorService executor=Executors.newFixedThreadPool(10);\r\n\r\nHttpClient weatherClient=new DefaultHttpClient();\r\nfor(LatandlngList value:latandlngList)\r\n{\r\n   Double lat= value.getLat();\r\n   Double lng= value.getLng();\r\n   String URL=&quot;http://api.openweathermap.org/data/2.5/weather?lat=&quot;+lat+&quot;&amp;lng=&quot;+lng\r\n             +&quot;&amp;appid=&quot;+appId;\r\n\r\nFuture&lt;String&gt;future=executor. Submit(() - &gt;findWeatherReport(URL) ;\r\nUpdateweatherreport(future.get());\r\n\r\n\r\n}\r\n\r\nprivate String findWeatherReport(URL){\r\nHttpGet weatherReq=new HttpGet(URL);\r\nHttpResponse weatherresult=weatherClient.execute(weatherReq);\r\nreturn weatherresult;\r\n} \r\n\r\nPrivate String Updateweatherreport(weatherreport)\r\n{\r\n//code for update weather report in dB \r\nreturn &quot;ok&quot; ;\r\n} \r\n```\r\n\r\n\r\n\r\n\r\n\r\n  ","title":"ExecutorService: how to increase performance","body":"<p>I have a list which contain latitude and longitude values I just traverse this list fetching the lat and longitude and find the weather report for particular Lat and longitude  and update the weather report in dB but it takes around 75 sec for 100 times. How can I decrease this time?</p>\n<pre class=\"lang-java prettyprint-override\"><code>ExecutorService executor=Executors.newFixedThreadPool(10);\n\nHttpClient weatherClient=new DefaultHttpClient();\nfor(LatandlngList value:latandlngList)\n{\n   Double lat= value.getLat();\n   Double lng= value.getLng();\n   String URL=&quot;http://api.openweathermap.org/data/2.5/weather?lat=&quot;+lat+&quot;&amp;lng=&quot;+lng\n             +&quot;&amp;appid=&quot;+appId;\n\nFuture&lt;String&gt;future=executor. Submit(() - &gt;findWeatherReport(URL) ;\nUpdateweatherreport(future.get());\n\n\n}\n\nprivate String findWeatherReport(URL){\nHttpGet weatherReq=new HttpGet(URL);\nHttpResponse weatherresult=weatherClient.execute(weatherReq);\nreturn weatherresult;\n} \n\nPrivate String Updateweatherreport(weatherreport)\n{\n//code for update weather report in dB \nreturn &quot;ok&quot; ;\n} \n</code></pre>\n"},{"tags":["javascript","java","tabs","html5-video"],"answers":[{"tags":[],"owner":{"account_id":22082104,"reputation":1,"user_id":16341532,"display_name":"testman32"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636534040,"creation_date":1636531613,"answer_id":69909698,"question_id":68195156,"body_markdown":"Hey guys I&#39;ve found the answer myself.\r\nThe problem was adding an URL in the `open()` method:\r\n\r\n```\r\nvar newTab = $wnd.open(&quot;&quot;, &quot;_blank&quot;);\r\nnewTab.document.body.innerHTML = &quot;&lt;html&gt;&lt;body&gt;&lt;video width=&#39;100%&#39; height=&#39;100%&#39; controls&gt;&lt;source src=&quot;+ fileUrl +&quot; type=&#39;video/mp4&#39;&gt;&lt;source src=&quot;+ fileUrl +&quot; type=&#39;video/ogg&#39;&gt;&lt;source src=&quot;+ fileUrl +&quot; type=&#39;video/webm&#39;&gt;Your browser does not support the video tag.&lt;/video&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\r\nreturn newTab;\r\n```","title":"Javascript - window.open() not opening in new tab","body":"<p>Hey guys I've found the answer myself.\nThe problem was adding an URL in the <code>open()</code> method:</p>\n<pre><code>var newTab = $wnd.open(&quot;&quot;, &quot;_blank&quot;);\nnewTab.document.body.innerHTML = &quot;&lt;html&gt;&lt;body&gt;&lt;video width='100%' height='100%' controls&gt;&lt;source src=&quot;+ fileUrl +&quot; type='video/mp4'&gt;&lt;source src=&quot;+ fileUrl +&quot; type='video/ogg'&gt;&lt;source src=&quot;+ fileUrl +&quot; type='video/webm'&gt;Your browser does not support the video tag.&lt;/video&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\nreturn newTab;\n</code></pre>\n"}],"owner":{"account_id":22082104,"reputation":1,"user_id":16341532,"display_name":"testman32"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":136,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69909698,"answer_count":1,"score":0,"last_activity_date":1636534040,"creation_date":1625057534,"question_id":68195156,"body_markdown":"I&#39;m having a problem. I want to open a video in a new tab instead of the browser automatically downloading it.\r\n\r\n\r\n\r\n    public static native JavaScriptObject openVideo(String fileUrl)\r\n        /*-{\r\n               $wnd.open(fileUrl, &quot;_blank&quot;)\r\n               $wnd.document.body.innerHTML = &quot;&lt;html&gt;&lt;body&gt;&lt;video width=&#39;90%&#39; height=&#39;90%&#39; controls&gt;&lt;source src=&quot;+ fileUrl +&quot; type=&#39;video/mp4&#39;&gt;Your browser does not support the video tag.&lt;/video&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\r\n               return $wnd;\r\n        }-*/;\r\n\r\nThis opens the video in the same tab that I currently am and also opens and closes really fast another tab that downloads the video\r\n\r\nThis used to work correctly. A new tab was opened with the video player and no download started\r\n\r\nWhat am I doing wrong?\r\n\r\nWhat I want is for another tab to open where the video can be played and no download to occur\r\n\r\nThe videos are in a local database and have a corresponding URL","title":"Javascript - window.open() not opening in new tab","body":"<p>I'm having a problem. I want to open a video in a new tab instead of the browser automatically downloading it.</p>\n<pre><code>public static native JavaScriptObject openVideo(String fileUrl)\n    /*-{\n           $wnd.open(fileUrl, &quot;_blank&quot;)\n           $wnd.document.body.innerHTML = &quot;&lt;html&gt;&lt;body&gt;&lt;video width='90%' height='90%' controls&gt;&lt;source src=&quot;+ fileUrl +&quot; type='video/mp4'&gt;Your browser does not support the video tag.&lt;/video&gt;&lt;/body&gt;&lt;/html&gt;&quot;;\n           return $wnd;\n    }-*/;\n</code></pre>\n<p>This opens the video in the same tab that I currently am and also opens and closes really fast another tab that downloads the video</p>\n<p>This used to work correctly. A new tab was opened with the video player and no download started</p>\n<p>What am I doing wrong?</p>\n<p>What I want is for another tab to open where the video can be played and no download to occur</p>\n<p>The videos are in a local database and have a corresponding URL</p>\n"},{"tags":["java","android","android-studio","android-gradle-plugin"],"answers":[{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636534026,"creation_date":1636534026,"answer_id":69910159,"question_id":69909778,"body_markdown":"&gt; I&#39;ve checked the doc of the method and I&#39;ve noticed that the method was added in Java 9 \r\n\r\nAlso [as per Android documentation][1] it&#39;s only available on API level 31 (Android S).\r\n\r\n**The possible causes:**\r\n - The lint is accidentally suppressed from Android Studio: So, check that from `Settings &gt;&gt; Editor &gt;&gt; Code Style &gt;&gt; Inspections`\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n\r\n - SDK of API 31 is not installed on Android Studio &gt;&gt; So make sure to install it from the SDK Manager:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n - The warning is suppressed from this code block using `@SuppressLint(&quot;NewApi&quot;)`.\r\n\r\n - Any other unexpected Android Studio errors &gt;&gt; Try `File &gt;&gt; Invalidate caches and restart`.\r\n\r\n\r\n\r\n  [1]: https://developer.android.com/reference/java/time/Duration#toMinutesPart()\r\n  [2]: https://i.stack.imgur.com/i4IRe.jpg\r\n  [3]: https://i.stack.imgur.com/SWJ5K.jpg","title":"No warning about using Java 9 methods in Android projects","body":"<blockquote>\n<p>I've checked the doc of the method and I've noticed that the method was added in Java 9</p>\n</blockquote>\n<p>Also <a href=\"https://developer.android.com/reference/java/time/Duration#toMinutesPart()\" rel=\"nofollow noreferrer\">as per Android documentation</a> it's only available on API level 31 (Android S).</p>\n<p><strong>The possible causes:</strong></p>\n<ul>\n<li>The lint is accidentally suppressed from Android Studio: So, check that from <code>Settings &gt;&gt; Editor &gt;&gt; Code Style &gt;&gt; Inspections</code></li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/i4IRe.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i4IRe.jpg\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>SDK of API 31 is not installed on Android Studio &gt;&gt; So make sure to install it from the SDK Manager:</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/SWJ5K.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SWJ5K.jpg\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li><p>The warning is suppressed from this code block using <code>@SuppressLint(&quot;NewApi&quot;)</code>.</p>\n</li>\n<li><p>Any other unexpected Android Studio errors &gt;&gt; Try <code>File &gt;&gt; Invalidate caches and restart</code>.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":1596239,"reputation":5767,"user_id":1478296,"accept_rate":57,"display_name":"Billda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":498,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1636534026,"creation_date":1636532063,"question_id":69909778,"body_markdown":"I used `java.time.Duration.toMinutesPart()` method in my Android project targeting SDK 31 and from the IDE/compiler point of view everything was fine, on my emulator/device with Android 12 the app worked but then I&#39;ve noticed crashes on our testing devices running lower Android versions\r\n```\r\nFatal Exception: java.lang.NoSuchMethodError\r\nNo virtual method toMinutesPart()I in class Lj$/time/Duration; or its super classes (declaration of &#39;j$.time.Duration&#39; appears in base.apk!classes2.dex)\r\n```\r\nI&#39;ve checked the doc of the method and I&#39;ve noticed that the method was added in Java 9 so the crash makes sense but what bothers me is that no part of the build pipeline (IDE, compiler, lint) warned me about using this method and now I&#39;m scared how many methods I might be using that may crash in production. Is there any way to prevent this? I am using Kotlin and desugaring plugin ","title":"No warning about using Java 9 methods in Android projects","body":"<p>I used <code>java.time.Duration.toMinutesPart()</code> method in my Android project targeting SDK 31 and from the IDE/compiler point of view everything was fine, on my emulator/device with Android 12 the app worked but then I've noticed crashes on our testing devices running lower Android versions</p>\n<pre><code>Fatal Exception: java.lang.NoSuchMethodError\nNo virtual method toMinutesPart()I in class Lj$/time/Duration; or its super classes (declaration of 'j$.time.Duration' appears in base.apk!classes2.dex)\n</code></pre>\n<p>I've checked the doc of the method and I've noticed that the method was added in Java 9 so the crash makes sense but what bothers me is that no part of the build pipeline (IDE, compiler, lint) warned me about using this method and now I'm scared how many methods I might be using that may crash in production. Is there any way to prevent this? I am using Kotlin and desugaring plugin</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":4739783,"reputation":612585,"user_id":3832970,"display_name":"Wiktor Stribiżew"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636533003,"creation_date":1636533003,"answer_id":69909952,"question_id":69909906,"body_markdown":"You can use\r\n```none\r\n\\b(?:\\d+[—–-])?\\d+(?:%|percent\\b)\r\n```\r\nWith fractions support it may look like\r\n```none\r\n\\b(?:\\d+(?:\\.\\d+)?[—–-])?\\d+(?:\\.\\d+)?(?:%|percent\\b)\r\n```\r\n\r\nSee the [regex demo][1]. *Details*:\r\n\r\n - `\\b` - a word boundary\r\n - `(?:\\d+(?:\\.\\d+)?[—–-])?` - an optional sequence of one or more digits followed with an optional sequence of `.` and one or more digits and then a dash\r\n - `\\d+(?:\\.\\d+)?` - one or more digits followed with an optional sequence of `.` and one or more digits\r\n - `(?:%|percent\\b)` - `%` or `percent` followed with a word boundary.\r\n\r\nSee a [Java demo][2]:\r\n```java\r\nimport java.util.regex.*;\r\n\r\nclass Test\r\n{\r\n\tpublic static void main (String[] args) throws java.lang.Exception\r\n\t{\r\n        String s = &quot;both 56% as well as 30-60%.&quot;;\r\n\t\tPattern pattern = Pattern.compile(&quot;\\\\b(?:\\\\d+[—–-])?\\\\d+(?:%|percent\\\\b)&quot;);\r\n\t\tMatcher matcher = pattern.matcher(s);\r\n\t\twhile (matcher.find()){\r\n\t\t\tSystem.out.println(matcher.group()); \r\n\t\t} \r\n\t}\r\n}\r\n```\r\nOutput:\r\n```\r\n56%\r\n30-60%\r\n```\r\n\r\n\r\n  [1]: https://regex101.com/r/XlT0s0/1\r\n  [2]: https://ideone.com/zHA7yk","title":"Regex to parse percentage range from given string","body":"<p>You can use</p>\n<pre class=\"lang-none prettyprint-override\"><code>\\b(?:\\d+[—–-])?\\d+(?:%|percent\\b)\n</code></pre>\n<p>With fractions support it may look like</p>\n<pre class=\"lang-none prettyprint-override\"><code>\\b(?:\\d+(?:\\.\\d+)?[—–-])?\\d+(?:\\.\\d+)?(?:%|percent\\b)\n</code></pre>\n<p>See the <a href=\"https://regex101.com/r/XlT0s0/1\" rel=\"nofollow noreferrer\">regex demo</a>. <em>Details</em>:</p>\n<ul>\n<li><code>\\b</code> - a word boundary</li>\n<li><code>(?:\\d+(?:\\.\\d+)?[—–-])?</code> - an optional sequence of one or more digits followed with an optional sequence of <code>.</code> and one or more digits and then a dash</li>\n<li><code>\\d+(?:\\.\\d+)?</code> - one or more digits followed with an optional sequence of <code>.</code> and one or more digits</li>\n<li><code>(?:%|percent\\b)</code> - <code>%</code> or <code>percent</code> followed with a word boundary.</li>\n</ul>\n<p>See a <a href=\"https://ideone.com/zHA7yk\" rel=\"nofollow noreferrer\">Java demo</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.regex.*;\n\nclass Test\n{\n    public static void main (String[] args) throws java.lang.Exception\n    {\n        String s = &quot;both 56% as well as 30-60%.&quot;;\n        Pattern pattern = Pattern.compile(&quot;\\\\b(?:\\\\d+[—–-])?\\\\d+(?:%|percent\\\\b)&quot;);\n        Matcher matcher = pattern.matcher(s);\n        while (matcher.find()){\n            System.out.println(matcher.group()); \n        } \n    }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>56%\n30-60%\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23236296,"reputation":23,"user_id":17326267,"display_name":"libao zhou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636534015,"creation_date":1636534015,"answer_id":69910155,"question_id":69909906,"body_markdown":"```\r\npublic static void main(String[] args) {\r\n        String line = &quot;Adidas 30-60% Off&quot;;\r\n        String pattern = &quot;\\\\b[\\\\d|-]+(?:%|percent\\\\b)&quot;;\r\n\r\n        Pattern r = Pattern.compile(pattern);\r\n\r\n        Matcher m = r.matcher(line);\r\n        if (m.find( )) {\r\n            System.out.println(&quot;Found value: &quot; + m.group(0) );\r\n        } else {\r\n            System.out.println(&quot;NO MATCH&quot;);\r\n        }\r\n    }\r\n```","title":"Regex to parse percentage range from given string","body":"<pre><code>public static void main(String[] args) {\n        String line = &quot;Adidas 30-60% Off&quot;;\n        String pattern = &quot;\\\\b[\\\\d|-]+(?:%|percent\\\\b)&quot;;\n\n        Pattern r = Pattern.compile(pattern);\n\n        Matcher m = r.matcher(line);\n        if (m.find( )) {\n            System.out.println(&quot;Found value: &quot; + m.group(0) );\n        } else {\n            System.out.println(&quot;NO MATCH&quot;);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":8973303,"reputation":1489,"user_id":6691064,"display_name":"vikash singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69909952,"answer_count":2,"score":0,"last_activity_date":1636534015,"creation_date":1636532784,"question_id":69909906,"body_markdown":"I was trying to form regex which should be able to extract percentage range from any String. For example- Adidas **30-60%** Off on footwear, \r\n\r\nI am able to extract 60% from this string using - **`\\\\b\\\\d+(?:%|percent\\\\b)`** , But, this should work for both **56%** as well as **30-60%**. \r\n\r\nAny help will be appriciaed.","title":"Regex to parse percentage range from given string","body":"<p>I was trying to form regex which should be able to extract percentage range from any String. For example- Adidas <strong>30-60%</strong> Off on footwear,</p>\n<p>I am able to extract 60% from this string using - <strong><code>\\\\b\\\\d+(?:%|percent\\\\b)</code></strong> , But, this should work for both <strong>56%</strong> as well as <strong>30-60%</strong>.</p>\n<p>Any help will be appriciaed.</p>\n"},{"tags":["java","io","ms-word"],"comments":[{"owner":{"account_id":2251716,"reputation":803,"user_id":1983814,"accept_rate":73,"display_name":"CsBalazsHungary"},"score":0,"creation_date":1411558944,"post_id":26015943,"comment_id":40746459,"body_markdown":"maybe for consideration (I would go for Apache HWPF): http://stackoverflow.com/questions/203174/whats-a-good-java-api-for-creating-word-documents","body":"maybe for consideration (I would go for Apache HWPF): <a href=\"http://stackoverflow.com/questions/203174/whats-a-good-java-api-for-creating-word-documents\" title=\"whats a good java api for creating word documents\">stackoverflow.com/questions/203174/&hellip;</a>"},{"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"score":0,"creation_date":1411559035,"post_id":26015943,"comment_id":40746516,"body_markdown":"@CsBalazsHungary: Link created 5 years ago. Java 8 was not there at that time.","body":"@CsBalazsHungary: Link created 5 years ago. Java 8 was not there at that time."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1411559074,"post_id":26015943,"comment_id":40746539,"body_markdown":"Is MS Word 2007 already .docx? Because that format is perfect, you can use a java zip file system, and change /word/content.xml. The libraries do not guarantee the original format.","body":"Is MS Word 2007 already .docx? Because that format is perfect, you can use a java zip file system, and change /word/content.xml. The libraries do not guarantee the original format."},{"owner":{"account_id":2251716,"reputation":803,"user_id":1983814,"accept_rate":73,"display_name":"CsBalazsHungary"},"score":0,"creation_date":1411559118,"post_id":26015943,"comment_id":40746566,"body_markdown":"@Sniper sadly it indeed can cause problem :(","body":"@Sniper sadly it indeed can cause problem :("},{"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"score":0,"creation_date":1411559135,"post_id":26015943,"comment_id":40746578,"body_markdown":"@JoopEggen: Yeah it is Docx. Prefer to see a library, you know, easy.","body":"@JoopEggen: Yeah it is Docx. Prefer to see a library, you know, easy."},{"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"score":0,"creation_date":1411559290,"post_id":26015943,"comment_id":40746666,"body_markdown":"@JoopEggen: Is there any sample code?","body":"@JoopEggen: Is there any sample code?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1411559373,"post_id":26015943,"comment_id":40746710,"body_markdown":"The XML is readable too, load the DOM (or just text), replace the place holders and done. But I may be too naive w.r.t. the requirements. Rename .docx into .zip and take a look. I&#39;ll provide some sample code after a moment.","body":"The XML is readable too, load the DOM (or just text), replace the place holders and done. But I may be too naive w.r.t. the requirements. Rename .docx into .zip and take a look. I&#39;ll provide some sample code after a moment."},{"owner":{"account_id":2357529,"reputation":2342,"user_id":2065017,"accept_rate":100,"display_name":"blagae"},"score":0,"creation_date":1411559750,"post_id":26015943,"comment_id":40746916,"body_markdown":"I&#39;ve never done anything with Word, but I once used Apache POI for Excel and it worked pretty well, for both .xls and .xlsx: http://poi.apache.org/","body":"I&#39;ve never done anything with Word, but I once used Apache POI for Excel and it worked pretty well, for both .xls and .xlsx: <a href=\"http://poi.apache.org/\" rel=\"nofollow noreferrer\">poi.apache.org</a>"}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1411575722,"creation_date":1411560216,"answer_id":26016429,"question_id":26015943,"body_markdown":"One may use for docx (a zip with XML and other files) a java zip file system and XML or text processing.\r\n\r\n    URI docxUri = ,,, // &quot;jar:file:/C:/... .docx&quot;\r\n    Map&lt;String, String&gt; zipProperties = new HashMap&lt;&gt;();\r\n    zipProperties.put(&quot;encoding&quot;, &quot;UTF-8&quot;);\r\n    try (FileSystem zipFS = FileSystems.newFileSystem(docxUri, zipProperties)) {\r\n        Path documentXmlPath = zipFS.getPath(&quot;/word/document.xml&quot;);\r\n\r\nWhen using XML:\r\n\r\n        DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n\r\n        factory.setNamespaceAware(true);\r\n        DocumentBuilder builder = factory.newDocumentBuilder();\r\n\r\n        Document doc = builder.parse(Files.newInputStream(documentXmlPath));\r\n        //Element root = doc.getDocumentElement();\r\n\r\nYou can then use XPath to find the places, and write the XML back again.\r\n\r\nIt even might be that you do not need XML but could replace place holders:\r\n\r\n        byte[] content = Files.readAllBytes(documentXmlPath);\r\n        String xml = new String(content, StandardCharsets.UTF_8);\r\n        xml = xml.replace(&quot;#DATE#&quot;, &quot;2014-09-24&quot;);\r\n        xml = xml.replace(&quot;#NAME#&quot;, StringEscapeUtils.escapeXml(&quot;Sniper&quot;)));\r\n        ...\r\n        content = xml.getBytes(StandardCharsets.UTF_8);\r\n        Files.delete(documentXmlPath);\r\n        Files.write(documentXmlPath, content);\r\n\r\nFor a fast development, rename a copy of the .docx to a name with the .zip file extension, and inspect the files.\r\n\r\n`File.write` should already apply StandardOpenOption.TRUNCATE_EXISTING, but I have added `Files.delete` as some error occured. See comments.","title":"How to edit MS Word documents using Java?","body":"<p>One may use for docx (a zip with XML and other files) a java zip file system and XML or text processing.</p>\n\n<pre><code>URI docxUri = ,,, // \"jar:file:/C:/... .docx\"\nMap&lt;String, String&gt; zipProperties = new HashMap&lt;&gt;();\nzipProperties.put(\"encoding\", \"UTF-8\");\ntry (FileSystem zipFS = FileSystems.newFileSystem(docxUri, zipProperties)) {\n    Path documentXmlPath = zipFS.getPath(\"/word/document.xml\");\n</code></pre>\n\n<p>When using XML:</p>\n\n<pre><code>    DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n\n    factory.setNamespaceAware(true);\n    DocumentBuilder builder = factory.newDocumentBuilder();\n\n    Document doc = builder.parse(Files.newInputStream(documentXmlPath));\n    //Element root = doc.getDocumentElement();\n</code></pre>\n\n<p>You can then use XPath to find the places, and write the XML back again.</p>\n\n<p>It even might be that you do not need XML but could replace place holders:</p>\n\n<pre><code>    byte[] content = Files.readAllBytes(documentXmlPath);\n    String xml = new String(content, StandardCharsets.UTF_8);\n    xml = xml.replace(\"#DATE#\", \"2014-09-24\");\n    xml = xml.replace(\"#NAME#\", StringEscapeUtils.escapeXml(\"Sniper\")));\n    ...\n    content = xml.getBytes(StandardCharsets.UTF_8);\n    Files.delete(documentXmlPath);\n    Files.write(documentXmlPath, content);\n</code></pre>\n\n<p>For a fast development, rename a copy of the .docx to a name with the .zip file extension, and inspect the files.</p>\n\n<p><code>File.write</code> should already apply StandardOpenOption.TRUNCATE_EXISTING, but I have added <code>Files.delete</code> as some error occured. See comments.</p>\n"},{"tags":[],"owner":{"account_id":2794770,"reputation":4406,"user_id":2404181,"display_name":"Michael Kazarian"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1411631607,"creation_date":1411561671,"answer_id":26016922,"question_id":26015943,"body_markdown":"Try [Apache POI][1]. `POI` can work with `doc` and `docx`, but `docx` is more documented therefore support of it better.\r\n\r\n**UPD**: You can use [XDocReport][2], which use POI. Also I recomend to use `xlsx` for templates because it more suitable and [more documented][3]\r\n\r\n\r\n  [1]: http://poi.apache.org/\r\n  [2]: https://code.google.com/p/xdocreport/\r\n  [3]: http://poi.apache.org/spreadsheet/quick-guide.html","title":"How to edit MS Word documents using Java?","body":"<p>Try <a href=\"http://poi.apache.org/\" rel=\"nofollow\">Apache POI</a>. <code>POI</code> can work with <code>doc</code> and <code>docx</code>, but <code>docx</code> is more documented therefore support of it better.</p>\n\n<p><strong>UPD</strong>: You can use <a href=\"https://code.google.com/p/xdocreport/\" rel=\"nofollow\">XDocReport</a>, which use POI. Also I recomend to use <code>xlsx</code> for templates because it more suitable and <a href=\"http://poi.apache.org/spreadsheet/quick-guide.html\" rel=\"nofollow\">more documented</a></p>\n"},{"tags":[],"owner":{"account_id":30580,"reputation":15467,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1411692304,"creation_date":1411592533,"answer_id":26026429,"question_id":26015943,"body_markdown":"Stepping back a bit, there are about 4 different approaches for editing words/placeholders:\r\n\r\n - [MERGEFIELD][1] or DOCPROPERTY fields (if you are having problems with this in docx4j, then you have probably not set up your input docx correctly)\r\n - [content control databinding][2]\r\n - variable replacement on the document surface (either at the DOM/SAX level, or using a library)\r\n - do stuff as XHTML, then [import that][3]\r\n\r\nBefore choosing one, you should decide whether you also need to be able to handle:\r\n\r\n - repeating data (eg adding table rows)\r\n - conditional content (eg entire paragraphs which will either be present or absent)\r\n - adding images\r\n\r\nIf you need these, then MERGEFIELD or DOCPROPERTY fields are probably out (though you can also use IF fields, if you can find a library which supports them).  And adding images makes DOM/SAX manipulation as advocated in one of the other answers, messier and error prone.\r\n\r\nThe other things to consider are:\r\n\r\n - your authors: how technical are they? What does that imply for the authoring UI?\r\n - the &quot;user input&quot; you mention for variable replacement, is this given, or is obtaining it part of the problem you are solving?\r\n\r\n\r\n  [1]: https://github.com/plutext/docx4j/blob/master/src/samples/docx4j/org/docx4j/samples/FieldsMailMerge.java\r\n  [2]: https://github.com/plutext/docx4j/blob/master/src/samples/docx4j/org/docx4j/samples/ContentControlsMergeXML.java\r\n  [3]: https://github.com/plutext/docx4j-ImportXHTML/blob/master/src/samples/java/org/docx4j/samples/ConvertInXHTMLFragment.java","title":"How to edit MS Word documents using Java?","body":"<p>Stepping back a bit, there are about 4 different approaches for editing words/placeholders:</p>\n\n<ul>\n<li><a href=\"https://github.com/plutext/docx4j/blob/master/src/samples/docx4j/org/docx4j/samples/FieldsMailMerge.java\" rel=\"nofollow\">MERGEFIELD</a> or DOCPROPERTY fields (if you are having problems with this in docx4j, then you have probably not set up your input docx correctly)</li>\n<li><a href=\"https://github.com/plutext/docx4j/blob/master/src/samples/docx4j/org/docx4j/samples/ContentControlsMergeXML.java\" rel=\"nofollow\">content control databinding</a></li>\n<li>variable replacement on the document surface (either at the DOM/SAX level, or using a library)</li>\n<li>do stuff as XHTML, then <a href=\"https://github.com/plutext/docx4j-ImportXHTML/blob/master/src/samples/java/org/docx4j/samples/ConvertInXHTMLFragment.java\" rel=\"nofollow\">import that</a></li>\n</ul>\n\n<p>Before choosing one, you should decide whether you also need to be able to handle:</p>\n\n<ul>\n<li>repeating data (eg adding table rows)</li>\n<li>conditional content (eg entire paragraphs which will either be present or absent)</li>\n<li>adding images</li>\n</ul>\n\n<p>If you need these, then MERGEFIELD or DOCPROPERTY fields are probably out (though you can also use IF fields, if you can find a library which supports them).  And adding images makes DOM/SAX manipulation as advocated in one of the other answers, messier and error prone.</p>\n\n<p>The other things to consider are:</p>\n\n<ul>\n<li>your authors: how technical are they? What does that imply for the authoring UI?</li>\n<li>the \"user input\" you mention for variable replacement, is this given, or is obtaining it part of the problem you are solving?</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":7750878,"reputation":113,"user_id":5866851,"display_name":"Caroh"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1462878821,"creation_date":1462878821,"answer_id":37136907,"question_id":26015943,"body_markdown":"I have spent a few days on this issue, until I found that what makes the difference is the &lt;code&gt;try-with-resources&lt;/code&gt; on the FileSystem instance, appearing in Joop Eggen&#39;s snippet but not in question snippet:&lt;br&gt;\r\n&lt;code&gt;try (FileSystem zipFS = FileSystems.newFileSystem(docxUri, zipProperties)) &lt;/code&gt;&lt;br&gt;\r\nWithout such &lt;code&gt;try-with-resources&lt;/code&gt; block, the &lt;code&gt;FileSystem&lt;/code&gt; resource will not be closed (as explained in [Java tutorial] [1]), and the word document not modified. \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html","title":"How to edit MS Word documents using Java?","body":"<p>I have spent a few days on this issue, until I found that what makes the difference is the <code>try-with-resources</code> on the FileSystem instance, appearing in Joop Eggen's snippet but not in question snippet:<br>\n<code>try (FileSystem zipFS = FileSystems.newFileSystem(docxUri, zipProperties)) </code><br>\nWithout such <code>try-with-resources</code> block, the <code>FileSystem</code> resource will not be closed (as explained in <a href=\"https://docs.oracle.com/javase/tutorial/essential/exceptions/tryResourceClose.html\" rel=\"nofollow\">Java tutorial</a>), and the word document not modified. </p>\n"},{"tags":[],"owner":{"account_id":23293067,"reputation":1,"user_id":17374837,"display_name":"Piyush Chimurkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636533974,"creation_date":1636529764,"answer_id":69909366,"question_id":26015943,"body_markdown":"Please try this to edit or replace the word in document\r\n\r\n```\r\npublic class UpdateDocument {\r\n\r\n    public static void main(String[] args) throws IOException {\r\n\r\n        UpdateDocument obj = new UpdateDocument();\r\n\r\n        obj.updateDocument(\r\n                  &quot;c:\\\\test\\\\template.docx&quot;,\r\n                  &quot;c:\\\\test\\\\output.docx&quot;,\r\n                  &quot;Piyush&quot;);\r\n    }\r\n\r\n    private void updateDocument(String input, String output, String name)\r\n        throws IOException {\r\n\r\n        try (XWPFDocument doc = new XWPFDocument(\r\n                Files.newInputStream(Paths.get(input)))\r\n        ) {\r\n\r\n            List&lt;XWPFParagraph&gt; xwpfParagraphList = doc.getParagraphs();\r\n            //Iterate over paragraph list and check for the replaceable text in each paragraph\r\n            for (XWPFParagraph xwpfParagraph : xwpfParagraphList) {\r\n                for (XWPFRun xwpfRun : xwpfParagraph.getRuns()) {\r\n                    String docText = xwpfRun.getText(0);\r\n                    //replacement and setting position\r\n                    docText = docText.replace(&quot;${name}&quot;, name);\r\n                    xwpfRun.setText(docText, 0);\r\n                }\r\n            }\r\n\r\n            // save the docs\r\n            try (FileOutputStream out = new FileOutputStream(output)) {\r\n                doc.write(out);\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```","title":"How to edit MS Word documents using Java?","body":"<p>Please try this to edit or replace the word in document</p>\n<pre><code>public class UpdateDocument {\n\n    public static void main(String[] args) throws IOException {\n\n        UpdateDocument obj = new UpdateDocument();\n\n        obj.updateDocument(\n                  &quot;c:\\\\test\\\\template.docx&quot;,\n                  &quot;c:\\\\test\\\\output.docx&quot;,\n                  &quot;Piyush&quot;);\n    }\n\n    private void updateDocument(String input, String output, String name)\n        throws IOException {\n\n        try (XWPFDocument doc = new XWPFDocument(\n                Files.newInputStream(Paths.get(input)))\n        ) {\n\n            List&lt;XWPFParagraph&gt; xwpfParagraphList = doc.getParagraphs();\n            //Iterate over paragraph list and check for the replaceable text in each paragraph\n            for (XWPFParagraph xwpfParagraph : xwpfParagraphList) {\n                for (XWPFRun xwpfRun : xwpfParagraph.getRuns()) {\n                    String docText = xwpfRun.getText(0);\n                    //replacement and setting position\n                    docText = docText.replace(&quot;${name}&quot;, name);\n                    xwpfRun.setText(docText, 0);\n                }\n            }\n\n            // save the docs\n            try (FileOutputStream out = new FileOutputStream(output)) {\n                doc.write(out);\n            }\n\n        }\n\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":1466637,"reputation":22094,"user_id":1379286,"accept_rate":66,"display_name":"PeakGen"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9912,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1636533974,"creation_date":1411558665,"question_id":26015943,"body_markdown":"I do have few Word templates, and my requirement is to replace some of the words/place holders in the document based on the user input, using Java. I tried lot of libraries including 2-3 versions of `docx4j` but nothing work well, they all just didn&#39;t do anything!\r\n\r\nI know this question has been asked before, but I tried all options I know. So, using what java library I can &quot;really&quot; replace/edit these templates? My preference goes to the &quot;easy to use / Few line of codes&quot; type libraries.\r\n\r\nI am using Java 8 and my MS Word templates are in MS Word 2007.\r\n\r\n**Update**\r\n\r\nThis code is written by using the code sample provided by SO member `Joop Eggen`\r\n\r\n    public Main() throws URISyntaxException, IOException, ParserConfigurationException, SAXException\r\n        {\r\n            URI docxUri = new URI(&quot;C:/Users/Yohan/Desktop/yohan.docx&quot;);\r\n            Map&lt;String, String&gt; zipProperties = new HashMap&lt;&gt;();\r\n            zipProperties.put(&quot;encoding&quot;, &quot;UTF-8&quot;);\r\n            \r\n             FileSystem zipFS = FileSystems.newFileSystem(docxUri, zipProperties);\r\n            \r\n               Path documentXmlPath = zipFS.getPath(&quot;/word/document.xml&quot;);\r\n               \r\n                DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\r\n    \r\n                factory.setNamespaceAware(true);\r\n                DocumentBuilder builder = factory.newDocumentBuilder();\r\n    \r\n                Document doc = builder.parse(Files.newInputStream(documentXmlPath));\r\n                \r\n                byte[] content = Files.readAllBytes(documentXmlPath);\r\n                String xml = new String(content, StandardCharsets.UTF_8);\r\n                //xml = xml.replace(&quot;#DATE#&quot;, &quot;2014-09-24&quot;);\r\n                xml = xml.replace(&quot;#NAME#&quot;, StringEscapeUtils.escapeXml(&quot;Sniper&quot;));\r\n        \r\n                content = xml.getBytes(StandardCharsets.UTF_8);\r\n                Files.write(documentXmlPath, content);\r\n        }\r\n\r\nHowever this returns the below error\r\n\r\n    java.nio.file.ProviderNotFoundException: Provider &quot;C&quot; Not found\r\n    \r\n    at: java.nio.file.FileSystems.newFileSystem(FileSystems.java:341) at java.nio.file.FileSystems.newFileSystem(FileSystems.java:341)\r\n    \r\n    at java.nio.fileFileSystems.newFileSystem(FileSystems.java:276)\r\n\r\n","title":"How to edit MS Word documents using Java?","body":"<p>I do have few Word templates, and my requirement is to replace some of the words/place holders in the document based on the user input, using Java. I tried lot of libraries including 2-3 versions of <code>docx4j</code> but nothing work well, they all just didn't do anything!</p>\n\n<p>I know this question has been asked before, but I tried all options I know. So, using what java library I can \"really\" replace/edit these templates? My preference goes to the \"easy to use / Few line of codes\" type libraries.</p>\n\n<p>I am using Java 8 and my MS Word templates are in MS Word 2007.</p>\n\n<p><strong>Update</strong></p>\n\n<p>This code is written by using the code sample provided by SO member <code>Joop Eggen</code></p>\n\n<pre><code>public Main() throws URISyntaxException, IOException, ParserConfigurationException, SAXException\n    {\n        URI docxUri = new URI(\"C:/Users/Yohan/Desktop/yohan.docx\");\n        Map&lt;String, String&gt; zipProperties = new HashMap&lt;&gt;();\n        zipProperties.put(\"encoding\", \"UTF-8\");\n\n         FileSystem zipFS = FileSystems.newFileSystem(docxUri, zipProperties);\n\n           Path documentXmlPath = zipFS.getPath(\"/word/document.xml\");\n\n            DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();\n\n            factory.setNamespaceAware(true);\n            DocumentBuilder builder = factory.newDocumentBuilder();\n\n            Document doc = builder.parse(Files.newInputStream(documentXmlPath));\n\n            byte[] content = Files.readAllBytes(documentXmlPath);\n            String xml = new String(content, StandardCharsets.UTF_8);\n            //xml = xml.replace(\"#DATE#\", \"2014-09-24\");\n            xml = xml.replace(\"#NAME#\", StringEscapeUtils.escapeXml(\"Sniper\"));\n\n            content = xml.getBytes(StandardCharsets.UTF_8);\n            Files.write(documentXmlPath, content);\n    }\n</code></pre>\n\n<p>However this returns the below error</p>\n\n<pre><code>java.nio.file.ProviderNotFoundException: Provider \"C\" Not found\n\nat: java.nio.file.FileSystems.newFileSystem(FileSystems.java:341) at java.nio.file.FileSystems.newFileSystem(FileSystems.java:341)\n\nat java.nio.fileFileSystems.newFileSystem(FileSystems.java:276)\n</code></pre>\n"},{"tags":["java","sql"],"comments":[{"owner":{"account_id":14496530,"reputation":135,"user_id":10470910,"display_name":"Hanh Nguyen"},"score":0,"creation_date":1636503018,"post_id":69906487,"comment_id":123573674,"body_markdown":"What was processing when you called updateAppointment? Did it run exceucte()?","body":"What was processing when you called updateAppointment? Did it run exceucte()?"},{"owner":{"account_id":14496530,"reputation":135,"user_id":10470910,"display_name":"Hanh Nguyen"},"score":2,"creation_date":1636503214,"post_id":69906487,"comment_id":123573712,"body_markdown":"It seems that Appointment_ID not be set","body":"It seems that Appointment_ID not be set"},{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":1,"creation_date":1636504754,"post_id":69906487,"comment_id":123573969,"body_markdown":"Check if the transaction is commited explicitly or implicitly. Also, it makes sense to enable DEBUG and SQL query logging with parameter value shown. This will help diagnose the problem further. Also, you can read the DB logs and see what the DB sees","body":"Check if the transaction is commited explicitly or implicitly. Also, it makes sense to enable DEBUG and SQL query logging with parameter value shown. This will help diagnose the problem further. Also, you can read the DB logs and see what the DB sees"},{"owner":{"account_id":23289938,"reputation":15,"user_id":17372169,"display_name":"lostInCodeKeys"},"score":0,"creation_date":1636585072,"post_id":69906487,"comment_id":123599985,"body_markdown":"@HanhNguyen Thank you for the answer!  I pull the information from an appointment already in the database as variable &quot;selectedAppointment&quot;.  I set it using &quot;selectedAppointment.getAppointmentID&quot; instead of &quot;appointmentIDText&quot; and now it updates correctly.  Thank you for the nudge!","body":"@HanhNguyen Thank you for the answer!  I pull the information from an appointment already in the database as variable &quot;selectedAppointment&quot;.  I set it using &quot;selectedAppointment.getAppointmentID&quot; instead of &quot;appointmentIDText&quot; and now it updates correctly.  Thank you for the nudge!"}],"answers":[{"tags":[],"owner":{"account_id":15434928,"reputation":56,"user_id":11135289,"display_name":"Nthabiseng Mashiane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636533951,"creation_date":1636523992,"answer_id":69908537,"question_id":69906487,"body_markdown":"You can use Hibernate and JDBC which is a cleaner way to perform CRUD operations on your DB. It might be quite a different approach if you haven&#39;t seen it before however, I suggest you get familiar with this approach because it&#39;s a standard way to perform DB operation currently.\r\n\r\nStart by defining your Entity and an interface then add a controller to perform your operations\r\n\r\n    @Entity(&#39;TableName&#39;)\r\n    public class Person {\r\n     @Column(&#39;table_column_name&#39;)\r\n     String title;\r\n\r\n     @Column(&#39;table_column_name&#39;)\r\n     String description;\r\n\r\n     @Column(&#39;table_column_name&#39;)\r\n     String location;\r\n\r\n     @Column(&#39;table_column_name&#39;)\r\n     String type; \r\n\r\n     @Column(&#39;table_column_name&#39;)\r\n     LocalDateTime start; \r\n\r\n     @Column(&#39;table_column_name&#39;)\r\n     LocalDateTime end; \r\n\r\n     @Column(&#39;table_column_name&#39;)\r\n     int customerID; \r\n\r\n     @Column(&#39;table_column_name&#39;)\r\n     int userID; \r\n\r\n     @Column(&#39;table_column_name&#39;)\r\n     int contactID;\r\n    }\r\n\r\n    This person class is basically the column headings of your table in your \r\n    database\r\n\r\nYou will create an interface which will house the DB operations\r\n\r\n        public interface PersonRepository extends CrudRepository&lt;Person, Long&gt; {\r\n          /*This will contain all the database operations you want to perform. By \r\n           default, it contains the CRUD operations and if you will be performing \r\n           CRUD operations only, you don&#39;t need to add anything*/\r\n        }\r\n    \r\n    You will then have a controller where you will perform your crud operations\r\n\r\n    @RestController\r\n    public class Controller {\r\n      @Autowired\r\n      PersonRepository personRepo;\r\n    \r\n      @PostMapping(&quot;/save&quot;)\r\n      public void addAppointment(Person person) {\r\n        personRepo.save(person);\r\n      }\r\n    \r\n      @PutMapping(&quot;/update&quot;)\r\n      public void updateAppointment(int personID, String description, int customerID) {\r\n          //retrieve the user whose appointment you want to update then update the relevant fields and save user;\r\n            Person person = personRepo.findById(personID);\r\n            person.setDescription(description);\r\n            person.setCustomerID(customerID);\r\n            personRepo.save(person);\r\n          }\r\n    \r\n      \r\n    }\r\n\r\nYou can read up more on this [here][1]\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/spring-boot-how-to-access-database-using-spring-data-jpa/","title":"Update query isn&#39;t updating the database?","body":"<p>You can use Hibernate and JDBC which is a cleaner way to perform CRUD operations on your DB. It might be quite a different approach if you haven't seen it before however, I suggest you get familiar with this approach because it's a standard way to perform DB operation currently.</p>\n<p>Start by defining your Entity and an interface then add a controller to perform your operations</p>\n<pre><code>@Entity('TableName')\npublic class Person {\n @Column('table_column_name')\n String title;\n\n @Column('table_column_name')\n String description;\n\n @Column('table_column_name')\n String location;\n\n @Column('table_column_name')\n String type; \n\n @Column('table_column_name')\n LocalDateTime start; \n\n @Column('table_column_name')\n LocalDateTime end; \n\n @Column('table_column_name')\n int customerID; \n\n @Column('table_column_name')\n int userID; \n\n @Column('table_column_name')\n int contactID;\n}\n\nThis person class is basically the column headings of your table in your \ndatabase\n</code></pre>\n<p>You will create an interface which will house the DB operations</p>\n<pre><code>    public interface PersonRepository extends CrudRepository&lt;Person, Long&gt; {\n      /*This will contain all the database operations you want to perform. By \n       default, it contains the CRUD operations and if you will be performing \n       CRUD operations only, you don't need to add anything*/\n    }\n\nYou will then have a controller where you will perform your crud operations\n\n@RestController\npublic class Controller {\n  @Autowired\n  PersonRepository personRepo;\n\n  @PostMapping(&quot;/save&quot;)\n  public void addAppointment(Person person) {\n    personRepo.save(person);\n  }\n\n  @PutMapping(&quot;/update&quot;)\n  public void updateAppointment(int personID, String description, int customerID) {\n      //retrieve the user whose appointment you want to update then update the relevant fields and save user;\n        Person person = personRepo.findById(personID);\n        person.setDescription(description);\n        person.setCustomerID(customerID);\n        personRepo.save(person);\n      }\n\n  \n}\n</code></pre>\n<p>You can read up more on this <a href=\"https://www.geeksforgeeks.org/spring-boot-how-to-access-database-using-spring-data-jpa/\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":23289938,"reputation":15,"user_id":17372169,"display_name":"lostInCodeKeys"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69908537,"answer_count":1,"score":0,"last_activity_date":1636533951,"creation_date":1636502430,"question_id":69906487,"body_markdown":"I have an &quot;addAppointment&quot; and a &quot;updateAppointment&quot; method that both use the same parameters. \r\n\r\n    public static void addAppointment(String title, String description, String location, String type, LocalDateTime start, LocalDateTime end, int customerID, int userID, int contactID) \r\n    {\r\n    \r\n    try { String sqlAddAppt = &quot;INSERT INTO appointments VALUES (NULL, ?, ?, ?, ?, ?, ?, NULL, NULL, NULL, NULL, ?, ?, ?)&quot;;  \r\n          PreparedStatement ps = JDBC.getConnection().prepareStatement(sqlAddAppt);\r\n          ps.setString(1, title);\r\n          ps.setString(2, description); \r\n          ps.setString(3, location);  \r\n          ps.setString(4, type);  \r\n          ps.setTimestamp(5, Timestamp.valueOf(start)); \r\n          ps.setTimestamp(6, Timestamp.valueOf(end));  \r\n          ps.setInt(7, customerID);    \r\n          ps.setInt(8, userID);  \r\n          ps.setInt(9, contactID);  \r\n          ps.execute();   \r\n     } \r\n    catch (SQLException e) {       \r\n     e.printStackTrace();    }}\r\n\r\n\r\n    public static void updateAppointment(String title, String description, String location, String type, LocalDateTime start, LocalDateTime end, int customerID, int userID, int contactID) {\r\n    try { \r\n       String sqlUpdate = &quot;UPDATE appointments SET Title=?, Description=?, Location=?, Type=?, Start=?, End=?, Customer_ID=?, User_ID=?, Contact_ID=? WHERE Appointment_ID = ?;&quot;;\r\n        PreparedStatement ps = JDBC.getConnection().prepareStatement(sqlUpdate);\r\n        ps.setString(1, title); \r\n        ps.setString(2, description);  \r\n        ps.setString(3, location); \r\n        ps.setString(4, type); \r\n        ps.setTimestamp(5, Timestamp.valueOf(start)); \r\n        ps.setTimestamp(6, Timestamp.valueOf(end)); \r\n        ps.setInt(7, customerID); \r\n        ps.setInt(8, userID);  \r\n        ps.setInt(9, contactID);  \r\n        ps.execute(); } catch (SQLException e) {  \r\n        e.printStackTrace();    }}\r\n\r\n\r\nI&#39;m calling the methods the same way using : \r\n\r\n    DBAppointments.updateAppointment(title, description, location, type, startTimeUTC.toLocalDateTime(), endTimeUTC.toLocalDateTime(), customerID.getCustomerID(), userID.getUserID(), contact.getContactID());\r\n\r\n    DBAppointments.addAppointment(title, description, location, type, startTimeUTC.toLocalDateTime(), endTimeUTC.toLocalDateTime(), customerID.getCustomerID(), userID.getUserID(), contact.getContactID());\r\n\r\n\r\nThe &quot;addAppointment&quot; works perfectly and will Insert correctly but when I try to use the update method, it doesn&#39;t return any errors but it also does not update the database.  Any ideas?  \r\n    \r\n\r\n\r\n\r\n\r\n","title":"Update query isn&#39;t updating the database?","body":"<p>I have an &quot;addAppointment&quot; and a &quot;updateAppointment&quot; method that both use the same parameters.</p>\n<pre><code>public static void addAppointment(String title, String description, String location, String type, LocalDateTime start, LocalDateTime end, int customerID, int userID, int contactID) \n{\n\ntry { String sqlAddAppt = &quot;INSERT INTO appointments VALUES (NULL, ?, ?, ?, ?, ?, ?, NULL, NULL, NULL, NULL, ?, ?, ?)&quot;;  \n      PreparedStatement ps = JDBC.getConnection().prepareStatement(sqlAddAppt);\n      ps.setString(1, title);\n      ps.setString(2, description); \n      ps.setString(3, location);  \n      ps.setString(4, type);  \n      ps.setTimestamp(5, Timestamp.valueOf(start)); \n      ps.setTimestamp(6, Timestamp.valueOf(end));  \n      ps.setInt(7, customerID);    \n      ps.setInt(8, userID);  \n      ps.setInt(9, contactID);  \n      ps.execute();   \n } \ncatch (SQLException e) {       \n e.printStackTrace();    }}\n\n\npublic static void updateAppointment(String title, String description, String location, String type, LocalDateTime start, LocalDateTime end, int customerID, int userID, int contactID) {\ntry { \n   String sqlUpdate = &quot;UPDATE appointments SET Title=?, Description=?, Location=?, Type=?, Start=?, End=?, Customer_ID=?, User_ID=?, Contact_ID=? WHERE Appointment_ID = ?;&quot;;\n    PreparedStatement ps = JDBC.getConnection().prepareStatement(sqlUpdate);\n    ps.setString(1, title); \n    ps.setString(2, description);  \n    ps.setString(3, location); \n    ps.setString(4, type); \n    ps.setTimestamp(5, Timestamp.valueOf(start)); \n    ps.setTimestamp(6, Timestamp.valueOf(end)); \n    ps.setInt(7, customerID); \n    ps.setInt(8, userID);  \n    ps.setInt(9, contactID);  \n    ps.execute(); } catch (SQLException e) {  \n    e.printStackTrace();    }}\n</code></pre>\n<p>I'm calling the methods the same way using :</p>\n<pre><code>DBAppointments.updateAppointment(title, description, location, type, startTimeUTC.toLocalDateTime(), endTimeUTC.toLocalDateTime(), customerID.getCustomerID(), userID.getUserID(), contact.getContactID());\n\nDBAppointments.addAppointment(title, description, location, type, startTimeUTC.toLocalDateTime(), endTimeUTC.toLocalDateTime(), customerID.getCustomerID(), userID.getUserID(), contact.getContactID());\n</code></pre>\n<p>The &quot;addAppointment&quot; works perfectly and will Insert correctly but when I try to use the update method, it doesn't return any errors but it also does not update the database.  Any ideas?</p>\n"},{"tags":["java","spring","http","mybatis","http-verbs"],"answers":[{"tags":[],"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636533776,"creation_date":1636455889,"answer_id":69897001,"question_id":69896421,"body_markdown":"Lets clarify some things first:\r\n\r\n - Update:  If Bean `(MyBean)` has multiple fields, then you create 1 SQL  statement to update all fields once in your batis.\r\n\r\n - Patch: If Bean `(MyBean)` has multiple fields, then you create 1 SQL Statement to patch (updating only some fields).\r\n\r\nIn your `Batis mapper XML`, would you need to define 2 functions:\r\n\r\n**Update User ,**\r\n**Patch User ,**\r\n\r\nWhat you define in your batis mapper is your DAO statements.  \r\n\r\nWhat you define your Spring MVC is your Controller/Services, and what you want to achieve.\r\n\r\nIf you want 2 endpoints (PUT, PATCH), and you want them to do different things, then you need 2 different statements in batis.\r\n\r\n\r\n\r\n\r\nTake note of     `&lt;mapper namespace=&quot;org.com.BatisUserService&quot;&gt;` which is what you will use to later on reference the implementations from your other classes such as `@Controller`, or `@Service` in your Spring MVC app.\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;    \r\n    &lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot; &gt;\r\n    &lt;mapper namespace=&quot;org.com.BatisUserService&quot;&gt;  &lt;---- Take note of this\r\n        &lt;update id=&quot;updateUser&quot;\r\n            parameterType=&quot;org.com.model.User&quot;&gt;\r\n            UPDATE user SET\r\n            user_name=#{userName,jdbcType=VARCHAR},\r\n            user_password=#{userPassword,jdbcType=VARCHAR},\r\n            user_email=#{userEmail,jdbcType=VARCHAR}\r\n            WHERE\r\n            user_id=#{userId,jdbcType=INTEGER};\r\n        &lt;/update&gt;\r\n    \r\n        &lt;update id=&quot;patchUser&quot;\r\n            parameterType=&quot;org.com.model.User&quot;&gt;\r\n            UPDATE user SET\r\n            user_name=#{userName,jdbcType=VARCHAR}\r\n            user_password=#{userPassword,jdbcType=VARCHAR},\r\n            WHERE\r\n            user_id=#{userId,jdbcType=INTEGER};\r\n        &lt;/update&gt;\r\n    &lt;/mapper&gt;\r\n\r\nThen in your Controller, you would then call your Mapper `org.com.BatisUserService` which has the functions `updateUser` and `patchUser` defined:\r\n\r\n\r\n    @Controller\r\n    @RequestMapping(value = &quot;/user&quot;)\r\n    public class UserController {\r\n    \r\n      @Autowired\r\n      private BatisUserService batisUserService;\r\n    \r\n      @RequestMapping(value = &quot;/updateUser&quot;, method = RequestMethod.POST)\r\n      public User updateUser(User user) {\r\n          batisUserService.updateUser(user);\r\n      }\r\n    \r\n      @RequestMapping(value = &quot;/patchUser&quot;, method = RequestMethod.PATCH)\r\n      public User patchUser(User user) {\r\n          batisUserService.patchUser(user);\r\n      }\r\n    \r\n    }\r\n\r\n\r\n\r\n","title":"how to implement http patch logic","body":"<p>Lets clarify some things first:</p>\n<ul>\n<li><p>Update:  If Bean <code>(MyBean)</code> has multiple fields, then you create 1 SQL  statement to update all fields once in your batis.</p>\n</li>\n<li><p>Patch: If Bean <code>(MyBean)</code> has multiple fields, then you create 1 SQL Statement to patch (updating only some fields).</p>\n</li>\n</ul>\n<p>In your <code>Batis mapper XML</code>, would you need to define 2 functions:</p>\n<p><strong>Update User ,</strong>\n<strong>Patch User ,</strong></p>\n<p>What you define in your batis mapper is your DAO statements.</p>\n<p>What you define your Spring MVC is your Controller/Services, and what you want to achieve.</p>\n<p>If you want 2 endpoints (PUT, PATCH), and you want them to do different things, then you need 2 different statements in batis.</p>\n<p>Take note of     <code>&lt;mapper namespace=&quot;org.com.BatisUserService&quot;&gt;</code> which is what you will use to later on reference the implementations from your other classes such as <code>@Controller</code>, or <code>@Service</code> in your Spring MVC app.</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;    \n&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot; &gt;\n&lt;mapper namespace=&quot;org.com.BatisUserService&quot;&gt;  &lt;---- Take note of this\n    &lt;update id=&quot;updateUser&quot;\n        parameterType=&quot;org.com.model.User&quot;&gt;\n        UPDATE user SET\n        user_name=#{userName,jdbcType=VARCHAR},\n        user_password=#{userPassword,jdbcType=VARCHAR},\n        user_email=#{userEmail,jdbcType=VARCHAR}\n        WHERE\n        user_id=#{userId,jdbcType=INTEGER};\n    &lt;/update&gt;\n\n    &lt;update id=&quot;patchUser&quot;\n        parameterType=&quot;org.com.model.User&quot;&gt;\n        UPDATE user SET\n        user_name=#{userName,jdbcType=VARCHAR}\n        user_password=#{userPassword,jdbcType=VARCHAR},\n        WHERE\n        user_id=#{userId,jdbcType=INTEGER};\n    &lt;/update&gt;\n&lt;/mapper&gt;\n</code></pre>\n<p>Then in your Controller, you would then call your Mapper <code>org.com.BatisUserService</code> which has the functions <code>updateUser</code> and <code>patchUser</code> defined:</p>\n<pre><code>@Controller\n@RequestMapping(value = &quot;/user&quot;)\npublic class UserController {\n\n  @Autowired\n  private BatisUserService batisUserService;\n\n  @RequestMapping(value = &quot;/updateUser&quot;, method = RequestMethod.POST)\n  public User updateUser(User user) {\n      batisUserService.updateUser(user);\n  }\n\n  @RequestMapping(value = &quot;/patchUser&quot;, method = RequestMethod.PATCH)\n  public User patchUser(User user) {\n      batisUserService.patchUser(user);\n  }\n\n}\n</code></pre>\n"}],"owner":{"account_id":4116401,"reputation":1189,"user_id":3377836,"accept_rate":62,"display_name":"frank"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69897001,"answer_count":1,"score":0,"last_activity_date":1636533776,"creation_date":1636453251,"question_id":69896421,"body_markdown":"i am using java, spring mvc and mybatis.\r\n\r\nfor http `patch`, it is used to update partial resource, while `put` updates the entirely resource.\r\n\r\nmy code looks like\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/test&quot;)\r\npublic class Test {\r\n@PutMapping\r\npublic void update(MyBean myBean) {\r\n    //update MyBean\r\n}\r\n```\r\nmybatis code is:\r\n```\r\n&lt;update id=&quot;updateMyBean&quot;&gt;\r\n    update My_Bean\r\n    &lt;set&gt;\r\n        &lt;if test=&quot;filed1 != null&gt;field1 = #{field1},&lt;/if&gt;\r\n        &lt;if test=&quot;filed2 != null&gt;field1 = #{field2},&lt;/if&gt;\r\n        &lt;if test=&quot;filed3 != null&gt;field1 = #{field3},&lt;/if&gt;\r\n    &lt;/set&gt;\r\n    where id = #{id}\r\n&lt;/update&gt;\r\n```\r\n\r\nthen how to implement `patch` in the spring mvc? how to implement `patch` in mybatis?\r\n\r\nis it add another update method like following?\r\n```\r\n@PutMapping\r\npublic void update(MyBean myBean) {\r\n    //update MyBean\r\n}\r\n\r\n@PatchMapping\r\npublic void updateBeanPartial(MyBean myBean) {\r\n    //update MyBean\r\n}\r\n//they look like the same just annotations and/or method name are different\r\nor\r\n@PatchMapping\r\npublic void updateBeanPartial(Map myBeanMap) {\r\n    //update MyBean\r\n}\r\n//use Map as parameters, but in this case, we cannot do bean validation easily and cannot show what fields need to be sent in swagger\r\n\r\n//or use specified fields of MyBean as parameter, but it will introduce many controller methods because MyBean can have many fields\r\n```\r\nand they use same mybatis `update` statement?\r\n\r\nThus, how to implement `put` and `patch` in the code?\r\nor their difference only in the semantic not in the code?\r\n\r\n","title":"how to implement http patch logic","body":"<p>i am using java, spring mvc and mybatis.</p>\n<p>for http <code>patch</code>, it is used to update partial resource, while <code>put</code> updates the entirely resource.</p>\n<p>my code looks like</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/test&quot;)\npublic class Test {\n@PutMapping\npublic void update(MyBean myBean) {\n    //update MyBean\n}\n</code></pre>\n<p>mybatis code is:</p>\n<pre><code>&lt;update id=&quot;updateMyBean&quot;&gt;\n    update My_Bean\n    &lt;set&gt;\n        &lt;if test=&quot;filed1 != null&gt;field1 = #{field1},&lt;/if&gt;\n        &lt;if test=&quot;filed2 != null&gt;field1 = #{field2},&lt;/if&gt;\n        &lt;if test=&quot;filed3 != null&gt;field1 = #{field3},&lt;/if&gt;\n    &lt;/set&gt;\n    where id = #{id}\n&lt;/update&gt;\n</code></pre>\n<p>then how to implement <code>patch</code> in the spring mvc? how to implement <code>patch</code> in mybatis?</p>\n<p>is it add another update method like following?</p>\n<pre><code>@PutMapping\npublic void update(MyBean myBean) {\n    //update MyBean\n}\n\n@PatchMapping\npublic void updateBeanPartial(MyBean myBean) {\n    //update MyBean\n}\n//they look like the same just annotations and/or method name are different\nor\n@PatchMapping\npublic void updateBeanPartial(Map myBeanMap) {\n    //update MyBean\n}\n//use Map as parameters, but in this case, we cannot do bean validation easily and cannot show what fields need to be sent in swagger\n\n//or use specified fields of MyBean as parameter, but it will introduce many controller methods because MyBean can have many fields\n</code></pre>\n<p>and they use same mybatis <code>update</code> statement?</p>\n<p>Thus, how to implement <code>put</code> and <code>patch</code> in the code?\nor their difference only in the semantic not in the code?</p>\n"},{"tags":["java","android","android-studio","android-location","android-geofence"],"answers":[{"tags":[],"owner":{"account_id":23280643,"reputation":229,"user_id":17364139,"display_name":"Joe199382"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636533383,"creation_date":1636533383,"answer_id":69910029,"question_id":69904183,"body_markdown":"- In Android 8: Apps in the background can only retrieve the user&#39;s location a few times per hour.\r\n\r\n- Before Android 10: Location permission is a single resource, and the application can be used everywhere with only one authorization (foreground and background).\r\n\r\n- In Android 10: The background location becomes an independent resource. In addition to the foreground request, the application must explicitly request this permission.\r\n\r\n- In Android 11: It is not possible to request background location permission at the same time as others, and the application must request it separately. In addition, requesting this permission will not prompt the user immediately like other permissions, but will take the user to the Settings page so that the user can update the permission level.\r\n\r\n# Before Android 10\r\nLocation permission only needs to be requested once, and apps in the foreground and background can be used. The user has only 2 options: authorize or not authorize.\r\n\r\n```\r\n@TargetApi(28)\r\nfun Context.checkLocationPermissionAPI28(locationRequestCode : Int) {\r\n    if (!checkSinglePermission(Manifest.permission.ACCESS_FINE_LOCATION) ||\r\n        !checkSinglePermission(Manifest.permission.ACCESS_COARSE_LOCATION)) {\r\n        val permList = arrayOf(\r\n            Manifest.permission.ACCESS_FINE_LOCATION,\r\n            Manifest.permission.ACCESS_COARSE_LOCATION\r\n        )\r\n        requestPermissions(permList, locationRequestCode)\r\n    }\r\n}\r\n\r\nprivate fun Context.checkSinglePermission(permission: String) : Boolean {\r\n    return ContextCompat.checkSelfPermission(this, permission) == PackageManager.PERMISSION_GRANTED\r\n}\r\n```\r\n\r\n# Android 10\r\nIn this version, ACCESS_BACKGROUND_LOCATION is added, you can request this permission to obtain both the foreground and background permissions, like the following:\r\n```\r\n@TargetApi(29)\r\nprivate fun Context.checkLocationPermissionAPI29(locationRequestCode : Int) {\r\n    if (checkSinglePermission(Manifest.permission.ACCESS_FINE_LOCATION) &amp;&amp;\r\n        checkSinglePermission(Manifest.permission.ACCESS_COARSE_LOCATION) &amp;&amp;\r\n        checkSinglePermission(Manifest.permission.ACCESS_BACKGROUND_LOCATION)) return\r\n    val permList = arrayOf(Manifest.permission.ACCESS_FINE_LOCATION, \r\n                           Manifest.permission.ACCESS_COARSE_LOCATION,\r\n                           Manifest.permission.ACCESS_BACKGROUND_LOCATION)\r\n    requestPermissions(permList, locationRequestCode)\r\n    \r\n}\r\n\r\nprivate fun Context.checkSinglePermission(permission: String) : Boolean {\r\n    return ContextCompat.checkSelfPermission(this, permission) == PackageManager.PERMISSION_GRANTED\r\n}\r\n```\r\n\r\nSimilarly, if the foreground permission (ACCESS_COARSE_LOCATION or ACCESS_FINE_LOCATION) is requested, the Android operating system will automatically add the background permission (ACCESS_BACKGROUND_LOCATION) to the request. It is similar to the declaration of &lt;uses-permission&gt;, whether ACCESS_COARSE_LOCATION or ACCESS_FINE_LOCATION is declared, ACCESS_BACKGROUND_LOCATION will be added during the installation process.\r\n\r\nThe user now has three options: background (anytime), foreground (only during APP use), and reject.\r\n\r\n# Android 11\r\nIn addition to the above, developers also need to add some other steps.\r\n\r\nThere are two scenarios here. The first one is when only requesting permission from the front desk. In this case, we usually use ACCESS_FINE_LOCATION or ACCESS_COARSE_LOCATION. However, the pop-up window for requesting authorization is slightly different from the previous one. In Android 11, Google added an option Only this time.\r\n\r\nPlease note that even if ACCESS_BACKGROUND_LOCATION is added to the list of permissions to request, the system will ignore it.\r\n\r\nThe second situation is that the application also needs background permission. For this, you must prepare your own dialog box and use a clear message to explain the use of the background location.\r\n\r\nWhen the user agrees, he will be directed to the application settings page, where he can choose the permission level he wants to grant.\r\n\r\n```\r\n@TargetApi(30)\r\nprivate fun Context.checkBackgroundLocationPermissionAPI30(backgroundLocationRequestCode: Int) {\r\n    if (checkSinglePermission(Manifest.permission.ACCESS_BACKGROUND_LOCATION)) return\r\n    AlertDialog.Builder(this)\r\n        .setTitle(R.string.background_location_permission_title)\r\n        .setMessage(R.string.background_location_permission_message)\r\n        .setPositiveButton(R.string.yes) { _,_ -&gt;\r\n            // this request will take user to Application&#39;s Setting page\r\n            requestPermissions(arrayOf(Manifest.permission.ACCESS_BACKGROUND_LOCATION), backgroundLocationRequestCode)\r\n        }  \r\n        .setNegativeButton(R.string.no) { dialog,_ -&gt;\r\n            dialog.dismiss()\r\n        } \r\n        .create()\r\n        .show()\r\n}\r\n```\r\n\r\nIn Android 11, we have 4 permission levels for location information.\r\n\r\nWhen the user selects Allow all the time, the APP has the permission to use location information in the background.","title":"Android Geofence Background Limitations","body":"<ul>\n<li><p>In Android 8: Apps in the background can only retrieve the user's location a few times per hour.</p>\n</li>\n<li><p>Before Android 10: Location permission is a single resource, and the application can be used everywhere with only one authorization (foreground and background).</p>\n</li>\n<li><p>In Android 10: The background location becomes an independent resource. In addition to the foreground request, the application must explicitly request this permission.</p>\n</li>\n<li><p>In Android 11: It is not possible to request background location permission at the same time as others, and the application must request it separately. In addition, requesting this permission will not prompt the user immediately like other permissions, but will take the user to the Settings page so that the user can update the permission level.</p>\n</li>\n</ul>\n<h1>Before Android 10</h1>\n<p>Location permission only needs to be requested once, and apps in the foreground and background can be used. The user has only 2 options: authorize or not authorize.</p>\n<pre><code>@TargetApi(28)\nfun Context.checkLocationPermissionAPI28(locationRequestCode : Int) {\n    if (!checkSinglePermission(Manifest.permission.ACCESS_FINE_LOCATION) ||\n        !checkSinglePermission(Manifest.permission.ACCESS_COARSE_LOCATION)) {\n        val permList = arrayOf(\n            Manifest.permission.ACCESS_FINE_LOCATION,\n            Manifest.permission.ACCESS_COARSE_LOCATION\n        )\n        requestPermissions(permList, locationRequestCode)\n    }\n}\n\nprivate fun Context.checkSinglePermission(permission: String) : Boolean {\n    return ContextCompat.checkSelfPermission(this, permission) == PackageManager.PERMISSION_GRANTED\n}\n</code></pre>\n<h1>Android 10</h1>\n<p>In this version, ACCESS_BACKGROUND_LOCATION is added, you can request this permission to obtain both the foreground and background permissions, like the following:</p>\n<pre><code>@TargetApi(29)\nprivate fun Context.checkLocationPermissionAPI29(locationRequestCode : Int) {\n    if (checkSinglePermission(Manifest.permission.ACCESS_FINE_LOCATION) &amp;&amp;\n        checkSinglePermission(Manifest.permission.ACCESS_COARSE_LOCATION) &amp;&amp;\n        checkSinglePermission(Manifest.permission.ACCESS_BACKGROUND_LOCATION)) return\n    val permList = arrayOf(Manifest.permission.ACCESS_FINE_LOCATION, \n                           Manifest.permission.ACCESS_COARSE_LOCATION,\n                           Manifest.permission.ACCESS_BACKGROUND_LOCATION)\n    requestPermissions(permList, locationRequestCode)\n    \n}\n\nprivate fun Context.checkSinglePermission(permission: String) : Boolean {\n    return ContextCompat.checkSelfPermission(this, permission) == PackageManager.PERMISSION_GRANTED\n}\n</code></pre>\n<p>Similarly, if the foreground permission (ACCESS_COARSE_LOCATION or ACCESS_FINE_LOCATION) is requested, the Android operating system will automatically add the background permission (ACCESS_BACKGROUND_LOCATION) to the request. It is similar to the declaration of , whether ACCESS_COARSE_LOCATION or ACCESS_FINE_LOCATION is declared, ACCESS_BACKGROUND_LOCATION will be added during the installation process.</p>\n<p>The user now has three options: background (anytime), foreground (only during APP use), and reject.</p>\n<h1>Android 11</h1>\n<p>In addition to the above, developers also need to add some other steps.</p>\n<p>There are two scenarios here. The first one is when only requesting permission from the front desk. In this case, we usually use ACCESS_FINE_LOCATION or ACCESS_COARSE_LOCATION. However, the pop-up window for requesting authorization is slightly different from the previous one. In Android 11, Google added an option Only this time.</p>\n<p>Please note that even if ACCESS_BACKGROUND_LOCATION is added to the list of permissions to request, the system will ignore it.</p>\n<p>The second situation is that the application also needs background permission. For this, you must prepare your own dialog box and use a clear message to explain the use of the background location.</p>\n<p>When the user agrees, he will be directed to the application settings page, where he can choose the permission level he wants to grant.</p>\n<pre><code>@TargetApi(30)\nprivate fun Context.checkBackgroundLocationPermissionAPI30(backgroundLocationRequestCode: Int) {\n    if (checkSinglePermission(Manifest.permission.ACCESS_BACKGROUND_LOCATION)) return\n    AlertDialog.Builder(this)\n        .setTitle(R.string.background_location_permission_title)\n        .setMessage(R.string.background_location_permission_message)\n        .setPositiveButton(R.string.yes) { _,_ -&gt;\n            // this request will take user to Application's Setting page\n            requestPermissions(arrayOf(Manifest.permission.ACCESS_BACKGROUND_LOCATION), backgroundLocationRequestCode)\n        }  \n        .setNegativeButton(R.string.no) { dialog,_ -&gt;\n            dialog.dismiss()\n        } \n        .create()\n        .show()\n}\n</code></pre>\n<p>In Android 11, we have 4 permission levels for location information.</p>\n<p>When the user selects Allow all the time, the APP has the permission to use location information in the background.</p>\n"}],"owner":{"account_id":22908450,"reputation":21,"user_id":17046127,"display_name":"Xmax"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":363,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1636533383,"creation_date":1636487215,"question_id":69904183,"body_markdown":"How can I get instant transitions updates from geofence, when the app is running in the background?\r\n\r\nAndroid background location limitations are preventing that from happening. Is there any way around it? ","title":"Android Geofence Background Limitations","body":"<p>How can I get instant transitions updates from geofence, when the app is running in the background?</p>\n<p>Android background location limitations are preventing that from happening. Is there any way around it?</p>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"score":3,"creation_date":1636531928,"post_id":69909736,"comment_id":123578966,"body_markdown":"`b=b` in `for(b=b;b&lt;16;b=b+1)`. Your 1st inner loop ends with `b=16`. then in next outer loop iteration, your inner loop `b` is 16, so condition `b&lt;16` is false.","body":"<code>b=b</code> in <code>for(b=b;b&lt;16;b=b+1)</code>. Your 1st inner loop ends with <code>b=16</code>. then in next outer loop iteration, your inner loop <code>b</code> is 16, so condition <code>b&lt;16</code> is false."},{"owner":{"account_id":21825332,"reputation":1219,"user_id":16120911,"display_name":"sittsering"},"score":0,"creation_date":1636532086,"post_id":69909736,"comment_id":123579010,"body_markdown":"also whats the point of taking user input `b`? what are you trying to do with it?","body":"also whats the point of taking user input <code>b</code>? what are you trying to do with it?"},{"owner":{"account_id":17190715,"reputation":563,"user_id":12444527,"display_name":"Trushit Shekhda"},"score":0,"creation_date":1636532787,"post_id":69909736,"comment_id":123579282,"body_markdown":"He is taking input for his starting position.\nAnd I would like to add one note here is please check your input before processing. Your input must be less than or equal to 15. Otherwise your code doesn&#39;t produce any output","body":"He is taking input for his starting position. And I would like to add one note here is please check your input before processing. Your input must be less than or equal to 15. Otherwise your code doesn&#39;t produce any output"}],"answers":[{"tags":[],"owner":{"display_name":"user17353495"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636532049,"creation_date":1636532049,"answer_id":69909774,"question_id":69909736,"body_markdown":"You are doing this: `b=b`. So do this:\r\n\r\n```\r\nfor(a=1 ;a&lt;11;a=a+1)\r\n        for(b=1;b&lt;16;b=b+1) // change here!!\r\n        System.out.println(b + &quot; * &quot; + a + &quot; = &quot; + b*a);\r\n```","title":"why don&#39;t i get the out put for values of &#39;a&#39; other than 1?","body":"<p>You are doing this: <code>b=b</code>. So do this:</p>\n<pre><code>for(a=1 ;a&lt;11;a=a+1)\n        for(b=1;b&lt;16;b=b+1) // change here!!\n        System.out.println(b + &quot; * &quot; + a + &quot; = &quot; + b*a);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17190715,"reputation":563,"user_id":12444527,"display_name":"Trushit Shekhda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636532383,"creation_date":1636532383,"answer_id":69909834,"question_id":69909736,"body_markdown":"Simply assign your input variable `(x)` at the starting of the inner loop as below will solve your problem.\r\n\r\nTill now you were initialized `b` as the last value of the previous iteration that is why your inner loop is not executed after the first iteration.\r\n\r\n    public class Simple {\r\n        public static void main(String[] args) {\r\n    \r\n            Scanner sc = new Scanner(System.in);\r\n    \r\n            System.out.println();\r\n            System.out.print(&quot;ENTER A NUMBER: &quot;);\r\n            int x = sc.nextInt(); // take input as x\r\n    \r\n            for(int a=1 ;a&lt;11;a++) {\r\n                for (int b = x; b &lt; 16; b = b + 1) { // initialize b with input variable(x)\r\n                    System.out.println(b + &quot; * &quot; + a + &quot; = &quot; + b * a);\r\n                }\r\n            }\r\n        }\r\n    }","title":"why don&#39;t i get the out put for values of &#39;a&#39; other than 1?","body":"<p>Simply assign your input variable <code>(x)</code> at the starting of the inner loop as below will solve your problem.</p>\n<p>Till now you were initialized <code>b</code> as the last value of the previous iteration that is why your inner loop is not executed after the first iteration.</p>\n<pre><code>public class Simple {\n    public static void main(String[] args) {\n\n        Scanner sc = new Scanner(System.in);\n\n        System.out.println();\n        System.out.print(&quot;ENTER A NUMBER: &quot;);\n        int x = sc.nextInt(); // take input as x\n\n        for(int a=1 ;a&lt;11;a++) {\n            for (int b = x; b &lt; 16; b = b + 1) { // initialize b with input variable(x)\n                System.out.println(b + &quot; * &quot; + a + &quot; = &quot; + b * a);\n            }\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23249673,"reputation":1,"user_id":17337691,"display_name":"Shashwat Kumar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69909834,"answer_count":2,"score":-1,"last_activity_date":1636533025,"creation_date":1636531840,"question_id":69909736,"body_markdown":" why isn&#39;t the loop starting again with different value of a other than 1.\r\n```java \r\npackage com.company;\r\n\r\nimport java.util.Scanner;\r\n\r\npublic class ForDemo {\r\n    public static void main(String[] args) {\r\n\r\n        Scanner sc = new Scanner(System.in);\r\n\r\n        System.out.println();\r\n        System.out.print(&quot;ENTER A NUMBER: &quot;);\r\n        int b = sc.nextInt();\r\n        int a;\r\n        \r\n        for(a=1 ;a&lt;11;a=a+1)\r\n        for(b=b;b&lt;16;b=b+1)\r\n        System.out.println(b + &quot; * &quot; + a + &quot; = &quot; + b*a);\r\n    }\r\n}\r\n```\r\n\r\noutput:\r\n&gt; \r\n&gt; ENTER A NUMBER: 1\r\n&gt; \r\n&gt; 1 * 1 = 1\r\n&gt; \r\n&gt; 2 * 1 = 2\r\n&gt; \r\n&gt; 3 * 1 = 3\r\n&gt; \r\n&gt; 4 * 1 = 4\r\n&gt; \r\n&gt; 5 * 1 = 5\r\n&gt; \r\n&gt; 6 * 1 = 6\r\n&gt; \r\n&gt; 7 * 1 = 7\r\n&gt; \r\n&gt; 8 * 1 = 8\r\n&gt; \r\n&gt; 9 * 1 = 9\r\n&gt; \r\n&gt; 10 * 1 = 10\r\n&gt; \r\n&gt; 11 * 1 = 11\r\n&gt; \r\n&gt; 12 * 1 = 12\r\n&gt; \r\n&gt; 13 * 1 = 13\r\n&gt; \r\n&gt; 14 * 1 = 14 here it terminates!\r\n&gt; \r\nrequired output:\r\n&gt; \r\n&gt; 1 * 1 = 1\r\n&gt; \r\n&gt; 2 * 1 = 2\r\n&gt; \r\n&gt; 3 * 1 = 3\r\n&gt; \r\n&gt; 4 * 1 = 4\r\n&gt; \r\n&gt; 5 * 1 = 5\r\n&gt; \r\n&gt; 6 * 1 = 6\r\n&gt; \r\n&gt; 7 * 1 = 7\r\n&gt; \r\n&gt; 8 * 1 = 8\r\n&gt; \r\n&gt; 9 * 1 = 9\r\n&gt; \r\n&gt; 10 * 1 = 10\r\n&gt; \r\n&gt; 11 * 1 = 11\r\n&gt; \r\n&gt; 12 * 1 = 12\r\n&gt; \r\n&gt; 13 * 1  = 13\r\n&gt; \r\n&gt; 14 * 1 = 14\r\n&gt; \r\n&gt; 15 * 1 = 15\r\n&gt; \r\n&gt; 1 * 2 = 2\r\n&gt; \r\n&gt; 2 * 2 = 4\r\n&gt; \r\n&gt; 3 * 2 = 6\r\n&gt; \r\n&gt; 4 * 2 = 8\r\n&gt; \r\n&gt; 5 * 2 = 10\r\n&gt; \r\n&gt; 6 * 2 = 12\r\n&gt; \r\n&gt; 7 * 2 = 14\r\n&gt; \r\n&gt; 8 * 2 = 16\r\n&gt; \r\n&gt; 9 * 2 = 18\r\n&gt; \r\n&gt; 10 * 2 = 20\r\n&gt; \r\n&gt; 11 * 2 = 22\r\n&gt; \r\n&gt; 12 * 2 = 24\r\n&gt; \r\n&gt; 13 * 2 = 26\r\n&gt; \r\n&gt; 14 * 2 = 28\r\n&gt; \r\n&gt; 15 * 2 = 30  and so on....\r\n\r\n","title":"why don&#39;t i get the out put for values of &#39;a&#39; other than 1?","body":"<p>why isn't the loop starting again with different value of a other than 1.</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.company;\n\nimport java.util.Scanner;\n\npublic class ForDemo {\n    public static void main(String[] args) {\n\n        Scanner sc = new Scanner(System.in);\n\n        System.out.println();\n        System.out.print(&quot;ENTER A NUMBER: &quot;);\n        int b = sc.nextInt();\n        int a;\n        \n        for(a=1 ;a&lt;11;a=a+1)\n        for(b=b;b&lt;16;b=b+1)\n        System.out.println(b + &quot; * &quot; + a + &quot; = &quot; + b*a);\n    }\n}\n</code></pre>\n<p>output:</p>\n<blockquote>\n<p>ENTER A NUMBER: 1</p>\n<p>1 * 1 = 1</p>\n<p>2 * 1 = 2</p>\n<p>3 * 1 = 3</p>\n<p>4 * 1 = 4</p>\n<p>5 * 1 = 5</p>\n<p>6 * 1 = 6</p>\n<p>7 * 1 = 7</p>\n<p>8 * 1 = 8</p>\n<p>9 * 1 = 9</p>\n<p>10 * 1 = 10</p>\n<p>11 * 1 = 11</p>\n<p>12 * 1 = 12</p>\n<p>13 * 1 = 13</p>\n<p>14 * 1 = 14 here it terminates!</p>\n</blockquote>\n<p>required output:</p>\n<blockquote>\n<p>1 * 1 = 1</p>\n<p>2 * 1 = 2</p>\n<p>3 * 1 = 3</p>\n<p>4 * 1 = 4</p>\n<p>5 * 1 = 5</p>\n<p>6 * 1 = 6</p>\n<p>7 * 1 = 7</p>\n<p>8 * 1 = 8</p>\n<p>9 * 1 = 9</p>\n<p>10 * 1 = 10</p>\n<p>11 * 1 = 11</p>\n<p>12 * 1 = 12</p>\n<p>13 * 1  = 13</p>\n<p>14 * 1 = 14</p>\n<p>15 * 1 = 15</p>\n<p>1 * 2 = 2</p>\n<p>2 * 2 = 4</p>\n<p>3 * 2 = 6</p>\n<p>4 * 2 = 8</p>\n<p>5 * 2 = 10</p>\n<p>6 * 2 = 12</p>\n<p>7 * 2 = 14</p>\n<p>8 * 2 = 16</p>\n<p>9 * 2 = 18</p>\n<p>10 * 2 = 20</p>\n<p>11 * 2 = 22</p>\n<p>12 * 2 = 24</p>\n<p>13 * 2 = 26</p>\n<p>14 * 2 = 28</p>\n<p>15 * 2 = 30  and so on....</p>\n</blockquote>\n"},{"tags":["java","maven","gwt"],"answers":[{"tags":[],"owner":{"account_id":2480204,"reputation":1014,"user_id":2159821,"display_name":"Ahmad Bawaneh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636532915,"creation_date":1636532915,"answer_id":69909935,"question_id":69906756,"body_markdown":"A gwt-lib is just a normal jar with `&lt;packaging&gt;gwt-lib&lt;/packaging&gt;` and a gwt module name, so just set the packaging, add ltgt plugin with extensions true, and set a module name. here is a sample pom\r\n\r\n    &lt;parent&gt;\r\n        &lt;groupId&gt;org.gwtproject.test&lt;/groupId&gt;\r\n        &lt;artifactId&gt;test&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;/parent&gt;\r\n    \r\n      &lt;artifactId&gt;test-lib&lt;/artifactId&gt;\r\n      &lt;packaging&gt;gwt-lib&lt;/packaging&gt;\r\n    \r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.google.gwt&lt;/groupId&gt;\r\n          &lt;artifactId&gt;gwt-user&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    \r\n      &lt;build&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;groupId&gt;net.ltgt.gwt.maven&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gwt-maven-plugin&lt;/artifactId&gt;\r\n            &lt;extensions&gt;true&lt;/extensions&gt;\r\n            &lt;configuration&gt;\r\n              &lt;moduleName&gt;org.gwtproject.test.Lib&lt;/moduleName&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n    &lt;/project&gt;","title":"How to create a gwt-lib from scratch using tbroyer plugin?","body":"<p>A gwt-lib is just a normal jar with <code>&lt;packaging&gt;gwt-lib&lt;/packaging&gt;</code> and a gwt module name, so just set the packaging, add ltgt plugin with extensions true, and set a module name. here is a sample pom</p>\n<pre><code>&lt;parent&gt;\n    &lt;groupId&gt;org.gwtproject.test&lt;/groupId&gt;\n    &lt;artifactId&gt;test&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;/parent&gt;\n\n  &lt;artifactId&gt;test-lib&lt;/artifactId&gt;\n  &lt;packaging&gt;gwt-lib&lt;/packaging&gt;\n\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;com.google.gwt&lt;/groupId&gt;\n      &lt;artifactId&gt;gwt-user&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;net.ltgt.gwt.maven&lt;/groupId&gt;\n        &lt;artifactId&gt;gwt-maven-plugin&lt;/artifactId&gt;\n        &lt;extensions&gt;true&lt;/extensions&gt;\n        &lt;configuration&gt;\n          &lt;moduleName&gt;org.gwtproject.test.Lib&lt;/moduleName&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":23286132,"reputation":3,"user_id":17368946,"display_name":"J&#250;lio Oliveira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69909935,"answer_count":1,"score":0,"last_activity_date":1636532915,"creation_date":1636505210,"question_id":69906756,"body_markdown":"I&#39;m trying to create a gwt-lib (I gonna call it *gwt-comp*) to store my components and a separated gwt-app (I gonna call it *viewer*) to show them but I&#39;m missing something and don&#39;t know what. Both my projects was made with:\r\n```\r\nmvn archetype:generate \\\r\n   -DarchetypeGroupId=net.ltgt.gwt.archetypes \\\r\n   -DarchetypeVersion=LATEST \\\r\n   -DarchetypeArtifactId=modular-webapp\r\n```\r\nThe only differences are that I added on their pom:\r\n```\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;3.2.2&lt;/version&gt;\r\n&lt;/plugin&gt;\r\n```\r\nOn *viewer*&#39;s pom added *gwt-lib* as dependency with ```&lt;type&gt;gwt-lib&lt;/type&gt;``` \r\n```\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.test&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;gwt-comp&lt;/artifactId&gt;\r\n\t&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n\t&lt;type&gt;gwt-lib&lt;/type&gt;\r\n&lt;/dependency&gt;\r\n```\r\nI did a lot of others changes on my previous tries but deleted the projects and restarted them from the beginning. Could someone please explain to this newbie jr step by step how to do it?","title":"How to create a gwt-lib from scratch using tbroyer plugin?","body":"<p>I'm trying to create a gwt-lib (I gonna call it <em>gwt-comp</em>) to store my components and a separated gwt-app (I gonna call it <em>viewer</em>) to show them but I'm missing something and don't know what. Both my projects was made with:</p>\n<pre><code>mvn archetype:generate \\\n   -DarchetypeGroupId=net.ltgt.gwt.archetypes \\\n   -DarchetypeVersion=LATEST \\\n   -DarchetypeArtifactId=modular-webapp\n</code></pre>\n<p>The only differences are that I added on their pom:</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.2.2&lt;/version&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>On <em>viewer</em>'s pom added <em>gwt-lib</em> as dependency with <code>&lt;type&gt;gwt-lib&lt;/type&gt;</code></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.test&lt;/groupId&gt;\n    &lt;artifactId&gt;gwt-comp&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;type&gt;gwt-lib&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I did a lot of others changes on my previous tries but deleted the projects and restarted them from the beginning. Could someone please explain to this newbie jr step by step how to do it?</p>\n"},{"tags":["java","excel","apache-poi","xssf"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":2,"creation_date":1636125366,"post_id":69854351,"comment_id":123481072,"body_markdown":"I doubt help will be possible without having a complete example. At least we need to know how you are opening the template and how you are saving **multiple** result files from that template. After `Workbook.write` the `Workbook` cannot be used further. So the template must be opened again for the second and further result files. Is that done? Please do at least outline how.","body":"I doubt help will be possible without having a complete example. At least we need to know how you are opening the template and how you are saving <b>multiple</b> result files from that template. After <code>Workbook.write</code> the <code>Workbook</code> cannot be used further. So the template must be opened again for the second and further result files. Is that done? Please do at least outline how."},{"owner":{"account_id":13459822,"reputation":1807,"user_id":9712270,"display_name":"magicmn"},"score":1,"creation_date":1636125892,"post_id":69854351,"comment_id":123481307,"body_markdown":"Are you reusing your cell styles for multiple workbooks? CellStyles can&#39;t be reused between different workbooks. Something I&#39;ve done to solve this, is to create a reusable `Template.xlsx` which already contains all the styles I need and then I just work with this workbook and save the finished version somewhere else.","body":"Are you reusing your cell styles for multiple workbooks? CellStyles can&#39;t be reused between different workbooks. Something I&#39;ve done to solve this, is to create a reusable <code>Template.xlsx</code> which already contains all the styles I need and then I just work with this workbook and save the finished version somewhere else."},{"owner":{"account_id":12816833,"reputation":71,"user_id":9273200,"display_name":"POP3"},"score":0,"creation_date":1636128205,"post_id":69854351,"comment_id":123482234,"body_markdown":"hello @AxelRichter thank you for your questions. I&#39;ve added the answers to the post. I hope this helps.","body":"hello @AxelRichter thank you for your questions. I&#39;ve added the answers to the post. I hope this helps."},{"owner":{"account_id":12816833,"reputation":71,"user_id":9273200,"display_name":"POP3"},"score":0,"creation_date":1636128312,"post_id":69854351,"comment_id":123482276,"body_markdown":"@magicmn thank you for the question. No i am not reusing the cell styles for multiple workbooks at least not to my knowledge. I create them newly for each of my documents. About the template.xlsx: I use a template but the styles that i need are for cells that are dynamic so i cannot add them to the template in advanche. Right?","body":"@magicmn thank you for the question. No i am not reusing the cell styles for multiple workbooks at least not to my knowledge. I create them newly for each of my documents. About the template.xlsx: I use a template but the styles that i need are for cells that are dynamic so i cannot add them to the template in advanche. Right?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1636132320,"post_id":69854351,"comment_id":123483664,"body_markdown":"Not reproducible having only the information in the question. I have put all your information into a [Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example) producing 3 result files from the template. Then I have run it. It works properly using `apache poi 5.1.0` and produces 3 proper result files.","body":"Not reproducible having only the information in the question. I have put all your information into a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal, Reproducible Example</a> producing 3 result files from the template. Then I have run it. It works properly using <code>apache poi 5.1.0</code> and produces 3 proper result files."},{"owner":{"account_id":12816833,"reputation":71,"user_id":9273200,"display_name":"POP3"},"score":0,"creation_date":1636148393,"post_id":69854351,"comment_id":123488703,"body_markdown":"@AxelRichter i was on version apache poi 4.1.2 initially but i just upgraded to 5.0.0 to test it (would have prefered 5.0.1 but my nexus does not have it yet) but i still get the same results. I will try to upgrade to 5.0.1 asap and try again.","body":"@AxelRichter i was on version apache poi 4.1.2 initially but i just upgraded to 5.0.0 to test it (would have prefered 5.0.1 but my nexus does not have it yet) but i still get the same results. I will try to upgrade to 5.0.1 asap and try again."},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":1,"creation_date":1636180942,"post_id":69854351,"comment_id":123492677,"body_markdown":"It is not a versions problem. My minimal, reproducible example works using `apache poi 4.1.2` too. Files in `*.xlsx` format are `ZIP` archives. So you can unzip the result files and compare `/xl/styles.xml` of those result files. How differs that `XML` in proper files from that in not proper files?.","body":"It is not a versions problem. My minimal, reproducible example works using <code>apache poi 4.1.2</code> too. Files in <code>*.xlsx</code> format are <code>ZIP</code> archives. So you can unzip the result files and compare <code>&#47;xl&#47;styles.xml</code> of those result files. How differs that <code>XML</code> in proper files from that in not proper files?."},{"owner":{"account_id":12816833,"reputation":71,"user_id":9273200,"display_name":"POP3"},"score":0,"creation_date":1636530473,"post_id":69854351,"comment_id":123578528,"body_markdown":"hello @AxelRichter \nVery good input! Thanks.\nThe only difference between the two style.xml files is one font that is present in the working version of the document but not in the one that cannot be opened properly.\n\n        &lt;font&gt;\n            &lt;name val=&quot;Arial Bold&quot; /&gt;\n            &lt;sz val=&quot;10.0&quot; /&gt;\n            &lt;color indexed=&quot;8&quot; /&gt;\n            &lt;b val=&quot;true&quot; /&gt;\n        &lt;/font&gt;\n\nDo you have any idea why this font would not be in certain files?","body":"hello @AxelRichter  Very good input! Thanks. The only difference between the two style.xml files is one font that is present in the working version of the document but not in the one that cannot be opened properly.          &lt;font&gt;             &lt;name val=&quot;Arial Bold&quot; /&gt;             &lt;sz val=&quot;10.0&quot; /&gt;             &lt;color indexed=&quot;8&quot; /&gt;             &lt;b val=&quot;true&quot; /&gt;         &lt;/font&gt;  Do you have any idea why this font would not be in certain files?"},{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1636544133,"post_id":69854351,"comment_id":123583696,"body_markdown":"You say that font is in the template but not in some results created from that template? Then it would must have been deleted somehow. Nothing in your provided code can do this. So the problem is in code we do not know. Sorry, no help possible without [Minimal, Reproducible Example](https://stackoverflow.com/help/minimal-reproducible-example).","body":"You say that font is in the template but not in some results created from that template? Then it would must have been deleted somehow. Nothing in your provided code can do this. So the problem is in code we do not know. Sorry, no help possible without <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">Minimal, Reproducible Example</a>."}],"answers":[{"tags":[],"owner":{"account_id":12816833,"reputation":71,"user_id":9273200,"display_name":"POP3"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636532836,"creation_date":1636532836,"answer_id":69909918,"question_id":69854351,"body_markdown":"so i finally found the cause of the problem.\r\n\r\nBig thank you to Axel Richter who showed me how to find the difference between the excel files with his comment that i can uncompress the excel files to compare the values.\r\n\r\nThe problem was this method:\r\n\r\n      private static XSSFFont getArial10Bold(XSSFWorkbook workbook) {\r\n        if (arial10Bold == null) {\r\n          XSSFFont font = workbook.createFont();\r\n          font.setFontHeightInPoints((short)10);\r\n          font.setFontName(&quot;Arial Bold&quot;);\r\n          font.setColor(IndexedColors.BLACK.getIndex());\r\n          font.setBold(true);\r\n          font.setItalic(false);\r\n          arial10Bold = font;\r\n        }\r\n        return arial10Bold;\r\n      }\r\n\r\nor to be more precise the if-block around the creation of the font. It turns out that when i remove the if-block i no longer get the styles errors i&#39;ve gotten before. \r\n\r\nThe problem was that while the font was written into a private class variable and reused afterwards, the important part that was missing was: `XSSFFont font = workbook.createFont();` as this statement created the font inside the styles of the workbook and with that correctly added the font to the document. This part was only done once for the first document that was created. That is the reason why only the first document was created without style errors.\r\n\r\n\r\n","title":"Apache POI Excel styles problem when creating two or more documents","body":"<p>so i finally found the cause of the problem.</p>\n<p>Big thank you to Axel Richter who showed me how to find the difference between the excel files with his comment that i can uncompress the excel files to compare the values.</p>\n<p>The problem was this method:</p>\n<pre><code>  private static XSSFFont getArial10Bold(XSSFWorkbook workbook) {\n    if (arial10Bold == null) {\n      XSSFFont font = workbook.createFont();\n      font.setFontHeightInPoints((short)10);\n      font.setFontName(&quot;Arial Bold&quot;);\n      font.setColor(IndexedColors.BLACK.getIndex());\n      font.setBold(true);\n      font.setItalic(false);\n      arial10Bold = font;\n    }\n    return arial10Bold;\n  }\n</code></pre>\n<p>or to be more precise the if-block around the creation of the font. It turns out that when i remove the if-block i no longer get the styles errors i've gotten before.</p>\n<p>The problem was that while the font was written into a private class variable and reused afterwards, the important part that was missing was: <code>XSSFFont font = workbook.createFont();</code> as this statement created the font inside the styles of the workbook and with that correctly added the font to the document. This part was only done once for the first document that was created. That is the reason why only the first document was created without style errors.</p>\n"}],"owner":{"account_id":12816833,"reputation":71,"user_id":9273200,"display_name":"POP3"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1190,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636532836,"creation_date":1636120445,"question_id":69854351,"body_markdown":"I am trying to create excel files with Apache POI and a template xlsx that gets filled with xml data.\r\n\r\nMy program in a nutshell:\r\n\r\n 1. reading excel template as a .xlsx file from my\r\n    disk.\r\n 2. using the template i create a document using the data from a xml file that was given in as a parameter.\r\n 3. writing newly created excel to filesystem.\r\n\r\nMy problem is that i get errors when opening the created xlsx files:\r\n[![First error when trying to open the excel saying that excel found problems with the contents of this excel. Then Excel asks if they should restore as much of the excel as they can.][1]][1]\r\n\r\nIf you click on yes you get a second window:\r\n[![This window says that excel &quot;repaired&quot; the formatting of the styles.xml part of the excel file][2]][2]\r\n\r\nAfter i clicked on close you can open the excel file with all the correct data inside but the formatting you did is gone (bold texts etc.).\r\n\r\n**When does the error appear**\r\n\r\nAfter some research i noticed that the first document that i create always comes out fine. Also in the tests i wrote all the tests run through normally as long as i only create one document at a time. The errors are only appearing when i try to create multiple documents in the same run without stopping java in between the documents. I can see this to an extent where i have three tests that all use the same input (both xml and excel template) and all run fine on their own but as soon as i start them together only the first one runs through normally and the two that are created afterwards are created with errors.\r\n\r\n**The error**\r\n\r\nWhile searching for the cause i&#39;ve tried to find out what causes the error in the file in the first place so i&#39;ve compared two excel files, both created with the same input data but one that opens just fine because it was created as the first document and one that shows the errors when opening:\r\n\r\n[![enter image description here][3]][3]\r\n\r\n**What i&#39;ve tried to fix it**\r\n\r\n 1. I checked if it could be an error connected to the template but even if i use two seperate templates to create two documents, the second one gets produced with the error.\r\n 2. I checked if it helps when i trigger the java garbage collection manually but it did not change anything.\r\n 3. I checked if Apache POI has some kind of styles cache on any of their components that i have to clear but did not find any.\r\n 4. I tried to stop the java application after each document to work around the problem but that does not work for my case either, because the third party application that calls the java application cannot handle that.\r\n\r\n**Maybe my styles are made badly?**\r\n\r\nI&#39;ve tried to optimise them but you tell me:\r\n\r\n            //create styles\r\n            //we will copy some settings off this cell later\r\n            XSSFCellStyle cellStyleTemplate = getCell(workbook, 0, &quot;A6&quot;).getCellStyle();\r\n\r\n            //standard cell style to copy\r\n            XSSFCellStyle standardCellStyle = workbook.createCellStyle();\r\n            standardCellStyle.setBorderBottom(cellStyleTemplate.getBorderTop()); //this is right - cell A6 has no bottom border, so we use the top border\r\n            standardCellStyle.setBorderLeft(cellStyleTemplate.getBorderLeft());\r\n            standardCellStyle.setBorderTop(cellStyleTemplate.getBorderTop());\r\n            standardCellStyle.setBorderRight(cellStyleTemplate.getBorderRight());\r\n\r\n            XSSFCellStyle cellStyleBold = standardCellStyle.copy();\r\n            cellStyleBold.setFont(getArial10Bold(workbook));\r\n            cellStyleBold.setDataFormat(workbook.createDataFormat().getFormat(&quot;0.00&quot;));\r\n\r\n            XSSFCellStyle cellStyleBody = standardCellStyle.copy();\r\n\r\n            XSSFCellStyle cellStyleBodyDecimal = standardCellStyle.copy();\r\n            cellStyleBodyDecimal.setDataFormat(workbook.createDataFormat().getFormat(&quot;0.00&quot;));\r\n\r\n            XSSFCellStyle cellStyleBodyRightAligned = standardCellStyle.copy();\r\n            cellStyleBodyRightAligned.setAlignment(HorizontalAlignment.RIGHT);\r\n\r\n            XSSFCellStyle cellStyleDate = standardCellStyle.copy();\r\n            DataFormat format = workbook.createDataFormat();\r\n            cellStyleDate.setDataFormat(format.getFormat(&quot;dd.mm.yy&quot;));\r\n\r\n            XSSFCellStyle cellStyleGesamttotal = standardCellStyle.copy();\r\n            cellStyleGesamttotal.setFont(getArial10Bold(workbook));\r\n            cellStyleGesamttotal.setFillForegroundColor(cellStyleTemplate.getFillForegroundXSSFColor()); //copy background color, they just call it foreground color\r\n            cellStyleGesamttotal.setFillPattern(FillPatternType.SOLID_FOREGROUND);\r\n\r\nbefore you ask: The styles are not created in any kind of loop but only once. ;)\r\n\r\n**Additional Information**\r\n\r\nHow do i read in in the template:\r\n\r\n        private static XSSFWorkbook readTemplate(String xlsxTemplatePath) throws IOException {\r\n        File file = new File(xlsxTemplatePath);\r\n        XSSFWorkbook myWorkBook;\r\n        try (FileInputStream fis = new FileInputStream(file)) {\r\n            myWorkBook = new XSSFWorkbook(fis);\r\n        }\r\n\r\n        return myWorkBook;\r\n    }\r\n\r\nHow do i save multiple documents from this template:\r\n\r\nEvery time i call the method, i create one new document using the template using this helper method:\r\n\r\n    public static void saveWorkbook(XSSFWorkbook workbook, String path) {\r\n        try {\r\n            FileOutputStream outputStream = new FileOutputStream(path);\r\n            workbook.write(outputStream);\r\n            workbook.close();\r\n            outputStream.flush();\r\n            outputStream.close();\r\n\r\n        } catch (FileNotFoundException e) {\r\n            e.printStackTrace();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\nAfter Workbook.write the Workbook cannot be used further. So the template must be opened again for the second and further result files. Is that done?\r\n\r\nYes every time i call the method i read in the template. So for every document that i create i read in the template separately.\r\n\r\n  [1]: https://i.stack.imgur.com/W23IZ.png\r\n  [2]: https://i.stack.imgur.com/pBAXT.png\r\n  [3]: https://i.stack.imgur.com/Y37cJ.png","title":"Apache POI Excel styles problem when creating two or more documents","body":"<p>I am trying to create excel files with Apache POI and a template xlsx that gets filled with xml data.</p>\n<p>My program in a nutshell:</p>\n<ol>\n<li>reading excel template as a .xlsx file from my\ndisk.</li>\n<li>using the template i create a document using the data from a xml file that was given in as a parameter.</li>\n<li>writing newly created excel to filesystem.</li>\n</ol>\n<p>My problem is that i get errors when opening the created xlsx files:\n<a href=\"https://i.stack.imgur.com/W23IZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/W23IZ.png\" alt=\"First error when trying to open the excel saying that excel found problems with the contents of this excel. Then Excel asks if they should restore as much of the excel as they can.\" /></a></p>\n<p>If you click on yes you get a second window:\n<a href=\"https://i.stack.imgur.com/pBAXT.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/pBAXT.png\" alt=\"This window says that excel &quot;repaired&quot; the formatting of the styles.xml part of the excel file\" /></a></p>\n<p>After i clicked on close you can open the excel file with all the correct data inside but the formatting you did is gone (bold texts etc.).</p>\n<p><strong>When does the error appear</strong></p>\n<p>After some research i noticed that the first document that i create always comes out fine. Also in the tests i wrote all the tests run through normally as long as i only create one document at a time. The errors are only appearing when i try to create multiple documents in the same run without stopping java in between the documents. I can see this to an extent where i have three tests that all use the same input (both xml and excel template) and all run fine on their own but as soon as i start them together only the first one runs through normally and the two that are created afterwards are created with errors.</p>\n<p><strong>The error</strong></p>\n<p>While searching for the cause i've tried to find out what causes the error in the file in the first place so i've compared two excel files, both created with the same input data but one that opens just fine because it was created as the first document and one that shows the errors when opening:</p>\n<p><a href=\"https://i.stack.imgur.com/Y37cJ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y37cJ.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>What i've tried to fix it</strong></p>\n<ol>\n<li>I checked if it could be an error connected to the template but even if i use two seperate templates to create two documents, the second one gets produced with the error.</li>\n<li>I checked if it helps when i trigger the java garbage collection manually but it did not change anything.</li>\n<li>I checked if Apache POI has some kind of styles cache on any of their components that i have to clear but did not find any.</li>\n<li>I tried to stop the java application after each document to work around the problem but that does not work for my case either, because the third party application that calls the java application cannot handle that.</li>\n</ol>\n<p><strong>Maybe my styles are made badly?</strong></p>\n<p>I've tried to optimise them but you tell me:</p>\n<pre><code>        //create styles\n        //we will copy some settings off this cell later\n        XSSFCellStyle cellStyleTemplate = getCell(workbook, 0, &quot;A6&quot;).getCellStyle();\n\n        //standard cell style to copy\n        XSSFCellStyle standardCellStyle = workbook.createCellStyle();\n        standardCellStyle.setBorderBottom(cellStyleTemplate.getBorderTop()); //this is right - cell A6 has no bottom border, so we use the top border\n        standardCellStyle.setBorderLeft(cellStyleTemplate.getBorderLeft());\n        standardCellStyle.setBorderTop(cellStyleTemplate.getBorderTop());\n        standardCellStyle.setBorderRight(cellStyleTemplate.getBorderRight());\n\n        XSSFCellStyle cellStyleBold = standardCellStyle.copy();\n        cellStyleBold.setFont(getArial10Bold(workbook));\n        cellStyleBold.setDataFormat(workbook.createDataFormat().getFormat(&quot;0.00&quot;));\n\n        XSSFCellStyle cellStyleBody = standardCellStyle.copy();\n\n        XSSFCellStyle cellStyleBodyDecimal = standardCellStyle.copy();\n        cellStyleBodyDecimal.setDataFormat(workbook.createDataFormat().getFormat(&quot;0.00&quot;));\n\n        XSSFCellStyle cellStyleBodyRightAligned = standardCellStyle.copy();\n        cellStyleBodyRightAligned.setAlignment(HorizontalAlignment.RIGHT);\n\n        XSSFCellStyle cellStyleDate = standardCellStyle.copy();\n        DataFormat format = workbook.createDataFormat();\n        cellStyleDate.setDataFormat(format.getFormat(&quot;dd.mm.yy&quot;));\n\n        XSSFCellStyle cellStyleGesamttotal = standardCellStyle.copy();\n        cellStyleGesamttotal.setFont(getArial10Bold(workbook));\n        cellStyleGesamttotal.setFillForegroundColor(cellStyleTemplate.getFillForegroundXSSFColor()); //copy background color, they just call it foreground color\n        cellStyleGesamttotal.setFillPattern(FillPatternType.SOLID_FOREGROUND);\n</code></pre>\n<p>before you ask: The styles are not created in any kind of loop but only once. ;)</p>\n<p><strong>Additional Information</strong></p>\n<p>How do i read in in the template:</p>\n<pre><code>    private static XSSFWorkbook readTemplate(String xlsxTemplatePath) throws IOException {\n    File file = new File(xlsxTemplatePath);\n    XSSFWorkbook myWorkBook;\n    try (FileInputStream fis = new FileInputStream(file)) {\n        myWorkBook = new XSSFWorkbook(fis);\n    }\n\n    return myWorkBook;\n}\n</code></pre>\n<p>How do i save multiple documents from this template:</p>\n<p>Every time i call the method, i create one new document using the template using this helper method:</p>\n<pre><code>public static void saveWorkbook(XSSFWorkbook workbook, String path) {\n    try {\n        FileOutputStream outputStream = new FileOutputStream(path);\n        workbook.write(outputStream);\n        workbook.close();\n        outputStream.flush();\n        outputStream.close();\n\n    } catch (FileNotFoundException e) {\n        e.printStackTrace();\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n<p>After Workbook.write the Workbook cannot be used further. So the template must be opened again for the second and further result files. Is that done?</p>\n<p>Yes every time i call the method i read in the template. So for every document that i create i read in the template separately.</p>\n"},{"tags":["java","android","firebase","google-cloud-platform","firebase-storage"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1636531187,"post_id":69909470,"comment_id":123578721,"body_markdown":"Where are you getting that &quot;error&quot;?","body":"Where are you getting that &quot;error&quot;?"},{"owner":{"account_id":18759194,"reputation":1122,"user_id":13678514,"display_name":"Emmanuel Njorodongo"},"score":0,"creation_date":1636531232,"post_id":69909470,"comment_id":123578741,"body_markdown":"@Alex Mamo i am not getting any error its just a warning lint and i don&#39;t like warning lints","body":"@Alex Mamo i am not getting any error its just a warning lint and i don&#39;t like warning lints"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1636531500,"post_id":69909470,"comment_id":123578826,"body_markdown":"Have you tried to let Android Studio help you with that?","body":"Have you tried to let Android Studio help you with that?"},{"owner":{"account_id":18759194,"reputation":1122,"user_id":13678514,"display_name":"Emmanuel Njorodongo"},"score":0,"creation_date":1636532099,"post_id":69909470,"comment_id":123579014,"body_markdown":"@AlexMamo yeah i have tried but its still bringing the lint i have tried changing the access modifier to public as Android studio suggested but the lint is still there","body":"@AlexMamo yeah i have tried but its still bringing the lint i have tried changing the access modifier to public as Android studio suggested but the lint is still there"}],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636532678,"creation_date":1636532678,"answer_id":69909889,"question_id":69909470,"body_markdown":"If Android Studio doesn&#39;t help, then please add the following annotation:\r\n\r\n    @SuppressWarnings(&quot;rawtypes&quot;)\r\n\r\nRight before your class declaration.","title":"Firebase Storage StorageTask Class Raw use of parameterized class &#39;StorageTask&#39;","body":"<p>If Android Studio doesn't help, then please add the following annotation:</p>\n<pre><code>@SuppressWarnings(&quot;rawtypes&quot;)\n</code></pre>\n<p>Right before your class declaration.</p>\n"}],"owner":{"account_id":18759194,"reputation":1122,"user_id":13678514,"display_name":"Emmanuel Njorodongo"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636532714,"creation_date":1636530387,"question_id":69909470,"body_markdown":"I have declared a StorageTask in my fragment and I am getting a lint Raw use of parameterized class &#39;StorageTask&#39;, how can I declare the StorageTask without Raw use\r\n\r\nBelow is how I have declared the StorageTask \r\n\r\n````\r\nprivate StorageTask storageTask;\r\n\r\n````\r\n\r\nBelow is the full link error\r\n\r\n````\r\npublic abstract class StorageTask extends ControllableTask &lt;ResultT extends StorageTask.ProvideError &gt; \r\n \r\n\r\nKnown Direct Subclasses\r\nFileDownloadTask , StreamDownloadTask , UploadTask \r\nFileDownloadTask \r\nA task that downloads bytes of a GCS blob to a specified File. \r\nStreamDownloadTask \r\nA task that downloads bytes of a GCS blob. \r\nUploadTask \r\nA controllable task that uploads and fires events for success, progress, and failure. \r\nA controllable Task that has a synchronized state machine.\r\n \r\n \r\n  Gradle: com.google.firebase:firebase-storage:20.0.0@aar\r\n`StorageTask` on localhost \r\n\r\n````\r\n\r\n","title":"Firebase Storage StorageTask Class Raw use of parameterized class &#39;StorageTask&#39;","body":"<p>I have declared a StorageTask in my fragment and I am getting a lint Raw use of parameterized class 'StorageTask', how can I declare the StorageTask without Raw use</p>\n<p>Below is how I have declared the StorageTask</p>\n<pre><code>private StorageTask storageTask;\n\n</code></pre>\n<p>Below is the full link error</p>\n<pre><code>public abstract class StorageTask extends ControllableTask &lt;ResultT extends StorageTask.ProvideError &gt; \n \n\nKnown Direct Subclasses\nFileDownloadTask , StreamDownloadTask , UploadTask \nFileDownloadTask \nA task that downloads bytes of a GCS blob to a specified File. \nStreamDownloadTask \nA task that downloads bytes of a GCS blob. \nUploadTask \nA controllable task that uploads and fires events for success, progress, and failure. \nA controllable Task that has a synchronized state machine.\n \n \n  Gradle: com.google.firebase:firebase-storage:20.0.0@aar\n`StorageTask` on localhost \n\n</code></pre>\n"},{"tags":["java","input"],"comments":[{"owner":{"account_id":17832421,"reputation":4234,"user_id":12952113,"display_name":"Alex Sveshnikov"},"score":1,"creation_date":1636527815,"post_id":69908997,"comment_id":123577802,"body_markdown":"Take a look at [this question](https://stackoverflow.com/questions/18037576/how-do-i-check-if-the-user-is-pressing-a-key)","body":"Take a look at <a href=\"https://stackoverflow.com/questions/18037576/how-do-i-check-if-the-user-is-pressing-a-key\">this question</a>"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":1,"creation_date":1636555051,"post_id":69908997,"comment_id":123588528,"body_markdown":"(1-) This question is not clear. What type of input are you asking about? Are you trying to get input in a GUI? Are you trying to get input from the command line?","body":"(1-) This question is not clear. What type of input are you asking about? Are you trying to get input in a GUI? Are you trying to get input from the command line?"}],"answers":[{"tags":[],"owner":{"account_id":8310681,"reputation":133,"user_id":6245929,"display_name":"Luisa Sanchez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636532672,"creation_date":1636532672,"answer_id":69909887,"question_id":69908997,"body_markdown":"UP DOWN LEFT and RIGHT as every character in the keyboard have a ASCII code, so you can actually check it out. Normally in Java, instead of checking if a key has been pressed you could use **KeyEvents**:\r\n\r\n    public void keyPressed(KeyEvent e){\r\n\r\n        int key = e.getKeyCode();   \r\n\r\n        switch(key){\r\n           case KeyEvent.VK_RIGHT: System.out.println(&quot;The right arrow key is \r\n           pressed&quot;);\r\n           // Other operations\r\n           break;\r\n           case KeyEvent.VK_LEFT: System.out.println(&quot;The left arrow key is \r\n           pressed&quot;);\r\n           // Other operations\r\n           break;\r\n           case KeyEvent.VK_UP: System.out.println(&quot;The up arrow key is \r\n           pressed&quot;);\r\n           // Other operations\r\n           break;\r\n           case KeyEvent.VK_DOWN: System.out.println(&quot;The down arrow key is \r\n           pressed&quot;);\r\n           // Other operations\r\n           break;\r\n        }                                             \r\n\r\n    }\r\n\r\n \r\n\r\n\r\nYou have more information in the [documentation][1]   \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/events/keylistener.html","title":"How to get direct keyboard input in java","body":"<p>UP DOWN LEFT and RIGHT as every character in the keyboard have a ASCII code, so you can actually check it out. Normally in Java, instead of checking if a key has been pressed you could use <strong>KeyEvents</strong>:</p>\n<pre><code>public void keyPressed(KeyEvent e){\n\n    int key = e.getKeyCode();   \n\n    switch(key){\n       case KeyEvent.VK_RIGHT: System.out.println(&quot;The right arrow key is \n       pressed&quot;);\n       // Other operations\n       break;\n       case KeyEvent.VK_LEFT: System.out.println(&quot;The left arrow key is \n       pressed&quot;);\n       // Other operations\n       break;\n       case KeyEvent.VK_UP: System.out.println(&quot;The up arrow key is \n       pressed&quot;);\n       // Other operations\n       break;\n       case KeyEvent.VK_DOWN: System.out.println(&quot;The down arrow key is \n       pressed&quot;);\n       // Other operations\n       break;\n    }                                             \n\n}\n</code></pre>\n<p>You have more information in the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/keylistener.html\" rel=\"nofollow noreferrer\">documentation</a></p>\n"}],"owner":{"account_id":19881279,"reputation":51,"user_id":15791321,"display_name":"dfmaaa1"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1244,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":69909887,"answer_count":1,"score":-2,"last_activity_date":1636532672,"creation_date":1636527675,"question_id":69908997,"body_markdown":"I do not want to use something like the Scanner class or the BufferedReader class,that&#39;s not my purpose. I want to know if the user pressed the UP key, the DOWN key, the LEFT key, or the RIGHT key, what should I use?","title":"How to get direct keyboard input in java","body":"<p>I do not want to use something like the Scanner class or the BufferedReader class,that's not my purpose. I want to know if the user pressed the UP key, the DOWN key, the LEFT key, or the RIGHT key, what should I use?</p>\n"},{"tags":["java","arrays","list","variables","store"],"answers":[{"tags":[],"owner":{"account_id":23136497,"reputation":150,"user_id":17240662,"display_name":"Batek&#39;S"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636521882,"creation_date":1636520439,"answer_id":69908179,"question_id":69908033,"body_markdown":"Try this\r\n\r\nPossibility : 1\r\n---------------\r\n\r\n    import java.util.*;\r\n    \r\n    public class Naddy {\r\n        public static void main(String[] args) {\r\n    \r\n            Scanner input = new Scanner(System.in);\r\n            char stop = &#39;Y&#39;;\r\n    \r\n            LinkedList&lt;Object&gt; list = new LinkedList&lt;Object&gt;();\r\n    \r\n            while (stop != &#39;N&#39;) {\r\n    \r\n                System.out.println(&quot;\\nEnter your name : &quot;);\r\n                String name = input.nextLine();\r\n                System.out.println(&quot;\\nEnter your age: &quot;);\r\n                int age = input.nextInt();\r\n                System.out.println(&quot;\\nEnter your phone number: &quot;);\r\n                long phonenum = input.nextLong();\r\n    \r\n                list.add(name);\r\n                list.add(age);\r\n                list.add(phonenum);\r\n                System.out.println(&quot;Enter &#39;Y&#39; to continue, &#39;N&#39; to Stop: &quot;);\r\n                input.nextLine();\r\n                stop = input.nextLine().charAt(0);\r\n            }\r\n    \r\n            System.out.println(list);\r\n        }\r\n    }\r\n\r\npossibility : 2\r\n--------------\r\n\r\n    import java.util.*;\r\n    \r\n    public class Naddy {\r\n        public static void main(String[] args) {\r\n    \r\n            Scanner input = new Scanner(System.in);\r\n            char stop = &#39;Y&#39;;\r\n    \r\n            LinkedList&lt;User&gt; list = new LinkedList&lt;User&gt;();\r\n    \r\n            while (stop != &#39;N&#39;) {\r\n    \r\n                System.out.println(&quot;\\nEnter your name : &quot;);\r\n                String name = input.nextLine();\r\n                System.out.println(&quot;\\nEnter your age: &quot;);\r\n                int age = input.nextInt();\r\n                System.out.println(&quot;\\nEnter your phone number: &quot;);\r\n                long phonenum = input.nextLong();\r\n    \r\n                list.add(new User(name, age, phonenum));\r\n                System.out.println(&quot;Enter &#39;Y&#39; to continue, &#39;N&#39; to Stop: &quot;);\r\n                input.nextLine();\r\n                stop = input.nextLine().charAt(0);\r\n            }\r\n    \r\n            System.out.println(list);\r\n        }\r\n    }\r\n    \r\n    class User {\r\n        private String name;\r\n        private int age;\r\n        private long phonenum;\r\n    \r\n        public User() {\r\n        }\r\n    \r\n        public User(String name, int age, long phonenum) {\r\n            this.name = name;\r\n            this.age = age;\r\n            this.phonenum = phonenum;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public int getAge() {\r\n            return age;\r\n        }\r\n    \r\n        public void setAge(int age) {\r\n            this.age = age;\r\n        }\r\n    \r\n        public long getPhonenum() {\r\n            return phonenum;\r\n        }\r\n    \r\n        public void setPhonenum(long phonenum) {\r\n            this.phonenum = phonenum;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;User [age=&quot; + age + &quot;, name=&quot; + name + &quot;, phonenum=&quot; + phonenum + &quot;]&quot;;\r\n        }\r\n    \r\n    }","title":"how to add bunch of data into linked list","body":"<p>Try this</p>\n<h2>Possibility : 1</h2>\n<pre><code>import java.util.*;\n\npublic class Naddy {\n    public static void main(String[] args) {\n\n        Scanner input = new Scanner(System.in);\n        char stop = 'Y';\n\n        LinkedList&lt;Object&gt; list = new LinkedList&lt;Object&gt;();\n\n        while (stop != 'N') {\n\n            System.out.println(&quot;\\nEnter your name : &quot;);\n            String name = input.nextLine();\n            System.out.println(&quot;\\nEnter your age: &quot;);\n            int age = input.nextInt();\n            System.out.println(&quot;\\nEnter your phone number: &quot;);\n            long phonenum = input.nextLong();\n\n            list.add(name);\n            list.add(age);\n            list.add(phonenum);\n            System.out.println(&quot;Enter 'Y' to continue, 'N' to Stop: &quot;);\n            input.nextLine();\n            stop = input.nextLine().charAt(0);\n        }\n\n        System.out.println(list);\n    }\n}\n</code></pre>\n<h2>possibility : 2</h2>\n<pre><code>import java.util.*;\n\npublic class Naddy {\n    public static void main(String[] args) {\n\n        Scanner input = new Scanner(System.in);\n        char stop = 'Y';\n\n        LinkedList&lt;User&gt; list = new LinkedList&lt;User&gt;();\n\n        while (stop != 'N') {\n\n            System.out.println(&quot;\\nEnter your name : &quot;);\n            String name = input.nextLine();\n            System.out.println(&quot;\\nEnter your age: &quot;);\n            int age = input.nextInt();\n            System.out.println(&quot;\\nEnter your phone number: &quot;);\n            long phonenum = input.nextLong();\n\n            list.add(new User(name, age, phonenum));\n            System.out.println(&quot;Enter 'Y' to continue, 'N' to Stop: &quot;);\n            input.nextLine();\n            stop = input.nextLine().charAt(0);\n        }\n\n        System.out.println(list);\n    }\n}\n\nclass User {\n    private String name;\n    private int age;\n    private long phonenum;\n\n    public User() {\n    }\n\n    public User(String name, int age, long phonenum) {\n        this.name = name;\n        this.age = age;\n        this.phonenum = phonenum;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public int getAge() {\n        return age;\n    }\n\n    public void setAge(int age) {\n        this.age = age;\n    }\n\n    public long getPhonenum() {\n        return phonenum;\n    }\n\n    public void setPhonenum(long phonenum) {\n        this.phonenum = phonenum;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;User [age=&quot; + age + &quot;, name=&quot; + name + &quot;, phonenum=&quot; + phonenum + &quot;]&quot;;\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636521212,"creation_date":1636520879,"answer_id":69908225,"question_id":69908033,"body_markdown":"First, change your code to use appropriate types. Name and phone should be of type `String`, not `int`.\r\n\r\nDefine a class to hold your fields. [Records][1] are an easy way to do that. \r\n\r\n    record Person ( String name , int age , String phone ) {}\r\n\r\nDeclare your list to hold objects of that class.\r\n\r\n    List&lt; Person &gt; list = new LinkedList&lt;&gt;() ;\r\n\r\nInstantiate some `Person` objects, and add to list.\r\n\r\n    list.add( New Person( &quot;Alice&quot; , 29 , &quot;477.555.1234&quot; ) ) ;\r\n\r\nIn the line above, I hard-coded some example data. In your own code, you will be passing to the constructor the variables you populated by interacting with the user. \r\n\r\n    list.add( New Person( name , age , phonenum ) ) ;\r\n\r\n\r\n  [1]: https://openjdk.java.net/jeps/395","title":"how to add bunch of data into linked list","body":"<p>First, change your code to use appropriate types. Name and phone should be of type <code>String</code>, not <code>int</code>.</p>\n<p>Define a class to hold your fields. <a href=\"https://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">Records</a> are an easy way to do that.</p>\n<pre><code>record Person ( String name , int age , String phone ) {}\n</code></pre>\n<p>Declare your list to hold objects of that class.</p>\n<pre><code>List&lt; Person &gt; list = new LinkedList&lt;&gt;() ;\n</code></pre>\n<p>Instantiate some <code>Person</code> objects, and add to list.</p>\n<pre><code>list.add( New Person( &quot;Alice&quot; , 29 , &quot;477.555.1234&quot; ) ) ;\n</code></pre>\n<p>In the line above, I hard-coded some example data. In your own code, you will be passing to the constructor the variables you populated by interacting with the user.</p>\n<pre><code>list.add( New Person( name , age , phonenum ) ) ;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15434928,"reputation":56,"user_id":11135289,"display_name":"Nthabiseng Mashiane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636521540,"creation_date":1636521540,"answer_id":69908290,"question_id":69908033,"body_markdown":"You can create an object which has name, age and phenomenon then create an insert method which you call in your while loop.\r\n\r\nIn psuedo code it would look something like this:\r\n\r\n    public class Data { \r\n        String name; \r\n        int age; \r\n        int phenomenon; \r\n        //constructor\r\n        //getters &amp; setters\r\n    }\r\n\r\n\r\nThis class above will hold contain the user input. You can gather all the user input and store it in an array and perform the insert with array of data instead of inserting one object at a time\r\n\r\n    public void InsertData(LinkedList&lt;Data&gt; list, Arraylist&lt;Data&gt; input) {\r\n      for(Data d: input){\r\n       list.add(d);\r\n      } \r\n    }\r\n\r\nYou can read up on linkedlists a bit more here to understand how exactly linkedlists work and implement your own from scratch: https://www.geeksforgeeks.org/implementing-a-linked-list-in-java-using-class/ \r\n\r\n","title":"how to add bunch of data into linked list","body":"<p>You can create an object which has name, age and phenomenon then create an insert method which you call in your while loop.</p>\n<p>In psuedo code it would look something like this:</p>\n<pre><code>public class Data { \n    String name; \n    int age; \n    int phenomenon; \n    //constructor\n    //getters &amp; setters\n}\n</code></pre>\n<p>This class above will hold contain the user input. You can gather all the user input and store it in an array and perform the insert with array of data instead of inserting one object at a time</p>\n<pre><code>public void InsertData(LinkedList&lt;Data&gt; list, Arraylist&lt;Data&gt; input) {\n  for(Data d: input){\n   list.add(d);\n  } \n}\n</code></pre>\n<p>You can read up on linkedlists a bit more here to understand how exactly linkedlists work and implement your own from scratch: <a href=\"https://www.geeksforgeeks.org/implementing-a-linked-list-in-java-using-class/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/implementing-a-linked-list-in-java-using-class/</a></p>\n"}],"owner":{"account_id":21190048,"reputation":29,"user_id":15582700,"display_name":"naddy"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1636532278,"creation_date":1636518847,"question_id":69908033,"body_markdown":"Basically, I just tried to learn linked lists but I can&#39;t seem to understand how to insert a bunch of data from different variables into it. Does it work as an array/ ArrayList? Before we end the loop we are supposed to store the data right, but how??\r\n\r\nLet say I have variables ( name, age, phonenum). \r\n\r\n&#39;&#39;&#39;\r\n     \r\n        char stop=&#39;Y&#39;;\r\n\r\n        while(stop!=&#39;N&#39;){\r\n\r\n        System.out.println(&quot;\\nEnter your name : &quot;);\r\n        int name= input.nextLine();\r\n        System.out.println(&quot;\\nEnter your age: &quot;);\r\n        int age= input.nextInt();\r\n        System.out.println(&quot;\\nEnter your phone number: &quot;);\r\n        int phonenum= input.nextLine();\r\n\r\n        System.out.println(&quot;Enter &#39;Y&#39; to continue, &#39;N&#39; to Stop: &quot;);\r\n        stop = sc.nextLine().charAt(0);\r\n\r\n}\r\n\r\n\r\n&#39;&#39;&#39;\r\n        ","title":"how to add bunch of data into linked list","body":"<p>Basically, I just tried to learn linked lists but I can't seem to understand how to insert a bunch of data from different variables into it. Does it work as an array/ ArrayList? Before we end the loop we are supposed to store the data right, but how??</p>\n<p>Let say I have variables ( name, age, phonenum).</p>\n<p>'''</p>\n<pre><code>    char stop='Y';\n\n    while(stop!='N'){\n\n    System.out.println(&quot;\\nEnter your name : &quot;);\n    int name= input.nextLine();\n    System.out.println(&quot;\\nEnter your age: &quot;);\n    int age= input.nextInt();\n    System.out.println(&quot;\\nEnter your phone number: &quot;);\n    int phonenum= input.nextLine();\n\n    System.out.println(&quot;Enter 'Y' to continue, 'N' to Stop: &quot;);\n    stop = sc.nextLine().charAt(0);\n</code></pre>\n<p>}</p>\n<p>'''</p>\n"},{"tags":["java","jar","swt","exe","launch4j"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1636516142,"post_id":69907262,"comment_id":123575727,"body_markdown":"Exactly as the error says, you need to compile your code for an older version of Java, or you need to make sure that the other PC&#39;s have the correct version or java (or newer) to match what your code was compiled against. Depending on the application, many of us still compile with older versions Java 8 to ensure compatibility. One solution when it comes to an exe file is that Launch4J has the option to package the jre/JVM inside your EXE file which means you can guarantee the version being used, although it creates a much larger exe given that it now contains all of the JVM/jre files.","body":"Exactly as the error says, you need to compile your code for an older version of Java, or you need to make sure that the other PC&#39;s have the correct version or java (or newer) to match what your code was compiled against. Depending on the application, many of us still compile with older versions Java 8 to ensure compatibility. One solution when it comes to an exe file is that Launch4J has the option to package the jre/JVM inside your EXE file which means you can guarantee the version being used, although it creates a much larger exe given that it now contains all of the JVM/jre files."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1636516478,"post_id":69907262,"comment_id":123575788,"body_markdown":"Note: Java version 52=Java 8, whereas java version 55=Java 11. It looks like your eclipse widget library requires the newer version, so you&#39;ll need to install Java 11 on that PC to run your jar (or package it into the exe), or you&#39;ll need to find an older version of the eclipse library that has been compiled for java 8 that you can use in your project.","body":"Note: Java version 52=Java 8, whereas java version 55=Java 11. It looks like your eclipse widget library requires the newer version, so you&#39;ll need to install Java 11 on that PC to run your jar (or package it into the exe), or you&#39;ll need to find an older version of the eclipse library that has been compiled for java 8 that you can use in your project."},{"owner":{"account_id":18276465,"reputation":73,"user_id":13306172,"display_name":"aight101"},"score":0,"creation_date":1636586781,"post_id":69907262,"comment_id":123600375,"body_markdown":"@sorifiend I was successfully able to run my .exe file by adding in the necessary jre libraries, thank you! if you add this as an answer, i will accept it as the solution.","body":"@sorifiend I was successfully able to run my .exe file by adding in the necessary jre libraries, thank you! if you add this as an answer, i will accept it as the solution."},{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1636588304,"post_id":69907262,"comment_id":123600690,"body_markdown":"Excellent to hear you resolved the issue. Let&#39;s close this question as a duplicate of this other one [How to bundle a JRE with Launch4j?](https://stackoverflow.com/questions/7071133/how-to-bundle-a-jre-with-launch4j) which has some excellent answers.","body":"Excellent to hear you resolved the issue. Let&#39;s close this question as a duplicate of this other one <a href=\"https://stackoverflow.com/questions/7071133/how-to-bundle-a-jre-with-launch4j\">How to bundle a JRE with Launch4j?</a> which has some excellent answers."}],"answers":[{"tags":[],"owner":{"account_id":3159259,"reputation":109668,"user_id":2670892,"display_name":"greg-449"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636532135,"creation_date":1636532135,"answer_id":69909794,"question_id":69907262,"body_markdown":"The message means the SWT code has been compiled with Java 11 (class file version 55) but you are trying to run it with Java 8 (class file version 52). \r\n\r\nYou can&#39;t do this, you need at least Java 11 to run current versions of SWT (or any Eclipse code).\r\n\r\nIf you must run with Java 8 the SWT for Eclipse 2020-06 (4.16) was the last to be compiled for Java 8. The archive site [here](https://archive.eclipse.org/eclipse/downloads/drops4/R-4.16-202006040540/) has that build.","title":"Converting Java SWT app to .exe launch4 error","body":"<p>The message means the SWT code has been compiled with Java 11 (class file version 55) but you are trying to run it with Java 8 (class file version 52).</p>\n<p>You can't do this, you need at least Java 11 to run current versions of SWT (or any Eclipse code).</p>\n<p>If you must run with Java 8 the SWT for Eclipse 2020-06 (4.16) was the last to be compiled for Java 8. The archive site <a href=\"https://archive.eclipse.org/eclipse/downloads/drops4/R-4.16-202006040540/\" rel=\"nofollow noreferrer\">here</a> has that build.</p>\n"}],"owner":{"account_id":18276465,"reputation":73,"user_id":13306172,"display_name":"aight101"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":121,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1636589397,"accepted_answer_id":69909794,"answer_count":1,"score":0,"last_activity_date":1636532135,"creation_date":1636510614,"question_id":69907262,"body_markdown":"I have built a Java SWT application using Eclipse on a Windows 10 (64 bit) laptop. I am trying to convert it into a .exe file so anyone can run the application regardless of having java installed. \r\n\r\nI have used Launch4J to convert my runnable .jar file to a .exe file and I am successfully able to run it on my laptop. \r\n\r\nHowever, when I try to run it on any other laptop, the .exe file does not open/does nothing on a double click. \r\n\r\nWhen I tried to run the original .jar file on a different laptop from command line this is the error I am getting: \r\n[![Jar file error][1]][1]\r\n\r\n_\r\nOther posts on here say to include JRE and libraries in the build path which I did but it did not fix the problem. \r\n[![Java Build Path][2]][2]\r\n\r\nDoes anyone know how to fix this and allow my application to run?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/r0gea.png\r\n  [2]: https://i.stack.imgur.com/IhK5w.png","title":"Converting Java SWT app to .exe launch4 error","body":"<p>I have built a Java SWT application using Eclipse on a Windows 10 (64 bit) laptop. I am trying to convert it into a .exe file so anyone can run the application regardless of having java installed.</p>\n<p>I have used Launch4J to convert my runnable .jar file to a .exe file and I am successfully able to run it on my laptop.</p>\n<p>However, when I try to run it on any other laptop, the .exe file does not open/does nothing on a double click.</p>\n<p>When I tried to run the original .jar file on a different laptop from command line this is the error I am getting:\n<a href=\"https://i.stack.imgur.com/r0gea.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r0gea.png\" alt=\"Jar file error\" /></a></p>\n<p>_\nOther posts on here say to include JRE and libraries in the build path which I did but it did not fix the problem.\n<a href=\"https://i.stack.imgur.com/IhK5w.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IhK5w.png\" alt=\"Java Build Path\" /></a></p>\n<p>Does anyone know how to fix this and allow my application to run?</p>\n"},{"tags":["java","basic-authentication"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1636457976,"post_id":69897337,"comment_id":123556859,"body_markdown":"What&#39;s the full stack trace of the exception? What do you see in the server log files?","body":"What&#39;s the full stack trace of the exception? What do you see in the server log files?"},{"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"score":0,"creation_date":1636459076,"post_id":69897337,"comment_id":123557269,"body_markdown":"Does this fix the problem for you ? \nhttps://stackoverflow.com/questions/17208336/getting-java-io-eofexception-using-httpurlconnection","body":"Does this fix the problem for you ?  <a href=\"https://stackoverflow.com/questions/17208336/getting-java-io-eofexception-using-httpurlconnection\" title=\"getting java io eofexception using httpurlconnection\">stackoverflow.com/questions/17208336/&hellip;</a>"}],"owner":{"account_id":20189446,"reputation":11,"user_id":14808022,"display_name":"DarioS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1636532100,"creation_date":1636457370,"question_id":69897337,"body_markdown":"I&#39;ve a Java Application based on Java Swing, so I&#39;ve a panel with 2 input (username and password), and a submit button.\r\n\r\nThis java application have an &quot;execute&quot; method who made an HTTP POST request to my servlet,lets call it &quot;LoginServlet&quot;, also, there&#39;s the web.xml integration:\r\n\r\n```xml\r\n&lt;security-role&gt;\r\n    &lt;role-name&gt;WEBUSER&lt;/role-name&gt;\r\n&lt;/security-role&gt;\r\n&lt;login-config&gt;\r\n    &lt;auth-method&gt;BASIC&lt;/auth-method&gt;\r\n    &lt;realm-name&gt;b2cSecurityDomain&lt;/realm-name&gt;\r\n&lt;/login-config&gt;\r\n&lt;security-constraint&gt;\r\n    &lt;display-name&gt;ApiSecurity&lt;/display-name&gt;\r\n    &lt;web-resource-collection&gt;\r\n        &lt;web-resource-name&gt;user&lt;/web-resource-name&gt;\r\n        &lt;url-pattern&gt;/LoginServlet&lt;/url-pattern&gt;\r\n        &lt;http-method&gt;GET&lt;/http-method&gt;\r\n        &lt;http-method&gt;POST&lt;/http-method&gt;\r\n        &lt;http-method&gt;PUT&lt;/http-method&gt;\r\n        &lt;http-method&gt;DELETE&lt;/http-method&gt;\r\n    &lt;/web-resource-collection&gt;\r\n    &lt;auth-constraint&gt;\r\n        &lt;role-name&gt;WEBUSER&lt;/role-name&gt;\r\n    &lt;/auth-constraint&gt;\r\n    &lt;user-data-constraint&gt;\r\n        &lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;\r\n    &lt;/user-data-constraint&gt;\r\n&lt;/security-constraint&gt;\r\n```\r\n\r\nIn this HTTP POST call, I&#39;m adding some request &quot;header&quot; to try the basic authentication:\r\n\r\n    urlConn.setRequestMethod(&quot;POST&quot;);\r\n    String userPassword = &quot;username:password&quot;;\r\n    String encoding = Base64.getEncoder().encodeToString(userPassword.getBytes());\r\n    urlConn.setRequestProperty  (&quot;Authorization&quot;, &quot;Basic &quot; + encoding);\r\n\r\nFor some reason i&#39;m not reaching my &quot;LoginServlet&quot; and I&#39;m getting an EOFException.\r\n\r\nCan someone provide an example? Thank you\r\n\r\n\r\n\r\n ","title":"Basic Authentication and Java Swing - how to","body":"<p>I've a Java Application based on Java Swing, so I've a panel with 2 input (username and password), and a submit button.</p>\n<p>This java application have an &quot;execute&quot; method who made an HTTP POST request to my servlet,lets call it &quot;LoginServlet&quot;, also, there's the web.xml integration:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;security-role&gt;\n    &lt;role-name&gt;WEBUSER&lt;/role-name&gt;\n&lt;/security-role&gt;\n&lt;login-config&gt;\n    &lt;auth-method&gt;BASIC&lt;/auth-method&gt;\n    &lt;realm-name&gt;b2cSecurityDomain&lt;/realm-name&gt;\n&lt;/login-config&gt;\n&lt;security-constraint&gt;\n    &lt;display-name&gt;ApiSecurity&lt;/display-name&gt;\n    &lt;web-resource-collection&gt;\n        &lt;web-resource-name&gt;user&lt;/web-resource-name&gt;\n        &lt;url-pattern&gt;/LoginServlet&lt;/url-pattern&gt;\n        &lt;http-method&gt;GET&lt;/http-method&gt;\n        &lt;http-method&gt;POST&lt;/http-method&gt;\n        &lt;http-method&gt;PUT&lt;/http-method&gt;\n        &lt;http-method&gt;DELETE&lt;/http-method&gt;\n    &lt;/web-resource-collection&gt;\n    &lt;auth-constraint&gt;\n        &lt;role-name&gt;WEBUSER&lt;/role-name&gt;\n    &lt;/auth-constraint&gt;\n    &lt;user-data-constraint&gt;\n        &lt;transport-guarantee&gt;CONFIDENTIAL&lt;/transport-guarantee&gt;\n    &lt;/user-data-constraint&gt;\n&lt;/security-constraint&gt;\n</code></pre>\n<p>In this HTTP POST call, I'm adding some request &quot;header&quot; to try the basic authentication:</p>\n<pre><code>urlConn.setRequestMethod(&quot;POST&quot;);\nString userPassword = &quot;username:password&quot;;\nString encoding = Base64.getEncoder().encodeToString(userPassword.getBytes());\nurlConn.setRequestProperty  (&quot;Authorization&quot;, &quot;Basic &quot; + encoding);\n</code></pre>\n<p>For some reason i'm not reaching my &quot;LoginServlet&quot; and I'm getting an EOFException.</p>\n<p>Can someone provide an example? Thank you</p>\n"},{"tags":["java","class","visual-studio-code","import","package"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1636284768,"post_id":69872033,"comment_id":123510749,"body_markdown":"Please read: [Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question) --- I recommend reading a tutorial on the topic of packages, e.g. [this one from `oracle.com`](https://docs.oracle.com/javase/tutorial/java/package/index.html).","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\">Why not upload images of code/errors when asking a question?</a> --- I recommend reading a tutorial on the topic of packages, e.g. <a href=\"https://docs.oracle.com/javase/tutorial/java/package/index.html\" rel=\"nofollow noreferrer\">this one from <code>oracle.com</code></a>."}],"answers":[{"tags":[],"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636359295,"creation_date":1636359295,"answer_id":69880358,"question_id":69872033,"body_markdown":"&gt; The declared package &quot;mypack&quot; does not match the expected package &quot;&quot;\r\n&gt; Java(536871240)\r\n\r\nIt&#39;s because you didn&#39;t put `.java` files in the folder `mypack`. \r\n\r\nThe second error is there&#39;re `B`, `A` in `Bclass.java`, but the compiling command didn&#39;t include them, so you should compile multiple java files by the command\r\n\r\n    javac -d ./ mypack\\*.java\r\n\r\nThen execute it by `javac mypack.Bclass`, you can get right result:\r\n\r\n[![enter image description here][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/UHzEM.png","title":"The declared package &lt;package name&gt; does not match the expected package &quot;&quot; in VS code","body":"<blockquote>\n<p>The declared package &quot;mypack&quot; does not match the expected package &quot;&quot;\nJava(536871240)</p>\n</blockquote>\n<p>It's because you didn't put <code>.java</code> files in the folder <code>mypack</code>.</p>\n<p>The second error is there're <code>B</code>, <code>A</code> in <code>Bclass.java</code>, but the compiling command didn't include them, so you should compile multiple java files by the command</p>\n<pre><code>javac -d ./ mypack\\*.java\n</code></pre>\n<p>Then execute it by <code>javac mypack.Bclass</code>, you can get right result:</p>\n<p><a href=\"https://i.stack.imgur.com/UHzEM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UHzEM.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":22047481,"reputation":127,"user_id":16312265,"display_name":"Pranav Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636532022,"creation_date":1636523226,"answer_id":69908457,"question_id":69872033,"body_markdown":"You just need to right click on below Files in the **Explorer Tab in Visual Studio code** and then just Select **Remove Folder** from java source path.\r\n\r\nIt was helpful for me and now there are no issues.\r\n\r\nAgain remember, **right click &gt; remove folder from java source path**","title":"The declared package &lt;package name&gt; does not match the expected package &quot;&quot; in VS code","body":"<p>You just need to right click on below Files in the <strong>Explorer Tab in Visual Studio code</strong> and then just Select <strong>Remove Folder</strong> from java source path.</p>\n<p>It was helpful for me and now there are no issues.</p>\n<p>Again remember, <strong>right click &gt; remove folder from java source path</strong></p>\n"}],"owner":{"account_id":22047481,"reputation":127,"user_id":16312265,"display_name":"Pranav Patil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3027,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69880358,"answer_count":2,"score":0,"last_activity_date":1636532022,"creation_date":1636284655,"question_id":69872033,"body_markdown":"This is the error I get in VS code when I try to make a package in a simple program\r\n\r\n    The declared package &quot;mypack&quot; does not match the expected package &quot;&quot; Java(536871240)\r\n\r\n\r\n\r\n[![ Aclass.java ][1]][1]\r\n[![ Bclass.java ][2]][2]\r\n\r\n\r\n\r\nAclass java file gets compiled. But after compiling Bclass java file it gives this compile-time error\r\n\r\n\r\n\r\n[![ Aclass compile ][3]][3]\r\n[![ Bclass compile error ][4]][4]\r\n\r\n\r\n\r\nThis is Aclass java file code\r\n\r\n    package mypack;\r\n    \r\n    class A {\r\n        void MethodA() {\r\n            System.out.println(&quot;This is class A&quot;);\r\n        }\r\n    }\r\n    \r\n    class Aclass {\r\n        public static void main(String args[]) {\r\n            A a = new A();\r\n            a.MethodA();\r\n        }\r\n    }\r\n\r\n\r\n\r\nThis is Bclass java file code\r\n\r\n    import mypack.*;\r\n    \r\n    class B {\r\n        void MethodB() {\r\n            System.out.println(&quot;This is class B&quot;);\r\n        }\r\n    }\r\n    \r\n    class Bclass {\r\n        public static void main(String args[]) {\r\n            B b = new B();\r\n            b.MethodB();\r\n            A a = new A();\r\n            a.MethodA();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f4C7H.png\r\n  [2]: https://i.stack.imgur.com/mTthk.png\r\n  [3]: https://i.stack.imgur.com/kHCmA.png\r\n  [4]: https://i.stack.imgur.com/4prOz.png","title":"The declared package &lt;package name&gt; does not match the expected package &quot;&quot; in VS code","body":"<p>This is the error I get in VS code when I try to make a package in a simple program</p>\n<pre><code>The declared package &quot;mypack&quot; does not match the expected package &quot;&quot; Java(536871240)\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/f4C7H.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/f4C7H.png\" alt=\" Aclass.java \" /></a>\n<a href=\"https://i.stack.imgur.com/mTthk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mTthk.png\" alt=\" Bclass.java \" /></a></p>\n<p>Aclass java file gets compiled. But after compiling Bclass java file it gives this compile-time error</p>\n<p><a href=\"https://i.stack.imgur.com/kHCmA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/kHCmA.png\" alt=\" Aclass compile \" /></a>\n<a href=\"https://i.stack.imgur.com/4prOz.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4prOz.png\" alt=\" Bclass compile error \" /></a></p>\n<p>This is Aclass java file code</p>\n<pre><code>package mypack;\n\nclass A {\n    void MethodA() {\n        System.out.println(&quot;This is class A&quot;);\n    }\n}\n\nclass Aclass {\n    public static void main(String args[]) {\n        A a = new A();\n        a.MethodA();\n    }\n}\n</code></pre>\n<p>This is Bclass java file code</p>\n<pre><code>import mypack.*;\n\nclass B {\n    void MethodB() {\n        System.out.println(&quot;This is class B&quot;);\n    }\n}\n\nclass Bclass {\n    public static void main(String args[]) {\n        B b = new B();\n        b.MethodB();\n        A a = new A();\n        a.MethodA();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-restcontroller"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1636530990,"post_id":69909486,"comment_id":123578669,"body_markdown":"Why wouldn&#39;t you be able to do that? Spring Boot does the same for various other interceptors.","body":"Why wouldn&#39;t you be able to do that? Spring Boot does the same for various other interceptors."}],"answers":[{"tags":[],"owner":{"account_id":792027,"reputation":2645,"user_id":869368,"display_name":"Matthias"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1636531798,"creation_date":1636531798,"answer_id":69909728,"question_id":69909486,"body_markdown":"I suppose with &quot;other modules&quot; you are asking if you could make that code available to other spring boot applications too? \r\n\r\nIf that&#39;s the case - then: yes you can package it in a jar and add it as a dependency to all your other modules. I&#39;ll post the way to do this just below, however - just to warn you - if it&#39;s just for that simple class, the solution is not going to be worth it. \r\n\r\nIn short, what you&#39;d need to do is to create your own external artifact (this usually is done via maven or gradle. You create a new maven project for your shared code. It will need to depend on some base libraries so that you have your `@Configuration` annotation available. Put your class as described in that project, and create a file `src/main/resources/META-INF/spring.factories` file. [There you&#39;ll need to point to that class][1]. \r\n\r\nThen you build that project and upload the resulting jar to a package repository. Once that&#39;s done, you can add it as a dependency to your project. At startup, Spring boot will find the `spring.factories` file and automatically include the classes that are mentioned there in its initialization. \r\n\r\nPlease also note, that this is just a high level explanation and you will need more details. Spring [has good documentation on this use case][1] and they also have a [demo project to show this extension mechanism][2]. \r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/2.0.0.M3/reference/html/boot-features-developing-auto-configuration.html\r\n  [2]: https://github.com/snicoll/spring-boot-master-auto-configuration/tree/main/hornetq-spring-boot-autoconfigure","title":"Can I use an instance of a WebMvcConfigurer in another module?","body":"<p>I suppose with &quot;other modules&quot; you are asking if you could make that code available to other spring boot applications too?</p>\n<p>If that's the case - then: yes you can package it in a jar and add it as a dependency to all your other modules. I'll post the way to do this just below, however - just to warn you - if it's just for that simple class, the solution is not going to be worth it.</p>\n<p>In short, what you'd need to do is to create your own external artifact (this usually is done via maven or gradle. You create a new maven project for your shared code. It will need to depend on some base libraries so that you have your <code>@Configuration</code> annotation available. Put your class as described in that project, and create a file <code>src/main/resources/META-INF/spring.factories</code> file. <a href=\"https://docs.spring.io/spring-boot/docs/2.0.0.M3/reference/html/boot-features-developing-auto-configuration.html\" rel=\"nofollow noreferrer\">There you'll need to point to that class</a>.</p>\n<p>Then you build that project and upload the resulting jar to a package repository. Once that's done, you can add it as a dependency to your project. At startup, Spring boot will find the <code>spring.factories</code> file and automatically include the classes that are mentioned there in its initialization.</p>\n<p>Please also note, that this is just a high level explanation and you will need more details. Spring <a href=\"https://docs.spring.io/spring-boot/docs/2.0.0.M3/reference/html/boot-features-developing-auto-configuration.html\" rel=\"nofollow noreferrer\">has good documentation on this use case</a> and they also have a <a href=\"https://github.com/snicoll/spring-boot-master-auto-configuration/tree/main/hornetq-spring-boot-autoconfigure\" rel=\"nofollow noreferrer\">demo project to show this extension mechanism</a>.</p>\n"}],"owner":{"account_id":6072142,"reputation":79,"user_id":4740600,"accept_rate":20,"display_name":"user4740600"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":735,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69909728,"answer_count":1,"score":1,"last_activity_date":1636531798,"creation_date":1636530492,"question_id":69909486,"body_markdown":"I&#39;ve written an interceptor to generate service logs for a SpringBoot Java Rest API. I have the code below to define the custom WebMvcConfigurer:\r\n\r\n```\r\npackage com.gem.common.interceptors;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.web.servlet.config.annotation.InterceptorRegistry;\r\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\r\n\r\n@Configuration\r\npublic class InterceptorConfig implements WebMvcConfigurer {\r\n\r\n    @Autowired\r\n    LoggerInterceptor logInterceptor;\r\n\r\n    @Override\r\n    public void addInterceptors(InterceptorRegistry registry) {\r\n        registry.addInterceptor(logInterceptor);\r\n    }\r\n}\r\n```\r\n\r\nI&#39;d like to use this InterceptorConfig across different modules. Can I package it and use it or do I need to define it in each module?","title":"Can I use an instance of a WebMvcConfigurer in another module?","body":"<p>I've written an interceptor to generate service logs for a SpringBoot Java Rest API. I have the code below to define the custom WebMvcConfigurer:</p>\n<pre><code>package com.gem.common.interceptors;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.web.servlet.config.annotation.InterceptorRegistry;\nimport org.springframework.web.servlet.config.annotation.WebMvcConfigurer;\n\n@Configuration\npublic class InterceptorConfig implements WebMvcConfigurer {\n\n    @Autowired\n    LoggerInterceptor logInterceptor;\n\n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(logInterceptor);\n    }\n}\n</code></pre>\n<p>I'd like to use this InterceptorConfig across different modules. Can I package it and use it or do I need to define it in each module?</p>\n"},{"tags":["java","quarkus","mutiny","exponential-backoff"],"answers":[{"tags":[],"owner":{"account_id":1276303,"reputation":2937,"user_id":1231484,"display_name":"Clement"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636528525,"creation_date":1636528525,"answer_id":69909143,"question_id":69900434,"body_markdown":"The use case is perfectly valid, but your test is not written correctly. Such kinds of retries are asynchronous. So, the failure callback (`failure -&gt; execute(set(true));`) is not yet called when you execute the assertion. You need to wait until it&#39;s called. In your case, it will take ~ 35 seconds. \r\n\r\nTo wait, you can use [Awaitility](https://github.com/awaitility/awaitility) and do something like: `await().until(() -&gt; executed.get());`. You can also use `io.smallrye.mutiny.helpers.test.UniAssertSubscriber`:\r\n\r\n```java\r\n@Test\r\nvoid mutinySubscriptionNotCalledAfterRetry() {\r\n  UniAssertSubscriber&lt;Boolean&gt; subscriber = \r\n    Uni.createFrom().item(this::error)              \r\n       .onFailure().retry()\r\n          .withBackOff(Duration.ofSeconds(1)).withJitter(0.2)\r\n          .atMost(5)\r\n       .subscribe().withSubscriber(new UniAssertSubscriber&lt;&gt;());\r\n\r\n  subscriber.awaitFailure(Duration.ofSeconds(35));\r\n}\r\n\r\nprivate boolean error() {\r\n    throw new RuntimeException(&quot;boom&quot;);\r\n}\r\n```","title":"Uni subscription not running when using retry policy","body":"<p>The use case is perfectly valid, but your test is not written correctly. Such kinds of retries are asynchronous. So, the failure callback (<code>failure -&gt; execute(set(true));</code>) is not yet called when you execute the assertion. You need to wait until it's called. In your case, it will take ~ 35 seconds.</p>\n<p>To wait, you can use <a href=\"https://github.com/awaitility/awaitility\" rel=\"nofollow noreferrer\">Awaitility</a> and do something like: <code>await().until(() -&gt; executed.get());</code>. You can also use <code>io.smallrye.mutiny.helpers.test.UniAssertSubscriber</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Test\nvoid mutinySubscriptionNotCalledAfterRetry() {\n  UniAssertSubscriber&lt;Boolean&gt; subscriber = \n    Uni.createFrom().item(this::error)              \n       .onFailure().retry()\n          .withBackOff(Duration.ofSeconds(1)).withJitter(0.2)\n          .atMost(5)\n       .subscribe().withSubscriber(new UniAssertSubscriber&lt;&gt;());\n\n  subscriber.awaitFailure(Duration.ofSeconds(35));\n}\n\nprivate boolean error() {\n    throw new RuntimeException(&quot;boom&quot;);\n}\n</code></pre>\n"}],"owner":{"account_id":3309351,"reputation":38,"user_id":2783218,"display_name":"Rafa S.R."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":529,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69909143,"answer_count":1,"score":0,"last_activity_date":1636531785,"creation_date":1636470123,"question_id":69900434,"body_markdown":"I have encountered some weird behavior while using Mutiny along Quarkus.\r\n\r\nMy problem is that I am trying to wrap an existing method into a Uni and I want this method to be retried a certain number of times and if they all fail, I want my failure subscription to be called, but is not.\r\n\r\nIn order to better understand this, I wrote a test for it:\r\n\r\n    \r\n    @Test\r\n    void mutinySubscriptionNotCalledAfterRetry() {\r\n        final AtomicBoolean executed = new AtomicBoolean(false);\r\n        Uni.createFrom().item(this::error)\r\n           .onFailure()\r\n           .retry()\r\n           .withBackOff(Duration.ofSeconds(1)).withJitter(0.2)\r\n           .atMost(5)\r\n           .subscribe()\r\n           .with(success -&gt; fail(),\r\n                 failure -&gt; executed.set(true));\r\n        assertTrue(executed.get()); // Failing statement\r\n    }\r\n\r\n    private boolean error() {\r\n        throw new RuntimeException();\r\n    }\r\n\r\nThe thing is that the failure subscription is never ran, and I don&#39;t know whether I am failing to understand something, but this seems to be a valid usecase according to Clement&#39;s playground:\r\n\r\nhttps://gist.github.com/cescoffier/e9abce907a1c3d05d70bea3dae6dc3d5\r\n\r\nCan anybody shed some light on this?\r\n\r\nThanks a lot in advance.","title":"Uni subscription not running when using retry policy","body":"<p>I have encountered some weird behavior while using Mutiny along Quarkus.</p>\n<p>My problem is that I am trying to wrap an existing method into a Uni and I want this method to be retried a certain number of times and if they all fail, I want my failure subscription to be called, but is not.</p>\n<p>In order to better understand this, I wrote a test for it:</p>\n<pre><code>@Test\nvoid mutinySubscriptionNotCalledAfterRetry() {\n    final AtomicBoolean executed = new AtomicBoolean(false);\n    Uni.createFrom().item(this::error)\n       .onFailure()\n       .retry()\n       .withBackOff(Duration.ofSeconds(1)).withJitter(0.2)\n       .atMost(5)\n       .subscribe()\n       .with(success -&gt; fail(),\n             failure -&gt; executed.set(true));\n    assertTrue(executed.get()); // Failing statement\n}\n\nprivate boolean error() {\n    throw new RuntimeException();\n}\n</code></pre>\n<p>The thing is that the failure subscription is never ran, and I don't know whether I am failing to understand something, but this seems to be a valid usecase according to Clement's playground:</p>\n<p><a href=\"https://gist.github.com/cescoffier/e9abce907a1c3d05d70bea3dae6dc3d5\" rel=\"nofollow noreferrer\">https://gist.github.com/cescoffier/e9abce907a1c3d05d70bea3dae6dc3d5</a></p>\n<p>Can anybody shed some light on this?</p>\n<p>Thanks a lot in advance.</p>\n"},{"tags":["java","gradle","dependency-management","cas"],"comments":[{"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"score":0,"creation_date":1636530581,"post_id":69909423,"comment_id":123578556,"body_markdown":"Did you refresh / assemble gradle after adding this dependency ?","body":"Did you refresh / assemble gradle after adding this dependency ?"},{"owner":{"account_id":19511716,"reputation":11,"user_id":14275539,"display_name":"whatanoob"},"score":0,"creation_date":1636531004,"post_id":69909423,"comment_id":123578673,"body_markdown":"Yes, I have added other dependencies as well and their import statement worked except for this particular one","body":"Yes, I have added other dependencies as well and their import statement worked except for this particular one"}],"answers":[{"tags":[],"owner":{"account_id":15663576,"reputation":2342,"user_id":11301941,"display_name":"George"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636531521,"creation_date":1636531521,"answer_id":69909685,"question_id":69909423,"body_markdown":"I think its the use of `runtimeOnly` which make it unavailable because its not in your compile classpath .\r\n\r\nand am quoting from [official doc](https://developer.android.com/studio/build/dependencies#dependency_configurations)\r\n\r\n&gt; runtimeOnly:\r\n&gt; \r\n&gt; Gradle adds the dependency to the build output only, for use during\r\n&gt; runtime. That is, it is not added to the compile classpath. This\r\n&gt; configuration behaves just like apk (which is now deprecated).\r\n\r\nI think if you want to use it in your code , changing to implementation will fix the issue .","title":"CAS Apereo 6.1.x importing PasswordEncoderUtils","body":"<p>I think its the use of <code>runtimeOnly</code> which make it unavailable because its not in your compile classpath .</p>\n<p>and am quoting from <a href=\"https://developer.android.com/studio/build/dependencies#dependency_configurations\" rel=\"nofollow noreferrer\">official doc</a></p>\n<blockquote>\n<p>runtimeOnly:</p>\n<p>Gradle adds the dependency to the build output only, for use during\nruntime. That is, it is not added to the compile classpath. This\nconfiguration behaves just like apk (which is now deprecated).</p>\n</blockquote>\n<p>I think if you want to use it in your code , changing to implementation will fix the issue .</p>\n"}],"owner":{"account_id":19511716,"reputation":11,"user_id":14275539,"display_name":"whatanoob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":168,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1636531521,"creation_date":1636530099,"question_id":69909423,"body_markdown":"I am trying to build a project using CAS open source library and I encountered an error while trying to use PasswordEncoderUtils https://github.com/apereo/cas/blob/6.1.x/core/cas-server-core-authentication-api/src/main/java/org/apereo/cas/authentication/support/password/PasswordEncoderUtils.java\r\n\r\nI have imported the following dependency to my build.gradle\r\n\r\n```\r\ndependencies {      \r\nruntimeOnly group: &#39;org.apereo.cas&#39;, name: &#39;cas-server-core-authentication-api&#39;, version: &#39;6.1.4&#39;\r\n}\r\n```\r\n\r\nHowever, when in my main class im trying to import\r\n```\r\nimport org.apereo.cas.authentication.support.password.PasswordEncoderUtils;\r\n```\r\n\r\nThe import of PasswordEncoderUtils was not found. Please help me figure this out. \r\nThanks in advance!","title":"CAS Apereo 6.1.x importing PasswordEncoderUtils","body":"<p>I am trying to build a project using CAS open source library and I encountered an error while trying to use PasswordEncoderUtils <a href=\"https://github.com/apereo/cas/blob/6.1.x/core/cas-server-core-authentication-api/src/main/java/org/apereo/cas/authentication/support/password/PasswordEncoderUtils.java\" rel=\"nofollow noreferrer\">https://github.com/apereo/cas/blob/6.1.x/core/cas-server-core-authentication-api/src/main/java/org/apereo/cas/authentication/support/password/PasswordEncoderUtils.java</a></p>\n<p>I have imported the following dependency to my build.gradle</p>\n<pre><code>dependencies {      \nruntimeOnly group: 'org.apereo.cas', name: 'cas-server-core-authentication-api', version: '6.1.4'\n}\n</code></pre>\n<p>However, when in my main class im trying to import</p>\n<pre><code>import org.apereo.cas.authentication.support.password.PasswordEncoderUtils;\n</code></pre>\n<p>The import of PasswordEncoderUtils was not found. Please help me figure this out.\nThanks in advance!</p>\n"},{"tags":["java","optimization","protocol-buffers"],"comments":[{"owner":{"account_id":236130,"reputation":5021,"user_id":503413,"accept_rate":78,"display_name":"Olimpiu POP"},"score":0,"creation_date":1392728866,"post_id":21854687,"comment_id":33083464,"body_markdown":"can&#39;t you replace the loop with a multithreaded processing model?","body":"can&#39;t you replace the loop with a multithreaded processing model?"},{"owner":{"account_id":394141,"reputation":1273,"user_id":756399,"accept_rate":77,"display_name":"Sebastiano Merlino"},"score":0,"creation_date":1392729069,"post_id":21854687,"comment_id":33083615,"body_markdown":"I avoided to say this, but is is already multithreaded. Essentially the file is splitted in a certain number of slices and each thread works on a slice. The loop I describe in the question is actually the work of a single thread","body":"I avoided to say this, but is is already multithreaded. Essentially the file is splitted in a certain number of slices and each thread works on a slice. The loop I describe in the question is actually the work of a single thread"},{"owner":{"account_id":1581709,"reputation":16841,"user_id":1466970,"accept_rate":73,"display_name":"Richard Chambers"},"score":0,"creation_date":1392729743,"post_id":21854687,"comment_id":33084131,"body_markdown":"Could you provide some additional information about the application&#39;s architecture? At first glance, I would think file I/O would be your major bottleneck and I am curious as to how the file is split into slices and how each of the threads is accessing their file slice.","body":"Could you provide some additional information about the application&#39;s architecture? At first glance, I would think file I/O would be your major bottleneck and I am curious as to how the file is split into slices and how each of the threads is accessing their file slice."},{"owner":{"account_id":394141,"reputation":1273,"user_id":756399,"accept_rate":77,"display_name":"Sebastiano Merlino"},"score":0,"creation_date":1392740445,"post_id":21854687,"comment_id":33092115,"body_markdown":"the splitting is external compared to the application. Each thread starts, pick 1 slice and works on it producing an independent output - nothing is shared between the threads in term of structure. The threads are assigned the slice they have to work on when they are launched.","body":"the splitting is external compared to the application. Each thread starts, pick 1 slice and works on it producing an independent output - nothing is shared between the threads in term of structure. The threads are assigned the slice they have to work on when they are launched."}],"answers":[{"tags":[],"owner":{"account_id":3179906,"reputation":42189,"user_id":2686899,"display_name":"Kenton Varda"},"down_vote_count":1,"up_vote_count":17,"is_accepted":true,"score":16,"last_activity_date":1433352913,"creation_date":1392781427,"answer_id":21870564,"question_id":21854687,"body_markdown":"If CPU time is your bottleneck (which is unlikely if you are loading directly from HDD with cold cache, but could be the case in other scenarios), then here are some ways you can improve throughput:\r\n\r\n- If possible, use C++ rather than Java, and reuse the same message object for each iteration of the loop.  This reduces the amount of time spent on memory management, as the same memory will be reused each time.\r\n\r\n- Instead of using `readDelimitedFrom()`, construct a single `CodedInputStream` and use it to read multiple messages like so:\r\n\r\n        // Do this once:\r\n        CodedInputStream cis = CodedInputStream.newInstance(input);\r\n\r\n        // Then read each message like so:\r\n        int limit = cis.pushLimit(cis.readRawVarint32());\r\n        builder.mergeFrom(cis);\r\n        cis.popLimit(limit);\r\n        cis.resetSizeCounter();\r\n\r\n  (A similar approach works in C++.)\r\n\r\n- Use Snappy or LZ4 compression rather than gzip.  These algorithms still get reasonable compression ratios but are optimized for speed.  (LZ4 is probably better, though Snappy was developed by Google with Protobufs in mind, so you might want to test both on your data set.)\r\n\r\n- Consider using [Cap&#39;n Proto](http://kentonv.github.io/capnproto/) rather than Protocol Buffers.  &lt;s&gt;Unfortunately, there is no Java version yet, but&lt;/s&gt; EDIT: There is [capnproto-java](https://github.com/dwrensha/capnproto-java) and also implementations in many other languages. In the languages it supports it has been shown to be quite a bit faster.  (Disclosure:  I am the author of Cap&#39;n Proto.  I am also the author of Protocol Buffers v2, which is the version Google released open source.)","title":"Improving performance of protocol buffers","body":"<p>If CPU time is your bottleneck (which is unlikely if you are loading directly from HDD with cold cache, but could be the case in other scenarios), then here are some ways you can improve throughput:</p>\n\n<ul>\n<li><p>If possible, use C++ rather than Java, and reuse the same message object for each iteration of the loop.  This reduces the amount of time spent on memory management, as the same memory will be reused each time.</p></li>\n<li><p>Instead of using <code>readDelimitedFrom()</code>, construct a single <code>CodedInputStream</code> and use it to read multiple messages like so:</p>\n\n<pre><code>// Do this once:\nCodedInputStream cis = CodedInputStream.newInstance(input);\n\n// Then read each message like so:\nint limit = cis.pushLimit(cis.readRawVarint32());\nbuilder.mergeFrom(cis);\ncis.popLimit(limit);\ncis.resetSizeCounter();\n</code></pre>\n\n<p>(A similar approach works in C++.)</p></li>\n<li><p>Use Snappy or LZ4 compression rather than gzip.  These algorithms still get reasonable compression ratios but are optimized for speed.  (LZ4 is probably better, though Snappy was developed by Google with Protobufs in mind, so you might want to test both on your data set.)</p></li>\n<li><p>Consider using <a href=\"http://kentonv.github.io/capnproto/\">Cap'n Proto</a> rather than Protocol Buffers.  <s>Unfortunately, there is no Java version yet, but</s> EDIT: There is <a href=\"https://github.com/dwrensha/capnproto-java\">capnproto-java</a> and also implementations in many other languages. In the languages it supports it has been shown to be quite a bit faster.  (Disclosure:  I am the author of Cap'n Proto.  I am also the author of Protocol Buffers v2, which is the version Google released open source.)</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":88816,"reputation":3033,"user_id":245452,"accept_rate":73,"display_name":"ytoledano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636530814,"creation_date":1636530814,"answer_id":69909542,"question_id":21854687,"body_markdown":"I expect that the majority of the time spent by your CPU is in garbage collection. I would look to replace the default garbage collector with one better suited for your use case of short lived objects.\r\n\r\nIf you do decide to write this in C++ - use an Arena to create the first message before parsing: https://developers.google.com/protocol-buffers/docs/reference/arenas","title":"Improving performance of protocol buffers","body":"<p>I expect that the majority of the time spent by your CPU is in garbage collection. I would look to replace the default garbage collector with one better suited for your use case of short lived objects.</p>\n<p>If you do decide to write this in C++ - use an Arena to create the first message before parsing: <a href=\"https://developers.google.com/protocol-buffers/docs/reference/arenas\" rel=\"nofollow noreferrer\">https://developers.google.com/protocol-buffers/docs/reference/arenas</a></p>\n"}],"owner":{"account_id":394141,"reputation":1273,"user_id":756399,"accept_rate":77,"display_name":"Sebastiano Merlino"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7873,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":21870564,"answer_count":2,"score":7,"last_activity_date":1636530814,"creation_date":1392728584,"question_id":21854687,"body_markdown":"I&#39;m writing an application that needs to deserialize quickly millions of messages from a single file.\r\n\r\nWhat the application does is essentially to get one message from the file, do some work and then throw away the message. Each message is composed of ~100 fields (not all of them are always parsed but I need them all because the user of the application can decide on which fields he wants to work on).\r\n\r\nIn this moment the application consists in a loop that in each iteration just executes using a `readDelimitedFrom()` call.\r\n\r\nIs there a way to optimize the problem to fit better this case (splitting in multiple files, etc...). In addition, in this moment due to the number of messages and the dimension of each message, I need to gzip the file (and it is fairly effective in reducing the size since the value of the fields are quite repetitive) - this though reduces the performance.","title":"Improving performance of protocol buffers","body":"<p>I'm writing an application that needs to deserialize quickly millions of messages from a single file.</p>\n\n<p>What the application does is essentially to get one message from the file, do some work and then throw away the message. Each message is composed of ~100 fields (not all of them are always parsed but I need them all because the user of the application can decide on which fields he wants to work on).</p>\n\n<p>In this moment the application consists in a loop that in each iteration just executes using a <code>readDelimitedFrom()</code> call.</p>\n\n<p>Is there a way to optimize the problem to fit better this case (splitting in multiple files, etc...). In addition, in this moment due to the number of messages and the dimension of each message, I need to gzip the file (and it is fairly effective in reducing the size since the value of the fields are quite repetitive) - this though reduces the performance.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":15623101,"reputation":2772,"user_id":11271432,"display_name":"Cray"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1636530623,"creation_date":1636530623,"answer_id":69909512,"question_id":69909390,"body_markdown":"`Matcher` requires you to search for a match before retrieving groups. So you should be calling something like `matches()` to match entire string or `find()` to get a partial match.\r\n\r\n    Matcher matcher = pattern.matcher(value);\r\n    if (matcher.find()) {\r\n      matcher.group(0);\r\n    }\r\n\r\nNot sure why your debugger works without a method for finding matches. Debug in Eclipse returned the expected `IllegalStateException` error.","title":"Match found only in debug mode","body":"<p><code>Matcher</code> requires you to search for a match before retrieving groups. So you should be calling something like <code>matches()</code> to match entire string or <code>find()</code> to get a partial match.</p>\n<pre><code>Matcher matcher = pattern.matcher(value);\nif (matcher.find()) {\n  matcher.group(0);\n}\n</code></pre>\n<p>Not sure why your debugger works without a method for finding matches. Debug in Eclipse returned the expected <code>IllegalStateException</code> error.</p>\n"}],"owner":{"account_id":12706527,"reputation":999,"user_id":9231614,"display_name":"kris82pl"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69909512,"answer_count":1,"score":1,"last_activity_date":1636530623,"creation_date":1636529914,"question_id":69909390,"body_markdown":"I have a method for swapping of matched part of string with current date:\r\n\r\n    public static String swapDateOnConstant(String value) {\r\n        LOGGER.info(&quot;Swap date in string: &quot; + value);\r\n        String patternString = &quot;&lt;(.*)&gt;&quot;;\r\n        Pattern pattern = Pattern.compile(patternString);\r\n        Matcher matcher = pattern.matcher(value);\r\n        String dateFormat = matcher.group(0);\r\n        dateFormat = dateFormat.substring(1, dateFormat.length() - 1)\r\n                .replaceAll(&quot;D&quot;, &quot;d&quot;)\r\n                .replaceAll(&quot;m&quot;, &quot;M&quot;)\r\n                .replaceAll(&quot;Y&quot;, &quot;y&quot;);\r\n        String currentDate = DateTimeTools.getCurrentDateInFormat(dateFormat);\r\n        value = value.replaceAll(patternString, currentDate);\r\n        return value;}\r\n\r\nInput string *value* is: `\\&lt;MM-DD-YY&gt; CITI`\r\n\r\nWhen I go through this method in debug method everything is ok but when I&#39;s run in normal mode\r\nI receive and exception `java.lang.IllegalStateException: No match found`\r\n\r\nfrom line `String dateFormat = matcher.group(0);`\r\n\r\nI&#39;m confused.\r\nAny idea what is going on here ?\r\n","title":"Match found only in debug mode","body":"<p>I have a method for swapping of matched part of string with current date:</p>\n<pre><code>public static String swapDateOnConstant(String value) {\n    LOGGER.info(&quot;Swap date in string: &quot; + value);\n    String patternString = &quot;&lt;(.*)&gt;&quot;;\n    Pattern pattern = Pattern.compile(patternString);\n    Matcher matcher = pattern.matcher(value);\n    String dateFormat = matcher.group(0);\n    dateFormat = dateFormat.substring(1, dateFormat.length() - 1)\n            .replaceAll(&quot;D&quot;, &quot;d&quot;)\n            .replaceAll(&quot;m&quot;, &quot;M&quot;)\n            .replaceAll(&quot;Y&quot;, &quot;y&quot;);\n    String currentDate = DateTimeTools.getCurrentDateInFormat(dateFormat);\n    value = value.replaceAll(patternString, currentDate);\n    return value;}\n</code></pre>\n<p>Input string <em>value</em> is: <code>\\&lt;MM-DD-YY&gt; CITI</code></p>\n<p>When I go through this method in debug method everything is ok but when I's run in normal mode\nI receive and exception <code>java.lang.IllegalStateException: No match found</code></p>\n<p>from line <code>String dateFormat = matcher.group(0);</code></p>\n<p>I'm confused.\nAny idea what is going on here ?</p>\n"},{"tags":["java","android","sharedpreferences"],"comments":[{"owner":{"account_id":19585129,"reputation":164,"user_id":14333417,"display_name":"Muhammad Farhan Arif"},"score":0,"creation_date":1636527810,"post_id":69908999,"comment_id":123577801,"body_markdown":"Did you have the concept of JSON?","body":"Did you have the concept of JSON?"}],"answers":[{"tags":[],"owner":{"account_id":21784852,"reputation":53,"user_id":16086067,"display_name":"Abdullah Alomair"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636530068,"creation_date":1636528157,"answer_id":69909076,"question_id":69908999,"body_markdown":"You can convert your object to Json then save it as a String in your shared preference like the code below:\r\n\r\n```\r\npublic void save(String key, MyModel object) {\r\n    String myObject = Gson().toJson(object);\r\n    SharedPreferences.Editor editor\r\n        = context.getSharedPreferences(&quot;data&quot;, context.MODE_PRIVATE).edit();\r\n    editor.putString(key, myObject);\r\n    editor.commit();\r\n}\r\n```\r\n\r\nThen you can convert it back to object like this:\r\n\r\n```\r\npublic MyModel get(String key) {\r\n    SharedPreferences sharedPreferences\r\n        = context.getSharedPreferences(&quot;data&quot;, context.MODE_PRIVATE);\r\n    String myObject = sharedPreferences.getString(key, &quot;&quot;);\r\n    return Gson().fromJson(myObject, MyModel.class);\r\n}\r\n```\r\n","title":"Save Model class object in SharedPreferences","body":"<p>You can convert your object to Json then save it as a String in your shared preference like the code below:</p>\n<pre><code>public void save(String key, MyModel object) {\n    String myObject = Gson().toJson(object);\n    SharedPreferences.Editor editor\n        = context.getSharedPreferences(&quot;data&quot;, context.MODE_PRIVATE).edit();\n    editor.putString(key, myObject);\n    editor.commit();\n}\n</code></pre>\n<p>Then you can convert it back to object like this:</p>\n<pre><code>public MyModel get(String key) {\n    SharedPreferences sharedPreferences\n        = context.getSharedPreferences(&quot;data&quot;, context.MODE_PRIVATE);\n    String myObject = sharedPreferences.getString(key, &quot;&quot;);\n    return Gson().fromJson(myObject, MyModel.class);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19585129,"reputation":164,"user_id":14333417,"display_name":"Muhammad Farhan Arif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636530126,"creation_date":1636528198,"answer_id":69909084,"question_id":69908999,"body_markdown":"this one to save data\r\n \r\n    public void saveData(String key, MyModel object) {\r\n        save(key, new Gson().toJson(object));\r\n    }\r\n\r\nthis one to get data\r\n\r\n    public MyModel getData(String key) {\r\n        String data = get(key);\r\n        return new Gson().fromJson(data, MyModel.class);\r\n    }\r\n\r\n\r\n**How it works?**\r\n\r\nThis save method converts your model object into a JSON string and then the string is saved into shared preferences and the same in get function. It gets data in the form of JSON string and then it converts it to your object and returns a value.\r\nFor save and get use your own functions","title":"Save Model class object in SharedPreferences","body":"<p>this one to save data</p>\n<pre><code>public void saveData(String key, MyModel object) {\n    save(key, new Gson().toJson(object));\n}\n</code></pre>\n<p>this one to get data</p>\n<pre><code>public MyModel getData(String key) {\n    String data = get(key);\n    return new Gson().fromJson(data, MyModel.class);\n}\n</code></pre>\n<p><strong>How it works?</strong></p>\n<p>This save method converts your model object into a JSON string and then the string is saved into shared preferences and the same in get function. It gets data in the form of JSON string and then it converts it to your object and returns a value.\nFor save and get use your own functions</p>\n"}],"owner":{"account_id":20712018,"reputation":13,"user_id":15208436,"display_name":"Farhan Arif"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":224,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69909084,"answer_count":2,"score":0,"last_activity_date":1636530126,"creation_date":1636527682,"question_id":69908999,"body_markdown":"I am new to android development. I am saving user profile information in shared preferences so that whenever I am required to show the user name, email or other data I call it from shared preferences instead of calling from the database again and again. I want to save and get a complete profile instead of getting a single string. Below are functions I use\r\n\r\n    public void save(String key, String value) {\r\n        SharedPreferences.Editor editor\r\n            = context.getSharedPreferences(&quot;data&quot;, context.MODE_PRIVATE).edit();\r\n        editor.putString(key, value);\r\n        editor.commit();\r\n    }\r\n\r\n    public String get(String key) {\r\n        SharedPreferences sharedPreferences\r\n            = context.getSharedPreferences(&quot;data&quot;, context.MODE_PRIVATE);\r\n        return sharedPreferences.getString(key, &quot;&quot;);\r\n    }\r\n\r\nThe function I want is something like below\r\n\r\n    public void save(String key, MyModel object) {\r\n        SharedPreferences.Editor editor\r\n            = context.getSharedPreferences(&quot;data&quot;, context.MODE_PRIVATE).edit();\r\n        editor.putString(key, object);\r\n        editor.commit();\r\n    }\r\n\r\nBut shared preferences take the only string to save and get. Is there any possible solution to save objects in it? Or any alternative to shared preferences. (excluding SQLite or another complex database)","title":"Save Model class object in SharedPreferences","body":"<p>I am new to android development. I am saving user profile information in shared preferences so that whenever I am required to show the user name, email or other data I call it from shared preferences instead of calling from the database again and again. I want to save and get a complete profile instead of getting a single string. Below are functions I use</p>\n<pre><code>public void save(String key, String value) {\n    SharedPreferences.Editor editor\n        = context.getSharedPreferences(&quot;data&quot;, context.MODE_PRIVATE).edit();\n    editor.putString(key, value);\n    editor.commit();\n}\n\npublic String get(String key) {\n    SharedPreferences sharedPreferences\n        = context.getSharedPreferences(&quot;data&quot;, context.MODE_PRIVATE);\n    return sharedPreferences.getString(key, &quot;&quot;);\n}\n</code></pre>\n<p>The function I want is something like below</p>\n<pre><code>public void save(String key, MyModel object) {\n    SharedPreferences.Editor editor\n        = context.getSharedPreferences(&quot;data&quot;, context.MODE_PRIVATE).edit();\n    editor.putString(key, object);\n    editor.commit();\n}\n</code></pre>\n<p>But shared preferences take the only string to save and get. Is there any possible solution to save objects in it? Or any alternative to shared preferences. (excluding SQLite or another complex database)</p>\n"},{"tags":["java","jakarta-mail"],"comments":[{"owner":{"account_id":80298,"reputation":34530,"user_id":227140,"accept_rate":80,"display_name":"beny23"},"score":0,"creation_date":1427699475,"post_id":29340221,"comment_id":46867898,"body_markdown":"Try running with `-Djavax.net.debug=all` to get a better idea during what phase of the handshake the connection is closing.","body":"Try running with <code>-Djavax.net.debug=all</code> to get a better idea during what phase of the handshake the connection is closing."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1427700924,"post_id":29340221,"comment_id":46868572,"body_markdown":"Why are you using SMTP properties for an IMAP connection?","body":"Why are you using SMTP properties for an IMAP connection?"},{"owner":{"account_id":3150686,"reputation":13778,"user_id":2664200,"accept_rate":71,"display_name":"SpringLearner"},"score":0,"creation_date":1427701402,"post_id":29340221,"comment_id":46868805,"body_markdown":"are you following http://www.technicalkeeda.com/java/how-to-access-gmail-inbox-using-java-imap","body":"are you following <a href=\"http://www.technicalkeeda.com/java/how-to-access-gmail-inbox-using-java-imap\" rel=\"nofollow noreferrer\">technicalkeeda.com/java/&hellip;</a>"},{"owner":{"account_id":229213,"reputation":8557,"user_id":492015,"accept_rate":68,"display_name":"Arya"},"score":0,"creation_date":1427726086,"post_id":29340221,"comment_id":46883568,"body_markdown":"@SpringLearner yes, that is what I followed","body":"@SpringLearner yes, that is what I followed"},{"owner":{"account_id":229213,"reputation":8557,"user_id":492015,"accept_rate":68,"display_name":"Arya"},"score":0,"creation_date":1427726421,"post_id":29340221,"comment_id":46883795,"body_markdown":"@EJP wow good catch, I followed a tutorial online and I never thought they would have the wrong server. Thank You","body":"@EJP wow good catch, I followed a tutorial online and I never thought they would have the wrong server. Thank You"}],"answers":[{"tags":[],"owner":{"account_id":4910819,"reputation":395,"user_id":3956172,"display_name":"Sebastian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427701885,"creation_date":1427701885,"answer_id":29340958,"question_id":29340221,"body_markdown":"Are there more stacktraces? Older Java versions have problems with TLS handshakes with RSA keys with more than 1024 bit (may be also with keys having exactly bit byte).\r\n\r\nThis was fixed in Java 1.7 or Java 1.8.","title":"SSLHandshakeException: Remote host closed connection during handshake","body":"<p>Are there more stacktraces? Older Java versions have problems with TLS handshakes with RSA keys with more than 1024 bit (may be also with keys having exactly bit byte).</p>\n\n<p>This was fixed in Java 1.7 or Java 1.8.</p>\n"},{"tags":[],"owner":{"account_id":1032936,"reputation":29659,"user_id":1040885,"display_name":"Bill Shannon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1427741555,"creation_date":1427741555,"answer_id":29353963,"question_id":29340221,"body_markdown":"First, clean up all these [common mistakes][1].  You don&#39;t need any socket factories.\r\n\r\nThen try these [connection debugging tips][2].\r\n\r\nPossibly you have a firewall or anti-virus program that&#39;s preventing you from connecting.\r\n\r\n\r\n  [1]: http://www.oracle.com/technetwork/java/javamail/faq/index.html#commonmistakes\r\n  [2]: http://www.oracle.com/technetwork/java/javamail/faq/index.html#condebug","title":"SSLHandshakeException: Remote host closed connection during handshake","body":"<p>First, clean up all these <a href=\"http://www.oracle.com/technetwork/java/javamail/faq/index.html#commonmistakes\" rel=\"nofollow\">common mistakes</a>.  You don't need any socket factories.</p>\n\n<p>Then try these <a href=\"http://www.oracle.com/technetwork/java/javamail/faq/index.html#condebug\" rel=\"nofollow\">connection debugging tips</a>.</p>\n\n<p>Possibly you have a firewall or anti-virus program that's preventing you from connecting.</p>\n"},{"tags":[],"owner":{"account_id":1152719,"reputation":11,"user_id":1134090,"display_name":"user1134090"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522653617,"creation_date":1522653617,"answer_id":49606965,"question_id":29340221,"body_markdown":"try adding below to the properties:\r\nproperties.put(&quot;mail.smtp.ssl.trust&quot;, &quot;smtp.gmail.com&quot;);","title":"SSLHandshakeException: Remote host closed connection during handshake","body":"<p>try adding below to the properties:\nproperties.put(\"mail.smtp.ssl.trust\", \"smtp.gmail.com\");</p>\n"},{"tags":[],"owner":{"account_id":12042004,"reputation":11,"user_id":8808600,"display_name":"sirlucas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1636529357,"creation_date":1636473675,"answer_id":69901317,"question_id":29340221,"body_markdown":"The problem is that the default TLS version in JAVA jre1.8.0_141 1.0, however due to vulnerabilities in 1.0 a lot of email servers no longer accept connections. To instead use 1.2 directly in code this instruction worked for me when creating properties for sending mail:\r\n\r\n```\r\nprops.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\r\n```\r\n\r\nFor example:\r\n\r\n```java\r\nProperties props = System.getProperties();\r\nprops.put(&quot;mail.smtp.host&quot;, mailHost);\r\nprops.put(&quot;mail.smtps.auth&quot;, mailAuth);\r\nprops.put(&quot;mail.transport.protocol&quot;, mailProtocol);\r\nprops.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\r\n\r\n// Get a Session object\r\nSession sess = Session.getInstance(props, null);\r\n\r\n// construct the message\r\nMimeMessage msg = new MimeMessage(sess);\r\nmsg.setFrom(new InternetAddress(mailUser));\r\n```\r\n\r\nAlso note, you could just set that same property in the properties file you&#39;re loading (`smtp.properties`) at the start of your `try` block.","title":"SSLHandshakeException: Remote host closed connection during handshake","body":"<p>The problem is that the default TLS version in JAVA jre1.8.0_141 1.0, however due to vulnerabilities in 1.0 a lot of email servers no longer accept connections. To instead use 1.2 directly in code this instruction worked for me when creating properties for sending mail:</p>\n<pre><code>props.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\n</code></pre>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Properties props = System.getProperties();\nprops.put(&quot;mail.smtp.host&quot;, mailHost);\nprops.put(&quot;mail.smtps.auth&quot;, mailAuth);\nprops.put(&quot;mail.transport.protocol&quot;, mailProtocol);\nprops.put(&quot;mail.smtp.ssl.protocols&quot;, &quot;TLSv1.2&quot;);\n\n// Get a Session object\nSession sess = Session.getInstance(props, null);\n\n// construct the message\nMimeMessage msg = new MimeMessage(sess);\nmsg.setFrom(new InternetAddress(mailUser));\n</code></pre>\n<p>Also note, you could just set that same property in the properties file you're loading (<code>smtp.properties</code>) at the start of your <code>try</code> block.</p>\n"}],"owner":{"account_id":229213,"reputation":8557,"user_id":492015,"accept_rate":68,"display_name":"Arya"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8567,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1636529357,"creation_date":1427699218,"question_id":29340221,"body_markdown":"I have the following method for retrieving messages from Gmail using imap\r\n\r\n    public static void main(String[] args)\r\n    \t{\r\n    \t\tProperties props = new Properties();\r\n    \t\ttry\r\n    \t\t{\r\n    \t\t\tprops.load(new FileInputStream(new File(&quot;smtp.properties&quot;)));\r\n    \t\t\tSession session = Session.getDefaultInstance(props, null);\r\n    \r\n    \t\t\tStore store = session.getStore(&quot;imaps&quot;);\r\n    \t\t\tstore.connect(&quot;smtp.gmail.com&quot;, &quot;******@gmail.com&quot;, &quot;mypass&quot;);\r\n    \r\n    \t\t\tFolder inbox = store.getFolder(&quot;inbox&quot;);\r\n    \t\t\tinbox.open(Folder.READ_ONLY);\r\n    \t\t\tint messageCount = inbox.getMessageCount();\r\n    \r\n    \t\t\tMessage[] messages = inbox.getMessages();\r\n    \t\t\tSystem.out.println(&quot;------------------------------&quot;);\r\n    \t\t\tfor (int i = 0; i &lt; 10; i++)\r\n    \t\t\t{\r\n    \t\t\t\tSystem.out.println(&quot;Mail Subject:- &quot; + messages[i].getSubject());\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tcatch (Exception e)\r\n    \t\t{\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n\r\nmy smtp.properties contains\r\n\r\n     mail.smtp.host=smtp.gmail.com\r\n     mail.smtp.socketFactory.port=465\r\n     mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory\r\n     mail.smtp.auth=true\r\n     mail.smtp.port=465\r\n\r\nI get the following when I run the program\r\n\r\n    javax.mail.MessagingException: Remote host closed connection during handshake;\r\n      nested exception is:\r\n    \tjavax.net.ssl.SSLHandshakeException: Remote host closed connection during handshake\r\n    \tat com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:695)\r\n    \tat javax.mail.Service.connect(Service.java:345)\r\n    \tat javax.mail.Service.connect(Service.java:226)\r\n    \tat gmailsmpt.Main.main(Main.java:25)\r\n    Caused by: javax.net.ssl.SSLHandshakeException: Remote host closed connection during handshake\r\n    \tat sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\r\n    \tat sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n    \tat sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\r\n    \tat com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:532)\r\n    \tat com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:337)\r\n    \tat com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:229)\r\n    \tat com.sun.mail.iap.Protocol.&lt;init&gt;(Protocol.java:116)\r\n    \tat com.sun.mail.imap.protocol.IMAPProtocol.&lt;init&gt;(IMAPProtocol.java:121)\r\n    \tat com.sun.mail.imap.IMAPStore.newIMAPProtocol(IMAPStore.java:710)\r\n    \tat com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:659)\r\n    \t... 3 more\r\n    Caused by: java.io.EOFException: SSL peer shut down incorrectly\r\n    \tat sun.security.ssl.InputRecord.read(Unknown Source)\r\n    \t... 14 more\r\n\r\nHow can I fix the issue?","title":"SSLHandshakeException: Remote host closed connection during handshake","body":"<p>I have the following method for retrieving messages from Gmail using imap</p>\n\n<pre><code>public static void main(String[] args)\n    {\n        Properties props = new Properties();\n        try\n        {\n            props.load(new FileInputStream(new File(\"smtp.properties\")));\n            Session session = Session.getDefaultInstance(props, null);\n\n            Store store = session.getStore(\"imaps\");\n            store.connect(\"smtp.gmail.com\", \"******@gmail.com\", \"mypass\");\n\n            Folder inbox = store.getFolder(\"inbox\");\n            inbox.open(Folder.READ_ONLY);\n            int messageCount = inbox.getMessageCount();\n\n            Message[] messages = inbox.getMessages();\n            System.out.println(\"------------------------------\");\n            for (int i = 0; i &lt; 10; i++)\n            {\n                System.out.println(\"Mail Subject:- \" + messages[i].getSubject());\n            }\n        }\n        catch (Exception e)\n        {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n\n<p>my smtp.properties contains</p>\n\n<pre><code> mail.smtp.host=smtp.gmail.com\n mail.smtp.socketFactory.port=465\n mail.smtp.socketFactory.class=javax.net.ssl.SSLSocketFactory\n mail.smtp.auth=true\n mail.smtp.port=465\n</code></pre>\n\n<p>I get the following when I run the program</p>\n\n<pre><code>javax.mail.MessagingException: Remote host closed connection during handshake;\n  nested exception is:\n    javax.net.ssl.SSLHandshakeException: Remote host closed connection during handshake\n    at com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:695)\n    at javax.mail.Service.connect(Service.java:345)\n    at javax.mail.Service.connect(Service.java:226)\n    at gmailsmpt.Main.main(Main.java:25)\nCaused by: javax.net.ssl.SSLHandshakeException: Remote host closed connection during handshake\n    at sun.security.ssl.SSLSocketImpl.readRecord(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.performInitialHandshake(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n    at sun.security.ssl.SSLSocketImpl.startHandshake(Unknown Source)\n    at com.sun.mail.util.SocketFetcher.configureSSLSocket(SocketFetcher.java:532)\n    at com.sun.mail.util.SocketFetcher.createSocket(SocketFetcher.java:337)\n    at com.sun.mail.util.SocketFetcher.getSocket(SocketFetcher.java:229)\n    at com.sun.mail.iap.Protocol.&lt;init&gt;(Protocol.java:116)\n    at com.sun.mail.imap.protocol.IMAPProtocol.&lt;init&gt;(IMAPProtocol.java:121)\n    at com.sun.mail.imap.IMAPStore.newIMAPProtocol(IMAPStore.java:710)\n    at com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:659)\n    ... 3 more\nCaused by: java.io.EOFException: SSL peer shut down incorrectly\n    at sun.security.ssl.InputRecord.read(Unknown Source)\n    ... 14 more\n</code></pre>\n\n<p>How can I fix the issue?</p>\n"},{"tags":["java","maven","date","generator","openapi"],"comments":[{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":0,"creation_date":1636368603,"post_id":69879321,"comment_id":123529056,"body_markdown":"From the OpenAPI docs, the date formats allowed are only a couple. If you are using a Jackson based API (like SpringMVC), what you may do (_apart from the mappings_ you have done above and have generated the code) is to register a Jackson deserializer for this class and do the conversion in that. Then, where you need `LocalDateTime` you can use `dateN.toLocalDateTime()`.","body":"From the OpenAPI docs, the date formats allowed are only a couple. If you are using a Jackson based API (like SpringMVC), what you may do (<i>apart from the mappings</i> you have done above and have generated the code) is to register a Jackson deserializer for this class and do the conversion in that. Then, where you need <code>LocalDateTime</code> you can use <code>dateN.toLocalDateTime()</code>."},{"owner":{"account_id":20189096,"reputation":61,"user_id":14807748,"display_name":"bravo1"},"score":0,"creation_date":1636378458,"post_id":69879321,"comment_id":123532998,"body_markdown":"@SreeKumar, Thanks for the reply. Jackson deserializer is not exactly what I want to get. I want the `date1` field type to be LocalDateTime in the generated class, and the `date2` field type to be OffsetDateTime. I have expanded my question for more clarity.","body":"@SreeKumar, Thanks for the reply. Jackson deserializer is not exactly what I want to get. I want the <code>date1</code> field type to be LocalDateTime in the generated class, and the <code>date2</code> field type to be OffsetDateTime. I have expanded my question for more clarity."},{"owner":{"account_id":3262328,"reputation":2135,"user_id":2747642,"display_name":"Sree Kumar"},"score":0,"creation_date":1636378935,"post_id":69879321,"comment_id":123533223,"body_markdown":"I had got that point. Since I didn&#39;t think it possible, I merely was suggesting an alternative. I agree: what you desire, if possible, is the way to go.","body":"I had got that point. Since I didn&#39;t think it possible, I merely was suggesting an alternative. I agree: what you desire, if possible, is the way to go."}],"answers":[{"tags":[],"owner":{"account_id":20189096,"reputation":61,"user_id":14807748,"display_name":"bravo1"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636529307,"creation_date":1636529307,"answer_id":69909277,"question_id":69879321,"body_markdown":"Here is the solution I eventually came to.\r\nI am replacing OffsetDateTime with LocalDateTime using maven-replacer-plugin:\r\n\r\n```\r\n&lt;replacements&gt;\r\n\t&lt;replacement&gt;\r\n\t\t&lt;token&gt;import java.time.OffsetDateTime;&lt;/token&gt;\r\n\t\t&lt;value&gt;import java.time.OffsetDateTime;\\nimport java.time.LocalDateTime;&lt;/value&gt;\r\n\t&lt;/replacement&gt;\r\n\t&lt;replacement&gt;\r\n\t\t&lt;token&gt;OffsetDateTime date1&lt;/token&gt;\r\n\t\t&lt;value&gt;LocalDateTime date1&lt;/value&gt;\r\n\t&lt;/replacement&gt;\r\n&lt;/replacements&gt;\r\n```\r\n\r\nNot very elegant, but it works )","title":"How to change the type for only one field using the openapi-generator-maven-plugin?","body":"<p>Here is the solution I eventually came to.\nI am replacing OffsetDateTime with LocalDateTime using maven-replacer-plugin:</p>\n<pre><code>&lt;replacements&gt;\n    &lt;replacement&gt;\n        &lt;token&gt;import java.time.OffsetDateTime;&lt;/token&gt;\n        &lt;value&gt;import java.time.OffsetDateTime;\\nimport java.time.LocalDateTime;&lt;/value&gt;\n    &lt;/replacement&gt;\n    &lt;replacement&gt;\n        &lt;token&gt;OffsetDateTime date1&lt;/token&gt;\n        &lt;value&gt;LocalDateTime date1&lt;/value&gt;\n    &lt;/replacement&gt;\n&lt;/replacements&gt;\n</code></pre>\n<p>Not very elegant, but it works )</p>\n"}],"owner":{"account_id":20189096,"reputation":61,"user_id":14807748,"display_name":"bravo1"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2078,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":69909277,"answer_count":1,"score":5,"last_activity_date":1636529307,"creation_date":1636352536,"question_id":69879321,"body_markdown":"I have a schema that describes the data I get from the REST service. I can&#39;t change this scheme. There are two `date-time` type fields in the schema that have a different format:\r\n\r\n```\r\n&quot;date1&quot;: {\r\n\t&quot;type&quot;: &quot;string&quot;,\r\n\t&quot;description&quot;: &quot;Date 1&quot;,\r\n\t&quot;format&quot;: &quot;date-time&quot;\r\n},\r\n&quot;date2&quot;: {\r\n\t&quot;type&quot;: &quot;string&quot;,\r\n\t&quot;description&quot;: &quot;Date 2&quot;,\r\n\t&quot;format&quot;: &quot;date-time&quot;\r\n}\r\n```\r\n```\r\n{\r\n\t&quot;date1&quot;: &quot;2021-07-29T03:00:00&quot;,\r\n\t&quot;date2&quot;: &quot;2021-04-22T08:25:30.264Z&quot;\r\n}\r\n```\r\n\r\nBy default, the open api-generator-maven-plugin creates the OffsetDateTime type for `date-time` type fields:\r\n\r\n```\r\n    @JsonProperty(&quot;date1&quot;)\r\n    private OffsetDateTime date1;\r\n\r\n    @JsonProperty(&quot;date2&quot;)\r\n    private OffsetDateTime date2;\r\n```\r\n\r\nWith `typeMappings` and `importMappings` I can replace OffsetDateTime to LocalDateTime:\r\n\r\n```\r\n&lt;typeMappings&gt;\r\n\t&lt;typeMapping&gt;OffsetDateTime=LocalDateTime&lt;/typeMapping&gt;\r\n&lt;/typeMappings&gt;\r\n&lt;importMappings&gt;\r\n\t&lt;importMapping&gt;java.time.OffsetDateTime=java.time.LocalDateTime&lt;/importMapping&gt;\r\n&lt;/importMappings&gt;\r\n```\r\n\r\nBut this replacement will happen for all fields:\r\n\r\n```\r\n    @JsonProperty(&quot;date1&quot;)\r\n    private LocalDateTime date1;\r\n\r\n    @JsonProperty(&quot;date2&quot;)\r\n    private LocalDateTime date2;\r\n```\r\n\r\nIs there a way to replace OffsetDateTime with LocalDateTime for `date1` only?\r\n\r\nThat&#39;s what I want to see in the generated class:\r\n\r\n```\r\n    @JsonProperty(&quot;date1&quot;)\r\n    private LocalDateTime date1;\r\n\r\n    @JsonProperty(&quot;date2&quot;)\r\n    private OffsetDateTime date2;\r\n```\r\n\r\nI understand that I can fix the generated class and replace OffsetDateTime with LocalDateTime, but I don&#39;t want to change the generated class every time after generation.\r\n\r\nThanks in advance.","title":"How to change the type for only one field using the openapi-generator-maven-plugin?","body":"<p>I have a schema that describes the data I get from the REST service. I can't change this scheme. There are two <code>date-time</code> type fields in the schema that have a different format:</p>\n<pre><code>&quot;date1&quot;: {\n    &quot;type&quot;: &quot;string&quot;,\n    &quot;description&quot;: &quot;Date 1&quot;,\n    &quot;format&quot;: &quot;date-time&quot;\n},\n&quot;date2&quot;: {\n    &quot;type&quot;: &quot;string&quot;,\n    &quot;description&quot;: &quot;Date 2&quot;,\n    &quot;format&quot;: &quot;date-time&quot;\n}\n</code></pre>\n<pre><code>{\n    &quot;date1&quot;: &quot;2021-07-29T03:00:00&quot;,\n    &quot;date2&quot;: &quot;2021-04-22T08:25:30.264Z&quot;\n}\n</code></pre>\n<p>By default, the open api-generator-maven-plugin creates the OffsetDateTime type for <code>date-time</code> type fields:</p>\n<pre><code>    @JsonProperty(&quot;date1&quot;)\n    private OffsetDateTime date1;\n\n    @JsonProperty(&quot;date2&quot;)\n    private OffsetDateTime date2;\n</code></pre>\n<p>With <code>typeMappings</code> and <code>importMappings</code> I can replace OffsetDateTime to LocalDateTime:</p>\n<pre><code>&lt;typeMappings&gt;\n    &lt;typeMapping&gt;OffsetDateTime=LocalDateTime&lt;/typeMapping&gt;\n&lt;/typeMappings&gt;\n&lt;importMappings&gt;\n    &lt;importMapping&gt;java.time.OffsetDateTime=java.time.LocalDateTime&lt;/importMapping&gt;\n&lt;/importMappings&gt;\n</code></pre>\n<p>But this replacement will happen for all fields:</p>\n<pre><code>    @JsonProperty(&quot;date1&quot;)\n    private LocalDateTime date1;\n\n    @JsonProperty(&quot;date2&quot;)\n    private LocalDateTime date2;\n</code></pre>\n<p>Is there a way to replace OffsetDateTime with LocalDateTime for <code>date1</code> only?</p>\n<p>That's what I want to see in the generated class:</p>\n<pre><code>    @JsonProperty(&quot;date1&quot;)\n    private LocalDateTime date1;\n\n    @JsonProperty(&quot;date2&quot;)\n    private OffsetDateTime date2;\n</code></pre>\n<p>I understand that I can fix the generated class and replace OffsetDateTime with LocalDateTime, but I don't want to change the generated class every time after generation.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","automation","cucumber","rest-assured"],"comments":[{"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"score":0,"creation_date":1636525545,"post_id":69908534,"comment_id":123577262,"body_markdown":"please share your code here, we should use forward slash for path reference.","body":"please share your code here, we should use forward slash for path reference."},{"owner":{"account_id":21650037,"reputation":41,"user_id":15970819,"display_name":"Qa Automation"},"score":0,"creation_date":1636526024,"post_id":69908534,"comment_id":123577370,"body_markdown":"thanks for your response , code is shared above @ \nJayanth Bala","body":"thanks for your response , code is shared above @  Jayanth Bala"},{"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"score":0,"creation_date":1636528747,"post_id":69908534,"comment_id":123578050,"body_markdown":"location should be with forward slash =&gt; C:/Users/userName/Downloads/38250987.jpeg. please try i have another solution too","body":"location should be with forward slash =&gt; C:/Users/userName/Downloads/38250987.jpeg. please try i have another solution too"},{"owner":{"account_id":21650037,"reputation":41,"user_id":15970819,"display_name":"Qa Automation"},"score":0,"creation_date":1636533768,"post_id":69908534,"comment_id":123579622,"body_markdown":"please could u share with your another solution ? what is that ?","body":"please could u share with your another solution ? what is that ?"},{"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"score":0,"creation_date":1636628729,"post_id":69908534,"comment_id":123610511,"body_markdown":"copy your image to your main program folder and use this syntax. this will give you the current working directory path in across OS. System.getProperty(&quot;user.dir&quot;);","body":"copy your image to your main program folder and use this syntax. this will give you the current working directory path in across OS. System.getProperty(&quot;user.dir&quot;);"}],"answers":[{"tags":[],"owner":{"account_id":1041463,"reputation":3845,"user_id":1047418,"display_name":"Torben"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636527762,"creation_date":1636527762,"answer_id":69909015,"question_id":69908534,"body_markdown":"You cannot refer to local files in your tests. You need to include the picture file to your Git repository, load them as a resource in the test and then use the method in REST-assured that accepts a byte array instead of a file:\r\n\r\n\tmultiPart(String controlName, String fileName, byte[] bytes)","title":"how to specify a path for a file in repository ( java ) , so that my automation test won&#39;t fail","body":"<p>You cannot refer to local files in your tests. You need to include the picture file to your Git repository, load them as a resource in the test and then use the method in REST-assured that accepts a byte array instead of a file:</p>\n<pre><code>multiPart(String controlName, String fileName, byte[] bytes)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10263942,"reputation":5676,"user_id":7574461,"display_name":"lucas-nguyen-17"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1636528883,"creation_date":1636528883,"answer_id":69909205,"question_id":69908534,"body_markdown":"You can put your file in `src/test/resources` folder, then create a new File like this:\r\n\r\n```\r\n File file = new File(&quot;src/test/resources/38250987.jpeg&quot;);\r\n```","title":"how to specify a path for a file in repository ( java ) , so that my automation test won&#39;t fail","body":"<p>You can put your file in <code>src/test/resources</code> folder, then create a new File like this:</p>\n<pre><code> File file = new File(&quot;src/test/resources/38250987.jpeg&quot;);\n</code></pre>\n"}],"owner":{"account_id":21650037,"reputation":41,"user_id":15970819,"display_name":"Qa Automation"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":677,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69909205,"answer_count":2,"score":0,"last_activity_date":1636528883,"creation_date":1636523982,"question_id":69908534,"body_markdown":"I&#39;m testing an API with rest assured, programming language is JAVA, I&#39;m having little issue, the issue is , I have to send an image using rest assured, and it&#39;s being sent successfully locally, but when i push it to git , having problem with specifying the path, and  all my tests are run on TeamCity , and I get my cucumber report, report as follows \r\n\r\n**java.io.FileNotFoundException: C:\\Users\\nameOfUser\\Downloads\\38250987.jpeg (The system cannot find the path specified)**\r\n\r\nI hope I have delivered the issue  descriptive enough, in case if u have any questions,doubts please do ask your questions, hoping for your help and cooperation, thanks in advance!\r\n\r\n\r\nthe code as follows \r\n\r\n    public static Response SendAnImage(String prodID,Cookies cookies)  {\r\n    \r\n         File file = new File(&quot;C:\\\\Users\\\\userName\\\\Downloads\\\\38250987.jpeg&quot;);\r\n            System.out.println(&quot;is file found ----&gt;  &quot;+file.exists());\r\n    \r\n            Response response = given()\r\n                    .multiPart(&quot;file&quot;, file, &quot;image/jpeg&quot;)\r\n                    .when()\r\n                    .cookies(cookies)\r\n                    .post(&quot;/api/product/&quot;+prodID+&quot;/file/false&quot;);\r\n    \r\n    \r\n            return response;\r\n    \r\n    \r\n        }","title":"how to specify a path for a file in repository ( java ) , so that my automation test won&#39;t fail","body":"<p>I'm testing an API with rest assured, programming language is JAVA, I'm having little issue, the issue is , I have to send an image using rest assured, and it's being sent successfully locally, but when i push it to git , having problem with specifying the path, and  all my tests are run on TeamCity , and I get my cucumber report, report as follows</p>\n<p><strong>java.io.FileNotFoundException: C:\\Users\\nameOfUser\\Downloads\\38250987.jpeg (The system cannot find the path specified)</strong></p>\n<p>I hope I have delivered the issue  descriptive enough, in case if u have any questions,doubts please do ask your questions, hoping for your help and cooperation, thanks in advance!</p>\n<p>the code as follows</p>\n<pre><code>public static Response SendAnImage(String prodID,Cookies cookies)  {\n\n     File file = new File(&quot;C:\\\\Users\\\\userName\\\\Downloads\\\\38250987.jpeg&quot;);\n        System.out.println(&quot;is file found ----&gt;  &quot;+file.exists());\n\n        Response response = given()\n                .multiPart(&quot;file&quot;, file, &quot;image/jpeg&quot;)\n                .when()\n                .cookies(cookies)\n                .post(&quot;/api/product/&quot;+prodID+&quot;/file/false&quot;);\n\n\n        return response;\n\n\n    }\n</code></pre>\n"},{"tags":["java","reactive-programming","spring-webflux","project-reactor"],"answers":[{"tags":[],"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1636519179,"creation_date":1636519179,"answer_id":69908064,"question_id":69907820,"body_markdown":"The expected way to do that is to actually use the [`Flux#reduce`][1] operator:\r\n\r\n```java\r\nFlux.just(new ExpenseModel(&quot;Expense1&quot;, 121.687, 31.89),\r\n        new ExpenseModel(&quot;Expense2&quot;, 78.03, 72.5),\r\n        new ExpenseModel(&quot;Expense3&quot;, 102.014, 102.014),\r\n        new ExpenseModel(&quot;Expense4&quot;, 100.0, 45.42))\r\n    .reduce(new ExpenseReportSummary(BigDecimal.ZERO, BigDecimal.ZERO), ((expenseReportSummary, expenseModel) -&gt; {\r\n        expenseReportSummary.setTotalExpense(\r\n            expenseReportSummary.getTotalExpense().add(BigDecimal.valueOf(expenseModel.getAmount())));\r\n        expenseReportSummary.setTotalPaidExpense(\r\n            expenseReportSummary.getTotalPaidExpense().add(BigDecimal.valueOf(expenseModel.getPaidAmount())));\r\n        return expenseReportSummary;\r\n    }))\r\n    .doOnNext(System.out::println)\r\n```\r\n\r\nThe result is a `Mono` of `ExpenseReportSummary`.\r\n\r\nOutput:\r\n\r\n&gt; ExpenseReportSummary(totalExpense=401.731, totalPaidExpense=251.824)\r\n\r\n\r\n  [1]: https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#reduce-A-java.util.function.BiFunction-","title":"How to sum multiple values in a Flux?","body":"<p>The expected way to do that is to actually use the <a href=\"https://projectreactor.io/docs/core/release/api/reactor/core/publisher/Flux.html#reduce-A-java.util.function.BiFunction-\" rel=\"nofollow noreferrer\"><code>Flux#reduce</code></a> operator:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux.just(new ExpenseModel(&quot;Expense1&quot;, 121.687, 31.89),\n        new ExpenseModel(&quot;Expense2&quot;, 78.03, 72.5),\n        new ExpenseModel(&quot;Expense3&quot;, 102.014, 102.014),\n        new ExpenseModel(&quot;Expense4&quot;, 100.0, 45.42))\n    .reduce(new ExpenseReportSummary(BigDecimal.ZERO, BigDecimal.ZERO), ((expenseReportSummary, expenseModel) -&gt; {\n        expenseReportSummary.setTotalExpense(\n            expenseReportSummary.getTotalExpense().add(BigDecimal.valueOf(expenseModel.getAmount())));\n        expenseReportSummary.setTotalPaidExpense(\n            expenseReportSummary.getTotalPaidExpense().add(BigDecimal.valueOf(expenseModel.getPaidAmount())));\n        return expenseReportSummary;\n    }))\n    .doOnNext(System.out::println)\n</code></pre>\n<p>The result is a <code>Mono</code> of <code>ExpenseReportSummary</code>.</p>\n<p>Output:</p>\n<blockquote>\n<p>ExpenseReportSummary(totalExpense=401.731, totalPaidExpense=251.824)</p>\n</blockquote>\n"}],"owner":{"account_id":6151260,"reputation":475,"user_id":4795613,"accept_rate":67,"display_name":"kafkas"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":697,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69908064,"answer_count":1,"score":1,"last_activity_date":1636528876,"creation_date":1636516553,"question_id":69907820,"body_markdown":"I have expenses data. I need a model that includes the total expense amount, total paid expense amount, and expenses list. For this purpose, I wrote a function named `createExpenseSummaryReport`.\r\n\r\n```java\r\nList&lt;ExpenseModel&gt; expensesModel = Arrays.asList(\r\n        new ExpenseModel(&quot;Expense1&quot;, 121.687, 31.89),\r\n        new ExpenseModel(&quot;Expense2&quot;, 78.03, 72.5),\r\n        new ExpenseModel(&quot;Expense3&quot;, 102.014, 102.014),\r\n        new ExpenseModel(&quot;Expense4&quot;, 100.0, 45.42)\r\n    );\r\n \r\n....\r\n public static ExpenseReportSummary createExpenseSummaryReport(List&lt;ExpenseModel&gt; expensesModel) {\r\n    BigDecimal totalExpense = BigDecimal.ZERO;\r\n    BigDecimal totalPaidExpense = BigDecimal.ZERO;\r\n    for (ExpenseModel expense : expensesModel) {\r\n      totalExpense = totalExpense.add(BigDecimal.valueOf(expense.getAmount()));\r\n      totalPaidExpense =totalPaidExpense.add(BigDecimal.valueOf(expense.getPaidAmount()));\r\n    }\r\n    return new ExpenseReportSummary(expensesModel, totalExpense, totalPaidExpense);\r\n  }\r\n```\r\n\r\n\r\nIn a real project, I have a repository named `IncomeExpenseRepository`. This repository has this method that returns `Flux` income expenses.\r\n\r\n```java\r\nFlux&lt;IncomeExpense&gt; byDateContaining = incomeExpenseRepository.findAllByDateContaining(\r\n        request.getPeriod());\r\n```\r\n\r\nI need a `createExpenseSummaryReport` service in a reactive way. `createExpenseSummaryReport` includes income-expense list, total income amount, and total paid element. For this purpose, I am trying to complete the below function.\r\n\r\n```\r\n@Override\r\npublic Mono&lt;IncomeExpenseSummaryReport&gt; getIncomeExpenseReportByPeriod(\r\nGetIncomeExpenseReportRequest request) {\r\n\r\n    AtomicReference&lt;BigDecimal&gt; totalExpenseAmount = new AtomicReference&lt;&gt;(BigDecimal.ZERO);\r\n    AtomicReference&lt;BigDecimal&gt; totalPaidExpenseAmount = new AtomicReference&lt;&gt;(BigDecimal.ZERO);\r\n    \r\n    incomeExpenseRepository.findAllByDateContaining(\r\n            request.getPeriod())\r\n        .doOnEach(d -&gt; {\r\n          IncomeExpense incomeExpense = d.get();\r\n          totalExpenseAmount.getAndSet(BigDecimal.valueOf(incomeExpense.getAmount()));\r\n          if (&quot;paid&quot;.equals(incomeExpense.getPaymentStatus())) {\r\n            totalPaidExpenseAmount.getAndSet(BigDecimal.valueOf(incomeExpense.getAmount()));\r\n          }\r\n        });\r\n\r\n\r\n    return Flux.empty();\r\n\r\n  }\r\n\r\n```\r\n\r\n\r\n\r\n\r\n\r\n","title":"How to sum multiple values in a Flux?","body":"<p>I have expenses data. I need a model that includes the total expense amount, total paid expense amount, and expenses list. For this purpose, I wrote a function named <code>createExpenseSummaryReport</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;ExpenseModel&gt; expensesModel = Arrays.asList(\n        new ExpenseModel(&quot;Expense1&quot;, 121.687, 31.89),\n        new ExpenseModel(&quot;Expense2&quot;, 78.03, 72.5),\n        new ExpenseModel(&quot;Expense3&quot;, 102.014, 102.014),\n        new ExpenseModel(&quot;Expense4&quot;, 100.0, 45.42)\n    );\n \n....\n public static ExpenseReportSummary createExpenseSummaryReport(List&lt;ExpenseModel&gt; expensesModel) {\n    BigDecimal totalExpense = BigDecimal.ZERO;\n    BigDecimal totalPaidExpense = BigDecimal.ZERO;\n    for (ExpenseModel expense : expensesModel) {\n      totalExpense = totalExpense.add(BigDecimal.valueOf(expense.getAmount()));\n      totalPaidExpense =totalPaidExpense.add(BigDecimal.valueOf(expense.getPaidAmount()));\n    }\n    return new ExpenseReportSummary(expensesModel, totalExpense, totalPaidExpense);\n  }\n</code></pre>\n<p>In a real project, I have a repository named <code>IncomeExpenseRepository</code>. This repository has this method that returns <code>Flux</code> income expenses.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Flux&lt;IncomeExpense&gt; byDateContaining = incomeExpenseRepository.findAllByDateContaining(\n        request.getPeriod());\n</code></pre>\n<p>I need a <code>createExpenseSummaryReport</code> service in a reactive way. <code>createExpenseSummaryReport</code> includes income-expense list, total income amount, and total paid element. For this purpose, I am trying to complete the below function.</p>\n<pre><code>@Override\npublic Mono&lt;IncomeExpenseSummaryReport&gt; getIncomeExpenseReportByPeriod(\nGetIncomeExpenseReportRequest request) {\n\n    AtomicReference&lt;BigDecimal&gt; totalExpenseAmount = new AtomicReference&lt;&gt;(BigDecimal.ZERO);\n    AtomicReference&lt;BigDecimal&gt; totalPaidExpenseAmount = new AtomicReference&lt;&gt;(BigDecimal.ZERO);\n    \n    incomeExpenseRepository.findAllByDateContaining(\n            request.getPeriod())\n        .doOnEach(d -&gt; {\n          IncomeExpense incomeExpense = d.get();\n          totalExpenseAmount.getAndSet(BigDecimal.valueOf(incomeExpense.getAmount()));\n          if (&quot;paid&quot;.equals(incomeExpense.getPaymentStatus())) {\n            totalPaidExpenseAmount.getAndSet(BigDecimal.valueOf(incomeExpense.getAmount()));\n          }\n        });\n\n\n    return Flux.empty();\n\n  }\n\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8127,"page":1865,"page_size":100}
