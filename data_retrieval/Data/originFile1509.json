{"items":[{"tags":["java","recursion","java-8","java-stream"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1647524573,"post_id":71513231,"comment_id":126396262,"body_markdown":"Your formula says `C - (A[i] * B[i])`, but your code is doing `C - (A[i] - B[i])`. Also, your text says it&#39;s `dataPeriod` that&#39;s used, but the code pulls `getValue()`. Which is it?","body":"Your formula says <code>C - (A[i] * B[i])</code>, but your code is doing <code>C - (A[i] - B[i])</code>. Also, your text says it&#39;s <code>dataPeriod</code> that&#39;s used, but the code pulls <code>getValue()</code>. Which is it?"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":0,"creation_date":1647524731,"post_id":71513231,"comment_id":126396332,"body_markdown":"Thanks. And the second part is about the field?","body":"Thanks. And the second part is about the field?"},{"owner":{"account_id":24137475,"reputation":59,"user_id":18104162,"display_name":"Rishi Kumar"},"score":1,"creation_date":1647524832,"post_id":71513231,"comment_id":126396374,"body_markdown":"@ernest_k I want to apply formula for same dataPeriod for different key in the value.","body":"@ernest_k I want to apply formula for same dataPeriod for different key in the value."},{"owner":{"account_id":5126886,"reputation":20904,"user_id":4108590,"accept_rate":57,"display_name":"Ravindra Ranwala"},"score":0,"creation_date":1647525040,"post_id":71513231,"comment_id":126396471,"body_markdown":"You don&#39;t need streams here, just keep it.","body":"You don&#39;t need streams here, just keep it."},{"owner":{"account_id":24137475,"reputation":59,"user_id":18104162,"display_name":"Rishi Kumar"},"score":0,"creation_date":1647525181,"post_id":71513231,"comment_id":126396541,"body_markdown":"@RavindraRanwala Thanks your comment but I know this possible in using java 8 and stream also.","body":"@RavindraRanwala Thanks your comment but I know this possible in using java 8 and stream also."}],"answers":[{"tags":[],"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647528695,"creation_date":1647527402,"answer_id":71514081,"question_id":71513231,"body_markdown":"You can use an `IntStream` to iterate the indexes of the `list` and then reduce with `d1, d2) -&gt; d1 - d2` using `0` as identity:\r\n\r\n    double c = IntStream.iterate(0, i -&gt; i + 2)\r\n            .limit(list.size() / 2)\r\n            .mapToDouble(i -&gt; list.get(i).getValue() - list.get(i + 1).getValue())\r\n            .reduce(0d, (d1, d2) -&gt; d1 - d2);\r\n\r\n    DTO dto = new DTO(&quot;C&quot;, 0, 2020, c);\r\n\r\nAlternatively, you can `stream` the `list` and collect using `Collectors.groupingBy` with `DTO::getDataPeriod` classifier, and mapping values using `DTO::getValue`. \r\n\r\nThen you can `stream` the values of the resulting `Map&lt;Integer, Double&gt;`, convert the `stream` to `DoubleStream`, and reduce using `sum()`.\r\n\r\n    double c = list.stream().collect(Collectors.groupingBy(DTO::getDataPeriod, \r\n            Collectors.mapping(DTO::getValue, \r\n                    Collectors.reducing(0d, (v1, v2) -&gt; v2 - v1))))\r\n            .values().stream()\r\n            .mapToDouble(Double::doubleValue)\r\n            .sum();\r\n\r\n    DTO dto = new DTO(&quot;C&quot;, 0, 2020, c);","title":"How to loop in the list and apply an Arithmetic operation of different keys elements and calculate the final value using Java 8 and Recursion","body":"<p>You can use an <code>IntStream</code> to iterate the indexes of the <code>list</code> and then reduce with <code>d1, d2) -&gt; d1 - d2</code> using <code>0</code> as identity:</p>\n<pre><code>double c = IntStream.iterate(0, i -&gt; i + 2)\n        .limit(list.size() / 2)\n        .mapToDouble(i -&gt; list.get(i).getValue() - list.get(i + 1).getValue())\n        .reduce(0d, (d1, d2) -&gt; d1 - d2);\n\nDTO dto = new DTO(&quot;C&quot;, 0, 2020, c);\n</code></pre>\n<p>Alternatively, you can <code>stream</code> the <code>list</code> and collect using <code>Collectors.groupingBy</code> with <code>DTO::getDataPeriod</code> classifier, and mapping values using <code>DTO::getValue</code>.</p>\n<p>Then you can <code>stream</code> the values of the resulting <code>Map&lt;Integer, Double&gt;</code>, convert the <code>stream</code> to <code>DoubleStream</code>, and reduce using <code>sum()</code>.</p>\n<pre><code>double c = list.stream().collect(Collectors.groupingBy(DTO::getDataPeriod, \n        Collectors.mapping(DTO::getValue, \n                Collectors.reducing(0d, (v1, v2) -&gt; v2 - v1))))\n        .values().stream()\n        .mapToDouble(Double::doubleValue)\n        .sum();\n\nDTO dto = new DTO(&quot;C&quot;, 0, 2020, c);\n</code></pre>\n"}],"owner":{"account_id":24137475,"reputation":59,"user_id":18104162,"display_name":"Rishi Kumar"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71514081,"answer_count":1,"score":1,"last_activity_date":1647529676,"creation_date":1647524093,"question_id":71513231,"body_markdown":"I have **class** `DTO` which have 4 fields. \r\n\r\nAnd I have a list of `DTO` objects. \r\n\r\nI want to do an **arithmetic operation** with **values** of the elements with the *same* **dataPeriod**. As a final result I need to generate computed result and create new `DTO`, see the below example. How to apply formula using **Java 8** and **Stream** \r\n\r\n    @lombok.Data\r\n    @AllArgsConstructor\r\n    static class DTO {\r\n        String key;\r\n        int dataPeriod;\r\n        int year;\r\n        Double value;\r\n    }\r\n\r\nBelow list i have orderBy dataPeriod that is why is look like this so that my formula works correctly.\r\n\r\n    list.add(new DTO(&quot;A&quot;, 1, 2020, 5.0));\r\n    list.add(new DTO(&quot;B&quot;, 1, 2020, -9.0));\r\n\r\n    list.add(new DTO(&quot;A&quot;, 2, 2020, 8.0));\r\n    list.add(new DTO(&quot;B&quot;, 2, 2020, 3.5));\r\n\r\n    list.add(new DTO(&quot;A&quot;, 3, 2020, 1.5));\r\n    list.add(new DTO(&quot;B&quot;, 3, 2020, 7.0));\r\n\r\n    list.add(new DTO(&quot;A&quot;, 4, 2020, -6.0));\r\n    list.add(new DTO(&quot;B&quot;, 4, 2020, 5.0));\r\n\r\n    list.add(new DTO(&quot;A&quot;, 5, 2020, 1.5));\r\n    list.add(new DTO(&quot;B&quot;, 5, 2020, -7.0));\r\n\r\n\r\nI want to apply the below **formula** for by loop in all the **dataPeriod** like below we have 5:\r\n\r\nI have done using normal java code but how to do the same using **java 8** and **Stream** may be here we can use **Recursive function** but how? Any one can please help me for this. \r\nThanks in advance!!\r\n\r\n**NOTE:**- Into the formula A always come first in the list otherwise wrong result will be given.  \r\n\r\n&gt; ****C** = **C** - (**A[i]** - **B[i]**)**    [where **i** is dataPeriod and initial value of **C** is **ZERO**]\r\n\r\n     public static void main(String[] args) {\r\n        Double C = 0.0;\r\n           for (int i = 0; i &lt; list.size() / 2; i++) {\r\n               C = C - (list.get(i * 2).getValue() - list.get(i * 2 + 1).getValue());\r\n           }\r\n\r\n        System.out.println(new DTO(&quot;C&quot;, 0, 2020, C));\r\n     }\r\n\r\n***Expected OP: ***\r\n\r\n    Test.DTO(key=C, dataPeriod=0, year=2020, value=-10.5)","title":"How to loop in the list and apply an Arithmetic operation of different keys elements and calculate the final value using Java 8 and Recursion","body":"<p>I have <strong>class</strong> <code>DTO</code> which have 4 fields.</p>\n<p>And I have a list of <code>DTO</code> objects.</p>\n<p>I want to do an <strong>arithmetic operation</strong> with <strong>values</strong> of the elements with the <em>same</em> <strong>dataPeriod</strong>. As a final result I need to generate computed result and create new <code>DTO</code>, see the below example. How to apply formula using <strong>Java 8</strong> and <strong>Stream</strong></p>\n<pre><code>@lombok.Data\n@AllArgsConstructor\nstatic class DTO {\n    String key;\n    int dataPeriod;\n    int year;\n    Double value;\n}\n</code></pre>\n<p>Below list i have orderBy dataPeriod that is why is look like this so that my formula works correctly.</p>\n<pre><code>list.add(new DTO(&quot;A&quot;, 1, 2020, 5.0));\nlist.add(new DTO(&quot;B&quot;, 1, 2020, -9.0));\n\nlist.add(new DTO(&quot;A&quot;, 2, 2020, 8.0));\nlist.add(new DTO(&quot;B&quot;, 2, 2020, 3.5));\n\nlist.add(new DTO(&quot;A&quot;, 3, 2020, 1.5));\nlist.add(new DTO(&quot;B&quot;, 3, 2020, 7.0));\n\nlist.add(new DTO(&quot;A&quot;, 4, 2020, -6.0));\nlist.add(new DTO(&quot;B&quot;, 4, 2020, 5.0));\n\nlist.add(new DTO(&quot;A&quot;, 5, 2020, 1.5));\nlist.add(new DTO(&quot;B&quot;, 5, 2020, -7.0));\n</code></pre>\n<p>I want to apply the below <strong>formula</strong> for by loop in all the <strong>dataPeriod</strong> like below we have 5:</p>\n<p>I have done using normal java code but how to do the same using <strong>java 8</strong> and <strong>Stream</strong> may be here we can use <strong>Recursive function</strong> but how? Any one can please help me for this.\nThanks in advance!!</p>\n<p><strong>NOTE:</strong>- Into the formula A always come first in the list otherwise wrong result will be given.</p>\n<blockquote>\n<p><strong><strong>C</strong> = <strong>C</strong> - (<strong>A[i]</strong> - <strong>B[i]</strong>)</strong>    [where <strong>i</strong> is dataPeriod and initial value of <strong>C</strong> is <strong>ZERO</strong>]</p>\n</blockquote>\n<pre><code> public static void main(String[] args) {\n    Double C = 0.0;\n       for (int i = 0; i &lt; list.size() / 2; i++) {\n           C = C - (list.get(i * 2).getValue() - list.get(i * 2 + 1).getValue());\n       }\n\n    System.out.println(new DTO(&quot;C&quot;, 0, 2020, C));\n }\n</code></pre>\n<p>***Expected OP: ***</p>\n<pre><code>Test.DTO(key=C, dataPeriod=0, year=2020, value=-10.5)\n</code></pre>\n"},{"tags":["java","postgresql","javafx","ant","classpath"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1647535180,"post_id":71514630,"comment_id":126400977,"body_markdown":"JavaFX libraries must be on the module path, not the class path. See the getting started instructions at openjfx.io. Also see [eden coding](https://edencoding.com/runtime-components-error/).","body":"JavaFX libraries must be on the module path, not the class path. See the getting started instructions at openjfx.io. Also see <a href=\"https://edencoding.com/runtime-components-error/\" rel=\"nofollow noreferrer\">eden coding</a>."},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1647556750,"post_id":71514630,"comment_id":126407853,"body_markdown":"You may also want to check out the &quot;Packaging&quot; section of the [javafx tag info](https://stackoverflow.com/tags/javafx/info).","body":"You may also want to check out the &quot;Packaging&quot; section of the <a href=\"https://stackoverflow.com/tags/javafx/info\">javafx tag info</a>."},{"owner":{"account_id":2787690,"reputation":31,"user_id":2398654,"display_name":"user2398654"},"score":0,"creation_date":1647670491,"post_id":71514630,"comment_id":126433896,"body_markdown":"Thank you for the suggestions. I tried the advice from endencoding.com by creating a batch file but still got the error:  Mar 19, 2022 9:01:59 AM com.sun.javafx.application.PlatformImpl startup\nWARNING: Unsupported JavaFX configuration: classes were loaded from &#39;unnamed module @2554c898&#39;\nGraphics Device initialization failed for :  d3d, sw\nError initializing QuantumRenderer: no suitable pipeline found\njava.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found .......","body":"Thank you for the suggestions. I tried the advice from endencoding.com by creating a batch file but still got the error:  Mar 19, 2022 9:01:59 AM com.sun.javafx.application.PlatformImpl startup WARNING: Unsupported JavaFX configuration: classes were loaded from &#39;unnamed module @2554c898&#39; Graphics Device initialization failed for :  d3d, sw Error initializing QuantumRenderer: no suitable pipeline found java.lang.RuntimeException: java.lang.RuntimeException: Error initializing QuantumRenderer: no suitable pipeline found ......."},{"owner":{"account_id":2787690,"reputation":31,"user_id":2398654,"display_name":"user2398654"},"score":0,"creation_date":1647670536,"post_id":71514630,"comment_id":126433900,"body_markdown":"Contents of my batch file : java.exe -cp funsofthmis.jar;C:\\Users\\cwawe\\Documents\\funsofthmis\\lib\\postgresql-42.2.5.jar com.afrisoftech.sys.SplashScreenDialog --module-path C:\\Users\\cwawe\\Documents\\funsofthmis\\lib --add-modules javafx.controls,javafx.fxml,javafx.media, javafx.graphics, javafx.base, javafx.web, jvafx-swt","body":"Contents of my batch file : java.exe -cp funsofthmis.jar;C:\\Users\\cwawe\\Documents\\funsofthmis\\lib\\pos&zwnj;&#8203;tgresql-42.2.5.jar com.afrisoftech.sys.SplashScreenDialog --module-path C:\\Users\\cwawe\\Documents\\funsofthmis\\lib --add-modules javafx.controls,javafx.fxml,javafx.media, javafx.graphics, javafx.base, javafx.web, jvafx-swt"},{"owner":{"account_id":2787690,"reputation":31,"user_id":2398654,"display_name":"user2398654"},"score":0,"creation_date":1647670601,"post_id":71514630,"comment_id":126433908,"body_markdown":"The application launches successfully but the form with the JavaFX feature does not load","body":"The application launches successfully but the form with the JavaFX feature does not load"}],"owner":{"account_id":2787690,"reputation":31,"user_id":2398654,"display_name":"user2398654"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":178,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647529557,"creation_date":1647529557,"question_id":71514630,"body_markdown":"I have an application that is compiled using Ant on Netbeans 12. The application used to run pretty well with &#39;java -jar *&quot;applicationjar&quot;*&#39; command using JRE8 but it does not work using JDK 11 and higher versions of JDK.\r\n\r\nAll dependent lib files are in my lib folder and I can see references for each lib files in the manifest file but for some reason postgresql and javafx libraries cannot be found at run-time.\r\n\r\nI have to include these specific lib files in my classpath and MS Windows cannot take all of them so it is challenging to use it as a standard desktop application.\r\n\r\nYour assistance will be much appreciated\r\n","title":"Lib files are listed in MANIFEST.MF and present in lib folder but some of the libs (JavaFX and PostgreSQL) won&#39;t load","body":"<p>I have an application that is compiled using Ant on Netbeans 12. The application used to run pretty well with 'java -jar <em>&quot;applicationjar&quot;</em>' command using JRE8 but it does not work using JDK 11 and higher versions of JDK.</p>\n<p>All dependent lib files are in my lib folder and I can see references for each lib files in the manifest file but for some reason postgresql and javafx libraries cannot be found at run-time.</p>\n<p>I have to include these specific lib files in my classpath and MS Windows cannot take all of them so it is challenging to use it as a standard desktop application.</p>\n<p>Your assistance will be much appreciated</p>\n"},{"tags":["java","spring","spring-boot","jhipster"],"comments":[{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":0,"creation_date":1647352067,"post_id":71474548,"comment_id":126345590,"body_markdown":"Which version of nodejs, please run `node --version`? Also you pasted only error message, not the stack trace to show  which part of a the generator is failing.","body":"Which version of nodejs, please run <code>node --version</code>? Also you pasted only error message, not the stack trace to show  which part of a the generator is failing."},{"owner":{"account_id":21369436,"reputation":11,"user_id":15737194,"display_name":"hassnain ali"},"score":0,"creation_date":1647439387,"post_id":71474548,"comment_id":126371461,"body_markdown":"&gt;node --version\nv14.15.4","body":"&gt;node --version v14.15.4"},{"owner":{"account_id":21369436,"reputation":11,"user_id":15737194,"display_name":"hassnain ali"},"score":0,"creation_date":1647439432,"post_id":71474548,"comment_id":126371481,"body_markdown":"This is the complete error message which I received while generating. @Ga&#235;lMarziou","body":"This is the complete error message which I received while generating. @Ga&#235;lMarziou"},{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":0,"creation_date":1647447732,"post_id":71474548,"comment_id":126375279,"body_markdown":"Well you should try without generator-jhipster-gql module, maybe it has not been tested with latest JHipster. From its package.json, I can read that it was done with JHipster 7.0.1 https://github.com/glutengo/generator-jhipster-gql/blob/master/package.json#L32","body":"Well you should try without generator-jhipster-gql module, maybe it has not been tested with latest JHipster. From its package.json, I can read that it was done with JHipster 7.0.1 <a href=\"https://github.com/glutengo/generator-jhipster-gql/blob/master/package.json#L32\" rel=\"nofollow noreferrer\">github.com/glutengo/generator-jhipster-gql/blob/master/&hellip;</a>"},{"owner":{"account_id":21369436,"reputation":11,"user_id":15737194,"display_name":"hassnain ali"},"score":1,"creation_date":1647517717,"post_id":71474548,"comment_id":126393660,"body_markdown":"Yes thank you it is working file without graphql","body":"Yes thank you it is working file without graphql"},{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":0,"creation_date":1647529299,"post_id":71474548,"comment_id":126398480,"body_markdown":"Great, I added an answer so you can accept it","body":"Great, I added an answer so you can accept it"}],"answers":[{"tags":[],"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647529282,"creation_date":1647528815,"answer_id":71514429,"question_id":71474548,"body_markdown":"You should try without generator-jhipster-gql module, maybe it has not been tested with latest JHipster 7.7.0. \r\n\r\nFrom its package.json, I can read that it was done with JHipster 7.0.1 \r\n\r\nhttps://github.com/glutengo/generator-jhipster-gql/blob/5eee0aa909a1975fd51d7f006992f8f5cea23b88/package.json#L32\r\n\r\nIt&#39;s a common problem with JHipster modules, they are developed independently from JHipster core so they can lag behind.\r\n\r\nYou should open an issue in the gql module&#39;s project on github so that they know they have a compatibility issue.","title":"Jhipster code generator error jhipster --skip-client","body":"<p>You should try without generator-jhipster-gql module, maybe it has not been tested with latest JHipster 7.7.0.</p>\n<p>From its package.json, I can read that it was done with JHipster 7.0.1</p>\n<p><a href=\"https://github.com/glutengo/generator-jhipster-gql/blob/5eee0aa909a1975fd51d7f006992f8f5cea23b88/package.json#L32\" rel=\"nofollow noreferrer\">https://github.com/glutengo/generator-jhipster-gql/blob/5eee0aa909a1975fd51d7f006992f8f5cea23b88/package.json#L32</a></p>\n<p>It's a common problem with JHipster modules, they are developed independently from JHipster core so they can lag behind.</p>\n<p>You should open an issue in the gql module's project on github so that they know they have a compatibility issue.</p>\n"}],"owner":{"account_id":21369436,"reputation":11,"user_id":15737194,"display_name":"hassnain ali"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":520,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647529282,"creation_date":1647294058,"question_id":71474548,"body_markdown":"I&#39;m using this command to generate the jhipster code for server side only. but I am seeing an error: `TypeError: Cannot read property &#39;push&#39; of undefined`. \r\n\r\nHere is the output\r\n```\r\n    Command:       jhipster --skip-client\r\n\r\nINFO! Using bundled JHipster\r\n\r\n   https://www.jhipster.tech\r\nWelcome to JHipster v7.7.0\r\n\r\nApplication files will be generated in folder: D:\\workspaces\\personal\\hipster\\jhipster2\r\n _______________________________________________________________________________________________________________\r\n\r\n  Documentation for creating an application is at https://www.jhipster.tech/creating-an-app/\r\n  If you find JHipster useful, consider sponsoring the project at https://opencollective.com/generator-jhipster\r\n _______________________________________________________________________________________________________________\r\n\r\n? Which *type* of application would you like to create\r\n\r\n? Monolithic application (recommended for simple projects)\r\n\r\n? What is the base name of your application? server\r\n\r\n? Do you want to make it reactive with Spring WebFlux? Yes\r\n\r\n? What is your default Java package name? com.mono.server\r\n\r\n? Which *type* of authentication would you like to use? JWT authentication (stateless, with a \r\ntoken)\r\n\r\n? Which *type* of database would you like to use? SQL (H2, PostgreSQL, MySQL, MariaDB, MSSQL)\r\n\r\n? Which *production* database would you like to use? PostgreSQL\r\n\r\n? Which *development* database would you like to use? H2 with in-memory persistence\r\n\r\n? Would you like to use Maven or Gradle for building the backend? Maven\r\n\r\n? Do you want to use the JHipster Registry to configure, monitor and scale your application? No\r\n\r\n? Which other technologies would you like to use? Elasticsearch as search engine, Apache Kafka as \r\nasynchronous messages\r\nbroker, API first development using OpenAPI-generator\r\n\r\n? Would you like to enable internationalization support? Yes\r\n\r\n? Please choose the native language of the application English\r\n\r\n? Please choose additional languages to install Arabic (Libya)\r\n\r\n? Besides JUnit and Jest, which testing frameworks would you like to use? Cypress, Gatling, Cucumber\r\n\r\n? Would you like to install other generators from the JHipster **Marketplace? Yes**\r\n\r\n? **Which other modules would you like to use? (generator-jhipster-gql-0.1.2) GraphQL integration for JHipster**\r\n\r\nUnhandled promise rejection at:\r\n**TypeError: Cannot read property &#39;push&#39; of undefined**\r\n```","title":"Jhipster code generator error jhipster --skip-client","body":"<p>I'm using this command to generate the jhipster code for server side only. but I am seeing an error: <code>TypeError: Cannot read property 'push' of undefined</code>.</p>\n<p>Here is the output</p>\n<pre><code>    Command:       jhipster --skip-client\n\nINFO! Using bundled JHipster\n\n   https://www.jhipster.tech\nWelcome to JHipster v7.7.0\n\nApplication files will be generated in folder: D:\\workspaces\\personal\\hipster\\jhipster2\n _______________________________________________________________________________________________________________\n\n  Documentation for creating an application is at https://www.jhipster.tech/creating-an-app/\n  If you find JHipster useful, consider sponsoring the project at https://opencollective.com/generator-jhipster\n _______________________________________________________________________________________________________________\n\n? Which *type* of application would you like to create\n\n? Monolithic application (recommended for simple projects)\n\n? What is the base name of your application? server\n\n? Do you want to make it reactive with Spring WebFlux? Yes\n\n? What is your default Java package name? com.mono.server\n\n? Which *type* of authentication would you like to use? JWT authentication (stateless, with a \ntoken)\n\n? Which *type* of database would you like to use? SQL (H2, PostgreSQL, MySQL, MariaDB, MSSQL)\n\n? Which *production* database would you like to use? PostgreSQL\n\n? Which *development* database would you like to use? H2 with in-memory persistence\n\n? Would you like to use Maven or Gradle for building the backend? Maven\n\n? Do you want to use the JHipster Registry to configure, monitor and scale your application? No\n\n? Which other technologies would you like to use? Elasticsearch as search engine, Apache Kafka as \nasynchronous messages\nbroker, API first development using OpenAPI-generator\n\n? Would you like to enable internationalization support? Yes\n\n? Please choose the native language of the application English\n\n? Please choose additional languages to install Arabic (Libya)\n\n? Besides JUnit and Jest, which testing frameworks would you like to use? Cypress, Gatling, Cucumber\n\n? Would you like to install other generators from the JHipster **Marketplace? Yes**\n\n? **Which other modules would you like to use? (generator-jhipster-gql-0.1.2) GraphQL integration for JHipster**\n\nUnhandled promise rejection at:\n**TypeError: Cannot read property 'push' of undefined**\n</code></pre>\n"},{"tags":["java","amazon-redshift","apache-flink","flink-streaming"],"answers":[{"tags":[],"owner":{"account_id":2274094,"reputation":40354,"user_id":2000823,"display_name":"David Anderson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647529261,"creation_date":1647529261,"answer_id":71514560,"question_id":71511492,"body_markdown":"One straightforward solution would be to use a [lookup join](https://nightlies.apache.org/flink/flink-docs-stable/docs/dev/table/sql/queries/joins/#lookup-join), perhaps with [caching](https://nightlies.apache.org/flink/flink-docs-stable/docs/connectors/table/jdbc/#lookup-cache) enabled.\r\n\r\nOther possible solutions include [kafka connect](https://docs.confluent.io/kafka-connect-jdbc/current/source-connector/index.html), or using something like Debezium to mirror the database table into Flink. Here&#39;s an example: https://github.com/ververica/flink-sql-CDC.","title":"Creating a Flink DataStream from database query results","body":"<p>One straightforward solution would be to use a <a href=\"https://nightlies.apache.org/flink/flink-docs-stable/docs/dev/table/sql/queries/joins/#lookup-join\" rel=\"nofollow noreferrer\">lookup join</a>, perhaps with <a href=\"https://nightlies.apache.org/flink/flink-docs-stable/docs/connectors/table/jdbc/#lookup-cache\" rel=\"nofollow noreferrer\">caching</a> enabled.</p>\n<p>Other possible solutions include <a href=\"https://docs.confluent.io/kafka-connect-jdbc/current/source-connector/index.html\" rel=\"nofollow noreferrer\">kafka connect</a>, or using something like Debezium to mirror the database table into Flink. Here's an example: <a href=\"https://github.com/ververica/flink-sql-CDC\" rel=\"nofollow noreferrer\">https://github.com/ververica/flink-sql-CDC</a>.</p>\n"}],"owner":{"account_id":9557295,"reputation":664,"user_id":7099374,"display_name":"Amuoeba"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":610,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647529261,"creation_date":1647516292,"question_id":71511492,"body_markdown":"In my problem I need to query a database and join the query results with a Kafka data stream in Flink. Currently this is done by storing the query results in a file and then use Flink&#39;s `readFile` functionality to create a `DataStream` of query results. What could be a better approach to bypass the intermediary step of writing to file and create a `DataStream` directly from query results?\r\n\r\nMy current understanding is that I would need to write a custom `SourceFunction` as suggested [here][1]. Is this the right and only way or are there any alternatives?\r\n\r\nAre there any good resources for writing the custom `SoruceFunctions` or should I just look at current implementations for reference and customise them fro my needs?\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/45409101/write-data-from-custom-source-to-flink-in-continuous-way","title":"Creating a Flink DataStream from database query results","body":"<p>In my problem I need to query a database and join the query results with a Kafka data stream in Flink. Currently this is done by storing the query results in a file and then use Flink's <code>readFile</code> functionality to create a <code>DataStream</code> of query results. What could be a better approach to bypass the intermediary step of writing to file and create a <code>DataStream</code> directly from query results?</p>\n<p>My current understanding is that I would need to write a custom <code>SourceFunction</code> as suggested <a href=\"https://stackoverflow.com/questions/45409101/write-data-from-custom-source-to-flink-in-continuous-way\">here</a>. Is this the right and only way or are there any alternatives?</p>\n<p>Are there any good resources for writing the custom <code>SoruceFunctions</code> or should I just look at current implementations for reference and customise them fro my needs?</p>\n"},{"tags":["java","android","duplicates","android-cursor"],"comments":[{"owner":{"account_id":1241681,"reputation":5254,"user_id":1204134,"accept_rate":92,"display_name":"Alex Gittemeier"},"score":0,"creation_date":1361754283,"post_id":15058664,"comment_id":21172335,"body_markdown":"can you not use SQL joins?","body":"can you not use SQL joins?"},{"owner":{"account_id":457632,"reputation":1694,"user_id":857071,"accept_rate":100,"display_name":"Qasim"},"score":0,"creation_date":1361754657,"post_id":15058664,"comment_id":21172404,"body_markdown":"@AlexGittemeier I have the 3 cursors to provide ideal search matching, the first query tries to find exact searches, the second related searches, and the third searches information within the row for a match. If I join them the order is unfortunately not preserved","body":"@AlexGittemeier I have the 3 cursors to provide ideal search matching, the first query tries to find exact searches, the second related searches, and the third searches information within the row for a match. If I join them the order is unfortunately not preserved"}],"answers":[{"tags":[],"owner":{"account_id":1853477,"reputation":4132,"user_id":1679516,"display_name":"Darrell Teague"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1361755233,"creation_date":1361755233,"answer_id":15058774,"question_id":15058664,"body_markdown":"A Cursor is an object tied to the ResultSet, not the data therein.\r\nIf the three result-sets have identical keys, their primary-keys will need to be fetched to de-duplicate the rows - the Cursor implementation does not provide this function. There are several options, two named here:\r\n\r\n 1. As eluded to in an earlier comment - do this server-side and have the joined result returned. Ex: Send the base query from the client, have the server start three queries and merge the result - though databases excel in set-operations and there is almost never a performance gain in doing this programatically.\r\n 2. Launch one task that in turn runs the three queries and does the work to fetch the rows, returning just the distinct set of keys.\r\n","title":"How to remove duplicate rows in a Cursor (Android SDK)?","body":"<p>A Cursor is an object tied to the ResultSet, not the data therein.\nIf the three result-sets have identical keys, their primary-keys will need to be fetched to de-duplicate the rows - the Cursor implementation does not provide this function. There are several options, two named here:</p>\n\n<ol>\n<li>As eluded to in an earlier comment - do this server-side and have the joined result returned. Ex: Send the base query from the client, have the server start three queries and merge the result - though databases excel in set-operations and there is almost never a performance gain in doing this programatically.</li>\n<li>Launch one task that in turn runs the three queries and does the work to fetch the rows, returning just the distinct set of keys.</li>\n</ol>\n"}],"owner":{"account_id":457632,"reputation":1694,"user_id":857071,"accept_rate":100,"display_name":"Qasim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1589,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":15058774,"answer_count":1,"score":2,"last_activity_date":1647529196,"creation_date":1361754222,"question_id":15058664,"body_markdown":"Currently, I have made 3 queries (resulting in 3 cursors), and then I merged the cursors using the `MergeCursor` class. However, this has caused duplicates in the cursor, and I can&#39;t seem to find a way to remove them? What would be the ideal method to fix this problem?","title":"How to remove duplicate rows in a Cursor (Android SDK)?","body":"<p>Currently, I have made 3 queries (resulting in 3 cursors), and then I merged the cursors using the <code>MergeCursor</code> class. However, this has caused duplicates in the cursor, and I can't seem to find a way to remove them? What would be the ideal method to fix this problem?</p>\n"},{"tags":["java","unit-testing","dependency-injection","jmockit"],"answers":[{"tags":[],"owner":{"account_id":2653167,"reputation":264,"user_id":2294371,"accept_rate":50,"display_name":"Ignacio Martin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1384245373,"creation_date":1384245373,"answer_id":19924406,"question_id":19918443,"body_markdown":"My understanding is that if you use @Injectable you just get an empty mock and then you can no longer call the original method.\r\n\r\nThe workaround that I would use is to do the injection &quot;manually&quot; like this:\r\n\r\n\r\n    public class TestClass {\r\n      public static class DoSomething {\r\n        private Call callee;\r\n    \r\n        public void execute() {\r\n          callee.call();\r\n        }\r\n      }\r\n    \r\n      public static class Call {\r\n        public void call() {\r\n          System.out.println(&quot;real&quot;);\r\n        }\r\n      }\r\n    \r\n      @Tested DoSomething doSomething;\r\n      //@Injectable Call call;\r\n    \r\n      // nothing happens\r\n      @Test\r\n      public void testRealCall() {\r\n        Deencapsulation.setField(doSomething, &quot;callee&quot;, new Call());\r\n        doSomething.execute();\r\n      }\r\n    \r\n      // invocation doesn&#39;t help either\r\n      @Test\r\n      public void testRealCallSecondTry() {\r\n        new MockUp&lt;Call&gt;() {\r\n          @Mock\r\n          @SuppressWarnings(&quot;unused&quot;)\r\n          public void call(Invocation inv) {\r\n            inv.proceed();\r\n          }\r\n        };\r\n        Deencapsulation.setField(doSomething, &quot;callee&quot;, new Call());\r\n        doSomething.execute();\r\n      }\r\n    \r\n      // this works, but requires redundant methods\r\n      @Test\r\n      public void testRealCallThirdTry() {\r\n        new MockUp&lt;Call&gt;() {\r\n          @Mock\r\n          @SuppressWarnings(&quot;unused&quot;)\r\n          public void call() {\r\n            System.out.println(&quot;real&quot;);\r\n          }\r\n        };\r\n        Deencapsulation.setField(doSomething, &quot;callee&quot;, new Call());\r\n        doSomething.execute();\r\n      }\r\n    \r\n      @Test\r\n      public void testFakeCall() {\r\n        new MockUp&lt;Call&gt;() {\r\n          @Mock\r\n          @SuppressWarnings(&quot;unused&quot;)\r\n          public void call() {\r\n            System.out.println(&quot;fake&quot;);\r\n          }\r\n        };\r\n        Deencapsulation.setField(doSomething, &quot;callee&quot;, new Call());\r\n        doSomething.execute();\r\n      }\r\n    }","title":"How to call real methods in class instances annotated with @Injectable in JMockit?","body":"<p>My understanding is that if you use @Injectable you just get an empty mock and then you can no longer call the original method.</p>\n\n<p>The workaround that I would use is to do the injection \"manually\" like this:</p>\n\n<pre><code>public class TestClass {\n  public static class DoSomething {\n    private Call callee;\n\n    public void execute() {\n      callee.call();\n    }\n  }\n\n  public static class Call {\n    public void call() {\n      System.out.println(\"real\");\n    }\n  }\n\n  @Tested DoSomething doSomething;\n  //@Injectable Call call;\n\n  // nothing happens\n  @Test\n  public void testRealCall() {\n    Deencapsulation.setField(doSomething, \"callee\", new Call());\n    doSomething.execute();\n  }\n\n  // invocation doesn't help either\n  @Test\n  public void testRealCallSecondTry() {\n    new MockUp&lt;Call&gt;() {\n      @Mock\n      @SuppressWarnings(\"unused\")\n      public void call(Invocation inv) {\n        inv.proceed();\n      }\n    };\n    Deencapsulation.setField(doSomething, \"callee\", new Call());\n    doSomething.execute();\n  }\n\n  // this works, but requires redundant methods\n  @Test\n  public void testRealCallThirdTry() {\n    new MockUp&lt;Call&gt;() {\n      @Mock\n      @SuppressWarnings(\"unused\")\n      public void call() {\n        System.out.println(\"real\");\n      }\n    };\n    Deencapsulation.setField(doSomething, \"callee\", new Call());\n    doSomething.execute();\n  }\n\n  @Test\n  public void testFakeCall() {\n    new MockUp&lt;Call&gt;() {\n      @Mock\n      @SuppressWarnings(\"unused\")\n      public void call() {\n        System.out.println(\"fake\");\n      }\n    };\n    Deencapsulation.setField(doSomething, \"callee\", new Call());\n    doSomething.execute();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1772032,"reputation":1699,"user_id":1616627,"display_name":"Roger Gustavsson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647528944,"creation_date":1624977147,"answer_id":68180776,"question_id":19918443,"body_markdown":"I ran into this question when I had the same problem. However, the [existing answer](https://stackoverflow.com/a/19924406/1616627) don&#39;t work with newer versions of JMockit.\r\n\r\nIf a field in the tested class is annotated with `@Inject`, a corresponding `@Injectable` is required in the test class. Usually. This means that removing the `@Injectable` and instead mock the class with `MockUp` suggested in the other answer doesn&#39;t work. JMockit will complain with &quot;Missing @Injectable for field ...&quot;.\r\n\r\nWhat needs to be done instead is to change the `@Injectable` annotation to a `@Tested` annotation, i.e. change this\r\n\r\n    @Injectable Call call;\r\n\r\nto\r\n\r\n    @Tested Call call;\r\n\r\n`call` becomes a real instance and JMockit doesn&#39;t complain about a missing `@Injectable`. If you need to mock *some* methods in `call`, it can be done with `MockUp` as usual.\r\n\r\n    new MockUp&lt;Call&gt;() {\r\n      @Mock\r\n      public void someMethodToMock() {\r\n      }\r\n    };","title":"How to call real methods in class instances annotated with @Injectable in JMockit?","body":"<p>I ran into this question when I had the same problem. However, the <a href=\"https://stackoverflow.com/a/19924406/1616627\">existing answer</a> don't work with newer versions of JMockit.</p>\n<p>If a field in the tested class is annotated with <code>@Inject</code>, a corresponding <code>@Injectable</code> is required in the test class. Usually. This means that removing the <code>@Injectable</code> and instead mock the class with <code>MockUp</code> suggested in the other answer doesn't work. JMockit will complain with &quot;Missing @Injectable for field ...&quot;.</p>\n<p>What needs to be done instead is to change the <code>@Injectable</code> annotation to a <code>@Tested</code> annotation, i.e. change this</p>\n<pre><code>@Injectable Call call;\n</code></pre>\n<p>to</p>\n<pre><code>@Tested Call call;\n</code></pre>\n<p><code>call</code> becomes a real instance and JMockit doesn't complain about a missing <code>@Injectable</code>. If you need to mock <em>some</em> methods in <code>call</code>, it can be done with <code>MockUp</code> as usual.</p>\n<pre><code>new MockUp&lt;Call&gt;() {\n  @Mock\n  public void someMethodToMock() {\n  }\n};\n</code></pre>\n"}],"owner":{"account_id":1158186,"reputation":2509,"user_id":1138245,"accept_rate":73,"display_name":"NSF"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3361,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":19924406,"answer_count":2,"score":2,"last_activity_date":1647528944,"creation_date":1384214434,"question_id":19918443,"body_markdown":"I&#39;m looking for a way in JMockit to inject the private fields inside a class while maintaining the ability to trigger the real methods. I use `@Injectable` and `@Tested` offered by JMockit. But somehow after that the injected instance is not able to call the real method.\r\n\r\nExample test:\r\n\r\n    public class TestClass {\r\n        public static class DoSomething {\r\n            private Call callee;\r\n    \r\n            public void execute() {\r\n                callee.call();\r\n            }\r\n        }\r\n    \r\n        public static class Call {\r\n            public void call() {\r\n                System.out.println(&quot;real&quot;);\r\n            }\r\n        }\r\n    \r\n        @Tested DoSomething doSomething;\r\n        @Injectable Call call;\r\n    \r\n        // nothing happens\r\n        @Test\r\n        public void testRealCall() {\r\n            doSomething.execute();\r\n        }\r\n    \r\n        // invocation doesn&#39;t help either\r\n        @Test\r\n        public void testRealCallSecondTry() {\r\n            new MockUp&lt;Call&gt;() {\r\n                @Mock\r\n                @SuppressWarnings(&quot;unused&quot;)\r\n                public void call(Invocation inv) {\r\n                    inv.proceed();\r\n                }\r\n            };\r\n            doSomething.execute();\r\n        }\r\n    \r\n        // this works, but requires redundant methods\r\n        @Test\r\n        public void testRealCallThirdTry() {\r\n            new MockUp&lt;Call&gt;() {\r\n                @Mock\r\n                @SuppressWarnings(&quot;unused&quot;)\r\n                public void call() {\r\n                    System.out.println(&quot;real&quot;);\r\n                }\r\n            };\r\n            doSomething.execute();\r\n        }\r\n    \r\n        @Test\r\n        public void testFakeCall() {\r\n            new MockUp&lt;Call&gt;() {\r\n                @Mock\r\n                @SuppressWarnings(&quot;unused&quot;)\r\n                public void call() {\r\n                    System.out.println(&quot;fake&quot;);\r\n                }\r\n            };\r\n            doSomething.execute();\r\n        }\r\n    }\r\n\r\nHere `DoSomething` wraps the `Call` instance, which provides a way to print a message. The ideal output of the four test cases would be:\r\n\r\n    real\r\n    real\r\n    real\r\n    fake\r\n\r\nHowever the actual scenario is that only 3 and 4 worked, printing:\r\n\r\n    real\r\n    fake\r\n\r\nThis shows if an instance is created using `@Injectable`. It&#39;s not able to directly call the original method without copying and pasting the old method body to the mocked version. That seems really awkward. Is there a workaround of this?","title":"How to call real methods in class instances annotated with @Injectable in JMockit?","body":"<p>I'm looking for a way in JMockit to inject the private fields inside a class while maintaining the ability to trigger the real methods. I use <code>@Injectable</code> and <code>@Tested</code> offered by JMockit. But somehow after that the injected instance is not able to call the real method.</p>\n\n<p>Example test:</p>\n\n<pre><code>public class TestClass {\n    public static class DoSomething {\n        private Call callee;\n\n        public void execute() {\n            callee.call();\n        }\n    }\n\n    public static class Call {\n        public void call() {\n            System.out.println(\"real\");\n        }\n    }\n\n    @Tested DoSomething doSomething;\n    @Injectable Call call;\n\n    // nothing happens\n    @Test\n    public void testRealCall() {\n        doSomething.execute();\n    }\n\n    // invocation doesn't help either\n    @Test\n    public void testRealCallSecondTry() {\n        new MockUp&lt;Call&gt;() {\n            @Mock\n            @SuppressWarnings(\"unused\")\n            public void call(Invocation inv) {\n                inv.proceed();\n            }\n        };\n        doSomething.execute();\n    }\n\n    // this works, but requires redundant methods\n    @Test\n    public void testRealCallThirdTry() {\n        new MockUp&lt;Call&gt;() {\n            @Mock\n            @SuppressWarnings(\"unused\")\n            public void call() {\n                System.out.println(\"real\");\n            }\n        };\n        doSomething.execute();\n    }\n\n    @Test\n    public void testFakeCall() {\n        new MockUp&lt;Call&gt;() {\n            @Mock\n            @SuppressWarnings(\"unused\")\n            public void call() {\n                System.out.println(\"fake\");\n            }\n        };\n        doSomething.execute();\n    }\n}\n</code></pre>\n\n<p>Here <code>DoSomething</code> wraps the <code>Call</code> instance, which provides a way to print a message. The ideal output of the four test cases would be:</p>\n\n<pre><code>real\nreal\nreal\nfake\n</code></pre>\n\n<p>However the actual scenario is that only 3 and 4 worked, printing:</p>\n\n<pre><code>real\nfake\n</code></pre>\n\n<p>This shows if an instance is created using <code>@Injectable</code>. It's not able to directly call the original method without copying and pasting the old method body to the mocked version. That seems really awkward. Is there a workaround of this?</p>\n"},{"tags":["java","spring-boot","google-cloud-platform","google-cloud-storage","spring-cloud-stream"],"comments":[{"owner":{"account_id":15760814,"reputation":68973,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":0,"creation_date":1647546057,"post_id":71514406,"comment_id":126404843,"body_markdown":"What&#39;s the content type of those files?","body":"What&#39;s the content type of those files?"},{"owner":{"account_id":5140857,"reputation":798,"user_id":4118291,"accept_rate":58,"display_name":"Kirkland"},"score":0,"creation_date":1647547306,"post_id":71514406,"comment_id":126405280,"body_markdown":"application/xml","body":"application/xml"},{"owner":{"account_id":23493598,"reputation":763,"user_id":17544312,"display_name":"Andres Fiesco Casasola"},"score":0,"creation_date":1647555599,"post_id":71514406,"comment_id":126407587,"body_markdown":"The files you are having issues with are of a particular size, length, format, or have a character? Can you also please provide the complete error message?","body":"The files you are having issues with are of a particular size, length, format, or have a character? Can you also please provide the complete error message?"},{"owner":{"account_id":5140857,"reputation":798,"user_id":4118291,"accept_rate":58,"display_name":"Kirkland"},"score":0,"creation_date":1647561719,"post_id":71514406,"comment_id":126408707,"body_markdown":"Attached is the entire stack trace. Everything else is irrelevant logs that have nothing to do with that specific process. The files are all around 12MB large, however other files larger than 12MB were able to be successfully processed. There are no character or encoding format differences.","body":"Attached is the entire stack trace. Everything else is irrelevant logs that have nothing to do with that specific process. The files are all around 12MB large, however other files larger than 12MB were able to be successfully processed. There are no character or encoding format differences."},{"owner":{"account_id":23493598,"reputation":763,"user_id":17544312,"display_name":"Andres Fiesco Casasola"},"score":0,"creation_date":1648581564,"post_id":71514406,"comment_id":126659678,"body_markdown":"I have been investigating the error and its caused by the default directory at application startup.  Check this [case](https://stackoverflow.com/questions/48076063/how-to-solve-the-java-nio-file-nosuchfileexception) and see if the accepted answer can help you.","body":"I have been investigating the error and its caused by the default directory at application startup.  Check this <a href=\"https://stackoverflow.com/questions/48076063/how-to-solve-the-java-nio-file-nosuchfileexception\">case</a> and see if the accepted answer can help you."}],"owner":{"account_id":5140857,"reputation":798,"user_id":4118291,"accept_rate":58,"display_name":"Kirkland"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":566,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647528730,"creation_date":1647528730,"question_id":71514406,"body_markdown":"I&#39;m trying to create a Spring Boot application which uses the GCP Pub/Sub binder with Spring Cloud Streams to listen for an event GCP posts to a topic when a file is loaded into a specific bucket. The spring boot application would then need to take the file referenced in the pub/sub message, download it to the temp directory, process it, then delete it from local storage. It successfully processes 371 files all dumped into the directory, but there were 137 files that all threw the same error. The following is the method throwing the exception, and the exception itself\r\n\r\n```\r\n    private Optional&lt;List&lt;SingleImport&gt;&gt; load(StorageObjectMessage storageObjectMessage, Storage storage) throws JAXBException {\r\n \r\n        ImportLoader loader = new ImportLoader();\r\n        FileConverter converter = new FileConverter();\r\n        Blob blob = storage.get(blobId);\r\n        Optional&lt;List&lt;SingleImport&gt;&gt; result = Optional.empty();\r\n \r\n        log.info(String.format(&quot;%s blob with id of %s&quot;, blob == null ? &quot;Could not find&quot; : &quot;Found&quot;, blobId.getName()));\r\n \r\n        if(blob != null) {\r\n \r\n            String systemTemporaryDirectory = String.format(&quot;%s%s.tmp&quot;, System.getProperty(&quot;java.io.tmpdir&quot;), storageObjectMessage.getMd5Hash());\r\n            log.info(String.format(&quot;Downloading file for processing to temp directory at %s&quot;, systemTemporaryDirectory));\r\n            blob.downloadTo(Paths.get(systemTemporaryDirectory));\r\n            File tempFile = new File(systemTemporaryDirectory);\r\n            Import importModel = loader.load(tempFile);\r\n            List&lt;SingleImport&gt; singleImport = converter.convert(importModel);\r\n            result = Optional.of(singleImport);\r\n \r\n        }\r\n \r\n        return result;\r\n \r\n    }\r\n```\r\n\r\n```\r\n2022-03-17 10:43:43.380  INFO 39483 --- [sub-subscriber1] c.h.mro2go.sap.service.FileService       : Found blob with id of update/inbound/cat_upd_20220104124110-00028.xml\r\n2022-03-17 10:43:43.380  INFO 39483 --- [sub-subscriber1] c.h.mro2go.sap.service.FileService       : Downloading file for processing to temp directory at /var/folders/dk/4k5hcmcj1zv43kx0pgpys8j80000gq/T/jrrpW/f1JEx0uFQDq2xsVQ==.tmp\r\ncom.google.cloud.storage.StorageException: /var/folders/dk/4k5hcmcj1zv43kx0pgpys8j80000gq/T/jrrpW/f1JEx0uFQDq2xsVQ==.tmp\r\n       at com.google.cloud.storage.Blob.downloadTo(Blob.java:237)\r\n       at com.google.cloud.storage.Blob.downloadTo(Blob.java:274)\r\n       at com.hdsupply.mro2go.sap.service.FileService.load(FileService.java:90)\r\n       at com.hdsupply.mro2go.sap.service.FileService.retrieveNewFile(FileService.java:42)\r\n       at com.hdsupply.mro2go.sap.message.SapEventConsumer.processFile(SapEventConsumer.java:56)\r\n       at com.hdsupply.mro2go.sap.message.SapEventConsumer.accept(SapEventConsumer.java:35)\r\n       at com.hdsupply.mro2go.sap.message.SapEventConsumer.accept(SapEventConsumer.java:1)\r\n       at org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.invokeConsumer(SimpleFunctionRegistry.java:975)\r\n       at org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.doApply(SimpleFunctionRegistry.java:704)\r\n       at org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.apply(SimpleFunctionRegistry.java:550)\r\n       at org.springframework.cloud.stream.function.PartitionAwareFunctionWrapper.apply(PartitionAwareFunctionWrapper.java:84)\r\n       at org.springframework.cloud.stream.function.FunctionConfiguration$FunctionWrapper.apply(FunctionConfiguration.java:749)\r\n       at org.springframework.cloud.stream.function.FunctionConfiguration$FunctionToDestinationBinder$1.handleMessageInternal(FunctionConfiguration.java:581)\r\n       at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:56)\r\n       at org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115)\r\n       at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:133)\r\n       at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:106)\r\n       at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72)\r\n       at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:317)\r\n       at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:272)\r\n       at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\r\n       at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\r\n       at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\r\n       at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\r\n       at org.springframework.integration.endpoint.MessageProducerSupport.sendMessage(MessageProducerSupport.java:208)\r\n       at com.google.cloud.spring.pubsub.integration.inbound.PubSubInboundChannelAdapter.consumeMessage(PubSubInboundChannelAdapter.java:144)\r\n       at com.google.cloud.spring.pubsub.core.subscriber.PubSubSubscriberTemplate.lambda$subscribeAndConvert$1(PubSubSubscriberTemplate.java:173)\r\n       at com.google.cloud.pubsub.v1.MessageDispatcher$4.run(MessageDispatcher.java:396)\r\n       at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\r\n       at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n       at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n       at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n       at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n       at java.base/java.lang.Thread.run(Thread.java:833)\r\nCaused by: java.nio.file.NoSuchFileException: /var/folders/dk/4k5hcmcj1zv43kx0pgpys8j80000gq/T/jrrpW/f1JEx0uFQDq2xsVQ==.tmp\r\n       at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)\r\n       at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:106)\r\n       at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)\r\n       at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:218)\r\n       at java.base/java.nio.file.spi.FileSystemProvider.newOutputStream(FileSystemProvider.java:484)\r\n       at java.base/java.nio.file.Files.newOutputStream(Files.java:228)\r\n       at com.google.cloud.storage.Blob.downloadTo(Blob.java:234)\r\n       ... 33 more\r\n```\r\n\r\n\r\nWhat might be causing this to happen at all, let alone only some of the time?","title":"Google Cloud Storage Not Always Downloading File","body":"<p>I'm trying to create a Spring Boot application which uses the GCP Pub/Sub binder with Spring Cloud Streams to listen for an event GCP posts to a topic when a file is loaded into a specific bucket. The spring boot application would then need to take the file referenced in the pub/sub message, download it to the temp directory, process it, then delete it from local storage. It successfully processes 371 files all dumped into the directory, but there were 137 files that all threw the same error. The following is the method throwing the exception, and the exception itself</p>\n<pre><code>    private Optional&lt;List&lt;SingleImport&gt;&gt; load(StorageObjectMessage storageObjectMessage, Storage storage) throws JAXBException {\n \n        ImportLoader loader = new ImportLoader();\n        FileConverter converter = new FileConverter();\n        Blob blob = storage.get(blobId);\n        Optional&lt;List&lt;SingleImport&gt;&gt; result = Optional.empty();\n \n        log.info(String.format(&quot;%s blob with id of %s&quot;, blob == null ? &quot;Could not find&quot; : &quot;Found&quot;, blobId.getName()));\n \n        if(blob != null) {\n \n            String systemTemporaryDirectory = String.format(&quot;%s%s.tmp&quot;, System.getProperty(&quot;java.io.tmpdir&quot;), storageObjectMessage.getMd5Hash());\n            log.info(String.format(&quot;Downloading file for processing to temp directory at %s&quot;, systemTemporaryDirectory));\n            blob.downloadTo(Paths.get(systemTemporaryDirectory));\n            File tempFile = new File(systemTemporaryDirectory);\n            Import importModel = loader.load(tempFile);\n            List&lt;SingleImport&gt; singleImport = converter.convert(importModel);\n            result = Optional.of(singleImport);\n \n        }\n \n        return result;\n \n    }\n</code></pre>\n<pre><code>2022-03-17 10:43:43.380  INFO 39483 --- [sub-subscriber1] c.h.mro2go.sap.service.FileService       : Found blob with id of update/inbound/cat_upd_20220104124110-00028.xml\n2022-03-17 10:43:43.380  INFO 39483 --- [sub-subscriber1] c.h.mro2go.sap.service.FileService       : Downloading file for processing to temp directory at /var/folders/dk/4k5hcmcj1zv43kx0pgpys8j80000gq/T/jrrpW/f1JEx0uFQDq2xsVQ==.tmp\ncom.google.cloud.storage.StorageException: /var/folders/dk/4k5hcmcj1zv43kx0pgpys8j80000gq/T/jrrpW/f1JEx0uFQDq2xsVQ==.tmp\n       at com.google.cloud.storage.Blob.downloadTo(Blob.java:237)\n       at com.google.cloud.storage.Blob.downloadTo(Blob.java:274)\n       at com.hdsupply.mro2go.sap.service.FileService.load(FileService.java:90)\n       at com.hdsupply.mro2go.sap.service.FileService.retrieveNewFile(FileService.java:42)\n       at com.hdsupply.mro2go.sap.message.SapEventConsumer.processFile(SapEventConsumer.java:56)\n       at com.hdsupply.mro2go.sap.message.SapEventConsumer.accept(SapEventConsumer.java:35)\n       at com.hdsupply.mro2go.sap.message.SapEventConsumer.accept(SapEventConsumer.java:1)\n       at org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.invokeConsumer(SimpleFunctionRegistry.java:975)\n       at org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.doApply(SimpleFunctionRegistry.java:704)\n       at org.springframework.cloud.function.context.catalog.SimpleFunctionRegistry$FunctionInvocationWrapper.apply(SimpleFunctionRegistry.java:550)\n       at org.springframework.cloud.stream.function.PartitionAwareFunctionWrapper.apply(PartitionAwareFunctionWrapper.java:84)\n       at org.springframework.cloud.stream.function.FunctionConfiguration$FunctionWrapper.apply(FunctionConfiguration.java:749)\n       at org.springframework.cloud.stream.function.FunctionConfiguration$FunctionToDestinationBinder$1.handleMessageInternal(FunctionConfiguration.java:581)\n       at org.springframework.integration.handler.AbstractMessageHandler.handleMessage(AbstractMessageHandler.java:56)\n       at org.springframework.integration.dispatcher.AbstractDispatcher.tryOptimizedDispatch(AbstractDispatcher.java:115)\n       at org.springframework.integration.dispatcher.UnicastingDispatcher.doDispatch(UnicastingDispatcher.java:133)\n       at org.springframework.integration.dispatcher.UnicastingDispatcher.dispatch(UnicastingDispatcher.java:106)\n       at org.springframework.integration.channel.AbstractSubscribableChannel.doSend(AbstractSubscribableChannel.java:72)\n       at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:317)\n       at org.springframework.integration.channel.AbstractMessageChannel.send(AbstractMessageChannel.java:272)\n       at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:187)\n       at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:166)\n       at org.springframework.messaging.core.GenericMessagingTemplate.doSend(GenericMessagingTemplate.java:47)\n       at org.springframework.messaging.core.AbstractMessageSendingTemplate.send(AbstractMessageSendingTemplate.java:109)\n       at org.springframework.integration.endpoint.MessageProducerSupport.sendMessage(MessageProducerSupport.java:208)\n       at com.google.cloud.spring.pubsub.integration.inbound.PubSubInboundChannelAdapter.consumeMessage(PubSubInboundChannelAdapter.java:144)\n       at com.google.cloud.spring.pubsub.core.subscriber.PubSubSubscriberTemplate.lambda$subscribeAndConvert$1(PubSubSubscriberTemplate.java:173)\n       at com.google.cloud.pubsub.v1.MessageDispatcher$4.run(MessageDispatcher.java:396)\n       at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:539)\n       at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n       at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n       at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n       at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n       at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: java.nio.file.NoSuchFileException: /var/folders/dk/4k5hcmcj1zv43kx0pgpys8j80000gq/T/jrrpW/f1JEx0uFQDq2xsVQ==.tmp\n       at java.base/sun.nio.fs.UnixException.translateToIOException(UnixException.java:92)\n       at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:106)\n       at java.base/sun.nio.fs.UnixException.rethrowAsIOException(UnixException.java:111)\n       at java.base/sun.nio.fs.UnixFileSystemProvider.newByteChannel(UnixFileSystemProvider.java:218)\n       at java.base/java.nio.file.spi.FileSystemProvider.newOutputStream(FileSystemProvider.java:484)\n       at java.base/java.nio.file.Files.newOutputStream(Files.java:228)\n       at com.google.cloud.storage.Blob.downloadTo(Blob.java:234)\n       ... 33 more\n</code></pre>\n<p>What might be causing this to happen at all, let alone only some of the time?</p>\n"},{"tags":["java","google-cloud-firestore"],"comments":[{"owner":{"account_id":23534039,"reputation":472,"user_id":17579252,"display_name":"mdobrucki"},"score":0,"creation_date":1647425146,"post_id":71482052,"comment_id":126365604,"body_markdown":"I came across similar [question](https://stackoverflow.com/questions/56219469/firestore-get-the-parent-document-of-a-subcollection), let me know if it&#39;s helpful in your case.","body":"I came across similar <a href=\"https://stackoverflow.com/questions/56219469/firestore-get-the-parent-document-of-a-subcollection\">question</a>, let me know if it&#39;s helpful in your case."},{"owner":{"account_id":4182819,"reputation":2339,"user_id":3427299,"accept_rate":78,"display_name":"Mattwmaster58"},"score":0,"creation_date":1647425282,"post_id":71482052,"comment_id":126365667,"body_markdown":"@mdobrucki Unfortunately, not much help as I already am able to do this manually, but seek a method to do this automatically","body":"@mdobrucki Unfortunately, not much help as I already am able to do this manually, but seek a method to do this automatically"}],"answers":[{"tags":[],"owner":{"account_id":23534039,"reputation":472,"user_id":17579252,"display_name":"mdobrucki"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1647528636,"creation_date":1647528636,"answer_id":71514388,"question_id":71482052,"body_markdown":"Unfortunately, there is no method in Firebase that does that automatically. This is Java limitation and you are doing it correctly by deserializing the object.","title":"Firestore - set a POJO field to the ID of the collection of a query","body":"<p>Unfortunately, there is no method in Firebase that does that automatically. This is Java limitation and you are doing it correctly by deserializing the object.</p>\n"}],"owner":{"account_id":4182819,"reputation":2339,"user_id":3427299,"accept_rate":78,"display_name":"Mattwmaster58"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71514388,"answer_count":1,"score":1,"last_activity_date":1647528636,"creation_date":1647346454,"question_id":71482052,"body_markdown":"I know this is a very specific ask but I&#39;ve got a situation where it would be very nice to have my custom class deserialized and have the collections parent ID set to a specific field. I know with the `@DocumentId` annotation we can do this for the documents own ID, is there some SDK method to extend this for my use case?\r\n\r\n```java\r\npublic class MyCustomClass {\r\n    @DocumentId public documentID;\r\n    ...\r\n\r\n    @&lt;insert magic here&gt; public documentsCollectionsParentID\r\n\r\n```\r\nSo for example, something like `/users/&lt;uid&gt;/docs/&lt;docid&gt;`, I already have the functionality for documentID to be set automatically to `docID`, but I&#39;d like `documentsCollectionsParentID` set to `uid`. Is this in any way possible at the moment?\r\nMy current alternative is to deserialize, and the the object afterword:\r\n\r\n```java\r\nMyCustomClass thing = (MyCustomClass)doc.toObject(MyCustomClass.class);\r\nthing.setDocumentsCollectionsParentID(doc.getReference().getParent().getParent().getId())\r\n```\r\n","title":"Firestore - set a POJO field to the ID of the collection of a query","body":"<p>I know this is a very specific ask but I've got a situation where it would be very nice to have my custom class deserialized and have the collections parent ID set to a specific field. I know with the <code>@DocumentId</code> annotation we can do this for the documents own ID, is there some SDK method to extend this for my use case?</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyCustomClass {\n    @DocumentId public documentID;\n    ...\n\n    @&lt;insert magic here&gt; public documentsCollectionsParentID\n\n</code></pre>\n<p>So for example, something like <code>/users/&lt;uid&gt;/docs/&lt;docid&gt;</code>, I already have the functionality for documentID to be set automatically to <code>docID</code>, but I'd like <code>documentsCollectionsParentID</code> set to <code>uid</code>. Is this in any way possible at the moment?\nMy current alternative is to deserialize, and the the object afterword:</p>\n<pre class=\"lang-java prettyprint-override\"><code>MyCustomClass thing = (MyCustomClass)doc.toObject(MyCustomClass.class);\nthing.setDocumentsCollectionsParentID(doc.getReference().getParent().getParent().getId())\n</code></pre>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":369687,"reputation":56616,"user_id":717214,"accept_rate":86,"display_name":"Aleks G"},"score":4,"creation_date":1372243437,"post_id":17317862,"comment_id":25117868,"body_markdown":"No, there isn&#39;t - what you have is in the Java `String` class.  There may be external libraries with additional methods - or you can write your own.","body":"No, there isn&#39;t - what you have is in the Java <code>String</code> class.  There may be external libraries with additional methods - or you can write your own."},{"owner":{"account_id":63708,"reputation":2087,"user_id":188453,"accept_rate":83,"display_name":"Mark Chorley"},"score":1,"creation_date":1372243477,"post_id":17317862,"comment_id":25119792,"body_markdown":"There&#39;s nothing built in, but Apache commons has the StringUtils class which has a suitable [left](http://commons.apache.org/proper/commons-lang//apidocs/org/apache/commons/lang3/StringUtils.html#left%28java.lang.String,%20int%29) function for you.","body":"There&#39;s nothing built in, but Apache commons has the StringUtils class which has a suitable <a href=\"http://commons.apache.org/proper/commons-lang//apidocs/org/apache/commons/lang3/StringUtils.html#left%28java.lang.String,%20int%29\" rel=\"nofollow noreferrer\">left</a> function for you."}],"answers":[{"tags":[],"owner":{"account_id":63708,"reputation":2087,"user_id":188453,"accept_rate":83,"display_name":"Mark Chorley"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1372243477,"creation_date":1372243477,"answer_id":17317927,"question_id":17317862,"body_markdown":"There&#39;s nothing built in, but Apache commons has the StringUtils class which has a suitable [left][1] function for you. \r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang//apidocs/org/apache/commons/lang3/StringUtils.html#left%28java.lang.String,%20int%29","title":"Is there a left()-function for Java strings?","body":"<p>There's nothing built in, but Apache commons has the StringUtils class which has a suitable <a href=\"http://commons.apache.org/proper/commons-lang//apidocs/org/apache/commons/lang3/StringUtils.html#left%28java.lang.String,%20int%29\" rel=\"noreferrer\">left</a> function for you. </p>\n"},{"tags":[],"owner":{"account_id":2070624,"reputation":1205,"user_id":1845200,"accept_rate":25,"display_name":"Manish Doshi"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1372248392,"creation_date":1372244121,"answer_id":17318166,"question_id":17317862,"body_markdown":"No there is not `left()` in the `String` class, as you can refer API. But as @Mark said Apache `StringUtils` has several methods: `leftPad()`, `rightPad()`, `center()` and `repeat()`. You can also check\r\n this:http://www.jdocs.com/lang/2.1/org/apache/commons/lang/StringUtils.html","title":"Is there a left()-function for Java strings?","body":"<p>No there is not <code>left()</code> in the <code>String</code> class, as you can refer API. But as @Mark said Apache <code>StringUtils</code> has several methods: <code>leftPad()</code>, <code>rightPad()</code>, <code>center()</code> and <code>repeat()</code>. You can also check\n this:<a href=\"http://www.jdocs.com/lang/2.1/org/apache/commons/lang/StringUtils.html\" rel=\"nofollow\">http://www.jdocs.com/lang/2.1/org/apache/commons/lang/StringUtils.html</a></p>\n"},{"tags":[],"owner":{"account_id":1714859,"reputation":156,"user_id":1572170,"display_name":"BBaker"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1432744561,"creation_date":1432744561,"answer_id":30488336,"question_id":17317862,"body_markdown":"If you don&#39;t want to add the StringUtils Library you can still use it the way you want like so:\r\n\r\n    String string = (string.lastIndexOf(&quot;,&quot;) &gt; -1 )?string.substring(0, string.lastIndexOf(&quot;,&quot;)): string;","title":"Is there a left()-function for Java strings?","body":"<p>If you don't want to add the StringUtils Library you can still use it the way you want like so:</p>\n\n<pre><code>String string = (string.lastIndexOf(\",\") &gt; -1 )?string.substring(0, string.lastIndexOf(\",\")): string;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13245679,"reputation":7,"user_id":9564899,"display_name":"Mekki Ahmedi"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1529692402,"creation_date":1529691634,"answer_id":50993656,"question_id":17317862,"body_markdown":"put the below function in a class:\r\n\r\n     public static String getLeftString(String st,int length){\r\n        int stringlength=st.length();\r\n\r\n        if(stringlength&lt;=length){\r\n            return st;\r\n        }\r\n      \r\n        return st.substring((stringlength-length));\r\n    }","title":"Is there a left()-function for Java strings?","body":"<p>put the below function in a class:</p>\n\n<pre><code> public static String getLeftString(String st,int length){\n    int stringlength=st.length();\n\n    if(stringlength&lt;=length){\n        return st;\n    }\n\n    return st.substring((stringlength-length));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2784953,"reputation":87,"user_id":2396629,"display_name":"rakesh kumar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1617525297,"creation_date":1617525297,"answer_id":66939381,"question_id":17317862,"body_markdown":"Use Split.\r\n\r\n    String str = &quot;Result string Delimiter Right String&quot;;\r\n    System.out.println(str.split(&quot;Delimiter&quot;)[0].trim());\r\n\r\nOutput: &quot;Result string&quot;","title":"Is there a left()-function for Java strings?","body":"<p>Use Split.</p>\n<pre><code>String str = &quot;Result string Delimiter Right String&quot;;\nSystem.out.println(str.split(&quot;Delimiter&quot;)[0].trim());\n</code></pre>\n<p>Output: &quot;Result string&quot;</p>\n"},{"tags":[],"owner":{"account_id":7649030,"reputation":25,"user_id":5798541,"display_name":"red"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1641780429,"creation_date":1641779704,"answer_id":70647025,"question_id":17317862,"body_markdown":"in my case I want to get date only.\r\n\r\n`String s = &quot;date:2021-01-01&quot;;`\r\n\r\n`int n = s.length() - 10;`  //10 was the length of the date\r\n\r\n`String result = s.substring(n);`\r\n\r\nthe result will be &quot;2021-01-01&quot;;","title":"Is there a left()-function for Java strings?","body":"<p>in my case I want to get date only.</p>\n<p><code>String s = &quot;date:2021-01-01&quot;;</code></p>\n<p><code>int n = s.length() - 10;</code>  //10 was the length of the date</p>\n<p><code>String result = s.substring(n);</code></p>\n<p>the result will be &quot;2021-01-01&quot;;</p>\n"},{"tags":[],"owner":{"account_id":4100701,"reputation":467,"user_id":3366321,"display_name":"Farsee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647528543,"creation_date":1647527497,"answer_id":71514108,"question_id":17317862,"body_markdown":"You can use String [Format][1] \r\n\r\nIn this example the format specifier `&quot;%-9s&quot;` means minimum 9 characters  left justified (-).\r\n`&quot;%-9.9s&quot;` means maximum 9 characters.\r\n\r\n    System.out.println (String.format(&quot;%-9.9s&quot;,&quot;1234&quot;));\r\n    System.out.println (String.format(&quot;%-9.9s&quot;,&quot;123456789ABCD&quot;));\r\n    int len=9;\r\n    System.out.println (String.format(&quot;%-&quot;+len+&quot;.&quot;+len+&quot;s&quot;,&quot;123456789ABCD&quot;));\r\n\r\n\r\nPrints:\r\n\r\n&gt;     1234     \r\n&gt;     123456789\r\n&gt;     123456789\r\n\r\nin OP&#39;s case it would be something like this:\r\n\r\n    static final int MAXLEN=9;\r\n    code = String.format(&quot;%-&quot;+MAXLEN+&quot;.&quot;+MAXLEN+&quot;s&quot;,str.replace(&quot; &quot;, &quot;&quot;));\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html\r\n","title":"Is there a left()-function for Java strings?","body":"<p>You can use String <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html\" rel=\"nofollow noreferrer\">Format</a></p>\n<p>In this example the format specifier <code>&quot;%-9s&quot;</code> means minimum 9 characters  left justified (-).\n<code>&quot;%-9.9s&quot;</code> means maximum 9 characters.</p>\n<pre><code>System.out.println (String.format(&quot;%-9.9s&quot;,&quot;1234&quot;));\nSystem.out.println (String.format(&quot;%-9.9s&quot;,&quot;123456789ABCD&quot;));\nint len=9;\nSystem.out.println (String.format(&quot;%-&quot;+len+&quot;.&quot;+len+&quot;s&quot;,&quot;123456789ABCD&quot;));\n</code></pre>\n<p>Prints:</p>\n<blockquote>\n<pre><code>1234     \n123456789\n123456789\n</code></pre>\n</blockquote>\n<p>in OP's case it would be something like this:</p>\n<pre><code>static final int MAXLEN=9;\ncode = String.format(&quot;%-&quot;+MAXLEN+&quot;.&quot;+MAXLEN+&quot;s&quot;,str.replace(&quot; &quot;, &quot;&quot;));\n</code></pre>\n"}],"owner":{"account_id":2971750,"reputation":1772,"user_id":2523663,"accept_rate":67,"display_name":"Alois Heimer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74476,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":17317927,"answer_count":7,"score":22,"last_activity_date":1647528543,"creation_date":1372243269,"question_id":17317862,"body_markdown":"I have an string str of unknown length (but not null) and a given maximum length len, this has to fit in. All I want to do, is to cut the string at len.\r\n\r\nI know that I can use \r\n\r\n    str.substring(0, Math.min(len, str.length()));\r\n\r\nbut this does not come handy, if I try to write stacked code like this\r\n\r\n    code = str.replace(&quot; &quot;, &quot;&quot;).left(len)\r\n\r\nI know that I can write my own function but I would prefer an existing solution. Is there an existing left()-function in Java?\r\n","title":"Is there a left()-function for Java strings?","body":"<p>I have an string str of unknown length (but not null) and a given maximum length len, this has to fit in. All I want to do, is to cut the string at len.</p>\n\n<p>I know that I can use </p>\n\n<pre><code>str.substring(0, Math.min(len, str.length()));\n</code></pre>\n\n<p>but this does not come handy, if I try to write stacked code like this</p>\n\n<pre><code>code = str.replace(\" \", \"\").left(len)\n</code></pre>\n\n<p>I know that I can write my own function but I would prefer an existing solution. Is there an existing left()-function in Java?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":22447115,"reputation":108,"user_id":16650865,"display_name":"UserOfStackOverFlow"},"score":1,"creation_date":1647516301,"post_id":71511159,"comment_id":126393195,"body_markdown":"I recommend to use other type of architecture to do this, perceptibly by far it is wrong practice, it don&#39;t make a minimum sense. \n\nThink about to do an asynchronous methods or other thing.","body":"I recommend to use other type of architecture to do this, perceptibly by far it is wrong practice, it don&#39;t make a minimum sense.   Think about to do an asynchronous methods or other thing."}],"answers":[{"tags":[],"owner":{"account_id":8218454,"reputation":762,"user_id":6183889,"display_name":"Tom Elias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647515058,"creation_date":1647515058,"answer_id":71511231,"question_id":71511159,"body_markdown":"you need to have a shared Lock of some kind, and pass it&#39;s reference to all threads that need to execute the sequence.\r\n\r\nfor instance, create a `public static final ReentrantLock LOCK = new ReentrantLock();` on the class which has the task() method and in the beginning of the method task() write `LOCK.lock();` and `LOCK.unlock();` at the end. now, all threads passing through the task() method will try to acquire the lock, and it will block them if its already taken.","title":"How to lock a sequence of methods, such that other thread call those same method should be waiting?","body":"<p>you need to have a shared Lock of some kind, and pass it's reference to all threads that need to execute the sequence.</p>\n<p>for instance, create a <code>public static final ReentrantLock LOCK = new ReentrantLock();</code> on the class which has the task() method and in the beginning of the method task() write <code>LOCK.lock();</code> and <code>LOCK.unlock();</code> at the end. now, all threads passing through the task() method will try to acquire the lock, and it will block them if its already taken.</p>\n"},{"tags":[],"owner":{"account_id":785462,"reputation":16343,"user_id":845034,"accept_rate":57,"display_name":"steffen"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647528416,"creation_date":1647515147,"answer_id":71511249,"question_id":71511159,"body_markdown":"You could either make that task *synchronized*:\r\n\r\n    public synchronized void task() {\r\n        method();\r\n        method();\r\n        method();\r\n        method();\r\n    }\r\n\r\nThis will prevent other threads from calling the same `task()` method on the same object, including other `synchronized` methods on that object. You can have more control with an explicit `synchronized` statement, like\r\n\r\n    public void task() {\r\n        synchronized (this) { // or another object\r\n            method();\r\n            method();\r\n            method();\r\n            method();\r\n        }\r\n    }\r\n\r\nOr use your own [Lock][1] instance:\r\n\r\n    private final ReentrantLock lock = new ReentrantLock();\r\n    public void task() {\r\n        lock.lock();  // block until lock is released\r\n        try {\r\n            method();\r\n            method();\r\n            method();\r\n            method();\r\n        } finally {\r\n            lock.unlock();\r\n        }\r\n    }\r\n\r\nIf you want to have all `method()` calls not to be running at the same time, just apply the same mechanism to the `method()` declaration:\r\n\r\n    public synchronized void method() // or one of the other two options\r\n\r\nIf you apply one of these three mechanisms to both `task` and `method`, you would make sure, that the thread calling `task()` will finish all `method()` calls sequentially and prevent other threads from calling any `method()` meanwhile. Both `synchronized` and the `ReentrantLock` allow the same thread to get the same lock/monitor multiple times (nested locks).\r\n\r\nFinally, if you want to allow multiple parallel calls to `method()` but just not while `task()` is executed, you&#39;d need a shared or read-write lock (see [ReentrantReadWriteLock][2]).\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/ReentrantLock.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/ReentrantReadWriteLock.html","title":"How to lock a sequence of methods, such that other thread call those same method should be waiting?","body":"<p>You could either make that task <em>synchronized</em>:</p>\n<pre><code>public synchronized void task() {\n    method();\n    method();\n    method();\n    method();\n}\n</code></pre>\n<p>This will prevent other threads from calling the same <code>task()</code> method on the same object, including other <code>synchronized</code> methods on that object. You can have more control with an explicit <code>synchronized</code> statement, like</p>\n<pre><code>public void task() {\n    synchronized (this) { // or another object\n        method();\n        method();\n        method();\n        method();\n    }\n}\n</code></pre>\n<p>Or use your own <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/ReentrantLock.html\" rel=\"nofollow noreferrer\">Lock</a> instance:</p>\n<pre><code>private final ReentrantLock lock = new ReentrantLock();\npublic void task() {\n    lock.lock();  // block until lock is released\n    try {\n        method();\n        method();\n        method();\n        method();\n    } finally {\n        lock.unlock();\n    }\n}\n</code></pre>\n<p>If you want to have all <code>method()</code> calls not to be running at the same time, just apply the same mechanism to the <code>method()</code> declaration:</p>\n<pre><code>public synchronized void method() // or one of the other two options\n</code></pre>\n<p>If you apply one of these three mechanisms to both <code>task</code> and <code>method</code>, you would make sure, that the thread calling <code>task()</code> will finish all <code>method()</code> calls sequentially and prevent other threads from calling any <code>method()</code> meanwhile. Both <code>synchronized</code> and the <code>ReentrantLock</code> allow the same thread to get the same lock/monitor multiple times (nested locks).</p>\n<p>Finally, if you want to allow multiple parallel calls to <code>method()</code> but just not while <code>task()</code> is executed, you'd need a shared or read-write lock (see <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/ReentrantReadWriteLock.html\" rel=\"nofollow noreferrer\">ReentrantReadWriteLock</a>).</p>\n"},{"tags":[],"owner":{"account_id":7463872,"reputation":5539,"user_id":5674223,"accept_rate":100,"display_name":"UkFLSUI"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647517607,"creation_date":1647516865,"answer_id":71511632,"question_id":71511159,"body_markdown":"This can be an option but may not be the best. You could modify the signature of your `method()` in this way:\r\n\r\n```\r\npublic void method(int serialExecutionCount) {\r\n    synchronized(this) {\r\n        for (int i = 0; i &lt; serialExecutionCount; i++) {\r\n            // body of your method()\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nNow, your `task()` method will be like this:\r\n\r\n```\r\npublic void task() {\r\n   method(4);\r\n}\r\n```\r\n\r\nNow, if you call it from other thread like this:\r\n\r\n```\r\nmethod(1);\r\n```\r\n\r\nit will wait for previous 4 method calls to be finished from `task()` method&#39;s calling thread.","title":"How to lock a sequence of methods, such that other thread call those same method should be waiting?","body":"<p>This can be an option but may not be the best. You could modify the signature of your <code>method()</code> in this way:</p>\n<pre><code>public void method(int serialExecutionCount) {\n    synchronized(this) {\n        for (int i = 0; i &lt; serialExecutionCount; i++) {\n            // body of your method()\n        }\n    }\n}\n</code></pre>\n<p>Now, your <code>task()</code> method will be like this:</p>\n<pre><code>public void task() {\n   method(4);\n}\n</code></pre>\n<p>Now, if you call it from other thread like this:</p>\n<pre><code>method(1);\n</code></pre>\n<p>it will wait for previous 4 method calls to be finished from <code>task()</code> method's calling thread.</p>\n"}],"owner":{"account_id":1109086,"reputation":2201,"user_id":1099884,"accept_rate":60,"display_name":"Yeung"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":555,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71511249,"answer_count":3,"score":1,"last_activity_date":1647528416,"creation_date":1647514777,"question_id":71511159,"body_markdown":"Suppose there is one Thread and it has a sequence of methods to be executed:\r\n\r\n    public void task(){\r\n       method();\r\n       method();\r\n       method();\r\n       method();\r\n    }\r\n\r\nI would like to lock the whole sequence. That is, when that `task()` is executing, I don&#39;t want the other threads to execute the same `method()` but to wait until the whole `task()` is done. What kinds of lock is needed?","title":"How to lock a sequence of methods, such that other thread call those same method should be waiting?","body":"<p>Suppose there is one Thread and it has a sequence of methods to be executed:</p>\n<pre><code>public void task(){\n   method();\n   method();\n   method();\n   method();\n}\n</code></pre>\n<p>I would like to lock the whole sequence. That is, when that <code>task()</code> is executing, I don't want the other threads to execute the same <code>method()</code> but to wait until the whole <code>task()</code> is done. What kinds of lock is needed?</p>\n"},{"tags":["java","maven","intellij-idea","config"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1583439353,"post_id":60547271,"comment_id":107127258,"body_markdown":"If I remember correctly IDEA IntelliJ nor Eclipse do support those things..","body":"If I remember correctly IDEA IntelliJ nor Eclipse do support those things.."},{"owner":{"account_id":2273465,"reputation":15439,"user_id":2000323,"display_name":"Andrey"},"score":3,"creation_date":1583477841,"post_id":60547271,"comment_id":107137460,"body_markdown":"It is not supported. Here are related requests: [IDEA-197658](https://youtrack.jetbrains.com/issue/IDEA-197658) [IDEA-205178](https://youtrack.jetbrains.com/issue/IDEA-2051780)","body":"It is not supported. Here are related requests: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-197658\" rel=\"nofollow noreferrer\">IDEA-197658</a> <a href=\"https://youtrack.jetbrains.com/issue/IDEA-2051780\" rel=\"nofollow noreferrer\">IDEA-205178</a>"}],"answers":[{"tags":[],"owner":{"account_id":7922144,"reputation":546,"user_id":5982796,"display_name":"adanski"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647528405,"creation_date":1647528405,"answer_id":71514326,"question_id":60547271,"body_markdown":"Support for `maven.config` has been finally added in IntelliJ 2021.3.\r\n\r\n&gt; It is now possible to configure the Maven settings for each project in the *.mvn/maven.config* file in *Preferences/ Settings | Build, Execution, Deployment | Maven* by selecting *Use settings from .mvn/maven.config*.\r\n\r\nhttps://blog.jetbrains.com/idea/2021/11/intellij-idea-2021-3/#build_tools","title":"IntelliJ - maven.config and jvm.config files are ignored by IntelliJ run configuration","body":"<p>Support for <code>maven.config</code> has been finally added in IntelliJ 2021.3.</p>\n<blockquote>\n<p>It is now possible to configure the Maven settings for each project in the <em>.mvn/maven.config</em> file in <em>Preferences/ Settings | Build, Execution, Deployment | Maven</em> by selecting <em>Use settings from .mvn/maven.config</em>.</p>\n</blockquote>\n<p><a href=\"https://blog.jetbrains.com/idea/2021/11/intellij-idea-2021-3/#build_tools\" rel=\"nofollow noreferrer\">https://blog.jetbrains.com/idea/2021/11/intellij-idea-2021-3/#build_tools</a></p>\n"}],"owner":{"account_id":9493420,"reputation":266,"user_id":8097911,"accept_rate":43,"display_name":"mrdlink"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3323,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71514326,"answer_count":1,"score":2,"last_activity_date":1647528405,"creation_date":1583417452,"question_id":60547271,"body_markdown":"&lt;br&gt;\r\nIn my Maven project, I have a `.mvn` folder where my `maven.config` and `jvm.config` files are located for project-specific arguments. I develop with IntelliJ and when I run a maven configuration (either with the bundled maven or a custom maven installation), the arguments in those files are not picked up during the build.&lt;br&gt;\r\nHowever, when I run the same maven goal over the terminal with a custom maven installation, the arguments all get picked up.\r\n\r\nHow do I have to configure IntelliJ so the `maven.config` and `jvm.config` are being picked up?","title":"IntelliJ - maven.config and jvm.config files are ignored by IntelliJ run configuration","body":"<p><br>\nIn my Maven project, I have a <code>.mvn</code> folder where my <code>maven.config</code> and <code>jvm.config</code> files are located for project-specific arguments. I develop with IntelliJ and when I run a maven configuration (either with the bundled maven or a custom maven installation), the arguments in those files are not picked up during the build.<br>\nHowever, when I run the same maven goal over the terminal with a custom maven installation, the arguments all get picked up.</p>\n\n<p>How do I have to configure IntelliJ so the <code>maven.config</code> and <code>jvm.config</code> are being picked up?</p>\n"},{"tags":["java","enums"],"comments":[{"owner":{"account_id":67756,"reputation":5083,"user_id":198087,"accept_rate":70,"display_name":"Archer"},"score":2,"creation_date":1358170030,"post_id":14319232,"comment_id":19895911,"body_markdown":"supp.ACTIVE or supp.Active?","body":"supp.ACTIVE or supp.Active?"},{"owner":{"account_id":1268556,"reputation":48088,"user_id":1225328,"accept_rate":93,"display_name":"sp00m"},"score":1,"creation_date":1358170102,"post_id":14319232,"comment_id":19895955,"body_markdown":"Please confirm: you want to get the corresponding name of a given int value? I.e. `1 --&gt; Active` or `Active --&gt; 1`?","body":"Please confirm: you want to get the corresponding name of a given int value? I.e. <code>1 --&gt; Active</code> or <code>Active --&gt; 1</code>?"},{"owner":{"account_id":2113743,"reputation":959,"user_id":1878460,"accept_rate":36,"display_name":"Camilla"},"score":0,"creation_date":1358170251,"post_id":14319232,"comment_id":19896037,"body_markdown":"it&#39;s supp.ACTIVE, a value that I take from the db, that can be 0,1 or 2... Yes, I searched for examples in java in the web, and I read something like what is posted here-","body":"it&#39;s supp.ACTIVE, a value that I take from the db, that can be 0,1 or 2... Yes, I searched for examples in java in the web, and I read something like what is posted here-"},{"owner":{"account_id":15075,"reputation":27761,"user_id":31480,"accept_rate":71,"display_name":"Gareth Davis"},"score":0,"creation_date":1358171119,"post_id":14319232,"comment_id":19896466,"body_markdown":"this is a possible dup of http://stackoverflow.com/questions/1080904/how-can-i-lookup-a-java-enum-from-its-string-value/1080914","body":"this is a possible dup of <a href=\"http://stackoverflow.com/questions/1080904/how-can-i-lookup-a-java-enum-from-its-string-value/1080914\" title=\"how can i lookup a java enum from its string value\">stackoverflow.com/questions/1080904/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1358170234,"creation_date":1358170234,"answer_id":14319361,"question_id":14319232,"body_markdown":"What you can do is\r\n\r\n    RelationActiveEnum ae = Enum.valueOf(RelationActiveEnum.class,\r\n                                         RelationActiveEnum.ACTIVE.name();\r\n\r\nor\r\n\r\n    RelationActiveEnum ae = RelationActiveEnum.valueOf(\r\n                                         RelationActiveEnum.ACTIVE.name();\r\n\r\nor\r\n\r\n    // not recommended as the ordinal might not match the value\r\n    RelationActiveEnum ae = RelationActiveEnum.values()[\r\n                                         RelationActiveEnum.ACTIVE.value];\r\n\r\nBy if you want to lookup by a field of an enum you need to construct a collection such as a List, an array or a Map.\r\n\r\n    public enum RelationActiveEnum {\r\n        Invited(0),\r\n        Active(1),\r\n        Suspended(2);\r\n\r\n        private final int code;\r\n\r\n        private RelationActiveEnum(final int code) {\r\n            this.code = code;\r\n        }\r\n\r\n        private static final Map&lt;Integer, RelationActiveEnum&gt; BY_CODE_MAP = new LinkedHashMap&lt;&gt;();\r\n        static {\r\n            for (RelationActiveEnum rae : RelationActiveEnum.values()) {\r\n                BY_CODE_MAP.put(rae.code, rae);\r\n            }\r\n        }\r\n\r\n        public static RelationActiveEnum forCode(int code) {\r\n            return BY_CODE_MAP.get(code);\r\n        }\r\n    }\r\n\r\nallows you to write\r\n\r\n    String name = RelationActiveEnum.forCode(RelationActiveEnum.ACTIVE.code).name();\r\n","title":"get enum name from enum value","body":"<p>What you can do is</p>\n\n<pre><code>RelationActiveEnum ae = Enum.valueOf(RelationActiveEnum.class,\n                                     RelationActiveEnum.ACTIVE.name();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>RelationActiveEnum ae = RelationActiveEnum.valueOf(\n                                     RelationActiveEnum.ACTIVE.name();\n</code></pre>\n\n<p>or</p>\n\n<pre><code>// not recommended as the ordinal might not match the value\nRelationActiveEnum ae = RelationActiveEnum.values()[\n                                     RelationActiveEnum.ACTIVE.value];\n</code></pre>\n\n<p>By if you want to lookup by a field of an enum you need to construct a collection such as a List, an array or a Map.</p>\n\n<pre><code>public enum RelationActiveEnum {\n    Invited(0),\n    Active(1),\n    Suspended(2);\n\n    private final int code;\n\n    private RelationActiveEnum(final int code) {\n        this.code = code;\n    }\n\n    private static final Map&lt;Integer, RelationActiveEnum&gt; BY_CODE_MAP = new LinkedHashMap&lt;&gt;();\n    static {\n        for (RelationActiveEnum rae : RelationActiveEnum.values()) {\n            BY_CODE_MAP.put(rae.code, rae);\n        }\n    }\n\n    public static RelationActiveEnum forCode(int code) {\n        return BY_CODE_MAP.get(code);\n    }\n}\n</code></pre>\n\n<p>allows you to write</p>\n\n<pre><code>String name = RelationActiveEnum.forCode(RelationActiveEnum.ACTIVE.code).name();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":89210,"reputation":37428,"user_id":246263,"accept_rate":73,"display_name":"Veger"},"down_vote_count":1,"up_vote_count":68,"is_accepted":false,"score":67,"last_activity_date":1647528277,"creation_date":1358170413,"answer_id":14319412,"question_id":14319232,"body_markdown":"Say we have:\r\n\r\n    public enum MyEnum {\r\n      Test1, Test2, Test3\r\n    }\r\n\r\nTo get the name of a enum variable use [`name()`][1]:\r\n\r\n    MyEnum e = MyEnum.Test1;\r\n    String name = e.name(); // Returns &quot;Test1&quot;\r\n\r\nTo get the enum from a (string) name, use [`valueOf()`][2]:\r\n\r\n    String name = &quot;Test1&quot;;\r\n    MyEnum e = Enum.valueOf(MyEnum.class, name);\r\n\r\nIf you require `integer` values to match enum fields, extend the enum class:\r\n\r\n    public enum MyEnum {\r\n      Test1(1), Test2(2), Test3(3);\r\n\r\n      public final int value;\r\n\r\n      MyEnum(final int value) {\r\n         this.value = value;\r\n      }\r\n    }\r\n\r\nNow you can use:\r\n\r\n    MyEnum e = MyEnum.Test1;\r\n    int value = e.value; // = 1\r\n\r\nAnd lookup the enum using the integer value:\r\n\r\n    MyEnum getValue(int value) {\r\n      for(MyEnum e: MyEnum.values()) {\r\n        if(e.value == value) {\r\n          return e;\r\n        }\r\n      }\r\n      return null;// not found\r\n    }\r\n\r\n[1]: http://docs.oracle.com/javase/6/docs/api/java/lang/Enum.html#name()\r\n[2]: http://docs.oracle.com/javase/6/docs/api/java/lang/Enum.html#valueOf(java.lang.Class,%20java.lang.String)","title":"get enum name from enum value","body":"<p>Say we have:</p>\n<pre><code>public enum MyEnum {\n  Test1, Test2, Test3\n}\n</code></pre>\n<p>To get the name of a enum variable use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Enum.html#name()\" rel=\"noreferrer\"><code>name()</code></a>:</p>\n<pre><code>MyEnum e = MyEnum.Test1;\nString name = e.name(); // Returns &quot;Test1&quot;\n</code></pre>\n<p>To get the enum from a (string) name, use <a href=\"http://docs.oracle.com/javase/6/docs/api/java/lang/Enum.html#valueOf(java.lang.Class,%20java.lang.String)\" rel=\"noreferrer\"><code>valueOf()</code></a>:</p>\n<pre><code>String name = &quot;Test1&quot;;\nMyEnum e = Enum.valueOf(MyEnum.class, name);\n</code></pre>\n<p>If you require <code>integer</code> values to match enum fields, extend the enum class:</p>\n<pre><code>public enum MyEnum {\n  Test1(1), Test2(2), Test3(3);\n\n  public final int value;\n\n  MyEnum(final int value) {\n     this.value = value;\n  }\n}\n</code></pre>\n<p>Now you can use:</p>\n<pre><code>MyEnum e = MyEnum.Test1;\nint value = e.value; // = 1\n</code></pre>\n<p>And lookup the enum using the integer value:</p>\n<pre><code>MyEnum getValue(int value) {\n  for(MyEnum e: MyEnum.values()) {\n    if(e.value == value) {\n      return e;\n    }\n  }\n  return null;// not found\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15075,"reputation":27761,"user_id":31480,"accept_rate":71,"display_name":"Gareth Davis"},"down_vote_count":0,"up_vote_count":46,"is_accepted":true,"score":46,"last_activity_date":1464799738,"creation_date":1358170870,"answer_id":14319528,"question_id":14319232,"body_markdown":"Since your &#39;value&#39; also happens to match with ordinals you could just do:\r\n\r\n    public enum RelationActiveEnum {\r\n        Invited,\r\n        Active,\r\n        Suspended;\r\n\r\n        private final int value;\r\n\r\n        private RelationActiveEnum() {\r\n            this.value = ordinal();\r\n        }\r\n    }\r\n\r\n\r\nAnd getting a enum from the value:\r\n\r\n    int value = 1;\r\n    RelationActiveEnum enumInstance = RelationActiveEnum.values()[value];\r\n\r\nI guess an static method would be a good place to put this:\r\n\r\n    public enum RelationActiveEnum {\r\n         public static RelationActiveEnum fromValue(int value) \r\n                 throws IllegalArgumentException {\r\n             try {\r\n                  return RelationActiveEnum.values()[value]\r\n             } catch(ArrayIndexOutOfBoundsException e) {\r\n                  throw new IllegalArgumentException(&quot;Unknown enum value :&quot;+ value);\r\n             }\r\n         }\r\n    }   \r\nObviously this all falls apart if your &#39;value&#39; isn&#39;t the same value as the enum ordinal.\r\n","title":"get enum name from enum value","body":"<p>Since your 'value' also happens to match with ordinals you could just do:</p>\n\n<pre><code>public enum RelationActiveEnum {\n    Invited,\n    Active,\n    Suspended;\n\n    private final int value;\n\n    private RelationActiveEnum() {\n        this.value = ordinal();\n    }\n}\n</code></pre>\n\n<p>And getting a enum from the value:</p>\n\n<pre><code>int value = 1;\nRelationActiveEnum enumInstance = RelationActiveEnum.values()[value];\n</code></pre>\n\n<p>I guess an static method would be a good place to put this:</p>\n\n<pre><code>public enum RelationActiveEnum {\n     public static RelationActiveEnum fromValue(int value) \n             throws IllegalArgumentException {\n         try {\n              return RelationActiveEnum.values()[value]\n         } catch(ArrayIndexOutOfBoundsException e) {\n              throw new IllegalArgumentException(\"Unknown enum value :\"+ value);\n         }\n     }\n}   \n</code></pre>\n\n<p>Obviously this all falls apart if your 'value' isn't the same value as the enum ordinal.</p>\n"},{"tags":[],"owner":{"account_id":538567,"reputation":3797,"user_id":906511,"accept_rate":86,"display_name":"lcguida"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1426108480,"creation_date":1358172480,"answer_id":14320004,"question_id":14319232,"body_markdown":"You could create a lookup method. Not the most efficient (depending on the enum&#39;s size) but it works. \r\n\r\n    public static String getNameByCode(int code){\r\n      for(RelationActiveEnum e : RelationActiveEnum.values()){\r\n        if(code == e.value) return e.name();\r\n      }\r\n      return null;\r\n    }\r\n\r\nAnd call it like this:\r\n\r\n    RelationActiveEnum.getNameByCode(3);","title":"get enum name from enum value","body":"<p>You could create a lookup method. Not the most efficient (depending on the enum's size) but it works. </p>\n\n<pre><code>public static String getNameByCode(int code){\n  for(RelationActiveEnum e : RelationActiveEnum.values()){\n    if(code == e.value) return e.name();\n  }\n  return null;\n}\n</code></pre>\n\n<p>And call it like this:</p>\n\n<pre><code>RelationActiveEnum.getNameByCode(3);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4048095,"reputation":51,"user_id":3328716,"display_name":"user3328716"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1392822746,"creation_date":1392822746,"answer_id":21884574,"question_id":14319232,"body_markdown":"If you want something more efficient in runtime condition, you can have a map that contains every possible choice of the enum by their value. But it&#39;ll be juste slower at initialisation of the JVM. \r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n\r\n    /**\r\n     * Example of enum with a getter that need a value in parameter, and that return the Choice/Instance \r\n     * of the enum which has the same value.\r\n     * The value of each choice can be random.\r\n     */\r\n    public enum MyEnum {\r\n    \t/** a random choice */\r\n    \tChoice1(4),\r\n    \t/** a nother one */\r\n    \tChoice2(2),\r\n    \t/** another one again */\r\n    \tChoice3(9);\r\n    \t/** a map that contains every choices of the enum ordered by their value. */\r\n    \tprivate static final Map&lt;Integer, MyEnum&gt; MY_MAP = new HashMap&lt;Integer, MyEnum&gt;();\r\n    \tstatic {\r\n    \t\t// populating the map\r\n    \t\tfor (MyEnum myEnum : values()) {\r\n    \t\t\tMY_MAP.put(myEnum.getValue(), myEnum);\r\n    \t\t}\r\n    \t}\r\n    \t/** the value of the choice */\r\n    \tprivate int value;\r\n    \r\n    \t/**\r\n      \t * constructor\r\n    \t * @param value the value\r\n    \t */\r\n    \tprivate MyEnum(int value) {\r\n    \t\tthis.value = value;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * getter of the value\r\n    \t * @return int\r\n    \t */\r\n    \tpublic int getValue() {\r\n    \t\treturn value;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Return one of the choice of the enum by its value.\r\n    \t * May return null if there is no choice for this value.\r\n    \t * @param value value\r\n    \t * @return MyEnum\r\n    \t */\r\n    \tpublic static MyEnum getByValue(int value) {\r\n    \t\treturn MY_MAP.get(value);\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * {@inheritDoc}\r\n    \t * @see java.lang.Enum#toString()\r\n    \t */\r\n    \tpublic String toString() {\r\n    \t\treturn name() + &quot;=&quot; + value;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * Exemple of how to use this class.\r\n    \t * @param args args\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\tMyEnum enum1 = MyEnum.Choice1;\r\n    \t\tSystem.out.println(&quot;enum1==&gt;&quot; + String.valueOf(enum1));\r\n    \t\tMyEnum enum2GotByValue = MyEnum.getByValue(enum1.getValue());\r\n    \t\tSystem.out.println(&quot;enum2GotByValue==&gt;&quot; + String.valueOf(enum2GotByValue));\r\n    \t\tMyEnum enum3Unknown = MyEnum.getByValue(4);\r\n    \t\tSystem.out.println(&quot;enum3Unknown==&gt;&quot; + String.valueOf(enum3Unknown));\r\n    \t}\r\n    }","title":"get enum name from enum value","body":"<p>If you want something more efficient in runtime condition, you can have a map that contains every possible choice of the enum by their value. But it'll be juste slower at initialisation of the JVM. </p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\n\n/**\n * Example of enum with a getter that need a value in parameter, and that return the Choice/Instance \n * of the enum which has the same value.\n * The value of each choice can be random.\n */\npublic enum MyEnum {\n    /** a random choice */\n    Choice1(4),\n    /** a nother one */\n    Choice2(2),\n    /** another one again */\n    Choice3(9);\n    /** a map that contains every choices of the enum ordered by their value. */\n    private static final Map&lt;Integer, MyEnum&gt; MY_MAP = new HashMap&lt;Integer, MyEnum&gt;();\n    static {\n        // populating the map\n        for (MyEnum myEnum : values()) {\n            MY_MAP.put(myEnum.getValue(), myEnum);\n        }\n    }\n    /** the value of the choice */\n    private int value;\n\n    /**\n     * constructor\n     * @param value the value\n     */\n    private MyEnum(int value) {\n        this.value = value;\n    }\n\n    /**\n     * getter of the value\n     * @return int\n     */\n    public int getValue() {\n        return value;\n    }\n\n    /**\n     * Return one of the choice of the enum by its value.\n     * May return null if there is no choice for this value.\n     * @param value value\n     * @return MyEnum\n     */\n    public static MyEnum getByValue(int value) {\n        return MY_MAP.get(value);\n    }\n\n    /**\n     * {@inheritDoc}\n     * @see java.lang.Enum#toString()\n     */\n    public String toString() {\n        return name() + \"=\" + value;\n    }\n\n    /**\n     * Exemple of how to use this class.\n     * @param args args\n     */\n    public static void main(String[] args) {\n        MyEnum enum1 = MyEnum.Choice1;\n        System.out.println(\"enum1==&gt;\" + String.valueOf(enum1));\n        MyEnum enum2GotByValue = MyEnum.getByValue(enum1.getValue());\n        System.out.println(\"enum2GotByValue==&gt;\" + String.valueOf(enum2GotByValue));\n        MyEnum enum3Unknown = MyEnum.getByValue(4);\n        System.out.println(\"enum3Unknown==&gt;\" + String.valueOf(enum3Unknown));\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4203824,"reputation":666,"user_id":3443282,"accept_rate":50,"display_name":"Mithun Khatri"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1400145364,"creation_date":1400145364,"answer_id":23674002,"question_id":14319232,"body_markdown":"In my case value was not an integer but a String.\r\ngetNameByCode method can be added to the enum to get name of a String value-\r\n\r\n    enum CODE {\r\n    \tSUCCESS(&quot;SCS&quot;), DELETE(&quot;DEL&quot;);\r\n    \r\n    \tprivate String status;\r\n    \r\n    \t/**\r\n    \t * @return the status\r\n    \t */\r\n    \tpublic String getStatus() {\r\n    \t\treturn status;\r\n    \t}\r\n    \r\n    \t/**\r\n    \t * @param status\r\n    \t *            the status to set\r\n    \t */\r\n    \tpublic void setStatus(String status) {\r\n    \t\tthis.status = status;\r\n    \t}\r\n    \r\n    \tprivate CODE(String status) {\r\n    \t\tthis.status = status;\r\n    \t}\r\n    \r\n    \tpublic static String getNameByCode(String code) {\r\n    \t\tfor (int i = 0; i &lt; CODE.values().length; i++) {\r\n    \t\t\tif (code.equals(CODE.values()[i].status))\r\n    \t\t\t\treturn CODE.values()[i].name();\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}","title":"get enum name from enum value","body":"<p>In my case value was not an integer but a String.\ngetNameByCode method can be added to the enum to get name of a String value-</p>\n\n<pre><code>enum CODE {\n    SUCCESS(\"SCS\"), DELETE(\"DEL\");\n\n    private String status;\n\n    /**\n     * @return the status\n     */\n    public String getStatus() {\n        return status;\n    }\n\n    /**\n     * @param status\n     *            the status to set\n     */\n    public void setStatus(String status) {\n        this.status = status;\n    }\n\n    private CODE(String status) {\n        this.status = status;\n    }\n\n    public static String getNameByCode(String code) {\n        for (int i = 0; i &lt; CODE.values().length; i++) {\n            if (code.equals(CODE.values()[i].status))\n                return CODE.values()[i].name();\n        }\n        return null;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2597730,"reputation":2015,"user_id":2251011,"accept_rate":50,"display_name":"msysmilu"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1418140825,"creation_date":1418140825,"answer_id":27383359,"question_id":14319232,"body_markdown":"This is my take on it:\r\n    \r\n    public enum LoginState { \r\n\t\tLOGGED_IN(1), LOGGED_OUT(0), IN_TRANSACTION(-1);\r\n\t\t\r\n\t    private int code;\r\n\r\n\t    LoginState(int code) {\r\n\t        this.code = code;\r\n\t    }\r\n\r\n\t    public int getCode() {\r\n\t        return code;\r\n\t    }\r\n\r\n        public static LoginState getLoginStateFromCode(int code){\r\n            for(LoginState e : LoginState.values()){\r\n                if(code == e.code) return e;\r\n            }\r\n            return LoginState.LOGGED_OUT; //or null\r\n        }\r\n\t};\r\n\r\nAnd I have used it with System Preferences in Android like so:\r\n\r\n\tLoginState getLoginState(int i) {\r\n\t\treturn LoginState.getLoginStateFromCode(\r\n\t\t\t\t\tprefs().getInt(SPK_IS_LOGIN, LoginState.LOGGED_OUT.getCode())\r\n\t\t\t    );\r\n\t}\r\n\r\n\tpublic static void setLoginState(LoginState newLoginState) {\r\n\t\teditor().putInt(SPK_IS_LOGIN, newLoginState.getCode());\r\n\t\teditor().commit();\r\n\t}\r\n\r\nwhere `pref` and `editor` are `SharedPreferences` and a `SharedPreferences.Editor`","title":"get enum name from enum value","body":"<p>This is my take on it:</p>\n\n<pre><code>public enum LoginState { \n    LOGGED_IN(1), LOGGED_OUT(0), IN_TRANSACTION(-1);\n\n    private int code;\n\n    LoginState(int code) {\n        this.code = code;\n    }\n\n    public int getCode() {\n        return code;\n    }\n\n    public static LoginState getLoginStateFromCode(int code){\n        for(LoginState e : LoginState.values()){\n            if(code == e.code) return e;\n        }\n        return LoginState.LOGGED_OUT; //or null\n    }\n};\n</code></pre>\n\n<p>And I have used it with System Preferences in Android like so:</p>\n\n<pre><code>LoginState getLoginState(int i) {\n    return LoginState.getLoginStateFromCode(\n                prefs().getInt(SPK_IS_LOGIN, LoginState.LOGGED_OUT.getCode())\n            );\n}\n\npublic static void setLoginState(LoginState newLoginState) {\n    editor().putInt(SPK_IS_LOGIN, newLoginState.getCode());\n    editor().commit();\n}\n</code></pre>\n\n<p>where <code>pref</code> and <code>editor</code> are <code>SharedPreferences</code> and a <code>SharedPreferences.Editor</code></p>\n"}],"owner":{"account_id":2113743,"reputation":959,"user_id":1878460,"accept_rate":36,"display_name":"Camilla"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238384,"favorite_count":0,"down_vote_count":2,"up_vote_count":58,"closed_date":1441627832,"accepted_answer_id":14319528,"answer_count":7,"score":56,"last_activity_date":1647528277,"creation_date":1358169823,"question_id":14319232,"body_markdown":"I&#39;ve read a lot about how obtain the corresponding name of an `enum` from its value using java, but no example seems to work for me! What is wrong?\r\n\r\n&lt;!-- language-all: lang-java --&gt;\r\n\r\n    public class Extensions {\r\n\t\r\n\r\n        public enum RelationActiveEnum\r\n        {\r\n            Invited(0),\r\n            Active(1),\r\n            Suspended(2);\r\n            \r\n            private final int value;\r\n        \t\r\n        \tprivate RelationActiveEnum(final int value) {\r\n                this.value = value;\r\n            }\r\n        }\r\n}\r\n\r\n\r\nand in another class I use:\r\n\r\n\r\n        \tint dbValue = supp.ACTIVE;\r\n        \tExtensions.RelationActiveEnum enumValue(dbValue);\r\n        \tString stringName = enumValue.toString(); //Visible\r\n        \t// OR\r\n        \tint dbValuee = supp.ACTIVE;\r\n        \tString stringValue = Enum.GetName(typeof(RelationActiveEnum), dbValue);\r\n\r\n\r\nI should work, right? but it doesn&#39;t!!!! it tells me that dbValue cannote be cast to RelationActiveEnum...","title":"get enum name from enum value","body":"<p>I've read a lot about how obtain the corresponding name of an <code>enum</code> from its value using java, but no example seems to work for me! What is wrong?</p>\n\n\n\n<pre class=\"lang-java prettyprint-override\"><code>public class Extensions {\n\n\n    public enum RelationActiveEnum\n    {\n        Invited(0),\n        Active(1),\n        Suspended(2);\n\n        private final int value;\n\n        private RelationActiveEnum(final int value) {\n            this.value = value;\n        }\n    }\n</code></pre>\n\n<p>}</p>\n\n<p>and in another class I use:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>        int dbValue = supp.ACTIVE;\n        Extensions.RelationActiveEnum enumValue(dbValue);\n        String stringName = enumValue.toString(); //Visible\n        // OR\n        int dbValuee = supp.ACTIVE;\n        String stringValue = Enum.GetName(typeof(RelationActiveEnum), dbValue);\n</code></pre>\n\n<p>I should work, right? but it doesn't!!!! it tells me that dbValue cannote be cast to RelationActiveEnum...</p>\n"},{"tags":["java","generics","casting","higher-kinded-types","parameterization"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":1,"creation_date":1647526698,"post_id":71513832,"comment_id":126397236,"body_markdown":"Not possible. Java does not support higher-kinded types.","body":"Not possible. Java does not support higher-kinded types."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1647527416,"post_id":71513832,"comment_id":126397608,"body_markdown":"Doesn&#39;t `(C)` work?","body":"Doesn&#39;t <code>(C)</code> work?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1647527788,"post_id":71513832,"comment_id":126397765,"body_markdown":"Java generics are a compile time &quot;syntactic sugar&quot; that allows safe checking of types.  Generic are literally erased at runtime -- all those generics are replaced with `Object` and the runtime doesn&#39;t know about the types you used (I think the compiler will insert a `(cast)` when needed for you).  If you need runtime type safety, look at the heterogeneous container pattern. https://codereview.stackexchange.com/questions/55737/typesafe-heterogeneous-container","body":"Java generics are a compile time &quot;syntactic sugar&quot; that allows safe checking of types.  Generic are literally erased at runtime -- all those generics are replaced with <code>Object</code> and the runtime doesn&#39;t know about the types you used (I think the compiler will insert a <code>(cast)</code> when needed for you).  If you need runtime type safety, look at the heterogeneous container pattern. <a href=\"https://codereview.stackexchange.com/questions/55737/typesafe-heterogeneous-container\" title=\"typesafe heterogeneous container\">codereview.stackexchange.com/questions/55737/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647527604,"creation_date":1647527604,"answer_id":71514136,"question_id":71513832,"body_markdown":"Java uses [target typing](https://docs.oracle.com/javase/tutorial/java/generics/genTypeInference.html#target_types) in type inference which means the expected type on the right-hand side of an assignment can be leveraged for this purpose.\r\n\r\n    Map&lt;String, Object&gt; map = Map.of(&quot;strings&quot;, List.of(&quot;value&quot;));\r\n\r\nHowever, to take advantage of it an unchecked cast is needed:\r\n\r\n    &lt;T&gt; T convert(Map&lt;String, Object&gt; map, String key) {\r\n        return (T) map.get(key);   // Warning: unchecked cast\r\n    }\r\n\r\nYou could then get the typed entry out of the map:\r\n\r\n    List&lt;String&gt; strings = convert(map, &quot;strings&quot;);\r\n\r\nHowever, because of type erasure of Java generics, the type parameter is not checked at runtime. So while this will throw a `ClassCastException`:\r\n\r\n    Set&lt;String&gt; setOfString = convert(map, &quot;strings&quot;);\r\n\r\nThis will execute without any complaint, and you won&#39;t get a `ClassCastException` until you try to extract the values from the list:\r\n\r\n    List&lt;Integer&gt; numbers = convert(map, &quot;strings&quot;);","title":"Java Generic of Generic method","body":"<p>Java uses <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/genTypeInference.html#target_types\" rel=\"nofollow noreferrer\">target typing</a> in type inference which means the expected type on the right-hand side of an assignment can be leveraged for this purpose.</p>\n<pre><code>Map&lt;String, Object&gt; map = Map.of(&quot;strings&quot;, List.of(&quot;value&quot;));\n</code></pre>\n<p>However, to take advantage of it an unchecked cast is needed:</p>\n<pre><code>&lt;T&gt; T convert(Map&lt;String, Object&gt; map, String key) {\n    return (T) map.get(key);   // Warning: unchecked cast\n}\n</code></pre>\n<p>You could then get the typed entry out of the map:</p>\n<pre><code>List&lt;String&gt; strings = convert(map, &quot;strings&quot;);\n</code></pre>\n<p>However, because of type erasure of Java generics, the type parameter is not checked at runtime. So while this will throw a <code>ClassCastException</code>:</p>\n<pre><code>Set&lt;String&gt; setOfString = convert(map, &quot;strings&quot;);\n</code></pre>\n<p>This will execute without any complaint, and you won't get a <code>ClassCastException</code> until you try to extract the values from the list:</p>\n<pre><code>List&lt;Integer&gt; numbers = convert(map, &quot;strings&quot;);\n</code></pre>\n"}],"owner":{"account_id":16379082,"reputation":355,"user_id":11830541,"display_name":"Serhii Kachan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":427,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1647528234,"creation_date":1647526483,"question_id":71513832,"body_markdown":"I wonder if it is possible to write a method that will handle casting of undefined types like:\r\n\r\n**Precondition:**\r\n\r\n    Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\r\n    List&lt;String&gt; l = List.of(&quot;value&quot;);\r\n    map.put(&quot;key&quot;, l);\r\n\r\n**Method call:**\r\n\r\n    List&lt;String&gt; strings = convert(&quot;key&quot;, List.class, String.class);\r\n\r\n**convert method itself:**\r\n\r\n    public &lt;V, C extends Collection&lt;V&gt;&gt; C&lt;V&gt; getCollection(String key, Class&lt;C&gt; collType, Class&lt;V&gt; objectType) {\r\n        return (C&lt;V&gt;) map.get(key);\r\n    }\r\n\r\nBut statement C&lt; V &gt; doesn&#39;t compile and gives me an error: Type &#39;C&#39; doesn&#39;t have type parameters.\r\n\r\nAny ideas?","title":"Java Generic of Generic method","body":"<p>I wonder if it is possible to write a method that will handle casting of undefined types like:</p>\n<p><strong>Precondition:</strong></p>\n<pre><code>Map&lt;String, Object&gt; map = new HashMap&lt;&gt;();\nList&lt;String&gt; l = List.of(&quot;value&quot;);\nmap.put(&quot;key&quot;, l);\n</code></pre>\n<p><strong>Method call:</strong></p>\n<pre><code>List&lt;String&gt; strings = convert(&quot;key&quot;, List.class, String.class);\n</code></pre>\n<p><strong>convert method itself:</strong></p>\n<pre><code>public &lt;V, C extends Collection&lt;V&gt;&gt; C&lt;V&gt; getCollection(String key, Class&lt;C&gt; collType, Class&lt;V&gt; objectType) {\n    return (C&lt;V&gt;) map.get(key);\n}\n</code></pre>\n<p>But statement C&lt; V &gt; doesn't compile and gives me an error: Type 'C' doesn't have type parameters.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","performance","process","console"],"comments":[{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":0,"creation_date":1647516958,"post_id":71510714,"comment_id":126393419,"body_markdown":"If the command produces a lot of output the STDOUT and STDERR must be consumed in the same thread. Otherwise the process freezing or you may get performance issues.","body":"If the command produces a lot of output the STDOUT and STDERR must be consumed in the same thread. Otherwise the process freezing or you may get performance issues."},{"owner":{"account_id":2618859,"reputation":714,"user_id":2267367,"display_name":"user2267367"},"score":0,"creation_date":1647520001,"post_id":71510714,"comment_id":126394425,"body_markdown":"Thank you for replying. Ok, but since the process is running in an independent thread by default and is synchronized by process.waitFor() only, how can I consume the output in the same thread?","body":"Thank you for replying. Ok, but since the process is running in an independent thread by default and is synchronized by process.waitFor() only, how can I consume the output in the same thread?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1647536903,"post_id":71510714,"comment_id":126401680,"body_markdown":"Do you actually need this byte array?","body":"Do you actually need this byte array?"},{"owner":{"account_id":2618859,"reputation":714,"user_id":2267367,"display_name":"user2267367"},"score":0,"creation_date":1647578833,"post_id":71510714,"comment_id":126411606,"body_markdown":"Hello Holger, yes at the end I need a byte array. This byte array is basically a image, so a matrix of width x height x color channels. But what would be your idea to perform better?","body":"Hello Holger, yes at the end I need a byte array. This byte array is basically a image, so a matrix of width x height x color channels. But what would be your idea to perform better?"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1647887351,"post_id":71510714,"comment_id":126479631,"body_markdown":"You didnt put an `@` before my name, so I did not get a notification about your new comment. If you didnt need the array, you could have used a native redirection to avoid reading it. In fact, even as you need the data, a native redirection could turn out to be faster than the pipe. Try, e.g. `File f = File.createTempFile(&quot;ffmpeg&quot;, null); new ProcessBuilder(&quot;ffmpeg&quot;).redirectOutput(f) .start().waitFor(); byte[] array = Files.readAllBytes(f.toPath()); f.delete();` When youre using Java&#160;9 or newer, you could also try `proc.getInputStream().readAllBytes()`.","body":"You didnt put an <code>@</code> before my name, so I did not get a notification about your new comment. If you didnt need the array, you could have used a native redirection to avoid reading it. In fact, even as you need the data, a native redirection could turn out to be faster than the pipe. Try, e.g. <code>File f = File.createTempFile(&quot;ffmpeg&quot;, null); new ProcessBuilder(&quot;ffmpeg&quot;).redirectOutput(f) .start().waitFor(); byte[] array = Files.readAllBytes(f.toPath()); f.delete();</code> When youre using Java 9 or newer, you could also try <code>proc.getInputStream().readAllBytes()</code>."},{"owner":{"account_id":2618859,"reputation":714,"user_id":2267367,"display_name":"user2267367"},"score":0,"creation_date":1648028035,"post_id":71510714,"comment_id":126517780,"body_markdown":"Hi @Holger, sorry for the missing @. I tried your solution with the file. I tried to avoid the HDD/SSD, since it is relatively slow compared to the RAM. But your way with the file is just as fast as reading the stream, not really better, not worse. So I guess this part isn&#39;t the bottleneck","body":"Hi @Holger, sorry for the missing @. I tried your solution with the file. I tried to avoid the HDD/SSD, since it is relatively slow compared to the RAM. But your way with the file is just as fast as reading the stream, not really better, not worse. So I guess this part isn&#39;t the bottleneck"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1648053190,"post_id":71510714,"comment_id":126528593,"body_markdown":"How large is the output (in terms of bytes)? And how does you fast setup look like (when it takes only 20ms)? Printing to the console or piping to another tool?","body":"How large is the output (in terms of bytes)? And how does you fast setup look like (when it takes only 20ms)? Printing to the console or piping to another tool?"}],"answers":[{"tags":[],"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647528230,"creation_date":1647528230,"answer_id":71514286,"question_id":71510714,"body_markdown":"Here is the pseudo code to your question in the comments above:\r\n```java\r\n\t\tByteArrayOutputStream out = new ByteArrayOutputStream();\r\n\t\tProcessBuilder pb = new ProcessBuilder(command);\r\n\t\t\t\r\n\t\t// Consuming STDOUT and STDERR in same thread can lead to the process freezing if it writes large amounts.\r\n\t\tpb.redirectErrorStream(true);\r\n\t\r\n\t\tProcess process = pb.start();\r\n\t\ttry (var infoStream = process.getInputStream()) {\r\n\t\t\tinfoStream.transferTo(out);\r\n\t\t}\r\n\t\tstatus = process.waitFor();\r\n\t\tif (status &gt; 0) \r\n\t\t\t// errorhandling\r\n```\r\n\r\n```#transferTo(out)``` Consumes the output stream inside the processbuilder thread. That&#39;s it! It runs inside the thread of ```process```.","title":"How to improve performance of Java Process?","body":"<p>Here is the pseudo code to your question in the comments above:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        ByteArrayOutputStream out = new ByteArrayOutputStream();\n        ProcessBuilder pb = new ProcessBuilder(command);\n            \n        // Consuming STDOUT and STDERR in same thread can lead to the process freezing if it writes large amounts.\n        pb.redirectErrorStream(true);\n    \n        Process process = pb.start();\n        try (var infoStream = process.getInputStream()) {\n            infoStream.transferTo(out);\n        }\n        status = process.waitFor();\n        if (status &gt; 0) \n            // errorhandling\n</code></pre>\n<p><code>#transferTo(out)</code> Consumes the output stream inside the processbuilder thread. That's it! It runs inside the thread of <code>process</code>.</p>\n"}],"owner":{"account_id":2618859,"reputation":714,"user_id":2267367,"display_name":"user2267367"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647528230,"creation_date":1647512726,"question_id":71510714,"body_markdown":"Hello stackoverflow community,\r\nI try to run a command on the console and read the input stream of this process:\r\n\r\n    String command[] = {&quot;ffmpeg&quot;}; //minimal command example\r\n    Process proc = processBuilder.command(command).start();\r\n    byte[] bytes = IOUtils.toByteArray(proc.getInputStream());\r\n    proc.waitFor();\r\n\r\nThe command is a very long ffmpeg command, which prints bytes to the output. Everything works just fine, but it is very slow using java. When I run this command on my regular command line tool, it takes round about 20ms, everything is printed and done.\r\nFor the Java process is takes more than 2s. I also tried to redirect all I/O streams to the std, but the performance is the same, since I thought my reading is too slow. Also, reading the stream in additional threads or using other stream readers etc. did not change anything. The only thing which has an effect is adding cmd (currently working with Windows 10) to the command:\r\n\r\n    String command[] = {&quot;cmd&quot;,&quot;/C&quot;,&quot;ffmpeg&quot;};\r\n\r\nresulting in a execution time of round about 400ms. I did not know before that this makes a difference, but it really does.\r\n\r\nSince this is a Spring Boot web application and the command is used to output images from a video, 400ms is still a lot. The issue here is, that the frontend/browser requests a bunch of images (lets say 36). Apparently the simultaneous requests of a browser to one host is limited (chrome 6 requests), [see here][1]. Therefore it takes at best 6 x 400ms to deliver the content.\r\nSo is there a way to improve the performance to the **java process** or maybe keep it open and fire commands to avoid overhead? \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/36494719/spring-boot-app-only-accepts-6-requests-why?answertab=modifieddesc#tab-top","title":"How to improve performance of Java Process?","body":"<p>Hello stackoverflow community,\nI try to run a command on the console and read the input stream of this process:</p>\n<pre><code>String command[] = {&quot;ffmpeg&quot;}; //minimal command example\nProcess proc = processBuilder.command(command).start();\nbyte[] bytes = IOUtils.toByteArray(proc.getInputStream());\nproc.waitFor();\n</code></pre>\n<p>The command is a very long ffmpeg command, which prints bytes to the output. Everything works just fine, but it is very slow using java. When I run this command on my regular command line tool, it takes round about 20ms, everything is printed and done.\nFor the Java process is takes more than 2s. I also tried to redirect all I/O streams to the std, but the performance is the same, since I thought my reading is too slow. Also, reading the stream in additional threads or using other stream readers etc. did not change anything. The only thing which has an effect is adding cmd (currently working with Windows 10) to the command:</p>\n<pre><code>String command[] = {&quot;cmd&quot;,&quot;/C&quot;,&quot;ffmpeg&quot;};\n</code></pre>\n<p>resulting in a execution time of round about 400ms. I did not know before that this makes a difference, but it really does.</p>\n<p>Since this is a Spring Boot web application and the command is used to output images from a video, 400ms is still a lot. The issue here is, that the frontend/browser requests a bunch of images (lets say 36). Apparently the simultaneous requests of a browser to one host is limited (chrome 6 requests), <a href=\"https://stackoverflow.com/questions/36494719/spring-boot-app-only-accepts-6-requests-why?answertab=modifieddesc#tab-top\">see here</a>. Therefore it takes at best 6 x 400ms to deliver the content.\nSo is there a way to improve the performance to the <strong>java process</strong> or maybe keep it open and fire commands to avoid overhead?</p>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":5644665,"reputation":35951,"user_id":4467208,"accept_rate":51,"display_name":"Murat Karag&#246;z"},"score":0,"creation_date":1434454277,"post_id":30866275,"comment_id":49774112,"body_markdown":"Wow that is one of the worst concatenation I&#39;ve ever seen so far.","body":"Wow that is one of the worst concatenation I&#39;ve ever seen so far."},{"owner":{"account_id":1726806,"reputation":13951,"user_id":4790924,"accept_rate":67,"display_name":"Sharon Ben Asher"},"score":3,"creation_date":1434454309,"post_id":30866275,"comment_id":49774129,"body_markdown":"what&#39;s wrong with the meta symbol \\w ?","body":"what&#39;s wrong with the meta symbol \\w ?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1434454416,"post_id":30866275,"comment_id":49774195,"body_markdown":"Where did you get this regex?","body":"Where did you get this regex?"},{"owner":{"account_id":3851476,"reputation":15138,"user_id":3191557,"accept_rate":100,"display_name":"dhke"},"score":0,"creation_date":1434454505,"post_id":30866275,"comment_id":49774257,"body_markdown":"@sharonbn `\\w` doesn&#39;t match the hypen, but of course `[-\\w]` does. Or in case of the above `(\\w+(-?\\w+)*)` or similar.","body":"@sharonbn <code>\\w</code> doesn&#39;t match the hypen, but of course <code>[-\\w]</code> does. Or in case of the above <code>(\\w+(-?\\w+)*)</code> or similar."},{"owner":{"account_id":26078,"reputation":452381,"user_id":67579,"accept_rate":81,"display_name":"willeM_ Van Onsem"},"score":0,"creation_date":1434454620,"post_id":30866275,"comment_id":49774335,"body_markdown":"The split is a quite expensive operation.","body":"The split is a quite expensive operation."},{"owner":{"account_id":2293959,"reputation":571,"user_id":2015939,"accept_rate":6,"display_name":"neena"},"score":0,"creation_date":1434454648,"post_id":30866275,"comment_id":49774351,"body_markdown":"I am new to regular expression, I wrote this myself. If there is any mistakes correct me. This expression is working for all words and not counting special character too, my problem is with hyphen and underscore","body":"I am new to regular expression, I wrote this myself. If there is any mistakes correct me. This expression is working for all words and not counting special character too, my problem is with hyphen and underscore"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1434454884,"post_id":30866275,"comment_id":49774485,"body_markdown":"It is not a mistake, but more like bad style. `[[a-z][A-Z][0-9][\\\\W][-][_]]` is the same as `[a-zA-Z0-9\\\\W\\\\-_]` which is kind of easier to read (and see that this regex will match every character because of combination of `a-zA-Z0-9_` with `\\W` which is probably not what you want). Also `([-][_])*` is same as `(-_)*`.","body":"It is not a mistake, but more like bad style. <code>[[a-z][A-Z][0-9][\\\\W][-][_]]</code> is the same as <code>[a-zA-Z0-9\\\\W\\\\-_]</code> which is kind of easier to read (and see that this regex will match every character because of combination of <code>a-zA-Z0-9_</code> with <code>\\W</code> which is probably not what you want). Also <code>([-][_])*</code> is same as <code>(-_)*</code>."}],"answers":[{"tags":[],"owner":{"account_id":3023868,"reputation":22275,"user_id":2564301,"accept_rate":75,"display_name":"Jongware"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1434454771,"creation_date":1434454771,"answer_id":30866505,"question_id":30866275,"body_markdown":"This part `([-][_])*` is wrong. The notation `[xyz]` means &quot;any single one of the characters inside the brackets&quot; (see [http://www.regular-expressions.info/charclass.html](http://www.regular-expressions.info/charclass.html)). So effectively, you allow exactly the character `-` *and* exactly the character `_`, in that order.\r\n\r\nFixing your group makes it work:\r\n\r\n    [a-zA-Z0-9]+([-_][a-zA-Z0-9]+)*\r\n\r\nand it can be further simplified using `\\w` to\r\n\r\n    \\w+(-\\w+)*\r\n\r\nbecause `\\w` matches `0..9`, `A..Z`, `a..z` and `_` (http://www.regular-expressions.info/shorthand.html) and so you only need to add `-`.","title":"Regular expression for counting words in a sentence","body":"<p>This part <code>([-][_])*</code> is wrong. The notation <code>[xyz]</code> means \"any single one of the characters inside the brackets\" (see <a href=\"http://www.regular-expressions.info/charclass.html\" rel=\"nofollow\">http://www.regular-expressions.info/charclass.html</a>). So effectively, you allow exactly the character <code>-</code> <em>and</em> exactly the character <code>_</code>, in that order.</p>\n\n<p>Fixing your group makes it work:</p>\n\n<pre><code>[a-zA-Z0-9]+([-_][a-zA-Z0-9]+)*\n</code></pre>\n\n<p>and it can be further simplified using <code>\\w</code> to</p>\n\n<pre><code>\\w+(-\\w+)*\n</code></pre>\n\n<p>because <code>\\w</code> matches <code>0..9</code>, <code>A..Z</code>, <code>a..z</code> and <code>_</code> (<a href=\"http://www.regular-expressions.info/shorthand.html\" rel=\"nofollow\">http://www.regular-expressions.info/shorthand.html</a>) and so you only need to add <code>-</code>.</p>\n"},{"tags":[],"owner":{"account_id":26078,"reputation":452381,"user_id":67579,"accept_rate":81,"display_name":"willeM_ Van Onsem"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1434460571,"creation_date":1434454874,"answer_id":30866535,"question_id":30866275,"body_markdown":"Instead of using `.split` and `.replaceAll` which are quite expensive operations, please use an approach with constant memory usage.\r\n\r\nBased on your specifications, you seem to look for the following regex:\r\n\r\n    [\\w-]+\r\n\r\nNext you can use [this approach](https://stackoverflow.com/a/7378472/67579) to count the number of matches:\r\n\r\n    public static int getWordCount(String sentence) {\r\n        Pattern pattern = Pattern.compile(&quot;[\\\\w-]+&quot;);\r\n        Matcher  matcher = pattern.matcher(sentence);\r\n        int count = 0;\r\n        while (matcher.find())\r\n            count++;\r\n        return count;\r\n    }\r\n\r\n[online *jDoodle* demo](http://jdoodle.com/a/pe).\r\n\r\nThis approach works in (more) constant memory: when splitting, the program constructs an array, which is basically useless, since you never inspect the content of the array.\r\n\r\nIf you don&#39;t want words to start or end with hyphens, you can use the following regex:\r\n\r\n    \\w+([-]\\w+)*","title":"Regular expression for counting words in a sentence","body":"<p>Instead of using <code>.split</code> and <code>.replaceAll</code> which are quite expensive operations, please use an approach with constant memory usage.</p>\n\n<p>Based on your specifications, you seem to look for the following regex:</p>\n\n<pre><code>[\\w-]+\n</code></pre>\n\n<p>Next you can use <a href=\"https://stackoverflow.com/a/7378472/67579\">this approach</a> to count the number of matches:</p>\n\n<pre><code>public static int getWordCount(String sentence) {\n    Pattern pattern = Pattern.compile(\"[\\\\w-]+\");\n    Matcher  matcher = pattern.matcher(sentence);\n    int count = 0;\n    while (matcher.find())\n        count++;\n    return count;\n}\n</code></pre>\n\n<p><a href=\"http://jdoodle.com/a/pe\" rel=\"noreferrer\">online <em>jDoodle</em> demo</a>.</p>\n\n<p>This approach works in (more) constant memory: when splitting, the program constructs an array, which is basically useless, since you never inspect the content of the array.</p>\n\n<p>If you don't want words to start or end with hyphens, you can use the following regex:</p>\n\n<pre><code>\\w+([-]\\w+)*\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5797135,"reputation":2134,"user_id":4572590,"accept_rate":83,"display_name":"griFlo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1434455881,"creation_date":1434455881,"answer_id":30866912,"question_id":30866275,"body_markdown":"if you can use java 8:\r\n\r\n    long wordCount = Arrays.stream(sentence.split(&quot; &quot;)) //split the sentence into words   \r\n    .filter(s -&gt; s.matches(&quot;[\\\\w-]+&quot;)) //filter only matching words\r\n    .count();","title":"Regular expression for counting words in a sentence","body":"<p>if you can use java 8:</p>\n\n<pre><code>long wordCount = Arrays.stream(sentence.split(\" \")) //split the sentence into words   \n.filter(s -&gt; s.matches(\"[\\\\w-]+\")) //filter only matching words\n.count();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10096798,"reputation":146,"user_id":7461916,"display_name":"Jakub Krhovj&#225;k"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647528108,"creation_date":1647528108,"answer_id":71514255,"question_id":30866275,"body_markdown":"With java 8 \r\n\r\n    public static int getColumnCount(String row) {\r\n        return (int) Pattern.compile(&quot;[\\\\w-]+&quot;)\r\n            .matcher(row)\r\n            .results()\r\n            .count();\r\n    }","title":"Regular expression for counting words in a sentence","body":"<p>With java 8</p>\n<pre><code>public static int getColumnCount(String row) {\n    return (int) Pattern.compile(&quot;[\\\\w-]+&quot;)\n        .matcher(row)\n        .results()\n        .count();\n}\n</code></pre>\n"}],"owner":{"account_id":2293959,"reputation":571,"user_id":2015939,"accept_rate":6,"display_name":"neena"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14492,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":4,"score":7,"last_activity_date":1647528108,"creation_date":1434454109,"question_id":30866275,"body_markdown":"\tpublic static int getWordCount(String sentence) {\r\n\t\treturn sentence.split(&quot;(([a-zA-Z0-9]([-][_])*[a-zA-Z0-9])+)&quot;, -1).length\r\n\t\t\t + sentence.replaceAll(&quot;([[a-z][A-Z][0-9][\\\\W][-][_]]*)&quot;, &quot;&quot;).length() - 1;\r\n\t}\r\n\r\nMy intention is to count the number of words in a sentence. The input to this function is the the lengthy sentence. It may have 255 words. \r\n\r\n1. The word should take hyphens or underscores in between\r\n2. Function should only count valid words means special character should not be counted eg. &amp;&amp;&amp;&amp; or #### should not count as a word.\r\n\r\nThe above regular expression is working fine, but when hyphen or underscore comes in between the word eg: co-operation, the count returning as 2, it should be 1. Can anyone please help?\r\n","title":"Regular expression for counting words in a sentence","body":"<pre><code>public static int getWordCount(String sentence) {\n    return sentence.split(\"(([a-zA-Z0-9]([-][_])*[a-zA-Z0-9])+)\", -1).length\n         + sentence.replaceAll(\"([[a-z][A-Z][0-9][\\\\W][-][_]]*)\", \"\").length() - 1;\n}\n</code></pre>\n\n<p>My intention is to count the number of words in a sentence. The input to this function is the the lengthy sentence. It may have 255 words. </p>\n\n<ol>\n<li>The word should take hyphens or underscores in between</li>\n<li>Function should only count valid words means special character should not be counted eg. &amp;&amp;&amp;&amp; or #### should not count as a word.</li>\n</ol>\n\n<p>The above regular expression is working fine, but when hyphen or underscore comes in between the word eg: co-operation, the count returning as 2, it should be 1. Can anyone please help?</p>\n"},{"tags":["java","android","webp"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1647529008,"post_id":71514239,"comment_id":126398347,"body_markdown":"You should go for resolution instead of file size.","body":"You should go for resolution instead of file size."},{"owner":{"account_id":4182819,"reputation":2339,"user_id":3427299,"accept_rate":78,"display_name":"Mattwmaster58"},"score":0,"creation_date":1647540306,"post_id":71514239,"comment_id":126402846,"body_markdown":"@blackapps This is a contrived situation being imposed on me - I can&#39;t change the requirements","body":"@blackapps This is a contrived situation being imposed on me - I can&#39;t change the requirements"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1647540422,"post_id":71514239,"comment_id":126402891,"body_markdown":"But what is your problem. Make a loop with bitmap.compress() in a byte array output stream and look at amount of bytes in stream. Simple. No library needed. Code has been posted a lot of times too.","body":"But what is your problem. Make a loop with bitmap.compress() in a byte array output stream and look at amount of bytes in stream. Simple. No library needed. Code has been posted a lot of times too."}],"owner":{"account_id":4182819,"reputation":2339,"user_id":3427299,"accept_rate":78,"display_name":"Mattwmaster58"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647528049,"creation_date":1647528049,"question_id":71514239,"body_markdown":"I&#39;m well aware that this is usually not a useful thing to think about, however I have encountered a (somewhat contrived) situation where I would like to target a specific file size for a WebP image. [Apparently, googles own cwebp tool for desktop has the ability to target a specific size](https://developers.google.com/speed/webp/docs/cwebp#lossy_options), but I after combing the Bitmap docs for any mention of the tuning of this parameter I found nothing. I haven&#39;t been able to search for other Java libraries either, because it seems that most people are content with the builtin encoding/decoding ability natively available in Android.","title":"Target a specific file size for a WebP image on Android","body":"<p>I'm well aware that this is usually not a useful thing to think about, however I have encountered a (somewhat contrived) situation where I would like to target a specific file size for a WebP image. <a href=\"https://developers.google.com/speed/webp/docs/cwebp#lossy_options\" rel=\"nofollow noreferrer\">Apparently, googles own cwebp tool for desktop has the ability to target a specific size</a>, but I after combing the Bitmap docs for any mention of the tuning of this parameter I found nothing. I haven't been able to search for other Java libraries either, because it seems that most people are content with the builtin encoding/decoding ability natively available in Android.</p>\n"},{"tags":["java","spring","jboss","wildfly","activemq-artemis"],"answers":[{"tags":[],"owner":{"account_id":11434008,"reputation":30690,"user_id":8381946,"display_name":"Justin Bertram"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647527601,"creation_date":1647527601,"answer_id":71514133,"question_id":71511163,"body_markdown":"The first thing to note is that the ActiveMQ embedded within WildFly is ActiveMQ [_Artemis_][1]. Therefore, you should be using:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-artemis&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\nAnd since you&#39;re connecting directly to the embedded instance of ActiveMQ Artemis and not looking up the JMS `ConnectionFactory` in JDNI then you can use the `http-acceptor` which is already exposed on port `8080`, e.g.:\r\n```\r\nspring.artemis.mode=native\r\nspring.artemis.broker-url=tcp://localhost:8080?httpUpgradeEnabled=true\r\nspring.artemis.user=admin\r\nspring.artemis.password=secret\r\n```\r\nLastly, I recommend you move to a more recent version of WildFly. Version 14 was released almost 4 years ago now. The latest release is 26.0.1.\r\n\r\n\r\n  [1]: https://activemq.apache.org/components/artemis/","title":"How to connect remote Spring Boot App to ActiveMQ on Wildfly?","body":"<p>The first thing to note is that the ActiveMQ embedded within WildFly is ActiveMQ <a href=\"https://activemq.apache.org/components/artemis/\" rel=\"nofollow noreferrer\"><em>Artemis</em></a>. Therefore, you should be using:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-artemis&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And since you're connecting directly to the embedded instance of ActiveMQ Artemis and not looking up the JMS <code>ConnectionFactory</code> in JDNI then you can use the <code>http-acceptor</code> which is already exposed on port <code>8080</code>, e.g.:</p>\n<pre><code>spring.artemis.mode=native\nspring.artemis.broker-url=tcp://localhost:8080?httpUpgradeEnabled=true\nspring.artemis.user=admin\nspring.artemis.password=secret\n</code></pre>\n<p>Lastly, I recommend you move to a more recent version of WildFly. Version 14 was released almost 4 years ago now. The latest release is 26.0.1.</p>\n"}],"owner":{"account_id":14963595,"reputation":728,"user_id":10802597,"display_name":"MrFisherman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":700,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71514133,"answer_count":1,"score":0,"last_activity_date":1647527601,"creation_date":1647514801,"question_id":71511163,"body_markdown":"I have to connect newly created app to ActiveMQ which is inside WildFly app server. I don&#39;t want Spring App to be inside WildFly server. It will run as standalone app on embedded Tomcat.\r\n[![enter image description here][1]][1]\r\nIn Spring App I have added:\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-activemq&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\nAnd now I want to connect like in documentation:\r\n```\r\nspring.activemq.broker-url=tcp://localhost:9876\r\nspring.activemq.user=admin\r\nspring.activemq.password=admin\r\n```\r\nOf course I know that user, password and url are wrong but I really don&#39;t know what default values of java:jboss/DefaultJMSConnectionFactory are, it&#39;s not explictly said anywere.\r\n\r\nIn `standalone.xml` it looks like this:\r\n```xml\r\n&lt;subsystem xmlns=&quot;urn:jboss:domain:messaging-activemq:5.0&quot;&gt;\r\n    &lt;server name=&quot;default&quot;&gt;\r\n        &lt;security-setting name=&quot;#&quot;&gt;\r\n            &lt;role name=&quot;guest&quot; send=&quot;true&quot; consume=&quot;true&quot; create-non-durable-queue=&quot;true&quot; delete-non-durable-queue=&quot;true&quot;/&gt;\r\n        &lt;/security-setting&gt;\r\n        &lt;http-connector name=&quot;http-connector&quot; socket-binding=&quot;http&quot; endpoint=&quot;http-acceptor&quot;/&gt;\r\n        &lt;http-connector name=&quot;http-connector-throughput&quot; socket-binding=&quot;http&quot; endpoint=&quot;http-acceptor-throughput&quot;&gt;\r\n            &lt;param name=&quot;batch-delay&quot; value=&quot;50&quot;/&gt;\r\n        &lt;/http-connector&gt;\r\n        &lt;in-vm-connector name=&quot;in-vm&quot; server-id=&quot;0&quot;&gt;\r\n            &lt;param name=&quot;buffer-pooling&quot; value=&quot;false&quot;/&gt;\r\n        &lt;/in-vm-connector&gt;\r\n        &lt;http-acceptor name=&quot;http-acceptor&quot; http-listener=&quot;default&quot;/&gt;\r\n        &lt;http-acceptor name=&quot;http-acceptor-throughput&quot; http-listener=&quot;default&quot;&gt;\r\n            &lt;param name=&quot;batch-delay&quot; value=&quot;50&quot;/&gt;\r\n            &lt;param name=&quot;direct-deliver&quot; value=&quot;false&quot;/&gt;\r\n        &lt;/http-acceptor&gt;\r\n        &lt;in-vm-acceptor name=&quot;in-vm&quot; server-id=&quot;0&quot;&gt;\r\n            &lt;param name=&quot;buffer-pooling&quot; value=&quot;false&quot;/&gt;\r\n        &lt;/in-vm-acceptor&gt;\r\n```\r\nand \r\n```xml\r\n&lt;pooled-connection-factory name=&quot;activemq-ra&quot; entries=&quot;java:/JmsXA java:jboss/DefaultJMSConnectionFactory&quot; connectors=&quot;in-vm&quot; transaction=&quot;xa&quot;/&gt;\r\n```\r\nI expect that I should add a port expose and enable some ?connector? over tcp to activeMQ so that I can connect remotely. Could you give me some advice what should I do?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/x2CfM.png","title":"How to connect remote Spring Boot App to ActiveMQ on Wildfly?","body":"<p>I have to connect newly created app to ActiveMQ which is inside WildFly app server. I don't want Spring App to be inside WildFly server. It will run as standalone app on embedded Tomcat.\n<a href=\"https://i.stack.imgur.com/x2CfM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/x2CfM.png\" alt=\"enter image description here\" /></a>\nIn Spring App I have added:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-activemq&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And now I want to connect like in documentation:</p>\n<pre><code>spring.activemq.broker-url=tcp://localhost:9876\nspring.activemq.user=admin\nspring.activemq.password=admin\n</code></pre>\n<p>Of course I know that user, password and url are wrong but I really don't know what default values of java:jboss/DefaultJMSConnectionFactory are, it's not explictly said anywere.</p>\n<p>In <code>standalone.xml</code> it looks like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;subsystem xmlns=&quot;urn:jboss:domain:messaging-activemq:5.0&quot;&gt;\n    &lt;server name=&quot;default&quot;&gt;\n        &lt;security-setting name=&quot;#&quot;&gt;\n            &lt;role name=&quot;guest&quot; send=&quot;true&quot; consume=&quot;true&quot; create-non-durable-queue=&quot;true&quot; delete-non-durable-queue=&quot;true&quot;/&gt;\n        &lt;/security-setting&gt;\n        &lt;http-connector name=&quot;http-connector&quot; socket-binding=&quot;http&quot; endpoint=&quot;http-acceptor&quot;/&gt;\n        &lt;http-connector name=&quot;http-connector-throughput&quot; socket-binding=&quot;http&quot; endpoint=&quot;http-acceptor-throughput&quot;&gt;\n            &lt;param name=&quot;batch-delay&quot; value=&quot;50&quot;/&gt;\n        &lt;/http-connector&gt;\n        &lt;in-vm-connector name=&quot;in-vm&quot; server-id=&quot;0&quot;&gt;\n            &lt;param name=&quot;buffer-pooling&quot; value=&quot;false&quot;/&gt;\n        &lt;/in-vm-connector&gt;\n        &lt;http-acceptor name=&quot;http-acceptor&quot; http-listener=&quot;default&quot;/&gt;\n        &lt;http-acceptor name=&quot;http-acceptor-throughput&quot; http-listener=&quot;default&quot;&gt;\n            &lt;param name=&quot;batch-delay&quot; value=&quot;50&quot;/&gt;\n            &lt;param name=&quot;direct-deliver&quot; value=&quot;false&quot;/&gt;\n        &lt;/http-acceptor&gt;\n        &lt;in-vm-acceptor name=&quot;in-vm&quot; server-id=&quot;0&quot;&gt;\n            &lt;param name=&quot;buffer-pooling&quot; value=&quot;false&quot;/&gt;\n        &lt;/in-vm-acceptor&gt;\n</code></pre>\n<p>and</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;pooled-connection-factory name=&quot;activemq-ra&quot; entries=&quot;java:/JmsXA java:jboss/DefaultJMSConnectionFactory&quot; connectors=&quot;in-vm&quot; transaction=&quot;xa&quot;/&gt;\n</code></pre>\n<p>I expect that I should add a port expose and enable some ?connector? over tcp to activeMQ so that I can connect remotely. Could you give me some advice what should I do?</p>\n"},{"tags":["java","spring-boot","unit-testing","multipartfile","webtestclient"],"comments":[{"owner":{"account_id":1575209,"reputation":10468,"user_id":1461862,"accept_rate":67,"display_name":"Mauricio Gracia Gutierrez"},"score":0,"creation_date":1647526478,"post_id":71511873,"comment_id":126397119,"body_markdown":"What is at line SaveFileApiTest.java:108 ? you have shared the code but not the line numbers, so ;-)","body":"What is at line SaveFileApiTest.java:108 ? you have shared the code but not the line numbers, so ;-)"},{"owner":{"account_id":20930815,"reputation":5,"user_id":15377247,"display_name":"avargun"},"score":1,"creation_date":1647527306,"post_id":71511873,"comment_id":126397549,"body_markdown":"108th line is  .isCreated()// I have added the image of the line numbers","body":"108th line is  .isCreated()// I have added the image of the line numbers"},{"owner":{"account_id":1575209,"reputation":10468,"user_id":1461862,"accept_rate":67,"display_name":"Mauricio Gracia Gutierrez"},"score":0,"creation_date":1647530870,"post_id":71511873,"comment_id":126399158,"body_markdown":"can you show us how is that method implemented ? for this kind of tests is very common to have permission issues or similar because so many things are not really into the test but external, unless you are mocking them","body":"can you show us how is that method implemented ? for this kind of tests is very common to have permission issues or similar because so many things are not really into the test but external, unless you are mocking them"}],"owner":{"account_id":20930815,"reputation":5,"user_id":15377247,"display_name":"avargun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1158,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647527271,"creation_date":1647518044,"question_id":71511873,"body_markdown":"I am trying to create a unit test with webTestClient POST for my controller. In the API, I have a multipartfile and two String parameter. However, I couldn&#39;t catch the request in the API although I have tried a lot of thing. Where am I wrong? My API code is  \r\n\r\n    @Operation(summary = &quot;Save File&quot;)\r\n    @ApiResponses(value = {\r\n            @ApiResponse(responseCode = &quot;200&quot;,\r\n                    content = @Content(mediaType = MediaType.APPLICATION_JSON_VALUE, array = @ArraySchema(schema =\r\n                    @Schema(implementation = CreateResult.class))),\r\n                    description = &quot;Save File&quot;)})\r\n    @PostMapping(value = &quot;/saveFile&quot;)\r\n    public ResponseEntity&lt;Response&gt; saveFile(@RequestHeader Map&lt;String, String&gt; headers,\r\n                                         @RequestParam(name = &quot;file&quot;) MultipartFile file,\r\n                                             @RequestParam(name = &quot;fileName&quot;) String fileName,\r\n                                             @RequestParam(name = &quot;caseId&quot;) String caseId\r\n    ) {...}\r\n\r\nMy test code is [here with line numbers][1]\r\n\r\n     @Test\r\n    void testOk()  {\r\n\r\n        CommandResult&lt;String&gt; result = commandResultCreated();\r\n        MockMultipartFile file = new MockMultipartFile(&quot;data&quot;, &quot;filename.txt&quot;, &quot;text/plain&quot;, &quot;some xml&quot;.getBytes());\r\n        // given\r\n        when(saveFileService.decorate(//\r\n                any(SaveFileCommand.class), //\r\n                any(Context.class))//\r\n        ).thenReturn(result);\r\n        var builder = new MultipartBodyBuilder();\r\n        builder.part(&quot;file&quot;, file.getResource());\r\n        builder.part(&quot;fileName&quot;,file.getName());\r\n        builder.part(&quot;caseId&quot;,id());\r\n        // when &amp; then\r\n        webClient.post()//\r\n                .uri(URI)//\r\n                .contentType(MediaType.MULTIPART_FORM_DATA)//\r\n                .body(BodyInserters.fromMultipartData(builder.build()))//\r\n                .exchange()//\r\n                .expectStatus()//\r\n                .isCreated()//\r\n                .expectBody()//\r\n                .jsonPath(&quot;$.messages&quot;).isNotEmpty()//\r\n                .jsonPath(&quot;$.messages[0].code&quot;).isEqualTo(Messages.CREATED.getCode())//\r\n                .jsonPath(&quot;$.messages[0].message&quot;).isEqualTo(Messages.CREATED.getMessage())//\r\n                .jsonPath(&quot;$.messages[0].type&quot;).isEqualTo(Messages.CREATED.getType().toString())//\r\n        ;\r\n...\r\n\r\nThe log from the test is \r\n\r\n   \r\n\r\n    \tat org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)\r\n\tat org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)\r\n\tat org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:225)\r\n\tat org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:231)\r\n\tat org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:225)\r\n\tat org.springframework.test.web.reactive.server.StatusAssertions.isCreated(StatusAssertions.java:74)\r\n\tat silicon.casemanagement.api.SaveFileApiTest.testOk(SaveFileApiTest.java:108)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n\tat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\r\n\tat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\r\n\tat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\r\n\tat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\r\n\tat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\r\n\tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n\tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n\tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n\tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n\tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n\tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n\tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n\tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n\tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n\tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n\tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\r\n\tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\r\n\tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\r\n\tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\r\n\r\n\r\nProcess finished with exit code -1\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MU7oo.png","title":"400 Bad Request Error in the Unit Test with Multipart File and WebTestClient Object","body":"<p>I am trying to create a unit test with webTestClient POST for my controller. In the API, I have a multipartfile and two String parameter. However, I couldn't catch the request in the API although I have tried a lot of thing. Where am I wrong? My API code is</p>\n<pre><code>@Operation(summary = &quot;Save File&quot;)\n@ApiResponses(value = {\n        @ApiResponse(responseCode = &quot;200&quot;,\n                content = @Content(mediaType = MediaType.APPLICATION_JSON_VALUE, array = @ArraySchema(schema =\n                @Schema(implementation = CreateResult.class))),\n                description = &quot;Save File&quot;)})\n@PostMapping(value = &quot;/saveFile&quot;)\npublic ResponseEntity&lt;Response&gt; saveFile(@RequestHeader Map&lt;String, String&gt; headers,\n                                     @RequestParam(name = &quot;file&quot;) MultipartFile file,\n                                         @RequestParam(name = &quot;fileName&quot;) String fileName,\n                                         @RequestParam(name = &quot;caseId&quot;) String caseId\n) {...}\n</code></pre>\n<p>My test code is <a href=\"https://i.stack.imgur.com/MU7oo.png\" rel=\"nofollow noreferrer\">here with line numbers</a></p>\n<pre><code> @Test\nvoid testOk()  {\n\n    CommandResult&lt;String&gt; result = commandResultCreated();\n    MockMultipartFile file = new MockMultipartFile(&quot;data&quot;, &quot;filename.txt&quot;, &quot;text/plain&quot;, &quot;some xml&quot;.getBytes());\n    // given\n    when(saveFileService.decorate(//\n            any(SaveFileCommand.class), //\n            any(Context.class))//\n    ).thenReturn(result);\n    var builder = new MultipartBodyBuilder();\n    builder.part(&quot;file&quot;, file.getResource());\n    builder.part(&quot;fileName&quot;,file.getName());\n    builder.part(&quot;caseId&quot;,id());\n    // when &amp; then\n    webClient.post()//\n            .uri(URI)//\n            .contentType(MediaType.MULTIPART_FORM_DATA)//\n            .body(BodyInserters.fromMultipartData(builder.build()))//\n            .exchange()//\n            .expectStatus()//\n            .isCreated()//\n            .expectBody()//\n            .jsonPath(&quot;$.messages&quot;).isNotEmpty()//\n            .jsonPath(&quot;$.messages[0].code&quot;).isEqualTo(Messages.CREATED.getCode())//\n            .jsonPath(&quot;$.messages[0].message&quot;).isEqualTo(Messages.CREATED.getMessage())//\n            .jsonPath(&quot;$.messages[0].type&quot;).isEqualTo(Messages.CREATED.getType().toString())//\n    ;\n</code></pre>\n<p>...</p>\n<p>The log from the test is</p>\n<pre><code>    at org.springframework.test.util.AssertionErrors.fail(AssertionErrors.java:59)\nat org.springframework.test.util.AssertionErrors.assertEquals(AssertionErrors.java:122)\nat org.springframework.test.web.reactive.server.StatusAssertions.lambda$assertStatusAndReturn$4(StatusAssertions.java:225)\nat org.springframework.test.web.reactive.server.ExchangeResult.assertWithDiagnostics(ExchangeResult.java:231)\nat org.springframework.test.web.reactive.server.StatusAssertions.assertStatusAndReturn(StatusAssertions.java:225)\nat org.springframework.test.web.reactive.server.StatusAssertions.isCreated(StatusAssertions.java:74)\nat silicon.casemanagement.api.SaveFileApiTest.testOk(SaveFileApiTest.java:108)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.base/java.lang.reflect.Method.invoke(Method.java:566)\nat org.junit.platform.commons.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:725)\nat org.junit.jupiter.engine.execution.MethodInvocation.proceed(MethodInvocation.java:60)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$ValidatingInvocation.proceed(InvocationInterceptorChain.java:131)\nat org.junit.jupiter.engine.extension.TimeoutExtension.intercept(TimeoutExtension.java:149)\nat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestableMethod(TimeoutExtension.java:140)\nat org.junit.jupiter.engine.extension.TimeoutExtension.interceptTestMethod(TimeoutExtension.java:84)\nat org.junit.jupiter.engine.execution.ExecutableInvoker$ReflectiveInterceptorCall.lambda$ofVoidMethod$0(ExecutableInvoker.java:115)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.lambda$invoke$0(ExecutableInvoker.java:105)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain$InterceptedInvocation.proceed(InvocationInterceptorChain.java:106)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.proceed(InvocationInterceptorChain.java:64)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.chainAndInvoke(InvocationInterceptorChain.java:45)\nat org.junit.jupiter.engine.execution.InvocationInterceptorChain.invoke(InvocationInterceptorChain.java:37)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:104)\nat org.junit.jupiter.engine.execution.ExecutableInvoker.invoke(ExecutableInvoker.java:98)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$invokeTestMethod$7(TestMethodTestDescriptor.java:214)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.invokeTestMethod(TestMethodTestDescriptor.java:210)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:135)\nat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.execute(TestMethodTestDescriptor.java:66)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:151)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat java.base/java.util.ArrayList.forEach(ArrayList.java:1541)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\nat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\nat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\nat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\nat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\nat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\nat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\nat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\nat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\nat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\nat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:71)\nat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:33)\nat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:235)\nat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:54)\n</code></pre>\n<p>Process finished with exit code -1</p>\n"},{"tags":["java","date","datetime","java-time"],"comments":[{"owner":{"account_id":282589,"reputation":8239,"user_id":579580,"accept_rate":85,"display_name":"aviad"},"score":0,"creation_date":1460699742,"post_id":36639154,"comment_id":60872967,"body_markdown":"Thanks for asking (and for answering)! Why not to use JodaTime BTW?","body":"Thanks for asking (and for answering)! Why not to use JodaTime BTW?"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1460701390,"post_id":36639154,"comment_id":60873668,"body_markdown":"@aviad JodaTime was necessary before Java 8&#39;s new Time API (which was influenced a lot by JodaTime I believe, maybe even by the same people). It&#39;s not that useful anymore.","body":"@aviad JodaTime was necessary before Java 8&#39;s new Time API (which was influenced a lot by JodaTime I believe, maybe even by the same people). It&#39;s not that useful anymore."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":3,"creation_date":1488240505,"post_id":36639154,"comment_id":72135232,"body_markdown":"@aviad The java.time framework is the official replacement for Joda-Time. Both projects are led by the same man, Stephen Colebourne ([jodastephen](http://stackoverflow.com/users/38896/jodastephen)).","body":"@aviad The java.time framework is the official replacement for Joda-Time. Both projects are led by the same man, Stephen Colebourne (<a href=\"http://stackoverflow.com/users/38896/jodastephen\">jodastephen</a>)."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":135,"is_accepted":true,"score":135,"last_activity_date":1647527089,"creation_date":1460699402,"answer_id":36639155,"question_id":36639154,"body_markdown":"Yes, you definitely should be using the [java.time][1] framework whenever possible. \r\n\r\n# Avoid old date-time classes\r\n\r\nThe old date-time classes including [`java.util.Date`][2], [`java.util.Calendar`][3], and `java.text.SimpleDateFormat` and such have proven to be [poorly designed, confusing, and troublesome][4]. Avoid them where you can. But when you must interoperate with these old types, you can convert between old and new. \r\n\r\nRead on for a basic introduction, somewhat over-simplified, to orient you in moving back-and-forth between the old and new date-time classes.\r\n\r\n# java.time\r\n\r\nThe [java.time][1] framework is defined by [JSR 310](http://jcp.org/en/jsr/detail?id=310), inspired by the highly-successful [Joda-Time][5] library, and extended by the [ThreeTen-Extra](http://www.threeten.org/threeten-extra/) project. The bulk of the functionality was back-ported to Java 6 &amp; 7 in the [ThreeTen-Backport](http://www.threeten.org/threetenbp/) project, with a further adaptation for Android in the [ThreeTenABP](https://github.com/JakeWharton/ThreeTenABP) project.\r\n\r\nWhat java.time type matches [`java.util.Date`][2]? Well, a `java.util.Date` object basically represents a moment on the timeline in UTC, a combination of a date and a time-of-day. We can translate that to any of several types in java.time. Each is discussed below. Note that some new methods have been added to the old date-time classes to facilitate conversions.\r\n\r\n[![diagram of converting from java.util.Date/.Calendar through ZonedDateTime (or OffsetDateTime) to the three `Local` types][6]][6]\r\n\r\n## `Instant`\r\n\r\nThe building block in java.time is an [`Instant`][7], a moment on the timeline in [UTC][8] with a resolution of [nanoseconds][9]. \r\n\r\nGenerally you should do much of your business logic in UTC. In such work, `Instant` will be used frequently. Pass around `Instant` objects, applying a time zone only for presentation to a user. When you *do* need to apply an offset or time zone, use the types covered further below.\r\n\r\n### From `java.util.Date` to `Instant`\r\n\r\nGiven that both `Instant` and `java.util.Date` are a moment on the timeline in UTC, we can easily move from a [`java.util.Date`][2] to an `Instant`. The old class has gained a new method, [`java.util.Date::toInstant`][10].\r\n\r\n    Instant instant = myUtilDate.toInstant();\r\n\r\nYou can go the other direction, from an `Instant` to a `java.util.Date`. But you may lose information about the fractional second. An `Instant` tracks [nanoseconds][9], for up to nine digits after the decimal place such as `2016-01-23T12:34:56.123456789Z`. Both java.util.Date &amp; .Calendar are limited to [milliseconds][11], for up to three digits after the decimal place such as `2016-01-23T12:34:56.123Z`. In this example going from `Instant` to `Date` means truncation of the `456789`. \r\n\r\n    java.util.Date myUtilDate = java.util.Date.from(instant);\r\n\r\n### From `java.util.Calendar` to `Instant`\r\n\r\nWhat about a [`java.util.Calendar`][3] instead of a `java.util.Date`?  Internal to the `Calendar` object, the date-time is tracked as a count of [milliseconds][11] from the [epoch reference date-time][12] of the first moment of 1970 in UTC (`1970-01-01T00:00:00.0Z`). So this value can be converted easily to an `Instant`.\r\n\r\n    Instant instant = myUtilCalendar.toInstant() ;\r\n\r\n### From `java.util.GregorianCalendar` to `ZonedDateTime`\r\n\r\nEven better, if your [`java.util.Calendar`][3] object is actually a [`java.util.GregorianCalendar`][13] you can easily go directly to a [`ZonedDateTime`][14]. This approach has the benefit of retaining the embedded time zone information. \r\n\r\n[Downcast][15] from the [interface][16] of `Calendar` to the [concrete class][17] of `GregorianCalendar`. Then call the [`toZonedDateTime`][18] and [`from`][19] methods to go back and forth. \r\n\r\n    if (myUtilCalendar instanceof GregorianCalendar) {\r\n        GregorianCalendar gregCal = (GregorianCalendar) myUtilCalendar; // Downcasting from the interface to the concrete class.\r\n        ZonedDateTime zdt = gregCal.toZonedDateTime();  // Create `ZonedDateTime` with same time zone info found in the `GregorianCalendar`\r\n    }\r\n\r\nGoing the other direction\r\n\r\n    java.util.Calendar myUtilCalendar = java.util.GregorianCalendar.from(zdt); // Produces an instant of `GregorianCalendar` which implements `Calendar` interface.\r\n\r\nAs discussed above, beware that you may be **losing information about the fraction of a second**. The [nanoseconds][9] in the java.time type (`ZonedDateTime`) gets truncated to [milliseconds][11] in the `.Calendar`/`.GregorianCalendar`.\r\n\r\n# `OffsetDateTime`\r\n\r\nFrom an `Instant` we can apply an [offset-from-UTC][20] to move into a [wall-clock time][21] for some locality. An offset is a number of hours, and possibly minutes and seconds, ahead of [UTC][8] (eastward) or behind UTC (westward). The [`ZoneOffset`][22] class represents this idea. The result is an [`OffsetDateTime`][23] object.\r\n\r\n    ZoneOffset offset = ZoneOffset.of(&quot;-04:00&quot;); \r\n    OffsetDateTime odt = OffsetDateTime.ofInstant(instant, zoneOffset);\r\n\r\nYou can go the other direction, from an `OffsetDateTime` to a `java.util.Date`. Extract an `Instant` and then proceed as we saw in code above. As discussed above, any [nanoseconds][9] get truncated to [milliseconds][11] (**data loss**).\r\n\r\n    java.util.Date myUtilDate = java.util.Date.from(odt.toInstant());\r\n\r\n# `ZonedDateTime`\r\n\r\nBetter yet, apply a full [time zone][24]. A time zone is an offset *plus* rules for handling anomalies such as [Daylight Saving Time (DST)][25]. \r\n\r\nApplying a [`ZoneId`][26] gets you a [`ZonedDateTime`][14] object. Use a [proper time zone name][27] (continent/region). Never use the 3-4 letter abbreviations commonly seen such as `EST` or `IST` as they are neither standardized nor unique.\r\n\r\n    ZoneId zoneId = ZoneId.of(&quot;America/Montreal&quot;);\r\n    ZonedDateTime zdt = ZonedDateTime.ofInstant(instant, zoneId);\r\n\r\nYou can go the other direction, from an `ZonedDateTime` to a `java.util.Date`. Extract an `Instant` and then proceed as we saw in code above. As discussed above, any [nanoseconds][9] get truncated to [milliseconds][11] (**data loss**).\r\n\r\n    java.util.Date myUtilDate = java.util.Date.from( zdt.toInstant() );\r\n\r\nAnd we saw further above that a `ZonedDateTime` may be converted to a `GregorianCalendar`.\r\n\r\n# `LocalDate`\r\n\r\nSometimes you may want a date-only value, without time-of-day and without time zone. For that, use a [`java.time.LocalDate`][28] object.\r\n\r\nSee this Question for more discussion, [Convert java.util.Date to java.time.LocalDate](https://stackoverflow.com/q/21242110/642706), especially [this Answer](https://stackoverflow.com/a/21242111/642706) written by the main man behind the invention of both Joda-Time and java.time.\r\n\r\nThe key is to go through a `ZonedDateTime` (as generated in code above). We need a time zone to determine a date. The date varies around the world, with a new day dawning earlier in the east. For example, after midnight in Paris is a new day while still yesterday in Montr&#233;al. So while a `LocalDate` does not *contain* a time zone, a time zone is required to *determine* a `LocalDate`.\r\n\r\n    LocalDate localDate = zdt.toLocalDate();\r\n\r\nConverting in the other direction from `LocalDate` to a date-time means inventing a time-of-day. You can choose any time-of-day that makes sense in your business scenario. For most people, the first moment of the day makes sense. You may be tempted to hard code that first moment as the time `00:00:00.0`. In some time zones, that time may not be valid as the first moment because of [Daylight Saving Time (DST)][25] or other anomalies. So let java.time determine the correct time with a call to [`atStartOfDay`][29].\r\n\r\n    ZonedDateTime zdt = localDate.atStartOfDay(zoneId);\r\n\r\n# `LocalTime`\r\n\r\nOn rare occasion you may want only a time-of-day without a date and without a time zone. This concept is represented by the [`LocalTime`][30] class. As discussed above with `LocalDate`, we need a time zone to determine a `LocalTime` even though the `LocalTime` object does not contain (does not remember) that time zone. So, again, we go through a `ZonedDateTime` object obtained from an `Instant` as seen above.\r\n\r\n    LocalTime localTime = zdt.toLocalTime();\r\n\r\n# `LocalDateTime`\r\n\r\nAs with the other two `Local` types, a [`LocalDateTime`][31] has no time zone nor offset assigned. As such **you may rarely use** this. It gives you a rough idea of a date-time but is *not* a point on the timeline. Use this if you mean some general date and some time that might be applied to a time zone. \r\n\r\nFor example, Christmas starts this year would be `2016-12-25T00:00:00.0`. Note the lack of any offset or time zone in that textual representation of a `LocalDateTime`. Christmas starts sooner in Delhi India than it does in Paris France, and later still in Montr&#233;al Qu&#233;bec Canada. Applying each of those areas time zone would yield a different moment on the timeline.\r\n\r\n    LocalDateTime ldt = zdt.toLocalDateTime();\r\n\r\n\r\n[![enter image description here][32]][32]\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html), [`Calendar`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html), &amp; [`SimpleDateFormat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes.\r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n  - Java 9 adds some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n  - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n  - Later versions of Android bundle implementations of the *java.time* classes.\r\n  - For earlier Android (&lt;26), the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above). See [*How to use ThreeTenABP*](http://stackoverflow.com/q/38922754/642706).\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/util/Date.html\r\n  [3]: http://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html\r\n  [4]: https://stackoverflow.com/q/1969442/642706\r\n  [5]: http://www.joda.org/joda-time/\r\n  [6]: http://i.stack.imgur.com/5yzFN.png\r\n  [7]: http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\r\n  [8]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [9]: https://en.wikipedia.org/wiki/Nanosecond\r\n  [10]: http://docs.oracle.com/javase/8/docs/api/java/util/Date.html#toInstant--\r\n  [11]: https://en.wikipedia.org/wiki/Millisecond\r\n  [12]: https://en.wikipedia.org/wiki/Epoch_(reference_date)\r\n  [13]: http://docs.oracle.com/javase/8/docs/api/java/util/GregorianCalendar.html\r\n  [14]: http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\r\n  [15]: https://en.wikipedia.org/wiki/Downcasting\r\n  [16]: https://en.wikipedia.org/wiki/Protocol_(object-oriented_programming)\r\n  [17]: https://en.wikipedia.org/wiki/Class_(computer_programming)#Abstract_and_concrete\r\n  [18]: http://docs.oracle.com/javase/8/docs/api/java/util/GregorianCalendar.html#toZonedDateTime--\r\n  [19]: http://docs.oracle.com/javase/8/docs/api/java/util/GregorianCalendar.html#from-java.time.ZonedDateTime-\r\n  [20]: https://en.wikipedia.org/wiki/UTC_offset\r\n  [21]: https://en.wikipedia.org/wiki/Wall_clock_time\r\n  [22]: http://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html\r\n  [23]: http://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\r\n  [24]: https://en.wikipedia.org/wiki/Time_zone\r\n  [25]: https://en.wikipedia.org/wiki/Daylight_saving_time\r\n  [26]: http://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html\r\n  [27]: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\r\n  [28]: http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\r\n  [29]: http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#atStartOfDay-java.time.ZoneId-\r\n  [30]: http://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html\r\n  [31]: http://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\r\n  [32]: https://i.stack.imgur.com/HLHi7.png","title":"Convert java.util.Date to what java.time type?","body":"<p>Yes, you definitely should be using the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> framework whenever possible.</p>\n<h1>Avoid old date-time classes</h1>\n<p>The old date-time classes including <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>java.util.Calendar</code></a>, and <code>java.text.SimpleDateFormat</code> and such have proven to be <a href=\"https://stackoverflow.com/q/1969442/642706\">poorly designed, confusing, and troublesome</a>. Avoid them where you can. But when you must interoperate with these old types, you can convert between old and new.</p>\n<p>Read on for a basic introduction, somewhat over-simplified, to orient you in moving back-and-forth between the old and new date-time classes.</p>\n<h1>java.time</h1>\n<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> framework is defined by <a href=\"http://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>, inspired by the highly-successful <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\">Joda-Time</a> library, and extended by the <a href=\"http://www.threeten.org/threeten-extra/\" rel=\"noreferrer\">ThreeTen-Extra</a> project. The bulk of the functionality was back-ported to Java 6 &amp; 7 in the <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\">ThreeTen-Backport</a> project, with a further adaptation for Android in the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\">ThreeTenABP</a> project.</p>\n<p>What java.time type matches <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>? Well, a <code>java.util.Date</code> object basically represents a moment on the timeline in UTC, a combination of a date and a time-of-day. We can translate that to any of several types in java.time. Each is discussed below. Note that some new methods have been added to the old date-time classes to facilitate conversions.</p>\n<p><a href=\"https://i.stack.imgur.com/5yzFN.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/5yzFN.png\" alt=\"diagram of converting from java.util.Date/.Calendar through ZonedDateTime (or OffsetDateTime) to the three Local types\" /></a></p>\n<h2><code>Instant</code></h2>\n<p>The building block in java.time is an <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>Instant</code></a>, a moment on the timeline in <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a> with a resolution of <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"noreferrer\">nanoseconds</a>.</p>\n<p>Generally you should do much of your business logic in UTC. In such work, <code>Instant</code> will be used frequently. Pass around <code>Instant</code> objects, applying a time zone only for presentation to a user. When you <em>do</em> need to apply an offset or time zone, use the types covered further below.</p>\n<h3>From <code>java.util.Date</code> to <code>Instant</code></h3>\n<p>Given that both <code>Instant</code> and <code>java.util.Date</code> are a moment on the timeline in UTC, we can easily move from a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a> to an <code>Instant</code>. The old class has gained a new method, <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Date.html#toInstant--\" rel=\"noreferrer\"><code>java.util.Date::toInstant</code></a>.</p>\n<pre><code>Instant instant = myUtilDate.toInstant();\n</code></pre>\n<p>You can go the other direction, from an <code>Instant</code> to a <code>java.util.Date</code>. But you may lose information about the fractional second. An <code>Instant</code> tracks <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"noreferrer\">nanoseconds</a>, for up to nine digits after the decimal place such as <code>2016-01-23T12:34:56.123456789Z</code>. Both java.util.Date &amp; .Calendar are limited to <a href=\"https://en.wikipedia.org/wiki/Millisecond\" rel=\"noreferrer\">milliseconds</a>, for up to three digits after the decimal place such as <code>2016-01-23T12:34:56.123Z</code>. In this example going from <code>Instant</code> to <code>Date</code> means truncation of the <code>456789</code>.</p>\n<pre><code>java.util.Date myUtilDate = java.util.Date.from(instant);\n</code></pre>\n<h3>From <code>java.util.Calendar</code> to <code>Instant</code></h3>\n<p>What about a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>java.util.Calendar</code></a> instead of a <code>java.util.Date</code>?  Internal to the <code>Calendar</code> object, the date-time is tracked as a count of <a href=\"https://en.wikipedia.org/wiki/Millisecond\" rel=\"noreferrer\">milliseconds</a> from the <a href=\"https://en.wikipedia.org/wiki/Epoch_(reference_date)\" rel=\"noreferrer\">epoch reference date-time</a> of the first moment of 1970 in UTC (<code>1970-01-01T00:00:00.0Z</code>). So this value can be converted easily to an <code>Instant</code>.</p>\n<pre><code>Instant instant = myUtilCalendar.toInstant() ;\n</code></pre>\n<h3>From <code>java.util.GregorianCalendar</code> to <code>ZonedDateTime</code></h3>\n<p>Even better, if your <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Calendar.html\" rel=\"noreferrer\"><code>java.util.Calendar</code></a> object is actually a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/GregorianCalendar.html\" rel=\"noreferrer\"><code>java.util.GregorianCalendar</code></a> you can easily go directly to a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"noreferrer\"><code>ZonedDateTime</code></a>. This approach has the benefit of retaining the embedded time zone information.</p>\n<p><a href=\"https://en.wikipedia.org/wiki/Downcasting\" rel=\"noreferrer\">Downcast</a> from the <a href=\"https://en.wikipedia.org/wiki/Protocol_(object-oriented_programming)\" rel=\"noreferrer\">interface</a> of <code>Calendar</code> to the <a href=\"https://en.wikipedia.org/wiki/Class_(computer_programming)#Abstract_and_concrete\" rel=\"noreferrer\">concrete class</a> of <code>GregorianCalendar</code>. Then call the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/GregorianCalendar.html#toZonedDateTime--\" rel=\"noreferrer\"><code>toZonedDateTime</code></a> and <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/GregorianCalendar.html#from-java.time.ZonedDateTime-\" rel=\"noreferrer\"><code>from</code></a> methods to go back and forth.</p>\n<pre><code>if (myUtilCalendar instanceof GregorianCalendar) {\n    GregorianCalendar gregCal = (GregorianCalendar) myUtilCalendar; // Downcasting from the interface to the concrete class.\n    ZonedDateTime zdt = gregCal.toZonedDateTime();  // Create `ZonedDateTime` with same time zone info found in the `GregorianCalendar`\n}\n</code></pre>\n<p>Going the other direction</p>\n<pre><code>java.util.Calendar myUtilCalendar = java.util.GregorianCalendar.from(zdt); // Produces an instant of `GregorianCalendar` which implements `Calendar` interface.\n</code></pre>\n<p>As discussed above, beware that you may be <strong>losing information about the fraction of a second</strong>. The <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"noreferrer\">nanoseconds</a> in the java.time type (<code>ZonedDateTime</code>) gets truncated to <a href=\"https://en.wikipedia.org/wiki/Millisecond\" rel=\"noreferrer\">milliseconds</a> in the <code>.Calendar</code>/<code>.GregorianCalendar</code>.</p>\n<h1><code>OffsetDateTime</code></h1>\n<p>From an <code>Instant</code> we can apply an <a href=\"https://en.wikipedia.org/wiki/UTC_offset\" rel=\"noreferrer\">offset-from-UTC</a> to move into a <a href=\"https://en.wikipedia.org/wiki/Wall_clock_time\" rel=\"noreferrer\">wall-clock time</a> for some locality. An offset is a number of hours, and possibly minutes and seconds, ahead of <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a> (eastward) or behind UTC (westward). The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZoneOffset.html\" rel=\"noreferrer\"><code>ZoneOffset</code></a> class represents this idea. The result is an <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\" rel=\"noreferrer\"><code>OffsetDateTime</code></a> object.</p>\n<pre><code>ZoneOffset offset = ZoneOffset.of(&quot;-04:00&quot;); \nOffsetDateTime odt = OffsetDateTime.ofInstant(instant, zoneOffset);\n</code></pre>\n<p>You can go the other direction, from an <code>OffsetDateTime</code> to a <code>java.util.Date</code>. Extract an <code>Instant</code> and then proceed as we saw in code above. As discussed above, any <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"noreferrer\">nanoseconds</a> get truncated to <a href=\"https://en.wikipedia.org/wiki/Millisecond\" rel=\"noreferrer\">milliseconds</a> (<strong>data loss</strong>).</p>\n<pre><code>java.util.Date myUtilDate = java.util.Date.from(odt.toInstant());\n</code></pre>\n<h1><code>ZonedDateTime</code></h1>\n<p>Better yet, apply a full <a href=\"https://en.wikipedia.org/wiki/Time_zone\" rel=\"noreferrer\">time zone</a>. A time zone is an offset <em>plus</em> rules for handling anomalies such as <a href=\"https://en.wikipedia.org/wiki/Daylight_saving_time\" rel=\"noreferrer\">Daylight Saving Time (DST)</a>.</p>\n<p>Applying a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZoneId.html\" rel=\"noreferrer\"><code>ZoneId</code></a> gets you a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html\" rel=\"noreferrer\"><code>ZonedDateTime</code></a> object. Use a <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"noreferrer\">proper time zone name</a> (continent/region). Never use the 3-4 letter abbreviations commonly seen such as <code>EST</code> or <code>IST</code> as they are neither standardized nor unique.</p>\n<pre><code>ZoneId zoneId = ZoneId.of(&quot;America/Montreal&quot;);\nZonedDateTime zdt = ZonedDateTime.ofInstant(instant, zoneId);\n</code></pre>\n<p>You can go the other direction, from an <code>ZonedDateTime</code> to a <code>java.util.Date</code>. Extract an <code>Instant</code> and then proceed as we saw in code above. As discussed above, any <a href=\"https://en.wikipedia.org/wiki/Nanosecond\" rel=\"noreferrer\">nanoseconds</a> get truncated to <a href=\"https://en.wikipedia.org/wiki/Millisecond\" rel=\"noreferrer\">milliseconds</a> (<strong>data loss</strong>).</p>\n<pre><code>java.util.Date myUtilDate = java.util.Date.from( zdt.toInstant() );\n</code></pre>\n<p>And we saw further above that a <code>ZonedDateTime</code> may be converted to a <code>GregorianCalendar</code>.</p>\n<h1><code>LocalDate</code></h1>\n<p>Sometimes you may want a date-only value, without time-of-day and without time zone. For that, use a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>java.time.LocalDate</code></a> object.</p>\n<p>See this Question for more discussion, <a href=\"https://stackoverflow.com/q/21242110/642706\">Convert java.util.Date to java.time.LocalDate</a>, especially <a href=\"https://stackoverflow.com/a/21242111/642706\">this Answer</a> written by the main man behind the invention of both Joda-Time and java.time.</p>\n<p>The key is to go through a <code>ZonedDateTime</code> (as generated in code above). We need a time zone to determine a date. The date varies around the world, with a new day dawning earlier in the east. For example, after midnight in Paris is a new day while still yesterday in Montral. So while a <code>LocalDate</code> does not <em>contain</em> a time zone, a time zone is required to <em>determine</em> a <code>LocalDate</code>.</p>\n<pre><code>LocalDate localDate = zdt.toLocalDate();\n</code></pre>\n<p>Converting in the other direction from <code>LocalDate</code> to a date-time means inventing a time-of-day. You can choose any time-of-day that makes sense in your business scenario. For most people, the first moment of the day makes sense. You may be tempted to hard code that first moment as the time <code>00:00:00.0</code>. In some time zones, that time may not be valid as the first moment because of <a href=\"https://en.wikipedia.org/wiki/Daylight_saving_time\" rel=\"noreferrer\">Daylight Saving Time (DST)</a> or other anomalies. So let java.time determine the correct time with a call to <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDate.html#atStartOfDay-java.time.ZoneId-\" rel=\"noreferrer\"><code>atStartOfDay</code></a>.</p>\n<pre><code>ZonedDateTime zdt = localDate.atStartOfDay(zoneId);\n</code></pre>\n<h1><code>LocalTime</code></h1>\n<p>On rare occasion you may want only a time-of-day without a date and without a time zone. This concept is represented by the <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalTime.html\" rel=\"noreferrer\"><code>LocalTime</code></a> class. As discussed above with <code>LocalDate</code>, we need a time zone to determine a <code>LocalTime</code> even though the <code>LocalTime</code> object does not contain (does not remember) that time zone. So, again, we go through a <code>ZonedDateTime</code> object obtained from an <code>Instant</code> as seen above.</p>\n<pre><code>LocalTime localTime = zdt.toLocalTime();\n</code></pre>\n<h1><code>LocalDateTime</code></h1>\n<p>As with the other two <code>Local</code> types, a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"noreferrer\"><code>LocalDateTime</code></a> has no time zone nor offset assigned. As such <strong>you may rarely use</strong> this. It gives you a rough idea of a date-time but is <em>not</em> a point on the timeline. Use this if you mean some general date and some time that might be applied to a time zone.</p>\n<p>For example, Christmas starts this year would be <code>2016-12-25T00:00:00.0</code>. Note the lack of any offset or time zone in that textual representation of a <code>LocalDateTime</code>. Christmas starts sooner in Delhi India than it does in Paris France, and later still in Montral Qubec Canada. Applying each of those areas time zone would yield a different moment on the timeline.</p>\n<pre><code>LocalDateTime ldt = zdt.toLocalDateTime();\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/HLHi7.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/HLHi7.png\" alt=\"enter image description here\" /></a></p>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.</li>\n<li>Java 9 adds some minor features and fixes.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a></li>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a></li>\n<li>Later versions of Android bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above). See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP</em></a>.</li>\n</ul>\n"}],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22413,"favorite_count":0,"down_vote_count":0,"up_vote_count":52,"accepted_answer_id":36639155,"answer_count":1,"score":52,"last_activity_date":1647527089,"creation_date":1460699402,"question_id":36639154,"body_markdown":"I have a [`java.util.Date`][1] object, or a `java.util.Calendar` object. How do I convert that to the right type in [java.time][2] framework? \r\n\r\nI have heard that we should now be doing the bulk of our business logic with java.time types. When working with old code not yet updated for java.time I need to be able to convert back and forth. What types map to `java.util.Date` or `java.util.Calendar`?\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/Date.html\r\n  [2]: http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html","title":"Convert java.util.Date to what java.time type?","body":"<p>I have a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a> object, or a <code>java.util.Calendar</code> object. How do I convert that to the right type in <a href=\"http://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> framework? </p>\n\n<p>I have heard that we should now be doing the bulk of our business logic with java.time types. When working with old code not yet updated for java.time I need to be able to convert back and forth. What types map to <code>java.util.Date</code> or <code>java.util.Calendar</code>?</p>\n"},{"tags":["java","maven","compiler-errors","maven-plugin"],"comments":[{"owner":{"account_id":8616011,"reputation":2950,"user_id":6452829,"display_name":"Mario Santini"},"score":0,"creation_date":1623826738,"post_id":67997715,"comment_id":120185211,"body_markdown":"Reading from this https://stackoverflow.com/questions/38882080/specifying-java-version-in-maven-differences-between-properties-and-compiler-p I think you should remove the _release_ tag.","body":"Reading from this <a href=\"https://stackoverflow.com/questions/38882080/specifying-java-version-in-maven-differences-between-properties-and-compiler-p\" title=\"specifying java version in maven differences between properties and compiler p\">stackoverflow.com/questions/38882080/&hellip;</a> I think you should remove the <i>release</i> tag."},{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":0,"creation_date":1623827209,"post_id":67997715,"comment_id":120185410,"body_markdown":"I would write `16` for `source` also.","body":"I would write <code>16</code> for <code>source</code> also."},{"owner":{"account_id":8264189,"reputation":183,"user_id":6214401,"accept_rate":60,"display_name":"tchristofferson"},"score":0,"creation_date":1623827861,"post_id":67997715,"comment_id":120185660,"body_markdown":"@JFabianMeier I get the same error when I set the source to 16","body":"@JFabianMeier I get the same error when I set the source to 16"},{"owner":{"account_id":8264189,"reputation":183,"user_id":6214401,"accept_rate":60,"display_name":"tchristofferson"},"score":0,"creation_date":1623827884,"post_id":67997715,"comment_id":120185669,"body_markdown":"@MarioSantini I get the same error when I remove the release tag.","body":"@MarioSantini I get the same error when I remove the release tag."},{"owner":{"account_id":1042328,"reputation":7972,"user_id":1048093,"accept_rate":75,"display_name":"wemu"},"score":1,"creation_date":1623828665,"post_id":67997715,"comment_id":120185942,"body_markdown":"what does &quot;mvn -v&quot; say what jdk you are running? Maven needs to run with jdk 16 itself.","body":"what does &quot;mvn -v&quot; say what jdk you are running? Maven needs to run with jdk 16 itself."},{"owner":{"account_id":8264189,"reputation":183,"user_id":6214401,"accept_rate":60,"display_name":"tchristofferson"},"score":0,"creation_date":1623830137,"post_id":67997715,"comment_id":120186537,"body_markdown":"@wemu It says java 16.0.1, which is also set to my Java home","body":"@wemu It says java 16.0.1, which is also set to my Java home"},{"owner":{"account_id":1042328,"reputation":7972,"user_id":1048093,"accept_rate":75,"display_name":"wemu"},"score":1,"creation_date":1623833241,"post_id":67997715,"comment_id":120187805,"body_markdown":"I think the Shade plugin in that version does not yet support Java 16: https://issues.apache.org/jira/browse/MSHADE-379 - you would need to switch to a snapshot version until there is a release.","body":"I think the Shade plugin in that version does not yet support Java 16: <a href=\"https://issues.apache.org/jira/browse/MSHADE-379\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/MSHADE-379</a> - you would need to switch to a snapshot version until there is a release."},{"owner":{"account_id":8264189,"reputation":183,"user_id":6214401,"accept_rate":60,"display_name":"tchristofferson"},"score":0,"creation_date":1623835059,"post_id":67997715,"comment_id":120188611,"body_markdown":"@wemu Do you know what repository has the snapshots for the maven shade plugin?","body":"@wemu Do you know what repository has the snapshots for the maven shade plugin?"},{"owner":{"account_id":1042328,"reputation":7972,"user_id":1048093,"accept_rate":75,"display_name":"wemu"},"score":1,"creation_date":1623842304,"post_id":67997715,"comment_id":120191705,"body_markdown":"the apache repository should have it: https://repository.apache.org/content/repositories/snapshots/","body":"the apache repository should have it: <a href=\"https://repository.apache.org/content/repositories/snapshots/\" rel=\"nofollow noreferrer\">repository.apache.org/content/repositories/snapshots</a>"}],"answers":[{"tags":[],"owner":{"account_id":8264189,"reputation":183,"user_id":6214401,"accept_rate":60,"display_name":"tchristofferson"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1623870098,"creation_date":1623870098,"answer_id":68008625,"question_id":67997715,"body_markdown":"@wemu was correct that the maven shade plugin doesn&#39;t yet support Java 16. To solve the issue I had to use a snapshot version of the maven shade plugin (3.3.0-SNAPSHOT) since 3.2.4 doesn&#39;t support Java 16 yet.","title":"Maven compiler plugin Unsupported class file major version 60","body":"<p>@wemu was correct that the maven shade plugin doesn't yet support Java 16. To solve the issue I had to use a snapshot version of the maven shade plugin (3.3.0-SNAPSHOT) since 3.2.4 doesn't support Java 16 yet.</p>\n"},{"tags":[],"owner":{"account_id":7917432,"reputation":379,"user_id":5979442,"accept_rate":57,"display_name":"Noniq"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624459044,"creation_date":1624353176,"answer_id":68080766,"question_id":67997715,"body_markdown":"To elaborate on the answer @tchristofferson has given, I got it working by setting snapshots to true in my pluginRepository:\r\n\r\n    &lt;pluginRepositories&gt;\r\n        &lt;pluginRepository&gt;\r\n            &lt;releases&gt;\r\n                &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\r\n            &lt;/releases&gt;\r\n            &lt;snapshots&gt;\r\n                &lt;enabled&gt;true&lt;/enabled&gt;\r\n            &lt;/snapshots&gt;\r\n            &lt;id&gt;central&lt;/id&gt;\r\n            &lt;name&gt;Maven Plugin Repository&lt;/name&gt;\r\n            &lt;url&gt;http://repo1.maven.org/maven2&lt;/url&gt;\r\n        &lt;/pluginRepository&gt;\r\n    &lt;/pluginRepositories&gt;\r\n\r\nIf you don&#39;t have the above in your `pom.xml`, just add it somewhere within `&lt;project&gt;&lt;/project&gt;`. \r\nAnd then change the version of the maven-shade-plugin to this:\r\n\r\n    &lt;version&gt;3.3.0-SNAPSHOT&lt;/version&gt;","title":"Maven compiler plugin Unsupported class file major version 60","body":"<p>To elaborate on the answer @tchristofferson has given, I got it working by setting snapshots to true in my pluginRepository:</p>\n<pre><code>&lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n        &lt;releases&gt;\n            &lt;updatePolicy&gt;never&lt;/updatePolicy&gt;\n        &lt;/releases&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n        &lt;id&gt;central&lt;/id&gt;\n        &lt;name&gt;Maven Plugin Repository&lt;/name&gt;\n        &lt;url&gt;http://repo1.maven.org/maven2&lt;/url&gt;\n    &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;\n</code></pre>\n<p>If you don't have the above in your <code>pom.xml</code>, just add it somewhere within <code>&lt;project&gt;&lt;/project&gt;</code>.\nAnd then change the version of the maven-shade-plugin to this:</p>\n<pre><code>&lt;version&gt;3.3.0-SNAPSHOT&lt;/version&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2373041,"reputation":584,"user_id":2077197,"display_name":"Rocologo"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1625404274,"creation_date":1625404274,"answer_id":68245055,"question_id":67997715,"body_markdown":"I had to use this before I could use 3.3.0-SNAPSHOT\r\n\r\n    &lt;pluginRepositories&gt;\r\n\t\t&lt;pluginRepository&gt;\r\n\t\t\t&lt;id&gt;maven-snapshots&lt;/id&gt;\r\n\t\t\t&lt;url&gt;https://repository.apache.org/content/repositories/snapshots/&lt;/url&gt;\r\n\t\t&lt;/pluginRepository&gt;\r\n\t&lt;/pluginRepositories&gt;","title":"Maven compiler plugin Unsupported class file major version 60","body":"<p>I had to use this before I could use 3.3.0-SNAPSHOT</p>\n<pre><code>&lt;pluginRepositories&gt;\n    &lt;pluginRepository&gt;\n        &lt;id&gt;maven-snapshots&lt;/id&gt;\n        &lt;url&gt;https://repository.apache.org/content/repositories/snapshots/&lt;/url&gt;\n    &lt;/pluginRepository&gt;\n&lt;/pluginRepositories&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2904275,"reputation":12430,"user_id":2490074,"accept_rate":62,"display_name":"Sarvar Nishonboyev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641226276,"creation_date":1641226276,"answer_id":70568501,"question_id":67997715,"body_markdown":"In my case, the latest version of maven was installed on my machine, and code was intended for the java 11 version. So I have used an older version of maven and the error didn&#39;t appear. ","title":"Maven compiler plugin Unsupported class file major version 60","body":"<p>In my case, the latest version of maven was installed on my machine, and code was intended for the java 11 version. So I have used an older version of maven and the error didn't appear.</p>\n"},{"tags":[],"owner":{"account_id":389069,"reputation":108,"user_id":748325,"display_name":"Kenneth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647527088,"creation_date":1647527088,"answer_id":71513999,"question_id":67997715,"body_markdown":"FWIW...\r\n\r\nYou could also override the version of ASM, in order to make this work with maven-shade-plugin 3.2.x, like so:\r\n\r\n```\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n  &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n  &lt;version&gt;3.2.4&lt;/version&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\r\n      &lt;artifactId&gt;asm&lt;/artifactId&gt;\r\n      &lt;version&gt;9.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\r\n      &lt;artifactId&gt;asm-commons&lt;/artifactId&gt;\r\n      &lt;version&gt;9.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;/dependencies&gt;\r\n  ...\r\n&lt;/plugin&gt;\r\n\r\n```\r\n\r\nReferences:\r\nhttps://issues.apache.org/jira/browse/MSHADE-407 ","title":"Maven compiler plugin Unsupported class file major version 60","body":"<p>FWIW...</p>\n<p>You could also override the version of ASM, in order to make this work with maven-shade-plugin 3.2.x, like so:</p>\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n  &lt;version&gt;3.2.4&lt;/version&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\n      &lt;artifactId&gt;asm&lt;/artifactId&gt;\n      &lt;version&gt;9.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.ow2.asm&lt;/groupId&gt;\n      &lt;artifactId&gt;asm-commons&lt;/artifactId&gt;\n      &lt;version&gt;9.2&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  ...\n&lt;/plugin&gt;\n\n</code></pre>\n<p>References:\n<a href=\"https://issues.apache.org/jira/browse/MSHADE-407\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/MSHADE-407</a></p>\n"}],"owner":{"account_id":8264189,"reputation":183,"user_id":6214401,"accept_rate":60,"display_name":"tchristofferson"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20464,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":68008625,"answer_count":5,"score":2,"last_activity_date":1647527088,"creation_date":1623826233,"question_id":67997715,"body_markdown":"I am updating a Spigot (Minecraft) plugin and the newest version of Spigot requires Java 16. In my pom I changed the maven compiler plugin target to 16 and the source is still 1.8. Now I am getting the following errors:\r\n\r\n    Failed to execute goal org.apache.maven.plugins:maven-shade-plugin:3.2.4:shade (default) on project Plugin: Error creating shaded jar: Problem shading JAR C:\\Users\\Trent\\workspace\\Stocks\\Plugin\\target\\Plugin-1.0-SNAPSHOT.jar entry com/tchristofferson/stocks/commands/StockbrokerCommand.class: java.lang.IllegalArgumentException: Unsupported class file major version 60\r\npom:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.tchristofferson&lt;/groupId&gt;\r\n    &lt;artifactId&gt;Stocks&lt;/artifactId&gt;\r\n    &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;modules&gt;\r\n        &lt;module&gt;API&lt;/module&gt;\r\n        &lt;module&gt;Plugin&lt;/module&gt;\r\n    &lt;/modules&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.8.1&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;source&gt;1.8&lt;/source&gt;\r\n                    &lt;target&gt;16&lt;/target&gt;\r\n                    &lt;release&gt;16&lt;/release&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\n    &lt;distributionManagement&gt;\r\n        &lt;snapshotRepository&gt;\r\n            &lt;id&gt;ossrh&lt;/id&gt;\r\n            &lt;url&gt;https://oss.sonatype.org/content/repositories/snapshots&lt;/url&gt;\r\n        &lt;/snapshotRepository&gt;\r\n        &lt;repository&gt;\r\n            &lt;id&gt;ossrh&lt;/id&gt;\r\n            &lt;url&gt;https://oss.sonatype.org/service/local/staging/deploy/maven2/&lt;/url&gt;\r\n        &lt;/repository&gt;\r\n    &lt;/distributionManagement&gt;\r\n\r\n&lt;/project&gt;","title":"Maven compiler plugin Unsupported class file major version 60","body":"<p>I am updating a Spigot (Minecraft) plugin and the newest version of Spigot requires Java 16. In my pom I changed the maven compiler plugin target to 16 and the source is still 1.8. Now I am getting the following errors:</p>\n<pre><code>Failed to execute goal org.apache.maven.plugins:maven-shade-plugin:3.2.4:shade (default) on project Plugin: Error creating shaded jar: Problem shading JAR C:\\Users\\Trent\\workspace\\Stocks\\Plugin\\target\\Plugin-1.0-SNAPSHOT.jar entry com/tchristofferson/stocks/commands/StockbrokerCommand.class: java.lang.IllegalArgumentException: Unsupported class file major version 60\n</code></pre>\n<p>pom:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n</code></pre>\n<p>\n4.0.0</p>\n<pre><code>&lt;groupId&gt;com.tchristofferson&lt;/groupId&gt;\n&lt;artifactId&gt;Stocks&lt;/artifactId&gt;\n&lt;packaging&gt;pom&lt;/packaging&gt;\n&lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n&lt;modules&gt;\n    &lt;module&gt;API&lt;/module&gt;\n    &lt;module&gt;Plugin&lt;/module&gt;\n&lt;/modules&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.8.1&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;source&gt;1.8&lt;/source&gt;\n                &lt;target&gt;16&lt;/target&gt;\n                &lt;release&gt;16&lt;/release&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n\n&lt;distributionManagement&gt;\n    &lt;snapshotRepository&gt;\n        &lt;id&gt;ossrh&lt;/id&gt;\n        &lt;url&gt;https://oss.sonatype.org/content/repositories/snapshots&lt;/url&gt;\n    &lt;/snapshotRepository&gt;\n    &lt;repository&gt;\n        &lt;id&gt;ossrh&lt;/id&gt;\n        &lt;url&gt;https://oss.sonatype.org/service/local/staging/deploy/maven2/&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/distributionManagement&gt;\n</code></pre>\n\n"},{"tags":["java","netty"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1647289921,"post_id":71471346,"comment_id":126329903,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"answers":[{"tags":[],"owner":{"account_id":1075943,"reputation":23262,"user_id":1074097,"display_name":"Norman Maurer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647526973,"creation_date":1647526973,"answer_id":71513969,"question_id":71471346,"body_markdown":"It is not easy to give general advice without looking at a profile. That said if your logic only takes a few microseconds the answer is most likely that you can just run it in the `EventLoop` directly. ","title":"Netty Server Extra EventExecutorGroup for application handler","body":"<p>It is not easy to give general advice without looking at a profile. That said if your logic only takes a few microseconds the answer is most likely that you can just run it in the <code>EventLoop</code> directly.</p>\n"}],"owner":{"account_id":24422841,"reputation":110,"user_id":18464679,"display_name":"ubw"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71513969,"answer_count":1,"score":0,"last_activity_date":1647526973,"creation_date":1647276362,"question_id":71471346,"body_markdown":"I&#39;m writing an application server in Java using Netty. I know that long-running tasks should not be executed on the I/O EventLoopGroup threads. Instead, an extra EventExecutorGroup should be assigned to the application handler.\r\n\r\nI benchmarked my application and found out that business logic tasks take several hundred microseconds at max. Now I&#39;m wondering whether or not I should really use another thread pool for business logic. Can somebody tell me which order of magnitude &quot;long-running&quot; refers to? Maybe someone has already done benchmarks concerning this decision and can give me some advice regarding this question?","title":"Netty Server Extra EventExecutorGroup for application handler","body":"<p>I'm writing an application server in Java using Netty. I know that long-running tasks should not be executed on the I/O EventLoopGroup threads. Instead, an extra EventExecutorGroup should be assigned to the application handler.</p>\n<p>I benchmarked my application and found out that business logic tasks take several hundred microseconds at max. Now I'm wondering whether or not I should really use another thread pool for business logic. Can somebody tell me which order of magnitude &quot;long-running&quot; refers to? Maybe someone has already done benchmarks concerning this decision and can give me some advice regarding this question?</p>\n"},{"tags":["java","json","spring","get"],"answers":[{"tags":[],"owner":{"account_id":13038047,"reputation":476,"user_id":9422268,"display_name":"Joonseo Lee"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647526621,"creation_date":1647526621,"answer_id":71513868,"question_id":71513485,"body_markdown":"you didn&#39;t access dao in the method `findWinner`.  \r\nrestaurants instance has just created without accessing dao.\r\n\r\n```java\r\n@Transactional(readOnly = true)\r\n    public Restaurant findWinner(Integer count) {\r\n        List&lt;Restaurant&gt; restaurants = new ArrayList&lt;&gt;();\r\n        \r\n        for (Restaurant restaurant: restaurants) {\r\n            if(restaurant.getCount().equals(3)) {\r\n                return restaurant;\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n```","title":"Return key value of a JSON request in Spring","body":"<p>you didn't access dao in the method <code>findWinner</code>.<br />\nrestaurants instance has just created without accessing dao.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional(readOnly = true)\n    public Restaurant findWinner(Integer count) {\n        List&lt;Restaurant&gt; restaurants = new ArrayList&lt;&gt;();\n        \n        for (Restaurant restaurant: restaurants) {\n            if(restaurant.getCount().equals(3)) {\n                return restaurant;\n            }\n        }\n        return null;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10470529,"reputation":365,"user_id":7718524,"display_name":"Ketan Suthar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647526821,"creation_date":1647526821,"answer_id":71513934,"question_id":71513485,"body_markdown":"because in the find winner method you have initialized restaurants with an empty array list.\r\nIt should be like this.\r\n\r\n    @Transactional(readOnly = true)\r\n    public Restaurant findWinner(Integer count) {\r\n        List&lt;Restaurant&gt; restaurants = repository.findAll();\r\n        \r\n        for (Restaurant restaurant: restaurants) {\r\n            if(restaurant.getCount().equals(3)) {\r\n                return restaurant;\r\n            }\r\n        }\r\n        return null;\r\n    }","title":"Return key value of a JSON request in Spring","body":"<p>because in the find winner method you have initialized restaurants with an empty array list.\nIt should be like this.</p>\n<pre><code>@Transactional(readOnly = true)\npublic Restaurant findWinner(Integer count) {\n    List&lt;Restaurant&gt; restaurants = repository.findAll();\n    \n    for (Restaurant restaurant: restaurants) {\n        if(restaurant.getCount().equals(3)) {\n            return restaurant;\n        }\n    }\n    return null;\n}\n</code></pre>\n"}],"owner":{"account_id":20654829,"reputation":55,"user_id":15240169,"display_name":"Bruno Machado"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71513868,"answer_count":2,"score":1,"last_activity_date":1647526821,"creation_date":1647525050,"question_id":71513485,"body_markdown":"I&#39;m trying to create a route to perform a GET Request to /winner to show the restaurants that had the count of 3 votes in the JSON, but every time I do the GET, it returns the value of null instead of the value I would like.\r\n\r\nI was expecting something like that:\r\n\r\n    {\r\n        &quot;id&quot;: 1,\r\n        &quot;restaurant&quot;: &quot;Burger King&quot;,\r\n        &quot;address&quot;: &quot;Av. Ipiranga, 1600&quot;,\r\n        &quot;website&quot;: &quot;https://www.burgerking.com.br/&quot;,\r\n        &quot;description&quot;: &quot;Rede de fast-food famosa com hamb&#250;rgueres grelhados, batata frita e milk-shakes.&quot;,\r\n        &quot;count&quot;: 3\r\n    }\r\n\r\nInstead that, I&#39;m just getting an empty JSON with the null value.\r\nHere are the classes I&#39;m using:\r\n\r\n**Restaurant.java**\r\n\r\n    package com.dbserver.restaurantes.entities;\r\n    \r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    \r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.OneToMany;\r\n    import javax.persistence.Table;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;db_restaurants&quot;)\r\n    public class Restaurant {\r\n    \r\n    \t@Id\r\n    \t@GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    \tprivate Long id;\r\n    \tprivate String restaurant;\r\n    \tprivate String address;\r\n    \tprivate String website;\r\n    \tprivate String description;\r\n    \tprivate Integer count;\r\n    \r\n    \t@OneToMany(mappedBy = &quot;id.restaurant&quot;)\r\n    \tprivate Set&lt;Vote&gt; votes = new HashSet&lt;&gt;();\r\n    \r\n    \tpublic Restaurant() {\r\n    \t}\r\n    \r\n    \tpublic Restaurant(Long id, String restaurant, String address, String website, String description, Integer count) {\r\n    \t\tthis.id = id;\r\n    \t\tthis.restaurant = restaurant;\r\n    \t\tthis.address = address;\r\n    \t\tthis.website = website;\r\n    \t\tthis.description = description;\r\n    \t\tthis.count = count;\r\n    \t}\r\n    \r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getRestaurant() {\r\n    \t\treturn restaurant;\r\n    \t}\r\n    \r\n    \tpublic void setRestaurant(String restaurant) {\r\n    \t\tthis.restaurant = restaurant;\r\n    \t}\r\n    \r\n    \tpublic String getAddress() {\r\n    \t\treturn address;\r\n    \t}\r\n    \r\n    \tpublic void setAddress(String address) {\r\n    \t\tthis.address = address;\r\n    \t}\r\n    \r\n    \tpublic String getWebsite() {\r\n    \t\treturn website;\r\n    \t}\r\n    \r\n    \tpublic void setWebsite(String website) {\r\n    \t\tthis.website = website;\r\n    \t}\r\n    \r\n    \tpublic String getDescription() {\r\n    \t\treturn description;\r\n    \t}\r\n    \r\n    \tpublic void setDescription(String description) {\r\n    \t\tthis.description = description;\r\n    \t}\r\n    \r\n    \tpublic Integer getCount() {\r\n    \t\treturn count;\r\n    \t}\r\n    \r\n    \tpublic void setCount(Integer count) {\r\n    \t\tthis.count = count;\r\n    \t}\r\n    \r\n    \tpublic Set&lt;Vote&gt; getVotes() {\r\n    \t\treturn votes;\r\n    \t}\r\n    \r\n    }\r\n\r\n**RestaurantDTO.java**\r\n\r\n    package com.dbserver.restaurantes.dto;\r\n    \r\n    import com.dbserver.restaurantes.entities.Restaurant;\r\n    \r\n    public class RestaurantDTO {\r\n    \tprivate Long id;\r\n    \tprivate String restaurant;\r\n    \tprivate String address;\r\n    \tprivate String website;\r\n    \tprivate String description;\r\n    \tprivate Integer count;\r\n    \r\n    \tpublic RestaurantDTO() {\r\n    \t}\r\n    \r\n    \tpublic RestaurantDTO(Long id, String restaurant, String address, String website, String description, Integer count) {\r\n    \t\tthis.id = id;\r\n    \t\tthis.restaurant = restaurant;\r\n    \t\tthis.address = address;\r\n    \t\tthis.website = website;\r\n    \t\tthis.description = description;\r\n    \t\tthis.count = count;\r\n    \t}\r\n    \r\n    \tpublic RestaurantDTO(Restaurant restaurantDTO) {\r\n    \t\tid = restaurantDTO.getId();\r\n    \t\trestaurant = restaurantDTO.getRestaurant();\r\n    \t\taddress = restaurantDTO.getAddress();\r\n    \t\twebsite = restaurantDTO.getWebsite();\r\n    \t\tdescription = restaurantDTO.getDescription();\r\n    \t\tcount = restaurantDTO.getCount();\r\n    \t}\r\n    \r\n    \tpublic Long getId() {\r\n    \t\treturn id;\r\n    \t}\r\n    \r\n    \tpublic void setId(Long id) {\r\n    \t\tthis.id = id;\r\n    \t}\r\n    \r\n    \tpublic String getRestaurant() {\r\n    \t\treturn restaurant;\r\n    \t}\r\n    \r\n    \tpublic void setRestaurant(String restaurant) {\r\n    \t\tthis.restaurant = restaurant;\r\n    \t}\r\n    \r\n    \tpublic String getAddress() {\r\n    \t\treturn address;\r\n    \t}\r\n    \r\n    \tpublic void setAddress(String address) {\r\n    \t\tthis.address = address;\r\n    \t}\r\n    \r\n    \tpublic String getWebsite() {\r\n    \t\treturn website;\r\n    \t}\r\n    \r\n    \tpublic void setWebsite(String website) {\r\n    \t\tthis.website = website;\r\n    \t}\r\n    \r\n    \tpublic String getDescription() {\r\n    \t\treturn description;\r\n    \t}\r\n    \r\n    \tpublic void setDescription(String description) {\r\n    \t\tthis.description = description;\r\n    \t}\r\n    \t\r\n    \tpublic Integer getCount() {\r\n    \t\treturn count;\r\n    \t}\r\n    \r\n    \tpublic void setCount(Integer count) {\r\n    \t\tthis.count = count;\r\n    \t}\t\r\n    }\r\n\r\n\r\n\r\n**RestaurantServices.java**\r\n\r\n    package com.dbserver.restaurantes.services;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.data.domain.Page;\r\n    import org.springframework.data.domain.Pageable;\r\n    import org.springframework.stereotype.Service;\r\n    import org.springframework.transaction.annotation.Transactional;\r\n    \r\n    import com.dbserver.restaurantes.dto.RestaurantDTO;\r\n    import com.dbserver.restaurantes.dto.VoteDTO;\r\n    import com.dbserver.restaurantes.entities.Restaurant;\r\n    import com.dbserver.restaurantes.repositories.RestaurantRepository;\r\n    \r\n    @Service\r\n    public class RestaurantServices {\r\n    \r\n    \t@Autowired\r\n    \tprivate RestaurantRepository repository;\r\n    \r\n    \t@Transactional(readOnly = true)\r\n    \tpublic Page&lt;RestaurantDTO&gt; findAll(Pageable pageable) {\r\n    \t\tPage&lt;Restaurant&gt; result = repository.findAll(pageable);\r\n    \t\tPage&lt;RestaurantDTO&gt; page = result.map(x -&gt; new RestaurantDTO(x));\r\n    \t\treturn page;\r\n    \t}\r\n    \t\r\n    \t@Transactional(readOnly = true)\r\n    \tpublic RestaurantDTO findById(Long id) {\r\n    \t\tRestaurant result = repository.findById(id).get();\r\n    \t\tRestaurantDTO dto = new RestaurantDTO(result);\r\n    \t\treturn dto;\r\n    \t}\r\n    \t\r\n    \t@Transactional(readOnly = true)\r\n    \tpublic Restaurant findWinner(Integer count) {\r\n    \t\tList&lt;Restaurant&gt; restaurants = new ArrayList&lt;&gt;();\r\n    \t\t\r\n    \t\tfor (Restaurant restaurant: restaurants) {\r\n    \t\t\tif(restaurant.getCount().equals(3)) {\r\n    \t\t\t\treturn restaurant;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn null;\r\n    \t}\r\n    \t\r\n    \t@Transactional\r\n    \tpublic Restaurant addRestaurant(Restaurant newRestaurant) {\r\n    \t\treturn repository.saveAndFlush(newRestaurant);\r\n    \t}\r\n    \t\r\n    }\r\n\r\n**RestaurantController.java**\r\n\r\n    package com.dbserver.restaurantes.controllers;\r\n    \r\n    import java.util.List;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.data.domain.Page;\r\n    import org.springframework.data.domain.Pageable;\r\n    import org.springframework.web.bind.annotation.GetMapping;\r\n    import org.springframework.web.bind.annotation.PathVariable;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import com.dbserver.restaurantes.dto.RestaurantDTO;\r\n    import com.dbserver.restaurantes.entities.Restaurant;\r\n    import com.dbserver.restaurantes.services.RestaurantServices;\r\n    \r\n    @RestController\r\n    @RequestMapping(value = &quot;/restaurants&quot;)\r\n    public class RestaurantController {\r\n    \r\n    \t@Autowired\r\n    \tprivate RestaurantServices service;\r\n    \r\n    \t@GetMapping\r\n    \tpublic Page&lt;RestaurantDTO&gt; findAll(Pageable pageable) {\r\n    \t\treturn service.findAll(pageable);\r\n    \t}\r\n    \r\n    \t@GetMapping(value = &quot;/{id}&quot;)\r\n    \tpublic RestaurantDTO findById(@PathVariable Long id) {\r\n    \t\treturn service.findById(id);\r\n    \t}\r\n    \t\r\n    \t@SuppressWarnings(&quot;unchecked&quot;)\r\n    \t@GetMapping(value = &quot;/winner&quot;)\r\n    \tpublic List&lt;RestaurantDTO&gt; findWinner(Integer count) {\r\n    \t\treturn (List&lt;RestaurantDTO&gt;) service.findWinner(3);\t\t\r\n    \t};\r\n    \r\n    \t@PostMapping\r\n    \tpublic Restaurant addRestaurant(@RequestBody Restaurant newRestaurant) {\r\n    \t\treturn service.addRestaurant(newRestaurant);\r\n    \t}\r\n    \t\r\n    }\r\n\r\n","title":"Return key value of a JSON request in Spring","body":"<p>I'm trying to create a route to perform a GET Request to /winner to show the restaurants that had the count of 3 votes in the JSON, but every time I do the GET, it returns the value of null instead of the value I would like.</p>\n<p>I was expecting something like that:</p>\n<pre><code>{\n    &quot;id&quot;: 1,\n    &quot;restaurant&quot;: &quot;Burger King&quot;,\n    &quot;address&quot;: &quot;Av. Ipiranga, 1600&quot;,\n    &quot;website&quot;: &quot;https://www.burgerking.com.br/&quot;,\n    &quot;description&quot;: &quot;Rede de fast-food famosa com hambrgueres grelhados, batata frita e milk-shakes.&quot;,\n    &quot;count&quot;: 3\n}\n</code></pre>\n<p>Instead that, I'm just getting an empty JSON with the null value.\nHere are the classes I'm using:</p>\n<p><strong>Restaurant.java</strong></p>\n<pre><code>package com.dbserver.restaurantes.entities;\n\nimport java.util.HashSet;\nimport java.util.Set;\n\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.OneToMany;\nimport javax.persistence.Table;\n\n@Entity\n@Table(name = &quot;db_restaurants&quot;)\npublic class Restaurant {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n    private String restaurant;\n    private String address;\n    private String website;\n    private String description;\n    private Integer count;\n\n    @OneToMany(mappedBy = &quot;id.restaurant&quot;)\n    private Set&lt;Vote&gt; votes = new HashSet&lt;&gt;();\n\n    public Restaurant() {\n    }\n\n    public Restaurant(Long id, String restaurant, String address, String website, String description, Integer count) {\n        this.id = id;\n        this.restaurant = restaurant;\n        this.address = address;\n        this.website = website;\n        this.description = description;\n        this.count = count;\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getRestaurant() {\n        return restaurant;\n    }\n\n    public void setRestaurant(String restaurant) {\n        this.restaurant = restaurant;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public String getWebsite() {\n        return website;\n    }\n\n    public void setWebsite(String website) {\n        this.website = website;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n\n    public Integer getCount() {\n        return count;\n    }\n\n    public void setCount(Integer count) {\n        this.count = count;\n    }\n\n    public Set&lt;Vote&gt; getVotes() {\n        return votes;\n    }\n\n}\n</code></pre>\n<p><strong>RestaurantDTO.java</strong></p>\n<pre><code>package com.dbserver.restaurantes.dto;\n\nimport com.dbserver.restaurantes.entities.Restaurant;\n\npublic class RestaurantDTO {\n    private Long id;\n    private String restaurant;\n    private String address;\n    private String website;\n    private String description;\n    private Integer count;\n\n    public RestaurantDTO() {\n    }\n\n    public RestaurantDTO(Long id, String restaurant, String address, String website, String description, Integer count) {\n        this.id = id;\n        this.restaurant = restaurant;\n        this.address = address;\n        this.website = website;\n        this.description = description;\n        this.count = count;\n    }\n\n    public RestaurantDTO(Restaurant restaurantDTO) {\n        id = restaurantDTO.getId();\n        restaurant = restaurantDTO.getRestaurant();\n        address = restaurantDTO.getAddress();\n        website = restaurantDTO.getWebsite();\n        description = restaurantDTO.getDescription();\n        count = restaurantDTO.getCount();\n    }\n\n    public Long getId() {\n        return id;\n    }\n\n    public void setId(Long id) {\n        this.id = id;\n    }\n\n    public String getRestaurant() {\n        return restaurant;\n    }\n\n    public void setRestaurant(String restaurant) {\n        this.restaurant = restaurant;\n    }\n\n    public String getAddress() {\n        return address;\n    }\n\n    public void setAddress(String address) {\n        this.address = address;\n    }\n\n    public String getWebsite() {\n        return website;\n    }\n\n    public void setWebsite(String website) {\n        this.website = website;\n    }\n\n    public String getDescription() {\n        return description;\n    }\n\n    public void setDescription(String description) {\n        this.description = description;\n    }\n    \n    public Integer getCount() {\n        return count;\n    }\n\n    public void setCount(Integer count) {\n        this.count = count;\n    }   \n}\n</code></pre>\n<p><strong>RestaurantServices.java</strong></p>\n<pre><code>package com.dbserver.restaurantes.services;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.stereotype.Service;\nimport org.springframework.transaction.annotation.Transactional;\n\nimport com.dbserver.restaurantes.dto.RestaurantDTO;\nimport com.dbserver.restaurantes.dto.VoteDTO;\nimport com.dbserver.restaurantes.entities.Restaurant;\nimport com.dbserver.restaurantes.repositories.RestaurantRepository;\n\n@Service\npublic class RestaurantServices {\n\n    @Autowired\n    private RestaurantRepository repository;\n\n    @Transactional(readOnly = true)\n    public Page&lt;RestaurantDTO&gt; findAll(Pageable pageable) {\n        Page&lt;Restaurant&gt; result = repository.findAll(pageable);\n        Page&lt;RestaurantDTO&gt; page = result.map(x -&gt; new RestaurantDTO(x));\n        return page;\n    }\n    \n    @Transactional(readOnly = true)\n    public RestaurantDTO findById(Long id) {\n        Restaurant result = repository.findById(id).get();\n        RestaurantDTO dto = new RestaurantDTO(result);\n        return dto;\n    }\n    \n    @Transactional(readOnly = true)\n    public Restaurant findWinner(Integer count) {\n        List&lt;Restaurant&gt; restaurants = new ArrayList&lt;&gt;();\n        \n        for (Restaurant restaurant: restaurants) {\n            if(restaurant.getCount().equals(3)) {\n                return restaurant;\n            }\n        }\n        return null;\n    }\n    \n    @Transactional\n    public Restaurant addRestaurant(Restaurant newRestaurant) {\n        return repository.saveAndFlush(newRestaurant);\n    }\n    \n}\n</code></pre>\n<p><strong>RestaurantController.java</strong></p>\n<pre><code>package com.dbserver.restaurantes.controllers;\n\nimport java.util.List;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.data.domain.Page;\nimport org.springframework.data.domain.Pageable;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport com.dbserver.restaurantes.dto.RestaurantDTO;\nimport com.dbserver.restaurantes.entities.Restaurant;\nimport com.dbserver.restaurantes.services.RestaurantServices;\n\n@RestController\n@RequestMapping(value = &quot;/restaurants&quot;)\npublic class RestaurantController {\n\n    @Autowired\n    private RestaurantServices service;\n\n    @GetMapping\n    public Page&lt;RestaurantDTO&gt; findAll(Pageable pageable) {\n        return service.findAll(pageable);\n    }\n\n    @GetMapping(value = &quot;/{id}&quot;)\n    public RestaurantDTO findById(@PathVariable Long id) {\n        return service.findById(id);\n    }\n    \n    @SuppressWarnings(&quot;unchecked&quot;)\n    @GetMapping(value = &quot;/winner&quot;)\n    public List&lt;RestaurantDTO&gt; findWinner(Integer count) {\n        return (List&lt;RestaurantDTO&gt;) service.findWinner(3);     \n    };\n\n    @PostMapping\n    public Restaurant addRestaurant(@RequestBody Restaurant newRestaurant) {\n        return service.addRestaurant(newRestaurant);\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","oracle","jdbc","while-loop","user-input"],"comments":[{"owner":{"account_id":1635690,"reputation":150057,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"score":1,"creation_date":1647521551,"post_id":71512580,"comment_id":126394999,"body_markdown":"Make sure you `COMMIT` the data. This should occur automatically when the transaction is closed but your JDBC connection may be set to have auto-commit mode as False; in which case you will need to manually `COMMIT`.","body":"Make sure you <code>COMMIT</code> the data. This should occur automatically when the transaction is closed but your JDBC connection may be set to have auto-commit mode as False; in which case you will need to manually <code>COMMIT</code>."},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1647526370,"post_id":71512580,"comment_id":126397069,"body_markdown":"With your latest update, you never execute the statement, so nothing ends up in the database.","body":"With your latest update, you never execute the statement, so nothing ends up in the database."}],"answers":[{"tags":[],"owner":{"account_id":10827831,"reputation":143,"user_id":7963227,"display_name":"Sametcey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647526439,"creation_date":1647524108,"answer_id":71513234,"question_id":71512580,"body_markdown":"The problem is on `ResultSet resultSet=preparedStatement.executeQuery();` executeQuery() is only for selects if you want to insert so you must use `preparedStatement.execute();` or `preparedStatement.executeUpdate();`","title":"user inputs not show in database table?","body":"<p>The problem is on <code>ResultSet resultSet=preparedStatement.executeQuery();</code> executeQuery() is only for selects if you want to insert so you must use <code>preparedStatement.execute();</code> or <code>preparedStatement.executeUpdate();</code></p>\n"},{"tags":[],"owner":{"account_id":1635690,"reputation":150057,"user_id":1509264,"accept_rate":58,"display_name":"MT0"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647526795,"creation_date":1647524254,"answer_id":71513271,"question_id":71512580,"body_markdown":"There are 3 different JDBC execute functions:\r\n\r\n - `PreparedStatement.execute` is for executing any statement; including DDL statements such as `CREATE TABLE`, etc.\r\n - `PreparedStatement.executeQuery` is for executing `SELECT` statements.\r\n - `PreparedStatement.executeUpdate` is for executing DML statements such as `INSERT`, `UPDATE`, `DELETE` or `MERGE`.\r\n\r\nYou want `PreparedStatement.executeUpdate` and not `PreparedStatement.executeQuery`.\r\n\r\nYou also need to check that your statement/transaction is committing the data; if it is not then you need to explicitly `COMMIT` the data.","title":"user inputs not show in database table?","body":"<p>There are 3 different JDBC execute functions:</p>\n<ul>\n<li><code>PreparedStatement.execute</code> is for executing any statement; including DDL statements such as <code>CREATE TABLE</code>, etc.</li>\n<li><code>PreparedStatement.executeQuery</code> is for executing <code>SELECT</code> statements.</li>\n<li><code>PreparedStatement.executeUpdate</code> is for executing DML statements such as <code>INSERT</code>, <code>UPDATE</code>, <code>DELETE</code> or <code>MERGE</code>.</li>\n</ul>\n<p>You want <code>PreparedStatement.executeUpdate</code> and not <code>PreparedStatement.executeQuery</code>.</p>\n<p>You also need to check that your statement/transaction is committing the data; if it is not then you need to explicitly <code>COMMIT</code> the data.</p>\n"},{"tags":[],"owner":{"account_id":18718313,"reputation":1,"user_id":13646814,"display_name":"Jaswanth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647524382,"creation_date":1647524382,"answer_id":71513307,"question_id":71512580,"body_markdown":"For inserts and deletion, it should be executeUpdate().\r\n\r\n&gt; ResultSet resultSet = preparedStarement.executeUpdate();","title":"user inputs not show in database table?","body":"<p>For inserts and deletion, it should be executeUpdate().</p>\n<blockquote>\n<p>ResultSet resultSet = preparedStarement.executeUpdate();</p>\n</blockquote>\n"}],"owner":{"account_id":16801690,"reputation":35,"user_id":12146779,"display_name":"dilbro"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71513271,"answer_count":3,"score":1,"last_activity_date":1647526795,"creation_date":1647521374,"question_id":71512580,"body_markdown":"I&#39;m trying to teach myself java(my English is not good sorry). after giving some inputs I tried to show(the values using select * from emp;) it on the table but rows are not creating what should I do to get the user input to (database)\r\n\r\n\tpublic static void main(String[] args) throws SQLException, ClassNotFoundException {\r\n\t\tClass.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\r\n\t\tConnection connection = DriverManager.getConnection(&quot;jdbc:oracle:thin:@localhost:1521:XE&quot;,&quot;system&quot;,&quot;manager&quot;);\r\n\t\t\r\n\t\tPreparedStatement preparedStatement= connection.prepareStatement(&quot;insert into emp values(?,?,?)&quot; );\r\n\t\t\r\n\t\tScanner scanner = new Scanner(System.in);\r\n\t\t\r\n\t\twhile (true) {\r\n\t\t\t\r\n\t\t\tSystem.out.println(&quot;enter eid&quot;);\r\n\t\t\tint eid = scanner.nextInt();\r\n\t\t\tSystem.out.println(&quot;enter ename&quot;);\r\n\t\t\tString ename = scanner.next();\r\n\t\t\tSystem.out.println(&quot;enter esal&quot;);\r\n\t\t\tdouble esal = scanner.nextDouble();\r\n\t\t\t\r\n\t\t\tpreparedStatement.setInt(1, eid);\r\n\t\t\tpreparedStatement.setString(2, ename);\r\n\t\t\tpreparedStatement.setDouble(3, esal);\r\n\t\t\tSystem.out.println(&quot;data insert successfull....do you want add one more recored(yes/no)&quot;);\r\n\t\t\tString option = scanner.next();\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tif(option.equals(&quot;no&quot;)) \r\n\t\t\t\tbreak;\r\n\t\t\t\r\n\t\t}\r\n\t\t\r\n\t\t   scanner.close();\r\n\t\t   preparedStatement.close();\r\n\t\t   connection.close();\r\n\t\t   System.out.println(&quot;resource are closed&quot;);\r\n\t\t\r\n\t}\r\n\r\n}\r\n","title":"user inputs not show in database table?","body":"<p>I'm trying to teach myself java(my English is not good sorry). after giving some inputs I tried to show(the values using select * from emp;) it on the table but rows are not creating what should I do to get the user input to (database)</p>\n<pre><code>public static void main(String[] args) throws SQLException, ClassNotFoundException {\n    Class.forName(&quot;oracle.jdbc.driver.OracleDriver&quot;);\n    Connection connection = DriverManager.getConnection(&quot;jdbc:oracle:thin:@localhost:1521:XE&quot;,&quot;system&quot;,&quot;manager&quot;);\n    \n    PreparedStatement preparedStatement= connection.prepareStatement(&quot;insert into emp values(?,?,?)&quot; );\n    \n    Scanner scanner = new Scanner(System.in);\n    \n    while (true) {\n        \n        System.out.println(&quot;enter eid&quot;);\n        int eid = scanner.nextInt();\n        System.out.println(&quot;enter ename&quot;);\n        String ename = scanner.next();\n        System.out.println(&quot;enter esal&quot;);\n        double esal = scanner.nextDouble();\n        \n        preparedStatement.setInt(1, eid);\n        preparedStatement.setString(2, ename);\n        preparedStatement.setDouble(3, esal);\n        System.out.println(&quot;data insert successfull....do you want add one more recored(yes/no)&quot;);\n        String option = scanner.next();\n        \n        \n        if(option.equals(&quot;no&quot;)) \n            break;\n        \n    }\n    \n       scanner.close();\n       preparedStatement.close();\n       connection.close();\n       System.out.println(&quot;resource are closed&quot;);\n    \n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","dayofweek","localdate","dayofmonth"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1647463301,"post_id":71498903,"comment_id":126380872,"body_markdown":"Yet another approach would use [`YearMonth#atDay`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/YearMonth.html#atDay(int)).","body":"Yet another approach would use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/YearMonth.html#atDay(int)\" rel=\"nofollow noreferrer\"><code>YearMonth#atDay</code></a>."}],"answers":[{"tags":[],"owner":{"account_id":6894157,"reputation":1612,"user_id":5296683,"accept_rate":83,"display_name":"Med Elgarnaoui"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647442091,"creation_date":1647441759,"answer_id":71499085,"question_id":71498903,"body_markdown":"You can do it by just adding **7 days** to your `LocalDate` and you will get the expected day:\r\n\r\n**For example:**\r\n \r\n\r\n     LocalDate today = LocalDate.now();\r\n    \r\n     //tomorrow\r\n     LocalDate tomorrow = today.plusDays(1);\r\n    \r\n     // next week day\r\n     LocalDate nextWeekDay= today.plusDays(7);\r\n\r\n**Or get it by this one :**\r\n\r\n    today.with(TemporalAdjusters.next(DayOfWeek.FRIDAY));\r\n\r\n","title":"How to get next Friday 13th since the given LocalDate","body":"<p>You can do it by just adding <strong>7 days</strong> to your <code>LocalDate</code> and you will get the expected day:</p>\n<p><strong>For example:</strong></p>\n<pre><code> LocalDate today = LocalDate.now();\n\n //tomorrow\n LocalDate tomorrow = today.plusDays(1);\n\n // next week day\n LocalDate nextWeekDay= today.plusDays(7);\n</code></pre>\n<p><strong>Or get it by this one :</strong></p>\n<pre><code>today.with(TemporalAdjusters.next(DayOfWeek.FRIDAY));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20122112,"reputation":88,"user_id":14756421,"display_name":"Maxim Bezmen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647502106,"creation_date":1647442156,"answer_id":71499188,"question_id":71498903,"body_markdown":"First we look for the next Friday from the given date (getNextFriday). Then we check if she is 13 (is13Friday.)\r\n\r\n        public static void main(String[] args) {\r\n        boolean is13Friday = false;\r\n        LocalDate nextFriday = LocalDate.now();\r\n        while (!is13Friday) {\r\n            nextFriday = getNextFriday(nextFriday);\r\n            is13Friday = is13Friday(nextFriday);\r\n        }\r\n        System.out.println(nextFriday);\r\n\r\n    }\r\n\r\n    public static LocalDate getNextFriday(LocalDate d) {\r\n        return d.with(TemporalAdjusters.next(DayOfWeek.FRIDAY));\r\n    }\r\n\r\n    public static boolean is13Friday(LocalDate d) {\r\n        return d.getDayOfMonth() == 13;\r\n    }","title":"How to get next Friday 13th since the given LocalDate","body":"<p>First we look for the next Friday from the given date (getNextFriday). Then we check if she is 13 (is13Friday.)</p>\n<pre><code>    public static void main(String[] args) {\n    boolean is13Friday = false;\n    LocalDate nextFriday = LocalDate.now();\n    while (!is13Friday) {\n        nextFriday = getNextFriday(nextFriday);\n        is13Friday = is13Friday(nextFriday);\n    }\n    System.out.println(nextFriday);\n\n}\n\npublic static LocalDate getNextFriday(LocalDate d) {\n    return d.with(TemporalAdjusters.next(DayOfWeek.FRIDAY));\n}\n\npublic static boolean is13Friday(LocalDate d) {\n    return d.getDayOfMonth() == 13;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647526487,"creation_date":1647445892,"answer_id":71500195,"question_id":71498903,"body_markdown":"You can use `IntStream` to iterate through days:\r\n\r\n    public static LocalDate findFridayThirteen(LocalDate fromDate) {\r\n        return IntStream.iterate(0, i -&gt; i + 1)\r\n                .mapToObj(fromDate::plusDays)\r\n                .filter(date -&gt; date.getDayOfWeek() == DayOfWeek.FRIDAY \r\n                        &amp;&amp; date.getDayOfMonth() == 13)\r\n                .findFirst()\r\n                .orElseThrow();\r\n    }\r\n\r\nOr, you can iterate only Fridays:\r\n\r\n    public static LocalDate findFridayThirteen(LocalDate fromDate) {\r\n        LocalDate nextFriday = fromDate.with(\r\n                TemporalAdjusters.nextOrSame(DayOfWeek.FRIDAY));\r\n        return IntStream.iterate(0, i -&gt; i + 7)\r\n                .mapToObj(nextFriday::plusDays)\r\n                .filter(date -&gt; date.getDayOfMonth() == 13)\r\n                .findFirst()\r\n                .orElseThrow();\r\n    }  \r\n\r\nOr, you can iterate only the 13 of each month:\r\n\r\n    public static LocalDate findFridayThirteen(LocalDate fromDate) {\r\n        LocalDate nextThirteen = fromDate.getDayOfMonth() &gt; 13 \r\n                ? fromDate.withDayOfMonth(13).plusMonths(1) \r\n                : fromDate.withDayOfMonth(13);\r\n        return IntStream.iterate(0, i -&gt; i + 1)\r\n                .mapToObj(nextThirteen::plusMonths)\r\n                .filter(date -&gt; date.getDayOfWeek() == DayOfWeek.FRIDAY)\r\n                .findFirst()\r\n                .orElseThrow();\r\n    }  \r\n\r\nTest:\r\n\r\n    LocalDate date = LocalDate.of(2022, 1, 1);\r\n\r\n    LocalDate friday13 = findFridayThirteen(date);\r\n\r\n    DateTimeFormatter formatter = DateTimeFormatter\r\n            .ofLocalizedDate(FormatStyle.FULL);\r\n\r\n    System.out.println(friday13.format(formatter));\r\n\r\nOutput:\r\n\r\n    Friday, May 13, 2022","title":"How to get next Friday 13th since the given LocalDate","body":"<p>You can use <code>IntStream</code> to iterate through days:</p>\n<pre><code>public static LocalDate findFridayThirteen(LocalDate fromDate) {\n    return IntStream.iterate(0, i -&gt; i + 1)\n            .mapToObj(fromDate::plusDays)\n            .filter(date -&gt; date.getDayOfWeek() == DayOfWeek.FRIDAY \n                    &amp;&amp; date.getDayOfMonth() == 13)\n            .findFirst()\n            .orElseThrow();\n}\n</code></pre>\n<p>Or, you can iterate only Fridays:</p>\n<pre><code>public static LocalDate findFridayThirteen(LocalDate fromDate) {\n    LocalDate nextFriday = fromDate.with(\n            TemporalAdjusters.nextOrSame(DayOfWeek.FRIDAY));\n    return IntStream.iterate(0, i -&gt; i + 7)\n            .mapToObj(nextFriday::plusDays)\n            .filter(date -&gt; date.getDayOfMonth() == 13)\n            .findFirst()\n            .orElseThrow();\n}  \n</code></pre>\n<p>Or, you can iterate only the 13 of each month:</p>\n<pre><code>public static LocalDate findFridayThirteen(LocalDate fromDate) {\n    LocalDate nextThirteen = fromDate.getDayOfMonth() &gt; 13 \n            ? fromDate.withDayOfMonth(13).plusMonths(1) \n            : fromDate.withDayOfMonth(13);\n    return IntStream.iterate(0, i -&gt; i + 1)\n            .mapToObj(nextThirteen::plusMonths)\n            .filter(date -&gt; date.getDayOfWeek() == DayOfWeek.FRIDAY)\n            .findFirst()\n            .orElseThrow();\n}  \n</code></pre>\n<p>Test:</p>\n<pre><code>LocalDate date = LocalDate.of(2022, 1, 1);\n\nLocalDate friday13 = findFridayThirteen(date);\n\nDateTimeFormatter formatter = DateTimeFormatter\n        .ofLocalizedDate(FormatStyle.FULL);\n\nSystem.out.println(friday13.format(formatter));\n</code></pre>\n<p>Output:</p>\n<pre><code>Friday, May 13, 2022\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647454776,"creation_date":1647445893,"answer_id":71500196,"question_id":71498903,"body_markdown":"You can do it by using **only** methods [`plusMonths()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#plusMonths(long)), [`withDayOfMonth()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#withDayOfMonth(int)) of the `LocalDate` class. \r\n\r\nThe starting point is to adjust the ***day of the month*** of the *given date* to the target day `13`. If the day of month of the *given date* is greater than `13`, then the current date will be assigned to the ***13th*** day of the next month, otherwise to the ***13th*** day of the current month.\r\n\r\nAnd then check in the loop whether the ***day of the week*** of the current date is *Friday*. Note that *days of the week* in **java.util.time** API are represented by *enum* `DayOfWeek`.\r\n\r\nThis approach allows to find the target date only withing a **couple of iterations** by *skipping the whole month*. \r\n\r\nTo avoid hard-coded values and make the code reusable, the *day of the month* and the *day of the week* are expected as parameters of the method `getNextDay()`.\r\n\r\n    public static LocalDate getNextDay(LocalDate date, int dayOfMonth, DayOfWeek dayOfWeek) {\r\n        LocalDate current = date.getDayOfMonth() &gt; dayOfMonth ?\r\n                date.plusMonths(1).withDayOfMonth(dayOfMonth) :\r\n                date.withDayOfMonth(dayOfMonth);\r\n\r\n        while (current.getDayOfWeek() != dayOfWeek) {\r\n            current = current.plusMonths(1);\r\n        }\r\n        return current;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        System.out.println(getNextDay(LocalDate.now(), 13, DayOfWeek.FRIDAY));\r\n        System.out.println(getNextDay(LocalDate.now().plusMonths(5), 13, DayOfWeek.FRIDAY));\r\n    }\r\n\r\n**Output**\r\n```\r\n2022-05-13  -  from now (&#39;2022-03-16&#39;)\r\n2023-01-13  -  from &#39;2022-08-16&#39;\r\n```","title":"How to get next Friday 13th since the given LocalDate","body":"<p>You can do it by using <strong>only</strong> methods <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#plusMonths(long)\" rel=\"nofollow noreferrer\"><code>plusMonths()</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#withDayOfMonth(int)\" rel=\"nofollow noreferrer\"><code>withDayOfMonth()</code></a> of the <code>LocalDate</code> class.</p>\n<p>The starting point is to adjust the <em><strong>day of the month</strong></em> of the <em>given date</em> to the target day <code>13</code>. If the day of month of the <em>given date</em> is greater than <code>13</code>, then the current date will be assigned to the <em><strong>13th</strong></em> day of the next month, otherwise to the <em><strong>13th</strong></em> day of the current month.</p>\n<p>And then check in the loop whether the <em><strong>day of the week</strong></em> of the current date is <em>Friday</em>. Note that <em>days of the week</em> in <strong>java.util.time</strong> API are represented by <em>enum</em> <code>DayOfWeek</code>.</p>\n<p>This approach allows to find the target date only withing a <strong>couple of iterations</strong> by <em>skipping the whole month</em>.</p>\n<p>To avoid hard-coded values and make the code reusable, the <em>day of the month</em> and the <em>day of the week</em> are expected as parameters of the method <code>getNextDay()</code>.</p>\n<pre><code>public static LocalDate getNextDay(LocalDate date, int dayOfMonth, DayOfWeek dayOfWeek) {\n    LocalDate current = date.getDayOfMonth() &gt; dayOfMonth ?\n            date.plusMonths(1).withDayOfMonth(dayOfMonth) :\n            date.withDayOfMonth(dayOfMonth);\n\n    while (current.getDayOfWeek() != dayOfWeek) {\n        current = current.plusMonths(1);\n    }\n    return current;\n}\n\npublic static void main(String[] args) {\n    System.out.println(getNextDay(LocalDate.now(), 13, DayOfWeek.FRIDAY));\n    System.out.println(getNextDay(LocalDate.now().plusMonths(5), 13, DayOfWeek.FRIDAY));\n}\n</code></pre>\n<p><strong>Output</strong></p>\n<pre><code>2022-05-13  -  from now ('2022-03-16')\n2023-01-13  -  from '2022-08-16'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647450036,"creation_date":1647450036,"answer_id":71501304,"question_id":71498903,"body_markdown":"    public static LocalDateTime nextFriday13() {\r\n\t\tLocalDateTime now = LocalDateTime.now();\r\n\t\twhile (now.getDayOfMonth() != 13) {\r\n\t\t\tnow = now.plusDays(1);\r\n\t\t}\r\n\t\t\r\n\t\twhile (!now.getDayOfWeek().equals(DayOfWeek.FRIDAY)) {\r\n\t\t\tnow = now.plusMonths(1);\r\n\t\t}\r\n\t\t\r\n\t\treturn now;\r\n\t}","title":"How to get next Friday 13th since the given LocalDate","body":"<pre><code>public static LocalDateTime nextFriday13() {\n    LocalDateTime now = LocalDateTime.now();\n    while (now.getDayOfMonth() != 13) {\n        now = now.plusDays(1);\n    }\n    \n    while (!now.getDayOfWeek().equals(DayOfWeek.FRIDAY)) {\n        now = now.plusMonths(1);\n    }\n    \n    return now;\n}\n</code></pre>\n"}],"owner":{"account_id":24578424,"reputation":19,"user_id":18483943,"display_name":"ferenaj"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":390,"favorite_count":0,"down_vote_count":3,"up_vote_count":2,"closed_date":1647592409,"answer_count":5,"score":-1,"last_activity_date":1647526487,"creation_date":1647441102,"question_id":71498903,"body_markdown":"I need to get next **Friday 13th** since the given date using `LocalDate`. \r\n\r\nHow it could be implemented? \r\n","title":"How to get next Friday 13th since the given LocalDate","body":"<p>I need to get next <strong>Friday 13th</strong> since the given date using <code>LocalDate</code>.</p>\n<p>How it could be implemented?</p>\n"},{"tags":["java","coinbase-api"],"comments":[{"owner":{"account_id":9042629,"reputation":407,"user_id":6736322,"accept_rate":100,"display_name":"CMJ"},"score":0,"creation_date":1613841028,"post_id":62401461,"comment_id":117203124,"body_markdown":"Did you find an answer for you question jlars789 ?","body":"Did you find an answer for you question jlars789 ?"},{"owner":{"account_id":8701119,"reputation":783,"user_id":8213085,"display_name":"Bilbottom"},"score":0,"creation_date":1617655746,"post_id":62401461,"comment_id":118359655,"body_markdown":"I&#39;m having the same issue using a python approach -- response code of 200 but no response text (more accurately, a response of `{}`), while other endpoint requests function correctly.","body":"I&#39;m having the same issue using a python approach -- response code of 200 but no response text (more accurately, a response of <code>{}</code>), while other endpoint requests function correctly."},{"owner":{"account_id":15838670,"reputation":222,"user_id":11427796,"display_name":"Simon2215"},"score":0,"creation_date":1635787979,"post_id":62401461,"comment_id":123381414,"body_markdown":"Did you find an answer? I have exactly the same problem.","body":"Did you find an answer? I have exactly the same problem."}],"answers":[{"tags":[],"owner":{"account_id":1351699,"reputation":21,"user_id":1291138,"display_name":"Jarod Denison"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647526312,"creation_date":1647526312,"answer_id":71513792,"question_id":62401461,"body_markdown":"Have you tried enabling &quot;Instant sends&quot; on the receiver account?\r\n\r\nRefs:\r\nhttps://help.coinbase.com/en/coinbase/trading-and-funding/sending-or-receiving-cryptocurrency/instant-sends","title":"Coinbase API - Transfer Between Accounts not actually transferring despite 200 response","body":"<p>Have you tried enabling &quot;Instant sends&quot; on the receiver account?</p>\n<p>Refs:\n<a href=\"https://help.coinbase.com/en/coinbase/trading-and-funding/sending-or-receiving-cryptocurrency/instant-sends\" rel=\"nofollow noreferrer\">https://help.coinbase.com/en/coinbase/trading-and-funding/sending-or-receiving-cryptocurrency/instant-sends</a></p>\n"}],"owner":{"account_id":14348660,"reputation":155,"user_id":10364849,"display_name":"jlars789"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":501,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1647526312,"creation_date":1592285069,"question_id":62401461,"body_markdown":"I am working on a project that requires using Coinbase API v2 to make a transfer between two wallets. When I make a call to the API (https://api.coinbase.com/v2/accounts/:account_id/transactions), I am receiving a `200 Success` Response Code with an empty body. This would be fine, but the actual transfer is not occurring on my account. The API documentation suggests a Response Code of 201 should be expected, with a receipt showing all pertinent information of the transaction. None of that is happening.\r\n\r\nThe expected arguments are:\r\n\r\n - Type (in this case, it will always be &quot;transfer&quot;)\r\n - To (the account ID)\r\n - Amount (A double value)\r\n - Currency (Currency unit of the amount to be transferred)\r\n\r\nI have systematically changed every variable of my request, every body/header element, changing account IDs (to and from), inputting invalid currencies, amounts, etc. Each time, a `404 Bad Request` is returned, telling me where the error is. I also make several other API calls at other points, each requiring the Authorization Headers, and those pass and return the expected data. This means my current setup for making the API calls is correct, at least in terms of the code. \r\n\r\nHere is my current calling method:\r\n\r\nMain:\r\n\r\n```\r\n    JSONObject j = APICallBuilder.convertCurrency(CurrencyHandler.findCurrencyID(&quot;ETH&quot;), CurrencyHandler.findCurrencyID(&quot;BTC&quot;), 54);\r\n    System.out.println(j.toString(1));\r\n```\r\nCurrencyHandler:\r\n\r\n```\r\n    public static String findCurrencyID(String code) {\r\n\t\tString ID = &quot;Invalid code&quot;;\r\n\t\tfor(int i = 0; i &lt; currencyArray.length; i++) {\r\n\t\t\tif(currencyArray[i].getCode().equals(code)) {\r\n\t\t\t\tID = currencyArray[i].getID();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn ID;\r\n\t}\r\n```\r\nI obtain the ID value directly from the https://api.coinbase.com/v2/accounts call, and I am certain it is correct, as incorrect values (to or from) will cause a `404 Bad Request` Response.I tested this by retaining the same format of the IDs, but replacing a single character with another character (ensuring the character was between 0-f, just like the original ID).\r\n\r\nAPI Call:\r\n```\r\n    public static JSONObject convertCurrency(String fromCode, String toCode, double amount) {\r\n\t\tString url = requests.getJSONObject(&quot;convert&quot;).getString(&quot;requestPath&quot;);\r\n\t\tString requestPath = &quot;/v2/accounts/${var}/transactions&quot;;\r\n\t\tString method = &quot;POST&quot;;\r\n\t\tString timestamp = getEpochTime();\r\n\t\t\r\n\t\turl = url.replace(&quot;${var}&quot;, fromCode);\r\n\t\trequestPath = requestPath.replace(&quot;${var}&quot;, fromCode);\r\n\t\t\r\n\t\tJSONObject bodyFormatter = new JSONObject();\r\n\t\tbodyFormatter.put(&quot;type&quot;, &quot;transfer&quot;);\r\n\t\tbodyFormatter.put(&quot;to&quot;, toCode);\r\n\t\tbodyFormatter.put(&quot;amount&quot;, amount);\r\n\t\tbodyFormatter.put(&quot;currency&quot;, &quot;USD&quot;);\r\n\t\t\r\n\t\t\r\n\t\tString body = bodyFormatter.toString();\r\n\t\tString header = HeaderGenerator.getHMACHeader(secretKey, timestamp, method, requestPath, body);\r\n\t\t\r\n\t\tRequestBody rb = RequestBody.create(JSON, bodyFormatter.toString());\r\n\t\t\r\n\t\tRequest request = new Request.Builder()\r\n\t\t\t\t.addHeader(CB_ACCESS_KEY, accessKey)\r\n\t\t\t\t.addHeader(CB_ACCESS_SIGN, header)\r\n\t\t\t\t.addHeader(CB_ACCESS_TIMESTAMP, timestamp)\r\n\t\t\t\t.addHeader(CB_VERSION, getDate())\r\n\t\t\t\t.addHeader(&quot;Accept&quot;, &quot;application/json&quot;)\r\n\t\t\t\t.addHeader(&quot;Content-Type&quot;, &quot;application/json&quot;)\r\n\t\t\t\t.url(url)\r\n\t\t\t\t.post(rb)\r\n\t\t\t\t.build();\r\n\t\t\r\n\t\tResponse res;\r\n\t\tJSONObject par = null;\r\n\t\ttry {\r\n\t\t\tres = APICommunicator.sendRequest(request);\r\n\t\t\tString data = res.body().string();\r\n\t\t\tSystem.out.println(res.code());\r\n\t\t\tpar = new JSONObject(data);\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\tErrorLogger.logException(e);\r\n\t\t}\r\n\t\t\r\n\t\treturn par;\r\n\t}\r\n```\r\nIs there something about the API I am missing? I have read through the entire documentation several times, and I cannot find how or why this is occurring. ","title":"Coinbase API - Transfer Between Accounts not actually transferring despite 200 response","body":"<p>I am working on a project that requires using Coinbase API v2 to make a transfer between two wallets. When I make a call to the API (<a href=\"https://api.coinbase.com/v2/accounts/:account_id/transactions\" rel=\"nofollow noreferrer\">https://api.coinbase.com/v2/accounts/:account_id/transactions</a>), I am receiving a <code>200 Success</code> Response Code with an empty body. This would be fine, but the actual transfer is not occurring on my account. The API documentation suggests a Response Code of 201 should be expected, with a receipt showing all pertinent information of the transaction. None of that is happening.</p>\n\n<p>The expected arguments are:</p>\n\n<ul>\n<li>Type (in this case, it will always be \"transfer\")</li>\n<li>To (the account ID)</li>\n<li>Amount (A double value)</li>\n<li>Currency (Currency unit of the amount to be transferred)</li>\n</ul>\n\n<p>I have systematically changed every variable of my request, every body/header element, changing account IDs (to and from), inputting invalid currencies, amounts, etc. Each time, a <code>404 Bad Request</code> is returned, telling me where the error is. I also make several other API calls at other points, each requiring the Authorization Headers, and those pass and return the expected data. This means my current setup for making the API calls is correct, at least in terms of the code. </p>\n\n<p>Here is my current calling method:</p>\n\n<p>Main:</p>\n\n<pre><code>    JSONObject j = APICallBuilder.convertCurrency(CurrencyHandler.findCurrencyID(\"ETH\"), CurrencyHandler.findCurrencyID(\"BTC\"), 54);\n    System.out.println(j.toString(1));\n</code></pre>\n\n<p>CurrencyHandler:</p>\n\n<pre><code>    public static String findCurrencyID(String code) {\n        String ID = \"Invalid code\";\n        for(int i = 0; i &lt; currencyArray.length; i++) {\n            if(currencyArray[i].getCode().equals(code)) {\n                ID = currencyArray[i].getID();\n            }\n        }\n        return ID;\n    }\n</code></pre>\n\n<p>I obtain the ID value directly from the <a href=\"https://api.coinbase.com/v2/accounts\" rel=\"nofollow noreferrer\">https://api.coinbase.com/v2/accounts</a> call, and I am certain it is correct, as incorrect values (to or from) will cause a <code>404 Bad Request</code> Response.I tested this by retaining the same format of the IDs, but replacing a single character with another character (ensuring the character was between 0-f, just like the original ID).</p>\n\n<p>API Call:</p>\n\n<pre><code>    public static JSONObject convertCurrency(String fromCode, String toCode, double amount) {\n        String url = requests.getJSONObject(\"convert\").getString(\"requestPath\");\n        String requestPath = \"/v2/accounts/${var}/transactions\";\n        String method = \"POST\";\n        String timestamp = getEpochTime();\n\n        url = url.replace(\"${var}\", fromCode);\n        requestPath = requestPath.replace(\"${var}\", fromCode);\n\n        JSONObject bodyFormatter = new JSONObject();\n        bodyFormatter.put(\"type\", \"transfer\");\n        bodyFormatter.put(\"to\", toCode);\n        bodyFormatter.put(\"amount\", amount);\n        bodyFormatter.put(\"currency\", \"USD\");\n\n\n        String body = bodyFormatter.toString();\n        String header = HeaderGenerator.getHMACHeader(secretKey, timestamp, method, requestPath, body);\n\n        RequestBody rb = RequestBody.create(JSON, bodyFormatter.toString());\n\n        Request request = new Request.Builder()\n                .addHeader(CB_ACCESS_KEY, accessKey)\n                .addHeader(CB_ACCESS_SIGN, header)\n                .addHeader(CB_ACCESS_TIMESTAMP, timestamp)\n                .addHeader(CB_VERSION, getDate())\n                .addHeader(\"Accept\", \"application/json\")\n                .addHeader(\"Content-Type\", \"application/json\")\n                .url(url)\n                .post(rb)\n                .build();\n\n        Response res;\n        JSONObject par = null;\n        try {\n            res = APICommunicator.sendRequest(request);\n            String data = res.body().string();\n            System.out.println(res.code());\n            par = new JSONObject(data);\n        } catch (IOException e) {\n            e.printStackTrace();\n            ErrorLogger.logException(e);\n        }\n\n        return par;\n    }\n</code></pre>\n\n<p>Is there something about the API I am missing? I have read through the entire documentation several times, and I cannot find how or why this is occurring. </p>\n"},{"tags":["java","android","firebase","firebase-storage"],"comments":[{"owner":{"account_id":2197099,"reputation":2498,"user_id":1942463,"display_name":"Rajasekaran M"},"score":0,"creation_date":1647496790,"post_id":71507624,"comment_id":126387140,"body_markdown":"can you add your error log?","body":"can you add your error log?"},{"owner":{"account_id":24585605,"reputation":1,"user_id":18490160,"display_name":"Dotan Beck"},"score":0,"creation_date":1647498733,"post_id":71507624,"comment_id":126387497,"body_markdown":"sure added it to the post. thanks","body":"sure added it to the post. thanks"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1647526305,"post_id":71507624,"comment_id":126397045,"body_markdown":"Which exact line in the code you shared causes this exception?","body":"Which exact line in the code you shared causes this exception?"},{"owner":{"account_id":24585605,"reputation":1,"user_id":18490160,"display_name":"Dotan Beck"},"score":0,"creation_date":1647529085,"post_id":71507624,"comment_id":126398388,"body_markdown":"The function UploadFile - the first lines (after the if statements) - something in here: \n StorageReference fileReference = mStorageRef.child(System.currentTimeMillis()+ &quot;.&quot; + getFileExtension(mImageUri));\n            fileReference.putFile(mImageUri)\n                    .addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {","body":"The function UploadFile - the first lines (after the if statements) - something in here:   StorageReference fileReference = mStorageRef.child(System.currentTimeMillis()+ &quot;.&quot; + getFileExtension(mImageUri));             fileReference.putFile(mImageUri)                     .addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {"},{"owner":{"account_id":81296,"reputation":1742,"user_id":229326,"accept_rate":67,"display_name":"Greg Fenton"},"score":0,"creation_date":1647529824,"post_id":71507624,"comment_id":126398724,"body_markdown":"Does &quot;uploads&quot; exist ?","body":"Does &quot;uploads&quot; exist ?"},{"owner":{"account_id":24585605,"reputation":1,"user_id":18490160,"display_name":"Dotan Beck"},"score":0,"creation_date":1647584040,"post_id":71507624,"comment_id":126412353,"body_markdown":"yes there is a folder name &quot;uploads&quot; in firebase","body":"yes there is a folder name &quot;uploads&quot; in firebase"}],"answers":[{"tags":[],"owner":{"account_id":24566059,"reputation":1,"user_id":18473200,"display_name":"praveen singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647526132,"creation_date":1647500183,"answer_id":71508152,"question_id":71507624,"body_markdown":"I found solution, when i got to know that i have to give complete path of an image:\r\n\r\n```\r\nstorageReference.child(&quot;users&quot;).child(userID).child(&quot;screenshot&quot;)\r\n          .child(imagePath).getFile(localFile)\r\n```","title":"Firebase - StorageException: StorageException has occurred -&gt; Object does not exist at location","body":"<p>I found solution, when i got to know that i have to give complete path of an image:</p>\n<pre><code>storageReference.child(&quot;users&quot;).child(userID).child(&quot;screenshot&quot;)\n          .child(imagePath).getFile(localFile)\n</code></pre>\n"}],"owner":{"account_id":24585605,"reputation":1,"user_id":18490160,"display_name":"Dotan Beck"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1143,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647526132,"creation_date":1647496433,"question_id":71507624,"body_markdown":"\r\nWhat I&#39;m basically trying to do here is get an image from the phone, choose it, show it on the screen, and upload it to the Firebase storage. \r\n\r\n\r\nAfter looking at a lot of other answers on the internet and even here, I still couldn&#39;t understand why that UploadFile function still doesn&#39;t work. \r\n\r\nfor now, I implemented a progress bar (while on progress) on failure toast and if the user didn&#39;t choose an image I also created a toast. \r\n\r\nbut something is getting wrong with the OnSuccess all I have commented out all the irrelevant things and left only the toast message and still it doesn&#39;t work and getting me the exception. \r\n\r\nHere is the code: \r\n\r\n```\r\n\r\npublic class PhotoActivity extends AppCompatActivity {\r\n    //using this videos:\r\n    //https://www.youtube.com/watch?v=MfCiiTEwt3g&amp;list=PLrnPJCHvNZuB_7nB5QD-4bNg6tpdEUImQ\r\n\r\n    private static final int PICK_IMAGE_REQUEST =1;\r\n    private Button mButtonChooseImage;\r\n    private Button mButtonUpload;\r\n    private EditText mImageTitel;\r\n    private ImageView mImageView;\r\n    private ProgressBar mProgressBar;\r\n    private Uri mImageUri;\r\n\r\n    private StorageReference mStorageRef;\r\n    private DatabaseReference mDatabaseRef;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        Log.i( &quot;PhotoActivity&quot;,&quot;created activity&quot;);\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_photo);\r\n\r\n        //cosmetics for splash screen\r\n        getSupportActionBar().hide();\r\n\r\n        mButtonChooseImage = findViewById(R.id.choose_image);\r\n        mButtonUpload = findViewById(R.id.image_upload);\r\n        mImageTitel = findViewById(R.id.image_titel_text);\r\n        mImageView = findViewById(R.id.image_view);\r\n        mProgressBar = findViewById(R.id.progress_bar);\r\n        mStorageRef = FirebaseStorage.getInstance().getReference(&quot;uploads&quot;);\r\n        mDatabaseRef = FirebaseDatabase.getInstance().getReference(&quot;uploads&quot;);\r\n\r\n\r\n        mButtonChooseImage.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Log.i( &quot;PhotoActivity&quot;,&quot;clicked on chooseImageButton&quot;);\r\n                //create new intent and preper it to send for opening new activity for choosing the window.\r\n                Intent intent = new Intent();\r\n                intent.setAction(Intent.ACTION_GET_CONTENT);\r\n                intent.setType(&quot;image/*&quot;);\r\n                Log.i( &quot;PhotoActivity&quot;,&quot;created intent&quot;);\r\n                someActivityResultLauncher.launch(intent);\r\n            }\r\n        });\r\n\r\n        mButtonUpload.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Log.i( &quot;PhotoActivity&quot;,&quot;clicked on buttonUpload&quot;);\r\n                uploadFile();\r\n            }\r\n        });\r\n    }\r\n\r\n    //  creating new activity for the image choose window.\r\n    ActivityResultLauncher&lt;Intent&gt; someActivityResultLauncher = registerForActivityResult(\r\n            new ActivityResultContracts.StartActivityForResult(),\r\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\r\n                @Override\r\n                public void onActivityResult(ActivityResult result) {\r\n                    Log.i( &quot;PhotoActivity&quot;,&quot;in Result Launcher&quot;);\r\n                    if (result.getResultCode() == Activity.RESULT_OK) {\r\n                        // There are no request codes\r\n                        Intent data = result.getData();\r\n                        mImageUri  = data.getData();\r\n                        //Load Image had to be in a function outside of the ActivityResult becouse of the &quot;this&quot; statment&quot;\r\n                        LoadImage();\r\n                    }\r\n                }\r\n            });\r\n\r\n\r\n     private void LoadImage(){\r\n        Picasso.with(this).load(mImageUri).into(mImageView);\r\n     }\r\n\r\n     //getting the file extension (.jpg / .png) and such.\r\n     private String getFileExtension(Uri uri ){\r\n         ContentResolver cR = getContentResolver();\r\n         MimeTypeMap mime = MimeTypeMap.getSingleton();\r\n         return mime.getExtensionFromMimeType(cR.getType(uri));\r\n     }\r\n     private void uploadFile(){\r\n        if (mImageUri != null){\r\n            //uploading the image to storage with the name in milliseconds (thats how we use uniq name).\r\n            StorageReference fileReference = mStorageRef.child(System.currentTimeMillis()+ &quot;.&quot; + getFileExtension(mImageUri));\r\n            fileReference.putFile(mImageUri)\r\n                    .addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                        @Override\r\n                        public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\r\n                            //after 5 seconds get the progress bur to 0 again.\r\n                            /*\r\n                            Handler handler = new Handler();\r\n                            handler.postDelayed(new Runnable() {\r\n                                @Override\r\n                                public void run() {\r\n                                    mProgressBar.setProgress(0);\r\n                                }\r\n                            }, 5000);\r\n\r\n                             */\r\n                            Toast.makeText(PhotoActivity.this, &quot;Upload sucseesful&quot;, Toast.LENGTH_LONG).show();\r\n\r\n                            //UploadImage upload = new UploadImage(mImageTitel.getText().toString().trim(),  fileReference.getDownloadUrl().toString());\r\n                            //String uploadID = mDatabaseRef.push().getKey();\r\n                           // mDatabaseRef.child(uploadID).setValue(upload);\r\n                        }\r\n                    })\r\n                    .addOnFailureListener(new OnFailureListener() {\r\n                        @Override\r\n                        public void onFailure(@NonNull Exception e) {\r\n                            Toast.makeText(PhotoActivity.this, e.getMessage(), Toast.LENGTH_LONG).show();\r\n                        }\r\n                    })\r\n                    .addOnProgressListener(new OnProgressListener&lt;UploadTask.TaskSnapshot&gt;() {\r\n                        @Override\r\n                        public void onProgress(@NonNull UploadTask.TaskSnapshot snapshot) {\r\n                            double progress = (100.0 * snapshot.getBytesTransferred() / snapshot.getTotalByteCount());\r\n                            mProgressBar.setProgress((int) progress);\r\n                        }\r\n                    });\r\n        }else{\r\n            Toast.makeText(this, &quot;Please Select Image&quot;, Toast.LENGTH_LONG).show();\r\n\r\n        }\r\n     }\r\n}\r\n\r\n\r\n```\r\n\r\nThe Exception log:\r\n\r\n```\r\n2022-03-17 07:50:23.700 8153-8489/com.example.gesti_app E/StorageException: StorageException has occurred.\r\n    Object does not exist at location.\r\n     Code: -13010 HttpResult: 404\r\n2022-03-17 07:50:23.701 8153-8489/com.example.gesti_app E/StorageException: The server has terminated the upload session\r\n    java.io.IOException: The server has terminated the upload session\r\n        at com.google.firebase.storage.UploadTask.serverStateValid(UploadTask.java:339)\r\n        at com.google.firebase.storage.UploadTask.shouldContinue(UploadTask.java:308)\r\n        at com.google.firebase.storage.UploadTask.run(UploadTask.java:229)\r\n        at com.google.firebase.storage.StorageTask.lambda$getRunnable$7$com-google-firebase-storage-StorageTask(StorageTask.java:1072)\r\n        at com.google.firebase.storage.StorageTask$$ExternalSyntheticLambda3.run(Unknown Source:2)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\r\n        at java.lang.Thread.run(Thread.java:923)\r\n     Caused by: java.io.IOException: {  &quot;error&quot;: {    &quot;code&quot;: 404,    &quot;message&quot;: &quot;Not Found.&quot;  }}\r\n        at com.google.firebase.storage.network.NetworkRequest.parseResponse(NetworkRequest.java:445)\r\n        at com.google.firebase.storage.network.NetworkRequest.parseErrorResponse(NetworkRequest.java:462)\r\n        at com.google.firebase.storage.network.NetworkRequest.processResponseStream(NetworkRequest.java:453)\r\n        at com.google.firebase.storage.network.NetworkRequest.performRequest(NetworkRequest.java:272)\r\n        at com.google.firebase.storage.network.NetworkRequest.performRequest(NetworkRequest.java:289)\r\n        at com.google.firebase.storage.internal.ExponentialBackoffSender.sendWithExponentialBackoff(ExponentialBackoffSender.java:76)\r\n        at com.google.firebase.storage.internal.ExponentialBackoffSender.sendWithExponentialBackoff(ExponentialBackoffSender.java:68)\r\n        at com.google.firebase.storage.UploadTask.sendWithRetry(UploadTask.java:477)\r\n        at com.google.firebase.storage.UploadTask.beginResumableUpload(UploadTask.java:276)\r\n        at com.google.firebase.storage.UploadTask.run(UploadTask.java:224)\r\n        at com.google.firebase.storage.StorageTask.lambda$getRunnable$7$com-google-firebase-storage-StorageTask(StorageTask.java:1072)&#160;\r\n        at com.google.firebase.storage.StorageTask$$ExternalSyntheticLambda3.run(Unknown Source:2)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)&#160;\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)&#160;\r\n        at java.lang.Thread.run(Thread.java:923)&#160;\r\n2022-03-17 07:50:23.701 8153-8489/com.example.gesti_app \r\n\r\n```\r\n\r\nThanks a lot!\r\n","title":"Firebase - StorageException: StorageException has occurred -&gt; Object does not exist at location","body":"<p>What I'm basically trying to do here is get an image from the phone, choose it, show it on the screen, and upload it to the Firebase storage.</p>\n<p>After looking at a lot of other answers on the internet and even here, I still couldn't understand why that UploadFile function still doesn't work.</p>\n<p>for now, I implemented a progress bar (while on progress) on failure toast and if the user didn't choose an image I also created a toast.</p>\n<p>but something is getting wrong with the OnSuccess all I have commented out all the irrelevant things and left only the toast message and still it doesn't work and getting me the exception.</p>\n<p>Here is the code:</p>\n<pre><code>\npublic class PhotoActivity extends AppCompatActivity {\n    //using this videos:\n    //https://www.youtube.com/watch?v=MfCiiTEwt3g&amp;list=PLrnPJCHvNZuB_7nB5QD-4bNg6tpdEUImQ\n\n    private static final int PICK_IMAGE_REQUEST =1;\n    private Button mButtonChooseImage;\n    private Button mButtonUpload;\n    private EditText mImageTitel;\n    private ImageView mImageView;\n    private ProgressBar mProgressBar;\n    private Uri mImageUri;\n\n    private StorageReference mStorageRef;\n    private DatabaseReference mDatabaseRef;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        Log.i( &quot;PhotoActivity&quot;,&quot;created activity&quot;);\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_photo);\n\n        //cosmetics for splash screen\n        getSupportActionBar().hide();\n\n        mButtonChooseImage = findViewById(R.id.choose_image);\n        mButtonUpload = findViewById(R.id.image_upload);\n        mImageTitel = findViewById(R.id.image_titel_text);\n        mImageView = findViewById(R.id.image_view);\n        mProgressBar = findViewById(R.id.progress_bar);\n        mStorageRef = FirebaseStorage.getInstance().getReference(&quot;uploads&quot;);\n        mDatabaseRef = FirebaseDatabase.getInstance().getReference(&quot;uploads&quot;);\n\n\n        mButtonChooseImage.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Log.i( &quot;PhotoActivity&quot;,&quot;clicked on chooseImageButton&quot;);\n                //create new intent and preper it to send for opening new activity for choosing the window.\n                Intent intent = new Intent();\n                intent.setAction(Intent.ACTION_GET_CONTENT);\n                intent.setType(&quot;image/*&quot;);\n                Log.i( &quot;PhotoActivity&quot;,&quot;created intent&quot;);\n                someActivityResultLauncher.launch(intent);\n            }\n        });\n\n        mButtonUpload.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Log.i( &quot;PhotoActivity&quot;,&quot;clicked on buttonUpload&quot;);\n                uploadFile();\n            }\n        });\n    }\n\n    //  creating new activity for the image choose window.\n    ActivityResultLauncher&lt;Intent&gt; someActivityResultLauncher = registerForActivityResult(\n            new ActivityResultContracts.StartActivityForResult(),\n            new ActivityResultCallback&lt;ActivityResult&gt;() {\n                @Override\n                public void onActivityResult(ActivityResult result) {\n                    Log.i( &quot;PhotoActivity&quot;,&quot;in Result Launcher&quot;);\n                    if (result.getResultCode() == Activity.RESULT_OK) {\n                        // There are no request codes\n                        Intent data = result.getData();\n                        mImageUri  = data.getData();\n                        //Load Image had to be in a function outside of the ActivityResult becouse of the &quot;this&quot; statment&quot;\n                        LoadImage();\n                    }\n                }\n            });\n\n\n     private void LoadImage(){\n        Picasso.with(this).load(mImageUri).into(mImageView);\n     }\n\n     //getting the file extension (.jpg / .png) and such.\n     private String getFileExtension(Uri uri ){\n         ContentResolver cR = getContentResolver();\n         MimeTypeMap mime = MimeTypeMap.getSingleton();\n         return mime.getExtensionFromMimeType(cR.getType(uri));\n     }\n     private void uploadFile(){\n        if (mImageUri != null){\n            //uploading the image to storage with the name in milliseconds (thats how we use uniq name).\n            StorageReference fileReference = mStorageRef.child(System.currentTimeMillis()+ &quot;.&quot; + getFileExtension(mImageUri));\n            fileReference.putFile(mImageUri)\n                    .addOnSuccessListener(new OnSuccessListener&lt;UploadTask.TaskSnapshot&gt;() {\n                        @Override\n                        public void onSuccess(UploadTask.TaskSnapshot taskSnapshot) {\n                            //after 5 seconds get the progress bur to 0 again.\n                            /*\n                            Handler handler = new Handler();\n                            handler.postDelayed(new Runnable() {\n                                @Override\n                                public void run() {\n                                    mProgressBar.setProgress(0);\n                                }\n                            }, 5000);\n\n                             */\n                            Toast.makeText(PhotoActivity.this, &quot;Upload sucseesful&quot;, Toast.LENGTH_LONG).show();\n\n                            //UploadImage upload = new UploadImage(mImageTitel.getText().toString().trim(),  fileReference.getDownloadUrl().toString());\n                            //String uploadID = mDatabaseRef.push().getKey();\n                           // mDatabaseRef.child(uploadID).setValue(upload);\n                        }\n                    })\n                    .addOnFailureListener(new OnFailureListener() {\n                        @Override\n                        public void onFailure(@NonNull Exception e) {\n                            Toast.makeText(PhotoActivity.this, e.getMessage(), Toast.LENGTH_LONG).show();\n                        }\n                    })\n                    .addOnProgressListener(new OnProgressListener&lt;UploadTask.TaskSnapshot&gt;() {\n                        @Override\n                        public void onProgress(@NonNull UploadTask.TaskSnapshot snapshot) {\n                            double progress = (100.0 * snapshot.getBytesTransferred() / snapshot.getTotalByteCount());\n                            mProgressBar.setProgress((int) progress);\n                        }\n                    });\n        }else{\n            Toast.makeText(this, &quot;Please Select Image&quot;, Toast.LENGTH_LONG).show();\n\n        }\n     }\n}\n\n\n</code></pre>\n<p>The Exception log:</p>\n<pre><code>2022-03-17 07:50:23.700 8153-8489/com.example.gesti_app E/StorageException: StorageException has occurred.\n    Object does not exist at location.\n     Code: -13010 HttpResult: 404\n2022-03-17 07:50:23.701 8153-8489/com.example.gesti_app E/StorageException: The server has terminated the upload session\n    java.io.IOException: The server has terminated the upload session\n        at com.google.firebase.storage.UploadTask.serverStateValid(UploadTask.java:339)\n        at com.google.firebase.storage.UploadTask.shouldContinue(UploadTask.java:308)\n        at com.google.firebase.storage.UploadTask.run(UploadTask.java:229)\n        at com.google.firebase.storage.StorageTask.lambda$getRunnable$7$com-google-firebase-storage-StorageTask(StorageTask.java:1072)\n        at com.google.firebase.storage.StorageTask$$ExternalSyntheticLambda3.run(Unknown Source:2)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at java.lang.Thread.run(Thread.java:923)\n     Caused by: java.io.IOException: {  &quot;error&quot;: {    &quot;code&quot;: 404,    &quot;message&quot;: &quot;Not Found.&quot;  }}\n        at com.google.firebase.storage.network.NetworkRequest.parseResponse(NetworkRequest.java:445)\n        at com.google.firebase.storage.network.NetworkRequest.parseErrorResponse(NetworkRequest.java:462)\n        at com.google.firebase.storage.network.NetworkRequest.processResponseStream(NetworkRequest.java:453)\n        at com.google.firebase.storage.network.NetworkRequest.performRequest(NetworkRequest.java:272)\n        at com.google.firebase.storage.network.NetworkRequest.performRequest(NetworkRequest.java:289)\n        at com.google.firebase.storage.internal.ExponentialBackoffSender.sendWithExponentialBackoff(ExponentialBackoffSender.java:76)\n        at com.google.firebase.storage.internal.ExponentialBackoffSender.sendWithExponentialBackoff(ExponentialBackoffSender.java:68)\n        at com.google.firebase.storage.UploadTask.sendWithRetry(UploadTask.java:477)\n        at com.google.firebase.storage.UploadTask.beginResumableUpload(UploadTask.java:276)\n        at com.google.firebase.storage.UploadTask.run(UploadTask.java:224)\n        at com.google.firebase.storage.StorageTask.lambda$getRunnable$7$com-google-firebase-storage-StorageTask(StorageTask.java:1072)\n        at com.google.firebase.storage.StorageTask$$ExternalSyntheticLambda3.run(Unknown Source:2)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1167)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:641)\n        at java.lang.Thread.run(Thread.java:923)\n2022-03-17 07:50:23.701 8153-8489/com.example.gesti_app \n\n</code></pre>\n<p>Thanks a lot!</p>\n"},{"tags":["java","spring","spring-scheduled"],"comments":[{"owner":{"account_id":3922468,"reputation":6689,"user_id":3244185,"display_name":"Harshal Patil"},"score":0,"creation_date":1425295912,"post_id":28808588,"comment_id":45889828,"body_markdown":"7th parameter in cron expression is year so you can set over there","body":"7th parameter in cron expression is year so you can set over there"},{"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"score":1,"creation_date":1425296505,"post_id":28808588,"comment_id":45890178,"body_markdown":"spring only allows 6 chars unfortunately...","body":"spring only allows 6 chars unfortunately..."},{"owner":{"account_id":3922468,"reputation":6689,"user_id":3244185,"display_name":"Harshal Patil"},"score":0,"creation_date":1425296926,"post_id":28808588,"comment_id":45890416,"body_markdown":"7th parameter is not mandatory.","body":"7th parameter is not mandatory."},{"owner":{"account_id":1756623,"reputation":934,"user_id":1604503,"accept_rate":33,"display_name":"fukit0"},"score":0,"creation_date":1625644294,"post_id":28808588,"comment_id":120678315,"body_markdown":"You can compare the year with `if(Year.now().getValue == 2016)` inside your scheduled task.","body":"You can compare the year with <code>if(Year.now().getValue == 2016)</code> inside your scheduled task."}],"answers":[{"tags":[],"owner":{"account_id":1123213,"reputation":2510,"user_id":1111052,"accept_rate":76,"display_name":"muneebShabbir"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1425296213,"creation_date":1425296213,"answer_id":28808863,"question_id":28808588,"body_markdown":"you can mention it by this way\r\n\r\n    @Scheduled(cron = &quot;0 15 10 * * ? 2016&quot;) \t\r\n\r\nFire at 10:15 AM every day during the year 2016\r\n\r\nfor complete reference [schedule reference][1]\r\n\r\n\r\n  [1]: https://javahunter.wordpress.com/2011/05/05/cronscheduler-in-spring/","title":"How to run spring scheduled jobs only in specific year?","body":"<p>you can mention it by this way</p>\n\n<pre><code>@Scheduled(cron = \"0 15 10 * * ? 2016\")     \n</code></pre>\n\n<p>Fire at 10:15 AM every day during the year 2016</p>\n\n<p>for complete reference <a href=\"https://javahunter.wordpress.com/2011/05/05/cronscheduler-in-spring/\" rel=\"nofollow\">schedule reference</a></p>\n"},{"tags":[],"owner":{"account_id":16085360,"reputation":71,"user_id":11610232,"display_name":"rBay"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1583167514,"creation_date":1583167514,"answer_id":60493215,"question_id":28808588,"body_markdown":"Spring scheduling cron only admit six parameters: second, minute, hour, day, month, weekday. You can see documentation here: https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/scheduling/support/CronSequenceGenerator.html","title":"How to run spring scheduled jobs only in specific year?","body":"<p>Spring scheduling cron only admit six parameters: second, minute, hour, day, month, weekday. You can see documentation here: <a href=\"https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/scheduling/support/CronSequenceGenerator.html\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/scheduling/support/CronSequenceGenerator.html</a></p>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8420,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":2,"score":5,"last_activity_date":1647526122,"creation_date":1425295412,"question_id":28808588,"body_markdown":"    @Scheduled(cron = &quot;0 0 0 * * *&quot;)\r\nThis runs a spring scheduled job at midnight. How could I add the year excplicit where this job should run? (I just want to disable a job in test environment for this year, so I want to set 2016).","title":"How to run spring scheduled jobs only in specific year?","body":"<pre><code>@Scheduled(cron = \"0 0 0 * * *\")\n</code></pre>\n\n<p>This runs a spring scheduled job at midnight. How could I add the year excplicit where this job should run? (I just want to disable a job in test environment for this year, so I want to set 2016).</p>\n"},{"tags":["java","java-8","preferences","apache-karaf","apache-servicemix"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1647525528,"post_id":71513570,"comment_id":126396701,"body_markdown":"That just means that `fakeKey` can&#39;t be resolved to a byte array.","body":"That just means that <code>fakeKey</code> can&#39;t be resolved to a byte array."},{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1647525536,"post_id":71513570,"comment_id":126396706,"body_markdown":"It seems likely that it isn&#39;t the Java version.  It seems that your `Preferences` isn&#39;t returning a value and you&#39;re trying to construct a String from null.","body":"It seems likely that it isn&#39;t the Java version.  It seems that your <code>Preferences</code> isn&#39;t returning a value and you&#39;re trying to construct a String from null."},{"owner":{"account_id":23908312,"reputation":5,"user_id":17905600,"display_name":"greenTea"},"score":0,"creation_date":1647527240,"post_id":71513570,"comment_id":126397509,"body_markdown":"Thank you for the answer stdunbar. I believe you are correct, the systemNodeForPackage() function seems to be returning a different value than it was with java 282. Would the best fix for this be to use a different function to retrieve the system preference node?","body":"Thank you for the answer stdunbar. I believe you are correct, the systemNodeForPackage() function seems to be returning a different value than it was with java 282. Would the best fix for this be to use a different function to retrieve the system preference node?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1647532139,"post_id":71513570,"comment_id":126399726,"body_markdown":"I think that would be a blind alley.  The real problem is that your preferences are not set up properly.  If there is no key in the preferences called &quot;fakeKey&quot; or if its value is not a byteArray, then the javadocs state clearly that `x.getByteArray(&quot;fakeKey&quot;, null)` **should** return `null`.","body":"I think that would be a blind alley.  The real problem is that your preferences are not set up properly.  If there is no key in the preferences called &quot;fakeKey&quot; or if its value is not a byteArray, then the javadocs state clearly that <code>x.getByteArray(&quot;fakeKey&quot;, null)</code> <b>should</b> return <code>null</code>."}],"owner":{"account_id":23908312,"reputation":5,"user_id":17905600,"display_name":"greenTea"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647526103,"creation_date":1647525364,"question_id":71513570,"body_markdown":"I am trying to upgrade the version of java being used on my machine from Java 8 v282 to Java 8 v311. When I do upgrade to 311 a servicemix bundle will no longer load correctly. The stack trace of when the bundle failed to load said\r\n\r\n    java.lang.NullPointerException\r\n    at java.lang.String.&lt;init&gt;(Unknown Source)\r\n\r\nand it pointed at the following code causing the error:\r\n\r\n    Preferences x = Preferences.systemNodeForPackage(test.class);\r\n    String pass = new String(x.getByteArray(&quot;fakeKey&quot;, null));\r\n\r\nIs this getByteArray() function deprecated in java 8 v311, because it was working with v282?","title":"Servicemix bundle breaks when upgrading to Java 8 v311","body":"<p>I am trying to upgrade the version of java being used on my machine from Java 8 v282 to Java 8 v311. When I do upgrade to 311 a servicemix bundle will no longer load correctly. The stack trace of when the bundle failed to load said</p>\n<pre><code>java.lang.NullPointerException\nat java.lang.String.&lt;init&gt;(Unknown Source)\n</code></pre>\n<p>and it pointed at the following code causing the error:</p>\n<pre><code>Preferences x = Preferences.systemNodeForPackage(test.class);\nString pass = new String(x.getByteArray(&quot;fakeKey&quot;, null));\n</code></pre>\n<p>Is this getByteArray() function deprecated in java 8 v311, because it was working with v282?</p>\n"},{"tags":["java","maven","jersey","war"],"comments":[{"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"score":2,"creation_date":1647525060,"post_id":71512617,"comment_id":126396481,"body_markdown":"Don&#39;t mix Eclipse and Maven mechanisms.","body":"Don&#39;t mix Eclipse and Maven mechanisms."}],"answers":[{"tags":[],"owner":{"account_id":13312836,"reputation":58,"user_id":9610341,"display_name":"Varshith"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647526094,"creation_date":1647525640,"answer_id":71513633,"question_id":71512617,"body_markdown":"Keeping the Eclipse tooling aside, from a Maven configuration perspective:\r\n- Maven does not load classes from a WAR artifact, as it would load from a JAR artifact.\r\n- Ideally WAR artifacts are not supposed to be used as a dependency, unless you&#39;re building a final EAR artifact.\r\n\r\nYou have the following choices. All of them require a modification to ProjectB as well:\r\n\r\n - Although this is the least likely case, if ProjectA is not used for deploying a web application, you could just change its packaging to jar\r\n - You could move all the required classes to a separate module that builds a JAR, and use this dependency in both ProjectA and ProjectB.\r\n - If you do not want to move the classes to another module/project, you can configure the war plugin in ProjectA to generate a jar artifact alongside the war artifact, using `&lt;attachClasses&gt;true&lt;/attachClasses&gt;`\r\n\r\n```xml\r\n&lt;project&gt;\r\n    ...\r\n    &lt;artifactId&gt;yourWebapp&lt;/artifactId&gt;\r\n    &lt;version&gt;yourVersion&lt;/version&gt;\r\n    ...\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.3.2&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n              &lt;attachClasses&gt;true&lt;/attachClasses&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    ...\r\n&lt;/project&gt;\r\n```\r\nThis produces a classes artifact in ProjectA, which can be used in ProjectB as a dependency with `&lt;classifier&gt;classes&lt;/classifier&gt;`\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;yourGroupId&lt;/groupId&gt;\r\n    &lt;artifactId&gt;yourWebapp&lt;/artifactId&gt;\r\n    &lt;version&gt;yourVersion&lt;/version&gt;\r\n    &lt;classifier&gt;classes&lt;/classifier&gt;\r\n&lt;/dependency&gt;\r\n```\r\n","title":"Project as dependency not packaged in .war file","body":"<p>Keeping the Eclipse tooling aside, from a Maven configuration perspective:</p>\n<ul>\n<li>Maven does not load classes from a WAR artifact, as it would load from a JAR artifact.</li>\n<li>Ideally WAR artifacts are not supposed to be used as a dependency, unless you're building a final EAR artifact.</li>\n</ul>\n<p>You have the following choices. All of them require a modification to ProjectB as well:</p>\n<ul>\n<li>Although this is the least likely case, if ProjectA is not used for deploying a web application, you could just change its packaging to jar</li>\n<li>You could move all the required classes to a separate module that builds a JAR, and use this dependency in both ProjectA and ProjectB.</li>\n<li>If you do not want to move the classes to another module/project, you can configure the war plugin in ProjectA to generate a jar artifact alongside the war artifact, using <code>&lt;attachClasses&gt;true&lt;/attachClasses&gt;</code></li>\n</ul>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n    ...\n    &lt;artifactId&gt;yourWebapp&lt;/artifactId&gt;\n    &lt;version&gt;yourVersion&lt;/version&gt;\n    ...\n    &lt;build&gt;\n      &lt;plugins&gt;\n          &lt;plugin&gt;\n            &lt;artifactId&gt;maven-war-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.3.2&lt;/version&gt;\n            &lt;configuration&gt;\n              &lt;attachClasses&gt;true&lt;/attachClasses&gt;\n            &lt;/configuration&gt;\n          &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/build&gt;\n    ...\n&lt;/project&gt;\n</code></pre>\n<p>This produces a classes artifact in ProjectA, which can be used in ProjectB as a dependency with <code>&lt;classifier&gt;classes&lt;/classifier&gt;</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;yourGroupId&lt;/groupId&gt;\n    &lt;artifactId&gt;yourWebapp&lt;/artifactId&gt;\n    &lt;version&gt;yourVersion&lt;/version&gt;\n    &lt;classifier&gt;classes&lt;/classifier&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":3764517,"reputation":1588,"user_id":3128369,"accept_rate":55,"display_name":"buzoherbert"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":558,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647526094,"creation_date":1647521517,"question_id":71512617,"body_markdown":"I have a Jersey Tomcat project B that depends on another similar project A, I am developing on Eclipse.\r\n\r\nWhen I run A on it&#39;s own, it runs with no problems. The export configuration for its build path is:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAnd the deployment assembly for A is:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThen, for project B, I imported project A into the java build path like this:\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThe build path for project B looks like this:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nAnd the web deployment assembly for project B is:\r\n\r\n[![enter image description here][5]][5]\r\n\r\nProject A is listed as a .war, I am not sure if this is related to the issue. The pom.xml for project A lists war as packaging:\r\n\r\n\t&lt;packaging&gt;war&lt;/packaging&gt;\r\n\r\nThe pom.xml for project B mentions project A like so:\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;some.project.A&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;flocktracker&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;compile&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nEclipse doesn&#39;t show any issues until when I try to deploy in a Tomcat server, whe I get this error:\r\n\r\n    java.lang.NoClassDefFoundError: some/project/A/SomeClassInA\r\n    \tat some.project.B.SomeClassInB.&lt;init&gt;(SomeClassInB.java:##)\r\n\r\nIf it helps, SomeClassInA is an implementation of `org.glassfish.jersey.server.ResourceConfig`.\r\n\r\n\r\nSomeClassInA is mentioned in the web.xml file like so:\r\n\r\n\t&lt;init-param&gt;\r\n\t\t&lt;param-name&gt;jersey.config.server.provider.classnames&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;some.projectA.SomeClassInA&lt;/param-value&gt;\r\n\t&lt;/init-param&gt;\r\n\r\nSomeClassInA is an implementation of `javax.ws.rs.ext.ContextResolver&lt;T&gt;`\r\n\r\nI used right click on `project &gt; export &gt; WAR file` to examine the contents of the file and I couldn&#39;t find the classes of Project A on WEB-INF/classess or elsewhere in the .war file.\r\n\r\nIs there something I am missing or that I am doing wrong?\r\n\r\nThanks!\r\n\r\n  [1]: https://i.stack.imgur.com/e82DZ.png\r\n  [2]: https://i.stack.imgur.com/jm6h8.png\r\n  [3]: https://i.stack.imgur.com/YQfDB.png\r\n  [4]: https://i.stack.imgur.com/JWb8y.png\r\n  [5]: https://i.stack.imgur.com/m2l58.png\r\n","title":"Project as dependency not packaged in .war file","body":"<p>I have a Jersey Tomcat project B that depends on another similar project A, I am developing on Eclipse.</p>\n<p>When I run A on it's own, it runs with no problems. The export configuration for its build path is:</p>\n<p><a href=\"https://i.stack.imgur.com/e82DZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e82DZ.png\" alt=\"enter image description here\" /></a></p>\n<p>And the deployment assembly for A is:</p>\n<p><a href=\"https://i.stack.imgur.com/jm6h8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jm6h8.png\" alt=\"enter image description here\" /></a></p>\n<p>Then, for project B, I imported project A into the java build path like this:</p>\n<p><a href=\"https://i.stack.imgur.com/YQfDB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YQfDB.png\" alt=\"enter image description here\" /></a></p>\n<p>The build path for project B looks like this:</p>\n<p><a href=\"https://i.stack.imgur.com/JWb8y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JWb8y.png\" alt=\"enter image description here\" /></a></p>\n<p>And the web deployment assembly for project B is:</p>\n<p><a href=\"https://i.stack.imgur.com/m2l58.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/m2l58.png\" alt=\"enter image description here\" /></a></p>\n<p>Project A is listed as a .war, I am not sure if this is related to the issue. The pom.xml for project A lists war as packaging:</p>\n<pre><code>&lt;packaging&gt;war&lt;/packaging&gt;\n</code></pre>\n<p>The pom.xml for project B mentions project A like so:</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;some.project.A&lt;/groupId&gt;\n        &lt;artifactId&gt;flocktracker&lt;/artifactId&gt;\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>Eclipse doesn't show any issues until when I try to deploy in a Tomcat server, whe I get this error:</p>\n<pre><code>java.lang.NoClassDefFoundError: some/project/A/SomeClassInA\n    at some.project.B.SomeClassInB.&lt;init&gt;(SomeClassInB.java:##)\n</code></pre>\n<p>If it helps, SomeClassInA is an implementation of <code>org.glassfish.jersey.server.ResourceConfig</code>.</p>\n<p>SomeClassInA is mentioned in the web.xml file like so:</p>\n<pre><code>&lt;init-param&gt;\n    &lt;param-name&gt;jersey.config.server.provider.classnames&lt;/param-name&gt;\n    &lt;param-value&gt;some.projectA.SomeClassInA&lt;/param-value&gt;\n&lt;/init-param&gt;\n</code></pre>\n<p>SomeClassInA is an implementation of <code>javax.ws.rs.ext.ContextResolver&lt;T&gt;</code></p>\n<p>I used right click on <code>project &gt; export &gt; WAR file</code> to examine the contents of the file and I couldn't find the classes of Project A on WEB-INF/classess or elsewhere in the .war file.</p>\n<p>Is there something I am missing or that I am doing wrong?</p>\n<p>Thanks!</p>\n"},{"tags":["java","swing","user-interface","layout-manager","cardlayout"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1647456227,"post_id":71501936,"comment_id":126378617,"body_markdown":"Change the layout to `new GridLayout(0, 1)` and you&#39;ll be able to add one `JLabel`.  You have to specify the Swing components in the order that you want them to appear in the grid layout.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.","body":"Change the layout to <code>new GridLayout(0, 1)</code> and you&#39;ll be able to add one <code>JLabel</code>.  You have to specify the Swing components in the order that you want them to appear in the grid layout.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1647461404,"post_id":71501936,"comment_id":126380300,"body_markdown":"*Why* do you feel there is a need to add components to a `GridLayout` non sequentially? See also [What is the XY problem?](https://meta.stackexchange.com/q/66377/155831)","body":"<i>Why</i> do you feel there is a need to add components to a <code>GridLayout</code> non sequentially? See also <a href=\"https://meta.stackexchange.com/q/66377/155831\">What is the XY problem?</a>"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1647489756,"post_id":71501936,"comment_id":126385939,"body_markdown":"I think maybe [GridBagLayout](https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html) is more appropriate.","body":"I think maybe <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/gridbag.html\" rel=\"nofollow noreferrer\">GridBagLayout</a> is more appropriate."}],"answers":[{"tags":[],"owner":{"account_id":21168957,"reputation":96,"user_id":15565671,"display_name":"macrofox"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647525934,"creation_date":1647525934,"answer_id":71513721,"question_id":71501936,"body_markdown":"You could add blank components to each row (`JLabel` instances for example) and then manage what those components look like over time via their index in an array.\r\n\r\n    public static void main(String [] args) {\r\n    \r\n    JFrame frame = new JFrame();\r\n    JPanel panel= new JPanel(new GridLayout(4,1));\r\n    JLabel rows[] = new JLabel[4];  //change ui content by managing these now\r\n    \r\n    for(int i=0;i&lt;4;i++){ \r\n    \trows[i] = new JLabel();\r\n    \tpanel.add(rows[i]);\r\n    }\r\n    \r\n    //Example: To modify row 3 (i.e. rows[2])\r\n    rows[2] = new JLabel(&quot;l1&quot;);\r\n    \r\n    frame.add(panel);\r\n    \r\n    frame.pack();\r\n    frame.setVisible(true);\r\n    }\r\n\r\nIn this manner you would also have better access to potentially modify row dimensions.","title":"Adding to specific position in grid layout in (java swing)","body":"<p>You could add blank components to each row (<code>JLabel</code> instances for example) and then manage what those components look like over time via their index in an array.</p>\n<pre><code>public static void main(String [] args) {\n\nJFrame frame = new JFrame();\nJPanel panel= new JPanel(new GridLayout(4,1));\nJLabel rows[] = new JLabel[4];  //change ui content by managing these now\n\nfor(int i=0;i&lt;4;i++){ \n    rows[i] = new JLabel();\n    panel.add(rows[i]);\n}\n\n//Example: To modify row 3 (i.e. rows[2])\nrows[2] = new JLabel(&quot;l1&quot;);\n\nframe.add(panel);\n\nframe.pack();\nframe.setVisible(true);\n}\n</code></pre>\n<p>In this manner you would also have better access to potentially modify row dimensions.</p>\n"}],"owner":{"account_id":21282684,"reputation":21,"user_id":15660869,"display_name":"Keham Makene"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1877,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647525934,"creation_date":1647452501,"question_id":71501936,"body_markdown":"```\r\n\tpublic static void main(String [] args) {\r\n\t\t\t\r\n\t\tJFrame frame = new JFrame();\r\n\t\t\r\n\t\tJPanel panel= new JPanel();\r\n\t\tpanel.setLayout(new GridLayout(4,1));\r\n\t\t\r\n\t\tJLabel l1 = new JLabel(&quot;l1&quot;);\r\n\t\tpanel.add(l1);\r\n\t\t\r\n        frame.add(panel);\r\n\t\t\r\n\t\tframe.pack();\r\n\t\tframe.setVisible(true);\r\n```\r\n\r\nI&#39;ve created a grid-layout with 1 column and 4 rows, is there any way I can choose in which row and column to add the label? I know of the panel.add(Component, int index) variant of the add method, but idky I always get an &quot;Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: illegal component position&quot; error. ","title":"Adding to specific position in grid layout in (java swing)","body":"<pre><code>    public static void main(String [] args) {\n            \n        JFrame frame = new JFrame();\n        \n        JPanel panel= new JPanel();\n        panel.setLayout(new GridLayout(4,1));\n        \n        JLabel l1 = new JLabel(&quot;l1&quot;);\n        panel.add(l1);\n        \n        frame.add(panel);\n        \n        frame.pack();\n        frame.setVisible(true);\n</code></pre>\n<p>I've created a grid-layout with 1 column and 4 rows, is there any way I can choose in which row and column to add the label? I know of the panel.add(Component, int index) variant of the add method, but idky I always get an &quot;Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: illegal component position&quot; error.</p>\n"},{"tags":["java","static-analysis","polaris"],"answers":[{"tags":[],"owner":{"account_id":1769122,"reputation":2136,"user_id":1614319,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647525879,"creation_date":1647525879,"answer_id":71513709,"question_id":71497953,"body_markdown":"[CWE-20][1] is intended to protect against where the product receives input or data, but it does not validate or incorrectly validates that the input has the properties that are required to process the data safely and correctly.\r\n\r\nYour single line of code doesn&#39;t really explain the nature of your problem... I&#39;m assuming that you are simply using `propValue` without validation?\r\n\r\nThus the mitigation is to de-taint the input, to protect against dodgy data, before using that input.  So you need to do something like:\r\n\r\n    String propValue = req.getParameter(propertyName);\r\n    if ( propValue.validate() )\r\n    {\r\n      ... use it\r\n    }\r\n    else\r\n    {\r\n      ... error condition\r\n    }\r\n\r\n\r\n  [1]: https://cwe.mitre.org/data/definitions/20.html","title":"How to fix CWE-20: Improper Input Validation","body":"<p><a href=\"https://cwe.mitre.org/data/definitions/20.html\" rel=\"nofollow noreferrer\">CWE-20</a> is intended to protect against where the product receives input or data, but it does not validate or incorrectly validates that the input has the properties that are required to process the data safely and correctly.</p>\n<p>Your single line of code doesn't really explain the nature of your problem... I'm assuming that you are simply using <code>propValue</code> without validation?</p>\n<p>Thus the mitigation is to de-taint the input, to protect against dodgy data, before using that input.  So you need to do something like:</p>\n<pre><code>String propValue = req.getParameter(propertyName);\nif ( propValue.validate() )\n{\n  ... use it\n}\nelse\n{\n  ... error condition\n}\n</code></pre>\n"}],"owner":{"account_id":18016429,"reputation":53,"user_id":13094836,"display_name":"Rishikesh-12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1092,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647525879,"creation_date":1647437423,"question_id":71497953,"body_markdown":"I have used polaris for static scan on one of my projects. The scan results shows that one of the java class has CWE-20 defect. It is reported for this particular line.\r\n\r\n    String propValue = req.getParameter(propertyName);\r\n\r\nI have tried a few possible ways to resolve this but was not able to resolve. Is there any way that this can be solved?","title":"How to fix CWE-20: Improper Input Validation","body":"<p>I have used polaris for static scan on one of my projects. The scan results shows that one of the java class has CWE-20 defect. It is reported for this particular line.</p>\n<pre><code>String propValue = req.getParameter(propertyName);\n</code></pre>\n<p>I have tried a few possible ways to resolve this but was not able to resolve. Is there any way that this can be solved?</p>\n"},{"tags":["java","android","sqlite","android-cursor"],"comments":[{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":0,"creation_date":1446282724,"post_id":33448922,"comment_id":54686913,"body_markdown":"simply use `DatabaseUtils.dumpCursor`, the question is: what do you want to return in `getUsersId` method (and why)? what do you want to do with that String[] ?","body":"simply use <code>DatabaseUtils.dumpCursor</code>, the question is: what do you want to return in <code>getUsersId</code> method (and why)? what do you want to do with that String[] ?"}],"answers":[{"tags":[],"owner":{"account_id":1238981,"reputation":132436,"user_id":1202025,"accept_rate":80,"display_name":" K"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1446274638,"creation_date":1446274638,"answer_id":33448952,"question_id":33448922,"body_markdown":"Use `cursor.getInt` to get `int` value from Cursor:\r\n\r\n    if (cursor.moveToFirst()) {\r\n            do {\r\n                 int id_row=cursor.getInt(cursor.getColumnIndex(&quot;id&quot;));\r\n                 //int id_row=cursor.getInt(0);\r\n                 Log.d(&quot;TAG&quot;,&quot;id is ::&quot;+id_row);\r\n            } while (cursor.moveToNext());\r\n        }","title":"Cursor to log id column value in activity","body":"<p>Use <code>cursor.getInt</code> to get <code>int</code> value from Cursor:</p>\n\n<pre><code>if (cursor.moveToFirst()) {\n        do {\n             int id_row=cursor.getInt(cursor.getColumnIndex(\"id\"));\n             //int id_row=cursor.getInt(0);\n             Log.d(\"TAG\",\"id is ::\"+id_row);\n        } while (cursor.moveToNext());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":921906,"reputation":5190,"user_id":953454,"accept_rate":20,"display_name":"dex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647525823,"creation_date":1446274912,"answer_id":33448986,"question_id":33448922,"body_markdown":"You can try in this way \r\n\r\n    \tif (cursor.moveToFirst()) \r\n    \t{\r\n    \t\tdo\r\n    \t\t{\r\n    \t\t\tint idIndex = cursor.getColumnIndex(&quot;id&quot;);\r\n    \t\t\tif ( ideIndex != -1)\r\n    \t\t\t{\r\n    \t\t\t\tint ID = cursor.getInt(idIndex);\r\n    \t\t\t}\r\n    \t\t} while (cursor.moveToNext());\r\n    \t}","title":"Cursor to log id column value in activity","body":"<p>You can try in this way</p>\n<pre><code>    if (cursor.moveToFirst()) \n    {\n        do\n        {\n            int idIndex = cursor.getColumnIndex(&quot;id&quot;);\n            if ( ideIndex != -1)\n            {\n                int ID = cursor.getInt(idIndex);\n            }\n        } while (cursor.moveToNext());\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4712232,"reputation":1904,"user_id":4010484,"accept_rate":73,"display_name":"Parth Bhayani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1446274926,"creation_date":1446274926,"answer_id":33448992,"question_id":33448922,"body_markdown":"Try this,\r\n\r\n**Please check this condition, if your cursor.getCount&gt;0**\r\n\r\n    if (cursor.getCount() &gt; 0) {\r\n    \t\t\t\tcursor.moveToFirst();\r\n    \t\t\t\tdo {\r\n    \t\t\t\t\tString strId = cursor.getString(cursor.getColumnIndex(&quot;yourid&quot;);\r\n    \r\n    \t\t\t\t} while (cursor.moveToNext());\r\n    \t\t\t}","title":"Cursor to log id column value in activity","body":"<p>Try this,</p>\n\n<p><strong>Please check this condition, if your cursor.getCount>0</strong></p>\n\n<pre><code>if (cursor.getCount() &gt; 0) {\n                cursor.moveToFirst();\n                do {\n                    String strId = cursor.getString(cursor.getColumnIndex(\"yourid\");\n\n                } while (cursor.moveToNext());\n            }\n</code></pre>\n"}],"owner":{"account_id":4398775,"reputation":2614,"user_id":3585072,"accept_rate":64,"display_name":"Sophie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":33448952,"answer_count":3,"score":1,"last_activity_date":1647525823,"creation_date":1446274440,"question_id":33448922,"body_markdown":"How do I loop to get `id` column values from `users` table, where &quot;id&quot; generated through :\r\n\r\n    id integer primary key autoincrement\r\n\r\nI have records like this in my table:\r\n\r\n    id     name\r\n\r\n    1       Me\r\n\r\n    2      You\r\n\r\nHere is what i think i should try:\r\n\r\n    public String[] getUsersId() {\r\n\r\n\t\tString selectQuery = &quot;SELECT id FROM &quot; + TABLE_USERS;\r\n\t          SQLiteDatabase db = this.getReadableDatabase();\r\n\t          \r\n\t    Cursor cursor = db.rawQuery(selectQuery, null);\r\n\t             String[] data = null;\r\n\t             \r\n\t    if (cursor.moveToFirst()) {\r\n\t        do {\r\n\r\n\t        } while (cursor.moveToNext());\r\n\t    }\r\n\t    \r\n\t    db.close();\r\n\t    return data;\r\n\t}\r\n\r\nNow, I would like to know how can I log all the &quot;id&quot; in my activity ?","title":"Cursor to log id column value in activity","body":"<p>How do I loop to get <code>id</code> column values from <code>users</code> table, where \"id\" generated through :</p>\n\n<pre><code>id integer primary key autoincrement\n</code></pre>\n\n<p>I have records like this in my table:</p>\n\n<pre><code>id     name\n\n1       Me\n\n2      You\n</code></pre>\n\n<p>Here is what i think i should try:</p>\n\n<pre><code>public String[] getUsersId() {\n\n    String selectQuery = \"SELECT id FROM \" + TABLE_USERS;\n          SQLiteDatabase db = this.getReadableDatabase();\n\n    Cursor cursor = db.rawQuery(selectQuery, null);\n             String[] data = null;\n\n    if (cursor.moveToFirst()) {\n        do {\n\n        } while (cursor.moveToNext());\n    }\n\n    db.close();\n    return data;\n}\n</code></pre>\n\n<p>Now, I would like to know how can I log all the \"id\" in my activity ?</p>\n"},{"tags":["java","http","sockets","chunked-encoding"],"answers":[{"tags":[],"owner":{"account_id":25589,"reputation":562121,"user_id":65863,"accept_rate":75,"display_name":"Remy Lebeau"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647456086,"creation_date":1647456086,"answer_id":71502712,"question_id":71502165,"body_markdown":"&gt; 3 Chunks. For each chunk respond with 100 Continue\r\n\r\nThat is not how `Expect: 100-Continue` works.  Your server code is completely wrong for what you are attempting to do.  In fact, your server code is completely wrong for an HTTP server in general.  It is not even attempting to parse the HTTP protocol at all.  Not the HTTP headers, not the HTTP chunks, nothing.  Is there a reason why you are not using an actual HTTP server implementation, such as Java&#39;s own [`HttpServer`](https://docs.oracle.com/javase/8/docs/jre/api/net/httpserver/spec/com/sun/net/httpserver/HttpServer.html)?\r\n\r\nWhen using `Expect: 100-Continue`, the client is required to send ONLY the request headers, and then STOP AND WAIT a few seconds to see if the server sends a `100` response or not:\r\n\r\n- If the server responds with `100`, the client can then finish the request by sending the request body, and then receive a final response.\r\n\r\n- If the server responds with anything other than `100`, the client can fail its operation immediately without sending the request body at all.\r\n\r\n- If no response is received, the client can finish the request by sending the request body and receive the final response.\r\n\r\nThe whole point of `Expect: 100-Continue` is for a client to ask for permission before sending a large request body.  If the server doesn&#39;t want the body (ie, the headers describe unsatisfactory conditions, etc), the client doesn&#39;t have to waste effort and bandwidth to send a request body that will just be rejected.\r\n\r\n`HttpURLConnection` has built-in support for handling `100` responses, but see https://stackoverflow.com/questions/41707775/ for caveats.  Also see [JDK-8012625: Incorrect handling of HTTP/1.1 &quot; Expect: 100-continue &quot; in HttpURLConnection](https://bugs.openjdk.java.net/browse/JDK-8012625).\r\n\r\nBut, your server code as shown needs a major rewrite to handle HTTP *properly*, let alone handle chunked requests *properly*.","title":"HttpURLConnection : Why is there 5 seconds delay with every chunk when Expect:100-Continue Header is specified?","body":"<blockquote>\n<p>3 Chunks. For each chunk respond with 100 Continue</p>\n</blockquote>\n<p>That is not how <code>Expect: 100-Continue</code> works.  Your server code is completely wrong for what you are attempting to do.  In fact, your server code is completely wrong for an HTTP server in general.  It is not even attempting to parse the HTTP protocol at all.  Not the HTTP headers, not the HTTP chunks, nothing.  Is there a reason why you are not using an actual HTTP server implementation, such as Java's own <a href=\"https://docs.oracle.com/javase/8/docs/jre/api/net/httpserver/spec/com/sun/net/httpserver/HttpServer.html\" rel=\"nofollow noreferrer\"><code>HttpServer</code></a>?</p>\n<p>When using <code>Expect: 100-Continue</code>, the client is required to send ONLY the request headers, and then STOP AND WAIT a few seconds to see if the server sends a <code>100</code> response or not:</p>\n<ul>\n<li><p>If the server responds with <code>100</code>, the client can then finish the request by sending the request body, and then receive a final response.</p>\n</li>\n<li><p>If the server responds with anything other than <code>100</code>, the client can fail its operation immediately without sending the request body at all.</p>\n</li>\n<li><p>If no response is received, the client can finish the request by sending the request body and receive the final response.</p>\n</li>\n</ul>\n<p>The whole point of <code>Expect: 100-Continue</code> is for a client to ask for permission before sending a large request body.  If the server doesn't want the body (ie, the headers describe unsatisfactory conditions, etc), the client doesn't have to waste effort and bandwidth to send a request body that will just be rejected.</p>\n<p><code>HttpURLConnection</code> has built-in support for handling <code>100</code> responses, but see <a href=\"https://stackoverflow.com/questions/41707775/\">How to wait for Expect 100-continue response in Java using HttpURLConnection</a> for caveats.  Also see <a href=\"https://bugs.openjdk.java.net/browse/JDK-8012625\" rel=\"nofollow noreferrer\">JDK-8012625: Incorrect handling of HTTP/1.1 &quot; Expect: 100-continue &quot; in HttpURLConnection</a>.</p>\n<p>But, your server code as shown needs a major rewrite to handle HTTP <em>properly</em>, let alone handle chunked requests <em>properly</em>.</p>\n"},{"tags":[],"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647525728,"creation_date":1647525728,"answer_id":71513661,"question_id":71502165,"body_markdown":"So thank you @Remy Lebeau for the insights on how to properly parse this special header. I noticed after creating an basic parser and after responding properly to chunked[Transfer-Encoding:chunked header] and fixed length streaming[Content-Length header] headers that some times my client would still get stuck and wait for 5 seconds occasionally and sometimes would work with no problem.\r\n\r\nAfter hours of debugging the [com.sun.www.http.HttpURLConnection](https://github.com/frohoff/jdk8u-dev-jdk/blob/master/src/share/classes/sun/net/www/protocol/http/HttpURLConnection.java?msclkid=7d35d8d4a5f111eca568655e1b6b8665) class i realized Another flaw  was no longer in the server side but actually in the Client Side of the code. Especially this bit\r\n\r\n    con.getOutputStream().write(&quot;Hello&quot;.getBytes());\r\n    con.getOutputStream().flush();\r\n    con.getOutputStream().write(&quot;World&quot;.getBytes());\r\n    con.getOutputStream().flush();\r\n    con.getOutputStream().write(&quot;123&quot;.getBytes());\r\n    con.getOutputStream().flush();\r\n\r\nI had mistakenly assumed that [getOutputStream()](https://github.com/frohoff/jdk8u-dev-jdk/blob/da0da73ab82ed714dc5be94acd2f0d00fbdfe2e9/src/share/classes/sun/net/www/protocol/http/HttpURLConnection.java?msclkid=7d35d8d4a5f111eca568655e1b6b8665#L1240) in this  class would cache the outputstream returned but infact it returns an new output stream every single time.\r\n\r\nSo i had to change the code to this\r\n\r\n    OutputStream os=client.getOutputStream();\r\n    os.write(&quot;Hello&quot;.getBytes());\r\n    os.flush();\r\n    os.write(&quot;World&quot;.getBytes());\r\n    os.flush();\r\n    os.write(&quot;123&quot;.getBytes());\r\n    os.flush();\r\n\r\nThis finally solved all my problems. Works for chunked and fixed length streaming\r\n\r\n   \r\n","title":"HttpURLConnection : Why is there 5 seconds delay with every chunk when Expect:100-Continue Header is specified?","body":"<p>So thank you @Remy Lebeau for the insights on how to properly parse this special header. I noticed after creating an basic parser and after responding properly to chunked[Transfer-Encoding:chunked header] and fixed length streaming[Content-Length header] headers that some times my client would still get stuck and wait for 5 seconds occasionally and sometimes would work with no problem.</p>\n<p>After hours of debugging the <a href=\"https://github.com/frohoff/jdk8u-dev-jdk/blob/master/src/share/classes/sun/net/www/protocol/http/HttpURLConnection.java?msclkid=7d35d8d4a5f111eca568655e1b6b8665\" rel=\"nofollow noreferrer\">com.sun.www.http.HttpURLConnection</a> class i realized Another flaw  was no longer in the server side but actually in the Client Side of the code. Especially this bit</p>\n<pre><code>con.getOutputStream().write(&quot;Hello&quot;.getBytes());\ncon.getOutputStream().flush();\ncon.getOutputStream().write(&quot;World&quot;.getBytes());\ncon.getOutputStream().flush();\ncon.getOutputStream().write(&quot;123&quot;.getBytes());\ncon.getOutputStream().flush();\n</code></pre>\n<p>I had mistakenly assumed that <a href=\"https://github.com/frohoff/jdk8u-dev-jdk/blob/da0da73ab82ed714dc5be94acd2f0d00fbdfe2e9/src/share/classes/sun/net/www/protocol/http/HttpURLConnection.java?msclkid=7d35d8d4a5f111eca568655e1b6b8665#L1240\" rel=\"nofollow noreferrer\">getOutputStream()</a> in this  class would cache the outputstream returned but infact it returns an new output stream every single time.</p>\n<p>So i had to change the code to this</p>\n<pre><code>OutputStream os=client.getOutputStream();\nos.write(&quot;Hello&quot;.getBytes());\nos.flush();\nos.write(&quot;World&quot;.getBytes());\nos.flush();\nos.write(&quot;123&quot;.getBytes());\nos.flush();\n</code></pre>\n<p>This finally solved all my problems. Works for chunked and fixed length streaming</p>\n"}],"owner":{"account_id":7642693,"reputation":1180,"user_id":5794313,"display_name":"Sync it"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":647,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71502712,"answer_count":2,"score":0,"last_activity_date":1647525728,"creation_date":1647453479,"question_id":71502165,"body_markdown":"I am experimenting with [RFC Expect](https://datatracker.ietf.org/doc/html/rfc7231#section-5.1.1) Header in java [HttpURLConnection](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/HttpURLConnection.html?msclkid=a043c46ca54f11ecaff177aff4f8c62f) which works perfectly except for one detail. \r\n\r\nThere is an 5 second wait period between sending the body of an [Fixed Length Mode](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/HttpURLConnection.html?msclkid=a043c46ca54f11ecaff177aff4f8c62f#setFixedLengthStreamingMode(int)) or between each chunk in [Chunk Streaming Mode](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/HttpURLConnection.html?msclkid=a043c46ca54f11ecaff177aff4f8c62f#setChunkedStreamingMode(int))\r\n\r\nHere is the client class\r\n\r\n \r\n\r\n    public static void main(String[] args)throws Exception\r\n     {\r\n       HttpURLConnection con=(HttpURLConnection)new URL(&quot;http://192.168.1.2:2000/ActionG&quot;).openConnection();\r\n       \r\n       //for 100-Continue logic\r\n       con.setRequestMethod(&quot;POST&quot;);\r\n       con.setRequestProperty(&quot;Expect&quot;, &quot;100-Continue&quot;);\r\n      \r\n       //responds to 100-continue logic\r\n       con.setDoOutput(true);\r\n       con.setChunkedStreamingMode(5);\r\n       con.getOutputStream().write(&quot;Hello&quot;.getBytes());\r\n       con.getOutputStream().flush();\r\n       con.getOutputStream().write(&quot;World&quot;.getBytes());\r\n       con.getOutputStream().flush();\r\n       con.getOutputStream().write(&quot;123&quot;.getBytes());\r\n       con.getOutputStream().flush();\r\n\r\n       //decode response and response body/error if any\r\n       System.out.println(con.getResponseCode()+&quot;/&quot;+con.getResponseMessage());      \r\n       con.getHeaderFields().forEach((key,values)-&gt;\r\n       {\r\n        System.out.println(key+&quot;=&quot;+values);\r\n        System.out.println(&quot;====================&quot;);\r\n       });      \r\n       try(InputStream is=con.getInputStream()){System.out.println(new String(is.readAllBytes()));}\r\n       catch(Exception ex)\r\n       {\r\n        ex.printStackTrace(System.err);\r\n       \r\n        InputStream err=con.getErrorStream();\r\n        if(err!=null)\r\n        {\r\n         try(err){System.err.println(new String(is.readAllBytes()));}\r\n         catch(Exception ex2){throw ex2;}\r\n        }  \r\n       } \r\n       con.disconnect();\r\n      }\r\n\r\nI am uploading 3 chunks. In the server side 5 packets of data are received\r\n\r\n1. All headers. respond with 100 Continue \r\n\r\n2. 3 Chunks. For each chunk respond with 100 Continue\r\n\r\n3. Last Chunk[Length 0]. respond with 200 OK\r\n\r\nHere is the Test Server\r\n\r\n    final class TestServer\r\n    {\r\n     public static void main(String[] args)throws Exception\r\n     {\r\n      try(ServerSocket socket=new ServerSocket(2000,0,InetAddress.getLocalHost()))\r\n      {\r\n       int count=0;\r\n       try(Socket client=socket.accept())\r\n       {\r\n        int length;\r\n        byte[] buffer=new byte[5000];\r\n        InputStream is=client.getInputStream();\r\n        \r\n        OutputStream os=client.getOutputStream();\r\n        while((length=is.read(buffer))!=-1)\r\n        {\r\n         System.out.println(++count);\r\n         System.out.println(new String(buffer,0,length));\r\n         System.out.println(&quot;==========&quot;);\r\n      \r\n         if(count&lt;5)\r\n         {\r\n          os.write(&quot;HTTP/1.1 100 Continue\\r\\n\\r\\n&quot;.getBytes());\r\n          os.flush();\r\n         }\r\n         else\r\n         {\r\n          os.write(&quot;HTTP/1.1 200 Done\\r\\nContent-Length:0\\r\\n\\r\\n&quot;.getBytes());\r\n          os.flush();\r\n          break;\r\n         }   \r\n        }\r\n       }\r\n      }\r\n     }\r\n    }\r\n\r\nOutput:\r\n\r\n\r\n    1\r\n    POST /ActionG HTTP/1.1\r\n    Expect: 100-Continue\r\n    User-Agent: Java/17.0.2\r\n    Host: 192.168.1.2:2000\r\n    Accept: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2\r\n    Connection: keep-alive\r\n    Content-type: application/x-www-form-urlencoded\r\n    Transfer-Encoding: chunked\r\n    \r\n    \r\n    ==========   //5 seconds later\r\n    2\r\n    5\r\n    Hello\r\n    \r\n    ==========   //5 seconds later\r\n    3\r\n    5\r\n    World\r\n    \r\n    ==========  //5 seconds later\r\n    //this and the last chunk come seperatly but with no delay\r\n    4\r\n    3\r\n    123\r\n    \r\n    ==========\r\n    5\r\n    0\r\n    \r\n    \r\n    ==========\r\n\r\nI have checked every Timeout Method in my Connection Object\r\n\r\n    System.out.println(con.getConnectTimeout());\r\n    System.out.println(con.getReadTimeout());\r\n\r\nBoth return 0\r\n\r\nSo where is this 5 second delay coming from?\r\n\r\nI am using jdk 17.0.2 with windows 10","title":"HttpURLConnection : Why is there 5 seconds delay with every chunk when Expect:100-Continue Header is specified?","body":"<p>I am experimenting with <a href=\"https://datatracker.ietf.org/doc/html/rfc7231#section-5.1.1\" rel=\"nofollow noreferrer\">RFC Expect</a> Header in java <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/HttpURLConnection.html?msclkid=a043c46ca54f11ecaff177aff4f8c62f\" rel=\"nofollow noreferrer\">HttpURLConnection</a> which works perfectly except for one detail.</p>\n<p>There is an 5 second wait period between sending the body of an <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/HttpURLConnection.html?msclkid=a043c46ca54f11ecaff177aff4f8c62f#setFixedLengthStreamingMode(int)\" rel=\"nofollow noreferrer\">Fixed Length Mode</a> or between each chunk in <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/net/HttpURLConnection.html?msclkid=a043c46ca54f11ecaff177aff4f8c62f#setChunkedStreamingMode(int)\" rel=\"nofollow noreferrer\">Chunk Streaming Mode</a></p>\n<p>Here is the client class</p>\n<pre><code>public static void main(String[] args)throws Exception\n {\n   HttpURLConnection con=(HttpURLConnection)new URL(&quot;http://192.168.1.2:2000/ActionG&quot;).openConnection();\n   \n   //for 100-Continue logic\n   con.setRequestMethod(&quot;POST&quot;);\n   con.setRequestProperty(&quot;Expect&quot;, &quot;100-Continue&quot;);\n  \n   //responds to 100-continue logic\n   con.setDoOutput(true);\n   con.setChunkedStreamingMode(5);\n   con.getOutputStream().write(&quot;Hello&quot;.getBytes());\n   con.getOutputStream().flush();\n   con.getOutputStream().write(&quot;World&quot;.getBytes());\n   con.getOutputStream().flush();\n   con.getOutputStream().write(&quot;123&quot;.getBytes());\n   con.getOutputStream().flush();\n\n   //decode response and response body/error if any\n   System.out.println(con.getResponseCode()+&quot;/&quot;+con.getResponseMessage());      \n   con.getHeaderFields().forEach((key,values)-&gt;\n   {\n    System.out.println(key+&quot;=&quot;+values);\n    System.out.println(&quot;====================&quot;);\n   });      \n   try(InputStream is=con.getInputStream()){System.out.println(new String(is.readAllBytes()));}\n   catch(Exception ex)\n   {\n    ex.printStackTrace(System.err);\n   \n    InputStream err=con.getErrorStream();\n    if(err!=null)\n    {\n     try(err){System.err.println(new String(is.readAllBytes()));}\n     catch(Exception ex2){throw ex2;}\n    }  \n   } \n   con.disconnect();\n  }\n</code></pre>\n<p>I am uploading 3 chunks. In the server side 5 packets of data are received</p>\n<ol>\n<li><p>All headers. respond with 100 Continue</p>\n</li>\n<li><p>3 Chunks. For each chunk respond with 100 Continue</p>\n</li>\n<li><p>Last Chunk[Length 0]. respond with 200 OK</p>\n</li>\n</ol>\n<p>Here is the Test Server</p>\n<pre><code>final class TestServer\n{\n public static void main(String[] args)throws Exception\n {\n  try(ServerSocket socket=new ServerSocket(2000,0,InetAddress.getLocalHost()))\n  {\n   int count=0;\n   try(Socket client=socket.accept())\n   {\n    int length;\n    byte[] buffer=new byte[5000];\n    InputStream is=client.getInputStream();\n    \n    OutputStream os=client.getOutputStream();\n    while((length=is.read(buffer))!=-1)\n    {\n     System.out.println(++count);\n     System.out.println(new String(buffer,0,length));\n     System.out.println(&quot;==========&quot;);\n  \n     if(count&lt;5)\n     {\n      os.write(&quot;HTTP/1.1 100 Continue\\r\\n\\r\\n&quot;.getBytes());\n      os.flush();\n     }\n     else\n     {\n      os.write(&quot;HTTP/1.1 200 Done\\r\\nContent-Length:0\\r\\n\\r\\n&quot;.getBytes());\n      os.flush();\n      break;\n     }   \n    }\n   }\n  }\n }\n}\n</code></pre>\n<p>Output:</p>\n<pre><code>1\nPOST /ActionG HTTP/1.1\nExpect: 100-Continue\nUser-Agent: Java/17.0.2\nHost: 192.168.1.2:2000\nAccept: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2\nConnection: keep-alive\nContent-type: application/x-www-form-urlencoded\nTransfer-Encoding: chunked\n\n\n==========   //5 seconds later\n2\n5\nHello\n\n==========   //5 seconds later\n3\n5\nWorld\n\n==========  //5 seconds later\n//this and the last chunk come seperatly but with no delay\n4\n3\n123\n\n==========\n5\n0\n\n\n==========\n</code></pre>\n<p>I have checked every Timeout Method in my Connection Object</p>\n<pre><code>System.out.println(con.getConnectTimeout());\nSystem.out.println(con.getReadTimeout());\n</code></pre>\n<p>Both return 0</p>\n<p>So where is this 5 second delay coming from?</p>\n<p>I am using jdk 17.0.2 with windows 10</p>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":10085608,"reputation":669,"user_id":7454336,"display_name":"Thomas Meinhart"},"score":0,"creation_date":1647509734,"post_id":71509931,"comment_id":126390943,"body_markdown":"You should have a look into WebSocket. https://spring.io/guides/gs/messaging-stomp-websocket/","body":"You should have a look into WebSocket. <a href=\"https://spring.io/guides/gs/messaging-stomp-websocket/\" rel=\"nofollow noreferrer\">spring.io/guides/gs/messaging-stomp-websocket</a>"}],"answers":[{"tags":[],"owner":{"account_id":18359071,"reputation":26,"user_id":13371529,"display_name":"Zak Albreht"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647525588,"creation_date":1647524510,"answer_id":71513348,"question_id":71509931,"body_markdown":"For this type of usages we usually use web-sockets which open a &quot;two-way&quot; connection, we could say that the difference between http and websocket is in http you ask a question and get a response while in a websocket you have a full conversation between client and server(it&#39;s actually usually used to implement online chat apps). Image for reference:\r\n\r\n[![Representation of communication in a web-socket][1]][1]\r\n\r\nIn your example you will open a web-socket (wss) connection to your backend and then on your frontend you will wait for the backend server to response. Since you are using Spring as a backend and javascript on the frontend you should take a look at:\r\n\r\n- https://javascript.info/websocket\r\n- https://www.baeldung.com/websockets-spring\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0Sg22.png","title":"Provide live updates from Spring API Restcontroller to browser clients","body":"<p>For this type of usages we usually use web-sockets which open a &quot;two-way&quot; connection, we could say that the difference between http and websocket is in http you ask a question and get a response while in a websocket you have a full conversation between client and server(it's actually usually used to implement online chat apps). Image for reference:</p>\n<p><a href=\"https://i.stack.imgur.com/0Sg22.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0Sg22.png\" alt=\"Representation of communication in a web-socket\" /></a></p>\n<p>In your example you will open a web-socket (wss) connection to your backend and then on your frontend you will wait for the backend server to response. Since you are using Spring as a backend and javascript on the frontend you should take a look at:</p>\n<ul>\n<li><a href=\"https://javascript.info/websocket\" rel=\"nofollow noreferrer\">https://javascript.info/websocket</a></li>\n<li><a href=\"https://www.baeldung.com/websockets-spring\" rel=\"nofollow noreferrer\">https://www.baeldung.com/websockets-spring</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":10435634,"reputation":220,"user_id":7694025,"display_name":"Bessem Manita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647525092,"creation_date":1647525092,"answer_id":71513494,"question_id":71509931,"body_markdown":"Both **Websockets** and **SSE** (Server Sent Events) can meet your needs.\r\nMore details in [this post][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/5195452/websockets-vs-server-sent-events-eventsource","title":"Provide live updates from Spring API Restcontroller to browser clients","body":"<p>Both <strong>Websockets</strong> and <strong>SSE</strong> (Server Sent Events) can meet your needs.\nMore details in <a href=\"https://stackoverflow.com/questions/5195452/websockets-vs-server-sent-events-eventsource\">this post</a></p>\n"}],"owner":{"account_id":24055916,"reputation":1,"user_id":18034031,"display_name":"oshino dev"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647525588,"creation_date":1647509474,"question_id":71509931,"body_markdown":"**Background**:\r\nI have a spring webapp which every 10 seconds polls a RestController API server for various information like employee information and their task information, and a json response object is returned. This employee status and task information is stored in a backend database and served by the rest api calls to the client browsers.\r\n\r\nAn example call and response is like:\r\n\r\n**client javascript**:\r\n\r\n    await getEmployeeInfo();\r\n\r\n**Returns**:\r\n\r\n    {\r\n    \t&quot;employees&quot;: [{\r\n    \t\t\t&quot;id&quot;: &quot;0001&quot;,\r\n    \t\t\t&quot;name&quot;: &quot;john&quot;,\r\n    \t\t\t&quot;status&quot;: &quot;online&quot;,\r\n    \t\t\t&quot;tasks&quot;: [&quot;task1&quot;, &quot;task2&quot;]\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\t&quot;id&quot;: &quot;0002&quot;,\r\n    \t\t\t&quot;name&quot;: &quot;pam&quot;,\r\n    \t\t\t&quot;status&quot;: &quot;out-to-lunch&quot;,\r\n    \t\t\t&quot;tasks&quot;: [&quot;task2&quot;, &quot;task3&quot;]\r\n    \t\t}\r\n    \t]\r\n    }\r\n\r\nOnce the above response is received by the client browser, it is then parsed and displayed graphically on a webpage.\r\n\r\n**What I want to do**:\r\nInstead of polling the server for new information every few seconds, I would rather call the `getEmployeeInfo()` API, receive the information, and have the HTTP connection kept open to receive updates if their are any.\r\n\r\n**What I don&#39;t want to do**:\r\nHammer the server by polling every few seconds to receive the latest information from the server, even though there hasn&#39;t been any updates since the last poll. I could reduce the polling frequency to reduce server load, but then the *realtimeness* of the information would suffer.\r\n\r\n**My Question**:\r\nWhat technology could I use that would allow me to stop polling the server and have the server give updated information to browser clients only when an update has actually occurred. \r\nI would require something that provided two-way information as the browser client updates and displays information. ","title":"Provide live updates from Spring API Restcontroller to browser clients","body":"<p><strong>Background</strong>:\nI have a spring webapp which every 10 seconds polls a RestController API server for various information like employee information and their task information, and a json response object is returned. This employee status and task information is stored in a backend database and served by the rest api calls to the client browsers.</p>\n<p>An example call and response is like:</p>\n<p><strong>client javascript</strong>:</p>\n<pre><code>await getEmployeeInfo();\n</code></pre>\n<p><strong>Returns</strong>:</p>\n<pre><code>{\n    &quot;employees&quot;: [{\n            &quot;id&quot;: &quot;0001&quot;,\n            &quot;name&quot;: &quot;john&quot;,\n            &quot;status&quot;: &quot;online&quot;,\n            &quot;tasks&quot;: [&quot;task1&quot;, &quot;task2&quot;]\n        },\n        {\n            &quot;id&quot;: &quot;0002&quot;,\n            &quot;name&quot;: &quot;pam&quot;,\n            &quot;status&quot;: &quot;out-to-lunch&quot;,\n            &quot;tasks&quot;: [&quot;task2&quot;, &quot;task3&quot;]\n        }\n    ]\n}\n</code></pre>\n<p>Once the above response is received by the client browser, it is then parsed and displayed graphically on a webpage.</p>\n<p><strong>What I want to do</strong>:\nInstead of polling the server for new information every few seconds, I would rather call the <code>getEmployeeInfo()</code> API, receive the information, and have the HTTP connection kept open to receive updates if their are any.</p>\n<p><strong>What I don't want to do</strong>:\nHammer the server by polling every few seconds to receive the latest information from the server, even though there hasn't been any updates since the last poll. I could reduce the polling frequency to reduce server load, but then the <em>realtimeness</em> of the information would suffer.</p>\n<p><strong>My Question</strong>:\nWhat technology could I use that would allow me to stop polling the server and have the server give updated information to browser clients only when an update has actually occurred.\nI would require something that provided two-way information as the browser client updates and displays information.</p>\n"},{"tags":["java","java-11"],"comments":[{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1551592136,"post_id":53111921,"comment_id":96692358,"body_markdown":"Similar: See also: [*Obtain Java 11 for macOS?*](https://apple.stackexchange.com/q/346195/17907).","body":"Similar: See also: <a href=\"https://apple.stackexchange.com/q/346195/17907\"><i>Obtain Java 11 for macOS?</i></a>."},{"owner":{"account_id":2497295,"reputation":3931,"user_id":2173392,"display_name":"pdem"},"score":2,"creation_date":1553502551,"post_id":53111921,"comment_id":97392701,"body_markdown":"Most complete answer here, with all jdk providers: https://stackoverflow.com/questions/52431764/difference-between-openjdk-and-adoptopenjdk","body":"Most complete answer here, with all jdk providers: <a href=\"https://stackoverflow.com/questions/52431764/difference-between-openjdk-and-adoptopenjdk\" title=\"difference between openjdk and adoptopenjdk\">stackoverflow.com/questions/52431764/&hellip;</a>"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1643208117,"post_id":53111921,"comment_id":125278535,"body_markdown":"@pdem - The question is about JRE providers, not JDK providers.  The linked Q&amp;A doesn&#39;t mention JREs.","body":"@pdem - The question is about JRE providers, not JDK providers.  The linked Q&amp;A doesn&#39;t mention JREs."},{"owner":{"account_id":236549,"reputation":2564,"user_id":504112,"accept_rate":55,"display_name":"gumuruh"},"score":0,"creation_date":1649410825,"post_id":53111921,"comment_id":126873605,"body_markdown":"3 years ago for this question has been made....","body":"3 years ago for this question has been made...."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":74,"is_accepted":true,"score":73,"last_activity_date":1647525463,"creation_date":1541127372,"answer_id":53112096,"question_id":53111921,"body_markdown":"Right now, there seem to be no free + easy Oracle-supported Java 11 JRE (only) options.  Your options are:\r\n\r\n 1. Download and use an OpenJDK Java 11 JDK from the OpenJDK site. \r\n 2. Download and use an Oracle Java 11 JDK from the Oracle site ... and be sure that you fully understand the restrictions on &quot;commercial use&quot; that now apply to the Oracle Java 11+ releases.\r\n 3. Try to roll your own Windows JRE for Windows from the OpenJDK sources; see https://stackoverflow.com/questions/51403071/create-jre-from-openjdk-windows.  (*I wouldn&#39;t recommend doing this.  There are better alternatives.*)\r\n 4. Look into using the new [jlink][1] tool to create a custom image (basically a cut-down JRE) for your application.  This seems to be the option that Oracle want 3rd-party application developers to use.\r\n 5. Talk to Oracle sales about a Java support contract, and specifically ask about how to get a JRE build.  (*I don&#39;t know what the answer will be. If someone does try this, and they get a positive response, please comment!*)\r\n 6. Use a 3rd-party Java JRE distribution.  \r\n\r\n    - The list of Java vendors changes over time, but as of now it includes AdoptOpenJDK, Amazon, Azul, BellSoft, IBM, jClarity, Red Hat and SAP.   See also: https://stackoverflow.com/questions/52431764\r\n\r\n    - Some of these vendors offer JRE distros.  Check their download sites.\r\n\r\n    - Since (nearly) all Java vendors base their products on the same standard OpenJDK codebase that is used for Oracle Java, there is no reason to be concerned about the stability of a 3rd party JRE.  Some vendors offer (paid for) support.\r\n\r\n(Or switch from Windows to Linux.  I can install an OpenJDK Java 11 JRE-only package from the distro package manager on recent versions of Ubuntu, Fedora, ...)\r\n\r\n------------------------\r\n\r\nFor those people who think that Oracle Java 11 and OpenJDK Java 11 are the same, please read the following from the Oracle download site:\r\n\r\n&gt; Important changes in Oracle JDK 11 License\r\n&gt;\r\n&gt; With JDK 11 Oracle has updated the license terms on which we offer the Oracle JDK.  The new [Oracle Technology Network License Agreement for Oracle Java SE][2] is substantially different from the licenses under which previous versions of the JDK were offered. Please review the new terms carefully before downloading and using this product.\r\n&gt;\r\n&gt; Oracle also offers this software under the [GPL License][3] on jdk.java.net/11\r\n\r\nNotice that *Oracle* are saying that the licenses for Oracle Java and OpenJDK Java are different.  (Not withstanding that the two are built from essentially the same source code base.)  Ignore this at your peril!\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/tools/jlink.htm\r\n  [2]: https://www.oracle.com/technetwork/java/javase/terms/license/javase-license.html\r\n  [3]: http://openjdk.java.net/legal/gplv2+ce.html","title":"How can I get Java 11 run-time environment working since there is no more JRE 11 for download?","body":"<p>Right now, there seem to be no free + easy Oracle-supported Java 11 JRE (only) options.  Your options are:</p>\n<ol>\n<li><p>Download and use an OpenJDK Java 11 JDK from the OpenJDK site.</p>\n</li>\n<li><p>Download and use an Oracle Java 11 JDK from the Oracle site ... and be sure that you fully understand the restrictions on &quot;commercial use&quot; that now apply to the Oracle Java 11+ releases.</p>\n</li>\n<li><p>Try to roll your own Windows JRE for Windows from the OpenJDK sources; see <a href=\"https://stackoverflow.com/questions/51403071/create-jre-from-openjdk-windows\">Create jre from OpenJDK Windows</a>.  (<em>I wouldn't recommend doing this.  There are better alternatives.</em>)</p>\n</li>\n<li><p>Look into using the new <a href=\"https://docs.oracle.com/javase/9/tools/jlink.htm\" rel=\"nofollow noreferrer\">jlink</a> tool to create a custom image (basically a cut-down JRE) for your application.  This seems to be the option that Oracle want 3rd-party application developers to use.</p>\n</li>\n<li><p>Talk to Oracle sales about a Java support contract, and specifically ask about how to get a JRE build.  (<em>I don't know what the answer will be. If someone does try this, and they get a positive response, please comment!</em>)</p>\n</li>\n<li><p>Use a 3rd-party Java JRE distribution.</p>\n<ul>\n<li><p>The list of Java vendors changes over time, but as of now it includes AdoptOpenJDK, Amazon, Azul, BellSoft, IBM, jClarity, Red Hat and SAP.   See also: <a href=\"https://stackoverflow.com/questions/52431764\">Difference between OpenJDK and Adoptium/AdoptOpenJDK</a></p>\n</li>\n<li><p>Some of these vendors offer JRE distros.  Check their download sites.</p>\n</li>\n<li><p>Since (nearly) all Java vendors base their products on the same standard OpenJDK codebase that is used for Oracle Java, there is no reason to be concerned about the stability of a 3rd party JRE.  Some vendors offer (paid for) support.</p>\n</li>\n</ul>\n</li>\n</ol>\n<p>(Or switch from Windows to Linux.  I can install an OpenJDK Java 11 JRE-only package from the distro package manager on recent versions of Ubuntu, Fedora, ...)</p>\n<hr />\n<p>For those people who think that Oracle Java 11 and OpenJDK Java 11 are the same, please read the following from the Oracle download site:</p>\n<blockquote>\n<p>Important changes in Oracle JDK 11 License</p>\n<p>With JDK 11 Oracle has updated the license terms on which we offer the Oracle JDK.  The new <a href=\"https://www.oracle.com/technetwork/java/javase/terms/license/javase-license.html\" rel=\"nofollow noreferrer\">Oracle Technology Network License Agreement for Oracle Java SE</a> is substantially different from the licenses under which previous versions of the JDK were offered. Please review the new terms carefully before downloading and using this product.</p>\n<p>Oracle also offers this software under the <a href=\"http://openjdk.java.net/legal/gplv2+ce.html\" rel=\"nofollow noreferrer\">GPL License</a> on jdk.java.net/11</p>\n</blockquote>\n<p>Notice that <em>Oracle</em> are saying that the licenses for Oracle Java and OpenJDK Java are different.  (Not withstanding that the two are built from essentially the same source code base.)  Ignore this at your peril!</p>\n"},{"tags":[],"owner":{"account_id":10568929,"reputation":2673,"user_id":7786358,"display_name":"mati kepa"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1555773627,"creation_date":1545049961,"answer_id":53815343,"question_id":53111921,"body_markdown":"You can use the &quot;adoptopenjdk&quot; project website to download latest jre and JDK https://github.com/AdoptOpenJDK/openjdk-jdk11\r\n\r\n\r\nfind latest link here  &gt; https://adoptopenjdk.net/releases.html?variant=openjdk11&amp;jvmVariant=hotspot\r\n\r\n**Edit:\r\nProblem has been fixed**\r\n\r\nI have used their night builds to workaround the problem of missing JRE in JDK package\r\nhttps://adoptopenjdk.net/nightly.html?variant=openjdk11 \r\n\r\n","title":"How can I get Java 11 run-time environment working since there is no more JRE 11 for download?","body":"<p>You can use the \"adoptopenjdk\" project website to download latest jre and JDK <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11\" rel=\"nofollow noreferrer\">https://github.com/AdoptOpenJDK/openjdk-jdk11</a></p>\n\n<p>find latest link here  > <a href=\"https://adoptopenjdk.net/releases.html?variant=openjdk11&amp;jvmVariant=hotspot\" rel=\"nofollow noreferrer\">https://adoptopenjdk.net/releases.html?variant=openjdk11&amp;jvmVariant=hotspot</a></p>\n\n<p><strong>Edit:\nProblem has been fixed</strong></p>\n\n<p>I have used their night builds to workaround the problem of missing JRE in JDK package\n<a href=\"https://adoptopenjdk.net/nightly.html?variant=openjdk11\" rel=\"nofollow noreferrer\">https://adoptopenjdk.net/nightly.html?variant=openjdk11</a> </p>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":80,"is_accepted":false,"score":80,"last_activity_date":1611334774,"creation_date":1550435167,"answer_id":54737381,"question_id":53111921,"body_markdown":"The [Answer by Stephen C][1] is correct, and important. \r\n\r\nOracle no longer intends for end-users to be installing a JRE or a JDK. [Java Applets](https://en.wikipedia.org/wiki/Java_applet) in a browser and [Java Web Start](https://en.wikipedia.org/wiki/Java_Web_Start) app delivery are both being phased out, leaving the end-user with no need for a JRE. Java-based apps are expected to bundle their own Java implementation. The only folks consciously installing a JDK will be developers &amp; server-side sysadmins.\r\n\r\n\r\nImportant:\r\n\r\n - Understand clearly the nature of the [OpenJDK](http://openjdk.java.net) project, as [explained in Wikipedia](https://en.wikipedia.org/wiki/OpenJDK)\r\n - Read this white paper by Oracle of 2018-03, [*Java Client Roadmap Update*](https://www.oracle.com/technetwork/java/javase/javaclientroadmapupdate2018mar-4414431.pdf)\r\n - Read the white paper [*Java Is Still Free*](https://medium.com/@javachampions/java-is-still-free-c02aef8c9e04), authored by key members of the Java community.\r\n\r\nLearn about:\r\n\r\n - [*Java Platform Module System*](https://en.wikipedia.org/wiki/Java_Platform_Module_System)\r\n - *jlink* ([JEP 282](https://openjdk.java.net/jeps/282))\r\n - *jpackage* ([JEP 343](https://openjdk.java.net/jeps/343))\r\n\r\nDesktop apps are now expected to bundle their own Java runtime. Those tools listed above can create a very small runtime custom-fit to your particular app.\r\n\r\nHere is a flowchart diagram that may help you finding and deciding amongst the various vendors providing a Java 11 implementation.\r\n\r\n\r\n[![Flowchart guiding you in choosing a vendor for a Java 11 implementation.png][2]][2]\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n\r\nAnd a table mapping possible motivations or considerations leading to suggested vendors of Java.\r\n\r\n[![Motivations in choosing a vendor for Java][4]][4]\r\n\r\n\r\n# Compatibility concerns\r\n\r\nIn the Comments, an question was raised, concern over compatibility issues between releases by various vendors.\r\n\r\nFirstly, know that the OpenJDK project includes a vast suite of tests known as the *OpenJDK Community Technology Compatibility Kit (TCK)*. Vendors are free to self-declare whether their release has passed those tests. These claims are not verified, and rely on the honor system. On my diagram above, I have check-marked &quot;TCK&quot; on the couple vendors I know have self-declared: Oracle JDK by Oracle &amp; Zulu by Azul Systems.\r\n\r\nAll the products listed in the blue barrel area of my chart above are built almost directly on the OpenJDK source code. So generally, you should see virtually identical compatibility. \r\n\r\nThere are two areas of concern you might consider: Technology differences, and schedule of updates/patches.\r\n\r\nAs for technology differences, vendors using the OpenJDK project can ship with either the [HotSpot engine][5] or the [OpenJ9 engine][6]. These will differ on performance (faster/slower startup versus overall speed, more/less memory), but their behavior in terms of complying with the Java specifications should be identical. They *could* differ, and certainly either might present a flaw (that likely would be soon fixed) that the other lacked. Personally, I would not be concerned by this, but I mention it for completeness. \r\n\r\nAnother technology difference is the different kind of JVM used by Zing by Azul Systems and GraalVM by Oracle. Either of these *might* differ in some way from each other or from the other products, because they intentionally have a different kind of JVM implementation, to offer special features. But given the thoroughness of the [Java specs][7], they should not be incompatible. If they were, you can expect any compatibility problem to be rapidly resolved. If I needed the special features of either of these products, I would use them with full confidence. \r\n\r\nAnother possible concern is the speed with which a vendor might update their own releases with certain bug fixes or security patches. For example, Oracle has stated that they reserve the right to immediately ship any ready patches to their own customers, while submitting those to the OpenJDK project for consideration. Certainly, any of the vendors providing commercial support are likely to rush a fix or patch to their paying customers. Those releases built as a courtesy to the community provided free-of-cost may take longer to update, likely after the OpenJDK project has incorporated a fix/patch. \r\n\r\nAnd each vendor is free to modify their code base at will, as long as they comply with the [Java specs][7]. For example, the Corretto team at Amazon has already made improvements to their own release, and then shared those changes upstream to the OpenJDK project. There may a gap in time before OpenJDK incorporated those changes, if they decide to do so. So it is possible that various releases might differ. But at this point, all of the vendors in the Java community seem to have sincere commitments to work together to prevent fragmentation. So, again, I have no real concern here, but mention this for completeness.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/53112096/642706\r\n  [2]: https://i.stack.imgur.com/2k5u8.png\r\n  [3]: https://i.stack.imgur.com/2k5u8.png\r\n  [4]: https://i.stack.imgur.com/unKsY.png\r\n  [5]: https://en.wikipedia.org/wiki/HotSpot\r\n  [6]: https://en.wikipedia.org/wiki/OpenJ9\r\n  [7]: https://docs.oracle.com/javase/specs/","title":"How can I get Java 11 run-time environment working since there is no more JRE 11 for download?","body":"<p>The <a href=\"https://stackoverflow.com/a/53112096/642706\">Answer by Stephen C</a> is correct, and important.</p>\n<p>Oracle no longer intends for end-users to be installing a JRE or a JDK. <a href=\"https://en.wikipedia.org/wiki/Java_applet\" rel=\"noreferrer\">Java Applets</a> in a browser and <a href=\"https://en.wikipedia.org/wiki/Java_Web_Start\" rel=\"noreferrer\">Java Web Start</a> app delivery are both being phased out, leaving the end-user with no need for a JRE. Java-based apps are expected to bundle their own Java implementation. The only folks consciously installing a JDK will be developers &amp; server-side sysadmins.</p>\n<p>Important:</p>\n<ul>\n<li>Understand clearly the nature of the <a href=\"http://openjdk.java.net\" rel=\"noreferrer\">OpenJDK</a> project, as <a href=\"https://en.wikipedia.org/wiki/OpenJDK\" rel=\"noreferrer\">explained in Wikipedia</a></li>\n<li>Read this white paper by Oracle of 2018-03, <a href=\"https://www.oracle.com/technetwork/java/javase/javaclientroadmapupdate2018mar-4414431.pdf\" rel=\"noreferrer\"><em>Java Client Roadmap Update</em></a></li>\n<li>Read the white paper <a href=\"https://medium.com/@javachampions/java-is-still-free-c02aef8c9e04\" rel=\"noreferrer\"><em>Java Is Still Free</em></a>, authored by key members of the Java community.</li>\n</ul>\n<p>Learn about:</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_Platform_Module_System\" rel=\"noreferrer\"><em>Java Platform Module System</em></a></li>\n<li><em>jlink</em> (<a href=\"https://openjdk.java.net/jeps/282\" rel=\"noreferrer\">JEP 282</a>)</li>\n<li><em>jpackage</em> (<a href=\"https://openjdk.java.net/jeps/343\" rel=\"noreferrer\">JEP 343</a>)</li>\n</ul>\n<p>Desktop apps are now expected to bundle their own Java runtime. Those tools listed above can create a very small runtime custom-fit to your particular app.</p>\n<p>Here is a flowchart diagram that may help you finding and deciding amongst the various vendors providing a Java 11 implementation.</p>\n<p><a href=\"https://i.stack.imgur.com/2k5u8.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/2k5u8.png\" alt=\"Flowchart guiding you in choosing a vendor for a Java 11 implementation.png\" /></a></p>\n<hr />\n<p>And a table mapping possible motivations or considerations leading to suggested vendors of Java.</p>\n<p><a href=\"https://i.stack.imgur.com/unKsY.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/unKsY.png\" alt=\"Motivations in choosing a vendor for Java\" /></a></p>\n<h1>Compatibility concerns</h1>\n<p>In the Comments, an question was raised, concern over compatibility issues between releases by various vendors.</p>\n<p>Firstly, know that the OpenJDK project includes a vast suite of tests known as the <em>OpenJDK Community Technology Compatibility Kit (TCK)</em>. Vendors are free to self-declare whether their release has passed those tests. These claims are not verified, and rely on the honor system. On my diagram above, I have check-marked &quot;TCK&quot; on the couple vendors I know have self-declared: Oracle JDK by Oracle &amp; Zulu by Azul Systems.</p>\n<p>All the products listed in the blue barrel area of my chart above are built almost directly on the OpenJDK source code. So generally, you should see virtually identical compatibility.</p>\n<p>There are two areas of concern you might consider: Technology differences, and schedule of updates/patches.</p>\n<p>As for technology differences, vendors using the OpenJDK project can ship with either the <a href=\"https://en.wikipedia.org/wiki/HotSpot\" rel=\"noreferrer\">HotSpot engine</a> or the <a href=\"https://en.wikipedia.org/wiki/OpenJ9\" rel=\"noreferrer\">OpenJ9 engine</a>. These will differ on performance (faster/slower startup versus overall speed, more/less memory), but their behavior in terms of complying with the Java specifications should be identical. They <em>could</em> differ, and certainly either might present a flaw (that likely would be soon fixed) that the other lacked. Personally, I would not be concerned by this, but I mention it for completeness.</p>\n<p>Another technology difference is the different kind of JVM used by Zing by Azul Systems and GraalVM by Oracle. Either of these <em>might</em> differ in some way from each other or from the other products, because they intentionally have a different kind of JVM implementation, to offer special features. But given the thoroughness of the <a href=\"https://docs.oracle.com/javase/specs/\" rel=\"noreferrer\">Java specs</a>, they should not be incompatible. If they were, you can expect any compatibility problem to be rapidly resolved. If I needed the special features of either of these products, I would use them with full confidence.</p>\n<p>Another possible concern is the speed with which a vendor might update their own releases with certain bug fixes or security patches. For example, Oracle has stated that they reserve the right to immediately ship any ready patches to their own customers, while submitting those to the OpenJDK project for consideration. Certainly, any of the vendors providing commercial support are likely to rush a fix or patch to their paying customers. Those releases built as a courtesy to the community provided free-of-cost may take longer to update, likely after the OpenJDK project has incorporated a fix/patch.</p>\n<p>And each vendor is free to modify their code base at will, as long as they comply with the <a href=\"https://docs.oracle.com/javase/specs/\" rel=\"noreferrer\">Java specs</a>. For example, the Corretto team at Amazon has already made improvements to their own release, and then shared those changes upstream to the OpenJDK project. There may a gap in time before OpenJDK incorporated those changes, if they decide to do so. So it is possible that various releases might differ. But at this point, all of the vendors in the Java community seem to have sincere commitments to work together to prevent fragmentation. So, again, I have no real concern here, but mention this for completeness.</p>\n"},{"tags":[],"owner":{"account_id":12207905,"reputation":454,"user_id":8910441,"display_name":"Julian Eccleshall"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1631025768,"creation_date":1630834399,"answer_id":69062169,"question_id":53111921,"body_markdown":"zulu still maintains the jre (11 - 16) and it is recommended by some vendors. \r\nyou can download it on their site: https://www.azul.com/downloads/zulu/ ","title":"How can I get Java 11 run-time environment working since there is no more JRE 11 for download?","body":"<p>zulu still maintains the jre (11 - 16) and it is recommended by some vendors.\nyou can download it on their site: <a href=\"https://www.azul.com/downloads/zulu/\" rel=\"nofollow noreferrer\">https://www.azul.com/downloads/zulu/</a></p>\n"}],"owner":{"account_id":4760771,"reputation":3979,"user_id":3848207,"accept_rate":97,"display_name":"user3848207"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72528,"favorite_count":0,"down_vote_count":1,"up_vote_count":86,"accepted_answer_id":53112096,"answer_count":4,"score":85,"last_activity_date":1647525463,"creation_date":1541125593,"question_id":53111921,"body_markdown":"Java 11 does not come with a JRE for download, unlike past Java versions. I got an error &quot;no java run-time environment&quot; when running some Java-based software. To fix the problem, I had to install Java 8 JRE. \r\n\r\nHow can I get my PC to run Java 11 JRE given that there is no more JRE 11 to download?\r\n\r\nI am using Windows 10.\r\n","title":"How can I get Java 11 run-time environment working since there is no more JRE 11 for download?","body":"<p>Java 11 does not come with a JRE for download, unlike past Java versions. I got an error &quot;no java run-time environment&quot; when running some Java-based software. To fix the problem, I had to install Java 8 JRE.</p>\n<p>How can I get my PC to run Java 11 JRE given that there is no more JRE 11 to download?</p>\n<p>I am using Windows 10.</p>\n"},{"tags":["java","postman","developer-tools"],"comments":[{"owner":{"account_id":13359038,"reputation":123,"user_id":9641680,"display_name":"Christian Cavuti"},"score":2,"creation_date":1647524420,"post_id":71513242,"comment_id":126396201,"body_markdown":"You should give a wider context. For example, are you using any form of authentication?","body":"You should give a wider context. For example, are you using any form of authentication?"},{"owner":{"account_id":16476340,"reputation":43,"user_id":11904210,"display_name":"Preethi H R "},"score":0,"creation_date":1647524721,"post_id":71513242,"comment_id":126396327,"body_markdown":"Yes, I am hitting the API&#39;s using Postman and I am using basic Authentication in postman i.e my username and password of my local Jira","body":"Yes, I am hitting the API&#39;s using Postman and I am using basic Authentication in postman i.e my username and password of my local Jira"}],"answers":[{"tags":[],"owner":{"account_id":20122112,"reputation":88,"user_id":14756421,"display_name":"Maxim Bezmen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647525036,"creation_date":1647525036,"answer_id":71513479,"question_id":71513242,"body_markdown":"The simplest way to retrieve the currently authenticated principal is via a static call to the SecurityContextHolder:\r\n\r\n    Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\r\n    String currentPrincipalName = authentication.getName();\r\n\r\nPlease read more about this: https://www.baeldung.com/get-user-in-spring-security","title":"How to get username of person who had hit the custom build Rest API in my Java code?","body":"<p>The simplest way to retrieve the currently authenticated principal is via a static call to the SecurityContextHolder:</p>\n<pre><code>Authentication authentication = SecurityContextHolder.getContext().getAuthentication();\nString currentPrincipalName = authentication.getName();\n</code></pre>\n<p>Please read more about this: <a href=\"https://www.baeldung.com/get-user-in-spring-security\" rel=\"nofollow noreferrer\">https://www.baeldung.com/get-user-in-spring-security</a></p>\n"}],"owner":{"account_id":16476340,"reputation":43,"user_id":11904210,"display_name":"Preethi H R "},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":419,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1647525349,"creation_date":1647524141,"question_id":71513242,"body_markdown":"I am trying to build a custom build plugin using Atlassian sdk framework and in that I have developed a Rest API to fetch data saved in Active Objects database tables and I am using basic authentication in postman where I need to provide my local Jira username and password.\r\n\r\nIn my plugin code, I am storing data using active objects and following code I am using to fetch the stored data in active objects table:\r\n\r\n    // To delete all the rules present in database table\r\n    @DELETE\r\n    @Path(&quot;/debug/delete/rules&quot;)\r\n    public Response deleteAllRules() {\r\n    \r\n        boolean result = rules.deleteAllStoredRules();\r\n        if (result) {\r\n            return Response.noContent().build();\r\n        }\r\n        return Response.status(205).build();\r\n    }\r\n\r\nCan anyone please help me to find a way to fetch username provided in basic authentication in my java code?","title":"How to get username of person who had hit the custom build Rest API in my Java code?","body":"<p>I am trying to build a custom build plugin using Atlassian sdk framework and in that I have developed a Rest API to fetch data saved in Active Objects database tables and I am using basic authentication in postman where I need to provide my local Jira username and password.</p>\n<p>In my plugin code, I am storing data using active objects and following code I am using to fetch the stored data in active objects table:</p>\n<pre><code>// To delete all the rules present in database table\n@DELETE\n@Path(&quot;/debug/delete/rules&quot;)\npublic Response deleteAllRules() {\n\n    boolean result = rules.deleteAllStoredRules();\n    if (result) {\n        return Response.noContent().build();\n    }\n    return Response.status(205).build();\n}\n</code></pre>\n<p>Can anyone please help me to find a way to fetch username provided in basic authentication in my java code?</p>\n"},{"tags":["java","intellij-idea","refactoring","intellij-14"],"comments":[{"owner":{"account_id":14879298,"reputation":1234,"user_id":10744483,"display_name":"Olga Klisho"},"score":0,"creation_date":1647526488,"post_id":71513351,"comment_id":126397128,"body_markdown":"hello, there is no ready tool to make such kind of refactoring automatically. Please create an issue at: https://youtrack.jetbrains.com/issues/IDEA","body":"hello, there is no ready tool to make such kind of refactoring automatically. Please create an issue at: <a href=\"https://youtrack.jetbrains.com/issues/IDEA\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issues/IDEA</a>"}],"owner":{"account_id":16452658,"reputation":47,"user_id":17253332,"display_name":"TheReal__Mike"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647525289,"creation_date":1647524524,"question_id":71513351,"body_markdown":"I have multiple java files and in each java file having more than 100 code line of following type (where the focus is on &quot;method1&quot; which takes hard coded values) :\r\n\r\n```\r\nx.method1(&quot;cat&quot;)\r\ny.method1(&quot;dog&quot;)\r\nz.method1(&quot;whale&quot;)\r\n```\r\n\r\nI want to wrap &quot;method1&quot; inside &quot;method2&quot;, i.e above lines of code become :\r\n\r\n```\r\nx.method2(method1(&quot;cat&quot;))\r\ny.method2(method1(&quot;dog&quot;))\r\nz.method2(method1(&quot;whale&quot;))\r\n```\r\n\r\nHow do I changes all these line of code faster ?","title":"Intellij refactor or change multiple line of code, put method call inside another method","body":"<p>I have multiple java files and in each java file having more than 100 code line of following type (where the focus is on &quot;method1&quot; which takes hard coded values) :</p>\n<pre><code>x.method1(&quot;cat&quot;)\ny.method1(&quot;dog&quot;)\nz.method1(&quot;whale&quot;)\n</code></pre>\n<p>I want to wrap &quot;method1&quot; inside &quot;method2&quot;, i.e above lines of code become :</p>\n<pre><code>x.method2(method1(&quot;cat&quot;))\ny.method2(method1(&quot;dog&quot;))\nz.method2(method1(&quot;whale&quot;))\n</code></pre>\n<p>How do I changes all these line of code faster ?</p>\n"},{"tags":["java","android-studio","google-play"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1647619590,"post_id":71509864,"comment_id":126424058,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":8391040,"reputation":1310,"user_id":6299772,"accept_rate":92,"display_name":"Noltibus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647510763,"creation_date":1647510763,"answer_id":71510238,"question_id":71509864,"body_markdown":"If you just want to know which or how many users went from your app to the play store, you can achieve this by event tracking for example via  ([Firebase Analytics][1]). But as soon as your users have left your app, there is no way of tracking what they once left. For example, if there is a list of apps in your app, each linking to their corresponding play store entry, you can track clicks on the different links inside of your app. But as soon as the user clicked on that link and went to the play store, you can&#39;t track what he is doing there or if he is downloading the app (as long as you are not the developer of the app the user then downloads)\r\n\r\n\r\n  [1]: https://firebase.google.com/products/analytics?gclid=Cj0KCQjwuMuRBhCJARIsAHXdnqOFeJUI9874JEv-0iGXHE31CUSFdJ_a--_V46wq8xVobXD5m8ZiS3YaAtr1EALw_wcB&amp;gclsrc=aw.ds","title":"Tracking of directing user to Google Play Store","body":"<p>If you just want to know which or how many users went from your app to the play store, you can achieve this by event tracking for example via  (<a href=\"https://firebase.google.com/products/analytics?gclid=Cj0KCQjwuMuRBhCJARIsAHXdnqOFeJUI9874JEv-0iGXHE31CUSFdJ_a--_V46wq8xVobXD5m8ZiS3YaAtr1EALw_wcB&amp;gclsrc=aw.ds\" rel=\"nofollow noreferrer\">Firebase Analytics</a>). But as soon as your users have left your app, there is no way of tracking what they once left. For example, if there is a list of apps in your app, each linking to their corresponding play store entry, you can track clicks on the different links inside of your app. But as soon as the user clicked on that link and went to the play store, you can't track what he is doing there or if he is downloading the app (as long as you are not the developer of the app the user then downloads)</p>\n"}],"owner":{"account_id":24512067,"reputation":172,"user_id":18426258,"display_name":"MaxVK"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71510238,"answer_count":1,"score":0,"last_activity_date":1647525092,"creation_date":1647509245,"question_id":71509864,"body_markdown":"I&#39;ve built a app that directs users to other apps on the play store. Im looking to be able to see which users I directed to this other app. Im using android studio","title":"Tracking of directing user to Google Play Store","body":"<p>I've built a app that directs users to other apps on the play store. Im looking to be able to see which users I directed to this other app. Im using android studio</p>\n"},{"tags":["java","spring","spring-integration"],"answers":[{"tags":[],"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647524733,"creation_date":1647524733,"answer_id":71513404,"question_id":71512695,"body_markdown":"First of all the `null` is not a `payload`. Therefore messaging does not support `null` in most cases. The integration flow just stops at the point where you return `null`: https://docs.spring.io/spring-integration/docs/current/reference/html/messaging-endpoints.html#service-activator-namespace\r\n\r\n&gt; The service activator is one of those components that is not required to produce a reply message. If your method returns null or has a void return type, the service activator exits after the method invocation, without any signals.\r\n\r\nSo, your assumption to make a logical decision is not correct with Spring Integration. You need to think about something what could be used as a signal for such a `NO_OUTPUT_CHANNEL`. You can create an artificial `NullType` and use a `PayloadTypeRouter` to determine when to go next according the payload type returned from your `handleMailMessageException()`:\r\n\r\n    .&lt;Object, Class&lt;?&gt;&gt;route(Object::getClass, m -&gt; m\r\n\t\t\t\t\t\t\t.channelMapping(MailPojo.class, MAIN_EVENTS_CHANNEL)\r\n\t\t\t\t\t\t\t.channelMapping(NullType.class, NO_OUTPUT_CHANNEL))\r\n\r\nAnother way is to use an `Optional` and check its content in the router function. Either way you need to use a router. ","title":"Spring Integration subflow depending on .handle method","body":"<p>First of all the <code>null</code> is not a <code>payload</code>. Therefore messaging does not support <code>null</code> in most cases. The integration flow just stops at the point where you return <code>null</code>: <a href=\"https://docs.spring.io/spring-integration/docs/current/reference/html/messaging-endpoints.html#service-activator-namespace\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/docs/current/reference/html/messaging-endpoints.html#service-activator-namespace</a></p>\n<blockquote>\n<p>The service activator is one of those components that is not required to produce a reply message. If your method returns null or has a void return type, the service activator exits after the method invocation, without any signals.</p>\n</blockquote>\n<p>So, your assumption to make a logical decision is not correct with Spring Integration. You need to think about something what could be used as a signal for such a <code>NO_OUTPUT_CHANNEL</code>. You can create an artificial <code>NullType</code> and use a <code>PayloadTypeRouter</code> to determine when to go next according the payload type returned from your <code>handleMailMessageException()</code>:</p>\n<pre><code>.&lt;Object, Class&lt;?&gt;&gt;route(Object::getClass, m -&gt; m\n                        .channelMapping(MailPojo.class, MAIN_EVENTS_CHANNEL)\n                        .channelMapping(NullType.class, NO_OUTPUT_CHANNEL))\n</code></pre>\n<p>Another way is to use an <code>Optional</code> and check its content in the router function. Either way you need to use a router.</p>\n"}],"owner":{"account_id":2208342,"reputation":716,"user_id":1950962,"accept_rate":74,"display_name":"skywalker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":360,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71513404,"answer_count":1,"score":0,"last_activity_date":1647524733,"creation_date":1647521790,"question_id":71512695,"body_markdown":"I am using spring integration to change a flow after particular retry is completed. My IntegrationFlow bean for errorResponse is as follows:\r\n\r\n    @Bean\r\n    public IntegrationFlow errorMailResponse(@Qualifier(ERROR_CHANNEL) PollableChannel errorChannel) {\r\n        return IntegrationFlows.from(errorChannel)\r\n                .handle(MessagingException.class, (payload, headers) -&gt; handleMessageException(payload),\r\n                        e -&gt; e.poller(p -&gt; p.fixedDelay(pollerInterval)))\r\n                .channel(NO_OUTPUT_CHANNEL)\r\n                .get();\r\n    }\r\n\r\n\r\nIf method `handleMessageException` returns an object I want the flow to continue to particular channel - MAIN_EVENTS_CHANNEL if `handleMessageException` returns null I want to continue to NO_OUTPUT_CHANNEL.\r\n\r\nIs that possible to achieve with Spring integration? I tried to use subflow but I am not sure if it is the way. https://docs.spring.io/spring-integration/reference/html/dsl.html#java-dsl-subflows\r\n\r\n\r\n    @Bean\r\n    public IntegrationFlow errorMailResponse(@Qualifier(ERROR_CHANNEL) PollableChannel errorChannel) {\r\n        return IntegrationFlows.from(errorChannel)\r\n                .handle(MessagingException.class, (payload, headers) -&gt; handleMailMessageException(payload),\r\n                        e -&gt; e.poller(p -&gt; p.fixedDelay(pollerInterval)))\r\n                .publishSubscribeChannel(subscription -&gt; subscription\r\n                        .subscribe(subflow -&gt; subflow\r\n                                .&lt;MailPojo&gt;handle((payload, headers) -&gt; {\r\n                                    // if if result handleMessageException  == null\r\n                                })\r\n                                .channel(NO_OUTPUT_CHANNEL))\r\n                        .subscribe(subflow -&gt; subflow\r\n                                .&lt;MailPojo&gt;handle((payload, headers) -&gt; {\r\n                                   // if result handleMessageException  !=null\r\n                                })\r\n                                .channel(MAIN_EVENTS_CHANNEL)))\r\n                .get();\r\n    }\r\n\r\nAny help is appreciated.","title":"Spring Integration subflow depending on .handle method","body":"<p>I am using spring integration to change a flow after particular retry is completed. My IntegrationFlow bean for errorResponse is as follows:</p>\n<pre><code>@Bean\npublic IntegrationFlow errorMailResponse(@Qualifier(ERROR_CHANNEL) PollableChannel errorChannel) {\n    return IntegrationFlows.from(errorChannel)\n            .handle(MessagingException.class, (payload, headers) -&gt; handleMessageException(payload),\n                    e -&gt; e.poller(p -&gt; p.fixedDelay(pollerInterval)))\n            .channel(NO_OUTPUT_CHANNEL)\n            .get();\n}\n</code></pre>\n<p>If method <code>handleMessageException</code> returns an object I want the flow to continue to particular channel - MAIN_EVENTS_CHANNEL if <code>handleMessageException</code> returns null I want to continue to NO_OUTPUT_CHANNEL.</p>\n<p>Is that possible to achieve with Spring integration? I tried to use subflow but I am not sure if it is the way. <a href=\"https://docs.spring.io/spring-integration/reference/html/dsl.html#java-dsl-subflows\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-integration/reference/html/dsl.html#java-dsl-subflows</a></p>\n<pre><code>@Bean\npublic IntegrationFlow errorMailResponse(@Qualifier(ERROR_CHANNEL) PollableChannel errorChannel) {\n    return IntegrationFlows.from(errorChannel)\n            .handle(MessagingException.class, (payload, headers) -&gt; handleMailMessageException(payload),\n                    e -&gt; e.poller(p -&gt; p.fixedDelay(pollerInterval)))\n            .publishSubscribeChannel(subscription -&gt; subscription\n                    .subscribe(subflow -&gt; subflow\n                            .&lt;MailPojo&gt;handle((payload, headers) -&gt; {\n                                // if if result handleMessageException  == null\n                            })\n                            .channel(NO_OUTPUT_CHANNEL))\n                    .subscribe(subflow -&gt; subflow\n                            .&lt;MailPojo&gt;handle((payload, headers) -&gt; {\n                               // if result handleMessageException  !=null\n                            })\n                            .channel(MAIN_EVENTS_CHANNEL)))\n            .get();\n}\n</code></pre>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","mybatis","spring-mybatis"],"answers":[{"tags":[],"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1462606270,"creation_date":1462606270,"answer_id":37085804,"question_id":37085803,"body_markdown":"I found out the cause of the error message. If you have the same method name, then mybatis throws the `Mapped Statements collection already contains value` error message. So the solution is to have different method names for different mapper statements even if the method signatures are different. \r\n\r\nSo In my mapper interface the method names second `getAllUsers()` name should be `getUserById();`. The same error is thrown if you have the same method name in any of the `mapper.xml` files. So it is mandatory to have unique method names or mapper namespace for different sql statements for mybatis to map this at runtime.","title":"MyBatis - Mapped Statements collection already contains value for","body":"<p>I found out the cause of the error message. If you have the same method name, then mybatis throws the <code>Mapped Statements collection already contains value</code> error message. So the solution is to have different method names for different mapper statements even if the method signatures are different. </p>\n\n<p>So In my mapper interface the method names second <code>getAllUsers()</code> name should be <code>getUserById();</code>. The same error is thrown if you have the same method name in any of the <code>mapper.xml</code> files. So it is mandatory to have unique method names or mapper namespace for different sql statements for mybatis to map this at runtime.</p>\n"},{"tags":[],"owner":{"account_id":8147017,"reputation":1,"user_id":6135393,"display_name":"glory zheng"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1487128400,"creation_date":1487128400,"answer_id":42240043,"question_id":37085803,"body_markdown":"Maybe your parameter type is wrong. like  resultType  or  resultMap  ,parameterType  etc...","title":"MyBatis - Mapped Statements collection already contains value for","body":"<p>Maybe your parameter type is wrong. like  resultType  or  resultMap  ,parameterType  etc...</p>\n"},{"tags":[],"owner":{"account_id":2582505,"reputation":1356,"user_id":2238859,"accept_rate":6,"display_name":"hemantvsn"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1487589513,"creation_date":1487589513,"answer_id":42343162,"question_id":37085803,"body_markdown":"In my case, the occurance was due to resultMaps were added to the Configuration after addition of mapper.\r\n\r\nEg:\r\n\r\n    Configuration configuration = new Configuration(environment);\r\n    configuration.addMappers(&quot;com.hemant.data.mapper&quot;);\r\n    configuration.addResultMap(getResultMapForRoles(configuration));\r\n\r\n\r\nIf we observe MyBatis source code, then on\r\nconfiguration.addMappers(..) ..... parse() is executed.\r\n\t\t\t **org.apache.ibatis.builder.annotation.MapperAnnotationBuilder.parse()\r\norg.apache.ibatis.builder.annotation.MapperAnnotationBuilder.parseStatement(Method)**\r\n\r\n    for (Method method : methods) {\r\n            try {\r\n              // issue #237\r\n              if (!method.isBridge()) {\r\n                parseStatement(method);\r\n              }\r\n            } catch (IncompleteElementException e) {\r\n              configuration.addIncompleteMethod(new MethodResolver(this, method));\r\n            }\r\n          }\r\n\r\nIf there is an issue with parsing the statement (which occured in mycase as the statement had @ResultMap annotation, but resultMap wasn&#39;t provided to configuration.), the method is added in INCOMPLETE_METHODS in configuration which later raises the exception.\r\n\r\n\r\n\r\n\r\n\r\n    @Select(&quot;select role_id, role_name, allowed_actions::bigint, denied_actions::bigint from acm_role&quot;)\r\n    \t@ResultMap(&quot;com.hemant.data.mapper.RoleMapper.&quot; + PermissionDBHook.ROLE_MAP)\r\n    \tpublic List&lt;Role&gt; getAllRoles();\r\n\r\nOn adding resultMap to configuration before mapper, solved it\r\n\r\n       Configuration configuration = new Configuration(environment);\r\n       //Hemant - result map should be added before mappers\r\n       configuration.addResultMap(getResultMapForRoles(configuration));\r\n       configuration.addMappers(&quot;com.hemant.data.mapper&quot;);\r\n    \r\n","title":"MyBatis - Mapped Statements collection already contains value for","body":"<p>In my case, the occurance was due to resultMaps were added to the Configuration after addition of mapper.</p>\n\n<p>Eg:</p>\n\n<pre><code>Configuration configuration = new Configuration(environment);\nconfiguration.addMappers(\"com.hemant.data.mapper\");\nconfiguration.addResultMap(getResultMapForRoles(configuration));\n</code></pre>\n\n<p>If we observe MyBatis source code, then on\nconfiguration.addMappers(..) ..... parse() is executed.\n             <strong>org.apache.ibatis.builder.annotation.MapperAnnotationBuilder.parse()\norg.apache.ibatis.builder.annotation.MapperAnnotationBuilder.parseStatement(Method)</strong></p>\n\n<pre><code>for (Method method : methods) {\n        try {\n          // issue #237\n          if (!method.isBridge()) {\n            parseStatement(method);\n          }\n        } catch (IncompleteElementException e) {\n          configuration.addIncompleteMethod(new MethodResolver(this, method));\n        }\n      }\n</code></pre>\n\n<p>If there is an issue with parsing the statement (which occured in mycase as the statement had @ResultMap annotation, but resultMap wasn't provided to configuration.), the method is added in INCOMPLETE_METHODS in configuration which later raises the exception.</p>\n\n<pre><code>@Select(\"select role_id, role_name, allowed_actions::bigint, denied_actions::bigint from acm_role\")\n    @ResultMap(\"com.hemant.data.mapper.RoleMapper.\" + PermissionDBHook.ROLE_MAP)\n    public List&lt;Role&gt; getAllRoles();\n</code></pre>\n\n<p>On adding resultMap to configuration before mapper, solved it</p>\n\n<pre><code>   Configuration configuration = new Configuration(environment);\n   //Hemant - result map should be added before mappers\n   configuration.addResultMap(getResultMapForRoles(configuration));\n   configuration.addMappers(\"com.hemant.data.mapper\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":452166,"reputation":4446,"user_id":848454,"accept_rate":63,"display_name":"Hashken"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1510157360,"creation_date":1510157360,"answer_id":47184437,"question_id":37085803,"body_markdown":"This answer is not directly relevant to the question, but could be useful for others facing a similar error:\r\n\r\nThis error seems to be thrown when MyBatis finds multiple definitions for one of the methods in the mapper. In my case, I had **both the Annotation and a definition in the XML** for a method. Removing one of these resolved the issue.","title":"MyBatis - Mapped Statements collection already contains value for","body":"<p>This answer is not directly relevant to the question, but could be useful for others facing a similar error:</p>\n\n<p>This error seems to be thrown when MyBatis finds multiple definitions for one of the methods in the mapper. In my case, I had <strong>both the Annotation and a definition in the XML</strong> for a method. Removing one of these resolved the issue.</p>\n"},{"tags":[],"owner":{"account_id":7495732,"reputation":123,"user_id":5696071,"display_name":"Rob"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1530072556,"creation_date":1530072556,"answer_id":51054414,"question_id":37085803,"body_markdown":"For some reason this error was thrown when I had a resultType set to a class that no longer existed. Once I updated the class, the problem was resolved. Not sure why this particular error was thrown, but perhaps check your resultTypes as well if you come across this.","title":"MyBatis - Mapped Statements collection already contains value for","body":"<p>For some reason this error was thrown when I had a resultType set to a class that no longer existed. Once I updated the class, the problem was resolved. Not sure why this particular error was thrown, but perhaps check your resultTypes as well if you come across this.</p>\n"},{"tags":[],"owner":{"account_id":5156528,"reputation":53,"user_id":4129633,"display_name":"cncDAni3"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1573740488,"creation_date":1573740488,"answer_id":58858680,"question_id":37085803,"body_markdown":"For me the problem was not with that query - it was just the first, so it shows that one.\r\nThe real problem was with a type, that I resolved with a typeAlias. (I missed an annotation...)","title":"MyBatis - Mapped Statements collection already contains value for","body":"<p>For me the problem was not with that query - it was just the first, so it shows that one.\nThe real problem was with a type, that I resolved with a typeAlias. (I missed an annotation...)</p>\n"},{"tags":[],"owner":{"account_id":10786100,"reputation":2966,"user_id":7935057,"display_name":"Iceberg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617702710,"creation_date":1617702710,"answer_id":66966382,"question_id":37085803,"body_markdown":"&gt; Mapped Statements collection already contains value for com.sample.mappers.UserMapper...\r\n\r\nTwo **statement blocks with the same id** will result in this error. Possible cause:\r\n1. java method overloading in mapper interfaces, as stated by @Lucky\r\n2. There are two statement blocks that use the same id in the same namespace of one or more mapper xml files.\r\n\r\nThe id **findAllId** in namespace com.example.UserMapper should be unique.\r\n```\r\n&lt;mapper namespace=&quot;com.example.UserMapper&quot;&gt;\r\n &lt;select id=&quot;findAllId&quot; resultType=&quot;java.lang.Integer&quot;&gt;\r\n    SELECT id FROM User\r\n  &lt;/select&gt;\r\n&lt;/mapper&gt;\r\n```\r\n","title":"MyBatis - Mapped Statements collection already contains value for","body":"<blockquote>\n<p>Mapped Statements collection already contains value for com.sample.mappers.UserMapper...</p>\n</blockquote>\n<p>Two <strong>statement blocks with the same id</strong> will result in this error. Possible cause:</p>\n<ol>\n<li>java method overloading in mapper interfaces, as stated by @Lucky</li>\n<li>There are two statement blocks that use the same id in the same namespace of one or more mapper xml files.</li>\n</ol>\n<p>The id <strong>findAllId</strong> in namespace com.example.UserMapper should be unique.</p>\n<pre><code>&lt;mapper namespace=&quot;com.example.UserMapper&quot;&gt;\n &lt;select id=&quot;findAllId&quot; resultType=&quot;java.lang.Integer&quot;&gt;\n    SELECT id FROM User\n  &lt;/select&gt;\n&lt;/mapper&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11930618,"reputation":1,"user_id":8730577,"display_name":"rabi sahu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636872853,"creation_date":1636872853,"answer_id":69960923,"question_id":37085803,"body_markdown":"I also got the same error while searching a list . I was using mybatis . I found that there is an insert statement in the same mapper xml file and there I was using &quot;sysdate&quot; , something like the below statement\r\n\r\n    insert into tablename(id,created_time) values (#{id},sysdate)\r\n\r\nwhich seems to be wrong in case of myatis. So I sent the sysdate parameter from java end, and the issue got resolved.","title":"MyBatis - Mapped Statements collection already contains value for","body":"<p>I also got the same error while searching a list . I was using mybatis . I found that there is an insert statement in the same mapper xml file and there I was using &quot;sysdate&quot; , something like the below statement</p>\n<pre><code>insert into tablename(id,created_time) values (#{id},sysdate)\n</code></pre>\n<p>which seems to be wrong in case of myatis. So I sent the sysdate parameter from java end, and the issue got resolved.</p>\n"},{"tags":[],"owner":{"account_id":1866698,"reputation":1553,"user_id":1690081,"accept_rate":57,"display_name":"Mihkel L."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647524611,"creation_date":1647524611,"answer_id":71513371,"question_id":37085803,"body_markdown":"This also happens when you have `mybatis.mapper-locations` defined in your `appication.properies` and in your `mybatis-config.xml`\r\n","title":"MyBatis - Mapped Statements collection already contains value for","body":"<p>This also happens when you have <code>mybatis.mapper-locations</code> defined in your <code>appication.properies</code> and in your <code>mybatis-config.xml</code></p>\n"}],"owner":{"account_id":2003177,"reputation":16895,"user_id":1793718,"accept_rate":69,"display_name":"Lucky"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21625,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":37085804,"answer_count":9,"score":11,"last_activity_date":1647524611,"creation_date":1462606270,"question_id":37085803,"body_markdown":"I had the following error messages thrown when registering the mapper classes on my server startup,\r\n\r\n    [artifact:mvn] 2016-05-07 11:39:21,708 [ERROR] org.mybatis.spring.mapper.MapperFactoryBean - Error while adding the mapper &#39;interface com.sample.mappers.UserMapper&#39; to configuration.\r\n    [artifact:mvn] java.lang.IllegalArgumentException: Mapped Statements collection already contains value for com.sample.mappers.UserMapper.getAllUsers\r\n    [artifact:mvn] \tat org.apache.ibatis.session.Configuration$StrictMap.put(Configuration.java:802)\r\n    [artifact:mvn] \tat org.apache.ibatis.session.Configuration$StrictMap.put(Configuration.java:774)\r\n    [artifact:mvn] \tat org.apache.ibatis.session.Configuration.addMappedStatement(Configuration.java:598)\r\n    [artifact:mvn] \tat org.apache.ibatis.builder.MapperBuilderAssistant.addMappedStatement(MapperBuilderAssistant.java:300)\r\n    [artifact:mvn] \tat org.apache.ibatis.builder.annotation.MapperAnnotationBuilder.parseStatement(MapperAnnotationBuilder.java:313)\r\n    [artifact:mvn] \tat org.apache.ibatis.builder.annotation.MapperAnnotationBuilder.parse(MapperAnnotationBuilder.java:128)\r\n    [artifact:mvn] \tat org.apache.ibatis.binding.MapperRegistry.addMapper(MapperRegistry.java:72)\r\n    [artifact:mvn] \tat org.apache.ibatis.session.Configuration.addMapper(Configuration.java:671)\r\n    [artifact:mvn] \tat org.mybatis.spring.mapper.MapperFactoryBean.checkDaoConfig(MapperFactoryBean.java:81)\r\n    [artifact:mvn] \tat org.springframework.dao.support.DaoSupport.afterPropertiesSet(DaoSupport.java:44)\r\n\r\n\r\nI used annotations for my mapper interfaces and there&#39;s no xml configuration.  \r\n\r\nBelow is my UserMapper interface,\r\n\r\n    public interface UserMapper {\r\n\t\r\n\t  @Select(&quot;SELECT  * FROM customer&quot;)\r\n\t  List&lt;User&gt; getAllUsers();\r\n\r\n\t  @Select(&quot;SELECT * FROM customer where userId = #{userId} &quot;)\r\n\t  List&lt;User&gt; getAllUsers(Long userId);\r\n\r\n    }","title":"MyBatis - Mapped Statements collection already contains value for","body":"<p>I had the following error messages thrown when registering the mapper classes on my server startup,</p>\n\n<pre><code>[artifact:mvn] 2016-05-07 11:39:21,708 [ERROR] org.mybatis.spring.mapper.MapperFactoryBean - Error while adding the mapper 'interface com.sample.mappers.UserMapper' to configuration.\n[artifact:mvn] java.lang.IllegalArgumentException: Mapped Statements collection already contains value for com.sample.mappers.UserMapper.getAllUsers\n[artifact:mvn]  at org.apache.ibatis.session.Configuration$StrictMap.put(Configuration.java:802)\n[artifact:mvn]  at org.apache.ibatis.session.Configuration$StrictMap.put(Configuration.java:774)\n[artifact:mvn]  at org.apache.ibatis.session.Configuration.addMappedStatement(Configuration.java:598)\n[artifact:mvn]  at org.apache.ibatis.builder.MapperBuilderAssistant.addMappedStatement(MapperBuilderAssistant.java:300)\n[artifact:mvn]  at org.apache.ibatis.builder.annotation.MapperAnnotationBuilder.parseStatement(MapperAnnotationBuilder.java:313)\n[artifact:mvn]  at org.apache.ibatis.builder.annotation.MapperAnnotationBuilder.parse(MapperAnnotationBuilder.java:128)\n[artifact:mvn]  at org.apache.ibatis.binding.MapperRegistry.addMapper(MapperRegistry.java:72)\n[artifact:mvn]  at org.apache.ibatis.session.Configuration.addMapper(Configuration.java:671)\n[artifact:mvn]  at org.mybatis.spring.mapper.MapperFactoryBean.checkDaoConfig(MapperFactoryBean.java:81)\n[artifact:mvn]  at org.springframework.dao.support.DaoSupport.afterPropertiesSet(DaoSupport.java:44)\n</code></pre>\n\n<p>I used annotations for my mapper interfaces and there's no xml configuration.  </p>\n\n<p>Below is my UserMapper interface,</p>\n\n<pre><code>public interface UserMapper {\n\n  @Select(\"SELECT  * FROM customer\")\n  List&lt;User&gt; getAllUsers();\n\n  @Select(\"SELECT * FROM customer where userId = #{userId} \")\n  List&lt;User&gt; getAllUsers(Long userId);\n\n}\n</code></pre>\n"},{"tags":["java","multithreading","java-threads","thread-synchronization"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1647606070,"post_id":71511035,"comment_id":126418712,"body_markdown":"Placing the call to `notify` or `notifyAll` at the end of the synchronized block is mostly a matter of conceptual clarity:  it visually depicts the fact that other waiting threads wont be able to continue until the notifiers synchronized block ends.","body":"Placing the call to <code>notify</code> or <code>notifyAll</code> at the end of the synchronized block is mostly a matter of conceptual clarity:  it visually depicts the fact that other waiting threads wont be able to continue until the notifiers synchronized block ends."}],"answers":[{"tags":[],"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647524442,"creation_date":1647524442,"answer_id":71513323,"question_id":71511035,"body_markdown":"When you call `notifyAll()` all waiting threads are reactivated and try to acquire the lock on the object on which you called `notifyAll()`.\r\n\r\nIMHO the correctness of your code is not sacrificed - no other thread can acquire the lock as long as it is held by the current thread (the one calling `notifyAll()`).\r\n\r\nBut the performance will suffer - waking up threads takes processor resources, having them try to acquire the lock takes processor resources, waiting for the release of the lock takes processor resources.\r\n\r\n---\r\n\r\nOften the advice to call `notifyAll()` at the end of a critical section is fulfilled trivially because your thread is doing some processing in a critical section and at the end of that processing it notices that it should notify waiting threads that they can continue. In that case notifying other threads that they can continue before being sure that this is really the case doesn&#39;t make any sense.","title":"What if notifyAll is called at the start of critical section","body":"<p>When you call <code>notifyAll()</code> all waiting threads are reactivated and try to acquire the lock on the object on which you called <code>notifyAll()</code>.</p>\n<p>IMHO the correctness of your code is not sacrificed - no other thread can acquire the lock as long as it is held by the current thread (the one calling <code>notifyAll()</code>).</p>\n<p>But the performance will suffer - waking up threads takes processor resources, having them try to acquire the lock takes processor resources, waiting for the release of the lock takes processor resources.</p>\n<hr />\n<p>Often the advice to call <code>notifyAll()</code> at the end of a critical section is fulfilled trivially because your thread is doing some processing in a critical section and at the end of that processing it notices that it should notify waiting threads that they can continue. In that case notifying other threads that they can continue before being sure that this is really the case doesn't make any sense.</p>\n"}],"owner":{"account_id":21755605,"reputation":125,"user_id":16061021,"display_name":"Ankit Gautam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71513323,"answer_count":1,"score":0,"last_activity_date":1647524442,"creation_date":1647514134,"question_id":71511035,"body_markdown":"What if notifyAll is called at the start of critical section where lock is not released and released at the end of cs(critical section). What will happen to waiting threads?\r\n\r\nDo the notifyAll will get heard by all threads and all thread will try to get lock and get unsuccessful(since notify/notifyAll do not release lock) and keep on trying until they get the lock?\r\n\r\nSo, what difference it makes to call notify at the start of critical section or at the end ?why it is recommended to call notifyAll at the end of cs?\r\n","title":"What if notifyAll is called at the start of critical section","body":"<p>What if notifyAll is called at the start of critical section where lock is not released and released at the end of cs(critical section). What will happen to waiting threads?</p>\n<p>Do the notifyAll will get heard by all threads and all thread will try to get lock and get unsuccessful(since notify/notifyAll do not release lock) and keep on trying until they get the lock?</p>\n<p>So, what difference it makes to call notify at the start of critical section or at the end ?why it is recommended to call notifyAll at the end of cs?</p>\n"},{"tags":["java","android","sqlite","android-cursor"],"answers":[{"tags":[],"owner":{"account_id":1790714,"reputation":91128,"user_id":1631193,"accept_rate":71,"display_name":"Gabe Sechan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492790069,"creation_date":1492790069,"answer_id":43547094,"question_id":43547015,"body_markdown":"Exception: not an error?  That&#39;s a new one.  \r\n\r\nYour bottom loop is a bit weird and may be a bug-  you&#39;re moving to next but may not even have moved to first if that failed.  And if it succeeded you&#39;ll infinitely loop.  Try this instead:\r\n\r\n    if(ccc.moveToFirst()){\r\n\r\n        do{\r\n\r\n            String groupname= ccc.getString(ccc.getColumnIndex(&quot;groupname&quot;));\r\n        }while (ccc.moveToNext());\r\n\r\n\r\n    }","title":"How to use a Cursor?","body":"<p>Exception: not an error?  That's a new one.  </p>\n\n<p>Your bottom loop is a bit weird and may be a bug-  you're moving to next but may not even have moved to first if that failed.  And if it succeeded you'll infinitely loop.  Try this instead:</p>\n\n<pre><code>if(ccc.moveToFirst()){\n\n    do{\n\n        String groupname= ccc.getString(ccc.getColumnIndex(\"groupname\"));\n    }while (ccc.moveToNext());\n\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3519928,"reputation":692,"user_id":2942487,"accept_rate":70,"display_name":"Mikhail Krutov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1492790529,"creation_date":1492790529,"answer_id":43547222,"question_id":43547015,"body_markdown":"\r\n    do{\r\n\r\n        if(ccc.moveToFirst()){\r\n\r\n            String groupname= ccc.getString(ccc.getColumnIndex(&quot;groupname&quot;));\r\n        }\r\n\r\n\r\n    }while (ccc.moveToNext());\r\n\r\n\r\nthis is an infinite loop, while you have next item in your cursor, you move to first one, and next iteration you would again move to first one.\r\n\r\nAlso do not forget to call `Cursor.close()` after usage.","title":"How to use a Cursor?","body":"<pre><code>do{\n\n    if(ccc.moveToFirst()){\n\n        String groupname= ccc.getString(ccc.getColumnIndex(\"groupname\"));\n    }\n\n\n}while (ccc.moveToNext());\n</code></pre>\n\n<p>this is an infinite loop, while you have next item in your cursor, you move to first one, and next iteration you would again move to first one.</p>\n\n<p>Also do not forget to call <code>Cursor.close()</code> after usage.</p>\n"},{"tags":[],"owner":{"account_id":4938217,"reputation":21556,"user_id":3975747,"display_name":"Ferdous Ahamed"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1492791898,"creation_date":1492791898,"answer_id":43547674,"question_id":43547015,"body_markdown":"**Try this:**\r\n\r\n    // Move the cursor to the first row  if cursor is not empty\r\n    if(ccc.moveToFirst()) {\r\n\r\n        do{\r\n              String groupname= ccc.getString(ccc.getColumnIndex(&quot;groupname&quot;));\r\n        }while (ccc.moveToNext()); // Move cursor to next row until it pass last entry\r\n    }\r\n\r\n**Instead of:**\r\n\r\n    do{\r\n           if(ccc.moveToFirst()) {\r\n              String groupname= ccc.getString(ccc.getColumnIndex(&quot;groupname&quot;));\r\n           }\r\n    }while (ccc.moveToNext());\r\n","title":"How to use a Cursor?","body":"<p><strong>Try this:</strong></p>\n\n<pre><code>// Move the cursor to the first row  if cursor is not empty\nif(ccc.moveToFirst()) {\n\n    do{\n          String groupname= ccc.getString(ccc.getColumnIndex(\"groupname\"));\n    }while (ccc.moveToNext()); // Move cursor to next row until it pass last entry\n}\n</code></pre>\n\n<p><strong>Instead of:</strong></p>\n\n<pre><code>do{\n       if(ccc.moveToFirst()) {\n          String groupname= ccc.getString(ccc.getColumnIndex(\"groupname\"));\n       }\n}while (ccc.moveToNext());\n</code></pre>\n"}],"owner":{"account_id":10687714,"reputation":1,"user_id":7867739,"display_name":"jose"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":404,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1647524396,"creation_date":1492789854,"question_id":43547015,"body_markdown":"I have an app that receives the id of an animal and pass that id to a method from the database that will be read several times in a do-while. I want to know why this error happens?\r\n\r\nThis is my code:\r\n\r\n    bd = new BaseDados(getApplicationContext());\r\n        Cursor cc = bd.getIdAnimal(chipnumber);\r\n        if (cc.moveToFirst()) {\r\n\r\n        idanimal = cc.getInt(cc.getColumnIndex(&quot;idanimal&quot;));\r\n    }\r\n\r\n    Cursor ccc = bd.getGruupsnosAnimals(idanimal);\r\n\r\n    do{\r\n        if(ccc.moveToFirst()){\r\n\r\n            String groupname= ccc.getString(ccc.getColumnIndex(&quot;groupname&quot;));\r\n        }\r\n\r\n    }while (ccc.moveToNext());\r\n\r\nThis is my error:\r\n\r\n       Process: com.example.nobre.myapplication, PID: 4529\r\n       android.database.sqlite.SQLiteException: not an error (code 0)\r\n       at android.database.sqlite.SQLiteConnection.nativeExecuteForCursorWindow(Native Method)\r\n       at android.database.sqlite.SQLiteConnection.executeForCursorWindow(SQLiteConnection.java:845)\r\n       at android.database.sqlite.SQLiteSession.executeForCursorWindow(SQLiteSession.java:836)\r\n       at android.database.sqlite.SQLiteQuery.fillWindow(SQLiteQuery.java:62)\r\n       at android.database.sqlite.SQLiteCursor.fillWindow(SQLiteCursor.java:144)\r\n       at android.database.sqlite.SQLiteCursor.getCount(SQLiteCursor.java:133)\r\n       at android.database.AbstractCursor.moveToPosition(AbstractCursor.java:197)\r\n       at android.database.AbstractCursor.moveToFirst(AbstractCursor.java:237)\r\n       at com.example.nobre.myapplication.Activities.VerAnimaisActivity.showDialog(VerAnimaisActivity.java:193)\r\n       at com.example.nobre.myapplication.Activities.VerAnimaisActivity$2.onClick(VerAnimaisActivity.java:153)\r\n       at android.view.View.performClick(View.java:4780)\r\n       at android.view.View$PerformClick.run(View.java:19866)\r\n       at android.os.Handler.handleCallback(Handler.java:739)\r\n       at android.os.Handler.dispatchMessage(Handler.java:95)\r\n       at android.os.Looper.loop(Looper.java:135)\r\n       at android.app.ActivityThread.main(ActivityThread.java:5254)\r\n       at java.lang.reflect.Method.invoke(Native Method)\r\n       at java.lang.reflect.Method.invoke(Method.java:372)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)","title":"How to use a Cursor?","body":"<p>I have an app that receives the id of an animal and pass that id to a method from the database that will be read several times in a do-while. I want to know why this error happens?</p>\n<p>This is my code:</p>\n<pre><code>bd = new BaseDados(getApplicationContext());\n    Cursor cc = bd.getIdAnimal(chipnumber);\n    if (cc.moveToFirst()) {\n\n    idanimal = cc.getInt(cc.getColumnIndex(&quot;idanimal&quot;));\n}\n\nCursor ccc = bd.getGruupsnosAnimals(idanimal);\n\ndo{\n    if(ccc.moveToFirst()){\n\n        String groupname= ccc.getString(ccc.getColumnIndex(&quot;groupname&quot;));\n    }\n\n}while (ccc.moveToNext());\n</code></pre>\n<p>This is my error:</p>\n<pre><code>   Process: com.example.nobre.myapplication, PID: 4529\n   android.database.sqlite.SQLiteException: not an error (code 0)\n   at android.database.sqlite.SQLiteConnection.nativeExecuteForCursorWindow(Native Method)\n   at android.database.sqlite.SQLiteConnection.executeForCursorWindow(SQLiteConnection.java:845)\n   at android.database.sqlite.SQLiteSession.executeForCursorWindow(SQLiteSession.java:836)\n   at android.database.sqlite.SQLiteQuery.fillWindow(SQLiteQuery.java:62)\n   at android.database.sqlite.SQLiteCursor.fillWindow(SQLiteCursor.java:144)\n   at android.database.sqlite.SQLiteCursor.getCount(SQLiteCursor.java:133)\n   at android.database.AbstractCursor.moveToPosition(AbstractCursor.java:197)\n   at android.database.AbstractCursor.moveToFirst(AbstractCursor.java:237)\n   at com.example.nobre.myapplication.Activities.VerAnimaisActivity.showDialog(VerAnimaisActivity.java:193)\n   at com.example.nobre.myapplication.Activities.VerAnimaisActivity$2.onClick(VerAnimaisActivity.java:153)\n   at android.view.View.performClick(View.java:4780)\n   at android.view.View$PerformClick.run(View.java:19866)\n   at android.os.Handler.handleCallback(Handler.java:739)\n   at android.os.Handler.dispatchMessage(Handler.java:95)\n   at android.os.Looper.loop(Looper.java:135)\n   at android.app.ActivityThread.main(ActivityThread.java:5254)\n   at java.lang.reflect.Method.invoke(Native Method)\n   at java.lang.reflect.Method.invoke(Method.java:372)\n   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:903)\n   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:698)\n</code></pre>\n"},{"tags":["java","maven","pom.xml","testng.xml"],"answers":[{"tags":[],"owner":{"account_id":6990353,"reputation":1340,"user_id":5359846,"accept_rate":23,"display_name":"Tal Angel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647445801,"creation_date":1647445801,"answer_id":71500168,"question_id":71499989,"body_markdown":"`POM` and `testng.xml` are just settings files.\r\n\r\nYou must have a test method with `Test` annotation. Also, some code running and finally a basic assert code.\r\n\r\n    [Test]\r\n    public void Test1() {\r\n    \r\n      // Test code goes here\r\n         Assert.true(boolVal, &quot;Testing that boolVal is true&quot;);\r\n    \r\n    }\r\n\r\nMake sure that your code creates test suite with actual test steps and cases.","title":"Maven test or mvn clean install test doesn&#39;t work. It shows only &#39;Build Success&#39;","body":"<p><code>POM</code> and <code>testng.xml</code> are just settings files.</p>\n<p>You must have a test method with <code>Test</code> annotation. Also, some code running and finally a basic assert code.</p>\n<pre><code>[Test]\npublic void Test1() {\n\n  // Test code goes here\n     Assert.true(boolVal, &quot;Testing that boolVal is true&quot;);\n\n}\n</code></pre>\n<p>Make sure that your code creates test suite with actual test steps and cases.</p>\n"},{"tags":[],"owner":{"account_id":24579080,"reputation":1,"user_id":18484498,"display_name":"Anton Kolev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647524226,"creation_date":1647524226,"answer_id":71513264,"question_id":71499989,"body_markdown":"Problem is resolved. The problem was that **test** folder was named &#39;**tests**&#39; and this causes issues.","title":"Maven test or mvn clean install test doesn&#39;t work. It shows only &#39;Build Success&#39;","body":"<p>Problem is resolved. The problem was that <strong>test</strong> folder was named '<strong>tests</strong>' and this causes issues.</p>\n"}],"owner":{"account_id":24579080,"reputation":1,"user_id":18484498,"display_name":"Anton Kolev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1441,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647524226,"creation_date":1647445105,"question_id":71499989,"body_markdown":"I&#39;m stuck in this problem. I&#39;m trying to test this project with maven. I typed &#39;mvn test&#39;, &#39;mvn test-compile&#39;, &#39;mvn package&#39; and so on.Also try to Clean the project too many times reinstall maven/intellij and testng also try to change the testng.xml directory. But it always shows same output like this: \r\n\r\n    [INFO] Scanning for projects...\r\n    [INFO] \r\n    [INFO] --------------------------&lt; {{ProjectName}}:Automation &gt;--------------------------\r\n    [INFO] Building {{ProjectName}}Automation 0.0.1-SNAPSHOT\r\n    [INFO] --------------------------------[ pom ]---------------------------------\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD SUCCESS\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  0.113 s\r\n    [INFO] Finished at: 2022-03-16T17:30:56+02:00\r\n    [INFO] ------------------------------------------------------------------------\r\n\r\nMy POM is:\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;SomeGroup&lt;/groupId&gt;\r\n      &lt;artifactId&gt;Automation&lt;/artifactId&gt;\r\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.8.1&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;1.8&lt;/source&gt;\r\n                        &lt;target&gt;1.8&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.0-M3&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;includes&gt;\r\n                            &lt;include&gt;**/Test*.java&lt;/include&gt;\r\n                            &lt;include&gt;**/*Test.java&lt;/include&gt;\r\n                            &lt;include&gt;**/*TestCase.java&lt;/include&gt;\r\n                        &lt;/includes&gt;\r\n                        &lt;suiteXmlFiles&gt;\r\n                            &lt;suiteFile&gt;src/tests/resources/suites/testng.xml&lt;/suiteFile&gt;\r\n                        &lt;/suiteXmlFiles&gt;\r\n                        &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n                        &lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\r\n                        &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n        &lt;packaging&gt;pom&lt;/packaging&gt;\r\n    \r\n      &lt;name&gt;SomeName&lt;/name&gt;\r\n      &lt;url&gt;http://maven.apache.org&lt;/url&gt;\r\n    \r\n      &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n          &lt;suiteXmlFile&gt;src/tests/resources/suites/testng.xml&lt;/suiteXmlFile&gt;\r\n      &lt;/properties&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/io.rest-assured/rest-assured --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n            &lt;version&gt;4.5.1&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.22&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\r\n            &lt;version&gt;3.12.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n            &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n            &lt;version&gt;7.5&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n            &lt;version&gt;2.17.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.amihaiemil.web&lt;/groupId&gt;\r\n            &lt;artifactId&gt;eo-yaml&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.yaml&lt;/groupId&gt;\r\n            &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\r\n            &lt;version&gt;1.30&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n            &lt;version&gt;4.4.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\r\n            &lt;artifactId&gt;extentreports-testng-adapter&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.relevantcodes&lt;/groupId&gt;\r\n            &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\r\n            &lt;version&gt;2.41.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jboss.aerogear&lt;/groupId&gt;\r\n            &lt;artifactId&gt;aerogear-otp-java&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\r\n            &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\r\n            &lt;version&gt;5.5&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\r\n            &lt;artifactId&gt;struts-core&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.8&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\r\n            &lt;artifactId&gt;annotations&lt;/artifactId&gt;\r\n            &lt;version&gt;23.0.0&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-codec&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\r\n            &lt;version&gt;20041127.091804&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.assertj&lt;/groupId&gt;\r\n            &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.21.0&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nMy testng.xml is:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\r\n    &lt;suite name=&quot;Web Automation&quot;&gt;\r\n    &lt;!--    &lt;parameter name=&quot;env&quot; value=&quot;${env}&quot;/&gt;--&gt;\r\n    &lt;!--    &lt;parameter name=&quot;browser&quot; value=&quot;${browser}&quot; /&gt;--&gt;\r\n        &lt;parameter name=&quot;env&quot; value=&quot;test&quot;/&gt;\r\n        &lt;parameter name=&quot;browser&quot; value=&quot;chrome&quot;/&gt;\r\n        &lt;test name=&quot;patientTests&quot; &gt;\r\n            &lt;packages&gt;\r\n                &lt;package name=&quot;FunctionalTests&quot;/&gt;\r\n            &lt;/packages&gt;\r\n        &lt;/test&gt;\r\n    &lt;/suite&gt;\r\n\r\nAnd structure is:\r\n\r\n[ProjectStructure][1] \r\n\r\nI would be glad if someone help me.. Everything starts with &quot;classpath error&quot; and things gone wrong\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hOTLS.png \r\n\r\nMy TestCases looks like this:\r\n\r\n        package FunctionalTests;\r\n    \r\n    import org.testng.Assert;\r\n    import org.testng.annotations.Test;\r\n    \r\n    \r\n    import java.io.IOException;\r\n    \r\n        public class LoginTest extends BaseTest{\r\n        \r\n            @Test(groups = {&quot;fullRegression&quot;,&quot;LoginTests&quot;, &quot;PERRY-269&quot;, &quot;sanityCheck&quot;},\r\n                    description = &quot;Login as Provider with valid email&quot;)\r\n            public void loginAsProviderWithEmail() throws IOException {\r\n                logINFO(&quot;Enter email and password and click login.&quot;);\r\n                loginPage.loginWithEmail(providerEmail, providerPassword);\r\n                Assert.assertTrue(checkHttpResponseCode());\r\n        \r\n                logINFO(&quot;Check if home page loaded (Top bar tracker button exists).&quot;);\r\n                Assert.assertTrue(providerHomePage.isPageLoaded(), &quot;Home page not loaded.&quot;);\r\n            }\r\n\r\n\r\nAnd my BaseTest looks like this:\r\n\r\n    @Listeners(Utils.Listeners.TestListener.class)\r\n    public class BaseTest {\r\n    \r\n        LoginPage loginPage;\r\n    \r\n        private static final String envYamlFilePath = &quot;src/tests/resources/config/env.yml&quot;;\r\n       // public YamlReader environmentsYamlReader;\r\n        public static YamlReader environmentsYamlReader = new YamlReader(envYamlFilePath);\r\n    \r\n        static final SoftAssert softAssert = new SoftAssert();\r\n   \r\n    \r\n        private static String providerEmailPath;\r\n        private static String providerPasswordPath;\r\n        private static String envPath;\r\n    \r\n        static String providerEmail;\r\n        static String providerPassword;\r\n        static String url;\r\n    \r\n        public RemoteWebDriver driver;\r\n    \r\n        public WebDriverController instance;\r\n        public String WEBDRIVER = &quot;driver&quot;;\r\n   \r\n    \r\n        @BeforeSuite\r\n        public void setUpSuite(ITestContext context) {\r\n            String browser = context.getCurrentXmlTest().getParameter(&quot;browser&quot;);\r\n            String env = context.getCurrentXmlTest().getParameter(&quot;env&quot;);\r\n    \r\n            if (browser == null) browser = defaultBrowser;\r\n            if (env == null) env = defaultEnvironment;\r\n    \r\n            envPath = env + &quot;.url&quot;;\r\n            providerEmailPath = env + &quot;.providerEmail&quot;;\r\n            providerPasswordPath = env + &quot;.providerPassword&quot;;\r\n    \r\n            url = environmentsYamlReader.read(envPath).get().toString();\r\n            providerEmail = environmentsYamlReader.read(providerEmailPath).get().toString();\r\n            providerPassword = environmentsYamlReader.read(providerPasswordPath).get().toString();\r\n           \r\n    \r\n        @BeforeMethod\r\n        public void setUpMethod(ITestContext context, ITestResult testResult) {\r\n            String browser = context.getCurrentXmlTest().getParameter(&quot;browser&quot;);\r\n            String env = context.getCurrentXmlTest().getParameter(&quot;env&quot;);\r\n    \r\n            instance = new WebDriverController();\r\n    \r\n            if (browser == null) browser = defaultBrowser;\r\n            if (env == null) env = defaultEnvironment;\r\n    \r\n            driver = (RemoteWebDriver)instance.start(browser);\r\n            testResult.setAttribute(WEBDRIVER, driver);\r\n    \r\n            driver.manage().window().maximize();\r\n            driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(5));\r\n            driver.get(url);\r\n    \r\n            loginPage = new LoginPage(driver);\r\n            \r\n        }\r\n    \r\n        @AfterMethod\r\n        public void cleanupBrowser(ITestResult testResult) {\r\n            RemoteWebDriver driver = driver(testResult);\r\n            driver.quit();\r\n        }","title":"Maven test or mvn clean install test doesn&#39;t work. It shows only &#39;Build Success&#39;","body":"<p>I'm stuck in this problem. I'm trying to test this project with maven. I typed 'mvn test', 'mvn test-compile', 'mvn package' and so on.Also try to Clean the project too many times reinstall maven/intellij and testng also try to change the testng.xml directory. But it always shows same output like this:</p>\n<pre><code>[INFO] Scanning for projects...\n[INFO] \n[INFO] --------------------------&lt; {{ProjectName}}:Automation &gt;--------------------------\n[INFO] Building {{ProjectName}}Automation 0.0.1-SNAPSHOT\n[INFO] --------------------------------[ pom ]---------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD SUCCESS\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  0.113 s\n[INFO] Finished at: 2022-03-16T17:30:56+02:00\n[INFO] ------------------------------------------------------------------------\n</code></pre>\n<p>My POM is:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;SomeGroup&lt;/groupId&gt;\n  &lt;artifactId&gt;Automation&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.8.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.0-M3&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;includes&gt;\n                        &lt;include&gt;**/Test*.java&lt;/include&gt;\n                        &lt;include&gt;**/*Test.java&lt;/include&gt;\n                        &lt;include&gt;**/*TestCase.java&lt;/include&gt;\n                    &lt;/includes&gt;\n                    &lt;suiteXmlFiles&gt;\n                        &lt;suiteFile&gt;src/tests/resources/suites/testng.xml&lt;/suiteFile&gt;\n                    &lt;/suiteXmlFiles&gt;\n                    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                    &lt;useSystemClassLoader&gt;false&lt;/useSystemClassLoader&gt;\n                    &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;packaging&gt;pom&lt;/packaging&gt;\n\n  &lt;name&gt;SomeName&lt;/name&gt;\n  &lt;url&gt;http://maven.apache.org&lt;/url&gt;\n\n  &lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n      &lt;suiteXmlFile&gt;src/tests/resources/suites/testng.xml&lt;/suiteXmlFile&gt;\n  &lt;/properties&gt;\n\n&lt;dependencies&gt;\n    &lt;!-- https://mvnrepository.com/artifact/io.rest-assured/rest-assured --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n        &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n        &lt;version&gt;4.5.1&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.22&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;4.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-api&lt;/artifactId&gt;\n        &lt;version&gt;4.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-lang3&lt;/artifactId&gt;\n        &lt;version&gt;3.12.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\n        &lt;version&gt;7.5&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;version&gt;2.17.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;2.17.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.amihaiemil.web&lt;/groupId&gt;\n        &lt;artifactId&gt;eo-yaml&lt;/artifactId&gt;\n        &lt;version&gt;6.0.1&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.yaml&lt;/groupId&gt;\n        &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n        &lt;version&gt;1.30&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n        &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n        &lt;version&gt;4.4.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.aventstack&lt;/groupId&gt;\n        &lt;artifactId&gt;extentreports-testng-adapter&lt;/artifactId&gt;\n        &lt;version&gt;1.2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.relevantcodes&lt;/groupId&gt;\n        &lt;artifactId&gt;extentreports&lt;/artifactId&gt;\n        &lt;version&gt;2.41.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jboss.aerogear&lt;/groupId&gt;\n        &lt;artifactId&gt;aerogear-otp-java&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.opencsv&lt;/groupId&gt;\n        &lt;artifactId&gt;opencsv&lt;/artifactId&gt;\n        &lt;version&gt;5.5&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.struts&lt;/groupId&gt;\n        &lt;artifactId&gt;struts-core&lt;/artifactId&gt;\n        &lt;version&gt;1.3.8&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jetbrains&lt;/groupId&gt;\n        &lt;artifactId&gt;annotations&lt;/artifactId&gt;\n        &lt;version&gt;23.0.0&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;commons-codec&lt;/groupId&gt;\n        &lt;artifactId&gt;commons-codec&lt;/artifactId&gt;\n        &lt;version&gt;20041127.091804&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.assertj&lt;/groupId&gt;\n        &lt;artifactId&gt;assertj-core&lt;/artifactId&gt;\n        &lt;version&gt;3.21.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>My testng.xml is:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE suite SYSTEM &quot;https://testng.org/testng-1.0.dtd&quot;&gt;\n&lt;suite name=&quot;Web Automation&quot;&gt;\n&lt;!--    &lt;parameter name=&quot;env&quot; value=&quot;${env}&quot;/&gt;--&gt;\n&lt;!--    &lt;parameter name=&quot;browser&quot; value=&quot;${browser}&quot; /&gt;--&gt;\n    &lt;parameter name=&quot;env&quot; value=&quot;test&quot;/&gt;\n    &lt;parameter name=&quot;browser&quot; value=&quot;chrome&quot;/&gt;\n    &lt;test name=&quot;patientTests&quot; &gt;\n        &lt;packages&gt;\n            &lt;package name=&quot;FunctionalTests&quot;/&gt;\n        &lt;/packages&gt;\n    &lt;/test&gt;\n&lt;/suite&gt;\n</code></pre>\n<p>And structure is:</p>\n<p><a href=\"https://i.stack.imgur.com/hOTLS.png\" rel=\"nofollow noreferrer\">ProjectStructure</a></p>\n<p>I would be glad if someone help me.. Everything starts with &quot;classpath error&quot; and things gone wrong</p>\n<p>My TestCases looks like this:</p>\n<pre><code>    package FunctionalTests;\n\nimport org.testng.Assert;\nimport org.testng.annotations.Test;\n\n\nimport java.io.IOException;\n\n    public class LoginTest extends BaseTest{\n    \n        @Test(groups = {&quot;fullRegression&quot;,&quot;LoginTests&quot;, &quot;PERRY-269&quot;, &quot;sanityCheck&quot;},\n                description = &quot;Login as Provider with valid email&quot;)\n        public void loginAsProviderWithEmail() throws IOException {\n            logINFO(&quot;Enter email and password and click login.&quot;);\n            loginPage.loginWithEmail(providerEmail, providerPassword);\n            Assert.assertTrue(checkHttpResponseCode());\n    \n            logINFO(&quot;Check if home page loaded (Top bar tracker button exists).&quot;);\n            Assert.assertTrue(providerHomePage.isPageLoaded(), &quot;Home page not loaded.&quot;);\n        }\n</code></pre>\n<p>And my BaseTest looks like this:</p>\n<pre><code>@Listeners(Utils.Listeners.TestListener.class)\npublic class BaseTest {\n\n    LoginPage loginPage;\n\n    private static final String envYamlFilePath = &quot;src/tests/resources/config/env.yml&quot;;\n   // public YamlReader environmentsYamlReader;\n    public static YamlReader environmentsYamlReader = new YamlReader(envYamlFilePath);\n\n    static final SoftAssert softAssert = new SoftAssert();\n\n\n    private static String providerEmailPath;\n    private static String providerPasswordPath;\n    private static String envPath;\n\n    static String providerEmail;\n    static String providerPassword;\n    static String url;\n\n    public RemoteWebDriver driver;\n\n    public WebDriverController instance;\n    public String WEBDRIVER = &quot;driver&quot;;\n\n\n    @BeforeSuite\n    public void setUpSuite(ITestContext context) {\n        String browser = context.getCurrentXmlTest().getParameter(&quot;browser&quot;);\n        String env = context.getCurrentXmlTest().getParameter(&quot;env&quot;);\n\n        if (browser == null) browser = defaultBrowser;\n        if (env == null) env = defaultEnvironment;\n\n        envPath = env + &quot;.url&quot;;\n        providerEmailPath = env + &quot;.providerEmail&quot;;\n        providerPasswordPath = env + &quot;.providerPassword&quot;;\n\n        url = environmentsYamlReader.read(envPath).get().toString();\n        providerEmail = environmentsYamlReader.read(providerEmailPath).get().toString();\n        providerPassword = environmentsYamlReader.read(providerPasswordPath).get().toString();\n       \n\n    @BeforeMethod\n    public void setUpMethod(ITestContext context, ITestResult testResult) {\n        String browser = context.getCurrentXmlTest().getParameter(&quot;browser&quot;);\n        String env = context.getCurrentXmlTest().getParameter(&quot;env&quot;);\n\n        instance = new WebDriverController();\n\n        if (browser == null) browser = defaultBrowser;\n        if (env == null) env = defaultEnvironment;\n\n        driver = (RemoteWebDriver)instance.start(browser);\n        testResult.setAttribute(WEBDRIVER, driver);\n\n        driver.manage().window().maximize();\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(5));\n        driver.get(url);\n\n        loginPage = new LoginPage(driver);\n        \n    }\n\n    @AfterMethod\n    public void cleanupBrowser(ITestResult testResult) {\n        RemoteWebDriver driver = driver(testResult);\n        driver.quit();\n    }\n</code></pre>\n"},{"tags":["java","hibernate","datasource","guice","jetty-10"],"answers":[{"tags":[],"owner":{"account_id":2090213,"reputation":1431,"user_id":1860222,"accept_rate":52,"display_name":"pbuchheit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647524180,"creation_date":1647524180,"answer_id":71513255,"question_id":71444282,"body_markdown":"I managed to figure out the problem. I never set up an explicit dependency between the entity manager provider and the datasource provider. I was getting away with it in the old build because there was another provider method that DID have a dependency on datasource and that provider was getting injected first. When I updated to a newer version of guice, something about the injection order changed.\r\n\r\nI simply needed to change the method definition for entity manager to \r\n\r\n    public EntityManager getEntityManager(Datasource ds){}\r\n\r\nOnce I did that the code worked again. \r\n\r\nOne question I still have is whether there is a better way to do this. I don&#39;t actually use the datasource directly in the provider method, it just needs to have been added to the context before Hibernate does the lookup. Is there a better way to ensure the dependencies for the provider method without adding a parameter that never gets used?","title":"Datasource injection problems in Jetty 10","body":"<p>I managed to figure out the problem. I never set up an explicit dependency between the entity manager provider and the datasource provider. I was getting away with it in the old build because there was another provider method that DID have a dependency on datasource and that provider was getting injected first. When I updated to a newer version of guice, something about the injection order changed.</p>\n<p>I simply needed to change the method definition for entity manager to</p>\n<pre><code>public EntityManager getEntityManager(Datasource ds){}\n</code></pre>\n<p>Once I did that the code worked again.</p>\n<p>One question I still have is whether there is a better way to do this. I don't actually use the datasource directly in the provider method, it just needs to have been added to the context before Hibernate does the lookup. Is there a better way to ensure the dependencies for the provider method without adding a parameter that never gets used?</p>\n"}],"owner":{"account_id":2090213,"reputation":1431,"user_id":1860222,"accept_rate":52,"display_name":"pbuchheit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647524180,"creation_date":1647030368,"question_id":71444282,"body_markdown":"I&#39;m in the process of migrating a jetty web app from jetty 9 to jetty 10. We are using google guice to do dependency injection. Currently the guice module looks like this:\r\n\r\n    public abstract class GuiceModule extends AbstractModule {\r\n    \r\n        @Provides\r\n        @Singleton\r\n        public EntityManager getEntityManager()\r\n        {\r\n        \tPersistenceProviderResolverHolder.setPersistenceProviderResolver(new PersistenceProviderResolver() {\r\n        \t\tprivate final List&lt;PersistenceProvider&gt; providers_ = Arrays.asList((PersistenceProvider) new HibernatePersistenceProvider());\r\n    \r\n        \t\t@Override\r\n        \t\tpublic List&lt;PersistenceProvider&gt; getPersistenceProviders() {\r\n        \t\treturn providers_;\r\n        \t\t}\r\n    \r\n    \t\t\t@Override\r\n    \t\t\tpublic void clearCachedProviders() {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \t\t\t\t\r\n    \t\t\t}\r\n        \t});\r\n        \t\t\r\n        \tfinal EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;myPU&quot;);\r\n    \t\t\r\n    \t\tfinal EntityManager em = emf.createEntityManager();\r\n    \t\t\r\n    \t\treturn em;\r\n        }\r\n    \r\n        private static final String NAV_DS = &quot;java:comp/env/jdbc/NavDS&quot;;\r\n    \t\r\n    \t@Provides\r\n    \tpublic Context getContext() throws NamingException\r\n    \t{\r\n    \t\tif( context == null)\r\n    \t\t{\r\n    \t\t\tcontext = new InitialContext();  \r\n    \t\t\tcontext.createSubcontext(&quot;java:comp/env&quot;);\r\n    \t\t\tcontext.createSubcontext(&quot;java:comp/env/jdbc&quot;);\r\n    \t\t}\r\n    \t\treturn context;\r\n    \r\n    \t}\r\n    \r\n        @Provides\r\n    \t@Singleton\r\n    \tpublic DataSource getNavDS() throws NamingException {\r\n            \r\n            BasicDataSource ds = new BasicDataSource();   \t    \r\n        ds.setUrl(&quot;jdbc:h2:mem:myDB;create=true;MODE=MSSQLServer;DATABASE_TO_UPPER=FALSE;&quot;);    \t       \t        \r\n    \t    Context context = getContext(); \r\n    \t    context.rebind(NAV_DS, ds);\t        \t                \t\t\t\t\r\n    \t\treturn ds;\r\n    \t}\r\n    \t\r\n    \t@Singleton\r\n    \t@Provides\r\n    \tpublic ExportData getExportData(DataSource ds)\r\n    \t{\r\n    \t\tMap&lt;String, String&gt; testData = new HashMap&lt;String,String&gt;();\r\n    \t\ttestData.put(&quot;Customer_R&quot;, &quot;src/test/resources/nav_customers.csv&quot;);\t\t\r\n    \t    return new ExportData(ds, testData);\r\n    \t}\r\n    }\r\n\r\nWe use those field to inject a test class like:\r\n\r\n    public abstract class AbstractTest {\r\n    \r\n    \t@Inject\r\n    \tpublic Configuration cfg;\r\n    \t@Inject\r\n    \tpublic ExportData exportData;\r\n    \t@Inject\r\n    \tprotected EntityManager entityManager;\r\n    }\r\n\r\nIn jetty 9 this all worked fine. The entity manager provider was able to lookup the datasource defined in persistence.xml . For some reason that doesn&#39;t seem to work in jetty 10. When the entity manager provider is called it throws a NameNotFoundException for &#39;NavDS&#39;.\r\n\r\nAny ideas what might be causing this? Is there some migration step I missed?","title":"Datasource injection problems in Jetty 10","body":"<p>I'm in the process of migrating a jetty web app from jetty 9 to jetty 10. We are using google guice to do dependency injection. Currently the guice module looks like this:</p>\n<pre><code>public abstract class GuiceModule extends AbstractModule {\n\n    @Provides\n    @Singleton\n    public EntityManager getEntityManager()\n    {\n        PersistenceProviderResolverHolder.setPersistenceProviderResolver(new PersistenceProviderResolver() {\n            private final List&lt;PersistenceProvider&gt; providers_ = Arrays.asList((PersistenceProvider) new HibernatePersistenceProvider());\n\n            @Override\n            public List&lt;PersistenceProvider&gt; getPersistenceProviders() {\n            return providers_;\n            }\n\n            @Override\n            public void clearCachedProviders() {\n                // TODO Auto-generated method stub\n                \n            }\n        });\n            \n        final EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;myPU&quot;);\n        \n        final EntityManager em = emf.createEntityManager();\n        \n        return em;\n    }\n\n    private static final String NAV_DS = &quot;java:comp/env/jdbc/NavDS&quot;;\n    \n    @Provides\n    public Context getContext() throws NamingException\n    {\n        if( context == null)\n        {\n            context = new InitialContext();  \n            context.createSubcontext(&quot;java:comp/env&quot;);\n            context.createSubcontext(&quot;java:comp/env/jdbc&quot;);\n        }\n        return context;\n\n    }\n\n    @Provides\n    @Singleton\n    public DataSource getNavDS() throws NamingException {\n        \n        BasicDataSource ds = new BasicDataSource();         \n    ds.setUrl(&quot;jdbc:h2:mem:myDB;create=true;MODE=MSSQLServer;DATABASE_TO_UPPER=FALSE;&quot;);                        \n        Context context = getContext(); \n        context.rebind(NAV_DS, ds);                                             \n        return ds;\n    }\n    \n    @Singleton\n    @Provides\n    public ExportData getExportData(DataSource ds)\n    {\n        Map&lt;String, String&gt; testData = new HashMap&lt;String,String&gt;();\n        testData.put(&quot;Customer_R&quot;, &quot;src/test/resources/nav_customers.csv&quot;);     \n        return new ExportData(ds, testData);\n    }\n}\n</code></pre>\n<p>We use those field to inject a test class like:</p>\n<pre><code>public abstract class AbstractTest {\n\n    @Inject\n    public Configuration cfg;\n    @Inject\n    public ExportData exportData;\n    @Inject\n    protected EntityManager entityManager;\n}\n</code></pre>\n<p>In jetty 9 this all worked fine. The entity manager provider was able to lookup the datasource defined in persistence.xml . For some reason that doesn't seem to work in jetty 10. When the entity manager provider is called it throws a NameNotFoundException for 'NavDS'.</p>\n<p>Any ideas what might be causing this? Is there some migration step I missed?</p>\n"},{"tags":["java","android","sqlite","android-cursor"],"comments":[{"owner":{"account_id":1467603,"reputation":10525,"user_id":1380032,"accept_rate":43,"display_name":"Rahul"},"score":0,"creation_date":1500658107,"post_id":45243298,"comment_id":77452940,"body_markdown":"You are loading predefined schema?","body":"You are loading predefined schema?"},{"owner":{"account_id":6513373,"reputation":17341,"user_id":5039950,"accept_rate":78,"display_name":"Sachin Chandil"},"score":0,"creation_date":1500658109,"post_id":45243298,"comment_id":77452942,"body_markdown":"post code of `retrieveAllEntriesCursor()` method also","body":"post code of <code>retrieveAllEntriesCursor()</code> method also"},{"owner":{"account_id":11382074,"reputation":37,"user_id":8344728,"accept_rate":100,"display_name":"sarah"},"score":0,"creation_date":1500658175,"post_id":45243298,"comment_id":77452968,"body_markdown":"@chandil03 it&#39;s in the 2nd grey box","body":"@chandil03 it&#39;s in the 2nd grey box"},{"owner":{"account_id":1467603,"reputation":10525,"user_id":1380032,"accept_rate":43,"display_name":"Rahul"},"score":0,"creation_date":1500658316,"post_id":45243298,"comment_id":77453060,"body_markdown":"If possible post your schema","body":"If possible post your schema"},{"owner":{"account_id":6513373,"reputation":17341,"user_id":5039950,"accept_rate":78,"display_name":"Sachin Chandil"},"score":0,"creation_date":1500658876,"post_id":45243298,"comment_id":77453354,"body_markdown":"you are fetching `KEY_ID` at 0 index and `COLUMN_KEY_ID` is 3 thats why this error is occurred. try using 0 instead of `COLUMN_KEY_ID`. it should work.","body":"you are fetching <code>KEY_ID</code> at 0 index and <code>COLUMN_KEY_ID</code> is 3 thats why this error is occurred. try using 0 instead of <code>COLUMN_KEY_ID</code>. it should work."},{"owner":{"account_id":11382074,"reputation":37,"user_id":8344728,"accept_rate":100,"display_name":"sarah"},"score":0,"creation_date":1500659614,"post_id":45243298,"comment_id":77453761,"body_markdown":"@chandil03 which part of the code says that `COLUMN_KEY_ID` is 3?","body":"@chandil03 which part of the code says that <code>COLUMN_KEY_ID</code> is 3?"},{"owner":{"account_id":6513373,"reputation":17341,"user_id":5039950,"accept_rate":78,"display_name":"Sachin Chandil"},"score":0,"creation_date":1500659707,"post_id":45243298,"comment_id":77453811,"body_markdown":"value of COLUMN_KEY_ID constant is 3 i guess. your exception says. sorry its  4.","body":"value of COLUMN_KEY_ID constant is 3 i guess. your exception says. sorry its  4."}],"answers":[{"tags":[],"owner":{"account_id":1467603,"reputation":10525,"user_id":1380032,"accept_rate":43,"display_name":"Rahul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1500658948,"creation_date":1500658506,"answer_id":45243582,"question_id":45243298,"body_markdown":"Seems like you are fetching only 2 columns(`KEY_ID, ENTRY_NAME`) from database and while reading you are expecting 3 columns.\r\n\r\n     c = _db.query(DATABASE_TABLE, new String[] {KEY_ID, ENTRY_NAME}, null, null, null, null, null);\r\n\r\nYou are trying to get value from column 4, which is throuing an error.\r\n\r\n    public static final int COLUMN_QTYSOLD_ID = 4;","title":"Error when trying to use cursor to get integer values from SQLite in Android","body":"<p>Seems like you are fetching only 2 columns(<code>KEY_ID, ENTRY_NAME</code>) from database and while reading you are expecting 3 columns.</p>\n\n<pre><code> c = _db.query(DATABASE_TABLE, new String[] {KEY_ID, ENTRY_NAME}, null, null, null, null, null);\n</code></pre>\n\n<p>You are trying to get value from column 4, which is throuing an error.</p>\n\n<pre><code>public static final int COLUMN_QTYSOLD_ID = 4;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7665503,"reputation":992,"user_id":5809339,"display_name":"kishan verma"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1500659808,"creation_date":1500659808,"answer_id":45243930,"question_id":45243298,"body_markdown":"**Use this method  in your databasehelper class**\r\n\r\n    public Cursor getalldata() {\r\n        SQLiteDatabase db = this.getWritableDatabase();\r\n        Cursor res = db.rawQuery(&quot; select * from &quot; + TABLE_Name, null);\r\n\r\n        return res;\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n**and call this method where you want to get your data from database table **\r\n\r\n     public void getdata(){\r\n\r\n        Cursor res = db.getstafdata(); //db id an object of database helper //class\r\n        if (res.getCount() == 0) {\r\n            Toast.makeText(getApplicationContext(),\r\n                    &quot;no data&quot;, Toast.LENGTH_LONG).show();\r\n\r\n        } else {\r\n\r\n            StringBuffer stbuff = new StringBuffer();\r\n            while (res.moveToNext()) {\r\n\r\n                detail.add(new doctor_details(res.getString(1),res.getString(2),res.getString(3)));\r\n\r\n            }\r\n\r\n\r\n    }\r\n\r\n}\r\n","title":"Error when trying to use cursor to get integer values from SQLite in Android","body":"<p><strong>Use this method  in your databasehelper class</strong></p>\n\n<pre><code>public Cursor getalldata() {\n    SQLiteDatabase db = this.getWritableDatabase();\n    Cursor res = db.rawQuery(\" select * from \" + TABLE_Name, null);\n\n    return res;\n\n\n}\n</code></pre>\n\n<p>**and call this method where you want to get your data from database table **</p>\n\n<pre><code> public void getdata(){\n\n    Cursor res = db.getstafdata(); //db id an object of database helper //class\n    if (res.getCount() == 0) {\n        Toast.makeText(getApplicationContext(),\n                \"no data\", Toast.LENGTH_LONG).show();\n\n    } else {\n\n        StringBuffer stbuff = new StringBuffer();\n        while (res.moveToNext()) {\n\n            detail.add(new doctor_details(res.getString(1),res.getString(2),res.getString(3)));\n\n        }\n\n\n}\n</code></pre>\n\n<p>}</p>\n"}],"owner":{"account_id":11382074,"reputation":37,"user_id":8344728,"accept_rate":100,"display_name":"sarah"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":45243582,"answer_count":2,"score":0,"last_activity_date":1647524012,"creation_date":1500657511,"question_id":45243298,"body_markdown":"I&#39;m trying to get integer values, to be displayed in a listview from SQLlite using cursors but it shows the following error:\r\n\r\n&gt; java.lang.IllegalStateException: Couldn&#39;t read row 0, col 4 from CursorWindow.  Make sure the Cursor is initialized correctly before accessing data from it.\r\n\r\nHere are my code\r\n\r\nMyItems.java:\r\n\r\n    public  ArrayList&lt;SalesItemInformationLV&gt; retrieveAllForlist(Context c)\r\n    {\r\n        ArrayList&lt;SalesItemInformationLV&gt; items = new ArrayList&lt;SalesItemInformationLV&gt;();\r\n\r\n        Cursor myCursor;\r\n        String mystring = &quot;&quot;;\r\n\r\n        MyDbAdapter db = new MyDbAdapter(c);\r\n        db.open();\r\n        //contactIdList.clear();\r\n        //contactList.clear();\r\n        myCursor = db.retrieveAllEntriesCursor();\r\n\r\n        if (myCursor != null &amp;&amp; myCursor.getCount() &gt; 0)\r\n        {\r\n            myCursor.moveToFirst();\r\n            do {\r\n                contactIdList.add(myCursor.getInt(db.COLUMN_KEY_ID));\r\n                items.add(new SalesItemInformationLV(myCursor.getString(db.COLUMN_NAME_ID), myCursor.getInt(db.COLUMN_QTYSOLD_ID)));\r\n            } while (myCursor.moveToNext());\r\n        }\r\n        db.close();\r\n\r\n        return items;\r\n    }\r\n\r\nMyDbAdapter.java:\r\n\r\n    private SQLiteDatabase _db;\r\n\tprivate final Context context;\r\n\r\n\tpublic static final String KEY_ID = &quot;_id&quot;;\r\n\tpublic static final int COLUMN_KEY_ID = 0;\r\n\tpublic static final String ENTRY_NAME = &quot;entry_name&quot;;\r\n\tpublic static final int COLUMN_NAME_ID = 1;\r\n    public static final String ENTRY_QTYSOLD = &quot;entry_qtysold&quot;;\r\n    public static final int COLUMN_QTYSOLD_ID = 4;\r\n    \r\n    private MyDBOpenHelper dbHelper;\r\n    //private MyDBOpenHelper dbHelper2;\r\n\r\n\tpublic MyDbAdapter(Context _context)\r\n\t{\r\n\t\tthis.context = _context;\r\n\t\t\r\n\t\t//step 16 - create MyDBOpenHelper object\r\n\t\t//constructor\r\n\t\tdbHelper = new MyDBOpenHelper(context, DATABASE_NAMEA, null, DATABASE_VERSION);\r\n\t\t//constructor\r\n\t\t//dbHelper2 = new MyDBOpenHelper(context, DATABASE_NAME2, null, DATABASE_VERSION);\r\n\t}\r\n\r\n    public Cursor retrieveAllEntriesCursor() {\r\n        //step 21 - retrieve all records from table\r\n\t\tCursor c = null;\r\n\t\ttry {\r\n\t\t\tc = _db.query(DATABASE_TABLE, new String[] {KEY_ID, ENTRY_NAME}, null, null, null, null, null);\r\n\r\n\t\t}\r\n\t\tcatch (SQLiteException e)\r\n\t\t{\r\n\t\t\tLog.w(MYDBADAPTER_LOG_CAT, &quot;Retrieve fail!&quot;);\r\n\t\t}\r\n\r\n\t\treturn c;\r\n\t}\r\n\r\nI suspect the error comes from MyItems.java, but I&#39;m having a hard time figuring out what&#39;s the error.","title":"Error when trying to use cursor to get integer values from SQLite in Android","body":"<p>I'm trying to get integer values, to be displayed in a listview from SQLlite using cursors but it shows the following error:</p>\n<blockquote>\n<p>java.lang.IllegalStateException: Couldn't read row 0, col 4 from CursorWindow.  Make sure the Cursor is initialized correctly before accessing data from it.</p>\n</blockquote>\n<p>Here are my code</p>\n<p>MyItems.java:</p>\n<pre><code>public  ArrayList&lt;SalesItemInformationLV&gt; retrieveAllForlist(Context c)\n{\n    ArrayList&lt;SalesItemInformationLV&gt; items = new ArrayList&lt;SalesItemInformationLV&gt;();\n\n    Cursor myCursor;\n    String mystring = &quot;&quot;;\n\n    MyDbAdapter db = new MyDbAdapter(c);\n    db.open();\n    //contactIdList.clear();\n    //contactList.clear();\n    myCursor = db.retrieveAllEntriesCursor();\n\n    if (myCursor != null &amp;&amp; myCursor.getCount() &gt; 0)\n    {\n        myCursor.moveToFirst();\n        do {\n            contactIdList.add(myCursor.getInt(db.COLUMN_KEY_ID));\n            items.add(new SalesItemInformationLV(myCursor.getString(db.COLUMN_NAME_ID), myCursor.getInt(db.COLUMN_QTYSOLD_ID)));\n        } while (myCursor.moveToNext());\n    }\n    db.close();\n\n    return items;\n}\n</code></pre>\n<p>MyDbAdapter.java:</p>\n<pre><code>private SQLiteDatabase _db;\nprivate final Context context;\n\npublic static final String KEY_ID = &quot;_id&quot;;\npublic static final int COLUMN_KEY_ID = 0;\npublic static final String ENTRY_NAME = &quot;entry_name&quot;;\npublic static final int COLUMN_NAME_ID = 1;\npublic static final String ENTRY_QTYSOLD = &quot;entry_qtysold&quot;;\npublic static final int COLUMN_QTYSOLD_ID = 4;\n\nprivate MyDBOpenHelper dbHelper;\n//private MyDBOpenHelper dbHelper2;\n\npublic MyDbAdapter(Context _context)\n{\n    this.context = _context;\n    \n    //step 16 - create MyDBOpenHelper object\n    //constructor\n    dbHelper = new MyDBOpenHelper(context, DATABASE_NAMEA, null, DATABASE_VERSION);\n    //constructor\n    //dbHelper2 = new MyDBOpenHelper(context, DATABASE_NAME2, null, DATABASE_VERSION);\n}\n\npublic Cursor retrieveAllEntriesCursor() {\n    //step 21 - retrieve all records from table\n    Cursor c = null;\n    try {\n        c = _db.query(DATABASE_TABLE, new String[] {KEY_ID, ENTRY_NAME}, null, null, null, null, null);\n\n    }\n    catch (SQLiteException e)\n    {\n        Log.w(MYDBADAPTER_LOG_CAT, &quot;Retrieve fail!&quot;);\n    }\n\n    return c;\n}\n</code></pre>\n<p>I suspect the error comes from MyItems.java, but I'm having a hard time figuring out what's the error.</p>\n"},{"tags":["java","reactjs","spring-boot","spring-security"],"comments":[{"owner":{"account_id":15841746,"reputation":6011,"user_id":11430047,"display_name":"Eleftheria Stein-Kousathana"},"score":0,"creation_date":1647429133,"post_id":71455456,"comment_id":126367234,"body_markdown":"Listing out all the endpoints that don&#39;t require authentication is the recommended approach. The code you have shared is the correct way to do it.","body":"Listing out all the endpoints that don&#39;t require authentication is the recommended approach. The code you have shared is the correct way to do it."}],"answers":[{"tags":[],"owner":{"account_id":196814,"reputation":4961,"user_id":440472,"accept_rate":74,"display_name":"fast-reflexes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647523473,"creation_date":1647523473,"answer_id":71513080,"question_id":71455456,"body_markdown":"First of all, we have some basic principles to think about:\r\n\r\n* Your web server could have some files that should be open to all (such as `robots.txt` and `favicon.ico`), on top of the static frontend (which may or may not need to be public without respect to this).\r\n* When configuring security, it&#39;s better to have a baseline which is to deny all requests and then instead whitelist the requests you want to let through, as opposed to permit all except for a few which you deny. It is easier to forget about paths this way and accidentally allow access to things that should be restricted.\r\n* Typically with an open static frontend, the sensitive content is provided from api endpoints which serve the dynamic content (this is NOT the case with a dynamic frontend rendered on the server of course).\r\n\r\nAn approach that I like is to use multiple ordered configurations for different groups. As far as I know, this can&#39;t be accomplished so easily with one configuration, and since complexity is also an enemy of security, this is an approach I like:\r\n```kotlin\r\n@EnableWebSecurity(debug = true)\r\n@Order(1)\r\nclass OpenConfig: WebSecurityConfigurerAdapter() {\r\n\r\n    override fun configure(http: HttpSecurity) {\r\n        http\r\n            .requestMatchers()\r\n                .antMatchers(&quot;/*&quot;, &quot;/locales&quot;, &quot;/avatars&quot;, &quot;robots.txt&quot;)\r\n                .and()\r\n            .authorizeRequests()\r\n                .anyRequest()\r\n                .permitAll()\r\n    }\r\n\r\n}\r\n\r\n@EnableWebSecurity\r\n@Order(2)\r\nclass RestrictedConfig: WebSecurityConfigurerAdapter() {\r\n\r\n    override fun configure(http: HttpSecurity) {\r\n        http\r\n            .requestMatchers()\r\n                .antMatchers(&quot;/api/**&quot;)\r\n                .and()\r\n            .authorizeRequests()\r\n                // more fine-grained control within matched group of requests here\r\n                .anyRequest()\r\n                .authenticated()\r\n                .and()\r\n            .httpBasic()\r\n\r\n    }\r\n}\r\n\r\n@EnableWebSecurity\r\n@Order(3)\r\nclass CatchAllConfig: WebSecurityConfigurerAdapter() {\r\n\r\n    override fun configure(http: HttpSecurity) {\r\n        http\r\n            .authorizeRequests()\r\n            .anyRequest()\r\n            .denyAll()\r\n    }\r\n\r\n}\r\n```\r\n\r\nWith `.requestMatchers()` you determine which requests you want to process in this config and after `.authorizeRequests()`, you can determine more in details what you want to do with the matched requests. If `.requestMatchers()` (or a similar method) is omitted, all requests are matched by the configuration. The configurations are looked up in order and the first that matches the request in question is used.\r\n\r\nYou CAN do something similar to the above with one configuration but I think both that it&#39;s easier to think about it structurally when dividing it into multiple configurations and also Spring security seems to behave more consistently (once you involve authentication methods, your choices after `.authorizeRequests()` can sometimes not have the intended results if you try to control paths in widely different ways).\r\n\r\nIf you want to do it in the most secure way, then you should explicitly whitelist every static asset that you want public access to, but given that you rebuild the frontend every now and then with new hashes attached to filenames, this becomes tedious. The above is a middle way where you assume that all content that is one level under `/` belongs to the static frontend and should thus be available without authentication (you could work with file suffixes here as a complement if you want). Any folders under the static frontend must be specifically specified. All you have to do now is make sure that any dynamic content is placed in some path which is secured and that you don&#39;t have any packages which automatically adds paths to your application which you don&#39;t want to be open and that are added at the root (typically Swagger UI and actuators can do this even though the latter often put them under the `/actuator/` path.","title":"How should I set my WebSecurityConfig antMatcher to permit all frontend Router URL if I want to serve static React build files through Spring Boot","body":"<p>First of all, we have some basic principles to think about:</p>\n<ul>\n<li>Your web server could have some files that should be open to all (such as <code>robots.txt</code> and <code>favicon.ico</code>), on top of the static frontend (which may or may not need to be public without respect to this).</li>\n<li>When configuring security, it's better to have a baseline which is to deny all requests and then instead whitelist the requests you want to let through, as opposed to permit all except for a few which you deny. It is easier to forget about paths this way and accidentally allow access to things that should be restricted.</li>\n<li>Typically with an open static frontend, the sensitive content is provided from api endpoints which serve the dynamic content (this is NOT the case with a dynamic frontend rendered on the server of course).</li>\n</ul>\n<p>An approach that I like is to use multiple ordered configurations for different groups. As far as I know, this can't be accomplished so easily with one configuration, and since complexity is also an enemy of security, this is an approach I like:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>@EnableWebSecurity(debug = true)\n@Order(1)\nclass OpenConfig: WebSecurityConfigurerAdapter() {\n\n    override fun configure(http: HttpSecurity) {\n        http\n            .requestMatchers()\n                .antMatchers(&quot;/*&quot;, &quot;/locales&quot;, &quot;/avatars&quot;, &quot;robots.txt&quot;)\n                .and()\n            .authorizeRequests()\n                .anyRequest()\n                .permitAll()\n    }\n\n}\n\n@EnableWebSecurity\n@Order(2)\nclass RestrictedConfig: WebSecurityConfigurerAdapter() {\n\n    override fun configure(http: HttpSecurity) {\n        http\n            .requestMatchers()\n                .antMatchers(&quot;/api/**&quot;)\n                .and()\n            .authorizeRequests()\n                // more fine-grained control within matched group of requests here\n                .anyRequest()\n                .authenticated()\n                .and()\n            .httpBasic()\n\n    }\n}\n\n@EnableWebSecurity\n@Order(3)\nclass CatchAllConfig: WebSecurityConfigurerAdapter() {\n\n    override fun configure(http: HttpSecurity) {\n        http\n            .authorizeRequests()\n            .anyRequest()\n            .denyAll()\n    }\n\n}\n</code></pre>\n<p>With <code>.requestMatchers()</code> you determine which requests you want to process in this config and after <code>.authorizeRequests()</code>, you can determine more in details what you want to do with the matched requests. If <code>.requestMatchers()</code> (or a similar method) is omitted, all requests are matched by the configuration. The configurations are looked up in order and the first that matches the request in question is used.</p>\n<p>You CAN do something similar to the above with one configuration but I think both that it's easier to think about it structurally when dividing it into multiple configurations and also Spring security seems to behave more consistently (once you involve authentication methods, your choices after <code>.authorizeRequests()</code> can sometimes not have the intended results if you try to control paths in widely different ways).</p>\n<p>If you want to do it in the most secure way, then you should explicitly whitelist every static asset that you want public access to, but given that you rebuild the frontend every now and then with new hashes attached to filenames, this becomes tedious. The above is a middle way where you assume that all content that is one level under <code>/</code> belongs to the static frontend and should thus be available without authentication (you could work with file suffixes here as a complement if you want). Any folders under the static frontend must be specifically specified. All you have to do now is make sure that any dynamic content is placed in some path which is secured and that you don't have any packages which automatically adds paths to your application which you don't want to be open and that are added at the root (typically Swagger UI and actuators can do this even though the latter often put them under the <code>/actuator/</code> path.</p>\n"}],"owner":{"account_id":23848650,"reputation":3,"user_id":17852841,"display_name":"UATalon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":674,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71513080,"answer_count":1,"score":0,"last_activity_date":1647523473,"creation_date":1647164013,"question_id":71455456,"body_markdown":"I export my React build folder to the SpringBoot resources folder and want to serve them statically. I set the antMatcher for my backend endpoints to permit some of urls access, \r\nand rest of urls which are not permitted would need some authentication. \r\n\r\n     http\r\n                .cors().and()\r\n                .csrf().disable()\r\n                .authorizeRequests()\r\n                    .antMatchers(&quot;/api/v1/registration&quot;,&quot;/api/v1/login&quot;)\r\n                    .permitAll()\r\n                .anyRequest()\r\n                .authenticated().and()\r\n                .exceptionHandling().and()\r\n                .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n        http.addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);\r\n\r\nThe current situation is that, my frontend React Router URL is also blocked by the antMatcher.\r\n\r\ne.g. \r\n[http://localhost:8080/login being blocked][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TWNT1.png\r\n\r\nI can solve it by just manully hard coding the frontend url into antMatchers, like\r\n\r\n    .antMatchers(&quot;/api/v1/registration&quot;,&quot;/api/v1/login&quot;, &quot;/login&quot;,&quot;/registration&quot;...)\r\n                    .permitAll()\r\n\r\nbut I wonder if there is any elegant way to tell backend not to block frontend url? If the website is growing big, adding URL into antMatcher would be time-consuming.","title":"How should I set my WebSecurityConfig antMatcher to permit all frontend Router URL if I want to serve static React build files through Spring Boot","body":"<p>I export my React build folder to the SpringBoot resources folder and want to serve them statically. I set the antMatcher for my backend endpoints to permit some of urls access,\nand rest of urls which are not permitted would need some authentication.</p>\n<pre><code> http\n            .cors().and()\n            .csrf().disable()\n            .authorizeRequests()\n                .antMatchers(&quot;/api/v1/registration&quot;,&quot;/api/v1/login&quot;)\n                .permitAll()\n            .anyRequest()\n            .authenticated().and()\n            .exceptionHandling().and()\n            .sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n    http.addFilterBefore(jwtFilter, UsernamePasswordAuthenticationFilter.class);\n</code></pre>\n<p>The current situation is that, my frontend React Router URL is also blocked by the antMatcher.</p>\n<p>e.g.\n<a href=\"https://i.stack.imgur.com/TWNT1.png\" rel=\"nofollow noreferrer\">http://localhost:8080/login being blocked</a></p>\n<p>I can solve it by just manully hard coding the frontend url into antMatchers, like</p>\n<pre><code>.antMatchers(&quot;/api/v1/registration&quot;,&quot;/api/v1/login&quot;, &quot;/login&quot;,&quot;/registration&quot;...)\n                .permitAll()\n</code></pre>\n<p>but I wonder if there is any elegant way to tell backend not to block frontend url? If the website is growing big, adding URL into antMatcher would be time-consuming.</p>\n"},{"tags":["javascript","java","node.js","sendgrid"],"answers":[{"tags":[],"owner":{"account_id":322487,"reputation":7497,"user_id":641914,"accept_rate":88,"display_name":"Graham"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1499302693,"creation_date":1499302693,"answer_id":44938190,"question_id":44934182,"body_markdown":"A 202 is a success message, not an error.  It simply means that your message was &quot;Accepted&quot;\r\n\r\nhttp://www.iana.org/assignments/http-status-codes/http-status-codes.xhtml\r\n\r\nYour code shouldn&#39;t be detecting any errors on any 20x response.","title":"Sendgrid status 202 node.js","body":"<p>A 202 is a success message, not an error.  It simply means that your message was \"Accepted\"</p>\n\n<p><a href=\"http://www.iana.org/assignments/http-status-codes/http-status-codes.xhtml\" rel=\"nofollow noreferrer\">http://www.iana.org/assignments/http-status-codes/http-status-codes.xhtml</a></p>\n\n<p>Your code shouldn't be detecting any errors on any 20x response.</p>\n"}],"owner":{"account_id":11254767,"reputation":241,"user_id":8254910,"accept_rate":32,"display_name":"Oscar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2315,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1647523250,"creation_date":1499281653,"question_id":44934182,"body_markdown":"I receive the following error when using SendGrid. Even though i get an error the mail is still sent. \r\n\r\n&gt; null { statusCode: 202,   body: &#39;&#39;,   headers:    { server: &#39;nginx&#39;,\r\n&gt;      date: &#39;Wed, 05 Jul 2017 18:50:52 GMT&#39;,\r\n&gt;      &#39;content-type&#39;: &#39;text/plain; charset=utf-8&#39;,\r\n&gt;      &#39;content-length&#39;: &#39;0&#39;,\r\n&gt;      connection: &#39;close&#39;,\r\n&gt;      &#39;x-message-id&#39;: &#39;EUkSULsjRku6bJTkTFsQ9w&#39;,\r\n&gt;      &#39;x-frame-options&#39;: &#39;DENY&#39;,\r\n&gt;      &#39;access-control-allow-origin&#39;: &#39;https://sendgrid.api-docs.io&#39;,\r\n&gt;      &#39;access-control-allow-methods&#39;: &#39;POST&#39;,\r\n&gt;      &#39;access-control-allow-headers&#39;: &#39;Authorization, Content-Type, On-behalf-of, x-sg-elas-acl&#39;,\r\n&gt;      &#39;access-control-max-age&#39;: &#39;600&#39;,\r\n&gt;      &#39;x-no-cors-reason&#39;: &#39;https://sendgrid.com/docs/Classroom/Basics/API/cors.html&#39; } }\r\n&gt; _http_outgoing.js:357\r\n&gt;     throw new Error(&#39;Can\\&#39;t set headers after they are sent.&#39;);\r\n\r\nUsing the following code: \r\n\r\n    var helper = require(&#39;sendgrid&#39;).mail,\r\n      sg = require(&#39;sendgrid&#39;)(&#39;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&#39;);\r\n    \r\n      var from_email = new helper.Email(&#39;my.mail&#39;);\r\n      var to_email = new helper.Email(&#39;my.mai&#39;);\r\n      var subject = &#39;Subject&#39;;\r\n      var content = new helper.Content(&#39;text/plain&#39;, &#39;test&#39;);\r\n      var mail = new helper.Mail(from_email, subject, to_email, content);\r\n    \r\n      var request = sg.emptyRequest({\r\n          method: &#39;POST&#39;,\r\n          path: &#39;/v3/mail/send&#39;,\r\n          body: mail.toJSON()\r\n      });\r\n    \r\n      sg.API(request, function(err, response) {\r\n          console.log(err, response);\r\n          if (!err) {\r\n              res.send({\r\n                  message: &#39;An email has been sent to the provided email with further instructions.&#39;\r\n              });\r\n          } else {\r\n              return res.status(400).send({\r\n                  message: &#39;Failure sending email&#39;\r\n              });\r\n          }\r\n      });\r\n\r\nHow can i fix this? ","title":"Sendgrid status 202 node.js","body":"<p>I receive the following error when using SendGrid. Even though i get an error the mail is still sent. </p>\n\n<blockquote>\n  <p>null { statusCode: 202,   body: '',   headers:    { server: 'nginx',\n       date: 'Wed, 05 Jul 2017 18:50:52 GMT',\n       'content-type': 'text/plain; charset=utf-8',\n       'content-length': '0',\n       connection: 'close',\n       'x-message-id': 'EUkSULsjRku6bJTkTFsQ9w',\n       'x-frame-options': 'DENY',\n       'access-control-allow-origin': '<a href=\"https://sendgrid.api-docs.io\" rel=\"nofollow noreferrer\">https://sendgrid.api-docs.io</a>',\n       'access-control-allow-methods': 'POST',\n       'access-control-allow-headers': 'Authorization, Content-Type, On-behalf-of, x-sg-elas-acl',\n       'access-control-max-age': '600',\n       'x-no-cors-reason': '<a href=\"https://sendgrid.com/docs/Classroom/Basics/API/cors.html\" rel=\"nofollow noreferrer\">https://sendgrid.com/docs/Classroom/Basics/API/cors.html</a>' } }\n  _http_outgoing.js:357\n      throw new Error('Can\\'t set headers after they are sent.');</p>\n</blockquote>\n\n<p>Using the following code: </p>\n\n<pre><code>var helper = require('sendgrid').mail,\n  sg = require('sendgrid')('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');\n\n  var from_email = new helper.Email('my.mail');\n  var to_email = new helper.Email('my.mai');\n  var subject = 'Subject';\n  var content = new helper.Content('text/plain', 'test');\n  var mail = new helper.Mail(from_email, subject, to_email, content);\n\n  var request = sg.emptyRequest({\n      method: 'POST',\n      path: '/v3/mail/send',\n      body: mail.toJSON()\n  });\n\n  sg.API(request, function(err, response) {\n      console.log(err, response);\n      if (!err) {\n          res.send({\n              message: 'An email has been sent to the provided email with further instructions.'\n          });\n      } else {\n          return res.status(400).send({\n              message: 'Failure sending email'\n          });\n      }\n  });\n</code></pre>\n\n<p>How can i fix this? </p>\n"},{"tags":["java","arrays","sorting"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1647521151,"post_id":71512404,"comment_id":126394834,"body_markdown":"It might be helpful to include expected output. And note: in order to provide a real [mcve] to us, it would be better to &quot;hardcode&quot; your input data in your code here. We dont know what data you read on your machine from your input scanner!","body":"It might be helpful to include expected output. And note: in order to provide a real <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> to us, it would be better to &quot;hardcode&quot; your input data in your code here. We dont know what data you read on your machine from your input scanner!"},{"owner":{"account_id":1598303,"reputation":12302,"user_id":1479895,"accept_rate":78,"display_name":"Anton Belev"},"score":0,"creation_date":1647521598,"post_id":71512404,"comment_id":126395024,"body_markdown":"It looks like the first input is an integer, but in your compare function you are comparing them as a string. Can you confirm that you want to sort the array based on Integer comparison?","body":"It looks like the first input is an integer, but in your compare function you are comparing them as a string. Can you confirm that you want to sort the array based on Integer comparison?"},{"owner":{"account_id":24553700,"reputation":13,"user_id":18462583,"display_name":"sns949"},"score":0,"creation_date":1647522336,"post_id":71512404,"comment_id":126395326,"body_markdown":"I want to sort them as String","body":"I want to sort them as String"}],"answers":[{"tags":[],"owner":{"account_id":7463872,"reputation":5539,"user_id":5674223,"accept_rate":100,"display_name":"UkFLSUI"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647522383,"creation_date":1647522383,"answer_id":71512830,"question_id":71512404,"body_markdown":"You are getting wrong answer because you were comparing 0th index of each row of 2D array which are String. So, according to string comparison logic the outputs are correct. To get the sorting order as integer, you have to convert 0th index of each row to Integer in your comparator.\r\n\r\nModify your sort method call like below which should work according to your expectation because `a[0]` and `b[0]` are converted to Integer before comparison:\r\n\r\n```\r\nArrays.sort(customerArray, (a, b)-&gt;Integer.valueOf(a[0]).compareTo(Integer.valueOf(b[0])));\r\n```   \r\n\r\n**Output:**\r\n\r\n```\r\n10\r\nAkhil\r\nPune\r\n20\r\nRajni\r\nHyderabad\r\n30\r\nPraveen\r\nDelhi\r\n100\r\nRohith\r\nChennai\r\n101\r\nSam\r\nBangalore\r\n```","title":"Sorting 2d String array using java","body":"<p>You are getting wrong answer because you were comparing 0th index of each row of 2D array which are String. So, according to string comparison logic the outputs are correct. To get the sorting order as integer, you have to convert 0th index of each row to Integer in your comparator.</p>\n<p>Modify your sort method call like below which should work according to your expectation because <code>a[0]</code> and <code>b[0]</code> are converted to Integer before comparison:</p>\n<pre><code>Arrays.sort(customerArray, (a, b)-&gt;Integer.valueOf(a[0]).compareTo(Integer.valueOf(b[0])));\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>10\nAkhil\nPune\n20\nRajni\nHyderabad\n30\nPraveen\nDelhi\n100\nRohith\nChennai\n101\nSam\nBangalore\n</code></pre>\n"}],"owner":{"account_id":24553700,"reputation":13,"user_id":18462583,"display_name":"sns949"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":71512830,"answer_count":1,"score":0,"last_activity_date":1647522785,"creation_date":1647520649,"question_id":71512404,"body_markdown":"I am trying to sort a string 2d array taken as user input. But this code is working for some cases and not working for some.\r\n\r\nThe code is:\r\n\r\n     public class Source {\r\n    \tpublic static void main(String args[]) throws Exception {\r\n    \t\tScanner sc = new Scanner(System.in);\r\n            String[][] customerDetails= new String[5][3];\r\n            customerDetails[0][0]=&quot;10&quot;;\r\n\t        customerDetails[0][1]=&quot;Raj&quot;;\r\n\t        customerDetails[0][2]=&quot;Chennai&quot;;\r\n\t  \r\n\t        customerDetails[1][0]=&quot;100&quot;;\r\n\t        customerDetails[1][1]=&quot;Akshay&quot;;\r\n\t        customerDetails[1][0]=&quot;Pune&quot;;\r\n\t\r\n\t        customerDetails[2][0]=&quot;20&quot;;\r\n\t        customerDetails[2][1]=&quot;Simrath&quot;;\r\n\t        customerDetails[2][2]=&quot;Amristar&quot;;\r\n\t\r\n\t        customerDetails[3][0]=&quot;30&quot;;\r\n\t        customerDetails[3][1]=&quot;Gaurav&quot;;\r\n\t        customerDetails[3][2]=&quot;Delhi&quot;;\r\n\t\r\n\t        customerDetails[4][0]=&quot;101&quot;;\r\n\t        customerDetails[4][1]=&quot;Ganesh&quot;;\r\n\t        customerDetails[4][2]=&quot;Chennai&quot;;\r\n\t\r\n    \t\r\n    \t\t\r\n    \t\t/*for (int i = 0; i &lt; 5; i++) {\r\n    \t\t    for (int j = 0; j &lt; 3; j++) {\r\n    \t\t        //customerArray[i][j] = sc.nextLine();\r\n    \t\t    }\r\n    \t\t}*/\r\n\r\n            Arrays.sort(customerArray, (a, b)-&gt;a[0].compareTo(b[0]));\r\n            \r\n            for (int y = 0; y &lt; 5; y++) {\r\n                for (int z = 0; z &lt; 3; z++) {\r\n    \t\t        System.out.println(customerArray[y][z]);\r\n                }\r\n            }\r\n    \t}\r\n    }\r\n\r\n\r\nI have given direct inputs in this code. I want to sort the numbers as String","title":"Sorting 2d String array using java","body":"<p>I am trying to sort a string 2d array taken as user input. But this code is working for some cases and not working for some.</p>\n<p>The code is:</p>\n<pre><code> public class Source {\n    public static void main(String args[]) throws Exception {\n        Scanner sc = new Scanner(System.in);\n        String[][] customerDetails= new String[5][3];\n        customerDetails[0][0]=&quot;10&quot;;\n        customerDetails[0][1]=&quot;Raj&quot;;\n        customerDetails[0][2]=&quot;Chennai&quot;;\n  \n        customerDetails[1][0]=&quot;100&quot;;\n        customerDetails[1][1]=&quot;Akshay&quot;;\n        customerDetails[1][0]=&quot;Pune&quot;;\n\n        customerDetails[2][0]=&quot;20&quot;;\n        customerDetails[2][1]=&quot;Simrath&quot;;\n        customerDetails[2][2]=&quot;Amristar&quot;;\n\n        customerDetails[3][0]=&quot;30&quot;;\n        customerDetails[3][1]=&quot;Gaurav&quot;;\n        customerDetails[3][2]=&quot;Delhi&quot;;\n\n        customerDetails[4][0]=&quot;101&quot;;\n        customerDetails[4][1]=&quot;Ganesh&quot;;\n        customerDetails[4][2]=&quot;Chennai&quot;;\n\n    \n        \n        /*for (int i = 0; i &lt; 5; i++) {\n            for (int j = 0; j &lt; 3; j++) {\n                //customerArray[i][j] = sc.nextLine();\n            }\n        }*/\n\n        Arrays.sort(customerArray, (a, b)-&gt;a[0].compareTo(b[0]));\n        \n        for (int y = 0; y &lt; 5; y++) {\n            for (int z = 0; z &lt; 3; z++) {\n                System.out.println(customerArray[y][z]);\n            }\n        }\n    }\n}\n</code></pre>\n<p>I have given direct inputs in this code. I want to sort the numbers as String</p>\n"},{"tags":["java","testing","cucumber","bdd","cucumber-java"],"comments":[{"owner":{"account_id":20039548,"reputation":334,"user_id":14694981,"display_name":"Jerome Josephraj"},"score":0,"creation_date":1647510250,"post_id":71509859,"comment_id":126391137,"body_markdown":"Are you using cucumber?","body":"Are you using cucumber?"},{"owner":{"account_id":13906958,"reputation":320,"user_id":10041075,"display_name":"codehacker"},"score":0,"creation_date":1647513247,"post_id":71509859,"comment_id":126392205,"body_markdown":"Yes @JeromeJosephraj","body":"Yes @JeromeJosephraj"}],"answers":[{"tags":[],"owner":{"account_id":9590587,"reputation":2429,"user_id":7121619,"display_name":"Marit"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647519783,"creation_date":1647519783,"answer_id":71512222,"question_id":71509859,"body_markdown":"Afaik you cannot use variables from your examples in the background. In your example, if you need different logins, you&#39;ll need to make that a step in your actual scenario.","title":"How to use examples mentioned in cucumber scenario in Background statement","body":"<p>Afaik you cannot use variables from your examples in the background. In your example, if you need different logins, you'll need to make that a step in your actual scenario.</p>\n"},{"tags":[],"owner":{"account_id":20039548,"reputation":334,"user_id":14694981,"display_name":"Jerome Josephraj"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647521948,"creation_date":1647521948,"answer_id":71512730,"question_id":71509859,"body_markdown":"Cucumber doesn&#39;t support scenario outline in background. You need to define that in the scenario, which means if you want to user scenario outline you can&#39;t use that step in Back ground. Here is the update from cucumber team regarding this feature[enter link description here][1]:\r\nhttps://github.com/cucumber/common/issues/469\r\n\r\n\r\n  [1]: https://github.com/cucumber/common/issues/469","title":"How to use examples mentioned in cucumber scenario in Background statement","body":"<p>Cucumber doesn't support scenario outline in background. You need to define that in the scenario, which means if you want to user scenario outline you can't use that step in Back ground. Here is the update from cucumber team regarding this feature<a href=\"https://github.com/cucumber/common/issues/469\" rel=\"nofollow noreferrer\">enter link description here</a>:\n<a href=\"https://github.com/cucumber/common/issues/469\" rel=\"nofollow noreferrer\">https://github.com/cucumber/common/issues/469</a></p>\n"}],"owner":{"account_id":13906958,"reputation":320,"user_id":10041075,"display_name":"codehacker"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":759,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71512730,"answer_count":2,"score":0,"last_activity_date":1647521948,"creation_date":1647509226,"question_id":71509859,"body_markdown":"The aim is to use examples mentioned in the scenario to be used in the background given statement in a feature file.\r\n\r\nfollowing is the feature file for reference\r\n\r\n    Feature:  As a user with a valid credentials i should view awards and select products for cart\r\n    \r\n      Background: \r\n        Given an authenticated logged in user with valid &lt;username&gt; and &lt;password&gt;\r\n      \r\n      @smoke\r\n      Scenario: Bot should display awards\r\n         When the user is checks for award section\r\n         Then User is presented with awards earned\r\n      \r\n        Examples: \r\n          | username | password | \r\n          | username | password | \r\n      \r\n      @smoke\r\n      Scenario: bot should select the proper product\r\n         When the user chooses product to buy\r\n         Then User is presented with cart with selected product.\r\n      \r\n        Examples: \r\n          | username | password | \r\n          | username | password | ","title":"How to use examples mentioned in cucumber scenario in Background statement","body":"<p>The aim is to use examples mentioned in the scenario to be used in the background given statement in a feature file.</p>\n<p>following is the feature file for reference</p>\n<pre><code>Feature:  As a user with a valid credentials i should view awards and select products for cart\n\n  Background: \n    Given an authenticated logged in user with valid &lt;username&gt; and &lt;password&gt;\n  \n  @smoke\n  Scenario: Bot should display awards\n     When the user is checks for award section\n     Then User is presented with awards earned\n  \n    Examples: \n      | username | password | \n      | username | password | \n  \n  @smoke\n  Scenario: bot should select the proper product\n     When the user chooses product to buy\n     Then User is presented with cart with selected product.\n  \n    Examples: \n      | username | password | \n      | username | password | \n</code></pre>\n"},{"tags":["java","docx4j"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1619878065,"post_id":67346014,"comment_id":119039583,"body_markdown":"Is \\r\\n readable content?","body":"Is \\r\\n readable content?"},{"owner":{"account_id":6527117,"reputation":23,"user_id":5049526,"display_name":"Tanmay"},"score":0,"creation_date":1619879319,"post_id":67346014,"comment_id":119039928,"body_markdown":"Even I tried &quot;TEST 1&quot; still instead of &quot;\\r\\n&quot; giving same error","body":"Even I tried &quot;TEST 1&quot; still instead of &quot;\\r\\n&quot; giving same error"},{"owner":{"account_id":30580,"reputation":15467,"user_id":1031689,"accept_rate":67,"display_name":"JasonPlutext"},"score":1,"creation_date":1619901754,"post_id":67346014,"comment_id":119045678,"body_markdown":"Probably https://www.docx4java.org/forums/announces/docx4j-8-2-9-released-following-word-updates-t2979.html","body":"Probably <a href=\"https://www.docx4java.org/forums/announces/docx4j-8-2-9-released-following-word-updates-t2979.html\" rel=\"nofollow noreferrer\">docx4java.org/forums/announces/&hellip;</a>"},{"owner":{"account_id":6527117,"reputation":23,"user_id":5049526,"display_name":"Tanmay"},"score":0,"creation_date":1620034201,"post_id":67346014,"comment_id":119072935,"body_markdown":"Thanks @JasonPlutext I have upgraded Jar to 8.2.9 and it is working fine. Thanks a lot.","body":"Thanks @JasonPlutext I have upgraded Jar to 8.2.9 and it is working fine. Thanks a lot."}],"owner":{"account_id":6527117,"reputation":23,"user_id":5049526,"display_name":"Tanmay"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":863,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647521935,"creation_date":1619870334,"question_id":67346014,"body_markdown":"I am getting error Word found unreadable content in .docx after replacing content through docx4j.\r\n\r\nPlease find code snippet.\r\n\r\nI am using docx4j-6.1.2 jar\r\n\r\n    public class Testt {\r\n\r\n\tpublic static void main(String[] args) throws Exception {\r\n\r\n\t\tfinal String TEMPLATE_NAME = &quot;D://fileuploadtemp//123.docx&quot;;\r\n\t\tInputStream templateInputStream = new FileInputStream(TEMPLATE_NAME);\r\n\t\tWordprocessingMLPackage wordMLPackage = WordprocessingMLPackage.load(templateInputStream);\r\n\t\tMainDocumentPart documentPart = wordMLPackage.getMainDocumentPart();\r\n\t\tString xpath = &quot;//w:r[w:t[contains(text(),&#39;TEST&#39;)]]&quot;;\r\n\t\tList&lt;Object&gt; list = documentPart.getJAXBNodesViaXPath(xpath, true);\r\n\r\n\t\tfor (Object obj : list) {\r\n\t\t\torg.docx4j.wml.ObjectFactory factory = new org.docx4j.wml.ObjectFactory();\r\n\t\t\torg.docx4j.wml.Text t = factory.createText();\r\n\t\t\tt.setValue(&quot;\\r\\n&quot;);\r\n\t\t\t((R) obj).getContent().clear();\r\n\t\t\t((R) obj).getContent().add(t);\r\n\t\t}\r\n\r\n\t\tOutputStream os = new FileOutputStream(new File(&quot;D://fileuploadtemp//1234.docx&quot;));\r\n\t\tByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n\t\twordMLPackage.save(outputStream);\r\n\t\toutputStream.writeTo(os);\r\n\t\tos.close();\r\n\t\toutputStream.close();\r\n\t\ttemplateInputStream.close();\r\n\r\n\t}\r\n\r\n}\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CKg2s.png","title":"Word found unreadable content in .docx after replacing content through docx4j","body":"<p>I am getting error Word found unreadable content in .docx after replacing content through docx4j.</p>\n<p>Please find code snippet.</p>\n<p>I am using docx4j-6.1.2 jar</p>\n<pre><code>public class Testt {\n\npublic static void main(String[] args) throws Exception {\n\n    final String TEMPLATE_NAME = &quot;D://fileuploadtemp//123.docx&quot;;\n    InputStream templateInputStream = new FileInputStream(TEMPLATE_NAME);\n    WordprocessingMLPackage wordMLPackage = WordprocessingMLPackage.load(templateInputStream);\n    MainDocumentPart documentPart = wordMLPackage.getMainDocumentPart();\n    String xpath = &quot;//w:r[w:t[contains(text(),'TEST')]]&quot;;\n    List&lt;Object&gt; list = documentPart.getJAXBNodesViaXPath(xpath, true);\n\n    for (Object obj : list) {\n        org.docx4j.wml.ObjectFactory factory = new org.docx4j.wml.ObjectFactory();\n        org.docx4j.wml.Text t = factory.createText();\n        t.setValue(&quot;\\r\\n&quot;);\n        ((R) obj).getContent().clear();\n        ((R) obj).getContent().add(t);\n    }\n\n    OutputStream os = new FileOutputStream(new File(&quot;D://fileuploadtemp//1234.docx&quot;));\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n    wordMLPackage.save(outputStream);\n    outputStream.writeTo(os);\n    os.close();\n    outputStream.close();\n    templateInputStream.close();\n\n}\n</code></pre>\n<p>}\n<a href=\"https://i.stack.imgur.com/CKg2s.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CKg2s.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","scala","log4j","logback","stack-trace"],"comments":[{"owner":{"account_id":5967909,"reputation":2992,"user_id":4993125,"accept_rate":48,"display_name":"Michael Lafayette"},"score":0,"creation_date":1460844687,"post_id":36670345,"comment_id":60932143,"body_markdown":"p.s. I totally saw  code like this online and then I lost it.","body":"p.s. I totally saw  code like this online and then I lost it."},{"owner":{"display_name":"user4910279"},"score":0,"creation_date":1460847070,"post_id":36670345,"comment_id":60932731,"body_markdown":"See [Determine which jar file a class is from](http://stackoverflow.com/questions/1983839/determine-which-jar-file-a-class-is-from)","body":"See <a href=\"http://stackoverflow.com/questions/1983839/determine-which-jar-file-a-class-is-from\">Determine which jar file a class is from</a>"}],"answers":[{"tags":[],"owner":{"account_id":7279787,"reputation":2503,"user_id":5549928,"display_name":"Evgeny"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1460847508,"creation_date":1460847508,"answer_id":36670755,"question_id":36670345,"body_markdown":"Try this\r\n\r\n    for (StackTraceElement el : e.getStackTrace()) {\r\n        Class&lt;?&gt; clazz = Class.forName(el.getClassName());\r\n        String location = clazz.getProtectionDomain().getCodeSource().getLocation().toString();\r\n        System.out.println(location.substring(location.lastIndexOf(&#39;/&#39;) +1));\r\n    }","title":"How to get package data [jar file name] from stack trace?","body":"<p>Try this</p>\n\n<pre><code>for (StackTraceElement el : e.getStackTrace()) {\n    Class&lt;?&gt; clazz = Class.forName(el.getClassName());\n    String location = clazz.getProtectionDomain().getCodeSource().getLocation().toString();\n    System.out.println(location.substring(location.lastIndexOf('/') +1));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1706750,"reputation":171,"user_id":1565675,"display_name":"Karsten Spang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647521892,"creation_date":1647521892,"answer_id":71512716,"question_id":36670345,"body_markdown":"The stuff in the square brackets are the module name and version, in Java 9 and above. You can get the module name using ```StackTraceElement.getModuleName()```.\r\n\r\nIt seems that if you are not using modules, the jar file name is used instead of the module name.","title":"How to get package data [jar file name] from stack trace?","body":"<p>The stuff in the square brackets are the module name and version, in Java 9 and above. You can get the module name using <code>StackTraceElement.getModuleName()</code>.</p>\n<p>It seems that if you are not using modules, the jar file name is used instead of the module name.</p>\n"}],"owner":{"account_id":5967909,"reputation":2992,"user_id":4993125,"accept_rate":48,"display_name":"Michael Lafayette"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2250,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":36670755,"answer_count":2,"score":0,"last_activity_date":1647521892,"creation_date":1460844481,"question_id":36670345,"body_markdown":"In the [logback library][1], they have a way to get &quot;stack traces with packaging data&quot; (package and package versions).\r\n\r\nExample:\r\n\r\n    java.lang.Exception: 99 is invalid\r\n      at path.to.MyClass.myFunc(MyClass.java:431) [struts-1.2.9.jar:1.2.9]\r\n\r\nHow do I get &quot;`struts-1.2.9.jar`&quot; from a line in a stack trace? \r\n\r\nIs there a method in Java or Scala that does this?\r\n\r\n\r\n    String getPackageName(String lineInTrace) {\r\n        ...\r\n        return packageName\r\n    }\r\n\r\n  [1]: http://logback.qos.ch/reasonsToSwitch.html","title":"How to get package data [jar file name] from stack trace?","body":"<p>In the <a href=\"http://logback.qos.ch/reasonsToSwitch.html\" rel=\"nofollow\">logback library</a>, they have a way to get \"stack traces with packaging data\" (package and package versions).</p>\n\n<p>Example:</p>\n\n<pre><code>java.lang.Exception: 99 is invalid\n  at path.to.MyClass.myFunc(MyClass.java:431) [struts-1.2.9.jar:1.2.9]\n</code></pre>\n\n<p>How do I get \"<code>struts-1.2.9.jar</code>\" from a line in a stack trace? </p>\n\n<p>Is there a method in Java or Scala that does this?</p>\n\n<pre><code>String getPackageName(String lineInTrace) {\n    ...\n    return packageName\n}\n</code></pre>\n"},{"tags":["java","spring","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1647372240,"post_id":71487244,"comment_id":126353425,"body_markdown":"Now if there would be an `@TransactionalEventListener` one could use. For the retry you can use something like Resilience4j to do retries etc.","body":"Now if there would be an <code>@TransactionalEventListener</code> one could use. For the retry you can use something like Resilience4j to do retries etc."},{"owner":{"account_id":16000784,"reputation":301,"user_id":11547512,"display_name":"Anthony Cathers"},"score":0,"creation_date":1647373298,"post_id":71487244,"comment_id":126353743,"body_markdown":"I would add `logging.level.org.hibernate.engine.transaction.internal.TransactionImpl=DEBUG` to my properties file (or however you&#39;re setting properties) and check if the commits are actually being done when you think they are. If step 1 is part of a larger transaction that would prevent it from commiting at the end of that @Transactional.","body":"I would add <code>logging.level.org.hibernate.engine.transaction.internal.Tran&zwnj;&#8203;sactionImpl=DEBUG</code> to my properties file (or however you&#39;re setting properties) and check if the commits are actually being done when you think they are. If step 1 is part of a larger transaction that would prevent it from commiting at the end of that @Transactional."},{"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"score":0,"creation_date":1647374556,"post_id":71487244,"comment_id":126354161,"body_markdown":"@M.Deinum but would you agree that moving the event publishing out of the transactional boundary is a valid option? I&#39;ll look forward to use `@TransactionalEventListener`","body":"@M.Deinum but would you agree that moving the event publishing out of the transactional boundary is a valid option? I&#39;ll look forward to use <code>@TransactionalEventListener</code>"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1647414961,"post_id":71487244,"comment_id":126361998,"body_markdown":"You can fire an event which is handled by an `@TransactionalEventListener` and you can specify **when** to process/handle this. You can set this to after commit to send the actual SQS message.","body":"You can fire an event which is handled by an <code>@TransactionalEventListener</code> and you can specify <b>when</b> to process/handle this. You can set this to after commit to send the actual SQS message."},{"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"score":0,"creation_date":1647433456,"post_id":71487244,"comment_id":126368923,"body_markdown":"@M.Deinum yes, I&#39;ve tested out and it worked properly. If you want to write an answer, do it. I&#39;ll mark as the solution.","body":"@M.Deinum yes, I&#39;ve tested out and it worked properly. If you want to write an answer, do it. I&#39;ll mark as the solution."}],"answers":[{"tags":[],"owner":{"account_id":24557454,"reputation":146,"user_id":18465761,"display_name":"Zeke Rogers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647382762,"creation_date":1647382762,"answer_id":71489676,"question_id":71487244,"body_markdown":"This sounds like it might be an operation that requires multiple transactions.\r\n\r\nFor example, you might have two methods, each annotated with @Transactional:\r\n\r\n```java\r\n@Transactional\r\npublic void startHandleNewOrder(OrderData data) {\r\n  // make changes to the database here and publish event to new-orders-queue\r\n}\r\n\r\n@Transactional\r\npublic Result finishHandleNewOrder(OrderData data) {\r\n  // await response from another-sqs-queue and compile result\r\n}\r\n```\r\n\r\nThis should work assuming that:\r\n\r\n1) A separate service **NOT** annotated with @Transactional (ie its outside of the transactional barrier) calls these methods in order\r\n\r\nAlternately, you could implement this without annotations like so:\r\n\r\n```java\r\n@Autowired\r\nPlatformTransactionManager transactionManager;\r\n\r\n@PersistenceContext\r\nEntityManager entityManager;\r\n\r\npublic Result handleNewOrder(OrderData data) {\r\n  boolean rollback = true;\r\n  TransactionStatus status = getTransaction();\r\n  try {\r\n    // make changes to the database here and publish event to new-orders-queue\r\n    status.commit();\r\n    rollback = false;\r\n  } finally {\r\n    if (rollback)\r\n      status.rollback();\r\n  }\r\n\r\n  // this may or may not be necessary if you want to ensure you&#39;re reading\r\n  // fresh data from the database (otherwise cached from step #1 may be used)\r\n  entityManager.clear(); \r\n\r\n  rollback = true;\r\n  status = getTransaction();\r\n  try {\r\n    // wait for a response and compile the result\r\n    status.commit();\r\n    rollback = false;\r\n    return result;\r\n  } finally {\r\n    if (rollback)\r\n      status.rollback();\r\n  }\r\n}\r\n\r\nprivate TransactionStatus getTransaction() {\r\n  DefaultTransactionDefinition def = new DefaultTransactionDefinition();\r\n  def.setPropagationBehavior(TransactionDefinition.PROPAGATION_REQUIRES_NEW);\r\n  return transactionManager.getTransaction(def);\r\n}\r\n```","title":"Commit of transaction happening too late (after the event is processed by another system)","body":"<p>This sounds like it might be an operation that requires multiple transactions.</p>\n<p>For example, you might have two methods, each annotated with @Transactional:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional\npublic void startHandleNewOrder(OrderData data) {\n  // make changes to the database here and publish event to new-orders-queue\n}\n\n@Transactional\npublic Result finishHandleNewOrder(OrderData data) {\n  // await response from another-sqs-queue and compile result\n}\n</code></pre>\n<p>This should work assuming that:</p>\n<ol>\n<li>A separate service <strong>NOT</strong> annotated with @Transactional (ie its outside of the transactional barrier) calls these methods in order</li>\n</ol>\n<p>Alternately, you could implement this without annotations like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\nPlatformTransactionManager transactionManager;\n\n@PersistenceContext\nEntityManager entityManager;\n\npublic Result handleNewOrder(OrderData data) {\n  boolean rollback = true;\n  TransactionStatus status = getTransaction();\n  try {\n    // make changes to the database here and publish event to new-orders-queue\n    status.commit();\n    rollback = false;\n  } finally {\n    if (rollback)\n      status.rollback();\n  }\n\n  // this may or may not be necessary if you want to ensure you're reading\n  // fresh data from the database (otherwise cached from step #1 may be used)\n  entityManager.clear(); \n\n  rollback = true;\n  status = getTransaction();\n  try {\n    // wait for a response and compile the result\n    status.commit();\n    rollback = false;\n    return result;\n  } finally {\n    if (rollback)\n      status.rollback();\n  }\n}\n\nprivate TransactionStatus getTransaction() {\n  DefaultTransactionDefinition def = new DefaultTransactionDefinition();\n  def.setPropagationBehavior(TransactionDefinition.PROPAGATION_REQUIRES_NEW);\n  return transactionManager.getTransaction(def);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647521882,"creation_date":1647521882,"answer_id":71512714,"question_id":71487244,"body_markdown":"In the end, as suggested by M. Deinum, I&#39;ve implemented `@TransactionalEventListener` with the default phase (`TransactionPhase.AFTER_COMMIT`).\r\n\r\nSomething like this:\r\n\r\n    @TransactionalEventListener(classes = {SellVoucherEvent.class})\r\n    public void dispatch(SellVoucherEvent event) {\r\n        sqsClient.sendMessage(&quot;queue&quot;, turnEventToString(event));\r\n    }\r\n\r\nThis method is implemented in a `@Component` class and from my transactional context, I publish the event via a `ApplicationEventPublisher` (which is injected by Spring).\r\n\r\nExample:\r\n\r\n    private final ApplicationEventPublisher publisher; // injected by Spring\r\n    \r\n    @Transactional\r\n    public Result handleNewOrder(OrderData data) {\r\n    \tvalidatePrices(data);\r\n    \tdoSomeInserts(data);\r\n    \tResult result = createResult(data);\r\n    \t\r\n    \tSellVoucherEvent event = createEvent();\r\n    \tpublisher.publishEvent(event); // publish the application event\r\n        \r\n    \treturn result;\r\n    }\r\n\r\nThen, after the commit, the `dispatch` method annotated with `@TransactionalEventListener` is invoked and then the event is sent to SQS. This way we can guarantee that the event will only be processed after the commit.","title":"Commit of transaction happening too late (after the event is processed by another system)","body":"<p>In the end, as suggested by M. Deinum, I've implemented <code>@TransactionalEventListener</code> with the default phase (<code>TransactionPhase.AFTER_COMMIT</code>).</p>\n<p>Something like this:</p>\n<pre><code>@TransactionalEventListener(classes = {SellVoucherEvent.class})\npublic void dispatch(SellVoucherEvent event) {\n    sqsClient.sendMessage(&quot;queue&quot;, turnEventToString(event));\n}\n</code></pre>\n<p>This method is implemented in a <code>@Component</code> class and from my transactional context, I publish the event via a <code>ApplicationEventPublisher</code> (which is injected by Spring).</p>\n<p>Example:</p>\n<pre><code>private final ApplicationEventPublisher publisher; // injected by Spring\n\n@Transactional\npublic Result handleNewOrder(OrderData data) {\n    validatePrices(data);\n    doSomeInserts(data);\n    Result result = createResult(data);\n    \n    SellVoucherEvent event = createEvent();\n    publisher.publishEvent(event); // publish the application event\n    \n    return result;\n}\n</code></pre>\n<p>Then, after the commit, the <code>dispatch</code> method annotated with <code>@TransactionalEventListener</code> is invoked and then the event is sent to SQS. This way we can guarantee that the event will only be processed after the commit.</p>\n"}],"owner":{"account_id":7778530,"reputation":3138,"user_id":9860374,"display_name":"Matheus"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":500,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71512714,"answer_count":2,"score":1,"last_activity_date":1647521882,"creation_date":1647368768,"question_id":71487244,"body_markdown":"We have a system that sell vouchers and this selling process must be integrated with another system. This integration happens through AWS SQS Queues.\r\n\r\n1. **System A** process the order, then, at the end of the process, it publishes the message to the SQS Queue called `new-orders-queue`.\r\n\r\n2. **System B** reads data from the `new-orders-queue`, do some sort of processing and then publishes another event to another SQS Queue called `another-sqs-queue`.\r\n\r\n3. **System A** read data from the `another-sqs-queue` and then updates the order created in the step 1\r\n\r\nThe ordering process (step 1 from above) is big, but nothing tremendously complex. It do some validations within it&#39;s database (MySQL) and then write some inserts to some tables.\r\n\r\nAll of this happen in a `@Transactional` context from Spring.\r\n\r\nThe problem is that the step 3 sometimes is happening **before** the order from step 1 is finally commited to the database, which leds to an error (the order it have to update has not been found on the database, because it hasn&#39;t been commited yet). If we retry a second later, the process works normally. This is not happening all times, but we have to address this problem. \r\n\r\nHave you seen this already?\r\n\r\nBelow is reduced (really) pseudo-code from the step 1:\r\n\r\n```java\r\n@Transactional\r\npublic Result handleNewOrder(OrderData data) {\r\n\tSqsClient sqsClient = new SqsClient();\r\n\tvalidatePrices(data);\r\n\tdoSomeInserts(data);\r\n\tResult result = createResult(data);\r\n\t\r\n\t// the last line of the method, just before the return statement, is the line that post the event to the queue\r\n\tsqsClient.sendEvent(Events.create(result));\r\n\t\r\n\treturn result;\r\n}\r\n```\r\n\r\nAt the end of this method annotated with `@Transactional`, things should be commited, but somehow step 3 is being completed before the commit happens (atleast it seems like it).\r\n\r\nMaybe moving the event publishing out of the transactional boundary is the solution (and actually, I&#39;m in favor of it), because this way we can guarantee that the event will be processed only after the transaction has been commited to the database. But we will have to use some sort of retry mechanism in case our communication to SQS present a failure.\r\n\r\nIs this the way to go or you have a better solution?","title":"Commit of transaction happening too late (after the event is processed by another system)","body":"<p>We have a system that sell vouchers and this selling process must be integrated with another system. This integration happens through AWS SQS Queues.</p>\n<ol>\n<li><p><strong>System A</strong> process the order, then, at the end of the process, it publishes the message to the SQS Queue called <code>new-orders-queue</code>.</p>\n</li>\n<li><p><strong>System B</strong> reads data from the <code>new-orders-queue</code>, do some sort of processing and then publishes another event to another SQS Queue called <code>another-sqs-queue</code>.</p>\n</li>\n<li><p><strong>System A</strong> read data from the <code>another-sqs-queue</code> and then updates the order created in the step 1</p>\n</li>\n</ol>\n<p>The ordering process (step 1 from above) is big, but nothing tremendously complex. It do some validations within it's database (MySQL) and then write some inserts to some tables.</p>\n<p>All of this happen in a <code>@Transactional</code> context from Spring.</p>\n<p>The problem is that the step 3 sometimes is happening <strong>before</strong> the order from step 1 is finally commited to the database, which leds to an error (the order it have to update has not been found on the database, because it hasn't been commited yet). If we retry a second later, the process works normally. This is not happening all times, but we have to address this problem.</p>\n<p>Have you seen this already?</p>\n<p>Below is reduced (really) pseudo-code from the step 1:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Transactional\npublic Result handleNewOrder(OrderData data) {\n    SqsClient sqsClient = new SqsClient();\n    validatePrices(data);\n    doSomeInserts(data);\n    Result result = createResult(data);\n    \n    // the last line of the method, just before the return statement, is the line that post the event to the queue\n    sqsClient.sendEvent(Events.create(result));\n    \n    return result;\n}\n</code></pre>\n<p>At the end of this method annotated with <code>@Transactional</code>, things should be commited, but somehow step 3 is being completed before the commit happens (atleast it seems like it).</p>\n<p>Maybe moving the event publishing out of the transactional boundary is the solution (and actually, I'm in favor of it), because this way we can guarantee that the event will be processed only after the transaction has been commited to the database. But we will have to use some sort of retry mechanism in case our communication to SQS present a failure.</p>\n<p>Is this the way to go or you have a better solution?</p>\n"},{"tags":["java","selenium","jenkins","shadow-dom"],"comments":[{"owner":{"account_id":6077817,"reputation":1213,"user_id":4744568,"display_name":"pcalkins"},"score":0,"creation_date":1647548728,"post_id":71512219,"comment_id":126405706,"body_markdown":"that&#39;s some pretty crazy casting going on there...  does Jenkins use the same version of Selenium?  (3 or 4?)  Also is java run-time the same version?","body":"that&#39;s some pretty crazy casting going on there...  does Jenkins use the same version of Selenium?  (3 or 4?)  Also is java run-time the same version?"},{"owner":{"account_id":24589365,"reputation":11,"user_id":18493493,"display_name":"geetha Royal"},"score":0,"creation_date":1647838060,"post_id":71512219,"comment_id":126463031,"body_markdown":"yes jenkins have the same versions of everything as local","body":"yes jenkins have the same versions of everything as local"}],"owner":{"account_id":24589365,"reputation":11,"user_id":18493493,"display_name":"geetha Royal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1017,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647521532,"creation_date":1647519762,"question_id":71512219,"body_markdown":"I&#39;m trying to access an element inside `shadowDOM`\r\n\r\n    WebElement selectorElement = testConfig.driver.findElement(By.tagName(&quot;measure-builder-editor&quot;));\r\n    JavascriptExecutor js = (JavascriptExecutor) testConfig.driver;\r\n    Object shadowRoot = js.executeScript(&quot;return arguments[0].shadowRoot&quot;, selectorElement);\r\n    String id = (String)((Map &lt; String, Object &gt; ) shadowRoot).get(&quot;shadow-6066-11e4-a52e-4f735466cecf&quot;);\r\n    RemoteWebElemententer code here remoteWebElement = new RemoteWebElement();\r\n    remoteWebElement.setParent((RemoteWebDriver) testConfig.driver);\r\n    remoteWebElement.setId(id);\r\n    WebElement SecondDiv = remoteWebElement.findElement(By.cssSelector(&quot;div.editor-panel&quot;));\r\n    WebElement mainDiv = SecondDiv.findElement(By.className(&quot;cl-content&quot;));\r\n    mainDiv.click();\r\n    mainDiv.sendKeys(Keys.SHIFT);\r\n    mainDiv.sendKeys(type);\r\n\r\nIt is running fine when running in local but when I&#39;m trying to run this on Jenkins it is throwing the error.\r\n\r\nI&#39;m running this through TestNg and Selenium.\r\n\r\n    java --version\r\n    \r\n    openjdk 11.0.14 2022-01-18\r\n\r\n    OpenJDK Runtime Environment (build 11.0.14+9-Ubuntu-0ubuntu2.20.04)\r\n    \r\n    OpenJDK 64-Bit Server VM (build 11.0.14+9-Ubuntu-0ubuntu2.20.04, mixed mode, sharing)\r\n\r\n","title":"How to fix java.lang.ClassCastException: org.openqa.selenium.remote.RemoteWebElement cannot be cast to java.util.Map?","body":"<p>I'm trying to access an element inside <code>shadowDOM</code></p>\n<pre><code>WebElement selectorElement = testConfig.driver.findElement(By.tagName(&quot;measure-builder-editor&quot;));\nJavascriptExecutor js = (JavascriptExecutor) testConfig.driver;\nObject shadowRoot = js.executeScript(&quot;return arguments[0].shadowRoot&quot;, selectorElement);\nString id = (String)((Map &lt; String, Object &gt; ) shadowRoot).get(&quot;shadow-6066-11e4-a52e-4f735466cecf&quot;);\nRemoteWebElemententer code here remoteWebElement = new RemoteWebElement();\nremoteWebElement.setParent((RemoteWebDriver) testConfig.driver);\nremoteWebElement.setId(id);\nWebElement SecondDiv = remoteWebElement.findElement(By.cssSelector(&quot;div.editor-panel&quot;));\nWebElement mainDiv = SecondDiv.findElement(By.className(&quot;cl-content&quot;));\nmainDiv.click();\nmainDiv.sendKeys(Keys.SHIFT);\nmainDiv.sendKeys(type);\n</code></pre>\n<p>It is running fine when running in local but when I'm trying to run this on Jenkins it is throwing the error.</p>\n<p>I'm running this through TestNg and Selenium.</p>\n<pre><code>java --version\n\nopenjdk 11.0.14 2022-01-18\n\nOpenJDK Runtime Environment (build 11.0.14+9-Ubuntu-0ubuntu2.20.04)\n\nOpenJDK 64-Bit Server VM (build 11.0.14+9-Ubuntu-0ubuntu2.20.04, mixed mode, sharing)\n</code></pre>\n"},{"tags":["java","cucumber","cucumber-java"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":2,"creation_date":1646142551,"post_id":71309327,"comment_id":126046553,"body_markdown":"I think in this case it would be more appropriate to start a new process with the [Process](https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html)/`ProcessBuilder`. You can easily redirect the standard output of the new process using this facility.","body":"I think in this case it would be more appropriate to start a new process with the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Process.html\" rel=\"nofollow noreferrer\">Process</a>/<code>ProcessBuilder</code>. You can easily redirect the standard output of the new process using this facility."},{"owner":{"account_id":2562742,"reputation":5917,"user_id":2851311,"display_name":"hfontanez"},"score":0,"creation_date":1646174091,"post_id":71309327,"comment_id":126057384,"body_markdown":"Is it possible? Yes and no. Just run JUnit tests for this. You don&#39;t need the overhead. That said, Cucumber is just a shell for your test cases. You can create Cucumber scripts mapped to methods that invoke console commands, etc. Selenium is what makes it not possible. Why? Selenium is a library that was created **_specifically_** to test web applications via web browsers. It is not design to test desktop applications, OS features, etc.","body":"Is it possible? Yes and no. Just run JUnit tests for this. You don&#39;t need the overhead. That said, Cucumber is just a shell for your test cases. You can create Cucumber scripts mapped to methods that invoke console commands, etc. Selenium is what makes it not possible. Why? Selenium is a library that was created <b><i>specifically</i></b> to test web applications via web browsers. It is not design to test desktop applications, OS features, etc."}],"answers":[{"tags":[],"owner":{"account_id":9590587,"reputation":2429,"user_id":7121619,"display_name":"Marit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647521487,"creation_date":1647521487,"answer_id":71512607,"question_id":71309327,"body_markdown":"If you are testing a specific class only, I&#39;d recommend using unit tests for that, for example using JUnit. They will have less overhead and be easier to run and maintain.","title":"Use Cucumber to test Java console output?","body":"<p>If you are testing a specific class only, I'd recommend using unit tests for that, for example using JUnit. They will have less overhead and be easier to run and maintain.</p>\n"}],"owner":{"account_id":2583616,"reputation":1317,"user_id":2239784,"accept_rate":21,"display_name":"Doctor Who"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":720,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647521487,"creation_date":1646141833,"question_id":71309327,"body_markdown":"I&#39;ve only ever used Cucumber in conjunction with Selenium to test websites. \r\n\r\nI&#39;m now trying to write a feature file to test a class but I&#39;m not sure how, I have my test step running which calls the main method passing in some arguments. The main method does some things with the arguments and prints them to the console. Is it possible to read the console output to a string so I can assert it matches what I expect?\r\n\r\n       @Given(&quot;I pass the arguments {string} to the generator&quot;)\r\n       public void i_pass_the_arguments(String string) {\r\n    \t   String[] args = string.split(&quot; &quot;);\r\n    \t   new Generate();\r\n    \t   Generate.main(args);\r\n       }","title":"Use Cucumber to test Java console output?","body":"<p>I've only ever used Cucumber in conjunction with Selenium to test websites.</p>\n<p>I'm now trying to write a feature file to test a class but I'm not sure how, I have my test step running which calls the main method passing in some arguments. The main method does some things with the arguments and prints them to the console. Is it possible to read the console output to a string so I can assert it matches what I expect?</p>\n<pre><code>   @Given(&quot;I pass the arguments {string} to the generator&quot;)\n   public void i_pass_the_arguments(String string) {\n       String[] args = string.split(&quot; &quot;);\n       new Generate();\n       Generate.main(args);\n   }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-kafka"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1647520331,"post_id":71511654,"comment_id":126394553,"body_markdown":"Why would you *want* a resource like that outside the jar?","body":"Why would you <i>want</i> a resource like that outside the jar?"},{"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1647521551,"post_id":71511654,"comment_id":126395000,"body_markdown":"The keystore and truststore files are read by Apache Kafka (kafka-clients), not Spring; see my answer.","body":"The keystore and truststore files are read by Apache Kafka (kafka-clients), not Spring; see my answer."},{"owner":{"account_id":18127564,"reputation":179,"user_id":13182966,"display_name":"RMNull"},"score":0,"creation_date":1647583515,"post_id":71511654,"comment_id":126412261,"body_markdown":"@g00se so that I would not have to redeploy the application when there&#39;s a certificate rotation (in .jks file) Or when there&#39;s application configuration change(application.yml).","body":"@g00se so that I would not have to redeploy the application when there&#39;s a certificate rotation (in .jks file) Or when there&#39;s application configuration change(application.yml)."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1647610738,"post_id":71511654,"comment_id":126420329,"body_markdown":"I see. Actually this *java -Dspring.config.location=file:/absolulte/path/to/application.yml -cp &quot;.:/path/to/app/resources&quot; -jar /path/to/application.jar* is not right. `-jar` and `-cp` are mutually exclusive. So you&#39;d need `java -Dspring.config.location=file:/absolulte/path/to/application.yml -cp &quot;.:/path/to/app/resources:/path/to/application.jar&quot; a.b.c.Main`","body":"I see. Actually this <i>java -Dspring.config.location=file:/absolulte/path/to/application&zwnj;&#8203;.yml -cp &quot;.:/path/to/app/resources&quot; -jar /path/to/application.jar</i> is not right. <code>-jar</code> and <code>-cp</code> are mutually exclusive. So you&#39;d need <code>java -Dspring.config.location=file:&#47;absolulte&#47;path&#47;to&#47;application&zwnj;&#8203;.yml -cp &quot;.:&#47;path&#47;to&#47;app&#47;resources:&#47;path&#47;to&#47;application.jar&quot; a.b.c.Main</code>"}],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169326,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647521468,"creation_date":1647521468,"answer_id":71512599,"question_id":71511654,"body_markdown":"The keystore and truststore files are read by Apache Kafka (kafka-clients), not Spring, and must be on the file system; you have to write your own code to copy the file from the class path to the file system (e.g. /tmp) before creating the Spring application context.\r\n\r\nThere is an open issue against Apache Kafka.\r\n\r\nIt&#39;s been open a long time; voting for it might help.\r\n\r\nhttps://issues.apache.org/jira/browse/KAFKA-7685","title":"read files outside jar in Spring Boot","body":"<p>The keystore and truststore files are read by Apache Kafka (kafka-clients), not Spring, and must be on the file system; you have to write your own code to copy the file from the class path to the file system (e.g. /tmp) before creating the Spring application context.</p>\n<p>There is an open issue against Apache Kafka.</p>\n<p>It's been open a long time; voting for it might help.</p>\n<p><a href=\"https://issues.apache.org/jira/browse/KAFKA-7685\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/KAFKA-7685</a></p>\n"}],"owner":{"account_id":18127564,"reputation":179,"user_id":13182966,"display_name":"RMNull"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1129,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647521468,"creation_date":1647517002,"question_id":71511654,"body_markdown":"I am trying to run application jar and have the application configurations(application.yml) externalized. There are a few files that are referenced from this application.yml.\r\n\r\n\r\nApplication run command:\r\n```\r\njava -Dspring.config.location=file:/absolulte/path/to/application.yml -cp &quot;.:/path/to/app/resources&quot; -jar /path/to/application.jar\r\n```\r\n\r\nDirectory Structure:\r\n```\r\napp/\r\n resources/\r\n   keystore.jks\r\n   application.yml\r\n application.jar\r\n```\r\n\r\nTaking example of [Kafka Library][1] trying to access the file. \r\n\r\nI have tried to configure the path in the following way\r\n\r\napplication.yml \r\n```\r\nkeystore-location: classpath:keystore.jks\r\n```\r\n\r\nAnd when the library tries to access these files, I get the following error.\r\n&gt;Caused by: java.io.FileNotFoundException: class path resource [keystore.jks] cannot be resolved to absolute file path because it does not reside in the file system: jar:file:/path/to/file/application.jar!/BOOT-INF/classes!/keystore.jks\r\n\r\n\r\nand with\r\n```\r\nkeystore-location: file://keystore.jks\r\n```\r\n\r\n&gt;Caused by: java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 4: file:/path/to/jar/application.jar!/BOOT-INF/classes!/keystore.jks\r\n\r\nInstead of looking for the file in the path specified, it looks for in the jar.\r\n\r\nSpring Kafka library was one of the examples and few other libraries too give similar errors.\r\n\r\n\r\nSpringBoot Version: 2.2.5.RELEASE\r\n\r\nJava Version: 1.8\r\n\r\n\r\nThanks\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.springframework.kafka/spring-kafka/2.4.6.RELEASE","title":"read files outside jar in Spring Boot","body":"<p>I am trying to run application jar and have the application configurations(application.yml) externalized. There are a few files that are referenced from this application.yml.</p>\n<p>Application run command:</p>\n<pre><code>java -Dspring.config.location=file:/absolulte/path/to/application.yml -cp &quot;.:/path/to/app/resources&quot; -jar /path/to/application.jar\n</code></pre>\n<p>Directory Structure:</p>\n<pre><code>app/\n resources/\n   keystore.jks\n   application.yml\n application.jar\n</code></pre>\n<p>Taking example of <a href=\"https://mvnrepository.com/artifact/org.springframework.kafka/spring-kafka/2.4.6.RELEASE\" rel=\"nofollow noreferrer\">Kafka Library</a> trying to access the file.</p>\n<p>I have tried to configure the path in the following way</p>\n<p>application.yml</p>\n<pre><code>keystore-location: classpath:keystore.jks\n</code></pre>\n<p>And when the library tries to access these files, I get the following error.</p>\n<blockquote>\n<p>Caused by: java.io.FileNotFoundException: class path resource [keystore.jks] cannot be resolved to absolute file path because it does not reside in the file system: jar:file:/path/to/file/application.jar!/BOOT-INF/classes!/keystore.jks</p>\n</blockquote>\n<p>and with</p>\n<pre><code>keystore-location: file://keystore.jks\n</code></pre>\n<blockquote>\n<p>Caused by: java.nio.file.InvalidPathException: Illegal char &lt;:&gt; at index 4: file:/path/to/jar/application.jar!/BOOT-INF/classes!/keystore.jks</p>\n</blockquote>\n<p>Instead of looking for the file in the path specified, it looks for in the jar.</p>\n<p>Spring Kafka library was one of the examples and few other libraries too give similar errors.</p>\n<p>SpringBoot Version: 2.2.5.RELEASE</p>\n<p>Java Version: 1.8</p>\n<p>Thanks</p>\n"},{"tags":["java","spring-boot","serialization","jackson"],"comments":[{"owner":{"account_id":4254130,"reputation":13758,"user_id":3480246,"display_name":"Jan"},"score":0,"creation_date":1647506044,"post_id":71508956,"comment_id":126389620,"body_markdown":"Have you tried using implementation ArrayListValuedHashMap instead? So make it List&lt;ArrayListValuedHashMap&lt;String,String&gt;&gt; property2. The error complains about no constructor for the interface...","body":"Have you tried using implementation ArrayListValuedHashMap instead? So make it List&lt;ArrayListValuedHashMap&lt;String,String&gt;&gt; property2. The error complains about no constructor for the interface..."},{"owner":{"account_id":7471769,"reputation":103,"user_id":5679528,"accept_rate":50,"display_name":"Nomix Prenomax"},"score":0,"creation_date":1647506943,"post_id":71508956,"comment_id":126389945,"body_markdown":"@Jan I just did and it doesn&#39;t throw the error anymore but the list is empty, it does not contain any values.","body":"@Jan I just did and it doesn&#39;t throw the error anymore but the list is empty, it does not contain any values."},{"owner":{"account_id":7471769,"reputation":103,"user_id":5679528,"accept_rate":50,"display_name":"Nomix Prenomax"},"score":0,"creation_date":1647510750,"post_id":71508956,"comment_id":126391307,"body_markdown":"The result is this : [{}, {}, {}]. There is the 3 ArrayListValuedHashMap but the &lt;String, String&gt; is empty.","body":"The result is this : [{}, {}, {}]. There is the 3 ArrayListValuedHashMap but the &lt;String, String&gt; is empty."}],"answers":[{"tags":[],"owner":{"account_id":23067373,"reputation":640,"user_id":17181638,"display_name":"3Fish"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647521284,"creation_date":1647521284,"answer_id":71512556,"question_id":71508956,"body_markdown":"Why not just use a List&lt;Map.Entry&lt;String,String&gt;&gt; ?\r\n\r\nThis works right out of the box and if you really want to use a MuliValuedMap you can convert the List into one with the following sniped:\r\n```java\r\nvar map = new ArrayListValuedHashMap&lt;String, String&gt;();\r\nresult.property2.stream()\r\n                        .collect(Collectors.groupingBy(Map.Entry::getKey))\r\n                        .entrySet()\r\n                        .forEach(entry -&gt;\r\n                                         map.putAll(entry.getKey(),\r\n                                                    entry.getValue().stream().map(Map.Entry::getValue).toList()));\r\n```","title":"Using MultiValuedMap with Jackson","body":"<p>Why not just use a List&lt;Map.Entry&lt;String,String&gt;&gt; ?</p>\n<p>This works right out of the box and if you really want to use a MuliValuedMap you can convert the List into one with the following sniped:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var map = new ArrayListValuedHashMap&lt;String, String&gt;();\nresult.property2.stream()\n                        .collect(Collectors.groupingBy(Map.Entry::getKey))\n                        .entrySet()\n                        .forEach(entry -&gt;\n                                         map.putAll(entry.getKey(),\n                                                    entry.getValue().stream().map(Map.Entry::getValue).toList()));\n</code></pre>\n"}],"owner":{"account_id":7471769,"reputation":103,"user_id":5679528,"accept_rate":50,"display_name":"Nomix Prenomax"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":642,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647521284,"creation_date":1647504714,"question_id":71508956,"body_markdown":"Hello I am trying to create an object from the following json : \r\n```\r\n    {\r\n\t&quot;property1&quot;: &quot;value1&quot;,\r\n\t&quot;property2&quot;: [\r\n\t\t{&quot;key1&quot;:&quot;value1&quot;},\r\n\t\t{&quot;key1&quot;:&quot;value2&quot;},\r\n\t\t{&quot;key2&quot;:&quot;value1&quot;}\r\n\t]\r\n}\r\n```\r\n\r\nThe reason am using MultiValuedMap is because the keys in property 2 can be duplicates (as for the values).\r\n\r\nThe problem is that jackson throws an error when I try something like this :\r\n```\r\n@AllArgsConstructor\r\n@NoArgsConstructor\r\n@Data\r\n@Builder\r\n@EqualsAndHashCode\r\n@JsonInclude(JsonInclude.Include.NON_NULL)\r\npublic class MyClass {\r\n\t\r\n\tprivate String property1;\r\n\r\n    private List&lt;MultiValuedMap&lt;String, String&gt;&gt; property2;\r\n\r\n}\r\n```\r\n\r\nAs for the controller it&#39;s like this :\r\n```\r\n@PostMapping(value = &quot;update&quot;)\r\nMyClass saveMyClass(@RequestBody @Valid MyClass myClass);\r\n```\r\nbut when trying to send the json to my api it gives the following error :\r\n\r\n&gt; org.springframework.http.converter.HttpMessageConversionException:\r\n&gt; Type definition error: [simple type, class\r\n&gt; org.apache.commons.collections4.MultiValuedMap]; nested exception is\r\n&gt; com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot\r\n&gt; construct instance of `org.apache.commons.collections4.MultiValuedMap`\r\n&gt; (no Creators, like default constructor, exist): abstract types either\r\n&gt; need to be mapped to concrete types, have custom deserializer, or\r\n&gt; contain additional type information","title":"Using MultiValuedMap with Jackson","body":"<p>Hello I am trying to create an object from the following json :</p>\n<pre><code>    {\n    &quot;property1&quot;: &quot;value1&quot;,\n    &quot;property2&quot;: [\n        {&quot;key1&quot;:&quot;value1&quot;},\n        {&quot;key1&quot;:&quot;value2&quot;},\n        {&quot;key2&quot;:&quot;value1&quot;}\n    ]\n}\n</code></pre>\n<p>The reason am using MultiValuedMap is because the keys in property 2 can be duplicates (as for the values).</p>\n<p>The problem is that jackson throws an error when I try something like this :</p>\n<pre><code>@AllArgsConstructor\n@NoArgsConstructor\n@Data\n@Builder\n@EqualsAndHashCode\n@JsonInclude(JsonInclude.Include.NON_NULL)\npublic class MyClass {\n    \n    private String property1;\n\n    private List&lt;MultiValuedMap&lt;String, String&gt;&gt; property2;\n\n}\n</code></pre>\n<p>As for the controller it's like this :</p>\n<pre><code>@PostMapping(value = &quot;update&quot;)\nMyClass saveMyClass(@RequestBody @Valid MyClass myClass);\n</code></pre>\n<p>but when trying to send the json to my api it gives the following error :</p>\n<blockquote>\n<p>org.springframework.http.converter.HttpMessageConversionException:\nType definition error: [simple type, class\norg.apache.commons.collections4.MultiValuedMap]; nested exception is\ncom.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot\nconstruct instance of <code>org.apache.commons.collections4.MultiValuedMap</code>\n(no Creators, like default constructor, exist): abstract types either\nneed to be mapped to concrete types, have custom deserializer, or\ncontain additional type information</p>\n</blockquote>\n"},{"tags":["java","string","tree","avl-tree"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1647528958,"post_id":71512483,"comment_id":126398318,"body_markdown":"Are you saying that you **have** to use [AVL tree](https://en.wikipedia.org/wiki/AVL_tree) to solve the exercise? Also, it&#39;s not clear to me from the question whether the the list of names and the list of nicknames are both sorted (alphabetically).","body":"Are you saying that you <b>have</b> to use <a href=\"https://en.wikipedia.org/wiki/AVL_tree\" rel=\"nofollow noreferrer\">AVL tree</a> to solve the exercise? Also, it&#39;s not clear to me from the question whether the the list of names and the list of nicknames are both sorted (alphabetically)."},{"owner":{"account_id":21095205,"reputation":11,"user_id":18493693,"display_name":"Jesslyn"},"score":0,"creation_date":1647532912,"post_id":71512483,"comment_id":126400080,"body_markdown":"@Abra Yes it is mandatory to use an AVL tree to solve. The question doesn&#39;t state that but based on the input, looks like it&#39;s in alphabetical order. Any insights to using AVL tree to solve this?","body":"@Abra Yes it is mandatory to use an AVL tree to solve. The question doesn&#39;t state that but based on the input, looks like it&#39;s in alphabetical order. Any insights to using AVL tree to solve this?"}],"owner":{"account_id":21095205,"reputation":11,"user_id":18493693,"display_name":"Jesslyn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1148,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647521012,"creation_date":1647521012,"question_id":71512483,"body_markdown":"I am exploring a problem where I have to keep track of the number of strings that contains a certain substring. I was wondering how do I use an AVL tree to solve it.\r\n\r\nHere is the problem/question: https://open.kattis.com/problems/nicknames","title":"Java use of AVL tree for frequency of strings problem","body":"<p>I am exploring a problem where I have to keep track of the number of strings that contains a certain substring. I was wondering how do I use an AVL tree to solve it.</p>\n<p>Here is the problem/question: <a href=\"https://open.kattis.com/problems/nicknames\" rel=\"nofollow noreferrer\">https://open.kattis.com/problems/nicknames</a></p>\n"},{"tags":["java","spring","spring-boot","configuration"],"comments":[{"owner":{"account_id":5581952,"reputation":125,"user_id":4423575,"display_name":"stergipe"},"score":0,"creation_date":1647523080,"post_id":71512462,"comment_id":126395617,"body_markdown":"Maybe AOP could help on this case with the combination of the annotation. \nhttps://www.baeldung.com/spring-aop. \n\nI believe you could easily intercept the method.","body":"Maybe AOP could help on this case with the combination of the annotation.  <a href=\"https://www.baeldung.com/spring-aop\" rel=\"nofollow noreferrer\">baeldung.com/spring-aop</a>.   I believe you could easily intercept the method."},{"owner":{"account_id":10833493,"reputation":61,"user_id":7967090,"display_name":"Pete"},"score":0,"creation_date":1647534890,"post_id":71512462,"comment_id":126400850,"body_markdown":"If I were to use the example `@Around` advice, could I inject the annotation somehow into the advice method? If yes, can I pass the values from that annotation to the method that Spring AOP is executing around (the method annotated with my custom annotation) ?","body":"If I were to use the example <code>@Around</code> advice, could I inject the annotation somehow into the advice method? If yes, can I pass the values from that annotation to the method that Spring AOP is executing around (the method annotated with my custom annotation) ?"},{"owner":{"account_id":5581952,"reputation":125,"user_id":4423575,"display_name":"stergipe"},"score":0,"creation_date":1647591058,"post_id":71512462,"comment_id":126413879,"body_markdown":"I believe you could. Here is a better example: \nhttps://stackoverflow.com/a/21275958/4423575","body":"I believe you could. Here is a better example:  <a href=\"https://stackoverflow.com/a/21275958/4423575\">stackoverflow.com/a/21275958/4423575</a>"}],"owner":{"account_id":10833493,"reputation":61,"user_id":7967090,"display_name":"Pete"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":317,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647520930,"creation_date":1647520930,"question_id":71512462,"body_markdown":"How should I go about passing data from a Spring Boot application to a library that the application uses (a library owned and controlled by me)? \r\n\r\nCan this be done through a class-level annotation like `@GetMe(name = &quot;foobar&quot;)` ? If yes, how can the `name` property then be retrieved by the library and used in its Java classes? Is the Java Reflection API a must-use in this case or is there a cleaner way to fetch an annotation&#39;s values? ","title":"How can I pass metadata from a Spring Boot application to a library?","body":"<p>How should I go about passing data from a Spring Boot application to a library that the application uses (a library owned and controlled by me)?</p>\n<p>Can this be done through a class-level annotation like <code>@GetMe(name = &quot;foobar&quot;)</code> ? If yes, how can the <code>name</code> property then be retrieved by the library and used in its Java classes? Is the Java Reflection API a must-use in this case or is there a cleaner way to fetch an annotation's values?</p>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":2,"creation_date":1647520998,"post_id":71512452,"comment_id":126394786,"body_markdown":"if it doesn&#39;t work in a single step, maybe it could works in 2 steps...","body":"if it doesn&#39;t work in a single step, maybe it could works in 2 steps..."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":3,"creation_date":1647521131,"post_id":71512452,"comment_id":126394826,"body_markdown":"Please read the [List.remove(Object)](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html#remove(java.lang.Object)) documentation. The return value is always boolean not the removed object.","body":"Please read the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html#remove(java.lang.Object)\" rel=\"nofollow noreferrer\">List.remove(Object)</a> documentation. The return value is always boolean not the removed object."},{"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"score":0,"creation_date":1647521757,"post_id":71512452,"comment_id":126395088,"body_markdown":"Unrelated: `int i=arr.size()` should be `int i=arr.size()-1`","body":"Unrelated: <code>int i=arr.size()</code> should be <code>int i=arr.size()-1</code>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1647536373,"post_id":71512452,"comment_id":126401473,"body_markdown":"You want to use `arr.remove(i);` to invoke `remove(int)`. But the start must be at `arr.size() - 1` instead of `arr.size()`. Assuming you want to reverse the elements above `m`, the condition must be `i&#160;&gt;&#160;m`. But youre reinventing the wheel; you can do the entire operation with a single `Collections.reverse(arr.subList(m, arr.size()));` statement","body":"You want to use <code>arr.remove(i);</code> to invoke <code>remove(int)</code>. But the start must be at <code>arr.size() - 1</code> instead of <code>arr.size()</code>. Assuming you want to reverse the elements above <code>m</code>, the condition must be <code>i&gt;m</code>. But youre reinventing the wheel; you can do the entire operation with a single <code>Collections.reverse(arr.subList(m, arr.size()));</code> statement"}],"owner":{"display_name":"user18292009"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":288,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647520887,"creation_date":1647520887,"question_id":71512452,"body_markdown":"I want to remove elements from an ArrayList in Java and append it to another ArrayList. I am getting **boolean cannot be converted to int, x=arr.remove(arr.get(i));** error. Can someone help how to do it?\r\n```\r\npublic class Solution \r\n{\r\n    public static void func(ArrayList&lt;Integer&gt; arr, int m)\r\n    {\r\n        ArrayList&lt;Integer&gt; temp= new ArrayList();\r\n        int x;\r\n        for(int i=arr.size();i&lt;m;i--){\r\n            x=arr.remove(arr.get(i));\r\n            temp.add(x);\r\n        }\r\n        for(int i=0;i&lt;temp.size();i++){\r\n        arr.add(temp.get(i));\r\n        }\r\n    }\r\n    \r\n}\r\n```\r\nI am getting error at line 8.\r\n","title":"How to remove an element from ArrayList in Java and Assign it to a variable?","body":"<p>I want to remove elements from an ArrayList in Java and append it to another ArrayList. I am getting <strong>boolean cannot be converted to int, x=arr.remove(arr.get(i));</strong> error. Can someone help how to do it?</p>\n<pre><code>public class Solution \n{\n    public static void func(ArrayList&lt;Integer&gt; arr, int m)\n    {\n        ArrayList&lt;Integer&gt; temp= new ArrayList();\n        int x;\n        for(int i=arr.size();i&lt;m;i--){\n            x=arr.remove(arr.get(i));\n            temp.add(x);\n        }\n        for(int i=0;i&lt;temp.size();i++){\n        arr.add(temp.get(i));\n        }\n    }\n    \n}\n</code></pre>\n<p>I am getting error at line 8.</p>\n"},{"tags":["java","intellij-idea","unicode"],"comments":[{"owner":{"account_id":6783888,"reputation":841,"user_id":5223289,"accept_rate":64,"display_name":"saidfagan"},"score":0,"creation_date":1516711364,"post_id":48402025,"comment_id":83792085,"body_markdown":"Take a look at this question https://stackoverflow.com/questions/44627898/java-program-to-output-unicode-chars-in-cmd","body":"Take a look at this question <a href=\"https://stackoverflow.com/questions/44627898/java-program-to-output-unicode-chars-in-cmd\" title=\"java program to output unicode chars in cmd\">stackoverflow.com/questions/44627898/&hellip;</a>"},{"owner":{"account_id":12127487,"reputation":394,"user_id":8855687,"display_name":"Ali Rahimi"},"score":0,"creation_date":1516712030,"post_id":48402025,"comment_id":83792522,"body_markdown":"unfortunately Doesn&#39;t work!","body":"unfortunately Doesn&#39;t work!"},{"owner":{"account_id":6783888,"reputation":841,"user_id":5223289,"accept_rate":64,"display_name":"saidfagan"},"score":0,"creation_date":1516712676,"post_id":48402025,"comment_id":83792954,"body_markdown":"For me it worked on Intellij IDEA Run window but not on Windows CMD. Which one are you using?","body":"For me it worked on Intellij IDEA Run window but not on Windows CMD. Which one are you using?"},{"owner":{"account_id":190568,"reputation":601,"user_id":1873036,"display_name":"olikaf"},"score":0,"creation_date":1516712729,"post_id":48402025,"comment_id":83792991,"body_markdown":"Windows CMD does not use Unicode, but a Microsoft codepage.\nTake a look at https://stackoverflow.com/questions/20386335/printing-out-unicode-from-java-code-issue-in-windows-console","body":"Windows CMD does not use Unicode, but a Microsoft codepage. Take a look at <a href=\"https://stackoverflow.com/questions/20386335/printing-out-unicode-from-java-code-issue-in-windows-console\" title=\"printing out unicode from java code issue in windows console\">stackoverflow.com/questions/20386335/&hellip;</a>"},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1516775356,"post_id":48402025,"comment_id":83821768,"body_markdown":"What is the language of the text in your call to println() - is it Persian? Also, what operating system/version are you using?","body":"What is the language of the text in your call to println() - is it Persian? Also, what operating system/version are you using?"},{"owner":{"account_id":12127487,"reputation":394,"user_id":8855687,"display_name":"Ali Rahimi"},"score":0,"creation_date":1516785607,"post_id":48402025,"comment_id":83827197,"body_markdown":"Its persian and Im running it on Windows 10. Your solution worked except for the backwards rendering. Thanks alot.","body":"Its persian and Im running it on Windows 10. Your solution worked except for the backwards rendering. Thanks alot."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":0,"creation_date":1516859336,"post_id":48402025,"comment_id":83864076,"body_markdown":"@A.Rahimi I have updated my answer so that **&quot;&quot;** is rendered correctly in the **Command Prompt** window, but the cost is that it no longer renders correctly when run in Intellij IDEA. (So it&#39;s still not a proper solution.)","body":"@A.Rahimi I have updated my answer so that <b>&quot;&quot;</b> is rendered correctly in the <b>Command Prompt</b> window, but the cost is that it no longer renders correctly when run in Intellij IDEA. (So it&#39;s still not a proper solution.)"}],"answers":[{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1516860637,"creation_date":1516782604,"answer_id":48417915,"question_id":48402025,"body_markdown":"I used Intellij IDEA/Java 1.8 on Windows 10 and tried a bunch of things in a somewhat disorganized manner, but have it almost working. First, here&#39;s the code:\r\n\r\n    import java.io.PrintStream;\r\n    import java.io.UnsupportedEncodingException;\r\n    \r\n    public class Java901App {\r\n        public static void main(String[] args) {\r\n            //System.out.println(&quot;Hello world!&quot;);\r\n            //System.out.println(&quot;&quot;);\r\n            try{\r\n                PrintStream outStream = new PrintStream(System.out, true, &quot;UTF-8&quot;);\r\n                outStream.println(&quot;Hello world!&quot;);\r\n                outStream.println(&quot;&quot;);\r\n            } catch(UnsupportedEncodingException e){\r\n                System.out.println(&quot;Caught exception: &quot; + e.getMessage());\r\n            }\r\n        }\r\n    }\r\n\r\n- Note that the encoding for the PrintStream is set to UTF-8. See the selected answer for this post: [Chinese Characters Displayed as Questions Marks in Mac Terminal][1]\r\n\r\n- &lt;strike&gt;I added **Arabic Script Supplemental Fonts** to Windows based on this article from Microsoft: [Why does some text display with square boxes in some apps on Windows 10?][2] I&#39;m not sure whether this was essential, but it definitely did no harm.&lt;/strike&gt; I uninstalled **Arabic Script Supplemental Fonts** and nothing changed so this step was not necessary.\r\n\r\n- Before running the app from the console I called **chcp 65001**. That was definitely essential even though the **PrintStream** was defined to use UTF-8, as shown in the screen shot below.\r\n\r\n- I tried setting different fonts for the **Command Prompt** window by clicking the icon in the top left of the window, selecting Defaults form the dropdown menu and then clicking the **Fonts** tab. Some worked (e.g. Consolas) and some didn&#39;t (e.g. MS Gothic). Note this comment from a SuperUser post: [In order for chcp 65001 to work, you must be using a TrueType font in the command prompt][3]. \r\n\r\n- Here&#39;s some sample output:\r\n[![RenderingUTF8][4]][4]\r\n\r\n- So it is working except that the characters in the text you provided are being rendered in reverse order. Does anyone know how to fix that, presumably by somehow specifying in the Java source that the text is for a right-to-left language?\r\n\r\n----------------------------------------------------------------------------\r\n**Update:**\r\n\r\nI amended the code so that the Persian text is rendered correctly in the Command Prompt window, though a side effect is that it no longer renders correctly when the code is run within the IDE. Here&#39;s the revised code:\r\n\r\n    public static void main(String[] args) {\r\n        try{\r\n            StringBuilder persianHello = new StringBuilder(&quot;&quot;);\r\n            PrintStream outStream = new PrintStream(System.out, true, &quot;UTF-8&quot;);\r\n            outStream.println(&quot;Hello world!&quot;);\r\n            outStream.println(persianHello); // Renders backwards in console, but correctly in the IDE.\r\n            byte directionality = Character.getDirectionality(persianHello.charAt(0));\r\n            if (directionality == Character.DIRECTIONALITY_RIGHT_TO_LEFT_ARABIC) {\r\n                outStream.println(&quot;Reversed string:&quot; + persianHello.reverse()); // Renders correctly in console, but backwards in the IDE...\r\n            }\r\n        } catch(UnsupportedEncodingException e){\r\n            System.out.println(&quot;Caught exception: &quot; + e.getMessage());\r\n        }\r\n    }\r\n\r\nAnd here&#39;s the **Command Prompt** output using that code:\r\n\r\n[![ReversedPersian][5]][5]\r\n\r\nThis fix is a hack; what&#39;s really needed is code that will behave correctly regardless of whether it is run from the IDE or the **Command Prompt**. \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/15488628/chinese-characters-displayed-as-questions-marks-in-mac-terminal/15516722#15516722\r\n  [2]: https://support.microsoft.com/en-us/help/3083806/why-does-some-text-display-with-square-boxes-in-some-apps-on-windows-1\r\n  [3]: https://superuser.com/questions/237081/whats-the-code-page-of-utf-8\r\n  [4]: https://i.stack.imgur.com/DlyDF.png\r\n  [5]: https://i.stack.imgur.com/Io1LH.png","title":"unicode output java windows cmd","body":"<p>I used Intellij IDEA/Java 1.8 on Windows 10 and tried a bunch of things in a somewhat disorganized manner, but have it almost working. First, here's the code:</p>\n\n<pre><code>import java.io.PrintStream;\nimport java.io.UnsupportedEncodingException;\n\npublic class Java901App {\n    public static void main(String[] args) {\n        //System.out.println(\"Hello world!\");\n        //System.out.println(\"\");\n        try{\n            PrintStream outStream = new PrintStream(System.out, true, \"UTF-8\");\n            outStream.println(\"Hello world!\");\n            outStream.println(\"\");\n        } catch(UnsupportedEncodingException e){\n            System.out.println(\"Caught exception: \" + e.getMessage());\n        }\n    }\n}\n</code></pre>\n\n<ul>\n<li><p>Note that the encoding for the PrintStream is set to UTF-8. See the selected answer for this post: <a href=\"https://stackoverflow.com/questions/15488628/chinese-characters-displayed-as-questions-marks-in-mac-terminal/15516722#15516722\">Chinese Characters Displayed as Questions Marks in Mac Terminal</a></p></li>\n<li><p><strike>I added <strong>Arabic Script Supplemental Fonts</strong> to Windows based on this article from Microsoft: <a href=\"https://support.microsoft.com/en-us/help/3083806/why-does-some-text-display-with-square-boxes-in-some-apps-on-windows-1\" rel=\"nofollow noreferrer\">Why does some text display with square boxes in some apps on Windows 10?</a> I'm not sure whether this was essential, but it definitely did no harm.</strike> I uninstalled <strong>Arabic Script Supplemental Fonts</strong> and nothing changed so this step was not necessary.</p></li>\n<li><p>Before running the app from the console I called <strong>chcp 65001</strong>. That was definitely essential even though the <strong>PrintStream</strong> was defined to use UTF-8, as shown in the screen shot below.</p></li>\n<li><p>I tried setting different fonts for the <strong>Command Prompt</strong> window by clicking the icon in the top left of the window, selecting Defaults form the dropdown menu and then clicking the <strong>Fonts</strong> tab. Some worked (e.g. Consolas) and some didn't (e.g. MS Gothic). Note this comment from a SuperUser post: <a href=\"https://superuser.com/questions/237081/whats-the-code-page-of-utf-8\">In order for chcp 65001 to work, you must be using a TrueType font in the command prompt</a>. </p></li>\n<li><p>Here's some sample output:\n<a href=\"https://i.stack.imgur.com/DlyDF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DlyDF.png\" alt=\"RenderingUTF8\"></a></p></li>\n<li><p>So it is working except that the characters in the text you provided are being rendered in reverse order. Does anyone know how to fix that, presumably by somehow specifying in the Java source that the text is for a right-to-left language?</p></li>\n</ul>\n\n<hr>\n\n<p><strong>Update:</strong></p>\n\n<p>I amended the code so that the Persian text is rendered correctly in the Command Prompt window, though a side effect is that it no longer renders correctly when the code is run within the IDE. Here's the revised code:</p>\n\n<pre><code>public static void main(String[] args) {\n    try{\n        StringBuilder persianHello = new StringBuilder(\"\");\n        PrintStream outStream = new PrintStream(System.out, true, \"UTF-8\");\n        outStream.println(\"Hello world!\");\n        outStream.println(persianHello); // Renders backwards in console, but correctly in the IDE.\n        byte directionality = Character.getDirectionality(persianHello.charAt(0));\n        if (directionality == Character.DIRECTIONALITY_RIGHT_TO_LEFT_ARABIC) {\n            outStream.println(\"Reversed string:\" + persianHello.reverse()); // Renders correctly in console, but backwards in the IDE...\n        }\n    } catch(UnsupportedEncodingException e){\n        System.out.println(\"Caught exception: \" + e.getMessage());\n    }\n}\n</code></pre>\n\n<p>And here's the <strong>Command Prompt</strong> output using that code:</p>\n\n<p><a href=\"https://i.stack.imgur.com/Io1LH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Io1LH.png\" alt=\"ReversedPersian\"></a></p>\n\n<p>This fix is a hack; what's really needed is code that will behave correctly regardless of whether it is run from the IDE or the <strong>Command Prompt</strong>. </p>\n"}],"owner":{"account_id":12127487,"reputation":394,"user_id":8855687,"display_name":"Ali Rahimi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2374,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":48417915,"answer_count":1,"score":2,"last_activity_date":1647520340,"creation_date":1516711249,"question_id":48402025,"body_markdown":"I&#39;m new to java so excuse me if this is commong knowldge but I have searched hard and couldn&#39;t find anything helpful, relevant or understandable(Which is odd considering I&#39;m a C developer!).\r\nMy question is &quot;How can I make java print a Unicode string in the windows shell ?&quot;. For simplicity say I have the hello world code in another language(ex: &quot;&quot;) and I want to display it in the shell (actually i want to get Unicode too, but first I have to figure this one out).\r\nThis works perfectly in Intellij IDEA without any extra lines of code!\r\n\r\n    System.out.println(&quot;&quot;);\r\n\r\nbut doesn&#39;t work in shell.\r\n\r\nI&#39;m seriously disappointed, I migrated from C just to get a better deal with Unicode! ","title":"unicode output java windows cmd","body":"<p>I'm new to java so excuse me if this is commong knowldge but I have searched hard and couldn't find anything helpful, relevant or understandable(Which is odd considering I'm a C developer!).\nMy question is \"How can I make java print a Unicode string in the windows shell ?\". For simplicity say I have the hello world code in another language(ex: \"\") and I want to display it in the shell (actually i want to get Unicode too, but first I have to figure this one out).\nThis works perfectly in Intellij IDEA without any extra lines of code!</p>\n\n<pre><code>System.out.println(\"\");\n</code></pre>\n\n<p>but doesn't work in shell.</p>\n\n<p>I'm seriously disappointed, I migrated from C just to get a better deal with Unicode! </p>\n"},{"tags":["javascript","java","eclipse","github","azure-devops"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1647519043,"post_id":71507757,"comment_id":126394108,"body_markdown":"I cannot reproduce this. What is the scope of your personal access token and has it not yet expired? https://stackoverflow.com/a/68802292/6505250","body":"I cannot reproduce this. What is the scope of your personal access token and has it not yet expired? <a href=\"https://stackoverflow.com/a/68802292/6505250\">stackoverflow.com/a/68802292/6505250</a>"},{"owner":{"display_name":"user17792921"},"score":0,"creation_date":1648533663,"post_id":71507757,"comment_id":126641063,"body_markdown":"Please take a look at River&#39;s answer and howlger&#39;s suggestions to see if they are helpful to you. If you think it is a solution, please mark it as a correct answer. Others who meet the same question will appreciate you much.","body":"Please take a look at River&#39;s answer and howlger&#39;s suggestions to see if they are helpful to you. If you think it is a solution, please mark it as a correct answer. Others who meet the same question will appreciate you much."}],"answers":[{"tags":[],"owner":{"account_id":20216377,"reputation":56,"user_id":14827052,"display_name":"River"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647520310,"creation_date":1647520310,"answer_id":71512334,"question_id":71507757,"body_markdown":"there are some aspects you can think;\r\n1. network is OK? try to invite the github address directly to make sure your network is OK.\r\n2. sure you get link to the code lab\r\n you have use \r\n`git init`  \r\n`git remote add origin ...(your code lab address)`\r\nor you get the code from `git clone ..address`","title":"git-receive-pack not permitted while pushing the code from eclipse to GitHub with access token","body":"<p>there are some aspects you can think;</p>\n<ol>\n<li>network is OK? try to invite the github address directly to make sure your network is OK.</li>\n<li>sure you get link to the code lab\nyou have use\n<code>git init</code><br />\n<code>git remote add origin ...(your code lab address)</code>\nor you get the code from <code>git clone ..address</code></li>\n</ol>\n"}],"owner":{"account_id":24199458,"reputation":1,"user_id":18157494,"display_name":"Nayakanti Ramadastagiri Reddy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":417,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647520310,"creation_date":1647497501,"question_id":71507757,"body_markdown":"I was facing issue even I have entered correct username &amp; password[enter image description here][1] while pushing the code from eclipse to git.\r\n\r\n\r\nI have generated access token instated of password then trying to add files to git through eclipse. Again I have facing below issue.[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/QeL5D.png\r\n  [2]: https://i.stack.imgur.com/wsyh1.png\r\nplease can anyone help me.\r\n\r\nThanks","title":"git-receive-pack not permitted while pushing the code from eclipse to GitHub with access token","body":"<p>I was facing issue even I have entered correct username &amp; password<a href=\"https://i.stack.imgur.com/QeL5D.png\" rel=\"nofollow noreferrer\">enter image description here</a> while pushing the code from eclipse to git.</p>\n<p>I have generated access token instated of password then trying to add files to git through eclipse. Again I have facing below issue.<a href=\"https://i.stack.imgur.com/wsyh1.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>please can anyone help me.</p>\n<p>Thanks</p>\n"},{"tags":["java","security","encryption"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1647489500,"post_id":71506801,"comment_id":126385906,"body_markdown":"No. You&#39;ve identified the weakness yourself. Use the vault as requested.","body":"No. You&#39;ve identified the weakness yourself. Use the vault as requested."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647489996,"creation_date":1647489996,"answer_id":71506981,"question_id":71506801,"body_markdown":"&gt; I was thinking that, because the Secret key and salt are stored in the code, it is possible that the code can be reverse compiled to get these values.\r\n\r\nCorrect. AES encrypting that password accomplishes almost nothing, and in fact makes things worse: It _looks_ encrypted (because it is), and one would assume the persons doing the encryption wouldn&#39;t be so incredibly dense as to leave the key right there next to the password file.\r\n\r\nExcept that it _is_ effectively right there (they&#39;d have to decompile the class files but that&#39;s not difficult and cannot be made difficult), so you&#39;ve created the wrong impression.\r\n\r\nYour security team needs to give you threat models to work with, they can&#39;t just say &quot;do not read password from file&quot;, because that is impossible. __Why__ can you not do that? What avenue of attack do they want to mitigate?\r\n\r\nExamples:\r\n\r\n* I do not want a syadmin casually `cat`-ing that file and thus smearing the password all over their screen and in their terminal app&#39;s history buffers for anybody to just shouldersurf.\r\n\r\nANSWER: Just base64 it. Yes, it&#39;s not crypto at all, but at least it makes no bones about it: Folks will see its base64 and assuming they aren&#39;t idiots know that means the password is right there. But it&#39;s protected against shouldersurfing and &#39;accidental&#39; recollection (where someone has seen it with their eyes and may therefore just remember it even if they don&#39;t intend to). Someone has to go out of their way to unbase64 it, and if the rules say you can&#39;t do that, at least you&#39;ve now forced an employee to outright break rules and potentially be committing a crime.\r\n\r\n* I&#39;m afraid someone will hack the server just barely enough to make it read files and echo them to the hacker.\r\n\r\nThen the base64 thing does nothing, nor does the AES plan (as they can also make your webserver `cat` its own jars and class files, probably). One solution can be that the script that starts the server reads the file (and is `root`-operated, running the server under a `webserver` account) - that script reads the password (thus allowing you to make that file owned by root and unreadable by the `webserver` account), passes it as argument or environment var. Of course, this requires that you consider the risk of leaking an env var as considerably lower than a text file. Which is certainly possible. Alternatively, the script can write the password in a plain text file readable by the `webserver` user, and the webserver will read it, then delete the file. This isn&#39;t common, but it shows the point of threat models: Once you know what you&#39;re fighting, you can come up with a plan and execute accordingly.\r\n\r\n* I want to use JBoss Password Vault\r\n\r\nThat is not sensible security policy: That is not a threat model. JPV doesn&#39;t solve any of these problems, to boot.\r\n\r\n* I want a hacker that gains full access to the box, including root and/or write-access for the `webserver` user to not be able to use that as a springboard to hack the DB.\r\n\r\n__This is impossible__, if the security team tells you this is the threat they need you to mitigate, you can tell them to go fetch Harry Potter&#39;s magic wand, because without it, you can&#39;t deliver. The hacker can simply rewrite your own classes/jars into sending the password to the hacker&#39;s servers, for example. This is strongly indicative your security team doesn&#39;t know how to do their job: They think of risks no matter how unlikely and demand it is &#39;protected against&#39; (not really a thing; you can reduce and mitigate, security isn&#39;t black and white) without considering threat models or tradeoffs.\r\n\r\nGet them educated, or decide to lie to them. You can&#39;t win when they act like this otherwise. Go over their heads maybe and get the boss involved.\r\n\r\n * I want a hacker that manages to obtain a clone of the entire disk to not be able to access the DB.\r\n\r\nDoable, but tricky. One easy way is that the server won&#39;t know the password either and will boot in an admin-only-mode, where the admin types the db password into a form which then unlocks the server to run properly. The server can then retain this password in memory only, thus foiling any disk copies. Except, you better turn of swap or store that on a different disk!\r\n\r\nIf you don&#39;t want that manual action, there&#39;s TPM chips (windows/linux systems generally) or T2 (apple). I don&#39;t know of any java-accessible tools that can do this, or DBs that can. These kinds of algorithms require a challenge/response model, you can&#39;t just &#39;store a password&#39; in these in a meaningful way.\r\n\r\nAsk the security team for a budget of 80k or so. If they balk, well, they&#39;ve learned something. Security is a game of tradeoffs.\r\n\r\n","title":"Advantages of using AES Encryption to encrypt and decrypt password vs storing password in JBOSS vault","body":"<blockquote>\n<p>I was thinking that, because the Secret key and salt are stored in the code, it is possible that the code can be reverse compiled to get these values.</p>\n</blockquote>\n<p>Correct. AES encrypting that password accomplishes almost nothing, and in fact makes things worse: It <em>looks</em> encrypted (because it is), and one would assume the persons doing the encryption wouldn't be so incredibly dense as to leave the key right there next to the password file.</p>\n<p>Except that it <em>is</em> effectively right there (they'd have to decompile the class files but that's not difficult and cannot be made difficult), so you've created the wrong impression.</p>\n<p>Your security team needs to give you threat models to work with, they can't just say &quot;do not read password from file&quot;, because that is impossible. <strong>Why</strong> can you not do that? What avenue of attack do they want to mitigate?</p>\n<p>Examples:</p>\n<ul>\n<li>I do not want a syadmin casually <code>cat</code>-ing that file and thus smearing the password all over their screen and in their terminal app's history buffers for anybody to just shouldersurf.</li>\n</ul>\n<p>ANSWER: Just base64 it. Yes, it's not crypto at all, but at least it makes no bones about it: Folks will see its base64 and assuming they aren't idiots know that means the password is right there. But it's protected against shouldersurfing and 'accidental' recollection (where someone has seen it with their eyes and may therefore just remember it even if they don't intend to). Someone has to go out of their way to unbase64 it, and if the rules say you can't do that, at least you've now forced an employee to outright break rules and potentially be committing a crime.</p>\n<ul>\n<li>I'm afraid someone will hack the server just barely enough to make it read files and echo them to the hacker.</li>\n</ul>\n<p>Then the base64 thing does nothing, nor does the AES plan (as they can also make your webserver <code>cat</code> its own jars and class files, probably). One solution can be that the script that starts the server reads the file (and is <code>root</code>-operated, running the server under a <code>webserver</code> account) - that script reads the password (thus allowing you to make that file owned by root and unreadable by the <code>webserver</code> account), passes it as argument or environment var. Of course, this requires that you consider the risk of leaking an env var as considerably lower than a text file. Which is certainly possible. Alternatively, the script can write the password in a plain text file readable by the <code>webserver</code> user, and the webserver will read it, then delete the file. This isn't common, but it shows the point of threat models: Once you know what you're fighting, you can come up with a plan and execute accordingly.</p>\n<ul>\n<li>I want to use JBoss Password Vault</li>\n</ul>\n<p>That is not sensible security policy: That is not a threat model. JPV doesn't solve any of these problems, to boot.</p>\n<ul>\n<li>I want a hacker that gains full access to the box, including root and/or write-access for the <code>webserver</code> user to not be able to use that as a springboard to hack the DB.</li>\n</ul>\n<p><strong>This is impossible</strong>, if the security team tells you this is the threat they need you to mitigate, you can tell them to go fetch Harry Potter's magic wand, because without it, you can't deliver. The hacker can simply rewrite your own classes/jars into sending the password to the hacker's servers, for example. This is strongly indicative your security team doesn't know how to do their job: They think of risks no matter how unlikely and demand it is 'protected against' (not really a thing; you can reduce and mitigate, security isn't black and white) without considering threat models or tradeoffs.</p>\n<p>Get them educated, or decide to lie to them. You can't win when they act like this otherwise. Go over their heads maybe and get the boss involved.</p>\n<ul>\n<li>I want a hacker that manages to obtain a clone of the entire disk to not be able to access the DB.</li>\n</ul>\n<p>Doable, but tricky. One easy way is that the server won't know the password either and will boot in an admin-only-mode, where the admin types the db password into a form which then unlocks the server to run properly. The server can then retain this password in memory only, thus foiling any disk copies. Except, you better turn of swap or store that on a different disk!</p>\n<p>If you don't want that manual action, there's TPM chips (windows/linux systems generally) or T2 (apple). I don't know of any java-accessible tools that can do this, or DBs that can. These kinds of algorithms require a challenge/response model, you can't just 'store a password' in these in a meaningful way.</p>\n<p>Ask the security team for a budget of 80k or so. If they balk, well, they've learned something. Security is a game of tradeoffs.</p>\n"}],"owner":{"account_id":38253,"reputation":23880,"user_id":109676,"accept_rate":80,"display_name":"Chad"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":294,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71506981,"answer_count":1,"score":1,"last_activity_date":1647519964,"creation_date":1647488072,"question_id":71506801,"body_markdown":"Our Security Department doesnt want us to have JOSS web configuration file (oracle-db.properties) that contain the plain text password of the database that we are connecting to. I was told that I should retrieve the password from a JBOSS Password vault but am having difficulty trying to figure out how to do this and have posted a question to try and find out. (see https://stackoverflow.com/questions/71500910/java-spring-how-to-retrieve-password-from-jboss-vault )\r\n\r\nI am considering whether storing the password encrypted password in the oracle-db.properties and using this AES-Encryption Algorithm shown here, https://howtodoinjava.com/java/java-security/aes-256-encryption-decryption/, to decrypt it (I use the encrypt procedure to determine the encrypted password to put in the oracle-db.properties file).  I was thinking that, because the Secret key and salt are stored in the code, it is possible that the code can be reverse compiled to get these values. I was wondering what the pros and cons of this method vs retrieving the password from the JBOSS Vault (https://access.redhat.com/documentation/en-us/red_hat_jboss_web_server/5.3/html/installation_guide/vault_for_jws_) . Would adding the AES 256 to our application generally be sufficient for most companies?\r\n","title":"Advantages of using AES Encryption to encrypt and decrypt password vs storing password in JBOSS vault","body":"<p>Our Security Department doesnt want us to have JOSS web configuration file (oracle-db.properties) that contain the plain text password of the database that we are connecting to. I was told that I should retrieve the password from a JBOSS Password vault but am having difficulty trying to figure out how to do this and have posted a question to try and find out. (see <a href=\"https://stackoverflow.com/questions/71500910/java-spring-how-to-retrieve-password-from-jboss-vault\">Java/Spring: How to retrieve password from JBOSS vault</a> )</p>\n<p>I am considering whether storing the password encrypted password in the oracle-db.properties and using this AES-Encryption Algorithm shown here, <a href=\"https://howtodoinjava.com/java/java-security/aes-256-encryption-decryption/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/java/java-security/aes-256-encryption-decryption/</a>, to decrypt it (I use the encrypt procedure to determine the encrypted password to put in the oracle-db.properties file).  I was thinking that, because the Secret key and salt are stored in the code, it is possible that the code can be reverse compiled to get these values. I was wondering what the pros and cons of this method vs retrieving the password from the JBOSS Vault (<a href=\"https://access.redhat.com/documentation/en-us/red_hat_jboss_web_server/5.3/html/installation_guide/vault_for_jws_\" rel=\"nofollow noreferrer\">https://access.redhat.com/documentation/en-us/red_hat_jboss_web_server/5.3/html/installation_guide/vault_for_jws_</a>) . Would adding the AES 256 to our application generally be sufficient for most companies?</p>\n"},{"tags":["java","geometry"],"comments":[{"owner":{"account_id":5854277,"reputation":560,"user_id":4612071,"display_name":"arcadeblast77"},"score":0,"creation_date":1568076131,"post_id":57862658,"comment_id":102151273,"body_markdown":"What does `roundup` do?","body":"What does <code>roundup</code> do?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1568076326,"post_id":57862658,"comment_id":102151301,"body_markdown":"You want an equality test `if (y == roundup(x/2))`","body":"You want an equality test <code>if (y == roundup(x&#47;2))</code>"},{"owner":{"account_id":1249294,"reputation":32209,"user_id":1210053,"accept_rate":93,"display_name":"Nico Schertler"},"score":0,"creation_date":1568076533,"post_id":57862658,"comment_id":102151329,"body_markdown":"Actually even `&lt;=` to also include the triangle area and not just its border.","body":"Actually even <code>&lt;=</code> to also include the triangle area and not just its border."},{"owner":{"account_id":14083808,"reputation":612,"user_id":10174059,"display_name":"K Man"},"score":0,"creation_date":1568077098,"post_id":57862658,"comment_id":102151415,"body_markdown":"Use the ceil method. As far as I know, roundup does not exist. Also, did you mean to use = or == in your second if statement?","body":"Use the ceil method. As far as I know, roundup does not exist. Also, did you mean to use = or == in your second if statement?"},{"owner":{"account_id":11256129,"reputation":5,"user_id":8255849,"display_name":"michelpro332"},"score":0,"creation_date":1568077902,"post_id":57862658,"comment_id":102151545,"body_markdown":"It was mainly the = that should be == but now they&#39;re telling me that the roundup is the problem so what other methods can I use?|","body":"It was mainly the = that should be == but now they&#39;re telling me that the roundup is the problem so what other methods can I use?|"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":0,"creation_date":1568082444,"post_id":57862658,"comment_id":102152317,"body_markdown":"What are the stipulations of the assignment.  Can you use the Polygon class?","body":"What are the stipulations of the assignment.  Can you use the Polygon class?"},{"owner":{"account_id":11256129,"reputation":5,"user_id":8255849,"display_name":"michelpro332"},"score":0,"creation_date":1568100572,"post_id":57862658,"comment_id":102157102,"body_markdown":"if anyone has an alternative code that might work, please wright it down.","body":"if anyone has an alternative code that might work, please wright it down."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1568104591,"post_id":57862658,"comment_id":102159059,"body_markdown":"Math, three vectors for triangle,sign of out-products. https://stackoverflow.com/questions/2049582/how-to-determine-if-a-point-is-in-a-2d-triangle","body":"Math, three vectors for triangle,sign of out-products. <a href=\"https://stackoverflow.com/questions/2049582/how-to-determine-if-a-point-is-in-a-2d-triangle\" title=\"how to determine if a point is in a 2d triangle\">stackoverflow.com/questions/2049582/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":12695174,"reputation":45172,"user_id":9223839,"display_name":"Joakim Danielson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1568104507,"creation_date":1568104507,"answer_id":57866943,"question_id":57862658,"body_markdown":"Basically you have a linear formula that is y = 100 - x/2 where x is between 0 and 200 so we can create simple method for that\r\n\r\n    static double calculateY(double x) {\r\n        return 100.0 - x / 2.0;\r\n    }\r\n \r\nand then compare x against the boundaries and y against the formula\r\n\r\n     if (x &lt; 0 || x &gt; 200 || y &lt; 0) {\r\n         System.out.print(&quot;The point isn&#39;t in the triangle&quot;);\r\n     } else if ( y &lt;= calculateY(x)) {\r\n         System.out.print(&quot;The point is in the the triangle&quot;);\r\n     } else\r\n         System.out.print(&quot;The point isn&#39;t in the triangle&quot;);\r\n     }","title":"How to check if a point is located inside a triangle using coordinates?","body":"<p>Basically you have a linear formula that is y = 100 - x/2 where x is between 0 and 200 so we can create simple method for that</p>\n\n<pre><code>static double calculateY(double x) {\n    return 100.0 - x / 2.0;\n}\n</code></pre>\n\n<p>and then compare x against the boundaries and y against the formula</p>\n\n<pre><code> if (x &lt; 0 || x &gt; 200 || y &lt; 0) {\n     System.out.print(\"The point isn't in the triangle\");\n } else if ( y &lt;= calculateY(x)) {\n     System.out.print(\"The point is in the the triangle\");\n } else\n     System.out.print(\"The point isn't in the triangle\");\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24582095,"reputation":1,"user_id":18487062,"display_name":"Leonard Tangi Ndipolifa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647519935,"creation_date":1647519935,"answer_id":71512253,"question_id":57862658,"body_markdown":"Consider a triangle with vertices at (0, 0), (1, 0), and (0, 1). Write a program that asks the user for x and y coordinates and then outputs whether the point is inside the triangle, on the border of the triangle or outside the triangle.","title":"How to check if a point is located inside a triangle using coordinates?","body":"<p>Consider a triangle with vertices at (0, 0), (1, 0), and (0, 1). Write a program that asks the user for x and y coordinates and then outputs whether the point is inside the triangle, on the border of the triangle or outside the triangle.</p>\n"}],"owner":{"account_id":11256129,"reputation":5,"user_id":8255849,"display_name":"michelpro332"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1301,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":57866943,"answer_count":2,"score":-1,"last_activity_date":1647519935,"creation_date":1568075989,"question_id":57862658,"body_markdown":"Suppose a right triangle is placed in a plane as\r\nshown below. The right-angle point is placed at (0, 0), and the other two points\r\nare placed at (200, 0), and (0, 100). Write a program that prompts the user to enter\r\na point with x- and y-coordinates and determines whether the point is inside the\r\ntriangle.\r\n\r\n\r\n        `String xInput, yInput;\r\n        double x, y;\r\n        xInput = JOptionPane.showInputDialog(&quot;Enter the x-coordinate of the point&quot;);\r\n        yInput = JOptionPane.showInputDialog(&quot;Enter the y-coordinate of the point&quot;);\r\n        x = Double.parseDouble(xInput);\r\n        y = Double.parseDouble(yInput);\r\n        if (x &lt;= 200 &amp;&amp; x &gt;= 0 &amp;&amp; y &lt;= 100 &amp;&amp; y &gt;= 0) {\r\n            if (y = roundup(x/2))\r\n                System.out.print(&quot;The point is in the the triangle&quot;);\r\n            else\r\n                System.out.print(&quot;The point isn&#39;t in the triangle&quot;);\r\n        }else\r\n            System.out.print(&quot;The point isn&#39;t in the triangle&quot;);`\r\n\r\n    The output is an error in the second if saying that a double can&#39;t be a boolean\r\n[This is the figure for clarifications][1]\r\n\r\n  [1]: https://i.stack.imgur.com/v0cQV.png","title":"How to check if a point is located inside a triangle using coordinates?","body":"<p>Suppose a right triangle is placed in a plane as\nshown below. The right-angle point is placed at (0, 0), and the other two points\nare placed at (200, 0), and (0, 100). Write a program that prompts the user to enter\na point with x- and y-coordinates and determines whether the point is inside the\ntriangle.</p>\n\n<pre><code>    `String xInput, yInput;\n    double x, y;\n    xInput = JOptionPane.showInputDialog(\"Enter the x-coordinate of the point\");\n    yInput = JOptionPane.showInputDialog(\"Enter the y-coordinate of the point\");\n    x = Double.parseDouble(xInput);\n    y = Double.parseDouble(yInput);\n    if (x &lt;= 200 &amp;&amp; x &gt;= 0 &amp;&amp; y &lt;= 100 &amp;&amp; y &gt;= 0) {\n        if (y = roundup(x/2))\n            System.out.print(\"The point is in the the triangle\");\n        else\n            System.out.print(\"The point isn't in the triangle\");\n    }else\n        System.out.print(\"The point isn't in the triangle\");`\n\nThe output is an error in the second if saying that a double can't be a boolean\n</code></pre>\n\n<p><a href=\"https://i.stack.imgur.com/v0cQV.png\" rel=\"nofollow noreferrer\">This is the figure for clarifications</a></p>\n"},{"tags":["java","spring","spring-boot","concatenation","spring-profiles"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1647518171,"post_id":71511817,"comment_id":126393803,"body_markdown":"`@Value(&quot;${game.api.url}&quot;) private static String KEY; ` should that be `@Value(&quot;${game.api.key}&quot;) private static String KEY;`? Aside from that, you cannot inject `static` fields.","body":"<code>@Value(&quot;${game.api.url}&quot;) private static String KEY; </code> should that be <code>@Value(&quot;${game.api.key}&quot;) private static String KEY;</code>? Aside from that, you cannot inject <code>static</code> fields."},{"owner":{"account_id":18424305,"reputation":41,"user_id":16617186,"display_name":"Baron"},"score":0,"creation_date":1647518219,"post_id":71511817,"comment_id":126393817,"body_markdown":"oh ur right i will fix it now","body":"oh ur right i will fix it now"}],"answers":[{"tags":[],"owner":{"account_id":1639144,"reputation":603,"user_id":1511940,"accept_rate":100,"display_name":"rilaby"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1647519568,"creation_date":1647519568,"answer_id":71512184,"question_id":71511817,"body_markdown":"First, spring profile has nothing to do w/ injecting values to fields or method/constructor arguments.\r\n[Spring profiles][1] allow configuring application context conditionally.\r\n\r\nHere is the list to check out:\r\n- Make sure to keep fields non-static.\r\n- Check if `PropertySourcesPlaceholderConfigurer` bean is registered in context\r\n- Or use `@PropertySource(&quot;classpath:application.properties&quot;)` to set a custom property file to resolve values from.\r\n\r\nHere is the [reference documentation][2] on the feature.\r\n\r\nI suggest learning and adopting type safe way to deal w/ [configuration properties][3] w/ `@ConfigurationProperties` annotation.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.profiles\r\n  [2]: https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-value-annotations\r\n  [3]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties.java-bean-binding","title":"concatenating profile messages in spring","body":"<p>First, spring profile has nothing to do w/ injecting values to fields or method/constructor arguments.\n<a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.profiles\" rel=\"nofollow noreferrer\">Spring profiles</a> allow configuring application context conditionally.</p>\n<p>Here is the list to check out:</p>\n<ul>\n<li>Make sure to keep fields non-static.</li>\n<li>Check if <code>PropertySourcesPlaceholderConfigurer</code> bean is registered in context</li>\n<li>Or use <code>@PropertySource(&quot;classpath:application.properties&quot;)</code> to set a custom property file to resolve values from.</li>\n</ul>\n<p>Here is the <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/core.html#beans-value-annotations\" rel=\"nofollow noreferrer\">reference documentation</a> on the feature.</p>\n<p>I suggest learning and adopting type safe way to deal w/ <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties.java-bean-binding\" rel=\"nofollow noreferrer\">configuration properties</a> w/ <code>@ConfigurationProperties</code> annotation.</p>\n"}],"owner":{"account_id":18424305,"reputation":41,"user_id":16617186,"display_name":"Baron"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":264,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71512184,"answer_count":1,"score":0,"last_activity_date":1647519568,"creation_date":1647517779,"question_id":71511817,"body_markdown":"So I want to concatenate two messages from profile in spring boot. \r\nThis is my current code (Which is not working because fields are null):\r\n\r\n    @Profile(&quot;fetchGame&quot;)\r\n    @Service\r\n    public class FetchGameApiService {\r\n\r\n    @Value(&quot;${game.api.url}&quot;)\r\n    private static String LINK;\r\n\r\n    @Value(&quot;${game.api.key}&quot;)\r\n    private static String KEY;\r\n\r\n    private static Integer gameId = 1;\r\n\r\n    private static final String URL = LINK + &quot;/&quot; + gameId + &quot;?key=&quot; + KEY;\r\n\r\n    //somelogic\r\n    }\r\n\r\nHere is my profile page:\r\n\r\n    game.api.url = https://api.rawg.io/api/games\r\n    game.api.key = 250b2de5e7734f638760ae2bad8bd29f\r\n    this_IS_The_Correct_Url = https://api.rawg.io/api/games/1?key=250b2de5e7734f638760ae2bad8bd29f\r\n\r\nNote That I have set active profile in app.properties as: spring.profiles.active = fetchGame\r\nMy Question is: How is the proper way to concatenate two strings into one from spring profiles? Without having a huge amount of code and make it simple and understandable. ","title":"concatenating profile messages in spring","body":"<p>So I want to concatenate two messages from profile in spring boot.\nThis is my current code (Which is not working because fields are null):</p>\n<pre><code>@Profile(&quot;fetchGame&quot;)\n@Service\npublic class FetchGameApiService {\n\n@Value(&quot;${game.api.url}&quot;)\nprivate static String LINK;\n\n@Value(&quot;${game.api.key}&quot;)\nprivate static String KEY;\n\nprivate static Integer gameId = 1;\n\nprivate static final String URL = LINK + &quot;/&quot; + gameId + &quot;?key=&quot; + KEY;\n\n//somelogic\n}\n</code></pre>\n<p>Here is my profile page:</p>\n<pre><code>game.api.url = https://api.rawg.io/api/games\ngame.api.key = 250b2de5e7734f638760ae2bad8bd29f\nthis_IS_The_Correct_Url = https://api.rawg.io/api/games/1?key=250b2de5e7734f638760ae2bad8bd29f\n</code></pre>\n<p>Note That I have set active profile in app.properties as: spring.profiles.active = fetchGame\nMy Question is: How is the proper way to concatenate two strings into one from spring profiles? Without having a huge amount of code and make it simple and understandable.</p>\n"},{"tags":["java","annotations"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1408725790,"post_id":25451806,"comment_id":39713095,"body_markdown":"I guess if you have a lot of annotations, they can take up to much space in a class file, so Java allows you to specify that a particular annotation isn&#39;t needed at run time, so it can be discarded.","body":"I guess if you have a lot of annotations, they can take up to much space in a class file, so Java allows you to specify that a particular annotation isn&#39;t needed at run time, so it can be discarded."},{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":2,"creation_date":1408726267,"post_id":25451806,"comment_id":39713340,"body_markdown":"`SOURCE` retention annotation can be used to disable warnings in IDEs like f.e `@SupressWarnings` while `CLASS` retention anntotation are useful if you deal with the byte-code (or byte-code manipulation framework like javassist) before the bytes are actually loaded into the VM via a classloader. The general intent is like in OOP to limit the scope of an annotation as much as possible - though in practice most annotations have retention `RUNTIME` as probably most programmers don`t care or want to use reflection to check if an annotation is available","body":"<code>SOURCE</code> retention annotation can be used to disable warnings in IDEs like f.e <code>@SupressWarnings</code> while <code>CLASS</code> retention anntotation are useful if you deal with the byte-code (or byte-code manipulation framework like javassist) before the bytes are actually loaded into the VM via a classloader. The general intent is like in OOP to limit the scope of an annotation as much as possible - though in practice most annotations have retention <code>RUNTIME</code> as probably most programmers don`t care or want to use reflection to check if an annotation is available"}],"answers":[{"tags":[],"owner":{"account_id":1469810,"reputation":1231,"user_id":1381650,"display_name":"Jp Vinjamoori"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1609838167,"creation_date":1408983385,"answer_id":25490145,"question_id":25451806,"body_markdown":"Retention policy SOURCE is to aid IDEs, compilers and possibly code/doc generators to take advantage of annotations. These annotation do not make up part of compiled class and are discarded by compiler so not available during runtime.\r\n\r\nFor example, annotation `java.lang.SuppressWarnings` tells compiler not to report certain warnings. \r\n\r\nAnnotations to generate documentation can be of retention policy SOURCE.\r\n\r\nTake a look at this post/answer https://stackoverflow.com/questions/8048941/annotation-source-retention-policy/8048965#8048965","title":"Annotation retention policy: what real benefit is there in declaring `SOURCE` or `CLASS`?","body":"<p>Retention policy SOURCE is to aid IDEs, compilers and possibly code/doc generators to take advantage of annotations. These annotation do not make up part of compiled class and are discarded by compiler so not available during runtime.</p>\n<p>For example, annotation <code>java.lang.SuppressWarnings</code> tells compiler not to report certain warnings.</p>\n<p>Annotations to generate documentation can be of retention policy SOURCE.</p>\n<p>Take a look at this post/answer <a href=\"https://stackoverflow.com/questions/8048941/annotation-source-retention-policy/8048965#8048965\">Annotation SOURCE Retention Policy</a></p>\n"},{"tags":[],"owner":{"account_id":3324714,"reputation":97,"user_id":2795041,"display_name":"user2795041"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1494493211,"creation_date":1494493211,"answer_id":43910948,"question_id":25451806,"body_markdown":"To actually answer the question: to reduce dependencies. If there would be no distinction between e.g. SOURCE and RUNTIME, the &quot;user&quot; of the classes would have to provide all the dependencies the annotations come from. So only because that annotation is used by the IDE (SOURCE), the jar would have to be provided during runtime - which is unnecessary. If you try to get annotations from a class, where no jar is provided that actually provides the annotation, you will get a class not found exception.\r\n","title":"Annotation retention policy: what real benefit is there in declaring `SOURCE` or `CLASS`?","body":"<p>To actually answer the question: to reduce dependencies. If there would be no distinction between e.g. SOURCE and RUNTIME, the \"user\" of the classes would have to provide all the dependencies the annotations come from. So only because that annotation is used by the IDE (SOURCE), the jar would have to be provided during runtime - which is unnecessary. If you try to get annotations from a class, where no jar is provided that actually provides the annotation, you will get a class not found exception.</p>\n"}],"owner":{"account_id":3762653,"reputation":5106,"user_id":3127111,"accept_rate":61,"display_name":"watery"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3508,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1647519518,"creation_date":1408725659,"question_id":25451806,"body_markdown":"I know there are three retention policies for Java annotations:\r\n\r\n&gt; CLASS: Annotations are to be recorded in the class file by the compiler but need not be retained by the VM at run time.\r\n&gt; \r\n&gt; RUNTIME: Annotations are to be recorded in the class file by the compiler and retained by the VM at run time, so they may be read reflectively.\r\n&gt; \r\n&gt; SOURCE: Annotations are to be discarded by the compiler.\r\n\r\nAnd although I understand their usage scenarios, I don&#39;t get why it is such an important thing to specify the retention policy that retention policies exist at all.\r\n\r\nI mean, why aren&#39;t all the annotations just kept at runtime? Do they generate so much bytecode / occupy so much memory that stripping those not declared as `RUNTIME` does make that much difference?","title":"Annotation retention policy: what real benefit is there in declaring `SOURCE` or `CLASS`?","body":"<p>I know there are three retention policies for Java annotations:</p>\n<blockquote>\n<p>CLASS: Annotations are to be recorded in the class file by the compiler but need not be retained by the VM at run time.</p>\n<p>RUNTIME: Annotations are to be recorded in the class file by the compiler and retained by the VM at run time, so they may be read reflectively.</p>\n<p>SOURCE: Annotations are to be discarded by the compiler.</p>\n</blockquote>\n<p>And although I understand their usage scenarios, I don't get why it is such an important thing to specify the retention policy that retention policies exist at all.</p>\n<p>I mean, why aren't all the annotations just kept at runtime? Do they generate so much bytecode / occupy so much memory that stripping those not declared as <code>RUNTIME</code> does make that much difference?</p>\n"},{"tags":["java","arraylist","time-complexity"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":0,"creation_date":1647518284,"post_id":71203084,"comment_id":126393833,"body_markdown":"Reopened since this question specifically asks for `resize`, which the [linked duplicate](https://stackoverflow.com/questions/6540511/time-complexity-for-java-arraylist) did not answer. It also did not attempt to explain anything at all, it merely quoted that add/remove/... runs in O(n) but OP seems to already know that and is specifically asking for the resize operation.","body":"Reopened since this question specifically asks for <code>resize</code>, which the <a href=\"https://stackoverflow.com/questions/6540511/time-complexity-for-java-arraylist\">linked duplicate</a> did not answer. It also did not attempt to explain anything at all, it merely quoted that add/remove/... runs in O(n) but OP seems to already know that and is specifically asking for the resize operation."}],"answers":[{"tags":[],"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1645438874,"creation_date":1645431820,"answer_id":71203164,"question_id":71203084,"body_markdown":"## Overview ##\r\n\r\nThe time complexity for resizing is `O(n)`.\r\n\r\nIt will create a new array with **double the capacity** and copy over each element from the original array into the new array. This requires a **full iteration**. Note that this can be optimized internally by the JVM though.\r\n\r\n----------\r\n## Amortized ##\r\n\r\nResizing is not needed _often_. In particular not for every `add` call. Hence, why it doubles the internal capacity. This gives room for a whole bunch of subsequent `add`-calls.\r\n\r\nMore formally, this yields the **amortized** complexity of `O(1)` for `add`, even though its regular complexity would be `O(n)` bound by the `resize`.\r\n\r\n----------\r\n## Details ##\r\n\r\nYou can see the source of this [here](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/ArrayList.java#L231-L241) (OpenJDK 17):\r\n\r\n```jaava\r\nprivate Object[] grow(int minCapacity) {\r\n    int oldCapacity = elementData.length;\r\n    if (/* ... */) {\r\n        int newCapacity = ArraysSupport.newLength(oldCapacity,\r\n                minCapacity - oldCapacity, /* minimum growth */\r\n                oldCapacity &gt;&gt; 1           /* preferred growth */);\r\n        return elementData = Arrays.copyOf(elementData, newCapacity);\r\n    } else {\r\n        // ...\r\n    }\r\n}\r\n```\r\n\r\nThe **preferred growth** is `oldCapacity &gt;&gt; 1`, i.e. double the capacity. The actual part that costs you performance and gives you the `O(n)` is `Arrays.copyOf(...)`.\r\n\r\nThis method is called primarily from [this helper](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/ArrayList.java#L452-L457):\r\n\r\n```java\r\nprivate void add(E e, Object[] elementData, int s) {\r\n    if (s == elementData.length)\r\n        elementData = grow();\r\n    elementData[s] = e;\r\n    size = s + 1;\r\n}\r\n```\r\nThat is used by the main entry point [`add(E)`](https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/ArrayList.java#L465-L469):\r\n\r\n```java\r\npublic boolean add(E e) {\r\n    modCount++;\r\n    add(e, elementData, size);\r\n    return true;\r\n}\r\n```","title":"time complexity for arraylist resizing java","body":"<h2>Overview</h2>\n<p>The time complexity for resizing is <code>O(n)</code>.</p>\n<p>It will create a new array with <strong>double the capacity</strong> and copy over each element from the original array into the new array. This requires a <strong>full iteration</strong>. Note that this can be optimized internally by the JVM though.</p>\n<hr />\n<h2>Amortized</h2>\n<p>Resizing is not needed <em>often</em>. In particular not for every <code>add</code> call. Hence, why it doubles the internal capacity. This gives room for a whole bunch of subsequent <code>add</code>-calls.</p>\n<p>More formally, this yields the <strong>amortized</strong> complexity of <code>O(1)</code> for <code>add</code>, even though its regular complexity would be <code>O(n)</code> bound by the <code>resize</code>.</p>\n<hr />\n<h2>Details</h2>\n<p>You can see the source of this <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/ArrayList.java#L231-L241\" rel=\"nofollow noreferrer\">here</a> (OpenJDK 17):</p>\n<pre><code>private Object[] grow(int minCapacity) {\n    int oldCapacity = elementData.length;\n    if (/* ... */) {\n        int newCapacity = ArraysSupport.newLength(oldCapacity,\n                minCapacity - oldCapacity, /* minimum growth */\n                oldCapacity &gt;&gt; 1           /* preferred growth */);\n        return elementData = Arrays.copyOf(elementData, newCapacity);\n    } else {\n        // ...\n    }\n}\n</code></pre>\n<p>The <strong>preferred growth</strong> is <code>oldCapacity &gt;&gt; 1</code>, i.e. double the capacity. The actual part that costs you performance and gives you the <code>O(n)</code> is <code>Arrays.copyOf(...)</code>.</p>\n<p>This method is called primarily from <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/ArrayList.java#L452-L457\" rel=\"nofollow noreferrer\">this helper</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void add(E e, Object[] elementData, int s) {\n    if (s == elementData.length)\n        elementData = grow();\n    elementData[s] = e;\n    size = s + 1;\n}\n</code></pre>\n<p>That is used by the main entry point <a href=\"https://github.com/openjdk/jdk/blob/master/src/java.base/share/classes/java/util/ArrayList.java#L465-L469\" rel=\"nofollow noreferrer\"><code>add(E)</code></a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public boolean add(E e) {\n    modCount++;\n    add(e, elementData, size);\n    return true;\n}\n</code></pre>\n"}],"owner":{"account_id":24326836,"reputation":23,"user_id":18266277,"display_name":"Ashley"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":803,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71203164,"answer_count":1,"score":2,"last_activity_date":1647518866,"creation_date":1645431380,"question_id":71203084,"body_markdown":"I know that the default size for arraylist is 10, and that the arraylist automatically expands for additional items added.\r\n\r\nWhat is the time complexity for the **resizing/expansion**?\r\n\r\nis it similar to a normal array, where the items have to be copied over into the new larger array for O(n) time?","title":"time complexity for arraylist resizing java","body":"<p>I know that the default size for arraylist is 10, and that the arraylist automatically expands for additional items added.</p>\n<p>What is the time complexity for the <strong>resizing/expansion</strong>?</p>\n<p>is it similar to a normal array, where the items have to be copied over into the new larger array for O(n) time?</p>\n"},{"tags":["java","apache-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634740192,"creation_date":1634740192,"answer_id":69647934,"question_id":69647507,"body_markdown":"`kafka-consumer-groups.sh --describe &lt;&lt;group.id&gt;&gt;` will show a list of all consumers in the group with their IDs, topics part of the group, and network addresses of the consumers. You can then `grep` by the `client.id`\r\n\r\nOut of the box, there is no way to use the `client.id`  alone to discover consumers.\r\n","title":"Get list of topics associated with consumer group kafka","body":"<p><code>kafka-consumer-groups.sh --describe &lt;&lt;group.id&gt;&gt;</code> will show a list of all consumers in the group with their IDs, topics part of the group, and network addresses of the consumers. You can then <code>grep</code> by the <code>client.id</code></p>\n<p>Out of the box, there is no way to use the <code>client.id</code>  alone to discover consumers.</p>\n"},{"tags":[],"owner":{"account_id":3456749,"reputation":381,"user_id":2895095,"display_name":"YamYamm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634751419,"creation_date":1634751419,"answer_id":69650663,"question_id":69647507,"body_markdown":"You can use admin client to get information about consumer groups with listConsumerGroups function(or any other information about kafka). All utility scripts use adminclient under the hood.","title":"Get list of topics associated with consumer group kafka","body":"<p>You can use admin client to get information about consumer groups with listConsumerGroups function(or any other information about kafka). All utility scripts use adminclient under the hood.</p>\n"},{"tags":[],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1634761092,"creation_date":1634761092,"answer_id":69652525,"question_id":69647507,"body_markdown":"From [AdminClient][1] you can use `listConsumerGroupOffsets` to list the consumer group offsets of topics\r\n\r\n&gt;List the consumer group offsets available in the cluster with the default options. This is a convenience method for #listConsumerGroupOffsets(String, ListConsumerGroupOffsetsOptions) with default options.\r\n\r\n    ListConsumerGroupOffsetsResult list = client.listConsumerGroupOffsets(&quot;group&quot;);\r\n\r\nAnd then you can get all topic and partitions with offset\r\n\r\n    KafkaFuture&lt;Map&lt;TopicPartition,OffsetAndMetadata&gt;&gt; topics = list.partitionsToOffsetAndMetadata()\r\n\r\n  [1]: https://kafka.apache.org/20/javadoc/org/apache/kafka/clients/admin/AdminClient.html#listConsumerGroupOffsets-java.lang.String-","title":"Get list of topics associated with consumer group kafka","body":"<p>From <a href=\"https://kafka.apache.org/20/javadoc/org/apache/kafka/clients/admin/AdminClient.html#listConsumerGroupOffsets-java.lang.String-\" rel=\"nofollow noreferrer\">AdminClient</a> you can use <code>listConsumerGroupOffsets</code> to list the consumer group offsets of topics</p>\n<blockquote>\n<p>List the consumer group offsets available in the cluster with the default options. This is a convenience method for #listConsumerGroupOffsets(String, ListConsumerGroupOffsetsOptions) with default options.</p>\n</blockquote>\n<pre><code>ListConsumerGroupOffsetsResult list = client.listConsumerGroupOffsets(&quot;group&quot;);\n</code></pre>\n<p>And then you can get all topic and partitions with offset</p>\n<pre><code>KafkaFuture&lt;Map&lt;TopicPartition,OffsetAndMetadata&gt;&gt; topics = list.partitionsToOffsetAndMetadata()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2076134,"reputation":1006,"user_id":1849430,"accept_rate":75,"display_name":"Eddie Jamsession"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647518714,"creation_date":1647517538,"answer_id":71511780,"question_id":69647507,"body_markdown":"    final List&lt;String&gt; groupTopics = \r\n            adminClient.describeConsumerGroups(CollectionUtil.listOf(groupId))\r\n            .all().get().get(groupId).members() //get group members (consumers info)\r\n            .stream().flatMap(member -&gt;\r\n                    member.assignment() // get active assignment for the specific member\r\n                            .topicPartitions()\r\n                            .stream()\r\n                            .map(TopicPartition::topic)\r\n                            .collect(Collectors.toSet()) // get unique topics per consumer\r\n                            .stream())\r\n            .collect(Collectors.toSet()); // get unique topics per group\r\n    \r\n    log.info(&quot;Group {} has active topics: {}&quot;, groupId, groupTopics);","title":"Get list of topics associated with consumer group kafka","body":"<pre><code>final List&lt;String&gt; groupTopics = \n        adminClient.describeConsumerGroups(CollectionUtil.listOf(groupId))\n        .all().get().get(groupId).members() //get group members (consumers info)\n        .stream().flatMap(member -&gt;\n                member.assignment() // get active assignment for the specific member\n                        .topicPartitions()\n                        .stream()\n                        .map(TopicPartition::topic)\n                        .collect(Collectors.toSet()) // get unique topics per consumer\n                        .stream())\n        .collect(Collectors.toSet()); // get unique topics per group\n\nlog.info(&quot;Group {} has active topics: {}&quot;, groupId, groupTopics);\n</code></pre>\n"}],"owner":{"account_id":9615182,"reputation":235,"user_id":7138221,"display_name":"VKR"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1632,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1647518714,"creation_date":1634738653,"question_id":69647507,"body_markdown":" I have 20 topics, among 20 topics, 5 topics consumed by consumer1 and 15 consumed by consumer2. Is there any way to get list of topics associated with each consumer. If I pass consumer Id as a parameter/request, I want display all topics associated with that consumer.\r\n\r\n  looking for a Java or restful service program.","title":"Get list of topics associated with consumer group kafka","body":"<p>I have 20 topics, among 20 topics, 5 topics consumed by consumer1 and 15 consumed by consumer2. Is there any way to get list of topics associated with each consumer. If I pass consumer Id as a parameter/request, I want display all topics associated with that consumer.</p>\n<p>looking for a Java or restful service program.</p>\n"},{"tags":["java","clojure","leiningen"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1647519846,"post_id":71511956,"comment_id":126394362,"body_markdown":"Looks like a versioning thing. You need to ensure you have the right version of jansi for your version of jline. Looks like the latest jline is jline3, which uses jansi 2.4.0","body":"Looks like a versioning thing. You need to ensure you have the right version of jansi for your version of jline. Looks like the latest jline is jline3, which uses jansi 2.4.0"},{"owner":{"account_id":18010296,"reputation":807,"user_id":13090146,"display_name":"dorab"},"score":2,"creation_date":1647533734,"post_id":71511956,"comment_id":126400389,"body_markdown":"Can you show your `project.clj` contents? And also the exact `lein` command you typed? That will help identify the issue.","body":"Can you show your <code>project.clj</code> contents? And also the exact <code>lein</code> command you typed? That will help identify the issue."},{"owner":{"account_id":5067396,"reputation":767,"user_id":5519328,"display_name":"Petri Ryh&#228;nen"},"score":0,"creation_date":1677249764,"post_id":71511956,"comment_id":133306133,"body_markdown":"For me this error was caused by lein plugin [lein-ancient &quot;1.0.0-RC4-SNAPSHOT&quot;]","body":"For me this error was caused by lein plugin [lein-ancient &quot;1.0.0-RC4-SNAPSHOT&quot;]"}],"owner":{"account_id":24589195,"reputation":11,"user_id":18493334,"display_name":"So Leo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":655,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647518488,"creation_date":1647518488,"question_id":71511956,"body_markdown":"I am trying to start off my local lein server with repl, but the following errors pop up.\r\n\r\n```\r\nREPL-y 0.5.1, nREPL 0.8.3\r\nClojure 1.10.3\r\nOpenJDK 64-Bit Server VM 17.0.2+8\r\n    Docs: (doc function-name-here)\r\n          (find-doc &quot;part-of-name-here&quot;)\r\n  Source: (source function-name-here)\r\n Javadoc: (javadoc java-object-or-class-here)\r\n    Exit: Control+D or (exit) or (quit)\r\n Results: Stored in vars *1, *2, *3, an exception in *e\r\n\r\nNoSuchMethodError &#39;java.io.OutputStream org.fusesource.jansi.AnsiConsole.wrapOutputStream(java.io.OutputStream)&#39;\r\n        jline.AnsiWindowsTerminal.detectAnsiSupport (AnsiWindowsTerminal.java:57)\r\n        jline.AnsiWindowsTerminal.&lt;init&gt; (AnsiWindowsTerminal.java:27)\r\n        jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0 (:-2)\r\n        jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance (:-1)\r\n        jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance (:-1)\r\n        java.lang.reflect.Constructor.newInstanceWithCaller (:-1)\r\n        java.lang.reflect.ReflectAccess.newInstance (:-1)\r\n        jdk.internal.reflect.ReflectionFactory.newInstance (:-1)\r\n        java.lang.Class.newInstance (:-1)\r\n        jline.TerminalFactory.getFlavor (TerminalFactory.java:205)\r\n        jline.TerminalFactory.create (TerminalFactory.java:96)\r\n        jline.TerminalFactory.get (TerminalFactory.java:180)\r\nBye for now!\r\n```\r\n\r\nAnyone have idea on the cause and solution.","title":"Unable to run &#39;lein repl&#39; with error NoSuchMethodError &#39;java.io.OutputStream org.fusesource.jansi.AnsiConsole.wrapOutputStream(java.io.OutputStream)&#39;","body":"<p>I am trying to start off my local lein server with repl, but the following errors pop up.</p>\n<pre><code>REPL-y 0.5.1, nREPL 0.8.3\nClojure 1.10.3\nOpenJDK 64-Bit Server VM 17.0.2+8\n    Docs: (doc function-name-here)\n          (find-doc &quot;part-of-name-here&quot;)\n  Source: (source function-name-here)\n Javadoc: (javadoc java-object-or-class-here)\n    Exit: Control+D or (exit) or (quit)\n Results: Stored in vars *1, *2, *3, an exception in *e\n\nNoSuchMethodError 'java.io.OutputStream org.fusesource.jansi.AnsiConsole.wrapOutputStream(java.io.OutputStream)'\n        jline.AnsiWindowsTerminal.detectAnsiSupport (AnsiWindowsTerminal.java:57)\n        jline.AnsiWindowsTerminal.&lt;init&gt; (AnsiWindowsTerminal.java:27)\n        jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0 (:-2)\n        jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance (:-1)\n        jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance (:-1)\n        java.lang.reflect.Constructor.newInstanceWithCaller (:-1)\n        java.lang.reflect.ReflectAccess.newInstance (:-1)\n        jdk.internal.reflect.ReflectionFactory.newInstance (:-1)\n        java.lang.Class.newInstance (:-1)\n        jline.TerminalFactory.getFlavor (TerminalFactory.java:205)\n        jline.TerminalFactory.create (TerminalFactory.java:96)\n        jline.TerminalFactory.get (TerminalFactory.java:180)\nBye for now!\n</code></pre>\n<p>Anyone have idea on the cause and solution.</p>\n"},{"tags":["java","linux","oracle"],"comments":[{"owner":{"account_id":17226818,"reputation":159,"user_id":12544214,"display_name":"P.Y.C."},"score":0,"creation_date":1647480843,"post_id":71505986,"comment_id":126384566,"body_markdown":"Is it possible to reinstall necessary packages? They should give an option to update","body":"Is it possible to reinstall necessary packages? They should give an option to update"}],"answers":[{"tags":[],"owner":{"account_id":17782616,"reputation":6789,"user_id":12913491,"display_name":"pmdba"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647518363,"creation_date":1647480934,"answer_id":71506111,"question_id":71505986,"body_markdown":"Most of the results you listed appear to be false positives:\r\n\r\n    Vulnerable software installed: Oracle JRE 1.8.0.201 (/app/stage/Components/oracle.jdk/1.8.0.201.0/1/DataFiles/Expanded/filegroup2/jre/lib/rt.jar)\r\n    Vulnerable software installed: Oracle JRE 1.8.0.201 (/var/tmp/OraInstall2022-01-12_02-29-33PM/jdk/jre/lib/rt.jar)\r\n    Vulnerable software installed: Oracle JRE 1.8.0.201 (/tmp/OraInstall2022-01-12_02-29-33PM/jdk/jre/lib/rt.jar)\r\n    Vulnerable software installed: Oracle JRE 1.8.0.201 (/tmp/OraInstall2022-01-12_02-00-46PM/jdk/jre/lib/rt.jar)\r\n\r\nThese all appear to be related to the installation process, and not actual running code. You can most likely delete anything in /tmp and /var/tmp, and should consider archiving (zip and compress) /app/stage content if you want to avoid these report results.\r\n\r\nThe last JRE is in your actual ORACLE_HOME directory; this is the only one that really needs to be patched:\r\n\r\n    Vulnerable software installed: Oracle JRE 1.8.0.201 (/app/oracle/product/19.3.0.0/client_1/jdk/jre/lib/rt.jar)\r\n\r\nEmbedded Java in ORACLE_HOME can be patched. I wrote a blog post about it a couple of years ago. See here: https://pmdba.wordpress.com/2018/08/20/patching-the-java-jdk-in-oracle_home/. \r\n\r\nEssentially you will need to:\r\n1. Identify which JRE version you have (Java 8 in your case)\r\n2. Get the latest Java update from Oracle Support (a current support contract and customer service identifier is required) and \r\n3. Replace the old one with the new one while the database is stopped (rename old JRE directory, unzip new one into the original location, remove the old one). \r\n\r\nSee the referenced MOS Doc IDs in the blog for details.\r\n\r\n&gt; You can confirm which version of the Java JDK your Oracle Home is using with the following command:\r\n\r\n     $ORACLE_HOME/jdk/bin/java -version \r\n\r\n&gt; Once your Oracle Home directory is\r\n&gt; confirmed as using JDK version 7 or 8, you can use MOS Doc ID\r\n&gt; 2584628.1 to identify the latest JDK updates for each major release available for download from My Oracle Support. Note that this document\r\n&gt; also lists a one-time Perl patch for install on all 11g, 12c, and 18c\r\n&gt; releases.","title":"How to update JAVA version on Linux servers?","body":"<p>Most of the results you listed appear to be false positives:</p>\n<pre><code>Vulnerable software installed: Oracle JRE 1.8.0.201 (/app/stage/Components/oracle.jdk/1.8.0.201.0/1/DataFiles/Expanded/filegroup2/jre/lib/rt.jar)\nVulnerable software installed: Oracle JRE 1.8.0.201 (/var/tmp/OraInstall2022-01-12_02-29-33PM/jdk/jre/lib/rt.jar)\nVulnerable software installed: Oracle JRE 1.8.0.201 (/tmp/OraInstall2022-01-12_02-29-33PM/jdk/jre/lib/rt.jar)\nVulnerable software installed: Oracle JRE 1.8.0.201 (/tmp/OraInstall2022-01-12_02-00-46PM/jdk/jre/lib/rt.jar)\n</code></pre>\n<p>These all appear to be related to the installation process, and not actual running code. You can most likely delete anything in /tmp and /var/tmp, and should consider archiving (zip and compress) /app/stage content if you want to avoid these report results.</p>\n<p>The last JRE is in your actual ORACLE_HOME directory; this is the only one that really needs to be patched:</p>\n<pre><code>Vulnerable software installed: Oracle JRE 1.8.0.201 (/app/oracle/product/19.3.0.0/client_1/jdk/jre/lib/rt.jar)\n</code></pre>\n<p>Embedded Java in ORACLE_HOME can be patched. I wrote a blog post about it a couple of years ago. See here: <a href=\"https://pmdba.wordpress.com/2018/08/20/patching-the-java-jdk-in-oracle_home/\" rel=\"nofollow noreferrer\">https://pmdba.wordpress.com/2018/08/20/patching-the-java-jdk-in-oracle_home/</a>.</p>\n<p>Essentially you will need to:</p>\n<ol>\n<li>Identify which JRE version you have (Java 8 in your case)</li>\n<li>Get the latest Java update from Oracle Support (a current support contract and customer service identifier is required) and</li>\n<li>Replace the old one with the new one while the database is stopped (rename old JRE directory, unzip new one into the original location, remove the old one).</li>\n</ol>\n<p>See the referenced MOS Doc IDs in the blog for details.</p>\n<blockquote>\n<p>You can confirm which version of the Java JDK your Oracle Home is using with the following command:</p>\n</blockquote>\n<pre><code> $ORACLE_HOME/jdk/bin/java -version \n</code></pre>\n<blockquote>\n<p>Once your Oracle Home directory is\nconfirmed as using JDK version 7 or 8, you can use MOS Doc ID\n2584628.1 to identify the latest JDK updates for each major release available for download from My Oracle Support. Note that this document\nalso lists a one-time Perl patch for install on all 11g, 12c, and 18c\nreleases.</p>\n</blockquote>\n"}],"owner":{"account_id":23658506,"reputation":11,"user_id":17686399,"display_name":"MbaMgh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2716,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647518363,"creation_date":1647479655,"question_id":71505986,"body_markdown":"I have a set of Linux servers on which I launch a vulnerability scanning. \r\nThe vulnerability rapport shows a huge number of Java Patching types. \r\n\r\nFor example for one server, the rapport shows me : \r\n``` Vulnerable software installed: Oracle JRE 1.8.0.201 (/app/oracle/product/19.3.0.0/client_1/jdk/jre/lib/rt.jar)\r\nVulnerable software installed: Oracle JRE 1.8.0.201 (/app/oracle/product/19.3.0.0/client_1/jdk/jre/lib/rt.jar)\r\nVulnerable software installed: Oracle JRE 1.8.0.201 (/app/stage/Components/oracle.jdk/1.8.0.201.0/1/DataFiles/Expanded/filegroup2/jre/lib/rt.jar)\r\nVulnerable software installed: Oracle JRE 1.8.0.201 (/var/tmp/OraInstall2022-01-12_02-29-33PM/jdk/jre/lib/rt.jar)\r\nVulnerable software installed: Oracle JRE 1.8.0.201 (/tmp/OraInstall2022-01-12_02-29-33PM/jdk/jre/lib/rt.jar)\r\nVulnerable software installed: Oracle JRE 1.8.0.201 (/tmp/OraInstall2022-01-12_02-00-46PM/jdk/jre/lib/rt.jar)\r\n```\r\nCould you please provide me with detailed steps on how to update java on this server as it&#39;s running on a production environment and I have to carefully update the version?\r\n\r\nThank you! \r\n\r\n   ","title":"How to update JAVA version on Linux servers?","body":"<p>I have a set of Linux servers on which I launch a vulnerability scanning.\nThe vulnerability rapport shows a huge number of Java Patching types.</p>\n<p>For example for one server, the rapport shows me :</p>\n<pre><code>Vulnerable software installed: Oracle JRE 1.8.0.201 (/app/oracle/product/19.3.0.0/client_1/jdk/jre/lib/rt.jar)\nVulnerable software installed: Oracle JRE 1.8.0.201 (/app/stage/Components/oracle.jdk/1.8.0.201.0/1/DataFiles/Expanded/filegroup2/jre/lib/rt.jar)\nVulnerable software installed: Oracle JRE 1.8.0.201 (/var/tmp/OraInstall2022-01-12_02-29-33PM/jdk/jre/lib/rt.jar)\nVulnerable software installed: Oracle JRE 1.8.0.201 (/tmp/OraInstall2022-01-12_02-29-33PM/jdk/jre/lib/rt.jar)\nVulnerable software installed: Oracle JRE 1.8.0.201 (/tmp/OraInstall2022-01-12_02-00-46PM/jdk/jre/lib/rt.jar)\n</code></pre>\n<p>Could you please provide me with detailed steps on how to update java on this server as it's running on a production environment and I have to carefully update the version?</p>\n<p>Thank you!</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1647514309,"post_id":71511038,"comment_id":126392583,"body_markdown":"Probably you should do that within the database?","body":"Probably you should do that within the database?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":1,"creation_date":1647514626,"post_id":71511038,"comment_id":126392659,"body_markdown":"Beyond that, I dont get your exact requirements. What is the exact data structure you are creating there, as in what does `// write total here` mean? A first approach could be for example to NOT loop over the persons?! Instead, have a MAP &lt; String, Integer &gt; where the key is the name found in the log. And the value is the counter. So you just count all relevant days for all users, and then you use that information (later on). Or you go for a more complex data structure that allows you to increase counters for different days.","body":"Beyond that, I dont get your exact requirements. What is the exact data structure you are creating there, as in what does <code>&#47;&#47; write total here</code> mean? A first approach could be for example to NOT loop over the persons?! Instead, have a MAP &lt; String, Integer &gt; where the key is the name found in the log. And the value is the counter. So you just count all relevant days for all users, and then you use that information (later on). Or you go for a more complex data structure that allows you to increase counters for different days."},{"owner":{"account_id":2726009,"reputation":503,"user_id":8510226,"display_name":"Pranay Nailwal"},"score":0,"creation_date":1647515123,"post_id":71511038,"comment_id":126392828,"body_markdown":"you can use multi threading. you can create two executers for two looping conditions (days loop and getUserLog loop).","body":"you can use multi threading. you can create two executers for two looping conditions (days loop and getUserLog loop)."},{"owner":{"account_id":9508748,"reputation":819,"user_id":7067321,"accept_rate":45,"display_name":"smzapp"},"score":0,"creation_date":1647515242,"post_id":71511038,"comment_id":126392864,"body_markdown":"@GhostCat  Which part? Will it be faster to retrieve data from the database while iterating for at least 45k? `1500(persons) * 30(days)=45k`","body":"@GhostCat  Which part? Will it be faster to retrieve data from the database while iterating for at least 45k? <code>1500(persons) * 30(days)=45k</code>"},{"owner":{"account_id":9508748,"reputation":819,"user_id":7067321,"accept_rate":45,"display_name":"smzapp"},"score":0,"creation_date":1647515732,"post_id":71511038,"comment_id":126393009,"body_markdown":"@GhostCat `A first approach could be for example to NOT loop over the persons?!` This is good but I have to get persons from the database on ORDER basis and not on Log basis. If you have better code, pls add your answer as it would be helpful. \nBTW, I edited my question. thanks","body":"@GhostCat <code>A first approach could be for example to NOT loop over the persons?!</code> This is good but I have to get persons from the database on ORDER basis and not on Log basis. If you have better code, pls add your answer as it would be helpful.  BTW, I edited my question. thanks"}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647518216,"creation_date":1647517183,"answer_id":71511701,"question_id":71511038,"body_markdown":"If I get it right, all the information you want seems to be in the logs or if not it defaults to zero. Therefor I would do something like:\r\n\r\n    Map&lt;String&lt;Map&lt;LocalDate,Long&gt;&gt; occurrenceByNameAndDate =  // Map&lt;Username&lt;Map&lt;Date,Count&gt;&gt;\r\n\r\n        userLogs.strream().collect(Collectors.groupingBy(UserLog::personName,\r\n                                   Collectors.groupingBy(UserLog::dateAdded, \r\n\t\t\t\t\t\t\t\t\t\tCollectors.counting())));\r\n\r\nand use the above map some how like:\r\n\r\n    personList.forEach(person -&gt; dateRange.forEach(day -&gt; {\r\n                 long count = occurrenceByNameAndDate.getOrDefault(person.Name,Collections.EMPTY_MAP).getOrDefault(day,0);\r\n                 writeToExcel(person,day,count);\r\n               }));\r\n\r\nOr do it on the DB side\r\n\r\n    SELECT personName, dateAdded,COUNT(*) \r\n    FROM UserLog \r\n    WHERE dateAdded between(...)\r\n    GROUP BY personName,dateAdded\r\n","title":"Optimize nested loop in java spring boot","body":"<p>If I get it right, all the information you want seems to be in the logs or if not it defaults to zero. Therefor I would do something like:</p>\n<pre><code>Map&lt;String&lt;Map&lt;LocalDate,Long&gt;&gt; occurrenceByNameAndDate =  // Map&lt;Username&lt;Map&lt;Date,Count&gt;&gt;\n\n    userLogs.strream().collect(Collectors.groupingBy(UserLog::personName,\n                               Collectors.groupingBy(UserLog::dateAdded, \n                                    Collectors.counting())));\n</code></pre>\n<p>and use the above map some how like:</p>\n<pre><code>personList.forEach(person -&gt; dateRange.forEach(day -&gt; {\n             long count = occurrenceByNameAndDate.getOrDefault(person.Name,Collections.EMPTY_MAP).getOrDefault(day,0);\n             writeToExcel(person,day,count);\n           }));\n</code></pre>\n<p>Or do it on the DB side</p>\n<pre><code>SELECT personName, dateAdded,COUNT(*) \nFROM UserLog \nWHERE dateAdded between(...)\nGROUP BY personName,dateAdded\n</code></pre>\n"}],"owner":{"account_id":9508748,"reputation":819,"user_id":7067321,"accept_rate":45,"display_name":"smzapp"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":344,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1647518216,"creation_date":1647514147,"question_id":71511038,"body_markdown":"I am about to generate an excel based on the user&#39;s request. \r\n\r\n**Input**: &lt;br/&gt;\r\n`DateRange` - 2022/02/01-2022/02/07\r\n\r\n**Scenario** &lt;br/&gt;\r\nThe system will retrieve the logs from the database based on the `DateRange`. The logs contain the names of people &amp; date when it was added. Also, the system will retrieve the list of people from the database. Now, after retrieving the logs and the people, I want to get the number of occurrence a person appeared on each date.\r\n\r\nDatabase Info:\r\n\r\nlogs table - 10k or more &lt;br/&gt;\r\nperson table - at least 1,500 people.\r\n\r\n\r\n**Expected output:**\r\n[![First][1]][1]\r\n\r\n\r\n**Problem Issue**\r\n\r\nFrom the given data above there is a possibility of `10,000(logs) * 1,500(person) = 15m` or more iteration to get the total occurrence of a person. This results to a heavy traffic on the response which took almost 60seconds or more.\r\n\r\n\r\nHere is my code:\r\n\r\n    // initialize days\r\n    List&lt;Date&gt; days = getDaysFromRequest(); // get  the range from request\r\n\r\n    for (Person person: getPersonList()) {\r\n      // .... code here to display Persons\r\n      for (Date day: days) {\r\n        // .... code here to display day\r\n         int total = 0;\r\n         for(UserLog log: getUserLog()) {\r\n            if ( day == log.dateAdded &amp;&amp; log.personName == person.Name) {\r\n               total++; \r\n            }\r\n         }\r\n         System.out.printLn(total); // write total here in excel sheet Like,  B2 address\r\n      }\r\n    }\r\n\r\nHow should I optimize this?\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9yPEB.png","title":"Optimize nested loop in java spring boot","body":"<p>I am about to generate an excel based on the user's request.</p>\n<p><strong>Input</strong>: <br/>\n<code>DateRange</code> - 2022/02/01-2022/02/07</p>\n<p><strong>Scenario</strong> <br/>\nThe system will retrieve the logs from the database based on the <code>DateRange</code>. The logs contain the names of people &amp; date when it was added. Also, the system will retrieve the list of people from the database. Now, after retrieving the logs and the people, I want to get the number of occurrence a person appeared on each date.</p>\n<p>Database Info:</p>\n<p>logs table - 10k or more <br/>\nperson table - at least 1,500 people.</p>\n<p><strong>Expected output:</strong>\n<a href=\"https://i.stack.imgur.com/9yPEB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9yPEB.png\" alt=\"First\" /></a></p>\n<p><strong>Problem Issue</strong></p>\n<p>From the given data above there is a possibility of <code>10,000(logs) * 1,500(person) = 15m</code> or more iteration to get the total occurrence of a person. This results to a heavy traffic on the response which took almost 60seconds or more.</p>\n<p>Here is my code:</p>\n<pre><code>// initialize days\nList&lt;Date&gt; days = getDaysFromRequest(); // get  the range from request\n\nfor (Person person: getPersonList()) {\n  // .... code here to display Persons\n  for (Date day: days) {\n    // .... code here to display day\n     int total = 0;\n     for(UserLog log: getUserLog()) {\n        if ( day == log.dateAdded &amp;&amp; log.personName == person.Name) {\n           total++; \n        }\n     }\n     System.out.printLn(total); // write total here in excel sheet Like,  B2 address\n  }\n}\n</code></pre>\n<p>How should I optimize this?</p>\n"},{"tags":["java","linux","ubuntu"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1647519982,"post_id":71511893,"comment_id":126394415,"body_markdown":"*when I run command sudo update-java-alternatives --list I get:* I&#39;m guessing that&#39;s because you didn&#39;t install the earlier Java with your package manager (never a good thing)\nbtw, I&#39;m not certain about this but I seem to remember making the same observation (as a question) to you a few days ago","body":"<i>when I run command sudo update-java-alternatives --list I get:</i> I&#39;m guessing that&#39;s because you didn&#39;t install the earlier Java with your package manager (never a good thing) btw, I&#39;m not certain about this but I seem to remember making the same observation (as a question) to you a few days ago"},{"owner":{"account_id":13886221,"reputation":473,"user_id":10025287,"display_name":"Milan Panic"},"score":0,"creation_date":1647520644,"post_id":71511893,"comment_id":126394666,"body_markdown":"Doesn&#39;t the .bashrc determine which java my terminal uses, nevertheless from where I installed it ? Additional thing I discovered after posting the question: I set my `JAVA_HOME` value to `/usr/lib/jvm/jdk-1.8.0_212`, but `java --version` shows java-11. \nAlso, about your question: no, this is the first time I am posting anything about this, or similar, topics to stack overflow as a question/comment./","body":"Doesn&#39;t the .bashrc determine which java my terminal uses, nevertheless from where I installed it ? Additional thing I discovered after posting the question: I set my <code>JAVA_HOME</code> value to <code>&#47;usr&#47;lib&#47;jvm&#47;jdk-1.8.0_212</code>, but <code>java --version</code> shows java-11.  Also, about your question: no, this is the first time I am posting anything about this, or similar, topics to stack overflow as a question/comment./"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1647523385,"post_id":71511893,"comment_id":126395752,"body_markdown":"Sorry must have been someone else. My point is that you can&#39;t use update-java-alternatives and expect it to work with non-package-manager-installed javas. $PATH will determine which java the terminal sees. So if you want it to see 8, that must be first in $PATH","body":"Sorry must have been someone else. My point is that you can&#39;t use update-java-alternatives and expect it to work with non-package-manager-installed javas. $PATH will determine which java the terminal sees. So if you want it to see 8, that must be first in $PATH"}],"owner":{"account_id":13886221,"reputation":473,"user_id":10025287,"display_name":"Milan Panic"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":215,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647518143,"creation_date":1647518143,"question_id":71511893,"body_markdown":"I am on Ubuntu 20.04 and I just installed Java 11. Previously I used Java 8.\r\n\r\nTerminal command `java --version` prints:\r\n```\r\nopenjdk 11.0.14 2022-01-18\r\nOpenJDK Runtime Environment (build 11.0.14+9-Ubuntu-0ubuntu2.20.04)\r\nOpenJDK 64-Bit Server VM (build 11.0.14+9-Ubuntu-0ubuntu2.20.04, mixed mode, sharing)\r\n```\r\n.bashrc file contains:\r\n```\r\nJAVA_HOME8=/usr/lib/jvm/jdk-1.8.0_212\r\nPATH=$PATH:$JAVA_HOME8/bin\r\nJAVA_HOME11=/usr/lib/jvm/java-11-openjdk-amd64\r\nPATH=$PATH:$JAVA_HOME11/bin\r\n```\r\nwhen I run command `sudo update-java-alternatives --list` I get:\r\n```\r\njava-1.11.0-openjdk-amd64      1111       /usr/lib/jvm/java-1.11.0-openjdk-amd64\r\n```\r\nthis is my usr/lib/jvm folder:\r\n```\r\nuser@ubuntu:/usr/lib/jvm$ ls -la\r\ntotal 24\r\ndrwxr-xr-x   5 root root 4096 Mar 17 13:29 .\r\ndrwxr-xr-x 117 root root 4096 Feb 23 16:14 ..\r\nlrwxrwxrwx   1 root root   21 Jan 25 16:03 java-1.11.0-openjdk-amd64 -&gt; java-11-openjdk-amd64\r\n-rw-r--r--   1 root root 2047 Jan 25 16:03 .java-1.11.0-openjdk-amd64.jinfo\r\ndrwxr-xr-x   9 root root 4096 Mar 17 13:29 java-11-openjdk-amd64\r\ndrwxr-xr-x   7 root root 4096 May  7  2019 jdk-1.8.0_212\r\ndrwxr-xr-x   2 root root 4096 Mar 17 13:29 openjdk-11\r\n```\r\n\r\nNot sure where is the inconsistency, but it is not working as intended. Can someone assist me?\r\n\r\nThank you.","title":"Ubuntu: .bashrc has JAVA_HOME8 and JAVA_HOME11 configured but sudo update-java-alternatives --list shows only java 11","body":"<p>I am on Ubuntu 20.04 and I just installed Java 11. Previously I used Java 8.</p>\n<p>Terminal command <code>java --version</code> prints:</p>\n<pre><code>openjdk 11.0.14 2022-01-18\nOpenJDK Runtime Environment (build 11.0.14+9-Ubuntu-0ubuntu2.20.04)\nOpenJDK 64-Bit Server VM (build 11.0.14+9-Ubuntu-0ubuntu2.20.04, mixed mode, sharing)\n</code></pre>\n<p>.bashrc file contains:</p>\n<pre><code>JAVA_HOME8=/usr/lib/jvm/jdk-1.8.0_212\nPATH=$PATH:$JAVA_HOME8/bin\nJAVA_HOME11=/usr/lib/jvm/java-11-openjdk-amd64\nPATH=$PATH:$JAVA_HOME11/bin\n</code></pre>\n<p>when I run command <code>sudo update-java-alternatives --list</code> I get:</p>\n<pre><code>java-1.11.0-openjdk-amd64      1111       /usr/lib/jvm/java-1.11.0-openjdk-amd64\n</code></pre>\n<p>this is my usr/lib/jvm folder:</p>\n<pre><code>user@ubuntu:/usr/lib/jvm$ ls -la\ntotal 24\ndrwxr-xr-x   5 root root 4096 Mar 17 13:29 .\ndrwxr-xr-x 117 root root 4096 Feb 23 16:14 ..\nlrwxrwxrwx   1 root root   21 Jan 25 16:03 java-1.11.0-openjdk-amd64 -&gt; java-11-openjdk-amd64\n-rw-r--r--   1 root root 2047 Jan 25 16:03 .java-1.11.0-openjdk-amd64.jinfo\ndrwxr-xr-x   9 root root 4096 Mar 17 13:29 java-11-openjdk-amd64\ndrwxr-xr-x   7 root root 4096 May  7  2019 jdk-1.8.0_212\ndrwxr-xr-x   2 root root 4096 Mar 17 13:29 openjdk-11\n</code></pre>\n<p>Not sure where is the inconsistency, but it is not working as intended. Can someone assist me?</p>\n<p>Thank you.</p>\n"},{"tags":["java","annotations","openapi","payara"],"owner":{"account_id":24587830,"reputation":11,"user_id":18492100,"display_name":"SmallOS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":312,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647518068,"creation_date":1647518068,"question_id":71511878,"body_markdown":"\r\nIm currently working on Payara 5.2022.1 with OpenApi: 3.0.0 to generate YAML and everything was fine till I found out my annotations above `Class&lt;T&gt;` or `List&lt;T&gt;` doesnt work as intended? What I mean:\r\n```\r\npublic class RestResponse extends BasicOperation {\r\n    private RulesData rulesData;\r\n    private ResultList&lt;Device&gt; resultDataList;\r\n```\r\n```\r\npublic class ResultList&lt;T&gt; extends BasicOperation {\r\n    private List&lt;T&gt; dataList;\r\n    public ResultList(Status status, Value value, boolean isExpanded) {\r\n        super(status, value, isExpanded);\r\n    }\r\n}\r\n```\r\n```\r\npublic class Device {\r\n    private String mac;\r\n    private DeviceDescription description;\r\n    private HomeType homeType;\r\n}\r\n```\r\nand `/openapi` do something like this\r\n```\r\nRestResponse:\r\n      exclusiveMaximum: false\r\n      exclusiveMinimum: false\r\n      minLength: 0\r\n      uniqueItems: false\r\n      maxProperties: 0\r\n      minProperties: 0\r\n      type: object\r\n      properties:\r\n        rulesData:\r\n          $ref: &#39;#/components/schemas/RulesData&#39;\r\n        resultDataList:\r\n          exclusiveMaximum: false\r\n          exclusiveMinimum: false\r\n          minLength: 0\r\n          uniqueItems: false\r\n          maxProperties: 0\r\n          minProperties: 0\r\n          nullable: false\r\n          readOnly: false\r\n          writeOnly: false\r\n          deprecated: false\r\n          $ref: &#39;#/components/schemas/ResultList&#39;\r\n        value:\r\n          $ref: &#39;#/components/schemas/Value&#39;\r\n        isExpanded:\r\n          type: boolean\r\n        code:\r\n          type: string\r\n        error:\r\n          type: string\r\n        status:\r\n          $ref: &#39;#/components/schemas/Status&#39;\r\n      nullable: false\r\n      readOnly: false\r\n      writeOnly: false\r\n      deprecated: false\r\n      allOf:\r\n      - $ref: &#39;#/components/schemas/BasicOperation&#39;\r\n      - $ref: &#39;#/components/schemas/BasicOperation&#39;\r\n```\r\n\r\n```\r\nResultList:\r\n      exclusiveMaximum: false\r\n      exclusiveMinimum: false\r\n      minLength: 0\r\n      uniqueItems: false\r\n      maxProperties: 0\r\n      minProperties: 0\r\n      type: object\r\n      properties:\r\n        dataList:\r\n          items:\r\n            type: object\r\n        value:\r\n          $ref: &#39;#/components/schemas/Value&#39;\r\n        isExpanded:\r\n          type: boolean\r\n        code:\r\n          type: string\r\n        error:\r\n          type: string\r\n        status:\r\n          $ref: &#39;#/components/schemas/Status&#39;\r\n      nullable: false\r\n      readOnly: false\r\n      writeOnly: false\r\n      deprecated: false\r\n      allOf:\r\n      - $ref: &#39;#/components/schemas/StandardResponse&#39;\r\n```\r\nand what Im expecting is information which class was used instead of `T` so I want to get something similar to this:\r\n```\r\nResultList:\r\n      exclusiveMaximum: false\r\n      exclusiveMinimum: false\r\n      minLength: 0\r\n      uniqueItems: false\r\n      maxProperties: 0\r\n      minProperties: 0\r\n      type: object\r\n      properties:\r\n        dataList:\r\n          items:\r\n            oneOf:{$ref: &#39;#/components/schemas/Device}\r\n        [...]\r\n```\r\nOr\r\n```\r\nRestResponse:\r\n      exclusiveMaximum: false\r\n      exclusiveMinimum: false\r\n      minLength: 0\r\n      uniqueItems: false\r\n      maxProperties: 0\r\n      minProperties: 0\r\n      type: object\r\n      properties:\r\n        rulesData:\r\n          $ref: &#39;#/components/schemas/RulesData&#39;\r\n        resultDataList:\r\n          exclusiveMaximum: false\r\n          exclusiveMinimum: false\r\n          minLength: 0\r\n          uniqueItems: false\r\n          maxProperties: 0\r\n          minProperties: 0\r\n          nullable: false\r\n          readOnly: false\r\n          writeOnly: false\r\n          deprecated: false\r\n          $ref: &#39;#/components/schemas/ResultList&lt;Device&gt;&#39;\r\n       [...]\r\n```\r\nWhen it comes to annotations: `@Schema` works fine with `implementation` and `type` but when it comes to `oneOf`, `anyOf` it doesnt have any effect I belive I tried everything: `@Schema(oneOf = Device.class` OR `anyOf = {Device.class})` OR `ResultList.class` instead of `Device.class`. above these classes/variables and it still doesnt work? I mean there is no effect on `/openapi` \r\n","title":"How to properly annotate generics (e.g list&lt;T&gt;, class&lt;T&gt;) in eclipse.microprofile.openApi","body":"<p>Im currently working on Payara 5.2022.1 with OpenApi: 3.0.0 to generate YAML and everything was fine till I found out my annotations above <code>Class&lt;T&gt;</code> or <code>List&lt;T&gt;</code> doesnt work as intended? What I mean:</p>\n<pre><code>public class RestResponse extends BasicOperation {\n    private RulesData rulesData;\n    private ResultList&lt;Device&gt; resultDataList;\n</code></pre>\n<pre><code>public class ResultList&lt;T&gt; extends BasicOperation {\n    private List&lt;T&gt; dataList;\n    public ResultList(Status status, Value value, boolean isExpanded) {\n        super(status, value, isExpanded);\n    }\n}\n</code></pre>\n<pre><code>public class Device {\n    private String mac;\n    private DeviceDescription description;\n    private HomeType homeType;\n}\n</code></pre>\n<p>and <code>/openapi</code> do something like this</p>\n<pre><code>RestResponse:\n      exclusiveMaximum: false\n      exclusiveMinimum: false\n      minLength: 0\n      uniqueItems: false\n      maxProperties: 0\n      minProperties: 0\n      type: object\n      properties:\n        rulesData:\n          $ref: '#/components/schemas/RulesData'\n        resultDataList:\n          exclusiveMaximum: false\n          exclusiveMinimum: false\n          minLength: 0\n          uniqueItems: false\n          maxProperties: 0\n          minProperties: 0\n          nullable: false\n          readOnly: false\n          writeOnly: false\n          deprecated: false\n          $ref: '#/components/schemas/ResultList'\n        value:\n          $ref: '#/components/schemas/Value'\n        isExpanded:\n          type: boolean\n        code:\n          type: string\n        error:\n          type: string\n        status:\n          $ref: '#/components/schemas/Status'\n      nullable: false\n      readOnly: false\n      writeOnly: false\n      deprecated: false\n      allOf:\n      - $ref: '#/components/schemas/BasicOperation'\n      - $ref: '#/components/schemas/BasicOperation'\n</code></pre>\n<pre><code>ResultList:\n      exclusiveMaximum: false\n      exclusiveMinimum: false\n      minLength: 0\n      uniqueItems: false\n      maxProperties: 0\n      minProperties: 0\n      type: object\n      properties:\n        dataList:\n          items:\n            type: object\n        value:\n          $ref: '#/components/schemas/Value'\n        isExpanded:\n          type: boolean\n        code:\n          type: string\n        error:\n          type: string\n        status:\n          $ref: '#/components/schemas/Status'\n      nullable: false\n      readOnly: false\n      writeOnly: false\n      deprecated: false\n      allOf:\n      - $ref: '#/components/schemas/StandardResponse'\n</code></pre>\n<p>and what Im expecting is information which class was used instead of <code>T</code> so I want to get something similar to this:</p>\n<pre><code>ResultList:\n      exclusiveMaximum: false\n      exclusiveMinimum: false\n      minLength: 0\n      uniqueItems: false\n      maxProperties: 0\n      minProperties: 0\n      type: object\n      properties:\n        dataList:\n          items:\n            oneOf:{$ref: '#/components/schemas/Device}\n        [...]\n</code></pre>\n<p>Or</p>\n<pre><code>RestResponse:\n      exclusiveMaximum: false\n      exclusiveMinimum: false\n      minLength: 0\n      uniqueItems: false\n      maxProperties: 0\n      minProperties: 0\n      type: object\n      properties:\n        rulesData:\n          $ref: '#/components/schemas/RulesData'\n        resultDataList:\n          exclusiveMaximum: false\n          exclusiveMinimum: false\n          minLength: 0\n          uniqueItems: false\n          maxProperties: 0\n          minProperties: 0\n          nullable: false\n          readOnly: false\n          writeOnly: false\n          deprecated: false\n          $ref: '#/components/schemas/ResultList&lt;Device&gt;'\n       [...]\n</code></pre>\n<p>When it comes to annotations: <code>@Schema</code> works fine with <code>implementation</code> and <code>type</code> but when it comes to <code>oneOf</code>, <code>anyOf</code> it doesnt have any effect I belive I tried everything: <code>@Schema(oneOf = Device.class</code> OR <code>anyOf = {Device.class})</code> OR <code>ResultList.class</code> instead of <code>Device.class</code>. above these classes/variables and it still doesnt work? I mean there is no effect on <code>/openapi</code></p>\n"},{"tags":["java","selenium","cucumber"],"comments":[{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":1,"creation_date":1647498387,"post_id":71505124,"comment_id":126387438,"body_markdown":"obviously there is no place where you initialize your driver.","body":"obviously there is no place where you initialize your driver."}],"answers":[{"tags":[],"owner":{"account_id":6990353,"reputation":1340,"user_id":5359846,"accept_rate":23,"display_name":"Tal Angel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647517514,"creation_date":1647517514,"answer_id":71511770,"question_id":71505124,"body_markdown":"Remove the comment from your code.\r\n\r\nRemove the `/*` and `*/` at the beginning and end of the the code.","title":"Cannot invoke &quot;org.openqa.selenium.WebDriver.findElement(org.openqa.selenium.By)&quot; because &quot;this.driver&quot; is null helpme please","body":"<p>Remove the comment from your code.</p>\n<p>Remove the <code>/*</code> and <code>*/</code> at the beginning and end of the the code.</p>\n"}],"owner":{"account_id":24582684,"reputation":11,"user_id":18487561,"display_name":"Luis Flores"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":299,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1647517514,"creation_date":1647471017,"question_id":71505124,"body_markdown":"I have the following code:\r\n[enter image description here][1]\r\n\r\n\r\nand this class:\r\n\r\n[enter image description here][2]\r\n\r\n\r\nwhen executing it sends me Cannot invoke &quot;org.openqa.selenium.WebDriver.findElement(org.openqa.selenium.By)&quot; because &quot;this.driver&quot; is null\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aAMBX.png\r\n  [2]: https://i.stack.imgur.com/God0E.png","title":"Cannot invoke &quot;org.openqa.selenium.WebDriver.findElement(org.openqa.selenium.By)&quot; because &quot;this.driver&quot; is null helpme please","body":"<p>I have the following code:\n<a href=\"https://i.stack.imgur.com/aAMBX.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>and this class:</p>\n<p><a href=\"https://i.stack.imgur.com/God0E.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>when executing it sends me Cannot invoke &quot;org.openqa.selenium.WebDriver.findElement(org.openqa.selenium.By)&quot; because &quot;this.driver&quot; is null</p>\n"},{"tags":["java","jena","amazon-neptune"],"comments":[{"owner":{"account_id":394579,"reputation":16420,"user_id":757100,"display_name":"AndyS"},"score":2,"creation_date":1618343491,"post_id":67077733,"comment_id":118572622,"body_markdown":"The request is using the SPARQLGraph Store Protocol (GSP), not SPARQL Query (parameter query) or SPARQL Update (parameter=update if perfomed that way).  GSP is not listed as supported for Neptune. If that is still the case, a way round this would be to convert a graph into a `INSERT DATA {}` and use SPARQL Update.","body":"The request is using the SPARQLGraph Store Protocol (GSP), not SPARQL Query (parameter query) or SPARQL Update (parameter=update if perfomed that way).  GSP is not listed as supported for Neptune. If that is still the case, a way round this would be to convert a graph into a <code>INSERT DATA {}</code> and use SPARQL Update."},{"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"score":0,"creation_date":1618349678,"post_id":67077733,"comment_id":118574602,"body_markdown":"@AndyS Thanks for the hint. Still unfamiliar with a lot of the ecosystem so that helps!","body":"@AndyS Thanks for the hint. Still unfamiliar with a lot of the ecosystem so that helps!"}],"answers":[{"tags":[],"owner":{"account_id":111515,"reputation":6240,"user_id":294552,"accept_rate":78,"display_name":"sandeepkunkunuru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647516410,"creation_date":1647509598,"answer_id":71509960,"question_id":67077733,"body_markdown":"Bulk load into Netpune seems to be feasible in a two step process via RDF4J. Wrote a program to generate an RDF (NT file) and then used RDF4J console to load it manually into Neptune.\r\n\r\nGuess : If we dig in a bit more into RDF4J and how Neptune is accepting bulk load from it, it might be feasible to do the entire load within the same program.\r\n\r\n\r\n\r\n    $ ./bin/console.sh\r\n    04:10:40.412 [main] DEBUG org.eclipse.rdf4j.common.platform.PlatformFactory - os.name = linux\r\n    04:10:40.416 [main] DEBUG org.eclipse.rdf4j.common.platform.PlatformFactory - Detected Posix platform\r\n    Connected to default data directory\r\n    RDF4J Console 3.6.3\r\n    Working dir: /home/bitnami/tools/eclipse-rdf4j-3.6.3\r\n    Type &#39;help&#39; for help.\r\n    &gt; create sparql\r\n    Please specify values for the following variables:\r\n    SPARQL query endpoint: https://yyy.cluster-xxx.us-east-1.neptune.amazonaws.com:8182/sparql\r\n    SPARQL update endpoint: https://yyy.cluster-xxx.us-east-1.neptune.amazonaws.com:8182/sparql\r\n    Local repository ID [endpoint@localhost]: test\r\n    Repository title [SPARQL endpoint repository @localhost]: test Graph data model PoC\r\n    Repository created\r\n    &gt; open test\r\n\r\n    test&gt; sparql select ?s ?p ?o where {?s ?p ?o} limit 10\r\n    Evaluating SPARQL query...\r\n    +------------------------+------------------------+------------------------+\r\n    | s                      | p                      | o                      |\r\n    +------------------------+------------------------+------------------------+\r\n    | &lt;https://test.com/s&gt;   | &lt;https://test.com/p&gt;   | &lt;https://test.com/o&gt;   |\r\n    +------------------------+------------------------+------------------------+\r\n    1 result(s) (671 ms)\r\n\r\n    test&gt; clear\r\n\r\n    test&gt; load /home/bitnami/projects/model/sparql-client/output/model.nt\r\n\r\n\r\n\r\n","title":"Load data into AWS Neptune via Apache Jena: &quot;Missing &#39;query&#39; &gt; or &#39;update&#39; parameter for POST request&quot;","body":"<p>Bulk load into Netpune seems to be feasible in a two step process via RDF4J. Wrote a program to generate an RDF (NT file) and then used RDF4J console to load it manually into Neptune.</p>\n<p>Guess : If we dig in a bit more into RDF4J and how Neptune is accepting bulk load from it, it might be feasible to do the entire load within the same program.</p>\n<pre><code>$ ./bin/console.sh\n04:10:40.412 [main] DEBUG org.eclipse.rdf4j.common.platform.PlatformFactory - os.name = linux\n04:10:40.416 [main] DEBUG org.eclipse.rdf4j.common.platform.PlatformFactory - Detected Posix platform\nConnected to default data directory\nRDF4J Console 3.6.3\nWorking dir: /home/bitnami/tools/eclipse-rdf4j-3.6.3\nType 'help' for help.\n&gt; create sparql\nPlease specify values for the following variables:\nSPARQL query endpoint: https://yyy.cluster-xxx.us-east-1.neptune.amazonaws.com:8182/sparql\nSPARQL update endpoint: https://yyy.cluster-xxx.us-east-1.neptune.amazonaws.com:8182/sparql\nLocal repository ID [endpoint@localhost]: test\nRepository title [SPARQL endpoint repository @localhost]: test Graph data model PoC\nRepository created\n&gt; open test\n\ntest&gt; sparql select ?s ?p ?o where {?s ?p ?o} limit 10\nEvaluating SPARQL query...\n+------------------------+------------------------+------------------------+\n| s                      | p                      | o                      |\n+------------------------+------------------------+------------------------+\n| &lt;https://test.com/s&gt;   | &lt;https://test.com/p&gt;   | &lt;https://test.com/o&gt;   |\n+------------------------+------------------------+------------------------+\n1 result(s) (671 ms)\n\ntest&gt; clear\n\ntest&gt; load /home/bitnami/projects/model/sparql-client/output/model.nt\n</code></pre>\n"}],"owner":{"account_id":740820,"reputation":47963,"user_id":2353911,"accept_rate":100,"display_name":"Mena"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":518,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1647516410,"creation_date":1618327185,"question_id":67077733,"body_markdown":"I am trying to load data from a garden-variety Spring Boot application into an AWS Neptune store, via Apache Jena (3.14.0). \r\n\r\nThe code I&#39;m working with has been written *and works* with a few triple stores, including Anzo and Fuseki.\r\n\r\nThe setup to even get connectivity to the Neptune store from my local development environment is a Rube-Goldberg machine I&#39;m ashamed of discussing here - however, the connectivity &quot;works&quot; as of now. \r\n\r\nMy problem comes specifically with loading data into the store (think POST operations). \r\n\r\nThe operation fails when loading a Jena [Model][1], via the [RDFConnection#load(String, Model)][2] idiom. \r\n\r\nThe stack trace looks like:\r\n\r\n    org.apache.jena.atlas.web.HttpException: 400 - Bad Request\r\n    \tat org.apache.jena.riot.web.HttpOp.exec(HttpOp.java:1091)\r\n    \tat org.apache.jena.riot.web.HttpOp.execHttpPost(HttpOp.java:721)\r\n    \tat org.apache.jena.rdfconnection.RDFConnectionRemote.lambda$doPutPost$9(RDFConnectionRemote.java:458)\r\n    \tat org.apache.jena.rdfconnection.RDFConnectionRemote.exec(RDFConnectionRemote.java:668)\r\n    \tat org.apache.jena.rdfconnection.RDFConnectionRemote.doPutPost(RDFConnectionRemote.java:453)\r\n    \tat org.apache.jena.rdfconnection.RDFConnectionRemote.load(RDFConnectionRemote.java:366)\r\n        at [my loading code here]\r\n\r\nMore helpfully maybe, the error message from the response is: \r\n\r\n&gt; Http exception response\r\n&gt; {&quot;code&quot;:&quot;MissingParameterException&quot;,&quot;detailedMessage&quot;:&quot;Missing &#39;query&#39;\r\n&gt; or &#39;update&#39; parameter for POST request&quot;,&quot;requestId&quot;:&quot;[some UUID]&quot;}\r\n\r\nThe AWS [docs][3] with regards to common errors seem to be of no use here.\r\n\r\nThe text of the error message seems clear &quot;in a way&quot; - the request is missing a parameter. \r\n\r\nI haven&#39;t had a close look yet on how Jena builds the request in the first place (since my usage of the framework works fine with other triple stores), and neither do I understand how to add extra parameters, from the RDFConnection [javadoc][4]. \r\n\r\nI also haven&#39;t tried to send a SPARQL request manually to the store, e.g. via a REST client - but I want to use Jena in the first place, so it&#39;s probably not ideal to linger so far beyond. \r\n\r\nThe AWS [tutorial][5] on using Neptune with Jena is very basic and only reads from the triple store - so once again, no cookie there. \r\n\r\nAgain, same stack, same code, same data, other store --&gt; works fine. \r\n\r\nIs there any simple way around this issue, or maybe some documentation/examples I&#39;ve missed out on?\r\n\r\n\r\n  [1]: https://jena.apache.org/documentation/javadoc/jena/org/apache/jena/rdf/model/Model.html\r\n  [2]: https://jena.apache.org/documentation/javadoc/rdfconnection/org/apache/jena/rdfconnection/RDFConnection.html#load(java.lang.String,org.apache.jena.rdf.model.Model)\r\n  [3]: https://docs.aws.amazon.com/neptune/latest/userguide/CommonErrors.html\r\n  [4]: http://localhost:63342/digital-twin-parent/jena-rdfconnection-3.14.0-javadoc.jar/org/apache/jena/rdfconnection/RDFConnection.html\r\n  [5]: https://docs.aws.amazon.com/neptune/latest/userguide/iam-auth-connecting-sparql-java.html","title":"Load data into AWS Neptune via Apache Jena: &quot;Missing &#39;query&#39; &gt; or &#39;update&#39; parameter for POST request&quot;","body":"<p>I am trying to load data from a garden-variety Spring Boot application into an AWS Neptune store, via Apache Jena (3.14.0).</p>\n<p>The code I'm working with has been written <em>and works</em> with a few triple stores, including Anzo and Fuseki.</p>\n<p>The setup to even get connectivity to the Neptune store from my local development environment is a Rube-Goldberg machine I'm ashamed of discussing here - however, the connectivity &quot;works&quot; as of now.</p>\n<p>My problem comes specifically with loading data into the store (think POST operations).</p>\n<p>The operation fails when loading a Jena <a href=\"https://jena.apache.org/documentation/javadoc/jena/org/apache/jena/rdf/model/Model.html\" rel=\"nofollow noreferrer\">Model</a>, via the <a href=\"https://jena.apache.org/documentation/javadoc/rdfconnection/org/apache/jena/rdfconnection/RDFConnection.html#load(java.lang.String,org.apache.jena.rdf.model.Model)\" rel=\"nofollow noreferrer\">RDFConnection#load(String, Model)</a> idiom.</p>\n<p>The stack trace looks like:</p>\n<pre><code>org.apache.jena.atlas.web.HttpException: 400 - Bad Request\n    at org.apache.jena.riot.web.HttpOp.exec(HttpOp.java:1091)\n    at org.apache.jena.riot.web.HttpOp.execHttpPost(HttpOp.java:721)\n    at org.apache.jena.rdfconnection.RDFConnectionRemote.lambda$doPutPost$9(RDFConnectionRemote.java:458)\n    at org.apache.jena.rdfconnection.RDFConnectionRemote.exec(RDFConnectionRemote.java:668)\n    at org.apache.jena.rdfconnection.RDFConnectionRemote.doPutPost(RDFConnectionRemote.java:453)\n    at org.apache.jena.rdfconnection.RDFConnectionRemote.load(RDFConnectionRemote.java:366)\n    at [my loading code here]\n</code></pre>\n<p>More helpfully maybe, the error message from the response is:</p>\n<blockquote>\n<p>Http exception response\n{&quot;code&quot;:&quot;MissingParameterException&quot;,&quot;detailedMessage&quot;:&quot;Missing 'query'\nor 'update' parameter for POST request&quot;,&quot;requestId&quot;:&quot;[some UUID]&quot;}</p>\n</blockquote>\n<p>The AWS <a href=\"https://docs.aws.amazon.com/neptune/latest/userguide/CommonErrors.html\" rel=\"nofollow noreferrer\">docs</a> with regards to common errors seem to be of no use here.</p>\n<p>The text of the error message seems clear &quot;in a way&quot; - the request is missing a parameter.</p>\n<p>I haven't had a close look yet on how Jena builds the request in the first place (since my usage of the framework works fine with other triple stores), and neither do I understand how to add extra parameters, from the RDFConnection <a href=\"http://localhost:63342/digital-twin-parent/jena-rdfconnection-3.14.0-javadoc.jar/org/apache/jena/rdfconnection/RDFConnection.html\" rel=\"nofollow noreferrer\">javadoc</a>.</p>\n<p>I also haven't tried to send a SPARQL request manually to the store, e.g. via a REST client - but I want to use Jena in the first place, so it's probably not ideal to linger so far beyond.</p>\n<p>The AWS <a href=\"https://docs.aws.amazon.com/neptune/latest/userguide/iam-auth-connecting-sparql-java.html\" rel=\"nofollow noreferrer\">tutorial</a> on using Neptune with Jena is very basic and only reads from the triple store - so once again, no cookie there.</p>\n<p>Again, same stack, same code, same data, other store --&gt; works fine.</p>\n<p>Is there any simple way around this issue, or maybe some documentation/examples I've missed out on?</p>\n"},{"tags":["java","oracle","hibernate","crud"],"comments":[{"owner":{"account_id":14739596,"reputation":1972,"user_id":10644550,"display_name":"Shiva"},"score":1,"creation_date":1543846684,"post_id":53595226,"comment_id":94053675,"body_markdown":"Looks hibernate does not support.. https://forum.hibernate.org/viewtopic.php?f=1&amp;t=1006818 .. what is hibernate version?","body":"Looks hibernate does not support.. <a href=\"https://forum.hibernate.org/viewtopic.php?f=1&amp;t=1006818\" rel=\"nofollow noreferrer\">forum.hibernate.org/viewtopic.php?f=1&amp;t=1006818</a> .. what is hibernate version?"},{"owner":{"account_id":14739596,"reputation":1972,"user_id":10644550,"display_name":"Shiva"},"score":0,"creation_date":1543846748,"post_id":53595226,"comment_id":94053720,"body_markdown":"And you shouldn&#39;t set  `id` manually too..","body":"And you shouldn&#39;t set  <code>id</code> manually too.."},{"owner":{"account_id":3518556,"reputation":278,"user_id":2941416,"accept_rate":0,"display_name":"Ramdas Nair"},"score":0,"creation_date":1543901711,"post_id":53595226,"comment_id":94074447,"body_markdown":"@secretsuperstar So, is there anyway I can achieve this?","body":"@secretsuperstar So, is there anyway I can achieve this?"},{"owner":{"account_id":14739596,"reputation":1972,"user_id":10644550,"display_name":"Shiva"},"score":0,"creation_date":1543902138,"post_id":53595226,"comment_id":94074584,"body_markdown":"I have a working solution using `@IdClass`, but it is using h2 in memory database, but does not look working with mysql DB.I can post here, If you want you can give a try with oralce. I am using hibernate 5 and spring 5. I think spring should not matter.","body":"I have a working solution using <code>@IdClass</code>, but it is using h2 in memory database, but does not look working with mysql DB.I can post here, If you want you can give a try with oralce. I am using hibernate 5 and spring 5. I think spring should not matter."},{"owner":{"account_id":14739596,"reputation":1972,"user_id":10644550,"display_name":"Shiva"},"score":0,"creation_date":1543902262,"post_id":53595226,"comment_id":94074629,"body_markdown":"Same question here: https://stackoverflow.com/questions/46035660/hibernate-insert-failing-when-embedded-key-contains-identity-column-on-sql-serve/46037186#46037186 .. again it seems with database","body":"Same question here: <a href=\"https://stackoverflow.com/questions/46035660/hibernate-insert-failing-when-embedded-key-contains-identity-column-on-sql-serve/46037186#46037186\" title=\"hibernate insert failing when embedded key contains identity column on sql serve\">stackoverflow.com/questions/46035660/&hellip;</a> .. again it seems with database"},{"owner":{"account_id":3518556,"reputation":278,"user_id":2941416,"accept_rate":0,"display_name":"Ramdas Nair"},"score":0,"creation_date":1543914657,"post_id":53595226,"comment_id":94079734,"body_markdown":"@secretsuperstar I&#39;m using Oracle, could you please post your solution here?","body":"@secretsuperstar I&#39;m using Oracle, could you please post your solution here?"},{"owner":{"account_id":14739596,"reputation":1972,"user_id":10644550,"display_name":"Shiva"},"score":1,"creation_date":1543928550,"post_id":53595226,"comment_id":94087859,"body_markdown":"Posted an answer","body":"Posted an answer"}],"answers":[{"tags":[],"owner":{"account_id":14739596,"reputation":1972,"user_id":10644550,"display_name":"Shiva"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1543928539,"creation_date":1543928539,"answer_id":53613605,"question_id":53595226,"body_markdown":"As I have mentioned in comment, I have used `@IdClass` it worked while I have tried in `hsqldb` in-memory database, but failed to work in `mysql`. \r\n\r\nPlease note I am using **hibernate 5**\r\n\r\nYou may give a try with oracle, I couldn&#39;t recollect but it should work. But please check for if any drawbacks with the approach if any. \r\n\r\npom.xml\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;groupId&gt;com.techdisqus&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring5-mvc-hibernate-example&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;war&lt;/packaging&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n    \t\t&lt;spring.version&gt;5.0.0.RELEASE&lt;/spring.version&gt;\r\n    \t\t&lt;hibernate.version&gt;5.2.11.Final&lt;/hibernate.version&gt;\r\n    \t\t&lt;hibernate.validator&gt;5.4.1.Final&lt;/hibernate.validator&gt;\r\n    \t\t&lt;c3p0.version&gt;0.9.5.2&lt;/c3p0.version&gt;\r\n    \t\t&lt;jstl.version&gt;1.2.1&lt;/jstl.version&gt;\r\n    \t\t&lt;tld.version&gt;1.1.2&lt;/tld.version&gt;\r\n    \t\t&lt;servlets.version&gt;3.1.0&lt;/servlets.version&gt;\r\n    \t\t&lt;jsp.version&gt;2.3.1&lt;/jsp.version&gt;\r\n    \t\t&lt;hsqldb.version&gt;1.8.0.10&lt;/hsqldb.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;!-- Spring MVC Dependency --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Spring ORM --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${spring.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Hibernate ORM --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Hibernate-C3P0 Integration --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-c3p0&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${hibernate.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- c3p0 --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.mchange&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;c3p0&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${c3p0.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Hibernate Validator --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${hibernate.validator}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- JSTL Dependency --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.servlet.jsp.jstl-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jstl.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;taglibs&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;standard&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${tld.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- Servlet Dependency --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${servlets.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- JSP Dependency --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${jsp.version}&lt;/version&gt;\r\n    \t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;!-- HSQL Dependency --&gt;\r\n    \t\t  &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;hsqldb&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;${hsqldb.version}&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;  \r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;8.0.12&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\r\n    \t\t&lt;resources&gt;\r\n    \t\t\t&lt;resource&gt;\r\n    \t\t\t\t&lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n    \t\t\t&lt;/resource&gt;\r\n    \t\t&lt;/resources&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;3.5.1&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;source&gt;1.8&lt;/source&gt;\r\n    \t\t\t\t\t&lt;target&gt;1.8&lt;/target&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t\t\t&lt;!-- Embedded Apache Tomcat required for testing war --&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;path&gt;/&lt;/path&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nBook.java\r\n\r\n    import javax.persistence.Column;\r\n    import javax.persistence.Entity;\r\n    import javax.persistence.GeneratedValue;\r\n    import javax.persistence.GenerationType;\r\n    import javax.persistence.Id;\r\n    import javax.persistence.IdClass;\r\n    import javax.persistence.Table;\r\n    \r\n    @Entity(name = &quot;Book&quot;)\r\n    @Table(name = &quot;book&quot;)\r\n    @IdClass( PK.class )\r\n    public class Book {\r\n     \r\n        @Id\r\n        @Column(name = &quot;registration_number&quot;)\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long registrationNumber;\r\n     \r\n        @Id\r\n        @Column(name = &quot;publisher_id&quot;)\r\n        private Integer publisherId;\r\n     \r\n        private String title;\r\n    \r\n    \tpublic Long getRegistrationNumber() {\r\n    \t\treturn registrationNumber;\r\n    \t}\r\n    \r\n    \tpublic void setRegistrationNumber(Long registrationNumber) {\r\n    \t\tthis.registrationNumber = registrationNumber;\r\n    \t}\r\n    \r\n    \tpublic Integer getPublisherId() {\r\n    \t\treturn publisherId;\r\n    \t}\r\n    \r\n    \tpublic void setPublisherId(Integer publisherId) {\r\n    \t\tthis.publisherId = publisherId;\r\n    \t}\r\n    \r\n    \tpublic String getTitle() {\r\n    \t\treturn title;\r\n    \t}\r\n    \r\n    \tpublic void setTitle(String title) {\r\n    \t\tthis.title = title;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;Book [registrationNumber=&quot; + registrationNumber + &quot;, publisherId=&quot; + publisherId + &quot;, title=&quot; + title\r\n    \t\t\t\t+ &quot;]&quot;;\r\n    \t}\r\n     }\r\n\r\nPK.java\r\n\r\n\r\n\r\n    import java.io.Serializable;\r\n    import java.util.Objects;\r\n    \r\n    public class PK implements Serializable {\r\n    \t \r\n        /**\r\n    \t * \r\n    \t */\r\n    \tprivate static final long serialVersionUID = 2371758145387850080L;\r\n    \r\n    \tprivate Long registrationNumber;\r\n     \tprivate Integer publisherId;\r\n     \r\n        public PK(Long registrationNumber, Integer publisherId) {\r\n            this.registrationNumber = registrationNumber;\r\n            this.publisherId = publisherId;\r\n        }\r\n     \r\n        \r\n        public PK() {\r\n        }\r\n     \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if ( this == o ) {\r\n                return true;\r\n            }\r\n            if ( o == null || getClass() != o.getClass() ) {\r\n                return false;\r\n            }\r\n            PK pk = (PK) o;\r\n            return Objects.equals( registrationNumber, pk.registrationNumber ) &amp;&amp;\r\n                    Objects.equals( publisherId, pk.publisherId );\r\n        }\r\n     \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash( registrationNumber, publisherId );\r\n        }\r\n    }\r\n\r\nhibernate.cfg.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n    &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n    &quot;http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd&quot;&gt;\r\n    &lt;hibernate-configuration&gt;\r\n    \t&lt;session-factory&gt;\r\n    \t\t&lt;property name=&quot;hibernate.archive.autodetection&quot;&gt;class,hbm&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.HSQLDialect&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.show_sql&quot;&gt;true&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.connection.driver_class&quot;&gt;org.hsqldb.jdbcDriver&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.connection.username&quot;&gt;sa&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.connection.password&quot;&gt;&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.connection.url&quot;&gt;jdbc:hsqldb:mem:test&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.hbm2ddl.auto&quot;&gt;create&lt;/property&gt;\r\n    \t\t\r\n    \t\t&lt;property name=&quot;hibernate.c3p0.min_size&quot;&gt;5&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.c3p0.max_size&quot;&gt;20&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.c3p0.acquire_increment&quot;&gt;2&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.c3p0.acquire_increment&quot;&gt;1800&lt;/property&gt;\r\n    \t\t&lt;property name=&quot;hibernate.c3p0.max_statements&quot;&gt;150&lt;/property&gt;\r\n    \t&lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\n\r\n\r\n\r\n\r\nHibernateConfig.java\r\n\r\n    \r\n    @Configuration\r\n    @EnableTransactionManagement\r\n    @ComponentScans(value = { @ComponentScan(&quot;com.techdisqus&quot;)})\r\n    public class HibernateConfig {\r\n    \r\n    \t@Autowired\r\n    \tprivate ApplicationContext context;\r\n    \r\n    \t@Bean\r\n    \tpublic LocalSessionFactoryBean getSessionFactory() {\r\n    \t\tLocalSessionFactoryBean factoryBean = new LocalSessionFactoryBean();\r\n    \t\tfactoryBean.setConfigLocation(context.getResource(&quot;classpath:hibernate.cfg.xml&quot;));\r\n    \t\tfactoryBean.setAnnotatedClasses(Book.class);\r\n    \t\treturn factoryBean;\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \tpublic HibernateTransactionManager getTransactionManager() {\r\n    \t\tHibernateTransactionManager transactionManager = new HibernateTransactionManager();\r\n    \t\ttransactionManager.setSessionFactory(getSessionFactory().getObject());\r\n    \t\treturn transactionManager;\r\n    \t}\r\n    \r\n    }\r\n\r\nBookDAOImpl.java\r\n\r\n    @Repository\r\n    public class BookDAOImpl implements BookDAO {\r\n    \r\n    \t@Autowired\r\n    \tprivate SessionFactory sessionFactory;\r\n    \r\n        public void setSessionFactory(SessionFactory sessionFactory) {\r\n            this.sessionFactory = sessionFactory;\r\n        }\r\n    \r\n    \r\n    \t\r\n    \r\n    \tpublic void save(Book book) {\r\n    \t\tSession session = this.sessionFactory.openSession();\r\n    \t\tTransaction tx = session.beginTransaction();\r\n    \t\tsession.persist(book);\r\n    \t\ttx.commit();\r\n    \t\tsession.close();\r\n    \t\t\r\n    \t}\r\n    \t\r\n    }\r\n\r\nclient code:\r\n\r\n    public class SpringHibernateMain2 {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tApplicationContext appContext = new AnnotationConfigApplicationContext(HibernateConfig.class);\r\n    \t\t\r\n    \t\tBookDAO personDAO = appContext.getBean(BookDAO.class);\r\n    \t\t\r\n    \t\tBook book = new Book();\r\n    \t\tbook.setPublisherId(12);\r\n    \t\tbook.setTitle(&quot;t 1&quot;);\r\n    \t\t//book.setRegistrationNumber(2l);\r\n    \t\tpersonDAO.save(book);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;book::&quot;+book);\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \t\t//context.close();\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\nfrom logs while using with H:\r\n\r\n&gt; Hibernate: call next value for hibernate_sequence Hibernate: insert\r\n&gt; into book (title, publisher_id, registration_number) values (?, ?, ?)\r\n&gt; book::Book [registrationNumber=1, publisherId=12, title=t 1]\r\n\r\nThe below is the **`error`** I get while I try with **`MySql`**\r\n\r\n&gt; Hibernate: select next_val as id_val from hibernate_sequence for\r\n&gt; update Dec 04, 2018 6:24:53 PM\r\n&gt; org.hibernate.id.enhanced.TableStructure$1$1 execute ERROR: could not\r\n&gt; read a hi value java.sql.SQLSyntaxErrorException: **Table\r\n&gt; &#39;security.hibernate_sequence&#39; doesn&#39;t exis**t\r\n\r\nI have tried with accepted answer in the post\r\nhttps://stackoverflow.com/questions/46035660/hibernate-insert-failing-when-embedded-key-contains-identity-column-on-sql-serve/46037186#46037186\r\nbut no luck with it.","title":"How to autoincrement an Id in a composite primary key in Hibernate?","body":"<p>As I have mentioned in comment, I have used <code>@IdClass</code> it worked while I have tried in <code>hsqldb</code> in-memory database, but failed to work in <code>mysql</code>. </p>\n\n<p>Please note I am using <strong>hibernate 5</strong></p>\n\n<p>You may give a try with oracle, I couldn't recollect but it should work. But please check for if any drawbacks with the approach if any. </p>\n\n<p>pom.xml</p>\n\n<pre><code>&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.techdisqus&lt;/groupId&gt;\n    &lt;artifactId&gt;spring5-mvc-hibernate-example&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n        &lt;spring.version&gt;5.0.0.RELEASE&lt;/spring.version&gt;\n        &lt;hibernate.version&gt;5.2.11.Final&lt;/hibernate.version&gt;\n        &lt;hibernate.validator&gt;5.4.1.Final&lt;/hibernate.validator&gt;\n        &lt;c3p0.version&gt;0.9.5.2&lt;/c3p0.version&gt;\n        &lt;jstl.version&gt;1.2.1&lt;/jstl.version&gt;\n        &lt;tld.version&gt;1.1.2&lt;/tld.version&gt;\n        &lt;servlets.version&gt;3.1.0&lt;/servlets.version&gt;\n        &lt;jsp.version&gt;2.3.1&lt;/jsp.version&gt;\n        &lt;hsqldb.version&gt;1.8.0.10&lt;/hsqldb.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;!-- Spring MVC Dependency --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Spring ORM --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;${spring.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Hibernate ORM --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;${hibernate.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Hibernate-C3P0 Integration --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-c3p0&lt;/artifactId&gt;\n            &lt;version&gt;${hibernate.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- c3p0 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mchange&lt;/groupId&gt;\n            &lt;artifactId&gt;c3p0&lt;/artifactId&gt;\n            &lt;version&gt;${c3p0.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Hibernate Validator --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;${hibernate.validator}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- JSTL Dependency --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet.jsp.jstl&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet.jsp.jstl-api&lt;/artifactId&gt;\n            &lt;version&gt;${jstl.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;taglibs&lt;/groupId&gt;\n            &lt;artifactId&gt;standard&lt;/artifactId&gt;\n            &lt;version&gt;${tld.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Servlet Dependency --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;${servlets.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- JSP Dependency --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet.jsp&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.servlet.jsp-api&lt;/artifactId&gt;\n            &lt;version&gt;${jsp.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- HSQL Dependency --&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;hsqldb&lt;/groupId&gt;\n            &lt;artifactId&gt;hsqldb&lt;/artifactId&gt;\n            &lt;version&gt;${hsqldb.version}&lt;/version&gt;\n        &lt;/dependency&gt;  \n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;version&gt;8.0.12&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.5.1&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;1.8&lt;/source&gt;\n                    &lt;target&gt;1.8&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n            &lt;!-- Embedded Apache Tomcat required for testing war --&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.tomcat.maven&lt;/groupId&gt;\n                &lt;artifactId&gt;tomcat7-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;path&gt;/&lt;/path&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>Book.java</p>\n\n<pre><code>import javax.persistence.Column;\nimport javax.persistence.Entity;\nimport javax.persistence.GeneratedValue;\nimport javax.persistence.GenerationType;\nimport javax.persistence.Id;\nimport javax.persistence.IdClass;\nimport javax.persistence.Table;\n\n@Entity(name = \"Book\")\n@Table(name = \"book\")\n@IdClass( PK.class )\npublic class Book {\n\n    @Id\n    @Column(name = \"registration_number\")\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long registrationNumber;\n\n    @Id\n    @Column(name = \"publisher_id\")\n    private Integer publisherId;\n\n    private String title;\n\n    public Long getRegistrationNumber() {\n        return registrationNumber;\n    }\n\n    public void setRegistrationNumber(Long registrationNumber) {\n        this.registrationNumber = registrationNumber;\n    }\n\n    public Integer getPublisherId() {\n        return publisherId;\n    }\n\n    public void setPublisherId(Integer publisherId) {\n        this.publisherId = publisherId;\n    }\n\n    public String getTitle() {\n        return title;\n    }\n\n    public void setTitle(String title) {\n        this.title = title;\n    }\n\n    @Override\n    public String toString() {\n        return \"Book [registrationNumber=\" + registrationNumber + \", publisherId=\" + publisherId + \", title=\" + title\n                + \"]\";\n    }\n }\n</code></pre>\n\n<p>PK.java</p>\n\n<pre><code>import java.io.Serializable;\nimport java.util.Objects;\n\npublic class PK implements Serializable {\n\n    /**\n     * \n     */\n    private static final long serialVersionUID = 2371758145387850080L;\n\n    private Long registrationNumber;\n    private Integer publisherId;\n\n    public PK(Long registrationNumber, Integer publisherId) {\n        this.registrationNumber = registrationNumber;\n        this.publisherId = publisherId;\n    }\n\n\n    public PK() {\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if ( this == o ) {\n            return true;\n        }\n        if ( o == null || getClass() != o.getClass() ) {\n            return false;\n        }\n        PK pk = (PK) o;\n        return Objects.equals( registrationNumber, pk.registrationNumber ) &amp;&amp;\n                Objects.equals( publisherId, pk.publisherId );\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash( registrationNumber, publisherId );\n    }\n}\n</code></pre>\n\n<p>hibernate.cfg.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n\"-//Hibernate/Hibernate Configuration DTD 3.0//EN\"\n\"http://hibernate.sourceforge.net/hibernate-configuration-3.0.dtd\"&gt;\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;property name=\"hibernate.archive.autodetection\"&gt;class,hbm&lt;/property&gt;\n        &lt;property name=\"hibernate.dialect\"&gt;org.hibernate.dialect.HSQLDialect&lt;/property&gt;\n        &lt;property name=\"hibernate.show_sql\"&gt;true&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.driver_class\"&gt;org.hsqldb.jdbcDriver&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.username\"&gt;sa&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.password\"&gt;&lt;/property&gt;\n        &lt;property name=\"hibernate.connection.url\"&gt;jdbc:hsqldb:mem:test&lt;/property&gt;\n        &lt;property name=\"hibernate.hbm2ddl.auto\"&gt;create&lt;/property&gt;\n\n        &lt;property name=\"hibernate.c3p0.min_size\"&gt;5&lt;/property&gt;\n        &lt;property name=\"hibernate.c3p0.max_size\"&gt;20&lt;/property&gt;\n        &lt;property name=\"hibernate.c3p0.acquire_increment\"&gt;2&lt;/property&gt;\n        &lt;property name=\"hibernate.c3p0.acquire_increment\"&gt;1800&lt;/property&gt;\n        &lt;property name=\"hibernate.c3p0.max_statements\"&gt;150&lt;/property&gt;\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p>HibernateConfig.java</p>\n\n<pre><code>@Configuration\n@EnableTransactionManagement\n@ComponentScans(value = { @ComponentScan(\"com.techdisqus\")})\npublic class HibernateConfig {\n\n    @Autowired\n    private ApplicationContext context;\n\n    @Bean\n    public LocalSessionFactoryBean getSessionFactory() {\n        LocalSessionFactoryBean factoryBean = new LocalSessionFactoryBean();\n        factoryBean.setConfigLocation(context.getResource(\"classpath:hibernate.cfg.xml\"));\n        factoryBean.setAnnotatedClasses(Book.class);\n        return factoryBean;\n    }\n\n    @Bean\n    public HibernateTransactionManager getTransactionManager() {\n        HibernateTransactionManager transactionManager = new HibernateTransactionManager();\n        transactionManager.setSessionFactory(getSessionFactory().getObject());\n        return transactionManager;\n    }\n\n}\n</code></pre>\n\n<p>BookDAOImpl.java</p>\n\n<pre><code>@Repository\npublic class BookDAOImpl implements BookDAO {\n\n    @Autowired\n    private SessionFactory sessionFactory;\n\n    public void setSessionFactory(SessionFactory sessionFactory) {\n        this.sessionFactory = sessionFactory;\n    }\n\n\n\n\n    public void save(Book book) {\n        Session session = this.sessionFactory.openSession();\n        Transaction tx = session.beginTransaction();\n        session.persist(book);\n        tx.commit();\n        session.close();\n\n    }\n\n}\n</code></pre>\n\n<p>client code:</p>\n\n<pre><code>public class SpringHibernateMain2 {\n\n    public static void main(String[] args) {\n\n        ApplicationContext appContext = new AnnotationConfigApplicationContext(HibernateConfig.class);\n\n        BookDAO personDAO = appContext.getBean(BookDAO.class);\n\n        Book book = new Book();\n        book.setPublisherId(12);\n        book.setTitle(\"t 1\");\n        //book.setRegistrationNumber(2l);\n        personDAO.save(book);\n\n        System.out.println(\"book::\"+book);\n\n\n\n\n        //context.close();\n\n    }\n\n}\n</code></pre>\n\n<p>from logs while using with H:</p>\n\n<blockquote>\n  <p>Hibernate: call next value for hibernate_sequence Hibernate: insert\n  into book (title, publisher_id, registration_number) values (?, ?, ?)\n  book::Book [registrationNumber=1, publisherId=12, title=t 1]</p>\n</blockquote>\n\n<p>The below is the <strong><code>error</code></strong> I get while I try with <strong><code>MySql</code></strong></p>\n\n<blockquote>\n  <p>Hibernate: select next_val as id_val from hibernate_sequence for\n  update Dec 04, 2018 6:24:53 PM\n  org.hibernate.id.enhanced.TableStructure$1$1 execute ERROR: could not\n  read a hi value java.sql.SQLSyntaxErrorException: <strong>Table\n  'security.hibernate_sequence' doesn't exis</strong>t</p>\n</blockquote>\n\n<p>I have tried with accepted answer in the post\n<a href=\"https://stackoverflow.com/questions/46035660/hibernate-insert-failing-when-embedded-key-contains-identity-column-on-sql-serve/46037186#46037186\">Hibernate insert failing when embedded key contains identity column on SQL Server</a>\nbut no luck with it.</p>\n"},{"tags":[],"owner":{"account_id":17325779,"reputation":1,"user_id":12550040,"display_name":"saradhi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1606899705,"creation_date":1606887745,"answer_id":65102822,"question_id":53595226,"body_markdown":"```java\r\n@Embeddable\r\npublic class EmployeePK implements Serializable {\r\n\r\n    private long groupId;\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long batchId;\r\n\r\n   \r\n    public long getBatchId() {\r\n        return batchId;\r\n    }\r\n\r\n    public void setBatchId(long batchId) {\r\n        this.batchId = batchId;\r\n    }\r\n\r\n//implements equals and hashcode\r\n\r\n}\r\n```","title":"How to autoincrement an Id in a composite primary key in Hibernate?","body":"<pre class=\"lang-java prettyprint-override\"><code>@Embeddable\npublic class EmployeePK implements Serializable {\n\n    private long groupId;\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long batchId;\n\n   \n    public long getBatchId() {\n        return batchId;\n    }\n\n    public void setBatchId(long batchId) {\n        this.batchId = batchId;\n    }\n\n//implements equals and hashcode\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17644829,"reputation":671,"user_id":12806467,"display_name":"MrSolarius"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647515993,"creation_date":1647515993,"answer_id":71511436,"question_id":53595226,"body_markdown":"It&#39;s precised in the Javadoc of oracle that is not possible and not in the spec : https://docs.oracle.com/javaee/6/api/javax/persistence/GeneratedValue.html\r\n\r\n&gt; Use of the GeneratedValue annotation is not supported for derived primary keys.\r\n\r\nAnd I found nothing about how to do it with build in tools. So you need to do yours own implementation of that.","title":"How to autoincrement an Id in a composite primary key in Hibernate?","body":"<p>It's precised in the Javadoc of oracle that is not possible and not in the spec : <a href=\"https://docs.oracle.com/javaee/6/api/javax/persistence/GeneratedValue.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javaee/6/api/javax/persistence/GeneratedValue.html</a></p>\n<blockquote>\n<p>Use of the GeneratedValue annotation is not supported for derived primary keys.</p>\n</blockquote>\n<p>And I found nothing about how to do it with build in tools. So you need to do yours own implementation of that.</p>\n"}],"owner":{"account_id":3518556,"reputation":278,"user_id":2941416,"accept_rate":0,"display_name":"Ramdas Nair"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6678,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1647515993,"creation_date":1543844999,"question_id":53595226,"body_markdown":"I have a table with a composite primary key - **groupId** and **batchId**. Entity class looks like:\r\n\r\n    @Entity(name=&quot;EMPLOYEE&quot;)\r\n    public class Employee {\r\n    \r\n    \t@EmbeddedId\r\n    \tprivate EmployeePK employeePK;\r\n    \t\r\n    \t//Other columns and their getters and setters\r\n    \t//Getters and setters\r\n    }\r\n\r\nComposite PK:\r\n\r\n\r\n    @Embeddable\r\n    public class EmployeePK implements Serializable {\r\n    \t\r\n    \tprivate long groupId;\r\n    \tprivate long batchId;\r\n    \t\r\n    \t@GeneratedValue(strategy=GenerationType.AUTO)\r\n    \tpublic long getBatchId() {\r\n    \t\treturn batchId;\r\n    \t}\r\n    \r\n    \tpublic void setBatchId(long batchId) {\r\n    \t\tthis.batchId = batchId;\r\n    \t}\r\n    }\r\n\r\nI&#39;m trying to auto increment the batch Id, for a new record to be inserted.\r\n\r\n    //For saving\r\n    Employee employee = new Employee();\r\n    EmployeePK pk = new IRAmendmentBatchesPK();\r\n    pk.setBatchId(0);\r\n    pk.setGroupId(4388);\r\n    \r\n    Employee employee = employeeRepository.save(employee);\r\n    \r\n    \r\n    //Repository Interface\r\n    public interface EmployeeRepository extends JpaRepository&lt;Employee, EmployeePK&gt;{\r\n    \r\n    }\r\n\r\nI&#39;m explicity setting **batchId** as 0, in hopes that the auto-incremented value is set in the batchId during save(insert). As of now, this code will save a new entry with batchId as 0.","title":"How to autoincrement an Id in a composite primary key in Hibernate?","body":"<p>I have a table with a composite primary key - <strong>groupId</strong> and <strong>batchId</strong>. Entity class looks like:</p>\n\n<pre><code>@Entity(name=\"EMPLOYEE\")\npublic class Employee {\n\n    @EmbeddedId\n    private EmployeePK employeePK;\n\n    //Other columns and their getters and setters\n    //Getters and setters\n}\n</code></pre>\n\n<p>Composite PK:</p>\n\n<pre><code>@Embeddable\npublic class EmployeePK implements Serializable {\n\n    private long groupId;\n    private long batchId;\n\n    @GeneratedValue(strategy=GenerationType.AUTO)\n    public long getBatchId() {\n        return batchId;\n    }\n\n    public void setBatchId(long batchId) {\n        this.batchId = batchId;\n    }\n}\n</code></pre>\n\n<p>I'm trying to auto increment the batch Id, for a new record to be inserted.</p>\n\n<pre><code>//For saving\nEmployee employee = new Employee();\nEmployeePK pk = new IRAmendmentBatchesPK();\npk.setBatchId(0);\npk.setGroupId(4388);\n\nEmployee employee = employeeRepository.save(employee);\n\n\n//Repository Interface\npublic interface EmployeeRepository extends JpaRepository&lt;Employee, EmployeePK&gt;{\n\n}\n</code></pre>\n\n<p>I'm explicity setting <strong>batchId</strong> as 0, in hopes that the auto-incremented value is set in the batchId during save(insert). As of now, this code will save a new entry with batchId as 0.</p>\n"},{"tags":["java","spring-boot","docker","kubernetes","rsa"],"comments":[{"owner":{"account_id":16872986,"reputation":7647,"user_id":12201084,"display_name":"Matt"},"score":0,"creation_date":1586184345,"post_id":61053525,"comment_id":108027739,"body_markdown":"Have you considered using base64 encoding for your pem file?","body":"Have you considered using base64 encoding for your pem file?"},{"owner":{"account_id":409296,"reputation":2255,"user_id":800910,"accept_rate":58,"display_name":"Sudhanshu Gupta"},"score":0,"creation_date":1586194995,"post_id":61053525,"comment_id":108033725,"body_markdown":"@HelloWorld No, I didn&#39;t consider. Is this a good way?","body":"@HelloWorld No, I didn&#39;t consider. Is this a good way?"},{"owner":{"account_id":409296,"reputation":2255,"user_id":800910,"accept_rate":58,"display_name":"Sudhanshu Gupta"},"score":0,"creation_date":1587545721,"post_id":61053525,"comment_id":108550341,"body_markdown":"@JonathanJOhx can you please look into the question","body":"@JonathanJOhx can you please look into the question"}],"answers":[{"tags":[],"owner":{"account_id":7242784,"reputation":27789,"user_id":5525824,"display_name":"Harsh Manvar"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1586153183,"creation_date":1586153183,"answer_id":61053829,"question_id":61053525,"body_markdown":"I am using python and storing keys in `configmap` and `secrets`. Loading keys in JSON format. Previously when i was fetching keys from `secret` i was facing issue of `/n` and white spaces which added and manage automatically.\r\n\r\nIn python `config.py` i am replacing it with `/n` and loading JSON. \r\n\r\nFor example :\r\n\r\n    app.config[&#39;CLIENT_SECRET&#39;] = json.loads(os.environ.get(&quot;CLIENT_SECRET&quot;).replace(&quot;\\&#39;&quot;, &quot;&quot;))\r\n\r\nhere test example key for `configmap` : \r\n\r\n\r\n    CLIENT_SECRET: &#39;{&quot;type&quot;: &quot;service_account&quot;, &quot;project_id&quot;: &quot;test-check-x&quot;, &quot;private_key_id&quot;: &quot;b0a8b2860c4646db85c7625c3610e4dafd9rr495&quot;, &quot;private_key&quot;: &quot;-----BEGIN PRIVATE KEY-----\\nNGGEvAIBRTANBgkqhkiG9w0BAQEFCCSCBKYwggSiAgEAAoIBAQC2rC4PLop8907yt\\nHqFb9BmmetaCwGCDC30XP7zxamyOCnkSVdHfMmVTphR9iajDU1/6PJVTHm5ANeww\\n2x6RGn0/Y6Krc63oBuqUTE8ZNemmRef7u1D/EYpizGP8TNrI4wYrChdfdfdKl4V4AI8C\\ndpVwQkHPaEtJpDjRiID9Xt3+xbR0RNJg4ueuyie6nBXHQmx+g9ox0DFOj+s79VEB\\nQOkqjKQuutHGhPtvomCLqfO+f1NTMXVhePq3gFawuTM0IZ9SF084EsJrKNxsi1yr\\nUA8jaHAPckk8boSllFXHHpoU80AahrWd+bd+PdrfSjj95I1cgPYcLYbB7Wu7n1zo\\n0SJD1EQLAgMBAAECggEAFGtB/sUctS3LG62H1efUPNgQRa9MBSScnU5XnW4K/QRO\\nAkRWNapuycnkmNcGu/FZkiGBgzd+QBkxnJ3HA0CVwtHYAMLpK+gnV9+rxnf7SnBt\\nUlCJk5QaBu8tN1TpQ86fWuJBUlmGPCK72Zz4bq2eqO4nNEUcwMyPC+4LHIvBnygh\\n/TpM/1SDcgzQGqLCE1cpX4PXyU5P9mSBY9IOrI7gkhKvhVBFEGgVzyzwHBmIfSFJ\\nZqtJW/lbfqTt/gm00c4w6jiRROfaWXVif70y2XkCFIdftE5at8Ldfc//oRkCnOxt\\niOag1SKN/fX1tmSGBtu3pl7kkF92lMEfiP7Ewvu9SQKBgQDvtRRSnQxniMwBTLib\\nNYinH0KB89jEjVDh7RoDx76mdu+2U7RaX4xxCkY3Z/y5lVoCUue+t/14uNRLgQPW\\njumKnBOBvT2r7G0C/uwcQbhi1MTK0zoVbrx6MJ8R3gE+6HWEG8J/1+UgyMbGo3aB\\nFNe8wja65SEBA/IC6xcFlaMcvwKBgQDDFrFNOOuzUJ06jcBppQISDGs012jdD+Qr\\nsTGPetD68oQxhcNHQ44tCRqbmq2iDA7I5YRikabtHIOVIs0rblSXOVEr3sS3kOnU\\nGGIKhykDnK8vs4g4t+N/WrZeoD/Ez9Vlpc7VHITnx1/9AVJqJGXvmfco495DmBXC\\nSbwZzN5PtQKBgEPxf6ErAqkWDT0REgJsWh+ErMVI6NhNde+T1RvdMhzc+XUkpKo5\\nCwW/c8egofG4c5rVBPr6C858FTCRkRTvzSKMurq7eQ+SJBQFTcd0mV7qEB2tYXlR\\nufqobW4TDydVnHmlpKu39iokvrLvAlf0IHJQWlL/Pyuagq5xFEVw9JrhAoGAIoiU\\n0BegWXiOrHvFMK495JYAMDVlYaRbfoR6Qmy6K4Hcdqu3+phxxXUUGbFSxRmfUF6Y\\nhZ5Ezzo57J9hdCuum6pQvRRM/DWRvrKmQDjWwMXumOIN3gRnJ/cVy0BQqXUk0D5+\\nk2jd+e1oB3BBd3qD9NrrTnivsoVsbJ0CyApk2/UCgYAtcCnsnkySdDee4IwV7Ns+\\nSqKExRX6xt69JrNlCExyTF35+ZyZMrDZR6wxUIVPWn//vVNA9KQiRgfOlCRjvbxe\\nl5fRS2auOH1/DztMFUWGhuNXTjlLNgZRKhuJF4txUzdHJnoIXL/8bfMCKYCxZKbmf\\nC7huNhJNf+btG27zr8MD7Q==\\n-----END PRIVATE KEY-----\\n&quot;, &quot;client_email&quot;: &quot;script-test@test-checck-x.iam.gserviceaccount.com&quot;, &quot;client_id&quot;: &quot;11425276876957878&quot;, &quot;auth_uri&quot;: &quot;https://accounts.google.com/o/oauth2/auth&quot;, &quot;token_uri&quot;: &quot;https://oauth2.googleapis.com/token&quot;, &quot;auth_provider_x509_cert_url&quot;: &quot;https://www.googleapis.com/oauth2/v1/certs&quot;, &quot;client_x509_cert_url&quot;: &quot;https://www.googleapis.com/robot/v1/metadata/x509/script-test%40test-chec-x.iam.gserviceaccount.com&quot;}&#39;\r\n\r\ni have not much idea of spring boot but it&#39;s working well for me this way.","title":"RSA private key in secrets file in a centralized configurations","body":"<p>I am using python and storing keys in <code>configmap</code> and <code>secrets</code>. Loading keys in JSON format. Previously when i was fetching keys from <code>secret</code> i was facing issue of <code>/n</code> and white spaces which added and manage automatically.</p>\n\n<p>In python <code>config.py</code> i am replacing it with <code>/n</code> and loading JSON. </p>\n\n<p>For example :</p>\n\n<pre><code>app.config['CLIENT_SECRET'] = json.loads(os.environ.get(\"CLIENT_SECRET\").replace(\"\\'\", \"\"))\n</code></pre>\n\n<p>here test example key for <code>configmap</code> : </p>\n\n<pre><code>CLIENT_SECRET: '{\"type\": \"service_account\", \"project_id\": \"test-check-x\", \"private_key_id\": \"b0a8b2860c4646db85c7625c3610e4dafd9rr495\", \"private_key\": \"-----BEGIN PRIVATE KEY-----\\nNGGEvAIBRTANBgkqhkiG9w0BAQEFCCSCBKYwggSiAgEAAoIBAQC2rC4PLop8907yt\\nHqFb9BmmetaCwGCDC30XP7zxamyOCnkSVdHfMmVTphR9iajDU1/6PJVTHm5ANeww\\n2x6RGn0/Y6Krc63oBuqUTE8ZNemmRef7u1D/EYpizGP8TNrI4wYrChdfdfdKl4V4AI8C\\ndpVwQkHPaEtJpDjRiID9Xt3+xbR0RNJg4ueuyie6nBXHQmx+g9ox0DFOj+s79VEB\\nQOkqjKQuutHGhPtvomCLqfO+f1NTMXVhePq3gFawuTM0IZ9SF084EsJrKNxsi1yr\\nUA8jaHAPckk8boSllFXHHpoU80AahrWd+bd+PdrfSjj95I1cgPYcLYbB7Wu7n1zo\\n0SJD1EQLAgMBAAECggEAFGtB/sUctS3LG62H1efUPNgQRa9MBSScnU5XnW4K/QRO\\nAkRWNapuycnkmNcGu/FZkiGBgzd+QBkxnJ3HA0CVwtHYAMLpK+gnV9+rxnf7SnBt\\nUlCJk5QaBu8tN1TpQ86fWuJBUlmGPCK72Zz4bq2eqO4nNEUcwMyPC+4LHIvBnygh\\n/TpM/1SDcgzQGqLCE1cpX4PXyU5P9mSBY9IOrI7gkhKvhVBFEGgVzyzwHBmIfSFJ\\nZqtJW/lbfqTt/gm00c4w6jiRROfaWXVif70y2XkCFIdftE5at8Ldfc//oRkCnOxt\\niOag1SKN/fX1tmSGBtu3pl7kkF92lMEfiP7Ewvu9SQKBgQDvtRRSnQxniMwBTLib\\nNYinH0KB89jEjVDh7RoDx76mdu+2U7RaX4xxCkY3Z/y5lVoCUue+t/14uNRLgQPW\\njumKnBOBvT2r7G0C/uwcQbhi1MTK0zoVbrx6MJ8R3gE+6HWEG8J/1+UgyMbGo3aB\\nFNe8wja65SEBA/IC6xcFlaMcvwKBgQDDFrFNOOuzUJ06jcBppQISDGs012jdD+Qr\\nsTGPetD68oQxhcNHQ44tCRqbmq2iDA7I5YRikabtHIOVIs0rblSXOVEr3sS3kOnU\\nGGIKhykDnK8vs4g4t+N/WrZeoD/Ez9Vlpc7VHITnx1/9AVJqJGXvmfco495DmBXC\\nSbwZzN5PtQKBgEPxf6ErAqkWDT0REgJsWh+ErMVI6NhNde+T1RvdMhzc+XUkpKo5\\nCwW/c8egofG4c5rVBPr6C858FTCRkRTvzSKMurq7eQ+SJBQFTcd0mV7qEB2tYXlR\\nufqobW4TDydVnHmlpKu39iokvrLvAlf0IHJQWlL/Pyuagq5xFEVw9JrhAoGAIoiU\\n0BegWXiOrHvFMK495JYAMDVlYaRbfoR6Qmy6K4Hcdqu3+phxxXUUGbFSxRmfUF6Y\\nhZ5Ezzo57J9hdCuum6pQvRRM/DWRvrKmQDjWwMXumOIN3gRnJ/cVy0BQqXUk0D5+\\nk2jd+e1oB3BBd3qD9NrrTnivsoVsbJ0CyApk2/UCgYAtcCnsnkySdDee4IwV7Ns+\\nSqKExRX6xt69JrNlCExyTF35+ZyZMrDZR6wxUIVPWn//vVNA9KQiRgfOlCRjvbxe\\nl5fRS2auOH1/DztMFUWGhuNXTjlLNgZRKhuJF4txUzdHJnoIXL/8bfMCKYCxZKbmf\\nC7huNhJNf+btG27zr8MD7Q==\\n-----END PRIVATE KEY-----\\n\", \"client_email\": \"script-test@test-checck-x.iam.gserviceaccount.com\", \"client_id\": \"11425276876957878\", \"auth_uri\": \"https://accounts.google.com/o/oauth2/auth\", \"token_uri\": \"https://oauth2.googleapis.com/token\", \"auth_provider_x509_cert_url\": \"https://www.googleapis.com/oauth2/v1/certs\", \"client_x509_cert_url\": \"https://www.googleapis.com/robot/v1/metadata/x509/script-test%40test-chec-x.iam.gserviceaccount.com\"}'\n</code></pre>\n\n<p>i have not much idea of spring boot but it's working well for me this way.</p>\n"},{"tags":[],"owner":{"account_id":3055354,"reputation":537,"user_id":2589120,"display_name":"Ali Katkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647515855,"creation_date":1647504025,"answer_id":71508818,"question_id":61053525,"body_markdown":"Maybe not best but a clean solution is to use profiling of Spring Boot. This way no need to create environment variables but there is a down side.  The prod private key can be accessible from repo.\r\n\r\n    firebase:\r\n      service-account:\r\n        private-key: |\r\n            -----BEGIN PRIVATE KEY-----\r\n            ...\r\n            ZD/MoHk8ClDoiveLXZQt/A==\r\n            -----END PRIVATE KEY-----\r\n    \r\n    ---\r\n    ### Prod Profile\r\n    spring:\r\n      config:\r\n        activate:\r\n          on-profile: prod\r\n    \r\n    firebase:\r\n      service-account:\r\n        private-key: |\r\n            -----BEGIN PRIVATE KEY-----\r\n            ...\r\n            fhZupTPZ8G/StKw0YXuDDaYQ\r\n            -----END PRIVATE KEY-----","title":"RSA private key in secrets file in a centralized configurations","body":"<p>Maybe not best but a clean solution is to use profiling of Spring Boot. This way no need to create environment variables but there is a down side.  The prod private key can be accessible from repo.</p>\n<pre><code>firebase:\n  service-account:\n    private-key: |\n        -----BEGIN PRIVATE KEY-----\n        ...\n        ZD/MoHk8ClDoiveLXZQt/A==\n        -----END PRIVATE KEY-----\n\n---\n### Prod Profile\nspring:\n  config:\n    activate:\n      on-profile: prod\n\nfirebase:\n  service-account:\n    private-key: |\n        -----BEGIN PRIVATE KEY-----\n        ...\n        fhZupTPZ8G/StKw0YXuDDaYQ\n        -----END PRIVATE KEY-----\n</code></pre>\n"}],"owner":{"account_id":409296,"reputation":2255,"user_id":800910,"accept_rate":58,"display_name":"Sudhanshu Gupta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1555,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647515855,"creation_date":1586151385,"question_id":61053525,"body_markdown":"I am creating an application where I am placing the RSA private key in application.yml to be read as a string. \r\nI want to put it in a secrets file and read it from a secret file where my all centralized configurations are available. \r\nMy Requirement is, I want to read it from secret file as a string and not from .pem file\r\n\r\nIn application.yml, generally how am I using the central config.\r\n\r\n    logging:\r\n      level:\r\n        org:\r\n          springframework: ${LOG_LEVEL:INFO}\r\n\r\nSo we put the `LOG_LEVEL=INFO` in centralized config which is used by docker and EKS to deploy the application.\r\nSimilarly, we have a secrets file to keep the passwords, keys, etc.\r\n\r\n    Two questions:-\r\n    \r\n     1. How can I put private keys in application.yml with a variable and\r\n        default value?\r\n     2. How can I put the key in the secrets file in the centralized config?\r\n\r\n\r\nWorking RSA key in application.yml without variable and default value but to externalize it I need variable which spring boot can read.\r\n\r\n       privateKey: |\r\n                 -----BEGIN RSA PRIVATE KEY----- \r\n                 Key data\r\n                 -----END RSA PRIVATE KEY-----\r\n\r\n\r\nI tried to do put it in a variable as we do for logs but that doesn&#39;t work.\r\n\r\n       privateKey: ${PRIVATE_KEY:|\r\n                 -----BEGIN RSA PRIVATE KEY----- \r\n                 Key data\r\n                 -----END RSA PRIVATE KEY-----}\r\n\r\nIs there a way we can use the private key as a string in application.yml and centralize it too.\r\n\r\nLet me know if you need more information.","title":"RSA private key in secrets file in a centralized configurations","body":"<p>I am creating an application where I am placing the RSA private key in application.yml to be read as a string. \nI want to put it in a secrets file and read it from a secret file where my all centralized configurations are available. \nMy Requirement is, I want to read it from secret file as a string and not from .pem file</p>\n\n<p>In application.yml, generally how am I using the central config.</p>\n\n<pre><code>logging:\n  level:\n    org:\n      springframework: ${LOG_LEVEL:INFO}\n</code></pre>\n\n<p>So we put the <code>LOG_LEVEL=INFO</code> in centralized config which is used by docker and EKS to deploy the application.\nSimilarly, we have a secrets file to keep the passwords, keys, etc.</p>\n\n<pre><code>Two questions:-\n\n 1. How can I put private keys in application.yml with a variable and\n    default value?\n 2. How can I put the key in the secrets file in the centralized config?\n</code></pre>\n\n<p>Working RSA key in application.yml without variable and default value but to externalize it I need variable which spring boot can read.</p>\n\n<pre><code>   privateKey: |\n             -----BEGIN RSA PRIVATE KEY----- \n             Key data\n             -----END RSA PRIVATE KEY-----\n</code></pre>\n\n<p>I tried to do put it in a variable as we do for logs but that doesn't work.</p>\n\n<pre><code>   privateKey: ${PRIVATE_KEY:|\n             -----BEGIN RSA PRIVATE KEY----- \n             Key data\n             -----END RSA PRIVATE KEY-----}\n</code></pre>\n\n<p>Is there a way we can use the private key as a string in application.yml and centralize it too.</p>\n\n<p>Let me know if you need more information.</p>\n"},{"tags":["java","spring","spring-boot","caching"],"comments":[{"owner":{"account_id":3062336,"reputation":5575,"user_id":2594725,"accept_rate":12,"display_name":"cruftex"},"score":0,"creation_date":1648287835,"post_id":71511186,"comment_id":126589901,"body_markdown":"Instead of a random number: Maybe better generate a timestamp, concatenate it with a local secret and hash it. When a request comes back you can verify that the challenge was from you and you have the timestamp. You don&#39;t need to store anything.","body":"Instead of a random number: Maybe better generate a timestamp, concatenate it with a local secret and hash it. When a request comes back you can verify that the challenge was from you and you have the timestamp. You don&#39;t need to store anything."}],"answers":[{"tags":[],"owner":{"account_id":14963595,"reputation":728,"user_id":10802597,"display_name":"MrFisherman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647515422,"creation_date":1647515422,"answer_id":71511314,"question_id":71511186,"body_markdown":"Maybe you should use Redis (key-value) database for it. You could set expire key property like here: \r\n\r\n&gt; Set a timeout on key. After the timeout has expired, the key will\r\n&gt; automatically be deleted.\r\n\r\n","title":"Using Map as an in-memory cache in Spring with TTL","body":"<p>Maybe you should use Redis (key-value) database for it. You could set expire key property like here:</p>\n<blockquote>\n<p>Set a timeout on key. After the timeout has expired, the key will\nautomatically be deleted.</p>\n</blockquote>\n"}],"owner":{"account_id":24277494,"reputation":91,"user_id":18224588,"display_name":"Licie Steinitz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":688,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647515422,"creation_date":1647514898,"question_id":71511186,"body_markdown":"I&#39;m implementing an authorization logic with passwordless login. \r\n\r\nIn order to log in to the system a client must:\r\n1. send **GET** `/auth/challenge` request along with their username\r\n2. get response from the above request which contains some encyption, do magic and send **POST** `/auth/verify` request with generated secret and (hopefully) get logged in\r\n\r\nRight now I&#39;m thinking about ways to ensure that `/auth/verify` is called right after `/auth/challenge` and not in say 1-2 days after `/auth/challenge` was made.\r\n\r\nSo, when `/auth/challenge` is performed, a large random prime is generated and then encoded and sent along with some other stuff. When it&#39;s generated on the server-side I can save it with a current timestamp and perform validation on expiration when second request is sent, but that seems as too much unneeded interactions with a db.  Saving encoded primes to some map with ttl seems like a more elegant approach, but in this case there&#39;s a need of removing old map entries which right now I can imagine only in a for of some `@Scheduler` which would remove &quot;expired&quot; primes. \r\n\r\nWhould it be efficient to store encoded primes like this, or is there any other more request-oriented way of doing this?\r\n","title":"Using Map as an in-memory cache in Spring with TTL","body":"<p>I'm implementing an authorization logic with passwordless login.</p>\n<p>In order to log in to the system a client must:</p>\n<ol>\n<li>send <strong>GET</strong> <code>/auth/challenge</code> request along with their username</li>\n<li>get response from the above request which contains some encyption, do magic and send <strong>POST</strong> <code>/auth/verify</code> request with generated secret and (hopefully) get logged in</li>\n</ol>\n<p>Right now I'm thinking about ways to ensure that <code>/auth/verify</code> is called right after <code>/auth/challenge</code> and not in say 1-2 days after <code>/auth/challenge</code> was made.</p>\n<p>So, when <code>/auth/challenge</code> is performed, a large random prime is generated and then encoded and sent along with some other stuff. When it's generated on the server-side I can save it with a current timestamp and perform validation on expiration when second request is sent, but that seems as too much unneeded interactions with a db.  Saving encoded primes to some map with ttl seems like a more elegant approach, but in this case there's a need of removing old map entries which right now I can imagine only in a for of some <code>@Scheduler</code> which would remove &quot;expired&quot; primes.</p>\n<p>Whould it be efficient to store encoded primes like this, or is there any other more request-oriented way of doing this?</p>\n"},{"tags":["java","bloomberg"],"answers":[{"tags":[],"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647514491,"creation_date":1647514491,"answer_id":71511114,"question_id":71510748,"body_markdown":"This is not about event order but about how you retrieve the event - in synchronous mode, you need to call nextEvent to get the next event - in asynchronous mode the `processEvent` method of your event handler will be called each time a new event is published.","title":"How does event handler of Bloomberg API library behave?","body":"<p>This is not about event order but about how you retrieve the event - in synchronous mode, you need to call nextEvent to get the next event - in asynchronous mode the <code>processEvent</code> method of your event handler will be called each time a new event is published.</p>\n"}],"owner":{"account_id":122958,"reputation":1044,"user_id":317103,"accept_rate":67,"display_name":"Franz Wong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":236,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647514491,"creation_date":1647512873,"question_id":71510748,"body_markdown":"https://bloomberg.github.io/blpapi-docs/java/3.18/com/bloomberglp/blpapi/Session.html\r\n\r\nThis page says `A Session is asynchronous if an EventHandler object is supplied when it is constructed.` Does that mean the order of the events received by `EventHandler` is not guaranteed even the `SubscriptionList` contains 1 ticker only?","title":"How does event handler of Bloomberg API library behave?","body":"<p><a href=\"https://bloomberg.github.io/blpapi-docs/java/3.18/com/bloomberglp/blpapi/Session.html\" rel=\"nofollow noreferrer\">https://bloomberg.github.io/blpapi-docs/java/3.18/com/bloomberglp/blpapi/Session.html</a></p>\n<p>This page says <code>A Session is asynchronous if an EventHandler object is supplied when it is constructed.</code> Does that mean the order of the events received by <code>EventHandler</code> is not guaranteed even the <code>SubscriptionList</code> contains 1 ticker only?</p>\n"},{"tags":["java","sql","jpa"],"comments":[{"owner":{"account_id":5967181,"reputation":542,"user_id":4690672,"display_name":"Nayanish Damania"},"score":0,"creation_date":1647493631,"post_id":71507320,"comment_id":126386501,"body_markdown":"Truncate is efficient you can use it. Delete query might take some time to execute if data size is huge.","body":"Truncate is efficient you can use it. Delete query might take some time to execute if data size is huge."}],"answers":[{"tags":[],"owner":{"account_id":4982726,"reputation":21,"user_id":4007191,"display_name":"Dinesh Saraswat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647499108,"creation_date":1647499108,"answer_id":71507974,"question_id":71507320,"body_markdown":"Truncating a table means we have no way of recovering the data, once done. \r\n\r\nI believe DELETE is a better option in this case, given that we are expecting the table size is not very big.\r\n\r\nIf we are expecting a table size to be very big in terms of volume of data we are planning to store, then even in that case I recommend to use to DELETE given that we do not want to delete tables without any conditions in such cases. \r\n\r\nAlso if we are using a table only for the session of the java program I believe we can use a TEMP table instead of main table, that will help you to not DELETE it explicitly and it will be purged once the session is over.\r\n\r\nTruncate should only be used when you are absolutely sure of DELETING the entire table and you have no intention of recovering it at all. \r\n","title":"Delete or Truncate if no conditions involved","body":"<p>Truncating a table means we have no way of recovering the data, once done.</p>\n<p>I believe DELETE is a better option in this case, given that we are expecting the table size is not very big.</p>\n<p>If we are expecting a table size to be very big in terms of volume of data we are planning to store, then even in that case I recommend to use to DELETE given that we do not want to delete tables without any conditions in such cases.</p>\n<p>Also if we are using a table only for the session of the java program I believe we can use a TEMP table instead of main table, that will help you to not DELETE it explicitly and it will be purged once the session is over.</p>\n<p>Truncate should only be used when you are absolutely sure of DELETING the entire table and you have no intention of recovering it at all.</p>\n"},{"tags":[],"owner":{"account_id":24585628,"reputation":21,"user_id":18490182,"display_name":"nzLoop"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647499817,"creation_date":1647499817,"answer_id":71508098,"question_id":71507320,"body_markdown":"There is no strict answer.\r\nThere are several differences between DELETE and TRUNCATE commands.\r\nIn general, TRUNCATE works faster - the reason is evident: it is unconditional and does not perform search on the table.\r\nAnother difference is the identity: TRUNCATE reseeds the table identity, DELETE does not.\r\nFor example, you have the users table with column ID defined as identity and column Name: \r\n1  | John Doe\r\n2  | Max Mustermann\r\n3  | Israel Israeli\r\n\r\nSuppose you delete user with ID=3 via the DELETE command (with WHERE clause or not - does not even matter). Inserting another user will NEVER create a user with ID=3, most probably the created ID will be 4 (but there are situations when it can be different).\r\nTruncating the table will start the identity from 1.\r\n\r\nIf you do not worry about identity and there are no foreign keys which may prevent you from deleting records - I would use TRUNCATE.\r\n\r\nUpdate: Dinesh (below) is right, TRUNCATE is irreversible. This should be also taken into consideration.","title":"Delete or Truncate if no conditions involved","body":"<p>There is no strict answer.\nThere are several differences between DELETE and TRUNCATE commands.\nIn general, TRUNCATE works faster - the reason is evident: it is unconditional and does not perform search on the table.\nAnother difference is the identity: TRUNCATE reseeds the table identity, DELETE does not.\nFor example, you have the users table with column ID defined as identity and column Name:\n1  | John Doe\n2  | Max Mustermann\n3  | Israel Israeli</p>\n<p>Suppose you delete user with ID=3 via the DELETE command (with WHERE clause or not - does not even matter). Inserting another user will NEVER create a user with ID=3, most probably the created ID will be 4 (but there are situations when it can be different).\nTruncating the table will start the identity from 1.</p>\n<p>If you do not worry about identity and there are no foreign keys which may prevent you from deleting records - I would use TRUNCATE.</p>\n<p>Update: Dinesh (below) is right, TRUNCATE is irreversible. This should be also taken into consideration.</p>\n"},{"tags":[],"owner":{"account_id":12039918,"reputation":3380,"user_id":8807231,"display_name":"Alaindeseine"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647514384,"creation_date":1647502506,"answer_id":71508536,"question_id":71507320,"body_markdown":"You should use TRUNCATE if you need to reset AUTO_INCREMENT fields.\r\n\r\nDELETE of all rows will not.\r\n\r\nOther difference is performance, TRUNCATE will be faster than DELETE all row.\r\n\r\nEither TRUNCATE or DELETE will remove definitively rows, \r\ncontrary to what was mentioned in another answer, except if DELETE is  execute inside a TRANCACTION which is ROLLBACK. But if TRANSACTION is commited, no recover is possible.","title":"Delete or Truncate if no conditions involved","body":"<p>You should use TRUNCATE if you need to reset AUTO_INCREMENT fields.</p>\n<p>DELETE of all rows will not.</p>\n<p>Other difference is performance, TRUNCATE will be faster than DELETE all row.</p>\n<p>Either TRUNCATE or DELETE will remove definitively rows,\ncontrary to what was mentioned in another answer, except if DELETE is  execute inside a TRANCACTION which is ROLLBACK. But if TRANSACTION is commited, no recover is possible.</p>\n"}],"owner":{"account_id":1471077,"reputation":5601,"user_id":1382647,"accept_rate":43,"display_name":"fatherazrael"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":332,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1647514384,"creation_date":1647493435,"question_id":71507320,"body_markdown":"I am peer reviewing a code.\r\n\r\nI found lots of Delete statement without conditions where Developers are removing data from table and inserting fresh data.  \r\n\r\n    public void deleteAll() throws Exception {\r\n    \t\tString sql = &quot;DELETE FROM ERP_FND_USER&quot;;\r\n    \t\tentityManager.createNativeQuery(sql, FndUserFromErp.class).executeUpdate();\r\n    \t\tLOG.log(Level.INFO, &quot;TERP_FND_USER all data deleted&quot;);\r\n    \t}\r\n\r\nShall i make it standard to always use Truncate when delete all data as Truncate is more efficient when delete all? (or shall i be suspicious that in future a condition will come and we would need to change statement)? \r\n\r\nI think rollbacking thing also not implemented in code i.e not transactional .","title":"Delete or Truncate if no conditions involved","body":"<p>I am peer reviewing a code.</p>\n<p>I found lots of Delete statement without conditions where Developers are removing data from table and inserting fresh data.</p>\n<pre><code>public void deleteAll() throws Exception {\n        String sql = &quot;DELETE FROM ERP_FND_USER&quot;;\n        entityManager.createNativeQuery(sql, FndUserFromErp.class).executeUpdate();\n        LOG.log(Level.INFO, &quot;TERP_FND_USER all data deleted&quot;);\n    }\n</code></pre>\n<p>Shall i make it standard to always use Truncate when delete all data as Truncate is more efficient when delete all? (or shall i be suspicious that in future a condition will come and we would need to change statement)?</p>\n<p>I think rollbacking thing also not implemented in code i.e not transactional .</p>\n"},{"tags":["java","android","bluetooth","crash"],"comments":[{"owner":{"account_id":12648068,"reputation":772,"user_id":9193164,"display_name":"Umer Farooq"},"score":0,"creation_date":1647513168,"post_id":71510732,"comment_id":126392182,"body_markdown":"Check the error log for more info. If you are can calling `socket.connect()` on main Thread this might cause crash","body":"Check the error log for more info. If you are can calling <code>socket.connect()</code> on main Thread this might cause crash"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1647513998,"post_id":71510732,"comment_id":126392470,"body_markdown":"`I want to see if there is a way to catch the errors and stop the app from crashing. ` Simple. Find out whch exceptions that let your app crash you do not catch. Then catch these eceptions too. The logcat is your friend.","body":"<code>I want to see if there is a way to catch the errors and stop the app from crashing. </code> Simple. Find out whch exceptions that let your app crash you do not catch. Then catch these eceptions too. The logcat is your friend."},{"owner":{"account_id":24581445,"reputation":5,"user_id":18486505,"display_name":"Dzh121"},"score":0,"creation_date":1647514311,"post_id":71510732,"comment_id":126392584,"body_markdown":"How do I do that can you give me an example. Because most of the crash are when I try socket.connect()","body":"How do I do that can you give me an example. Because most of the crash are when I try socket.connect()"},{"owner":{"account_id":15207672,"reputation":1864,"user_id":10973514,"display_name":"pref"},"score":0,"creation_date":1647554506,"post_id":71510732,"comment_id":126407344,"body_markdown":"You need to share the error log to see where your code is crashing","body":"You need to share the error log to see where your code is crashing"},{"owner":{"account_id":24581445,"reputation":5,"user_id":18486505,"display_name":"Dzh121"},"score":0,"creation_date":1647609441,"post_id":71510732,"comment_id":126419835,"body_markdown":"Sometimes it catch the error and doesn&#39;t crash other time it just don&#39;t and crash. And also when I try to choose which Bluetooth to connect to (I have drop down menu) the app just freeze for couple of seconds then it or connect or crash.","body":"Sometimes it catch the error and doesn&#39;t crash other time it just don&#39;t and crash. And also when I try to choose which Bluetooth to connect to (I have drop down menu) the app just freeze for couple of seconds then it or connect or crash."}],"owner":{"account_id":24581445,"reputation":5,"user_id":18486505,"display_name":"Dzh121"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647512800,"creation_date":1647512800,"question_id":71510732,"body_markdown":"When I am using in my app and it does something it wasn&#39;t supposed to like try to connect to paired but not connected Bluetooth device. The app crashes, I want to see if there is a way to catch the errors and stop the app from crashing.\r\nI&#39;m using\r\n\r\n    try {\r\n    \r\n        socket.connect();\r\n    } catch (IOException e) {\r\n        Log.e(&quot;ConnectFail&quot;, &quot;Socket.connect() Failed&quot;, e);\r\n        //e.printStackTrace();\r\n    \r\n        break;\r\n    }\r\nbut it still crashes.\r\n","title":"Crashes using Bluetooth Android studio/java","body":"<p>When I am using in my app and it does something it wasn't supposed to like try to connect to paired but not connected Bluetooth device. The app crashes, I want to see if there is a way to catch the errors and stop the app from crashing.\nI'm using</p>\n<pre><code>try {\n\n    socket.connect();\n} catch (IOException e) {\n    Log.e(&quot;ConnectFail&quot;, &quot;Socket.connect() Failed&quot;, e);\n    //e.printStackTrace();\n\n    break;\n}\n</code></pre>\n<p>but it still crashes.</p>\n"},{"tags":["java","android-studio","while-loop","geolocation","android-permissions"],"answers":[{"tags":[],"owner":{"account_id":20965102,"reputation":93,"user_id":15409326,"display_name":"ACTPOHOM"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647361353,"creation_date":1647361353,"answer_id":71485614,"question_id":71480692,"body_markdown":"i think it need more time to connect GPS,\r\ntry use boolean.\r\n\r\nExemple:\r\n\r\n```\r\nwhile(!GpsWorking)\r\n{\r\n    getLocationPermission();\r\n}\r\n\r\npublick void  getLocationPermission()\r\n{\r\n//if gps working\r\nGpsWorking = true;\r\n}\r\n\r\n```\r\n\r\nin simple terms you will call the method until you get the location\r\n\r\nonce the location is received, the **while(!GpsWorking)** will exit","title":"How do I make it so the app will automatically call getlocationpermission after the user returns from enabling location permission automatically","body":"<p>i think it need more time to connect GPS,\ntry use boolean.</p>\n<p>Exemple:</p>\n<pre><code>while(!GpsWorking)\n{\n    getLocationPermission();\n}\n\npublick void  getLocationPermission()\n{\n//if gps working\nGpsWorking = true;\n}\n\n</code></pre>\n<p>in simple terms you will call the method until you get the location</p>\n<p>once the location is received, the <strong>while(!GpsWorking)</strong> will exit</p>\n"}],"owner":{"account_id":24544185,"reputation":1,"user_id":18454283,"display_name":"Hou Feng Woo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647512628,"creation_date":1647340220,"question_id":71480692,"body_markdown":"       public void statusCheck() {\r\n        final LocationManager manager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\r\n        if (!manager.isProviderEnabled(LocationManager.GPS_PROVIDER)){\r\n            Intent intent = new Intent(MainActivity.this, NewActivity.class);\r\n            buildAlertMessageNoGps();\r\n        }\r\n    \r\n        while(manager.isProviderEnabled(LocationManager.GPS_PROVIDER) &amp;&amp; i&lt;2)\r\n        {\r\n            getLocationPermission();\r\n            i++;\r\n    \r\n        }\r\n    }\r\n\r\n\r\nThis is my code. Right now if location permission is not enabled, there will be an alert dialog that will take the user to their settings to enable it. However, when they return `getlocationpermission()` is not run so the app won&#39;t work. How do I make it so that the app will automatically call `getlocationpermission()` after the user returns from enabling location permission? Why is my code not working, why will it not call `getLocationpermission` after user `manager.isProviderEnabled(LocationManager.GPS_PROVIDER)` is true.","title":"How do I make it so the app will automatically call getlocationpermission after the user returns from enabling location permission automatically","body":"<pre><code>   public void statusCheck() {\n    final LocationManager manager = (LocationManager) getSystemService(Context.LOCATION_SERVICE);\n    if (!manager.isProviderEnabled(LocationManager.GPS_PROVIDER)){\n        Intent intent = new Intent(MainActivity.this, NewActivity.class);\n        buildAlertMessageNoGps();\n    }\n\n    while(manager.isProviderEnabled(LocationManager.GPS_PROVIDER) &amp;&amp; i&lt;2)\n    {\n        getLocationPermission();\n        i++;\n\n    }\n}\n</code></pre>\n<p>This is my code. Right now if location permission is not enabled, there will be an alert dialog that will take the user to their settings to enable it. However, when they return <code>getlocationpermission()</code> is not run so the app won't work. How do I make it so that the app will automatically call <code>getlocationpermission()</code> after the user returns from enabling location permission? Why is my code not working, why will it not call <code>getLocationpermission</code> after user <code>manager.isProviderEnabled(LocationManager.GPS_PROVIDER)</code> is true.</p>\n"},{"tags":["java","spring","object","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":20382503,"reputation":244,"user_id":14952296,"display_name":"stephane brun"},"score":0,"creation_date":1647422097,"post_id":71494230,"comment_id":126364363,"body_markdown":"Provide your test algorithm. I mean the code that call the Gebruiker constructor","body":"Provide your test algorithm. I mean the code that call the Gebruiker constructor"},{"owner":{"account_id":20382503,"reputation":244,"user_id":14952296,"display_name":"stephane brun"},"score":0,"creation_date":1647422265,"post_id":71494230,"comment_id":126364427,"body_markdown":"on your makePass function, use another variable name for the temporary var. or maybe just do: this.pass = naam + voornaam","body":"on your makePass function, use another variable name for the temporary var. or maybe just do: this.pass = naam + voornaam"},{"owner":{"display_name":"user15157252"},"score":0,"creation_date":1647423363,"post_id":71494230,"comment_id":126364860,"body_markdown":"Hey Stephane, that makes no difference.","body":"Hey Stephane, that makes no difference."}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647424615,"creation_date":1647424615,"answer_id":71494956,"question_id":71494230,"body_markdown":"The logic for presetting these values is in your constructor, but you are loading the entities using JPA (via Spring Data JPA). \r\nBut JPA uses your the parameterless constructor, therefore the code in question never gets executed.\r\n\r\nYou can put the logic for presetting this values in a life cycle method on the entity like the following:\r\n\r\n```java\r\n@PostLoad\r\npublic void initDefaults() {\r\n    this.gebruikersnaam = makeUser(naam, voornaam);\r\n    makePass(naam, voornaam);\r\n}\r\n```\r\n\r\nFor more information about JPA events see: https://www.baeldung.com/jpa-entity-lifecycle-events\r\n\r\nNote that you probably want to add a check if the values are already set, so you don&#39;t overwrite them.\r\n\r\n","title":"JPA keeps setting attributes as null","body":"<p>The logic for presetting these values is in your constructor, but you are loading the entities using JPA (via Spring Data JPA).\nBut JPA uses your the parameterless constructor, therefore the code in question never gets executed.</p>\n<p>You can put the logic for presetting this values in a life cycle method on the entity like the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@PostLoad\npublic void initDefaults() {\n    this.gebruikersnaam = makeUser(naam, voornaam);\n    makePass(naam, voornaam);\n}\n</code></pre>\n<p>For more information about JPA events see: <a href=\"https://www.baeldung.com/jpa-entity-lifecycle-events\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jpa-entity-lifecycle-events</a></p>\n<p>Note that you probably want to add a check if the values are already set, so you don't overwrite them.</p>\n"},{"tags":[],"owner":{"account_id":2513532,"reputation":51,"user_id":2185443,"display_name":"mithildobarkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647439278,"creation_date":1647439278,"answer_id":71498435,"question_id":71494230,"body_markdown":"The application is trying to invoke below two methods from the parameterized constructor. JPA will invoke no-args constructor for creating objects, due to which you are getting null value.\r\n\r\n    this.gebruikersnaam = makeUser(naam, voornaam);\r\n    makePass(naam, voornaam);\r\n\r\nCalling them through no-args, could resolve the issue.","title":"JPA keeps setting attributes as null","body":"<p>The application is trying to invoke below two methods from the parameterized constructor. JPA will invoke no-args constructor for creating objects, due to which you are getting null value.</p>\n<pre><code>this.gebruikersnaam = makeUser(naam, voornaam);\nmakePass(naam, voornaam);\n</code></pre>\n<p>Calling them through no-args, could resolve the issue.</p>\n"},{"tags":[],"owner":{"display_name":"user15157252"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647512534,"creation_date":1647512534,"answer_id":71510675,"question_id":71494230,"body_markdown":"Answer:JPA cannot use logic to correct db input in the entity itself. I should have put this logic in my service or my frontend application. Determing values based on db-values can be set in entity, but it cannot be placed in the db-value. for instance, I could have set a getter:\r\n\r\n```\r\ngetUsername() {\r\nreturn name + &quot;.&quot; + firstname;\r\n}\r\n```\r\n\r\n\r\nbut this would not set a username in de db.\r\n\r\nJpa entities specify the table/entity, it does&#39;t determine how the object gets created.","title":"JPA keeps setting attributes as null","body":"<p>Answer:JPA cannot use logic to correct db input in the entity itself. I should have put this logic in my service or my frontend application. Determing values based on db-values can be set in entity, but it cannot be placed in the db-value. for instance, I could have set a getter:</p>\n<pre><code>getUsername() {\nreturn name + &quot;.&quot; + firstname;\n}\n</code></pre>\n<p>but this would not set a username in de db.</p>\n<p>Jpa entities specify the table/entity, it does't determine how the object gets created.</p>\n"}],"owner":{"display_name":"user15157252"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":597,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1647512534,"creation_date":1647421333,"question_id":71494230,"body_markdown":"I am doing something stupid, but I cannot figure out what exactly. So I have an object User, which holds an automatic user and password creator. But in the creation, this is automatically set based on user input information. user+name, so the user can reset himself afterwards. \r\n\r\nSo when a user is added, the name and last name should create the user and pass. But my test keeps setting it as null. \r\n\r\nJPA should be able to load this in a certain way. Without having to use any @post.. method. The user and pass have to be set with each creation of an object, but they cannot be inputted when someone creates the user. \r\n--&gt; if I add the two in the constructor, and make a form that doesn&#39;t hold any field to fill up username and password (though using all the other ones), will it work with the protected constructor? \r\n\r\n```\r\n\r\n@Entity\r\n@Table(name = &quot;gebruikers&quot;)\r\n@NamedEntityGraph(name = &quot;Gebruiker.metConsigatiebonSet&quot;,\r\n        attributeNodes = @NamedAttributeNode(&quot;consignatiebonSet&quot;))\r\npublic class Gebruiker {\r\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long idgebruikers;\r\n    private String voornaam;\r\n    private String naam;\r\n    private String mail;\r\n    private boolean mailOk;\r\n    private String gebruikersnaam;\r\n    private String pass;\r\n    private String telefoonNr;\r\n    private String straat;\r\n    private String huisnummer;\r\n    private String postcode;\r\n    private String gemeente;\r\n    @Enumerated(EnumType.STRING)\r\n    private Gebruikersrol rol;\r\n    private String extraOpmerking;\r\n    @OneToMany @JoinColumn(name = &quot;consignatiebonId&quot;)\r\n    //@OrderBy(attribute1, attribute2,..\r\n    private Set&lt;Consignatiebon&gt; consignatiebonSet;\r\n\r\n    public Gebruiker(String voornaam, String naam, String mail, boolean mailOk,\r\n                     String telefoonNr, String straat, String huisnummer, String postcode, String gemeente,\r\n                     Gebruikersrol rol, String extraOpmerking) {\r\n        this.voornaam = voornaam;\r\n        this.naam = naam;\r\n        this.mail = mail;\r\n        this.mailOk = mailOk;\r\n\r\n        //the two below keep getting set as null\r\n        this.gebruikersnaam = makeUser(naam, voornaam);\r\n        makePass(naam, voornaam);\r\n\r\n        this.telefoonNr = telefoonNr;\r\n        this.straat = straat;\r\n        this.huisnummer = huisnummer;\r\n        this.postcode = postcode;\r\n        this.gemeente = gemeente;\r\n        this.rol = rol;\r\n        this.extraOpmerking = extraOpmerking;\r\n        this.consignatiebonSet = new LinkedHashSet&lt;&gt;();\r\n    }\r\n\r\n    protected Gebruiker() {};\r\n    \r\n    /*logic to determine input*/\r\n    public String makeUser(String naam, String voornaam) {\r\n        var gebruiker = new StringBuilder(naam);\r\n        gebruiker.append(&quot;.&quot;).append(voornaam);\r\n        return String.valueOf(gebruiker);\r\n    }\r\n    \r\n    public void makePass(String naam, String voornaam) {\r\n        var pass = naam + voornaam;\r\n        this.pass = pass;\r\n    }\r\n\r\n    /*getters*/\r\n\r\n    public long getIdgebruikers() {\r\n        return idgebruikers;\r\n    }\r\n\r\n    public String getVoornaam() {\r\n        return voornaam;\r\n    }\r\n\r\n    public String getNaam() {\r\n        return naam;\r\n    }\r\n\r\n    public String getMail() {\r\n        return mail;\r\n    }\r\n\r\n    public boolean isMailOk() {\r\n        return mailOk;\r\n    }\r\n\r\n    public String getGebruikersnaam() {\r\n        return gebruikersnaam;\r\n    }\r\n\r\n    public String getPass() {\r\n        return pass;\r\n    }\r\n\r\n    public String getTelefoonNr() {\r\n        return telefoonNr;\r\n    }\r\n\r\n    public String getStraat() {\r\n        return straat;\r\n    }\r\n\r\n    public String gethuisnummer() {\r\n        return huisnummer;\r\n    }\r\n\r\n    public String getPostcode() {\r\n        return postcode;\r\n    }\r\n\r\n    public String getGemeente() {\r\n        return gemeente;\r\n    }\r\n\r\n    public Gebruikersrol getRol() {\r\n        return rol;\r\n    }\r\n\r\n    public String getExtraOpmerking() {\r\n        return extraOpmerking;\r\n    }\r\n\r\n\r\n    /*mogelijkheid om consignatiebonnen in te voegen*/\r\n    public Set&lt;Consignatiebon&gt; getConsignatiebonSet() {\r\n        return Collections.unmodifiableSet(consignatiebonSet);\r\n    }\r\n\r\n    public boolean add(Consignatiebon bon) {\r\n        if (bon == null) {\r\n            throw new NullPointerException();\r\n        }\r\n        return consignatiebonSet.add(bon);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\n\r\n","title":"JPA keeps setting attributes as null","body":"<p>I am doing something stupid, but I cannot figure out what exactly. So I have an object User, which holds an automatic user and password creator. But in the creation, this is automatically set based on user input information. user+name, so the user can reset himself afterwards.</p>\n<p>So when a user is added, the name and last name should create the user and pass. But my test keeps setting it as null.</p>\n<p>JPA should be able to load this in a certain way. Without having to use any @post.. method. The user and pass have to be set with each creation of an object, but they cannot be inputted when someone creates the user.\n--&gt; if I add the two in the constructor, and make a form that doesn't hold any field to fill up username and password (though using all the other ones), will it work with the protected constructor?</p>\n<pre><code>\n@Entity\n@Table(name = &quot;gebruikers&quot;)\n@NamedEntityGraph(name = &quot;Gebruiker.metConsigatiebonSet&quot;,\n        attributeNodes = @NamedAttributeNode(&quot;consignatiebonSet&quot;))\npublic class Gebruiker {\n    @Id @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private long idgebruikers;\n    private String voornaam;\n    private String naam;\n    private String mail;\n    private boolean mailOk;\n    private String gebruikersnaam;\n    private String pass;\n    private String telefoonNr;\n    private String straat;\n    private String huisnummer;\n    private String postcode;\n    private String gemeente;\n    @Enumerated(EnumType.STRING)\n    private Gebruikersrol rol;\n    private String extraOpmerking;\n    @OneToMany @JoinColumn(name = &quot;consignatiebonId&quot;)\n    //@OrderBy(attribute1, attribute2,..\n    private Set&lt;Consignatiebon&gt; consignatiebonSet;\n\n    public Gebruiker(String voornaam, String naam, String mail, boolean mailOk,\n                     String telefoonNr, String straat, String huisnummer, String postcode, String gemeente,\n                     Gebruikersrol rol, String extraOpmerking) {\n        this.voornaam = voornaam;\n        this.naam = naam;\n        this.mail = mail;\n        this.mailOk = mailOk;\n\n        //the two below keep getting set as null\n        this.gebruikersnaam = makeUser(naam, voornaam);\n        makePass(naam, voornaam);\n\n        this.telefoonNr = telefoonNr;\n        this.straat = straat;\n        this.huisnummer = huisnummer;\n        this.postcode = postcode;\n        this.gemeente = gemeente;\n        this.rol = rol;\n        this.extraOpmerking = extraOpmerking;\n        this.consignatiebonSet = new LinkedHashSet&lt;&gt;();\n    }\n\n    protected Gebruiker() {};\n    \n    /*logic to determine input*/\n    public String makeUser(String naam, String voornaam) {\n        var gebruiker = new StringBuilder(naam);\n        gebruiker.append(&quot;.&quot;).append(voornaam);\n        return String.valueOf(gebruiker);\n    }\n    \n    public void makePass(String naam, String voornaam) {\n        var pass = naam + voornaam;\n        this.pass = pass;\n    }\n\n    /*getters*/\n\n    public long getIdgebruikers() {\n        return idgebruikers;\n    }\n\n    public String getVoornaam() {\n        return voornaam;\n    }\n\n    public String getNaam() {\n        return naam;\n    }\n\n    public String getMail() {\n        return mail;\n    }\n\n    public boolean isMailOk() {\n        return mailOk;\n    }\n\n    public String getGebruikersnaam() {\n        return gebruikersnaam;\n    }\n\n    public String getPass() {\n        return pass;\n    }\n\n    public String getTelefoonNr() {\n        return telefoonNr;\n    }\n\n    public String getStraat() {\n        return straat;\n    }\n\n    public String gethuisnummer() {\n        return huisnummer;\n    }\n\n    public String getPostcode() {\n        return postcode;\n    }\n\n    public String getGemeente() {\n        return gemeente;\n    }\n\n    public Gebruikersrol getRol() {\n        return rol;\n    }\n\n    public String getExtraOpmerking() {\n        return extraOpmerking;\n    }\n\n\n    /*mogelijkheid om consignatiebonnen in te voegen*/\n    public Set&lt;Consignatiebon&gt; getConsignatiebonSet() {\n        return Collections.unmodifiableSet(consignatiebonSet);\n    }\n\n    public boolean add(Consignatiebon bon) {\n        if (bon == null) {\n            throw new NullPointerException();\n        }\n        return consignatiebonSet.add(bon);\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1382303980,"creation_date":1382302426,"answer_id":19482748,"question_id":19482739,"body_markdown":"You are calling instance methods and fields from within a static method, something that can&#39;t be done because instance fields and methods don&#39;t exist without an object, and inside of the main method there is not `this` object. You must instead create an instance of the class, and then call the methods on the instance.\r\n\r\n    public class Cerchio{\r\n    \r\n      float r;\r\n      float area;\r\n      float cfr;\r\n      final double pi = 3.14;\r\n    \r\n      public static void main(String[] args){\r\n        System.out.println(&quot;CIRCLE PROGRAM\\n&quot;);\r\n     \r\n        Cerchio cerchio = new Cerchio();\r\n        cerchio.r = 5;\r\n        cerchio.c_cfr();\r\n        cerchio.c_area();\r\n        System.out.ptintln(&quot;The cir is: &quot; + cerchio.cfr);\r\n        System.out.println(&quot;The area is: &quot; + cerchio.area);\r\n      }\r\n    \r\n      float c_cfr(){\r\n        cfr =(float)(2 * pi * r); //casting\r\n        return cfr;\r\n      }\r\n    \r\n      float c_area(){\r\n        area = (float)(pi * (r*r));\r\n        return area;\r\n      }\r\n    \r\n    }\r\n\r\nLots of other problems,...\r\n\r\n* You&#39;re accessing class fields directly, something that shouldn&#39;t be done. Instead, the fields should be private and you should use getters/setters/contructor parameters to get, set and set the fields.\r\n* Your code is unindented making it very hard to read and understand.\r\n\r\nPlease search this site as this same question has been asked and answered a gabizillion times, and most likely there&#39;s an answer out there that is much better than mine. If found, then this question should be closed as a duplicate.\r\n_________________\r\n**Edit**   \r\nYou state: \r\n&gt; I didn&#39;t understand &quot;Instead, the fields should be private and you should use getters/setters/contructor parameters to get, set and set the fields.&quot; I should write private float c_cfr() ?\r\n\r\nYour fields are:\r\n\r\n    float r;\r\n    float area;\r\n    float cfr;\r\n\r\nThis is really not a field but a constant:\r\n    final double pi = 3.14;\r\n\r\nand can be replaced / improved by simply using Math.PI.\r\n\r\nYour fields should be changed to:\r\n\r\n    private float r;\r\n    private float area;\r\n    private float cfr;\r\n\r\nand you should only access them via public getter and setter methods, and only if absolutely necessary.\r\n","title":"JAVA cannot make a static reference to non-static field","body":"<p>You are calling instance methods and fields from within a static method, something that can't be done because instance fields and methods don't exist without an object, and inside of the main method there is not <code>this</code> object. You must instead create an instance of the class, and then call the methods on the instance.</p>\n\n<pre><code>public class Cerchio{\n\n  float r;\n  float area;\n  float cfr;\n  final double pi = 3.14;\n\n  public static void main(String[] args){\n    System.out.println(\"CIRCLE PROGRAM\\n\");\n\n    Cerchio cerchio = new Cerchio();\n    cerchio.r = 5;\n    cerchio.c_cfr();\n    cerchio.c_area();\n    System.out.ptintln(\"The cir is: \" + cerchio.cfr);\n    System.out.println(\"The area is: \" + cerchio.area);\n  }\n\n  float c_cfr(){\n    cfr =(float)(2 * pi * r); //casting\n    return cfr;\n  }\n\n  float c_area(){\n    area = (float)(pi * (r*r));\n    return area;\n  }\n\n}\n</code></pre>\n\n<p>Lots of other problems,...</p>\n\n<ul>\n<li>You're accessing class fields directly, something that shouldn't be done. Instead, the fields should be private and you should use getters/setters/contructor parameters to get, set and set the fields.</li>\n<li>Your code is unindented making it very hard to read and understand.</li>\n</ul>\n\n<p>Please search this site as this same question has been asked and answered a gabizillion times, and most likely there's an answer out there that is much better than mine. If found, then this question should be closed as a duplicate.</p>\n\n<hr>\n\n<p><strong>Edit</strong><br>\nYou state: </p>\n\n<blockquote>\n  <p>I didn't understand \"Instead, the fields should be private and you should use getters/setters/contructor parameters to get, set and set the fields.\" I should write private float c_cfr() ?</p>\n</blockquote>\n\n<p>Your fields are:</p>\n\n<pre><code>float r;\nfloat area;\nfloat cfr;\n</code></pre>\n\n<p>This is really not a field but a constant:\n    final double pi = 3.14;</p>\n\n<p>and can be replaced / improved by simply using Math.PI.</p>\n\n<p>Your fields should be changed to:</p>\n\n<pre><code>private float r;\nprivate float area;\nprivate float cfr;\n</code></pre>\n\n<p>and you should only access them via public getter and setter methods, and only if absolutely necessary.</p>\n"},{"tags":[],"owner":{"account_id":3316228,"reputation":127,"user_id":2788538,"display_name":"David Allan Houser Jr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382305041,"creation_date":1382305041,"answer_id":19483160,"question_id":19482739,"body_markdown":"The simple fix is to put the word static in front of each method. It is a universal static truth circumference =2pi*r your circle may be bigger than my circle (both instances of circle) but to find the area there is one formula ","title":"JAVA cannot make a static reference to non-static field","body":"<p>The simple fix is to put the word static in front of each method. It is a universal static truth circumference =2pi*r your circle may be bigger than my circle (both instances of circle) but to find the area there is one formula </p>\n"},{"tags":[],"owner":{"account_id":3317025,"reputation":1954,"user_id":2789764,"accept_rate":92,"display_name":"Vivek Vermani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1457299607,"creation_date":1402003471,"answer_id":24070416,"question_id":19482739,"body_markdown":"c_cfr() and c_area() are non static methods which you are trying to call directly from the static main method. Either make the methods c_cfr() and c_area() as static too or access them using object reference.","title":"JAVA cannot make a static reference to non-static field","body":"<p>c_cfr() and c_area() are non static methods which you are trying to call directly from the static main method. Either make the methods c_cfr() and c_area() as static too or access them using object reference.</p>\n"},{"tags":[],"owner":{"account_id":24587703,"reputation":1,"user_id":18491985,"display_name":"user18491985"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647511952,"creation_date":1647508715,"answer_id":71509742,"question_id":19482739,"body_markdown":"In this code you are trying to acess non static instances and methods of class in static method i.e public static void main(String[] args)\r\n\r\nso,change instances and methods to static or create the object of Cerchio and then acess them\r\n\r\n```\r\npublic class Cerchio {\r\n\r\n\t   static float r;\r\n\t   float area;\r\n\t   float cfr;\r\n\t   \r\n\t   static  float c_cfr() {\r\n\t      return (float)(2 * Math.PI* r);\r\n\t   }\r\n\r\n\t   float c_area() {\r\n\t      area = (float)(Math.PI * (r*r));\r\n\t      return area;\r\n\t   }\r\n\r\n\t   public static void main(String[] args){\r\n\t      System.out.println(&quot;CIRCLE PROGRAM\\n&quot;);\r\n\t      Cerchio.r = 5;\r\n\t   \r\n\t      Cerchio s = new Cerchior();\r\n\t      \r\n\t      System.out.println(&quot;The cir is: &quot; +c_cfr());\r\n\t      System.out.println(&quot;The area is: &quot; + s.c_area());\r\n\t   }\r\n}\r\n```","title":"JAVA cannot make a static reference to non-static field","body":"<p>In this code you are trying to acess non static instances and methods of class in static method i.e public static void main(String[] args)</p>\n<p>so,change instances and methods to static or create the object of Cerchio and then acess them</p>\n<pre><code>public class Cerchio {\n\n       static float r;\n       float area;\n       float cfr;\n       \n       static  float c_cfr() {\n          return (float)(2 * Math.PI* r);\n       }\n\n       float c_area() {\n          area = (float)(Math.PI * (r*r));\n          return area;\n       }\n\n       public static void main(String[] args){\n          System.out.println(&quot;CIRCLE PROGRAM\\n&quot;);\n          Cerchio.r = 5;\n       \n          Cerchio s = new Cerchior();\n          \n          System.out.println(&quot;The cir is: &quot; +c_cfr());\n          System.out.println(&quot;The area is: &quot; + s.c_area());\n       }\n}\n</code></pre>\n"}],"owner":{"account_id":1266647,"reputation":1230,"user_id":1223817,"accept_rate":90,"display_name":"Mitro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68914,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":19482748,"answer_count":4,"score":7,"last_activity_date":1647511952,"creation_date":1382302368,"question_id":19482739,"body_markdown":"this is my first program in JAVA and I&#39;m having problem to understand this error\r\n\r\n    Cannot make a static reference to the non-static field *\r\nand\r\n\r\n&gt; Cannot make a static reference to the non-static method *\r\n\r\n    public class Cerchio{\r\n    \r\n       float r;\r\n       float area;\r\n       float cfr;\r\n       final double pi = 3.14;\r\n    \r\n       public static void main(String[] args){\r\n          System.out.println(&quot;CIRCLE PROGRAM\\n&quot;);\r\n          r = 5;\r\n          c_cfr();\r\n          c_area();\r\n          System.out.ptintln(&quot;The cir is: &quot; + cfr);\r\n          System.out.println(&quot;The area is: &quot; + area);\r\n       }\r\n        \r\n       float c_cfr(){\r\n          cfr =(float)(2 * pi * r); //casting\r\n          return cfr;\r\n       }\r\n        \r\n       float c_area(){\r\n          area = (float)(pi * (r*r));\r\n          return area;\r\n       }\r\n        \r\n    }\r\n\r\n![errors][1]\r\nCan you give me any suggest?\r\nI&#39;m coding on SandIDE on Android\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/Qa6xA.png","title":"JAVA cannot make a static reference to non-static field","body":"<p>this is my first program in JAVA and I'm having problem to understand this error</p>\n\n<pre><code>Cannot make a static reference to the non-static field *\n</code></pre>\n\n<p>and</p>\n\n<blockquote>\n  <p>Cannot make a static reference to the non-static method *</p>\n</blockquote>\n\n<pre><code>public class Cerchio{\n\n   float r;\n   float area;\n   float cfr;\n   final double pi = 3.14;\n\n   public static void main(String[] args){\n      System.out.println(\"CIRCLE PROGRAM\\n\");\n      r = 5;\n      c_cfr();\n      c_area();\n      System.out.ptintln(\"The cir is: \" + cfr);\n      System.out.println(\"The area is: \" + area);\n   }\n\n   float c_cfr(){\n      cfr =(float)(2 * pi * r); //casting\n      return cfr;\n   }\n\n   float c_area(){\n      area = (float)(pi * (r*r));\n      return area;\n   }\n\n}\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/Qa6xA.png\" alt=\"errors\">\nCan you give me any suggest?\nI'm coding on SandIDE on Android</p>\n"},{"tags":["java","ocr","tesseract","tess4j","color-depth"],"answers":[{"tags":[],"owner":{"account_id":24565173,"reputation":21,"user_id":18472407,"display_name":"juststeve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1647511765,"creation_date":1647511765,"answer_id":71510508,"question_id":71482342,"body_markdown":"Eventually, I came up with a workaround - you can specify the output by defining RendererFormat. I changed that from *PDF* to *PDF_TEXTONLY*, which produced a pdf (~7kb) with the text in the right position but without the original scan/image.\r\n```\r\nList&lt;ITesseract.RenderedFormat&gt; formats = new ArrayList&lt;&gt;(Arrays.asList(ITesseract.RenderedFormat.PDF_TEXTONLY));\r\n```\r\nThen I used PDFBox functionality to extract image/images from original pdf. It is possible to specify DPI which also helps to reduce the file size.\r\n```\r\nPDDocument document = PDDocument.load(inputPdf);\r\nPDFRenderer pdfRenderer = new PDFRenderer(document);\r\nfor (int page = 0; page &lt; document.getNumberOfPages(); ++page) {\r\n     BufferedImage bim = pdfRenderer.renderImageWithDPI(page, 300, ImageType.BINARY);\r\n     ImageIOUtil.writeImage(bim, &quot;/path/to/pics/picture_&quot; + page + &quot;.png&quot;, 300);\r\n}\r\ndocument.close();\r\n```\r\nThen just add an image to the text-only pdf as a watermark (https://stackoverflow.com/questions/1794604/how-to-insert-a-image-under-the-text-as-a-pdf-background-using-itext). This helped reduce the size from 120-130 kb to 60 kb with 300 DPI (even less with lower DPI), which is great given that it is an OCR processed pdf with an original size of 30kb. I know this is not the best solution and I&#39;ll be happy for any other contribution or answer. \r\n","title":"Tesseract produced searchable PDF with 8bit depth back to 1bit (tess4j)","body":"<p>Eventually, I came up with a workaround - you can specify the output by defining RendererFormat. I changed that from <em>PDF</em> to <em>PDF_TEXTONLY</em>, which produced a pdf (~7kb) with the text in the right position but without the original scan/image.</p>\n<pre><code>List&lt;ITesseract.RenderedFormat&gt; formats = new ArrayList&lt;&gt;(Arrays.asList(ITesseract.RenderedFormat.PDF_TEXTONLY));\n</code></pre>\n<p>Then I used PDFBox functionality to extract image/images from original pdf. It is possible to specify DPI which also helps to reduce the file size.</p>\n<pre><code>PDDocument document = PDDocument.load(inputPdf);\nPDFRenderer pdfRenderer = new PDFRenderer(document);\nfor (int page = 0; page &lt; document.getNumberOfPages(); ++page) {\n     BufferedImage bim = pdfRenderer.renderImageWithDPI(page, 300, ImageType.BINARY);\n     ImageIOUtil.writeImage(bim, &quot;/path/to/pics/picture_&quot; + page + &quot;.png&quot;, 300);\n}\ndocument.close();\n</code></pre>\n<p>Then just add an image to the text-only pdf as a watermark (<a href=\"https://stackoverflow.com/questions/1794604/how-to-insert-a-image-under-the-text-as-a-pdf-background-using-itext\">How to insert a image under the text as a pdf background using iText?</a>). This helped reduce the size from 120-130 kb to 60 kb with 300 DPI (even less with lower DPI), which is great given that it is an OCR processed pdf with an original size of 30kb. I know this is not the best solution and I'll be happy for any other contribution or answer.</p>\n"}],"owner":{"account_id":24565173,"reputation":21,"user_id":18472407,"display_name":"juststeve"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":805,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71510508,"answer_count":1,"score":0,"last_activity_date":1647511765,"creation_date":1647347784,"question_id":71482342,"body_markdown":"I have a PDFs with 1-bit color depth as an input for OCR processing (tess4j, 5.0.0) with approx. 30kb each. After processing, each PDF has 120-130kb and is saved with 8-bit color depth, which is probably main cause of file size increase.\r\n\r\nI would like to know if there is a way to set color depth within Tesseract or associated libs or there is another way to handle this.\r\n\r\n```\r\nITesseract instance = new Tesseract();\r\ninstance.setDatapath(&quot;/path/to/tessdata&quot;);\r\ninstance.setPageSegMode(ITessAPI.TessPageSegMode.PSM_SINGLE_COLUMN);\r\nList&lt;ITesseract.RenderedFormat&gt; formats = new ArrayList&lt;(Arrays.asList(ITesseract.RenderedFormat.PDF));\r\ninstance.createDocumentsWithResults(inputPdf.getPath(), &quot;/path/to/result&quot;, formats, ITessAPI.TessPageIteratorLevel.RIL_WORD);\r\n```\r\nAny help greatly appreciated.","title":"Tesseract produced searchable PDF with 8bit depth back to 1bit (tess4j)","body":"<p>I have a PDFs with 1-bit color depth as an input for OCR processing (tess4j, 5.0.0) with approx. 30kb each. After processing, each PDF has 120-130kb and is saved with 8-bit color depth, which is probably main cause of file size increase.</p>\n<p>I would like to know if there is a way to set color depth within Tesseract or associated libs or there is another way to handle this.</p>\n<pre><code>ITesseract instance = new Tesseract();\ninstance.setDatapath(&quot;/path/to/tessdata&quot;);\ninstance.setPageSegMode(ITessAPI.TessPageSegMode.PSM_SINGLE_COLUMN);\nList&lt;ITesseract.RenderedFormat&gt; formats = new ArrayList&lt;(Arrays.asList(ITesseract.RenderedFormat.PDF));\ninstance.createDocumentsWithResults(inputPdf.getPath(), &quot;/path/to/result&quot;, formats, ITessAPI.TessPageIteratorLevel.RIL_WORD);\n</code></pre>\n<p>Any help greatly appreciated.</p>\n"},{"tags":["java","sql-server","sql-server-2008","jakarta-ee"],"comments":[{"owner":{"account_id":3799211,"reputation":11,"user_id":3153292,"display_name":"VinceMok"},"score":0,"creation_date":1471279446,"post_id":11707056,"comment_id":65272798,"body_markdown":"You can try the answer on the following link http://stackoverflow.com/questions/23949890/java-lang-unsatisfiedlinkerror-no-sqljdbc-auth-in-java-library-path","body":"You can try the answer on the following link <a href=\"http://stackoverflow.com/questions/23949890/java-lang-unsatisfiedlinkerror-no-sqljdbc-auth-in-java-library-path\" title=\"java lang unsatisfiedlinkerror no sqljdbc auth in java library path\">stackoverflow.com/questions/23949890/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":1698489,"reputation":2295,"user_id":1559260,"display_name":"afrin216"},"down_vote_count":6,"up_vote_count":12,"is_accepted":false,"score":6,"last_activity_date":1343543249,"creation_date":1343543249,"answer_id":11707183,"question_id":11707056,"body_markdown":"The error is clear, isn&#39;t it? \r\n\r\nYou&#39;ve not added the path where sqljdbc_auth.dll is present. Find out in the system where the DLL is and add that to your classpath.\r\n\r\nAnd if that also doesn&#39;t work, add the folder where the DLL is present (I&#39;m assuming \\Microsoft SQL Server JDBC Driver 3.0\\sqljdbc_3.0\\enu\\auth\\x86) to your PATH variable.\r\n\r\nAgain if you&#39;re going via ant or cmd you have to explicitly mention the path using -Djava.library.path=[path to MS_SQL_AUTH_DLL]","title":"no sqljdbc_auth in java.library.path","body":"<p>The error is clear, isn't it? </p>\n\n<p>You've not added the path where sqljdbc_auth.dll is present. Find out in the system where the DLL is and add that to your classpath.</p>\n\n<p>And if that also doesn't work, add the folder where the DLL is present (I'm assuming \\Microsoft SQL Server JDBC Driver 3.0\\sqljdbc_3.0\\enu\\auth\\x86) to your PATH variable.</p>\n\n<p>Again if you're going via ant or cmd you have to explicitly mention the path using -Djava.library.path=[path to MS_SQL_AUTH_DLL]</p>\n"},{"tags":[],"owner":{"account_id":8177055,"reputation":693,"user_id":6155490,"display_name":"Amine Soumiaa"},"down_vote_count":1,"up_vote_count":57,"is_accepted":false,"score":56,"last_activity_date":1460548770,"creation_date":1460546563,"answer_id":36596844,"question_id":11707056,"body_markdown":"1) Download **the JDBC Driver** [here][1].\r\n\r\n&lt;br&gt;2) unzip the file and go to **sqljdbc_version\\fra\\auth\\x86** or **\\x64** \r\n&lt;br&gt; 3) copy the **sqljdbc_auth.dll** to **C:\\Program Files\\Java\\jre_Version\\bin**\r\n&lt;br&gt; 4) Finally restart eclipse\r\n\r\n\r\n  [1]: https://www.microsoft.com/en-us/download/details.aspx?id=11774","title":"no sqljdbc_auth in java.library.path","body":"<p>1) Download <strong>the JDBC Driver</strong> <a href=\"https://www.microsoft.com/en-us/download/details.aspx?id=11774\" rel=\"noreferrer\">here</a>.</p>\n\n<p><br>2) unzip the file and go to <strong>sqljdbc_version\\fra\\auth\\x86</strong> or <strong>\\x64</strong> \n<br> 3) copy the <strong>sqljdbc_auth.dll</strong> to <strong>C:\\Program Files\\Java\\jre_Version\\bin</strong>\n<br> 4) Finally restart eclipse</p>\n"},{"tags":[],"owner":{"account_id":920174,"reputation":3428,"user_id":951984,"accept_rate":50,"display_name":"nanospeck"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1465901705,"creation_date":1465901705,"answer_id":37810004,"question_id":11707056,"body_markdown":"Here are the steps if you want to do this from Eclipse : \r\n\r\n1) Create a folder &#39;sqlauth&#39; in your C: drive, and copy the dll file ***sqljdbc_auth.dll*** to the folder\r\n\r\n1) Go to **Run&gt; Run Configurations**\r\n\r\n2) Choose the &#39;**Arguments**&#39; tab for your class\r\n\r\n3) Add the below code in **VM arguments**:\r\n\r\n    -Djava.library.path=&quot;C:\\\\sqlauth&quot;\r\n4) Hit &#39;Apply&#39; and click &#39;Run&#39; \r\n\r\n\r\nFeel free to try other [methods][1] . \r\n\r\n\r\n  [1]: http://javarevisited.blogspot.com/2013/04/what-is-javalibrarypath-how-to-set-in-Eclipse.html","title":"no sqljdbc_auth in java.library.path","body":"<p>Here are the steps if you want to do this from Eclipse : </p>\n\n<p>1) Create a folder 'sqlauth' in your C: drive, and copy the dll file <strong><em>sqljdbc_auth.dll</em></strong> to the folder</p>\n\n<p>1) Go to <strong>Run> Run Configurations</strong></p>\n\n<p>2) Choose the '<strong>Arguments</strong>' tab for your class</p>\n\n<p>3) Add the below code in <strong>VM arguments</strong>:</p>\n\n<pre><code>-Djava.library.path=\"C:\\\\sqlauth\"\n</code></pre>\n\n<p>4) Hit 'Apply' and click 'Run' </p>\n\n<p>Feel free to try other <a href=\"http://javarevisited.blogspot.com/2013/04/what-is-javalibrarypath-how-to-set-in-Eclipse.html\" rel=\"noreferrer\">methods</a> . </p>\n"},{"tags":[],"owner":{"account_id":1923709,"reputation":1257,"user_id":1734640,"display_name":"Pawel Gorczynski"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1504790718,"creation_date":1504790718,"answer_id":46097604,"question_id":11707056,"body_markdown":"I&#39;ve just encountered the same problem but within my own application.\r\nI didn&#39;t like the solution with copying the dll since it&#39;s not very convenient so I did some research and came up with the following programmatic solution. \r\n\r\nBasically, before doing any connections to SQL server, you have to add the `sqljdbc_auth.dll` to path.. which is easy to say:\r\n\r\n`PathHelper.appendToPath(&quot;C:\\\\sqljdbc_6.2\\\\enu\\\\auth\\\\x64&quot;);`\r\n\r\nonce you know how to do it:\r\n\r\n    import java.lang.reflect.Field;\r\n\r\n    public class PathHelper {\r\n        public static void appendToPath(String dir){\r\n    \r\n            String path = System.getProperty(&quot;java.library.path&quot;);\r\n            path = dir + &quot;;&quot; + path;\r\n            System.setProperty(&quot;java.library.path&quot;, path);\r\n    \r\n            try {\r\n    \r\n                final Field sysPathsField = ClassLoader.class.getDeclaredField(&quot;sys_paths&quot;);\r\n                sysPathsField.setAccessible(true);\r\n                sysPathsField.set(null, null);\r\n    \r\n            }\r\n            catch (Exception ex){\r\n                throw new RuntimeException(ex);\r\n            }\r\n    \r\n        }\r\n    \r\n    }\r\n\r\nNow integration authentication works like a charm :).\r\n\r\nCredits to https://stackoverflow.com/a/21730111/1734640 for letting me figure this out.","title":"no sqljdbc_auth in java.library.path","body":"<p>I've just encountered the same problem but within my own application.\nI didn't like the solution with copying the dll since it's not very convenient so I did some research and came up with the following programmatic solution. </p>\n\n<p>Basically, before doing any connections to SQL server, you have to add the <code>sqljdbc_auth.dll</code> to path.. which is easy to say:</p>\n\n<p><code>PathHelper.appendToPath(\"C:\\\\sqljdbc_6.2\\\\enu\\\\auth\\\\x64\");</code></p>\n\n<p>once you know how to do it:</p>\n\n<pre><code>import java.lang.reflect.Field;\n\npublic class PathHelper {\n    public static void appendToPath(String dir){\n\n        String path = System.getProperty(\"java.library.path\");\n        path = dir + \";\" + path;\n        System.setProperty(\"java.library.path\", path);\n\n        try {\n\n            final Field sysPathsField = ClassLoader.class.getDeclaredField(\"sys_paths\");\n            sysPathsField.setAccessible(true);\n            sysPathsField.set(null, null);\n\n        }\n        catch (Exception ex){\n            throw new RuntimeException(ex);\n        }\n\n    }\n\n}\n</code></pre>\n\n<p>Now integration authentication works like a charm :).</p>\n\n<p>Credits to <a href=\"https://stackoverflow.com/a/21730111/1734640\">https://stackoverflow.com/a/21730111/1734640</a> for letting me figure this out.</p>\n"},{"tags":[],"owner":{"account_id":7594445,"reputation":682,"user_id":5761017,"display_name":"jfindley"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1506470453,"creation_date":1506470453,"answer_id":46437485,"question_id":11707056,"body_markdown":"For easy fix follow these steps:\r\n\r\n 1. goto: https://learn.microsoft.com/en-us/sql/connect/jdbc/building-the-connection-url#Connectingintegrated\r\n 2. Download the JDBC file and extract to your preferred location\r\n 3. open the auth folder matching your OS x64 or x86\r\n 4. copy sqljdbc_auth.dll file \r\n 5. paste in: C:\\Program Files\\Java\\jdk_version\\bin\r\n 6. restart either eclipse or netbeans\r\n\r\n","title":"no sqljdbc_auth in java.library.path","body":"<p>For easy fix follow these steps:</p>\n\n<ol>\n<li>goto: <a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/building-the-connection-url#Connectingintegrated\" rel=\"noreferrer\">https://learn.microsoft.com/en-us/sql/connect/jdbc/building-the-connection-url#Connectingintegrated</a></li>\n<li>Download the JDBC file and extract to your preferred location</li>\n<li>open the auth folder matching your OS x64 or x86</li>\n<li>copy sqljdbc_auth.dll file </li>\n<li>paste in: C:\\Program Files\\Java\\jdk_version\\bin</li>\n<li>restart either eclipse or netbeans</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1275305,"reputation":621,"user_id":1230702,"display_name":"TedEd"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1557915711,"creation_date":1557915711,"answer_id":56147010,"question_id":11707056,"body_markdown":"To resolve I did the following:\r\n  \r\n  1. Copied `sqljdbc_auth.dll` into dir: `C:\\Windows\\System32`\r\n  2. Restarted my application","title":"no sqljdbc_auth in java.library.path","body":"<p>To resolve I did the following:</p>\n\n<ol>\n<li>Copied <code>sqljdbc_auth.dll</code> into dir: <code>C:\\Windows\\System32</code></li>\n<li>Restarted my application</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2616296,"reputation":1932,"user_id":2265283,"accept_rate":7,"display_name":"Eyal Sooliman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1642083759,"creation_date":1642083759,"answer_id":70698189,"question_id":11707056,"body_markdown":"I resolved the issue by: \r\n\r\n1. Upgrading com.microsoft.sqlserver from 6.1.0.jre8 to 10.1.0.jre8-preview:\r\n\r\n       &lt;dependency&gt;\r\n            &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\r\n            &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\r\n            &lt;version&gt;10.1.0.jre8-preview&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n2. Adding missing dependency:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;net.sourceforge.jtds&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jtds&lt;/artifactId&gt;\r\n            &lt;version&gt;1.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n3. Using the following jdbc connection:\r\n                    \r\n    \r\n\r\n&gt; jdbc:sqlserver://&lt;IP&gt;;authenticationScheme=NTLM;integratedSecurity=true;domain=&lt;DOMAIN\r\n&gt; NAME&gt;;databasename=&lt;DB\r\n&gt; NAME&gt;;encrypt=true;trustServerCertificate=true;user=&lt;USERNAME&gt;;password=&lt;PASSWORD&gt;\r\n\r\n","title":"no sqljdbc_auth in java.library.path","body":"<p>I resolved the issue by:</p>\n<ol>\n<li><p>Upgrading com.microsoft.sqlserver from 6.1.0.jre8 to 10.1.0.jre8-preview:</p>\n<pre><code>&lt;dependency&gt;\n     &lt;groupId&gt;com.microsoft.sqlserver&lt;/groupId&gt;\n     &lt;artifactId&gt;mssql-jdbc&lt;/artifactId&gt;\n     &lt;version&gt;10.1.0.jre8-preview&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>Adding missing dependency:</p>\n<pre><code> &lt;dependency&gt;\n     &lt;groupId&gt;net.sourceforge.jtds&lt;/groupId&gt;\n     &lt;artifactId&gt;jtds&lt;/artifactId&gt;\n     &lt;version&gt;1.3.1&lt;/version&gt;\n &lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>Using the following jdbc connection:</p>\n</li>\n</ol>\n<blockquote>\n<p>jdbc:sqlserver://;authenticationScheme=NTLM;integratedSecurity=true;domain=;databasename=;encrypt=true;trustServerCertificate=true;user=;password=</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5791459,"reputation":180,"user_id":4568781,"display_name":"Amira"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1647511740,"creation_date":1647511740,"answer_id":71510498,"question_id":11707056,"body_markdown":"I had to use windows authentication and I tried every suggested solution out there but with no success till I changed the name of the auth file as follows:\r\n\r\nold-name: mssql-jdbc_auth-10.2.0.x64.dll\r\n\r\nnew-name: sqljdbc_auth.dll\r\n\r\nAnd then it worked!\r\n\r\nI looked up for this case to understand it more, apparently for Windows operating systems, the driver looks for sqljdbc_auth.dll by default.\r\n\r\nHere is a useful link I&#39;ve found:\r\n\r\nhttps://learn.microsoft.com/en-us/sql/connect/jdbc/feature-dependencies-of-microsoft-jdbc-driver-for-sql-server?view=sql-server-ver15\r\n","title":"no sqljdbc_auth in java.library.path","body":"<p>I had to use windows authentication and I tried every suggested solution out there but with no success till I changed the name of the auth file as follows:</p>\n<p>old-name: mssql-jdbc_auth-10.2.0.x64.dll</p>\n<p>new-name: sqljdbc_auth.dll</p>\n<p>And then it worked!</p>\n<p>I looked up for this case to understand it more, apparently for Windows operating systems, the driver looks for sqljdbc_auth.dll by default.</p>\n<p>Here is a useful link I've found:</p>\n<p><a href=\"https://learn.microsoft.com/en-us/sql/connect/jdbc/feature-dependencies-of-microsoft-jdbc-driver-for-sql-server?view=sql-server-ver15\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/en-us/sql/connect/jdbc/feature-dependencies-of-microsoft-jdbc-driver-for-sql-server?view=sql-server-ver15</a></p>\n"}],"owner":{"account_id":1482860,"reputation":1525,"user_id":1391784,"accept_rate":61,"display_name":"AFF"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139851,"favorite_count":0,"down_vote_count":0,"up_vote_count":39,"answer_count":8,"score":39,"last_activity_date":1647511740,"creation_date":1343541662,"question_id":11707056,"body_markdown":"I have a Java EE Web Application which connects to a SQL Server 2008 instance. I don&#39;t have any problem connecting and retrieving to all my tables, except for one of them. The error in the Tomcat log is:\r\n\r\n&gt; WARNING: Failed to load the sqljdbc_auth.dll cause :- no sqljdbc_auth in java.library.path","title":"no sqljdbc_auth in java.library.path","body":"<p>I have a Java EE Web Application which connects to a SQL Server 2008 instance. I don't have any problem connecting and retrieving to all my tables, except for one of them. The error in the Tomcat log is:</p>\n\n<blockquote>\n  <p>WARNING: Failed to load the sqljdbc_auth.dll cause :- no sqljdbc_auth in java.library.path</p>\n</blockquote>\n"},{"tags":["java","jsp","servlets","intellij-idea","tomcat9"],"comments":[{"owner":{"account_id":1099341,"reputation":5547,"user_id":1092133,"display_name":"Bajal"},"score":0,"creation_date":1554006363,"post_id":55437417,"comment_id":97592806,"body_markdown":"Have you compared the URLs to see what is different?","body":"Have you compared the URLs to see what is different?"},{"owner":{"account_id":15639724,"reputation":1,"user_id":11283473,"display_name":"gibby"},"score":0,"creation_date":1554062582,"post_id":55437417,"comment_id":97605018,"body_markdown":"http://localhost:8080/index.html is what appears when I right click and run  \n http://localhost:8080/Assignment2_EmailListMySql_war_exploded/ is what happens when I use the Tomcat configuration. That is the name of my project. I am pretty new to intelliJ and web development so I am not sure how to fix this. Any help is appriciated","body":"<a href=\"http://localhost:8080/index.html\" rel=\"nofollow noreferrer\">localhost:8080/index.html</a> is what appears when I right click and run    <a href=\"http://localhost:8080/Assignment2_EmailListMySql_war_exploded/\" rel=\"nofollow noreferrer\">localhost:8080/Assignment2_EmailListMySql_war_exploded</a> is what happens when I use the Tomcat configuration. That is the name of my project. I am pretty new to intelliJ and web development so I am not sure how to fix this. Any help is appriciated"}],"answers":[{"tags":[],"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554108869,"creation_date":1554108869,"answer_id":55451310,"question_id":55437417,"body_markdown":"Please try to change URL to &quot;http://localhost:8080/&lt;Application context&gt;/index.html&quot;. Related issue on YouTrack: https://youtrack.jetbrains.com/issue/IDEA-206534 ","title":"404 error, server not found when using right click on index.html then Run","body":"<p>Please try to change URL to \"<a href=\"http://localhost:8080/\" rel=\"nofollow noreferrer\">http://localhost:8080/</a>/index.html\". Related issue on YouTrack: <a href=\"https://youtrack.jetbrains.com/issue/IDEA-206534\" rel=\"nofollow noreferrer\">https://youtrack.jetbrains.com/issue/IDEA-206534</a> </p>\n"},{"tags":[],"owner":{"account_id":24105236,"reputation":7,"user_id":18076532,"display_name":"Itslogout"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1647511583,"creation_date":1647502322,"answer_id":71508498,"question_id":55437417,"body_markdown":"Change configuration on `tomcat/conf/server.xml` file find :\r\n```\r\nHost name=&quot;localhost&quot; appBase=&quot;webapps/manager&quot; unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt;\r\n```\r\nChange to appbase path to your application","title":"404 error, server not found when using right click on index.html then Run","body":"<p>Change configuration on <code>tomcat/conf/server.xml</code> file find :</p>\n<pre><code>Host name=&quot;localhost&quot; appBase=&quot;webapps/manager&quot; unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt;\n</code></pre>\n<p>Change to appbase path to your application</p>\n"}],"owner":{"account_id":15639724,"reputation":1,"user_id":11283473,"display_name":"gibby"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":692,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1647511583,"creation_date":1553999978,"question_id":55437417,"body_markdown":"I am having issue with my Tomcat Server in IntelliJ. My program will run when Tomcat is selected in the configurations on the top right of the program. For some reason my professor wants us to be able to right click on the index.html page and select run. When I do it that way I get a 404 error:\r\n\r\nDescription The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.\r\n\r\nI am not sure what is wrong with my set up. I transfered my program to my friends configuration and it had the same issue. I also transferred her project, that did not have this issue on her machine, to mine. Her program had the same issue when running on my set up.\r\n\r\nindex.html\r\n\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html lang=&quot;en&quot;&gt;\r\n&lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;title&gt;Title&lt;/title&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;css/userEmailList.css&quot;&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n&lt;h1&gt;Join our email list&lt;/h1&gt;\r\n&lt;p&gt;Please click any button below to perform the desired action &lt;/p&gt;\r\n\r\n&lt;a href =&quot;delete.jsp&quot;&gt;&lt;input type=&quot;button&quot; value = &quot;DELETE&quot;&gt;&lt;/a&gt;\r\n&lt;a href =&quot;insert.jsp&quot;&gt;&lt;input type=&quot;button&quot; value = &quot;INSERT&quot;&gt;&lt;/a&gt;\r\n&lt;a href =&quot;update.jsp&quot;&gt;&lt;input type=&quot;button&quot; value = &quot;UPDATE&quot;&gt;&lt;/a&gt;\r\n\r\n&lt;form action=&quot;emailList&quot; method=&quot;post&quot;&gt;\r\n\r\n    &lt;h1&gt;Click the button below to view all records &lt;/h1&gt;\r\n    &lt;input type=&quot;hidden&quot; name=&quot;action&quot; value=&quot;select_records&quot;&gt;\r\n    &lt;input type=&quot;submit&quot; name=&quot;action&quot; value=&quot;SELECT RECORDS&quot;&gt;\r\n\r\n&lt;/form&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nservlet\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;web-app xmlns=&quot;http://xmlns.jcp.org/xml/ns/javaee&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd&quot;\r\n         version=&quot;4.0&quot;&gt;\r\n\r\n    &lt;servlet&gt;\r\n        &lt;servlet-name&gt;EmailListServlet&lt;/servlet-name&gt;\r\n        &lt;servlet-class&gt;EmailListServlet&lt;/servlet-class&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n        &lt;servlet-name&gt;EmailListServlet&lt;/servlet-name&gt;\r\n        &lt;url-pattern&gt;/emailList&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    \r\n&lt;/web-app&gt;\r\n```\r\n\r\n\r\nI should be able to run the program both way. But the right click on index.html -&gt; Run does not work","title":"404 error, server not found when using right click on index.html then Run","body":"<p>I am having issue with my Tomcat Server in IntelliJ. My program will run when Tomcat is selected in the configurations on the top right of the program. For some reason my professor wants us to be able to right click on the index.html page and select run. When I do it that way I get a 404 error:</p>\n\n<p>Description The origin server did not find a current representation for the target resource or is not willing to disclose that one exists.</p>\n\n<p>I am not sure what is wrong with my set up. I transfered my program to my friends configuration and it had the same issue. I also transferred her project, that did not have this issue on her machine, to mine. Her program had the same issue when running on my set up.</p>\n\n<p>index.html</p>\n\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html lang=\"en\"&gt;\n&lt;head&gt;\n    &lt;meta charset=\"UTF-8\"&gt;\n    &lt;title&gt;Title&lt;/title&gt;\n    &lt;link rel=\"stylesheet\" href=\"css/userEmailList.css\"&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Join our email list&lt;/h1&gt;\n&lt;p&gt;Please click any button below to perform the desired action &lt;/p&gt;\n\n&lt;a href =\"delete.jsp\"&gt;&lt;input type=\"button\" value = \"DELETE\"&gt;&lt;/a&gt;\n&lt;a href =\"insert.jsp\"&gt;&lt;input type=\"button\" value = \"INSERT\"&gt;&lt;/a&gt;\n&lt;a href =\"update.jsp\"&gt;&lt;input type=\"button\" value = \"UPDATE\"&gt;&lt;/a&gt;\n\n&lt;form action=\"emailList\" method=\"post\"&gt;\n\n    &lt;h1&gt;Click the button below to view all records &lt;/h1&gt;\n    &lt;input type=\"hidden\" name=\"action\" value=\"select_records\"&gt;\n    &lt;input type=\"submit\" name=\"action\" value=\"SELECT RECORDS\"&gt;\n\n&lt;/form&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n\n<p>servlet</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns=\"http://xmlns.jcp.org/xml/ns/javaee\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://xmlns.jcp.org/xml/ns/javaee http://xmlns.jcp.org/xml/ns/javaee/web-app_4_0.xsd\"\n         version=\"4.0\"&gt;\n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;EmailListServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;EmailListServlet&lt;/servlet-class&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;EmailListServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/emailList&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n&lt;/web-app&gt;\n</code></pre>\n\n<p>I should be able to run the program both way. But the right click on index.html -> Run does not work</p>\n"},{"tags":["java","loops","iterator"],"comments":[{"owner":{"account_id":4853525,"reputation":925,"user_id":3915216,"accept_rate":67,"display_name":"piezol"},"score":0,"creation_date":1441609656,"post_id":32432709,"comment_id":52730535,"body_markdown":"How do you have your range stored, what does it mean &quot;numbers like (...)&quot;.","body":"How do you have your range stored, what does it mean &quot;numbers like (...)&quot;."},{"owner":{"account_id":4930301,"reputation":85,"user_id":3970306,"accept_rate":89,"display_name":"mesut"},"score":0,"creation_date":1441610027,"post_id":32432709,"comment_id":52730733,"body_markdown":"String telNr; So this is my input, and I need to find this telNr in the range above if yes then i show something. The named ranges are stored as int.","body":"String telNr; So this is my input, and I need to find this telNr in the range above if yes then i show something. The named ranges are stored as int."},{"owner":{"account_id":4853525,"reputation":925,"user_id":3915216,"accept_rate":67,"display_name":"piezol"},"score":0,"creation_date":1441610356,"post_id":32432709,"comment_id":52730901,"body_markdown":"Then you don&#39;t want to iterate over numbers, but over strings, if leading zero makes a difference.","body":"Then you don&#39;t want to iterate over numbers, but over strings, if leading zero makes a difference."},{"owner":{"account_id":4930301,"reputation":85,"user_id":3970306,"accept_rate":89,"display_name":"mesut"},"score":0,"creation_date":1441610450,"post_id":32432709,"comment_id":52730964,"body_markdown":"yes correct iterate over strings","body":"yes correct iterate over strings"},{"owner":{"account_id":4853525,"reputation":925,"user_id":3915216,"accept_rate":67,"display_name":"piezol"},"score":0,"creation_date":1441610532,"post_id":32432709,"comment_id":52730998,"body_markdown":"If one leading zero is constant, you can simply prepend it in my answer.","body":"If one leading zero is constant, you can simply prepend it in my answer."}],"answers":[{"tags":[],"owner":{"account_id":4853525,"reputation":925,"user_id":3915216,"accept_rate":67,"display_name":"piezol"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1441609879,"creation_date":1441609879,"answer_id":32433028,"question_id":32432709,"body_markdown":"    int min_range = 8230;\r\n    int max_range = 8239;\r\n\r\n\r\n    for(int i = min_range * 100000; i &lt; max_range * 100000; ++i)\r\n        System.out.println(i);\r\n\r\n... if i understood what you meant correctly.&lt;br /&gt;\r\nI would also want to ask someone with more knowledge whether the max_range * 100000 would be considered as loop invariant by javac and pulled out of the loop.","title":"Best way to Iterate over a range of Integers in Java without regex","body":"<pre><code>int min_range = 8230;\nint max_range = 8239;\n\n\nfor(int i = min_range * 100000; i &lt; max_range * 100000; ++i)\n    System.out.println(i);\n</code></pre>\n\n<p>... if i understood what you meant correctly.<br />\nI would also want to ask someone with more knowledge whether the max_range * 100000 would be considered as loop invariant by javac and pulled out of the loop.</p>\n"}],"owner":{"account_id":4930301,"reputation":85,"user_id":3970306,"accept_rate":89,"display_name":"mesut"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1077,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"closed_date":1441611038,"accepted_answer_id":32433028,"answer_count":1,"score":-4,"last_activity_date":1647511563,"creation_date":1441608726,"question_id":32432709,"body_markdown":"I have range of numbers 08230 to 08239. I would like to iterate over this numbers and find numbers like 0823021267 or 0823121267 etc. I tried regex that works fine. Is there other way (better way) to do that and how please with example.","title":"Best way to Iterate over a range of Integers in Java without regex","body":"<p>I have range of numbers 08230 to 08239. I would like to iterate over this numbers and find numbers like 0823021267 or 0823121267 etc. I tried regex that works fine. Is there other way (better way) to do that and how please with example.</p>\n"},{"tags":["java","apache","jenkins","proxy","ntlm"],"answers":[{"tags":[],"owner":{"account_id":77004,"reputation":1349,"user_id":220070,"accept_rate":75,"display_name":"Joey"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1429209941,"creation_date":1429209941,"answer_id":29683420,"question_id":29682844,"body_markdown":"If you parse the exception, it states\r\n\r\n&gt; Credentials cannot be used for NTLM authentication\r\n\r\nSo according to https://www.safaribooksonline.com/library/view/jenkins-the-definitive/9781449311155/ch04s09.html you might need to provide a domain name as well.\r\n\r\n&gt; If your proxy is using Microsofts NTLM authentication scheme, then you will need to provide a domain name as well as a username. You can place both in the User name field: just enter the domain name, followed by a back-slash (\\\\), followed by the username, such as MyDomain\\Joe Bloggs.\r\n\r\nMaybe that&#39;s the issue?","title":"Jenkins proxy 407 error","body":"<p>If you parse the exception, it states</p>\n\n<blockquote>\n  <p>Credentials cannot be used for NTLM authentication</p>\n</blockquote>\n\n<p>So according to <a href=\"https://www.safaribooksonline.com/library/view/jenkins-the-definitive/9781449311155/ch04s09.html\" rel=\"nofollow\">https://www.safaribooksonline.com/library/view/jenkins-the-definitive/9781449311155/ch04s09.html</a> you might need to provide a domain name as well.</p>\n\n<blockquote>\n  <p>If your proxy is using Microsofts NTLM authentication scheme, then you will need to provide a domain name as well as a username. You can place both in the User name field: just enter the domain name, followed by a back-slash (\\), followed by the username, such as MyDomain\\Joe Bloggs.</p>\n</blockquote>\n\n<p>Maybe that's the issue?</p>\n"},{"tags":[],"owner":{"account_id":1854865,"reputation":888,"user_id":1680677,"accept_rate":62,"display_name":"ricksmt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1456851560,"creation_date":1456851560,"answer_id":35728853,"question_id":29682844,"body_markdown":"I ran into this issue today, and it finally ended up being a space at the end of the Spira URI in the Spira configuration. Must&#39;ve been a bad copy and paste.","title":"Jenkins proxy 407 error","body":"<p>I ran into this issue today, and it finally ended up being a space at the end of the Spira URI in the Spira configuration. Must've been a bad copy and paste.</p>\n"},{"tags":[],"owner":{"account_id":250759,"reputation":9405,"user_id":2160152,"accept_rate":100,"display_name":"cheffe"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1484599446,"creation_date":1456899577,"answer_id":35739877,"question_id":29682844,"body_markdown":"We had this issue a rather long time with our Jenkins behind our company&#39;s proxy. The other day they changed the order of authentication schemes our proxy desires. This was the day our Jenkins stopped connecting to the internet.\r\n\r\nObviously [Jenkins is not able to connect via a proxy that requires NTML authentication](https://issues.jenkins-ci.org/browse/JENKINS-3350). This was what lead me [to issue an improvement for Jenkins to extend the proxy configuration screen](https://issues.jenkins-ci.org/browse/JENKINS-32293). During the work on the extension I discovered that Jenkins does not make use of all proxy related system properties, therefore it cannot work with NTLM.\r\n\r\nAs such the answer for a proxy that allows _only_ NTLM authentication is: it will not work via the Jenkins UI.\r\n\r\n**But** if your proxy allows other authentication schemes, you can follow our workaround, it is rather simple: add the java system property `-Dhttp.auth.preference=&quot;basic&quot;` to your Jenkins startup script or to that one of your container. \r\n\r\nThis will force the underlying libraries and Java mechanisms Jenkins makes use of to connect to your proxy using basic authentication, not NTLM.","title":"Jenkins proxy 407 error","body":"<p>We had this issue a rather long time with our Jenkins behind our company's proxy. The other day they changed the order of authentication schemes our proxy desires. This was the day our Jenkins stopped connecting to the internet.</p>\n\n<p>Obviously <a href=\"https://issues.jenkins-ci.org/browse/JENKINS-3350\" rel=\"noreferrer\">Jenkins is not able to connect via a proxy that requires NTML authentication</a>. This was what lead me <a href=\"https://issues.jenkins-ci.org/browse/JENKINS-32293\" rel=\"noreferrer\">to issue an improvement for Jenkins to extend the proxy configuration screen</a>. During the work on the extension I discovered that Jenkins does not make use of all proxy related system properties, therefore it cannot work with NTLM.</p>\n\n<p>As such the answer for a proxy that allows <em>only</em> NTLM authentication is: it will not work via the Jenkins UI.</p>\n\n<p><strong>But</strong> if your proxy allows other authentication schemes, you can follow our workaround, it is rather simple: add the java system property <code>-Dhttp.auth.preference=\"basic\"</code> to your Jenkins startup script or to that one of your container. </p>\n\n<p>This will force the underlying libraries and Java mechanisms Jenkins makes use of to connect to your proxy using basic authentication, not NTLM.</p>\n"},{"tags":[],"owner":{"account_id":1121666,"reputation":334,"user_id":1109871,"accept_rate":75,"display_name":"RokX"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1487334248,"creation_date":1487334248,"answer_id":42297903,"question_id":29682844,"body_markdown":"I got the Failed to connect to http://google.com (code 407) error in Test. But jenkins can check new version and install plugins&amp;updates.\r\n\r\nPut in credentials regardless of the Test. Then Save and go to available plugins/check jenkins version to check if it works.","title":"Jenkins proxy 407 error","body":"<p>I got the Failed to connect to <a href=\"http://google.com\" rel=\"nofollow noreferrer\">http://google.com</a> (code 407) error in Test. But jenkins can check new version and install plugins&amp;updates.</p>\n\n<p>Put in credentials regardless of the Test. Then Save and go to available plugins/check jenkins version to check if it works.</p>\n"},{"tags":[],"owner":{"account_id":6153221,"reputation":11,"user_id":4797045,"display_name":"Alperen Kethudaolu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1506066770,"creation_date":1506066770,"answer_id":46359587,"question_id":29682844,"body_markdown":"&lt;p&gt;The below solution worked for me for the 407 problem in Windows 7 machine.&lt;/p&gt;\r\n&lt;ul&gt;\r\n&lt;li&gt;1. Stop Jenkins from Windows Services&lt;/li&gt;\r\n&lt;li&gt;2. Goto Services.msc &gt; Jenkins &gt; Right Click &gt; Properties &gt; Logon &gt; This account and type in your username and password&lt;/li&gt;\r\n&lt;li&gt;3. Click Apply and Ok&lt;/li&gt;\r\n&lt;li&gt;3. Start Jenkins&lt;/li&gt;\r\n&lt;/ul&gt;\r\n\r\n","title":"Jenkins proxy 407 error","body":"<p>The below solution worked for me for the 407 problem in Windows 7 machine.</p>\n\n<ul>\n<li>1. Stop Jenkins from Windows Services</li>\n<li>2. Goto Services.msc > Jenkins > Right Click > Properties > Logon > This account and type in your username and password</li>\n<li>3. Click Apply and Ok</li>\n<li>3. Start Jenkins</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":12248026,"reputation":56,"user_id":8939208,"display_name":"Sharad Gaikwad"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1513946401,"creation_date":1513946401,"answer_id":47941733,"question_id":29682844,"body_markdown":"I was getting this error while running jenkins with jetty server on jdk 8. \r\n\r\nTo resolve issue follow below steps:\r\n\r\n**Step 1:**\r\n\r\n   Open URL https://updates.jenkins.io/ in browser \r\n\r\n**Step 2:** \r\n\r\n   To export the Intermediate certificate:\r\n\r\nInternet Explorer -&gt; Tools -&gt; Internet Options -&gt; Content -&gt; Certificates -&gt;\r\nGo to Trusted Root Certification Authorities Tab and find out the DST Root CA X3 certificate. Then Export the Certificate:\r\nSelect Certificate -&gt; Export -&gt; DER encoded Binary Format -&gt; Save\r\nsave the certificate as jenkins.cer (for me it was saved to C:\\jenkins\\jenkins.cer\r\n\r\n( From Firefox -&gt; Tools -&gt; Options -&gt; Advanced -&gt; Encryption -&gt; View Certificates )\r\n\r\n\r\n**Step 3:** \r\ncreate keystore with name cacertskeystore \r\n\r\nJAVA_HOME\\bin\\keytool -keystore C:\\jenkins\\cacertskeystore -genkey -alias cacerts\r\n\r\n**Step 4:** \r\n\r\nAdd jenkins.cer to cacertskeystore using below command\r\n\r\nJAVA_HOME\\bin\\keytool -import -trustcacerts -Keystore C:\\jenkins\\cacertskeystore -alias jenkins -file C:\\jenkins\\jenkins.cer\r\n\r\nStep 5: Start jetty server with below command\r\nJAVA_HOME\\bin\\java -DJENKINS_HOME=C:/jenkins/home -Djavax.net.ssl.trustStore=C:/jenkins/cacertskeystore -Djavax.net.ssl.trustStorePassword=password-provided-while-creating-keystore -jar jenkins.war --httpPort=8080--httpListenAddress=localhost","title":"Jenkins proxy 407 error","body":"<p>I was getting this error while running jenkins with jetty server on jdk 8. </p>\n\n<p>To resolve issue follow below steps:</p>\n\n<p><strong>Step 1:</strong></p>\n\n<p>Open URL <a href=\"https://updates.jenkins.io/\" rel=\"nofollow noreferrer\">https://updates.jenkins.io/</a> in browser </p>\n\n<p><strong>Step 2:</strong> </p>\n\n<p>To export the Intermediate certificate:</p>\n\n<p>Internet Explorer -> Tools -> Internet Options -> Content -> Certificates ->\nGo to Trusted Root Certification Authorities Tab and find out the DST Root CA X3 certificate. Then Export the Certificate:\nSelect Certificate -> Export -> DER encoded Binary Format -> Save\nsave the certificate as jenkins.cer (for me it was saved to C:\\jenkins\\jenkins.cer</p>\n\n<p>( From Firefox -> Tools -> Options -> Advanced -> Encryption -> View Certificates )</p>\n\n<p><strong>Step 3:</strong> \ncreate keystore with name cacertskeystore </p>\n\n<p>JAVA_HOME\\bin\\keytool -keystore C:\\jenkins\\cacertskeystore -genkey -alias cacerts</p>\n\n<p><strong>Step 4:</strong> </p>\n\n<p>Add jenkins.cer to cacertskeystore using below command</p>\n\n<p>JAVA_HOME\\bin\\keytool -import -trustcacerts -Keystore C:\\jenkins\\cacertskeystore -alias jenkins -file C:\\jenkins\\jenkins.cer</p>\n\n<p>Step 5: Start jetty server with below command\nJAVA_HOME\\bin\\java -DJENKINS_HOME=C:/jenkins/home -Djavax.net.ssl.trustStore=C:/jenkins/cacertskeystore -Djavax.net.ssl.trustStorePassword=password-provided-while-creating-keystore -jar jenkins.war --httpPort=8080--httpListenAddress=localhost</p>\n"},{"tags":[],"owner":{"account_id":11626384,"reputation":71,"user_id":8516043,"display_name":"Ravindu Kumarasiri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1516796704,"creation_date":1516796704,"answer_id":48422439,"question_id":29682844,"body_markdown":"**Simple Hack:**\r\nTry using the IP of the domain rather than the address. `-Dhttp.auth.preference=&quot;basic&quot;` actually didn&#39;t work for me :(\r\n\r\nPS. Change both the browser and proxy and the Jenkins proxy to the IP","title":"Jenkins proxy 407 error","body":"<p><strong>Simple Hack:</strong>\nTry using the IP of the domain rather than the address. <code>-Dhttp.auth.preference=\"basic\"</code> actually didn't work for me :(</p>\n\n<p>PS. Change both the browser and proxy and the Jenkins proxy to the IP</p>\n"},{"tags":[],"owner":{"account_id":3277131,"reputation":479,"user_id":3263333,"display_name":"Jorge Yanes Diez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1535620567,"creation_date":1535620567,"answer_id":52093337,"question_id":29682844,"body_markdown":"I found this question while affected by bug: https://issues.jenkins-ci.org/browse/JENKINS-48775\r\n\r\nThe temporary workaround is to open the Jenkins script console and type\r\n`ProxyConfiguration.open(new java.net.URL(&quot;http://jenkins.io&quot;)).content`\r\n\r\nSince it&#39;s an http url, and not an https url, it will refresh some caches and make the plugin manager work with the proxy settings, at least for some time. See the bug report for more details.","title":"Jenkins proxy 407 error","body":"<p>I found this question while affected by bug: <a href=\"https://issues.jenkins-ci.org/browse/JENKINS-48775\" rel=\"nofollow noreferrer\">https://issues.jenkins-ci.org/browse/JENKINS-48775</a></p>\n\n<p>The temporary workaround is to open the Jenkins script console and type\n<code>ProxyConfiguration.open(new java.net.URL(\"http://jenkins.io\")).content</code></p>\n\n<p>Since it's an http url, and not an https url, it will refresh some caches and make the plugin manager work with the proxy settings, at least for some time. See the bug report for more details.</p>\n"},{"tags":[],"owner":{"account_id":1285100,"reputation":104,"user_id":1238345,"accept_rate":20,"display_name":"NilKha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1554810785,"creation_date":1554809541,"answer_id":55591877,"question_id":29682844,"body_markdown":"I have also faced same issue of **jenkins-proxy-407-error**\r\n\r\nI have found work around for that, I Hope it will be useful for other users :\r\n\r\nYou can install **Cntlm Authentication Proxy** , it stands between your applications and the corporate proxy, adding NTLM authentication on-the-fly.\r\n\r\nSee here &lt;http://cntlm.sourceforge.net/&gt;\r\n\r\nOnce you install CNTLM, add your NTLM credentials in a file **cntlm.ini** . You can also configure Listen port or default to 3128 .\r\n\r\nFind detailed instruction of CNTLM installation here\r\n\r\n &lt;https://vijiboy.wordpress.com/2018/03/14/configure-cntlm-to-generate-hash-for-your-password-h-and-verify-m/&gt;\r\n\r\nStart CNTLM service and go to jenkins, add \r\n\r\n**host:** host name or localhost\r\n\r\n**port:** Listen port specified in cntlm.ini or default 3128\r\n\r\nkeep username and password blank and you are set to use Jenkins.\r\n \r\n","title":"Jenkins proxy 407 error","body":"<p>I have also faced same issue of <strong>jenkins-proxy-407-error</strong></p>\n\n<p>I have found work around for that, I Hope it will be useful for other users :</p>\n\n<p>You can install <strong>Cntlm Authentication Proxy</strong> , it stands between your applications and the corporate proxy, adding NTLM authentication on-the-fly.</p>\n\n<p>See here <a href=\"http://cntlm.sourceforge.net/\" rel=\"nofollow noreferrer\">http://cntlm.sourceforge.net/</a></p>\n\n<p>Once you install CNTLM, add your NTLM credentials in a file <strong>cntlm.ini</strong> . You can also configure Listen port or default to 3128 .</p>\n\n<p>Find detailed instruction of CNTLM installation here</p>\n\n<p><a href=\"https://vijiboy.wordpress.com/2018/03/14/configure-cntlm-to-generate-hash-for-your-password-h-and-verify-m/\" rel=\"nofollow noreferrer\">https://vijiboy.wordpress.com/2018/03/14/configure-cntlm-to-generate-hash-for-your-password-h-and-verify-m/</a></p>\n\n<p>Start CNTLM service and go to jenkins, add </p>\n\n<p><strong>host:</strong> host name or localhost</p>\n\n<p><strong>port:</strong> Listen port specified in cntlm.ini or default 3128</p>\n\n<p>keep username and password blank and you are set to use Jenkins.</p>\n"},{"tags":[],"owner":{"account_id":6365005,"reputation":25,"user_id":6633658,"display_name":"Vasu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1555068307,"creation_date":1554815500,"answer_id":55593753,"question_id":29682844,"body_markdown":"for Java JDK8 and above, Oracle has disabled basic auth tunnelling for Basic authentication. If you want to use Basic mode again (security will be compromised), execute Jenkins adding this parameter to your JAVA_OPTS variable\r\n\r\n        &quot;-Djdk.http.auth.tunneling.disabledSchemes=&quot;\r\ndefault value is\r\n\r\n        &quot;-Djdk.http.auth.tunneling.disabledSchemes=Basic&quot;, \r\n\r\nas Basic scheme is DISABLED by default, it will return HTTP 407 error even if your credentials were OK.\r\n\r\nmore on link https://issues.jenkins-ci.org/browse/JENKINS-48775 Thanks to Israel Romero Fiji","title":"Jenkins proxy 407 error","body":"<p>for Java JDK8 and above, Oracle has disabled basic auth tunnelling for Basic authentication. If you want to use Basic mode again (security will be compromised), execute Jenkins adding this parameter to your JAVA_OPTS variable</p>\n\n<pre><code>    \"-Djdk.http.auth.tunneling.disabledSchemes=\"\n</code></pre>\n\n<p>default value is</p>\n\n<pre><code>    \"-Djdk.http.auth.tunneling.disabledSchemes=Basic\", \n</code></pre>\n\n<p>as Basic scheme is DISABLED by default, it will return HTTP 407 error even if your credentials were OK.</p>\n\n<p>more on link <a href=\"https://issues.jenkins-ci.org/browse/JENKINS-48775\" rel=\"nofollow noreferrer\">https://issues.jenkins-ci.org/browse/JENKINS-48775</a> Thanks to Israel Romero Fiji</p>\n"},{"tags":[],"owner":{"account_id":16464987,"reputation":1,"user_id":11895250,"display_name":"AMit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647511528,"creation_date":1647511528,"answer_id":71510439,"question_id":29682844,"body_markdown":"Solution is so simple\r\nIf you tried to edit \r\njdk.http.auth.tunneling.disabledSchemes=Basic\r\nto\r\njdk.http.auth.tunneling.disabledSchemes=\r\nat location C:\\.......\\java-1.8.0-openjdk\\jre\\lib\\net.properties\r\n\r\nThen later try to enter \r\nfill this section with proper entries \r\nDone.\r\n[Check this screenshot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/S2CfC.png","title":"Jenkins proxy 407 error","body":"<p>Solution is so simple\nIf you tried to edit\njdk.http.auth.tunneling.disabledSchemes=Basic\nto\njdk.http.auth.tunneling.disabledSchemes=\nat location C:.......\\java-1.8.0-openjdk\\jre\\lib\\net.properties</p>\n<p>Then later try to enter\nfill this section with proper entries\nDone.\n<a href=\"https://i.stack.imgur.com/S2CfC.png\" rel=\"nofollow noreferrer\">Check this screenshot</a></p>\n"}],"owner":{"account_id":6154521,"reputation":121,"user_id":4797931,"display_name":"Ilves"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22110,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":11,"score":12,"last_activity_date":1647511528,"creation_date":1429208009,"question_id":29682844,"body_markdown":"I&#39;m running **Jenkins CI** inside a corporate network which uses a proxy for internet access.\r\n\r\n I tried to configure proxy details in *Plugins-&gt;Advanced*, but even though the credentials are correct (yeah, I checked it a bunch of times), it cannot validate &quot;Test URL&quot; even on http://google.com and returns\r\n\r\n&gt;  Failed to connect to http://google.com (code 407).\r\n\r\nStrangely, Jenkins is still able to download plugins itself (whoa!), but totally unable to connect to any HTTP resource. The message that outputs from the console is:\r\n\r\n&gt; [0mApr 16, 2015 1:58:56 PM\r\n&gt; org.apache.commons.httpclient.HttpMethodDirector pro\r\n&gt; cessProxyAuthChallenge INFO: Failure authenticating with NTLM &lt;any\r\n&gt; realm&gt;@proxyrye.asg.com:80 Apr 16, 2015 2:09:09 PM\r\n&gt; org.apache.commons.httpclient.HttpMethodDirector execute WithRetry\r\n&gt; INFO: I/O exception (java.net.ConnectException) caught when processing\r\n&gt; request: Connection timed out: connect Apr 16, 2015 2:09:09 PM\r\n&gt; org.apache.commons.httpclient.HttpMethodDirector execute WithRetry\r\n&gt; INFO: Retrying request Apr 16, 2015 2:09:10 PM\r\n&gt; org.apache.commons.httpclient.auth.AuthChallengeProcesso r\r\n&gt; selectAuthScheme INFO: ntlm authentication scheme selected [31mApr\r\n&gt; 16, 2015 2:09:10 PM org.apache.commons.httpclient.HttpMethodDirector\r\n&gt; au thenticate SEVERE: Credentials cannot be used for NTLM\r\n&gt; authentication: org.apache.commons.h\r\n&gt; ttpclient.UsernamePasswordCredentials\r\n&gt; org.apache.commons.httpclient.auth.InvalidCredentialsException:\r\n&gt; Credentials cann ot be used for NTLM authentication:\r\n&gt; org.apache.commons.httpclient.UsernamePasswo rdCredentials\r\n&gt;         at org.apache.commons.httpclient.auth.NTLMScheme.authenticate(NTLMScheme\r\n&gt; .java:332)\r\n ","title":"Jenkins proxy 407 error","body":"<p>I'm running <strong>Jenkins CI</strong> inside a corporate network which uses a proxy for internet access.</p>\n\n<p>I tried to configure proxy details in <em>Plugins->Advanced</em>, but even though the credentials are correct (yeah, I checked it a bunch of times), it cannot validate \"Test URL\" even on <a href=\"http://google.com\">http://google.com</a> and returns</p>\n\n<blockquote>\n  <p>Failed to connect to <a href=\"http://google.com\">http://google.com</a> (code 407).</p>\n</blockquote>\n\n<p>Strangely, Jenkins is still able to download plugins itself (whoa!), but totally unable to connect to any HTTP resource. The message that outputs from the console is:</p>\n\n<blockquote>\n  <p>[0mApr 16, 2015 1:58:56 PM\n  org.apache.commons.httpclient.HttpMethodDirector pro\n  cessProxyAuthChallenge INFO: Failure authenticating with NTLM @proxyrye.asg.com:80 Apr 16, 2015 2:09:09 PM\n  org.apache.commons.httpclient.HttpMethodDirector execute WithRetry\n  INFO: I/O exception (java.net.ConnectException) caught when processing\n  request: Connection timed out: connect Apr 16, 2015 2:09:09 PM\n  org.apache.commons.httpclient.HttpMethodDirector execute WithRetry\n  INFO: Retrying request Apr 16, 2015 2:09:10 PM\n  org.apache.commons.httpclient.auth.AuthChallengeProcesso r\n  selectAuthScheme INFO: ntlm authentication scheme selected [31mApr\n  16, 2015 2:09:10 PM org.apache.commons.httpclient.HttpMethodDirector\n  au thenticate SEVERE: Credentials cannot be used for NTLM\n  authentication: org.apache.commons.h\n  ttpclient.UsernamePasswordCredentials\n  org.apache.commons.httpclient.auth.InvalidCredentialsException:\n  Credentials cann ot be used for NTLM authentication:\n  org.apache.commons.httpclient.UsernamePasswo rdCredentials\n          at org.apache.commons.httpclient.auth.NTLMScheme.authenticate(NTLMScheme\n  .java:332)</p>\n</blockquote>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":5256197,"reputation":943,"user_id":4199040,"accept_rate":55,"display_name":"Amar Ilindra"},"score":0,"creation_date":1532540590,"post_id":41863680,"comment_id":90018423,"body_markdown":"use &quot;this&quot; instead of content. \nExample: `Intent intent = new Intent(this, PushClicked.class);`","body":"use &quot;this&quot; instead of content.  Example: <code>Intent intent = new Intent(this, PushClicked.class);</code>"}],"answers":[{"tags":[],"owner":{"account_id":125673,"reputation":9080,"user_id":321597,"accept_rate":80,"display_name":"NightMICU"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1486087220,"creation_date":1486087220,"answer_id":42015539,"question_id":41863680,"body_markdown":"The short answer to this issue is to include your handler for the push notification open within the same class where you initialize OneSignal:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n            // Init OneSignal\r\n            OneSignal.startInit(this).setNotificationOpenedHandler(new NotificationOpenHandler()).init();\r\n    \r\n            Toolbar mToolbar = (Toolbar) findViewById(R.id.app_bar);\r\n            setSupportActionBar(mToolbar);\r\n            getSupportActionBar().setDisplayUseLogoEnabled(true);\r\n            getSupportActionBar().setLogo(R.drawable.ic_launcher);\r\n            getSupportActionBar().setDisplayShowTitleEnabled(false);\r\n            if (savedInstanceState == null) {\r\n                getFragmentManager().beginTransaction()\r\n                        .add(R.id.container, new RecordingsFragment())\r\n                        .commit();\r\n            }\r\n        }\r\n    \r\n        class NotificationOpenHandler implements OneSignal.NotificationOpenedHandler {\r\n            // This fires when a notification is opened by tapping on it.\r\n            @Override\r\n            public void notificationOpened(OSNotificationOpenResult result) {\r\n                OSNotificationAction.ActionType actionType = result.action.type;\r\n                JSONObject data = result.notification.payload.additionalData;\r\n    \r\n                String stationName = data.optString(&quot;stationName&quot;);\r\n                String timestamp = data.optString(&quot;timestamp&quot;);\r\n                String filename = data.optString(&quot;filename&quot;);\r\n                String url = getString(R.string.callResourceUrl) + filename;\r\n    \r\n                Intent intent = new Intent(getApplicationContext(), CallActivity.class);\r\n                intent.putExtra(&quot;stationName&quot;, stationName);\r\n                intent.putExtra(&quot;time&quot;, timestamp);\r\n                intent.putExtra(&quot;url&quot;, url);\r\n    //            intent.setFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT | Intent.FLAG_ACTIVITY_NEW_TASK);\r\n                startActivity(intent);\r\n            }\r\n        }\r\n    }","title":"OneSignal Android NotificationOpenedHandler - start activity","body":"<p>The short answer to this issue is to include your handler for the push notification open within the same class where you initialize OneSignal:</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        // Init OneSignal\n        OneSignal.startInit(this).setNotificationOpenedHandler(new NotificationOpenHandler()).init();\n\n        Toolbar mToolbar = (Toolbar) findViewById(R.id.app_bar);\n        setSupportActionBar(mToolbar);\n        getSupportActionBar().setDisplayUseLogoEnabled(true);\n        getSupportActionBar().setLogo(R.drawable.ic_launcher);\n        getSupportActionBar().setDisplayShowTitleEnabled(false);\n        if (savedInstanceState == null) {\n            getFragmentManager().beginTransaction()\n                    .add(R.id.container, new RecordingsFragment())\n                    .commit();\n        }\n    }\n\n    class NotificationOpenHandler implements OneSignal.NotificationOpenedHandler {\n        // This fires when a notification is opened by tapping on it.\n        @Override\n        public void notificationOpened(OSNotificationOpenResult result) {\n            OSNotificationAction.ActionType actionType = result.action.type;\n            JSONObject data = result.notification.payload.additionalData;\n\n            String stationName = data.optString(\"stationName\");\n            String timestamp = data.optString(\"timestamp\");\n            String filename = data.optString(\"filename\");\n            String url = getString(R.string.callResourceUrl) + filename;\n\n            Intent intent = new Intent(getApplicationContext(), CallActivity.class);\n            intent.putExtra(\"stationName\", stationName);\n            intent.putExtra(\"time\", timestamp);\n            intent.putExtra(\"url\", url);\n//            intent.setFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT | Intent.FLAG_ACTIVITY_NEW_TASK);\n            startActivity(intent);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6909825,"reputation":2140,"user_id":5306188,"accept_rate":56,"display_name":"Gabriel Morin"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1490287545,"creation_date":1490287545,"answer_id":42982167,"question_id":41863680,"body_markdown":"Here&#39;s how I made it work:\r\n\r\n    public class MyApplication extends Application {\r\n        @Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            OneSignal.startInit(this)\r\n                    .setNotificationOpenedHandler(new MyNotificationOpenedHandler(this))\r\n                    .init();\r\n        }\r\n    }\r\n\r\nThe `NotificationOpenedHandler` custom class\r\n\r\n    public class MyNotificationOpenedHandler implements OneSignal.NotificationOpenedHandler {\r\n    \r\n        private Application application;\r\n    \r\n        public MyNotificationOpenedHandler(Application application) {\r\n            this.application = application;\r\n        }\r\n    \r\n        @Override\r\n        public void notificationOpened(OSNotificationOpenResult result) {\r\n            \r\n            // Get custom datas from notification\r\n            JSONObject data = result.notification.payload.additionalData;\r\n            if (data != null) {\r\n                String myCustomData = data.optString(&quot;key&quot;, null);\r\n            }\r\n    \r\n            // React to button pressed\r\n            OSNotificationAction.ActionType actionType = result.action.type;\r\n            if (actionType == OSNotificationAction.ActionType.ActionTaken)\r\n                Log.i(&quot;OneSignalExample&quot;, &quot;Button pressed with id: &quot; + result.action.actionID);\r\n    \r\n            // Launch new activity using Application object\r\n            startApp();\r\n        }\r\n        \r\n        private void startApp() {\r\n            Intent intent = new Intent(application, MyActivity.class)\r\n                    .setFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT | Intent.FLAG_ACTIVITY_NEW_TASK);\r\n            application.startActivity(intent);\r\n        }\r\n    }\r\n\r\nDon&#39;t forget to add this to your manifest:\r\n\r\n    &lt;application ...&gt;\r\n       &lt;meta-data android:name=&quot;com.onesignal.NotificationOpened.DEFAULT&quot; android:value=&quot;DISABLE&quot; /&gt;\r\n    &lt;/application&gt;","title":"OneSignal Android NotificationOpenedHandler - start activity","body":"<p>Here's how I made it work:</p>\n\n<pre><code>public class MyApplication extends Application {\n    @Override\n    public void onCreate() {\n        super.onCreate();\n        OneSignal.startInit(this)\n                .setNotificationOpenedHandler(new MyNotificationOpenedHandler(this))\n                .init();\n    }\n}\n</code></pre>\n\n<p>The <code>NotificationOpenedHandler</code> custom class</p>\n\n<pre><code>public class MyNotificationOpenedHandler implements OneSignal.NotificationOpenedHandler {\n\n    private Application application;\n\n    public MyNotificationOpenedHandler(Application application) {\n        this.application = application;\n    }\n\n    @Override\n    public void notificationOpened(OSNotificationOpenResult result) {\n\n        // Get custom datas from notification\n        JSONObject data = result.notification.payload.additionalData;\n        if (data != null) {\n            String myCustomData = data.optString(\"key\", null);\n        }\n\n        // React to button pressed\n        OSNotificationAction.ActionType actionType = result.action.type;\n        if (actionType == OSNotificationAction.ActionType.ActionTaken)\n            Log.i(\"OneSignalExample\", \"Button pressed with id: \" + result.action.actionID);\n\n        // Launch new activity using Application object\n        startApp();\n    }\n\n    private void startApp() {\n        Intent intent = new Intent(application, MyActivity.class)\n                .setFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT | Intent.FLAG_ACTIVITY_NEW_TASK);\n        application.startActivity(intent);\n    }\n}\n</code></pre>\n\n<p>Don't forget to add this to your manifest:</p>\n\n<pre><code>&lt;application ...&gt;\n   &lt;meta-data android:name=\"com.onesignal.NotificationOpened.DEFAULT\" android:value=\"DISABLE\" /&gt;\n&lt;/application&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9748857,"reputation":4106,"user_id":7227834,"display_name":"AmrDeveloper"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1647511476,"creation_date":1647511476,"answer_id":71510427,"question_id":41863680,"body_markdown":"Updated code in 2022\r\n\r\n`OneSignal.NotificationOpenedHandler` replaced by `OneSignal.OSNotificationOpenedHandler` \r\n\r\nand `result.notification.payload.additionalData` replaced by `result.notification.additionalData`\r\n\r\nFull code\r\n\r\n\r\n```java\r\nclass OneSignalNotificationOpenHandler(private val context : Context) : OneSignal.OSNotificationOpenedHandler {\r\n   \r\n   override fun notificationOpened(result: OSNotificationOpenedResult?) {\r\n       if (result == null) return\r\n       val type = result.action.type\r\n       val data = result.notification.additionalData\r\n       \r\n       val name = data.optString(&quot;name&quot;)\r\n       \r\n       val intent = Intent(context, MainActivity::class.java)\r\n       intent.flags = Intent.FLAG_ACTIVITY_REORDER_TO_FRONT or Intent.FLAG_ACTIVITY_NEW_TASK\r\n       intent.putExtra(&quot;name&quot;, name)\r\n       context.startActivity(intent)\r\n   }\r\n}\r\n```\r\n\r\nAdd it to OneSignel after `OneSignal.initWithContext(this)`\r\n\r\n```java\r\nOneSignal.setNotificationOpenedHandler(OneSignalNotificationOpenHandler(applicationContext))\r\n```\r\n\r\nDon&#39;t forget to Add the following to your AndroidManifest.xml to prevent the launching of your main Activity\r\n\r\n```xml\r\n&lt;application ...&gt;\r\n    &lt;meta-data android:name=&quot;com.onesignal.NotificationOpened.DEFAULT&quot; android:value=&quot;DISABLE&quot; /&gt;\r\n&lt;/application&gt;\r\n```\r\n","title":"OneSignal Android NotificationOpenedHandler - start activity","body":"<p>Updated code in 2022</p>\n<p><code>OneSignal.NotificationOpenedHandler</code> replaced by <code>OneSignal.OSNotificationOpenedHandler</code></p>\n<p>and <code>result.notification.payload.additionalData</code> replaced by <code>result.notification.additionalData</code></p>\n<p>Full code</p>\n<pre class=\"lang-java prettyprint-override\"><code>class OneSignalNotificationOpenHandler(private val context : Context) : OneSignal.OSNotificationOpenedHandler {\n   \n   override fun notificationOpened(result: OSNotificationOpenedResult?) {\n       if (result == null) return\n       val type = result.action.type\n       val data = result.notification.additionalData\n       \n       val name = data.optString(&quot;name&quot;)\n       \n       val intent = Intent(context, MainActivity::class.java)\n       intent.flags = Intent.FLAG_ACTIVITY_REORDER_TO_FRONT or Intent.FLAG_ACTIVITY_NEW_TASK\n       intent.putExtra(&quot;name&quot;, name)\n       context.startActivity(intent)\n   }\n}\n</code></pre>\n<p>Add it to OneSignel after <code>OneSignal.initWithContext(this)</code></p>\n<pre class=\"lang-java prettyprint-override\"><code>OneSignal.setNotificationOpenedHandler(OneSignalNotificationOpenHandler(applicationContext))\n</code></pre>\n<p>Don't forget to Add the following to your AndroidManifest.xml to prevent the launching of your main Activity</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;application ...&gt;\n    &lt;meta-data android:name=&quot;com.onesignal.NotificationOpened.DEFAULT&quot; android:value=&quot;DISABLE&quot; /&gt;\n&lt;/application&gt;\n</code></pre>\n"}],"owner":{"account_id":125673,"reputation":9080,"user_id":321597,"accept_rate":80,"display_name":"NightMICU"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13244,"favorite_count":0,"down_vote_count":1,"up_vote_count":10,"answer_count":3,"score":9,"last_activity_date":1647511476,"creation_date":1485387473,"question_id":41863680,"body_markdown":"Trying to migrate from Parse to OneSignal and I am stuck on how to start a new Activity after the user clicks on a push notification. My handler is working, the log shows the text, the issue seems to be how to gain access to the application context from within my push opened handler. The example code is vague, `getApplicationContext()` does not work without first doing *something* else.\r\n\r\nOne post I came upon, unrelated to OneSignal, suggests extending the Application class to gain access to the application context. This did not produce any syntax errors but my app crashes.\r\n\r\nCode:\r\n\r\n    package com.linkedresponder.onesignal;\r\n    \r\n    import android.app.Activity;\r\n    import android.app.Application;\r\n    import android.content.Context;\r\n    import android.content.Intent;\r\n    import android.util.Log;\r\n    import android.widget.Toast;\r\n    \r\n    import com.onesignal.OSNotificationAction;\r\n    import com.onesignal.OSNotificationOpenResult;\r\n    import com.onesignal.OneSignal;\r\n    \r\n    import org.json.JSONObject;\r\n    \r\n    class NotificationOpenHandler extends Application implements OneSignal.NotificationOpenedHandler {\r\n        // This fires when a notification is opened by tapping on it.\r\n        private Context mContext;\r\n        @Override\r\n        public void onCreate() {\r\n            this.mContext = getApplicationContext();\r\n        }\r\n        @Override\r\n        public void notificationOpened(OSNotificationOpenResult result) {\r\n            OSNotificationAction.ActionType actionType = result.action.type;\r\n            JSONObject data = result.notification.payload.additionalData;\r\n            String customKey;\r\n    \r\n            if (data != null) {\r\n                customKey = data.optString(&quot;customkey&quot;, null);\r\n                if (customKey != null) {\r\n                    Log.i(&quot;OneSignalExample&quot;, &quot;customkey set with value: &quot; + customKey);\r\n                } else {\r\n                    Log.i(&quot;OneSignalExample&quot;, &quot;No data&quot;);\r\n                }\r\n            }\r\n    \r\n            if (actionType == OSNotificationAction.ActionType.ActionTaken)\r\n                Log.i(&quot;OneSignalExample&quot;, &quot;Button pressed with id: &quot; + result.action.actionID);\r\n    \r\n            Intent intent = new Intent(mContext, PushClicked.class);\r\n            intent.setFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT | Intent.FLAG_ACTIVITY_NEW_TASK);\r\n             startActivity(intent);\r\n        }\r\n    }\r\n\r\nError:\r\n\r\n    er.onesignal E/AndroidRuntime: FATAL EXCEPTION: main Process: com.linkedresponder.onesignal, PID: 5680\r\n       java.lang.RuntimeException: Unable to start receiver com.onesignal.NotificationOpenedReceiver: java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String android.content.Context.getPackageName()&#39; on a null object reference\r\n       at android.app.ActivityThread.handleReceiver(ActivityThread.java:3018)\r\n       at android.app.ActivityThread.-wrap18(ActivityThread.java)\r\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1544)\r\n       at android.os.Handler.dispatchMessage(Handler.java:102)\r\n       at android.os.Looper.loop(Looper.java:154)\r\n       at android.app.ActivityThread.main(ActivityThread.java:6077)\r\n       at java.lang.reflect.Method.invoke(Native Method)\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\r\n       Caused by: java.lang.NullPointerException: Attempt to invoke virtual method &#39;java.lang.String android.content.Context.getPackageName()&#39; on a null object reference\r\n       at android.content.ComponentName.&lt;init&gt;(ComponentName.java:128)\r\n       at android.content.Intent.&lt;init&gt;(Intent.java:4868)\r\n       at com.linkedresponder.onesignal.NotificationOpenHandler.notificationOpened(NotificationOpenHandler.java:41)\r\n       at com.onesignal.OneSignal.fireNotificationOpenedHandler(OneSignal.java:1009)\r\n       at com.onesignal.OneSignal.runNotificationOpenedCallback(OneSignal.java:954)\r\n       at com.onesignal.OneSignal.handleNotificationOpen(OneSignal.java:1041)\r\n       at com.onesignal.NotificationOpenedProcessor.processIntent(NotificationOpenedProcessor.java:101)\r\n       at com.onesignal.NotificationOpenedProcessor.processFromActivity(NotificationOpenedProcessor.java:57)\r\n       at com.onesignal.NotificationOpenedReceiver.onReceive(NotificationOpenedReceiver.java:11)\r\n       at android.app.ActivityThread.handleReceiver(ActivityThread.java:3011)\r\n       at android.app.ActivityThread.-wrap18(ActivityThread.java)&#160;\r\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1544)&#160;\r\n       at android.os.Handler.dispatchMessage(Handler.java:102)&#160;\r\n       at android.os.Looper.loop(Looper.java:154)&#160;\r\n       at android.app.ActivityThread.main(ActivityThread.java:6077)&#160;\r\n       at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n       at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)&#160;\r\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)&#160;\r\n","title":"OneSignal Android NotificationOpenedHandler - start activity","body":"<p>Trying to migrate from Parse to OneSignal and I am stuck on how to start a new Activity after the user clicks on a push notification. My handler is working, the log shows the text, the issue seems to be how to gain access to the application context from within my push opened handler. The example code is vague, <code>getApplicationContext()</code> does not work without first doing <em>something</em> else.</p>\n\n<p>One post I came upon, unrelated to OneSignal, suggests extending the Application class to gain access to the application context. This did not produce any syntax errors but my app crashes.</p>\n\n<p>Code:</p>\n\n<pre><code>package com.linkedresponder.onesignal;\n\nimport android.app.Activity;\nimport android.app.Application;\nimport android.content.Context;\nimport android.content.Intent;\nimport android.util.Log;\nimport android.widget.Toast;\n\nimport com.onesignal.OSNotificationAction;\nimport com.onesignal.OSNotificationOpenResult;\nimport com.onesignal.OneSignal;\n\nimport org.json.JSONObject;\n\nclass NotificationOpenHandler extends Application implements OneSignal.NotificationOpenedHandler {\n    // This fires when a notification is opened by tapping on it.\n    private Context mContext;\n    @Override\n    public void onCreate() {\n        this.mContext = getApplicationContext();\n    }\n    @Override\n    public void notificationOpened(OSNotificationOpenResult result) {\n        OSNotificationAction.ActionType actionType = result.action.type;\n        JSONObject data = result.notification.payload.additionalData;\n        String customKey;\n\n        if (data != null) {\n            customKey = data.optString(\"customkey\", null);\n            if (customKey != null) {\n                Log.i(\"OneSignalExample\", \"customkey set with value: \" + customKey);\n            } else {\n                Log.i(\"OneSignalExample\", \"No data\");\n            }\n        }\n\n        if (actionType == OSNotificationAction.ActionType.ActionTaken)\n            Log.i(\"OneSignalExample\", \"Button pressed with id: \" + result.action.actionID);\n\n        Intent intent = new Intent(mContext, PushClicked.class);\n        intent.setFlags(Intent.FLAG_ACTIVITY_REORDER_TO_FRONT | Intent.FLAG_ACTIVITY_NEW_TASK);\n         startActivity(intent);\n    }\n}\n</code></pre>\n\n<p>Error:</p>\n\n<pre><code>er.onesignal E/AndroidRuntime: FATAL EXCEPTION: main Process: com.linkedresponder.onesignal, PID: 5680\n   java.lang.RuntimeException: Unable to start receiver com.onesignal.NotificationOpenedReceiver: java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String android.content.Context.getPackageName()' on a null object reference\n   at android.app.ActivityThread.handleReceiver(ActivityThread.java:3018)\n   at android.app.ActivityThread.-wrap18(ActivityThread.java)\n   at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1544)\n   at android.os.Handler.dispatchMessage(Handler.java:102)\n   at android.os.Looper.loop(Looper.java:154)\n   at android.app.ActivityThread.main(ActivityThread.java:6077)\n   at java.lang.reflect.Method.invoke(Native Method)\n   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\n   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\n   Caused by: java.lang.NullPointerException: Attempt to invoke virtual method 'java.lang.String android.content.Context.getPackageName()' on a null object reference\n   at android.content.ComponentName.&lt;init&gt;(ComponentName.java:128)\n   at android.content.Intent.&lt;init&gt;(Intent.java:4868)\n   at com.linkedresponder.onesignal.NotificationOpenHandler.notificationOpened(NotificationOpenHandler.java:41)\n   at com.onesignal.OneSignal.fireNotificationOpenedHandler(OneSignal.java:1009)\n   at com.onesignal.OneSignal.runNotificationOpenedCallback(OneSignal.java:954)\n   at com.onesignal.OneSignal.handleNotificationOpen(OneSignal.java:1041)\n   at com.onesignal.NotificationOpenedProcessor.processIntent(NotificationOpenedProcessor.java:101)\n   at com.onesignal.NotificationOpenedProcessor.processFromActivity(NotificationOpenedProcessor.java:57)\n   at com.onesignal.NotificationOpenedReceiver.onReceive(NotificationOpenedReceiver.java:11)\n   at android.app.ActivityThread.handleReceiver(ActivityThread.java:3011)\n   at android.app.ActivityThread.-wrap18(ActivityThread.java)\n   at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1544)\n   at android.os.Handler.dispatchMessage(Handler.java:102)\n   at android.os.Looper.loop(Looper.java:154)\n   at android.app.ActivityThread.main(ActivityThread.java:6077)\n   at java.lang.reflect.Method.invoke(Native Method)\n   at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:865)\n   at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:755)\n</code></pre>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":15102634,"reputation":338,"user_id":10899197,"display_name":"Tr1monster"},"score":0,"creation_date":1647507341,"post_id":71509280,"comment_id":126390090,"body_markdown":"Take a look at [this](https://www.baeldung.com/java-groupingby-collector) baeldung blog. There is the groupby Collector descriped. Maybe it helps you with your problem.","body":"Take a look at <a href=\"https://www.baeldung.com/java-groupingby-collector\" rel=\"nofollow noreferrer\">this</a> baeldung blog. There is the groupby Collector descriped. Maybe it helps you with your problem."}],"answers":[{"tags":[],"owner":{"account_id":10310871,"reputation":25632,"user_id":7606764,"display_name":"Andronicus"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1647508462,"creation_date":1647508462,"answer_id":71509696,"question_id":71509280,"body_markdown":"I have come up with a solution involving intermediate maps, but in a functional way using `groupingBy` and `reducing`:\r\n\r\n    List&lt;Stat&gt; collect = stats.stream()\r\n        .collect(Collectors.groupingBy(Stat::getBillNumber, Collectors.groupingBy(Stat::getProductGroup,\r\n                Collectors.reducing((left, right) -&gt; new Stat(\r\n                        left.getBillNumber(), \r\n                        left.getProductGroup(), \r\n                        left.getNumberOfItemsInBill() + right.getNumberOfItemsInBill(),\r\n                        left.getSummaryItemsCostInBill() + right.getSummaryItemsCostInBill()\r\n                )))))\r\n        .values().stream()\r\n        .flatMap(m -&gt; m.values().stream())\r\n        .filter(Optional::isPresent)\r\n        .map(Optional::get)\r\n        .collect(Collectors.toList());\r\n\r\nNote that this results in a lot of `Stat` objects being created. If performance is an issue, you can come up with some aggregator and use `Collectors.of` instead of `Collectors.reducing` or stick to `reducing` and map it at the end.","title":"Group by arraylist of objects without creating map","body":"<p>I have come up with a solution involving intermediate maps, but in a functional way using <code>groupingBy</code> and <code>reducing</code>:</p>\n<pre><code>List&lt;Stat&gt; collect = stats.stream()\n    .collect(Collectors.groupingBy(Stat::getBillNumber, Collectors.groupingBy(Stat::getProductGroup,\n            Collectors.reducing((left, right) -&gt; new Stat(\n                    left.getBillNumber(), \n                    left.getProductGroup(), \n                    left.getNumberOfItemsInBill() + right.getNumberOfItemsInBill(),\n                    left.getSummaryItemsCostInBill() + right.getSummaryItemsCostInBill()\n            )))))\n    .values().stream()\n    .flatMap(m -&gt; m.values().stream())\n    .filter(Optional::isPresent)\n    .map(Optional::get)\n    .collect(Collectors.toList());\n</code></pre>\n<p>Note that this results in a lot of <code>Stat</code> objects being created. If performance is an issue, you can come up with some aggregator and use <code>Collectors.of</code> instead of <code>Collectors.reducing</code> or stick to <code>reducing</code> and map it at the end.</p>\n"},{"tags":[],"owner":{"account_id":2751226,"reputation":413,"user_id":2370582,"display_name":"Vinh Truong"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647509320,"creation_date":1647508841,"answer_id":71509774,"question_id":71509280,"body_markdown":"You&#39;ll have to create the `Stat` constructor, but it goes like this:\r\n\r\n```\r\nCollection&lt;Stat&gt; aggregated = stats.stream()\r\n  .collect(Collectors.toMap(\r\n    stat -&gt; new AbstractMap.SimpleEntry&lt;&gt;(stat.getProductGroup(), stat.getBillNumber()),\r\n    stat -&gt; stat,\r\n    (stat1, stat2) -&gt; new Stat(stat1.getBillNumber(), stat1.getProductGroup(), stat1.getNumberOfItemsInBill() + stat2.getNumberOfItemsInBill(), stat1.getSummaryItemsCostInBill() + stat2.getSummaryItemsCostInBill()\r\n  ))\r\n  .values();\r\n```\r\n","title":"Group by arraylist of objects without creating map","body":"<p>You'll have to create the <code>Stat</code> constructor, but it goes like this:</p>\n<pre><code>Collection&lt;Stat&gt; aggregated = stats.stream()\n  .collect(Collectors.toMap(\n    stat -&gt; new AbstractMap.SimpleEntry&lt;&gt;(stat.getProductGroup(), stat.getBillNumber()),\n    stat -&gt; stat,\n    (stat1, stat2) -&gt; new Stat(stat1.getBillNumber(), stat1.getProductGroup(), stat1.getNumberOfItemsInBill() + stat2.getNumberOfItemsInBill(), stat1.getSummaryItemsCostInBill() + stat2.getSummaryItemsCostInBill()\n  ))\n  .values();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10470529,"reputation":365,"user_id":7718524,"display_name":"Ketan Suthar"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647509455,"creation_date":1647509455,"answer_id":71509924,"question_id":71509280,"body_markdown":"I created the below class to represent data in sort form.\r\n\r\n    @Data\r\n    class Stat{\r\n        int bn;\r\n        String pg;\r\n        int noOfBills;\r\n        int cost;\r\n        public Stat(int bn, String pg, int noOfBills, int cost)\r\n        {\r\n            this.bn = bn;\r\n            this.pg = pg;\r\n            this.noOfBills = noOfBills;\r\n            this.cost = cost;\r\n        }\r\n    \r\n        @Override\r\n        public String toString()\r\n        {\r\n            return this.bn + &quot; - &quot; + this.pg + &quot; - &quot; + this.noOfBills + &quot; - &quot; + this.cost;\r\n        }\r\n    }\r\n\r\nAnd here the main method with sample data i tested, you can collect instead of printing.\r\n\r\n    public static void main(String[] args)\r\n        {\r\n            List&lt;Stat&gt; list = new ArrayList&lt;&gt;();\r\n            list.add(new Stat(1, &quot;Telephone&quot;,1, 1000));\r\n            list.add(new Stat(1, &quot;Computer&quot;,1, 200));\r\n            list.add(new Stat(1, &quot;Telephone&quot;,2, 2000));\r\n            list.add(new Stat(1, &quot;Computer&quot;,1, 200));\r\n            list.add(new Stat(2, &quot;Accessories&quot;,1, 1500));\r\n            \r\n            list.stream().collect(toMap(Stat::getPg, Function.identity(),\r\n                            (a, b) -&gt; new Stat(a.getBn(), a.getPg(), a.getNoOfBills() + b.getNoOfBills(), a.getCost() + b.getCost())))\r\n                    .forEach((id,foo)-&gt;System.out.println(foo));\r\n    }\r\n\r\n\r\n- Here I am using [two argument groupingBy][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-java.util.stream.Collector-","title":"Group by arraylist of objects without creating map","body":"<p>I created the below class to represent data in sort form.</p>\n<pre><code>@Data\nclass Stat{\n    int bn;\n    String pg;\n    int noOfBills;\n    int cost;\n    public Stat(int bn, String pg, int noOfBills, int cost)\n    {\n        this.bn = bn;\n        this.pg = pg;\n        this.noOfBills = noOfBills;\n        this.cost = cost;\n    }\n\n    @Override\n    public String toString()\n    {\n        return this.bn + &quot; - &quot; + this.pg + &quot; - &quot; + this.noOfBills + &quot; - &quot; + this.cost;\n    }\n}\n</code></pre>\n<p>And here the main method with sample data i tested, you can collect instead of printing.</p>\n<pre><code>public static void main(String[] args)\n    {\n        List&lt;Stat&gt; list = new ArrayList&lt;&gt;();\n        list.add(new Stat(1, &quot;Telephone&quot;,1, 1000));\n        list.add(new Stat(1, &quot;Computer&quot;,1, 200));\n        list.add(new Stat(1, &quot;Telephone&quot;,2, 2000));\n        list.add(new Stat(1, &quot;Computer&quot;,1, 200));\n        list.add(new Stat(2, &quot;Accessories&quot;,1, 1500));\n        \n        list.stream().collect(toMap(Stat::getPg, Function.identity(),\n                        (a, b) -&gt; new Stat(a.getBn(), a.getPg(), a.getNoOfBills() + b.getNoOfBills(), a.getCost() + b.getCost())))\n                .forEach((id,foo)-&gt;System.out.println(foo));\n}\n</code></pre>\n<ul>\n<li>Here I am using <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-java.util.stream.Collector-\" rel=\"nofollow noreferrer\">two argument groupingBy</a></li>\n</ul>\n"}],"owner":{"account_id":11295315,"reputation":101,"user_id":8283018,"display_name":"Evillain"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":608,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":71509696,"answer_count":3,"score":2,"last_activity_date":1647511173,"creation_date":1647506363,"question_id":71509280,"body_markdown":"I have object PayBill, that contains list of items. Object Item contains article. This article is connected to another Nomenclature object, which is stored as db table with next structure:\r\n\r\n    Article ProductGroup\r\n    ------- ------------\r\n    010101  Telephone\r\n    040444  Computer\r\n\r\nI parsed my transaction list into object Stat with next attributes: `payBillNumber`, `productGroup`, `amountOfItems`, `sumPriceOfItems`. Now list of `Stat` looks like:\r\n\r\n    BillNumber ProductGroup NumberOfItemsInBill SummaryItemsCostInBill\r\n    ---------- ------------ ------------------- ----------------------\r\n    1          Telephone    1                   1000\r\n    1          Computer     1                   200\r\n    1          Telephone    2                   2000\r\n    1          Computer     1                   200\r\n    2          Accessories  1                   1500\r\n\r\nHow can I collapse this `List&lt;Stat&gt;` into new `List&lt;Stat&gt;` with following view:\r\n\r\n    BillNumber ProductGroup NumberOfItemsInBill SummaryItemsCostInBill\r\n    ---------- ------------ ------------------- ----------------------\r\n        1          Telephone    3                   3000\r\n        1          Computer     2                   400\r\n        2          Accessories  1                   1500\r\nI want my data to be grouped by BillNumber and ProductGroup with amount an price summing. Is it possible to do without creating new Map?\r\n\r\n","title":"Group by arraylist of objects without creating map","body":"<p>I have object PayBill, that contains list of items. Object Item contains article. This article is connected to another Nomenclature object, which is stored as db table with next structure:</p>\n<pre><code>Article ProductGroup\n------- ------------\n010101  Telephone\n040444  Computer\n</code></pre>\n<p>I parsed my transaction list into object Stat with next attributes: <code>payBillNumber</code>, <code>productGroup</code>, <code>amountOfItems</code>, <code>sumPriceOfItems</code>. Now list of <code>Stat</code> looks like:</p>\n<pre><code>BillNumber ProductGroup NumberOfItemsInBill SummaryItemsCostInBill\n---------- ------------ ------------------- ----------------------\n1          Telephone    1                   1000\n1          Computer     1                   200\n1          Telephone    2                   2000\n1          Computer     1                   200\n2          Accessories  1                   1500\n</code></pre>\n<p>How can I collapse this <code>List&lt;Stat&gt;</code> into new <code>List&lt;Stat&gt;</code> with following view:</p>\n<pre><code>BillNumber ProductGroup NumberOfItemsInBill SummaryItemsCostInBill\n---------- ------------ ------------------- ----------------------\n    1          Telephone    3                   3000\n    1          Computer     2                   400\n    2          Accessories  1                   1500\n</code></pre>\n<p>I want my data to be grouped by BillNumber and ProductGroup with amount an price summing. Is it possible to do without creating new Map?</p>\n"},{"tags":["java","jackson","datetime-parsing"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":5,"creation_date":1647505445,"post_id":71508995,"comment_id":126389428,"body_markdown":"I recommend you dont use `java.util.Date`. That class is poorly designed and long outdated. Instead use `OffsetDateTime` or another class from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/).","body":"I recommend you dont use <code>java.util.Date</code>. That class is poorly designed and long outdated. Instead use <code>OffsetDateTime</code> or another class from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":4,"creation_date":1647505469,"post_id":71508995,"comment_id":126389438,"body_markdown":"I can get both `DateTimeFormatter`/`ZonedDateTime` and `SimpleDateFormat` can parse the value you&#39;ve provided.  I&#39;d suspect that issue has something to do with &quot;how&quot; you&#39;re parsing the text","body":"I can get both <code>DateTimeFormatter</code>/<code>ZonedDateTime</code> and <code>SimpleDateFormat</code> can parse the value you&#39;ve provided.  I&#39;d suspect that issue has something to do with &quot;how&quot; you&#39;re parsing the text"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":2,"creation_date":1647505640,"post_id":71508995,"comment_id":126389500,"body_markdown":"Could it be a locale problem? `Wed` and `Mar` are in English, so if your library expects a different language, it would explain. What is the default locale of your JVM? What happens if you change it to an English-speaking locale?","body":"Could it be a locale problem? <code>Wed</code> and <code>Mar</code> are in English, so if your library expects a different language, it would explain. What is the default locale of your JVM? What happens if you change it to an English-speaking locale?"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1647505794,"post_id":71508995,"comment_id":126389545,"body_markdown":"As shown in the duplicate, add `locale=&quot;en&quot;` to the annotation.","body":"As shown in the duplicate, add <code>locale=&quot;en&quot;</code> to the annotation."},{"owner":{"account_id":21649059,"reputation":11,"user_id":15969958,"display_name":"Dax1"},"score":0,"creation_date":1647509670,"post_id":71508995,"comment_id":126390917,"body_markdown":"I changed the locale to English then it works, so thank you, everyone!!","body":"I changed the locale to English then it works, so thank you, everyone!!"}],"answers":[{"tags":[],"owner":{"account_id":11070566,"reputation":685,"user_id":8128825,"display_name":"Barrrettt"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647511168,"creation_date":1647506121,"answer_id":71509231,"question_id":71508995,"body_markdown":"I recommend to escape from that format and use [ISO 8601](https://en.wikipedia.org/wiki/ISO_8601) instead.\r\n\r\n\r\nAlso, it&#39;s better to use the classes in the [`java.time`](https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html) package.","title":"Why can I not deserialize &quot;Wed Mar 09 14:02:57 +0800 2022&quot; with format &quot;EEE MMM dd HH:mm:ss Z yyyy&quot;?","body":"<p>I recommend to escape from that format and use <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> instead.</p>\n<p>Also, it's better to use the classes in the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/package-summary.html\" rel=\"nofollow noreferrer\"><code>java.time</code></a> package.</p>\n"}],"owner":{"account_id":21649059,"reputation":11,"user_id":15969958,"display_name":"Dax1"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1647505755,"answer_count":1,"score":0,"last_activity_date":1647511168,"creation_date":1647504933,"question_id":71508995,"body_markdown":"Why can&#39;t I use `EEE MMM dd HH:mm:ss Z yyyy` to deserialize `Wed Mar 09 14:02:57 +0800 2022`? Is there anything wrong?\r\n\r\nI am using Jackson and I added this annotation in my entity class\r\n\r\n    @JsonFormat(pattern=&quot;EEE MMM dd HH:mm:ss Z yyyy&quot;)\r\n    private Date created_at;\r\n\r\nHowever, I got this error:\r\n\r\n&gt; Cannot deserialize value of type `java.util.Date` from String &quot;Wed Mar\r\n&gt; 09 14:02:57 +0800 2022&quot;: expected format &quot;EEE MMM dd HH:mm:ss Z yyyy&quot;","title":"Why can I not deserialize &quot;Wed Mar 09 14:02:57 +0800 2022&quot; with format &quot;EEE MMM dd HH:mm:ss Z yyyy&quot;?","body":"<p>Why can't I use <code>EEE MMM dd HH:mm:ss Z yyyy</code> to deserialize <code>Wed Mar 09 14:02:57 +0800 2022</code>? Is there anything wrong?</p>\n<p>I am using Jackson and I added this annotation in my entity class</p>\n<pre><code>@JsonFormat(pattern=&quot;EEE MMM dd HH:mm:ss Z yyyy&quot;)\nprivate Date created_at;\n</code></pre>\n<p>However, I got this error:</p>\n<blockquote>\n<p>Cannot deserialize value of type <code>java.util.Date</code> from String &quot;Wed Mar\n09 14:02:57 +0800 2022&quot;: expected format &quot;EEE MMM dd HH:mm:ss Z yyyy&quot;</p>\n</blockquote>\n"},{"tags":["java","android","android-studio","gradle","build.gradle"],"comments":[{"owner":{"account_id":2501253,"reputation":360,"user_id":2176268,"accept_rate":40,"display_name":"Unique Identifier"},"score":0,"creation_date":1647509563,"post_id":71509879,"comment_id":126390890,"body_markdown":"is it react native app or Native android app?","body":"is it react native app or Native android app?"},{"owner":{"account_id":24587706,"reputation":1,"user_id":18491988,"display_name":"Sara"},"score":0,"creation_date":1647509955,"post_id":71509879,"comment_id":126391034,"body_markdown":"Native android app","body":"Native android app"},{"owner":{"account_id":23365040,"reputation":802,"user_id":17436751,"display_name":"Sayooj"},"score":0,"creation_date":1647509977,"post_id":71509879,"comment_id":126391046,"body_markdown":"can you share gradle-wrapper.properties file too here","body":"can you share gradle-wrapper.properties file too here"},{"owner":{"account_id":24587706,"reputation":1,"user_id":18491988,"display_name":"Sara"},"score":0,"creation_date":1647510063,"post_id":71509879,"comment_id":126391079,"body_markdown":"#Fri Jun 23 08:50:38 CEST 2017\ndistributionBase=GRADLE_USER_HOME\ndistributionPath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\nzipStorePath=wrapper/dists\ndistributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-all.zip","body":"#Fri Jun 23 08:50:38 CEST 2017 distributionBase=GRADLE_USER_HOME distributionPath=wrapper/dists zipStoreBase=GRADLE_USER_HOME zipStorePath=wrapper/dists distributionUrl=https\\://services.gradle.org/distributions/g&zwnj;&#8203;radle-7.2-all.zip"},{"owner":{"account_id":23365040,"reputation":802,"user_id":17436751,"display_name":"Sayooj"},"score":0,"creation_date":1647510465,"post_id":71509879,"comment_id":126391213,"body_markdown":"Can you share the  build.gradle app also please","body":"Can you share the  build.gradle app also please"},{"owner":{"account_id":24587706,"reputation":1,"user_id":18491988,"display_name":"Sara"},"score":0,"creation_date":1647510567,"post_id":71509879,"comment_id":126391249,"body_markdown":"i added to the question","body":"i added to the question"},{"owner":{"account_id":23365040,"reputation":802,"user_id":17436751,"display_name":"Sayooj"},"score":0,"creation_date":1647510660,"post_id":71509879,"comment_id":126391276,"body_markdown":"@Sara just now ?","body":"@Sara just now ?"},{"owner":{"account_id":24587706,"reputation":1,"user_id":18491988,"display_name":"Sara"},"score":0,"creation_date":1647512065,"post_id":71509879,"comment_id":126391793,"body_markdown":"@Sayooj the first code is the build.gradle","body":"@Sayooj the first code is the build.gradle"},{"owner":{"account_id":23365040,"reputation":802,"user_id":17436751,"display_name":"Sayooj"},"score":0,"creation_date":1647512872,"post_id":71509879,"comment_id":126392076,"body_markdown":"its build.gradle project right ? I asked for build.gradle app ...  @Sara","body":"its build.gradle project right ? I asked for build.gradle app ...  @Sara"}],"answers":[{"tags":[],"owner":{"account_id":2501253,"reputation":360,"user_id":2176268,"accept_rate":40,"display_name":"Unique Identifier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647510631,"creation_date":1647510631,"answer_id":71510207,"question_id":71509879,"body_markdown":"I am able to build the newly created project with your configs.\r\n\r\n        buildscript {\r\n        ext.kotlin_version = &#39;1.5.31&#39;\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n        }\r\n    \r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:7.0.3&#39;\r\n            classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n            classpath &#39;com.google.gms:google-services:4.3.10&#39;\r\n        }\r\n    \r\n    }\r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\nCan you please try this and let us know if it works?","title":"what should I do with (Could not find com.android.tools.build:gradle:7.0.3)","body":"<p>I am able to build the newly created project with your configs.</p>\n<pre><code>    buildscript {\n    ext.kotlin_version = '1.5.31'\n    repositories {\n        google()\n        jcenter()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.0.3'\n        classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\n        classpath 'com.google.gms:google-services:4.3.10'\n    }\n\n}\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p>Can you please try this and let us know if it works?</p>\n"}],"owner":{"account_id":24587706,"reputation":1,"user_id":18491988,"display_name":"Sara"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":626,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647510631,"creation_date":1647509314,"question_id":71509879,"body_markdown":"I checked all questions about this title and I couldn&#39;t find a clear answer, when I my app I receive this error:\r\n\r\nWhat went wrong:\r\n&gt;A problem occurred configuring root project &#39;android&#39;.\r\n&gt; Could not resolve all artifacts for configuration &#39;:classpath&#39;.\r\n   &gt; Could not find com.android.tools.build:gradle:7.0.3.\r\n     Searched in the following locations:\r\n&gt; Could not find com.google.gms:google-services:4.3.10.\r\n     Searched in the following locations.\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\nand my `build.gradle` looks it contain everything.Here is my buiild.gradle:\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-js --&gt;\r\n\r\n    buildscript {\r\n        ext.kotlin_version = &#39;1.5.31&#39;\r\n        repositories {\r\n            google()\r\n            jcenter()\r\n        }\r\n\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:7.0.3&#39;\r\n            classpath &quot;org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version&quot;\r\n            classpath &#39;com.google.gms:google-services:4.3.10&#39;\r\n        }\r\n\r\n    }\r\n\r\n    allprojects {\r\n        repositories {\r\n            google()\r\n            mavenCentral()\r\n        }\r\n    }\r\n\r\n    rootProject.buildDir = &#39;../build&#39;\r\n    subprojects {\r\n        project.buildDir = &quot;${rootProject.buildDir}/${project.name}&quot;\r\n    }\r\n    subprojects {\r\n        project.evaluationDependsOn(&#39;:app&#39;)\r\n    }\r\n\r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nThis is my gradle-wrapper.properties:\r\n\r\n     distributionBase=GRADLE_USER_HOME \r\n     distributionPath=wrapper/dists \r\n     zipStoreBase=GRADLE_USER_HOME \r\n     zipStorePath=wrapper/dists \r\n     distributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-all.zip\r\n\r\nwhat should I do now?","title":"what should I do with (Could not find com.android.tools.build:gradle:7.0.3)","body":"<p>I checked all questions about this title and I couldn't find a clear answer, when I my app I receive this error:</p>\n<p>What went wrong:</p>\n<blockquote>\n<p>A problem occurred configuring root project 'android'.\nCould not resolve all artifacts for configuration ':classpath'.\nCould not find com.android.tools.build:gradle:7.0.3.\nSearched in the following locations:\nCould not find com.google.gms:google-services:4.3.10.\nSearched in the following locations.\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.</p>\n</blockquote>\n<p>and my <code>build.gradle</code> looks it contain everything.Here is my buiild.gradle:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-js lang-js prettyprint-override\"><code>buildscript {\n    ext.kotlin_version = '1.5.31'\n    repositories {\n        google()\n        jcenter()\n    }\n\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.0.3'\n        classpath \"org.jetbrains.kotlin:kotlin-gradle-plugin:$kotlin_version\"\n        classpath 'com.google.gms:google-services:4.3.10'\n    }\n\n}\n\nallprojects {\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\n\nrootProject.buildDir = '../build'\nsubprojects {\n    project.buildDir = \"${rootProject.buildDir}/${project.name}\"\n}\nsubprojects {\n    project.evaluationDependsOn(':app')\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>This is my gradle-wrapper.properties:</p>\n<pre><code> distributionBase=GRADLE_USER_HOME \n distributionPath=wrapper/dists \n zipStoreBase=GRADLE_USER_HOME \n zipStorePath=wrapper/dists \n distributionUrl=https\\://services.gradle.org/distributions/gradle-7.2-all.zip\n</code></pre>\n<p>what should I do now?</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":2726009,"reputation":503,"user_id":8510226,"display_name":"Pranay Nailwal"},"score":0,"creation_date":1647510842,"post_id":71510173,"comment_id":126391341,"body_markdown":"Create a @RequestScope bean for your User (header, name, id, role, email etc with getter and setters). Write an interceptor for your Requests where you initialise this bean. Now Autowire this bean anywhere in your micro-service, it will automatically have the logged in user data. you can just call the getter methods to fetch all values in the methods scoped to the request.","body":"Create a @RequestScope bean for your User (header, name, id, role, email etc with getter and setters). Write an interceptor for your Requests where you initialise this bean. Now Autowire this bean anywhere in your micro-service, it will automatically have the logged in user data. you can just call the getter methods to fetch all values in the methods scoped to the request."},{"owner":{"account_id":24438780,"reputation":13,"user_id":18362728,"display_name":"vgc1850"},"score":1,"creation_date":1647670339,"post_id":71510173,"comment_id":126433881,"body_markdown":"@PranayNailwal But this header coming from the gateway and this header is already contains authentic username or role but I want only fetch username or its role from whole header. How will I initialise bean in an interceptor?","body":"@PranayNailwal But this header coming from the gateway and this header is already contains authentic username or role but I want only fetch username or its role from whole header. How will I initialise bean in an interceptor?"}],"owner":{"account_id":24438780,"reputation":13,"user_id":18362728,"display_name":"vgc1850"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":349,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1647510472,"creation_date":1647510472,"question_id":71510173,"body_markdown":"**Problem:** How can I set currently login user header value from the header into principal. So that I can easily get the principal value in any Spring Boot Microservice. \r\n\r\n    @RequestMapping(method = RequestMethod.GET, value = &quot;/scheme&quot;)\r\n    \tpublic List&lt;Scheme&gt; schemes(@RequestHeader Map&lt;String,String&gt; headers) {\r\n    \t\t\r\n    \t\theaders.forEach((key,value) -&gt; {\r\n                System.out.println(&quot;Header Name: &quot;+key+&quot; Header Value: &quot;+value);\r\n            });   \r\n    \t}\r\n\r\nHere, I am getting whole header and print all the header value in the console but I want only login user header value and its role also. These value set into principal So that I can easily access the login user and its role in any microservice Just doing getPrincipal() method or Authentication Interface in Spring Boot.","title":"Set Login User header value into principal in Spring Boot","body":"<p><strong>Problem:</strong> How can I set currently login user header value from the header into principal. So that I can easily get the principal value in any Spring Boot Microservice.</p>\n<pre><code>@RequestMapping(method = RequestMethod.GET, value = &quot;/scheme&quot;)\n    public List&lt;Scheme&gt; schemes(@RequestHeader Map&lt;String,String&gt; headers) {\n        \n        headers.forEach((key,value) -&gt; {\n            System.out.println(&quot;Header Name: &quot;+key+&quot; Header Value: &quot;+value);\n        });   \n    }\n</code></pre>\n<p>Here, I am getting whole header and print all the header value in the console but I want only login user header value and its role also. These value set into principal So that I can easily access the login user and its role in any microservice Just doing getPrincipal() method or Authentication Interface in Spring Boot.</p>\n"},{"tags":["java","android","kotlin","sharedpreferences"],"comments":[{"owner":{"account_id":12953709,"reputation":6501,"user_id":9365212,"display_name":"AgentP"},"score":1,"creation_date":1647450207,"post_id":71501279,"comment_id":126376365,"body_markdown":"Any answer to this question will be opinion based ... having said that, useless is strong word to put in here .. I don&#39;t think its going to be useless ... as you mentioned already it is easy to setup shared prefs compared to datastore ... but according to me `Anything that makes a developer life easy will not go useless unless there is something else which is more easy`","body":"Any answer to this question will be opinion based ... having said that, useless is strong word to put in here .. I don&#39;t think its going to be useless ... as you mentioned already it is easy to setup shared prefs compared to datastore ... but according to me <code>Anything that makes a developer life easy will not go useless unless there is something else which is more easy</code>"},{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":2,"creation_date":1647450237,"post_id":71501279,"comment_id":126376377,"body_markdown":"Is there any official documentation on the deprecation of SharedPreference?","body":"Is there any official documentation on the deprecation of SharedPreference?"},{"owner":{"account_id":10647346,"reputation":5549,"user_id":7839518,"display_name":"Tonnie"},"score":1,"creation_date":1647450381,"post_id":71501279,"comment_id":126376426,"body_markdown":"@Zain good question, I am using SharedPrefs on my Android-Kotlin App and it is not yet deprecated.","body":"@Zain good question, I am using SharedPrefs on my Android-Kotlin App and it is not yet deprecated."}],"answers":[{"tags":[],"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1647453360,"creation_date":1647451573,"answer_id":71501696,"question_id":71501279,"body_markdown":"SharedPreferences is not deprecated.\r\n\r\nPreference (the settings screen UI element) and PreferenceManager are deprecated in favor of the Jetpack Preferences library, which works almost exactly the same way and still uses SharedPreferences directly.\r\n\r\nImport `androidx.preference:preference:1.1.0` in your dependencies and import the `androidx` version of PreferenceManager and PreferenceFragment to use it without deprecation warnings.","title":"Is SharedPreferences useless now?","body":"<p>SharedPreferences is not deprecated.</p>\n<p>Preference (the settings screen UI element) and PreferenceManager are deprecated in favor of the Jetpack Preferences library, which works almost exactly the same way and still uses SharedPreferences directly.</p>\n<p>Import <code>androidx.preference:preference:1.1.0</code> in your dependencies and import the <code>androidx</code> version of PreferenceManager and PreferenceFragment to use it without deprecation warnings.</p>\n"},{"tags":[],"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647510431,"creation_date":1647510431,"answer_id":71510166,"question_id":71501279,"body_markdown":"For Kotlin users add \r\n\r\n    implementation &#39;androidx.preference:preference-ktx:1.2.0&#39;\r\n\r\ninside the app-level `build.gradle` file, then Sync.\r\n\r\nAnd update your import:\r\n\r\n    import androidx.preference.PreferenceManager\r\n\r\nThen that deprecated warning will be gone.","title":"Is SharedPreferences useless now?","body":"<p>For Kotlin users add</p>\n<pre><code>implementation 'androidx.preference:preference-ktx:1.2.0'\n</code></pre>\n<p>inside the app-level <code>build.gradle</code> file, then Sync.</p>\n<p>And update your import:</p>\n<pre><code>import androidx.preference.PreferenceManager\n</code></pre>\n<p>Then that deprecated warning will be gone.</p>\n"}],"owner":{"account_id":24237502,"reputation":105,"user_id":18190398,"display_name":"Bam Bou"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":523,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1647514056,"accepted_answer_id":71501696,"answer_count":2,"score":1,"last_activity_date":1647510431,"creation_date":1647449925,"question_id":71501279,"body_markdown":"I&#39;d like to know if it&#39;s a good idea to create my app with SharedPreferences while it has been depreciated. It&#39;s really sad, it was a very simple and elegant way to save small paramters, I read about Preference Datastore but it seem very complicated compared to it. If I still use SharedPreferences does it mean that my app is obsolete for new androids version? And what is the best alternative to it?\r\n\r\nThanks","title":"Is SharedPreferences useless now?","body":"<p>I'd like to know if it's a good idea to create my app with SharedPreferences while it has been depreciated. It's really sad, it was a very simple and elegant way to save small paramters, I read about Preference Datastore but it seem very complicated compared to it. If I still use SharedPreferences does it mean that my app is obsolete for new androids version? And what is the best alternative to it?</p>\n<p>Thanks</p>\n"},{"tags":["python","java","windows","encoding","cp1250"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1647446831,"post_id":71499055,"comment_id":126374789,"body_markdown":"If no argument is given, the platform default encoding should be used","body":"If no argument is given, the platform default encoding should be used"},{"owner":{"account_id":12717854,"reputation":31,"user_id":9239273,"display_name":"Soamid"},"score":0,"creation_date":1647469271,"post_id":71499055,"comment_id":126382557,"body_markdown":"I know, but the whole point of this problem is that default platform encoding is wrong (Windows-1252 instead of Windows-1250) which leads to non-ascii characters being replaced with &#39;?&#39;.","body":"I know, but the whole point of this problem is that default platform encoding is wrong (Windows-1252 instead of Windows-1250) which leads to non-ascii characters being replaced with &#39;?&#39;."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1647474273,"post_id":71499055,"comment_id":126383534,"body_markdown":"OK, I see. Let&#39;s look at this: *When I send some data with non-ascii characters through that stream, they are replaced with ?* Please give us an example of something causing this problem then we can narrow down the problem.","body":"OK, I see. Let&#39;s look at this: <i>When I send some data with non-ascii characters through that stream, they are replaced with ?</i> Please give us an example of something causing this problem then we can narrow down the problem."},{"owner":{"account_id":12717854,"reputation":31,"user_id":9239273,"display_name":"Soamid"},"score":0,"creation_date":1647510473,"post_id":71499055,"comment_id":126391215,"body_markdown":"Ok, I added a more detailed example to my post.","body":"Ok, I added a more detailed example to my post."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1647514707,"post_id":71499055,"comment_id":126392687,"body_markdown":"*inputWriter.write(&quot;Waciciel&quot;);* OK, the first thing to say about that is that it won&#39;t encode in WIndows-1252 at all. It has to be Windows-1250. So where the *effective* default encoding is W-1252, it&#39;s going to fail with the tell-tale question marks appearing. What&#39;s that&#39;s saying effectively is &quot;my character set can&#39;t encode those characters&quot;","body":"<i>inputWriter.write(&quot;Waciciel&quot;);</i> OK, the first thing to say about that is that it won&#39;t encode in WIndows-1252 at all. It has to be Windows-1250. So where the <i>effective</i> default encoding is W-1252, it&#39;s going to fail with the tell-tale question marks appearing. What&#39;s that&#39;s saying effectively is &quot;my character set can&#39;t encode those characters&quot;"}],"owner":{"account_id":12717854,"reputation":31,"user_id":9239273,"display_name":"Soamid"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":273,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647510419,"creation_date":1647441656,"question_id":71499055,"body_markdown":"## What is the problem?\r\nI&#39;ve noticed a strange problem with Java showing different default file encodings while running at the same machine and OS (Windows 10). If I run my Gradle application from a console, `Charset.defaultCharset()` shows `Windows-1250`. When I run it from IntelliJ (also as Gradle app) it shows `Windows-1252`. \r\n\r\nIt is even more strange when I run it on a different computer with Windows 11 - the results are quite opposite, `Windows-1252` while running from a console and `Windows-1250` in IntelliJ.\r\n\r\nThe correct system encoding for my OS (Polish version of Win 10/11) should always be `Windows-1250` as far as I know. \r\n\r\nI use AdoptOpenJDK 16, Gradle 7.0 and IJ 2021.3.2.\r\n\r\n## Why is it important in my case? \r\n\r\nMy Java application executes external Python scripts and communicates with Python processes created by `ProcessBuilder` via `Process.getInput/OutputStream()`. When I send some data with non-ascii characters through that stream, they are replaced with `?` and read as such on the Python side. For example, on Java side I am sending a line like this:\r\n```java\r\ntry (var inputWriter = new BufferedWriter(new OutputStreamWriter(scriptProcess.getOutputStream()))) {\r\n    inputWriter.write(&quot;Waciciel&quot;);\r\n}\r\n```\r\nand on the Python side I am receiving this data like this:\r\n```python\r\ninputBuffer = []\r\nfor line in stdin:\r\n    inputBuffer.append(line.rstrip())\r\n```\r\nWhen I print `inputBuffer` or write it to a file, it shows `W?a?ciciel`. It&#39;s worth noting that this behavior doesn&#39;t depend on the encoding of the input string itself - &quot;Waciciel&quot; can be read from UTF-8 or Windows-1250 or Windows-1252 file and the problem remains the same. \r\n\r\nIf I force a correct encoding by adding it as a Writer&#39;s parametr:\r\n```java\r\nvar writer = new OutputStreamWriter(scriptProcess.getOutputStream(), &quot;Windows-1250&quot;)\r\n```\r\n..then it works ok, question marks disappear. But I feel hardcoding &quot;system encoding&quot; is not a good solution, because it will collapse if someone runs my app on Windows with other regional settings (e.g. with the English language, where default encoding is UTF-8). \r\n\r\n**So my question is:** is there another way to determine valid system encoding or to create communication between processes that is independent of system encoding/region settings?\r\n\r\n\r\n","title":"Wrong default system encoding detected in Java application","body":"<h2>What is the problem?</h2>\n<p>I've noticed a strange problem with Java showing different default file encodings while running at the same machine and OS (Windows 10). If I run my Gradle application from a console, <code>Charset.defaultCharset()</code> shows <code>Windows-1250</code>. When I run it from IntelliJ (also as Gradle app) it shows <code>Windows-1252</code>.</p>\n<p>It is even more strange when I run it on a different computer with Windows 11 - the results are quite opposite, <code>Windows-1252</code> while running from a console and <code>Windows-1250</code> in IntelliJ.</p>\n<p>The correct system encoding for my OS (Polish version of Win 10/11) should always be <code>Windows-1250</code> as far as I know.</p>\n<p>I use AdoptOpenJDK 16, Gradle 7.0 and IJ 2021.3.2.</p>\n<h2>Why is it important in my case?</h2>\n<p>My Java application executes external Python scripts and communicates with Python processes created by <code>ProcessBuilder</code> via <code>Process.getInput/OutputStream()</code>. When I send some data with non-ascii characters through that stream, they are replaced with <code>?</code> and read as such on the Python side. For example, on Java side I am sending a line like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>try (var inputWriter = new BufferedWriter(new OutputStreamWriter(scriptProcess.getOutputStream()))) {\n    inputWriter.write(&quot;Waciciel&quot;);\n}\n</code></pre>\n<p>and on the Python side I am receiving this data like this:</p>\n<pre class=\"lang-py prettyprint-override\"><code>inputBuffer = []\nfor line in stdin:\n    inputBuffer.append(line.rstrip())\n</code></pre>\n<p>When I print <code>inputBuffer</code> or write it to a file, it shows <code>W?a?ciciel</code>. It's worth noting that this behavior doesn't depend on the encoding of the input string itself - &quot;Waciciel&quot; can be read from UTF-8 or Windows-1250 or Windows-1252 file and the problem remains the same.</p>\n<p>If I force a correct encoding by adding it as a Writer's parametr:</p>\n<pre class=\"lang-java prettyprint-override\"><code>var writer = new OutputStreamWriter(scriptProcess.getOutputStream(), &quot;Windows-1250&quot;)\n</code></pre>\n<p>..then it works ok, question marks disappear. But I feel hardcoding &quot;system encoding&quot; is not a good solution, because it will collapse if someone runs my app on Windows with other regional settings (e.g. with the English language, where default encoding is UTF-8).</p>\n<p><strong>So my question is:</strong> is there another way to determine valid system encoding or to create communication between processes that is independent of system encoding/region settings?</p>\n"},{"tags":["java","spring-boot","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1647343482,"post_id":71480745,"comment_id":126342218,"body_markdown":"Hard to really understand your exact issue, but if you are to send any (CustomObject) from Microservice A to Microservice B, they both have to have a POJO that understands how to deserialize (CustomObject) from its String format..","body":"Hard to really understand your exact issue, but if you are to send any (CustomObject) from Microservice A to Microservice B, they both have to have a POJO that understands how to deserialize (CustomObject) from its String format.."},{"owner":{"account_id":17269424,"reputation":17,"user_id":12505474,"display_name":"user12505474"},"score":0,"creation_date":1647343846,"post_id":71480745,"comment_id":126342348,"body_markdown":"@SMA yes I do have a pojo in both microservices with the same rappresentation, I also tryied to define a custom deserializer extending the jsonDeserializer but I am still getting the errors.","body":"@SMA yes I do have a pojo in both microservices with the same rappresentation, I also tryied to define a custom deserializer extending the jsonDeserializer but I am still getting the errors."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1647353066,"post_id":71480745,"comment_id":126346053,"body_markdown":"According to the error, ClassNotFoundException means your consumer doesn&#39;t have any known class by that package + name. Where are you even using the Message class in the consumer code?","body":"According to the error, ClassNotFoundException means your consumer doesn&#39;t have any known class by that package + name. Where are you even using the Message class in the consumer code?"},{"owner":{"account_id":17269424,"reputation":17,"user_id":12505474,"display_name":"user12505474"},"score":0,"creation_date":1647355605,"post_id":71480745,"comment_id":126347165,"body_markdown":"@OneCricketeer I&#39;ve added an edit whit the question you asked, I saw some other solution saying to map in both the producer and consumer the class that is being serialized and deserialized as per the official documentation but it&#39;s not working, I&#39;ve also tryed to add the ErrorHandlingDeserializer with no results.","body":"@OneCricketeer I&#39;ve added an edit whit the question you asked, I saw some other solution saying to map in both the producer and consumer the class that is being serialized and deserialized as per the official documentation but it&#39;s not working, I&#39;ve also tryed to add the ErrorHandlingDeserializer with no results."}],"answers":[{"tags":[],"owner":{"account_id":5659010,"reputation":86,"user_id":4477177,"display_name":"Ali Mohammadi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1647510347,"creation_date":1647510347,"answer_id":71510142,"question_id":71480745,"body_markdown":"When you send a message to kafka, a header is sent along with the message. Inside the header, by default, is the full address of the Custom Object.\r\n\r\n   For example:\r\n\r\n     com.example.kafkaproducer.model.Message\r\n\r\nThe consumer side of the message class must be created in the same path of the producer. Because validation is done when receiving the message on the consumer side, if a path other than the path is specified, the following error is received.\r\n\r\nCaused by: java.lang.ClassNotFoundException: com.example.kafkaproducer.model.Message\r\n\r\nMost likely, if you change the Message class path on the consumer side, your error will be fixed.\r\n","title":"Spring boot Kafka send objects between different microservices","body":"<p>When you send a message to kafka, a header is sent along with the message. Inside the header, by default, is the full address of the Custom Object.</p>\n<p>For example:</p>\n<pre><code> com.example.kafkaproducer.model.Message\n</code></pre>\n<p>The consumer side of the message class must be created in the same path of the producer. Because validation is done when receiving the message on the consumer side, if a path other than the path is specified, the following error is received.</p>\n<p>Caused by: java.lang.ClassNotFoundException: com.example.kafkaproducer.model.Message</p>\n<p>Most likely, if you change the Message class path on the consumer side, your error will be fixed.</p>\n"}],"owner":{"account_id":17269424,"reputation":17,"user_id":12505474,"display_name":"user12505474"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2070,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71510142,"answer_count":1,"score":1,"last_activity_date":1647510347,"creation_date":1647340509,"question_id":71480745,"body_markdown":"\r\n\r\nThis is my producer microservice kafka configuration:\r\n\r\n    @Configuration\r\n    public class KafkaProducerConfig {\r\n    \r\n        @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\r\n        private String bootstrapService;\r\n    \r\n        //producer factory\r\n        @Bean\r\n        public ProducerFactory&lt;String, Object&gt; producerFactory (){\r\n            Map&lt;String, Object&gt; configMap = new HashMap&lt;&gt;();\r\n            configMap.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapService);\r\n            configMap.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\r\n            configMap.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\r\n    \r\n            return new DefaultKafkaProducerFactory&lt;&gt;(configMap);\r\n        }\r\n    \r\n        //inviare messaggi\r\n        @Bean\r\n        public KafkaTemplate&lt;String, Object&gt; kafkaTemplate(){\r\n            return new KafkaTemplate&lt;&gt;(producerFactory());\r\n        }\r\n    }\r\n\r\nI send the messages like this:\r\n\r\n    kafkaTemplate.send(TOPIC_NAME, message);\r\n\r\nI have no problems with the producer,\r\n\r\nThis is the consumer microservice kafka configuration:\r\n\r\n    @Configuration\r\n    public class KafkaConsumerConfig {\r\n        @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\r\n        private String bootstrapServers;\r\n    \r\n        \r\n        @Bean\r\n        public ConsumerFactory&lt;String, Object&gt; consumerFactory() {\r\n            JsonDeserializer&lt;Object&gt; jsonDeserializer = new JsonDeserializer&lt;&gt;();\r\n            jsonDeserializer.addTrustedPackages(&quot;*&quot;);\r\n            return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs(), new StringDeserializer(), jsonDeserializer);\r\n        }\r\n    \r\n        @Bean\r\n        public KafkaListenerContainerFactory&lt;ConcurrentMessageListenerContainer&lt;String, Object&gt;&gt; kafkaListenerContainerFactory() {\r\n            ConcurrentKafkaListenerContainerFactory&lt;String, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\r\n            factory.setConsumerFactory(consumerFactory());\r\n    \r\n            return factory;\r\n        }\r\n    \r\n        @Bean\r\n        public Map&lt;String, Object&gt; consumerConfigs() {\r\n            return Map.of(\r\n                    ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers,\r\n                    ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class,\r\n                    ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class,\r\n                    ConsumerConfig.GROUP_ID_CONFIG, &quot;testId&quot;\r\n            );\r\n        }\r\n    }\r\n\r\nWith the same configuration but with String istead of Object or instead of my custom object I get the following stacktrace:\r\n\r\n        java.lang.IllegalStateException: This error handler cannot process &#39;SerializationException&#39;s directly; please consider configuring an &#39;ErrorHandlingDeserializer&#39; in the value and/or key deserializer\r\n    \tat org.springframework.kafka.listener.DefaultErrorHandler.handleOtherException(DefaultErrorHandler.java:149) ~[spring-kafka-2.8.3.jar:2.8.3]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.handleConsumerException(KafkaMessageListenerContainer.java:1763) ~[spring-kafka-2.8.3.jar:2.8.3]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1286) ~[spring-kafka-2.8.3.jar:2.8.3]\r\n    \tat java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\r\n    \tat java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\r\n    Caused by: org.apache.kafka.common.errors.RecordDeserializationException: Error deserializing key/value for partition kafka-topic-2-0 at offset 25. If needed, please seek past the record to continue consumption.\r\n    \tat org.apache.kafka.clients.consumer.internals.Fetcher.parseRecord(Fetcher.java:1429) ~[kafka-clients-3.0.0.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.internals.Fetcher.access$3400(Fetcher.java:134) ~[kafka-clients-3.0.0.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.internals.Fetcher$CompletedFetch.fetchRecords(Fetcher.java:1652) ~[kafka-clients-3.0.0.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.internals.Fetcher$CompletedFetch.access$1800(Fetcher.java:1488) ~[kafka-clients-3.0.0.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.internals.Fetcher.fetchRecords(Fetcher.java:721) ~[kafka-clients-3.0.0.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.internals.Fetcher.fetchedRecords(Fetcher.java:672) ~[kafka-clients-3.0.0.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.pollForFetches(KafkaConsumer.java:1277) ~[kafka-clients-3.0.0.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1238) ~[kafka-clients-3.0.0.jar:na]\r\n    \tat org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211) ~[kafka-clients-3.0.0.jar:na]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1510) ~[spring-kafka-2.8.3.jar:2.8.3]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1500) ~[spring-kafka-2.8.3.jar:2.8.3]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1328) ~[spring-kafka-2.8.3.jar:2.8.3]\r\n    \tat org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1237) ~[spring-kafka-2.8.3.jar:2.8.3]\r\n    \t... 3 common frames omitted\r\n    Caused by: org.springframework.messaging.converter.MessageConversionException: failed to resolve class name. Class not found [com.example.kafkaproducer.model.Message]; nested exception is java.lang.ClassNotFoundException: com.example.kafkaproducer.model.Message\r\n    \tat org.springframework.kafka.support.mapping.DefaultJackson2JavaTypeMapper.getClassIdType(DefaultJackson2JavaTypeMapper.java:142) ~[spring-kafka-2.8.3.jar:2.8.3]\r\n    \tat org.springframework.kafka.support.mapping.DefaultJackson2JavaTypeMapper.toJavaType(DefaultJackson2JavaTypeMapper.java:103) ~[spring-kafka-2.8.3.jar:2.8.3]\r\n    \tat org.springframework.kafka.support.serializer.JsonDeserializer.deserialize(JsonDeserializer.java:569) ~[spring-kafka-2.8.3.jar:2.8.3]\r\n    \tat org.apache.kafka.clients.consumer.internals.Fetcher.parseRecord(Fetcher.java:1420) ~[kafka-clients-3.0.0.jar:na]\r\n    \t... 15 common frames omitted\r\n    Caused by: java.lang.ClassNotFoundException: com.example.kafkaproducer.model.Message\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581) ~[na:na]\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\r\n    \tat java.base/java.lang.Class.forName0(Native Method) ~[na:na]\r\n    \tat java.base/java.lang.Class.forName(Class.java:398) ~[na:na]\r\n    \tat org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:145) ~[spring-boot-devtools-2.6.4.jar:2.6.4]\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\r\n    \tat java.base/java.lang.Class.forName0(Native Method) ~[na:na]\r\n    \tat java.base/java.lang.Class.forName(Class.java:398) ~[na:na]\r\n    \tat org.springframework.util.ClassUtils.forName(ClassUtils.java:284) ~[spring-core-5.3.16.jar:5.3.16]\r\n    \tat org.springframework.kafka.support.mapping.DefaultJackson2JavaTypeMapper.getClassIdType(DefaultJackson2JavaTypeMapper.java:138) ~[spring-kafka-2.8.3.jar:2.8.3]\r\n    \t... 18 common frames omitted\r\n\r\nDo you have any advice for having producer and consumer in different services? \r\n\r\n[EDIT]\r\nI&#39;m adding the listener since it has been asked:\r\n\r\n    @KafkaListener(topics = TOPIC_NAME, groupId = &quot;testId&quot;)\r\n    public void listener(@Payload Message rcvMessage){\r\n    \r\n        log.info(&quot;message: {}&quot;, rcvMessage);\r\n    \r\n    }\r\n\r\nNote that the Message class is defined in both projects with the same parameters.\r\n\r\n[Edit 2]\r\nIt now works, I removed the headers in the deserializer like this:\r\n\r\n    @Bean\r\n    public ConsumerFactory&lt;String, Message&gt; consumerFactory() {\r\n        JsonDeserializer&lt;Message&gt; jsonDeserializer = new JsonDeserializer&lt;&gt;(Message.class, false);\r\n        jsonDeserializer.addTrustedPackages(&quot;*&quot;);\r\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs(), new StringDeserializer(), jsonDeserializer);\r\n    }\r\n\r\nIs this acceptable or is it just a work around?","title":"Spring boot Kafka send objects between different microservices","body":"<p>This is my producer microservice kafka configuration:</p>\n<pre><code>@Configuration\npublic class KafkaProducerConfig {\n\n    @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\n    private String bootstrapService;\n\n    //producer factory\n    @Bean\n    public ProducerFactory&lt;String, Object&gt; producerFactory (){\n        Map&lt;String, Object&gt; configMap = new HashMap&lt;&gt;();\n        configMap.put(ProducerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapService);\n        configMap.put(ProducerConfig.KEY_SERIALIZER_CLASS_CONFIG, StringSerializer.class);\n        configMap.put(ProducerConfig.VALUE_SERIALIZER_CLASS_CONFIG, JsonSerializer.class);\n\n        return new DefaultKafkaProducerFactory&lt;&gt;(configMap);\n    }\n\n    //inviare messaggi\n    @Bean\n    public KafkaTemplate&lt;String, Object&gt; kafkaTemplate(){\n        return new KafkaTemplate&lt;&gt;(producerFactory());\n    }\n}\n</code></pre>\n<p>I send the messages like this:</p>\n<pre><code>kafkaTemplate.send(TOPIC_NAME, message);\n</code></pre>\n<p>I have no problems with the producer,</p>\n<p>This is the consumer microservice kafka configuration:</p>\n<pre><code>@Configuration\npublic class KafkaConsumerConfig {\n    @Value(&quot;${spring.kafka.bootstrap-servers}&quot;)\n    private String bootstrapServers;\n\n    \n    @Bean\n    public ConsumerFactory&lt;String, Object&gt; consumerFactory() {\n        JsonDeserializer&lt;Object&gt; jsonDeserializer = new JsonDeserializer&lt;&gt;();\n        jsonDeserializer.addTrustedPackages(&quot;*&quot;);\n        return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs(), new StringDeserializer(), jsonDeserializer);\n    }\n\n    @Bean\n    public KafkaListenerContainerFactory&lt;ConcurrentMessageListenerContainer&lt;String, Object&gt;&gt; kafkaListenerContainerFactory() {\n        ConcurrentKafkaListenerContainerFactory&lt;String, Object&gt; factory = new ConcurrentKafkaListenerContainerFactory&lt;&gt;();\n        factory.setConsumerFactory(consumerFactory());\n\n        return factory;\n    }\n\n    @Bean\n    public Map&lt;String, Object&gt; consumerConfigs() {\n        return Map.of(\n                ConsumerConfig.BOOTSTRAP_SERVERS_CONFIG, bootstrapServers,\n                ConsumerConfig.KEY_DESERIALIZER_CLASS_CONFIG, StringDeserializer.class,\n                ConsumerConfig.VALUE_DESERIALIZER_CLASS_CONFIG, JsonDeserializer.class,\n                ConsumerConfig.GROUP_ID_CONFIG, &quot;testId&quot;\n        );\n    }\n}\n</code></pre>\n<p>With the same configuration but with String istead of Object or instead of my custom object I get the following stacktrace:</p>\n<pre><code>    java.lang.IllegalStateException: This error handler cannot process 'SerializationException's directly; please consider configuring an 'ErrorHandlingDeserializer' in the value and/or key deserializer\n    at org.springframework.kafka.listener.DefaultErrorHandler.handleOtherException(DefaultErrorHandler.java:149) ~[spring-kafka-2.8.3.jar:2.8.3]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.handleConsumerException(KafkaMessageListenerContainer.java:1763) ~[spring-kafka-2.8.3.jar:2.8.3]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1286) ~[spring-kafka-2.8.3.jar:2.8.3]\n    at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[na:na]\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[na:na]\n    at java.base/java.lang.Thread.run(Thread.java:829) ~[na:na]\nCaused by: org.apache.kafka.common.errors.RecordDeserializationException: Error deserializing key/value for partition kafka-topic-2-0 at offset 25. If needed, please seek past the record to continue consumption.\n    at org.apache.kafka.clients.consumer.internals.Fetcher.parseRecord(Fetcher.java:1429) ~[kafka-clients-3.0.0.jar:na]\n    at org.apache.kafka.clients.consumer.internals.Fetcher.access$3400(Fetcher.java:134) ~[kafka-clients-3.0.0.jar:na]\n    at org.apache.kafka.clients.consumer.internals.Fetcher$CompletedFetch.fetchRecords(Fetcher.java:1652) ~[kafka-clients-3.0.0.jar:na]\n    at org.apache.kafka.clients.consumer.internals.Fetcher$CompletedFetch.access$1800(Fetcher.java:1488) ~[kafka-clients-3.0.0.jar:na]\n    at org.apache.kafka.clients.consumer.internals.Fetcher.fetchRecords(Fetcher.java:721) ~[kafka-clients-3.0.0.jar:na]\n    at org.apache.kafka.clients.consumer.internals.Fetcher.fetchedRecords(Fetcher.java:672) ~[kafka-clients-3.0.0.jar:na]\n    at org.apache.kafka.clients.consumer.KafkaConsumer.pollForFetches(KafkaConsumer.java:1277) ~[kafka-clients-3.0.0.jar:na]\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1238) ~[kafka-clients-3.0.0.jar:na]\n    at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1211) ~[kafka-clients-3.0.0.jar:na]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollConsumer(KafkaMessageListenerContainer.java:1510) ~[spring-kafka-2.8.3.jar:2.8.3]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.doPoll(KafkaMessageListenerContainer.java:1500) ~[spring-kafka-2.8.3.jar:2.8.3]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.pollAndInvoke(KafkaMessageListenerContainer.java:1328) ~[spring-kafka-2.8.3.jar:2.8.3]\n    at org.springframework.kafka.listener.KafkaMessageListenerContainer$ListenerConsumer.run(KafkaMessageListenerContainer.java:1237) ~[spring-kafka-2.8.3.jar:2.8.3]\n    ... 3 common frames omitted\nCaused by: org.springframework.messaging.converter.MessageConversionException: failed to resolve class name. Class not found [com.example.kafkaproducer.model.Message]; nested exception is java.lang.ClassNotFoundException: com.example.kafkaproducer.model.Message\n    at org.springframework.kafka.support.mapping.DefaultJackson2JavaTypeMapper.getClassIdType(DefaultJackson2JavaTypeMapper.java:142) ~[spring-kafka-2.8.3.jar:2.8.3]\n    at org.springframework.kafka.support.mapping.DefaultJackson2JavaTypeMapper.toJavaType(DefaultJackson2JavaTypeMapper.java:103) ~[spring-kafka-2.8.3.jar:2.8.3]\n    at org.springframework.kafka.support.serializer.JsonDeserializer.deserialize(JsonDeserializer.java:569) ~[spring-kafka-2.8.3.jar:2.8.3]\n    at org.apache.kafka.clients.consumer.internals.Fetcher.parseRecord(Fetcher.java:1420) ~[kafka-clients-3.0.0.jar:na]\n    ... 15 common frames omitted\nCaused by: java.lang.ClassNotFoundException: com.example.kafkaproducer.model.Message\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581) ~[na:na]\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178) ~[na:na]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\n    at java.base/java.lang.Class.forName0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.forName(Class.java:398) ~[na:na]\n    at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:145) ~[spring-boot-devtools-2.6.4.jar:2.6.4]\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522) ~[na:na]\n    at java.base/java.lang.Class.forName0(Native Method) ~[na:na]\n    at java.base/java.lang.Class.forName(Class.java:398) ~[na:na]\n    at org.springframework.util.ClassUtils.forName(ClassUtils.java:284) ~[spring-core-5.3.16.jar:5.3.16]\n    at org.springframework.kafka.support.mapping.DefaultJackson2JavaTypeMapper.getClassIdType(DefaultJackson2JavaTypeMapper.java:138) ~[spring-kafka-2.8.3.jar:2.8.3]\n    ... 18 common frames omitted\n</code></pre>\n<p>Do you have any advice for having producer and consumer in different services?</p>\n<p>[EDIT]\nI'm adding the listener since it has been asked:</p>\n<pre><code>@KafkaListener(topics = TOPIC_NAME, groupId = &quot;testId&quot;)\npublic void listener(@Payload Message rcvMessage){\n\n    log.info(&quot;message: {}&quot;, rcvMessage);\n\n}\n</code></pre>\n<p>Note that the Message class is defined in both projects with the same parameters.</p>\n<p>[Edit 2]\nIt now works, I removed the headers in the deserializer like this:</p>\n<pre><code>@Bean\npublic ConsumerFactory&lt;String, Message&gt; consumerFactory() {\n    JsonDeserializer&lt;Message&gt; jsonDeserializer = new JsonDeserializer&lt;&gt;(Message.class, false);\n    jsonDeserializer.addTrustedPackages(&quot;*&quot;);\n    return new DefaultKafkaConsumerFactory&lt;&gt;(consumerConfigs(), new StringDeserializer(), jsonDeserializer);\n}\n</code></pre>\n<p>Is this acceptable or is it just a work around?</p>\n"},{"tags":["java","android","android-framelayout"],"answers":[{"tags":[],"owner":{"account_id":23655286,"reputation":261,"user_id":17683676,"display_name":"Sumit Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647510013,"creation_date":1647510013,"answer_id":71510065,"question_id":71508901,"body_markdown":"You can use below code for zoom in, out with scroll \r\n\r\n    private float mScale = 1f;\r\n    private ScaleGestureDetector mScaleDetector;\r\n    GestureDetector gestureDetector;\r\n    \r\n    //step 2: create instance from GestureDetector(this step sholude be place into onCreate())\r\n    gestureDetector = new GestureDetector(this, new GestureListener());\r\n    \r\n    // animation for scalling\r\n    mScaleDetector = new ScaleGestureDetector(this, new ScaleGestureDetector.SimpleOnScaleGestureListener() \r\n        {                                   \r\n            @Override\r\n            public boolean onScale(ScaleGestureDetector detector) \r\n            {\r\n                float scale = 1 - detector.getScaleFactor();\r\n    \r\n                float prevScale = mScale;\r\n                mScale += scale;\r\n    \r\n                if (mScale &lt; 0.1f) // Minimum scale condition:\r\n                    mScale = 0.1f;\r\n    \r\n                if (mScale &gt; 10f) // Maximum scale condition:\r\n                    mScale = 10f;\r\n                ScaleAnimation scaleAnimation = new ScaleAnimation(1f / prevScale, 1f / mScale, 1f / prevScale, 1f / mScale, detector.getFocusX(), detector.getFocusY());\r\n                scaleAnimation.setDuration(0);\r\n                scaleAnimation.setFillAfter(true);\r\n                ScrollView layout =(ScrollView) findViewById(R.id.scrollViewZoom);\r\n                layout.startAnimation(scaleAnimation);\r\n                return true;\r\n            }\r\n        });\r\n    \r\n    \r\n    // step 3: override dispatchTouchEvent()\r\n     @Override\r\n     public boolean dispatchTouchEvent(MotionEvent event) {\r\n        super.dispatchTouchEvent(event);\r\n        mScaleDetector.onTouchEvent(event);\r\n        gestureDetector.onTouchEvent(event);\r\n        return gestureDetector.onTouchEvent(event);\r\n     }\r\n    \r\n    //step 4: add private class GestureListener\r\n    \r\n    private class GestureListener extends GestureDetector.SimpleOnGestureListener {\r\n        @Override\r\n        public boolean onDown(MotionEvent e) {\r\n            return true;\r\n        }\r\n        // event when double tap occurs\r\n        @Override\r\n        public boolean onDoubleTap(MotionEvent e) {\r\n            // double tap fired.\r\n            return true;\r\n        }\r\n    }\r\n\r\n\r\n","title":"Zoom in &amp; out , and scroll or fling only framelayout","body":"<p>You can use below code for zoom in, out with scroll</p>\n<pre><code>private float mScale = 1f;\nprivate ScaleGestureDetector mScaleDetector;\nGestureDetector gestureDetector;\n\n//step 2: create instance from GestureDetector(this step sholude be place into onCreate())\ngestureDetector = new GestureDetector(this, new GestureListener());\n\n// animation for scalling\nmScaleDetector = new ScaleGestureDetector(this, new ScaleGestureDetector.SimpleOnScaleGestureListener() \n    {                                   \n        @Override\n        public boolean onScale(ScaleGestureDetector detector) \n        {\n            float scale = 1 - detector.getScaleFactor();\n\n            float prevScale = mScale;\n            mScale += scale;\n\n            if (mScale &lt; 0.1f) // Minimum scale condition:\n                mScale = 0.1f;\n\n            if (mScale &gt; 10f) // Maximum scale condition:\n                mScale = 10f;\n            ScaleAnimation scaleAnimation = new ScaleAnimation(1f / prevScale, 1f / mScale, 1f / prevScale, 1f / mScale, detector.getFocusX(), detector.getFocusY());\n            scaleAnimation.setDuration(0);\n            scaleAnimation.setFillAfter(true);\n            ScrollView layout =(ScrollView) findViewById(R.id.scrollViewZoom);\n            layout.startAnimation(scaleAnimation);\n            return true;\n        }\n    });\n\n\n// step 3: override dispatchTouchEvent()\n @Override\n public boolean dispatchTouchEvent(MotionEvent event) {\n    super.dispatchTouchEvent(event);\n    mScaleDetector.onTouchEvent(event);\n    gestureDetector.onTouchEvent(event);\n    return gestureDetector.onTouchEvent(event);\n }\n\n//step 4: add private class GestureListener\n\nprivate class GestureListener extends GestureDetector.SimpleOnGestureListener {\n    @Override\n    public boolean onDown(MotionEvent e) {\n        return true;\n    }\n    // event when double tap occurs\n    @Override\n    public boolean onDoubleTap(MotionEvent e) {\n        // double tap fired.\n        return true;\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user18090898"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1647510013,"creation_date":1647504461,"question_id":71508901,"body_markdown":"I&#39;m going to implement gesturedetector. I&#39;m noob about. I&#39;ve this layout:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;@drawable/sfondo_old&quot;\r\n        tools:context=&quot;.activities.Board1&quot;&gt;\r\n    \r\n        &lt;RelativeLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:focusableInTouchMode=&quot;true&quot;&gt;\r\n    \r\n            &lt;include\r\n                android:id=&quot;@+id/toolbar&quot;\r\n                layout=&quot;@layout/toolbar_menu_disegno&quot;\r\n                android:visibility=&quot;gone&quot; /&gt;\r\n    \r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_below=&quot;@+id/toolbar&quot;\r\n                android:orientation=&quot;vertical&quot;\r\n                android:weightSum=&quot;2&quot;&gt;\r\n    \r\n    \r\n              &lt;FrameLayout\r\n                    android:id=&quot;@+id/frameLayout&quot;\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;0dp&quot;\r\n                    android:layout_weight=&quot;1.99&quot;&gt; --&gt;\r\n    \r\n    \r\n                    &lt;!-- IMAGE LOADED --&gt;\r\n    \r\n                    &lt;ImageView\r\n                        android:id=&quot;@+id/area_campo&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;match_parent&quot;\r\n                        android:src=&quot;@drawable/campo1&quot;\r\n                        /&gt;\r\n    \r\n                    &lt;!-- CUSTOM DRAWING VIEW --&gt;\r\n    \r\n                    &lt;it.colan.matchup.ui.component.DrawingView\r\n                        android:id=&quot;@+id/area_disegno&quot;\r\n                        android:layout_width=&quot;match_parent&quot;\r\n                        android:layout_height=&quot;match_parent&quot; /&gt;\r\n    \r\n                        &lt;/FrameLayout&gt;\r\n    \r\n    \r\n               &lt;!-- &lt;/FrameLayout&gt; --&gt;\r\n    \r\n                &lt;LinearLayout\r\n                    android:layout_width=&quot;match_parent&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_below=&quot;@+id/area_disegno&quot;\r\n                    android:layout_weight=&quot;0.01&quot;\r\n                    android:orientation=&quot;horizontal&quot;\r\n                    android:weightSum=&quot;1&quot;&gt;\r\n    \r\n                    &lt;include\r\n                        android:id=&quot;@+id/strumenti&quot;\r\n                        layout=&quot;@layout/menu_strumenti&quot;\r\n    \r\n                        android:layout_alignParentLeft=&quot;true&quot;\r\n                        android:layout_width=&quot;wrap_content&quot;\r\n                        android:layout_height=&quot;match_parent&quot;\r\n                        android:orientation=&quot;horizontal&quot;\r\n                        android:gravity=&quot;center&quot;\r\n                        android:background=&quot;@color/black&quot;\r\n                        /&gt;\r\n    \r\n    \r\n    \r\n                &lt;/LinearLayout&gt;\r\n    \r\n            &lt;/LinearLayout&gt;\r\n    \r\n        &lt;/RelativeLayout&gt;\r\n    \r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\nAnd i&#39;ve tried to apply gesture detector here but when i try scale with gesture it work if i touch on external framelayout but when scale inside framelayout not work. Why?\r\n\r\nThis is my Board1 Activity code (removed button click listener and other) :\r\n \r\n\r\n    public class Board1 extends AppCompatActivity {\r\n    \r\n        \r\n        private DrawingView areaDisegno; // for drawing\r\n        private ImageView areaCampo; // image behind drawing\r\n     \r\n        private FrameLayout frameLayout; // all entire layout which can zoom and scroll for moving around \r\n     \r\n    \r\n        private int mCurrentBackgroundColor;\r\n        private int mCurrentColor;\r\n        private int mCurrentStroke;\r\n        private static final int MAX_STROKE_WIDTH = 50;\r\n     \r\n    \r\n        private ScaleGestureDetector mScaleGestureDetector;\r\n        private GestureDetector mGestureDetector;\r\n    \r\n        private float mScaleFactor = 1.0f;\r\n    \r\n        public boolean onTouchEvent(MotionEvent motionEvent) {\r\n                mScaleGestureDetector.onTouchEvent(motionEvent);\r\n                mGestureDetector.onTouchEvent(motionEvent);\r\n                return true;\r\n        }\r\n    \r\n        private class GestureListener extends GestureDetector.SimpleOnGestureListener {\r\n    \r\n            @Override\r\n            public boolean onScroll(MotionEvent e1, MotionEvent e2, float distanceX, float distanceY) {\r\n    \r\n                return super.onScroll(e1, e2, distanceX, distanceY);\r\n            }\r\n    \r\n    \r\n    \r\n        }\r\n    \r\n        private class ScaleListener extends ScaleGestureDetector.SimpleOnScaleGestureListener {\r\n            @Override\r\n            public boolean onScale(ScaleGestureDetector scaleGestureDetector){\r\n    \r\n                if(!zoomBloccato) {\r\n                    mScaleFactor *= scaleGestureDetector.getScaleFactor();\r\n                    Log.d(&quot;DEBUG&quot;, &quot;Board 1 - Scalefactor &quot; + mScaleFactor);\r\n                    mScaleFactor = Math.max(0.1f, Math.min(mScaleFactor, 10.0f));\r\n                    frameLayout.setScaleX(mScaleFactor);\r\n                    frameLayout.setScaleY(mScaleFactor);\r\n                }\r\n                return true;\r\n            }\r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            supportRequestWindowFeature(Window.FEATURE_NO_TITLE);\r\n            if (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n                getWindow().setNavigationBarColor(getResources().getColor(R.color.black));\r\n            }\r\n    \r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_board1);\r\n    \r\n            mScaleGestureDetector = new ScaleGestureDetector(this, new ScaleListener());\r\n            mGestureDetector = new GestureDetector(this, new GestureListener());\r\n    \r\n            ActivityCompat.requestPermissions(Board1.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},\r\n                    EXTERNAL_STORAGE_PERMISSION_CODE);\r\n     \r\n    \r\n            areaDisegno = findViewById(R.id.area_disegno);\r\n            areaCampo = findViewById(R.id.area_campo);\r\n            frameLayout = findViewById(R.id.frameLayout);\r\n            \r\n            inizializzaAreaDisegno();\r\n    \r\n            mCurrentColor = Color.BLACK;\r\n    \r\n            areaDisegno.setPaintColor(mCurrentColor);\r\n    \r\n            \r\n            mCurrentStroke = 30;\r\n    \r\n            areaDisegno.setPaintStrokeWidth(mCurrentStroke);\r\n    \r\n            areaDisegno.setDisegnoAbilitato(true);\r\n           \r\n    \r\n        }\r\n    \r\n        \r\n    \r\n        private void inizializzaAreaDisegno()\r\n        {\r\n    \r\n            //   mCurrentBackgroundColor = ContextCompat.getColor(this, android.R.color.white);\r\n            mCurrentColor = ContextCompat.getColor(this, android.R.color.black);\r\n            mCurrentStroke = 10;\r\n    \r\n            areaDisegno.setBackgroundColor(mCurrentBackgroundColor);\r\n            areaDisegno.setBackgroundColor(mCurrentColor);\r\n            areaDisegno.setPaintStrokeWidth(mCurrentStroke);\r\n    \r\n        }\r\n     \r\n    }\r\n\r\nI&#39;ve tried but not work on only framelayout. I must only zoom in and zoom out and scrolling around when zoomed in but not work :(.\r\nThanks\r\nCris","title":"Zoom in &amp; out , and scroll or fling only framelayout","body":"<p>I'm going to implement gesturedetector. I'm noob about. I've this layout:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;@drawable/sfondo_old&quot;\n    tools:context=&quot;.activities.Board1&quot;&gt;\n\n    &lt;RelativeLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:focusableInTouchMode=&quot;true&quot;&gt;\n\n        &lt;include\n            android:id=&quot;@+id/toolbar&quot;\n            layout=&quot;@layout/toolbar_menu_disegno&quot;\n            android:visibility=&quot;gone&quot; /&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_below=&quot;@+id/toolbar&quot;\n            android:orientation=&quot;vertical&quot;\n            android:weightSum=&quot;2&quot;&gt;\n\n\n          &lt;FrameLayout\n                android:id=&quot;@+id/frameLayout&quot;\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;0dp&quot;\n                android:layout_weight=&quot;1.99&quot;&gt; --&gt;\n\n\n                &lt;!-- IMAGE LOADED --&gt;\n\n                &lt;ImageView\n                    android:id=&quot;@+id/area_campo&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    android:src=&quot;@drawable/campo1&quot;\n                    /&gt;\n\n                &lt;!-- CUSTOM DRAWING VIEW --&gt;\n\n                &lt;it.colan.matchup.ui.component.DrawingView\n                    android:id=&quot;@+id/area_disegno&quot;\n                    android:layout_width=&quot;match_parent&quot;\n                    android:layout_height=&quot;match_parent&quot; /&gt;\n\n                    &lt;/FrameLayout&gt;\n\n\n           &lt;!-- &lt;/FrameLayout&gt; --&gt;\n\n            &lt;LinearLayout\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_below=&quot;@+id/area_disegno&quot;\n                android:layout_weight=&quot;0.01&quot;\n                android:orientation=&quot;horizontal&quot;\n                android:weightSum=&quot;1&quot;&gt;\n\n                &lt;include\n                    android:id=&quot;@+id/strumenti&quot;\n                    layout=&quot;@layout/menu_strumenti&quot;\n\n                    android:layout_alignParentLeft=&quot;true&quot;\n                    android:layout_width=&quot;wrap_content&quot;\n                    android:layout_height=&quot;match_parent&quot;\n                    android:orientation=&quot;horizontal&quot;\n                    android:gravity=&quot;center&quot;\n                    android:background=&quot;@color/black&quot;\n                    /&gt;\n\n\n\n            &lt;/LinearLayout&gt;\n\n        &lt;/LinearLayout&gt;\n\n    &lt;/RelativeLayout&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>And i've tried to apply gesture detector here but when i try scale with gesture it work if i touch on external framelayout but when scale inside framelayout not work. Why?</p>\n<p>This is my Board1 Activity code (removed button click listener and other) :</p>\n<pre><code>public class Board1 extends AppCompatActivity {\n\n    \n    private DrawingView areaDisegno; // for drawing\n    private ImageView areaCampo; // image behind drawing\n \n    private FrameLayout frameLayout; // all entire layout which can zoom and scroll for moving around \n \n\n    private int mCurrentBackgroundColor;\n    private int mCurrentColor;\n    private int mCurrentStroke;\n    private static final int MAX_STROKE_WIDTH = 50;\n \n\n    private ScaleGestureDetector mScaleGestureDetector;\n    private GestureDetector mGestureDetector;\n\n    private float mScaleFactor = 1.0f;\n\n    public boolean onTouchEvent(MotionEvent motionEvent) {\n            mScaleGestureDetector.onTouchEvent(motionEvent);\n            mGestureDetector.onTouchEvent(motionEvent);\n            return true;\n    }\n\n    private class GestureListener extends GestureDetector.SimpleOnGestureListener {\n\n        @Override\n        public boolean onScroll(MotionEvent e1, MotionEvent e2, float distanceX, float distanceY) {\n\n            return super.onScroll(e1, e2, distanceX, distanceY);\n        }\n\n\n\n    }\n\n    private class ScaleListener extends ScaleGestureDetector.SimpleOnScaleGestureListener {\n        @Override\n        public boolean onScale(ScaleGestureDetector scaleGestureDetector){\n\n            if(!zoomBloccato) {\n                mScaleFactor *= scaleGestureDetector.getScaleFactor();\n                Log.d(&quot;DEBUG&quot;, &quot;Board 1 - Scalefactor &quot; + mScaleFactor);\n                mScaleFactor = Math.max(0.1f, Math.min(mScaleFactor, 10.0f));\n                frameLayout.setScaleX(mScaleFactor);\n                frameLayout.setScaleY(mScaleFactor);\n            }\n            return true;\n        }\n\n\n    }\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        supportRequestWindowFeature(Window.FEATURE_NO_TITLE);\n        if (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n            getWindow().setNavigationBarColor(getResources().getColor(R.color.black));\n        }\n\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_board1);\n\n        mScaleGestureDetector = new ScaleGestureDetector(this, new ScaleListener());\n        mGestureDetector = new GestureDetector(this, new GestureListener());\n\n        ActivityCompat.requestPermissions(Board1.this, new String[]{Manifest.permission.READ_EXTERNAL_STORAGE},\n                EXTERNAL_STORAGE_PERMISSION_CODE);\n \n\n        areaDisegno = findViewById(R.id.area_disegno);\n        areaCampo = findViewById(R.id.area_campo);\n        frameLayout = findViewById(R.id.frameLayout);\n        \n        inizializzaAreaDisegno();\n\n        mCurrentColor = Color.BLACK;\n\n        areaDisegno.setPaintColor(mCurrentColor);\n\n        \n        mCurrentStroke = 30;\n\n        areaDisegno.setPaintStrokeWidth(mCurrentStroke);\n\n        areaDisegno.setDisegnoAbilitato(true);\n       \n\n    }\n\n    \n\n    private void inizializzaAreaDisegno()\n    {\n\n        //   mCurrentBackgroundColor = ContextCompat.getColor(this, android.R.color.white);\n        mCurrentColor = ContextCompat.getColor(this, android.R.color.black);\n        mCurrentStroke = 10;\n\n        areaDisegno.setBackgroundColor(mCurrentBackgroundColor);\n        areaDisegno.setBackgroundColor(mCurrentColor);\n        areaDisegno.setPaintStrokeWidth(mCurrentStroke);\n\n    }\n \n}\n</code></pre>\n<p>I've tried but not work on only framelayout. I must only zoom in and zoom out and scrolling around when zoomed in but not work :(.\nThanks\nCris</p>\n"},{"tags":["java","rest","http","https","windows-subsystem-for-linux"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1647510420,"post_id":71509934,"comment_id":126391196,"body_markdown":"What happens if you execute `curl https://gorest.co.in` inside the WSL terminal?","body":"What happens if you execute <code>curl https:&#47;&#47;gorest.co.in</code> inside the WSL terminal?"},{"owner":{"account_id":24587222,"reputation":1,"user_id":18491565,"display_name":"mpstack"},"score":0,"creation_date":1647513906,"post_id":71509934,"comment_id":126392438,"body_markdown":"curl command is successful. I&#39;m not sure if this is network issue specific to java.","body":"curl command is successful. I&#39;m not sure if this is network issue specific to java."},{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":0,"creation_date":1647514297,"post_id":71509934,"comment_id":126392580,"body_markdown":"What version of org.apache.http do you use?","body":"What version of org.apache.http do you use?"},{"owner":{"account_id":24587222,"reputation":1,"user_id":18491565,"display_name":"mpstack"},"score":0,"creation_date":1647517226,"post_id":71509934,"comment_id":126393505,"body_markdown":"For Apache HTTP, using version 4.15.3.  I was using Jersey Client initially when implementing the connection, but encountered the same issue.  Using Apache HTTP to just test a simple connection.","body":"For Apache HTTP, using version 4.15.3.  I was using Jersey Client initially when implementing the connection, but encountered the same issue.  Using Apache HTTP to just test a simple connection."}],"owner":{"account_id":24587222,"reputation":1,"user_id":18491565,"display_name":"mpstack"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":202,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647509502,"creation_date":1647509502,"question_id":71509934,"body_markdown":"I am running on WSL1 on Windows 10. Using Azul OpenJDK 8 for Linux.\r\n\r\nBelow is a simple code for making an outbound HTTP connection :\r\n\r\n```java\r\nprivate void invokeREST() throws MalformedURLException {\r\n\r\n        final String REST_URI = &quot;https://gorest.co.in/public/v2/posts&quot;;\r\n\r\n        try {\r\n            HttpClient client = new DefaultHttpClient();\r\n            HttpGet request = new HttpGet(REST_URI);\r\n            HttpResponse response = client.execute(request);\r\n            BufferedReader rd = new BufferedReader (new InputStreamReader(response.getEntity().getContent()));\r\n            String line;\r\n            while ((line = rd.readLine()) != null) {\r\n                System.out.println(line);\r\n            }\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n```\r\n\r\nI am getting the following error when executing :\r\n```bash\r\n./gradlew run\r\n\r\n&gt; Task :run\r\nMar 17, 2022 11:07:21 AM org.apache.http.impl.client.DefaultHttpClient tryConnect\r\nINFO: I/O exception (java.net.NoRouteToHostException) caught when connecting to {s}-&gt;https://gorest.co.in:443: Cannot assign requested address (Address not available)\r\nMar 17, 2022 11:07:21 AM org.apache.http.impl.client.DefaultHttpClient tryConnect\r\nINFO: Retrying connect to {s}-&gt;https://gorest.co.in:443\r\nMar 17, 2022 11:07:21 AM org.apache.http.impl.client.DefaultHttpClient tryConnect\r\nINFO: I/O exception (java.net.NoRouteToHostException) caught when connecting to {s}-&gt;https://gorest.co.in:443: Cannot assign requested address (Address not available)\r\nMar 17, 2022 11:07:21 AM org.apache.http.impl.client.DefaultHttpClient tryConnect\r\nINFO: Retrying connect to {s}-&gt;https://gorest.co.in:443\r\nMar 17, 2022 11:07:21 AM org.apache.http.impl.client.DefaultHttpClient tryConnect\r\nINFO: I/O exception (java.net.NoRouteToHostException) caught when connecting to {s}-&gt;https://gorest.co.in:443: Cannot assign requested address (Address not available)\r\nMar 17, 2022 11:07:21 AM org.apache.http.impl.client.DefaultHttpClient tryConnect\r\nINFO: Retrying connect to {s}-&gt;https://gorest.co.in:443\r\njava.net.NoRouteToHostException: Cannot assign requested address (Address not available)\r\n        at java.net.PlainSocketImpl.socketConnect(Native Method)\r\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\r\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\r\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\r\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\r\n        at java.net.Socket.connect(Socket.java:613)\r\n        at org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:543)\r\n        at org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:415)\r\n        at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180)\r\n        at org.apache.http.impl.conn.ManagedClientConnectionImpl.open(ManagedClientConnectionImpl.java:326)\r\n        at org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:605)\r\n        at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:440)\r\n        at org.apache.http.impl.client.AbstractHttpClient.doExecute(AbstractHttpClient.java:835)\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\r\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\r\n        at com.experiment.restTest.simpleHTTPRequest(restTest.java:51)\r\n        at com.experiment.restTest.invokeREST(restTest.java:42)\r\n        at com.experiment.restTest.main(restTest.java:121)\r\n```\r\n\r\nThe call works successfully when executed using Java 8 for Windows\r\n\r\n```Powershell\r\n.\\gradlew run\r\n\r\n&gt; Task :compileJava\r\nNote: C:\\Users\\tester\\IdeaProjects\\testProject\\src\\main\\java\\com\\experiment\\restTest.java uses or overrides a deprecated API.\r\nNote: Recompile with -Xlint:deprecation for details.\r\n\r\n&gt; Task :run\r\n[{&quot;id&quot;:1337,&quot;user_id&quot;:2822,&quot;title&quot;:&quot;Cimentarius quasi tero alii vel cibus sollicito volup solio laudantium adipiscor.&quot;,&quot;body&quot;:&quot;Bos certe cruentus. Unde candidus volva. Stabilis accipio vinculum. Maiores vicinus amplus. Contabesco autem tubineus. Animadverto celo civitas. Sustineo omnis saepe. Alioqui tamen ocer. Succurro id conscendo. Blanditiis .&quot;}]\r\n```\r\n\r\nI disabled the wifi network interface (via powershell) in case there was a conflict, but it did not make a difference.\r\n\r\n```powershell\r\nPS C:\\WINDOWS\\system32&gt; netsh interface show interface\r\n\r\nAdmin State    State          Type             Interface Name\r\n-------------------------------------------------------------------------\r\nEnabled        Connected      Dedicated        Npcap Loopback Adapter\r\nDisabled       Disconnected   Dedicated        Wi-Fi\r\nDisabled       Disconnected   Dedicated        Citrix Virtual Adapter\r\nEnabled        Connected      Dedicated        vEthernet (Internal switch)\r\nEnabled        Connected      Dedicated        Ethernet\r\nEnabled        Connected      Dedicated        vEthernet (Default Switch)\r\n```\r\n\r\ncurl command works successfully as well.\r\n\r\nHas anyone experience a similar issue in WSL 1 with Java ?\r\n\r\n","title":"Java HTTP call on WSL 1 fails with &#39;cannot assign the requested address&#39;","body":"<p>I am running on WSL1 on Windows 10. Using Azul OpenJDK 8 for Linux.</p>\n<p>Below is a simple code for making an outbound HTTP connection :</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void invokeREST() throws MalformedURLException {\n\n        final String REST_URI = &quot;https://gorest.co.in/public/v2/posts&quot;;\n\n        try {\n            HttpClient client = new DefaultHttpClient();\n            HttpGet request = new HttpGet(REST_URI);\n            HttpResponse response = client.execute(request);\n            BufferedReader rd = new BufferedReader (new InputStreamReader(response.getEntity().getContent()));\n            String line;\n            while ((line = rd.readLine()) != null) {\n                System.out.println(line);\n            }\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n<p>I am getting the following error when executing :</p>\n<pre class=\"lang-sh prettyprint-override\"><code>./gradlew run\n\n&gt; Task :run\nMar 17, 2022 11:07:21 AM org.apache.http.impl.client.DefaultHttpClient tryConnect\nINFO: I/O exception (java.net.NoRouteToHostException) caught when connecting to {s}-&gt;https://gorest.co.in:443: Cannot assign requested address (Address not available)\nMar 17, 2022 11:07:21 AM org.apache.http.impl.client.DefaultHttpClient tryConnect\nINFO: Retrying connect to {s}-&gt;https://gorest.co.in:443\nMar 17, 2022 11:07:21 AM org.apache.http.impl.client.DefaultHttpClient tryConnect\nINFO: I/O exception (java.net.NoRouteToHostException) caught when connecting to {s}-&gt;https://gorest.co.in:443: Cannot assign requested address (Address not available)\nMar 17, 2022 11:07:21 AM org.apache.http.impl.client.DefaultHttpClient tryConnect\nINFO: Retrying connect to {s}-&gt;https://gorest.co.in:443\nMar 17, 2022 11:07:21 AM org.apache.http.impl.client.DefaultHttpClient tryConnect\nINFO: I/O exception (java.net.NoRouteToHostException) caught when connecting to {s}-&gt;https://gorest.co.in:443: Cannot assign requested address (Address not available)\nMar 17, 2022 11:07:21 AM org.apache.http.impl.client.DefaultHttpClient tryConnect\nINFO: Retrying connect to {s}-&gt;https://gorest.co.in:443\njava.net.NoRouteToHostException: Cannot assign requested address (Address not available)\n        at java.net.PlainSocketImpl.socketConnect(Native Method)\n        at java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:350)\n        at java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:206)\n        at java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:188)\n        at java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392)\n        at java.net.Socket.connect(Socket.java:613)\n        at org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:543)\n        at org.apache.http.conn.ssl.SSLSocketFactory.connectSocket(SSLSocketFactory.java:415)\n        at org.apache.http.impl.conn.DefaultClientConnectionOperator.openConnection(DefaultClientConnectionOperator.java:180)\n        at org.apache.http.impl.conn.ManagedClientConnectionImpl.open(ManagedClientConnectionImpl.java:326)\n        at org.apache.http.impl.client.DefaultRequestDirector.tryConnect(DefaultRequestDirector.java:605)\n        at org.apache.http.impl.client.DefaultRequestDirector.execute(DefaultRequestDirector.java:440)\n        at org.apache.http.impl.client.AbstractHttpClient.doExecute(AbstractHttpClient.java:835)\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:83)\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:108)\n        at org.apache.http.impl.client.CloseableHttpClient.execute(CloseableHttpClient.java:56)\n        at com.experiment.restTest.simpleHTTPRequest(restTest.java:51)\n        at com.experiment.restTest.invokeREST(restTest.java:42)\n        at com.experiment.restTest.main(restTest.java:121)\n</code></pre>\n<p>The call works successfully when executed using Java 8 for Windows</p>\n<pre><code>.\\gradlew run\n\n&gt; Task :compileJava\nNote: C:\\Users\\tester\\IdeaProjects\\testProject\\src\\main\\java\\com\\experiment\\restTest.java uses or overrides a deprecated API.\nNote: Recompile with -Xlint:deprecation for details.\n\n&gt; Task :run\n[{&quot;id&quot;:1337,&quot;user_id&quot;:2822,&quot;title&quot;:&quot;Cimentarius quasi tero alii vel cibus sollicito volup solio laudantium adipiscor.&quot;,&quot;body&quot;:&quot;Bos certe cruentus. Unde candidus volva. Stabilis accipio vinculum. Maiores vicinus amplus. Contabesco autem tubineus. Animadverto celo civitas. Sustineo omnis saepe. Alioqui tamen ocer. Succurro id conscendo. Blanditiis .&quot;}]\n</code></pre>\n<p>I disabled the wifi network interface (via powershell) in case there was a conflict, but it did not make a difference.</p>\n<pre><code>PS C:\\WINDOWS\\system32&gt; netsh interface show interface\n\nAdmin State    State          Type             Interface Name\n-------------------------------------------------------------------------\nEnabled        Connected      Dedicated        Npcap Loopback Adapter\nDisabled       Disconnected   Dedicated        Wi-Fi\nDisabled       Disconnected   Dedicated        Citrix Virtual Adapter\nEnabled        Connected      Dedicated        vEthernet (Internal switch)\nEnabled        Connected      Dedicated        Ethernet\nEnabled        Connected      Dedicated        vEthernet (Default Switch)\n</code></pre>\n<p>curl command works successfully as well.</p>\n<p>Has anyone experience a similar issue in WSL 1 with Java ?</p>\n"},{"tags":["java","sql-server","timezone","localdate"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":2,"creation_date":1647509927,"post_id":71509929,"comment_id":126391020,"body_markdown":"Can you show us the code that reads and writes the values from/to the database.","body":"Can you show us the code that reads and writes the values from/to the database."},{"owner":{"display_name":"user14687465"},"score":0,"creation_date":1647510400,"post_id":71509929,"comment_id":126391192,"body_markdown":"Try read this article. There is basically 3 timezones. The sql server&#39;s timezone, the java application&#39;s timezone, and client&#39;s timezone. https://www.linkedin.com/pulse/practical-example-handling-time-zone-conversion-java-rest-darshana","body":"Try read this article. There is basically 3 timezones. The sql server&#39;s timezone, the java application&#39;s timezone, and client&#39;s timezone. <a href=\"https://www.linkedin.com/pulse/practical-example-handling-time-zone-conversion-java-rest-darshana\" rel=\"nofollow noreferrer\">linkedin.com/pulse/&hellip;</a>"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1647528289,"post_id":71509929,"comment_id":126398001,"body_markdown":"Do you really mean a date, or do you mean a date with time-of-day? What is the exact data type of the column? What is the exact data type (class) in your Java code, And, just to confirm, are you using Microsoft SQL Server? Your question is vague as currently written; I suggest a rewrite with specifics.","body":"Do you really mean a date, or do you mean a date with time-of-day? What is the exact data type of the column? What is the exact data type (class) in your Java code, And, just to confirm, are you using Microsoft SQL Server? Your question is vague as currently written; I suggest a rewrite with specifics."}],"owner":{"account_id":19237981,"reputation":1,"user_id":14058542,"display_name":"Aman Gupta"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1647509473,"creation_date":1647509473,"question_id":71509929,"body_markdown":"I am new to backend and stuck with a problem.\r\nMy application has an input field which saves the date - A user can save the date in the database and another user can retrieve the date but is in a different time zone.\r\nI don&#39;t know how to save it and send the response after converting it to retrieving ends time zone.","title":"How to save and retrieve Date with timezone in java and SQLserver","body":"<p>I am new to backend and stuck with a problem.\nMy application has an input field which saves the date - A user can save the date in the database and another user can retrieve the date but is in a different time zone.\nI don't know how to save it and send the response after converting it to retrieving ends time zone.</p>\n"},{"tags":["java","spring-boot","hibernate","jhipster","hazelcast"],"answers":[{"tags":[],"owner":{"account_id":7592512,"reputation":3070,"user_id":5759723,"display_name":"Neil Stevenson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1628267148,"creation_date":1628267148,"answer_id":68684827,"question_id":68684151,"body_markdown":"Two processes with the (default) cluster name `dev` have found each other and attempted to cluster together. Versions are incompatible so this fails.\r\n\r\nYou could turn off discovery on both processes, but if you don&#39;t control the other this may not be viable.\r\n\r\nInstead you could use `config.getGroupConfig().setName(&#39;...&#39;)` to change the name of your cluster to prevent the join attempt.","title":"Hazelcast error Reason of failure for node join: Joining node&#39;s version 3.12.7 is not compatible with cluster version 3.9","body":"<p>Two processes with the (default) cluster name <code>dev</code> have found each other and attempted to cluster together. Versions are incompatible so this fails.</p>\n<p>You could turn off discovery on both processes, but if you don't control the other this may not be viable.</p>\n<p>Instead you could use <code>config.getGroupConfig().setName('...')</code> to change the name of your cluster to prevent the join attempt.</p>\n"}],"owner":{"account_id":12162134,"reputation":89,"user_id":8879397,"display_name":"Kames Guen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4463,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":68684827,"answer_count":1,"score":1,"last_activity_date":1647509104,"creation_date":1628263808,"question_id":68684151,"body_markdown":"I have this issue in a Spring Boot microservices JHipster project, the issue started without changing any code. the microservers are deployed in a Kubernetes Microsoft Azure enviroment. The issue is related to a Hazelcast problem.\r\n\r\nStack trace: \r\n   ``` 2021-08-05T15:35:59.945228059Z 2021-08-05 15:35:59.944  INFO 7 --- [.IO.thread-in-1] com.hazelcast.nio.tcp.TcpIpConnection    : [10.32.0.18]:5701 [dev] [3.12.7] Initialized new cluster connection between /10.32.0.18:49367 and /10.40.0.24:5701\r\n2021-08-05T15:36:00.921185708Z 2021-08-05 15:36:00.920 ERROR 7 --- [ration.thread-0] com.hazelcast.security                   : [10.32.0.18]:5701 [dev] [3.12.7] Node could not join cluster. Before join check failed node is going to shutdown now!\r\n2021-08-05T15:36:00.92269528Z 2021-08-05 15:36:00.922 ERROR 7 --- [ration.thread-0] com.hazelcast.security                   : [10.32.0.18]:5701 [dev] [3.12.7] Reason of failure for node join: Joining node&#39;s version 3.12.7 is not compatible with cluster version 3.9 (Rolling Member Upgrades are only supported in Hazelcast Enterprise)\r\n2021-08-05T15:36:00.923792359Z 2021-08-05 15:36:00.923  WARN 7 --- [ration.thread-0] com.hazelcast.instance.Node              : [10.32.0.18]:5701 [dev] [3.12.7] Terminating forcefully...\r\n2021-08-05T15:36:00.924224151Z 2021-08-05 15:36:00.924  INFO 7 --- [ration.thread-0] com.hazelcast.instance.Node              : [10.32.0.18]:5701 [dev] [3.12.7] Shutting down connection manager...\r\n2021-08-05T15:36:00.929472551Z 2021-08-05 15:36:00.929  INFO 7 --- [ration.thread-0] com.hazelcast.nio.tcp.TcpIpConnection    : [10.32.0.18]:5701 [dev] [3.12.7] Connection[id=1, /10.32.0.18:49367-&gt;/10.40.0.24:5701, qualifier=null, endpoint=[10.40.0.24]:5701, alive=false, type=MEMBER] closed. Reason: EndpointManager is stopping\r\n2021-08-05T15:36:00.937643697Z 2021-08-05 15:36:00.937  INFO 7 --- [ration.thread-0] com.hazelcast.instance.Node              : [10.32.0.18]:5701 [dev] [3.12.7] Shutting down node engine...\r\n2021-08-05T15:36:01.002501471Z 2021-08-05 15:36:01.002  INFO 7 --- [ration.thread-0] com.hazelcast.instance.NodeExtension     : [10.32.0.18]:5701 [dev] [3.12.7] Destroying node NodeExtension.\r\n2021-08-05T15:36:01.002715567Z 2021-08-05 15:36:01.002  INFO 7 --- [ration.thread-0] com.hazelcast.instance.Node              : [10.32.0.18]:5701 [dev] [3.12.7] Hazelcast Shutdown is completed in 79 ms.\r\n2021-08-05T15:36:04.930340712Z 2021-08-05 15:36:04.926 ERROR 7 --- [           main] com.hazelcast.instance.Node              : [10.32.0.18]:5701 [dev] [3.12.7] Could not join cluster. Shutting down now!\r\n2021-08-05T15:36:04.930373712Z 2021-08-05 15:36:04.927  INFO 7 --- [           main] com.hazelcast.core.LifecycleService      : [10.32.0.18]:5701 [dev] [3.12.7] [10.32.0.18]:5701 is SHUTTING_DOWN\r\n2021-08-05T15:36:04.932312175Z 2021-08-05 15:36:04.931  INFO 7 --- [           main] com.hazelcast.instance.Node              : [10.32.0.18]:5701 [dev] [3.12.7] Node is already shutting down... Waiting for shutdown process to complete...\r\n2021-08-05T15:36:04.932877065Z 2021-08-05 15:36:04.932  INFO 7 --- [           main] com.hazelcast.core.LifecycleService      : [10.32.0.18]:5701 [dev] [3.12.7] [10.32.0.18]:5701 is SHUTDOWN\r\n2021-08-05T15:36:05.038848261Z 2021-08-05 15:36:05.038  WARN 7 --- [           main] com.hazelcast.util.PhoneHome             : [10.32.0.18]:5701 [dev] [3.12.7] Could not schedule phone home task! Most probably Hazelcast failed to start.\r\n2021-08-05T15:36:05.04047403Z 2021-08-05 15:36:05.039  INFO 7 --- [           main] com.hazelcast.instance.Node              : [10.32.0.18]:5701 [dev] [3.12.7] Node is already shutting down... Waiting for shutdown process to complete...\r\n2021-08-05T15:36:05.042475292Z 2021-08-05 15:36:05.042  WARN 7 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is java.lang.RuntimeException: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;servletEndpointRegistrar&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/endpoint/web/ServletEndpointManagementContextConfiguration$WebMvcServletEndpointManagementContextConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar]: Factory method &#39;servletEndpointRegistrar&#39; threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;healthEndpoint&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthEndpointConfiguration.class]: Unsatisfied dependency expressed through method &#39;healthEndpoint&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;healthContributorRegistry&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthEndpointConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.health.HealthContributorRegistry]: Factory method &#39;healthContributorRegistry&#39; threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;hazelcastHealthContributor&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/hazelcast/HazelcastHealthContributorAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;hazelcastHealthContributor&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;hazelcastInstance&#39; defined in class path resource [.../.../.../.../config/CacheConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.hazelcast.core.HazelcastInstance]: Factory method &#39;hazelcastInstance&#39; threw exception; nested exception is java.lang.IllegalStateException: Node failed to start!\r\n2021-08-05T15:36:05.042724688Z 2021-08-05 15:36:05.042  INFO 7 --- [           main] x.x.x.x.config.CacheConfiguration      : Closing Cache Manager\r\n2021-08-05T15:36:05.254458785Z 2021-08-05 15:36:05.253 ERROR 7 --- [           main] o.s.boot.SpringApplication               : Application run failed\r\n2021-08-05T15:36:05.254488484Z \r\n2021-08-05T15:36:05.254494684Z org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is java.lang.RuntimeException: org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;servletEndpointRegistrar&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/endpoint/web/ServletEndpointManagementContextConfiguration$WebMvcServletEndpointManagementContextConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar]: Factory method &#39;servletEndpointRegistrar&#39; threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;healthEndpoint&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthEndpointConfiguration.class]: Unsatisfied dependency expressed through method &#39;healthEndpoint&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;healthContributorRegistry&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthEndpointConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.health.HealthContributorRegistry]: Factory method &#39;healthContributorRegistry&#39; threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;hazelcastHealthContributor&#39; defined in class path resource [org/springframework/boot/actuate/autoconfigure/hazelcast/HazelcastHealthContributorAutoConfiguration.class]: Unsatisfied dependency expressed through method &#39;hazelcastHealthContributor&#39; parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;hazelcastInstance&#39; defined in class path resource [.../.../.../.../config/CacheConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.hazelcast.core.HazelcastInstance]: Factory method &#39;hazelcastInstance&#39; threw exception; nested exception is java.lang.IllegalStateException: Node failed to start!\r\n2021-08-05T15:36:05.254519084Z \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:156)\r\n2021-08-05T15:36:05.254522883Z \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:544)\r\n2021-08-05T15:36:05.254526583Z \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)\r\n2021-08-05T15:36:05.254530283Z \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)\r\n2021-08-05T15:36:05.254534083Z \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\r\n2021-08-05T15:36:05.254537583Z \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\r\n```\r\n\r\nCacheConfiguration class\r\n\r\n```import io.github.jhipster.config.JHipsterConstants;\r\nimport io.github.jhipster.config.JHipsterProperties;\r\n\r\nimport com.hazelcast.config.*;\r\nimport com.hazelcast.core.HazelcastInstance;\r\nimport com.hazelcast.core.Hazelcast;\r\n\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\nimport org.springframework.boot.autoconfigure.web.ServerProperties;\r\n\r\nimport org.springframework.cache.CacheManager;\r\n\r\nimport org.springframework.boot.info.BuildProperties;\r\nimport org.springframework.boot.info.GitProperties;\r\nimport org.springframework.cache.interceptor.KeyGenerator;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport io.github.jhipster.config.cache.PrefixedKeyGenerator;\r\nimport org.springframework.cache.annotation.EnableCaching;\r\nimport org.springframework.cloud.client.ServiceInstance;\r\nimport org.springframework.cloud.client.discovery.DiscoveryClient;\r\nimport org.springframework.cloud.client.serviceregistry.Registration;\r\nimport org.springframework.context.annotation.*;\r\nimport org.springframework.core.env.Environment;\r\nimport org.springframework.core.env.Profiles;\r\n\r\nimport javax.annotation.PreDestroy;\r\n\r\n@Configuration\r\n@EnableCaching\r\npublic class CacheConfiguration {\r\n    private GitProperties gitProperties;\r\n    private BuildProperties buildProperties;\r\n\r\n    private final Logger log = LoggerFactory.getLogger(CacheConfiguration.class);\r\n\r\n    private final Environment env;\r\n\r\n    private final ServerProperties serverProperties;\r\n\r\n    private final DiscoveryClient discoveryClient;\r\n\r\n    private Registration registration;\r\n\r\n    public CacheConfiguration(Environment env, ServerProperties serverProperties, DiscoveryClient discoveryClient) {\r\n        this.env = env;\r\n        this.serverProperties = serverProperties;\r\n        this.discoveryClient = discoveryClient;\r\n    }\r\n\r\n    @Autowired(required = false)\r\n    public void setRegistration(Registration registration) {\r\n        this.registration = registration;\r\n    }\r\n\r\n    @PreDestroy\r\n    public void destroy() {\r\n        log.info(&quot;Closing Cache Manager&quot;);\r\n        Hazelcast.shutdownAll();\r\n    }\r\n\r\n    @Bean\r\n    public CacheManager cacheManager(HazelcastInstance hazelcastInstance) {\r\n        log.debug(&quot;Starting HazelcastCacheManager&quot;);\r\n        return new com.hazelcast.spring.cache.HazelcastCacheManager(hazelcastInstance);\r\n    }\r\n\r\n    @Bean\r\n    public HazelcastInstance hazelcastInstance(JHipsterProperties jHipsterProperties) {\r\n        log.debug(&quot;Configuring Hazelcast&quot;);\r\n        HazelcastInstance hazelCastInstance = Hazelcast.getHazelcastInstanceByName(&quot;bpm&quot;);\r\n        if (hazelCastInstance != null) {\r\n            log.debug(&quot;Hazelcast already initialized&quot;);\r\n            return hazelCastInstance;\r\n        }\r\n        Config config = new Config();\r\n        config.setInstanceName(&quot;bpm&quot;);\r\n        config.getNetworkConfig().getJoin().getMulticastConfig().setEnabled(false);\r\n        if (this.registration == null) {\r\n            log.warn(&quot;No discovery service is set up, Hazelcast cannot create a cluster.&quot;);\r\n        } else {\r\n            // The serviceId is by default the application&#39;s name,\r\n            // see the &quot;spring.application.name&quot; standard Spring property\r\n            String serviceId = registration.getServiceId();\r\n            log.debug(&quot;Configuring Hazelcast clustering for instanceId: {}&quot;, serviceId);\r\n            // In development, everything goes through 127.0.0.1, with a different port\r\n            if (env.acceptsProfiles(Profiles.of(JHipsterConstants.SPRING_PROFILE_DEVELOPMENT))) {\r\n                log.debug(&quot;Application is running with the \\&quot;dev\\&quot; profile, Hazelcast &quot; +\r\n                          &quot;cluster will only work with localhost instances&quot;);\r\n\r\n                System.setProperty(&quot;hazelcast.local.localAddress&quot;, &quot;127.0.0.1&quot;);\r\n                config.getNetworkConfig().setPort(serverProperties.getPort() + 5701);\r\n                config.getNetworkConfig().getJoin().getTcpIpConfig().setEnabled(true);\r\n                for (ServiceInstance instance : discoveryClient.getInstances(serviceId)) {\r\n                    String clusterMember = &quot;127.0.0.1:&quot; + (instance.getPort() + 5701);\r\n                    log.debug(&quot;Adding Hazelcast (dev) cluster member {}&quot;, clusterMember);\r\n                    config.getNetworkConfig().getJoin().getTcpIpConfig().addMember(clusterMember);\r\n                }\r\n            } else { // Production configuration, one host per instance all using port 5701\r\n                config.getNetworkConfig().setPort(5701);\r\n                config.getNetworkConfig().getJoin().getTcpIpConfig().setEnabled(true);\r\n                for (ServiceInstance instance : discoveryClient.getInstances(serviceId)) {\r\n                    String clusterMember = instance.getHost() + &quot;:5701&quot;;\r\n                    log.debug(&quot;Adding Hazelcast (prod) cluster member {}&quot;, clusterMember);\r\n                    config.getNetworkConfig().getJoin().getTcpIpConfig().addMember(clusterMember);\r\n                }\r\n            }\r\n        }\r\n        config.getMapConfigs().put(&quot;default&quot;, initializeDefaultMapConfig(jHipsterProperties));\r\n\r\n        // Full reference is available at: https://docs.hazelcast.org/docs/management-center/3.9/manual/html/Deploying_and_Starting.html\r\n        config.setManagementCenterConfig(initializeDefaultManagementCenterConfig(jHipsterProperties));\r\n        config.getMapConfigs().put(&quot;xxx.xxx.xxx.xxx.domain.*&quot;, initializeDomainMapConfig(jHipsterProperties));\r\n        return Hazelcast.newHazelcastInstance(config);\r\n    }\r\n\r\n    private ManagementCenterConfig initializeDefaultManagementCenterConfig(JHipsterProperties jHipsterProperties) {\r\n        ManagementCenterConfig managementCenterConfig = new ManagementCenterConfig();\r\n        managementCenterConfig.setEnabled(jHipsterProperties.getCache().getHazelcast().getManagementCenter().isEnabled());\r\n        managementCenterConfig.setUrl(jHipsterProperties.getCache().getHazelcast().getManagementCenter().getUrl());\r\n        managementCenterConfig.setUpdateInterval(jHipsterProperties.getCache().getHazelcast().getManagementCenter().getUpdateInterval());\r\n        return managementCenterConfig;\r\n    }\r\n\r\n    private MapConfig initializeDefaultMapConfig(JHipsterProperties jHipsterProperties) {\r\n        MapConfig mapConfig = new MapConfig();\r\n\r\n        /*\r\n        Number of backups. If 1 is set as the backup-count for example,\r\n        then all entries of the map will be copied to another JVM for\r\n        fail-safety. Valid numbers are 0 (no backup), 1, 2, 3.\r\n        */\r\n        mapConfig.setBackupCount(jHipsterProperties.getCache().getHazelcast().getBackupCount());\r\n\r\n        /*\r\n        Valid values are:\r\n        NONE (no eviction),\r\n        LRU (Least Recently Used),\r\n        LFU (Least Frequently Used).\r\n        NONE is the default.\r\n        */\r\n        mapConfig.setEvictionPolicy(EvictionPolicy.LRU);\r\n\r\n        /*\r\n        Maximum size of the map. When max size is reached,\r\n        map is evicted based on the policy defined.\r\n        Any integer between 0 and Integer.MAX_VALUE. 0 means\r\n        Integer.MAX_VALUE. Default is 0.\r\n        */\r\n        mapConfig.setMaxSizeConfig(new MaxSizeConfig(0, MaxSizeConfig.MaxSizePolicy.USED_HEAP_SIZE));\r\n\r\n        return mapConfig;\r\n    }\r\n\r\n    private MapConfig initializeDomainMapConfig(JHipsterProperties jHipsterProperties) {\r\n        MapConfig mapConfig = new MapConfig();\r\n        mapConfig.setTimeToLiveSeconds(jHipsterProperties.getCache().getHazelcast().getTimeToLiveSeconds());\r\n        return mapConfig;\r\n    }\r\n\r\n    @Autowired(required = false)\r\n    public void setGitProperties(GitProperties gitProperties) {\r\n        this.gitProperties = gitProperties;\r\n    }\r\n\r\n    @Autowired(required = false)\r\n    public void setBuildProperties(BuildProperties buildProperties) {\r\n        this.buildProperties = buildProperties;\r\n    }\r\n\r\n    @Bean\r\n    public KeyGenerator keyGenerator() {\r\n        return new PrefixedKeyGenerator(this.gitProperties, this.buildProperties);\r\n    }\r\n}\r\n```\r\n\r\n`pom.xml` version of dependencies\r\n\r\n```  \r\n&lt;maven.version&gt;3.3.9&lt;/maven.version&gt;\r\n&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n```\r\nHazelcast dependencies:\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;hazelcast&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;hazelcast-hibernate53&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;hazelcast-spring&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\nplease help.","title":"Hazelcast error Reason of failure for node join: Joining node&#39;s version 3.12.7 is not compatible with cluster version 3.9","body":"<p>I have this issue in a Spring Boot microservices JHipster project, the issue started without changing any code. the microservers are deployed in a Kubernetes Microsoft Azure enviroment. The issue is related to a Hazelcast problem.</p>\n<p>Stack trace:</p>\n<pre><code>2021-08-05T15:36:00.921185708Z 2021-08-05 15:36:00.920 ERROR 7 --- [ration.thread-0] com.hazelcast.security                   : [10.32.0.18]:5701 [dev] [3.12.7] Node could not join cluster. Before join check failed node is going to shutdown now!\n2021-08-05T15:36:00.92269528Z 2021-08-05 15:36:00.922 ERROR 7 --- [ration.thread-0] com.hazelcast.security                   : [10.32.0.18]:5701 [dev] [3.12.7] Reason of failure for node join: Joining node's version 3.12.7 is not compatible with cluster version 3.9 (Rolling Member Upgrades are only supported in Hazelcast Enterprise)\n2021-08-05T15:36:00.923792359Z 2021-08-05 15:36:00.923  WARN 7 --- [ration.thread-0] com.hazelcast.instance.Node              : [10.32.0.18]:5701 [dev] [3.12.7] Terminating forcefully...\n2021-08-05T15:36:00.924224151Z 2021-08-05 15:36:00.924  INFO 7 --- [ration.thread-0] com.hazelcast.instance.Node              : [10.32.0.18]:5701 [dev] [3.12.7] Shutting down connection manager...\n2021-08-05T15:36:00.929472551Z 2021-08-05 15:36:00.929  INFO 7 --- [ration.thread-0] com.hazelcast.nio.tcp.TcpIpConnection    : [10.32.0.18]:5701 [dev] [3.12.7] Connection[id=1, /10.32.0.18:49367-&gt;/10.40.0.24:5701, qualifier=null, endpoint=[10.40.0.24]:5701, alive=false, type=MEMBER] closed. Reason: EndpointManager is stopping\n2021-08-05T15:36:00.937643697Z 2021-08-05 15:36:00.937  INFO 7 --- [ration.thread-0] com.hazelcast.instance.Node              : [10.32.0.18]:5701 [dev] [3.12.7] Shutting down node engine...\n2021-08-05T15:36:01.002501471Z 2021-08-05 15:36:01.002  INFO 7 --- [ration.thread-0] com.hazelcast.instance.NodeExtension     : [10.32.0.18]:5701 [dev] [3.12.7] Destroying node NodeExtension.\n2021-08-05T15:36:01.002715567Z 2021-08-05 15:36:01.002  INFO 7 --- [ration.thread-0] com.hazelcast.instance.Node              : [10.32.0.18]:5701 [dev] [3.12.7] Hazelcast Shutdown is completed in 79 ms.\n2021-08-05T15:36:04.930340712Z 2021-08-05 15:36:04.926 ERROR 7 --- [           main] com.hazelcast.instance.Node              : [10.32.0.18]:5701 [dev] [3.12.7] Could not join cluster. Shutting down now!\n2021-08-05T15:36:04.930373712Z 2021-08-05 15:36:04.927  INFO 7 --- [           main] com.hazelcast.core.LifecycleService      : [10.32.0.18]:5701 [dev] [3.12.7] [10.32.0.18]:5701 is SHUTTING_DOWN\n2021-08-05T15:36:04.932312175Z 2021-08-05 15:36:04.931  INFO 7 --- [           main] com.hazelcast.instance.Node              : [10.32.0.18]:5701 [dev] [3.12.7] Node is already shutting down... Waiting for shutdown process to complete...\n2021-08-05T15:36:04.932877065Z 2021-08-05 15:36:04.932  INFO 7 --- [           main] com.hazelcast.core.LifecycleService      : [10.32.0.18]:5701 [dev] [3.12.7] [10.32.0.18]:5701 is SHUTDOWN\n2021-08-05T15:36:05.038848261Z 2021-08-05 15:36:05.038  WARN 7 --- [           main] com.hazelcast.util.PhoneHome             : [10.32.0.18]:5701 [dev] [3.12.7] Could not schedule phone home task! Most probably Hazelcast failed to start.\n2021-08-05T15:36:05.04047403Z 2021-08-05 15:36:05.039  INFO 7 --- [           main] com.hazelcast.instance.Node              : [10.32.0.18]:5701 [dev] [3.12.7] Node is already shutting down... Waiting for shutdown process to complete...\n2021-08-05T15:36:05.042475292Z 2021-08-05 15:36:05.042  WARN 7 --- [           main] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is java.lang.RuntimeException: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'servletEndpointRegistrar' defined in class path resource [org/springframework/boot/actuate/autoconfigure/endpoint/web/ServletEndpointManagementContextConfiguration$WebMvcServletEndpointManagementContextConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar]: Factory method 'servletEndpointRegistrar' threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'healthEndpoint' defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthEndpointConfiguration.class]: Unsatisfied dependency expressed through method 'healthEndpoint' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'healthContributorRegistry' defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthEndpointConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.health.HealthContributorRegistry]: Factory method 'healthContributorRegistry' threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'hazelcastHealthContributor' defined in class path resource [org/springframework/boot/actuate/autoconfigure/hazelcast/HazelcastHealthContributorAutoConfiguration.class]: Unsatisfied dependency expressed through method 'hazelcastHealthContributor' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'hazelcastInstance' defined in class path resource [.../.../.../.../config/CacheConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.hazelcast.core.HazelcastInstance]: Factory method 'hazelcastInstance' threw exception; nested exception is java.lang.IllegalStateException: Node failed to start!\n2021-08-05T15:36:05.042724688Z 2021-08-05 15:36:05.042  INFO 7 --- [           main] x.x.x.x.config.CacheConfiguration      : Closing Cache Manager\n2021-08-05T15:36:05.254458785Z 2021-08-05 15:36:05.253 ERROR 7 --- [           main] o.s.boot.SpringApplication               : Application run failed\n2021-08-05T15:36:05.254488484Z \n2021-08-05T15:36:05.254494684Z org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is java.lang.RuntimeException: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'servletEndpointRegistrar' defined in class path resource [org/springframework/boot/actuate/autoconfigure/endpoint/web/ServletEndpointManagementContextConfiguration$WebMvcServletEndpointManagementContextConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.endpoint.web.ServletEndpointRegistrar]: Factory method 'servletEndpointRegistrar' threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'healthEndpoint' defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthEndpointConfiguration.class]: Unsatisfied dependency expressed through method 'healthEndpoint' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'healthContributorRegistry' defined in class path resource [org/springframework/boot/actuate/autoconfigure/health/HealthEndpointConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.springframework.boot.actuate.health.HealthContributorRegistry]: Factory method 'healthContributorRegistry' threw exception; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'hazelcastHealthContributor' defined in class path resource [org/springframework/boot/actuate/autoconfigure/hazelcast/HazelcastHealthContributorAutoConfiguration.class]: Unsatisfied dependency expressed through method 'hazelcastHealthContributor' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'hazelcastInstance' defined in class path resource [.../.../.../.../config/CacheConfiguration.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [com.hazelcast.core.HazelcastInstance]: Factory method 'hazelcastInstance' threw exception; nested exception is java.lang.IllegalStateException: Node failed to start!\n2021-08-05T15:36:05.254519084Z  at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:156)\n2021-08-05T15:36:05.254522883Z  at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:544)\n2021-08-05T15:36:05.254526583Z  at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:141)\n2021-08-05T15:36:05.254530283Z  at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:747)\n2021-08-05T15:36:05.254534083Z  at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:397)\n2021-08-05T15:36:05.254537583Z  at org.springframework.boot.SpringApplication.run(SpringApplication.java:315)\n</code></pre>\n<p>CacheConfiguration class</p>\n<pre><code>import io.github.jhipster.config.JHipsterProperties;\n\nimport com.hazelcast.config.*;\nimport com.hazelcast.core.HazelcastInstance;\nimport com.hazelcast.core.Hazelcast;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\nimport org.springframework.boot.autoconfigure.web.ServerProperties;\n\nimport org.springframework.cache.CacheManager;\n\nimport org.springframework.boot.info.BuildProperties;\nimport org.springframework.boot.info.GitProperties;\nimport org.springframework.cache.interceptor.KeyGenerator;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport io.github.jhipster.config.cache.PrefixedKeyGenerator;\nimport org.springframework.cache.annotation.EnableCaching;\nimport org.springframework.cloud.client.ServiceInstance;\nimport org.springframework.cloud.client.discovery.DiscoveryClient;\nimport org.springframework.cloud.client.serviceregistry.Registration;\nimport org.springframework.context.annotation.*;\nimport org.springframework.core.env.Environment;\nimport org.springframework.core.env.Profiles;\n\nimport javax.annotation.PreDestroy;\n\n@Configuration\n@EnableCaching\npublic class CacheConfiguration {\n    private GitProperties gitProperties;\n    private BuildProperties buildProperties;\n\n    private final Logger log = LoggerFactory.getLogger(CacheConfiguration.class);\n\n    private final Environment env;\n\n    private final ServerProperties serverProperties;\n\n    private final DiscoveryClient discoveryClient;\n\n    private Registration registration;\n\n    public CacheConfiguration(Environment env, ServerProperties serverProperties, DiscoveryClient discoveryClient) {\n        this.env = env;\n        this.serverProperties = serverProperties;\n        this.discoveryClient = discoveryClient;\n    }\n\n    @Autowired(required = false)\n    public void setRegistration(Registration registration) {\n        this.registration = registration;\n    }\n\n    @PreDestroy\n    public void destroy() {\n        log.info(&quot;Closing Cache Manager&quot;);\n        Hazelcast.shutdownAll();\n    }\n\n    @Bean\n    public CacheManager cacheManager(HazelcastInstance hazelcastInstance) {\n        log.debug(&quot;Starting HazelcastCacheManager&quot;);\n        return new com.hazelcast.spring.cache.HazelcastCacheManager(hazelcastInstance);\n    }\n\n    @Bean\n    public HazelcastInstance hazelcastInstance(JHipsterProperties jHipsterProperties) {\n        log.debug(&quot;Configuring Hazelcast&quot;);\n        HazelcastInstance hazelCastInstance = Hazelcast.getHazelcastInstanceByName(&quot;bpm&quot;);\n        if (hazelCastInstance != null) {\n            log.debug(&quot;Hazelcast already initialized&quot;);\n            return hazelCastInstance;\n        }\n        Config config = new Config();\n        config.setInstanceName(&quot;bpm&quot;);\n        config.getNetworkConfig().getJoin().getMulticastConfig().setEnabled(false);\n        if (this.registration == null) {\n            log.warn(&quot;No discovery service is set up, Hazelcast cannot create a cluster.&quot;);\n        } else {\n            // The serviceId is by default the application's name,\n            // see the &quot;spring.application.name&quot; standard Spring property\n            String serviceId = registration.getServiceId();\n            log.debug(&quot;Configuring Hazelcast clustering for instanceId: {}&quot;, serviceId);\n            // In development, everything goes through 127.0.0.1, with a different port\n            if (env.acceptsProfiles(Profiles.of(JHipsterConstants.SPRING_PROFILE_DEVELOPMENT))) {\n                log.debug(&quot;Application is running with the \\&quot;dev\\&quot; profile, Hazelcast &quot; +\n                          &quot;cluster will only work with localhost instances&quot;);\n\n                System.setProperty(&quot;hazelcast.local.localAddress&quot;, &quot;127.0.0.1&quot;);\n                config.getNetworkConfig().setPort(serverProperties.getPort() + 5701);\n                config.getNetworkConfig().getJoin().getTcpIpConfig().setEnabled(true);\n                for (ServiceInstance instance : discoveryClient.getInstances(serviceId)) {\n                    String clusterMember = &quot;127.0.0.1:&quot; + (instance.getPort() + 5701);\n                    log.debug(&quot;Adding Hazelcast (dev) cluster member {}&quot;, clusterMember);\n                    config.getNetworkConfig().getJoin().getTcpIpConfig().addMember(clusterMember);\n                }\n            } else { // Production configuration, one host per instance all using port 5701\n                config.getNetworkConfig().setPort(5701);\n                config.getNetworkConfig().getJoin().getTcpIpConfig().setEnabled(true);\n                for (ServiceInstance instance : discoveryClient.getInstances(serviceId)) {\n                    String clusterMember = instance.getHost() + &quot;:5701&quot;;\n                    log.debug(&quot;Adding Hazelcast (prod) cluster member {}&quot;, clusterMember);\n                    config.getNetworkConfig().getJoin().getTcpIpConfig().addMember(clusterMember);\n                }\n            }\n        }\n        config.getMapConfigs().put(&quot;default&quot;, initializeDefaultMapConfig(jHipsterProperties));\n\n        // Full reference is available at: https://docs.hazelcast.org/docs/management-center/3.9/manual/html/Deploying_and_Starting.html\n        config.setManagementCenterConfig(initializeDefaultManagementCenterConfig(jHipsterProperties));\n        config.getMapConfigs().put(&quot;xxx.xxx.xxx.xxx.domain.*&quot;, initializeDomainMapConfig(jHipsterProperties));\n        return Hazelcast.newHazelcastInstance(config);\n    }\n\n    private ManagementCenterConfig initializeDefaultManagementCenterConfig(JHipsterProperties jHipsterProperties) {\n        ManagementCenterConfig managementCenterConfig = new ManagementCenterConfig();\n        managementCenterConfig.setEnabled(jHipsterProperties.getCache().getHazelcast().getManagementCenter().isEnabled());\n        managementCenterConfig.setUrl(jHipsterProperties.getCache().getHazelcast().getManagementCenter().getUrl());\n        managementCenterConfig.setUpdateInterval(jHipsterProperties.getCache().getHazelcast().getManagementCenter().getUpdateInterval());\n        return managementCenterConfig;\n    }\n\n    private MapConfig initializeDefaultMapConfig(JHipsterProperties jHipsterProperties) {\n        MapConfig mapConfig = new MapConfig();\n\n        /*\n        Number of backups. If 1 is set as the backup-count for example,\n        then all entries of the map will be copied to another JVM for\n        fail-safety. Valid numbers are 0 (no backup), 1, 2, 3.\n        */\n        mapConfig.setBackupCount(jHipsterProperties.getCache().getHazelcast().getBackupCount());\n\n        /*\n        Valid values are:\n        NONE (no eviction),\n        LRU (Least Recently Used),\n        LFU (Least Frequently Used).\n        NONE is the default.\n        */\n        mapConfig.setEvictionPolicy(EvictionPolicy.LRU);\n\n        /*\n        Maximum size of the map. When max size is reached,\n        map is evicted based on the policy defined.\n        Any integer between 0 and Integer.MAX_VALUE. 0 means\n        Integer.MAX_VALUE. Default is 0.\n        */\n        mapConfig.setMaxSizeConfig(new MaxSizeConfig(0, MaxSizeConfig.MaxSizePolicy.USED_HEAP_SIZE));\n\n        return mapConfig;\n    }\n\n    private MapConfig initializeDomainMapConfig(JHipsterProperties jHipsterProperties) {\n        MapConfig mapConfig = new MapConfig();\n        mapConfig.setTimeToLiveSeconds(jHipsterProperties.getCache().getHazelcast().getTimeToLiveSeconds());\n        return mapConfig;\n    }\n\n    @Autowired(required = false)\n    public void setGitProperties(GitProperties gitProperties) {\n        this.gitProperties = gitProperties;\n    }\n\n    @Autowired(required = false)\n    public void setBuildProperties(BuildProperties buildProperties) {\n        this.buildProperties = buildProperties;\n    }\n\n    @Bean\n    public KeyGenerator keyGenerator() {\n        return new PrefixedKeyGenerator(this.gitProperties, this.buildProperties);\n    }\n}\n</code></pre>\n<p><code>pom.xml</code> version of dependencies</p>\n<pre><code>&lt;maven.version&gt;3.3.9&lt;/maven.version&gt;\n&lt;java.version&gt;1.8&lt;/java.version&gt;\n</code></pre>\n<p>Hazelcast dependencies:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\n    &lt;artifactId&gt;hazelcast&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\n    &lt;artifactId&gt;hazelcast-hibernate53&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.hazelcast&lt;/groupId&gt;\n    &lt;artifactId&gt;hazelcast-spring&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>please help.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8483,"page":1509,"page_size":100}
