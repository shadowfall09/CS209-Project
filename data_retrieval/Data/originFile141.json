{"items":[{"tags":["python","java","pdf","jupyter-notebook","tabula"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696608328,"post_id":77245524,"comment_id":136179581,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":25969259,"reputation":1,"user_id":19684758,"display_name":"Mr.Child"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696604734,"creation_date":1696604734,"question_id":77245524,"body_markdown":"I&#39;m running tabula.read_pdf function on Jupyter Notebook. It keeps telling me died kernel. Any ideas how to solve this? Thank you so much!\r\n\r\nI tried to install the package on jupyter notebook, and install java on conda prompt. I was trying to extract dataframe from pdf","title":"Died kernel when running tabula","body":"<p>I'm running tabula.read_pdf function on Jupyter Notebook. It keeps telling me died kernel. Any ideas how to solve this? Thank you so much!</p>\n<p>I tried to install the package on jupyter notebook, and install java on conda prompt. I was trying to extract dataframe from pdf</p>\n"},{"tags":["java","selenium","robotframework"],"answers":[{"tags":[],"owner":{"account_id":2287318,"reputation":1315,"user_id":2011041,"accept_rate":43,"display_name":"Floella"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499383615,"creation_date":1499383615,"answer_id":44960330,"question_id":44959866,"body_markdown":"Actually, I found a solution, but I&#39;m not sure it&#39;s the right approach: \r\n\r\n\r\n    public class Customized {\r\n     \r\n    \tprivate static Selenium2Library s;\r\n    \tprivate BrowserManagement b;\r\n    \tprivate WebDriver driver;\r\n    \t\r\n    \tpublic Customized() throws ScriptException {\r\n    \t\ttry {\r\n    \t\t\tCustomized.s = (Selenium2Library) Selenium2Library.getLibraryInstance();\r\n    \t\t} catch (javax.script.ScriptException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\tb = s.getBrowserManagement();\r\n            driver=b.getCurrentWebDriver();\r\n        }\r\n    }\r\n\r\nNow the selenium methods are available from the driver object. However, there might be a better way to do it, as there&#39;s this message in the `javax.script.ScriptException` exception: &quot;*Access restriction: The type &#39;ScriptException&#39; is not API (restriction on required library &#39;C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar&#39;)*&quot;","title":"Robot framework: how can I get current instance of selenium webdriver to write my own keywords?","body":"<p>Actually, I found a solution, but I'm not sure it's the right approach: </p>\n\n<pre><code>public class Customized {\n\n    private static Selenium2Library s;\n    private BrowserManagement b;\n    private WebDriver driver;\n\n    public Customized() throws ScriptException {\n        try {\n            Customized.s = (Selenium2Library) Selenium2Library.getLibraryInstance();\n        } catch (javax.script.ScriptException e) {\n            e.printStackTrace();\n        }\n        b = s.getBrowserManagement();\n        driver=b.getCurrentWebDriver();\n    }\n}\n</code></pre>\n\n<p>Now the selenium methods are available from the driver object. However, there might be a better way to do it, as there's this message in the <code>javax.script.ScriptException</code> exception: \"<em>Access restriction: The type 'ScriptException' is not API (restriction on required library 'C:\\Program Files\\Java\\jdk1.8.0_131\\jre\\lib\\rt.jar')</em>\"</p>\n"},{"comments":[{"owner":{"account_id":5525564,"reputation":1044,"user_id":4402572,"display_name":"Jeff Wright"},"score":0,"creation_date":1596201966,"post_id":48067221,"comment_id":111744401,"body_markdown":"Any idea how this could be done for getting the current instance of application running from Robot&#39;s AppiumLibrary? I need to write some custom keywords for Appium&#39;s TouchAction; Robot&#39;s AppiumLibrary does not expose this API.","body":"Any idea how this could be done for getting the current instance of application running from Robot&#39;s AppiumLibrary? I need to write some custom keywords for Appium&#39;s TouchAction; Robot&#39;s AppiumLibrary does not expose this API."},{"owner":{"account_id":5525564,"reputation":1044,"user_id":4402572,"display_name":"Jeff Wright"},"score":0,"creation_date":1596210981,"post_id":48067221,"comment_id":111748866,"body_markdown":"Answer to my own question: For Appium, you can get the current app by calling:\n\nBuiltIn().get_library_instance(&#39;AppiumLibrary&#39;)._current_application()","body":"Answer to my own question: For Appium, you can get the current app by calling:  BuiltIn().get_library_instance(&#39;AppiumLibrary&#39;)._current_app&zwnj;&#8203;lication()"}],"tags":[],"owner":{"account_id":77276,"reputation":1440,"user_id":220671,"display_name":"romanlv"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1514923846,"creation_date":1514923846,"answer_id":48067221,"question_id":44959866,"body_markdown":"in python it can be done with following code\r\n\r\n\r\n\r\n    from robot.libraries.BuiltIn import BuiltIn\r\n    \r\n    \r\n    def _browser(self):\r\n        return BuiltIn().get_library_instance(&#39;Selenium2Library&#39;)._current_browser()\r\n\r\n","title":"Robot framework: how can I get current instance of selenium webdriver to write my own keywords?","body":"<p>in python it can be done with following code</p>\n\n<pre><code>from robot.libraries.BuiltIn import BuiltIn\n\n\ndef _browser(self):\n    return BuiltIn().get_library_instance('Selenium2Library')._current_browser()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6957722,"reputation":690,"user_id":5338256,"accept_rate":21,"display_name":"Michal"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636362026,"creation_date":1636362026,"answer_id":69880891,"question_id":44959866,"body_markdown":"For newer Selenium version (4.0) the following snippet can be used:\r\n\r\n    class SelCustomLib():\r\n\r\n    def get_browser_driver(self):\r\n        return BuiltIn().get_library_instance(&#39;SeleniumLibrary&#39;).driver","title":"Robot framework: how can I get current instance of selenium webdriver to write my own keywords?","body":"<p>For newer Selenium version (4.0) the following snippet can be used:</p>\n<pre><code>class SelCustomLib():\n\ndef get_browser_driver(self):\n    return BuiltIn().get_library_instance('SeleniumLibrary').driver\n</code></pre>\n"},{"comments":[{"owner":{"account_id":18999437,"reputation":2461,"user_id":13867124,"display_name":"AztecCodes"},"score":1,"creation_date":1696413354,"post_id":77208967,"comment_id":136148608,"body_markdown":"Welcome to Stack Overflow! Thank you for your answer. Please provide more details about your solution. Code snippets, high quality descriptions, or any relevant information would be great. Clear and concise answers are more helpful and easier to understand for everyone. [Edit](https://stackoverflow.com/posts/77045362/edit) your answer with specifics to raise the quality of your answer. For more information: [How To: Write good answers](https://stackoverflow.com/help/how-to-answer). Happy coding!","body":"Welcome to Stack Overflow! Thank you for your answer. Please provide more details about your solution. Code snippets, high quality descriptions, or any relevant information would be great. Clear and concise answers are more helpful and easier to understand for everyone. <a href=\"https://stackoverflow.com/posts/77045362/edit\">Edit</a> your answer with specifics to raise the quality of your answer. For more information: <a href=\"https://stackoverflow.com/help/how-to-answer\">How To: Write good answers</a>. Happy coding!"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696413357,"post_id":77208967,"comment_id":136148609,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77208967/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":25078050,"reputation":1,"user_id":18931214,"display_name":"Devendra Shakya"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696604611,"creation_date":1696124843,"answer_id":77208967,"question_id":44959866,"body_markdown":"Here if you want to get instance of the webelement from robot framework and use into python code for selenium method..\r\n\r\n\r\n${element} =    Get WebElement    ${xapth_of_element}\r\n def get_captcha_text(self,element):\r\n     with open(&#39;logo.jpg&#39;, &#39;wb&#39;) as file:\r\n     file.write(element.screenshot_as_png)","title":"Robot framework: how can I get current instance of selenium webdriver to write my own keywords?","body":"<p>Here if you want to get instance of the webelement from robot framework and use into python code for selenium method..</p>\n<p>${element} =    Get WebElement    ${xapth_of_element}\ndef get_captcha_text(self,element):\nwith open('logo.jpg', 'wb') as file:\nfile.write(element.screenshot_as_png)</p>\n"}],"owner":{"account_id":2287318,"reputation":1315,"user_id":2011041,"accept_rate":43,"display_name":"Floella"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5015,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":4,"score":3,"last_activity_date":1696604611,"creation_date":1499380226,"question_id":44959866,"body_markdown":"I have a maven-powered Robot-framework project in java that uses selenium 3.4.0 dependency, robotframework 3.0.2 dependency, markusbernhardt&#39;s selenium2library version 1.4.0.8, and robotframework-maven-plugin version 1.4.7.\r\n\r\nMy robot tests live in the *src/main/test/robotframework/acceptance* folder, while in *src/main/java/mypackage* I created a Customized.java file to set a system property for the browser driver path (I then import this library in my tests:\r\n\r\n    *** Settings ***\r\n    Library  \t\t\tSelenium2Library\r\n    Library  \t\t\tmypackage.Customized\r\n\r\nThis works perfectly. But now I&#39;d like to implement my own keywords to extend Selenium2Library. But I&#39;m not sure how to obtain the current WebDriver instance that is running.\r\n\r\nI mean, if I weren&#39;t using Robot and just plain Selenium, I&#39;d do something like this:\r\n\r\n    WebDriver driver=new ChromeDriver();\r\n    driver.doSomething();\r\n\r\nHowever, in this case I don&#39;t want to instantiate a new WebDriver but instead get the one that is currently running (which Robot automatically instantiated). How can I do that?\r\n\r\nI&#39;ve so far created a `Selenium2Library` object and set it with the value returned by `Selenium2Library.getLibraryInstance();` but that&#39;s not giving me access to selenium&#39;s methods (e.g.: getCurrentUrl() is not listed).\r\n","title":"Robot framework: how can I get current instance of selenium webdriver to write my own keywords?","body":"<p>I have a maven-powered Robot-framework project in java that uses selenium 3.4.0 dependency, robotframework 3.0.2 dependency, markusbernhardt's selenium2library version 1.4.0.8, and robotframework-maven-plugin version 1.4.7.</p>\n\n<p>My robot tests live in the <em>src/main/test/robotframework/acceptance</em> folder, while in <em>src/main/java/mypackage</em> I created a Customized.java file to set a system property for the browser driver path (I then import this library in my tests:</p>\n\n<pre><code>*** Settings ***\nLibrary             Selenium2Library\nLibrary             mypackage.Customized\n</code></pre>\n\n<p>This works perfectly. But now I'd like to implement my own keywords to extend Selenium2Library. But I'm not sure how to obtain the current WebDriver instance that is running.</p>\n\n<p>I mean, if I weren't using Robot and just plain Selenium, I'd do something like this:</p>\n\n<pre><code>WebDriver driver=new ChromeDriver();\ndriver.doSomething();\n</code></pre>\n\n<p>However, in this case I don't want to instantiate a new WebDriver but instead get the one that is currently running (which Robot automatically instantiated). How can I do that?</p>\n\n<p>I've so far created a <code>Selenium2Library</code> object and set it with the value returned by <code>Selenium2Library.getLibraryInstance();</code> but that's not giving me access to selenium's methods (e.g.: getCurrentUrl() is not listed).</p>\n"},{"tags":["java","unique","hashcode"],"comments":[{"owner":{"account_id":286112,"reputation":11570,"user_id":585185,"display_name":"Jems"},"score":0,"creation_date":1390766711,"post_id":21368492,"comment_id":32222778,"body_markdown":"If you can be sure of some small upper limit of how many objects you have, you can check for a collision each time you calculate an id. If you find one, you could add 1 until you got a unique value, for instance, being careful of integer overflow. Or just make the ids 1,2,3, ...","body":"If you can be sure of some small upper limit of how many objects you have, you can check for a collision each time you calculate an id. If you find one, you could add 1 until you got a unique value, for instance, being careful of integer overflow. Or just make the ids 1,2,3, ..."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1390769204,"post_id":21368492,"comment_id":32223642,"body_markdown":"There is no `Math.abs(Integer.MIN_VALUE)` as `-MIN_VALUE == MIN_VALUE == 0x8000_0000`. Use `hc &amp; Integer.MAX_VALUE` instead if you remain with your strategy.","body":"There is no <code>Math.abs(Integer.MIN_VALUE)</code> as <code>-MIN_VALUE == MIN_VALUE == 0x8000_0000</code>. Use <code>hc &amp; Integer.MAX_VALUE</code> instead if you remain with your strategy."}],"answers":[{"tags":[],"owner":{"account_id":97082,"reputation":375036,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1390766682,"creation_date":1390766682,"answer_id":21368526,"question_id":21368492,"body_markdown":"You already can get two strings with the same hashcode. This should be obvious if you think that you have an infinite number of strings and only 2^32 possible hashcodes.\r\n\r\nYou just make it a little more probable when taking the absolute value. The risk is small but if you **need** an unique id, this isn&#39;t the right approach.","title":"Using hashcode for a unique ID","body":"<p>You already can get two strings with the same hashcode. This should be obvious if you think that you have an infinite number of strings and only 2^32 possible hashcodes.</p>\n\n<p>You just make it a little more probable when taking the absolute value. The risk is small but if you <strong>need</strong> an unique id, this isn't the right approach.</p>\n"},{"comments":[{"owner":{"account_id":92537,"reputation":6275,"user_id":253575,"accept_rate":83,"display_name":"IcedDante"},"score":0,"creation_date":1390767781,"post_id":21368609,"comment_id":32223152,"body_markdown":"Interesting. Like I said, my data sets shouldn&#39;t get bigger than 30-50 values (and this would be for a system that would not scale) so I guess I would be safe here.","body":"Interesting. Like I said, my data sets shouldn&#39;t get bigger than 30-50 values (and this would be for a system that would not scale) so I guess I would be safe here."},{"owner":{"account_id":5049,"reputation":23450,"user_id":7918,"accept_rate":99,"display_name":"jb."},"score":0,"creation_date":1390768188,"post_id":21368609,"comment_id":32223284,"body_markdown":"Yes. But for a system with 30-50 values any other scheme would also work... and most would be safer. If you don&#39;t plan to have more than 50 values just assingn unique id&#39;s by hand.","body":"Yes. But for a system with 30-50 values any other scheme would also work... and most would be safer. If you don&#39;t plan to have more than 50 values just assingn unique id&#39;s by hand."}],"tags":[],"owner":{"account_id":5049,"reputation":23450,"user_id":7918,"accept_rate":99,"display_name":"jb."},"comment_count":2,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1696604340,"creation_date":1390767186,"answer_id":21368609,"question_id":21368492,"body_markdown":"Hashes are not unique, hence they are not appropriate for **uniqueId**.\r\n\r\nAs to probability of hash collision, you could read about [birthday paradox][1]. Actually (from what I recall) when drawing from an uniform distribution of N values, you should expect collision after drawing `$\\sqrt(N)$` (you could get collision much earlier). The problem is that Java&#39;s implementation of `hashCode` (and especially when hashing short strings) doesn&#39;t provide uniform distribution, so you&#39;ll get collision much earlier. \r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Birthday_problem","title":"Using hashcode for a unique ID","body":"<p>Hashes are not unique, hence they are not appropriate for <strong>uniqueId</strong>.</p>\n<p>As to probability of hash collision, you could read about <a href=\"http://en.wikipedia.org/wiki/Birthday_problem\" rel=\"nofollow noreferrer\">birthday paradox</a>. Actually (from what I recall) when drawing from an uniform distribution of N values, you should expect collision after drawing <code>$\\sqrt(N)$</code> (you could get collision much earlier). The problem is that Java's implementation of <code>hashCode</code> (and especially when hashing short strings) doesn't provide uniform distribution, so you'll get collision much earlier.</p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415951,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"comment_count":0,"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1439224879,"creation_date":1390767262,"answer_id":21368620,"question_id":21368492,"body_markdown":"Hash codes can be thought of as pseudo-random numbers. Statistically, with a positive `int` hash code the chance of a collision between any two elements reaches 50% when the population size is about 54K (and 77K for *any* `int`). See [Birthday Problem Probability Table][1] for collision probabilities of various hash code sizes. \r\n\r\nAlso, your idea to use `Math.abs()` alone is flawed: It does not always return a positive number! In 2&#39;s compliment arithmetic, the absolute value of `Integer.MIN_VALUE` is itself!  Famously, the hash code of `&quot;polygenelubricants&quot;` is this value.\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Birthday_problem#Probability_table","title":"Using hashcode for a unique ID","body":"<p>Hash codes can be thought of as pseudo-random numbers. Statistically, with a positive <code>int</code> hash code the chance of a collision between any two elements reaches 50% when the population size is about 54K (and 77K for <em>any</em> <code>int</code>). See <a href=\"https://en.wikipedia.org/wiki/Birthday_problem#Probability_table\" rel=\"noreferrer\">Birthday Problem Probability Table</a> for collision probabilities of various hash code sizes. </p>\n\n<p>Also, your idea to use <code>Math.abs()</code> alone is flawed: It does not always return a positive number! In 2's compliment arithmetic, the absolute value of <code>Integer.MIN_VALUE</code> is itself!  Famously, the hash code of <code>\"polygenelubricants\"</code> is this value.</p>\n"},{"tags":[],"owner":{"account_id":3910638,"reputation":6001,"user_id":3236102,"accept_rate":80,"display_name":"Dakkaron"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1390769300,"creation_date":1390769300,"answer_id":21368987,"question_id":21368492,"body_markdown":"What you can do when you only have 30-50 values as you said is register each String you get into an HashMap together with a running counter as value:\r\n\r\n    HashMap StringMap = new HashMap&lt;String,Integer&gt;();\r\n    \r\n    StringMap.add(&quot;Test&quot;,1);\r\n    StringMap.add(&quot;AnotherTest&quot;,2);\r\n\r\nYou can then get your unique ID by calling this:\r\n\r\n    StringMap.get(&quot;Test&quot;); //returns 1","title":"Using hashcode for a unique ID","body":"<p>What you can do when you only have 30-50 values as you said is register each String you get into an HashMap together with a running counter as value:</p>\n\n<pre><code>HashMap StringMap = new HashMap&lt;String,Integer&gt;();\n\nStringMap.add(\"Test\",1);\nStringMap.add(\"AnotherTest\",2);\n</code></pre>\n\n<p>You can then get your unique ID by calling this:</p>\n\n<pre><code>StringMap.get(\"Test\"); //returns 1\n</code></pre>\n"}],"owner":{"account_id":92537,"reputation":6275,"user_id":253575,"accept_rate":83,"display_name":"IcedDante"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17434,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":21368620,"answer_count":4,"score":14,"last_activity_date":1696604340,"creation_date":1390766507,"question_id":21368492,"body_markdown":"I am working in a java-based system where I need to set an id for certain elements in the visual display. One category of elements is Strings, so I decided to use the String.hashCode() method to get a unique identifier for these elements.\r\n\r\nThe problem I ran into, however, is that the system I am working in borks if the id is negative and `String.hashCode` often returns negative values. One quick solution is to just use Math.abs() around the hashcode call to guarantee a positive result. What I was wondering about this approach is what are the chances of two distinct elements having the same hashcode?\r\n\r\nFor example, if one string returns a hashcode of -10 and another string returns a hashcode of 10 an error would occur. In my system we&#39;re talking about collections of objects that aren&#39;t more than 30 elements large typically so I don&#39;t think this would really be an issue, but I am curious as to what the math says.","title":"Using hashcode for a unique ID","body":"<p>I am working in a java-based system where I need to set an id for certain elements in the visual display. One category of elements is Strings, so I decided to use the String.hashCode() method to get a unique identifier for these elements.</p>\n\n<p>The problem I ran into, however, is that the system I am working in borks if the id is negative and <code>String.hashCode</code> often returns negative values. One quick solution is to just use Math.abs() around the hashcode call to guarantee a positive result. What I was wondering about this approach is what are the chances of two distinct elements having the same hashcode?</p>\n\n<p>For example, if one string returns a hashcode of -10 and another string returns a hashcode of 10 an error would occur. In my system we're talking about collections of objects that aren't more than 30 elements large typically so I don't think this would really be an issue, but I am curious as to what the math says.</p>\n"},{"tags":["java","gradle","launch4j"],"comments":[{"owner":{"account_id":19576930,"reputation":23,"user_id":18430044,"display_name":"tochitopor"},"score":0,"creation_date":1696866266,"post_id":77245363,"comment_id":136204641,"body_markdown":"I solved the problem by updating the plugin to the latest version. Although you cannot specify jar path in it. I also added header Type = &#39;console&#39; to launch4j{}","body":"I solved the problem by updating the plugin to the latest version. Although you cannot specify jar path in it. I also added header Type = &#39;console&#39; to launch4j{}"}],"owner":{"account_id":19576930,"reputation":23,"user_id":18430044,"display_name":"tochitopor"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1696603857,"creation_date":1696603237,"question_id":77245363,"body_markdown":"I want to use gradle to create from my code .jar, and then from .jar create .exe. I have a simple Java code \r\n\r\n```\r\npackage project;\r\n\r\npublic class main {\r\n    public static void main(String[] args) {\r\n        System.out.println(&quot;hello&quot;);\r\n    }\r\n}\r\n```\r\n\r\nand a build.gradle file. \r\n\r\n\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n    id &#39;idea&#39;\r\n    id &#39;com.github.johnrengelman.shadow&#39;\r\n    id &#39;edu.sc.seis.launch4j&#39;\r\n}\r\n\r\njar.enabled = false\r\n\r\ngroup &#39;project&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\n\r\njava {\r\n    sourceCompatibility = 1.8\r\n}\r\n\r\nrepositories {\r\n}\r\n\r\ndependencies {\r\n}\r\n\r\nshadowJar {\r\n    archiveBaseName.set(&#39;toJarToExeFat&#39;)\r\n    archiveVersion.set(&#39;0.1&#39;)\r\n    archiveClassifier.set(&#39;&#39;)\r\n    manifest {\r\n        attributes &#39;Main-Class&#39;: &#39;project.main&#39;\r\n    }\r\n}\r\n\r\ntasks.shadowJar.dependsOn tasks.build\r\n\r\ncreateExe {\r\n    outfile = &#39;test.exe&#39;\r\n    mainClassName = &#39;project.main&#39;\r\n    jar = &quot;C:/work/java/toJarToExe/build/libs/toJarToExeFat-0.1.jar&quot;\r\n}\r\n\r\ntasks.createExe.dependsOn tasks.shadowJar\r\n```\r\n\r\n\r\nIt works, but when I run .exe, I get &quot;This application requires Java Runtime Environment 1.8.0&quot;.\r\n\r\nI was expecting to receive .exe as if I wrote this program in C","title":"Create .exe from .jar with gradle","body":"<p>I want to use gradle to create from my code .jar, and then from .jar create .exe. I have a simple Java code</p>\n<pre><code>package project;\n\npublic class main {\n    public static void main(String[] args) {\n        System.out.println(&quot;hello&quot;);\n    }\n}\n</code></pre>\n<p>and a build.gradle file.</p>\n<pre><code>plugins {\n    id 'java'\n    id 'idea'\n    id 'com.github.johnrengelman.shadow'\n    id 'edu.sc.seis.launch4j'\n}\n\njar.enabled = false\n\ngroup 'project'\nversion '1.0-SNAPSHOT'\n\n\njava {\n    sourceCompatibility = 1.8\n}\n\nrepositories {\n}\n\ndependencies {\n}\n\nshadowJar {\n    archiveBaseName.set('toJarToExeFat')\n    archiveVersion.set('0.1')\n    archiveClassifier.set('')\n    manifest {\n        attributes 'Main-Class': 'project.main'\n    }\n}\n\ntasks.shadowJar.dependsOn tasks.build\n\ncreateExe {\n    outfile = 'test.exe'\n    mainClassName = 'project.main'\n    jar = &quot;C:/work/java/toJarToExe/build/libs/toJarToExeFat-0.1.jar&quot;\n}\n\ntasks.createExe.dependsOn tasks.shadowJar\n</code></pre>\n<p>It works, but when I run .exe, I get &quot;This application requires Java Runtime Environment 1.8.0&quot;.</p>\n<p>I was expecting to receive .exe as if I wrote this program in C</p>\n"},{"tags":["java","lambda","interface","functional-interface"],"comments":[{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":1,"creation_date":1696601357,"post_id":77245098,"comment_id":136178175,"body_markdown":"`Runnable` does not throw `Exception` but [`Callable`](https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Callable.html) does.","body":"<code>Runnable</code> does not throw <code>Exception</code> but <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/concurrent/Callable.html\" rel=\"nofollow noreferrer\"><code>Callable</code></a> does."},{"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"score":0,"creation_date":1696601519,"post_id":77245098,"comment_id":136178212,"body_markdown":"@Pino Thanks but thats not my question","body":"@Pino Thanks but thats not my question"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1696602781,"post_id":77245098,"comment_id":136178484,"body_markdown":"Why design with a checked exception? Most think that checked exceptions are an antipattern these days","body":"Why design with a checked exception? Most think that checked exceptions are an antipattern these days"},{"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"score":0,"creation_date":1696602849,"post_id":77245098,"comment_id":136178501,"body_markdown":"@g00se its out of my control, some come from external library that are still throwing checked exceptions","body":"@g00se its out of my control, some come from external library that are still throwing checked exceptions"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1696603398,"post_id":77245098,"comment_id":136178633,"body_markdown":"@g00se Got a citation for that?  Checked exceptions are *very* useful.  I have lost hours upon hours of my time trying to figure out what exceptions certain frameworks (read: Spring) are capable of throwing.","body":"@g00se Got a citation for that?  Checked exceptions are <i>very</i> useful.  I have lost hours upon hours of my time trying to figure out what exceptions certain frameworks (read: Spring) are capable of throwing."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1696608041,"post_id":77245098,"comment_id":136179539,"body_markdown":"Well, I think I would actually say *some* rather than &quot;most&quot;. I can&#39;t find much, since SO seems to feature *very* heavily in searches including &quot;java&quot; ;) but here&#39;s one [thing](https://medium.com/@eob/checked-exceptions-considered-evil-f7d07e051fa6)","body":"Well, I think I would actually say <i>some</i> rather than &quot;most&quot;. I can&#39;t find much, since SO seems to feature <i>very</i> heavily in searches including &quot;java&quot; ;) but here&#39;s one <a href=\"https://medium.com/@eob/checked-exceptions-considered-evil-f7d07e051fa6\" rel=\"nofollow noreferrer\">thing</a>"}],"answers":[{"comments":[{"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"score":0,"creation_date":1696604869,"post_id":77245415,"comment_id":136178942,"body_markdown":"Hey, really nice! Addressed 90% of my question! Thank you! The only part remaining is what if the action throws multiple exceptions?","body":"Hey, really nice! Addressed 90% of my question! Thank you! The only part remaining is what if the action throws multiple exceptions?"},{"owner":{"account_id":9661155,"reputation":104,"user_id":22683654,"display_name":"Roma S"},"score":0,"creation_date":1696605660,"post_id":77245415,"comment_id":136179081,"body_markdown":"I think there is no way.  Probably do something like this: https://onlinegdb.com/qvwe3QhUi","body":"I think there is no way.  Probably do something like this: <a href=\"https://onlinegdb.com/qvwe3QhUi\" rel=\"nofollow noreferrer\">onlinegdb.com/qvwe3QhUi</a>"},{"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"score":0,"creation_date":1696606233,"post_id":77245415,"comment_id":136179179,"body_markdown":"That is really interesting! And I agree its a working solution, well done!","body":"That is really interesting! And I agree its a working solution, well done!"}],"tags":[],"owner":{"account_id":9661155,"reputation":104,"user_id":22683654,"display_name":"Roma S"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696603699,"creation_date":1696603699,"answer_id":77245415,"question_id":77245098,"body_markdown":"1. You can create interface that _throws_ generic exception:\r\n```java\r\n    interface MyInterface&lt;T extends Exception&gt; {\r\n        void run() throws T;\r\n    }\r\n```  \r\nAnd one that _not throws_\r\n```java\r\n    interface MySuperInterface extends MyInterface&lt;Exception&gt; {\r\n        void run();\r\n    }\r\n```\r\n**usage:**\r\n```java\r\nMyInterface&lt;IOException&gt; io = () -&gt; {throw new IOException();};\r\nMyInterface&lt;IllegalAccessException&gt; iae = () -&gt; {throw new IllegalAccessException();};\r\n```\r\n2. You also can create generic **consumer** method:  \r\n\r\n\r\nOne for _throws_:\r\n```java\r\n    public static &lt;T extends Exception&gt; void consume(MyInterface&lt;T&gt; action) throws T {\r\n        action.run();\r\n    }\r\n```\r\nOne for _no throws_:  \r\n```java\r\n    public static void consume(MySuperInterface action) {\r\n        action.run();\r\n    }\r\n```\r\n3. And you be able to do this:\r\n```java\r\n    public static void mainMethod() throws IOException, IllegalAccessException {\r\n        MyInterface&lt;IOException&gt; io = () -&gt; {throw new IOException();};\r\n        MyInterface&lt;IllegalAccessException&gt; iae = () -&gt; {throw new IllegalAccessException();};\r\n        MySuperInterface noException = () -&gt; {};\r\n        //can assign to runnable cause noException.run() doesnt throw an exception\r\n        Runnable runnable = noException::run;\r\n\r\n        consume(io);\r\n        consume(iae);\r\n        consume(noException);\r\n    }\r\n```\r\n4. Full example:\r\n\r\n```java\r\n    interface MyInterface&lt;T extends Exception&gt; {\r\n        void run() throws T;\r\n    }\r\n\r\n    interface MySuperInterface extends MyInterface&lt;Exception&gt; {\r\n        void run();\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        mainMethod();\r\n    }\r\n\r\n    public static void mainMethod() throws IOException, IllegalAccessException {\r\n        MyInterface&lt;IOException&gt; io = () -&gt; {throw new IOException();};\r\n        MyInterface&lt;IllegalAccessException&gt; iae = () -&gt; {throw new IllegalAccessException();};\r\n        MySuperInterface noException = () -&gt; {};\r\n        //can assign to runnable cause noException.run() doesnt throw an exception\r\n        Runnable runnable = noException::run;\r\n\r\n        consume(io);\r\n        consume(iae);\r\n        consume(noException);\r\n    }\r\n\r\n    public static &lt;T extends Exception&gt; void consume(MyInterface&lt;T&gt; action) throws T {\r\n        action.run();\r\n    }\r\n\r\n    public static void consume(MySuperInterface action) {\r\n        action.run();\r\n    }\r\n```\r\nHope this will help you","title":"How to write a Functional Interface that throws the same checked exception","body":"<ol>\n<li>You can create interface that <em>throws</em> generic exception:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>    interface MyInterface&lt;T extends Exception&gt; {\n        void run() throws T;\n    }\n</code></pre>\n<p>And one that <em>not throws</em></p>\n<pre class=\"lang-java prettyprint-override\"><code>    interface MySuperInterface extends MyInterface&lt;Exception&gt; {\n        void run();\n    }\n</code></pre>\n<p><strong>usage:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>MyInterface&lt;IOException&gt; io = () -&gt; {throw new IOException();};\nMyInterface&lt;IllegalAccessException&gt; iae = () -&gt; {throw new IllegalAccessException();};\n</code></pre>\n<ol start=\"2\">\n<li>You also can create generic <strong>consumer</strong> method:</li>\n</ol>\n<p>One for <em>throws</em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static &lt;T extends Exception&gt; void consume(MyInterface&lt;T&gt; action) throws T {\n        action.run();\n    }\n</code></pre>\n<p>One for <em>no throws</em>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void consume(MySuperInterface action) {\n        action.run();\n    }\n</code></pre>\n<ol start=\"3\">\n<li>And you be able to do this:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>    public static void mainMethod() throws IOException, IllegalAccessException {\n        MyInterface&lt;IOException&gt; io = () -&gt; {throw new IOException();};\n        MyInterface&lt;IllegalAccessException&gt; iae = () -&gt; {throw new IllegalAccessException();};\n        MySuperInterface noException = () -&gt; {};\n        //can assign to runnable cause noException.run() doesnt throw an exception\n        Runnable runnable = noException::run;\n\n        consume(io);\n        consume(iae);\n        consume(noException);\n    }\n</code></pre>\n<ol start=\"4\">\n<li>Full example:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>    interface MyInterface&lt;T extends Exception&gt; {\n        void run() throws T;\n    }\n\n    interface MySuperInterface extends MyInterface&lt;Exception&gt; {\n        void run();\n    }\n\n    public static void main(String[] args) throws Exception {\n        mainMethod();\n    }\n\n    public static void mainMethod() throws IOException, IllegalAccessException {\n        MyInterface&lt;IOException&gt; io = () -&gt; {throw new IOException();};\n        MyInterface&lt;IllegalAccessException&gt; iae = () -&gt; {throw new IllegalAccessException();};\n        MySuperInterface noException = () -&gt; {};\n        //can assign to runnable cause noException.run() doesnt throw an exception\n        Runnable runnable = noException::run;\n\n        consume(io);\n        consume(iae);\n        consume(noException);\n    }\n\n    public static &lt;T extends Exception&gt; void consume(MyInterface&lt;T&gt; action) throws T {\n        action.run();\n    }\n\n    public static void consume(MySuperInterface action) {\n        action.run();\n    }\n</code></pre>\n<p>Hope this will help you</p>\n"}],"owner":{"account_id":1736824,"reputation":5410,"user_id":1589188,"accept_rate":66,"display_name":"user1589188"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77245415,"answer_count":1,"score":0,"last_activity_date":1696603699,"creation_date":1696600979,"question_id":77245098,"body_markdown":"I know `Runnable` does not throw `Exception`, so I am trying to write a new interface that accepts method that can throw checked exception:\r\n\r\nInterface:\r\n\r\n    interface MyInterface {\r\n        void run() throws Exception;\r\n    }\r\n\r\nService:\r\n\r\n    public void serviceMethod(MyInterface action) throws Exception {\r\n        // ...\r\n        action.run();\r\n        // ...\r\n    }\r\n    public void serviceMethod(Runnable action) { // for methods don&#39;t throw checked exception\r\n        // ...\r\n        action.run();\r\n        // ...\r\n    }\r\n\r\nMain:\r\n\r\n    public void myMethod() throws Exception {\r\n        service.serviceMethod(this::someMethodThatThrowsCheckedException);\r\n        service.serviceMethod(this::someMethodThatDoesNotThrowCheckedException);\r\n    }\r\n\r\nThis all seems OK, but I don&#39;t want `myMethod()` to throw the base class `Exception`, I want it to throw the actual exception classes throw by `someMethodThatThrowsCheckedException`. e.g. if\r\n\r\n    public void someMethodThatThrowsCheckedException throws IOException, ClassNotFoundException {//...}\r\n\r\nThen I want `myMethod()` to throw `IOException, ClassNotFoundException`, instead of `Exception`. Just like the case when the method is called normally without going through the interface:\r\n\r\n    public void myMethod() throws IOException, ClassNotFoundException {\r\n        someMethodThatThrowsCheckedException();\r\n    }\r\n\r\nCan this be done in a generic way?","title":"How to write a Functional Interface that throws the same checked exception","body":"<p>I know <code>Runnable</code> does not throw <code>Exception</code>, so I am trying to write a new interface that accepts method that can throw checked exception:</p>\n<p>Interface:</p>\n<pre><code>interface MyInterface {\n    void run() throws Exception;\n}\n</code></pre>\n<p>Service:</p>\n<pre><code>public void serviceMethod(MyInterface action) throws Exception {\n    // ...\n    action.run();\n    // ...\n}\npublic void serviceMethod(Runnable action) { // for methods don't throw checked exception\n    // ...\n    action.run();\n    // ...\n}\n</code></pre>\n<p>Main:</p>\n<pre><code>public void myMethod() throws Exception {\n    service.serviceMethod(this::someMethodThatThrowsCheckedException);\n    service.serviceMethod(this::someMethodThatDoesNotThrowCheckedException);\n}\n</code></pre>\n<p>This all seems OK, but I don't want <code>myMethod()</code> to throw the base class <code>Exception</code>, I want it to throw the actual exception classes throw by <code>someMethodThatThrowsCheckedException</code>. e.g. if</p>\n<pre><code>public void someMethodThatThrowsCheckedException throws IOException, ClassNotFoundException {//...}\n</code></pre>\n<p>Then I want <code>myMethod()</code> to throw <code>IOException, ClassNotFoundException</code>, instead of <code>Exception</code>. Just like the case when the method is called normally without going through the interface:</p>\n<pre><code>public void myMethod() throws IOException, ClassNotFoundException {\n    someMethodThatThrowsCheckedException();\n}\n</code></pre>\n<p>Can this be done in a generic way?</p>\n"},{"tags":["java","hibernate","jpa","tomcat","websphere"],"comments":[{"owner":{"account_id":3192259,"reputation":117619,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1695298343,"post_id":77150088,"comment_id":136007530,"body_markdown":"The ejbthinclient does contain all those classes afaik.","body":"The ejbthinclient does contain all those classes afaik."},{"owner":{"account_id":71185,"reputation":1110,"user_id":205839,"accept_rate":81,"display_name":"Chris"},"score":0,"creation_date":1695650493,"post_id":77150088,"comment_id":136049075,"body_markdown":"it seem to be the case and ibm.ws.runtime &amp; ibm.ws.ejb seem to have them too.","body":"it seem to be the case and ibm.ws.runtime &amp; ibm.ws.ejb seem to have them too."}],"answers":[{"comments":[{"owner":{"account_id":71185,"reputation":1110,"user_id":205839,"accept_rate":81,"display_name":"Chris"},"score":0,"creation_date":1695321740,"post_id":77150325,"comment_id":136012517,"body_markdown":"Thanks it seem pointing in the right direction however, excluding 2.2 git a the following exception: nested exception is java.lang.NoClassDefFoundError: javax/persistence/TableGenerators.","body":"Thanks it seem pointing in the right direction however, excluding 2.2 git a the following exception: nested exception is java.lang.NoClassDefFoundError: javax/persistence/TableGenerators."},{"owner":{"account_id":71185,"reputation":1110,"user_id":205839,"accept_rate":81,"display_name":"Chris"},"score":0,"creation_date":1695321860,"post_id":77150325,"comment_id":136012534,"body_markdown":"I&#39;ve did the reverse where I excluded org.hibernate.javax.persistence:hibernate-jpa-2.1-api:jar:1.0.0.Final:compile, but this still give the nested exception is java.lang.NoSuchMethodError: javax.persistence.Table.indexes()","body":"I&#39;ve did the reverse where I excluded org.hibernate.javax.persistence:hibernate-jpa-2.1-api:jar:1.&zwnj;&#8203;0.0.Final:compile, but this still give the nested exception is java.lang.NoSuchMethodError: javax.persistence.Table.indexes()"},{"owner":{"account_id":11872577,"reputation":321,"user_id":8688388,"display_name":"M. Pour"},"score":1,"creation_date":1695328667,"post_id":77150325,"comment_id":136013620,"body_markdown":"You&#39;re welcome. As mentioned, you really need to find out how many JPA implementations are in your dependencies and exclude ALL of the ones except the one you want to use. Also make sure to compile your code to see if somewhere your imports are using the wrong libraries. This is a frustrating process, but the only way I can think of to get you out of it :)","body":"You&#39;re welcome. As mentioned, you really need to find out how many JPA implementations are in your dependencies and exclude ALL of the ones except the one you want to use. Also make sure to compile your code to see if somewhere your imports are using the wrong libraries. This is a frustrating process, but the only way I can think of to get you out of it :)"},{"owner":{"account_id":71185,"reputation":1110,"user_id":205839,"accept_rate":81,"display_name":"Chris"},"score":0,"creation_date":1695648999,"post_id":77150325,"comment_id":136048714,"body_markdown":"Added some progress in the main post. TL;DR: data-access was updated to jpa 2.2 and some ibm websphere jar seem to indlude the javax.persistences in there source that seem to cause the problem. However, putting javax.persistences-api-2.2 before doesn&#39;t seem to fix the issue.","body":"Added some progress in the main post. TL;DR: data-access was updated to jpa 2.2 and some ibm websphere jar seem to indlude the javax.persistences in there source that seem to cause the problem. However, putting javax.persistences-api-2.2 before doesn&#39;t seem to fix the issue."},{"owner":{"account_id":71185,"reputation":1110,"user_id":205839,"accept_rate":81,"display_name":"Chris"},"score":0,"creation_date":1695649469,"post_id":77150325,"comment_id":136048824,"body_markdown":"Some clarification, the ibm lib don&#39;t include a jpa jar but instead overide the whole package directly in their lib.","body":"Some clarification, the ibm lib don&#39;t include a jpa jar but instead overide the whole package directly in their lib."}],"tags":[],"owner":{"account_id":11872577,"reputation":321,"user_id":8688388,"display_name":"M. Pour"},"comment_count":5,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1695299988,"creation_date":1695299988,"answer_id":77150325,"question_id":77150088,"body_markdown":"This is typically a **version conflict with the JPA** (Java Persistence API) library. The NoSuchMethodError indicates that the application is trying to call a method indexes() on the javax.persistence.Table class, which doesn&#39;t exist in the version of JPA *being used*.\r\n\r\nAs of my (brief) analysis based on your dependency tree, you are using \r\n\r\n - ***JPA 2.1*** in &quot;*com.project-common.data-access:data-access:jar:5.0.0.2*&quot; and \r\n - ***JPA 2.2*** in &quot;*javax.persistence:javax.persistence-api:jar:2.2*&quot; and \r\n - also your hibernate includes its own JPA implementation. \r\n\r\nSo you&#39;ve got to decide which one you are gonna use, which is the one that contains the method &quot;javax.persistence.Table.indexes()&quot;\r\n\r\nThe *javax.persistence:javax.persistence-api:jar:2.2* looks like the one that should contain the *javax.persistence.Table.indexes()* method (You should check that up!).\r\n\r\nNow, the idea is to try excluding all the other JPA from other dependencies like this:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;some.group&lt;/groupId&gt;\r\n    &lt;artifactId&gt;conflicting-artifact&lt;/artifactId&gt;\r\n    &lt;version&gt;conflicting-version&lt;/version&gt;\r\n    &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\n\r\n\r\nSince you have Hibernate as your JPA provider, you should consider using Hibernate&#39;s internal JPA implementation, which is included with Hibernate Core. \r\n\r\nClean and then rebuild.. If the problem persisted, try printing the classpath being used by your application during startup to help identify any unexpected JPA libraries being loaded.\r\n\r\nGood luck :)\r\n","title":"ClassPathXmlApplicationContext: Error creating bean with name &#39;X&#39;; nested exception is java.lang.NoSuchMethodError: javax.persistence.Table.indexes()","body":"<p>This is typically a <strong>version conflict with the JPA</strong> (Java Persistence API) library. The NoSuchMethodError indicates that the application is trying to call a method indexes() on the javax.persistence.Table class, which doesn't exist in the version of JPA <em>being used</em>.</p>\n<p>As of my (brief) analysis based on your dependency tree, you are using</p>\n<ul>\n<li><em><strong>JPA 2.1</strong></em> in &quot;<em>com.project-common.data-access:data-access:jar:5.0.0.2</em>&quot; and</li>\n<li><em><strong>JPA 2.2</strong></em> in &quot;<em>javax.persistence:javax.persistence-api:jar:2.2</em>&quot; and</li>\n<li>also your hibernate includes its own JPA implementation.</li>\n</ul>\n<p>So you've got to decide which one you are gonna use, which is the one that contains the method &quot;javax.persistence.Table.indexes()&quot;</p>\n<p>The <em>javax.persistence:javax.persistence-api:jar:2.2</em> looks like the one that should contain the <em>javax.persistence.Table.indexes()</em> method (You should check that up!).</p>\n<p>Now, the idea is to try excluding all the other JPA from other dependencies like this:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;some.group&lt;/groupId&gt;\n    &lt;artifactId&gt;conflicting-artifact&lt;/artifactId&gt;\n    &lt;version&gt;conflicting-version&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>Since you have Hibernate as your JPA provider, you should consider using Hibernate's internal JPA implementation, which is included with Hibernate Core.</p>\n<p>Clean and then rebuild.. If the problem persisted, try printing the classpath being used by your application during startup to help identify any unexpected JPA libraries being loaded.</p>\n<p>Good luck :)</p>\n"},{"tags":[],"owner":{"account_id":71185,"reputation":1110,"user_id":205839,"accept_rate":81,"display_name":"Chris"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696603571,"creation_date":1696542827,"answer_id":77240793,"question_id":77150088,"body_markdown":"Like explain in the update, the problem come from two libs from ibm (ibm.ws.thinclient &amp; ibm.ws.ejb.embeddableContainer) which included a implementation on jpa directly in thier libs instead of a dependency that could be managed via maven. \r\n\r\nSolution: \r\n1) re-package ibm.ws.thinclient &amp; ibm.ws.ejb.embeddableContainer to exclude the folder src/javax/persistense from these project, the app build correctly and no longer have the NoSuchMethodError. This however force us to have custom jar in our company nexus. \r\n\r\n2) The another way is to overide the classloader via -Djava.endorsed.dirs, but that will only work with java 8 and earlier version. https://tomcat.apache.org/tomcat-8.5-doc/class-loader-howto.html\r\n\r\nWe tested both and they work but since this project might need to be migrated to a more recent version of java we decided to go with the first option. \r\n\r\nHope this can help someone with the same problem and save them some precious time. ","title":"ClassPathXmlApplicationContext: Error creating bean with name &#39;X&#39;; nested exception is java.lang.NoSuchMethodError: javax.persistence.Table.indexes()","body":"<p>Like explain in the update, the problem come from two libs from ibm (ibm.ws.thinclient &amp; ibm.ws.ejb.embeddableContainer) which included a implementation on jpa directly in thier libs instead of a dependency that could be managed via maven.</p>\n<p>Solution:</p>\n<ol>\n<li><p>re-package ibm.ws.thinclient &amp; ibm.ws.ejb.embeddableContainer to exclude the folder src/javax/persistense from these project, the app build correctly and no longer have the NoSuchMethodError. This however force us to have custom jar in our company nexus.</p>\n</li>\n<li><p>The another way is to overide the classloader via -Djava.endorsed.dirs, but that will only work with java 8 and earlier version. <a href=\"https://tomcat.apache.org/tomcat-8.5-doc/class-loader-howto.html\" rel=\"nofollow noreferrer\">https://tomcat.apache.org/tomcat-8.5-doc/class-loader-howto.html</a></p>\n</li>\n</ol>\n<p>We tested both and they work but since this project might need to be migrated to a more recent version of java we decided to go with the first option.</p>\n<p>Hope this can help someone with the same problem and save them some precious time.</p>\n"}],"owner":{"account_id":71185,"reputation":1110,"user_id":205839,"accept_rate":81,"display_name":"Chris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":77240793,"answer_count":2,"score":2,"last_activity_date":1696603571,"creation_date":1695297883,"question_id":77150088,"body_markdown":"I&#39;m currently moving a legacy websphere application/service to run on tomcat instead.\r\nThis all work fine for most of what the service need to do except for a particular call that need to access a sqlServer db. \r\n\r\nWhen trying to load the context it give the following error: \r\n\r\n    ClassPathXmlApplicationContext           : Exception encountered during context initialization - cancelling refresh attempt: \r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;sessionFactory&#39; defined in class path resource [SpringConfigDataAccess.xml]: \r\n    Invocation of init method failed; nested exception is java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index; \r\n\r\n\r\nHowever, there seem to be a conflict with the use jpa 2.1 \r\nI suspect it might be one of the WAS lib that is added to make the app work on tomcat or the WAS specific class in the db config.\r\n\r\n**Here some general info and dependencies tree:** \r\n\r\nWAS was using ibmjdk for java 1.8 \r\n\r\nTomcat is using openJDk for java 1.8\r\n\r\nPrevious config\r\n```\r\n&lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jndi.JndiObjectFactoryBean&quot;&gt;         \r\n\t&lt;property name=&quot;jndiName&quot; value=&quot;jdbc/dbName&quot;/&gt;         \r\n\t&lt;property name=&quot;lookupOnStartup&quot; value=&quot;false&quot;/&gt;         \r\n\t&lt;property name=&quot;cache&quot; value=&quot;true&quot; /&gt;         \r\n\t&lt;property name=&quot;proxyInterface&quot;  value=&quot;javax.sql.DataSource&quot; /&gt;     \r\n&lt;/bean&gt; \r\n```\r\n\t\r\nnew config\r\n```\r\n\t&lt;bean id=&quot;dataSource&quot; destroy-method=&quot;close&quot;\r\n\t\t  class=&quot;org.apache.commons.dbcp2.BasicDataSource&quot; scope=&quot;prototype&quot;&gt;\r\n\t\t&lt;property name=&quot;driverClassName&quot; value=&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;/&gt;\r\n\t\t&lt;property name=&quot;username&quot; value=&quot;username&quot; /&gt;\r\n\t\t&lt;property name=&quot;password&quot; value=&quot;pass&quot; /&gt;\r\n\t\t&lt;property name=&quot;url&quot; value=&quot;server_url&quot;/&gt;\r\n\t&lt;/bean&gt;\r\n```\t\r\nThis changed required the need to add commons-dbcp2 in the maven project dependencies\r\n```\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.10.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\t\r\n\r\nThe session factory config for that db is: \r\n```\t\r\n\t&lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\r\n \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\r\n \t\t&lt;property name=&quot;annotatedClasses&quot;&gt;\r\n\t\t\t&lt;list&gt;\r\n\t\t\t...\r\n\t\t\t&lt;/list&gt;\r\n \t\t&lt;/property&gt;\r\n        &lt;property name=&quot;hibernateProperties&quot;&gt;\r\n            &lt;props&gt;\r\n            \t&lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.SQLServerDialect&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.cache.use_second_level_cache&quot;&gt;false&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.max_fetch_depth&quot;&gt;6&lt;/prop&gt;\r\n                &lt;prop key=&quot;hibernate.connection.driver_class&quot;&gt;com.microsoft.sqlserver.jdbc.SQLServerDriver&lt;/prop&gt;\r\n\r\n                &lt;!--           IBM WAS SPECIFIC             --&gt;          \r\n\t\t          &lt;prop key=&quot;hibernate.transaction.factory_class&quot;&gt;org.hibernate.transaction.CMTTransactionFactory&lt;/prop&gt;\r\n\t\t          &lt;prop key=&quot;hibernate.transaction.manager_lookup_class&quot;&gt;org.hibernate.transaction.WebSphereJTATransactionLookup&lt;/prop&gt;\r\n\t\t          &lt;prop key=&quot;hibernate.transaction.jta.platform&quot;&gt;org.hibernate.service.jta.platform.internal.WebSphereJtaPlatform&lt;/prop&gt;\t\t          \r\n  \t            &lt;!--           /END IBM WAS SPECIFIC        --&gt;\r\n                \r\n                &lt;!-- added in order for a JUnit test to load properly --&gt;\r\n                &lt;prop key=&quot;javax.persistence.validation.mode&quot;&gt;none&lt;/prop&gt;\r\n            &lt;/props&gt;\r\n        &lt;/property&gt;\t\r\n\t\t\r\n&lt;!--          Previous WAS SPECIFIC transaction manager             --&gt;  \r\n&lt;!--\t&lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.transaction.jta.WebSphereUowTransactionManager&quot;/&gt;--&gt;\r\n\t&lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;/&gt;\t\t\r\n```\t\t\r\nFinally the dependency tree\r\n```\t\t\r\n +- com.project.app:main-project-compose:jar:1.0.0-SNAPSHOT:compile\r\n |  +- com.project-common.data-access:data-access:jar:5.0.0.2:compile\r\n |  |  +- org.hibernate.javax.persistence:hibernate-jpa-2.1-api:jar:1.0.0.Final:compile\r\n |  |  \\- com.microsoft:sqlserver.jdbc:jar:4.0:runtime\r\n |  +- org.hibernate:hibernate-core:jar:5.6.4.Final:compile\r\n |  |  +- org.jboss.logging:jboss-logging:jar:3.4.3.Final:compile\r\n |  |  +- net.bytebuddy:byte-buddy:jar:1.12.7:compile\r\n |  |  +- antlr:antlr:jar:2.7.7:compile\r\n |  |  +- org.jboss.spec.javax.transaction:jboss-transaction-api_1.2_spec:jar:1.1.1.Final:compile\r\n |  |  +- org.jboss:jandex:jar:2.4.2.Final:compile\r\n |  |  +- com.fasterxml:classmate:jar:1.5.1:compile\r\n |  |  +- javax.activation:javax.activation-api:jar:1.2.0:compile\r\n |  |  +- org.hibernate.common:hibernate-commons-annotations:jar:5.1.2.Final:compile\r\n |  |  +- javax.xml.bind:jaxb-api:jar:2.3.1:compile\r\n |  |  \\- org.glassfish.jaxb:jaxb-runtime:jar:2.3.1:compile\r\n |  |     +- org.glassfish.jaxb:txw2:jar:2.3.1:compile\r\n |  |     +- com.sun.istack:istack-commons-runtime:jar:3.0.7:compile\r\n |  |     +- org.jvnet.staxex:stax-ex:jar:1.8:compile\r\n |  |     \\- com.sun.xml.fastinfoset:FastInfoset:jar:1.2.15:compile\r\n |  \\- org.apache.commons:commons-collections4:jar:4.1:compile\r\n +- org.springframework:spring-context:jar:5.3.13:compile\r\n |  +- org.springframework:spring-aop:jar:5.3.13:compile\r\n |  +- org.springframework:spring-beans:jar:5.3.13:compile\r\n |  +- org.springframework:spring-core:jar:5.3.13:compile\r\n |  |  \\- org.springframework:spring-jcl:jar:5.3.13:compile\r\n |  \\- org.springframework:spring-expression:jar:5.3.13:compile\r\n +- org.springframework:spring-orm:jar:5.3.13:compile\r\n |  +- org.springframework:spring-jdbc:jar:5.3.13:compile\r\n |  \\- org.springframework:spring-tx:jar:5.3.13:compile\r\n +- junit:junit:jar:4.11:test\r\n |  \\- org.hamcrest:hamcrest-core:jar:1.3:test\r\n +- xerces:xercesImpl:jar:2.12.2:compile\r\n |  \\- xml-apis:xml-apis:jar:1.4.01:compile\r\n +- com.commons:websphere-mq-dependencies:pom:7.0.1.5.0:test\r\n |  +- com.ibm.websphere:com.ibm.mq:jar:7.0.1.5:test\r\n |  +- com.ibm.websphere:com.ibm.mqjms:jar:7.0.1.5:test\r\n |  +- com.ibm.websphere:com.ibm.mq.jmqi:jar:7.0.1.5:test\r\n |  +- com.ibm.websphere:com.ibm.mq.jmqi.local:jar:7.0.1.5:test\r\n |  +- com.ibm.websphere:com.ibm.mq.jmqi.remote:jar:7.0.1.5:test\r\n |  +- com.ibm.websphere:com.ibm.mq.jmqi.system:jar:7.0.1.5:test\r\n |  +- com.ibm.websphere:com.ibm.msg.client.commonservices:jar:7.0.1.5:test\r\n |  +- com.ibm.websphere:com.ibm.msg.client.jms.internal:jar:7.0.1.5:test\r\n |  +- com.ibm.websphere:com.ibm.msg.client.jms:jar:7.0.1.5:test\r\n |  +- com.ibm.websphere:com.ibm.msg.client.provider:jar:7.0.1.5:test\r\n |  +- com.ibm.websphere:com.ibm.msg.client.wmq:jar:7.0.1.5:test\r\n |  +- com.ibm.websphere:com.ibm.msg.client.wmq.common:jar:7.0.1.5:test\r\n |  +- com.ibm.websphere:com.ibm.mq.connector:jar:7.0.1.5:test\r\n |  +- com.ibm.websphere:com.ibm.mq.commonservices:jar:7.0.1.5:test\r\n |  +- com.ibm.websphere:com.ibm.mq.headers:jar:7.0.1.5:test\r\n |  \\- com.ibm.websphere:com.ibm.mq.pcf:jar:7.0.1.5:test\r\n +- com.ibm.websphere:com.ibm.ws.ejb.thinclient:jar:8.0.0:test\r\n +- com.project.app:main-project-packaging:jar:1.0.0-SNAPSHOT:compile\r\n |  +- org.apache.pdfbox:pdfbox:jar:3.0.0-alpha3:compile\r\n |  |  +- org.apache.pdfbox:io:jar:3.0.0-alpha3:compile\r\n |  |  \\- org.apache.pdfbox:fontbox:jar:3.0.0-alpha3:compile\r\n |  +- org.bouncycastle:bcprov-jdk18on:jar:1.72:compile\r\n |  +- net.sf.opencsv:opencsv:jar:2.4:compile\r\n |  \\- com.commons:dependencies-emf-ecore-sdo:pom:2.2.1.0:runtime\r\n |     +- org.eclipse.persistence:commonj.sdo:jar:2.1.1:runtime\r\n |     +- org.eclipse.emf:org.eclipse.emf.ecore:jar:2.2.1.v200609210005:runtime\r\n |     +- org.eclipse.emf:org.eclipse.emf.common:jar:2.2.1.v200609210005:runtime\r\n |     +- org.eclipse.emf:org.eclipse.emf.ecore.sdo:jar:2.2.0.v200609210005:runtime\r\n |     +- org.eclipse.emf:org.eclipse.emf.ecore.xmi:jar:2.2.1.v200609210005:runtime\r\n |     \\- org.eclipse.emf:org.eclipse.emf.ecore.change:jar:2.2.0.v200609210005:runtime\r\n +- javax.persistence:javax.persistence-api:jar:2.2:compile\r\n \\- org.apache.commons:commons-dbcp2:jar:2.10.0:compile\r\n    +- org.apache.commons:commons-pool2:jar:2.11.1:compile\r\n    +- commons-logging:commons-logging:jar:1.2:compile\r\n    \\- jakarta.transaction:jakarta.transaction-api:jar:1.3.1:compile\r\n```\t\t\r\n\r\nUPDATE: \r\n\r\nData access was using jpa 2.1 but hibernate.core is loading jpa 2.2 (javax.persistence-api-2.2), since data-access is a internal lib I migrated it to jpa 2.2. \r\n\r\nHowever, the exception still happen at runtime. With some digging it seem that 3 librairies have the package javax.persistence in their project that seem to interfer with javax.persistence-api-2.2. (the lib with the problem were all libs from ibm websphere, ibm.ws.thinclient, ibm.ws.runtime &amp; ibm.ws.ejb.)\r\nJust to hit this point home here the structure of one of them\r\n```\t\r\n&gt; com.ibm.websphere:com.ibm.ws.ejb.thinclient:jar:8.5.0\r\n---&gt; com.ibm.*\r\n\t----&gt; has many package\r\n---&gt; javax.*\r\n\t----&gt; has many package\r\n\t----&gt; persistences\r\n\t\t-----&gt; Table.java -&gt; 2.0 interface\r\n```\t\r\n\r\nIn all project that had these issues I&#39;ve put javax.persistence-api-2.2 first in the dependencies tree so it will be the first jpa lib in the classpath. \r\nIt seem to be the case when I run  mvn dependency:build-classpath -Dmdep.includeScope=compile\r\n\r\nHowever, the exception still happen even after that change. \r\n\r\nUpdate 2: \r\n\r\nAfter re-packaging ibm.ws.thinclient &amp; ibm.ws.ejb.embeddableContainer to exclude the folder src/javax/persistense from these project, the app build correctly and no longer have the NoSuchMethodError. It has a another exception which (NoSuchBeanDefinitionException) which seem to be unrelated. \r\nHowever, removing the folder from the jar is not ideal and probably using a solution involving the classloader is probably a cleaner alternative. ","title":"ClassPathXmlApplicationContext: Error creating bean with name &#39;X&#39;; nested exception is java.lang.NoSuchMethodError: javax.persistence.Table.indexes()","body":"<p>I'm currently moving a legacy websphere application/service to run on tomcat instead.\nThis all work fine for most of what the service need to do except for a particular call that need to access a sqlServer db.</p>\n<p>When trying to load the context it give the following error:</p>\n<pre><code>ClassPathXmlApplicationContext           : Exception encountered during context initialization - cancelling refresh attempt: \norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sessionFactory' defined in class path resource [SpringConfigDataAccess.xml]: \nInvocation of init method failed; nested exception is java.lang.NoSuchMethodError: javax.persistence.Table.indexes()[Ljavax/persistence/Index; \n</code></pre>\n<p>However, there seem to be a conflict with the use jpa 2.1\nI suspect it might be one of the WAS lib that is added to make the app work on tomcat or the WAS specific class in the db config.</p>\n<p><strong>Here some general info and dependencies tree:</strong></p>\n<p>WAS was using ibmjdk for java 1.8</p>\n<p>Tomcat is using openJDk for java 1.8</p>\n<p>Previous config</p>\n<pre><code>&lt;bean id=&quot;dataSource&quot; class=&quot;org.springframework.jndi.JndiObjectFactoryBean&quot;&gt;         \n    &lt;property name=&quot;jndiName&quot; value=&quot;jdbc/dbName&quot;/&gt;         \n    &lt;property name=&quot;lookupOnStartup&quot; value=&quot;false&quot;/&gt;         \n    &lt;property name=&quot;cache&quot; value=&quot;true&quot; /&gt;         \n    &lt;property name=&quot;proxyInterface&quot;  value=&quot;javax.sql.DataSource&quot; /&gt;     \n&lt;/bean&gt; \n</code></pre>\n<p>new config</p>\n<pre><code>    &lt;bean id=&quot;dataSource&quot; destroy-method=&quot;close&quot;\n          class=&quot;org.apache.commons.dbcp2.BasicDataSource&quot; scope=&quot;prototype&quot;&gt;\n        &lt;property name=&quot;driverClassName&quot; value=&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;/&gt;\n        &lt;property name=&quot;username&quot; value=&quot;username&quot; /&gt;\n        &lt;property name=&quot;password&quot; value=&quot;pass&quot; /&gt;\n        &lt;property name=&quot;url&quot; value=&quot;server_url&quot;/&gt;\n    &lt;/bean&gt;\n</code></pre>\n<p>This changed required the need to add commons-dbcp2 in the maven project dependencies</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.commons&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-dbcp2&lt;/artifactId&gt;\n            &lt;version&gt;2.10.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>The session factory config for that db is:</p>\n<pre><code>    &lt;bean id=&quot;sessionFactory&quot; class=&quot;org.springframework.orm.hibernate5.LocalSessionFactoryBean&quot;&gt;\n        &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot;/&gt;\n        &lt;property name=&quot;annotatedClasses&quot;&gt;\n            &lt;list&gt;\n            ...\n            &lt;/list&gt;\n        &lt;/property&gt;\n        &lt;property name=&quot;hibernateProperties&quot;&gt;\n            &lt;props&gt;\n                &lt;prop key=&quot;hibernate.show_sql&quot;&gt;true&lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.SQLServerDialect&lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.cache.use_second_level_cache&quot;&gt;false&lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.max_fetch_depth&quot;&gt;6&lt;/prop&gt;\n                &lt;prop key=&quot;hibernate.connection.driver_class&quot;&gt;com.microsoft.sqlserver.jdbc.SQLServerDriver&lt;/prop&gt;\n\n                &lt;!--           IBM WAS SPECIFIC             --&gt;          \n                  &lt;prop key=&quot;hibernate.transaction.factory_class&quot;&gt;org.hibernate.transaction.CMTTransactionFactory&lt;/prop&gt;\n                  &lt;prop key=&quot;hibernate.transaction.manager_lookup_class&quot;&gt;org.hibernate.transaction.WebSphereJTATransactionLookup&lt;/prop&gt;\n                  &lt;prop key=&quot;hibernate.transaction.jta.platform&quot;&gt;org.hibernate.service.jta.platform.internal.WebSphereJtaPlatform&lt;/prop&gt;                  \n                &lt;!--           /END IBM WAS SPECIFIC        --&gt;\n                \n                &lt;!-- added in order for a JUnit test to load properly --&gt;\n                &lt;prop key=&quot;javax.persistence.validation.mode&quot;&gt;none&lt;/prop&gt;\n            &lt;/props&gt;\n        &lt;/property&gt; \n        \n&lt;!--          Previous WAS SPECIFIC transaction manager             --&gt;  \n&lt;!--    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.transaction.jta.WebSphereUowTransactionManager&quot;/&gt;--&gt;\n    &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.hibernate5.HibernateTransactionManager&quot;/&gt;      \n</code></pre>\n<p>Finally the dependency tree</p>\n<pre><code> +- com.project.app:main-project-compose:jar:1.0.0-SNAPSHOT:compile\n |  +- com.project-common.data-access:data-access:jar:5.0.0.2:compile\n |  |  +- org.hibernate.javax.persistence:hibernate-jpa-2.1-api:jar:1.0.0.Final:compile\n |  |  \\- com.microsoft:sqlserver.jdbc:jar:4.0:runtime\n |  +- org.hibernate:hibernate-core:jar:5.6.4.Final:compile\n |  |  +- org.jboss.logging:jboss-logging:jar:3.4.3.Final:compile\n |  |  +- net.bytebuddy:byte-buddy:jar:1.12.7:compile\n |  |  +- antlr:antlr:jar:2.7.7:compile\n |  |  +- org.jboss.spec.javax.transaction:jboss-transaction-api_1.2_spec:jar:1.1.1.Final:compile\n |  |  +- org.jboss:jandex:jar:2.4.2.Final:compile\n |  |  +- com.fasterxml:classmate:jar:1.5.1:compile\n |  |  +- javax.activation:javax.activation-api:jar:1.2.0:compile\n |  |  +- org.hibernate.common:hibernate-commons-annotations:jar:5.1.2.Final:compile\n |  |  +- javax.xml.bind:jaxb-api:jar:2.3.1:compile\n |  |  \\- org.glassfish.jaxb:jaxb-runtime:jar:2.3.1:compile\n |  |     +- org.glassfish.jaxb:txw2:jar:2.3.1:compile\n |  |     +- com.sun.istack:istack-commons-runtime:jar:3.0.7:compile\n |  |     +- org.jvnet.staxex:stax-ex:jar:1.8:compile\n |  |     \\- com.sun.xml.fastinfoset:FastInfoset:jar:1.2.15:compile\n |  \\- org.apache.commons:commons-collections4:jar:4.1:compile\n +- org.springframework:spring-context:jar:5.3.13:compile\n |  +- org.springframework:spring-aop:jar:5.3.13:compile\n |  +- org.springframework:spring-beans:jar:5.3.13:compile\n |  +- org.springframework:spring-core:jar:5.3.13:compile\n |  |  \\- org.springframework:spring-jcl:jar:5.3.13:compile\n |  \\- org.springframework:spring-expression:jar:5.3.13:compile\n +- org.springframework:spring-orm:jar:5.3.13:compile\n |  +- org.springframework:spring-jdbc:jar:5.3.13:compile\n |  \\- org.springframework:spring-tx:jar:5.3.13:compile\n +- junit:junit:jar:4.11:test\n |  \\- org.hamcrest:hamcrest-core:jar:1.3:test\n +- xerces:xercesImpl:jar:2.12.2:compile\n |  \\- xml-apis:xml-apis:jar:1.4.01:compile\n +- com.commons:websphere-mq-dependencies:pom:7.0.1.5.0:test\n |  +- com.ibm.websphere:com.ibm.mq:jar:7.0.1.5:test\n |  +- com.ibm.websphere:com.ibm.mqjms:jar:7.0.1.5:test\n |  +- com.ibm.websphere:com.ibm.mq.jmqi:jar:7.0.1.5:test\n |  +- com.ibm.websphere:com.ibm.mq.jmqi.local:jar:7.0.1.5:test\n |  +- com.ibm.websphere:com.ibm.mq.jmqi.remote:jar:7.0.1.5:test\n |  +- com.ibm.websphere:com.ibm.mq.jmqi.system:jar:7.0.1.5:test\n |  +- com.ibm.websphere:com.ibm.msg.client.commonservices:jar:7.0.1.5:test\n |  +- com.ibm.websphere:com.ibm.msg.client.jms.internal:jar:7.0.1.5:test\n |  +- com.ibm.websphere:com.ibm.msg.client.jms:jar:7.0.1.5:test\n |  +- com.ibm.websphere:com.ibm.msg.client.provider:jar:7.0.1.5:test\n |  +- com.ibm.websphere:com.ibm.msg.client.wmq:jar:7.0.1.5:test\n |  +- com.ibm.websphere:com.ibm.msg.client.wmq.common:jar:7.0.1.5:test\n |  +- com.ibm.websphere:com.ibm.mq.connector:jar:7.0.1.5:test\n |  +- com.ibm.websphere:com.ibm.mq.commonservices:jar:7.0.1.5:test\n |  +- com.ibm.websphere:com.ibm.mq.headers:jar:7.0.1.5:test\n |  \\- com.ibm.websphere:com.ibm.mq.pcf:jar:7.0.1.5:test\n +- com.ibm.websphere:com.ibm.ws.ejb.thinclient:jar:8.0.0:test\n +- com.project.app:main-project-packaging:jar:1.0.0-SNAPSHOT:compile\n |  +- org.apache.pdfbox:pdfbox:jar:3.0.0-alpha3:compile\n |  |  +- org.apache.pdfbox:io:jar:3.0.0-alpha3:compile\n |  |  \\- org.apache.pdfbox:fontbox:jar:3.0.0-alpha3:compile\n |  +- org.bouncycastle:bcprov-jdk18on:jar:1.72:compile\n |  +- net.sf.opencsv:opencsv:jar:2.4:compile\n |  \\- com.commons:dependencies-emf-ecore-sdo:pom:2.2.1.0:runtime\n |     +- org.eclipse.persistence:commonj.sdo:jar:2.1.1:runtime\n |     +- org.eclipse.emf:org.eclipse.emf.ecore:jar:2.2.1.v200609210005:runtime\n |     +- org.eclipse.emf:org.eclipse.emf.common:jar:2.2.1.v200609210005:runtime\n |     +- org.eclipse.emf:org.eclipse.emf.ecore.sdo:jar:2.2.0.v200609210005:runtime\n |     +- org.eclipse.emf:org.eclipse.emf.ecore.xmi:jar:2.2.1.v200609210005:runtime\n |     \\- org.eclipse.emf:org.eclipse.emf.ecore.change:jar:2.2.0.v200609210005:runtime\n +- javax.persistence:javax.persistence-api:jar:2.2:compile\n \\- org.apache.commons:commons-dbcp2:jar:2.10.0:compile\n    +- org.apache.commons:commons-pool2:jar:2.11.1:compile\n    +- commons-logging:commons-logging:jar:1.2:compile\n    \\- jakarta.transaction:jakarta.transaction-api:jar:1.3.1:compile\n</code></pre>\n<p>UPDATE:</p>\n<p>Data access was using jpa 2.1 but hibernate.core is loading jpa 2.2 (javax.persistence-api-2.2), since data-access is a internal lib I migrated it to jpa 2.2.</p>\n<p>However, the exception still happen at runtime. With some digging it seem that 3 librairies have the package javax.persistence in their project that seem to interfer with javax.persistence-api-2.2. (the lib with the problem were all libs from ibm websphere, ibm.ws.thinclient, ibm.ws.runtime &amp; ibm.ws.ejb.)\nJust to hit this point home here the structure of one of them</p>\n<pre><code>&gt; com.ibm.websphere:com.ibm.ws.ejb.thinclient:jar:8.5.0\n---&gt; com.ibm.*\n    ----&gt; has many package\n---&gt; javax.*\n    ----&gt; has many package\n    ----&gt; persistences\n        -----&gt; Table.java -&gt; 2.0 interface\n</code></pre>\n<p>In all project that had these issues I've put javax.persistence-api-2.2 first in the dependencies tree so it will be the first jpa lib in the classpath.\nIt seem to be the case when I run  mvn dependency:build-classpath -Dmdep.includeScope=compile</p>\n<p>However, the exception still happen even after that change.</p>\n<p>Update 2:</p>\n<p>After re-packaging ibm.ws.thinclient &amp; ibm.ws.ejb.embeddableContainer to exclude the folder src/javax/persistense from these project, the app build correctly and no longer have the NoSuchMethodError. It has a another exception which (NoSuchBeanDefinitionException) which seem to be unrelated.\nHowever, removing the folder from the jar is not ideal and probably using a solution involving the classloader is probably a cleaner alternative.</p>\n"},{"tags":["java","spring","spring-boot","spring-validator"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1651304631,"post_id":72066545,"comment_id":127336816,"body_markdown":"Your record will need to have validation annotations, such as `@NotNull String createdBy` and then in your Controller @RequestBody `@Valid CreateSellerRequestDTO` though as this is a record, I am not quite sure if it will work.  Try and see","body":"Your record will need to have validation annotations, such as <code>@NotNull String createdBy</code> and then in your Controller @RequestBody <code>@Valid CreateSellerRequestDTO</code> though as this is a record, I am not quite sure if it will work.  Try and see"}],"answers":[{"tags":[],"owner":{"account_id":5096768,"reputation":1551,"user_id":4087817,"display_name":"ngg"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671113427,"creation_date":1671113427,"answer_id":74812870,"question_id":72066545,"body_markdown":"***try like this:***\r\n\r\n    public record CreateSellerRequestDTO(@NotNull(message = &quot;createdBy can not be null&quot;) String createdBy,\r\n                                         @NotNull(message = &quot;userName can not be null&quot;) String userName,\r\n                                         String name,\r\n                                         String email,\r\n                                         BigDecimal shippingCost,\r\n                                         String password,\r\n                                         SellerAddress sellerAddress) {\r\n\r\n}","title":"How can i validate dto of type record in spring framework?","body":"<p><em><strong>try like this:</strong></em></p>\n<pre><code>public record CreateSellerRequestDTO(@NotNull(message = &quot;createdBy can not be null&quot;) String createdBy,\n                                     @NotNull(message = &quot;userName can not be null&quot;) String userName,\n                                     String name,\n                                     String email,\n                                     BigDecimal shippingCost,\n                                     String password,\n                                     SellerAddress sellerAddress) {\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":6299922,"reputation":365,"user_id":4894891,"accept_rate":0,"display_name":"uğur taş"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696602382,"creation_date":1696602382,"answer_id":77245253,"question_id":72066545,"body_markdown":"If validation annotations are not meet your requirements, you can override constructor of the record class and make your own validations. Such as\r\n\r\n    public record UserRecord(String name, int age, String email) {\r\n\r\n      public UserRecord(String name, int age, String email) {\r\n        this.name = name.trim();\r\n        this.age = age;\r\n        if(age &gt; 18) {\r\n          // email is mandatory in that case \r\n          this.email = email.toLowerCase(Locale.ROOT);\r\n        }\r\n      }\r\n    }\r\nYou can use [compact constructor][1] if you don&#39;t want to handle assigning all values one by one.\r\n\r\nYou can find details [here][2].\r\n\r\n\r\n  [1]: https://medium.com/codimis/constructor-types-of-java-record-classes-19cc45050d09?sk=802c8a097984d37d7d2bbc8cd2edc124\r\n  [2]: https://medium.com/codimis/how-to-validate-and-normalize-java-record-classes-82cae6326df8?sk=bb6ad92ff363cf60271905532360a6fe","title":"How can i validate dto of type record in spring framework?","body":"<p>If validation annotations are not meet your requirements, you can override constructor of the record class and make your own validations. Such as</p>\n<pre><code>public record UserRecord(String name, int age, String email) {\n\n  public UserRecord(String name, int age, String email) {\n    this.name = name.trim();\n    this.age = age;\n    if(age &gt; 18) {\n      // email is mandatory in that case \n      this.email = email.toLowerCase(Locale.ROOT);\n    }\n  }\n}\n</code></pre>\n<p>You can use <a href=\"https://medium.com/codimis/constructor-types-of-java-record-classes-19cc45050d09?sk=802c8a097984d37d7d2bbc8cd2edc124\" rel=\"nofollow noreferrer\">compact constructor</a> if you don't want to handle assigning all values one by one.</p>\n<p>You can find details <a href=\"https://medium.com/codimis/how-to-validate-and-normalize-java-record-classes-82cae6326df8?sk=bb6ad92ff363cf60271905532360a6fe\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":24301317,"reputation":53,"user_id":18244772,"display_name":"Emirhan Ay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3310,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1696602382,"creation_date":1651303936,"question_id":72066545,"body_markdown":"I have an endpoint to create the Seller object.I get the necessary information to create the Seller object from the dto of record type.\r\nHow can i validate this dto in spring validation? I need to make sure that the data of the incoming DTO object is validated. I don&#39;t want to validate manually. \r\n\r\n```java\r\n@RestController\r\n@RequestMapping(&quot;api/sellers&quot;)\r\npublic class SellerController {\r\n\r\n    private final SellerService sellerService;\r\n    private final CreateSellerRequestValidator createSellerRequestValidator;\r\n\r\n    @PostMapping\r\n    public ResponseEntity&lt;?&gt; create(@RequestBody CreateSellerRequestDTO createSellerRequestDTO){\r\n            createSellerRequestValidator.validate(createSellerRequestDTO);\r\n            sellerService.create(createSellerRequestDTO);\r\n            return ResponseEntity.ok().build();\r\n    }\r\n}\r\n```\r\n```java\r\npublic record CreateSellerRequestDTO(String createdBy,\r\n                                     String userName,\r\n                                     String name,\r\n                                     String email,\r\n                                     BigDecimal shippingCost,\r\n                                     String password,\r\n                                     SellerAddress sellerAddress) {\r\n}\r\n```","title":"How can i validate dto of type record in spring framework?","body":"<p>I have an endpoint to create the Seller object.I get the necessary information to create the Seller object from the dto of record type.\nHow can i validate this dto in spring validation? I need to make sure that the data of the incoming DTO object is validated. I don't want to validate manually.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RestController\n@RequestMapping(&quot;api/sellers&quot;)\npublic class SellerController {\n\n    private final SellerService sellerService;\n    private final CreateSellerRequestValidator createSellerRequestValidator;\n\n    @PostMapping\n    public ResponseEntity&lt;?&gt; create(@RequestBody CreateSellerRequestDTO createSellerRequestDTO){\n            createSellerRequestValidator.validate(createSellerRequestDTO);\n            sellerService.create(createSellerRequestDTO);\n            return ResponseEntity.ok().build();\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public record CreateSellerRequestDTO(String createdBy,\n                                     String userName,\n                                     String name,\n                                     String email,\n                                     BigDecimal shippingCost,\n                                     String password,\n                                     SellerAddress sellerAddress) {\n}\n</code></pre>\n"},{"tags":["java","jtable"],"comments":[{"owner":{"account_id":23391725,"reputation":243,"user_id":17456295,"display_name":"Sawan Meshram"},"score":0,"creation_date":1696579251,"post_id":77242359,"comment_id":136173903,"body_markdown":"I will try to give answers on the basis of the question which I understand. \n\nI assume you don&#39;t want an insert duplicate movie value on JTable which got from the txtMovie field, then you can use some approach before sets value on JTable such as\n\nUsed Set collection to get unique value or read JTable to check if the value is present on the table.","body":"I will try to give answers on the basis of the question which I understand.   I assume you don&#39;t want an insert duplicate movie value on JTable which got from the txtMovie field, then you can use some approach before sets value on JTable such as  Used Set collection to get unique value or read JTable to check if the value is present on the table."}],"owner":{"account_id":29610274,"reputation":1,"user_id":22693700,"display_name":"b222n"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696602238,"creation_date":1696574993,"question_id":77242359,"body_markdown":"This is a jtable code that receives data in order when you click the insert button. What should I do if I get a duplicate value when I receive a value of txtMovie and get an alert message?\r\nthis is my code..\r\n\r\n    private void btnInsertActionPerformed(java.awt.event.ActionEvent evt{\r\n                                          \r\n        int iCntRow=0;\r\n        int iOrder=0;\r\n        int iGallery=0;\r\n        \r\n        iCntRow=jTable1.getRowCount();\r\n        for(int idx=0;idx&lt;jTable1.getRowCount();idx++){\r\n            if(jTable1.getValueAt(idx,0)==null){\r\n                iCntRow=idx;\r\n                break;\r\n            }\r\n        }\r\n        \r\n        iOrder=Integer.parseInt(txtOrder.getText());\r\n        jTable1.setValueAt(iOrder, iCntRow, 0);\r\n        \r\n        \r\n        \r\n        jTable1.setValueAt(txtMovie.getText(), iCntRow, 1);\r\n  \r\n        iGallery=Integer.parseInt(txtGallery.getText());\r\n        jTable1.setValueAt(iGallery, iCntRow, 2);\r\n        \r\n        \r\n    } ","title":"Prevent adding duplicate data into JTable in Java(jtable)","body":"<p>This is a jtable code that receives data in order when you click the insert button. What should I do if I get a duplicate value when I receive a value of txtMovie and get an alert message?\nthis is my code..</p>\n<pre><code>private void btnInsertActionPerformed(java.awt.event.ActionEvent evt{\n                                      \n    int iCntRow=0;\n    int iOrder=0;\n    int iGallery=0;\n    \n    iCntRow=jTable1.getRowCount();\n    for(int idx=0;idx&lt;jTable1.getRowCount();idx++){\n        if(jTable1.getValueAt(idx,0)==null){\n            iCntRow=idx;\n            break;\n        }\n    }\n    \n    iOrder=Integer.parseInt(txtOrder.getText());\n    jTable1.setValueAt(iOrder, iCntRow, 0);\n    \n    \n    \n    jTable1.setValueAt(txtMovie.getText(), iCntRow, 1);\n\n    iGallery=Integer.parseInt(txtGallery.getText());\n    jTable1.setValueAt(iGallery, iCntRow, 2);\n    \n    \n} \n</code></pre>\n"},{"tags":["java","jasper-reports"],"answers":[{"tags":[],"owner":{"account_id":958762,"reputation":4788,"user_id":983559,"display_name":"dada67"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696601947,"creation_date":1696601947,"answer_id":77245209,"question_id":77198941,"body_markdown":"If you know in advance the subreport that the main report is using, you can compile the subreport into a JasperReport object (using the same code as for the main report), pass the JasperReport object as a parameter and use the parameter in the subreport expression.\r\n\r\nSomething like this:\r\n\r\n    JasperReports subreport = compileReport(&quot;subreport.jrxml&quot;);\r\n    ...\r\n    parameters.put(&quot;SUBREPORT&quot;, subreport);\r\n\r\nIn the report:\r\n\r\n    &lt;parameter name=&quot;SUBREPORT&quot; class=&quot;net.sf.jasperreports.engine.JasperReport&quot; isForPrompting=&quot;false&quot;&gt;\r\n        &lt;parameterDescription&gt;&lt;![CDATA[Subreport]]&gt;&lt;/parameterDescription&gt;\r\n    &lt;/parameter&gt;\r\n    ...\r\n    &lt;subreportExpression&gt;&lt;![CDATA[$P{SUBREPORT}]]&gt;&lt;/subreportExpression&gt;\r\n\r\n","title":"How to refer to subreport in main Jasper report if no jasper file is generated?","body":"<p>If you know in advance the subreport that the main report is using, you can compile the subreport into a JasperReport object (using the same code as for the main report), pass the JasperReport object as a parameter and use the parameter in the subreport expression.</p>\n<p>Something like this:</p>\n<pre><code>JasperReports subreport = compileReport(&quot;subreport.jrxml&quot;);\n...\nparameters.put(&quot;SUBREPORT&quot;, subreport);\n</code></pre>\n<p>In the report:</p>\n<pre><code>&lt;parameter name=&quot;SUBREPORT&quot; class=&quot;net.sf.jasperreports.engine.JasperReport&quot; isForPrompting=&quot;false&quot;&gt;\n    &lt;parameterDescription&gt;&lt;![CDATA[Subreport]]&gt;&lt;/parameterDescription&gt;\n&lt;/parameter&gt;\n...\n&lt;subreportExpression&gt;&lt;![CDATA[$P{SUBREPORT}]]&gt;&lt;/subreportExpression&gt;\n</code></pre>\n"}],"owner":{"account_id":15148347,"reputation":827,"user_id":10931326,"display_name":"user10931326"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696601947,"creation_date":1695948295,"question_id":77198941,"body_markdown":"In my Tomcat webapp I have a Java file that is responsible for loading and compiling Jasper jrxml files.\r\n\r\n```\r\nJasperReport jasperReport = reportMap.get(reportName);\r\nif (jasperReport == null) {\r\n\tsynchronized (reportMap) {\r\n\t\tjasperReport = reportMap.get(reportName);\r\n\t\tif (jasperReport == null) {\r\n\t\t\tInputStream in;\r\n\t\t\tif (reportName.contains(&quot;csv&quot;))\r\n\t\t\t\tin = getClass().getClassLoader().getResourceAsStream(\r\n\t\t\t\t        &quot;report/&quot; + reportName + &quot;_CSV.jrxml&quot;);\r\n\t\t\telse\r\n\t\t\t\tin = getClass().getClassLoader().getResourceAsStream(\r\n\t\t\t\t        &quot;report/&quot; + reportName + &quot;.jrxml&quot;);\r\n\t\t\tJasperDesign design = JRXmlLoader.load(in);\r\n\t\t\tjasperReport = JasperCompileManager.compileReport(design);\r\n\t\t\treportMap.put(reportName, jasperReport);\r\n\t\t}\r\n\t}\r\n}\r\nreturn jasperReport;\r\n```\r\n\r\nThis has worked fine so far because the report templates I inherited don&#39;t have subreports, but the problem I&#39;m facing now is that I&#39;m developing a new report template, and its requirements necessitate the use of subreports.\r\n\r\nThese are the steps I&#39;ve done so far:\r\n\r\n1. Created `subreport.jrxml` file in the same folder as all my other jrxml files - in this case, the `report` folder (i.e `report/subreport.jrxml`)\r\n\r\n2. Added the following parameter for the subreport in `mainreport.jrxml`:\r\n```\r\n&lt;parameter name=&quot;SUBREPORT_DATA&quot; class=&quot;java.util.List&quot; isForPrompting=&quot;false&quot;&gt;\r\n\t&lt;parameterDescription&gt;&lt;![CDATA[Subreport Data]]&gt;&lt;/parameterDescription&gt;\r\n&lt;/parameter&gt;\r\n```\r\n\r\n3. Added two subreport elements, one in the normal report detail band and the other in the no-data band:\r\n```\r\n&lt;subreport&gt;\r\n\t&lt;reportElement x=&quot;20&quot; y=&quot;150&quot; width=&quot;410&quot; height=&quot;60&quot;/&gt;\r\n\t&lt;dataSourceExpression&gt;&lt;![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($P{SUBREPORT_DATA})]]&gt;&lt;/dataSourceExpression&gt;\r\n\t&lt;subreportExpression&gt;&lt;![CDATA[&quot;subreport.jasper&quot;]]&gt;&lt;/subreportExpression&gt;\r\n&lt;/subreport&gt;\r\n```\r\n\r\nTo test whether the subreport is being displayed correctly, `subreport.jrxml` is all string stubs for now.\r\n\r\nWhen I test this in my webapp, I get the following exception:\r\n```\r\nCaused by: net.sf.jasperreports.engine.JRException: Resource not found at : subreport.jasper\r\n\tat net.sf.jasperreports.repo.RepositoryUtil.getResource(RepositoryUtil.java:155) ~[oss-net-sf-jasperreports-4.1.3.jar:4.1.3]\r\n\tat net.sf.jasperreports.repo.RepositoryUtil.getReport(RepositoryUtil.java:126) ~[oss-net-sf-jasperreports-4.1.3.jar:4.1.3]\r\n\tat net.sf.jasperreports.engine.fill.JRFillSubreport.evaluateReport(JRFillSubreport.java:317) ~[oss-net-sf-jasperreports-4.1.3.jar:4.1.3]\r\n\tat net.sf.jasperreports.engine.fill.JRFillSubreport.evaluateSubreport(JRFillSubreport.java:347) ~[oss-net-sf-jasperreports-4.1.3.jar:4.1.3]\r\n\tat net.sf.jasperreports.engine.fill.JRFillSubreport.evaluate(JRFillSubreport.java:275) ~[oss-net-sf-jasperreports-4.1.3.jar:4.1.3]\r\n\tat net.sf.jasperreports.engine.fill.JRFillElementContainer.evaluate(JRFillElementContainer.java:257) ~[oss-net-sf-jasperreports-4.1.3.jar:4.1.3]\r\n\tat net.sf.jasperreports.engine.fill.JRFillBand.evaluate(JRFillBand.java:473) ~[oss-net-sf-jasperreports-4.1.3.jar:4.1.3]\r\n\tat net.sf.jasperreports.engine.fill.JRVerticalFiller.fillNoData(JRVerticalFiller.java:2192) ~[oss-net-sf-jasperreports-4.1.3.jar:4.1.3]\r\n\tat net.sf.jasperreports.engine.fill.JRVerticalFiller.fillReport(JRVerticalFiller.java:207) ~[oss-net-sf-jasperreports-4.1.3.jar:4.1.3]\r\n\tat net.sf.jasperreports.engine.fill.JRBaseFiller.fill(JRBaseFiller.java:836) ~[oss-net-sf-jasperreports-4.1.3.jar:4.1.3]\r\n\tat net.sf.jasperreports.engine.fill.JRBaseFiller.fill(JRBaseFiller.java:765) ~[oss-net-sf-jasperreports-4.1.3.jar:4.1.3]\r\n\tat net.sf.jasperreports.engine.fill.JRFiller.fillReport(JRFiller.java:84) ~[oss-net-sf-jasperreports-4.1.3.jar:4.1.3]\r\n\tat net.sf.jasperreports.engine.JasperFillManager.fillReport(JasperFillManager.java:624) ~[oss-net-sf-jasperreports-4.1.3.jar:4.1.3]\r\n...\r\n```\r\n\r\nObviously the subreport expression is wrong, but I don&#39;t know what I should change it to (`report/subreport.jasper` didn&#39;t work either.) - I did a quick search of my file system and it seems like no jasper file is being generated?","title":"How to refer to subreport in main Jasper report if no jasper file is generated?","body":"<p>In my Tomcat webapp I have a Java file that is responsible for loading and compiling Jasper jrxml files.</p>\n<pre><code>JasperReport jasperReport = reportMap.get(reportName);\nif (jasperReport == null) {\n    synchronized (reportMap) {\n        jasperReport = reportMap.get(reportName);\n        if (jasperReport == null) {\n            InputStream in;\n            if (reportName.contains(&quot;csv&quot;))\n                in = getClass().getClassLoader().getResourceAsStream(\n                        &quot;report/&quot; + reportName + &quot;_CSV.jrxml&quot;);\n            else\n                in = getClass().getClassLoader().getResourceAsStream(\n                        &quot;report/&quot; + reportName + &quot;.jrxml&quot;);\n            JasperDesign design = JRXmlLoader.load(in);\n            jasperReport = JasperCompileManager.compileReport(design);\n            reportMap.put(reportName, jasperReport);\n        }\n    }\n}\nreturn jasperReport;\n</code></pre>\n<p>This has worked fine so far because the report templates I inherited don't have subreports, but the problem I'm facing now is that I'm developing a new report template, and its requirements necessitate the use of subreports.</p>\n<p>These are the steps I've done so far:</p>\n<ol>\n<li><p>Created <code>subreport.jrxml</code> file in the same folder as all my other jrxml files - in this case, the <code>report</code> folder (i.e <code>report/subreport.jrxml</code>)</p>\n</li>\n<li><p>Added the following parameter for the subreport in <code>mainreport.jrxml</code>:</p>\n</li>\n</ol>\n<pre><code>&lt;parameter name=&quot;SUBREPORT_DATA&quot; class=&quot;java.util.List&quot; isForPrompting=&quot;false&quot;&gt;\n    &lt;parameterDescription&gt;&lt;![CDATA[Subreport Data]]&gt;&lt;/parameterDescription&gt;\n&lt;/parameter&gt;\n</code></pre>\n<ol start=\"3\">\n<li>Added two subreport elements, one in the normal report detail band and the other in the no-data band:</li>\n</ol>\n<pre><code>&lt;subreport&gt;\n    &lt;reportElement x=&quot;20&quot; y=&quot;150&quot; width=&quot;410&quot; height=&quot;60&quot;/&gt;\n    &lt;dataSourceExpression&gt;&lt;![CDATA[new net.sf.jasperreports.engine.data.JRBeanCollectionDataSource($P{SUBREPORT_DATA})]]&gt;&lt;/dataSourceExpression&gt;\n    &lt;subreportExpression&gt;&lt;![CDATA[&quot;subreport.jasper&quot;]]&gt;&lt;/subreportExpression&gt;\n&lt;/subreport&gt;\n</code></pre>\n<p>To test whether the subreport is being displayed correctly, <code>subreport.jrxml</code> is all string stubs for now.</p>\n<p>When I test this in my webapp, I get the following exception:</p>\n<pre><code>Caused by: net.sf.jasperreports.engine.JRException: Resource not found at : subreport.jasper\n    at net.sf.jasperreports.repo.RepositoryUtil.getResource(RepositoryUtil.java:155) ~[oss-net-sf-jasperreports-4.1.3.jar:4.1.3]\n    at net.sf.jasperreports.repo.RepositoryUtil.getReport(RepositoryUtil.java:126) ~[oss-net-sf-jasperreports-4.1.3.jar:4.1.3]\n    at net.sf.jasperreports.engine.fill.JRFillSubreport.evaluateReport(JRFillSubreport.java:317) ~[oss-net-sf-jasperreports-4.1.3.jar:4.1.3]\n    at net.sf.jasperreports.engine.fill.JRFillSubreport.evaluateSubreport(JRFillSubreport.java:347) ~[oss-net-sf-jasperreports-4.1.3.jar:4.1.3]\n    at net.sf.jasperreports.engine.fill.JRFillSubreport.evaluate(JRFillSubreport.java:275) ~[oss-net-sf-jasperreports-4.1.3.jar:4.1.3]\n    at net.sf.jasperreports.engine.fill.JRFillElementContainer.evaluate(JRFillElementContainer.java:257) ~[oss-net-sf-jasperreports-4.1.3.jar:4.1.3]\n    at net.sf.jasperreports.engine.fill.JRFillBand.evaluate(JRFillBand.java:473) ~[oss-net-sf-jasperreports-4.1.3.jar:4.1.3]\n    at net.sf.jasperreports.engine.fill.JRVerticalFiller.fillNoData(JRVerticalFiller.java:2192) ~[oss-net-sf-jasperreports-4.1.3.jar:4.1.3]\n    at net.sf.jasperreports.engine.fill.JRVerticalFiller.fillReport(JRVerticalFiller.java:207) ~[oss-net-sf-jasperreports-4.1.3.jar:4.1.3]\n    at net.sf.jasperreports.engine.fill.JRBaseFiller.fill(JRBaseFiller.java:836) ~[oss-net-sf-jasperreports-4.1.3.jar:4.1.3]\n    at net.sf.jasperreports.engine.fill.JRBaseFiller.fill(JRBaseFiller.java:765) ~[oss-net-sf-jasperreports-4.1.3.jar:4.1.3]\n    at net.sf.jasperreports.engine.fill.JRFiller.fillReport(JRFiller.java:84) ~[oss-net-sf-jasperreports-4.1.3.jar:4.1.3]\n    at net.sf.jasperreports.engine.JasperFillManager.fillReport(JasperFillManager.java:624) ~[oss-net-sf-jasperreports-4.1.3.jar:4.1.3]\n...\n</code></pre>\n<p>Obviously the subreport expression is wrong, but I don't know what I should change it to (<code>report/subreport.jasper</code> didn't work either.) - I did a quick search of my file system and it seems like no jasper file is being generated?</p>\n"},{"tags":["java","kubernetes","amazon-eks","pulumi"],"comments":[{"owner":{"account_id":324433,"reputation":12660,"user_id":645002,"accept_rate":55,"display_name":"jaxxstorm"},"score":0,"creation_date":1696600690,"post_id":77244661,"comment_id":136178024,"body_markdown":"Please post the full code, including imported dependencies","body":"Please post the full code, including imported dependencies"},{"owner":{"account_id":54359,"reputation":9223,"user_id":162622,"accept_rate":51,"display_name":"Kiva"},"score":0,"creation_date":1696601928,"post_id":77244661,"comment_id":136178296,"body_markdown":"done @jaxxstorm","body":"done @jaxxstorm"}],"owner":{"account_id":54359,"reputation":9223,"user_id":162622,"accept_rate":51,"display_name":"Kiva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696601915,"creation_date":1696597214,"question_id":77244661,"body_markdown":"I&#39;m trying to PoC pulumi and the eks module.\r\n\r\nMy code is really simple for now but I have a weird exception:\r\n\r\n```java\r\nimport com.pulumi.eks.Cluster;\r\nimport com.pulumi.eks.ClusterArgs;\r\n\r\npublic class EKS {\r\n\r\npublic Cluster createEKS(Network network, Context ctx) {\r\n Role role = getClusterRole();\r\n\r\n var cluster = new Cluster(&quot;pulumi-cluster&quot;, ClusterArgs.builder()\r\n   .minSize(2)\r\n   .maxSize(5)\r\n   .desiredCapacity(2)\r\n   .vpcId(network.vpc().id())\r\n   .version(&quot;1.27&quot;)\r\n   .instanceType(&quot;t2.small&quot;)\r\n   .publicSubnetIds(network.subnetsEksId())\r\n   .privateSubnetIds(network.subnetsEksId())\r\n   .serviceRole(role)\r\n   .build());\r\n}\r\n\r\n    private Role getClusterRole() {\r\n        var role = new Role(&quot;pulumi-eks-role&quot;, RoleArgs.builder()\r\n                .assumeRolePolicy(\r\n                        &quot;&quot;&quot;\r\n                                {\r\n                                    &quot;Version&quot;: &quot;2012-10-17&quot;,\r\n                                    &quot;Statement&quot;: [\r\n                                        {\r\n                                            &quot;Effect&quot;: &quot;Allow&quot;,\r\n                                            &quot;Principal&quot;: {\r\n                                                &quot;Service&quot;: &quot;eks.amazonaws.com&quot;\r\n                                            },\r\n                                            &quot;Action&quot;: &quot;sts:AssumeRole&quot;\r\n                                        }\r\n                                    ]\r\n                                }\r\n                                &quot;&quot;&quot;).build());\r\n\r\n        new RolePolicyAttachment(&quot;pulumi-eks-policy-attachment&quot;,\r\n                RolePolicyAttachmentArgs.builder()\r\n                        .policyArn(&quot;arn:aws:iam::aws:policy/AmazonEKSClusterPolicy&quot;)\r\n                        .role(role.id()).build());\r\n        return role;\r\n    }\r\n}\r\n```\r\nwhere network works fine and define my vpc / subnets and role an eks admin policy.\r\n\r\nWhen I run a `pulumi up`, I get the following:\r\n\r\n```java\r\njava.util.concurrent.CompletionException: java.lang.NoClassDefFoundError: com/pulumi/kubernetes/core_v1/ConfigMap\r\n    \tat java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)\r\n    \tat java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:649)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:483)\r\n    \tat java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843)\r\n    \tat java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808)\r\n    \tat java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188)\r\n    Caused by: java.lang.NoClassDefFoundError: com/pulumi/kubernetes/core_v1/ConfigMap\r\n    \tat java.base/java.lang.Class.getDeclaredMethods0(Native Method)\r\n    \tat java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3578)\r\n    \tat java.base/java.lang.Class.getDeclaredMethods(Class.java:2676)\r\n    \tat com.pulumi.serialization.internal.Converter.processSetters(Converter.java:851)\r\n    \tat com.pulumi.serialization.internal.Converter.collectSetters(Converter.java:847)\r\n    \tat com.pulumi.serialization.internal.Converter.checkTargetType(Converter.java:829)\r\n    \tat com.pulumi.serialization.internal.Converter.checkTargetType(Converter.java:675)\r\n    \tat com.pulumi.serialization.internal.Converter.convertValue(Converter.java:78)\r\n    \tat com.pulumi.core.internal.OutputCompletionSource.setValue(OutputCompletionSource.java:95)\r\n    \tat com.pulumi.deployment.internal.DeploymentImpl$ReadOrRegisterResourceInternal.lambda$completeResourceAsync$0(DeploymentImpl.java:1187)\r\n    \tat java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)\r\n    \t... 6 more\r\n    Caused by: java.lang.ClassNotFoundException: com.pulumi.kubernetes.core_v1.ConfigMap\r\n    \tat java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:593)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)\r\n    \t... 17 more\r\n```\r\n\r\nI have a package from com.pulumi:kubernetes dependency which is `com.pulumi.kubernetes.core.v1.ConfigMap` but not with an *_*\r\n\r\nDo you know where this error comes from ?\r\n\r\npulumi version: v3.84.0\r\n\r\npulumi-kubernetes: 4.3.0\r\n\r\npulumi-eks: 1.0.3\r\n\r\npulumi-aws: 6.3.0\r\n\r\nkubectl: 1.28\r\n","title":"Pulumi: Class not found kubernetes.core_v1.ConfigMap and EKS cluster","body":"<p>I'm trying to PoC pulumi and the eks module.</p>\n<p>My code is really simple for now but I have a weird exception:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import com.pulumi.eks.Cluster;\nimport com.pulumi.eks.ClusterArgs;\n\npublic class EKS {\n\npublic Cluster createEKS(Network network, Context ctx) {\n Role role = getClusterRole();\n\n var cluster = new Cluster(&quot;pulumi-cluster&quot;, ClusterArgs.builder()\n   .minSize(2)\n   .maxSize(5)\n   .desiredCapacity(2)\n   .vpcId(network.vpc().id())\n   .version(&quot;1.27&quot;)\n   .instanceType(&quot;t2.small&quot;)\n   .publicSubnetIds(network.subnetsEksId())\n   .privateSubnetIds(network.subnetsEksId())\n   .serviceRole(role)\n   .build());\n}\n\n    private Role getClusterRole() {\n        var role = new Role(&quot;pulumi-eks-role&quot;, RoleArgs.builder()\n                .assumeRolePolicy(\n                        &quot;&quot;&quot;\n                                {\n                                    &quot;Version&quot;: &quot;2012-10-17&quot;,\n                                    &quot;Statement&quot;: [\n                                        {\n                                            &quot;Effect&quot;: &quot;Allow&quot;,\n                                            &quot;Principal&quot;: {\n                                                &quot;Service&quot;: &quot;eks.amazonaws.com&quot;\n                                            },\n                                            &quot;Action&quot;: &quot;sts:AssumeRole&quot;\n                                        }\n                                    ]\n                                }\n                                &quot;&quot;&quot;).build());\n\n        new RolePolicyAttachment(&quot;pulumi-eks-policy-attachment&quot;,\n                RolePolicyAttachmentArgs.builder()\n                        .policyArn(&quot;arn:aws:iam::aws:policy/AmazonEKSClusterPolicy&quot;)\n                        .role(role.id()).build());\n        return role;\n    }\n}\n</code></pre>\n<p>where network works fine and define my vpc / subnets and role an eks admin policy.</p>\n<p>When I run a <code>pulumi up</code>, I get the following:</p>\n<pre class=\"lang-java prettyprint-override\"><code>java.util.concurrent.CompletionException: java.lang.NoClassDefFoundError: com/pulumi/kubernetes/core_v1/ConfigMap\n        at java.base/java.util.concurrent.CompletableFuture.encodeThrowable(CompletableFuture.java:315)\n        at java.base/java.util.concurrent.CompletableFuture.completeThrowable(CompletableFuture.java:320)\n        at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:649)\n        at java.base/java.util.concurrent.CompletableFuture$Completion.exec(CompletableFuture.java:483)\n        at java.base/java.util.concurrent.ForkJoinTask.doExec(ForkJoinTask.java:387)\n        at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(ForkJoinPool.java:1312)\n        at java.base/java.util.concurrent.ForkJoinPool.scan(ForkJoinPool.java:1843)\n        at java.base/java.util.concurrent.ForkJoinPool.runWorker(ForkJoinPool.java:1808)\n        at java.base/java.util.concurrent.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:188)\n    Caused by: java.lang.NoClassDefFoundError: com/pulumi/kubernetes/core_v1/ConfigMap\n        at java.base/java.lang.Class.getDeclaredMethods0(Native Method)\n        at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3578)\n        at java.base/java.lang.Class.getDeclaredMethods(Class.java:2676)\n        at com.pulumi.serialization.internal.Converter.processSetters(Converter.java:851)\n        at com.pulumi.serialization.internal.Converter.collectSetters(Converter.java:847)\n        at com.pulumi.serialization.internal.Converter.checkTargetType(Converter.java:829)\n        at com.pulumi.serialization.internal.Converter.checkTargetType(Converter.java:675)\n        at com.pulumi.serialization.internal.Converter.convertValue(Converter.java:78)\n        at com.pulumi.core.internal.OutputCompletionSource.setValue(OutputCompletionSource.java:95)\n        at com.pulumi.deployment.internal.DeploymentImpl$ReadOrRegisterResourceInternal.lambda$completeResourceAsync$0(DeploymentImpl.java:1187)\n        at java.base/java.util.concurrent.CompletableFuture$UniApply.tryFire(CompletableFuture.java:646)\n        ... 6 more\n    Caused by: java.lang.ClassNotFoundException: com.pulumi.kubernetes.core_v1.ConfigMap\n        at java.base/java.net.URLClassLoader.findClass(URLClassLoader.java:445)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:593)\n        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:526)\n        ... 17 more\n</code></pre>\n<p>I have a package from com.pulumi:kubernetes dependency which is <code>com.pulumi.kubernetes.core.v1.ConfigMap</code> but not with an <em>_</em></p>\n<p>Do you know where this error comes from ?</p>\n<p>pulumi version: v3.84.0</p>\n<p>pulumi-kubernetes: 4.3.0</p>\n<p>pulumi-eks: 1.0.3</p>\n<p>pulumi-aws: 6.3.0</p>\n<p>kubectl: 1.28</p>\n"},{"tags":["java","linux","intellij-idea","mariadb","mysql-connector"],"comments":[{"owner":{"account_id":285638,"reputation":10283,"user_id":584420,"accept_rate":60,"display_name":"James Jithin"},"score":0,"creation_date":1696592998,"post_id":77244166,"comment_id":136176387,"body_markdown":"Try following - https://stackoverflow.com/a/72752009/584420 if you have the mysql driver jar downloaded. Then register the driver and the rest of the steps. If you want to do maven way, follow the other answers of the same post.","body":"Try following - <a href=\"https://stackoverflow.com/a/72752009/584420\">stackoverflow.com/a/72752009/584420</a> if you have the mysql driver jar downloaded. Then register the driver and the rest of the steps. If you want to do maven way, follow the other answers of the same post."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1696593678,"post_id":77244166,"comment_id":136176501,"body_markdown":"If you use Gradle, then you shoudn&#39;t download and install and manipulate the classpath manually. The only thing you should do is to add the dependency to the gradle file (and reimport in IntelliJ).","body":"If you use Gradle, then you shoudn&#39;t download and install and manipulate the classpath manually. The only thing you should do is to add the dependency to the gradle file (and reimport in IntelliJ)."},{"owner":{"account_id":208830,"reputation":10240,"user_id":459557,"display_name":"vanje"},"score":0,"creation_date":1696594023,"post_id":77244166,"comment_id":136176568,"body_markdown":"You can search for the package like here: https://mvnrepository.com/artifact/org.mariadb.jdbc/mariadb-java-client/3.2.0. The tabs below contain the exact code to add to your build file.","body":"You can search for the package like here: <a href=\"https://mvnrepository.com/artifact/org.mariadb.jdbc/mariadb-java-client/3.2.0\" rel=\"nofollow noreferrer\">mvnrepository.com/artifact/org.mariadb.jdbc/mariadb-java-cli&zwnj;&#8203;ent/&hellip;</a>. The tabs below contain the exact code to add to your build file."},{"owner":{"account_id":14354937,"reputation":11,"user_id":10468824,"display_name":"Max Pershin"},"score":0,"creation_date":1696594214,"post_id":77244166,"comment_id":136176603,"body_markdown":"@vanje - I feel myself really silly right now\n\nI could&#39;t find exact place where I could find gradle dependencies so I always skipped a mvnrepository.com thinking it&#39;s only about Maven\n\nThank you so much - adding just a one line solved my 8-hour problem","body":"@vanje - I feel myself really silly right now  I could&#39;t find exact place where I could find gradle dependencies so I always skipped a mvnrepository.com thinking it&#39;s only about Maven  Thank you so much - adding just a one line solved my 8-hour problem"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1696601806,"post_id":77244166,"comment_id":136178265,"body_markdown":"`static final String DB_URL = &quot;jdbc:mariadb://localhost/testdb&quot;;` actually, if you&#39;re using mariadb-server","body":"<code>static final String DB_URL = &quot;jdbc:mariadb:&#47;&#47;localhost&#47;testdb&quot;;</code> actually, if you&#39;re using mariadb-server"}],"owner":{"account_id":14354937,"reputation":11,"user_id":10468824,"display_name":"Max Pershin"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1696609339,"answer_count":0,"score":0,"last_activity_date":1696601908,"creation_date":1696592675,"question_id":77244166,"body_markdown":"I am doing some minor project for my work using Java with IntelliJ IDEA as IDE and Gradle.  \r\nI decided to use MySQL database inside of my project.  \r\nI installed MySQL from Manjaro repository and choose default MariaDB\r\n\r\nInstallation and setup was successful - server working fine on my local machine and I can manipulate databases and tables from command line\r\n\r\nNext step for me was to add database to java.  \r\nTo do so I used \r\n`DriverManager class` from `java.sql.*`\r\n\r\nBTW this database will be used on my local machine only\r\n\r\nNext step was to upload driver.\r\n\r\nIt was a bit struggle for me because I was unsure which one to pick - `mysql-connector-j-8.1.0.jar` or `mariadb-java-client-3.2.0-sources.jar`\r\n\r\nI found an info that DriverManager will choose appropriate for me so it is not a big deal - so I downloaded both.\r\n\r\nThen I first met my problem - an error telling me that \r\n```\r\njava.sql.SQLException: No suitable driver found for jdbc:mysql://localhost/testdb\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:708)\r\n\tat java.sql/java.sql.DriverManager.getConnection(DriverManager.java:230)\r\n\tat DatabaseHandler.main(DatabaseHandler.java:11)\r\n```\r\n\r\nI checked breakpoints and find out that collection size where `DriverManager` stores all found drivers was equal to 0 so I thought that my problem is in `CLASSPATH` environment variable.\r\n\r\nHere is my code where I try to create simple interaction with DB:\r\n\r\n```\r\nimport java.sql.*;\r\n\r\npublic class DatabaseHandler {\r\n    static final String DB_URL = &quot;jdbc:mysql://localhost/testdb&quot;;\r\n    static final String USER = &quot;max&quot;;\r\n    static final String PASS = &quot;12345&quot;;\r\n    static final String QUERY = &quot;SELECT * FROM Users&quot;;\r\n\r\n    public static void main(String[] args) {\r\n        // Open a connection\r\n        try(Connection conn = DriverManager.getConnection(DB_URL, USER, PASS);\r\n            Statement stmt = conn.createStatement();\r\n            ResultSet rs = stmt.executeQuery(QUERY);) {\r\n            // Extract data from result set\r\n            while (rs.next()) {\r\n                // Retrieve by column name\r\n                System.out.print(&quot;ID: &quot; + rs.getInt(&quot;id&quot;));\r\n                System.out.print(&quot;, Age: &quot; + rs.getInt(&quot;age&quot;));\r\n                System.out.print(&quot;, First: &quot; + rs.getString(&quot;first&quot;));\r\n                System.out.println(&quot;, Last: &quot; + rs.getString(&quot;last&quot;));\r\n            }\r\n        } catch (SQLException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nSo far I tried to set up `CLASSPATH` with\r\n`export CLASSPATH=/home/max/code/libs`.\r\n\r\nSo this path is where my jars are.  \r\nAlso I tried to add names of those jars after libs... Still same error\r\n\r\nI tried to copy those jars into java-related folder but still miss...\r\n\r\nI found out that IntelliJ itself has some kind of it&#39;s own IDEA_CLASSPATH or something but adding to this value also did nothing\r\n\r\nCould you please tell me in which direction should I think or where did I get things wrong?\r\n\r\nCurrently using Linux Manjaro / IntelliJ Idea / Gradle","title":"Can&#39;t set up connector for MySQL (MariaDB) in Java using IntelliJ on Linux (Manjaro)","body":"<p>I am doing some minor project for my work using Java with IntelliJ IDEA as IDE and Gradle.<br />\nI decided to use MySQL database inside of my project.<br />\nI installed MySQL from Manjaro repository and choose default MariaDB</p>\n<p>Installation and setup was successful - server working fine on my local machine and I can manipulate databases and tables from command line</p>\n<p>Next step for me was to add database to java.<br />\nTo do so I used\n<code>DriverManager class</code> from <code>java.sql.*</code></p>\n<p>BTW this database will be used on my local machine only</p>\n<p>Next step was to upload driver.</p>\n<p>It was a bit struggle for me because I was unsure which one to pick - <code>mysql-connector-j-8.1.0.jar</code> or <code>mariadb-java-client-3.2.0-sources.jar</code></p>\n<p>I found an info that DriverManager will choose appropriate for me so it is not a big deal - so I downloaded both.</p>\n<p>Then I first met my problem - an error telling me that</p>\n<pre><code>java.sql.SQLException: No suitable driver found for jdbc:mysql://localhost/testdb\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:708)\n    at java.sql/java.sql.DriverManager.getConnection(DriverManager.java:230)\n    at DatabaseHandler.main(DatabaseHandler.java:11)\n</code></pre>\n<p>I checked breakpoints and find out that collection size where <code>DriverManager</code> stores all found drivers was equal to 0 so I thought that my problem is in <code>CLASSPATH</code> environment variable.</p>\n<p>Here is my code where I try to create simple interaction with DB:</p>\n<pre><code>import java.sql.*;\n\npublic class DatabaseHandler {\n    static final String DB_URL = &quot;jdbc:mysql://localhost/testdb&quot;;\n    static final String USER = &quot;max&quot;;\n    static final String PASS = &quot;12345&quot;;\n    static final String QUERY = &quot;SELECT * FROM Users&quot;;\n\n    public static void main(String[] args) {\n        // Open a connection\n        try(Connection conn = DriverManager.getConnection(DB_URL, USER, PASS);\n            Statement stmt = conn.createStatement();\n            ResultSet rs = stmt.executeQuery(QUERY);) {\n            // Extract data from result set\n            while (rs.next()) {\n                // Retrieve by column name\n                System.out.print(&quot;ID: &quot; + rs.getInt(&quot;id&quot;));\n                System.out.print(&quot;, Age: &quot; + rs.getInt(&quot;age&quot;));\n                System.out.print(&quot;, First: &quot; + rs.getString(&quot;first&quot;));\n                System.out.println(&quot;, Last: &quot; + rs.getString(&quot;last&quot;));\n            }\n        } catch (SQLException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>So far I tried to set up <code>CLASSPATH</code> with\n<code>export CLASSPATH=/home/max/code/libs</code>.</p>\n<p>So this path is where my jars are.<br />\nAlso I tried to add names of those jars after libs... Still same error</p>\n<p>I tried to copy those jars into java-related folder but still miss...</p>\n<p>I found out that IntelliJ itself has some kind of it's own IDEA_CLASSPATH or something but adding to this value also did nothing</p>\n<p>Could you please tell me in which direction should I think or where did I get things wrong?</p>\n<p>Currently using Linux Manjaro / IntelliJ Idea / Gradle</p>\n"},{"tags":["java","spring-mvc","redis","pom.xml"],"answers":[{"comments":[{"owner":{"account_id":29381819,"reputation":3,"user_id":22512151,"display_name":"Ali Khan"},"score":1,"creation_date":1696611194,"post_id":77245199,"comment_id":136180113,"body_markdown":"Dont understand what you mean. Can you please elaborate a bit more instead of just one line text. I m a beginner.","body":"Dont understand what you mean. Can you please elaborate a bit more instead of just one line text. I m a beginner."},{"owner":{"account_id":29381819,"reputation":3,"user_id":22512151,"display_name":"Ali Khan"},"score":0,"creation_date":1696611371,"post_id":77245199,"comment_id":136180144,"body_markdown":"what you said has no link with the redis issue I m facing. If so then explain in detail how to fix it.","body":"what you said has no link with the redis issue I m facing. If so then explain in detail how to fix it."},{"owner":{"account_id":15361537,"reputation":1,"user_id":11082241,"display_name":"Eric"},"score":0,"creation_date":1696645724,"post_id":77245199,"comment_id":136183867,"body_markdown":"When multiple versions conflict, you can find unwanted versions and break dependencies","body":"When multiple versions conflict, you can find unwanted versions and break dependencies"},{"owner":{"account_id":29381819,"reputation":3,"user_id":22512151,"display_name":"Ali Khan"},"score":0,"creation_date":1696664068,"post_id":77245199,"comment_id":136184905,"body_markdown":"Thats not an answer. You need to provide solution as well rather than just one line,","body":"Thats not an answer. You need to provide solution as well rather than just one line,"}],"tags":[],"owner":{"account_id":15361537,"reputation":1,"user_id":11082241,"display_name":"Eric"},"comment_count":4,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1696601893,"creation_date":1696601893,"answer_id":77245199,"question_id":77245132,"body_markdown":"Your project may import multiple spring-context-support.jar.","title":"Java Spring MVC redis issue in Redis Cache manager","body":"<p>Your project may import multiple spring-context-support.jar.</p>\n"}],"owner":{"account_id":29381819,"reputation":3,"user_id":22512151,"display_name":"Ali Khan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696601893,"creation_date":1696601317,"question_id":77245132,"body_markdown":"I m trying to use Redis in Spring MVC. I have added Redis cache dependencies in `pom.xml` created configuration file for Redis but it keeps throwing error. Please see the error below.\r\n\r\n    `The type org.springframework.cache.transaction.AbstractTransactionSupportingCacheManager cannot be resolved. It is indirectly referenced from required type org.springframework.data.redis.cache.RedisCacheManager`\r\n\r\nThis error is generated from the configuration file below:\r\n\r\n\r\n        import org.springframework.context.annotation.Bean;\r\n        import org.springframework.context.annotation.Configuration;\r\n        import org.springframework.data.redis.cache.RedisCacheManager;\r\n        import org.springframework.data.redis.connection.jedis.JedisConnectionFactory;\r\n        import org.springframework.data.redis.core.RedisTemplate;\r\n        import org.springframework.data.redis.serializer.Jackson2JsonRedisSerializer;\r\n        import org.springframework.data.redis.serializer.StringRedisSerializer;\r\n\r\n        @Configuration\r\n        public class RedisConfig {\r\n            @Bean\r\n            public JedisConnectionFactory jedisConnectionFactory() {\r\n                JedisConnectionFactory factory = new JedisConnectionFactory();\r\n                factory.setHostName(&quot;&quot;);\r\n                factory.setPort(&quot;);\r\n                factory.setPassword(&quot;&quot;);\r\n                return factory;\r\n            }\r\n\r\n            @Bean\r\n            public RedisTemplate&lt;String, Object&gt; redisTemplate() {\r\n                RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\r\n                template.setConnectionFactory(jedisConnectionFactory());\r\n                template.setKeySerializer(new StringRedisSerializer());\r\n                template.setValueSerializer(new Jackson2JsonRedisSerializer&lt;&gt;(Object.class));\r\n                return template;\r\n            }\r\n            \r\n            @Bean\r\n            public RedisCacheManager cacheManager() {\r\n                RedisCacheManager cacheManager = RedisCacheManager.builder(jedisConnectionFactory()).build(); // The erorr is generated on this line\r\n                return cacheManager;\r\n            }\r\n\r\n        }`\r\n\r\n\r\nThe error is generated on this code below:\r\n\r\n            @Bean\r\n            public RedisCacheManager cacheManager() {\r\n                RedisCacheManager cacheManager = RedisCacheManager.builder(jedisConnectionFactory()).build(); // The erorr is generated on this line\r\n                return cacheManager;\r\n            }\r\n\r\n\r\n**My pom.xml:**\r\n\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project &gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;xxxx&lt;/groupId&gt;\r\n        &lt;artifactId&gt;xxxx&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;war&lt;/packaging&gt;\r\n        &lt;name&gt;xxxx Maven Webapp&lt;/name&gt;\r\n        &lt;!-- FIXME change it to the project&#39;s website --&gt;\r\n        &lt;url&gt;http://www.example.com&lt;/url&gt;\r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n            &lt;hsqldb.version&gt;1.8.0.10&lt;/hsqldb.version&gt;\r\n            &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\r\n            \r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;!-- spring dependency --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.0.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\r\n                &lt;version&gt;5.2.0.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- jstl dependency --&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\r\n                    &lt;version&gt;4.0.1&lt;/version&gt;\r\n                    &lt;scope&gt;provided&lt;/scope&gt;\r\n                &lt;/dependency&gt;\r\n\r\n            &lt;!-- https://mvnrepository.com/artifact/com.squareup.okhttp3/okhttp --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\r\n                &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.0-alpha01&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- Spring Security Artifacts - START --&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-web --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n                &lt;version&gt;5.4.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-web --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\r\n                &lt;version&gt;5.4.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/javax.xml.ws/jaxws-api --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\n            &lt;!-- Spring Boot Starter Data Redis --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\r\n                &lt;version&gt;2.5.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            \r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nPlease help me out. I m just a beginner and i cant understand how to resolve this issue and use redis. Thanks.\r\n\r\n\r\n\r\n","title":"Java Spring MVC redis issue in Redis Cache manager","body":"<p>I m trying to use Redis in Spring MVC. I have added Redis cache dependencies in <code>pom.xml</code> created configuration file for Redis but it keeps throwing error. Please see the error below.</p>\n<pre><code>`The type org.springframework.cache.transaction.AbstractTransactionSupportingCacheManager cannot be resolved. It is indirectly referenced from required type org.springframework.data.redis.cache.RedisCacheManager`\n</code></pre>\n<p>This error is generated from the configuration file below:</p>\n<pre><code>    import org.springframework.context.annotation.Bean;\n    import org.springframework.context.annotation.Configuration;\n    import org.springframework.data.redis.cache.RedisCacheManager;\n    import org.springframework.data.redis.connection.jedis.JedisConnectionFactory;\n    import org.springframework.data.redis.core.RedisTemplate;\n    import org.springframework.data.redis.serializer.Jackson2JsonRedisSerializer;\n    import org.springframework.data.redis.serializer.StringRedisSerializer;\n\n    @Configuration\n    public class RedisConfig {\n        @Bean\n        public JedisConnectionFactory jedisConnectionFactory() {\n            JedisConnectionFactory factory = new JedisConnectionFactory();\n            factory.setHostName(&quot;&quot;);\n            factory.setPort(&quot;);\n            factory.setPassword(&quot;&quot;);\n            return factory;\n        }\n\n        @Bean\n        public RedisTemplate&lt;String, Object&gt; redisTemplate() {\n            RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\n            template.setConnectionFactory(jedisConnectionFactory());\n            template.setKeySerializer(new StringRedisSerializer());\n            template.setValueSerializer(new Jackson2JsonRedisSerializer&lt;&gt;(Object.class));\n            return template;\n        }\n        \n        @Bean\n        public RedisCacheManager cacheManager() {\n            RedisCacheManager cacheManager = RedisCacheManager.builder(jedisConnectionFactory()).build(); // The erorr is generated on this line\n            return cacheManager;\n        }\n\n    }`\n</code></pre>\n<p>The error is generated on this code below:</p>\n<pre><code>        @Bean\n        public RedisCacheManager cacheManager() {\n            RedisCacheManager cacheManager = RedisCacheManager.builder(jedisConnectionFactory()).build(); // The erorr is generated on this line\n            return cacheManager;\n        }\n</code></pre>\n<p><strong>My pom.xml:</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project &gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;xxxx&lt;/groupId&gt;\n    &lt;artifactId&gt;xxxx&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;war&lt;/packaging&gt;\n    &lt;name&gt;xxxx Maven Webapp&lt;/name&gt;\n    &lt;!-- FIXME change it to the project's website --&gt;\n    &lt;url&gt;http://www.example.com&lt;/url&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;hsqldb.version&gt;1.8.0.10&lt;/hsqldb.version&gt;\n        &lt;failOnMissingWebXml&gt;false&lt;/failOnMissingWebXml&gt;\n        \n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;!-- spring dependency --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;5.2.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-orm&lt;/artifactId&gt;\n            &lt;version&gt;5.2.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- jstl dependency --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n&lt;!-- https://mvnrepository.com/artifact/javax.servlet/javax.servlet-api --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n                &lt;artifactId&gt;javax.servlet-api&lt;/artifactId&gt;\n                &lt;version&gt;4.0.1&lt;/version&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n            &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/com.squareup.okhttp3/okhttp --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.okhttp3&lt;/groupId&gt;\n            &lt;artifactId&gt;okhttp&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0-alpha01&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Spring Security Artifacts - START --&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-web --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n            &lt;version&gt;5.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.springframework.security/spring-security-web --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-web&lt;/artifactId&gt;\n            &lt;version&gt;5.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/javax.xml.ws/jaxws-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.ws&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxws-api&lt;/artifactId&gt;\n            &lt;version&gt;2.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Spring Boot Starter Data Redis --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-redis&lt;/artifactId&gt;\n            &lt;version&gt;2.5.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Please help me out. I m just a beginner and i cant understand how to resolve this issue and use redis. Thanks.</p>\n"},{"tags":["java","spring","spring-boot","maven","spring-mvc"],"owner":{"account_id":29158271,"reputation":1,"user_id":22337573,"display_name":"Dev Greyneon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696601818,"creation_date":1696601818,"question_id":77245181,"body_markdown":"I&#39;ve created a custom SecurityExpressionRoot which has a method called hasAccess() where i provide module name and permission everything is working fine on local i am using the VSCode with Spring Boot Dashboard to run my application when i try to access any end point which has method on controller **@PreAuthorize(&quot;hasAccess(&#39;ModuleKey&#39;,&#39;Permission&#39;)&quot;)** is working fine and logic work fine but the issue is when i deploy my application on docker and try to access my end point which have the @PreAuthorize annomation is give error that the hasAccess function not found below is complete error detail which i get from docker container logs can any one help me how can i fix this issue is there anything related to docker side setting or i am missing any thing?\r\n\r\n\r\n```\r\n Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: Failed to evaluate expression &#39;hasAccess(&#39;Module&#39;,&#39;Permission&#39;)&#39;] with root cause\r\norg.springframework.expression.spel.SpelEvaluationException: EL1004E: Method call: Method hasAccess(java.lang.String,java.lang.String) cannot be found on type org.springframework.security.access.expression.method.MethodSecurityExpressionRoot\r\n```\r\n\r\n\r\nI&#39;ve already check the classpath list on my jar file and i can see the class name AuthorizeRoot is present on the list which contain the hasAccess method I&#39;ve follow the below link to implement that\r\n\r\nhttps://stackoverflow.com/questions/58224516/spring-boot-configure-custom-methodsecurityexpressionoperations","title":"hasAccess Method not found in docker spring boot Custom SecurityExpressionRoot","body":"<p>I've created a custom SecurityExpressionRoot which has a method called hasAccess() where i provide module name and permission everything is working fine on local i am using the VSCode with Spring Boot Dashboard to run my application when i try to access any end point which has method on controller <strong>@PreAuthorize(&quot;hasAccess('ModuleKey','Permission')&quot;)</strong> is working fine and logic work fine but the issue is when i deploy my application on docker and try to access my end point which have the @PreAuthorize annomation is give error that the hasAccess function not found below is complete error detail which i get from docker container logs can any one help me how can i fix this issue is there anything related to docker side setting or i am missing any thing?</p>\n<pre><code> Servlet.service() for servlet [dispatcherServlet] in context with path [/api] threw exception [Request processing failed; nested exception is java.lang.IllegalArgumentException: Failed to evaluate expression 'hasAccess('Module','Permission')'] with root cause\norg.springframework.expression.spel.SpelEvaluationException: EL1004E: Method call: Method hasAccess(java.lang.String,java.lang.String) cannot be found on type org.springframework.security.access.expression.method.MethodSecurityExpressionRoot\n</code></pre>\n<p>I've already check the classpath list on my jar file and i can see the class name AuthorizeRoot is present on the list which contain the hasAccess method I've follow the below link to implement that</p>\n<p><a href=\"https://stackoverflow.com/questions/58224516/spring-boot-configure-custom-methodsecurityexpressionoperations\">Spring Boot: Configure custom MethodSecurityExpressionOperations?</a></p>\n"},{"tags":["java","optaplanner","timefold"],"answers":[{"tags":[],"owner":{"account_id":13441459,"reputation":1433,"user_id":9698517,"display_name":"Christopher Chianelli"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696601499,"creation_date":1696601499,"answer_id":77245150,"question_id":77244148,"body_markdown":"The `ScoreDirector` does not check if a variable actually changed; when `afterVariableChanged` is called, it assumes that the variable did indeed change and incrementally update its internal score. Nothing bad will happen if the check is omitted, just a performance lost resulting from a pointless incremental update.\r\n\r\nSo, in general, if there is a possibility that the VariableListener/Move does not actually change the entity variable (i.e. `oldValue == newValue`), it is recommended to have the `if (oldValue != newValue)` check to improve performance.","title":"Is it recommended to check if a planning variable really changed before informing the ScoreDirector?","body":"<p>The <code>ScoreDirector</code> does not check if a variable actually changed; when <code>afterVariableChanged</code> is called, it assumes that the variable did indeed change and incrementally update its internal score. Nothing bad will happen if the check is omitted, just a performance lost resulting from a pointless incremental update.</p>\n<p>So, in general, if there is a possibility that the VariableListener/Move does not actually change the entity variable (i.e. <code>oldValue == newValue</code>), it is recommended to have the <code>if (oldValue != newValue)</code> check to improve performance.</p>\n"}],"owner":{"account_id":11139285,"reputation":301,"user_id":8176509,"display_name":"Jonas Erbe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77245150,"answer_count":1,"score":0,"last_activity_date":1696601499,"creation_date":1696592452,"question_id":77244148,"body_markdown":"Is it recommended to check if a planning variable really changed before informing the ScoreDirector or does the score director is doing that check internally before it start recalculating the store?\r\nE.G. Can I omit the if clause in the following example or does it have a performance impact?\r\n\r\n```  \r\nif (oldValue != newValue) {\r\n   scoreDirector.beforeVariableChanged(holdingJob, &quot;required&quot;);\r\n   holdingJob.setRequired(newValue);\r\n   scoreDirector.afterVariableChanged(holdingJob, &quot;required&quot;);\r\n}\r\n```\r\n\r\n","title":"Is it recommended to check if a planning variable really changed before informing the ScoreDirector?","body":"<p>Is it recommended to check if a planning variable really changed before informing the ScoreDirector or does the score director is doing that check internally before it start recalculating the store?\nE.G. Can I omit the if clause in the following example or does it have a performance impact?</p>\n<pre><code>if (oldValue != newValue) {\n   scoreDirector.beforeVariableChanged(holdingJob, &quot;required&quot;);\n   holdingJob.setRequired(newValue);\n   scoreDirector.afterVariableChanged(holdingJob, &quot;required&quot;);\n}\n</code></pre>\n"},{"tags":["java","image","metadata","iptc","icafe"],"comments":[{"owner":{"display_name":"user3973283"},"score":1,"creation_date":1528096740,"post_id":50669162,"comment_id":88360064,"body_markdown":"`NoClassDefFoundError: org/slf4j/LoggerFactory`, so you haven&#39;t put SLF4J (or a dependent) into the CLASSPATH. And there is NOTHING to do with the JPA API in that question ...","body":"<code>NoClassDefFoundError: org&#47;slf4j&#47;LoggerFactory</code>, so you haven&#39;t put SLF4J (or a dependent) into the CLASSPATH. And there is NOTHING to do with the JPA API in that question ..."},{"owner":{"account_id":1230714,"reputation":2655,"user_id":1195383,"accept_rate":86,"display_name":"dragon66"},"score":0,"creation_date":1528127110,"post_id":50669162,"comment_id":88378310,"body_markdown":"I answered your question asked under a closed issue in icafe. Billy Frost is correct. Besides the logging jar, you also need to add all the jar files in the lib folder except the two icafe related jars to you classpath.","body":"I answered your question asked under a closed issue in icafe. Billy Frost is correct. Besides the logging jar, you also need to add all the jar files in the lib folder except the two icafe related jars to you classpath."},{"owner":{"account_id":11087913,"reputation":33,"user_id":8140908,"display_name":"Ibrahim Rajabli"},"score":0,"creation_date":1528127527,"post_id":50669162,"comment_id":88378556,"body_markdown":"thanks all. ) dragon66 yes you answerd. :)","body":"thanks all. ) dragon66 yes you answerd. :)"},{"owner":{"account_id":11087913,"reputation":33,"user_id":8140908,"display_name":"Ibrahim Rajabli"},"score":0,"creation_date":1528155514,"post_id":50669162,"comment_id":88390046,"body_markdown":"yes. you are right. bu i can&#39;t find example about icafe. and have to write code apache common imaging. now i can not finish my code. a little bit difficult for me. my task edit JPG file IPTC keywords and Title.","body":"yes. you are right. bu i can&#39;t find example about icafe. and have to write code apache common imaging. now i can not finish my code. a little bit difficult for me. my task edit JPG file IPTC keywords and Title."},{"owner":{"account_id":1230714,"reputation":2655,"user_id":1195383,"accept_rate":86,"display_name":"dragon66"},"score":0,"creation_date":1528348750,"post_id":50669162,"comment_id":88474587,"body_markdown":"See my answer below. If you have other issues, let me know.","body":"See my answer below. If you have other issues, let me know."}],"answers":[{"comments":[{"owner":{"account_id":11087913,"reputation":33,"user_id":8140908,"display_name":"Ibrahim Rajabli"},"score":0,"creation_date":1528940465,"post_id":50732994,"comment_id":88700126,"body_markdown":"thanks for all. you are awesome. i am new in stackoverflow. thank you very much for ALL.","body":"thanks for all. you are awesome. i am new in stackoverflow. thank you very much for ALL."},{"owner":{"account_id":1230714,"reputation":2655,"user_id":1195383,"accept_rate":86,"display_name":"dragon66"},"score":0,"creation_date":1528987209,"post_id":50732994,"comment_id":88722730,"body_markdown":"Great to help in some way","body":"Great to help in some way"}],"tags":[],"owner":{"account_id":1230714,"reputation":2655,"user_id":1195383,"accept_rate":86,"display_name":"dragon66"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1528370279,"creation_date":1528345873,"answer_id":50732994,"question_id":50669162,"body_markdown":"Not sure what exactly you want but here is what ICAFE can do with IPTC metadata:\r\n\r\n - Read IPTC from image.\r\n - Insert IPTC into image or update IPTC of existing image.\r\n - Delete IPTC from image.\r\n\r\nFor reading IPTC, here is an example:\r\n\r\n        import java.io.IOException;\r\n        import java.util.List;\r\n        import java.util.Map;\r\n        import java.util.Iterator;\r\n    \r\n        import com.icafe4j.image.meta.Metadata;\r\n        import com.icafe4j.image.meta.MetadataEntry;\r\n        import com.icafe4j.image.meta.MetadataType;\r\n        import com.icafe4j.image.meta.iptc.IPTC;\r\n    \r\n        public class ExtractIPTC {\r\n    \r\n            public static void main(String[] args) throws IOException {\r\n                Map&lt;MetadataType, Metadata&gt; metadataMap = Metadata.readMetadata(args[0]);\r\n                IPTC iptc = (IPTC)metadataMap.get(MetadataType.IPTC);\r\n    \r\n                if(iptc != null) {\r\n                    Iterator&lt;MetadataEntry&gt; iterator = iptc.iterator();\r\n    \r\n                    while(iterator.hasNext()) {\r\n                        MetadataEntry item = iterator.next();\r\n                        printMetadata(item, &quot;&quot;, &quot;     &quot;);\r\n                    }\r\n                }   \r\n            }\r\n            private void printMetadata(MetadataEntry entry, String indent, String increment) {\r\n                logger.info(indent + entry.getKey() (StringUtils.isNullOrEmpty(entry.getValue())? &quot;&quot; : &quot;: &quot; + entry.getValue()));\r\n                if(entry.isMetadataEntryGroup()) {\r\n                     indent += increment;\r\n                     Collection&lt;MetadataEntry&gt; entries = entry.getMetadataEntries();\r\n                     for(MetadataEntry e : entries) {\r\n                        printMetadata(e, indent, increment);\r\n                     }          \r\n                }\r\n            }   \r\n        }\r\n\r\nFor insert/update IPTC, here is an example:\r\n\r\n        import java.io.IOException;\r\n        import java.util.List;\r\n        import java.io.FileInputStream;\r\n        import java.io.FileOutputStream;\r\n    \r\n        import com.icafe4j.image.meta.Metadata;\r\n        import com.icafe4j.image.meta.MetadataEntry;\r\n        import com.icafe4j.image.meta.MetadataType;\r\n        import com.icafe4j.image.meta.iptc.IPTCDataSet;\r\n        import com.icafe4j.image.meta.iptc.IPTCApplicationTag;\r\n    \r\n        public class InsertIPTC {\r\n    \r\n            public static void main(String[] args) throws IOException {\r\n               FileInputStream fin = new FileInputStream(&quot;C:/Users/rajab/Desktop/test/ibo.jpeg&quot;);\r\n               FileOutputStream fout = new FileOutputStream(&quot;C:/Users/rajab/Desktop/test/ibo/ibo.jpeg&quot;);\r\n\t\t\r\n\t\t       Metadata.insertIPTC(fin, fout, createIPTCDataSet(), true);\r\n            }\r\n            private static List&lt;IPTCDataSet&gt; createIPTCDataSet() {\r\n\t            List&lt;IPTCDataSet&gt; iptcs = new ArrayList&lt;IPTCDataSet&gt;();\r\n\t            iptcs.add(new IPTCDataSet(IPTCApplicationTag.COPYRIGHT_NOTICE, &quot;Copyright 2014-2016, yuwen_66@yahoo.com&quot;));\r\n\t            iptcs.add(new IPTCDataSet(IPTCApplicationTag.OBJECT_NAME, &quot;ICAFE&quot;));\r\n\t            iptcs.add(new IPTCDataSet(IPTCApplicationTag.KEY_WORDS, &quot;Welcome &#39;icafe&#39; user!&quot;));\r\n\t\r\n\t            return iptcs;\r\n            }\r\n        }\r\n\r\nThe above example uses Metadata.insertIPTC instead of Metadata.insertMetadata because we need one more boolean parameter. If set to true, it will keep the existing IPTC data and only update the those we want. Some of the IPTC entries allow multiple values. In that case, we only append/add the new ones. For other unique entries, they will be replaced by the new ones.\r\n\r\nLooks like you want to add key words and title. In your question, you already showed code to insert key words and in order to insert title, use OBJECT_NAME which can be found in the example above.\r\n\r\nNote: you can add multiple key words as well. Some softwares can only handle one key words record. In that case, you can put all the key words in one record separated by semi-colon instead of insert multiple entries.","title":"Read /Edit / Write jpg IPTC metadata in Java","body":"<p>Not sure what exactly you want but here is what ICAFE can do with IPTC metadata:</p>\n\n<ul>\n<li>Read IPTC from image.</li>\n<li>Insert IPTC into image or update IPTC of existing image.</li>\n<li>Delete IPTC from image.</li>\n</ul>\n\n<p>For reading IPTC, here is an example:</p>\n\n<pre><code>    import java.io.IOException;\n    import java.util.List;\n    import java.util.Map;\n    import java.util.Iterator;\n\n    import com.icafe4j.image.meta.Metadata;\n    import com.icafe4j.image.meta.MetadataEntry;\n    import com.icafe4j.image.meta.MetadataType;\n    import com.icafe4j.image.meta.iptc.IPTC;\n\n    public class ExtractIPTC {\n\n        public static void main(String[] args) throws IOException {\n            Map&lt;MetadataType, Metadata&gt; metadataMap = Metadata.readMetadata(args[0]);\n            IPTC iptc = (IPTC)metadataMap.get(MetadataType.IPTC);\n\n            if(iptc != null) {\n                Iterator&lt;MetadataEntry&gt; iterator = iptc.iterator();\n\n                while(iterator.hasNext()) {\n                    MetadataEntry item = iterator.next();\n                    printMetadata(item, \"\", \"     \");\n                }\n            }   \n        }\n        private void printMetadata(MetadataEntry entry, String indent, String increment) {\n            logger.info(indent + entry.getKey() (StringUtils.isNullOrEmpty(entry.getValue())? \"\" : \": \" + entry.getValue()));\n            if(entry.isMetadataEntryGroup()) {\n                 indent += increment;\n                 Collection&lt;MetadataEntry&gt; entries = entry.getMetadataEntries();\n                 for(MetadataEntry e : entries) {\n                    printMetadata(e, indent, increment);\n                 }          \n            }\n        }   \n    }\n</code></pre>\n\n<p>For insert/update IPTC, here is an example:</p>\n\n<pre><code>    import java.io.IOException;\n    import java.util.List;\n    import java.io.FileInputStream;\n    import java.io.FileOutputStream;\n\n    import com.icafe4j.image.meta.Metadata;\n    import com.icafe4j.image.meta.MetadataEntry;\n    import com.icafe4j.image.meta.MetadataType;\n    import com.icafe4j.image.meta.iptc.IPTCDataSet;\n    import com.icafe4j.image.meta.iptc.IPTCApplicationTag;\n\n    public class InsertIPTC {\n\n        public static void main(String[] args) throws IOException {\n           FileInputStream fin = new FileInputStream(\"C:/Users/rajab/Desktop/test/ibo.jpeg\");\n           FileOutputStream fout = new FileOutputStream(\"C:/Users/rajab/Desktop/test/ibo/ibo.jpeg\");\n\n           Metadata.insertIPTC(fin, fout, createIPTCDataSet(), true);\n        }\n        private static List&lt;IPTCDataSet&gt; createIPTCDataSet() {\n            List&lt;IPTCDataSet&gt; iptcs = new ArrayList&lt;IPTCDataSet&gt;();\n            iptcs.add(new IPTCDataSet(IPTCApplicationTag.COPYRIGHT_NOTICE, \"Copyright 2014-2016, yuwen_66@yahoo.com\"));\n            iptcs.add(new IPTCDataSet(IPTCApplicationTag.OBJECT_NAME, \"ICAFE\"));\n            iptcs.add(new IPTCDataSet(IPTCApplicationTag.KEY_WORDS, \"Welcome 'icafe' user!\"));\n\n            return iptcs;\n        }\n    }\n</code></pre>\n\n<p>The above example uses Metadata.insertIPTC instead of Metadata.insertMetadata because we need one more boolean parameter. If set to true, it will keep the existing IPTC data and only update the those we want. Some of the IPTC entries allow multiple values. In that case, we only append/add the new ones. For other unique entries, they will be replaced by the new ones.</p>\n\n<p>Looks like you want to add key words and title. In your question, you already showed code to insert key words and in order to insert title, use OBJECT_NAME which can be found in the example above.</p>\n\n<p>Note: you can add multiple key words as well. Some softwares can only handle one key words record. In that case, you can put all the key words in one record separated by semi-colon instead of insert multiple entries.</p>\n"},{"comments":[{"owner":{"account_id":5267841,"reputation":781,"user_id":4207141,"display_name":"max"},"score":0,"creation_date":1696601713,"post_id":77245141,"comment_id":136178244,"body_markdown":"hello, i tried the insert-example and i always get the error  &quot;Error while reading bytes into buffer&quot;.  therefore  in the second example i switched to BufferedInputStream a.s.o. , but the error is the same.  any idea whats wrong ??   thanks  max","body":"hello, i tried the insert-example and i always get the error  &quot;Error while reading bytes into buffer&quot;.  therefore  in the second example i switched to BufferedInputStream a.s.o. , but the error is the same.  any idea whats wrong ??   thanks  max"},{"owner":{"account_id":5267841,"reputation":781,"user_id":4207141,"display_name":"max"},"score":0,"creation_date":1696611948,"post_id":77245141,"comment_id":136180261,"body_markdown":"sorry it&#39;s just a typo, fin and fout had to be different (copy and paste error).  it works !","body":"sorry it&#39;s just a typo, fin and fout had to be different (copy and paste error).  it works !"}],"tags":[],"owner":{"account_id":5267841,"reputation":781,"user_id":4207141,"display_name":"max"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696601424,"creation_date":1696601424,"answer_id":77245141,"question_id":50669162,"body_markdown":"i tried the second example (insert) a little bit simplified\r\n\r\n    enter code here\r\n    public class Foto_Read_Write_IPTC_icafe\r\n    {\r\n      public static void main(String[] args)\r\n      {\r\n        try\r\n        {\r\n          FileInputStream  fin = new FileInputStream(&quot;C:\\\\IPTC-test\\\\IPTC-Google-test-image.jpg&quot;);\r\n          FileOutputStream fout = new FileOutputStream(&quot;C:\\\\IPTC-test\\\\IPTC-Google-test-image.jpg&quot;);\r\n\r\n      BufferedInputStream bis = new BufferedInputStream(fin);\r\n      BufferedOutputStream bos = new BufferedOutputStream(fout);\r\n\r\n      List&lt;IPTCDataSet&gt; dataset = createIPTCDataSet();\r\n      Metadata.insertIPTC(bis, bos, dataset, true);   //  Error while reading bytes into buffer !\r\n        }\r\n        catch(FileNotFoundException ex)\r\n        {\r\n          ex.printStackTrace();\r\n        }\r\n        catch(IOException ex)\r\n        {\r\n          ex.printStackTrace();\r\n        }\r\n     }  // end main\r\n  \r\n     private static List&lt;IPTCDataSet&gt; createIPTCDataSet()\r\n     {\r\n       IPTCDataSet byline_title = new \r\n       IPTCDataSet(IPTCApplicationTag.BY_LINE_TITLE, &quot;byline title&quot;);\r\n       IPTCDataSet keywords = new IPTCDataSet(IPTCApplicationTag.KEY_WORDS, \r\n       &quot;keyword1, keyword2&quot;);\r\n\r\n       List&lt;IPTCDataSet&gt; iptcs = new ArrayList&lt;IPTCDataSet&gt;();\r\n       iptcs.add(byline_title);\r\n       iptcs.add(keywords);\r\n\r\n       return iptcs;\r\n     }\r\n   }\r\n\r\n","title":"Read /Edit / Write jpg IPTC metadata in Java","body":"<p>i tried the second example (insert) a little bit simplified</p>\n<pre><code>enter code here\npublic class Foto_Read_Write_IPTC_icafe\n{\n  public static void main(String[] args)\n  {\n    try\n    {\n      FileInputStream  fin = new FileInputStream(&quot;C:\\\\IPTC-test\\\\IPTC-Google-test-image.jpg&quot;);\n      FileOutputStream fout = new FileOutputStream(&quot;C:\\\\IPTC-test\\\\IPTC-Google-test-image.jpg&quot;);\n\n  BufferedInputStream bis = new BufferedInputStream(fin);\n  BufferedOutputStream bos = new BufferedOutputStream(fout);\n\n  List&lt;IPTCDataSet&gt; dataset = createIPTCDataSet();\n  Metadata.insertIPTC(bis, bos, dataset, true);   //  Error while reading bytes into buffer !\n    }\n    catch(FileNotFoundException ex)\n    {\n      ex.printStackTrace();\n    }\n    catch(IOException ex)\n    {\n      ex.printStackTrace();\n    }\n }  // end main\n\n private static List&lt;IPTCDataSet&gt; createIPTCDataSet()\n {\n   IPTCDataSet byline_title = new \n   IPTCDataSet(IPTCApplicationTag.BY_LINE_TITLE, &quot;byline title&quot;);\n   IPTCDataSet keywords = new IPTCDataSet(IPTCApplicationTag.KEY_WORDS, \n   &quot;keyword1, keyword2&quot;);\n\n   List&lt;IPTCDataSet&gt; iptcs = new ArrayList&lt;IPTCDataSet&gt;();\n   iptcs.add(byline_title);\n   iptcs.add(keywords);\n\n   return iptcs;\n }\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":11087913,"reputation":33,"user_id":8140908,"display_name":"Ibrahim Rajabli"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1592,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":50732994,"answer_count":2,"score":2,"last_activity_date":1696601424,"creation_date":1528047249,"question_id":50669162,"body_markdown":"I am using Apache Commons but it is not enough for me because it is so old technology. So ,i found [iCafe][1] and it seems better but I am having the error below. Any idea what i am doing wrong?\r\n\r\n          private static List&lt;IPTCDataSet&gt; createIPTCDataSet() {\r\n          \t  List&lt;IPTCDataSet&gt; iptcs = new ArrayList&lt;IPTCDataSet&gt;();\r\n          \t  iptcs.add(new IPTCDataSet(IPTCApplicationTag.COPYRIGHT_NOTICE, &quot;Copyright 2014-2016, yuwen_66@yahoo.com&quot;));\r\n          \t  iptcs.add(new IPTCDataSet(IPTCApplicationTag.CATEGORY, &quot;ICAFE&quot;));\r\n          \t  iptcs.add(new IPTCDataSet(IPTCApplicationTag.KEY_WORDS, &quot;Welcome &#39;icafe&#39; user!&quot;));\r\n          \t\r\n          \t  return iptcs;\r\n          }\r\n        \r\n          private static IPTC createIPTC() {\r\n          \tIPTC iptc = new IPTC();\r\n          \tiptc.addDataSets(createIPTCDataSet());\r\n          \treturn iptc;\r\n          }\r\n            \r\n          public static void main(String[] args) throws  IOException {\r\n    \r\n            FileInputStream fin = new FileInputStream(&quot;C:/Users/rajab/Desktop/test/ibo.jpeg&quot;);\r\n            FileOutputStream fout = new FileOutputStream(&quot;C:/Users/rajab/Desktop/test/ibo/ibo.jpeg&quot;);\r\n    \r\n            List&lt;Metadata&gt; metaList = new ArrayList&lt;Metadata&gt;();\r\n            //metaList.add(populateExif(TiffExif.class));\r\n            metaList.add(createIPTC());\r\n            metaList.add(new Comments(Arrays.asList(&quot;Comment1&quot;, &quot;Comment2&quot;)));\r\n      \r\n            Metadata.insertMetadata(metaList, fin, fout);\r\n        }\r\n    }\r\n\r\n**and my EXCEPTION**\r\n\r\n    \r\n\r\n&gt; run:\r\n&gt;     Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory\r\n&gt;     \tat com.icafe4j.image.meta.Metadata.&lt;clinit&gt;(Unknown Source)\r\n&gt;     \tat vectorcleaner.Metadata1.populateExif(Metadata1.java:41)\r\n&gt;     \tat vectorcleaner.Metadata1.main(Metadata1.java:127)\r\n&gt;     Caused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory\r\n&gt;     \tat java.net.URLClassLoader.findClass(URLClassLoader.java:381)\r\n&gt;     \tat java.lang.ClassLoader.loadClass(ClassLoader.java:424)\r\n&gt;     \tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\r\n&gt;     \tat java.lang.ClassLoader.loadClass(ClassLoader.java:357)\r\n&gt;     \t... 3 more\r\n&gt;     C:\\Users\\rajab\\AppData\\Local\\NetBeans\\Cache\\8.2\\executor-snippets\\run.xml:53:\r\n&gt; Java returned: 1\r\n&gt;     BUILD FAILED (total time: 0 seconds)\r\n\r\n\r\n  [1]: https://github.com/dragon66/icafe","title":"Read /Edit / Write jpg IPTC metadata in Java","body":"<p>I am using Apache Commons but it is not enough for me because it is so old technology. So ,i found <a href=\"https://github.com/dragon66/icafe\" rel=\"nofollow noreferrer\">iCafe</a> and it seems better but I am having the error below. Any idea what i am doing wrong?</p>\n\n<pre><code>      private static List&lt;IPTCDataSet&gt; createIPTCDataSet() {\n          List&lt;IPTCDataSet&gt; iptcs = new ArrayList&lt;IPTCDataSet&gt;();\n          iptcs.add(new IPTCDataSet(IPTCApplicationTag.COPYRIGHT_NOTICE, \"Copyright 2014-2016, yuwen_66@yahoo.com\"));\n          iptcs.add(new IPTCDataSet(IPTCApplicationTag.CATEGORY, \"ICAFE\"));\n          iptcs.add(new IPTCDataSet(IPTCApplicationTag.KEY_WORDS, \"Welcome 'icafe' user!\"));\n\n          return iptcs;\n      }\n\n      private static IPTC createIPTC() {\n        IPTC iptc = new IPTC();\n        iptc.addDataSets(createIPTCDataSet());\n        return iptc;\n      }\n\n      public static void main(String[] args) throws  IOException {\n\n        FileInputStream fin = new FileInputStream(\"C:/Users/rajab/Desktop/test/ibo.jpeg\");\n        FileOutputStream fout = new FileOutputStream(\"C:/Users/rajab/Desktop/test/ibo/ibo.jpeg\");\n\n        List&lt;Metadata&gt; metaList = new ArrayList&lt;Metadata&gt;();\n        //metaList.add(populateExif(TiffExif.class));\n        metaList.add(createIPTC());\n        metaList.add(new Comments(Arrays.asList(\"Comment1\", \"Comment2\")));\n\n        Metadata.insertMetadata(metaList, fin, fout);\n    }\n}\n</code></pre>\n\n<p><strong>and my EXCEPTION</strong></p>\n\n<blockquote>\n  <p>run:\n      Exception in thread \"main\" java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory\n        at com.icafe4j.image.meta.Metadata.(Unknown Source)\n        at vectorcleaner.Metadata1.populateExif(Metadata1.java:41)\n        at vectorcleaner.Metadata1.main(Metadata1.java:127)\n      Caused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:381)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:424)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:349)\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:357)\n        ... 3 more\n      C:\\Users\\rajab\\AppData\\Local\\NetBeans\\Cache\\8.2\\executor-snippets\\run.xml:53:\n  Java returned: 1\n      BUILD FAILED (total time: 0 seconds)</p>\n</blockquote>\n"},{"tags":["java","file","cross-platform"],"answers":[{"tags":[],"owner":{"account_id":136987,"reputation":494,"user_id":340881,"display_name":"Steven Ourada"},"comment_count":0,"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1282575704,"creation_date":1282575704,"answer_id":3548800,"question_id":3548775,"body_markdown":"Java is pretty smart about paths in File objects. I just use something like &quot;../foo/bar&quot; and it works in those two platforms plus MacOSX.","title":"Platform independent paths in Java","body":"<p>Java is pretty smart about paths in File objects. I just use something like \"../foo/bar\" and it works in those two platforms plus MacOSX.</p>\n"},{"comments":[{"owner":{"account_id":126388,"reputation":897,"user_id":1422794,"display_name":"aapierce"},"score":1,"creation_date":1440779779,"post_id":3548818,"comment_id":52430370,"body_markdown":"I tried using `pathSeparator` in my application, but on OS X, that&#39;s a colon (`:`). If you toss that into a file path, OS X will interpret it as a forward slash character within the folder name. ex: Instead of creating a folder named `foo` on the user&#39;s desktop, I accidentally created a folder literally named `Desktop/foo` in the user&#39;s *home* folder. Using a plain forward slash (`/`) works exactly as expected, however.","body":"I tried using <code>pathSeparator</code> in my application, but on OS X, that&#39;s a colon (<code>:</code>). If you toss that into a file path, OS X will interpret it as a forward slash character within the folder name. ex: Instead of creating a folder named <code>foo</code> on the user&#39;s desktop, I accidentally created a folder literally named <code>Desktop&#47;foo</code> in the user&#39;s <i>home</i> folder. Using a plain forward slash (<code>&#47;</code>) works exactly as expected, however."},{"owner":{"account_id":2160951,"reputation":1449,"user_id":1915112,"accept_rate":100,"display_name":"RossBille"},"score":36,"creation_date":1462840444,"post_id":3548818,"comment_id":61795514,"body_markdown":"This answer requires a better explanation. `pathSeparator` and `pathSeparatorChar` refer to the separator used in the system&#39;s `PATH` variable. The question is referring to file paths, not the `PATH` variable. Thus, `separator` and `separatorChar` should be used.","body":"This answer requires a better explanation. <code>pathSeparator</code> and <code>pathSeparatorChar</code> refer to the separator used in the system&#39;s <code>PATH</code> variable. The question is referring to file paths, not the <code>PATH</code> variable. Thus, <code>separator</code> and <code>separatorChar</code> should be used."}],"tags":[],"owner":{"account_id":1885,"reputation":137382,"user_id":2598,"accept_rate":93,"display_name":"jjnguy"},"comment_count":2,"down_vote_count":3,"up_vote_count":62,"is_accepted":true,"score":59,"last_activity_date":1438195796,"creation_date":1282575818,"answer_id":3548818,"question_id":3548775,"body_markdown":"The [`File`][1] class contains the following public members that you can use for platform specific file paths:\r\n\r\n&gt;`static String\tpathSeparator `:  \r\n   The system-dependent path-separator character, represented as a string for convenience.  \r\n`static char\tpathSeparatorChar `:  \r\n   The system-dependent path-separator character.  \r\n`static String\tseparator `:  \r\n    The system-dependent default name-separator character, represented as a string for convenience.\r\n`static char\tseparatorChar `:  \r\n    The system-dependent default name-separator character.\r\n\r\n\r\n[1]: http://docs.oracle.com/javase/8/docs/api/java/io/File.html","title":"Platform independent paths in Java","body":"<p>The <a href=\"http://docs.oracle.com/javase/8/docs/api/java/io/File.html\" rel=\"noreferrer\"><code>File</code></a> class contains the following public members that you can use for platform specific file paths:</p>\n\n<blockquote>\n  <p><code>static String pathSeparator</code>:<br>\n     The system-dependent path-separator character, represented as a string for convenience.<br>\n  <code>static char    pathSeparatorChar</code>:<br>\n     The system-dependent path-separator character.<br>\n  <code>static String  separator</code>:<br>\n      The system-dependent default name-separator character, represented as a string for convenience.\n  <code>static char    separatorChar</code>:<br>\n      The system-dependent default name-separator character.</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":173378,"reputation":4592,"user_id":402008,"accept_rate":100,"display_name":"Jeroen Rosenberg"},"score":0,"creation_date":1282576015,"post_id":3548819,"comment_id":3717022,"body_markdown":"pathSeparator will retrieve the platform specific separator between paths ( &#39;;&#39; for unix &#39;:&#39; for windows). I think separator is more appropriate in this case.","body":"pathSeparator will retrieve the platform specific separator between paths ( &#39;;&#39; for unix &#39;:&#39; for windows). I think separator is more appropriate in this case."},{"owner":{"account_id":2573,"reputation":24982,"user_id":3587,"accept_rate":74,"display_name":"Thomas L&#246;tzer"},"score":2,"creation_date":1282576058,"post_id":3548819,"comment_id":3717033,"body_markdown":"pathSeparator is the separator for different entries in the PATH environment variable. For the question, File.separator would be the correct choice.","body":"pathSeparator is the separator for different entries in the PATH environment variable. For the question, File.separator would be the correct choice."},{"owner":{"account_id":28100,"reputation":8984,"user_id":74694,"accept_rate":86,"display_name":"Neeme Praks"},"score":3,"creation_date":1411650326,"post_id":3548819,"comment_id":40789313,"body_markdown":"&quot;You can use any path separator in Java, it will work on both Unix and Windows.&quot; -- wrong. If you use backslash (\\) on Unix, it will not be recognized as a file path separator, it will be interpreted as a file name (Unix file names are allowed to contain backslashes).","body":"&quot;You can use any path separator in Java, it will work on both Unix and Windows.&quot; -- wrong. If you use backslash (&#41; on Unix, it will not be recognized as a file path separator, it will be interpreted as a file name (Unix file names are allowed to contain backslashes)."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1469930962,"post_id":3548819,"comment_id":64740006,"body_markdown":"@ColinHebert The answer isn&#39;t right as long as it talks about path separators.","body":"@ColinHebert The answer isn&#39;t right as long as it talks about path separators."}],"tags":[],"owner":{"account_id":185700,"reputation":91879,"user_id":422597,"display_name":"Colin Hebert"},"comment_count":4,"down_vote_count":2,"up_vote_count":20,"is_accepted":false,"score":18,"last_activity_date":1467796176,"creation_date":1282575820,"answer_id":3548819,"question_id":3548775,"body_markdown":"You can use any path separator in Java, it will work on both Unix and Windows.\r\nIf you still want to use the system path separator there is the [`File.separator`][1] property which will give you the right one depending on the *current* system.\r\n\r\nFor the root, you can use [`listRoots()`][2] which gives you an array of root, there will be only one element on Unix systems, and as many as you have drives on Windows.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/io/File.html#separator\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/io/File.html#listRoots--","title":"Platform independent paths in Java","body":"<p>You can use any path separator in Java, it will work on both Unix and Windows.\nIf you still want to use the system path separator there is the <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/File.html#separator\" rel=\"noreferrer\"><code>File.separator</code></a> property which will give you the right one depending on the <em>current</em> system.</p>\n\n<p>For the root, you can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/io/File.html#listRoots--\" rel=\"noreferrer\"><code>listRoots()</code></a> which gives you an array of root, there will be only one element on Unix systems, and as many as you have drives on Windows.</p>\n"},{"tags":[],"owner":{"account_id":173378,"reputation":4592,"user_id":402008,"accept_rate":100,"display_name":"Jeroen Rosenberg"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1696601321,"creation_date":1282575903,"answer_id":3548834,"question_id":3548775,"body_markdown":"You can use the static field `File.separator` to retrieve the platform specific separator character for file paths","title":"Platform independent paths in Java","body":"<p>You can use the static field <code>File.separator</code> to retrieve the platform specific separator character for file paths</p>\n"},{"tags":[],"owner":{"account_id":31682,"reputation":22471,"user_id":87197,"accept_rate":81,"display_name":"Chris Dennett"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1282577151,"creation_date":1282577151,"answer_id":3549023,"question_id":3548775,"body_markdown":"Personally, I like to use the Path class from Eclipse for handling paths in general, which you can just use standalone with few modifications as it&#39;s quite isolated.\r\n\r\nhttp://grepcode.com/file/repository.grepcode.com/java/eclipse.org/3.5/org.eclipse.equinox/common/3.5.0/org/eclipse/core/runtime/Path.java/?v=source","title":"Platform independent paths in Java","body":"<p>Personally, I like to use the Path class from Eclipse for handling paths in general, which you can just use standalone with few modifications as it's quite isolated.</p>\n\n<p><a href=\"http://grepcode.com/file/repository.grepcode.com/java/eclipse.org/3.5/org.eclipse.equinox/common/3.5.0/org/eclipse/core/runtime/Path.java/?v=source\" rel=\"nofollow noreferrer\">http://grepcode.com/file/repository.grepcode.com/java/eclipse.org/3.5/org.eclipse.equinox/common/3.5.0/org/eclipse/core/runtime/Path.java/?v=source</a></p>\n"},{"comments":[{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1368552446,"post_id":3554456,"comment_id":23772134,"body_markdown":"@ses that&#39;s what the answer is about too. I have no idea what your first sentence is supposed to mean.","body":"@ses that&#39;s what the answer is about too. I have no idea what your first sentence is supposed to mean."},{"owner":{"account_id":2247474,"reputation":4806,"user_id":1980510,"accept_rate":64,"display_name":"John Alexander Betts"},"score":1,"creation_date":1383339582,"post_id":3554456,"comment_id":29322794,"body_markdown":"If I am searching for a file in /opt/template using java, is this equivalent to c://opt/template in windows?","body":"If I am searching for a file in /opt/template using java, is this equivalent to c://opt/template in windows?"},{"owner":{"account_id":70915,"reputation":1935,"user_id":205230,"display_name":"Mohnish"},"score":7,"creation_date":1401993343,"post_id":3554456,"comment_id":37113035,"body_markdown":"Would work until some new OS doesn&#39;t come up with new exotic path separator! Maybe even then it would work, if JVM can handle &quot;/&quot; to that specific OS path separator conversion! So, generally &quot;/&quot; is a safe choice, but using explicit path separator is future fool proofing.","body":"Would work until some new OS doesn&#39;t come up with new exotic path separator! Maybe even then it would work, if JVM can handle &quot;/&quot; to that specific OS path separator conversion! So, generally &quot;/&quot; is a safe choice, but using explicit path separator is future fool proofing."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1408017134,"post_id":3554456,"comment_id":39445068,"body_markdown":"@Mohnish It would still work because Java would substitute, just like it does on Windows.","body":"@Mohnish It would still work because Java would substitute, just like it does on Windows."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1459329700,"post_id":3554456,"comment_id":60232886,"body_markdown":"@AechoLiu That&#39;s just another SO answer. No more authoritative than this in, which is at least evidence-based. A proper citation would be from the JLS or JVM Specification or the Javadoc.","body":"@AechoLiu That&#39;s just another SO answer. No more authoritative than this in, which is at least evidence-based. A proper citation would be from the JLS or JVM Specification or the Javadoc."},{"owner":{"account_id":183762,"reputation":17679,"user_id":419348,"accept_rate":93,"display_name":"AechoLiu"},"score":1,"creation_date":1459331045,"post_id":3554456,"comment_id":60233917,"body_markdown":"@EJP Sorry, I read the `Update` and saw the words `Now, I&#39;m sure I&#39;ve seen it documented` in that SO answer. So I believe it should be true. I encounter this problem today and found answers in SO. And you and that SO answer help me to solve that problem. I just don&#39;t want any downvotes in this anser, beacause I know you are right.","body":"@EJP Sorry, I read the <code>Update</code> and saw the words <code>Now, I&#39;m sure I&#39;ve seen it documented</code> in that SO answer. So I believe it should be true. I encounter this problem today and found answers in SO. And you and that SO answer help me to solve that problem. I just don&#39;t want any downvotes in this anser, beacause I know you are right."},{"owner":{"account_id":1741106,"reputation":2301,"user_id":1592489,"display_name":"Sipka"},"score":1,"creation_date":1467497193,"post_id":3554456,"comment_id":63757604,"body_markdown":"You can use `/` only in specific cases. If you need to compare different paths then you might need to convert the different separators to an unified one, in order to get the correct results. For example: `Paths.get(&quot;a/b&quot;).equals(Paths.get(&quot;a\\\\b&quot;))` yields `false` result (same with compareTo method, doesn&#39;t return 0), meanwhile the following: `Paths.get(&quot;a/b&quot;).equals(Paths.get(&quot;a/b&quot;))` returns `true`. Given this example, I strongly discourage the only use of `/` separator, since it might unexpectedly break your code interoperability between platforms.","body":"You can use <code>&#47;</code> only in specific cases. If you need to compare different paths then you might need to convert the different separators to an unified one, in order to get the correct results. For example: <code>Paths.get(&quot;a&#47;b&quot;).equals(Paths.get(&quot;a\\\\b&quot;))</code> yields <code>false</code> result (same with compareTo method, doesn&#39;t return 0), meanwhile the following: <code>Paths.get(&quot;a&#47;b&quot;).equals(Paths.get(&quot;a&#47;b&quot;))</code> returns <code>true</code>. Given this example, I strongly discourage the only use of <code>&#47;</code> separator, since it might unexpectedly break your code interoperability between platforms."},{"owner":{"account_id":1741106,"reputation":2301,"user_id":1592489,"display_name":"Sipka"},"score":2,"creation_date":1467497307,"post_id":3554456,"comment_id":63757631,"body_markdown":"Other Path class methods uses the platform separator, so here: `Paths.get(&quot;a/b&quot;).resolve(&quot;c&quot;)` on Windows, will result in `a/b\\c&#39; which will work with File opening, and other use-cases, but in equality testing, still could result in unexpected bugs.","body":"Other Path class methods uses the platform separator, so here: <code>Paths.get(&quot;a&#47;b&quot;).resolve(&quot;c&quot;)</code> on Windows, will result in `a/b\\c&#39; which will work with File opening, and other use-cases, but in equality testing, still could result in unexpected bugs."},{"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1467797298,"post_id":3554456,"comment_id":63863649,"body_markdown":"@Spika The point is that `/` *is* the &#39;unified one&#39;. Not a &#39;specific case&#39;.","body":"@Spika The point is that <code>&#47;</code> <i>is</i> the &#39;unified one&#39;. Not a &#39;specific case&#39;."}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":9,"down_vote_count":11,"up_vote_count":141,"is_accepted":false,"score":130,"last_activity_date":1604396851,"creation_date":1282636322,"answer_id":3554456,"question_id":3548775,"body_markdown":"Just use `/`. I&#39;ve been using it for 23.5 years. Never a problem.","title":"Platform independent paths in Java","body":"<p>Just use <code>/</code>. I've been using it for 23.5 years. Never a problem.</p>\n"},{"tags":[],"owner":{"account_id":1183661,"reputation":633,"user_id":1158046,"accept_rate":100,"display_name":"ccDict"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1531250964,"creation_date":1418300056,"answer_id":27422642,"question_id":3548775,"body_markdown":"java 7 also supports the use of [`Paths`](https://docs.oracle.com/javase/7/docs/api/java/nio/file/Paths.html) here\r\n\r\n&gt; The Path is obtained by invoking the getPath method of the default FileSystem.\r\n\r\nYou then may get a file from it by calling:\r\n     \r\n    File fileSystemObtainedFile = Paths.get(&quot;C:\\\\foo\\\\bar.txt&quot;).toFile();","title":"Platform independent paths in Java","body":"<p>java 7 also supports the use of <a href=\"https://docs.oracle.com/javase/7/docs/api/java/nio/file/Paths.html\" rel=\"nofollow noreferrer\"><code>Paths</code></a> here</p>\n\n<blockquote>\n  <p>The Path is obtained by invoking the getPath method of the default FileSystem.</p>\n</blockquote>\n\n<p>You then may get a file from it by calling:</p>\n\n<pre><code>File fileSystemObtainedFile = Paths.get(\"C:\\\\foo\\\\bar.txt\").toFile();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":285796,"reputation":13049,"user_id":584674,"accept_rate":86,"display_name":"james.garriss"},"score":0,"creation_date":1609183009,"post_id":58845250,"comment_id":115771057,"body_markdown":"Doesn&#39;t actually answer the question.","body":"Doesn&#39;t actually answer the question."},{"owner":{"account_id":89551,"reputation":6751,"user_id":247003,"accept_rate":74,"display_name":"John"},"score":2,"creation_date":1627605819,"post_id":58845250,"comment_id":121207340,"body_markdown":"@NotAJavaGuy suggests that using &quot;/&quot; might be a problem because then you couldn&#39;t use &quot;split&quot; to find the filename. I would say that using &quot;split&quot; is the problem here. The better approach would be ```new File(filename).getName()```","body":"@NotAJavaGuy suggests that using &quot;/&quot; might be a problem because then you couldn&#39;t use &quot;split&quot; to find the filename. I would say that using &quot;split&quot; is the problem here. The better approach would be <code>new File(filename).getName()</code>"}],"tags":[],"owner":{"account_id":17093622,"reputation":29,"user_id":12369151,"display_name":"NotAJavaGuy"},"comment_count":2,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1573682585,"creation_date":1573677448,"answer_id":58845250,"question_id":3548775,"body_markdown":"Only 10 years too late....\r\nThe &quot;It doesn&#39;t matter just use &#39;/&#39;&quot; is only half true (ok, three quarters).  You have to think about where your data is coming from.\r\n\r\nIf you get a path in Java, it will use &#39;/&#39;\r\nIf you create a path in Java it will understand &#39;/&#39;\r\n\r\nBut what about paths that are input to your program?\r\n\r\nSuppose I have a series of scripts that create a config (Properties) file.  Suppose one of the config variables is INTERESTING_FILE, and we generate this to be a filename including path.  Now suppose I want to extract the actual Filename from that, so I say \r\n\r\n    String[] filename = INTERESTING_FILE.split(&quot;/&quot;);\r\n\r\nThis will misbehave on Windows Systems, however\r\n\r\n    String[] filename = INTERESTING_FILE.split(pathSeparator);\r\n\r\nwill work (as will washing it through the Paths class).\r\n\r\nI guess the point is, I wouldn&#39;t assume &#39;/&#39; is going to work in every case.","title":"Platform independent paths in Java","body":"<p>Only 10 years too late....\nThe \"It doesn't matter just use '/'\" is only half true (ok, three quarters).  You have to think about where your data is coming from.</p>\n\n<p>If you get a path in Java, it will use '/'\nIf you create a path in Java it will understand '/'</p>\n\n<p>But what about paths that are input to your program?</p>\n\n<p>Suppose I have a series of scripts that create a config (Properties) file.  Suppose one of the config variables is INTERESTING_FILE, and we generate this to be a filename including path.  Now suppose I want to extract the actual Filename from that, so I say </p>\n\n<pre><code>String[] filename = INTERESTING_FILE.split(\"/\");\n</code></pre>\n\n<p>This will misbehave on Windows Systems, however</p>\n\n<pre><code>String[] filename = INTERESTING_FILE.split(pathSeparator);\n</code></pre>\n\n<p>will work (as will washing it through the Paths class).</p>\n\n<p>I guess the point is, I wouldn't assume '/' is going to work in every case.</p>\n"}],"owner":{"account_id":128283,"reputation":973,"user_id":326009,"accept_rate":50,"display_name":"jakewins"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":117311,"favorite_count":0,"down_vote_count":0,"up_vote_count":84,"accepted_answer_id":3548818,"answer_count":8,"score":84,"last_activity_date":1696601321,"creation_date":1282575564,"question_id":3548775,"body_markdown":"I know the relative path of a file and want to handle it as a `File` object on both Linux and Windows. \r\n\r\nWhat is the best way to specify platform-independent paths in Java?","title":"Platform independent paths in Java","body":"<p>I know the relative path of a file and want to handle it as a <code>File</code> object on both Linux and Windows. </p>\n\n<p>What is the best way to specify platform-independent paths in Java?</p>\n"},{"tags":["java","selenium-webdriver","testing","appium","lambdatest"],"owner":{"account_id":19227669,"reputation":7,"user_id":14050201,"display_name":"Leonardo Aros U"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696600890,"creation_date":1691505687,"question_id":76860641,"body_markdown":"I want to make my pipeline fail if I have an error.\r\nFor now, for example, if I don&#39;t find an item, my pipeline shows as if everything is OK.\r\n\r\n\r\n\r\nFor example, if i dont obtain an element, i say to my code that do this lines:\r\n\r\n```\r\ndriver.executeScript(&quot;lambda-status=failed&quot;);\r\ndriver.quit();\r\n```\r\n\r\nthe first one is to show in lambda test like my test is failed, and de second one is to finish the test.\r\n\r\nThere is another way to quit the driver?, something like. driver.quit(&quot;error&quot;); or something like that.\r\nI want to do this to my pipeline fails if exist any error in my test.\r\n","title":"How to make pipeline fail when a error is outputted from java appium","body":"<p>I want to make my pipeline fail if I have an error.\nFor now, for example, if I don't find an item, my pipeline shows as if everything is OK.</p>\n<p>For example, if i dont obtain an element, i say to my code that do this lines:</p>\n<pre><code>driver.executeScript(&quot;lambda-status=failed&quot;);\ndriver.quit();\n</code></pre>\n<p>the first one is to show in lambda test like my test is failed, and de second one is to finish the test.</p>\n<p>There is another way to quit the driver?, something like. driver.quit(&quot;error&quot;); or something like that.\nI want to do this to my pipeline fails if exist any error in my test.</p>\n"},{"tags":["java","selenium","google-chrome","webdriver","selenium-chromedriver"],"comments":[{"owner":{"account_id":1916259,"reputation":4166,"user_id":1728790,"accept_rate":67,"display_name":"demouser123"},"score":0,"creation_date":1574080887,"post_id":58914348,"comment_id":104091346,"body_markdown":"Are you able to execute the `.exe` file for Chromedriver itself by clicking on it?","body":"Are you able to execute the <code>.exe</code> file for Chromedriver itself by clicking on it?"},{"owner":{"account_id":10421616,"reputation":4105,"user_id":11061080,"display_name":"SeleniumUser"},"score":0,"creation_date":1574080951,"post_id":58914348,"comment_id":104091381,"body_markdown":"If you check log chrome is launching properly but it&#39;s immediately  crashes","body":"If you check log chrome is launching properly but it&#39;s immediately  crashes"},{"owner":{"account_id":1916259,"reputation":4166,"user_id":1728790,"accept_rate":67,"display_name":"demouser123"},"score":0,"creation_date":1574081236,"post_id":58914348,"comment_id":104091544,"body_markdown":"Have you tried with the beta version for 79? If it also fails then there is something else/","body":"Have you tried with the beta version for 79? If it also fails then there is something else/"},{"owner":{"account_id":10421616,"reputation":4105,"user_id":11061080,"display_name":"SeleniumUser"},"score":0,"creation_date":1574081308,"post_id":58914348,"comment_id":104091594,"body_markdown":"No,  I am on cooperate proxy and cant downgrade or upgrade my chrome","body":"No,  I am on cooperate proxy and cant downgrade or upgrade my chrome"},{"owner":{"account_id":7602875,"reputation":211,"user_id":5766792,"display_name":"Ishan"},"score":0,"creation_date":1574081707,"post_id":58914348,"comment_id":104091817,"body_markdown":"Does you chrome browser launches? Maybe you can check if you are passing correct url with &#39;http://&#39; . From the logs, it is not clear why it is failing. Maybe you will be required to share the code as well","body":"Does you chrome browser launches? Maybe you can check if you are passing correct url with &#39;http://&#39; . From the logs, it is not clear why it is failing. Maybe you will be required to share the code as well"},{"owner":{"account_id":10421616,"reputation":4105,"user_id":11061080,"display_name":"SeleniumUser"},"score":0,"creation_date":1574082030,"post_id":58914348,"comment_id":104091987,"body_markdown":"It&#39;s not with code. I am 100% sure if you check then I am passing 78.0.3904.70 version of chrome driver and trying to launch 78.0.3904.97 chrome browser which is creating an issue. Also if you check https://chromedriver.chromium.org/downloads link then you will get to know 78.0.3904.97 version of chrome driver is not available","body":"It&#39;s not with code. I am 100% sure if you check then I am passing 78.0.3904.70 version of chrome driver and trying to launch 78.0.3904.97 chrome browser which is creating an issue. Also if you check <a href=\"https://chromedriver.chromium.org/downloads\" rel=\"nofollow noreferrer\">chromedriver.chromium.org/downloads</a> link then you will get to know 78.0.3904.97 version of chrome driver is not available"}],"answers":[{"comments":[{"owner":{"account_id":10421616,"reputation":4105,"user_id":11061080,"display_name":"SeleniumUser"},"score":0,"creation_date":1574080558,"post_id":58914515,"comment_id":104091151,"body_markdown":"Yes I am pretty much sure its there","body":"Yes I am pretty much sure its there"}],"tags":[],"owner":{"account_id":7602875,"reputation":211,"user_id":5766792,"display_name":"Ishan"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574079842,"creation_date":1574079842,"answer_id":58914515,"question_id":58914348,"body_markdown":"Chromedriver version should be shown in logs\r\n\r\n     Driver info: driver.version: unknown \r\n\r\n\r\nAre you setting the correct path to chromedriver.exe. Verify it.\r\n\r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:/PathToChromeDriver/chromedriver.exe&quot;);","title":"Driver info: driver.version: unknown using ChromeDriver v78.0.3904.70 and Chrome browser v78.0.3904.97","body":"<p>Chromedriver version should be shown in logs</p>\n\n<pre><code> Driver info: driver.version: unknown \n</code></pre>\n\n<p>Are you setting the correct path to chromedriver.exe. Verify it.</p>\n\n<pre><code>System.setProperty(\"webdriver.chrome.driver\", \"C:/PathToChromeDriver/chromedriver.exe\");\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":0,"creation_date":1574100226,"post_id":58917636,"comment_id":104102207,"body_markdown":"@DipakBachhav Your comment doesn&#39;t helps me either. Sorry, the answer didn&#39;t help you to solve your problem but how am I going to improve my post with that feedback?","body":"@DipakBachhav Your comment doesn&#39;t helps me either. Sorry, the answer didn&#39;t help you to solve your problem but how am I going to improve my post with that feedback?"},{"owner":{"account_id":10421616,"reputation":4105,"user_id":11061080,"display_name":"SeleniumUser"},"score":0,"creation_date":1574105264,"post_id":58917636,"comment_id":104104459,"body_markdown":"Please don&#39;t take it negatively but i  have tried all your solution and struggling very badly from past 9 hours to resolve this issue if I accept your answer then i will not get answer. hope you can understand and sorry once again","body":"Please don&#39;t take it negatively but i  have tried all your solution and struggling very badly from past 9 hours to resolve this issue if I accept your answer then i will not get answer. hope you can understand and sorry once again"},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":1,"creation_date":1574148252,"post_id":58917636,"comment_id":104117415,"body_markdown":"@DipakBachhav There is absolutely nothing to take _positive_ or _negative_ from a canonical answer and those words are considered as typical **noise** as stackoverflow standards. You need to update the question with the observations (modified code block and new set of error stack trace) for further analysis.","body":"@DipakBachhav There is absolutely nothing to take <i>positive</i> or <i>negative</i> from a canonical answer and those words are considered as typical <b>noise</b> as stackoverflow standards. You need to update the question with the observations (modified code block and new set of error stack trace) for further analysis."},{"owner":{"account_id":1099622,"reputation":143,"user_id":1092352,"display_name":"Brandon Ward"},"score":1,"creation_date":1595016466,"post_id":58917636,"comment_id":111339798,"body_markdown":"Actually, this was an incredibly useful answer. +1 from me","body":"Actually, this was an incredibly useful answer. +1 from me"},{"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"score":1,"creation_date":1595016573,"post_id":58917636,"comment_id":111339835,"body_markdown":"@BrandonWard It&#39;s my utmost effort to provide the best content to help the community. Your words brings a lot of encouragement. Thanks","body":"@BrandonWard It&#39;s my utmost effort to provide the best content to help the community. Your words brings a lot of encouragement. Thanks"}],"tags":[],"owner":{"account_id":10049107,"reputation":186647,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"comment_count":5,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1574090040,"creation_date":1574090040,"answer_id":58917636,"question_id":58914348,"body_markdown":"This error message...\r\n\r\n\torg.openqa.selenium.remote.UnreachableBrowserException: invalid argument\r\n\t  (Session info: chrome=78.0.3904.97)\r\n\tBuild info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\n\tSystem info: host: &#39;UKF6-L015064&#39;, ip: &#39;192.168.56.1&#39;, os.name: &#39;Windows 7&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;6.1&#39;, java.version: &#39;1.8.0_131&#39;\r\n\tDriver info: org.openqa.selenium.chrome.ChromeDriver\r\n\tCapabilities {acceptInsecureCerts: true, browserName: chrome, browserVersion: 78.0.3904.97, chrome: {chromedriverVersion: 78.0.3904.70 (edb9c9f3de024..., userDataDir: C:\\Users\\DIPAK~1.BAC\\AppDat...}, goog:chromeOptions: {debuggerAddress: localhost:52359}, javascriptEnabled: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: XP, platformName: XP, proxy: Proxy(), setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify}\r\n\tSession ID: 22ece16d3a54371674e778dca702876b\r\n\tBuild info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\n\tSystem info: host: &#39;UKF6-L015064&#39;, ip: &#39;192.168.56.1&#39;, os.name: &#39;Windows 7&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;6.1&#39;, java.version: &#39;1.8.0_131&#39;\r\n\tDriver info: driver.version: unknown\r\n\r\n...implies that the **ChromeDriver** was unable to initiate/spawn a new **WebBrowser** i.e. **Chrome Browser** session.\r\n\r\n\r\nYour main issue is the **incompatibility** between the version of the binaries you are using as follows:\r\n\r\n- Though you are using _chromedriver=78.0.3904.97_ \r\n- And you are also using _chrome=78.0.3904.97_\r\n- Your _Selenium Client_ version is also _3.141.59_.\r\n- Your _JDK version_ is **1.8.0_131** which is pretty ancient.\r\n\r\nSo there is a clear mismatch between the _JDK v8u131_ , _Selenium Client v3.141.59_ , _ChromeDriver v78.0.3904.97_ and the _Chrome Browser v78.0.3904.97_\r\n\r\n\r\n----------\r\n\r\n\r\nSolution\r\n--------\r\nEnsure that:\r\n\r\n- _JDK_ is upgraded to  current levels [JDK 8u222](https://www.oracle.com/technetwork/java/javase/downloads/index.html).\r\n- _Clean_ your _Project Workspace_ through your _IDE_ and _Rebuild_ your project with required dependencies only.\r\n- If your base _Web Client_ version is too old, then uninstall it and install a recent GA and released version of _Web Client_.\r\n- Take a _System Reboot_.\r\n- Execute your `@Test` as **non-root** user.","title":"Driver info: driver.version: unknown using ChromeDriver v78.0.3904.70 and Chrome browser v78.0.3904.97","body":"<p>This error message...</p>\n\n<pre><code>org.openqa.selenium.remote.UnreachableBrowserException: invalid argument\n  (Session info: chrome=78.0.3904.97)\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\nSystem info: host: 'UKF6-L015064', ip: '192.168.56.1', os.name: 'Windows 7', os.arch: 'amd64', os.version: '6.1', java.version: '1.8.0_131'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCapabilities {acceptInsecureCerts: true, browserName: chrome, browserVersion: 78.0.3904.97, chrome: {chromedriverVersion: 78.0.3904.70 (edb9c9f3de024..., userDataDir: C:\\Users\\DIPAK~1.BAC\\AppDat...}, goog:chromeOptions: {debuggerAddress: localhost:52359}, javascriptEnabled: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: XP, platformName: XP, proxy: Proxy(), setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify}\nSession ID: 22ece16d3a54371674e778dca702876b\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\nSystem info: host: 'UKF6-L015064', ip: '192.168.56.1', os.name: 'Windows 7', os.arch: 'amd64', os.version: '6.1', java.version: '1.8.0_131'\nDriver info: driver.version: unknown\n</code></pre>\n\n<p>...implies that the <strong>ChromeDriver</strong> was unable to initiate/spawn a new <strong>WebBrowser</strong> i.e. <strong>Chrome Browser</strong> session.</p>\n\n<p>Your main issue is the <strong>incompatibility</strong> between the version of the binaries you are using as follows:</p>\n\n<ul>\n<li>Though you are using <em>chromedriver=78.0.3904.97</em> </li>\n<li>And you are also using <em>chrome=78.0.3904.97</em></li>\n<li>Your <em>Selenium Client</em> version is also <em>3.141.59</em>.</li>\n<li>Your <em>JDK version</em> is <strong>1.8.0_131</strong> which is pretty ancient.</li>\n</ul>\n\n<p>So there is a clear mismatch between the <em>JDK v8u131</em> , <em>Selenium Client v3.141.59</em> , <em>ChromeDriver v78.0.3904.97</em> and the <em>Chrome Browser v78.0.3904.97</em></p>\n\n<hr>\n\n<h2>Solution</h2>\n\n<p>Ensure that:</p>\n\n<ul>\n<li><em>JDK</em> is upgraded to  current levels <a href=\"https://www.oracle.com/technetwork/java/javase/downloads/index.html\" rel=\"nofollow noreferrer\">JDK 8u222</a>.</li>\n<li><em>Clean</em> your <em>Project Workspace</em> through your <em>IDE</em> and <em>Rebuild</em> your project with required dependencies only.</li>\n<li>If your base <em>Web Client</em> version is too old, then uninstall it and install a recent GA and released version of <em>Web Client</em>.</li>\n<li>Take a <em>System Reboot</em>.</li>\n<li>Execute your <code>@Test</code> as <strong>non-root</strong> user.</li>\n</ul>\n"}],"owner":{"account_id":10421616,"reputation":4105,"user_id":11061080,"display_name":"SeleniumUser"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24628,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":2,"score":2,"last_activity_date":1696600844,"creation_date":1574079330,"question_id":58914348,"body_markdown":"I am using java 1.8 with chrome browser version `78.0.3904.97`. I am trying to execute my selenium script code with the chrome driver version `78.0.3904.70`. but while execution I am facing below issue and chrome crases immediately \r\n\r\n\r\n    Picked up JAVA_TOOL_OPTIONS: -Djdk.http.auth.tunneling.disabledSchemes=&quot;&quot;\r\n    java version &quot;1.8.0_131&quot;\r\n    Java(TM) SE Runtime Environment (build 1.8.0_131-b11)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 25.131-b11, mixed mode)\r\n\r\n\r\nIf you check the below logs then you will get to know that I am passing 78.0.3904.70 version of chrome driver and trying to launch 78.0.3904.97 chrome browser which is creating an issue. Also if you check `https://chromedriver.chromium.org/downloads` link then you will get to know 78.0.3904.97 version of chrome driver is not available\r\n\r\n**Error Log**\r\n\r\n    Starting ChromeDriver 78.0.3904.70 (edb9c9f3de0247fd912a77b7f6cae7447f6d3ad5-refs/branch-heads/3904@{#800}) on port 22844\r\n    Only local connections are allowed.\r\n    Please protect ports used by ChromeDriver and related test frameworks to prevent access by malicious code.\r\n    Nov 18, 2019 12:06:32 PM org.openqa.selenium.remote.ProtocolHandshake createSession\r\n    INFO: Detected dialect: W3C\r\n    12:06:32.350 [main] DEBUG net.serenitybdd.core.photography.Darkroom - Opening darkroom\r\n    12:06:32.360 [Darkroom Processing Line] DEBUG net.serenitybdd.core.photography.DarkroomProcessingLine - Darkroom processing line starting up\r\n    12:06:33.613 [main] DEBUG net.serenitybdd.core.photography.Darkroom - Send negative for processing for target\\site\\serenity\\c5e0d5f762dd0408b347b1b56ece2682cce0d422c500276e3f33c78c87fadcf6.png\r\n    12:06:35.280 [main] ERROR net.thucydides.core.steps.ConsoleLoggingListener - \r\n        \r\n    \r\n    12:06:35.825 [main] ERROR net.thucydides.core.steps.ConsoleLoggingListener - TEST FAILED AT STEP Launch browser and navigate to  URL\r\n    12:06:35.825 [main] ERROR net.thucydides.core.steps.ConsoleLoggingListener - invalid argument\r\n    \r\n    \r\n    \r\n    org.openqa.selenium.remote.UnreachableBrowserException: invalid argument\r\n      (Session info: chrome=78.0.3904.97)\r\n    Build info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\n    System info: host: &#39;UKF6-L015064&#39;, ip: &#39;192.168.56.1&#39;, os.name: &#39;Windows 7&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;6.1&#39;, java.version: &#39;1.8.0_131&#39;\r\n    Driver info: org.openqa.selenium.chrome.ChromeDriver\r\n    Capabilities {acceptInsecureCerts: true, browserName: chrome, browserVersion: 78.0.3904.97, chrome: {chromedriverVersion: 78.0.3904.70 (edb9c9f3de024..., userDataDir: C:\\Users\\DIPAK~1.BAC\\AppDat...}, goog:chromeOptions: {debuggerAddress: localhost:52359}, javascriptEnabled: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: XP, platformName: XP, proxy: Proxy(), setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify}\r\n    Session ID: 22ece16d3a54371674e778dca702876b\r\n    Build info: version: &#39;3.141.59&#39;, revision: &#39;e82be7d358&#39;, time: &#39;2018-11-14T08:17:03&#39;\r\n    System info: host: &#39;UKF6-L015064&#39;, ip: &#39;192.168.56.1&#39;, os.name: &#39;Windows 7&#39;, os.arch: &#39;amd64&#39;, os.version: &#39;6.1&#39;, java.version: &#39;1.8.0_131&#39;\r\n    Driver info: driver.version: unknown\r\n    \r\n    \tat webapplication.contactlenses.pages.Homepage.navigateToBaseUrlNL(Homepage.java:530)\r\n    \tat webapplication.contactlenses.steplib.ContactLensSteplib.navigate_to_baseUrlNL(ContactLensSteplib.java:28)\r\n    \tat webapplication.contactlenses.steplib.ContactLensSteplib$$EnhancerByCGLIB$$916d3a70.CGLIB$navigate_to_baseUrlNL$16(&lt;generated&gt;)\r\n    \tat webapplication.contactlenses.steplib.ContactLensSteplib$$EnhancerByCGLIB$$916d3a70$$FastClassByCGLIB$$c8d6c80f.invoke(&lt;generated&gt;)\r\n    \tat net.sf.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\r\n    \tat net.thucydides.core.steps.StepInterceptor.invokeMethod(StepInterceptor.java:461)\r\n    \tat net.thucydides.core.steps.StepInterceptor.executeTestStepMethod(StepInterceptor.java:446)\r\n    \tat net.thucydides.core.steps.StepInterceptor.runTestStep(StepInterceptor.java:421)\r\n    \tat net.thucydides.core.steps.StepInterceptor.runOrSkipMethod(StepInterceptor.java:176)\r\n    \tat net.thucydides.core.steps.StepInterceptor.testStepResult(StepInterceptor.java:163)\r\n    \tat net.thucydides.core.steps.StepInterceptor.intercept(StepInterceptor.java:69)\r\n    \tat webapplication.contactlenses.steplib.ContactLensSteplib$$EnhancerByCGLIB$$916d3a70.navigate_to_baseUrlNL(&lt;generated&gt;)\r\n\r\n\t\r\n\r\nI have already checked for chrome driver version `78.0.3904.97` but it&#39;s not available. Can someone please guide me to resolve this issue. \r\n\r\n","title":"Driver info: driver.version: unknown using ChromeDriver v78.0.3904.70 and Chrome browser v78.0.3904.97","body":"<p>I am using java 1.8 with chrome browser version <code>78.0.3904.97</code>. I am trying to execute my selenium script code with the chrome driver version <code>78.0.3904.70</code>. but while execution I am facing below issue and chrome crases immediately </p>\n\n<pre><code>Picked up JAVA_TOOL_OPTIONS: -Djdk.http.auth.tunneling.disabledSchemes=\"\"\njava version \"1.8.0_131\"\nJava(TM) SE Runtime Environment (build 1.8.0_131-b11)\nJava HotSpot(TM) 64-Bit Server VM (build 25.131-b11, mixed mode)\n</code></pre>\n\n<p>If you check the below logs then you will get to know that I am passing 78.0.3904.70 version of chrome driver and trying to launch 78.0.3904.97 chrome browser which is creating an issue. Also if you check <code>https://chromedriver.chromium.org/downloads</code> link then you will get to know 78.0.3904.97 version of chrome driver is not available</p>\n\n<p><strong>Error Log</strong></p>\n\n<pre><code>Starting ChromeDriver 78.0.3904.70 (edb9c9f3de0247fd912a77b7f6cae7447f6d3ad5-refs/branch-heads/3904@{#800}) on port 22844\nOnly local connections are allowed.\nPlease protect ports used by ChromeDriver and related test frameworks to prevent access by malicious code.\nNov 18, 2019 12:06:32 PM org.openqa.selenium.remote.ProtocolHandshake createSession\nINFO: Detected dialect: W3C\n12:06:32.350 [main] DEBUG net.serenitybdd.core.photography.Darkroom - Opening darkroom\n12:06:32.360 [Darkroom Processing Line] DEBUG net.serenitybdd.core.photography.DarkroomProcessingLine - Darkroom processing line starting up\n12:06:33.613 [main] DEBUG net.serenitybdd.core.photography.Darkroom - Send negative for processing for target\\site\\serenity\\c5e0d5f762dd0408b347b1b56ece2682cce0d422c500276e3f33c78c87fadcf6.png\n12:06:35.280 [main] ERROR net.thucydides.core.steps.ConsoleLoggingListener - \n\n\n12:06:35.825 [main] ERROR net.thucydides.core.steps.ConsoleLoggingListener - TEST FAILED AT STEP Launch browser and navigate to  URL\n12:06:35.825 [main] ERROR net.thucydides.core.steps.ConsoleLoggingListener - invalid argument\n\n\n\norg.openqa.selenium.remote.UnreachableBrowserException: invalid argument\n  (Session info: chrome=78.0.3904.97)\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\nSystem info: host: 'UKF6-L015064', ip: '192.168.56.1', os.name: 'Windows 7', os.arch: 'amd64', os.version: '6.1', java.version: '1.8.0_131'\nDriver info: org.openqa.selenium.chrome.ChromeDriver\nCapabilities {acceptInsecureCerts: true, browserName: chrome, browserVersion: 78.0.3904.97, chrome: {chromedriverVersion: 78.0.3904.70 (edb9c9f3de024..., userDataDir: C:\\Users\\DIPAK~1.BAC\\AppDat...}, goog:chromeOptions: {debuggerAddress: localhost:52359}, javascriptEnabled: true, networkConnectionEnabled: false, pageLoadStrategy: normal, platform: XP, platformName: XP, proxy: Proxy(), setWindowRect: true, strictFileInteractability: false, timeouts: {implicit: 0, pageLoad: 300000, script: 30000}, unhandledPromptBehavior: dismiss and notify}\nSession ID: 22ece16d3a54371674e778dca702876b\nBuild info: version: '3.141.59', revision: 'e82be7d358', time: '2018-11-14T08:17:03'\nSystem info: host: 'UKF6-L015064', ip: '192.168.56.1', os.name: 'Windows 7', os.arch: 'amd64', os.version: '6.1', java.version: '1.8.0_131'\nDriver info: driver.version: unknown\n\n    at webapplication.contactlenses.pages.Homepage.navigateToBaseUrlNL(Homepage.java:530)\n    at webapplication.contactlenses.steplib.ContactLensSteplib.navigate_to_baseUrlNL(ContactLensSteplib.java:28)\n    at webapplication.contactlenses.steplib.ContactLensSteplib$$EnhancerByCGLIB$$916d3a70.CGLIB$navigate_to_baseUrlNL$16(&lt;generated&gt;)\n    at webapplication.contactlenses.steplib.ContactLensSteplib$$EnhancerByCGLIB$$916d3a70$$FastClassByCGLIB$$c8d6c80f.invoke(&lt;generated&gt;)\n    at net.sf.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:228)\n    at net.thucydides.core.steps.StepInterceptor.invokeMethod(StepInterceptor.java:461)\n    at net.thucydides.core.steps.StepInterceptor.executeTestStepMethod(StepInterceptor.java:446)\n    at net.thucydides.core.steps.StepInterceptor.runTestStep(StepInterceptor.java:421)\n    at net.thucydides.core.steps.StepInterceptor.runOrSkipMethod(StepInterceptor.java:176)\n    at net.thucydides.core.steps.StepInterceptor.testStepResult(StepInterceptor.java:163)\n    at net.thucydides.core.steps.StepInterceptor.intercept(StepInterceptor.java:69)\n    at webapplication.contactlenses.steplib.ContactLensSteplib$$EnhancerByCGLIB$$916d3a70.navigate_to_baseUrlNL(&lt;generated&gt;)\n</code></pre>\n\n<p>I have already checked for chrome driver version <code>78.0.3904.97</code> but it's not available. Can someone please guide me to resolve this issue. </p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"score":1,"creation_date":1696592419,"post_id":77244085,"comment_id":136176285,"body_markdown":"Your buffer is way too small to be efficient. The minimum buffer size for file operations should be 4K, but as flash uses larger sectors (up to 256KB) my recommendation for buffer size would be 16K or 32K. Or use a BufferedOutputStream with a buffer of 16K.","body":"Your buffer is way too small to be efficient. The minimum buffer size for file operations should be 4K, but as flash uses larger sectors (up to 256KB) my recommendation for buffer size would be 16K or 32K. Or use a BufferedOutputStream with a buffer of 16K."},{"owner":{"account_id":39846,"reputation":991173,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1696592440,"post_id":77244085,"comment_id":136176287,"body_markdown":"&quot;But after saving them - time crazy increases&quot; -- we do not know what the `v5` log lines represent, as that does not appear in your [mcve]. All we know is that you ran the `v5` code before the `v6` code. Beyond that, `AsyncTask` has been deprecated for several years, your 1K buffer is small, and IMHO `HttpURLConnection` is obsolete. If I were doing this, I would [use OkHttp and Okio for handling the downloads to disk](https://stackoverflow.com/a/29012988/115145).","body":"&quot;But after saving them - time crazy increases&quot; -- we do not know what the <code>v5</code> log lines represent, as that does not appear in your <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>. All we know is that you ran the <code>v5</code> code before the <code>v6</code> code. Beyond that, <code>AsyncTask</code> has been deprecated for several years, your 1K buffer is small, and IMHO <code>HttpURLConnection</code> is obsolete. If I were doing this, I would <a href=\"https://stackoverflow.com/a/29012988/115145\">use OkHttp and Okio for handling the downloads to disk</a>."},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1696595092,"post_id":77244085,"comment_id":136176759,"body_markdown":"`But after saving them - time crazy increases` ! The time of what! Are you downloading them again and now overwriting former files? Tell what you do.","body":"<code>But after saving them - time crazy increases</code> ! The time of what! Are you downloading them again and now overwriting former files? Tell what you do."},{"owner":{"account_id":22056185,"reputation":107,"user_id":16319680,"display_name":"Vitalii"},"score":0,"creation_date":1696600835,"post_id":77244085,"comment_id":136178051,"body_markdown":"If AysncTask just download 5 files - every AsyncTask complete in average 300ms. If AsyncTask download 5 files, read buffers and save it to Android storage AsyncTask complete in average 2000ms","body":"If AysncTask just download 5 files - every AsyncTask complete in average 300ms. If AsyncTask download 5 files, read buffers and save it to Android storage AsyncTask complete in average 2000ms"}],"owner":{"account_id":22056185,"reputation":107,"user_id":16319680,"display_name":"Vitalii"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":51,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1696600482,"creation_date":1696591859,"question_id":77244085,"body_markdown":"I have a task to download multiple files from internet and save them to Android storage.\r\n\r\nFiles downloading very fast.\r\n\r\n```\r\n2023-10-06 13:02:26.412  D  File downloaded: v6:file_1696590146411 | 288 ms\r\n2023-10-06 13:02:26.412  D  File downloaded: v6:file_1696590146412 | 288 ms\r\n2023-10-06 13:02:26.419  D  File downloaded: v6:file_1696590146418 | 295 ms\r\n2023-10-06 13:02:26.572  D  File downloaded: v6:file_1696590146572 | 448 ms\r\n2023-10-06 13:02:26.603  D  File downloaded: v6:file_1696590146602 | 480 ms\r\n```\r\n\r\nBut after reading buffer and save buffer - time to complete AsyncTask increase\r\n\r\n```\r\n2023-10-06 12:59:14.602  D  File downloaded: v5:file_1696589953363 | 1452 ms\r\n2023-10-06 12:59:16.299  D  File downloaded: v5:file_1696589953401 | 3148 ms\r\n2023-10-06 12:59:16.796  D  File downloaded: v5:file_1696589953400 | 3646 ms\r\n2023-10-06 12:59:17.088  D  File downloaded: v5:file_1696589953399 | 3938 ms\r\n2023-10-06 12:59:18.882  D  File downloaded: v5:file_1696589953398 | 5731 ms\r\n```\r\n\r\nLooks like reading bytes from InputStream is very slow for multiple files. I can not find anything to make it quicker.\r\n\r\n`while ((bytesRead = inputStream.read(buffer)) != -1) {\r\noutputStream.write(buffer, 0, bytesRead);\r\n}`\r\n\r\nattaching code project files below\r\n\r\n    package com.kerman.testapp;\r\n    \r\n    import androidx.appcompat.app.AppCompatActivity;\r\n    \r\n    import android.os.Bundle;\r\n    \r\n    public class MainActivity extends AppCompatActivity {\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n    \r\n    \r\n            String[] urls = {\r\n                    &quot;https://fastly.picsum.photos/id/16/2500/1667.jpg?hmac=uAkZwYc5phCRNFTrV_prJ_0rP0EdwJaZ4ctje2bY7aE&quot;,\r\n                    &quot;https://fastly.picsum.photos/id/19/2500/1667.jpg?hmac=7epGozH4QjToGaBf_xb2HbFTXoV5o8n_cYzB7I4lt6g&quot;,\r\n                    &quot;https://fastly.picsum.photos/id/22/4434/3729.jpg?hmac=fjZdkSMZJNFgsoDh8Qo5zdA_nSGUAWvKLyyqmEt2xs0&quot;,\r\n                    &quot;https://fastly.picsum.photos/id/21/3008/2008.jpg?hmac=T8DSVNvP-QldCew7WD4jj_S3mWwxZPqdF0CNPksSko4&quot;,\r\n                    &quot;https://fastly.picsum.photos/id/25/5000/3333.jpg?hmac=yCz9LeSs-i72Ru0YvvpsoECnCTxZjzGde805gWrAHkM&quot;\r\n            };\r\n    \r\n            DownloadTask downloadTask = new DownloadTask(this); \r\n            downloadTask.execute(urls);\r\n        }\r\n    }\r\n\r\nOther file\r\n\r\n    package com.kerman.testapp;\r\n    \r\n    import android.content.Context;\r\n    import android.os.AsyncTask;\r\n    import android.util.Log;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.net.HttpURLConnection;\r\n    import java.net.URL;\r\n    import java.util.concurrent.ExecutorService;\r\n    import java.util.concurrent.Executors;\r\n    import org.apache.commons.io.FileUtils;\r\n    import org.apache.commons.io.IOUtils;\r\n    \r\n    public class DownloadTask extends AsyncTask&lt;String, Void, Void&gt; {\r\n        private static final String TAG = &quot;DownloadTask&quot;;\r\n        private final Context context;\r\n    \r\n        public DownloadTask(Context context) {\r\n            this.context = context;\r\n        }\r\n    \r\n        @Override\r\n        protected Void doInBackground(String... urls) {\r\n            // Use ExecutorService to download files concurrently\r\n            ExecutorService executor = Executors.newFixedThreadPool(urls.length);\r\n    \r\n            try {\r\n                for (String url : urls) {\r\n                    executor.submit(() -&gt; downloadFile(url));\r\n                }\r\n            } finally {\r\n                // Shut down the executor when done\r\n                executor.shutdown();\r\n            }\r\n    \r\n            return null;\r\n        }\r\n    \r\n        private void downloadFile(String urlString) {\r\n            Log.d(TAG, &quot;downloadFile(): &quot; + urlString);\r\n            long unixTime = System.currentTimeMillis();\r\n    \r\n            try {\r\n                URL url = new URL(urlString);\r\n                HttpURLConnection urlConnection = (HttpURLConnection) url.openConnection();\r\n    \r\n                try {\r\n                    InputStream inputStream = urlConnection.getInputStream();\r\n    \r\n                    // Get the app-specific external files directory\r\n                    String externalFilesDir = context.getExternalFilesDir(null).getPath();\r\n    \r\n                    // Create a timestamped filename\r\n                    String fileName = &quot;file_&quot; + System.currentTimeMillis();\r\n    \r\n                    // Create a FileOutputStream pointing to the external files directory and the filename\r\n                    FileOutputStream outputStream = new FileOutputStream(externalFilesDir + &quot;/&quot; + fileName);\r\n    \r\n                    byte[] buffer = new byte[1024];\r\n                    int bytesRead;\r\n                    while ((bytesRead = inputStream.read(buffer)) != -1) {\r\n                        outputStream.write(buffer, 0, bytesRead);\r\n                    }\r\n    \r\n    \r\n                    Log.d(TAG, &quot;File downloaded: v6:&quot; + fileName+&quot; | &quot;+Long.toString((System.currentTimeMillis()) - unixTime)+&quot; ms&quot;);\r\n    \r\n                    // Close the streams\r\n                    outputStream.close();\r\n                    inputStream.close();\r\n                } finally {\r\n                    urlConnection.disconnect();\r\n                }\r\n            } catch (IOException e) {\r\n                Log.e(TAG, &quot;Error downloading file from &quot; + urlString, e);\r\n            }\r\n        }\r\n    }\r\n\r\nThanks for any advise\r\n\r\n\r\n","title":"Android method InputStream.read() is very slow for multiple tasks","body":"<p>I have a task to download multiple files from internet and save them to Android storage.</p>\n<p>Files downloading very fast.</p>\n<pre><code>2023-10-06 13:02:26.412  D  File downloaded: v6:file_1696590146411 | 288 ms\n2023-10-06 13:02:26.412  D  File downloaded: v6:file_1696590146412 | 288 ms\n2023-10-06 13:02:26.419  D  File downloaded: v6:file_1696590146418 | 295 ms\n2023-10-06 13:02:26.572  D  File downloaded: v6:file_1696590146572 | 448 ms\n2023-10-06 13:02:26.603  D  File downloaded: v6:file_1696590146602 | 480 ms\n</code></pre>\n<p>But after reading buffer and save buffer - time to complete AsyncTask increase</p>\n<pre><code>2023-10-06 12:59:14.602  D  File downloaded: v5:file_1696589953363 | 1452 ms\n2023-10-06 12:59:16.299  D  File downloaded: v5:file_1696589953401 | 3148 ms\n2023-10-06 12:59:16.796  D  File downloaded: v5:file_1696589953400 | 3646 ms\n2023-10-06 12:59:17.088  D  File downloaded: v5:file_1696589953399 | 3938 ms\n2023-10-06 12:59:18.882  D  File downloaded: v5:file_1696589953398 | 5731 ms\n</code></pre>\n<p>Looks like reading bytes from InputStream is very slow for multiple files. I can not find anything to make it quicker.</p>\n<p><code>while ((bytesRead = inputStream.read(buffer)) != -1) { outputStream.write(buffer, 0, bytesRead); }</code></p>\n<p>attaching code project files below</p>\n<pre><code>package com.kerman.testapp;\n\nimport androidx.appcompat.app.AppCompatActivity;\n\nimport android.os.Bundle;\n\npublic class MainActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n\n        String[] urls = {\n                &quot;https://fastly.picsum.photos/id/16/2500/1667.jpg?hmac=uAkZwYc5phCRNFTrV_prJ_0rP0EdwJaZ4ctje2bY7aE&quot;,\n                &quot;https://fastly.picsum.photos/id/19/2500/1667.jpg?hmac=7epGozH4QjToGaBf_xb2HbFTXoV5o8n_cYzB7I4lt6g&quot;,\n                &quot;https://fastly.picsum.photos/id/22/4434/3729.jpg?hmac=fjZdkSMZJNFgsoDh8Qo5zdA_nSGUAWvKLyyqmEt2xs0&quot;,\n                &quot;https://fastly.picsum.photos/id/21/3008/2008.jpg?hmac=T8DSVNvP-QldCew7WD4jj_S3mWwxZPqdF0CNPksSko4&quot;,\n                &quot;https://fastly.picsum.photos/id/25/5000/3333.jpg?hmac=yCz9LeSs-i72Ru0YvvpsoECnCTxZjzGde805gWrAHkM&quot;\n        };\n\n        DownloadTask downloadTask = new DownloadTask(this); \n        downloadTask.execute(urls);\n    }\n}\n</code></pre>\n<p>Other file</p>\n<pre><code>package com.kerman.testapp;\n\nimport android.content.Context;\nimport android.os.AsyncTask;\nimport android.util.Log;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.net.HttpURLConnection;\nimport java.net.URL;\nimport java.util.concurrent.ExecutorService;\nimport java.util.concurrent.Executors;\nimport org.apache.commons.io.FileUtils;\nimport org.apache.commons.io.IOUtils;\n\npublic class DownloadTask extends AsyncTask&lt;String, Void, Void&gt; {\n    private static final String TAG = &quot;DownloadTask&quot;;\n    private final Context context;\n\n    public DownloadTask(Context context) {\n        this.context = context;\n    }\n\n    @Override\n    protected Void doInBackground(String... urls) {\n        // Use ExecutorService to download files concurrently\n        ExecutorService executor = Executors.newFixedThreadPool(urls.length);\n\n        try {\n            for (String url : urls) {\n                executor.submit(() -&gt; downloadFile(url));\n            }\n        } finally {\n            // Shut down the executor when done\n            executor.shutdown();\n        }\n\n        return null;\n    }\n\n    private void downloadFile(String urlString) {\n        Log.d(TAG, &quot;downloadFile(): &quot; + urlString);\n        long unixTime = System.currentTimeMillis();\n\n        try {\n            URL url = new URL(urlString);\n            HttpURLConnection urlConnection = (HttpURLConnection) url.openConnection();\n\n            try {\n                InputStream inputStream = urlConnection.getInputStream();\n\n                // Get the app-specific external files directory\n                String externalFilesDir = context.getExternalFilesDir(null).getPath();\n\n                // Create a timestamped filename\n                String fileName = &quot;file_&quot; + System.currentTimeMillis();\n\n                // Create a FileOutputStream pointing to the external files directory and the filename\n                FileOutputStream outputStream = new FileOutputStream(externalFilesDir + &quot;/&quot; + fileName);\n\n                byte[] buffer = new byte[1024];\n                int bytesRead;\n                while ((bytesRead = inputStream.read(buffer)) != -1) {\n                    outputStream.write(buffer, 0, bytesRead);\n                }\n\n\n                Log.d(TAG, &quot;File downloaded: v6:&quot; + fileName+&quot; | &quot;+Long.toString((System.currentTimeMillis()) - unixTime)+&quot; ms&quot;);\n\n                // Close the streams\n                outputStream.close();\n                inputStream.close();\n            } finally {\n                urlConnection.disconnect();\n            }\n        } catch (IOException e) {\n            Log.e(TAG, &quot;Error downloading file from &quot; + urlString, e);\n        }\n    }\n}\n</code></pre>\n<p>Thanks for any advise</p>\n"},{"tags":["java","android","android-ndk"],"answers":[{"comments":[{"owner":{"account_id":1362540,"reputation":45,"user_id":1319230,"display_name":"athlon"},"score":0,"creation_date":1382086390,"post_id":19445220,"comment_id":28831995,"body_markdown":"Hey thanks, the method actually from a jar file. Which i extracted it and use the javap -s . And the answer for last parameter is [Ljava/lang/String;","body":"Hey thanks, the method actually from a jar file. Which i extracted it and use the javap -s . And the answer for last parameter is [Ljava/lang/String;"}],"tags":[],"owner":{"account_id":71739,"reputation":307163,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1382085704,"creation_date":1382085704,"answer_id":19445220,"question_id":19445083,"body_markdown":"The correct signature is whatever is output by `javap -s`. Don&#39;t try to write signatures yourself when there is a tool that does it for you with 100% accuracy.","title":"Android NDK JNI dot notation method signature variable","body":"<p>The correct signature is whatever is output by <code>javap -s</code>. Don't try to write signatures yourself when there is a tool that does it for you with 100% accuracy.</p>\n"},{"tags":[],"owner":{"account_id":54682,"reputation":2559,"user_id":163679,"accept_rate":71,"display_name":"bigh_29"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696600430,"creation_date":1696600430,"answer_id":77245037,"question_id":19445083,"body_markdown":"The accepted answer is correct, however, I struggled to figure out the right syntax for javap. Here are some commands that worked for me when run in the terminal window of Android Studio Giraffe on a Linux system. Start off in the root directory of the project.\r\n\r\n**Note:** Do a full build of your project beforehand so your `.class` java output files are up to date. `javap` takes `.class` input, not source code input.\r\n\r\n\r\n```bash\r\n# Find where javap lives. I didn&#39;t have one on my path\r\nfind ~ -name javap\r\n\r\n# Best javap candidate was found in ~/bin/android-studio/jbr/bin/javap\r\n\r\n# Find the .class file for the class that you want to run javap on\r\nfind . -iname Foo.class\r\n\r\n# .class file found in ./mygreatapp/build/intermediates/javac/debug/classes/com/awesomecompany/mygreatapp/packagename/Foo.class\r\n\r\n# cd into the base directory for .class output. Stop at classes. Don&#39;t go into com/blahblah\r\ncd ./mygreatapp/build/intermediates/javac/debug/classes\r\n\r\n# Now we can run javap. I include -p because I needed private method signatures\r\n~/bin/android-studio/jbr/bin/javap -s -p com/awesomecompany/mygreatapp/packagename/Foo.class\r\n\r\n```\r\n\r\nOne final note. My command history shows that I once had to pass the android jar file as the `bootclasspath` argument to javap. I think that was because I wanted to dump out a system class instead of one of my classes. That command looked like this:\r\n\r\n```\r\n~/bin/android-studio/jbr/bin/javap -s -bootclasspath ~/Android/Sdk/platforms/android-31/android.jar android.os.Parcel\r\n```","title":"Android NDK JNI dot notation method signature variable","body":"<p>The accepted answer is correct, however, I struggled to figure out the right syntax for javap. Here are some commands that worked for me when run in the terminal window of Android Studio Giraffe on a Linux system. Start off in the root directory of the project.</p>\n<p><strong>Note:</strong> Do a full build of your project beforehand so your <code>.class</code> java output files are up to date. <code>javap</code> takes <code>.class</code> input, not source code input.</p>\n<pre class=\"lang-bash prettyprint-override\"><code># Find where javap lives. I didn't have one on my path\nfind ~ -name javap\n\n# Best javap candidate was found in ~/bin/android-studio/jbr/bin/javap\n\n# Find the .class file for the class that you want to run javap on\nfind . -iname Foo.class\n\n# .class file found in ./mygreatapp/build/intermediates/javac/debug/classes/com/awesomecompany/mygreatapp/packagename/Foo.class\n\n# cd into the base directory for .class output. Stop at classes. Don't go into com/blahblah\ncd ./mygreatapp/build/intermediates/javac/debug/classes\n\n# Now we can run javap. I include -p because I needed private method signatures\n~/bin/android-studio/jbr/bin/javap -s -p com/awesomecompany/mygreatapp/packagename/Foo.class\n\n</code></pre>\n<p>One final note. My command history shows that I once had to pass the android jar file as the <code>bootclasspath</code> argument to javap. I think that was because I wanted to dump out a system class instead of one of my classes. That command looked like this:</p>\n<pre><code>~/bin/android-studio/jbr/bin/javap -s -bootclasspath ~/Android/Sdk/platforms/android-31/android.jar android.os.Parcel\n</code></pre>\n"}],"owner":{"account_id":1362540,"reputation":45,"user_id":1319230,"display_name":"athlon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":782,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":19445220,"answer_count":2,"score":2,"last_activity_date":1696600430,"creation_date":1382085268,"question_id":19445083,"body_markdown":"I have following method, which have multiple arguments dot notation :\r\n\r\n    static public void configure( Activity activity,String client_options, String app_id, String... zone_ids )\r\n\r\nSo now I want to call it like follow :\r\n\r\n    jmethodID configMethodID =(*env)-&gt;GetStaticMethodID(env, adcolonyclazz, &quot;configure&quot;,&quot;(Landroid/app/Activity;Ljav/lang/String;Ljava/lang/String;[java/lang/String;)V&quot;);\r\nBut the all I got is :\r\n\r\njava.lang.NoSuchMethodError: no static method with name=&#39;configure&#39; signature=&#39;(Landroid/app/Activity;Ljava/lang/String;Ljava/lang/String;[java/lang/String;)V&#39;\r\n\r\nSame goes with :\r\n\r\n    jmethodID configMethodID =(*env)-&gt;GetStaticMethodID(env, adcolonyclazz, &quot;configure&quot;,&quot;(Landroid/app/Activity;Ljav/lang/String;Ljava/lang/String;Ljava/lang/String;)V&quot;);\r\n\r\nDoes anyone know the signature variable for this specific method. Thanks","title":"Android NDK JNI dot notation method signature variable","body":"<p>I have following method, which have multiple arguments dot notation :</p>\n\n<pre><code>static public void configure( Activity activity,String client_options, String app_id, String... zone_ids )\n</code></pre>\n\n<p>So now I want to call it like follow :</p>\n\n<pre><code>jmethodID configMethodID =(*env)-&gt;GetStaticMethodID(env, adcolonyclazz, \"configure\",\"(Landroid/app/Activity;Ljav/lang/String;Ljava/lang/String;[java/lang/String;)V\");\n</code></pre>\n\n<p>But the all I got is :</p>\n\n<p>java.lang.NoSuchMethodError: no static method with name='configure' signature='(Landroid/app/Activity;Ljava/lang/String;Ljava/lang/String;[java/lang/String;)V'</p>\n\n<p>Same goes with :</p>\n\n<pre><code>jmethodID configMethodID =(*env)-&gt;GetStaticMethodID(env, adcolonyclazz, \"configure\",\"(Landroid/app/Activity;Ljav/lang/String;Ljava/lang/String;Ljava/lang/String;)V\");\n</code></pre>\n\n<p>Does anyone know the signature variable for this specific method. Thanks</p>\n"},{"tags":["java","spring","rest","junit","mockito"],"comments":[{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1660142454,"post_id":73308169,"comment_id":129463784,"body_markdown":"Please, add the fields from your test class to the attached code (including annotations over them). Also - you mentioned an exception is thrown - include the exception name and at least a shortened stack trace.","body":"Please, add the fields from your test class to the attached code (including annotations over them). Also - you mentioned an exception is thrown - include the exception name and at least a shortened stack trace."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1660142893,"post_id":73308169,"comment_id":129463986,"body_markdown":"Why don&#39;t you have a `when` for the `findById` that returns the applicant? Why are you mocking the method you&#39;re trying to test?","body":"Why don&#39;t you have a <code>when</code> for the <code>findById</code> that returns the applicant? Why are you mocking the method you&#39;re trying to test?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1660143179,"post_id":73308169,"comment_id":129464120,"body_markdown":"You also haven&#39;t shown the code for the `getById` method, which is where the exception is being thrown, but presumably it&#39;s just calling `applicantRepository.findById`.","body":"You also haven&#39;t shown the code for the <code>getById</code> method, which is where the exception is being thrown, but presumably it&#39;s just calling <code>applicantRepository.findById</code>."},{"owner":{"account_id":26020646,"reputation":23,"user_id":19728398,"display_name":"Ege Coskun"},"score":0,"creation_date":1660143278,"post_id":73308169,"comment_id":129464166,"body_markdown":"@DavidConrad Currently learning testing. Can you explain this a little more?","body":"@DavidConrad Currently learning testing. Can you explain this a little more?"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1660143936,"post_id":73308169,"comment_id":129464431,"body_markdown":"See the detailed answer by @Jonasz.","body":"See the detailed answer by @Jonasz."}],"answers":[{"comments":[{"owner":{"account_id":26020646,"reputation":23,"user_id":19728398,"display_name":"Ege Coskun"},"score":0,"creation_date":1660143621,"post_id":73308448,"comment_id":129464314,"body_markdown":"Thanks for your answer. Which parameters I need to give to update method after mocking these I don&#39;t get it.","body":"Thanks for your answer. Which parameters I need to give to update method after mocking these I don&#39;t get it."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1660143836,"post_id":73308448,"comment_id":129464385,"body_markdown":"@EgeCoskun Since the repository is mocked to respond to `anyLong()` the `id` doesn&#39;t matter, but you should pass a valid `ApplicantDTO` for whatever you&#39;re trying to test.","body":"@EgeCoskun Since the repository is mocked to respond to <code>anyLong()</code> the <code>id</code> doesn&#39;t matter, but you should pass a valid <code>ApplicantDTO</code> for whatever you&#39;re trying to test."},{"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"score":0,"creation_date":1660144148,"post_id":73308448,"comment_id":129464521,"body_markdown":"The `applicantFromDb` object simulates an object that could be returned from the database, as per my knowledge about your code it could even be an empty object with all null values. The DTO passed to the `update` method is an object containing the values that should be set for the object before saving (updating) it in the database. You should test at least 2 paths in your code - all ifs conditions resolved as true and false, but it&#39;s usually advised to divide such code into multiple tests to make it easier to find bugs in the future (it narrows the potential erratic places in the code).","body":"The <code>applicantFromDb</code> object simulates an object that could be returned from the database, as per my knowledge about your code it could even be an empty object with all null values. The DTO passed to the <code>update</code> method is an object containing the values that should be set for the object before saving (updating) it in the database. You should test at least 2 paths in your code - all ifs conditions resolved as true and false, but it&#39;s usually advised to divide such code into multiple tests to make it easier to find bugs in the future (it narrows the potential erratic places in the code)."},{"owner":{"account_id":26020646,"reputation":23,"user_id":19728398,"display_name":"Ege Coskun"},"score":0,"creation_date":1660144213,"post_id":73308448,"comment_id":129464549,"body_markdown":"Thanks for your answer again. This answer solved the issue. Helped a lot sir !","body":"Thanks for your answer again. This answer solved the issue. Helped a lot sir !"}],"tags":[],"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"comment_count":4,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1660143156,"creation_date":1660143156,"answer_id":73308448,"question_id":73308169,"body_markdown":"The problem with your test code is that you&#39;ve mixed mocking a method for a mock object (e.g. `applicantRepository`) with calling the tested method on an object under test (`applicantService`). We use `when(...)` to define the mocked behavior in Mockito and after that the actually tested code should be called (without the `when()`).\r\n\r\nWhat you probably want to do is: mock retrieving the `applicant` object by ID, mock saving the modified object, run the `update` method to test it and assert the result.\r\n\r\nTo mock the behavior of the `applicantRepository` you need to tell Mockito what is the expected outcome of its methods calls, for example (I made a few assumptions for the code that is not attached):\r\n```java\r\nwhen(applicantRepository.findById(anyLong())).thenReturn(applicantFromDb);\r\nwhen(applicantRepository.save(notNull())).thenAnswer(returnsFirstArg());\r\n```\r\n(`applicantFromDb` is an object created in the test method)\r\n\r\nAfter that when you call your update method, the mocked behavior above will be used:\r\n```java\r\nApplicant result = applicantService.update(...);\r\n```\r\n\r\nNow you can assert the result returned from the tested method.","title":"How to test update function in Rest API?","body":"<p>The problem with your test code is that you've mixed mocking a method for a mock object (e.g. <code>applicantRepository</code>) with calling the tested method on an object under test (<code>applicantService</code>). We use <code>when(...)</code> to define the mocked behavior in Mockito and after that the actually tested code should be called (without the <code>when()</code>).</p>\n<p>What you probably want to do is: mock retrieving the <code>applicant</code> object by ID, mock saving the modified object, run the <code>update</code> method to test it and assert the result.</p>\n<p>To mock the behavior of the <code>applicantRepository</code> you need to tell Mockito what is the expected outcome of its methods calls, for example (I made a few assumptions for the code that is not attached):</p>\n<pre class=\"lang-java prettyprint-override\"><code>when(applicantRepository.findById(anyLong())).thenReturn(applicantFromDb);\nwhen(applicantRepository.save(notNull())).thenAnswer(returnsFirstArg());\n</code></pre>\n<p>(<code>applicantFromDb</code> is an object created in the test method)</p>\n<p>After that when you call your update method, the mocked behavior above will be used:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Applicant result = applicantService.update(...);\n</code></pre>\n<p>Now you can assert the result returned from the tested method.</p>\n"},{"comments":[{"owner":{"account_id":26020646,"reputation":23,"user_id":19728398,"display_name":"Ege Coskun"},"score":0,"creation_date":1660143758,"post_id":73308450,"comment_id":129464359,"body_markdown":"Thanks for your answer. Can you give me an example of how I should test the method in code?","body":"Thanks for your answer. Can you give me an example of how I should test the method in code?"},{"owner":{"account_id":2883526,"reputation":2320,"user_id":3439993,"accept_rate":33,"display_name":"Deltharis"},"score":0,"creation_date":1660143829,"post_id":73308450,"comment_id":129464384,"body_markdown":"Uh... set up the repository mock as @Jonasz showed you, call the update method, and confirm that what it returns is what you expect should be returned.","body":"Uh... set up the repository mock as @Jonasz showed you, call the update method, and confirm that what it returns is what you expect should be returned."}],"tags":[],"owner":{"account_id":2883526,"reputation":2320,"user_id":3439993,"accept_rate":33,"display_name":"Deltharis"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1660143552,"creation_date":1660143165,"answer_id":73308450,"question_id":73308169,"body_markdown":"`ApplicationService` is your class under test. The exception you&#39;re getting is coming from `ApplicationService.getById()` method called at the start of `update()` method you&#39;re testing. You did not show us that method, but at a guess it calls the repository to get an instance by id. Your Repository mock is not set up to return anything when asked for any entity, so it returns null. Which seems to trigger the `orElseThrow` clause in the `getById()` method.\r\n\r\nAs such what you&#39;re seeing is likely the expected behaviour - when trying to update with an id that does not exist in the repository (repository returns null) service throws an exception. If you want to test the case where the entity is present you need to mock the repository appropriately.","title":"How to test update function in Rest API?","body":"<p><code>ApplicationService</code> is your class under test. The exception you're getting is coming from <code>ApplicationService.getById()</code> method called at the start of <code>update()</code> method you're testing. You did not show us that method, but at a guess it calls the repository to get an instance by id. Your Repository mock is not set up to return anything when asked for any entity, so it returns null. Which seems to trigger the <code>orElseThrow</code> clause in the <code>getById()</code> method.</p>\n<p>As such what you're seeing is likely the expected behaviour - when trying to update with an id that does not exist in the repository (repository returns null) service throws an exception. If you want to test the case where the entity is present you need to mock the repository appropriately.</p>\n"}],"owner":{"account_id":26020646,"reputation":23,"user_id":19728398,"display_name":"Ege Coskun"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":568,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":73308448,"answer_count":2,"score":-1,"last_activity_date":1696600262,"creation_date":1660141959,"question_id":73308169,"body_markdown":"I can&#39;t find a way to test my `update` method using JUnit. I am mocking the necessary repo and services. But when I call `findById(Mockito.any())` it can&#39;t find anything so it throws an exception.\r\n\r\nHere is my test class:\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\nclass ApplicantServiceTest {\r\n\r\n\r\n    @Mock\r\n    private ApplicantRepository applicantRepository;\r\n    @Mock\r\n    private CreditRatingService creditRatingService;\r\n    @Mock\r\n    private ApplicantMapper applicantMapper;\r\n\r\n    @InjectMocks\r\n    private ApplicantService applicantService;\r\n\r\n    @Test\r\n    void update() {\r\n        Applicant applicant = getSampleApplicants().get(1);\r\n        Applicant updatedApplicant = new Applicant(1L,2141245L,&quot;ege&quot;,&quot;c0skun&quot;,2523,&quot;21412412&quot;,null,null);\r\n\r\n        Mockito.when(applicantService.update(applicantMapper.toDTO(applicant),Mockito.any())).thenReturn(applicant);\r\n\r\n        Assert.assertEquals(applicant.getIdentificationNumber(),updatedApplicant.getIdentificationNumber());\r\n        Assert.assertEquals(applicant.getPhoneNumber(), updatedApplicant.getPhoneNumber());\r\n        Assert.assertEquals(applicant.getFirstName(), updatedApplicant.getFirstName());\r\n        assertEquals(applicant.getMonthlyIncome(), updatedApplicant.getMonthlyIncome());\r\n        Assert.assertEquals(applicant.getId(), updatedApplicant.getId());\r\n\r\n    }\r\n```\r\n\r\nAnd this is the method I am trying to test:\r\n\r\n```\r\n  public Applicant update(ApplicantDTO applicantDTO,Long id) {\r\n\r\n        Applicant byId = getById(id);\r\n\r\n        if (applicantDTO.getMonthlyIncome()!=byId.getMonthlyIncome()){\r\n            byId.setMonthlyIncome(applicantDTO.getMonthlyIncome());\r\n        }\r\n        if (!Objects.equals(applicantDTO.getFirstName(), byId.getFirstName())){\r\n            byId.setFirstName(applicantDTO.getFirstName());\r\n        }\r\n        if (!Objects.equals(applicantDTO.getLastName(), byId.getLastName())){\r\n            byId.setLastName(applicantDTO.getLastName());\r\n        }\r\n        if (!Objects.equals(applicantDTO.getPhoneNumber(), byId.getPhoneNumber())){\r\n            byId.setPhoneNumber(applicantDTO.getPhoneNumber());\r\n        }\r\n        if (!Objects.equals(applicantDTO.getIdentificationNumber(), byId.getIdentificationNumber())){\r\n            byId.setIdentificationNumber(applicantDTO.getIdentificationNumber());\r\n        }\r\n\r\n        return applicantRepository.save(byId);\r\n    }\r\n\r\n```\r\nThis is the output:\r\n\r\n```\r\n17:43:19.520 [main] ERROR com.egecoskun.finalproject.services.ApplicantService - Applicant not found by id : null\r\n\r\nRelated Applicant not found with : [id : null]\r\nEntityNotFoundException(details=Some Special Details)\r\n\tat com.egecoskun.finalproject.services.ApplicantService.lambda$getById$0(ApplicantService.java:47)\r\n\tat java.base/java.util.Optional.orElseThrow(Optional.java:403)\r\n\tat com.egecoskun.finalproject.services.ApplicantService.getById(ApplicantService.java:45)\r\n\tat com.egecoskun.finalproject.services.ApplicantService.update(ApplicantService.java:75)\r\n\tat com.egecoskun.finalproject.services.ApplicantServiceTest.update(ApplicantServiceTest.java:136)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    ...\r\n```\r\n\r\n\r\nCan someone explain how to unit test my update method? \r\n","title":"How to test update function in Rest API?","body":"<p>I can't find a way to test my <code>update</code> method using JUnit. I am mocking the necessary repo and services. But when I call <code>findById(Mockito.any())</code> it can't find anything so it throws an exception.</p>\n<p>Here is my test class:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass ApplicantServiceTest {\n\n\n    @Mock\n    private ApplicantRepository applicantRepository;\n    @Mock\n    private CreditRatingService creditRatingService;\n    @Mock\n    private ApplicantMapper applicantMapper;\n\n    @InjectMocks\n    private ApplicantService applicantService;\n\n    @Test\n    void update() {\n        Applicant applicant = getSampleApplicants().get(1);\n        Applicant updatedApplicant = new Applicant(1L,2141245L,&quot;ege&quot;,&quot;c0skun&quot;,2523,&quot;21412412&quot;,null,null);\n\n        Mockito.when(applicantService.update(applicantMapper.toDTO(applicant),Mockito.any())).thenReturn(applicant);\n\n        Assert.assertEquals(applicant.getIdentificationNumber(),updatedApplicant.getIdentificationNumber());\n        Assert.assertEquals(applicant.getPhoneNumber(), updatedApplicant.getPhoneNumber());\n        Assert.assertEquals(applicant.getFirstName(), updatedApplicant.getFirstName());\n        assertEquals(applicant.getMonthlyIncome(), updatedApplicant.getMonthlyIncome());\n        Assert.assertEquals(applicant.getId(), updatedApplicant.getId());\n\n    }\n</code></pre>\n<p>And this is the method I am trying to test:</p>\n<pre><code>  public Applicant update(ApplicantDTO applicantDTO,Long id) {\n\n        Applicant byId = getById(id);\n\n        if (applicantDTO.getMonthlyIncome()!=byId.getMonthlyIncome()){\n            byId.setMonthlyIncome(applicantDTO.getMonthlyIncome());\n        }\n        if (!Objects.equals(applicantDTO.getFirstName(), byId.getFirstName())){\n            byId.setFirstName(applicantDTO.getFirstName());\n        }\n        if (!Objects.equals(applicantDTO.getLastName(), byId.getLastName())){\n            byId.setLastName(applicantDTO.getLastName());\n        }\n        if (!Objects.equals(applicantDTO.getPhoneNumber(), byId.getPhoneNumber())){\n            byId.setPhoneNumber(applicantDTO.getPhoneNumber());\n        }\n        if (!Objects.equals(applicantDTO.getIdentificationNumber(), byId.getIdentificationNumber())){\n            byId.setIdentificationNumber(applicantDTO.getIdentificationNumber());\n        }\n\n        return applicantRepository.save(byId);\n    }\n\n</code></pre>\n<p>This is the output:</p>\n<pre><code>17:43:19.520 [main] ERROR com.egecoskun.finalproject.services.ApplicantService - Applicant not found by id : null\n\nRelated Applicant not found with : [id : null]\nEntityNotFoundException(details=Some Special Details)\n    at com.egecoskun.finalproject.services.ApplicantService.lambda$getById$0(ApplicantService.java:47)\n    at java.base/java.util.Optional.orElseThrow(Optional.java:403)\n    at com.egecoskun.finalproject.services.ApplicantService.getById(ApplicantService.java:45)\n    at com.egecoskun.finalproject.services.ApplicantService.update(ApplicantService.java:75)\n    at com.egecoskun.finalproject.services.ApplicantServiceTest.update(ApplicantServiceTest.java:136)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    ...\n</code></pre>\n<p>Can someone explain how to unit test my update method?</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"score":0,"creation_date":1696366111,"post_id":77221002,"comment_id":136143149,"body_markdown":"I have something , but i can&#39;t control its topology  yet .","body":"I have something , but i can&#39;t control its topology  yet ."},{"owner":{"account_id":6211203,"reputation":87,"user_id":13660973,"display_name":"FarHooD"},"score":0,"creation_date":1696366518,"post_id":77221002,"comment_id":136143199,"body_markdown":"It can be helpful. thank you.","body":"It can be helpful. thank you."},{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":1,"creation_date":1696540495,"post_id":77221002,"comment_id":136170193,"body_markdown":"You can check [TriangulatedMesh](https://github.com/FXyz/FXyz/blob/master/FXyz-Core/src/main/java/org/fxyz3d/shapes/primitives/TriangulatedMesh.java#L66) from the FXyz library. It uses Delaunay interpolation to generate a 2D mesh out of the points that define the perimeter, that then it is extruded with a given height. See https://github.com/FXyz/FXyz#sample on how to get started.","body":"You can check <a href=\"https://github.com/FXyz/FXyz/blob/master/FXyz-Core/src/main/java/org/fxyz3d/shapes/primitives/TriangulatedMesh.java#L66\" rel=\"nofollow noreferrer\">TriangulatedMesh</a> from the FXyz library. It uses Delaunay interpolation to generate a 2D mesh out of the points that define the perimeter, that then it is extruded with a given height. See <a href=\"https://github.com/FXyz/FXyz#sample\" rel=\"nofollow noreferrer\">github.com/FXyz/FXyz#sample</a> on how to get started."},{"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"score":0,"creation_date":1697107545,"post_id":77221002,"comment_id":136239353,"body_markdown":"You  edited and added more  stuff making it way more complex .  We are happy to help you( or trying ), but time is a tyrant  .My thoughts anyway . I think you can mirroring an axis just multiplying that vertex axis by -1 in .make it just x and y on papper. That will mirror it not extrude . That needs more steps I think","body":"You  edited and added more  stuff making it way more complex .  We are happy to help you( or trying ), but time is a tyrant  .My thoughts anyway . I think you can mirroring an axis just multiplying that vertex axis by -1 in .make it just x and y on papper. That will mirror it not extrude . That needs more steps I think"}],"answers":[{"comments":[{"owner":{"account_id":6211203,"reputation":87,"user_id":13660973,"display_name":"FarHooD"},"score":0,"creation_date":1696369523,"post_id":77225533,"comment_id":136143582,"body_markdown":"The result of adding point into the code showing nothing, if I add 9 or 18 points its show on or two line separated!","body":"The result of adding point into the code showing nothing, if I add 9 or 18 points its show on or two line separated!"},{"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"score":0,"creation_date":1696370378,"post_id":77225533,"comment_id":136143672,"body_markdown":"Sorry about that .  you need to click counterclockwise . that is the issue about topology . the app just have singlesided faces . I hope someone will improve it .  I think the faces can be made recursively","body":"Sorry about that .  you need to click counterclockwise . that is the issue about topology . the app just have singlesided faces . I hope someone will improve it .  I think the faces can be made recursively"}],"tags":[],"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696368189,"creation_date":1696367437,"answer_id":77225533,"question_id":77221002,"body_markdown":"This approach will mesh `MeshView` object with xy parent&#39;s coordinates ( z is alway 0 ) given by `PickResult`. There are some issues about topology and artifacts .\r\nSince a tringle has 9 coordinates (3 vertices ) the condition will start at third click event . And , every new click needs a new face after the first triangle . That is why faces array needs to be cleared with `mesh.getFaces().clear()`  method.\r\n\r\nAll 3d vertices are pointing to u =0 &amp; v=0  uv coordinates and raster images can not be applied as texture . Check this [answer][1]\r\n \r\n\r\n\r\n[![meshview javafx][2]][2]\r\n\r\nApp.java\r\n\r\n    public class App extends Application {\r\n    \r\n        private final TriangleMesh mesh = new TriangleMesh();\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n    \r\n            mesh.getTexCoords().addAll(0, 0);\r\n            MeshView meshView = new MeshView(mesh);\r\n            meshView.setMaterial(new PhongMaterial(Color.CYAN));\r\n    \r\n            AnchorPane anchorPane = new AnchorPane(meshView);\r\n    \r\n            anchorPane.setOnMouseClicked(e -&gt; {\r\n                float x = (float) e.getX();\r\n                float y = (float) e.getY();\r\n    \r\n                mesh.getPoints().addAll(x, y, 0);\r\n    \r\n                if (mesh.getPoints().size() &gt;= 9) {\r\n    \r\n                    makeFaces();\r\n                }\r\n    \r\n            });\r\n    \r\n            var scene = new Scene(anchorPane, 640, 480);\r\n            stage.setScene(scene);\r\n            stage.show();\r\n        }\r\n    \r\n        private void makeFaces() {\r\n            mesh.getFaces().clear();\r\n            int vertices = mesh.getPoints().size();\r\n            int faces = 1 + ((vertices - 9) / 3);\r\n    \r\n            for (int i = 0; i &lt; faces; i++) {\r\n    \r\n                mesh.getFaces().addAll(i, 0, i + 1, 0, i + 2, 0);\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/72007091/7587451\r\n  [2]: https://i.stack.imgur.com/t22Mz.gif","title":"Create Custom shape 3D from 2D points or path in java(or JavaFx)","body":"<p>This approach will mesh <code>MeshView</code> object with xy parent's coordinates ( z is alway 0 ) given by <code>PickResult</code>. There are some issues about topology and artifacts .\nSince a tringle has 9 coordinates (3 vertices ) the condition will start at third click event . And , every new click needs a new face after the first triangle . That is why faces array needs to be cleared with <code>mesh.getFaces().clear()</code>  method.</p>\n<p>All 3d vertices are pointing to u =0 &amp; v=0  uv coordinates and raster images can not be applied as texture . Check this <a href=\"https://stackoverflow.com/a/72007091/7587451\">answer</a></p>\n<p><a href=\"https://i.stack.imgur.com/t22Mz.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/t22Mz.gif\" alt=\"meshview javafx\" /></a></p>\n<p>App.java</p>\n<pre><code>public class App extends Application {\n\n    private final TriangleMesh mesh = new TriangleMesh();\n\n    @Override\n    public void start(Stage stage) {\n\n        mesh.getTexCoords().addAll(0, 0);\n        MeshView meshView = new MeshView(mesh);\n        meshView.setMaterial(new PhongMaterial(Color.CYAN));\n\n        AnchorPane anchorPane = new AnchorPane(meshView);\n\n        anchorPane.setOnMouseClicked(e -&gt; {\n            float x = (float) e.getX();\n            float y = (float) e.getY();\n\n            mesh.getPoints().addAll(x, y, 0);\n\n            if (mesh.getPoints().size() &gt;= 9) {\n\n                makeFaces();\n            }\n\n        });\n\n        var scene = new Scene(anchorPane, 640, 480);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    private void makeFaces() {\n        mesh.getFaces().clear();\n        int vertices = mesh.getPoints().size();\n        int faces = 1 + ((vertices - 9) / 3);\n\n        for (int i = 0; i &lt; faces; i++) {\n\n            mesh.getFaces().addAll(i, 0, i + 1, 0, i + 2, 0);\n\n        }\n\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":6211203,"reputation":87,"user_id":13660973,"display_name":"FarHooD"},"score":0,"creation_date":1696600497,"post_id":77241504,"comment_id":136177982,"body_markdown":"(javafx does not support) but support polygon 3d shape right?","body":"(javafx does not support) but support polygon 3d shape right?"},{"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"score":1,"creation_date":1696602492,"post_id":77241504,"comment_id":136178428,"body_markdown":"Ngons  a polygon made by 5 ( or more )  vertices","body":"Ngons  a polygon made by 5 ( or more )  vertices"},{"owner":{"account_id":6211203,"reputation":87,"user_id":13660973,"display_name":"FarHooD"},"score":0,"creation_date":1697180616,"post_id":77241504,"comment_id":136249925,"body_markdown":"I added the camera into your code and It&#39;s not a 3D shape(but i need 3d Shape), Thanks alot for helping me.","body":"I added the camera into your code and It&#39;s not a 3D shape(but i need 3d Shape), Thanks alot for helping me."}],"tags":[],"owner":{"account_id":10283144,"reputation":2440,"user_id":7587451,"display_name":"Giovanni Contreras"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696562164,"creation_date":1696558170,"answer_id":77241504,"question_id":77221002,"body_markdown":"**Meshing a MeshView object from 2d coordinates** \r\n\r\n[![meshview javafx][1]][1]\r\n\r\nThere is an array of `Point2d` wich are replaced by a custom class that extends `Rectangle` to visulize where we can click .  We need to click three different dots(`Rectangles`) to thrigger this sequence :\r\n\r\n 1. check if the dot x&amp;y coords  already  exists in points array from the `TriangleMesh` instance . If is not it will add it.\r\n\r\n 2. check its vertex index with `searchByCoords` method\r\n\r\n 3. Once 1 and 2 steps were done  for all 3 dots . It will add a new face for faces array in the mesh instance .\r\n\r\n 4. It will clear the array were those 3 clicked dots were stored allowing next iterations.\r\n\r\nAll uv coordinates are the same (0,0)  and raster images can not be applied as textures . Check this [answer][2]\r\n\r\njavafx does not support [ngons][3]\r\n\r\n\r\nThis is a single class  javafx app you can try \r\n\r\nApp.java\r\n\r\n    public class App extends Application {\r\n    \r\n        private Point2D[] points;\r\n    \r\n        private ArrayList&lt;Dot&gt; clickedDots = new ArrayList&lt;&gt;();\r\n    \r\n        private final ArrayList&lt;Dot&gt; dots = new ArrayList&lt;&gt;();\r\n    \r\n        private final AnchorPane anchorPane = new AnchorPane();\r\n    \r\n        private final TriangleMesh mesh = new TriangleMesh(VertexFormat.POINT_TEXCOORD);\r\n    \r\n        @Override\r\n        public void start(Stage stage) {\r\n    \r\n            MeshView meshView = new MeshView(mesh);\r\n            meshView.setMaterial(new PhongMaterial(Color.YELLOWGREEN));\r\n            mesh.getTexCoords().addAll(0, 0);\r\n            meshView.setDisable(true);\r\n    \r\n            Button drawmode = new Button(&quot;mode&quot;);\r\n            drawmode.setOnAction(e -&gt; {\r\n                if (meshView.getDrawMode() == DrawMode.FILL) {\r\n                    meshView.setDrawMode(DrawMode.LINE);\r\n                } else {\r\n                    meshView.setDrawMode(DrawMode.FILL);\r\n                }\r\n    \r\n            });\r\n            AnchorPane.setRightAnchor(drawmode, 5d);\r\n            anchorPane.getChildren().add(drawmode);\r\n            Button reset = new Button(&quot;reset&quot;);\r\n            reset.setOnAction(e -&gt; {\r\n    \r\n                mesh.getFaces().clear();\r\n                mesh.getPoints().clear();\r\n                clickedDots.forEach(dot -&gt; {\r\n                    dot.clear();\r\n                });\r\n                clickedDots.clear();\r\n    \r\n            });\r\n            AnchorPane.setRightAnchor(reset, 60d);\r\n            anchorPane.getChildren().add(reset);\r\n    \r\n            points = new Point2D[]{new Point2D(10, 10), new Point2D(100, 10),\r\n                new Point2D(150, 10), new Point2D(160, 20), new Point2D(180, 25),\r\n                new Point2D(180, 200), new Point2D(160, 200), new Point2D(100, 200), new Point2D(10, 200)};\r\n    \r\n            populate();\r\n            anchorPane.getChildren().add(meshView);\r\n    \r\n            anchorPane.setOnMouseClicked(e -&gt; {\r\n    \r\n                if (e.getPickResult().getIntersectedNode() instanceof Dot) {\r\n                    Dot dot = (Dot) e.getPickResult().getIntersectedNode();\r\n    \r\n                    if (!dot.isSelected) {\r\n                        dot.select();\r\n                        clickedDots.add(dot);\r\n                    }\r\n                }\r\n                if (clickedDots.size() == 3) {\r\n                    float z = 0;\r\n                    // vertex1\r\n                    float x1 = (float) clickedDots.get(0).getTranslateX();\r\n                    float y1 = (float) clickedDots.get(0).getTranslateY();\r\n    \r\n                    if (!wasXYAdded(x1, y1)) {\r\n                        mesh.getPoints().addAll(x1, y1, z);\r\n                    }\r\n                    int vertext1 = searchByCoords(x1, y1);\r\n              \r\n                    \r\n                    // vertex2\r\n                    float x2 = (float) clickedDots.get(1).getTranslateX();\r\n                    float y2 = (float) clickedDots.get(1).getTranslateY();\r\n    \r\n                    if (!wasXYAdded(x2, y2)) {\r\n                        mesh.getPoints().addAll(x2, y2, z);\r\n                    }\r\n                    int vertext2 = searchByCoords(x2, y2);\r\n                   \r\n    \r\n                    // vertex3\r\n                    float x3 = (float) clickedDots.get(2).getTranslateX();\r\n                    float y3 = (float) clickedDots.get(2).getTranslateY();\r\n    \r\n                    if (!wasXYAdded(x3, y3)) {\r\n                        mesh.getPoints().addAll(x3, y3, z);\r\n                    }\r\n                    int vertext3 = searchByCoords(x3, y3);\r\n                  \r\n    \r\n                    mesh.getFaces().addAll(vertext1, 0, vertext2, 0, vertext3, 0);\r\n                    mesh.getFaces().addAll(vertext3, 0, vertext2, 0, vertext1, 0);\r\n    \r\n                    clickedDots.forEach(dot -&gt; {\r\n                        dot.clear();\r\n    \r\n                    });\r\n                    clickedDots.clear();\r\n                }\r\n    \r\n            });\r\n    \r\n            var scene = new Scene(anchorPane, 320, 300);\r\n            stage.setScene(scene);\r\n            stage.setTitle(&quot;meshing from 2d coords&quot;);\r\n            stage.show();\r\n    \r\n        }\r\n    \r\n        private int searchByCoords(float x, float y) {\r\n            for (int i = 0; i &lt; mesh.getPoints().size() / 3; i++) {\r\n    \r\n                float testX = mesh.getPoints().get(i * 3);\r\n                float testY = mesh.getPoints().get((i * 3) + 1);\r\n                if (testX == x &amp;&amp; testY == y) {\r\n                    return i;\r\n                }\r\n    \r\n            }\r\n            return ((mesh.getPoints().size() / 3));\r\n        }\r\n    \r\n        private boolean wasXYAdded(float x, float y) {\r\n            for (int i = 0; i &lt; mesh.getPoints().size() / 3; i++) {\r\n    \r\n                float testX = mesh.getPoints().get(i * 3);\r\n                float testY = mesh.getPoints().get((i * 3) + 1);\r\n                if (testX == x &amp;&amp; testY == y) {\r\n                    \r\n                    return true;\r\n                }\r\n    \r\n            }\r\n            return false;\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    \r\n        private void populate() {\r\n    \r\n            for (Point2D point : points) {\r\n    \r\n                Dot dot = new Dot(point.getX(), point.getY());\r\n                dots.add(dot);\r\n                anchorPane.getChildren().add(dot);\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        private class Dot extends Rectangle {\r\n    \r\n            private boolean isSelected = false;\r\n    \r\n            public Dot(double x, double y) {\r\n                setTranslateX(x);\r\n                setTranslateY(y);\r\n                setWidth(10);\r\n                setHeight(10);\r\n                setFill(Color.BLACK);\r\n    \r\n            }\r\n    \r\n            public void clear() {\r\n                setFill(Color.BLACK);\r\n                isSelected = false;\r\n            }\r\n    \r\n            public void select() {\r\n                setFill(Color.ORANGERED);\r\n                isSelected = true;\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/1cfnM.gif\r\n  [2]: https://stackoverflow.com/a/72007091/7587451\r\n  [3]: https://docs.mcneel.com/rhino/7/help/en-us/popup_moreinformation/ngon.htm","title":"Create Custom shape 3D from 2D points or path in java(or JavaFx)","body":"<p><strong>Meshing a MeshView object from 2d coordinates</strong></p>\n<p><a href=\"https://i.stack.imgur.com/1cfnM.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1cfnM.gif\" alt=\"meshview javafx\" /></a></p>\n<p>There is an array of <code>Point2d</code> wich are replaced by a custom class that extends <code>Rectangle</code> to visulize where we can click .  We need to click three different dots(<code>Rectangles</code>) to thrigger this sequence :</p>\n<ol>\n<li><p>check if the dot x&amp;y coords  already  exists in points array from the <code>TriangleMesh</code> instance . If is not it will add it.</p>\n</li>\n<li><p>check its vertex index with <code>searchByCoords</code> method</p>\n</li>\n<li><p>Once 1 and 2 steps were done  for all 3 dots . It will add a new face for faces array in the mesh instance .</p>\n</li>\n<li><p>It will clear the array were those 3 clicked dots were stored allowing next iterations.</p>\n</li>\n</ol>\n<p>All uv coordinates are the same (0,0)  and raster images can not be applied as textures . Check this <a href=\"https://stackoverflow.com/a/72007091/7587451\">answer</a></p>\n<p>javafx does not support <a href=\"https://docs.mcneel.com/rhino/7/help/en-us/popup_moreinformation/ngon.htm\" rel=\"nofollow noreferrer\">ngons</a></p>\n<p>This is a single class  javafx app you can try</p>\n<p>App.java</p>\n<pre><code>public class App extends Application {\n\n    private Point2D[] points;\n\n    private ArrayList&lt;Dot&gt; clickedDots = new ArrayList&lt;&gt;();\n\n    private final ArrayList&lt;Dot&gt; dots = new ArrayList&lt;&gt;();\n\n    private final AnchorPane anchorPane = new AnchorPane();\n\n    private final TriangleMesh mesh = new TriangleMesh(VertexFormat.POINT_TEXCOORD);\n\n    @Override\n    public void start(Stage stage) {\n\n        MeshView meshView = new MeshView(mesh);\n        meshView.setMaterial(new PhongMaterial(Color.YELLOWGREEN));\n        mesh.getTexCoords().addAll(0, 0);\n        meshView.setDisable(true);\n\n        Button drawmode = new Button(&quot;mode&quot;);\n        drawmode.setOnAction(e -&gt; {\n            if (meshView.getDrawMode() == DrawMode.FILL) {\n                meshView.setDrawMode(DrawMode.LINE);\n            } else {\n                meshView.setDrawMode(DrawMode.FILL);\n            }\n\n        });\n        AnchorPane.setRightAnchor(drawmode, 5d);\n        anchorPane.getChildren().add(drawmode);\n        Button reset = new Button(&quot;reset&quot;);\n        reset.setOnAction(e -&gt; {\n\n            mesh.getFaces().clear();\n            mesh.getPoints().clear();\n            clickedDots.forEach(dot -&gt; {\n                dot.clear();\n            });\n            clickedDots.clear();\n\n        });\n        AnchorPane.setRightAnchor(reset, 60d);\n        anchorPane.getChildren().add(reset);\n\n        points = new Point2D[]{new Point2D(10, 10), new Point2D(100, 10),\n            new Point2D(150, 10), new Point2D(160, 20), new Point2D(180, 25),\n            new Point2D(180, 200), new Point2D(160, 200), new Point2D(100, 200), new Point2D(10, 200)};\n\n        populate();\n        anchorPane.getChildren().add(meshView);\n\n        anchorPane.setOnMouseClicked(e -&gt; {\n\n            if (e.getPickResult().getIntersectedNode() instanceof Dot) {\n                Dot dot = (Dot) e.getPickResult().getIntersectedNode();\n\n                if (!dot.isSelected) {\n                    dot.select();\n                    clickedDots.add(dot);\n                }\n            }\n            if (clickedDots.size() == 3) {\n                float z = 0;\n                // vertex1\n                float x1 = (float) clickedDots.get(0).getTranslateX();\n                float y1 = (float) clickedDots.get(0).getTranslateY();\n\n                if (!wasXYAdded(x1, y1)) {\n                    mesh.getPoints().addAll(x1, y1, z);\n                }\n                int vertext1 = searchByCoords(x1, y1);\n          \n                \n                // vertex2\n                float x2 = (float) clickedDots.get(1).getTranslateX();\n                float y2 = (float) clickedDots.get(1).getTranslateY();\n\n                if (!wasXYAdded(x2, y2)) {\n                    mesh.getPoints().addAll(x2, y2, z);\n                }\n                int vertext2 = searchByCoords(x2, y2);\n               \n\n                // vertex3\n                float x3 = (float) clickedDots.get(2).getTranslateX();\n                float y3 = (float) clickedDots.get(2).getTranslateY();\n\n                if (!wasXYAdded(x3, y3)) {\n                    mesh.getPoints().addAll(x3, y3, z);\n                }\n                int vertext3 = searchByCoords(x3, y3);\n              \n\n                mesh.getFaces().addAll(vertext1, 0, vertext2, 0, vertext3, 0);\n                mesh.getFaces().addAll(vertext3, 0, vertext2, 0, vertext1, 0);\n\n                clickedDots.forEach(dot -&gt; {\n                    dot.clear();\n\n                });\n                clickedDots.clear();\n            }\n\n        });\n\n        var scene = new Scene(anchorPane, 320, 300);\n        stage.setScene(scene);\n        stage.setTitle(&quot;meshing from 2d coords&quot;);\n        stage.show();\n\n    }\n\n    private int searchByCoords(float x, float y) {\n        for (int i = 0; i &lt; mesh.getPoints().size() / 3; i++) {\n\n            float testX = mesh.getPoints().get(i * 3);\n            float testY = mesh.getPoints().get((i * 3) + 1);\n            if (testX == x &amp;&amp; testY == y) {\n                return i;\n            }\n\n        }\n        return ((mesh.getPoints().size() / 3));\n    }\n\n    private boolean wasXYAdded(float x, float y) {\n        for (int i = 0; i &lt; mesh.getPoints().size() / 3; i++) {\n\n            float testX = mesh.getPoints().get(i * 3);\n            float testY = mesh.getPoints().get((i * 3) + 1);\n            if (testX == x &amp;&amp; testY == y) {\n                \n                return true;\n            }\n\n        }\n        return false;\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n    private void populate() {\n\n        for (Point2D point : points) {\n\n            Dot dot = new Dot(point.getX(), point.getY());\n            dots.add(dot);\n            anchorPane.getChildren().add(dot);\n\n        }\n\n    }\n\n    private class Dot extends Rectangle {\n\n        private boolean isSelected = false;\n\n        public Dot(double x, double y) {\n            setTranslateX(x);\n            setTranslateY(y);\n            setWidth(10);\n            setHeight(10);\n            setFill(Color.BLACK);\n\n        }\n\n        public void clear() {\n            setFill(Color.BLACK);\n            isSelected = false;\n        }\n\n        public void select() {\n            setFill(Color.ORANGERED);\n            isSelected = true;\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":6211203,"reputation":87,"user_id":13660973,"display_name":"FarHooD"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":395,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":2,"score":6,"last_activity_date":1696599758,"creation_date":1696324415,"question_id":77221002,"body_markdown":"In order to my lack of knowledge is it about how to create 3d model from 2d point(coordinates/paths) in java and showing on javafx?\r\nin the basics I know how to use camera and light system and it&#39;s not a problem but I have Picture from stone (Original Image) that User with mouse input selected points, The codes:\r\n\r\n(The canvas put it on ImageView that have original Image. the canvas w , h bind to parent of imageView and imageview bind to parent w,h (so the imageview and canvas are the same w,h))\r\n```\r\n        canvas.setOnMouseClicked(new EventHandler&lt;MouseEvent&gt;() {\r\n            @Override\r\n            public void handle(MouseEvent mouseEvent) {\r\n                if (isStarted()) {\r\n                    App.logger.debug(&quot;Added the Point into: -&gt; X: &quot; + mouseEvent.getX() + &quot; And Y: &quot; + mouseEvent.getY());\r\n                    points.add(new Point2D(mouseEvent.getX(), mouseEvent.getY()));\r\n                    reDraw();\r\n                    restorePoints = new ArrayList&lt;Point2D&gt;();\r\n                } else {\r\n                    App.logger.debug(&quot;The Start stat is :&quot; + isStarted() + &quot; So we can&#39;t Draw Shapes.&quot;);\r\n                }\r\n            }\r\n        });\r\n```\r\nThe points and restore point are : ```ArrayList&lt;Point2D&gt; points = new ArrayList&lt;Point2D&gt;()``` and I have correct point of image that show me the area selected to be 3d, but I can&#39;t find how to change this into 3d model from 3dpoints (for z the user select z and I set all point z )\r\n\r\n```\r\n ArrayList&lt;Point3D&gt; points3D = new ArrayList&lt;Point3D&gt;();\r\n        for (Point2D point2D : points) {\r\n            points3D.add(new Point3D(point2D.getX(), point2D.getY(), 24));\r\n        }\r\n``` \r\nin extra information I convert the points into Path with this code :\r\n\r\n```\r\n    private void connectJoint() {\r\n        Point2D startPoint = null;\r\n        Point2D startingPoint = null, endingPoint = null;\r\n        Collection&lt;PathElement&gt; pathElements = new ArrayList&lt;PathElement&gt;();\r\n        for (Point2D point : points) {\r\n            if (startPoint == null) {\r\n                startingPoint = point;\r\n                startPoint = point;\r\n                pathElements.add(new MoveTo(point.getX(), point.getY()));\r\n                continue;\r\n            }\r\n            pathElements.add(new LineTo(point.getX(), point.getY()));\r\n            graphicsContext.strokeLine(startPoint.getX(), startPoint.getY(), point.getX(), point.getY());\r\n            pathElements.add(new LineTo(startingPoint.getX(), startingPoint.getY()));\r\n            startPoint = point;\r\n        }\r\n        endingPoint = startPoint;\r\n        if (startingPoint != null &amp;&amp; endingPoint != null &amp;&amp; points.size() &gt; 2) {\r\n            shadowLastLine(startingPoint, endingPoint);\r\n\r\n        }\r\n        pathOfSelectedAreaWithEndJoined = new Path(pathElements);\r\n    }\r\n```\r\nSo, back in My Question: How I can create 3dModel from the points or path I have in java to show in javafx?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n----------\r\n\r\nFor Update My Question, Created the 3D model with Photoshop that show what actually I&#39;m looking for :\r\n[![enter image description here][2]][2]\r\nI have Point3D that is from Point2D and ill create 2 ArrayList from it one for top layout and other for bottom layout some of them with z=0 and the other z=(Anything user selected). But what&#39;s really Idk is How to show this! in some point Using extra library or TrianglMesh can&#39;t show it and it&#39;s make so many convert the code for showing something like that!\r\n\r\n\r\n----------\r\n\r\nUpdate 3:\r\nAs You can see from Video that uploaded as GIF , I created Application that user can point area they want and create 2D picture from canvas but my Problem is create 3D Object as Image I mention before from 2D points.\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LiRjQ.jpg\r\n  [2]: https://i.stack.imgur.com/Tff9q.png\r\n  [3]: https://i.stack.imgur.com/CHvNp.gif","title":"Create Custom shape 3D from 2D points or path in java(or JavaFx)","body":"<p>In order to my lack of knowledge is it about how to create 3d model from 2d point(coordinates/paths) in java and showing on javafx?\nin the basics I know how to use camera and light system and it's not a problem but I have Picture from stone (Original Image) that User with mouse input selected points, The codes:</p>\n<p>(The canvas put it on ImageView that have original Image. the canvas w , h bind to parent of imageView and imageview bind to parent w,h (so the imageview and canvas are the same w,h))</p>\n<pre><code>        canvas.setOnMouseClicked(new EventHandler&lt;MouseEvent&gt;() {\n            @Override\n            public void handle(MouseEvent mouseEvent) {\n                if (isStarted()) {\n                    App.logger.debug(&quot;Added the Point into: -&gt; X: &quot; + mouseEvent.getX() + &quot; And Y: &quot; + mouseEvent.getY());\n                    points.add(new Point2D(mouseEvent.getX(), mouseEvent.getY()));\n                    reDraw();\n                    restorePoints = new ArrayList&lt;Point2D&gt;();\n                } else {\n                    App.logger.debug(&quot;The Start stat is :&quot; + isStarted() + &quot; So we can't Draw Shapes.&quot;);\n                }\n            }\n        });\n</code></pre>\n<p>The points and restore point are : <code>ArrayList&lt;Point2D&gt; points = new ArrayList&lt;Point2D&gt;()</code> and I have correct point of image that show me the area selected to be 3d, but I can't find how to change this into 3d model from 3dpoints (for z the user select z and I set all point z )</p>\n<pre><code> ArrayList&lt;Point3D&gt; points3D = new ArrayList&lt;Point3D&gt;();\n        for (Point2D point2D : points) {\n            points3D.add(new Point3D(point2D.getX(), point2D.getY(), 24));\n        }\n</code></pre>\n<p>in extra information I convert the points into Path with this code :</p>\n<pre><code>    private void connectJoint() {\n        Point2D startPoint = null;\n        Point2D startingPoint = null, endingPoint = null;\n        Collection&lt;PathElement&gt; pathElements = new ArrayList&lt;PathElement&gt;();\n        for (Point2D point : points) {\n            if (startPoint == null) {\n                startingPoint = point;\n                startPoint = point;\n                pathElements.add(new MoveTo(point.getX(), point.getY()));\n                continue;\n            }\n            pathElements.add(new LineTo(point.getX(), point.getY()));\n            graphicsContext.strokeLine(startPoint.getX(), startPoint.getY(), point.getX(), point.getY());\n            pathElements.add(new LineTo(startingPoint.getX(), startingPoint.getY()));\n            startPoint = point;\n        }\n        endingPoint = startPoint;\n        if (startingPoint != null &amp;&amp; endingPoint != null &amp;&amp; points.size() &gt; 2) {\n            shadowLastLine(startingPoint, endingPoint);\n\n        }\n        pathOfSelectedAreaWithEndJoined = new Path(pathElements);\n    }\n</code></pre>\n<p>So, back in My Question: How I can create 3dModel from the points or path I have in java to show in javafx?</p>\n<p><a href=\"https://i.stack.imgur.com/LiRjQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/LiRjQ.jpg\" alt=\"enter image description here\" /></a></p>\n<hr />\n<p>For Update My Question, Created the 3D model with Photoshop that show what actually I'm looking for :\n<a href=\"https://i.stack.imgur.com/Tff9q.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Tff9q.png\" alt=\"enter image description here\" /></a>\nI have Point3D that is from Point2D and ill create 2 ArrayList from it one for top layout and other for bottom layout some of them with z=0 and the other z=(Anything user selected). But what's really Idk is How to show this! in some point Using extra library or TrianglMesh can't show it and it's make so many convert the code for showing something like that!</p>\n<hr />\n<p>Update 3:\nAs You can see from Video that uploaded as GIF , I created Application that user can point area they want and create 2D picture from canvas but my Problem is create 3D Object as Image I mention before from 2D points.</p>\n<p><a href=\"https://i.stack.imgur.com/CHvNp.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CHvNp.gif\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","database-connection","couchbase","spring-data-couchbase","couchbase-java-api"],"comments":[{"owner":{"account_id":17736,"reputation":25458,"user_id":40015,"accept_rate":84,"display_name":"Matthew Groves"},"score":0,"creation_date":1696599269,"post_id":77241878,"comment_id":136177722,"body_markdown":"What version of the Couchbase Java SDK are you using? And what version of Couchbase Server?","body":"What version of the Couchbase Java SDK are you using? And what version of Couchbase Server?"},{"owner":{"account_id":1900628,"reputation":586,"user_id":1716558,"accept_rate":64,"display_name":"Amit Sinha"},"score":1,"creation_date":1696603978,"post_id":77241878,"comment_id":136178755,"body_markdown":"sdk : 3.4.0 server : 6.6.0","body":"sdk : 3.4.0 server : 6.6.0"},{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":0,"creation_date":1697147928,"post_id":77241878,"comment_id":136247025,"body_markdown":"Are you using Log4j2? If so, the delay might be due to this issue: https://stackoverflow.com/questions/75647869/log4j-2-20-0-takes-several-seconds-to-initialize","body":"Are you using Log4j2? If so, the delay might be due to this issue: <a href=\"https://stackoverflow.com/questions/75647869/log4j-2-20-0-takes-several-seconds-to-initialize\" title=\"log4j 2 20 0 takes several seconds to initialize\">stackoverflow.com/questions/75647869/&hellip;</a>"},{"owner":{"account_id":1900628,"reputation":586,"user_id":1716558,"accept_rate":64,"display_name":"Amit Sinha"},"score":0,"creation_date":1697212821,"post_id":77241878,"comment_id":136256037,"body_markdown":"no.. we are using slf4j","body":"no.. we are using slf4j"},{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":0,"creation_date":1697218772,"post_id":77241878,"comment_id":136257160,"body_markdown":"SLF4J is a logging facade that routes logging requests to a specific logger implementation (like logback, logj42, etc.). Which SLF4J binding are you using?","body":"SLF4J is a logging facade that routes logging requests to a specific logger implementation (like logback, logj42, etc.). Which SLF4J binding are you using?"},{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":0,"creation_date":1697218808,"post_id":77241878,"comment_id":136257167,"body_markdown":"Cross-reference to discussion on Couchbase Forum: https://www.couchbase.com/forums/t/environment-creation-is-taking-too-much-time/37151","body":"Cross-reference to discussion on Couchbase Forum: <a href=\"https://www.couchbase.com/forums/t/environment-creation-is-taking-too-much-time/37151\" rel=\"nofollow noreferrer\">couchbase.com/forums/t/&hellip;</a>"}],"owner":{"reputation":586,"user_id":1716558,"accept_rate":64,"display_name":"Amit Sinha"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1696599304,"creation_date":1696566561,"question_id":77241878,"body_markdown":"We are creating environment variable like this.\r\n\r\n            logger.info(marker, &quot;Couchbase## initializeBuckets tracerConfig start time {}&quot;, LocalDateTime.now());\r\n\r\n        ThresholdLoggingTracerConfig.Builder tracer = ThresholdLoggingTracerConfig.builder()\r\n                .emitInterval(Duration.ofMillis(tracerConfig.getLong(&quot;emitInterval&quot;, 20000L)))\r\n                .kvThreshold(Duration.ofMillis(tracerConfig.getLong(&quot;kvThreshold&quot;, 20000L)))\r\n                .queryThreshold(Duration.ofMillis(tracerConfig.getLong(&quot;n1qlThreshold&quot;, 60000L)))\r\n                .sampleSize(tracerConfig.getInteger(&quot;sampleSize&quot;, 5)).searchThreshold(Duration.ofSeconds(60));\r\n\r\n        logger.info(marker, &quot;Couchbase## initializeBuckets before environment time {}&quot;, LocalDateTime.now());\r\n\r\n        environment = ClusterEnvironment.builder()\r\n            .thresholdLoggingTracerConfig(tracer)\r\n            .retryStrategy(BestEffortRetryStrategy.INSTANCE)\r\n            .ioConfig(IoConfig.enableDnsSrv(false))\r\n            .timeoutConfig(TimeoutConfig.connectTimeout(Duration.ofMillis(\r\n                    couchbaseConfig.getLong(CONNECT_TIMEOUT, CONNECT_TIMEOUT_DEFAULT_VALUE)))\r\n                .queryTimeout(Duration.ofMillis(couchbaseConfig.\r\n                    getLong(QUERY_TIMEOUT, QUERY_TIMEOUT_DEFAULT_VALUE)))\r\n                .kvTimeout(Duration.ofMillis(couchbaseConfig.getLong(KV_TIMEOUT, KV_TIMEOUT_DEFAULT_VALUE))))\r\n            .build();\r\n\r\n        logger.info(marker, &quot;Couchbase## initializeBuckets after environment time {}&quot;, LocalDateTime.now());\r\n\r\n**It takes around 6-8 seconds to crate environment** environment variable. Even if we remove thresholdLoggingTracerConfig or use just below code to create default environment, it remains same.\r\n\r\n    environment = ClusterEnvironment.builder()\r\n\r\nIs any better way to optimize this creation and also can you please help me to understand why it takes this much time to create environment.","title":"Couchbase connection taking too much of time in java","body":"<p>We are creating environment variable like this.</p>\n<pre><code>        logger.info(marker, &quot;Couchbase## initializeBuckets tracerConfig start time {}&quot;, LocalDateTime.now());\n\n    ThresholdLoggingTracerConfig.Builder tracer = ThresholdLoggingTracerConfig.builder()\n            .emitInterval(Duration.ofMillis(tracerConfig.getLong(&quot;emitInterval&quot;, 20000L)))\n            .kvThreshold(Duration.ofMillis(tracerConfig.getLong(&quot;kvThreshold&quot;, 20000L)))\n            .queryThreshold(Duration.ofMillis(tracerConfig.getLong(&quot;n1qlThreshold&quot;, 60000L)))\n            .sampleSize(tracerConfig.getInteger(&quot;sampleSize&quot;, 5)).searchThreshold(Duration.ofSeconds(60));\n\n    logger.info(marker, &quot;Couchbase## initializeBuckets before environment time {}&quot;, LocalDateTime.now());\n\n    environment = ClusterEnvironment.builder()\n        .thresholdLoggingTracerConfig(tracer)\n        .retryStrategy(BestEffortRetryStrategy.INSTANCE)\n        .ioConfig(IoConfig.enableDnsSrv(false))\n        .timeoutConfig(TimeoutConfig.connectTimeout(Duration.ofMillis(\n                couchbaseConfig.getLong(CONNECT_TIMEOUT, CONNECT_TIMEOUT_DEFAULT_VALUE)))\n            .queryTimeout(Duration.ofMillis(couchbaseConfig.\n                getLong(QUERY_TIMEOUT, QUERY_TIMEOUT_DEFAULT_VALUE)))\n            .kvTimeout(Duration.ofMillis(couchbaseConfig.getLong(KV_TIMEOUT, KV_TIMEOUT_DEFAULT_VALUE))))\n        .build();\n\n    logger.info(marker, &quot;Couchbase## initializeBuckets after environment time {}&quot;, LocalDateTime.now());\n</code></pre>\n<p><strong>It takes around 6-8 seconds to crate environment</strong> environment variable. Even if we remove thresholdLoggingTracerConfig or use just below code to create default environment, it remains same.</p>\n<pre><code>environment = ClusterEnvironment.builder()\n</code></pre>\n<p>Is any better way to optimize this creation and also can you please help me to understand why it takes this much time to create environment.</p>\n"},{"tags":["java","android","firebase","google-cloud-firestore"],"answers":[{"tags":[],"owner":{"account_id":6819231,"reputation":132861,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696597126,"creation_date":1696597126,"answer_id":77244647,"question_id":77244288,"body_markdown":"To be able to get the document ID, which is `Jcrat...CEkn2`, you have to call [getId()][1] on the [QueryDocumentSnapshot][2] object like this:\r\n\r\n    FirebaseFirestore db = FirebaseFirestore.getInstance();\r\n    CollectionReference customerRef = db.collection(&quot;Customer&quot;);\r\n    Query queryByName = customerRef.whereEqualTo(&quot;Name&quot;, &quot;Karan Bapat&quot;);\r\n    queryByName.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\r\n        @Override\r\n        public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\r\n            if (task.isSuccessful()) {\r\n                for (QueryDocumentSnapshot document : task.getResult()) {\r\n                    if (document != null) {\r\n                        String docId = document.getId();\r\n                        Log.d(TAG, &quot;docId: &quot; + docId);\r\n                    }\r\n                }\r\n            } else {\r\n                Log.d(TAG, task.getException().getMessage()); //Never ignore potential errors!\r\n            }\r\n        }\r\n    });\r\n\r\nThe result in the logcat will be:\r\n\r\n    docId: Jcrat...CEkn2\r\n\r\n\r\n  [1]: https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentSnapshot#getId()\r\n  [2]: https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentSnapshot","title":"Fetching Document-id using where clause (Firebase Firestore with Android Studio)","body":"<p>To be able to get the document ID, which is <code>Jcrat...CEkn2</code>, you have to call <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentSnapshot#getId()\" rel=\"nofollow noreferrer\">getId()</a> on the <a href=\"https://firebase.google.com/docs/reference/android/com/google/firebase/firestore/DocumentSnapshot\" rel=\"nofollow noreferrer\">QueryDocumentSnapshot</a> object like this:</p>\n<pre><code>FirebaseFirestore db = FirebaseFirestore.getInstance();\nCollectionReference customerRef = db.collection(&quot;Customer&quot;);\nQuery queryByName = customerRef.whereEqualTo(&quot;Name&quot;, &quot;Karan Bapat&quot;);\nqueryByName.get().addOnCompleteListener(new OnCompleteListener&lt;QuerySnapshot&gt;() {\n    @Override\n    public void onComplete(@NonNull Task&lt;QuerySnapshot&gt; task) {\n        if (task.isSuccessful()) {\n            for (QueryDocumentSnapshot document : task.getResult()) {\n                if (document != null) {\n                    String docId = document.getId();\n                    Log.d(TAG, &quot;docId: &quot; + docId);\n                }\n            }\n        } else {\n            Log.d(TAG, task.getException().getMessage()); //Never ignore potential errors!\n        }\n    }\n});\n</code></pre>\n<p>The result in the logcat will be:</p>\n<pre><code>docId: Jcrat...CEkn2\n</code></pre>\n"}],"owner":{"account_id":29612175,"reputation":3,"user_id":22695152,"display_name":"Viraj Yekhe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77244647,"answer_count":1,"score":0,"last_activity_date":1696599051,"creation_date":1696593756,"question_id":77244288,"body_markdown":"![This is my firebase firestore database](https://i.stack.imgur.com/RrWMz.jpg)\r\n\r\nI want to get document-id where field &quot;Name&quot; = &quot;Karan Bapat&quot;. I tried using the where clause but I can get only the field values not the document id for my precise field.\r\n\r\n","title":"Fetching Document-id using where clause (Firebase Firestore with Android Studio)","body":"<p><img src=\"https://i.stack.imgur.com/RrWMz.jpg\" alt=\"This is my firebase firestore database\" /></p>\n<p>I want to get document-id where field &quot;Name&quot; = &quot;Karan Bapat&quot;. I tried using the where clause but I can get only the field values not the document id for my precise field.</p>\n"},{"tags":["java","file","url","file-uri"],"answers":[{"comments":[{"owner":{"account_id":1089086,"reputation":367,"user_id":1084138,"accept_rate":60,"display_name":"Ziddia"},"score":0,"creation_date":1323201907,"post_id":8406074,"comment_id":10380758,"body_markdown":"Thanks, I&#39;ll try using that now.","body":"Thanks, I&#39;ll try using that now."}],"tags":[],"owner":{"account_id":734,"reputation":4042,"user_id":959,"accept_rate":52,"display_name":"jatanp"},"comment_count":1,"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1696598823,"creation_date":1323201833,"answer_id":8406074,"question_id":8406025,"body_markdown":"You may use `file:///` and file path. For e.g. `file:///c:/temp.txt`","title":"Local file protocol for java.net.URL","body":"<p>You may use <code>file:///</code> and file path. For e.g. <code>file:///c:/temp.txt</code></p>\n"},{"tags":[],"owner":{"account_id":192606,"reputation":9871,"user_id":433835,"accept_rate":95,"display_name":"Koh&#225;nyi R&#243;bert"},"comment_count":0,"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1333908671,"creation_date":1323202811,"answer_id":8406282,"question_id":8406025,"body_markdown":"## Unix\r\n    file://localhost/&lt;path&gt;\r\n    file:///&lt;path&gt;\r\n\r\n## Windows\r\n\r\n    file://localhost/&lt;drive&gt;|/&lt;path&gt;\r\n    file:///&lt;drive&gt;|/&lt;path&gt;\r\n    file://localhost/&lt;drive&gt;:/&lt;path&gt;\r\n    file:///&lt;drive&gt;:/&lt;path&gt;\r\n\r\nFor more information see the [related Wikipedia article][1].\r\n\r\n[1]: http://en.wikipedia.org/wiki/File_url","title":"Local file protocol for java.net.URL","body":"<h2>Unix</h2>\n\n<pre><code>file://localhost/&lt;path&gt;\nfile:///&lt;path&gt;\n</code></pre>\n\n<h2>Windows</h2>\n\n<pre><code>file://localhost/&lt;drive&gt;|/&lt;path&gt;\nfile:///&lt;drive&gt;|/&lt;path&gt;\nfile://localhost/&lt;drive&gt;:/&lt;path&gt;\nfile:///&lt;drive&gt;:/&lt;path&gt;\n</code></pre>\n\n<p>For more information see the <a href=\"http://en.wikipedia.org/wiki/File_url\" rel=\"noreferrer\">related Wikipedia article</a>.</p>\n"}],"owner":{"account_id":1089086,"reputation":367,"user_id":1084138,"accept_rate":60,"display_name":"Ziddia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41567,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":2,"score":13,"last_activity_date":1696598823,"creation_date":1323201667,"question_id":8406025,"body_markdown":"What&#39;s the protocol for local files using URL? I&#39;ve downloaded a file using Java and I need to know how to access it, not using File, but using URL.","title":"Local file protocol for java.net.URL","body":"<p>What's the protocol for local files using URL? I've downloaded a file using Java and I need to know how to access it, not using File, but using URL.</p>\n"},{"tags":["java","internationalization","locale"],"comments":[{"owner":{"account_id":11897952,"reputation":1170,"user_id":8706759,"display_name":"Ganesh Chowdhary Sadanala"},"score":1,"creation_date":1542706468,"post_id":5379231,"comment_id":93655407,"body_markdown":"https://stackoverflow.com/questions/2544454/get-the-currency-format-for-a-country-that-does-not-have-a-locale-constant  here you can find the answer","body":"<a href=\"https://stackoverflow.com/questions/2544454/get-the-currency-format-for-a-country-that-does-not-have-a-locale-constant\" title=\"get the currency format for a country that does not have a locale constant\">stackoverflow.com/questions/2544454/&hellip;</a>  here you can find the answer"}],"answers":[{"comments":[{"owner":{"account_id":52822,"reputation":1089035,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"score":2,"creation_date":1300719666,"post_id":5379337,"comment_id":6081152,"body_markdown":"I wonder, how many times has it been asked on good old forums.sun.com? Almost daily, isn&#39;t it? ;)","body":"I wonder, how many times has it been asked on good old forums.sun.com? Almost daily, isn&#39;t it? ;)"},{"owner":{"account_id":417955,"reputation":18564,"user_id":794242,"accept_rate":80,"display_name":"Wand Maker"},"score":7,"creation_date":1371104524,"post_id":5379337,"comment_id":24703793,"body_markdown":"I wanted to use it my Android App, but what is worrying me is that Jar file size is 9MB.  My app currently is of size 2.5 MB, so adding 9MB to it seems like overkill","body":"I wanted to use it my Android App, but what is worrying me is that Jar file size is 9MB.  My app currently is of size 2.5 MB, so adding 9MB to it seems like overkill"},{"owner":{"account_id":1126877,"reputation":1894,"user_id":1113949,"display_name":"ksarmalkar"},"score":0,"creation_date":1426538866,"post_id":5379337,"comment_id":46406170,"body_markdown":"try using new DecimalFormat(&quot;₹ ##,##,##1&quot;);","body":"try using new DecimalFormat(&quot;₹ ##,##,##1&quot;);"},{"owner":{"account_id":3063445,"reputation":3948,"user_id":2595658,"accept_rate":64,"display_name":"Paco Abato"},"score":0,"creation_date":1449653406,"post_id":5379337,"comment_id":56097102,"body_markdown":"@WandMaker For Android DecimalFormat seems to work. Look at Kiran&#39;s answer below.","body":"@WandMaker For Android DecimalFormat seems to work. Look at Kiran&#39;s answer below."},{"owner":{"account_id":85065,"reputation":5287,"user_id":237403,"accept_rate":62,"display_name":"Kshitij Aggarwal"},"score":0,"creation_date":1478914635,"post_id":5379337,"comment_id":68354935,"body_markdown":"Solution given by @CleanX is better. Uses the inbuild Java libraries","body":"Solution given by @CleanX is better. Uses the inbuild Java libraries"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1478915255,"post_id":5379337,"comment_id":68355035,"body_markdown":"@Funkyidol: re-read the question. The answer you mention doesn&#39;t give the desired output.","body":"@Funkyidol: re-read the question. The answer you mention doesn&#39;t give the desired output."},{"owner":{"account_id":85065,"reputation":5287,"user_id":237403,"accept_rate":62,"display_name":"Kshitij Aggarwal"},"score":0,"creation_date":1478968817,"post_id":5379337,"comment_id":68367040,"body_markdown":"@JoachimSauer It does. I used the solution provided by CleanX and it worked perfectly for me. I did not had to include a new library to my Android app","body":"@JoachimSauer It does. I used the solution provided by CleanX and it worked perfectly for me. I did not had to include a new library to my Android app"},{"owner":{"account_id":15955522,"reputation":152,"user_id":11513780,"display_name":"MustafaShaikh"},"score":0,"creation_date":1574422931,"post_id":5379337,"comment_id":104237522,"body_markdown":"How to remove rupees symbol","body":"How to remove rupees symbol"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1574425034,"post_id":5379337,"comment_id":104238560,"body_markdown":"@MustafaShaikh: please ask this as a separate question.","body":"@MustafaShaikh: please ask this as a separate question."},{"owner":{"account_id":12082518,"reputation":121,"user_id":8833712,"display_name":"punith ck punith"},"score":0,"creation_date":1579372073,"post_id":5379337,"comment_id":105747433,"body_markdown":"I have searched for above in golang \nI got this library https://github.com/punithck/indianmoney","body":"I have searched for above in golang  I got this library <a href=\"https://github.com/punithck/indianmoney\" rel=\"nofollow noreferrer\">github.com/punithck/indianmoney</a>"},{"owner":{"account_id":14115093,"reputation":176,"user_id":10197035,"display_name":"Pradip Vadher"},"score":0,"creation_date":1608528856,"post_id":5379337,"comment_id":115602106,"body_markdown":"how to remove trailing &quot;00&quot;?","body":"how to remove trailing &quot;00&quot;?"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1608542233,"post_id":5379337,"comment_id":115605994,"body_markdown":"@PradipVadher: if you have a separate question, please post that as a question, not as a comment on a 9 year old answer.","body":"@PradipVadher: if you have a separate question, please post that as a question, not as a comment on a 9 year old answer."}],"tags":[],"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"comment_count":12,"down_vote_count":0,"up_vote_count":99,"is_accepted":true,"score":99,"last_activity_date":1597066757,"creation_date":1300719099,"answer_id":5379337,"question_id":5379231,"body_markdown":"Unfortunately on standard Java SE [`DecimalFormat`][1] doesn&#39;t support variable-width groups. So it won&#39;t ever format the values exactly as you want to:\r\n\r\n&gt; If you supply a pattern with multiple grouping characters, the interval between the last one and the end of the integer is the one that is used. So `&quot;#,##,###,####&quot; == &quot;######,####&quot; == &quot;##,####,####&quot;`.\r\n\r\nMost number formatting mechanisms in Java are based on that class and therefore inherit this flaw.\r\n\r\nICU4J (the Java version of the [International Components for Unicode][2]) provides a [`NumberFormat`][3] class that **does** support this formatting:\r\n\r\n\tFormat format = com.ibm.icu.text.NumberFormat.getCurrencyInstance(new Locale(&quot;en&quot;, &quot;in&quot;));\r\n\tSystem.out.println(format.format(new BigDecimal(&quot;100000000&quot;)));\r\n\r\nThis code will produce this output:\r\n\r\n&lt;pre&gt;Rs&#160;10,00,00,000.00&lt;/pre&gt;\r\n\r\nNote: the `com.ibm.icu.text.NumberFormat` class does **not** extend the [`java.text.NumberFormat`][4] class (because it already extends an ICU-internal base class), it **does** however extend the [`java.text.Format`][5] class, which has the [`format(Object)`][6] method.\r\n\r\nNote that the [**Android version** of `java.text.DecimalFormat`][7] class is implemented using ICU under the hood and **does** support the feature in the same way that the ICU class itself does (even though the summary incorrectly mentions that it&#39;s *not* supported).\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/6/docs/api/java/text/DecimalFormat.html\r\n  [2]: http://site.icu-project.org/\r\n  [3]: http://icu-project.org/apiref/icu4j/com/ibm/icu/text/NumberFormat.html\r\n  [4]: http://download.oracle.com/javase/6/docs/api/java/text/NumberFormat.html\r\n  [5]: http://download.oracle.com/javase/6/docs/api/java/text/Format.html\r\n  [6]: http://download.oracle.com/javase/6/docs/api/java/text/Format.html#format%28java.lang.Object%29\r\n  [7]: https://developer.android.com/reference/java/text/DecimalFormat","title":"Displaying Currency in Indian Numbering Format","body":"<p>Unfortunately on standard Java SE <a href=\"http://download.oracle.com/javase/6/docs/api/java/text/DecimalFormat.html\" rel=\"noreferrer\"><code>DecimalFormat</code></a> doesn't support variable-width groups. So it won't ever format the values exactly as you want to:</p>\n<blockquote>\n<p>If you supply a pattern with multiple grouping characters, the interval between the last one and the end of the integer is the one that is used. So <code>&quot;#,##,###,####&quot; == &quot;######,####&quot; == &quot;##,####,####&quot;</code>.</p>\n</blockquote>\n<p>Most number formatting mechanisms in Java are based on that class and therefore inherit this flaw.</p>\n<p>ICU4J (the Java version of the <a href=\"http://site.icu-project.org/\" rel=\"noreferrer\">International Components for Unicode</a>) provides a <a href=\"http://icu-project.org/apiref/icu4j/com/ibm/icu/text/NumberFormat.html\" rel=\"noreferrer\"><code>NumberFormat</code></a> class that <strong>does</strong> support this formatting:</p>\n<pre><code>Format format = com.ibm.icu.text.NumberFormat.getCurrencyInstance(new Locale(&quot;en&quot;, &quot;in&quot;));\nSystem.out.println(format.format(new BigDecimal(&quot;100000000&quot;)));\n</code></pre>\n<p>This code will produce this output:</p>\n<pre>Rs 10,00,00,000.00</pre>\n<p>Note: the <code>com.ibm.icu.text.NumberFormat</code> class does <strong>not</strong> extend the <a href=\"http://download.oracle.com/javase/6/docs/api/java/text/NumberFormat.html\" rel=\"noreferrer\"><code>java.text.NumberFormat</code></a> class (because it already extends an ICU-internal base class), it <strong>does</strong> however extend the <a href=\"http://download.oracle.com/javase/6/docs/api/java/text/Format.html\" rel=\"noreferrer\"><code>java.text.Format</code></a> class, which has the <a href=\"http://download.oracle.com/javase/6/docs/api/java/text/Format.html#format%28java.lang.Object%29\" rel=\"noreferrer\"><code>format(Object)</code></a> method.</p>\n<p>Note that the <a href=\"https://developer.android.com/reference/java/text/DecimalFormat\" rel=\"noreferrer\"><strong>Android version</strong> of <code>java.text.DecimalFormat</code></a> class is implemented using ICU under the hood and <strong>does</strong> support the feature in the same way that the ICU class itself does (even though the summary incorrectly mentions that it's <em>not</em> supported).</p>\n"},{"comments":[{"owner":{"account_id":2507812,"reputation":5574,"user_id":2180959,"accept_rate":73,"display_name":"Heisenberg"},"score":17,"creation_date":1491433632,"post_id":18531401,"comment_id":73556186,"body_markdown":"But this is not what OP wants. He wants 1,00,000","body":"But this is not what OP wants. He wants 1,00,000"},{"owner":{"account_id":3882891,"reputation":2008,"user_id":3214988,"display_name":"sunitkatkar"},"score":0,"creation_date":1587411839,"post_id":18531401,"comment_id":108497178,"body_markdown":"The code snippet above does not yet format the currency in Indian format of separation of every 2 digits by a comma and the last 3 digits before the decimal place.","body":"The code snippet above does not yet format the currency in Indian format of separation of every 2 digits by a comma and the last 3 digits before the decimal place."}],"tags":[],"owner":{"account_id":2826515,"reputation":1158,"user_id":2429059,"accept_rate":76,"display_name":"CleanX"},"comment_count":2,"down_vote_count":11,"up_vote_count":28,"is_accepted":false,"score":17,"last_activity_date":1416394218,"creation_date":1377860774,"answer_id":18531401,"question_id":5379231,"body_markdown":"here is simple thing u can do ,\r\n\r\n     float amount = 100000;\r\n\r\n     NumberFormat formatter = NumberFormat.getCurrencyInstance(new Locale(&quot;en&quot;, &quot;IN&quot;));\r\n\r\n     String moneyString = formatter.format(amount);\r\n\r\n     System.out.println(moneyString);\r\n\r\nThe output will be Rs.100,000.00.  ","title":"Displaying Currency in Indian Numbering Format","body":"<p>here is simple thing u can do ,</p>\n\n<pre><code> float amount = 100000;\n\n NumberFormat formatter = NumberFormat.getCurrencyInstance(new Locale(\"en\", \"IN\"));\n\n String moneyString = formatter.format(amount);\n\n System.out.println(moneyString);\n</code></pre>\n\n<p>The output will be Rs.100,000.00.  </p>\n"},{"comments":[{"owner":{"account_id":272573,"reputation":10312,"user_id":563735,"accept_rate":71,"display_name":"Rohit Mandiwal"},"score":7,"creation_date":1434460788,"post_id":18544311,"comment_id":49778895,"body_markdown":"It gives me &quot;450,501&quot; which is not the right answer!","body":"It gives me &quot;450,501&quot; which is not the right answer!"},{"owner":{"account_id":2507812,"reputation":5574,"user_id":2180959,"accept_rate":73,"display_name":"Heisenberg"},"score":1,"creation_date":1491434061,"post_id":18544311,"comment_id":73556292,"body_markdown":"Surprisingly it&#39;s working in android and not in Java 8. Don&#39;t know why. Isn&#39;t it Java :D","body":"Surprisingly it&#39;s working in android and not in Java 8. Don&#39;t know why. Isn&#39;t it Java :D"},{"owner":{"account_id":915546,"reputation":2729,"user_id":948414,"display_name":"Mahendran"},"score":0,"creation_date":1501076318,"post_id":18544311,"comment_id":77618856,"body_markdown":"@Heisenberg Yes it works in Android. Tried this ##,##,###.##","body":"@Heisenberg Yes it works in Android. Tried this ##,##,###.##"},{"owner":{"account_id":12082518,"reputation":121,"user_id":8833712,"display_name":"punith ck punith"},"score":0,"creation_date":1579388019,"post_id":18544311,"comment_id":105751275,"body_markdown":"I have searched for above in golang I got this library github.com/punithck/indianmoney","body":"I have searched for above in golang I got this library github.com/punithck/indianmoney"}],"tags":[],"owner":{"account_id":210863,"reputation":814,"user_id":462703,"display_name":"Kiran"},"comment_count":4,"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1377921111,"creation_date":1377921111,"answer_id":18544311,"question_id":5379231,"body_markdown":"With Android, this worked for me:\r\n\r\n    new DecimalFormat(&quot;##,##,##0&quot;).format(amount);\r\n\r\n**450500 gets formatted as 4,50,500**\r\n\r\nhttp://developer.android.com/reference/java/text/DecimalFormat.html - DecimalFormat supports two grouping sizes - the primary grouping size, and one used for all others.","title":"Displaying Currency in Indian Numbering Format","body":"<p>With Android, this worked for me:</p>\n\n<pre><code>new DecimalFormat(\"##,##,##0\").format(amount);\n</code></pre>\n\n<p><strong>450500 gets formatted as 4,50,500</strong></p>\n\n<p><a href=\"http://developer.android.com/reference/java/text/DecimalFormat.html\">http://developer.android.com/reference/java/text/DecimalFormat.html</a> - DecimalFormat supports two grouping sizes - the primary grouping size, and one used for all others.</p>\n"},{"comments":[{"owner":{"account_id":2507812,"reputation":5574,"user_id":2180959,"accept_rate":73,"display_name":"Heisenberg"},"score":2,"creation_date":1491987420,"post_id":20417091,"comment_id":73791320,"body_markdown":"This code has a huge bug. If you input 1999.95, it&#39;ll format it as 1,1000","body":"This code has a huge bug. If you input 1999.95, it&#39;ll format it as 1,1000"}],"tags":[],"owner":{"account_id":3401594,"reputation":720,"user_id":2853611,"accept_rate":62,"display_name":"Akshat"},"comment_count":1,"down_vote_count":2,"up_vote_count":9,"is_accepted":false,"score":7,"last_activity_date":1386309703,"creation_date":1386309703,"answer_id":20417091,"question_id":5379231,"body_markdown":"I also got myself in same problem.\r\nI was working with `DecimalFormat`.\r\n\r\nI have no knowledge of `JSTL` but you can figure out something by my solution.\r\n\r\nAs, grouping size remains constant in `DecimalFormat`. I separated both parts, formatted them with different patterns and concat both. Here is the code.\r\n\r\n    public static String format(double value) {\r\n        if(value &lt; 1000) {\r\n            return format(&quot;###&quot;, value);\r\n        } else {\r\n            double hundreds = value % 1000;\r\n            int other = (int) (value / 1000);\r\n            return format(&quot;,##&quot;, other) + &#39;,&#39; + format(&quot;000&quot;, hundreds);\r\n        }\r\n    }\r\n    \r\n    private static String format(String pattern, Object value) {\r\n        return new DecimalFormat(pattern).format(value);\r\n    }\r\n\r\nIt will provide format like Indian Numbering System.\r\n\r\nIf you want decimal points, just add `&quot;.##&quot;` in both conditions.\r\n\r\n`&quot;###&quot;` to `&quot;###.##&quot;` and `&quot;000&quot;` to `&quot;000.##&quot;`.","title":"Displaying Currency in Indian Numbering Format","body":"<p>I also got myself in same problem.\nI was working with <code>DecimalFormat</code>.</p>\n\n<p>I have no knowledge of <code>JSTL</code> but you can figure out something by my solution.</p>\n\n<p>As, grouping size remains constant in <code>DecimalFormat</code>. I separated both parts, formatted them with different patterns and concat both. Here is the code.</p>\n\n<pre><code>public static String format(double value) {\n    if(value &lt; 1000) {\n        return format(\"###\", value);\n    } else {\n        double hundreds = value % 1000;\n        int other = (int) (value / 1000);\n        return format(\",##\", other) + ',' + format(\"000\", hundreds);\n    }\n}\n\nprivate static String format(String pattern, Object value) {\n    return new DecimalFormat(pattern).format(value);\n}\n</code></pre>\n\n<p>It will provide format like Indian Numbering System.</p>\n\n<p>If you want decimal points, just add <code>\".##\"</code> in both conditions.</p>\n\n<p><code>\"###\"</code> to <code>\"###.##\"</code> and <code>\"000\"</code> to <code>\"000.##\"</code>.</p>\n"},{"tags":[],"owner":{"account_id":4547303,"reputation":91,"user_id":3693466,"display_name":"user3693466"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401512208,"creation_date":1401512208,"answer_id":23966529,"question_id":5379231,"body_markdown":"The default methods in existing libraries can only show thousands seperator. so we need to write custom function for this. You can use multiple substring operation to get the desired result.\r\n\r\n\r\nIn java, \r\n\r\n    function indianCurrencyNumberFormat(rupee) {\r\n        string explore_remaining_units = &quot;&quot;;\r\n        if (rupee.length() &gt; 3) {\r\n            last_three_digits = rupee.substring((rupee.length()-3), rupee.length());\r\n            remaining_units = rupee.substring(0, (rupee.length()-3)); \r\n            remaining_units =  ((remaining_units.length()) % 2 == 1) ? &quot;0&quot;+remaining_units : remaining_units; \r\n            split_rupee = remaining_units.split(&quot;(?&lt;=^(.{2})+)&quot;)\r\n            for (i = 0; i &lt; sizeof(split_rupee); i++) {\r\n              explore_remaining_units += ((i == 0) ? ( (int) split_rupee[i]+&quot;,&quot; ) : ( split_rupee[i]+&quot;,&quot; ));  \r\n            }\r\n            formatted_rupee = explore_remaining_units+last_three_digits;\r\n        } else {\r\n            formatted_rupee = rupee;\r\n        }\r\n        return formatted_rupee; \r\n    }\r\n\r\nAnd in php:\r\n\r\n    function indianCurrencyNumberFormat($rupee) {\r\n        $explore_remaining_units = &quot;&quot;;\r\n        if (strlen($rupee) &gt; 3) {\r\n            $last_three_digits = substr($rupee, strlen($rupee) - 3, strlen($rupee));\r\n            $remaining_units = substr($rupee, 0, strlen($rupee) - 3); \r\n            $remaining_units = (strlen($remaining_units) % 2 == 1) ? &quot;0&quot;.$remaining_units : $remaining_units; \r\n            $split_rupee = str_split($remaining_units, 2);\r\n            for ($i = 0; $i &lt; sizeof($split_rupee); $i++) {\r\n              $explore_remaining_units .= (($i == 0) ? ( (int) $split_rupee[$i] . &quot;,&quot; ) : ( $split_rupee[$i] . &quot;,&quot; ));  \r\n            }\r\n            $formatted_rupee = $explore_remaining_units.$last_three_digits;\r\n        } else {\r\n            $formatted_rupee = $rupee;\r\n        }\r\n        return $formatted_rupee; \r\n    }\r\n\r\nYou can see more details [here][1]. \r\n\r\n\r\n  [1]: http://www.htmlexplorer.com/2014/05/indian-currency-or-rupee-number-format.html","title":"Displaying Currency in Indian Numbering Format","body":"<p>The default methods in existing libraries can only show thousands seperator. so we need to write custom function for this. You can use multiple substring operation to get the desired result.</p>\n\n<p>In java, </p>\n\n<pre><code>function indianCurrencyNumberFormat(rupee) {\n    string explore_remaining_units = \"\";\n    if (rupee.length() &gt; 3) {\n        last_three_digits = rupee.substring((rupee.length()-3), rupee.length());\n        remaining_units = rupee.substring(0, (rupee.length()-3)); \n        remaining_units =  ((remaining_units.length()) % 2 == 1) ? \"0\"+remaining_units : remaining_units; \n        split_rupee = remaining_units.split(\"(?&lt;=^(.{2})+)\")\n        for (i = 0; i &lt; sizeof(split_rupee); i++) {\n          explore_remaining_units += ((i == 0) ? ( (int) split_rupee[i]+\",\" ) : ( split_rupee[i]+\",\" ));  \n        }\n        formatted_rupee = explore_remaining_units+last_three_digits;\n    } else {\n        formatted_rupee = rupee;\n    }\n    return formatted_rupee; \n}\n</code></pre>\n\n<p>And in php:</p>\n\n<pre><code>function indianCurrencyNumberFormat($rupee) {\n    $explore_remaining_units = \"\";\n    if (strlen($rupee) &gt; 3) {\n        $last_three_digits = substr($rupee, strlen($rupee) - 3, strlen($rupee));\n        $remaining_units = substr($rupee, 0, strlen($rupee) - 3); \n        $remaining_units = (strlen($remaining_units) % 2 == 1) ? \"0\".$remaining_units : $remaining_units; \n        $split_rupee = str_split($remaining_units, 2);\n        for ($i = 0; $i &lt; sizeof($split_rupee); $i++) {\n          $explore_remaining_units .= (($i == 0) ? ( (int) $split_rupee[$i] . \",\" ) : ( $split_rupee[$i] . \",\" ));  \n        }\n        $formatted_rupee = $explore_remaining_units.$last_three_digits;\n    } else {\n        $formatted_rupee = $rupee;\n    }\n    return $formatted_rupee; \n}\n</code></pre>\n\n<p>You can see more details <a href=\"http://www.htmlexplorer.com/2014/05/indian-currency-or-rupee-number-format.html\" rel=\"nofollow\">here</a>. </p>\n"},{"comments":[{"owner":{"account_id":32984,"reputation":4331,"user_id":91933,"accept_rate":65,"display_name":"markvgti"},"score":1,"creation_date":1449734961,"post_id":31448792,"comment_id":56138808,"body_markdown":"Instead of doing `String` concatenation, use `StringBuilder`.","body":"Instead of doing <code>String</code> concatenation, use <code>StringBuilder</code>."},{"owner":{"account_id":7530967,"reputation":97,"user_id":6640175,"display_name":"JVJplus"},"score":0,"creation_date":1603046603,"post_id":31448792,"comment_id":113905626,"body_markdown":"I liked the way you separated the last digit and simplified the problem!","body":"I liked the way you separated the last digit and simplified the problem!"}],"tags":[],"owner":{"account_id":1307549,"reputation":2032,"user_id":1256210,"display_name":"Nishant Shah"},"comment_count":2,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1437110944,"creation_date":1437034406,"answer_id":31448792,"question_id":5379231,"body_markdown":"![enter image description here][1]\r\n\r\nJust Copy past this function. :)\r\n\r\n      public static String rupeeFormat(String value){\r\n                value=value.replace(&quot;,&quot;,&quot;&quot;);\r\n                char lastDigit=value.charAt(value.length()-1);\r\n                String result = &quot;&quot;;\r\n                int len = value.length()-1;\r\n                int nDigits = 0;\r\n        \r\n                for (int i = len - 1; i &gt;= 0; i--)\r\n                {\r\n                    result = value.charAt(i) + result;\r\n                    nDigits++;\r\n                    if (((nDigits % 2) == 0) &amp;&amp; (i &gt; 0))\r\n                    {\r\n                        result = &quot;,&quot; + result;\r\n                    }\r\n                }\r\n                return (result+lastDigit);\r\n            }\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/jiSm0.gif","title":"Displaying Currency in Indian Numbering Format","body":"<p><img src=\"https://i.stack.imgur.com/jiSm0.gif\" alt=\"enter image description here\"></p>\n\n<p>Just Copy past this function. :)</p>\n\n<pre><code>  public static String rupeeFormat(String value){\n            value=value.replace(\",\",\"\");\n            char lastDigit=value.charAt(value.length()-1);\n            String result = \"\";\n            int len = value.length()-1;\n            int nDigits = 0;\n\n            for (int i = len - 1; i &gt;= 0; i--)\n            {\n                result = value.charAt(i) + result;\n                nDigits++;\n                if (((nDigits % 2) == 0) &amp;&amp; (i &gt; 0))\n                {\n                    result = \",\" + result;\n                }\n            }\n            return (result+lastDigit);\n        }\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3882891,"reputation":2008,"user_id":3214988,"display_name":"sunitkatkar"},"score":2,"creation_date":1587411626,"post_id":35884293,"comment_id":108497073,"body_markdown":"Though I am very late to this topic, here are results of trying your code on a regular laptop with Java 8. The amount you have used gives the output as 5,356,673,553,123.00\nThis is still not the Indian format where every 2 digits are separated by comma except the last set of 3 digits before the decimal point.","body":"Though I am very late to this topic, here are results of trying your code on a regular laptop with Java 8. The amount you have used gives the output as 5,356,673,553,123.00 This is still not the Indian format where every 2 digits are separated by comma except the last set of 3 digits before the decimal point."}],"tags":[],"owner":{"account_id":6021664,"reputation":61,"user_id":4728543,"display_name":"NikHiL Bonte"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1457504043,"creation_date":1457504043,"answer_id":35884293,"question_id":5379231,"body_markdown":"The simple solution is -\r\n\r\n    Double amount = 5356673553123.0; //amount is an example ,can be used with any double value\r\n\r\n    **DecimalFormat IndianCurrencyFormat = new DecimalFormat(&quot;##,##,###.00&quot;);**\r\n\r\nthen use it as -\r\n\r\n    String formattedAmount = IndianCurrencyFormat.format(amount);","title":"Displaying Currency in Indian Numbering Format","body":"<p>The simple solution is -</p>\n\n<pre><code>Double amount = 5356673553123.0; //amount is an example ,can be used with any double value\n\n**DecimalFormat IndianCurrencyFormat = new DecimalFormat(\"##,##,###.00\");**\n</code></pre>\n\n<p>then use it as -</p>\n\n<pre><code>String formattedAmount = IndianCurrencyFormat.format(amount);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":5924590,"reputation":8476,"user_id":4660897,"accept_rate":89,"display_name":"Tot Zam"},"score":0,"creation_date":1474945727,"post_id":39715256,"comment_id":66728552,"body_markdown":"Some text explaining this code would be more helpful.","body":"Some text explaining this code would be more helpful."}],"tags":[],"owner":{"account_id":9271619,"reputation":1,"user_id":6885393,"display_name":"Amit gupta"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1474950275,"creation_date":1474944587,"answer_id":39715256,"question_id":5379231,"body_markdown":"    import java.util.*;\r\n    \r\n    public class string1 {\r\n    \r\n    \t public static void main(String args[])\r\n    \t {\r\n    \t\t int i,j;\r\n    \t\t boolean op=false;\r\n    \t\t  \r\n    \t\t StringBuffer sbuffer = new StringBuffer();\r\n    \t\t Scanner input = new Scanner(System.in);\r\n    \t\t System.out.println(&quot;Enter a string&quot;);\r\n    \t\t sbuffer.append(input.nextLine());\r\n    \t\t\r\n    \t\t int length=sbuffer.length();\r\n    \t\t if(sbuffer.length()&lt;3)\r\n    \t\t {\r\n    \t\t\t System.out.println(&quot;string=&quot;+sbuffer);\r\n    \t\t }\r\n    \t\t else\r\n    \t\t {\r\n    \t\t\t for ( i = sbuffer.length(); i &gt;0; i--) \r\n    \t\t\t {\r\n    \t\t\t\t \r\n    \t\t\t\t if (i==length-3)\r\n    \t\t\t\t {\r\n    \t\t\t\t\t sbuffer.insert(i, &quot;,&quot;);\r\n    \t\t\t\t\t  op=true;\r\n    \t\t\t\t }\r\n    \t\t\t\t while(i&gt;1 &amp;&amp; op==true)\r\n    \t\t\t\t {\r\n    \t\t\t\t\t i=i-2;\r\n    \t\t\t\t\t \r\n    \t\t\t\t\t if(i&gt;=1)\r\n    \t\t\t\t\t {\r\n    \t\t\t\t\t\r\n    \t\t\t\t\t sbuffer.insert(i, &quot;,&quot;);\r\n    \t\t\t\t\t }\r\n    \t\t\t\t }\r\n    \t\t\t }\r\n    \t\t\t\r\n    \t\t }\r\n    \t\t System.out.println(&quot;string=&quot;+sbuffer);\r\n    \t }\r\n    }\r\n\r\n","title":"Displaying Currency in Indian Numbering Format","body":"<pre><code>import java.util.*;\n\npublic class string1 {\n\n     public static void main(String args[])\n     {\n         int i,j;\n         boolean op=false;\n\n         StringBuffer sbuffer = new StringBuffer();\n         Scanner input = new Scanner(System.in);\n         System.out.println(\"Enter a string\");\n         sbuffer.append(input.nextLine());\n\n         int length=sbuffer.length();\n         if(sbuffer.length()&lt;3)\n         {\n             System.out.println(\"string=\"+sbuffer);\n         }\n         else\n         {\n             for ( i = sbuffer.length(); i &gt;0; i--) \n             {\n\n                 if (i==length-3)\n                 {\n                     sbuffer.insert(i, \",\");\n                      op=true;\n                 }\n                 while(i&gt;1 &amp;&amp; op==true)\n                 {\n                     i=i-2;\n\n                     if(i&gt;=1)\n                     {\n\n                     sbuffer.insert(i, \",\");\n                     }\n                 }\n             }\n\n         }\n         System.out.println(\"string=\"+sbuffer);\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2121092,"reputation":71,"user_id":1884314,"display_name":"G M"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480607394,"creation_date":1480607394,"answer_id":40914976,"question_id":5379231,"body_markdown":"    //Input:\r\n    long num = 450500;\r\n\r\n    // Unlike other countries, there is no direct Locale field for India.Therefore, we need to construct a locale for India.\r\n    Locale loc = new Locale(&quot;en&quot;, &quot;in&quot;); // This will display currency with &quot;Rs.&quot; symbol.\r\n\r\n    // or use below to display currency with &quot;INR&quot; symbol.\r\n    Locale loc = new Locale(&quot;&quot;, &quot;in&quot;);\r\n\r\n    NumberFormat indiacurrency = NumberFormat.getCurrencyInstance(loc);\r\n    String result = indiacurrency.format(num);\r\n    System.out.print(result);","title":"Displaying Currency in Indian Numbering Format","body":"<pre><code>//Input:\nlong num = 450500;\n\n// Unlike other countries, there is no direct Locale field for India.Therefore, we need to construct a locale for India.\nLocale loc = new Locale(\"en\", \"in\"); // This will display currency with \"Rs.\" symbol.\n\n// or use below to display currency with \"INR\" symbol.\nLocale loc = new Locale(\"\", \"in\");\n\nNumberFormat indiacurrency = NumberFormat.getCurrencyInstance(loc);\nString result = indiacurrency.format(num);\nSystem.out.print(result);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6252463,"reputation":1657,"user_id":4862126,"accept_rate":100,"display_name":"Er. Kaushik Kajavadara"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1484897989,"creation_date":1484897989,"answer_id":41758401,"question_id":5379231,"body_markdown":"It is better answer and works dynamically instead of specifying single Locale in code manually.\r\n\r\n    public String convertToDefaultCurrencyFormat(String amountToConvert){\r\n        NumberFormat formatter = NumberFormat.getCurrencyInstance(Locale.getDefault());\r\n        String moneyString = formatter.format(Double.valueOf(amountToConvert));\r\n        return moneyString;\r\n    }   \r\n\r\nfor Indian rupees format change Language in your Android device:\r\n\r\n`Setting &gt; Language &amp; Input Settings &gt;` choose `English(India)`\r\n\r\nOutput:\r\n\r\n    ₹10,00,000 (Starting with Indian Rupee symbol)\r\n\r\n","title":"Displaying Currency in Indian Numbering Format","body":"<p>It is better answer and works dynamically instead of specifying single Locale in code manually.</p>\n\n<pre><code>public String convertToDefaultCurrencyFormat(String amountToConvert){\n    NumberFormat formatter = NumberFormat.getCurrencyInstance(Locale.getDefault());\n    String moneyString = formatter.format(Double.valueOf(amountToConvert));\n    return moneyString;\n}   \n</code></pre>\n\n<p>for Indian rupees format change Language in your Android device:</p>\n\n<p><code>Setting &gt; Language &amp; Input Settings &gt;</code> choose <code>English(India)</code></p>\n\n<p>Output:</p>\n\n<pre><code>₹10,00,000 (Starting with Indian Rupee symbol)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":12953709,"reputation":6501,"user_id":9365212,"display_name":"AgentP"},"score":0,"creation_date":1688741963,"post_id":42759423,"comment_id":135118939,"body_markdown":"does this take care of floating point values?","body":"does this take care of floating point values?"},{"owner":{"account_id":5129789,"reputation":1961,"user_id":4110413,"accept_rate":50,"display_name":"Palanivelraghul"},"score":0,"creation_date":1688803676,"post_id":42759423,"comment_id":135125375,"body_markdown":"no it not. but we can do it like find decimal values and keep separately and then add it with end result.","body":"no it not. but we can do it like find decimal values and keep separately and then add it with end result."}],"tags":[],"owner":{"account_id":5129789,"reputation":1961,"user_id":4110413,"accept_rate":50,"display_name":"Palanivelraghul"},"comment_count":2,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1489394552,"creation_date":1489394552,"answer_id":42759423,"question_id":5379231,"body_markdown":"    public String getIndianCurrencyFormat(String amount) {\r\n        StringBuilder stringBuilder = new StringBuilder();\r\n        char amountArray[] = amount.toCharArray();\r\n        int a = 0, b = 0;\r\n        for (int i = amountArray.length - 1; i &gt;= 0; i--) {\r\n            if (a &lt; 3) {\r\n                stringBuilder.append(amountArray[i]);\r\n                a++;\r\n            } else if (b &lt; 2) {\r\n                if (b == 0) {\r\n                    stringBuilder.append(&quot;,&quot;);\r\n                    stringBuilder.append(amountArray[i]);\r\n                    b++;\r\n                } else {\r\n                    stringBuilder.append(amountArray[i]);\r\n                    b = 0;\r\n                }\r\n            }\r\n        }\r\n        return stringBuilder.reverse().toString();\r\n    }\r\n\r\n\r\nThis is what i did, for getting Indian currency format. if input is 1234567890 means output is 1,23,45,67,890.","title":"Displaying Currency in Indian Numbering Format","body":"<pre><code>public String getIndianCurrencyFormat(String amount) {\n    StringBuilder stringBuilder = new StringBuilder();\n    char amountArray[] = amount.toCharArray();\n    int a = 0, b = 0;\n    for (int i = amountArray.length - 1; i &gt;= 0; i--) {\n        if (a &lt; 3) {\n            stringBuilder.append(amountArray[i]);\n            a++;\n        } else if (b &lt; 2) {\n            if (b == 0) {\n                stringBuilder.append(\",\");\n                stringBuilder.append(amountArray[i]);\n                b++;\n            } else {\n                stringBuilder.append(amountArray[i]);\n                b = 0;\n            }\n        }\n    }\n    return stringBuilder.reverse().toString();\n}\n</code></pre>\n\n<p>This is what i did, for getting Indian currency format. if input is 1234567890 means output is 1,23,45,67,890.</p>\n"},{"comments":[{"owner":{"account_id":11029465,"reputation":1,"user_id":8101206,"display_name":"Deepak Bhardwaj"},"score":1,"creation_date":1496379832,"post_id":44321126,"comment_id":75647322,"body_markdown":"This TSQL function formats yours currency value with required commas, like 1000 to 1,000 or 10000 to 10,000. You just need to call copy-paste &amp; execute the function and call like this :  select dbo.udf_CurrencyFormat(123456)","body":"This TSQL function formats yours currency value with required commas, like 1000 to 1,000 or 10000 to 10,000. You just need to call copy-paste &amp; execute the function and call like this :  select dbo.udf_CurrencyFormat(123456)"}],"tags":[],"owner":{"account_id":11029465,"reputation":1,"user_id":8101206,"display_name":"Deepak Bhardwaj"},"comment_count":1,"down_vote_count":4,"up_vote_count":0,"is_accepted":false,"score":-4,"last_activity_date":1521701930,"creation_date":1496379667,"answer_id":44321126,"question_id":5379231,"body_markdown":"&gt; ALTER FUNCTION [dbo].[udf_CurrencyFormat](@UC varchar(50)) RETURNS\r\n&gt; varchar(50) AS BEGIN declare @FC varchar(50),@Scale varchar(3),@i\r\n&gt; bigint=1,@a int=3,@b int=2,@WhileLength bigint,@UCScale varchar(50),\r\n&gt; @Con varchar(20) set @Scale=charindex(&#39;.&#39;,@UC) --if number has &#39;.&#39;\r\n&gt; then value else &#39;0&#39; if(@Scale!=&#39;0&#39;) begin set @UCScale=@UC set\r\n&gt; @Con=substring(@UCScale,charindex(&#39;.&#39;,@UCScale),3) set\r\n&gt; @UC=substring(@UC,0,charindex(&#39;.&#39;,@UC)) -- substring end\r\n&gt; if(cast(len(@UC) as bigint)%2!=0) --if odd begin set\r\n&gt; @WhileLength=(cast(len(@UC) as bigint)-3)/2 while(@i&lt;=@WhileLength) --\r\n&gt; length-3/2=3 if length is 9 (cast(len(@UC) as bigint)-3)/2 begin set\r\n&gt; @a=3*@i set @UC = stuff(@UC,@a,0,&#39;,&#39;) set @i=@i+1 end --while set\r\n&gt; @FC=@UC end --if odd Scale &#39;0&#39; else if(cast(len(@UC) as bigint)%2=0)\r\n&gt; --if even begin set @WhileLength=(((cast(len(@UC) as bigint)-1)-3)/2)+1 while(@i&lt;=@WhileLength) begin if(@i=1) begin set\r\n&gt; @UC=stuff(@UC,@b,0,&#39;,&#39;) end else begin set @b=@b+3 set\r\n&gt; @UC=stuff(@UC,@b,0,&#39;,&#39;) end set @i=@i+1 end set @FC=@UC end\r\n&gt; if(@Scale!=&#39;0&#39;) begin set @FC=@FC+@Con end --if(@Scale!=&#39;0&#39;) --set\r\n&gt; @FC=@UC return @FC END","title":"Displaying Currency in Indian Numbering Format","body":"<blockquote>\n  <p>ALTER FUNCTION [dbo].[udf_CurrencyFormat](@UC varchar(50)) RETURNS\n  varchar(50) AS BEGIN declare @FC varchar(50),@Scale varchar(3),@i\n  bigint=1,@a int=3,@b int=2,@WhileLength bigint,@UCScale varchar(50),\n  @Con varchar(20) set @Scale=charindex('.',@UC) --if number has '.'\n  then value else '0' if(@Scale!='0') begin set @UCScale=@UC set\n  @Con=substring(@UCScale,charindex('.',@UCScale),3) set\n  @UC=substring(@UC,0,charindex('.',@UC)) -- substring end\n  if(cast(len(@UC) as bigint)%2!=0) --if odd begin set\n  @WhileLength=(cast(len(@UC) as bigint)-3)/2 while(@i&lt;=@WhileLength) --\n  length-3/2=3 if length is 9 (cast(len(@UC) as bigint)-3)/2 begin set\n  @a=3*@i set @UC = stuff(@UC,@a,0,',') set @i=@i+1 end --while set\n  @FC=@UC end --if odd Scale '0' else if(cast(len(@UC) as bigint)%2=0)\n  --if even begin set @WhileLength=(((cast(len(@UC) as bigint)-1)-3)/2)+1 while(@i&lt;=@WhileLength) begin if(@i=1) begin set\n  @UC=stuff(@UC,@b,0,',') end else begin set @b=@b+3 set\n  @UC=stuff(@UC,@b,0,',') end set @i=@i+1 end set @FC=@UC end\n  if(@Scale!='0') begin set @FC=@FC+@Con end --if(@Scale!='0') --set\n  @FC=@UC return @FC END</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":2257559,"reputation":853,"user_id":3498546,"display_name":"MG Developer"},"score":0,"creation_date":1536109462,"post_id":45342807,"comment_id":91302099,"body_markdown":"This is the best answer for Android, however not sure if it works on other Java platforms.","body":"This is the best answer for Android, however not sure if it works on other Java platforms."}],"tags":[],"owner":{"account_id":4159299,"reputation":1799,"user_id":3409734,"accept_rate":100,"display_name":"SimplyProgrammer"},"comment_count":1,"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1501502896,"creation_date":1501136521,"answer_id":45342807,"question_id":5379231,"body_markdown":"If there is no default Locale available and the user doesn&#39;t make any change to the locale, we can go with setting the currency symbol using unicode and decimal formatting. As in the below code:\r\n\r\nFor e.g. Setting the Indian currency symbol and formatting the value. This will work without user making changes in the settings.\r\n\r\n        Locale locale = new Locale(&quot;en&quot;,&quot;IN&quot;);\r\n        DecimalFormat decimalFormat = (DecimalFormat) DecimalFormat.getCurrencyInstance(locale);\r\n        DecimalFormatSymbols dfs = DecimalFormatSymbols.getInstance(locale);\r\n        dfs.setCurrencySymbol(&quot;\\u20B9&quot;);\r\n        decimalFormat.setDecimalFormatSymbols(dfs);\r\n        System.out.println(decimalFormat.format(payment));\r\n\r\nOutput:\r\n\r\n    ₹12,324.13","title":"Displaying Currency in Indian Numbering Format","body":"<p>If there is no default Locale available and the user doesn't make any change to the locale, we can go with setting the currency symbol using unicode and decimal formatting. As in the below code:</p>\n\n<p>For e.g. Setting the Indian currency symbol and formatting the value. This will work without user making changes in the settings.</p>\n\n<pre><code>    Locale locale = new Locale(\"en\",\"IN\");\n    DecimalFormat decimalFormat = (DecimalFormat) DecimalFormat.getCurrencyInstance(locale);\n    DecimalFormatSymbols dfs = DecimalFormatSymbols.getInstance(locale);\n    dfs.setCurrencySymbol(\"\\u20B9\");\n    decimalFormat.setDecimalFormatSymbols(dfs);\n    System.out.println(decimalFormat.format(payment));\n</code></pre>\n\n<p>Output:</p>\n\n<pre><code>₹12,324.13\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2352671,"reputation":61,"user_id":2061158,"display_name":"ankit209"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1507795001,"creation_date":1507795001,"answer_id":46704341,"question_id":5379231,"body_markdown":"On Android android.icu.text.NumberFormat is available after api level 24 only. So to support lower version I wrote my own method in java.\r\n\r\n    public static String formatIndianCommaSeparated(long rupee){\r\n        // remove sign if present\r\n        String raw = String.valueOf(Math.abs(rupee));\r\n        int numDigits = raw.length();\r\n        StringBuilder sb = new StringBuilder(raw);\r\n        // Reverse the string to start from right most digits\r\n        sb = sb.reverse();\r\n        // Counter to keep track of number of commas placed\r\n        int commas = 0;\r\n        for (int i=0; i&lt;numDigits; i++){\r\n            // Insert a comma if i is in the range [3, 5, 7, 9, ...)\r\n            if (i % 2 == 1 &amp;&amp; i != 1 ){\r\n                sb.insert(i+commas, &quot;,&quot;);\r\n                commas++;\r\n            }\r\n        }\r\n        // Reverse the string back to get original number\r\n        String sign = (rupee &lt; 0) ? &quot;-&quot; : &quot;&quot;;\r\n        return sign + sb.reverse().toString();\r\n    }","title":"Displaying Currency in Indian Numbering Format","body":"<p>On Android android.icu.text.NumberFormat is available after api level 24 only. So to support lower version I wrote my own method in java.</p>\n\n<pre><code>public static String formatIndianCommaSeparated(long rupee){\n    // remove sign if present\n    String raw = String.valueOf(Math.abs(rupee));\n    int numDigits = raw.length();\n    StringBuilder sb = new StringBuilder(raw);\n    // Reverse the string to start from right most digits\n    sb = sb.reverse();\n    // Counter to keep track of number of commas placed\n    int commas = 0;\n    for (int i=0; i&lt;numDigits; i++){\n        // Insert a comma if i is in the range [3, 5, 7, 9, ...)\n        if (i % 2 == 1 &amp;&amp; i != 1 ){\n            sb.insert(i+commas, \",\");\n            commas++;\n        }\n    }\n    // Reverse the string back to get original number\n    String sign = (rupee &lt; 0) ? \"-\" : \"\";\n    return sign + sb.reverse().toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1563603,"reputation":1989,"user_id":1452884,"accept_rate":50,"display_name":"Kavin Varnan"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1509513749,"creation_date":1509513749,"answer_id":47048699,"question_id":5379231,"body_markdown":"Kotlin version, It works on Android API 26\r\n\r\n    fun currencyLocale(value: Double): String {\r\n        val formatter = NumberFormat.getCurrencyInstance(Locale(&quot;en&quot;, &quot;in&quot;))\r\n        return formatter.format(value)\r\n    }\r\n\r\n    fun parseCommaSeparatedCurrency(value: String): Number {\r\n        return NumberFormat.getCurrencyInstance(Locale(&quot;en&quot;, &quot;in&quot;)).parse(value)\r\n    }","title":"Displaying Currency in Indian Numbering Format","body":"<p>Kotlin version, It works on Android API 26</p>\n\n<pre><code>fun currencyLocale(value: Double): String {\n    val formatter = NumberFormat.getCurrencyInstance(Locale(\"en\", \"in\"))\n    return formatter.format(value)\n}\n\nfun parseCommaSeparatedCurrency(value: String): Number {\n    return NumberFormat.getCurrencyInstance(Locale(\"en\", \"in\")).parse(value)\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11790565,"reputation":129,"user_id":8626847,"display_name":"Charudatta Joshi"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1574237525,"creation_date":1574237525,"answer_id":58949528,"question_id":5379231,"body_markdown":"Few options that I explored are as below\r\n\r\n\t\timport java.text.NumberFormat;\r\n\t\timport java.util.Locale;\r\n\r\n\t\tclass NumberFormatDemo {\r\n\r\n\t\t\tpublic static void main(String[] args) {\r\n\t\t\t\tDouble d = 45124853123456.78941;\r\n\t\t\t\tNumberFormat nf = NumberFormat.getInstance(Locale.ITALY);\r\n\t\t\t\tSystem.out.println(&quot;ITALY representation of &quot; + d + &quot; : &quot; + nf.format(d));\r\n\r\n\t\t\t\tnf = NumberFormat.getInstance(Locale.GERMANY);\r\n\t\t\t\tSystem.out.println(&quot;GERMANY representation of &quot; + d + &quot; : &quot; + nf.format(d));\r\n\r\n\t\t\t\tnf = NumberFormat.getInstance(Locale.CHINESE);\r\n\t\t\t\tSystem.out.println(&quot;CHINESE representation of &quot; + d + &quot; : &quot; + nf.format(d));\r\n\r\n\t\t\t\tnf = NumberFormat.getInstance(Locale.US);\r\n\t\t\t\tSystem.out.println(&quot;US representation of &quot; + d + &quot; : &quot; + nf.format(d));\r\n\r\n\t\t\t\tnf = NumberFormat.getInstance(Locale.ENGLISH);\r\n\t\t\t\tSystem.out.println(&quot;ENGLISH representation of &quot; + d + &quot; : &quot; + nf.format(d));\r\n\r\n\t\t\t\tnf = NumberFormat.getInstance(Locale.UK);\r\n\t\t\t\tSystem.out.println(&quot;UK representation of &quot; + d + &quot; : &quot; + nf.format(d));\r\n\r\n\t\t\t\t//===================================================\r\n\t\t\t\t//ICU4j example\r\n\t\t\t\tcom.ibm.icu.text.NumberFormat format = com.ibm.icu.text.NumberFormat.getCurrencyInstance(new Locale(&quot;en&quot;, &quot;in&quot;));\r\n\t\t\t\tSystem.out.println(&quot;INDIA representation of &quot; + d + &quot; : &quot; + nf.format(d));\r\n\t\t\t}\r\n\t\t}\r\n\r\nThe last one reacquires following dependency\r\n\r\n    &lt;dependency&gt;\r\n    &lt;groupId&gt;com.ibm.icu&lt;/groupId&gt;\r\n    &lt;artifactId&gt;icu4j&lt;/artifactId&gt;\r\n    &lt;version&gt;65.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n    \r\n\r\n","title":"Displaying Currency in Indian Numbering Format","body":"<p>Few options that I explored are as below</p>\n\n<pre><code>    import java.text.NumberFormat;\n    import java.util.Locale;\n\n    class NumberFormatDemo {\n\n        public static void main(String[] args) {\n            Double d = 45124853123456.78941;\n            NumberFormat nf = NumberFormat.getInstance(Locale.ITALY);\n            System.out.println(\"ITALY representation of \" + d + \" : \" + nf.format(d));\n\n            nf = NumberFormat.getInstance(Locale.GERMANY);\n            System.out.println(\"GERMANY representation of \" + d + \" : \" + nf.format(d));\n\n            nf = NumberFormat.getInstance(Locale.CHINESE);\n            System.out.println(\"CHINESE representation of \" + d + \" : \" + nf.format(d));\n\n            nf = NumberFormat.getInstance(Locale.US);\n            System.out.println(\"US representation of \" + d + \" : \" + nf.format(d));\n\n            nf = NumberFormat.getInstance(Locale.ENGLISH);\n            System.out.println(\"ENGLISH representation of \" + d + \" : \" + nf.format(d));\n\n            nf = NumberFormat.getInstance(Locale.UK);\n            System.out.println(\"UK representation of \" + d + \" : \" + nf.format(d));\n\n            //===================================================\n            //ICU4j example\n            com.ibm.icu.text.NumberFormat format = com.ibm.icu.text.NumberFormat.getCurrencyInstance(new Locale(\"en\", \"in\"));\n            System.out.println(\"INDIA representation of \" + d + \" : \" + nf.format(d));\n        }\n    }\n</code></pre>\n\n<p>The last one reacquires following dependency</p>\n\n<pre><code>&lt;dependency&gt;\n&lt;groupId&gt;com.ibm.icu&lt;/groupId&gt;\n&lt;artifactId&gt;icu4j&lt;/artifactId&gt;\n&lt;version&gt;65.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16706790,"reputation":1,"user_id":12075104,"display_name":"Karun Kumar"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1580065777,"creation_date":1580065777,"answer_id":59921767,"question_id":5379231,"body_markdown":"```\r\n fun currencyFormatter(inputNumbers: String?): String {\r\n        var formattedNumber = &quot;&quot;\r\n        var decimalPoint=&quot;&quot;\r\n        var inputNumber=&quot;&quot;\r\n\r\n        if (inputNumbers != null) {\r\n            try {\r\n                val sp=inputNumbers.split(&quot;.&quot;)\r\n                inputNumber=sp[0]\r\n                decimalPoint=sp[1]\r\n            } catch (e: Exception) {\r\n                inputNumber=inputNumbers\r\n            }\r\n\r\n\r\n            formattedNumber = when {\r\n                inputNumber.length &lt;= 3 -&gt; {\r\n                    inputNumber\r\n                }\r\n                inputNumber.length &lt;= 5 -&gt; {\r\n                    String.format(&quot;%s,%s&quot;, inputNumber.substring(0, inputNumber.length - 3),\r\n                        inputNumber.substring(inputNumber.length - 3))\r\n                }\r\n                inputNumber.length &lt;= 7 -&gt; {\r\n                    String.format(&quot;%s,%s,%s&quot;,\r\n                        inputNumber.substring(0, inputNumber.length - 5),\r\n                        inputNumber.substring(inputNumber.length - 5, inputNumber.length - 3),\r\n                        inputNumber.substring(inputNumber.length - 3)\r\n                    )\r\n                }\r\n                inputNumber.length &lt;= 9 -&gt; {\r\n                    String.format(&quot;%s,%s,%s,%s&quot;,\r\n                        inputNumber.substring(0, inputNumber.length - 7),\r\n                        inputNumber.substring(inputNumber.length - 7, inputNumber.length - 5),\r\n                        inputNumber.substring(inputNumber.length - 5, inputNumber.length - 3),\r\n                        inputNumber.substring(inputNumber.length - 3)\r\n                    )\r\n                }\r\n                else -&gt; inputNumber\r\n            }\r\n        }\r\n        return &quot;$formattedNumber.$decimalPoint&quot;\r\n    }\r\n\r\nmain(){\r\n val rs=1200.55f\r\n    print(currencyFormatter(rs.toString()))\r\n}\r\n\r\n```\r\n\r\n","title":"Displaying Currency in Indian Numbering Format","body":"<pre><code> fun currencyFormatter(inputNumbers: String?): String {\n        var formattedNumber = \"\"\n        var decimalPoint=\"\"\n        var inputNumber=\"\"\n\n        if (inputNumbers != null) {\n            try {\n                val sp=inputNumbers.split(\".\")\n                inputNumber=sp[0]\n                decimalPoint=sp[1]\n            } catch (e: Exception) {\n                inputNumber=inputNumbers\n            }\n\n\n            formattedNumber = when {\n                inputNumber.length &lt;= 3 -&gt; {\n                    inputNumber\n                }\n                inputNumber.length &lt;= 5 -&gt; {\n                    String.format(\"%s,%s\", inputNumber.substring(0, inputNumber.length - 3),\n                        inputNumber.substring(inputNumber.length - 3))\n                }\n                inputNumber.length &lt;= 7 -&gt; {\n                    String.format(\"%s,%s,%s\",\n                        inputNumber.substring(0, inputNumber.length - 5),\n                        inputNumber.substring(inputNumber.length - 5, inputNumber.length - 3),\n                        inputNumber.substring(inputNumber.length - 3)\n                    )\n                }\n                inputNumber.length &lt;= 9 -&gt; {\n                    String.format(\"%s,%s,%s,%s\",\n                        inputNumber.substring(0, inputNumber.length - 7),\n                        inputNumber.substring(inputNumber.length - 7, inputNumber.length - 5),\n                        inputNumber.substring(inputNumber.length - 5, inputNumber.length - 3),\n                        inputNumber.substring(inputNumber.length - 3)\n                    )\n                }\n                else -&gt; inputNumber\n            }\n        }\n        return \"$formattedNumber.$decimalPoint\"\n    }\n\nmain(){\n val rs=1200.55f\n    print(currencyFormatter(rs.toString()))\n}\n\n</code></pre>\n"},{"comments":[{"owner":{"account_id":3882891,"reputation":2008,"user_id":3214988,"display_name":"sunitkatkar"},"score":0,"creation_date":1636271052,"post_id":60317285,"comment_id":123508372,"body_markdown":"Thanks a lot. This is compact, works like a charm for Indian rupees.","body":"Thanks a lot. This is compact, works like a charm for Indian rupees."}],"tags":[],"owner":{"account_id":17805641,"reputation":11,"user_id":12931414,"display_name":"Babu K"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1582225053,"creation_date":1582192851,"answer_id":60317285,"question_id":5379231,"body_markdown":"\tpublic static String paiseToString(long paise)\r\n\t{\r\n\t    DecimalFormat fmt = new DecimalFormat(&quot;#0.00&quot;);\r\n        boolean minus = paise &lt; 0;\r\n\t    StringBuilder sb = new StringBuilder(fmt.format(Math.abs(paise)/100.0));\r\n\t    for (int index = sb.length()-6; index &gt; 0; index-=2)\r\n\t    {\r\n\t        sb.insert(index,&#39;,&#39;);\r\n\t    }\r\n        if (minus)\r\n           sb.insert(0,&#39;-&#39;);\r\n\t    return sb.toString();\r\n\t}\r\n\t\r\n    public static String rupeesToString(long rupees)\r\n    {\r\n        boolean minus = rupees &lt; 0;\r\n        StringBuilder sb = new StringBuilder(Long.toString(Math.abs(rupees)));\r\n        for (int index = sb.length()-3; index &gt; 0; index-=2)\r\n        {\r\n            sb.insert(index,&#39;,&#39;);\r\n        }\r\n        if (minus)\r\n           sb.insert(0,&#39;-&#39;);\r\n        return sb.toString();\r\n    }\r\n    \r\n    // Test the functions\r\n\tpublic static void main(String[] args)\r\n\t{\r\n\t    // Test for positive values\r\n\t    long val = 1;\r\n\t    while (val &lt; Long.MAX_VALUE/10)\r\n\t    {\r\n\t        System.out.printf(&quot;%28s %28s\\n&quot;,paiseToString(val),rupeesToString(val));\r\n\t        val *= 10;\r\n\t    }\r\n\t    // Test for negative values\r\n\t    val = -1;\r\n        while (val &gt; Long.MIN_VALUE/10)\r\n        {\r\n            System.out.printf(&quot;%28s %28s\\n&quot;,paiseToString(val),rupeesToString(val));\r\n            val *= 10;\r\n        }\t    \r\n\t}\r\n","title":"Displaying Currency in Indian Numbering Format","body":"<pre><code>public static String paiseToString(long paise)\n{\n    DecimalFormat fmt = new DecimalFormat(\"#0.00\");\n    boolean minus = paise &lt; 0;\n    StringBuilder sb = new StringBuilder(fmt.format(Math.abs(paise)/100.0));\n    for (int index = sb.length()-6; index &gt; 0; index-=2)\n    {\n        sb.insert(index,',');\n    }\n    if (minus)\n       sb.insert(0,'-');\n    return sb.toString();\n}\n\npublic static String rupeesToString(long rupees)\n{\n    boolean minus = rupees &lt; 0;\n    StringBuilder sb = new StringBuilder(Long.toString(Math.abs(rupees)));\n    for (int index = sb.length()-3; index &gt; 0; index-=2)\n    {\n        sb.insert(index,',');\n    }\n    if (minus)\n       sb.insert(0,'-');\n    return sb.toString();\n}\n\n// Test the functions\npublic static void main(String[] args)\n{\n    // Test for positive values\n    long val = 1;\n    while (val &lt; Long.MAX_VALUE/10)\n    {\n        System.out.printf(\"%28s %28s\\n\",paiseToString(val),rupeesToString(val));\n        val *= 10;\n    }\n    // Test for negative values\n    val = -1;\n    while (val &gt; Long.MIN_VALUE/10)\n    {\n        System.out.printf(\"%28s %28s\\n\",paiseToString(val),rupeesToString(val));\n        val *= 10;\n    }       \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12379204,"reputation":957,"user_id":9025616,"display_name":"Nilesh B"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585748334,"creation_date":1585748334,"answer_id":60972184,"question_id":5379231,"body_markdown":"Working fine for me in Android:\r\n\r\n    public static String priceFormatWithDec(String price) {\r\n        DecimalFormat decimalFormat = new DecimalFormat(&quot;#,##,###.00&quot;);\r\n        String format = decimalFormat.format(Double.parseDouble(price));\r\n        return String.format(&quot;%s&quot;, format);\r\n    }","title":"Displaying Currency in Indian Numbering Format","body":"<p>Working fine for me in Android:</p>\n\n<pre><code>public static String priceFormatWithDec(String price) {\n    DecimalFormat decimalFormat = new DecimalFormat(\"#,##,###.00\");\n    String format = decimalFormat.format(Double.parseDouble(price));\n    return String.format(\"%s\", format);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18133099,"reputation":180,"user_id":13187977,"display_name":"Siddhant Ranjan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1589223556,"creation_date":1589223556,"answer_id":61737277,"question_id":5379231,"body_markdown":"using Locale class and getCurrencyInstance the Indian currency format can be obtained.\r\n\r\nwhile defining the new Locale for India use &quot;en&quot; for English and &quot;hi&quot; for Hindi.\r\n\r\nfor locale refer https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html\r\n\r\nfor getCurrencyInstance refer https://docs.oracle.com/javase/8/docs/api/java/text/NumberFormat.html#getCurrencyInstance--\r\n\r\nhere is a small implementation of the same.\r\n\r\n    import java.util.*;\r\n    import java.text.*;\r\n    import java.text.NumberFormat;\r\n    import java.util.Locale;\r\n\r\n    public class Solution {\r\n     \r\n        public static void main(String[] args) {\r\n        Scanner scanner = new Scanner(System.in);\r\n        double payment = scanner.nextDouble();\r\n        scanner.close();\r\n\t      \r\n        Locale indialocale=new Locale(&quot;en&quot;,&quot;IN&quot;);\r\n\t\tNumberFormat india  = NumberFormat.getCurrencyInstance(indialocale);\r\n        System.out.println(&quot;India: &quot; + india.format(payment));\r\n        }\r\n}\r\n","title":"Displaying Currency in Indian Numbering Format","body":"<p>using Locale class and getCurrencyInstance the Indian currency format can be obtained.</p>\n\n<p>while defining the new Locale for India use \"en\" for English and \"hi\" for Hindi.</p>\n\n<p>for locale refer <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/Locale.html</a></p>\n\n<p>for getCurrencyInstance refer <a href=\"https://docs.oracle.com/javase/8/docs/api/java/text/NumberFormat.html#getCurrencyInstance--\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/text/NumberFormat.html#getCurrencyInstance--</a></p>\n\n<p>here is a small implementation of the same.</p>\n\n<pre><code>import java.util.*;\nimport java.text.*;\nimport java.text.NumberFormat;\nimport java.util.Locale;\n\npublic class Solution {\n\n    public static void main(String[] args) {\n    Scanner scanner = new Scanner(System.in);\n    double payment = scanner.nextDouble();\n    scanner.close();\n\n    Locale indialocale=new Locale(\"en\",\"IN\");\n    NumberFormat india  = NumberFormat.getCurrencyInstance(indialocale);\n    System.out.println(\"India: \" + india.format(payment));\n    }\n</code></pre>\n\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":7704276,"reputation":1,"user_id":5835680,"display_name":"saggy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591786137,"creation_date":1591784033,"answer_id":62301054,"question_id":5379231,"body_markdown":"This is working for me ..\r\n\r\n    public String indianCurrencyFormat(String s) {\r\n\r\n\t\tString orignalNo = s;\r\n\t\tString formatted = &quot;&quot;;\r\n\r\n\t\tif(orignalNo.startsWith(&quot;-&quot;)) {\r\n\t\t\ts = s.replace(&quot;-&quot;,&quot;&quot;);\r\n\t\t}\r\n\r\n\t\tif(orignalNo.contains(&quot;.&quot;)) {\r\n\t\t\tif(s.length() &gt; 6){\r\n\t\t\t\tStringBuilder sb=new StringBuilder(s);\r\n\t\t\t\ts = sb.reverse().toString();\r\n\r\n\t\t\t\tformatted = s.substring(0,6);\r\n\t\t\t\ts = s.substring(6);\r\n\r\n\t\t\t\twhile(s.length() &gt; 1) {\r\n\t\t\t\t\tformatted += &quot;,&quot; + s.substring(0,2);\r\n\t\t\t\t\ts = s.substring(2);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsb = new StringBuilder(formatted+(StringUtils.isNotBlank(s) ? &quot;,&quot;+s :&quot;&quot;));\r\n\t\t\t\tformatted = sb.reverse().toString();\r\n\t\t\t} else {\r\n\t\t\t\tformatted = s;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif(s.length() &gt; 3){\r\n\t\t\t\tStringBuilder sb=new StringBuilder(s);\r\n\t\t\t\ts = sb.reverse().toString();\r\n\r\n\t\t\t\tformatted = s.substring(0,3);\r\n\t\t\t\ts = s.substring(3);\r\n\r\n\t\t\t\twhile(s.length() &gt; 1) {\r\n\t\t\t\t\tformatted += &quot;,&quot; + s.substring(0,2);\r\n\t\t\t\t\ts = s.substring(2);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tsb = new StringBuilder(formatted+(StringUtils.isNotBlank(s) ? &quot;,&quot;+s :&quot;&quot;));\r\n\t\t\t\tformatted = sb.reverse().toString();\r\n\t\t\t} else {\r\n\t\t\t\tformatted = s;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (orignalNo.startsWith(&quot;-&quot;)){\r\n\t\t\tformatted = &quot;-&quot;+formatted;\r\n\t\t}\r\n\r\n\t\treturn formatted;\r\n\t}","title":"Displaying Currency in Indian Numbering Format","body":"<p>This is working for me ..</p>\n\n<pre><code>public String indianCurrencyFormat(String s) {\n\n    String orignalNo = s;\n    String formatted = \"\";\n\n    if(orignalNo.startsWith(\"-\")) {\n        s = s.replace(\"-\",\"\");\n    }\n\n    if(orignalNo.contains(\".\")) {\n        if(s.length() &gt; 6){\n            StringBuilder sb=new StringBuilder(s);\n            s = sb.reverse().toString();\n\n            formatted = s.substring(0,6);\n            s = s.substring(6);\n\n            while(s.length() &gt; 1) {\n                formatted += \",\" + s.substring(0,2);\n                s = s.substring(2);\n            }\n\n            sb = new StringBuilder(formatted+(StringUtils.isNotBlank(s) ? \",\"+s :\"\"));\n            formatted = sb.reverse().toString();\n        } else {\n            formatted = s;\n        }\n    } else {\n        if(s.length() &gt; 3){\n            StringBuilder sb=new StringBuilder(s);\n            s = sb.reverse().toString();\n\n            formatted = s.substring(0,3);\n            s = s.substring(3);\n\n            while(s.length() &gt; 1) {\n                formatted += \",\" + s.substring(0,2);\n                s = s.substring(2);\n            }\n\n            sb = new StringBuilder(formatted+(StringUtils.isNotBlank(s) ? \",\"+s :\"\"));\n            formatted = sb.reverse().toString();\n        } else {\n            formatted = s;\n        }\n    }\n\n    if (orignalNo.startsWith(\"-\")){\n        formatted = \"-\"+formatted;\n    }\n\n    return formatted;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15010121,"reputation":81,"user_id":10834873,"display_name":"zeeshan ahmad"},"comment_count":0,"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1594157892,"creation_date":1594143830,"answer_id":62781019,"question_id":5379231,"body_markdown":"Try this:\r\n\r\n    NumberFormat.getCurrencyInstance(new Locale(&quot;en&quot;,&quot;IN&quot;)).format(number)\r\n\r\n&quot;en&quot; is for English.\r\n&quot;IN&quot; is for the country (India).","title":"Displaying Currency in Indian Numbering Format","body":"<p>Try this:</p>\n<pre><code>NumberFormat.getCurrencyInstance(new Locale(&quot;en&quot;,&quot;IN&quot;)).format(number)\n</code></pre>\n<p>&quot;en&quot; is for English.\n&quot;IN&quot; is for the country (India).</p>\n"},{"tags":[],"owner":{"account_id":9923866,"reputation":157,"user_id":15739993,"display_name":"Nilanshu96"},"comment_count":0,"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1631783501,"creation_date":1631782590,"answer_id":69205332,"question_id":5379231,"body_markdown":"I know this is an old question but I&#39;ll add my answer just in case. It is possible to use the same decimal formatter in a roundabout way to achieve the result but it isn&#39;t the most efficient solution, just a simpler one.\r\n\r\n    import java.math.RoundingMode;\r\n    import java.text.DecimalFormat;\r\n    \r\n    public class IndianMoneyFormat {\r\n    \r\n        static String indianCurrencyFormat(double money) {\r\n            String result = null;\r\n    \r\n            double aboveThousands = money / 1000;\r\n            double thousands = money % 1000;\r\n    \r\n            if (aboveThousands &gt; 1) {\r\n                DecimalFormat formatter = new DecimalFormat(&quot;##,##&quot;);\r\n                formatter.setRoundingMode(RoundingMode.DOWN); //will round towards zero whether negative or positive. Same as truncating.\r\n                String one = formatter.format(aboveThousands);\r\n    \r\n                formatter.applyPattern(&quot;###.00&quot;);\r\n                formatter.setRoundingMode(RoundingMode.HALF_EVEN); //default rounding mode of DecimalFormat\r\n                String two = formatter.format(thousands);\r\n    \r\n                result = one + &quot;,&quot; + two;\r\n                return result;\r\n            } else {\r\n                DecimalFormat formatter = new DecimalFormat(&quot;###.00&quot;);\r\n                result = formatter.format(money);\r\n                return result;\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            double money1 = 123000999.5;\r\n            double money2 = 999.39;\r\n            System.out.println(indianCurrencyFormat(money1));\r\n            System.out.println(indianCurrencyFormat(money2));\r\n        }\r\n    }\r\n\r\nAbove code will provide the following result:\r\n\r\n    12,30,00,999.50\r\n    999.39","title":"Displaying Currency in Indian Numbering Format","body":"<p>I know this is an old question but I'll add my answer just in case. It is possible to use the same decimal formatter in a roundabout way to achieve the result but it isn't the most efficient solution, just a simpler one.</p>\n<pre><code>import java.math.RoundingMode;\nimport java.text.DecimalFormat;\n\npublic class IndianMoneyFormat {\n\n    static String indianCurrencyFormat(double money) {\n        String result = null;\n\n        double aboveThousands = money / 1000;\n        double thousands = money % 1000;\n\n        if (aboveThousands &gt; 1) {\n            DecimalFormat formatter = new DecimalFormat(&quot;##,##&quot;);\n            formatter.setRoundingMode(RoundingMode.DOWN); //will round towards zero whether negative or positive. Same as truncating.\n            String one = formatter.format(aboveThousands);\n\n            formatter.applyPattern(&quot;###.00&quot;);\n            formatter.setRoundingMode(RoundingMode.HALF_EVEN); //default rounding mode of DecimalFormat\n            String two = formatter.format(thousands);\n\n            result = one + &quot;,&quot; + two;\n            return result;\n        } else {\n            DecimalFormat formatter = new DecimalFormat(&quot;###.00&quot;);\n            result = formatter.format(money);\n            return result;\n        }\n    }\n\n    public static void main(String[] args) {\n        double money1 = 123000999.5;\n        double money2 = 999.39;\n        System.out.println(indianCurrencyFormat(money1));\n        System.out.println(indianCurrencyFormat(money2));\n    }\n}\n</code></pre>\n<p>Above code will provide the following result:</p>\n<pre><code>12,30,00,999.50\n999.39\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17202546,"reputation":101,"user_id":12453883,"display_name":"Rakesh Karkare"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1634303885,"creation_date":1634290515,"answer_id":69582687,"question_id":5379231,"body_markdown":"Please find below snippet to print currency according to locale by giving inputs \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    import java.util.*;\r\n    import java.text.*;\r\n\r\n    public class CurrencyPayment {\r\n\r\n        public static void main(String[] args) {\r\n            Scanner scanner = new Scanner(System.in);\r\n            double payment = scanner.nextDouble();\r\n            scanner.close();\r\n\r\n            System.out.println(&quot;US: &quot; + NumberFormat.getCurrencyInstance(Locale.US).format(payment));\r\n            System.out.println(&quot;India: &quot; + NumberFormat.getCurrencyInstance(new Locale(&quot;en&quot;,&quot;IN&quot;)).format(payment));\r\n            System.out.println(&quot;China: &quot; + NumberFormat.getCurrencyInstance(Locale.CHINA).format(payment));\r\n            System.out.println(&quot;France: &quot; + NumberFormat.getCurrencyInstance(Locale.FRANCE).format(payment));\r\n        }\r\n    }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"Displaying Currency in Indian Numbering Format","body":"<p>Please find below snippet to print currency according to locale by giving inputs</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>import java.util.*;\nimport java.text.*;\n\npublic class CurrencyPayment {\n\n    public static void main(String[] args) {\n        Scanner scanner = new Scanner(System.in);\n        double payment = scanner.nextDouble();\n        scanner.close();\n\n        System.out.println(\"US: \" + NumberFormat.getCurrencyInstance(Locale.US).format(payment));\n        System.out.println(\"India: \" + NumberFormat.getCurrencyInstance(new Locale(\"en\",\"IN\")).format(payment));\n        System.out.println(\"China: \" + NumberFormat.getCurrencyInstance(Locale.CHINA).format(payment));\n        System.out.println(\"France: \" + NumberFormat.getCurrencyInstance(Locale.FRANCE).format(payment));\n    }\n}</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":23859023,"reputation":1,"user_id":17862227,"display_name":"Karthik Ak"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1641556244,"creation_date":1641555908,"answer_id":70620760,"question_id":5379231,"body_markdown":"1. Converting any Number into Indian Rupee Format in Golang.\r\n2. Function IndianRupeeFormat takes paramter as string and returns as string \r\n    ```go\r\n    func IndianRupeeFormat(DisplayAmount string) string {\r\n    \tAmountDisplayed := DisplayAmount[:len(DisplayAmount)-3] // just removing decimal point numbers.\r\n    \tIndianRupee := &quot;&quot;\r\n    \tif len(AmountDisplayed) &gt; 3 { // amount should to greater than 999 if &quot;,&quot; should appear , so length should be greater than 3\r\n    \t\tstartIndex := math.Mod(float64(len(AmountDisplayed)), 2) // startIndex is taken as slicing part to add comma.\r\n    \t\tnoOfCommas := (len(AmountDisplayed) / 2) - 1             // No of Commas appear in the number.\r\n    \t\tstartSlice := 0                                          // start of the slice\r\n    \t\tfor i := 0; i &lt; noOfCommas; i++ {\r\n    \t\t\tIndianRupee = IndianRupee + DisplayAmount[startSlice:int64(startIndex)+1] + &quot;,&quot;\r\n    \t\t\tstartIndex = startIndex + 2 // adding +2 because after first comma we are skipping 2 digits to add another comma.\r\n    \t\t\tstartSlice = int(startIndex) - 1\r\n    \t\t}\r\n    \t\tk := len(DisplayAmount) - 6\r\n    \t\tIndianRupee = IndianRupee + DisplayAmount[k:] // adding the rest of digits.\r\n    \t} else {\r\n    \t\tIndianRupee = DisplayAmount\r\n    \t}\r\n    \treturn IndianRupee\r\n    }\r\n\r\n    Amount1 := IndianRupeeFormat(fmt.Sprintf(&quot;%.2f&quot;,100))\r\n    Amount2 := IndianRupeeFormat(fmt.Sprintf(&quot;%.2f&quot;,1000.345))\r\n    Amount3 := IndianRupeeFormat(fmt.Sprintf(&quot;%.2f&quot;,10000.02))\r\n    Amount4 := IndianRupeeFormat(fmt.Sprintf(&quot;%.2f&quot;,100000.100))\r\n    Amount5 := IndianRupeeFormat(fmt.Sprintf(&quot;%.2f&quot;,1000000.))\r\n    Amount6 := IndianRupeeFormat(fmt.Sprintf(&quot;%.2f&quot;,1000.090))\r\n    fmt.Println(Amount1)\r\n    fmt.Println(Amount2)\r\n    fmt.Println(Amount3)\r\n    fmt.Println(Amount4)\r\n    fmt.Println(Amount5)\r\n    fmt.Println(Amount6)\r\n    // Output: 100\r\n    // Output: 1,000.34\r\n    // Output: 10,000.02\r\n    // Output: 1,00,000.10\r\n    // Output: 10,00,000.00\r\n    // Output: 1,000.90\r\n    ```\r\n    \r\n\r\n\r\n  ","title":"Displaying Currency in Indian Numbering Format","body":"<ol>\n<li>Converting any Number into Indian Rupee Format in Golang.</li>\n<li>Function IndianRupeeFormat takes paramter as string and returns as string\n<pre class=\"lang-golang prettyprint-override\"><code>func IndianRupeeFormat(DisplayAmount string) string {\n    AmountDisplayed := DisplayAmount[:len(DisplayAmount)-3] // just removing decimal point numbers.\n    IndianRupee := &quot;&quot;\n    if len(AmountDisplayed) &gt; 3 { // amount should to greater than 999 if &quot;,&quot; should appear , so length should be greater than 3\n        startIndex := math.Mod(float64(len(AmountDisplayed)), 2) // startIndex is taken as slicing part to add comma.\n        noOfCommas := (len(AmountDisplayed) / 2) - 1             // No of Commas appear in the number.\n        startSlice := 0                                          // start of the slice\n        for i := 0; i &lt; noOfCommas; i++ {\n            IndianRupee = IndianRupee + DisplayAmount[startSlice:int64(startIndex)+1] + &quot;,&quot;\n            startIndex = startIndex + 2 // adding +2 because after first comma we are skipping 2 digits to add another comma.\n            startSlice = int(startIndex) - 1\n        }\n        k := len(DisplayAmount) - 6\n        IndianRupee = IndianRupee + DisplayAmount[k:] // adding the rest of digits.\n    } else {\n        IndianRupee = DisplayAmount\n    }\n    return IndianRupee\n}\n\nAmount1 := IndianRupeeFormat(fmt.Sprintf(&quot;%.2f&quot;,100))\nAmount2 := IndianRupeeFormat(fmt.Sprintf(&quot;%.2f&quot;,1000.345))\nAmount3 := IndianRupeeFormat(fmt.Sprintf(&quot;%.2f&quot;,10000.02))\nAmount4 := IndianRupeeFormat(fmt.Sprintf(&quot;%.2f&quot;,100000.100))\nAmount5 := IndianRupeeFormat(fmt.Sprintf(&quot;%.2f&quot;,1000000.))\nAmount6 := IndianRupeeFormat(fmt.Sprintf(&quot;%.2f&quot;,1000.090))\nfmt.Println(Amount1)\nfmt.Println(Amount2)\nfmt.Println(Amount3)\nfmt.Println(Amount4)\nfmt.Println(Amount5)\nfmt.Println(Amount6)\n// Output: 100\n// Output: 1,000.34\n// Output: 10,000.02\n// Output: 1,00,000.10\n// Output: 10,00,000.00\n// Output: 1,000.90\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":2868776,"reputation":20877,"user_id":2462531,"accept_rate":40,"display_name":"Shailendra Madda"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1657796138,"creation_date":1657796138,"answer_id":72979365,"question_id":5379231,"body_markdown":"It worked for me:\r\n\r\n    fun getFormattedPrice(price: Double?): String {\r\n            if (price == null) return &quot;0&quot;\r\n            val formatter = DecimalFormat(&quot;##,##,###.00&quot;).format(price)\r\n            var formattedPrice = formatter.format(price)\r\n            if (formattedPrice.endsWith(&quot;.00&quot;)) formattedPrice = formattedPrice.dropLast(3)\r\n            if (formattedPrice.isEmpty()) formattedPrice = &quot;0&quot;\r\n            return formattedPrice\r\n        }","title":"Displaying Currency in Indian Numbering Format","body":"<p>It worked for me:</p>\n<pre><code>fun getFormattedPrice(price: Double?): String {\n        if (price == null) return &quot;0&quot;\n        val formatter = DecimalFormat(&quot;##,##,###.00&quot;).format(price)\n        var formattedPrice = formatter.format(price)\n        if (formattedPrice.endsWith(&quot;.00&quot;)) formattedPrice = formattedPrice.dropLast(3)\n        if (formattedPrice.isEmpty()) formattedPrice = &quot;0&quot;\n        return formattedPrice\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17934499,"reputation":156,"user_id":13031099,"display_name":"vibhu norby"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673772448,"creation_date":1673771560,"answer_id":75123833,"question_id":5379231,"body_markdown":"Try this:\r\n\r\n```\r\ndouble number = 100000.00\r\n\r\nNumberFormat numberFormat = new NumberFormat();\r\n\r\nLocale locale = new Locale(&quot;hi&quot;,&quot;IN&quot;);\r\n\r\nnumberFormat = Numberformat.getCurrencyInstance(locale);\r\n\r\ndouble yourFormattedNumber = numberFormat(number);\r\n\r\nOutPut = ₹1,00,000.00\r\n\r\n//Remove &quot;₹&quot; using String.replace()\r\n\r\nString myFormattedNumber = numberFormat.format(number).replace(&quot;₹&quot;,&quot;&quot;);\r\n```\r\nOutPut = 1,00,000.00\r\n[![Enjoy!! Happy coding][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/h8Uo3.jpg","title":"Displaying Currency in Indian Numbering Format","body":"<p>Try this:</p>\n<pre><code>double number = 100000.00\n\nNumberFormat numberFormat = new NumberFormat();\n\nLocale locale = new Locale(&quot;hi&quot;,&quot;IN&quot;);\n\nnumberFormat = Numberformat.getCurrencyInstance(locale);\n\ndouble yourFormattedNumber = numberFormat(number);\n\nOutPut = ₹1,00,000.00\n\n//Remove &quot;₹&quot; using String.replace()\n\nString myFormattedNumber = numberFormat.format(number).replace(&quot;₹&quot;,&quot;&quot;);\n</code></pre>\n<p>OutPut = 1,00,000.00\n<a href=\"https://i.stack.imgur.com/h8Uo3.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/h8Uo3.jpg\" alt=\"Enjoy!! Happy coding\" /></a></p>\n"},{"tags":[],"owner":{"account_id":24699382,"reputation":1,"user_id":18590889,"display_name":"Shankit Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678883083,"creation_date":1678787457,"answer_id":75731502,"question_id":5379231,"body_markdown":"I faced a similar question in an interview and I used the below code.\r\n\r\n   \r\n\r\n     import java.util.Scanner;\r\n    \r\n    class AssignmentFour {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tScanner sc = new Scanner(System.in);\r\n    \t\tString str = sc.nextLine();\r\n    \t\tsc.close();\r\n    \t\tStringBuilder sb = new StringBuilder(str);\r\n    \t\tint length = sb.length();\r\n    \t\tif (length &gt; 4) {\r\n    \t\t\tfor (int i = length - 3; i &gt; 0; i -= 2) {\r\n    \t\t\t\tsb.insert(i, &quot;,&quot;);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(sb.toString());\r\n    \t}\r\n    }","title":"Displaying Currency in Indian Numbering Format","body":"<p>I faced a similar question in an interview and I used the below code.</p>\n<pre><code> import java.util.Scanner;\n\nclass AssignmentFour {\n    public static void main(String[] args) {\n        Scanner sc = new Scanner(System.in);\n        String str = sc.nextLine();\n        sc.close();\n        StringBuilder sb = new StringBuilder(str);\n        int length = sb.length();\n        if (length &gt; 4) {\n            for (int i = length - 3; i &gt; 0; i -= 2) {\n                sb.insert(i, &quot;,&quot;);\n            }\n        }\n        System.out.println(sb.toString());\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15067705,"reputation":19,"user_id":10874268,"display_name":"Binson Selvin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696598772,"creation_date":1696598772,"answer_id":77244851,"question_id":5379231,"body_markdown":"    public static String addCommaToCurrency(String value) {\r\n        // 100\r\n       if(value.length()&gt;3) {\r\n           String[] arr = value.split(&quot;\\\\.&quot;);\r\n           System.out.println(arr[0]);\r\n           //0987654321\r\n           \r\n           boolean addCommaAfterThree = true;\r\n           \r\n           StringBuilder reverseValue = new StringBuilder(arr[0]).reverse();\r\n           String commaAddedValue = &quot;&quot;;\r\n           int counter = 0;\r\n           System.out.println(&quot;reverseValue length: &quot;+reverseValue.length());\r\n           \r\n           for(int i=0; i&lt;reverseValue.length(); i++) {\r\n               if(addCommaAfterThree &amp;&amp; counter == 3) {\r\n                   commaAddedValue = commaAddedValue+&quot;,&quot;+reverseValue.charAt(i); //098,7\r\n                   counter = 1;\r\n                   addCommaAfterThree = false;\r\n               } else if(counter == 2 &amp;&amp; !addCommaAfterThree) {\r\n            \t   commaAddedValue = commaAddedValue+&quot;,&quot;+reverseValue.charAt(i); //098,7\r\n                   counter = 1;\r\n               } else {\r\n            \t   commaAddedValue = commaAddedValue+reverseValue.charAt(i) +&quot;&quot;; \r\n                   counter = counter +1;\r\n               }\r\n           }\r\n           \r\n           System.out.println(&quot;Comma Added value &quot;+new StringBuilder(commaAddedValue).reverse().append(&quot;.&quot;+arr[1]));\r\n           return new StringBuilder(commaAddedValue).reverse().append(&quot;.&quot;+arr[1]).toString();\r\n       }\r\n       return value;}\r\n\r\n\r\nKindly use this method it working it was my project requirement","title":"Displaying Currency in Indian Numbering Format","body":"<pre><code>public static String addCommaToCurrency(String value) {\n    // 100\n   if(value.length()&gt;3) {\n       String[] arr = value.split(&quot;\\\\.&quot;);\n       System.out.println(arr[0]);\n       //0987654321\n       \n       boolean addCommaAfterThree = true;\n       \n       StringBuilder reverseValue = new StringBuilder(arr[0]).reverse();\n       String commaAddedValue = &quot;&quot;;\n       int counter = 0;\n       System.out.println(&quot;reverseValue length: &quot;+reverseValue.length());\n       \n       for(int i=0; i&lt;reverseValue.length(); i++) {\n           if(addCommaAfterThree &amp;&amp; counter == 3) {\n               commaAddedValue = commaAddedValue+&quot;,&quot;+reverseValue.charAt(i); //098,7\n               counter = 1;\n               addCommaAfterThree = false;\n           } else if(counter == 2 &amp;&amp; !addCommaAfterThree) {\n               commaAddedValue = commaAddedValue+&quot;,&quot;+reverseValue.charAt(i); //098,7\n               counter = 1;\n           } else {\n               commaAddedValue = commaAddedValue+reverseValue.charAt(i) +&quot;&quot;; \n               counter = counter +1;\n           }\n       }\n       \n       System.out.println(&quot;Comma Added value &quot;+new StringBuilder(commaAddedValue).reverse().append(&quot;.&quot;+arr[1]));\n       return new StringBuilder(commaAddedValue).reverse().append(&quot;.&quot;+arr[1]).toString();\n   }\n   return value;}\n</code></pre>\n<p>Kindly use this method it working it was my project requirement</p>\n"}],"owner":{"account_id":165134,"reputation":2490,"user_id":388324,"accept_rate":56,"display_name":"Mihir"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137538,"favorite_count":0,"down_vote_count":1,"up_vote_count":80,"accepted_answer_id":5379337,"answer_count":29,"score":79,"last_activity_date":1696598772,"creation_date":1300718506,"question_id":5379231,"body_markdown":"I have a question about formatting the Rupee currency (Indian Rupee - INR).\r\n\r\nTypically a value like `450500` is formatted and shown as `450,500`. In India, the same value is displayed as `4,50,500`\r\n\r\nFor example, numbers here are represented as:\r\n\r\n    1\r\n    10\r\n    100\r\n    1,000\r\n    10,000\r\n    1,00,000\r\n    10,00,000\r\n    1,00,00,000\r\n    10,00,00,000\r\n\r\nRefer [Indian Numbering System][1]\r\n\r\nThe separators are after two digits, except for the last set, which is in thousands.\r\n\r\nI&#39;ve searched on the internet and people have asked to use the locale `en_GB` or pattern `#,##,##,##,##0.00`\r\n\r\nI tried this on JSTL by using the following tag:\r\n\r\n    &lt;fmt:formatNumber value=&quot;${product.price}&quot; type=&quot;currency&quot; \r\n      pattern=&quot;#,##,##,##,###.00&quot;/&gt;\r\n\r\nBut this does not seem to solve the issue.\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Indian_numbering_system","title":"Displaying Currency in Indian Numbering Format","body":"<p>I have a question about formatting the Rupee currency (Indian Rupee - INR).</p>\n<p>Typically a value like <code>450500</code> is formatted and shown as <code>450,500</code>. In India, the same value is displayed as <code>4,50,500</code></p>\n<p>For example, numbers here are represented as:</p>\n<pre><code>1\n10\n100\n1,000\n10,000\n1,00,000\n10,00,000\n1,00,00,000\n10,00,00,000\n</code></pre>\n<p>Refer <a href=\"http://en.wikipedia.org/wiki/Indian_numbering_system\" rel=\"noreferrer\">Indian Numbering System</a></p>\n<p>The separators are after two digits, except for the last set, which is in thousands.</p>\n<p>I've searched on the internet and people have asked to use the locale <code>en_GB</code> or pattern <code>#,##,##,##,##0.00</code></p>\n<p>I tried this on JSTL by using the following tag:</p>\n<pre><code>&lt;fmt:formatNumber value=&quot;${product.price}&quot; type=&quot;currency&quot; \n  pattern=&quot;#,##,##,##,###.00&quot;/&gt;\n</code></pre>\n<p>But this does not seem to solve the issue.</p>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":7481088,"reputation":196,"user_id":5685800,"display_name":"toootooo"},"score":0,"creation_date":1696589510,"post_id":77243773,"comment_id":136175727,"body_markdown":"you can add the following method\n\n.orElseGet(() -&gt; null);\nat the end","body":"you can add the following method  .orElseGet(() -&gt; null); at the end"},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1696589670,"post_id":77243773,"comment_id":136175755,"body_markdown":"Do you mind cut n pasting it into the sample code?","body":"Do you mind cut n pasting it into the sample code?"}],"answers":[{"comments":[{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1696590363,"post_id":77243924,"comment_id":136175896,"body_markdown":"Thank you - any further commentary on how maps are used with Optionals would be amazing.","body":"Thank you - any further commentary on how maps are used with Optionals would be amazing."},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1696590588,"post_id":77243924,"comment_id":136175935,"body_markdown":"Does this method return object of type `Car` or `CreateCarDto` ? It should return `CreateCarDto`","body":"Does this method return object of type <code>Car</code> or <code>CreateCarDto</code> ? It should return <code>CreateCarDto</code>"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1696590664,"post_id":77243924,"comment_id":136175950,"body_markdown":"@AlGrant I am not really sure what to comment. You provide a function, which transforms from initial content to a new content, which is invoked only if the optional contains a value. It is explained in details in the javadoc, and I added a quote.","body":"@AlGrant I am not really sure what to comment. You provide a function, which transforms from initial content to a new content, which is invoked only if the optional contains a value. It is explained in details in the javadoc, and I added a quote."},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1696590891,"post_id":77243924,"comment_id":136175994,"body_markdown":"Does the function return a type of `Dto?`","body":"Does the function return a type of <code>Dto?</code>"},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":0,"creation_date":1696591697,"post_id":77243924,"comment_id":136176145,"body_markdown":"@AlGrant The functions return whatever you need them to return. In the first 2 `map` operations you write functions, which accept `Car` and return `Car`. In the last one write a function, which accepts `Car` and returns `CarCreateDto`. Naturally those functions can reuse your already existing methods to do this.","body":"@AlGrant The functions return whatever you need them to return. In the first 2 <code>map</code> operations you write functions, which accept <code>Car</code> and return <code>Car</code>. In the last one write a function, which accepts <code>Car</code> and returns <code>CarCreateDto</code>. Naturally those functions can reuse your already existing methods to do this."}],"tags":[],"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"comment_count":5,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696591774,"creation_date":1696590114,"answer_id":77243924,"question_id":77243773,"body_markdown":"You can do the operations using [`Optional.map()`][1]. Any operation will be invoked only if the optional is not empty.\r\n&gt; If a value is present, returns an Optional describing (as if by ofNullable(T)) the result of applying the given mapping function to the value, otherwise returns an empty Optional.\r\nIf the mapping function returns a null result then this method returns an empty Optional.\r\n\r\n```\r\npublic CarCreateDto updateCar(CarCreateDto updateCarDto, Long id) {\r\n  Optional&lt;Car&gt; optionalCar = carRepository.getCarById(id);\r\n  return optionalCar.map(car -&gt; {\r\n    carMapper.partialupdate(updateCarDto, car);\r\n    return car;\r\n  })\r\n          .map(car -&gt; repository.save(car))\r\n          .map(car -&gt; CarCreateDto.fromCar(car))//your actual mapping from car to dto here\r\n          .orElseThrow(() -&gt; new RuntimeException(&quot;not found&quot;));\r\n}\r\n```\r\nThe current handling is to throw exception, if the operations result in empty optional (or the initial one was empty), but you can use [`orElseGet()`][2] or [`orELse()`][3] to supply fallback value, if that&#39;s what your scenario requires.\r\n\r\nAll of [Optional javadoc][4].\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html#map(java.util.function.Function)\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html#orElseGet(java.util.function.Supplier)\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html#orElse(T)\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html","title":"Spring Boot Service to update (PUT)","body":"<p>You can do the operations using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html#map(java.util.function.Function)\" rel=\"nofollow noreferrer\"><code>Optional.map()</code></a>. Any operation will be invoked only if the optional is not empty.</p>\n<blockquote>\n<p>If a value is present, returns an Optional describing (as if by ofNullable(T)) the result of applying the given mapping function to the value, otherwise returns an empty Optional.\nIf the mapping function returns a null result then this method returns an empty Optional.</p>\n</blockquote>\n<pre><code>public CarCreateDto updateCar(CarCreateDto updateCarDto, Long id) {\n  Optional&lt;Car&gt; optionalCar = carRepository.getCarById(id);\n  return optionalCar.map(car -&gt; {\n    carMapper.partialupdate(updateCarDto, car);\n    return car;\n  })\n          .map(car -&gt; repository.save(car))\n          .map(car -&gt; CarCreateDto.fromCar(car))//your actual mapping from car to dto here\n          .orElseThrow(() -&gt; new RuntimeException(&quot;not found&quot;));\n}\n</code></pre>\n<p>The current handling is to throw exception, if the operations result in empty optional (or the initial one was empty), but you can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html#orElseGet(java.util.function.Supplier)\" rel=\"nofollow noreferrer\"><code>orElseGet()</code></a> or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html#orElse(T)\" rel=\"nofollow noreferrer\"><code>orELse()</code></a> to supply fallback value, if that's what your scenario requires.</p>\n<p>All of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Optional.html\" rel=\"nofollow noreferrer\">Optional javadoc</a>.</p>\n"},{"tags":[],"owner":{"account_id":6166039,"reputation":469,"user_id":7210926,"display_name":"Vipul Kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696592332,"creation_date":1696592332,"answer_id":77244134,"question_id":77243773,"body_markdown":"Hi I think you are trying to achieve something like the below -\r\n\r\n    public CarCreateDto updateCar(CarCreateDto updateCarDto, Long id) {\r\n            Car car = carRepository.findById(id)\r\n                    .orElseThrow(() -&gt; new RuntimeException(&quot;Car not found&quot;));\r\n        \r\n            CarMapper.partialUpdate(updateCarDto, car);\r\n            Car updatedCar = carRepository.save(car);\r\n        \r\n            return CarMapper.toDto(updatedCar);\r\n    }\r\n\r\n","title":"Spring Boot Service to update (PUT)","body":"<p>Hi I think you are trying to achieve something like the below -</p>\n<pre><code>public CarCreateDto updateCar(CarCreateDto updateCarDto, Long id) {\n        Car car = carRepository.findById(id)\n                .orElseThrow(() -&gt; new RuntimeException(&quot;Car not found&quot;));\n    \n        CarMapper.partialUpdate(updateCarDto, car);\n        Car updatedCar = carRepository.save(car);\n    \n        return CarMapper.toDto(updatedCar);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13867576,"reputation":120,"user_id":10011738,"display_name":"amir rad"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696598383,"creation_date":1696598383,"answer_id":77244792,"question_id":77243773,"body_markdown":"If you don&#39;t want to return Optional&lt;&gt; type, replace findById with getById this method as a spring boot convention return Car type and then map it to Dto. This can be a simpler update method.","title":"Spring Boot Service to update (PUT)","body":"<p>If you don't want to return Optional&lt;&gt; type, replace findById with getById this method as a spring boot convention return Car type and then map it to Dto. This can be a simpler update method.</p>\n"}],"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1696598383,"creation_date":1696588863,"question_id":77243773,"body_markdown":"I am writing a Spring Boot service layer to update a `Car` entity - but the issue is the added complexity of FindById methods now all returning Optional&lt;&gt; and also integrating the return type being a Dto not an entity.\r\n\r\nI understand Optional&lt;&gt; is good in so far as it forces the developer to handle not found but I intend to add exception handlers later.\r\n\r\n**Service**\r\n\r\n    @Override    \r\n    public CarCreateDto updateCar(CarCreateDto updateCarDto, Long id) {\r\n        Optional&lt;Car&gt; CarOptional = CarRepository.findById(id);\r\n        return CarOptional.map(Car -&gt; {\r\n            CarMapper.partialUpdate(updateCarDto, Car);\r\n            return CarMapper.toDto(CarRepository.save(Car));\r\n            });\r\n    }\r\n\r\nThe issue with the above is that the Optional&lt;&gt; is bubbling up through the Entity to the Dto resulting in a return type of Optional&lt;CarCreateDto&gt; when it expects CarCreateDto.\r\n\r\nHow to best handle this simple update method on service layer and have the method return a Dto type.","title":"Spring Boot Service to update (PUT)","body":"<p>I am writing a Spring Boot service layer to update a <code>Car</code> entity - but the issue is the added complexity of FindById methods now all returning Optional&lt;&gt; and also integrating the return type being a Dto not an entity.</p>\n<p>I understand Optional&lt;&gt; is good in so far as it forces the developer to handle not found but I intend to add exception handlers later.</p>\n<p><strong>Service</strong></p>\n<pre><code>@Override    \npublic CarCreateDto updateCar(CarCreateDto updateCarDto, Long id) {\n    Optional&lt;Car&gt; CarOptional = CarRepository.findById(id);\n    return CarOptional.map(Car -&gt; {\n        CarMapper.partialUpdate(updateCarDto, Car);\n        return CarMapper.toDto(CarRepository.save(Car));\n        });\n}\n</code></pre>\n<p>The issue with the above is that the Optional&lt;&gt; is bubbling up through the Entity to the Dto resulting in a return type of Optional when it expects CarCreateDto.</p>\n<p>How to best handle this simple update method on service layer and have the method return a Dto type.</p>\n"},{"tags":["java","sql","spring"],"comments":[{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1696598629,"post_id":77244789,"comment_id":136177582,"body_markdown":"Just remove `@Transient`.","body":"Just remove <code>@Transient</code>."},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1696599235,"post_id":77244789,"comment_id":136177716,"body_markdown":"The second issue, which should probably be a separate question, is not clear why manual mapping would be needed.  Please clarify (in a new question).","body":"The second issue, which should probably be a separate question, is not clear why manual mapping would be needed.  Please clarify (in a new question)."},{"owner":{"account_id":13298380,"reputation":253,"user_id":9600573,"display_name":"Denis B"},"score":0,"creation_date":1696835268,"post_id":77244789,"comment_id":136198688,"body_markdown":"@Pino Removing `@Transient` is not possible because notification table doesn&#39;t have column &#39;read&#39;; spring is throwing exception","body":"@Pino Removing <code>@Transient</code> is not possible because notification table doesn&#39;t have column &#39;read&#39;; spring is throwing exception"},{"owner":{"account_id":13298380,"reputation":253,"user_id":9600573,"display_name":"Denis B"},"score":0,"creation_date":1696835438,"post_id":77244789,"comment_id":136198723,"body_markdown":"@AndrewS Manual mapping is needed because otherwise field &#39;read&#39; is not populated (read=null)","body":"@AndrewS Manual mapping is needed because otherwise field &#39;read&#39; is not populated (read=null)"},{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1696837896,"post_id":77244789,"comment_id":136199120,"body_markdown":"OK, now I see that your native query contains a calculated column named `read`.  In this case the correct question describing your problem is &quot;How can I populate a calculated column with a native query in JPA?&quot; and it has already been asked.","body":"OK, now I see that your native query contains a calculated column named <code>read</code>.  In this case the correct question describing your problem is &quot;How can I populate a calculated column with a native query in JPA?&quot; and it has already been asked."},{"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"score":0,"creation_date":1696837905,"post_id":77244789,"comment_id":136199122,"body_markdown":"Does this answer your question? [JPA - calculated column as entity class property?](https://stackoverflow.com/questions/11403924/jpa-calculated-column-as-entity-class-property)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/11403924/jpa-calculated-column-as-entity-class-property\">JPA - calculated column as entity class property?</a>"}],"owner":{"account_id":13298380,"reputation":253,"user_id":9600573,"display_name":"Denis B"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1696598353,"creation_date":1696598353,"question_id":77244789,"body_markdown":"I have this Dao class with native SQL query that joins results from 2 tables:\r\n\r\n    public interface NotificationDao extends JpaRepository&lt;Notification, Long&gt; {\r\n    \r\n        String query = &quot;&quot;&quot;\r\n            SELECT n.*, CASE WHEN rn.notification_id IS NOT NULL THEN TRUE ELSE FALSE END as read \r\n            FROM notification n\r\n            LEFT JOIN (\r\n                SELECT DISTINCT notification_id, user_id\r\n                FROM read_notification\r\n                WHERE user_id = ?1 OR user_id IS NULL\r\n            ) rn\r\n            ON n.id = rn.notification_id\r\n            WHERE n.deleted IS FALSE\r\n            AND (n.user_id IS NULL OR n.user_id = ?1) \r\n            OFFSET (?2*?3) ROWS FETCH NEXT ?2 ROWS ONLY \r\n            &quot;&quot;&quot;;\r\n        \r\n        @Query(value = query, nativeQuery = true)\r\n        List&lt;Notification&gt; findAllNotifications(String userId, Integer size, Integer page);\r\n    }\r\n\r\nAnd this entity class:\r\n\r\n    @EqualsAndHashCode(callSuper = true)\r\n    @Entity\r\n    @Data\r\n    @NoArgsConstructor(force = true)\r\n    @Table(name = &quot;notification&quot;)\r\n    public class Notification extends AbstractEntity {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;notification_gen&quot;)\r\n        @SequenceGenerator(name = &quot;notification_gen&quot;, sequenceName = &quot;notification_id_seq&quot;, allocationSize = 1)\r\n        private Long id;\r\n    \r\n        @Enumerated(EnumType.STRING)\r\n        private NotificationType type;\r\n    \r\n        private String text;\r\n    \r\n        @Column(name = &quot;user_id&quot;)\r\n        private String userId;\r\n    \r\n        @Transient\r\n        private boolean read;\r\n    }\r\n\r\nResult of calling `findAllNotifications` doesn&#39;t have values for field `read` (read = null).\r\nI tried SQL statement in console and it works fine; I get table with `read` column populated as expected. What do I need to do to make it work.\r\n\r\nAlso, I have made it work by returning `List&lt;Object[]&gt;` from `NotificationDao` class and mapping results by hand to `List&lt;Notification`:\r\n\r\n    private List&lt;Notification&gt; mapQueryResultsToNotifications(List&lt;Object[]&gt; results) {\r\n            return results.stream()\r\n                    .map(result -&gt; {\r\n                        Notification notification = new Notification();\r\n                        notification.setId((Long) result[0]);\r\n                        String notificationType = result[2] != null ? (String) result[7] : NotificationType.GENERAL.toString();\r\n                        notification.setType(NotificationType.valueOf(notificationType));\r\n                        notification.setText((String) result[1]);\r\n                        notification.setUserId((String) result[3]);\r\n                        notification.setRead((Boolean) result[4]);\r\n                        return notification;\r\n                    })\r\n                    .collect(Collectors.toList());\r\n        }\r\n\r\n    List&lt;Notification&gt; notifications = mapQueryResultsToNotifications(notificationDao.findUnreadNotifications(userId, size, page));\r\n\r\n    @Query(value = query, nativeQuery = true)\r\n        List&lt;Object[]&gt; findAllNotifications(String userId, Integer size, Integer page);\r\n\r\nBut it makes sense to me it could be done cleaner. This way every time I make a change to query I need to change mapping in `mapQueryResultsToNotifications`","title":"Native SQL query with table join doesn&#39;t work with Spring&#39;s JpaRepository","body":"<p>I have this Dao class with native SQL query that joins results from 2 tables:</p>\n<pre><code>public interface NotificationDao extends JpaRepository&lt;Notification, Long&gt; {\n\n    String query = &quot;&quot;&quot;\n        SELECT n.*, CASE WHEN rn.notification_id IS NOT NULL THEN TRUE ELSE FALSE END as read \n        FROM notification n\n        LEFT JOIN (\n            SELECT DISTINCT notification_id, user_id\n            FROM read_notification\n            WHERE user_id = ?1 OR user_id IS NULL\n        ) rn\n        ON n.id = rn.notification_id\n        WHERE n.deleted IS FALSE\n        AND (n.user_id IS NULL OR n.user_id = ?1) \n        OFFSET (?2*?3) ROWS FETCH NEXT ?2 ROWS ONLY \n        &quot;&quot;&quot;;\n    \n    @Query(value = query, nativeQuery = true)\n    List&lt;Notification&gt; findAllNotifications(String userId, Integer size, Integer page);\n}\n</code></pre>\n<p>And this entity class:</p>\n<pre><code>@EqualsAndHashCode(callSuper = true)\n@Entity\n@Data\n@NoArgsConstructor(force = true)\n@Table(name = &quot;notification&quot;)\npublic class Notification extends AbstractEntity {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;notification_gen&quot;)\n    @SequenceGenerator(name = &quot;notification_gen&quot;, sequenceName = &quot;notification_id_seq&quot;, allocationSize = 1)\n    private Long id;\n\n    @Enumerated(EnumType.STRING)\n    private NotificationType type;\n\n    private String text;\n\n    @Column(name = &quot;user_id&quot;)\n    private String userId;\n\n    @Transient\n    private boolean read;\n}\n</code></pre>\n<p>Result of calling <code>findAllNotifications</code> doesn't have values for field <code>read</code> (read = null).\nI tried SQL statement in console and it works fine; I get table with <code>read</code> column populated as expected. What do I need to do to make it work.</p>\n<p>Also, I have made it work by returning <code>List&lt;Object[]&gt;</code> from <code>NotificationDao</code> class and mapping results by hand to <code>List&lt;Notification</code>:</p>\n<pre><code>private List&lt;Notification&gt; mapQueryResultsToNotifications(List&lt;Object[]&gt; results) {\n        return results.stream()\n                .map(result -&gt; {\n                    Notification notification = new Notification();\n                    notification.setId((Long) result[0]);\n                    String notificationType = result[2] != null ? (String) result[7] : NotificationType.GENERAL.toString();\n                    notification.setType(NotificationType.valueOf(notificationType));\n                    notification.setText((String) result[1]);\n                    notification.setUserId((String) result[3]);\n                    notification.setRead((Boolean) result[4]);\n                    return notification;\n                })\n                .collect(Collectors.toList());\n    }\n\nList&lt;Notification&gt; notifications = mapQueryResultsToNotifications(notificationDao.findUnreadNotifications(userId, size, page));\n\n@Query(value = query, nativeQuery = true)\n    List&lt;Object[]&gt; findAllNotifications(String userId, Integer size, Integer page);\n</code></pre>\n<p>But it makes sense to me it could be done cleaner. This way every time I make a change to query I need to change mapping in <code>mapQueryResultsToNotifications</code></p>\n"},{"tags":["java","jms","ibm-mq","spring-jms"],"answers":[{"comments":[{"owner":{"account_id":11094271,"reputation":39,"user_id":8145020,"display_name":"Ginel Guiu"},"score":0,"creation_date":1696590210,"post_id":77243630,"comment_id":136175864,"body_markdown":"I saw that, but if I&#39;m taking the strings from the .yml file, how could I do it?\nI tried with\n- &#39;TYPE1&#39;\n-&#39;TYPE2&#39;\nbut we still get the same error","body":"I saw that, but if I&#39;m taking the strings from the .yml file, how could I do it? I tried with - &#39;TYPE1&#39; -&#39;TYPE2&#39; but we still get the same error"},{"owner":{"account_id":20564657,"reputation":91,"user_id":15094359,"display_name":"Rich"},"score":1,"creation_date":1696593547,"post_id":77243630,"comment_id":136176477,"body_markdown":"I&#39;m not a Spring expert, so I&#39;d be inclined to get the selector @Value into a String or String[] and display it. It will probably need to be manipulated to get it in the correct format.","body":"I&#39;m not a Spring expert, so I&#39;d be inclined to get the selector @Value into a String or String[] and display it. It will probably need to be manipulated to get it in the correct format."}],"tags":[],"owner":{"account_id":20564657,"reputation":91,"user_id":15094359,"display_name":"Rich"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696587322,"creation_date":1696587322,"answer_id":77243630,"question_id":77243416,"body_markdown":"You need the single quotes around the literal strings in the selector. The following would be a valid selector.\r\n\r\n    &quot;channel IN (&#39;TYPE1&#39;,&#39;TYPE2&#39;)&quot;\r\n","title":"IBM MQ JMS selector using a list of values","body":"<p>You need the single quotes around the literal strings in the selector. The following would be a valid selector.</p>\n<pre><code>&quot;channel IN ('TYPE1','TYPE2')&quot;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7206986,"reputation":4285,"user_id":5502306,"display_name":"chughts"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696597916,"creation_date":1696597916,"answer_id":77244747,"question_id":77243416,"body_markdown":"You are injecting a list / array of strings so need:\r\n\r\n```Java\r\n@Value(&quot;${jms.selector}&quot;) \r\nString[] selectors;\r\n```\r\n\r\n`selectors` will be: `[&quot;UK&quot;,&quot;US&quot;,&quot;France&quot;]`\r\n\r\nOnce you have that you can convert it into single string of comma separated quoted strings\r\n\r\n```Java\r\nString selectorString = &quot;&#39;&quot; + String.join(&quot;&#39;,&#39;&quot;, selectors); + &quot;&#39;&quot;\r\n```\r\n\r\n`selectorString` will be: `&quot;&#39;UK&#39;,&#39;US&#39;,&#39;France&#39;&quot;`\r\n","title":"IBM MQ JMS selector using a list of values","body":"<p>You are injecting a list / array of strings so need:</p>\n<pre><code>@Value(&quot;${jms.selector}&quot;) \nString[] selectors;\n</code></pre>\n<p><code>selectors</code> will be: <code>[&quot;UK&quot;,&quot;US&quot;,&quot;France&quot;]</code></p>\n<p>Once you have that you can convert it into single string of comma separated quoted strings</p>\n<pre><code>String selectorString = &quot;'&quot; + String.join(&quot;','&quot;, selectors); + &quot;'&quot;\n</code></pre>\n<p><code>selectorString</code> will be: <code>&quot;'UK','US','France'&quot;</code></p>\n"}],"owner":{"account_id":11094271,"reputation":39,"user_id":8145020,"display_name":"Ginel Guiu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1696597916,"creation_date":1696585460,"question_id":77243416,"body_markdown":"I&#39;m encountering a situation for which I can&#39;t find any other examples on the Internet, and I was wondering if anyone had any idea about this.\r\n\r\nBasically, we need to use a selector a Spring `JmsListener` which looks for the value in a list of strings we defined in the `.yml` file. I saw examples in the IBM documentation which look like this\r\n\r\n&gt; Country IN (&#39;UK&#39;, &#39;US&#39;, &#39;France&#39;) is true for &#39;UK&#39; and false for &#39;Peru&#39;. It is equivalent to the expression (Country = &#39;UK&#39;) OR (Country = &#39;US&#39;) OR (Country = &#39;France&#39;).\r\n\r\nBut we need to load them from the `.yml` file. So far, we tried like this\r\n\r\n```java\r\n@Value(&quot;${jms.selector}&quot;) \r\nString selectors;\r\n....\r\n@JmsListener(destination = ... , container = ... , selector = &quot;channel IN (${jms.selector})&quot;)\r\n```\r\n\r\nand the property in the `.yml` file looks like this\r\n\r\n```\r\njms:\r\n  selector: TYPE1, TYPE2\r\n```\r\n\r\nBut we get the following error\r\n```\r\nSetup of JMS message listener invoker failed for destination &#39;...&#39; - trying to recover. Cause: JMSWMQ2008: Failed to open MQ queue &#39;...&#39;.; nested exception is com.ibm.mq.MQException: JMSCMQ0001: IBM MQ cqll failed with compcode &#39;2&#39; (&#39;MQCC_FAILED&#39;) reason &#39;2459&#39; (&#39;MQRC_SELECTOR_SYNTAX_ERROR&#39;)\r\n```","title":"IBM MQ JMS selector using a list of values","body":"<p>I'm encountering a situation for which I can't find any other examples on the Internet, and I was wondering if anyone had any idea about this.</p>\n<p>Basically, we need to use a selector a Spring <code>JmsListener</code> which looks for the value in a list of strings we defined in the <code>.yml</code> file. I saw examples in the IBM documentation which look like this</p>\n<blockquote>\n<p>Country IN ('UK', 'US', 'France') is true for 'UK' and false for 'Peru'. It is equivalent to the expression (Country = 'UK') OR (Country = 'US') OR (Country = 'France').</p>\n</blockquote>\n<p>But we need to load them from the <code>.yml</code> file. So far, we tried like this</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value(&quot;${jms.selector}&quot;) \nString selectors;\n....\n@JmsListener(destination = ... , container = ... , selector = &quot;channel IN (${jms.selector})&quot;)\n</code></pre>\n<p>and the property in the <code>.yml</code> file looks like this</p>\n<pre><code>jms:\n  selector: TYPE1, TYPE2\n</code></pre>\n<p>But we get the following error</p>\n<pre><code>Setup of JMS message listener invoker failed for destination '...' - trying to recover. Cause: JMSWMQ2008: Failed to open MQ queue '...'.; nested exception is com.ibm.mq.MQException: JMSCMQ0001: IBM MQ cqll failed with compcode '2' ('MQCC_FAILED') reason '2459' ('MQRC_SELECTOR_SYNTAX_ERROR')\n</code></pre>\n"},{"tags":["java","jms"],"comments":[{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1696587607,"post_id":77243634,"comment_id":136175378,"body_markdown":"It sounds like your version of WebLogic is not compatible with Java 17.","body":"It sounds like your version of WebLogic is not compatible with Java 17."},{"owner":{"account_id":8660167,"reputation":1,"user_id":6482932,"display_name":"wouter"},"score":0,"creation_date":1696591851,"post_id":77243634,"comment_id":136176173,"body_markdown":"It is not a weblogic service\nI use it as a Jar in JMETER to perform load tests with","body":"It is not a weblogic service I use it as a Jar in JMETER to perform load tests with"},{"owner":{"account_id":17835,"reputation":303905,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":3,"creation_date":1696592298,"post_id":77243634,"comment_id":136176258,"body_markdown":"Whatever the situation: you&#39;re trying to run some code related to weblogic on Java 17, which is apparently not able to work in that environment. Try to get a newer version of the jar, as the problem has likely since been fixed.","body":"Whatever the situation: you&#39;re trying to run some code related to weblogic on Java 17, which is apparently not able to work in that environment. Try to get a newer version of the jar, as the problem has likely since been fixed."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1696595958,"post_id":77243634,"comment_id":136176939,"body_markdown":"The fact the stacktrace contains classes with the weblogic prefix do suggest you&#39;re using something from WebLogic","body":"The fact the stacktrace contains classes with the weblogic prefix do suggest you&#39;re using something from WebLogic"}],"owner":{"account_id":8660167,"reputation":1,"user_id":6482932,"display_name":"wouter"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696597425,"creation_date":1696587351,"question_id":77243634,"body_markdown":"I was having a client to put messages on a JMS queue in Java 8 using the following code. I anonymized the code a bit.\r\n\r\n```java\r\npublic class Application {\r\n    public static void main(String[] args) throws NamingException, JAXBException  {\r\n        Properties env = new Properties();\r\n        env.put(Context.INITIAL_CONTEXT_FACTORY, &quot;weblogic.jndi.WLInitialContextFactory&quot;);\r\n        env.put(Context.PROVIDER_URL, &quot;xxxxx&quot; );\r\n        InitialContext initialContext = new InitialContext(env);\r\n        ConnectionFactory connectionFactoryIn = (ConnectionFactory)initialContext.lookup(&quot;jms/xxxxxxxxx&quot;);\r\n        Destination destinationIn = (Destination)initialContext.lookup(&quot;jms/xxxxx&quot;);\r\n        ConnectionFactory connectionFactoryOut = (ConnectionFactory)initialContext.lookup(&quot;jms/xxxxxxxxxx&quot;);\r\n        Destination destinationOut = (Destination)initialContext.lookup(&quot;jms/xxxxxxx&quot;);\r\n```\r\n\r\nNow when upgrading to Java 17 I get an error at  \r\n\r\n```java\r\nInitialContext initialContext = new InitialContext(env);\r\n```\r\n\r\nThe error says:  \r\n\r\n```none\r\n&lt;Fri Oct 06 12:05:30 CEST 2023&gt; &lt;Debug&gt; &lt;RJVM&gt; &lt;WL-000517&gt; &lt;&#39;java.io.ObjectInputStream.defaultDataEnd&#39; field not initialized\r\njava.lang.reflect.InaccessibleObjectException: Unable to make field private boolean java.io.ObjectInputStream.defaultDataEnd accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @1bce4f0a\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\r\n\tat weblogic.rjvm.MsgAbbrevInputStream.getField(MsgAbbrevInputStream.java:135)\r\n\tat weblogic.rjvm.MsgAbbrevInputStream.&lt;clinit&gt;(MsgAbbrevInputStream.java:89)\r\n\tat weblogic.rjvm.ConnectionManager.getInputStream(ConnectionManager.java:2005)\r\n\tat weblogic.rjvm.MsgAbbrevJVMConnection.dispatch(MsgAbbrevJVMConnection.java:555)\r\n\tat weblogic.rjvm.t3.client.MuxableSocketT3.dispatch(MuxableSocketT3.java:180)\r\n\tat weblogic.socket.BaseAbstractMuxableSocket.dispatch(BaseAbstractMuxableSocket.java:397)\r\n\tat weblogic.socket.SocketMuxer.readReadySocketOnce(SocketMuxer.java:981)\r\n\tat weblogic.socket.SocketMuxer.readReadySocket(SocketMuxer.java:907)\r\n\tat weblogic.socket.JavaSocketMuxer.processSockets(JavaSocketMuxer.java:385)\r\n\tat weblogic.socket.SocketReaderRequest.run(SocketReaderRequest.java:30)\r\n\tat weblogic.work.ExecuteRequestAdapter.execute(ExecuteRequestAdapter.java:21)\r\n\tat weblogic.kernel.ExecuteThread.execute(ExecuteThread.java:147)\r\n\tat weblogic.kernel.ExecuteThread.run(ExecuteThread.java:119)\r\n```\r\n\r\nI tried adding a `module-info.java` with following content to no avail.  \r\n\r\n```java\r\nmodule berichtenverkeer-utilities {\r\n    requires java.base;\r\n    requires java.reflect;\r\n    requires java.naming;\r\n    opens java.io;\r\n}\r\n```\r\n\r\n","title":"Java 17 java.lang.reflect.InaccessibleObjectException with new InitialContext()","body":"<p>I was having a client to put messages on a JMS queue in Java 8 using the following code. I anonymized the code a bit.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Application {\n    public static void main(String[] args) throws NamingException, JAXBException  {\n        Properties env = new Properties();\n        env.put(Context.INITIAL_CONTEXT_FACTORY, &quot;weblogic.jndi.WLInitialContextFactory&quot;);\n        env.put(Context.PROVIDER_URL, &quot;xxxxx&quot; );\n        InitialContext initialContext = new InitialContext(env);\n        ConnectionFactory connectionFactoryIn = (ConnectionFactory)initialContext.lookup(&quot;jms/xxxxxxxxx&quot;);\n        Destination destinationIn = (Destination)initialContext.lookup(&quot;jms/xxxxx&quot;);\n        ConnectionFactory connectionFactoryOut = (ConnectionFactory)initialContext.lookup(&quot;jms/xxxxxxxxxx&quot;);\n        Destination destinationOut = (Destination)initialContext.lookup(&quot;jms/xxxxxxx&quot;);\n</code></pre>\n<p>Now when upgrading to Java 17 I get an error at</p>\n<pre class=\"lang-java prettyprint-override\"><code>InitialContext initialContext = new InitialContext(env);\n</code></pre>\n<p>The error says:</p>\n<pre class=\"lang-none prettyprint-override\"><code>&lt;Fri Oct 06 12:05:30 CEST 2023&gt; &lt;Debug&gt; &lt;RJVM&gt; &lt;WL-000517&gt; &lt;'java.io.ObjectInputStream.defaultDataEnd' field not initialized\njava.lang.reflect.InaccessibleObjectException: Unable to make field private boolean java.io.ObjectInputStream.defaultDataEnd accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @1bce4f0a\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\n    at weblogic.rjvm.MsgAbbrevInputStream.getField(MsgAbbrevInputStream.java:135)\n    at weblogic.rjvm.MsgAbbrevInputStream.&lt;clinit&gt;(MsgAbbrevInputStream.java:89)\n    at weblogic.rjvm.ConnectionManager.getInputStream(ConnectionManager.java:2005)\n    at weblogic.rjvm.MsgAbbrevJVMConnection.dispatch(MsgAbbrevJVMConnection.java:555)\n    at weblogic.rjvm.t3.client.MuxableSocketT3.dispatch(MuxableSocketT3.java:180)\n    at weblogic.socket.BaseAbstractMuxableSocket.dispatch(BaseAbstractMuxableSocket.java:397)\n    at weblogic.socket.SocketMuxer.readReadySocketOnce(SocketMuxer.java:981)\n    at weblogic.socket.SocketMuxer.readReadySocket(SocketMuxer.java:907)\n    at weblogic.socket.JavaSocketMuxer.processSockets(JavaSocketMuxer.java:385)\n    at weblogic.socket.SocketReaderRequest.run(SocketReaderRequest.java:30)\n    at weblogic.work.ExecuteRequestAdapter.execute(ExecuteRequestAdapter.java:21)\n    at weblogic.kernel.ExecuteThread.execute(ExecuteThread.java:147)\n    at weblogic.kernel.ExecuteThread.run(ExecuteThread.java:119)\n</code></pre>\n<p>I tried adding a <code>module-info.java</code> with following content to no avail.</p>\n<pre class=\"lang-java prettyprint-override\"><code>module berichtenverkeer-utilities {\n    requires java.base;\n    requires java.reflect;\n    requires java.naming;\n    opens java.io;\n}\n</code></pre>\n"},{"tags":["java","apache-kafka","quarkus","smallrye-reactive-messaging","smallrye"],"comments":[{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1613660352,"post_id":66249352,"comment_id":117148846,"body_markdown":"You&#39;ve got the topic name in the producer.send call. What&#39;s the issue?","body":"You&#39;ve got the topic name in the producer.send call. What&#39;s the issue?"},{"owner":{"account_id":18606024,"reputation":59,"user_id":13559628,"display_name":"EbiPenMan"},"score":0,"creation_date":1613751717,"post_id":66249352,"comment_id":117181371,"body_markdown":"@OneCricketeer Thanks for your reply. I use `quarkus-kafka-client` dependency. but I don&#39;t want to use it. I want to use `smallrye-kafka`. I used `quarkus-kafka-client` because I had no choice. `smallrye-kafka` use annotation for the topic name.","body":"@OneCricketeer Thanks for your reply. I use <code>quarkus-kafka-client</code> dependency. but I don&#39;t want to use it. I want to use <code>smallrye-kafka</code>. I used <code>quarkus-kafka-client</code> because I had no choice. <code>smallrye-kafka</code> use annotation for the topic name."},{"owner":{"account_id":18606024,"reputation":59,"user_id":13559628,"display_name":"EbiPenMan"},"score":0,"creation_date":1613752551,"post_id":66249352,"comment_id":117181801,"body_markdown":"@OneCricketeer I&#39;m looking for a way to use `smallrye-kafka` to manually set the topic name without the use of annotations.","body":"@OneCricketeer I&#39;m looking for a way to use <code>smallrye-kafka</code> to manually set the topic name without the use of annotations."},{"owner":{"account_id":2671330,"reputation":183386,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1613829213,"post_id":66249352,"comment_id":117199717,"body_markdown":"I&#39;m not super familiar with the smallrye library, but I think it requires the annotations so isn&#39;t able to dynamically redefine the outgoing channel","body":"I&#39;m not super familiar with the smallrye library, but I think it requires the annotations so isn&#39;t able to dynamically redefine the outgoing channel"},{"owner":{"account_id":10417331,"reputation":147,"user_id":7681004,"display_name":"bdeweer"},"score":3,"creation_date":1615291439,"post_id":66249352,"comment_id":117640372,"body_markdown":"now it&#39;s possible with https://smallrye.io/smallrye-reactive-messaging/smallrye-reactive-messaging/2.5/kafka/kafka.html#_dynamic_topic_names","body":"now it&#39;s possible with <a href=\"https://smallrye.io/smallrye-reactive-messaging/smallrye-reactive-messaging/2.5/kafka/kafka.html#_dynamic_topic_names\" rel=\"nofollow noreferrer\">smallrye.io/smallrye-reactive-messaging/&hellip;</a>"},{"owner":{"account_id":18606024,"reputation":59,"user_id":13559628,"display_name":"EbiPenMan"},"score":0,"creation_date":1653279472,"post_id":66249352,"comment_id":127803697,"body_markdown":"@bertranddeweer thank you. Yes, that&#39;s what I wanted. But your link gives me a 404 error. I put the link with the new version https://smallrye.io/smallrye-reactive-messaging/smallrye-reactive-messaging/3.9/kafka/kafka.html#_dynamic_topic_names","body":"@bertranddeweer thank you. Yes, that&#39;s what I wanted. But your link gives me a 404 error. I put the link with the new version <a href=\"https://smallrye.io/smallrye-reactive-messaging/smallrye-reactive-messaging/3.9/kafka/kafka.html#_dynamic_topic_names\" rel=\"nofollow noreferrer\">smallrye.io/smallrye-reactive-messaging/&hellip;</a>"}],"answers":[{"comments":[{"owner":{"account_id":326179,"reputation":1180,"user_id":647822,"accept_rate":60,"display_name":"apocalypz"},"score":0,"creation_date":1643135144,"post_id":69062279,"comment_id":125258018,"body_markdown":"This is &quot;hacky&quot;, because you are overriding application config. Also not sure, if you can use this &quot;any-time&quot;, because once the outgoing channel is bound to some magic handler object, it wont respond to changes in configuration","body":"This is &quot;hacky&quot;, because you are overriding application config. Also not sure, if you can use this &quot;any-time&quot;, because once the outgoing channel is bound to some magic handler object, it wont respond to changes in configuration"}],"tags":[],"owner":{"account_id":9348817,"reputation":39,"user_id":6939223,"display_name":"Hamed Hatami"},"comment_count":1,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1630874450,"creation_date":1630835563,"answer_id":69062279,"question_id":66249352,"body_markdown":"You&#39;re able to override the value of topic dynamically at startup or at any time you need, but here is a snippet of code to indicates how to override the predefined value of topic:\r\n \r\n```lang-java\r\n@ApplicationScoped\r\npublic class AppLifecycleBean {\r\n\r\n    void onStart(@Observes StartupEvent ev) {               \r\n        System.setProperty(&quot;mp.messaging.outgoing.generated-price.topic&quot;, &quot;example&quot;);\r\n    }\r\n\r\n    void onStop(@Observes ShutdownEvent ev) {               \r\n    }\r\n\r\n}\r\n```\r\n\r\n\r\n","title":"Dynamic Topic Name / Quarkus SmallRye Reactive Messaging Kafka","body":"<p>You're able to override the value of topic dynamically at startup or at any time you need, but here is a snippet of code to indicates how to override the predefined value of topic:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ApplicationScoped\npublic class AppLifecycleBean {\n\n    void onStart(@Observes StartupEvent ev) {               \n        System.setProperty(&quot;mp.messaging.outgoing.generated-price.topic&quot;, &quot;example&quot;);\n    }\n\n    void onStop(@Observes ShutdownEvent ev) {               \n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10562604,"reputation":307,"user_id":7781915,"display_name":"Rahul_Mandhane"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696596853,"creation_date":1696596412,"answer_id":77244562,"question_id":66249352,"body_markdown":"you can use emitter, with metadata the code will look like this\r\n\r\n\r\n```\r\n\r\n    @Channel(&quot;channel-out&quot;)\r\n    Emitter&lt;String&gt; kafkaEventEmitter;\r\n\r\n    public void publishToKafka(String data,String TOPICNAME) {\r\n\r\n        OutgoingKafkaRecordMetadata&lt;?&gt; metadata= OutgoingKafkaRecordMetadata.builder()\r\n                .withTopic(TOPICNAME)\r\n                        .build();\r\n\r\n        kafkaEventEmitter.send(Message.of(data).addMetadata(metadata));\r\n}\r\n\r\n```\r\n\r\nand here is official documentation :https://smallrye.io/smallrye-reactive-messaging/smallrye-reactive-messaging/3.9/kafka/kafka.html#_dynamic_topic_names\r\n","title":"Dynamic Topic Name / Quarkus SmallRye Reactive Messaging Kafka","body":"<p>you can use emitter, with metadata the code will look like this</p>\n<pre><code>\n    @Channel(&quot;channel-out&quot;)\n    Emitter&lt;String&gt; kafkaEventEmitter;\n\n    public void publishToKafka(String data,String TOPICNAME) {\n\n        OutgoingKafkaRecordMetadata&lt;?&gt; metadata= OutgoingKafkaRecordMetadata.builder()\n                .withTopic(TOPICNAME)\n                        .build();\n\n        kafkaEventEmitter.send(Message.of(data).addMetadata(metadata));\n}\n\n</code></pre>\n<p>and here is official documentation :<a href=\"https://smallrye.io/smallrye-reactive-messaging/smallrye-reactive-messaging/3.9/kafka/kafka.html#_dynamic_topic_names\" rel=\"nofollow noreferrer\">https://smallrye.io/smallrye-reactive-messaging/smallrye-reactive-messaging/3.9/kafka/kafka.html#_dynamic_topic_names</a></p>\n"}],"owner":{"account_id":18606024,"reputation":59,"user_id":13559628,"display_name":"EbiPenMan"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2412,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":2,"score":4,"last_activity_date":1696596853,"creation_date":1613593032,"question_id":66249352,"body_markdown":"I want to use this extension: [Quarkus Smallrye Reactive Messaging Kafka]\r\n\r\nBut in my application the name of the topics is not known in advance,  it is specified according to the message received from the user at runtime. How can I specify the topic name and settings related to the topic without annotations and programmatically? (Only for send a message to Kafka -&gt; Produce)\r\n\r\n```\r\n@ApplicationScoped\r\npublic class PriceGenerator {\r\n\r\n    private Random random = new Random();\r\n\r\n    // Don&#39;t want to use this \r\n    // &quot;generated-price&quot; not known at build time\r\n    @Outgoing(&quot;generated-price&quot;)                       \r\n    public Multi&lt;Integer&gt; generate() {                  \r\n        return Multi.createFrom().ticks().every(Duration.ofSeconds(5))\r\n                .onOverflow().drop()\r\n                .map(tick -&gt; random.nextInt(100));\r\n    }\r\n\r\n}\r\n```\r\nor these configs should set at runtime and programmatically\r\n```\r\nmp.messaging.outgoing.generated-price.connector=smallrye-kafka\r\nmp.messaging.outgoing.generated-price.topic=prices\r\nmp.messaging.outgoing.generated-price.value.serializer=org.apache.kafka.common.serialization.IntegerSerializer\r\n\r\n```\r\n\r\nBecause I did not know the way, I used the native Kafka driver\r\n\r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\r\n      &lt;artifactId&gt;quarkus-kafka-client&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n```\r\n\r\n\r\n```\r\nProperties props = new Properties();\r\nprops.put(&quot;bootstrap.servers&quot;, &quot;85.93.89.115:9092&quot;);\r\nprops.put(&quot;acks&quot;, &quot;all&quot;);\r\nprops.put(&quot;retries&quot;, 0);\r\nprops.put(&quot;linger.ms&quot;, 1);\r\nprops.put(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\nprops.put(&quot;value.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\r\nProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(props);\r\nproducer.send(new ProducerRecord&lt;String, String&gt;(topicName.toString(), messageFactory.MessageToString(message)));\r\n\r\n```\r\n\r\n","title":"Dynamic Topic Name / Quarkus SmallRye Reactive Messaging Kafka","body":"<p>I want to use this extension: [Quarkus Smallrye Reactive Messaging Kafka]</p>\n<p>But in my application the name of the topics is not known in advance,  it is specified according to the message received from the user at runtime. How can I specify the topic name and settings related to the topic without annotations and programmatically? (Only for send a message to Kafka -&gt; Produce)</p>\n<pre><code>@ApplicationScoped\npublic class PriceGenerator {\n\n    private Random random = new Random();\n\n    // Don't want to use this \n    // &quot;generated-price&quot; not known at build time\n    @Outgoing(&quot;generated-price&quot;)                       \n    public Multi&lt;Integer&gt; generate() {                  \n        return Multi.createFrom().ticks().every(Duration.ofSeconds(5))\n                .onOverflow().drop()\n                .map(tick -&gt; random.nextInt(100));\n    }\n\n}\n</code></pre>\n<p>or these configs should set at runtime and programmatically</p>\n<pre><code>mp.messaging.outgoing.generated-price.connector=smallrye-kafka\nmp.messaging.outgoing.generated-price.topic=prices\nmp.messaging.outgoing.generated-price.value.serializer=org.apache.kafka.common.serialization.IntegerSerializer\n\n</code></pre>\n<p>Because I did not know the way, I used the native Kafka driver</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;io.quarkus&lt;/groupId&gt;\n      &lt;artifactId&gt;quarkus-kafka-client&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<pre><code>Properties props = new Properties();\nprops.put(&quot;bootstrap.servers&quot;, &quot;85.93.89.115:9092&quot;);\nprops.put(&quot;acks&quot;, &quot;all&quot;);\nprops.put(&quot;retries&quot;, 0);\nprops.put(&quot;linger.ms&quot;, 1);\nprops.put(&quot;key.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\nprops.put(&quot;value.serializer&quot;, &quot;org.apache.kafka.common.serialization.StringSerializer&quot;);\nProducer&lt;String, String&gt; producer = new KafkaProducer&lt;&gt;(props);\nproducer.send(new ProducerRecord&lt;String, String&gt;(topicName.toString(), messageFactory.MessageToString(message)));\n\n</code></pre>\n"},{"tags":["java","android","onclicklistener"],"comments":[{"owner":{"account_id":10055888,"reputation":3162,"user_id":7434090,"display_name":"Gavin Wright"},"score":0,"creation_date":1654907362,"post_id":72580830,"comment_id":128211747,"body_markdown":"Just add your own `Toolbar` to each layout. Trying to work around the built-in one in such a needless pain.","body":"Just add your own <code>Toolbar</code> to each layout. Trying to work around the built-in one in such a needless pain."},{"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"score":0,"creation_date":1654909359,"post_id":72580830,"comment_id":128211934,"body_markdown":"@GavinWright I am using Toolbar but i feel its an issue of action layout","body":"@GavinWright I am using Toolbar but i feel its an issue of action layout"},{"owner":{"account_id":10055888,"reputation":3162,"user_id":7434090,"display_name":"Gavin Wright"},"score":0,"creation_date":1654911940,"post_id":72580830,"comment_id":128212138,"body_markdown":"Which app theme are you using? I&#39;m suggesting that you use one like `Theme.AppCompat.Light.NoActionBar`, and then add the `Toolbar` into your layout manually.","body":"Which app theme are you using? I&#39;m suggesting that you use one like <code>Theme.AppCompat.Light.NoActionBar</code>, and then add the <code>Toolbar</code> into your layout manually."},{"owner":{"account_id":8725718,"reputation":1712,"user_id":6527410,"accept_rate":53,"display_name":"androidXP"},"score":0,"creation_date":1654920530,"post_id":72580830,"comment_id":128212909,"body_markdown":"you are correct the issues comes in your action layout. You are using bell icon in menuitem and also in action layout. So leave menuitem and go with action layout&#39;s `Imageview`  on click listener","body":"you are correct the issues comes in your action layout. You are using bell icon in menuitem and also in action layout. So leave menuitem and go with action layout&#39;s <code>Imageview</code>  on click listener"},{"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"score":0,"creation_date":1654963745,"post_id":72580830,"comment_id":128219815,"body_markdown":"@androidXP can you please show me the code. Thnks","body":"@androidXP can you please show me the code. Thnks"}],"answers":[{"tags":[],"owner":{"account_id":5418581,"reputation":347,"user_id":4313009,"display_name":"Alfredo Tost&#243;n"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696596658,"creation_date":1696596658,"answer_id":77244591,"question_id":72580830,"body_markdown":"I&#39;ve been getting through the same problem for a while with a `MaterialToolbar`.\r\n\r\nAccording to [this post on copyprogramming.com][1], there is a known issue with some toolbar implementations.\r\n\r\nA solution that worked for me was to set the OnClickListener manually on the layout view:\r\n\r\n```kotlin\r\nval toolbar = view.findViewById&lt;MaterialToolbar&gt;(R.id.the_toolbar)\r\nval actionView = toolbar.menu\r\n    .findItem(R.id.notifications_menu_item).actionView\r\nactionView!!.setOnClickListener { view -&gt;\r\n    // Do something\r\n}\r\n```\r\n\r\n  [1]: https://copyprogramming.com/howto/onoptionsitemselected-not-called#onoptionsitemselected-not-called-when-using-actionlayout-sherlockactionbar","title":"Toolbar item (Notification bell with Count overlay) not responding to click","body":"<p>I've been getting through the same problem for a while with a <code>MaterialToolbar</code>.</p>\n<p>According to <a href=\"https://copyprogramming.com/howto/onoptionsitemselected-not-called#onoptionsitemselected-not-called-when-using-actionlayout-sherlockactionbar\" rel=\"nofollow noreferrer\">this post on copyprogramming.com</a>, there is a known issue with some toolbar implementations.</p>\n<p>A solution that worked for me was to set the OnClickListener manually on the layout view:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>val toolbar = view.findViewById&lt;MaterialToolbar&gt;(R.id.the_toolbar)\nval actionView = toolbar.menu\n    .findItem(R.id.notifications_menu_item).actionView\nactionView!!.setOnClickListener { view -&gt;\n    // Do something\n}\n</code></pre>\n"}],"owner":{"account_id":9069534,"reputation":548,"user_id":6753279,"accept_rate":63,"display_name":"Ritu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":161,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696596658,"creation_date":1654906302,"question_id":72580830,"body_markdown":"I have notification bell icon at toolbar with notification count text. It works as expected but when notification count is zero then click on bell icon not working. I think it&#39;s because of action layout which shows count over notification bell but at the same time i think bell icon should take onclick events. I know it&#39;s something i miss but i am able to figure out where the code break. Please help me out.\r\n\r\nMenuitem\r\n\r\n       &lt;item android:id=&quot;@+id/notificationBell&quot;\r\n            android:title=&quot;&quot;\r\n            android:icon=&quot;@drawable/notification&quot;\r\n            app:actionLayout=&quot;@layout/menuitem_notification_count&quot;\r\n            android:visible=&quot;true&quot;\r\n            app:showAsAction=&quot;always&quot;&gt;\r\n        &lt;/item&gt;\r\n\r\nAction Layout - menuitem_notification_count\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;FrameLayout\r\n        style=&quot;?attr/actionButtonStyle&quot;\r\n        xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:clipToPadding=&quot;false&quot;\r\n        android:focusable=&quot;true&quot;&gt;\r\n    \r\n        &lt;ImageView\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_gravity=&quot;center&quot;\r\n            android:src=&quot;@drawable/notification&quot;/&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/cart_badge&quot;\r\n            android:layout_width=&quot;22dp&quot;\r\n            android:layout_height=&quot;22dp&quot;\r\n            android:layout_gravity=&quot;end|top&quot;\r\n            android:layout_marginEnd=&quot;-10dp&quot;\r\n            android:layout_marginTop=&quot;1dp&quot;\r\n            android:padding=&quot;2dp&quot;\r\n            android:background=&quot;@drawable/notification_count_background&quot;\r\n            android:textAlignment=&quot;center&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:textColor=&quot;@android:color/white&quot;\r\n            android:textSize=&quot;12sp&quot;/&gt;\r\n    \r\n    &lt;/FrameLayout&gt;\r\n\r\nonCreateOptionsMenu\r\n\r\n     @Override\r\n        public void onCreateOptionsMenu(final Menu menu, final MenuInflater inflater) {\r\n            super.onCreateOptionsMenu(menu, inflater);\r\n            inflater.inflate(R.menu.menu_notification, menu);\r\n            MenuItem notificationBell = menu.findItem(R.id.notificationBell);\r\n            textNotificationCount = notificationBell.getActionView().findViewById(R.id.cart_badge);\r\n            Typeface fontFace = ResourcesCompat.getFont(getActivity(), R.font.roboto_medium_numbers);\r\n            textNotificationCount.setTypeface(fontFace);\r\n            notificationCount = getNotificationCount();\r\n            int checkCount = Integer.parseInt(notificationCount);\r\n            Log.d(TAG, &quot;run:  Notification Count = &quot; + notificationCount);\r\n            notificationBell.setOnMenuItemClickListener(new MenuItem.OnMenuItemClickListener() {\r\n                @Override\r\n                public boolean onMenuItemClick(MenuItem menuItem) {\r\n                    if (checkCount==0){\r\n    \t\t\t\t\t// THIS TOAST AND LOG NEVER SHOWS \r\n    \t\t\t\t\tLog.d(TAG, &quot;run:  Notification Count Is 0&quot;);\r\n                        Toast.makeText(getActivity(), &quot;No New Notifications.&quot;, Toast.LENGTH_SHORT).show();\r\n                    }\r\n    \r\n                    return false;\r\n                }\r\n            });\r\n            if (checkCount == 0) {\r\n                if (textNotificationCount.getVisibility() != View.GONE) {\r\n                    textNotificationCount.setVisibility(View.GONE);\r\n                }\r\n            } else if (checkCount &gt; 99) {\r\n                //textNotificationCount.setText(String.valueOf(Math.min(notificationCount, 99))+&quot;+&quot;);\r\n                textNotificationCount.setText(&quot;99+&quot;);\r\n                if (textNotificationCount.getVisibility() != View.VISIBLE) {\r\n                    textNotificationCount.setVisibility(View.VISIBLE);\r\n                }\r\n            } else {\r\n                textNotificationCount.setText(notificationCount);\r\n                if (textNotificationCount.getVisibility() != View.VISIBLE) {\r\n                    textNotificationCount.setVisibility(View.VISIBLE);\r\n                }\r\n            }\r\n    \r\n            textNotificationCount.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n    \t\t\t\t// ON CLICK WORKS WHEN COUNT IS NOT ZERO\r\n                }\r\n            });\r\n    \r\n        }","title":"Toolbar item (Notification bell with Count overlay) not responding to click","body":"<p>I have notification bell icon at toolbar with notification count text. It works as expected but when notification count is zero then click on bell icon not working. I think it's because of action layout which shows count over notification bell but at the same time i think bell icon should take onclick events. I know it's something i miss but i am able to figure out where the code break. Please help me out.</p>\n<p>Menuitem</p>\n<pre><code>   &lt;item android:id=&quot;@+id/notificationBell&quot;\n        android:title=&quot;&quot;\n        android:icon=&quot;@drawable/notification&quot;\n        app:actionLayout=&quot;@layout/menuitem_notification_count&quot;\n        android:visible=&quot;true&quot;\n        app:showAsAction=&quot;always&quot;&gt;\n    &lt;/item&gt;\n</code></pre>\n<p>Action Layout - menuitem_notification_count</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;FrameLayout\n    style=&quot;?attr/actionButtonStyle&quot;\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:clipToPadding=&quot;false&quot;\n    android:focusable=&quot;true&quot;&gt;\n\n    &lt;ImageView\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_gravity=&quot;center&quot;\n        android:src=&quot;@drawable/notification&quot;/&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/cart_badge&quot;\n        android:layout_width=&quot;22dp&quot;\n        android:layout_height=&quot;22dp&quot;\n        android:layout_gravity=&quot;end|top&quot;\n        android:layout_marginEnd=&quot;-10dp&quot;\n        android:layout_marginTop=&quot;1dp&quot;\n        android:padding=&quot;2dp&quot;\n        android:background=&quot;@drawable/notification_count_background&quot;\n        android:textAlignment=&quot;center&quot;\n        android:gravity=&quot;center&quot;\n        android:textColor=&quot;@android:color/white&quot;\n        android:textSize=&quot;12sp&quot;/&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>onCreateOptionsMenu</p>\n<pre><code> @Override\n    public void onCreateOptionsMenu(final Menu menu, final MenuInflater inflater) {\n        super.onCreateOptionsMenu(menu, inflater);\n        inflater.inflate(R.menu.menu_notification, menu);\n        MenuItem notificationBell = menu.findItem(R.id.notificationBell);\n        textNotificationCount = notificationBell.getActionView().findViewById(R.id.cart_badge);\n        Typeface fontFace = ResourcesCompat.getFont(getActivity(), R.font.roboto_medium_numbers);\n        textNotificationCount.setTypeface(fontFace);\n        notificationCount = getNotificationCount();\n        int checkCount = Integer.parseInt(notificationCount);\n        Log.d(TAG, &quot;run:  Notification Count = &quot; + notificationCount);\n        notificationBell.setOnMenuItemClickListener(new MenuItem.OnMenuItemClickListener() {\n            @Override\n            public boolean onMenuItemClick(MenuItem menuItem) {\n                if (checkCount==0){\n                    // THIS TOAST AND LOG NEVER SHOWS \n                    Log.d(TAG, &quot;run:  Notification Count Is 0&quot;);\n                    Toast.makeText(getActivity(), &quot;No New Notifications.&quot;, Toast.LENGTH_SHORT).show();\n                }\n\n                return false;\n            }\n        });\n        if (checkCount == 0) {\n            if (textNotificationCount.getVisibility() != View.GONE) {\n                textNotificationCount.setVisibility(View.GONE);\n            }\n        } else if (checkCount &gt; 99) {\n            //textNotificationCount.setText(String.valueOf(Math.min(notificationCount, 99))+&quot;+&quot;);\n            textNotificationCount.setText(&quot;99+&quot;);\n            if (textNotificationCount.getVisibility() != View.VISIBLE) {\n                textNotificationCount.setVisibility(View.VISIBLE);\n            }\n        } else {\n            textNotificationCount.setText(notificationCount);\n            if (textNotificationCount.getVisibility() != View.VISIBLE) {\n                textNotificationCount.setVisibility(View.VISIBLE);\n            }\n        }\n\n        textNotificationCount.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                // ON CLICK WORKS WHEN COUNT IS NOT ZERO\n            }\n        });\n\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot","amazon-sqs"],"answers":[{"tags":[],"owner":{"account_id":350117,"reputation":8663,"user_id":685806,"accept_rate":44,"display_name":"Pino"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696596521,"creation_date":1696594852,"answer_id":77244397,"question_id":77243756,"body_markdown":"If you upgrade Spring-boot you have to upgrade `io.awspring.cloud:spring-cloud-aws-autoconfigure` too: Spring-boot 3.x requires Spring-cloud 3.x.\r\n\r\nThe full compatibility matrix is available at https://github.com/awspring/spring-cloud-aws#compatibility-with-spring-project-versions\r\n\r\nAbout the techniques &quot;to determine why Spring is not including this bean anymore&quot;, generally speaking, you can examine the [autoconfiguration report][1] generated by Spring in debug mode.\r\n\r\n\r\n  [1]: https://stackoverflow.com/q/47101743/685806","title":"Diagnosis of missing Spring AutoConfiguration class","body":"<p>If you upgrade Spring-boot you have to upgrade <code>io.awspring.cloud:spring-cloud-aws-autoconfigure</code> too: Spring-boot 3.x requires Spring-cloud 3.x.</p>\n<p>The full compatibility matrix is available at <a href=\"https://github.com/awspring/spring-cloud-aws#compatibility-with-spring-project-versions\" rel=\"nofollow noreferrer\">https://github.com/awspring/spring-cloud-aws#compatibility-with-spring-project-versions</a></p>\n<p>About the techniques &quot;to determine why Spring is not including this bean anymore&quot;, generally speaking, you can examine the <a href=\"https://stackoverflow.com/q/47101743/685806\">autoconfiguration report</a> generated by Spring in debug mode.</p>\n"}],"owner":{"account_id":2115025,"reputation":384,"user_id":1879536,"display_name":"Martin Bamford"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77244397,"answer_count":1,"score":0,"last_activity_date":1696596521,"creation_date":1696588585,"question_id":77243756,"body_markdown":"I have a `@SpringBootApplication` with an implementation dependency on `io.awspring.cloud:spring-cloud-aws-autoconfigure:2.4.4`, which contains the class `SQSAutoConfiguration`.  This autoconfiguration class kicks in at application start-up and constructs a `SimpleMessageListenerContainer` bean using the `SimpleMessageListenerContainerFactory`\r\n\r\nUpdating from Spring Boot 2.7.12 to 3.1.2, the SQS processing is no longer working.  Debugging the Spring initialisation process, before and after, and using the `gradle dependencies` tool and the IntelliJ Spring Tool Window, I can confirm that whilst the `spring-cloud-aws-autoconfigure` dependency is still present, the `SQSAutoConfiguration` bean is now missing from the Spring context, as a result the `SimpleMessageListenerContainer` bean does not get created and so the SQS processing does not happen.\r\n\r\nMy question is - I have the tools to show me that the auto configure bean is missing after the spring boot version change, but what tools or techniques could I use to determine *why* Spring is not including this bean anymore.    \r\n\r\n","title":"Diagnosis of missing Spring AutoConfiguration class","body":"<p>I have a <code>@SpringBootApplication</code> with an implementation dependency on <code>io.awspring.cloud:spring-cloud-aws-autoconfigure:2.4.4</code>, which contains the class <code>SQSAutoConfiguration</code>.  This autoconfiguration class kicks in at application start-up and constructs a <code>SimpleMessageListenerContainer</code> bean using the <code>SimpleMessageListenerContainerFactory</code></p>\n<p>Updating from Spring Boot 2.7.12 to 3.1.2, the SQS processing is no longer working.  Debugging the Spring initialisation process, before and after, and using the <code>gradle dependencies</code> tool and the IntelliJ Spring Tool Window, I can confirm that whilst the <code>spring-cloud-aws-autoconfigure</code> dependency is still present, the <code>SQSAutoConfiguration</code> bean is now missing from the Spring context, as a result the <code>SimpleMessageListenerContainer</code> bean does not get created and so the SQS processing does not happen.</p>\n<p>My question is - I have the tools to show me that the auto configure bean is missing after the spring boot version change, but what tools or techniques could I use to determine <em>why</em> Spring is not including this bean anymore.</p>\n"},{"tags":["java","authentication","jenkins","jenkins-plugins"],"owner":{"account_id":5735131,"reputation":1080,"user_id":4529546,"accept_rate":75,"display_name":"Richard"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":12,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696596472,"creation_date":1696596472,"question_id":77244566,"body_markdown":"I need to create a Jenkins Authentication plugin that does this:\r\n\r\n - User arrives at the jenkins login page and enters username and password\r\n - plugin receives username and password (SecurityRealm.createSecurityComponents() etc.) and submits the credentials to a third party system that returns an MFA prompt.\r\n - Plugin takes the user to a &#39;page&#39; or in some other way notifies the user of the MFA prompt and allows them to enter their MFA response\r\n - Plugin completes login and returns SecurityComponents etc.\r\n\r\nI think what I&#39;m asking is, what is the best way to intercept the Jenkins login process such that I can provide an MFA challenge page?\r\nDo I need to get involved in Spring Filters or is there some more Jenkins Native way to do this?\r\n\r\n","title":"Jenkins Login Plugin Advice","body":"<p>I need to create a Jenkins Authentication plugin that does this:</p>\n<ul>\n<li>User arrives at the jenkins login page and enters username and password</li>\n<li>plugin receives username and password (SecurityRealm.createSecurityComponents() etc.) and submits the credentials to a third party system that returns an MFA prompt.</li>\n<li>Plugin takes the user to a 'page' or in some other way notifies the user of the MFA prompt and allows them to enter their MFA response</li>\n<li>Plugin completes login and returns SecurityComponents etc.</li>\n</ul>\n<p>I think what I'm asking is, what is the best way to intercept the Jenkins login process such that I can provide an MFA challenge page?\nDo I need to get involved in Spring Filters or is there some more Jenkins Native way to do this?</p>\n"},{"tags":["java","sorting","casting","long-integer"],"comments":[{"owner":{"account_id":27323737,"reputation":1,"user_id":20837016,"display_name":"user20837016"},"score":0,"creation_date":1696594848,"post_id":77244338,"comment_id":136176711,"body_markdown":"i know that the camparator cannot sort primitives but when using it with int,Integer it works fine\nin this case i used it as long,Long","body":"i know that the camparator cannot sort primitives but when using it with int,Integer it works fine in this case i used it as long,Long"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1696595192,"post_id":77244338,"comment_id":136176777,"body_markdown":"`return IntStream.of(nums).max().orElseThrow();` Not sure why you&#39;d want to return `String` though, but trivial to fix if that&#39;s necessary for some reason","body":"<code>return IntStream.of(nums).max().orElseThrow();</code> Not sure why you&#39;d want to return <code>String</code> though, but trivial to fix if that&#39;s necessary for some reason"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1696595293,"post_id":77244338,"comment_id":136176803,"body_markdown":"If you look at [the methods of the Arrays class](https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Arrays.html#method-summary), you will see that there are two `sort` methods that accept `long[]`.  Those methods are `sort(long[])` (which takes one argument) and `sort(long[], int, int)` (which takes three arguments).  There is no sort method which takes a `long[]` and a Comparator, which is what the compiler is telling you.","body":"If you look at <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/util/Arrays.html#method-summary\" rel=\"nofollow noreferrer\">the methods of the Arrays class</a>, you will see that there are two <code>sort</code> methods that accept <code>long[]</code>.  Those methods are <code>sort(long[])</code> (which takes one argument) and <code>sort(long[], int, int)</code> (which takes three arguments).  There is no sort method which takes a <code>long[]</code> and a Comparator, which is what the compiler is telling you."},{"owner":{"account_id":27323737,"reputation":1,"user_id":20837016,"display_name":"user20837016"},"score":0,"creation_date":1696597787,"post_id":77244338,"comment_id":136177385,"body_markdown":"ohk, thanks\ni use this method just for sorting cases like this, i haven&#39;t studied it so it was a creating confusion","body":"ohk, thanks i use this method just for sorting cases like this, i haven&#39;t studied it so it was a creating confusion"}],"owner":{"account_id":27323737,"reputation":1,"user_id":20837016,"display_name":"user20837016"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696595273,"answer_count":0,"score":0,"last_activity_date":1696596434,"creation_date":1696594354,"question_id":77244338,"body_markdown":"I&#39;m trying to sort an array in java using the inbuilt comparator and sort method but it is giving me an error `incompatible type, object cannot be converted to int`\r\n\r\n\r\nI want to sort an array and also want to index changes apply to another array, e.g. sorting marks and id of students, instead if getting a sorted array, i got errors\r\n\r\n\r\n```\r\nimport java.util.Arrays;\r\nimport java.util.Comparator;\r\n\r\nclass Solution\r\n{\r\n    public String largestNumber(int[] nums)\r\n    {\r\n        int n = nums.length;\r\n        long[] max = new long[n];\r\n        long[] id = new long[n];\r\n\r\n        for (int i = 0; i &lt; n; i++)\r\n        {\r\n            id[i] = (long) nums[i];\r\n            max[i] = changeNum(nums[i]); //return type of changeNum is long cant code it because the website wont allow it\r\n        }\r\n\r\n        Arrays.sort(id, Comparator.comparingLong(i -&gt; max[i]));\r\n\r\n        return &quot;&quot;;\r\n    }\r\n\r\n\r\nthat my code and following is the error i got\r\nLine 21: error: no suitable method found for sort(long[],Comparator&lt;Object&gt;)\r\n        Arrays.sort(id, Comparator.comparingLong(i -&gt; max[i]));\r\n              ^\r\n    method Arrays.&lt;T#1&gt;sort(T#1[],Comparator&lt;? super T#1&gt;) is not applicable\r\n      (inference variable T#1 has incompatible bounds\r\n        equality constraints: long\r\n        lower bounds: Object)\r\n    method Arrays.&lt;T#2&gt;sort(T#2[],int,int,Comparator&lt;? super T#2&gt;) is not applicable\r\n      (cannot infer type-variable(s) T#2\r\n        (actual and formal argument lists differ in length))\r\n  where T#1,T#2 are type-variables:\r\n    T#1 extends Object declared in method &lt;T#1&gt;sort(T#1[],Comparator&lt;? super T#1&gt;)\r\n    T#2 extends Object declared in method &lt;T#2&gt;sort(T#2[],int,int,Comparator&lt;? super T#2&gt;)\r\nLine 21: error: incompatible types: Object cannot be converted to int\r\n        Arrays.sort(id, Comparator.comparingLong(i -&gt; max[i]));\r\n                                                          ^\r\n2 errors\r\n```","title":"Type casting and sorting two arrays in java","body":"<p>I'm trying to sort an array in java using the inbuilt comparator and sort method but it is giving me an error <code>incompatible type, object cannot be converted to int</code></p>\n<p>I want to sort an array and also want to index changes apply to another array, e.g. sorting marks and id of students, instead if getting a sorted array, i got errors</p>\n<pre><code>import java.util.Arrays;\nimport java.util.Comparator;\n\nclass Solution\n{\n    public String largestNumber(int[] nums)\n    {\n        int n = nums.length;\n        long[] max = new long[n];\n        long[] id = new long[n];\n\n        for (int i = 0; i &lt; n; i++)\n        {\n            id[i] = (long) nums[i];\n            max[i] = changeNum(nums[i]); //return type of changeNum is long cant code it because the website wont allow it\n        }\n\n        Arrays.sort(id, Comparator.comparingLong(i -&gt; max[i]));\n\n        return &quot;&quot;;\n    }\n\n\nthat my code and following is the error i got\nLine 21: error: no suitable method found for sort(long[],Comparator&lt;Object&gt;)\n        Arrays.sort(id, Comparator.comparingLong(i -&gt; max[i]));\n              ^\n    method Arrays.&lt;T#1&gt;sort(T#1[],Comparator&lt;? super T#1&gt;) is not applicable\n      (inference variable T#1 has incompatible bounds\n        equality constraints: long\n        lower bounds: Object)\n    method Arrays.&lt;T#2&gt;sort(T#2[],int,int,Comparator&lt;? super T#2&gt;) is not applicable\n      (cannot infer type-variable(s) T#2\n        (actual and formal argument lists differ in length))\n  where T#1,T#2 are type-variables:\n    T#1 extends Object declared in method &lt;T#1&gt;sort(T#1[],Comparator&lt;? super T#1&gt;)\n    T#2 extends Object declared in method &lt;T#2&gt;sort(T#2[],int,int,Comparator&lt;? super T#2&gt;)\nLine 21: error: incompatible types: Object cannot be converted to int\n        Arrays.sort(id, Comparator.comparingLong(i -&gt; max[i]));\n                                                          ^\n2 errors\n</code></pre>\n"},{"tags":["java","jax-rs","resteasy"],"answers":[{"tags":[],"owner":{"account_id":22194253,"reputation":48,"user_id":16435873,"display_name":"Ninhache"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696595952,"creation_date":1696595952,"answer_id":77244509,"question_id":77243751,"body_markdown":"I&#39;ve found the problem !!\r\n\r\nIt&#39;s simply because I didnt setup my project properly :\r\nhttps://quarkus.io/guides/security-oidc-bearer-token-authentication\r\n\r\nI can&#39;t send request with a bearer like i&#39;m doing, i&#39;ve to &quot;configure&quot; the project before.. ups !!","title":"JAX-RS cannot handle a Authorization header with a JWT","body":"<p>I've found the problem !!</p>\n<p>It's simply because I didnt setup my project properly :\n<a href=\"https://quarkus.io/guides/security-oidc-bearer-token-authentication\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/security-oidc-bearer-token-authentication</a></p>\n<p>I can't send request with a bearer like i'm doing, i've to &quot;configure&quot; the project before.. ups !!</p>\n"}],"owner":{"account_id":22194253,"reputation":48,"user_id":16435873,"display_name":"Ninhache"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77244509,"answer_count":1,"score":0,"last_activity_date":1696595952,"creation_date":1696588538,"question_id":77243751,"body_markdown":"&lt;br&gt;\r\n*Possibly a duplicate but cannot find it lol*\r\n\r\nI&#39;m using Quarkus with [quarkus-resteasy](https://quarkus.io/guides/resteasy) and I&#39;m trying to implement a simple GET method that will syso the headers, but before that, I needed to create a method that could handle a curl request :\r\n```java\r\n@GET\r\npublic Response foo() {\r\n    return Response.status(200).entity(&quot;Hello world !&quot;).build();\r\n}\r\n```\r\n\r\n```bash\r\ncurl --location &#39;localhost:8080/api/...&#39;&#39;\r\n&gt; Hello world !\r\n```\r\n\r\nEverything was fine until i tried to put an Authorization Header with a bearer :\r\n```bash\r\ncurl --location &#39;localhost:8080/api/...&#39; --header &#39;Authorization: Bearer eyJhbGc....&#39;\r\n&gt;\r\n```\r\nI firstly tough Authorization was a &quot;banned&quot; header for some reason.. but if i try the same request with a different value..\r\n```bash\r\ncurl --location &#39;localhost:8080/api/...&#39; --header &#39;Authorization: foo&#39;\r\n&gt; Hello World !\r\n```\r\nI&#39;m getting an `Hello World !`..\r\n\r\nI&#39;ve also tried to use `@HeaderParam(&quot;Authorization&quot;)` but same problem, with a Bearer I cannot &quot;target&quot; my endpoint\r\nAnyone ever face this problem ? &lt;br&gt;\r\n*May the value is too long.. (1795 chars)*","title":"JAX-RS cannot handle a Authorization header with a JWT","body":"<br>\n*Possibly a duplicate but cannot find it lol*\n<p>I'm using Quarkus with <a href=\"https://quarkus.io/guides/resteasy\" rel=\"nofollow noreferrer\">quarkus-resteasy</a> and I'm trying to implement a simple GET method that will syso the headers, but before that, I needed to create a method that could handle a curl request :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@GET\npublic Response foo() {\n    return Response.status(200).entity(&quot;Hello world !&quot;).build();\n}\n</code></pre>\n<pre class=\"lang-bash prettyprint-override\"><code>curl --location 'localhost:8080/api/...''\n&gt; Hello world !\n</code></pre>\n<p>Everything was fine until i tried to put an Authorization Header with a bearer :</p>\n<pre class=\"lang-bash prettyprint-override\"><code>curl --location 'localhost:8080/api/...' --header 'Authorization: Bearer eyJhbGc....'\n&gt;\n</code></pre>\n<p>I firstly tough Authorization was a &quot;banned&quot; header for some reason.. but if i try the same request with a different value..</p>\n<pre class=\"lang-bash prettyprint-override\"><code>curl --location 'localhost:8080/api/...' --header 'Authorization: foo'\n&gt; Hello World !\n</code></pre>\n<p>I'm getting an <code>Hello World !</code>..</p>\n<p>I've also tried to use <code>@HeaderParam(&quot;Authorization&quot;)</code> but same problem, with a Bearer I cannot &quot;target&quot; my endpoint\nAnyone ever face this problem ? <br>\n<em>May the value is too long.. (1795 chars)</em></p>\n"},{"tags":["java","maven","jenkins","java-8","build"],"comments":[{"owner":{"account_id":112317,"reputation":93949,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1672069277,"post_id":74921640,"comment_id":132216057,"body_markdown":"`1.9`? Or do you mean `19`?","body":"<code>1.9</code>? Or do you mean <code>19</code>?"}],"answers":[{"comments":[{"owner":{"account_id":3116626,"reputation":165,"user_id":2637251,"accept_rate":50,"display_name":"sunnyleevip"},"score":0,"creation_date":1690085570,"post_id":74976557,"comment_id":135302751,"body_markdown":"Must login for a vote!!! Not sure how you found it. But that&#39;s a magic!","body":"Must login for a vote!!! Not sure how you found it. But that&#39;s a magic!"}],"tags":[],"owner":{"account_id":13273539,"reputation":59,"user_id":9583677,"display_name":"Elior Estrin"},"comment_count":1,"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1672611584,"creation_date":1672597538,"answer_id":74976557,"question_id":74921640,"body_markdown":"If was experiencing the same issue, try the following steps to resolve it:\r\n\r\n    \r\n\r\n 1. Go to Jenkins &gt; Manage Plugins.\r\n 2. Locate the plugin &quot;Oracle Java SE Development Kit Installer.&quot;\r\n 3. Click &quot;Uninstall&quot; and confirm the action.\r\n 4. Restart your machine.\r\n    \r\n    \r\n\r\nThis should fix the error. &lt;br&gt;It&#39;s unclear why this particular plugin causes the issue, but removing it seems to resolve it.&lt;br&gt; To prevent the error from returning, make sure not to reinstall the plugin. (ITS WEIRD I KNOW)","title":"Can&#39;t install JDK from Oracle on Jenkins","body":"<p>If was experiencing the same issue, try the following steps to resolve it:</p>\n<ol>\n<li>Go to Jenkins &gt; Manage Plugins.</li>\n<li>Locate the plugin &quot;Oracle Java SE Development Kit Installer.&quot;</li>\n<li>Click &quot;Uninstall&quot; and confirm the action.</li>\n<li>Restart your machine.</li>\n</ol>\n<p>This should fix the error. <br>It's unclear why this particular plugin causes the issue, but removing it seems to resolve it.<br> To prevent the error from returning, make sure not to reinstall the plugin. (ITS WEIRD I KNOW)</p>\n"},{"tags":[],"owner":{"account_id":27955820,"reputation":1,"user_id":21348675,"display_name":"Harish Gupta"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678195254,"creation_date":1678195254,"answer_id":75662506,"question_id":74921640,"body_markdown":"If your using Ubuntu OS. use below steps or Linux use Yum command to install Openjdk1.8*\r\n\r\nThis is known bug currently. Please follow below steps to solve it.\r\n\r\nSSH to jenkins and run below command.\r\n\r\nsudo apt update\r\nsudo apt install openjdk-8-jdk -y\r\n\r\n\r\nLogin to Jenkins\r\n\r\nGo to Manage Jenkins =&gt; Global Tool Configuration\r\n\r\nClick on JDK Installation =&gt; Click on Red Cross mark on the right to remove Any JDK you have\r\n\r\n\r\n\r\nClick on Add JDK =&gt; uncheck Install automatically option\r\n\r\nIn name add below line\r\n\r\nOracleJDK8\r\n\r\n\r\n\r\nIn JAVA_HOME add below line and save.\r\n\r\n/usr/lib/jvm/java-8-openjdk-amd64\r\n","title":"Can&#39;t install JDK from Oracle on Jenkins","body":"<p>If your using Ubuntu OS. use below steps or Linux use Yum command to install Openjdk1.8*</p>\n<p>This is known bug currently. Please follow below steps to solve it.</p>\n<p>SSH to jenkins and run below command.</p>\n<p>sudo apt update\nsudo apt install openjdk-8-jdk -y</p>\n<p>Login to Jenkins</p>\n<p>Go to Manage Jenkins =&gt; Global Tool Configuration</p>\n<p>Click on JDK Installation =&gt; Click on Red Cross mark on the right to remove Any JDK you have</p>\n<p>Click on Add JDK =&gt; uncheck Install automatically option</p>\n<p>In name add below line</p>\n<p>OracleJDK8</p>\n<p>In JAVA_HOME add below line and save.</p>\n<p>/usr/lib/jvm/java-8-openjdk-amd64</p>\n"},{"tags":[],"owner":{"account_id":5193900,"reputation":420,"user_id":5881763,"display_name":"Mahesh Kshirsagar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696595693,"creation_date":1696595693,"answer_id":77244475,"question_id":74921640,"body_markdown":"I found openjdk istalled on my machine at this location\r\n/opt/java/openjdk/bin \r\n\r\nAdd  /opt/java/openjdk/bin in java_home location","title":"Can&#39;t install JDK from Oracle on Jenkins","body":"<p>I found openjdk istalled on my machine at this location\n/opt/java/openjdk/bin</p>\n<p>Add  /opt/java/openjdk/bin in java_home location</p>\n"}],"owner":{"account_id":1357932,"reputation":21,"user_id":1295944,"display_name":"user1295944"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1498,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1696595693,"creation_date":1672067932,"question_id":74921640,"body_markdown":"I defined in Jenkins JDK-&gt;install automatically-&gt; selected JDK version -&gt; I agree\r\n\r\nBut when i ran a build the JDK installation fails with this error\r\n```\r\n [jdk] $ /var/jenkins_home/tools/hudson.model.JDK/jdk/jdk.sh -noregister\r\n/var/jenkins_home/tools/hudson.model.JDK/jdk/jdk.sh: 2: Syntax error: newline unexpected\r\n\r\nCan you please help?\r\n\r\n```\r\nI tried to run a build with JDK+maven \r\nI expected to see the jdk 1.9 being installed running\r\nThanks","title":"Can&#39;t install JDK from Oracle on Jenkins","body":"<p>I defined in Jenkins JDK-&gt;install automatically-&gt; selected JDK version -&gt; I agree</p>\n<p>But when i ran a build the JDK installation fails with this error</p>\n<pre><code> [jdk] $ /var/jenkins_home/tools/hudson.model.JDK/jdk/jdk.sh -noregister\n/var/jenkins_home/tools/hudson.model.JDK/jdk/jdk.sh: 2: Syntax error: newline unexpected\n\nCan you please help?\n\n</code></pre>\n<p>I tried to run a build with JDK+maven\nI expected to see the jdk 1.9 being installed running\nThanks</p>\n"},{"tags":["java","jpa","spring-data-cassandra","graphql-java"],"owner":{"account_id":2985148,"reputation":385,"user_id":2534177,"accept_rate":67,"display_name":"Soumav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696594075,"creation_date":1696356357,"question_id":77224586,"body_markdown":"For the following graphql request:\r\n\r\n    query{testInput(testQueryInput:{xyz:&quot;test&quot;}){\r\n        \tlist{\r\n        \tfield1\r\n        \tfield2\r\n            .\r\n            .\r\n        \t}\r\n        }\r\n    }\r\nI am using ```CassandraRepository```&#39;s findBy* methods.\r\nThis internally forms a ```select * from tbl``` query.\r\n\r\nIs there a way to form the select query with only the the fields that are being passed in the graphql query&#39;s return section, dynamically? (This is to improve the existing performance as the DB has around 300 columns)\r\ne.g:\r\n```select field1, field2 from tbl```...\r\n\r\nI prefer not using the **CqlSession** object and executing the query string.\r\nAny suggestions customizing the CassandraRepository?\r\n","title":"Selecting specific columns for CassandraRepository dynamically as per GrapqhQl query&#39;s return fields","body":"<p>For the following graphql request:</p>\n<pre><code>query{testInput(testQueryInput:{xyz:&quot;test&quot;}){\n        list{\n        field1\n        field2\n        .\n        .\n        }\n    }\n}\n</code></pre>\n<p>I am using <code>CassandraRepository</code>'s findBy* methods.\nThis internally forms a <code>select * from tbl</code> query.</p>\n<p>Is there a way to form the select query with only the the fields that are being passed in the graphql query's return section, dynamically? (This is to improve the existing performance as the DB has around 300 columns)\ne.g:\n<code>select field1, field2 from tbl</code>...</p>\n<p>I prefer not using the <strong>CqlSession</strong> object and executing the query string.\nAny suggestions customizing the CassandraRepository?</p>\n"},{"tags":["java","android","kotlin","android-room"],"comments":[{"owner":{"account_id":4192472,"reputation":1728,"user_id":3434763,"display_name":"TheLibrarian"},"score":0,"creation_date":1696932196,"post_id":77244167,"comment_id":136212756,"body_markdown":"My bad about that one, I misinterpreted an annotation. The other thing ok - just dig through it yourself - the code is open source so you can see whether nested transactions are accounted for. Also if you want that DEEP managing of the database, no one is stopping you.","body":"My bad about that one, I misinterpreted an annotation. The other thing ok - just dig through it yourself - the code is open source so you can see whether nested transactions are accounted for. Also if you want that DEEP managing of the database, no one is stopping you."}],"owner":{"account_id":10465788,"reputation":12056,"user_id":7715250,"accept_rate":74,"display_name":"J. Doe"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1696593814,"creation_date":1696592676,"question_id":77244167,"body_markdown":"When I write a DAO and add an insert method, the implementation can be found in a generated file. An example of this can be the following implementation:\r\n\r\n    @Override\r\n    public Object insert(final DbUser entity, final Continuation&lt;? super Unit&gt; continuation) {\r\n      return CoroutinesRoom.execute(__db, true, new Callable&lt;Unit&gt;() {\r\n        @Override\r\n        public Unit call() throws Exception {\r\n          __db.beginTransaction();\r\n          try {\r\n            __insertionAdapterOfDbUser.insert(entity);\r\n            __db.setTransactionSuccessful();\r\n            return Unit.INSTANCE;\r\n          } finally {\r\n            __db.endTransaction();\r\n          }\r\n        }\r\n      }, continuation);\r\n    }\r\n\r\nHere you can see it ALWAYS starts a transaction. My question is: can I annotate the method or do ANYTHING to remove that transaction? I want to do this because I think it&#39;s unnecessary since I already wrap all the database related stuff inside my own `runInTransaction` block, this just slows down everything.","title":"Does Room optimize out nested transactions? If not, how to remove the begin/endTransaction calls?","body":"<p>When I write a DAO and add an insert method, the implementation can be found in a generated file. An example of this can be the following implementation:</p>\n<pre><code>@Override\npublic Object insert(final DbUser entity, final Continuation&lt;? super Unit&gt; continuation) {\n  return CoroutinesRoom.execute(__db, true, new Callable&lt;Unit&gt;() {\n    @Override\n    public Unit call() throws Exception {\n      __db.beginTransaction();\n      try {\n        __insertionAdapterOfDbUser.insert(entity);\n        __db.setTransactionSuccessful();\n        return Unit.INSTANCE;\n      } finally {\n        __db.endTransaction();\n      }\n    }\n  }, continuation);\n}\n</code></pre>\n<p>Here you can see it ALWAYS starts a transaction. My question is: can I annotate the method or do ANYTHING to remove that transaction? I want to do this because I think it's unnecessary since I already wrap all the database related stuff inside my own <code>runInTransaction</code> block, this just slows down everything.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1551691938,"post_id":54980151,"comment_id":96718629,"body_markdown":"the maven `artifactId`?","body":"the maven <code>artifactId</code>?"}],"answers":[{"comments":[{"owner":{"account_id":14546090,"reputation":1702,"user_id":10506301,"display_name":"Daredevil"},"score":0,"creation_date":1551751041,"post_id":54990692,"comment_id":96745440,"body_markdown":"It works but I noticed if I changed it manually as shown in your picture, it generates a new .iml file for the new name and the old .iml file still remains. What is going on?","body":"It works but I noticed if I changed it manually as shown in your picture, it generates a new .iml file for the new name and the old .iml file still remains. What is going on?"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1551751147,"post_id":54990692,"comment_id":96745463,"body_markdown":"If your project is not Maven or Gradle based, you can delete the old .iml file, otherwise it will be generated again on the next refresh.","body":"If your project is not Maven or Gradle based, you can delete the old .iml file, otherwise it will be generated again on the next refresh."},{"owner":{"account_id":14546090,"reputation":1702,"user_id":10506301,"display_name":"Daredevil"},"score":0,"creation_date":1551751457,"post_id":54990692,"comment_id":96745532,"body_markdown":"That&#39;s what happening to mine, it&#39;s maven based and it keeps generating. How do i stop this?","body":"That&#39;s what happening to mine, it&#39;s maven based and it keeps generating. How do i stop this?"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1551751495,"post_id":54990692,"comment_id":96745542,"body_markdown":"You can&#39;t change it for the Maven project. Module name will be generated from the artifactID.","body":"You can&#39;t change it for the Maven project. Module name will be generated from the artifactID."},{"owner":{"account_id":14546090,"reputation":1702,"user_id":10506301,"display_name":"Daredevil"},"score":0,"creation_date":1551751563,"post_id":54990692,"comment_id":96745557,"body_markdown":"So what&#39;s my next step looking into?","body":"So what&#39;s my next step looking into?"},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1551751607,"post_id":54990692,"comment_id":96745568,"body_markdown":"See the second part of the answer to change the project view mode.","body":"See the second part of the answer to change the project view mode."},{"owner":{"account_id":14546090,"reputation":1702,"user_id":10506301,"display_name":"Daredevil"},"score":0,"creation_date":1551751666,"post_id":54990692,"comment_id":96745579,"body_markdown":"Oh I mean the error for not able to deploy my project.","body":"Oh I mean the error for not able to deploy my project."},{"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1551751700,"post_id":54990692,"comment_id":96745586,"body_markdown":"Please comment in the appropriate answer.","body":"Please comment in the appropriate answer."}],"tags":[],"owner":{"account_id":36734,"reputation":392137,"user_id":104891,"display_name":"CrazyCoder"},"comment_count":8,"down_vote_count":1,"up_vote_count":8,"is_accepted":true,"score":7,"last_activity_date":1551729708,"creation_date":1551729708,"answer_id":54990692,"question_id":54980151,"body_markdown":"It&#39;s the **module name** that can be configured automatically from the `pom.xml` `&lt;artifactId&gt;` property or defined manually:\r\n\r\n[![module name][1]][1]\r\n\r\nYou can switch the view to some other mode like **Packages** or **Project Files** to not display the module names.\r\n\r\n  [1]: https://i.stack.imgur.com/P2uo9.png\r\n\r\n","title":"intellij- how to remove &quot;bracket&quot; from the project name?","body":"<p>It's the <strong>module name</strong> that can be configured automatically from the <code>pom.xml</code> <code>&lt;artifactId&gt;</code> property or defined manually:</p>\n\n<p><a href=\"https://i.stack.imgur.com/P2uo9.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/P2uo9.png\" alt=\"module name\"></a></p>\n\n<p>You can switch the view to some other mode like <strong>Packages</strong> or <strong>Project Files</strong> to not display the module names.</p>\n"},{"tags":[],"owner":{"account_id":6700582,"reputation":21,"user_id":5167192,"display_name":"Joe"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1588376426,"creation_date":1588375945,"answer_id":61552430,"question_id":54980151,"body_markdown":"My approach to resolve this issue was similar to the previous poster. After changing the module name in Project Structure/Modules (command + ;), I was still seeing the old module name within the project name. What made a difference for me was assigning the rootProject.name to the new module name in settings.gradle:\r\n\r\n[changing module name in settings.gradle][1]\r\n\r\n  [1]: https://i.stack.imgur.com/4trfq.png","title":"intellij- how to remove &quot;bracket&quot; from the project name?","body":"<p>My approach to resolve this issue was similar to the previous poster. After changing the module name in Project Structure/Modules (command + ;), I was still seeing the old module name within the project name. What made a difference for me was assigning the rootProject.name to the new module name in settings.gradle:</p>\n\n<p><a href=\"https://i.stack.imgur.com/4trfq.png\" rel=\"nofollow noreferrer\">changing module name in settings.gradle</a></p>\n"},{"tags":[],"owner":{"account_id":6959560,"reputation":1,"user_id":5339501,"display_name":"Rasheed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696592540,"creation_date":1592944177,"answer_id":62543237,"question_id":54980151,"body_markdown":"The name between brackets is the module name accessible in Intellij by pressing:\r\n&lt;kbd&gt;CTRL&lt;/kbd&gt; + &lt;kbd&gt;A&lt;/kbd&gt;","title":"intellij- how to remove &quot;bracket&quot; from the project name?","body":"<p>The name between brackets is the module name accessible in Intellij by pressing:\n<kbd>CTRL</kbd> + <kbd>A</kbd></p>\n"},{"tags":[],"owner":{"account_id":5290550,"reputation":1219,"user_id":4657846,"display_name":"nosaiba darwish"},"comment_count":0,"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1603885625,"creation_date":1603885625,"answer_id":64572193,"question_id":54980151,"body_markdown":"if you did rename project name and module. **just try sync project with gradle. file -&gt; Sync Project with Gradle Files.**\r\nit will update everything and remove that.","title":"intellij- how to remove &quot;bracket&quot; from the project name?","body":"<p>if you did rename project name and module. <strong>just try sync project with gradle. file -&gt; Sync Project with Gradle Files.</strong>\nit will update everything and remove that.</p>\n"},{"comments":[{"owner":{"account_id":1274135,"reputation":1015,"user_id":1229735,"accept_rate":92,"display_name":"yiati"},"score":1,"creation_date":1637042103,"post_id":69020755,"comment_id":123712445,"body_markdown":"Thank you! I&#39;m sure all the other comments were valid for other peoples specific issues, but only this one fixed my case.","body":"Thank you! I&#39;m sure all the other comments were valid for other peoples specific issues, but only this one fixed my case."},{"owner":{"account_id":14249071,"reputation":459,"user_id":10293166,"display_name":"Vishwas Shenoy Alevoor"},"score":0,"creation_date":1637176822,"post_id":69020755,"comment_id":123758989,"body_markdown":"@yiati &#128077;, same in my case. went through few solution but this one was easy &amp; quick solution.","body":"@yiati 👍, same in my case. went through few solution but this one was easy &amp; quick solution."},{"owner":{"account_id":3249826,"reputation":191,"user_id":2740452,"display_name":"Alan N"},"score":1,"creation_date":1661544692,"post_id":69020755,"comment_id":129806083,"body_markdown":"This solution works until you stop and start PHPStorm. Then the bracketed name reappears. I resolved it by going into the main project folder where all my project files were stored, via Windows (in my case), and I removed the .idea folder. I closed and reopened PHPStorm and the bracketed name was gone. It ain&#39;t a pretty solution, but it worked for me","body":"This solution works until you stop and start PHPStorm. Then the bracketed name reappears. I resolved it by going into the main project folder where all my project files were stored, via Windows (in my case), and I removed the .idea folder. I closed and reopened PHPStorm and the bracketed name was gone. It ain&#39;t a pretty solution, but it worked for me"},{"owner":{"account_id":14249071,"reputation":459,"user_id":10293166,"display_name":"Vishwas Shenoy Alevoor"},"score":0,"creation_date":1661660264,"post_id":69020755,"comment_id":129822578,"body_markdown":"@AlanN my case i wasn&#39;t using PHPStrom. Good point remane the .idea dir name itself.&#128077;","body":"@AlanN my case i wasn&#39;t using PHPStrom. Good point remane the .idea dir name itself.👍"}],"tags":[],"owner":{"account_id":14249071,"reputation":459,"user_id":10293166,"display_name":"Vishwas Shenoy Alevoor"},"comment_count":4,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1631832576,"creation_date":1630531769,"answer_id":69020755,"question_id":54980151,"body_markdown":"This is due to `rename` of module not done properly, you or Intellij IDEA would have changed only `directory` name.\r\n\r\nThe easiest way to fix this issue is press `shift key+f6` / Right click on module `Refactor &gt;&gt; Rename` and select `Rename module`, give name same as `Project/directory`.\r\n\r\nImmediately you will see bracket with older module name disappear.\r\n\r\nBelow is snippet and option to choose highlighted:\r\n\r\n[![Rename module][1]][1] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/6yope.png","title":"intellij- how to remove &quot;bracket&quot; from the project name?","body":"<p>This is due to <code>rename</code> of module not done properly, you or Intellij IDEA would have changed only <code>directory</code> name.</p>\n<p>The easiest way to fix this issue is press <code>shift key+f6</code> / Right click on module <code>Refactor &gt;&gt; Rename</code> and select <code>Rename module</code>, give name same as <code>Project/directory</code>.</p>\n<p>Immediately you will see bracket with older module name disappear.</p>\n<p>Below is snippet and option to choose highlighted:</p>\n<p><a href=\"https://i.stack.imgur.com/6yope.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/6yope.png\" alt=\"Rename module\" /></a></p>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1631279182,"post_id":69131719,"comment_id":122186144,"body_markdown":"Please add further details to expand on your answer, such as working code or documentation citations.","body":"Please add further details to expand on your answer, such as working code or documentation citations."}],"tags":[],"owner":{"account_id":4878373,"reputation":9,"user_id":3932814,"display_name":"kciejek"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631274366,"creation_date":1631274366,"answer_id":69131719,"question_id":54980151,"body_markdown":"Besides `&lt;artifactId&gt;` in pom.xml also intellij&#39;s project specific iml file name is taken in sequence(intellij 2020.3). ","title":"intellij- how to remove &quot;bracket&quot; from the project name?","body":"<p>Besides <code>&lt;artifactId&gt;</code> in pom.xml also intellij's project specific iml file name is taken in sequence(intellij 2020.3).</p>\n"},{"comments":[{"owner":{"account_id":1944998,"reputation":1611,"user_id":1750360,"accept_rate":80,"display_name":"pxm"},"score":0,"creation_date":1667945336,"post_id":74326556,"comment_id":131288525,"body_markdown":"Try to add what the change in parameter should be and why. Also any suggested link/docs would be great.","body":"Try to add what the change in parameter should be and why. Also any suggested link/docs would be great."}],"tags":[],"owner":{"account_id":18348909,"reputation":11,"user_id":13363529,"display_name":"Dmitry  Balakirev"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667984698,"creation_date":1667640264,"answer_id":74326556,"question_id":54980151,"body_markdown":"If you are using Gradle in your project and the Rename option in IntellijIDEA didn&#39;t help as in other answers, try to change parameter rootProject.name in file settings.gradle:\r\n\r\n[![settings.gradle here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fLzpG.png","title":"intellij- how to remove &quot;bracket&quot; from the project name?","body":"<p>If you are using Gradle in your project and the Rename option in IntellijIDEA didn't help as in other answers, try to change parameter rootProject.name in file settings.gradle:</p>\n<p><a href=\"https://i.stack.imgur.com/fLzpG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fLzpG.png\" alt=\"settings.gradle here\" /></a></p>\n"}],"owner":{"account_id":14546090,"reputation":1702,"user_id":10506301,"display_name":"Daredevil"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9760,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":54990692,"answer_count":7,"score":14,"last_activity_date":1696592540,"creation_date":1551691489,"question_id":54980151,"body_markdown":"So I have a project in Intellij and I have a tree structure on the left hand side which list out the project name,folders,files etc.\r\n\r\nAnd at the top of the main project, I have my project name in the format of:\r\n\r\n   \r\n\r\n     Project Name [XXX] C:\\Users\\xxx\\xxx\\xxx\\ProjectName\r\n\r\nThe problem is [XXX] where I can&#39;t find any resources as to what it is and I want to rename it or remove it completely. Any idea what do I need to change?\r\n\r\nWhat is that bracket name represents?\r\n\r\nThings I have tried:\r\n\r\nRenaming the .iml file\r\n\r\nRenaming project name in Project Structure","title":"intellij- how to remove &quot;bracket&quot; from the project name?","body":"<p>So I have a project in Intellij and I have a tree structure on the left hand side which list out the project name,folders,files etc.</p>\n\n<p>And at the top of the main project, I have my project name in the format of:</p>\n\n<pre><code> Project Name [XXX] C:\\Users\\xxx\\xxx\\xxx\\ProjectName\n</code></pre>\n\n<p>The problem is [XXX] where I can't find any resources as to what it is and I want to rename it or remove it completely. Any idea what do I need to change?</p>\n\n<p>What is that bracket name represents?</p>\n\n<p>Things I have tried:</p>\n\n<p>Renaming the .iml file</p>\n\n<p>Renaming project name in Project Structure</p>\n"},{"tags":["java","spring-boot","dependency-injection","annotations"],"comments":[{"owner":{"account_id":5121316,"reputation":2890,"user_id":4104760,"accept_rate":36,"display_name":"George"},"score":1,"creation_date":1594828511,"post_id":62918829,"comment_id":111265555,"body_markdown":"You can&#39;t. That&#39;s literally impossible due to the constraints of the java programming language.","body":"You can&#39;t. That&#39;s literally impossible due to the constraints of the java programming language."},{"owner":{"account_id":268691,"reputation":832,"user_id":557576,"accept_rate":67,"display_name":"Shishir Pandey"},"score":0,"creation_date":1594828680,"post_id":62918829,"comment_id":111265658,"body_markdown":"Is it possible to move the variable to another class but still have the object in the interface?","body":"Is it possible to move the variable to another class but still have the object in the interface?"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1696596452,"post_id":62918829,"comment_id":136177071,"body_markdown":"Note that `color` is actually `public static final` i.e. a constant. All variables inside interfaces are `static`. Interfaces shouldn&#39;t (and can&#39;t) have any state.","body":"Note that <code>color</code> is actually <code>public static final</code> i.e. a constant. All variables inside interfaces are <code>static</code>. Interfaces shouldn&#39;t (and can&#39;t) have any state."}],"owner":{"account_id":268691,"reputation":832,"user_id":557576,"accept_rate":67,"display_name":"Shishir Pandey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2209,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696592369,"creation_date":1594828304,"question_id":62918829,"body_markdown":"I have an interface parent class lets call it `IParent` here. There are two child classes that implements this interface `ChildA` and `ChildB`. `ChildA` also extends another class `OtherClass`.\r\n\r\n    public interface IParent{\r\n\r\n        @Value(&quot;${car.color:blue}&quot;)\r\n        public final String color = &quot;blue&quot;;\r\n\r\n        public int doSomething();\r\n    }\r\n\r\n\r\n    public class ChildA extends OtherClass implements IParent{\r\n        public int doSomething();\r\n    \r\n    }\r\n    \r\n    \r\n    public class ChildB implements IParent{\r\n        public int doSomething();\r\n    }\r\n\r\n\r\nI want to use `iParent.color` in my application but I want `color` to be read from a settings file, since the variable is final in an interface it does not work. The reason I cannot move this to the derived classes because I don&#39;t want a type conversion where ever I use the derived classes. Any idea how I can get it to work?","title":"@Value annotation in java interfaces","body":"<p>I have an interface parent class lets call it <code>IParent</code> here. There are two child classes that implements this interface <code>ChildA</code> and <code>ChildB</code>. <code>ChildA</code> also extends another class <code>OtherClass</code>.</p>\n<pre><code>public interface IParent{\n\n    @Value(&quot;${car.color:blue}&quot;)\n    public final String color = &quot;blue&quot;;\n\n    public int doSomething();\n}\n\n\npublic class ChildA extends OtherClass implements IParent{\n    public int doSomething();\n\n}\n\n\npublic class ChildB implements IParent{\n    public int doSomething();\n}\n</code></pre>\n<p>I want to use <code>iParent.color</code> in my application but I want <code>color</code> to be read from a settings file, since the variable is final in an interface it does not work. The reason I cannot move this to the derived classes because I don't want a type conversion where ever I use the derived classes. Any idea how I can get it to work?</p>\n"},{"tags":["java","maven","packaging","uberjar","fatjar"],"comments":[{"owner":{"account_id":203984,"reputation":21757,"user_id":451941,"accept_rate":100,"display_name":"Jeen Broekstra"},"score":2,"creation_date":1480988162,"post_id":11947037,"comment_id":69182050,"body_markdown":"I have also occasionally seen it called a &quot;onejar&quot; or &quot;one-jar&quot;.","body":"I have also occasionally seen it called a &quot;onejar&quot; or &quot;one-jar&quot;."},{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1688081061,"post_id":11947037,"comment_id":135029757,"body_markdown":"&quot;uber&quot; anything - unless in German, a concept named by an illiterate fool.","body":"&quot;uber&quot; anything - unless in German, a concept named by an illiterate fool."}],"answers":[{"comments":[{"owner":{"account_id":3035636,"reputation":164,"user_id":2573806,"accept_rate":100,"display_name":"Bjoern"},"score":0,"creation_date":1425578975,"post_id":11947093,"comment_id":46030644,"body_markdown":"Strange...  I am a german and of course know the word &quot;&#252;ber&quot; and the meaning. But why is it used here in the Maven context? This case it means that one or more things are gathered together and is accessbile via the generated jar.  Unfortunateley this hint didn&#39;t sovle my maven issue ;-)","body":"Strange...  I am a german and of course know the word &quot;&#252;ber&quot; and the meaning. But why is it used here in the Maven context? This case it means that one or more things are gathered together and is accessbile via the generated jar.  Unfortunateley this hint didn&#39;t sovle my maven issue ;-)"},{"owner":{"account_id":279365,"reputation":49126,"user_id":574479,"accept_rate":87,"display_name":"biziclop"},"score":38,"creation_date":1435345057,"post_id":11947093,"comment_id":50179126,"body_markdown":"BTW, `&#252;ber` and `over` are the result of a systematic vocal shift in Old Germanic which can also be observed in these word pairs: `geben/give`, `leben/live`, `haben/have`, `heben/heave` and many more.","body":"BTW, <code>&#252;ber</code> and <code>over</code> are the result of a systematic vocal shift in Old Germanic which can also be observed in these word pairs: <code>geben&#47;give</code>, <code>leben&#47;live</code>, <code>haben&#47;have</code>, <code>heben&#47;heave</code> and many more."},{"owner":{"account_id":1591652,"reputation":466,"user_id":1474858,"accept_rate":67,"display_name":"Veniamin"},"score":0,"creation_date":1480963366,"post_id":11947093,"comment_id":69171596,"body_markdown":"Very smart description: Example [link](https://maven.apache.org/plugins/maven-shade-plugin/)","body":"Very smart description: Example <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow noreferrer\">link</a>"},{"owner":{"account_id":8291,"reputation":860517,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"score":0,"creation_date":1582205579,"post_id":11947093,"comment_id":106702900,"body_markdown":"Given how much grief I&#39;ve gotten about trying to *educate* people, I&#39;ve decided to just remove the stuff that some keep complaining about. I still define uber in the context of the German language but the (somewhat verbose) history lesson is now gone :-)","body":"Given how much grief I&#39;ve gotten about trying to <i>educate</i> people, I&#39;ve decided to just remove the stuff that some keep complaining about. I still define uber in the context of the German language but the (somewhat verbose) history lesson is now gone :-)"},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":7,"creation_date":1609776382,"post_id":11947093,"comment_id":115921326,"body_markdown":"Me: Reads &quot;history lesson&quot;. Me: Opens revision history to read it. :-)","body":"Me: Reads &quot;history lesson&quot;. Me: Opens revision history to read it. :-)"}],"tags":[],"owner":{"account_id":8291,"reputation":860517,"user_id":14860,"accept_rate":100,"display_name":"paxdiablo"},"comment_count":5,"down_vote_count":3,"up_vote_count":509,"is_accepted":true,"score":506,"last_activity_date":1582205473,"creation_date":1344926775,"answer_id":11947093,"question_id":11947037,"body_markdown":"`&#220;ber` is the German word for `above` or `over` (it&#39;s actually cognate with the English `over`).\r\n\r\nHence, in this context, an uber-jar is an &quot;over-jar&quot;, one level up from a simple JAR &lt;sup&gt;(a)&lt;/sup&gt;, defined as one that contains both your package _and_ all its dependencies in one single JAR file. The name can be thought to come from the same stable as ultrageek, superman, hyperspace, and metadata, which all have similar meanings of &quot;beyond the normal&quot;.\r\n\r\nThe advantage is that you can distribute your uber-jar and not care at all whether or not dependencies are installed at the destination, as your uber-jar actually _has_ no dependencies.\r\n\r\nAll the dependencies of your own stuff within the uber-jar are _also_ within that uber-jar. As are all dependencies of those dependencies. And so on.\r\n\r\n---\r\n\r\n&lt;sup&gt;(a)&lt;/sup&gt; I probably *shouldn&#39;t* have to explain what a JAR is to a Java developer but I&#39;ll include it for completeness. It&#39;s a Java archive, basically a single file that typically contains a number of Java class files along with associated metadata and resources.\r\n","title":"What is an uber JAR file?","body":"<p><code>Über</code> is the German word for <code>above</code> or <code>over</code> (it's actually cognate with the English <code>over</code>).</p>\n\n<p>Hence, in this context, an uber-jar is an \"over-jar\", one level up from a simple JAR <sup>(a)</sup>, defined as one that contains both your package <em>and</em> all its dependencies in one single JAR file. The name can be thought to come from the same stable as ultrageek, superman, hyperspace, and metadata, which all have similar meanings of \"beyond the normal\".</p>\n\n<p>The advantage is that you can distribute your uber-jar and not care at all whether or not dependencies are installed at the destination, as your uber-jar actually <em>has</em> no dependencies.</p>\n\n<p>All the dependencies of your own stuff within the uber-jar are <em>also</em> within that uber-jar. As are all dependencies of those dependencies. And so on.</p>\n\n<hr>\n\n<p><sup>(a)</sup> I probably <em>shouldn't</em> have to explain what a JAR is to a Java developer but I'll include it for completeness. It's a Java archive, basically a single file that typically contains a number of Java class files along with associated metadata and resources.</p>\n"},{"tags":[],"owner":{"account_id":1041394,"reputation":5637,"user_id":1047365,"accept_rate":86,"display_name":"Jean-R&#233;my Revy"},"comment_count":0,"down_vote_count":0,"up_vote_count":64,"is_accepted":false,"score":64,"last_activity_date":1688075741,"creation_date":1344953535,"answer_id":11954179,"question_id":11947037,"body_markdown":"[Paxdiablo&#39;s definition][1] is really good.\r\n\r\nIn addition, please consider delivering an uber-jar is sometimes quite useful, if you really want to distribute a software and don&#39;t want customer to download dependencies by themselves. As a drawback, if their own policy don&#39;t allow usage of some library, or if they have to bind some extra-components (slf4j, system compliant libraries, architecture specialize libraries, ...) this will probably increase difficulties for them.\r\n\r\nYou can perform that:\r\n\r\n - basically with [maven-assembly-plugin][2]\r\n - a bit more further with [maven-shade-plugin][3]\r\n\r\nA cleaner solution is to provide their library separately; maven-shade-plugin has a preconfigured descriptor for that. This is not more complicated to do (with [Maven][4] and its plugin).\r\n\r\nFinally, a really good solution is to use an [OSGi][5] Bundle. There are plenty of good tutorials on that :)\r\n\r\nFor further configuration, please read those topics:\r\n\r\n - *https://stackoverflow.com/questions/1746336/should-you-provide-dependent-libraries-in-client-jar*\r\n - *https://stackoverflow.com/questions/2391711/best-practices-in-building-and-deploying-clojure-applications-good-tutorials*\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/11947037/what-is-an-uber-jar-file/11947093#11947093\r\n  [2]: http://maven.apache.org/plugins/maven-assembly-plugin/ &quot;maven-assembly-plugin&quot;\r\n  [3]: http://maven.apache.org/plugins/maven-shade-plugin/ &quot;maven-shade-plugin&quot;\r\n  [4]: https://en.wikipedia.org/wiki/Apache_Maven\r\n  [5]: https://en.wikipedia.org/wiki/OSGi\r\n\r\n","title":"What is an uber JAR file?","body":"<p><a href=\"https://stackoverflow.com/questions/11947037/what-is-an-uber-jar-file/11947093#11947093\">Paxdiablo's definition</a> is really good.</p>\n<p>In addition, please consider delivering an uber-jar is sometimes quite useful, if you really want to distribute a software and don't want customer to download dependencies by themselves. As a drawback, if their own policy don't allow usage of some library, or if they have to bind some extra-components (slf4j, system compliant libraries, architecture specialize libraries, ...) this will probably increase difficulties for them.</p>\n<p>You can perform that:</p>\n<ul>\n<li>basically with <a href=\"http://maven.apache.org/plugins/maven-assembly-plugin/\" rel=\"nofollow noreferrer\" title=\"maven-assembly-plugin\">maven-assembly-plugin</a></li>\n<li>a bit more further with <a href=\"http://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow noreferrer\" title=\"maven-shade-plugin\">maven-shade-plugin</a></li>\n</ul>\n<p>A cleaner solution is to provide their library separately; maven-shade-plugin has a preconfigured descriptor for that. This is not more complicated to do (with <a href=\"https://en.wikipedia.org/wiki/Apache_Maven\" rel=\"nofollow noreferrer\">Maven</a> and its plugin).</p>\n<p>Finally, a really good solution is to use an <a href=\"https://en.wikipedia.org/wiki/OSGi\" rel=\"nofollow noreferrer\">OSGi</a> Bundle. There are plenty of good tutorials on that :)</p>\n<p>For further configuration, please read those topics:</p>\n<ul>\n<li><em><a href=\"https://stackoverflow.com/questions/1746336/should-you-provide-dependent-libraries-in-client-jar\">Should you provide dependent libraries in client jar?</a></em></li>\n<li><em><a href=\"https://stackoverflow.com/questions/2391711/best-practices-in-building-and-deploying-clojure-applications-good-tutorials\">Best practices in building and deploying Clojure applications: good tutorials?</a></em></li>\n</ul>\n"},{"tags":[],"owner":{"display_name":"anon"},"comment_count":0,"down_vote_count":0,"up_vote_count":123,"is_accepted":false,"score":123,"last_activity_date":1696592119,"creation_date":1471577234,"answer_id":39030649,"question_id":11947037,"body_markdown":"From [imagej.net Uber-JAR description](https://imagej.net/develop/uber-jars):\r\n\r\n&gt; An **uber JAR** file is also known as **fat JAR**, i.e., a **JAR file\r\n&gt; with dependencies.**\r\n&gt; \r\n&gt; There are three common methods for constructing an uber JAR file:\r\n&gt; \r\n&gt;  1. **Unshaded:** Unpack all JAR files, and then repack them into a single JAR file. It works with Java&#39;s default class loader. Tools\r\n&gt; [maven-assembly-plugin][1]\r\n&gt;  2. **Shaded:** Same as unshaded, but rename (i.e., &quot;shade&quot;) all **packages** of all dependencies. It works with Java&#39;s default class loader. It avoids some (not all) dependency version clashes. Tools\r\n&gt; [maven-shade-plugin][2]\r\n&gt;  3. **JAR files of JAR files:** The final JAR file contains the other JAR files embedded within. It avoids dependency version clashes. All\r\n&gt; resource files are preserved. Tools: [Eclipse JAR File Exporter][3]\r\n\r\n  [1]: http://maven.apache.org/plugins/maven-assembly-plugin/\r\n  [2]: http://maven.apache.org/plugins/maven-shade-plugin/\r\n  [3]: http://help.eclipse.org/luna/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Freference%2Fref-export-jar.htm\r\n\r\n","title":"What is an uber JAR file?","body":"<p>From <a href=\"https://imagej.net/develop/uber-jars\" rel=\"nofollow noreferrer\">imagej.net Uber-JAR description</a>:</p>\n<blockquote>\n<p>An <strong>uber JAR</strong> file is also known as <strong>fat JAR</strong>, i.e., a <strong>JAR file\nwith dependencies.</strong></p>\n<p>There are three common methods for constructing an uber JAR file:</p>\n<ol>\n<li><strong>Unshaded:</strong> Unpack all JAR files, and then repack them into a single JAR file. It works with Java's default class loader. Tools\n<a href=\"http://maven.apache.org/plugins/maven-assembly-plugin/\" rel=\"nofollow noreferrer\">maven-assembly-plugin</a></li>\n<li><strong>Shaded:</strong> Same as unshaded, but rename (i.e., &quot;shade&quot;) all <strong>packages</strong> of all dependencies. It works with Java's default class loader. It avoids some (not all) dependency version clashes. Tools\n<a href=\"http://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow noreferrer\">maven-shade-plugin</a></li>\n<li><strong>JAR files of JAR files:</strong> The final JAR file contains the other JAR files embedded within. It avoids dependency version clashes. All\nresource files are preserved. Tools: <a href=\"http://help.eclipse.org/luna/index.jsp?topic=%2Forg.eclipse.jdt.doc.user%2Freference%2Fref-export-jar.htm\" rel=\"nofollow noreferrer\">Eclipse JAR File Exporter</a></li>\n</ol>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2613618,"reputation":991,"user_id":2263214,"display_name":"Rasheed"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1493815591,"creation_date":1493815591,"answer_id":43760451,"question_id":11947037,"body_markdown":"A self-contained, executable Java archive. In the case of WildFly Swarm uberjars, it is a single .jar file containing your application, the portions of WildFly required to support it, an internal Maven repository of dependencies, plus a shim to bootstrap it all. [see this][1]\r\n\r\n\r\n  [1]: https://wildfly-swarm.gitbooks.io/wildfly-swarm-users-guide/content/getting-started/concepts.html","title":"What is an uber JAR file?","body":"<p>A self-contained, executable Java archive. In the case of WildFly Swarm uberjars, it is a single .jar file containing your application, the portions of WildFly required to support it, an internal Maven repository of dependencies, plus a shim to bootstrap it all. <a href=\"https://wildfly-swarm.gitbooks.io/wildfly-swarm-users-guide/content/getting-started/concepts.html\" rel=\"nofollow noreferrer\">see this</a></p>\n"},{"comments":[{"owner":{"account_id":19463076,"reputation":166,"user_id":14236974,"display_name":"MySurmise"},"score":0,"creation_date":1671639187,"post_id":61875148,"comment_id":132143133,"body_markdown":"&#39;PLUS the bits needed to run your app “on its own”&#39; \nDoes that mean that I don&#39;t even need Java/JVM installed on the PC?","body":"&#39;PLUS the bits needed to run your app “on its own”&#39;  Does that mean that I don&#39;t even need Java/JVM installed on the PC?"},{"owner":{"account_id":4240628,"reputation":1352,"user_id":3470632,"accept_rate":36,"display_name":"Kevin Wheeler"},"score":0,"creation_date":1687310327,"post_id":61875148,"comment_id":134917526,"body_markdown":"@MySurmise You still need to have Java/JVM/JRE installed.","body":"@MySurmise You still need to have Java/JVM/JRE installed."}],"tags":[],"owner":{"account_id":11110386,"reputation":2865,"user_id":9470346,"display_name":"Mark Han"},"comment_count":2,"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1688064647,"creation_date":1589821863,"answer_id":61875148,"question_id":11947037,"body_markdown":"The different names are just ways of packaging Java applications.\r\n---------------------------------------------\r\n\r\n**Skinny** – Contains *only* the bits you literally type into your code editor, and *nothing* else.\r\n\r\n**Thin** – Contains all of the above *plus* the application’s direct dependencies of your applications (database drivers, utility libraries, etc.).\r\n\r\n**Hollow** – The inverse of thin. It contains only the bits needed to run your application, but does *not* contain the application itself. Basically a pre-packaged “app server” to which you can later deploy your application, in the same style as traditional Java EE application servers, but with important differences.\r\n\r\n**Fat/Uber** – Contains the bit you literally write yourself **plus** the direct dependencies of your application **plus** the bits needed to run your application “on its own”.\r\n\r\nSource: [Article from Dzone][1]\r\n\r\n[![Visual representation of JAR types][2]][2]\r\n\r\nReposted from: *https://stackoverflow.com/questions/19150811/what-is-a-fat-jar/57592130#57592130*\r\n\r\n  [1]: https://dzone.com/articles/the-skinny-on-fat-thin-hollow-and-uber\r\n  [2]: https://i.stack.imgur.com/9iS6A.png\r\n\r\n\r\n","title":"What is an uber JAR file?","body":"<h2>The different names are just ways of packaging Java applications.</h2>\n<p><strong>Skinny</strong> – Contains <em>only</em> the bits you literally type into your code editor, and <em>nothing</em> else.</p>\n<p><strong>Thin</strong> – Contains all of the above <em>plus</em> the application’s direct dependencies of your applications (database drivers, utility libraries, etc.).</p>\n<p><strong>Hollow</strong> – The inverse of thin. It contains only the bits needed to run your application, but does <em>not</em> contain the application itself. Basically a pre-packaged “app server” to which you can later deploy your application, in the same style as traditional Java EE application servers, but with important differences.</p>\n<p><strong>Fat/Uber</strong> – Contains the bit you literally write yourself <strong>plus</strong> the direct dependencies of your application <strong>plus</strong> the bits needed to run your application “on its own”.</p>\n<p>Source: <a href=\"https://dzone.com/articles/the-skinny-on-fat-thin-hollow-and-uber\" rel=\"nofollow noreferrer\">Article from Dzone</a></p>\n<p><a href=\"https://i.stack.imgur.com/9iS6A.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9iS6A.png\" alt=\"Visual representation of JAR types\" /></a></p>\n<p>Reposted from: <em><a href=\"https://stackoverflow.com/questions/19150811/what-is-a-fat-jar/57592130#57592130\">What is a fat JAR?</a></em></p>\n"},{"tags":[],"owner":{"account_id":8748849,"reputation":784,"user_id":6542943,"display_name":"Md. Jamal Uddin"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1593339693,"creation_date":1593339693,"answer_id":62621179,"question_id":11947037,"body_markdown":"According to uber-JAR Documentation Approaches:\r\nThere are three common methods for constructing an uber-JAR:\r\n\r\n**Unshaded** Unpack all JAR files, then repack them into a single JAR.\r\nTools: Maven Assembly Plugin, Classworlds Uberjar\r\n\r\n**Shaded** Same as unshaded, but rename (i.e., &quot;shade&quot;) all packages of all dependencies.\r\nTools: Maven Shade Plugin\r\n\r\n**JAR of JARs** The final JAR file contains the other JAR files embedded within.\r\nTools: Eclipse JAR File Exporter, One-JAR.","title":"What is an uber JAR file?","body":"<p>According to uber-JAR Documentation Approaches:\nThere are three common methods for constructing an uber-JAR:</p>\n<p><strong>Unshaded</strong> Unpack all JAR files, then repack them into a single JAR.\nTools: Maven Assembly Plugin, Classworlds Uberjar</p>\n<p><strong>Shaded</strong> Same as unshaded, but rename (i.e., &quot;shade&quot;) all packages of all dependencies.\nTools: Maven Shade Plugin</p>\n<p><strong>JAR of JARs</strong> The final JAR file contains the other JAR files embedded within.\nTools: Eclipse JAR File Exporter, One-JAR.</p>\n"},{"comments":[{"owner":{"account_id":13039762,"reputation":294,"user_id":9423518,"display_name":"Black Bear"},"score":0,"creation_date":1689602318,"post_id":63539932,"comment_id":135232736,"body_markdown":"the same for gradle","body":"the same for gradle"}],"tags":[],"owner":{"account_id":1448091,"reputation":699,"user_id":1365917,"display_name":"Davide Martorana"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1600101169,"creation_date":1598122145,"answer_id":63539932,"question_id":11947037,"body_markdown":"For Java Developers who use SpringBoot, **&#220;BER/FAT JAR** is *normally* the final result of the `package phase` of maven (or `build task` if you use `gradle`).\r\n\r\nInside the Fat JAR one can find a `META-INF` directory inside which the `MANIFEST.MF` file lives with all the info regarding the Main class. More importantly, at the same level of `META-INF` directory you find the `BOOT-INF` directory inside which the directory `lib` lives and contains all the `.jar` files that are the dependencies of your application.  ","title":"What is an uber JAR file?","body":"<p>For Java Developers who use SpringBoot, <strong>ÜBER/FAT JAR</strong> is <em>normally</em> the final result of the <code>package phase</code> of maven (or <code>build task</code> if you use <code>gradle</code>).</p>\n<p>Inside the Fat JAR one can find a <code>META-INF</code> directory inside which the <code>MANIFEST.MF</code> file lives with all the info regarding the Main class. More importantly, at the same level of <code>META-INF</code> directory you find the <code>BOOT-INF</code> directory inside which the directory <code>lib</code> lives and contains all the <code>.jar</code> files that are the dependencies of your application.</p>\n"}],"owner":{"account_id":1723294,"reputation":5485,"user_id":1578531,"accept_rate":57,"display_name":"Ashay Batwal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":144280,"favorite_count":0,"down_vote_count":0,"up_vote_count":372,"accepted_answer_id":11947093,"answer_count":7,"score":372,"last_activity_date":1696592119,"creation_date":1344926524,"question_id":11947037,"body_markdown":"I am reading Maven documentation and came across the name `uber-jar`.\r\n\r\nWhat does an `uber-jar` mean and what are its features/advantages?\r\n\r\n\r\n","title":"What is an uber JAR file?","body":"<p>I am reading Maven documentation and came across the name <code>uber-jar</code>.</p>\n<p>What does an <code>uber-jar</code> mean and what are its features/advantages?</p>\n"},{"tags":["java","ethereum","blockchain","go-ethereum"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696850930,"post_id":77244064,"comment_id":136201510,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29611836,"reputation":1,"user_id":22694892,"display_name":"TheMajical"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696591642,"creation_date":1696591642,"question_id":77244064,"body_markdown":"I am using an Ethereum full node (geth) to retrieve blocks and transaction data, and my Java + Spring Boot project utilizes Web3j to read this data from the full node and store it in my database. Currently, I am capturing the &#39;value&#39; field, which indicates the amount of ETH transferred in a transaction. However, some Ethereum transactions do not involve the transfer of ETH; instead, they interact with smart contracts or perform other operations. To accurately calculate the value of these internal transactions, I believe I need to use a method called debug_tracetransaction().\r\n\r\nThe issue is that I couldn&#39;t find this specific method within the Web3j library. Can anyone guide me on how to retrieve the value of internal transactions or suggest an alternative approach to achieve this?\r\n\r\nTried to curl debug_tracetransaction() from my full node but got no response.","title":"Looking for a way to extract internalTransactions in a Ethereum Transaction","body":"<p>I am using an Ethereum full node (geth) to retrieve blocks and transaction data, and my Java + Spring Boot project utilizes Web3j to read this data from the full node and store it in my database. Currently, I am capturing the 'value' field, which indicates the amount of ETH transferred in a transaction. However, some Ethereum transactions do not involve the transfer of ETH; instead, they interact with smart contracts or perform other operations. To accurately calculate the value of these internal transactions, I believe I need to use a method called debug_tracetransaction().</p>\n<p>The issue is that I couldn't find this specific method within the Web3j library. Can anyone guide me on how to retrieve the value of internal transactions or suggest an alternative approach to achieve this?</p>\n<p>Tried to curl debug_tracetransaction() from my full node but got no response.</p>\n"},{"tags":["java","tomcat","java-9","java-10"],"answers":[{"comments":[{"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"score":0,"creation_date":1532600607,"post_id":51521125,"comment_id":90040642,"body_markdown":"No, unfortunately it&#39;s the exact same error message as with _com.sun.xml.bind : jaxb-impl : 2.3.0_.","body":"No, unfortunately it&#39;s the exact same error message as with <i>com.sun.xml.bind : jaxb-impl : 2.3.0</i>."},{"owner":{"account_id":4492595,"reputation":2210,"user_id":3653335,"accept_rate":36,"display_name":"tom"},"score":0,"creation_date":1543526978,"post_id":51521125,"comment_id":93962278,"body_markdown":"Ja baby!  Thank you!!!  ...fyi, this with jdk 10, tomcat 9, spring 5.3, hibernate 5.3 etc...  ...and only had this CNF error when tomcat was running as service.  with tomcat as regular java app from cmd line,  &lt;dependency org=&quot;javax.xml.bind&quot; name=&quot;jaxb-api&quot; rev=&quot;2.3.0&quot; /&gt; worked fine....   why?","body":"Ja baby!  Thank you!!!  ...fyi, this with jdk 10, tomcat 9, spring 5.3, hibernate 5.3 etc...  ...and only had this CNF error when tomcat was running as service.  with tomcat as regular java app from cmd line,  &lt;dependency org=&quot;javax.xml.bind&quot; name=&quot;jaxb-api&quot; rev=&quot;2.3.0&quot; /&gt; worked fine....   why?"},{"owner":{"account_id":4492595,"reputation":2210,"user_id":3653335,"accept_rate":36,"display_name":"tom"},"score":0,"creation_date":1543527351,"post_id":51521125,"comment_id":93962432,"body_markdown":"can only edit a comment for 5 minutes?  wow.  SO can do better )).  at least i can ))))).  ....spring 5.3 -&gt; spring 5","body":"can only edit a comment for 5 minutes?  wow.  SO can do better )).  at least i can ))))).  ....spring 5.3 -&gt; spring 5"}],"tags":[],"owner":{"account_id":1426258,"reputation":4514,"user_id":1349691,"accept_rate":72,"display_name":"Philippe Marschall"},"comment_count":3,"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1533007903,"creation_date":1532528021,"answer_id":51521125,"question_id":51518781,"body_markdown":"Try the following and its dependencies. See a [Maven repository for latest version][1].\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.0.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nIt also contains the Java Service Loader descriptors. See [Using JAXB in Java 9+](https://ferstl.github.io/2018/07/19/jaxb-for-java9-and-newer.html)\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime","title":"JAXB not available on Tomcat 9 and Java 9/10","body":"<p>Try the following and its dependencies. See a <a href=\"https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime\" rel=\"noreferrer\">Maven repository for latest version</a>.</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n  &lt;version&gt;2.3.0.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>It also contains the Java Service Loader descriptors. See <a href=\"https://ferstl.github.io/2018/07/19/jaxb-for-java9-and-newer.html\" rel=\"noreferrer\">Using JAXB in Java 9+</a></p>\n"},{"comments":[{"owner":{"account_id":4492595,"reputation":2210,"user_id":3653335,"accept_rate":36,"display_name":"tom"},"score":0,"creation_date":1543527211,"post_id":51723474,"comment_id":93962383,"body_markdown":"random facts here, while interesting, are a great example of &quot;over theoretical&quot; because taken together you are making a statement that is not correct.  actually, what is happening has nothing to do with the jvm.  common sense, tells me, that because &lt;dependency org=&quot;javax.xml.bind&quot; name=&quot;jaxb-api&quot; rev=&quot;2.3.0&quot; /&gt; works with tomcat 9 as reg java app, and does not with tomcat 9 as service, with the same jvm (10), that the issue is a tomcat issue.  Solution bellow worked!!!","body":"random facts here, while interesting, are a great example of &quot;over theoretical&quot; because taken together you are making a statement that is not correct.  actually, what is happening has nothing to do with the jvm.  common sense, tells me, that because &lt;dependency org=&quot;javax.xml.bind&quot; name=&quot;jaxb-api&quot; rev=&quot;2.3.0&quot; /&gt; works with tomcat 9 as reg java app, and does not with tomcat 9 as service, with the same jvm (10), that the issue is a tomcat issue.  Solution bellow worked!!!"},{"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"score":0,"creation_date":1543562361,"post_id":51723474,"comment_id":93971460,"body_markdown":"@tom, that my answer does not apply to your specific situation does not make it incorrect. It just means that our situations were different. You seem to ignore that the solution that worked for you didn&#39;t work for me, whereas this one _did_ solve my problem.","body":"@tom, that my answer does not apply to your specific situation does not make it incorrect. It just means that our situations were different. You seem to ignore that the solution that worked for you didn&#39;t work for me, whereas this one <i>did</i> solve my problem."},{"owner":{"account_id":4492595,"reputation":2210,"user_id":3653335,"accept_rate":36,"display_name":"tom"},"score":0,"creation_date":1543572656,"post_id":51723474,"comment_id":93976126,"body_markdown":"Ah... ...so where is your solution that you said was deleted by curlals?  Can you please add it to your accepted solution  so that it is clear that you resolved/how you finally chose to resolve/ your issue?","body":"Ah... ...so where is your solution that you said was deleted by curlals?  Can you please add it to your accepted solution  so that it is clear that you resolved/how you finally chose to resolve/ your issue?"},{"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"score":0,"creation_date":1543873655,"post_id":51723474,"comment_id":94067229,"body_markdown":"_curlals_ did not provide a solution as much as helping me understand what the problem really was. I added a little but of structure and a sentence explaining which of the three possible solutions we picked.","body":"<i>curlals</i> did not provide a solution as much as helping me understand what the problem really was. I added a little but of structure and a sentence explaining which of the three possible solutions we picked."},{"owner":{"account_id":216108,"reputation":1219,"user_id":471137,"accept_rate":10,"display_name":"troger19"},"score":0,"creation_date":1547247328,"post_id":51723474,"comment_id":95141179,"body_markdown":"@Nicolai , could you please provide details regarding your 3rd option solution? I run into same problem (while using parallelStream()) and the 1.option works, but I would better avoid setting classloader to threads if there is other option. My example project could be find here: https://github.com/troger19/xml_classloader","body":"@Nicolai , could you please provide details regarding your 3rd option solution? I run into same problem (while using parallelStream()) and the 1.option works, but I would better avoid setting classloader to threads if there is other option. My example project could be find here: <a href=\"https://github.com/troger19/xml_classloader\" rel=\"nofollow noreferrer\">github.com/troger19/xml_classloader</a>"},{"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"score":0,"creation_date":1547614784,"post_id":51723474,"comment_id":95247373,"body_markdown":"@troger19: I added a link to the Javadoc of the `newInstance` overload we ended up using. If you need more details, you have to let me know what exactly they need to explain.","body":"@troger19: I added a link to the Javadoc of the <code>newInstance</code> overload we ended up using. If you need more details, you have to let me know what exactly they need to explain."},{"owner":{"display_name":"user1679671"},"score":0,"creation_date":1611829479,"post_id":51723474,"comment_id":116578211,"body_markdown":"@NicolaiParlog why do you think setting TCCL is a bad idea?","body":"@NicolaiParlog why do you think setting TCCL is a bad idea?"},{"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"score":0,"creation_date":1612365351,"post_id":51723474,"comment_id":116744937,"body_markdown":"@KirillBazarov Unfortunately, I don&#39;t remember whether we had specific reasons to come to that conclusion or whether it was just general caution - as you can see, class loader trickery gets complicated really quickly, so I prefer not to touch it if possible.","body":"@KirillBazarov Unfortunately, I don&#39;t remember whether we had specific reasons to come to that conclusion or whether it was just general caution - as you can see, class loader trickery gets complicated really quickly, so I prefer not to touch it if possible."}],"tags":[],"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"comment_count":8,"down_vote_count":1,"up_vote_count":19,"is_accepted":true,"score":18,"last_activity_date":1611947342,"creation_date":1533634457,"answer_id":51723474,"question_id":51518781,"body_markdown":"# Analysis\r\n\r\nFirst some random facts:\r\n\r\n* if not [given a class loader](https://javaee.github.io/jaxb-v2/doc/user-guide/ch06.html#d0e6919), `JAXBContext::newInstance` will use [the thread&#39;s context class loader](https://docs.oracle.com/javase/10/docs/api/java/lang/Thread.html#getContextClassLoader()) when looking for the JAXB implementation - this is the case even if you call `newInstance(Class...)` (one might mistakenly think it uses the provided class instances&#39; loader)\r\n* Tomcat builds [a small class loader hierarchy](https://tomcat.apache.org/tomcat-9.0-doc/class-loader-howto.html) to separate web applications from one another\r\n* by not relying on the module _java.xml.bind_, in Java 9, JAXB classes are not loaded by the bootstrap or system class loader\r\n\r\nSo here&#39;s what happened on Java 8:\r\n\r\n* we don&#39;t pass a class loader to JAXB (oops), so it uses the thread&#39;s context class loader\r\n* our conjecture is that Tomcat does not explicitly set the context class loader and so it will end up being the same one that loaded Tomcat: the system class loader\r\n* that&#39;s dandy because the system class loader sees the entire JDK and hence the JAXB implementation included therein\r\n\r\nJava 9 enters - the piano stops playing and everybody puts down their scotch:\r\n\r\n* we added [JAXB as a regular dependency](https://stackoverflow.com/a/48204154/2525313) and so it is loaded by the web app&#39;s class loader\r\n* just as on Java 8, JAXB searches the system class loader, though, and that one can&#39;t see the app&#39;s loader (only the other way around)\r\n* JAXB fails to find the implementation and goes belly up\r\n\r\n# Solution\r\n\r\nThe solution is to make sure JAXB uses the right class loader. We know of three ways:\r\n\r\n* call `Thread.currentThread().setContextClassLoader(this.getClass().getClassLoader());` but that&#39;s not really a good idea\r\n* create [a context resolver](https://docs.oracle.com/javaee/7/api/javax/ws/rs/ext/ContextResolver.html), but that requires JAX-WS and that feels like replacing one evil with another\r\n* use the package-accepting variant of `JAXBContext::newInstance` ([Javadoc from Java EE 7](https://docs.oracle.com/javaee/7/api/javax/xml/bind/JAXBContext.html#newInstance-java.lang.String-java.lang.ClassLoader-)) that also takes a class loader and pass the correct loader, although that requires some refactoring\r\n\r\nWe used the third option and refactored towards the package-accepting variant of `JAXBContext::newInstance`. Menial work, but fixed the problem.\r\n\r\n# Note\r\n\r\n[User _curlals_](https://stackoverflow.com/users/10141364/curlals) provided the critical piece of information, but deleted their answer. I hope it was not because I asked for a few edits. All credit/karma should go to them! @curlals: If you restore and edit your answer, I will accept and upvote it.","title":"JAXB not available on Tomcat 9 and Java 9/10","body":"<h1>Analysis</h1>\n<p>First some random facts:</p>\n<ul>\n<li>if not <a href=\"https://javaee.github.io/jaxb-v2/doc/user-guide/ch06.html#d0e6919\" rel=\"noreferrer\">given a class loader</a>, <code>JAXBContext::newInstance</code> will use <a href=\"https://docs.oracle.com/javase/10/docs/api/java/lang/Thread.html#getContextClassLoader()\" rel=\"noreferrer\">the thread's context class loader</a> when looking for the JAXB implementation - this is the case even if you call <code>newInstance(Class...)</code> (one might mistakenly think it uses the provided class instances' loader)</li>\n<li>Tomcat builds <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/class-loader-howto.html\" rel=\"noreferrer\">a small class loader hierarchy</a> to separate web applications from one another</li>\n<li>by not relying on the module <em>java.xml.bind</em>, in Java 9, JAXB classes are not loaded by the bootstrap or system class loader</li>\n</ul>\n<p>So here's what happened on Java 8:</p>\n<ul>\n<li>we don't pass a class loader to JAXB (oops), so it uses the thread's context class loader</li>\n<li>our conjecture is that Tomcat does not explicitly set the context class loader and so it will end up being the same one that loaded Tomcat: the system class loader</li>\n<li>that's dandy because the system class loader sees the entire JDK and hence the JAXB implementation included therein</li>\n</ul>\n<p>Java 9 enters - the piano stops playing and everybody puts down their scotch:</p>\n<ul>\n<li>we added <a href=\"https://stackoverflow.com/a/48204154/2525313\">JAXB as a regular dependency</a> and so it is loaded by the web app's class loader</li>\n<li>just as on Java 8, JAXB searches the system class loader, though, and that one can't see the app's loader (only the other way around)</li>\n<li>JAXB fails to find the implementation and goes belly up</li>\n</ul>\n<h1>Solution</h1>\n<p>The solution is to make sure JAXB uses the right class loader. We know of three ways:</p>\n<ul>\n<li>call <code>Thread.currentThread().setContextClassLoader(this.getClass().getClassLoader());</code> but that's not really a good idea</li>\n<li>create <a href=\"https://docs.oracle.com/javaee/7/api/javax/ws/rs/ext/ContextResolver.html\" rel=\"noreferrer\">a context resolver</a>, but that requires JAX-WS and that feels like replacing one evil with another</li>\n<li>use the package-accepting variant of <code>JAXBContext::newInstance</code> (<a href=\"https://docs.oracle.com/javaee/7/api/javax/xml/bind/JAXBContext.html#newInstance-java.lang.String-java.lang.ClassLoader-\" rel=\"noreferrer\">Javadoc from Java EE 7</a>) that also takes a class loader and pass the correct loader, although that requires some refactoring</li>\n</ul>\n<p>We used the third option and refactored towards the package-accepting variant of <code>JAXBContext::newInstance</code>. Menial work, but fixed the problem.</p>\n<h1>Note</h1>\n<p><a href=\"https://stackoverflow.com/users/10141364/curlals\">User <em>curlals</em></a> provided the critical piece of information, but deleted their answer. I hope it was not because I asked for a few edits. All credit/karma should go to them! @curlals: If you restore and edit your answer, I will accept and upvote it.</p>\n"},{"tags":[],"owner":{"account_id":8320526,"reputation":2415,"user_id":6252399,"display_name":"Alan Sereb"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1579726694,"creation_date":1579726694,"answer_id":59868152,"question_id":51518781,"body_markdown":"**TL;DR**\r\n\r\nA simple solution that worked for me is just to upgrade the Hibernate version. \r\n\r\nI used Hibernate with version of `5.2.10.Final` and they rely on JAXB. However, when I replaced undertow with Tomcat, that dependency went missing. I found this issue but none of the answers really solved my issue. When I found that `jpa-model-gen` was the issue I quickly realized, that it is the onlt Hibernate dependecy only that is looking for JAXB. Updating the hibernate version to a higher one solved my problem.","title":"JAXB not available on Tomcat 9 and Java 9/10","body":"<p><strong>TL;DR</strong></p>\n\n<p>A simple solution that worked for me is just to upgrade the Hibernate version. </p>\n\n<p>I used Hibernate with version of <code>5.2.10.Final</code> and they rely on JAXB. However, when I replaced undertow with Tomcat, that dependency went missing. I found this issue but none of the answers really solved my issue. When I found that <code>jpa-model-gen</code> was the issue I quickly realized, that it is the onlt Hibernate dependecy only that is looking for JAXB. Updating the hibernate version to a higher one solved my problem.</p>\n"},{"comments":[{"owner":{"account_id":5290926,"reputation":160,"user_id":4223550,"accept_rate":85,"display_name":"Natlum"},"score":1,"creation_date":1602150364,"post_id":61012531,"comment_id":113631664,"body_markdown":"Thaks for your help. This is what I need it.","body":"Thaks for your help. This is what I need it."},{"owner":{"account_id":9540779,"reputation":67,"user_id":7089106,"accept_rate":100,"display_name":"remes"},"score":1,"creation_date":1644418446,"post_id":61012531,"comment_id":125602026,"body_markdown":"Thanks a lot, saved my life :)","body":"Thanks a lot, saved my life :)"}],"tags":[],"owner":{"account_id":403585,"reputation":2211,"user_id":771431,"accept_rate":70,"display_name":"xonya"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1585918968,"creation_date":1585918968,"answer_id":61012531,"question_id":51518781,"body_markdown":"I had this issue using Spring Boot (version 2.2.6) with embedded Tomcat in a specific part of my code where I used a `CompletableFuture`. The code worked perfectly with Java 8 and related unit test passed in Java 12. The issue appeared only when the application was executed inside Tomcat using Java 11 or 12.\r\n\r\nDebugging the problem I discovered the issue was related to the fact that a different `ClassLoader` is used inside the `CompletableFuture`&#39;s `Runner`.\r\n\r\n```java\r\n// here Thread.currentThread().getContextClassLoader().getClass()\r\n// returns org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader\r\nreturn CompletableFuture.runAsync(() -&gt; {\r\n    // here returns jdk.internal.loader.ClassLoaders$AppClassLoader\r\n});\r\n```\r\n\r\nThe second `ClassLoader` is not able to load the JAXB classes. This behavior seems to be present only with Java 9+, indeed before Java 9 `ForkJoinPool.common()` returned an `Executor` with a `ClassLoader` of your main `Thread`, but after Java 9 it returns an executor with system `ClassLoader`.\r\n\r\nSince the `CompletableFuture.runAsync()` method accepts an `Executor` as second parameter, it is possible to set the desired `Executor` in the code. Here an example of a possible solution.\r\n\r\nFirst, define a proper `ForkJoinWorkerThreadFactory`:\r\n\r\n```java\r\npublic class JaxbForkJoinWorkerThreadFactory implements ForkJoinWorkerThreadFactory {\r\n\r\n    private final ClassLoader classLoader;\r\n\r\n    public JaxbForkJoinWorkerThreadFactory() {\r\n        classLoader = Thread.currentThread().getContextClassLoader();\r\n    }\r\n\r\n    @Override\r\n    public final ForkJoinWorkerThread newThread(ForkJoinPool pool) {\r\n        ForkJoinWorkerThread thread = new JaxbForkJoinWorkerThread(pool);\r\n        thread.setContextClassLoader(classLoader);\r\n        return thread;\r\n    }\r\n\r\n    private static class JaxbForkJoinWorkerThread extends ForkJoinWorkerThread {\r\n\r\n        private JaxbForkJoinWorkerThread(ForkJoinPool pool) {\r\n            super(pool);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThen pass an `Executor` using that factory to the `runAsync()` method:\r\n\r\n```java\r\nreturn CompletableFuture.runAsync(() -&gt; {\r\n    // now you have the right ClassLoader here\r\n}, getJaxbExecutor());\r\n\r\nprivate ForkJoinPool getJaxbExecutor() {\r\n    JaxbForkJoinWorkerThreadFactory threadFactory = new JaxbForkJoinWorkerThreadFactory();\r\n    int parallelism = Math.min(0x7fff /* copied from ForkJoinPool.java */, Runtime.getRuntime().availableProcessors());\r\n    return new ForkJoinPool(parallelism, threadFactory, null, false);\r\n}\r\n```","title":"JAXB not available on Tomcat 9 and Java 9/10","body":"<p>I had this issue using Spring Boot (version 2.2.6) with embedded Tomcat in a specific part of my code where I used a <code>CompletableFuture</code>. The code worked perfectly with Java 8 and related unit test passed in Java 12. The issue appeared only when the application was executed inside Tomcat using Java 11 or 12.</p>\n\n<p>Debugging the problem I discovered the issue was related to the fact that a different <code>ClassLoader</code> is used inside the <code>CompletableFuture</code>'s <code>Runner</code>.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>// here Thread.currentThread().getContextClassLoader().getClass()\n// returns org.springframework.boot.web.embedded.tomcat.TomcatEmbeddedWebappClassLoader\nreturn CompletableFuture.runAsync(() -&gt; {\n    // here returns jdk.internal.loader.ClassLoaders$AppClassLoader\n});\n</code></pre>\n\n<p>The second <code>ClassLoader</code> is not able to load the JAXB classes. This behavior seems to be present only with Java 9+, indeed before Java 9 <code>ForkJoinPool.common()</code> returned an <code>Executor</code> with a <code>ClassLoader</code> of your main <code>Thread</code>, but after Java 9 it returns an executor with system <code>ClassLoader</code>.</p>\n\n<p>Since the <code>CompletableFuture.runAsync()</code> method accepts an <code>Executor</code> as second parameter, it is possible to set the desired <code>Executor</code> in the code. Here an example of a possible solution.</p>\n\n<p>First, define a proper <code>ForkJoinWorkerThreadFactory</code>:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public class JaxbForkJoinWorkerThreadFactory implements ForkJoinWorkerThreadFactory {\n\n    private final ClassLoader classLoader;\n\n    public JaxbForkJoinWorkerThreadFactory() {\n        classLoader = Thread.currentThread().getContextClassLoader();\n    }\n\n    @Override\n    public final ForkJoinWorkerThread newThread(ForkJoinPool pool) {\n        ForkJoinWorkerThread thread = new JaxbForkJoinWorkerThread(pool);\n        thread.setContextClassLoader(classLoader);\n        return thread;\n    }\n\n    private static class JaxbForkJoinWorkerThread extends ForkJoinWorkerThread {\n\n        private JaxbForkJoinWorkerThread(ForkJoinPool pool) {\n            super(pool);\n        }\n    }\n}\n</code></pre>\n\n<p>Then pass an <code>Executor</code> using that factory to the <code>runAsync()</code> method:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>return CompletableFuture.runAsync(() -&gt; {\n    // now you have the right ClassLoader here\n}, getJaxbExecutor());\n\nprivate ForkJoinPool getJaxbExecutor() {\n    JaxbForkJoinWorkerThreadFactory threadFactory = new JaxbForkJoinWorkerThreadFactory();\n    int parallelism = Math.min(0x7fff /* copied from ForkJoinPool.java */, Runtime.getRuntime().availableProcessors());\n    return new ForkJoinPool(parallelism, threadFactory, null, false);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4502479,"reputation":891,"user_id":3660710,"display_name":"Asanka Siriwardena"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1600506090,"creation_date":1600505767,"answer_id":63966985,"question_id":51518781,"body_markdown":"I too have experienced with the similar issue while using JAXB, i.e \r\n\r\n&gt; Implementation of JAXB-API has not been found\r\n\r\nwhich occurs randomly and it was harder to reproduce. Fortunately I had found a system environment where the above error is continuous, while other environments it worked smoothly.\r\n\r\n\r\nObservation\r\n-----------\r\n   With the extensive research into this issue, I found a **classloader** issue that causes this problem. Further I noticed, \r\n\r\n - JAXB implementation is visible to **ParallelWebappClassLoader**, a classloader present in Tomcat server\r\n - **Sometimes** it is not visible to jdk internal classloaders like AppClassLoader,(Even though it was visible for many cases)\r\n\r\nSolution\r\n--------\r\n   JAXBContext object is thread-safe (while marshaller/unmarshaller is not) and can be re-used once initiated. Therefore,\r\n\r\n 1. I found a thread that works with ParallelWebappClassLoader (i.e that given thread&#39;s context class loader is ParallelWebappClassLoader) and created JAXBContext there and stored in a map for later usage\r\n 2. Retrieved the stored JAXBContext whenever necessary (other threads that uses different class loaders) and carried out marshall/unmarshall tasks. That saved the day for me :)\r\n\r\n \r\n\r\n \r\n\r\n\r\n\r\n","title":"JAXB not available on Tomcat 9 and Java 9/10","body":"<p>I too have experienced with the similar issue while using JAXB, i.e</p>\n<blockquote>\n<p>Implementation of JAXB-API has not been found</p>\n</blockquote>\n<p>which occurs randomly and it was harder to reproduce. Fortunately I had found a system environment where the above error is continuous, while other environments it worked smoothly.</p>\n<h2>Observation</h2>\n<p>With the extensive research into this issue, I found a <strong>classloader</strong> issue that causes this problem. Further I noticed,</p>\n<ul>\n<li>JAXB implementation is visible to <strong>ParallelWebappClassLoader</strong>, a classloader present in Tomcat server</li>\n<li><strong>Sometimes</strong> it is not visible to jdk internal classloaders like AppClassLoader,(Even though it was visible for many cases)</li>\n</ul>\n<h2>Solution</h2>\n<p>JAXBContext object is thread-safe (while marshaller/unmarshaller is not) and can be re-used once initiated. Therefore,</p>\n<ol>\n<li>I found a thread that works with ParallelWebappClassLoader (i.e that given thread's context class loader is ParallelWebappClassLoader) and created JAXBContext there and stored in a map for later usage</li>\n<li>Retrieved the stored JAXBContext whenever necessary (other threads that uses different class loaders) and carried out marshall/unmarshall tasks. That saved the day for me :)</li>\n</ol>\n"},{"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696935317,"post_id":77244059,"comment_id":136213364,"body_markdown":"As it’s currently written, your answer is unclear. Please [edit] to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers [in the help center](/help/how-to-answer).","body":"As it’s currently written, your answer is unclear. Please <a href=\"https://stackoverflow.com/posts/77244059/edit\">edit</a> to add additional details that will help others understand how this addresses the question asked. You can find more information on how to write good answers <a href=\"/help/how-to-answer\">in the help center</a>."}],"tags":[],"owner":{"account_id":29611960,"reputation":1,"user_id":22694993,"display_name":"gnangoma"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696591587,"creation_date":1696591498,"answer_id":77244059,"question_id":51518781,"body_markdown":"I have been struggling with this for several days. Thanks for three suggested solutions. However, my requirements dictate that I should not change any source code. I found a very simple solution. Basically, after I deploy my war file on Tomcat10 application server, I copied the jar file jaxb-impl.2.2.6 into WEB-INF\\classes. Explode the jar file from there using the command &quot;jar -xvf jaxb-impl.2.2.6&quot; and HOORAY, my 5 days nightmare trying to run my old JAXB project on  the Tomcat 10 ended and the project started to WORK! \r\n\r\nSo, piano that stop playing, started playing again. I love this solution since I do not need to change any code. As part of improvement, I will now explode the jar file during deployment of the war file.","title":"JAXB not available on Tomcat 9 and Java 9/10","body":"<p>I have been struggling with this for several days. Thanks for three suggested solutions. However, my requirements dictate that I should not change any source code. I found a very simple solution. Basically, after I deploy my war file on Tomcat10 application server, I copied the jar file jaxb-impl.2.2.6 into WEB-INF\\classes. Explode the jar file from there using the command &quot;jar -xvf jaxb-impl.2.2.6&quot; and HOORAY, my 5 days nightmare trying to run my old JAXB project on  the Tomcat 10 ended and the project started to WORK!</p>\n<p>So, piano that stop playing, started playing again. I love this solution since I do not need to change any code. As part of improvement, I will now explode the jar file during deployment of the war file.</p>\n"}],"owner":{"account_id":2973802,"reputation":48688,"user_id":2525313,"accept_rate":88,"display_name":"Nicolai Parlog"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17585,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":51723474,"answer_count":6,"score":32,"last_activity_date":1696591587,"creation_date":1532521313,"question_id":51518781,"body_markdown":"**TLDR**: On Java 9/10, a web app in Tomcat has no access to JAXB even though its reference implementation is present on the class path.\r\n\r\n**Edit**: No, this is not a duplicate of [How to resolve java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException in Java 9](https://stackoverflow.com/q/43574426/2525313) - as you can tell by the _What I tried_ section, I already tried the proposed solutions.\r\n\r\n# The Situation\r\n\r\nWe have a web app that runs on Tomcat and depends on JAXB. During our migration to Java 9 we opted for adding [the JAXB reference implementation as a regular dependency](https://stackoverflow.com/a/48204154/2525313).\r\n\r\nEverything worked when launching the app from the IDE [with embedded Tomcat](https://tomcat.apache.org/tomcat-9.0-doc/api/org/apache/catalina/startup/Tomcat.html), but when running it on a real Tomcat instance, I get this error:\r\n\r\n\tCaused by: java.lang.RuntimeException: javax.xml.bind.JAXBException:\r\n\t\tImplementation of JAXB-API has not been found on module path or classpath.\r\n\t - with linked exception:\r\n\t[java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory]\r\n\t\tat [... our-code ...]\r\n\tCaused by: javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.\r\n\t\tat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:278) ~[jaxb-api-2.3.0.jar:2.3.0]\r\n\t\tat javax.xml.bind.ContextFinder.find(ContextFinder.java:421) ~[jaxb-api-2.3.0.jar:2.3.0]\r\n\t\tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721) ~[jaxb-api-2.3.0.jar:2.3.0]\r\n\t\tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662) ~[jaxb-api-2.3.0.jar:2.3.0]\r\n\t\tat [... our-code ...]\r\n\tCaused by: java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory\r\n\t\tat jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582) ~[?:?]\r\n\t\tat jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:190) ~[?:?]\r\n\t\tat java.lang.ClassLoader.loadClass(ClassLoader.java:499) ~[?:?]\r\n\t\tat javax.xml.bind.ServiceLoaderUtil.nullSafeLoadClass(ServiceLoaderUtil.java:122) ~[jaxb-api-2.3.0.jar:2.3.0]\r\n\t\tat javax.xml.bind.ServiceLoaderUtil.safeLoadClass(ServiceLoaderUtil.java:155) ~[jaxb-api-2.3.0.jar:2.3.0]\r\n\t\tat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:276) ~[jaxb-api-2.3.0.jar:2.3.0]\r\n\t\tat javax.xml.bind.ContextFinder.find(ContextFinder.java:421) ~[jaxb-api-2.3.0.jar:2.3.0]\r\n\t\tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721) ~[jaxb-api-2.3.0.jar:2.3.0]\r\n\t\tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662) ~[jaxb-api-2.3.0.jar:2.3.0]\r\n\t\tat [... our-code ...]\r\n\r\nNote:\r\n\r\n&gt; Implementation of JAXB-API has not been found on module path or classpath.\r\n\r\nThese are the relevant files in `webapps/$app/WEB-INF/lib`:\r\n\r\n\tjaxb-api-2.3.0.jar\r\n\tjaxb-core-2.3.0.jar\r\n\tjaxb-impl-2.3.0.jar\r\n\r\nWhat is going on here?\r\n\r\n# What I tried\r\n\r\n## Adding JARs to Tomca&#39;s `CLASSPATH`\r\n\r\nMaybe it helps to add the JARs to Tomcat&#39;s class path in `setenv.sh`?\r\n\r\n    CLASSPATH=\r\n        .../webapps/$app/WEB-INF/lib/jaxb-api-2.3.0.jar:\r\n        .../webapps/$app/WEB-INF/lib/jaxb-impl-2.3.0.jar:\r\n        .../webapps/$app/WEB-INF/lib/jaxb-core-2.3.0.jar:\r\n        .../webapps/$app/WEB-INF/lib/javax.activation-1.2.0.jar\r\n\r\nNope:\r\n\r\n\tCaused by: javax.xml.bind.JAXBException: ClassCastException: attempting to cast\r\n\tjar:file:.../webapps/$app/WEB-INF/lib/jaxb-api-2.3.0.jar!/javax/xml/bind/JAXBContext.class to\r\n\tjar:file:.../webapps/$app/WEB-INF/lib/jaxb-api-2.3.0.jar!/javax/xml/bind/JAXBContext.class.\r\n\tPlease make sure that you are specifying the proper ClassLoader.    \r\n\t\tat javax.xml.bind.ContextFinder.handleClassCastException(ContextFinder.java:157) ~[jaxb-api-2.3.0.jar:2.3.0]\r\n\t\tat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:300) ~[jaxb-api-2.3.0.jar:2.3.0]\r\n\t\tat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:286) ~[jaxb-api-2.3.0.jar:2.3.0]\r\n\t\tat javax.xml.bind.ContextFinder.find(ContextFinder.java:409) ~[jaxb-api-2.3.0.jar:2.3.0]\r\n\t\tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721) ~[jaxb-api-2.3.0.jar:2.3.0]\r\n\t\tat javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662) ~[jaxb-api-2.3.0.jar:2.3.0]\r\n\t\tat de.disy.gis.webmapserver.factory.DefaultWmsRequestFactory.initializeCommandExtractor(DefaultWmsRequestFactory.java:103) ~[cadenza-gis-webmapserver-7.7-SNAPSHOT.jar:7.6]\r\n\t\tat de.disy.gis.webmapserver.factory.DefaultWmsRequestFactory.lambda$new$0(DefaultWmsRequestFactory.java:87) ~[cadenza-gis-webmapserver-7.7-SNAPSHOT.jar:7.6]\r\n\r\nThat&#39;s clearly the same class, so apparently it has been loaded by two class loaders. I suspect [the system class loader and the app&#39;s class loader](https://tomcat.apache.org/tomcat-9.0-doc/class-loader-howto.html#Class_Loader_Definitions), but why would loading `JAXBContext` be delegated to the system class loader once but not always? It almost looks as if the delegation behavior of the app&#39;s class loader changes while the program runs.\r\n\r\n## Adding the module\r\n\r\nI don&#39;t really want to add _java.xml.bind_, but I tried it anyways by adding this to `catalina.sh`:\r\n\r\n\tJDK_JAVA_OPTIONS=&quot;$JDK_JAVA_OPTIONS --add-modules=java.xml.bind&quot;\r\n\r\nDoesn&#39;t work either, though:\r\n\r\n\tCaused by: java.lang.ClassCastException:\r\n\tjava.xml.bind/com.sun.xml.internal.bind.v2.runtime.JAXBContextImpl\r\n\tcannot be cast to com.sun.xml.bind.v2.runtime.JAXBContextImpl\r\n\t\tat [... our-code ...]\r\n\r\nApart from the different class and stack trace, this is in line with what happened earlier: The class `JAXBContextImpl` was loaded twice, once from _java.xml.bind_ (must have been the system class loader) and one other time (I assume by the app&#39;s loader from the JAR).\r\n\r\n## Searching for bugs\r\n\r\n[Searching Tomcat&#39;s bug database](https://bz.apache.org/bugzilla/query.cgi) I found [#62559](https://bz.apache.org/bugzilla/show_bug.cgi?id=62559). Could that be the same error?\r\n\r\n## Adding JAR&#39;s to Tomcat&#39;s `lib`\r\n\r\nFollowing [advice given on the Tomcat user mailing list](http://mail-archives.apache.org/mod_mbox/tomcat-users/201807.mbox/%3cb1ca948e-f8d3-5c5e-9aaf-0c8c6c9f84d0@christopherschultz.net%3e), I added the JAXB JARs to Tomcat&#39;s `CATALINA_BASE/lib` directory, but got the same error as in the application&#39;s lib folder.","title":"JAXB not available on Tomcat 9 and Java 9/10","body":"<p><strong>TLDR</strong>: On Java 9/10, a web app in Tomcat has no access to JAXB even though its reference implementation is present on the class path.</p>\n\n<p><strong>Edit</strong>: No, this is not a duplicate of <a href=\"https://stackoverflow.com/q/43574426/2525313\">How to resolve java.lang.NoClassDefFoundError: javax/xml/bind/JAXBException in Java 9</a> - as you can tell by the <em>What I tried</em> section, I already tried the proposed solutions.</p>\n\n<h1>The Situation</h1>\n\n<p>We have a web app that runs on Tomcat and depends on JAXB. During our migration to Java 9 we opted for adding <a href=\"https://stackoverflow.com/a/48204154/2525313\">the JAXB reference implementation as a regular dependency</a>.</p>\n\n<p>Everything worked when launching the app from the IDE <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/api/org/apache/catalina/startup/Tomcat.html\" rel=\"noreferrer\">with embedded Tomcat</a>, but when running it on a real Tomcat instance, I get this error:</p>\n\n<pre><code>Caused by: java.lang.RuntimeException: javax.xml.bind.JAXBException:\n    Implementation of JAXB-API has not been found on module path or classpath.\n - with linked exception:\n[java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory]\n    at [... our-code ...]\nCaused by: javax.xml.bind.JAXBException: Implementation of JAXB-API has not been found on module path or classpath.\n    at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:278) ~[jaxb-api-2.3.0.jar:2.3.0]\n    at javax.xml.bind.ContextFinder.find(ContextFinder.java:421) ~[jaxb-api-2.3.0.jar:2.3.0]\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721) ~[jaxb-api-2.3.0.jar:2.3.0]\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662) ~[jaxb-api-2.3.0.jar:2.3.0]\n    at [... our-code ...]\nCaused by: java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory\n    at jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582) ~[?:?]\n    at jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:190) ~[?:?]\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:499) ~[?:?]\n    at javax.xml.bind.ServiceLoaderUtil.nullSafeLoadClass(ServiceLoaderUtil.java:122) ~[jaxb-api-2.3.0.jar:2.3.0]\n    at javax.xml.bind.ServiceLoaderUtil.safeLoadClass(ServiceLoaderUtil.java:155) ~[jaxb-api-2.3.0.jar:2.3.0]\n    at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:276) ~[jaxb-api-2.3.0.jar:2.3.0]\n    at javax.xml.bind.ContextFinder.find(ContextFinder.java:421) ~[jaxb-api-2.3.0.jar:2.3.0]\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721) ~[jaxb-api-2.3.0.jar:2.3.0]\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662) ~[jaxb-api-2.3.0.jar:2.3.0]\n    at [... our-code ...]\n</code></pre>\n\n<p>Note:</p>\n\n<blockquote>\n  <p>Implementation of JAXB-API has not been found on module path or classpath.</p>\n</blockquote>\n\n<p>These are the relevant files in <code>webapps/$app/WEB-INF/lib</code>:</p>\n\n<pre><code>jaxb-api-2.3.0.jar\njaxb-core-2.3.0.jar\njaxb-impl-2.3.0.jar\n</code></pre>\n\n<p>What is going on here?</p>\n\n<h1>What I tried</h1>\n\n<h2>Adding JARs to Tomca's <code>CLASSPATH</code></h2>\n\n<p>Maybe it helps to add the JARs to Tomcat's class path in <code>setenv.sh</code>?</p>\n\n<pre><code>CLASSPATH=\n    .../webapps/$app/WEB-INF/lib/jaxb-api-2.3.0.jar:\n    .../webapps/$app/WEB-INF/lib/jaxb-impl-2.3.0.jar:\n    .../webapps/$app/WEB-INF/lib/jaxb-core-2.3.0.jar:\n    .../webapps/$app/WEB-INF/lib/javax.activation-1.2.0.jar\n</code></pre>\n\n<p>Nope:</p>\n\n<pre><code>Caused by: javax.xml.bind.JAXBException: ClassCastException: attempting to cast\njar:file:.../webapps/$app/WEB-INF/lib/jaxb-api-2.3.0.jar!/javax/xml/bind/JAXBContext.class to\njar:file:.../webapps/$app/WEB-INF/lib/jaxb-api-2.3.0.jar!/javax/xml/bind/JAXBContext.class.\nPlease make sure that you are specifying the proper ClassLoader.    \n    at javax.xml.bind.ContextFinder.handleClassCastException(ContextFinder.java:157) ~[jaxb-api-2.3.0.jar:2.3.0]\n    at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:300) ~[jaxb-api-2.3.0.jar:2.3.0]\n    at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:286) ~[jaxb-api-2.3.0.jar:2.3.0]\n    at javax.xml.bind.ContextFinder.find(ContextFinder.java:409) ~[jaxb-api-2.3.0.jar:2.3.0]\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:721) ~[jaxb-api-2.3.0.jar:2.3.0]\n    at javax.xml.bind.JAXBContext.newInstance(JAXBContext.java:662) ~[jaxb-api-2.3.0.jar:2.3.0]\n    at de.disy.gis.webmapserver.factory.DefaultWmsRequestFactory.initializeCommandExtractor(DefaultWmsRequestFactory.java:103) ~[cadenza-gis-webmapserver-7.7-SNAPSHOT.jar:7.6]\n    at de.disy.gis.webmapserver.factory.DefaultWmsRequestFactory.lambda$new$0(DefaultWmsRequestFactory.java:87) ~[cadenza-gis-webmapserver-7.7-SNAPSHOT.jar:7.6]\n</code></pre>\n\n<p>That's clearly the same class, so apparently it has been loaded by two class loaders. I suspect <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/class-loader-howto.html#Class_Loader_Definitions\" rel=\"noreferrer\">the system class loader and the app's class loader</a>, but why would loading <code>JAXBContext</code> be delegated to the system class loader once but not always? It almost looks as if the delegation behavior of the app's class loader changes while the program runs.</p>\n\n<h2>Adding the module</h2>\n\n<p>I don't really want to add <em>java.xml.bind</em>, but I tried it anyways by adding this to <code>catalina.sh</code>:</p>\n\n<pre><code>JDK_JAVA_OPTIONS=\"$JDK_JAVA_OPTIONS --add-modules=java.xml.bind\"\n</code></pre>\n\n<p>Doesn't work either, though:</p>\n\n<pre><code>Caused by: java.lang.ClassCastException:\njava.xml.bind/com.sun.xml.internal.bind.v2.runtime.JAXBContextImpl\ncannot be cast to com.sun.xml.bind.v2.runtime.JAXBContextImpl\n    at [... our-code ...]\n</code></pre>\n\n<p>Apart from the different class and stack trace, this is in line with what happened earlier: The class <code>JAXBContextImpl</code> was loaded twice, once from <em>java.xml.bind</em> (must have been the system class loader) and one other time (I assume by the app's loader from the JAR).</p>\n\n<h2>Searching for bugs</h2>\n\n<p><a href=\"https://bz.apache.org/bugzilla/query.cgi\" rel=\"noreferrer\">Searching Tomcat's bug database</a> I found <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=62559\" rel=\"noreferrer\">#62559</a>. Could that be the same error?</p>\n\n<h2>Adding JAR's to Tomcat's <code>lib</code></h2>\n\n<p>Following <a href=\"http://mail-archives.apache.org/mod_mbox/tomcat-users/201807.mbox/%3cb1ca948e-f8d3-5c5e-9aaf-0c8c6c9f84d0@christopherschultz.net%3e\" rel=\"noreferrer\">advice given on the Tomcat user mailing list</a>, I added the JAXB JARs to Tomcat's <code>CATALINA_BASE/lib</code> directory, but got the same error as in the application's lib folder.</p>\n"},{"tags":["java","simplify"],"comments":[{"owner":{"account_id":6586022,"reputation":76,"user_id":5088766,"display_name":"mcarn"},"score":0,"creation_date":1696589888,"post_id":77243868,"comment_id":136175788,"body_markdown":"you could try reversing if elses as in https://softwareengineering.stackexchange.com/questions/47789/how-would-you-refactor-nested-if-statements","body":"you could try reversing if elses as in <a href=\"https://softwareengineering.stackexchange.com/questions/47789/how-would-you-refactor-nested-if-statements\" title=\"how would you refactor nested if statements\">softwareengineering.stackexchange.com/questions/47789/&hellip;</a>"},{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":1,"creation_date":1696590068,"post_id":77243868,"comment_id":136175826,"body_markdown":"https://xyproblem.info/ Provide the problem itself.","body":"<a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">xyproblem.info</a> Provide the problem itself."},{"owner":{"account_id":108033,"reputation":17201,"user_id":286934,"display_name":"Progman"},"score":3,"creation_date":1696590157,"post_id":77243868,"comment_id":136175847,"body_markdown":"Have you tried building the prepared statement dynamically based on the conditions you have?","body":"Have you tried building the prepared statement dynamically based on the conditions you have?"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1696592349,"post_id":77243868,"comment_id":136176266,"body_markdown":"Unrelated, but never do `if (foo == true) {` and instead always do `if (foo) {`. It&#39;s just cleaner and less risky.","body":"Unrelated, but never do <code>if (foo == true) {</code> and instead always do <code>if (foo) {</code>. It&#39;s just cleaner and less risky."}],"answers":[{"comments":[{"owner":{"account_id":29334364,"reputation":1,"user_id":22475069,"display_name":"Thomas Humphreys"},"score":0,"creation_date":1696607240,"post_id":77244058,"comment_id":136179378,"body_markdown":"That code looks really good, and is what im looking for, but the issue is that i dont know how arraylists work and how to take the output from this into the actual code, can you please link an article so i can learn about arraylists?","body":"That code looks really good, and is what im looking for, but the issue is that i dont know how arraylists work and how to take the output from this into the actual code, can you please link an article so i can learn about arraylists?"},{"owner":{"account_id":6606677,"reputation":1024,"user_id":5103317,"display_name":"Old Dog Programmer"},"score":0,"creation_date":1696613227,"post_id":77244058,"comment_id":136180477,"body_markdown":"@ThomasHumphreys  It&#39;s not a tutorial, but Oracle has the APIs for Classes and Interfaces online.  Check out the [ArrayList API](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ArrayList.html) . If you want to find tutorials, you can [Google for them](https://www.google.com/search?q=java+arraylist+tutorial&amp;oq=java+arraylist+tutorial)","body":"@ThomasHumphreys  It&#39;s not a tutorial, but Oracle has the APIs for Classes and Interfaces online.  Check out the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/ArrayList.html\" rel=\"nofollow noreferrer\">ArrayList API</a> . If you want to find tutorials, you can <a href=\"https://www.google.com/search?q=java+arraylist+tutorial&amp;oq=java+arraylist+tutorial\" rel=\"nofollow noreferrer\">Google for them</a>"},{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1696617646,"post_id":77244058,"comment_id":136181186,"body_markdown":"@ThomasHumphreys, here is the _Java_ tutorial on the _Collections Framework_, which includes the _ArrayList_ class.  _[Trail: Collections (The Java™ Tutorials)](https://docs.oracle.com/javase/tutorial/collections/index.html)_","body":"@ThomasHumphreys, here is the <i>Java</i> tutorial on the <i>Collections Framework</i>, which includes the <i>ArrayList</i> class.  <i><a href=\"https://docs.oracle.com/javase/tutorial/collections/index.html\" rel=\"nofollow noreferrer\">Trail: Collections (The Java™ Tutorials)</a></i>"}],"tags":[],"owner":{"account_id":11872577,"reputation":321,"user_id":8688388,"display_name":"M. Pour"},"comment_count":3,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696591496,"creation_date":1696591496,"answer_id":77244058,"question_id":77243868,"body_markdown":"You can simplify this process by dynamically constructing the SQL query based on the selected parameters. Here&#39;s a more structured approach:\r\n\r\n```\r\n// Define the base query\r\nString query = &quot;SELECT * FROM propertyInfo WHERE 1 = 1&quot;;\r\n\r\n// Initialize a list to store query parameters\r\nList&lt;Object&gt; parameters = new ArrayList&lt;&gt;();\r\n\r\n// Check if Name is selected\r\nif (searchingForName) {\r\n    query += &quot; AND propertyName = ?&quot;;\r\n    parameters.add(nameValue);\r\n}\r\n\r\n// Check if Manager is selected\r\nif (searchingForManager) {\r\n    query += &quot; AND propertyManager = ?&quot;;\r\n    parameters.add(managerValue);\r\n}\r\n\r\n// Check if AccessLevel is selected\r\nif (searchingForAccessLevel) {\r\n    query += &quot; AND accessLevelRequired = ?&quot;;\r\n    parameters.add(accessLevelValue);\r\n}\r\n\r\n// Check if Inhabitant is selected\r\nif (searchingForInhabitant) {\r\n    query += &quot; AND propertyInhabitant = ?&quot;;\r\n    parameters.add(inhabitantValue);\r\n}\r\n\r\n// Check if Location is selected\r\nif (searchingForLocation) {\r\n    query += &quot; AND propertyLocation = ?&quot;;\r\n    parameters.add(locationValue);\r\n}\r\n\r\n```\r\n\r\nFor each selected parameter (e.g., Name, Manager, etc.), you dynamically add a corresponding condition to the query string and add the parameter value to the ***parameters*** list. Finally, you can execute the query using a prepared statement with the parameters.\r\n\r\nHave a good one!","title":"How to simplify the use of too many IF statements when finding specific cases","body":"<p>You can simplify this process by dynamically constructing the SQL query based on the selected parameters. Here's a more structured approach:</p>\n<pre><code>// Define the base query\nString query = &quot;SELECT * FROM propertyInfo WHERE 1 = 1&quot;;\n\n// Initialize a list to store query parameters\nList&lt;Object&gt; parameters = new ArrayList&lt;&gt;();\n\n// Check if Name is selected\nif (searchingForName) {\n    query += &quot; AND propertyName = ?&quot;;\n    parameters.add(nameValue);\n}\n\n// Check if Manager is selected\nif (searchingForManager) {\n    query += &quot; AND propertyManager = ?&quot;;\n    parameters.add(managerValue);\n}\n\n// Check if AccessLevel is selected\nif (searchingForAccessLevel) {\n    query += &quot; AND accessLevelRequired = ?&quot;;\n    parameters.add(accessLevelValue);\n}\n\n// Check if Inhabitant is selected\nif (searchingForInhabitant) {\n    query += &quot; AND propertyInhabitant = ?&quot;;\n    parameters.add(inhabitantValue);\n}\n\n// Check if Location is selected\nif (searchingForLocation) {\n    query += &quot; AND propertyLocation = ?&quot;;\n    parameters.add(locationValue);\n}\n\n</code></pre>\n<p>For each selected parameter (e.g., Name, Manager, etc.), you dynamically add a corresponding condition to the query string and add the parameter value to the <em><strong>parameters</strong></em> list. Finally, you can execute the query using a prepared statement with the parameters.</p>\n<p>Have a good one!</p>\n"}],"owner":{"account_id":29334364,"reputation":1,"user_id":22475069,"display_name":"Thomas Humphreys"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696591496,"creation_date":1696589569,"question_id":77243868,"body_markdown":"I have code which a user will select different perameters from 5 dropdown menus, these can be: &quot;None&quot;, &#39;Name&#39;, &#39;Manager&#39;, &#39;AccessLevel&#39;, &#39;Inhabitant&#39; and &#39;Location&#39; these will be matched with jtextfields that are searched to get the inputed value. However to get these values i am basically do alot of if statements to determine the combination of values e.g. Name, Manager and Location together will give the SQL statement:\r\n   `query = &quot;SELECT * FROM propertyInfo WHERE propertyName = ? AND propertyManager = ? AND propertyLocation = ?&quot;; `\r\n\r\nthis leads to a convoluted mess of if statements, is there any way to simplify it?\r\n\r\nit works however to actually create it i would have to do hundreds of lines for different combinations and it will be hard to expand later. however this is some of my current code:\r\n```\r\n`if (searchingForName == true) {\r\n          if (searchingForManager == true) {\r\n              if (searchingForAccessLevel == true) { // final lvl 1\r\n                   query = &quot;SELECT * FROM propertyInfo WHERE propertyName = ? AND propertyManager = ? AND accessLevelRequired = ?&quot;; \r\n                   query2 = &quot;SELECT COUNT(*) AS recordCount FROM propertyInfo WHERE  propertyName = ? AND propertyManager = ? AND accessLevelRequired = ?&quot;; \r\n              }else if ((searchType1.equals(&quot;Inhabitant&quot;) || searchType2.equals(&quot;Inhabitant&quot;) || searchType3.equals(&quot;Inhabitant&quot;))) { // final lvl 2\r\n                query = &quot;SELECT * FROM propertyInfo WHERE propertyName = ? AND propertyManager = ? AND propertyInhabitant = ?&quot;; \r\n                query2 = &quot;SELECT COUNT(*) AS recordCount FROM propertyInfo WHERE  propertyName = ? AND propertyManager = ? AND propertyInhabitant = ?&quot;; \r\n            }else if ((searchType1.equals(&quot;Location&quot;) || searchType2.equals(&quot;Location&quot;) || searchType3.equals(&quot;Location&quot;))) { // finaly lvl 3\r\n                query = &quot;SELECT * FROM propertyInfo WHERE propertyName = ? AND propertyManager = ? AND propertyLocation = ?&quot;; \r\n                query2 = &quot;SELECT COUNT(*) AS recordCount FROM propertyInfo WHERE  propertyName = ? AND propertyManager = ? AND propertyLocation = ?&quot;; \r\n            }\r\n          }  else if ((searchType1.equals(&quot;AccessLevel&quot;) || searchType2.equals(&quot;AccessLevel&quot;) || searchType3.equals(&quot;AccessLevel&quot;))) { // sub lvl 2\r\n               if ((searchType1.equals(&quot;Inhabitant&quot;) || searchType2.equals(&quot;Inhabitant&quot;) || searchType3.equals(&quot;Inhabitant&quot;))) { //final lvl 1\r\n                query = &quot;SELECT * FROM propertyInfo WHERE propertyName = ? AND accessLevelRequired = ? AND propertyInhabitant = ?&quot;; \r\n                query2 = &quot;SELECT COUNT(*) AS recordCount FROM propertyInfo WHERE  propertyName = ? AND accessLevelRequired = ? AND propertyInhabitant = ?&quot;; \r\n            }else if ((searchType1.equals(&quot;Location&quot;) || searchType2.equals(&quot;Location&quot;) || searchType3.equals(&quot;Location&quot;))) { // final lvl 2\r\n                query = &quot;SELECT * FROM propertyInfo WHERE propertyName = ? AND accessLevelRequired = ? AND propertyLocation = ?&quot;; \r\n                query2 = &quot;SELECT COUNT(*) AS recordCount FROM propertyInfo WHERE  propertyName = ? AND accessLevelRequired = ? AND propertyLocation = ?&quot;; \r\n            }\r\n          } else if ((searchType1.equals(&quot;Inhabitant&quot;) || searchType2.equals(&quot;Inhabitant&quot;) || searchType3.equals(&quot;Inhabitant&quot;))) { // sub lvl 3\r\n               if ((searchType1.equals(&quot;Location&quot;) || searchType2.equals(&quot;Location&quot;) || searchType3.equals(&quot;Location&quot;))) { // final lvl 1\r\n                query = &quot;SELECT * FROM propertyInfo WHERE propertyName = ? AND propertyInhabitant = ? AND propertyLocation = ?&quot;; \r\n                query2 = &quot;SELECT COUNT(*) AS recordCount FROM propertyInfo WHERE  propertyName = ? AND propertyInhabitant = ? AND propertyLocation = ?&quot;; \r\n          }\r\n               \r\n      //}\r\n      }else if ((searchType1.equals(&quot;Manager&quot;) || searchType2.equals(&quot;Manager&quot;) || searchType3.equals(&quot;Manager&quot;))) { // main lvl 2\r\n          \r\n          \r\n          if ((searchType1.equals(&quot;AccessLevel&quot;) || searchType2.equals(&quot;AccessLevel&quot;) || searchType3.equals(&quot;AccessLevel&quot;))) { // sub lvl 1\r\n              \r\n              \r\n            if ((searchType1.equals(&quot;Inhabitant&quot;) || searchType2.equals(&quot;Inhabitant&quot;) || searchType3.equals(&quot;Inhabitant&quot;))) {// final lvl 1\r\n                   query = &quot;SELECT * FROM propertyInfo WHERE propertyManager = ? AND accessLevelRequired = ? AND propertyInhabitant = ?&quot;; \r\n                   query2 = &quot;SELECT COUNT(*) AS recordCount FROM propertyInfo WHERE   propertyManager = ? AND accessLevelRequired = ? AND propertyInhabitant = ?&quot;; \r\n                   \r\n            }else if ((searchType1.equals(&quot;Location&quot;) || searchType2.equals(&quot;Location&quot;) || searchType3.equals(&quot;Location&quot;))) { // final lvl 2\r\n                query = &quot;SELECT * FROM propertyInfo WHERE propertyManager = ? AND accessLevelRequired = ? AND propertyLocation = ?&quot;; \r\n                query2 = &quot;SELECT COUNT(*) AS recordCount FROM propertyInfo WHERE  propertyManager = ? AND accessLevelRequired = ? AND propertyLocation = ?&quot;; \r\n            }\r\n          }  else if ((searchType1.equals(&quot;Inhabitant&quot;) || searchType2.equals(&quot;Inhabitant&quot;) || searchType3.equals(&quot;Inhabitant&quot;))) { // sub lvl 2\r\n                if ((searchType1.equals(&quot;Location&quot;) || searchType2.equals(&quot;Location&quot;) || searchType3.equals(&quot;Location&quot;))) { // final lvl 1\r\n                query = &quot;SELECT * FROM propertyInfo WHERE propertyManager = ? AND propertyInhabitant = ? AND propertyLocation = ?&quot;; \r\n                query2 = &quot;SELECT COUNT(*) AS recordCount FROM propertyInfo WHERE  propertyManager = ? AND propertyInhabitant = ? AND propertyLocation = ?&quot;; \r\n            }\r\n          }\r\n        `  } \r\n      }\r\n```","title":"How to simplify the use of too many IF statements when finding specific cases","body":"<p>I have code which a user will select different perameters from 5 dropdown menus, these can be: &quot;None&quot;, 'Name', 'Manager', 'AccessLevel', 'Inhabitant' and 'Location' these will be matched with jtextfields that are searched to get the inputed value. However to get these values i am basically do alot of if statements to determine the combination of values e.g. Name, Manager and Location together will give the SQL statement:\n<code>query = &quot;SELECT * FROM propertyInfo WHERE propertyName = ? AND propertyManager = ? AND propertyLocation = ?&quot;; </code></p>\n<p>this leads to a convoluted mess of if statements, is there any way to simplify it?</p>\n<p>it works however to actually create it i would have to do hundreds of lines for different combinations and it will be hard to expand later. however this is some of my current code:</p>\n<pre><code>`if (searchingForName == true) {\n          if (searchingForManager == true) {\n              if (searchingForAccessLevel == true) { // final lvl 1\n                   query = &quot;SELECT * FROM propertyInfo WHERE propertyName = ? AND propertyManager = ? AND accessLevelRequired = ?&quot;; \n                   query2 = &quot;SELECT COUNT(*) AS recordCount FROM propertyInfo WHERE  propertyName = ? AND propertyManager = ? AND accessLevelRequired = ?&quot;; \n              }else if ((searchType1.equals(&quot;Inhabitant&quot;) || searchType2.equals(&quot;Inhabitant&quot;) || searchType3.equals(&quot;Inhabitant&quot;))) { // final lvl 2\n                query = &quot;SELECT * FROM propertyInfo WHERE propertyName = ? AND propertyManager = ? AND propertyInhabitant = ?&quot;; \n                query2 = &quot;SELECT COUNT(*) AS recordCount FROM propertyInfo WHERE  propertyName = ? AND propertyManager = ? AND propertyInhabitant = ?&quot;; \n            }else if ((searchType1.equals(&quot;Location&quot;) || searchType2.equals(&quot;Location&quot;) || searchType3.equals(&quot;Location&quot;))) { // finaly lvl 3\n                query = &quot;SELECT * FROM propertyInfo WHERE propertyName = ? AND propertyManager = ? AND propertyLocation = ?&quot;; \n                query2 = &quot;SELECT COUNT(*) AS recordCount FROM propertyInfo WHERE  propertyName = ? AND propertyManager = ? AND propertyLocation = ?&quot;; \n            }\n          }  else if ((searchType1.equals(&quot;AccessLevel&quot;) || searchType2.equals(&quot;AccessLevel&quot;) || searchType3.equals(&quot;AccessLevel&quot;))) { // sub lvl 2\n               if ((searchType1.equals(&quot;Inhabitant&quot;) || searchType2.equals(&quot;Inhabitant&quot;) || searchType3.equals(&quot;Inhabitant&quot;))) { //final lvl 1\n                query = &quot;SELECT * FROM propertyInfo WHERE propertyName = ? AND accessLevelRequired = ? AND propertyInhabitant = ?&quot;; \n                query2 = &quot;SELECT COUNT(*) AS recordCount FROM propertyInfo WHERE  propertyName = ? AND accessLevelRequired = ? AND propertyInhabitant = ?&quot;; \n            }else if ((searchType1.equals(&quot;Location&quot;) || searchType2.equals(&quot;Location&quot;) || searchType3.equals(&quot;Location&quot;))) { // final lvl 2\n                query = &quot;SELECT * FROM propertyInfo WHERE propertyName = ? AND accessLevelRequired = ? AND propertyLocation = ?&quot;; \n                query2 = &quot;SELECT COUNT(*) AS recordCount FROM propertyInfo WHERE  propertyName = ? AND accessLevelRequired = ? AND propertyLocation = ?&quot;; \n            }\n          } else if ((searchType1.equals(&quot;Inhabitant&quot;) || searchType2.equals(&quot;Inhabitant&quot;) || searchType3.equals(&quot;Inhabitant&quot;))) { // sub lvl 3\n               if ((searchType1.equals(&quot;Location&quot;) || searchType2.equals(&quot;Location&quot;) || searchType3.equals(&quot;Location&quot;))) { // final lvl 1\n                query = &quot;SELECT * FROM propertyInfo WHERE propertyName = ? AND propertyInhabitant = ? AND propertyLocation = ?&quot;; \n                query2 = &quot;SELECT COUNT(*) AS recordCount FROM propertyInfo WHERE  propertyName = ? AND propertyInhabitant = ? AND propertyLocation = ?&quot;; \n          }\n               \n      //}\n      }else if ((searchType1.equals(&quot;Manager&quot;) || searchType2.equals(&quot;Manager&quot;) || searchType3.equals(&quot;Manager&quot;))) { // main lvl 2\n          \n          \n          if ((searchType1.equals(&quot;AccessLevel&quot;) || searchType2.equals(&quot;AccessLevel&quot;) || searchType3.equals(&quot;AccessLevel&quot;))) { // sub lvl 1\n              \n              \n            if ((searchType1.equals(&quot;Inhabitant&quot;) || searchType2.equals(&quot;Inhabitant&quot;) || searchType3.equals(&quot;Inhabitant&quot;))) {// final lvl 1\n                   query = &quot;SELECT * FROM propertyInfo WHERE propertyManager = ? AND accessLevelRequired = ? AND propertyInhabitant = ?&quot;; \n                   query2 = &quot;SELECT COUNT(*) AS recordCount FROM propertyInfo WHERE   propertyManager = ? AND accessLevelRequired = ? AND propertyInhabitant = ?&quot;; \n                   \n            }else if ((searchType1.equals(&quot;Location&quot;) || searchType2.equals(&quot;Location&quot;) || searchType3.equals(&quot;Location&quot;))) { // final lvl 2\n                query = &quot;SELECT * FROM propertyInfo WHERE propertyManager = ? AND accessLevelRequired = ? AND propertyLocation = ?&quot;; \n                query2 = &quot;SELECT COUNT(*) AS recordCount FROM propertyInfo WHERE  propertyManager = ? AND accessLevelRequired = ? AND propertyLocation = ?&quot;; \n            }\n          }  else if ((searchType1.equals(&quot;Inhabitant&quot;) || searchType2.equals(&quot;Inhabitant&quot;) || searchType3.equals(&quot;Inhabitant&quot;))) { // sub lvl 2\n                if ((searchType1.equals(&quot;Location&quot;) || searchType2.equals(&quot;Location&quot;) || searchType3.equals(&quot;Location&quot;))) { // final lvl 1\n                query = &quot;SELECT * FROM propertyInfo WHERE propertyManager = ? AND propertyInhabitant = ? AND propertyLocation = ?&quot;; \n                query2 = &quot;SELECT COUNT(*) AS recordCount FROM propertyInfo WHERE  propertyManager = ? AND propertyInhabitant = ? AND propertyLocation = ?&quot;; \n            }\n          }\n        `  } \n      }\n</code></pre>\n"},{"tags":["java","spring","swagger","swagger-codegen"],"comments":[{"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"score":0,"creation_date":1531755706,"post_id":46584658,"comment_id":89703402,"body_markdown":"In your example you say `kambiTransaction` is of type `String`, but your method consumes `application/json`. That is you want to sent a plain text string (that contains JSON - as shown in the example value) wrapped in JSON? Why don&#39;t you create a domain class for `kambiTransaction`. Swagger will automatically print the class&#39; structure as JSON example.","body":"In your example you say <code>kambiTransaction</code> is of type <code>String</code>, but your method consumes <code>application&#47;json</code>. That is you want to sent a plain text string (that contains JSON - as shown in the example value) wrapped in JSON? Why don&#39;t you create a domain class for <code>kambiTransaction</code>. Swagger will automatically print the class&#39; structure as JSON example."},{"owner":{"account_id":4858008,"reputation":276,"user_id":3918488,"display_name":"Abinash"},"score":0,"creation_date":1531770106,"post_id":46584658,"comment_id":89710341,"body_markdown":"I would second @dpr. The right way would be to build a model class and use annotation [ApiModel](https://github.com/swagger-api/swagger-core/wiki/annotations#apimodel) on the class and [ApiModelProperty](https://github.com/swagger-api/swagger-core/wiki/annotations#apimodelproperty)  on the fields. ApiModelProperty accepts value and example parameters.","body":"I would second @dpr. The right way would be to build a model class and use annotation <a href=\"https://github.com/swagger-api/swagger-core/wiki/annotations#apimodel\" rel=\"nofollow noreferrer\">ApiModel</a> on the class and <a href=\"https://github.com/swagger-api/swagger-core/wiki/annotations#apimodelproperty\" rel=\"nofollow noreferrer\">ApiModelProperty</a>  on the fields. ApiModelProperty accepts value and example parameters."}],"answers":[{"comments":[{"owner":{"account_id":5939623,"reputation":5436,"user_id":4671372,"display_name":"VadymVL"},"score":2,"creation_date":1553371462,"post_id":47141538,"comment_id":97362607,"body_markdown":"Works perfectly, but only for the primitive types.","body":"Works perfectly, but only for the primitive types."},{"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1648672439,"post_id":47141538,"comment_id":126687222,"body_markdown":"Is there any way to add the resources file content to the `@ExampleObject`? I am trying to add the `@ExampleObject` from the `resources file` using `ref` but its not working for some reason. I have posted my question:  https://stackoverflow.com/q/71616547/7584240","body":"Is there any way to add the resources file content to the <code>@ExampleObject</code>? I am trying to add the <code>@ExampleObject</code> from the <code>resources file</code> using <code>ref</code> but its not working for some reason. I have posted my question:  <a href=\"https://stackoverflow.com/q/71616547/7584240\">stackoverflow.com/q/71616547/7584240</a>"}],"tags":[],"owner":{"account_id":7675670,"reputation":535,"user_id":5816637,"display_name":"E. Bavoux"},"comment_count":2,"down_vote_count":2,"up_vote_count":7,"is_accepted":false,"score":5,"last_activity_date":1509985794,"creation_date":1509985794,"answer_id":47141538,"question_id":46584658,"body_markdown":"Have you tried the following ? \r\n\r\n    @ApiModelProperty(\r\n        value = &quot;A JSON value representing a transaction. An example of the expected schema can be found down here. The fields marked with an * means that they are required.&quot;,\r\n        example = &quot;{foo: whatever, bar: whatever2}&quot;)\r\n\r\nHave a nice day","title":"How can I set a description and an example in Swagger with Swagger annotations?","body":"<p>Have you tried the following ? </p>\n\n<pre><code>@ApiModelProperty(\n    value = \"A JSON value representing a transaction. An example of the expected schema can be found down here. The fields marked with an * means that they are required.\",\n    example = \"{foo: whatever, bar: whatever2}\")\n</code></pre>\n\n<p>Have a nice day</p>\n"},{"tags":[],"owner":{"account_id":9518241,"reputation":416,"user_id":7073874,"display_name":"Artem Trofimoff"},"comment_count":0,"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1540992087,"creation_date":1531834346,"answer_id":51382735,"question_id":46584658,"body_markdown":"I have similar issue with generating examples for body objects - annotation `@Example` and `@ExampleProperty` simply doesn&#39;t work for no reason in swagger 1.5.x. (I use 1.5.16)\r\n\r\nMy current solution is:  \r\nuse `@ApiParam(example=&quot;...&quot;)` for **non-body objects**, e.g.:\r\n\r\n    public void post(@PathParam(&quot;userId&quot;) @ApiParam(value = &quot;userId&quot;, example = &quot;4100003&quot;) Integer userId) {}\r\n\r\nfor **body** objects create new class and annotate fields with `@ApiModelProperty(value = &quot; &quot;, example = &quot; &quot;)`, e.g.: \r\n\r\n    @ApiModel(subTypes = {BalanceUpdate.class, UserMessage.class})\r\n    class PushRequest {\r\n        @ApiModelProperty(value = &quot;status&quot;, example = &quot;push&quot;)\r\n        private final String status;;\r\n    }","title":"How can I set a description and an example in Swagger with Swagger annotations?","body":"<p>I have similar issue with generating examples for body objects - annotation <code>@Example</code> and <code>@ExampleProperty</code> simply doesn't work for no reason in swagger 1.5.x. (I use 1.5.16)</p>\n\n<p>My current solution is:<br>\nuse <code>@ApiParam(example=\"...\")</code> for <strong>non-body objects</strong>, e.g.:</p>\n\n<pre><code>public void post(@PathParam(\"userId\") @ApiParam(value = \"userId\", example = \"4100003\") Integer userId) {}\n</code></pre>\n\n<p>for <strong>body</strong> objects create new class and annotate fields with <code>@ApiModelProperty(value = \" \", example = \" \")</code>, e.g.: </p>\n\n<pre><code>@ApiModel(subTypes = {BalanceUpdate.class, UserMessage.class})\nclass PushRequest {\n    @ApiModelProperty(value = \"status\", example = \"push\")\n    private final String status;;\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":10278040,"reputation":2879,"user_id":7584240,"accept_rate":17,"display_name":"BATMAN_2008"},"score":0,"creation_date":1648672433,"post_id":51387207,"comment_id":126687219,"body_markdown":"Is there any way to add the resources file content to the `@ExampleObject`? I am trying to add the `@ExampleObject` from the `resources file` using `ref` but its not working for some reason. I have posted my question:  https://stackoverflow.com/q/71616547/7584240","body":"Is there any way to add the resources file content to the <code>@ExampleObject</code>? I am trying to add the <code>@ExampleObject</code> from the <code>resources file</code> using <code>ref</code> but its not working for some reason. I have posted my question:  <a href=\"https://stackoverflow.com/q/71616547/7584240\">stackoverflow.com/q/71616547/7584240</a>"}],"tags":[],"owner":{"account_id":5433910,"reputation":10649,"user_id":4323935,"accept_rate":69,"display_name":"dpr"},"comment_count":1,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1531848547,"creation_date":1531848547,"answer_id":51387207,"question_id":46584658,"body_markdown":"Actually the java doc for the `example` property of the `@ApiParam` annotation states that this is exclusively to be used for non-body parameters. Where the `examples` property may be used for body parameters.\r\n\r\nI tested this annotation\r\n\r\n    @ApiParam(\r\n      value = &quot;A JSON value representing a transaction. An example of the expected schema can be found down here. The fields marked with an * means that they are required.&quot;,\r\n      examples = @Example(value = \r\n        @ExampleProperty(\r\n          mediaType = MediaType.APPLICATION_JSON,\r\n          value = &quot;{foo: whatever, bar: whatever2}&quot;\r\n        )\r\n      )\r\n    )\r\n\r\nwhich resulted in the following swagger to be generated for the corresponding method:\r\n    \r\n    /transaction:\r\n      post:\r\n      ...\r\n        parameters:\r\n        ...\r\n        - in: &quot;body&quot;\r\n          name: &quot;body&quot;\r\n          description: &quot;A JSON value representing a transaction. An example of the expected\\\r\n            \\ schema can be found down here. The fields marked with an * means that\\\r\n            \\ they are required.&quot;\r\n          required: false\r\n          schema:\r\n            type: &quot;string&quot;  \r\n          x-examples:\r\n            application/json: &quot;{foo: whatever, bar: whatever2}&quot;\r\n\r\nHowever this value doesn&#39;t seem to be picked up by swagger-ui. I tried version 2.2.10 and the latest 3.17.4, but neither version used the `x-examples` property of the swagger.\r\n\r\nThere are some references for `x-example` (the one used for non-body parameters) in the [code of swagger-ui][1] but no match for `x-examples`. That is this doesn&#39;t seem to be supported by swagger-ui at the moment.\r\n\r\nIf you really need this example values to be present, your best option currently seems to be to change your method&#39;s signature and use a dedicated domain type for the body parameter. As stated in the comments already swagger will automatically pick up the structure of the domain type and print some nice information in swagger-ui:\r\n\r\n[![Swagger-UI 2.2.10 with domain type info][2]][2]\r\n\r\n\r\n  [1]: https://github.com/swagger-api/swagger-ui/search?q=x-example&amp;type=Code\r\n  [2]: https://i.stack.imgur.com/a5Ake.png","title":"How can I set a description and an example in Swagger with Swagger annotations?","body":"<p>Actually the java doc for the <code>example</code> property of the <code>@ApiParam</code> annotation states that this is exclusively to be used for non-body parameters. Where the <code>examples</code> property may be used for body parameters.</p>\n\n<p>I tested this annotation</p>\n\n<pre><code>@ApiParam(\n  value = \"A JSON value representing a transaction. An example of the expected schema can be found down here. The fields marked with an * means that they are required.\",\n  examples = @Example(value = \n    @ExampleProperty(\n      mediaType = MediaType.APPLICATION_JSON,\n      value = \"{foo: whatever, bar: whatever2}\"\n    )\n  )\n)\n</code></pre>\n\n<p>which resulted in the following swagger to be generated for the corresponding method:</p>\n\n<pre><code>/transaction:\n  post:\n  ...\n    parameters:\n    ...\n    - in: \"body\"\n      name: \"body\"\n      description: \"A JSON value representing a transaction. An example of the expected\\\n        \\ schema can be found down here. The fields marked with an * means that\\\n        \\ they are required.\"\n      required: false\n      schema:\n        type: \"string\"  \n      x-examples:\n        application/json: \"{foo: whatever, bar: whatever2}\"\n</code></pre>\n\n<p>However this value doesn't seem to be picked up by swagger-ui. I tried version 2.2.10 and the latest 3.17.4, but neither version used the <code>x-examples</code> property of the swagger.</p>\n\n<p>There are some references for <code>x-example</code> (the one used for non-body parameters) in the <a href=\"https://github.com/swagger-api/swagger-ui/search?q=x-example&amp;type=Code\" rel=\"noreferrer\">code of swagger-ui</a> but no match for <code>x-examples</code>. That is this doesn't seem to be supported by swagger-ui at the moment.</p>\n\n<p>If you really need this example values to be present, your best option currently seems to be to change your method's signature and use a dedicated domain type for the body parameter. As stated in the comments already swagger will automatically pick up the structure of the domain type and print some nice information in swagger-ui:</p>\n\n<p><a href=\"https://i.stack.imgur.com/a5Ake.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/a5Ake.png\" alt=\"Swagger-UI 2.2.10 with domain type info\"></a></p>\n"},{"comments":[{"owner":{"account_id":44082,"reputation":3850,"user_id":129150,"accept_rate":48,"display_name":"isobretatel"},"score":1,"creation_date":1581707713,"post_id":55870191,"comment_id":106539591,"body_markdown":"Still ignores examples/value in @ApiParam(\n            value = &quot;A JSON value&quot;,\n            examples = @Example(value = @ExampleProperty(mediaType = MediaType.APPLICATION_JSON,\n                    value = &quot;{foo: whatever, bar: whatever2}&quot;)))","body":"Still ignores examples/value in @ApiParam(             value = &quot;A JSON value&quot;,             examples = @Example(value = @ExampleProperty(mediaType = MediaType.APPLICATION_JSON,                     value = &quot;{foo: whatever, bar: whatever2}&quot;)))"}],"tags":[],"owner":{"account_id":1265489,"reputation":121,"user_id":1222878,"display_name":"BorisHrenPopadesh"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1556290598,"creation_date":1556290598,"answer_id":55870191,"question_id":46584658,"body_markdown":"If you are using swagger 2.9.2 then Examples are not working there. These annotations are ignored\r\n\r\n    protected Map&lt;String, Response&gt; mapResponseMessages(Set&lt;ResponseMessage&gt; from) {\r\n      Map&lt;String, Response&gt; responses = newTreeMap();\r\n      for (ResponseMessage responseMessage : from) {\r\n        Property responseProperty;\r\n        ModelReference modelRef = responseMessage.getResponseModel();\r\n        responseProperty = modelRefToProperty(modelRef);\r\n        Response response = new Response()\r\n            .description(responseMessage.getMessage())\r\n            .schema(responseProperty);\r\n        **response.setExamples(Maps.&lt;String, Object&gt;newHashMap());**\r\n        response.setHeaders(transformEntries(responseMessage.getHeaders(), toPropertyEntry()));\r\n        Map&lt;String, Object&gt; extensions = new VendorExtensionsMapper()\r\n            .mapExtensions(responseMessage.getVendorExtensions());\r\n        response.getVendorExtensions().putAll(extensions);\r\n        responses.put(String.valueOf(responseMessage.getCode()), response);\r\n      }\r\n      return responses;\r\n    }\r\n\r\nTry using swagger 3.0.0-Snapshot.\r\nYou need to change maven dependencies like this:\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-spring-webmvc&lt;/artifactId&gt;\r\n                &lt;version&gt;3.0.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n\r\nand change annotation on your Swagger config file to this: @EnableSwagger2WebMvc","title":"How can I set a description and an example in Swagger with Swagger annotations?","body":"<p>If you are using swagger 2.9.2 then Examples are not working there. These annotations are ignored</p>\n\n<pre><code>protected Map&lt;String, Response&gt; mapResponseMessages(Set&lt;ResponseMessage&gt; from) {\n  Map&lt;String, Response&gt; responses = newTreeMap();\n  for (ResponseMessage responseMessage : from) {\n    Property responseProperty;\n    ModelReference modelRef = responseMessage.getResponseModel();\n    responseProperty = modelRefToProperty(modelRef);\n    Response response = new Response()\n        .description(responseMessage.getMessage())\n        .schema(responseProperty);\n    **response.setExamples(Maps.&lt;String, Object&gt;newHashMap());**\n    response.setHeaders(transformEntries(responseMessage.getHeaders(), toPropertyEntry()));\n    Map&lt;String, Object&gt; extensions = new VendorExtensionsMapper()\n        .mapExtensions(responseMessage.getVendorExtensions());\n    response.getVendorExtensions().putAll(extensions);\n    responses.put(String.valueOf(responseMessage.getCode()), response);\n  }\n  return responses;\n}\n</code></pre>\n\n<p>Try using swagger 3.0.0-Snapshot.\nYou need to change maven dependencies like this:</p>\n\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-spring-webmvc&lt;/artifactId&gt;\n            &lt;version&gt;3.0.0-SNAPSHOT&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n\n<p>and change annotation on your Swagger config file to this: @EnableSwagger2WebMvc</p>\n"},{"tags":[],"owner":{"account_id":1534622,"reputation":1593,"user_id":1430991,"display_name":"gce"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614092830,"creation_date":1614092830,"answer_id":66335705,"question_id":46584658,"body_markdown":"Swagger.v3 Kotlin/Micronaut example:\r\n\r\n    @Post(&quot;/get-list&quot;)\r\n    fun getList(\r\n            @RequestBody(description = &quot;Get list of ...&quot;,\r\n                    content = [Content(\r\n                            mediaType = &quot;application/json&quot;,\r\n                            schema = Schema(implementation = RequestDTO::class),\r\n                            examples = [ExampleObject(value = &quot;&quot;&quot;\r\n                                {\r\n                                    &quot;pagination&quot;: {\r\n                                        &quot;page&quot;: 0,\r\n                                        &quot;perPage&quot;: 10\r\n                                    },\r\n                                    &quot;filter&quot;: {\r\n                                        &quot;property_1&quot;: &quot;string&quot;,\r\n                                        &quot;property_2&quot;: &quot;string&quot;\r\n                                    },\r\n                                    &quot;sort&quot;: {\r\n                                        &quot;field&quot;: &quot;property_1&quot;,\r\n                                        &quot;order&quot;: &quot;DESC&quot;\r\n                                    }\r\n                                }\r\n                            &quot;&quot;&quot;)]\r\n                    )]) @Body request: RequestDTO): Response&lt;SomeDTO&gt; { ... }\r\n","title":"How can I set a description and an example in Swagger with Swagger annotations?","body":"<p>Swagger.v3 Kotlin/Micronaut example:</p>\n<pre><code>@Post(&quot;/get-list&quot;)\nfun getList(\n        @RequestBody(description = &quot;Get list of ...&quot;,\n                content = [Content(\n                        mediaType = &quot;application/json&quot;,\n                        schema = Schema(implementation = RequestDTO::class),\n                        examples = [ExampleObject(value = &quot;&quot;&quot;\n                            {\n                                &quot;pagination&quot;: {\n                                    &quot;page&quot;: 0,\n                                    &quot;perPage&quot;: 10\n                                },\n                                &quot;filter&quot;: {\n                                    &quot;property_1&quot;: &quot;string&quot;,\n                                    &quot;property_2&quot;: &quot;string&quot;\n                                },\n                                &quot;sort&quot;: {\n                                    &quot;field&quot;: &quot;property_1&quot;,\n                                    &quot;order&quot;: &quot;DESC&quot;\n                                }\n                            }\n                        &quot;&quot;&quot;)]\n                )]) @Body request: RequestDTO): Response&lt;SomeDTO&gt; { ... }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6478598,"reputation":51,"user_id":5016427,"display_name":"Maximiliano Sibert"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1638933287,"creation_date":1638933287,"answer_id":70269487,"question_id":46584658,"body_markdown":"Using swagger 3.0.0 try this over the rest method\r\n\r\n    @Operation(\r\n            summary = &quot;Finds a person&quot;,\r\n            description = &quot;Finds a person by their Id.&quot;,\r\n            tags = { &quot;People&quot; },\r\n            responses = {\r\n                @ApiResponse(\r\n                    description = &quot;Success&quot;,\r\n                    responseCode = &quot;200&quot;,\r\n                    content = @Content(mediaType = &quot;application/json&quot;, schema = @Schema(implementation = Person.class))\r\n                ),\r\n                @ApiResponse(description = &quot;Not found&quot;, responseCode = &quot;404&quot;, content = @Content),\r\n                @ApiResponse(description = &quot;Internal error&quot;, responseCode = &quot;500&quot;, content = @Content)\r\n            }\r\n        )\r\n\r\n","title":"How can I set a description and an example in Swagger with Swagger annotations?","body":"<p>Using swagger 3.0.0 try this over the rest method</p>\n<pre><code>@Operation(\n        summary = &quot;Finds a person&quot;,\n        description = &quot;Finds a person by their Id.&quot;,\n        tags = { &quot;People&quot; },\n        responses = {\n            @ApiResponse(\n                description = &quot;Success&quot;,\n                responseCode = &quot;200&quot;,\n                content = @Content(mediaType = &quot;application/json&quot;, schema = @Schema(implementation = Person.class))\n            ),\n            @ApiResponse(description = &quot;Not found&quot;, responseCode = &quot;404&quot;, content = @Content),\n            @ApiResponse(description = &quot;Internal error&quot;, responseCode = &quot;500&quot;, content = @Content)\n        }\n    )\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7082225,"reputation":347,"user_id":5420223,"accept_rate":100,"display_name":"NeilB"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696591411,"creation_date":1696591411,"answer_id":77244054,"question_id":46584658,"body_markdown":"I am using swagger.version 1.5.22, springfox-swagger2 2.9.2 and springfox-swagger-ui 2.9.2. For me @schema works instead of @ApiModelProperty. Let&#39;s say the requestbody is using ABCDto class.\r\n\r\n    public class ABCDto {\r\n        @Schema(name = &quot;id&quot;, example = &quot;1&quot;, required = true)\r\n        @JsonProperty(&quot;id&quot;)\r\n        private String id;\r\n    }","title":"How can I set a description and an example in Swagger with Swagger annotations?","body":"<p>I am using swagger.version 1.5.22, springfox-swagger2 2.9.2 and springfox-swagger-ui 2.9.2. For me @schema works instead of @ApiModelProperty. Let's say the requestbody is using ABCDto class.</p>\n<pre><code>public class ABCDto {\n    @Schema(name = &quot;id&quot;, example = &quot;1&quot;, required = true)\n    @JsonProperty(&quot;id&quot;)\n    private String id;\n}\n</code></pre>\n"}],"owner":{"account_id":90106,"reputation":1691,"user_id":248183,"accept_rate":72,"display_name":"Roman"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143883,"favorite_count":0,"down_vote_count":0,"up_vote_count":55,"answer_count":7,"score":55,"last_activity_date":1696591411,"creation_date":1507203441,"question_id":46584658,"body_markdown":"I am creating a REST Api using Spring boot, and auto generating the swagger documentation in controllers using swagger codegen. However, I am not able to set a description and example for a parameter of type String in a POST request. Here is mi code:\r\n    \r\n    import io.swagger.annotations.*;\r\n    \r\n    @Api(value = &quot;transaction&quot;, tags = {&quot;transaction&quot;})\r\n    @FunctionalInterface\r\n    public interface ITransactionsApi {\r\n        @ApiOperation(value = &quot;Places a new transaction on the system.&quot;, notes = &quot;Creates a new transaction in the system. See the schema of the Transaction parameter for more information &quot;, tags={ &quot;transaction&quot;, })\r\n        @ApiResponses(value = {\r\n            @ApiResponse(code = 200, message = &quot;Another transaction with the same messageId already exists in the system. No transaction was created.&quot;),\r\n            @ApiResponse(code = 201, message = &quot;The transaction has been correctly created in the system&quot;),\r\n            @ApiResponse(code = 400, message = &quot;The transaction schema is invalid and therefore the transaction has not been created.&quot;, response = String.class),\r\n            @ApiResponse(code = 415, message = &quot;The content type is unsupported&quot;),\r\n            @ApiResponse(code = 500, message = &quot;An unexpected error has occurred. The error has been logged and is being investigated.&quot;) })\r\n    \r\n        @RequestMapping(value = &quot;/transaction&quot;,\r\n            produces = { &quot;text/plain&quot; },\r\n            consumes = { &quot;application/json&quot; },\r\n            method = RequestMethod.POST)\r\n        ResponseEntity&lt;Void&gt; createTransaction(\r\n            @ApiParam(\r\n                value = &quot;A JSON value representing a transaction. An example of the expected schema can be found down here. The fields marked with an * means that they are required.&quot; ,\r\n                example = &quot;{foo: whatever, bar: whatever2}&quot;)\r\n            @Valid @RequestBody String kambiTransaction) throws InvalidTransactionException;\r\n    }\r\n\r\n**The example property of the @ApiParam has been manually inserted by me, because the codegen was ignoring that part of the yaml (That is another question: why is the editor ignoring the example part?).** Here is part of the yaml:\r\n\r\n    paths:\r\n      /transaction:\r\n        post:\r\n          tags:\r\n            - transaction\r\n          summary: Place a new transaction on the system.\r\n          description: &gt;\r\n            Creates a new transaction in the system. See the schema of the Transaction parameter\r\n            for more information\r\n          operationId: createTransaction\r\n          parameters:\r\n            - $ref: &#39;#/parameters/transaction&#39;\r\n          consumes:\r\n            - application/json\r\n          produces:\r\n            - text/plain\r\n          responses:\r\n            &#39;200&#39;:\r\n              description: Another transaction with the same messageId already exists in the system. No transaction was created.\r\n            &#39;201&#39;:\r\n              description: The transaction has been correctly created in the system\r\n            &#39;400&#39;:\r\n              description: The transaction schema is invalid and therefore the transaction has not been created.\r\n              schema:\r\n                type: string\r\n                description: error message explaining why the request is a bad request.\r\n            &#39;415&#39;:\r\n              description: The content type is unsupported\r\n            &#39;500&#39;:\r\n              $ref: &#39;#/responses/Standard500ErrorResponse&#39;\r\n\r\n    parameters:\r\n      transaction:\r\n        name: kambiTransaction\r\n        in: body\r\n        required: true\r\n        description: A JSON value representing a kambi transaction. An example of the expected schema can be found down here. The fields marked with an * means that they are required.\r\n        schema:\r\n          type: string\r\n          example:\r\n            {\r\n              foo*: whatever,\r\n              bar: whatever2\r\n            }\r\n\r\nAnd finally, this is what swagger is showing:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nFinally, the dependencies used in build.gradle are the following ones:\r\n\r\n    compile group: &#39;io.springfox&#39;, name: &#39;springfox-swagger2&#39;, version: &#39;2.7.0&#39;\r\n    compile group: &#39;io.springfox&#39;, name: &#39;springfox-swagger-ui&#39;, version: &#39;2.7.0&#39;\r\n\r\n**So, Question is:**\r\nDoes anybody know how I can set the description and an example of a body parameter using swagger annotations?\r\n\r\n***EDIT***\r\n\r\nI&#39;ve achieved to change the description using @ApiImplicitParam instead of @ApiParam, but example is still missing:\r\n\r\n    @ApiImplicitParams({\r\n        @ApiImplicitParam(\r\n            name = &quot;kambiTransaction&quot;,\r\n            value = &quot;A JSON value representing a transaction. An example of the expected schema can be found down here. The fields marked with * means that they are required. See the schema of KambiTransaction for more information.&quot;,\r\n            required = true,\r\n            dataType = &quot;String&quot;,\r\n            paramType = &quot;body&quot;,\r\n            examples = @Example(value = {@ExampleProperty(mediaType = &quot;application/json&quot;, value = &quot;{foo: whatever, bar: whatever2}&quot;)}))})\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uw5ZU.png","title":"How can I set a description and an example in Swagger with Swagger annotations?","body":"<p>I am creating a REST Api using Spring boot, and auto generating the swagger documentation in controllers using swagger codegen. However, I am not able to set a description and example for a parameter of type String in a POST request. Here is mi code:</p>\n\n<pre><code>import io.swagger.annotations.*;\n\n@Api(value = \"transaction\", tags = {\"transaction\"})\n@FunctionalInterface\npublic interface ITransactionsApi {\n    @ApiOperation(value = \"Places a new transaction on the system.\", notes = \"Creates a new transaction in the system. See the schema of the Transaction parameter for more information \", tags={ \"transaction\", })\n    @ApiResponses(value = {\n        @ApiResponse(code = 200, message = \"Another transaction with the same messageId already exists in the system. No transaction was created.\"),\n        @ApiResponse(code = 201, message = \"The transaction has been correctly created in the system\"),\n        @ApiResponse(code = 400, message = \"The transaction schema is invalid and therefore the transaction has not been created.\", response = String.class),\n        @ApiResponse(code = 415, message = \"The content type is unsupported\"),\n        @ApiResponse(code = 500, message = \"An unexpected error has occurred. The error has been logged and is being investigated.\") })\n\n    @RequestMapping(value = \"/transaction\",\n        produces = { \"text/plain\" },\n        consumes = { \"application/json\" },\n        method = RequestMethod.POST)\n    ResponseEntity&lt;Void&gt; createTransaction(\n        @ApiParam(\n            value = \"A JSON value representing a transaction. An example of the expected schema can be found down here. The fields marked with an * means that they are required.\" ,\n            example = \"{foo: whatever, bar: whatever2}\")\n        @Valid @RequestBody String kambiTransaction) throws InvalidTransactionException;\n}\n</code></pre>\n\n<p><strong>The example property of the @ApiParam has been manually inserted by me, because the codegen was ignoring that part of the yaml (That is another question: why is the editor ignoring the example part?).</strong> Here is part of the yaml:</p>\n\n<pre><code>paths:\n  /transaction:\n    post:\n      tags:\n        - transaction\n      summary: Place a new transaction on the system.\n      description: &gt;\n        Creates a new transaction in the system. See the schema of the Transaction parameter\n        for more information\n      operationId: createTransaction\n      parameters:\n        - $ref: '#/parameters/transaction'\n      consumes:\n        - application/json\n      produces:\n        - text/plain\n      responses:\n        '200':\n          description: Another transaction with the same messageId already exists in the system. No transaction was created.\n        '201':\n          description: The transaction has been correctly created in the system\n        '400':\n          description: The transaction schema is invalid and therefore the transaction has not been created.\n          schema:\n            type: string\n            description: error message explaining why the request is a bad request.\n        '415':\n          description: The content type is unsupported\n        '500':\n          $ref: '#/responses/Standard500ErrorResponse'\n\nparameters:\n  transaction:\n    name: kambiTransaction\n    in: body\n    required: true\n    description: A JSON value representing a kambi transaction. An example of the expected schema can be found down here. The fields marked with an * means that they are required.\n    schema:\n      type: string\n      example:\n        {\n          foo*: whatever,\n          bar: whatever2\n        }\n</code></pre>\n\n<p>And finally, this is what swagger is showing:</p>\n\n<p><a href=\"https://i.stack.imgur.com/uw5ZU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/uw5ZU.png\" alt=\"enter image description here\"></a></p>\n\n<p>Finally, the dependencies used in build.gradle are the following ones:</p>\n\n<pre><code>compile group: 'io.springfox', name: 'springfox-swagger2', version: '2.7.0'\ncompile group: 'io.springfox', name: 'springfox-swagger-ui', version: '2.7.0'\n</code></pre>\n\n<p><strong>So, Question is:</strong>\nDoes anybody know how I can set the description and an example of a body parameter using swagger annotations?</p>\n\n<p><strong><em>EDIT</em></strong></p>\n\n<p>I've achieved to change the description using @ApiImplicitParam instead of @ApiParam, but example is still missing:</p>\n\n<pre><code>@ApiImplicitParams({\n    @ApiImplicitParam(\n        name = \"kambiTransaction\",\n        value = \"A JSON value representing a transaction. An example of the expected schema can be found down here. The fields marked with * means that they are required. See the schema of KambiTransaction for more information.\",\n        required = true,\n        dataType = \"String\",\n        paramType = \"body\",\n        examples = @Example(value = {@ExampleProperty(mediaType = \"application/json\", value = \"{foo: whatever, bar: whatever2}\")}))})\n</code></pre>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":6,"creation_date":1696404194,"post_id":77227504,"comment_id":136146699,"body_markdown":"Stop using outdated classes like`SimpleDateFormat` and `java.util.Date` move over to the more modern `java.time` API","body":"Stop using outdated classes like<code>SimpleDateFormat</code> and <code>java.util.Date</code> move over to the more modern <code>java.time</code> API"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1696404208,"post_id":77227504,"comment_id":136146702,"body_markdown":"Please add the stacktrace","body":"Please add the stacktrace"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1696404395,"post_id":77227504,"comment_id":136146742,"body_markdown":"In general you should avoid using timezone abbreviations (like CEST).  They are often ambiguous.   For example, CST can mean 3 different timezones.  See https://en.wikipedia.org/wiki/List_of_time_zone_abbreviations","body":"In general you should avoid using timezone abbreviations (like CEST).  They are often ambiguous.   For example, CST can mean 3 different timezones.  See <a href=\"https://en.wikipedia.org/wiki/List_of_time_zone_abbreviations\" rel=\"nofollow noreferrer\">en.wikipedia.org/wiki/List_of_time_zone_abbreviations</a>"},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1696406232,"post_id":77227504,"comment_id":136147090,"body_markdown":"That string is the output from the `toString` method of the outdated `java.util.Date`  class. If you can get hold of the original `Date` object, convert with `yourDateObject.toInstant()` and make any further conversions from there, and you need no parsing. If you can get only the string, use [the good answer by deHaar](https://stackoverflow.com/a/77227619/5772882). This question has been asked before. I will search for an original and close this question once I find one.","body":"That string is the output from the <code>toString</code> method of the outdated <code>java.util.Date</code>  class. If you can get hold of the original <code>Date</code> object, convert with <code>yourDateObject.toInstant()</code> and make any further conversions from there, and you need no parsing. If you can get only the string, use <a href=\"https://stackoverflow.com/a/77227619/5772882\">the good answer by deHaar</a>. This question has been asked before. I will search for an original and close this question once I find one."},{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1696412290,"post_id":77227504,"comment_id":136148329,"body_markdown":"Nitpickng, from @StephenC’s link: *&quot;CST&quot; can mean China Standard Time (UTC+8), Cuba Standard Time (UTC−5), and (North American) Central Standard Time (UTC−6), and it is also a widely used variant of ACST (Australian Central Standard Time, UTC+9:30).* I count 4 in the quote.","body":"Nitpickng, from @StephenC’s link: <i>&quot;CST&quot; can mean China Standard Time (UTC+8), Cuba Standard Time (UTC−5), and (North American) Central Standard Time (UTC−6), and it is also a widely used variant of ACST (Australian Central Standard Time, UTC+9:30).</i> I count 4 in the quote."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1696415013,"post_id":77227504,"comment_id":136149012,"body_markdown":"@OleV.V. -  I live in Australia and I used to live in that timezone ... and CST is &gt;not&lt; commonly used in Australia.  Certainly, not these days.","body":"@OleV.V. -  I live in Australia and I used to live in that timezone ... and CST is &gt;not&lt; commonly used in Australia.  Certainly, not these days."}],"answers":[{"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":2,"creation_date":1696411461,"post_id":77227543,"comment_id":136148151,"body_markdown":"Don&#39;t encourage the use of superseded classes like `SimpleDateFormat`","body":"Don&#39;t encourage the use of superseded classes like <code>SimpleDateFormat</code>"}],"tags":[],"owner":{"account_id":29120678,"reputation":301,"user_id":22308196,"display_name":"Beulah Evanjalin"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696404069,"creation_date":1696404069,"answer_id":77227543,"question_id":77227504,"body_markdown":"Assuming the format &quot;EEE MMM dd HH:mm:ss zzz yyyy&quot;, I  have tried the following and it works!\r\n\r\n```\r\nString dateString = &quot;Wed Oct 11 08:27:33 CEST 2023&quot;;\r\nSimpleDateFormat formatter = new SimpleDateFormat(&quot;EEE MMM dd HH:mm:ss zzz yyyy&quot;);\r\nformatter.parse(dateString);\r\n```","title":"How to convert string in format &quot;Wed Oct 11 08:27:33 CEST 2023&quot; to date in Java","body":"<p>Assuming the format &quot;EEE MMM dd HH:mm:ss zzz yyyy&quot;, I  have tried the following and it works!</p>\n<pre><code>String dateString = &quot;Wed Oct 11 08:27:33 CEST 2023&quot;;\nSimpleDateFormat formatter = new SimpleDateFormat(&quot;EEE MMM dd HH:mm:ss zzz yyyy&quot;);\nformatter.parse(dateString);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":7612423,"reputation":82506,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1696406518,"post_id":77227619,"comment_id":136147157,"body_markdown":"While we still encounter a few cases where we need an old-fashioned `Date` for a legacy API, no one needs to use the notoriously troublesome `SimpleDateFormat` (except I once met an API that required me to pass a `SimpleDateFormat` instance as argument for reasons that I never understood; but that definitely doesn’t seem to be the case here).","body":"While we still encounter a few cases where we need an old-fashioned <code>Date</code> for a legacy API, no one needs to use the notoriously troublesome <code>SimpleDateFormat</code> (except I once met an API that required me to pass a <code>SimpleDateFormat</code> instance as argument for reasons that I never understood; but that definitely doesn’t seem to be the case here)."},{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":0,"creation_date":1696413109,"post_id":77227619,"comment_id":136148549,"body_markdown":"Unfortunately, I have seen tasks in universities that required the students to use Java 8 **and** also required them to solve tasks using `java.util.Date` and `java.text.SimpleDateFormat` exclusively… Facepalm, I know… But sometimes you have to do what you were told to do.","body":"Unfortunately, I have seen tasks in universities that required the students to use Java 8 <b>and</b> also required them to solve tasks using <code>java.util.Date</code> and <code>java.text.SimpleDateFormat</code> exclusively… Facepalm, I know… But sometimes you have to do what you were told to do."}],"tags":[],"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"comment_count":2,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1696405189,"creation_date":1696404832,"answer_id":77227619,"question_id":77227504,"body_markdown":"If you are not forced to deal with large amounts of legacy code that makes heavy use of `java.util.Date` and you are using a Java version of 8 or higher, you are best adviced to use `java.time`, even if the desired result must be a `java.util.Date`.\r\n\r\nHere&#39;s an example that uses `java.time` and produces a `java.util.Date`:\r\n\r\n```Java\r\npublic static void main(String[] args) {\r\n\t// example input\r\n\tString input = &quot;Wed Oct 11 08:27:33 CEST 2023&quot;;\r\n\t// define a formatter for the input including a locale\r\n\tDateTimeFormatter dtf = DateTimeFormatter.ofPattern(\r\n\t\t\t\t\t\t\t\t&quot;EEE MMM dd HH:mm:ss z uuuu&quot;,\r\n\t\t\t\t\t\t\t\tLocale.ENGLISH\r\n\t\t\t\t\t\t\t);\r\n\t// parse the input using the formatter\r\n\tZonedDateTime zdt = ZonedDateTime.parse(input, dtf);\r\n\t// print it\r\n\tSystem.out.println(ZonedDateTime.parse(input, dtf));\r\n\t// convert it to a java.util.Date\r\n\tDate date = Date.from(zdt.toInstant());\r\n\t// print the Date, too\r\n\tSystem.out.println(date);\r\n}\r\n```\r\n\r\nOutput:\r\n\r\n```none\r\n2023-10-11T08:27:33+02:00[Europe/Paris]\r\nWed Oct 11 08:27:33 CEST 2023\r\n```\r\n\r\n---\r\n\r\nIf you have to use `java.util` and `java.text` for this task, then use a `z` in order to parse the time zone name (`CEST` for *Central European Summer Time*) and better add a `Locale.ENGLISH`):\r\n\r\n```Java\r\npublic static void main(String[] args) {\r\n\t// example input\r\n\tString input = &quot;Wed Oct 11 08:27:33 CEST 2023&quot;;\r\n\t// create a matching parser\r\n\tSimpleDateFormat sdf = new SimpleDateFormat(\r\n\t\t\t\t\t\t\t\t&quot;EEE MMM dd HH:mm:ss z yyyy&quot;,\r\n\t\t\t\t\t\t\t\tLocale.ENGLISH\r\n\t\t\t\t\t\t\t);\r\n\t// parse the String\r\n\tDate date = sdf.parse(input);\r\n\t// print the Date\r\n\tSystem.out.println(date);\r\n}\r\n```\r\nOutput:\r\n```none\r\nWed Oct 11 08:27:33 CEST 2023\r\n```","title":"How to convert string in format &quot;Wed Oct 11 08:27:33 CEST 2023&quot; to date in Java","body":"<p>If you are not forced to deal with large amounts of legacy code that makes heavy use of <code>java.util.Date</code> and you are using a Java version of 8 or higher, you are best adviced to use <code>java.time</code>, even if the desired result must be a <code>java.util.Date</code>.</p>\n<p>Here's an example that uses <code>java.time</code> and produces a <code>java.util.Date</code>:</p>\n<pre><code>public static void main(String[] args) {\n    // example input\n    String input = &quot;Wed Oct 11 08:27:33 CEST 2023&quot;;\n    // define a formatter for the input including a locale\n    DateTimeFormatter dtf = DateTimeFormatter.ofPattern(\n                                &quot;EEE MMM dd HH:mm:ss z uuuu&quot;,\n                                Locale.ENGLISH\n                            );\n    // parse the input using the formatter\n    ZonedDateTime zdt = ZonedDateTime.parse(input, dtf);\n    // print it\n    System.out.println(ZonedDateTime.parse(input, dtf));\n    // convert it to a java.util.Date\n    Date date = Date.from(zdt.toInstant());\n    // print the Date, too\n    System.out.println(date);\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2023-10-11T08:27:33+02:00[Europe/Paris]\nWed Oct 11 08:27:33 CEST 2023\n</code></pre>\n<hr />\n<p>If you have to use <code>java.util</code> and <code>java.text</code> for this task, then use a <code>z</code> in order to parse the time zone name (<code>CEST</code> for <em>Central European Summer Time</em>) and better add a <code>Locale.ENGLISH</code>):</p>\n<pre><code>public static void main(String[] args) {\n    // example input\n    String input = &quot;Wed Oct 11 08:27:33 CEST 2023&quot;;\n    // create a matching parser\n    SimpleDateFormat sdf = new SimpleDateFormat(\n                                &quot;EEE MMM dd HH:mm:ss z yyyy&quot;,\n                                Locale.ENGLISH\n                            );\n    // parse the String\n    Date date = sdf.parse(input);\n    // print the Date\n    System.out.println(date);\n}\n</code></pre>\n<p>Output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Wed Oct 11 08:27:33 CEST 2023\n</code></pre>\n"}],"owner":{"account_id":29594148,"reputation":11,"user_id":22680996,"display_name":"Ajeet Kumar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":109,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1696519885,"answer_count":2,"score":0,"last_activity_date":1696590950,"creation_date":1696403610,"question_id":77227504,"body_markdown":"I need to convert `String` which is in format `&quot;Wed Oct 11 08:27:33 CEST 2023&quot;` to date in Java.\r\n\r\nI tried to use below but it is throwing parsing error.\r\n\r\n```Java\r\nString dateString = &quot;Wed Oct 11 08:27:33 CEST 2023&quot;;\r\nSimpleDateFormat formatter = new SimpleDateFormat(&quot;E MMM dd HH:mm:ss XXX yyyy&quot;);\r\nformatter.parse(dateString);\r\n```\r\nFrankly speaking, I am not sure how to handle `&quot;CEST&quot;` part\r\n","title":"How to convert string in format &quot;Wed Oct 11 08:27:33 CEST 2023&quot; to date in Java","body":"<p>I need to convert <code>String</code> which is in format <code>&quot;Wed Oct 11 08:27:33 CEST 2023&quot;</code> to date in Java.</p>\n<p>I tried to use below but it is throwing parsing error.</p>\n<pre><code>String dateString = &quot;Wed Oct 11 08:27:33 CEST 2023&quot;;\nSimpleDateFormat formatter = new SimpleDateFormat(&quot;E MMM dd HH:mm:ss XXX yyyy&quot;);\nformatter.parse(dateString);\n</code></pre>\n<p>Frankly speaking, I am not sure how to handle <code>&quot;CEST&quot;</code> part</p>\n"},{"tags":["java","string","recursion","dynamic-programming"],"comments":[{"owner":{"account_id":26377,"reputation":352197,"user_id":68587,"accept_rate":95,"display_name":"John Kugelman"},"score":0,"creation_date":1429401894,"post_id":29724231,"comment_id":47582784,"body_markdown":"Can you show your recursive attempt? You really, really need to use recursion on this problem. A non-recursive solution like what you posted is just not going to work.","body":"Can you show your recursive attempt? You really, really need to use recursion on this problem. A non-recursive solution like what you posted is just not going to work."},{"owner":{"account_id":5550028,"reputation":805,"user_id":4403456,"accept_rate":29,"display_name":"Boris"},"score":0,"creation_date":1429401972,"post_id":29724231,"comment_id":47582797,"body_markdown":"@JohnKugelman  my recursive attempts were really awful since I can&#39;t understand how to properly solve this question with recursion. I just need to understand the basics on how to approach these types of problems.","body":"@JohnKugelman  my recursive attempts were really awful since I can&#39;t understand how to properly solve this question with recursion. I just need to understand the basics on how to approach these types of problems."}],"answers":[{"tags":[],"owner":{"account_id":3206885,"reputation":44070,"user_id":2707792,"accept_rate":100,"display_name":"Andrey Tyukin"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1696590859,"creation_date":1429402457,"answer_id":29724347,"question_id":29724231,"body_markdown":"1) Name your methods properly, &quot;WAYS&quot; is a constant name, not a method name.\r\n\r\n2) Provide runnable code, especially in cases where it&#39;s so short.\r\n\r\n3) Never use Exceptions for control flow. _(*Never say never; But unless you&#39;re actually designing some weird control flow primitives, like support for non-local returns: don&#39;t use Exceptions for control flow)_\r\n\r\n4) You are using magic values like &quot;uug&quot; and &quot;ook&quot; in your code? Does this look simple and obvious? Does this look maintainable? What is this supposed to look like if you get a lexicon with a million of different words?\r\n\r\nEdit: giving the complete listing is somehow boring, so I left a few gaps. Try to fill those, hope that helps.\r\n\r\n    public class JammedWords {\r\n      public static int ways(String sentence, String[] words) {\r\n        if (sentence.isEmpty()) {\r\n          // The trivial case: the sentence is empty. Return a single number.\r\n        } else {\r\n          int c = 0;\r\n          for (String w: words) {\r\n            if (sentence.startsWith(w)) {\r\n              // call method recursively, update counter `c`.\r\n            }\r\n          }\r\n          return c;\r\n        }\r\n      }\r\n      public static void main(String[] args) {\r\n        System.out.println(ways(&quot;ookookook&quot;, new String[]{&quot;ook&quot;, &quot;ookook&quot;}));\r\n        System.out.println(ways(&quot;oogamookoogumook&quot;, new String[]{&quot;ooga&quot;,&quot;oogam&quot;,&quot;oogum&quot;,&quot;mook&quot;,&quot;ook&quot;}));\r\n      }\r\n    }\r\n\r\nHints: \r\n\r\nA) Understand the difference between empty set, set containing the empty set, set containing a set containing an empty set etc. Sets that contain empty sets are of course not empty, and their size is not 0.\r\n\r\nB) There is a handy method String.substring(n) that drops everything before the &#39;n&#39;-th character. And there is String.length() to get size of words.","title":"Recursion? Combinations in a String","body":"<ol>\n<li><p>Name your methods properly, &quot;WAYS&quot; is a constant name, not a method name.</p>\n</li>\n<li><p>Provide runnable code, especially in cases where it's so short.</p>\n</li>\n<li><p>Never use Exceptions for control flow. <em>(*Never say never; But unless you're actually designing some weird control flow primitives, like support for non-local returns: don't use Exceptions for control flow)</em></p>\n</li>\n<li><p>You are using magic values like &quot;uug&quot; and &quot;ook&quot; in your code? Does this look simple and obvious? Does this look maintainable? What is this supposed to look like if you get a lexicon with a million of different words?</p>\n</li>\n</ol>\n<p>Edit: giving the complete listing is somehow boring, so I left a few gaps. Try to fill those, hope that helps.</p>\n<pre><code>public class JammedWords {\n  public static int ways(String sentence, String[] words) {\n    if (sentence.isEmpty()) {\n      // The trivial case: the sentence is empty. Return a single number.\n    } else {\n      int c = 0;\n      for (String w: words) {\n        if (sentence.startsWith(w)) {\n          // call method recursively, update counter `c`.\n        }\n      }\n      return c;\n    }\n  }\n  public static void main(String[] args) {\n    System.out.println(ways(&quot;ookookook&quot;, new String[]{&quot;ook&quot;, &quot;ookook&quot;}));\n    System.out.println(ways(&quot;oogamookoogumook&quot;, new String[]{&quot;ooga&quot;,&quot;oogam&quot;,&quot;oogum&quot;,&quot;mook&quot;,&quot;ook&quot;}));\n  }\n}\n</code></pre>\n<p>Hints:</p>\n<p>A) Understand the difference between empty set, set containing the empty set, set containing a set containing an empty set etc. Sets that contain empty sets are of course not empty, and their size is not 0.</p>\n<p>B) There is a handy method String.substring(n) that drops everything before the 'n'-th character. And there is String.length() to get size of words.</p>\n"},{"tags":[],"owner":{"account_id":4894353,"reputation":593,"user_id":3944480,"accept_rate":89,"display_name":"L D"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429405087,"creation_date":1429405087,"answer_id":29724634,"question_id":29724231,"body_markdown":"Hope VB.NET code won&#39;t mind, just for the grasp.\r\n\r\n    Private Sub Go()\r\n        Dim words As New List(Of String)\r\n\r\n        words.Add(&quot;ooga&quot;)\r\n        words.Add(&quot;oogam&quot;)\r\n        words.Add(&quot;oogum&quot;)\r\n        words.Add(&quot;mook&quot;)\r\n        words.Add(&quot;ook&quot;)\r\n\r\n        Search(&quot;oogamookoogumook&quot;, words, &quot;&quot;, New List(Of String))\r\n    End Sub\r\n\r\n    Private Sub Search(ByVal sentence As String, _\r\n                            ByVal wordList As List(Of String), _\r\n                            ByVal actualSentenceBuildingState As String, _\r\n                            ByVal currentPath As List(Of String))\r\n\r\n        For Each word As String In wordList\r\n            Dim actualSentenceAttemp As String\r\n            Dim thisPath As New List(Of String)(currentPath)\r\n\r\n            thisPath.Add(word)\r\n            actualSentenceAttemp = actualSentenceBuildingState + word\r\n\r\n            If actualSentenceAttemp = sentence Then\r\n                Debug.Print(&quot;Found: &quot; + String.Join(&quot;-&gt;&quot;, thisPath.ToArray()))\r\n            End If\r\n\r\n            If actualSentenceAttemp.Length &lt; sentence.Length Then &#39;if we are not too far, we can continue\r\n                Search(sentence, wordList, actualSentenceAttemp, thisPath)\r\n            End If\r\n        Next\r\n    End Sub\r\n\r\nPrintouts:\r\n\r\n    Sentence: oogamookoogumook\r\n    Found: ooga-&gt;mook-&gt;oogum-&gt;ook\r\n    Found: oogam-&gt;ook-&gt;oogum-&gt;ook\r\n\r\n    Sentence: ookookook\r\n    Found: ook-&gt;ook-&gt;ook\r\n    Found: ook-&gt;ookook\r\n    Found: ookook-&gt;ook\r\n\r\nThink about it as walking in graph (its nothing else than that in fact). You start with nothing (empty string). Now you start to iteratively add words from wordlist into your &#39;current attemp for sentence&#39;. After adding word to current attemp, you can end only in three possible states: (1) you got the final sentence, (2) current attemp is shorter than target sentence and thus still suitable for adding next words (recursion call), or (3), your current attemp is longer (or the same length but not equal) than target sequence, thus it has no meaning to continue in search with it. \r\n\r\nWhat you have to remember is path -- &quot;how did i get here?&quot; list (back tracking).","title":"Recursion? Combinations in a String","body":"<p>Hope VB.NET code won't mind, just for the grasp.</p>\n\n<pre><code>Private Sub Go()\n    Dim words As New List(Of String)\n\n    words.Add(\"ooga\")\n    words.Add(\"oogam\")\n    words.Add(\"oogum\")\n    words.Add(\"mook\")\n    words.Add(\"ook\")\n\n    Search(\"oogamookoogumook\", words, \"\", New List(Of String))\nEnd Sub\n\nPrivate Sub Search(ByVal sentence As String, _\n                        ByVal wordList As List(Of String), _\n                        ByVal actualSentenceBuildingState As String, _\n                        ByVal currentPath As List(Of String))\n\n    For Each word As String In wordList\n        Dim actualSentenceAttemp As String\n        Dim thisPath As New List(Of String)(currentPath)\n\n        thisPath.Add(word)\n        actualSentenceAttemp = actualSentenceBuildingState + word\n\n        If actualSentenceAttemp = sentence Then\n            Debug.Print(\"Found: \" + String.Join(\"-&gt;\", thisPath.ToArray()))\n        End If\n\n        If actualSentenceAttemp.Length &lt; sentence.Length Then 'if we are not too far, we can continue\n            Search(sentence, wordList, actualSentenceAttemp, thisPath)\n        End If\n    Next\nEnd Sub\n</code></pre>\n\n<p>Printouts:</p>\n\n<pre><code>Sentence: oogamookoogumook\nFound: ooga-&gt;mook-&gt;oogum-&gt;ook\nFound: oogam-&gt;ook-&gt;oogum-&gt;ook\n\nSentence: ookookook\nFound: ook-&gt;ook-&gt;ook\nFound: ook-&gt;ookook\nFound: ookook-&gt;ook\n</code></pre>\n\n<p>Think about it as walking in graph (its nothing else than that in fact). You start with nothing (empty string). Now you start to iteratively add words from wordlist into your 'current attemp for sentence'. After adding word to current attemp, you can end only in three possible states: (1) you got the final sentence, (2) current attemp is shorter than target sentence and thus still suitable for adding next words (recursion call), or (3), your current attemp is longer (or the same length but not equal) than target sequence, thus it has no meaning to continue in search with it. </p>\n\n<p>What you have to remember is path -- \"how did i get here?\" list (back tracking).</p>\n"}],"owner":{"account_id":5550028,"reputation":805,"user_id":4403456,"accept_rate":29,"display_name":"Boris"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":29724347,"answer_count":2,"score":2,"last_activity_date":1696590859,"creation_date":1429401242,"question_id":29724231,"body_markdown":"I&#39;ve been dealing with the following recursion question for a while now and haven&#39;t been able to figure it out. Basically, you have some sort of a sentence  made out of certain words, where all the words are just jammed together, not spaced out. The idea is to find the number of all possible combinations of words that can be used to create the sentence.\r\n\r\nFor example,\r\n\r\n* Words:    ook, ookook\r\n* Sentence: ookookook\r\n* Solution: {ook, ook, ook}, {ookook, ook}, {ook, ookook}.\r\n\r\n\r\nAnother example:\r\n\r\n* Words:    ooga, oogam, oogum, mook, ook\r\n* Sentence: oogamookoogumook\r\n* Solution: {ooga, mook, oogum, ook}, {oogam, ook, oogum, ook}\r\n\r\nI&#39;ve tried a lot of things, finally giving up and trying to do it manually...\r\n\r\n    public static int WAYS(String word) {\r\n\t\tint ways = 1;\r\n\t\tfor (int i = 0; i &lt; word.length(); i++) {\r\n\t\t\ttry{\r\n\t\t\t\tif(word.substring(i, i - 2).equals(&quot;ug&quot;)){\r\n\t\t\t\t\tif(word.substring(i - 4, i - 2).equals(&quot;ug&quot;)){\r\n\t\t\t\t\t\tways++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if(word.substring(i, i - 3).contains(&quot;ook&quot;)){\r\n\t\t\t\t\tSystem.out.println(word.substring(i-6, i-3));\r\n\t\t\t\t\tif(word.substring(i - 6, i - 3).equals(&quot;ook&quot;)){\r\n\t\t\t\t\t\tways++;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(word.charAt(i - 4) == &#39;m&#39;){\r\n\t\t\t\t\t\tif(word.substring(i - 8, i - 4).equals(&quot;ooga&quot;) || word.substring(i - 8, i - 4).equals(&quot;oogu&quot;)){\r\n\t\t\t\t\t\t\tways++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse if(word.substring(i, i - 4).contains(&quot;mook&quot;)){\r\n\t\t\t\t\tif(word.substring(i - 8, i - 4).contains(&quot;mook&quot;)){\r\n\t\t\t\t\t\tways++;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(word.substring(i, i - 2).equals(&quot;oog&quot;)){\r\n\t\t\t\t\tif(word.charAt(i + 2) == &#39;m&#39;){\r\n\t\t\t\t\t\tif(word.charAt(i + 1) == &#39;a&#39; || word.charAt(i + 1) == &#39;u&#39;){\r\n\t\t\t\t\t\t\tways++;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} catch(Exception e){\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn ways;\r\n\t}\r\n\r\nBut it hasn&#39;t worked. Could somebody please give me an idea or a sample on approaching this problem using recursion?","title":"Recursion? Combinations in a String","body":"<p>I've been dealing with the following recursion question for a while now and haven't been able to figure it out. Basically, you have some sort of a sentence  made out of certain words, where all the words are just jammed together, not spaced out. The idea is to find the number of all possible combinations of words that can be used to create the sentence.</p>\n\n<p>For example,</p>\n\n<ul>\n<li>Words:    ook, ookook</li>\n<li>Sentence: ookookook</li>\n<li>Solution: {ook, ook, ook}, {ookook, ook}, {ook, ookook}.</li>\n</ul>\n\n<p>Another example:</p>\n\n<ul>\n<li>Words:    ooga, oogam, oogum, mook, ook</li>\n<li>Sentence: oogamookoogumook</li>\n<li>Solution: {ooga, mook, oogum, ook}, {oogam, ook, oogum, ook}</li>\n</ul>\n\n<p>I've tried a lot of things, finally giving up and trying to do it manually...</p>\n\n<pre><code>public static int WAYS(String word) {\n    int ways = 1;\n    for (int i = 0; i &lt; word.length(); i++) {\n        try{\n            if(word.substring(i, i - 2).equals(\"ug\")){\n                if(word.substring(i - 4, i - 2).equals(\"ug\")){\n                    ways++;\n                }\n            }\n            else if(word.substring(i, i - 3).contains(\"ook\")){\n                System.out.println(word.substring(i-6, i-3));\n                if(word.substring(i - 6, i - 3).equals(\"ook\")){\n                    ways++;\n                }\n                if(word.charAt(i - 4) == 'm'){\n                    if(word.substring(i - 8, i - 4).equals(\"ooga\") || word.substring(i - 8, i - 4).equals(\"oogu\")){\n                        ways++;\n                    }\n                }\n            }\n            else if(word.substring(i, i - 4).contains(\"mook\")){\n                if(word.substring(i - 8, i - 4).contains(\"mook\")){\n                    ways++;\n                }\n            }\n            if(word.substring(i, i - 2).equals(\"oog\")){\n                if(word.charAt(i + 2) == 'm'){\n                    if(word.charAt(i + 1) == 'a' || word.charAt(i + 1) == 'u'){\n                        ways++;\n                    }\n                }\n            }\n        } catch(Exception e){\n            continue;\n        }\n    }\n    return ways;\n}\n</code></pre>\n\n<p>But it hasn't worked. Could somebody please give me an idea or a sample on approaching this problem using recursion?</p>\n"},{"tags":["java","unit-testing","mocking","mockito"],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696554119,"creation_date":1696554119,"answer_id":77241340,"question_id":77241279,"body_markdown":"The default return value for all methods on a mock is null (or the equivalent default values for primitive types). If you want `m2()` to return a value you will need to stub the call:\r\n```\r\nwhen(c2.m2()).thenReturn(&quot;world&quot;);\r\n```\r\nThis is because the mock has *no implementation* for `m2` other than returning `null`.\r\n\r\nOf course in a real test you would never call a method on a mock directly.","title":"Mockito doesn&#39;t intercept indirect method call?","body":"<p>The default return value for all methods on a mock is null (or the equivalent default values for primitive types). If you want <code>m2()</code> to return a value you will need to stub the call:</p>\n<pre><code>when(c2.m2()).thenReturn(&quot;world&quot;);\n</code></pre>\n<p>This is because the mock has <em>no implementation</em> for <code>m2</code> other than returning <code>null</code>.</p>\n<p>Of course in a real test you would never call a method on a mock directly.</p>\n"},{"tags":[],"owner":{"account_id":1090437,"reputation":6796,"user_id":1085186,"accept_rate":100,"display_name":"StackFlowed"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696556165,"creation_date":1696556165,"answer_id":77241416,"question_id":77241279,"body_markdown":"This is because it is a mocked class. You need to understand mock work as if it extending the class with overriding all methods. In youe case when you don&#39;t set behavior for mock methods it will return null by default. \r\n\r\nEither mock the behavior of m2 method \r\n\r\n    when(c2.m2()).thenReturn(&quot;world&quot;)\r\n\r\nor\r\n\r\n     when(c2.m2()).thenCallRealMethod()","title":"Mockito doesn&#39;t intercept indirect method call?","body":"<p>This is because it is a mocked class. You need to understand mock work as if it extending the class with overriding all methods. In youe case when you don't set behavior for mock methods it will return null by default.</p>\n<p>Either mock the behavior of m2 method</p>\n<pre><code>when(c2.m2()).thenReturn(&quot;world&quot;)\n</code></pre>\n<p>or</p>\n<pre><code> when(c2.m2()).thenCallRealMethod()\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":1,"creation_date":1696580495,"post_id":77241429,"comment_id":136174131,"body_markdown":"Keep in mind that when you use `spy`, if you call `when(c2.m1())` it actually calls `m1()` on the instance. This may have side effects. To prevent this, switch the order: `doReturn(&quot;world&quot;).when(c2).m1()`.","body":"Keep in mind that when you use <code>spy</code>, if you call <code>when(c2.m1())</code> it actually calls <code>m1()</code> on the instance. This may have side effects. To prevent this, switch the order: <code>doReturn(&quot;world&quot;).when(c2).m1()</code>."},{"owner":{"account_id":27529235,"reputation":437,"user_id":21008053,"display_name":"subasri_"},"score":0,"creation_date":1696590650,"post_id":77241429,"comment_id":136175948,"body_markdown":"Noted and updated @RobSpoor","body":"Noted and updated @RobSpoor"}],"tags":[],"owner":{"account_id":27529235,"reputation":437,"user_id":21008053,"display_name":"subasri_"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696590624,"creation_date":1696556485,"answer_id":77241429,"question_id":77241279,"body_markdown":"Your object `c2` is mocked, actual invocation of the method `m2()` will not happen. Hence `null` is returned.\r\n\r\nYou will have to spy the class for your expected output. Spy does partial mocking. It invokes the actual methods while it still can be verified and stubbed.\r\n\r\n```\r\nC2 c2 = spy(new C2());\r\nMockito.doReturn(“world”).when(c2).m1();\r\nSystem.out.println(c2.m2()); // this will return &quot;world&quot; as you expect\r\n```\r\n\r\n","title":"Mockito doesn&#39;t intercept indirect method call?","body":"<p>Your object <code>c2</code> is mocked, actual invocation of the method <code>m2()</code> will not happen. Hence <code>null</code> is returned.</p>\n<p>You will have to spy the class for your expected output. Spy does partial mocking. It invokes the actual methods while it still can be verified and stubbed.</p>\n<pre><code>C2 c2 = spy(new C2());\nMockito.doReturn(“world”).when(c2).m1();\nSystem.out.println(c2.m2()); // this will return &quot;world&quot; as you expect\n</code></pre>\n"}],"owner":{"account_id":9074826,"reputation":707,"user_id":6756794,"accept_rate":25,"display_name":"zanyman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1696590624,"creation_date":1696552369,"question_id":77241279,"body_markdown":"I have the following code snippet to simply represent the issue:\r\n```\r\npublic class C2 {\r\n    public String m1() {\r\n        return &quot;hello&quot;;\r\n    }\r\n\r\n    public String m2() {\r\n        return this.m1();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        C2 c2 = mock(C2.class);\r\n        Mockito.when(c2.m1()).thenReturn(&quot;world&quot;);\r\n        System.out.println(c2.m2()); -- mockito returned null instead of &quot;world&quot;\r\n```\r\n\r\nWhat I expect mockito to return is &quot;world&quot; instead of null. Is it I&#39;m wrongly using the mockito API? if so, what&#39;s the correct way to achieve what I expect?\r\n","title":"Mockito doesn&#39;t intercept indirect method call?","body":"<p>I have the following code snippet to simply represent the issue:</p>\n<pre><code>public class C2 {\n    public String m1() {\n        return &quot;hello&quot;;\n    }\n\n    public String m2() {\n        return this.m1();\n    }\n\n    public static void main(String[] args) {\n        C2 c2 = mock(C2.class);\n        Mockito.when(c2.m1()).thenReturn(&quot;world&quot;);\n        System.out.println(c2.m2()); -- mockito returned null instead of &quot;world&quot;\n</code></pre>\n<p>What I expect mockito to return is &quot;world&quot; instead of null. Is it I'm wrongly using the mockito API? if so, what's the correct way to achieve what I expect?</p>\n"},{"tags":["java","android","backgroundworker","android-workmanager","periodic-task"],"owner":{"account_id":6989591,"reputation":3250,"user_id":5359340,"display_name":"FGH"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1696634602,"answer_count":0,"score":0,"last_activity_date":1696590543,"creation_date":1696590543,"question_id":77243968,"body_markdown":"I created a sample Android application to send requests every 12 hours, I used worker class to achieve this, and I implemented like below, for testing purposes I have  changed the time to 6 Sec, but it&#39;s not changing every 6 seconds, what went wrong here, Thanks in Advance\r\n\r\n&gt; MyWorker.class\r\n\r\n    public class MyWorker extends Worker {\r\n        private static final String TAG = &quot;MyWorker&quot;;\r\n        public MyWorker(@NonNull Context context, @NonNull WorkerParameters params) {\r\n            super(context, params);\r\n        }\r\n    \r\n        @NonNull\r\n        @Override\r\n        public Result doWork() {\r\n            Log.d(TAG, &quot;doWork: now.... doing it&quot;);\r\n            sendRequest();\r\n            // Do your background work here\r\n            // This is where you&#39;ll put the code you want to run periodically\r\n            return Result.success(); // Indicate success\r\n        }\r\n    \r\n        private void sendRequest() {\r\n            //send\r\n        }\r\n    }\r\n\r\n&gt; in the MainActivity.class inside the onCreate method\r\n\r\n       private void doWork() {\r\n    //        Constraints constraints = new Constraints.Builder()\r\n    //                .setRequiredNetworkType(NetworkType.CONNECTED)\r\n    //                .build();\r\n    \r\n            Constraints constraints = new Constraints.Builder()\r\n                    .setRequiredNetworkType(NetworkType.UNMETERED) // This allows work to run on unmetered networks (Wi-Fi)\r\n                    .build();\r\n    \r\n    //        PeriodicWorkRequest periodicWorkRequest =\r\n    //                new PeriodicWorkRequest.Builder(MyWorker.class, 12, TimeUnit.HOURS)\r\n    //                        .setConstraints(constraints)\r\n    //                        .build();\r\n    \r\n            PeriodicWorkRequest periodicWorkRequest =\r\n                    new PeriodicWorkRequest.Builder(MyWorker.class, 6, TimeUnit.SECONDS)\r\n                            .setConstraints(constraints)\r\n                            .build();\r\n    \r\n            WorkManager.getInstance(this).enqueue(periodicWorkRequest);\r\n        }\r\n\r\n&gt; Manifest inside the application tag\r\n\r\n  \r\n\r\n               &lt;service\r\n                android:name=&quot;.MyWorker&quot;\r\n                android:exported=&quot;false&quot;\r\n                android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot; /&gt;\r\n\r\n\r\nThanks in Advance,\r\n\r\n","title":"in Android, Periodic work only runs one time and stops after quitting the app","body":"<p>I created a sample Android application to send requests every 12 hours, I used worker class to achieve this, and I implemented like below, for testing purposes I have  changed the time to 6 Sec, but it's not changing every 6 seconds, what went wrong here, Thanks in Advance</p>\n<blockquote>\n<p>MyWorker.class</p>\n</blockquote>\n<pre><code>public class MyWorker extends Worker {\n    private static final String TAG = &quot;MyWorker&quot;;\n    public MyWorker(@NonNull Context context, @NonNull WorkerParameters params) {\n        super(context, params);\n    }\n\n    @NonNull\n    @Override\n    public Result doWork() {\n        Log.d(TAG, &quot;doWork: now.... doing it&quot;);\n        sendRequest();\n        // Do your background work here\n        // This is where you'll put the code you want to run periodically\n        return Result.success(); // Indicate success\n    }\n\n    private void sendRequest() {\n        //send\n    }\n}\n</code></pre>\n<blockquote>\n<p>in the MainActivity.class inside the onCreate method</p>\n</blockquote>\n<pre><code>   private void doWork() {\n//        Constraints constraints = new Constraints.Builder()\n//                .setRequiredNetworkType(NetworkType.CONNECTED)\n//                .build();\n\n        Constraints constraints = new Constraints.Builder()\n                .setRequiredNetworkType(NetworkType.UNMETERED) // This allows work to run on unmetered networks (Wi-Fi)\n                .build();\n\n//        PeriodicWorkRequest periodicWorkRequest =\n//                new PeriodicWorkRequest.Builder(MyWorker.class, 12, TimeUnit.HOURS)\n//                        .setConstraints(constraints)\n//                        .build();\n\n        PeriodicWorkRequest periodicWorkRequest =\n                new PeriodicWorkRequest.Builder(MyWorker.class, 6, TimeUnit.SECONDS)\n                        .setConstraints(constraints)\n                        .build();\n\n        WorkManager.getInstance(this).enqueue(periodicWorkRequest);\n    }\n</code></pre>\n<blockquote>\n<p>Manifest inside the application tag</p>\n</blockquote>\n<pre><code>           &lt;service\n            android:name=&quot;.MyWorker&quot;\n            android:exported=&quot;false&quot;\n            android:permission=&quot;android.permission.BIND_JOB_SERVICE&quot; /&gt;\n</code></pre>\n<p>Thanks in Advance,</p>\n"},{"tags":["java","junit","mockito"],"answers":[{"tags":[],"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1528101227,"creation_date":1528101227,"answer_id":50676394,"question_id":50652516,"body_markdown":"your problem here is that you are calling `when` with something that isn&#39;t a mock. You are passing it an `Optional`. \r\n\r\nIf I understand what you are trying to do here, the clientHelper is passed to the object with the `doSomething` method and you want to mock it for testing purposes. If that&#39;s the case it&#39;d more typically look like this:\r\n\r\n    interface ClientHelper {\r\n        Client get(String place) throws Ex;\r\n    }\r\n\r\n    class ClassUnderTest {\r\n        private final ClientHelper clientHelper;\r\n\r\n        public ClassUnderTest(ClientHelper helper) {\r\n            this.clientHelper = helper;\r\n        }\r\n\r\n        public Optional&lt;String&gt; doSomething(String place) {\r\n            try {\r\n                return Optional.ofNullable(clientHelper.get(place).getPlaceDetails(place));\r\n            } catch (Ex ex) {\r\n                log.warn(&quot;Exception: &quot; + ex);\r\n                return Optional.empty();\r\n            }\r\n        }\r\n    }\r\n\r\n    @Test\r\n    void testFullHelper() {\r\n        Client client = mock(Client.class);\r\n        when(client.getPlaceDetails(&quot;IN&quot;)).thenReturn(&quot;Details&quot;);\r\n        ClientHelper helper = mock(ClientHelper.class);\r\n        when(helper.get(&quot;IN&quot;)).thenReturn(client);\r\n        ClassUnderTest obj = new ClassUnderTest(helper);\r\n        assertEquals(&quot;Details&quot;, obj.doSomething(&quot;IN&quot;));\r\n    }\r\n        ","title":"Unit test java Optional with mockito","body":"<p>your problem here is that you are calling <code>when</code> with something that isn't a mock. You are passing it an <code>Optional</code>. </p>\n\n<p>If I understand what you are trying to do here, the clientHelper is passed to the object with the <code>doSomething</code> method and you want to mock it for testing purposes. If that's the case it'd more typically look like this:</p>\n\n<pre><code>interface ClientHelper {\n    Client get(String place) throws Ex;\n}\n\nclass ClassUnderTest {\n    private final ClientHelper clientHelper;\n\n    public ClassUnderTest(ClientHelper helper) {\n        this.clientHelper = helper;\n    }\n\n    public Optional&lt;String&gt; doSomething(String place) {\n        try {\n            return Optional.ofNullable(clientHelper.get(place).getPlaceDetails(place));\n        } catch (Ex ex) {\n            log.warn(\"Exception: \" + ex);\n            return Optional.empty();\n        }\n    }\n}\n\n@Test\nvoid testFullHelper() {\n    Client client = mock(Client.class);\n    when(client.getPlaceDetails(\"IN\")).thenReturn(\"Details\");\n    ClientHelper helper = mock(ClientHelper.class);\n    when(helper.get(\"IN\")).thenReturn(client);\n    ClassUnderTest obj = new ClassUnderTest(helper);\n    assertEquals(\"Details\", obj.doSomething(\"IN\"));\n}\n</code></pre>\n"}],"owner":{"account_id":2861608,"reputation":85,"user_id":2456752,"accept_rate":0,"display_name":"user2456752"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11605,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696590350,"creation_date":1527900004,"question_id":50652516,"body_markdown":"I want to test a method which returns an Optional client in it.\r\n\r\nI want to test the scenario when client is empty.This is not a working code but overall it looks like this\r\n\r\n    public Optional&lt;String&gt; doSomething(String place) {\r\n        Optional&lt;Client&gt; client = Optional.empty();\r\n        try {\r\n            client = Optional.ofNullable(clientHelper.get(place));\r\n        } catch (Ex ex) {\r\n            log.warn(&quot;Exception occured:&quot;, ex);\r\n        }\r\n        return client.isPresent() ? Optional.ofNullable(client.get().getPlaceDetails(place)) : Optional.empty();\r\n    }\r\n\r\nI have a helper class clientHelper which returns a client based on place if exists, if not it throws exception.\r\nFor test, this is what I came up with\r\n\r\n      @Test\r\n    public void testClientHelper(){\r\n        ClientHelper clientHelper =  Mockito.mock(ClientHelper.class);\r\n        Optional&lt;Client&gt; client = Optional.empty();\r\n        Mockito.when(Optional.ofNullable(clientHelper.get(&quot;IN&quot;))).thenReturn(client);\r\n        assertEquals( doSomething(&quot;IN&quot;), Optional.empty())\r\n    }\r\n\r\n\r\nBut it returns exception - \r\n\r\n    org.mockito.exceptions.misusing.WrongTypeOfReturnValue: \r\n    Optional cannot be returned by get()\r\n    get() should return Client\r\n\r\nI have been following this link [https://stackoverflow.com/questions/30946167/mockito-error-with-method-that-returns-optionalt?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/30946167/mockito-error-with-method-that-returns-optionalt?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa","title":"Unit test java Optional with mockito","body":"<p>I want to test a method which returns an Optional client in it.</p>\n\n<p>I want to test the scenario when client is empty.This is not a working code but overall it looks like this</p>\n\n<pre><code>public Optional&lt;String&gt; doSomething(String place) {\n    Optional&lt;Client&gt; client = Optional.empty();\n    try {\n        client = Optional.ofNullable(clientHelper.get(place));\n    } catch (Ex ex) {\n        log.warn(\"Exception occured:\", ex);\n    }\n    return client.isPresent() ? Optional.ofNullable(client.get().getPlaceDetails(place)) : Optional.empty();\n}\n</code></pre>\n\n<p>I have a helper class clientHelper which returns a client based on place if exists, if not it throws exception.\nFor test, this is what I came up with</p>\n\n<pre><code>  @Test\npublic void testClientHelper(){\n    ClientHelper clientHelper =  Mockito.mock(ClientHelper.class);\n    Optional&lt;Client&gt; client = Optional.empty();\n    Mockito.when(Optional.ofNullable(clientHelper.get(\"IN\"))).thenReturn(client);\n    assertEquals( doSomething(\"IN\"), Optional.empty())\n}\n</code></pre>\n\n<p>But it returns exception - </p>\n\n<pre><code>org.mockito.exceptions.misusing.WrongTypeOfReturnValue: \nOptional cannot be returned by get()\nget() should return Client\n</code></pre>\n\n<p>I have been following this link <a href=\"https://stackoverflow.com/questions/30946167/mockito-error-with-method-that-returns-optionalt?utm_medium=organic&amp;utm_source=google_rich_qa&amp;utm_campaign=google_rich_qa\">Mockito error with method that returns Optional&lt;T&gt;</a></p>\n"},{"tags":["java","php","android","websocket"],"owner":{"account_id":25947452,"reputation":1,"user_id":19835374,"display_name":"Mark"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696589766,"creation_date":1696589556,"question_id":77243865,"body_markdown":"Can you help me?\r\nWhen connecting and pinging the websock, the server sends a response, but when the second client connects, after sending the message, the entire client stack is zero, can you tell me what this is connected with?\r\n```\r\nuse Workerman\\Worker;\r\n\r\nrequire_once __DIR__ . &#39;/../vendor/autoload.php&#39;;\r\nrequire_once &quot;/var/www/html/DB/DB_connect.php&quot;;\r\nrequire &#39;/var/www/html/API/orders/orders.php&#39;;\r\n\r\n$wsWorker = new Worker(&#39;websocket://0.0.0.0:27810&#39;);\r\n$wsWorker-&gt;count = 4;\r\n$users = [];\r\n\r\n$wsWorker-&gt;onConnect = function ($connection) use (&amp;$users) {\r\n    echo &quot;New connection \\n&quot;;\r\n\r\n};\r\n\r\n$wsWorker-&gt;onMessage = function ($connection, $data) use ($wsWorker, &amp;$users){\r\n\t\r\n\t$decode = json_decode($data);\r\n\r\n\tif(isset($decode-&gt;user)){\r\n    \tif(!array_key_exists($decode-&gt;user, $users)) {\r\n        \t$users[$decode-&gt;user] = $connection;\r\n        }\r\n    } elseif(isset($decode-&gt;ping)){\r\n    var_dump($users);\r\n    \t$webconnection = $users[$decode-&gt;ping];\r\n   \r\n    \t$webconnection-&gt;send(&#39;pong&#39;);\r\n    \r\n    } else {\r\n\r\n    var_dump($users);\r\n\t\tforeach ($users as $key =&gt; $clientConnections){\r\n\t\t$clientConnections-&gt;send(json_encode(&quot;true&quot;));\r\n\t\techo &quot;true \\n&quot;;\r\n\t\t}\r\n    }\r\n\r\n   \r\n};\r\n\r\n$wsWorker-&gt;onClose = function ($connection) use (&amp;$users){\r\n    echo &quot;Closed \\n&quot;;\r\n\t$user = array_search($connection, $users);\r\n    unset($users[$user]);\r\n};\r\n\r\nWorker::runAll();\r\n```\r\nclient \r\n```\r\nprivate void connectToSocket() {\r\n        URI uri;\r\n        DBClass db = new DBClass();\r\n        String hash = db.getHash(getContext());\r\n        hash = hash + &quot;HomeFragmentDriver&quot;;\r\n        try {\r\n            uri = new URI(&quot;ws&quot;+&quot;://&quot;+&quot;ip:27810&quot;);\r\n        } catch (URISyntaxException e){\r\n            Log.d(&quot;----uri------&quot;, e.getMessage());\r\n            return;\r\n        }\r\n        String finalHash = hash;\r\n        mWebSocketClient = new WebSocketClient(uri, new Draft_17()) {\r\n            @Override\r\n            public void onOpen(ServerHandshake serverHandshake) {\r\n                Log.d(&quot;Websocket&quot;, &quot;Opened&quot;);\r\n                mWebSocketClient.send(&quot;{ \\&quot;user\\&quot; : \\&quot;&quot;+ finalHash + &quot;\\&quot;}&quot;);\r\n                pingPong(finalHash);\r\n            }\r\n            @Override\r\n            public void onMessage(String s) {\r\n                Log.d(&quot;--mes--&quot;, s);\r\n                if(s.equals(&quot;pong&quot;)) {\r\n                    isPong = true;\r\n                } else {\r\n                    try {\r\n                        socketCars(s);\r\n                    } catch (InterruptedException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n            @Override\r\n            public void onClose(int i, String s, boolean b) {\r\n                Log.d(&quot;Websocket&quot;, &quot;Closed &quot; + s);\r\n            }\r\n            @Override\r\n            public void onError(Exception e) {\r\n                Log.d(&quot;Websocket&quot;, &quot;Error &quot; + e.getMessage());\r\n            }\r\n\r\n        };\r\n        try {\r\n            mWebSocketClient.connectBlocking();\r\n        } catch (InterruptedException e) {\r\n            mWebSocketClient.connect();\r\n        }\r\n    }\r\n```\r\n\r\nvpn - dont help\r\nother websockets work\r\nother libraries dont help\r\nin logs writed &quot;false&quot; (websocetClient.getCOnnections().isConnectig())\r\n\r\n\r\nedit \r\npong to go client\r\n","title":"java android websocets dont give message","body":"<p>Can you help me?\nWhen connecting and pinging the websock, the server sends a response, but when the second client connects, after sending the message, the entire client stack is zero, can you tell me what this is connected with?</p>\n<pre><code>use Workerman\\Worker;\n\nrequire_once __DIR__ . '/../vendor/autoload.php';\nrequire_once &quot;/var/www/html/DB/DB_connect.php&quot;;\nrequire '/var/www/html/API/orders/orders.php';\n\n$wsWorker = new Worker('websocket://0.0.0.0:27810');\n$wsWorker-&gt;count = 4;\n$users = [];\n\n$wsWorker-&gt;onConnect = function ($connection) use (&amp;$users) {\n    echo &quot;New connection \\n&quot;;\n\n};\n\n$wsWorker-&gt;onMessage = function ($connection, $data) use ($wsWorker, &amp;$users){\n    \n    $decode = json_decode($data);\n\n    if(isset($decode-&gt;user)){\n        if(!array_key_exists($decode-&gt;user, $users)) {\n            $users[$decode-&gt;user] = $connection;\n        }\n    } elseif(isset($decode-&gt;ping)){\n    var_dump($users);\n        $webconnection = $users[$decode-&gt;ping];\n   \n        $webconnection-&gt;send('pong');\n    \n    } else {\n\n    var_dump($users);\n        foreach ($users as $key =&gt; $clientConnections){\n        $clientConnections-&gt;send(json_encode(&quot;true&quot;));\n        echo &quot;true \\n&quot;;\n        }\n    }\n\n   \n};\n\n$wsWorker-&gt;onClose = function ($connection) use (&amp;$users){\n    echo &quot;Closed \\n&quot;;\n    $user = array_search($connection, $users);\n    unset($users[$user]);\n};\n\nWorker::runAll();\n</code></pre>\n<p>client</p>\n<pre><code>private void connectToSocket() {\n        URI uri;\n        DBClass db = new DBClass();\n        String hash = db.getHash(getContext());\n        hash = hash + &quot;HomeFragmentDriver&quot;;\n        try {\n            uri = new URI(&quot;ws&quot;+&quot;://&quot;+&quot;ip:27810&quot;);\n        } catch (URISyntaxException e){\n            Log.d(&quot;----uri------&quot;, e.getMessage());\n            return;\n        }\n        String finalHash = hash;\n        mWebSocketClient = new WebSocketClient(uri, new Draft_17()) {\n            @Override\n            public void onOpen(ServerHandshake serverHandshake) {\n                Log.d(&quot;Websocket&quot;, &quot;Opened&quot;);\n                mWebSocketClient.send(&quot;{ \\&quot;user\\&quot; : \\&quot;&quot;+ finalHash + &quot;\\&quot;}&quot;);\n                pingPong(finalHash);\n            }\n            @Override\n            public void onMessage(String s) {\n                Log.d(&quot;--mes--&quot;, s);\n                if(s.equals(&quot;pong&quot;)) {\n                    isPong = true;\n                } else {\n                    try {\n                        socketCars(s);\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n            @Override\n            public void onClose(int i, String s, boolean b) {\n                Log.d(&quot;Websocket&quot;, &quot;Closed &quot; + s);\n            }\n            @Override\n            public void onError(Exception e) {\n                Log.d(&quot;Websocket&quot;, &quot;Error &quot; + e.getMessage());\n            }\n\n        };\n        try {\n            mWebSocketClient.connectBlocking();\n        } catch (InterruptedException e) {\n            mWebSocketClient.connect();\n        }\n    }\n</code></pre>\n<p>vpn - dont help\nother websockets work\nother libraries dont help\nin logs writed &quot;false&quot; (websocetClient.getCOnnections().isConnectig())</p>\n<p>edit\npong to go client</p>\n"},{"tags":["java","sorting"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1696588797,"post_id":77243700,"comment_id":136175595,"body_markdown":"Try `Comparator&lt;String&gt; c = emptyValuesFirst().thenComparing(Comparator.reverseOrder());` Your method is not a method of `Comparators`. If the ordering is wrong then we can try something else","body":"Try <code>Comparator&lt;String&gt; c = emptyValuesFirst().thenComparing(Comparator.reverseOrder());</code> Your method is not a method of <code>Comparators</code>. If the ordering is wrong then we can try something else"}],"answers":[{"tags":[],"owner":{"account_id":9661155,"reputation":104,"user_id":22683654,"display_name":"Roma S"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696589694,"creation_date":1696588931,"answer_id":77243786,"question_id":77243700,"body_markdown":" 1. in your `if` statements first `if` checks for both strings have length of 0, so when code reach first `else if` statement there is no way that o1 has length of 0 and o2 has length of 0, and as string length cannot be below zero you can improve your 1st `else if` statement to `else if (o1.length() == 0)` and your 2nd `else if` statement to `else if (o2.length() == 0)`\r\n\r\n\r\n 2. Use `Comparator.&lt;String&gt;reverseOrder()` instead of `Comparator.reverseOrder()` looks like java cannot guess the generic type\r\n\r\n 3. You want to sort &quot;empty strings first, and after this reverse order&quot; so you have to use this sorting: **all empty strings are less than non empty string, all non empty strings reverse-compared** so:\r\n\r\n```java\r\n    public static Comparator&lt;String&gt; emptyValuesFirst() {\r\n        return new Comparator&lt;String&gt;() {\r\n            @Override\r\n            public int compare(String o1, String o2) {\r\n                if (o1.length() == 0 &amp;&amp; o2.length() == 0) {\r\n                    //if both strings empty they are same\r\n                    return 0;\r\n                } else if (o1.length() == 0) {\r\n                    //if o1 is empty then it less than o2\r\n                    return -1;\r\n                } else if (o2.length() == 0) {\r\n                    //if o2 is empty then o1 is greater then 02\r\n                    return 1;\r\n                } else {\r\n                    //string are equals comparing by *is empty*\r\n                    return 0;\r\n                }\r\n            }\r\n        };\r\n    }\r\n```\r\n\r\n**Usage:**\r\n```java\r\n        List&lt;String&gt; valuesInSortedColumn = new ArrayList&lt;&gt;();\r\n        valuesInSortedColumn.add(&quot;a&quot;);\r\n        valuesInSortedColumn.add(&quot;zz&quot;);\r\n        valuesInSortedColumn.add(&quot;b&quot;);\r\n        valuesInSortedColumn.add(&quot;c&quot;);\r\n        valuesInSortedColumn.add(&quot;zz&quot;);\r\n        valuesInSortedColumn.add(&quot;&quot;);\r\n        valuesInSortedColumn.add(&quot;&quot;);\r\n        valuesInSortedColumn.sort(\r\n                emptyValuesFirst().thenComparing(Comparator.reverseOrder())\r\n        );\r\n        System.out.println(valuesInSortedColumn);\r\n```\r\n**Output:** `[, , zz, zz, c, b, a]`\r\n\r\n","title":"Sorting list of strings according to different criteria","body":"<ol>\n<li><p>in your <code>if</code> statements first <code>if</code> checks for both strings have length of 0, so when code reach first <code>else if</code> statement there is no way that o1 has length of 0 and o2 has length of 0, and as string length cannot be below zero you can improve your 1st <code>else if</code> statement to <code>else if (o1.length() == 0)</code> and your 2nd <code>else if</code> statement to <code>else if (o2.length() == 0)</code></p>\n</li>\n<li><p>Use <code>Comparator.&lt;String&gt;reverseOrder()</code> instead of <code>Comparator.reverseOrder()</code> looks like java cannot guess the generic type</p>\n</li>\n<li><p>You want to sort &quot;empty strings first, and after this reverse order&quot; so you have to use this sorting: <strong>all empty strings are less than non empty string, all non empty strings reverse-compared</strong> so:</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>    public static Comparator&lt;String&gt; emptyValuesFirst() {\n        return new Comparator&lt;String&gt;() {\n            @Override\n            public int compare(String o1, String o2) {\n                if (o1.length() == 0 &amp;&amp; o2.length() == 0) {\n                    //if both strings empty they are same\n                    return 0;\n                } else if (o1.length() == 0) {\n                    //if o1 is empty then it less than o2\n                    return -1;\n                } else if (o2.length() == 0) {\n                    //if o2 is empty then o1 is greater then 02\n                    return 1;\n                } else {\n                    //string are equals comparing by *is empty*\n                    return 0;\n                }\n            }\n        };\n    }\n</code></pre>\n<p><strong>Usage:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>        List&lt;String&gt; valuesInSortedColumn = new ArrayList&lt;&gt;();\n        valuesInSortedColumn.add(&quot;a&quot;);\n        valuesInSortedColumn.add(&quot;zz&quot;);\n        valuesInSortedColumn.add(&quot;b&quot;);\n        valuesInSortedColumn.add(&quot;c&quot;);\n        valuesInSortedColumn.add(&quot;zz&quot;);\n        valuesInSortedColumn.add(&quot;&quot;);\n        valuesInSortedColumn.add(&quot;&quot;);\n        valuesInSortedColumn.sort(\n                emptyValuesFirst().thenComparing(Comparator.reverseOrder())\n        );\n        System.out.println(valuesInSortedColumn);\n</code></pre>\n<p><strong>Output:</strong> <code>[, , zz, zz, c, b, a]</code></p>\n"}],"owner":{"account_id":12706527,"reputation":999,"user_id":9231614,"display_name":"kris82pl"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77243786,"answer_count":1,"score":0,"last_activity_date":1696589694,"creation_date":1696587996,"question_id":77243700,"body_markdown":"I want to sort my list of strings in reversed order but all empty string should be at the beginning of list.\r\nI wrote my comparator for empty strings:\r\n\r\n    public static Comparator&lt;String&gt; emptyValuesFirst() {\r\n        return new Comparator&lt;String&gt;() {\r\n            @Override\r\n            public int compare(String o1, String o2) {\r\n                if (o1.length() == 0 &amp;&amp; o2.length() == 0) {\r\n                    return 0;\r\n                } else if (o1.length() == 0 &amp;&amp; o2.length() &gt; 0) {\r\n                    return 1;\r\n                } else if (o1.length() &gt; 0 &amp;&amp; o2.length() == 0) {\r\n                    return -1;\r\n                } else {\r\n                    return 0;\r\n                }\r\n            }\r\n        };\r\n    }\r\n\r\nbut then when I try to use it here:\r\n\r\n                Assertions.assertThat(valuesInSortedColumn)\r\n                        .isSortedAccordingTo(Comparator.reverseOrder().thenComparing(Comparators.emptyValuesFirst()));\r\n\r\nI receive an error:\r\n\r\n&gt; Cannot resolve method &#39;thenComparing(Comparator&lt;String&gt;)&#39;","title":"Sorting list of strings according to different criteria","body":"<p>I want to sort my list of strings in reversed order but all empty string should be at the beginning of list.\nI wrote my comparator for empty strings:</p>\n<pre><code>public static Comparator&lt;String&gt; emptyValuesFirst() {\n    return new Comparator&lt;String&gt;() {\n        @Override\n        public int compare(String o1, String o2) {\n            if (o1.length() == 0 &amp;&amp; o2.length() == 0) {\n                return 0;\n            } else if (o1.length() == 0 &amp;&amp; o2.length() &gt; 0) {\n                return 1;\n            } else if (o1.length() &gt; 0 &amp;&amp; o2.length() == 0) {\n                return -1;\n            } else {\n                return 0;\n            }\n        }\n    };\n}\n</code></pre>\n<p>but then when I try to use it here:</p>\n<pre><code>            Assertions.assertThat(valuesInSortedColumn)\n                    .isSortedAccordingTo(Comparator.reverseOrder().thenComparing(Comparators.emptyValuesFirst()));\n</code></pre>\n<p>I receive an error:</p>\n<blockquote>\n<p>Cannot resolve method 'thenComparing(Comparator)'</p>\n</blockquote>\n"},{"tags":["java","selenium-webdriver","ptc-windchill"],"owner":{"account_id":23881045,"reputation":87,"user_id":17881743,"display_name":"Techie_Taks"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696589644,"creation_date":1696507494,"question_id":77236939,"body_markdown":"I have windchill application which uses Azure AD SSO for authenticating users. I want to automate few of the test cases wherein navigating to homepage via selenium is redirecting me to microsoft login page.\r\n\r\nCould you please help me with this?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cYSu7.png","title":"how to handle Azure AD SSO authentication on selenium cucumber framework java","body":"<p>I have windchill application which uses Azure AD SSO for authenticating users. I want to automate few of the test cases wherein navigating to homepage via selenium is redirecting me to microsoft login page.</p>\n<p>Could you please help me with this?</p>\n<p><a href=\"https://i.stack.imgur.com/cYSu7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cYSu7.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-boot","unit-testing","junit5","ignite"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1696381477,"post_id":77225096,"comment_id":136144556,"body_markdown":"How many JDK do you have on your computer?","body":"How many JDK do you have on your computer?"},{"owner":{"account_id":25837244,"reputation":109,"user_id":19573454,"display_name":"Vincent Y"},"score":0,"creation_date":1696431081,"post_id":77225096,"comment_id":136152472,"body_markdown":"jdk11 and jdk17, but env var is pointing to jdk17","body":"jdk11 and jdk17, but env var is pointing to jdk17"}],"answers":[{"comments":[{"owner":{"account_id":25837244,"reputation":109,"user_id":19573454,"display_name":"Vincent Y"},"score":0,"creation_date":1696431055,"post_id":77227763,"comment_id":136152465,"body_markdown":"I added, but still not work","body":"I added, but still not work"},{"owner":{"account_id":2182,"reputation":51860,"user_id":2998,"accept_rate":69,"display_name":"Stephen Darlington"},"score":0,"creation_date":1696435526,"post_id":77227763,"comment_id":136153456,"body_markdown":"Which (specific) JDK are you using? When I use Corretto 17.0.8 and &quot;openjdk version &quot;17.0.8.1&quot; 2023-08-24&quot; I get exactly the same error as you _without_ the JVM options and it works when I add them.","body":"Which (specific) JDK are you using? When I use Corretto 17.0.8 and &quot;openjdk version &quot;17.0.8.1&quot; 2023-08-24&quot; I get exactly the same error as you <i>without</i> the JVM options and it works when I add them."},{"owner":{"account_id":25837244,"reputation":109,"user_id":19573454,"display_name":"Vincent Y"},"score":0,"creation_date":1696528773,"post_id":77227763,"comment_id":136168262,"body_markdown":"I tried both Corretto 17.0.6 and temurin 17.0.6, but not work. The application can run without any issue if I add those VM parameters, but only the unit tests fail.","body":"I tried both Corretto 17.0.6 and temurin 17.0.6, but not work. The application can run without any issue if I add those VM parameters, but only the unit tests fail."},{"owner":{"account_id":2182,"reputation":51860,"user_id":2998,"accept_rate":69,"display_name":"Stephen Darlington"},"score":0,"creation_date":1696589321,"post_id":77227763,"comment_id":136175694,"body_markdown":"How are you adding the options? I get the same error if I _don&#39;t_ supply them but it works if I add them with the `-DargLine` option to the Maven command line or use the Maven Surefire plugin.","body":"How are you adding the options? I get the same error if I <i>don&#39;t</i> supply them but it works if I add them with the <code>-DargLine</code> option to the Maven command line or use the Maven Surefire plugin."}],"tags":[],"owner":{"account_id":2182,"reputation":51860,"user_id":2998,"accept_rate":69,"display_name":"Stephen Darlington"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696589422,"creation_date":1696406241,"answer_id":77227763,"question_id":77225096,"body_markdown":"When running on Java 17, you need to have a few extra JVM options. See [the documentation](https://www.gridgain.com/docs/latest/getting-started/quick-start/java#running-gridgain-with-java-11-or-later).\r\n\r\n    --add-opens=java.base/jdk.internal.misc=ALL-UNNAMED\r\n    --add-opens=java.base/sun.nio.ch=ALL-UNNAMED\r\n    --add-opens=java.management/com.sun.jmx.mbeanserver=ALL-UNNAMED\r\n    --add-opens=jdk.internal.jvmstat/sun.jvmstat.monitor=ALL-UNNAMED\r\n    --add-opens=java.base/sun.reflect.generics.reflectiveObjects=ALL-UNNAMED\r\n    --add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED\r\n    --add-opens=java.base/java.io=ALL-UNNAMED\r\n    --add-opens=java.base/java.nio=ALL-UNNAMED\r\n    --add-opens=java.base/java.util=ALL-UNNAMED\r\n    --add-opens=java.base/java.util.concurrent=ALL-UNNAMED\r\n    --add-opens=java.base/java.util.concurrent.locks=ALL-UNNAMED\r\n    --add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED\r\n    --add-opens=java.base/java.lang=ALL-UNNAMED\r\n    --add-opens=java.base/java.lang.invoke=ALL-UNNAMED\r\n    --add-opens=java.base/java.math=ALL-UNNAMED\r\n    --add-opens=java.sql/java.sql=ALL-UNNAMED\r\n    --add-opens=java.base/java.net=ALL-UNNAMED\r\n\r\nYou can add them on the commandline:\r\n\r\n    mvn test -DargLine=&quot;--add-opens....&quot;\r\n\r\nOr by adding the options to your pom.xml:\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.1.2&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;argLine&gt;--add-opens=...&lt;/argLine&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n","title":"Apache Ignite: unit test fail for java17 and junit5","body":"<p>When running on Java 17, you need to have a few extra JVM options. See <a href=\"https://www.gridgain.com/docs/latest/getting-started/quick-start/java#running-gridgain-with-java-11-or-later\" rel=\"nofollow noreferrer\">the documentation</a>.</p>\n<pre><code>--add-opens=java.base/jdk.internal.misc=ALL-UNNAMED\n--add-opens=java.base/sun.nio.ch=ALL-UNNAMED\n--add-opens=java.management/com.sun.jmx.mbeanserver=ALL-UNNAMED\n--add-opens=jdk.internal.jvmstat/sun.jvmstat.monitor=ALL-UNNAMED\n--add-opens=java.base/sun.reflect.generics.reflectiveObjects=ALL-UNNAMED\n--add-opens=jdk.management/com.sun.management.internal=ALL-UNNAMED\n--add-opens=java.base/java.io=ALL-UNNAMED\n--add-opens=java.base/java.nio=ALL-UNNAMED\n--add-opens=java.base/java.util=ALL-UNNAMED\n--add-opens=java.base/java.util.concurrent=ALL-UNNAMED\n--add-opens=java.base/java.util.concurrent.locks=ALL-UNNAMED\n--add-opens=java.base/java.util.concurrent.atomic=ALL-UNNAMED\n--add-opens=java.base/java.lang=ALL-UNNAMED\n--add-opens=java.base/java.lang.invoke=ALL-UNNAMED\n--add-opens=java.base/java.math=ALL-UNNAMED\n--add-opens=java.sql/java.sql=ALL-UNNAMED\n--add-opens=java.base/java.net=ALL-UNNAMED\n</code></pre>\n<p>You can add them on the commandline:</p>\n<pre><code>mvn test -DargLine=&quot;--add-opens....&quot;\n</code></pre>\n<p>Or by adding the options to your pom.xml:</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;argLine&gt;--add-opens=...&lt;/argLine&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":25837244,"reputation":109,"user_id":19573454,"display_name":"Vincent Y"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696589422,"creation_date":1696362226,"question_id":77225096,"body_markdown":"I recently upgraded my project to java17 and springboot 3.1.1, and using gridgain community  8.8.34.\r\n\r\nEverything works fine except unit tests. When I tried to test creating cache, at the line of code:\r\n```\r\n QueryEntity queryEntity = new QueryEntity(AffinityKey.class, Object.class);\r\n```\r\nthe followingexception will be thrown \r\n```\r\njava.lang.ExceptionInInitializerError\r\n\tat org.apache.ignite.internal.util.IgniteUtils.&lt;clinit&gt;(IgniteUtils.java:896)\r\n\tat org.apache.ignite.cache.QueryEntity.processAnnotationsInClass(QueryEntity.java:780)\r\n\tat org.apache.ignite.cache.QueryEntity.processKeyAndValueClasses(QueryEntity.java:764)\r\n\tat org.apache.ignite.cache.QueryEntity.&lt;init&gt;(QueryEntity.java:159)\r\n...\r\nCaused by: java.lang.RuntimeException: java.nio.DirectByteBuffer.address field is unavailable.\r\n\tat org.apache.ignite.internal.util.GridUnsafe$2.run(GridUnsafe.java:1588)\r\n\tat org.apache.ignite.internal.util.GridUnsafe$2.run(GridUnsafe.java:1575)\r\n\tat java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\r\n\tat org.apache.ignite.internal.util.GridUnsafe.bufferAddressOffset(GridUnsafe.java:1575)\r\n\tat org.apache.ignite.internal.util.GridUnsafe.&lt;clinit&gt;(GridUnsafe.java:114)\r\n\t... 92 more\r\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field long java.nio.Buffer.address accessible: module java.base does not &quot;opens java.nio&quot; to unnamed module @38082d64\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\r\n\tat java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\r\n\tat java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\r\n\tat java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\r\n\tat org.apache.ignite.internal.util.GridUnsafe$2.run(GridUnsafe.java:1580)\r\n\t... 96 more\r\n```\r\n\r\nI tried to add vm parameters in this unit test run configuration, but not work. Does anyone have the similar issue before?","title":"Apache Ignite: unit test fail for java17 and junit5","body":"<p>I recently upgraded my project to java17 and springboot 3.1.1, and using gridgain community  8.8.34.</p>\n<p>Everything works fine except unit tests. When I tried to test creating cache, at the line of code:</p>\n<pre><code> QueryEntity queryEntity = new QueryEntity(AffinityKey.class, Object.class);\n</code></pre>\n<p>the followingexception will be thrown</p>\n<pre><code>java.lang.ExceptionInInitializerError\n    at org.apache.ignite.internal.util.IgniteUtils.&lt;clinit&gt;(IgniteUtils.java:896)\n    at org.apache.ignite.cache.QueryEntity.processAnnotationsInClass(QueryEntity.java:780)\n    at org.apache.ignite.cache.QueryEntity.processKeyAndValueClasses(QueryEntity.java:764)\n    at org.apache.ignite.cache.QueryEntity.&lt;init&gt;(QueryEntity.java:159)\n...\nCaused by: java.lang.RuntimeException: java.nio.DirectByteBuffer.address field is unavailable.\n    at org.apache.ignite.internal.util.GridUnsafe$2.run(GridUnsafe.java:1588)\n    at org.apache.ignite.internal.util.GridUnsafe$2.run(GridUnsafe.java:1575)\n    at java.base/java.security.AccessController.doPrivileged(AccessController.java:318)\n    at org.apache.ignite.internal.util.GridUnsafe.bufferAddressOffset(GridUnsafe.java:1575)\n    at org.apache.ignite.internal.util.GridUnsafe.&lt;clinit&gt;(GridUnsafe.java:114)\n    ... 92 more\nCaused by: java.lang.reflect.InaccessibleObjectException: Unable to make field long java.nio.Buffer.address accessible: module java.base does not &quot;opens java.nio&quot; to unnamed module @38082d64\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:354)\n    at java.base/java.lang.reflect.AccessibleObject.checkCanSetAccessible(AccessibleObject.java:297)\n    at java.base/java.lang.reflect.Field.checkCanSetAccessible(Field.java:178)\n    at java.base/java.lang.reflect.Field.setAccessible(Field.java:172)\n    at org.apache.ignite.internal.util.GridUnsafe$2.run(GridUnsafe.java:1580)\n    ... 96 more\n</code></pre>\n<p>I tried to add vm parameters in this unit test run configuration, but not work. Does anyone have the similar issue before?</p>\n"},{"tags":["java","spring","spring-boot","jdbc","datasource"],"comments":[{"owner":{"account_id":14162458,"reputation":3910,"user_id":10231374,"display_name":"Toni"},"score":0,"creation_date":1696430201,"post_id":77230333,"comment_id":136152264,"body_markdown":"Can you provide more details about your custom Spring context configuration?","body":"Can you provide more details about your custom Spring context configuration?"}],"answers":[{"tags":[],"owner":{"account_id":3682527,"reputation":8791,"user_id":3067148,"accept_rate":74,"display_name":"Harold L. Brown"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696589120,"creation_date":1696589120,"answer_id":77243805,"question_id":77230333,"body_markdown":"After adding [`EnableJpaRepositories`][1] to my test, the data source was initialized.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-data/data-jpa/docs/current/api/org/springframework/data/jpa/repository/config/EnableJpaRepositories.html","title":"In a Spring test, how to enable the Data Source auto-configuration?","body":"<p>After adding <a href=\"https://docs.spring.io/spring-data/data-jpa/docs/current/api/org/springframework/data/jpa/repository/config/EnableJpaRepositories.html\" rel=\"nofollow noreferrer\"><code>EnableJpaRepositories</code></a> to my test, the data source was initialized.</p>\n"}],"owner":{"account_id":3682527,"reputation":8791,"user_id":3067148,"accept_rate":74,"display_name":"Harold L. Brown"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77243805,"answer_count":1,"score":0,"last_activity_date":1696589120,"creation_date":1696428573,"question_id":77230333,"body_markdown":"I have a Spring Boot application.\r\n\r\nI have a JUnit test with a custom Spring context configuration.\r\n\r\nHow can I enable the JDBC Data Source auto-configuration from the Spring properties like `spring.datasource.url`, `spring.datasource.username`, …?","title":"In a Spring test, how to enable the Data Source auto-configuration?","body":"<p>I have a Spring Boot application.</p>\n<p>I have a JUnit test with a custom Spring context configuration.</p>\n<p>How can I enable the JDBC Data Source auto-configuration from the Spring properties like <code>spring.datasource.url</code>, <code>spring.datasource.username</code>, …?</p>\n"},{"tags":["java","selenium-webdriver","cucumber"],"owner":{"account_id":27159796,"reputation":13,"user_id":20698038,"display_name":"PleasePlease"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696589116,"creation_date":1696578153,"question_id":77242648,"body_markdown":"Whenever I make changes in step-definition, feature file and pom.xml file in Eclipse IDE, cucumber takes more time to build. It is taking more than 5 mins for each build. \r\n\r\nCan someone tell me how to avoid this issue permanently? For the time-being, I disabled build automatically option in project  menu bar.\r\n\r\nIs this issue occurring due to eclipse cucumber plugin? If I switch to another IDE (IntellijIDEA), my problem will be resolved?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2] \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/F491D.png\r\n  [2]: https://i.stack.imgur.com/UTffA.png","title":"Cucumber takes more time to build when making changes in step-definition, feature file and pom.xml file in Eclipse IDE","body":"<p>Whenever I make changes in step-definition, feature file and pom.xml file in Eclipse IDE, cucumber takes more time to build. It is taking more than 5 mins for each build.</p>\n<p>Can someone tell me how to avoid this issue permanently? For the time-being, I disabled build automatically option in project  menu bar.</p>\n<p>Is this issue occurring due to eclipse cucumber plugin? If I switch to another IDE (IntellijIDEA), my problem will be resolved?</p>\n<p><a href=\"https://i.stack.imgur.com/F491D.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/F491D.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/UTffA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/UTffA.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","gnupg"],"answers":[{"comments":[{"owner":{"account_id":7527441,"reputation":129,"user_id":5717068,"accept_rate":75,"display_name":"Duong Nhat"},"score":0,"creation_date":1597195133,"post_id":63355145,"comment_id":112052197,"body_markdown":"Problem is this pgp text file cannot be opened in PGP desktop","body":"Problem is this pgp text file cannot be opened in PGP desktop"},{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":0,"creation_date":1597212638,"post_id":63355145,"comment_id":112055869,"body_markdown":"Have you tried the other options (without -a or with -ai) ? And your client is using PGP Desktop that is about 9 years old ?","body":"Have you tried the other options (without -a or with -ai) ? And your client is using PGP Desktop that is about 9 years old ?"},{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":0,"creation_date":1597220280,"post_id":63355145,"comment_id":112058923,"body_markdown":"@Duong Nhat: please have a look to my edit - the solution is working as expected...","body":"@Duong Nhat: please have a look to my edit - the solution is working as expected..."}],"tags":[],"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"comment_count":3,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1597220222,"creation_date":1597137245,"answer_id":63355145,"question_id":63351345,"body_markdown":"You can use the crypto library &#39;Bouncy Castle&#39; to encrypt a file using a PGP Public key in Ascii-format. The following code is taken from the examples section of Bouncy Castle that is located here: https://github.com/bcgit/bc-java/tree/master/pg/src/main/java/org/bouncycastle/openpgp/examples.\r\n\r\nYou do need the two files KeyBasedLargeFileProcessor.java and PGPExampleUtil.java plus the libraries itself; get the latest versions here: https://www.bouncycastle.org/latest_releases.html (you need the bcprov-xxx.jar and bcpg-xxx.jar to run the example).\r\n\r\nAs the example is a command line application you need to pass the information like\r\n\r\n    -e -a plaintext.txt java_pgp_encrypt_publickey.asc\r\n\r\nwhere -e = encryption, -a = ascii output, plaintext.txt is your file to get encrypted and java_pgp_encrypt_publickey.asc = the public key.\r\n\r\nThere are some other options but they depend on the third party requests.\r\n\r\n**Please take care about the notes in KeyBasedLargeFileProcessor.java - this is just a working example.**\r\n\r\nUsually there is not extra output but a new file in the current directory with the filename plaintext.txt.asc that looks like\r\n\r\n    -----BEGIN PGP MESSAGE-----\r\n    Version: BCPG v1.66\r\n    \r\n    hQEMAyr8BYmnLERrAQf/SaG7yIORewag0fziemyEmWq+sGJT3TiLIoVCEo+PjDfY\r\n    XyuXybIr/q5Q7tE3WcubkXzVIuShB2x2r8zaHP3rhtzDfuRS13S5QBM1LZ9KIcvg\r\n    +//OoeS1kfKfJnYfAQR1VCKWBkOQtSCIyMWGmqkrV2xEC8xzAo2cwXCBS2F7LYRE\r\n    vnmJGnr4ANFdbSlzRffBPJCcggk9RqDXXJjU31gCqFT+lpgc48Hf6OfRff7x5I2b\r\n    5++PH1UPKFIZhalnFE2UQ9DVbzJd2FaciUKhcM9nQSGKoNKy3o1wevrtive8VIuM\r\n    JjgV0ql+3MGCVVYL0tBnDdjdbmHV5pcZX9aI147esclPItwZQHTHTtaxTUKTJZeQ\r\n    4YgMas+o0faWLUilaeNvNa8PqxLy9gPGzMxUj2/P1narGs4bbivUooLJO73NKV4B\r\n    u3on8l/Es4vVLNoZpJv0kw==\r\n    =IZ8I\r\n    -----END PGP MESSAGE-----\r\n\r\n**Edit Aug. 12th 2020:** I made a fresh download of PGP Desktop x64 version 10.1.1, generated a sample keypair and\r\nexported the public key (&quot;-----BEGIN PGP PUBLIC KEY BLOCK-----...&quot;). I used this key with the mentioned options and\r\ncreated a encrypted file (&quot;-----BEGIN PGP MESSAGE-----...&quot;). This file was used as input for the PGP Viewer and it\r\nwas decrypted like expected, so something in your environment seems not to work as expected (or the wrong public key\r\nwas in use or or or):\r\n\r\n[![enter image description here][1]][1]\r\n\r\nAs links may go away here are the source codes as well.\r\n\r\nclass KeyBasedLargeFileProcessor.java\r\n\r\n    import java.io.BufferedInputStream;\r\n    import java.io.BufferedOutputStream;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.security.NoSuchProviderException;\r\n    import java.security.SecureRandom;\r\n    import java.security.Security;\r\n    import java.util.Iterator;\r\n    \r\n    import org.bouncycastle.bcpg.ArmoredOutputStream;\r\n    import org.bouncycastle.jce.provider.BouncyCastleProvider;\r\n    import org.bouncycastle.openpgp.PGPCompressedData;\r\n    import org.bouncycastle.openpgp.PGPCompressedDataGenerator;\r\n    import org.bouncycastle.openpgp.PGPEncryptedData;\r\n    import org.bouncycastle.openpgp.PGPEncryptedDataGenerator;\r\n    import org.bouncycastle.openpgp.PGPEncryptedDataList;\r\n    import org.bouncycastle.openpgp.PGPException;\r\n    import org.bouncycastle.openpgp.PGPLiteralData;\r\n    import org.bouncycastle.openpgp.PGPOnePassSignatureList;\r\n    import org.bouncycastle.openpgp.PGPPrivateKey;\r\n    import org.bouncycastle.openpgp.PGPPublicKey;\r\n    import org.bouncycastle.openpgp.PGPPublicKeyEncryptedData;\r\n    import org.bouncycastle.openpgp.PGPSecretKeyRingCollection;\r\n    import org.bouncycastle.openpgp.PGPUtil;\r\n    import org.bouncycastle.openpgp.jcajce.JcaPGPObjectFactory;\r\n    import org.bouncycastle.openpgp.operator.jcajce.JcaKeyFingerprintCalculator;\r\n    import org.bouncycastle.openpgp.operator.jcajce.JcePGPDataEncryptorBuilder;\r\n    import org.bouncycastle.openpgp.operator.jcajce.JcePublicKeyDataDecryptorFactoryBuilder;\r\n    import org.bouncycastle.openpgp.operator.jcajce.JcePublicKeyKeyEncryptionMethodGenerator;\r\n    import org.bouncycastle.util.io.Streams;\r\n    \r\n    /**\r\n     * A simple utility class that encrypts/decrypts public key based\r\n     * encryption large files.\r\n     * &lt;p&gt;\r\n     * To encrypt a file: KeyBasedLargeFileProcessor -e [-a|-ai] fileName publicKeyFile.&lt;br&gt;\r\n     * If -a is specified the output file will be &quot;ascii-armored&quot;.\r\n     * If -i is specified the output file will be have integrity checking added.\r\n     * &lt;p&gt;\r\n     * To decrypt: KeyBasedLargeFileProcessor -d fileName secretKeyFile passPhrase.\r\n     * &lt;p&gt;\r\n     * Note 1: this example will silently overwrite files, nor does it pay any attention to\r\n     * the specification of &quot;_CONSOLE&quot; in the filename. It also expects that a single pass phrase\r\n     * will have been used.\r\n     * &lt;p&gt;\r\n     * Note 2: this example generates partial packets to encode the file, the output it generates\r\n     * will not be readable by older PGP products or products that don&#39;t support partial packet\r\n     * encoding.\r\n     * &lt;p&gt;\r\n     * Note 3: if an empty file name has been specified in the literal data object contained in the\r\n     * encrypted packet a file with the name filename.out will be generated in the current working directory.\r\n     */\r\n    public class KeyBasedLargeFileProcessor\r\n    /*\r\n       file taken from https://github.com/bcgit/bc-java/tree/master/pg/src/main/java/org/bouncycastle/openpgp/examples\r\n       get bouncy castle here: https://www.bouncycastle.org/latest_releases.html\r\n       i used the bcprov-jdk15on-166.jar and bcpg-jdk15on-166.jar at the time of writing\r\n    */\r\n    {\r\n        private static void decryptFile(\r\n                String inputFileName,\r\n                String keyFileName,\r\n                char[] passwd,\r\n                String defaultFileName)\r\n                throws IOException, NoSuchProviderException\r\n        {\r\n            InputStream in = new BufferedInputStream(new FileInputStream(inputFileName));\r\n            InputStream keyIn = new BufferedInputStream(new FileInputStream(keyFileName));\r\n            decryptFile(in, keyIn, passwd, defaultFileName);\r\n            keyIn.close();\r\n            in.close();\r\n        }\r\n    \r\n        /**\r\n         * decrypt the passed in message stream\r\n         */\r\n        private static void decryptFile(\r\n                InputStream in,\r\n                InputStream keyIn,\r\n                char[]      passwd,\r\n                String      defaultFileName)\r\n                throws IOException, NoSuchProviderException\r\n        {\r\n            in = PGPUtil.getDecoderStream(in);\r\n    \r\n            try\r\n            {\r\n                JcaPGPObjectFactory        pgpF = new JcaPGPObjectFactory(in);\r\n                PGPEncryptedDataList    enc;\r\n    \r\n                Object                  o = pgpF.nextObject();\r\n                //\r\n                // the first object might be a PGP marker packet.\r\n                //\r\n                if (o instanceof PGPEncryptedDataList)\r\n                {\r\n                    enc = (PGPEncryptedDataList)o;\r\n                }\r\n                else\r\n                {\r\n                    enc = (PGPEncryptedDataList)pgpF.nextObject();\r\n                }\r\n    \r\n                //\r\n                // find the secret key\r\n                //\r\n                Iterator                    it = enc.getEncryptedDataObjects();\r\n                PGPPrivateKey               sKey = null;\r\n                PGPPublicKeyEncryptedData   pbe = null;\r\n                PGPSecretKeyRingCollection  pgpSec = new PGPSecretKeyRingCollection(\r\n                        PGPUtil.getDecoderStream(keyIn), new JcaKeyFingerprintCalculator());\r\n    \r\n                while (sKey == null &amp;&amp; it.hasNext())\r\n                {\r\n                    pbe = (PGPPublicKeyEncryptedData)it.next();\r\n    \r\n                    sKey = PGPExampleUtil.findSecretKey(pgpSec, pbe.getKeyID(), passwd);\r\n                }\r\n    \r\n                if (sKey == null)\r\n                {\r\n                    throw new IllegalArgumentException(&quot;secret key for message not found.&quot;);\r\n                }\r\n    \r\n                InputStream         clear = pbe.getDataStream(new JcePublicKeyDataDecryptorFactoryBuilder().setProvider(&quot;BC&quot;).build(sKey));\r\n    \r\n                JcaPGPObjectFactory    plainFact = new JcaPGPObjectFactory(clear);\r\n    \r\n                PGPCompressedData   cData = (PGPCompressedData)plainFact.nextObject();\r\n    \r\n                InputStream         compressedStream = new BufferedInputStream(cData.getDataStream());\r\n                JcaPGPObjectFactory    pgpFact = new JcaPGPObjectFactory(compressedStream);\r\n    \r\n                Object              message = pgpFact.nextObject();\r\n    \r\n                if (message instanceof PGPLiteralData)\r\n                {\r\n                    PGPLiteralData ld = (PGPLiteralData)message;\r\n    \r\n                    String outFileName = ld.getFileName();\r\n                    if (outFileName.length() == 0)\r\n                    {\r\n                        outFileName = defaultFileName;\r\n                    }\r\n    \r\n                    InputStream unc = ld.getInputStream();\r\n                    OutputStream fOut =  new BufferedOutputStream(new FileOutputStream(outFileName));\r\n    \r\n                    Streams.pipeAll(unc, fOut);\r\n    \r\n                    fOut.close();\r\n                }\r\n                else if (message instanceof PGPOnePassSignatureList)\r\n                {\r\n                    throw new PGPException(&quot;encrypted message contains a signed message - not literal data.&quot;);\r\n                }\r\n                else\r\n                {\r\n                    throw new PGPException(&quot;message is not a simple encrypted file - type unknown.&quot;);\r\n                }\r\n    \r\n                if (pbe.isIntegrityProtected())\r\n                {\r\n                    if (!pbe.verify())\r\n                    {\r\n                        System.err.println(&quot;message failed integrity check&quot;);\r\n                    }\r\n                    else\r\n                    {\r\n                        System.err.println(&quot;message integrity check passed&quot;);\r\n                    }\r\n                }\r\n                else\r\n                {\r\n                    System.err.println(&quot;no message integrity check&quot;);\r\n                }\r\n            }\r\n            catch (PGPException e)\r\n            {\r\n                System.err.println(e);\r\n                if (e.getUnderlyingException() != null)\r\n                {\r\n                    e.getUnderlyingException().printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    \r\n        private static void encryptFile(\r\n                String          outputFileName,\r\n                String          inputFileName,\r\n                String          encKeyFileName,\r\n                boolean         armor,\r\n                boolean         withIntegrityCheck)\r\n                throws IOException, NoSuchProviderException, PGPException\r\n        {\r\n            OutputStream out = new BufferedOutputStream(new FileOutputStream(outputFileName));\r\n            PGPPublicKey encKey = PGPExampleUtil.readPublicKey(encKeyFileName);\r\n            encryptFile(out, inputFileName, encKey, armor, withIntegrityCheck);\r\n            out.close();\r\n        }\r\n    \r\n        private static void encryptFile(\r\n                OutputStream    out,\r\n                String          fileName,\r\n                PGPPublicKey    encKey,\r\n                boolean         armor,\r\n                boolean         withIntegrityCheck)\r\n                throws IOException, NoSuchProviderException\r\n        {\r\n            if (armor)\r\n            {\r\n                out = new ArmoredOutputStream(out);\r\n            }\r\n    \r\n            try\r\n            {\r\n                PGPEncryptedDataGenerator   cPk = new PGPEncryptedDataGenerator(new JcePGPDataEncryptorBuilder(PGPEncryptedData.CAST5).setWithIntegrityPacket(withIntegrityCheck).setSecureRandom(new SecureRandom()).setProvider(&quot;BC&quot;));\r\n    \r\n                cPk.addMethod(new JcePublicKeyKeyEncryptionMethodGenerator(encKey).setProvider(&quot;BC&quot;));\r\n    \r\n                OutputStream                cOut = cPk.open(out, new byte[1 &lt;&lt; 16]);\r\n    \r\n                PGPCompressedDataGenerator  comData = new PGPCompressedDataGenerator(\r\n                        PGPCompressedData.ZIP);\r\n    \r\n                PGPUtil.writeFileToLiteralData(comData.open(cOut), PGPLiteralData.BINARY, new File(fileName), new byte[1 &lt;&lt; 16]);\r\n    \r\n                comData.close();\r\n    \r\n                cOut.close();\r\n    \r\n                if (armor)\r\n                {\r\n                    out.close();\r\n                }\r\n            }\r\n            catch (PGPException e)\r\n            {\r\n                System.err.println(e);\r\n                if (e.getUnderlyingException() != null)\r\n                {\r\n                    e.getUnderlyingException().printStackTrace();\r\n                }\r\n            }\r\n        }\r\n    \r\n        public static void main(\r\n                String[] args)\r\n                throws Exception\r\n        {\r\n            Security.addProvider(new BouncyCastleProvider());\r\n    \r\n            if (args.length == 0)\r\n            {\r\n                System.err.println(&quot;usage: KeyBasedLargeFileProcessor -e|-d [-a|ai] file [secretKeyFile passPhrase|pubKeyFile]&quot;);\r\n                return;\r\n            }\r\n    \r\n            if (args[0].equals(&quot;-e&quot;))\r\n            {\r\n                if (args[1].equals(&quot;-a&quot;) || args[1].equals(&quot;-ai&quot;) || args[1].equals(&quot;-ia&quot;))\r\n                {\r\n                    encryptFile(args[2] + &quot;.asc&quot;, args[2], args[3], true, (args[1].indexOf(&#39;i&#39;) &gt; 0));\r\n                }\r\n                else if (args[1].equals(&quot;-i&quot;))\r\n                {\r\n                    encryptFile(args[2] + &quot;.bpg&quot;, args[2], args[3], false, true);\r\n                }\r\n                else\r\n                {\r\n                    encryptFile(args[1] + &quot;.bpg&quot;, args[1], args[2], false, false);\r\n                }\r\n            }\r\n            else if (args[0].equals(&quot;-d&quot;))\r\n            {\r\n                decryptFile(args[1], args[2], args[3].toCharArray(), new File(args[1]).getName() + &quot;.out&quot;);\r\n            }\r\n            else\r\n            {\r\n                System.err.println(&quot;usage: KeyBasedLargeFileProcessor -d|-e [-a|ai] file [secretKeyFile passPhrase|pubKeyFile]&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nclass PGPExampleUtil.java\r\n\r\n    import java.io.BufferedInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.security.NoSuchProviderException;\r\n    import java.util.Iterator;\r\n    \r\n    import org.bouncycastle.openpgp.PGPCompressedDataGenerator;\r\n    import org.bouncycastle.openpgp.PGPException;\r\n    import org.bouncycastle.openpgp.PGPLiteralData;\r\n    import org.bouncycastle.openpgp.PGPPrivateKey;\r\n    import org.bouncycastle.openpgp.PGPPublicKey;\r\n    import org.bouncycastle.openpgp.PGPPublicKeyRing;\r\n    import org.bouncycastle.openpgp.PGPPublicKeyRingCollection;\r\n    import org.bouncycastle.openpgp.PGPSecretKey;\r\n    import org.bouncycastle.openpgp.PGPSecretKeyRing;\r\n    import org.bouncycastle.openpgp.PGPSecretKeyRingCollection;\r\n    import org.bouncycastle.openpgp.PGPUtil;\r\n    import org.bouncycastle.openpgp.operator.jcajce.JcaKeyFingerprintCalculator;\r\n    import org.bouncycastle.openpgp.operator.jcajce.JcePBESecretKeyDecryptorBuilder;\r\n    \r\n    class PGPExampleUtil\r\n    {\r\n        static byte[] compressFile(String fileName, int algorithm) throws IOException\r\n        {\r\n            ByteArrayOutputStream bOut = new ByteArrayOutputStream();\r\n            PGPCompressedDataGenerator comData = new PGPCompressedDataGenerator(algorithm);\r\n            PGPUtil.writeFileToLiteralData(comData.open(bOut), PGPLiteralData.BINARY,\r\n                    new File(fileName));\r\n            comData.close();\r\n            return bOut.toByteArray();\r\n        }\r\n    \r\n        /**\r\n         * Search a secret key ring collection for a secret key corresponding to keyID if it\r\n         * exists.\r\n         *\r\n         * @param pgpSec a secret key ring collection.\r\n         * @param keyID keyID we want.\r\n         * @param pass passphrase to decrypt secret key with.\r\n         * @return the private key.\r\n         * @throws PGPException\r\n         * @throws NoSuchProviderException\r\n         */\r\n        static PGPPrivateKey findSecretKey(PGPSecretKeyRingCollection pgpSec, long keyID, char[] pass)\r\n                throws PGPException, NoSuchProviderException\r\n        {\r\n            PGPSecretKey pgpSecKey = pgpSec.getSecretKey(keyID);\r\n    \r\n            if (pgpSecKey == null)\r\n            {\r\n                return null;\r\n            }\r\n    \r\n            return pgpSecKey.extractPrivateKey(new JcePBESecretKeyDecryptorBuilder().setProvider(&quot;BC&quot;).build(pass));\r\n        }\r\n    \r\n        static PGPPublicKey readPublicKey(String fileName) throws IOException, PGPException\r\n        {\r\n            InputStream keyIn = new BufferedInputStream(new FileInputStream(fileName));\r\n            PGPPublicKey pubKey = readPublicKey(keyIn);\r\n            keyIn.close();\r\n            return pubKey;\r\n        }\r\n    \r\n        /**\r\n         * A simple routine that opens a key ring file and loads the first available key\r\n         * suitable for encryption.\r\n         *\r\n         * @param input data stream containing the public key data\r\n         * @return the first public key found.\r\n         * @throws IOException\r\n         * @throws PGPException\r\n         */\r\n        static PGPPublicKey readPublicKey(InputStream input) throws IOException, PGPException\r\n        {\r\n            PGPPublicKeyRingCollection pgpPub = new PGPPublicKeyRingCollection(\r\n                    PGPUtil.getDecoderStream(input), new JcaKeyFingerprintCalculator());\r\n    \r\n            //\r\n            // we just loop through the collection till we find a key suitable for encryption, in the real\r\n            // world you would probably want to be a bit smarter about this.\r\n            //\r\n    \r\n            Iterator keyRingIter = pgpPub.getKeyRings();\r\n            while (keyRingIter.hasNext())\r\n            {\r\n                PGPPublicKeyRing keyRing = (PGPPublicKeyRing)keyRingIter.next();\r\n    \r\n                Iterator keyIter = keyRing.getPublicKeys();\r\n                while (keyIter.hasNext())\r\n                {\r\n                    PGPPublicKey key = (PGPPublicKey)keyIter.next();\r\n    \r\n                    if (key.isEncryptionKey())\r\n                    {\r\n                        return key;\r\n                    }\r\n                }\r\n            }\r\n    \r\n            throw new IllegalArgumentException(&quot;Can&#39;t find encryption key in key ring.&quot;);\r\n        }\r\n    \r\n        static PGPSecretKey readSecretKey(String fileName) throws IOException, PGPException\r\n        {\r\n            InputStream keyIn = new BufferedInputStream(new FileInputStream(fileName));\r\n            PGPSecretKey secKey = readSecretKey(keyIn);\r\n            keyIn.close();\r\n            return secKey;\r\n        }\r\n    \r\n        /**\r\n         * A simple routine that opens a key ring file and loads the first available key\r\n         * suitable for signature generation.\r\n         *\r\n         * @param input stream to read the secret key ring collection from.\r\n         * @return a secret key.\r\n         * @throws IOException on a problem with using the input stream.\r\n         * @throws PGPException if there is an issue parsing the input stream.\r\n         */\r\n        static PGPSecretKey readSecretKey(InputStream input) throws IOException, PGPException\r\n        {\r\n            PGPSecretKeyRingCollection pgpSec = new PGPSecretKeyRingCollection(\r\n                    PGPUtil.getDecoderStream(input), new JcaKeyFingerprintCalculator());\r\n    \r\n            //\r\n            // we just loop through the collection till we find a key suitable for encryption, in the real\r\n            // world you would probably want to be a bit smarter about this.\r\n            //\r\n    \r\n            Iterator keyRingIter = pgpSec.getKeyRings();\r\n            while (keyRingIter.hasNext())\r\n            {\r\n                PGPSecretKeyRing keyRing = (PGPSecretKeyRing)keyRingIter.next();\r\n    \r\n                Iterator keyIter = keyRing.getSecretKeys();\r\n                while (keyIter.hasNext())\r\n                {\r\n                    PGPSecretKey key = (PGPSecretKey)keyIter.next();\r\n    \r\n                    if (key.isSigningKey())\r\n                    {\r\n                        return key;\r\n                    }\r\n                }\r\n            }\r\n    \r\n            throw new IllegalArgumentException(&quot;Can&#39;t find signing key in key ring.&quot;);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MhNRM.png","title":"java pgp encrypt file with public key in asc file","body":"<p>You can use the crypto library 'Bouncy Castle' to encrypt a file using a PGP Public key in Ascii-format. The following code is taken from the examples section of Bouncy Castle that is located here: <a href=\"https://github.com/bcgit/bc-java/tree/master/pg/src/main/java/org/bouncycastle/openpgp/examples\" rel=\"nofollow noreferrer\">https://github.com/bcgit/bc-java/tree/master/pg/src/main/java/org/bouncycastle/openpgp/examples</a>.</p>\n<p>You do need the two files KeyBasedLargeFileProcessor.java and PGPExampleUtil.java plus the libraries itself; get the latest versions here: <a href=\"https://www.bouncycastle.org/latest_releases.html\" rel=\"nofollow noreferrer\">https://www.bouncycastle.org/latest_releases.html</a> (you need the bcprov-xxx.jar and bcpg-xxx.jar to run the example).</p>\n<p>As the example is a command line application you need to pass the information like</p>\n<pre><code>-e -a plaintext.txt java_pgp_encrypt_publickey.asc\n</code></pre>\n<p>where -e = encryption, -a = ascii output, plaintext.txt is your file to get encrypted and java_pgp_encrypt_publickey.asc = the public key.</p>\n<p>There are some other options but they depend on the third party requests.</p>\n<p><strong>Please take care about the notes in KeyBasedLargeFileProcessor.java - this is just a working example.</strong></p>\n<p>Usually there is not extra output but a new file in the current directory with the filename plaintext.txt.asc that looks like</p>\n<pre><code>-----BEGIN PGP MESSAGE-----\nVersion: BCPG v1.66\n\nhQEMAyr8BYmnLERrAQf/SaG7yIORewag0fziemyEmWq+sGJT3TiLIoVCEo+PjDfY\nXyuXybIr/q5Q7tE3WcubkXzVIuShB2x2r8zaHP3rhtzDfuRS13S5QBM1LZ9KIcvg\n+//OoeS1kfKfJnYfAQR1VCKWBkOQtSCIyMWGmqkrV2xEC8xzAo2cwXCBS2F7LYRE\nvnmJGnr4ANFdbSlzRffBPJCcggk9RqDXXJjU31gCqFT+lpgc48Hf6OfRff7x5I2b\n5++PH1UPKFIZhalnFE2UQ9DVbzJd2FaciUKhcM9nQSGKoNKy3o1wevrtive8VIuM\nJjgV0ql+3MGCVVYL0tBnDdjdbmHV5pcZX9aI147esclPItwZQHTHTtaxTUKTJZeQ\n4YgMas+o0faWLUilaeNvNa8PqxLy9gPGzMxUj2/P1narGs4bbivUooLJO73NKV4B\nu3on8l/Es4vVLNoZpJv0kw==\n=IZ8I\n-----END PGP MESSAGE-----\n</code></pre>\n<p><strong>Edit Aug. 12th 2020:</strong> I made a fresh download of PGP Desktop x64 version 10.1.1, generated a sample keypair and\nexported the public key (&quot;-----BEGIN PGP PUBLIC KEY BLOCK-----...&quot;). I used this key with the mentioned options and\ncreated a encrypted file (&quot;-----BEGIN PGP MESSAGE-----...&quot;). This file was used as input for the PGP Viewer and it\nwas decrypted like expected, so something in your environment seems not to work as expected (or the wrong public key\nwas in use or or or):</p>\n<p><a href=\"https://i.stack.imgur.com/MhNRM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MhNRM.png\" alt=\"enter image description here\" /></a></p>\n<p>As links may go away here are the source codes as well.</p>\n<p>class KeyBasedLargeFileProcessor.java</p>\n<pre><code>import java.io.BufferedInputStream;\nimport java.io.BufferedOutputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.security.NoSuchProviderException;\nimport java.security.SecureRandom;\nimport java.security.Security;\nimport java.util.Iterator;\n\nimport org.bouncycastle.bcpg.ArmoredOutputStream;\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport org.bouncycastle.openpgp.PGPCompressedData;\nimport org.bouncycastle.openpgp.PGPCompressedDataGenerator;\nimport org.bouncycastle.openpgp.PGPEncryptedData;\nimport org.bouncycastle.openpgp.PGPEncryptedDataGenerator;\nimport org.bouncycastle.openpgp.PGPEncryptedDataList;\nimport org.bouncycastle.openpgp.PGPException;\nimport org.bouncycastle.openpgp.PGPLiteralData;\nimport org.bouncycastle.openpgp.PGPOnePassSignatureList;\nimport org.bouncycastle.openpgp.PGPPrivateKey;\nimport org.bouncycastle.openpgp.PGPPublicKey;\nimport org.bouncycastle.openpgp.PGPPublicKeyEncryptedData;\nimport org.bouncycastle.openpgp.PGPSecretKeyRingCollection;\nimport org.bouncycastle.openpgp.PGPUtil;\nimport org.bouncycastle.openpgp.jcajce.JcaPGPObjectFactory;\nimport org.bouncycastle.openpgp.operator.jcajce.JcaKeyFingerprintCalculator;\nimport org.bouncycastle.openpgp.operator.jcajce.JcePGPDataEncryptorBuilder;\nimport org.bouncycastle.openpgp.operator.jcajce.JcePublicKeyDataDecryptorFactoryBuilder;\nimport org.bouncycastle.openpgp.operator.jcajce.JcePublicKeyKeyEncryptionMethodGenerator;\nimport org.bouncycastle.util.io.Streams;\n\n/**\n * A simple utility class that encrypts/decrypts public key based\n * encryption large files.\n * &lt;p&gt;\n * To encrypt a file: KeyBasedLargeFileProcessor -e [-a|-ai] fileName publicKeyFile.&lt;br&gt;\n * If -a is specified the output file will be &quot;ascii-armored&quot;.\n * If -i is specified the output file will be have integrity checking added.\n * &lt;p&gt;\n * To decrypt: KeyBasedLargeFileProcessor -d fileName secretKeyFile passPhrase.\n * &lt;p&gt;\n * Note 1: this example will silently overwrite files, nor does it pay any attention to\n * the specification of &quot;_CONSOLE&quot; in the filename. It also expects that a single pass phrase\n * will have been used.\n * &lt;p&gt;\n * Note 2: this example generates partial packets to encode the file, the output it generates\n * will not be readable by older PGP products or products that don't support partial packet\n * encoding.\n * &lt;p&gt;\n * Note 3: if an empty file name has been specified in the literal data object contained in the\n * encrypted packet a file with the name filename.out will be generated in the current working directory.\n */\npublic class KeyBasedLargeFileProcessor\n/*\n   file taken from https://github.com/bcgit/bc-java/tree/master/pg/src/main/java/org/bouncycastle/openpgp/examples\n   get bouncy castle here: https://www.bouncycastle.org/latest_releases.html\n   i used the bcprov-jdk15on-166.jar and bcpg-jdk15on-166.jar at the time of writing\n*/\n{\n    private static void decryptFile(\n            String inputFileName,\n            String keyFileName,\n            char[] passwd,\n            String defaultFileName)\n            throws IOException, NoSuchProviderException\n    {\n        InputStream in = new BufferedInputStream(new FileInputStream(inputFileName));\n        InputStream keyIn = new BufferedInputStream(new FileInputStream(keyFileName));\n        decryptFile(in, keyIn, passwd, defaultFileName);\n        keyIn.close();\n        in.close();\n    }\n\n    /**\n     * decrypt the passed in message stream\n     */\n    private static void decryptFile(\n            InputStream in,\n            InputStream keyIn,\n            char[]      passwd,\n            String      defaultFileName)\n            throws IOException, NoSuchProviderException\n    {\n        in = PGPUtil.getDecoderStream(in);\n\n        try\n        {\n            JcaPGPObjectFactory        pgpF = new JcaPGPObjectFactory(in);\n            PGPEncryptedDataList    enc;\n\n            Object                  o = pgpF.nextObject();\n            //\n            // the first object might be a PGP marker packet.\n            //\n            if (o instanceof PGPEncryptedDataList)\n            {\n                enc = (PGPEncryptedDataList)o;\n            }\n            else\n            {\n                enc = (PGPEncryptedDataList)pgpF.nextObject();\n            }\n\n            //\n            // find the secret key\n            //\n            Iterator                    it = enc.getEncryptedDataObjects();\n            PGPPrivateKey               sKey = null;\n            PGPPublicKeyEncryptedData   pbe = null;\n            PGPSecretKeyRingCollection  pgpSec = new PGPSecretKeyRingCollection(\n                    PGPUtil.getDecoderStream(keyIn), new JcaKeyFingerprintCalculator());\n\n            while (sKey == null &amp;&amp; it.hasNext())\n            {\n                pbe = (PGPPublicKeyEncryptedData)it.next();\n\n                sKey = PGPExampleUtil.findSecretKey(pgpSec, pbe.getKeyID(), passwd);\n            }\n\n            if (sKey == null)\n            {\n                throw new IllegalArgumentException(&quot;secret key for message not found.&quot;);\n            }\n\n            InputStream         clear = pbe.getDataStream(new JcePublicKeyDataDecryptorFactoryBuilder().setProvider(&quot;BC&quot;).build(sKey));\n\n            JcaPGPObjectFactory    plainFact = new JcaPGPObjectFactory(clear);\n\n            PGPCompressedData   cData = (PGPCompressedData)plainFact.nextObject();\n\n            InputStream         compressedStream = new BufferedInputStream(cData.getDataStream());\n            JcaPGPObjectFactory    pgpFact = new JcaPGPObjectFactory(compressedStream);\n\n            Object              message = pgpFact.nextObject();\n\n            if (message instanceof PGPLiteralData)\n            {\n                PGPLiteralData ld = (PGPLiteralData)message;\n\n                String outFileName = ld.getFileName();\n                if (outFileName.length() == 0)\n                {\n                    outFileName = defaultFileName;\n                }\n\n                InputStream unc = ld.getInputStream();\n                OutputStream fOut =  new BufferedOutputStream(new FileOutputStream(outFileName));\n\n                Streams.pipeAll(unc, fOut);\n\n                fOut.close();\n            }\n            else if (message instanceof PGPOnePassSignatureList)\n            {\n                throw new PGPException(&quot;encrypted message contains a signed message - not literal data.&quot;);\n            }\n            else\n            {\n                throw new PGPException(&quot;message is not a simple encrypted file - type unknown.&quot;);\n            }\n\n            if (pbe.isIntegrityProtected())\n            {\n                if (!pbe.verify())\n                {\n                    System.err.println(&quot;message failed integrity check&quot;);\n                }\n                else\n                {\n                    System.err.println(&quot;message integrity check passed&quot;);\n                }\n            }\n            else\n            {\n                System.err.println(&quot;no message integrity check&quot;);\n            }\n        }\n        catch (PGPException e)\n        {\n            System.err.println(e);\n            if (e.getUnderlyingException() != null)\n            {\n                e.getUnderlyingException().printStackTrace();\n            }\n        }\n    }\n\n    private static void encryptFile(\n            String          outputFileName,\n            String          inputFileName,\n            String          encKeyFileName,\n            boolean         armor,\n            boolean         withIntegrityCheck)\n            throws IOException, NoSuchProviderException, PGPException\n    {\n        OutputStream out = new BufferedOutputStream(new FileOutputStream(outputFileName));\n        PGPPublicKey encKey = PGPExampleUtil.readPublicKey(encKeyFileName);\n        encryptFile(out, inputFileName, encKey, armor, withIntegrityCheck);\n        out.close();\n    }\n\n    private static void encryptFile(\n            OutputStream    out,\n            String          fileName,\n            PGPPublicKey    encKey,\n            boolean         armor,\n            boolean         withIntegrityCheck)\n            throws IOException, NoSuchProviderException\n    {\n        if (armor)\n        {\n            out = new ArmoredOutputStream(out);\n        }\n\n        try\n        {\n            PGPEncryptedDataGenerator   cPk = new PGPEncryptedDataGenerator(new JcePGPDataEncryptorBuilder(PGPEncryptedData.CAST5).setWithIntegrityPacket(withIntegrityCheck).setSecureRandom(new SecureRandom()).setProvider(&quot;BC&quot;));\n\n            cPk.addMethod(new JcePublicKeyKeyEncryptionMethodGenerator(encKey).setProvider(&quot;BC&quot;));\n\n            OutputStream                cOut = cPk.open(out, new byte[1 &lt;&lt; 16]);\n\n            PGPCompressedDataGenerator  comData = new PGPCompressedDataGenerator(\n                    PGPCompressedData.ZIP);\n\n            PGPUtil.writeFileToLiteralData(comData.open(cOut), PGPLiteralData.BINARY, new File(fileName), new byte[1 &lt;&lt; 16]);\n\n            comData.close();\n\n            cOut.close();\n\n            if (armor)\n            {\n                out.close();\n            }\n        }\n        catch (PGPException e)\n        {\n            System.err.println(e);\n            if (e.getUnderlyingException() != null)\n            {\n                e.getUnderlyingException().printStackTrace();\n            }\n        }\n    }\n\n    public static void main(\n            String[] args)\n            throws Exception\n    {\n        Security.addProvider(new BouncyCastleProvider());\n\n        if (args.length == 0)\n        {\n            System.err.println(&quot;usage: KeyBasedLargeFileProcessor -e|-d [-a|ai] file [secretKeyFile passPhrase|pubKeyFile]&quot;);\n            return;\n        }\n\n        if (args[0].equals(&quot;-e&quot;))\n        {\n            if (args[1].equals(&quot;-a&quot;) || args[1].equals(&quot;-ai&quot;) || args[1].equals(&quot;-ia&quot;))\n            {\n                encryptFile(args[2] + &quot;.asc&quot;, args[2], args[3], true, (args[1].indexOf('i') &gt; 0));\n            }\n            else if (args[1].equals(&quot;-i&quot;))\n            {\n                encryptFile(args[2] + &quot;.bpg&quot;, args[2], args[3], false, true);\n            }\n            else\n            {\n                encryptFile(args[1] + &quot;.bpg&quot;, args[1], args[2], false, false);\n            }\n        }\n        else if (args[0].equals(&quot;-d&quot;))\n        {\n            decryptFile(args[1], args[2], args[3].toCharArray(), new File(args[1]).getName() + &quot;.out&quot;);\n        }\n        else\n        {\n            System.err.println(&quot;usage: KeyBasedLargeFileProcessor -d|-e [-a|ai] file [secretKeyFile passPhrase|pubKeyFile]&quot;);\n        }\n    }\n}\n</code></pre>\n<p>class PGPExampleUtil.java</p>\n<pre><code>import java.io.BufferedInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.security.NoSuchProviderException;\nimport java.util.Iterator;\n\nimport org.bouncycastle.openpgp.PGPCompressedDataGenerator;\nimport org.bouncycastle.openpgp.PGPException;\nimport org.bouncycastle.openpgp.PGPLiteralData;\nimport org.bouncycastle.openpgp.PGPPrivateKey;\nimport org.bouncycastle.openpgp.PGPPublicKey;\nimport org.bouncycastle.openpgp.PGPPublicKeyRing;\nimport org.bouncycastle.openpgp.PGPPublicKeyRingCollection;\nimport org.bouncycastle.openpgp.PGPSecretKey;\nimport org.bouncycastle.openpgp.PGPSecretKeyRing;\nimport org.bouncycastle.openpgp.PGPSecretKeyRingCollection;\nimport org.bouncycastle.openpgp.PGPUtil;\nimport org.bouncycastle.openpgp.operator.jcajce.JcaKeyFingerprintCalculator;\nimport org.bouncycastle.openpgp.operator.jcajce.JcePBESecretKeyDecryptorBuilder;\n\nclass PGPExampleUtil\n{\n    static byte[] compressFile(String fileName, int algorithm) throws IOException\n    {\n        ByteArrayOutputStream bOut = new ByteArrayOutputStream();\n        PGPCompressedDataGenerator comData = new PGPCompressedDataGenerator(algorithm);\n        PGPUtil.writeFileToLiteralData(comData.open(bOut), PGPLiteralData.BINARY,\n                new File(fileName));\n        comData.close();\n        return bOut.toByteArray();\n    }\n\n    /**\n     * Search a secret key ring collection for a secret key corresponding to keyID if it\n     * exists.\n     *\n     * @param pgpSec a secret key ring collection.\n     * @param keyID keyID we want.\n     * @param pass passphrase to decrypt secret key with.\n     * @return the private key.\n     * @throws PGPException\n     * @throws NoSuchProviderException\n     */\n    static PGPPrivateKey findSecretKey(PGPSecretKeyRingCollection pgpSec, long keyID, char[] pass)\n            throws PGPException, NoSuchProviderException\n    {\n        PGPSecretKey pgpSecKey = pgpSec.getSecretKey(keyID);\n\n        if (pgpSecKey == null)\n        {\n            return null;\n        }\n\n        return pgpSecKey.extractPrivateKey(new JcePBESecretKeyDecryptorBuilder().setProvider(&quot;BC&quot;).build(pass));\n    }\n\n    static PGPPublicKey readPublicKey(String fileName) throws IOException, PGPException\n    {\n        InputStream keyIn = new BufferedInputStream(new FileInputStream(fileName));\n        PGPPublicKey pubKey = readPublicKey(keyIn);\n        keyIn.close();\n        return pubKey;\n    }\n\n    /**\n     * A simple routine that opens a key ring file and loads the first available key\n     * suitable for encryption.\n     *\n     * @param input data stream containing the public key data\n     * @return the first public key found.\n     * @throws IOException\n     * @throws PGPException\n     */\n    static PGPPublicKey readPublicKey(InputStream input) throws IOException, PGPException\n    {\n        PGPPublicKeyRingCollection pgpPub = new PGPPublicKeyRingCollection(\n                PGPUtil.getDecoderStream(input), new JcaKeyFingerprintCalculator());\n\n        //\n        // we just loop through the collection till we find a key suitable for encryption, in the real\n        // world you would probably want to be a bit smarter about this.\n        //\n\n        Iterator keyRingIter = pgpPub.getKeyRings();\n        while (keyRingIter.hasNext())\n        {\n            PGPPublicKeyRing keyRing = (PGPPublicKeyRing)keyRingIter.next();\n\n            Iterator keyIter = keyRing.getPublicKeys();\n            while (keyIter.hasNext())\n            {\n                PGPPublicKey key = (PGPPublicKey)keyIter.next();\n\n                if (key.isEncryptionKey())\n                {\n                    return key;\n                }\n            }\n        }\n\n        throw new IllegalArgumentException(&quot;Can't find encryption key in key ring.&quot;);\n    }\n\n    static PGPSecretKey readSecretKey(String fileName) throws IOException, PGPException\n    {\n        InputStream keyIn = new BufferedInputStream(new FileInputStream(fileName));\n        PGPSecretKey secKey = readSecretKey(keyIn);\n        keyIn.close();\n        return secKey;\n    }\n\n    /**\n     * A simple routine that opens a key ring file and loads the first available key\n     * suitable for signature generation.\n     *\n     * @param input stream to read the secret key ring collection from.\n     * @return a secret key.\n     * @throws IOException on a problem with using the input stream.\n     * @throws PGPException if there is an issue parsing the input stream.\n     */\n    static PGPSecretKey readSecretKey(InputStream input) throws IOException, PGPException\n    {\n        PGPSecretKeyRingCollection pgpSec = new PGPSecretKeyRingCollection(\n                PGPUtil.getDecoderStream(input), new JcaKeyFingerprintCalculator());\n\n        //\n        // we just loop through the collection till we find a key suitable for encryption, in the real\n        // world you would probably want to be a bit smarter about this.\n        //\n\n        Iterator keyRingIter = pgpSec.getKeyRings();\n        while (keyRingIter.hasNext())\n        {\n            PGPSecretKeyRing keyRing = (PGPSecretKeyRing)keyRingIter.next();\n\n            Iterator keyIter = keyRing.getSecretKeys();\n            while (keyIter.hasNext())\n            {\n                PGPSecretKey key = (PGPSecretKey)keyIter.next();\n\n                if (key.isSigningKey())\n                {\n                    return key;\n                }\n            }\n        }\n\n        throw new IllegalArgumentException(&quot;Can't find signing key in key ring.&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15457133,"reputation":185,"user_id":11150851,"display_name":"vanitasvitae"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696588997,"creation_date":1696588997,"answer_id":77243794,"question_id":63351345,"body_markdown":"You can make use of [PGPainless](https://pgpainless.org), which offers a straight forward OpenPGP API:\r\n\r\n```java\r\nInputStream publicKeyIn = ... // e.g. FileInputStream on the .asc file\r\nPGPPublicKeyRing publicKey = PGPainless.readKeyRing().publicKeyRing(publicKeyIn);\r\n\r\nInputStream dataIn = ... // The data you want to send\r\nOutputStream dataOut = ... // Where you want to put the encrypted data, e.g. FileOutputStream\r\n\r\nEncryptionStream encryptor = PGPainless.encryptAndOrSign()\r\n    .onOutputStream(dataOut)\r\n    .withOptions(ProducerOptions.encrypt(\r\n        EncryptionOptions.get()\r\n            .addRecipient(publicKey)\r\n    ));\r\n\r\nStreams.pipeAll(dataIn, encryptor);\r\nencryptor.close();\r\n```\r\n\r\nThere are many more examples in the [documentation](https://pgpainless.readthedocs.io/en/latest/quickstart.html#pgpainless-api-with-pgpainless-core).\r\n\r\nAlternatively, you could use PGPainless via the [SOP interface](https://pgpainless.readthedocs.io/en/latest/quickstart.html#sop-api-with-pgpainless-sop), which is even more straight forward and allows you to use alternative OpenPGP backends.","title":"java pgp encrypt file with public key in asc file","body":"<p>You can make use of <a href=\"https://pgpainless.org\" rel=\"nofollow noreferrer\">PGPainless</a>, which offers a straight forward OpenPGP API:</p>\n<pre class=\"lang-java prettyprint-override\"><code>InputStream publicKeyIn = ... // e.g. FileInputStream on the .asc file\nPGPPublicKeyRing publicKey = PGPainless.readKeyRing().publicKeyRing(publicKeyIn);\n\nInputStream dataIn = ... // The data you want to send\nOutputStream dataOut = ... // Where you want to put the encrypted data, e.g. FileOutputStream\n\nEncryptionStream encryptor = PGPainless.encryptAndOrSign()\n    .onOutputStream(dataOut)\n    .withOptions(ProducerOptions.encrypt(\n        EncryptionOptions.get()\n            .addRecipient(publicKey)\n    ));\n\nStreams.pipeAll(dataIn, encryptor);\nencryptor.close();\n</code></pre>\n<p>There are many more examples in the <a href=\"https://pgpainless.readthedocs.io/en/latest/quickstart.html#pgpainless-api-with-pgpainless-core\" rel=\"nofollow noreferrer\">documentation</a>.</p>\n<p>Alternatively, you could use PGPainless via the <a href=\"https://pgpainless.readthedocs.io/en/latest/quickstart.html#sop-api-with-pgpainless-sop\" rel=\"nofollow noreferrer\">SOP interface</a>, which is even more straight forward and allows you to use alternative OpenPGP backends.</p>\n"}],"owner":{"account_id":7527441,"reputation":129,"user_id":5717068,"accept_rate":75,"display_name":"Duong Nhat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11230,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":63355145,"answer_count":2,"score":4,"last_activity_date":1696588997,"creation_date":1597118709,"question_id":63351345,"body_markdown":"My customer use PGP desktop for file encryption. They send me a public key in an .asc file and I have to encrypt a zip file by this public key with java. But I can&#39;t find any java code that use asc file. There are some potential lib, such as didisoft but they only have commercial version. An example of asc bellow.\r\n```\r\n-----BEGIN PGP PUBLIC KEY BLOCK-----\r\nVersion: PGP Desktop 10.1.1 (Build 10) - not licensed for commercial use: www.pgp.com\r\n\r\nmQENBF8x/WUBCACiwQ/ff0ZtK+HzR4JDn6Na30NrZx4851LHFcB0EFR4XK1myPbA\r\nOnWHc3tHmJOErcgudfWuADysrWQv/cl3byInLDhxGwKmcsGjnPg1kjQxW46UI/GH\r\n0Fx8Ojs9zTqXOb5R0jCWhvGqN9Mq076CowhGp5RTtRjTjy18+ybimrjRvscNEoR6\r\nJsoJLgOgWpPq0FqVaFvNXl3scu9LBtDO41f1+2BkPOPvMcK8Nh7ZZ84w49mxi1SH\r\n19nFxBE8bWvVE3y6z0ksNJAIc0BYyPD9ykBxUs0vg7iIRActoJq4F/sSEA70numA\r\nP/MGvjjsU0Wf7qj1k7o8e3CIZf/Tz26xI44xABEBAAG0IENoYXUgTGluaCA8ZHVv\r\nbmd0bmhhdEBnbWFpbC5jb20+iQFyBBABAgBcBQJfMf1lMBSAAAAAACAAB3ByZWZl\r\ncnJlZC1lbWFpbC1lbmNvZGluZ0BwZ3AuY29tcGdwbWltZQgLCQgHAwIKAQIZAQUb\r\nAwAAAAUWAAMCAQUeAQAAAAYVCAkKAgMACgkQKvwFiacsRGtB9Qf+PkATFrSMFEKJ\r\nnGAJd7n7xejWSJrb9InLsMueVFwM26v2uw58RiYbxJ1E1/onXdrbDIKk3qzbmlYi\r\nctY6DmGgzO72X2yDnhAxyzqYqeZyDaK4v1hxQei3+B2vKhdg74bjM7KZPsjpY7+O\r\nTSn4uC+Q5NuNIddmlAHpobZnzo2BxK9PghwHZCQkBgwPAj/3M2+au3gpXMtGGdMK\r\nro9fwjVINtkpkFOdrfPHyExkVDakrOWd2M0RhdHRIeoCfBvXoV4hqsBHMZODRFTu\r\noR9GVazgScf4191t8PfgaP30dglOvEoteluxc9w/b+PDcKzDxWkai5zJkriS1fyc\r\ncnyq5kIUibkBDQRfMf1lAQgAvVFocZU5rx1gTi4RxJpCctRwOoV7Ih2vWMDp0L5+\r\nudD3XRxrI0yNLrAfQ/oXeFVVzADm1gEgrt+I3EuRH3Dh32hlvnEpuzmqhxHFwfrl\r\nXiWsQFTHXw2ZrriLuluQanP7jJbIHG7ES19qx+RgJsjKiZz7T3agDWYoqAdREYfx\r\nVKukNoADhvovHI3H1fvzvKCF3SoDVhoG7M6PR4eP8bUcVP0OU8R+yB8OD2iuJJP7\r\nqJNxjZwlRzjW6uUiSnheqx6c/7KzJIShSpPW9S/jdXUeYK8XMs3yZFuZrZDGZNz1\r\nWqCYLInAOj39eyHZYWQoLvf9gxBwu1gcklZUyEecCXRggQARAQABiQJBBBgBAgEr\r\nBQJfMf1mBRsMAAAAwF0gBBkBCAAGBQJfMf1mAAoJEJ38RwOGw3MGo0EIAKF2aRaG\r\n2fPpxsLZxA12tEVi8ozt4Hu0dzyIc3yKKE4a3Ll7gFurpbSas71Q6k1CFrAitAvk\r\n7mdnoPRR7GkLCRhU9Cvai0O8WnQrLewxLxgLiSPPBaEo6ovWiUomY/OROyhOLuIs\r\nX8x20exC7qjVj+szZmExRwP+gWAjO+JV4+PxO/tGWkSx0Z8GVhGk1MegNMsbyC7i\r\nDykjopUWy/236es/3yU9yw+MPm4K9dX4dR6UkdfTs/3zRB8mWvEOrZD5iJqPt0O2\r\nwr9peYkl7pPt2Q9Q4UNo74fuQ7x9oLifRCM+g2dfGDDZHZDu7gTi5ChywJb/PIIz\r\nC1dHuafshuKIxHIACgkQKvwFiacsRGsgJQf+OvSjXriteeMeBDUVIBjO3DFSFimM\r\nEIC0e4MIlUEZxI1+wVX8Eu2ya9wGvyf35LnAIp58OymUKJpj+I6sZrrmlxnviYDF\r\n1K0+pVXlZdSOSJSxyo9uKTjoyLOIQnGVMctVMGtJB8Ia9J1ozmGyxF6X5bS93GkN\r\n1CXCMhzrtz8qzLN1GeZ8CjAK2moR98NTM6lqtpeZBCjLgj8QwRuEcMAvvNtWzyXU\r\n7hyroFhDI6nJbV8uqqp0KPHl9OalIdpUqd5KdKX3quC+na6GTV5pfYaIL8Ik86B/\r\nEp0qgks8E2bBubOhNsBiIO7O4StiqfFPnPA1u7gUsp3GtNtIyPqevMW51Q==\r\n=bQJS\r\n-----END PGP PUBLIC KEY BLOCK-----\r\n```","title":"java pgp encrypt file with public key in asc file","body":"<p>My customer use PGP desktop for file encryption. They send me a public key in an .asc file and I have to encrypt a zip file by this public key with java. But I can't find any java code that use asc file. There are some potential lib, such as didisoft but they only have commercial version. An example of asc bellow.</p>\n<pre><code>-----BEGIN PGP PUBLIC KEY BLOCK-----\nVersion: PGP Desktop 10.1.1 (Build 10) - not licensed for commercial use: www.pgp.com\n\nmQENBF8x/WUBCACiwQ/ff0ZtK+HzR4JDn6Na30NrZx4851LHFcB0EFR4XK1myPbA\nOnWHc3tHmJOErcgudfWuADysrWQv/cl3byInLDhxGwKmcsGjnPg1kjQxW46UI/GH\n0Fx8Ojs9zTqXOb5R0jCWhvGqN9Mq076CowhGp5RTtRjTjy18+ybimrjRvscNEoR6\nJsoJLgOgWpPq0FqVaFvNXl3scu9LBtDO41f1+2BkPOPvMcK8Nh7ZZ84w49mxi1SH\n19nFxBE8bWvVE3y6z0ksNJAIc0BYyPD9ykBxUs0vg7iIRActoJq4F/sSEA70numA\nP/MGvjjsU0Wf7qj1k7o8e3CIZf/Tz26xI44xABEBAAG0IENoYXUgTGluaCA8ZHVv\nbmd0bmhhdEBnbWFpbC5jb20+iQFyBBABAgBcBQJfMf1lMBSAAAAAACAAB3ByZWZl\ncnJlZC1lbWFpbC1lbmNvZGluZ0BwZ3AuY29tcGdwbWltZQgLCQgHAwIKAQIZAQUb\nAwAAAAUWAAMCAQUeAQAAAAYVCAkKAgMACgkQKvwFiacsRGtB9Qf+PkATFrSMFEKJ\nnGAJd7n7xejWSJrb9InLsMueVFwM26v2uw58RiYbxJ1E1/onXdrbDIKk3qzbmlYi\nctY6DmGgzO72X2yDnhAxyzqYqeZyDaK4v1hxQei3+B2vKhdg74bjM7KZPsjpY7+O\nTSn4uC+Q5NuNIddmlAHpobZnzo2BxK9PghwHZCQkBgwPAj/3M2+au3gpXMtGGdMK\nro9fwjVINtkpkFOdrfPHyExkVDakrOWd2M0RhdHRIeoCfBvXoV4hqsBHMZODRFTu\noR9GVazgScf4191t8PfgaP30dglOvEoteluxc9w/b+PDcKzDxWkai5zJkriS1fyc\ncnyq5kIUibkBDQRfMf1lAQgAvVFocZU5rx1gTi4RxJpCctRwOoV7Ih2vWMDp0L5+\nudD3XRxrI0yNLrAfQ/oXeFVVzADm1gEgrt+I3EuRH3Dh32hlvnEpuzmqhxHFwfrl\nXiWsQFTHXw2ZrriLuluQanP7jJbIHG7ES19qx+RgJsjKiZz7T3agDWYoqAdREYfx\nVKukNoADhvovHI3H1fvzvKCF3SoDVhoG7M6PR4eP8bUcVP0OU8R+yB8OD2iuJJP7\nqJNxjZwlRzjW6uUiSnheqx6c/7KzJIShSpPW9S/jdXUeYK8XMs3yZFuZrZDGZNz1\nWqCYLInAOj39eyHZYWQoLvf9gxBwu1gcklZUyEecCXRggQARAQABiQJBBBgBAgEr\nBQJfMf1mBRsMAAAAwF0gBBkBCAAGBQJfMf1mAAoJEJ38RwOGw3MGo0EIAKF2aRaG\n2fPpxsLZxA12tEVi8ozt4Hu0dzyIc3yKKE4a3Ll7gFurpbSas71Q6k1CFrAitAvk\n7mdnoPRR7GkLCRhU9Cvai0O8WnQrLewxLxgLiSPPBaEo6ovWiUomY/OROyhOLuIs\nX8x20exC7qjVj+szZmExRwP+gWAjO+JV4+PxO/tGWkSx0Z8GVhGk1MegNMsbyC7i\nDykjopUWy/236es/3yU9yw+MPm4K9dX4dR6UkdfTs/3zRB8mWvEOrZD5iJqPt0O2\nwr9peYkl7pPt2Q9Q4UNo74fuQ7x9oLifRCM+g2dfGDDZHZDu7gTi5ChywJb/PIIz\nC1dHuafshuKIxHIACgkQKvwFiacsRGsgJQf+OvSjXriteeMeBDUVIBjO3DFSFimM\nEIC0e4MIlUEZxI1+wVX8Eu2ya9wGvyf35LnAIp58OymUKJpj+I6sZrrmlxnviYDF\n1K0+pVXlZdSOSJSxyo9uKTjoyLOIQnGVMctVMGtJB8Ia9J1ozmGyxF6X5bS93GkN\n1CXCMhzrtz8qzLN1GeZ8CjAK2moR98NTM6lqtpeZBCjLgj8QwRuEcMAvvNtWzyXU\n7hyroFhDI6nJbV8uqqp0KPHl9OalIdpUqd5KdKX3quC+na6GTV5pfYaIL8Ik86B/\nEp0qgks8E2bBubOhNsBiIO7O4StiqfFPnPA1u7gUsp3GtNtIyPqevMW51Q==\n=bQJS\n-----END PGP PUBLIC KEY BLOCK-----\n</code></pre>\n"},{"tags":["java","spring-boot","itext7"],"answers":[{"tags":[],"owner":{"account_id":25629488,"reputation":49,"user_id":19400075,"display_name":"asdrubalo"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696588471,"creation_date":1696588471,"answer_id":77243745,"question_id":77229491,"body_markdown":"**SOLUTION**\r\n\r\nThe rectangle i was creating was wrong.\r\nIt was as big as the table, so evrything was shrinking.\r\nI set his dimentions to the width of the Document and the height of the table\r\n\r\nlike this:\r\n\r\n    new Canvas(canvas, new Rectangle(30, 40,documentWidth , tableHeight))\r\n                .add(table).close();\r\n    }\r\n\r\n\r\nNow it&#39;s centered and not distorted\r\n\r\n    \r\n\r\n \r\n","title":"Why I can&#39;t center the footer of a PDF with ITEXT pdf 7?","body":"<p><strong>SOLUTION</strong></p>\n<p>The rectangle i was creating was wrong.\nIt was as big as the table, so evrything was shrinking.\nI set his dimentions to the width of the Document and the height of the table</p>\n<p>like this:</p>\n<pre><code>new Canvas(canvas, new Rectangle(30, 40,documentWidth , tableHeight))\n            .add(table).close();\n}\n</code></pre>\n<p>Now it's centered and not distorted</p>\n"}],"owner":{"account_id":25629488,"reputation":49,"user_id":19400075,"display_name":"asdrubalo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696588471,"creation_date":1696421799,"question_id":77229491,"body_markdown":"I&#39;m trying to build a pdf generator and I must add 2 different footers based on the tipe of file im generating.\r\nOne has just a text that says &quot;This PDF is a sample&quot;.\r\nThe other one is basically a 3 columns table with a short description and 2 logos.\r\n\r\nThe problem is that the style of both the table and text gets overwritten somehow once i invoke the event handler, and i can&#39;t center both footers to the table.\r\n\r\nThe table has even more problems than the text because it&#39;s width gets reduced and so there is no spacing between the logos and the text\r\n\r\nI also noticed that the position of the footer depends on how many pages i have\r\n\r\nfor example this is how the footer looks like most of the times (the position is not always the same, and never the right position):\r\n[![enter image description here](https://i.stack.imgur.com/ie7rX.png)](https://i.stack.imgur.com/ie7rX.png)\r\n\r\n\r\n\r\n\r\nI tried setting the horizontal alignement to all the object \r\n\r\nThis is one of my cells, the others are identical except for the content \r\n```\r\n Image trustedImage = new Image(ImageDataFactory.create(pathLogo3));\r\n        trustedImage.scaleToFit(100, 100);\r\n\r\n        Cell trustedIdentity = new Cell().setBorder(new SolidBorder(whiteColor, 1f));\r\n        trustedIdentity.add(trustedImage.setHorizontalAlignment(HorizontalAlignment.CENTER));\r\n        table.addCell(trustedIdentity.setVerticalAlignment(VerticalAlignment.MIDDLE));\r\n```\r\nAs you can see i setted the horizontal alignment to both the image and the cell\r\n\r\nThis is how I invoke the eventHandler\r\n`                pdf.addEventHandler(PdfDocumentEvent.END_PAGE, new TableFooterEventHandler(creaTabellaFineDocumentoPlaceholder()));\r\n`\r\n\r\nand this is the actual TableFooterEventHandler class\r\n\r\n\r\n```\r\nimport com.itextpdf.kernel.events.Event;\r\nimport com.itextpdf.kernel.events.IEventHandler;\r\nimport com.itextpdf.kernel.events.PdfDocumentEvent;\r\nimport com.itextpdf.kernel.geom.Rectangle;\r\nimport com.itextpdf.kernel.pdf.PdfDocument;\r\nimport com.itextpdf.kernel.pdf.PdfPage;\r\nimport com.itextpdf.kernel.pdf.canvas.PdfCanvas;\r\nimport com.itextpdf.layout.Canvas;\r\nimport com.itextpdf.layout.element.Table;\r\nimport com.itextpdf.layout.properties.HorizontalAlignment;\r\n\r\npublic class TableFooterEventHandler implements IEventHandler {\r\n\r\n    private Table table;\r\n    public TableFooterEventHandler(Table table) {\r\n        this.table=table;\r\n    }\r\n\r\n    @Override\r\n    public void handleEvent(Event event) {\r\n\r\n        PdfDocumentEvent docEvent = (PdfDocumentEvent) event;\r\n        PdfDocument pdfDoc = docEvent.getDocument();\r\n        PdfPage page = docEvent.getPage();\r\n        PdfCanvas canvas = new PdfCanvas(page.newContentStreamBefore(), page.getResources(), pdfDoc);\r\n\r\n        float tableHeight = table.getHeight() == null ? 30  :  table.getHeight().getValue();\r\n        float tableWidth = table.getWidth() == null ? 30  :  table.getWidth().getValue();\r\n\r\n\r\n        float x = (page.getPageSize().getWidth() - table.getWidth().getValue()) /2;\r\n\r\n        new Canvas(canvas, new Rectangle(x, 20, table.getWidth().getValue(), 30))\r\n                .add(table.setHorizontalAlignment(HorizontalAlignment.CENTER)).setHorizontalAlignment(HorizontalAlignment.CENTER)\r\n                .close();\r\n    }\r\n}```\r\n\r\nAs you can see here I&#39;m creating a `Canvas` containing a `Rectangle` containing the `Table`\r\n\r\nI followed and example from ITEXT itself on this page (the first example) : [text](https://kb.itextpdf.com/home/it7kb/examples/page-events-for-headers-and-footers)\r\nAnd except for the &quot;style&quot; of the footer it kinda works \r\n\r\n\r\nsomebody know why it does&#39;t center the footer and it also overwrites the table settings, and how should I fix it?\r\n","title":"Why I can&#39;t center the footer of a PDF with ITEXT pdf 7?","body":"<p>I'm trying to build a pdf generator and I must add 2 different footers based on the tipe of file im generating.\nOne has just a text that says &quot;This PDF is a sample&quot;.\nThe other one is basically a 3 columns table with a short description and 2 logos.</p>\n<p>The problem is that the style of both the table and text gets overwritten somehow once i invoke the event handler, and i can't center both footers to the table.</p>\n<p>The table has even more problems than the text because it's width gets reduced and so there is no spacing between the logos and the text</p>\n<p>I also noticed that the position of the footer depends on how many pages i have</p>\n<p>for example this is how the footer looks like most of the times (the position is not always the same, and never the right position):\n<a href=\"https://i.stack.imgur.com/ie7rX.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ie7rX.png\" alt=\"enter image description here\" /></a></p>\n<p>I tried setting the horizontal alignement to all the object</p>\n<p>This is one of my cells, the others are identical except for the content</p>\n<pre><code> Image trustedImage = new Image(ImageDataFactory.create(pathLogo3));\n        trustedImage.scaleToFit(100, 100);\n\n        Cell trustedIdentity = new Cell().setBorder(new SolidBorder(whiteColor, 1f));\n        trustedIdentity.add(trustedImage.setHorizontalAlignment(HorizontalAlignment.CENTER));\n        table.addCell(trustedIdentity.setVerticalAlignment(VerticalAlignment.MIDDLE));\n</code></pre>\n<p>As you can see i setted the horizontal alignment to both the image and the cell</p>\n<p>This is how I invoke the eventHandler\n<code>               pdf.addEventHandler(PdfDocumentEvent.END_PAGE, new TableFooterEventHandler(creaTabellaFineDocumentoPlaceholder()));</code></p>\n<p>and this is the actual TableFooterEventHandler class</p>\n<pre><code>import com.itextpdf.kernel.events.Event;\nimport com.itextpdf.kernel.events.IEventHandler;\nimport com.itextpdf.kernel.events.PdfDocumentEvent;\nimport com.itextpdf.kernel.geom.Rectangle;\nimport com.itextpdf.kernel.pdf.PdfDocument;\nimport com.itextpdf.kernel.pdf.PdfPage;\nimport com.itextpdf.kernel.pdf.canvas.PdfCanvas;\nimport com.itextpdf.layout.Canvas;\nimport com.itextpdf.layout.element.Table;\nimport com.itextpdf.layout.properties.HorizontalAlignment;\n\npublic class TableFooterEventHandler implements IEventHandler {\n\n    private Table table;\n    public TableFooterEventHandler(Table table) {\n        this.table=table;\n    }\n\n    @Override\n    public void handleEvent(Event event) {\n\n        PdfDocumentEvent docEvent = (PdfDocumentEvent) event;\n        PdfDocument pdfDoc = docEvent.getDocument();\n        PdfPage page = docEvent.getPage();\n        PdfCanvas canvas = new PdfCanvas(page.newContentStreamBefore(), page.getResources(), pdfDoc);\n\n        float tableHeight = table.getHeight() == null ? 30  :  table.getHeight().getValue();\n        float tableWidth = table.getWidth() == null ? 30  :  table.getWidth().getValue();\n\n\n        float x = (page.getPageSize().getWidth() - table.getWidth().getValue()) /2;\n\n        new Canvas(canvas, new Rectangle(x, 20, table.getWidth().getValue(), 30))\n                .add(table.setHorizontalAlignment(HorizontalAlignment.CENTER)).setHorizontalAlignment(HorizontalAlignment.CENTER)\n                .close();\n    }\n}```\n\nAs you can see here I'm creating a `Canvas` containing a `Rectangle` containing the `Table`\n\nI followed and example from ITEXT itself on this page (the first example) : [text](https://kb.itextpdf.com/home/it7kb/examples/page-events-for-headers-and-footers)\nAnd except for the &quot;style&quot; of the footer it kinda works \n\n\nsomebody know why it does't center the footer and it also overwrites the table settings, and how should I fix it?\n</code></pre>\n"},{"tags":["java","spring","unit-testing","mockito","springrunner"],"comments":[{"owner":{"account_id":15956467,"reputation":4079,"user_id":11514534,"display_name":"second"},"score":2,"creation_date":1564863818,"post_id":57341818,"comment_id":101171999,"body_markdown":"You need to provide the mock of `someClient` to `SomeService` - either manually by passing the reference or by using Annotations. But Annotations are out of the question for now as your constructor does not have a `SomeService` parameter.","body":"You need to provide the mock of <code>someClient</code> to <code>SomeService</code> - either manually by passing the reference or by using Annotations. But Annotations are out of the question for now as your constructor does not have a <code>SomeService</code> parameter."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":2,"creation_date":1564863821,"post_id":57341818,"comment_id":101172000,"body_markdown":"Don&#39;t `@Autowired` on properties, [`@Autowired` on the constructor.](https://www.baeldung.com/constructor-injection-in-spring) Also, you can use Mockito&#39;s [`@InjectMocks`](https://static.javadoc.io/org.mockito/mockito-core/3.0.0/org/mockito/InjectMocks.html) to inject the mocks into your unit under test. Furthermore, define what type you expect to be passed: `when(someClient.createTennant(any(Request.class)))...`.","body":"Don&#39;t <code>@Autowired</code> on properties, <a href=\"https://www.baeldung.com/constructor-injection-in-spring\" rel=\"nofollow noreferrer\"><code>@Autowired</code> on the constructor.</a> Also, you can use Mockito&#39;s <a href=\"https://static.javadoc.io/org.mockito/mockito-core/3.0.0/org/mockito/InjectMocks.html\" rel=\"nofollow noreferrer\"><code>@InjectMocks</code></a> to inject the mocks into your unit under test. Furthermore, define what type you expect to be passed: <code>when(someClient.createTennant(any(Request.class)))...</code>."},{"owner":{"account_id":15956467,"reputation":4079,"user_id":11514534,"display_name":"second"},"score":0,"creation_date":1564864386,"post_id":57341818,"comment_id":101172107,"body_markdown":"Another question would by why you create a `spy` on the class under test, but as your example does not cover that part it could be considered off-topic.","body":"Another question would by why you create a <code>spy</code> on the class under test, but as your example does not cover that part it could be considered off-topic."},{"owner":{"account_id":6799630,"reputation":238636,"user_id":5233410,"accept_rate":100,"display_name":"Nkosi"},"score":0,"creation_date":1564864529,"post_id":57341818,"comment_id":101172130,"body_markdown":"Curious why not explicitly inject `SomeClient` into you derived service?","body":"Curious why not explicitly inject <code>SomeClient</code> into you derived service?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1564864580,"post_id":57341818,"comment_id":101172135,"body_markdown":"@Nkosi because the code - as-is - does not allow direct injection of `SomeClient` :-)","body":"@Nkosi because the code - as-is - does not allow direct injection of <code>SomeClient</code> :-)"},{"owner":{"account_id":6799630,"reputation":238636,"user_id":5233410,"accept_rate":100,"display_name":"Nkosi"},"score":0,"creation_date":1564864741,"post_id":57341818,"comment_id":101172169,"body_markdown":"I more meant why not refractor to exicitly inject it. I wasn&#39;t clear enough.","body":"I more meant why not refractor to exicitly inject it. I wasn&#39;t clear enough."},{"owner":{"account_id":2132178,"reputation":2011,"user_id":1892775,"accept_rate":16,"display_name":"user1892775"},"score":0,"creation_date":1564864833,"post_id":57341818,"comment_id":101172186,"body_markdown":"@Nkosi Could you explain more with some code?","body":"@Nkosi Could you explain more with some code?"},{"owner":{"account_id":6799630,"reputation":238636,"user_id":5233410,"accept_rate":100,"display_name":"Nkosi"},"score":0,"creation_date":1564864899,"post_id":57341818,"comment_id":101172202,"body_markdown":"It was already explained in the provided answer. Constructor injection.","body":"It was already explained in the provided answer. Constructor injection."}],"answers":[{"comments":[{"owner":{"account_id":15956467,"reputation":4079,"user_id":11514534,"display_name":"second"},"score":2,"creation_date":1564864614,"post_id":57341902,"comment_id":101172139,"body_markdown":"Note that field injection won&#39;t work as long as a construtor is present (see my answer here: https://stackoverflow.com/questions/57091389/injectmocks-gives-me-null-when-i-combine-constructor-injectionchild-class-and/57093368#57093368)","body":"Note that field injection won&#39;t work as long as a construtor is present (see my answer here: <a href=\"https://stackoverflow.com/questions/57091389/injectmocks-gives-me-null-when-i-combine-constructor-injectionchild-class-and/57093368#57093368\" title=\"injectmocks gives me null when i combine constructor injectionchild class and\">stackoverflow.com/questions/57091389/&hellip;</a>)"},{"owner":{"account_id":15956467,"reputation":4079,"user_id":11514534,"display_name":"second"},"score":0,"creation_date":1564865023,"post_id":57341902,"comment_id":101172232,"body_markdown":"`... the spy on the unit under test is superfluous.` -- I recently had a discussion with some people who consider that `bad smell`. There can be reasons for that however they are not mentioned in the example.","body":"<code>... the spy on the unit under test is superfluous.</code> -- I recently had a discussion with some people who consider that <code>bad smell</code>. There can be reasons for that however they are not mentioned in the example."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1564865305,"post_id":57341902,"comment_id":101172301,"body_markdown":"@second let&#39;s continue this discussion in [chat]","body":"@second let&#39;s continue this discussion in <a href=\"https://chat.stackoverflow.com/\">Stack Overflow Chat</a>"},{"owner":{"account_id":2132178,"reputation":2011,"user_id":1892775,"accept_rate":16,"display_name":"user1892775"},"score":0,"creation_date":1564865653,"post_id":57341902,"comment_id":101172364,"body_markdown":"I think I need to understand this better. At this time, I cannot really change the constructor. Can I still unit test and mock that call? Some code for my example will help understand better, if possible","body":"I think I need to understand this better. At this time, I cannot really change the constructor. Can I still unit test and mock that call? Some code for my example will help understand better, if possible"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1564865742,"post_id":57341902,"comment_id":101172385,"body_markdown":"@user1892775 I linked the mockito documentation. It includes an example. I also wrote a two-point list for what to do. I will not refactor the test for you, sorry.","body":"@user1892775 I linked the mockito documentation. It includes an example. I also wrote a two-point list for what to do. I will not refactor the test for you, sorry."},{"owner":{"account_id":5240687,"reputation":1727,"user_id":4187837,"accept_rate":86,"display_name":"Gavin"},"score":0,"creation_date":1564870944,"post_id":57341902,"comment_id":101173168,"body_markdown":"Upvote for recommendation of constructor injection and for typing the call to `any`","body":"Upvote for recommendation of constructor injection and for typing the call to <code>any</code>"}],"tags":[],"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"comment_count":6,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1619993381,"creation_date":1564864535,"answer_id":57341902,"question_id":57341818,"body_markdown":"We can use Mockito&#39;s [`@InjectMocks`-annotation][InjectMock] to inject mocks into our unit under test. For this, we also need to\r\n\r\n- remove mock intialization from the `setup()`-method and\r\n- annotate the mocks with [`@Mock`][Mock]\r\n\r\n---\r\nRemarks:\r\n\r\n- Instead of field injection, I would recommend [constructor injection][ConstructorInjection]. This allows, among other things, to keep the structure of the code and create the unit under test within `setup()` by manual injection\r\n- I would also recommend to add a type to the `when`: `when(someClient.createTennant(any(Request.class)))...`\r\n- As was pointed out by @second, the `spy` on the unit under test is superfluous.\r\n- Also pointed out by @second was the fact that field injection will not work if a constructor is present\r\n\r\n[InjectMock]: https://static.javadoc.io/org.mockito/mockito-core/3.0.0/org/mockito/InjectMocks.html\r\n[Mock]: https://static.javadoc.io/org.mockito/mockito-core/3.0.0/org/mockito/Mock.html\r\n[ConstructorInjection]: https://static.javadoc.io/org.mockito/mockito-core/3.0.0/org/mockito/Mock.html","title":"Unit testing a method of a class that has a constructor and an autowired field that needs to be mocked using mockito","body":"<p>We can use Mockito's <a href=\"https://static.javadoc.io/org.mockito/mockito-core/3.0.0/org/mockito/InjectMocks.html\" rel=\"nofollow noreferrer\"><code>@InjectMocks</code>-annotation</a> to inject mocks into our unit under test. For this, we also need to</p>\n<ul>\n<li>remove mock intialization from the <code>setup()</code>-method and</li>\n<li>annotate the mocks with <a href=\"https://static.javadoc.io/org.mockito/mockito-core/3.0.0/org/mockito/Mock.html\" rel=\"nofollow noreferrer\"><code>@Mock</code></a></li>\n</ul>\n<hr />\n<p>Remarks:</p>\n<ul>\n<li>Instead of field injection, I would recommend <a href=\"https://static.javadoc.io/org.mockito/mockito-core/3.0.0/org/mockito/Mock.html\" rel=\"nofollow noreferrer\">constructor injection</a>. This allows, among other things, to keep the structure of the code and create the unit under test within <code>setup()</code> by manual injection</li>\n<li>I would also recommend to add a type to the <code>when</code>: <code>when(someClient.createTennant(any(Request.class)))...</code></li>\n<li>As was pointed out by @second, the <code>spy</code> on the unit under test is superfluous.</li>\n<li>Also pointed out by @second was the fact that field injection will not work if a constructor is present</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":15120466,"reputation":87,"user_id":10911410,"display_name":"Ngoc Dinh Cong"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696587918,"creation_date":1696587918,"answer_id":77243690,"question_id":57341818,"body_markdown":"In this case you don&#39;t need to use @InjectMocks and @Mock.\r\nLet&#39;s init your target class by using constructor\r\n\r\n    i.e: \r\n    Product product = Mockito.mock(Product.class);\r\n    ...\r\n    SomeService service = new SomeService(product,...);\r\n\r\nThen use ReflectionTestUtils to init @Autowire fields by Mockito class\r\n\r\n    i.e:\r\n    SomeClient someClient = Mockito.mock(SomeClient.class);\r\n    ReflectionTestUtils.setField(service, &quot;someClient&quot;, someClient);\r\n\r\n","title":"Unit testing a method of a class that has a constructor and an autowired field that needs to be mocked using mockito","body":"<p>In this case you don't need to use @InjectMocks and @Mock.\nLet's init your target class by using constructor</p>\n<pre><code>i.e: \nProduct product = Mockito.mock(Product.class);\n...\nSomeService service = new SomeService(product,...);\n</code></pre>\n<p>Then use ReflectionTestUtils to init @Autowire fields by Mockito class</p>\n<pre><code>i.e:\nSomeClient someClient = Mockito.mock(SomeClient.class);\nReflectionTestUtils.setField(service, &quot;someClient&quot;, someClient);\n</code></pre>\n"}],"owner":{"account_id":2132178,"reputation":2011,"user_id":1892775,"accept_rate":16,"display_name":"user1892775"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1614,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1696587918,"creation_date":1564863607,"question_id":57341818,"body_markdown":"I have a service class that extends another service with a constructor. This class has an autowired field and a method that I wanted to unit test using Mockito. However, I am having trouble writing a unit for it.\r\n\r\nLet say the service looks somewhat like this:\r\n\r\n    @Service\r\n    public class SomeService extends Service {\r\n    \r\n        @Autowired\r\n        private SomeClient someClient;\r\n    \r\n        public SomeService(Product product, @Qualifier(Constants.SOME_BEAN) Details temp) {\r\n            super(product, temp);\r\n        }\r\n    \t@Override\r\n        public State create() {\r\n            Request request = new Request();\r\n            request.set...\r\n    \t\trequest.set..\r\n    \r\n            Status status = someClient.createTenant(request);\r\n            ..\r\n    \t\t.. // construct a State object and return\r\n        }\r\n    }\r\n\r\nNow, I am writing a test for this class and I am trying to unit test the method create() above. I am having trouble mocking someClient there when this method is called by my test.\r\n\r\nThe test class looks somewhat like:\r\n\r\n    @RunWith(MockitoJUnitRunner.class)\r\n    public class SomeServiceTest {\r\n        private Detail temp;\r\n    \t\r\n        private SomeFacade service;\r\n    \r\n        private SomeClient someClient;\r\n    \r\n        private Product product;\r\n    \r\n        @Before\r\n        public void setup() {\r\n            temp = mock(Details.class);\r\n            product = mock(Product.class);\r\n            service = spy(new SomeService(product, temp));\r\n            someClient = mock(SomeClient.class);\r\n        }\r\n    \r\n        @Test\r\n        public void test() {\r\n            Status status = new Status();\r\n            status.setStatus(...);\r\n            when(someClient.createTenant(any())).thenReturn(status);\r\n            State state =  service.create();\r\n    \r\n            // asserts\r\n        }\r\n    }\t\r\n\r\nWhat I want to is that when I call service.create in the test above, the call \r\n`someClient.createTenant(request);` in the method tested should be mocked to return a value and this is something I am not able to get working. Any help?","title":"Unit testing a method of a class that has a constructor and an autowired field that needs to be mocked using mockito","body":"<p>I have a service class that extends another service with a constructor. This class has an autowired field and a method that I wanted to unit test using Mockito. However, I am having trouble writing a unit for it.</p>\n\n<p>Let say the service looks somewhat like this:</p>\n\n<pre><code>@Service\npublic class SomeService extends Service {\n\n    @Autowired\n    private SomeClient someClient;\n\n    public SomeService(Product product, @Qualifier(Constants.SOME_BEAN) Details temp) {\n        super(product, temp);\n    }\n    @Override\n    public State create() {\n        Request request = new Request();\n        request.set...\n        request.set..\n\n        Status status = someClient.createTenant(request);\n        ..\n        .. // construct a State object and return\n    }\n}\n</code></pre>\n\n<p>Now, I am writing a test for this class and I am trying to unit test the method create() above. I am having trouble mocking someClient there when this method is called by my test.</p>\n\n<p>The test class looks somewhat like:</p>\n\n<pre><code>@RunWith(MockitoJUnitRunner.class)\npublic class SomeServiceTest {\n    private Detail temp;\n\n    private SomeFacade service;\n\n    private SomeClient someClient;\n\n    private Product product;\n\n    @Before\n    public void setup() {\n        temp = mock(Details.class);\n        product = mock(Product.class);\n        service = spy(new SomeService(product, temp));\n        someClient = mock(SomeClient.class);\n    }\n\n    @Test\n    public void test() {\n        Status status = new Status();\n        status.setStatus(...);\n        when(someClient.createTenant(any())).thenReturn(status);\n        State state =  service.create();\n\n        // asserts\n    }\n}   \n</code></pre>\n\n<p>What I want to is that when I call service.create in the test above, the call \n<code>someClient.createTenant(request);</code> in the method tested should be mocked to return a value and this is something I am not able to get working. Any help?</p>\n"},{"tags":["java","methods","switch-statement","return"],"comments":[{"owner":{"account_id":442137,"reputation":57382,"user_id":832621,"accept_rate":87,"display_name":"Saullo G. P. Castro"},"score":0,"creation_date":1448928344,"post_id":17961047,"comment_id":55776680,"body_markdown":"Possible duplicate of [Switch statement with returns -- code correctness](http://stackoverflow.com/questions/3065438/switch-statement-with-returns-code-correctness)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/3065438/switch-statement-with-returns-code-correctness\">Switch statement with returns -- code correctness</a>"},{"owner":{"account_id":9007847,"reputation":1050,"user_id":6713758,"accept_rate":78,"display_name":"FKEinternet"},"score":0,"creation_date":1632779461,"post_id":17961047,"comment_id":122581096,"body_markdown":"You&#39;ve declared an array of 10 String objects, but you&#39;ve assigned a String to the *ELEVENTH* position in the array (wordsShapes[10]) - array indices are 0-(n-1), not 1-n.  I&#39;m surprised the compiler didn&#39;t generate an error because of that.","body":"You&#39;ve declared an array of 10 String objects, but you&#39;ve assigned a String to the <i>ELEVENTH</i> position in the array (wordsShapes[10]) - array indices are 0-(n-1), not 1-n.  I&#39;m surprised the compiler didn&#39;t generate an error because of that."}],"answers":[{"comments":[{"owner":{"account_id":2237649,"reputation":542,"user_id":1973535,"accept_rate":77,"display_name":"Fouroh3"},"score":0,"creation_date":1375241394,"post_id":17961074,"comment_id":26252309,"body_markdown":"is there an `else if` like statement I should use or just `return null`?","body":"is there an <code>else if</code> like statement I should use or just <code>return null</code>?"},{"owner":{"account_id":441661,"reputation":86528,"user_id":831878,"accept_rate":92,"display_name":"Ray Toal"},"score":2,"creation_date":1375241488,"post_id":17961074,"comment_id":26252327,"body_markdown":"There is a `default` case in Java.  However, see Ramon&#39;s answer for what you _should_ do. :)","body":"There is a <code>default</code> case in Java.  However, see Ramon&#39;s answer for what you <i>should</i> do. :)"},{"owner":{"account_id":2237649,"reputation":542,"user_id":1973535,"accept_rate":77,"display_name":"Fouroh3"},"score":0,"creation_date":1375241539,"post_id":17961074,"comment_id":26252340,"body_markdown":"Thank you for the note about the if statement didn&#39;t catch that : )","body":"Thank you for the note about the if statement didn&#39;t catch that : )"},{"owner":{"account_id":441661,"reputation":86528,"user_id":831878,"accept_rate":92,"display_name":"Ray Toal"},"score":1,"creation_date":1375242107,"post_id":17961074,"comment_id":26252446,"body_markdown":"No problem.  It&#39;s best, though, to _embrace_ the zero, not avoid it.  Index your shape names starting at 0, then you won&#39;t need a special game.  I added a worked-out example for you.  Have fun with it.","body":"No problem.  It&#39;s best, though, to <i>embrace</i> the zero, not avoid it.  Index your shape names starting at 0, then you won&#39;t need a special game.  I added a worked-out example for you.  Have fun with it."}],"tags":[],"owner":{"account_id":441661,"reputation":86528,"user_id":831878,"accept_rate":92,"display_name":"Ray Toal"},"comment_count":4,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1375242020,"creation_date":1375241264,"answer_id":17961074,"question_id":17961047,"body_markdown":"The problem is not that you have return statements inside the `switch` statement, which are perfectly fine, but you have no return _after_ the switch statement.  If your switch statement completes without returning, what will happen now?\r\n\r\nThe rules of Java require that all paths through a value-returning function encounter a `return` statement.  In your case, even though _you_ know the value of `i` will always be of a value that will cause a `return` from the switch, the Java compiler isn&#39;t smart enough to determine that.\r\n\r\n(ASIDE: By the way, you didn&#39;t actually prevent the value 0 from being generated; maybe your `if` should be a `while`.)\r\n\r\nADDENDUM:  In case you are interested, here&#39;s an implementation.  See http://ideone.com/IpIwis for the live example.\r\n\r\n    import java.util.Random;\r\n    class Main {\r\n        private static final Random random = new Random();\r\n \r\n        private static final String[] SHAPES = {\r\n            &quot;square&quot;, &quot;circle&quot;, &quot;cone&quot;, &quot;prism&quot;, &quot;cube&quot;, &quot;cylinder&quot;, &quot;triangle&quot;,\r\n            &quot;star&quot;, &quot;moon&quot;, &quot;parallelogram&quot;\r\n        };\r\n \r\n        public static String randomShapeWord() {\r\n            return SHAPES[random.nextInt(SHAPES.length)];\r\n        }\r\n \r\n        public static void main(String[] args) {\r\n            for (int i = 0; i &lt; 20; i++) {\r\n                System.out.println(randomShapeWord());\r\n            }\r\n        }\r\n    }\r\n \r\nNote the best practice of having the random number generator defined outside the function.\r\n","title":"Can I put a return statement inside a switch statement?","body":"<p>The problem is not that you have return statements inside the <code>switch</code> statement, which are perfectly fine, but you have no return <em>after</em> the switch statement.  If your switch statement completes without returning, what will happen now?</p>\n\n<p>The rules of Java require that all paths through a value-returning function encounter a <code>return</code> statement.  In your case, even though <em>you</em> know the value of <code>i</code> will always be of a value that will cause a <code>return</code> from the switch, the Java compiler isn't smart enough to determine that.</p>\n\n<p>(ASIDE: By the way, you didn't actually prevent the value 0 from being generated; maybe your <code>if</code> should be a <code>while</code>.)</p>\n\n<p>ADDENDUM:  In case you are interested, here's an implementation.  See <a href=\"http://ideone.com/IpIwis\" rel=\"nofollow\">http://ideone.com/IpIwis</a> for the live example.</p>\n\n<pre><code>import java.util.Random;\nclass Main {\n    private static final Random random = new Random();\n\n    private static final String[] SHAPES = {\n        \"square\", \"circle\", \"cone\", \"prism\", \"cube\", \"cylinder\", \"triangle\",\n        \"star\", \"moon\", \"parallelogram\"\n    };\n\n    public static String randomShapeWord() {\n        return SHAPES[random.nextInt(SHAPES.length)];\n    }\n\n    public static void main(String[] args) {\n        for (int i = 0; i &lt; 20; i++) {\n            System.out.println(randomShapeWord());\n        }\n    }\n}\n</code></pre>\n\n<p>Note the best practice of having the random number generator defined outside the function.</p>\n"},{"tags":[],"owner":{"account_id":189467,"reputation":1753,"user_id":428813,"accept_rate":100,"display_name":"Ramon Araujo"},"comment_count":0,"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1696587648,"creation_date":1375241379,"answer_id":17961084,"question_id":17961047,"body_markdown":"You can simply do:\r\n\r\n    return wordsShapes[i].toString();\r\n\r\nThis way you can avoid the switch and all.","title":"Can I put a return statement inside a switch statement?","body":"<p>You can simply do:</p>\n<pre><code>return wordsShapes[i].toString();\n</code></pre>\n<p>This way you can avoid the switch and all.</p>\n"},{"tags":[],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1375243573,"creation_date":1375243573,"answer_id":17961416,"question_id":17961047,"body_markdown":"You can put `return` inside `switch` but you don&#39;t need to use `switch` in this case.","title":"Can I put a return statement inside a switch statement?","body":"<p>You can put <code>return</code> inside <code>switch</code> but you don't need to use <code>switch</code> in this case.</p>\n"},{"tags":[],"owner":{"account_id":8986159,"reputation":1,"user_id":6699676,"display_name":"Vbalaji21"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470822987,"creation_date":1470822987,"answer_id":38870020,"question_id":17961047,"body_markdown":"The return statement will return from the entire function in which it is used.So I think it is good that no other useful lines of code must be there below the switch if you want to use the return statement in the switch. ","title":"Can I put a return statement inside a switch statement?","body":"<p>The return statement will return from the entire function in which it is used.So I think it is good that no other useful lines of code must be there below the switch if you want to use the return statement in the switch. </p>\n"}],"owner":{"account_id":2237649,"reputation":542,"user_id":1973535,"accept_rate":77,"display_name":"Fouroh3"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16119,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":17961084,"answer_count":4,"score":11,"last_activity_date":1696587648,"creation_date":1375241071,"question_id":17961047,"body_markdown":"Am I allowed to have a `switch` statement which decides what to return? For example, I want to return something different based on what my random generator come up with. Eclipse is giving me an error wanting me to put the `return` statement outside the `switch`.\r\n\r\nMy code:\r\n\r\n    public String wordBank() { //Error here saying: &quot;This method must return a type of string&quot;\r\n\t\tString[] wordsShapes = new String[10];\r\n\t\twordsShapes[1] = &quot;square&quot;;\r\n\t\twordsShapes[2] = &quot;circle&quot;;\r\n\t\twordsShapes[3] = &quot;cone&quot;;\r\n\t\twordsShapes[4] = &quot;prisim&quot;;\r\n\t\twordsShapes[5] = &quot;cube&quot;;\r\n\t\twordsShapes[6] = &quot;cylinder&quot;;\r\n\t\twordsShapes[7] = &quot;triangle&quot;;\r\n\t\twordsShapes[8] = &quot;star&quot;;\r\n\t\twordsShapes[9] = &quot;moon&quot;;\r\n\t\twordsShapes[10] = &quot;paralellogram&quot;;\r\n\r\n\t\tRandom rand = new Random();\r\n\t\tint i = rand.nextInt(11);\r\n\r\n\t\tif (i == 0) {\r\n\t\t\ti = rand.nextInt(11);\r\n\t\t}\r\n\r\n\t\tswitch (i) {\r\n\t\tcase 1:\r\n\t\t\treturn wordsShapes[1].toString();\r\n\t\tcase 2:\r\n\t\t\treturn wordsShapes[2].toString();\r\n\t\tcase 3:\r\n\t\t\treturn wordsShapes[3].toString();\r\n\t\tcase 4:\r\n\t\t\treturn wordsShapes[4].toString();\r\n\t\tcase 5:\r\n\t\t\treturn wordsShapes[5].toString();\r\n\t\tcase 6:\r\n\t\t\treturn wordsShapes[6].toString();\r\n\t\tcase 7:\r\n\t\t\treturn wordsShapes[7].toString();\r\n\t\tcase 8:\r\n\t\t\treturn wordsShapes[8].toString();\r\n\t\tcase 9:\r\n\t\t\treturn wordsShapes[9].toString();\r\n\t\tcase 10:\r\n\t\t\treturn wordsShapes[10].toString();\r\n\t\t}\r\n\t}\r\n\r\n","title":"Can I put a return statement inside a switch statement?","body":"<p>Am I allowed to have a <code>switch</code> statement which decides what to return? For example, I want to return something different based on what my random generator come up with. Eclipse is giving me an error wanting me to put the <code>return</code> statement outside the <code>switch</code>.</p>\n\n<p>My code:</p>\n\n<pre><code>public String wordBank() { //Error here saying: \"This method must return a type of string\"\n    String[] wordsShapes = new String[10];\n    wordsShapes[1] = \"square\";\n    wordsShapes[2] = \"circle\";\n    wordsShapes[3] = \"cone\";\n    wordsShapes[4] = \"prisim\";\n    wordsShapes[5] = \"cube\";\n    wordsShapes[6] = \"cylinder\";\n    wordsShapes[7] = \"triangle\";\n    wordsShapes[8] = \"star\";\n    wordsShapes[9] = \"moon\";\n    wordsShapes[10] = \"paralellogram\";\n\n    Random rand = new Random();\n    int i = rand.nextInt(11);\n\n    if (i == 0) {\n        i = rand.nextInt(11);\n    }\n\n    switch (i) {\n    case 1:\n        return wordsShapes[1].toString();\n    case 2:\n        return wordsShapes[2].toString();\n    case 3:\n        return wordsShapes[3].toString();\n    case 4:\n        return wordsShapes[4].toString();\n    case 5:\n        return wordsShapes[5].toString();\n    case 6:\n        return wordsShapes[6].toString();\n    case 7:\n        return wordsShapes[7].toString();\n    case 8:\n        return wordsShapes[8].toString();\n    case 9:\n        return wordsShapes[9].toString();\n    case 10:\n        return wordsShapes[10].toString();\n    }\n}\n</code></pre>\n"},{"tags":["java","bridge","ui-spy"],"owner":{"account_id":8145351,"reputation":61,"user_id":6134158,"display_name":"karthik110885"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696587378,"creation_date":1696587378,"question_id":77243636,"body_markdown":"I am trying to automate JMeter using Java Access Bridge for learning purposes. Am using pyjab which is a python wrapper for JAB. I have installed access bridge explorer to inspect the elements in JMeter and get their properties. However, there are some checkboxes that is not displayed in the root pane in the access bridge explorer but the properties are shown when highlighted. \r\n\r\nWhen i try to click it am getting the error that element is not available in root node. \r\n\r\n[![checkbox am trying to click][1]][1]\r\n\r\nits not listed in here.\r\n\r\n[![enter image description here][2]][2]\r\n\r\nThanks for your help...\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DTdUC.png\r\n  [2]: https://i.stack.imgur.com/MOvXO.png","title":"access bridge explorer not listing the checkboxes in JMeter window","body":"<p>I am trying to automate JMeter using Java Access Bridge for learning purposes. Am using pyjab which is a python wrapper for JAB. I have installed access bridge explorer to inspect the elements in JMeter and get their properties. However, there are some checkboxes that is not displayed in the root pane in the access bridge explorer but the properties are shown when highlighted.</p>\n<p>When i try to click it am getting the error that element is not available in root node.</p>\n<p><a href=\"https://i.stack.imgur.com/DTdUC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DTdUC.png\" alt=\"checkbox am trying to click\" /></a></p>\n<p>its not listed in here.</p>\n<p><a href=\"https://i.stack.imgur.com/MOvXO.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/MOvXO.png\" alt=\"enter image description here\" /></a></p>\n<p>Thanks for your help...</p>\n"},{"tags":["java","android","fragment","ott","tablayout"],"owner":{"account_id":20274715,"reputation":1,"user_id":14870049,"display_name":"siddhant yadav"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696586772,"creation_date":1696586772,"question_id":77243557,"body_markdown":"I have Home, Movies, Live TV, TV Guide, Apps &amp; Games Tabs and on every click on tab I open fragment which contains multiple rail like Bollywood Movies Rail and others rail also and when I press up button fragment rail focus goes on tab above rail data like it goes to all home, movies, live tv tab and i want to make that if i opened a movies fragment by clicking on movies tab so on pressing up button my focus should go to movies tab not on other tab HOW TO FIX THIS ! \r\n\r\nI try to customize my XML Files by implementing next focus up on tab but it didn&#39;t work.","title":"Tabs Focus Behaviour problem by fragment next focus up on tab layout","body":"<p>I have Home, Movies, Live TV, TV Guide, Apps &amp; Games Tabs and on every click on tab I open fragment which contains multiple rail like Bollywood Movies Rail and others rail also and when I press up button fragment rail focus goes on tab above rail data like it goes to all home, movies, live tv tab and i want to make that if i opened a movies fragment by clicking on movies tab so on pressing up button my focus should go to movies tab not on other tab HOW TO FIX THIS !</p>\n<p>I try to customize my XML Files by implementing next focus up on tab but it didn't work.</p>\n"},{"tags":["java","android","broadcastreceiver","telephonymanager","phone-state-listener"],"comments":[{"owner":{"account_id":6361550,"reputation":37042,"user_id":4936904,"display_name":"Pavneet_Singh"},"score":0,"creation_date":1474526086,"post_id":39631794,"comment_id":66568398,"body_markdown":"post your code along with question","body":"post your code along with question"},{"owner":{"account_id":8346077,"reputation":31,"user_id":6269759,"display_name":"Ekta"},"score":0,"creation_date":1474613628,"post_id":39631794,"comment_id":66611293,"body_markdown":"I got following logs:\n\n--&gt;onReceive() Call state: null  CallNo. null\n--&gt;onReceive() Call state: OFFHOOK CallNo. 7096059843\n--&gt;onReceive() Call state: IDLE CallNo. null","body":"I got following logs:  --&gt;onReceive() Call state: null  CallNo. null --&gt;onReceive() Call state: OFFHOOK CallNo. 7096059843 --&gt;onReceive() Call state: IDLE CallNo. null"}],"answers":[{"tags":[],"owner":{"account_id":4908638,"reputation":311,"user_id":3954582,"display_name":"ousanmaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1571285250,"creation_date":1475178461,"answer_id":39778794,"question_id":39631794,"body_markdown":"Your Broadast Recevier gets fired each time the Phone State Changes.\r\n\r\nWhat this does is it sets the incoming_no to null after Ringing, each time the state changes.\r\n\r\nFirst the phone Rings. At that moment you are able to get the number. When the Phone number changes state to IDLE or OFF_HOOK, your number gets set to null again, since the BR fires all over again.\r\n\r\n\r\n`String incoming_number = null;` is what is setting your number to null. This is the code that is messing it up. Turn it into:\r\n\r\n````\r\nMainActivity:\r\n\r\nString incoming_number;\r\n\r\nBroadcastReceiver\r\n\r\nMainActivity.incomingnumber = XXX-XXX-XXXX ; \r\n\r\n//when done with the number clean it\r\nMainActivity.incomingnumber = null;\r\n````","title":"Phone number is set to null at the time of OFFHOOK state of TelephonyManager","body":"<p>Your Broadast Recevier gets fired each time the Phone State Changes.</p>\n\n<p>What this does is it sets the incoming_no to null after Ringing, each time the state changes.</p>\n\n<p>First the phone Rings. At that moment you are able to get the number. When the Phone number changes state to IDLE or OFF_HOOK, your number gets set to null again, since the BR fires all over again.</p>\n\n<p><code>String incoming_number = null;</code> is what is setting your number to null. This is the code that is messing it up. Turn it into:</p>\n\n<pre><code>MainActivity:\n\nString incoming_number;\n\nBroadcastReceiver\n\nMainActivity.incomingnumber = XXX-XXX-XXXX ; \n\n//when done with the number clean it\nMainActivity.incomingnumber = null;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18145552,"reputation":1,"user_id":13198924,"display_name":"Twisted"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1585835511,"creation_date":1585835511,"answer_id":60993173,"question_id":39631794,"body_markdown":"or you could just delete your call recording app. The call recording apps cause this problem also.","title":"Phone number is set to null at the time of OFFHOOK state of TelephonyManager","body":"<p>or you could just delete your call recording app. The call recording apps cause this problem also.</p>\n"}],"owner":{"account_id":8346077,"reputation":31,"user_id":6269759,"display_name":"Ekta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8736,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1696586770,"creation_date":1474525824,"question_id":39631794,"body_markdown":"I get a phone number at the time of the ringing state, but sometimes, it is set to null at the time of the off hook state. I can&#39;t catch the moment where it goes to null.\r\n\r\nSo, when a call comes (incoming call) it goes to `RINGING STATE` and the number is set to callno variable. After that when I pick up the call it goes to `OFFHOOK STATE` and I got `null` in callno therefore it gives me a `NullPointerException`. \r\n\r\nHow do I prevent this situation?\r\n\r\n\r\n\r\npublic class CallStateReceiver extends BroadcastReceiver {\r\n\r\n\tprivate static boolean noCallListenerYet = true;\r\n\tTelephonyManager telephonyManager;\r\n\tstatic MyPhoneStateListener phoneListener;\r\n\tprivate static Context context1;\r\n\tContext context;\r\n\tprivate int prevState;\r\n\tString userId;\r\n\tString incoming_number = null;\r\n\tBundle bundle;\r\n\tString state;\r\n\tprivate static String callno = null;\r\n\tstatic SharedPreferences pref;\r\n\tstatic int cidvalue;\r\n\t/*Added to resolve the below bug:\r\n\t * Bug: At the time of call comes on poped up note and \r\n\t * \t\tbelow note was not send and new userid not \r\n\t * \t\treplace with older userid.\r\n\t */\r\n\tprivate static boolean isOnReceive = false;\r\n\t\r\n\tpublic static String getCallno() {\r\n\t\treturn callno;\r\n\t}\r\n\t\r\n\t@Override\r\n\tpublic void onReceive(Context context, Intent intent) {\r\n\t\tString state = intent.getStringExtra(TelephonyManager.EXTRA_STATE);\r\n\t\t\r\n\t\t\r\n\t\tisOnReceive = true;\r\n\t\t\r\n\t\tif( CallTrackerModel.isRecording() ){\r\n\t\t}else{\r\n\t\t\r\n\t\tCallTrackerModel.setCallId(&quot;&quot;);\r\n\t\ttry{\r\n\t\t\tif (intent.getAction()\r\n\t\t\t\t\t.equals(&quot;android.intent.action.NEW_OUTGOING_CALL&quot;)) {\r\n\t\t\t\tif ((bundle = intent.getExtras()) != null) {\r\n\t\t\t\t\tcallno = intent.getStringExtra(Intent.EXTRA_PHONE_NUMBER);\r\n\t\t\t\t\tcallno = callno.replaceAll(&quot; &quot;, &quot;&quot;);\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch(Exception e){\r\n\t\t}\r\n\r\n\t\ttry{\r\n\t\tif (noCallListenerYet) {\r\n\t\t\ttelephonyManager = (TelephonyManager) context\r\n\t\t\t\t\t.getSystemService(Context.TELEPHONY_SERVICE);\r\n\t\t\tif (phoneListener == null) {\r\n\t\t\t\tphoneListener = new MyPhoneStateListener(context);\r\n\t\t\t\ttelephonyManager.listen(phoneListener,\r\n\t\t\t\t\t\tPhoneStateListener.LISTEN_CALL_STATE);\r\n\t\t\t}\r\n\t\t\tnoCallListenerYet = false;\r\n\t\t}\r\n\t\t}catch(Exception e){\r\n\t\t\tisOnReceive = false;\r\n\t\t}\r\n\t\t\t\t\r\n\t\tcontext1 = context;\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\tpublic static int returncid() {\r\n\t\tint cid;\r\n\t\tpref = context1.getSharedPreferences(&quot;Myprefer&quot;, 0);\r\n\t\tSharedPreferences.Editor editor = pref.edit();\r\n\t\tcid = pref.getInt(&quot;currentcid&quot;, 0);\r\n\t\tif (cid == 0) {\r\n\t\t\tcid = cid + 1;\r\n\t\t}\r\n\t\teditor.putInt(&quot;currentcid&quot;, cid);\r\n\t\teditor.commit();\r\n\t\tpref = context1.getSharedPreferences(&quot;Myprefer&quot;, 0);\r\n\t\tcidvalue = pref.getInt(&quot;currentcid&quot;, 0);\r\n\t\treturn cidvalue;\r\n\t}\r\n\r\n\t\r\n\tprivate class MyPhoneStateListener extends PhoneStateListener {\r\n\r\n\t\tContext context;\r\n\t\tMyPhoneStateListener(Context c) {\r\n\t\t\tsuper();\r\n\t\t\tcontext = c;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * Listen call state changes.\r\n\t\t */\r\n\t\tpublic void onCallStateChanged(int state, String incomingNumber) {\r\n\t\t\tCallTrackerModel ctm = new CallTrackerModel(context1);\r\n\t\t\tswitch (state) {\r\n\r\n\t\t\t// Incoming/Outgoing call over.\r\n\t\t\tcase TelephonyManager.CALL_STATE_IDLE:\r\n\t\t\t\t\r\n\t\t\t\tif (CallTrackerModel.returnRecordStarted()) {\r\n\t\t\t\t\t\r\n\t\t\t\t\tctm.stopRecording();\r\n\t\t\t\t\tuserId = RetrieveUserId.getUserId();\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t//For Received calls.\r\n\t\t\t\tif (prevState == TelephonyManager.CALL_STATE_OFFHOOK) {\r\n\t\t\t\t\t\r\n\t\t\t\t\ttry{\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tcidvalue = pref.getInt(&quot;currentcid&quot;, 0);\r\n\t\t\t\t\t\t++cidvalue;\r\n\t\t\t\t\t\tpref = context1.getSharedPreferences(&quot;Myprefer&quot;, 0);\r\n\t\t\t\t\t\tSharedPreferences.Editor editor = pref.edit();\r\n\t\t\t\t\t\teditor.putInt(&quot;currentcid&quot;, cidvalue);\r\n\t\t\t\t\t\teditor.commit();\r\n\t\t\t\t\t\tprevState = state;\r\n\t\t\t\t\t\t// Start note activity.\r\n\t\t\t\t\t\tIntent i = new Intent(context1, NoteActivity.class);\r\n\t\t\t\t\t\ti.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\r\n\t\t\t\t\t\ti.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (userId == null) {\r\n\t\t\t\t\t\t\tuserId = &quot;@@&quot;;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ti.putExtra(&quot;userId&quot;, userId);\r\n\t\t\t\t\t\ti.putExtra(&quot;isSend&quot;, false);\r\n\t\t\t\t\t\ti.putExtra(&quot;incomingNumber&quot;, incoming_number);\r\n\t\t\t\t\t\tcontext1.startActivity(i);\r\n\t\t\t\t\t\ti = null;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}catch(Exception ex){\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t//For missed calls.\r\n\t\t\t\tif(prevState==TelephonyManager.CALL_STATE_RINGING){  \r\n\t\t\t\t\tprevState=state;  \r\n                }  \r\n\r\n\t\t\t\tbreak;\r\n\r\n\t\t\t//If the caller or receiver picks up the phone\r\n\t\t\tcase TelephonyManager.CALL_STATE_OFFHOOK:\r\n\t\t\t\ttry{\r\n\t\t\t\t\tif( CallTrackerModel.isRecording() ){\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif( NoteActivity.getIsStart() ){\r\n\t\t\t\t\t\tNoteActivity.setStop(true);\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tprevState = state;\r\n\t\t\t\t\tif (callno.length() == 13) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tincoming_number = callno.substring(3);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t} else if (callno.length() == 11) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tincoming_number = callno.substring(1);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tincoming_number = callno;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t                                                                                                                     \r\n\t\t\t\t}catch(Exception ex){\r\n\t\t\t\t\tisOnReceive = false;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\ttry{\r\n\t\t\t\t\tif( NoteActivity.getIsStop() ){\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(NoteActivity.getLater()){\r\n\t\t\t\t\t\t\tNoteActivity.setLater(false);\r\n\t\t\t\t\t\t\tNoteActivity.setStop(false);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tNoteActivity.later(); \r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}catch(Exception e){\r\n\t\t\t\t\tisOnReceive = false;\r\n\t\t\t\t}\r\n\t\t\t\r\n\t\t\t\ttry{\r\n\t\t\t\t\tIntent i = new Intent(context1, RetrieveUserId.class);\r\n\t\t\t\t\ti.putExtra(&quot;incoming number&quot;, incoming_number);\r\n\t\r\n\t\t\t\t\tcontext1.startService(i);\r\n\t\t\t\t\t// start recording\r\n\t\t\t\t\tctm.startRecording();\r\n\t\t\t\t}catch(Exception e){\r\n\t\t\t\t\tisOnReceive = false;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\tcase TelephonyManager.CALL_STATE_RINGING:\r\n\t\t\t\t\r\n\t\t\t\tif( CallTrackerModel.isRecording() ){\r\n\t\t\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\tprevState = state;\r\n\t\t\t\t\tcallno = incomingNumber;\r\n\t\t\t\t\tcallno = callno.replaceAll(&quot; &quot;, &quot;&quot;);\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n}\r\n","title":"Phone number is set to null at the time of OFFHOOK state of TelephonyManager","body":"<p>I get a phone number at the time of the ringing state, but sometimes, it is set to null at the time of the off hook state. I can't catch the moment where it goes to null.</p>\n\n<p>So, when a call comes (incoming call) it goes to <code>RINGING STATE</code> and the number is set to callno variable. After that when I pick up the call it goes to <code>OFFHOOK STATE</code> and I got <code>null</code> in callno therefore it gives me a <code>NullPointerException</code>. </p>\n\n<p>How do I prevent this situation?</p>\n\n<p>public class CallStateReceiver extends BroadcastReceiver {</p>\n\n<pre><code>private static boolean noCallListenerYet = true;\nTelephonyManager telephonyManager;\nstatic MyPhoneStateListener phoneListener;\nprivate static Context context1;\nContext context;\nprivate int prevState;\nString userId;\nString incoming_number = null;\nBundle bundle;\nString state;\nprivate static String callno = null;\nstatic SharedPreferences pref;\nstatic int cidvalue;\n/*Added to resolve the below bug:\n * Bug: At the time of call comes on poped up note and \n *      below note was not send and new userid not \n *      replace with older userid.\n */\nprivate static boolean isOnReceive = false;\n\npublic static String getCallno() {\n    return callno;\n}\n\n@Override\npublic void onReceive(Context context, Intent intent) {\n    String state = intent.getStringExtra(TelephonyManager.EXTRA_STATE);\n\n\n    isOnReceive = true;\n\n    if( CallTrackerModel.isRecording() ){\n    }else{\n\n    CallTrackerModel.setCallId(\"\");\n    try{\n        if (intent.getAction()\n                .equals(\"android.intent.action.NEW_OUTGOING_CALL\")) {\n            if ((bundle = intent.getExtras()) != null) {\n                callno = intent.getStringExtra(Intent.EXTRA_PHONE_NUMBER);\n                callno = callno.replaceAll(\" \", \"\");                    \n            }\n        }\n    }\n    catch(Exception e){\n    }\n\n    try{\n    if (noCallListenerYet) {\n        telephonyManager = (TelephonyManager) context\n                .getSystemService(Context.TELEPHONY_SERVICE);\n        if (phoneListener == null) {\n            phoneListener = new MyPhoneStateListener(context);\n            telephonyManager.listen(phoneListener,\n                    PhoneStateListener.LISTEN_CALL_STATE);\n        }\n        noCallListenerYet = false;\n    }\n    }catch(Exception e){\n        isOnReceive = false;\n    }\n\n    context1 = context;\n    }\n\n}\n\npublic static int returncid() {\n    int cid;\n    pref = context1.getSharedPreferences(\"Myprefer\", 0);\n    SharedPreferences.Editor editor = pref.edit();\n    cid = pref.getInt(\"currentcid\", 0);\n    if (cid == 0) {\n        cid = cid + 1;\n    }\n    editor.putInt(\"currentcid\", cid);\n    editor.commit();\n    pref = context1.getSharedPreferences(\"Myprefer\", 0);\n    cidvalue = pref.getInt(\"currentcid\", 0);\n    return cidvalue;\n}\n\n\nprivate class MyPhoneStateListener extends PhoneStateListener {\n\n    Context context;\n    MyPhoneStateListener(Context c) {\n        super();\n        context = c;\n    }\n\n    /**\n     * Listen call state changes.\n     */\n    public void onCallStateChanged(int state, String incomingNumber) {\n        CallTrackerModel ctm = new CallTrackerModel(context1);\n        switch (state) {\n\n        // Incoming/Outgoing call over.\n        case TelephonyManager.CALL_STATE_IDLE:\n\n            if (CallTrackerModel.returnRecordStarted()) {\n\n                ctm.stopRecording();\n                userId = RetrieveUserId.getUserId();\n\n            }\n\n            //For Received calls.\n            if (prevState == TelephonyManager.CALL_STATE_OFFHOOK) {\n\n                try{\n\n                    cidvalue = pref.getInt(\"currentcid\", 0);\n                    ++cidvalue;\n                    pref = context1.getSharedPreferences(\"Myprefer\", 0);\n                    SharedPreferences.Editor editor = pref.edit();\n                    editor.putInt(\"currentcid\", cidvalue);\n                    editor.commit();\n                    prevState = state;\n                    // Start note activity.\n                    Intent i = new Intent(context1, NoteActivity.class);\n                    i.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK);\n                    i.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);\n\n                    if (userId == null) {\n                        userId = \"@@\";\n                    }\n                    i.putExtra(\"userId\", userId);\n                    i.putExtra(\"isSend\", false);\n                    i.putExtra(\"incomingNumber\", incoming_number);\n                    context1.startActivity(i);\n                    i = null;\n\n                }catch(Exception ex){\n                }\n            }\n\n            //For missed calls.\n            if(prevState==TelephonyManager.CALL_STATE_RINGING){  \n                prevState=state;  \n            }  \n\n            break;\n\n        //If the caller or receiver picks up the phone\n        case TelephonyManager.CALL_STATE_OFFHOOK:\n            try{\n                if( CallTrackerModel.isRecording() ){\n                    break;\n                }\n                if( NoteActivity.getIsStart() ){\n                    NoteActivity.setStop(true);\n                }\n\n\n                prevState = state;\n                if (callno.length() == 13) {\n\n                    incoming_number = callno.substring(3);\n\n                } else if (callno.length() == 11) {\n\n                    incoming_number = callno.substring(1);\n\n                } else {\n\n                    incoming_number = callno;\n\n                }\n\n            }catch(Exception ex){\n                isOnReceive = false;\n            }\n\n            try{\n                if( NoteActivity.getIsStop() ){\n\n                    if(NoteActivity.getLater()){\n                        NoteActivity.setLater(false);\n                        NoteActivity.setStop(false);\n                    }else{\n                        NoteActivity.later(); \n                    }\n                }\n            }catch(Exception e){\n                isOnReceive = false;\n            }\n\n            try{\n                Intent i = new Intent(context1, RetrieveUserId.class);\n                i.putExtra(\"incoming number\", incoming_number);\n\n                context1.startService(i);\n                // start recording\n                ctm.startRecording();\n            }catch(Exception e){\n                isOnReceive = false;\n            }\n\n            break;\n        case TelephonyManager.CALL_STATE_RINGING:\n\n            if( CallTrackerModel.isRecording() ){\n\n            }else{\n                prevState = state;\n                callno = incomingNumber;\n                callno = callno.replaceAll(\" \", \"\");                    \n            }\n\n            break;\n        }\n    }\n}\n</code></pre>\n\n<p>}</p>\n"},{"tags":["java","spring","spring-boot","spring-data-jpa","spring-data"],"comments":[{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1696500081,"post_id":77236045,"comment_id":136162104,"body_markdown":"You need to delete data from only one table here? I guess there will be multiple related entities to the record that you are deleting and you need to delete them as well.","body":"You need to delete data from only one table here? I guess there will be multiple related entities to the record that you are deleting and you need to delete them as well."}],"answers":[{"tags":[],"owner":{"account_id":15529698,"reputation":182,"user_id":11203574,"display_name":"Aurelien"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696500900,"creation_date":1696500900,"answer_id":77236186,"question_id":77236045,"body_markdown":"You can just add something like this in you repository and let Spring generate the appropriate query.\r\n\r\n    long deleteByStatus(Status status);\r\n\r\nBe careful to also delete the related entities.","title":"Update and delete millions of data in Spring Boot JPA","body":"<p>You can just add something like this in you repository and let Spring generate the appropriate query.</p>\n<pre><code>long deleteByStatus(Status status);\n</code></pre>\n<p>Be careful to also delete the related entities.</p>\n"},{"tags":[],"owner":{"account_id":7882042,"reputation":986,"user_id":5955651,"display_name":"stelios.anastasakis"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696586395,"creation_date":1696586088,"answer_id":77243486,"question_id":77236045,"body_markdown":"First of all, you need to have the risks clear in your mind.\r\n- You need to make sure there are no cascade deletes (check the table scheme). if you do, then this adds more complexity and you need to think of the effects\r\n- You need to think of errors that might occur (like some records not being deleted). Do you want to handle those cases somehow? then you need a more custom solution. If you can just rerun the failed cases in a second go, then everything s easier\r\n- You need to think of the live traffic being affected. If you make multiple deletes (and even more if there are cascade deletes) your db will become slower. Which services are using the same db. Will those services be affected? Is there any risk of current users facing issues? \r\n- You need to think of the performance. Can your db and service handle this ok? (maybe running it on a test environment first).\r\n\r\nThe easiest way, as mentioned before, since you re using spring-data, is to do something like \r\n```\r\npublic interface RecordsRepository extends CrudRepository&lt;Record, long&gt; {\r\n\r\n    @Transactional\r\n    void deleteByStatus(String status);\r\n}\r\n```\r\nYou can use the &#39;@Transactional&#39; annotation if you want it all to happen in one transaction.\r\n\r\nIf you need to go with a more custom solution, then i guess you go one by one and do the relevant checks, logs, audits etc.","title":"Update and delete millions of data in Spring Boot JPA","body":"<p>First of all, you need to have the risks clear in your mind.</p>\n<ul>\n<li>You need to make sure there are no cascade deletes (check the table scheme). if you do, then this adds more complexity and you need to think of the effects</li>\n<li>You need to think of errors that might occur (like some records not being deleted). Do you want to handle those cases somehow? then you need a more custom solution. If you can just rerun the failed cases in a second go, then everything s easier</li>\n<li>You need to think of the live traffic being affected. If you make multiple deletes (and even more if there are cascade deletes) your db will become slower. Which services are using the same db. Will those services be affected? Is there any risk of current users facing issues?</li>\n<li>You need to think of the performance. Can your db and service handle this ok? (maybe running it on a test environment first).</li>\n</ul>\n<p>The easiest way, as mentioned before, since you re using spring-data, is to do something like</p>\n<pre><code>public interface RecordsRepository extends CrudRepository&lt;Record, long&gt; {\n\n    @Transactional\n    void deleteByStatus(String status);\n}\n</code></pre>\n<p>You can use the '@Transactional' annotation if you want it all to happen in one transaction.</p>\n<p>If you need to go with a more custom solution, then i guess you go one by one and do the relevant checks, logs, audits etc.</p>\n"}],"owner":{"account_id":22867978,"reputation":23,"user_id":17011464,"display_name":"arthus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1696586395,"creation_date":1696499565,"question_id":77236045,"body_markdown":"I have a situation where I want to update and delete millions of data and I am using Spring boot cron job. The process includes two things:\r\n1. Fetching records which are older than 6 months and set some status (lets say OPEN or CLOSED).\r\n2. I want to delete all the records which are updated to CLOSED status. The number of records in this case could be in millions and have one-to-many relationship with child entities.\r\n\r\n\r\n\r\nOne of the options I could think of is to use deleteAll() together with pagination.\r\n\r\nAnyone have some better ideas what could be other possible ways to achieve this?","title":"Update and delete millions of data in Spring Boot JPA","body":"<p>I have a situation where I want to update and delete millions of data and I am using Spring boot cron job. The process includes two things:</p>\n<ol>\n<li>Fetching records which are older than 6 months and set some status (lets say OPEN or CLOSED).</li>\n<li>I want to delete all the records which are updated to CLOSED status. The number of records in this case could be in millions and have one-to-many relationship with child entities.</li>\n</ol>\n<p>One of the options I could think of is to use deleteAll() together with pagination.</p>\n<p>Anyone have some better ideas what could be other possible ways to achieve this?</p>\n"},{"tags":["java","project","mplab"],"comments":[{"owner":{"account_id":12444729,"reputation":4096,"user_id":9061264,"display_name":"Mike"},"score":0,"creation_date":1603104753,"post_id":64383693,"comment_id":113921181,"body_markdown":"When I select &#39;NewProject&#39; I could select&#39;Stand alone Project&#39; an then select a controllter.","body":"When I select &#39;NewProject&#39; I could select&#39;Stand alone Project&#39; an then select a controllter."},{"owner":{"account_id":19748549,"reputation":1,"user_id":14460378,"display_name":"Luis Vila"},"score":0,"creation_date":1603292477,"post_id":64383693,"comment_id":113992193,"body_markdown":"Yeah, It used to be like that when I used MPLAB 8.92, but now with the MPLAB X instead of selecting the controller, I requires a &quot;Target Location&quot; which  I&#39;m unable to find.","body":"Yeah, It used to be like that when I used MPLAB 8.92, but now with the MPLAB X instead of selecting the controller, I requires a &quot;Target Location&quot; which  I&#39;m unable to find."}],"answers":[{"tags":[],"owner":{"account_id":4337054,"reputation":13,"user_id":3541297,"display_name":"user3541297"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696586171,"creation_date":1696586171,"answer_id":77243498,"question_id":64383693,"body_markdown":"I had the same problem (I know this post is old but in case...).\r\n\r\nI just have to uninstall MPLABX, delete &quot;C:/users/username/.mchp_packs&quot; folder, install MPLABX.\r\n\r\nI love this IDE (...sarcasm...)\r\n","title":"MPLab X v5.40: Cannot Get Target Location and &quot;Could Not Find Pack Repo Provider&quot;","body":"<p>I had the same problem (I know this post is old but in case...).</p>\n<p>I just have to uninstall MPLABX, delete &quot;C:/users/username/.mchp_packs&quot; folder, install MPLABX.</p>\n<p>I love this IDE (...sarcasm...)</p>\n"}],"owner":{"account_id":19748549,"reputation":1,"user_id":14460378,"display_name":"Luis Vila"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696586171,"creation_date":1602828180,"question_id":64383693,"body_markdown":"Recently, I&#39;ve upgraded MPLab from v8.40 to the MPLab X v5.4. (I had first used the MPLab X  v5.30, but due to a requeriment from my profesor I had to downgraded to the MPLab v8.x) \r\n\r\nNow, I can&#39;t create a new project, because in step two, instead of &quot;Selecting Device&quot;, it shows **&quot;[Target Location][1]&quot;** (as depicted in the first picture). But, **it does&#39;t let you &quot;pick&quot; any folder nor file.** \r\nAlso, at starting the program, it show a notifaction under the label **&quot;Unexpected Error&quot;**. When clicked it says **&quot;[Could Not Find Pack Repo Provider][3]&quot;**. In the details of the error, it says **&quot;[java.lang.UnsupportedOperationException][2]&quot;.** \r\n\r\nWith the both versions I had previously installed there was no problem with the project creation, nor with the project wizard. \r\nBut as of this time, MPLab marks an error with Java (I have Java Developer Kit installed as well as Java 1.8.0). After some digging I read that MPLab uses it&#39;s own Java. \r\n\r\nI have uninstalled and installed MPLab X versions 5.30 (again), 5.35 and 5.40 several times (probably 10), making the &quot;complete&quot; uninstalling, but when I reinstall it just shows the same problem. I&#39;m out of ideas to solve the problem as I have ininstalled Java from my computer already (with the Developer Kit) to see if that could solve it, but it was futile, so i installed them back. \r\n \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YI9py.png\r\n  [2]: https://i.stack.imgur.com/2EQl8.png\r\n  [3]: https://i.stack.imgur.com/qfU8Q.png","title":"MPLab X v5.40: Cannot Get Target Location and &quot;Could Not Find Pack Repo Provider&quot;","body":"<p>Recently, I've upgraded MPLab from v8.40 to the MPLab X v5.4. (I had first used the MPLab X  v5.30, but due to a requeriment from my profesor I had to downgraded to the MPLab v8.x)</p>\n<p>Now, I can't create a new project, because in step two, instead of &quot;Selecting Device&quot;, it shows <strong>&quot;<a href=\"https://i.stack.imgur.com/YI9py.png\" rel=\"nofollow noreferrer\">Target Location</a>&quot;</strong> (as depicted in the first picture). But, <strong>it does't let you &quot;pick&quot; any folder nor file.</strong>\nAlso, at starting the program, it show a notifaction under the label <strong>&quot;Unexpected Error&quot;</strong>. When clicked it says <strong>&quot;<a href=\"https://i.stack.imgur.com/qfU8Q.png\" rel=\"nofollow noreferrer\">Could Not Find Pack Repo Provider</a>&quot;</strong>. In the details of the error, it says <strong>&quot;<a href=\"https://i.stack.imgur.com/2EQl8.png\" rel=\"nofollow noreferrer\">java.lang.UnsupportedOperationException</a>&quot;.</strong></p>\n<p>With the both versions I had previously installed there was no problem with the project creation, nor with the project wizard.\nBut as of this time, MPLab marks an error with Java (I have Java Developer Kit installed as well as Java 1.8.0). After some digging I read that MPLab uses it's own Java.</p>\n<p>I have uninstalled and installed MPLab X versions 5.30 (again), 5.35 and 5.40 several times (probably 10), making the &quot;complete&quot; uninstalling, but when I reinstall it just shows the same problem. I'm out of ideas to solve the problem as I have ininstalled Java from my computer already (with the Developer Kit) to see if that could solve it, but it was futile, so i installed them back.</p>\n"},{"tags":["java","json","validation","schema","avro"],"answers":[{"comments":[{"owner":{"account_id":4734706,"reputation":7799,"user_id":3829426,"display_name":"hlagos"},"score":0,"creation_date":1555381001,"post_id":50224798,"comment_id":98081031,"body_markdown":"I think it does, that you should be copy and paste :)","body":"I think it does, that you should be copy and paste :)"},{"owner":{"account_id":306410,"reputation":6036,"user_id":617146,"accept_rate":56,"display_name":"Duc Tran"},"score":0,"creation_date":1555536558,"post_id":50224798,"comment_id":98150560,"body_markdown":"Running the code above with the same invalid json: _Expected boolean. Got END_OBJECT_. It didn&#39;t point out the &quot;active&quot; field though.","body":"Running the code above with the same invalid json: <i>Expected boolean. Got END_OBJECT</i>. It didn&#39;t point out the &quot;active&quot; field though."},{"owner":{"account_id":306410,"reputation":6036,"user_id":617146,"accept_rate":56,"display_name":"Duc Tran"},"score":2,"creation_date":1555541620,"post_id":50224798,"comment_id":98151908,"body_markdown":"If the missing field is not the last field in the schema, then it points out the exact field: &quot; Expected field name not found: &lt;field&gt;&quot;. However, if the field is of the wrong data type then a vague message is shown, e.g: &quot;AvroTypeException: Expected int. Got VALUE_STRING&quot;","body":"If the missing field is not the last field in the schema, then it points out the exact field: &quot; Expected field name not found: &lt;field&gt;&quot;. However, if the field is of the wrong data type then a vague message is shown, e.g: &quot;AvroTypeException: Expected int. Got VALUE_STRING&quot;"},{"owner":{"account_id":3605417,"reputation":1001,"user_id":3007690,"accept_rate":64,"display_name":"kandarp"},"score":0,"creation_date":1625232048,"post_id":50224798,"comment_id":120580063,"body_markdown":"What is UNION type defined in avro schema","body":"What is UNION type defined in avro schema"}],"tags":[],"owner":{"account_id":4734706,"reputation":7799,"user_id":3829426,"display_name":"hlagos"},"comment_count":4,"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1696585861,"creation_date":1525745514,"answer_id":50224798,"question_id":50219476,"body_markdown":"## Add Avro Dependency\r\n```\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\r\n            &lt;artifactId&gt;avro&lt;/artifactId&gt;\r\n            &lt;version&gt;${version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\n## Programmatic Validation\r\n\r\nThis is how you can validate it programatically. \r\n\r\n    import org.apache.avro.AvroTypeException;\r\n    import org.apache.avro.Schema;\r\n    import org.apache.avro.generic.GenericDatumReader;\r\n    import org.apache.avro.io.DatumReader;\r\n    import org.apache.avro.io.Decoder;\r\n    import org.apache.avro.io.DecoderFactory;\r\n    \r\n    import java.io.*;\r\n    \r\n    public class MainClass {\r\n        public static void main (String [] args) throws Exception {\r\n            Schema schema = new Schema.Parser().parse(&quot;{\\n&quot; +\r\n                    &quot;     \\&quot;type\\&quot;: \\&quot;record\\&quot;,\\n&quot; +\r\n                    &quot;     \\&quot;namespace\\&quot;: \\&quot;com.acme\\&quot;,\\n&quot; +\r\n                    &quot;     \\&quot;name\\&quot;: \\&quot;Test\\&quot;,\\n&quot; +\r\n                    &quot;     \\&quot;fields\\&quot;: [\\n&quot; +\r\n                    &quot;       { \\&quot;name\\&quot;: \\&quot;name\\&quot;, \\&quot;type\\&quot;: \\&quot;string\\&quot; },\\n&quot; +\r\n                    &quot;       { \\&quot;name\\&quot;: \\&quot;age\\&quot;, \\&quot;type\\&quot;: \\&quot;int\\&quot; },\\n&quot; +\r\n                    &quot;       { \\&quot;name\\&quot;: \\&quot;sex\\&quot;, \\&quot;type\\&quot;: \\&quot;string\\&quot; },\\n&quot; +\r\n                    &quot;       { \\&quot;name\\&quot;: \\&quot;active\\&quot;, \\&quot;type\\&quot;: \\&quot;boolean\\&quot; }\\n&quot; +\r\n                    &quot;     ]\\n&quot; +\r\n                    &quot;}&quot;);\r\n            String json = &quot;{\\&quot;name\\&quot;:\\&quot;alex\\&quot;,\\&quot;age\\&quot;:23,\\&quot;sex\\&quot;:\\&quot;M\\&quot;,\\&quot;active\\&quot;:true}&quot;;\r\n            System.out.println(validateJson(json, schema));\r\n            String invalidJson = &quot;{\\&quot;name\\&quot;:\\&quot;alex\\&quot;,\\&quot;age\\&quot;:23,\\&quot;sex\\&quot;:\\&quot;M\\&quot;}&quot;; // missing active field\r\n            System.out.println(validateJson(invalidJson, schema));\r\n        }\r\n    \r\n        public static boolean validateJson(String json, Schema schema) throws Exception {\r\n            InputStream input = new ByteArrayInputStream(json.getBytes());\r\n            DataInputStream din = new DataInputStream(input);\r\n    \r\n            try {\r\n                DatumReader reader = new GenericDatumReader(schema);\r\n                Decoder decoder = DecoderFactory.get().jsonDecoder(schema, din);\r\n                reader.read(null, decoder);\r\n                return true;\r\n            } catch (AvroTypeException e) {\r\n                System.out.println(e.getMessage());\r\n                return false;\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"How do I validate JSON against Avro schema","body":"<h2>Add Avro Dependency</h2>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\n            &lt;artifactId&gt;avro&lt;/artifactId&gt;\n            &lt;version&gt;${version}&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<h2>Programmatic Validation</h2>\n<p>This is how you can validate it programatically.</p>\n<pre><code>import org.apache.avro.AvroTypeException;\nimport org.apache.avro.Schema;\nimport org.apache.avro.generic.GenericDatumReader;\nimport org.apache.avro.io.DatumReader;\nimport org.apache.avro.io.Decoder;\nimport org.apache.avro.io.DecoderFactory;\n\nimport java.io.*;\n\npublic class MainClass {\n    public static void main (String [] args) throws Exception {\n        Schema schema = new Schema.Parser().parse(&quot;{\\n&quot; +\n                &quot;     \\&quot;type\\&quot;: \\&quot;record\\&quot;,\\n&quot; +\n                &quot;     \\&quot;namespace\\&quot;: \\&quot;com.acme\\&quot;,\\n&quot; +\n                &quot;     \\&quot;name\\&quot;: \\&quot;Test\\&quot;,\\n&quot; +\n                &quot;     \\&quot;fields\\&quot;: [\\n&quot; +\n                &quot;       { \\&quot;name\\&quot;: \\&quot;name\\&quot;, \\&quot;type\\&quot;: \\&quot;string\\&quot; },\\n&quot; +\n                &quot;       { \\&quot;name\\&quot;: \\&quot;age\\&quot;, \\&quot;type\\&quot;: \\&quot;int\\&quot; },\\n&quot; +\n                &quot;       { \\&quot;name\\&quot;: \\&quot;sex\\&quot;, \\&quot;type\\&quot;: \\&quot;string\\&quot; },\\n&quot; +\n                &quot;       { \\&quot;name\\&quot;: \\&quot;active\\&quot;, \\&quot;type\\&quot;: \\&quot;boolean\\&quot; }\\n&quot; +\n                &quot;     ]\\n&quot; +\n                &quot;}&quot;);\n        String json = &quot;{\\&quot;name\\&quot;:\\&quot;alex\\&quot;,\\&quot;age\\&quot;:23,\\&quot;sex\\&quot;:\\&quot;M\\&quot;,\\&quot;active\\&quot;:true}&quot;;\n        System.out.println(validateJson(json, schema));\n        String invalidJson = &quot;{\\&quot;name\\&quot;:\\&quot;alex\\&quot;,\\&quot;age\\&quot;:23,\\&quot;sex\\&quot;:\\&quot;M\\&quot;}&quot;; // missing active field\n        System.out.println(validateJson(invalidJson, schema));\n    }\n\n    public static boolean validateJson(String json, Schema schema) throws Exception {\n        InputStream input = new ByteArrayInputStream(json.getBytes());\n        DataInputStream din = new DataInputStream(input);\n\n        try {\n            DatumReader reader = new GenericDatumReader(schema);\n            Decoder decoder = DecoderFactory.get().jsonDecoder(schema, din);\n            reader.read(null, decoder);\n            return true;\n        } catch (AvroTypeException e) {\n            System.out.println(e.getMessage());\n            return false;\n        }\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":2284006,"reputation":81,"user_id":2008477,"display_name":"Filippo Rossoni"},"score":0,"creation_date":1646409659,"post_id":68659903,"comment_id":126123283,"body_markdown":"to get better error description you can use the builder with \n    StatusUpdated.newBuilder(obj).build()\nyou get an AvroMissingFieldException with  meaningful message","body":"to get better error description you can use the builder with      StatusUpdated.newBuilder(obj).build() you get an AvroMissingFieldException with  meaningful message"}],"tags":[],"owner":{"account_id":5928880,"reputation":911,"user_id":4664006,"display_name":"Sorabh Mendiratta"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1628130230,"creation_date":1628130230,"answer_id":68659903,"question_id":50219476,"body_markdown":"NOTE: If you are on a java project and facing above error during validation of json.\r\n\r\nIn our project we expect a very long JSON object with multiple optional fields, so it was hard to find where is it failing.\r\n\r\nTried different ways using SpecificDatumReader/GenericDatumReaders and other probable ways, but I was always ending up with Expected start-union. Got VALUE_STRING\r\n\r\nWe have a SpringBoot application and we were already converting the avsc files to Java. So the idea was if we are able to populate the Class object and able to serialize it successfully, it shows that JSON received is valid.\r\n\r\nSo we ended up using a basic ObjectMapper to populate the class. And if you are compiling avsc files to Java using avro library, then it comes with some default methods to encode/decode the class\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    // DeSerializing the JSON to Avro class, but this doesn&#39;t check for Schema restrictions\r\n    StatusUpdated obj = mapper.readValue(payload, StatusUpdated.class);\r\n    // Encoding the class and serializing to raw format, this step validates based on schema\r\n    obj.toByteBuffer();\r\n","title":"How do I validate JSON against Avro schema","body":"<p>NOTE: If you are on a java project and facing above error during validation of json.</p>\n<p>In our project we expect a very long JSON object with multiple optional fields, so it was hard to find where is it failing.</p>\n<p>Tried different ways using SpecificDatumReader/GenericDatumReaders and other probable ways, but I was always ending up with Expected start-union. Got VALUE_STRING</p>\n<p>We have a SpringBoot application and we were already converting the avsc files to Java. So the idea was if we are able to populate the Class object and able to serialize it successfully, it shows that JSON received is valid.</p>\n<p>So we ended up using a basic ObjectMapper to populate the class. And if you are compiling avsc files to Java using avro library, then it comes with some default methods to encode/decode the class</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\n// DeSerializing the JSON to Avro class, but this doesn't check for Schema restrictions\nStatusUpdated obj = mapper.readValue(payload, StatusUpdated.class);\n// Encoding the class and serializing to raw format, this step validates based on schema\nobj.toByteBuffer();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":26670932,"reputation":1,"user_id":20282383,"display_name":"sumegha"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1666181676,"creation_date":1666181626,"answer_id":74125145,"question_id":50219476,"body_markdown":"Do we have similar thing available in C# ? I want to validate JSON message received through API and validate it against schema but there is no option available in .NET C#","title":"How do I validate JSON against Avro schema","body":"<p>Do we have similar thing available in C# ? I want to validate JSON message received through API and validate it against schema but there is no option available in .NET C#</p>\n"}],"owner":{"account_id":6167161,"reputation":161,"user_id":4806659,"display_name":"Bhargava Sharma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":19966,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1696585861,"creation_date":1525713788,"question_id":50219476,"body_markdown":"I have a JSON response from an API and I would like to validate against an existing Avro schema(strict validation with names and types).\r\n\r\nThe response is of type \r\n\r\n\r\n\r\n{&quot;name&quot;:&quot;alex&quot;,&quot;age&quot;:23,&quot;sex&quot;:&quot;M&quot;,&quot;active&quot;:&quot;true&quot;}\r\n\r\nThe schema has the above types with the data types and I would like to validate the schema and throw an exception in case it fails.(Preferably JAVA).\r\n\r\nI have read a solution using the command line but I wanted to do it programmatically.\r\n\r\nThanks in advance\r\n","title":"How do I validate JSON against Avro schema","body":"<p>I have a JSON response from an API and I would like to validate against an existing Avro schema(strict validation with names and types).</p>\n\n<p>The response is of type </p>\n\n<p>{\"name\":\"alex\",\"age\":23,\"sex\":\"M\",\"active\":\"true\"}</p>\n\n<p>The schema has the above types with the data types and I would like to validate the schema and throw an exception in case it fails.(Preferably JAVA).</p>\n\n<p>I have read a solution using the command line but I wanted to do it programmatically.</p>\n\n<p>Thanks in advance</p>\n"},{"tags":["java","java.util.scanner"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1696539545,"post_id":77240478,"comment_id":136170073,"body_markdown":"Your loop ends as soon as `input.hasNextInt()`, without consuming `nextInt()`.","body":"Your loop ends as soon as <code>input.hasNextInt()</code>, without consuming <code>nextInt()</code>."}],"owner":{"account_id":26071805,"reputation":1,"user_id":19771337,"display_name":"jim_bug"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696585828,"creation_date":1696538744,"question_id":77240478,"body_markdown":"I&#39;m studying the methods of the Scanner class, only each site says something completely different and I&#39;m getting confused. My doubt is as follows:\r\n\r\nWhy is the following code:\r\n\r\n```\r\nSystem.out.println(&quot;Enter the number of wheels: &quot;);\r\ndo {\r\n\tif (input.hasNextInt()) {\r\n\t\tnumeroRuote = input.nextInt();\r\n\t\t// verificaTipoDiDato = false;\r\n\t\tbreak;\r\n\t}\r\n\t\t\r\n\telse {\r\n\t\tSystem.out.println(&quot;Wrong data type for number of wheels!\\Enter new number of wheels: &quot;);\r\n\t\t// verificaTipoDiDato = true;\r\n\t\tinput.next();\r\n\t}\r\n}\r\nwhile (!input.hasNextInt());\r\n\r\nSystem.out.println(&quot;Enter the number of headlights: &quot;);\r\ndo {\r\n\tif (input.hasNextInt()) {\r\n\t\tnumeroFari = input.nextInt();\r\n\t\t// verificaTipoDiDato = false;\r\n\t\tbreak;\r\n\t}\r\n\telse {\r\n\t\tSystem.out.println(&quot;Incorrect data type for number of headlights!\\Enter new number of headlights: &quot;);\r\n\t\t// verificaTipoDiDato = true;\r\n\t\tinput.next();\r\n\t}\r\n}\r\nwhile (!input.hasNextInt());\r\n```\r\nIt does this:\r\n\r\n```none\r\nEnter the number of wheels: \r\nhello\r\nData type for the wrong number of wheels!\r\nEnter a new number of wheels: \r\nhello\r\nData type for the wrong number of wheels!\r\nEnter a new number of wheels: \r\n4  \r\nEnter the number of headlights: \r\nVehicle wheel number: 0\r\nNumber of vehicle headlights: 4\r\n```\r\n\r\nShouldn&#39;t it also require input of the number of headlights?\r\n\r\nI can&#39;t understand why.","title":"How do the methods of the Scanner class behave when I try to take input numbers?","body":"<p>I'm studying the methods of the Scanner class, only each site says something completely different and I'm getting confused. My doubt is as follows:</p>\n<p>Why is the following code:</p>\n<pre><code>System.out.println(&quot;Enter the number of wheels: &quot;);\ndo {\n    if (input.hasNextInt()) {\n        numeroRuote = input.nextInt();\n        // verificaTipoDiDato = false;\n        break;\n    }\n        \n    else {\n        System.out.println(&quot;Wrong data type for number of wheels!\\Enter new number of wheels: &quot;);\n        // verificaTipoDiDato = true;\n        input.next();\n    }\n}\nwhile (!input.hasNextInt());\n\nSystem.out.println(&quot;Enter the number of headlights: &quot;);\ndo {\n    if (input.hasNextInt()) {\n        numeroFari = input.nextInt();\n        // verificaTipoDiDato = false;\n        break;\n    }\n    else {\n        System.out.println(&quot;Incorrect data type for number of headlights!\\Enter new number of headlights: &quot;);\n        // verificaTipoDiDato = true;\n        input.next();\n    }\n}\nwhile (!input.hasNextInt());\n</code></pre>\n<p>It does this:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Enter the number of wheels: \nhello\nData type for the wrong number of wheels!\nEnter a new number of wheels: \nhello\nData type for the wrong number of wheels!\nEnter a new number of wheels: \n4  \nEnter the number of headlights: \nVehicle wheel number: 0\nNumber of vehicle headlights: 4\n</code></pre>\n<p>Shouldn't it also require input of the number of headlights?</p>\n<p>I can't understand why.</p>\n"},{"tags":["java","debugging","intellij-idea"],"comments":[{"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"score":0,"creation_date":1696406815,"post_id":77227793,"comment_id":136147223,"body_markdown":"Can you provide your java code?","body":"Can you provide your java code?"},{"owner":{"account_id":10879641,"reputation":314,"user_id":8575474,"display_name":"Abhinav Singh"},"score":0,"creation_date":1696407143,"post_id":77227793,"comment_id":136147279,"body_markdown":"@ZufarSunagatov added my code","body":"@ZufarSunagatov added my code"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696407153,"post_id":77227793,"comment_id":136147285,"body_markdown":"1) Are you running in debug mode? 2) Do other breakpoints work correctly? 3) If you put a breakpoint a little bit before this code is hit, does that trigger? Can you then step forwards to this code?","body":"1) Are you running in debug mode? 2) Do other breakpoints work correctly? 3) If you put a breakpoint a little bit before this code is hit, does that trigger? Can you then step forwards to this code?"},{"owner":{"account_id":10879641,"reputation":314,"user_id":8575474,"display_name":"Abhinav Singh"},"score":0,"creation_date":1696407570,"post_id":77227793,"comment_id":136147376,"body_markdown":"@Jorn yes running in debug mode, yes other bp works as expected.\nDidnt understand your 3rd question","body":"@Jorn yes running in debug mode, yes other bp works as expected. Didnt understand your 3rd question"},{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696407641,"post_id":77227793,"comment_id":136147389,"body_markdown":"Once you hit a breakpoint, your debugger will have a &quot;step forwards&quot; button. You can use that to reach the place in the code where you claim the breakpoint isn&#39;t hit. Doing that will probably tell you *why* it isn&#39;t hit.","body":"Once you hit a breakpoint, your debugger will have a &quot;step forwards&quot; button. You can use that to reach the place in the code where you claim the breakpoint isn&#39;t hit. Doing that will probably tell you <i>why</i> it isn&#39;t hit."}],"answers":[{"tags":[],"owner":{"account_id":18549439,"reputation":1201,"user_id":13515974,"display_name":"Zufar Sunagatov"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696407600,"creation_date":1696407600,"answer_id":77227916,"question_id":77227793,"body_markdown":"&gt; So is there any setting we can do, so that we get trigger everytime we insert or remove from the list.\r\n\r\nWell, if you add or remove elements from an `ArrayList`, the watchpoint will not be triggered, because `ArrayList` object itself is not changing.\r\n\r\nI have an idea that you can monitor changes to the elements inside the ArrayList, you would need to implement your own custom `class ArrayList`. This way you can set callback functions that get triggered whenever an element is added or removed from the list.\r\n\r\n```\r\nimport java.util.ArrayList;\r\nimport java.util.function.Consumer;\r\n\r\npublic class CustomObservableArrayList&lt;T&gt; extends ArrayList&lt;T&gt; {\r\n\r\n    private Consumer&lt;T&gt; addCallback;\r\n    private Consumer&lt;T&gt; removeCallback;\r\n\r\n    public CustomObservableArrayList(Consumer&lt;T&gt; addCallback, Consumer&lt;T&gt; removeCallback) {\r\n        super();\r\n        this.addCallback = addCallback;\r\n        this.removeCallback = removeCallback;\r\n    }\r\n\r\n    @Override\r\n    public boolean add(T element) {\r\n        boolean result = super.add(element);\r\n        if (result &amp;&amp; addCallback != null) {\r\n            addCallback.accept(element);\r\n        }\r\n        return result;\r\n    }\r\n\r\n    @Override\r\n    public boolean remove(Object element) {\r\n        boolean result = super.remove(element);\r\n        if (result &amp;&amp; removeCallback != null) {\r\n            removeCallback.accept((T) element);\r\n        }\r\n        return result;\r\n    }\r\n}\r\n```","title":"Watchpoint not triggered when inserting to ArrayList","body":"<blockquote>\n<p>So is there any setting we can do, so that we get trigger everytime we insert or remove from the list.</p>\n</blockquote>\n<p>Well, if you add or remove elements from an <code>ArrayList</code>, the watchpoint will not be triggered, because <code>ArrayList</code> object itself is not changing.</p>\n<p>I have an idea that you can monitor changes to the elements inside the ArrayList, you would need to implement your own custom <code>class ArrayList</code>. This way you can set callback functions that get triggered whenever an element is added or removed from the list.</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.function.Consumer;\n\npublic class CustomObservableArrayList&lt;T&gt; extends ArrayList&lt;T&gt; {\n\n    private Consumer&lt;T&gt; addCallback;\n    private Consumer&lt;T&gt; removeCallback;\n\n    public CustomObservableArrayList(Consumer&lt;T&gt; addCallback, Consumer&lt;T&gt; removeCallback) {\n        super();\n        this.addCallback = addCallback;\n        this.removeCallback = removeCallback;\n    }\n\n    @Override\n    public boolean add(T element) {\n        boolean result = super.add(element);\n        if (result &amp;&amp; addCallback != null) {\n            addCallback.accept(element);\n        }\n        return result;\n    }\n\n    @Override\n    public boolean remove(Object element) {\n        boolean result = super.remove(element);\n        if (result &amp;&amp; removeCallback != null) {\n            removeCallback.accept((T) element);\n        }\n        return result;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":10879641,"reputation":314,"user_id":8575474,"display_name":"Abhinav Singh"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77227916,"answer_count":1,"score":0,"last_activity_date":1696585634,"creation_date":1696406481,"question_id":77227793,"body_markdown":"I have a java program, it has a global variable `ArrayList&lt;Integer&gt; al` I put a watchpoint on it to track changes to this variable. I found that watchpoint only gets triggered when there is assignment to the this varible, like this `al = new ArrayList&lt;&gt;`, but when I insert into this list, the watchpoint is not getting triggered. I guess this is a normal behaviour. So is there any setting we can do, so that we get trigger everytime we insert or remove from the list.\r\n\r\nThe actual code for reference\r\n\r\n```\r\npublic MyClass {\r\n\r\nprivate static ArrayList&lt;Integer&gt; al = new ArrayList(); Put a watchpoint here\r\n\r\npublic static void main(String args[]){\r\n    al = new ArrayList&lt;&gt;(); // watchpoint gets triggered here\r\n    Integer a = 1;\r\n    al.add(a); // watchpoint not getting triggered here\r\n  }\r\n}\r\n```\r\nEDIT\r\n\r\nMy actual scenario is this list can be modified from other threads, so I thought putting a watchpoint over it will be a good idea to know which thread modified it and also look into its stack trace\r\n\r\n","title":"Watchpoint not triggered when inserting to ArrayList","body":"<p>I have a java program, it has a global variable <code>ArrayList&lt;Integer&gt; al</code> I put a watchpoint on it to track changes to this variable. I found that watchpoint only gets triggered when there is assignment to the this varible, like this <code>al = new ArrayList&lt;&gt;</code>, but when I insert into this list, the watchpoint is not getting triggered. I guess this is a normal behaviour. So is there any setting we can do, so that we get trigger everytime we insert or remove from the list.</p>\n<p>The actual code for reference</p>\n<pre><code>public MyClass {\n\nprivate static ArrayList&lt;Integer&gt; al = new ArrayList(); Put a watchpoint here\n\npublic static void main(String args[]){\n    al = new ArrayList&lt;&gt;(); // watchpoint gets triggered here\n    Integer a = 1;\n    al.add(a); // watchpoint not getting triggered here\n  }\n}\n</code></pre>\n<p>EDIT</p>\n<p>My actual scenario is this list can be modified from other threads, so I thought putting a watchpoint over it will be a good idea to know which thread modified it and also look into its stack trace</p>\n"},{"tags":["java","spring-boot","spring-data-jpa","scheduled-tasks"],"owner":{"account_id":27361694,"reputation":1,"user_id":20869202,"display_name":"Hrushikesh Kadam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696585595,"creation_date":1696584728,"question_id":77243335,"body_markdown":"```\r\n@Scheduled(cron = &quot;0 0 1 * * ?&quot;) // Runs daily at 1 AM\r\npublic void applyDiscountDaily() {\r\n    log.info(&quot;++++++++++at entry point of applyDiscountDaily+++++++++++++&quot;);\r\n    // fetch list of pharmacy whose discount frequency is daily\r\n    List&lt;PharmacyDAO&gt; pharmacyDAOs = pharmacyRepository.findPharmacyByDailyDiscount();\r\n    if (pharmacyDAOs.size() &gt; 0) {\r\n        for (PharmacyDAO pharmacyDAO : pharmacyDAOs) {\r\n            log.info(&quot;++++++++++into for loop+++++++++++++&quot;);\r\n            PaymentDAO paymentDAO = new PaymentDAO();\r\n            // get current month days\r\n            int days = YearMonth.of(LocalDate.now().getYear(), LocalDate.now().getMonth())\r\n                    .lengthOfMonth();\r\n            // apply discount % on exposure\r\n            Double roundedDebitedAmount = CommonUtil\r\n                    .roundWithTwoDecimalDigits((pharmacyDAO.getDiscountPercentage() / days\r\n                            * (pharmacyDAO.getCreditLimit()\r\n                                    - pharmacyDAO.getAvailabilityBalance()))\r\n                            / 100);\r\n            paymentDAO.setStatementType(&quot;Discount Fee&quot;);\r\n            paymentDAO.setDebitedAmount(roundedDebitedAmount);\r\n\r\n            // check total monthly discount is greater than monthly\r\n            if (today == totalDaysInMonth) {\r\n                Month desiredMonth = Month.of(currentYearMonth.getMonthValue());\r\n                LocalDate startDate = LocalDate.of(currentYearMonth.getYear(), desiredMonth, 1);\r\n                int lastDayOfMonth = desiredMonth.length(startDate.isLeapYear());\r\n                LocalDate endDate = LocalDate\r\n                        .of(currentYearMonth.getYear(), desiredMonth, lastDayOfMonth)\r\n                        .atStartOfDay()\r\n                        .toLocalDate();\r\n                Double totalMonthlyDiscount = transactionPaymentRepository\r\n                        .getMonthlyDiscountAmountTotal(\r\n                                pharmacyDAO.getId(),\r\n                                startDate, endDate);\r\n                paymentDAO.setDebitedAmount(roundedDebitedAmount);\r\n                if ((totalMonthlyDiscount + roundedDebitedAmount) &lt; pharmacyDAO\r\n                        .getMinimumFee()) {\r\n                    paymentDAO.setDebitedAmount(\r\n                            CommonUtil.roundWithTwoDecimalDigits(\r\n                                    totalMonthlyDiscount\r\n                                            + roundedDebitedAmount));\r\n                }\r\n            }\r\n\r\n            // If the discount fee is less than the minimum fee, the minimum fee must be\r\n            // charged to the pharmacy and NOT the discount fee\r\n            // if (roundedDebitedAmount &lt; pharmacyDAO.getMinimumFee()) {\r\n            // roundedDebitedAmount = pharmacyDAO.getMinimumFee(); //comment on 26 sep 10:25\r\n            // paymentDAO.setStatementType(&quot;Minimum Fee&quot;);\r\n            // paymentDAO.setDebitedAmount(roundedDebitedAmount);\r\n            // }\r\n            Double newAvailableBalance = CommonUtil\r\n                    .roundWithTwoDecimalDigits(pharmacyDAO.getAvailabilityBalance()\r\n                            - paymentDAO.getDebitedAmount());\r\n            paymentDAO.setExposure(\r\n                    CommonUtil.roundWithTwoDecimalDigits(\r\n                            Math.abs(pharmacyDAO.getCreditLimit()\r\n                                    - newAvailableBalance)));\r\n            paymentDAO.setPharmacyDAO(pharmacyDAO);\r\n\r\n            AuditLogsDAO auditLogsDAO = new AuditLogsDAO();\r\n            auditLogsDAO.setPharmacyName(pharmacyDAO.getPharmacyName());\r\n            auditLogsDAO.setUserEmail(adminEmail);\r\n            auditLogsDAO.setAdminId(1l);\r\n            auditLogsDAO.setUserName(&quot;Admin&quot;);\r\n            auditLogsDAO.setRole(1l);\r\n            auditLogsDAO.setRequestType(paymentDAO.getStatementType());\r\n            auditLogsDAO.setAction(&quot;Admin&quot;);\r\n            SchedularDiscountDTO discountDTO = SchedularDiscountDTO.builder()\r\n                    .pharmacyId(pharmacyDAO.getId())\r\n                    .availableBalance(newAvailableBalance)\r\n                    .debitedAmount(paymentDAO.getDebitedAmount())\r\n                    .discountPercentage(pharmacyDAO.getDiscountPercentage())\r\n                    .discountFrequency(pharmacyDAO.getDiscountFrequency())\r\n                    .statementType(paymentDAO.getStatementType())\r\n                    .createdDate(LocalDateTime.now())\r\n                    .build();\r\n            try {\r\n                auditLogsDAO.setData(objectMapper.writeValueAsString(discountDTO));\r\n            } catch (JsonProcessingException e) {\r\n                throw new JSONParseException(&quot;Unable to process JSON&quot;);\r\n            }\r\n            pharmacyDAO.setAvailabilityBalance(newAvailableBalance);\r\n            log.info(&quot; Current time : &quot; + LocalDateTime.now()\r\n                    + &quot;...Discount fee debited daily for pharmacy : &quot;\r\n                    + pharmacyDAO.getEmailId()\r\n                    + &quot;, debited amount =&quot;\r\n                    + paymentDAO.getDebitedAmount());\r\n            log.info(&quot;+++++++++++before saved payment object.++++++++++++&quot;);\r\n            transactionPaymentRepository.save(paymentDAO);\r\n            log.info(&quot;+++++++++++Saved payment object.+++++++++++++&quot;);\r\n            pharmacyRepository.save(pharmacyDAO);\r\n            log.info(&quot;+++++++++++Saved pharmacy object.+++++++++++++&quot;);\r\n            auditLogsRepository.save(auditLogsDAO);\r\n            log.info(&quot;+++++++++++Saved audit log object.+++++++++++++&quot;);\r\n        }\r\n    }\r\n}\r\n```\r\nI implemented save method in JPA repository and annotated it with @Transactional still it replicated the entity. The logs are getting printed one time only but the object to save method gets replicated into database as a new entry.\r\n\r\nI kept the ID as generated type Identity in entity. The code works fine at local but when i deploy my war file on EC2 instance with rds mySQL DB, then the replication scenario occurs. The logs are getting printed one time only.","title":"JPA repository save() method replicating the same entity twice into mySQL DB while executing @Scheduled task in spring boot","body":"<pre><code>@Scheduled(cron = &quot;0 0 1 * * ?&quot;) // Runs daily at 1 AM\npublic void applyDiscountDaily() {\n    log.info(&quot;++++++++++at entry point of applyDiscountDaily+++++++++++++&quot;);\n    // fetch list of pharmacy whose discount frequency is daily\n    List&lt;PharmacyDAO&gt; pharmacyDAOs = pharmacyRepository.findPharmacyByDailyDiscount();\n    if (pharmacyDAOs.size() &gt; 0) {\n        for (PharmacyDAO pharmacyDAO : pharmacyDAOs) {\n            log.info(&quot;++++++++++into for loop+++++++++++++&quot;);\n            PaymentDAO paymentDAO = new PaymentDAO();\n            // get current month days\n            int days = YearMonth.of(LocalDate.now().getYear(), LocalDate.now().getMonth())\n                    .lengthOfMonth();\n            // apply discount % on exposure\n            Double roundedDebitedAmount = CommonUtil\n                    .roundWithTwoDecimalDigits((pharmacyDAO.getDiscountPercentage() / days\n                            * (pharmacyDAO.getCreditLimit()\n                                    - pharmacyDAO.getAvailabilityBalance()))\n                            / 100);\n            paymentDAO.setStatementType(&quot;Discount Fee&quot;);\n            paymentDAO.setDebitedAmount(roundedDebitedAmount);\n\n            // check total monthly discount is greater than monthly\n            if (today == totalDaysInMonth) {\n                Month desiredMonth = Month.of(currentYearMonth.getMonthValue());\n                LocalDate startDate = LocalDate.of(currentYearMonth.getYear(), desiredMonth, 1);\n                int lastDayOfMonth = desiredMonth.length(startDate.isLeapYear());\n                LocalDate endDate = LocalDate\n                        .of(currentYearMonth.getYear(), desiredMonth, lastDayOfMonth)\n                        .atStartOfDay()\n                        .toLocalDate();\n                Double totalMonthlyDiscount = transactionPaymentRepository\n                        .getMonthlyDiscountAmountTotal(\n                                pharmacyDAO.getId(),\n                                startDate, endDate);\n                paymentDAO.setDebitedAmount(roundedDebitedAmount);\n                if ((totalMonthlyDiscount + roundedDebitedAmount) &lt; pharmacyDAO\n                        .getMinimumFee()) {\n                    paymentDAO.setDebitedAmount(\n                            CommonUtil.roundWithTwoDecimalDigits(\n                                    totalMonthlyDiscount\n                                            + roundedDebitedAmount));\n                }\n            }\n\n            // If the discount fee is less than the minimum fee, the minimum fee must be\n            // charged to the pharmacy and NOT the discount fee\n            // if (roundedDebitedAmount &lt; pharmacyDAO.getMinimumFee()) {\n            // roundedDebitedAmount = pharmacyDAO.getMinimumFee(); //comment on 26 sep 10:25\n            // paymentDAO.setStatementType(&quot;Minimum Fee&quot;);\n            // paymentDAO.setDebitedAmount(roundedDebitedAmount);\n            // }\n            Double newAvailableBalance = CommonUtil\n                    .roundWithTwoDecimalDigits(pharmacyDAO.getAvailabilityBalance()\n                            - paymentDAO.getDebitedAmount());\n            paymentDAO.setExposure(\n                    CommonUtil.roundWithTwoDecimalDigits(\n                            Math.abs(pharmacyDAO.getCreditLimit()\n                                    - newAvailableBalance)));\n            paymentDAO.setPharmacyDAO(pharmacyDAO);\n\n            AuditLogsDAO auditLogsDAO = new AuditLogsDAO();\n            auditLogsDAO.setPharmacyName(pharmacyDAO.getPharmacyName());\n            auditLogsDAO.setUserEmail(adminEmail);\n            auditLogsDAO.setAdminId(1l);\n            auditLogsDAO.setUserName(&quot;Admin&quot;);\n            auditLogsDAO.setRole(1l);\n            auditLogsDAO.setRequestType(paymentDAO.getStatementType());\n            auditLogsDAO.setAction(&quot;Admin&quot;);\n            SchedularDiscountDTO discountDTO = SchedularDiscountDTO.builder()\n                    .pharmacyId(pharmacyDAO.getId())\n                    .availableBalance(newAvailableBalance)\n                    .debitedAmount(paymentDAO.getDebitedAmount())\n                    .discountPercentage(pharmacyDAO.getDiscountPercentage())\n                    .discountFrequency(pharmacyDAO.getDiscountFrequency())\n                    .statementType(paymentDAO.getStatementType())\n                    .createdDate(LocalDateTime.now())\n                    .build();\n            try {\n                auditLogsDAO.setData(objectMapper.writeValueAsString(discountDTO));\n            } catch (JsonProcessingException e) {\n                throw new JSONParseException(&quot;Unable to process JSON&quot;);\n            }\n            pharmacyDAO.setAvailabilityBalance(newAvailableBalance);\n            log.info(&quot; Current time : &quot; + LocalDateTime.now()\n                    + &quot;...Discount fee debited daily for pharmacy : &quot;\n                    + pharmacyDAO.getEmailId()\n                    + &quot;, debited amount =&quot;\n                    + paymentDAO.getDebitedAmount());\n            log.info(&quot;+++++++++++before saved payment object.++++++++++++&quot;);\n            transactionPaymentRepository.save(paymentDAO);\n            log.info(&quot;+++++++++++Saved payment object.+++++++++++++&quot;);\n            pharmacyRepository.save(pharmacyDAO);\n            log.info(&quot;+++++++++++Saved pharmacy object.+++++++++++++&quot;);\n            auditLogsRepository.save(auditLogsDAO);\n            log.info(&quot;+++++++++++Saved audit log object.+++++++++++++&quot;);\n        }\n    }\n}\n</code></pre>\n<p>I implemented save method in JPA repository and annotated it with @Transactional still it replicated the entity. The logs are getting printed one time only but the object to save method gets replicated into database as a new entry.</p>\n<p>I kept the ID as generated type Identity in entity. The code works fine at local but when i deploy my war file on EC2 instance with rds mySQL DB, then the replication scenario occurs. The logs are getting printed one time only.</p>\n"},{"tags":["java","jsonp","jackson"],"comments":[{"owner":{"account_id":20445,"reputation":6733,"user_id":48869,"accept_rate":81,"display_name":"Eldelshell"},"score":0,"creation_date":1384859463,"post_id":20069088,"comment_id":29895982,"body_markdown":"well, I tried with a custom deserializer, but the exception is thrown before the call to the deserialize method is made.","body":"well, I tried with a custom deserializer, but the exception is thrown before the call to the deserialize method is made."}],"answers":[{"tags":[],"owner":{"account_id":20445,"reputation":6733,"user_id":48869,"accept_rate":81,"display_name":"Eldelshell"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1384862397,"creation_date":1384862397,"answer_id":20070999,"question_id":20069088,"body_markdown":"Finally I&#39;ve been able to remove the callback part of the JSONP response.\r\n\r\nFirst, Jackson is able to parse the JSON even when it ends with a parenthesis. So, by simply removing the `my_json_callback(` from the response is enough.\r\n\r\nSince I&#39;m using Apache&#39;s HTTP Client, this fixes the issue:\r\n\r\n    String callback = &quot;my_json_callback(&quot;;\r\n    InputStreamReader r = new InputStreamReader(response.getEntity().getContent());\r\n    r.skip(callback.length());\r\n    return mapper.readValue(r, MyObject.class);\r\n\r\nThe idea is not having to convert the Reader to a String and then parsing that String after removing the callback part.\r\n\r\nI was also able to accomplish the same results using `JSONTokener` from `json.org` library for a given JSONP String:\r\n\r\n    JSONTokener t = new JSONTokener(json);\r\n    t.nextValue(); // skip the callback\r\n    return mapper.readValue(t.nextValue().toString(), MyObject.class);\r\n\r\n","title":"Deserialize JSONP with Jackson","body":"<p>Finally I've been able to remove the callback part of the JSONP response.</p>\n\n<p>First, Jackson is able to parse the JSON even when it ends with a parenthesis. So, by simply removing the <code>my_json_callback(</code> from the response is enough.</p>\n\n<p>Since I'm using Apache's HTTP Client, this fixes the issue:</p>\n\n<pre><code>String callback = \"my_json_callback(\";\nInputStreamReader r = new InputStreamReader(response.getEntity().getContent());\nr.skip(callback.length());\nreturn mapper.readValue(r, MyObject.class);\n</code></pre>\n\n<p>The idea is not having to convert the Reader to a String and then parsing that String after removing the callback part.</p>\n\n<p>I was also able to accomplish the same results using <code>JSONTokener</code> from <code>json.org</code> library for a given JSONP String:</p>\n\n<pre><code>JSONTokener t = new JSONTokener(json);\nt.nextValue(); // skip the callback\nreturn mapper.readValue(t.nextValue().toString(), MyObject.class);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2466319,"reputation":41,"user_id":2149336,"display_name":"Ryon Day"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1569505672,"creation_date":1398377869,"answer_id":23280884,"question_id":20069088,"body_markdown":"Here&#39;s a trimmed-for-space version of the solution I came up with using a `ReaderInterceptor`. I am using Jersey 2.x in conjunction with Jackson to interact with a web service that only outputs JSONP.\r\n\r\n    public class CallbackStripInterceptor implements ReaderInterceptor {\r\n    \r\n        private final static byte[] callbackBytes = &quot;callback(&quot;.getBytes();\r\n\r\n        @Override\r\n        public Object aroundReadFrom(ReaderInterceptorContext context) throws IOException, WebApplicationException {\r\n\r\n        int howMany = callbackBytes.length;\r\n\r\n        InputStream x = context.getInputStream();\r\n\r\n        if( !(x.available() &gt;= howMany) ) {\r\n            return context.proceed();\r\n        }\r\n\r\n        x.mark( howMany );\r\n        byte[] preamble = new byte[ howMany ];\r\n        x.read( preamble );\r\n\r\n        // In case the first part of our entity doesn&#39;t have the callback String, reset the stream so downstream exploiters get the full entity.\r\n        if( !Arrays.equals( preamble, callbackBytes ) ) {\r\n            x.reset();\r\n        } \r\n\r\n        return context.proceed();\r\n    }\r\n\r\nUse like so:\r\n\r\n    Client c = ClientBuilder.newBuilder()\r\n        .register( new CallbackStripInterceptor() )\r\n        .build();\r\n\r\nUsing this client, all responses with an entity will go through this interceptor (Jersey does not run interceptors on responses without entity bodies).","title":"Deserialize JSONP with Jackson","body":"<p>Here's a trimmed-for-space version of the solution I came up with using a <code>ReaderInterceptor</code>. I am using Jersey 2.x in conjunction with Jackson to interact with a web service that only outputs JSONP.</p>\n\n<pre><code>public class CallbackStripInterceptor implements ReaderInterceptor {\n\n    private final static byte[] callbackBytes = \"callback(\".getBytes();\n\n    @Override\n    public Object aroundReadFrom(ReaderInterceptorContext context) throws IOException, WebApplicationException {\n\n    int howMany = callbackBytes.length;\n\n    InputStream x = context.getInputStream();\n\n    if( !(x.available() &gt;= howMany) ) {\n        return context.proceed();\n    }\n\n    x.mark( howMany );\n    byte[] preamble = new byte[ howMany ];\n    x.read( preamble );\n\n    // In case the first part of our entity doesn't have the callback String, reset the stream so downstream exploiters get the full entity.\n    if( !Arrays.equals( preamble, callbackBytes ) ) {\n        x.reset();\n    } \n\n    return context.proceed();\n}\n</code></pre>\n\n<p>Use like so:</p>\n\n<pre><code>Client c = ClientBuilder.newBuilder()\n    .register( new CallbackStripInterceptor() )\n    .build();\n</code></pre>\n\n<p>Using this client, all responses with an entity will go through this interceptor (Jersey does not run interceptors on responses without entity bodies).</p>\n"},{"tags":[],"owner":{"account_id":15782199,"reputation":69,"user_id":11388213,"display_name":"Universe Whole-Xuan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696584647,"creation_date":1696584647,"answer_id":77243329,"question_id":20069088,"body_markdown":"If your using feign,you can use below solution.\r\n\r\n    import java.io.IOException;\r\n    \r\n    import org.apache.commons.io.IOUtils;\r\n    import org.apache.commons.lang3.StringUtils;\r\n    \r\n    import feign.InvocationContext;\r\n    import feign.Response;\r\n    import feign.ResponseInterceptor;\r\n    import lombok.AccessLevel;\r\n    import lombok.RequiredArgsConstructor;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    @Slf4j\r\n    @RequiredArgsConstructor(access = AccessLevel.PUBLIC)\r\n    public class JsonpResponseInterceptor implements ResponseInterceptor {\r\n    \r\n    \tprivate final String identifier;\r\n    \r\n    \t@Override\r\n    \tpublic Object aroundDecode(InvocationContext invocationContext) throws IOException {\r\n    \t\tString resp = IOUtils.toString(invocationContext.response().body().asInputStream(),\r\n    \t\t\t\tinvocationContext.response().charset());\r\n    \t\tLOGGER.debug(&quot;response is :&quot;+resp);\r\n    \t\tif (resp.startsWith(identifier)) {\r\n    \t\t\tString substring = StringUtils.substringBetween(resp, &quot;(&quot;, &quot;)&quot;);\r\n    \t\t\tResponse modifiedResponse = Response.builder().body(substring, invocationContext.response().charset())\r\n    \t\t\t\t\t.headers(invocationContext.response().headers())\r\n    \t\t\t\t\t.protocolVersion(invocationContext.response().protocolVersion())\r\n    \t\t\t\t\t.reason(invocationContext.response().reason()).status(invocationContext.response().status())\r\n    \t\t\t\t\t.request(invocationContext.response().request()).build();\r\n    \t\t\treturn invocationContext.decoder().decode(modifiedResponse, invocationContext.returnType());\r\n    \t\t} else {\r\n    \t\t\treturn invocationContext.proceed();\r\n    \t\t}\r\n    \t}\r\n    }","title":"Deserialize JSONP with Jackson","body":"<p>If your using feign,you can use below solution.</p>\n<pre><code>import java.io.IOException;\n\nimport org.apache.commons.io.IOUtils;\nimport org.apache.commons.lang3.StringUtils;\n\nimport feign.InvocationContext;\nimport feign.Response;\nimport feign.ResponseInterceptor;\nimport lombok.AccessLevel;\nimport lombok.RequiredArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\n@Slf4j\n@RequiredArgsConstructor(access = AccessLevel.PUBLIC)\npublic class JsonpResponseInterceptor implements ResponseInterceptor {\n\n    private final String identifier;\n\n    @Override\n    public Object aroundDecode(InvocationContext invocationContext) throws IOException {\n        String resp = IOUtils.toString(invocationContext.response().body().asInputStream(),\n                invocationContext.response().charset());\n        LOGGER.debug(&quot;response is :&quot;+resp);\n        if (resp.startsWith(identifier)) {\n            String substring = StringUtils.substringBetween(resp, &quot;(&quot;, &quot;)&quot;);\n            Response modifiedResponse = Response.builder().body(substring, invocationContext.response().charset())\n                    .headers(invocationContext.response().headers())\n                    .protocolVersion(invocationContext.response().protocolVersion())\n                    .reason(invocationContext.response().reason()).status(invocationContext.response().status())\n                    .request(invocationContext.response().request()).build();\n            return invocationContext.decoder().decode(modifiedResponse, invocationContext.returnType());\n        } else {\n            return invocationContext.proceed();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20445,"reputation":6733,"user_id":48869,"accept_rate":81,"display_name":"Eldelshell"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2279,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":20070999,"answer_count":3,"score":4,"last_activity_date":1696584647,"creation_date":1384857154,"question_id":20069088,"body_markdown":"For some reason Jackson 2.3.0 is unable to parse a JSONP response.\r\n\r\n    com.fasterxml.jackson.core.JsonParseException: Unrecognized token &#39;my_json_callback&#39;:\r\n\r\nI&#39;ve got the deserialization process to work without the callback.\r\n\r\nI&#39;ve tried with the Jackson JAX-RS package which includes a `@JSONP` annotation, but this seems to be used only when serializing.","title":"Deserialize JSONP with Jackson","body":"<p>For some reason Jackson 2.3.0 is unable to parse a JSONP response.</p>\n\n<pre><code>com.fasterxml.jackson.core.JsonParseException: Unrecognized token 'my_json_callback':\n</code></pre>\n\n<p>I've got the deserialization process to work without the callback.</p>\n\n<p>I've tried with the Jackson JAX-RS package which includes a <code>@JSONP</code> annotation, but this seems to be used only when serializing.</p>\n"},{"tags":["java","libgdx","stage"],"owner":{"account_id":11290194,"reputation":19,"user_id":8279549,"display_name":"motesolo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696584390,"creation_date":1696584390,"question_id":77243293,"body_markdown":"game screen is:\r\n```\r\npublic class GameScreen implements Screen {\r\n\tfinal Test1 game;\r\n\t\r\n\tprivate Stage stage;\r\n\tprivate TrafficGame trafficGame;\r\n\t\r\n\tpublic GameScreen(Test1 _game) {\r\n\t\tgame = _game;\r\n\t\tstage = new Stage(new ExtendViewport(800, 480));\r\n\r\n\t\ttrafficGame = new TrafficGame();\r\n\t\tstage.addActor(trafficGame);\r\n\t\t\r\n\t}\r\n\r\n        public void render(float delta) {\r\n\t\tGdx.gl.glClearColor(255, 255, 255, 1);\r\n\t\tGdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\r\n\t\t\r\n\t\t// calls TrafficGame actor act/draw method\r\n\t\tstage.act(delta);\r\n\t\tstage.draw();\r\n\t}\r\n```\r\nand TrafficGame which has main logic:\r\n```\r\npublic class TrafficGame extends Table {\r\n\tprivate InfiniteScrollBg backgroundRoad;\r\n\t\r\n\tpublic TrafficGame() {\r\n\t\tsetBounds(0, 0, 800, 480);\r\n\t\tbackgroundRoad = new InfiniteScrollBg(getWidth(), getHeight());\r\n\t\taddActor(backgroundRoad);\r\n\t}\r\n\t\r\n\tpublic void act(float delta) {\r\n\t\tsuper.act(delta);\r\n\t}\r\n\r\n\tpublic void draw(SpriteBatch batch, float parentAlpha) {\r\n\t\tbatch.setColor(Color.WHITE);\r\n\t\tsuper.draw(batch, parentAlpha);\r\n\t}\t\r\n\r\n}\r\n```\r\n\r\nand InfiniteScrollBg which is actor drawing scrolling road:\r\n```\r\n\r\npublic class InfiniteScrollBg extends Actor {\r\n\tprivate static Texture road;\r\n\t\r\n\t{\r\n\t\troad = new Texture(Gdx.files.internal(&quot;road.png&quot;));\r\n\t}\r\n\r\n\tpublic InfiniteScrollBg(float width, float height) {\r\n\t\tsetWidth(width);\r\n\t\tsetHeight(height);\r\n\t\tsetPosition(width, 0);\r\n                addAction(forever(sequence(moveTo(0, 0, 1f), moveTo(width, 0))));\r\n\t}\r\n\r\n\tpublic void draw(SpriteBatch batch, float parentAlpha) {\r\n\t\tsuper.draw(batch, parentAlpha);\r\n\r\n\t\tbatch.draw(road, getX() - getWidth(), getY(), getWidth() * 2, getHeight());\r\n\t}\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nchanged InfiniteScrollBg.draw() parameters: \r\nfrom\r\nbatch.draw(road, getX() - getWidth(), getY(), getWidth() * 2, getHeight()); \r\nto\r\nbatch.draw(road, 0, getY(), getWidth() * 2, getHeight());\r\n\r\nor moving stage.camera to (0, 0) \r\n\r\nor anything I try not solving problem...","title":"Using libGdx, nothing is shown after calling stage.draw() which stage has extendViewport","body":"<p>game screen is:</p>\n<pre><code>public class GameScreen implements Screen {\n    final Test1 game;\n    \n    private Stage stage;\n    private TrafficGame trafficGame;\n    \n    public GameScreen(Test1 _game) {\n        game = _game;\n        stage = new Stage(new ExtendViewport(800, 480));\n\n        trafficGame = new TrafficGame();\n        stage.addActor(trafficGame);\n        \n    }\n\n        public void render(float delta) {\n        Gdx.gl.glClearColor(255, 255, 255, 1);\n        Gdx.gl.glClear(GL20.GL_COLOR_BUFFER_BIT);\n        \n        // calls TrafficGame actor act/draw method\n        stage.act(delta);\n        stage.draw();\n    }\n</code></pre>\n<p>and TrafficGame which has main logic:</p>\n<pre><code>public class TrafficGame extends Table {\n    private InfiniteScrollBg backgroundRoad;\n    \n    public TrafficGame() {\n        setBounds(0, 0, 800, 480);\n        backgroundRoad = new InfiniteScrollBg(getWidth(), getHeight());\n        addActor(backgroundRoad);\n    }\n    \n    public void act(float delta) {\n        super.act(delta);\n    }\n\n    public void draw(SpriteBatch batch, float parentAlpha) {\n        batch.setColor(Color.WHITE);\n        super.draw(batch, parentAlpha);\n    }   \n\n}\n</code></pre>\n<p>and InfiniteScrollBg which is actor drawing scrolling road:</p>\n<pre><code>\npublic class InfiniteScrollBg extends Actor {\n    private static Texture road;\n    \n    {\n        road = new Texture(Gdx.files.internal(&quot;road.png&quot;));\n    }\n\n    public InfiniteScrollBg(float width, float height) {\n        setWidth(width);\n        setHeight(height);\n        setPosition(width, 0);\n                addAction(forever(sequence(moveTo(0, 0, 1f), moveTo(width, 0))));\n    }\n\n    public void draw(SpriteBatch batch, float parentAlpha) {\n        super.draw(batch, parentAlpha);\n\n        batch.draw(road, getX() - getWidth(), getY(), getWidth() * 2, getHeight());\n    }\n}\n</code></pre>\n<p>changed InfiniteScrollBg.draw() parameters:\nfrom\nbatch.draw(road, getX() - getWidth(), getY(), getWidth() * 2, getHeight());\nto\nbatch.draw(road, 0, getY(), getWidth() * 2, getHeight());</p>\n<p>or moving stage.camera to (0, 0)</p>\n<p>or anything I try not solving problem...</p>\n"},{"tags":["java","centos","centos7"],"comments":[{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1538480745,"post_id":52606848,"comment_id":92149317,"body_markdown":"Umm ... am I missing something?  Can&#39;t you just get your script to run `alternatives --config java` if you want the user to choose, or `alternative --set java &lt;path&gt;`?","body":"Umm ... am I missing something?  Can&#39;t you just get your script to run <code>alternatives --config java</code> if you want the user to choose, or <code>alternative --set java &lt;path&gt;</code>?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1538480807,"post_id":52606848,"comment_id":92149352,"body_markdown":"Anyhow, this shouldn&#39;t be tagged with `java` since it is entirely about wrangling the `alternatives` command.","body":"Anyhow, this shouldn&#39;t be tagged with <code>java</code> since it is entirely about wrangling the <code>alternatives</code> command."},{"owner":{"account_id":12037779,"reputation":121,"user_id":8805730,"display_name":"UnRealCloud"},"score":0,"creation_date":1538481127,"post_id":52606848,"comment_id":92149491,"body_markdown":"I don&#39;t run run `alternatives --config java`, because it requires user input .You can use   `alternatives --set &lt;name&gt; &lt;path&gt;`","body":"I don&#39;t run run <code>alternatives --config java</code>, because it requires user input .You can use   <code>alternatives --set &lt;name&gt; &lt;path&gt;</code>"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1538481649,"post_id":52606848,"comment_id":92149789,"body_markdown":"Correct.  So what is your question?","body":"Correct.  So what is your question?"},{"owner":{"account_id":12037779,"reputation":121,"user_id":8805730,"display_name":"UnRealCloud"},"score":0,"creation_date":1538481706,"post_id":52606848,"comment_id":92149821,"body_markdown":"I don&#39;t want an user to choose which version, I want launch a script who require a specific version of openjdk, so I want to know if an alternative exits for this version. I need to get what usually you get with the command `alternatives --list java `, but for some reasons doesn&#39;t work here .","body":"I don&#39;t want an user to choose which version, I want launch a script who require a specific version of openjdk, so I want to know if an alternative exits for this version. I need to get what usually you get with the command <code>alternatives --list java </code>, but for some reasons doesn&#39;t work here ."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1538481740,"post_id":52606848,"comment_id":92149846,"body_markdown":"If you want your script to **use** a specific version of Java, you don&#39;t use &quot;alternatives&quot;.  You simply add the path to the required version to the script&#39;s $PATH ... or use an absolute pathname.  And there are various symlinks to help you do this.","body":"If you want your script to <b>use</b> a specific version of Java, you don&#39;t use &quot;alternatives&quot;.  You simply add the path to the required version to the script&#39;s $PATH ... or use an absolute pathname.  And there are various symlinks to help you do this."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1538482094,"post_id":52606848,"comment_id":92150041,"body_markdown":"Sorry ... but alternatives is not smart enough to do this kind of thing.  You are better off just using your knowledge of how the *standard* openjdk symlinks work for your OS platform.","body":"Sorry ... but alternatives is not smart enough to do this kind of thing.  You are better off just using your knowledge of how the <i>standard</i> openjdk symlinks work for your OS platform."},{"owner":{"account_id":12037779,"reputation":121,"user_id":8805730,"display_name":"UnRealCloud"},"score":0,"creation_date":1538482658,"post_id":52606848,"comment_id":92150333,"body_markdown":"Ok, that&#39;s clearer, thank you; But do you have an idea why `alternatives --list `doesn&#39;t work?","body":"Ok, that&#39;s clearer, thank you; But do you have an idea why <code>alternatives --list </code>doesn&#39;t work?"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1538483739,"post_id":52606848,"comment_id":92150901,"body_markdown":"Because it doesn&#39;t.  The `--list` option is designed to list all link groups and what they are currently configured to.  It don&#39;t take a `&lt;name&gt;` argument.  Like the `--help`  output and the manual entry both say.","body":"Because it doesn&#39;t.  The <code>--list</code> option is designed to list all link groups and what they are currently configured to.  It don&#39;t take a <code>&lt;name&gt;</code> argument.  Like the <code>--help</code>  output and the manual entry both say."},{"owner":{"account_id":12037779,"reputation":121,"user_id":8805730,"display_name":"UnRealCloud"},"score":0,"creation_date":1538486130,"post_id":52606848,"comment_id":92152356,"body_markdown":"But in the synopsis there is alternatives [options] --list name, this is what fooled me","body":"But in the synopsis there is alternatives [options] --list name, this is what fooled me"},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":1,"creation_date":1538486782,"post_id":52606848,"comment_id":92152774,"body_markdown":"True.  That&#39;s a documentation bug.","body":"True.  That&#39;s a documentation bug."},{"owner":{"account_id":12037779,"reputation":121,"user_id":8805730,"display_name":"UnRealCloud"},"score":0,"creation_date":1538486995,"post_id":52606848,"comment_id":92152949,"body_markdown":"Ok, well thank you very much for your time given, I&#39;hv learn a lot, it&#39;s a great day !","body":"Ok, well thank you very much for your time given, I&#39;hv learn a lot, it&#39;s a great day !"}],"answers":[{"tags":[],"owner":{"account_id":12037779,"reputation":121,"user_id":8805730,"display_name":"UnRealCloud"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1538488698,"creation_date":1538487120,"answer_id":52609444,"question_id":52606848,"body_markdown":"It appears than the option --list doesn&#39;t take arguments, it&#39;s a bug in the manual synopsis.Moreover for manage my java versions I should try env variables.\r\n\r\n(The bug has been reported as https://github.com/fedora-sysv/chkconfig/issues/11)","title":"Centos 7 how get alternatives list for java","body":"<p>It appears than the option --list doesn't take arguments, it's a bug in the manual synopsis.Moreover for manage my java versions I should try env variables.</p>\n\n<p>(The bug has been reported as <a href=\"https://github.com/fedora-sysv/chkconfig/issues/11\" rel=\"nofollow noreferrer\">https://github.com/fedora-sysv/chkconfig/issues/11</a>)</p>\n"},{"tags":[],"owner":{"account_id":17979782,"reputation":51,"user_id":16341201,"display_name":"Rameez Sheraz"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661475637,"creation_date":1661174643,"answer_id":73445871,"question_id":52606848,"body_markdown":"Use this command `alternatives --list` to get available versions on cli.\r\n\r\n    [root@88a15b43eab2 /]# alternatives --list\r\n    ld\tauto\t/usr/bin/ld.bfd\r\n    libnssckbi.so.x86_64\tauto\t/usr/lib64/pkcs11/p11-kit-trust.so\r\n    jre_openjdk\tauto\t/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.342.b07-1.el7_9.x86_64/jre\r\n    java\tauto\t/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.342.b07-1.el7_9.x86_64/jre/bin/java\r\n    jre_1.8.0_openjdk\tauto\t/usr/lib/jvm/jre-1.8.0-openjdk-1.8.0.342.b07-1.el7_9.x86_64\r\n    jre_1.8.0\tauto\t/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.342.b07-1.el7_9.x86_64/jre","title":"Centos 7 how get alternatives list for java","body":"<p>Use this command <code>alternatives --list</code> to get available versions on cli.</p>\n<pre><code>[root@88a15b43eab2 /]# alternatives --list\nld  auto    /usr/bin/ld.bfd\nlibnssckbi.so.x86_64    auto    /usr/lib64/pkcs11/p11-kit-trust.so\njre_openjdk auto    /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.342.b07-1.el7_9.x86_64/jre\njava    auto    /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.342.b07-1.el7_9.x86_64/jre/bin/java\njre_1.8.0_openjdk   auto    /usr/lib/jvm/jre-1.8.0-openjdk-1.8.0.342.b07-1.el7_9.x86_64\njre_1.8.0   auto    /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.342.b07-1.el7_9.x86_64/jre\n</code></pre>\n"}],"owner":{"account_id":12037779,"reputation":121,"user_id":8805730,"display_name":"UnRealCloud"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23343,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":52609444,"answer_count":2,"score":5,"last_activity_date":1696583866,"creation_date":1538477286,"question_id":52606848,"body_markdown":"I would like to get the list of all alternatives for java versions, choose one and set it in a script, but option --list doesn&#39;t work as expected:\r\n\r\n\r\n\r\n    alternatives --list java\r\n    alternatives version 1.7.4 - Copyright (C) 2001 Red Hat, Inc.\r\n    This may be freely redistributed under the terms of the GNU Public License.\r\n    \r\n    usage: alternatives --install &lt;link&gt; &lt;name&gt; &lt;path&gt; &lt;priority&gt;\r\n                        [--initscript &lt;service&gt;]\r\n                        [--family &lt;family&gt;]\r\n                        [--slave &lt;link&gt; &lt;name&gt; &lt;path&gt;]*\r\n           alternatives --remove &lt;name&gt; &lt;path&gt;\r\n           alternatives --auto &lt;name&gt;\r\n           alternatives --config &lt;name&gt;\r\n           alternatives --display &lt;name&gt;\r\n           alternatives --set &lt;name&gt; &lt;path&gt;\r\n           alternatives --list\r\n    common options: --verbose --test --help --usage --version --keep-missing\r\n                    --altdir &lt;directory&gt; --admindir &lt;directory&gt;\r\n\r\n\r\nFor the moment I create my own list with `/etc/alternatives`, but I&#39;m not satisfied. How can I get a list like :\r\n\r\n\r\n\r\n\r\n    # alternatives --config java\r\n    \r\n    There are 2 programs which provide &#39;java&#39;.\r\n    \r\n      Selection    Command\r\n    -----------------------------------------------\r\n     + 1           java-1.7.0-openjdk.x86_64 (/usr/lib/jvm/java-1.7.0-openjdk-1.7.0.191-2.6.15.4.el7_5.x86_64/jre/bin/java)\r\n    *  2           java-1.8.0-openjdk.x86_64 (/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.181-3.b13.el7_5.x86_64/jre/bin/java)\r\n\r\n\r\n","title":"Centos 7 how get alternatives list for java","body":"<p>I would like to get the list of all alternatives for java versions, choose one and set it in a script, but option --list doesn't work as expected:</p>\n<pre><code>alternatives --list java\nalternatives version 1.7.4 - Copyright (C) 2001 Red Hat, Inc.\nThis may be freely redistributed under the terms of the GNU Public License.\n\nusage: alternatives --install &lt;link&gt; &lt;name&gt; &lt;path&gt; &lt;priority&gt;\n                    [--initscript &lt;service&gt;]\n                    [--family &lt;family&gt;]\n                    [--slave &lt;link&gt; &lt;name&gt; &lt;path&gt;]*\n       alternatives --remove &lt;name&gt; &lt;path&gt;\n       alternatives --auto &lt;name&gt;\n       alternatives --config &lt;name&gt;\n       alternatives --display &lt;name&gt;\n       alternatives --set &lt;name&gt; &lt;path&gt;\n       alternatives --list\ncommon options: --verbose --test --help --usage --version --keep-missing\n                --altdir &lt;directory&gt; --admindir &lt;directory&gt;\n</code></pre>\n<p>For the moment I create my own list with <code>/etc/alternatives</code>, but I'm not satisfied. How can I get a list like :</p>\n<pre><code># alternatives --config java\n\nThere are 2 programs which provide 'java'.\n\n  Selection    Command\n-----------------------------------------------\n + 1           java-1.7.0-openjdk.x86_64 (/usr/lib/jvm/java-1.7.0-openjdk-1.7.0.191-2.6.15.4.el7_5.x86_64/jre/bin/java)\n*  2           java-1.8.0-openjdk.x86_64 (/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.181-3.b13.el7_5.x86_64/jre/bin/java)\n</code></pre>\n"},{"tags":["java","spring-boot","jackson","lombok"],"comments":[{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":2,"creation_date":1696582850,"post_id":77243089,"comment_id":136174548,"body_markdown":"Java doesn&#39;t work that way. If you have declared a field but you haven&#39;t assigned any value, then it is `null` by default, provided it is non-primitive.","body":"Java doesn&#39;t work that way. If you have declared a field but you haven&#39;t assigned any value, then it is <code>null</code> by default, provided it is non-primitive."},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1696583283,"post_id":77243089,"comment_id":136174611,"body_markdown":"What exactly did you think would happen? your jvm would (on runtime) create a new DataType with only the variables you provided?","body":"What exactly did you think would happen? your jvm would (on runtime) create a new DataType with only the variables you provided?"}],"answers":[{"tags":[],"owner":{"account_id":10298429,"reputation":307,"user_id":9311987,"display_name":"user699848"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696583547,"creation_date":1696583547,"answer_id":77243203,"question_id":77243089,"body_markdown":"No that is not possible. \r\nWhen an object of data type is created, all the properties in that datatype can either have a value or, it will be null. Property wont disaapear.","title":"Ignore null value when using lombok superbuilder","body":"<p>No that is not possible.\nWhen an object of data type is created, all the properties in that datatype can either have a value or, it will be null. Property wont disaapear.</p>\n"},{"tags":[],"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1696583605,"creation_date":1696583605,"answer_id":77243211,"question_id":77243089,"body_markdown":"As others have explained in the comments, you can&#39;t omit the field from the object at all. That&#39;s just not how Java works.\r\n\r\nIf you want to omit it from the `toString` only, you can do that by manually writing your own `toString` implementation. It&#39;s [not a feature of Lombok&#39;s @ToString](https://stackoverflow.com/q/54604701/8681).","title":"Ignore null value when using lombok superbuilder","body":"<p>As others have explained in the comments, you can't omit the field from the object at all. That's just not how Java works.</p>\n<p>If you want to omit it from the <code>toString</code> only, you can do that by manually writing your own <code>toString</code> implementation. It's <a href=\"https://stackoverflow.com/q/54604701/8681\">not a feature of Lombok's @ToString</a>.</p>\n"}],"owner":{"account_id":4147580,"reputation":523,"user_id":3400871,"accept_rate":50,"display_name":"Clueless_Coder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":101,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1696583605,"creation_date":1696582293,"question_id":77243089,"body_markdown":"I have a situation using Lombok SuperBuilder to create a constructor for my class\r\nIs there anyway I can create an object using builder without it creating a null value?\r\n\r\n\r\n    @Data\r\n    @SuperBuilder\r\n    public class Student {\r\n        private String name;\r\n        private String email;\r\n        private String DOB;\r\n    }\r\n\r\n\r\n    StudentReq.builder()\r\n       .name(name)\r\n       .DOB(DOB)\r\n       .build()\r\n\r\nThe result should be StudentReq(name=John, DOB=19051995) but I am getting StudentReq(name=John, email=null, DOB=19051995)\r\n\r\n","title":"Ignore null value when using lombok superbuilder","body":"<p>I have a situation using Lombok SuperBuilder to create a constructor for my class\nIs there anyway I can create an object using builder without it creating a null value?</p>\n<pre><code>@Data\n@SuperBuilder\npublic class Student {\n    private String name;\n    private String email;\n    private String DOB;\n}\n\n\nStudentReq.builder()\n   .name(name)\n   .DOB(DOB)\n   .build()\n</code></pre>\n<p>The result should be StudentReq(name=John, DOB=19051995) but I am getting StudentReq(name=John, email=null, DOB=19051995)</p>\n"},{"tags":["java","scala","apache-spark","intellij-idea"],"comments":[{"owner":{"account_id":1450311,"reputation":23602,"user_id":1367454,"display_name":"eshirvana"},"score":1,"creation_date":1696534933,"post_id":77240066,"comment_id":136169332,"body_markdown":"provide your code as well.","body":"provide your code as well."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696545436,"post_id":77240066,"comment_id":136170823,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"comments":[{"owner":{"account_id":24862511,"reputation":1,"user_id":18738071,"display_name":"Ahed Hamad"},"score":0,"creation_date":1696714674,"post_id":77243113,"comment_id":136189444,"body_markdown":"still the same problem after installing jdk-17 what can I do?","body":"still the same problem after installing jdk-17 what can I do?"},{"owner":{"account_id":1017255,"reputation":1526,"user_id":1028537,"display_name":"Chris"},"score":0,"creation_date":1696839560,"post_id":77243113,"comment_id":136199374,"body_markdown":"if possible downgrade to 11 or 8, otherwise: https://stackoverflow.com/a/73504175/1028537 is the only way to work around the module system","body":"if possible downgrade to 11 or 8, otherwise: <a href=\"https://stackoverflow.com/a/73504175/1028537\">stackoverflow.com/a/73504175/1028537</a> is the only way to work around the module system"}],"tags":[],"owner":{"account_id":1017255,"reputation":1526,"user_id":1028537,"display_name":"Chris"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696582602,"creation_date":1696582602,"answer_id":77243113,"question_id":77240066,"body_markdown":"Per https://spark.apache.org/docs/latest/ jdk-19 is not a supported jdk version:\r\n\r\n&gt; Spark runs on Java 8/11/17, Scala 2.12/2.13, Python 3.8+, and R 3.5+. Java 8 prior to version 8u371 support is deprecated as of Spark 3.5.0. \r\n\r\n ","title":"Spark RDD ADI&#39;s using scala programing intelliJ","body":"<p>Per <a href=\"https://spark.apache.org/docs/latest/\" rel=\"nofollow noreferrer\">https://spark.apache.org/docs/latest/</a> jdk-19 is not a supported jdk version:</p>\n<blockquote>\n<p>Spark runs on Java 8/11/17, Scala 2.12/2.13, Python 3.8+, and R 3.5+. Java 8 prior to version 8u371 support is deprecated as of Spark 3.5.0.</p>\n</blockquote>\n"}],"owner":{"account_id":24862511,"reputation":1,"user_id":18738071,"display_name":"Ahed Hamad"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1696582602,"creation_date":1696534246,"question_id":77240066,"body_markdown":"I want to create a Spark API program using Scala, and when adding the Spark context, this exception appears.&quot;\r\n\r\nI have:\r\n- spark version 3.5.0\r\n- scala version 2.12.18\r\n- jdk-19\r\n\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.IllegalAccessError: class org.apache.spark.storage.StorageUtils$ (in unnamed module @0x47542153) cannot access class sun.nio.ch.DirectBuffer (in module java.base) because module java.base does not export sun.nio.ch to unnamed module @0x47542153\r\n\tat org.apache.spark.storage.StorageUtils$.&lt;clinit&gt;(StorageUtils.scala:213)\r\n\tat org.apache.spark.storage.BlockManagerMasterEndpoint.&lt;init&gt;(BlockManagerMasterEndpoint.scala:121)\r\n\tat org.apache.spark.SparkEnv$.$anonfun$create$9(SparkEnv.scala:358)\r\n\tat org.apache.spark.SparkEnv$.registerOrLookupEndpoint$1(SparkEnv.scala:295)\r\n\tat org.apache.spark.SparkEnv$.create(SparkEnv.scala:344)\r\n\tat org.apache.spark.SparkEnv$.createDriverEnv(SparkEnv.scala:196)\r\n\tat org.apache.spark.SparkContext.createSparkEnv(SparkContext.scala:284)\r\n\tat org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:483)\r\n\tat ReadCSVFile$.main(ReadCSVFile.scala:15)\r\n\tat ReadCSVFile.main(ReadCSVFile.scala)\r\n```","title":"Spark RDD ADI&#39;s using scala programing intelliJ","body":"<p>I want to create a Spark API program using Scala, and when adding the Spark context, this exception appears.&quot;</p>\n<p>I have:</p>\n<ul>\n<li>spark version 3.5.0</li>\n<li>scala version 2.12.18</li>\n<li>jdk-19</li>\n</ul>\n<pre><code>Exception in thread &quot;main&quot; java.lang.IllegalAccessError: class org.apache.spark.storage.StorageUtils$ (in unnamed module @0x47542153) cannot access class sun.nio.ch.DirectBuffer (in module java.base) because module java.base does not export sun.nio.ch to unnamed module @0x47542153\n    at org.apache.spark.storage.StorageUtils$.&lt;clinit&gt;(StorageUtils.scala:213)\n    at org.apache.spark.storage.BlockManagerMasterEndpoint.&lt;init&gt;(BlockManagerMasterEndpoint.scala:121)\n    at org.apache.spark.SparkEnv$.$anonfun$create$9(SparkEnv.scala:358)\n    at org.apache.spark.SparkEnv$.registerOrLookupEndpoint$1(SparkEnv.scala:295)\n    at org.apache.spark.SparkEnv$.create(SparkEnv.scala:344)\n    at org.apache.spark.SparkEnv$.createDriverEnv(SparkEnv.scala:196)\n    at org.apache.spark.SparkContext.createSparkEnv(SparkContext.scala:284)\n    at org.apache.spark.SparkContext.&lt;init&gt;(SparkContext.scala:483)\n    at ReadCSVFile$.main(ReadCSVFile.scala:15)\n    at ReadCSVFile.main(ReadCSVFile.scala)\n</code></pre>\n"},{"tags":["java","openid-connect","pac4j"],"answers":[{"comments":[{"owner":{"account_id":22418943,"reputation":39,"user_id":16626558,"display_name":"Impatient Hippo"},"score":0,"creation_date":1696834799,"post_id":77243084,"comment_id":136198610,"body_markdown":"Now I am completely at a loss. I do set client.setName and also set the client_name in the Google Auth0 API Console as you suggested. And everything works if I use the client name &quot;GoogleOidcClient&quot; but not when using &quot;MyAuthTest&quot;. In the latter case I do not even reach the Login Page of Google.","body":"Now I am completely at a loss. I do set client.setName and also set the client_name in the Google Auth0 API Console as you suggested. And everything works if I use the client name &quot;GoogleOidcClient&quot; but not when using &quot;MyAuthTest&quot;. In the latter case I do not even reach the Login Page of Google."},{"owner":{"account_id":22418943,"reputation":39,"user_id":16626558,"display_name":"Impatient Hippo"},"score":0,"creation_date":1696835259,"post_id":77243084,"comment_id":136198686,"body_markdown":"By the way, what is the rationale of setName() being part of the client object instead of the configuration object?","body":"By the way, what is the rationale of setName() being part of the client object instead of the configuration object?"},{"owner":{"account_id":1608505,"reputation":2459,"user_id":1488073,"display_name":"jleleu"},"score":0,"creation_date":1696917801,"post_id":77243084,"comment_id":136210350,"body_markdown":"`setName()` is useful as you may have several SAML or OIDC clients for example. Do you see the new name (&quot;MyAuthTest&quot;) in the logs?","body":"<code>setName()</code> is useful as you may have several SAML or OIDC clients for example. Do you see the new name (&quot;MyAuthTest&quot;) in the logs?"},{"owner":{"account_id":22418943,"reputation":39,"user_id":16626558,"display_name":"Impatient Hippo"},"score":0,"creation_date":1697193907,"post_id":77243084,"comment_id":136252255,"body_markdown":"My problem was that the name has also to be set inside the web.xml (not only in the DemoConfigFactory). Now it works, thank you!","body":"My problem was that the name has also to be set inside the web.xml (not only in the DemoConfigFactory). Now it works, thank you!"}],"tags":[],"owner":{"account_id":1608505,"reputation":2459,"user_id":1488073,"display_name":"jleleu"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1696582226,"creation_date":1696582226,"answer_id":77243084,"question_id":77242876,"body_markdown":"To change the name of a client, `client.setName(&quot;xxx&quot;);` is the appropriate thing to do.\r\n\r\nSometimes, depending on the provider, there might be an issue with the fact that the client name is a request parameter. You can apply the client name on the path if need be: https://www.pac4j.org/5.7.x/docs/clients.html#3-the-callback-url","title":"How to change the name of the OIDC Client in pac4j","body":"<p>To change the name of a client, <code>client.setName(&quot;xxx&quot;);</code> is the appropriate thing to do.</p>\n<p>Sometimes, depending on the provider, there might be an issue with the fact that the client name is a request parameter. You can apply the client name on the path if need be: <a href=\"https://www.pac4j.org/5.7.x/docs/clients.html#3-the-callback-url\" rel=\"nofollow noreferrer\">https://www.pac4j.org/5.7.x/docs/clients.html#3-the-callback-url</a></p>\n"}],"owner":{"account_id":22418943,"reputation":39,"user_id":16626558,"display_name":"Impatient Hippo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77243084,"answer_count":1,"score":0,"last_activity_date":1696582226,"creation_date":1696580060,"question_id":77242876,"body_markdown":"I am experimenting with the pac4j in order to add OIDC to\r\na webapp. I started with the jee-pac4j-demo app.\r\n\r\nFrom there I intend to go to a different OIDC Client.\r\n\r\n* I was also able to switch the Client to another OAuth2.0-Client-ID inside the Google Cloud. (Just by setting different Credentials)\r\n\r\n* I got the GoogleOidcClient working with a public hostname/ip. (Had to set the base_url of the context in some places).\r\n\r\n* However, I am not able to change the *name* of the Client.\r\n\r\nI changed\r\n* the Name of the ID inside the Google Cloud Console\r\n  from GoogleOidClient to Auth-Test\r\n* and also client_name parameter in the callback URL accordingly\r\n\r\nI got a malformed_url error from Google.\r\n\r\n* then I also added `oidcClient.setName(&quot;Auth-Test&quot;)` to the factory.\r\n\r\nThen I just get an &quot;unauthorized&quot;. \r\n\r\nIs GoogleOidcClient not supposed to be tampered with? \r\n\r\nIs setName the wrong approach?\r\n\r\nIs there a tutorial on how to add a &quot;random&quot; OIDC Client to the pac4j configuration?\r\n\r\nWhy does the logging still refer to localhost:8080?\r\n\r\n```\r\nJEE PAC4J DEMO 09:55:45.735 [http-nio-8080-exec-52] DEBUG o.p.core.engine.DefaultSecurityLogic - url: http://localhost:8080/jee-pac4j-demo/oidc/index.jsp\r\nJEE PAC4J DEMO 09:55:45.735 [http-nio-8080-exec-52] DEBUG o.p.core.engine.DefaultSecurityLogic - clients: GoogleOidcClient | matchers: null\r\nJEE PAC4J DEMO 09:55:45.735 [http-nio-8080-exec-52] DEBUG o.p.core.engine.DefaultSecurityLogic - currentClients: []\r\nJEE PAC4J DEMO 09:55:45.735 [http-nio-8080-exec-52] DEBUG o.p.core.engine.DefaultSecurityLogic - Loaded profiles (from session: true): []\r\nJEE PAC4J DEMO 09:55:45.735 [http-nio-8080-exec-52] DEBUG o.p.core.engine.DefaultSecurityLogic - unauthorized\r\n```","title":"How to change the name of the OIDC Client in pac4j","body":"<p>I am experimenting with the pac4j in order to add OIDC to\na webapp. I started with the jee-pac4j-demo app.</p>\n<p>From there I intend to go to a different OIDC Client.</p>\n<ul>\n<li><p>I was also able to switch the Client to another OAuth2.0-Client-ID inside the Google Cloud. (Just by setting different Credentials)</p>\n</li>\n<li><p>I got the GoogleOidcClient working with a public hostname/ip. (Had to set the base_url of the context in some places).</p>\n</li>\n<li><p>However, I am not able to change the <em>name</em> of the Client.</p>\n</li>\n</ul>\n<p>I changed</p>\n<ul>\n<li>the Name of the ID inside the Google Cloud Console\nfrom GoogleOidClient to Auth-Test</li>\n<li>and also client_name parameter in the callback URL accordingly</li>\n</ul>\n<p>I got a malformed_url error from Google.</p>\n<ul>\n<li>then I also added <code>oidcClient.setName(&quot;Auth-Test&quot;)</code> to the factory.</li>\n</ul>\n<p>Then I just get an &quot;unauthorized&quot;.</p>\n<p>Is GoogleOidcClient not supposed to be tampered with?</p>\n<p>Is setName the wrong approach?</p>\n<p>Is there a tutorial on how to add a &quot;random&quot; OIDC Client to the pac4j configuration?</p>\n<p>Why does the logging still refer to localhost:8080?</p>\n<pre><code>JEE PAC4J DEMO 09:55:45.735 [http-nio-8080-exec-52] DEBUG o.p.core.engine.DefaultSecurityLogic - url: http://localhost:8080/jee-pac4j-demo/oidc/index.jsp\nJEE PAC4J DEMO 09:55:45.735 [http-nio-8080-exec-52] DEBUG o.p.core.engine.DefaultSecurityLogic - clients: GoogleOidcClient | matchers: null\nJEE PAC4J DEMO 09:55:45.735 [http-nio-8080-exec-52] DEBUG o.p.core.engine.DefaultSecurityLogic - currentClients: []\nJEE PAC4J DEMO 09:55:45.735 [http-nio-8080-exec-52] DEBUG o.p.core.engine.DefaultSecurityLogic - Loaded profiles (from session: true): []\nJEE PAC4J DEMO 09:55:45.735 [http-nio-8080-exec-52] DEBUG o.p.core.engine.DefaultSecurityLogic - unauthorized\n</code></pre>\n"},{"tags":["java","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":6875395,"reputation":1037,"user_id":5284011,"display_name":"JohnXF"},"score":0,"creation_date":1676652259,"post_id":75486817,"comment_id":133186789,"body_markdown":"Find out what URL is being sent to the server - I would guess perhaps the {id} element in the request is not a valid number. Check logs on the server and/or the browser debugger to see the URL.","body":"Find out what URL is being sent to the server - I would guess perhaps the {id} element in the request is not a valid number. Check logs on the server and/or the browser debugger to see the URL."}],"answers":[{"tags":[],"owner":{"account_id":16317937,"reputation":229,"user_id":11784490,"display_name":"Donnie"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696582200,"creation_date":1696582200,"answer_id":77243082,"question_id":75486817,"body_markdown":"I faced similar issue. It turns out there is a Service that implements Convert&lt;String, String&gt; (so it will be Convert&lt;Integer, Integer&gt; for your case); which is used not other purpose, not for spring-web, but it got picked up anyway. So I remove the &lt;code&gt;implements Convert&lt;String, String&gt;&lt;/code&gt; on the Converter bean, then it works.","title":"&#39;Required request parameter &#39;id&#39; for method parameter type Integer is present but converted to null&#39;","body":"<p>I faced similar issue. It turns out there is a Service that implements Convert&lt;String, String&gt; (so it will be Convert&lt;Integer, Integer&gt; for your case); which is used not other purpose, not for spring-web, but it got picked up anyway. So I remove the <code>implements Convert&lt;String, String&gt;</code> on the Converter bean, then it works.</p>\n"}],"owner":{"account_id":22711769,"reputation":11,"user_id":16877633,"display_name":"funeral of tech"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":962,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696582200,"creation_date":1676650987,"question_id":75486817,"body_markdown":"I&#39;m creating todo-app with spring-boot. \r\nAfter adding a task, once I enter a check on checkbox provided next to each todo and then click the done-button, the error  occurs.**&#39;Required request parameter &#39;id&#39; for method parameter type Integer is present but converted to null&#39;** has occurs.\r\n\r\nbelow is codes.\r\n\r\n----------\r\nTodo.java\r\n\r\n    @Entity\r\n    @Data\r\n    @Table(name = &quot;todos&quot;)\r\n    public class Todo {\r\n    @Id\r\n    @Nullable\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @Nullable\r\n    @Column(name = &quot;user_id&quot;, nullable = false)\r\n    private Integer userId;\r\n\r\n    @NotNull\r\n    @NotBlank\r\n    @Column(name = &quot;title&quot;)\r\n    private String title;\r\n\r\n    @NotNull\r\n    @NotBlank\r\n    @Column(name = &quot;description&quot;)\r\n    private String description;\r\n\r\n    @NotNull\r\n    @NotBlank\r\n    @Column(name = &quot;due_date&quot;)\r\n    private String dueDate;\r\n\r\n    @Column(name = &quot;priority&quot;)\r\n    private Integer priority;\r\n\r\n    @NotNull\r\n    @Column(name = &quot;is_completed&quot;)\r\n    private Boolean isCompleted = false;\r\n\r\n    public Todo() {\r\n\r\n    }\r\n\r\n    public Todo(Integer userId, String title, String description, String dueDate, Integer priority, Boolean isCompleted) {\r\n        this.userId = userId;\r\n        this.title = title;\r\n        this.description = description;\r\n        this.dueDate = dueDate;\r\n        this.priority = priority;\r\n        this.isCompleted = isCompleted;\r\n    }\r\n    }\r\n\r\n----------\r\nTodoController.java\r\n\r\n    @Controller\r\n    public class TodoController {\r\n\r\n    @Autowired\r\n    TodoRepository todoRepository;\r\n\r\n    @Autowired\r\n    TodoService todoService;\r\n\r\n    @GetMapping(&quot;/todo/{id}&quot;)\r\n    public String home(Model model, User user, Todo todo, @PathVariable(&quot;id&quot;)Integer id) {\r\n\r\n        Integer userId = user.getId();\r\n        if(userId == null) {\r\n            return &quot;redirect:/todo/{id}&quot;;\r\n        }\r\n       \r\n        List&lt;Todo&gt; list = todoRepository.find(userId);\r\n        model.addAttribute(&quot;list&quot;, list);\r\n        model.addAttribute(&quot;todo&quot;, new Todo(user.getId(), todo.getTitle(), todo.getDescription(), todo.getDueDate(), todo.getPriority(), todo.getIsCompleted()));\r\n        return &quot;home&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/todo/{id}&quot;)\r\n    public String createTodo(@Validated Todo todo,BindingResult result, User user) {\r\n        if(result.hasErrors()){\r\n            return &quot;redirect:/todo/{id}&quot;;\r\n        }\r\n\r\n        Todo userTodo = new Todo(user.getId(), todo.getTitle(), todo.getDescription(), todo.getDueDate(), todo.getPriority(), todo.getIsCompleted());\r\n        todoService.addTodo(userTodo);\r\n        return &quot;redirect:/todo/{id}&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/todo/update/{id}&quot;)\r\n    public String doneTodo(@RequestParam(name=&quot;id&quot;)Integer todoId) {\r\n        Todo updateTodo = todoService.findById(todoId);\r\n        updateTodo.setIsCompleted(true);\r\n        todoService.addTodo(updateTodo);\r\n        return &quot;redirect:/todo/{id}&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/todo/edit/{id}&quot;)\r\n    public String editTodo() {\r\n        System.out.println(&quot;edit&quot;);\r\n        return &quot;redirect:/todo/{id}&quot;;\r\n    }\r\n    }\r\n\r\n----------\r\nTodoService.java\r\n\r\n    @Service\r\n    public class TodoService {\r\n    @Autowired\r\n    TodoRepository todoRepository;\r\n\r\n    public List&lt;Todo&gt; searchAll() {\r\n        return todoRepository.findAll();\r\n    }\r\n\r\n    public void addTodo(Todo todo) {\r\n        todoRepository.save(todo);\r\n    }\r\n\r\n    public Todo findById(Integer id) {\r\n        Optional&lt;Todo&gt; updateTodo = todoRepository.findById(id);\r\n        return updateTodo.orElseGet(updateTodo::get);\r\n    }\r\n    }\r\n\r\n----------\r\nhome.html\r\n\r\n    &lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot; xmlns=&quot;http://www.w3.org/1999/html&quot;&gt;\r\n    &lt;head&gt;\r\n    &lt;meta charset=&quot;UTF-8&quot;&gt;\r\n    &lt;link rel=&quot;stylesheet&quot; href=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css&quot; integrity=&quot;sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T&quot; crossorigin=&quot;anonymous&quot;&gt;\r\n    &lt;link th:href=&quot;@{/css/home.css}&quot; rel=&quot;stylesheet&quot;/&gt;\r\n    &lt;title&gt;Todo&lt;/title&gt;\r\n    &lt;/head&gt;\r\n    &lt;body&gt;\r\n    &lt;h1&gt;Todo&lt;/h1&gt;\r\n    &lt;div&gt;\r\n    &lt;form method=&quot;post&quot; th:action=&quot;@{/todo/}+${id}&quot; th:object=&quot;${todo}&quot;&gt;\r\n        &lt;p th:errors=&quot;*{title}&quot; class=&quot;todo-error-message&quot;&gt;&lt;/p&gt;\r\n        &lt;input th:field=&quot;*{title}&quot; class=&quot;add-input&quot; type=&quot;text&quot; placeholder=&quot;title&quot;&gt;\r\n        &lt;input th:field=&quot;*{description}&quot; class=&quot;add-input&quot; type=&quot;text&quot; placeholder=&quot;details&quot;&gt;\r\n        &lt;input th:field=&quot;*{dueDate}&quot; class=&quot;add-input-third&quot; type=&quot;date&quot;&gt;&lt;br/&gt;\r\n        &lt;div class=&quot;add-form&quot;&gt;\r\n            &lt;span&gt;priority&lt;/span&gt;\r\n            &lt;input th:field=&quot;*{priority}&quot; type=&quot;radio&quot; name=&quot;priority&quot; value=&quot;3&quot; checked&gt;3\r\n            &lt;input th:field=&quot;*{priority}&quot; type=&quot;radio&quot; name=&quot;priority&quot; value=&quot;2&quot;&gt;2\r\n            &lt;input th:field=&quot;*{priority}&quot; type=&quot;radio&quot; name=&quot;priority&quot; value=&quot;1&quot;&gt;1\r\n        &lt;/div&gt;\r\n        &lt;button type=&quot;submit&quot; class=&quot;add-btn&quot;&gt;add&lt;/button&gt;\r\n    &lt;/form&gt;\r\n    &lt;/div&gt;\r\n\r\n    &lt;h2&gt;LIST&lt;/h2&gt;\r\n    &lt;form method=&quot;post&quot; th:action=&quot;@{/todo/edit/}+${id}&quot; th:each=&quot;list:${list}&quot; th:object=&quot;${todo}&quot;&gt;\r\n    &lt;div th:if=&quot;${!todo.isCompleted}&quot;&gt;\r\n    &lt;input type=&quot;checkbox&quot; th:id=&quot;${todo.id}&quot; th:value=&quot;${todo.id}&quot; th:field=&quot;*{isCompleted}&quot; form=&quot;done-todo&quot;&gt;\r\n    &lt;input type=&quot;hidden&quot; name=&quot;userId&quot; th:value=&quot;${list.userId}&quot;&gt;\r\n    &lt;input type=&quot;text&quot; name=&quot;title&quot; th:value=&quot;${list.title}&quot;&gt;\r\n    &lt;input type=&quot;text&quot; name=&quot;description&quot; th:value=&quot;${list.description}&quot;&gt;\r\n    &lt;input type=&quot;date&quot; name=&quot;dueDate&quot; th:value=&quot;${list.dueDate}&quot;&gt;\r\n    &lt;input type=&quot;submit&quot; value=&quot;update&quot;&gt;\r\n    &lt;/div&gt;\r\n    &lt;/form&gt;\r\n    &lt;form method=&quot;post&quot; id=&quot;done-todo&quot; th:action=&quot;@{/todo/update/}+${id}&quot;&gt;\r\n    &lt;input type=&quot;hidden&quot; name=&quot;id&quot; th:value=&quot;${todo.id}&quot;&gt;\r\n    &lt;input type=&quot;submit&quot; value=&quot;done&quot;&gt;\r\n    &lt;/form&gt;\r\n\r\n    &lt;div&gt;\r\n    &lt;button type=&quot;button&quot; class=&quot;btn btn-primary p-3&quot; data-toggle=&quot;collapse&quot; data-target=&quot;#collapseExample&quot; aria-expanded=&quot;false&quot; aria-controls=&quot;collapseExample&quot;&gt;\r\n        show done todos\r\n    &lt;/button&gt;\r\n    &lt;div class=&quot;collapse&quot; id=&quot;collapseExample&quot;&gt;\r\n        &lt;form class=&quot;border p-3&quot; th:action=&quot;@{/todo/delete/}+${id}&quot; th:each=&quot;todo:${todo}&quot;&gt;\r\n            &lt;div th:if=&quot;${todo.isCompleted}&quot;&gt;\r\n                &lt;input type=&quot;text&quot; name=&quot;title&quot; th:value=&quot;${todo.title}&quot;&gt;\r\n                &lt;input type=&quot;submit&quot; value=&quot;delete&quot;&gt;\r\n            &lt;/div&gt;\r\n        &lt;/form&gt;\r\n    &lt;/div&gt;\r\n    &lt;/div&gt;\r\n    &lt;form th:action=&quot;@{/logout}&quot; method=&quot;post&quot;&gt;\r\n    &lt;button class=&quot;logout-button&quot; type=&quot;submit&quot; value=&quot;logout&quot;&gt;logout&lt;/button&gt;\r\n    &lt;/form&gt;\r\n    &lt;script src=&quot;https://code.jquery.com/jquery-3.3.1.slim.min.js&quot; integrity=&quot;sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\r\n&lt;script src=&quot;https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js&quot; integrity=&quot;sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\r\n&lt;script src=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js&quot; integrity=&quot;sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\r\n     &lt;/body&gt;\r\n     &lt;/html&gt;\r\n\r\n----------\r\n\r\n*What I want to do*\r\n1. I aim to change the value of added todo from false to true after entering a check on checkbox provided next to each todo and then click the done-button.\r\n2. I aim to show todos of which value is true.(true means &#39;done&#39;)\r\n\r\nDoes anyone know how to fix this?\r\nI couldn&#39;t find the way to fix this and I’m so badly stuck at this task.\r\n\r\n\r\n","title":"&#39;Required request parameter &#39;id&#39; for method parameter type Integer is present but converted to null&#39;","body":"<p>I'm creating todo-app with spring-boot.\nAfter adding a task, once I enter a check on checkbox provided next to each todo and then click the done-button, the error  occurs.<strong>'Required request parameter 'id' for method parameter type Integer is present but converted to null'</strong> has occurs.</p>\n<p>below is codes.</p>\n<hr />\n<p>Todo.java</p>\n<pre><code>@Entity\n@Data\n@Table(name = &quot;todos&quot;)\npublic class Todo {\n@Id\n@Nullable\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate Integer id;\n\n@Nullable\n@Column(name = &quot;user_id&quot;, nullable = false)\nprivate Integer userId;\n\n@NotNull\n@NotBlank\n@Column(name = &quot;title&quot;)\nprivate String title;\n\n@NotNull\n@NotBlank\n@Column(name = &quot;description&quot;)\nprivate String description;\n\n@NotNull\n@NotBlank\n@Column(name = &quot;due_date&quot;)\nprivate String dueDate;\n\n@Column(name = &quot;priority&quot;)\nprivate Integer priority;\n\n@NotNull\n@Column(name = &quot;is_completed&quot;)\nprivate Boolean isCompleted = false;\n\npublic Todo() {\n\n}\n\npublic Todo(Integer userId, String title, String description, String dueDate, Integer priority, Boolean isCompleted) {\n    this.userId = userId;\n    this.title = title;\n    this.description = description;\n    this.dueDate = dueDate;\n    this.priority = priority;\n    this.isCompleted = isCompleted;\n}\n}\n</code></pre>\n<hr />\n<p>TodoController.java</p>\n<pre><code>@Controller\npublic class TodoController {\n\n@Autowired\nTodoRepository todoRepository;\n\n@Autowired\nTodoService todoService;\n\n@GetMapping(&quot;/todo/{id}&quot;)\npublic String home(Model model, User user, Todo todo, @PathVariable(&quot;id&quot;)Integer id) {\n\n    Integer userId = user.getId();\n    if(userId == null) {\n        return &quot;redirect:/todo/{id}&quot;;\n    }\n   \n    List&lt;Todo&gt; list = todoRepository.find(userId);\n    model.addAttribute(&quot;list&quot;, list);\n    model.addAttribute(&quot;todo&quot;, new Todo(user.getId(), todo.getTitle(), todo.getDescription(), todo.getDueDate(), todo.getPriority(), todo.getIsCompleted()));\n    return &quot;home&quot;;\n}\n\n@PostMapping(&quot;/todo/{id}&quot;)\npublic String createTodo(@Validated Todo todo,BindingResult result, User user) {\n    if(result.hasErrors()){\n        return &quot;redirect:/todo/{id}&quot;;\n    }\n\n    Todo userTodo = new Todo(user.getId(), todo.getTitle(), todo.getDescription(), todo.getDueDate(), todo.getPriority(), todo.getIsCompleted());\n    todoService.addTodo(userTodo);\n    return &quot;redirect:/todo/{id}&quot;;\n}\n\n@PostMapping(&quot;/todo/update/{id}&quot;)\npublic String doneTodo(@RequestParam(name=&quot;id&quot;)Integer todoId) {\n    Todo updateTodo = todoService.findById(todoId);\n    updateTodo.setIsCompleted(true);\n    todoService.addTodo(updateTodo);\n    return &quot;redirect:/todo/{id}&quot;;\n}\n\n@PostMapping(&quot;/todo/edit/{id}&quot;)\npublic String editTodo() {\n    System.out.println(&quot;edit&quot;);\n    return &quot;redirect:/todo/{id}&quot;;\n}\n}\n</code></pre>\n<hr />\n<p>TodoService.java</p>\n<pre><code>@Service\npublic class TodoService {\n@Autowired\nTodoRepository todoRepository;\n\npublic List&lt;Todo&gt; searchAll() {\n    return todoRepository.findAll();\n}\n\npublic void addTodo(Todo todo) {\n    todoRepository.save(todo);\n}\n\npublic Todo findById(Integer id) {\n    Optional&lt;Todo&gt; updateTodo = todoRepository.findById(id);\n    return updateTodo.orElseGet(updateTodo::get);\n}\n}\n</code></pre>\n<hr />\n<p>home.html</p>\n<pre><code>&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot; xmlns=&quot;http://www.w3.org/1999/html&quot;&gt;\n&lt;head&gt;\n&lt;meta charset=&quot;UTF-8&quot;&gt;\n&lt;link rel=&quot;stylesheet&quot; href=&quot;https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css&quot; integrity=&quot;sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T&quot; crossorigin=&quot;anonymous&quot;&gt;\n&lt;link th:href=&quot;@{/css/home.css}&quot; rel=&quot;stylesheet&quot;/&gt;\n&lt;title&gt;Todo&lt;/title&gt;\n&lt;/head&gt;\n&lt;body&gt;\n&lt;h1&gt;Todo&lt;/h1&gt;\n&lt;div&gt;\n&lt;form method=&quot;post&quot; th:action=&quot;@{/todo/}+${id}&quot; th:object=&quot;${todo}&quot;&gt;\n    &lt;p th:errors=&quot;*{title}&quot; class=&quot;todo-error-message&quot;&gt;&lt;/p&gt;\n    &lt;input th:field=&quot;*{title}&quot; class=&quot;add-input&quot; type=&quot;text&quot; placeholder=&quot;title&quot;&gt;\n    &lt;input th:field=&quot;*{description}&quot; class=&quot;add-input&quot; type=&quot;text&quot; placeholder=&quot;details&quot;&gt;\n    &lt;input th:field=&quot;*{dueDate}&quot; class=&quot;add-input-third&quot; type=&quot;date&quot;&gt;&lt;br/&gt;\n    &lt;div class=&quot;add-form&quot;&gt;\n        &lt;span&gt;priority&lt;/span&gt;\n        &lt;input th:field=&quot;*{priority}&quot; type=&quot;radio&quot; name=&quot;priority&quot; value=&quot;3&quot; checked&gt;3\n        &lt;input th:field=&quot;*{priority}&quot; type=&quot;radio&quot; name=&quot;priority&quot; value=&quot;2&quot;&gt;2\n        &lt;input th:field=&quot;*{priority}&quot; type=&quot;radio&quot; name=&quot;priority&quot; value=&quot;1&quot;&gt;1\n    &lt;/div&gt;\n    &lt;button type=&quot;submit&quot; class=&quot;add-btn&quot;&gt;add&lt;/button&gt;\n&lt;/form&gt;\n&lt;/div&gt;\n\n&lt;h2&gt;LIST&lt;/h2&gt;\n&lt;form method=&quot;post&quot; th:action=&quot;@{/todo/edit/}+${id}&quot; th:each=&quot;list:${list}&quot; th:object=&quot;${todo}&quot;&gt;\n&lt;div th:if=&quot;${!todo.isCompleted}&quot;&gt;\n&lt;input type=&quot;checkbox&quot; th:id=&quot;${todo.id}&quot; th:value=&quot;${todo.id}&quot; th:field=&quot;*{isCompleted}&quot; form=&quot;done-todo&quot;&gt;\n&lt;input type=&quot;hidden&quot; name=&quot;userId&quot; th:value=&quot;${list.userId}&quot;&gt;\n&lt;input type=&quot;text&quot; name=&quot;title&quot; th:value=&quot;${list.title}&quot;&gt;\n&lt;input type=&quot;text&quot; name=&quot;description&quot; th:value=&quot;${list.description}&quot;&gt;\n&lt;input type=&quot;date&quot; name=&quot;dueDate&quot; th:value=&quot;${list.dueDate}&quot;&gt;\n&lt;input type=&quot;submit&quot; value=&quot;update&quot;&gt;\n&lt;/div&gt;\n&lt;/form&gt;\n&lt;form method=&quot;post&quot; id=&quot;done-todo&quot; th:action=&quot;@{/todo/update/}+${id}&quot;&gt;\n&lt;input type=&quot;hidden&quot; name=&quot;id&quot; th:value=&quot;${todo.id}&quot;&gt;\n&lt;input type=&quot;submit&quot; value=&quot;done&quot;&gt;\n&lt;/form&gt;\n\n&lt;div&gt;\n&lt;button type=&quot;button&quot; class=&quot;btn btn-primary p-3&quot; data-toggle=&quot;collapse&quot; data-target=&quot;#collapseExample&quot; aria-expanded=&quot;false&quot; aria-controls=&quot;collapseExample&quot;&gt;\n    show done todos\n&lt;/button&gt;\n&lt;div class=&quot;collapse&quot; id=&quot;collapseExample&quot;&gt;\n    &lt;form class=&quot;border p-3&quot; th:action=&quot;@{/todo/delete/}+${id}&quot; th:each=&quot;todo:${todo}&quot;&gt;\n        &lt;div th:if=&quot;${todo.isCompleted}&quot;&gt;\n            &lt;input type=&quot;text&quot; name=&quot;title&quot; th:value=&quot;${todo.title}&quot;&gt;\n            &lt;input type=&quot;submit&quot; value=&quot;delete&quot;&gt;\n        &lt;/div&gt;\n    &lt;/form&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;form th:action=&quot;@{/logout}&quot; method=&quot;post&quot;&gt;\n&lt;button class=&quot;logout-button&quot; type=&quot;submit&quot; value=&quot;logout&quot;&gt;logout&lt;/button&gt;\n&lt;/form&gt;\n&lt;script src=&quot;https://code.jquery.com/jquery-3.3.1.slim.min.js&quot; integrity=&quot;sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;\n</code></pre>\n\n\n<pre><code> &lt;/body&gt;\n &lt;/html&gt;\n</code></pre>\n<hr />\n<p><em>What I want to do</em></p>\n<ol>\n<li>I aim to change the value of added todo from false to true after entering a check on checkbox provided next to each todo and then click the done-button.</li>\n<li>I aim to show todos of which value is true.(true means 'done')</li>\n</ol>\n<p>Does anyone know how to fix this?\nI couldn't find the way to fix this and I’m so badly stuck at this task.</p>\n"},{"tags":["java","zeromq","remote-access","robotics"],"owner":{"account_id":29610989,"reputation":11,"user_id":22694257,"display_name":"Andres Masis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696582012,"creation_date":1696582012,"question_id":77243057,"body_markdown":"I am trying to control CoppeliaSim remotely using the ZMQ Remote API for Java, with: https://github.com/CoppeliaRobotics/zmq ... ree/master\r\n\r\nBut I am facing many problems. If someone can help me to solve the problems to use the Java client form their GitHub. Or maybe find another solution, look for a turn around.\r\n\r\n1. For the CoppeliaSim Stubs generator: https://github.com/CoppeliaRobotics/inc ... /README.md.\r\nI do not know what to do in Usage-&gt;CMake. Where can I find the CMake they re talking about? Where should I put that CMake? I am supposed to add the lines of the Read Me into the CMake?\r\nBesides installing the dependencies and doing the things with the CMake, should I do something else for the CoppeliaSim Stubs generator?\r\n\r\n2. For the ZeroMQ plugin for CoppeliaSim: https://github.com/CoppeliaRobotics/simZMQ\r\nI am having problems to run the commands, specifically. cmake -DCMAKE_BUILD_TYPE=Release. The error says there is not cmake command. I assume I have to install something in my computer. Could you tell me what should I install or if the solution for that is something else?\r\n\r\n3. I am also troubled with the Java client: https://github.com/CoppeliaRobotics/zmq ... ients/java\r\nThe class Example.java relies on the classes RemoteAPIObjects.java and RemoteAPIClient.java. However those classes are problematic. RemoteAPIClient.java calls RemoteAPIObjects.java, but RemoteAPIObjects.java has a strange wrapper in Python that does not seem to works. And RemoteAPIObjects.java calls RemoteAPIClient.java, so it is a situation where 2 classes that are not working rely on each other. Besides, Example.java calls a method .sim() from RemoteAPIObjects(), but that method does not exist.\r\n\r\n4. In this ZeroMQ Remote API manual for CoppeliaSim: https://www.coppeliarobotics.com/helpFiles/\r\nThere is no Java client. So I do not know if actually is possible to generate a functional client for Java or not.\r\n\r\n5. In all of the methods of this Regular API Reference: https://www.coppeliarobotics.com/helpFiles/\r\nFor all the methods, there is an explanation for C/C++, Lua and Python, but not for Java. So I do not know if actually that Regular API is available for Java or not.\r\n\r\nCan someone help my to solve those problems: 1. how to set up the CoppeliaSim Stubs generator, 2. how to run all the ZMQ Plugin commands, 3. how to fix the code of the Java client from the repository, 4. how to generate a Java client according to the manual and 5. to know if the Regular API functions are available for Java or not, and if so, how to call them?\r\n\r\nOr tell me if there is any other way to control remotely CoppeliaSim with Java, that already works? If there is no other pure Java solution, I can also switch or make a wrapping with C++ or Python. In any case, I would really appreciate if you could add a functional code to your answer for me to understand better.#\r\n\r\nThank you.","title":"CoppeliaSim ZMQ Remote API Problem with Java","body":"<p>I am trying to control CoppeliaSim remotely using the ZMQ Remote API for Java, with: <a href=\"https://github.com/CoppeliaRobotics/zmq\" rel=\"nofollow noreferrer\">https://github.com/CoppeliaRobotics/zmq</a> ... ree/master</p>\n<p>But I am facing many problems. If someone can help me to solve the problems to use the Java client form their GitHub. Or maybe find another solution, look for a turn around.</p>\n<ol>\n<li><p>For the CoppeliaSim Stubs generator: <a href=\"https://github.com/CoppeliaRobotics/inc\" rel=\"nofollow noreferrer\">https://github.com/CoppeliaRobotics/inc</a> ... /README.md.\nI do not know what to do in Usage-&gt;CMake. Where can I find the CMake they re talking about? Where should I put that CMake? I am supposed to add the lines of the Read Me into the CMake?\nBesides installing the dependencies and doing the things with the CMake, should I do something else for the CoppeliaSim Stubs generator?</p>\n</li>\n<li><p>For the ZeroMQ plugin for CoppeliaSim: <a href=\"https://github.com/CoppeliaRobotics/simZMQ\" rel=\"nofollow noreferrer\">https://github.com/CoppeliaRobotics/simZMQ</a>\nI am having problems to run the commands, specifically. cmake -DCMAKE_BUILD_TYPE=Release. The error says there is not cmake command. I assume I have to install something in my computer. Could you tell me what should I install or if the solution for that is something else?</p>\n</li>\n<li><p>I am also troubled with the Java client: <a href=\"https://github.com/CoppeliaRobotics/zmq\" rel=\"nofollow noreferrer\">https://github.com/CoppeliaRobotics/zmq</a> ... ients/java\nThe class Example.java relies on the classes RemoteAPIObjects.java and RemoteAPIClient.java. However those classes are problematic. RemoteAPIClient.java calls RemoteAPIObjects.java, but RemoteAPIObjects.java has a strange wrapper in Python that does not seem to works. And RemoteAPIObjects.java calls RemoteAPIClient.java, so it is a situation where 2 classes that are not working rely on each other. Besides, Example.java calls a method .sim() from RemoteAPIObjects(), but that method does not exist.</p>\n</li>\n<li><p>In this ZeroMQ Remote API manual for CoppeliaSim: <a href=\"https://www.coppeliarobotics.com/helpFiles/\" rel=\"nofollow noreferrer\">https://www.coppeliarobotics.com/helpFiles/</a>\nThere is no Java client. So I do not know if actually is possible to generate a functional client for Java or not.</p>\n</li>\n<li><p>In all of the methods of this Regular API Reference: <a href=\"https://www.coppeliarobotics.com/helpFiles/\" rel=\"nofollow noreferrer\">https://www.coppeliarobotics.com/helpFiles/</a>\nFor all the methods, there is an explanation for C/C++, Lua and Python, but not for Java. So I do not know if actually that Regular API is available for Java or not.</p>\n</li>\n</ol>\n<p>Can someone help my to solve those problems: 1. how to set up the CoppeliaSim Stubs generator, 2. how to run all the ZMQ Plugin commands, 3. how to fix the code of the Java client from the repository, 4. how to generate a Java client according to the manual and 5. to know if the Regular API functions are available for Java or not, and if so, how to call them?</p>\n<p>Or tell me if there is any other way to control remotely CoppeliaSim with Java, that already works? If there is no other pure Java solution, I can also switch or make a wrapping with C++ or Python. In any case, I would really appreciate if you could add a functional code to your answer for me to understand better.#</p>\n<p>Thank you.</p>\n"},{"tags":["java","memory-management","nio","jogl","buffer"],"answers":[{"comments":[{"owner":{"account_id":20039,"reputation":33532,"user_id":47493,"accept_rate":96,"display_name":"Ricket"},"score":0,"creation_date":1282067208,"post_id":3497462,"comment_id":3663277,"body_markdown":"By &quot;calling the gc&quot; you mean `System.gc()` I presume; it is indeed a long shot, as that call isn&#39;t guaranteed to really do anything. Make sure to set any reference to the direct buffer `= null` before calling that, or the GC will definitely think the buffer is still in use.","body":"By &quot;calling the gc&quot; you mean <code>System.gc()</code> I presume; it is indeed a long shot, as that call isn&#39;t guaranteed to really do anything. Make sure to set any reference to the direct buffer <code>= null</code> before calling that, or the GC will definitely think the buffer is still in use."}],"tags":[],"owner":{"account_id":36858,"reputation":113744,"user_id":105224,"accept_rate":73,"display_name":"Andreas Dolk"},"comment_count":1,"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1281993568,"creation_date":1281993568,"answer_id":3497462,"question_id":3496508,"body_markdown":"Deallocating a Direct Buffer is a job done by the garbage collector some time after the ByteBuffer object is marked. \r\n\r\nYou could try calling the gc immediatly after deleting the last reference to your buffer. At least there&#39;s a chance that the memory will be free&#39;d a bit faster.","title":"Deallocating Direct Buffer Native Memory in Java for JOGL","body":"<p>Deallocating a Direct Buffer is a job done by the garbage collector some time after the ByteBuffer object is marked. </p>\n\n<p>You could try calling the gc immediatly after deleting the last reference to your buffer. At least there's a chance that the memory will be free'd a bit faster.</p>\n"},{"comments":[{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":0,"creation_date":1415270877,"post_id":3497526,"comment_id":42133088,"body_markdown":"Your last suggestion is quite good. The buffers are really useful when they are used more than once. It&#39;s possible to slice them too. However, there is a risk of increasing the memory footprint at runtime by keeping unused allocated native memory. When it is implemented correctly, the deallocation of direct NIO buffers is more efficient and less invasive than trying to avoid allocating and deallocating them repeatedly.","body":"Your last suggestion is quite good. The buffers are really useful when they are used more than once. It&#39;s possible to slice them too. However, there is a risk of increasing the memory footprint at runtime by keeping unused allocated native memory. When it is implemented correctly, the deallocation of direct NIO buffers is more efficient and less invasive than trying to avoid allocating and deallocating them repeatedly."}],"tags":[],"owner":{"account_id":74486,"reputation":105478,"user_id":214010,"accept_rate":83,"display_name":"mikera"},"comment_count":1,"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1415272132,"creation_date":1281994163,"answer_id":3497526,"question_id":3496508,"body_markdown":"Direct buffers are tricky and don&#39;t have the usual garbage collection guarantees - see for more detail: [http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html#direct][1]\r\n\r\nIf you are having issues, I&#39;d suggest allocating once and re-using the buffer rather than allocating and deallocating repeatedly.\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/java/nio/ByteBuffer.html#direct","title":"Deallocating Direct Buffer Native Memory in Java for JOGL","body":"<p>Direct buffers are tricky and don't have the usual garbage collection guarantees - see for more detail: <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/nio/ByteBuffer.html#direct\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html#direct</a></p>\n\n<p>If you are having issues, I'd suggest allocating once and re-using the buffer rather than allocating and deallocating repeatedly.</p>\n"},{"comments":[{"owner":{"account_id":283609,"reputation":45044,"user_id":581205,"accept_rate":72,"display_name":"maaartinus"},"score":0,"creation_date":1513544563,"post_id":8462205,"comment_id":82683532,"body_markdown":"You call it awful, but AFAIK it&#39;s as good as you can get it. Direct buffers are intentionally allocated off the managed heap so we shouldn&#39;t be surprised by their management being a bit lacking. Anyway, before an OOM gets thrown, there are attempts to process all pending references and the GC gets run. It mayn&#39;t work as designed. +++ I&#39;m afraid, that&#39;s all we can get unless we resolve to `Unsafe` and risk malloc/free-like leaks and crashes.","body":"You call it awful, but AFAIK it&#39;s as good as you can get it. Direct buffers are intentionally allocated off the managed heap so we shouldn&#39;t be surprised by their management being a bit lacking. Anyway, before an OOM gets thrown, there are attempts to process all pending references and the GC gets run. It mayn&#39;t work as designed. +++ I&#39;m afraid, that&#39;s all we can get unless we resolve to <code>Unsafe</code> and risk malloc/free-like leaks and crashes."}],"tags":[],"owner":{"account_id":23674,"reputation":114076,"user_id":59501,"accept_rate":75,"display_name":"StaxMan"},"comment_count":1,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1323582190,"creation_date":1323582190,"answer_id":8462205,"question_id":3496508,"body_markdown":"The way in which deallocation is done is awful -- a soft reference is basically inserted into a Cleaner object, which then does deallocation when owning ByteBuffer is garbage collected. But this is not really guaranteed to be called in timely manner.","title":"Deallocating Direct Buffer Native Memory in Java for JOGL","body":"<p>The way in which deallocation is done is awful -- a soft reference is basically inserted into a Cleaner object, which then does deallocation when owning ByteBuffer is garbage collected. But this is not really guaranteed to be called in timely manner.</p>\n"},{"comments":[{"owner":{"account_id":398026,"reputation":13634,"user_id":762488,"accept_rate":67,"display_name":"Antoine"},"score":0,"creation_date":1486134646,"post_id":26777380,"comment_id":71228613,"body_markdown":"+1: This is in fact not related to `JOGL` and the best reference I could find here on releasing java nio buffers","body":"+1: This is in fact not related to <code>JOGL</code> and the best reference I could find here on releasing java nio buffers"},{"owner":{"account_id":442888,"reputation":303,"user_id":833771,"display_name":"Pr0methean"},"score":0,"creation_date":1490936854,"post_id":26777380,"comment_id":73343521,"body_markdown":"The last solution on your list probably won&#39;t be ready for Java 9. The JEP is still a draft. http://openjdk.java.net/jeps/191","body":"The last solution on your list probably won&#39;t be ready for Java 9. The JEP is still a draft. <a href=\"http://openjdk.java.net/jeps/191\" rel=\"nofollow noreferrer\">openjdk.java.net/jeps/191</a>"},{"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"score":0,"creation_date":1595323679,"post_id":26777380,"comment_id":111427942,"body_markdown":"`sun.misc.unsafe` has been renamed to `jdk.internal.misc.Unsafe` in recent JDK versions (although there is still a shim, for now at least, at `sun.misc.Unsafe` that proxies calls to `jdk.internal.misc.Unsafe`). See: https://github.com/classgraph/classgraph/blob/master/src/main/java/nonapi/io/github/classgraph/utils/FileUtils.java#L425","body":"<code>sun.misc.unsafe</code> has been renamed to <code>jdk.internal.misc.Unsafe</code> in recent JDK versions (although there is still a shim, for now at least, at <code>sun.misc.Unsafe</code> that proxies calls to <code>jdk.internal.misc.Unsafe</code>). See: <a href=\"https://github.com/classgraph/classgraph/blob/master/src/main/java/nonapi/io/github/classgraph/utils/FileUtils.java#L425\" rel=\"nofollow noreferrer\">github.com/classgraph/classgraph/blob/master/src/main/java/&hellip;</a>"},{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":1,"creation_date":1595422659,"post_id":26777380,"comment_id":111468424,"body_markdown":"@LukeHutchison sun.misc.Unsafe contains the method named invokeCleaner(java.nio.ByteBuffer) whereas jdk.internal.misc.Unsafe doesn&#39;t. Therefore, it&#39;s not exactly a renaming.","body":"@LukeHutchison sun.misc.Unsafe contains the method named invokeCleaner(java.nio.ByteBuffer) whereas jdk.internal.misc.Unsafe doesn&#39;t. Therefore, it&#39;s not exactly a renaming."},{"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"score":0,"creation_date":1595462656,"post_id":26777380,"comment_id":111486539,"body_markdown":"Thanks for pointing that out -- this is probably because the JDK team intends to remove the cleaner mechanism at some point, replacing it with a newer alternative.","body":"Thanks for pointing that out -- this is probably because the JDK team intends to remove the cleaner mechanism at some point, replacing it with a newer alternative."},{"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"score":1,"creation_date":1595463917,"post_id":26777380,"comment_id":111486862,"body_markdown":"One thing I noticed: in JDK9+, calling sun.misc.Cleaner.clean() gives a reflection (encapsulation) warning on stderr. Unsafe.theUnsafe.invokeCleaner(byteBuffer) makes the same call, but does not print the reflection warning.","body":"One thing I noticed: in JDK9+, calling sun.misc.Cleaner.clean() gives a reflection (encapsulation) warning on stderr. Unsafe.theUnsafe.invokeCleaner(byteBuffer) makes the same call, but does not print the reflection warning."},{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":0,"creation_date":1595541575,"post_id":26777380,"comment_id":111519664,"body_markdown":"@LukeHutchison Thank you for this finding, I hadn&#39;t found this one. I advise you to use MemorySegment.ofByteBuffer(ByteBuffer).close() when the cleaner mechanism doesn&#39;t work.","body":"@LukeHutchison Thank you for this finding, I hadn&#39;t found this one. I advise you to use MemorySegment.ofByteBuffer(ByteBuffer).close() when the cleaner mechanism doesn&#39;t work."},{"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"score":0,"creation_date":1595586480,"post_id":26777380,"comment_id":111533144,"body_markdown":"@gouessej I tried adding that call to my code via reflection. However, since the feature is still in preview, this requires a commandline switch. Also in a modular classpath, you have to use &quot;requires&quot; in the module descriptor with MemorySegment&#39;s current (temporary) module. You can&#39;t even compile the module descriptor without enabling preview features. Best to wait until this feature is mainlined, I think.","body":"@gouessej I tried adding that call to my code via reflection. However, since the feature is still in preview, this requires a commandline switch. Also in a modular classpath, you have to use &quot;requires&quot; in the module descriptor with MemorySegment&#39;s current (temporary) module. You can&#39;t even compile the module descriptor without enabling preview features. Best to wait until this feature is mainlined, I think."},{"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"score":0,"creation_date":1595833235,"post_id":26777380,"comment_id":111599289,"body_markdown":"Other issues (I didn&#39;t check if your code handles all of these): (1) Attempting to clean the same `DirectByteBuffer` twice results in the VM crashing. (2) Attempting to clean a `ByteBuffer` that is not a `DirectByteBuffer` throws `IllegalArgumentException`. (3) Attempting to clean `ByteBuffer` that is a slice or duplicate of an underlying `DirectByteBuffer` also fails (I think also with `IllegalArgumentException`?). My code handles these:\nhttps://github.com/classgraph/classgraph/blob/master/src/main/java/nonapi/io/github/classgraph/utils/FileUtils.java#L431","body":"Other issues (I didn&#39;t check if your code handles all of these): (1) Attempting to clean the same <code>DirectByteBuffer</code> twice results in the VM crashing. (2) Attempting to clean a <code>ByteBuffer</code> that is not a <code>DirectByteBuffer</code> throws <code>IllegalArgumentException</code>. (3) Attempting to clean <code>ByteBuffer</code> that is a slice or duplicate of an underlying <code>DirectByteBuffer</code> also fails (I think also with <code>IllegalArgumentException</code>?). My code handles these: <a href=\"https://github.com/classgraph/classgraph/blob/master/src/main/java/nonapi/io/github/classgraph/utils/FileUtils.java#L431\" rel=\"nofollow noreferrer\">github.com/classgraph/classgraph/blob/master/src/main/java/&hellip;</a>"},{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":0,"creation_date":1595939108,"post_id":26777380,"comment_id":111641511,"body_markdown":"@LukeHutchison (1) I didn&#39;t reproduce the problem. (2) I already test whether the buffer is direct. (3) I handle and test this case for sure: https://sourceforge.net/p/tuer/code/HEAD/tree/pre_beta/src/test/java/engine/misc/TestDeallocationHelper.java#l40 I advise you to use similar tests. My source code (under GPL) is far from being trivial.","body":"@LukeHutchison (1) I didn&#39;t reproduce the problem. (2) I already test whether the buffer is direct. (3) I handle and test this case for sure: <a href=\"https://sourceforge.net/p/tuer/code/HEAD/tree/pre_beta/src/test/java/engine/misc/TestDeallocationHelper.java#l40\" rel=\"nofollow noreferrer\">sourceforge.net/p/tuer/code/HEAD/tree/pre_beta/src/test/java&zwnj;&#8203;/&hellip;</a> I advise you to use similar tests. My source code (under GPL) is far from being trivial."},{"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"score":0,"creation_date":1595991963,"post_id":26777380,"comment_id":111662597,"body_markdown":"@gouessej Sorry, I should have clarified: the JVM crash can happen with (1) if you unmap (clean) a `MappedByteBuffer` (which extends `DirectByteBuffer`), and then subsequently try to access the unmapped buffer. See here: http://www.mapdb.org/blog/mmap_files_alloc_and_jvm_crash/\nYour code works well, I&#39;m sure, but the supported runtimes are overkill for my usecase. Also I can&#39;t use the GPL for my projects, because the virality of the license is too restrictive. I used to be 100% in support of the GPL, but now I see it causes more problems than it solves. I use the MIT license for everything.","body":"@gouessej Sorry, I should have clarified: the JVM crash can happen with (1) if you unmap (clean) a <code>MappedByteBuffer</code> (which extends <code>DirectByteBuffer</code>), and then subsequently try to access the unmapped buffer. See here: <a href=\"http://www.mapdb.org/blog/mmap_files_alloc_and_jvm_crash/\" rel=\"nofollow noreferrer\">mapdb.org/blog/mmap_files_alloc_and_jvm_crash</a> Your code works well, I&#39;m sure, but the supported runtimes are overkill for my usecase. Also I can&#39;t use the GPL for my projects, because the virality of the license is too restrictive. I used to be 100% in support of the GPL, but now I see it causes more problems than it solves. I use the MIT license for everything."},{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":0,"creation_date":1596109936,"post_id":26777380,"comment_id":111709402,"body_markdown":"@LukeHutchison Thank you for the clarification. There is nothing I can do yet, it&#39;s up to the caller not to keep a strong reference on a cleaned byte buffer. Yes, you&#39;re right, I keep it online mostly for pedagogical purposes because it will be overkill for my use case soon too because my first person shooter uses OpenJDK 14. I won&#39;t debate about licenses here because I use the GPL for political reasons, each developer has his own opinions on intellectual property, capitalism, the coexistence of free software and proprietary software, etc.","body":"@LukeHutchison Thank you for the clarification. There is nothing I can do yet, it&#39;s up to the caller not to keep a strong reference on a cleaned byte buffer. Yes, you&#39;re right, I keep it online mostly for pedagogical purposes because it will be overkill for my use case soon too because my first person shooter uses OpenJDK 14. I won&#39;t debate about licenses here because I use the GPL for political reasons, each developer has his own opinions on intellectual property, capitalism, the coexistence of free software and proprietary software, etc."},{"owner":{"account_id":3683805,"reputation":8445,"user_id":3950982,"display_name":"Luke Hutchison"},"score":0,"creation_date":1596151455,"post_id":26777380,"comment_id":111727752,"body_markdown":"@gouessej Fair enough -- yes, it&#39;s a personal preference thing. I do appreciate that you are sharing your knowledge on this issue. I wish the JDK team had moved on this issue a long time ago.","body":"@gouessej Fair enough -- yes, it&#39;s a personal preference thing. I do appreciate that you are sharing your knowledge on this issue. I wish the JDK team had moved on this issue a long time ago."},{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":1,"creation_date":1611695543,"post_id":26777380,"comment_id":116533264,"body_markdown":"@LukeHutchison You only need to use attachment() when you use MemorySegment.close(), it&#39;s a lot easier now but I still get a warning.","body":"@LukeHutchison You only need to use attachment() when you use MemorySegment.close(), it&#39;s a lot easier now but I still get a warning."}],"tags":[],"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"comment_count":14,"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1696581931,"creation_date":1415270471,"answer_id":26777380,"question_id":3496508,"body_markdown":"The direct NIO buffers use unmanaged memory. It means that they are allocated on the native heap, not on the Java heap. As a consequence, they are freed only when the JVM runs out of memory on the Java heap, not on the native heap. In other terms, it&#39;s unmanaged = it&#39;s up to you to manage them. Forcing the garbage collection is discouraged and won&#39;t solve this problem most of the time.\r\n\r\nWhen you know that a direct NIO buffer has become useless for you, you have to release its native memory by using its sun.misc.Cleaner (StaxMan is right) and call clean() (except with Apache Harmony), call free() (with Apache Harmony) or use a better public API to do that (maybe in Java &gt; 12, AutoCleaning that extends AutoCloseable?).\r\n\r\nIt&#39;s not JOGL job to do that, you can use plain Java code to do it yourself. [My example][1] is under GPL v2 and [this example][2] is under a more permissive license.\r\n\r\nEdit.: [My latest example][3] works even with Java 1.9 and supports OpenJDK, Oracle Java, Sun Java, Apache Harmony, GNU Classpath and Android. You might have to remove some syntactical sugar to make it work with Java &lt; 1.7 (the multi catches, the diamonds and the generics).\r\n\r\nReference: http://www.ibm.com/developerworks/library/j-nativememory-linux/ \r\n\r\n&gt; Direct ByteBuffer objects clean up their native buffers automatically\r\n&gt; but can only do so as part of Java heap GC — so they do not\r\n&gt; automatically respond to pressure on the native heap. GC occurs only\r\n&gt; when the Java heap becomes so full it can&#39;t service a heap-allocation\r\n&gt; request or if the Java application explicitly requests it (not\r\n&gt; recommended because it causes performance problems).\r\n\r\nReference: http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html#direct\r\n\r\n&gt; The contents of direct buffers may reside outside of the normal garbage-collected heap\r\n\r\n\r\n[This solution][4] is integrated in Java 14:\r\n\r\n    try (MemorySegment segment = MemorySegment.allocateNative(100)) {\r\n       ...\r\n    }\r\n\r\nYou can wrap a byte buffer into a memory segment by calling [MemorySegment.ofByteBuffer(ByteBuffer)][5], get its memory address and free it (this is a restricted method) in Java 16:\r\n\r\n    CLinker.getInstance().freeMemoryRestricted(MemorySegment.ofByteBuffer(myByteBuffer).address());\r\n\r\nNote that you still need to use reflection in many non trivial cases in order to find the buffer that can be deallocated, typically when your direct NIO buffer isn&#39;t a ByteBuffer.\r\n\r\nN.B: **sun.misc.Cleaner has been moved** into [jdk.internal.ref.Cleaner][6] in Java 1.9 in the module &quot;java.base&quot;, the latter implemented java.lang.Runnable (thanks to Alan Bateman for reminding me that difference) for a short time but [it&#39;s no longer the case][7]. You have to call sun.misc.Unsafe.invokeCleaner(), it&#39;s [done in JogAmp&#39;s Gluegen][8]. I preferred using the Cleaner as a Runnable as it avoided to rely on sun.misc.Unsafe but it doesn&#39;t work now.\r\n\r\nMy last suggestion works with Java 9, 10, 11 and [12][9].\r\n\r\n[My very latest example][10] requires the use of an incubated feature (requires Java &gt;= 14) but is very very simple.\r\n\r\nN.B: Using a memory segment to free a preexisting direct NIO buffer is no longer possible since Java 18. Instead, create a native memory segment by calling MemorySegment.allocateNative(), call [asByteBuffer()][11] on it and close its memory session when you no longer need it. It&#39;s a lot more invasive but there are probably excellent API design decisions behind this change. Maybe MemorySegment.ofBuffer() in Java &gt;= 21 helps but I fear that it uses a global arena that you can&#39;t safely close.\r\n\r\nThere is [a good example in Lucene][12] under a more permissive license.\r\n\r\n\r\n  [1]: http://sourceforge.net/p/tuer/code/HEAD/tree/pre_beta/src/main/java/engine/renderer/ReliableRenderer.java\r\n  [2]: https://github.com/jMonkeyEngine/jmonkeyengine/blob/master/jme3-core/src/main/java/com/jme3/util/ReflectionAllocator.java#L100\r\n  [3]: http://sourceforge.net/p/tuer/code/HEAD/tree/pre_beta/src/main/java/engine/misc/DeallocationHelper.java\r\n  [4]: https://openjdk.java.net/jeps/370\r\n  [5]: https://docs.oracle.com/en/java/javase/14/docs/api/jdk.incubator.foreign/jdk/incubator/foreign/MemorySegment.html#ofByteBuffer(java.nio.ByteBuffer)\r\n  [6]: http://hg.openjdk.java.net/panama/panama/jdk/file/089eb964a07a/src/java.base/share/classes/jdk/internal/ref/Cleaner.java\r\n  [7]: http://hg.openjdk.java.net/jdk/jdk11/rev/6059f74bacdf\r\n  [8]: https://jogamp.org/cgit/gluegen.git/commit/?h=java11&amp;id=6603026f1bfec02e3486c52270a09a355a1bf914\r\n  [9]: http://hg.openjdk.java.net/jdk/jdk12/file/06222165c35f/src/jdk.unsupported/share/classes/sun/misc/Unsafe.java#l1231\r\n  [10]: http://svn.code.sf.net/p/tuer/code/pre_beta/src/main/java/engine/misc/SimpleDeallocationHelper.java\r\n  [11]: https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/foreign/MemorySegment.html#asByteBuffer()\r\n  [12]: https://github.com/apache/lucene-solr/blob/master/lucene/core/src/java/org/apache/lucene/store/MMapDirectory.java#L338-L396","title":"Deallocating Direct Buffer Native Memory in Java for JOGL","body":"<p>The direct NIO buffers use unmanaged memory. It means that they are allocated on the native heap, not on the Java heap. As a consequence, they are freed only when the JVM runs out of memory on the Java heap, not on the native heap. In other terms, it's unmanaged = it's up to you to manage them. Forcing the garbage collection is discouraged and won't solve this problem most of the time.</p>\n<p>When you know that a direct NIO buffer has become useless for you, you have to release its native memory by using its sun.misc.Cleaner (StaxMan is right) and call clean() (except with Apache Harmony), call free() (with Apache Harmony) or use a better public API to do that (maybe in Java &gt; 12, AutoCleaning that extends AutoCloseable?).</p>\n<p>It's not JOGL job to do that, you can use plain Java code to do it yourself. <a href=\"http://sourceforge.net/p/tuer/code/HEAD/tree/pre_beta/src/main/java/engine/renderer/ReliableRenderer.java\" rel=\"nofollow noreferrer\">My example</a> is under GPL v2 and <a href=\"https://github.com/jMonkeyEngine/jmonkeyengine/blob/master/jme3-core/src/main/java/com/jme3/util/ReflectionAllocator.java#L100\" rel=\"nofollow noreferrer\">this example</a> is under a more permissive license.</p>\n<p>Edit.: <a href=\"http://sourceforge.net/p/tuer/code/HEAD/tree/pre_beta/src/main/java/engine/misc/DeallocationHelper.java\" rel=\"nofollow noreferrer\">My latest example</a> works even with Java 1.9 and supports OpenJDK, Oracle Java, Sun Java, Apache Harmony, GNU Classpath and Android. You might have to remove some syntactical sugar to make it work with Java &lt; 1.7 (the multi catches, the diamonds and the generics).</p>\n<p>Reference: <a href=\"http://www.ibm.com/developerworks/library/j-nativememory-linux/\" rel=\"nofollow noreferrer\">http://www.ibm.com/developerworks/library/j-nativememory-linux/</a></p>\n<blockquote>\n<p>Direct ByteBuffer objects clean up their native buffers automatically\nbut can only do so as part of Java heap GC — so they do not\nautomatically respond to pressure on the native heap. GC occurs only\nwhen the Java heap becomes so full it can't service a heap-allocation\nrequest or if the Java application explicitly requests it (not\nrecommended because it causes performance problems).</p>\n</blockquote>\n<p>Reference: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html#direct\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/nio/ByteBuffer.html#direct</a></p>\n<blockquote>\n<p>The contents of direct buffers may reside outside of the normal garbage-collected heap</p>\n</blockquote>\n<p><a href=\"https://openjdk.java.net/jeps/370\" rel=\"nofollow noreferrer\">This solution</a> is integrated in Java 14:</p>\n<pre><code>try (MemorySegment segment = MemorySegment.allocateNative(100)) {\n   ...\n}\n</code></pre>\n<p>You can wrap a byte buffer into a memory segment by calling <a href=\"https://docs.oracle.com/en/java/javase/14/docs/api/jdk.incubator.foreign/jdk/incubator/foreign/MemorySegment.html#ofByteBuffer(java.nio.ByteBuffer)\" rel=\"nofollow noreferrer\">MemorySegment.ofByteBuffer(ByteBuffer)</a>, get its memory address and free it (this is a restricted method) in Java 16:</p>\n<pre><code>CLinker.getInstance().freeMemoryRestricted(MemorySegment.ofByteBuffer(myByteBuffer).address());\n</code></pre>\n<p>Note that you still need to use reflection in many non trivial cases in order to find the buffer that can be deallocated, typically when your direct NIO buffer isn't a ByteBuffer.</p>\n<p>N.B: <strong>sun.misc.Cleaner has been moved</strong> into <a href=\"http://hg.openjdk.java.net/panama/panama/jdk/file/089eb964a07a/src/java.base/share/classes/jdk/internal/ref/Cleaner.java\" rel=\"nofollow noreferrer\">jdk.internal.ref.Cleaner</a> in Java 1.9 in the module &quot;java.base&quot;, the latter implemented java.lang.Runnable (thanks to Alan Bateman for reminding me that difference) for a short time but <a href=\"http://hg.openjdk.java.net/jdk/jdk11/rev/6059f74bacdf\" rel=\"nofollow noreferrer\">it's no longer the case</a>. You have to call sun.misc.Unsafe.invokeCleaner(), it's <a href=\"https://jogamp.org/cgit/gluegen.git/commit/?h=java11&amp;id=6603026f1bfec02e3486c52270a09a355a1bf914\" rel=\"nofollow noreferrer\">done in JogAmp's Gluegen</a>. I preferred using the Cleaner as a Runnable as it avoided to rely on sun.misc.Unsafe but it doesn't work now.</p>\n<p>My last suggestion works with Java 9, 10, 11 and <a href=\"http://hg.openjdk.java.net/jdk/jdk12/file/06222165c35f/src/jdk.unsupported/share/classes/sun/misc/Unsafe.java#l1231\" rel=\"nofollow noreferrer\">12</a>.</p>\n<p><a href=\"http://svn.code.sf.net/p/tuer/code/pre_beta/src/main/java/engine/misc/SimpleDeallocationHelper.java\" rel=\"nofollow noreferrer\">My very latest example</a> requires the use of an incubated feature (requires Java &gt;= 14) but is very very simple.</p>\n<p>N.B: Using a memory segment to free a preexisting direct NIO buffer is no longer possible since Java 18. Instead, create a native memory segment by calling MemorySegment.allocateNative(), call <a href=\"https://docs.oracle.com/en/java/javase/19/docs/api/java.base/java/lang/foreign/MemorySegment.html#asByteBuffer()\" rel=\"nofollow noreferrer\">asByteBuffer()</a> on it and close its memory session when you no longer need it. It's a lot more invasive but there are probably excellent API design decisions behind this change. Maybe MemorySegment.ofBuffer() in Java &gt;= 21 helps but I fear that it uses a global arena that you can't safely close.</p>\n<p>There is <a href=\"https://github.com/apache/lucene-solr/blob/master/lucene/core/src/java/org/apache/lucene/store/MMapDirectory.java#L338-L396\" rel=\"nofollow noreferrer\">a good example in Lucene</a> under a more permissive license.</p>\n"},{"comments":[{"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"score":0,"creation_date":1464088810,"post_id":37315490,"comment_id":62330463,"body_markdown":"I agree with ochi and look at the very last suggestion in my post which doesn&#39;t use any non public APIs.","body":"I agree with ochi and look at the very last suggestion in my post which doesn&#39;t use any non public APIs."}],"tags":[],"owner":{"account_id":8472427,"reputation":1,"user_id":6354577,"display_name":"visitor"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1463639592,"creation_date":1463639592,"answer_id":37315490,"question_id":3496508,"body_markdown":"Rather than abuse reflection of non-public apis you can do this trivially, entirely within the supported public ones.\r\n\r\nWrite some JNI which wraps malloc with NewDirectByteBuffer (remember to set the order), and an analogous function to free it.\r\n","title":"Deallocating Direct Buffer Native Memory in Java for JOGL","body":"<p>Rather than abuse reflection of non-public apis you can do this trivially, entirely within the supported public ones.</p>\n\n<p>Write some JNI which wraps malloc with NewDirectByteBuffer (remember to set the order), and an analogous function to free it.</p>\n"},{"tags":[],"owner":{"account_id":2787201,"reputation":513,"user_id":2398263,"accept_rate":75,"display_name":"Brian_Entei"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592019304,"creation_date":1592019304,"answer_id":62355218,"question_id":3496508,"body_markdown":"Using information in [gouessej&#39;s answer][1], I was able to put this utility class together for freeing the direct memory allocation of a given ByteBuffer. This, of course, should only be used as a last resort, and shouldn&#39;t really be used in production code.\r\n\r\nTested and working in Java SE version 10.0.2.\r\n\r\n    public final class BufferUtil {\r\n        \r\n        //various buffer creation utility functions etc. etc.\r\n        \r\n\t\tprotected static final sun.misc.Unsafe unsafe = AccessController.doPrivileged(new PrivilegedAction&lt;sun.misc.Unsafe&gt;() {\r\n\t\t\t@Override\r\n\t\t\tpublic Unsafe run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tField f = Unsafe.class.getDeclaredField(&quot;theUnsafe&quot;);\r\n\t\t\t\t\tf.setAccessible(true);\r\n\t\t\t\t\treturn (Unsafe) f.get(null);\r\n\t\t\t\t} catch(NoSuchFieldException | SecurityException | IllegalArgumentException | IllegalAccessException ex) {\r\n\t\t\t\t\tthrow new RuntimeException(ex);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\t/** Frees the specified buffer&#39;s direct memory allocation.&lt;br&gt;\r\n\t\t * The buffer should not be used after calling this method; you should\r\n\t\t * instead allow it to be garbage-collected by removing all references of it\r\n\t\t * from your program.\r\n\t\t * \r\n\t\t * @param directBuffer The direct buffer whose memory allocation will be\r\n\t\t *            freed\r\n\t\t * @return Whether or not the memory allocation was freed */\r\n\t\tpublic static final boolean freeDirectBufferMemory(ByteBuffer directBuffer) {\r\n\t\t\tif(!directBuffer.isDirect()) {\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tunsafe.invokeCleaner(directBuffer);\r\n\t\t\t\treturn true;\r\n\t\t\t} catch(IllegalArgumentException ex) {\r\n\t\t\t\tex.printStackTrace();\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n    }\r\n    \r\n\r\n\r\n  [1]: https://stackoverflow.com/a/26777380/2398263","title":"Deallocating Direct Buffer Native Memory in Java for JOGL","body":"<p>Using information in <a href=\"https://stackoverflow.com/a/26777380/2398263\">gouessej's answer</a>, I was able to put this utility class together for freeing the direct memory allocation of a given ByteBuffer. This, of course, should only be used as a last resort, and shouldn't really be used in production code.</p>\n\n<p>Tested and working in Java SE version 10.0.2.</p>\n\n<pre><code>public final class BufferUtil {\n\n    //various buffer creation utility functions etc. etc.\n\n    protected static final sun.misc.Unsafe unsafe = AccessController.doPrivileged(new PrivilegedAction&lt;sun.misc.Unsafe&gt;() {\n        @Override\n        public Unsafe run() {\n            try {\n                Field f = Unsafe.class.getDeclaredField(\"theUnsafe\");\n                f.setAccessible(true);\n                return (Unsafe) f.get(null);\n            } catch(NoSuchFieldException | SecurityException | IllegalArgumentException | IllegalAccessException ex) {\n                throw new RuntimeException(ex);\n            }\n        }\n    });\n\n    /** Frees the specified buffer's direct memory allocation.&lt;br&gt;\n     * The buffer should not be used after calling this method; you should\n     * instead allow it to be garbage-collected by removing all references of it\n     * from your program.\n     * \n     * @param directBuffer The direct buffer whose memory allocation will be\n     *            freed\n     * @return Whether or not the memory allocation was freed */\n    public static final boolean freeDirectBufferMemory(ByteBuffer directBuffer) {\n        if(!directBuffer.isDirect()) {\n            return false;\n        }\n        try {\n            unsafe.invokeCleaner(directBuffer);\n            return true;\n        } catch(IllegalArgumentException ex) {\n            ex.printStackTrace();\n            return false;\n        }\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":168103,"reputation":315,"user_id":393331,"accept_rate":20,"display_name":"sparrow400"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10649,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":6,"score":16,"last_activity_date":1696581931,"creation_date":1281986323,"question_id":3496508,"body_markdown":"I am using direct buffers (java.nio) to store vertex information for JOGL. These buffers are large, and they are replaced several times during the application life. The memory is not deallocated in time and I am running out of memory after a few replacements. \r\n\r\nIt seems that there is not good way to deallocate using java.nio&#39;s buffer classes. My question is this: \r\n\r\nIs there some method in JOGL to delete Direct Buffers? I am looking into glDeleteBuffer(), but it seems like this only deletes the buffer from the video card memory. \r\n\r\nThanks","title":"Deallocating Direct Buffer Native Memory in Java for JOGL","body":"<p>I am using direct buffers (java.nio) to store vertex information for JOGL. These buffers are large, and they are replaced several times during the application life. The memory is not deallocated in time and I am running out of memory after a few replacements. </p>\n\n<p>It seems that there is not good way to deallocate using java.nio's buffer classes. My question is this: </p>\n\n<p>Is there some method in JOGL to delete Direct Buffers? I am looking into glDeleteBuffer(), but it seems like this only deletes the buffer from the video card memory. </p>\n\n<p>Thanks</p>\n"},{"tags":["java","mysql","sql","jdbc","db2"],"comments":[{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":0,"creation_date":1656401078,"post_id":72781796,"comment_id":128556166,"body_markdown":"Each DBMS have its own features which may absent or differ in the implementation in another DBMS. Both MySQL and DB2 have a function which returns the most last generated autoincrement value, it is LAST_INSERT_ID() in MySQL but IDENTITY_VAL_LOCAL() in DB2.","body":"Each DBMS have its own features which may absent or differ in the implementation in another DBMS. Both MySQL and DB2 have a function which returns the most last generated autoincrement value, it is LAST_INSERT_ID() in MySQL but IDENTITY_VAL_LOCAL() in DB2."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1656404005,"post_id":72781796,"comment_id":128557176,"body_markdown":"I have fixed two obvious issues in your `sql` string (unquoted string values, and missing close double quote), under the assumption that was a transcription issue. If that is not the case, then please make sure your code is a [mre] and actually compiles and executes as expected.","body":"I have fixed two obvious issues in your <code>sql</code> string (unquoted string values, and missing close double quote), under the assumption that was a transcription issue. If that is not the case, then please make sure your code is a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and actually compiles and executes as expected."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1656404057,"post_id":72781796,"comment_id":128557190,"body_markdown":"Exactly which DB2 are you using, and which DB2 driver (and version)? E.g. for _DB2 for z/OS_, see [Retrieving auto-generated keys for an INSERT statement](https://www.ibm.com/docs/en/db2-for-zos/11?topic=applications-retrieving-auto-generated-keys-insert-statement)","body":"Exactly which DB2 are you using, and which DB2 driver (and version)? E.g. for <i>DB2 for z/OS</i>, see <a href=\"https://www.ibm.com/docs/en/db2-for-zos/11?topic=applications-retrieving-auto-generated-keys-insert-statement\" rel=\"nofollow noreferrer\">Retrieving auto-generated keys for an INSERT statement</a>"},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1656407388,"post_id":72781796,"comment_id":128558476,"body_markdown":"Also, please include the DDL of the table in DB2.","body":"Also, please include the DDL of the table in DB2."},{"owner":{"account_id":1270839,"reputation":18313,"user_id":1227152,"display_name":"mustaccio"},"score":1,"creation_date":1656417092,"post_id":72781796,"comment_id":128562221,"body_markdown":"I think the problem might be in `executeBatch()` -- try it without batching, using `executeUpdate()`.","body":"I think the problem might be in <code>executeBatch()</code> -- try it without batching, using <code>executeUpdate()</code>."},{"owner":{"account_id":18963475,"reputation":255,"user_id":13838425,"display_name":"stackerstack"},"score":0,"creation_date":1656424940,"post_id":72781796,"comment_id":128565615,"body_markdown":"I have added the DDL, please let me know","body":"I have added the DDL, please let me know"},{"owner":{"account_id":18963475,"reputation":255,"user_id":13838425,"display_name":"stackerstack"},"score":0,"creation_date":1656435445,"post_id":72781796,"comment_id":128569843,"body_markdown":"@mustaccio I don&#39;t think there is a difference, but it is better for me to ```executeBatch()``` because there will be more than 1 insert for the table, and its better to insert in a batch rather then insert for every item in the list","body":"@mustaccio I don&#39;t think there is a difference, but it is better for me to <code>executeBatch()</code> because there will be more than 1 insert for the table, and its better to insert in a batch rather then insert for every item in the list"},{"owner":{"account_id":1270839,"reputation":18313,"user_id":1227152,"display_name":"mustaccio"},"score":0,"creation_date":1656435669,"post_id":72781796,"comment_id":128569923,"body_markdown":"You may think what you want, but did you at least try?","body":"You may think what you want, but did you at least try?"},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1656438561,"post_id":72781796,"comment_id":128570858,"body_markdown":"@stackerstack I&#39;ve retrieved the generated keys for many tables in DB2 Windows, Linux, and AIX. Try mustaccio&#39;s solution. This should work as expected. By the way, which edition of DB2 are you using? z/OS, iSeries, LUW?","body":"@stackerstack I&#39;ve retrieved the generated keys for many tables in DB2 Windows, Linux, and AIX. Try mustaccio&#39;s solution. This should work as expected. By the way, which edition of DB2 are you using? z/OS, iSeries, LUW?"},{"owner":{"account_id":18963475,"reputation":255,"user_id":13838425,"display_name":"stackerstack"},"score":0,"creation_date":1656439960,"post_id":72781796,"comment_id":128571302,"body_markdown":"@TheImpaler i&#39;m not exactly sure, but I am on a macbook pro, so I assume its the z/OS IBM version?","body":"@TheImpaler i&#39;m not exactly sure, but I am on a macbook pro, so I assume its the z/OS IBM version?"},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1656441421,"post_id":72781796,"comment_id":128571768,"body_markdown":"@stackerstack Try running: `select service_level from sysibmadm.env_inst_info;`","body":"@stackerstack Try running: <code>select service_level from sysibmadm.env_inst_info;</code>"},{"owner":{"account_id":18963475,"reputation":255,"user_id":13838425,"display_name":"stackerstack"},"score":0,"creation_date":1656441939,"post_id":72781796,"comment_id":128571943,"body_markdown":"@TheImpaler that gives me a SQL Code -204 error :(","body":"@TheImpaler that gives me a SQL Code -204 error :("},{"owner":{"account_id":18963475,"reputation":255,"user_id":13838425,"display_name":"stackerstack"},"score":0,"creation_date":1656441964,"post_id":72781796,"comment_id":128571950,"body_markdown":"@mustaccio But you are correct, doing a executeUpdate does retrieve the generatedKeys. Why is that though?","body":"@mustaccio But you are correct, doing a executeUpdate does retrieve the generatedKeys. Why is that though?"},{"owner":{"account_id":1270839,"reputation":18313,"user_id":1227152,"display_name":"mustaccio"},"score":0,"creation_date":1656442677,"post_id":72781796,"comment_id":128572165,"body_markdown":"I&#39;m afraid you&#39;ll have to ask the Db2 driver developers. I personally don&#39;t see the usefulness of returning generated IDs for a batch of statements, because you won&#39;t be able to attribute an ID to a particular statement in the batch, especially if any of the statements have failed.","body":"I&#39;m afraid you&#39;ll have to ask the Db2 driver developers. I personally don&#39;t see the usefulness of returning generated IDs for a batch of statements, because you won&#39;t be able to attribute an ID to a particular statement in the batch, especially if any of the statements have failed."},{"owner":{"account_id":18963475,"reputation":255,"user_id":13838425,"display_name":"stackerstack"},"score":0,"creation_date":1656470227,"post_id":72781796,"comment_id":128578014,"body_markdown":"The reason I do that is because I can use the inserted and generated primary key ids to do a select on those where ID = returned keys. This then lets me return the inserted objects as a json with new id showing.","body":"The reason I do that is because I can use the inserted and generated primary key ids to do a select on those where ID = returned keys. This then lets me return the inserted objects as a json with new id showing."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1656488714,"post_id":72781796,"comment_id":128582061,"body_markdown":"Support for generated keys when executing batches is not required by the JDBC specification, specifically, the JDBC 4.3 specification, section 13.6 _Retrieving Auto Generated Values_ says _&quot;It is implementation-defined as to whether `getGeneratedKeys` will return generated values after invoking the `executeBatch` method.&quot;_. It looks like IBM decided not to support it for DB2 (maybe they can&#39;t do it easily or performant).","body":"Support for generated keys when executing batches is not required by the JDBC specification, specifically, the JDBC 4.3 specification, section 13.6 <i>Retrieving Auto Generated Values</i> says <i>&quot;It is implementation-defined as to whether <code>getGeneratedKeys</code> will return generated values after invoking the <code>executeBatch</code> method.&quot;</i>. It looks like IBM decided not to support it for DB2 (maybe they can&#39;t do it easily or performant)."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1656489081,"post_id":72781796,"comment_id":128582207,"body_markdown":"Interestingly, [Making batch updates in JDBC applications](https://www.ibm.com/docs/en/db2-for-zos/11?topic=sql-making-batch-updates-in-jdbc-applications) seems to suggest generated keys are available after batch execution with the non-standard method `DB2PreparedStatement.getDBGeneratedKeys` (which returns an array of result sets, presumably one for each set of parameters in the batch).","body":"Interestingly, <a href=\"https://www.ibm.com/docs/en/db2-for-zos/11?topic=sql-making-batch-updates-in-jdbc-applications\" rel=\"nofollow noreferrer\">Making batch updates in JDBC applications</a> seems to suggest generated keys are available after batch execution with the non-standard method <code>DB2PreparedStatement.getDBGeneratedKeys</code> (which returns an array of result sets, presumably one for each set of parameters in the batch)."}],"answers":[{"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1656405581,"post_id":72783207,"comment_id":128557786,"body_markdown":"If it is important to support both databases, it would be better to remove autoincrement and create the id&#39;s in java code, so it will work in any DB.","body":"If it is important to support both databases, it would be better to remove autoincrement and create the id&#39;s in java code, so it will work in any DB."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1656405841,"post_id":72783207,"comment_id":128557877,"body_markdown":"@JustanotherJavaprogrammer autoincrement is good for MySQL, but it&#39;s not available in DB2, so the sequence is used to get the next key.","body":"@JustanotherJavaprogrammer autoincrement is good for MySQL, but it&#39;s not available in DB2, so the sequence is used to get the next key."},{"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1656406471,"post_id":72783207,"comment_id":128558132,"body_markdown":"I think you are making assumptions about the DDL that are not included in the question. The link I posted in a comment on the question suggests that (some) DB2 version do have identity columns, and do support retrieving generated keys.","body":"I think you are making assumptions about the DDL that are not included in the question. The link I posted in a comment on the question suggests that (some) DB2 version do have identity columns, and do support retrieving generated keys."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1656407285,"post_id":72783207,"comment_id":128558443,"body_markdown":"@MarkRotteveel Yes, let them add wrong DDL to the question. I thought it is only the issue when a generated key is not returning.","body":"@MarkRotteveel Yes, let them add wrong DDL to the question. I thought it is only the issue when a generated key is not returning."},{"owner":{"account_id":18963475,"reputation":255,"user_id":13838425,"display_name":"stackerstack"},"score":0,"creation_date":1656423390,"post_id":72783207,"comment_id":128564884,"body_markdown":"@RomanC when you say &quot;Since no records are inserted into DB2 the value of the key is not available.&quot; do you mean that it is not inserting a record into DB2 and therefore the key isn&#39;t incremented and generated? Because it actually DOES insert the record after the commit(), it&#39;s just that the ```getGeneratedKeys()``` returns nothing for the DB2","body":"@RomanC when you say &quot;Since no records are inserted into DB2 the value of the key is not available.&quot; do you mean that it is not inserting a record into DB2 and therefore the key isn&#39;t incremented and generated? Because it actually DOES insert the record after the commit(), it&#39;s just that the <code>getGeneratedKeys()</code> returns nothing for the DB2"},{"owner":{"account_id":18963475,"reputation":255,"user_id":13838425,"display_name":"stackerstack"},"score":0,"creation_date":1656424969,"post_id":72783207,"comment_id":128565633,"body_markdown":"I have added the DDL, please let me know what you think","body":"I have added the DDL, please let me know what you think"},{"owner":{"account_id":8591840,"reputation":46475,"user_id":6436191,"display_name":"The Impaler"},"score":0,"creation_date":1656438438,"post_id":72783207,"comment_id":128570826,"body_markdown":"@RomanC DB2 implements both types of `IDENTITY` so it does implement the same functionality as MySQL.","body":"@RomanC DB2 implements both types of <code>IDENTITY</code> so it does implement the same functionality as MySQL."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1656784315,"post_id":72783207,"comment_id":128658083,"body_markdown":"@stackerstack It cannot insert a record  without a key...","body":"@stackerstack It cannot insert a record  without a key..."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1656784485,"post_id":72783207,"comment_id":128658123,"body_markdown":"@TheImpaler Now I see it, since OP has added DB2 DDL.","body":"@TheImpaler Now I see it, since OP has added DB2 DDL."}],"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"comment_count":9,"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1656784716,"creation_date":1656405258,"answer_id":72783207,"question_id":72781796,"body_markdown":"&gt;Am I doing something wrong? Is this just an incompatibility issue with DB2 and it just does not return the generated value? If so, what would be the best solution for tackling this issue?\r\n\r\nYes, you are doing wrong. It&#39;s not incompatibility issue, and it&#39;s not an issue. DB2 is different than MySQL. You can&#39;t handle both because you have incompatible DDL. Since no records are inserted into DB2 the value of the key is not available.\r\n\r\nThe solution to the issue is to create a trigger on insert a record to make sure the primary key is inserted into DB. If you are missing a key then select it from the sequence and substitute the value.\r\n\r\nNow if identity is generated into DB2 like this\r\n```\r\nCREATE TABLE STUDENT\r\n(\r\n  ID INTEGER DEFAULT IDENTITY GENERATED ALWAYS NOT NULL\r\n  PRIMARY KEY (ID)\r\n)\r\n```\r\n\r\nSo it will always return `getGeneratedKeys()`.","title":"Java prepared statement get generated keys do not work in DB2 but work in mySQL?","body":"<blockquote>\n<p>Am I doing something wrong? Is this just an incompatibility issue with DB2 and it just does not return the generated value? If so, what would be the best solution for tackling this issue?</p>\n</blockquote>\n<p>Yes, you are doing wrong. It's not incompatibility issue, and it's not an issue. DB2 is different than MySQL. You can't handle both because you have incompatible DDL. Since no records are inserted into DB2 the value of the key is not available.</p>\n<p>The solution to the issue is to create a trigger on insert a record to make sure the primary key is inserted into DB. If you are missing a key then select it from the sequence and substitute the value.</p>\n<p>Now if identity is generated into DB2 like this</p>\n<pre><code>CREATE TABLE STUDENT\n(\n  ID INTEGER DEFAULT IDENTITY GENERATED ALWAYS NOT NULL\n  PRIMARY KEY (ID)\n)\n</code></pre>\n<p>So it will always return <code>getGeneratedKeys()</code>.</p>\n"},{"tags":[],"owner":{"account_id":14422603,"reputation":11689,"user_id":10418264,"display_name":"Mark Barinstein"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656584572,"creation_date":1656584572,"answer_id":72814165,"question_id":72781796,"body_markdown":"    CREATE TABLE STUDENT \r\n    (\r\n      ID\t\t\tINT NOT NULL GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY\r\n    , FIRST_NAME\tVARCHAR (20)\r\n    , LAST_NAME\t\tVARCHAR (20)\r\n    , AGE\t\t\tSMALLINT\r\n    );\r\n\r\nThe following code based on the [Making batch updates in JDBC applications](https://www.ibm.com/docs/en/db2/11.5?topic=sql-making-batch-updates-in-jdbc-applications) links (this one is for Db2 for LUW) provided by others works as expected with the table definition above:\r\n\r\n\r\n\r\n  \t\t\t  PreparedStatement ps = con.prepareStatement\r\n  \t\t\t  ( \r\n  \t\t\t    &quot;INSERT INTO STUDENT (FIRST_NAME, LAST_NAME, AGE) &quot; +\r\n  \t\t\t    &quot;VALUES (?,?,?)&quot;\r\n  \t\t\t  , Statement.RETURN_GENERATED_KEYS\r\n  \t\t\t  );\r\n  \t\t\t  ps.setString (1, &quot;Jacob&quot;); \r\n  \t\t\t  ps.setString (2, &quot;Eldy&quot;);\r\n  \t\t\t  ps.setShort (3, (short) 19);\r\n  \t\t\t  ps.addBatch(); \r\n  \t\t\t  ps.setString (1, &quot;Jacob&quot;); \r\n  \t\t\t  ps.setString (2, &quot;Eldy&quot;);\r\n  \t\t\t  ps.setShort (3, (short) 19);\r\n  \t\t\t  ps.addBatch();                                  \r\n\r\n  \t\t\t  int [] numUpdates = ps.executeBatch(); \r\n\r\n  \t\t\t  for (int i=0; i &lt; numUpdates.length; i++) \r\n  \t\t\t    if (numUpdates[i] == Statement.SUCCESS_NO_INFO)\r\n  \t\t\t      System.out.println(&quot;Execution &quot; + i + &quot;: unknown number of rows updated&quot;);\r\n  \t\t\t    else\r\n  \t\t\t      System.out.println(&quot;Execution &quot; + i + &quot; successful: &quot; + numUpdates[i] + &quot; rows updated&quot;);\r\n  \t\t\t  ResultSet[] resultList = ((com.ibm.db2.jcc.DB2PreparedStatement) ps).getDBGeneratedKeys(); \r\n  \t\t\t  if (resultList.length != 0) \r\n  \t\t\t    for (int i = 0; i &lt; resultList.length; i++) \r\n  \t\t\t    {\r\n  \t\t\t        while (resultList[i].next()) \r\n  \t\t\t          System.out.println(&quot;Automatically generated key value = &quot; + resultList[i].getBigDecimal(1));\r\n  \t\t\t        resultList[i].close();\r\n  \t\t\t    }\r\n  \t\t\t  else\r\n  \t\t\t    System.out.println(&quot;Error retrieving automatically generated keys&quot;);\r\n\r\n","title":"Java prepared statement get generated keys do not work in DB2 but work in mySQL?","body":"<pre><code>CREATE TABLE STUDENT \n(\n  ID            INT NOT NULL GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY\n, FIRST_NAME    VARCHAR (20)\n, LAST_NAME     VARCHAR (20)\n, AGE           SMALLINT\n);\n</code></pre>\n<p>The following code based on the <a href=\"https://www.ibm.com/docs/en/db2/11.5?topic=sql-making-batch-updates-in-jdbc-applications\" rel=\"nofollow noreferrer\">Making batch updates in JDBC applications</a> links (this one is for Db2 for LUW) provided by others works as expected with the table definition above:</p>\n<pre><code>          PreparedStatement ps = con.prepareStatement\n          ( \n            &quot;INSERT INTO STUDENT (FIRST_NAME, LAST_NAME, AGE) &quot; +\n            &quot;VALUES (?,?,?)&quot;\n          , Statement.RETURN_GENERATED_KEYS\n          );\n          ps.setString (1, &quot;Jacob&quot;); \n          ps.setString (2, &quot;Eldy&quot;);\n          ps.setShort (3, (short) 19);\n          ps.addBatch(); \n          ps.setString (1, &quot;Jacob&quot;); \n          ps.setString (2, &quot;Eldy&quot;);\n          ps.setShort (3, (short) 19);\n          ps.addBatch();                                  \n\n          int [] numUpdates = ps.executeBatch(); \n\n          for (int i=0; i &lt; numUpdates.length; i++) \n            if (numUpdates[i] == Statement.SUCCESS_NO_INFO)\n              System.out.println(&quot;Execution &quot; + i + &quot;: unknown number of rows updated&quot;);\n            else\n              System.out.println(&quot;Execution &quot; + i + &quot; successful: &quot; + numUpdates[i] + &quot; rows updated&quot;);\n          ResultSet[] resultList = ((com.ibm.db2.jcc.DB2PreparedStatement) ps).getDBGeneratedKeys(); \n          if (resultList.length != 0) \n            for (int i = 0; i &lt; resultList.length; i++) \n            {\n                while (resultList[i].next()) \n                  System.out.println(&quot;Automatically generated key value = &quot; + resultList[i].getBigDecimal(1));\n                resultList[i].close();\n            }\n          else\n            System.out.println(&quot;Error retrieving automatically generated keys&quot;);\n</code></pre>\n"}],"owner":{"account_id":18963475,"reputation":255,"user_id":13838425,"display_name":"stackerstack"},"comment_count":17,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":422,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1696581650,"creation_date":1656398619,"question_id":72781796,"body_markdown":"I have a very simple table that is in both MySQL and DB2 called `STUDENT`. The columns are: `ID` (primary key, auto incrementing), `FIRST_NAME`, `LAST_NAME`, `AGE`.\r\n\r\nThe table is replicated in both databases, so they should be the same syntactically. \r\n\r\nHowever, I have spent the entire day trying to figure out why, when I write a simple Java program to insert into the database, the MySQL version returns back the generated key via `PreparedStatement.getGeneratedKeys()`, while the DB2 version does not return anything. \r\n\r\nMy code looks like:\r\n\r\n```java\r\nString sql = &quot;INSERT INTO STUDENT (FIRST_NAME, LAST_NAME, AGE) VALUES (&#39;Jacob&#39;, &#39;Eldy&#39;, 19)&quot;\r\n\r\nfinal Connection connection = getConnection(dataSource.get());\r\n\r\nint[] insertedRows = null;\r\nResultSet rs = null;\r\nPreparedStatement ps = null;\r\ntry {\r\n\tps = connection.prepareStatement(sql, Statement.RETURN_GENERATED_KEYS);\r\n\tps.addBatch();\r\n\t\r\n\tinsertedRows = ps.executeBatch();\r\n\r\n\trs = ps.getGeneratedKeys();\r\n\t\r\n\twhile(rs.next()) {\r\n\t\tLOGGER.info(rs.getString(1));\r\n\t}\r\n\tconnection.commit();\r\n} catch (Exception e) {\r\n\ttry {\r\n\t\tconnection.rollback();\r\n\t} catch (SQLException e) {\r\n\t\te.printStackTrace();\r\n\t}\r\n\r\n} finally {\r\n\tclose(ps, connection);\r\n}\r\n```\r\n\r\nAfter committing the connection for both databases DB2 and MySQL, both actually show the row being inserted, and the more I insert, a new row appears with an auto incremented `ID`, however only the MySQL database has a value in `while(rs.next())`, the DB2 version just skips over it since it is empty.\r\n\r\nAm I doing something wrong? Is this just an incompatibility issue with DB2 and it just does not return the generated value? If so, what would be the best solution for tackling this issue?\r\n\r\n\r\nUPDATE, adding the two DDLs for DB2 &amp; mySQL:\r\n\r\nmySQL DDL:\r\n```\r\nCREATE TABLE &#39;STUDENT&#39;\r\n  ...\r\n  `ID` int NOT NULL AUTO_INCREMENT\r\n  PRIMARY KEY(&#39;ID&#39;)\r\n  AUTO_INCREMENT=19073\r\n```\r\n\r\nDB2 DDL:\r\n```\r\nCREATE TABLE STUDENT\r\n(\r\n  ID INTEGER DEFAULT IDENTITY GENERATED ALWAYS NOT NULL\r\n  PRIMARY KEY (ID)\r\n)\r\n```\r\n\r\n","title":"Java prepared statement get generated keys do not work in DB2 but work in mySQL?","body":"<p>I have a very simple table that is in both MySQL and DB2 called <code>STUDENT</code>. The columns are: <code>ID</code> (primary key, auto incrementing), <code>FIRST_NAME</code>, <code>LAST_NAME</code>, <code>AGE</code>.</p>\n<p>The table is replicated in both databases, so they should be the same syntactically.</p>\n<p>However, I have spent the entire day trying to figure out why, when I write a simple Java program to insert into the database, the MySQL version returns back the generated key via <code>PreparedStatement.getGeneratedKeys()</code>, while the DB2 version does not return anything.</p>\n<p>My code looks like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String sql = &quot;INSERT INTO STUDENT (FIRST_NAME, LAST_NAME, AGE) VALUES ('Jacob', 'Eldy', 19)&quot;\n\nfinal Connection connection = getConnection(dataSource.get());\n\nint[] insertedRows = null;\nResultSet rs = null;\nPreparedStatement ps = null;\ntry {\n    ps = connection.prepareStatement(sql, Statement.RETURN_GENERATED_KEYS);\n    ps.addBatch();\n    \n    insertedRows = ps.executeBatch();\n\n    rs = ps.getGeneratedKeys();\n    \n    while(rs.next()) {\n        LOGGER.info(rs.getString(1));\n    }\n    connection.commit();\n} catch (Exception e) {\n    try {\n        connection.rollback();\n    } catch (SQLException e) {\n        e.printStackTrace();\n    }\n\n} finally {\n    close(ps, connection);\n}\n</code></pre>\n<p>After committing the connection for both databases DB2 and MySQL, both actually show the row being inserted, and the more I insert, a new row appears with an auto incremented <code>ID</code>, however only the MySQL database has a value in <code>while(rs.next())</code>, the DB2 version just skips over it since it is empty.</p>\n<p>Am I doing something wrong? Is this just an incompatibility issue with DB2 and it just does not return the generated value? If so, what would be the best solution for tackling this issue?</p>\n<p>UPDATE, adding the two DDLs for DB2 &amp; mySQL:</p>\n<p>mySQL DDL:</p>\n<pre><code>CREATE TABLE 'STUDENT'\n  ...\n  `ID` int NOT NULL AUTO_INCREMENT\n  PRIMARY KEY('ID')\n  AUTO_INCREMENT=19073\n</code></pre>\n<p>DB2 DDL:</p>\n<pre><code>CREATE TABLE STUDENT\n(\n  ID INTEGER DEFAULT IDENTITY GENERATED ALWAYS NOT NULL\n  PRIMARY KEY (ID)\n)\n</code></pre>\n"},{"tags":["java","maven","intellij-idea","java-platform-module-system"],"comments":[{"owner":{"account_id":420683,"reputation":10207,"user_id":798502,"accept_rate":86,"display_name":"seinecle"},"score":0,"creation_date":1613586064,"post_id":65863247,"comment_id":117123106,"body_markdown":"same problem here. Found a solution?","body":"same problem here. Found a solution?"},{"owner":{"account_id":20098354,"reputation":504,"user_id":14737400,"display_name":"miroana"},"score":3,"creation_date":1618569500,"post_id":65863247,"comment_id":118646834,"body_markdown":"tried to replace everything what was java.activation with jakarta.activation, however\nI was using cxf plugin which requires java.activation. So, backtracked to java.activation and gave up on modularization. In the end I made JRE with all\nJAVA&#39;s base modules, excluding application specific modules","body":"tried to replace everything what was java.activation with jakarta.activation, however I was using cxf plugin which requires java.activation. So, backtracked to java.activation and gave up on modularization. In the end I made JRE with all JAVA&#39;s base modules, excluding application specific modules"}],"answers":[{"tags":[],"owner":{"account_id":435719,"reputation":513,"user_id":822461,"display_name":"Yaytay"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696581479,"creation_date":1696581479,"answer_id":77243009,"question_id":65863247,"body_markdown":"Based on my experience with the same problem I think you have two things broken:\r\n\r\nFirstly:\r\n\r\nhttps://github.com/jakartaee/jaf-api/issues/38\r\n\r\njakarta.activation and jakarta.activatio-api cannot be on the classpath at the same time, so you do have to remove one of them.\r\n\r\nSecondly:\r\n\r\nThe error you get after is unrelated, it&#39;s complaining about java.activation, not jakarta.activation.\r\nSomething else is bring in a dependency on java.activation.\r\nThis could be an explicit dependncy on javax.activation or it could be a transitive dependency from something else (like jaxb-api).\r\n\r\nIn my case I had to exclude both javax.activation and jaxb-api from the dependency on liquibase-core.","title":"Java modularization. Error: Two versions of module jakarta.activation found(jakarta.activation-api-1.2.2.jar and jakarta.activation-1.2.2.jar)","body":"<p>Based on my experience with the same problem I think you have two things broken:</p>\n<p>Firstly:</p>\n<p><a href=\"https://github.com/jakartaee/jaf-api/issues/38\" rel=\"nofollow noreferrer\">https://github.com/jakartaee/jaf-api/issues/38</a></p>\n<p>jakarta.activation and jakarta.activatio-api cannot be on the classpath at the same time, so you do have to remove one of them.</p>\n<p>Secondly:</p>\n<p>The error you get after is unrelated, it's complaining about java.activation, not jakarta.activation.\nSomething else is bring in a dependency on java.activation.\nThis could be an explicit dependncy on javax.activation or it could be a transitive dependency from something else (like jaxb-api).</p>\n<p>In my case I had to exclude both javax.activation and jaxb-api from the dependency on liquibase-core.</p>\n"}],"owner":{"account_id":20098354,"reputation":504,"user_id":14737400,"display_name":"miroana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2488,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1696581479,"creation_date":1611428484,"question_id":65863247,"body_markdown":"I have a `modules` folder with a content of \r\n\r\n    antlr-runtime-3.5.2.jar\r\n    antlr4-4.8-1.jar\r\n    antlr4-runtime-4.8-1.jar\r\n    byte-buddy-1.10.10.jar\r\n    classmate-1.5.1.jar\r\n    cxf-core-3.4.1.jar\r\n    dom4j-2.1.3.jar\r\n    FastInfoset-1.2.13.jar\r\n    gmbal-4.0.1.jar\r\n    ha-api-3.1.12.jar\r\n    hibernate-commons-annotations-5.1.0.Final.jar\r\n    hibernate-core-6.0.0.Alpha6.jar\r\n    icu4j-61.1.jar\r\n    istack-commons-runtime-3.0.5.jar\r\n    jakarta.activation-1.2.2.jar\r\n    jakarta.activation-api-1.2.2.jar\r\n    jakarta.annotation-api-1.3.5.jar\r\n    jakarta.jws-api-2.1.0.jar\r\n    jakarta.transaction-api-1.3.3.jar\r\n    jakarta.xml.bind-api-2.3.3.jar\r\n    jakarta.xml.soap-api-1.4.2.jar\r\n    jakarta.xml.ws-api-2.3.3.jar\r\n    jandex-2.1.3.Final.jar\r\n    javax.activation-api-1.2.0.jar\r\n    javax.json-1.0.4.jar\r\n    javax.persistence-api-2.2.jar\r\n    jaxb-impl-2.3.3.jar\r\n    jaxws-rt-2.3.3.jar\r\n    jboss-logging-3.3.2.Final.jar\r\n    jboss-rmi-api_1.0_spec-1.0.6.Final.jar\r\n    jboss-transaction-api_1.2_spec-1.1.1.Final.jar\r\n    log4j-api-2.14.0.jar\r\n    log4j-core-2.14.0.jar\r\n    log4j-slf4j-impl-2.14.0.jar\r\n    management-api-3.2.2.jar\r\n    mimepull-1.9.13.jar\r\n    org.abego.treelayout.core-1.0.3.jar\r\n    pfl-basic-4.1.0.jar\r\n    pfl-tf-4.1.0.jar\r\n    policy-2.7.10.jar\r\n    saaj-impl-1.5.2.jar\r\n    slf4j-api-1.7.25.jar\r\n    ST4-4.3.jar\r\n    stax-ex-1.7.8.jar\r\n    stax2-api-4.1.jar\r\n    streambuffer-1.5.9.jar\r\n    txw2-2.3.0.jar\r\n    woodstox-core-6.2.1.jar\r\n    xmlschema-core-2.2.5.jar\r\n\r\nafter executing the command\r\n\r\n    jlink --module-path=&quot;[path_]\\target\\modules&quot; --compress=2  --add-modules=java.persistence,java.activation,spring.context,spring.beans,org.apache.cxf.core,java.xml,java.xml.bind,slf4j.api --no-header-files --no-man-pages --verbose --output=&quot;C:\\Users\\test\\out&quot;\r\n\r\n\r\nI get an error saying\r\n\r\n    Error: Two versions of module jakarta.activation found in [path_]\\target\\modules (jakarta.activation-api-1.2.2.jar and jakarta.activation-1.2.2.jar)\r\n\r\nStrange thing is that when I remove `jakarta.activation-api-1.2.2.jar` or `jakarta.activation-1.2.2.jar`\r\nJava then starts complaining \r\n\r\n    Error: Module java.activation not found\r\n\r\nMy `module-info.java` file \r\n\r\n    module my.module.test {\r\n        requires java.persistence;\r\n        requires java.activation;\r\n        requires spring.context;\r\n        requires spring.beans;\r\n        requires org.apache.cxf.core;\r\n        requires java.xml;\r\n        requires java.xml.bind;\r\n        requires slf4j.api;\r\n    }\r\n\r\nMy dependencies\r\n\r\n    &lt;properties&gt;\r\n    \t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    \t&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    \t&lt;jaxb-and-jaxws-lib.version&gt;2.3.3&lt;/jaxb-and-jaxws-lib.version&gt;\r\n    \t&lt;logging.version&gt;2.14.0&lt;/logging.version&gt;\r\n    \t&lt;junit-jupiter-api.version&gt;5.7.0&lt;/junit-jupiter-api.version&gt;\r\n    \t&lt;junit-jupiter-params.version&gt;5.7.0&lt;/junit-jupiter-params.version&gt;\r\n    \t&lt;mockito-junit-jupiter.version&gt;3.5.10&lt;/mockito-junit-jupiter.version&gt;\r\n    \t&lt;cxf-xjc-plugin.version&gt;3.3.1&lt;/cxf-xjc-plugin.version&gt;\r\n    \t&lt;maven.compiler.plugin&gt;3.8.1&lt;/maven.compiler.plugin&gt;\r\n    \t&lt;maven-surefire-plugin.version&gt;3.0.0-M5&lt;/maven-surefire-plugin.version&gt;\r\n    \t&lt;hibernate-core.version&gt;6.0.0.Alpha6&lt;/hibernate-core.version&gt;\r\n    \t&lt;hibernate-commons-annotations.version&gt;5.1.2.Final&lt;/hibernate-commons-annotations.version&gt;\r\n    \t&lt;cxf-core.version&gt;3.4.1&lt;/cxf-core.version&gt;\r\n    \t&lt;spring-context.version&gt;5.3.1&lt;/spring-context.version&gt;\r\n    \t&lt;jakarta.transaction-api.version&gt;1.3.3&lt;/jakarta.transaction-api.version&gt;\r\n    &lt;/properties&gt;\r\n    &lt;dependencies&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${hibernate-core.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;jakarta.transaction&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jakarta.transaction-api&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${jakarta.transaction-api.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${spring-context.version}&lt;/version&gt;\r\n    \t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;cxf-core&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${cxf-core.version}&lt;/version&gt;\r\n    \t\t&lt;exclusions&gt;\r\n    \t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;geronimo-jta_1.1_spec&lt;/artifactId&gt;\r\n    \t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;geronimo-jta_1.1_spec&lt;/artifactId&gt;\r\n    \t\t\t&lt;/exclusion&gt;\r\n    \t\t&lt;/exclusions&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${logging.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${mockito-junit-jupiter.version}&lt;/version&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n    \t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${jaxb-and-jaxws-lib.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${jaxb-and-jaxws-lib.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;javax.activation&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;javax.activation-api&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.2.0&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${junit-jupiter-params.version}&lt;/version&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${junit-jupiter-api.version}&lt;/version&gt;\r\n    \t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${logging.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.2&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;${logging.version}&lt;/version&gt;\r\n    \t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nIntelliJ `module-info.java`\r\n\r\nis complaining about `java.xml.bind`, but does not fail upon compilation, but for some reasons Jlink is failing. How to resolve this situation, so that I could build a custom JRE with Jlink?\r\n[![enter image description here][1]][1]\r\n\r\n\r\n**Update no. 1**\r\n\r\nI&#39;m using \r\n\r\n    IntelliJ IDEA 2020.3.1 (Community Edition)\r\n\r\n    Java jdk-11.0.9.1+1\r\n\r\n\r\n**Update no.2**\r\n\r\n`mvn dependency:tree` output\r\n\r\n    [INFO] +- org.hibernate.orm:hibernate-core:jar:6.0.0.Alpha6:compile\r\n    [INFO] |  +- org.jboss.logging:jboss-logging:jar:3.3.2.Final:compile\r\n    [INFO] |  +- net.bytebuddy:byte-buddy:jar:1.10.10:compile\r\n    [INFO] |  +- org.antlr:antlr4:jar:4.8-1:compile\r\n    [INFO] |  |  +- org.antlr:antlr4-runtime:jar:4.8-1:compile\r\n    [INFO] |  |  +- org.antlr:antlr-runtime:jar:3.5.2:compile\r\n    [INFO] |  |  +- org.antlr:ST4:jar:4.3:compile\r\n    [INFO] |  |  +- org.abego.treelayout:org.abego.treelayout.core:jar:1.0.3:compile\r\n    [INFO] |  |  +- org.glassfish:javax.json:jar:1.0.4:compile\r\n    [INFO] |  |  \\- com.ibm.icu:icu4j:jar:61.1:compile\r\n    [INFO] |  +- org.jboss.spec.javax.transaction:jboss-transaction-api_1.2_spec:jar:1.1.1.Final:compile\r\n    [INFO] |  +- org.jboss:jandex:jar:2.1.3.Final:compile\r\n    [INFO] |  +- com.fasterxml:classmate:jar:1.5.1:compile\r\n    [INFO] |  +- org.dom4j:dom4j:jar:2.1.3:compile\r\n    [INFO] |  \\- org.hibernate.common:hibernate-commons-annotations:jar:5.1.0.Final:compile\r\n    [INFO] +- jakarta.transaction:jakarta.transaction-api:jar:1.3.3:compile\r\n    [INFO] +- org.springframework:spring-context:jar:5.3.1:provided\r\n    [INFO] |  +- org.springframework:spring-aop:jar:5.3.1:provided\r\n    [INFO] |  +- org.springframework:spring-beans:jar:5.3.1:provided\r\n    [INFO] |  +- org.springframework:spring-core:jar:5.3.1:provided\r\n    [INFO] |  |  \\- org.springframework:spring-jcl:jar:5.3.1:provided\r\n    [INFO] |  \\- org.springframework:spring-expression:jar:5.3.1:provided\r\n    [INFO] +- javax.xml.bind:jaxb-api:jar:2.3.0:compile\r\n    [INFO] +- org.apache.cxf:cxf-core:jar:3.4.1:compile\r\n    [INFO] |  +- com.fasterxml.woodstox:woodstox-core:jar:6.2.1:compile\r\n    [INFO] |  +- org.apache.ws.xmlschema:xmlschema-core:jar:2.2.5:compile\r\n    [INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.3:compile\r\n    [INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:1.2.2:compile\r\n    [INFO] |  +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile\r\n    [INFO] |  +- jakarta.jws:jakarta.jws-api:jar:2.1.0:compile\r\n    [INFO] |  +- jakarta.xml.soap:jakarta.xml.soap-api:jar:1.4.2:compile\r\n    [INFO] |  +- com.sun.activation:jakarta.activation:jar:1.2.2:compile\r\n    [INFO] |  +- com.sun.xml.messaging.saaj:saaj-impl:jar:1.5.2:runtime\r\n    [INFO] |  \\- org.jboss.spec.javax.rmi:jboss-rmi-api_1.0_spec:jar:1.0.6.Final:compile\r\n    [INFO] +- org.glassfish.jaxb:jaxb-runtime:jar:2.3.0:runtime\r\n    [INFO] |  +- org.glassfish.jaxb:jaxb-core:jar:2.3.0:runtime\r\n    [INFO] |  |  +- org.glassfish.jaxb:txw2:jar:2.3.0:runtime\r\n    [INFO] |  |  \\- com.sun.istack:istack-commons-runtime:jar:3.0.5:runtime\r\n    [INFO] |  +- org.jvnet.staxex:stax-ex:jar:1.7.8:compile\r\n    [INFO] |  \\- com.sun.xml.fastinfoset:FastInfoset:jar:1.2.13:compile\r\n    [INFO] +- jakarta.xml.ws:jakarta.xml.ws-api:jar:2.3.3:compile\r\n    [INFO] +- com.sun.xml.ws:jaxws-rt:jar:2.3.3:compile\r\n    [INFO] |  +- com.sun.xml.ws:policy:jar:2.7.10:compile\r\n    [INFO] |  +- com.sun.xml.bind:jaxb-impl:jar:2.3.3:compile\r\n    [INFO] |  +- org.glassfish.ha:ha-api:jar:3.1.12:compile\r\n    [INFO] |  +- org.glassfish.external:management-api:jar:3.2.2:compile\r\n    [INFO] |  +- org.glassfish.gmbal:gmbal:jar:4.0.1:compile\r\n    [INFO] |  +- org.glassfish.pfl:pfl-tf:jar:4.1.0:compile\r\n    [INFO] |  +- org.glassfish.pfl:pfl-basic:jar:4.1.0:compile\r\n    [INFO] |  +- com.sun.xml.stream.buffer:streambuffer:jar:1.5.9:compile\r\n    [INFO] |  +- org.jvnet.mimepull:mimepull:jar:1.9.13:compile\r\n    [INFO] |  \\- org.codehaus.woodstox:stax2-api:jar:4.1:compile\r\n    [INFO] +- javax.activation:javax.activation-api:jar:1.2.0:compile\r\n    [INFO] +- org.apache.logging.log4j:log4j-api:jar:2.14.0:compile\r\n    [INFO] +- javax.persistence:javax.persistence-api:jar:2.2:compile\r\n    [INFO] +- org.apache.logging.log4j:log4j-core:jar:2.14.0:compile\r\n    [INFO] +- org.apache.logging.log4j:log4j-slf4j-impl:jar:2.14.0:compile\r\n    [INFO] |  \\- org.slf4j:slf4j-api:jar:1.7.25:compile\r\n    [INFO] +- org.junit.jupiter:junit-jupiter-params:jar:5.7.0:test\r\n    [INFO] |  \\- org.apiguardian:apiguardian-api:jar:1.1.0:test\r\n    [INFO] +- org.junit.jupiter:junit-jupiter-api:jar:5.7.0:test\r\n    [INFO] |  +- org.opentest4j:opentest4j:jar:1.2.0:test\r\n    [INFO] |  \\- org.junit.platform:junit-platform-commons:jar:1.7.0:test\r\n    [INFO] \\- org.mockito:mockito-junit-jupiter:jar:3.5.10:test\r\n    [INFO]    \\- org.mockito:mockito-core:jar:3.5.10:test\r\n    [INFO]       +- net.bytebuddy:byte-buddy-agent:jar:1.10.13:test\r\n    [INFO]       \\- org.objenesis:objenesis:jar:3.1:test\r\n\r\n**Update no.3**\r\n\r\n`modules` folder is created from `maven-dependency-plugin` (configuration source: [java 10 migration][2])\r\n\r\n\t&lt;plugin&gt;\r\n\t\t&lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.1.2&lt;/version&gt;\r\n\t\t&lt;executions&gt;\r\n\t\t\t&lt;execution&gt;\r\n\t\t\t\t&lt;id&gt;copy&lt;/id&gt;\r\n\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n\t\t\t\t&lt;goals&gt;\r\n\t\t\t\t\t&lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n\t\t\t\t&lt;/goals&gt;\r\n\t\t\t\t&lt;configuration&gt;\r\n\t\t\t\t\t&lt;outputDirectory&gt;${project.build.directory}/modules&lt;/outputDirectory&gt;\r\n\t\t\t\t\t&lt;includeScope&gt;runtime&lt;/includeScope&gt;\r\n\t\t\t\t\t&lt;excludeArtifactIds&gt;spring-boot-devtools,jaxb-api,jaxb-core,jaxb-runtime&lt;/excludeArtifactIds&gt;\r\n\t\t\t\t&lt;/configuration&gt;\r\n\t\t\t&lt;/execution&gt;\r\n\t\t&lt;/executions&gt;\r\n\t&lt;/plugin&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/eusoS.png\r\n  [2]: https://medium.com/criciumadev/java-10-migration-5d853f5b5f7e","title":"Java modularization. Error: Two versions of module jakarta.activation found(jakarta.activation-api-1.2.2.jar and jakarta.activation-1.2.2.jar)","body":"<p>I have a <code>modules</code> folder with a content of</p>\n<pre><code>antlr-runtime-3.5.2.jar\nantlr4-4.8-1.jar\nantlr4-runtime-4.8-1.jar\nbyte-buddy-1.10.10.jar\nclassmate-1.5.1.jar\ncxf-core-3.4.1.jar\ndom4j-2.1.3.jar\nFastInfoset-1.2.13.jar\ngmbal-4.0.1.jar\nha-api-3.1.12.jar\nhibernate-commons-annotations-5.1.0.Final.jar\nhibernate-core-6.0.0.Alpha6.jar\nicu4j-61.1.jar\nistack-commons-runtime-3.0.5.jar\njakarta.activation-1.2.2.jar\njakarta.activation-api-1.2.2.jar\njakarta.annotation-api-1.3.5.jar\njakarta.jws-api-2.1.0.jar\njakarta.transaction-api-1.3.3.jar\njakarta.xml.bind-api-2.3.3.jar\njakarta.xml.soap-api-1.4.2.jar\njakarta.xml.ws-api-2.3.3.jar\njandex-2.1.3.Final.jar\njavax.activation-api-1.2.0.jar\njavax.json-1.0.4.jar\njavax.persistence-api-2.2.jar\njaxb-impl-2.3.3.jar\njaxws-rt-2.3.3.jar\njboss-logging-3.3.2.Final.jar\njboss-rmi-api_1.0_spec-1.0.6.Final.jar\njboss-transaction-api_1.2_spec-1.1.1.Final.jar\nlog4j-api-2.14.0.jar\nlog4j-core-2.14.0.jar\nlog4j-slf4j-impl-2.14.0.jar\nmanagement-api-3.2.2.jar\nmimepull-1.9.13.jar\norg.abego.treelayout.core-1.0.3.jar\npfl-basic-4.1.0.jar\npfl-tf-4.1.0.jar\npolicy-2.7.10.jar\nsaaj-impl-1.5.2.jar\nslf4j-api-1.7.25.jar\nST4-4.3.jar\nstax-ex-1.7.8.jar\nstax2-api-4.1.jar\nstreambuffer-1.5.9.jar\ntxw2-2.3.0.jar\nwoodstox-core-6.2.1.jar\nxmlschema-core-2.2.5.jar\n</code></pre>\n<p>after executing the command</p>\n<pre><code>jlink --module-path=&quot;[path_]\\target\\modules&quot; --compress=2  --add-modules=java.persistence,java.activation,spring.context,spring.beans,org.apache.cxf.core,java.xml,java.xml.bind,slf4j.api --no-header-files --no-man-pages --verbose --output=&quot;C:\\Users\\test\\out&quot;\n</code></pre>\n<p>I get an error saying</p>\n<pre><code>Error: Two versions of module jakarta.activation found in [path_]\\target\\modules (jakarta.activation-api-1.2.2.jar and jakarta.activation-1.2.2.jar)\n</code></pre>\n<p>Strange thing is that when I remove <code>jakarta.activation-api-1.2.2.jar</code> or <code>jakarta.activation-1.2.2.jar</code>\nJava then starts complaining</p>\n<pre><code>Error: Module java.activation not found\n</code></pre>\n<p>My <code>module-info.java</code> file</p>\n<pre><code>module my.module.test {\n    requires java.persistence;\n    requires java.activation;\n    requires spring.context;\n    requires spring.beans;\n    requires org.apache.cxf.core;\n    requires java.xml;\n    requires java.xml.bind;\n    requires slf4j.api;\n}\n</code></pre>\n<p>My dependencies</p>\n<pre><code>&lt;properties&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n    &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n    &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;jaxb-and-jaxws-lib.version&gt;2.3.3&lt;/jaxb-and-jaxws-lib.version&gt;\n    &lt;logging.version&gt;2.14.0&lt;/logging.version&gt;\n    &lt;junit-jupiter-api.version&gt;5.7.0&lt;/junit-jupiter-api.version&gt;\n    &lt;junit-jupiter-params.version&gt;5.7.0&lt;/junit-jupiter-params.version&gt;\n    &lt;mockito-junit-jupiter.version&gt;3.5.10&lt;/mockito-junit-jupiter.version&gt;\n    &lt;cxf-xjc-plugin.version&gt;3.3.1&lt;/cxf-xjc-plugin.version&gt;\n    &lt;maven.compiler.plugin&gt;3.8.1&lt;/maven.compiler.plugin&gt;\n    &lt;maven-surefire-plugin.version&gt;3.0.0-M5&lt;/maven-surefire-plugin.version&gt;\n    &lt;hibernate-core.version&gt;6.0.0.Alpha6&lt;/hibernate-core.version&gt;\n    &lt;hibernate-commons-annotations.version&gt;5.1.2.Final&lt;/hibernate-commons-annotations.version&gt;\n    &lt;cxf-core.version&gt;3.4.1&lt;/cxf-core.version&gt;\n    &lt;spring-context.version&gt;5.3.1&lt;/spring-context.version&gt;\n    &lt;jakarta.transaction-api.version&gt;1.3.3&lt;/jakarta.transaction-api.version&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate.orm&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n        &lt;version&gt;${hibernate-core.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.transaction&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.transaction-api&lt;/artifactId&gt;\n        &lt;version&gt;${jakarta.transaction-api.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n        &lt;version&gt;${spring-context.version}&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n        &lt;artifactId&gt;cxf-core&lt;/artifactId&gt;\n        &lt;version&gt;${cxf-core.version}&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\n                &lt;artifactId&gt;geronimo-jta_1.1_spec&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;org.apache.geronimo.specs&lt;/groupId&gt;\n                &lt;artifactId&gt;geronimo-jta_1.1_spec&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n        &lt;version&gt;${logging.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n        &lt;artifactId&gt;mockito-junit-jupiter&lt;/artifactId&gt;\n        &lt;version&gt;${mockito-junit-jupiter.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n        &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.xml.ws-api&lt;/artifactId&gt;\n        &lt;version&gt;${jaxb-and-jaxws-lib.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.ws&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxws-rt&lt;/artifactId&gt;\n        &lt;version&gt;${jaxb-and-jaxws-lib.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.activation&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.activation-api&lt;/artifactId&gt;\n        &lt;version&gt;1.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-params&lt;/artifactId&gt;\n        &lt;version&gt;${junit-jupiter-params.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n        &lt;artifactId&gt;junit-jupiter-api&lt;/artifactId&gt;\n        &lt;version&gt;${junit-jupiter-api.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n        &lt;version&gt;${logging.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n        &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n        &lt;version&gt;2.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n        &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n        &lt;version&gt;${logging.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>IntelliJ <code>module-info.java</code></p>\n<p>is complaining about <code>java.xml.bind</code>, but does not fail upon compilation, but for some reasons Jlink is failing. How to resolve this situation, so that I could build a custom JRE with Jlink?\n<a href=\"https://i.stack.imgur.com/eusoS.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/eusoS.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>Update no. 1</strong></p>\n<p>I'm using</p>\n<pre><code>IntelliJ IDEA 2020.3.1 (Community Edition)\n\nJava jdk-11.0.9.1+1\n</code></pre>\n<p><strong>Update no.2</strong></p>\n<p><code>mvn dependency:tree</code> output</p>\n<pre><code>[INFO] +- org.hibernate.orm:hibernate-core:jar:6.0.0.Alpha6:compile\n[INFO] |  +- org.jboss.logging:jboss-logging:jar:3.3.2.Final:compile\n[INFO] |  +- net.bytebuddy:byte-buddy:jar:1.10.10:compile\n[INFO] |  +- org.antlr:antlr4:jar:4.8-1:compile\n[INFO] |  |  +- org.antlr:antlr4-runtime:jar:4.8-1:compile\n[INFO] |  |  +- org.antlr:antlr-runtime:jar:3.5.2:compile\n[INFO] |  |  +- org.antlr:ST4:jar:4.3:compile\n[INFO] |  |  +- org.abego.treelayout:org.abego.treelayout.core:jar:1.0.3:compile\n[INFO] |  |  +- org.glassfish:javax.json:jar:1.0.4:compile\n[INFO] |  |  \\- com.ibm.icu:icu4j:jar:61.1:compile\n[INFO] |  +- org.jboss.spec.javax.transaction:jboss-transaction-api_1.2_spec:jar:1.1.1.Final:compile\n[INFO] |  +- org.jboss:jandex:jar:2.1.3.Final:compile\n[INFO] |  +- com.fasterxml:classmate:jar:1.5.1:compile\n[INFO] |  +- org.dom4j:dom4j:jar:2.1.3:compile\n[INFO] |  \\- org.hibernate.common:hibernate-commons-annotations:jar:5.1.0.Final:compile\n[INFO] +- jakarta.transaction:jakarta.transaction-api:jar:1.3.3:compile\n[INFO] +- org.springframework:spring-context:jar:5.3.1:provided\n[INFO] |  +- org.springframework:spring-aop:jar:5.3.1:provided\n[INFO] |  +- org.springframework:spring-beans:jar:5.3.1:provided\n[INFO] |  +- org.springframework:spring-core:jar:5.3.1:provided\n[INFO] |  |  \\- org.springframework:spring-jcl:jar:5.3.1:provided\n[INFO] |  \\- org.springframework:spring-expression:jar:5.3.1:provided\n[INFO] +- javax.xml.bind:jaxb-api:jar:2.3.0:compile\n[INFO] +- org.apache.cxf:cxf-core:jar:3.4.1:compile\n[INFO] |  +- com.fasterxml.woodstox:woodstox-core:jar:6.2.1:compile\n[INFO] |  +- org.apache.ws.xmlschema:xmlschema-core:jar:2.2.5:compile\n[INFO] |  +- jakarta.xml.bind:jakarta.xml.bind-api:jar:2.3.3:compile\n[INFO] |  |  \\- jakarta.activation:jakarta.activation-api:jar:1.2.2:compile\n[INFO] |  +- jakarta.annotation:jakarta.annotation-api:jar:1.3.5:compile\n[INFO] |  +- jakarta.jws:jakarta.jws-api:jar:2.1.0:compile\n[INFO] |  +- jakarta.xml.soap:jakarta.xml.soap-api:jar:1.4.2:compile\n[INFO] |  +- com.sun.activation:jakarta.activation:jar:1.2.2:compile\n[INFO] |  +- com.sun.xml.messaging.saaj:saaj-impl:jar:1.5.2:runtime\n[INFO] |  \\- org.jboss.spec.javax.rmi:jboss-rmi-api_1.0_spec:jar:1.0.6.Final:compile\n[INFO] +- org.glassfish.jaxb:jaxb-runtime:jar:2.3.0:runtime\n[INFO] |  +- org.glassfish.jaxb:jaxb-core:jar:2.3.0:runtime\n[INFO] |  |  +- org.glassfish.jaxb:txw2:jar:2.3.0:runtime\n[INFO] |  |  \\- com.sun.istack:istack-commons-runtime:jar:3.0.5:runtime\n[INFO] |  +- org.jvnet.staxex:stax-ex:jar:1.7.8:compile\n[INFO] |  \\- com.sun.xml.fastinfoset:FastInfoset:jar:1.2.13:compile\n[INFO] +- jakarta.xml.ws:jakarta.xml.ws-api:jar:2.3.3:compile\n[INFO] +- com.sun.xml.ws:jaxws-rt:jar:2.3.3:compile\n[INFO] |  +- com.sun.xml.ws:policy:jar:2.7.10:compile\n[INFO] |  +- com.sun.xml.bind:jaxb-impl:jar:2.3.3:compile\n[INFO] |  +- org.glassfish.ha:ha-api:jar:3.1.12:compile\n[INFO] |  +- org.glassfish.external:management-api:jar:3.2.2:compile\n[INFO] |  +- org.glassfish.gmbal:gmbal:jar:4.0.1:compile\n[INFO] |  +- org.glassfish.pfl:pfl-tf:jar:4.1.0:compile\n[INFO] |  +- org.glassfish.pfl:pfl-basic:jar:4.1.0:compile\n[INFO] |  +- com.sun.xml.stream.buffer:streambuffer:jar:1.5.9:compile\n[INFO] |  +- org.jvnet.mimepull:mimepull:jar:1.9.13:compile\n[INFO] |  \\- org.codehaus.woodstox:stax2-api:jar:4.1:compile\n[INFO] +- javax.activation:javax.activation-api:jar:1.2.0:compile\n[INFO] +- org.apache.logging.log4j:log4j-api:jar:2.14.0:compile\n[INFO] +- javax.persistence:javax.persistence-api:jar:2.2:compile\n[INFO] +- org.apache.logging.log4j:log4j-core:jar:2.14.0:compile\n[INFO] +- org.apache.logging.log4j:log4j-slf4j-impl:jar:2.14.0:compile\n[INFO] |  \\- org.slf4j:slf4j-api:jar:1.7.25:compile\n[INFO] +- org.junit.jupiter:junit-jupiter-params:jar:5.7.0:test\n[INFO] |  \\- org.apiguardian:apiguardian-api:jar:1.1.0:test\n[INFO] +- org.junit.jupiter:junit-jupiter-api:jar:5.7.0:test\n[INFO] |  +- org.opentest4j:opentest4j:jar:1.2.0:test\n[INFO] |  \\- org.junit.platform:junit-platform-commons:jar:1.7.0:test\n[INFO] \\- org.mockito:mockito-junit-jupiter:jar:3.5.10:test\n[INFO]    \\- org.mockito:mockito-core:jar:3.5.10:test\n[INFO]       +- net.bytebuddy:byte-buddy-agent:jar:1.10.13:test\n[INFO]       \\- org.objenesis:objenesis:jar:3.1:test\n</code></pre>\n<p><strong>Update no.3</strong></p>\n<p><code>modules</code> folder is created from <code>maven-dependency-plugin</code> (configuration source: <a href=\"https://medium.com/criciumadev/java-10-migration-5d853f5b5f7e\" rel=\"noreferrer\">java 10 migration</a>)</p>\n<pre><code>&lt;plugin&gt;\n    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.2&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;copy&lt;/id&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;outputDirectory&gt;${project.build.directory}/modules&lt;/outputDirectory&gt;\n                &lt;includeScope&gt;runtime&lt;/includeScope&gt;\n                &lt;excludeArtifactIds&gt;spring-boot-devtools,jaxb-api,jaxb-core,jaxb-runtime&lt;/excludeArtifactIds&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;\n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","bufferedreader","bytebuffer","mappedbytebuffer"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":3,"creation_date":1395151911,"post_id":22481811,"comment_id":34199562,"body_markdown":"What do you want to do with all that text?","body":"What do you want to do with all that text?"},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1395152028,"post_id":22481811,"comment_id":34199663,"body_markdown":"You simply should not read a 1-2GB file into a `String` - this is going to be a) slow and b) memory intensive. You probably need to carry out some transformation of the file so _stream_ it - read and write it one line at a time. More importantly I would recommend [this article](http://kaioa.com/node/59) on using strings in Java.","body":"You simply should not read a 1-2GB file into a <code>String</code> - this is going to be a) slow and b) memory intensive. You probably need to carry out some transformation of the file so <i>stream</i> it - read and write it one line at a time. More importantly I would recommend <a href=\"http://kaioa.com/node/59\" rel=\"nofollow noreferrer\">this article</a> on using strings in Java."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1395152075,"post_id":22481811,"comment_id":34199704,"body_markdown":"`try (InputStream in = new BufferedInputStream(new FileInputStream(dir))) { while (in.read() != -1); }` - it doesn&#39;t look you actually do anything with the data you&#39;ve read so that should work for you, and very fast.","body":"<code>try (InputStream in = new BufferedInputStream(new FileInputStream(dir))) { while (in.read() != -1); }</code> - it doesn&#39;t look you actually do anything with the data you&#39;ve read so that should work for you, and very fast."},{"owner":{"account_id":4190000,"reputation":171,"user_id":3432845,"accept_rate":83,"display_name":"AvB"},"score":0,"creation_date":1395152101,"post_id":22481811,"comment_id":34199720,"body_markdown":"to show it on a TextArea and do some searches and save results in a log file","body":"to show it on a TextArea and do some searches and save results in a log file"},{"owner":{"account_id":2366187,"reputation":60162,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":0,"creation_date":1395152176,"post_id":22481811,"comment_id":34199792,"body_markdown":"Programs like Notepad will stream the file as you scroll and carry out all sorts of other optimisations. You cannot just dump 2GB of data into a `TextArea`. As far as searching goes, you will need to index the file somehow if it is that big.","body":"Programs like Notepad will stream the file as you scroll and carry out all sorts of other optimisations. You cannot just dump 2GB of data into a <code>TextArea</code>. As far as searching goes, you will need to index the file somehow if it is that big."},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1395152182,"post_id":22481811,"comment_id":34199795,"body_markdown":"Note that I recently started a project allowing to use large text files as `CharSequence`s so as to be able to use them with regexes... But it is alpha quality at the moment. Still, since you can read `CharSequence`s into strings it may be of some help.","body":"Note that I recently started a project allowing to use large text files as <code>CharSequence</code>s so as to be able to use them with regexes... But it is alpha quality at the moment. Still, since you can read <code>CharSequence</code>s into strings it may be of some help."},{"owner":{"account_id":956558,"reputation":30924,"user_id":981744,"display_name":"Erwin Bolwidt"},"score":0,"creation_date":1395152319,"post_id":22481811,"comment_id":34199891,"body_markdown":"Arrays in Java cannot hold more than 2^31 elements - that&#39;s 2Gb. That includes String, StringBuilder, etc. (probably also TextArea). You need specially written components that split the data into multiple arrays if you want to hold more than 2^31 elements of some type.","body":"Arrays in Java cannot hold more than 2^31 elements - that&#39;s 2Gb. That includes String, StringBuilder, etc. (probably also TextArea). You need specially written components that split the data into multiple arrays if you want to hold more than 2^31 elements of some type."},{"owner":{"account_id":3244487,"reputation":19947,"user_id":2736496,"accept_rate":74,"display_name":"aliteralmind"},"score":0,"creation_date":1395152331,"post_id":22481811,"comment_id":34199898,"body_markdown":"@fge, is your CharSequence project related to a regex question from a few weeks ago?","body":"@fge, is your CharSequence project related to a regex question from a few weeks ago?"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1395152402,"post_id":22481811,"comment_id":34199946,"body_markdown":"@aliteralmind yes indeed. I could make it work over a 250 MB text file but it is slow at the moment (since regexes use very, very small subsequences and use .charAt() a lot)","body":"@aliteralmind yes indeed. I could make it work over a 250 MB text file but it is slow at the moment (since regexes use very, very small subsequences and use .charAt() a lot)"},{"owner":{"account_id":3244487,"reputation":19947,"user_id":2736496,"accept_rate":74,"display_name":"aliteralmind"},"score":0,"creation_date":1395152574,"post_id":22481811,"comment_id":34200062,"body_markdown":"@fge: Would be interested in seeing it when you&#39;re done.","body":"@fge: Would be interested in seeing it when you&#39;re done."},{"owner":{"account_id":996144,"reputation":1722,"user_id":1012022,"display_name":"robermann"},"score":0,"creation_date":1395153044,"post_id":22481811,"comment_id":34200395,"body_markdown":"What if you don&#39;t read line-by-line, and instead use a java.io.RandomAccesFile (for example), moving byte-per-byte and writing it in a disk while reading? Do you need a line-centric view of the file? By the way, are you just doing a copy&amp;past of the file?","body":"What if you don&#39;t read line-by-line, and instead use a java.io.RandomAccesFile (for example), moving byte-per-byte and writing it in a disk while reading? Do you need a line-centric view of the file? By the way, are you just doing a copy&amp;past of the file?"},{"owner":{"account_id":4190000,"reputation":171,"user_id":3432845,"accept_rate":83,"display_name":"AvB"},"score":0,"creation_date":1395153497,"post_id":22481811,"comment_id":34200760,"body_markdown":"yes, i want to separate all lines","body":"yes, i want to separate all lines"},{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":0,"creation_date":1395153546,"post_id":22481811,"comment_id":34200802,"body_markdown":"@AvB then read a pool of lines, then another pool etc","body":"@AvB then read a pool of lines, then another pool etc"},{"owner":{"account_id":996144,"reputation":1722,"user_id":1012022,"display_name":"robermann"},"score":0,"creation_date":1395153690,"post_id":22481811,"comment_id":34200927,"body_markdown":"variable-length lines @avb?","body":"variable-length lines @avb?"},{"owner":{"account_id":996144,"reputation":1722,"user_id":1012022,"display_name":"robermann"},"score":0,"creation_date":1395154594,"post_id":22481811,"comment_id":34201656,"body_markdown":"i would do a binary search of carriage returns, store their offset positions starting from the begining of the file, then show in the textarea a pool of x lines. when the user scroll down, i&#39;d get the next pool (windowing). For this solution you need a random access to the file on disk.","body":"i would do a binary search of carriage returns, store their offset positions starting from the begining of the file, then show in the textarea a pool of x lines. when the user scroll down, i&#39;d get the next pool (windowing). For this solution you need a random access to the file on disk."}],"answers":[{"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":2,"creation_date":1395152024,"post_id":22481981,"comment_id":34199660,"body_markdown":"A `StringBuilder` is preferred if you don&#39;t have thread safety requirements","body":"A <code>StringBuilder</code> is preferred if you don&#39;t have thread safety requirements"}],"tags":[],"owner":{"account_id":1734408,"reputation":1197,"user_id":1587302,"accept_rate":83,"display_name":"Narkha"},"comment_count":1,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395151993,"creation_date":1395151993,"answer_id":22481981,"question_id":22481811,"body_markdown":"Think that every contatenation of strings creates a new string, so, if you read every character of a big file of 40 MB and concatenate you are creating in total like 40.000.000 string in `read()`.\r\n\r\nTry to use [`StringBuffer`][1] instead of `String`, that is recomendable for this situations.\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/StringBuffer.html","title":"The best way to read a huge file (for example a very large text document)","body":"<p>Think that every contatenation of strings creates a new string, so, if you read every character of a big file of 40 MB and concatenate you are creating in total like 40.000.000 string in <code>read()</code>.</p>\n\n<p>Try to use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/StringBuffer.html\" rel=\"nofollow\"><code>StringBuffer</code></a> instead of <code>String</code>, that is recomendable for this situations.</p>\n"},{"comments":[{"owner":{"account_id":3244487,"reputation":19947,"user_id":2736496,"accept_rate":74,"display_name":"aliteralmind"},"score":0,"creation_date":1395152769,"post_id":22481994,"comment_id":34200197,"body_markdown":"I don&#39;t understand what this is: `aaa\\naaa\\naaa...`","body":"I don&#39;t understand what this is: <code>aaa\\naaa\\naaa...</code>"},{"owner":{"account_id":3244487,"reputation":19947,"user_id":2736496,"accept_rate":74,"display_name":"aliteralmind"},"score":0,"creation_date":1395153717,"post_id":22481994,"comment_id":34200955,"body_markdown":"You mean there are no line-separators? That it&#39;s just one big line? Use `write(s + &quot;\\n&quot;);` or `println(s);` or whatever to add one to the end of each.","body":"You mean there are no line-separators? That it&#39;s just one big line? Use <code>write(s + &quot;\\n&quot;);</code> or <code>println(s);</code> or whatever to add one to the end of each."},{"owner":{"account_id":3244487,"reputation":19947,"user_id":2736496,"accept_rate":74,"display_name":"aliteralmind"},"score":0,"creation_date":1395160424,"post_id":22481994,"comment_id":34206267,"body_markdown":"I&#39;m not familiar with that. Try this: https://www.google.com/search?q=change+encoding+to+utf+java","body":"I&#39;m not familiar with that. Try this: <a href=\"https://www.google.com/search?q=change+encoding+to+utf+java\" rel=\"nofollow noreferrer\">google.com/search?q=change+encoding+to+utf+java</a>"}],"tags":[],"owner":{"account_id":3244487,"reputation":19947,"user_id":2736496,"accept_rate":74,"display_name":"aliteralmind"},"comment_count":3,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1395152433,"creation_date":1395152011,"answer_id":22481994,"question_id":22481811,"body_markdown":"At the very least, I&#39;d recommend changing\r\n\r\n    result += line + &quot;\\n&quot;;\r\n\r\nto a StringBuilder.\r\n\r\n    resultBldr.append(line).append(&quot;\\n&quot;);\r\n\r\nThis avoids creating a new string object--a bigger and bigger and bigger and bigger string object!--on each line.\r\n\r\nAlso, you should definitely write your output to the file *line by line*. Don&#39;t accumulate all that text and *then* output it.\r\n\r\nIn other words, in this situation, complete separation between your `read` and `write` functions is not recommended.","title":"The best way to read a huge file (for example a very large text document)","body":"<p>At the very least, I'd recommend changing</p>\n\n<pre><code>result += line + \"\\n\";\n</code></pre>\n\n<p>to a StringBuilder.</p>\n\n<pre><code>resultBldr.append(line).append(\"\\n\");\n</code></pre>\n\n<p>This avoids creating a new string object--a bigger and bigger and bigger and bigger string object!--on each line.</p>\n\n<p>Also, you should definitely write your output to the file <em>line by line</em>. Don't accumulate all that text and <em>then</em> output it.</p>\n\n<p>In other words, in this situation, complete separation between your <code>read</code> and <code>write</code> functions is not recommended.</p>\n"},{"tags":[],"owner":{"account_id":1268503,"reputation":284,"user_id":1225285,"display_name":"sheu"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1395152286,"creation_date":1395152286,"answer_id":22482094,"question_id":22481811,"body_markdown":"    result += line + &quot;\\n&quot;;\r\n\r\nthis line tries to keep the entire file contents in memory. Try to process each line as you read it like this\r\n\r\n\r\n \r\n\r\n    while ((line = br.readLine()) != null) {\r\n                processLine( line ); // this may write it to another file.\r\n            }\r\n\r\n","title":"The best way to read a huge file (for example a very large text document)","body":"<pre><code>result += line + \"\\n\";\n</code></pre>\n\n<p>this line tries to keep the entire file contents in memory. Try to process each line as you read it like this</p>\n\n<pre><code>while ((line = br.readLine()) != null) {\n            processLine( line ); // this may write it to another file.\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1717501,"reputation":541,"user_id":1574258,"accept_rate":43,"display_name":"vikeng21"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1395152370,"creation_date":1395152370,"answer_id":22482132,"question_id":22481811,"body_markdown":"Its always a bad idea to read large size files in the range of 1GB - 5GB in a single shot. There will be a huge performance over head and your app will slow down. \r\n\r\nIts better to split this huge file into smaller chunks and read it chunk by chunk. i think if you start reading files in smaller chunks the code that you have written will work perfectly fine.\r\n\r\nHave you heard about HDFS system, Solr indexing, apache hadoop frameworks which are specifically provided for manipulating huge data. you might want to have a look into it.","title":"The best way to read a huge file (for example a very large text document)","body":"<p>Its always a bad idea to read large size files in the range of 1GB - 5GB in a single shot. There will be a huge performance over head and your app will slow down. </p>\n\n<p>Its better to split this huge file into smaller chunks and read it chunk by chunk. i think if you start reading files in smaller chunks the code that you have written will work perfectly fine.</p>\n\n<p>Have you heard about HDFS system, Solr indexing, apache hadoop frameworks which are specifically provided for manipulating huge data. you might want to have a look into it.</p>\n"},{"tags":[],"owner":{"account_id":14112653,"reputation":33,"user_id":10195099,"display_name":"Shaheaz"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696580161,"creation_date":1696580161,"answer_id":77242885,"question_id":22481811,"body_markdown":"Better use Scanner class as it is using stream and try to push the content in DB as DB can store more data so that you can perform anything with data. to read data use query with FETCH limit. I used this for 3 GB file and it is working without any issue.","title":"The best way to read a huge file (for example a very large text document)","body":"<p>Better use Scanner class as it is using stream and try to push the content in DB as DB can store more data so that you can perform anything with data. to read data use query with FETCH limit. I used this for 3 GB file and it is working without any issue.</p>\n"}],"owner":{"account_id":4190000,"reputation":171,"user_id":3432845,"accept_rate":83,"display_name":"AvB"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5588,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":22481994,"answer_count":5,"score":3,"last_activity_date":1696580161,"creation_date":1395151570,"question_id":22481811,"body_markdown":"I&#39;m new to java ...in my current project I need to read and write a very huge text file (1 GB - 5 GB) ... first i used this classes : **BufferedReader** and **BufferedWriter** \r\n\r\n    public static String read(String dir) {\r\n        BufferedReader br;\r\n        String result = &quot;&quot;, line;\r\n        try {\r\n            br = new BufferedReader(new InputStreamReader(new FileInputStream(dir), &quot;UTF-8&quot;));\r\n            while ((line = br.readLine()) != null) {\r\n                result += line + &quot;\\n&quot;;\r\n            }\r\n        } catch (IOException ex) {\r\n            //do something\r\n        }\r\n        return result;\r\n    }\r\n\r\n    public static void write(String dir, String text) {\r\n        BufferedWriter bw;\r\n        try {\r\n            bw = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(dir), &quot;UTF-8&quot;));\r\n            bw.write(&quot;&quot;);\r\n            for (int i = 0; i &lt; text.length(); i++) {\r\n                if (text.charAt(i) != &#39;\\n&#39;) {\r\n                    bw.append(text.charAt(i));\r\n                } else {\r\n                    bw.newLine();\r\n                }\r\n            }\r\n            bw.flush();\r\n        } catch (IOException ex) {\r\n            //do something\r\n        }\r\n    }\r\n\r\n\r\nthis classes works very good but not for Huge files...\r\n\r\nthen I used **MappedByteBuffer** for the `read()` method (I dont&#39;t know how to write a file using this class) :\r\n\r\n    public static String read(String dir) {\r\n        FileChannel fc;\r\n        String s = &quot;&quot;;\r\n        try {\r\n            fc = new RandomAccessFile(dir, &quot;r&quot;).getChannel();\r\n            MappedByteBuffer buffer = fc.map(FileChannel.MapMode.READ_ONLY, 0, fc.size());\r\n            buffer.load();\r\n            buffer.force();\r\n            for (int i = 0; i &lt; buffer.limit(); i++) {\r\n                s += (char) buffer.get();\r\n            } //I know the problem is here\r\n            buffer.clear();\r\n            inChannel.close();\r\n        } catch (IOException e) {\r\n            //do something\r\n        }\r\n        return s;\r\n    }\r\n\r\nBut still can&#39;t read large files(over 30-40 MB), even the NotePad is faster than my app :))\r\n\r\nand also another problem is I don&#39;t know how to change encoding in second way(for example &quot;UTF-8&quot;, &quot;ANSI&quot;,...)\r\n\r\nso guys, please tell me which is the best way to read and write laaaarge files?\r\nany idea?","title":"The best way to read a huge file (for example a very large text document)","body":"<p>I'm new to java ...in my current project I need to read and write a very huge text file (1 GB - 5 GB) ... first i used this classes : <strong>BufferedReader</strong> and <strong>BufferedWriter</strong> </p>\n\n<pre><code>public static String read(String dir) {\n    BufferedReader br;\n    String result = \"\", line;\n    try {\n        br = new BufferedReader(new InputStreamReader(new FileInputStream(dir), \"UTF-8\"));\n        while ((line = br.readLine()) != null) {\n            result += line + \"\\n\";\n        }\n    } catch (IOException ex) {\n        //do something\n    }\n    return result;\n}\n\npublic static void write(String dir, String text) {\n    BufferedWriter bw;\n    try {\n        bw = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(dir), \"UTF-8\"));\n        bw.write(\"\");\n        for (int i = 0; i &lt; text.length(); i++) {\n            if (text.charAt(i) != '\\n') {\n                bw.append(text.charAt(i));\n            } else {\n                bw.newLine();\n            }\n        }\n        bw.flush();\n    } catch (IOException ex) {\n        //do something\n    }\n}\n</code></pre>\n\n<p>this classes works very good but not for Huge files...</p>\n\n<p>then I used <strong>MappedByteBuffer</strong> for the <code>read()</code> method (I dont't know how to write a file using this class) :</p>\n\n<pre><code>public static String read(String dir) {\n    FileChannel fc;\n    String s = \"\";\n    try {\n        fc = new RandomAccessFile(dir, \"r\").getChannel();\n        MappedByteBuffer buffer = fc.map(FileChannel.MapMode.READ_ONLY, 0, fc.size());\n        buffer.load();\n        buffer.force();\n        for (int i = 0; i &lt; buffer.limit(); i++) {\n            s += (char) buffer.get();\n        } //I know the problem is here\n        buffer.clear();\n        inChannel.close();\n    } catch (IOException e) {\n        //do something\n    }\n    return s;\n}\n</code></pre>\n\n<p>But still can't read large files(over 30-40 MB), even the NotePad is faster than my app :))</p>\n\n<p>and also another problem is I don't know how to change encoding in second way(for example \"UTF-8\", \"ANSI\",...)</p>\n\n<p>so guys, please tell me which is the best way to read and write laaaarge files?\nany idea?</p>\n"},{"tags":["java","android","flutter","android-studio","dart"],"comments":[{"owner":{"account_id":231683,"reputation":4218,"user_id":496038,"display_name":"pringi"},"score":1,"creation_date":1646656796,"post_id":71381050,"comment_id":126169894,"body_markdown":"What is the value of environment variable JAVA_HOME ? See, for example_ https://mkyong.com/java/how-to-set-java_home-environment-variable-on-mac-os-x/","body":"What is the value of environment variable JAVA_HOME ? See, for example_ <a href=\"https://mkyong.com/java/how-to-set-java_home-environment-variable-on-mac-os-x/\" rel=\"nofollow noreferrer\">mkyong.com/java/&hellip;</a>"},{"owner":{"account_id":3081675,"reputation":355,"user_id":2609729,"accept_rate":43,"display_name":"3squad"},"score":1,"creation_date":1646656856,"post_id":71381050,"comment_id":126169913,"body_markdown":"Try:\nexport JAVA_HOME=~/Library/Java/JavaVirtualMachines/YOUR_REQUIRED_JAVA/Contents/Home","body":"Try: export JAVA_HOME=~/Library/Java/JavaVirtualMachines/YOUR_REQUIRED_J&zwnj;&#8203;AVA/Contents/Home"},{"owner":{"account_id":1187948,"reputation":1074,"user_id":1161518,"accept_rate":51,"display_name":"WasimSafdar"},"score":0,"creation_date":1646672560,"post_id":71381050,"comment_id":126176476,"body_markdown":"It is JAVA_HOME and on terminal it returns correct path but on Android Studio, it gives an error. @3squad, I am doing same.","body":"It is JAVA_HOME and on terminal it returns correct path but on Android Studio, it gives an error. @3squad, I am doing same."},{"owner":{"account_id":23600549,"reputation":1026,"user_id":17637096,"display_name":"belinda.g.freitas"},"score":1,"creation_date":1646819758,"post_id":71381050,"comment_id":126216378,"body_markdown":"Have you run `source ~/.zshenv`? If yes and you still get the error try to restart the computer, it&#39;s probably using the previous JAVA_HOME in the PATH.","body":"Have you run <code>source ~&#47;.zshenv</code>? If yes and you still get the error try to restart the computer, it&#39;s probably using the previous JAVA_HOME in the PATH."}],"answers":[{"tags":[],"owner":{"account_id":1187948,"reputation":1074,"user_id":1161518,"accept_rate":51,"display_name":"WasimSafdar"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647431817,"creation_date":1647431817,"answer_id":71496675,"question_id":71381050,"body_markdown":"I resolved the issue. Problem was due to 2 versions of Android Studio installed on same device. One was in applications folder and other was in Downloads folder. I was using Android Studio in Downloads folder and it&#39;s installation files are referring to old JDK plugin that was set for another Android Studio because both have similar paths. \r\n\r\n    /Applications/AndroidStudio.app/Contents/plugins/java/lib/jdkAnnotations.jar\r\n\r\nAfter deleting old Android Studio and moving other one into Application folder resolved my issue. Thanks everybody for helping me out. \r\n\r\n\r\n\r\n","title":"JAVA_HOME is set to an invalid directory Android Studio (Flutter)","body":"<p>I resolved the issue. Problem was due to 2 versions of Android Studio installed on same device. One was in applications folder and other was in Downloads folder. I was using Android Studio in Downloads folder and it's installation files are referring to old JDK plugin that was set for another Android Studio because both have similar paths.</p>\n<pre><code>/Applications/AndroidStudio.app/Contents/plugins/java/lib/jdkAnnotations.jar\n</code></pre>\n<p>After deleting old Android Studio and moving other one into Application folder resolved my issue. Thanks everybody for helping me out.</p>\n"},{"comments":[{"owner":{"account_id":152181,"reputation":3088,"user_id":366529,"accept_rate":73,"display_name":"dKen"},"score":0,"creation_date":1676618435,"post_id":75126943,"comment_id":133177054,"body_markdown":"Windows was a bit more difficult than deleting the folder. I had to open system Environment Variables and change `JAVA_HOME` from `[...]\\jre` to `[...]\\jbr`. I also had to restart Windows before Android Studio picked up this change. More instructions on the Environment Variables can be found at: https://mkyong.com/java/how-to-set-java_home-on-windows-10/","body":"Windows was a bit more difficult than deleting the folder. I had to open system Environment Variables and change <code>JAVA_HOME</code> from <code>[...]\\jre</code> to <code>[...]\\jbr</code>. I also had to restart Windows before Android Studio picked up this change. More instructions on the Environment Variables can be found at: <a href=\"https://mkyong.com/java/how-to-set-java_home-on-windows-10/\" rel=\"nofollow noreferrer\">mkyong.com/java/how-to-set-java_home-on-windows-10</a>"},{"owner":{"account_id":6741122,"reputation":533,"user_id":5194344,"accept_rate":0,"display_name":"Shyam Sunder"},"score":0,"creation_date":1683839261,"post_id":75126943,"comment_id":134432300,"body_markdown":"Thanks a lot. This is the perfect fix. Use  `nano ~/.bash_profile`  and or  `nano ~/.zshrc` to update the Java Home path","body":"Thanks a lot. This is the perfect fix. Use  <code>nano ~&#47;.bash_profile</code>  and or  <code>nano ~&#47;.zshrc</code> to update the Java Home path"},{"owner":{"account_id":2543095,"reputation":196,"user_id":2208476,"accept_rate":17,"display_name":"Luiz Alegria"},"score":0,"creation_date":1692717184,"post_id":75126943,"comment_id":135660879,"body_markdown":"Thank you very much, I got this error for almost two years with no solution, until now.","body":"Thank you very much, I got this error for almost two years with no solution, until now."}],"tags":[],"owner":{"account_id":116359,"reputation":18370,"user_id":305135,"accept_rate":39,"display_name":"AVEbrahimi"},"comment_count":3,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1676617588,"creation_date":1673803131,"answer_id":75126943,"question_id":71381050,"body_markdown":"For **Windows**:\r\n\r\nThe problem is because of trace of old Android Studio java folder, just delete this folder and it starts working:\r\n\r\n    C:\\Program Files\\Android\\Android Studio\\jre\r\n\r\nThe new Android Studio Electric Eel is using `jbr`, not `jre`.\r\n\r\n----\r\nFor **macOS**:\r\nIf you are using macOS replace the path in .bash_profile or .zshrc\r\n\r\n    export JAVA_HOME=&quot;/Applications/Android Studio.app/Contents/jre/Contents/Home&quot;\r\n\r\nwith\r\n\r\n    export JAVA_HOME=&quot;/Applications/Android Studio.app/Contents/jbr/Contents/Home&quot;\r\n\r\n","title":"JAVA_HOME is set to an invalid directory Android Studio (Flutter)","body":"<p>For <strong>Windows</strong>:</p>\n<p>The problem is because of trace of old Android Studio java folder, just delete this folder and it starts working:</p>\n<pre><code>C:\\Program Files\\Android\\Android Studio\\jre\n</code></pre>\n<p>The new Android Studio Electric Eel is using <code>jbr</code>, not <code>jre</code>.</p>\n<hr />\n<p>For <strong>macOS</strong>:\nIf you are using macOS replace the path in .bash_profile or .zshrc</p>\n<pre><code>export JAVA_HOME=&quot;/Applications/Android Studio.app/Contents/jre/Contents/Home&quot;\n</code></pre>\n<p>with</p>\n<pre><code>export JAVA_HOME=&quot;/Applications/Android Studio.app/Contents/jbr/Contents/Home&quot;\n</code></pre>\n"}],"owner":{"account_id":1187948,"reputation":1074,"user_id":1161518,"accept_rate":51,"display_name":"WasimSafdar"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14253,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1696579609,"creation_date":1646655923,"question_id":71381050,"body_markdown":"I am using OSX Yosemite on my old mac. When I installed emulator and try to create a run a Flutter project, I started getting an error about JDK 17. I deleted JDK 17 and installed JDK and also set my path in bash profile to &quot;Library/Java/JavaVirtualMachines/jdk-1.8.0_321.jdk/Contents/Home&quot;. However, my Android studio is still giving this error. \r\n\r\n    ERROR: JAVA_HOME is set to an invalid directory: /Library/Java/JavaVirtualMachines/jdk-17.0.2.jdk/Contents/Home\r\n    \r\n    Please set the JAVA_HOME variable in your environment to match the\r\n    location of your Java installation.\r\n    \r\n    Exception: Gradle task assembleDebug failed with exit code 1\r\n\r\nI spent hours solving this. Please help me. Thank you very much. ","title":"JAVA_HOME is set to an invalid directory Android Studio (Flutter)","body":"<p>I am using OSX Yosemite on my old mac. When I installed emulator and try to create a run a Flutter project, I started getting an error about JDK 17. I deleted JDK 17 and installed JDK and also set my path in bash profile to &quot;Library/Java/JavaVirtualMachines/jdk-1.8.0_321.jdk/Contents/Home&quot;. However, my Android studio is still giving this error.</p>\n<pre><code>ERROR: JAVA_HOME is set to an invalid directory: /Library/Java/JavaVirtualMachines/jdk-17.0.2.jdk/Contents/Home\n\nPlease set the JAVA_HOME variable in your environment to match the\nlocation of your Java installation.\n\nException: Gradle task assembleDebug failed with exit code 1\n</code></pre>\n<p>I spent hours solving this. Please help me. Thank you very much.</p>\n"},{"tags":["java","mongodb"],"answers":[{"comments":[{"owner":{"account_id":28568656,"reputation":1,"user_id":21871179,"display_name":"Gunjan SHrivastava"},"score":1,"creation_date":1696580014,"post_id":77242728,"comment_id":136174044,"body_markdown":"i don&#39;t see any such issue, have attached data and model too , do you find any issue?","body":"i don&#39;t see any such issue, have attached data and model too , do you find any issue?"},{"owner":{"account_id":5919781,"reputation":29352,"user_id":4657412,"display_name":"DavidW"},"score":2,"creation_date":1696584660,"post_id":77242728,"comment_id":136174868,"body_markdown":"This answer looks like ChatGPT","body":"This answer looks like ChatGPT"}],"tags":[],"owner":{"account_id":5116386,"reputation":43,"user_id":4101349,"display_name":"Gaurav Mittal"},"comment_count":2,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1696578782,"creation_date":1696578782,"answer_id":77242728,"question_id":77242713,"body_markdown":"Error code 28 in MongoDB, specifically the &quot;cannot create field&quot; error, typically occurs when you attempt to add a new field to a document in a collection, but the document&#39;s structure does not allow for the creation of that field. This error can happen for several reasons:\r\n\r\n1. **Schema Mismatch**: The field you are trying to add might not be compatible with the existing schema of the document. For example, you might be trying to add a string to a field that originally held a numerical value.\r\n\r\n2. **Strict Schema Mode**: MongoDB&#39;s default behavior is to be flexible with schema, but if you are using the &quot;strict&quot; schema mode (which is not the default), you cannot add fields that are not explicitly defined in the schema.\r\n\r\n3. **Document Size Limit**: MongoDB has a maximum document size limit of 16MB. If adding a new field would exceed this limit, you&#39;ll get an error.\r\n\r\nTo resolve this issue, you can consider the following steps:\r\n\r\n1. **Check the Existing Schema**: Ensure that the existing schema of the document allows for the addition of the new field. If necessary, modify the schema to accommodate the new field.\r\n\r\n2. **Update Existing Documents**: If you want to add a field to existing documents, you may need to iterate through the collection and update each document individually. This can be done using the `$set` operator to update the specific field. Here&#39;s an example in MongoDB shell:\r\n\r\n    ```javascript\r\n    db.collection.updateMany({}, { $set: { newField: &quot;someValue&quot; } })\r\n    ```\r\n\r\n   Replace `collection` with your actual collection name, `newField` with the name of the field you want to add, and `&quot;someValue&quot;` with the value you want to set for the new field.\r\n\r\n3. **Use `$unset`**: If you want to remove a field, you can use the `$unset` operator. For example:\r\n\r\n    ```javascript\r\n    db.collection.updateMany({}, { $unset: { unwantedField: 1 } })\r\n    ```\r\n\r\n   This will remove the `unwantedField` from all documents in the collection.\r\n\r\n4. **Consider Using Migrations**: For more complex schema changes, consider using a migration framework or script to manage changes to your data model. This can help ensure data consistency during schema updates.\r\n\r\nRemember to back up your data before making significant schema changes to avoid data loss.","title":"Mongo DB update issue error code 28, &quot;cannot create field&quot;","body":"<p>Error code 28 in MongoDB, specifically the &quot;cannot create field&quot; error, typically occurs when you attempt to add a new field to a document in a collection, but the document's structure does not allow for the creation of that field. This error can happen for several reasons:</p>\n<ol>\n<li><p><strong>Schema Mismatch</strong>: The field you are trying to add might not be compatible with the existing schema of the document. For example, you might be trying to add a string to a field that originally held a numerical value.</p>\n</li>\n<li><p><strong>Strict Schema Mode</strong>: MongoDB's default behavior is to be flexible with schema, but if you are using the &quot;strict&quot; schema mode (which is not the default), you cannot add fields that are not explicitly defined in the schema.</p>\n</li>\n<li><p><strong>Document Size Limit</strong>: MongoDB has a maximum document size limit of 16MB. If adding a new field would exceed this limit, you'll get an error.</p>\n</li>\n</ol>\n<p>To resolve this issue, you can consider the following steps:</p>\n<ol>\n<li><p><strong>Check the Existing Schema</strong>: Ensure that the existing schema of the document allows for the addition of the new field. If necessary, modify the schema to accommodate the new field.</p>\n</li>\n<li><p><strong>Update Existing Documents</strong>: If you want to add a field to existing documents, you may need to iterate through the collection and update each document individually. This can be done using the <code>$set</code> operator to update the specific field. Here's an example in MongoDB shell:</p>\n<pre class=\"lang-js prettyprint-override\"><code>db.collection.updateMany({}, { $set: { newField: &quot;someValue&quot; } })\n</code></pre>\n<p>Replace <code>collection</code> with your actual collection name, <code>newField</code> with the name of the field you want to add, and <code>&quot;someValue&quot;</code> with the value you want to set for the new field.</p>\n</li>\n<li><p><strong>Use <code>$unset</code></strong>: If you want to remove a field, you can use the <code>$unset</code> operator. For example:</p>\n<pre class=\"lang-js prettyprint-override\"><code>db.collection.updateMany({}, { $unset: { unwantedField: 1 } })\n</code></pre>\n<p>This will remove the <code>unwantedField</code> from all documents in the collection.</p>\n</li>\n<li><p><strong>Consider Using Migrations</strong>: For more complex schema changes, consider using a migration framework or script to manage changes to your data model. This can help ensure data consistency during schema updates.</p>\n</li>\n</ol>\n<p>Remember to back up your data before making significant schema changes to avoid data loss.</p>\n"}],"owner":{"account_id":28568656,"reputation":1,"user_id":21871179,"display_name":"Gunjan SHrivastava"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696579379,"creation_date":1696578690,"question_id":77242713,"body_markdown":"\\`I am trying to update dynamic fields inside mongoDB collection , but it is giving error\r\nbut getting error &quot;Cannot create field &#39;price&#39; in element {newDataList: \\[ { link: &quot;/products/deepak-test&quot;, price: 123.45, prid: &quot;123456789&quot;, product_type: &quot;Indoor&quot;, quantity: 1.0, shipping: &quot;true&quot;, title: &quot;Deepak Test&quot; } \\]}&#39;, details={ }}\\].\r\nat com.mongodb.connection.BulkWriteBatchCombiner.getError(BulkWriteBatchCombiner.java:176)\r\n&quot;\r\n\r\ncode :\r\n            Document findQuery = new Document(&quot;siteId&quot;, siteId).append(&quot;prid&quot;, prid);\r\n\r\n LinkedTreeMap&lt;String,Object&gt; newDatamap = (LinkedTreeMap) productList.get(&quot;new_data&quot;);\r\n\r\n\r\n                 for (Map.Entry&lt;String, Object&gt; entry : newDatamap.entrySet()) {\r\n                    activityDocument.put(&quot;newDataList.&quot;+entry.getKey(),entry.getValue());\r\n                }\r\n\r\n\r\n                update = new Document(&quot;$set&quot;, activityDocument);\r\n\r\n                UpdateOneModel&lt;Document&gt; updateOneModel = new UpdateOneModel&lt;&gt;(findQuery, update);\r\n\r\n                mongoBatcher.insert((Integer.parseInt(clientId)), cmapDetails[0], &quot;productCatalouge&quot;, cmapDetails[2], updateOneModel, this.requestId);\r\n\r\ncode :\r\n&quot; LinkedTreeMap\\&lt;String,Object\\&gt; newDatamap = (LinkedTreeMap) productList.get(&quot;new_data&quot;);\r\n\r\n```\r\n db.productCatalouge.find({&quot;prid&quot;:&quot;123456789&quot;})\r\n[\r\n  {\r\n    _id: ObjectId(&quot;651fb0e0cfee1daa261083db&quot;),\r\n    prid: &#39;123456789&#39;,\r\n    siteId: &#39;910fb5db4172feb74e36d111285fa8cb&#39;,\r\n    newDataList: [\r\n      {\r\n        link: &#39;/products/deepak-test&#39;,\r\n        price: 123.45,\r\n        prid: &#39;123456789&#39;,\r\n        product_type: &#39;Indoor&#39;,\r\n        quantity: 1,\r\n        shipping: &#39;true&#39;,\r\n        title: &#39;Deepak Test&#39;\r\n      }\r\n    ]\r\n  }\r\n]\r\n\r\ndata ::\r\n\tat java.lang.Thread.run(Thread.java:750)\r\n2023-10-06 13:27:40,397 ERROR MongoTaskManagerPoolThread-1 MongoDao:236 - Failed record Index: 0, Record: UpdateOneModel{filter=Document{{siteId=910fb5db4172feb74e36d111285fa8cb, prid=123456789}}, update=Document{{$set=Document{{newDataList.price=123.45, newDataList.prid=123456789, newDataList.quantity=13.0, newDataList.shipping=false, newDataList.title=Test After g  Incremental}}}}, options=UpdateOptions{upsert=false, bypassDocumentValidation=null, collation=null, arrayFilters=null}} Retrying ...\r\n\r\n```","title":"Mongo DB update issue error code 28, &quot;cannot create field&quot;","body":"<p>`I am trying to update dynamic fields inside mongoDB collection , but it is giving error\nbut getting error &quot;Cannot create field 'price' in element {newDataList: [ { link: &quot;/products/deepak-test&quot;, price: 123.45, prid: &quot;123456789&quot;, product_type: &quot;Indoor&quot;, quantity: 1.0, shipping: &quot;true&quot;, title: &quot;Deepak Test&quot; } ]}', details={ }}].\nat com.mongodb.connection.BulkWriteBatchCombiner.getError(BulkWriteBatchCombiner.java:176)\n&quot;</p>\n<p>code :\nDocument findQuery = new Document(&quot;siteId&quot;, siteId).append(&quot;prid&quot;, prid);</p>\n<p>LinkedTreeMap&lt;String,Object&gt; newDatamap = (LinkedTreeMap) productList.get(&quot;new_data&quot;);</p>\n<pre><code>             for (Map.Entry&lt;String, Object&gt; entry : newDatamap.entrySet()) {\n                activityDocument.put(&quot;newDataList.&quot;+entry.getKey(),entry.getValue());\n            }\n\n\n            update = new Document(&quot;$set&quot;, activityDocument);\n\n            UpdateOneModel&lt;Document&gt; updateOneModel = new UpdateOneModel&lt;&gt;(findQuery, update);\n\n            mongoBatcher.insert((Integer.parseInt(clientId)), cmapDetails[0], &quot;productCatalouge&quot;, cmapDetails[2], updateOneModel, this.requestId);\n</code></pre>\n<p>code :\n&quot; LinkedTreeMap&lt;String,Object&gt; newDatamap = (LinkedTreeMap) productList.get(&quot;new_data&quot;);</p>\n<pre><code> db.productCatalouge.find({&quot;prid&quot;:&quot;123456789&quot;})\n[\n  {\n    _id: ObjectId(&quot;651fb0e0cfee1daa261083db&quot;),\n    prid: '123456789',\n    siteId: '910fb5db4172feb74e36d111285fa8cb',\n    newDataList: [\n      {\n        link: '/products/deepak-test',\n        price: 123.45,\n        prid: '123456789',\n        product_type: 'Indoor',\n        quantity: 1,\n        shipping: 'true',\n        title: 'Deepak Test'\n      }\n    ]\n  }\n]\n\ndata ::\n    at java.lang.Thread.run(Thread.java:750)\n2023-10-06 13:27:40,397 ERROR MongoTaskManagerPoolThread-1 MongoDao:236 - Failed record Index: 0, Record: UpdateOneModel{filter=Document{{siteId=910fb5db4172feb74e36d111285fa8cb, prid=123456789}}, update=Document{{$set=Document{{newDataList.price=123.45, newDataList.prid=123456789, newDataList.quantity=13.0, newDataList.shipping=false, newDataList.title=Test After g  Incremental}}}}, options=UpdateOptions{upsert=false, bypassDocumentValidation=null, collation=null, arrayFilters=null}} Retrying ...\n\n</code></pre>\n"},{"tags":["java","json","concatenation"],"comments":[{"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"score":0,"creation_date":1545065584,"post_id":2403132,"comment_id":94487815,"body_markdown":"Related: [Merging YAML](https://github.com/OndraZizka/yaml-merge/blob/master/src/main/java/org/cobbzilla/util/yml/YmlMerger.java#L101)","body":"Related: <a href=\"https://github.com/OndraZizka/yaml-merge/blob/master/src/main/java/org/cobbzilla/util/yml/YmlMerger.java#L101\" rel=\"nofollow noreferrer\">Merging YAML</a>"},{"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"score":1,"creation_date":1570477124,"post_id":2403132,"comment_id":102918789,"body_markdown":"Maybe there are examples here that would work for this?  https://www.baeldung.com/java-merge-maps   I mention because NONE of the below answers give a solution using Java stream.","body":"Maybe there are examples here that would work for this?  <a href=\"https://www.baeldung.com/java-merge-maps\" rel=\"nofollow noreferrer\">baeldung.com/java-merge-maps</a>   I mention because NONE of the below answers give a solution using Java stream."}],"answers":[{"comments":[{"owner":{"account_id":54967,"reputation":473,"user_id":164529,"display_name":"Santi P."},"score":0,"creation_date":1268080738,"post_id":2403427,"comment_id":2384578,"body_markdown":"I didn&#39;t know about the static method JSONObject.getNames, it makes the code much simpler, see Matthew&#39;s answer below which reduces the code using it.","body":"I didn&#39;t know about the static method JSONObject.getNames, it makes the code much simpler, see Matthew&#39;s answer below which reduces the code using it."},{"owner":{"account_id":3012438,"reputation":2830,"user_id":2555566,"accept_rate":41,"display_name":"Anas Azeem"},"score":0,"creation_date":1404457278,"post_id":2403427,"comment_id":38055337,"body_markdown":"In the first line add `new` before `JSONObject()`, edit isn&#39;t allowed for below 6 characters.","body":"In the first line add <code>new</code> before <code>JSONObject()</code>, edit isn&#39;t allowed for below 6 characters."}],"tags":[],"owner":{"account_id":54967,"reputation":473,"user_id":164529,"display_name":"Santi P."},"comment_count":2,"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1428077289,"creation_date":1268070922,"answer_id":2403427,"question_id":2403132,"body_markdown":"You can create a new JSONObject like this:\r\n\r\n    JSONObject merged = new JSONObject();\r\n    JSONObject[] objs = new JSONObject[] { Obj1, Obj2 };\r\n    for (JSONObject obj : objs) {\r\n        Iterator it = obj.keys();\r\n        while (it.hasNext()) {\r\n            String key = (String)it.next();\r\n            merged.put(key, obj.get(key));\r\n        }\r\n    }\r\n\r\nWith this code, if you have any repeated keys between `Obj1` and `Obj2` the value in `Obj2` will remain. If you want the values in `Obj1` to be kept you should invert the order of the array in line 2.","title":"Merge (Concat) Multiple JSONObjects in Java","body":"<p>You can create a new JSONObject like this:</p>\n\n<pre><code>JSONObject merged = new JSONObject();\nJSONObject[] objs = new JSONObject[] { Obj1, Obj2 };\nfor (JSONObject obj : objs) {\n    Iterator it = obj.keys();\n    while (it.hasNext()) {\n        String key = (String)it.next();\n        merged.put(key, obj.get(key));\n    }\n}\n</code></pre>\n\n<p>With this code, if you have any repeated keys between <code>Obj1</code> and <code>Obj2</code> the value in <code>Obj2</code> will remain. If you want the values in <code>Obj1</code> to be kept you should invert the order of the array in line 2.</p>\n"},{"comments":[{"owner":{"account_id":40356,"reputation":11408,"user_id":116938,"accept_rate":88,"display_name":"Austyn Mahoney"},"score":2,"creation_date":1348684279,"post_id":2403453,"comment_id":16995650,"body_markdown":"I am trying to use your second code snippet in Android, but I don&#39;t see a static getNames function on JSONObject. Was this added in a newer version of the org.json library?","body":"I am trying to use your second code snippet in Android, but I don&#39;t see a static getNames function on JSONObject. Was this added in a newer version of the org.json library?"},{"owner":{"account_id":20130,"reputation":279855,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"score":2,"creation_date":1349540986,"post_id":2403453,"comment_id":17244099,"body_markdown":"@AustynMahoney, not sure about the history, but for Android you can use the instance method [`JSONObject.names`](http://developer.android.com/reference/org/json/JSONObject.html#names%28%29).","body":"@AustynMahoney, not sure about the history, but for Android you can use the instance method <a href=\"http://developer.android.com/reference/org/json/JSONObject.html#names%28%29\" rel=\"nofollow noreferrer\"><code>JSONObject.names</code></a>."},{"owner":{"account_id":1851402,"reputation":1688,"user_id":1677896,"accept_rate":35,"display_name":"kishore"},"score":0,"creation_date":1389084065,"post_id":2403453,"comment_id":31497772,"body_markdown":"@AustynMahoney It was not there in android json library i tried it already. It was not mentioned in android documentation also. It was only mentioned here http://www.json.org/javadoc/org/json/JSONObject.html","body":"@AustynMahoney It was not there in android json library i tried it already. It was not mentioned in android documentation also. It was only mentioned here <a href=\"http://www.json.org/javadoc/org/json/JSONObject.html\" rel=\"nofollow noreferrer\">json.org/javadoc/org/json/JSONObject.html</a>"},{"owner":{"account_id":1559703,"reputation":2989,"user_id":1449881,"display_name":"Ehsan"},"score":2,"creation_date":1519667579,"post_id":2403453,"comment_id":84993850,"body_markdown":"JSONObject.getNames() method will return null if jsonobject is empty. You need to check for this condition as well.","body":"JSONObject.getNames() method will return null if jsonobject is empty. You need to check for this condition as well."}],"tags":[],"owner":{"account_id":20130,"reputation":279855,"user_id":47773,"accept_rate":52,"display_name":"Matthew Flaschen"},"comment_count":4,"down_vote_count":1,"up_vote_count":66,"is_accepted":true,"score":65,"last_activity_date":1268071101,"creation_date":1268071101,"answer_id":2403453,"question_id":2403132,"body_markdown":"If you want a new object with two keys, Object1 and Object2, you can do:\r\n\r\n    JSONObject Obj1 = (JSONObject) jso1.get(&quot;Object1&quot;);\r\n    JSONObject Obj2 = (JSONObject) jso2.get(&quot;Object2&quot;);\r\n    JSONObject combined = new JSONObject();\r\n    combined.put(&quot;Object1&quot;, Obj1);\r\n    combined.put(&quot;Object2&quot;, Obj2);\r\n\r\nIf you want to merge them, so e.g.  a top level object has 5 keys (Stringkey1, ArrayKey, StringKey2, StringKey3, StringKey4), I think you have to do that manually:\r\n\r\n    JSONObject merged = new JSONObject(Obj1, JSONObject.getNames(Obj1));\r\n    for(String key : JSONObject.getNames(Obj2))\r\n    {\r\n      merged.put(key, Obj2.get(key));\r\n    }\r\n\r\nThis would be a lot easier if JSONObject implemented [Map][1], and supported putAll.\r\n\r\n  [1]: http://java.sun.com/j2se/1.4.2/docs/api/java/util/Map.html","title":"Merge (Concat) Multiple JSONObjects in Java","body":"<p>If you want a new object with two keys, Object1 and Object2, you can do:</p>\n\n<pre><code>JSONObject Obj1 = (JSONObject) jso1.get(\"Object1\");\nJSONObject Obj2 = (JSONObject) jso2.get(\"Object2\");\nJSONObject combined = new JSONObject();\ncombined.put(\"Object1\", Obj1);\ncombined.put(\"Object2\", Obj2);\n</code></pre>\n\n<p>If you want to merge them, so e.g.  a top level object has 5 keys (Stringkey1, ArrayKey, StringKey2, StringKey3, StringKey4), I think you have to do that manually:</p>\n\n<pre><code>JSONObject merged = new JSONObject(Obj1, JSONObject.getNames(Obj1));\nfor(String key : JSONObject.getNames(Obj2))\n{\n  merged.put(key, Obj2.get(key));\n}\n</code></pre>\n\n<p>This would be a lot easier if JSONObject implemented <a href=\"http://java.sun.com/j2se/1.4.2/docs/api/java/util/Map.html\" rel=\"noreferrer\">Map</a>, and supported putAll.</p>\n"},{"comments":[{"owner":{"account_id":1531641,"reputation":467,"user_id":1428710,"accept_rate":60,"display_name":"pgoldweic"},"score":2,"creation_date":1504117348,"post_id":15070484,"comment_id":78893652,"body_markdown":"What if a value within &#39;source&#39; is of type JSONArray?. In this case, we&#39;d need to merge this array with the equivalent JSONArray of the target object.","body":"What if a value within &#39;source&#39; is of type JSONArray?. In this case, we&#39;d need to merge this array with the equivalent JSONArray of the target object."},{"owner":{"account_id":11662342,"reputation":80,"user_id":8540213,"display_name":"adeveloper"},"score":0,"creation_date":1645134536,"post_id":15070484,"comment_id":125797502,"body_markdown":"One thing that I had to add for this code to work with nested empty objects - if(source.isEmpty() || source.length()==0){\n            return target.toString();\n        }","body":"One thing that I had to add for this code to work with nested empty objects - if(source.isEmpty() || source.length()==0){             return target.toString();         }"}],"tags":[],"owner":{"account_id":439169,"reputation":34683,"user_id":827927,"accept_rate":74,"display_name":"Erel Segal-Halevi"},"comment_count":2,"down_vote_count":1,"up_vote_count":32,"is_accepted":false,"score":31,"last_activity_date":1361806267,"creation_date":1361806267,"answer_id":15070484,"question_id":2403132,"body_markdown":"In some cases you need a deep merge, i.e., merge the contents of fields with identical names (just like when copying folders in Windows). This function may be helpful:\r\n\r\n\t/**\r\n\t * Merge &quot;source&quot; into &quot;target&quot;. If fields have equal name, merge them recursively.\r\n\t * @return the merged object (target).\r\n\t */\r\n\tpublic static JSONObject deepMerge(JSONObject source, JSONObject target) throws JSONException {\r\n\t\tfor (String key: JSONObject.getNames(source)) {\r\n\t\t\t\tObject value = source.get(key);\r\n\t\t\t\tif (!target.has(key)) {\r\n\t\t\t\t\t// new value for &quot;key&quot;:\r\n\t\t\t\t\ttarget.put(key, value);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// existing value for &quot;key&quot; - recursively deep merge:\r\n\t\t\t\t\tif (value instanceof JSONObject) {\r\n\t\t\t\t\t\tJSONObject valueJson = (JSONObject)value;\r\n\t\t\t\t\t\tdeepMerge(valueJson, target.getJSONObject(key));\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttarget.put(key, value);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t}\r\n\t\treturn target;\r\n\t}\r\n\r\n\r\n\r\n\t/**\r\n\t * demo program\r\n\t */\r\n\tpublic static void main(String[] args) throws JSONException {\r\n\t\tJSONObject a = new JSONObject(&quot;{offer: {issue1: value1}, accept: true}&quot;);\r\n\t\tJSONObject b = new JSONObject(&quot;{offer: {issue2: value2}, reject: false}&quot;);\r\n\t\tSystem.out.println(a+ &quot; + &quot; + b+&quot; = &quot;+JsonUtils.deepMerge(a,b));\r\n\t\t// prints:\r\n\t\t// {&quot;accept&quot;:true,&quot;offer&quot;:{&quot;issue1&quot;:&quot;value1&quot;}} + {&quot;reject&quot;:false,&quot;offer&quot;:{&quot;issue2&quot;:&quot;value2&quot;}} = {&quot;reject&quot;:false,&quot;accept&quot;:true,&quot;offer&quot;:{&quot;issue1&quot;:&quot;value1&quot;,&quot;issue2&quot;:&quot;value2&quot;}}\r\n\t}\r\n\r\n","title":"Merge (Concat) Multiple JSONObjects in Java","body":"<p>In some cases you need a deep merge, i.e., merge the contents of fields with identical names (just like when copying folders in Windows). This function may be helpful:</p>\n\n<pre><code>/**\n * Merge \"source\" into \"target\". If fields have equal name, merge them recursively.\n * @return the merged object (target).\n */\npublic static JSONObject deepMerge(JSONObject source, JSONObject target) throws JSONException {\n    for (String key: JSONObject.getNames(source)) {\n            Object value = source.get(key);\n            if (!target.has(key)) {\n                // new value for \"key\":\n                target.put(key, value);\n            } else {\n                // existing value for \"key\" - recursively deep merge:\n                if (value instanceof JSONObject) {\n                    JSONObject valueJson = (JSONObject)value;\n                    deepMerge(valueJson, target.getJSONObject(key));\n                } else {\n                    target.put(key, value);\n                }\n            }\n    }\n    return target;\n}\n\n\n\n/**\n * demo program\n */\npublic static void main(String[] args) throws JSONException {\n    JSONObject a = new JSONObject(\"{offer: {issue1: value1}, accept: true}\");\n    JSONObject b = new JSONObject(\"{offer: {issue2: value2}, reject: false}\");\n    System.out.println(a+ \" + \" + b+\" = \"+JsonUtils.deepMerge(a,b));\n    // prints:\n    // {\"accept\":true,\"offer\":{\"issue1\":\"value1\"}} + {\"reject\":false,\"offer\":{\"issue2\":\"value2\"}} = {\"reject\":false,\"accept\":true,\"offer\":{\"issue1\":\"value1\",\"issue2\":\"value2\"}}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5201928,"reputation":2986,"user_id":4161024,"accept_rate":86,"display_name":"Dave Ranjan"},"comment_count":0,"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1459496288,"creation_date":1459496288,"answer_id":36350622,"question_id":2403132,"body_markdown":"This wrapper method will help : \r\n\r\n  \tprivate static JSONObject merge(JSONObject... jsonObjects) throws JSONException {\r\n\r\n        JSONObject jsonObject = new JSONObject();\r\n\r\n        for(JSONObject temp : jsonObjects){\r\n            Iterator&lt;String&gt; keys = temp.keys();\r\n            while(keys.hasNext()){\r\n                String key = keys.next();\r\n                jsonObject.put(key, temp.get(key));\r\n            }\r\n\r\n        }\r\n        return jsonObject;\r\n    }","title":"Merge (Concat) Multiple JSONObjects in Java","body":"<p>This wrapper method will help : </p>\n\n<pre><code>private static JSONObject merge(JSONObject... jsonObjects) throws JSONException {\n\n    JSONObject jsonObject = new JSONObject();\n\n    for(JSONObject temp : jsonObjects){\n        Iterator&lt;String&gt; keys = temp.keys();\n        while(keys.hasNext()){\n            String key = keys.next();\n            jsonObject.put(key, temp.get(key));\n        }\n\n    }\n    return jsonObject;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2251512,"reputation":558,"user_id":1983647,"accept_rate":57,"display_name":"jonayreyes"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1469442736,"creation_date":1469442736,"answer_id":38565392,"question_id":2403132,"body_markdown":"In addition to @erel&#39;s answer, I had to make this edit (I&#39;m using `org.json.simple`) to the outer `else` for dealing with `JSONArray`&#39;s:\r\n\r\n                // existing value for &quot;key&quot; - recursively deep merge:\r\n                if (value instanceof JSONObject) {\r\n                    JSONObject valueJson = (JSONObject)value;\r\n                    deepMerge(valueJson, (JSONObject) target.get(key));\r\n                } \r\n\r\n                // insert each JSONArray&#39;s JSONObject in place\r\n                if (value instanceof JSONArray) {\r\n                \t((JSONArray) value).forEach(\r\n                \t\tjsonobj -&gt;\r\n\t                \t((JSONArray) target.get(key)).add(jsonobj));\r\n                }\r\n                else {\r\n                    target.put(key, value);\r\n                }","title":"Merge (Concat) Multiple JSONObjects in Java","body":"<p>In addition to @erel's answer, I had to make this edit (I'm using <code>org.json.simple</code>) to the outer <code>else</code> for dealing with <code>JSONArray</code>'s:</p>\n\n<pre><code>            // existing value for \"key\" - recursively deep merge:\n            if (value instanceof JSONObject) {\n                JSONObject valueJson = (JSONObject)value;\n                deepMerge(valueJson, (JSONObject) target.get(key));\n            } \n\n            // insert each JSONArray's JSONObject in place\n            if (value instanceof JSONArray) {\n                ((JSONArray) value).forEach(\n                    jsonobj -&gt;\n                    ((JSONArray) target.get(key)).add(jsonobj));\n            }\n            else {\n                target.put(key, value);\n            }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3134759,"reputation":41,"user_id":2651508,"display_name":"user2651508"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1470278366,"creation_date":1470278366,"answer_id":38757661,"question_id":2403132,"body_markdown":"Thanks to Erel. Here is a Gson version.\r\n\r\n\t/**\r\n\t * Merge &quot;source&quot; into &quot;target&quot;. If fields have equal name, merge them recursively.\r\n\t * Null values in source will remove the field from the target.\r\n\t * Override target values with source values\r\n\t * Keys not supplied in source will remain unchanged in target\r\n\t * \r\n\t * @return the merged object (target).\r\n\t */\r\n\tpublic static JsonObject deepMerge(JsonObject source, JsonObject target) throws Exception {\r\n\t\t\r\n\t\tfor (Map.Entry&lt;String,JsonElement&gt; sourceEntry : source.entrySet()) {\r\n\t\t\tString key = sourceEntry.getKey();\r\n\t\t\tJsonElement value = sourceEntry.getValue();\r\n\t\t    if (!target.has(key)) {\r\n\t\t    \t//target does not have the same key, so perhaps it should be added to target\r\n\t\t    \tif (!value.isJsonNull()) //well, only add if the source value is not null\r\n\t\t    \ttarget.add(key, value);\r\n\t\t    } else {\r\n\t\t    \tif (!value.isJsonNull()) {\r\n\t\t    \t\tif (value.isJsonObject()) {\r\n\t\t    \t\t\t//source value is json object, start deep merge\r\n\t\t    \t\t\tdeepMerge(value.getAsJsonObject(), target.get(key).getAsJsonObject());\r\n\t\t    \t\t} else {\r\n\t\t    \t\t\ttarget.add(key,value);\r\n\t\t    \t\t}\r\n\t\t    \t} else {\r\n\t\t    \t\ttarget.remove(key);\r\n\t\t    \t}\r\n\t\t    }\r\n\t\t}\r\n\t\treturn target;\r\n\t}\r\n\r\n\r\n\r\n\t/**\r\n\t * simple test\r\n\t */\r\n\tpublic static void main(String[] args) throws Exception {\r\n\t\tJsonParser parser = new JsonParser();\r\n\t\tJsonObject a = null;\r\n\t\tJsonObject b = null;\r\n\t\ta = parser.parse(&quot;{offer: {issue1: null, issue2: null}, accept: true, reject: null}&quot;).getAsJsonObject();\r\n\t\tb = parser.parse(&quot;{offer: {issue2: value2}, reject: false}&quot;).getAsJsonObject();\r\n\t    System.out.println(deepMerge(a,b));\r\n\t    // prints:\r\n\t\t// {&quot;offer&quot;:{},&quot;accept&quot;:true}\r\n\t\ta = parser.parse(&quot;{offer: {issue1: value1}, accept: true, reject: null}&quot;).getAsJsonObject();\r\n\t\tb = parser.parse(&quot;{offer: {issue2: value2}, reject: false}&quot;).getAsJsonObject();\r\n\t    System.out.println(deepMerge(a,b));\r\n\t    // prints:\r\n\t\t// {&quot;offer&quot;:{&quot;issue2&quot;:&quot;value2&quot;,&quot;issue1&quot;:&quot;value1&quot;},&quot;accept&quot;:true}\r\n\r\n\t}","title":"Merge (Concat) Multiple JSONObjects in Java","body":"<p>Thanks to Erel. Here is a Gson version.</p>\n\n<pre><code>/**\n * Merge \"source\" into \"target\". If fields have equal name, merge them recursively.\n * Null values in source will remove the field from the target.\n * Override target values with source values\n * Keys not supplied in source will remain unchanged in target\n * \n * @return the merged object (target).\n */\npublic static JsonObject deepMerge(JsonObject source, JsonObject target) throws Exception {\n\n    for (Map.Entry&lt;String,JsonElement&gt; sourceEntry : source.entrySet()) {\n        String key = sourceEntry.getKey();\n        JsonElement value = sourceEntry.getValue();\n        if (!target.has(key)) {\n            //target does not have the same key, so perhaps it should be added to target\n            if (!value.isJsonNull()) //well, only add if the source value is not null\n            target.add(key, value);\n        } else {\n            if (!value.isJsonNull()) {\n                if (value.isJsonObject()) {\n                    //source value is json object, start deep merge\n                    deepMerge(value.getAsJsonObject(), target.get(key).getAsJsonObject());\n                } else {\n                    target.add(key,value);\n                }\n            } else {\n                target.remove(key);\n            }\n        }\n    }\n    return target;\n}\n\n\n\n/**\n * simple test\n */\npublic static void main(String[] args) throws Exception {\n    JsonParser parser = new JsonParser();\n    JsonObject a = null;\n    JsonObject b = null;\n    a = parser.parse(\"{offer: {issue1: null, issue2: null}, accept: true, reject: null}\").getAsJsonObject();\n    b = parser.parse(\"{offer: {issue2: value2}, reject: false}\").getAsJsonObject();\n    System.out.println(deepMerge(a,b));\n    // prints:\n    // {\"offer\":{},\"accept\":true}\n    a = parser.parse(\"{offer: {issue1: value1}, accept: true, reject: null}\").getAsJsonObject();\n    b = parser.parse(\"{offer: {issue2: value2}, reject: false}\").getAsJsonObject();\n    System.out.println(deepMerge(a,b));\n    // prints:\n    // {\"offer\":{\"issue2\":\"value2\",\"issue1\":\"value1\"},\"accept\":true}\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9106718,"reputation":1,"user_id":6776844,"display_name":"Jayvee Villa"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519048378,"creation_date":1472611997,"answer_id":39240020,"question_id":2403132,"body_markdown":"I used string to concatenate new object to an existing object.\r\n\r\n----------\r\n\r\n    private static void concatJSON() throws IOException, InterruptedException {\r\n\r\n\t\tJSONParser parser = new JSONParser();\r\n\t\tObject obj = parser.parse(new FileReader(new File(Main.class.getResource(&quot;/file/user.json&quot;).toURI())));\r\n\t\t\r\n\t\t\r\n\t\tJSONObject jsonObj = (JSONObject) obj; //usernameJsonObj\r\n\t\t\r\n\t\tString [] values = {&quot;0.9&quot; , Date.from(Calendar.getInstance().toInstant()).toLocaleString()},\r\n\t\t\t\tinnermost = {&quot;Accomplished&quot;, &quot;LatestDate&quot;}, \r\n\t\t\t\tinner = {&quot;Lesson1&quot;, &quot;Lesson2&quot;, &quot;Lesson3&quot;, &quot;Lesson4&quot;};\r\n\t\tString in = &quot;Jayvee Villa&quot;;\r\n\r\n\t\tJSONObject jo1 = new JSONObject();\r\n\t\tfor (int i = 0; i &lt; innermost.length; i++)\r\n\t\t\tjo1.put(innermost[i], values[i]);\r\n\t\t\r\n\t\tJSONObject jo2 = new JSONObject();\r\n\t\tfor (int i = 0; i &lt; inner.length; i++)\r\n\t\t\tjo2.put(inner[i], jo1);\r\n\t\t\r\n\t\tJSONObject jo3 = new JSONObject();\r\n\t\tjo3.put(in, jo2);\r\n\r\n\t\tString merger = jsonObj.toString().substring(0, jsonObj.toString().length()-1) + &quot;,&quot; +jo3.toString().substring(1);\r\n\t\t\r\n\t\tSystem.out.println(merger);\r\n\t\tFileWriter pr = new FileWriter(file);\r\n\t\tpr.write(merger);\r\n\t\tpr.flush();\r\n\t\tpr.close();\r\n\t}","title":"Merge (Concat) Multiple JSONObjects in Java","body":"<p>I used string to concatenate new object to an existing object.</p>\n\n<hr>\n\n<pre><code>private static void concatJSON() throws IOException, InterruptedException {\n\n    JSONParser parser = new JSONParser();\n    Object obj = parser.parse(new FileReader(new File(Main.class.getResource(\"/file/user.json\").toURI())));\n\n\n    JSONObject jsonObj = (JSONObject) obj; //usernameJsonObj\n\n    String [] values = {\"0.9\" , Date.from(Calendar.getInstance().toInstant()).toLocaleString()},\n            innermost = {\"Accomplished\", \"LatestDate\"}, \n            inner = {\"Lesson1\", \"Lesson2\", \"Lesson3\", \"Lesson4\"};\n    String in = \"Jayvee Villa\";\n\n    JSONObject jo1 = new JSONObject();\n    for (int i = 0; i &lt; innermost.length; i++)\n        jo1.put(innermost[i], values[i]);\n\n    JSONObject jo2 = new JSONObject();\n    for (int i = 0; i &lt; inner.length; i++)\n        jo2.put(inner[i], jo1);\n\n    JSONObject jo3 = new JSONObject();\n    jo3.put(in, jo2);\n\n    String merger = jsonObj.toString().substring(0, jsonObj.toString().length()-1) + \",\" +jo3.toString().substring(1);\n\n    System.out.println(merger);\n    FileWriter pr = new FileWriter(file);\n    pr.write(merger);\n    pr.flush();\n    pr.close();\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":1440688,"reputation":539,"user_id":1360939,"accept_rate":67,"display_name":"HiteshGs"},"score":0,"creation_date":1569504304,"post_id":44126984,"comment_id":102624539,"body_markdown":"for JSONArray \nelse if (added.get(key) instanceof JSONArray &amp;&amp;\n                                merged.get(key) instanceof JSONArray) {\n                            JSONArray mkeyArray =  merged.getJSONArray(key);\n                            JSONArray akeyArray =  added.getJSONArray(key);\n                            for (int i=0;i&lt;akeyArray.length();i++)\n                            {\n                                mkeyArray.put(akeyArray.get(i));\n                            }\n                            merged.put(key,mkeyArray);\n                            continue;}","body":"for JSONArray  else if (added.get(key) instanceof JSONArray &amp;&amp;                                 merged.get(key) instanceof JSONArray) {                             JSONArray mkeyArray =  merged.getJSONArray(key);                             JSONArray akeyArray =  added.getJSONArray(key);                             for (int i=0;i&lt;akeyArray.length();i++)                             {                                 mkeyArray.put(akeyArray.get(i));                             }                             merged.put(key,mkeyArray);                             continue;}"}],"tags":[],"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"comment_count":1,"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1502871150,"creation_date":1495519709,"answer_id":44126984,"question_id":2403132,"body_markdown":"A ready method to merge any number of JSONObjects:\r\n\r\n\r\n    /**\r\n     * Merges given JSONObjects. Values for identical key names are merged \r\n     * if they are objects, otherwise replaced by the latest occurence.\r\n     *\r\n     * @param jsons JSONObjects to merge.\r\n     *\r\n     * @return Merged JSONObject.\r\n     */\r\n    public static JSONObject merge(\r\n      JSONObject[] jsons) {\r\n\r\n      JSONObject merged = new JSONObject();\r\n      Object parameter;\r\n\r\n      for (JSONObject added : jsons) {\r\n\r\n        for (String key : toStringArrayList(added.names())) {\r\n          try {\r\n\r\n            parameter = added.get(key);\r\n\r\n            if (merged.has(key)) {\r\n              // Duplicate key found:\r\n              if (added.get(key) instanceof JSONObject) {\r\n                // Object - allowed to merge:\r\n                parameter =\r\n                  merge(\r\n                    new JSONObject[]{\r\n                      (JSONObject) merged.get(key),\r\n                      (JSONObject) added.get(key)});\r\n              }\r\n            }\r\n\r\n            // Add or update value on duplicate key:\r\n            merged.put(\r\n              key,\r\n              parameter);\r\n\r\n          } catch (JSONException e) {\r\n            e.printStackTrace();\r\n          }\r\n        }\r\n\r\n      }\r\n\r\n      return merged;\r\n    }\r\n\r\n    /**\r\n     * Convert JSONArray to ArrayList&lt;String&gt;.\r\n     *\r\n     * @param jsonArray Source JSONArray.\r\n     *\r\n     * @return Target ArrayList&lt;String&gt;.\r\n     */\r\n    public static ArrayList&lt;String&gt; toStringArrayList(JSONArray jsonArray) {\r\n\r\n      ArrayList&lt;String&gt; stringArray = new ArrayList&lt;String&gt;();\r\n      int arrayIndex;\r\n\r\n      for (\r\n        arrayIndex = 0;\r\n        arrayIndex &lt; jsonArray.length();\r\n        arrayIndex++) {\r\n\r\n        try {\r\n          stringArray.add(\r\n            jsonArray.getString(arrayIndex));\r\n        } catch (JSONException e) {\r\n          e.printStackTrace();\r\n        }\r\n      }\r\n\r\n      return stringArray;\r\n    }","title":"Merge (Concat) Multiple JSONObjects in Java","body":"<p>A ready method to merge any number of JSONObjects:</p>\n\n<pre><code>/**\n * Merges given JSONObjects. Values for identical key names are merged \n * if they are objects, otherwise replaced by the latest occurence.\n *\n * @param jsons JSONObjects to merge.\n *\n * @return Merged JSONObject.\n */\npublic static JSONObject merge(\n  JSONObject[] jsons) {\n\n  JSONObject merged = new JSONObject();\n  Object parameter;\n\n  for (JSONObject added : jsons) {\n\n    for (String key : toStringArrayList(added.names())) {\n      try {\n\n        parameter = added.get(key);\n\n        if (merged.has(key)) {\n          // Duplicate key found:\n          if (added.get(key) instanceof JSONObject) {\n            // Object - allowed to merge:\n            parameter =\n              merge(\n                new JSONObject[]{\n                  (JSONObject) merged.get(key),\n                  (JSONObject) added.get(key)});\n          }\n        }\n\n        // Add or update value on duplicate key:\n        merged.put(\n          key,\n          parameter);\n\n      } catch (JSONException e) {\n        e.printStackTrace();\n      }\n    }\n\n  }\n\n  return merged;\n}\n\n/**\n * Convert JSONArray to ArrayList&lt;String&gt;.\n *\n * @param jsonArray Source JSONArray.\n *\n * @return Target ArrayList&lt;String&gt;.\n */\npublic static ArrayList&lt;String&gt; toStringArrayList(JSONArray jsonArray) {\n\n  ArrayList&lt;String&gt; stringArray = new ArrayList&lt;String&gt;();\n  int arrayIndex;\n\n  for (\n    arrayIndex = 0;\n    arrayIndex &lt; jsonArray.length();\n    arrayIndex++) {\n\n    try {\n      stringArray.add(\n        jsonArray.getString(arrayIndex));\n    } catch (JSONException e) {\n      e.printStackTrace();\n    }\n  }\n\n  return stringArray;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9860419,"reputation":1384,"user_id":7303613,"accept_rate":100,"display_name":"noam aghai"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1533432035,"creation_date":1533432035,"answer_id":51690726,"question_id":2403132,"body_markdown":"For me that function worked:\r\n\r\n    private static JSONObject concatJSONS(JSONObject json, JSONObject obj) {\r\n\t\tJSONObject result = new JSONObject();\r\n\t\t\r\n\t\tfor(Object key: json.keySet()) {\r\n\t\t\tSystem.out.println(&quot;adding &quot; + key + &quot; to result json&quot;);\r\n\t\t\tresult.put(key, json.get(key));\r\n\t\t}\r\n\t\t\r\n\t\tfor(Object key: obj.keySet()) {\r\n\t\t\tSystem.out.println(&quot;adding &quot; + key + &quot; to result json&quot;);\r\n\t\t\tresult.put(key, obj.get(key));\r\n\t\t}\r\n\t\t\r\n\t\treturn result;\r\n\t}\r\n\r\n\r\n(notice) - this implementation of concataion of json is for import \r\n**org.json.simple.JSONObject;**\r\n","title":"Merge (Concat) Multiple JSONObjects in Java","body":"<p>For me that function worked:</p>\n\n<pre><code>private static JSONObject concatJSONS(JSONObject json, JSONObject obj) {\n    JSONObject result = new JSONObject();\n\n    for(Object key: json.keySet()) {\n        System.out.println(\"adding \" + key + \" to result json\");\n        result.put(key, json.get(key));\n    }\n\n    for(Object key: obj.keySet()) {\n        System.out.println(\"adding \" + key + \" to result json\");\n        result.put(key, obj.get(key));\n    }\n\n    return result;\n}\n</code></pre>\n\n<p>(notice) - this implementation of concataion of json is for import \n<strong>org.json.simple.JSONObject;</strong></p>\n"},{"tags":[],"owner":{"account_id":49078,"reputation":44646,"user_id":145989,"accept_rate":59,"display_name":"Ondra Žižka"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1545065699,"creation_date":1545065282,"answer_id":53819630,"question_id":2403132,"body_markdown":"Merging typed data structure trees is not trivial, you need to define the precedence, handle incompatible types, define how they will be casted and merged...\r\n\r\nSo in my opinion, you won&#39;t avoid \r\n&gt;... pulling them all apart and individually adding in by puts`.\r\n\r\nIf your question is: **Has someone done it for me yet?**\r\nThen I think you can have a look at this [YAML merging library/tool](https://github.com/OndraZizka/yaml-merge/blob/master/src/main/java/org/cobbzilla/util/yml/YmlMerger.java#L101) I revived. (YAML is a superset of JSON), and the principles are applicable to both.   \r\n(However, this particular code returns YAML objects, not JSON. Feel free to extend the project and send a PR.)\r\n\r\n","title":"Merge (Concat) Multiple JSONObjects in Java","body":"<p>Merging typed data structure trees is not trivial, you need to define the precedence, handle incompatible types, define how they will be casted and merged...</p>\n\n<p>So in my opinion, you won't avoid </p>\n\n<blockquote>\n  <p>... pulling them all apart and individually adding in by puts`.</p>\n</blockquote>\n\n<p>If your question is: <strong>Has someone done it for me yet?</strong>\nThen I think you can have a look at this <a href=\"https://github.com/OndraZizka/yaml-merge/blob/master/src/main/java/org/cobbzilla/util/yml/YmlMerger.java#L101\" rel=\"nofollow noreferrer\">YAML merging library/tool</a> I revived. (YAML is a superset of JSON), and the principles are applicable to both.<br>\n(However, this particular code returns YAML objects, not JSON. Feel free to extend the project and send a PR.)</p>\n"},{"tags":[],"owner":{"account_id":8805547,"reputation":11,"user_id":6580374,"display_name":"Ismet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1550060700,"creation_date":1550060700,"answer_id":54670157,"question_id":2403132,"body_markdown":"Today, I was also struggling to merge JSON objects and came with following solution (uses Gson library).\r\n\r\n\r\n    private JsonObject mergeJsons(List&lt;JsonObject&gt; jsonObjs) {\r\n        JsonObject mergedJson = new JsonObject();\r\n        jsonObjs.forEach((JsonObject jsonObj) -&gt; {\r\n            Set&lt;Map.Entry&lt;String, JsonElement&gt;&gt; entrySet = jsonObj.entrySet();\r\n            entrySet.forEach((next) -&gt; {\r\n                mergedJson.add(next.getKey(), next.getValue());\r\n            });\r\n        });\r\n        return mergedJson;\r\n    }\r\n\r\n ","title":"Merge (Concat) Multiple JSONObjects in Java","body":"<p>Today, I was also struggling to merge JSON objects and came with following solution (uses Gson library).</p>\n\n<pre><code>private JsonObject mergeJsons(List&lt;JsonObject&gt; jsonObjs) {\n    JsonObject mergedJson = new JsonObject();\n    jsonObjs.forEach((JsonObject jsonObj) -&gt; {\n        Set&lt;Map.Entry&lt;String, JsonElement&gt;&gt; entrySet = jsonObj.entrySet();\n        entrySet.forEach((next) -&gt; {\n            mergedJson.add(next.getKey(), next.getValue());\n        });\n    });\n    return mergedJson;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9072469,"reputation":79,"user_id":6755126,"display_name":"Kael luo"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570499568,"creation_date":1570499568,"answer_id":58279220,"question_id":2403132,"body_markdown":"Somebody already mentioned above. I&#39;ll just post a short version.\r\n\r\nTo merge two JSONObject `json1` &amp; `json2` You could simply deal it with String like this:\r\n```\r\nString merged = json1.toString().substring(0, json1.length() - 1) + &quot;,&quot; +\r\njson2.toString().substring(1);\r\nJSONObject mergedJson = new JSONObject(merged);\r\n```\r\nOf course, do not forget deal with `JSONException`. :)\r\n Hope this could help you.","title":"Merge (Concat) Multiple JSONObjects in Java","body":"<p>Somebody already mentioned above. I'll just post a short version.</p>\n\n<p>To merge two JSONObject <code>json1</code> &amp; <code>json2</code> You could simply deal it with String like this:</p>\n\n<pre><code>String merged = json1.toString().substring(0, json1.length() - 1) + \",\" +\njson2.toString().substring(1);\nJSONObject mergedJson = new JSONObject(merged);\n</code></pre>\n\n<p>Of course, do not forget deal with <code>JSONException</code>. :)\n Hope this could help you.</p>\n"},{"comments":[{"owner":{"account_id":13113751,"reputation":142099,"user_id":9473764,"display_name":"Nick"},"score":0,"creation_date":1573260908,"post_id":58775216,"comment_id":103836733,"body_markdown":"Code only answers are discouraged. Please add some explanation as to how this solves the problem, or how this differs from the existing answers. [From Review](https://stackoverflow.com/review/late-answers/24531782)","body":"Code only answers are discouraged. Please add some explanation as to how this solves the problem, or how this differs from the existing answers. <a href=\"https://stackoverflow.com/review/late-answers/24531782\">From Review</a>"}],"tags":[],"owner":{"account_id":13789408,"reputation":41,"user_id":12345819,"display_name":"Aaron Lam"},"comment_count":1,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1573258382,"creation_date":1573258382,"answer_id":58775216,"question_id":2403132,"body_markdown":"This is what I do\r\n\r\n    import com.fasterxml.jackson.databind.JsonNode;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.node.ObjectNode;\r\n\r\n    /**\r\n     * This class has all static functions to merge 2 objects into one\r\n     */\r\n    public class MergeHelper {\r\n        private static ObjectMapper objectMapper = new ObjectMapper();\r\n\r\n        /**\r\n         * return a merge JsonNode, merge newJson into oldJson; override or insert\r\n         * fields from newJson into oldJson\r\n         * \r\n         * @param oldJson\r\n         * @param newJson\r\n         * @return\r\n         */\r\n        public static JsonNode mergeJsonObject(JsonNode oldJson, JsonNode newJson) {\r\n            ObjectNode merged = objectMapper.createObjectNode();\r\n            merged.setAll((ObjectNode) oldJson);\r\n            merged.setAll((ObjectNode) newJson);\r\n            return merged;\r\n        }\r\n    }","title":"Merge (Concat) Multiple JSONObjects in Java","body":"<p>This is what I do</p>\n\n<pre><code>import com.fasterxml.jackson.databind.JsonNode;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.node.ObjectNode;\n\n/**\n * This class has all static functions to merge 2 objects into one\n */\npublic class MergeHelper {\n    private static ObjectMapper objectMapper = new ObjectMapper();\n\n    /**\n     * return a merge JsonNode, merge newJson into oldJson; override or insert\n     * fields from newJson into oldJson\n     * \n     * @param oldJson\n     * @param newJson\n     * @return\n     */\n    public static JsonNode mergeJsonObject(JsonNode oldJson, JsonNode newJson) {\n        ObjectNode merged = objectMapper.createObjectNode();\n        merged.setAll((ObjectNode) oldJson);\n        merged.setAll((ObjectNode) newJson);\n        return merged;\n    }\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":544337,"reputation":1995,"user_id":913749,"accept_rate":64,"display_name":"adbdkb"},"score":0,"creation_date":1616111069,"post_id":62445363,"comment_id":117908157,"body_markdown":"I am trying to use the above method.  Trying to determine what changes I need to make when either the source or the target is an array and the other - target or source - is not.  If you have any idea or thoughts, please let me know.  Thanks","body":"I am trying to use the above method.  Trying to determine what changes I need to make when either the source or the target is an array and the other - target or source - is not.  If you have any idea or thoughts, please let me know.  Thanks"},{"owner":{"account_id":9033488,"reputation":316,"user_id":6730346,"display_name":"Maqbool Ahmed"},"score":0,"creation_date":1616398389,"post_id":62445363,"comment_id":117979242,"body_markdown":"The method is checking whether srcValue is an array [Line 6], inside you can check whether dest is an object or an array and act accordingly.","body":"The method is checking whether srcValue is an array [Line 6], inside you can check whether dest is an object or an array and act accordingly."}],"tags":[],"owner":{"account_id":9033488,"reputation":316,"user_id":6730346,"display_name":"Maqbool Ahmed"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1593765011,"creation_date":1592467900,"answer_id":62445363,"question_id":2403132,"body_markdown":"    An improved version of merge on Gson&#39;s JsonObjects - can go any level of nested structure\r\n     /**\r\n     * Merge &quot;source&quot; into &quot;target&quot;. \r\n     * \r\n     * &lt;pre&gt;\r\n     *     An improved version of merge on Gson&#39;s JsonObjects - can go any level of nested structure:\r\n     *             1. merge root &amp; nested attributes.\r\n     *             2. replace list of strings. For. eg.\r\n     *              source -&gt; &quot;listOfStrings&quot;: [&quot;A!&quot;]\r\n     *              dest -&gt; &quot;listOfStrings&quot;: [&quot;A&quot;, &quot;B&quot;]\r\n     *              merged -&gt; &quot;listOfStrings&quot;: [&quot;A!&quot;, &quot;B&quot;]\r\n     *             3. can merge nested objects inside list. For. eg.\r\n     *              source -&gt; &quot;listOfObjects&quot;: [{&quot;key2&quot;: &quot;B&quot;}]\r\n     *              dest -&gt; &quot;listOfObjects&quot;: [{&quot;key1&quot;: &quot;A&quot;}]\r\n     *              merged -&gt; &quot;listOfObjects&quot;: [{&quot;key1&quot;: &quot;A&quot;}, {&quot;key2&quot;: &quot;B&quot;}]\r\n     * &lt;/pre&gt;\r\n     * @return the merged object (target).\r\n     */\r\n    public static JsonObject deepMerge(JsonObject source, JsonObject target) {\r\n        for (String key: source.keySet()) {\r\n            JsonElement srcValue = source.get(key);\r\n            if (!target.has(key)) {\r\n                target.add(key, srcValue);\r\n            } else {\r\n                if (srcValue instanceof JsonArray) {\r\n                    JsonArray srcArray = (JsonArray)srcValue;\r\n                    JsonArray destArray = target.getAsJsonArray(key);\r\n                    if (destArray == null || destArray.size() == 0) {\r\n                        target.add(key, srcArray);\r\n                        continue;\r\n                    } else {\r\n                        IntStream.range(0, srcArray.size()).forEach(index -&gt; {\r\n                            JsonElement srcElem = srcArray.get(index);\r\n                            JsonElement destElem = null;\r\n                            if (index &lt; destArray.size()) {\r\n                                destElem = destArray.get(index);\r\n                            }\r\n                            if (srcElem instanceof JsonObject) {\r\n                                if (destElem == null) {\r\n                                    destElem = new JsonObject();\r\n                                }\r\n                                deepMerge((JsonObject) srcElem, (JsonObject) destElem);\r\n                            } else {\r\n                                destArray.set(index, srcElem);\r\n                            }\r\n                        });\r\n                    }\r\n                } else if (srcValue instanceof JsonObject) {\r\n                    JsonObject valueJson = (JsonObject)srcValue;\r\n                    deepMerge(valueJson, target.getAsJsonObject(key));\r\n                } else {\r\n                    target.add(key, srcValue);\r\n                }\r\n            }\r\n        }\r\n        return target;\r\n    }","title":"Merge (Concat) Multiple JSONObjects in Java","body":"<pre><code>An improved version of merge on Gson's JsonObjects - can go any level of nested structure\n /**\n * Merge &quot;source&quot; into &quot;target&quot;. \n * \n * &lt;pre&gt;\n *     An improved version of merge on Gson's JsonObjects - can go any level of nested structure:\n *             1. merge root &amp; nested attributes.\n *             2. replace list of strings. For. eg.\n *              source -&gt; &quot;listOfStrings&quot;: [&quot;A!&quot;]\n *              dest -&gt; &quot;listOfStrings&quot;: [&quot;A&quot;, &quot;B&quot;]\n *              merged -&gt; &quot;listOfStrings&quot;: [&quot;A!&quot;, &quot;B&quot;]\n *             3. can merge nested objects inside list. For. eg.\n *              source -&gt; &quot;listOfObjects&quot;: [{&quot;key2&quot;: &quot;B&quot;}]\n *              dest -&gt; &quot;listOfObjects&quot;: [{&quot;key1&quot;: &quot;A&quot;}]\n *              merged -&gt; &quot;listOfObjects&quot;: [{&quot;key1&quot;: &quot;A&quot;}, {&quot;key2&quot;: &quot;B&quot;}]\n * &lt;/pre&gt;\n * @return the merged object (target).\n */\npublic static JsonObject deepMerge(JsonObject source, JsonObject target) {\n    for (String key: source.keySet()) {\n        JsonElement srcValue = source.get(key);\n        if (!target.has(key)) {\n            target.add(key, srcValue);\n        } else {\n            if (srcValue instanceof JsonArray) {\n                JsonArray srcArray = (JsonArray)srcValue;\n                JsonArray destArray = target.getAsJsonArray(key);\n                if (destArray == null || destArray.size() == 0) {\n                    target.add(key, srcArray);\n                    continue;\n                } else {\n                    IntStream.range(0, srcArray.size()).forEach(index -&gt; {\n                        JsonElement srcElem = srcArray.get(index);\n                        JsonElement destElem = null;\n                        if (index &lt; destArray.size()) {\n                            destElem = destArray.get(index);\n                        }\n                        if (srcElem instanceof JsonObject) {\n                            if (destElem == null) {\n                                destElem = new JsonObject();\n                            }\n                            deepMerge((JsonObject) srcElem, (JsonObject) destElem);\n                        } else {\n                            destArray.set(index, srcElem);\n                        }\n                    });\n                }\n            } else if (srcValue instanceof JsonObject) {\n                JsonObject valueJson = (JsonObject)srcValue;\n                deepMerge(valueJson, target.getAsJsonObject(key));\n            } else {\n                target.add(key, srcValue);\n            }\n        }\n    }\n    return target;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5238500,"reputation":84,"user_id":5031164,"display_name":"lunix15"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602610985,"creation_date":1602610985,"answer_id":64340427,"question_id":2403132,"body_markdown":"It&#39;s a while from the question but now JSONObject implements &quot;toMap&quot; method so you can try this way:\r\n\r\n    Map&lt;String, Object&gt; map = Obj1.toMap();      //making an HashMap from obj1\r\n    map.putAll(Obj2.toMap());                    //moving all the stuff from obj2 to map\r\n    JSONObject combined = new JSONObject( map ); //new json from map","title":"Merge (Concat) Multiple JSONObjects in Java","body":"<p>It's a while from the question but now JSONObject implements &quot;toMap&quot; method so you can try this way:</p>\n<pre><code>Map&lt;String, Object&gt; map = Obj1.toMap();      //making an HashMap from obj1\nmap.putAll(Obj2.toMap());                    //moving all the stuff from obj2 to map\nJSONObject combined = new JSONObject( map ); //new json from map\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13716264,"reputation":21,"user_id":9897317,"display_name":"Thomas Herbin"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658156828,"creation_date":1658156828,"answer_id":73024552,"question_id":2403132,"body_markdown":"Here is a version of https://stackoverflow.com/a/15070484/9897317 including JSONArrays : \r\n\r\n    /**\r\n\t * Merge &quot;source&quot; into &quot;target&quot;. If fields have equal name, merge them recursively.\r\n\t * @return the merged object (target).\r\n\t */\r\n\tpublic static JSONObject deepMerge(JSONObject source, JSONObject target) throws JSONException {\r\n\t\tfor (String key: JSONObject.getNames(source)) {\r\n\t\t\tObject value = source.get(key);\r\n\t\t\tif (value != null) {\r\n\t\t\t\tif (!target.has(key)) {\r\n\t\t\t\t\t// new value for &quot;key&quot;:\r\n\t\t\t\t\ttarget.put(key, value);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t// existing value for &quot;key&quot; - recursively deep merge:\r\n\t\t\t\t\tif (value instanceof JSONObject) {\r\n\t\t\t\t\t\tJSONObject valueJson = (JSONObject)value;\r\n\t\t\t\t\t\tdeepMerge(valueJson, target.getJSONObject(key));\r\n\t\t\t\t\t} else if (value instanceof JSONArray) {\r\n\t\t\t\t\t\tJSONArray arr = (JSONArray) value;\r\n\t\t\t\t\t\tJSONArray newArr = new JSONArray();\r\n\t\t\t\t\t\tfor (int i = 0; i &lt; arr.length(); i++) {\r\n\t\t\t\t\t\t\tnewArr.put(deepMerge(arr.getJSONObject(i), target.getJSONArray(key).getJSONObject(i)));\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\ttarget.put(key, newArr);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\ttarget.put(key, value);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn target;\r\n\t}","title":"Merge (Concat) Multiple JSONObjects in Java","body":"<p>Here is a version of <a href=\"https://stackoverflow.com/a/15070484/9897317\">https://stackoverflow.com/a/15070484/9897317</a> including JSONArrays :</p>\n<pre><code>/**\n * Merge &quot;source&quot; into &quot;target&quot;. If fields have equal name, merge them recursively.\n * @return the merged object (target).\n */\npublic static JSONObject deepMerge(JSONObject source, JSONObject target) throws JSONException {\n    for (String key: JSONObject.getNames(source)) {\n        Object value = source.get(key);\n        if (value != null) {\n            if (!target.has(key)) {\n                // new value for &quot;key&quot;:\n                target.put(key, value);\n            } else {\n                // existing value for &quot;key&quot; - recursively deep merge:\n                if (value instanceof JSONObject) {\n                    JSONObject valueJson = (JSONObject)value;\n                    deepMerge(valueJson, target.getJSONObject(key));\n                } else if (value instanceof JSONArray) {\n                    JSONArray arr = (JSONArray) value;\n                    JSONArray newArr = new JSONArray();\n                    for (int i = 0; i &lt; arr.length(); i++) {\n                        newArr.put(deepMerge(arr.getJSONObject(i), target.getJSONArray(key).getJSONObject(i)));\n                    }\n                    target.put(key, newArr);\n                } else {\n                    target.put(key, value);\n                }\n            }\n        }\n    }\n    return target;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4488914,"reputation":1121,"user_id":3650586,"display_name":"Anomitra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696578962,"creation_date":1691737136,"answer_id":76881334,"question_id":2403132,"body_markdown":"After I found myself coming back to this question more often than I wanted to, I decided to write my own util function to solve this. The function merges two `JSONObject`s and works even if one of them is null.\r\n\r\n```\r\nprivate JSONObject mergeJson(JSONObject oldJson, JSONObject newJson){\r\n    if (Objects.isNull(newJson)) {\r\n        return oldJson;\r\n    }\r\n    if (Objects.isNull(oldJson)) {\r\n        return newJson;\r\n    }\r\n    for (String key : JSONObject.getNames(newJson)) {\r\n        oldJson.put(key, newJson.get(key));\r\n    }\r\n    return oldJson;\r\n}\r\n```","title":"Merge (Concat) Multiple JSONObjects in Java","body":"<p>After I found myself coming back to this question more often than I wanted to, I decided to write my own util function to solve this. The function merges two <code>JSONObject</code>s and works even if one of them is null.</p>\n<pre><code>private JSONObject mergeJson(JSONObject oldJson, JSONObject newJson){\n    if (Objects.isNull(newJson)) {\n        return oldJson;\n    }\n    if (Objects.isNull(oldJson)) {\n        return newJson;\n    }\n    for (String key : JSONObject.getNames(newJson)) {\n        oldJson.put(key, newJson.get(key));\n    }\n    return oldJson;\n}\n</code></pre>\n"}],"owner":{"account_id":580858,"reputation":5059,"user_id":245863,"accept_rate":53,"display_name":"DanInDC"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":180346,"favorite_count":0,"down_vote_count":0,"up_vote_count":72,"accepted_answer_id":2403453,"answer_count":17,"score":72,"last_activity_date":1696578962,"creation_date":1268068344,"question_id":2403132,"body_markdown":"I am consuming some JSON from two different sources, I end up with two `JSONObject`s and I&#39;d like to combine them into one. \r\n\r\nData:\r\n\r\n    &quot;Object1&quot;: {\r\n        &quot;Stringkey&quot;:&quot;StringVal&quot;,\r\n        &quot;ArrayKey&quot;: [Data0, Data1]\r\n    }\r\n\r\n    &quot;Object2&quot;: {\r\n        &quot;Stringkey&quot;:&quot;StringVal&quot;,\r\n        &quot;Stringkey&quot;:&quot;StringVal&quot;,\r\n        &quot;Stringkey&quot;:&quot;StringVal&quot;,\r\n    }\r\n\r\nCode, using http://json.org/java/ library:\r\n\r\n    // jso1 and jso2 are some JSONObjects already instantiated\r\n    JSONObject Obj1 = (JSONObject) jso.get(&quot;Object1&quot;);\r\n    JSONObject Obj2 = (JSONObject) jso.get(&quot;Object2&quot;);\r\n\r\nSo in this situation I&#39;d like to combine `Obj1` and `Obj2`, either to make a totally new `JSONObject` or concat one to the other. Any ideas besides pulling them all apart and individually adding in by `put`s?\r\n","title":"Merge (Concat) Multiple JSONObjects in Java","body":"<p>I am consuming some JSON from two different sources, I end up with two <code>JSONObject</code>s and I'd like to combine them into one. </p>\n\n<p>Data:</p>\n\n<pre><code>\"Object1\": {\n    \"Stringkey\":\"StringVal\",\n    \"ArrayKey\": [Data0, Data1]\n}\n\n\"Object2\": {\n    \"Stringkey\":\"StringVal\",\n    \"Stringkey\":\"StringVal\",\n    \"Stringkey\":\"StringVal\",\n}\n</code></pre>\n\n<p>Code, using <a href=\"http://json.org/java/\" rel=\"noreferrer\">http://json.org/java/</a> library:</p>\n\n<pre><code>// jso1 and jso2 are some JSONObjects already instantiated\nJSONObject Obj1 = (JSONObject) jso.get(\"Object1\");\nJSONObject Obj2 = (JSONObject) jso.get(\"Object2\");\n</code></pre>\n\n<p>So in this situation I'd like to combine <code>Obj1</code> and <code>Obj2</code>, either to make a totally new <code>JSONObject</code> or concat one to the other. Any ideas besides pulling them all apart and individually adding in by <code>put</code>s?</p>\n"},{"tags":["java","spring","spring-data-jpa","spring-data","entitygraph"],"comments":[{"owner":{"account_id":12256001,"reputation":1615,"user_id":8945026,"display_name":"Olivier Depriester"},"score":0,"creation_date":1588549261,"post_id":61582986,"comment_id":108933802,"body_markdown":"You can use an ```EntityGraph``` as a parameter : https://stackoverflow.com/questions/50949656/spring-data-jpa-parametrize-entitygraph-in-crudrepository-interface","body":"You can use an <code>EntityGraph</code> as a parameter : <a href=\"https://stackoverflow.com/questions/50949656/spring-data-jpa-parametrize-entitygraph-in-crudrepository-interface\" title=\"spring data jpa parametrize entitygraph in crudrepository interface\">stackoverflow.com/questions/50949656/&hellip;</a>"},{"owner":{"account_id":15070198,"reputation":1505,"user_id":10875985,"display_name":"Gabriele Muscas"},"score":0,"creation_date":1588599176,"post_id":61582986,"comment_id":108951685,"body_markdown":"Perfect, I didn&#39;t know you could pass the entity graph as a parameter! thanks!","body":"Perfect, I didn&#39;t know you could pass the entity graph as a parameter! thanks!"}],"answers":[{"comments":[{"owner":{"account_id":15070198,"reputation":1505,"user_id":10875985,"display_name":"Gabriele Muscas"},"score":0,"creation_date":1588599220,"post_id":61584914,"comment_id":108951725,"body_markdown":"Thank you, your answer has been very useful to me. Thanks!","body":"Thank you, your answer has been very useful to me. Thanks!"},{"owner":{"account_id":4272276,"reputation":3564,"user_id":3493829,"display_name":"SSK"},"score":0,"creation_date":1588600510,"post_id":61584914,"comment_id":108952563,"body_markdown":"You can accept the answer so that others know the same","body":"You can accept the answer so that others know the same"},{"owner":{"account_id":13628000,"reputation":113,"user_id":9830781,"display_name":"La Hai"},"score":0,"creation_date":1615397832,"post_id":61584914,"comment_id":117680296,"body_markdown":"I can&#39;t seem to find `EntityGraphJpaSpecificationExecutor`, where did you get it from?","body":"I can&#39;t seem to find <code>EntityGraphJpaSpecificationExecutor</code>, where did you get it from?"},{"owner":{"account_id":4272276,"reputation":3564,"user_id":3493829,"display_name":"SSK"},"score":1,"creation_date":1615512873,"post_id":61584914,"comment_id":117720575,"body_markdown":"@La Hai, You need to add dependency for it from `https://mvnrepository.com/artifact/com.cosium.spring.data/spring-data-jpa-entity-graph/2.4.2`","body":"@La Hai, You need to add dependency for it from <code>https:&#47;&#47;mvnrepository.com&#47;artifact&#47;com.cosium.spring.data&#47;sp&zwnj;&#8203;ring-data-jpa-entity&zwnj;&#8203;-graph&#47;2.4.2</code>"}],"tags":[],"owner":{"account_id":4272276,"reputation":3564,"user_id":3493829,"display_name":"SSK"},"comment_count":4,"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1588565030,"creation_date":1588564410,"answer_id":61584914,"question_id":61582986,"body_markdown":"You can use `EntityGraphJpaSpecificationExecutor` to pass different `entitygraph` based on your method.\r\n\r\n```\r\n@Repository\r\npublic interface UserRepository extends JpaSpecificationExecutor&lt;User&gt;, JpaRepository&lt;User, Long&gt;, EntityGraphJpaSpecificationExecutor&lt;User&gt; {\r\n\r\n}\r\n```\r\n\r\nIn your service class, you can call find all with entity graph.\r\n\r\n```\r\nList&lt;User&gt; users = userRepository.findAll(specification, new NamedEntityGraph(EntityGraphType.FETCH, &quot;graphName&quot;))\r\n```\r\nLike above, you can use a different entity graph different based on your requirement.","title":"Spring Data JPA findAll with different EntityGraph","body":"<p>You can use <code>EntityGraphJpaSpecificationExecutor</code> to pass different <code>entitygraph</code> based on your method.</p>\n\n<pre><code>@Repository\npublic interface UserRepository extends JpaSpecificationExecutor&lt;User&gt;, JpaRepository&lt;User, Long&gt;, EntityGraphJpaSpecificationExecutor&lt;User&gt; {\n\n}\n</code></pre>\n\n<p>In your service class, you can call find all with entity graph.</p>\n\n<pre><code>List&lt;User&gt; users = userRepository.findAll(specification, new NamedEntityGraph(EntityGraphType.FETCH, \"graphName\"))\n</code></pre>\n\n<p>Like above, you can use a different entity graph different based on your requirement.</p>\n"},{"tags":[],"owner":{"account_id":13176042,"reputation":1,"user_id":10006413,"display_name":"sinclairjaza"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696578697,"creation_date":1696578697,"answer_id":77242716,"question_id":61582986,"body_markdown":"You can create two default methods in your repository with same signature like this:\r\n\r\n    public interface UserRepository extends JpaSpecificationExecutor&lt;User&gt;, JpaRepository&lt;User, Long&gt; {\r\n    \r\n        @EntityGraph(attributePaths = { &quot;roles&quot; })\r\n        default List&lt;Roles&gt; findAllByRoles(Specification sp){\r\n           return findAll(sp);\r\n        }\r\n    \r\n        @EntityGraph(attributePaths = { &quot;groups&quot; })\r\n        default List&lt;Roles&gt; findAllByGroups(Specification sp){\r\n           return findAll(sp);\r\n        }\r\n    }\r\n\r\n","title":"Spring Data JPA findAll with different EntityGraph","body":"<p>You can create two default methods in your repository with same signature like this:</p>\n<pre><code>public interface UserRepository extends JpaSpecificationExecutor&lt;User&gt;, JpaRepository&lt;User, Long&gt; {\n\n    @EntityGraph(attributePaths = { &quot;roles&quot; })\n    default List&lt;Roles&gt; findAllByRoles(Specification sp){\n       return findAll(sp);\n    }\n\n    @EntityGraph(attributePaths = { &quot;groups&quot; })\n    default List&lt;Roles&gt; findAllByGroups(Specification sp){\n       return findAll(sp);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15070198,"reputation":1505,"user_id":10875985,"display_name":"Gabriele Muscas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3425,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":61584914,"answer_count":2,"score":8,"last_activity_date":1696578697,"creation_date":1588548567,"question_id":61582986,"body_markdown":"in Spring Data JPA Repository i need to specify multiple methods that do the same thing (eg. findAll) but specifying different @EntityGraph annotation (the goal is to have optimized methods to use in different services).\r\n\r\nEs. \r\n\r\n    @Repository\r\n    public interface UserRepository extends JpaSpecificationExecutor&lt;User&gt;, JpaRepository&lt;User, Long&gt; {\r\n    \r\n    @EntityGraph(attributePaths = { &quot;roles&quot; })\r\n    findAll[withRoles](Specification sp);\r\n    \r\n    @EntityGraph(attributePaths = { &quot;groups&quot; })\r\n    findAll[withGroups](Specification sp);\r\n    \r\n    etc...\r\n    }\r\n\r\nIn Java we can&#39;t have same method sign multiple times, so how to manage it?\r\n\r\nIs it possible without using JPQL?\r\n\r\n\r\nThanks,\r\n\r\nGabriele","title":"Spring Data JPA findAll with different EntityGraph","body":"<p>in Spring Data JPA Repository i need to specify multiple methods that do the same thing (eg. findAll) but specifying different @EntityGraph annotation (the goal is to have optimized methods to use in different services).</p>\n\n<p>Es. </p>\n\n<pre><code>@Repository\npublic interface UserRepository extends JpaSpecificationExecutor&lt;User&gt;, JpaRepository&lt;User, Long&gt; {\n\n@EntityGraph(attributePaths = { \"roles\" })\nfindAll[withRoles](Specification sp);\n\n@EntityGraph(attributePaths = { \"groups\" })\nfindAll[withGroups](Specification sp);\n\netc...\n}\n</code></pre>\n\n<p>In Java we can't have same method sign multiple times, so how to manage it?</p>\n\n<p>Is it possible without using JPQL?</p>\n\n<p>Thanks,</p>\n\n<p>Gabriele</p>\n"},{"tags":["java","quarkus","quarkus-reactive"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":1,"creation_date":1679558834,"post_id":75820199,"comment_id":133743994,"body_markdown":"It might be because the default max body size is 1MB, and perhaps that is why it is using files.   In my opinion, I think if  you use MultiPart it should create files, so that it knows where it left off incase of disconnection (How to resume), but you could play with the `quarkus.http.limits.max-body-size` and see if that helps you.\n\nSee https://stackoverflow.com/questions/61949759/how-to-handle-large-file-uploads-in-quarkus","body":"It might be because the default max body size is 1MB, and perhaps that is why it is using files.   In my opinion, I think if  you use MultiPart it should create files, so that it knows where it left off incase of disconnection (How to resume), but you could play with the <code>quarkus.http.limits.max-body-size</code> and see if that helps you.  See <a href=\"https://stackoverflow.com/questions/61949759/how-to-handle-large-file-uploads-in-quarkus\" title=\"how to handle large file uploads in quarkus\">stackoverflow.com/questions/61949759/&hellip;</a>"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1679564586,"post_id":75820199,"comment_id":133745331,"body_markdown":"What does the entire JAX-RS resource look like?","body":"What does the entire JAX-RS resource look like?"}],"answers":[{"tags":[],"owner":{"account_id":3717953,"reputation":253,"user_id":3093641,"accept_rate":25,"display_name":"javanoob"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1696578388,"creation_date":1696578388,"answer_id":77242673,"question_id":75820199,"body_markdown":"I was able to solve this with Quarkus Version 3+ by using a JAXB-Class like this:\r\n\r\n```java\r\n@XmlRootElement\r\n@XmlAccessorType(XmlAccessType.FIELD)\r\npublic class MultipartBody {\r\n\r\n    @RestForm(&quot;name&quot;)\r\n    @XmlMimeType((MediaType.TEXT_PLAIN))\r\n    String name;\r\n\r\n    @RestForm(&quot;file&quot;)\r\n    @XmlMimeType(MediaType.APPLICATION_OCTET_STREAM)\r\n    byte[] bytes;\r\n}\r\n```\r\n\r\nI think this was simply a bug in the resteasy-reactive implementation that has been fixed in later Quarkus versions. In Quarkus 2 I had  to rely on resteasy-classic.","title":"Quarkus resteasy-reactive upload byte[] without file creation","body":"<p>I was able to solve this with Quarkus Version 3+ by using a JAXB-Class like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@XmlRootElement\n@XmlAccessorType(XmlAccessType.FIELD)\npublic class MultipartBody {\n\n    @RestForm(&quot;name&quot;)\n    @XmlMimeType((MediaType.TEXT_PLAIN))\n    String name;\n\n    @RestForm(&quot;file&quot;)\n    @XmlMimeType(MediaType.APPLICATION_OCTET_STREAM)\n    byte[] bytes;\n}\n</code></pre>\n<p>I think this was simply a bug in the resteasy-reactive implementation that has been fixed in later Quarkus versions. In Quarkus 2 I had  to rely on resteasy-classic.</p>\n"}],"owner":{"account_id":3717953,"reputation":253,"user_id":3093641,"accept_rate":25,"display_name":"javanoob"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":303,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77242673,"answer_count":1,"score":0,"last_activity_date":1696578388,"creation_date":1679556454,"question_id":75820199,"body_markdown":"I want to keep uploaded files only in memory, so I tried to create a service that accepts multipartformdata as byte[]. However, every upload creates a temporary file and I cannot let this run stateless / read-only.\r\n\r\nI use it like this\r\n\r\n```\r\n\r\n\r\npublic class FormData {\r\n    @FormParam(&quot;myFile&quot;)\r\n    @PartType(MediaType.APPLICATION_OCTET_STREAM)\r\n    public byte[] binaryPart;\r\n}\r\n\r\n```","title":"Quarkus resteasy-reactive upload byte[] without file creation","body":"<p>I want to keep uploaded files only in memory, so I tried to create a service that accepts multipartformdata as byte[]. However, every upload creates a temporary file and I cannot let this run stateless / read-only.</p>\n<p>I use it like this</p>\n<pre><code>\n\npublic class FormData {\n    @FormParam(&quot;myFile&quot;)\n    @PartType(MediaType.APPLICATION_OCTET_STREAM)\n    public byte[] binaryPart;\n}\n\n</code></pre>\n"},{"tags":["java","jenkins","upgrade","java-17"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":4,"creation_date":1696520873,"post_id":77238102,"comment_id":136166707,"body_markdown":"Edit your question and show the entire stack trace of the InaccessibleObjectException, including any “Caused by” sections, so we will know which code is trying to access which private fields.","body":"Edit your question and show the entire stack trace of the InaccessibleObjectException, including any “Caused by” sections, so we will know which code is trying to access which private fields."},{"owner":{"account_id":10188484,"reputation":41,"user_id":7522658,"accept_rate":80,"display_name":"xcrookedxedge"},"score":0,"creation_date":1696572754,"post_id":77238102,"comment_id":136172838,"body_markdown":"Sorry forgott about that. I added the stacktrace :)","body":"Sorry forgott about that. I added the stacktrace :)"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1696577286,"post_id":77238102,"comment_id":136173542,"body_markdown":"Did you try updating your (test) dependencies?","body":"Did you try updating your (test) dependencies?"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1696577421,"post_id":77238102,"comment_id":136173567,"body_markdown":"Can you please show your `OwnBidParameterIntegrationTest#createOwnBidParamEntity` method?","body":"Can you please show your <code>OwnBidParameterIntegrationTest#createOwnBidParamEntity</code> method?"},{"owner":{"account_id":10188484,"reputation":41,"user_id":7522658,"accept_rate":80,"display_name":"xcrookedxedge"},"score":0,"creation_date":1696578153,"post_id":77238102,"comment_id":136173696,"body_markdown":"Sure i added it to the question","body":"Sure i added it to the question"},{"owner":{"account_id":15064163,"reputation":13516,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1696578501,"post_id":77238102,"comment_id":136173769,"body_markdown":"Are you sure you added the complete stack trace? Is `JsonReader` using `setAccessible(true)` in any way?","body":"Are you sure you added the complete stack trace? Is <code>JsonReader</code> using <code>setAccessible(true)</code> in any way?"},{"owner":{"account_id":10188484,"reputation":41,"user_id":7522658,"accept_rate":80,"display_name":"xcrookedxedge"},"score":0,"creation_date":1696578614,"post_id":77238102,"comment_id":136173784,"body_markdown":"Yes it is the complete stacktrace provided by Jenkins. JsonReader is not using setAccessible, but i will add it and try again. Thanks!","body":"Yes it is the complete stacktrace provided by Jenkins. JsonReader is not using setAccessible, but i will add it and try again. Thanks!"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1696591273,"post_id":77238102,"comment_id":136176070,"body_markdown":"Obviously, a better solution than `--add-opens` is to fix the code.  If it’s using Jackson, add the “JSR310” component to your project (JSR 310 was the Java specification for the java.time package).  This way, there will be no attempts to use setAccessible on any private fields in any java.time class.","body":"Obviously, a better solution than <code>--add-opens</code> is to fix the code.  If it’s using Jackson, add the “JSR310” component to your project (JSR 310 was the Java specification for the java.time package).  This way, there will be no attempts to use setAccessible on any private fields in any java.time class."}],"owner":{"account_id":10188484,"reputation":41,"user_id":7522658,"accept_rate":80,"display_name":"xcrookedxedge"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696578214,"creation_date":1696516192,"question_id":77238102,"body_markdown":"Hello Stack Overflow Community!\r\n\r\nI&#39;m encountering an issue with Jenkins, and I&#39;ve hit a roadblock in finding a solution. We recently upgraded from Java 8 to Java 17, and as expected, we&#39;re encountering problems with Java modularization. Locally, I&#39;ve been able to resolve some of the issues by adding the following statements to prevent local unit test failures:\r\n\r\n```shell\r\n--add-opens=java.base/java.lang=ALL-UNNAMED\r\n--add-opens=java.base/java.time=ALL-UNNAMED\r\n```\r\n\r\nFor another project, I successfully addressed the issue by including the following lines in the `pom.xml`:\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0-M5&lt;/version&gt; &lt;!-- Use a version that supports JUnit 5 and Java 17 --&gt;\r\n    &lt;configuration&gt;\r\n        &lt;argLine&gt;--add-opens=java.base/java.time=ALL-UNNAMED&lt;/argLine&gt;\r\n        &lt;argLine&gt;--add-opens=java.base/java.lang=ALL-UNNAMED&lt;/argLine&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nThese changes worked perfectly for that project. However, for this specific project, the same approach doesn&#39;t seem to be effective.\r\n\r\nEDIT: Follwoing the Stacktrace\r\n\r\n    16:09:56 [ERROR] Tests run: 2, Failures: 1, Errors: 1, Skipped: 0, Time elapsed: 0.83 s &lt;&lt;&lt; FAILURE! - in ch.irix.asco.export.dimensional.ownbids.entity.OwnBidParameterIntegrationTest\r\n    16:09:56 [ERROR] ch.irix.asco.export.dimensional.ownbids.entity.OwnBidParameterIntegrationTest.testUniqueCompositeKeyConstraintWhenSaving  Time elapsed: 0.11 s  &lt;&lt;&lt; FAILURE!\r\n    16:09:56 org.opentest4j.AssertionFailedError: Unexpected exception type thrown, expected: &lt;javax.persistence.RollbackException&gt; but was: &lt;java.lang.reflect.InaccessibleObjectException&gt;\r\n    16:09:56 \tat ch.irix.asco.export.dimensional.ownbids.entity.OwnBidParameterIntegrationTest.testUniqueCompositeKeyConstraintWhenSaving(OwnBidParameterIntegrationTest.java:92)\r\n    16:09:56 Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.time.LocalDate java.time.LocalDateTime.date accessible: module java.base does not &quot;opens java.time&quot; to unnamed module @192d3247\r\n    16:09:56 \tat ch.irix.asco.export.dimensional.ownbids.entity.OwnBidParameterIntegrationTest.createOwnBidParamEntity(OwnBidParameterIntegrationTest.java:133)\r\n    16:09:56 \tat ch.irix.asco.export.dimensional.ownbids.entity.OwnBidParameterIntegrationTest.lambda$testUniqueCompositeKeyConstraintWhenSaving$2(OwnBidParameterIntegrationTest.java:93)\r\n    16:09:56 \tat ch.irix.asco.export.dimensional.ownbids.entity.OwnBidParameterIntegrationTest.testUniqueCompositeKeyConstraintWhenSaving(OwnBidParameterIntegrationTest.java:92)\r\n\r\nEDIT 2: I&#39;ve probably found the error which is based in the JSON File. I will work further on this and close the question if this was the problem.\r\n\r\n\t\t&quot;timestampUtc&quot;: {\r\n\t\t\t&quot;date&quot;: {\r\n\t\t\t\t&quot;year&quot;: 2020,\r\n\t\t\t\t&quot;month&quot;: 1,\r\n\t\t\t\t&quot;day&quot;: 1\r\n\t\t\t},\r\n\t\t\t&quot;time&quot;: {\r\n\t\t\t\t&quot;hour&quot;: 10,\r\n\t\t\t\t&quot;minute&quot;: 0,\r\n\t\t\t\t&quot;second&quot;: 0,\r\n\t\t\t\t&quot;nano&quot;: 0\r\n\t\t\t}\r\n\t\t},\r\n\r\nRemoving the timestamp did not work\r\n\r\nThis is the Method to create the OwnBidParameterEntities:\r\n\r\n    private OwnBidParameterEntity createOwnBidParamEntity() throws IOException {\r\n        return JSONReader.readJsonDocument(getClass().getClassLoader(),\r\n                OwnBidParameterEntity.class,\r\n                SAMPLE_OWN_BID_PARAM_ENTITY_PATH);\r\n    }\r\n\r\nAnd this is the corresponding json:\r\n\r\n    {\r\n    \t&quot;volumePe&quot;: 600.0,\r\n    \t&quot;auctionAward&quot;: 90.0,\r\n    \t&quot;priceP0&quot;: 20.0,\r\n    \t&quot;pricePE&quot;: 250,\r\n    \t&quot;strategy&quot;: &quot;NOT YET IMPLEMENTED&quot;,\r\n    \t&quot;refPriceCH&quot;: 0.0,\r\n    \t&quot;optimalPrice&quot;: 0.0,\r\n    \t&quot;priceOffsetPercent&quot;: 10,\r\n    \t&quot;priceOffset&quot;: 20,\r\n    \t&quot;calculatedStartPrice&quot;: 20.0,\r\n    \t&quot;fixedVolume&quot;: 3,\r\n    \t&quot;maxVolume&quot;: 600.0,\r\n    \t&quot;volumeFactor&quot;: 4,\r\n    \t&quot;maxStandingVolume&quot;: 500,\r\n    \t&quot;minPercentRotating&quot;: 0,\r\n    \t&quot;interpolationParameters&quot;: [\r\n    \t\t{\r\n    \t\t\t&quot;stepSize&quot;: 5,\r\n    \t\t\t&quot;volumePercent&quot;: 10,\r\n    \t\t\t&quot;pricePercent&quot;: 10,\r\n    \t\t\t&quot;calculatedPrice&quot;: 43.0,\r\n    \t\t\t&quot;calculatedVolumeManual&quot;: 60.0\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\t&quot;stepSize&quot;: 5,\r\n    \t\t\t&quot;volumePercent&quot;: 20,\r\n    \t\t\t&quot;pricePercent&quot;: 20,\r\n    \t\t\t&quot;calculatedPrice&quot;: 66.0,\r\n    \t\t\t&quot;calculatedVolumeManual&quot;: 120.0\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\t&quot;stepSize&quot;: 5,\r\n    \t\t\t&quot;volumePercent&quot;: 30,\r\n    \t\t\t&quot;pricePercent&quot;: 30,\r\n    \t\t\t&quot;calculatedPrice&quot;: 89.0,\r\n    \t\t\t&quot;calculatedVolumeManual&quot;: 180.0\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\t&quot;stepSize&quot;: 5,\r\n    \t\t\t&quot;volumePercent&quot;: 40,\r\n    \t\t\t&quot;pricePercent&quot;: 40,\r\n    \t\t\t&quot;calculatedPrice&quot;: 112.0,\r\n    \t\t\t&quot;calculatedVolumeManual&quot;: 240.0\r\n    \t\t},\r\n    \t\t{\r\n    \t\t\t&quot;stepSize&quot;: 5,\r\n    \t\t\t&quot;volumePercent&quot;: 80,\r\n    \t\t\t&quot;pricePercent&quot;: 100,\r\n    \t\t\t&quot;calculatedPrice&quot;: 250.0,\r\n    \t\t\t&quot;calculatedVolumeManual&quot;: 480.0\r\n    \t\t}\r\n    \t],\r\n    \t&quot;startTimeEntity&quot;: {\r\n    \t\t&quot;id&quot;: 10,\r\n    \t\t&quot;year&quot;: 2020,\r\n    \t\t&quot;month&quot;: 1,\r\n    \t\t&quot;day&quot;: 1,\r\n    \t\t&quot;hour&quot;: 10,\r\n    \t\t&quot;minute&quot;: 0,\r\n    \t\t&quot;cetOffsetToUtc&quot;: 1\r\n    \t},\r\n    \t&quot;endTimeEntity&quot;: {\r\n    \t\t&quot;id&quot;: 11,\r\n    \t\t&quot;year&quot;: 2020,\r\n    \t\t&quot;month&quot;: 1,\r\n    \t\t&quot;day&quot;: 1,\r\n    \t\t&quot;hour&quot;: 11,\r\n    \t\t&quot;minute&quot;: 0,\r\n    \t\t&quot;cetOffsetToUtc&quot;: 1\r\n    \t},\r\n    \t&quot;marketParticipantEntity&quot;: {\r\n    \t\t&quot;id&quot;: 1,\r\n    \t\t&quot;marketParticipantMRid&quot;: &quot;XYZ&quot;\r\n    \t},\r\n    \t&quot;productEntity&quot;: {\r\n    \t\t&quot;businessType&quot;: &quot;A10&quot;,\r\n    \t\t&quot;productName&quot;: &quot;TRE_PLUS&quot;,\r\n    \t\t&quot;direction&quot;: &quot;A01&quot;,\r\n    \t\t&quot;activationConstraint&quot;: &quot;PT15M&quot;\r\n    \t},\r\n    \t&quot;marketEntity&quot;: {\r\n    \t\t&quot;id&quot;: 1,\r\n    \t\t&quot;area&quot;: &quot;CH&quot;,\r\n    \t\t&quot;auctionMRId&quot;: &quot;something&quot;\r\n    \t},\r\n    \t&quot;ascoBidId&quot;: 42\r\n    }\r\n\r\nI&#39;m currently using Java Version 17.0.8. Does anyone have any ideas or suggestions on what might be causing this issue? Your help would be greatly appreciated!","title":"java.lang.reflect.InaccessibleObjectException: Unable to make field private final","body":"<p>Hello Stack Overflow Community!</p>\n<p>I'm encountering an issue with Jenkins, and I've hit a roadblock in finding a solution. We recently upgraded from Java 8 to Java 17, and as expected, we're encountering problems with Java modularization. Locally, I've been able to resolve some of the issues by adding the following statements to prevent local unit test failures:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>--add-opens=java.base/java.lang=ALL-UNNAMED\n--add-opens=java.base/java.time=ALL-UNNAMED\n</code></pre>\n<p>For another project, I successfully addressed the issue by including the following lines in the <code>pom.xml</code>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0-M5&lt;/version&gt; &lt;!-- Use a version that supports JUnit 5 and Java 17 --&gt;\n    &lt;configuration&gt;\n        &lt;argLine&gt;--add-opens=java.base/java.time=ALL-UNNAMED&lt;/argLine&gt;\n        &lt;argLine&gt;--add-opens=java.base/java.lang=ALL-UNNAMED&lt;/argLine&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>These changes worked perfectly for that project. However, for this specific project, the same approach doesn't seem to be effective.</p>\n<p>EDIT: Follwoing the Stacktrace</p>\n<pre><code>16:09:56 [ERROR] Tests run: 2, Failures: 1, Errors: 1, Skipped: 0, Time elapsed: 0.83 s &lt;&lt;&lt; FAILURE! - in ch.irix.asco.export.dimensional.ownbids.entity.OwnBidParameterIntegrationTest\n16:09:56 [ERROR] ch.irix.asco.export.dimensional.ownbids.entity.OwnBidParameterIntegrationTest.testUniqueCompositeKeyConstraintWhenSaving  Time elapsed: 0.11 s  &lt;&lt;&lt; FAILURE!\n16:09:56 org.opentest4j.AssertionFailedError: Unexpected exception type thrown, expected: &lt;javax.persistence.RollbackException&gt; but was: &lt;java.lang.reflect.InaccessibleObjectException&gt;\n16:09:56    at ch.irix.asco.export.dimensional.ownbids.entity.OwnBidParameterIntegrationTest.testUniqueCompositeKeyConstraintWhenSaving(OwnBidParameterIntegrationTest.java:92)\n16:09:56 Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.time.LocalDate java.time.LocalDateTime.date accessible: module java.base does not &quot;opens java.time&quot; to unnamed module @192d3247\n16:09:56    at ch.irix.asco.export.dimensional.ownbids.entity.OwnBidParameterIntegrationTest.createOwnBidParamEntity(OwnBidParameterIntegrationTest.java:133)\n16:09:56    at ch.irix.asco.export.dimensional.ownbids.entity.OwnBidParameterIntegrationTest.lambda$testUniqueCompositeKeyConstraintWhenSaving$2(OwnBidParameterIntegrationTest.java:93)\n16:09:56    at ch.irix.asco.export.dimensional.ownbids.entity.OwnBidParameterIntegrationTest.testUniqueCompositeKeyConstraintWhenSaving(OwnBidParameterIntegrationTest.java:92)\n</code></pre>\n<p>EDIT 2: I've probably found the error which is based in the JSON File. I will work further on this and close the question if this was the problem.</p>\n<pre><code>    &quot;timestampUtc&quot;: {\n        &quot;date&quot;: {\n            &quot;year&quot;: 2020,\n            &quot;month&quot;: 1,\n            &quot;day&quot;: 1\n        },\n        &quot;time&quot;: {\n            &quot;hour&quot;: 10,\n            &quot;minute&quot;: 0,\n            &quot;second&quot;: 0,\n            &quot;nano&quot;: 0\n        }\n    },\n</code></pre>\n<p>Removing the timestamp did not work</p>\n<p>This is the Method to create the OwnBidParameterEntities:</p>\n<pre><code>private OwnBidParameterEntity createOwnBidParamEntity() throws IOException {\n    return JSONReader.readJsonDocument(getClass().getClassLoader(),\n            OwnBidParameterEntity.class,\n            SAMPLE_OWN_BID_PARAM_ENTITY_PATH);\n}\n</code></pre>\n<p>And this is the corresponding json:</p>\n<pre><code>{\n    &quot;volumePe&quot;: 600.0,\n    &quot;auctionAward&quot;: 90.0,\n    &quot;priceP0&quot;: 20.0,\n    &quot;pricePE&quot;: 250,\n    &quot;strategy&quot;: &quot;NOT YET IMPLEMENTED&quot;,\n    &quot;refPriceCH&quot;: 0.0,\n    &quot;optimalPrice&quot;: 0.0,\n    &quot;priceOffsetPercent&quot;: 10,\n    &quot;priceOffset&quot;: 20,\n    &quot;calculatedStartPrice&quot;: 20.0,\n    &quot;fixedVolume&quot;: 3,\n    &quot;maxVolume&quot;: 600.0,\n    &quot;volumeFactor&quot;: 4,\n    &quot;maxStandingVolume&quot;: 500,\n    &quot;minPercentRotating&quot;: 0,\n    &quot;interpolationParameters&quot;: [\n        {\n            &quot;stepSize&quot;: 5,\n            &quot;volumePercent&quot;: 10,\n            &quot;pricePercent&quot;: 10,\n            &quot;calculatedPrice&quot;: 43.0,\n            &quot;calculatedVolumeManual&quot;: 60.0\n        },\n        {\n            &quot;stepSize&quot;: 5,\n            &quot;volumePercent&quot;: 20,\n            &quot;pricePercent&quot;: 20,\n            &quot;calculatedPrice&quot;: 66.0,\n            &quot;calculatedVolumeManual&quot;: 120.0\n        },\n        {\n            &quot;stepSize&quot;: 5,\n            &quot;volumePercent&quot;: 30,\n            &quot;pricePercent&quot;: 30,\n            &quot;calculatedPrice&quot;: 89.0,\n            &quot;calculatedVolumeManual&quot;: 180.0\n        },\n        {\n            &quot;stepSize&quot;: 5,\n            &quot;volumePercent&quot;: 40,\n            &quot;pricePercent&quot;: 40,\n            &quot;calculatedPrice&quot;: 112.0,\n            &quot;calculatedVolumeManual&quot;: 240.0\n        },\n        {\n            &quot;stepSize&quot;: 5,\n            &quot;volumePercent&quot;: 80,\n            &quot;pricePercent&quot;: 100,\n            &quot;calculatedPrice&quot;: 250.0,\n            &quot;calculatedVolumeManual&quot;: 480.0\n        }\n    ],\n    &quot;startTimeEntity&quot;: {\n        &quot;id&quot;: 10,\n        &quot;year&quot;: 2020,\n        &quot;month&quot;: 1,\n        &quot;day&quot;: 1,\n        &quot;hour&quot;: 10,\n        &quot;minute&quot;: 0,\n        &quot;cetOffsetToUtc&quot;: 1\n    },\n    &quot;endTimeEntity&quot;: {\n        &quot;id&quot;: 11,\n        &quot;year&quot;: 2020,\n        &quot;month&quot;: 1,\n        &quot;day&quot;: 1,\n        &quot;hour&quot;: 11,\n        &quot;minute&quot;: 0,\n        &quot;cetOffsetToUtc&quot;: 1\n    },\n    &quot;marketParticipantEntity&quot;: {\n        &quot;id&quot;: 1,\n        &quot;marketParticipantMRid&quot;: &quot;XYZ&quot;\n    },\n    &quot;productEntity&quot;: {\n        &quot;businessType&quot;: &quot;A10&quot;,\n        &quot;productName&quot;: &quot;TRE_PLUS&quot;,\n        &quot;direction&quot;: &quot;A01&quot;,\n        &quot;activationConstraint&quot;: &quot;PT15M&quot;\n    },\n    &quot;marketEntity&quot;: {\n        &quot;id&quot;: 1,\n        &quot;area&quot;: &quot;CH&quot;,\n        &quot;auctionMRId&quot;: &quot;something&quot;\n    },\n    &quot;ascoBidId&quot;: 42\n}\n</code></pre>\n<p>I'm currently using Java Version 17.0.8. Does anyone have any ideas or suggestions on what might be causing this issue? Your help would be greatly appreciated!</p>\n"},{"tags":["java","file-io","text-files","java.util.scanner"],"comments":[{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":1,"creation_date":1696481805,"post_id":77234277,"comment_id":136159057,"body_markdown":"This program exits immediately unless exactly one argument is provided. It doesn’t seem to use the argument. My guess is that you aren’t providing one when running it. Maybe you don’t need the `if` statement at the very top?","body":"This program exits immediately unless exactly one argument is provided. It doesn’t seem to use the argument. My guess is that you aren’t providing one when running it. Maybe you don’t need the <code>if</code> statement at the very top?"},{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1696483177,"post_id":77234277,"comment_id":136159172,"body_markdown":"Are you supplying the args in your program?","body":"Are you supplying the args in your program?"}],"answers":[{"tags":[],"owner":{"account_id":15278830,"reputation":1642,"user_id":11023821,"display_name":"Ralf Ulrich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696576878,"creation_date":1696576878,"answer_id":77242527,"question_id":77234277,"body_markdown":"At least, remove the lines:\r\n\r\n```\r\n   if (args.length != 1) {\r\n            return;\r\n        }\r\n```\r\n\r\nsince nowhere in your code you use `args` and this will just end you code with exit code 0 if you do not specify exactly one argument (which we don&#39;t know from your question). ","title":"Reading a .txt file in Java project","body":"<p>At least, remove the lines:</p>\n<pre><code>   if (args.length != 1) {\n            return;\n        }\n</code></pre>\n<p>since nowhere in your code you use <code>args</code> and this will just end you code with exit code 0 if you do not specify exactly one argument (which we don't know from your question).</p>\n"}],"owner":{"account_id":21197064,"reputation":1,"user_id":15588432,"display_name":"Shawn"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1696576878,"creation_date":1696480596,"question_id":77234277,"body_markdown":"I am working on a Java program that reads an input 1.txt text file line-by-line, each with a number for example:\r\n2\r\n1 2\r\n2 1\r\n2 1\r\n1 2\r\n\r\nThe program suppose to take each number and throws to implement Gale-Shapley stable matching. \r\nI need help with getting the program to read the text file. \r\n\r\nI am getting the following error message:\r\nProcess finished with exit code 0\r\n\r\nI have a copy of input 1.txt file in my &quot;src&quot; and main project folder but it still cannot find the file. I tried using VS Code and IntelliJ IDEA and I got the same error message. \r\n\r\n\r\n\r\n```\r\nimport java.io.BufferedReader;\r\nimport java.io.FileReader;\r\nimport java.io.IOException;\r\nimport java.util.*;\r\n\r\npublic class Project1 {\r\n\r\n    public static void main(String[] args) {\r\n        if (args.length != 1) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            String inputFile = &quot;input1.txt&quot;; // Specify the correct file path if necessary\r\n            List&lt;List&lt;Integer&gt;&gt; menPrefList = new ArrayList&lt;&gt;();\r\n            List&lt;List&lt;Integer&gt;&gt; womenPrefList = new ArrayList&lt;&gt;();\r\n\r\n            BufferedReader br = new BufferedReader(new FileReader(inputFile));\r\n            int n = Integer.parseInt(br.readLine());\r\n\r\n            for (int i = 0; i &lt; n; i++) {\r\n                menPrefList.add(parsePreferenceList(br.readLine()));\r\n            }\r\n\r\n            for (int i = 0; i &lt; n; i++) {\r\n                womenPrefList.add(parsePreferenceList(br.readLine()));\r\n            }\r\n\r\n            Map&lt;Integer, Integer&gt; menToWomen = menPropose(menPrefList, womenPrefList);\r\n            Map&lt;Integer, Integer&gt; womenToMen = womenPropose(menPrefList, womenPrefList);\r\n\r\n            System.out.println(&quot;Output when men propose:&quot;);\r\n            printMatching(menToWomen);\r\n\r\n            System.out.println(&quot;Output when women propose:&quot;);\r\n            printMatching(womenToMen);\r\n\r\n            br.close();\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public static List&lt;Integer&gt; parsePreferenceList(String line) {\r\n        String[] tokens = line.split(&quot; &quot;);\r\n        List&lt;Integer&gt; preferenceList = new ArrayList&lt;&gt;();\r\n        for (String token : tokens) {\r\n            preferenceList.add(Integer.parseInt(token));\r\n        }\r\n        return preferenceList;\r\n    }\r\n\r\n    public static Map&lt;Integer, Integer&gt; menPropose(List&lt;List&lt;Integer&gt;&gt; menPrefList, List&lt;List&lt;Integer&gt;&gt; womenPrefList) {\r\n        int n = menPrefList.size();\r\n        Map&lt;Integer, Integer&gt; womenMatches = new HashMap&lt;&gt;();\r\n        boolean[] menEngaged = new boolean[n];\r\n\r\n        Queue&lt;Integer&gt; freeMen = new LinkedList&lt;&gt;();\r\n        for (int i = 0; i &lt; n; i++) {\r\n            freeMen.offer(i);\r\n        }\r\n\r\n        while (!freeMen.isEmpty()) {\r\n            int man = freeMen.poll();\r\n            List&lt;Integer&gt; preferences = menPrefList.get(man);\r\n\r\n            for (int woman : preferences) {\r\n                if (!menEngaged[man]) {\r\n                    if (!womenMatches.containsKey(woman)) {\r\n                        womenMatches.put(woman, man);\r\n                        menEngaged[man] = true;\r\n                        break;\r\n                    } else {\r\n                        int currentMan = womenMatches.get(woman);\r\n                        List&lt;Integer&gt; womanPreferences = womenPrefList.get(woman);\r\n                        if (womanPreferences.indexOf(man) &lt; womanPreferences.indexOf(currentMan)) {\r\n                            womenMatches.put(woman, man);\r\n                            menEngaged[man] = true;\r\n                            freeMen.offer(currentMan);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return womenMatches;\r\n    }\r\n\r\n    public static Map&lt;Integer, Integer&gt; womenPropose(List&lt;List&lt;Integer&gt;&gt; menPrefList, List&lt;List&lt;Integer&gt;&gt; womenPrefList) {\r\n        int n = womenPrefList.size();\r\n        Map&lt;Integer, Integer&gt; menMatches = new HashMap&lt;&gt;();\r\n        boolean[] womenEngaged = new boolean[n];\r\n\r\n        Queue&lt;Integer&gt; freeWomen = new LinkedList&lt;&gt;();\r\n        for (int i = 0; i &lt; n; i++) {\r\n            freeWomen.offer(i);\r\n        }\r\n\r\n        while (!freeWomen.isEmpty()) {\r\n            int woman = freeWomen.poll();\r\n            List&lt;Integer&gt; preferences = womenPrefList.get(woman);\r\n\r\n            for (int man : preferences) {\r\n                if (!womenEngaged[woman]) {\r\n                    if (!menMatches.containsKey(man)) {\r\n                        menMatches.put(man, woman);\r\n                        womenEngaged[woman] = true;\r\n                        break;\r\n                    } else {\r\n                        int currentWoman = menMatches.get(man);\r\n                        List&lt;Integer&gt; manPreferences = menPrefList.get(man);\r\n                        if (manPreferences.indexOf(woman) &lt; manPreferences.indexOf(currentWoman)) {\r\n                            menMatches.put(man, woman);\r\n                            womenEngaged[woman] = true;\r\n                            freeWomen.offer(currentWoman);\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return menMatches;\r\n    }\r\n\r\n    public static void printMatching(Map&lt;Integer, Integer&gt; matching) {\r\n        System.out.print(&quot;{&quot;);\r\n        boolean first = true;\r\n        for (Map.Entry&lt;Integer, Integer&gt; entry : matching.entrySet()) {\r\n            if (!first) {\r\n                System.out.print(&quot;, &quot;);\r\n            }\r\n            System.out.print(&quot;(&quot; + (entry.getKey() + 1) + &quot;,&quot; + (entry.getValue() + 1) + &quot;)&quot;);\r\n            first = false;\r\n        }\r\n        System.out.println(&quot;}&quot;);\r\n    }\r\n}\r\n\r\n\r\n```\r\nIf input1.txt contains:\r\n2\r\n1 2\r\n2 1\r\n2 1\r\n1 2\r\nThen output supposed to be:\r\nOutput when men propose:\r\n{(1,1), (2,2)} → It means {(m1, w1), (m2, w2)}\r\nOutput when women propose:\r\n{(1,2), (2,1)} → It means ((w1, m2), (w2, m1)}\r\n\r\n","title":"Reading a .txt file in Java project","body":"<p>I am working on a Java program that reads an input 1.txt text file line-by-line, each with a number for example:\n2\n1 2\n2 1\n2 1\n1 2</p>\n<p>The program suppose to take each number and throws to implement Gale-Shapley stable matching.\nI need help with getting the program to read the text file.</p>\n<p>I am getting the following error message:\nProcess finished with exit code 0</p>\n<p>I have a copy of input 1.txt file in my &quot;src&quot; and main project folder but it still cannot find the file. I tried using VS Code and IntelliJ IDEA and I got the same error message.</p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.*;\n\npublic class Project1 {\n\n    public static void main(String[] args) {\n        if (args.length != 1) {\n            return;\n        }\n\n        try {\n            String inputFile = &quot;input1.txt&quot;; // Specify the correct file path if necessary\n            List&lt;List&lt;Integer&gt;&gt; menPrefList = new ArrayList&lt;&gt;();\n            List&lt;List&lt;Integer&gt;&gt; womenPrefList = new ArrayList&lt;&gt;();\n\n            BufferedReader br = new BufferedReader(new FileReader(inputFile));\n            int n = Integer.parseInt(br.readLine());\n\n            for (int i = 0; i &lt; n; i++) {\n                menPrefList.add(parsePreferenceList(br.readLine()));\n            }\n\n            for (int i = 0; i &lt; n; i++) {\n                womenPrefList.add(parsePreferenceList(br.readLine()));\n            }\n\n            Map&lt;Integer, Integer&gt; menToWomen = menPropose(menPrefList, womenPrefList);\n            Map&lt;Integer, Integer&gt; womenToMen = womenPropose(menPrefList, womenPrefList);\n\n            System.out.println(&quot;Output when men propose:&quot;);\n            printMatching(menToWomen);\n\n            System.out.println(&quot;Output when women propose:&quot;);\n            printMatching(womenToMen);\n\n            br.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public static List&lt;Integer&gt; parsePreferenceList(String line) {\n        String[] tokens = line.split(&quot; &quot;);\n        List&lt;Integer&gt; preferenceList = new ArrayList&lt;&gt;();\n        for (String token : tokens) {\n            preferenceList.add(Integer.parseInt(token));\n        }\n        return preferenceList;\n    }\n\n    public static Map&lt;Integer, Integer&gt; menPropose(List&lt;List&lt;Integer&gt;&gt; menPrefList, List&lt;List&lt;Integer&gt;&gt; womenPrefList) {\n        int n = menPrefList.size();\n        Map&lt;Integer, Integer&gt; womenMatches = new HashMap&lt;&gt;();\n        boolean[] menEngaged = new boolean[n];\n\n        Queue&lt;Integer&gt; freeMen = new LinkedList&lt;&gt;();\n        for (int i = 0; i &lt; n; i++) {\n            freeMen.offer(i);\n        }\n\n        while (!freeMen.isEmpty()) {\n            int man = freeMen.poll();\n            List&lt;Integer&gt; preferences = menPrefList.get(man);\n\n            for (int woman : preferences) {\n                if (!menEngaged[man]) {\n                    if (!womenMatches.containsKey(woman)) {\n                        womenMatches.put(woman, man);\n                        menEngaged[man] = true;\n                        break;\n                    } else {\n                        int currentMan = womenMatches.get(woman);\n                        List&lt;Integer&gt; womanPreferences = womenPrefList.get(woman);\n                        if (womanPreferences.indexOf(man) &lt; womanPreferences.indexOf(currentMan)) {\n                            womenMatches.put(woman, man);\n                            menEngaged[man] = true;\n                            freeMen.offer(currentMan);\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return womenMatches;\n    }\n\n    public static Map&lt;Integer, Integer&gt; womenPropose(List&lt;List&lt;Integer&gt;&gt; menPrefList, List&lt;List&lt;Integer&gt;&gt; womenPrefList) {\n        int n = womenPrefList.size();\n        Map&lt;Integer, Integer&gt; menMatches = new HashMap&lt;&gt;();\n        boolean[] womenEngaged = new boolean[n];\n\n        Queue&lt;Integer&gt; freeWomen = new LinkedList&lt;&gt;();\n        for (int i = 0; i &lt; n; i++) {\n            freeWomen.offer(i);\n        }\n\n        while (!freeWomen.isEmpty()) {\n            int woman = freeWomen.poll();\n            List&lt;Integer&gt; preferences = womenPrefList.get(woman);\n\n            for (int man : preferences) {\n                if (!womenEngaged[woman]) {\n                    if (!menMatches.containsKey(man)) {\n                        menMatches.put(man, woman);\n                        womenEngaged[woman] = true;\n                        break;\n                    } else {\n                        int currentWoman = menMatches.get(man);\n                        List&lt;Integer&gt; manPreferences = menPrefList.get(man);\n                        if (manPreferences.indexOf(woman) &lt; manPreferences.indexOf(currentWoman)) {\n                            menMatches.put(man, woman);\n                            womenEngaged[woman] = true;\n                            freeWomen.offer(currentWoman);\n                            break;\n                        }\n                    }\n                }\n            }\n        }\n        return menMatches;\n    }\n\n    public static void printMatching(Map&lt;Integer, Integer&gt; matching) {\n        System.out.print(&quot;{&quot;);\n        boolean first = true;\n        for (Map.Entry&lt;Integer, Integer&gt; entry : matching.entrySet()) {\n            if (!first) {\n                System.out.print(&quot;, &quot;);\n            }\n            System.out.print(&quot;(&quot; + (entry.getKey() + 1) + &quot;,&quot; + (entry.getValue() + 1) + &quot;)&quot;);\n            first = false;\n        }\n        System.out.println(&quot;}&quot;);\n    }\n}\n\n\n</code></pre>\n<p>If input1.txt contains:\n2\n1 2\n2 1\n2 1\n1 2\nThen output supposed to be:\nOutput when men propose:\n{(1,1), (2,2)} → It means {(m1, w1), (m2, w2)}\nOutput when women propose:\n{(1,2), (2,1)} → It means ((w1, m2), (w2, m1)}</p>\n"},{"tags":["java","maven","warnings","maven-plugin","avro"],"comments":[{"owner":{"account_id":5404,"reputation":22100,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696583050,"post_id":77242522,"comment_id":136174582,"body_markdown":"You shouldn&#39;t worry about it. It&#39;s generated code, it doesn&#39;t need to be perfect. And you shouldn&#39;t enable linters and warning checks on generated code in the first place.","body":"You shouldn&#39;t worry about it. It&#39;s generated code, it doesn&#39;t need to be perfect. And you shouldn&#39;t enable linters and warning checks on generated code in the first place."}],"owner":{"account_id":14302007,"reputation":43,"user_id":10331112,"display_name":"T. Franz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1696576832,"creation_date":1696576832,"question_id":77242522,"body_markdown":"I&#39;m using Apache Kafka with AVRO.\r\nWe are creating the Java classes by writing AVDL files and using avro-maven-plugin with compiler, etc. to generating/compiling them.\r\n\r\nAfter generation all Java classes generated from AVDL files with record types containing unused imports like:\r\n```\r\nimport org.apache.avro.generic.GenericArray;\r\nimport org.apache.avro.util.Utf8;\r\n```\r\n\r\nUtf8 import is really sometimes used, but often is generated and not used.\r\nGenericArray I never found anywhere used.\r\n\r\nIs there a possibility to prevent generating these imports if they are not used? It&#39;s not so nice to generate code with already containing warnings.\r\n\r\nMy pom.xml looks like:\r\n\r\n```\r\n&lt;build&gt;\r\n    &lt;pluginManagement&gt;\r\n      &lt;plugins&gt;\r\n        &lt;!--This plugin&#39;s configuration is used to store Eclipse m2e settings \r\n          only. It has no influence on the Maven build itself. --&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\r\n          &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\r\n          &lt;version&gt;1.0.0&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;lifecycleMappingMetadata&gt;\r\n              &lt;pluginExecutions&gt;\r\n                &lt;pluginExecution&gt;\r\n                  &lt;pluginExecutionFilter&gt;\r\n                    &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;avro-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;versionRange&gt;1.11.3&lt;/versionRange&gt;\r\n                    &lt;goals&gt;\r\n                      &lt;goal&gt;idl-protocol&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                  &lt;/pluginExecutionFilter&gt;\r\n                  &lt;action&gt;\r\n                    &lt;ignore/&gt;\r\n                  &lt;/action&gt;\r\n                &lt;/pluginExecution&gt;\r\n              &lt;/pluginExecutions&gt;\r\n            &lt;/lifecycleMappingMetadata&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/pluginManagement&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;excludeDefaultDirectories&gt;true&lt;/excludeDefaultDirectories&gt;\r\n          &lt;filesets&gt;\r\n            &lt;fileset&gt;\r\n              &lt;directory&gt;target&lt;/directory&gt;\r\n            &lt;/fileset&gt;\r\n            &lt;fileset&gt;\r\n              &lt;directory&gt;src&lt;/directory&gt;\r\n            &lt;/fileset&gt;\r\n          &lt;/filesets&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;source&gt;11&lt;/source&gt;\r\n          &lt;target&gt;11&lt;/target&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;attach-sources&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;jar&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\r\n        &lt;artifactId&gt;avro-maven-plugin&lt;/artifactId&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;avdl-generation&lt;/id&gt;\r\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;idl-protocol&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;sourceDirectory&gt;${project.basedir}/avdl/&lt;/sourceDirectory&gt;\r\n              &lt;outputDirectory&gt;${project.basedir}/src/main/java/&lt;/outputDirectory&gt;\r\n              &lt;includes&gt;\r\n                &lt;include&gt;**/*.avdl&lt;/include&gt;\r\n              &lt;/includes&gt;\r\n              &lt;fieldVisibility&gt;private&lt;/fieldVisibility&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;doclint&gt;none&lt;/doclint&gt;\r\n        &lt;/configuration&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;attach-javadocs&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;jar&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n  &lt;dependencies&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\r\n      &lt;artifactId&gt;avro&lt;/artifactId&gt;\r\n      &lt;version&gt;1.11.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\r\n      &lt;artifactId&gt;avro-maven-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;1.11.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\r\n      &lt;artifactId&gt;avro-compiler&lt;/artifactId&gt;\r\n      &lt;version&gt;1.11.3&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n  &lt;dependencies&gt;\r\n```\r\n\r\n\r\n\r\nI tried to find some information regarding this in the internet but didn&#39;t found anything.\r\nWould be good to get generated Java code without warnings.\r\n\r\nThank you!","title":"avro-maven-plugin generates unused imports","body":"<p>I'm using Apache Kafka with AVRO.\nWe are creating the Java classes by writing AVDL files and using avro-maven-plugin with compiler, etc. to generating/compiling them.</p>\n<p>After generation all Java classes generated from AVDL files with record types containing unused imports like:</p>\n<pre><code>import org.apache.avro.generic.GenericArray;\nimport org.apache.avro.util.Utf8;\n</code></pre>\n<p>Utf8 import is really sometimes used, but often is generated and not used.\nGenericArray I never found anywhere used.</p>\n<p>Is there a possibility to prevent generating these imports if they are not used? It's not so nice to generate code with already containing warnings.</p>\n<p>My pom.xml looks like:</p>\n<pre><code>&lt;build&gt;\n    &lt;pluginManagement&gt;\n      &lt;plugins&gt;\n        &lt;!--This plugin's configuration is used to store Eclipse m2e settings \n          only. It has no influence on the Maven build itself. --&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;org.eclipse.m2e&lt;/groupId&gt;\n          &lt;artifactId&gt;lifecycle-mapping&lt;/artifactId&gt;\n          &lt;version&gt;1.0.0&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;lifecycleMappingMetadata&gt;\n              &lt;pluginExecutions&gt;\n                &lt;pluginExecution&gt;\n                  &lt;pluginExecutionFilter&gt;\n                    &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\n                    &lt;artifactId&gt;avro-maven-plugin&lt;/artifactId&gt;\n                    &lt;versionRange&gt;1.11.3&lt;/versionRange&gt;\n                    &lt;goals&gt;\n                      &lt;goal&gt;idl-protocol&lt;/goal&gt;\n                    &lt;/goals&gt;\n                  &lt;/pluginExecutionFilter&gt;\n                  &lt;action&gt;\n                    &lt;ignore/&gt;\n                  &lt;/action&gt;\n                &lt;/pluginExecution&gt;\n              &lt;/pluginExecutions&gt;\n            &lt;/lifecycleMappingMetadata&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/pluginManagement&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-clean-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;excludeDefaultDirectories&gt;true&lt;/excludeDefaultDirectories&gt;\n          &lt;filesets&gt;\n            &lt;fileset&gt;\n              &lt;directory&gt;target&lt;/directory&gt;\n            &lt;/fileset&gt;\n            &lt;fileset&gt;\n              &lt;directory&gt;src&lt;/directory&gt;\n            &lt;/fileset&gt;\n          &lt;/filesets&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;source&gt;11&lt;/source&gt;\n          &lt;target&gt;11&lt;/target&gt;\n        &lt;/configuration&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;attach-sources&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;jar&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\n        &lt;artifactId&gt;avro-maven-plugin&lt;/artifactId&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;avdl-generation&lt;/id&gt;\n            &lt;phase&gt;generate-sources&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;idl-protocol&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;sourceDirectory&gt;${project.basedir}/avdl/&lt;/sourceDirectory&gt;\n              &lt;outputDirectory&gt;${project.basedir}/src/main/java/&lt;/outputDirectory&gt;\n              &lt;includes&gt;\n                &lt;include&gt;**/*.avdl&lt;/include&gt;\n              &lt;/includes&gt;\n              &lt;fieldVisibility&gt;private&lt;/fieldVisibility&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-javadoc-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n          &lt;doclint&gt;none&lt;/doclint&gt;\n        &lt;/configuration&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;attach-javadocs&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;jar&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\n      &lt;artifactId&gt;avro&lt;/artifactId&gt;\n      &lt;version&gt;1.11.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\n      &lt;artifactId&gt;avro-maven-plugin&lt;/artifactId&gt;\n      &lt;version&gt;1.11.3&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.avro&lt;/groupId&gt;\n      &lt;artifactId&gt;avro-compiler&lt;/artifactId&gt;\n      &lt;version&gt;1.11.3&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;dependencies&gt;\n</code></pre>\n<p>I tried to find some information regarding this in the internet but didn't found anything.\nWould be good to get generated Java code without warnings.</p>\n<p>Thank you!</p>\n"},{"tags":["java","collections","mergesort","timsort"],"comments":[{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1581341458,"post_id":60151470,"comment_id":106388775,"body_markdown":"This smells funny: `if (c1.getUseExpirationDate() == null || c2.getUseExpirationDate() == null){\n                returnVal = -1;\n            }`","body":"This smells funny: <code>if (c1.getUseExpirationDate() == null || c2.getUseExpirationDate() == null){                 returnVal = -1;             }</code>"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":1,"creation_date":1581341505,"post_id":60151470,"comment_id":106388795,"body_markdown":"Why -1? If *either* is null? Shouldn&#39;t the value change if c1 &#39;s property is null vs c2&#39;s property?","body":"Why -1? If <i>either</i> is null? Shouldn&#39;t the value change if c1 &#39;s property is null vs c2&#39;s property?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":1,"creation_date":1581341514,"post_id":60151470,"comment_id":106388801,"body_markdown":"If the name is equal, you compare the expiration date. If either of the expiration dates is `null`, you return `-1`. That means if you compare two `CompanySchedule`s to another and at least one&#39;s expiration date is not set, both are &quot;smaller than&quot; the respective other one.","body":"If the name is equal, you compare the expiration date. If either of the expiration dates is <code>null</code>, you return <code>-1</code>. That means if you compare two <code>CompanySchedule</code>s to another and at least one&#39;s expiration date is not set, both are &quot;smaller than&quot; the respective other one."}],"answers":[{"comments":[{"owner":{"account_id":6866722,"reputation":33,"user_id":10391185,"display_name":"harish km"},"score":0,"creation_date":1638359830,"post_id":60151605,"comment_id":124065881,"body_markdown":"I know I am late to this, once i found the solution I had basically forgotten I had asked this question.","body":"I know I am late to this, once i found the solution I had basically forgotten I had asked this question."}],"tags":[],"owner":{"account_id":2487090,"reputation":6018,"user_id":2165342,"accept_rate":65,"display_name":"galusben"},"comment_count":1,"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1581344249,"creation_date":1581341785,"answer_id":60151605,"question_id":60151470,"body_markdown":"I think that one problem is here:\r\n\r\n    if (c1.getUseExpirationDate() == null || c2.getUseExpirationDate() == null){\r\n                    returnVal = -1;\r\n    }\r\n\r\nIf a.getUseExpirationDate() == null and also b.getUseExpirationDate() == null, you will get that a &lt; b and b &lt; a which means a &lt; a.\r\n\r\nThis breaks consistency.\r\nThere might be more problems in this method but I have not checked it all.\r\n\r\nGood luck.\r\n\r\nEDIT\r\n\r\nHow about this code?\r\n\r\n    public int compare(CompanySchedule c1, CompanySchedule c2) {\r\n            int returnVal = 0;\r\n            int value = c1.getCompany().getName().compareTo(c2.getCompany().getName());\r\n            if (value == 0) {\r\n                if (c1.getUseExpirationDate() == null &amp;&amp; c2.getUseExpirationDate() != null) {\r\n                    returnVal = -1;\r\n                } else if (c1.getUseExpirationDate() != null &amp;&amp; c2.getUseExpirationDate() == null) {\r\n                    returnVal = 1;\r\n                } else if (c1.getUseExpirationDate() == null &amp;&amp; c2.getUseExpirationDate() == null) {\r\n                    returnVal = 0;\r\n                } else {\r\n                    int chkdate = c1.getUseExpirationDate().compareTo(c2.getUseExpirationDate());\r\n                    if (chkdate == 0) {\r\n                        returnVal = 0;\r\n                    } else if (chkdate &gt; 0) {\r\n                        returnVal = -1;\r\n                    } else if (chkdate &lt; 0) {\r\n                        returnVal = 1;\r\n                    }\r\n                }\r\n            } else if (value &lt; 0) {\r\n                returnVal = -1;\r\n            } else if (value &gt; 0) {\r\n                returnVal = 1;\r\n            }\r\n    \r\n    \r\n            return returnVal;\r\n        }\r\n\r\nI have tried not to change it too much, for comparability, but it should be refactored. Basically it determines that nulls are smaller than other values. \r\n","title":"Java Error: java.lang.IllegalArgumentException: Comparison method violates its general contract","body":"<p>I think that one problem is here:</p>\n\n<pre><code>if (c1.getUseExpirationDate() == null || c2.getUseExpirationDate() == null){\n                returnVal = -1;\n}\n</code></pre>\n\n<p>If a.getUseExpirationDate() == null and also b.getUseExpirationDate() == null, you will get that a &lt; b and b &lt; a which means a &lt; a.</p>\n\n<p>This breaks consistency.\nThere might be more problems in this method but I have not checked it all.</p>\n\n<p>Good luck.</p>\n\n<p>EDIT</p>\n\n<p>How about this code?</p>\n\n<pre><code>public int compare(CompanySchedule c1, CompanySchedule c2) {\n        int returnVal = 0;\n        int value = c1.getCompany().getName().compareTo(c2.getCompany().getName());\n        if (value == 0) {\n            if (c1.getUseExpirationDate() == null &amp;&amp; c2.getUseExpirationDate() != null) {\n                returnVal = -1;\n            } else if (c1.getUseExpirationDate() != null &amp;&amp; c2.getUseExpirationDate() == null) {\n                returnVal = 1;\n            } else if (c1.getUseExpirationDate() == null &amp;&amp; c2.getUseExpirationDate() == null) {\n                returnVal = 0;\n            } else {\n                int chkdate = c1.getUseExpirationDate().compareTo(c2.getUseExpirationDate());\n                if (chkdate == 0) {\n                    returnVal = 0;\n                } else if (chkdate &gt; 0) {\n                    returnVal = -1;\n                } else if (chkdate &lt; 0) {\n                    returnVal = 1;\n                }\n            }\n        } else if (value &lt; 0) {\n            returnVal = -1;\n        } else if (value &gt; 0) {\n            returnVal = 1;\n        }\n\n\n        return returnVal;\n    }\n</code></pre>\n\n<p>I have tried not to change it too much, for comparability, but it should be refactored. Basically it determines that nulls are smaller than other values. </p>\n"},{"tags":[],"owner":{"account_id":6866722,"reputation":33,"user_id":10391185,"display_name":"harish km"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696575668,"creation_date":1638360210,"answer_id":70183866,"question_id":60151470,"body_markdown":"I know I am late to this, once I found the solution I had basically forgotten I had asked this question. so as I mentioned the application was written in Java 6 and then was upgraded to Java 7, as per my understanding the internal implementation of Collections. Sort method changes the algorithm used from Merge sort to Tim Sort, Merge Sort ignore the Transitivity property of the compare method implementation, however Tim sort required the the compare method implementation to be transitive else the above exception would be thrown, since we had an legacy app we did not want to change anything from the code so we used jvm argument java.util.Arrays.useLegacyMergeSort=true Merge Sort internally in the sort implementation","title":"Java Error: java.lang.IllegalArgumentException: Comparison method violates its general contract","body":"<p>I know I am late to this, once I found the solution I had basically forgotten I had asked this question. so as I mentioned the application was written in Java 6 and then was upgraded to Java 7, as per my understanding the internal implementation of Collections. Sort method changes the algorithm used from Merge sort to Tim Sort, Merge Sort ignore the Transitivity property of the compare method implementation, however Tim sort required the the compare method implementation to be transitive else the above exception would be thrown, since we had an legacy app we did not want to change anything from the code so we used jvm argument java.util.Arrays.useLegacyMergeSort=true Merge Sort internally in the sort implementation</p>\n"}],"owner":{"account_id":6866722,"reputation":33,"user_id":10391185,"display_name":"harish km"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":292,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60151605,"answer_count":2,"score":1,"last_activity_date":1696575668,"creation_date":1581341317,"question_id":60151470,"body_markdown":"I am working on a old application which was originally written in Java 6 and which was upgraded to Java 7 a couple of years ago. \r\n\r\nIn this application i am using a Collection.Sort to sort a list with a custom ```compare``` method by implementing ```Comparator``` interface. Type of objects in the list are ```CompanySchedule``` which have 3 properties ```companyName```, ```Schedule``` and ```expirationdate```.  \r\n\r\nList can contain multiple objects with same ```companyName``` but with unique expiration date. Below compare function sorts the list in ascending order of companyName and with in the same companyName list descending order of expiration date. Below is the method implementation. \r\n\r\n```\r\n    public int compare(CompanySchedule c1, CompanySchedule c2) {\r\n        int returnVal = 0;\r\n        int value = c1.getCompany().getName().compareTo(c2.getCompany().getName());\r\n        if (value == 0){\r\n            if (c1.getUseExpirationDate() == null || c2.getUseExpirationDate() == null){\r\n                returnVal = -1;\r\n            }\r\n            else{\r\n                int chkdate = c1.getUseExpirationDate().compareTo(c2.getUseExpirationDate());\r\n                if (chkdate == 0){\r\n                    returnVal = 0;\r\n                }\r\n                else if (chkdate &gt; 0){\r\n                    returnVal = -1;\r\n                }\r\n                else if (chkdate &lt; 0){\r\n                    returnVal = 1;\r\n                }\r\n            }\r\n        }\r\n        else if (value &lt; 0){\r\n            returnVal = -1;\r\n        }\r\n        else if (value &gt; 0){\r\n            returnVal = 1;\r\n        }\r\n           \r\n       \r\n        return returnVal;\r\n    }\r\n``` \r\nI know that when the transitive property is not met in the compare method implementation above error \r\n```java.lang.IllegalArgumentException: Comparison method violates its general contract``` will be thrown.\r\n\r\ncan some one help in identifying the where this method will violates the transitive property. \r\nThanks for the Help.\r\n\r\n","title":"Java Error: java.lang.IllegalArgumentException: Comparison method violates its general contract","body":"<p>I am working on a old application which was originally written in Java 6 and which was upgraded to Java 7 a couple of years ago. </p>\n\n<p>In this application i am using a Collection.Sort to sort a list with a custom <code>compare</code> method by implementing <code>Comparator</code> interface. Type of objects in the list are <code>CompanySchedule</code> which have 3 properties <code>companyName</code>, <code>Schedule</code> and <code>expirationdate</code>.  </p>\n\n<p>List can contain multiple objects with same <code>companyName</code> but with unique expiration date. Below compare function sorts the list in ascending order of companyName and with in the same companyName list descending order of expiration date. Below is the method implementation. </p>\n\n<pre><code>    public int compare(CompanySchedule c1, CompanySchedule c2) {\n        int returnVal = 0;\n        int value = c1.getCompany().getName().compareTo(c2.getCompany().getName());\n        if (value == 0){\n            if (c1.getUseExpirationDate() == null || c2.getUseExpirationDate() == null){\n                returnVal = -1;\n            }\n            else{\n                int chkdate = c1.getUseExpirationDate().compareTo(c2.getUseExpirationDate());\n                if (chkdate == 0){\n                    returnVal = 0;\n                }\n                else if (chkdate &gt; 0){\n                    returnVal = -1;\n                }\n                else if (chkdate &lt; 0){\n                    returnVal = 1;\n                }\n            }\n        }\n        else if (value &lt; 0){\n            returnVal = -1;\n        }\n        else if (value &gt; 0){\n            returnVal = 1;\n        }\n\n\n        return returnVal;\n    }\n</code></pre>\n\n<p>I know that when the transitive property is not met in the compare method implementation above error \n<code>java.lang.IllegalArgumentException: Comparison method violates its general contract</code> will be thrown.</p>\n\n<p>can some one help in identifying the where this method will violates the transitive property. \nThanks for the Help.</p>\n"},{"tags":["java","spring-boot","elasticsearch","spring-data","nosuchfileexception"],"comments":[{"owner":{"account_id":5843921,"reputation":210875,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1696482495,"post_id":77234289,"comment_id":136159106,"body_markdown":"What was the earlier version you had?","body":"What was the earlier version you had?"},{"owner":{"account_id":18534499,"reputation":13,"user_id":13504487,"display_name":"Athul Samuel"},"score":0,"creation_date":1696575348,"post_id":77234289,"comment_id":136173229,"body_markdown":"spring boot 2.5.3","body":"spring boot 2.5.3"}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103500,"user_id":466862,"display_name":"Mark Rotteveel"},"comment_count":0,"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1696575585,"creation_date":1696490581,"answer_id":77234987,"question_id":77234289,"body_markdown":"The library [`spring-data-elasticsearch`][1] is the Elasticsearch support for Spring Data, which is not tied to Spring Boot specifically. \r\n\r\nThe library [`spring-boot-starter-data-elasticsearch`][2] is the Spring Boot starter which configures/sets up Spring Boot to use Elasticsearch with Spring Data (and among others, includes `spring-data-elasticsearch` as one of its dependencies).\r\n\r\nIn other words, when you use `spring-boot-starter-data-elasticsearch`, you *also* use `spring-data-elasticsearch`, but the starter makes sure you also have any other dependencies needed for things to work correctly in Spring Boot.\r\n\r\nHowever, given the error in your question, I rather suspect the main problem was that you depended on the wrong version of `spring-data-elasticsearch`. A `NoSuchFieldError` generally indicates that the code was compiled against a different version of another dependency, and if that code changes (e.g. a field getting removed or renamed), it will then fail at runtime. When you switched to `spring-boot-starter-data-elasticsearch` it imported the right version of the `spring-data-elasticsearch` dependency, and the problem went away.\r\n\r\nWhen you use Spring Boot, you should generally not specify versions of dependencies in your Maven or Gradle config, but rather use the versions managed by Spring Boot. Only dependencies which are not managed by Spring Boot should have a version in your build config (see [Dependency Versions][3] for a list of dependencies managed by Spring Boot)\r\n\r\n\r\n  [1]: https://central.sonatype.com/artifact/org.springframework.data/spring-data-elasticsearch\r\n  [2]: https://central.sonatype.com/artifact/org.springframework.boot/spring-boot-starter-data-elasticsearch\r\n  [3]: https://docs.spring.io/spring-boot/docs/current/reference/html/dependency-versions.html","title":"What is the difference between spring-data-elasticsearch vs spring-boot-starter-data-elasticsearch?","body":"<p>The library <a href=\"https://central.sonatype.com/artifact/org.springframework.data/spring-data-elasticsearch\" rel=\"nofollow noreferrer\"><code>spring-data-elasticsearch</code></a> is the Elasticsearch support for Spring Data, which is not tied to Spring Boot specifically.</p>\n<p>The library <a href=\"https://central.sonatype.com/artifact/org.springframework.boot/spring-boot-starter-data-elasticsearch\" rel=\"nofollow noreferrer\"><code>spring-boot-starter-data-elasticsearch</code></a> is the Spring Boot starter which configures/sets up Spring Boot to use Elasticsearch with Spring Data (and among others, includes <code>spring-data-elasticsearch</code> as one of its dependencies).</p>\n<p>In other words, when you use <code>spring-boot-starter-data-elasticsearch</code>, you <em>also</em> use <code>spring-data-elasticsearch</code>, but the starter makes sure you also have any other dependencies needed for things to work correctly in Spring Boot.</p>\n<p>However, given the error in your question, I rather suspect the main problem was that you depended on the wrong version of <code>spring-data-elasticsearch</code>. A <code>NoSuchFieldError</code> generally indicates that the code was compiled against a different version of another dependency, and if that code changes (e.g. a field getting removed or renamed), it will then fail at runtime. When you switched to <code>spring-boot-starter-data-elasticsearch</code> it imported the right version of the <code>spring-data-elasticsearch</code> dependency, and the problem went away.</p>\n<p>When you use Spring Boot, you should generally not specify versions of dependencies in your Maven or Gradle config, but rather use the versions managed by Spring Boot. Only dependencies which are not managed by Spring Boot should have a version in your build config (see <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/dependency-versions.html\" rel=\"nofollow noreferrer\">Dependency Versions</a> for a list of dependencies managed by Spring Boot)</p>\n"}],"owner":{"account_id":18534499,"reputation":13,"user_id":13504487,"display_name":"Athul Samuel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77234987,"answer_count":1,"score":1,"last_activity_date":1696575585,"creation_date":1696480918,"question_id":77234289,"body_markdown":"I was facing this issue after migrating to springboot 2.7.15 while saving a doc to es index.\r\n\r\n```\r\n2023-10-04 13:23:01 [pool-2-thread-10] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler -\r\n                Unexpected error occurred in scheduled task\r\njava.lang.NoSuchFieldError: INDEX_CONTENT_TYPE\r\n\tat org.springframework.data.elasticsearch.core.RequestFactory.indexRequest(RequestFactory.java:771)\r\n\tat org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.doIndex(ElasticsearchRestTemplate.java:156)\r\n\tat org.springframework.data.elasticsearch.core.AbstractElasticsearchTemplate.save(AbstractElasticsearchTemplate.java:189)\r\n\tat org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.lambda$save$6(SimpleElasticsearchRepository.java:185)\r\n\tat org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.executeAndRefresh(SimpleElasticsearchRepository.java:359)\r\n\tat org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.save(SimpleElasticsearchRepository.java:185)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\r\n\tat org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530)\r\n\tat org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286)\r\n\tat org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\r\n\tat org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy100.save(Unknown Source)\r\n\tat java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n\tat java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n\tat org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)\r\n\tat jdk.proxy2/jdk.proxy2.$Proxy100.save(Unknown Source)\r\n```\r\n\r\n\r\n\r\nBy changing to  spring-boot-starter-data-elasticsearch it fixed the issue. So what is the difference between both dependencies","title":"What is the difference between spring-data-elasticsearch vs spring-boot-starter-data-elasticsearch?","body":"<p>I was facing this issue after migrating to springboot 2.7.15 while saving a doc to es index.</p>\n<pre><code>2023-10-04 13:23:01 [pool-2-thread-10] ERROR o.s.s.s.TaskUtils$LoggingErrorHandler -\n                Unexpected error occurred in scheduled task\njava.lang.NoSuchFieldError: INDEX_CONTENT_TYPE\n    at org.springframework.data.elasticsearch.core.RequestFactory.indexRequest(RequestFactory.java:771)\n    at org.springframework.data.elasticsearch.core.ElasticsearchRestTemplate.doIndex(ElasticsearchRestTemplate.java:156)\n    at org.springframework.data.elasticsearch.core.AbstractElasticsearchTemplate.save(AbstractElasticsearchTemplate.java:189)\n    at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.lambda$save$6(SimpleElasticsearchRepository.java:185)\n    at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.executeAndRefresh(SimpleElasticsearchRepository.java:359)\n    at org.springframework.data.elasticsearch.repository.support.SimpleElasticsearchRepository.save(SimpleElasticsearchRepository.java:185)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)\n    at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)\n    at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:530)\n    at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:286)\n    at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:640)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:164)\n    at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:139)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)\n    at jdk.proxy2/jdk.proxy2.$Proxy100.save(Unknown Source)\n    at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n    at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:344)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:198)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:241)\n    at jdk.proxy2/jdk.proxy2.$Proxy100.save(Unknown Source)\n</code></pre>\n<p>By changing to  spring-boot-starter-data-elasticsearch it fixed the issue. So what is the difference between both dependencies</p>\n"},{"tags":["java","logging","soap","guidewire"],"answers":[{"comments":[{"owner":{"account_id":1631862,"reputation":162,"user_id":1506226,"accept_rate":0,"display_name":"Dragan Jovanović"},"score":0,"creation_date":1696259943,"post_id":77216450,"comment_id":136127015,"body_markdown":"The problem is that the generation of soap messages is somewhere deep inside Guidewire&#39;s framework and I am not allowed to access it.\nWhat I see is the line\n      var result = ContactAPI.searchContact(remoteCriteria, remoteSpec)\nand the method searchContact() is inside Guidewire&#39;s jar and I cannot access its source code.\nThis call breaks with exception (after getting response from CM) and I cannot see any DTO object.","body":"The problem is that the generation of soap messages is somewhere deep inside Guidewire&#39;s framework and I am not allowed to access it. What I see is the line       var result = ContactAPI.searchContact(remoteCriteria, remoteSpec) and the method searchContact() is inside Guidewire&#39;s jar and I cannot access its source code. This call breaks with exception (after getting response from CM) and I cannot see any DTO object."},{"owner":{"account_id":28758873,"reputation":206,"user_id":22025249,"display_name":"SteveDrippsCentricConsulting"},"score":0,"creation_date":1696260367,"post_id":77216450,"comment_id":136127094,"body_markdown":"So what is the exception being thrown when `ContactAPI.searchContact` is called? Can you still log the `remoteCriteria` and `remoteSpec` variables?","body":"So what is the exception being thrown when <code>ContactAPI.searchContact</code> is called? Can you still log the <code>remoteCriteria</code> and <code>remoteSpec</code> variables?"},{"owner":{"account_id":1631862,"reputation":162,"user_id":1506226,"accept_rate":0,"display_name":"Dragan Jovanović"},"score":0,"creation_date":1696261212,"post_id":77216450,"comment_id":136127258,"body_markdown":"It is some NullPointerException with a deep stack trace inside the framework. Obviously the framework gets the response from CM side (btw, on CM side, I see resulting object in debugger, and it looks just fine, but I cannot see how it gets serialized to xml response), and then after that. on CC side, the framework part which processes the response runs into null value where it should not.","body":"It is some NullPointerException with a deep stack trace inside the framework. Obviously the framework gets the response from CM side (btw, on CM side, I see resulting object in debugger, and it looks just fine, but I cannot see how it gets serialized to xml response), and then after that. on CC side, the framework part which processes the response runs into null value where it should not."},{"owner":{"account_id":28758873,"reputation":206,"user_id":22025249,"display_name":"SteveDrippsCentricConsulting"},"score":0,"creation_date":1696263676,"post_id":77216450,"comment_id":136127732,"body_markdown":"Yeah this one will be hard to debug. My best guess at this point is that CM is returning some contact without a required field that ClaimCenter expects to be populated. I would do this: 1) use the CC Contact Search UI to find a search that consistently throws the exception and then 2) use SOAP-UI to call the CM web service directly (with the same search criteria) and see which contact result(s) are different and possible missing a required field. Tedious but that is where I would start","body":"Yeah this one will be hard to debug. My best guess at this point is that CM is returning some contact without a required field that ClaimCenter expects to be populated. I would do this: 1) use the CC Contact Search UI to find a search that consistently throws the exception and then 2) use SOAP-UI to call the CM web service directly (with the same search criteria) and see which contact result(s) are different and possible missing a required field. Tedious but that is where I would start"}],"tags":[],"owner":{"account_id":28758873,"reputation":206,"user_id":22025249,"display_name":"SteveDrippsCentricConsulting"},"comment_count":4,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696258037,"creation_date":1696258037,"answer_id":77216450,"question_id":77188431,"body_markdown":"I don&#39;t think there is a way to log the actual SOAP envelop request/response for a function defined in a `@WsiWebService` class. You can always log the input of the function and then log the output of the function before the return. Something like:\r\n\r\n```\r\npublic function mySoapFunction (accountNumber : String) : AccountDTO {\r\n\r\n  //I assume a logger is defined for this web service class\r\n  logger.info(&quot;Calling mySoapFunction with accountNumber ${accountNumber}&quot;)\r\n\r\n  //The function implementation...\r\n\r\n  logger.info(&quot;Returning from mySoapFunction with account ${accountDTO.toXml()}&quot;)\r\n  return anAccountDTO\r\n}\r\n```\r\n\r\nThe above is just pseudo-code that I can&#39;t guarantee even compiles. The basic idea is you can do the logging yourself in the actual SOAP function. This is tedious, but I don&#39;t believe there is a way to log the SOAP request/responses natively in Guidewire applications by adjusting a setting.","title":"log SOAP messages in Guidewire Insurance Suite","body":"<p>I don't think there is a way to log the actual SOAP envelop request/response for a function defined in a <code>@WsiWebService</code> class. You can always log the input of the function and then log the output of the function before the return. Something like:</p>\n<pre><code>public function mySoapFunction (accountNumber : String) : AccountDTO {\n\n  //I assume a logger is defined for this web service class\n  logger.info(&quot;Calling mySoapFunction with accountNumber ${accountNumber}&quot;)\n\n  //The function implementation...\n\n  logger.info(&quot;Returning from mySoapFunction with account ${accountDTO.toXml()}&quot;)\n  return anAccountDTO\n}\n</code></pre>\n<p>The above is just pseudo-code that I can't guarantee even compiles. The basic idea is you can do the logging yourself in the actual SOAP function. This is tedious, but I don't believe there is a way to log the SOAP request/responses natively in Guidewire applications by adjusting a setting.</p>\n"},{"comments":[{"owner":{"account_id":1631862,"reputation":162,"user_id":1506226,"accept_rate":0,"display_name":"Dragan Jovanović"},"score":0,"creation_date":1696574896,"post_id":77235835,"comment_id":136173168,"body_markdown":"I do not have info about implementation of GW web services, so I just tried with JAX-WS as probably most common solution.","body":"I do not have info about implementation of GW web services, so I just tried with JAX-WS as probably most common solution."},{"owner":{"account_id":28946352,"reputation":101,"user_id":22171845,"display_name":"Gwisard"},"score":0,"creation_date":1696596942,"post_id":77235835,"comment_id":136177175,"body_markdown":"That&#39;s OK, I was just not sure if you were after Guidewire solution (which you obviously were) or you want to implement it in some other conditions - all good and clear now!","body":"That&#39;s OK, I was just not sure if you were after Guidewire solution (which you obviously were) or you want to implement it in some other conditions - all good and clear now!"}],"tags":[],"owner":{"account_id":28946352,"reputation":101,"user_id":22171845,"display_name":"Gwisard"},"comment_count":2,"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1696497999,"creation_date":1696497999,"answer_id":77235835,"question_id":77188431,"body_markdown":"Not sure if I fully understand your case as you keep referring to the JAX-WS implementation and just to be clear Guidewire Soap framework does not use JAX-WS. \r\n\r\nThere is an &quot;easy&quot; way to log the whole SOAP envelop if you are using @WsiWebService Soap server or utilising the WebServiceCollections Soap client.\r\nYou have to simply register a transformer by attaching it to the web service server class like this:\r\n\r\n    @WsiRequestTransform(MySoapServer._loggingRequestTransformer)\r\n\r\nYou can do the same with the @WsiResponseTransform to catch the response.\r\nThe transformer is simply a block consuming and returning InputStream of type like:\r\n\r\n    block(InputStream) : InputStream\r\n\r\nIt&#39;s somewhat similar for the client. There you have to register a Configuration Provider in the &quot;wsc&quot; file. And then in the implementation of it you have access to the config object where in similar way you can register your request/response transformers.\r\n\r\n    config.RequestTransform = _logWebServicePayload\r\n\r\nThere are however few caveats to this approach.\r\n\r\n - It will invoke the transformer for every single request/response while the transformer is registered so be 100% sure the transformer isn&#39;t logging your payload all the time esp. in Production! (only do any work there if for example the &quot;_LOGGER.DebugEnabled&quot;)\r\n - It requires you to return the InputStream and you most likely want to return the same information that you got in so extract it and wrap it again into some buffered InputStream or something similar\r\n - Soap payloads sometimes contain sensitive data or PII data so be very careful what you do with those logs and that you have permission to dump such information into the logs. I typically register separate loggers and appenders for that so they can be dealt with proper care and additional infra setup\r\n\r\n\r\nSo please only do this if you really need to and ensure it does not run in PROD 100% of the time and that you have takes all the necessary actions.","title":"log SOAP messages in Guidewire Insurance Suite","body":"<p>Not sure if I fully understand your case as you keep referring to the JAX-WS implementation and just to be clear Guidewire Soap framework does not use JAX-WS.</p>\n<p>There is an &quot;easy&quot; way to log the whole SOAP envelop if you are using @WsiWebService Soap server or utilising the WebServiceCollections Soap client.\nYou have to simply register a transformer by attaching it to the web service server class like this:</p>\n<pre><code>@WsiRequestTransform(MySoapServer._loggingRequestTransformer)\n</code></pre>\n<p>You can do the same with the @WsiResponseTransform to catch the response.\nThe transformer is simply a block consuming and returning InputStream of type like:</p>\n<pre><code>block(InputStream) : InputStream\n</code></pre>\n<p>It's somewhat similar for the client. There you have to register a Configuration Provider in the &quot;wsc&quot; file. And then in the implementation of it you have access to the config object where in similar way you can register your request/response transformers.</p>\n<pre><code>config.RequestTransform = _logWebServicePayload\n</code></pre>\n<p>There are however few caveats to this approach.</p>\n<ul>\n<li>It will invoke the transformer for every single request/response while the transformer is registered so be 100% sure the transformer isn't logging your payload all the time esp. in Production! (only do any work there if for example the &quot;_LOGGER.DebugEnabled&quot;)</li>\n<li>It requires you to return the InputStream and you most likely want to return the same information that you got in so extract it and wrap it again into some buffered InputStream or something similar</li>\n<li>Soap payloads sometimes contain sensitive data or PII data so be very careful what you do with those logs and that you have permission to dump such information into the logs. I typically register separate loggers and appenders for that so they can be dealt with proper care and additional infra setup</li>\n</ul>\n<p>So please only do this if you really need to and ensure it does not run in PROD 100% of the time and that you have takes all the necessary actions.</p>\n"},{"comments":[{"owner":{"account_id":7023327,"reputation":761,"user_id":5381753,"display_name":"Aravind Pillai"},"score":0,"creation_date":1696633986,"post_id":77242405,"comment_id":136183183,"body_markdown":"and where do we need to keep this code?","body":"and where do we need to keep this code?"},{"owner":{"account_id":1631862,"reputation":162,"user_id":1506226,"accept_rate":0,"display_name":"Dragan Jovanović"},"score":0,"creation_date":1697270686,"post_id":77242405,"comment_id":136261252,"body_markdown":"Annotations should reside in the file where web service class is defined, above the class definition, together with other annotations.\nI have put logSOAPMessage() into web service class, but you can put in which ever class you want, just make it public.","body":"Annotations should reside in the file where web service class is defined, above the class definition, together with other annotations. I have put logSOAPMessage() into web service class, but you can put in which ever class you want, just make it public."}],"tags":[],"owner":{"account_id":1631862,"reputation":162,"user_id":1506226,"accept_rate":0,"display_name":"Dragan Jovanović"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696575575,"creation_date":1696575575,"answer_id":77242405,"question_id":77188431,"body_markdown":"Using Gwisard&#39;s answer, I have implemented logging on server side :\r\n\r\n    /** Uncomment for debugging only! Do not push uncommented!\r\n\r\n    @WsiRequestTransform(\\requestStream -&gt; {\r\n        var request = new String(requestStream.readAllBytes(), java.nio.charset.StandardCharsets.UTF_8);\r\n      logSOAPMessage(request, &quot;INPUT&quot;)\r\n        return new ByteArrayInputStream(request.getBytes())\r\n    })\r\n    \r\n    @WsiResponseTransform(\\responseStream -&gt; {\r\n      var response = new String(responseStream .readAllBytes(), java.nio.charset.StandardCharsets.UTF_8);\r\n      logSOAPMessage(response, &quot;OUTPUT&quot;)\r\n      return new ByteArrayInputStream(response.getBytes())\r\n    })*/\r\n\r\n\r\nAnd the method which writes both request and response to log file:\r\n\r\n      private static function logSOAPMessage(text : String, direction : String){\r\n        var logFilePath = &quot;C:\\\\tmp\\\\gwlogs\\\\soap.log&quot;\r\n        var logStream = new java.io.FileOutputStream(logFilePath, true)\r\n        logStream.write(&quot;\\n\\n${java.time.LocalTime.now().format(java.time.format.DateTimeFormatter.ofPattern(&quot;hh:mm.ss.SSS&quot;))} ${direction} \\n${text}&quot;.getBytes());\r\n        logStream.close();\r\n      }\r\n\r\n","title":"log SOAP messages in Guidewire Insurance Suite","body":"<p>Using Gwisard's answer, I have implemented logging on server side :</p>\n<pre><code>/** Uncomment for debugging only! Do not push uncommented!\n\n@WsiRequestTransform(\\requestStream -&gt; {\n    var request = new String(requestStream.readAllBytes(), java.nio.charset.StandardCharsets.UTF_8);\n  logSOAPMessage(request, &quot;INPUT&quot;)\n    return new ByteArrayInputStream(request.getBytes())\n})\n\n@WsiResponseTransform(\\responseStream -&gt; {\n  var response = new String(responseStream .readAllBytes(), java.nio.charset.StandardCharsets.UTF_8);\n  logSOAPMessage(response, &quot;OUTPUT&quot;)\n  return new ByteArrayInputStream(response.getBytes())\n})*/\n</code></pre>\n<p>And the method which writes both request and response to log file:</p>\n<pre><code>  private static function logSOAPMessage(text : String, direction : String){\n    var logFilePath = &quot;C:\\\\tmp\\\\gwlogs\\\\soap.log&quot;\n    var logStream = new java.io.FileOutputStream(logFilePath, true)\n    logStream.write(&quot;\\n\\n${java.time.LocalTime.now().format(java.time.format.DateTimeFormatter.ofPattern(&quot;hh:mm.ss.SSS&quot;))} ${direction} \\n${text}&quot;.getBytes());\n    logStream.close();\n  }\n</code></pre>\n"}],"owner":{"account_id":1631862,"reputation":162,"user_id":1506226,"accept_rate":0,"display_name":"Dragan Jovanović"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":137,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":77235835,"answer_count":3,"score":0,"last_activity_date":1696575575,"creation_date":1695824974,"question_id":77188431,"body_markdown":"I want to catch the SOAP communication between my GW applications (Claim Center and Contact Manager). I&#39;d like to make CC or CM write the requests and responses to the log file, or at least to see  them through debugger somehow. It seems to me that Guidewire&#39;s framework does not help regarding this. \r\n\r\nI have tried [setting the system properties](https://stackoverflow.com/a/16338394/1506226) but it does not work, maybe the framework overrides them somehow. I have also tried to [define and utilize a SOAPHandler](https://stackoverflow.com/a/1957777/1506226) but it works with a @WebService implementation, and my web service (Contact Manager&#39;s `ABContactAPI`) is defined in other way, using the framework.\r\nIs there a way to fit Guidewire&#39;s web service into this scenario ? Or some other way to make Guidewire&#39;s web service log its SOAP messages somewhere ? Or to make Guidewire&#39;s web client code log its SOAP messages ? ","title":"log SOAP messages in Guidewire Insurance Suite","body":"<p>I want to catch the SOAP communication between my GW applications (Claim Center and Contact Manager). I'd like to make CC or CM write the requests and responses to the log file, or at least to see  them through debugger somehow. It seems to me that Guidewire's framework does not help regarding this.</p>\n<p>I have tried <a href=\"https://stackoverflow.com/a/16338394/1506226\">setting the system properties</a> but it does not work, maybe the framework overrides them somehow. I have also tried to <a href=\"https://stackoverflow.com/a/1957777/1506226\">define and utilize a SOAPHandler</a> but it works with a @WebService implementation, and my web service (Contact Manager's <code>ABContactAPI</code>) is defined in other way, using the framework.\nIs there a way to fit Guidewire's web service into this scenario ? Or some other way to make Guidewire's web service log its SOAP messages somewhere ? Or to make Guidewire's web client code log its SOAP messages ?</p>\n"},{"tags":["java","xml","xstream"],"comments":[{"owner":{"account_id":58437,"reputation":1694,"user_id":174979,"display_name":"Justin Emery"},"score":2,"creation_date":1365545543,"post_id":6159047,"comment_id":22665646,"body_markdown":"As of August 2011, XStream has just had it&#39;s [first major update in 3 years](http://xstream.codehaus.org/news.html#1.4). This pace of development seems appropriate since as other answers have explained, XStream is a mature project.","body":"As of August 2011, XStream has just had it&#39;s <a href=\"http://xstream.codehaus.org/news.html#1.4\" rel=\"nofollow noreferrer\">first major update in 3 years</a>. This pace of development seems appropriate since as other answers have explained, XStream is a mature project."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1422570722,"post_id":6159047,"comment_id":44815030,"body_markdown":"And indeed, the updates continue: &quot;February 8, 2014 XStream 1.4.7 released&quot;.","body":"And indeed, the updates continue: &quot;February 8, 2014 XStream 1.4.7 released&quot;."},{"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1561469190,"post_id":6159047,"comment_id":100067985,"body_markdown":"You can now get XStream from Github, and the documentation is published on github.io.  At this point in time the &quot;theory&quot; that the library is not being maintained / updated is thoroughly debunked.","body":"You can now get XStream from Github, and the documentation is published on github.io.  At this point in time the &quot;theory&quot; that the library is not being maintained / updated is thoroughly debunked."},{"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"score":0,"creation_date":1626718839,"post_id":6159047,"comment_id":120963953,"body_markdown":"2021 and it still works for me. Many use cases. I am not sure how fast it is though.","body":"2021 and it still works for me. Many use cases. I am not sure how fast it is though."}],"answers":[{"comments":[{"owner":{"account_id":162425,"reputation":147999,"user_id":383861,"display_name":"bdoughan"},"score":0,"creation_date":1306580326,"post_id":6159089,"comment_id":7158758,"body_markdown":"+1 for JAXB.  XMLBeans on the other hand has not released since July 2008, which puts it in a similar position to XStream as far as the OP is concerned:  http://xmlbeans.apache.org/sourceAndBinaries/index.html","body":"+1 for JAXB.  XMLBeans on the other hand has not released since July 2008, which puts it in a similar position to XStream as far as the OP is concerned:  <a href=\"http://xmlbeans.apache.org/sourceAndBinaries/index.html\" rel=\"nofollow noreferrer\">xmlbeans.apache.org/sourceAndBinaries/index.html</a>"},{"owner":{"account_id":205044,"reputation":22510,"user_id":453590,"accept_rate":100,"display_name":"haylem"},"score":1,"creation_date":1306580534,"post_id":6159089,"comment_id":7158788,"body_markdown":"@Blaise: True, I know. But I&#39;ve had good experiences with it. Plus, as mentioned in another answer by Steven C., the fact that it&#39;s outdated doesn&#39;t always mean it&#39;s bad. Maybe it means it&#39;s good enough to not need a new release, though I would usually be suspicious about it.","body":"@Blaise: True, I know. But I&#39;ve had good experiences with it. Plus, as mentioned in another answer by Steven C., the fact that it&#39;s outdated doesn&#39;t always mean it&#39;s bad. Maybe it means it&#39;s good enough to not need a new release, though I would usually be suspicious about it."},{"owner":{"account_id":205044,"reputation":22510,"user_id":453590,"accept_rate":100,"display_name":"haylem"},"score":0,"creation_date":1306581011,"post_id":6159089,"comment_id":7158825,"body_markdown":"@Blaise: but actually, I realized I forgot EclipseLink, which I also like, and is used in a lot of Eclipse-based solutions (and others) and is actively developed. So I&#39;d rate it above XmlBeans as well.","body":"@Blaise: but actually, I realized I forgot EclipseLink, which I also like, and is used in a lot of Eclipse-based solutions (and others) and is actively developed. So I&#39;d rate it above XmlBeans as well."},{"owner":{"account_id":205044,"reputation":22510,"user_id":453590,"accept_rate":100,"display_name":"haylem"},"score":0,"creation_date":1306581164,"post_id":6159089,"comment_id":7158842,"body_markdown":"@Blaise: whoops, hadn&#39;t even noticed your answer, actually. I&#39;m crediting you directly then.","body":"@Blaise: whoops, hadn&#39;t even noticed your answer, actually. I&#39;m crediting you directly then."}],"tags":[],"owner":{"account_id":205044,"reputation":22510,"user_id":453590,"accept_rate":100,"display_name":"haylem"},"comment_count":4,"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1434979506,"creation_date":1306545604,"answer_id":6159089,"question_id":6159047,"body_markdown":"_In order of preference, relevancy and activity:_\r\n\r\n# [JAXB][1]\r\n\r\nVisit the [JAXB project&#39;s site][2] to check out the [tutorial][3] and [guide][4].\r\nHave also a look at the original [JAXB architecture whitepaper][5].\r\n\r\nThe JAXB projet listed above is the reference implementation of the API, and is packaged in by the GlassFish Application Server.\r\n\r\n\r\n# [EclipseLink][6]&#39;s [MOXy][7]\r\n\r\nVisit the [EclipseLink project&#39;s site][8] and read this [introductory article to EclipseLink on InfoQ][9], and see [Blaise Doughan&#39;s answer about MOXy][10].\r\n\r\nEclipseLink originated from Oracle&#39;s [TopLink][11] and is now open source, managed by the [Eclipse Foundation][12], and used in a number of Eclipse-based products.\r\n\r\n\r\n# [XStream][13]\r\n\r\n_&lt;sub&gt;Yes, [XStream][14], because it&#39;s actually been [updated in 2011 with a major update and 2 service releases][15] since you asked, so it seems well-maintained and a pretty good contender used by [mature projects][16]. Don&#39;t forget to check what&#39;s new in [version 1.4.x][17].&lt;/sub&gt;_\r\n\r\nVisit the [XStream project&#39;s site][18] and its [tutorial][19] to compare.\r\n\r\n# [XmlBeans][20]\r\n\r\nVisit the [XmlBeans project&#39;s site][21].\r\n\r\nXmlBeans is a well-tested project that has been around for a while.\r\n\r\n# [JiBX][22]\r\n\r\nVisit the [JiBX project&#39;s site][23], follow the [tutorial][24] and [guide][25].\r\n\r\nJiBX might be a simpler alternative if you don&#39;t like the complexity of XmlBeans or even JAXB.\r\n\r\n\r\n  [1]: http://en.wikipedia.org/wiki/Java_Architecture_for_XML_Binding\r\n  [2]: http://jaxb.java.net/\r\n  [3]: http://jaxb.java.net/tutorial/\r\n  [4]: http://jaxb.java.net/guide/\r\n  [5]: http://www.oracle.com/technetwork/articles/javase/index-140168.html\r\n  [6]: http://en.wikipedia.org/wiki/EclipseLink\r\n  [7]: http://www.eclipse.org/eclipselink/moxy.php\r\n  [8]: http://www.eclipse.org/eclipselink/\r\n  [9]: http://eclipse.dzone.com/articles/introducing-eclipselink\r\n  [10]: https://stackoverflow.com/questions/6159047/modern-alternative-to-java-xstream-library/6161183#6161183\r\n  [11]: http://en.wikipedia.org/wiki/TopLink\r\n  [12]: http://www.eclipse.org/\r\n  [13]: http://en.wikipedia.org/wiki/XStream\r\n  [14]: http://x-stream.github.io/\r\n  [15]: http://x-stream.github.io/news.html\r\n  [16]: http://x-stream.github.io/references.html\r\n  [17]: http://x-stream.github.io/changes.html\r\n  [18]: http://x-stream.github.io/\r\n  [19]: http://x-stream.github.io/tutorial.html\r\n  [20]: http://en.wikipedia.org/wiki/XMLBeans\r\n  [21]: http://xmlbeans.apache.org/\r\n  [22]: http://en.wikipedia.org/wiki/JiBX\r\n  [23]: http://jibx.sourceforge.net/\r\n  [24]: http://jibx.sourceforge.net/tutorial/binding-tutorial.html\r\n  [25]: http://jibx.sourceforge.net/getting-started.html","title":"Modern alternative to Java XStream library?","body":"<p><em>In order of preference, relevancy and activity:</em></p>\n\n<h1><a href=\"http://en.wikipedia.org/wiki/Java_Architecture_for_XML_Binding\" rel=\"nofollow noreferrer\">JAXB</a></h1>\n\n<p>Visit the <a href=\"http://jaxb.java.net/\" rel=\"nofollow noreferrer\">JAXB project's site</a> to check out the <a href=\"http://jaxb.java.net/tutorial/\" rel=\"nofollow noreferrer\">tutorial</a> and <a href=\"http://jaxb.java.net/guide/\" rel=\"nofollow noreferrer\">guide</a>.\nHave also a look at the original <a href=\"http://www.oracle.com/technetwork/articles/javase/index-140168.html\" rel=\"nofollow noreferrer\">JAXB architecture whitepaper</a>.</p>\n\n<p>The JAXB projet listed above is the reference implementation of the API, and is packaged in by the GlassFish Application Server.</p>\n\n<h1><a href=\"http://en.wikipedia.org/wiki/EclipseLink\" rel=\"nofollow noreferrer\">EclipseLink</a>'s <a href=\"http://www.eclipse.org/eclipselink/moxy.php\" rel=\"nofollow noreferrer\">MOXy</a></h1>\n\n<p>Visit the <a href=\"http://www.eclipse.org/eclipselink/\" rel=\"nofollow noreferrer\">EclipseLink project's site</a> and read this <a href=\"http://eclipse.dzone.com/articles/introducing-eclipselink\" rel=\"nofollow noreferrer\">introductory article to EclipseLink on InfoQ</a>, and see <a href=\"https://stackoverflow.com/questions/6159047/modern-alternative-to-java-xstream-library/6161183#6161183\">Blaise Doughan's answer about MOXy</a>.</p>\n\n<p>EclipseLink originated from Oracle's <a href=\"http://en.wikipedia.org/wiki/TopLink\" rel=\"nofollow noreferrer\">TopLink</a> and is now open source, managed by the <a href=\"http://www.eclipse.org/\" rel=\"nofollow noreferrer\">Eclipse Foundation</a>, and used in a number of Eclipse-based products.</p>\n\n<h1><a href=\"http://en.wikipedia.org/wiki/XStream\" rel=\"nofollow noreferrer\">XStream</a></h1>\n\n<p><em><sub>Yes, <a href=\"http://x-stream.github.io/\" rel=\"nofollow noreferrer\">XStream</a>, because it's actually been <a href=\"http://x-stream.github.io/news.html\" rel=\"nofollow noreferrer\">updated in 2011 with a major update and 2 service releases</a> since you asked, so it seems well-maintained and a pretty good contender used by <a href=\"http://x-stream.github.io/references.html\" rel=\"nofollow noreferrer\">mature projects</a>. Don't forget to check what's new in <a href=\"http://x-stream.github.io/changes.html\" rel=\"nofollow noreferrer\">version 1.4.x</a>.</sub></em></p>\n\n<p>Visit the <a href=\"http://x-stream.github.io/\" rel=\"nofollow noreferrer\">XStream project's site</a> and its <a href=\"http://x-stream.github.io/tutorial.html\" rel=\"nofollow noreferrer\">tutorial</a> to compare.</p>\n\n<h1><a href=\"http://en.wikipedia.org/wiki/XMLBeans\" rel=\"nofollow noreferrer\">XmlBeans</a></h1>\n\n<p>Visit the <a href=\"http://xmlbeans.apache.org/\" rel=\"nofollow noreferrer\">XmlBeans project's site</a>.</p>\n\n<p>XmlBeans is a well-tested project that has been around for a while.</p>\n\n<h1><a href=\"http://en.wikipedia.org/wiki/JiBX\" rel=\"nofollow noreferrer\">JiBX</a></h1>\n\n<p>Visit the <a href=\"http://jibx.sourceforge.net/\" rel=\"nofollow noreferrer\">JiBX project's site</a>, follow the <a href=\"http://jibx.sourceforge.net/tutorial/binding-tutorial.html\" rel=\"nofollow noreferrer\">tutorial</a> and <a href=\"http://jibx.sourceforge.net/getting-started.html\" rel=\"nofollow noreferrer\">guide</a>.</p>\n\n<p>JiBX might be a simpler alternative if you don't like the complexity of XmlBeans or even JAXB.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703927,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"comment_count":0,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1696575395,"creation_date":1306545622,"answer_id":6159091,"question_id":6159047,"body_markdown":"The fact that something hasn&#39;t been updated&lt;sup&gt;1&lt;/sup&gt; for 3 years doesn&#39;t mean that it is out of date.  It might simply mean that there has been no *need* to update it.  If there is no need to change a project, why change it?\r\n\r\nAnother possible explanation for the apparent lack of &quot;progress&quot; is that changing library APIs tends to be disruptive to projects that depend on them.  This is particularly problematic for projects that combine lots of third-party components and libraries into one Java application. \r\n\r\nLooking for alternatives to a library can be a good idea, especially if you need features that the existing library doesn&#39;t provide.  But simply looking for an alternative because the library hasn&#39;t been updated recently is not wise.  If XStream does what you need, stick with it.  Newer doesn&#39;t necessarily mean better.\r\n\r\n--------------\r\n\r\n&lt;sup&gt;1 - ... when the question was originally asked.&lt;/sup&gt;\r\n\r\n--------------\r\n\r\n**UPDATE - 2023**\r\n\r\nXStream has been receiving updates with a new release at least once a year since 2011.  Refer to the [Changes][1] page for details, and look at the activity on the [Github repository][2] for the project.  As of now, the theory that XStream is not being maintained is (IMO) **thoroughly debunked**.  \r\n\r\n  [1]: http://x-stream.github.io/changes.html\r\n  [2]: https://github.com/x-stream/xstream","title":"Modern alternative to Java XStream library?","body":"<p>The fact that something hasn't been updated<sup>1</sup> for 3 years doesn't mean that it is out of date.  It might simply mean that there has been no <em>need</em> to update it.  If there is no need to change a project, why change it?</p>\n<p>Another possible explanation for the apparent lack of &quot;progress&quot; is that changing library APIs tends to be disruptive to projects that depend on them.  This is particularly problematic for projects that combine lots of third-party components and libraries into one Java application.</p>\n<p>Looking for alternatives to a library can be a good idea, especially if you need features that the existing library doesn't provide.  But simply looking for an alternative because the library hasn't been updated recently is not wise.  If XStream does what you need, stick with it.  Newer doesn't necessarily mean better.</p>\n<hr />\n<p><sup>1 - ... when the question was originally asked.</sup></p>\n<hr />\n<p><strong>UPDATE - 2023</strong></p>\n<p>XStream has been receiving updates with a new release at least once a year since 2011.  Refer to the <a href=\"http://x-stream.github.io/changes.html\" rel=\"nofollow noreferrer\">Changes</a> page for details, and look at the activity on the <a href=\"https://github.com/x-stream/xstream\" rel=\"nofollow noreferrer\">Github repository</a> for the project.  As of now, the theory that XStream is not being maintained is (IMO) <strong>thoroughly debunked</strong>.</p>\n"},{"tags":[],"owner":{"account_id":104480,"reputation":6890,"user_id":279320,"accept_rate":76,"display_name":"Yohan Liyanage"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1306561582,"creation_date":1306561582,"answer_id":6159906,"question_id":6159047,"body_markdown":"XStream is pretty good and it does it&#39;s job well. Even for recent projects, I prefer to use XStream for use cases where it fits because it&#39;s easy to use, lightweight, and performs really well.\r\n\r\nIf you are looking at some serious bean-binding work, take a look at Simple Framework. It&#39;s also a good tool. This helped me out in one project where I needed to do some serious custom mapping work with annotations. http://simple.sourceforge.net/","title":"Modern alternative to Java XStream library?","body":"<p>XStream is pretty good and it does it's job well. Even for recent projects, I prefer to use XStream for use cases where it fits because it's easy to use, lightweight, and performs really well.</p>\n\n<p>If you are looking at some serious bean-binding work, take a look at Simple Framework. It's also a good tool. This helped me out in one project where I needed to do some serious custom mapping work with annotations. <a href=\"http://simple.sourceforge.net/\" rel=\"nofollow\">http://simple.sourceforge.net/</a></p>\n"},{"comments":[{"owner":{"account_id":931121,"reputation":21661,"user_id":961018,"accept_rate":56,"display_name":"mjs"},"score":0,"creation_date":1626800145,"post_id":6161183,"comment_id":120987873,"body_markdown":"No issues with XStream here, plenty with JAXB and Hessian. JAXB is not a able to deserialize like XStream is. See https://stackoverflow.com/questions/68454607/jboss-river-serialization-library-java-lang-negativearraysizeexception-on-certa","body":"No issues with XStream here, plenty with JAXB and Hessian. JAXB is not a able to deserialize like XStream is. See <a href=\"https://stackoverflow.com/questions/68454607/jboss-river-serialization-library-java-lang-negativearraysizeexception-on-certa\" title=\"jboss river serialization library java lang negativearraysizeexception on certa\">stackoverflow.com/questions/68454607/&hellip;</a>"}],"tags":[],"owner":{"account_id":162425,"reputation":147999,"user_id":383861,"display_name":"bdoughan"},"comment_count":1,"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1503346634,"creation_date":1306579937,"answer_id":6161183,"question_id":6159047,"body_markdown":"**Note:**  I&#39;m the [EclipseLink JAXB (MOXy)][1] lead, and a member of the JAXB ([JSR-222][2]) expert group.\r\n\r\nYou are correct in considering a libraries release frequency when making a software choice.  There are many reasons for a new product release:\r\n\r\n  - **Customer Requests** - No matter how good your library is, your user base will have improvement suggestions and feature requests.\r\n  - **Industry Developments** - Modular deployment is hot topic right now, over the past few years changes had to be made to EclipseLink to make it compatible with OSGi.\r\n  - **New Java Versions** - Java SE 7 will be released soon, while this does not necessitate a release we did need to make some tweaks in our upcoming release to ensure we were compatible.  Also over time more features will be added to leverage new Java aspects (EclipseLink requires a minimum of Java SE 5). \r\n\r\nAnother important aspect of evaluating any open source project is the number of active committers.  Sites like [ohloh.net][3] are useful for that:\r\n\r\n  - http://www.ohloh.net/p/3459\r\n\r\n&lt;hr/&gt;\r\n\r\n**JAXB (JSR-222)**\r\n\r\nJAXB is more than an implementation, it is a standard that is developed through the Java Community Process (JCP).  There have been participants from such object-to-XML libraries as XML Beans (BEA), EMF (IBM), TopLink (Oracle), etc.  Because JAXB is part of Java EE it is available in every application server: WebLogic, GlassFish, WebSphere, JBoss, etc.  \r\n\r\nJAXB Offers:\r\n\r\n   - 100% schema coverage\r\n   - Multiple implementations: [Metro][4], [EclipseLink MOXy][5], [Apache JaxMe][6], etc\r\n   - Included in Java SE 6, compatible with JDK 1.5\r\n   - Ability to start from XML schema or Java classes\r\n   - Various extension mechanisms including XmlAdapter - [Example][7]\r\n   - Option to preserve XML infoset via Binder - [Example][8]\r\n   - Binding layer for JAX-WS (Web Services)\r\n   - Binding layer for JAX-RS (Rest) - [Example][9]\r\n   - Compatible with JSON (when used with libraries such as Jettison) - [Example][10]\r\n\r\n\r\n&lt;hr/&gt;\r\n\r\n**EclipseLink JAXB (MOXy)**\r\n\r\nMOXy is a JAXB implementation that offers many useful extensions, including:\r\n\r\n***True Object to XML Mapping by Leveraging XPath***\r\n\r\nXPath based mapping allows you to start with both Java classes and an XML schema and map the two together.\r\n\r\n  - http://bdoughan.blogspot.com/2010/09/xpath-based-mapping-geocode-example.html\r\n  - http://bdoughan.blogspot.com/2011/03/map-to-element-based-on-attribute-value.html\r\n\r\n***Mapping File for Handling 3rd Party Classes***\r\n\r\nIn the current JAXB spec the metadata is supplied via annotations.  This can be problematic to use with 3rd party classes that cannot be modified. This is why MOXy offers a way to specify the mappings via XML:\r\n\r\n  - http://bdoughan.blogspot.com/2010/12/extending-jaxb-representing-annotations.html\r\n  - http://bdoughan.blogspot.com/2011/04/moxys-xml-metadata-in-jax-rs-service.html\r\n\r\n***Extensions for Mapping JPA Entities***\r\n\r\nOften times you need to do more with your Java objects then just map then to XML.  You may also need to persist them to a database.  This means your object model may have additional constraints on it that you need to account for.  MOXy offers a number of extensions for this kind of use case:\r\n\r\n  - http://bdoughan.blogspot.com/2010/07/jpa-entities-to-xml-bidirectional.html\r\n  - http://wiki.eclipse.org/EclipseLink/Examples/MOXy/JPA\r\n\r\n&lt;hr/&gt;\r\n\r\n**Comparisons**\r\n\r\nBelow are a couple comparisons I have done comparing JAXB to XStream and Simple:\r\n\r\n  - http://bdoughan.blogspot.com/2010/10/how-does-jaxb-compare-to-xstream.html\r\n  - http://bdoughan.blogspot.com/2010/10/how-does-jaxb-compare-to-simple.html\r\n\r\n\r\n  [1]: http://www.eclipse.org/eclipselink/#moxy\r\n  [2]: http://www.jcp.org/en/jsr/detail?id=222\r\n  [3]: http://www.ohloh.net\r\n  [4]: http://jaxb.java.net/\r\n  [5]: http://www.eclipse.org/eclipselink/#moxy\r\n  [6]: http://ws.apache.org/jaxme/\r\n  [7]: http://bdoughan.blogspot.com/2010/07/xmladapter-jaxbs-secret-weapon.html\r\n  [8]: http://bdoughan.blogspot.com/2010/09/jaxb-xml-infoset-preservation.html\r\n  [9]: http://bdoughan.blogspot.com/2010/08/creating-restful-web-service-part-35.html\r\n  [10]: http://bdoughan.blogspot.com/2011/04/jaxb-and-json-via-jettison.html","title":"Modern alternative to Java XStream library?","body":"<p><strong>Note:</strong>  I'm the <a href=\"http://www.eclipse.org/eclipselink/#moxy\" rel=\"nofollow noreferrer\">EclipseLink JAXB (MOXy)</a> lead, and a member of the JAXB (<a href=\"http://www.jcp.org/en/jsr/detail?id=222\" rel=\"nofollow noreferrer\">JSR-222</a>) expert group.</p>\n\n<p>You are correct in considering a libraries release frequency when making a software choice.  There are many reasons for a new product release:</p>\n\n<ul>\n<li><strong>Customer Requests</strong> - No matter how good your library is, your user base will have improvement suggestions and feature requests.</li>\n<li><strong>Industry Developments</strong> - Modular deployment is hot topic right now, over the past few years changes had to be made to EclipseLink to make it compatible with OSGi.</li>\n<li><strong>New Java Versions</strong> - Java SE 7 will be released soon, while this does not necessitate a release we did need to make some tweaks in our upcoming release to ensure we were compatible.  Also over time more features will be added to leverage new Java aspects (EclipseLink requires a minimum of Java SE 5). </li>\n</ul>\n\n<p>Another important aspect of evaluating any open source project is the number of active committers.  Sites like <a href=\"http://www.ohloh.net\" rel=\"nofollow noreferrer\">ohloh.net</a> are useful for that:</p>\n\n<ul>\n<li><a href=\"http://www.ohloh.net/p/3459\" rel=\"nofollow noreferrer\">http://www.ohloh.net/p/3459</a></li>\n</ul>\n\n<hr/>\n\n<p><strong>JAXB (JSR-222)</strong></p>\n\n<p>JAXB is more than an implementation, it is a standard that is developed through the Java Community Process (JCP).  There have been participants from such object-to-XML libraries as XML Beans (BEA), EMF (IBM), TopLink (Oracle), etc.  Because JAXB is part of Java EE it is available in every application server: WebLogic, GlassFish, WebSphere, JBoss, etc.  </p>\n\n<p>JAXB Offers:</p>\n\n<ul>\n<li>100% schema coverage</li>\n<li>Multiple implementations: <a href=\"http://jaxb.java.net/\" rel=\"nofollow noreferrer\">Metro</a>, <a href=\"http://www.eclipse.org/eclipselink/#moxy\" rel=\"nofollow noreferrer\">EclipseLink MOXy</a>, <a href=\"http://ws.apache.org/jaxme/\" rel=\"nofollow noreferrer\">Apache JaxMe</a>, etc</li>\n<li>Included in Java SE 6, compatible with JDK 1.5</li>\n<li>Ability to start from XML schema or Java classes</li>\n<li>Various extension mechanisms including XmlAdapter - <a href=\"http://bdoughan.blogspot.com/2010/07/xmladapter-jaxbs-secret-weapon.html\" rel=\"nofollow noreferrer\">Example</a></li>\n<li>Option to preserve XML infoset via Binder - <a href=\"http://bdoughan.blogspot.com/2010/09/jaxb-xml-infoset-preservation.html\" rel=\"nofollow noreferrer\">Example</a></li>\n<li>Binding layer for JAX-WS (Web Services)</li>\n<li>Binding layer for JAX-RS (Rest) - <a href=\"http://bdoughan.blogspot.com/2010/08/creating-restful-web-service-part-35.html\" rel=\"nofollow noreferrer\">Example</a></li>\n<li>Compatible with JSON (when used with libraries such as Jettison) - <a href=\"http://bdoughan.blogspot.com/2011/04/jaxb-and-json-via-jettison.html\" rel=\"nofollow noreferrer\">Example</a></li>\n</ul>\n\n<hr/>\n\n<p><strong>EclipseLink JAXB (MOXy)</strong></p>\n\n<p>MOXy is a JAXB implementation that offers many useful extensions, including:</p>\n\n<p><strong><em>True Object to XML Mapping by Leveraging XPath</em></strong></p>\n\n<p>XPath based mapping allows you to start with both Java classes and an XML schema and map the two together.</p>\n\n<ul>\n<li><a href=\"http://bdoughan.blogspot.com/2010/09/xpath-based-mapping-geocode-example.html\" rel=\"nofollow noreferrer\">http://bdoughan.blogspot.com/2010/09/xpath-based-mapping-geocode-example.html</a></li>\n<li><a href=\"http://bdoughan.blogspot.com/2011/03/map-to-element-based-on-attribute-value.html\" rel=\"nofollow noreferrer\">http://bdoughan.blogspot.com/2011/03/map-to-element-based-on-attribute-value.html</a></li>\n</ul>\n\n<p><strong><em>Mapping File for Handling 3rd Party Classes</em></strong></p>\n\n<p>In the current JAXB spec the metadata is supplied via annotations.  This can be problematic to use with 3rd party classes that cannot be modified. This is why MOXy offers a way to specify the mappings via XML:</p>\n\n<ul>\n<li><a href=\"http://bdoughan.blogspot.com/2010/12/extending-jaxb-representing-annotations.html\" rel=\"nofollow noreferrer\">http://bdoughan.blogspot.com/2010/12/extending-jaxb-representing-annotations.html</a></li>\n<li><a href=\"http://bdoughan.blogspot.com/2011/04/moxys-xml-metadata-in-jax-rs-service.html\" rel=\"nofollow noreferrer\">http://bdoughan.blogspot.com/2011/04/moxys-xml-metadata-in-jax-rs-service.html</a></li>\n</ul>\n\n<p><strong><em>Extensions for Mapping JPA Entities</em></strong></p>\n\n<p>Often times you need to do more with your Java objects then just map then to XML.  You may also need to persist them to a database.  This means your object model may have additional constraints on it that you need to account for.  MOXy offers a number of extensions for this kind of use case:</p>\n\n<ul>\n<li><a href=\"http://bdoughan.blogspot.com/2010/07/jpa-entities-to-xml-bidirectional.html\" rel=\"nofollow noreferrer\">http://bdoughan.blogspot.com/2010/07/jpa-entities-to-xml-bidirectional.html</a></li>\n<li><a href=\"http://wiki.eclipse.org/EclipseLink/Examples/MOXy/JPA\" rel=\"nofollow noreferrer\">http://wiki.eclipse.org/EclipseLink/Examples/MOXy/JPA</a></li>\n</ul>\n\n<hr/>\n\n<p><strong>Comparisons</strong></p>\n\n<p>Below are a couple comparisons I have done comparing JAXB to XStream and Simple:</p>\n\n<ul>\n<li><a href=\"http://bdoughan.blogspot.com/2010/10/how-does-jaxb-compare-to-xstream.html\" rel=\"nofollow noreferrer\">http://bdoughan.blogspot.com/2010/10/how-does-jaxb-compare-to-xstream.html</a></li>\n<li><a href=\"http://bdoughan.blogspot.com/2010/10/how-does-jaxb-compare-to-simple.html\" rel=\"nofollow noreferrer\">http://bdoughan.blogspot.com/2010/10/how-does-jaxb-compare-to-simple.html</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":132623,"reputation":278,"user_id":333432,"accept_rate":86,"display_name":"cuttcards"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1390401993,"creation_date":1390401993,"answer_id":21286060,"question_id":6159047,"body_markdown":"XStream 1.4.6 was released in Dec 2013, with Java 8 improvements, so the library HAS been updated since 2008.","title":"Modern alternative to Java XStream library?","body":"<p>XStream 1.4.6 was released in Dec 2013, with Java 8 improvements, so the library HAS been updated since 2008.</p>\n"},{"tags":[],"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1574618248,"creation_date":1574618248,"answer_id":59020720,"question_id":6159047,"body_markdown":"[Underscore-java][1] can read and write xml files. I am the maintainer of the project. Java 11+ is supported.\r\n\r\n\r\n  [1]: https://github.com/javadev/underscore-java","title":"Modern alternative to Java XStream library?","body":"<p><a href=\"https://github.com/javadev/underscore-java\" rel=\"nofollow noreferrer\">Underscore-java</a> can read and write xml files. I am the maintainer of the project. Java 11+ is supported.</p>\n"}],"owner":{"account_id":198952,"reputation":4913,"user_id":443928,"accept_rate":91,"display_name":"Eli Schneider"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18464,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"accepted_answer_id":6159089,"answer_count":6,"score":16,"last_activity_date":1696575395,"creation_date":1306545071,"question_id":6159047,"body_markdown":"I used XStream many years ago, but I see that the libraries is not updated since 2008 ([latest news](http://xstream.codehaus.org/)).  Is there now a more modern and up to dates Java XML serialization library?\r\n","title":"Modern alternative to Java XStream library?","body":"<p>I used XStream many years ago, but I see that the libraries is not updated since 2008 (<a href=\"http://xstream.codehaus.org/\" rel=\"noreferrer\">latest news</a>).  Is there now a more modern and up to dates Java XML serialization library?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":465573,"reputation":192703,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":3,"creation_date":1696438385,"post_id":77231523,"comment_id":136154009,"body_markdown":"#2 seems reasonable and appropriate.","body":"#2 seems reasonable and appropriate."},{"owner":{"account_id":20856230,"reputation":11,"user_id":15319480,"display_name":"BDR"},"score":0,"creation_date":1696439333,"post_id":77231523,"comment_id":136154197,"body_markdown":"@Progman Thank you for your reply, No it does not answer my question as I have used that in my method #2. My question is essentially \nI want to put the Scanner in the argument for the constructor of Employee in the following shape:\n\nEmployee E1 = new Employee (input.nextInt(), input.nextLine());","body":"@Progman Thank you for your reply, No it does not answer my question as I have used that in my method #2. My question is essentially  I want to put the Scanner in the argument for the constructor of Employee in the following shape:  Employee E1 = new Employee (input.nextInt(), input.nextLine());"},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1696441218,"post_id":77231523,"comment_id":136154587,"body_markdown":"You could also create your own class that wraps Scanner and provides an API suited to your needs. But you need to consider what happens if the user enters &quot;ABC&quot; for the integer.","body":"You could also create your own class that wraps Scanner and provides an API suited to your needs. But you need to consider what happens if the user enters &quot;ABC&quot; for the integer."}],"answers":[{"comments":[{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":1,"creation_date":1696441145,"post_id":77231826,"comment_id":136154566,"body_markdown":"Even with `input.nextInt()` the results won&#39;t be very nice if the user doesn&#39;t actually enter an integer.","body":"Even with <code>input.nextInt()</code> the results won&#39;t be very nice if the user doesn&#39;t actually enter an integer."},{"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"score":1,"creation_date":1696441317,"post_id":77231826,"comment_id":136154603,"body_markdown":"Agreed. Most probably the author of the question is not concerned about input validation.","body":"Agreed. Most probably the author of the question is not concerned about input validation."}],"tags":[],"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"comment_count":2,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696441070,"creation_date":1696441070,"answer_id":77231826,"question_id":77231523,"body_markdown":"You can use [Integer.parseInt()](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html#parseInt(java.lang.String)) method if you are certain the user input will be an integer.\r\n\r\n```\r\nSystem.out.println(&quot;Enter the ID number followed by the First and Last Name of the Employee&quot;);\r\nEmployee E1 = new Employee(Integer.parseInt(input.nextLine()), input.nextLine());\r\n``` \r\nBut you will get a `NumberFormatException` if the input can not be parsed to be an integer.","title":"How the Scanner class Handles input","body":"<p>You can use <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/lang/Integer.html#parseInt(java.lang.String)\" rel=\"nofollow noreferrer\">Integer.parseInt()</a> method if you are certain the user input will be an integer.</p>\n<pre><code>System.out.println(&quot;Enter the ID number followed by the First and Last Name of the Employee&quot;);\nEmployee E1 = new Employee(Integer.parseInt(input.nextLine()), input.nextLine());\n</code></pre>\n<p>But you will get a <code>NumberFormatException</code> if the input can not be parsed to be an integer.</p>\n"},{"tags":[],"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696574632,"creation_date":1696574632,"answer_id":77242329,"question_id":77231523,"body_markdown":"`&quot;I have two methods I can do to over come this problem, but I want to see what the professional developers would do.&quot;`\r\n\r\nNow, I&#39;m no *professional developer* (just a hobby) but this is how I would do it. I personally wouldn&#39;t use the **Scanner#nextInt()** method or any other `.nextFoo()` method for that matter, except for **Scanner#nextLine()**. I would use `.nextLine()` for everything. For example, below is a runnable which is basically the same concept except with User Input Validation (read the comments in code):\r\n\r\n```\r\npublic class EmployeeEntryDemo {\r\n\r\n    // OS dependent newline character sequence:\r\n    final String ls = System.lineSeparator();\r\n        \r\n    // Declare a Scanner object and Open a keyboard input stream:\r\n    final java.util.Scanner userInput = new java.util.Scanner(System.in);\r\n        \r\n    // List Interface of Employee to hold instaces of Employee:\r\n    java.util.List&lt;Employee&gt; employeeList = new java.util.ArrayList&lt;&gt;();\r\n\r\n    \r\n    public static void main(String[] args) {\r\n        /* App started this way to avoid the need \r\n           for statics (unless we want them):  */\r\n        new EmployeeEntryDemo().startApp(args);\r\n    }\r\n    \r\n    private void startApp(String[] args) {\r\n        String id;              // A string variable to temp hold Employee ID:\r\n        String name;            // A string variable to temp hold Employee Name:\r\n        int employeeCount = 0;  // An integer variable to keep count of employees entered.\r\n        // Inform requirements:\r\n        System.out.println(&quot;Supply any number of Employees:&quot; + ls\r\n                         + &quot;-------------------------------&quot; + ls);\r\n        \r\n        // OUTER LOOP:\r\n        boolean quit = false;  // Flag for outer `while` loop condition\r\n        while (!quit) {\r\n            employeeCount++;\r\n            // PROMPT #1:\r\n            // GET EMPLOYEE ID FROM USER (as many times as desired):\r\n            id = &quot;&quot;;        // Used for inner `while` loop condition:\r\n            // Keep looping while id is empty (Null String (&quot;&quot;))\r\n            while (id.isEmpty()) {\r\n                // Prompt:\r\n                System.out.println(&quot;Enter the employee #&quot; + employeeCount \r\n                                  + &quot; unique ID number or,&quot;);\r\n                System.out.print(&quot;enter &#39;A&#39; to auto-generate (&#39;D&#39; when done): -&gt; &quot;);\r\n                // Get User input and trim off leading/trailing white-spaces (if any):\r\n                id = userInput.nextLine().trim(); \r\n                \r\n                // Has &#39;d&#39; for `Done` been entered?\r\n                if (id.equalsIgnoreCase(&quot;d&quot;)) {\r\n                    // Yes...set the `quit` flag to boolean true;\r\n                    quit = true;\r\n                    employeeCount--;  // Remove 1 from employeeCount:\r\n                    break;  // Break out of this inner loop:\r\n                }\r\n                // Otherwise, has &#39;a&#39; for auto=generate ID been entered?\r\n                else if (id.equalsIgnoreCase(&quot;a&quot;)) {\r\n                    // Yes... Is the employeeList empty?\r\n                    if (employeeList.isEmpty()) {\r\n                        // Yes...Then we can start IDs at 1\r\n                        id = &quot;1&quot;;\r\n                    }\r\n                    // No...employeeList is not empty...\r\n                    else {\r\n                        // Generate a unique ID value...\r\n                        int max = Integer.MIN_VALUE;\r\n                        // Add 1 to the highest ID value in the employeeList List:\r\n                        for (Employee emp : employeeList) {\r\n                            if (emp.ID &gt; max) {\r\n                                max = emp.ID;\r\n                            }\r\n                        }\r\n                        id = String.valueOf((max + 1)); \r\n                    }\r\n                }\r\n                /* No...Hopefully, just an ID value was supplied. Validate the fact:\r\n                   Is the supplied string the representation of an unsigned integer \r\n                   value and, is it unique (not already used within the `employeeList`\r\n                   List)?                */\r\n                if (!id.matches(&quot;\\\\d+&quot;) || !isID_Unique(employeeList, Integer.parseInt(id))) {\r\n                    /* No...Inform the User of an invalid entry and allow to try again.\r\n                       If the ID number supplied is an string integer but is not unique\r\n                       (has been used previously) then inform as well within the same \r\n                       message. Ternary Operator is used for this:                */\r\n                    System.out.println(&quot;Invalid ID (&quot; + id + &quot;) Entry! &quot; + \r\n                                (id.matches(&quot;\\\\d+&quot;) ? &quot;ID is already in use! &quot; : &quot;&quot;) \r\n                                + &quot;Try Again...&quot; + ls);\r\n                    id = &quot;&quot;;  // Empty `id` to ensure re-loop:\r\n                }\r\n            }\r\n            // End Of Prompt #1 Inner Loop:\r\n            // If we made it to this point in code, then the ID is valid!\r\n            \r\n            // Was the `quit` flag set to boolean true from inner loop?\r\n            if (quit) {\r\n                // Yes..Then break out of this Outer loop:\r\n                break;\r\n            }\r\n            \r\n            // Display the determined unique ID number:\r\n            System.out.println(&quot;Unique ID: &quot; + id + ls);\r\n\r\n            // PROMPT #2:\r\n            // GET EMPLOYEE NAME FROM USER:\r\n            name = &quot;&quot;;        // Used for 2nd inner `while` loop condition:\r\n            // Keep looping while name is empty (Null String (&quot;&quot;))\r\n            while (name.isEmpty()) {\r\n                // Prompt:\r\n                System.out.print(&quot;Enter the employee #&quot; + employeeCount + &quot; name: -&gt; &quot;);\r\n                \r\n                // Get User input and trim off leading/trailing white-spaces (if any):\r\n                name = userInput.nextLine().trim();\r\n                \r\n                /* If no name was supplied or the name contains numerical digits\r\n                   then inform the User of an Invalid Name Entry and allow to try \r\n                   again:  */\r\n                if (name.isEmpty() || name.replaceAll(&quot;\\\\D&quot;, &quot;&quot;).length() &gt; 0) {\r\n                    System.out.println(&quot;Invalid Name (&quot; + name + &quot;) Entry! The name &quot;\r\n                            + &quot;must contain something and can not contain digits!&quot;);\r\n                    name = &quot;&quot;;  // Empty `name` to ensure re-loop:\r\n                }\r\n            }\r\n            // End Of Prompt #2 Inner Loop:\r\n            // If we made it to this point in code, then the Name is valid!\r\n\r\n            // Create and add the Employee instance to the `employeeList` List:\r\n            employeeList.add(new Employee(Integer.parseInt(id), name));\r\n            \r\n            System.out.println();   // Add a blank line for Prompt aesthetics.\r\n        }\r\n        // End Of Outer Loop\r\n\r\n        /* Display any collected instances of Employee within the \r\n           Console Window in a table type format (See the Employee\r\n           class `toTableString()` method):           */\r\n        if (!employeeList.isEmpty()) {\r\n            // Display a Title:\r\n            String displayTitle = &quot;Employees List (&quot; + employeeCount + &quot; employees):&quot;;\r\n            // String#join() is used below but if Java11+ then you can use String#repaeat():\r\n            String displayTitleUL = String.join(&quot;&quot;, java.util.Collections.nCopies(displayTitle.length(), &quot;=&quot;));\r\n            System.out.println(ls + displayTitle + ls + displayTitleUL + ls);\r\n            \r\n            // Display the header and table data:\r\n            for (int i = 0; i &lt; employeeList.size(); i++) {\r\n                // Ternary Operator is used here:\r\n                System.out.println(\r\n                        (i == 0 ? employeeList.get(i).toTableString(true) \r\n                                : employeeList.get(i).toTableString())\r\n                        );\r\n            }\r\n        }\r\n        \r\n        // Indicate Quiting:\r\n        System.out.println(ls + &quot;Quiting - Bye Bye&quot; + ls);\r\n    }\r\n    \r\n    /**\r\n     * A Helper Method to check if the supplied ID number is unique. This means \r\n     * that the supplied ID number does not already exist within the `employeeList` \r\n     * List.&lt;br&gt;&lt;br&gt;\r\n     * \r\n     * @param list ( {@code List&lt;Employee&gt; })&lt;br&gt;\r\n     * \r\n     * @param id (int) The Integer ID value to check for uniqueness.&lt;br&gt;\r\n     * \r\n     * @return (boolean) Boolean true if the supplied Integer is deemed to be \r\n     * unique and boolean false if it is not unique.\r\n     */\r\n    public static boolean isID_Unique(java.util.List&lt;Employee&gt; list, int id) {\r\n        boolean result = true;\r\n        if (!list.isEmpty()) { \r\n            for (Employee emp : list) {\r\n                if (emp.ID == id) {\r\n                    result = false;\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    \r\n    \r\n    // INNER CLASS: (should be a .java class file on its own - here as demo only):\r\n    public class Employee {\r\n        \r\n        // Class member (instance) variables:\r\n        int ID;\r\n        String name;\r\n\r\n        // Constructor:\r\n        public Employee(int ID, String name) {\r\n            this.ID = ID;\r\n            this.name = name;\r\n        }\r\n\r\n        /**\r\n         * A Table style toString() method.&lt;br&gt;&lt;br&gt;\r\n         * \r\n         * @param applyHeader (Optional - Boolean VarArg) Default is false. If \r\n         * nothing is supplied, then default false will be implied and no header \r\n         * will be returned with the table data. If boolean true is supplied, \r\n         * then a an underlined header string will be applied the the returned\r\n         * table data.&lt;br&gt;\r\n         * \r\n         * @return (String) Employee class member variables data in a table\r\n         * style string format:\r\n         */\r\n        public String toTableString(Boolean... applyHeader) {\r\n            /* A boolean flag to indicate whether or not a \r\n               header should also be returned. Default false \r\n               which means - NO                */\r\n            boolean addHeader = false; \r\n            if (applyHeader.length &gt; 0) {\r\n                addHeader = applyHeader[0];\r\n            }\r\n            String ls = System.lineSeparator();\r\n            String header = String.format(&quot;%-12s %-15s%n&quot;, &quot;ID&quot;, &quot;Employee Name&quot;);\r\n            // String#join() is used below but if Java11+ then you can use String#repaeat():\r\n            String underline = String.join(&quot;&quot;, java.util.Collections.nCopies(header.length(), &quot;-&quot;)) + ls;\r\n            StringBuilder sb = new StringBuilder(&quot;&quot;);\r\n            \r\n            if (addHeader) {\r\n                sb.append(header).append(underline);\r\n            }\r\n            sb.append(String.format(&quot;%-12d %-15s&quot;, ID, name));\r\n            return sb.toString();\r\n        }\r\n    }\r\n        \r\n}\r\n```","title":"How the Scanner class Handles input","body":"<p><code>&quot;I have two methods I can do to over come this problem, but I want to see what the professional developers would do.&quot;</code></p>\n<p>Now, I'm no <em>professional developer</em> (just a hobby) but this is how I would do it. I personally wouldn't use the <strong>Scanner#nextInt()</strong> method or any other <code>.nextFoo()</code> method for that matter, except for <strong>Scanner#nextLine()</strong>. I would use <code>.nextLine()</code> for everything. For example, below is a runnable which is basically the same concept except with User Input Validation (read the comments in code):</p>\n<pre><code>public class EmployeeEntryDemo {\n\n    // OS dependent newline character sequence:\n    final String ls = System.lineSeparator();\n        \n    // Declare a Scanner object and Open a keyboard input stream:\n    final java.util.Scanner userInput = new java.util.Scanner(System.in);\n        \n    // List Interface of Employee to hold instaces of Employee:\n    java.util.List&lt;Employee&gt; employeeList = new java.util.ArrayList&lt;&gt;();\n\n    \n    public static void main(String[] args) {\n        /* App started this way to avoid the need \n           for statics (unless we want them):  */\n        new EmployeeEntryDemo().startApp(args);\n    }\n    \n    private void startApp(String[] args) {\n        String id;              // A string variable to temp hold Employee ID:\n        String name;            // A string variable to temp hold Employee Name:\n        int employeeCount = 0;  // An integer variable to keep count of employees entered.\n        // Inform requirements:\n        System.out.println(&quot;Supply any number of Employees:&quot; + ls\n                         + &quot;-------------------------------&quot; + ls);\n        \n        // OUTER LOOP:\n        boolean quit = false;  // Flag for outer `while` loop condition\n        while (!quit) {\n            employeeCount++;\n            // PROMPT #1:\n            // GET EMPLOYEE ID FROM USER (as many times as desired):\n            id = &quot;&quot;;        // Used for inner `while` loop condition:\n            // Keep looping while id is empty (Null String (&quot;&quot;))\n            while (id.isEmpty()) {\n                // Prompt:\n                System.out.println(&quot;Enter the employee #&quot; + employeeCount \n                                  + &quot; unique ID number or,&quot;);\n                System.out.print(&quot;enter 'A' to auto-generate ('D' when done): -&gt; &quot;);\n                // Get User input and trim off leading/trailing white-spaces (if any):\n                id = userInput.nextLine().trim(); \n                \n                // Has 'd' for `Done` been entered?\n                if (id.equalsIgnoreCase(&quot;d&quot;)) {\n                    // Yes...set the `quit` flag to boolean true;\n                    quit = true;\n                    employeeCount--;  // Remove 1 from employeeCount:\n                    break;  // Break out of this inner loop:\n                }\n                // Otherwise, has 'a' for auto=generate ID been entered?\n                else if (id.equalsIgnoreCase(&quot;a&quot;)) {\n                    // Yes... Is the employeeList empty?\n                    if (employeeList.isEmpty()) {\n                        // Yes...Then we can start IDs at 1\n                        id = &quot;1&quot;;\n                    }\n                    // No...employeeList is not empty...\n                    else {\n                        // Generate a unique ID value...\n                        int max = Integer.MIN_VALUE;\n                        // Add 1 to the highest ID value in the employeeList List:\n                        for (Employee emp : employeeList) {\n                            if (emp.ID &gt; max) {\n                                max = emp.ID;\n                            }\n                        }\n                        id = String.valueOf((max + 1)); \n                    }\n                }\n                /* No...Hopefully, just an ID value was supplied. Validate the fact:\n                   Is the supplied string the representation of an unsigned integer \n                   value and, is it unique (not already used within the `employeeList`\n                   List)?                */\n                if (!id.matches(&quot;\\\\d+&quot;) || !isID_Unique(employeeList, Integer.parseInt(id))) {\n                    /* No...Inform the User of an invalid entry and allow to try again.\n                       If the ID number supplied is an string integer but is not unique\n                       (has been used previously) then inform as well within the same \n                       message. Ternary Operator is used for this:                */\n                    System.out.println(&quot;Invalid ID (&quot; + id + &quot;) Entry! &quot; + \n                                (id.matches(&quot;\\\\d+&quot;) ? &quot;ID is already in use! &quot; : &quot;&quot;) \n                                + &quot;Try Again...&quot; + ls);\n                    id = &quot;&quot;;  // Empty `id` to ensure re-loop:\n                }\n            }\n            // End Of Prompt #1 Inner Loop:\n            // If we made it to this point in code, then the ID is valid!\n            \n            // Was the `quit` flag set to boolean true from inner loop?\n            if (quit) {\n                // Yes..Then break out of this Outer loop:\n                break;\n            }\n            \n            // Display the determined unique ID number:\n            System.out.println(&quot;Unique ID: &quot; + id + ls);\n\n            // PROMPT #2:\n            // GET EMPLOYEE NAME FROM USER:\n            name = &quot;&quot;;        // Used for 2nd inner `while` loop condition:\n            // Keep looping while name is empty (Null String (&quot;&quot;))\n            while (name.isEmpty()) {\n                // Prompt:\n                System.out.print(&quot;Enter the employee #&quot; + employeeCount + &quot; name: -&gt; &quot;);\n                \n                // Get User input and trim off leading/trailing white-spaces (if any):\n                name = userInput.nextLine().trim();\n                \n                /* If no name was supplied or the name contains numerical digits\n                   then inform the User of an Invalid Name Entry and allow to try \n                   again:  */\n                if (name.isEmpty() || name.replaceAll(&quot;\\\\D&quot;, &quot;&quot;).length() &gt; 0) {\n                    System.out.println(&quot;Invalid Name (&quot; + name + &quot;) Entry! The name &quot;\n                            + &quot;must contain something and can not contain digits!&quot;);\n                    name = &quot;&quot;;  // Empty `name` to ensure re-loop:\n                }\n            }\n            // End Of Prompt #2 Inner Loop:\n            // If we made it to this point in code, then the Name is valid!\n\n            // Create and add the Employee instance to the `employeeList` List:\n            employeeList.add(new Employee(Integer.parseInt(id), name));\n            \n            System.out.println();   // Add a blank line for Prompt aesthetics.\n        }\n        // End Of Outer Loop\n\n        /* Display any collected instances of Employee within the \n           Console Window in a table type format (See the Employee\n           class `toTableString()` method):           */\n        if (!employeeList.isEmpty()) {\n            // Display a Title:\n            String displayTitle = &quot;Employees List (&quot; + employeeCount + &quot; employees):&quot;;\n            // String#join() is used below but if Java11+ then you can use String#repaeat():\n            String displayTitleUL = String.join(&quot;&quot;, java.util.Collections.nCopies(displayTitle.length(), &quot;=&quot;));\n            System.out.println(ls + displayTitle + ls + displayTitleUL + ls);\n            \n            // Display the header and table data:\n            for (int i = 0; i &lt; employeeList.size(); i++) {\n                // Ternary Operator is used here:\n                System.out.println(\n                        (i == 0 ? employeeList.get(i).toTableString(true) \n                                : employeeList.get(i).toTableString())\n                        );\n            }\n        }\n        \n        // Indicate Quiting:\n        System.out.println(ls + &quot;Quiting - Bye Bye&quot; + ls);\n    }\n    \n    /**\n     * A Helper Method to check if the supplied ID number is unique. This means \n     * that the supplied ID number does not already exist within the `employeeList` \n     * List.&lt;br&gt;&lt;br&gt;\n     * \n     * @param list ( {@code List&lt;Employee&gt; })&lt;br&gt;\n     * \n     * @param id (int) The Integer ID value to check for uniqueness.&lt;br&gt;\n     * \n     * @return (boolean) Boolean true if the supplied Integer is deemed to be \n     * unique and boolean false if it is not unique.\n     */\n    public static boolean isID_Unique(java.util.List&lt;Employee&gt; list, int id) {\n        boolean result = true;\n        if (!list.isEmpty()) { \n            for (Employee emp : list) {\n                if (emp.ID == id) {\n                    result = false;\n                    break;\n                }\n            }\n        }\n        return result;\n    }\n    \n    \n    // INNER CLASS: (should be a .java class file on its own - here as demo only):\n    public class Employee {\n        \n        // Class member (instance) variables:\n        int ID;\n        String name;\n\n        // Constructor:\n        public Employee(int ID, String name) {\n            this.ID = ID;\n            this.name = name;\n        }\n\n        /**\n         * A Table style toString() method.&lt;br&gt;&lt;br&gt;\n         * \n         * @param applyHeader (Optional - Boolean VarArg) Default is false. If \n         * nothing is supplied, then default false will be implied and no header \n         * will be returned with the table data. If boolean true is supplied, \n         * then a an underlined header string will be applied the the returned\n         * table data.&lt;br&gt;\n         * \n         * @return (String) Employee class member variables data in a table\n         * style string format:\n         */\n        public String toTableString(Boolean... applyHeader) {\n            /* A boolean flag to indicate whether or not a \n               header should also be returned. Default false \n               which means - NO                */\n            boolean addHeader = false; \n            if (applyHeader.length &gt; 0) {\n                addHeader = applyHeader[0];\n            }\n            String ls = System.lineSeparator();\n            String header = String.format(&quot;%-12s %-15s%n&quot;, &quot;ID&quot;, &quot;Employee Name&quot;);\n            // String#join() is used below but if Java11+ then you can use String#repaeat():\n            String underline = String.join(&quot;&quot;, java.util.Collections.nCopies(header.length(), &quot;-&quot;)) + ls;\n            StringBuilder sb = new StringBuilder(&quot;&quot;);\n            \n            if (addHeader) {\n                sb.append(header).append(underline);\n            }\n            sb.append(String.format(&quot;%-12d %-15s&quot;, ID, name));\n            return sb.toString();\n        }\n    }\n        \n}\n</code></pre>\n"}],"owner":{"account_id":20856230,"reputation":11,"user_id":15319480,"display_name":"BDR"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1696574771,"answer_count":2,"score":1,"last_activity_date":1696574632,"creation_date":1696438184,"question_id":77231523,"body_markdown":"I am facing a problem with .nextInt() leaving off \\n in the input \r\nwhen I call .nextLine() after .nextInt(), the .nextLine() does not read a String from me because it consumes the \\n left off by the .nextInt() \r\n\r\n\r\n```java\r\npublic class Employee\r\n{\r\n\r\n    private String name;\r\n    private int ID;\r\n\r\n    public Employee (int ID, String name)\r\n    {\r\n       this.name = name;\r\n       this.ID = ID;\r\n    }\r\n\r\n}\r\n```\r\n\r\nthe main method is \r\n\r\n```\r\nSystem.out.println(&quot;Enter the ID number followed by the First and Last Name of the Employee&quot;);\r\nEmployee E1 = new Employee (input.nextInt(), input.nextLine());\r\n\r\n```\r\nThe first parameter in the object E1 accepts input, for example 5000\r\nbut the second parameter does not accept anything because it reads the \\n left by the input 5000\\n left off by the .nextInt()\r\n\r\nI have two methods I can do to over come this problem, but I want to see what the professional developers would do. \r\n\r\n1. in the constructor, switch the places of the parameters (int ID, String name) to (String name, int ID) and then in the main method you would have\r\n\r\n    ```\r\n    Employee E1 = new Employee (input.nextLine(), input.nextInt());\r\n    ```\r\n\r\n2. Define variables in the main method called String name and int ID\r\n\r\n    ```\r\n    int ID = input.nextInt();\r\n    input.nextLine();           // this consumes the \\n left off by the input.nextInt()\r\n    String name = input.nextLine(); \r\n    Employee E1 = new Employee (ID, name);\r\n    ```\r\n\r\nHow would you solve this problem?","title":"How the Scanner class Handles input","body":"<p>I am facing a problem with .nextInt() leaving off \\n in the input\nwhen I call .nextLine() after .nextInt(), the .nextLine() does not read a String from me because it consumes the \\n left off by the .nextInt()</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Employee\n{\n\n    private String name;\n    private int ID;\n\n    public Employee (int ID, String name)\n    {\n       this.name = name;\n       this.ID = ID;\n    }\n\n}\n</code></pre>\n<p>the main method is</p>\n<pre><code>System.out.println(&quot;Enter the ID number followed by the First and Last Name of the Employee&quot;);\nEmployee E1 = new Employee (input.nextInt(), input.nextLine());\n\n</code></pre>\n<p>The first parameter in the object E1 accepts input, for example 5000\nbut the second parameter does not accept anything because it reads the \\n left by the input 5000\\n left off by the .nextInt()</p>\n<p>I have two methods I can do to over come this problem, but I want to see what the professional developers would do.</p>\n<ol>\n<li><p>in the constructor, switch the places of the parameters (int ID, String name) to (String name, int ID) and then in the main method you would have</p>\n<pre><code>Employee E1 = new Employee (input.nextLine(), input.nextInt());\n</code></pre>\n</li>\n<li><p>Define variables in the main method called String name and int ID</p>\n<pre><code>int ID = input.nextInt();\ninput.nextLine();           // this consumes the \\n left off by the input.nextInt()\nString name = input.nextLine(); \nEmployee E1 = new Employee (ID, name);\n</code></pre>\n</li>\n</ol>\n<p>How would you solve this problem?</p>\n"},{"tags":["java","spring","spring-data-jpa","spring-annotations"],"comments":[{"owner":{"account_id":9242418,"reputation":605,"user_id":6865356,"display_name":"Dan Brandt"},"score":23,"creation_date":1536670809,"post_id":43665090,"comment_id":91500704,"body_markdown":"@Transactional annotation in Repository is bad practice, better to use it in your **Service**. Cause one business action (marked as transaction) may consist of multiple requests to DB. even by several DAO. More here https://stackoverflow.com/questions/1079114/where-does-the-transactional-annotation-belong","body":"@Transactional annotation in Repository is bad practice, better to use it in your <b>Service</b>. Cause one business action (marked as transaction) may consist of multiple requests to DB. even by several DAO. More here <a href=\"https://stackoverflow.com/questions/1079114/where-does-the-transactional-annotation-belong\" title=\"where does the transactional annotation belong\">stackoverflow.com/questions/1079114/&hellip;</a>"},{"owner":{"account_id":3303925,"reputation":2096,"user_id":2779330,"accept_rate":60,"display_name":"Bojan Vukasovic"},"score":1,"creation_date":1562767806,"post_id":43665090,"comment_id":100481424,"body_markdown":"@DanBrandt unless you have custom repo implementation with custom method that has to execute multiple queries as one transaction (eq. count all records, select 10 ids, select records by id, return all this data in 1 object).","body":"@DanBrandt unless you have custom repo implementation with custom method that has to execute multiple queries as one transaction (eq. count all records, select 10 ids, select records by id, return all this data in 1 object)."}],"answers":[{"comments":[{"owner":{"account_id":1692834,"reputation":2228,"user_id":1554878,"accept_rate":0,"display_name":"justMe"},"score":0,"creation_date":1551708748,"post_id":43665159,"comment_id":96727708,"body_markdown":"In recent JPA version both flags clearAutomatically and flushAutomatically set to false by default so if you want to clear or flush then the flag has to be set to true.","body":"In recent JPA version both flags clearAutomatically and flushAutomatically set to false by default so if you want to clear or flush then the flag has to be set to true."},{"owner":{"account_id":7929172,"reputation":1797,"user_id":6059506,"accept_rate":77,"display_name":"theprogrammer"},"score":2,"creation_date":1625359167,"post_id":43665159,"comment_id":120606502,"body_markdown":"@justMe So are you saying that in recent versions, if we include modifying annotation alone without any properties like flush or clear, then this annotation is useless and does nothing?","body":"@justMe So are you saying that in recent versions, if we include modifying annotation alone without any properties like flush or clear, then this annotation is useless and does nothing?"},{"owner":{"account_id":1692834,"reputation":2228,"user_id":1554878,"accept_rate":0,"display_name":"justMe"},"score":2,"creation_date":1625468209,"post_id":43665159,"comment_id":120625369,"body_markdown":"@theprogrammer all I am saying is those flags set to false by default doc here https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/Modifying.html, in regards to what happens if you don&#39;t set them? see the answer from Younas below. or official doc https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.modifying-queries","body":"@theprogrammer all I am saying is those flags set to false by default doc here <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/api/org/springframework/data/jpa/repository/Modifying.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current/api/org/&hellip;</a>, in regards to what happens if you don&#39;t set them? see the answer from Younas below. or official doc <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.modifying-queries\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/current/reference/html/&hellip;</a>"}],"tags":[],"owner":{"account_id":10591336,"reputation":3484,"user_id":7801800,"display_name":"Anshul Sharma"},"comment_count":3,"down_vote_count":1,"up_vote_count":53,"is_accepted":true,"score":52,"last_activity_date":1493316814,"creation_date":1493316814,"answer_id":43665159,"question_id":43665090,"body_markdown":"This will trigger the query annotated to the method as updating query instead of a selecting one. As the EntityManager might contain outdated entities after the execution of the modifying query, we automatically clear it (see JavaDoc of EntityManager.clear() for details). This will effectively drop all non-flushed changes still pending in the EntityManager. If you don&#39;t wish the EntityManager to be cleared automatically you can set @Modifying annotation&#39;s clearAutomatically attribute to false;\r\n\r\n\r\nfor further detail you can follow this link:-\r\n\r\n\r\nhttp://docs.spring.io/spring-data/jpa/docs/1.3.4.RELEASE/reference/html/jpa.repositories.html","title":"why do we have to use @Modifying annotation for queries in Data Jpa","body":"<p>This will trigger the query annotated to the method as updating query instead of a selecting one. As the EntityManager might contain outdated entities after the execution of the modifying query, we automatically clear it (see JavaDoc of EntityManager.clear() for details). This will effectively drop all non-flushed changes still pending in the EntityManager. If you don't wish the EntityManager to be cleared automatically you can set @Modifying annotation's clearAutomatically attribute to false;</p>\n\n<p>for further detail you can follow this link:-</p>\n\n<p><a href=\"http://docs.spring.io/spring-data/jpa/docs/1.3.4.RELEASE/reference/html/jpa.repositories.html\" rel=\"noreferrer\">http://docs.spring.io/spring-data/jpa/docs/1.3.4.RELEASE/reference/html/jpa.repositories.html</a></p>\n"},{"tags":[],"owner":{"account_id":5475681,"reputation":734,"user_id":4353760,"accept_rate":80,"display_name":"Kusal Dissanayake"},"comment_count":0,"down_vote_count":1,"up_vote_count":15,"is_accepted":false,"score":14,"last_activity_date":1548752611,"creation_date":1548752611,"answer_id":54417246,"question_id":43665090,"body_markdown":"Queries that require a `@Modifying` annotation include INSERT, UPDATE, DELETE, and DDL statements.\r\n\r\nAdding `@Modifying` annotation indicates the query is not for a SELECT query.","title":"why do we have to use @Modifying annotation for queries in Data Jpa","body":"<p>Queries that require a <code>@Modifying</code> annotation include INSERT, UPDATE, DELETE, and DDL statements.</p>\n\n<p>Adding <code>@Modifying</code> annotation indicates the query is not for a SELECT query.</p>\n"},{"tags":[],"owner":{"account_id":1573445,"reputation":4861,"user_id":1460591,"accept_rate":79,"display_name":"Youans"},"comment_count":0,"down_vote_count":0,"up_vote_count":85,"is_accepted":false,"score":85,"last_activity_date":1696574590,"creation_date":1563297881,"answer_id":57062549,"question_id":43665090,"body_markdown":"&gt; **CAUTION!**\r\n\r\nUsing `@Modifying(clearAutomatically=true)` will drop any pending updates on the managed entities in the persistence context spring states the following :\r\n\r\n&gt; Doing so triggers the query annotated to the method as an updating\r\n&gt; query instead of selecting one. As the EntityManager might contain\r\n&gt; outdated entities after the execution of the modifying query, we do\r\n&gt; not automatically clear it (see the JavaDoc of EntityManager.clear()\r\n&gt; for details), since this effectively drops all non-flushed changes\r\n&gt; still pending in the EntityManager. If you wish the EntityManager to\r\n&gt; be cleared automatically, you can set the @Modifying annotation’s\r\n&gt; clearAutomatically attribute to true.\r\n\r\nFortunately, starting from `Spring Boot 2.0.4.RELEASE` Spring Data added `flushAutomatically` flag (https://jira.spring.io/browse/DATAJPA-806) to auto flush any managed entities on the persistence context **before** executing the modifying query check reference https://docs.spring.io/spring-data/jpa/docs/2.0.4.RELEASE/api/org/springframework/data/jpa/repository/Modifying.html#flushAutomatically\r\n\r\nSo the **safest** way to use `@Modifying` is :\r\n\r\n    @Modifying(clearAutomatically=true, flushAutomatically=true)\r\n\r\n&gt; **What happens if we don&#39;t use those two flags??**\r\n\r\nConsider the following code :\r\n\r\n    repo {\r\n       @Modifying\r\n       @Query(&quot;delete User u where u.active=0&quot;)\r\n       public void deleteInActiveUsers();\r\n    \r\n    }\r\n\r\n**Scenario 1 why `flushAutomatically`**\r\n\r\n  \r\n\r\n     service {\r\n            User johnUser = userRepo.findById(1); // store in first level cache\r\n            johnUser.setActive(false);\r\n            repo.save(johnUser);\r\n\r\n            repo.deleteInActiveUsers();// BAM it won&#39;t delete JOHN right away\r\n            \r\n            // JOHN still exist since john with active being false was not \r\n            // flushed into the database when @Modifying kicks in\r\n            // so imagine if after `deleteInActiveUsers` line you called a native \r\n            // query or started a new transaction, both cases john \r\n            // was not deleted so it can lead to faulty business logic \r\n        }\r\n\r\n\r\n**Scenario 2 why `clearAutomatically`** \r\n*In following consider johnUser.active is false already*\r\n\r\n    service {\r\n           User johnUser = userRepo.findById(1); // store in first level cache\r\n           repo.deleteInActiveUsers(); // you think that john is deleted now \r\n           System.out.println(userRepo.findById(1).isPresent()) // TRUE!!!\r\n           System.out.println(userRepo.count()) // 1 !!!\r\n           \r\n           // JOHN still exists since in this transaction persistence context\r\n           // John&#39;s object was not cleared upon @Modifying query execution, \r\n           // John&#39;s object will still be fetched from 1st level cache \r\n           // `clearAutomatically` takes care of doing the \r\n           // clear part on the objects being modified for current \r\n           // transaction persistence context\r\n    }\r\n\r\n**So if - in the same transaction - you are playing with modified objects before or after the line which does `@Modifying`, then use `clearAutomatically` &amp; `flushAutomatically` if not then you can skip using these flags** \r\n\r\nBTW this is another reason why you should always put the `@Transactional` annotation on service layer, so that you only can have one persistence context for all your managed entities in the same transaction.\r\nSince persistence context is bounded to hibernate session, you need to know that a session can contain couple of transactions see this answer for more info https://stackoverflow.com/a/5409180/1460591\r\nThe way spring data works is that it joins the transactions together (known as `Transaction Propagation`) into one transaction (default propagation (REQUIRED)) see this answer for more info https://stackoverflow.com/a/25710391/1460591\r\n\r\nTo connect things together if you have multiple isolated transactions (e.g not having a transactional annotation on the service) hence you would have multiple sessions following the way spring data works hence you have multiple persistence contexts (aka 1st level cache) that means you might delete/modify an entity in a persistence context even with using `flushAutomatically` the same deleted/modified entity might be fetched and cached in another transaction&#39;s persistence context already, That would cause wrong business decisions due to wrong or un-synced data.  \r\n","title":"why do we have to use @Modifying annotation for queries in Data Jpa","body":"<blockquote>\n<p><strong>CAUTION!</strong></p>\n</blockquote>\n<p>Using <code>@Modifying(clearAutomatically=true)</code> will drop any pending updates on the managed entities in the persistence context spring states the following :</p>\n<blockquote>\n<p>Doing so triggers the query annotated to the method as an updating\nquery instead of selecting one. As the EntityManager might contain\noutdated entities after the execution of the modifying query, we do\nnot automatically clear it (see the JavaDoc of EntityManager.clear()\nfor details), since this effectively drops all non-flushed changes\nstill pending in the EntityManager. If you wish the EntityManager to\nbe cleared automatically, you can set the @Modifying annotation’s\nclearAutomatically attribute to true.</p>\n</blockquote>\n<p>Fortunately, starting from <code>Spring Boot 2.0.4.RELEASE</code> Spring Data added <code>flushAutomatically</code> flag (<a href=\"https://jira.spring.io/browse/DATAJPA-806\" rel=\"nofollow noreferrer\">https://jira.spring.io/browse/DATAJPA-806</a>) to auto flush any managed entities on the persistence context <strong>before</strong> executing the modifying query check reference <a href=\"https://docs.spring.io/spring-data/jpa/docs/2.0.4.RELEASE/api/org/springframework/data/jpa/repository/Modifying.html#flushAutomatically\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/2.0.4.RELEASE/api/org/springframework/data/jpa/repository/Modifying.html#flushAutomatically</a></p>\n<p>So the <strong>safest</strong> way to use <code>@Modifying</code> is :</p>\n<pre><code>@Modifying(clearAutomatically=true, flushAutomatically=true)\n</code></pre>\n<blockquote>\n<p><strong>What happens if we don't use those two flags??</strong></p>\n</blockquote>\n<p>Consider the following code :</p>\n<pre><code>repo {\n   @Modifying\n   @Query(&quot;delete User u where u.active=0&quot;)\n   public void deleteInActiveUsers();\n\n}\n</code></pre>\n<p><strong>Scenario 1 why <code>flushAutomatically</code></strong></p>\n<pre><code> service {\n        User johnUser = userRepo.findById(1); // store in first level cache\n        johnUser.setActive(false);\n        repo.save(johnUser);\n\n        repo.deleteInActiveUsers();// BAM it won't delete JOHN right away\n        \n        // JOHN still exist since john with active being false was not \n        // flushed into the database when @Modifying kicks in\n        // so imagine if after `deleteInActiveUsers` line you called a native \n        // query or started a new transaction, both cases john \n        // was not deleted so it can lead to faulty business logic \n    }\n</code></pre>\n<p><strong>Scenario 2 why <code>clearAutomatically</code></strong>\n<em>In following consider johnUser.active is false already</em></p>\n<pre><code>service {\n       User johnUser = userRepo.findById(1); // store in first level cache\n       repo.deleteInActiveUsers(); // you think that john is deleted now \n       System.out.println(userRepo.findById(1).isPresent()) // TRUE!!!\n       System.out.println(userRepo.count()) // 1 !!!\n       \n       // JOHN still exists since in this transaction persistence context\n       // John's object was not cleared upon @Modifying query execution, \n       // John's object will still be fetched from 1st level cache \n       // `clearAutomatically` takes care of doing the \n       // clear part on the objects being modified for current \n       // transaction persistence context\n}\n</code></pre>\n<p><strong>So if - in the same transaction - you are playing with modified objects before or after the line which does <code>@Modifying</code>, then use <code>clearAutomatically</code> &amp; <code>flushAutomatically</code> if not then you can skip using these flags</strong></p>\n<p>BTW this is another reason why you should always put the <code>@Transactional</code> annotation on service layer, so that you only can have one persistence context for all your managed entities in the same transaction.\nSince persistence context is bounded to hibernate session, you need to know that a session can contain couple of transactions see this answer for more info <a href=\"https://stackoverflow.com/a/5409180/1460591\">https://stackoverflow.com/a/5409180/1460591</a>\nThe way spring data works is that it joins the transactions together (known as <code>Transaction Propagation</code>) into one transaction (default propagation (REQUIRED)) see this answer for more info <a href=\"https://stackoverflow.com/a/25710391/1460591\">https://stackoverflow.com/a/25710391/1460591</a></p>\n<p>To connect things together if you have multiple isolated transactions (e.g not having a transactional annotation on the service) hence you would have multiple sessions following the way spring data works hence you have multiple persistence contexts (aka 1st level cache) that means you might delete/modify an entity in a persistence context even with using <code>flushAutomatically</code> the same deleted/modified entity might be fetched and cached in another transaction's persistence context already, That would cause wrong business decisions due to wrong or un-synced data.</p>\n"},{"tags":[],"owner":{"account_id":26105588,"reputation":11,"user_id":19800342,"display_name":"Vusal Mustafayev"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669790837,"creation_date":1669308118,"answer_id":74563923,"question_id":43665090,"body_markdown":"When you use only `@Query` annotation,you should use select queries\r\nHowever you `@Modifying` annotation you can use insert,delete,update queries above the method.\r\n","title":"why do we have to use @Modifying annotation for queries in Data Jpa","body":"<p>When you use only <code>@Query</code> annotation,you should use select queries\nHowever you <code>@Modifying</code> annotation you can use insert,delete,update queries above the method.</p>\n"}],"owner":{"account_id":8093391,"reputation":1343,"user_id":6098646,"accept_rate":75,"display_name":"Artyom Emelyanenko"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76241,"favorite_count":0,"down_vote_count":0,"up_vote_count":81,"accepted_answer_id":43665159,"answer_count":4,"score":81,"last_activity_date":1696574590,"creation_date":1493316595,"question_id":43665090,"body_markdown":"for example I have a method in my CRUD interface which deletes a user from the database:\r\n\r\n    public interface CrudUserRepository extends JpaRepository&lt;User, Integer&gt; {\r\n\r\n        @Transactional\r\n        @Modifying\r\n        @Query(&quot;DELETE FROM User u WHERE u.id=:id&quot;)\r\n        int delete(@Param(&quot;id&quot;) int id, @Param(&quot;userId&quot;) int userId);\r\n    }\r\nThis method will work only with the annotation @Modifying. But what is the need for the annotation here? Why cant spring analyze the query and understand that it is a modifying query?","title":"why do we have to use @Modifying annotation for queries in Data Jpa","body":"<p>for example I have a method in my CRUD interface which deletes a user from the database:</p>\n\n<pre><code>public interface CrudUserRepository extends JpaRepository&lt;User, Integer&gt; {\n\n    @Transactional\n    @Modifying\n    @Query(\"DELETE FROM User u WHERE u.id=:id\")\n    int delete(@Param(\"id\") int id, @Param(\"userId\") int userId);\n}\n</code></pre>\n\n<p>This method will work only with the annotation @Modifying. But what is the need for the annotation here? Why cant spring analyze the query and understand that it is a modifying query?</p>\n"},{"tags":["java","spring","oracle","hibernate"],"comments":[{"owner":{"account_id":7365038,"reputation":90,"user_id":5606982,"display_name":"suman tipparapu"},"score":0,"creation_date":1449051892,"post_id":34039750,"comment_id":55835189,"body_markdown":"chage your query &quot;select a from Account a&quot; to &quot;from Account&quot;","body":"chage your query &quot;select a from Account a&quot; to &quot;from Account&quot;"},{"owner":{"account_id":5502833,"reputation":8715,"user_id":4371659,"accept_rate":80,"display_name":"Tobias Liefke"},"score":0,"creation_date":1449052982,"post_id":34039750,"comment_id":55835958,"body_markdown":"@sumantipparapu That won&#39;t help - he is using the JPA entity manager with `JPQL` - not the Hibernate specific `HQL`","body":"@sumantipparapu That won&#39;t help - he is using the JPA entity manager with <code>JPQL</code> - not the Hibernate specific <code>HQL</code>"},{"owner":{"account_id":5502833,"reputation":8715,"user_id":4371659,"accept_rate":80,"display_name":"Tobias Liefke"},"score":0,"creation_date":1449053256,"post_id":34039750,"comment_id":55836151,"body_markdown":"@Algosub How do you evaluate that the list is empty? How does the SQL look like? Did you check that you aren&#39;t using a different database from Hibernate? Do you use `hibernate.hbm2ddl.auto` with `create`? From the information you gave it is difficult to tell where the problem is located.","body":"@Algosub How do you evaluate that the list is empty? How does the SQL look like? Did you check that you aren&#39;t using a different database from Hibernate? Do you use <code>hibernate.hbm2ddl.auto</code> with <code>create</code>? From the information you gave it is difficult to tell where the problem is located."},{"owner":{"account_id":5143608,"reputation":1009,"user_id":4120181,"accept_rate":33,"display_name":"AnirbanDebnath"},"score":0,"creation_date":1449054821,"post_id":34039750,"comment_id":55837196,"body_markdown":"You can try using: `Query q = em.createQuery(&quot;select a from Account a&quot;, Account.class);` This should solve the problem.","body":"You can try using: <code>Query q = em.createQuery(&quot;select a from Account a&quot;, Account.class);</code> This should solve the problem."},{"owner":{"account_id":1852397,"reputation":1545,"user_id":1678659,"accept_rate":71,"display_name":"Tomer Amir"},"score":0,"creation_date":1449056207,"post_id":34039750,"comment_id":55838058,"body_markdown":"@TobiasLiefke , I use `hibernate.hbm2ddl.auto` with `validate`, and I check the returned list to make sure that it is indeed empty. Should I use `HQL`?","body":"@TobiasLiefke , I use <code>hibernate.hbm2ddl.auto</code> with <code>validate</code>, and I check the returned list to make sure that it is indeed empty. Should I use <code>HQL</code>?"},{"owner":{"account_id":1852397,"reputation":1545,"user_id":1678659,"accept_rate":71,"display_name":"Tomer Amir"},"score":0,"creation_date":1449056222,"post_id":34039750,"comment_id":55838072,"body_markdown":"@anirbandebnath did not work :(","body":"@anirbandebnath did not work :("},{"owner":{"account_id":5502833,"reputation":8715,"user_id":4371659,"accept_rate":80,"display_name":"Tobias Liefke"},"score":0,"creation_date":1449056893,"post_id":34039750,"comment_id":55838464,"body_markdown":"@Algosub: _How_ do you evaluate that the list is empty (show us the code). And please answer my other questions as well. And you don&#39;t need to use HQL.","body":"@Algosub: <i>How</i> do you evaluate that the list is empty (show us the code). And please answer my other questions as well. And you don&#39;t need to use HQL."},{"owner":{"account_id":5143608,"reputation":1009,"user_id":4120181,"accept_rate":33,"display_name":"AnirbanDebnath"},"score":0,"creation_date":1449056906,"post_id":34039750,"comment_id":55838470,"body_markdown":"Try to typecast the return value: `return (List&lt;Account&gt;) q.getResultList();`","body":"Try to typecast the return value: <code>return (List&lt;Account&gt;) q.getResultList();</code>"},{"owner":{"account_id":5502833,"reputation":8715,"user_id":4371659,"accept_rate":80,"display_name":"Tobias Liefke"},"score":0,"creation_date":1449056950,"post_id":34039750,"comment_id":55838491,"body_markdown":"@anirban How should a _cast_ change the _content_?","body":"@anirban How should a <i>cast</i> change the <i>content</i>?"},{"owner":{"account_id":5143608,"reputation":1009,"user_id":4120181,"accept_rate":33,"display_name":"AnirbanDebnath"},"score":0,"creation_date":1449057765,"post_id":34039750,"comment_id":55839015,"body_markdown":"I agree @TobiasLiefke","body":"I agree @TobiasLiefke"},{"owner":{"account_id":5143608,"reputation":1009,"user_id":4120181,"accept_rate":33,"display_name":"AnirbanDebnath"},"score":0,"creation_date":1449057881,"post_id":34039750,"comment_id":55839093,"body_markdown":"@Algosub , Please share the other parts of code, where you are making the connections to the DB etc. There must be something missing somewhere. We can rectify that only after  you share the complete code.","body":"@Algosub , Please share the other parts of code, where you are making the connections to the DB etc. There must be something missing somewhere. We can rectify that only after  you share the complete code."},{"owner":{"account_id":1852397,"reputation":1545,"user_id":1678659,"accept_rate":71,"display_name":"Tomer Amir"},"score":0,"creation_date":1449061287,"post_id":34039750,"comment_id":55841295,"body_markdown":"@AnirbanDebnath Added the spring connection and hibernate configurations. Thanks!","body":"@AnirbanDebnath Added the spring connection and hibernate configurations. Thanks!"},{"owner":{"account_id":1852397,"reputation":1545,"user_id":1678659,"accept_rate":71,"display_name":"Tomer Amir"},"score":0,"creation_date":1449062769,"post_id":34039750,"comment_id":55842264,"body_markdown":"@TobiasLiefke I see the result set in my app, but I also checked in the debugger and saw that the list size is 0.","body":"@TobiasLiefke I see the result set in my app, but I also checked in the debugger and saw that the list size is 0."}],"answers":[{"comments":[{"owner":{"account_id":1374097,"reputation":564,"user_id":1308453,"accept_rate":100,"display_name":"Philip Rego"},"score":0,"creation_date":1519240644,"post_id":34045285,"comment_id":84833789,"body_markdown":"How did you know what driver your db needed?","body":"How did you know what driver your db needed?"},{"owner":{"account_id":1852397,"reputation":1545,"user_id":1678659,"accept_rate":71,"display_name":"Tomer Amir"},"score":0,"creation_date":1519246648,"post_id":34045285,"comment_id":84837038,"body_markdown":"looked in the supported versions in the driver documentation","body":"looked in the supported versions in the driver documentation"},{"owner":{"account_id":1374097,"reputation":564,"user_id":1308453,"accept_rate":100,"display_name":"Philip Rego"},"score":0,"creation_date":1519316956,"post_id":34045285,"comment_id":84871700,"body_markdown":"You need to know what database you&#39;re using before trying to look for a compatible driver. You can use SELECT * FROM V$VERSION to get the version and then google search for a driver and read documentation.","body":"You need to know what database you&#39;re using before trying to look for a compatible driver. You can use SELECT * FROM V$VERSION to get the version and then google search for a driver and read documentation."}],"tags":[],"owner":{"account_id":1852397,"reputation":1545,"user_id":1678659,"accept_rate":71,"display_name":"Tomer Amir"},"comment_count":3,"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1449389428,"creation_date":1449066682,"answer_id":34045285,"question_id":34039750,"body_markdown":"Found the problem,\r\nI used the wrong `ojdbc` driver that did not support my exact `oracle` database version, so some things worked, and some didn&#39;t.\r\n\r\nThanks for all the help in comments!","title":"Hibernate query returns empty result list","body":"<p>Found the problem,\nI used the wrong <code>ojdbc</code> driver that did not support my exact <code>oracle</code> database version, so some things worked, and some didn't.</p>\n\n<p>Thanks for all the help in comments!</p>\n"},{"tags":[],"owner":{"account_id":14264629,"reputation":127,"user_id":10304251,"display_name":"ashwani kumar"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696573910,"creation_date":1659460774,"answer_id":73211359,"question_id":34039750,"body_markdown":"I also faced the exact same issue with hibernate. For some tables, the generated Hibernate SQL query was not returning data back from DB in my service but when I ran it directly in my SQL Developer I got the data. For some tables, everything was working fine.\r\nIt turned out to be an issue with how I was inserting the data into the tables. I needed to write a **commit** statement explicitly after inserting the data. ","title":"Hibernate query returns empty result list","body":"<p>I also faced the exact same issue with hibernate. For some tables, the generated Hibernate SQL query was not returning data back from DB in my service but when I ran it directly in my SQL Developer I got the data. For some tables, everything was working fine.\nIt turned out to be an issue with how I was inserting the data into the tables. I needed to write a <strong>commit</strong> statement explicitly after inserting the data.</p>\n"}],"owner":{"account_id":1852397,"reputation":1545,"user_id":1678659,"accept_rate":71,"display_name":"Tomer Amir"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4828,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":34045285,"answer_count":2,"score":3,"last_activity_date":1696573910,"creation_date":1449050317,"question_id":34039750,"body_markdown":"I am new to Hibernate, so there might be many problems, but I have an `Account` entity displayed here:\r\n\r\n   \r\n\r\n    @Entity\r\n    @Table(name = &quot;TABLE_NAME&quot;)\r\n    public class Account {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;ID&quot;)\r\n        private int id;\r\n    \r\n        @Column(name = &quot;EMAIL&quot;, unique = true)\r\n        private String email;\r\n    \r\n        @Column(name = &quot;PASSWORD&quot;, length = 128)\r\n        private String password;\r\n    \r\n        public int getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public String getEmail() {\r\n            return email;\r\n        }\r\n    \r\n        public void setEmail(String email) {\r\n            this.email = email;\r\n        }\r\n    \r\n        public String getPassword() {\r\n            return password;\r\n        }\r\n    \r\n        public void setPassword(String password) {\r\n            this.password = password;\r\n        }\r\n    }\r\n\r\nand I am trying to select all accounts in the database in the following function:\r\n\r\n    public List&lt;Account&gt; getAllAccounts() {\r\n        Query q = em.createQuery(&quot;select a from Account a&quot;);\r\n        return q.getResultList();\r\n    }\r\n\r\nThe problem is that this returns an empty list, but when run the result sql (shown in the console by `&lt;entry key=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;`) in the Oracle SQL Developer editor, I do get results back.\r\n\r\nWhat am I doing wrong?\r\n\r\n&lt;strong&gt;Edit:&lt;/strong&gt;\r\n\r\nI am trying to create a spring web app, so my connection an hibernate are configured in spring here:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;\r\n           xmlns:context=&quot;http://www.springframework.org/schema/context&quot;\r\n           xmlns:tx=&quot;http://www.springframework.org/schema/tx&quot;\r\n           xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n           xsi:schemaLocation=&quot;\r\n            http://www.springframework.org/schema/beans\r\n            http://www.springframework.org/schema/beans/spring-beans.xsd\r\n            http://www.springframework.org/schema/context\r\n            http://www.springframework.org/schema/context/spring-context.xsd\r\n            http://www.springframework.org/schema/tx\r\n            http://www.springframework.org/schema/tx/spring-tx.xsd&quot;&gt;\r\n    \r\n        &lt;context:component-scan base-package=&quot;com.checkpoint.core.repositories.jpa&quot; /&gt;\r\n    \r\n        &lt;bean id=&quot;dataSource&quot; class=&quot;org.apache.commons.dbcp.BasicDataSource&quot; destroy-method=&quot;close&quot;&gt;\r\n            &lt;property name=&quot;driverClassName&quot; value=&quot;oracle.jdbc.driver.OracleDriver&quot; /&gt;\r\n            &lt;property name=&quot;url&quot; value=&quot;jdbc:oracle:thin:@[[url]]:[[port]]:[[sid]]&quot; /&gt;\r\n            &lt;property name=&quot;username&quot; value=&quot;username&quot; /&gt;\r\n            &lt;property name=&quot;password&quot; value=&quot;password&quot; /&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;bean id=&quot;entityManagerFactory&quot; class=&quot;org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean&quot;&gt;\r\n            &lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n            &lt;property name=&quot;jpaVendorAdapter&quot;&gt;\r\n                &lt;bean class=&quot;org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter&quot; /&gt;\r\n            &lt;/property&gt;\r\n            &lt;property name=&quot;jpaProperties&quot;&gt;\r\n                &lt;map&gt;\r\n                    &lt;entry key=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;validate&quot; /&gt;\r\n                    &lt;entry key=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\r\n                    &lt;entry key=&quot;hibernate.format_sql&quot; value=&quot;true&quot; /&gt;\r\n                    &lt;entry key=&quot;hibernate.dialect&quot; value=&quot;org.hibernate.dialect.Oracle10gDialect&quot; /&gt;\r\n                &lt;/map&gt;\r\n            &lt;/property&gt;\r\n            &lt;property name=&quot;packagesToScan&quot; value=&quot;com.checkpoint.core.models.entities&quot; /&gt;\r\n        &lt;/bean&gt;\r\n    \r\n        &lt;!-- Setup transaction management --&gt;\r\n        &lt;tx:annotation-driven /&gt;\r\n    \r\n        &lt;bean id=&quot;transactionManager&quot; class=&quot;org.springframework.orm.jpa.JpaTransactionManager&quot; /&gt;\r\n    \r\n        &lt;context:component-scan base-package=&quot;com.checkpoint.core.services.impl&quot; /&gt;\r\n    \r\n    &lt;/beans&gt;\r\n\r\n","title":"Hibernate query returns empty result list","body":"<p>I am new to Hibernate, so there might be many problems, but I have an <code>Account</code> entity displayed here:</p>\n\n<pre><code>@Entity\n@Table(name = \"TABLE_NAME\")\npublic class Account {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = \"ID\")\n    private int id;\n\n    @Column(name = \"EMAIL\", unique = true)\n    private String email;\n\n    @Column(name = \"PASSWORD\", length = 128)\n    private String password;\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n}\n</code></pre>\n\n<p>and I am trying to select all accounts in the database in the following function:</p>\n\n<pre><code>public List&lt;Account&gt; getAllAccounts() {\n    Query q = em.createQuery(\"select a from Account a\");\n    return q.getResultList();\n}\n</code></pre>\n\n<p>The problem is that this returns an empty list, but when run the result sql (shown in the console by <code>&lt;entry key=\"hibernate.show_sql\" value=\"true\" /&gt;</code>) in the Oracle SQL Developer editor, I do get results back.</p>\n\n<p>What am I doing wrong?</p>\n\n<p><strong>Edit:</strong></p>\n\n<p>I am trying to create a spring web app, so my connection an hibernate are configured in spring here:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;beans xmlns=\"http://www.springframework.org/schema/beans\"\n       xmlns:context=\"http://www.springframework.org/schema/context\"\n       xmlns:tx=\"http://www.springframework.org/schema/tx\"\n       xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n       xsi:schemaLocation=\"\n        http://www.springframework.org/schema/beans\n        http://www.springframework.org/schema/beans/spring-beans.xsd\n        http://www.springframework.org/schema/context\n        http://www.springframework.org/schema/context/spring-context.xsd\n        http://www.springframework.org/schema/tx\n        http://www.springframework.org/schema/tx/spring-tx.xsd\"&gt;\n\n    &lt;context:component-scan base-package=\"com.checkpoint.core.repositories.jpa\" /&gt;\n\n    &lt;bean id=\"dataSource\" class=\"org.apache.commons.dbcp.BasicDataSource\" destroy-method=\"close\"&gt;\n        &lt;property name=\"driverClassName\" value=\"oracle.jdbc.driver.OracleDriver\" /&gt;\n        &lt;property name=\"url\" value=\"jdbc:oracle:thin:@[[url]]:[[port]]:[[sid]]\" /&gt;\n        &lt;property name=\"username\" value=\"username\" /&gt;\n        &lt;property name=\"password\" value=\"password\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;bean id=\"entityManagerFactory\" class=\"org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean\"&gt;\n        &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n        &lt;property name=\"jpaVendorAdapter\"&gt;\n            &lt;bean class=\"org.springframework.orm.jpa.vendor.HibernateJpaVendorAdapter\" /&gt;\n        &lt;/property&gt;\n        &lt;property name=\"jpaProperties\"&gt;\n            &lt;map&gt;\n                &lt;entry key=\"hibernate.hbm2ddl.auto\" value=\"validate\" /&gt;\n                &lt;entry key=\"hibernate.show_sql\" value=\"true\" /&gt;\n                &lt;entry key=\"hibernate.format_sql\" value=\"true\" /&gt;\n                &lt;entry key=\"hibernate.dialect\" value=\"org.hibernate.dialect.Oracle10gDialect\" /&gt;\n            &lt;/map&gt;\n        &lt;/property&gt;\n        &lt;property name=\"packagesToScan\" value=\"com.checkpoint.core.models.entities\" /&gt;\n    &lt;/bean&gt;\n\n    &lt;!-- Setup transaction management --&gt;\n    &lt;tx:annotation-driven /&gt;\n\n    &lt;bean id=\"transactionManager\" class=\"org.springframework.orm.jpa.JpaTransactionManager\" /&gt;\n\n    &lt;context:component-scan base-package=\"com.checkpoint.core.services.impl\" /&gt;\n\n&lt;/beans&gt;\n</code></pre>\n"},{"tags":["java","spring","jpa","spring-data","spring-data-jpa"],"answers":[{"comments":[{"owner":{"account_id":113283,"reputation":11626,"user_id":298430,"accept_rate":66,"display_name":"smallufo"},"score":20,"creation_date":1329440387,"post_id":9315989,"comment_id":11761110,"body_markdown":"Thanks , but I still hope for an &#39;annotation based&#39; solution. Because &#39;Page / Pageable&#39; are too overkill in this case. And client has to create a Pageable/Page to retrieve &#39;one and only one&#39; result... It&#39;s very un-friendly to use.  And it seems you are in charge of Spring-Data , I hope you can further look into this problem : http://stackoverflow.com/questions/9276461/spring-data-makes-spring-unable-to-find-jaxrss-provider . Can you confirm if it is Spring-Data&#39;s bug ?","body":"Thanks , but I still hope for an &#39;annotation based&#39; solution. Because &#39;Page / Pageable&#39; are too overkill in this case. And client has to create a Pageable/Page to retrieve &#39;one and only one&#39; result... It&#39;s very un-friendly to use.  And it seems you are in charge of Spring-Data , I hope you can further look into this problem : <a href=\"http://stackoverflow.com/questions/9276461/spring-data-makes-spring-unable-to-find-jaxrss-provider\" title=\"spring data makes spring unable to find jaxrss provider\">stackoverflow.com/questions/9276461/&hellip;</a> . Can you confirm if it is Spring-Data&#39;s bug ?"},{"owner":{"account_id":9744,"reputation":80816,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"score":0,"creation_date":1379948065,"post_id":9315989,"comment_id":28005566,"body_markdown":"@chrismarx - It just works :). We can still call the necessary methods on the `Query` instance. For the count query, we us provider specific API to extract the JPQL query from the source query and then apply the count projection on it.","body":"@chrismarx - It just works :). We can still call the necessary methods on the <code>Query</code> instance. For the count query, we us provider specific API to extract the JPQL query from the source query and then apply the count projection on it."},{"owner":{"account_id":3809070,"reputation":18333,"user_id":3160597,"accept_rate":47,"display_name":"azerafati"},"score":2,"creation_date":1403957866,"post_id":9315989,"comment_id":37865776,"body_markdown":"+ this works, thanks  but an annotation based solution would be better in newer versions","body":"+ this works, thanks  but an annotation based solution would be better in newer versions"},{"owner":{"account_id":3809070,"reputation":18333,"user_id":3160597,"accept_rate":47,"display_name":"azerafati"},"score":2,"creation_date":1410858713,"post_id":9315989,"comment_id":40473297,"body_markdown":"a count query is fired here which is totally unnecessary if we want a limited query.","body":"a count query is fired here which is totally unnecessary if we want a limited query."},{"owner":{"account_id":9744,"reputation":80816,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"score":1,"creation_date":1410879926,"post_id":9315989,"comment_id":40486876,"body_markdown":"It&#39;s not if you use `List` as the return type of the method.","body":"It&#39;s not if you use <code>List</code> as the return type of the method."},{"owner":{"account_id":395827,"reputation":5063,"user_id":758991,"accept_rate":55,"display_name":"Ruslan Stelmachenko"},"score":6,"creation_date":1466995132,"post_id":9315989,"comment_id":63530222,"body_markdown":"I think, `Top` and `First` keywords are not applicable to methods that use `@Query` annotation? Only those, which use method-name-based query generation?","body":"I think, <code>Top</code> and <code>First</code> keywords are not applicable to methods that use <code>@Query</code> annotation? Only those, which use method-name-based query generation?"},{"owner":{"account_id":3843558,"reputation":844,"user_id":3185874,"accept_rate":52,"display_name":"bagui"},"score":1,"creation_date":1475061775,"post_id":9315989,"comment_id":66788444,"body_markdown":"I also found it doesn&#39;t work with @Query annotation. Is there any way to get the latest for Query ?","body":"I also found it doesn&#39;t work with @Query annotation. Is there any way to get the latest for Query ?"},{"owner":{"account_id":4308682,"reputation":12633,"user_id":3520404,"display_name":"saran3h"},"score":1,"creation_date":1622542585,"post_id":9315989,"comment_id":119816044,"body_markdown":"Just fyi. PageRequest is still very relevant and not limited to previous versions. Infact, the usage of PageRequest is far more than findTopXXX. \n\nIn Spring 5, the syntax has changed to `PageRequest.of(0, 10)`","body":"Just fyi. PageRequest is still very relevant and not limited to previous versions. Infact, the usage of PageRequest is far more than findTopXXX.   In Spring 5, the syntax has changed to <code>PageRequest.of(0, 10)</code>"}],"tags":[],"owner":{"account_id":9744,"reputation":80816,"user_id":18122,"accept_rate":80,"display_name":"Oliver Drotbohm"},"comment_count":8,"down_vote_count":1,"up_vote_count":212,"is_accepted":false,"score":211,"last_activity_date":1559692116,"creation_date":1329413194,"answer_id":9315989,"question_id":9314078,"body_markdown":"## As of Spring Data JPA 1.7.0 (Evans release train).\r\n\r\nYou can use the newly introduced `Top` and `First` keywords that allow you to define query methods like this:\r\n\r\n    findTop10ByLastnameOrderByFirstnameAsc(String lastname);\r\n\r\nSpring Data will automatically limit the results to the number you defined (defaulting to 1 if omitted). Note that the ordering of the results becomes relevant here (either through an `OrderBy` clause as seen in the example or by handing a `Sort` parameter into the method). Read more on that in the blog post covering [new features of the Spring Data Evans release train][1] or in the [documentation][2].\r\n\r\n## For previous versions\r\n\r\nTo retrieve only slices of data, Spring Data uses the pagination abstraction which comes with a `Pageable` interface on the requesting side as well as a `Page` abstraction on the result side of things. So you could start with\r\n\r\n    public interface UserRepository extends Repository&lt;User, Long&gt; {\r\n\r\n      List&lt;User&gt; findByUsername(String username, Pageable pageable);\r\n    }\r\n\r\nand use it like this:\r\n\r\n    Pageable topTen = new PageRequest(0, 10);\r\n    List&lt;User&gt; result = repository.findByUsername(&quot;Matthews&quot;, topTen);\r\n\r\nIf you need to know the context of the result (which page is it actually? is it the first one? how many are there in total?), use `Page` as return type:\r\n\r\n    public interface UserRepository extends Repository&lt;User, Long&gt; {\r\n\r\n      Page&lt;User&gt; findByUsername(String username, Pageable pageable);\r\n    }\r\n\r\nThe client code can then do something like this:\r\n\r\n    Pageable topTen = new PageRequest(0, 10);\r\n    Page&lt;User&gt; result = repository.findByUsername(&quot;Matthews&quot;, topTen);\r\n    Assert.assertThat(result.isFirstPage(), is(true));\r\n\r\nNot that we will trigger a count projection of the actual query to be executed in case you use `Page` as return type as we need to find out how many elements there are in total to calculate the metadata. Beyond that, be sure you actually equip the `PageRequest` with sorting information to get stable results. Otherwise you might trigger the query twice and get different results even without the data having changed underneath.\r\n\r\n\r\n  [1]: https://spring.io/blog/2014/10/15/whats-new-in-spring-data-evans#user-content-statically-limiting-results\r\n  [2]: http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.limit-query-result","title":"setMaxResults for Spring-Data-JPA annotation?","body":"<h2>As of Spring Data JPA 1.7.0 (Evans release train).</h2>\n\n<p>You can use the newly introduced <code>Top</code> and <code>First</code> keywords that allow you to define query methods like this:</p>\n\n<pre><code>findTop10ByLastnameOrderByFirstnameAsc(String lastname);\n</code></pre>\n\n<p>Spring Data will automatically limit the results to the number you defined (defaulting to 1 if omitted). Note that the ordering of the results becomes relevant here (either through an <code>OrderBy</code> clause as seen in the example or by handing a <code>Sort</code> parameter into the method). Read more on that in the blog post covering <a href=\"https://spring.io/blog/2014/10/15/whats-new-in-spring-data-evans#user-content-statically-limiting-results\" rel=\"noreferrer\">new features of the Spring Data Evans release train</a> or in the <a href=\"http://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories.limit-query-result\" rel=\"noreferrer\">documentation</a>.</p>\n\n<h2>For previous versions</h2>\n\n<p>To retrieve only slices of data, Spring Data uses the pagination abstraction which comes with a <code>Pageable</code> interface on the requesting side as well as a <code>Page</code> abstraction on the result side of things. So you could start with</p>\n\n<pre><code>public interface UserRepository extends Repository&lt;User, Long&gt; {\n\n  List&lt;User&gt; findByUsername(String username, Pageable pageable);\n}\n</code></pre>\n\n<p>and use it like this:</p>\n\n<pre><code>Pageable topTen = new PageRequest(0, 10);\nList&lt;User&gt; result = repository.findByUsername(\"Matthews\", topTen);\n</code></pre>\n\n<p>If you need to know the context of the result (which page is it actually? is it the first one? how many are there in total?), use <code>Page</code> as return type:</p>\n\n<pre><code>public interface UserRepository extends Repository&lt;User, Long&gt; {\n\n  Page&lt;User&gt; findByUsername(String username, Pageable pageable);\n}\n</code></pre>\n\n<p>The client code can then do something like this:</p>\n\n<pre><code>Pageable topTen = new PageRequest(0, 10);\nPage&lt;User&gt; result = repository.findByUsername(\"Matthews\", topTen);\nAssert.assertThat(result.isFirstPage(), is(true));\n</code></pre>\n\n<p>Not that we will trigger a count projection of the actual query to be executed in case you use <code>Page</code> as return type as we need to find out how many elements there are in total to calculate the metadata. Beyond that, be sure you actually equip the <code>PageRequest</code> with sorting information to get stable results. Otherwise you might trigger the query twice and get different results even without the data having changed underneath.</p>\n"},{"comments":[{"owner":{"account_id":3127182,"reputation":6869,"user_id":2645833,"accept_rate":54,"display_name":"krmanish007"},"score":6,"creation_date":1465827201,"post_id":26449221,"comment_id":63050237,"body_markdown":"Optional&lt;User&gt; findFirstByLastnameOrderByIdDesc(String lastname);","body":"Optional&lt;User&gt; findFirstByLastnameOrderByIdDesc(String lastname);"},{"owner":{"account_id":2012438,"reputation":6799,"user_id":1800583,"accept_rate":59,"display_name":"kittu"},"score":0,"creation_date":1487139080,"post_id":26449221,"comment_id":71642414,"body_markdown":"After getting top20 results, How would I get the next 20 results when I go to next page on the website using pagination?","body":"After getting top20 results, How would I get the next 20 results when I go to next page on the website using pagination?"},{"owner":{"account_id":3809070,"reputation":18333,"user_id":3160597,"accept_rate":47,"display_name":"azerafati"},"score":0,"creation_date":1487147161,"post_id":26449221,"comment_id":71646473,"body_markdown":"@kittu, that of course is another question but you need to pass a `Pageable` object. check out spring documentation","body":"@kittu, that of course is another question but you need to pass a <code>Pageable</code> object. check out spring documentation"},{"owner":{"account_id":304833,"reputation":1203,"user_id":2307890,"display_name":"Vasile Surdu"},"score":0,"creation_date":1524239833,"post_id":26449221,"comment_id":86907441,"body_markdown":"why they made the method return a damn List if it&#39;s specified FIRST ??","body":"why they made the method return a damn List if it&#39;s specified FIRST ??"},{"owner":{"account_id":145555,"reputation":21469,"user_id":355438,"display_name":"Ilya Serbis"},"score":0,"creation_date":1619030839,"post_id":26449221,"comment_id":118784609,"body_markdown":"Better to write return type of last method (`findFirstByLastnameOrderByIdDesc`) as `Optional&lt;User&gt;` or even just `User`","body":"Better to write return type of last method (<code>findFirstByLastnameOrderByIdDesc</code>) as <code>Optional&lt;User&gt;</code> or even just <code>User</code>"}],"tags":[],"owner":{"account_id":3809070,"reputation":18333,"user_id":3160597,"accept_rate":47,"display_name":"azerafati"},"comment_count":5,"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1413711538,"creation_date":1413711538,"answer_id":26449221,"question_id":9314078,"body_markdown":"# [Use Spring Data Evans  (1.7.0 RELEASE)][2]\nthe new release of Spring Data JPA with another list of modules together called [Evans][1] has the feature of using keywords `Top20` and `First` to limit the query result,\n\nso you could now write\n\n&gt;     List&lt;User&gt; findTop20ByLastname(String lastname, Sort sort);\n\nor\n\n&gt;     List&lt;User&gt; findTop20ByLastnameOrderByIdDesc(String lastname);\n\nor for a single result\n\n&gt;     List&lt;User&gt; findFirstByLastnameOrderByIdDesc(String lastname);\n\n\n\n\n  [1]: https://spring.io/blog/2014/09/09/spring-data-release-train-evans-goes-ga\n  [2]: https://spring.io/blog/2014/10/15/whats-new-in-spring-data-evans#comment-1642206064\n","title":"setMaxResults for Spring-Data-JPA annotation?","body":"<h1><a href=\"https://spring.io/blog/2014/10/15/whats-new-in-spring-data-evans#comment-1642206064\" rel=\"noreferrer\">Use Spring Data Evans  (1.7.0 RELEASE)</a></h1>\n<p>the new release of Spring Data JPA with another list of modules together called <a href=\"https://spring.io/blog/2014/09/09/spring-data-release-train-evans-goes-ga\" rel=\"noreferrer\">Evans</a> has the feature of using keywords <code>Top20</code> and <code>First</code> to limit the query result,</p>\n<p>so you could now write</p>\n<blockquote>\n<pre><code>List&lt;User&gt; findTop20ByLastname(String lastname, Sort sort);\n</code></pre>\n</blockquote>\n<p>or</p>\n<blockquote>\n<pre><code>List&lt;User&gt; findTop20ByLastnameOrderByIdDesc(String lastname);\n</code></pre>\n</blockquote>\n<p>or for a single result</p>\n<blockquote>\n<pre><code>List&lt;User&gt; findFirstByLastnameOrderByIdDesc(String lastname);\n</code></pre>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":2176810,"reputation":1464,"user_id":1927303,"display_name":"Arundev"},"score":0,"creation_date":1501844709,"post_id":28444140,"comment_id":77970976,"body_markdown":"If you are using Pagable then its return Page&lt;XYZ&gt; not List&lt;XYZ&gt;","body":"If you are using Pagable then its return Page&lt;XYZ&gt; not List&lt;XYZ&gt;"},{"owner":{"account_id":3287434,"reputation":1034,"user_id":2766545,"accept_rate":75,"display_name":"Janaka Bandara"},"score":1,"creation_date":1592112990,"post_id":28444140,"comment_id":110304336,"body_markdown":"@Arundev wrong - `List` works perfectly (and avoids an unnecessary `count` query as already mentioned in [a previous comment](https://stackoverflow.com/questions/9314078/setmaxresults-for-spring-data-jpa-annotation#comment-40486876))","body":"@Arundev wrong - <code>List</code> works perfectly (and avoids an unnecessary <code>count</code> query as already mentioned in <a href=\"https://stackoverflow.com/questions/9314078/setmaxresults-for-spring-data-jpa-annotation#comment-40486876\">a previous comment</a>)"}],"tags":[],"owner":{"account_id":306810,"reputation":895,"user_id":617776,"display_name":"ncaralicea"},"comment_count":2,"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1423612489,"creation_date":1423612489,"answer_id":28444140,"question_id":9314078,"body_markdown":"There is a way you can provide the equivalent of &quot;a setMaxResults(n) by annotation&quot; like in the following:\r\n\r\n    public interface ISomething extends JpaRepository&lt;XYZ, Long&gt;\r\n    {\r\n        @Query(&quot;FROM XYZ a WHERE a.eventDateTime &lt; :before ORDER BY a.eventDateTime DESC&quot;)\r\n        List&lt;XYZ&gt; findXYZRecords(@Param(&quot;before&quot;) Date before, Pageable pageable);\r\n    }\r\n\r\nThis should do the trick, when a pageable is sent as parameter.\r\nFor instance to fetch the first 10 records you need to set pageable to this value:\r\n\r\n    new PageRequest(0, 10)\r\n\r\n\r\n","title":"setMaxResults for Spring-Data-JPA annotation?","body":"<p>There is a way you can provide the equivalent of \"a setMaxResults(n) by annotation\" like in the following:</p>\n\n<pre><code>public interface ISomething extends JpaRepository&lt;XYZ, Long&gt;\n{\n    @Query(\"FROM XYZ a WHERE a.eventDateTime &lt; :before ORDER BY a.eventDateTime DESC\")\n    List&lt;XYZ&gt; findXYZRecords(@Param(\"before\") Date before, Pageable pageable);\n}\n</code></pre>\n\n<p>This should do the trick, when a pageable is sent as parameter.\nFor instance to fetch the first 10 records you need to set pageable to this value:</p>\n\n<pre><code>new PageRequest(0, 10)\n</code></pre>\n"},{"comments":[{"owner":{"account_id":4289727,"reputation":901,"user_id":3506427,"accept_rate":56,"display_name":"bogdan.rusu"},"score":0,"creation_date":1446025076,"post_id":32221270,"comment_id":54567119,"body_markdown":"I&#39;ve test this code but it&#39;s not working. No exception, but no proper result neighter. Also the documentation is very thin about QueryHints. See below.  \nhttp://docs.spring.io/spring-data/jpa/docs/1.7.1.RELEASE/reference/html/#jpa.query-hints","body":"I&#39;ve test this code but it&#39;s not working. No exception, but no proper result neighter. Also the documentation is very thin about QueryHints. See below.   <a href=\"http://docs.spring.io/spring-data/jpa/docs/1.7.1.RELEASE/reference/html/#jpa.query-hints\" rel=\"nofollow noreferrer\">docs.spring.io/spring-data/jpa/docs/1.7.1.RELEASE/reference/&zwnj;&#8203;&hellip;</a>"},{"owner":{"account_id":1008930,"reputation":2893,"user_id":1021943,"accept_rate":80,"display_name":"Priidu Neemre"},"score":0,"creation_date":1461677909,"post_id":32221270,"comment_id":61300312,"body_markdown":"IIRC, there are no *guarantees* that a query hint will be followed. It&#39;s just a way to pass &quot;friendly recommendations&quot; to the implementation.","body":"IIRC, there are no <i>guarantees</i> that a query hint will be followed. It&#39;s just a way to pass &quot;friendly recommendations&quot; to the implementation."},{"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"score":0,"creation_date":1481124266,"post_id":32221270,"comment_id":69249470,"body_markdown":"I try it with `@QueryHints({@QueryHint(name = org.hibernate.annotations.FETCH_SIZE, value = &quot;1&quot;)})` in Hibernate, but alias:( doesn&#39;t work","body":"I try it with <code>@QueryHints({@QueryHint(name = org.hibernate.annotations.FETCH_SIZE, value = &quot;1&quot;)})</code> in Hibernate, but alias:( doesn&#39;t work"},{"owner":{"account_id":3032833,"reputation":89,"user_id":2571500,"display_name":"Zhuravskiy Vitaliy"},"score":2,"creation_date":1498197903,"post_id":32221270,"comment_id":76410594,"body_markdown":"org.hibernate.annotations.FETCH_SIZE its fetch size,its not limit, not max results. Hiber cant","body":"org.hibernate.annotations.FETCH_SIZE its fetch size,its not limit, not max results. Hiber cant"}],"tags":[],"owner":{"account_id":2277593,"reputation":484,"user_id":2003481,"accept_rate":69,"display_name":"kraken"},"comment_count":4,"down_vote_count":3,"up_vote_count":9,"is_accepted":false,"score":6,"last_activity_date":1440576779,"creation_date":1440576779,"answer_id":32221270,"question_id":9314078,"body_markdown":"It&#39;s also posible using @QueryHints. Example bellow uses org.eclipse.persistence.config.QueryHints#JDBC_MAX_ROWS\r\n\r\n    @Query(&quot;SELECT u FROM User u WHERE .....&quot;)\r\n    @QueryHints(@QueryHint(name = JDBC_MAX_ROWS, value = &quot;1&quot;))\r\n    Voter findUser();","title":"setMaxResults for Spring-Data-JPA annotation?","body":"<p>It's also posible using @QueryHints. Example bellow uses org.eclipse.persistence.config.QueryHints#JDBC_MAX_ROWS</p>\n\n<pre><code>@Query(\"SELECT u FROM User u WHERE .....\")\n@QueryHints(@QueryHint(name = JDBC_MAX_ROWS, value = \"1\"))\nVoter findUser();\n</code></pre>\n"},{"comments":[{"owner":{"account_id":71353,"reputation":16394,"user_id":206466,"accept_rate":70,"display_name":"xenoterracide"},"score":4,"creation_date":1486077391,"post_id":35265491,"comment_id":71203616,"body_markdown":"potentially useful for a single result `Stream&lt;User&gt; ... {...} default Optional&lt;User&gt; ... { ...findAny() }`","body":"potentially useful for a single result <code>Stream&lt;User&gt; ... {...} default Optional&lt;User&gt; ... { ...findAny() }</code>"}],"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"comment_count":1,"down_vote_count":0,"up_vote_count":120,"is_accepted":false,"score":120,"last_activity_date":1454921410,"creation_date":1454921410,"answer_id":35265491,"question_id":9314078,"body_markdown":"If you are using Java 8 and Spring Data 1.7.0, you can use default methods if you want to combine a `@Query` annotation with setting maximum results:\r\n\r\n    public interface UserRepository extends PagingAndSortingRepository&lt;User,Long&gt; {\r\n      @Query(&quot;from User u where ...&quot;)\r\n      List&lt;User&gt; findAllUsersWhereFoo(@Param(&quot;foo&quot;) Foo foo, Pageable pageable);\r\n\r\n      default List&lt;User&gt; findTop10UsersWhereFoo(Foo foo) {\r\n        return findAllUsersWhereFoo(foo, new PageRequest(0,10));\r\n      }\r\n\r\n    }","title":"setMaxResults for Spring-Data-JPA annotation?","body":"<p>If you are using Java 8 and Spring Data 1.7.0, you can use default methods if you want to combine a <code>@Query</code> annotation with setting maximum results:</p>\n\n<pre><code>public interface UserRepository extends PagingAndSortingRepository&lt;User,Long&gt; {\n  @Query(\"from User u where ...\")\n  List&lt;User&gt; findAllUsersWhereFoo(@Param(\"foo\") Foo foo, Pageable pageable);\n\n  default List&lt;User&gt; findTop10UsersWhereFoo(Foo foo) {\n    return findAllUsersWhereFoo(foo, new PageRequest(0,10));\n  }\n\n}\n</code></pre>\n"},{"comments":[{"owner":{"account_id":9337303,"reputation":9995,"user_id":6931119,"accept_rate":89,"display_name":"Witold Kaczurba"},"score":0,"creation_date":1493383138,"post_id":41025218,"comment_id":74406932,"body_markdown":"Not sure if limit is supported in Hibernate: https://forum.hibernate.org/viewtopic.php?f=9&amp;t=939314","body":"Not sure if limit is supported in Hibernate: <a href=\"https://forum.hibernate.org/viewtopic.php?f=9&amp;t=939314\" rel=\"nofollow noreferrer\">forum.hibernate.org/viewtopic.php?f=9&amp;t=939314</a>"},{"owner":{"account_id":3248402,"reputation":2386,"user_id":2739334,"accept_rate":64,"display_name":"Pwnstar"},"score":4,"creation_date":1499429301,"post_id":41025218,"comment_id":76915404,"body_markdown":"Breaks the whole concept! Better use EntityManager instead!","body":"Breaks the whole concept! Better use EntityManager instead!"},{"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"score":0,"creation_date":1499782103,"post_id":41025218,"comment_id":77047728,"body_markdown":"@Code.IT I propagate KISS concept.\nAside from that  JPA `nativeQuery`  annotation parameter added not for ignoring.","body":"@Code.IT I propagate KISS concept. Aside from that  JPA <code>nativeQuery</code>  annotation parameter added not for ignoring."},{"owner":{"account_id":3248402,"reputation":2386,"user_id":2739334,"accept_rate":64,"display_name":"Pwnstar"},"score":0,"creation_date":1499782385,"post_id":41025218,"comment_id":77047948,"body_markdown":"@GKislin than you have to rename you method like findLimitOneByOtherObj. Also you have forgotten to add an OrderBy which leads to wrong result if the other_obj is not unique. Otherwise a where statement on a unique column should be enough without a limit one","body":"@GKislin than you have to rename you method like findLimitOneByOtherObj. Also you have forgotten to add an OrderBy which leads to wrong result if the other_obj is not unique. Otherwise a where statement on a unique column should be enough without a limit one"},{"owner":{"account_id":988663,"reputation":1687,"user_id":1006504,"accept_rate":76,"display_name":"Acewin"},"score":0,"creation_date":1537199548,"post_id":41025218,"comment_id":91687692,"body_markdown":"LIMIT keyword is not hibernate but postgres/mysql","body":"LIMIT keyword is not hibernate but postgres/mysql"},{"owner":{"account_id":7113523,"reputation":1026,"user_id":5440604,"accept_rate":25,"display_name":"Mike Murphy"},"score":0,"creation_date":1589479082,"post_id":41025218,"comment_id":109318376,"body_markdown":"Nice one, works for me, replaced &quot;?1&quot; with &quot;:param.&quot;","body":"Nice one, works for me, replaced &quot;?1&quot; with &quot;:param.&quot;"}],"tags":[],"owner":{"account_id":263115,"reputation":16960,"user_id":548473,"display_name":"Grigory Kislin"},"comment_count":6,"down_vote_count":2,"up_vote_count":17,"is_accepted":false,"score":15,"last_activity_date":1481136971,"creation_date":1481136971,"answer_id":41025218,"question_id":9314078,"body_markdown":"Best choice for me is native query:\r\n\r\n    @Query(value=&quot;SELECT * FROM users WHERE other_obj = ?1 LIMIT 1&quot;, nativeQuery = true)\r\n    User findByOhterObj(OtherObj otherObj);","title":"setMaxResults for Spring-Data-JPA annotation?","body":"<p>Best choice for me is native query:</p>\n\n<pre><code>@Query(value=\"SELECT * FROM users WHERE other_obj = ?1 LIMIT 1\", nativeQuery = true)\nUser findByOhterObj(OtherObj otherObj);\n</code></pre>\n"},{"comments":[{"owner":{"account_id":8485168,"reputation":677,"user_id":6363596,"accept_rate":70,"display_name":"Shailesh"},"score":0,"creation_date":1589954222,"post_id":46372408,"comment_id":109493628,"body_markdown":"what if I have 2 where conditions in query like, transactionRepository.findByFirstNameAndLastName(firstname, lastname) ? will it work ? I am getting this exception org.springframework.data.mapping.PropertyReferenceException: No property create found for type Board.","body":"what if I have 2 where conditions in query like, transactionRepository.findByFirstNameAndLastName(firstname, lastname) ? will it work ? I am getting this exception org.springframework.data.mapping.PropertyReferenceException: No property create found for type Board."}],"tags":[],"owner":{"account_id":9714508,"reputation":91,"user_id":7205364,"display_name":"Luis Camargo"},"comment_count":1,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1506120105,"creation_date":1506110531,"answer_id":46372408,"question_id":9314078,"body_markdown":"If your class `@Repository` extends `JpaRepository` you can use the example below.\r\n\r\n\r\n    int limited = 100;\r\n\tPageable pageable = new PageRequest(0,limited);\r\n\tPage&lt;Transaction&gt; transactionsPage = transactionRepository.findAll(specification, pageable);\r\n\treturn transactionsPage.getContent();\r\n\r\ngetContent return a `List&lt;Transaction&gt;`.","title":"setMaxResults for Spring-Data-JPA annotation?","body":"<p>If your class <code>@Repository</code> extends <code>JpaRepository</code> you can use the example below.</p>\n\n<pre><code>int limited = 100;\nPageable pageable = new PageRequest(0,limited);\nPage&lt;Transaction&gt; transactionsPage = transactionRepository.findAll(specification, pageable);\nreturn transactionsPage.getContent();\n</code></pre>\n\n<p>getContent return a <code>List&lt;Transaction&gt;</code>.</p>\n"},{"tags":[],"owner":{"account_id":8910445,"reputation":679,"user_id":6650896,"display_name":"Abbas Hosseini"},"comment_count":0,"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1589491125,"creation_date":1589491125,"answer_id":61807574,"question_id":9314078,"body_markdown":"`new PageRequest(0,10)` doesn&#39;t work in newer Spring versions (I am using `2.2.1.RELEASE`). Basically, the constructor got an additional parameter as `Sort` type. Moreover, the constructor is `protected` so you have to either use one of its child classes or call its `of` static method:\r\n```\r\nPageRequest.of(0, 10, Sort.sort(User.class).by(User::getFirstName).ascending()))\r\n```\r\nYou can also omit the use of `Sort` parameter and implicitly user the default sort  (sort by pk, etc.):\r\n```\r\nPageRequest.of(0, 10)\r\n``` \r\n\r\nYour function declaration should be something like this:\r\n```\r\nList&lt;User&gt; findByUsername(String username, Pageable pageable)\r\n```\r\nand the function will be:\r\n```\r\nuserRepository.findByUsername(&quot;Abbas&quot;, PageRequest.of(0,10, Sort.sort(User.class).by(User::getLastName).ascending());\r\n```","title":"setMaxResults for Spring-Data-JPA annotation?","body":"<p><code>new PageRequest(0,10)</code> doesn't work in newer Spring versions (I am using <code>2.2.1.RELEASE</code>). Basically, the constructor got an additional parameter as <code>Sort</code> type. Moreover, the constructor is <code>protected</code> so you have to either use one of its child classes or call its <code>of</code> static method:</p>\n\n<pre><code>PageRequest.of(0, 10, Sort.sort(User.class).by(User::getFirstName).ascending()))\n</code></pre>\n\n<p>You can also omit the use of <code>Sort</code> parameter and implicitly user the default sort  (sort by pk, etc.):</p>\n\n<pre><code>PageRequest.of(0, 10)\n</code></pre>\n\n<p>Your function declaration should be something like this:</p>\n\n<pre><code>List&lt;User&gt; findByUsername(String username, Pageable pageable)\n</code></pre>\n\n<p>and the function will be:</p>\n\n<pre><code>userRepository.findByUsername(\"Abbas\", PageRequest.of(0,10, Sort.sort(User.class).by(User::getLastName).ascending());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":112388,"reputation":5625,"user_id":296469,"accept_rate":94,"display_name":"Liutas"},"comment_count":0,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1672850516,"creation_date":1672850516,"answer_id":75008561,"question_id":9314078,"body_markdown":"Use \r\n\r\n    Pageable pageable = PageRequest.of(0,1);\r\n    Page&lt;Transaction&gt; transactionsPage = transactionRepository.findAll(specification, pageable);\r\n    return transactionsPage.getContent();","title":"setMaxResults for Spring-Data-JPA annotation?","body":"<p>Use</p>\n<pre><code>Pageable pageable = PageRequest.of(0,1);\nPage&lt;Transaction&gt; transactionsPage = transactionRepository.findAll(specification, pageable);\nreturn transactionsPage.getContent();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":949732,"reputation":1711,"user_id":976115,"accept_rate":43,"display_name":"hurelhuyag"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1696573904,"creation_date":1696573904,"answer_id":77242275,"question_id":9314078,"body_markdown":"I can&#39;t believe after 12 years. Sping-Data-JPA still has no actual solution.\r\nI ended up writing a custom Repository implementation.\r\n\r\n```java\r\npublic class CustomJpaRepository &lt;Entity, Id&gt; extends JpaRepositoryImplementation&lt;Entity, Id&gt; {\r\n  Optional&lt;Entity&gt; findFirst(String query, Map&lt;String, Object&gt; parameters, String entityGraph);\r\n}\r\n\r\npublic class CustomExtendedJpaRepository&lt;E, I&gt; extends SimpleJpaRepository&lt;E, I&gt; implements ExtendedJpaRepository&lt;E, I&gt;{\r\n\r\n    private final EntityManager entityManager;\r\n    private final Class&lt;E&gt; domainClass;\r\n\r\n    public CustomExtendedJpaRepository(JpaEntityInformation&lt;E, I&gt; entityInformation, EntityManager em) {\r\n        super(entityInformation, em);\r\n        this.entityManager = em;\r\n        this.domainClass = entityInformation.getJavaType();\r\n    }\r\n\r\n    public CustomExtendedJpaRepository(Class&lt;E&gt; domainClass, EntityManager em) {\r\n        super(domainClass, em);\r\n        this.entityManager = em;\r\n        this.domainClass = domainClass;\r\n    }\r\n    \r\n    @Override\r\n    public Optional&lt;E&gt; findFirst(String query, Map&lt;String, Object&gt; parameters, String entityGraph) {\r\n        var tq = entityManager.createQuery(query, domainClass);\r\n        for (var p : parameters.entrySet()) {\r\n            tq.setParameter(p.getKey(), p.getValue());\r\n        }\r\n        if (entityGraph != null) {\r\n            tq.setHint(AvailableHints.HINT_SPEC_FETCH_GRAPH, entityManager.getEntityGraph(entityGraph));\r\n        }\r\n        tq.setMaxResults(1);\r\n        return Optional.ofNullable(tq.getSingleResult());\r\n    }\r\n}\r\n\r\n```\r\nTo enable custom implementation\r\n\r\n```java\r\n@EnableJpaRepositories(\r\n        basePackages = &quot;your.company.persistence&quot;,\r\n        repositoryBaseClass = CustomExtendedJpaRepository.class\r\n)\r\n```\r\n","title":"setMaxResults for Spring-Data-JPA annotation?","body":"<p>I can't believe after 12 years. Sping-Data-JPA still has no actual solution.\nI ended up writing a custom Repository implementation.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class CustomJpaRepository &lt;Entity, Id&gt; extends JpaRepositoryImplementation&lt;Entity, Id&gt; {\n  Optional&lt;Entity&gt; findFirst(String query, Map&lt;String, Object&gt; parameters, String entityGraph);\n}\n\npublic class CustomExtendedJpaRepository&lt;E, I&gt; extends SimpleJpaRepository&lt;E, I&gt; implements ExtendedJpaRepository&lt;E, I&gt;{\n\n    private final EntityManager entityManager;\n    private final Class&lt;E&gt; domainClass;\n\n    public CustomExtendedJpaRepository(JpaEntityInformation&lt;E, I&gt; entityInformation, EntityManager em) {\n        super(entityInformation, em);\n        this.entityManager = em;\n        this.domainClass = entityInformation.getJavaType();\n    }\n\n    public CustomExtendedJpaRepository(Class&lt;E&gt; domainClass, EntityManager em) {\n        super(domainClass, em);\n        this.entityManager = em;\n        this.domainClass = domainClass;\n    }\n    \n    @Override\n    public Optional&lt;E&gt; findFirst(String query, Map&lt;String, Object&gt; parameters, String entityGraph) {\n        var tq = entityManager.createQuery(query, domainClass);\n        for (var p : parameters.entrySet()) {\n            tq.setParameter(p.getKey(), p.getValue());\n        }\n        if (entityGraph != null) {\n            tq.setHint(AvailableHints.HINT_SPEC_FETCH_GRAPH, entityManager.getEntityGraph(entityGraph));\n        }\n        tq.setMaxResults(1);\n        return Optional.ofNullable(tq.getSingleResult());\n    }\n}\n\n</code></pre>\n<p>To enable custom implementation</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EnableJpaRepositories(\n        basePackages = &quot;your.company.persistence&quot;,\n        repositoryBaseClass = CustomExtendedJpaRepository.class\n)\n</code></pre>\n"}],"owner":{"account_id":113283,"reputation":11626,"user_id":298430,"accept_rate":66,"display_name":"smallufo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":218260,"favorite_count":0,"down_vote_count":0,"up_vote_count":161,"answer_count":10,"score":161,"last_activity_date":1696573904,"creation_date":1329406347,"question_id":9314078,"body_markdown":"I am trying to incorporate Spring-Data-JPA into my project.\r\nOne thing that confuses me is how do I achieve setMaxResults(n) by annotation ?\r\n\r\nfor example, my code: \r\n\r\n    public interface UserRepository extends CrudRepository&lt;User , Long&gt;\r\n    {\r\n      @Query(value=&quot;From User u where u.otherObj = ?1 &quot;)\r\n      public User findByOtherObj(OtherObj otherObj);\r\n    }\r\n\r\nI only need to return `one (and only one)` User from otherObj, but I cannot find a way to annotate the maxResults. Can somebody give me a hint ?\r\n\r\n(mysql complains :\r\n\r\n    com.mysql.jdbc.JDBC4PreparedStatement@5add5415: select user0_.id as id100_, user0_.created as created100_ from User user0_ where user0_.id=2 limit ** NOT SPECIFIED **\r\n    WARN  util.JDBCExceptionReporter - SQL Error: 0, SQLState: 07001\r\n    ERROR util.JDBCExceptionReporter - No value specified for parameter 2\r\n\r\n)\r\n\r\nI found a link : https://jira.springsource.org/browse/DATAJPA-147,\r\nI tried but failed. It seems not possible now? \r\nWhy is such an important feature not built into Spring-Data?\r\n\r\nIf I implement this feature manually:\r\n\r\n    public class UserRepositoryImpl implements UserRepository\r\n\r\nI have to implement tons of predefined methods in `CrudRepository`, this would be terrible.\r\n\r\nenvironments : spring-3.1 , spring-data-jpa-1.0.3.RELEASE.jar , spring-data-commons-core-1.1.0.RELEASE.jar","title":"setMaxResults for Spring-Data-JPA annotation?","body":"<p>I am trying to incorporate Spring-Data-JPA into my project.\nOne thing that confuses me is how do I achieve setMaxResults(n) by annotation ?</p>\n<p>for example, my code:</p>\n<pre><code>public interface UserRepository extends CrudRepository&lt;User , Long&gt;\n{\n  @Query(value=&quot;From User u where u.otherObj = ?1 &quot;)\n  public User findByOtherObj(OtherObj otherObj);\n}\n</code></pre>\n<p>I only need to return <code>one (and only one)</code> User from otherObj, but I cannot find a way to annotate the maxResults. Can somebody give me a hint ?</p>\n<p>(mysql complains :</p>\n<pre><code>com.mysql.jdbc.JDBC4PreparedStatement@5add5415: select user0_.id as id100_, user0_.created as created100_ from User user0_ where user0_.id=2 limit ** NOT SPECIFIED **\nWARN  util.JDBCExceptionReporter - SQL Error: 0, SQLState: 07001\nERROR util.JDBCExceptionReporter - No value specified for parameter 2\n</code></pre>\n<p>)</p>\n<p>I found a link : <a href=\"https://jira.springsource.org/browse/DATAJPA-147\" rel=\"noreferrer\">https://jira.springsource.org/browse/DATAJPA-147</a>,\nI tried but failed. It seems not possible now?\nWhy is such an important feature not built into Spring-Data?</p>\n<p>If I implement this feature manually:</p>\n<pre><code>public class UserRepositoryImpl implements UserRepository\n</code></pre>\n<p>I have to implement tons of predefined methods in <code>CrudRepository</code>, this would be terrible.</p>\n<p>environments : spring-3.1 , spring-data-jpa-1.0.3.RELEASE.jar , spring-data-commons-core-1.1.0.RELEASE.jar</p>\n"},{"tags":["java","eclipse"],"answers":[{"comments":[{"owner":{"account_id":123871,"reputation":4275,"user_id":318599,"accept_rate":62,"display_name":"Anto"},"score":0,"creation_date":1265764147,"post_id":2233674,"comment_id":2189489,"body_markdown":"everything seems to be fine. I have just noticed that if I build the build.xml file it fails and the following error is displayed: `Error running javac.exe compiler` pointing at this line of the build file:\n`&lt;javac srcdir=&quot;${src.dir}/${FrontEnd.dir}&quot; destdir=&quot;${classes.dir}&quot; classpathref=&quot;master-classpath&quot; fork=&quot;yes&quot;&gt;` \n\nIt seems the compiler is missing, do you think that the previous error is related to this one? Many thanks!","body":"everything seems to be fine. I have just noticed that if I build the build.xml file it fails and the following error is displayed: <code>Error running javac.exe compiler</code> pointing at this line of the build file: <code>&lt;javac srcdir=&quot;${src.dir}&#47;${FrontEnd.dir}&quot; destdir=&quot;${classes.dir}&quot; classpathref=&quot;master-classpath&quot; fork=&quot;yes&quot;&gt;</code>   It seems the compiler is missing, do you think that the previous error is related to this one? Many thanks!"},{"owner":{"account_id":123871,"reputation":4275,"user_id":318599,"accept_rate":62,"display_name":"Anto"},"score":0,"creation_date":1265791234,"post_id":2233674,"comment_id":2191249,"body_markdown":"I did set the JAVA_HOME/bin variable to the bin folder where the javac.exe file is contained (it&#39;s jdk 1.6.0_18). In the Install JRE section of Eclipse I did add the jdk 1.6.0_18, so everything seems to be set perfectly. One thing I have noticed (and I don&#39;t know if it&#39;s relevant or not) is that in the Properties dialog of the project, in the &quot;Java Compiler&quot; section, the &quot;Use Compliance from the Execution Environment on the java Build Path&quot; is always disabled and can&#39;t be enabled, while in the other projects this problem doesn&#39;t exist....thanks for the help!","body":"I did set the JAVA_HOME/bin variable to the bin folder where the javac.exe file is contained (it&#39;s jdk 1.6.0_18). In the Install JRE section of Eclipse I did add the jdk 1.6.0_18, so everything seems to be set perfectly. One thing I have noticed (and I don&#39;t know if it&#39;s relevant or not) is that in the Properties dialog of the project, in the &quot;Java Compiler&quot; section, the &quot;Use Compliance from the Execution Environment on the java Build Path&quot; is always disabled and can&#39;t be enabled, while in the other projects this problem doesn&#39;t exist....thanks for the help!"}],"tags":[],"owner":{"account_id":16878,"reputation":306143,"user_id":37213,"accept_rate":81,"display_name":"duffymo"},"comment_count":2,"down_vote_count":1,"up_vote_count":10,"is_accepted":false,"score":9,"last_activity_date":1265765883,"creation_date":1265763128,"answer_id":2233674,"question_id":2233656,"body_markdown":"java.lang.ClassNotFoundException means CLASSPATH issues.  Not having a clue implies that you&#39;re assuming that the CLASSPATH is set properly, but it&#39;s not.\r\n\r\nIf you&#39;re building with Eclipse, make sure that the directory where your compiled .class files exists, is in the CLASSPATH, and has the necessary .class files in it.\r\n\r\nIf you&#39;re building with Ant, make sure you see something like this in your build.xml:\r\n\r\n    &lt;path id=&quot;production.class.path&quot;&gt;\r\n        &lt;pathelement location=&quot;${production.classes}&quot;/&gt;\r\n        &lt;pathelement location=&quot;${production.resources}&quot;/&gt;\r\n        &lt;fileset dir=&quot;${production.lib}&quot;&gt;\r\n            &lt;include name=&quot;**/*.jar&quot;/&gt;\r\n            &lt;exclude name=&quot;**/junit*.jar&quot;/&gt;\r\n            &lt;exclude name=&quot;**/*test*.jar&quot;/&gt;\r\n        &lt;/fileset&gt;\r\n    &lt;/path&gt;\r\n\r\n\r\nUPDATE: Either you don&#39;t have JAVA_HOME/bin in your PATH or you downloaded the JRE instead of the JDK.  Check the directory where you installed Java and see if your /bin directory has javac.exe in it.  If you don&#39;t have a /bin, download the JDK and install it.\r\n\r\nIf you do have a /bin with javac.exe in it, check your PATH to see that the Java /bin directory is in the PATH.  Once you&#39;ve set it, open a command shell and type &quot;javac -version&quot; to ensure that all is well.\r\n\r\nWhat JDK did you tell Eclipse to use?  \r\n\r\n\r\n\r\n","title":"Strange &quot;java.lang.NoClassDefFoundError&quot; in Eclipse","body":"<p>java.lang.ClassNotFoundException means CLASSPATH issues.  Not having a clue implies that you're assuming that the CLASSPATH is set properly, but it's not.</p>\n\n<p>If you're building with Eclipse, make sure that the directory where your compiled .class files exists, is in the CLASSPATH, and has the necessary .class files in it.</p>\n\n<p>If you're building with Ant, make sure you see something like this in your build.xml:</p>\n\n<pre><code>&lt;path id=\"production.class.path\"&gt;\n    &lt;pathelement location=\"${production.classes}\"/&gt;\n    &lt;pathelement location=\"${production.resources}\"/&gt;\n    &lt;fileset dir=\"${production.lib}\"&gt;\n        &lt;include name=\"**/*.jar\"/&gt;\n        &lt;exclude name=\"**/junit*.jar\"/&gt;\n        &lt;exclude name=\"**/*test*.jar\"/&gt;\n    &lt;/fileset&gt;\n&lt;/path&gt;\n</code></pre>\n\n<p>UPDATE: Either you don't have JAVA_HOME/bin in your PATH or you downloaded the JRE instead of the JDK.  Check the directory where you installed Java and see if your /bin directory has javac.exe in it.  If you don't have a /bin, download the JDK and install it.</p>\n\n<p>If you do have a /bin with javac.exe in it, check your PATH to see that the Java /bin directory is in the PATH.  Once you've set it, open a command shell and type \"javac -version\" to ensure that all is well.</p>\n\n<p>What JDK did you tell Eclipse to use?  </p>\n"},{"comments":[{"owner":{"account_id":123871,"reputation":4275,"user_id":318599,"accept_rate":62,"display_name":"Anto"},"score":0,"creation_date":1265801396,"post_id":2235399,"comment_id":2192216,"body_markdown":"so do you think it would be better to remove the `classpathref=&quot;master-classpath` from the build file and create a classpath variable in Eclipse?","body":"so do you think it would be better to remove the <code>classpathref=&quot;master-classpath</code> from the build file and create a classpath variable in Eclipse?"},{"owner":{"account_id":99700,"reputation":716,"user_id":269154,"accept_rate":50,"display_name":"sreejith"},"score":0,"creation_date":1265853907,"post_id":2235399,"comment_id":2198497,"body_markdown":"please check this for the first problem \n\nfor the second problem \n\nError running javac.exe compiler pointing at this line of the build file: &lt;javac srcdir=&quot;${src.dir}/${FrontEnd.dir}&quot; destdir=&quot;${classes.dir}&quot; classpathref=&quot;master-classpath&quot; fork=&quot;yes&quot;&gt; \n\nthere is less chance that javac will not be there... the problem may be because some other parameters are wrong, \n\nso configure class path in eclipse and give the statement like this &lt;javac srcdir=&quot;${src.dir}/${FrontEnd.dir}&quot; destdir=&quot;${classes.dir}&quot;&gt;","body":"please check this for the first problem   for the second problem   Error running javac.exe compiler pointing at this line of the build file: &lt;javac srcdir=&quot;${src.dir}/${FrontEnd.dir}&quot; destdir=&quot;${classes.dir}&quot; classpathref=&quot;master-classpath&quot; fork=&quot;yes&quot;&gt;   there is less chance that javac will not be there... the problem may be because some other parameters are wrong,   so configure class path in eclipse and give the statement like this &lt;javac srcdir=&quot;${src.dir}/${FrontEnd.dir}&quot; destdir=&quot;${classes.dir}&quot;&gt;"}],"tags":[],"owner":{"account_id":99700,"reputation":716,"user_id":269154,"accept_rate":50,"display_name":"sreejith"},"comment_count":2,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1265791246,"creation_date":1265791246,"answer_id":2235399,"question_id":2233656,"body_markdown":"both the problem will be because of classpathref=&quot;master-classpath&quot;, please check the value is correct","title":"Strange &quot;java.lang.NoClassDefFoundError&quot; in Eclipse","body":"<p>both the problem will be because of classpathref=\"master-classpath\", please check the value is correct</p>\n"},{"tags":[],"owner":{"account_id":68381,"reputation":1779,"user_id":199536,"accept_rate":80,"display_name":"Steve De Caux"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1303917293,"creation_date":1303917293,"answer_id":5806414,"question_id":2233656,"body_markdown":"I&#39;m seeing this a bit too often lately. Just today I had the issue with a class in the same package as the affected (red-flagged) class !\r\n\r\nExiting eclipse and restarting generally works to resolve the red flag on the affected class but sometimes a red flag is left on the project, then I also need to close the project and reopen it as well to get rid of the standalone red flag. It looks quite weird to see a red flag on a project, with no red flags in any of its child directories.\r\n\r\nWith maven project clusters, I close and open all of the projects in the cluster after restarting eclipse.","title":"Strange &quot;java.lang.NoClassDefFoundError&quot; in Eclipse","body":"<p>I'm seeing this a bit too often lately. Just today I had the issue with a class in the same package as the affected (red-flagged) class !</p>\n\n<p>Exiting eclipse and restarting generally works to resolve the red flag on the affected class but sometimes a red flag is left on the project, then I also need to close the project and reopen it as well to get rid of the standalone red flag. It looks quite weird to see a red flag on a project, with no red flags in any of its child directories.</p>\n\n<p>With maven project clusters, I close and open all of the projects in the cluster after restarting eclipse.</p>\n"},{"comments":[{"owner":{"account_id":87779,"reputation":33895,"user_id":243245,"accept_rate":70,"display_name":"Rup"},"score":3,"creation_date":1330681812,"post_id":6624817,"comment_id":12074589,"body_markdown":"[An anonymous user comments](http://stackoverflow.com/suggested-edits/212846): &quot;4:- Click in &#39;enable project specific settings&#39; and set &#39;add Java compliance level 1.5&#39; otherwise it will cause errors&quot;","body":"<a href=\"http://stackoverflow.com/suggested-edits/212846\">An anonymous user comments</a>: &quot;4:- Click in &#39;enable project specific settings&#39; and set &#39;add Java compliance level 1.5&#39; otherwise it will cause errors&quot;"},{"owner":{"account_id":1694889,"reputation":548,"user_id":1556478,"accept_rate":100,"display_name":"David Dimalanta"},"score":0,"creation_date":1371457795,"post_id":6624817,"comment_id":24812044,"body_markdown":"Still not working and especially when fixing issues right after implementing the tween engine onto the libs folder. I got to find a way how to run on Android device. By the way, I&#39;m using &quot;`java-universal-tween-engine`&quot;.","body":"Still not working and especially when fixing issues right after implementing the tween engine onto the libs folder. I got to find a way how to run on Android device. By the way, I&#39;m using &quot;<code>java-universal-tween-engine</code>&quot;."},{"owner":{"account_id":455653,"reputation":1784,"user_id":853948,"accept_rate":92,"display_name":"N Jay"},"score":0,"creation_date":1379760510,"post_id":6624817,"comment_id":27953486,"body_markdown":"I had the same problem on Android and this fixed my issue i dono how or why this happens but thanks:)","body":"I had the same problem on Android and this fixed my issue i dono how or why this happens but thanks:)"}],"tags":[],"owner":{"account_id":782972,"reputation":81,"user_id":835404,"display_name":"NooberOverloard"},"comment_count":3,"down_vote_count":5,"up_vote_count":9,"is_accepted":false,"score":4,"last_activity_date":1353172065,"creation_date":1310130229,"answer_id":6624817,"question_id":2233656,"body_markdown":"This seems to be a common error. The solution is to:\r\n\r\n * right-click project\r\n * choose properties\r\n * choose &#39;Java Compiler&#39;\r\n * unclick the first box saying &#39;Enable project specific settings&#39;\r\n * apply\r\n * save\r\n * run\r\n\r\nHope this helps in some cases.\r\n\r\n","title":"Strange &quot;java.lang.NoClassDefFoundError&quot; in Eclipse","body":"<p>This seems to be a common error. The solution is to:</p>\n\n<ul>\n<li>right-click project</li>\n<li>choose properties</li>\n<li>choose 'Java Compiler'</li>\n<li>unclick the first box saying 'Enable project specific settings'</li>\n<li>apply</li>\n<li>save</li>\n<li>run</li>\n</ul>\n\n<p>Hope this helps in some cases.</p>\n"},{"tags":[],"owner":{"account_id":28808,"reputation":4733,"user_id":77255,"accept_rate":71,"display_name":"Alexandra"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1319127106,"creation_date":1319127106,"answer_id":7838939,"question_id":2233656,"body_markdown":"While this is a wild guess and may not be applicable in your specific situation, this could&#39;ve saved me an hour or so.\r\n\r\nIn case you have &quot;converted&quot; a plain project into Java project (by editing .project file and adding appropriate &lt;nature...&gt; tag), make sure you also have a proper &lt;buildSpec&gt; specified - my project didn&#39;t get built even though Eclipse attempted to and run no builders (success!):\r\n\r\n    &lt;buildSpec&gt;\r\n        &lt;buildCommand&gt;\r\n            &lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\r\n            &lt;arguments&gt;\r\n            &lt;/arguments&gt;\r\n        &lt;/buildCommand&gt;\r\n    &lt;/buildSpec&gt;\r\n","title":"Strange &quot;java.lang.NoClassDefFoundError&quot; in Eclipse","body":"<p>While this is a wild guess and may not be applicable in your specific situation, this could've saved me an hour or so.</p>\n\n<p>In case you have \"converted\" a plain project into Java project (by editing .project file and adding appropriate  tag), make sure you also have a proper  specified - my project didn't get built even though Eclipse attempted to and run no builders (success!):</p>\n\n<pre><code>&lt;buildSpec&gt;\n    &lt;buildCommand&gt;\n        &lt;name&gt;org.eclipse.jdt.core.javabuilder&lt;/name&gt;\n        &lt;arguments&gt;\n        &lt;/arguments&gt;\n    &lt;/buildCommand&gt;\n&lt;/buildSpec&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1142567,"reputation":11,"user_id":1126061,"display_name":"Puja"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1325500170,"creation_date":1325500170,"answer_id":8699759,"question_id":2233656,"body_markdown":"I too was facing the same issue. Then discovered that the path for the lib folder in the classpath was not set properly. \r\n","title":"Strange &quot;java.lang.NoClassDefFoundError&quot; in Eclipse","body":"<p>I too was facing the same issue. Then discovered that the path for the lib folder in the classpath was not set properly. </p>\n"},{"tags":[],"owner":{"account_id":551298,"reputation":11,"user_id":916106,"display_name":"Mike K."},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1325736778,"creation_date":1325736778,"answer_id":8737550,"question_id":2233656,"body_markdown":"Stab in the dark, but I was having the same exact issue. I solved it by deleting the project from my workspace (be careful not to delete from disk), and then re-imported the project and it worked fine. I think mine was caused by a bad windows shutdown (restarting windows correctly did not correct the issue). HTH.","title":"Strange &quot;java.lang.NoClassDefFoundError&quot; in Eclipse","body":"<p>Stab in the dark, but I was having the same exact issue. I solved it by deleting the project from my workspace (be careful not to delete from disk), and then re-imported the project and it worked fine. I think mine was caused by a bad windows shutdown (restarting windows correctly did not correct the issue). HTH.</p>\n"},{"comments":[{"owner":{"account_id":483119,"reputation":2939,"user_id":897968,"accept_rate":82,"display_name":"FriendFX"},"score":1,"creation_date":1333498520,"post_id":9423915,"comment_id":12787416,"body_markdown":"I had the same problem, which I probably caused by trying to delete the _bin_ folder of my project. Thanks for the Clean suggestion... it worked for me!","body":"I had the same problem, which I probably caused by trying to delete the <i>bin</i> folder of my project. Thanks for the Clean suggestion... it worked for me!"},{"owner":{"account_id":668476,"reputation":18892,"user_id":504956,"accept_rate":69,"display_name":"V G"},"score":1,"creation_date":1386193239,"post_id":9423915,"comment_id":30440258,"body_markdown":"Another usual problem could be that the project is not synchronized with the filesystem. The solution is simply to refresh the project (F5).","body":"Another usual problem could be that the project is not synchronized with the filesystem. The solution is simply to refresh the project (F5)."},{"owner":{"account_id":1290655,"reputation":1968,"user_id":1242821,"display_name":"Rudolf Real"},"score":1,"creation_date":1390360373,"post_id":9423915,"comment_id":32054374,"body_markdown":"I tried this and many other alternatives and didn&#39;t work.\n**Deleting the workspace** only worked for me.","body":"I tried this and many other alternatives and didn&#39;t work. <b>Deleting the workspace</b> only worked for me."},{"owner":{"account_id":11373411,"reputation":450,"user_id":8338400,"accept_rate":40,"display_name":"Ullas Sharma"},"score":0,"creation_date":1528264617,"post_id":9423915,"comment_id":88435021,"body_markdown":"I aslo faced the same problem but after **maven clean install** and changing java build path it worked for me.","body":"I aslo faced the same problem but after <b>maven clean install</b> and changing java build path it worked for me."}],"tags":[],"owner":{"account_id":338756,"reputation":6048,"user_id":667810,"accept_rate":92,"display_name":"rmtheis"},"comment_count":4,"down_vote_count":0,"up_vote_count":43,"is_accepted":false,"score":43,"last_activity_date":1330045393,"creation_date":1330045393,"answer_id":9423915,"question_id":2233656,"body_markdown":"Doing Project-&gt;Clean… in Eclipse solved this problem for me.","title":"Strange &quot;java.lang.NoClassDefFoundError&quot; in Eclipse","body":"<p>Doing Project->Clean… in Eclipse solved this problem for me.</p>\n"},{"tags":[],"owner":{"account_id":81375,"reputation":2305,"user_id":229513,"accept_rate":57,"display_name":"Martin Pernollet"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1331200204,"creation_date":1331200204,"answer_id":9615645,"question_id":2233656,"body_markdown":"When you launch your program, it stores the launch configuration that you may latter modify. If something changed in your build/run process, you may have wrong settings. For example I used to work with maven, and some launch configuration reference a maven2_classpath_container.\r\nWhen deleting the launch configuration and running the program again, it can work again. ","title":"Strange &quot;java.lang.NoClassDefFoundError&quot; in Eclipse","body":"<p>When you launch your program, it stores the launch configuration that you may latter modify. If something changed in your build/run process, you may have wrong settings. For example I used to work with maven, and some launch configuration reference a maven2_classpath_container.\nWhen deleting the launch configuration and running the program again, it can work again. </p>\n"},{"tags":[],"owner":{"account_id":588932,"reputation":2239,"user_id":2663340,"display_name":"Scott Izu"},"comment_count":0,"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1333995873,"creation_date":1333471908,"answer_id":9997838,"question_id":2233656,"body_markdown":"As mentioned above, &quot;java.lang.ClassNotFoundException means CLASSPATH issues.&quot;\r\n\r\nIn my setup, I am running Maven to build (instead of Ant) and using Eclipse (instead of Netbeans).\r\n\r\nUsually, to build and setup the project, I will run &#39;mvn clean&#39;, &#39;mvn compile&#39;, &#39;mvn eclipse:eclipse&#39; from the Windows command prompt.  The last command &#39;mvn eclipse:eclipse&#39; updates the project configuration creating .classpath and .project files.\r\n\r\nTo fix the problem, I deleted the two files (.classpath and .project) then re-ran the three commands.\r\n\r\nSo depending on your configuration, try to find the classpath/project files (make a backup) and delete them.  You can also try deleting the target/release/build folder (whatever is created from the build command) as well.  Then try to build/package/configure your project again.","title":"Strange &quot;java.lang.NoClassDefFoundError&quot; in Eclipse","body":"<p>As mentioned above, \"java.lang.ClassNotFoundException means CLASSPATH issues.\"</p>\n\n<p>In my setup, I am running Maven to build (instead of Ant) and using Eclipse (instead of Netbeans).</p>\n\n<p>Usually, to build and setup the project, I will run 'mvn clean', 'mvn compile', 'mvn eclipse:eclipse' from the Windows command prompt.  The last command 'mvn eclipse:eclipse' updates the project configuration creating .classpath and .project files.</p>\n\n<p>To fix the problem, I deleted the two files (.classpath and .project) then re-ran the three commands.</p>\n\n<p>So depending on your configuration, try to find the classpath/project files (make a backup) and delete them.  You can also try deleting the target/release/build folder (whatever is created from the build command) as well.  Then try to build/package/configure your project again.</p>\n"},{"tags":[],"owner":{"account_id":1454457,"reputation":21,"user_id":1370467,"display_name":"kunal khaire"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1336111868,"creation_date":1336111868,"answer_id":10443562,"question_id":2233656,"body_markdown":"I thought my problem and its solution could help.So i was getting this same error in my eclipse project.In my project i have couple of jar files and the NOCLASSDEFERROR was thrown for a file in the jar file.\r\n\r\nMy library files were part of a folder name &quot;lib&quot; in my project heirarchy.I changed my folders name to &quot;libs&quot; and voila it worked.\r\n\r\n(I looked into the .classpath file and i had key-value pairs,and the entry for my jar file had key named &quot;lib&quot; and hence i thought probably changing from lib could help.)","title":"Strange &quot;java.lang.NoClassDefFoundError&quot; in Eclipse","body":"<p>I thought my problem and its solution could help.So i was getting this same error in my eclipse project.In my project i have couple of jar files and the NOCLASSDEFERROR was thrown for a file in the jar file.</p>\n\n<p>My library files were part of a folder name \"lib\" in my project heirarchy.I changed my folders name to \"libs\" and voila it worked.</p>\n\n<p>(I looked into the .classpath file and i had key-value pairs,and the entry for my jar file had key named \"lib\" and hence i thought probably changing from lib could help.)</p>\n"},{"tags":[],"owner":{"account_id":1532118,"reputation":11,"user_id":1429075,"display_name":"SAL"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1338485894,"creation_date":1338485894,"answer_id":10838496,"question_id":2233656,"body_markdown":"I found that I had a jar in WEB-INF/lib that was in my classpath, however when I upgraded it to the latest version, the filename was different.  Removing the old jar file from the classpath and adding the new one fixed the problem.  Strangely, Eclipse did not seem to warn me that the old jar file was missing and appeared to compile, however nothing was getting compiled, hence the NoClassDefFoundError.  The clue for me was that the build/classes directory was setup in the project as the output folder but no class files were getting created there after the build.","title":"Strange &quot;java.lang.NoClassDefFoundError&quot; in Eclipse","body":"<p>I found that I had a jar in WEB-INF/lib that was in my classpath, however when I upgraded it to the latest version, the filename was different.  Removing the old jar file from the classpath and adding the new one fixed the problem.  Strangely, Eclipse did not seem to warn me that the old jar file was missing and appeared to compile, however nothing was getting compiled, hence the NoClassDefFoundError.  The clue for me was that the build/classes directory was setup in the project as the output folder but no class files were getting created there after the build.</p>\n"},{"tags":[],"owner":{"account_id":1660957,"reputation":1,"user_id":1529271,"display_name":"Chandra"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1342450977,"creation_date":1342450977,"answer_id":11507043,"question_id":2233656,"body_markdown":"I see that people have already talked about class path. Since there is no accepted answer, I assume it is not related to class path. So I would like to add that, not having package directive can also lead to class not found errors.","title":"Strange &quot;java.lang.NoClassDefFoundError&quot; in Eclipse","body":"<p>I see that people have already talked about class path. Since there is no accepted answer, I assume it is not related to class path. So I would like to add that, not having package directive can also lead to class not found errors.</p>\n"},{"tags":[],"owner":{"account_id":1685212,"reputation":396,"user_id":1548674,"accept_rate":75,"display_name":"Cnu Federer"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1364205106,"creation_date":1364205106,"answer_id":15611948,"question_id":2233656,"body_markdown":"go to build path and check for errors in the jar files, they might be moved to somewhere else.\r\nif you have errors on the jar files. Remove them and locate them by clicking add external jars.\r\n\r\n-cnufederer\r\n","title":"Strange &quot;java.lang.NoClassDefFoundError&quot; in Eclipse","body":"<p>go to build path and check for errors in the jar files, they might be moved to somewhere else.\nif you have errors on the jar files. Remove them and locate them by clicking add external jars.</p>\n\n<p>-cnufederer</p>\n"},{"tags":[],"owner":{"account_id":1249742,"reputation":1319,"user_id":1210389,"accept_rate":60,"display_name":"Carlos"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1370007683,"creation_date":1370007683,"answer_id":16858711,"question_id":2233656,"body_markdown":"Ensure that all the libraries you&#39;re using in your project are not being referenced from other project int the workspace. That was my problem.","title":"Strange &quot;java.lang.NoClassDefFoundError&quot; in Eclipse","body":"<p>Ensure that all the libraries you're using in your project are not being referenced from other project int the workspace. That was my problem.</p>\n"},{"tags":[],"owner":{"account_id":408975,"reputation":503,"user_id":779956,"accept_rate":89,"display_name":"Erik"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1372275096,"creation_date":1372275096,"answer_id":17328852,"question_id":2233656,"body_markdown":"I had a similar problem and it had to do with the libraries referenced by the java build path; I was referencing libraries that didn&#39;t exist anymore when I did an update. When I removed these references, by project started running again.\r\n\r\nThe libraries are listed under the Java Build Path in the project properties window.\r\n\r\nHope this helps.","title":"Strange &quot;java.lang.NoClassDefFoundError&quot; in Eclipse","body":"<p>I had a similar problem and it had to do with the libraries referenced by the java build path; I was referencing libraries that didn't exist anymore when I did an update. When I removed these references, by project started running again.</p>\n\n<p>The libraries are listed under the Java Build Path in the project properties window.</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":3543067,"reputation":1,"user_id":2959682,"display_name":"user2959682"},"comment_count":0,"down_vote_count":3,"up_vote_count":0,"is_accepted":false,"score":-3,"last_activity_date":1387639693,"creation_date":1383728787,"answer_id":19807812,"question_id":2233656,"body_markdown":"BY ABDULHAYEE:\r\n\r\nNoClassDefFoundError in Java comes when Java Virtual Machine is not able to find a particular class at runtime which was available during compile time. For example if we have a method call from a class or accessing any static member of a Class and that class is not available during run-time then JVM will throw NoClassDefFoundError. It’s important to understand that this is different than ClassNotFoundException which comes while trying to load a class at run-time only and name was provided during runtime not on compile time. Many Java developer mingle this two Error and gets confused.\r\n\r\nIn short NoClassDefFoundError will come if a class was present during compile time but not available in java classpath during runtime. Normally you will see below line in log when you get NoClassDefFoundError:\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError\r\nException in thread “main” simply indicate that its “main” thread which is not able to find a particular class it could be any thread so just don’t worry . Difference between this error coming in main thread and other thread is , whenException in thread “main” comes program crashes or shut it self down as opposed to other thread in which case your program will continue to run.,\r\n\r\nRead more: http://javarevisited.blogspot.com/2011/06/noclassdeffounderror-exception-in.html#ixzz2jr35SsaZ\r\n","title":"Strange &quot;java.lang.NoClassDefFoundError&quot; in Eclipse","body":"<p>BY ABDULHAYEE:</p>\n\n<p>NoClassDefFoundError in Java comes when Java Virtual Machine is not able to find a particular class at runtime which was available during compile time. For example if we have a method call from a class or accessing any static member of a Class and that class is not available during run-time then JVM will throw NoClassDefFoundError. It’s important to understand that this is different than ClassNotFoundException which comes while trying to load a class at run-time only and name was provided during runtime not on compile time. Many Java developer mingle this two Error and gets confused.</p>\n\n<p>In short NoClassDefFoundError will come if a class was present during compile time but not available in java classpath during runtime. Normally you will see below line in log when you get NoClassDefFoundError:\nException in thread \"main\" java.lang.NoClassDefFoundError\nException in thread “main” simply indicate that its “main” thread which is not able to find a particular class it could be any thread so just don’t worry . Difference between this error coming in main thread and other thread is , whenException in thread “main” comes program crashes or shut it self down as opposed to other thread in which case your program will continue to run.,</p>\n\n<p>Read more: <a href=\"http://javarevisited.blogspot.com/2011/06/noclassdeffounderror-exception-in.html#ixzz2jr35SsaZ\" rel=\"nofollow\">http://javarevisited.blogspot.com/2011/06/noclassdeffounderror-exception-in.html#ixzz2jr35SsaZ</a></p>\n"},{"tags":[],"owner":{"account_id":7469406,"reputation":1241,"user_id":5677857,"display_name":"neonidian"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459329978,"creation_date":1459329763,"answer_id":36304614,"question_id":2233656,"body_markdown":"This worked for me in **eclipse**:\r\n\r\n 1. Goto Project -&gt; Properties\r\n 2. Click on Source tab\r\n 3. Clear the checkbox -&gt; Allow output folders for source folders\r\n 4. Apply the changes and run the project","title":"Strange &quot;java.lang.NoClassDefFoundError&quot; in Eclipse","body":"<p>This worked for me in <strong>eclipse</strong>:</p>\n\n<ol>\n<li>Goto Project -> Properties</li>\n<li>Click on Source tab</li>\n<li>Clear the checkbox -> Allow output folders for source folders</li>\n<li>Apply the changes and run the project</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":8940614,"reputation":1,"user_id":6669799,"display_name":"Richard"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1470177379,"creation_date":1470177379,"answer_id":38731575,"question_id":2233656,"body_markdown":"Another occasion of when java.lang.NoClassDefFoundError may happen is during the second/subsequent attempts to instantiate the class after the first attempt failed for some other exception or error.\r\nThe class loader seems to cache knowledge that it was not able to instantiate the class on the first attempt but not the reason why. Thus it reports NoClassDefFoundError.\r\n\r\nSo it&#39;s a good idea to make sure there were not errors/exceptions with an earlier attempt at instantiating the class before going down a rabbit hole trying to troubleshoot the NoClassDefFoundError.","title":"Strange &quot;java.lang.NoClassDefFoundError&quot; in Eclipse","body":"<p>Another occasion of when java.lang.NoClassDefFoundError may happen is during the second/subsequent attempts to instantiate the class after the first attempt failed for some other exception or error.\nThe class loader seems to cache knowledge that it was not able to instantiate the class on the first attempt but not the reason why. Thus it reports NoClassDefFoundError.</p>\n\n<p>So it's a good idea to make sure there were not errors/exceptions with an earlier attempt at instantiating the class before going down a rabbit hole trying to troubleshoot the NoClassDefFoundError.</p>\n"},{"tags":[],"owner":{"account_id":7422293,"reputation":45,"user_id":5646145,"display_name":"Vachirakorn Rungsikawanich"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477630498,"creation_date":1477630498,"answer_id":40298269,"question_id":2233656,"body_markdown":"If you are using Eclipse try Project&gt;clean and then try to restart the server","title":"Strange &quot;java.lang.NoClassDefFoundError&quot; in Eclipse","body":"<p>If you are using Eclipse try Project>clean and then try to restart the server</p>\n"},{"tags":[],"owner":{"account_id":1000309,"reputation":932,"user_id":1015324,"accept_rate":0,"display_name":"Anoop Isaac"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494261479,"creation_date":1494261479,"answer_id":43852899,"question_id":2233656,"body_markdown":"For me the issue was I had configured another folder under &quot;Run configurations&quot; which had a class without the latest changes. Once I got it removed referred to the correct bin folder, it started working. Hope it helps someone.\r\n","title":"Strange &quot;java.lang.NoClassDefFoundError&quot; in Eclipse","body":"<p>For me the issue was I had configured another folder under \"Run configurations\" which had a class without the latest changes. Once I got it removed referred to the correct bin folder, it started working. Hope it helps someone.</p>\n"},{"comments":[{"owner":{"account_id":1129881,"reputation":11551,"user_id":1116230,"display_name":"Nico Haase"},"score":0,"creation_date":1696574166,"post_id":66555024,"comment_id":136173058,"body_markdown":"You were facing a Java error in a C++ project? That sounds pretty weird to me. Can you share more details such that others can learn from your answer?","body":"You were facing a Java error in a C++ project? That sounds pretty weird to me. Can you share more details such that others can learn from your answer?"}],"tags":[],"owner":{"account_id":2690885,"reputation":477,"user_id":2324276,"accept_rate":93,"display_name":"Tim M"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1615325265,"creation_date":1615325265,"answer_id":66555024,"question_id":2233656,"body_markdown":"For me (with c++ in eclipse) this happened because the .h was in a different window to the .cpp file. ","title":"Strange &quot;java.lang.NoClassDefFoundError&quot; in Eclipse","body":"<p>For me (with c++ in eclipse) this happened because the .h was in a different window to the .cpp file.</p>\n"}],"owner":{"account_id":123871,"reputation":4275,"user_id":318599,"accept_rate":62,"display_name":"Anto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158704,"favorite_count":0,"down_vote_count":2,"up_vote_count":48,"answer_count":22,"score":46,"last_activity_date":1696573880,"creation_date":1265762881,"question_id":2233656,"body_markdown":"I have a Java project in Eclipse perfectly running smoothly until this afternoon, when I updated some files (including a ant build.xml file). When I build the project, the following error appears:\r\n\r\n    java.lang.NoClassDefFoundError: proj/absa/FrontEnd/ApplicationStarter\r\n    Caused by: java.lang.ClassNotFoundException: proj.absa.FrontEnd.ApplicationStarter\r\n        at java.net.URLClassLoader$1.run(Unknown Source)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at java.net.URLClassLoader.findClass(Unknown Source) at\r\n        java.lang.ClassLoader.loadClass(Unknown Source)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)  \r\n    Exception in thread &quot;main&quot; \r\n\r\nDoes anyone have a clue where the problem may be?","title":"Strange &quot;java.lang.NoClassDefFoundError&quot; in Eclipse","body":"<p>I have a Java project in Eclipse perfectly running smoothly until this afternoon, when I updated some files (including a ant build.xml file). When I build the project, the following error appears:</p>\n\n<pre><code>java.lang.NoClassDefFoundError: proj/absa/FrontEnd/ApplicationStarter\nCaused by: java.lang.ClassNotFoundException: proj.absa.FrontEnd.ApplicationStarter\n    at java.net.URLClassLoader$1.run(Unknown Source)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(Unknown Source) at\n    java.lang.ClassLoader.loadClass(Unknown Source)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n    at java.lang.ClassLoader.loadClass(Unknown Source)  \nException in thread \"main\" \n</code></pre>\n\n<p>Does anyone have a clue where the problem may be?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"score":17,"creation_date":1355181838,"post_id":13811020,"comment_id":19001511,"body_markdown":"It says its trying to compile `Main.java` not the `WeatherArray.java`","body":"It says its trying to compile <code>Main.java</code> not the <code>WeatherArray.java</code>"},{"owner":{"account_id":1683554,"reputation":4234,"user_id":1547278,"accept_rate":95,"display_name":"Chris Frank"},"score":0,"creation_date":1355181873,"post_id":13811020,"comment_id":19001523,"body_markdown":"I am on Mac OSX using eclipse.","body":"I am on Mac OSX using eclipse."},{"owner":{"account_id":1075496,"reputation":22388,"user_id":1073758,"accept_rate":75,"display_name":"moonwave99"},"score":9,"creation_date":1355181904,"post_id":13811020,"comment_id":19001532,"body_markdown":"1. be sure your filename respects the case of the class name;\n\n2. get rid of all the nested `while` loops, or I will kill a lot of kittens tonight.","body":"1. be sure your filename respects the case of the class name;  2. get rid of all the nested <code>while</code> loops, or I will kill a lot of kittens tonight."},{"owner":{"account_id":1662560,"reputation":6894,"user_id":1530549,"accept_rate":81,"display_name":"Scooter"},"score":0,"creation_date":1355182673,"post_id":13811020,"comment_id":19001746,"body_markdown":"What command does Eclipse execute to get the above error?","body":"What command does Eclipse execute to get the above error?"},{"owner":{"account_id":1683554,"reputation":4234,"user_id":1547278,"accept_rate":95,"display_name":"Chris Frank"},"score":0,"creation_date":1355182704,"post_id":13811020,"comment_id":19001751,"body_markdown":"I used ideone.com to get the error","body":"I used ideone.com to get the error"},{"owner":{"account_id":15298630,"reputation":1,"user_id":11037867,"display_name":"Jim Makhonko"},"score":0,"creation_date":1549771327,"post_id":13811020,"comment_id":96020563,"body_markdown":"man you have to create new class using RMB src-new-newClass","body":"man you have to create new class using RMB src-new-newClass"}],"answers":[{"comments":[{"owner":{"account_id":1683554,"reputation":4234,"user_id":1547278,"accept_rate":95,"display_name":"Chris Frank"},"score":2,"creation_date":1355181945,"post_id":13811050,"comment_id":19001543,"body_markdown":"Where would Main.java be located in the file structure?","body":"Where would Main.java be located in the file structure?"},{"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"score":4,"creation_date":1355182086,"post_id":13811050,"comment_id":19001584,"body_markdown":"If you don&#39;t have a `public class Main` there is no `Main.java`. Don&#39;t confuse a main class with a `main` method. Your `main` method is in `WeatherArray.java`. Also, I think your nested while&#39;s should be sequential `if` statements.","body":"If you don&#39;t have a <code>public class Main</code> there is no <code>Main.java</code>. Don&#39;t confuse a main class with a <code>main</code> method. Your <code>main</code> method is in <code>WeatherArray.java</code>. Also, I think your nested while&#39;s should be sequential <code>if</code> statements."},{"owner":{"account_id":1683554,"reputation":4234,"user_id":1547278,"accept_rate":95,"display_name":"Chris Frank"},"score":0,"creation_date":1355182150,"post_id":13811050,"comment_id":19001607,"body_markdown":"Ok thank you that helped a lot. I will defiantly remove all the nested while loops.","body":"Ok thank you that helped a lot. I will defiantly remove all the nested while loops."},{"owner":{"account_id":1894536,"reputation":54819,"user_id":1711796,"accept_rate":100,"display_name":"Bernhard Barker"},"score":0,"creation_date":1509888171,"post_id":13811050,"comment_id":81193711,"body_markdown":"It could also work to make the class non-public by removing `public` (but this would cause some issues if you&#39;re trying to use the class from a different package).","body":"It could also work to make the class non-public by removing <code>public</code> (but this would cause some issues if you&#39;re trying to use the class from a different package)."}],"tags":[],"owner":{"account_id":1944253,"reputation":37590,"user_id":1749753,"display_name":"jlordo"},"comment_count":4,"down_vote_count":0,"up_vote_count":102,"is_accepted":true,"score":102,"last_activity_date":1569665919,"creation_date":1355181916,"answer_id":13811050,"question_id":13811020,"body_markdown":"Name of public class must match the name of **.java** file in which it is placed (like `public class Foo{}` must be placed in `Foo.java` file). So either:\r\n\r\n- rename your *file* from `Main.java` to `WeatherArray.java`\r\n- rename the *class* from `public class WeatherArray {` to `public class Main {`","title":"Error: class X is public should be declared in a file named X.java","body":"<p>Name of public class must match the name of <strong>.java</strong> file in which it is placed (like <code>public class Foo{}</code> must be placed in <code>Foo.java</code> file). So either:</p>\n\n<ul>\n<li>rename your <em>file</em> from <code>Main.java</code> to <code>WeatherArray.java</code></li>\n<li>rename the <em>class</em> from <code>public class WeatherArray {</code> to <code>public class Main {</code></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1862362,"reputation":2641,"user_id":1686706,"accept_rate":88,"display_name":"BostonJohn"},"comment_count":0,"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1355181939,"creation_date":1355181939,"answer_id":13811053,"question_id":13811020,"body_markdown":"The name of the public class within a file has to be the same as the name of that file. \r\n\r\nSo if your file declares class WeatherArray, it needs to be named WeatherArray.java","title":"Error: class X is public should be declared in a file named X.java","body":"<p>The name of the public class within a file has to be the same as the name of that file. </p>\n\n<p>So if your file declares class WeatherArray, it needs to be named WeatherArray.java</p>\n"},{"tags":[],"owner":{"account_id":1025295,"reputation":46067,"user_id":1034737,"accept_rate":80,"display_name":"PermGenError"},"comment_count":0,"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1355181962,"creation_date":1355181962,"answer_id":13811061,"question_id":13811020,"body_markdown":"You named your file as **Main.java**. name your file as **WeatherArray.java** and compile.","title":"Error: class X is public should be declared in a file named X.java","body":"<p>You named your file as <strong>Main.java</strong>. name your file as <strong>WeatherArray.java</strong> and compile.</p>\n"},{"tags":[],"owner":{"account_id":1005212,"reputation":28568,"user_id":1019167,"accept_rate":92,"display_name":"AlexWien"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1355182031,"creation_date":1355182031,"answer_id":13811072,"question_id":13811020,"body_markdown":"your file is named **Main.java** where it should be \r\n\r\n&gt; WeatherArray.java","title":"Error: class X is public should be declared in a file named X.java","body":"<p>your file is named <strong>Main.java</strong> where it should be </p>\n\n<blockquote>\n  <p>WeatherArray.java</p>\n</blockquote>\n"},{"comments":[{"owner":{"account_id":1894536,"reputation":54819,"user_id":1711796,"accept_rate":100,"display_name":"Bernhard Barker"},"score":0,"creation_date":1509887496,"post_id":31012875,"comment_id":81193477,"body_markdown":"It doesn&#39;t seem likely that a lack of admin rights can cause this error.","body":"It doesn&#39;t seem likely that a lack of admin rights can cause this error."}],"tags":[],"owner":{"account_id":6516407,"reputation":1,"user_id":5042083,"display_name":"Rohan Kumar"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1435091303,"creation_date":1435091303,"answer_id":31012875,"question_id":13811020,"body_markdown":"The answer is quite simple. It lies in your admin rights. before compiling your java code you need to open the command prompt with run as administrator. then compile your code. no need to change anything in your code. the name of the class need to be the same as the name of the java file.. that&#39;s it!! \r\n","title":"Error: class X is public should be declared in a file named X.java","body":"<p>The answer is quite simple. It lies in your admin rights. before compiling your java code you need to open the command prompt with run as administrator. then compile your code. no need to change anything in your code. the name of the class need to be the same as the name of the java file.. that's it!! </p>\n"},{"tags":[],"owner":{"account_id":194597,"reputation":41281,"user_id":437039,"accept_rate":89,"display_name":"sandalone"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1436965525,"creation_date":1436965525,"answer_id":31431242,"question_id":13811020,"body_markdown":"This happens when you have 1 name for the Java class on hard disk and another name of Java class in the code!!\r\n\r\nFor example, I renamed my `MainActivity` class to `MainnActivity` only (!) in the code. I got this error immediately.\r\n\r\nThere is also a visual indicator in the Project tab of Android Studio - a class inside a class, like you have nested classed, but with an error indicator. \r\n\r\n![][1]\r\n\r\nThe solution is to simply rename class name in the Project tab (`SHIFT` + `F6`) to match the name in the Java code.\r\n\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/V7QLm.png","title":"Error: class X is public should be declared in a file named X.java","body":"<p>This happens when you have 1 name for the Java class on hard disk and another name of Java class in the code!!</p>\n\n<p>For example, I renamed my <code>MainActivity</code> class to <code>MainnActivity</code> only (!) in the code. I got this error immediately.</p>\n\n<p>There is also a visual indicator in the Project tab of Android Studio - a class inside a class, like you have nested classed, but with an error indicator. </p>\n\n<p><img src=\"https://i.stack.imgur.com/V7QLm.png\" alt=\"\"></p>\n\n<p>The solution is to simply rename class name in the Project tab (<code>SHIFT</code> + <code>F6</code>) to match the name in the Java code.</p>\n"},{"comments":[{"owner":{"account_id":4356593,"reputation":5306,"user_id":3555000,"accept_rate":68,"display_name":"Enamul Hassan"},"score":0,"creation_date":1469614726,"post_id":38609412,"comment_id":64606653,"body_markdown":"it is actually a comment","body":"it is actually a comment"},{"owner":{"account_id":1894536,"reputation":54819,"user_id":1711796,"accept_rate":100,"display_name":"Bernhard Barker"},"score":1,"creation_date":1509888409,"post_id":38609412,"comment_id":81193791,"body_markdown":"If there&#39;s another file with the same name, it will probably overwrite it or give other errors. If you are trying to compile the new file, the advice given in the other answers is all that&#39;s needed - just rename the file or class, if there&#39;s another file that prevents renaming it, you obviously need to get it out of the way first.","body":"If there&#39;s another file with the same name, it will probably overwrite it or give other errors. If you are trying to compile the new file, the advice given in the other answers is all that&#39;s needed - just rename the file or class, if there&#39;s another file that prevents renaming it, you obviously need to get it out of the way first."}],"tags":[],"owner":{"account_id":8900364,"reputation":1,"user_id":6644005,"display_name":"Sangoo"},"comment_count":2,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1503489023,"creation_date":1469612791,"answer_id":38609412,"question_id":13811020,"body_markdown":"when you named your file **WeatherArray.java**,maybe you have another file on hard disk ,so you can rename **WeatherArray.java** as **ReWeatherArray.java**, then rename **ReWeatherArray.java** as **WeatherArray.java**. it will be ok.","title":"Error: class X is public should be declared in a file named X.java","body":"<p>when you named your file <strong>WeatherArray.java</strong>,maybe you have another file on hard disk ,so you can rename <strong>WeatherArray.java</strong> as <strong>ReWeatherArray.java</strong>, then rename <strong>ReWeatherArray.java</strong> as <strong>WeatherArray.java</strong>. it will be ok.</p>\n"},{"comments":[{"owner":{"account_id":1894536,"reputation":54819,"user_id":1711796,"accept_rate":100,"display_name":"Bernhard Barker"},"score":0,"creation_date":1509887657,"post_id":43365089,"comment_id":81193527,"body_markdown":"This doesn&#39;t appear to add anything to the 5 answers posted 2-5 years earlier saying the class name needs to match the file name, especially [one of them](https://stackoverflow.com/a/31431242/1711796) which already mentioned a spelling mistake in the class name.","body":"This doesn&#39;t appear to add anything to the 5 answers posted 2-5 years earlier saying the class name needs to match the file name, especially <a href=\"https://stackoverflow.com/a/31431242/1711796\">one of them</a> which already mentioned a spelling mistake in the class name."}],"tags":[],"owner":{"account_id":10670178,"reputation":1,"user_id":7855481,"display_name":"dhiraja gunjal"},"comment_count":1,"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1491997998,"creation_date":1491987984,"answer_id":43365089,"question_id":13811020,"body_markdown":"error example:\r\n\r\n    public class MaainActivity extends Activity {\r\n\r\n      @Override\r\n      public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        // Get the view from activity_main.xml\r\n        setContentView(R.layout.activity_main);\r\n\r\n      }\r\n    }\r\ncorrect example:just make sure that you written correct name of activity that is&quot;main activity&quot; \r\n\r\n\r\n    public class MainActivity extends Activity {\r\n\r\n\r\n      @Override\r\n      public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        // Get the view from activity_main.xml\r\n        setContentView(R.layout.activity_main);\r\n\r\n      }\r\n    }","title":"Error: class X is public should be declared in a file named X.java","body":"<p>error example:</p>\n\n<pre><code>public class MaainActivity extends Activity {\n\n  @Override\n  public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    // Get the view from activity_main.xml\n    setContentView(R.layout.activity_main);\n\n  }\n}\n</code></pre>\n\n<p>correct example:just make sure that you written correct name of activity that is\"main activity\" </p>\n\n<pre><code>public class MainActivity extends Activity {\n\n\n  @Override\n  public void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    // Get the view from activity_main.xml\n    setContentView(R.layout.activity_main);\n\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7884540,"reputation":547,"user_id":5957143,"display_name":"abc123"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1517349891,"creation_date":1517349891,"answer_id":48531292,"question_id":13811020,"body_markdown":"I my case, I was using syncthing. It created a duplicate that I was not aware of and my compilation was failing.","title":"Error: class X is public should be declared in a file named X.java","body":"<p>I my case, I was using syncthing. It created a duplicate that I was not aware of and my compilation was failing.</p>\n"},{"tags":[],"owner":{"account_id":12857956,"reputation":17,"user_id":9300718,"display_name":"Rahat Batool"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520870691,"creation_date":1520869530,"answer_id":49239255,"question_id":13811020,"body_markdown":"To avoid this error you should follow the following steps:\r\n\r\n    1) You should make a new java class\r\n![You should make a new java class.][1]\r\n\r\n    2) Name that class\r\n![Name that class][2]\r\n\r\n    3) And a new java class is made\r\n![And a new java class is made][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hx38L.png\r\n  [2]: https://i.stack.imgur.com/NB5o5.png\r\n  [3]: https://i.stack.imgur.com/Xf7rP.png","title":"Error: class X is public should be declared in a file named X.java","body":"<p>To avoid this error you should follow the following steps:</p>\n\n<pre><code>1) You should make a new java class\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/hx38L.png\" alt=\"You should make a new java class.\"></p>\n\n<pre><code>2) Name that class\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/NB5o5.png\" alt=\"Name that class\"></p>\n\n<pre><code>3) And a new java class is made\n</code></pre>\n\n<p><img src=\"https://i.stack.imgur.com/Xf7rP.png\" alt=\"And a new java class is made\"></p>\n"},{"tags":[],"owner":{"account_id":7637556,"reputation":789,"user_id":5790669,"display_name":"Yash P Shah"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525364334,"creation_date":1525364334,"answer_id":50159693,"question_id":13811020,"body_markdown":"I encountered the same error once. It was really funny. I had created a backup of the .java file with different filename but the same class name. And kept on trying to build it till I checked all the files in my folder.","title":"Error: class X is public should be declared in a file named X.java","body":"<p>I encountered the same error once. It was really funny. I had created a backup of the .java file with different filename but the same class name. And kept on trying to build it till I checked all the files in my folder.</p>\n"},{"tags":[],"owner":{"account_id":8631943,"reputation":4386,"user_id":6463291,"display_name":"Ng Sek Long"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531716127,"creation_date":1531716127,"answer_id":51354697,"question_id":13811020,"body_markdown":"In my case (using IntelliJ) I copy and pasted and renamed the workspace, and I am still using the old path to compile the new project.\r\n\r\nIn this case this particular error will happen too, if you have the same error you can check if you have done the similar things.","title":"Error: class X is public should be declared in a file named X.java","body":"<p>In my case (using IntelliJ) I copy and pasted and renamed the workspace, and I am still using the old path to compile the new project.</p>\n\n<p>In this case this particular error will happen too, if you have the same error you can check if you have done the similar things.</p>\n"},{"tags":[],"owner":{"account_id":14221588,"reputation":383,"user_id":10273708,"display_name":"Dylan"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1548429714,"creation_date":1548429714,"answer_id":54368177,"question_id":13811020,"body_markdown":"The terminal is not case sensitive when writing &quot;Javac [x].java&quot;, so make sure what you write in the terminal matches the filename and class name.\r\n\r\nMy class name and file name were both &quot;MainClass&quot;, but I was compiling using &quot;Mainclass&quot;. Notice I forgot to make the &quot;c&quot; capital.","title":"Error: class X is public should be declared in a file named X.java","body":"<p>The terminal is not case sensitive when writing \"Javac [x].java\", so make sure what you write in the terminal matches the filename and class name.</p>\n\n<p>My class name and file name were both \"MainClass\", but I was compiling using \"Mainclass\". Notice I forgot to make the \"c\" capital.</p>\n"},{"tags":[],"owner":{"account_id":16586876,"reputation":57,"user_id":11986058,"display_name":"Warren Feeney"},"comment_count":0,"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1566939479,"creation_date":1566939479,"answer_id":57682183,"question_id":13811020,"body_markdown":"I had the same problem but solved it when I realized that I didn&#39;t compile it with the correct casing. You may have been doing\r\n\r\n&gt; javac Weatherarray.java\r\n\r\nwhen it should have been\r\n\r\n&gt; javac WeatherArray.java","title":"Error: class X is public should be declared in a file named X.java","body":"<p>I had the same problem but solved it when I realized that I didn't compile it with the correct casing. You may have been doing</p>\n\n<blockquote>\n  <p>javac Weatherarray.java</p>\n</blockquote>\n\n<p>when it should have been</p>\n\n<blockquote>\n  <p>javac WeatherArray.java</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":13089576,"reputation":468,"user_id":9457521,"display_name":"NotTooTechy"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578589058,"creation_date":1578587826,"answer_id":59668475,"question_id":13811020,"body_markdown":"From Ubuntu command line:\n\n    //WeatherArray.java\n    public class WeatherArray {\n      public static void main(String[] args) {\n        System.out.println(&quot;....Hello World&quot;);\n    }}\n\n&gt; ls\n\nWeatherArray.java\n&gt; javac WeatherArray.java\n&gt;\n&gt; ls \n\nWeatherArray.java  WeatherArray.class\n\n&gt; java WeatherArray\n\n....Hello World\n\nOf course if you name your java file with different name than WeatherArray, you need to take out public and it would be:\n\n    // Sunny.java\n    class WeatherArray {\n       public static void main(String[] args) {\n          System.out.println(&quot;....Hello World&quot;); }}\n    // javac Sunny.java; java WeatherArray","title":"Error: class X is public should be declared in a file named X.java","body":"<p>From Ubuntu command line:</p>\n<pre><code>//WeatherArray.java\npublic class WeatherArray {\n  public static void main(String[] args) {\n    System.out.println(&quot;....Hello World&quot;);\n}}\n</code></pre>\n<blockquote>\n<p>ls</p>\n</blockquote>\n<p>WeatherArray.java</p>\n<blockquote>\n<p>javac WeatherArray.java</p>\n<p>ls</p>\n</blockquote>\n<p>WeatherArray.java  WeatherArray.class</p>\n<blockquote>\n<p>java WeatherArray</p>\n</blockquote>\n<p>....Hello World</p>\n<p>Of course if you name your java file with different name than WeatherArray, you need to take out public and it would be:</p>\n<pre><code>// Sunny.java\nclass WeatherArray {\n   public static void main(String[] args) {\n      System.out.println(&quot;....Hello World&quot;); }}\n// javac Sunny.java; java WeatherArray\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16027396,"reputation":1,"user_id":12003027,"display_name":"Sachin Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1625082432,"creation_date":1625082432,"answer_id":68200800,"question_id":13811020,"body_markdown":"If you make WeatherArray class from public to default.\r\n\r\n**public class WeatherArray**  =====&gt; **class WeatherArray** \r\n\r\nthen you do not get any error and \r\nyou can easily compile your code by just writing\r\n\r\n==&gt; **javac any_name_you_assign_to_file.java**\r\n\r\nNow a WeatherArray.class will generate.\r\n\r\nTo run your code you have to use class name\r\n\r\n==&gt; **java WeatherArray**\r\n\r\n","title":"Error: class X is public should be declared in a file named X.java","body":"<p>If you make WeatherArray class from public to default.</p>\n<p><strong>public class WeatherArray</strong>  =====&gt; <strong>class WeatherArray</strong></p>\n<p>then you do not get any error and\nyou can easily compile your code by just writing</p>\n<p>==&gt; <strong>javac any_name_you_assign_to_file.java</strong></p>\n<p>Now a WeatherArray.class will generate.</p>\n<p>To run your code you have to use class name</p>\n<p>==&gt; <strong>java WeatherArray</strong></p>\n"},{"tags":[],"owner":{"account_id":8212780,"reputation":173,"user_id":6180243,"display_name":"iamfnizami"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626181270,"creation_date":1626181270,"answer_id":68362943,"question_id":13811020,"body_markdown":"Compile WeatherArray.java instead of Main.java\r\n\r\nThis error comes if you have not saved your source code with the same name of your public class name.\r\n","title":"Error: class X is public should be declared in a file named X.java","body":"<p>Compile WeatherArray.java instead of Main.java</p>\n<p>This error comes if you have not saved your source code with the same name of your public class name.</p>\n"},{"tags":[],"owner":{"account_id":2505018,"reputation":65,"user_id":2179002,"display_name":"answer42"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631393442,"creation_date":1631393442,"answer_id":69146632,"question_id":13811020,"body_markdown":"If your class name is the same as the filename then check that it does not contain any zero width character\r\n\r\nI accidentally copied a class name with invisible whitespace which caused this exception\r\n\r\nEclipse was able to build the file and Gradle was not\r\n\r\nThis can be very confusing\r\n","title":"Error: class X is public should be declared in a file named X.java","body":"<p>If your class name is the same as the filename then check that it does not contain any zero width character</p>\n<p>I accidentally copied a class name with invisible whitespace which caused this exception</p>\n<p>Eclipse was able to build the file and Gradle was not</p>\n<p>This can be very confusing</p>\n"},{"tags":[],"owner":{"account_id":24439946,"reputation":51,"user_id":18363770,"display_name":"Yuvraj Singh"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662644801,"creation_date":1662151883,"answer_id":73587830,"question_id":13811020,"body_markdown":"Yes! When you face these type of problem then try to following points\r\n\r\n - Check Your **.java** file name and class name. \r\n - If Class name and public class name are not the same then **RENAME** class name.\r\n\r\n","title":"Error: class X is public should be declared in a file named X.java","body":"<p>Yes! When you face these type of problem then try to following points</p>\n<ul>\n<li>Check Your <strong>.java</strong> file name and class name.</li>\n<li>If Class name and public class name are not the same then <strong>RENAME</strong> class name.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":2341655,"reputation":721,"user_id":2052806,"accept_rate":42,"display_name":"BinCodinLong"},"comment_count":0,"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679055456,"creation_date":1679055456,"answer_id":75767498,"question_id":13811020,"body_markdown":"Check to make sure you don&#39;t have two identical -- or\r\nvery nearly identical -- files in your res/layout folder.","title":"Error: class X is public should be declared in a file named X.java","body":"<p>Check to make sure you don't have two identical -- or\nvery nearly identical -- files in your res/layout folder.</p>\n"},{"tags":[],"owner":{"account_id":14349390,"reputation":659,"user_id":10365380,"display_name":"Rohaitas Tanoli"},"comment_count":0,"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1696573066,"creation_date":1681113827,"answer_id":75975325,"question_id":13811020,"body_markdown":"Just experience this issue today. Thanks to viewBinding.\r\n\r\nProblem was the autoGenerated binding. I had two xml files\r\n\r\n - one_two.xml\r\n - onetwo.xml \r\n\r\n**Solution # 1 :** Just use\r\n\r\n    tools:viewBindingIgnore=&quot;true&quot;\r\nin any one file.\r\n\r\n**Solution  # 2 :**\r\n\r\n    Rename the xml file\r\n\r\n","title":"Error: class X is public should be declared in a file named X.java","body":"<p>Just experience this issue today. Thanks to viewBinding.</p>\n<p>Problem was the autoGenerated binding. I had two xml files</p>\n<ul>\n<li>one_two.xml</li>\n<li>onetwo.xml</li>\n</ul>\n<p><strong>Solution # 1 :</strong> Just use</p>\n<pre><code>tools:viewBindingIgnore=&quot;true&quot;\n</code></pre>\n<p>in any one file.</p>\n<p><strong>Solution  # 2 :</strong></p>\n<pre><code>Rename the xml file\n</code></pre>\n"}],"owner":{"account_id":1683554,"reputation":4234,"user_id":1547278,"accept_rate":95,"display_name":"Chris Frank"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":571045,"favorite_count":0,"down_vote_count":2,"up_vote_count":75,"accepted_answer_id":13811050,"answer_count":21,"score":73,"last_activity_date":1696573066,"creation_date":1355181745,"question_id":13811020,"body_markdown":"I am trying to write a program, but I&#39;m getting this compiler error:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    Main.java:1: error: class WeatherArray is public, should be declared in a file named WeatherArray.java\r\n    public class WeatherArray {\r\n           ^\r\n    1 error\r\n\r\nI have checked my file names, and my public class is the same as my .java file.\r\n\r\nHow can I fix this?\r\n\r\nHere is my code:\r\n\r\n    public class WeatherArray {\r\n    \tpublic static void main(String[] args) {\r\n            // ...\r\n    \t}\r\n    }\r\n\r\n  [1]: http://i.stack.imgur.com/9Qky0.png\r\n","title":"Error: class X is public should be declared in a file named X.java","body":"<p>I am trying to write a program, but I'm getting this compiler error:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>Main.java:1: error: class WeatherArray is public, should be declared in a file named WeatherArray.java\npublic class WeatherArray {\n       ^\n1 error\n</code></pre>\n\n<p>I have checked my file names, and my public class is the same as my .java file.</p>\n\n<p>How can I fix this?</p>\n\n<p>Here is my code:</p>\n\n<pre><code>public class WeatherArray {\n    public static void main(String[] args) {\n        // ...\n    }\n}\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9993,"page":141,"page_size":100}
